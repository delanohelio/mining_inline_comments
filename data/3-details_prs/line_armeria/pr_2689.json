{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzNTcxOTY0", "number": 2689, "title": "Update to Micrometer 1.5.1 LTS", "bodyText": "Uses the new distribution config methods that are compatible from 1.3 up to 1.5 and beyond.\nRemoves the fork of ExecutorServiceMetrics. I left out isMonitoredExecutor - it's not entirely clear whether we shouldn't add metrics again with our prefix even if a user already is monitoring the input executor. And anyways, double-wrapped callable in a very rare case doesn't seem worth using a library's internal API.", "createdAt": "2020-05-05T15:00:27Z", "url": "https://github.com/line/armeria/pull/2689", "merged": true, "mergeCommit": {"oid": "da056d033807a7777c8270190fdd1fae6d4b78ae"}, "closed": true, "closedAt": "2020-05-12T05:54:44Z", "author": {"login": "anuraaga"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceVX2YAH2gAyNDEzNTcxOTY0OmVlZTQxNjQwMTJlODEwMDQyMzAxZGJjM2VhMmJiMWJiMjFjN2JmNTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgHaaxgFqTQwODg0MjMwOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "eee4164012e810042301dbc3ea2bb1bb21c7bf52", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/line/armeria/commit/eee4164012e810042301dbc3ea2bb1bb21c7bf52", "committedDate": "2020-05-05T14:57:52Z", "message": "Update to Micrometer 1.5.0"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2Mjc5NjE3", "url": "https://github.com/line/armeria/pull/2689#pullrequestreview-406279617", "createdAt": "2020-05-06T03:09:07Z", "commit": {"oid": "eee4164012e810042301dbc3ea2bb1bb21c7bf52"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMzowOTowN1rOGRCpMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMzowOTowN1rOGRCpMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUyMjI5MA==", "bodyText": "Could you revive this check only for TimedScheduledExecutorService, TimedExecutorService and TimedExecutor?\n#2612 (comment)", "url": "https://github.com/line/armeria/pull/2689#discussion_r420522290", "createdAt": "2020-05-06T03:09:07Z", "author": {"login": "ikhoon"}, "path": "core/src/main/java/com/linecorp/armeria/server/ServerConfig.java", "diffHunk": "@@ -155,11 +155,9 @@\n                                    gracefulShutdownQuietPeriod, \"gracefulShutdownQuietPeriod\");\n \n         requireNonNull(blockingTaskExecutor, \"blockingTaskExecutor\");\n-        if (!ExecutorServiceMetrics.isMonitoredExecutor(blockingTaskExecutor)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eee4164012e810042301dbc3ea2bb1bb21c7bf52"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b393698af78fe5355fc672a593ba2afe3e614110", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/line/armeria/commit/b393698af78fe5355fc672a593ba2afe3e614110", "committedDate": "2020-05-06T03:16:52Z", "message": "check style"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2MjgxNjIw", "url": "https://github.com/line/armeria/pull/2689#pullrequestreview-406281620", "createdAt": "2020-05-06T03:18:29Z", "commit": {"oid": "b393698af78fe5355fc672a593ba2afe3e614110"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2MjkzNTg3", "url": "https://github.com/line/armeria/pull/2689#pullrequestreview-406293587", "createdAt": "2020-05-06T04:13:19Z", "commit": {"oid": "b393698af78fe5355fc672a593ba2afe3e614110"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5d726e2dc0c6b388db4bfd2e710b3dd913b5ae0", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/line/armeria/commit/f5d726e2dc0c6b388db4bfd2e710b3dd913b5ae0", "committedDate": "2020-05-06T04:23:05Z", "message": "Bump micrometer for spring"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2Mjk1ODQ2", "url": "https://github.com/line/armeria/pull/2689#pullrequestreview-406295846", "createdAt": "2020-05-06T04:23:42Z", "commit": {"oid": "f5d726e2dc0c6b388db4bfd2e710b3dd913b5ae0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwNDoyMzo0MlrOGRDlRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwNDoyMzo0MlrOGRDlRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDUzNzY3MQ==", "bodyText": "@shakuzen Any thoughts on mixing LTS versions like this?", "url": "https://github.com/line/armeria/pull/2689#discussion_r420537671", "createdAt": "2020-05-06T04:23:42Z", "author": {"login": "anuraaga"}, "path": "spring/boot1-autoconfigure/build.gradle", "diffHunk": "@@ -1,19 +1,24 @@\n final def SPRING_BOOT_VERSION = '1.5.22.RELEASE'\n-final def MICROMETER_VERSION = '1.3.6'\n+final def MICROMETER_VERSION = '1.5.0'\n \n dependencies {\n     // To let a user choose between thrift and thrift0.9.\n     compileOnly project(':thrift')\n     implementation project(':logback')\n \n-    [ 'micrometer-core', 'micrometer-spring-legacy' ].each {\n-        implementation(\"io.micrometer:$it\") {\n-            version {\n-                // Will fail the build if the override doesn't work\n-                strictly MICROMETER_VERSION\n-            }\n+    implementation(\"io.micrometer:micrometer-spring-legacy\") {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5d726e2dc0c6b388db4bfd2e710b3dd913b5ae0"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3OTI4MTQy", "url": "https://github.com/line/armeria/pull/2689#pullrequestreview-407928142", "createdAt": "2020-05-08T00:46:04Z", "commit": {"oid": "f5d726e2dc0c6b388db4bfd2e710b3dd913b5ae0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a7df292c5db458198a722e15315091ad93a58ca", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/line/armeria/commit/9a7df292c5db458198a722e15315091ad93a58ca", "committedDate": "2020-05-10T09:29:42Z", "message": "1.5.1 / 1.3.9"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4ODQyMzA4", "url": "https://github.com/line/armeria/pull/2689#pullrequestreview-408842308", "createdAt": "2020-05-11T03:49:51Z", "commit": {"oid": "9a7df292c5db458198a722e15315091ad93a58ca"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 446, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}