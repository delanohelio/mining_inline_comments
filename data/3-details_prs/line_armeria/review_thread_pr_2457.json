{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxNzU3MzY1", "number": 2457, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwNjowMjoxM1rODd64xg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwNjowNDoxMFrODd65wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMyNzAwMTAyOnYy", "diffSide": "LEFT", "path": "gradle.properties", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwNjowMjoxM1rOFmzDvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwNjowOTo0NVrOFmzJ1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjIyNjc1MA==", "bodyText": "Could you explain why this has been removed?", "url": "https://github.com/line/armeria/pull/2457#discussion_r376226750", "createdAt": "2020-02-07T06:02:13Z", "author": {"login": "trustin"}, "path": "gradle.properties", "diffHunk": "@@ -23,7 +23,6 @@ googleAnalyticsId=UA-145425527-1\n \n # Gradle options\n org.gradle.jvmargs=-Xmx1280m\n-org.gradle.configureondemand=true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c94d77f48031e5fa7c75de8ee1dd4a48f70b386"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjIyODMxMA==", "bodyText": "Oops completely forgot to explain - added to PR description", "url": "https://github.com/line/armeria/pull/2457#discussion_r376228310", "createdAt": "2020-02-07T06:09:45Z", "author": {"login": "anuraaga"}, "path": "gradle.properties", "diffHunk": "@@ -23,7 +23,6 @@ googleAnalyticsId=UA-145425527-1\n \n # Gradle options\n org.gradle.jvmargs=-Xmx1280m\n-org.gradle.configureondemand=true", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjIyNjc1MA=="}, "originalCommit": {"oid": "0c94d77f48031e5fa7c75de8ee1dd4a48f70b386"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMyNzAwMjQ1OnYy", "diffSide": "RIGHT", "path": "gradle/scripts/README.md", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwNjowMzoyNlrOFmzEnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwNjoxNzoyMVrOFmzQCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjIyNjk3NQ==", "bodyText": "How about adding an alias task to the root project?", "url": "https://github.com/line/armeria/pull/2457#discussion_r376226975", "createdAt": "2020-02-07T06:03:26Z", "author": {"login": "trustin"}, "path": "gradle/scripts/README.md", "diffHunk": "@@ -213,7 +213,7 @@ boms:\n applied so you can conveniently check if your dependencies are out of date:\n \n ```\n-$ ./gradlew dependencyUpdates -Drevision=release\n+$ ./gradlew dependencyManagement:dependencyUpdates", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c94d77f48031e5fa7c75de8ee1dd4a48f70b386"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjIyODUyNQ==", "bodyText": "Went ahead and just removed the path so the task is run when there's no colon. Should we add an alias too or is this ok?", "url": "https://github.com/line/armeria/pull/2457#discussion_r376228525", "createdAt": "2020-02-07T06:10:54Z", "author": {"login": "anuraaga"}, "path": "gradle/scripts/README.md", "diffHunk": "@@ -213,7 +213,7 @@ boms:\n applied so you can conveniently check if your dependencies are out of date:\n \n ```\n-$ ./gradlew dependencyUpdates -Drevision=release\n+$ ./gradlew dependencyManagement:dependencyUpdates", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjIyNjk3NQ=="}, "originalCommit": {"oid": "0c94d77f48031e5fa7c75de8ee1dd4a48f70b386"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjIyOTg5OA==", "bodyText": "I think it's OK.", "url": "https://github.com/line/armeria/pull/2457#discussion_r376229898", "createdAt": "2020-02-07T06:17:21Z", "author": {"login": "trustin"}, "path": "gradle/scripts/README.md", "diffHunk": "@@ -213,7 +213,7 @@ boms:\n applied so you can conveniently check if your dependencies are out of date:\n \n ```\n-$ ./gradlew dependencyUpdates -Drevision=release\n+$ ./gradlew dependencyManagement:dependencyUpdates", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjIyNjk3NQ=="}, "originalCommit": {"oid": "0c94d77f48031e5fa7c75de8ee1dd4a48f70b386"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMyNzAwMzU0OnYy", "diffSide": "RIGHT", "path": "gradle/scripts/lib/common-dependencies.gradle", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwNjowNDoxMFrOFmzFOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwNjowNDoxMFrOFmzFOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjIyNzEyOQ==", "bodyText": "Nice work!", "url": "https://github.com/line/armeria/pull/2457#discussion_r376227129", "createdAt": "2020-02-07T06:04:10Z", "author": {"login": "trustin"}, "path": "gradle/scripts/lib/common-dependencies.gradle", "diffHunk": "@@ -90,10 +97,45 @@ configure(dependencyManagementProject) {\n             }\n         }\n     }\n+\n+\n+    tasks {\n+        dependencyUpdates {\n+            revision = 'release'\n+\n+            resolutionStrategy {\n+                componentSelection { rules ->\n+                    rules.all { ComponentSelection selection ->\n+                        boolean rejected = ['alpha', 'beta', 'rc', 'cr', 'm', 'preview'].any { qualifier ->\n+                            selection.candidate.version ==~ /(?i).*[.-]${qualifier}[.\\d-]*/\n+                        }\n+                        if (rejected) {\n+                            selection.reject('Release candidate')\n+                        }\n+                    }\n+                }\n+            }\n+\n+            checkConstraints = true\n+\n+            // We have downgraded versions for legacy artifacts which versions plugin has no way of handling.\n+            // But we can provide a reminder to manually check for updates.\n+            doLast {\n+                logger.quiet \"Don't forget to check the following for updates to legacy version downgrades\"\n+                managedDependencyOverrides.each { override ->\n+                    def (group, artifact, version) = override.split(':')\n+                    def parts = version.split('\\\\.')\n+                    if (parts.length >= 2) {\n+                        logger.quiet \"${artifact} is currently version ${version}\"\n+                        logger.quiet \"https://search.maven.org/search?q=g:${group}%20a:${artifact}%20v:${parts[0]}.${parts[1]}.*\\n\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c94d77f48031e5fa7c75de8ee1dd4a48f70b386"}, "originalPosition": 66}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2991, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}