{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0MTAyNDg4", "number": 2691, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwNzo0MDoxNFrOD6IOFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwNzo0MDozNVrOD6IOhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyMjc4Njc4OnYy", "diffSide": "RIGHT", "path": "jetty/src/main/java/com/linecorp/armeria/server/jetty/ArmeriaConnector.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwNzo0MDoxNFrOGRyNQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxMzoyODozMFrOGTcO9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTMwMTU3MA==", "bodyText": "You can return SystemInfo.hostname().", "url": "https://github.com/line/armeria/pull/2691#discussion_r421301570", "createdAt": "2020-05-07T07:40:14Z", "author": {"login": "trustin"}, "path": "jetty/src/main/java/com/linecorp/armeria/server/jetty/ArmeriaConnector.java", "diffHunk": "@@ -61,6 +63,17 @@ public Object getTransport() {\n \n     @Override\n     public String getHost() {\n+        //noinspection ConstantConditions\n+        if (armeriaServer == null) {\n+            // This method could be called during ServerConnector construction (for diagnostic purposes)\n+            // BEFORE {@code armeriaServer} gets assigned. In such case case,\n+            // return some reasonable mockup value in order to prevent NPE.\n+            try {\n+                return InetAddress.getLocalHost().getHostName();\n+            } catch (UnknownHostException e) {\n+                return \"\";\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c3dd6a499c9c34b0e691c85cbd6ea5ebfb9cdd03"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzAzODcwOQ==", "bodyText": "Fixed", "url": "https://github.com/line/armeria/pull/2691#discussion_r423038709", "createdAt": "2020-05-11T13:28:30Z", "author": {"login": "max904-github"}, "path": "jetty/src/main/java/com/linecorp/armeria/server/jetty/ArmeriaConnector.java", "diffHunk": "@@ -61,6 +63,17 @@ public Object getTransport() {\n \n     @Override\n     public String getHost() {\n+        //noinspection ConstantConditions\n+        if (armeriaServer == null) {\n+            // This method could be called during ServerConnector construction (for diagnostic purposes)\n+            // BEFORE {@code armeriaServer} gets assigned. In such case case,\n+            // return some reasonable mockup value in order to prevent NPE.\n+            try {\n+                return InetAddress.getLocalHost().getHostName();\n+            } catch (UnknownHostException e) {\n+                return \"\";\n+            }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTMwMTU3MA=="}, "originalCommit": {"oid": "c3dd6a499c9c34b0e691c85cbd6ea5ebfb9cdd03"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyMjc4Nzg4OnYy", "diffSide": "RIGHT", "path": "jetty/src/test/java/com/linecorp/armeria/server/jetty/JettyServiceStartupTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QwNzo0MDozNVrOGRyN_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxMzoyODozN1rOGTcPRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTMwMTc1OA==", "bodyText": "2020 \ud83d\ude09", "url": "https://github.com/line/armeria/pull/2691#discussion_r421301758", "createdAt": "2020-05-07T07:40:35Z", "author": {"login": "trustin"}, "path": "jetty/src/test/java/com/linecorp/armeria/server/jetty/JettyServiceStartupTest.java", "diffHunk": "@@ -0,0 +1,138 @@\n+/*\n+ * Copyright 2016 LINE Corporation", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c3dd6a499c9c34b0e691c85cbd6ea5ebfb9cdd03"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzAzODc5MA==", "bodyText": "Fixed", "url": "https://github.com/line/armeria/pull/2691#discussion_r423038790", "createdAt": "2020-05-11T13:28:37Z", "author": {"login": "max904-github"}, "path": "jetty/src/test/java/com/linecorp/armeria/server/jetty/JettyServiceStartupTest.java", "diffHunk": "@@ -0,0 +1,138 @@\n+/*\n+ * Copyright 2016 LINE Corporation", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTMwMTc1OA=="}, "originalCommit": {"oid": "c3dd6a499c9c34b0e691c85cbd6ea5ebfb9cdd03"}, "originalPosition": 2}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2579, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}