{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1NzM0MDM5", "number": 3034, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQwNzozMTowM1rOEexVag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNzowNDoyOFrOEgziyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwNzAxMDM0OnYy", "diffSide": "RIGHT", "path": "spring/boot2-webflux-autoconfigure/src/main/java/com/linecorp/armeria/spring/web/reactive/ArmeriaReactiveWebServerFactory.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQwNzozMTowM1rOHKpBaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQwNzozMTowM1rOHKpBaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDkxOTkxNQ==", "bodyText": "Could you use a ternary operator(? : ) instead of firstNonNull to avoid creating an extra object?", "url": "https://github.com/line/armeria/pull/3034#discussion_r480919915", "createdAt": "2020-09-01T07:31:03Z", "author": {"login": "ikhoon"}, "path": "spring/boot2-webflux-autoconfigure/src/main/java/com/linecorp/armeria/spring/web/reactive/ArmeriaReactiveWebServerFactory.java", "diffHunk": "@@ -259,7 +260,9 @@ private void configureArmeriaService(ServerBuilder sb, DocServiceBuilder docServ\n         configurePorts(sb, settings.getPorts());\n         configureServerWithArmeriaSettings(sb, settings,\n                                            firstNonNull(findBean(MeterRegistry.class), Metrics.globalRegistry),\n-                                           findBeans(HealthChecker.class));\n+                                           findBeans(HealthChecker.class),\n+                                           firstNonNull(findBean(MeterIdPrefixFunction.class),\n+                                                        MeterIdPrefixFunction.ofDefault(\"armeria.server\")));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "537e1447ea5fe468dc4356f9cd28e64645f39616"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyODM0Mzc2OnYy", "diffSide": "RIGHT", "path": "spring/boot2-autoconfigure/src/test/java/com/linecorp/armeria/spring/ArmeriaAutoConfigurationTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNzowNDoyOFrOHNyjsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNzowNDoyOFrOHNyjsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIyMTg3NA==", "bodyText": "How about using a non-default prefix name, e.g. custom.grpc.server?", "url": "https://github.com/line/armeria/pull/3034#discussion_r484221874", "createdAt": "2020-09-07T07:04:28Z", "author": {"login": "trustin"}, "path": "spring/boot2-autoconfigure/src/test/java/com/linecorp/armeria/spring/ArmeriaAutoConfigurationTest.java", "diffHunk": "@@ -151,6 +153,11 @@ public DocServiceConfigurator helloGrpcServiceExamples() {\n                              .exampleHeaders(HelloServiceGrpc.SERVICE_NAME, \"Hello\",\n                                              HttpHeaders.of(\"x-additional-header\", \"headerVal\"));\n         }\n+\n+        @Bean\n+        public MeterIdPrefixFunction myMeterIdPrefixFunction() {\n+            return GrpcMeterIdPrefixFunction.of(\"armeria.server\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80c521c6dda933700367f79c716da68fe5c953d4"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1846, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}