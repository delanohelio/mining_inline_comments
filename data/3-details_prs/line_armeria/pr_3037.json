{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc2MDM4ODYz", "number": 3037, "title": "Add `RequiredDependencies` component", "bodyText": "Motivation:\nIt's cumbersome to add the same dependencies for Gradle and Maven respectively, in the documentation.\nIf we add a React component which shows the dependencies for Gradle and Maven by just defining the dependencies,\nit would be a lot easier.\nModifications:\n\nAdd RequriedDependencies React component.\nAdd required dependencies in the documentation\n\nI didn't add one for gRPC and Thrift because\n\nwe have a link to the example which shows the build script.\nthere are a lot of more stuffs to add except the dependencies so I want to users rather find the example and use it.\n\n\n\n\n\nResult:\n\nClose #3027", "createdAt": "2020-08-31T04:38:22Z", "url": "https://github.com/line/armeria/pull/3037", "merged": true, "mergeCommit": {"oid": "14078714659814a8d34cc9fbca15ee011524c4dc"}, "closed": true, "closedAt": "2020-09-20T14:14:42Z", "author": {"login": "minwoox"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdELOXpgH2gAyNDc2MDM4ODYzOjg3ODEyNWU0MTYxMDM3NDhlMjYwODQzNTY5MTk4Yzg1MDU0YTNkOTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdKvdohgFqTQ5MjE5NzcwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "878125e416103748e260843569198c85054a3d92", "author": {"user": {"login": "minwoox", "name": "minux"}}, "url": "https://github.com/line/armeria/commit/878125e416103748e260843569198c85054a3d92", "committedDate": "2020-08-31T04:37:35Z", "message": "Add `RequiredDependencies` component\nMotivation:\nIt's cumbersome to add the same dependencies for Gradle and Maven respectively, in the documentation.\nIf we add a React component which shows the dependencies for Gradle and Maven by just defining the dependencies,\nit would be a lot easier.\n\nModifications:\n- Add `RequriedDependencies` React component.\n- Add required dependencies in the documentation\n  - I didn't add one for gRPC and Thrift because\n    - we have a link to the example which shows the build script.\n    - there are a lot of more stuffs to add except the dependencies so I want to users rather find the example and use it.\n\nResult:\n- Close #3027"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "986c8c43049a53f20fd21f7c6e7300a04e291fdd", "author": {"user": {"login": "minwoox", "name": "minux"}}, "url": "https://github.com/line/armeria/commit/986c8c43049a53f20fd21f7c6e7300a04e291fdd", "committedDate": "2020-08-31T07:23:45Z", "message": "Address the comment by @ikhoon"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4MzU5NDk2", "url": "https://github.com/line/armeria/pull/3037#pullrequestreview-478359496", "createdAt": "2020-08-31T06:50:11Z", "commit": {"oid": "878125e416103748e260843569198c85054a3d92"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQwNjo1MDoxMVrOHJsmcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQwNzoyMDowMFrOHJtYQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTkyOTk2OA==", "bodyText": "? \ud83d\ude09\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  return `    implementation platform('${bom.groupId}:${bom.artifactId}:${versions[key]}')`;\n          \n          \n            \n                  return `    implementation platform('${key}:${versions[key]}')`;", "url": "https://github.com/line/armeria/pull/3037#discussion_r479929968", "createdAt": "2020-08-31T06:50:11Z", "author": {"login": "ikhoon"}, "path": "site/src/components/required-dependencies.tsx", "diffHunk": "@@ -0,0 +1,96 @@\n+import React from 'react';\n+import { Tabs as AntdTabs } from 'antd';\n+import CodeBlock from './code-block';\n+import versionsJson from '../../gen-src/versions.json';\n+\n+const versions: any = versionsJson;\n+\n+interface Dependency {\n+  groupId: string;\n+  artifactId: string;\n+}\n+\n+interface RequiredDependenciesProps {\n+  boms?: Dependency[];\n+  dependencies: Dependency[];\n+}\n+\n+function groovyBom(boms: Dependency[]) {\n+  return `${boms\n+    .map((bom) => {\n+      const key = `${bom.groupId}:${bom.artifactId}`;\n+      return `    implementation platform('${bom.groupId}:${bom.artifactId}:${versions[key]}')`;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "878125e416103748e260843569198c85054a3d92"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTkzODgxMA==", "bodyText": "Could use key name without quote\"?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              boms={[{\"groupId\":\"com.linecorp.armeria\", \"artifactId\":\"armeria-bom\"},\n          \n          \n            \n              boms={[{groupId:\"com.linecorp.armeria\", artifactId:\"armeria-bom\"},", "url": "https://github.com/line/armeria/pull/3037#discussion_r479938810", "createdAt": "2020-08-31T07:10:54Z", "author": {"login": "ikhoon"}, "path": "site/src/pages/docs/advanced-dropwizard-integration.mdx", "diffHunk": "@@ -24,47 +24,10 @@ application integrates with Armeria, you can leverage the following:\n Armeria can be plugged in as the underlying HTTP server for a Dropwizard application by adding\n the following dependency:\n \n-<Tabs>\n-  <TabPane tab=\"Gradle\" key=\"gradle\">\n-    <CodeBlock language=\"groovy\" filename=\"build.gradle\">{`\n-      dependencyManagement {\n-          imports {\n-              mavenBom 'com.linecorp.armeria:armeria-bom:${versions['com.linecorp.armeria:armeria-bom']}'\n-              mavenBom 'io.dropwizard:dropwizard-bom:${versions['io.dropwizard:dropwizard-core']}'\n-          }\n-      }\\n\n-      dependencies {\n-          implementation 'com.linecorp.armeria:armeria-dropwizard2'\n-      }\n-    `}</CodeBlock>\n-  </TabPane>\n-  <TabPane tab=\"Maven\" key=\"maven\">\n-    <CodeBlock language=\"xml\" filename=\"pom.xml\">{`\n-      <dependencyManagement>\n-        <dependencies>\n-          <dependency>\n-            <groupId>com.linecorp.armeria</groupId>\n-            <artifactId>armeria-bom</artifactId>\n-            <version>${versions['com.linecorp.armeria:armeria-bom']}</version>\n-            <type>pom</type>\n-            <scope>import</scope>\n-          </dependency>\n-          <dependency>\n-            <groupId>io.dropwizard</groupId>\n-            <artifactId>dropwizard-bom</artifactId>\n-            <version>${versions['io.dropwizard:dropwizard-core']}</version>\n-            <type>pom</type>\n-            <scope>import</scope>\n-          </dependency>\n-        </dependencies>\n-      </dependencyManagement>\\n\n-      <dependency>\n-          <groupId>com.linecorp.armeria</groupId>\n-          <artifactId>armeria-dropwizard2</artifactId>\n-      </dependency>\n-    `}</CodeBlock>\n-  </TabPane>\n-</Tabs>\n+<RequiredDependencies\n+  boms={[{\"groupId\":\"com.linecorp.armeria\", \"artifactId\":\"armeria-bom\"},", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "878125e416103748e260843569198c85054a3d92"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTk0MjEzNA==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/line/armeria/pull/3037#discussion_r479942134", "createdAt": "2020-08-31T07:18:38Z", "author": {"login": "ikhoon"}, "path": "site/src/pages/docs/server-thrift.mdx", "diffHunk": "@@ -1,5 +1,11 @@\n # Running a Thrift service\n \n+<Tip>\n+\n+Visit [armeria-examples](https://github.com/line/armeria-examples) to find a fully working example.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "878125e416103748e260843569198c85054a3d92"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTk0MjcyMQ==", "bodyText": "nit: suspending function?\nhttps://kotlinlang.org/docs/reference/coroutines/composing-suspending-functions.html", "url": "https://github.com/line/armeria/pull/3037#discussion_r479942721", "createdAt": "2020-08-31T07:20:00Z", "author": {"login": "ikhoon"}, "path": "site/src/pages/docs/server-annotated-service.mdx", "diffHunk": "@@ -1432,14 +1432,13 @@ for more information about RPC and HTTP service names, and how to use it.\n ## Kotlin coroutines support\n \n You can implement annotated services with [Kotlin coroutines](https://kotlinlang.org/docs/reference/coroutines-overview.html)\n-by adding the following dependencies.\n+by adding the following dependency:\n \n-```groovy\n-dependencies {\n-    implementation 'com.linecorp.armeria:armeria'\n-    implementation 'com.linecorp.armeria:armeria-kotlin'\n-}\n-```\n+<RequiredDependencies\n+   boms={[{\"groupId\":\"com.linecorp.armeria\", \"artifactId\":\"armeria-bom\"}]}\n+   dependencies={[{\"groupId\":\"com.linecorp.armeria\", \"artifactId\":\"armeria-kotlin\"}]} />\n+\n+Then, define the suspend function:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "878125e416103748e260843569198c85054a3d92"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "195548db3b7e1166bdb32e90a7196258c8caff2c", "author": {"user": {"login": "minwoox", "name": "minux"}}, "url": "https://github.com/line/armeria/commit/195548db3b7e1166bdb32e90a7196258c8caff2c", "committedDate": "2020-08-31T07:58:22Z", "message": "Address comments by @ikhoon"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e57e9ad2bb8eb71913f3188cce8d16e9e4b14bde", "author": {"user": {"login": "minwoox", "name": "minux"}}, "url": "https://github.com/line/armeria/commit/e57e9ad2bb8eb71913f3188cce8d16e9e4b14bde", "committedDate": "2020-08-31T12:04:19Z", "message": "Remove unused imports"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5NDEwNzk3", "url": "https://github.com/line/armeria/pull/3037#pullrequestreview-479410797", "createdAt": "2020-09-01T05:31:02Z", "commit": {"oid": "e57e9ad2bb8eb71913f3188cce8d16e9e4b14bde"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzMjkwMDMy", "url": "https://github.com/line/armeria/pull/3037#pullrequestreview-483290032", "createdAt": "2020-09-07T07:05:36Z", "commit": {"oid": "e57e9ad2bb8eb71913f3188cce8d16e9e4b14bde"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNzowNTozNlrOHNyl5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNzowNzoyM1rOHNyoww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIyMjQzOA==", "bodyText": "groovy -> gradle", "url": "https://github.com/line/armeria/pull/3037#discussion_r484222438", "createdAt": "2020-09-07T07:05:36Z", "author": {"login": "trustin"}, "path": "site/src/components/required-dependencies.tsx", "diffHunk": "@@ -0,0 +1,109 @@\n+import React from 'react';\n+import { Tabs as AntdTabs } from 'antd';\n+import CodeBlock from './code-block';\n+import versionsJson from '../../gen-src/versions.json';\n+\n+const versions: any = versionsJson;\n+\n+interface Dependency {\n+  groupId: string;\n+  artifactId: string;\n+  version?: string;\n+}\n+\n+interface RequiredDependenciesProps {\n+  boms?: Dependency[];\n+  dependencies: Dependency[];\n+}\n+\n+function groovyBom(boms: Dependency[]) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e57e9ad2bb8eb71913f3188cce8d16e9e4b14bde"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIyMjk3Mw==", "bodyText": "Global comment: Perhaps better formatting like eslint would?", "url": "https://github.com/line/armeria/pull/3037#discussion_r484222973", "createdAt": "2020-09-07T07:06:57Z", "author": {"login": "trustin"}, "path": "site/src/pages/docs/advanced-dropwizard-integration.mdx", "diffHunk": "@@ -24,47 +24,10 @@ application integrates with Armeria, you can leverage the following:\n Armeria can be plugged in as the underlying HTTP server for a Dropwizard application by adding\n the following dependency:\n \n-<Tabs>\n-  <TabPane tab=\"Gradle\" key=\"gradle\">\n-    <CodeBlock language=\"groovy\" filename=\"build.gradle\">{`\n-      dependencyManagement {\n-          imports {\n-              mavenBom 'com.linecorp.armeria:armeria-bom:${versions['com.linecorp.armeria:armeria-bom']}'\n-              mavenBom 'io.dropwizard:dropwizard-bom:${versions['io.dropwizard:dropwizard-core']}'\n-          }\n-      }\\n\n-      dependencies {\n-          implementation 'com.linecorp.armeria:armeria-dropwizard2'\n-      }\n-    `}</CodeBlock>\n-  </TabPane>\n-  <TabPane tab=\"Maven\" key=\"maven\">\n-    <CodeBlock language=\"xml\" filename=\"pom.xml\">{`\n-      <dependencyManagement>\n-        <dependencies>\n-          <dependency>\n-            <groupId>com.linecorp.armeria</groupId>\n-            <artifactId>armeria-bom</artifactId>\n-            <version>${versions['com.linecorp.armeria:armeria-bom']}</version>\n-            <type>pom</type>\n-            <scope>import</scope>\n-          </dependency>\n-          <dependency>\n-            <groupId>io.dropwizard</groupId>\n-            <artifactId>dropwizard-bom</artifactId>\n-            <version>${versions['io.dropwizard:dropwizard-core']}</version>\n-            <type>pom</type>\n-            <scope>import</scope>\n-          </dependency>\n-        </dependencies>\n-      </dependencyManagement>\\n\n-      <dependency>\n-          <groupId>com.linecorp.armeria</groupId>\n-          <artifactId>armeria-dropwizard2</artifactId>\n-      </dependency>\n-    `}</CodeBlock>\n-  </TabPane>\n-</Tabs>\n+<RequiredDependencies\n+  boms={[{groupId:\"com.linecorp.armeria\", artifactId:\"armeria-bom\"},\n+         {groupId:\"io.dropwizard\", artifactId:\"dropwizard-bom\", version:`${versions['io.dropwizard:dropwizard-core']}`}]}\n+  dependencies={[{groupId:\"com.linecorp.armeria\", artifactId:\"armeria-dropwizard2\"}]} />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e57e9ad2bb8eb71913f3188cce8d16e9e4b14bde"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIyMzE3MQ==", "bodyText": "The above configuration defines ?", "url": "https://github.com/line/armeria/pull/3037#discussion_r484223171", "createdAt": "2020-09-07T07:07:23Z", "author": {"login": "trustin"}, "path": "site/src/pages/docs/advanced-logging.mdx", "diffHunk": "@@ -41,7 +47,7 @@ For example, the following configuration:\n </configuration>\n ```\n \n-will define an appender called `RCEA` which exports the following:\n+The configuration defines an appender called `RCEA` which exports the following:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e57e9ad2bb8eb71913f3188cce8d16e9e4b14bde"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f34c17b8054d41b0defe892f5e71ca44f80bf523", "author": {"user": {"login": "minwoox", "name": "minux"}}, "url": "https://github.com/line/armeria/commit/f34c17b8054d41b0defe892f5e71ca44f80bf523", "committedDate": "2020-09-14T02:12:06Z", "message": "Address comments by @trustin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e10d0b221efa0394eb43c221342021bd943bfc40", "author": {"user": {"login": "minwoox", "name": "minux"}}, "url": "https://github.com/line/armeria/commit/e10d0b221efa0394eb43c221342021bd943bfc40", "committedDate": "2020-09-14T02:12:21Z", "message": "Merge branch 'master' into requiredDependencies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c66c39134b86f9b23f4b1a35956d64b35687a98b", "author": {"user": {"login": "minwoox", "name": "minux"}}, "url": "https://github.com/line/armeria/commit/c66c39134b86f9b23f4b1a35956d64b35687a98b", "committedDate": "2020-09-14T02:27:32Z", "message": "Add dependencies for zookeeper and eureka"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb2f78a38ec8181ca7c122ddd37c1f96b5ae1ae7", "author": {"user": {"login": "minwoox", "name": "minux"}}, "url": "https://github.com/line/armeria/commit/fb2f78a38ec8181ca7c122ddd37c1f96b5ae1ae7", "committedDate": "2020-09-14T06:27:23Z", "message": "Fix lint"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyMTk3NzA1", "url": "https://github.com/line/armeria/pull/3037#pullrequestreview-492197705", "createdAt": "2020-09-20T14:14:23Z", "commit": {"oid": "fb2f78a38ec8181ca7c122ddd37c1f96b5ae1ae7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4613, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}