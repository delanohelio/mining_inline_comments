{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3MTgwNDIw", "number": 2515, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxMzo1MDowMlrODhE5KQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwNTo1NTo0N1rODhY1dg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MDA5NzY5OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/com/linecorp/armeria/common/logging/RequestContextExporter.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxMzo1MDowMlrOFrowcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxMzo1NjowNlrOFro-IA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTMwMDg1MA==", "bodyText": "Please address about this ctx.id().text()\nRequestId class also has shortText() for human-readable. I think later one is better, but this can make people confuse if two id is nearly same.", "url": "https://github.com/line/armeria/pull/2515#discussion_r381300850", "createdAt": "2020-02-19T13:50:02Z", "author": {"login": "JunoJunho"}, "path": "core/src/main/java/com/linecorp/armeria/common/logging/RequestContextExporter.java", "diffHunk": "@@ -423,6 +427,10 @@ private static String getAuthority(RequestContext ctx, HttpHeaders headers) {\n         return null;\n     }\n \n+    private static void exportId(Map<String, String> out, RequestContext ctx) {\n+        putBuiltInProperty(out, REQ_ID, ctx.id().text());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab505a32516dc427e442654096cd40c7c0e60edd"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTMwNDM1Mg==", "bodyText": "I'd lean towards using full, not human readable. This is often used for searching logs based on the ID so precision is nice.", "url": "https://github.com/line/armeria/pull/2515#discussion_r381304352", "createdAt": "2020-02-19T13:56:06Z", "author": {"login": "anuraaga"}, "path": "core/src/main/java/com/linecorp/armeria/common/logging/RequestContextExporter.java", "diffHunk": "@@ -423,6 +427,10 @@ private static String getAuthority(RequestContext ctx, HttpHeaders headers) {\n         return null;\n     }\n \n+    private static void exportId(Map<String, String> out, RequestContext ctx) {\n+        putBuiltInProperty(out, REQ_ID, ctx.id().text());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTMwMDg1MA=="}, "originalCommit": {"oid": "ab505a32516dc427e442654096cd40c7c0e60edd"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2MzM2NTAyOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/com/linecorp/armeria/common/logging/BuiltInProperty.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQwNTo1NTo0N1rOFsGLAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxNDozNTozOFrOFsVtCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTc4Mjc4NA==", "bodyText": "{@code \"req.id\"} - the request ID. ?", "url": "https://github.com/line/armeria/pull/2515#discussion_r381782784", "createdAt": "2020-02-20T05:55:47Z", "author": {"login": "trustin"}, "path": "core/src/main/java/com/linecorp/armeria/common/logging/BuiltInProperty.java", "diffHunk": "@@ -90,6 +90,10 @@\n      * The port number is omitted when it is same with the default port number of the current {@link Scheme}.\n      */\n     REQ_AUTHORITY(\"req.authority\"),\n+    /**\n+     * {@code \"req.id\"} - the id of the request.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab505a32516dc427e442654096cd40c7c0e60edd"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTk4NzM3NQ==", "bodyText": "Hmm.. I wrote this comment in terms of consistency.\nI think it does not matter. If you want more it, I will edit it.\nBut I think current is okay to me.", "url": "https://github.com/line/armeria/pull/2515#discussion_r381987375", "createdAt": "2020-02-20T13:09:31Z", "author": {"login": "JunoJunho"}, "path": "core/src/main/java/com/linecorp/armeria/common/logging/BuiltInProperty.java", "diffHunk": "@@ -90,6 +90,10 @@\n      * The port number is omitted when it is same with the default port number of the current {@link Scheme}.\n      */\n     REQ_AUTHORITY(\"req.authority\"),\n+    /**\n+     * {@code \"req.id\"} - the id of the request.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTc4Mjc4NA=="}, "originalCommit": {"oid": "ab505a32516dc427e442654096cd40c7c0e60edd"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjAzNzI1Ng==", "bodyText": "It has to be ID at least. I updated the file for you.", "url": "https://github.com/line/armeria/pull/2515#discussion_r382037256", "createdAt": "2020-02-20T14:35:38Z", "author": {"login": "trustin"}, "path": "core/src/main/java/com/linecorp/armeria/common/logging/BuiltInProperty.java", "diffHunk": "@@ -90,6 +90,10 @@\n      * The port number is omitted when it is same with the default port number of the current {@link Scheme}.\n      */\n     REQ_AUTHORITY(\"req.authority\"),\n+    /**\n+     * {@code \"req.id\"} - the id of the request.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTc4Mjc4NA=="}, "originalCommit": {"oid": "ab505a32516dc427e442654096cd40c7c0e60edd"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2673, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}