{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0Nzg4NzM0", "number": 239, "title": "[PeerTube] added metadata, fix descriptions, fix thumbnail, fix upload date, fix age limit, update tests.", "bodyText": "Hi,\nI fixed some issues with PeerTube that we have now.\nAlso, I extracted metadata: host, privacy, licence, language, tags.\nFor YouTube, someone could extract privacy, category (and maybe tags) after this PR, that would be a nice thing.\nFixes TeamNewPipe/NewPipe#2201 (comment) 1. 2. and 5.\n3 is already fixed, and I plan to fix 4 (default instance only) and 6 with my future Frontend PR.\nTeamNewPipe/NewPipe#2201 (comment) I aimed to do that.\nSome in-app before/after screenshots:\nScreenshot from PeerTube website\nScreenshot from NewPipe (with my changes)\nThumbnail and description before\nThumbnail now\nDescription now\nBtw, for the fronted I already handled the fact we are not getting info:\nIf no metadata is extracted, it stays as it was before\nIf only some metadata are extracted, no problem\n\n I carefully read the contribution guidelines and agree to them.\n I did test the API against NewPipe.\n I agree to ASAP create a PULL request for NewPipe for making in compatible when I changed the api.", "createdAt": "2020-01-20T11:35:31Z", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/239", "merged": true, "mergeCommit": {"oid": "3add704f5df2175a2d6ceecb47564e8aa094c7e6"}, "closed": true, "closedAt": "2020-02-08T21:31:02Z", "author": {"login": "B0pol"}, "timelineItems": {"totalCount": 31, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb8KwoKgH2gAyMzY0Nzg4NzM0OmEyODE1MTllNzcxZDEzOWU3ZDZjZDFiN2Y2NGRlY2U5MmNiYjUxMjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcCasviAH2gAyMzY0Nzg4NzM0OjBlMzMyNDljODVkMmYyM2JlOWQ4YWE3ZmNjZDRiZGM0MDlhOGY4YWM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a281519e771d139e7d6cd1b7f64dece92cbb5124", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/a281519e771d139e7d6cd1b7f64dece92cbb5124", "committedDate": "2020-01-20T11:22:33Z", "message": "added metadata, fix descriptions, fix thumbnail, update tests\n\nthumbnail: quality before: https://peertube.cpy.re/static/thumbnails/d2a5ec78-5f85-4090-8ec5-dc1102e022ea.jpg\nquality after: https://peertube.cpy.re/static/previews/d2a5ec78-5f85-4090-8ec5-dc1102e022ea.jpg\n\ndescription: we were getting about the first 260 characters, we now get full description (with fallback to first 260 chars if the get request for full description fails)\ntest: updated tests to match description, also changed some test: it was assertEquals(extracted, expected), but the proper way to do it is assertEquals(expected, extracted)\n\nmetadata: got host, privacy (public, private, unlisted), licence, language, tags"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1MjgwNjIy", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/239#pullrequestreview-345280622", "createdAt": "2020-01-20T12:39:44Z", "commit": {"oid": "a281519e771d139e7d6cd1b7f64dece92cbb5124"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQxMjozOTo0NFrOFfdF_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQxMjozOTo0NFrOFfdF_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODUyNjg0NQ==", "bodyText": "We might want to check whether we have the full description before starting another download.\nI think it should be save to check whether the description ends with \"...\". I think the description's max length is 250 characters. But this should be validated.", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/239#discussion_r368526845", "createdAt": "2020-01-20T12:39:44Z", "author": {"login": "TobiGr"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/peertube/extractors/PeertubeStreamExtractor.java", "diffHunk": "@@ -66,16 +65,25 @@ public DateWrapper getUploadDate() throws ParsingException {\n  \n     @Override\n     public String getThumbnailUrl() throws ParsingException {\n-        return baseUrl + JsonUtils.getString(json, \"thumbnailPath\");\n+        return baseUrl + JsonUtils.getString(json, \"previewPath\");\n     }\n \n     @Override\n     public String getDescription() throws ParsingException {\n+        String description = \"\";\n+        Downloader dl = NewPipe.getDownloader();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a281519e771d139e7d6cd1b7f64dece92cbb5124"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b382416372add1c9420cf1657f67c9cae825751f", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/b382416372add1c9420cf1657f67c9cae825751f", "committedDate": "2020-01-20T13:36:12Z", "message": "changed the way to extract peertube description\n\nif the description length is above 254, and ends with ..., it means the description we got from the first request is shortened.\nwhy above 254: because in fact, shortened descriptions length are between 255 : https://framatube.org/videos/watch/24efbe1b-73c0-4d72-a3ff-77c8b32d3fcd\nhttps://framatube.org/videos/watch/1ca99f40-fb5b-4fa4-abe5-4d54325df7fc\nand 269: https://framatube.org/videos/watch/4d661d5f-a884-4510-bca8-15cb19aa3fe5\n\nalso fixed a typo in StreamExtractor.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad7f97ae836f89a0f555e1062e5cc3b5211b1dc3", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/ad7f97ae836f89a0f555e1062e5cc3b5211b1dc3", "committedDate": "2020-01-20T14:14:23Z", "message": "fix PeerTube description and add more description tests\n\nactually, the max description length is 250 after request with our extractor.\nduring my tests, I made API requests with Firefox, copy/pasted into echo \"insert description\" | wc, and it was giving a wrong length, maybe due to the escapers, I have no idea\nanyway, it's now fixed"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1Mzc1MjA5", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/239#pullrequestreview-345375209", "createdAt": "2020-01-20T15:15:10Z", "commit": {"oid": "ad7f97ae836f89a0f555e1062e5cc3b5211b1dc3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQxNToxNToxMVrOFfhetw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQxNToxNToxMVrOFfhetw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODU5ODcxMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (desc.length() == 250 && desc.substring(desc.length() - 3).equals(\"...\")) {\n          \n          \n            \n                    if (desc.length() == 250 && desc.substring(247).equals(\"...\")) {", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/239#discussion_r368598711", "createdAt": "2020-01-20T15:15:11Z", "author": {"login": "TobiGr"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/peertube/extractors/PeertubeStreamExtractor.java", "diffHunk": "@@ -66,16 +65,29 @@ public DateWrapper getUploadDate() throws ParsingException {\n  \n     @Override\n     public String getThumbnailUrl() throws ParsingException {\n-        return baseUrl + JsonUtils.getString(json, \"thumbnailPath\");\n+        return baseUrl + JsonUtils.getString(json, \"previewPath\");\n     }\n \n     @Override\n     public String getDescription() throws ParsingException {\n+        String desc;\n         try {\n-            return JsonUtils.getString(json, \"description\");\n-        }catch(ParsingException e) {\n+            desc = JsonUtils.getString(json, \"description\");\n+        } catch (ParsingException e) {\n             return \"No description\";\n         }\n+        if (desc.length() == 250 && desc.substring(desc.length() - 3).equals(\"...\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad7f97ae836f89a0f555e1062e5cc3b5211b1dc3"}, "originalPosition": 35}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f403490bd9ada2b19176ffc694d5b5ad405975b6", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/f403490bd9ada2b19176ffc694d5b5ad405975b6", "committedDate": "2020-01-20T20:28:26Z", "message": "Refactoring\n\nCo-Authored-By: Tobias Groza <TobiGr@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bcfe7be4e6a239b28144983008ee2e2a0ed73da6", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/bcfe7be4e6a239b28144983008ee2e2a0ed73da6", "committedDate": "2020-01-22T18:19:41Z", "message": "Merge branch 'dev' into peertube"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a15c0e750dc95fa0a92cc1c988e781e66631fa7", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/1a15c0e750dc95fa0a92cc1c988e781e66631fa7", "committedDate": "2020-01-23T03:42:54Z", "message": "agelimit now returns 18 if the video is marked as nsfw, 0 otherwise\n\n+ created getBoolean method in JsonUtils.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74439f692a234d89b5556e1949192f3f9681f840", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/74439f692a234d89b5556e1949192f3f9681f840", "committedDate": "2020-01-23T13:19:22Z", "message": "add extraction for support info and rename getLanguageInfo function"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20da4750f8f779e7fd8efaf9471b890cd47c75a7", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/20da4750f8f779e7fd8efaf9471b890cd47c75a7", "committedDate": "2020-01-23T13:37:14Z", "message": "empty support returns \"\", same for empty description"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a691d6d0fc4949ab1392082865416e83a04af341", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/a691d6d0fc4949ab1392082865416e83a04af341", "committedDate": "2020-01-23T18:02:40Z", "message": "fix upload date: there was a one hour delay\n\non peertube.co.uk: https://i.imgur.com/8Pai1rb.png\non newpipe, before this commit: https://i.imgur.com/NIRbs4Z.png\non newpipe, with this commit: https://i.ibb.co/mhKKtRD/Screenshot-20200123-185422-New-Pipe-Debug.png"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c790261eed4ba148b603325075bcbbfbd3e9b4c9", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/c790261eed4ba148b603325075bcbbfbd3e9b4c9", "committedDate": "2020-01-23T18:08:41Z", "message": "update test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "812c8e0ad25de2f1d3f5da16975cae1b145072f1", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/812c8e0ad25de2f1d3f5da16975cae1b145072f1", "committedDate": "2020-01-23T23:22:05Z", "message": "authorName in comments now follow PeerTube website\n\nhttps://peertube.cpy.re/videos/watch/d2a5ec78-5f85-4090-8ec5-dc1102e022ea\nanonyme zirbeldr\u00fcse is his displayName, what was displayed in NewPipe.\nbut on the website, it's shown 777@mastodon.xyz"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3NTY0Nzc2", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/239#pullrequestreview-347564776", "createdAt": "2020-01-23T19:51:11Z", "commit": {"oid": "1a15c0e750dc95fa0a92cc1c988e781e66631fa7"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QxOTo1MToxMVrOFhKptg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQxODo0MDozNVrOFhmxRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMyMTg0Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if(value instanceof Boolean) {\n          \n          \n            \n                    if (value instanceof Boolean) {", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/239#discussion_r370321846", "createdAt": "2020-01-23T19:51:11Z", "author": {"login": "TobiGr"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/utils/JsonUtils.java", "diffHunk": "@@ -37,6 +37,16 @@ public static String getString(@Nonnull JsonObject object, @Nonnull String path)\n             throw new ParsingException(\"Unable to get \" + path);\n         }\n     }\n+\n+    @Nonnull\n+    public static Boolean getBoolean(@Nonnull JsonObject object, @Nonnull String path) throws ParsingException{\n+        Object value = getValue(object, path);\n+        if(value instanceof Boolean) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a15c0e750dc95fa0a92cc1c988e781e66631fa7"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDMyMjE0Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    }else {\n          \n          \n            \n                    } else {", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/239#discussion_r370322142", "createdAt": "2020-01-23T19:51:40Z", "author": {"login": "TobiGr"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/utils/JsonUtils.java", "diffHunk": "@@ -37,6 +37,16 @@ public static String getString(@Nonnull JsonObject object, @Nonnull String path)\n             throw new ParsingException(\"Unable to get \" + path);\n         }\n     }\n+\n+    @Nonnull\n+    public static Boolean getBoolean(@Nonnull JsonObject object, @Nonnull String path) throws ParsingException{\n+        Object value = getValue(object, path);\n+        if(value instanceof Boolean) {\n+            return (Boolean) value;\n+        }else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a15c0e750dc95fa0a92cc1c988e781e66631fa7"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc3NzkyNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public List<String> getTags(){\n          \n          \n            \n                public List<String> getTags() {", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/239#discussion_r370777927", "createdAt": "2020-01-24T18:29:35Z", "author": {"login": "TobiGr"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/peertube/extractors/PeertubeStreamExtractor.java", "diffHunk": "@@ -224,15 +243,26 @@ public StreamInfoItemsCollector getRelatedStreams() throws IOException, Extracti\n         if(!StringUtil.isBlank(apiUrl)) getStreamsFromApi(collector, apiUrl);\n         return collector;\n     }\n-    \n-    private List<String> getTags(){\n+\n+    @Override\n+    public List<String> getTags(){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "812c8e0ad25de2f1d3f5da16975cae1b145072f1"}, "originalPosition": 78}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc4MDkyNw==", "bodyText": "I know, that PeerTube calls this privacy, but from my understanding, visibility or availability are better terms here, because both describe what impact the value of this method has.\n@Stypox @B0pol What do you think?", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/239#discussion_r370780927", "createdAt": "2020-01-24T18:36:39Z", "author": {"login": "TobiGr"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/stream/StreamExtractor.java", "diffHunk": "@@ -349,4 +350,72 @@ protected long getTimestampSeconds(String regexPattern) throws ParsingException\n             return 0;\n         }\n     }\n+\n+    /**\n+     * The host of the stream (Eg. peertube.cpy.re).\n+     * If the host is not available, or if the service doesn't use\n+     * a federated system, but a centralised system,\n+     * you can simply return an empty string.\n+     * @return the host of the stream or an empty String.\n+     * @throws ParsingException\n+     */\n+    @Nonnull\n+    public abstract String getHost() throws ParsingException;\n+\n+    /**\n+     * The privacy of the stream (Eg. Public, Private, Unlisted\u2026).\n+     * If the privacy is not available you can simply return an empty string.\n+     * @return the privacy of the stream or an empty String.\n+     * @throws ParsingException\n+     */\n+    @Nonnull\n+    public abstract String getPrivacy() throws ParsingException;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "812c8e0ad25de2f1d3f5da16975cae1b145072f1"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDc4MjUzNA==", "bodyText": "I think that theScrabi once tried to get this info from YouTube channels, too. Can you please look  whether there is a field in the channel extractor which provides support / donation info and alter the name if needed?", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/239#discussion_r370782534", "createdAt": "2020-01-24T18:40:35Z", "author": {"login": "TobiGr"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/stream/StreamExtractor.java", "diffHunk": "@@ -349,4 +350,72 @@ protected long getTimestampSeconds(String regexPattern) throws ParsingException\n             return 0;\n         }\n     }\n+\n+    /**\n+     * The host of the stream (Eg. peertube.cpy.re).\n+     * If the host is not available, or if the service doesn't use\n+     * a federated system, but a centralised system,\n+     * you can simply return an empty string.\n+     * @return the host of the stream or an empty String.\n+     * @throws ParsingException\n+     */\n+    @Nonnull\n+    public abstract String getHost() throws ParsingException;\n+\n+    /**\n+     * The privacy of the stream (Eg. Public, Private, Unlisted\u2026).\n+     * If the privacy is not available you can simply return an empty string.\n+     * @return the privacy of the stream or an empty String.\n+     * @throws ParsingException\n+     */\n+    @Nonnull\n+    public abstract String getPrivacy() throws ParsingException;\n+\n+    /**\n+     * The name of the category of the stream.\n+     * If the category is not available you can simply return an empty string.\n+     * @return the category of the stream or an empty String.\n+     * @throws ParsingException\n+     */\n+    @Nonnull\n+    public abstract String getCategory() throws ParsingException;\n+\n+    /**\n+     * The name of the licence of the stream.\n+     * If the licence is not available you can simply return an empty string.\n+     * @return the licence of the stream or an empty String.\n+     * @throws ParsingException\n+     */\n+    @Nonnull\n+    public abstract String getLicence() throws ParsingException;\n+\n+    /**\n+     * The language of the stream.\n+     * If the language is not available you can simply return an empty string.\n+     * @return the licence of the stream or an empty String.\n+     * @throws ParsingException\n+     */\n+    @Nonnull\n+    public abstract String getLanguageInfo() throws ParsingException;\n+\n+    /**\n+     * The list of tags of the stream.\n+     * If the tag list is not available you can simply return an empty list.\n+     * @return the list of tags of the stream or an empty list.\n+     * @throws ParsingException\n+     */\n+    @Nonnull\n+    public abstract List<String> getTags() throws ParsingException;\n+\n+    /**\n+     * The support information of the stream.\n+     * see: https://framatube.org/videos/watch/ee408ec8-07cd-4e35-b884-fb681a4b9d37\n+     * (support button).\n+     * If the support information are not available,\n+     * you can simply return an empty String.\n+     * @return the support information of the stream or an empty String.\n+     * @throws ParsingException\n+     */\n+    @Nonnull\n+    public abstract String getSupportInfo() throws ParsingException;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "812c8e0ad25de2f1d3f5da16975cae1b145072f1"}, "originalPosition": 79}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b816e48216d311e7b66fbfb9d7f0e506d836db28", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/b816e48216d311e7b66fbfb9d7f0e506d836db28", "committedDate": "2020-01-24T19:10:47Z", "message": "Merge branch 'dev' into peertube"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "341372c0d0dadcce1b88333d9c8afc58ec50fff7", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/341372c0d0dadcce1b88333d9c8afc58ec50fff7", "committedDate": "2020-01-24T19:16:24Z", "message": "reindenting (ctrl alt l) on JsonUtils and PeertubeStreamExtractor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e392b6c68f247e954a2e4eac5c097a4d809d3e1f", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/e392b6c68f247e954a2e4eac5c097a4d809d3e1f", "committedDate": "2020-01-25T13:12:38Z", "message": "getLanguageInfo returns Locale instead of String\n\nso that java can automatically translate with Locale.getDisplayLanguage(), instead of always having English name of the language"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3833cd1e6dc6aa92d4e81d080b20b37dfc50b1f9", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/3833cd1e6dc6aa92d4e81d080b20b37dfc50b1f9", "committedDate": "2020-01-25T12:59:01Z", "message": "fix ParsingException on getLanguageInfo in PeertubeStreamExtractor"}, "afterCommit": {"oid": "e392b6c68f247e954a2e4eac5c097a4d809d3e1f", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/e392b6c68f247e954a2e4eac5c097a4d809d3e1f", "committedDate": "2020-01-25T13:12:38Z", "message": "getLanguageInfo returns Locale instead of String\n\nso that java can automatically translate with Locale.getDisplayLanguage(), instead of always having English name of the language"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b671a4ba18611f6d0e76789ba1e07ecb4d8045e9", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/b671a4ba18611f6d0e76789ba1e07ecb4d8045e9", "committedDate": "2020-02-01T18:18:23Z", "message": "Merge branch 'dev' into peertube"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NzU2NDcx", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/239#pullrequestreview-354756471", "createdAt": "2020-02-06T20:40:21Z", "commit": {"oid": "b671a4ba18611f6d0e76789ba1e07ecb4d8045e9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQyMDo0MDoyMVrOFmpfKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQyMDo0MDoyMVrOFmpfKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjA2OTkzMA==", "bodyText": "This is dependent on timezone of the user.\nSince PeerTube returns GMT  response sdf.setTimeZone(TimeZone.getTimeZone(\"GMT\")) should do the trick.", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/239#discussion_r376069930", "createdAt": "2020-02-06T20:40:21Z", "author": {"login": "yausername"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/peertube/PeertubeParsingHelper.java", "diffHunk": "@@ -27,6 +28,7 @@ public static Calendar parseDateFrom(String textualUploadDate) throws ParsingExc\n         Date date;\n         try {\n             date = new SimpleDateFormat(\"yyyy-MM-dd'T'HH:mm:ss.S'Z'\").parse(textualUploadDate);\n+            date = new Date(date.getTime() + TimeUnit.HOURS.toMillis(1));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b671a4ba18611f6d0e76789ba1e07ecb4d8045e9"}, "originalPosition": 12}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8074b095630f2c8b781beb3b7b6c94a3f94f0ffb", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/8074b095630f2c8b781beb3b7b6c94a3f94f0ffb", "committedDate": "2020-02-06T21:12:09Z", "message": "fix upload date by setting timezone to gmt"}, "afterCommit": {"oid": "b671a4ba18611f6d0e76789ba1e07ecb4d8045e9", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/b671a4ba18611f6d0e76789ba1e07ecb4d8045e9", "committedDate": "2020-02-01T18:18:23Z", "message": "Merge branch 'dev' into peertube"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5756df8dc7e89b7383d1d1e07a91c30bdab6f868", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/5756df8dc7e89b7383d1d1e07a91c30bdab6f868", "committedDate": "2020-02-06T21:33:48Z", "message": "Use GMT as base time (actually fix upload date)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26c65b2948dcc58be4a004938f415bbd46380203", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/26c65b2948dcc58be4a004938f415bbd46380203", "committedDate": "2020-02-06T22:35:46Z", "message": "Create class Description"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0OTU2NjUz", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/239#pullrequestreview-354956653", "createdAt": "2020-02-07T06:44:19Z", "commit": {"oid": "26c65b2948dcc58be4a004938f415bbd46380203"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwNjo0NDoyMFrOFmzmdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwNjo0NDoyMFrOFmzmdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjIzNTYzOQ==", "bodyText": "We don't need this constructor. Description(String content, int type) should be enough.", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/239#discussion_r376235639", "createdAt": "2020-02-07T06:44:20Z", "author": {"login": "yausername"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/stream/Description.java", "diffHunk": "@@ -0,0 +1,46 @@\n+package org.schabi.newpipe.extractor.stream;\n+\n+import static org.schabi.newpipe.extractor.ServiceList.PeerTube;\n+import static org.schabi.newpipe.extractor.ServiceList.YouTube;\n+\n+public class Description {\n+    private String content;\n+    private int type;\n+\n+    public static final int HTML = 1;\n+    public static final int MARKDOWN = 2;\n+    public static final int PLAIN_TEXT = 3;\n+    public static final Description emptyDescription = new Description(PLAIN_TEXT, \"\");\n+\n+    public Description(int serviceID, String content) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26c65b2948dcc58be4a004938f415bbd46380203"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70a40e7388f5bed7ca2019e0d4f82c18631f8902", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/70a40e7388f5bed7ca2019e0d4f82c18631f8902", "committedDate": "2020-02-07T12:28:27Z", "message": "Description: rm constructor by serviceId"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f8a7f9df2138d0e5697cc723655d8ff082699be", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/0f8a7f9df2138d0e5697cc723655d8ff082699be", "committedDate": "2020-02-07T12:33:50Z", "message": "fix testGetUploadDate for PeerTubeStreamExtractor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11bcc78d9c8eb39e8d61a6f4bc4112025937f087", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/11bcc78d9c8eb39e8d61a6f4bc4112025937f087", "committedDate": "2020-02-07T13:10:54Z", "message": "Description implements Serializable. fix NotSerializableException"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NTM2MDcw", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/239#pullrequestreview-355536070", "createdAt": "2020-02-08T07:49:38Z", "commit": {"oid": "11bcc78d9c8eb39e8d61a6f4bc4112025937f087"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "928787faf2b1ecd5dae8d117e958d80150f51123", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/928787faf2b1ecd5dae8d117e958d80150f51123", "committedDate": "2020-02-08T15:16:53Z", "message": "getCategory for YouTube is now extracted"}, "afterCommit": {"oid": "11bcc78d9c8eb39e8d61a6f4bc4112025937f087", "author": {"user": {"login": "B0pol", "name": "bopol"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/11bcc78d9c8eb39e8d61a6f4bc4112025937f087", "committedDate": "2020-02-07T13:10:54Z", "message": "Description implements Serializable. fix NotSerializableException"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NTY5MjY4", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/239#pullrequestreview-355569268", "createdAt": "2020-02-08T21:11:57Z", "commit": {"oid": "11bcc78d9c8eb39e8d61a6f4bc4112025937f087"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e33249c85d2f23be9d8aa7fccd4bdc409a8f8ac", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/0e33249c85d2f23be9d8aa7fccd4bdc409a8f8ac", "committedDate": "2020-02-08T21:20:20Z", "message": "Fix SoundCloud description test"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3973, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}