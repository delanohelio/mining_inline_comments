{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyMjIyOTcw", "number": 311, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMlQxMjo0MTowMlrODxDHVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMzoyMToxMFrOD6PscQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNzU3ODQ1OnYy", "diffSide": "RIGHT", "path": "extractor/src/main/java/org/schabi/newpipe/extractor/search/SearchExtractor.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMlQxMjo0MTowMlrOGEVEyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMlQxMzoyOTowNFrOGEVbAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzE5Mjc3Nw==", "bodyText": "Where is there no closing tag?", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/311#discussion_r407192777", "createdAt": "2020-04-12T12:41:02Z", "author": {"login": "wb9688"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/search/SearchExtractor.java", "diffHunk": "@@ -37,4 +37,15 @@ public SearchQueryHandler getLinkHandler() {\n     public String getName() {\n         return getLinkHandler().getSearchString();\n     }\n+\n+    /**\n+     * When you search on some service, it can give you another and corrected request.\n+     * This method says if it's the case.\n+     * <p>\n+     * Example: on YouTube, if you search for \"pewdeipie\",\n+     * it will give you results for \"pewdiepie\", then isCorrectedSearch should return true.\n+     *", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fb18df7243eec1dadadc4d142463e1f48d7bef0b"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzE5NzM0OA==", "bodyText": "HTML doesn't require to close p tag. The next one closes it.\nIt's the same thing for Javadoc. Look at Javadoc guidelines, getImage(), they didn't put a closing p tag. It's closed by @return, as mentionned in the guidelines:\n\n\nThe first line that begins with an \"@\" character ends the description. There is only one description block per doc comment; you cannot continue the description following block tags.\n\n\nPlus if you watch java source code, for example java.lang.String, you can see there are lots of paragraph but no closing tag.\nFinally, I didn't even add the p tag, intellij did it with autoformatting, and see this SO about p tag in javadoc.", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/311#discussion_r407197348", "createdAt": "2020-04-12T13:20:02Z", "author": {"login": "B0pol"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/search/SearchExtractor.java", "diffHunk": "@@ -37,4 +37,15 @@ public SearchQueryHandler getLinkHandler() {\n     public String getName() {\n         return getLinkHandler().getSearchString();\n     }\n+\n+    /**\n+     * When you search on some service, it can give you another and corrected request.\n+     * This method says if it's the case.\n+     * <p>\n+     * Example: on YouTube, if you search for \"pewdeipie\",\n+     * it will give you results for \"pewdiepie\", then isCorrectedSearch should return true.\n+     *", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzE5Mjc3Nw=="}, "originalCommit": {"oid": "fb18df7243eec1dadadc4d142463e1f48d7bef0b"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzE5ODQ2Nw==", "bodyText": "I didn't know that about Javadoc. Interesting\u2026", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/311#discussion_r407198467", "createdAt": "2020-04-12T13:29:04Z", "author": {"login": "wb9688"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/search/SearchExtractor.java", "diffHunk": "@@ -37,4 +37,15 @@ public SearchQueryHandler getLinkHandler() {\n     public String getName() {\n         return getLinkHandler().getSearchString();\n     }\n+\n+    /**\n+     * When you search on some service, it can give you another and corrected request.\n+     * This method says if it's the case.\n+     * <p>\n+     * Example: on YouTube, if you search for \"pewdeipie\",\n+     * it will give you results for \"pewdiepie\", then isCorrectedSearch should return true.\n+     *", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzE5Mjc3Nw=="}, "originalCommit": {"oid": "fb18df7243eec1dadadc4d142463e1f48d7bef0b"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNzU3ODkxOnYy", "diffSide": "RIGHT", "path": "extractor/src/main/java/org/schabi/newpipe/extractor/search/SearchInfo.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMlQxMjo0MTo0M1rOGEVFCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMlQxMjo0MTo0M1rOGEVFCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzE5Mjg0Mw==", "bodyText": "Please use a setter", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/311#discussion_r407192843", "createdAt": "2020-04-12T12:41:43Z", "author": {"login": "wb9688"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/search/SearchInfo.java", "diffHunk": "@@ -46,6 +47,11 @@ public static SearchInfo getInfo(SearchExtractor extractor) throws ExtractionExc\n         } catch (Exception e) {\n             info.addError(e);\n         }\n+        try {\n+            info.isCorrectedSearch = extractor.isCorrectedSearch();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fb18df7243eec1dadadc4d142463e1f48d7bef0b"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNzU3OTI1OnYy", "diffSide": "RIGHT", "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/youtube/extractors/YoutubeMusicSearchExtractor.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMlQxMjo0MjoxMFrOGEVFPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMlQxMjo0MjoxMFrOGEVFPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzE5Mjg5Mg==", "bodyText": "final", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/311#discussion_r407192892", "createdAt": "2020-04-12T12:42:10Z", "author": {"login": "wb9688"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/youtube/extractors/YoutubeMusicSearchExtractor.java", "diffHunk": "@@ -141,6 +141,19 @@ public String getSearchSuggestion() throws ParsingException {\n         return getTextFromObject(didYouMeanRenderer.getObject(\"correctedQuery\"));\n     }\n \n+    @Override\n+    public boolean isCorrectedSearch() {\n+        final JsonObject itemSectionRenderer = initialData.getObject(\"contents\").getObject(\"sectionListRenderer\")\n+                .getArray(\"contents\").getObject(0).getObject(\"itemSectionRenderer\");\n+        if (itemSectionRenderer == null) {\n+            return false;\n+        }\n+\n+        JsonObject showingResultsForRenderer = itemSectionRenderer.getArray(\"contents\").getObject(0)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fb18df7243eec1dadadc4d142463e1f48d7bef0b"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNzU4MTgyOnYy", "diffSide": "RIGHT", "path": "extractor/src/test/java/org/schabi/newpipe/extractor/services/youtube/search/YoutubeSearchExtractorTest.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMlQxMjo0NDo0NlrOGEVGkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMlQxMzozMDowMlrOGEVbfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzE5MzIzMg==", "bodyText": "Why no expected search suggestion here?", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/311#discussion_r407193232", "createdAt": "2020-04-12T12:44:46Z", "author": {"login": "wb9688"}, "path": "extractor/src/test/java/org/schabi/newpipe/extractor/services/youtube/search/YoutubeSearchExtractorTest.java", "diffHunk": "@@ -132,8 +132,30 @@ public static void setUp() throws Exception {\n         @Override public String expectedOriginalUrlContains() { return \"youtube.com/results?search_query=\" + QUERY; }\n         @Override public String expectedSearchString() { return QUERY; }\n         @Nullable @Override public String expectedSearchSuggestion() { return EXPECTED_SUGGESTION; }\n+        @Override public InfoItem.InfoType expectedInfoItemType() { return InfoItem.InfoType.STREAM; }\n+    }\n+\n+    public static class CorrectedSearch extends DefaultSearchExtractorTest {\n+        private static SearchExtractor extractor;\n+        private static final String QUERY = \"pewdeipie\";\n \n+        @BeforeClass\n+        public static void setUp() throws Exception {\n+            NewPipe.init(DownloaderTestImpl.getInstance());\n+            extractor = YouTube.getSearchExtractor(QUERY, singletonList(VIDEOS), \"\");\n+            extractor.fetchPage();\n+        }\n+\n+        @Override public SearchExtractor extractor() { return extractor; }\n+        @Override public StreamingService expectedService() { return YouTube; }\n+        @Override public String expectedName() { return QUERY; }\n+        @Override public String expectedId() { return QUERY; }\n+        @Override public String expectedUrlContains() { return \"youtube.com/results?search_query=\" + QUERY; }\n+        @Override public String expectedOriginalUrlContains() { return \"youtube.com/results?search_query=\" + QUERY; }\n+        @Override public String expectedSearchString() { return QUERY; }\n+        @Nullable @Override public String expectedSearchSuggestion() { return null; }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fb18df7243eec1dadadc4d142463e1f48d7bef0b"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzE5NzY0NA==", "bodyText": "As you can see in the class name, CorrectedSearch, this query pewdeipie is automatically corrected by youtube, youtube gives us results for pewdiepie, it's not the same as suggestion, and it's the point of the pr.\nMaybe here it's better explained TeamNewPipe/NewPipe#3419 (comment)", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/311#discussion_r407197644", "createdAt": "2020-04-12T13:22:49Z", "author": {"login": "B0pol"}, "path": "extractor/src/test/java/org/schabi/newpipe/extractor/services/youtube/search/YoutubeSearchExtractorTest.java", "diffHunk": "@@ -132,8 +132,30 @@ public static void setUp() throws Exception {\n         @Override public String expectedOriginalUrlContains() { return \"youtube.com/results?search_query=\" + QUERY; }\n         @Override public String expectedSearchString() { return QUERY; }\n         @Nullable @Override public String expectedSearchSuggestion() { return EXPECTED_SUGGESTION; }\n+        @Override public InfoItem.InfoType expectedInfoItemType() { return InfoItem.InfoType.STREAM; }\n+    }\n+\n+    public static class CorrectedSearch extends DefaultSearchExtractorTest {\n+        private static SearchExtractor extractor;\n+        private static final String QUERY = \"pewdeipie\";\n \n+        @BeforeClass\n+        public static void setUp() throws Exception {\n+            NewPipe.init(DownloaderTestImpl.getInstance());\n+            extractor = YouTube.getSearchExtractor(QUERY, singletonList(VIDEOS), \"\");\n+            extractor.fetchPage();\n+        }\n+\n+        @Override public SearchExtractor extractor() { return extractor; }\n+        @Override public StreamingService expectedService() { return YouTube; }\n+        @Override public String expectedName() { return QUERY; }\n+        @Override public String expectedId() { return QUERY; }\n+        @Override public String expectedUrlContains() { return \"youtube.com/results?search_query=\" + QUERY; }\n+        @Override public String expectedOriginalUrlContains() { return \"youtube.com/results?search_query=\" + QUERY; }\n+        @Override public String expectedSearchString() { return QUERY; }\n+        @Nullable @Override public String expectedSearchSuggestion() { return null; }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzE5MzIzMg=="}, "originalCommit": {"oid": "fb18df7243eec1dadadc4d142463e1f48d7bef0b"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzE5ODU4OA==", "bodyText": "It isn't the same indeed, but it should still return what it's correcting it to.", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/311#discussion_r407198588", "createdAt": "2020-04-12T13:30:02Z", "author": {"login": "wb9688"}, "path": "extractor/src/test/java/org/schabi/newpipe/extractor/services/youtube/search/YoutubeSearchExtractorTest.java", "diffHunk": "@@ -132,8 +132,30 @@ public static void setUp() throws Exception {\n         @Override public String expectedOriginalUrlContains() { return \"youtube.com/results?search_query=\" + QUERY; }\n         @Override public String expectedSearchString() { return QUERY; }\n         @Nullable @Override public String expectedSearchSuggestion() { return EXPECTED_SUGGESTION; }\n+        @Override public InfoItem.InfoType expectedInfoItemType() { return InfoItem.InfoType.STREAM; }\n+    }\n+\n+    public static class CorrectedSearch extends DefaultSearchExtractorTest {\n+        private static SearchExtractor extractor;\n+        private static final String QUERY = \"pewdeipie\";\n \n+        @BeforeClass\n+        public static void setUp() throws Exception {\n+            NewPipe.init(DownloaderTestImpl.getInstance());\n+            extractor = YouTube.getSearchExtractor(QUERY, singletonList(VIDEOS), \"\");\n+            extractor.fetchPage();\n+        }\n+\n+        @Override public SearchExtractor extractor() { return extractor; }\n+        @Override public StreamingService expectedService() { return YouTube; }\n+        @Override public String expectedName() { return QUERY; }\n+        @Override public String expectedId() { return QUERY; }\n+        @Override public String expectedUrlContains() { return \"youtube.com/results?search_query=\" + QUERY; }\n+        @Override public String expectedOriginalUrlContains() { return \"youtube.com/results?search_query=\" + QUERY; }\n+        @Override public String expectedSearchString() { return QUERY; }\n+        @Nullable @Override public String expectedSearchSuggestion() { return null; }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzE5MzIzMg=="}, "originalCommit": {"oid": "fb18df7243eec1dadadc4d142463e1f48d7bef0b"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzOTY2NDQwOnYy", "diffSide": "RIGHT", "path": "extractor/src/main/java/org/schabi/newpipe/extractor/search/SearchInfo.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxODo1MzoxN1rOGGHLEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxOToxOTo0OFrOGGIHQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTA2MjE2MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    isCorrectedSearch = correctedSearch;\n          \n          \n            \n                    this.isCorrectedSearch = correctedSearch;\n          \n      \n    \n    \n  \n\nUse this here too, for consistency's sake", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/311#discussion_r409062161", "createdAt": "2020-04-15T18:53:17Z", "author": {"login": "Stypox"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/search/SearchInfo.java", "diffHunk": "@@ -70,4 +76,16 @@ public String getSearchString() {\n     public String getSearchSuggestion() {\n         return searchSuggestion;\n     }\n+\n+    public boolean isCorrectedSearch() {\n+        return this.isCorrectedSearch;\n+    }\n+\n+    public void setCorrectedSearch(boolean correctedSearch) {\n+        isCorrectedSearch = correctedSearch;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d177e995c101df5cb7f367d5fc5fed6aa8bd800"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTA3NzU3MQ==", "bodyText": "For even more consistency, change that correctedSearch to isCorrectedSearch", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/311#discussion_r409077571", "createdAt": "2020-04-15T19:19:48Z", "author": {"login": "wb9688"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/search/SearchInfo.java", "diffHunk": "@@ -70,4 +76,16 @@ public String getSearchString() {\n     public String getSearchSuggestion() {\n         return searchSuggestion;\n     }\n+\n+    public boolean isCorrectedSearch() {\n+        return this.isCorrectedSearch;\n+    }\n+\n+    public void setCorrectedSearch(boolean correctedSearch) {\n+        isCorrectedSearch = correctedSearch;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTA2MjE2MQ=="}, "originalCommit": {"oid": "6d177e995c101df5cb7f367d5fc5fed6aa8bd800"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNDAxMTM3OnYy", "diffSide": "RIGHT", "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/youtube/extractors/YoutubeMusicSearchExtractor.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMzoyMToxMFrOGR-Muw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMzoyMToxMFrOGR-Muw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTQ5ODA0Mw==", "bodyText": "That works, however you could just do .isEmpty() instead, which would be slightly faster, but mainly is more readable imho", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/311#discussion_r421498043", "createdAt": "2020-05-07T13:21:10Z", "author": {"login": "wb9688"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/youtube/extractors/YoutubeMusicSearchExtractor.java", "diffHunk": "@@ -133,7 +133,7 @@ public String getUrl() throws ParsingException {\n     public String getSearchSuggestion() throws ParsingException {\n         final JsonObject itemSectionRenderer = initialData.getObject(\"contents\").getObject(\"sectionListRenderer\")\n                 .getArray(\"contents\").getObject(0).getObject(\"itemSectionRenderer\");\n-        if (itemSectionRenderer == null) {\n+        if (itemSectionRenderer.equals(JsonUtils.EMPTY_OBJECT)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f79819e7526f3c436a01896ee2626d7389e0633d"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2902, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}