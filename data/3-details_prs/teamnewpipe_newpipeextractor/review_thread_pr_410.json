{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAxMDcyMjY0", "number": 410, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwNjo0MTozMVrOEtzdlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxODo0NjowMFrOEyCjww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2NDY0NTM1OnYy", "diffSide": "RIGHT", "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/soundcloud/SoundcloudParsingHelper.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwNjo0MTozMVrOHhzlAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwODo0OTowNFrOHivAUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTIxMDExMw==", "bodyText": "Actually I think I was wrong above and that this should be changed to url.contains(\"/sets/\") && !url.endsWith(\"/sets\") && !url.endsWith(\"/sets/\") so that it only doesn't get soundcloud.com/artist/sets URLs, while e.g. soundcloud.com/artist/track-ending-with-sets still works.", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/410#discussion_r505210113", "createdAt": "2020-10-15T06:41:31Z", "author": {"login": "wb9688"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/soundcloud/SoundcloudParsingHelper.java", "diffHunk": "@@ -153,7 +153,7 @@ public static String resolveIdWithEmbedPlayer(String url) throws IOException, Re\n         String response = NewPipe.getDownloader().get(\"https://w.soundcloud.com/player/?url=\"\n                 + URLEncoder.encode(url, \"UTF-8\"), SoundCloud.getLocalization()).responseBody();\n         // handle playlists / sets different and get playlist id via uir field in JSON\n-        if (url.contains(\"sets\") && !url.endsWith(\"sets\") && !url.endsWith(\"sets/\"))\n+        if (url.contains(\"/sets/\") && !url.endsWith(\"sets\") && !url.endsWith(\"sets/\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "313720fe37e6ddea33b4770f51be99c7db525475"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTIzMjA1MQ==", "bodyText": "so that it only doesn't get soundcloud.com/artist/sets\n\nYeah, this seems to be working, but it will still error out on a widget-related issue, similar to that of #412 (comment) in where it lacks data. Otherwise it seems to be detecting it as a channel type request just fine", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/410#discussion_r505232051", "createdAt": "2020-10-15T06:59:55Z", "author": {"login": "Scrxtchy"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/soundcloud/SoundcloudParsingHelper.java", "diffHunk": "@@ -153,7 +153,7 @@ public static String resolveIdWithEmbedPlayer(String url) throws IOException, Re\n         String response = NewPipe.getDownloader().get(\"https://w.soundcloud.com/player/?url=\"\n                 + URLEncoder.encode(url, \"UTF-8\"), SoundCloud.getLocalization()).responseBody();\n         // handle playlists / sets different and get playlist id via uir field in JSON\n-        if (url.contains(\"sets\") && !url.endsWith(\"sets\") && !url.endsWith(\"sets/\"))\n+        if (url.contains(\"/sets/\") && !url.endsWith(\"sets\") && !url.endsWith(\"sets/\"))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTIxMDExMw=="}, "originalCommit": {"oid": "313720fe37e6ddea33b4770f51be99c7db525475"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjE4Mzc2MQ==", "bodyText": "With changes in f803558, as URLs need to have their tailing slash removed, it is now impossible for a URL to end in sets/. However I am having a decent struggle determining if ending with sets should be checked if /sets/ is our primary check. This has genuinely caused quite a headache. I have left it in there for safety reasons, but if you think that this would be adequate to be removed, then it shall not be a hassle", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/410#discussion_r506183761", "createdAt": "2020-10-16T08:49:04Z", "author": {"login": "Scrxtchy"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/soundcloud/SoundcloudParsingHelper.java", "diffHunk": "@@ -153,7 +153,7 @@ public static String resolveIdWithEmbedPlayer(String url) throws IOException, Re\n         String response = NewPipe.getDownloader().get(\"https://w.soundcloud.com/player/?url=\"\n                 + URLEncoder.encode(url, \"UTF-8\"), SoundCloud.getLocalization()).responseBody();\n         // handle playlists / sets different and get playlist id via uir field in JSON\n-        if (url.contains(\"sets\") && !url.endsWith(\"sets\") && !url.endsWith(\"sets/\"))\n+        if (url.contains(\"/sets/\") && !url.endsWith(\"sets\") && !url.endsWith(\"sets/\"))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTIxMDExMw=="}, "originalCommit": {"oid": "313720fe37e6ddea33b4770f51be99c7db525475"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwOTA2MTc5OnYy", "diffSide": "RIGHT", "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/soundcloud/linkHandler/SoundcloudChannelLinkHandlerFactory.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxODo0NjowMFrOHododw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQyMjo1MDowN1rOHolP0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE5MDU4Mw==", "bodyText": "Why not moving this inside resolveIdWithEmbedPlayer?", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/410#discussion_r512190583", "createdAt": "2020-10-26T18:46:00Z", "author": {"login": "Stypox"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/soundcloud/linkHandler/SoundcloudChannelLinkHandlerFactory.java", "diffHunk": "@@ -21,6 +21,8 @@ public static SoundcloudChannelLinkHandlerFactory getInstance() {\n     @Override\n     public String getId(String url) throws ParsingException {\n         Utils.checkUrl(URL_PATTERN, url);\n+        // Remove the tailing slash from URLs due to issues with the SoundCloud API\n+        if (url.charAt(url.length() -1) == '/') url = url.substring(0, url.length()-1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f803558d1d3c87f9cefcbec2819615721d71d05a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjMxNTM0NA==", "bodyText": "I think I was just mimicking what I did in 6a70cb9\nbut I think I can move everything to that instead\nI don't really remember my branches that well anymore, but I think I got it", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/410#discussion_r512315344", "createdAt": "2020-10-26T22:50:07Z", "author": {"login": "Scrxtchy"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/soundcloud/linkHandler/SoundcloudChannelLinkHandlerFactory.java", "diffHunk": "@@ -21,6 +21,8 @@ public static SoundcloudChannelLinkHandlerFactory getInstance() {\n     @Override\n     public String getId(String url) throws ParsingException {\n         Utils.checkUrl(URL_PATTERN, url);\n+        // Remove the tailing slash from URLs due to issues with the SoundCloud API\n+        if (url.charAt(url.length() -1) == '/') url = url.substring(0, url.length()-1);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE5MDU4Mw=="}, "originalCommit": {"oid": "f803558d1d3c87f9cefcbec2819615721d71d05a"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2763, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}