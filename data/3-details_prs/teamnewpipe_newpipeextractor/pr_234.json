{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwNzA3ODIy", "number": 234, "title": "Fix and improve tests", "bodyText": "Another attempt to fix some of the failing tests.\nThe testViewCount() test is quite illogical because\n\nthe test name does not fit to what it does,\nwe cannot get the subscriber count of a channel when using the search,\nit is the only method in the file. I guess someone forgot to delete it after refactoring or whatsoever.\n\nI guess the test's purpose was to check the channel's stream count and therefore modified and moved it.\n\nSometimes tests are good to find bugs :) I added a null check to LinkHandlerFactory.fromUrl(String url, String baseUrl).\n\nThese two tests drive me crazy:\n@Test\n public void testGetSubtitlesListDefault() throws IOException, ExtractionException {\n    // Video (/view?v=YQHsXMglC9A) set in the setUp() method has no captions => null\n    assertFalse(extractor.getSubtitlesDefault().isEmpty());\n}\n\n@Test\npublic void testGetSubtitlesList() throws IOException, ExtractionException {\n    // Video (/view?v=YQHsXMglC9A) set in the setUp() method has no captions => null\n    assertFalse(extractor.getSubtitles(MediaFormat.TTML).isEmpty());\n}\nWhy is the subtitle list expected to be NOT empty? I think the only logical result is here to have an empty list.", "createdAt": "2020-01-08T23:56:41Z", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/234", "merged": true, "mergeCommit": {"oid": "82eff772fafa08fd0f37854399cbe58121c8d9ae"}, "closed": true, "closedAt": "2020-01-20T22:16:28Z", "author": {"login": "TobiGr"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb0QMkYAH2gAyMzYwNzA3ODIyOjE0NzMyMmI1MjY1ZDVlMzVmNmUzMDBiNTJiYzE5ZTJjNjU1ZGM4OWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb8TvdOgFqTM0NTU0NjAwOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "147322b5265d5e35f6e300b52bc19e2c655dc89b", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/147322b5265d5e35f6e300b52bc19e2c655dc89b", "committedDate": "2019-12-26T21:11:12Z", "message": "Deploy JDoc even when tests on master fail"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01eb7a96586b30c71b63ebbc3eb210d82b9e4ced", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/01eb7a96586b30c71b63ebbc3eb210d82b9e4ced", "committedDate": "2019-12-26T21:22:46Z", "message": "Fix syntax"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f826c247499ef1a4eedb13e944657fdb57312441", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/f826c247499ef1a4eedb13e944657fdb57312441", "committedDate": "2019-12-26T21:46:19Z", "message": "Use UTF-8 encoding for docs and bump version to v0.18.0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "305ff217701dbd81ea2926fde16ad5d36f13b00f", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/305ff217701dbd81ea2926fde16ad5d36f13b00f", "committedDate": "2019-12-26T22:38:40Z", "message": "use openjdk8 for travis build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1e1ac1f5742a9f4e14a8b881bd9958cd7e78630", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/c1e1ac1f5742a9f4e14a8b881bd9958cd7e78630", "committedDate": "2020-01-19T09:13:14Z", "message": "Merge branch 'dev'"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1MzU4Mjky", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/234#pullrequestreview-345358292", "createdAt": "2020-01-20T14:49:24Z", "commit": {"oid": "3e32222c98fe5fa53d9e7aa09c7e0b83441cde57"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQxNDo0OToyNFrOFfgtSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQxNDo1NzoyN1rOFfg9CQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODU4NjA1OQ==", "bodyText": "Doesn't junit.framework.TestCase.assertTrue exist inside org.junit.Assert.*?", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/234#discussion_r368586059", "createdAt": "2020-01-20T14:49:24Z", "author": {"login": "Stypox"}, "path": "extractor/src/test/java/org/schabi/newpipe/extractor/services/youtube/search/YoutubeSearchExtractorChannelOnlyTest.java", "diffHunk": "@@ -13,6 +13,7 @@\n import org.schabi.newpipe.extractor.services.youtube.linkHandler.YoutubeSearchQueryHandlerFactory;\n \n import static java.util.Arrays.asList;\n+import static junit.framework.TestCase.assertTrue;\n import static org.junit.Assert.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e32222c98fe5fa53d9e7aa09c7e0b83441cde57"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODU4ODYxNQ==", "bodyText": "This and the below comments have to be updated: the video in the setUp() method is now T4XJQO3qol8, and it has captions. Both comments could probably be removed completely anyway", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/234#discussion_r368588615", "createdAt": "2020-01-20T14:54:35Z", "author": {"login": "Stypox"}, "path": "extractor/src/test/java/org/schabi/newpipe/extractor/services/youtube/stream/YoutubeStreamExtractorControversialTest.java", "diffHunk": "@@ -123,12 +123,12 @@ public void testGetVideoStreams() throws IOException, ExtractionException {\n     @Test\n     public void testGetSubtitlesListDefault() throws IOException, ExtractionException {\n         // Video (/view?v=YQHsXMglC9A) set in the setUp() method has no captions => null", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e32222c98fe5fa53d9e7aa09c7e0b83441cde57"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODU5MDA4OQ==", "bodyText": "This video has \"English (auto-generated)\" captions, so why should we assert that it does not?", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/234#discussion_r368590089", "createdAt": "2020-01-20T14:57:27Z", "author": {"login": "Stypox"}, "path": "extractor/src/test/java/org/schabi/newpipe/extractor/services/youtube/stream/YoutubeStreamExtractorControversialTest.java", "diffHunk": "@@ -123,12 +123,12 @@ public void testGetVideoStreams() throws IOException, ExtractionException {\n     @Test\n     public void testGetSubtitlesListDefault() throws IOException, ExtractionException {\n         // Video (/view?v=YQHsXMglC9A) set in the setUp() method has no captions => null\n-        assertFalse(extractor.getSubtitlesDefault().isEmpty());\n+        assertTrue(extractor.getSubtitlesDefault().isEmpty());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e32222c98fe5fa53d9e7aa09c7e0b83441cde57"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51fd9ba491c0d1798ad0a823e25274d675da9658", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/51fd9ba491c0d1798ad0a823e25274d675da9658", "committedDate": "2020-01-20T19:31:32Z", "message": "Merge branch 'master' into dev"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39de55dcd3ee32b95d476feec3b322759205c0e4", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/39de55dcd3ee32b95d476feec3b322759205c0e4", "committedDate": "2020-01-20T20:24:51Z", "message": "[YouTube] Fix and move streamCountTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79431303079643c49f88a40b92584ce61a50c8ab", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/79431303079643c49f88a40b92584ce61a50c8ab", "committedDate": "2020-01-20T20:25:16Z", "message": "Throw IllegalArgumentException when url is null in LinkHandlerFactory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69ccb7e69dd0d40840d1dba671d147c738f10b95", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/69ccb7e69dd0d40840d1dba671d147c738f10b95", "committedDate": "2020-01-20T20:25:47Z", "message": "Update subtitle tests comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "089dbe8afb6ba9beb21aecce423d12601813e611", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/089dbe8afb6ba9beb21aecce423d12601813e611", "committedDate": "2020-01-20T21:10:18Z", "message": "Fix StreamLinkHandlerFactoryTest by passing baseUrl to vdn.youtube urls"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2308b074f0603ec65c1b2c2a5ac0f3285cb3a0e6", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/2308b074f0603ec65c1b2c2a5ac0f3285cb3a0e6", "committedDate": "2020-01-20T21:12:39Z", "message": "[MediaCCC] Fix testGetTextualUploadDate()"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3e32222c98fe5fa53d9e7aa09c7e0b83441cde57", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/3e32222c98fe5fa53d9e7aa09c7e0b83441cde57", "committedDate": "2020-01-09T00:40:04Z", "message": "Fix subtitle tests"}, "afterCommit": {"oid": "2308b074f0603ec65c1b2c2a5ac0f3285cb3a0e6", "author": {"user": {"login": "TobiGr", "name": "Tobi"}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/2308b074f0603ec65c1b2c2a5ac0f3285cb3a0e6", "committedDate": "2020-01-20T21:12:39Z", "message": "[MediaCCC] Fix testGetTextualUploadDate()"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1NTQ2MDA4", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/234#pullrequestreview-345546008", "createdAt": "2020-01-20T21:50:25Z", "commit": {"oid": "2308b074f0603ec65c1b2c2a5ac0f3285cb3a0e6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3971, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}