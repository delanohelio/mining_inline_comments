{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2NzE3NTI1", "number": 373, "title": "Support YouTube's new continuations", "bodyText": "I carefully read the contribution guidelines and agree to them.\n I have tested the API against NewPipe.\n I agree to create a pull request for NewPipe as soon as possible to make it compatible with the changed API.\n\nFixes #371 and TeamNewPipe/NewPipe#3921.\nIt seems like they haven't changed channels or playlists (yet?).\nTo do\n\n Add id to Page\n Fix search\n Extract key somehow", "createdAt": "2020-07-26T08:04:14Z", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/373", "merged": true, "mergeCommit": {"oid": "8627d010060f0424ba097fa0a389ef070d85f389"}, "closed": true, "closedAt": "2020-07-26T11:56:34Z", "author": {"login": "wb9688"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc4ojthgH2gAyNDU2NzE3NTI1OjRjOTg3YTUzMDI5MmJjNGI1YTQzNTQwZWZjZGY0YjI2MmMxOWRlMGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc4r7LkAFqTQ1NTM1NzY0MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4c987a530292bc4b5a43540efcdf4b262c19de0d", "author": {"user": {"login": "wb9688", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/4c987a530292bc4b5a43540efcdf4b262c19de0d", "committedDate": "2020-07-26T08:01:03Z", "message": "Support YouTube's new continuations for search"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f345f667e2bd7306a1c54df1c7cf26d26707067a", "author": {"user": {"login": "wb9688", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/f345f667e2bd7306a1c54df1c7cf26d26707067a", "committedDate": "2020-07-26T10:01:59Z", "message": "Extract YouTube's key"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MzUyMDEy", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/373#pullrequestreview-455352012", "createdAt": "2020-07-26T10:34:40Z", "commit": {"oid": "f345f667e2bd7306a1c54df1c7cf26d26707067a"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxMDozNDo0MFrOG3LSoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxMDo0NzowNFrOG3LXeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDUwOTg1Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private static void getClientVersionAndKey() throws IOException, ExtractionException {\n          \n          \n            \n                private static void extractClientVersionAndKey() throws IOException, ExtractionException {", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/373#discussion_r460509856", "createdAt": "2020-07-26T10:34:40Z", "author": {"login": "TobiGr"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/youtube/YoutubeParsingHelper.java", "diffHunk": "@@ -214,39 +216,31 @@ public static boolean isHardcodedClientVersionValid() throws IOException, Extrac\n         return response.length() > 50; // ensure to have a valid response\n     }\n \n-    /**\n-     * Get the client version from a page\n-     * @return\n-     * @throws ParsingException\n-     */\n-    public static String getClientVersion() throws IOException, ExtractionException {\n-        if (!isNullOrEmpty(clientVersion)) return clientVersion;\n-        if (isHardcodedClientVersionValid()) return clientVersion = HARDCODED_CLIENT_VERSION;\n-\n+    private static void getClientVersionAndKey() throws IOException, ExtractionException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f345f667e2bd7306a1c54df1c7cf26d26707067a"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDUxMTA0MQ==", "bodyText": "Add check if clientVersion was already extracted.", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/373#discussion_r460511041", "createdAt": "2020-07-26T10:46:35Z", "author": {"login": "TobiGr"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/youtube/YoutubeParsingHelper.java", "diffHunk": "@@ -255,26 +249,54 @@ public static String getClientVersion() throws IOException, ExtractionException\n         }\n \n         String contextClientVersion;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f345f667e2bd7306a1c54df1c7cf26d26707067a"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDUxMTA5OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (shortClientVersion != null) {\n          \n          \n            \n                    if (clientVersion != null && shortClientVersion != null) {", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/373#discussion_r460511098", "createdAt": "2020-07-26T10:47:04Z", "author": {"login": "TobiGr"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/youtube/YoutubeParsingHelper.java", "diffHunk": "@@ -255,26 +249,54 @@ public static String getClientVersion() throws IOException, ExtractionException\n         }\n \n         String contextClientVersion;\n-        String[] patterns = {\n+        final String[] patterns = {\n                 \"INNERTUBE_CONTEXT_CLIENT_VERSION\\\":\\\"([0-9\\\\.]+?)\\\"\",\n                 \"innertube_context_client_version\\\":\\\"([0-9\\\\.]+?)\\\"\",\n                 \"client.version=([0-9\\\\.]+)\"\n         };\n-        for (String pattern : patterns) {\n+        for (final String pattern : patterns) {\n             try {\n                 contextClientVersion = Parser.matchGroup1(pattern, html);\n                 if (!isNullOrEmpty(contextClientVersion)) {\n-                    return clientVersion = contextClientVersion;\n+                    clientVersion = contextClientVersion;\n                 }\n-            } catch (Exception ignored) {\n-            }\n+            } catch (Parser.RegexException ignored) { }\n         }\n \n         if (shortClientVersion != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f345f667e2bd7306a1c54df1c7cf26d26707067a"}, "originalPosition": 86}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "667dce034c1aa5a2378b2e4b5a1a9e2dc67c14f5", "author": {"user": {"login": "wb9688", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/667dce034c1aa5a2378b2e4b5a1a9e2dc67c14f5", "committedDate": "2020-07-26T11:14:25Z", "message": "Only use fallback methods for clientVersion when clientVersion hasn't been successfully extracted yet"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MzU3NjQw", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/373#pullrequestreview-455357640", "createdAt": "2020-07-26T11:56:24Z", "commit": {"oid": "667dce034c1aa5a2378b2e4b5a1a9e2dc67c14f5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3946, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}