{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA0NTU0ODQ0", "number": 317, "title": "Use our fork of nanojson", "bodyText": "I carefully read the contribution guidelines and agree to them.\n I have tested the API against NewPipe.\n I agree to create a pull request for NewPipe as soon as possible to make it compatible with the changed API.", "createdAt": "2020-04-16T17:34:41Z", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/317", "merged": true, "mergeCommit": {"oid": "49157fcf0da03d99fe2023a79ead59efa47c8518"}, "closed": true, "closedAt": "2020-04-24T19:54:36Z", "author": {"login": "wb9688"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcYRoOLgFqTM5NDkyNTMzMA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZj7_4AFqTM5NjczMzM4OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk0OTI1MzMw", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/317#pullrequestreview-394925330", "createdAt": "2020-04-16T19:12:34Z", "commit": {"oid": "5e15de9cac8dbc95eff8244abb14f489222a95fc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxOToxMjozNFrOGGzg6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxOToxMjozNFrOGGzg6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTc4ODY1MA==", "bodyText": "unused", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/317#discussion_r409788650", "createdAt": "2020-04-16T19:12:34Z", "author": {"login": "TobiGr"}, "path": "extractor/src/test/java/org/schabi/newpipe/extractor/services/youtube/stream/YoutubeStreamExtractorDefaultTest.java", "diffHunk": "@@ -22,6 +22,7 @@\n import java.text.SimpleDateFormat;\n import java.util.Calendar;\n import java.util.List;\n+import java.util.concurrent.TimeUnit;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5e15de9cac8dbc95eff8244abb14f489222a95fc"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "979c5a75029275ebdd206db726d690a11b9d1db0", "author": {"user": {"login": "wb9688", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/979c5a75029275ebdd206db726d690a11b9d1db0", "committedDate": "2020-04-17T17:36:42Z", "message": "Use our fork of nanojson"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2MDUwMzUz", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/317#pullrequestreview-396050353", "createdAt": "2020-04-19T18:54:26Z", "commit": {"oid": "979c5a75029275ebdd206db726d690a11b9d1db0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOVQxODo1NDoyN1rOGH7duA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOVQxOTowMjo1M1rOGH7jBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDk2NzQ4MA==", "bodyText": "I don't understand that change.\nApart from that, I don't see how name can be null. I think getTextFromObject() can either return a String or throw a ParsingException.\nSite note: unlike before, getTextFromObject() does not throw an NPE when the JsonObject does not have the expected fields, but returns an empty String, this might be worth of a JDoc comment.", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/317#discussion_r410967480", "createdAt": "2020-04-19T18:54:27Z", "author": {"login": "TobiGr"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/youtube/extractors/YoutubeStreamInfoItemExtractor.java", "diffHunk": "@@ -98,7 +93,7 @@ public String getUrl() throws ParsingException {\n     @Override\n     public String getName() throws ParsingException {\n         String name = getTextFromObject(videoInfo.getObject(\"title\"));\n-        if (name != null && !name.isEmpty()) return name;\n+        if (name == null || !name.isEmpty()) return name;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "979c5a75029275ebdd206db726d690a11b9d1db0"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDk2ODgzOA==", "bodyText": "getUrlFromNavigationEndpoint(navigationEndpoint) returns null when navigationEndpoint is an empty Object or YouTube changed something in their JSON. In this case, we could not get the uploader URL and should throw a ParsingException. So please keep the null check for the URL.", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/317#discussion_r410968838", "createdAt": "2020-04-19T19:02:53Z", "author": {"login": "TobiGr"}, "path": "extractor/src/main/java/org/schabi/newpipe/extractor/services/youtube/extractors/YoutubeMusicSearchExtractor.java", "diffHunk": "@@ -301,16 +294,7 @@ public String getUploaderUrl() throws ParsingException {\n                                         .getObject(1).getObject(\"musicResponsiveListItemFlexColumnRenderer\")\n                                         .getObject(\"text\").getArray(\"runs\").getObject(0).getObject(\"navigationEndpoint\");\n \n-                                if (navigationEndpoint == null) {\n-                                    return null;\n-                                }\n-\n-                                final String url = getUrlFromNavigationEndpoint(navigationEndpoint);\n-\n-                                if (url != null && !url.isEmpty()) {\n-                                    return url;\n-                                }\n-                                throw new ParsingException(\"Could not get uploader url\");\n+                                return getUrlFromNavigationEndpoint(navigationEndpoint);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "979c5a75029275ebdd206db726d690a11b9d1db0"}, "originalPosition": 88}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b51699a20e6937301e7c2891bd9b383c677d2a42", "author": {"user": {"login": "wb9688", "name": null}}, "url": "https://github.com/TeamNewPipe/NewPipeExtractor/commit/b51699a20e6937301e7c2891bd9b383c677d2a42", "committedDate": "2020-04-20T12:27:33Z", "message": "Implement @TobiGr's suggestions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NzMzMzg4", "url": "https://github.com/TeamNewPipe/NewPipeExtractor/pull/317#pullrequestreview-396733388", "createdAt": "2020-04-20T19:06:24Z", "commit": {"oid": "b51699a20e6937301e7c2891bd9b383c677d2a42"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3999, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}