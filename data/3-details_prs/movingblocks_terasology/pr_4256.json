{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0NjI4Nzc4", "number": 4256, "title": "fix: InputSystem#getInputsForBindButton was throwing NPE", "bodyText": "I think the only usage of that API wrapper method (in Omega) is in Dialogs where it is used to get the associated bind for an action to display it as a hint to the user.\nhttps://github.com/Terasology/Dialogs/blob/5a0073966afc66f18bc1d7220c7b49c8c053d9c2/src/main/java/org/terasology/dialogs/DialogSystem.java#L190\nThis was throwing a NPE for a while, resulting in the hint not showing up. This PR fixes that.", "createdAt": "2020-11-20T11:05:33Z", "url": "https://github.com/MovingBlocks/Terasology/pull/4256", "merged": true, "mergeCommit": {"oid": "a45d3c2089e4947d413fc735b41b9b0c620f9774"}, "closed": true, "closedAt": "2020-11-21T11:47:14Z", "author": {"login": "skaldarnar"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdeVSO0gH2gAyNTI0NjI4Nzc4OjI3MjRlZTU1MGEwZjg0YmVkMDBkYTEzZmJlOTI3ZjU3ZGFkYzliNjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdeqQtxAH2gAyNTI0NjI4Nzc4OmQ4MzAxN2VmMTUwZWY2ZDI4N2YwYWI1NzNjMTA2YThiNWJhMjI0YWI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2724ee550a0f84bed00da13fbe927f57dadc9b63", "author": {"user": {"login": "skaldarnar", "name": "Tobias Nett"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/2724ee550a0f84bed00da13fbe927f57dadc9b63", "committedDate": "2020-11-20T11:02:53Z", "message": "fix: InputSystem#getInputsForBindButton was throwing NPE"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MzMyODE3", "url": "https://github.com/MovingBlocks/Terasology/pull/4256#pullrequestreview-535332817", "createdAt": "2020-11-20T11:06:01Z", "commit": {"oid": "2724ee550a0f84bed00da13fbe927f57dadc9b63"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMTowNjowMVrOH3LQnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMTowNjowMVrOH3LQnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYxODIwNw==", "bodyText": "This is the actual bug fix, all other changes are just IntelliJ's formatting...", "url": "https://github.com/MovingBlocks/Terasology/pull/4256#discussion_r527618207", "createdAt": "2020-11-20T11:06:01Z", "author": {"login": "skaldarnar"}, "path": "engine/src/main/java/org/terasology/input/InputSystem.java", "diffHunk": "@@ -554,13 +552,15 @@ public void drainQueues() {\n     }\n \n     /**\n-     * API-exposed caller to {@link BindsSubsystem#getInputsForBindButton(SimpleUri)}. TODO: Restored for API reasons,\n-     * may be duplicating code elsewhere. Should be reviewed.\n+     * API-exposed caller to {@link BindsManager#getBindsConfig()} and\n+     * {@link org.terasology.config.BindsConfig#getBinds(SimpleUri)}.\n+     * <p>\n+     * TODO: Restored for API reasons, may be duplicating code elsewhere. Should be reviewed.\n      *\n      * @param bindId the ID.\n      * @return a list of keyboard/mouse inputs that trigger the binding.\n      */\n     public List<Input> getInputsForBindButton(SimpleUri bindId) {\n-        return bindsSubsystem.getInputsForBindButton(bindId);\n+        return bindsManager.getBindsConfig().getBinds(bindId);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2724ee550a0f84bed00da13fbe927f57dadc9b63"}, "originalPosition": 105}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MzMzNDQ5", "url": "https://github.com/MovingBlocks/Terasology/pull/4256#pullrequestreview-535333449", "createdAt": "2020-11-20T11:07:02Z", "commit": {"oid": "2724ee550a0f84bed00da13fbe927f57dadc9b63"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMTowNzowMlrOH3LSpg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMTowNzowMlrOH3LSpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYxODcyNg==", "bodyText": "The bindsSubsystem was null here anyways, and the only place this was used could easily be replaced with access to the super interface of BindsManager.", "url": "https://github.com/MovingBlocks/Terasology/pull/4256#discussion_r527618726", "createdAt": "2020-11-20T11:07:02Z", "author": {"login": "skaldarnar"}, "path": "engine/src/main/java/org/terasology/input/InputSystem.java", "diffHunk": "@@ -78,9 +77,6 @@\n     @In\n     private CameraTargetSystem targetSystem;\n \n-    @In\n-    private BindsSubsystem bindsSubsystem;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2724ee550a0f84bed00da13fbe927f57dadc9b63"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1OTU5ODMx", "url": "https://github.com/MovingBlocks/Terasology/pull/4256#pullrequestreview-535959831", "createdAt": "2020-11-21T11:29:09Z", "commit": {"oid": "2724ee550a0f84bed00da13fbe927f57dadc9b63"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d83017ef150ef6d287f0ab573c106a8b5ba224ab", "author": {"user": {"login": "jdrueckert", "name": null}}, "url": "https://github.com/MovingBlocks/Terasology/commit/d83017ef150ef6d287f0ab573c106a8b5ba224ab", "committedDate": "2020-11-21T11:29:14Z", "message": "Merge branch 'develop' into fix/input-system"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1311, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}