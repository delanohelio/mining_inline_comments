{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1NzQwNDQx", "number": 3897, "title": "Comment out a bit more VR stuff to avoid a native resolution issue in module standalone workspaces", "bodyText": "The way we build modules standalone has tended to have a fair share of quirks since the Gradle from this engine workspace gets reused in clever/evil/dumb ways. But long story short one such quirk goes away with this PR, even if it is only a workaround for #3415. Really #2611 and making VR work again should be the proper fix, which would improve handling the OpenVR natives files and so on.\nIn the meantime this gets us one step closer to better advanced tests in module jobs in Jenkins or anywhere else other than a full engine workspace + modules. Normal unit tests are fine, but those requiring a running game environment tend to be more tricky.\nSee Terasology/ModuleTestingEnvironment#12 for the next problem I've encountered.\nTesting this is problematic, really can only test in a local workspace that the game acts normally. To test it more properly need to try a standalone module workspace which that MTE issue can explain, but even so that relies on a binary version of the engine. As of this writing the most recent one from Nanoware/Terasology will correctly show what this PR changes, while the most recent one from MovingBlocks/Terasology will show the old issue.", "createdAt": "2020-04-19T21:48:55Z", "url": "https://github.com/MovingBlocks/Terasology/pull/3897", "merged": true, "mergeCommit": {"oid": "b7bdd2fea6620bf42283e29d8b5a6c699f4bc645"}, "closed": true, "closedAt": "2020-04-22T02:13:38Z", "author": {"login": "Cervator"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZQ3fkgH2gAyNDA1NzQwNDQxOmU4NGE4MGVmYTQ4MTM4OGU0ZmQ1ZWUwMDA2ODgwYzdlNTI2ZWVjYmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZ-n0qAH2gAyNDA1NzQwNDQxOmRiMTNjNmZjYzI2YzE2ZmVmZDk1NGE2OWYwNzMzNzE3ZWY0ZDgzODM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e84a80efa481388e4fd5ee0006880c7e526eecba", "author": {"user": {"login": "Cervator", "name": "Rasmus Praestholm"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/e84a80efa481388e4fd5ee0006880c7e526eecba", "committedDate": "2020-04-19T20:53:17Z", "message": "Try to remove a Component that ends up invoking OpenVR"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "815e30a865e37c9348cfb8535cb7fce4b5c570f8", "author": {"user": {"login": "Cervator", "name": "Rasmus Praestholm"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/815e30a865e37c9348cfb8535cb7fce4b5c570f8", "committedDate": "2020-04-19T20:53:17Z", "message": "Comment out more VR stuff"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2MTY3MzUz", "url": "https://github.com/MovingBlocks/Terasology/pull/3897#pullrequestreview-396167353", "createdAt": "2020-04-20T06:21:43Z", "commit": {"oid": "815e30a865e37c9348cfb8535cb7fce4b5c570f8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NTA4OTIy", "url": "https://github.com/MovingBlocks/Terasology/pull/3897#pullrequestreview-396508922", "createdAt": "2020-04-20T14:30:11Z", "commit": {"oid": "815e30a865e37c9348cfb8535cb7fce4b5c570f8"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNDozMDoxMlrOGIXaxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNDozMDoxMlrOGIXaxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTQyNTQ3OA==", "bodyText": "//TODO: has nice discoverability in many editors, IDEs, and code analysis toosl \ud83d\ude09\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                /* commented out due to a natives issue and VR not working at the moment anyway\n          \n          \n            \n                //TODO: commented out due to a natives issue and VR not working at the moment anyway\n          \n          \n            \n                /*", "url": "https://github.com/MovingBlocks/Terasology/pull/3897#discussion_r411425478", "createdAt": "2020-04-20T14:30:12Z", "author": {"login": "skaldarnar"}, "path": "engine/src/main/java/org/terasology/logic/players/FirstPersonHeldItemMountPointComponent.java", "diffHunk": "@@ -78,6 +63,7 @@ public void buttonStateChanged(VRControllerState_t stateBefore, VRControllerStat\n      * @param pose - the controller pose - a homogenous transformation matrix.\n      * @param handIndex - the hand index - 0 for left and 1 for right.\n      */\n+    /* commented out due to a natives issue and VR not working at the moment anyway", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "815e30a865e37c9348cfb8535cb7fce4b5c570f8"}, "originalPosition": 46}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db13c6fcc26c16fefd954a69f0733717ef4d8383", "author": {"user": {"login": "Cervator", "name": "Rasmus Praestholm"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/db13c6fcc26c16fefd954a69f0733717ef4d8383", "committedDate": "2020-04-22T02:11:48Z", "message": "Update engine/src/main/java/org/terasology/logic/players/FirstPersonHeldItemMountPointComponent.java\n\nCo-Authored-By: Tobias Nett <skaldarnar@googlemail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1734, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}