{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1NDA5MjA5", "number": 4004, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxMDoxNTo0NFrOEC5jxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxMDoxNTo0NFrOEC5jxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcxNDc1NjU1OnYy", "diffSide": "RIGHT", "path": "engine/src/main/java/org/terasology/engine/modes/StateLoading.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxMDoxNTo0NFrOGfoyVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwMDozOToyMVrOGhhBZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTgyNzI4Ng==", "bodyText": "If current.getMessage() is a key for a translateable string, you probably \"just\" need to push that through TranslationSystem::translate.\nIn screen layers and widget you'll get it by using @In annotation:\n    @In\n    private TranslationSystem translationSystem;", "url": "https://github.com/MovingBlocks/Terasology/pull/4004#discussion_r435827286", "createdAt": "2020-06-05T10:15:44Z", "author": {"login": "skaldarnar"}, "path": "engine/src/main/java/org/terasology/engine/modes/StateLoading.java", "diffHunk": "@@ -243,8 +245,17 @@ public void update(float delta) {\n         EngineTime time = (EngineTime) context.get(Time.class);\n         long startTime = time.getRealTimeInMs();\n         while (current != null && time.getRealTimeInMs() - startTime < 20 && !gameEngine.hasPendingState()) {\n-            if (current.step()) {\n-                popStep();\n+            try {\n+                if (current.step()) {\n+                    popStep();\n+                }\n+            } catch (Exception e) {\n+                logger.error(\"Error while loading {}\", current, e);\n+                String errorMessage = String.format(\"Failed to load game. There was an error during %s.\",\n+                        current == null ? \"the last part\" : current.getMessage());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b7348c02764e1cd4d956a68fa8d408dc247a228"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzc5NzIyMA==", "bodyText": "Okay, I've made it so the part of StateMainMenu that shows these messages will run them through the translation system.", "url": "https://github.com/MovingBlocks/Terasology/pull/4004#discussion_r437797220", "createdAt": "2020-06-10T00:39:21Z", "author": {"login": "keturn"}, "path": "engine/src/main/java/org/terasology/engine/modes/StateLoading.java", "diffHunk": "@@ -243,8 +245,17 @@ public void update(float delta) {\n         EngineTime time = (EngineTime) context.get(Time.class);\n         long startTime = time.getRealTimeInMs();\n         while (current != null && time.getRealTimeInMs() - startTime < 20 && !gameEngine.hasPendingState()) {\n-            if (current.step()) {\n-                popStep();\n+            try {\n+                if (current.step()) {\n+                    popStep();\n+                }\n+            } catch (Exception e) {\n+                logger.error(\"Error while loading {}\", current, e);\n+                String errorMessage = String.format(\"Failed to load game. There was an error during %s.\",\n+                        current == null ? \"the last part\" : current.getMessage());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTgyNzI4Ng=="}, "originalCommit": {"oid": "9b7348c02764e1cd4d956a68fa8d408dc247a228"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 481, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}