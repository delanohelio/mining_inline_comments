{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2MzIxOTEz", "number": 4023, "title": "fix invisible skeletalmesh", "bodyText": "ref: Terasology/CoreRendering#11\nref: #3950\nverified with gooeyquest.", "createdAt": "2020-06-02T03:07:26Z", "url": "https://github.com/MovingBlocks/Terasology/pull/4023", "merged": true, "mergeCommit": {"oid": "1f6baf22dcc5a8f7ae4b223ab4cea5899b93043a"}, "closed": true, "closedAt": "2020-06-02T20:47:07Z", "author": {"login": "pollend"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcnL9vHgH2gAyNDI2MzIxOTEzOjkyZjRkNGQ2YzZkNDc0ZWM2ZjE4MTU1NzlmMjIyN2RiOGJkOWNlODI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnbGvuAFqTQyMzA0MzE5MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "92f4d4d6c6d474ec6f1815579f2227db8bd9ce82", "author": {"user": {"login": "pollend", "name": "Michael Pollind"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/92f4d4d6c6d474ec6f1815579f2227db8bd9ce82", "committedDate": "2020-06-02T03:05:31Z", "message": "fix invisible skeletalmesh\n\nref: https://github.com/Terasology/CoreRendering/issues/11\nref: https://github.com/MovingBlocks/Terasology/pull/3950"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyMzIxMjk4", "url": "https://github.com/MovingBlocks/Terasology/pull/4023#pullrequestreview-422321298", "createdAt": "2020-06-02T03:42:07Z", "commit": {"oid": "92f4d4d6c6d474ec6f1815579f2227db8bd9ce82"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQwMzo0MjowN1rOGdhCVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQwMzo0MjowN1rOGdhCVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzYwMzE1Ng==", "bodyText": "Since this is in the rendering path, the new caught my eye and I started wondering if there's a way to do this without that heap allocation.\nIf I'm reading this correctly, the projection matrix doesn't change that often, right? And even if it did change every frame, we should plan for rendering a lot more than one skeleton per frame.\nThis idea sounds a little sketchy but maybe it's worth something: add a transposedProjectionMatrix accessor to the camera. that way these things that need the transposed-version can get it without each doing their own transposition of it.", "url": "https://github.com/MovingBlocks/Terasology/pull/4023#discussion_r433603156", "createdAt": "2020-06-02T03:42:07Z", "author": {"login": "keturn"}, "path": "engine/src/main/java/org/terasology/rendering/logic/SkeletonRenderer.java", "diffHunk": "@@ -248,7 +248,7 @@ public void renderOpaque() {\n             skeletalMesh.material.setFloat(\"blockLight\", 1.0f, true);\n             skeletalMesh.material.setFloat3(\"colorOffset\", skeletalMesh.color.rf(), skeletalMesh.color.gf(), skeletalMesh.color.bf(), true);\n \n-            skeletalMesh.material.setMatrix4(\"projectionMatrix\", worldRenderer.getActiveCamera().getProjectionMatrix());\n+            skeletalMesh.material.setMatrix4(\"projectionMatrix\", new org.joml.Matrix4f(worldRenderer.getActiveCamera().getProjectionMatrix()).transpose());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "92f4d4d6c6d474ec6f1815579f2227db8bd9ce82"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzMDQzMTkw", "url": "https://github.com/MovingBlocks/Terasology/pull/4023#pullrequestreview-423043190", "createdAt": "2020-06-02T20:43:56Z", "commit": {"oid": "92f4d4d6c6d474ec6f1815579f2227db8bd9ce82"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1650, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}