{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk1NzgyNDQ5", "number": 4161, "title": "feat(JOML): migrate target system", "bodyText": "this is a migration of the target system since JOMLUtil is not needed any more in this case.", "createdAt": "2020-09-30T20:54:22Z", "url": "https://github.com/MovingBlocks/Terasology/pull/4161", "merged": true, "mergeCommit": {"oid": "aa9513ef929d120dcb2a921d5a4776b45f7d5b7f"}, "closed": true, "closedAt": "2020-10-27T19:03:55Z", "author": {"login": "pollend"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQ75K2AFqTUwNTk1Nzg1Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWsayVgH2gAyNDk1NzgyNDQ5OmE4MTUyYTRiYWU1ZTA1MzViYmUyMjZhNmY0NjM0ZjQ3ODM5Y2YwZTk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1OTU3ODUz", "url": "https://github.com/MovingBlocks/Terasology/pull/4161#pullrequestreview-505957853", "createdAt": "2020-10-09T20:05:08Z", "commit": {"oid": "c287016765b315fb94f689ee64037e9747540294"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDowNTowOFrOHfXJPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDowNjo0N1rOHfXL9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY0NzEwMA==", "bodyText": "Would it make sense to have JomlUtil.from(null) return null instead?", "url": "https://github.com/MovingBlocks/Terasology/pull/4161#discussion_r502647100", "createdAt": "2020-10-09T20:05:08Z", "author": {"login": "jdrueckert"}, "path": "engine/src/main/java/org/terasology/input/internal/BindableButtonImpl.java", "diffHunk": "@@ -158,7 +159,10 @@ public boolean updateBindState(Input input,\n                 }\n                 if (!keyConsumed) {\n                     buttonEvent.prepare(id, ButtonState.DOWN, delta);\n-                    buttonEvent.setTargetInfo(target, targetBlockPos, hitPosition, hitNormal);\n+                    buttonEvent.setTargetInfo(target,\n+                        targetBlockPos == null ? null : JomlUtil.from(targetBlockPos),\n+                        hitPosition == null ? null : JomlUtil.from(hitPosition),\n+                        hitNormal == null ? null : JomlUtil.from(hitNormal));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c287016765b315fb94f689ee64037e9747540294"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY0NzYzOA==", "bodyText": "I guess/hope that \"rotation\" is on purpose?\nSo TeraMath's x.sub(y, z) equals joml's y.sub(z, x)?", "url": "https://github.com/MovingBlocks/Terasology/pull/4161#discussion_r502647638", "createdAt": "2020-10-09T20:06:25Z", "author": {"login": "jdrueckert"}, "path": "engine/src/main/java/org/terasology/input/cameraTarget/CameraTargetSystem.java", "diffHunk": "@@ -144,7 +144,7 @@ private void updateFocalDistance(HitResult hitInfo, float delta) {\n         if (hitInfo.isHit()) {\n             Vector3f playerToTargetRay = new Vector3f();\n             //calculate the distance from the player to the hit point\n-            playerToTargetRay.sub(JomlUtil.from(hitInfo.getHitPoint()), localPlayer.getViewPosition());\n+            hitInfo.getHitPoint().sub(JomlUtil.from(localPlayer.getViewPosition()), playerToTargetRay);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c287016765b315fb94f689ee64037e9747540294"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY0NzcyOQ==", "bodyText": "see above", "url": "https://github.com/MovingBlocks/Terasology/pull/4161#discussion_r502647729", "createdAt": "2020-10-09T20:06:39Z", "author": {"login": "jdrueckert"}, "path": "engine/src/main/java/org/terasology/input/internal/BindableButtonImpl.java", "diffHunk": "@@ -176,7 +180,10 @@ public boolean updateBindState(Input input,\n                 }\n                 if (!keyConsumed) {\n                     buttonEvent.prepare(id, ButtonState.UP, delta);\n-                    buttonEvent.setTargetInfo(target, targetBlockPos, hitPosition, hitNormal);\n+                    buttonEvent.setTargetInfo(target,\n+                        targetBlockPos == null ? null : JomlUtil.from(targetBlockPos),\n+                        hitPosition == null ? null : JomlUtil.from(hitPosition),\n+                        hitNormal == null ? null : JomlUtil.from(hitNormal));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c287016765b315fb94f689ee64037e9747540294"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY0Nzc5OQ==", "bodyText": "see above", "url": "https://github.com/MovingBlocks/Terasology/pull/4161#discussion_r502647799", "createdAt": "2020-10-09T20:06:47Z", "author": {"login": "jdrueckert"}, "path": "engine/src/main/java/org/terasology/input/internal/BindableButtonImpl.java", "diffHunk": "@@ -205,7 +212,10 @@ public void update(EntityRef[] inputEntities,\n                 boolean consumed = triggerOnRepeat(delta, target);\n                 if (!consumed) {\n                     buttonEvent.prepare(id, ButtonState.REPEAT, delta);\n-                    buttonEvent.setTargetInfo(target, targetBlockPos, hitPosition, hitNormal);\n+                    buttonEvent.setTargetInfo(target,\n+                        targetBlockPos == null ? null : JomlUtil.from(targetBlockPos),\n+                        hitPosition == null ? null : JomlUtil.from(hitPosition),\n+                        hitNormal == null ? null : JomlUtil.from(hitNormal));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c287016765b315fb94f689ee64037e9747540294"}, "originalPosition": 86}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0NzkwNTU1", "url": "https://github.com/MovingBlocks/Terasology/pull/4161#pullrequestreview-514790555", "createdAt": "2020-10-22T14:28:37Z", "commit": {"oid": "f0bf32432f96b9cc4ff2db2b6f00c798c6b36947"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1412cac38ff77e93cf8bb2a1007c4beeeee33d79", "author": {"user": {"login": "pollend", "name": "Michael Pollind"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/1412cac38ff77e93cf8bb2a1007c4beeeee33d79", "committedDate": "2020-10-26T03:06:18Z", "message": "feat(JOML): migrate target system"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f65b65f139cc2098f439851fa32a9f98573ea2fb", "author": {"user": {"login": "pollend", "name": "Michael Pollind"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/f65b65f139cc2098f439851fa32a9f98573ea2fb", "committedDate": "2020-10-26T03:06:18Z", "message": "fix null for input"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "805e71dab2cfc241aaede977a007a15fd2a1651b", "author": {"user": {"login": "pollend", "name": "Michael Pollind"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/805e71dab2cfc241aaede977a007a15fd2a1651b", "committedDate": "2020-10-26T03:06:18Z", "message": "add null check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56979d32f5dafba46ad7f174f68ad87dac3b9bb4", "author": {"user": {"login": "pollend", "name": "Michael Pollind"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/56979d32f5dafba46ad7f174f68ad87dac3b9bb4", "committedDate": "2020-10-26T03:06:18Z", "message": "remove null check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea859e8c25aea023293f743ea34cea3f11cd6c32", "author": {"user": {"login": "pollend", "name": "Michael Pollind"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/ea859e8c25aea023293f743ea34cea3f11cd6c32", "committedDate": "2020-10-26T03:06:18Z", "message": "JomlUtil final"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a1ba5136f27fb31453e09c4865213b3af5d541cb", "author": {"user": {"login": "jdrueckert", "name": null}}, "url": "https://github.com/MovingBlocks/Terasology/commit/a1ba5136f27fb31453e09c4865213b3af5d541cb", "committedDate": "2020-10-22T14:30:50Z", "message": "Merge branch 'develop' into feature/joml-migrate-targetsystem"}, "afterCommit": {"oid": "ea859e8c25aea023293f743ea34cea3f11cd6c32", "author": {"user": {"login": "pollend", "name": "Michael Pollind"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/ea859e8c25aea023293f743ea34cea3f11cd6c32", "committedDate": "2020-10-26T03:06:18Z", "message": "JomlUtil final"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8152a4bae5e0535bbe226a6f4634f47839cf0e9", "author": {"user": {"login": "jdrueckert", "name": null}}, "url": "https://github.com/MovingBlocks/Terasology/commit/a8152a4bae5e0535bbe226a6f4634f47839cf0e9", "committedDate": "2020-10-27T17:28:39Z", "message": "Merge branch 'develop' into feature/joml-migrate-targetsystem"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1452, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}