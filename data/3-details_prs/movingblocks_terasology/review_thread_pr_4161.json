{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk1NzgyNDQ5", "number": 4161, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDowNTowOFrOEsLq6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDowNjo0N1rOEsLsqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzY0MDExOnYy", "diffSide": "RIGHT", "path": "engine/src/main/java/org/terasology/input/internal/BindableButtonImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDowNTowOFrOHfXJPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDowNTowOFrOHfXJPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY0NzEwMA==", "bodyText": "Would it make sense to have JomlUtil.from(null) return null instead?", "url": "https://github.com/MovingBlocks/Terasology/pull/4161#discussion_r502647100", "createdAt": "2020-10-09T20:05:08Z", "author": {"login": "jdrueckert"}, "path": "engine/src/main/java/org/terasology/input/internal/BindableButtonImpl.java", "diffHunk": "@@ -158,7 +159,10 @@ public boolean updateBindState(Input input,\n                 }\n                 if (!keyConsumed) {\n                     buttonEvent.prepare(id, ButtonState.DOWN, delta);\n-                    buttonEvent.setTargetInfo(target, targetBlockPos, hitPosition, hitNormal);\n+                    buttonEvent.setTargetInfo(target,\n+                        targetBlockPos == null ? null : JomlUtil.from(targetBlockPos),\n+                        hitPosition == null ? null : JomlUtil.from(hitPosition),\n+                        hitNormal == null ? null : JomlUtil.from(hitNormal));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c287016765b315fb94f689ee64037e9747540294"}, "originalPosition": 49}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzY0MzYzOnYy", "diffSide": "RIGHT", "path": "engine/src/main/java/org/terasology/input/cameraTarget/CameraTargetSystem.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDowNjoyNVrOHfXLVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQwMzowNTo1NFrOHfcsmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY0NzYzOA==", "bodyText": "I guess/hope that \"rotation\" is on purpose?\nSo TeraMath's x.sub(y, z) equals joml's y.sub(z, x)?", "url": "https://github.com/MovingBlocks/Terasology/pull/4161#discussion_r502647638", "createdAt": "2020-10-09T20:06:25Z", "author": {"login": "jdrueckert"}, "path": "engine/src/main/java/org/terasology/input/cameraTarget/CameraTargetSystem.java", "diffHunk": "@@ -144,7 +144,7 @@ private void updateFocalDistance(HitResult hitInfo, float delta) {\n         if (hitInfo.isHit()) {\n             Vector3f playerToTargetRay = new Vector3f();\n             //calculate the distance from the player to the hit point\n-            playerToTargetRay.sub(JomlUtil.from(hitInfo.getHitPoint()), localPlayer.getViewPosition());\n+            hitInfo.getHitPoint().sub(JomlUtil.from(localPlayer.getViewPosition()), playerToTargetRay);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c287016765b315fb94f689ee64037e9747540294"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjczODA3Mg==", "bodyText": "for termath x.sub(y,z) --> x = y - z where joml it's  x-y = z. z is the dest in this case.", "url": "https://github.com/MovingBlocks/Terasology/pull/4161#discussion_r502738072", "createdAt": "2020-10-10T03:05:54Z", "author": {"login": "pollend"}, "path": "engine/src/main/java/org/terasology/input/cameraTarget/CameraTargetSystem.java", "diffHunk": "@@ -144,7 +144,7 @@ private void updateFocalDistance(HitResult hitInfo, float delta) {\n         if (hitInfo.isHit()) {\n             Vector3f playerToTargetRay = new Vector3f();\n             //calculate the distance from the player to the hit point\n-            playerToTargetRay.sub(JomlUtil.from(hitInfo.getHitPoint()), localPlayer.getViewPosition());\n+            hitInfo.getHitPoint().sub(JomlUtil.from(localPlayer.getViewPosition()), playerToTargetRay);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY0NzYzOA=="}, "originalCommit": {"oid": "c287016765b315fb94f689ee64037e9747540294"}, "originalPosition": 45}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzY0NDE0OnYy", "diffSide": "RIGHT", "path": "engine/src/main/java/org/terasology/input/internal/BindableButtonImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDowNjozOVrOHfXLsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDowNjozOVrOHfXLsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY0NzcyOQ==", "bodyText": "see above", "url": "https://github.com/MovingBlocks/Terasology/pull/4161#discussion_r502647729", "createdAt": "2020-10-09T20:06:39Z", "author": {"login": "jdrueckert"}, "path": "engine/src/main/java/org/terasology/input/internal/BindableButtonImpl.java", "diffHunk": "@@ -176,7 +180,10 @@ public boolean updateBindState(Input input,\n                 }\n                 if (!keyConsumed) {\n                     buttonEvent.prepare(id, ButtonState.UP, delta);\n-                    buttonEvent.setTargetInfo(target, targetBlockPos, hitPosition, hitNormal);\n+                    buttonEvent.setTargetInfo(target,\n+                        targetBlockPos == null ? null : JomlUtil.from(targetBlockPos),\n+                        hitPosition == null ? null : JomlUtil.from(hitPosition),\n+                        hitNormal == null ? null : JomlUtil.from(hitNormal));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c287016765b315fb94f689ee64037e9747540294"}, "originalPosition": 61}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0NzY0NDU5OnYy", "diffSide": "RIGHT", "path": "engine/src/main/java/org/terasology/input/internal/BindableButtonImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDowNjo0N1rOHfXL9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMDowNjo0N1rOHfXL9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY0Nzc5OQ==", "bodyText": "see above", "url": "https://github.com/MovingBlocks/Terasology/pull/4161#discussion_r502647799", "createdAt": "2020-10-09T20:06:47Z", "author": {"login": "jdrueckert"}, "path": "engine/src/main/java/org/terasology/input/internal/BindableButtonImpl.java", "diffHunk": "@@ -205,7 +212,10 @@ public void update(EntityRef[] inputEntities,\n                 boolean consumed = triggerOnRepeat(delta, target);\n                 if (!consumed) {\n                     buttonEvent.prepare(id, ButtonState.REPEAT, delta);\n-                    buttonEvent.setTargetInfo(target, targetBlockPos, hitPosition, hitNormal);\n+                    buttonEvent.setTargetInfo(target,\n+                        targetBlockPos == null ? null : JomlUtil.from(targetBlockPos),\n+                        hitPosition == null ? null : JomlUtil.from(hitPosition),\n+                        hitNormal == null ? null : JomlUtil.from(hitNormal));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c287016765b315fb94f689ee64037e9747540294"}, "originalPosition": 86}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 373, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}