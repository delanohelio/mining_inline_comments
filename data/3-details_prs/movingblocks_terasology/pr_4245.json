{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5OTE4NTEx", "number": 4245, "title": "Extract  \"run game\" task configurations", "bodyText": "Contains\nReworking classpath, args, jvmargs handlers for game run tasks.\nExtract common part of game run tasks.\nAlso direct dependencies in classpath on running now.\nFixes #4238\nHow to test\n\n\nRun every run game task. works like should. (except profile on liberica JDK 11)\n\n\nRun  run game task on MacOS", "createdAt": "2020-11-12T14:22:10Z", "url": "https://github.com/MovingBlocks/Terasology/pull/4245", "merged": true, "mergeCommit": {"oid": "8bb63016b9bdc0b47808bcddd9735a7272c9912a"}, "closed": true, "closedAt": "2020-11-13T12:35:03Z", "author": {"login": "DarkWeird"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdby4sTAH2gAyNTE5OTE4NTExOjU1OWFiNDViYTAxM2I2ZTQ4MDdjODRhMzU2NDRmMDI1YTQ5YTAwN2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdcGZtzAFqTUzMDAyNDk4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "559ab45ba013b6e4807c84a35644f025a49a007b", "author": {"user": {"login": "DarkWeird", "name": "Nail Khanipov"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/559ab45ba013b6e4807c84a35644f025a49a007b", "committedDate": "2020-11-12T13:50:22Z", "message": "feature(build.gradle): extract common configuration for game tasks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3080eb2455da2ff166476bba4dbf1987c6f343f", "author": {"user": {"login": "DarkWeird", "name": "Nail Khanipov"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/e3080eb2455da2ff166476bba4dbf1987c6f343f", "committedDate": "2020-11-12T14:18:05Z", "message": "feature(build.gradle): make setting of args and jvmArgs to append way."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5MjkwNzE3", "url": "https://github.com/MovingBlocks/Terasology/pull/4245#pullrequestreview-529290717", "createdAt": "2020-11-12T16:55:39Z", "commit": {"oid": "e3080eb2455da2ff166476bba4dbf1987c6f343f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxNjo1NTo0MFrOHyEQ5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxNjo1NTo0MFrOHyEQ5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjI2MDcxMA==", "bodyText": "so that's ... all .. we need?", "url": "https://github.com/MovingBlocks/Terasology/pull/4245#discussion_r522260710", "createdAt": "2020-11-12T16:55:40Z", "author": {"login": "skaldarnar"}, "path": "facades/PC/build.gradle.kts", "diffHunk": "@@ -129,109 +123,45 @@ tasks.register<JavaExec>(\"game\") {\n     main = mainClassName\n     workingDir = rootDir\n \n+    classpath(sourceSets[\"main\"].runtimeClasspath)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3080eb2455da2ff166476bba4dbf1987c6f343f"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5MzU4NTI2", "url": "https://github.com/MovingBlocks/Terasology/pull/4245#pullrequestreview-529358526", "createdAt": "2020-11-12T18:11:11Z", "commit": {"oid": "e3080eb2455da2ff166476bba4dbf1987c6f343f"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxODoxMToxMVrOHyHdwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxODoxODoyM1rOHyHv8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjMxMzE1Mg==", "bodyText": "Use function-definition syntax here instead of assigning an anonymous function to this variable?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            val commonConfigure : JavaExec.()-> Unit = {\n          \n          \n            \n            fun JavaExec.commonConfigure(): Unit {\n          \n      \n    \n    \n  \n\nI think that's what you were going for. I'm a little rusty.", "url": "https://github.com/MovingBlocks/Terasology/pull/4245#discussion_r522313152", "createdAt": "2020-11-12T18:11:11Z", "author": {"login": "keturn"}, "path": "facades/PC/build.gradle.kts", "diffHunk": "@@ -111,16 +111,10 @@ configurations {\n     }\n }\n \n-tasks.register<JavaExec>(\"game\") {\n-    description = \"Run 'Terasology' to play the game as a standard PC application\"\n+// Used for all game configs.\n+val commonConfigure : JavaExec.()-> Unit = {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3080eb2455da2ff166476bba4dbf1987c6f343f"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjMxNzgwOA==", "bodyText": "and I expect this is the default classpath of the run task.\nWhat I don't know is how to take advantage of those defaults for making and customizing several different tasks. Last time I looked, run wasn't its own Class of task, it was a customized JavaExec a lot like this.\nEither way, I think this is a big improvement! We can update it later if we figure out how bring it closer to defaults, and we won't have to worry about finding all the duplicates if/when we do.", "url": "https://github.com/MovingBlocks/Terasology/pull/4245#discussion_r522317808", "createdAt": "2020-11-12T18:18:23Z", "author": {"login": "keturn"}, "path": "facades/PC/build.gradle.kts", "diffHunk": "@@ -129,109 +123,45 @@ tasks.register<JavaExec>(\"game\") {\n     main = mainClassName\n     workingDir = rootDir\n \n+    classpath(sourceSets[\"main\"].runtimeClasspath)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjI2MDcxMA=="}, "originalCommit": {"oid": "e3080eb2455da2ff166476bba4dbf1987c6f343f"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwMDI0OTg5", "url": "https://github.com/MovingBlocks/Terasology/pull/4245#pullrequestreview-530024989", "createdAt": "2020-11-13T12:34:39Z", "commit": {"oid": "e3080eb2455da2ff166476bba4dbf1987c6f343f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1298, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}