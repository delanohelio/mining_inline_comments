{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2MTMzNDUy", "number": 3899, "title": "feat(JOML): Migrate methods of WorldProvider", "bodyText": "I will start going through some of the more major systems in Terasology and provide JOML alternatives that we can start to use in place of the teramath implementations. we should be able to start removing the termath methods when these endpoints get updated in module space. I think I will start to do this for some of the more major systems that terasology uses to make the transition easier. Components are another issue that will be harder to address.\nThese methods are now backed by their joml equivalent so any actions on a given block should be the same from before. I expect breaking blocks and placement of blocks should still work the same regardless.", "createdAt": "2020-04-20T15:26:16Z", "url": "https://github.com/MovingBlocks/Terasology/pull/3899", "merged": true, "mergeCommit": {"oid": "2c15a476f656a344e530e448919f9e95cee97425"}, "closed": true, "closedAt": "2020-04-30T13:08:45Z", "author": {"login": "pollend"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZgw_sAH2gAyNDA2MTMzNDUyOjZlNmU4YzhiN2RmOTQ4MjEyYzc5ODIxMWMyOGJmMmQwMmUwODAxOTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcco054gH2gAyNDA2MTMzNDUyOmY4Y2MzYmI4Y2Y1ZWY0NzIzODY2ZTYwMDYwNGZkZWM1NDZlODg3N2M=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6e6e8c8b7df948212c798211c28bf2d02e080195", "author": {"user": {"login": "pollend", "name": "Michael Pollind"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/6e6e8c8b7df948212c798211c28bf2d02e080195", "committedDate": "2020-04-20T15:24:40Z", "message": "vector3ic for setBlock"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f51efb56d24e33662ec958b41ae69275afe8f5b", "author": {"user": {"login": "pollend", "name": "Michael Pollind"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/1f51efb56d24e33662ec958b41ae69275afe8f5b", "committedDate": "2020-04-20T15:32:49Z", "message": "updated block"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "220b894553cde8ad023b3947145653dbbfe78698", "author": {"user": {"login": "pollend", "name": "Michael Pollind"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/220b894553cde8ad023b3947145653dbbfe78698", "committedDate": "2020-04-20T16:41:50Z", "message": "added some test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9292d99201c75d8c9ab7a21dfd6f97eef7a28809", "author": {"user": {"login": "pollend", "name": "Michael Pollind"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/9292d99201c75d8c9ab7a21dfd6f97eef7a28809", "committedDate": "2020-04-20T21:43:46Z", "message": "added isBlockRelevant case to world provider"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f4abaa4a4a0be4702da89ed143580d8ee0d096e", "author": {"user": {"login": "pollend", "name": "Michael Pollind"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/2f4abaa4a4a0be4702da89ed143580d8ee0d096e", "committedDate": "2020-04-21T21:16:02Z", "message": "updated javadocs for @Deprecated"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3Nzk2ODIz", "url": "https://github.com/MovingBlocks/Terasology/pull/3899#pullrequestreview-397796823", "createdAt": "2020-04-22T02:18:41Z", "commit": {"oid": "2f4abaa4a4a0be4702da89ed143580d8ee0d096e"}, "state": "DISMISSED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQwMjoxODo0MVrOGJgSbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQwMjoyNToxMFrOGJgbFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjYxOTM3NQ==", "bodyText": "I love this test name \ud83d\udc4d", "url": "https://github.com/MovingBlocks/Terasology/pull/3899#discussion_r412619375", "createdAt": "2020-04-22T02:18:41Z", "author": {"login": "Cervator"}, "path": "engine-tests/src/test/java/org/terasology/world/EntityAwareWorldProviderTest.java", "diffHunk": "@@ -269,6 +269,16 @@ public void testEntityBecomesTemporaryWhenChangedFromAKeepActiveBlock() {\n         assertFalse(blockEntity.isActive());\n     }\n \n+    @Test\n+    public void testEntityBecomesTemporaryWhenChangedFromAKeepActiveBlockJoml() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f4abaa4a4a0be4702da89ed143580d8ee0d096e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjYyMDI3OA==", "bodyText": "Should we consider (in general) adding default interface implementations when adding new methods like this? That could avoid having to update some things in modulespace. In this case I'm not sure it makes sense as I only see one non-engine usage over in FlexiblePathfinding.", "url": "https://github.com/MovingBlocks/Terasology/pull/3899#discussion_r412620278", "createdAt": "2020-04-22T02:21:19Z", "author": {"login": "Cervator"}, "path": "engine/src/main/java/org/terasology/world/WorldProvider.java", "diffHunk": "@@ -29,19 +31,49 @@\n     /**\n      * An active block is in a chunk that is available and fully generated.\n      *\n-     * @param pos\n+     * @param pos The position\n      * @return Whether the given block is active\n+     * @deprecated This is scheduled for removal in an upcoming version\n+     *             method will be replaced with JOML implementation {@link #isBlockRelevant(Vector3ic)}.\n      */\n+    @Deprecated\n     boolean isBlockRelevant(Vector3i pos);\n \n+    /**\n+     *\n+     * @param pos The position\n+     * @return Whether the given block is active\n+     */\n+    boolean isBlockRelevant(Vector3ic pos);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f4abaa4a4a0be4702da89ed143580d8ee0d096e"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjYyMDU5Nw==", "bodyText": "Some sort of descriptor for the method itself here please :-) Looks like the old method has one, can just copy it forward.", "url": "https://github.com/MovingBlocks/Terasology/pull/3899#discussion_r412620597", "createdAt": "2020-04-22T02:22:11Z", "author": {"login": "Cervator"}, "path": "engine/src/main/java/org/terasology/world/WorldProvider.java", "diffHunk": "@@ -29,19 +31,49 @@\n     /**\n      * An active block is in a chunk that is available and fully generated.\n      *\n-     * @param pos\n+     * @param pos The position\n      * @return Whether the given block is active\n+     * @deprecated This is scheduled for removal in an upcoming version\n+     *             method will be replaced with JOML implementation {@link #isBlockRelevant(Vector3ic)}.\n      */\n+    @Deprecated\n     boolean isBlockRelevant(Vector3i pos);\n \n+    /**\n+     *", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f4abaa4a4a0be4702da89ed143580d8ee0d096e"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjYyMTU5MA==", "bodyText": "Explicit package like this makes me sad - can we avoid it via imports or is something in the way of that?", "url": "https://github.com/MovingBlocks/Terasology/pull/3899#discussion_r412621590", "createdAt": "2020-04-22T02:25:10Z", "author": {"login": "Cervator"}, "path": "engine/src/main/java/org/terasology/world/internal/WorldProviderWrapper.java", "diffHunk": "@@ -44,26 +46,51 @@ public boolean isBlockRelevant(Vector3i pos) {\n         return core.isBlockRelevant(pos.x, pos.y, pos.z);\n     }\n \n+    @Override\n+    public boolean isBlockRelevant(Vector3ic pos) {\n+        return core.isBlockRelevant(pos.x(), pos.y(), pos.z());\n+    }\n+\n     @Override\n     public boolean isBlockRelevant(Vector3f pos) {\n         return isBlockRelevant(new Vector3i(pos, RoundingMode.HALF_UP));\n     }\n \n+    @Override\n+    public boolean isBlockRelevant(Vector3fc pos) {\n+        return isBlockRelevant(new org.joml.Vector3i(pos, org.joml.RoundingMode.HALF_UP));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f4abaa4a4a0be4702da89ed143580d8ee0d096e"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzMzA4MTM1", "url": "https://github.com/MovingBlocks/Terasology/pull/3899#pullrequestreview-403308135", "createdAt": "2020-04-30T08:28:48Z", "commit": {"oid": "2f4abaa4a4a0be4702da89ed143580d8ee0d096e"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwODoyODo0OVrOGOfGVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQwODoyODo0OVrOGOfGVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzg0Mjc3NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 *\n          \n          \n            \n                 * An active block is in a chunk that is available and fully generated.", "url": "https://github.com/MovingBlocks/Terasology/pull/3899#discussion_r417842775", "createdAt": "2020-04-30T08:28:49Z", "author": {"login": "skaldarnar"}, "path": "engine/src/main/java/org/terasology/world/WorldProvider.java", "diffHunk": "@@ -29,19 +31,49 @@\n     /**\n      * An active block is in a chunk that is available and fully generated.\n      *\n-     * @param pos\n+     * @param pos The position\n      * @return Whether the given block is active\n+     * @deprecated This is scheduled for removal in an upcoming version\n+     *             method will be replaced with JOML implementation {@link #isBlockRelevant(Vector3ic)}.\n      */\n+    @Deprecated\n     boolean isBlockRelevant(Vector3i pos);\n \n+    /**\n+     *", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjYyMDU5Nw=="}, "originalCommit": {"oid": "2f4abaa4a4a0be4702da89ed143580d8ee0d096e"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8cc3bb8cf5ef4723866e600604fdec546e8877c", "author": {"user": {"login": "skaldarnar", "name": "Tobias Nett"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/f8cc3bb8cf5ef4723866e600604fdec546e8877c", "committedDate": "2020-04-30T08:29:57Z", "message": "Update engine/src/main/java/org/terasology/world/WorldProvider.java"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1737, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}