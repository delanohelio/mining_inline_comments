{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM3NDQ1MTkw", "number": 4313, "title": "fix(world): Compute border requests from rasterizers and `@Updates` annotations.", "bodyText": "The previous algorithm for calculating border sizes didn't entirely make sense and couldn't account for borders requested in @Updates annotations properly, and entirely ignored borders required by rasterizers, leading to occasional errors like cut-off trees.", "createdAt": "2020-12-11T21:45:37Z", "url": "https://github.com/MovingBlocks/Terasology/pull/4313", "merged": true, "mergeCommit": {"oid": "1d7ae967d6440ea22d9635c84c23ded6b6848e32"}, "closed": true, "closedAt": "2020-12-27T14:20:40Z", "author": {"login": "4Denthusiast"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdlPAuWAH2gAyNTM3NDQ1MTkwOjExYjc3M2QxMGM2OWNjZmM0M2UwMzc1YTdhMzljMWVmNTBmYWE2NTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdqSRtEgFqTU1ODkzMjUyNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "11b773d10c69ccfc43e0375a7a39c1ef50faa657", "author": {"user": {"login": "4Denthusiast", "name": null}}, "url": "https://github.com/MovingBlocks/Terasology/commit/11b773d10c69ccfc43e0375a7a39c1ef50faa657", "committedDate": "2020-12-11T21:41:48Z", "message": "Fix border requests from rasterizers and @Updates annotations."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91474bab17c1332642e979b51f994928da0d5790", "author": {"user": {"login": "skaldarnar", "name": "Tobias Nett"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/91474bab17c1332642e979b51f994928da0d5790", "committedDate": "2020-12-12T20:44:02Z", "message": "Merge branch 'develop' into fix/updatesAndRasterizersBorders"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f5bfce0a2280fbb9f2a5ea7174e8ab43efc3524", "author": {"user": {"login": "skaldarnar", "name": "Tobias Nett"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/5f5bfce0a2280fbb9f2a5ea7174e8ab43efc3524", "committedDate": "2020-12-13T10:45:08Z", "message": "Merge branch 'develop' into fix/updatesAndRasterizersBorders"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8af05bad2166c272d2dfea73d07f291c2d1c4eff", "author": {"user": {"login": "skaldarnar", "name": "Tobias Nett"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/8af05bad2166c272d2dfea73d07f291c2d1c4eff", "committedDate": "2020-12-20T21:39:16Z", "message": "Merge branch 'develop' into fix/updatesAndRasterizersBorders"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe8e8f189c555fe893ac144ec7fd4492cf01779d", "author": {"user": {"login": "pollend", "name": "Michael Pollind"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/fe8e8f189c555fe893ac144ec7fd4492cf01779d", "committedDate": "2020-12-27T05:17:29Z", "message": "Merge branch 'develop' into fix/updatesAndRasterizersBorders"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4OTMwODYx", "url": "https://github.com/MovingBlocks/Terasology/pull/4313#pullrequestreview-558930861", "createdAt": "2020-12-27T13:53:47Z", "commit": {"oid": "fe8e8f189c555fe893ac144ec7fd4492cf01779d"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4OTMyMzY1", "url": "https://github.com/MovingBlocks/Terasology/pull/4313#pullrequestreview-558932365", "createdAt": "2020-12-27T14:17:17Z", "commit": {"oid": "fe8e8f189c555fe893ac144ec7fd4492cf01779d"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yN1QxNDoxNzoxN1rOILrimA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yN1QxNDoxNzo0OFrOILriyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTExODYxNg==", "bodyText": "would this be union to keep the terminology similar to BlockRegion?", "url": "https://github.com/MovingBlocks/Terasology/pull/4313#discussion_r549118616", "createdAt": "2020-12-27T14:17:17Z", "author": {"login": "skaldarnar"}, "path": "engine/src/main/java/org/terasology/world/generation/Border3D.java", "diffHunk": "@@ -113,19 +117,30 @@ public Border3D extendBy(int topExtension, int bottomExtension, int sidesExtensi\n         return new Border3D(top + topExtension, bottom + bottomExtension, sides + sidesExtension);\n     }\n \n+    /**\n+     * Extends the border by using the sizes of another border.\n+     * @param other The border to add to this one\n+     * @return The new border with the extra extensions.\n+     */\n+    public Border3D extendBy(Border3D other) {\n+        return new Border3D(top + other.top, bottom + other.bottom, sides + other.sides);\n+    }\n+\n     /**\n      * Returns a new border, using the largest value of each extension for both borders. Border A(Sides=5,Bottom=4,Top=3) maxed with border B (Sides=3,Bottom=4,Top=5)\n      * would make a border C with boundries: (5,4,5).\n-     * @param topValue The top value to compare with the instance's top value.\n-     * @param bottomValue The bottom value to compare with the instance's bottom value.\n-     * @param sidesValue The sides value to compare with the instance's sides value.\n-     * @return The resulting Border3D.\n+     * @param other The top value to compare with the instance's top value.\n+     * @return The resulting new Border3D.\n      */\n-    public Border3D maxWith(int topValue, int bottomValue, int sidesValue) {\n-        return new Border3D(\n-                Math.max(top, topValue),\n-                Math.max(bottom, bottomValue),\n-                Math.max(sides, sidesValue));\n+    public Border3D maxWith(Border3D other) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe8e8f189c555fe893ac144ec7fd4492cf01779d"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTExODY2NQ==", "bodyText": "Maybe use expandBy to be a bit closer to BlockRegion? Wait, we also have expandTo3D, and this only adds another variant taking another border...\nWe could still discuss the naming on borders at some point.", "url": "https://github.com/MovingBlocks/Terasology/pull/4313#discussion_r549118665", "createdAt": "2020-12-27T14:17:48Z", "author": {"login": "skaldarnar"}, "path": "engine/src/main/java/org/terasology/world/generation/Border3D.java", "diffHunk": "@@ -113,19 +117,30 @@ public Border3D extendBy(int topExtension, int bottomExtension, int sidesExtensi\n         return new Border3D(top + topExtension, bottom + bottomExtension, sides + sidesExtension);\n     }\n \n+    /**\n+     * Extends the border by using the sizes of another border.\n+     * @param other The border to add to this one\n+     * @return The new border with the extra extensions.\n+     */\n+    public Border3D extendBy(Border3D other) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe8e8f189c555fe893ac144ec7fd4492cf01779d"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4OTMyNTI0", "url": "https://github.com/MovingBlocks/Terasology/pull/4313#pullrequestreview-558932524", "createdAt": "2020-12-27T14:19:41Z", "commit": {"oid": "fe8e8f189c555fe893ac144ec7fd4492cf01779d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1201, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}