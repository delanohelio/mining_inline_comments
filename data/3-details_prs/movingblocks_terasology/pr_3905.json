{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA3NTg1NzQy", "number": 3905, "title": "chore: Improve camera math usage", "bodyText": "This PR fixes math misusage in the Camera class.\nThe viewingDirection member was set to the xyz-values of a given quaternion in setOrientation().\nThis value was then used in getOrientation() as a viewing axis to define a quaternion from an axis and an angle.\nThe xyz-values of a quaternion do not represent a viewing axis, nor do they represent a viewing direction.\nThe value was also used throughout the application as actual viewing direction.\nI fixed the calculation of the viewing direction and kept the viewing axis as well.\nTo verify, check if the camera behaves as expected.", "createdAt": "2020-04-22T22:46:05Z", "url": "https://github.com/MovingBlocks/Terasology/pull/3905", "merged": true, "mergeCommit": {"oid": "b540e17e1590c534d792bcc4c6947167098743ef"}, "closed": true, "closedAt": "2020-04-26T11:35:00Z", "author": {"login": "kBlaszczyk"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcaPB-ngH2gAyNDA3NTg1NzQyOjliYzAwMzM0M2FhZTQ0MTk2M2I5MjhkNDg1OTY4OGQ4MTkzZDNmYTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcbZDd1gFqTQwMDQ5MzM0Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9bc003343aae441963b928d4859688d8193d3fa5", "author": {"user": {"login": "kBlaszczyk", "name": "Kevin Blaszczyk"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/9bc003343aae441963b928d4859688d8193d3fa5", "committedDate": "2020-04-22T21:18:51Z", "message": "Fix camera math."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fccc283b92a1b31045624f770fde4aede55fe1c7", "author": {"user": {"login": "kBlaszczyk", "name": "Kevin Blaszczyk"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/fccc283b92a1b31045624f770fde4aede55fe1c7", "committedDate": "2020-04-22T22:13:41Z", "message": "Refactoring."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NjQ1NDAw", "url": "https://github.com/MovingBlocks/Terasology/pull/3905#pullrequestreview-398645400", "createdAt": "2020-04-22T22:52:59Z", "commit": {"oid": "fccc283b92a1b31045624f770fde4aede55fe1c7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NjQ1NzM5", "url": "https://github.com/MovingBlocks/Terasology/pull/3905#pullrequestreview-398645739", "createdAt": "2020-04-22T22:53:47Z", "commit": {"oid": "fccc283b92a1b31045624f770fde4aede55fe1c7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMjo1Mzo0N1rOGKPIZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMjo1Mzo0N1rOGKPIZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzM4Njg1NA==", "bodyText": "would it be more clear to use JomlUtil.from instead of importing the static method.", "url": "https://github.com/MovingBlocks/Terasology/pull/3905#discussion_r413386854", "createdAt": "2020-04-22T22:53:47Z", "author": {"login": "pollend"}, "path": "engine/src/main/java/org/terasology/rendering/cameras/Camera.java", "diffHunk": "@@ -203,19 +211,18 @@ public Vector3f getViewingDirection() {\n \n     /**\n      * Get the orientation of the camera.\n-     * @return the orientation direction, a quaternion.\n+     * @return the orientation\n      */\n     public Quat4f getOrientation() {\n-        return new Quat4f(JomlUtil.from(viewingDirection), viewingAngle);\n+        return new Quat4f(from(viewingAxis), viewingAngle);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fccc283b92a1b31045624f770fde4aede55fe1c7"}, "originalPosition": 47}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d7c2e57c7682ee80ef84384426d61104184aef9", "author": {"user": {"login": "kBlaszczyk", "name": "Kevin Blaszczyk"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/2d7c2e57c7682ee80ef84384426d61104184aef9", "committedDate": "2020-04-22T22:59:32Z", "message": "Make JomlUtil usage more explicit."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NjYwOTAz", "url": "https://github.com/MovingBlocks/Terasology/pull/3905#pullrequestreview-398660903", "createdAt": "2020-04-22T23:31:29Z", "commit": {"oid": "2d7c2e57c7682ee80ef84384426d61104184aef9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwNDkzMzQ3", "url": "https://github.com/MovingBlocks/Terasology/pull/3905#pullrequestreview-400493347", "createdAt": "2020-04-26T11:33:27Z", "commit": {"oid": "2d7c2e57c7682ee80ef84384426d61104184aef9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1751, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}