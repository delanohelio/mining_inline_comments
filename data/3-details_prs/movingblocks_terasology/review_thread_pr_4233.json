{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0OTIzMTUz", "number": 4233, "reviewThreads": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNzoxNDozN1rOE1GK8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOFQwMDowNzoyOVrOE2ZmEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0MTExMDg4OnYy", "diffSide": "RIGHT", "path": "engine/src/main/java/org/terasology/config/PlayerConfig.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNzoxNDozN1rOHtLeJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNzoxNDozN1rOHtLeJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzEzNTkwOQ==", "bodyText": "I'd like to take the chance to put some docstring here. Will take a closer look at this file to answer the following questions:\n\nwhat does it do? what kind of data does it hold?\nhow does subscription work? how should that be used?\nany general notes?\n\n@DarkWeird feel free to share some thoughts on this, I'll take care of making the Englishz fancy \ud83e\udd13 \ud83d\ude43", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r517135909", "createdAt": "2020-11-04T07:14:37Z", "author": {"login": "skaldarnar"}, "path": "engine/src/main/java/org/terasology/config/PlayerConfig.java", "diffHunk": "@@ -16,15 +16,18 @@\n \n package org.terasology.config;\n \n-import java.util.List;\n-\n-import org.terasology.engine.subsystem.rpc.DiscordRPCSubSystem;\n import org.terasology.nui.Color;\n import org.terasology.rendering.nui.layers.mainMenu.settings.CieCamColors;\n import org.terasology.utilities.random.FastRandom;\n import org.terasology.utilities.random.Random;\n+import org.terasology.utilities.subscribables.AbstractSubscribable;\n+\n+import java.util.List;\n+\n+public class PlayerConfig extends AbstractSubscribable {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "866963cd3fa26276b1ba0c50c0d130fa6aed1ef1"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0MTEyMzkzOnYy", "diffSide": "RIGHT", "path": "subsystems/DiscordRPC/build.gradle.kts", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNzoxOTo1NFrOHtLl4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwODo0Njo0NVrOHtOK1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzEzNzg4OQ==", "bodyText": "Gradle confuses me \ud83e\uddd0  Do you use backticks, single quotes, or double quotes here in the plugin section?", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r517137889", "createdAt": "2020-11-04T07:19:54Z", "author": {"login": "skaldarnar"}, "path": "subsystems/DiscordRPC/build.gradle.kts", "diffHunk": "@@ -0,0 +1,12 @@\n+plugins {\n+    java\n+    `java-library`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "866963cd3fa26276b1ba0c50c0d130fa6aed1ef1"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzE0ODg1OA==", "bodyText": "It is kotlin.\nYou can write methods with spaces too(useful for test names).", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r517148858", "createdAt": "2020-11-04T07:45:55Z", "author": {"login": "DarkWeird"}, "path": "subsystems/DiscordRPC/build.gradle.kts", "diffHunk": "@@ -0,0 +1,12 @@\n+plugins {\n+    java\n+    `java-library`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzEzNzg4OQ=="}, "originalCommit": {"oid": "866963cd3fa26276b1ba0c50c0d130fa6aed1ef1"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzE4MDExNw==", "bodyText": "\ud83d\udca1", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r517180117", "createdAt": "2020-11-04T08:46:45Z", "author": {"login": "skaldarnar"}, "path": "subsystems/DiscordRPC/build.gradle.kts", "diffHunk": "@@ -0,0 +1,12 @@\n+plugins {\n+    java\n+    `java-library`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzEzNzg4OQ=="}, "originalCommit": {"oid": "866963cd3fa26276b1ba0c50c0d130fa6aed1ef1"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0MTEyNzc0OnYy", "diffSide": "RIGHT", "path": "subsystems/DiscordRPC/build.gradle.kts", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNzoyMToyNFrOHtLoEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNzoyMToyNFrOHtLoEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzEzODQ0OA==", "bodyText": "Let's make sure that there is a README in subsystems/DiscordRPC to explain how this works and how it is supposed to be used. Maybe we should even have a README in the subsystems folder itself to explain the separation. Would be a good place to the diagrams you shared in Discord, too \ud83d\ude09", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r517138448", "createdAt": "2020-11-04T07:21:24Z", "author": {"login": "skaldarnar"}, "path": "subsystems/DiscordRPC/build.gradle.kts", "diffHunk": "@@ -0,0 +1,12 @@\n+plugins {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "866963cd3fa26276b1ba0c50c0d130fa6aed1ef1"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0MTEyOTc0OnYy", "diffSide": "RIGHT", "path": "subsystems/DiscordRPC/src/main/java/org/terasology/engine/subsystem/discordrpc/DiscordRPCSubSystem.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNzoyMjowNFrOHtLpJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wN1QxMDozMDoyNVrOHvHLBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzEzODcyNA==", "bodyText": "Should this package name still have engine in it?\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            package org.terasology.engine.subsystem.discordrpc;\n          \n          \n            \n            package org.terasology.subsystem.discordrpc;", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r517138724", "createdAt": "2020-11-04T07:22:04Z", "author": {"login": "skaldarnar"}, "path": "subsystems/DiscordRPC/src/main/java/org/terasology/engine/subsystem/discordrpc/DiscordRPCSubSystem.java", "diffHunk": "@@ -13,7 +13,7 @@\n  * See the License for the specific language governing permissions and\n  * limitations under the License.\n  */\n-package org.terasology.engine.subsystem.rpc;\n+package org.terasology.engine.subsystem.discordrpc;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "866963cd3fa26276b1ba0c50c0d130fa6aed1ef1"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzg3OTI3Nw==", "bodyText": "it is still part of engine yet.", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r517879277", "createdAt": "2020-11-05T08:44:51Z", "author": {"login": "DarkWeird"}, "path": "subsystems/DiscordRPC/src/main/java/org/terasology/engine/subsystem/discordrpc/DiscordRPCSubSystem.java", "diffHunk": "@@ -13,7 +13,7 @@\n  * See the License for the specific language governing permissions and\n  * limitations under the License.\n  */\n-package org.terasology.engine.subsystem.rpc;\n+package org.terasology.engine.subsystem.discordrpc;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzEzODcyNA=="}, "originalCommit": {"oid": "866963cd3fa26276b1ba0c50c0d130fa6aed1ef1"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTE2MjYzMA==", "bodyText": "as in: still in the engine repo? or still technically in the engine? I don't mind too much, was just wondering...", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r519162630", "createdAt": "2020-11-07T10:30:25Z", "author": {"login": "skaldarnar"}, "path": "subsystems/DiscordRPC/src/main/java/org/terasology/engine/subsystem/discordrpc/DiscordRPCSubSystem.java", "diffHunk": "@@ -13,7 +13,7 @@\n  * See the License for the specific language governing permissions and\n  * limitations under the License.\n  */\n-package org.terasology.engine.subsystem.rpc;\n+package org.terasology.engine.subsystem.discordrpc;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzEzODcyNA=="}, "originalCommit": {"oid": "866963cd3fa26276b1ba0c50c0d130fa6aed1ef1"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0MTEzNDY3OnYy", "diffSide": "RIGHT", "path": "subsystems/DiscordRPC/src/main/java/org/terasology/engine/subsystem/discordrpc/DiscordRPCSystem.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNzoyNDowNlrOHtLr_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNzoyNDowNlrOHtLr_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzEzOTQ1NA==", "bodyText": "Let's update all the license headers in the extracted subsystem to use the shorter two-line license.", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r517139454", "createdAt": "2020-11-04T07:24:06Z", "author": {"login": "skaldarnar"}, "path": "subsystems/DiscordRPC/src/main/java/org/terasology/engine/subsystem/discordrpc/DiscordRPCSystem.java", "diffHunk": "@@ -13,9 +13,11 @@\n  * See the License for the specific language governing permissions and\n  * limitations under the License.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "866963cd3fa26276b1ba0c50c0d130fa6aed1ef1"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0MTEzODU0OnYy", "diffSide": "RIGHT", "path": "subsystems/subprojects.settings.gradle", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNzoyNTozNFrOHtLuQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNzoyNTozNFrOHtLuQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzE0MDAzNQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    println \"Processing facade $subprojectName, including it as a sub-project\"\n          \n          \n            \n                    println \"Including '$subprojectName' as a sub-project\"", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r517140035", "createdAt": "2020-11-04T07:25:34Z", "author": {"login": "skaldarnar"}, "path": "subsystems/subprojects.settings.gradle", "diffHunk": "@@ -0,0 +1,13 @@\n+// This magically allows subdirs in this subproject to themselves become sub-subprojects in a proper tree structure\n+new File(rootDir, 'subsystems').eachDir { possibleSubprojectDir ->\n+    if (!possibleSubprojectDir.name.startsWith(\".\")) {\n+        def subprojectName = 'subsystems:' + possibleSubprojectDir.name\n+        println \"Processing facade $subprojectName, including it as a sub-project\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "866963cd3fa26276b1ba0c50c0d130fa6aed1ef1"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0MTE3MzYyOnYy", "diffSide": "RIGHT", "path": "subsystems/subprojects.settings.gradle", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNzozNzo1NVrOHtMCnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwNzozNzo1NVrOHtMCnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzE0NTI0Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    println \"Ignoring entry $possibleSubprojectDir as it starts with .\"\n          \n          \n            \n                    println \"Ignoring hidden folder '$possibleSubprojectDir'\"", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r517145247", "createdAt": "2020-11-04T07:37:55Z", "author": {"login": "skaldarnar"}, "path": "subsystems/subprojects.settings.gradle", "diffHunk": "@@ -0,0 +1,13 @@\n+// This magically allows subdirs in this subproject to themselves become sub-subprojects in a proper tree structure\n+new File(rootDir, 'subsystems').eachDir { possibleSubprojectDir ->\n+    if (!possibleSubprojectDir.name.startsWith(\".\")) {\n+        def subprojectName = 'subsystems:' + possibleSubprojectDir.name\n+        println \"Processing facade $subprojectName, including it as a sub-project\"\n+        include subprojectName\n+        def subprojectPath = ':' + subprojectName\n+        def subproject = project(subprojectPath)\n+        subproject.projectDir = possibleSubprojectDir\n+    } else {\n+        println \"Ignoring entry $possibleSubprojectDir as it starts with .\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "866963cd3fa26276b1ba0c50c0d130fa6aed1ef1"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1MTI1MzQxOnYy", "diffSide": "RIGHT", "path": "facades/PC/build.gradle.kts", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxMjoxNTo1MFrOHur0Jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxMjoxNTo1MFrOHur0Jw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODcxNDQwNw==", "bodyText": "Missed to change the text when copy-pasting I guess \ud83d\ude09\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    description = \"for fetching modules for running a server\"\n          \n          \n            \n                    description = \"for fetching subsystems\"", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r518714407", "createdAt": "2020-11-06T12:15:50Z", "author": {"login": "skaldarnar"}, "path": "facades/PC/build.gradle.kts", "diffHunk": "@@ -111,6 +101,22 @@ configurations {\n         description = \"for fetching modules for running a server\"\n         isTransitive = false\n     }\n+    register(\"subsystem\") {\n+        description = \"for fetching modules for running a server\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "692efac568a01d80aa901746beae65db4b7a6347"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1MTI1NTUxOnYy", "diffSide": "RIGHT", "path": "facades/PC/build.gradle.kts", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxMjoxNjozN1rOHur1fQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wN1QyMzo0Nzo1NlrOHvLm5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODcxNDc0OQ==", "bodyText": "Does \"subsystem\" need to be quoted here?", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r518714749", "createdAt": "2020-11-06T12:16:37Z", "author": {"login": "skaldarnar"}, "path": "facades/PC/build.gradle.kts", "diffHunk": "@@ -111,6 +101,22 @@ configurations {\n         description = \"for fetching modules for running a server\"\n         isTransitive = false\n     }\n+    register(\"subsystem\") {\n+        description = \"for fetching modules for running a server\"\n+    }\n+    implementation {\n+        extendsFrom(configurations[\"subsystem\"])\n+    }\n+}\n+\n+dependencies {\n+    implementation(project(\":engine\"))\n+    \"subsystem\"(project(\":subsystems:DiscordRPC\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "692efac568a01d80aa901746beae65db4b7a6347"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTE5NTE1NQ==", "bodyText": "Yeah, it is configuration.\nIn groovy i can omit \".\nBut it is kotlin. and this configuration from this file, not from plugins.", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r519195155", "createdAt": "2020-11-07T16:44:39Z", "author": {"login": "DarkWeird"}, "path": "facades/PC/build.gradle.kts", "diffHunk": "@@ -111,6 +101,22 @@ configurations {\n         description = \"for fetching modules for running a server\"\n         isTransitive = false\n     }\n+    register(\"subsystem\") {\n+        description = \"for fetching modules for running a server\"\n+    }\n+    implementation {\n+        extendsFrom(configurations[\"subsystem\"])\n+    }\n+}\n+\n+dependencies {\n+    implementation(project(\":engine\"))\n+    \"subsystem\"(project(\":subsystems:DiscordRPC\"))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODcxNDc0OQ=="}, "originalCommit": {"oid": "692efac568a01d80aa901746beae65db4b7a6347"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTIxMzM0OA==", "bodyText": "It would be nice to complete #4157 before introducing new complications to the facade build.\nI think I would have stuck with the built-in implementation Configuration for the subsystems here instead of making a custom Configuration for them.\nI can start to imagine why it might be nice to separate them. For example, if we had a lot of Subsystems, and a bunch of other direct dependencies, and we had some troubleshooting use case where we needed to see the Subsystem dependencies independently and there was a nice diagnostic report for that \u2014\nbut I don't expect that to be the case, and I'm concerned it's not worth the added complexity to the build file and the loss of edit-time type-checking on the custom Configuration name. Are there other benefits to it I have overlooked?", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r519213348", "createdAt": "2020-11-07T20:06:09Z", "author": {"login": "keturn"}, "path": "facades/PC/build.gradle.kts", "diffHunk": "@@ -111,6 +101,22 @@ configurations {\n         description = \"for fetching modules for running a server\"\n         isTransitive = false\n     }\n+    register(\"subsystem\") {\n+        description = \"for fetching modules for running a server\"\n+    }\n+    implementation {\n+        extendsFrom(configurations[\"subsystem\"])\n+    }\n+}\n+\n+dependencies {\n+    implementation(project(\":engine\"))\n+    \"subsystem\"(project(\":subsystems:DiscordRPC\"))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODcxNDc0OQ=="}, "originalCommit": {"oid": "692efac568a01d80aa901746beae65db4b7a6347"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTIxNjU3MA==", "bodyText": "I don't think that picocli will produce many conflicts.\nNew configuration introduced for classpath at run tasks (you made building classpath from engine, it's dependencies and facade )", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r519216570", "createdAt": "2020-11-07T20:43:15Z", "author": {"login": "DarkWeird"}, "path": "facades/PC/build.gradle.kts", "diffHunk": "@@ -111,6 +101,22 @@ configurations {\n         description = \"for fetching modules for running a server\"\n         isTransitive = false\n     }\n+    register(\"subsystem\") {\n+        description = \"for fetching modules for running a server\"\n+    }\n+    implementation {\n+        extendsFrom(configurations[\"subsystem\"])\n+    }\n+}\n+\n+dependencies {\n+    implementation(project(\":engine\"))\n+    \"subsystem\"(project(\":subsystems:DiscordRPC\"))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODcxNDc0OQ=="}, "originalCommit": {"oid": "692efac568a01d80aa901746beae65db4b7a6347"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTIzNTMwMg==", "bodyText": "you made building classpath from engine, it's dependencies and facade\n\nI didn't! But yes my name is probably on all the lines because of the change to .kts.\n\nI don't think that picocli will produce many conflicts.\n\nHmm, I see I was unclear when I referred to picocli's issue. The bug that is blocking the picocli PR is that picocli isn't included in the runtime classpath of the game task (and others). That is why I have been asking all these questions about why the heck those tasks are written the way they are.\nBut this is not really in the scope of picocli, and I believe you have run in to the same problem here, let us separate it to another issue: #4238\nMy objection is that these tasks already have a bunch of configuration in them that nobody seems to be able to explain, and this change makes the facade build configuration more complicated, not less.\nSo it's not that this conflicts with picocli, exactly. It conflicts with trying to fix the bug-that-blocks-picocli.", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r519235302", "createdAt": "2020-11-07T23:47:56Z", "author": {"login": "keturn"}, "path": "facades/PC/build.gradle.kts", "diffHunk": "@@ -111,6 +101,22 @@ configurations {\n         description = \"for fetching modules for running a server\"\n         isTransitive = false\n     }\n+    register(\"subsystem\") {\n+        description = \"for fetching modules for running a server\"\n+    }\n+    implementation {\n+        extendsFrom(configurations[\"subsystem\"])\n+    }\n+}\n+\n+dependencies {\n+    implementation(project(\":engine\"))\n+    \"subsystem\"(project(\":subsystems:DiscordRPC\"))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODcxNDc0OQ=="}, "originalCommit": {"oid": "692efac568a01d80aa901746beae65db4b7a6347"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1NDU3MzY0OnYy", "diffSide": "RIGHT", "path": "subsystems/subprojects.settings.gradle", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wN1QxOTo0NTowMVrOHvKJzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wN1QxOTo0NTowMVrOHvKJzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTIxMTQ3MA==", "bodyText": "I prefer using logger.info instead of println for this sort of thing. It will make these messages show up when running gradlew --info but also allow it to be hidden during quiet builds.", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r519211470", "createdAt": "2020-11-07T19:45:01Z", "author": {"login": "keturn"}, "path": "subsystems/subprojects.settings.gradle", "diffHunk": "@@ -0,0 +1,13 @@\n+// This magically allows subdirs in this subproject to themselves become sub-subprojects in a proper tree structure\n+new File(rootDir, 'subsystems').eachDir { possibleSubprojectDir ->\n+    if (!possibleSubprojectDir.name.startsWith(\".\")) {\n+        def subprojectName = 'subsystems:' + possibleSubprojectDir.name\n+        println \"Including '$subprojectName' as a sub-project\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b857b998b6f7778a0dc0cae6feb4412feac7f73"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1NDc3OTA0OnYy", "diffSide": "RIGHT", "path": "subsystems/DiscordRPC/build.gradle.kts", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOFQwMDowNzoyOVrOHvLtng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQyMToxNDoxNFrOHxehRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTIzNzAyMg==", "bodyText": "What does this need from publish.gradle?\ndo we expect subsystems to be published as independent artifacts to the jar repository?", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r519237022", "createdAt": "2020-11-08T00:07:29Z", "author": {"login": "keturn"}, "path": "subsystems/DiscordRPC/build.gradle.kts", "diffHunk": "@@ -0,0 +1,12 @@\n+plugins {\n+    java\n+    `java-library`\n+}\n+\n+apply(from = \"$rootDir/config/gradle/publish.gradle\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b857b998b6f7778a0dc0cae6feb4412feac7f73"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTI2MTIyNw==", "bodyText": "I think publishing is possible in future.\nReally i can use common. Because i needs repositories from it", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r519261227", "createdAt": "2020-11-08T06:02:43Z", "author": {"login": "DarkWeird"}, "path": "subsystems/DiscordRPC/build.gradle.kts", "diffHunk": "@@ -0,0 +1,12 @@\n+plugins {\n+    java\n+    `java-library`\n+}\n+\n+apply(from = \"$rootDir/config/gradle/publish.gradle\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTIzNzAyMg=="}, "originalCommit": {"oid": "3b857b998b6f7778a0dc0cae6feb4412feac7f73"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTM0NDc0Mw==", "bodyText": "Even though it might be possible in the future we should probably not include it right now. Using common might indeed be a better option.", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r519344743", "createdAt": "2020-11-08T10:44:02Z", "author": {"login": "skaldarnar"}, "path": "subsystems/DiscordRPC/build.gradle.kts", "diffHunk": "@@ -0,0 +1,12 @@\n+plugins {\n+    java\n+    `java-library`\n+}\n+\n+apply(from = \"$rootDir/config/gradle/publish.gradle\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTIzNzAyMg=="}, "originalCommit": {"oid": "3b857b998b6f7778a0dc0cae6feb4412feac7f73"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTY0MjMwOA==", "bodyText": "Ah, okay. Maybe still something to review later, but common doesn't worry me as much as publish. \ud83d\udc4d", "url": "https://github.com/MovingBlocks/Terasology/pull/4233#discussion_r521642308", "createdAt": "2020-11-11T21:14:14Z", "author": {"login": "keturn"}, "path": "subsystems/DiscordRPC/build.gradle.kts", "diffHunk": "@@ -0,0 +1,12 @@\n+plugins {\n+    java\n+    `java-library`\n+}\n+\n+apply(from = \"$rootDir/config/gradle/publish.gradle\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTIzNzAyMg=="}, "originalCommit": {"oid": "3b857b998b6f7778a0dc0cae6feb4412feac7f73"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 249, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}