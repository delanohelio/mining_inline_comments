{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyMjkwNTUy", "number": 3840, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzoyOToxMlrODmZLzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNDoxMjowN1rODnF36Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNTg1MTAxOnYy", "diffSide": "RIGHT", "path": "engine/src/main/java/org/terasology/rendering/nui/layers/mainMenu/moduleDetailsScreen/ModuleDetailsScreen.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzoyOToxMlrOFzyTmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzoyOToxMlrOFzyTmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTg0NTkxNQ==", "bodyText": "Formatting of braces seems a bit off.", "url": "https://github.com/MovingBlocks/Terasology/pull/3840#discussion_r389845915", "createdAt": "2020-03-09T17:29:12Z", "author": {"login": "e-aakash"}, "path": "engine/src/main/java/org/terasology/rendering/nui/layers/mainMenu/moduleDetailsScreen/ModuleDetailsScreen.java", "diffHunk": "@@ -187,7 +190,28 @@ public String getString(Module value) {\n                     return value.getMetadata().getDisplayName().toString();\n                 }\n                 return \"\";\n+\n+            }\n+            @Override\n+            public void draw(Module value, Canvas canvas) {\n+                 if(!validateModuleDependencies(value.getId()))\n+                {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee5bc4580840363450462279ac8de1fb0364d4ae"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNTg1NzAxOnYy", "diffSide": "RIGHT", "path": "engine/src/main/java/org/terasology/rendering/nui/layers/mainMenu/moduleDetailsScreen/ModuleDetailsScreen.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzozMDozNFrOFzyXOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzozMDozNFrOFzyXOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTg0Njg0Mg==", "bodyText": "Unnecessary newline here.", "url": "https://github.com/MovingBlocks/Terasology/pull/3840#discussion_r389846842", "createdAt": "2020-03-09T17:30:34Z", "author": {"login": "e-aakash"}, "path": "engine/src/main/java/org/terasology/rendering/nui/layers/mainMenu/moduleDetailsScreen/ModuleDetailsScreen.java", "diffHunk": "@@ -235,6 +259,7 @@ public String get() {\n             }\n         });\n \n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee5bc4580840363450462279ac8de1fb0364d4ae"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNTg2MDAwOnYy", "diffSide": "RIGHT", "path": "engine/src/main/java/org/terasology/rendering/nui/widgets/UILabel.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzozMToxOFrOFzyZCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNzozMToxOFrOFzyZCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTg0NzMwNw==", "bodyText": "Unused import (+ avoid * imports even if required)", "url": "https://github.com/MovingBlocks/Terasology/pull/3840#discussion_r389847307", "createdAt": "2020-03-09T17:31:18Z", "author": {"login": "e-aakash"}, "path": "engine/src/main/java/org/terasology/rendering/nui/widgets/UILabel.java", "diffHunk": "@@ -17,7 +17,7 @@\n \n import org.terasology.math.geom.Vector2i;\n import org.terasology.rendering.assets.font.Font;\n-import org.terasology.rendering.nui.Canvas;\n+import org.terasology.rendering.nui.Canvas;\timport org.terasology.rendering.nui.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee5bc4580840363450462279ac8de1fb0364d4ae"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMzE1NDAwOnYy", "diffSide": "RIGHT", "path": "config/gradle/common.gradle", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNDowNzo1NlrOF04dzw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNDowNzo1NlrOF04dzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk5NTQwNw==", "bodyText": "is this still required? if not, please remove, else it should not be commented out", "url": "https://github.com/MovingBlocks/Terasology/pull/3840#discussion_r390995407", "createdAt": "2020-03-11T14:07:56Z", "author": {"login": "jdrueckert"}, "path": "config/gradle/common.gradle", "diffHunk": "@@ -84,8 +93,9 @@ test {\n     }\n \n     jacoco {\n-        append = false\n-        excludes = [\"org.terasology.protobuf.*\"]\n+       // append = false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46aca7b02c6e08abcf5be52674203b0a7e6307aa"}, "originalPosition": 81}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMzE2MTY1OnYy", "diffSide": "RIGHT", "path": "engine/build.gradle", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNDowOTozNVrOF04ieA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNDowOTozNVrOF04ieA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk5NjYwMA==", "bodyText": "please recheck the indentation here. looks like it accidentally move one tab in", "url": "https://github.com/MovingBlocks/Terasology/pull/3840#discussion_r390996600", "createdAt": "2020-03-11T14:09:35Z", "author": {"login": "jdrueckert"}, "path": "engine/build.gradle", "diffHunk": "@@ -162,43 +160,52 @@ dependencies {\n         println \"Found the project? \" + targetProject\n         //compile targetProject\n \n-        compile project(':libs:CrashReporter:cr-terasology')\n+        implementation project(':libs:CrashReporter:cr-terasology')\n     } else {\n         println \"*** Setting a CrashReporter binary dependency, not present as source\"\n-        compile group: 'org.terasology.crashreporter', name: 'cr-terasology', version: '4.1.0'\n-    }\n-}\n-\n-// Instructions for packaging a jar file for the engine\n-jar {\n-    // Unlike the content modules Gradle grabs the assets as they're in a resources directory. Need to avoid dupes tho\n-    duplicatesStrategy = 'exclude'\n-\n-    manifest {\n-        def manifestClasspath = \"$subDirLibs/\"+configurations.runtime.collect { it.getName() }.join(\" $subDirLibs/\")\n-        attributes(\"Class-Path\" : manifestClasspath, \"Implementation-Title\": \"Terasology-\" + project.name, \"Implementation-Version\": env.BUILD_NUMBER + \", \" + convertGitBranch(env.GIT_BRANCH) + \", \" + env.BUILD_ID + \", \" + displayVersion)\n+        implementation group: 'org.terasology.crashreporter', name: 'cr-terasology', version: '4.1.0'\n     }\n }\n \n task cacheReflections {\n     description = 'Caches reflection output to make regular startup faster. May go stale and need cleanup at times.'\n-    inputs.files project.classes.outputs.files\n+    inputs.files sourceSets.main.output.classesDirs,\n+            sourceSets.dev.output.classesDirs,\n+            // getClassesDir from all sourceSets (for any jvm (seems) language)\n+            configurations.\"${sourceSets.main.runtimeClasspathConfigurationName}\"\n+\n+    outputs.upToDateWhen(classes.outputs.upToDateSpec)\n+    outputs.file(\"$buildDir/resources/main/reflections.cache\")\n     dependsOn classes\n \n     doLast {\n         // Without the .mkdirs() we might hit a scenario where the classes dir doesn't exist yet\n-        file(sourceSets.main.output.classesDir.toString()).mkdirs()\n         Reflections reflections = new org.reflections.Reflections(new org.reflections.util.ConfigurationBuilder()\n-            .addUrls(configurations.compile.collect { it.toURI().toURL()} + sourceSets.main.output.classesDir.toURI().toURL())\n-            .setScanners(new TypeAnnotationsScanner(), new SubTypesScanner()))\n-        reflections.save(sourceSets.main.output.classesDir.toString() + \"/reflections.cache\")\n+                .addUrls(inputs.files.collect { it.toURI().toURL() })", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46aca7b02c6e08abcf5be52674203b0a7e6307aa"}, "originalPosition": 216}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMzE2MzE4OnYy", "diffSide": "RIGHT", "path": "engine/build.gradle", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNDoxMDowMFrOF04jlA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNDoxMDowMFrOF04jlA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk5Njg4NA==", "bodyText": "is this still required? if not, please remove, else it shouldn't be commented out", "url": "https://github.com/MovingBlocks/Terasology/pull/3840#discussion_r390996884", "createdAt": "2020-03-11T14:10:00Z", "author": {"login": "jdrueckert"}, "path": "engine/build.gradle", "diffHunk": "@@ -231,24 +238,33 @@ task createVersionInfoFile {\n     onlyIf { env.BUILD_URL != null }\n     doLast {\n         versionInfoFileDir.mkdirs()\n-        ant.propertyfile (file: versionInfoFile) {\n-            ant.entry(key:'buildNumber',value:env.BUILD_NUMBER)\n-            ant.entry(key:'buildId',value:env.BUILD_ID)\n-            ant.entry(key:'buildTag',value:env.BUILD_TAG)\n-            ant.entry(key:'buildUrl',value:env.BUILD_URL)\n-            ant.entry(key:'jobName',value:env.JOB_NAME)\n-            ant.entry(key:'gitBranch',value:convertGitBranch(env.GIT_BRANCH))\n-            ant.entry(key:'gitCommit',value:env.GIT_COMMIT)\n-            ant.entry(key:'dateTime',value:startDateTimeString)\n-            ant.entry(key:'displayVersion',value:displayVersion)\n-            ant.entry(key:'engineVersion',value:version)\n+        ant.propertyfile(file: versionInfoFile) {\n+            ant.entry(key: 'buildNumber', value: env.BUILD_NUMBER)\n+            ant.entry(key: 'buildId', value: env.BUILD_ID)\n+            ant.entry(key: 'buildTag', value: env.BUILD_TAG)\n+            ant.entry(key: 'buildUrl', value: env.BUILD_URL)\n+            ant.entry(key: 'jobName', value: env.JOB_NAME)\n+            ant.entry(key: 'gitBranch', value: convertGitBranch(env.GIT_BRANCH))\n+            ant.entry(key: 'gitCommit', value: env.GIT_COMMIT)\n+            ant.entry(key: 'dateTime', value: startDateTimeString)\n+            ant.entry(key: 'displayVersion', value: displayVersion)\n+            ant.entry(key: 'engineVersion', value: version)\n         }\n     }\n }\n \n+\n+//TODO: Remove it  when gestalt will can to handle ProtectionDomain without classes (Resources)\n+task copyResourcesToClasses(type:Copy) {\n+    from sourceSets.main.output.resourcesDir\n+    into sourceSets.main.output.classesDirs.first()\n+}\n+\n+jar.dependsOn copyResourcesToClasses\n+\n jar.dependsOn createVersionInfoFile\n jar.dependsOn cacheReflections\n-jar.finalizedBy cleanReflections\n+//jar.finalizedBy cleanReflections", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46aca7b02c6e08abcf5be52674203b0a7e6307aa"}, "originalPosition": 287}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMzE3Mjg5OnYy", "diffSide": "RIGHT", "path": "facades/PC/build.gradle", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNDoxMjowN1rOF04plQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNDoxMjowN1rOF04plQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk5ODQyMQ==", "bodyText": "I believe two / should suffice \ud83d\ude05", "url": "https://github.com/MovingBlocks/Terasology/pull/3840#discussion_r390998421", "createdAt": "2020-03-11T14:12:07Z", "author": {"login": "jdrueckert"}, "path": "facades/PC/build.gradle", "diffHunk": "@@ -38,9 +38,10 @@ println \"PC VERSION: $version\"\n group = 'org.terasology.facades'\n \n dependencies {\n-    compile project(':engine')\n+    implementation project(':engine')\n+    implementation group: 'org.reflections', name: 'reflections', version: '0.9.10'\n \n-    /* TODO: Consider whether we can move the CR dependency back here from the engine, where it is referenced from the main menu\n+    /// TODO: Consider whether we can move the CR dependency back here from the engine, where it is referenced from the main menu", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46aca7b02c6e08abcf5be52674203b0a7e6307aa"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 539, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}