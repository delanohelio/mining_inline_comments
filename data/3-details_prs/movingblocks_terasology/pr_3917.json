{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDExMDk5NDgw", "number": 3917, "title": "feat(JOML): Migrate Particle System", "bodyText": "A lot of the logic was pretty straightforward so moving the particle system over to JOML was not too bad. There are not a lot of dependencies from this part of the codebase so moving over the rest of the components is fairly trivial when compared to other parts of the engine. This mostly focuses on porting over particles in the engine.\nModules:\n\nTerasology/Health#40\n\nTest\n\ndownload health module:  ./groovyw module recurse Health and use branch from Terasology/Health#40\ncreate core world and verify that particles behave correctly when breaking blocks.", "createdAt": "2020-04-30T03:20:17Z", "url": "https://github.com/MovingBlocks/Terasology/pull/3917", "merged": true, "mergeCommit": {"oid": "5295d75f0d9d7fbe6fad512ab02abe547d8fb083"}, "closed": true, "closedAt": "2020-06-22T04:24:28Z", "author": {"login": "pollend"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcckTWogH2gAyNDExMDk5NDgwOjc3ZjRjYzc2OWMwOGNhMDAwOTgzYzY5ZjgxOTcyZmFjYjBlOTZhNDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABciiWSAgFqTQxMzc0ODc5Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "77f4cc769c08ca000983c69f81972facb0e96a41", "author": {"user": {"login": "pollend", "name": "Michael Pollind"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/77f4cc769c08ca000983c69f81972facb0e96a41", "committedDate": "2020-04-30T03:13:41Z", "message": "ported particle system over to JOML"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0NTEzMjMy", "url": "https://github.com/MovingBlocks/Terasology/pull/3917#pullrequestreview-404513232", "createdAt": "2020-05-02T09:12:14Z", "commit": {"oid": "77f4cc769c08ca000983c69f81972facb0e96a41"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMlQwOToxMjoxNFrOGPhv7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMlQwOToxNjo1M1rOGPhxcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODkzNDc2Nw==", "bodyText": "Could be simplified:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    particleData.textureOffset.set(randomOffset.x(), randomOffset.y());\n          \n          \n            \n                    particleData.textureOffset.set(randomOffset);", "url": "https://github.com/MovingBlocks/Terasology/pull/3917#discussion_r418934767", "createdAt": "2020-05-02T09:12:14Z", "author": {"login": "kBlaszczyk"}, "path": "engine/src/main/java/org/terasology/particles/functions/generators/TextureOffsetGeneratorFunction.java", "diffHunk": "@@ -35,9 +35,9 @@ public void onEmission(TextureOffsetGeneratorComponent component, ParticleData p\n         if (component.validOffsets.size() == 0) {\n             return;\n         }\n-        \n+\n         final int randomOffsetIndex = random.nextInt(component.validOffsets.size());\n         final Vector2f randomOffset = component.validOffsets.get(randomOffsetIndex);\n-        particleData.textureOffset.set(randomOffset.getX(), randomOffset.getY());\n+        particleData.textureOffset.set(randomOffset.x(), randomOffset.y());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77f4cc769c08ca000983c69f81972facb0e96a41"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODkzNTE1NQ==", "bodyText": "Could be simplified:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        material.setFloat2(\"texSize\", particleSystem.particleData.textureSize.x(), particleSystem.particleData.textureSize.y());\n          \n          \n            \n                        material.setFloat2(\"texSize\", particleSystem.particleData.textureSize);", "url": "https://github.com/MovingBlocks/Terasology/pull/3917#discussion_r418935155", "createdAt": "2020-05-02T09:16:53Z", "author": {"login": "kBlaszczyk"}, "path": "engine/src/main/java/org/terasology/particles/rendering/SpriteParticleRenderer.java", "diffHunk": "@@ -99,7 +99,7 @@ public void drawParticles(Material material, ParticleRenderingData<ParticleDataS\n             GL13.glActiveTexture(GL13.GL_TEXTURE0);\n             glBindTexture(GL11.GL_TEXTURE_2D, particleSystem.particleData.texture.getId());\n \n-            material.setFloat2(\"texSize\", particleSystem.particleData.textureSize.getX(), particleSystem.particleData.textureSize.getY());\n+            material.setFloat2(\"texSize\", particleSystem.particleData.textureSize.x(), particleSystem.particleData.textureSize.y());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77f4cc769c08ca000983c69f81972facb0e96a41"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58a2fe749f0f30c0eb95d19c1596b78fb2c00c35", "author": {"user": {"login": "pollend", "name": "Michael Pollind"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/58a2fe749f0f30c0eb95d19c1596b78fb2c00c35", "committedDate": "2020-05-02T20:52:17Z", "message": "Update engine/src/main/java/org/terasology/particles/functions/generators/TextureOffsetGeneratorFunction.java\n\nCo-authored-by: Kevin Blaszczyk <kevin.blaszczyk@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62009deaca4143c020c5c175f9bf383534cd893e", "author": {"user": {"login": "pollend", "name": "Michael Pollind"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/62009deaca4143c020c5c175f9bf383534cd893e", "committedDate": "2020-05-02T20:52:26Z", "message": "Update engine/src/main/java/org/terasology/particles/rendering/SpriteParticleRenderer.java\n\nCo-authored-by: Kevin Blaszczyk <kevin.blaszczyk@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e65e5ea349a26ce4f2423a1c066d3917c69c4f45", "author": {"user": {"login": "pollend", "name": "Michael Pollind"}}, "url": "https://github.com/MovingBlocks/Terasology/commit/e65e5ea349a26ce4f2423a1c066d3917c69c4f45", "committedDate": "2020-05-02T21:20:49Z", "message": "Merge remote-tracking branch 'upstream/develop' into feature/joml-particles"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0NjAxMjk1", "url": "https://github.com/MovingBlocks/Terasology/pull/3917#pullrequestreview-404601295", "createdAt": "2020-05-03T09:58:00Z", "commit": {"oid": "e65e5ea349a26ce4f2423a1c066d3917c69c4f45"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzNzQ4Nzkz", "url": "https://github.com/MovingBlocks/Terasology/pull/3917#pullrequestreview-413748793", "createdAt": "2020-05-18T16:20:37Z", "commit": {"oid": "e65e5ea349a26ce4f2423a1c066d3917c69c4f45"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1495, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}