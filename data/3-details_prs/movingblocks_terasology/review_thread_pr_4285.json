{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4ODg1NTIx", "number": 4285, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOFQyMzowNzoxNVrOE-Uq2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOFQyMzowNzoxNVrOE-Uq2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzNzg1ODE3OnYy", "diffSide": "RIGHT", "path": "engine/src/main/resources/org/terasology/include/globalFunctionsFragIncl.glsl", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOFQyMzowNzoxNVrOH7d2lw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOFQyMzoxNDo0NlrOH7d4tw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjExNzE0Mw==", "bodyText": "So now the ambientIntensity is a threshold rather than a base value? Was the ambient intensity used to get this bloom effect?\nI think having everything more evenly lit is quite nice, I'm just wondering whether it might be a bit too dull...", "url": "https://github.com/MovingBlocks/Terasology/pull/4285#discussion_r532117143", "createdAt": "2020-11-28T23:07:15Z", "author": {"login": "skaldarnar"}, "path": "engine/src/main/resources/org/terasology/include/globalFunctionsFragIncl.glsl", "diffHunk": "@@ -186,7 +186,7 @@ float calcDayAndNightLightingFactor(float daylightValue, float daylight) {\n }\n \n vec3 calcSunlightColorDeferred(float daylightValue, float diffuseLighting, float ambientIntensity, float diffuseIntensity, vec3 ambientColor, vec3 diffuseColor) {\n-    vec3 daylightColorValue = vec3(ambientIntensity) + diffuseLighting * diffuseIntensity * diffuseColor;\n+    vec3 daylightColorValue = max(vec3(ambientIntensity),diffuseLighting * diffuseIntensity * diffuseColor);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "184cdbfa8ec04aefd92341d1431c3711b7f9d06f"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjExNzY4Nw==", "bodyText": "yea, the colors are starting to look a bit dull. we need to really look at the lighting and rework the shaders. I kind of prefer this over the everything being blown out.", "url": "https://github.com/MovingBlocks/Terasology/pull/4285#discussion_r532117687", "createdAt": "2020-11-28T23:14:46Z", "author": {"login": "pollend"}, "path": "engine/src/main/resources/org/terasology/include/globalFunctionsFragIncl.glsl", "diffHunk": "@@ -186,7 +186,7 @@ float calcDayAndNightLightingFactor(float daylightValue, float daylight) {\n }\n \n vec3 calcSunlightColorDeferred(float daylightValue, float diffuseLighting, float ambientIntensity, float diffuseIntensity, vec3 ambientColor, vec3 diffuseColor) {\n-    vec3 daylightColorValue = vec3(ambientIntensity) + diffuseLighting * diffuseIntensity * diffuseColor;\n+    vec3 daylightColorValue = max(vec3(ambientIntensity),diffuseLighting * diffuseIntensity * diffuseColor);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjExNzE0Mw=="}, "originalCommit": {"oid": "184cdbfa8ec04aefd92341d1431c3711b7f9d06f"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 290, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}