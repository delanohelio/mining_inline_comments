{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2NTAyMTAx", "number": 507, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwMTo0MTo0MFrOD9m3aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwMTo1MDoyNVrOD9m9eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1OTI2NTA3OnYy", "diffSide": "RIGHT", "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwMTo0MTo0MFrOGXM5_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwMzoxMDoxNVrOGXOSsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk4MTg4Ng==", "bodyText": "I'm not entirely familiar with ImageViews so feel free to correct me I'm wrong. Given the context that these 3 seem to be used, you may only need to create one instance of this ImageView which can be used for all of 3 rather than creating one for each", "url": "https://github.com/constellation-app/constellation/pull/507#discussion_r426981886", "createdAt": "2020-05-19T01:41:40Z", "author": {"login": "antares1470"}, "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "diffHunk": "@@ -124,6 +125,9 @@\n     private static final ImageView COPY_ICON = new ImageView(UserInterfaceIconProvider.COPY.buildImage(16));\n     private static final ImageView EXPORT_ICON = new ImageView(UserInterfaceIconProvider.UPLOAD.buildImage(16));\n     private static final ImageView SETTINGS_ICON = new ImageView(UserInterfaceIconProvider.SETTINGS.buildImage(16));\n+    private static final ImageView MENU_ICON_SOURCE = new ImageView(UserInterfaceIconProvider.MENU.buildImage(16));\n+    private static final ImageView MENU_ICON_DESTINATION = new ImageView(UserInterfaceIconProvider.MENU.buildImage(16));\n+    private static final ImageView MENU_ICON_TRANSACTION = new ImageView(UserInterfaceIconProvider.MENU.buildImage(16));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "05a7228e1465dee6abd41670019191815a6738c2"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk4NTg2MA==", "bodyText": "I had the same idea, but for some reason I cannot reuse the same ImageView. The image was appearing only on the last place I used it.", "url": "https://github.com/constellation-app/constellation/pull/507#discussion_r426985860", "createdAt": "2020-05-19T01:56:24Z", "author": {"login": "Auriga2"}, "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "diffHunk": "@@ -124,6 +125,9 @@\n     private static final ImageView COPY_ICON = new ImageView(UserInterfaceIconProvider.COPY.buildImage(16));\n     private static final ImageView EXPORT_ICON = new ImageView(UserInterfaceIconProvider.UPLOAD.buildImage(16));\n     private static final ImageView SETTINGS_ICON = new ImageView(UserInterfaceIconProvider.SETTINGS.buildImage(16));\n+    private static final ImageView MENU_ICON_SOURCE = new ImageView(UserInterfaceIconProvider.MENU.buildImage(16));\n+    private static final ImageView MENU_ICON_DESTINATION = new ImageView(UserInterfaceIconProvider.MENU.buildImage(16));\n+    private static final ImageView MENU_ICON_TRANSACTION = new ImageView(UserInterfaceIconProvider.MENU.buildImage(16));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk4MTg4Ng=="}, "originalCommit": {"oid": "05a7228e1465dee6abd41670019191815a6738c2"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk5NDA4Mw==", "bodyText": "(Same when I tried to reuse the same filter on 3 sub menus- it works only on the last place)", "url": "https://github.com/constellation-app/constellation/pull/507#discussion_r426994083", "createdAt": "2020-05-19T02:28:49Z", "author": {"login": "Auriga2"}, "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "diffHunk": "@@ -124,6 +125,9 @@\n     private static final ImageView COPY_ICON = new ImageView(UserInterfaceIconProvider.COPY.buildImage(16));\n     private static final ImageView EXPORT_ICON = new ImageView(UserInterfaceIconProvider.UPLOAD.buildImage(16));\n     private static final ImageView SETTINGS_ICON = new ImageView(UserInterfaceIconProvider.SETTINGS.buildImage(16));\n+    private static final ImageView MENU_ICON_SOURCE = new ImageView(UserInterfaceIconProvider.MENU.buildImage(16));\n+    private static final ImageView MENU_ICON_DESTINATION = new ImageView(UserInterfaceIconProvider.MENU.buildImage(16));\n+    private static final ImageView MENU_ICON_TRANSACTION = new ImageView(UserInterfaceIconProvider.MENU.buildImage(16));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk4MTg4Ng=="}, "originalCommit": {"oid": "05a7228e1465dee6abd41670019191815a6738c2"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzAwNDU5NQ==", "bodyText": "Yep that makes sense", "url": "https://github.com/constellation-app/constellation/pull/507#discussion_r427004595", "createdAt": "2020-05-19T03:10:15Z", "author": {"login": "antares1470"}, "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "diffHunk": "@@ -124,6 +125,9 @@\n     private static final ImageView COPY_ICON = new ImageView(UserInterfaceIconProvider.COPY.buildImage(16));\n     private static final ImageView EXPORT_ICON = new ImageView(UserInterfaceIconProvider.UPLOAD.buildImage(16));\n     private static final ImageView SETTINGS_ICON = new ImageView(UserInterfaceIconProvider.SETTINGS.buildImage(16));\n+    private static final ImageView MENU_ICON_SOURCE = new ImageView(UserInterfaceIconProvider.MENU.buildImage(16));\n+    private static final ImageView MENU_ICON_DESTINATION = new ImageView(UserInterfaceIconProvider.MENU.buildImage(16));\n+    private static final ImageView MENU_ICON_TRANSACTION = new ImageView(UserInterfaceIconProvider.MENU.buildImage(16));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk4MTg4Ng=="}, "originalCommit": {"oid": "05a7228e1465dee6abd41670019191815a6738c2"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1OTI2ODM2OnYy", "diffSide": "RIGHT", "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwMTo0MzozOFrOGXM8Hw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwMjoyODo1OFrOGXNpvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk4MjQzMQ==", "bodyText": "For these 3, it is better to declare them simply as Lists and instantiate as an arraylist.\ni.e. final List<CustomMenuItem> foo = new ArrayList<>();", "url": "https://github.com/constellation-app/constellation/pull/507#discussion_r426982431", "createdAt": "2020-05-19T01:43:38Z", "author": {"login": "antares1470"}, "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "diffHunk": "@@ -319,23 +322,25 @@ private ToolBar initToolbar() {\n \n     private ContextMenu initColumnVisibilityContextMenu() {\n         final ContextMenu cm = new ContextMenu();\n-        final ArrayList<CustomMenuItem> columnCheckboxes = new ArrayList<>();\n-        \n-        final Label columnFilterLabel = new Label(\"Filter:\");\n-        final TextField columnFilterTextField = new TextField ();\n-        final HBox filterBox = new HBox();\n-        filterBox.getChildren().addAll(columnFilterLabel, columnFilterTextField);\n-        \n-        final CustomMenuItem columnFilter = new CustomMenuItem(filterBox);\n-        columnFilter.setHideOnClick(false);\n-        columnFilterTextField.setOnKeyReleased(event -> {\n-            final String filterTerm = columnFilterTextField.getText().toLowerCase().trim();\n-            columnCheckboxes.forEach(item -> {\n-                final String columnName = item.getId().toLowerCase();\n-                item.setVisible(filterTerm.isBlank() || columnName.contains(filterTerm));\n-            });\n-        });\n-        \n+        final ArrayList<CustomMenuItem> columnCheckboxesSource = new ArrayList<>();\n+        final ArrayList<CustomMenuItem> columnCheckboxesDestination = new ArrayList<>();\n+        final ArrayList<CustomMenuItem> columnCheckboxesTransaction = new ArrayList<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "05a7228e1465dee6abd41670019191815a6738c2"}, "originalPosition": 111}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk5NDExMQ==", "bodyText": "Fixed.", "url": "https://github.com/constellation-app/constellation/pull/507#discussion_r426994111", "createdAt": "2020-05-19T02:28:58Z", "author": {"login": "Auriga2"}, "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "diffHunk": "@@ -319,23 +322,25 @@ private ToolBar initToolbar() {\n \n     private ContextMenu initColumnVisibilityContextMenu() {\n         final ContextMenu cm = new ContextMenu();\n-        final ArrayList<CustomMenuItem> columnCheckboxes = new ArrayList<>();\n-        \n-        final Label columnFilterLabel = new Label(\"Filter:\");\n-        final TextField columnFilterTextField = new TextField ();\n-        final HBox filterBox = new HBox();\n-        filterBox.getChildren().addAll(columnFilterLabel, columnFilterTextField);\n-        \n-        final CustomMenuItem columnFilter = new CustomMenuItem(filterBox);\n-        columnFilter.setHideOnClick(false);\n-        columnFilterTextField.setOnKeyReleased(event -> {\n-            final String filterTerm = columnFilterTextField.getText().toLowerCase().trim();\n-            columnCheckboxes.forEach(item -> {\n-                final String columnName = item.getId().toLowerCase();\n-                item.setVisible(filterTerm.isBlank() || columnName.contains(filterTerm));\n-            });\n-        });\n-        \n+        final ArrayList<CustomMenuItem> columnCheckboxesSource = new ArrayList<>();\n+        final ArrayList<CustomMenuItem> columnCheckboxesDestination = new ArrayList<>();\n+        final ArrayList<CustomMenuItem> columnCheckboxesTransaction = new ArrayList<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk4MjQzMQ=="}, "originalCommit": {"oid": "05a7228e1465dee6abd41670019191815a6738c2"}, "originalPosition": 111}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1OTI4MDU4OnYy", "diffSide": "RIGHT", "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwMTo1MDoyNVrOGXNDaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwMjoyOTowNVrOGXNp2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk4NDI5Nw==", "bodyText": "I think this was done in the other PR but for readability combine these 3 lines into 1:\n...stream().map(c -> {", "url": "https://github.com/constellation-app/constellation/pull/507#discussion_r426984297", "createdAt": "2020-05-19T01:50:25Z", "author": {"login": "antares1470"}, "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "diffHunk": "@@ -827,17 +912,17 @@ private void loadPreferences() {\n                 // Populate orderedColumns with full column ThreeTuples corresponding to entires in newVolumnOrder and call updateVisibleColumns\n                 // to update table.\n                 final List<ThreeTuple<String, Attribute, TableColumn<ObservableList<String>, String>>> orderedColumns\n-                    = newColumnOrder.stream()\n-                        .map(c ->\n-                            {\n-                                for (ThreeTuple<String, Attribute, TableColumn<ObservableList<String>, String>> col : columnIndex) {\n-                                    if (c.getText().equals(col.getThird().getText())) {\n-                                        return col;\n+                        = newColumnOrder.stream()\n+                                .map(c\n+                                        -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "05a7228e1465dee6abd41670019191815a6738c2"}, "originalPosition": 362}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk5NDEzOQ==", "bodyText": "Yeah, caused by Alt+Shift+F\nFixed now.", "url": "https://github.com/constellation-app/constellation/pull/507#discussion_r426994139", "createdAt": "2020-05-19T02:29:05Z", "author": {"login": "Auriga2"}, "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "diffHunk": "@@ -827,17 +912,17 @@ private void loadPreferences() {\n                 // Populate orderedColumns with full column ThreeTuples corresponding to entires in newVolumnOrder and call updateVisibleColumns\n                 // to update table.\n                 final List<ThreeTuple<String, Attribute, TableColumn<ObservableList<String>, String>>> orderedColumns\n-                    = newColumnOrder.stream()\n-                        .map(c ->\n-                            {\n-                                for (ThreeTuple<String, Attribute, TableColumn<ObservableList<String>, String>> col : columnIndex) {\n-                                    if (c.getText().equals(col.getThird().getText())) {\n-                                        return col;\n+                        = newColumnOrder.stream()\n+                                .map(c\n+                                        -> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk4NDI5Nw=="}, "originalCommit": {"oid": "05a7228e1465dee6abd41670019191815a6738c2"}, "originalPosition": 362}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2343, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}