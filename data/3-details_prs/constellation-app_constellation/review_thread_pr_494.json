{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1ODM5NDQ4", "number": 494, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwMzoyNTozNVrOD7EJ1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxMToyMDowMlrOD7Mo7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzMjYwNjI4OnYy", "diffSide": "RIGHT", "path": "CoreFunctionality/src/au/gov/asd/tac/constellation/functionality/whatsnew/whatsnew.txt", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwMzoyNTozNVrOGTLLpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwMzoyNTozNVrOGTLLpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc1OTMzNQ==", "bodyText": "rogue 'i'", "url": "https://github.com/constellation-app/constellation/pull/494#discussion_r422759335", "createdAt": "2020-05-11T03:25:35Z", "author": {"login": "antares1470"}, "path": "CoreFunctionality/src/au/gov/asd/tac/constellation/functionality/whatsnew/whatsnew.txt", "diffHunk": "@@ -1,6 +1,9 @@\n-== 3030-12-31 Getting Started\n+i== 3030-12-31 Getting Started", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "916c4a1c80a834e6ebf51265a24d563294cd0f5e"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzMjYwNzE0OnYy", "diffSide": "RIGHT", "path": "CoreImportExportPlugins/src/au/gov/asd/tac/constellation/plugins/importexport/delimited/ActionPane.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwMzoyNjoxMVrOGTLMHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwMzoyNjoxMVrOGTLMHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc1OTQ1Mw==", "bodyText": "change the order of the modifiers to private static final", "url": "https://github.com/constellation-app/constellation/pull/494#discussion_r422759453", "createdAt": "2020-05-11T03:26:11Z", "author": {"login": "antares1470"}, "path": "CoreImportExportPlugins/src/au/gov/asd/tac/constellation/plugins/importexport/delimited/ActionPane.java", "diffHunk": "@@ -33,8 +40,24 @@\n public class ActionPane extends BorderPane {\n     \n     private static final Logger LOGGER = Logger.getLogger(ActionPane.class.getName());\n+    final private static String SUCCESS_ICON_PATH = \"au/gov/asd/tac/constellation/plugins/importexport/delimited/resources/success.jpg\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "916c4a1c80a834e6ebf51265a24d563294cd0f5e"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzMjYxMzE5OnYy", "diffSide": "RIGHT", "path": "CoreImportExportPlugins/src/au/gov/asd/tac/constellation/plugins/importexport/delimited/ActionPane.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwMzozMDoxOVrOGTLPbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwMzozMDoxOVrOGTLPbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc2MDMwMg==", "bodyText": "Probably would be nice to have a log here as well", "url": "https://github.com/constellation-app/constellation/pull/494#discussion_r422760302", "createdAt": "2020-05-11T03:30:19Z", "author": {"login": "antares1470"}, "path": "CoreImportExportPlugins/src/au/gov/asd/tac/constellation/plugins/importexport/delimited/ActionPane.java", "diffHunk": "@@ -57,12 +80,26 @@ public void handle(ActionEvent t) {\n             @Override\n             public void handle(ActionEvent t) {\n                 try {\n-                    importController.processImport();\n+                    \n+                    List<File> importedFiles = importController.processImport();\n+                    String[] filenames = new String[importedFiles.size()];\n+                    long noOfRows = 0;\n+                    for (int i = 0; i < importedFiles.size(); i++) {\n+                        filenames[i] = importedFiles.get(i).getName();\n+                        Path path = importedFiles.get(i).toPath();\n+                        noOfRows += Files.lines(path).count();\n+                    }\n+                    displayAlert(\"Success\", \"Successfully imported \"+ noOfRows\n+                            +\" rows from the following file(s):\\n\"+String.join(\"\\n\", filenames), true);\n+                    \n                 } catch (IOException ex) {\n                     LOGGER.log(Level.SEVERE, ex.getLocalizedMessage(), ex);\n+                    displayAlert(\"Import Failed\", ex.getLocalizedMessage(), false);\n                 } catch (InterruptedException ex) {\n                     Thread.currentThread().interrupt();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "916c4a1c80a834e6ebf51265a24d563294cd0f5e"}, "originalPosition": 67}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzMjYxNTQ1OnYy", "diffSide": "RIGHT", "path": "CoreImportExportPlugins/src/au/gov/asd/tac/constellation/plugins/importexport/delimited/ActionPane.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwMzozMjowMFrOGTLQww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwMzozMjowMFrOGTLQww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc2MDY0Mw==", "bodyText": "Probably be good to have a log here as well so remove this catch and turn the IO exception catch into a multi-catch with Plugin exceptions", "url": "https://github.com/constellation-app/constellation/pull/494#discussion_r422760643", "createdAt": "2020-05-11T03:32:00Z", "author": {"login": "antares1470"}, "path": "CoreImportExportPlugins/src/au/gov/asd/tac/constellation/plugins/importexport/delimited/ActionPane.java", "diffHunk": "@@ -57,12 +80,26 @@ public void handle(ActionEvent t) {\n             @Override\n             public void handle(ActionEvent t) {\n                 try {\n-                    importController.processImport();\n+                    \n+                    List<File> importedFiles = importController.processImport();\n+                    String[] filenames = new String[importedFiles.size()];\n+                    long noOfRows = 0;\n+                    for (int i = 0; i < importedFiles.size(); i++) {\n+                        filenames[i] = importedFiles.get(i).getName();\n+                        Path path = importedFiles.get(i).toPath();\n+                        noOfRows += Files.lines(path).count();\n+                    }\n+                    displayAlert(\"Success\", \"Successfully imported \"+ noOfRows\n+                            +\" rows from the following file(s):\\n\"+String.join(\"\\n\", filenames), true);\n+                    \n                 } catch (IOException ex) {\n                     LOGGER.log(Level.SEVERE, ex.getLocalizedMessage(), ex);\n+                    displayAlert(\"Import Failed\", ex.getLocalizedMessage(), false);\n                 } catch (InterruptedException ex) {\n                     Thread.currentThread().interrupt();\n+                    displayAlert(\"import Failed\", ex.getLocalizedMessage(), false);\n                 } catch (PluginException ex) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "916c4a1c80a834e6ebf51265a24d563294cd0f5e"}, "originalPosition": 69}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzMjYxNzA5OnYy", "diffSide": "RIGHT", "path": "CoreImportExportPlugins/src/au/gov/asd/tac/constellation/plugins/importexport/delimited/ImportController.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwMzozMzowNFrOGTLRsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwMzozMzowNFrOGTLRsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc2MDg4Mw==", "bodyText": "Note this change in CHANGELOG", "url": "https://github.com/constellation-app/constellation/pull/494#discussion_r422760883", "createdAt": "2020-05-11T03:33:04Z", "author": {"login": "antares1470"}, "path": "CoreImportExportPlugins/src/au/gov/asd/tac/constellation/plugins/importexport/delimited/ImportController.java", "diffHunk": "@@ -385,7 +385,7 @@ public String showSetDefaultValueDialog(final String attributeName, final String\n         return configurationPane.createDefinitions();\n     }\n \n-    public void processImport() throws IOException, InterruptedException, PluginException {\n+    public List<File> processImport() throws IOException, InterruptedException, PluginException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "916c4a1c80a834e6ebf51265a24d563294cd0f5e"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzMzk5NjYzOnYy", "diffSide": "RIGHT", "path": "CoreImportExportPlugins/src/au/gov/asd/tac/constellation/plugins/importexport/delimited/ActionPane.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxMToyMDowMlrOGTX-ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxMToyMDowMlrOGTX-ag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjk2ODkzOA==", "bodyText": "You could add finals all through here, including the exceptions.", "url": "https://github.com/constellation-app/constellation/pull/494#discussion_r422968938", "createdAt": "2020-05-11T11:20:02Z", "author": {"login": "cygnus-x-1"}, "path": "CoreImportExportPlugins/src/au/gov/asd/tac/constellation/plugins/importexport/delimited/ActionPane.java", "diffHunk": "@@ -57,12 +80,25 @@ public void handle(ActionEvent t) {\n             @Override\n             public void handle(ActionEvent t) {\n                 try {\n-                    importController.processImport();\n-                } catch (IOException ex) {\n+                    \n+                    List<File> importedFiles = importController.processImport();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5643a9f8327a1591df5cf7f3631074d308db9f4e"}, "originalPosition": 53}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2335, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}