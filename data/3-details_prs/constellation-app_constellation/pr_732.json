{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUzOTMxNDg0", "number": 732, "title": "hierarchical clustering arrayindexoutofbounds fix", "bodyText": "Description of the Change\nUse the lower value out of vertex count, and group count. This will allow the clustering to run normally when the groups and vertexes are the same, but when the cluster button has not re-run, and made more groups within the state it will stop iteration over groups which do not exist.\n\nAlternate Designs\ncheck if the array position exists before every iteration\n\nWhy Should This Be In Core?\nbugfix\n\nBenefits\nbugfix\n\nPossible Drawbacks\nNone realised\n\nVerification Process\nTesting replication method and normal operations\n\nApplicable Issues\n#708", "createdAt": "2020-07-20T23:21:13Z", "url": "https://github.com/constellation-app/constellation/pull/732", "merged": true, "mergeCommit": {"oid": "57176cdc814b281990e842d087f144d2847ae483"}, "closed": true, "closedAt": "2020-08-09T22:50:40Z", "author": {"login": "aldebaran30701"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc26E0agH2gAyNDUzOTMxNDg0OjdhOGQ0NWFhOTZkNTBkNTRiZDZiYWMwNjJmNGNhM2UxZjE1MmViMWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5odILgFqTQ1NzM5MzE2Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7a8d45aa96d50d54bd6bac062f4ca3e1f152eb1c", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/7a8d45aa96d50d54bd6bac062f4ca3e1f152eb1c", "committedDate": "2020-07-20T23:17:45Z", "message": ":bug: defensive loop iterator value"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMDI4NzE1", "url": "https://github.com/constellation-app/constellation/pull/732#pullrequestreview-452028715", "createdAt": "2020-07-20T23:35:16Z", "commit": {"oid": "7a8d45aa96d50d54bd6bac062f4ca3e1f152eb1c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMTEzMzMx", "url": "https://github.com/constellation-app/constellation/pull/732#pullrequestreview-452113331", "createdAt": "2020-07-21T04:12:48Z", "commit": {"oid": "7a8d45aa96d50d54bd6bac062f4ca3e1f152eb1c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNDoxMjo0OFrOG0nbaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNDoxMjo0OFrOG0nbaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzgyNTEzMQ==", "bodyText": "The vertexCount is being used to retrieve vertex ids, so setting it to the number of clusters feels wrong, and like it could be error prone. What was you reasoning behind this?", "url": "https://github.com/constellation-app/constellation/pull/732#discussion_r457825131", "createdAt": "2020-07-21T04:12:48Z", "author": {"login": "cygnus-x-1"}, "path": "CoreAlgorithmPlugins/src/au/gov/asd/tac/constellation/plugins/algorithms/clustering/hierarchical/HierarchicalControllerTopComponent.java", "diffHunk": "@@ -719,8 +719,10 @@ public void edit(final GraphWriteMethods graph, final PluginInteraction interact\n             final int transactionVisibilityAttribute = VisualConcept.TransactionAttribute.VISIBILITY.ensure(graph);\n \n             int nextCluster = 0;\n+            // Use the smaller of ints as to avoid going out of bounds.\n+            // usually caused when cluster has not run with new elements added.\n+            final int vertexCount = Math.min(graph.getVertexCount(), state.getCurrentNumOfClusters());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a8d45aa96d50d54bd6bac062f4ca3e1f152eb1c"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4127cc30ab3abda2052dfbc06f6b9295ff25e4e9", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/4127cc30ab3abda2052dfbc06f6b9295ff25e4e9", "committedDate": "2020-07-28T23:40:29Z", "message": ":bug: disable interactive button on graph update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cef42b4211c1aa4b5e0b1c87eff12ab7335c2953", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/cef42b4211c1aa4b5e0b1c87eff12ab7335c2953", "committedDate": "2020-07-28T23:40:55Z", "message": "Merge branch 'master' into bugfix/hierarchical-clustering"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f416d3141b7dc40dd0edb48ed1348a02fced7e38", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/f416d3141b7dc40dd0edb48ed1348a02fced7e38", "committedDate": "2020-07-29T01:04:55Z", "message": "add descriptive label for clustering"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MTYzNjM0", "url": "https://github.com/constellation-app/constellation/pull/732#pullrequestreview-457163634", "createdAt": "2020-07-29T03:07:10Z", "commit": {"oid": "f416d3141b7dc40dd0edb48ed1348a02fced7e38"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MzkzMTY3", "url": "https://github.com/constellation-app/constellation/pull/732#pullrequestreview-457393167", "createdAt": "2020-07-29T10:27:47Z", "commit": {"oid": "f416d3141b7dc40dd0edb48ed1348a02fced7e38"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3610, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}