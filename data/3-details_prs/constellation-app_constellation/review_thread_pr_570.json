{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxNTU5NDE4", "number": 570, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwODo0NTo1NlrOEDxYCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQwNDozODoyM1rOEYVVxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyMzkwMTUzOnYy", "diffSide": "RIGHT", "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwODo0NTo1NlrOGg--dg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwMzozNzo0M1rOGhjuig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzIzOTQxNA==", "bodyText": "Have you checked whether sorting and filtering still work across all table data?", "url": "https://github.com/constellation-app/constellation/pull/570#discussion_r437239414", "createdAt": "2020-06-09T08:45:56Z", "author": {"login": "cygnus-x-1"}, "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "diffHunk": "@@ -941,6 +944,25 @@ private void loadPreferences() {\n             }\n         }\n     }\n+    \n+    private Node createPage(final int pageIndex, final List<ObservableList<String>> rows) {\n+        if (rows != null) {\n+            final int fromIndex = pageIndex * MAX_ROWS_PER_PAGE;\n+            final int toIndex = Math.min(fromIndex + MAX_ROWS_PER_PAGE, rows.size());\n+\n+            table.setItems(FXCollections.observableArrayList(rows.subList(fromIndex, toIndex)));\n+        }\n+        \n+        return new BorderPane(table);\n+    }\n+    \n+    private void paginate(final List<ObservableList<String>> rows) {\n+        final Pagination pagination = new Pagination(table.getItems().size() / MAX_ROWS_PER_PAGE + 1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "799e51ab0515eab48082064ce24d12d6435795ae"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzg0MTU0Ng==", "bodyText": "Haven't gotten to that yet. Like I said previously, there is still a bit of testing to be done and this would be part of it", "url": "https://github.com/constellation-app/constellation/pull/570#discussion_r437841546", "createdAt": "2020-06-10T03:37:43Z", "author": {"login": "antares1470"}, "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "diffHunk": "@@ -941,6 +944,25 @@ private void loadPreferences() {\n             }\n         }\n     }\n+    \n+    private Node createPage(final int pageIndex, final List<ObservableList<String>> rows) {\n+        if (rows != null) {\n+            final int fromIndex = pageIndex * MAX_ROWS_PER_PAGE;\n+            final int toIndex = Math.min(fromIndex + MAX_ROWS_PER_PAGE, rows.size());\n+\n+            table.setItems(FXCollections.observableArrayList(rows.subList(fromIndex, toIndex)));\n+        }\n+        \n+        return new BorderPane(table);\n+    }\n+    \n+    private void paginate(final List<ObservableList<String>> rows) {\n+        final Pagination pagination = new Pagination(table.getItems().size() / MAX_ROWS_PER_PAGE + 1);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzIzOTQxNA=="}, "originalCommit": {"oid": "799e51ab0515eab48082064ce24d12d6435795ae"}, "originalPosition": 52}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyMzkwNDI0OnYy", "diffSide": "RIGHT", "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwODo0NjozM1rOGg_AJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwMzo0NDowNFrOGhjz7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzIzOTg0NA==", "bodyText": "Why do you pass null in here initially?", "url": "https://github.com/constellation-app/constellation/pull/570#discussion_r437239844", "createdAt": "2020-06-09T08:46:33Z", "author": {"login": "cygnus-x-1"}, "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "diffHunk": "@@ -181,8 +184,8 @@ public TableViewPane(final TableViewTopComponent parent) {\n         this.table = new TableView<>();\n         table.itemsProperty().addListener((v, o, n) -> table.refresh());\n         table.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\n-        table.setPadding(new Insets(5));\n-        setCenter(table);\n+        table.setPadding(new Insets(5));      \n+        paginate(null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "799e51ab0515eab48082064ce24d12d6435795ae"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzg0MjUzMw==", "bodyText": "The case I happened to be testing before I made the PR was with Table View already open when starting Constellation. Passing null here is more because I couldn't find a better object to pass here (since there doesn't appear to be a useful field I could find containing a list of the data). There probably is a better value to pass for other cases.. I just haven't come up with it yet :) (I could probably create it if all else fails)", "url": "https://github.com/constellation-app/constellation/pull/570#discussion_r437842533", "createdAt": "2020-06-10T03:42:18Z", "author": {"login": "antares1470"}, "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "diffHunk": "@@ -181,8 +184,8 @@ public TableViewPane(final TableViewTopComponent parent) {\n         this.table = new TableView<>();\n         table.itemsProperty().addListener((v, o, n) -> table.refresh());\n         table.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\n-        table.setPadding(new Insets(5));\n-        setCenter(table);\n+        table.setPadding(new Insets(5));      \n+        paginate(null);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzIzOTg0NA=="}, "originalCommit": {"oid": "799e51ab0515eab48082064ce24d12d6435795ae"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzg0MjkyNQ==", "bodyText": "Note: If there is a useful field with the data I'm after, there probably won't be a need to pass any parameters into paginate", "url": "https://github.com/constellation-app/constellation/pull/570#discussion_r437842925", "createdAt": "2020-06-10T03:44:04Z", "author": {"login": "antares1470"}, "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "diffHunk": "@@ -181,8 +184,8 @@ public TableViewPane(final TableViewTopComponent parent) {\n         this.table = new TableView<>();\n         table.itemsProperty().addListener((v, o, n) -> table.refresh());\n         table.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\n-        table.setPadding(new Insets(5));\n-        setCenter(table);\n+        table.setPadding(new Insets(5));      \n+        paginate(null);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzIzOTg0NA=="}, "originalCommit": {"oid": "799e51ab0515eab48082064ce24d12d6435795ae"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzOTUwOTE5OnYy", "diffSide": "RIGHT", "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/io/TableViewPreferencesIOUtilities.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQwNDozODoyM1rOHAnSrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQwNTowNDoyMFrOHAnp8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDQwNTgwNw==", "bodyText": "I managed a null pointer here by loading an old preference. Maybe check is necessary?", "url": "https://github.com/constellation-app/constellation/pull/570#discussion_r470405807", "createdAt": "2020-08-14T04:38:23Z", "author": {"login": "aldebaran30701"}, "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/io/TableViewPreferencesIOUtilities.java", "diffHunk": "@@ -141,8 +146,11 @@ public static void savePreferences(GraphElementType tableType, final TableView<O\n                 if (colSortNode.get(sortColumn).asText().equals(\"DESCENDING\")) {\n                     sortType = TableColumn.SortType.DESCENDING;\n                 }\n+                \n+                // Extract page size details\n+                pageSize = pageSizeNode.intValue();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3136e1ea0d497eefad482bf335a3e0842c29ad4"}, "originalPosition": 69}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDQxMTc2MQ==", "bodyText": "Good pick up. Will add a null check for old preferences", "url": "https://github.com/constellation-app/constellation/pull/570#discussion_r470411761", "createdAt": "2020-08-14T05:04:20Z", "author": {"login": "antares1470"}, "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/io/TableViewPreferencesIOUtilities.java", "diffHunk": "@@ -141,8 +146,11 @@ public static void savePreferences(GraphElementType tableType, final TableView<O\n                 if (colSortNode.get(sortColumn).asText().equals(\"DESCENDING\")) {\n                     sortType = TableColumn.SortType.DESCENDING;\n                 }\n+                \n+                // Extract page size details\n+                pageSize = pageSizeNode.intValue();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDQwNTgwNw=="}, "originalCommit": {"oid": "d3136e1ea0d497eefad482bf335a3e0842c29ad4"}, "originalPosition": 69}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2176, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}