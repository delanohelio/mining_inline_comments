{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc0MTE2MDQy", "number": 246, "title": "Fixed a bug with custom directions in Types", "bodyText": "Description of the Change\nThere was a bug whereby when you add a record and set the direction to something different to the transaction type, the explicit direction we set was not picked up. Types have a direction and the solution was to make sure we create a new type and override the direction.\n\nAdding a record with a direction overriding the types direction should be preserved\nMinor code cleanup in the GraphRecordStoreUtilities unit test\n\nAlternate Designs\n\nWhy Should This Be In Core?\n\nBenefits\n\nPossible Drawbacks\n\nVerification Process\nI've added 2 unit tests that test the functionality, please have a look at them.\nThe unit tests can create a graph file and I've been able to confirm that opening the star file, the direction does not change when running \"Complete with Schema\" (or pressing F5).\nApplicable Issues", "createdAt": "2020-02-12T05:30:04Z", "url": "https://github.com/constellation-app/constellation/pull/246", "merged": true, "mergeCommit": {"oid": "c405e0558e840d6ffb6e4e2044ce853657d42a8d"}, "closed": true, "closedAt": "2020-02-18T02:11:37Z", "author": {"login": "arcturus2"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcDfesJAH2gAyMzc0MTE2MDQyOjkwNjZlZmExOTgwYmU2MDA3NDVhYTZlNmYzYjhkZTliYzA3MGM2ZGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcE7XnDAH2gAyMzc0MTE2MDQyOjk2NDc4OTBmNWM4OTE3YmU5ZWFjN2RhNmQ1OGIwODgwYzM4Zjk3YzQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9066efa1980be600745aa6e6f3b8de9bc070c6db", "author": {"user": {"login": "arcturus2", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/9066efa1980be600745aa6e6f3b8de9bc070c6db", "committedDate": "2020-02-12T05:28:26Z", "message": ":bug: Fixed a bug with custom directions in Types\n* Adding a record with a direction overriding the types direction should be preserved\n* Minor code cleanup in the GraphRecordStoreUtilities unit test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7316e1aa7bf91b0cf0e99a8889f59007526e7ca2", "author": {"user": {"login": "arcturus2", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/7316e1aa7bf91b0cf0e99a8889f59007526e7ca2", "committedDate": "2020-02-14T02:43:52Z", "message": "Merge branch 'master' into feature/custom-direction-types-fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e124e3b2bc47c491890db89430509e60ad08c37", "author": {"user": {"login": "arcturus2", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/9e124e3b2bc47c491890db89430509e60ad08c37", "committedDate": "2020-02-14T02:47:56Z", "message": ":memo: Updated changelog\n* Fixed a bug which now ensures that overriding a transaction direction using `GraphRecordStoreUtilities.DIRECTED_KEY` persists with the Type."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5Mzc0NjEy", "url": "https://github.com/constellation-app/constellation/pull/246#pullrequestreview-359374612", "createdAt": "2020-02-16T01:15:41Z", "commit": {"oid": "9e124e3b2bc47c491890db89430509e60ad08c37"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNlQwMToxNTo0MVrOFqRRHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNlQwMToxNjozMlrOFqRRUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTg2NzQyMw==", "bodyText": "Rename this to TYPE_KEY", "url": "https://github.com/constellation-app/constellation/pull/246#discussion_r379867423", "createdAt": "2020-02-16T01:15:41Z", "author": {"login": "cygnus-x-1"}, "path": "CoreGraph/src/au/gov/asd/tac/constellation/graph/processing/GraphRecordStoreUtilities.java", "diffHunk": "@@ -48,9 +48,12 @@\n public class GraphRecordStoreUtilities {\n \n     private GraphRecordStoreUtilities() {\n+        throw new IllegalStateException(\"Utility class\");\n     }\n \n     private static final int NO_ELEMENT = -1;\n+    private static final String TYPE = \"Type<string>\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e124e3b2bc47c491890db89430509e60ad08c37"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTg2NzQ3NA==", "bodyText": "@algol60 - I think this was a question for you.", "url": "https://github.com/constellation-app/constellation/pull/246#discussion_r379867474", "createdAt": "2020-02-16T01:16:32Z", "author": {"login": "cygnus-x-1"}, "path": "CoreGraph/src/au/gov/asd/tac/constellation/graph/processing/GraphRecordStoreUtilities.java", "diffHunk": "@@ -200,7 +203,7 @@ private static int addTransaction(GraphWriteMethods graph, int source, int desti\n             return NO_ELEMENT;\n         }\n \n-        if (transaction == NO_ELEMENT) {\n+        if (transaction == NO_ELEMENT) { // TODO: should this check be done before the delete?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9e124e3b2bc47c491890db89430509e60ad08c37"}, "originalPosition": 35}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9647890f5c8917be9eac7da6d58b0880c38f97c4", "author": {"user": {"login": "arcturus2", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/9647890f5c8917be9eac7da6d58b0880c38f97c4", "committedDate": "2020-02-16T16:31:58Z", "message": ":art: Improved constant name"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3793, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}