{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxNTU5NDE4", "number": 570, "title": "Table View Pagination", "bodyText": "Description of the Change\nHave added pagination to the table view as a way to (hopefully) increase the performance of the table view.\nAlternate Designs\nColumn storage was considered as a way to increase performance but after doing some research, it was determined that this may not be possible\nWhy Should This Be In Core?\nImproving the performance of table view\nBenefits\nLess lag in the table view for larger graphs\nPossible Drawbacks\nHaving to go through each page to find what you're after may be a tad annoying but is necessary for this to work\nVerification Process\n\nApplicable Issues\n#409", "createdAt": "2020-06-09T06:09:52Z", "url": "https://github.com/constellation-app/constellation/pull/570", "merged": true, "mergeCommit": {"oid": "6f6c40d7e84918e4095e7e33eca03ae47ffbbe93"}, "closed": true, "closedAt": "2020-09-16T00:39:29Z", "author": {"login": "antares1470"}, "timelineItems": {"totalCount": 41, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpeue3AH2gAyNDMxNTU5NDE4Ojc5OWU1MWFiMDUxNWVhYjQ4MDgyMDY0Y2UyNGQxMmQ2NDM1Nzk1YWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdE1cWaAH2gAyNDMxNTU5NDE4OmUxYjMzNmUzODkyZGQzOTE1MGUyYzU0MTk2MjZlZWZkZjJjMDUxNTI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "799e51ab0515eab48082064ce24d12d6435795ae", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/799e51ab0515eab48082064ce24d12d6435795ae", "committedDate": "2020-06-09T06:04:54Z", "message": "added pagination to table view"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2OTE4NDcx", "url": "https://github.com/constellation-app/constellation/pull/570#pullrequestreview-426918471", "createdAt": "2020-06-09T08:45:56Z", "commit": {"oid": "799e51ab0515eab48082064ce24d12d6435795ae"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwODo0NTo1NlrOGg--dg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwODo0NjozM1rOGg_AJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzIzOTQxNA==", "bodyText": "Have you checked whether sorting and filtering still work across all table data?", "url": "https://github.com/constellation-app/constellation/pull/570#discussion_r437239414", "createdAt": "2020-06-09T08:45:56Z", "author": {"login": "cygnus-x-1"}, "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "diffHunk": "@@ -941,6 +944,25 @@ private void loadPreferences() {\n             }\n         }\n     }\n+    \n+    private Node createPage(final int pageIndex, final List<ObservableList<String>> rows) {\n+        if (rows != null) {\n+            final int fromIndex = pageIndex * MAX_ROWS_PER_PAGE;\n+            final int toIndex = Math.min(fromIndex + MAX_ROWS_PER_PAGE, rows.size());\n+\n+            table.setItems(FXCollections.observableArrayList(rows.subList(fromIndex, toIndex)));\n+        }\n+        \n+        return new BorderPane(table);\n+    }\n+    \n+    private void paginate(final List<ObservableList<String>> rows) {\n+        final Pagination pagination = new Pagination(table.getItems().size() / MAX_ROWS_PER_PAGE + 1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "799e51ab0515eab48082064ce24d12d6435795ae"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzIzOTg0NA==", "bodyText": "Why do you pass null in here initially?", "url": "https://github.com/constellation-app/constellation/pull/570#discussion_r437239844", "createdAt": "2020-06-09T08:46:33Z", "author": {"login": "cygnus-x-1"}, "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "diffHunk": "@@ -181,8 +184,8 @@ public TableViewPane(final TableViewTopComponent parent) {\n         this.table = new TableView<>();\n         table.itemsProperty().addListener((v, o, n) -> table.refresh());\n         table.getSelectionModel().setSelectionMode(SelectionMode.MULTIPLE);\n-        table.setPadding(new Insets(5));\n-        setCenter(table);\n+        table.setPadding(new Insets(5));      \n+        paginate(null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "799e51ab0515eab48082064ce24d12d6435795ae"}, "originalPosition": 31}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "326f769b889dee2c1f0515c180f5eecd734ca815", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/326f769b889dee2c1f0515c180f5eecd734ca815", "committedDate": "2020-06-14T22:37:50Z", "message": "Merge branch 'master' into table-performance"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "945801f8d06790b72496f141ff5da2944e3afd56", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/945801f8d06790b72496f141ff5da2944e3afd56", "committedDate": "2020-06-14T22:58:12Z", "message": "fixed sonar smell"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "047d4b92f1e7f98f8eb69c4d01ceaf1c8582d675", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/047d4b92f1e7f98f8eb69c4d01ceaf1c8582d675", "committedDate": "2020-06-16T01:51:38Z", "message": "fixed filtering"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04aef022b429dc05acf5b7c26a79365bac836603", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/04aef022b429dc05acf5b7c26a79365bac836603", "committedDate": "2020-06-16T02:12:20Z", "message": "fixed sonar smell"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a82d9ed39c97ad69c9ed3f632c4190f11e4c224", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/9a82d9ed39c97ad69c9ed3f632c4190f11e4c224", "committedDate": "2020-06-16T02:13:13Z", "message": "Merge branch 'master' into table-performance"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af63d538db19b2608d4608f1808a9aeddf225eb3", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/af63d538db19b2608d4608f1808a9aeddf225eb3", "committedDate": "2020-06-25T23:51:15Z", "message": "Merge branch 'master' into table-performance"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa0a4ac7479b6568161473afc72f80ab6bda8c7e", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/aa0a4ac7479b6568161473afc72f80ab6bda8c7e", "committedDate": "2020-06-29T03:29:42Z", "message": "Merge branch 'master' into table-performance"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0066e45456e086853d175f0cff1e622df0901a86", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/0066e45456e086853d175f0cff1e622df0901a86", "committedDate": "2020-07-06T05:38:25Z", "message": "mostly got sorting fixed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4bb9d3046ed3227f8a7fc6f82298e76839d34e4", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/f4bb9d3046ed3227f8a7fc6f82298e76839d34e4", "committedDate": "2020-07-06T05:40:09Z", "message": "Merge branch 'master' into table-performance"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c64dce8d3952816b1257443569d242322e30917", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/1c64dce8d3952816b1257443569d242322e30917", "committedDate": "2020-07-06T22:36:11Z", "message": "Merge branch 'master' into table-performance"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0610cbc28a05150b79f2d075fb002d7d2ce85475", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/0610cbc28a05150b79f2d075fb002d7d2ce85475", "committedDate": "2020-07-07T01:25:37Z", "message": "fixed sorting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12a0f476952ef36241ae609600c7867c3bf1ee78", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/12a0f476952ef36241ae609600c7867c3bf1ee78", "committedDate": "2020-07-07T01:33:00Z", "message": "fixed sonar smell"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb65ee147179369edbd09d35eb43c1ade6c9240d", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/bb65ee147179369edbd09d35eb43c1ade6c9240d", "committedDate": "2020-07-09T03:27:44Z", "message": "started fixing selection"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "435942eedbe6e8a1154a47c6d8b608b8f7776ad6", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/435942eedbe6e8a1154a47c6d8b608b8f7776ad6", "committedDate": "2020-07-09T03:41:29Z", "message": "Merge branch 'master' into table-performance"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "496a7b8719959d9f4d05a893597eb5a1f5c044c1", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/496a7b8719959d9f4d05a893597eb5a1f5c044c1", "committedDate": "2020-07-20T00:52:31Z", "message": "resolved merge conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dea65018299c5bbc9527862a1115893988a3a94b", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/dea65018299c5bbc9527862a1115893988a3a94b", "committedDate": "2020-07-26T23:50:51Z", "message": "Merge branch 'master' into table-performance"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7dd4ce5735805dc8ea61aa32315888a205ec7b0", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/e7dd4ce5735805dc8ea61aa32315888a205ec7b0", "committedDate": "2020-07-29T02:30:46Z", "message": "fixed selection and sorting in table"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eff9e5d0e7a35baf0014de4fe5778a9762ebb8f4", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/eff9e5d0e7a35baf0014de4fe5778a9762ebb8f4", "committedDate": "2020-07-31T02:19:27Z", "message": "minor update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29b0c8117a52711973d176e5c92c667e1f16b520", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/29b0c8117a52711973d176e5c92c667e1f16b520", "committedDate": "2020-08-06T00:11:58Z", "message": "resolved problems in selected only mode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "033382b98763aa53747b996f8e47710a7d2222b8", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/033382b98763aa53747b996f8e47710a7d2222b8", "committedDate": "2020-08-07T00:00:21Z", "message": "fixed issues with sorting + filtering"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87bbf0f84007954144fec430643c36929a417748", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/87bbf0f84007954144fec430643c36929a417748", "committedDate": "2020-08-07T00:00:57Z", "message": "Merge branch 'master' into table-performance"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMDQyNjI2", "url": "https://github.com/constellation-app/constellation/pull/570#pullrequestreview-463042626", "createdAt": "2020-08-07T05:28:17Z", "commit": {"oid": "033382b98763aa53747b996f8e47710a7d2222b8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ccf438bf849a1a848bc7e94db2ad4814e568f2b1", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/ccf438bf849a1a848bc7e94db2ad4814e568f2b1", "committedDate": "2020-08-10T01:36:26Z", "message": "resolved merge conflict"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1585c08b97ad05a26d167cc5eac5c5ecebefd9d6", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/1585c08b97ad05a26d167cc5eac5c5ecebefd9d6", "committedDate": "2020-08-10T04:59:18Z", "message": "updated with settings option to change page size"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db9221cfa54b09cd91bc22ef29f2cc1dd8069a58", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/db9221cfa54b09cd91bc22ef29f2cc1dd8069a58", "committedDate": "2020-08-10T05:25:32Z", "message": "removed a static modifier"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzOTY0Mjgz", "url": "https://github.com/constellation-app/constellation/pull/570#pullrequestreview-463964283", "createdAt": "2020-08-10T05:29:31Z", "commit": {"oid": "db9221cfa54b09cd91bc22ef29f2cc1dd8069a58"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzOTY0NzQ4", "url": "https://github.com/constellation-app/constellation/pull/570#pullrequestreview-463964748", "createdAt": "2020-08-10T05:31:42Z", "commit": {"oid": "db9221cfa54b09cd91bc22ef29f2cc1dd8069a58"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0NjQ5NjEw", "url": "https://github.com/constellation-app/constellation/pull/570#pullrequestreview-464649610", "createdAt": "2020-08-10T23:18:29Z", "commit": {"oid": "db9221cfa54b09cd91bc22ef29f2cc1dd8069a58"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39a9262e35627ade1489c50444eccc2f6c8719a8", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/39a9262e35627ade1489c50444eccc2f6c8719a8", "committedDate": "2020-08-12T04:28:35Z", "message": "handled paging when graph is closed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54b020cda7689b13b61964ffe3196bbc54fee623", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/54b020cda7689b13b61964ffe3196bbc54fee623", "committedDate": "2020-08-13T05:27:28Z", "message": "first draft adding page size to load/save preferences"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3136e1ea0d497eefad482bf335a3e0842c29ad4", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/d3136e1ea0d497eefad482bf335a3e0842c29ad4", "committedDate": "2020-08-14T01:28:42Z", "message": "sonar fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MzAyMjQ5", "url": "https://github.com/constellation-app/constellation/pull/570#pullrequestreview-467302249", "createdAt": "2020-08-14T04:38:23Z", "commit": {"oid": "d3136e1ea0d497eefad482bf335a3e0842c29ad4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQwNDozODoyM1rOHAnSrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQwNDozODoyM1rOHAnSrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDQwNTgwNw==", "bodyText": "I managed a null pointer here by loading an old preference. Maybe check is necessary?", "url": "https://github.com/constellation-app/constellation/pull/570#discussion_r470405807", "createdAt": "2020-08-14T04:38:23Z", "author": {"login": "aldebaran30701"}, "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/io/TableViewPreferencesIOUtilities.java", "diffHunk": "@@ -141,8 +146,11 @@ public static void savePreferences(GraphElementType tableType, final TableView<O\n                 if (colSortNode.get(sortColumn).asText().equals(\"DESCENDING\")) {\n                     sortType = TableColumn.SortType.DESCENDING;\n                 }\n+                \n+                // Extract page size details\n+                pageSize = pageSizeNode.intValue();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3136e1ea0d497eefad482bf335a3e0842c29ad4"}, "originalPosition": 69}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82c50655c0de52bb215178768afc16e8d8c69b78", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/82c50655c0de52bb215178768afc16e8d8c69b78", "committedDate": "2020-08-14T05:44:24Z", "message": "added default page size preference for old preference saves"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4MTEwNzU2", "url": "https://github.com/constellation-app/constellation/pull/570#pullrequestreview-468110756", "createdAt": "2020-08-17T00:28:12Z", "commit": {"oid": "82c50655c0de52bb215178768afc16e8d8c69b78"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da39c2e7c44aca96af19cfab9fbbcc897792231e", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/da39c2e7c44aca96af19cfab9fbbcc897792231e", "committedDate": "2020-08-17T02:32:06Z", "message": "updated algorithm for number of pages required"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1635575c369ca29c314c7375ed8621dcd0d9fc8", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/d1635575c369ca29c314c7375ed8621dcd0d9fc8", "committedDate": "2020-08-17T03:57:36Z", "message": "Merge branch 'master' into table-performance"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4cc9efd6d464b78b5f13513ab7afa554216f23d", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/f4cc9efd6d464b78b5f13513ab7afa554216f23d", "committedDate": "2020-08-25T00:23:56Z", "message": "resolved merge conflict"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3300e4b6d1e65fb90fef6345ceeea7868c584854", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/3300e4b6d1e65fb90fef6345ceeea7868c584854", "committedDate": "2020-08-28T03:38:31Z", "message": "fixed merge conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1b336e3892dd39150e2c5419626eefdf2c05152", "author": {"user": {"login": "antares1470", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/e1b336e3892dd39150e2c5419626eefdf2c05152", "committedDate": "2020-09-02T05:48:52Z", "message": "resolved merge conflict"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3556, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}