{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2NTAyMTAx", "number": 507, "title": "Table view column selection split in new menu", "bodyText": "Description of the Change\nTable View Column Selection - Split attributes into Source/Destination/Transaction sub menus\n\nAlternate Designs\nAdded the initial design in a separate branch, as well as in the previous commit of  this branch, which uses filter check boxes and doesn't have sub menus. It allows the existed filter to work across all types.\n\nWhy Should This Be In Core?\nBetter UX, instead of all attributes being in one big list\n\nBenefits\nBetter UX, instead of all attributes being in one big list\n\nPossible Drawbacks\nMoved the existed filter into sub menus which filters within the subcategory only.\n\nVerification Process\nClick on the \"Column Visibility\" menu button in the Table View of a graph.\nIt should display separate menu items for Source, Destination and Transaction which will load the relevant attributes in a sub menu, with a Filter at the top.\n\nApplicable Issues\n#374", "createdAt": "2020-05-12T05:52:03Z", "url": "https://github.com/constellation-app/constellation/pull/507", "merged": true, "mergeCommit": {"oid": "b0a15b29d5620abecb305d5d2547adb287e60285"}, "closed": true, "closedAt": "2020-05-19T22:36:33Z", "author": {"login": "Auriga2"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcfMlhpgH2gAyNDE2NTAyMTAxOjRhZGFlZGUyZjJmM2FjYmNkNmJiMTgyZWE0OWYzMTUxMzc1MmFhM2Q=", "endCursor": "Y3Vyc29yOnYyOpPPAAABci8T4yAH2gAyNDE2NTAyMTAxOjE3NDFiY2JjNDNhN2U2ZjNlZDlkNjcwNmUxNTgxYjU5OWM0OTc5ZjY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4adaede2f2f3acbcd6bb182ea49f31513752aa3d", "author": {"user": {"login": "Auriga2", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/4adaede2f2f3acbcd6bb182ea49f31513752aa3d", "committedDate": "2020-05-08T07:17:35Z", "message": "Initial design\n\nTable View Column Selection - Split Attributes into Source/Destination/Transaction (#374)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94b037d33c5e9ea040ce0ec22de432e1fb4d8022", "author": {"user": {"login": "Auriga2", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/94b037d33c5e9ea040ce0ec22de432e1fb4d8022", "committedDate": "2020-05-12T05:17:51Z", "message": "Option 2 - Spilt menus\n\nTable View Column Selection - Split Attributes into Source/Destination/Transaction (#374)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NzE2ODI2", "url": "https://github.com/constellation-app/constellation/pull/507#pullrequestreview-409716826", "createdAt": "2020-05-12T05:52:51Z", "commit": {"oid": "94b037d33c5e9ea040ce0ec22de432e1fb4d8022"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2443a56219e200805518bb6f0fd7a06029268e6", "author": {"user": {"login": "Auriga2", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/e2443a56219e200805518bb6f0fd7a06029268e6", "committedDate": "2020-05-12T07:39:48Z", "message": "Fix sonarcloud issues and code refactoring."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5OTU0MDc1", "url": "https://github.com/constellation-app/constellation/pull/507#pullrequestreview-409954075", "createdAt": "2020-05-12T11:38:48Z", "commit": {"oid": "e2443a56219e200805518bb6f0fd7a06029268e6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05a7228e1465dee6abd41670019191815a6738c2", "author": {"user": {"login": "Auriga2", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/05a7228e1465dee6abd41670019191815a6738c2", "committedDate": "2020-05-19T01:04:57Z", "message": "Fix the issue with source and destination filters"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0MDQ0MzUx", "url": "https://github.com/constellation-app/constellation/pull/507#pullrequestreview-414044351", "createdAt": "2020-05-19T01:41:40Z", "commit": {"oid": "05a7228e1465dee6abd41670019191815a6738c2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwMTo0MTo0MFrOGXM5_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwMTo1MDoyNVrOGXNDaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk4MTg4Ng==", "bodyText": "I'm not entirely familiar with ImageViews so feel free to correct me I'm wrong. Given the context that these 3 seem to be used, you may only need to create one instance of this ImageView which can be used for all of 3 rather than creating one for each", "url": "https://github.com/constellation-app/constellation/pull/507#discussion_r426981886", "createdAt": "2020-05-19T01:41:40Z", "author": {"login": "antares1470"}, "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "diffHunk": "@@ -124,6 +125,9 @@\n     private static final ImageView COPY_ICON = new ImageView(UserInterfaceIconProvider.COPY.buildImage(16));\n     private static final ImageView EXPORT_ICON = new ImageView(UserInterfaceIconProvider.UPLOAD.buildImage(16));\n     private static final ImageView SETTINGS_ICON = new ImageView(UserInterfaceIconProvider.SETTINGS.buildImage(16));\n+    private static final ImageView MENU_ICON_SOURCE = new ImageView(UserInterfaceIconProvider.MENU.buildImage(16));\n+    private static final ImageView MENU_ICON_DESTINATION = new ImageView(UserInterfaceIconProvider.MENU.buildImage(16));\n+    private static final ImageView MENU_ICON_TRANSACTION = new ImageView(UserInterfaceIconProvider.MENU.buildImage(16));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "05a7228e1465dee6abd41670019191815a6738c2"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk4MjQzMQ==", "bodyText": "For these 3, it is better to declare them simply as Lists and instantiate as an arraylist.\ni.e. final List<CustomMenuItem> foo = new ArrayList<>();", "url": "https://github.com/constellation-app/constellation/pull/507#discussion_r426982431", "createdAt": "2020-05-19T01:43:38Z", "author": {"login": "antares1470"}, "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "diffHunk": "@@ -319,23 +322,25 @@ private ToolBar initToolbar() {\n \n     private ContextMenu initColumnVisibilityContextMenu() {\n         final ContextMenu cm = new ContextMenu();\n-        final ArrayList<CustomMenuItem> columnCheckboxes = new ArrayList<>();\n-        \n-        final Label columnFilterLabel = new Label(\"Filter:\");\n-        final TextField columnFilterTextField = new TextField ();\n-        final HBox filterBox = new HBox();\n-        filterBox.getChildren().addAll(columnFilterLabel, columnFilterTextField);\n-        \n-        final CustomMenuItem columnFilter = new CustomMenuItem(filterBox);\n-        columnFilter.setHideOnClick(false);\n-        columnFilterTextField.setOnKeyReleased(event -> {\n-            final String filterTerm = columnFilterTextField.getText().toLowerCase().trim();\n-            columnCheckboxes.forEach(item -> {\n-                final String columnName = item.getId().toLowerCase();\n-                item.setVisible(filterTerm.isBlank() || columnName.contains(filterTerm));\n-            });\n-        });\n-        \n+        final ArrayList<CustomMenuItem> columnCheckboxesSource = new ArrayList<>();\n+        final ArrayList<CustomMenuItem> columnCheckboxesDestination = new ArrayList<>();\n+        final ArrayList<CustomMenuItem> columnCheckboxesTransaction = new ArrayList<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "05a7228e1465dee6abd41670019191815a6738c2"}, "originalPosition": 111}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk4NDI5Nw==", "bodyText": "I think this was done in the other PR but for readability combine these 3 lines into 1:\n...stream().map(c -> {", "url": "https://github.com/constellation-app/constellation/pull/507#discussion_r426984297", "createdAt": "2020-05-19T01:50:25Z", "author": {"login": "antares1470"}, "path": "CoreTableView/src/au/gov/asd/tac/constellation/views/tableview2/TableViewPane.java", "diffHunk": "@@ -827,17 +912,17 @@ private void loadPreferences() {\n                 // Populate orderedColumns with full column ThreeTuples corresponding to entires in newVolumnOrder and call updateVisibleColumns\n                 // to update table.\n                 final List<ThreeTuple<String, Attribute, TableColumn<ObservableList<String>, String>>> orderedColumns\n-                    = newColumnOrder.stream()\n-                        .map(c ->\n-                            {\n-                                for (ThreeTuple<String, Attribute, TableColumn<ObservableList<String>, String>> col : columnIndex) {\n-                                    if (c.getText().equals(col.getThird().getText())) {\n-                                        return col;\n+                        = newColumnOrder.stream()\n+                                .map(c\n+                                        -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "05a7228e1465dee6abd41670019191815a6738c2"}, "originalPosition": 362}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8294b085f44f4e3645d08aa070a3a433ffd86f1", "author": {"user": {"login": "Auriga2", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/e8294b085f44f4e3645d08aa070a3a433ffd86f1", "committedDate": "2020-05-19T02:45:13Z", "message": "Minor code improvements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e372e5a4c39bfffb01cc11399e809a858cafb7a", "author": {"user": {"login": "Auriga2", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/8e372e5a4c39bfffb01cc11399e809a858cafb7a", "committedDate": "2020-05-19T02:46:38Z", "message": "Minor code improvement"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0MDcxNTI0", "url": "https://github.com/constellation-app/constellation/pull/507#pullrequestreview-414071524", "createdAt": "2020-05-19T03:10:46Z", "commit": {"oid": "8e372e5a4c39bfffb01cc11399e809a858cafb7a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1741bcbc43a7e6f3ed9d6706e1581b599c4979f6", "author": {"user": {"login": "arcturus2", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/1741bcbc43a7e6f3ed9d6706e1581b599c4979f6", "committedDate": "2020-05-19T22:35:32Z", "message": "Merge branch 'master' into Table-View-Column-Selection-SplitInNewMenu"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3751, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}