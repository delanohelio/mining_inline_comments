{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5MjA5NDk5", "number": 528, "title": ":bug: DAV Freeze fix", "bodyText": "Description of the Change\nThe issue was that the remove unused attributes plugin classified vertex and transaction attributes as unused because some values were null? although they had a default value. These were getting deleted and then checked by Test Parameters. Test Parameters then updated a variable that triggered a layer refresh.\nThis Pr will check if an attribute exists before using it. Specifically for the layers view attributes.\n\nAlternate Designs\nAn alternate design may exist, but this is the only fix that came to mind.\n\nWhy Should This Be In Core?\nbug fix\n\nBenefits\nno error\n\nPossible Drawbacks\nN/A\n\nVerification Process\nTested via running remove unused attributes and test parameters at the same time.\nTested for any drawbacks in the layers view usage\n\nApplicable Issues\n#460", "createdAt": "2020-05-18T01:22:07Z", "url": "https://github.com/constellation-app/constellation/pull/528", "merged": true, "mergeCommit": {"oid": "967f09a6b89cebf0f4ea383b325d48019222236d"}, "closed": true, "closedAt": "2020-05-18T05:14:38Z", "author": {"login": "aldebaran30701"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchcZ3xgH2gAyNDE5MjA5NDk5OmZjZDk1MWU1MDdiZmQxNWY0YjVmZDJkNzE4YTY3OTJmZWJiNTczMzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABciYXFzgFqTQxMzI2NzUzMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fcd951e507bfd15f4b5fd2d718a6792febb57332", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/fcd951e507bfd15f4b5fd2d718a6792febb57332", "committedDate": "2020-05-15T06:51:11Z", "message": "layers - ensure attributes before usage"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMjMwODI4", "url": "https://github.com/constellation-app/constellation/pull/528#pullrequestreview-413230828", "createdAt": "2020-05-18T01:56:31Z", "commit": {"oid": "fcd951e507bfd15f4b5fd2d718a6792febb57332"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQwMTo1NjozMVrOGWlfKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQwMjowODowOFrOGWlmuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjMzNjA0MA==", "bodyText": "\ud83d\ude31\nActually some people advocate to import a package with .* if there are too many imports but we've gone the other way so for consistency please import them separately. NetBeans has options to fold-up imports so you don't have to see them when you are editing files.", "url": "https://github.com/constellation-app/constellation/pull/528#discussion_r426336040", "createdAt": "2020-05-18T01:56:31Z", "author": {"login": "arcturus2"}, "path": "CoreGraphFramework/src/au/gov/asd/tac/constellation/graph/StoreGraph.java", "diffHunk": "@@ -26,6 +26,7 @@\n import au.gov.asd.tac.constellation.graph.locking.ParameterReadAccess;\n import au.gov.asd.tac.constellation.graph.locking.ParameterWriteAccess;\n import au.gov.asd.tac.constellation.graph.schema.Schema;\n+import au.gov.asd.tac.constellation.graph.schema.visual.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcd951e507bfd15f4b5fd2d718a6792febb57332"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjMzNzk3Ng==", "bodyText": "I think this was what @cygnus-x-1 mentioned the other day regarding creating a Concept for attributes used by low level classes like StoreGraph. If you agree, can you put a TODO just to mention that these definitions should be moved into a Concept?", "url": "https://github.com/constellation-app/constellation/pull/528#discussion_r426337976", "createdAt": "2020-05-18T02:08:08Z", "author": {"login": "arcturus2"}, "path": "CoreGraphFramework/src/au/gov/asd/tac/constellation/graph/StoreGraph.java", "diffHunk": "@@ -2001,11 +2002,23 @@ private void recalculateLayerVisibilities() {\n     private int recalculateLayerMask(final GraphElementType elementType, final int elementId) {\n         int bitmask = 0;\n         if (elementType == GraphElementType.VERTEX && vertexLayerMaskAttribureId != Graph.NOT_FOUND && vertexLayerVisibilityAttributeId != Graph.NOT_FOUND) {\n-            bitmask = getIntValue(vertexLayerMaskAttribureId, elementId);\n+            vertexLayerMaskAttribureId = ensureAttribute(vertexLayerMaskAttribureId, ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcd951e507bfd15f4b5fd2d718a6792febb57332"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ec6fd91cd50603bd022164006f475c3cf6908da", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/8ec6fd91cd50603bd022164006f475c3cf6908da", "committedDate": "2020-05-18T02:16:09Z", "message": "PR Fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMjQxMjk4", "url": "https://github.com/constellation-app/constellation/pull/528#pullrequestreview-413241298", "createdAt": "2020-05-18T02:45:00Z", "commit": {"oid": "8ec6fd91cd50603bd022164006f475c3cf6908da"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMjY3NTMx", "url": "https://github.com/constellation-app/constellation/pull/528#pullrequestreview-413267531", "createdAt": "2020-05-18T04:42:27Z", "commit": {"oid": "8ec6fd91cd50603bd022164006f475c3cf6908da"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3768, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}