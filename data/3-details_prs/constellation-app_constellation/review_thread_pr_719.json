{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwNjI0NTgx", "number": 719, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwMjo1NTo1OVrOEPYJdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwMjo1NTo1OVrOEPYJdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NTU5NzMyOnYy", "diffSide": "RIGHT", "path": "CoreAnalyticView/src/au/gov/asd/tac/constellation/views/analyticview/AnalyticViewTopComponent.java", "isResolved": false, "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwMjo1NTo1OVrOGzDpyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwMTozMDoyMlrOGz0I0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE5MDQxMA==", "bodyText": "There is potential for a memory leak to appear if the currentGraph is not set to null when the graph closes. I am speculating but I will do some testing to confirm @aldebaran30701.", "url": "https://github.com/constellation-app/constellation/pull/719#discussion_r456190410", "createdAt": "2020-07-17T02:55:59Z", "author": {"login": "arcturus2"}, "path": "CoreAnalyticView/src/au/gov/asd/tac/constellation/views/analyticview/AnalyticViewTopComponent.java", "diffHunk": "@@ -74,6 +75,7 @@\n     private final AnalyticViewPane analyticViewPane;\n     private final AnalyticController analyticController;\n     private boolean suppressed = false;\n+    private Graph currentGraph = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5cb15b637bbd00c0d97382a1c9404f30709f0e3b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE5Mzk0Ng==", "bodyText": "How does it sound if I store the current graph's ID instead?", "url": "https://github.com/constellation-app/constellation/pull/719#discussion_r456193946", "createdAt": "2020-07-17T03:11:08Z", "author": {"login": "aldebaran30701"}, "path": "CoreAnalyticView/src/au/gov/asd/tac/constellation/views/analyticview/AnalyticViewTopComponent.java", "diffHunk": "@@ -74,6 +75,7 @@\n     private final AnalyticViewPane analyticViewPane;\n     private final AnalyticController analyticController;\n     private boolean suppressed = false;\n+    private Graph currentGraph = null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE5MDQxMA=="}, "originalCommit": {"oid": "5cb15b637bbd00c0d97382a1c9404f30709f0e3b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjIwMTI1Mg==", "bodyText": "That sounds like a better idea though we haven't depended on the graph ID for much so I am not sure if it is the best approach. If it works then that does sound like a really good way forward and perhaps we can adopt it across more of the framework.\nI remember seeing the graph ID change after plugins run (but I need to double check my memory). If that's the case (which I don't think so) would be a problem.", "url": "https://github.com/constellation-app/constellation/pull/719#discussion_r456201252", "createdAt": "2020-07-17T03:42:02Z", "author": {"login": "arcturus2"}, "path": "CoreAnalyticView/src/au/gov/asd/tac/constellation/views/analyticview/AnalyticViewTopComponent.java", "diffHunk": "@@ -74,6 +75,7 @@\n     private final AnalyticViewPane analyticViewPane;\n     private final AnalyticController analyticController;\n     private boolean suppressed = false;\n+    private Graph currentGraph = null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE5MDQxMA=="}, "originalCommit": {"oid": "5cb15b637bbd00c0d97382a1c9404f30709f0e3b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk2NTgzNQ==", "bodyText": "Hi @cygnus-x-1,  Would you be able to confirm for us if the graph id changes between plugin runs? Or subsequently offer a different way of tracking the current graph without memory leaks.", "url": "https://github.com/constellation-app/constellation/pull/719#discussion_r456965835", "createdAt": "2020-07-19T22:55:40Z", "author": {"login": "aldebaran30701"}, "path": "CoreAnalyticView/src/au/gov/asd/tac/constellation/views/analyticview/AnalyticViewTopComponent.java", "diffHunk": "@@ -74,6 +75,7 @@\n     private final AnalyticViewPane analyticViewPane;\n     private final AnalyticController analyticController;\n     private boolean suppressed = false;\n+    private Graph currentGraph = null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE5MDQxMA=="}, "originalCommit": {"oid": "5cb15b637bbd00c0d97382a1c9404f30709f0e3b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk3MTkzMA==", "bodyText": "@arcturus2 @aldebaran30701 I don't know whether or not it helps avoid memory leaks but having played with the rest api previously, I believe the graph Id remains the same between plugin runs (even between Constellation loads). It's been a little while though so I don't remember entirely", "url": "https://github.com/constellation-app/constellation/pull/719#discussion_r456971930", "createdAt": "2020-07-19T23:55:03Z", "author": {"login": "antares1470"}, "path": "CoreAnalyticView/src/au/gov/asd/tac/constellation/views/analyticview/AnalyticViewTopComponent.java", "diffHunk": "@@ -74,6 +75,7 @@\n     private final AnalyticViewPane analyticViewPane;\n     private final AnalyticController analyticController;\n     private boolean suppressed = false;\n+    private Graph currentGraph = null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE5MDQxMA=="}, "originalCommit": {"oid": "5cb15b637bbd00c0d97382a1c9404f30709f0e3b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk3NDEwMg==", "bodyText": "...(even between Constellation loads)\n\nNot sure on this bit @antares1470. The graph UUID is not stored in the star file so I believe a random one is issued on load.", "url": "https://github.com/constellation-app/constellation/pull/719#discussion_r456974102", "createdAt": "2020-07-20T00:14:49Z", "author": {"login": "arcturus2"}, "path": "CoreAnalyticView/src/au/gov/asd/tac/constellation/views/analyticview/AnalyticViewTopComponent.java", "diffHunk": "@@ -74,6 +75,7 @@\n     private final AnalyticViewPane analyticViewPane;\n     private final AnalyticController analyticController;\n     private boolean suppressed = false;\n+    private Graph currentGraph = null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE5MDQxMA=="}, "originalCommit": {"oid": "5cb15b637bbd00c0d97382a1c9404f30709f0e3b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk3OTg1OQ==", "bodyText": "I believe a graph id should be reliable as long as that graph is in memory. If the graph is closed and opened again, it'll have a new id.", "url": "https://github.com/constellation-app/constellation/pull/719#discussion_r456979859", "createdAt": "2020-07-20T00:58:45Z", "author": {"login": "cygnus-x-1"}, "path": "CoreAnalyticView/src/au/gov/asd/tac/constellation/views/analyticview/AnalyticViewTopComponent.java", "diffHunk": "@@ -74,6 +75,7 @@\n     private final AnalyticViewPane analyticViewPane;\n     private final AnalyticController analyticController;\n     private boolean suppressed = false;\n+    private Graph currentGraph = null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE5MDQxMA=="}, "originalCommit": {"oid": "5cb15b637bbd00c0d97382a1c9404f30709f0e3b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk4MjgzOA==", "bodyText": "Right. Like I said, it's been a while so I was only going off the top of my head", "url": "https://github.com/constellation-app/constellation/pull/719#discussion_r456982838", "createdAt": "2020-07-20T01:18:32Z", "author": {"login": "antares1470"}, "path": "CoreAnalyticView/src/au/gov/asd/tac/constellation/views/analyticview/AnalyticViewTopComponent.java", "diffHunk": "@@ -74,6 +75,7 @@\n     private final AnalyticViewPane analyticViewPane;\n     private final AnalyticController analyticController;\n     private boolean suppressed = false;\n+    private Graph currentGraph = null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE5MDQxMA=="}, "originalCommit": {"oid": "5cb15b637bbd00c0d97382a1c9404f30709f0e3b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk4NDc4NA==", "bodyText": "If the graph is closed and opened again, it'll have a new id\n\nI'd think that would cross over into a future state implementation. This (keeping the id) would work for the sake of not clearing the results table.", "url": "https://github.com/constellation-app/constellation/pull/719#discussion_r456984784", "createdAt": "2020-07-20T01:30:22Z", "author": {"login": "aldebaran30701"}, "path": "CoreAnalyticView/src/au/gov/asd/tac/constellation/views/analyticview/AnalyticViewTopComponent.java", "diffHunk": "@@ -74,6 +75,7 @@\n     private final AnalyticViewPane analyticViewPane;\n     private final AnalyticController analyticController;\n     private boolean suppressed = false;\n+    private Graph currentGraph = null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE5MDQxMA=="}, "originalCommit": {"oid": "5cb15b637bbd00c0d97382a1c9404f30709f0e3b"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2222, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}