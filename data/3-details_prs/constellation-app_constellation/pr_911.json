{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM0MTE4MTgx", "number": 911, "title": "Layers view shortcut fixes", "bodyText": "Description of the Change\nThis change fixes issues with the following shortcuts.\nDeselect\nNew Layer\nEnable Layer\nAll of the above shortcuts now work as intended with the view opened, as well as the view closed.\nAlso added during this PR, is an accessor method to determine whether the TopComponent is visible or not. This was used to determine if a manual update of queries was necessary. (When the component is open, the state changed attribute handler usually takes care of the updating of queries.)\n\nAlternate Designs\nNone\n\nWhy Should This Be In Core?\nShortcuts now work\n\nBenefits\nShortcuts work as intended\n\nPossible Drawbacks\n\nVerification Process\nOpening new and saved graphs for each of the below actions.\n\nMake new layers with LV opened, Make new layers with LV closed\nDeselect all layers with/Without LV opened\nEnable layers with and without the LV opened.\n\nProblems which kept this PR coming through was the fact that it worked perfect with the view opened, as it updated the view using the attribute change handlers. When the view was not opened, it would not update. A manual update would cause issues with the operation when the LV was opened. An if case was added to test if the view was opened, and a manual update was performed from that.\n\nApplicable Issues\n#823 #725", "createdAt": "2020-12-08T04:52:46Z", "url": "https://github.com/constellation-app/constellation/pull/911", "merged": true, "mergeCommit": {"oid": "ebf649929bdc74360ba1c6537b4a2c8b6c9a571b"}, "closed": true, "closedAt": "2021-01-11T14:05:03Z", "author": {"login": "aldebaran30701"}, "timelineItems": {"totalCount": 52, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8GhlTgH2gAyNTM0MTE4MTgxOmRkMzViZGY0NWFhMGNmMzg3NGE0YjdkNjU3ZTUyMGE3MjhiZGQ2NmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdvHDk1gFqTU2NTM4MTc2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dd35bdf45aa0cf3874a4b7d657e520a728bdd66f", "author": {"user": null}, "url": "https://github.com/constellation-app/constellation/commit/dd35bdf45aa0cf3874a4b7d657e520a728bdd66f", "committedDate": "2020-08-06T02:37:39Z", "message": "Version 1 of expression framework"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "085e232f556cf4b29723dab4c6631151f608090c", "author": {"user": null}, "url": "https://github.com/constellation-app/constellation/commit/085e232f556cf4b29723dab4c6631151f608090c", "committedDate": "2020-08-10T02:01:43Z", "message": "Word based operators, parsing handles more edge cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e87040c1262ab3015fc8f52f5b9b9bdfd1fafeff", "author": {"user": null}, "url": "https://github.com/constellation-app/constellation/commit/e87040c1262ab3015fc8f52f5b9b9bdfd1fafeff", "committedDate": "2020-08-10T02:06:36Z", "message": "Merge remote-tracking branch 'origin/master' into expressions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62c72f2fbf75ff76f184f2cf277fff1a34e80728", "author": {"user": null}, "url": "https://github.com/constellation-app/constellation/commit/62c72f2fbf75ff76f184f2cf277fff1a34e80728", "committedDate": "2020-08-11T03:05:10Z", "message": "Updated licence"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a6b33eead10915e535f9832d092903aeed1d193", "author": {"user": {"login": "sirius-1", "name": "sirius-1"}}, "url": "https://github.com/constellation-app/constellation/commit/8a6b33eead10915e535f9832d092903aeed1d193", "committedDate": "2020-08-13T01:02:19Z", "message": "Added help dependency back in to get working"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3315024330b92cb0240ea1e8a64074a7dd957677", "author": {"user": {"login": "sirius-1", "name": "sirius-1"}}, "url": "https://github.com/constellation-app/constellation/commit/3315024330b92cb0240ea1e8a64074a7dd957677", "committedDate": "2020-08-17T13:51:49Z", "message": "Initial commit for expressions framework"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70885010fd556c47452ba4baf31033f229f68c4a", "author": {"user": {"login": "sirius-1", "name": "sirius-1"}}, "url": "https://github.com/constellation-app/constellation/commit/70885010fd556c47452ba4baf31033f229f68c4a", "committedDate": "2020-08-20T01:04:48Z", "message": "Updated to expressions framework version 2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc63ba59225880e3688c943ff0c34194c7725732", "author": {"user": {"login": "sirius-1", "name": "sirius-1"}}, "url": "https://github.com/constellation-app/constellation/commit/fc63ba59225880e3688c943ff0c34194c7725732", "committedDate": "2020-08-24T04:05:52Z", "message": "Added access registry"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b75e246785cb40cc2767da3046305d23dbdc9284", "author": {"user": {"login": "sirius-1", "name": "sirius-1"}}, "url": "https://github.com/constellation-app/constellation/commit/b75e246785cb40cc2767da3046305d23dbdc9284", "committedDate": "2020-08-24T04:10:20Z", "message": "Merged master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a95361812593ab77f746b3a3f9b914b2c2eb6682", "author": {"user": {"login": "sirius-1", "name": "sirius-1"}}, "url": "https://github.com/constellation-app/constellation/commit/a95361812593ab77f746b3a3f9b914b2c2eb6682", "committedDate": "2020-09-01T01:48:19Z", "message": "Merge remote-tracking branch 'origin/master' into expressions_framework"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8e0288b05b160016e66b0fad2f10e77752669b2", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/f8e0288b05b160016e66b0fad2f10e77752669b2", "committedDate": "2020-09-01T02:32:55Z", "message": "Pull out functionality from storegraph"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a4d305834212385e32e4ad1dc68ae85fab93f688", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/a4d305834212385e32e4ad1dc68ae85fab93f688", "committedDate": "2020-09-01T22:41:14Z", "message": "Merge branch 'expressions' into feature/layer-standalone"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "092a3608979d37ec73a35f3d63f657414175a9c6", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/092a3608979d37ec73a35f3d63f657414175a9c6", "committedDate": "2020-09-02T04:59:01Z", "message": "implement expression functionality"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "120a5d6d540789d61ed384f6122147501e5b1d17", "author": {"user": {"login": "sirius-1", "name": "sirius-1"}}, "url": "https://github.com/constellation-app/constellation/commit/120a5d6d540789d61ed384f6122147501e5b1d17", "committedDate": "2020-09-02T05:15:32Z", "message": "Dependencies update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cfb1ad0e725465df459d250dd96e1397ab6088fb", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/cfb1ad0e725465df459d250dd96e1397ab6088fb", "committedDate": "2020-09-02T06:00:16Z", "message": "Merge branch 'expressions_framework' into feature/layer-standalone"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee841db8f54d0069bb2ebfe6a4227666d9ab1f43", "author": {"user": {"login": "sirius-1", "name": "sirius-1"}}, "url": "https://github.com/constellation-app/constellation/commit/ee841db8f54d0069bb2ebfe6a4227666d9ab1f43", "committedDate": "2020-09-02T06:27:32Z", "message": "Query class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a93a1d533a05e8edfecc8f68f59d210ebacb45c9", "author": {"user": {"login": "sirius-1", "name": "sirius-1"}}, "url": "https://github.com/constellation-app/constellation/commit/a93a1d533a05e8edfecc8f68f59d210ebacb45c9", "committedDate": "2020-09-02T07:02:52Z", "message": "BitmaskQuery"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c38a2857f76d1bd80788c5d17890722122ad0d48", "author": {"user": {"login": "sirius-1", "name": "sirius-1"}}, "url": "https://github.com/constellation-app/constellation/commit/c38a2857f76d1bd80788c5d17890722122ad0d48", "committedDate": "2020-09-02T23:42:33Z", "message": "BitMaskQuery"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8b5e3a977bc054b96103aa29aec9518218d4999", "author": {"user": {"login": "sirius-1", "name": "sirius-1"}}, "url": "https://github.com/constellation-app/constellation/commit/b8b5e3a977bc054b96103aa29aec9518218d4999", "committedDate": "2020-09-03T12:01:41Z", "message": "Working BitMaskQuery Plugin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77fe1fadc94f09fc12963ff8783433fc0f2c5404", "author": {"user": {"login": "sirius-1", "name": "sirius-1"}}, "url": "https://github.com/constellation-app/constellation/commit/77fe1fadc94f09fc12963ff8783433fc0f2c5404", "committedDate": "2020-09-03T23:31:31Z", "message": "Fixed active queries bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5cf8cb43d6a1e50dc47772ee43804554aac9e34", "author": {"user": {"login": "sirius-1", "name": "sirius-1"}}, "url": "https://github.com/constellation-app/constellation/commit/b5cf8cb43d6a1e50dc47772ee43804554aac9e34", "committedDate": "2020-09-04T08:12:23Z", "message": "Removed conflicting code from StoreGraph"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f06972f7fd22feb373716873f6400c8de3bf6608", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/f06972f7fd22feb373716873f6400c8de3bf6608", "committedDate": "2020-09-07T00:18:28Z", "message": "Merge branch 'expressions_framework' into feature/layer-standalone"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ebc9d9f5a9b944146d43b727055d371255bb51a3", "author": {"user": {"login": "sirius-1", "name": "sirius-1"}}, "url": "https://github.com/constellation-app/constellation/commit/ebc9d9f5a9b944146d43b727055d371255bb51a3", "committedDate": "2020-09-07T01:28:32Z", "message": "Fixed small bug in BitMaskQueryCollection"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e370508bd99b8347de276ee05ef5110439702155", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/e370508bd99b8347de276ee05ef5110439702155", "committedDate": "2020-09-09T02:17:43Z", "message": "convert Layerdescription to Bitmaskquery\n\nmerge conflict and layers view switch to query"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a314eab8a0986956479b512dfa857adccffdff60", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/a314eab8a0986956479b512dfa857adccffdff60", "committedDate": "2020-09-09T02:25:27Z", "message": "Merge branch 'expressions_framework' into feature/layer-standalone"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "281a2b82d12beecae37c6742e7acbb4d339ce32d", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/281a2b82d12beecae37c6742e7acbb4d339ce32d", "committedDate": "2020-09-21T04:28:05Z", "message": "convert Layers View to use expressions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d2756ba418eb03a3a6476bc9a45ef273bb5321f", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/3d2756ba418eb03a3a6476bc9a45ef273bb5321f", "committedDate": "2020-09-29T04:34:08Z", "message": "bugfixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6551f9407f66868afb400780ac441699f61e321d", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/6551f9407f66868afb400780ac441699f61e321d", "committedDate": "2020-10-01T01:15:13Z", "message": "convert layers to query using expressions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "597897aa9ce2d8ad5d80671a84986b6b3e65639d", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/597897aa9ce2d8ad5d80671a84986b6b3e65639d", "committedDate": "2020-10-01T01:15:55Z", "message": "Merge branch 'master' into feature/layer-standalone"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69a0602698bd5009f7075b78e6a392307fcdadbe", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/69a0602698bd5009f7075b78e6a392307fcdadbe", "committedDate": "2020-10-01T23:22:01Z", "message": "resolve race condition for attribute listening"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea5d5ce48ebf1e06d747e41ccf6f59656f79d415", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/ea5d5ce48ebf1e06d747e41ccf6f59656f79d415", "committedDate": "2020-10-02T00:20:30Z", "message": "sonar bug fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c8ce30289dd4da043903eb88ff0a058c9f8de94", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/2c8ce30289dd4da043903eb88ff0a058c9f8de94", "committedDate": "2020-10-02T05:17:57Z", "message": "fix test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a78eaa6446651be3c0bb46aeed3e6604e5b303a", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/4a78eaa6446651be3c0bb46aeed3e6604e5b303a", "committedDate": "2020-10-07T23:39:59Z", "message": "Requested changes fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc862d8cc4ea76332f79c41f293f04029b891b4d", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/cc862d8cc4ea76332f79c41f293f04029b891b4d", "committedDate": "2020-10-13T22:39:35Z", "message": "Replace var with explicit type"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9d2cafaf602610c2fdecaf038247ce2e35a1398", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/f9d2cafaf602610c2fdecaf038247ce2e35a1398", "committedDate": "2020-10-13T22:58:33Z", "message": "convert for loop to while"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3db11bce4284cd7a426a0bdc4f0f5e407c0db581", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/3db11bce4284cd7a426a0bdc4f0f5e407c0db581", "committedDate": "2020-10-26T02:29:00Z", "message": "sonarcube fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "859e0d443cf2cbd55eb8aeda116374c4b116b28a", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/859e0d443cf2cbd55eb8aeda116374c4b116b28a", "committedDate": "2020-10-30T04:03:39Z", "message": "SQ Fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83ee8a62c2a52ac5c6a24822168578a9853821a9", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/83ee8a62c2a52ac5c6a24822168578a9853821a9", "committedDate": "2020-11-01T22:08:04Z", "message": "revert switch statements from methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "802d4653e8b192c4ab323fbcfb2ad90c5b79316c", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/802d4653e8b192c4ab323fbcfb2ad90c5b79316c", "committedDate": "2020-11-01T22:53:16Z", "message": "sonar diamond operator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d6ae1714ac4a7f74aca96432b9b6b3a1a410a88", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/4d6ae1714ac4a7f74aca96432b9b6b3a1a410a88", "committedDate": "2020-11-11T21:21:59Z", "message": "Merge branch 'master' into feature/layer-standalone"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "18ac45f427e7811de003d7e9138fc44c16297047", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/18ac45f427e7811de003d7e9138fc44c16297047", "committedDate": "2020-11-23T21:15:57Z", "message": "Sonar bug fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "749b98d84f8e9b6635dc94f95f74624b78eef87e", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/749b98d84f8e9b6635dc94f95f74624b78eef87e", "committedDate": "2020-11-23T21:18:04Z", "message": "Add debug statements and futures to tasks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee50ec6866f2cd0b041abbf9084a93bdb6f1dba2", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/ee50ec6866f2cd0b041abbf9084a93bdb6f1dba2", "committedDate": "2020-12-07T23:30:33Z", "message": "add visibility access for Top Component"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dface9ed9e85391d6127a62327248491ae4319de", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/dface9ed9e85391d6127a62327248491ae4319de", "committedDate": "2020-12-07T23:30:50Z", "message": "fix bug for shortcut hotkeys"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff76f4c87e83a8534775bab9b59e4f70af7550ee", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/ff76f4c87e83a8534775bab9b59e4f70af7550ee", "committedDate": "2020-12-07T23:40:26Z", "message": "Merge branch 'master' into feature/layer-standalone"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7d76a5f02c37b90fbeb97b0cd2677b29d952e7e", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/c7d76a5f02c37b90fbeb97b0cd2677b29d952e7e", "committedDate": "2020-12-08T00:41:31Z", "message": "remove log statements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b237f4fd2abd473f7b90e71217779c9f96f68f9d", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/b237f4fd2abd473f7b90e71217779c9f96f68f9d", "committedDate": "2020-12-08T04:19:35Z", "message": "fix sonar warnings"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3ODIwOTQ5", "url": "https://github.com/constellation-app/constellation/pull/911#pullrequestreview-547820949", "createdAt": "2020-12-09T04:09:35Z", "commit": {"oid": "b237f4fd2abd473f7b90e71217779c9f96f68f9d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwNDowOTozNlrOICBaLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwNDoxNjozMFrOICBjAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODk5MTE0OA==", "bodyText": "final", "url": "https://github.com/constellation-app/constellation/pull/911#discussion_r538991148", "createdAt": "2020-12-09T04:09:36Z", "author": {"login": "antares1470"}, "path": "CoreGraphFramework/src/au/gov/asd/tac/constellation/graph/value/expression/ExpressionParser.java", "diffHunk": "@@ -323,7 +322,7 @@ protected void print(String prefix, StringBuilder out) {\n     public static SequenceExpression parse(String expression) {\n \n         ParseState state = ParseState.READING_WHITESPACE;\n-        final char[] content = new char[expression.length()];\n+        char[] content = new char[expression.length()];", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b237f4fd2abd473f7b90e71217779c9f96f68f9d"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODk5MTU1NA==", "bodyText": "What's the reason for using the constructor here (and other related files)?", "url": "https://github.com/constellation-app/constellation/pull/911#discussion_r538991554", "createdAt": "2020-12-09T04:10:46Z", "author": {"login": "antares1470"}, "path": "CoreGraphFramework/src/au/gov/asd/tac/constellation/graph/value/operations/And.java", "diffHunk": "@@ -25,7 +25,7 @@\n  */\n public class And {\n \n-    public static final String NAME = \"AND\";\n+    public static final String NAME = new String(\"AND\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b237f4fd2abd473f7b90e71217779c9f96f68f9d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODk5MjEwOA==", "bodyText": "final", "url": "https://github.com/constellation-app/constellation/pull/911#discussion_r538992108", "createdAt": "2020-12-09T04:12:18Z", "author": {"login": "antares1470"}, "path": "CoreLayersView/src/au/gov/asd/tac/constellation/views/layers/LayersViewController.java", "diffHunk": "@@ -147,6 +151,22 @@ public void execute() {\n                 .executeLater(GraphManager.getDefault().getActiveGraph());\n     }\n \n+    public void executeFuture() {\n+        final int newBitmask = LayersUtilities.calculateCurrentLayerSelectionBitMask(vxBitMaskCollection, txBitMaskCollection);\n+\n+        Future<?> f = PluginExecution.withPlugin(new UpdateLayerSelectionPlugin(newBitmask))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b237f4fd2abd473f7b90e71217779c9f96f68f9d"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODk5MjE5MQ==", "bodyText": "exceptions can be final", "url": "https://github.com/constellation-app/constellation/pull/911#discussion_r538992191", "createdAt": "2020-12-09T04:12:34Z", "author": {"login": "antares1470"}, "path": "CoreLayersView/src/au/gov/asd/tac/constellation/views/layers/LayersViewController.java", "diffHunk": "@@ -147,6 +151,22 @@ public void execute() {\n                 .executeLater(GraphManager.getDefault().getActiveGraph());\n     }\n \n+    public void executeFuture() {\n+        final int newBitmask = LayersUtilities.calculateCurrentLayerSelectionBitMask(vxBitMaskCollection, txBitMaskCollection);\n+\n+        Future<?> f = PluginExecution.withPlugin(new UpdateLayerSelectionPlugin(newBitmask))\n+                .executeLater(GraphManager.getDefault().getActiveGraph());\n+\n+        try {\n+            f.get();\n+        } catch (InterruptedException ex) {\n+            Exceptions.printStackTrace(ex);\n+            Thread.currentThread().interrupt();\n+        } catch (ExecutionException ex) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b237f4fd2abd473f7b90e71217779c9f96f68f9d"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODk5MjI3Ng==", "bodyText": "final", "url": "https://github.com/constellation-app/constellation/pull/911#discussion_r538992276", "createdAt": "2020-12-09T04:12:49Z", "author": {"login": "antares1470"}, "path": "CoreLayersView/src/au/gov/asd/tac/constellation/views/layers/LayersViewController.java", "diffHunk": "@@ -161,6 +181,28 @@ public void readState() {\n                 .executeLater(graph);\n     }\n \n+    public boolean getParentVisibility() {\n+        return parent != null ? parent.getVisibility() : null;\n+    }\n+\n+    public void readStateFuture() {\n+        final LayersViewPane pane = parent.getContent();\n+        final Graph graph = GraphManager.getDefault().getActiveGraph();\n+        if (pane == null || graph == null) {\n+            return;\n+        }\n+        Future<?> f = PluginExecution.withPlugin(new LayersViewStateReader(pane))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b237f4fd2abd473f7b90e71217779c9f96f68f9d"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODk5MjMzNw==", "bodyText": "both exceptions final", "url": "https://github.com/constellation-app/constellation/pull/911#discussion_r538992337", "createdAt": "2020-12-09T04:13:01Z", "author": {"login": "antares1470"}, "path": "CoreLayersView/src/au/gov/asd/tac/constellation/views/layers/LayersViewController.java", "diffHunk": "@@ -161,6 +181,28 @@ public void readState() {\n                 .executeLater(graph);\n     }\n \n+    public boolean getParentVisibility() {\n+        return parent != null ? parent.getVisibility() : null;\n+    }\n+\n+    public void readStateFuture() {\n+        final LayersViewPane pane = parent.getContent();\n+        final Graph graph = GraphManager.getDefault().getActiveGraph();\n+        if (pane == null || graph == null) {\n+            return;\n+        }\n+        Future<?> f = PluginExecution.withPlugin(new LayersViewStateReader(pane))\n+                .executeLater(graph);\n+        try {\n+            f.get();\n+        } catch (InterruptedException ex) {\n+            Exceptions.printStackTrace(ex);\n+            Thread.currentThread().interrupt();\n+        } catch (ExecutionException ex) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b237f4fd2abd473f7b90e71217779c9f96f68f9d"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODk5MjQxMw==", "bodyText": "final", "url": "https://github.com/constellation-app/constellation/pull/911#discussion_r538992413", "createdAt": "2020-12-09T04:13:17Z", "author": {"login": "antares1470"}, "path": "CoreLayersView/src/au/gov/asd/tac/constellation/views/layers/LayersViewController.java", "diffHunk": "@@ -172,13 +214,36 @@ public void readState() {\n         if (graph == null) {\n             return null;\n         }\n+\n         return PluginExecution.withPlugin(new LayersViewStateWriter(vxBitMaskCollection.getQueries(), txBitMaskCollection.getQueries()))\n                 .executeLater(graph);\n+\n     }\n \n     public void updateQueries(final Graph currentGraph) {\n+        final Graph graph = GraphManager.getDefault().getActiveGraph();\n+        if (graph == null) {\n+            return;\n+        }\n+        final UpdateQueryPlugin updatePlugin = new UpdateQueryPlugin(vxBitMaskCollection, txBitMaskCollection);\n+        PluginExecution.withPlugin(updatePlugin).executeLater(graph);\n+    }\n+\n+    public void updateQueriesFuture(final Graph currentGraph) {\n+        final Graph graph = GraphManager.getDefault().getActiveGraph();\n+        if (graph == null) {\n+            return;\n+        }\n         final UpdateQueryPlugin updatePlugin = new UpdateQueryPlugin(vxBitMaskCollection, txBitMaskCollection);\n-        PluginExecution.withPlugin(updatePlugin).executeLater(currentGraph);\n+        Future<?> f = PluginExecution.withPlugin(updatePlugin).executeLater(graph);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b237f4fd2abd473f7b90e71217779c9f96f68f9d"}, "originalPosition": 97}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODk5MjQ0Ng==", "bodyText": "both exceptions final", "url": "https://github.com/constellation-app/constellation/pull/911#discussion_r538992446", "createdAt": "2020-12-09T04:13:26Z", "author": {"login": "antares1470"}, "path": "CoreLayersView/src/au/gov/asd/tac/constellation/views/layers/LayersViewController.java", "diffHunk": "@@ -172,13 +214,36 @@ public void readState() {\n         if (graph == null) {\n             return null;\n         }\n+\n         return PluginExecution.withPlugin(new LayersViewStateWriter(vxBitMaskCollection.getQueries(), txBitMaskCollection.getQueries()))\n                 .executeLater(graph);\n+\n     }\n \n     public void updateQueries(final Graph currentGraph) {\n+        final Graph graph = GraphManager.getDefault().getActiveGraph();\n+        if (graph == null) {\n+            return;\n+        }\n+        final UpdateQueryPlugin updatePlugin = new UpdateQueryPlugin(vxBitMaskCollection, txBitMaskCollection);\n+        PluginExecution.withPlugin(updatePlugin).executeLater(graph);\n+    }\n+\n+    public void updateQueriesFuture(final Graph currentGraph) {\n+        final Graph graph = GraphManager.getDefault().getActiveGraph();\n+        if (graph == null) {\n+            return;\n+        }\n         final UpdateQueryPlugin updatePlugin = new UpdateQueryPlugin(vxBitMaskCollection, txBitMaskCollection);\n-        PluginExecution.withPlugin(updatePlugin).executeLater(currentGraph);\n+        Future<?> f = PluginExecution.withPlugin(updatePlugin).executeLater(graph);\n+        try {\n+            f.get();\n+        } catch (InterruptedException ex) {\n+            Exceptions.printStackTrace(ex);\n+            Thread.currentThread().interrupt();\n+        } catch (ExecutionException ex) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b237f4fd2abd473f7b90e71217779c9f96f68f9d"}, "originalPosition": 103}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODk5MzE5MA==", "bodyText": "is there an alternative to declaring var?", "url": "https://github.com/constellation-app/constellation/pull/911#discussion_r538993190", "createdAt": "2020-12-09T04:15:47Z", "author": {"login": "antares1470"}, "path": "CoreLayersView/src/au/gov/asd/tac/constellation/views/layers/shortcut/LayersViewShortcuts.java", "diffHunk": "@@ -52,74 +54,87 @@\n @NbBundle.Messages(\"CTL_LayersViewShortcuts=Layers View: Shortcuts\")\n public class LayersViewShortcuts extends AbstractAction {\n \n+    private void triggerLayerSelection(final int layerId) {\n+        var vxCollection = LayersViewController.getDefault().getVxQueryCollection();\n+        var txCollection = LayersViewController.getDefault().getTxQueryCollection();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b237f4fd2abd473f7b90e71217779c9f96f68f9d"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODk5MzI0Nw==", "bodyText": "final", "url": "https://github.com/constellation-app/constellation/pull/911#discussion_r538993247", "createdAt": "2020-12-09T04:16:00Z", "author": {"login": "antares1470"}, "path": "CoreLayersView/src/au/gov/asd/tac/constellation/views/layers/shortcut/LayersViewShortcuts.java", "diffHunk": "@@ -52,74 +54,87 @@\n @NbBundle.Messages(\"CTL_LayersViewShortcuts=Layers View: Shortcuts\")\n public class LayersViewShortcuts extends AbstractAction {\n \n+    private void triggerLayerSelection(final int layerId) {\n+        var vxCollection = LayersViewController.getDefault().getVxQueryCollection();\n+        var txCollection = LayersViewController.getDefault().getTxQueryCollection();\n+\n+        if (vxCollection.getQuery(layerId) != null) {\n+            vxCollection.getQuery(layerId).setVisibility(!vxCollection.getQuery(layerId).getVisibility());\n+        }\n+        if (txCollection.getQuery(layerId) != null) {\n+            txCollection.getQuery(layerId).setVisibility(!txCollection.getQuery(layerId).getVisibility());\n+        }\n+\n+        final int newBitmask = LayersUtilities.calculateCurrentLayerSelectionBitMask(vxCollection, txCollection);\n+\n+        PluginExecution.withPlugin(new UpdateLayerSelectionPlugin(newBitmask))\n+                .executeLater(GraphManager.getDefault().getActiveGraph());\n+\n+        Future<?> future = LayersViewController.getDefault().writeState();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b237f4fd2abd473f7b90e71217779c9f96f68f9d"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODk5MzMwNA==", "bodyText": "both exceptions final", "url": "https://github.com/constellation-app/constellation/pull/911#discussion_r538993304", "createdAt": "2020-12-09T04:16:09Z", "author": {"login": "antares1470"}, "path": "CoreLayersView/src/au/gov/asd/tac/constellation/views/layers/shortcut/LayersViewShortcuts.java", "diffHunk": "@@ -52,74 +54,87 @@\n @NbBundle.Messages(\"CTL_LayersViewShortcuts=Layers View: Shortcuts\")\n public class LayersViewShortcuts extends AbstractAction {\n \n+    private void triggerLayerSelection(final int layerId) {\n+        var vxCollection = LayersViewController.getDefault().getVxQueryCollection();\n+        var txCollection = LayersViewController.getDefault().getTxQueryCollection();\n+\n+        if (vxCollection.getQuery(layerId) != null) {\n+            vxCollection.getQuery(layerId).setVisibility(!vxCollection.getQuery(layerId).getVisibility());\n+        }\n+        if (txCollection.getQuery(layerId) != null) {\n+            txCollection.getQuery(layerId).setVisibility(!txCollection.getQuery(layerId).getVisibility());\n+        }\n+\n+        final int newBitmask = LayersUtilities.calculateCurrentLayerSelectionBitMask(vxCollection, txCollection);\n+\n+        PluginExecution.withPlugin(new UpdateLayerSelectionPlugin(newBitmask))\n+                .executeLater(GraphManager.getDefault().getActiveGraph());\n+\n+        Future<?> future = LayersViewController.getDefault().writeState();\n+\n+        try {\n+            future.get();\n+        } catch (InterruptedException ex) {\n+            Exceptions.printStackTrace(ex);\n+            Thread.currentThread().interrupt();\n+        } catch (ExecutionException ex) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b237f4fd2abd473f7b90e71217779c9f96f68f9d"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODk5MzM1NQ==", "bodyText": "final", "url": "https://github.com/constellation-app/constellation/pull/911#discussion_r538993355", "createdAt": "2020-12-09T04:16:20Z", "author": {"login": "antares1470"}, "path": "CoreLayersView/src/au/gov/asd/tac/constellation/views/layers/shortcut/LayersViewShortcuts.java", "diffHunk": "@@ -52,74 +54,87 @@\n @NbBundle.Messages(\"CTL_LayersViewShortcuts=Layers View: Shortcuts\")\n public class LayersViewShortcuts extends AbstractAction {\n \n+    private void triggerLayerSelection(final int layerId) {\n+        var vxCollection = LayersViewController.getDefault().getVxQueryCollection();\n+        var txCollection = LayersViewController.getDefault().getTxQueryCollection();\n+\n+        if (vxCollection.getQuery(layerId) != null) {\n+            vxCollection.getQuery(layerId).setVisibility(!vxCollection.getQuery(layerId).getVisibility());\n+        }\n+        if (txCollection.getQuery(layerId) != null) {\n+            txCollection.getQuery(layerId).setVisibility(!txCollection.getQuery(layerId).getVisibility());\n+        }\n+\n+        final int newBitmask = LayersUtilities.calculateCurrentLayerSelectionBitMask(vxCollection, txCollection);\n+\n+        PluginExecution.withPlugin(new UpdateLayerSelectionPlugin(newBitmask))\n+                .executeLater(GraphManager.getDefault().getActiveGraph());\n+\n+        Future<?> future = LayersViewController.getDefault().writeState();\n+\n+        try {\n+            future.get();\n+        } catch (InterruptedException ex) {\n+            Exceptions.printStackTrace(ex);\n+            Thread.currentThread().interrupt();\n+        } catch (ExecutionException ex) {\n+            Exceptions.printStackTrace(ex);\n+        }\n+\n+        if (!LayersViewController.getDefault().getParentVisibility()) {\n+            LayersViewController.getDefault().readStateFuture();\n+            LayersViewController.getDefault().updateQueries(GraphManager.getDefault().getActiveGraph());\n+        }\n+    }\n+\n     @Override\n     public void actionPerformed(ActionEvent e) {\n-        Future<?> enableLayerFuture = null;\n-\n         final String hotkey = e.getActionCommand();\n         switch (hotkey) {\n             case \"CA-L\":\n                 PluginExecution.withPlugin(new NewLayerPlugin()).executeLater(GraphManager.getDefault().getActiveGraph());\n                 break;\n             case \"CA-D\":\n-                PluginExecution.withPlugin(new DeselectAllLayersPlugin()).executeLater(GraphManager.getDefault().getActiveGraph());\n+                Future<?> deselectFuture = PluginExecution.withPlugin(new DeselectAllLayersPlugin()).executeLater(GraphManager.getDefault().getActiveGraph());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b237f4fd2abd473f7b90e71217779c9f96f68f9d"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODk5MzQxMA==", "bodyText": "both exceptions final", "url": "https://github.com/constellation-app/constellation/pull/911#discussion_r538993410", "createdAt": "2020-12-09T04:16:30Z", "author": {"login": "antares1470"}, "path": "CoreLayersView/src/au/gov/asd/tac/constellation/views/layers/shortcut/LayersViewShortcuts.java", "diffHunk": "@@ -52,74 +54,87 @@\n @NbBundle.Messages(\"CTL_LayersViewShortcuts=Layers View: Shortcuts\")\n public class LayersViewShortcuts extends AbstractAction {\n \n+    private void triggerLayerSelection(final int layerId) {\n+        var vxCollection = LayersViewController.getDefault().getVxQueryCollection();\n+        var txCollection = LayersViewController.getDefault().getTxQueryCollection();\n+\n+        if (vxCollection.getQuery(layerId) != null) {\n+            vxCollection.getQuery(layerId).setVisibility(!vxCollection.getQuery(layerId).getVisibility());\n+        }\n+        if (txCollection.getQuery(layerId) != null) {\n+            txCollection.getQuery(layerId).setVisibility(!txCollection.getQuery(layerId).getVisibility());\n+        }\n+\n+        final int newBitmask = LayersUtilities.calculateCurrentLayerSelectionBitMask(vxCollection, txCollection);\n+\n+        PluginExecution.withPlugin(new UpdateLayerSelectionPlugin(newBitmask))\n+                .executeLater(GraphManager.getDefault().getActiveGraph());\n+\n+        Future<?> future = LayersViewController.getDefault().writeState();\n+\n+        try {\n+            future.get();\n+        } catch (InterruptedException ex) {\n+            Exceptions.printStackTrace(ex);\n+            Thread.currentThread().interrupt();\n+        } catch (ExecutionException ex) {\n+            Exceptions.printStackTrace(ex);\n+        }\n+\n+        if (!LayersViewController.getDefault().getParentVisibility()) {\n+            LayersViewController.getDefault().readStateFuture();\n+            LayersViewController.getDefault().updateQueries(GraphManager.getDefault().getActiveGraph());\n+        }\n+    }\n+\n     @Override\n     public void actionPerformed(ActionEvent e) {\n-        Future<?> enableLayerFuture = null;\n-\n         final String hotkey = e.getActionCommand();\n         switch (hotkey) {\n             case \"CA-L\":\n                 PluginExecution.withPlugin(new NewLayerPlugin()).executeLater(GraphManager.getDefault().getActiveGraph());\n                 break;\n             case \"CA-D\":\n-                PluginExecution.withPlugin(new DeselectAllLayersPlugin()).executeLater(GraphManager.getDefault().getActiveGraph());\n+                Future<?> deselectFuture = PluginExecution.withPlugin(new DeselectAllLayersPlugin()).executeLater(GraphManager.getDefault().getActiveGraph());\n+                try {\n+                    deselectFuture.get();\n+                } catch (InterruptedException ex) {\n+                    Exceptions.printStackTrace(ex);\n+                    Thread.currentThread().interrupt();\n+                } catch (ExecutionException ex) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b237f4fd2abd473f7b90e71217779c9f96f68f9d"}, "originalPosition": 63}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1661c58542265d76f52e362009b73a88af7c5728", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/1661c58542265d76f52e362009b73a88af7c5728", "committedDate": "2020-12-11T05:25:03Z", "message": "peer review final fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d01b1dd830abf81fbe58ded86530dcd12bcd6db", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/1d01b1dd830abf81fbe58ded86530dcd12bcd6db", "committedDate": "2020-12-13T23:29:57Z", "message": "add comments explaining String constructor call"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwOTc1NzUy", "url": "https://github.com/constellation-app/constellation/pull/911#pullrequestreview-550975752", "createdAt": "2020-12-13T23:40:36Z", "commit": {"oid": "1d01b1dd830abf81fbe58ded86530dcd12bcd6db"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY1MzgxNzY5", "url": "https://github.com/constellation-app/constellation/pull/911#pullrequestreview-565381769", "createdAt": "2021-01-11T14:04:55Z", "commit": {"oid": "1d01b1dd830abf81fbe58ded86530dcd12bcd6db"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3532, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}