{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3Nzg5MDEw", "number": 782, "title": "Feature/layers view keyboard shortcuts", "bodyText": "Description of the Change\nAdded Layers view keyboard shortcuts that can create a new layer and deselect all layers\n\nAlternate Designs\n\nWhy Should This Be In Core?\n\nBenefits\n\nPossible Drawbacks\n\nVerification Process\n\nApplicable Issues", "createdAt": "2020-08-14T06:01:57Z", "url": "https://github.com/constellation-app/constellation/pull/782", "merged": true, "mergeCommit": {"oid": "93a7e6b01659b2033b1eb6b20489a2c021ddaf84"}, "closed": true, "closedAt": "2020-08-25T21:34:27Z", "author": {"login": "formalhaut69"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-tYDLgH2gAyNDY3Nzg5MDEwOjFiY2NkMWE3ZTUyZGI2MGQwOTMwZjc2NDcwMjIxY2VmYTMwNjk1NmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdCfPMOAFqTQ3NTAyNzQ1Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1bccd1a7e52db60d0930f76470221cefa306956d", "author": {"user": {"login": "formalhaut69", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/1bccd1a7e52db60d0930f76470221cefa306956d", "committedDate": "2020-08-14T05:01:23Z", "message": "New Layer shortcut"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e14bcc6e74d57b9940f76c802a36df5dd0432ea7", "author": {"user": {"login": "formalhaut69", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/e14bcc6e74d57b9940f76c802a36df5dd0432ea7", "committedDate": "2020-08-14T05:54:44Z", "message": "Added the Deselect all layers plugin"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4MTA5OTEy", "url": "https://github.com/constellation-app/constellation/pull/782#pullrequestreview-468109912", "createdAt": "2020-08-17T00:21:24Z", "commit": {"oid": "e14bcc6e74d57b9940f76c802a36df5dd0432ea7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwMDoyMToyNFrOHBWgPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwMDoyNToyNFrOHBWikA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTE3OTMyNA==", "bodyText": "Add a final", "url": "https://github.com/constellation-app/constellation/pull/782#discussion_r471179324", "createdAt": "2020-08-17T00:21:24Z", "author": {"login": "aldebaran30701"}, "path": "CoreLayersView/src/au/gov/asd/tac/constellation/views/layers/LayersViewShortcuts.java", "diffHunk": "@@ -0,0 +1,54 @@\n+/*\n+ * Copyright 2010-2020 Australian Signals Directorate\n+ * \n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * \n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package au.gov.asd.tac.constellation.views.layers;\n+\n+import au.gov.asd.tac.constellation.graph.manager.GraphManager;\n+import au.gov.asd.tac.constellation.plugins.PluginExecution;\n+import au.gov.asd.tac.constellation.views.layers.utilities.DeselectAllLayersPlugin;\n+import au.gov.asd.tac.constellation.views.layers.utilities.NewLayerPlugin;\n+import java.awt.event.ActionEvent;\n+import javax.swing.AbstractAction;\n+import org.openide.awt.ActionID;\n+import org.openide.awt.ActionReference;\n+import org.openide.awt.ActionReferences;\n+import org.openide.awt.ActionRegistration;\n+import org.openide.util.NbBundle;\n+\n+/**\n+ * Defines the keyboard shortcuts for use with the Layers view\n+ *\n+ * @author formalhaut69\n+ */\n+@ActionID(category = \"Options\", id = \"au.gov.asd.tac.constellation.views.layersviewshortcuts\")\n+@ActionRegistration(displayName = \"#CTL_LayersViewShortcuts\", surviveFocusChange = true)\n+@ActionReferences({\n+    @ActionReference(path = \"Shortcuts\", name = \"CA-S\"),\n+    @ActionReference(path = \"Shortcuts\", name = \"CA-L\")\n+})\n+@NbBundle.Messages(\"CTL_LayersViewShortcuts=Layers View: Shortcuts\")\n+public class LayersViewShortcuts extends AbstractAction{\n+\n+    @Override\n+    public void actionPerformed(ActionEvent e) {\n+\n+        String hotkey = e.getActionCommand();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e14bcc6e74d57b9940f76c802a36df5dd0432ea7"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTE3OTQwMQ==", "bodyText": "else if hotkey.equals(\"CA-S\") to be defensive", "url": "https://github.com/constellation-app/constellation/pull/782#discussion_r471179401", "createdAt": "2020-08-17T00:21:46Z", "author": {"login": "aldebaran30701"}, "path": "CoreLayersView/src/au/gov/asd/tac/constellation/views/layers/LayersViewShortcuts.java", "diffHunk": "@@ -0,0 +1,54 @@\n+/*\n+ * Copyright 2010-2020 Australian Signals Directorate\n+ * \n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * \n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package au.gov.asd.tac.constellation.views.layers;\n+\n+import au.gov.asd.tac.constellation.graph.manager.GraphManager;\n+import au.gov.asd.tac.constellation.plugins.PluginExecution;\n+import au.gov.asd.tac.constellation.views.layers.utilities.DeselectAllLayersPlugin;\n+import au.gov.asd.tac.constellation.views.layers.utilities.NewLayerPlugin;\n+import java.awt.event.ActionEvent;\n+import javax.swing.AbstractAction;\n+import org.openide.awt.ActionID;\n+import org.openide.awt.ActionReference;\n+import org.openide.awt.ActionReferences;\n+import org.openide.awt.ActionRegistration;\n+import org.openide.util.NbBundle;\n+\n+/**\n+ * Defines the keyboard shortcuts for use with the Layers view\n+ *\n+ * @author formalhaut69\n+ */\n+@ActionID(category = \"Options\", id = \"au.gov.asd.tac.constellation.views.layersviewshortcuts\")\n+@ActionRegistration(displayName = \"#CTL_LayersViewShortcuts\", surviveFocusChange = true)\n+@ActionReferences({\n+    @ActionReference(path = \"Shortcuts\", name = \"CA-S\"),\n+    @ActionReference(path = \"Shortcuts\", name = \"CA-L\")\n+})\n+@NbBundle.Messages(\"CTL_LayersViewShortcuts=Layers View: Shortcuts\")\n+public class LayersViewShortcuts extends AbstractAction{\n+\n+    @Override\n+    public void actionPerformed(ActionEvent e) {\n+\n+        String hotkey = e.getActionCommand();\n+        if (hotkey.equals(\"CA-L\")) {\n+            PluginExecution.withPlugin(new NewLayerPlugin()).executeLater(GraphManager.getDefault().getActiveGraph());\n+        } else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e14bcc6e74d57b9940f76c802a36df5dd0432ea7"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTE3OTkyMA==", "bodyText": "Final modifier here", "url": "https://github.com/constellation-app/constellation/pull/782#discussion_r471179920", "createdAt": "2020-08-17T00:25:24Z", "author": {"login": "aldebaran30701"}, "path": "CoreLayersView/src/au/gov/asd/tac/constellation/views/layers/utilities/DeselectAllLayersPlugin.java", "diffHunk": "@@ -0,0 +1,67 @@\n+/*\n+ * Copyright 2010-2020 Australian Signals Directorate\n+ * \n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * \n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package au.gov.asd.tac.constellation.views.layers.utilities;\n+\n+import au.gov.asd.tac.constellation.graph.Graph;\n+import au.gov.asd.tac.constellation.graph.GraphWriteMethods;\n+import au.gov.asd.tac.constellation.plugins.PluginException;\n+import au.gov.asd.tac.constellation.plugins.PluginInteraction;\n+import au.gov.asd.tac.constellation.plugins.parameters.PluginParameters;\n+import au.gov.asd.tac.constellation.plugins.templates.SimpleEditPlugin;\n+import au.gov.asd.tac.constellation.views.layers.layer.LayerDescription;\n+import au.gov.asd.tac.constellation.views.layers.state.LayersViewConcept;\n+import au.gov.asd.tac.constellation.views.layers.state.LayersViewState;\n+import java.util.List;\n+import org.apache.commons.lang3.StringUtils;\n+\n+/**\n+ * A plugin that deselects all layers in the layers view\n+ *\n+ * @author formalhaut69\n+ */\n+public class DeselectAllLayersPlugin extends SimpleEditPlugin {\n+\n+    @Override\n+    protected void edit(GraphWriteMethods graph, PluginInteraction interaction, PluginParameters parameters) throws InterruptedException, PluginException {\n+        final int layersViewStateAttributeId = LayersViewConcept.MetaAttribute.LAYERS_VIEW_STATE.ensure(graph);\n+        if (layersViewStateAttributeId == Graph.NOT_FOUND) {\n+            return;\n+        }\n+\n+        LayersViewState currentState = graph.getObjectValue(layersViewStateAttributeId, 0);\n+        List<LayerDescription> layers = currentState.getLayers();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e14bcc6e74d57b9940f76c802a36df5dd0432ea7"}, "originalPosition": 45}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "afb0835d9b03dceee150cdfcf9cd523619f36347", "author": {"user": {"login": "formalhaut69", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/afb0835d9b03dceee150cdfcf9cd523619f36347", "committedDate": "2020-08-17T00:33:39Z", "message": "Updated with a switch statement"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3dd829666e90ebc0072e936a88bb60ba4450e5ed", "author": {"user": {"login": "formalhaut69", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/3dd829666e90ebc0072e936a88bb60ba4450e5ed", "committedDate": "2020-08-17T00:39:48Z", "message": "added final modifiers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f9530a052e57d5ed8355bc4a99bf13972817baa", "author": {"user": {"login": "formalhaut69", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/8f9530a052e57d5ed8355bc4a99bf13972817baa", "committedDate": "2020-08-17T06:47:01Z", "message": "Added test cases for new plugins"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4OTM0Mzk3", "url": "https://github.com/constellation-app/constellation/pull/782#pullrequestreview-468934397", "createdAt": "2020-08-18T01:36:38Z", "commit": {"oid": "8f9530a052e57d5ed8355bc4a99bf13972817baa"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQwMTozNjozOVrOHCASCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQwMTozODoxMlrOHCATxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTg2MzgxOA==", "bodyText": "It visibility, query and description should be passable to this method.", "url": "https://github.com/constellation-app/constellation/pull/782#discussion_r471863818", "createdAt": "2020-08-18T01:36:39Z", "author": {"login": "cygnus-x-1"}, "path": "CoreLayersView/src/au/gov/asd/tac/constellation/views/layers/state/LayersViewState.java", "diffHunk": "@@ -55,6 +57,14 @@ public void addLayer(final LayerDescription layer) {\n         layers.add(layer);\n     }\n \n+    public void addLayer() {\n+        if (layers.size() < 32) {\n+            layers.add(new LayerDescription(layers.size() + 1, false, \"\", \"\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f9530a052e57d5ed8355bc4a99bf13972817baa"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTg2Mzk3Nw==", "bodyText": "final", "url": "https://github.com/constellation-app/constellation/pull/782#discussion_r471863977", "createdAt": "2020-08-18T01:37:11Z", "author": {"login": "cygnus-x-1"}, "path": "CoreLayersView/src/au/gov/asd/tac/constellation/views/layers/utilities/DeselectAllLayersPlugin.java", "diffHunk": "@@ -0,0 +1,67 @@\n+/*\n+ * Copyright 2010-2020 Australian Signals Directorate\n+ * \n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * \n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package au.gov.asd.tac.constellation.views.layers.utilities;\n+\n+import au.gov.asd.tac.constellation.graph.Graph;\n+import au.gov.asd.tac.constellation.graph.GraphWriteMethods;\n+import au.gov.asd.tac.constellation.plugins.PluginException;\n+import au.gov.asd.tac.constellation.plugins.PluginInteraction;\n+import au.gov.asd.tac.constellation.plugins.parameters.PluginParameters;\n+import au.gov.asd.tac.constellation.plugins.templates.SimpleEditPlugin;\n+import au.gov.asd.tac.constellation.views.layers.layer.LayerDescription;\n+import au.gov.asd.tac.constellation.views.layers.state.LayersViewConcept;\n+import au.gov.asd.tac.constellation.views.layers.state.LayersViewState;\n+import java.util.List;\n+import org.apache.commons.lang3.StringUtils;\n+\n+/**\n+ * A plugin that deselects all layers in the layers view\n+ *\n+ * @author formalhaut69\n+ */\n+public class DeselectAllLayersPlugin extends SimpleEditPlugin {\n+\n+    @Override\n+    protected void edit(GraphWriteMethods graph, PluginInteraction interaction, PluginParameters parameters) throws InterruptedException, PluginException {\n+        final int layersViewStateAttributeId = LayersViewConcept.MetaAttribute.LAYERS_VIEW_STATE.ensure(graph);\n+        if (layersViewStateAttributeId == Graph.NOT_FOUND) {\n+            return;\n+        }\n+\n+        LayersViewState currentState = graph.getObjectValue(layersViewStateAttributeId, 0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f9530a052e57d5ed8355bc4a99bf13972817baa"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTg2NDAwOQ==", "bodyText": "finals", "url": "https://github.com/constellation-app/constellation/pull/782#discussion_r471864009", "createdAt": "2020-08-18T01:37:21Z", "author": {"login": "cygnus-x-1"}, "path": "CoreLayersView/src/au/gov/asd/tac/constellation/views/layers/utilities/DeselectAllLayersPlugin.java", "diffHunk": "@@ -0,0 +1,67 @@\n+/*\n+ * Copyright 2010-2020 Australian Signals Directorate\n+ * \n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * \n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package au.gov.asd.tac.constellation.views.layers.utilities;\n+\n+import au.gov.asd.tac.constellation.graph.Graph;\n+import au.gov.asd.tac.constellation.graph.GraphWriteMethods;\n+import au.gov.asd.tac.constellation.plugins.PluginException;\n+import au.gov.asd.tac.constellation.plugins.PluginInteraction;\n+import au.gov.asd.tac.constellation.plugins.parameters.PluginParameters;\n+import au.gov.asd.tac.constellation.plugins.templates.SimpleEditPlugin;\n+import au.gov.asd.tac.constellation.views.layers.layer.LayerDescription;\n+import au.gov.asd.tac.constellation.views.layers.state.LayersViewConcept;\n+import au.gov.asd.tac.constellation.views.layers.state.LayersViewState;\n+import java.util.List;\n+import org.apache.commons.lang3.StringUtils;\n+\n+/**\n+ * A plugin that deselects all layers in the layers view\n+ *\n+ * @author formalhaut69\n+ */\n+public class DeselectAllLayersPlugin extends SimpleEditPlugin {\n+\n+    @Override\n+    protected void edit(GraphWriteMethods graph, PluginInteraction interaction, PluginParameters parameters) throws InterruptedException, PluginException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f9530a052e57d5ed8355bc4a99bf13972817baa"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTg2NDAzMA==", "bodyText": "finals", "url": "https://github.com/constellation-app/constellation/pull/782#discussion_r471864030", "createdAt": "2020-08-18T01:37:27Z", "author": {"login": "cygnus-x-1"}, "path": "CoreLayersView/src/au/gov/asd/tac/constellation/views/layers/utilities/NewLayerPlugin.java", "diffHunk": "@@ -0,0 +1,71 @@\n+/*\n+ * Copyright 2010-2020 Australian Signals Directorate\n+ * \n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * \n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package au.gov.asd.tac.constellation.views.layers.utilities;\n+\n+import au.gov.asd.tac.constellation.graph.Graph;\n+import au.gov.asd.tac.constellation.graph.GraphWriteMethods;\n+import au.gov.asd.tac.constellation.plugins.PluginInteraction;\n+import au.gov.asd.tac.constellation.plugins.parameters.PluginParameters;\n+import au.gov.asd.tac.constellation.plugins.templates.SimpleEditPlugin;\n+import au.gov.asd.tac.constellation.views.layers.layer.LayerDescription;\n+import au.gov.asd.tac.constellation.views.layers.state.LayersViewConcept;\n+import au.gov.asd.tac.constellation.views.layers.state.LayersViewState;\n+import java.util.ArrayList;\n+import java.util.List;\n+import org.apache.commons.lang3.StringUtils;\n+\n+/**\n+ * A plugin that creates a new layer in the layers view\n+ *\n+ * @author formalhaut69\n+ */\n+public class NewLayerPlugin extends SimpleEditPlugin {\n+\n+    @Override\n+    public void edit(final GraphWriteMethods graph, final PluginInteraction interaction, final PluginParameters parameters) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f9530a052e57d5ed8355bc4a99bf13972817baa"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTg2NDA1Mg==", "bodyText": "final", "url": "https://github.com/constellation-app/constellation/pull/782#discussion_r471864052", "createdAt": "2020-08-18T01:37:34Z", "author": {"login": "cygnus-x-1"}, "path": "CoreLayersView/src/au/gov/asd/tac/constellation/views/layers/utilities/NewLayerPlugin.java", "diffHunk": "@@ -0,0 +1,71 @@\n+/*\n+ * Copyright 2010-2020 Australian Signals Directorate\n+ * \n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * \n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package au.gov.asd.tac.constellation.views.layers.utilities;\n+\n+import au.gov.asd.tac.constellation.graph.Graph;\n+import au.gov.asd.tac.constellation.graph.GraphWriteMethods;\n+import au.gov.asd.tac.constellation.plugins.PluginInteraction;\n+import au.gov.asd.tac.constellation.plugins.parameters.PluginParameters;\n+import au.gov.asd.tac.constellation.plugins.templates.SimpleEditPlugin;\n+import au.gov.asd.tac.constellation.views.layers.layer.LayerDescription;\n+import au.gov.asd.tac.constellation.views.layers.state.LayersViewConcept;\n+import au.gov.asd.tac.constellation.views.layers.state.LayersViewState;\n+import java.util.ArrayList;\n+import java.util.List;\n+import org.apache.commons.lang3.StringUtils;\n+\n+/**\n+ * A plugin that creates a new layer in the layers view\n+ *\n+ * @author formalhaut69\n+ */\n+public class NewLayerPlugin extends SimpleEditPlugin {\n+\n+    @Override\n+    public void edit(final GraphWriteMethods graph, final PluginInteraction interaction, final PluginParameters parameters) {\n+        if (graph == null) {\n+            return;\n+        }\n+\n+        final int layersViewStateAttributeId = LayersViewConcept.MetaAttribute.LAYERS_VIEW_STATE.ensure(graph);\n+        if (layersViewStateAttributeId == Graph.NOT_FOUND) {\n+            return;\n+        }\n+\n+        LayersViewState currentState = graph.getObjectValue(layersViewStateAttributeId, 0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f9530a052e57d5ed8355bc4a99bf13972817baa"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTg2NDE3NA==", "bodyText": "final", "url": "https://github.com/constellation-app/constellation/pull/782#discussion_r471864174", "createdAt": "2020-08-18T01:38:01Z", "author": {"login": "cygnus-x-1"}, "path": "CoreLayersView/test/unit/src/au/gov/asd/tac/constellation/views/layers/utilities/DeselectAllLayersPluginNGTest.java", "diffHunk": "@@ -0,0 +1,84 @@\n+/*\n+ * Copyright 2010-2020 Australian Signals Directorate\n+ * \n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * \n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package au.gov.asd.tac.constellation.views.layers.utilities;\n+\n+import au.gov.asd.tac.constellation.graph.Graph;\n+import au.gov.asd.tac.constellation.graph.LayersConcept;\n+import au.gov.asd.tac.constellation.graph.StoreGraph;\n+import au.gov.asd.tac.constellation.plugins.PluginException;\n+import au.gov.asd.tac.constellation.plugins.PluginExecution;\n+import au.gov.asd.tac.constellation.views.layers.layer.LayerDescription;\n+import au.gov.asd.tac.constellation.views.layers.state.LayersViewConcept;\n+import au.gov.asd.tac.constellation.views.layers.state.LayersViewState;\n+import java.util.List;\n+import static org.testng.Assert.assertTrue;\n+import static org.testng.Assert.fail;\n+import org.testng.annotations.Test;\n+\n+/**\n+ *\n+ * @author formalhaut69\n+ */\n+public class DeselectAllLayersPluginNGTest {\n+\n+    private int layerMaskV, layerMaskT, layerVisibilityV, layerVisibilityT;\n+    private StoreGraph graph;\n+\n+    public void setupGraph() {\n+        graph = new StoreGraph();\n+\n+        // Create LayerMask attributes\n+        layerMaskV = LayersConcept.VertexAttribute.LAYER_MASK.ensure(graph);\n+        if (layerMaskV == Graph.NOT_FOUND) {\n+            fail();\n+        }\n+        layerMaskT = LayersConcept.TransactionAttribute.LAYER_MASK.ensure(graph);\n+        if (layerMaskT == Graph.NOT_FOUND) {\n+            fail();\n+        }\n+\n+        // Create LayerVisilibity Attributes\n+        layerVisibilityV = LayersConcept.VertexAttribute.LAYER_VISIBILITY.ensure(graph);\n+        if (layerVisibilityV == Graph.NOT_FOUND) {\n+            fail();\n+        }\n+        layerVisibilityT = LayersConcept.TransactionAttribute.LAYER_VISIBILITY.ensure(graph);\n+        if (layerVisibilityT == Graph.NOT_FOUND) {\n+            fail();\n+        }\n+    }\n+\n+    @Test\n+    public void testDeselectAllLayersPlugin() throws InterruptedException, PluginException {\n+        setupGraph();\n+\n+        PluginExecution.withPlugin(new NewLayerPlugin()).executeNow(graph);\n+\n+        final int layersViewStateAttributeId = LayersViewConcept.MetaAttribute.LAYERS_VIEW_STATE.get(graph);\n+\n+        assertTrue(layersViewStateAttributeId != Graph.NOT_FOUND);\n+        LayersViewState currentState = graph.getObjectValue(layersViewStateAttributeId, 0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f9530a052e57d5ed8355bc4a99bf13972817baa"}, "originalPosition": 73}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTg2NDI2MA==", "bodyText": "final", "url": "https://github.com/constellation-app/constellation/pull/782#discussion_r471864260", "createdAt": "2020-08-18T01:38:12Z", "author": {"login": "cygnus-x-1"}, "path": "CoreLayersView/test/unit/src/au/gov/asd/tac/constellation/views/layers/utilities/NewLayerPluginNGTest.java", "diffHunk": "@@ -0,0 +1,80 @@\n+/*\n+ * Copyright 2010-2020 Australian Signals Directorate\n+ * \n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * \n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package au.gov.asd.tac.constellation.views.layers.utilities;\n+\n+import au.gov.asd.tac.constellation.graph.Graph;\n+import au.gov.asd.tac.constellation.graph.LayersConcept;\n+import au.gov.asd.tac.constellation.graph.StoreGraph;\n+import au.gov.asd.tac.constellation.plugins.PluginException;\n+import au.gov.asd.tac.constellation.plugins.PluginExecution;\n+import au.gov.asd.tac.constellation.views.layers.layer.LayerDescription;\n+import au.gov.asd.tac.constellation.views.layers.state.LayersViewConcept;\n+import au.gov.asd.tac.constellation.views.layers.state.LayersViewState;\n+import java.util.List;\n+import static org.testng.Assert.assertTrue;\n+import static org.testng.Assert.fail;\n+import org.testng.annotations.Test;\n+\n+/**\n+ *\n+ * @author formalhaut69\n+ */\n+public class NewLayerPluginNGTest {\n+\n+    private int layerMaskV, layerMaskT, layerVisibilityV, layerVisibilityT;\n+    private StoreGraph graph;\n+\n+    public void setupGraph() {\n+        graph = new StoreGraph();\n+\n+        // Create LayerMask attributes\n+        layerMaskV = LayersConcept.VertexAttribute.LAYER_MASK.ensure(graph);\n+        if (layerMaskV == Graph.NOT_FOUND) {\n+            fail();\n+        }\n+        layerMaskT = LayersConcept.TransactionAttribute.LAYER_MASK.ensure(graph);\n+        if (layerMaskT == Graph.NOT_FOUND) {\n+            fail();\n+        }\n+\n+        // Create LayerVisilibity Attributes\n+        layerVisibilityV = LayersConcept.VertexAttribute.LAYER_VISIBILITY.ensure(graph);\n+        if (layerVisibilityV == Graph.NOT_FOUND) {\n+            fail();\n+        }\n+        layerVisibilityT = LayersConcept.TransactionAttribute.LAYER_VISIBILITY.ensure(graph);\n+        if (layerVisibilityT == Graph.NOT_FOUND) {\n+            fail();\n+        }\n+    }\n+\n+    @Test\n+    public void testDeselectAllLayersPlugin() throws InterruptedException, PluginException {\n+        setupGraph();\n+\n+        PluginExecution.withPlugin(new NewLayerPlugin()).executeNow(graph);\n+\n+        final int layersViewStateAttributeId = LayersViewConcept.MetaAttribute.LAYERS_VIEW_STATE.get(graph);\n+\n+        assertTrue(layersViewStateAttributeId != Graph.NOT_FOUND);\n+\n+        LayersViewState currentState = graph.getObjectValue(layersViewStateAttributeId, 0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f9530a052e57d5ed8355bc4a99bf13972817baa"}, "originalPosition": 74}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69d841397fa8cf3a9c6644532302162b20998421", "author": {"user": {"login": "formalhaut69", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/69d841397fa8cf3a9c6644532302162b20998421", "committedDate": "2020-08-18T23:40:35Z", "message": "Requested changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwMTAxNjMy", "url": "https://github.com/constellation-app/constellation/pull/782#pullrequestreview-470101632", "createdAt": "2020-08-19T03:36:41Z", "commit": {"oid": "69d841397fa8cf3a9c6644532302162b20998421"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMDUzMDMx", "url": "https://github.com/constellation-app/constellation/pull/782#pullrequestreview-473053031", "createdAt": "2020-08-23T23:01:05Z", "commit": {"oid": "69d841397fa8cf3a9c6644532302162b20998421"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ba6d11487136893f592a29d8f133d3140dec145", "author": {"user": {"login": "formalhaut69", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/0ba6d11487136893f592a29d8f133d3140dec145", "committedDate": "2020-08-24T00:57:41Z", "message": "Added update to whats new"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61901fe98d6ccd5d2c993ebe2fafc5012502fe6e", "author": {"user": {"login": "formalhaut69", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/61901fe98d6ccd5d2c993ebe2fafc5012502fe6e", "committedDate": "2020-08-24T01:02:29Z", "message": "Merge branch 'master' into Feature/Layers-View-Shortcuts"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMDY2Nzkx", "url": "https://github.com/constellation-app/constellation/pull/782#pullrequestreview-473066791", "createdAt": "2020-08-24T01:04:37Z", "commit": {"oid": "61901fe98d6ccd5d2c993ebe2fafc5012502fe6e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b99a7c5233f55ceb0a2238fd109ab02aa0abea0c", "author": {"user": {"login": "formalhaut69", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/b99a7c5233f55ceb0a2238fd109ab02aa0abea0c", "committedDate": "2020-08-24T01:05:40Z", "message": "Upadated Whats new and resolved merge conflict"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0MDMyMzUz", "url": "https://github.com/constellation-app/constellation/pull/782#pullrequestreview-474032353", "createdAt": "2020-08-25T01:29:50Z", "commit": {"oid": "b99a7c5233f55ceb0a2238fd109ab02aa0abea0c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ba3d12396b74588c329b523fde94d6025e61d1e", "author": {"user": {"login": "formalhaut69", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/3ba3d12396b74588c329b523fde94d6025e61d1e", "committedDate": "2020-08-25T06:07:24Z", "message": "Changed keyboard shortcut to Ctrl-Alt-D"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0OTI5NDgz", "url": "https://github.com/constellation-app/constellation/pull/782#pullrequestreview-474929483", "createdAt": "2020-08-25T21:34:19Z", "commit": {"oid": "3ba3d12396b74588c329b523fde94d6025e61d1e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1MDI3NDU2", "url": "https://github.com/constellation-app/constellation/pull/782#pullrequestreview-475027456", "createdAt": "2020-08-25T22:48:43Z", "commit": {"oid": "3ba3d12396b74588c329b523fde94d6025e61d1e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQyMjo0ODo0M1rOHGue5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQyMjo0ODo0M1rOHGue5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjgxNTA3Ng==", "bodyText": "This probably should have been changed to \"CA-D\"", "url": "https://github.com/constellation-app/constellation/pull/782#discussion_r476815076", "createdAt": "2020-08-25T22:48:43Z", "author": {"login": "antares1470"}, "path": "CoreLayersView/src/au/gov/asd/tac/constellation/views/layers/LayersViewShortcuts.java", "diffHunk": "@@ -0,0 +1,59 @@\n+/*\n+ * Copyright 2010-2020 Australian Signals Directorate\n+ * \n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ * \n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ * \n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package au.gov.asd.tac.constellation.views.layers;\n+\n+import au.gov.asd.tac.constellation.graph.manager.GraphManager;\n+import au.gov.asd.tac.constellation.plugins.PluginExecution;\n+import au.gov.asd.tac.constellation.views.layers.utilities.DeselectAllLayersPlugin;\n+import au.gov.asd.tac.constellation.views.layers.utilities.NewLayerPlugin;\n+import java.awt.event.ActionEvent;\n+import javax.swing.AbstractAction;\n+import org.openide.awt.ActionID;\n+import org.openide.awt.ActionReference;\n+import org.openide.awt.ActionReferences;\n+import org.openide.awt.ActionRegistration;\n+import org.openide.util.NbBundle;\n+\n+/**\n+ * Defines the keyboard shortcuts for use with the Layers view\n+ *\n+ * @author formalhaut69\n+ */\n+@ActionID(category = \"Options\", id = \"au.gov.asd.tac.constellation.views.layersviewshortcuts\")\n+@ActionRegistration(displayName = \"#CTL_LayersViewShortcuts\", surviveFocusChange = true)\n+@ActionReferences({\n+    @ActionReference(path = \"Shortcuts\", name = \"CA-S\"),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3ba3d12396b74588c329b523fde94d6025e61d1e"}, "originalPosition": 38}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3466, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}