{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyODg2OTUx", "number": 242, "title": "Feature/issue#34", "bodyText": "Description of the Change\nModifed handling of date time import dialog to ensure CUSTOM format text field is enabled and editable ONLY when CUSTOM format is selected.\nThis change ensures both editable and enabled values of the widget(s) are kept in synch so that the text field and dropdown are only available/editable when required. Previously they were falling out of synch.\nAlternate Designs\nNo - this is addressing a bug with limited scope.\nWhy Should This Be In Core?\nAddress identified bug.\nBenefits\nAbility to set custom format as required. Removal of some raw exceptions being thron for incorrect datetime format strings.\nPossible Drawbacks\nThe original code, had a comment in ValueInputPane (common code) concerned with abiltiy to read greyed out text (I have no problem reading this), as well as indicating a disabled widget disables scrollbar, in discussiuons we decided to allow this to be the case.\nVerification Process\n\nOpen new graph.\nSelect Import->From Delimited File ....\nSelect file to import containing a timestamp and drag DateTime from Transaction Attributes column onto it.\nRight click on Datetime and select Formatter->Datetime.\nConfirm that the Custom Format text entry field is disabled and unable to be selected for edit\nModify the Datetime Format value to CUSTOM.\nConfirm that the Custom Format text entry field is enabled and able to be selected for edit\nChange the Datetime Format value a few times including some changes to and from CUSTOM as a value.\nConfirm that the Custom Format text entry field is enabled and able to be selected for edit ONLY when CUSTOM is set as a format\nModify the Datetime Format value to CUSTOM.\nEnter a valid custom format in line with the raw data and press the OK button.\nConfirm the values are shown with correct formatting\nRight click on Datetime and select Formatter->Datetime.\nConfirm the previously set CUSTOM format is displayed and is editable.\nRepeat step 6 and confirm behaviour is still correct.\n**Now testing exception handlling as discussed in #217 **\nSelect CUSTOM format and enter yyyyyyyyyyyyyyyyyyyy.\nConfirm no exception is thrown but datetime values all show with text = ERROR\nRight click on Datetime and select Formatter->Datetime.\nConfirm the previously set CUSTOM format is displayed and is editable.\nSelect CUSTOM format and enter aa.\nConfirm no exception is thrown but datetime values all show with text = ERROR\n\nApplicable Issues\n#34\n#217", "createdAt": "2020-02-09T23:21:17Z", "url": "https://github.com/constellation-app/constellation/pull/242", "merged": true, "mergeCommit": {"oid": "6f9c994e19a0c90b746cec3edf2e3036219f198d"}, "closed": true, "closedAt": "2020-02-10T01:54:32Z", "author": {"login": "serpens24"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb-5caBgH2gAyMzcyODg2OTUxOjYwNDQ1MDY0NTg4NmMzMjhmOWY2MDUwYWQzYTBjYThhMWZjYjMzNGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcCyzZBgFqTM1NTY1NTA2OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "604450645886c328f9f6050ad3a0ca8a1fcb334a", "author": {"user": {"login": "serpens24", "name": "serpens2406"}}, "url": "https://github.com/constellation-app/constellation/commit/604450645886c328f9f6050ad3a0ca8a1fcb334a", "committedDate": "2020-01-28T22:53:51Z", "message": "Merge pull request #3 from constellation-app/master\n\nMerge to dev fork"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4690e6c5bdc352c558f497ee09950f7c57b47e68", "author": {"user": {"login": "serpens24", "name": "serpens2406"}}, "url": "https://github.com/constellation-app/constellation/commit/4690e6c5bdc352c558f497ee09950f7c57b47e68", "committedDate": "2020-02-09T21:46:08Z", "message": "Merge pull request #4 from constellation-app/master\n\nMerge into my fork"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49d34d9127348aa0314712bd584805b0bb0cadab", "author": {"user": {"login": "serpens24", "name": "serpens2406"}}, "url": "https://github.com/constellation-app/constellation/commit/49d34d9127348aa0314712bd584805b0bb0cadab", "committedDate": "2020-02-09T23:08:54Z", "message": "Only enable/set editable custom datetime format text field when CUSTOM is selected."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NjU1MDY4", "url": "https://github.com/constellation-app/constellation/pull/242#pullrequestreview-355655068", "createdAt": "2020-02-10T01:25:19Z", "commit": {"oid": "49d34d9127348aa0314712bd584805b0bb0cadab"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwMToyNToxOVrOFnYVMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwMToyNToxOVrOFnYVMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjgzNzQyNg==", "bodyText": "In general it is good practice to do the equals check the other way to avoid potential null pointer errors if you have a constant so:\n\"CUSTOM\".equals(formatParam.getStringValue())", "url": "https://github.com/constellation-app/constellation/pull/242#discussion_r376837426", "createdAt": "2020-02-10T01:25:19Z", "author": {"login": "arcturus2"}, "path": "CoreImportExport/src/au/gov/asd/tac/constellation/importexport/delimited/translator/DatetimeAttributeTranslator.java", "diffHunk": "@@ -77,9 +77,8 @@ public PluginParameters createParameters() {\n         final PluginParameter<StringParameterValue> customParam = StringParameterType.build(CUSTOM_PARAMETER_ID);\n         customParam.setName(\"Custom Format\");\n         customParam.setDescription(\"A custom datetime format\");\n-        // The custom field wont enable inside the addMasterController until you\n-        // click on OK and open it again. This is a work around until it can be fixed.\n-        customParam.setEnabled(true);\n+        // customParam should be enabled and editable if \"CUSTOM\" format has been specified.\n+        customParam.setEnabled(formatParam.getStringValue().equals(\"CUSTOM\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "49d34d9127348aa0314712bd584805b0bb0cadab"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3907, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}