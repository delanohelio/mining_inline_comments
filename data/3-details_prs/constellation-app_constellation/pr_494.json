{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1ODM5NDQ4", "number": 494, "title": "Import delimiter feedback message", "bodyText": "#Description of the Change\nThis PR is addressing the issue (#232) of not having any feedback when importing delimited files.  Sometimes it's difficult to see if the import was successful without having to go to the graph view and checking.  This PR adds popup boxes that give the user feedback on whether the import was successful or not.\nIf successful the message will display a popup with the files it is importing and the number of rows in total.\n\nIf the import fails the popup box will display the error message from the exception.\n\nAlternate Designs\nWhy Should This Be In Core?\nThis is a part of the delimiter import that is already in core.\nBenefits\nThis PR helps with the user's overall UI experience in this delimiter importer.\nPossible Drawbacks\nVerification Process\n\nOpen a new graph\nOpen the import delimiter (File>Import>From Delimited File...)\nAdd delimiter file and schema\nClick Import\n\nApplicable Issues", "createdAt": "2020-05-11T03:03:31Z", "url": "https://github.com/constellation-app/constellation/pull/494", "merged": true, "mergeCommit": {"oid": "93e4aa6387ffb037529b464867670f32e853c6e5"}, "closed": true, "closedAt": "2020-05-12T03:20:24Z", "author": {"login": "Guilty-Spark-343"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgF-1cgH2gAyNDE1ODM5NDQ4OmM5NGY4MmNjOGQ1ZDlhOGY5MGIxNGQ0YTUxMTNhYWIzY2RlZTVlMjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgblmhAH2gAyNDE1ODM5NDQ4OmNiZGFjYTU1MjBjZGU3NGZmNjBjZjIyMTYzOGViNjExNTUzZTRmMmU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c94f82cc8d5d9a8f90b14d4a5113aab3cdee5e21", "author": {"user": {"login": "Guilty-Spark-343", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/c94f82cc8d5d9a8f90b14d4a5113aab3cdee5e21", "committedDate": "2020-05-11T02:09:49Z", "message": "Added feedack dialog for importing delimited file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d2b287303ab2bf2a906ac53119b869152bde83bb", "author": {"user": {"login": "Guilty-Spark-343", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/d2b287303ab2bf2a906ac53119b869152bde83bb", "committedDate": "2020-05-11T02:25:54Z", "message": "Add feedback dialog for delimter importer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c274065353a71b7188d7c5f900791fcca8b0dbc", "author": {"user": {"login": "Guilty-Spark-343", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/5c274065353a71b7188d7c5f900791fcca8b0dbc", "committedDate": "2020-05-11T03:00:26Z", "message": "Updated whatsnew and changelog to reflect changes in the delimiter importer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "916c4a1c80a834e6ebf51265a24d563294cd0f5e", "author": {"user": {"login": "Guilty-Spark-343", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/916c4a1c80a834e6ebf51265a24d563294cd0f5e", "committedDate": "2020-05-11T03:05:10Z", "message": "Merge branch 'master' into ImportDelimeterFeedbackMessage"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4ODM3MDk3", "url": "https://github.com/constellation-app/constellation/pull/494#pullrequestreview-408837097", "createdAt": "2020-05-11T03:25:35Z", "commit": {"oid": "916c4a1c80a834e6ebf51265a24d563294cd0f5e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwMzoyNTozNVrOGTLLpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwMzozMzowNFrOGTLRsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc1OTMzNQ==", "bodyText": "rogue 'i'", "url": "https://github.com/constellation-app/constellation/pull/494#discussion_r422759335", "createdAt": "2020-05-11T03:25:35Z", "author": {"login": "antares1470"}, "path": "CoreFunctionality/src/au/gov/asd/tac/constellation/functionality/whatsnew/whatsnew.txt", "diffHunk": "@@ -1,6 +1,9 @@\n-== 3030-12-31 Getting Started\n+i== 3030-12-31 Getting Started", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "916c4a1c80a834e6ebf51265a24d563294cd0f5e"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc1OTQ1Mw==", "bodyText": "change the order of the modifiers to private static final", "url": "https://github.com/constellation-app/constellation/pull/494#discussion_r422759453", "createdAt": "2020-05-11T03:26:11Z", "author": {"login": "antares1470"}, "path": "CoreImportExportPlugins/src/au/gov/asd/tac/constellation/plugins/importexport/delimited/ActionPane.java", "diffHunk": "@@ -33,8 +40,24 @@\n public class ActionPane extends BorderPane {\n     \n     private static final Logger LOGGER = Logger.getLogger(ActionPane.class.getName());\n+    final private static String SUCCESS_ICON_PATH = \"au/gov/asd/tac/constellation/plugins/importexport/delimited/resources/success.jpg\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "916c4a1c80a834e6ebf51265a24d563294cd0f5e"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc2MDMwMg==", "bodyText": "Probably would be nice to have a log here as well", "url": "https://github.com/constellation-app/constellation/pull/494#discussion_r422760302", "createdAt": "2020-05-11T03:30:19Z", "author": {"login": "antares1470"}, "path": "CoreImportExportPlugins/src/au/gov/asd/tac/constellation/plugins/importexport/delimited/ActionPane.java", "diffHunk": "@@ -57,12 +80,26 @@ public void handle(ActionEvent t) {\n             @Override\n             public void handle(ActionEvent t) {\n                 try {\n-                    importController.processImport();\n+                    \n+                    List<File> importedFiles = importController.processImport();\n+                    String[] filenames = new String[importedFiles.size()];\n+                    long noOfRows = 0;\n+                    for (int i = 0; i < importedFiles.size(); i++) {\n+                        filenames[i] = importedFiles.get(i).getName();\n+                        Path path = importedFiles.get(i).toPath();\n+                        noOfRows += Files.lines(path).count();\n+                    }\n+                    displayAlert(\"Success\", \"Successfully imported \"+ noOfRows\n+                            +\" rows from the following file(s):\\n\"+String.join(\"\\n\", filenames), true);\n+                    \n                 } catch (IOException ex) {\n                     LOGGER.log(Level.SEVERE, ex.getLocalizedMessage(), ex);\n+                    displayAlert(\"Import Failed\", ex.getLocalizedMessage(), false);\n                 } catch (InterruptedException ex) {\n                     Thread.currentThread().interrupt();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "916c4a1c80a834e6ebf51265a24d563294cd0f5e"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc2MDY0Mw==", "bodyText": "Probably be good to have a log here as well so remove this catch and turn the IO exception catch into a multi-catch with Plugin exceptions", "url": "https://github.com/constellation-app/constellation/pull/494#discussion_r422760643", "createdAt": "2020-05-11T03:32:00Z", "author": {"login": "antares1470"}, "path": "CoreImportExportPlugins/src/au/gov/asd/tac/constellation/plugins/importexport/delimited/ActionPane.java", "diffHunk": "@@ -57,12 +80,26 @@ public void handle(ActionEvent t) {\n             @Override\n             public void handle(ActionEvent t) {\n                 try {\n-                    importController.processImport();\n+                    \n+                    List<File> importedFiles = importController.processImport();\n+                    String[] filenames = new String[importedFiles.size()];\n+                    long noOfRows = 0;\n+                    for (int i = 0; i < importedFiles.size(); i++) {\n+                        filenames[i] = importedFiles.get(i).getName();\n+                        Path path = importedFiles.get(i).toPath();\n+                        noOfRows += Files.lines(path).count();\n+                    }\n+                    displayAlert(\"Success\", \"Successfully imported \"+ noOfRows\n+                            +\" rows from the following file(s):\\n\"+String.join(\"\\n\", filenames), true);\n+                    \n                 } catch (IOException ex) {\n                     LOGGER.log(Level.SEVERE, ex.getLocalizedMessage(), ex);\n+                    displayAlert(\"Import Failed\", ex.getLocalizedMessage(), false);\n                 } catch (InterruptedException ex) {\n                     Thread.currentThread().interrupt();\n+                    displayAlert(\"import Failed\", ex.getLocalizedMessage(), false);\n                 } catch (PluginException ex) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "916c4a1c80a834e6ebf51265a24d563294cd0f5e"}, "originalPosition": 69}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjc2MDg4Mw==", "bodyText": "Note this change in CHANGELOG", "url": "https://github.com/constellation-app/constellation/pull/494#discussion_r422760883", "createdAt": "2020-05-11T03:33:04Z", "author": {"login": "antares1470"}, "path": "CoreImportExportPlugins/src/au/gov/asd/tac/constellation/plugins/importexport/delimited/ImportController.java", "diffHunk": "@@ -385,7 +385,7 @@ public String showSetDefaultValueDialog(final String attributeName, final String\n         return configurationPane.createDefinitions();\n     }\n \n-    public void processImport() throws IOException, InterruptedException, PluginException {\n+    public List<File> processImport() throws IOException, InterruptedException, PluginException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "916c4a1c80a834e6ebf51265a24d563294cd0f5e"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d0a77b390f36ebdbaf8dd021c4f1048736cf4eb", "author": {"user": {"login": "Guilty-Spark-343", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/7d0a77b390f36ebdbaf8dd021c4f1048736cf4eb", "committedDate": "2020-05-11T07:02:08Z", "message": "Update What's new \n\nRemoved random i #vimming"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba11c70691110c3a44099af7521eb18229634447", "author": {"user": {"login": "Guilty-Spark-343", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/ba11c70691110c3a44099af7521eb18229634447", "committedDate": "2020-05-11T07:04:24Z", "message": "Update CHANGELOG\n\nReflect changes in the ImportController expected output."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01f7488903225ca7d395035b064e288d4fc43b9f", "author": {"user": {"login": "Guilty-Spark-343", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/01f7488903225ca7d395035b064e288d4fc43b9f", "committedDate": "2020-05-11T07:09:30Z", "message": "Updated ActionPane with suggestions \n\nFixed final private static modifier to private static final.\r\nMoved the PluginException with the IOException \r\nAdded a log event for the InterruptedException"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5643a9f8327a1591df5cf7f3631074d308db9f4e", "author": {"user": {"login": "Guilty-Spark-343", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/5643a9f8327a1591df5cf7f3631074d308db9f4e", "committedDate": "2020-05-11T07:13:20Z", "message": "Merge branch 'master' into ImportDelimeterFeedbackMessage"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5MDgxODgz", "url": "https://github.com/constellation-app/constellation/pull/494#pullrequestreview-409081883", "createdAt": "2020-05-11T11:20:02Z", "commit": {"oid": "5643a9f8327a1591df5cf7f3631074d308db9f4e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxMToyMDowMlrOGTX-ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxMToyMDowMlrOGTX-ag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjk2ODkzOA==", "bodyText": "You could add finals all through here, including the exceptions.", "url": "https://github.com/constellation-app/constellation/pull/494#discussion_r422968938", "createdAt": "2020-05-11T11:20:02Z", "author": {"login": "cygnus-x-1"}, "path": "CoreImportExportPlugins/src/au/gov/asd/tac/constellation/plugins/importexport/delimited/ActionPane.java", "diffHunk": "@@ -57,12 +80,25 @@ public void handle(ActionEvent t) {\n             @Override\n             public void handle(ActionEvent t) {\n                 try {\n-                    importController.processImport();\n-                } catch (IOException ex) {\n+                    \n+                    List<File> importedFiles = importController.processImport();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5643a9f8327a1591df5cf7f3631074d308db9f4e"}, "originalPosition": 53}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NTcyMTA4", "url": "https://github.com/constellation-app/constellation/pull/494#pullrequestreview-409572108", "createdAt": "2020-05-11T22:21:23Z", "commit": {"oid": "5643a9f8327a1591df5cf7f3631074d308db9f4e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1db37a8d0df4977ef5c885efb4c22ed82c326c9d", "author": {"user": {"login": "Guilty-Spark-343", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/1db37a8d0df4977ef5c885efb4c22ed82c326c9d", "committedDate": "2020-05-12T01:15:54Z", "message": "Added finals to importer delimited actionPane"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NjY4ODY2", "url": "https://github.com/constellation-app/constellation/pull/494#pullrequestreview-409668866", "createdAt": "2020-05-12T03:11:19Z", "commit": {"oid": "1db37a8d0df4977ef5c885efb4c22ed82c326c9d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbdaca5520cde74ff60cf221638eb611553e4f2e", "author": {"user": {"login": "arcturus2", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/cbdaca5520cde74ff60cf221638eb611553e4f2e", "committedDate": "2020-05-12T03:20:10Z", "message": "Merge branch 'master' into ImportDelimeterFeedbackMessage"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3735, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}