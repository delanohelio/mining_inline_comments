{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3MzQ1Nzkx", "number": 831, "title": "Bugfix/issue826 betweeness assertion error", "bodyText": "Description of the Change\n\nAlternate Designs\n\nWhy Should This Be In Core?\n\nBenefits\nReduced chance for error.\nPossible Drawbacks\nMay hide an unintended NaN value.\nVerification Process\n\nApplicable Issues\nFixes #826", "createdAt": "2020-09-01T21:24:25Z", "url": "https://github.com/constellation-app/constellation/pull/831", "merged": true, "mergeCommit": {"oid": "dde02598a390b55721f8c0e604dba3033ff283b6"}, "closed": true, "closedAt": "2020-09-08T04:02:41Z", "author": {"login": "Nova-2119"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdEhLCFgH2gAyNDc3MzQ1NzkxOjQxYTBhZjNlNzZkYmYzMGI4MWNkYWY3NDdjNGU1N2U0N2RjNWIzZGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdGZzbjgFqTQ4MzIxMTc4NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "41a0af3e76dbf30b81cdaf747c4e57e47dc5b3db", "author": {"user": {"login": "Nova-2119", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/41a0af3e76dbf30b81cdaf747c4e57e47dc5b3db", "committedDate": "2020-09-01T06:11:51Z", "message": ":art: :bug: Added Nan check\nAdded a NaN check to account for the scenario where we attempt to \ndivide 0 by a number (resulting a Nan) which then causes an error later\nin the code.\nRefactored multiple calls graph.setFloatValue with one argument\ndifference based on if conditions to one call with the argument only \nset by if conditions.\nargument set"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "843015f32765a11590dd796519bdca8703f6d469", "author": {"user": {"login": "Nova-2119", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/843015f32765a11590dd796519bdca8703f6d469", "committedDate": "2020-09-01T06:12:31Z", "message": "Merge branch 'master' into bugfix/Issue826-BetweenessAssertionError"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwMjkxMzU1", "url": "https://github.com/constellation-app/constellation/pull/831#pullrequestreview-480291355", "createdAt": "2020-09-02T01:20:29Z", "commit": {"oid": "843015f32765a11590dd796519bdca8703f6d469"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwMToyMDoyOVrOHLN0SA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwMToyMDoyOVrOHLN0SA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTUyMjc2MA==", "bodyText": "final", "url": "https://github.com/constellation-app/constellation/pull/831#discussion_r481522760", "createdAt": "2020-09-02T01:20:29Z", "author": {"login": "antares1470"}, "path": "CoreAlgorithmPlugins/src/au/gov/asd/tac/constellation/plugins/algorithms/sna/centrality/BetweennessCentralityPlugin.java", "diffHunk": "@@ -153,23 +153,31 @@ public void edit(final GraphWriteMethods graph, final PluginInteraction interact\n         // update the graph with betweenness values\n         for (int vertexPosition = 0; vertexPosition < vertexCount; vertexPosition++) {\n             final int vertexId = graph.getVertex(vertexPosition);\n+            float betweennessAttributeValue;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "843015f32765a11590dd796519bdca8703f6d469"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNDcyMTIw", "url": "https://github.com/constellation-app/constellation/pull/831#pullrequestreview-480472120", "createdAt": "2020-09-02T04:20:06Z", "commit": {"oid": "843015f32765a11590dd796519bdca8703f6d469"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNDoyMDowNlrOHLV5zg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwNDoyMDowNlrOHLV5zg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTY1NTI0Ng==", "bodyText": "remove all these graph.setFloatValue statements as your new one replaces them.", "url": "https://github.com/constellation-app/constellation/pull/831#discussion_r481655246", "createdAt": "2020-09-02T04:20:06Z", "author": {"login": "cygnus-x-1"}, "path": "CoreAlgorithmPlugins/src/au/gov/asd/tac/constellation/plugins/algorithms/sna/centrality/BetweennessCentralityPlugin.java", "diffHunk": "@@ -153,23 +153,31 @@ public void edit(final GraphWriteMethods graph, final PluginInteraction interact\n         // update the graph with betweenness values\n         for (int vertexPosition = 0; vertexPosition < vertexCount; vertexPosition++) {\n             final int vertexId = graph.getVertex(vertexPosition);\n+            float betweennessAttributeValue;\n             if (normaliseByPossible) {\n                 if (normaliseConnectedComponents) {\n                     final float subgraphVertexCount = subgraphs[vertexPosition].cardinality();\n+                    betweennessAttributeValue = betweennesses[vertexPosition] / (((subgraphVertexCount - 1) * (subgraphVertexCount - 2)) / 2);\n                     graph.setFloatValue(betweennessAttribute, vertexId, betweennesses[vertexPosition] / (((subgraphVertexCount - 1) * (subgraphVertexCount - 2)) / 2));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "843015f32765a11590dd796519bdca8703f6d469"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50de56372081c4a2a5de3ac5db7a0b9f126f81b3", "author": {"user": {"login": "Nova-2119", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/50de56372081c4a2a5de3ac5db7a0b9f126f81b3", "committedDate": "2020-09-02T05:37:52Z", "message": ":art: Removed redundant code."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b4cf8397200c5a34109731735b29566e3e1d6736", "author": {"user": {"login": "Nova-2119", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/b4cf8397200c5a34109731735b29566e3e1d6736", "committedDate": "2020-09-04T03:34:22Z", "message": ":art: Final"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyMzM5NzA5", "url": "https://github.com/constellation-app/constellation/pull/831#pullrequestreview-482339709", "createdAt": "2020-09-04T03:55:57Z", "commit": {"oid": "b4cf8397200c5a34109731735b29566e3e1d6736"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzMjExNzg1", "url": "https://github.com/constellation-app/constellation/pull/831#pullrequestreview-483211785", "createdAt": "2020-09-07T02:44:35Z", "commit": {"oid": "b4cf8397200c5a34109731735b29566e3e1d6736"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3487, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}