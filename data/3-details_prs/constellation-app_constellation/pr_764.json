{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzNzkzMzAy", "number": 764, "title": "Update to the Levenshtein Distance Analytic", "bodyText": "Description of the Change\nThe Levenshtein Distance Analytic will now load attributes that are relevant to the nodes that are currently in the graph. A flaw in this solution is that the analytic view will only load the attribute options once and will never update it. If anyone could suggest a way to manually refresh the Levenshtein distance analytic whenever the graph changes then that would completely resolve this issue.\n\n\nAlternate Designs\n\nWhy Should This Be In Core?\n\nBenefits\n\nPossible Drawbacks\n\nVerification Process\n\nApplicable Issues\n#680", "createdAt": "2020-08-06T05:33:41Z", "url": "https://github.com/constellation-app/constellation/pull/764", "merged": true, "mergeCommit": {"oid": "58a294dccfc8105469fb398acdd1d359ada56943"}, "closed": true, "closedAt": "2020-08-11T04:40:43Z", "author": {"login": "formalhaut69"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8I6XoAH2gAyNDYzNzkzMzAyOjNlOWNiZTE3NDI2ZDdmNWMzOTJlYjM5MTI4N2M3MmNhMmNjYTlhZGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc9q3UhAH2gAyNDYzNzkzMzAyOjRkYTMxZGM2OWZhMDEzZmU5NmNlY2Q2ZTEwZjU3ZWM4YmE0OGQ1NzM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3e9cbe17426d7f5c392eb391287c72ca2cca9adf", "author": {"user": {"login": "formalhaut69", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/3e9cbe17426d7f5c392eb391287c72ca2cca9adf", "committedDate": "2020-08-06T05:24:32Z", "message": "Update to the Levenshtein Distance Analytic"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNzUwMDMy", "url": "https://github.com/constellation-app/constellation/pull/764#pullrequestreview-462750032", "createdAt": "2020-08-06T17:54:43Z", "commit": {"oid": "3e9cbe17426d7f5c392eb391287c72ca2cca9adf"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNzo1NDo0M1rOG8-OtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNzo1NDo0M1rOG8-OtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU4NzMxNw==", "bodyText": "So we can't do this @formalhaut69 because it means that the Analytic View becomes tied to the Attribute Editor. This becomes a problem should we decide to replace the Attribute Editor with a different implementation module; we can't because it will want to remove the Analytic View too.\n\nFYI all of the views now are not dependant on one another so we gotta keep it that way.\nPerhaps look at the implementation in RemoveUnusedAttributesPlugin for inspiration and you might need to create a new utility method that could live somewhere in the Core Graph Framework module so it can be used by views and any plugin in the future.", "url": "https://github.com/constellation-app/constellation/pull/764#discussion_r466587317", "createdAt": "2020-08-06T17:54:43Z", "author": {"login": "arcturus2"}, "path": "CoreAnalyticView/nbproject/project.xml", "diffHunk": "@@ -94,6 +94,14 @@\n                         <specification-version>1.0</specification-version>\n                     </run-dependency>\n                 </dependency>\n+                <dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e9cbe17426d7f5c392eb391287c72ca2cca9adf"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNzU0Njk1", "url": "https://github.com/constellation-app/constellation/pull/764#pullrequestreview-462754695", "createdAt": "2020-08-06T18:00:57Z", "commit": {"oid": "3e9cbe17426d7f5c392eb391287c72ca2cca9adf"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNzU1MTI5", "url": "https://github.com/constellation-app/constellation/pull/764#pullrequestreview-462755129", "createdAt": "2020-08-06T18:01:35Z", "commit": {"oid": "3e9cbe17426d7f5c392eb391287c72ca2cca9adf"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODowMTozNVrOG8-emw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxODowMTozNVrOG8-emw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU5MTM4Nw==", "bodyText": "Please use StringAttributeDescription.ATTRIBUTE_NAME instead of \"string\".", "url": "https://github.com/constellation-app/constellation/pull/764#discussion_r466591387", "createdAt": "2020-08-06T18:01:35Z", "author": {"login": "arcturus2"}, "path": "CoreAnalyticView/src/au/gov/asd/tac/constellation/views/analyticview/analytics/LevenshteinDistanceAnalytic.java", "diffHunk": "@@ -86,12 +86,10 @@ public void onPrerequisiteAttributeChange(final Graph graph, final PluginParamet\n         if (graph != null && graph.getSchema() != null) {\n             final ReadableGraph readableGraph = graph.getReadableGraph();\n             try {\n-                final Map<String, SchemaAttribute> attributes = graph.getSchema().getFactory().getRegisteredAttributes(GraphElementType.VERTEX);\n-                for (final String attributeName : attributes.keySet()) {\n-                    final SchemaAttribute attribute = attributes.get(attributeName);\n-                    final String attributeType = attribute.getAttributeType();\n-                    if (StringAttributeDescription.ATTRIBUTE_NAME.equals(attributeType)) {\n-                        stringAttributes.add(attributeName);\n+                final ArrayList<AttributeData> nodeAttributes = new AttributeReader(graph).refreshAttributes().getAttributeNames().get(GraphElementType.VERTEX);\n+                for (AttributeData nodeAttribute : nodeAttributes) {\n+                    if (nodeAttribute.getDataType().equals(\"string\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e9cbe17426d7f5c392eb391287c72ca2cca9adf"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f92bd6ca1914191e7588b50ed5fdd99b07ded94", "author": {"user": {"login": "formalhaut69", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/5f92bd6ca1914191e7588b50ed5fdd99b07ded94", "committedDate": "2020-08-07T00:38:26Z", "message": "Update to remove dependency on attribute editor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f58ed7922390be14a41852de45dc03a4c4fdece3", "author": {"user": {"login": "formalhaut69", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/f58ed7922390be14a41852de45dc03a4c4fdece3", "committedDate": "2020-08-07T00:41:16Z", "message": "Delete project.xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08393dc1df0027b37b9732c11252fedb3196786a", "author": {"user": {"login": "formalhaut69", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/08393dc1df0027b37b9732c11252fedb3196786a", "committedDate": "2020-08-07T00:42:57Z", "message": "Revert \"Delete project.xml\"\n\nThis reverts commit f58ed7922390be14a41852de45dc03a4c4fdece3."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f729c34538b418da01f787c21237566ac3b6806", "author": {"user": {"login": "formalhaut69", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/1f729c34538b418da01f787c21237566ac3b6806", "committedDate": "2020-08-07T00:56:02Z", "message": "Update to remove dependency"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4da31dc69fa013fe96cecd6e10f57ec8ba48d573", "author": {"user": {"login": "formalhaut69", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/4da31dc69fa013fe96cecd6e10f57ec8ba48d573", "committedDate": "2020-08-10T23:31:54Z", "message": "Created the AttributeUtilities class\n\nThe class is designed to gather the attributes that are on the active graph or their names."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3639, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}