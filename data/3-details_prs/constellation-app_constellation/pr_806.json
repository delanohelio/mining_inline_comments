{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcyMjg4ODMz", "number": 806, "title": "Convert import delimited file to Top Component ", "bodyText": "Description of the Change\nThis PR fixes the problem relating to #613. It now listens to the graph for changes and updates the combo box.\nA visual refactor of the view to allow easier usage.\n\nDrop down for attribute adding\nScroll-able pane for attribute adding\nNew dark mode\nInvert colors depending on attribute color background\n\nFix a bug with the add all attributes not refreshing the attribute pane\n\nAlternate Designs\nAdding class dependencies to allow a listening framework to be added. - not followed as it was introducing new concepts to the importer.\n\nWhy Should This Be In Core?\nVisual Improvement and bug fixes\n\nBenefits\nVisual Improvement and bug fixes\nBefore:\n\nAfter:\n\n\nPossible Drawbacks\nnone realised\n\nVerification Process\nImport testing and view loading\n\nApplicable Issues\n#613\nFound #805 through testing.", "createdAt": "2020-08-24T06:25:23Z", "url": "https://github.com/constellation-app/constellation/pull/806", "merged": true, "mergeCommit": {"oid": "3c349b965b2e47069f6954c2d9605740148fa0fb"}, "closed": true, "closedAt": "2020-09-16T00:38:41Z", "author": {"login": "aldebaran30701"}, "timelineItems": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdAAoBagH2gAyNDcyMjg4ODMzOjJiNmQ0MTM0NTRjYjYwMDI2OTc5MjE2M2Q0NTIwNTYxMjk3ODQ4YzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdEg0xSAFqTQ3OTQxNjcwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2b6d413454cb600269792163d4520561297848c1", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/2b6d413454cb600269792163d4520561297848c1", "committedDate": "2020-08-18T06:00:57Z", "message": ":bug: pin import toolbar to view"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "598819f708ce4ffa70b7de745595992da05d81f8", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/598819f708ce4ffa70b7de745595992da05d81f8", "committedDate": "2020-08-24T04:20:28Z", "message": "add color contrast utilities"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26b1186aad8599142bf60e021ed2b3372db12c10", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/26b1186aad8599142bf60e021ed2b3372db12c10", "committedDate": "2020-08-24T04:21:36Z", "message": "set text to inverse color of attribute"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8c94870905b675853c2c7b0d4f854c3de8d0778", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/c8c94870905b675853c2c7b0d4f854c3de8d0778", "committedDate": "2020-08-24T04:21:53Z", "message": "convert importer to view framework"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85f4cce7d6326c6a3862d09b84de81473d4c6a77", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/85f4cce7d6326c6a3862d09b84de81473d4c6a77", "committedDate": "2020-08-24T05:28:41Z", "message": "add correct icon path\n\n* assign error text for script parsing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22aeee8e1e882cc96ad443f83c74ca65e4ef9d4d", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/22aeee8e1e882cc96ad443f83c74ca65e4ef9d4d", "committedDate": "2020-08-24T06:02:19Z", "message": "Update filter text color"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff59b833de8d3e57e2517788036cf25ad6ecb2e4", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/ff59b833de8d3e57e2517788036cf25ad6ecb2e4", "committedDate": "2020-08-24T06:03:30Z", "message": "Merge branch 'master' into bugfix/import-delimited-toolbar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b4d9c206858f2ce57a86cd66d9245867fe1210d", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/8b4d9c206858f2ce57a86cd66d9245867fe1210d", "committedDate": "2020-08-24T06:09:29Z", "message": "added items to whatsnew and changelog"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d4a2ef4031b3606851d4e637df5333462c68181", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/1d4a2ef4031b3606851d4e637df5333462c68181", "committedDate": "2020-08-24T06:25:39Z", "message": "Update project.xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "455da901da6eb2df40ac736e42864dad5797ef5c", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/455da901da6eb2df40ac736e42864dad5797ef5c", "committedDate": "2020-08-24T06:27:41Z", "message": "Revert \"Update project.xml\"\n\nThis reverts commit 1d4a2ef4031b3606851d4e637df5333462c68181."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "825d8d9fd5141f1f63468e18de2c700138562c7c", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/825d8d9fd5141f1f63468e18de2c700138562c7c", "committedDate": "2020-08-25T00:11:19Z", "message": "Fix sonar warnings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d667947ca3744104f7a1a551a9d428d30f06179", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/7d667947ca3744104f7a1a551a9d428d30f06179", "committedDate": "2020-08-26T01:39:39Z", "message": "make combobox save previous selection"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "471c4c5e598eec84cdc91204fc91f2388e2bc748", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/471c4c5e598eec84cdc91204fc91f2388e2bc748", "committedDate": "2020-08-26T03:07:05Z", "message": "remove abort button"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e7d8cc4c67d64a6d7d56f0ffa4f5890f0eb3a59", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/1e7d8cc4c67d64a6d7d56f0ffa4f5890f0eb3a59", "committedDate": "2020-08-26T03:14:05Z", "message": "Merge branch 'master' into bugfix/import-delimited-toolbar"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1MTMzMDY0", "url": "https://github.com/constellation-app/constellation/pull/806#pullrequestreview-475133064", "createdAt": "2020-08-26T03:56:54Z", "commit": {"oid": "1e7d8cc4c67d64a6d7d56f0ffa4f5890f0eb3a59"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQwMzo1Njo1NFrOHG65gA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQwMzo1Njo1NFrOHG65gA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzAxODQ5Ng==", "bodyText": "final", "url": "https://github.com/constellation-app/constellation/pull/806#discussion_r477018496", "createdAt": "2020-08-26T03:56:54Z", "author": {"login": "antares1470"}, "path": "CoreImportExportPlugins/src/au/gov/asd/tac/constellation/plugins/importexport/delimited/SourcePane.java", "diffHunk": "@@ -302,4 +276,45 @@ void update(final ImportController importController) {\n     public final ImportDestination<?> getDestination() {\n         return graphComboBox.getSelectionModel().getSelectedItem();\n     }\n+\n+    /**\n+     * Helper method to update the destination graph combo box. Also used for\n+     * value loading when this pane is being initialized.\n+     */\n+    public void updateDestinationGraphCombo() {\n+        // previousDestinationObject is the previously selected item in the combobox\n+        ImportDestination<?> previousDestinationObject = graphComboBox.getSelectionModel().getSelectedItem();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e7d8cc4c67d64a6d7d56f0ffa4f5890f0eb3a59"}, "originalPosition": 166}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aec4d70fc91e9129e1f0ca77cdda819d6ac3f2a0", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/aec4d70fc91e9129e1f0ca77cdda819d6ac3f2a0", "committedDate": "2020-08-26T04:21:38Z", "message": "add final modifier"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2MDAzNjM4", "url": "https://github.com/constellation-app/constellation/pull/806#pullrequestreview-476003638", "createdAt": "2020-08-26T22:44:06Z", "commit": {"oid": "aec4d70fc91e9129e1f0ca77cdda819d6ac3f2a0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2MDA1MjE1", "url": "https://github.com/constellation-app/constellation/pull/806#pullrequestreview-476005215", "createdAt": "2020-08-26T22:44:58Z", "commit": {"oid": "aec4d70fc91e9129e1f0ca77cdda819d6ac3f2a0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4OTg0MzUx", "url": "https://github.com/constellation-app/constellation/pull/806#pullrequestreview-478984351", "createdAt": "2020-08-31T22:00:19Z", "commit": {"oid": "aec4d70fc91e9129e1f0ca77cdda819d6ac3f2a0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMjowMDoxOVrOHKKsFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQyMjowMjo1MlrOHKKv_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQyMjkzMg==", "bodyText": "These methods are great! Can you please document these additional methods in CHANGELOG.md?", "url": "https://github.com/constellation-app/constellation/pull/806#discussion_r480422932", "createdAt": "2020-08-31T22:00:19Z", "author": {"login": "arcturus2"}, "path": "CoreUtilities/src/au/gov/asd/tac/constellation/utilities/color/ConstellationColor.java", "diffHunk": "@@ -330,6 +330,65 @@ public static ConstellationColor fromHtmlColor(final String color) {\n         return ConstellationColor.getColorValue(red / 255f, green / 255f, blue / 255f, 1f);\n     }\n \n+    /**\n+     * Get a contrasting color based on YIQ values. Will return BLACK if the\n+     * passed in color is null.\n+     *\n+     * @param color HTML color to contrast with\n+     * @return the ConstellationColor which contrasts with color.\n+     */\n+    public static ConstellationColor getContrastHtmlColor(final String color) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aec4d70fc91e9129e1f0ca77cdda819d6ac3f2a0"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQyMzY2MA==", "bodyText": "This file is empty so can it be removed?", "url": "https://github.com/constellation-app/constellation/pull/806#discussion_r480423660", "createdAt": "2020-08-31T22:02:17Z", "author": {"login": "arcturus2"}, "path": "CoreImportExportPlugins/src/au/gov/asd/tac/constellation/plugins/importexport/delimited/resources/delimited-importer.css", "diffHunk": "@@ -0,0 +1 @@\n+/* Delimited Importer */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aec4d70fc91e9129e1f0ca77cdda819d6ac3f2a0"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDQyMzkzMg==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/constellation-app/constellation/pull/806#discussion_r480423932", "createdAt": "2020-08-31T22:02:52Z", "author": {"login": "arcturus2"}, "path": "CoreImportExportPlugins/src/au/gov/asd/tac/constellation/plugins/importexport/delimited/SourcePane.java", "diffHunk": "@@ -140,28 +141,29 @@ public SourcePane(final ImportController importController) {\n         });\n \n         fileAddButton.setOnAction((ActionEvent t) -> {\n-            FileChooser fileChooser = new FileChooser();\n+            final FileChooser fileChooser = new FileChooser();\n             fileChooser.setInitialDirectory(DEFAULT_DIRECTORY);\n \n-            ImportFileParser parser = SourcePane.this.importFileParserComboBox.getSelectionModel().getSelectedItem();\n+            final ImportFileParser parser = SourcePane.this.importFileParserComboBox.getSelectionModel().getSelectedItem();\n             if (parser != null) {\n-                ExtensionFilter extensionFilter = parser.getExtensionFilter();\n+                final ExtensionFilter extensionFilter = parser.getExtensionFilter();\n                 if (extensionFilter != null) {\n                     fileChooser.getExtensionFilters().add(extensionFilter);\n                     fileChooser.setSelectedExtensionFilter(extensionFilter);\n                 }\n             }\n             fileChooser.getExtensionFilters().add(new ExtensionFilter(\"All Files\", \"*.*\"));\n \n-            List<File> newFiles = fileChooser.showOpenMultipleDialog(SourcePane.this.getScene().getWindow());\n+            final List<File> newFiles = fileChooser.showOpenMultipleDialog(SourcePane.this.getScene().getWindow());\n \n             if (newFiles != null) {\n                 if (!newFiles.isEmpty()) {\n                     DEFAULT_DIRECTORY = newFiles.get(0).getParentFile();\n                     SourcePane.this.importFileParserComboBox.setDisable(true);\n                 }\n                 final ObservableList<File> files = FXCollections.observableArrayList(fileListView.getItems());\n-                String warningMsg = \"The following files could not be parsed and have been excluded from import set:\";\n+                final StringBuilder sb = new StringBuilder();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aec4d70fc91e9129e1f0ca77cdda819d6ac3f2a0"}, "originalPosition": 51}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "613921056fa0bf4b43f53a314162b83c2103675c", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/613921056fa0bf4b43f53a314162b83c2103675c", "committedDate": "2020-09-01T04:30:22Z", "message": "remove unnecessary css file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9aff46b713da6b2987d08f82e62aee0f984f086", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/f9aff46b713da6b2987d08f82e62aee0f984f086", "committedDate": "2020-09-01T04:31:58Z", "message": "Merge branch 'master' into bugfix/import-delimited-toolbar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6192d2a40a757825c0e0ce3fcf4192c5e58a7617", "author": {"user": {"login": "aldebaran30701", "name": null}}, "url": "https://github.com/constellation-app/constellation/commit/6192d2a40a757825c0e0ce3fcf4192c5e58a7617", "committedDate": "2020-09-01T04:41:03Z", "message": "revert commit to enact script changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5NDE2NzAy", "url": "https://github.com/constellation-app/constellation/pull/806#pullrequestreview-479416702", "createdAt": "2020-09-01T05:47:32Z", "commit": {"oid": "6192d2a40a757825c0e0ce3fcf4192c5e58a7617"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3483, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}