{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzNjk3OTcy", "number": 2569, "title": "Use Identity/Reference based collection where possible", "bodyText": "SpongeForge | SpongeCommon", "createdAt": "2020-04-15T11:18:31Z", "url": "https://github.com/SpongePowered/Sponge/pull/2569", "merged": true, "mergeCommit": {"oid": "91fb9de9ab0d605dcc5d20776c8215fe0bb63b1d"}, "closed": true, "closedAt": "2020-05-31T22:22:49Z", "author": {"login": "ImMorpheus"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgXPetgBqjMzMjQ5OTE3NzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcjj2zTAH2gAyNDAzNjk3OTcyOjcxZDY1MmJjZTQ2NWNhOThlM2Q3NDhiMjFjMTQzOTNkM2M3OTVhZTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ef59a6300ca1d51ae50623e69d3897b925b43c5d", "author": {"user": {"login": "ImMorpheus", "name": "Morpheus"}}, "url": "https://github.com/SpongePowered/Sponge/commit/ef59a6300ca1d51ae50623e69d3897b925b43c5d", "committedDate": "2020-04-18T17:15:46Z", "message": "Replace guava collection with fastutil"}, "afterCommit": {"oid": "8b2d5b87a3acf796beece586b911a105b801f3b6", "author": {"user": {"login": "ImMorpheus", "name": "Morpheus"}}, "url": "https://github.com/SpongePowered/Sponge/commit/8b2d5b87a3acf796beece586b911a105b801f3b6", "committedDate": "2020-05-11T22:17:31Z", "message": "Cleanup old guava import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5MzU5MTA5", "url": "https://github.com/SpongePowered/Sponge/pull/2569#pullrequestreview-409359109", "createdAt": "2020-05-11T17:01:29Z", "commit": {"oid": "ef59a6300ca1d51ae50623e69d3897b925b43c5d"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNzowMToyOVrOGTlLPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNzowMjoxOFrOGTlNJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzE4NTIxMg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            import com.google.common.collect.Sets;", "url": "https://github.com/SpongePowered/Sponge/pull/2569#discussion_r423185212", "createdAt": "2020-05-11T17:01:29Z", "author": {"login": "gabizou"}, "path": "src/main/java/org/spongepowered/common/event/tracking/phase/packet/inventory/BasicInventoryPacketState.java", "diffHunk": "@@ -24,6 +24,8 @@\n  */\n package org.spongepowered.common.event.tracking.phase.packet.inventory;\n \n+import com.google.common.collect.Sets;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef59a6300ca1d51ae50623e69d3897b925b43c5d"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzE4NTM4Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            import com.google.common.collect.Sets;", "url": "https://github.com/SpongePowered/Sponge/pull/2569#discussion_r423185383", "createdAt": "2020-05-11T17:01:48Z", "author": {"login": "gabizou"}, "path": "src/main/java/org/spongepowered/common/item/inventory/archetype/SpongeInventoryArchetypeBuilder.java", "diffHunk": "@@ -24,6 +24,8 @@\n  */\n package org.spongepowered.common.item.inventory.archetype;\n \n+import com.google.common.collect.Sets;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef59a6300ca1d51ae50623e69d3897b925b43c5d"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzE4NTcwMA==", "bodyText": "Isn't this going to be changing to a different type of map?", "url": "https://github.com/SpongePowered/Sponge/pull/2569#discussion_r423185700", "createdAt": "2020-05-11T17:02:18Z", "author": {"login": "gabizou"}, "path": "src/main/java/org/spongepowered/common/item/inventory/lens/impl/ReusableLens.java", "diffHunk": "@@ -65,7 +66,7 @@ private ReusableLens(SlotProvider slots, Function<SlotProvider, T> lensProvider)\n     public static <T extends Lens> ReusableLens<T> getLens(Class<T> lensType, InventoryAdapter adapter,\n             Supplier<SlotProvider> slots, Function<SlotProvider, T> lens) {\n         Map<Class<? extends Lens>, Int2ObjectMap<ReusableLens>>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef59a6300ca1d51ae50623e69d3897b925b43c5d"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NzQzOTI3", "url": "https://github.com/SpongePowered/Sponge/pull/2569#pullrequestreview-409743927", "createdAt": "2020-05-12T06:49:01Z", "commit": {"oid": "8b2d5b87a3acf796beece586b911a105b801f3b6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNjo0OTowMVrOGT4WBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNjo0OTowMVrOGT4WBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQ5OTI3MQ==", "bodyText": "this is a moot set to even bother using. It's a temp registry that gets dropped as soon as the game has finished loading.", "url": "https://github.com/SpongePowered/Sponge/pull/2569#discussion_r423499271", "createdAt": "2020-05-12T06:49:01Z", "author": {"login": "gabizou"}, "path": "src/main/java/org/spongepowered/common/data/property/SpongePropertyRegistry.java", "diffHunk": "@@ -104,7 +105,7 @@ public void completeRegistration() {\n     public Collection<Property<?, ?>> getPropertiesFor(final PropertyHolder holder) {\n         final ImmutableList.Builder<Property<?, ?>> builder = ImmutableList.builder();\n         if (this.tempRegistry != null) { // Still doing registrations\n-            final Set<Class<? extends Property<?, ?>>> used = new HashSet<>();\n+            final Set<Class<? extends Property<?, ?>>> used = new ReferenceOpenHashSet<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b2d5b87a3acf796beece586b911a105b801f3b6"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNDc0NDkw", "url": "https://github.com/SpongePowered/Sponge/pull/2569#pullrequestreview-411474490", "createdAt": "2020-05-14T05:28:45Z", "commit": {"oid": "8b2d5b87a3acf796beece586b911a105b801f3b6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwNToyODo0NVrOGVMjUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwNToyODo0NVrOGVMjUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDg3ODkyOA==", "bodyText": "Damn, this must've been here for ages.....", "url": "https://github.com/SpongePowered/Sponge/pull/2569#discussion_r424878928", "createdAt": "2020-05-14T05:28:45Z", "author": {"login": "gabizou"}, "path": "src/main/java/org/spongepowered/common/data/util/DataUtil.java", "diffHunk": "@@ -580,10 +581,9 @@ public static void readCustomData(final NBTTagCompound compound, final DataHolde\n                 // Re-attempt to deserialize custom data\n                 final SerializedDataTransaction transaction = deserializeManipulatorList(builder.build());\n                 final List<DataManipulator<?, ?>> manipulators = transaction.deserializedManipulators;\n-                final List<Class<? extends DataManipulator<?, ?>>> classesLoaded = new ArrayList<>();\n+                final Set<Class<? extends DataManipulator<?, ?>>> classesLoaded = new ReferenceOpenHashSet<>();\n                 for (final DataManipulator<?, ?> manipulator : manipulators) {\n-                    if (!classesLoaded.contains(manipulator.getClass())) {\n-                        classesLoaded.add((Class<? extends DataManipulator<?, ?>>) manipulator.getClass());\n+                    if (classesLoaded.add((Class<? extends DataManipulator<?, ?>>) manipulator.getClass())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b2d5b87a3acf796beece586b911a105b801f3b6"}, "originalPosition": 17}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cab217f838ab90543d8c3e4c91b3b036766faed2", "author": {"user": {"login": "ImMorpheus", "name": "Morpheus"}}, "url": "https://github.com/SpongePowered/Sponge/commit/cab217f838ab90543d8c3e4c91b3b036766faed2", "committedDate": "2020-05-21T20:29:47Z", "message": "Revert a few identity maps to hashmaps"}, "afterCommit": {"oid": "71d652bce465ca98e3d748b21c14393d3c795ae5", "author": {"user": {"login": "ImMorpheus", "name": "Morpheus"}}, "url": "https://github.com/SpongePowered/Sponge/commit/71d652bce465ca98e3d748b21c14393d3c795ae5", "committedDate": "2020-05-21T20:39:58Z", "message": "Revert a few identity maps to hashmaps"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af8bd36f8772347578ca33edd10df168d4202d85", "author": {"user": {"login": "ImMorpheus", "name": "Morpheus"}}, "url": "https://github.com/SpongePowered/Sponge/commit/af8bd36f8772347578ca33edd10df168d4202d85", "committedDate": "2020-05-21T20:39:52Z", "message": "Use Identity/Reference based collection where possible"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a91ef10021d40ac73635a2bcd7babc31e5e9287", "author": {"user": {"login": "ImMorpheus", "name": "Morpheus"}}, "url": "https://github.com/SpongePowered/Sponge/commit/2a91ef10021d40ac73635a2bcd7babc31e5e9287", "committedDate": "2020-05-21T20:39:57Z", "message": "Replace guava collection with fastutil"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7bf0d0b8f478697003b63a97dfff168a46b23d82", "author": {"user": {"login": "ImMorpheus", "name": "Morpheus"}}, "url": "https://github.com/SpongePowered/Sponge/commit/7bf0d0b8f478697003b63a97dfff168a46b23d82", "committedDate": "2020-05-21T20:39:57Z", "message": "Missed a few maps with class keys"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5fc7223d8ee49bfc9bd675d80d0f3e4380de73f", "author": {"user": {"login": "ImMorpheus", "name": "Morpheus"}}, "url": "https://github.com/SpongePowered/Sponge/commit/c5fc7223d8ee49bfc9bd675d80d0f3e4380de73f", "committedDate": "2020-05-21T20:39:57Z", "message": "Add maps with Keys keys"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b25f3c2ad0fe20175373736498dcaf5c9c07f62", "author": {"user": {"login": "ImMorpheus", "name": "Morpheus"}}, "url": "https://github.com/SpongePowered/Sponge/commit/1b25f3c2ad0fe20175373736498dcaf5c9c07f62", "committedDate": "2020-05-21T20:39:58Z", "message": "Use an EnumMap/Set when the key type is an enum"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "393de7372e0a2f7314e11e4cfc6f2a58fc97eb19", "author": {"user": {"login": "ImMorpheus", "name": "Morpheus"}}, "url": "https://github.com/SpongePowered/Sponge/commit/393de7372e0a2f7314e11e4cfc6f2a58fc97eb19", "committedDate": "2020-05-21T20:39:58Z", "message": "Missed a few maps with primitive types"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b699ccaaf85f126410008b22ab1e184f77dd37d", "author": {"user": {"login": "ImMorpheus", "name": "Morpheus"}}, "url": "https://github.com/SpongePowered/Sponge/commit/1b699ccaaf85f126410008b22ab1e184f77dd37d", "committedDate": "2020-05-21T20:39:58Z", "message": "Cleanup old guava import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4fa4cc7668984fad0b2aa2973c7b2eb2036a1bc9", "author": {"user": {"login": "ImMorpheus", "name": "Morpheus"}}, "url": "https://github.com/SpongePowered/Sponge/commit/4fa4cc7668984fad0b2aa2973c7b2eb2036a1bc9", "committedDate": "2020-05-21T20:39:58Z", "message": "Registrymodules are singletons"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2da16ca322c6e9f97ac7b57632612c3084d1f4bf", "author": {"user": {"login": "ImMorpheus", "name": "Morpheus"}}, "url": "https://github.com/SpongePowered/Sponge/commit/2da16ca322c6e9f97ac7b57632612c3084d1f4bf", "committedDate": "2020-05-21T20:39:58Z", "message": "Missed an EnumMap"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6d8997f1345ff90a4381fe39481d084268ef5a6", "author": {"user": {"login": "ImMorpheus", "name": "Morpheus"}}, "url": "https://github.com/SpongePowered/Sponge/commit/f6d8997f1345ff90a4381fe39481d084268ef5a6", "committedDate": "2020-05-21T20:39:58Z", "message": "Another Map with enum keys"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64690556d2788bc48bd59e8604dd13c3234b3522", "author": {"user": {"login": "ImMorpheus", "name": "Morpheus"}}, "url": "https://github.com/SpongePowered/Sponge/commit/64690556d2788bc48bd59e8604dd13c3234b3522", "committedDate": "2020-05-21T20:39:58Z", "message": "Classloaders and event handlers don't follow the equals contract"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2618f36edb46745d8e5bf447f5a3746e435d0ebe", "author": {"user": {"login": "ImMorpheus", "name": "Morpheus"}}, "url": "https://github.com/SpongePowered/Sponge/commit/2618f36edb46745d8e5bf447f5a3746e435d0ebe", "committedDate": "2020-05-21T20:39:58Z", "message": "Avoid int boxing and reduce map lookups"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71d652bce465ca98e3d748b21c14393d3c795ae5", "author": {"user": {"login": "ImMorpheus", "name": "Morpheus"}}, "url": "https://github.com/SpongePowered/Sponge/commit/71d652bce465ca98e3d748b21c14393d3c795ae5", "committedDate": "2020-05-21T20:39:58Z", "message": "Revert a few identity maps to hashmaps"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 877, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}