{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0MjUxOTAz", "number": 2600, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxODoxMzo1OVrOD57-GA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxODoxMzo1OVrOD57-GA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyMDc3OTc2OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/spongepowered/common/command/AndPermissionLevelSubject.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxODoxMzo1OVrOGRfc3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxODoxMzo1OVrOGRfc3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDk5NDI3MQ==", "bodyText": "Point of discussion: I feel like maybe I don't need to, or worse, shouldn't check for this. A ProxySource might define its own hasPermission et. al. checks - we just know SpongeProxySource doesn't. Does it make sense to remove this?", "url": "https://github.com/SpongePowered/Sponge/pull/2600#discussion_r420994271", "createdAt": "2020-05-06T18:13:59Z", "author": {"login": "dualspiral"}, "path": "src/main/java/org/spongepowered/common/command/AndPermissionLevelSubject.java", "diffHunk": "@@ -93,4 +96,24 @@ public SubjectData getSubjectData() {\n     public MemorySubjectData getTransientSubjectData() {\n         return this.opLevelData;\n     }\n+\n+    @Override\n+    public boolean hasPermission(Set<Context> contexts, String permission) {\n+        final Tristate value = getPermissionValue(contexts, permission);\n+        if (value == Tristate.UNDEFINED) {\n+            Subject target = this.delegate;\n+            while (target instanceof ProxySource) {\n+                if (target instanceof SpongeProxySource) {\n+                    target = ((SpongeProxySource) target).getSubjectDelegate();\n+                } else {\n+                    target = ((ProxySource) target).getOriginalSource();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c88c00dd5d68a338a55c07ee34f4e7098d5cdd2a"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2632, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}