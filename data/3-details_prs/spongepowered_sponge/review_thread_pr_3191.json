{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0MDAzNDIz", "number": 3191, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxOTozNDozNFrOEuJK8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxOTozNDozNFrOEuJK8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2ODIwMjEwOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/spongepowered/common/mixin/realtime/entity/EntityAgeableMixin_RealTime.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxOTozNDozNFrOHiXBaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwODoyNzo1MFrOHit_aA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTc5MDgyNQ==", "bodyText": "Rather than do this which is confusing to read, I'd much rather make this a simple if statement - something like:\nif (age > 0) {\n    this.setGrowingAge(Math.max(0, age - diff));\n} else {\n    this.setGrowingAge(Math.min(0, age + diff));\n}\nThat way it's a lot clearer about what's happening. Could also have a branch that bypasses these things completely if diff = 0", "url": "https://github.com/SpongePowered/Sponge/pull/3191#discussion_r505790825", "createdAt": "2020-10-15T19:34:34Z", "author": {"login": "dualspiral"}, "path": "src/main/java/org/spongepowered/common/mixin/realtime/entity/EntityAgeableMixin_RealTime.java", "diffHunk": "@@ -45,7 +45,10 @@\n         }\n         // Subtract the one the original update method added\n         final int diff = (int) ((RealTimeTrackingBridge) this.world).realTimeBridge$getRealTimeTicks() - 1;\n-        this.setGrowingAge(Math.min(0, age + diff));\n+        // age is positive ? subtract : add\n+        final int new_age = age - (int) Math.signum(age) * diff;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e252b23b95b3bac96cd6299a7043e3d5429f308"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjE2NzE0NA==", "bodyText": "Agreed. Didn't think of that for some reason :D", "url": "https://github.com/SpongePowered/Sponge/pull/3191#discussion_r506167144", "createdAt": "2020-10-16T08:27:50Z", "author": {"login": "PolyacovYury"}, "path": "src/main/java/org/spongepowered/common/mixin/realtime/entity/EntityAgeableMixin_RealTime.java", "diffHunk": "@@ -45,7 +45,10 @@\n         }\n         // Subtract the one the original update method added\n         final int diff = (int) ((RealTimeTrackingBridge) this.world).realTimeBridge$getRealTimeTicks() - 1;\n-        this.setGrowingAge(Math.min(0, age + diff));\n+        // age is positive ? subtract : add\n+        final int new_age = age - (int) Math.signum(age) * diff;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTc5MDgyNQ=="}, "originalCommit": {"oid": "1e252b23b95b3bac96cd6299a7043e3d5429f308"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2504, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}