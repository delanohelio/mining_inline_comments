{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0MDAzNDIz", "number": 3191, "title": "Fix #3190: fix mob breeding cooldown", "bodyText": "Fixes issue with unrestricted animal breeding introduced in 104fb62 by correctly decreasing the absolute value of new entity's age.", "createdAt": "2020-10-15T10:40:46Z", "url": "https://github.com/SpongePowered/Sponge/pull/3191", "merged": true, "mergeCommit": {"oid": "324c34cd1184ec4a44cc063a6bc7ed8b2da4866d"}, "closed": true, "closedAt": "2020-10-16T11:14:30Z", "author": {"login": "PolyacovYury"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSvXdXAH2gAyNTA0MDAzNDIzOjFlMjUyYjIzYjk1YjNiYWM5NmNkNjI5OWE3MDQzZTNkNTQyOWYzMDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdTEeC3AFqTUxMDM3NTA0OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1e252b23b95b3bac96cd6299a7043e3d5429f308", "author": {"user": {"login": "PolyacovYury", "name": null}}, "url": "https://github.com/SpongePowered/Sponge/commit/1e252b23b95b3bac96cd6299a7043e3d5429f308", "committedDate": "2020-10-15T10:39:02Z", "message": "Fix #3190: fix mob breeding cooldown"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5NzA1MTMx", "url": "https://github.com/SpongePowered/Sponge/pull/3191#pullrequestreview-509705131", "createdAt": "2020-10-15T19:34:34Z", "commit": {"oid": "1e252b23b95b3bac96cd6299a7043e3d5429f308"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxOTozNDozNFrOHiXBaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxOTozNDozNFrOHiXBaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTc5MDgyNQ==", "bodyText": "Rather than do this which is confusing to read, I'd much rather make this a simple if statement - something like:\nif (age > 0) {\n    this.setGrowingAge(Math.max(0, age - diff));\n} else {\n    this.setGrowingAge(Math.min(0, age + diff));\n}\nThat way it's a lot clearer about what's happening. Could also have a branch that bypasses these things completely if diff = 0", "url": "https://github.com/SpongePowered/Sponge/pull/3191#discussion_r505790825", "createdAt": "2020-10-15T19:34:34Z", "author": {"login": "dualspiral"}, "path": "src/main/java/org/spongepowered/common/mixin/realtime/entity/EntityAgeableMixin_RealTime.java", "diffHunk": "@@ -45,7 +45,10 @@\n         }\n         // Subtract the one the original update method added\n         final int diff = (int) ((RealTimeTrackingBridge) this.world).realTimeBridge$getRealTimeTicks() - 1;\n-        this.setGrowingAge(Math.min(0, age + diff));\n+        // age is positive ? subtract : add\n+        final int new_age = age - (int) Math.signum(age) * diff;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e252b23b95b3bac96cd6299a7043e3d5429f308"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf05e42411ec342e9f5fe1e2cc0947b992c44fb5", "author": {"user": {"login": "PolyacovYury", "name": null}}, "url": "https://github.com/SpongePowered/Sponge/commit/bf05e42411ec342e9f5fe1e2cc0947b992c44fb5", "committedDate": "2020-10-16T08:31:35Z", "message": "This is, indeed, less confusing to read. Thx, @dualspiral"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwMzc1MDQ5", "url": "https://github.com/SpongePowered/Sponge/pull/3191#pullrequestreview-510375049", "createdAt": "2020-10-16T11:14:15Z", "commit": {"oid": "bf05e42411ec342e9f5fe1e2cc0947b992c44fb5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 756, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}