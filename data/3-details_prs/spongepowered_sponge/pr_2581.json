{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4NzA0NDM4", "number": 2581, "title": "Improve vanish", "bodyText": "A few improvement for Vanish related data, specifically:\n\nUncollideable now means Uncollideable. (this wasn't the case, as you could for example collide with EntityItems and pick them up).\nVanished players don't affect mob spawning (just like spectactor).", "createdAt": "2020-04-24T18:35:14Z", "url": "https://github.com/SpongePowered/Sponge/pull/2581", "merged": true, "mergeCommit": {"oid": "3f22339fbc9be6415fd5fc0f603485548ca050b2"}, "closed": true, "closedAt": "2020-04-25T15:51:50Z", "author": {"login": "ImMorpheus"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABca0Fe_AH2gAyNDA4NzA0NDM4OmVhYTg1Nzk0MWEwM2E5MGMyYTdhYzliODQxNTI2NTdmYWE4ODRiNzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABca2Hy1AH2gAyNDA4NzA0NDM4OmZhOGRmZTY3ZmZhZDQxNmU4MDUyNTliZWJiNDg3MWYwMTE2MDE1Mzk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "eaa857941a03a90c2a7ac9b84152657faa884b70", "author": {"user": {"login": "ImMorpheus", "name": "Morpheus"}}, "url": "https://github.com/SpongePowered/Sponge/commit/eaa857941a03a90c2a7ac9b84152657faa884b70", "committedDate": "2020-04-24T16:29:10Z", "message": "Vanish doesn't affect spawning"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06ce9afc206730e09689b9b711fd5f67e8f5f7d2", "author": {"user": {"login": "ImMorpheus", "name": "Morpheus"}}, "url": "https://github.com/SpongePowered/Sponge/commit/06ce9afc206730e09689b9b711fd5f67e8f5f7d2", "committedDate": "2020-04-24T17:08:57Z", "message": "Fix uncollideable entities colliding with other entities"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMTg1NTgw", "url": "https://github.com/SpongePowered/Sponge/pull/2581#pullrequestreview-400185580", "createdAt": "2020-04-24T18:40:00Z", "commit": {"oid": "06ce9afc206730e09689b9b711fd5f67e8f5f7d2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxODo0MDowMFrOGLkezQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxODo0MDowMFrOGLkezQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDc4NTIyOQ==", "bodyText": "Should this depend on VANISH_IGNORES_COLLISION?", "url": "https://github.com/SpongePowered/Sponge/pull/2581#discussion_r414785229", "createdAt": "2020-04-24T18:40:00Z", "author": {"login": "dualspiral"}, "path": "src/main/java/org/spongepowered/common/mixin/core/entity/player/EntityPlayerMixin.java", "diffHunk": "@@ -361,6 +363,14 @@ public void onDeath(final DamageSource cause) {\n         this.setFlag(0, false);\n     }\n \n+    @Redirect(method = \"onLivingUpdate\", at = @At(value = \"INVOKE\", target = \"Lnet/minecraft/world/World;getEntitiesWithinAABBExcludingEntity(Lnet/minecraft/entity/Entity;Lnet/minecraft/util/math/AxisAlignedBB;)Ljava/util/List;\"))\n+    private List<Entity> onSpongeGetEntitiesWithinAABBExcludingEntity(final World world, Entity entityIn, AxisAlignedBB bb) {\n+        if (this.bridge$isUncollideable()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06ce9afc206730e09689b9b711fd5f67e8f5f7d2"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMTg3Njg3", "url": "https://github.com/SpongePowered/Sponge/pull/2581#pullrequestreview-400187687", "createdAt": "2020-04-24T18:43:06Z", "commit": {"oid": "06ce9afc206730e09689b9b711fd5f67e8f5f7d2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxODo0MzowNlrOGLkmOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxODo0MzowNlrOGLkmOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDc4NzEyOA==", "bodyText": "If a player is targetable becuase VANISH_PREVENTS_TARGETING is false, should spawning also be unaffected?", "url": "https://github.com/SpongePowered/Sponge/pull/2581#discussion_r414787128", "createdAt": "2020-04-24T18:43:06Z", "author": {"login": "dualspiral"}, "path": "src/main/java/org/spongepowered/common/mixin/core/entity/player/EntityPlayerMixin.java", "diffHunk": "@@ -391,7 +401,7 @@ private void spongePlaySound(final World world, final EntityPlayer player, final\n \n     @Override\n     public boolean bridge$affectsSpawning() {\n-        return this.affectsSpawning && !this.isSpectator();\n+        return this.affectsSpawning && !this.isSpectator() && !this.bridge$isVanished();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06ce9afc206730e09689b9b711fd5f67e8f5f7d2"}, "originalPosition": 36}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa8dfe67ffad416e805259bebb4871f011601539", "author": {"user": {"login": "ImMorpheus", "name": "Morpheus"}}, "url": "https://github.com/SpongePowered/Sponge/commit/fa8dfe67ffad416e805259bebb4871f011601539", "committedDate": "2020-04-24T18:51:30Z", "message": "Only untargetable players don't affect spawning"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 881, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}