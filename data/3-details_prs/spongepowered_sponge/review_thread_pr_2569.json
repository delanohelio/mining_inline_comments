{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzNjk3OTcy", "number": 2569, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNzowMToyOVrOD7U2Lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwNToyODo0NVrOD8U7bg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNTM0MTI2OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/spongepowered/common/event/tracking/phase/packet/inventory/BasicInventoryPacketState.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNzowMToyOVrOGTlLPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNzowMToyOVrOGTlLPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzE4NTIxMg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            import com.google.common.collect.Sets;", "url": "https://github.com/SpongePowered/Sponge/pull/2569#discussion_r423185212", "createdAt": "2020-05-11T17:01:29Z", "author": {"login": "gabizou"}, "path": "src/main/java/org/spongepowered/common/event/tracking/phase/packet/inventory/BasicInventoryPacketState.java", "diffHunk": "@@ -24,6 +24,8 @@\n  */\n package org.spongepowered.common.event.tracking.phase.packet.inventory;\n \n+import com.google.common.collect.Sets;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef59a6300ca1d51ae50623e69d3897b925b43c5d"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNTM0MjI5OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/spongepowered/common/item/inventory/archetype/SpongeInventoryArchetypeBuilder.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNzowMTo0OFrOGTlL5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNzowMTo0OFrOGTlL5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzE4NTM4Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            import com.google.common.collect.Sets;", "url": "https://github.com/SpongePowered/Sponge/pull/2569#discussion_r423185383", "createdAt": "2020-05-11T17:01:48Z", "author": {"login": "gabizou"}, "path": "src/main/java/org/spongepowered/common/item/inventory/archetype/SpongeInventoryArchetypeBuilder.java", "diffHunk": "@@ -24,6 +24,8 @@\n  */\n package org.spongepowered.common.item.inventory.archetype;\n \n+import com.google.common.collect.Sets;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef59a6300ca1d51ae50623e69d3897b925b43c5d"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNTM0NDMxOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/spongepowered/common/item/inventory/lens/impl/ReusableLens.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxNzowMjoxOFrOGTlNJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxNzo1NTozNlrOGU9F_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzE4NTcwMA==", "bodyText": "Isn't this going to be changing to a different type of map?", "url": "https://github.com/SpongePowered/Sponge/pull/2569#discussion_r423185700", "createdAt": "2020-05-11T17:02:18Z", "author": {"login": "gabizou"}, "path": "src/main/java/org/spongepowered/common/item/inventory/lens/impl/ReusableLens.java", "diffHunk": "@@ -65,7 +66,7 @@ private ReusableLens(SlotProvider slots, Function<SlotProvider, T> lensProvider)\n     public static <T extends Lens> ReusableLens<T> getLens(Class<T> lensType, InventoryAdapter adapter,\n             Supplier<SlotProvider> slots, Function<SlotProvider, T> lens) {\n         Map<Class<? extends Lens>, Int2ObjectMap<ReusableLens>>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef59a6300ca1d51ae50623e69d3897b925b43c5d"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDYyNTY2Mg==", "bodyText": "IdentityHashMap implements Map. The declaration is fine, I'm changing the value here\nhttps://github.com/SpongePowered/SpongeCommon/pull/2569/files#diff-79c49477a2574946c4d8b9f22e05e208R68", "url": "https://github.com/SpongePowered/Sponge/pull/2569#discussion_r424625662", "createdAt": "2020-05-13T17:55:36Z", "author": {"login": "ImMorpheus"}, "path": "src/main/java/org/spongepowered/common/item/inventory/lens/impl/ReusableLens.java", "diffHunk": "@@ -65,7 +66,7 @@ private ReusableLens(SlotProvider slots, Function<SlotProvider, T> lensProvider)\n     public static <T extends Lens> ReusableLens<T> getLens(Class<T> lensType, InventoryAdapter adapter,\n             Supplier<SlotProvider> slots, Function<SlotProvider, T> lens) {\n         Map<Class<? extends Lens>, Int2ObjectMap<ReusableLens>>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzE4NTcwMA=="}, "originalCommit": {"oid": "ef59a6300ca1d51ae50623e69d3897b925b43c5d"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNzMwMjAwOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/spongepowered/common/data/property/SpongePropertyRegistry.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNjo0OTowMVrOGT4WBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQyMDozMDozMlrOGZBy_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQ5OTI3MQ==", "bodyText": "this is a moot set to even bother using. It's a temp registry that gets dropped as soon as the game has finished loading.", "url": "https://github.com/SpongePowered/Sponge/pull/2569#discussion_r423499271", "createdAt": "2020-05-12T06:49:01Z", "author": {"login": "gabizou"}, "path": "src/main/java/org/spongepowered/common/data/property/SpongePropertyRegistry.java", "diffHunk": "@@ -104,7 +105,7 @@ public void completeRegistration() {\n     public Collection<Property<?, ?>> getPropertiesFor(final PropertyHolder holder) {\n         final ImmutableList.Builder<Property<?, ?>> builder = ImmutableList.builder();\n         if (this.tempRegistry != null) { // Still doing registrations\n-            final Set<Class<? extends Property<?, ?>>> used = new HashSet<>();\n+            final Set<Class<? extends Property<?, ?>>> used = new ReferenceOpenHashSet<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b2d5b87a3acf796beece586b911a105b801f3b6"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODg5NzAyMw==", "bodyText": "Reverted with other temporary maps.", "url": "https://github.com/SpongePowered/Sponge/pull/2569#discussion_r428897023", "createdAt": "2020-05-21T20:30:32Z", "author": {"login": "ImMorpheus"}, "path": "src/main/java/org/spongepowered/common/data/property/SpongePropertyRegistry.java", "diffHunk": "@@ -104,7 +105,7 @@ public void completeRegistration() {\n     public Collection<Property<?, ?>> getPropertiesFor(final PropertyHolder holder) {\n         final ImmutableList.Builder<Property<?, ?>> builder = ImmutableList.builder();\n         if (this.tempRegistry != null) { // Still doing registrations\n-            final Set<Class<? extends Property<?, ?>>> used = new HashSet<>();\n+            final Set<Class<? extends Property<?, ?>>> used = new ReferenceOpenHashSet<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQ5OTI3MQ=="}, "originalCommit": {"oid": "8b2d5b87a3acf796beece586b911a105b801f3b6"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NTg0MDQ2OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/spongepowered/common/data/util/DataUtil.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwNToyODo0NVrOGVMjUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwNToyODo0NVrOGVMjUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDg3ODkyOA==", "bodyText": "Damn, this must've been here for ages.....", "url": "https://github.com/SpongePowered/Sponge/pull/2569#discussion_r424878928", "createdAt": "2020-05-14T05:28:45Z", "author": {"login": "gabizou"}, "path": "src/main/java/org/spongepowered/common/data/util/DataUtil.java", "diffHunk": "@@ -580,10 +581,9 @@ public static void readCustomData(final NBTTagCompound compound, final DataHolde\n                 // Re-attempt to deserialize custom data\n                 final SerializedDataTransaction transaction = deserializeManipulatorList(builder.build());\n                 final List<DataManipulator<?, ?>> manipulators = transaction.deserializedManipulators;\n-                final List<Class<? extends DataManipulator<?, ?>>> classesLoaded = new ArrayList<>();\n+                final Set<Class<? extends DataManipulator<?, ?>>> classesLoaded = new ReferenceOpenHashSet<>();\n                 for (final DataManipulator<?, ?> manipulator : manipulators) {\n-                    if (!classesLoaded.contains(manipulator.getClass())) {\n-                        classesLoaded.add((Class<? extends DataManipulator<?, ?>>) manipulator.getClass());\n+                    if (classesLoaded.add((Class<? extends DataManipulator<?, ?>>) manipulator.getClass())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b2d5b87a3acf796beece586b911a105b801f3b6"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2613, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}