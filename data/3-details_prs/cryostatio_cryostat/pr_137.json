{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg3NDA2MDc4", "number": 137, "title": "Include WWW-Authenticate Header on 401 responses", "bodyText": "", "createdAt": "2020-03-12T18:26:59Z", "url": "https://github.com/cryostatio/cryostat/pull/137", "merged": true, "mergeCommit": {"oid": "3cb962c7f6647b65e84d93aa85fae143815059ec"}, "closed": true, "closedAt": "2020-03-16T16:36:24Z", "author": {"login": "andrewazores"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcNCEX0gBqjMxMjQ0NzQ4ODc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcOQzxTgBqjMxMzQwMjI5MjM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "67ae6b793c3560ec8eaf36f61ed587b716eb2bf1", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/67ae6b793c3560ec8eaf36f61ed587b716eb2bf1", "committedDate": "2020-03-12T18:25:25Z", "message": "Include WWW-Authenticate response header on 401s\n\nFixes #136"}, "afterCommit": {"oid": "f2198fa449edd5f5095117bce6c86ff9cc7cc28e", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/f2198fa449edd5f5095117bce6c86ff9cc7cc28e", "committedDate": "2020-03-12T20:49:57Z", "message": "Allow selection of auth manager in run.sh script\n\nThis is probably only useful for testing, since this script does not\nreally allow for any way to configure the Basic auth manager's user\ncredentials file nor any useful way to connect to an OpenShift\nauthentication server. But, it's still helpful to be able to check that\nthe container application and the -web client properly detect the\nconfigured auth manager and react accordingly."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f013cf60240b63e70874e7ece06b671170a87fcf", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/f013cf60240b63e70874e7ece06b671170a87fcf", "committedDate": "2020-03-13T17:26:52Z", "message": "Include X-WWW-Authenticate response header on 401s\n\nFixes #136"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d95d66b7940fc743cc88f7f5df9c4862423d1218", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/d95d66b7940fc743cc88f7f5df9c4862423d1218", "committedDate": "2020-03-13T17:26:56Z", "message": "Allow selection of auth manager in run.sh script\n\nThis is probably only useful for testing, since this script does not\nreally allow for any way to configure the Basic auth manager's user\ncredentials file nor any useful way to connect to an OpenShift\nauthentication server. But, it's still helpful to be able to check that\nthe container application and the -web client properly detect the\nconfigured auth manager and react accordingly."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f2198fa449edd5f5095117bce6c86ff9cc7cc28e", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/f2198fa449edd5f5095117bce6c86ff9cc7cc28e", "committedDate": "2020-03-12T20:49:57Z", "message": "Allow selection of auth manager in run.sh script\n\nThis is probably only useful for testing, since this script does not\nreally allow for any way to configure the Basic auth manager's user\ncredentials file nor any useful way to connect to an OpenShift\nauthentication server. But, it's still helpful to be able to check that\nthe container application and the -web client properly detect the\nconfigured auth manager and react accordingly."}, "afterCommit": {"oid": "d95d66b7940fc743cc88f7f5df9c4862423d1218", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/d95d66b7940fc743cc88f7f5df9c4862423d1218", "committedDate": "2020-03-13T17:26:56Z", "message": "Allow selection of auth manager in run.sh script\n\nThis is probably only useful for testing, since this script does not\nreally allow for any way to configure the Basic auth manager's user\ncredentials file nor any useful way to connect to an OpenShift\nauthentication server. But, it's still helpful to be able to check that\nthe container application and the -web client properly detect the\nconfigured auth manager and react accordingly."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1MjYzNDU3", "url": "https://github.com/cryostatio/cryostat/pull/137#pullrequestreview-375263457", "createdAt": "2020-03-16T14:21:08Z", "commit": {"oid": "d95d66b7940fc743cc88f7f5df9c4862423d1218"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxNDoyMTowOFrOF22bqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxNDoyMTowOFrOF22bqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzA1OTI0MQ==", "bodyText": "Not sure if it's better put header name into a constant", "url": "https://github.com/cryostatio/cryostat/pull/137#discussion_r393059241", "createdAt": "2020-03-16T14:21:08Z", "author": {"login": "tabjy"}, "path": "src/main/java/com/redhat/rhjmc/containerjfr/net/web/WebServer.java", "diffHunk": "@@ -165,6 +165,11 @@ public void start() throws FlightRecorderException, SocketException, UnknownHost\n                         logger.error(exception);\n                     }\n \n+                    if (exception.getStatusCode() == 401) {\n+                        // Use X- prefix so as to not trigger web-browser auth dialogs\n+                        ctx.response().putHeader(\"X-WWW-Authenticate\", auth.getScheme().toString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d95d66b7940fc743cc88f7f5df9c4862423d1218"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1MzgwNjc4", "url": "https://github.com/cryostatio/cryostat/pull/137#pullrequestreview-375380678", "createdAt": "2020-03-16T16:28:27Z", "commit": {"oid": "1318c0e436b6b5821fa4e4b5346cabed6f8133c8"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c9eefdad88d860a636aac6a8e3e18518649237b", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/5c9eefdad88d860a636aac6a8e3e18518649237b", "committedDate": "2020-03-16T16:35:58Z", "message": "Extract header name to constant"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1318c0e436b6b5821fa4e4b5346cabed6f8133c8", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/1318c0e436b6b5821fa4e4b5346cabed6f8133c8", "committedDate": "2020-03-16T14:26:15Z", "message": "Extract header name to constant"}, "afterCommit": {"oid": "5c9eefdad88d860a636aac6a8e3e18518649237b", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/5c9eefdad88d860a636aac6a8e3e18518649237b", "committedDate": "2020-03-16T16:35:58Z", "message": "Extract header name to constant"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3130, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}