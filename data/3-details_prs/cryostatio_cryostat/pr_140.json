{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkwNTY3NjE1", "number": 140, "title": "Implement remote target VM event template settings", "bodyText": "", "createdAt": "2020-03-18T17:24:08Z", "url": "https://github.com/cryostatio/cryostat/pull/140", "merged": true, "mergeCommit": {"oid": "b3219fb3576d7bad7886b528716deeb4157610c0"}, "closed": true, "closedAt": "2020-03-27T18:30:52Z", "author": {"login": "andrewazores"}, "timelineItems": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcO6xCugBqjMxNDI0NjgxMzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcR05v0AFqTM4MzEwMDI4Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "be971473cf7e18b6c12dfd6885aa8d8486509e33", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/be971473cf7e18b6c12dfd6885aa8d8486509e33", "committedDate": "2020-03-18T17:23:32Z", "message": "Implement remote target VM event template settings"}, "afterCommit": {"oid": "511b195be5f638ac38aa7867b3f8af3b04eac807", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/511b195be5f638ac38aa7867b3f8af3b04eac807", "committedDate": "2020-03-18T17:28:50Z", "message": "Implement remote target VM event template settings\n\nRelated to #141\nFixes #142"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "511b195be5f638ac38aa7867b3f8af3b04eac807", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/511b195be5f638ac38aa7867b3f8af3b04eac807", "committedDate": "2020-03-18T17:28:50Z", "message": "Implement remote target VM event template settings\n\nRelated to #141\nFixes #142"}, "afterCommit": {"oid": "2697ce56b0dede40c8d4bf3b4e05bfa218612ff8", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/2697ce56b0dede40c8d4bf3b4e05bfa218612ff8", "committedDate": "2020-03-18T17:56:46Z", "message": "Implement remote target VM event template settings\n\nRelated to #141\nFixes #142"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2697ce56b0dede40c8d4bf3b4e05bfa218612ff8", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/2697ce56b0dede40c8d4bf3b4e05bfa218612ff8", "committedDate": "2020-03-18T17:56:46Z", "message": "Implement remote target VM event template settings\n\nRelated to #141\nFixes #142"}, "afterCommit": {"oid": "d8493c1416a467cb4faf206c07a272906ca86143", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/d8493c1416a467cb4faf206c07a272906ca86143", "committedDate": "2020-03-18T17:58:38Z", "message": "Implement remote target VM event template settings\n\nRelated to #141\nFixes #142"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d8493c1416a467cb4faf206c07a272906ca86143", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/d8493c1416a467cb4faf206c07a272906ca86143", "committedDate": "2020-03-18T17:58:38Z", "message": "Implement remote target VM event template settings\n\nRelated to #141\nFixes #142"}, "afterCommit": {"oid": "a3e4cbde0a04fe27b02f6243cac1800d44cb98ee", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/a3e4cbde0a04fe27b02f6243cac1800d44cb98ee", "committedDate": "2020-03-18T18:29:03Z", "message": "Implement remote target VM event template settings\n\nRelated to #141\nFixes #142"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3MTQwNTYy", "url": "https://github.com/cryostatio/cryostat/pull/140#pullrequestreview-377140562", "createdAt": "2020-03-18T18:42:46Z", "commit": {"oid": "a3e4cbde0a04fe27b02f6243cac1800d44cb98ee"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxODo0Mjo0NlrOF4SS4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxODo0Mjo0NlrOF4SS4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDU2NDMyMQ==", "bodyText": "This is from jmc -> jmc-core right? (Edit: Just checking because) I think there are some comments in code below for container-jfr -> container-jfr-core.", "url": "https://github.com/cryostatio/cryostat/pull/140#discussion_r394564321", "createdAt": "2020-03-18T18:42:46Z", "author": {"login": "jiekang"}, "path": "pom.xml", "diffHunk": "@@ -66,6 +65,18 @@\n     <artifactId>containerjfr-core</artifactId>\n     <version>${com.redhat.rhjmc.containerjfr.core.version}</version>\n   </dependency>\n+  <!-- TODO move this into -core -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3e4cbde0a04fe27b02f6243cac1800d44cb98ee"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3MTQ1NTM2", "url": "https://github.com/cryostatio/cryostat/pull/140#pullrequestreview-377145536", "createdAt": "2020-03-18T18:49:50Z", "commit": {"oid": "a3e4cbde0a04fe27b02f6243cac1800d44cb98ee"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxODo0OTo1MFrOF4SitQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxODo0OTo1MFrOF4SitQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDU2ODM3Mw==", "bodyText": "@jiekang here's a good RFE for JMC - the JFCXMLValidator currently imports this UIPlugin class from another artifact, which is a subclass of an Eclipse AbstractUIPlugin class. So those UIPlugin classes are actually somehow related to the rendered application components and widgets, but clearly the XML Validator and the rest of the XML processing stuff I'm using here are not. And yet, the JMC code pathway for processing XML calls into UI components simply for the purpose of reusing their static logger instance...\nA fix for this is probably going to take a while to make it into a snapshot release version so I'll have to rely on this hack for a while, but if any portion of this XML stuff can be cleaned up and moved into jmc-core, then it would be really nice and useful for us to use here in container-jfr(-core).", "url": "https://github.com/cryostatio/cryostat/pull/140#discussion_r394568373", "createdAt": "2020-03-18T18:49:50Z", "author": {"login": "andrewazores"}, "path": "src/main/java/org/openjdk/jmc/ui/UIPlugin.java", "diffHunk": "@@ -0,0 +1,18 @@\n+package org.openjdk.jmc.ui;\n+\n+import java.util.logging.Logger;\n+\n+/**\n+ * TODO move this stub into -core This is only used for stubbing out a Logger instance used by JMC's\n+ * JFCXMLValidator !!! This is a major classloading hackaround !!!\n+ */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3e4cbde0a04fe27b02f6243cac1800d44cb98ee"}, "originalPosition": 8}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a3e4cbde0a04fe27b02f6243cac1800d44cb98ee", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/a3e4cbde0a04fe27b02f6243cac1800d44cb98ee", "committedDate": "2020-03-18T18:29:03Z", "message": "Implement remote target VM event template settings\n\nRelated to #141\nFixes #142"}, "afterCommit": {"oid": "b90d1bb82331dddd1d31d94cb5f95b2cf2d130e4", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/b90d1bb82331dddd1d31d94cb5f95b2cf2d130e4", "committedDate": "2020-03-19T14:41:57Z", "message": "Implement event template handling\n\nlist-recording-templates command lists available recording template\nnames and AbstractRecordingCommands (start-recording, dump) gain the\nability to specify event templates via arguments formatted as\n\"template:FooTemplate\"\n\nRelated to #141\nFixes #142"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b90d1bb82331dddd1d31d94cb5f95b2cf2d130e4", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/b90d1bb82331dddd1d31d94cb5f95b2cf2d130e4", "committedDate": "2020-03-19T14:41:57Z", "message": "Implement event template handling\n\nlist-recording-templates command lists available recording template\nnames and AbstractRecordingCommands (start-recording, dump) gain the\nability to specify event templates via arguments formatted as\n\"template:FooTemplate\"\n\nRelated to #141\nFixes #142"}, "afterCommit": {"oid": "140d37555f91edb35ba1ea72ac1bfc53df035054", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/140d37555f91edb35ba1ea72ac1bfc53df035054", "committedDate": "2020-03-19T14:56:14Z", "message": "Implement event template handling\n\nlist-recording-templates command lists available recording template\nnames and AbstractRecordingCommands (start-recording, dump) gain the\nability to specify event templates via arguments formatted as\n\"template:FooTemplate\"\n\nRelated to #141\nFixes #142"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "140d37555f91edb35ba1ea72ac1bfc53df035054", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/140d37555f91edb35ba1ea72ac1bfc53df035054", "committedDate": "2020-03-19T14:56:14Z", "message": "Implement event template handling\n\nlist-recording-templates command lists available recording template\nnames and AbstractRecordingCommands (start-recording, dump) gain the\nability to specify event templates via arguments formatted as\n\"template:FooTemplate\"\n\nRelated to #141\nFixes #142"}, "afterCommit": {"oid": "20d74f43ba5e3c821711a05ff5dc6f8d77b281b0", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/20d74f43ba5e3c821711a05ff5dc6f8d77b281b0", "committedDate": "2020-03-19T16:46:05Z", "message": "Implement event template handling\n\nlist-recording-templates command lists available recording template\nnames and AbstractRecordingCommands (start-recording, dump) gain the\nability to specify event templates via arguments formatted as\n\"template:FooTemplate\"\n\nRelated to #141\nFixes #142"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "20d74f43ba5e3c821711a05ff5dc6f8d77b281b0", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/20d74f43ba5e3c821711a05ff5dc6f8d77b281b0", "committedDate": "2020-03-19T16:46:05Z", "message": "Implement event template handling\n\nlist-recording-templates command lists available recording template\nnames and AbstractRecordingCommands (start-recording, dump) gain the\nability to specify event templates via arguments formatted as\n\"template:FooTemplate\"\n\nRelated to #141\nFixes #142"}, "afterCommit": {"oid": "d6661c67b4eb0d09463807095aeb06340b1d05cb", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/d6661c67b4eb0d09463807095aeb06340b1d05cb", "committedDate": "2020-03-20T18:37:29Z", "message": "Implement event template handling\n\nlist-recording-templates command lists available recording template\nnames and AbstractRecordingCommands (start-recording, dump) gain the\nability to specify event templates via arguments formatted as\n\"template:FooTemplate\"\n\nRelated to #141\nFixes #142"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d6661c67b4eb0d09463807095aeb06340b1d05cb", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/d6661c67b4eb0d09463807095aeb06340b1d05cb", "committedDate": "2020-03-20T18:37:29Z", "message": "Implement event template handling\n\nlist-recording-templates command lists available recording template\nnames and AbstractRecordingCommands (start-recording, dump) gain the\nability to specify event templates via arguments formatted as\n\"template:FooTemplate\"\n\nRelated to #141\nFixes #142"}, "afterCommit": {"oid": "a2050d14132edc2f02c1b13bfd110aeb9b9bc67d", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/a2050d14132edc2f02c1b13bfd110aeb9b9bc67d", "committedDate": "2020-03-25T17:25:55Z", "message": "Implement event template handling\n\nlist-recording-templates command lists available recording template\nnames and AbstractRecordingCommands (start-recording, dump) gain the\nability to specify event templates via arguments formatted as\n\"template:FooTemplate\"\n\nRelated to #141\nFixes #142"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a2050d14132edc2f02c1b13bfd110aeb9b9bc67d", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/a2050d14132edc2f02c1b13bfd110aeb9b9bc67d", "committedDate": "2020-03-25T17:25:55Z", "message": "Implement event template handling\n\nlist-recording-templates command lists available recording template\nnames and AbstractRecordingCommands (start-recording, dump) gain the\nability to specify event templates via arguments formatted as\n\"template:FooTemplate\"\n\nRelated to #141\nFixes #142"}, "afterCommit": {"oid": "4fcf62ee4f327268af9ea5199a621937d7c8956a", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/4fcf62ee4f327268af9ea5199a621937d7c8956a", "committedDate": "2020-03-25T17:26:06Z", "message": "Implement event template handling\n\nlist-recording-templates command lists available recording templates\nand AbstractRecordingCommands (start-recording, dump) gain the\nability to specify event templates via arguments formatted as\n\"template:FooTemplate\"\n\nRelated to #141\nFixes #142"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4fcf62ee4f327268af9ea5199a621937d7c8956a", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/4fcf62ee4f327268af9ea5199a621937d7c8956a", "committedDate": "2020-03-25T17:26:06Z", "message": "Implement event template handling\n\nlist-recording-templates command lists available recording templates\nand AbstractRecordingCommands (start-recording, dump) gain the\nability to specify event templates via arguments formatted as\n\"template:FooTemplate\"\n\nRelated to #141\nFixes #142"}, "afterCommit": {"oid": "10afb1986a6f96716630d5c2f22c116f9f71cebd", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/10afb1986a6f96716630d5c2f22c116f9f71cebd", "committedDate": "2020-03-26T20:57:05Z", "message": "Document event template specifier"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0feeec7db3823ed1ed6ef1c7718d03c40def65e", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/d0feeec7db3823ed1ed6ef1c7718d03c40def65e", "committedDate": "2020-03-26T21:02:43Z", "message": "Document MAVEN_OPTS for non-containerized smoketest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d1221b7f4266723c1c4e4a178b03977e5ea1847", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/3d1221b7f4266723c1c4e4a178b03977e5ea1847", "committedDate": "2020-03-26T21:02:43Z", "message": "Implement event template handling\n\nlist-recording-templates command lists available recording templates\nand AbstractRecordingCommands (start-recording, dump) gain the\nability to specify event templates via arguments formatted as\n\"template=FooTemplate\"\n\nRelated to #141\nFixes #142"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "10afb1986a6f96716630d5c2f22c116f9f71cebd", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/10afb1986a6f96716630d5c2f22c116f9f71cebd", "committedDate": "2020-03-26T20:57:05Z", "message": "Document event template specifier"}, "afterCommit": {"oid": "f9da1061643e1acf8384c27530e42ed1053ff781", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/f9da1061643e1acf8384c27530e42ed1053ff781", "committedDate": "2020-03-26T21:02:43Z", "message": "Document event template specifier"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNDI3NDE5", "url": "https://github.com/cryostatio/cryostat/pull/140#pullrequestreview-382427419", "createdAt": "2020-03-26T21:17:37Z", "commit": {"oid": "f9da1061643e1acf8384c27530e42ed1053ff781"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMToxNzozN1rOF8a1Eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMToxNzozN1rOF8a1Eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg5ODQ1MA==", "bodyText": "Heh, I'd replace may be expensive with \"will be very expensive\" :P", "url": "https://github.com/cryostatio/cryostat/pull/140#discussion_r398898450", "createdAt": "2020-03-26T21:17:37Z", "author": {"login": "jiekang"}, "path": "src/main/java/com/redhat/rhjmc/containerjfr/commands/internal/AbstractRecordingCommand.java", "diffHunk": "@@ -7,11 +7,18 @@\n import org.openjdk.jmc.flightrecorder.configuration.events.EventOptionID;\n import org.openjdk.jmc.rjmx.services.jfr.IEventTypeInfo;\n \n+import com.redhat.rhjmc.containerjfr.core.templates.Template;\n import com.redhat.rhjmc.containerjfr.core.tui.ClientWriter;\n \n abstract class AbstractRecordingCommand extends AbstractConnectedCommand {\n \n-    private static final Pattern ALL_EVENTS_PATTERN = Pattern.compile(\"^ALL$\", Pattern.MULTILINE);\n+    static final Template ALL_EVENTS_TEMPLATE =\n+            new Template(\n+                    \"ALL\",\n+                    \"Enable all available events in the target JVM, with default option values. This may be expensive and is intended primarily for testing ContainerJFR's own capabilities.\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f9da1061643e1acf8384c27530e42ed1053ff781"}, "originalPosition": 13}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f9da1061643e1acf8384c27530e42ed1053ff781", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/f9da1061643e1acf8384c27530e42ed1053ff781", "committedDate": "2020-03-26T21:02:43Z", "message": "Document event template specifier"}, "afterCommit": {"oid": "5ea234b7f402cd9c55c579899ca6950c6f99be30", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/5ea234b7f402cd9c55c579899ca6950c6f99be30", "committedDate": "2020-03-26T21:19:14Z", "message": "Document event template specifier"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyOTYwNzQ3", "url": "https://github.com/cryostatio/cryostat/pull/140#pullrequestreview-382960747", "createdAt": "2020-03-27T15:26:14Z", "commit": {"oid": "5ea234b7f402cd9c55c579899ca6950c6f99be30"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxNToyNjoxNFrOF82LUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxNToyNjoxNFrOF82LUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTM0NjUxMg==", "bodyText": "Does this string need changing also?", "url": "https://github.com/cryostatio/cryostat/pull/140#discussion_r399346512", "createdAt": "2020-03-27T15:26:14Z", "author": {"login": "jiekang"}, "path": "src/test/java/com/redhat/rhjmc/containerjfr/commands/internal/ListEventTemplatesCommandTest.java", "diffHunk": "@@ -0,0 +1,97 @@\n+package com.redhat.rhjmc.containerjfr.commands.internal;\n+\n+import java.util.List;\n+\n+import org.hamcrest.MatcherAssert;\n+import org.hamcrest.Matchers;\n+import org.junit.jupiter.api.Assertions;\n+import org.junit.jupiter.api.BeforeEach;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.extension.ExtendWith;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.ValueSource;\n+import org.mockito.InOrder;\n+import org.mockito.Mock;\n+import org.mockito.Mockito;\n+import org.mockito.junit.jupiter.MockitoExtension;\n+\n+import com.redhat.rhjmc.containerjfr.commands.SerializableCommand.ListOutput;\n+import com.redhat.rhjmc.containerjfr.commands.SerializableCommand.Output;\n+import com.redhat.rhjmc.containerjfr.core.net.JFRConnection;\n+import com.redhat.rhjmc.containerjfr.core.templates.Template;\n+import com.redhat.rhjmc.containerjfr.core.templates.TemplateService;\n+import com.redhat.rhjmc.containerjfr.core.tui.ClientWriter;\n+\n+@ExtendWith(MockitoExtension.class)\n+class ListEventTemplatesCommandTest {\n+\n+    ListEventTemplatesCommand cmd;\n+    @Mock JFRConnection connection;\n+    @Mock TemplateService templateSvc;\n+    @Mock ClientWriter cw;\n+\n+    @BeforeEach\n+    void setup() {\n+        cmd = new ListEventTemplatesCommand(cw);\n+    }\n+\n+    @Test\n+    void shouldBeNamedListEventTemplates() {\n+        MatcherAssert.assertThat(cmd.getName(), Matchers.equalTo(\"list-event-templates\"));\n+    }\n+\n+    @ParameterizedTest\n+    @ValueSource(ints = {1, 2, 3})\n+    void shouldNotValidateWrongArgc(int n) {\n+        Assertions.assertFalse(cmd.validate(new String[n]));\n+        Mockito.verify(cw).println(\"No arguments expected\");\n+    }\n+\n+    @Test\n+    void shouldValidateNoArgs() {\n+        Assertions.assertTrue(cmd.validate(new String[0]));\n+        Mockito.verifyZeroInteractions(cw);\n+    }\n+\n+    @Test\n+    void executeShouldPrintListOfTemplateNames() throws Exception {\n+        Mockito.when(connection.getTemplateService()).thenReturn(templateSvc);\n+        Template foo = new Template(\"Foo\", \"a foo-ing template\", \"Foo Inc.\");\n+        Template bar = new Template(\"Bar\", \"a bar-ing template\", \"Bar Inc.\");\n+        Template baz = new Template(\"Baz\", \"a baz-ing template\", \"Baz Inc.\");\n+        Mockito.when(templateSvc.getTemplates()).thenReturn(List.of(foo, bar, baz));\n+\n+        cmd.connectionChanged(connection);\n+\n+        Mockito.verifyZeroInteractions(cw);\n+        cmd.execute(new String[0]);\n+        InOrder inOrder = Mockito.inOrder(cw);\n+        inOrder.verify(cw).println(\"Available recording templates:\");\n+        inOrder.verify(cw).println(\"\\t[Foo Inc.]\\tFoo:\\ta foo-ing template\");\n+        inOrder.verify(cw).println(\"\\t[Bar Inc.]\\tBar:\\ta bar-ing template\");\n+        inOrder.verify(cw).println(\"\\t[Baz Inc.]\\tBaz:\\ta baz-ing template\");\n+        inOrder.verify(cw)\n+                .println(\n+                        \"\\t[ContainerJFR]\\tALL:\\tEnable all available events in the target JVM, with default option values. This may be expensive and is intended primarily for testing ContainerJFR's own capabilities.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ea234b7f402cd9c55c579899ca6950c6f99be30"}, "originalPosition": 75}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e46c0ec11146d1f3c262a032264563c8a5089dd", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/8e46c0ec11146d1f3c262a032264563c8a5089dd", "committedDate": "2020-03-27T16:21:30Z", "message": "ALL event string re-implemented as pseudo-template"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9dcf473a52edf16d1f4395420c11032c269150ed", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/9dcf473a52edf16d1f4395420c11032c269150ed", "committedDate": "2020-03-27T16:21:30Z", "message": "Document event template specifier"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5ea234b7f402cd9c55c579899ca6950c6f99be30", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/5ea234b7f402cd9c55c579899ca6950c6f99be30", "committedDate": "2020-03-26T21:19:14Z", "message": "Document event template specifier"}, "afterCommit": {"oid": "9dcf473a52edf16d1f4395420c11032c269150ed", "author": {"user": {"login": "andrewazores", "name": "Andrew Azores"}}, "url": "https://github.com/cryostatio/cryostat/commit/9dcf473a52edf16d1f4395420c11032c269150ed", "committedDate": "2020-03-27T16:21:30Z", "message": "Document event template specifier"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMTAwMjg3", "url": "https://github.com/cryostatio/cryostat/pull/140#pullrequestreview-383100287", "createdAt": "2020-03-27T18:20:56Z", "commit": {"oid": "9dcf473a52edf16d1f4395420c11032c269150ed"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3133, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}