{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4NDY0NzE1", "number": 204, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQyMDowMDoxOFrOEO1mEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQyMDowMDoxOFrOEO1mEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzOTkzNjE3OnYy", "diffSide": "RIGHT", "path": "src/test/java/com/redhat/rhjmc/containerjfr/net/web/handlers/CorsEnablingHandlerTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQyMDowMDoxOFrOGyNw4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQyMDowMDoxOFrOGyNw4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTMwNzQ4OA==", "bodyText": "This just tests that the utility method getOrigin returns the expected value, but not that the CORS origin header is actually set. If you look at the HandlingTests lower down in this same file, ex. shouldAddHeadersToCORS, you could copy how that test works and assert that the CORS origin header is actually added to the HTTP response with the expected origin.", "url": "https://github.com/cryostatio/cryostat/pull/204#discussion_r455307488", "createdAt": "2020-07-15T20:00:18Z", "author": {"login": "andrewazores"}, "path": "src/test/java/com/redhat/rhjmc/containerjfr/net/web/handlers/CorsEnablingHandlerTest.java", "diffHunk": "@@ -93,6 +98,16 @@ void availabilityShouldDependOnEnvVar(boolean available) {\n         MatcherAssert.assertThat(handler.isAvailable(), Matchers.equalTo(available));\n     }\n \n+    @Test\n+    void shouldSetCustomOrigin() {\n+        Mockito.when(\n+                        env.getEnv(\n+                                CorsEnablingHandler.ENABLE_CORS_ENV,\n+                                CorsEnablingHandler.DEV_ORIGIN))\n+                .thenReturn(\"http://localhost:9065\");\n+        MatcherAssert.assertThat(handler.getOrigin(), Matchers.equalTo(\"http://localhost:9065\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "755d60cb12b788f1d126337cebe918ddaf0c48e5"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 840, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}