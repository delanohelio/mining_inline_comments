{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0MjIzNTQ2", "number": 230, "title": "add env vars to make RJMX credentials user configurable", "bodyText": "The explanation in the README might need some changes.", "createdAt": "2020-08-06T19:33:00Z", "url": "https://github.com/cryostatio/cryostat/pull/230", "merged": true, "mergeCommit": {"oid": "08a6db67ce5312cc4df243d663909e4650861ceb"}, "closed": true, "closedAt": "2020-08-07T18:05:02Z", "author": {"login": "Alexjsenn"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8VB8WAH2gAyNDY0MjIzNTQ2OjBjNzM4NjQxODI4ODM5MzA5MDk3NDQyNzA2MjEyNWFhNDdkZWZkZjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8oYXIgFqTQ2MzUwNDc2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0c7386418288393090974427062125aa47defdf8", "author": {"user": {"login": "Alexjsenn", "name": "Alex Senn"}}, "url": "https://github.com/cryostatio/cryostat/commit/0c7386418288393090974427062125aa47defdf8", "committedDate": "2020-08-06T19:31:40Z", "message": "add env vars to make RJMX credentials user configurable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7aa8d0fdd8563fa3f86a09be79e98f71fedb494", "author": {"user": {"login": "Alexjsenn", "name": "Alex Senn"}}, "url": "https://github.com/cryostatio/cryostat/commit/a7aa8d0fdd8563fa3f86a09be79e98f71fedb494", "committedDate": "2020-08-06T19:33:56Z", "message": "fixed if statement"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd825a25ed692f05c5f07df676ea605fd478e1c9", "author": {"user": {"login": "Alexjsenn", "name": "Alex Senn"}}, "url": "https://github.com/cryostatio/cryostat/commit/cd825a25ed692f05c5f07df676ea605fd478e1c9", "committedDate": "2020-08-06T20:27:49Z", "message": "update run.sh and override auth env var if user or password specified"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "499dfc4e40f7f31e27a65cd68c84013863b41020", "author": {"user": {"login": "Alexjsenn", "name": "Alex Senn"}}, "url": "https://github.com/cryostatio/cryostat/commit/499dfc4e40f7f31e27a65cd68c84013863b41020", "committedDate": "2020-08-07T14:17:13Z", "message": "fix condition statement for using rjmx auth"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "140ca66bc18348ac4d977c27b20c26fcd222de95", "author": {"user": {"login": "Alexjsenn", "name": "Alex Senn"}}, "url": "https://github.com/cryostatio/cryostat/commit/140ca66bc18348ac4d977c27b20c26fcd222de95", "committedDate": "2020-08-07T15:18:24Z", "message": "minor fix in condition statement"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzNDM2NTEy", "url": "https://github.com/cryostatio/cryostat/pull/230#pullrequestreview-463436512", "createdAt": "2020-08-07T16:14:19Z", "commit": {"oid": "140ca66bc18348ac4d977c27b20c26fcd222de95"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNjoxNDoxOVrOG9fxyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNjoxNDoxOVrOG9fxyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzEzNjk3MQ==", "bodyText": "I don't think we should document this JVM flag specifically - it's what happens under the covers, and is really the only way that JMX auth can be enabled, but this might be confusing to an end user trying to figure out how to configure auth. In practice, all that matters are the env vars CONTAINER_JFR_RJMX_{AUTH,USER,PASS}. When actually deploying a ContainerJFR image somewhere, those env vars are how the user should expect to configure their auth, not the JVM flag directly, since configuring the JVM flags would require them to build their own custom image with a modified entrypoint.sh.", "url": "https://github.com/cryostatio/cryostat/pull/230#discussion_r467136971", "createdAt": "2020-08-07T16:14:19Z", "author": {"login": "andrewazores"}, "path": "README.md", "diffHunk": "@@ -272,3 +272,11 @@ WebSocket SubProtocol header.\n If no appropriate auth manager is configured or can be automatically determined\n then the fallback is the NoopAuthManager, which does no external validation\n calls and simply accepts any provided token or credentials.\n+\n+## JMX AUTHORIZATION HANDLING\n+\n+JMX connections into `container-jfr` are secured using a username and password \n+(unless the following flag is set: `\"-Dcom.sun.management.jmxremote.authenticate=false\"`).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "140ca66bc18348ac4d977c27b20c26fcd222de95"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb1790ddc77e3896fc08adaecfc1fdf7c7816b19", "author": {"user": {"login": "Alexjsenn", "name": "Alex Senn"}}, "url": "https://github.com/cryostatio/cryostat/commit/fb1790ddc77e3896fc08adaecfc1fdf7c7816b19", "committedDate": "2020-08-07T16:42:23Z", "message": "update README"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzNDcxNjMy", "url": "https://github.com/cryostatio/cryostat/pull/230#pullrequestreview-463471632", "createdAt": "2020-08-07T17:10:18Z", "commit": {"oid": "fb1790ddc77e3896fc08adaecfc1fdf7c7816b19"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzNDk1MDk5", "url": "https://github.com/cryostatio/cryostat/pull/230#pullrequestreview-463495099", "createdAt": "2020-08-07T17:48:25Z", "commit": {"oid": "fb1790ddc77e3896fc08adaecfc1fdf7c7816b19"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNzo0ODoyNVrOG9iodA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNzo0ODoyNVrOG9iodA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzE4MzczMg==", "bodyText": "Let's rename this heading INCOMING JMX CONNECTION AUTHENTICATION or similar. LGTM otherwise!", "url": "https://github.com/cryostatio/cryostat/pull/230#discussion_r467183732", "createdAt": "2020-08-07T17:48:25Z", "author": {"login": "andrewazores"}, "path": "README.md", "diffHunk": "@@ -272,3 +272,10 @@ WebSocket SubProtocol header.\n If no appropriate auth manager is configured or can be automatically determined\n then the fallback is the NoopAuthManager, which does no external validation\n calls and simply accepts any provided token or credentials.\n+\n+## JMX AUTHORIZATION HANDLING", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fb1790ddc77e3896fc08adaecfc1fdf7c7816b19"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7640bc2d6f43b2209e3542f50bc449a237dbce8", "author": {"user": {"login": "Alexjsenn", "name": "Alex Senn"}}, "url": "https://github.com/cryostatio/cryostat/commit/d7640bc2d6f43b2209e3542f50bc449a237dbce8", "committedDate": "2020-08-07T18:02:41Z", "message": "change heading in README"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzNTA0NzYy", "url": "https://github.com/cryostatio/cryostat/pull/230#pullrequestreview-463504762", "createdAt": "2020-08-07T18:04:21Z", "commit": {"oid": "d7640bc2d6f43b2209e3542f50bc449a237dbce8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3191, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}