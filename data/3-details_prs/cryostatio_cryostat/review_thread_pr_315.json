{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEwOTM5NDE0", "number": 315, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxOTo1Mzo1MFrOEyh2vg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMjowOToxNVrOEyktvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxNDE4OTQyOnYy", "diffSide": "RIGHT", "path": "HTTP_API.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxOTo1Mzo1MFrOHpOZ3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMDowMDo1OFrOHpOqAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk4OTY2Mw==", "bodyText": "typo: \"can be either binary of base64\"?", "url": "https://github.com/cryostatio/cryostat/pull/315#discussion_r512989663", "createdAt": "2020-10-27T19:53:50Z", "author": {"login": "andrewazores"}, "path": "HTTP_API.md", "diffHunk": "@@ -1217,3 +1219,30 @@\n     $ curl -X POST localhost:8181/api/v2/targets/localhost/snapshot\n     {\"downloadUrl\":\"http://192.168.0.109:8181/api/v1/targets/service:jmx:rmi:%2F%2F%2Fjndi%2Frmi:%2F%2Flocalhost:9091%2Fjmxrmi/recordings/snapshot-1\",\"reportUrl\":\"http://192.168.0.109:8181/api/v1/targets/service:jmx:rmi:%2F%2F%2Fjndi%2Frmi:%2F%2Flocalhost:9091%2Fjmxrmi/reports/snapshot-1\",\"id\":1,\"name\":\"snapshot-1\",\"state\":\"STOPPED\",\"startTime\":1601998841300,\"duration\":0,\"continuous\":true,\"toDisk\":true,\"maxSize\":0,\"maxAge\":0}\n     ```\n+\n+### Security\n+\n+* #### `CertificatePostHandler`\n+\n+    ###### synopsis\n+    Uploads an SSL Certificate from the client, and saves it to the truststore directory.\n+\n+    ###### request\n+    `POST /api/v2/certificates`\n+\n+    The certificate must be DER-encoded and can be either binary of base64. The supported extensions are .der, .cer, .pem. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21afa198864774e4c17235cc9120f3076621aa50"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk5Mzc5Mw==", "bodyText": "My bad", "url": "https://github.com/cryostatio/cryostat/pull/315#discussion_r512993793", "createdAt": "2020-10-27T20:00:58Z", "author": {"login": "Alexjsenn"}, "path": "HTTP_API.md", "diffHunk": "@@ -1217,3 +1219,30 @@\n     $ curl -X POST localhost:8181/api/v2/targets/localhost/snapshot\n     {\"downloadUrl\":\"http://192.168.0.109:8181/api/v1/targets/service:jmx:rmi:%2F%2F%2Fjndi%2Frmi:%2F%2Flocalhost:9091%2Fjmxrmi/recordings/snapshot-1\",\"reportUrl\":\"http://192.168.0.109:8181/api/v1/targets/service:jmx:rmi:%2F%2F%2Fjndi%2Frmi:%2F%2Flocalhost:9091%2Fjmxrmi/reports/snapshot-1\",\"id\":1,\"name\":\"snapshot-1\",\"state\":\"STOPPED\",\"startTime\":1601998841300,\"duration\":0,\"continuous\":true,\"toDisk\":true,\"maxSize\":0,\"maxAge\":0}\n     ```\n+\n+### Security\n+\n+* #### `CertificatePostHandler`\n+\n+    ###### synopsis\n+    Uploads an SSL Certificate from the client, and saves it to the truststore directory.\n+\n+    ###### request\n+    `POST /api/v2/certificates`\n+\n+    The certificate must be DER-encoded and can be either binary of base64. The supported extensions are .der, .cer, .pem. ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjk4OTY2Mw=="}, "originalCommit": {"oid": "21afa198864774e4c17235cc9120f3076621aa50"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxNDQwNDEzOnYy", "diffSide": "RIGHT", "path": "HTTP_API.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMDo1NDoxN1rOHpQdJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMDo1NDoxN1rOHpQdJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzAyMzI3MQ==", "bodyText": "Just for consistency, I think we should stick to localhost:8181 without the https:// for the URL.\nThere should also be the response body at the end of this example I think?\nSaved: /truststore/vertx-fib-demo.cer", "url": "https://github.com/cryostatio/cryostat/pull/315#discussion_r513023271", "createdAt": "2020-10-27T20:54:17Z", "author": {"login": "vic-ma"}, "path": "HTTP_API.md", "diffHunk": "@@ -1217,3 +1219,30 @@\n     $ curl -X POST localhost:8181/api/v2/targets/localhost/snapshot\n     {\"downloadUrl\":\"http://192.168.0.109:8181/api/v1/targets/service:jmx:rmi:%2F%2F%2Fjndi%2Frmi:%2F%2Flocalhost:9091%2Fjmxrmi/recordings/snapshot-1\",\"reportUrl\":\"http://192.168.0.109:8181/api/v1/targets/service:jmx:rmi:%2F%2F%2Fjndi%2Frmi:%2F%2Flocalhost:9091%2Fjmxrmi/reports/snapshot-1\",\"id\":1,\"name\":\"snapshot-1\",\"state\":\"STOPPED\",\"startTime\":1601998841300,\"duration\":0,\"continuous\":true,\"toDisk\":true,\"maxSize\":0,\"maxAge\":0}\n     ```\n+\n+### Security\n+\n+* #### `CertificatePostHandler`\n+\n+    ###### synopsis\n+    Uploads an SSL Certificate from the client, and saves it to the truststore directory.\n+\n+    ###### request\n+    `POST /api/v2/certificates`\n+\n+    The certificate must be DER-encoded and can be either binary or base64. The supported extensions are .der, .cer, .pem. \n+    The certificate should be uploaded in a form with the name `cert`.\n+\n+    ###### response\n+    `200` - The body is `saved: ` followed by the path of the saved file.\n+\n+    `400` - No `cert` was found in the request form. The body is the error message `A file named \"cert\" was not included in the request`.\n+    \n+    `409` - A certificate with the same filename already exists in the truststore directory. The body includes the path where the file already exists.\n+\n+    `500` - The `TRUSTSTORE_DIR` environment variable is not set, or there is an unexpected error. The body is an error message.\n+\n+    ###### example\n+    ```\n+    $ curl -F cert=@vertx-fib-demo.cer https://localhost:8181/api/v2/certificates", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f5a0c640d8bab8c3b5ad1e7a89773c74c1f624c"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxNDQyNjM0OnYy", "diffSide": "RIGHT", "path": "HTTP_API.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMDo1OToyNFrOHpQrCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMTo1ODoxN1rOHpSjlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzAyNjgyNQ==", "bodyText": "I think this would be better formatted as:\n\nThe body is saved: $PATH, where $PATH is the path of the saved file.\n\nSimilar to the other handlers, just so it's more explicit, and also because it looks like the space in saved:  messes with the normal space after.", "url": "https://github.com/cryostatio/cryostat/pull/315#discussion_r513026825", "createdAt": "2020-10-27T20:59:24Z", "author": {"login": "vic-ma"}, "path": "HTTP_API.md", "diffHunk": "@@ -1217,3 +1219,30 @@\n     $ curl -X POST localhost:8181/api/v2/targets/localhost/snapshot\n     {\"downloadUrl\":\"http://192.168.0.109:8181/api/v1/targets/service:jmx:rmi:%2F%2F%2Fjndi%2Frmi:%2F%2Flocalhost:9091%2Fjmxrmi/recordings/snapshot-1\",\"reportUrl\":\"http://192.168.0.109:8181/api/v1/targets/service:jmx:rmi:%2F%2F%2Fjndi%2Frmi:%2F%2Flocalhost:9091%2Fjmxrmi/reports/snapshot-1\",\"id\":1,\"name\":\"snapshot-1\",\"state\":\"STOPPED\",\"startTime\":1601998841300,\"duration\":0,\"continuous\":true,\"toDisk\":true,\"maxSize\":0,\"maxAge\":0}\n     ```\n+\n+### Security\n+\n+* #### `CertificatePostHandler`\n+\n+    ###### synopsis\n+    Uploads an SSL Certificate from the client, and saves it to the truststore directory.\n+\n+    ###### request\n+    `POST /api/v2/certificates`\n+\n+    The certificate must be DER-encoded and can be either binary or base64. The supported extensions are .der, .cer, .pem. \n+    The certificate should be uploaded in a form with the name `cert`.\n+\n+    ###### response\n+    `200` - The body is `saved: ` followed by the path of the saved file.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2f5a0c640d8bab8c3b5ad1e7a89773c74c1f624c"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzA1NzY4Nw==", "bodyText": "Ah, makes sense!", "url": "https://github.com/cryostatio/cryostat/pull/315#discussion_r513057687", "createdAt": "2020-10-27T21:58:17Z", "author": {"login": "Alexjsenn"}, "path": "HTTP_API.md", "diffHunk": "@@ -1217,3 +1219,30 @@\n     $ curl -X POST localhost:8181/api/v2/targets/localhost/snapshot\n     {\"downloadUrl\":\"http://192.168.0.109:8181/api/v1/targets/service:jmx:rmi:%2F%2F%2Fjndi%2Frmi:%2F%2Flocalhost:9091%2Fjmxrmi/recordings/snapshot-1\",\"reportUrl\":\"http://192.168.0.109:8181/api/v1/targets/service:jmx:rmi:%2F%2F%2Fjndi%2Frmi:%2F%2Flocalhost:9091%2Fjmxrmi/reports/snapshot-1\",\"id\":1,\"name\":\"snapshot-1\",\"state\":\"STOPPED\",\"startTime\":1601998841300,\"duration\":0,\"continuous\":true,\"toDisk\":true,\"maxSize\":0,\"maxAge\":0}\n     ```\n+\n+### Security\n+\n+* #### `CertificatePostHandler`\n+\n+    ###### synopsis\n+    Uploads an SSL Certificate from the client, and saves it to the truststore directory.\n+\n+    ###### request\n+    `POST /api/v2/certificates`\n+\n+    The certificate must be DER-encoded and can be either binary or base64. The supported extensions are .der, .cer, .pem. \n+    The certificate should be uploaded in a form with the name `cert`.\n+\n+    ###### response\n+    `200` - The body is `saved: ` followed by the path of the saved file.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzAyNjgyNQ=="}, "originalCommit": {"oid": "2f5a0c640d8bab8c3b5ad1e7a89773c74c1f624c"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxNDY1NzkxOnYy", "diffSide": "RIGHT", "path": "HTTP_API.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMjowOToxNVrOHpS29A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMjowOToxNVrOHpS29A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzA2MjY0NA==", "bodyText": "Ah, one last thing, it looks like the saved: here should be capitalized.", "url": "https://github.com/cryostatio/cryostat/pull/315#discussion_r513062644", "createdAt": "2020-10-27T22:09:15Z", "author": {"login": "vic-ma"}, "path": "HTTP_API.md", "diffHunk": "@@ -1217,3 +1219,31 @@\n     $ curl -X POST localhost:8181/api/v2/targets/localhost/snapshot\n     {\"downloadUrl\":\"http://192.168.0.109:8181/api/v1/targets/service:jmx:rmi:%2F%2F%2Fjndi%2Frmi:%2F%2Flocalhost:9091%2Fjmxrmi/recordings/snapshot-1\",\"reportUrl\":\"http://192.168.0.109:8181/api/v1/targets/service:jmx:rmi:%2F%2F%2Fjndi%2Frmi:%2F%2Flocalhost:9091%2Fjmxrmi/reports/snapshot-1\",\"id\":1,\"name\":\"snapshot-1\",\"state\":\"STOPPED\",\"startTime\":1601998841300,\"duration\":0,\"continuous\":true,\"toDisk\":true,\"maxSize\":0,\"maxAge\":0}\n     ```\n+\n+### Security\n+\n+* #### `CertificatePostHandler`\n+\n+    ###### synopsis\n+    Uploads an SSL Certificate from the client, and saves it to the truststore directory.\n+\n+    ###### request\n+    `POST /api/v2/certificates`\n+\n+    The certificate must be DER-encoded and can be either binary or base64. The supported extensions are .der, .cer, .pem. \n+    The certificate should be uploaded in a form with the name `cert`.\n+\n+    ###### response\n+    `200` - The body is `saved: $PATH`, where `$PATH` is the path of the saved file.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5e7ba847510cc8ccf215818092a5202edd911abf"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 793, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}