{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzNjA0MzQ1", "number": 1025, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxMzowODo0MlrOE7Cv0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxMzowODo0MlrOE7Cv0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwMzQ2NDUxOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/prebid/server/bidder/admixer/AdmixerBidder.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxMzowODo0MlrOH2dYvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxMzoyMjoyMFrOH2d7CA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjg2NjYyMQ==", "bodyText": "This can throw NumberFormatException which we're not catching.", "url": "https://github.com/prebid/prebid-server-java/pull/1025#discussion_r526866621", "createdAt": "2020-11-19T13:08:42Z", "author": {"login": "rpanchyk"}, "path": "src/main/java/org/prebid/server/bidder/admixer/AdmixerBidder.java", "diffHunk": "@@ -83,21 +79,25 @@ public AdmixerBidder(String endpointUrl, JacksonMapper mapper) {\n     }\n \n     private ExtImpAdmixer parseImpExt(Imp imp) {\n+        final ExtImpAdmixer extImpAdmixer;\n         try {\n-            return mapper.mapper().convertValue(imp.getExt(), ADMIXER_EXT_TYPE_REFERENCE).getBidder();\n+            extImpAdmixer = mapper.mapper().convertValue(imp.getExt(), ADMIXER_EXT_TYPE_REFERENCE).getBidder();\n         } catch (IllegalArgumentException e) {\n-            throw new PreBidException(e.getMessage(), e);\n+            throw new PreBidException(String.format(\"Wrong Admixer bidder ext in imp with id : %s\", imp.getId()));\n         }\n-    }\n-\n-    private Imp processImp(Imp imp, ExtImpAdmixer extImpAdmixer) {\n-        if (extImpAdmixer.getZone().length() != 36) {\n+        if (StringUtils.length(extImpAdmixer.getZone()) != 36) {\n             throw new PreBidException(\"ZoneId must be UUID/GUID\");\n         }\n \n+        return extImpAdmixer;\n+    }\n+\n+    private Imp processImp(Imp imp, ExtImpAdmixer extImpAdmixer) {\n+        final Double extImpFloor = extImpAdmixer.getCustomFloor();\n+        final BigDecimal customFloor = extImpFloor != null ? BigDecimal.valueOf(extImpFloor) : BigDecimal.ZERO;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e27428b1610953875bab4085e2231fe3d82e50e1"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjg3NTQwMA==", "bodyText": "My bad, no issue. Value is already checked for null before converting.", "url": "https://github.com/prebid/prebid-server-java/pull/1025#discussion_r526875400", "createdAt": "2020-11-19T13:22:20Z", "author": {"login": "rpanchyk"}, "path": "src/main/java/org/prebid/server/bidder/admixer/AdmixerBidder.java", "diffHunk": "@@ -83,21 +79,25 @@ public AdmixerBidder(String endpointUrl, JacksonMapper mapper) {\n     }\n \n     private ExtImpAdmixer parseImpExt(Imp imp) {\n+        final ExtImpAdmixer extImpAdmixer;\n         try {\n-            return mapper.mapper().convertValue(imp.getExt(), ADMIXER_EXT_TYPE_REFERENCE).getBidder();\n+            extImpAdmixer = mapper.mapper().convertValue(imp.getExt(), ADMIXER_EXT_TYPE_REFERENCE).getBidder();\n         } catch (IllegalArgumentException e) {\n-            throw new PreBidException(e.getMessage(), e);\n+            throw new PreBidException(String.format(\"Wrong Admixer bidder ext in imp with id : %s\", imp.getId()));\n         }\n-    }\n-\n-    private Imp processImp(Imp imp, ExtImpAdmixer extImpAdmixer) {\n-        if (extImpAdmixer.getZone().length() != 36) {\n+        if (StringUtils.length(extImpAdmixer.getZone()) != 36) {\n             throw new PreBidException(\"ZoneId must be UUID/GUID\");\n         }\n \n+        return extImpAdmixer;\n+    }\n+\n+    private Imp processImp(Imp imp, ExtImpAdmixer extImpAdmixer) {\n+        final Double extImpFloor = extImpAdmixer.getCustomFloor();\n+        final BigDecimal customFloor = extImpFloor != null ? BigDecimal.valueOf(extImpFloor) : BigDecimal.ZERO;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjg2NjYyMQ=="}, "originalCommit": {"oid": "e27428b1610953875bab4085e2231fe3d82e50e1"}, "originalPosition": 45}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3821, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}