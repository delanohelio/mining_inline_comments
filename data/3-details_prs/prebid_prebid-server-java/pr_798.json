{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2ODA0NjUy", "number": 798, "title": "Make TCF metrics to reflect real bidding", "bodyText": "Changes:\n\nAdded new metric: privacy.tcf.(v1,v2).requests - number of requests by TCF version.\nDon't send userid_removed and geo_masked TCF metrics if no sensitive private information to hide.\nDon't send userid_removed, geo_masked and analytics_blocked TCF metrics if request_blocked is triggered by privacy enforcement.\nFix TCF geo metrics (unknown_geo, in_geo, out_geo) to be send only for valid consent string.", "createdAt": "2020-07-09T11:39:08Z", "url": "https://github.com/prebid/prebid-server-java/pull/798", "merged": true, "mergeCommit": {"oid": "de4a833c28200e9380cc436be50e68ecbe8fcb0c"}, "closed": true, "closedAt": "2020-12-11T11:07:33Z", "author": {"login": "rpanchyk"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczNZNJgH2gAyNDQ2ODA0NjUyOmZiYWVmZjFkYjgzMWQ5NzdkMWYxYTlhZGM0NGVjMzkwODQ4NWY0ODM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdlFxkXAH2gAyNDQ2ODA0NjUyOjdjYjA0NWFkY2NlNzIwNjBhNmFjOTY1ZjFhZTRiMDI4YTRmNmI1N2E=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fbaeff1db831d977d1f1a9adc44ec3908485f483", "author": {"user": {"login": "rpanchyk", "name": null}}, "url": "https://github.com/prebid/prebid-server-java/commit/fbaeff1db831d977d1f1a9adc44ec3908485f483", "committedDate": "2020-07-09T11:32:31Z", "message": "Make TCF metrics to reflect real bidding"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1NTQ4Mzcz", "url": "https://github.com/prebid/prebid-server-java/pull/798#pullrequestreview-445548373", "createdAt": "2020-07-09T12:01:13Z", "commit": {"oid": "fbaeff1db831d977d1f1a9adc44ec3908485f483"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c7b2225c1570eab5dba12ed647f3b68f765c40a", "author": {"user": null}, "url": "https://github.com/prebid/prebid-server-java/commit/4c7b2225c1570eab5dba12ed647f3b68f765c40a", "committedDate": "2020-08-11T10:13:40Z", "message": "Merge branch 'master' into tcf-metrics-reflects-real-bidding"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ecfce8599e76fab8b2a25fac07961f4cba7900d2", "author": {"user": null}, "url": "https://github.com/prebid/prebid-server-java/commit/ecfce8599e76fab8b2a25fac07961f4cba7900d2", "committedDate": "2020-08-11T10:16:37Z", "message": "Describe privacy.lmt and privacy.coppa metrics in documentation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5NzAyMDgx", "url": "https://github.com/prebid/prebid-server-java/pull/798#pullrequestreview-479702081", "createdAt": "2020-09-01T12:43:41Z", "commit": {"oid": "ecfce8599e76fab8b2a25fac07961f4cba7900d2"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d7542fcd24a641bd42e603f87a34044c781b53f", "author": {"user": {"login": "DGarbar", "name": "Dmitriy"}}, "url": "https://github.com/prebid/prebid-server-java/commit/8d7542fcd24a641bd42e603f87a34044c781b53f", "committedDate": "2020-09-01T12:48:14Z", "message": "Merge branch 'master' into tcf-metrics-reflects-real-bidding"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca805024905177bd4e6574409cc50576be41de44", "author": {"user": {"login": "DGarbar", "name": "Dmitriy"}}, "url": "https://github.com/prebid/prebid-server-java/commit/ca805024905177bd4e6574409cc50576be41de44", "committedDate": "2020-09-01T12:51:18Z", "message": "fix code style"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "945c275e26258bf109a98a255c365f40337b4df8", "author": {"user": {"login": "DGarbar", "name": "Dmitriy"}}, "url": "https://github.com/prebid/prebid-server-java/commit/945c275e26258bf109a98a255c365f40337b4df8", "committedDate": "2020-09-01T13:01:25Z", "message": "fix tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5NzIwNTMy", "url": "https://github.com/prebid/prebid-server-java/pull/798#pullrequestreview-479720532", "createdAt": "2020-09-01T13:05:53Z", "commit": {"oid": "945c275e26258bf109a98a255c365f40337b4df8"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db927081bbf070f840bc3cb738f15d665e4b34a4", "author": {"user": {"login": "rpanchyk", "name": null}}, "url": "https://github.com/prebid/prebid-server-java/commit/db927081bbf070f840bc3cb738f15d665e4b34a4", "committedDate": "2020-11-23T13:52:30Z", "message": "Merge branch 'master' into tcf-metrics-reflects-real-bidding\n\n# Conflicts:\n#\tsrc/main/java/org/prebid/server/auction/PrivacyEnforcementService.java\n#\tsrc/main/java/org/prebid/server/privacy/gdpr/TcfDefinerService.java\n#\tsrc/test/java/org/prebid/server/auction/PrivacyEnforcementServiceTest.java\n#\tsrc/test/java/org/prebid/server/metric/MetricsTest.java\n#\tsrc/test/java/org/prebid/server/privacy/gdpr/TcfDefinerServiceTest.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3NjI4MDcy", "url": "https://github.com/prebid/prebid-server-java/pull/798#pullrequestreview-537628072", "createdAt": "2020-11-24T15:27:41Z", "commit": {"oid": "db927081bbf070f840bc3cb738f15d665e4b34a4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxNToyNzo0MVrOH5GUsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxNToyNzo0MVrOH5GUsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTYzNDQ4Mg==", "bodyText": "This comment seems to be obsolete now", "url": "https://github.com/prebid/prebid-server-java/pull/798#discussion_r529634482", "createdAt": "2020-11-24T15:27:41Z", "author": {"login": "schernysh"}, "path": "src/main/java/org/prebid/server/auction/PrivacyEnforcementService.java", "diffHunk": "@@ -160,6 +161,7 @@ private static RequestLogInfo requestLogInfo(MetricName requestType, BidRequest\n         return RequestLogInfo.of(requestType, null, accountId);\n     }\n \n+    // TODO: Consider to remove ExtUser from method signature since it was migrated from JsonNode to POJO", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "db927081bbf070f840bc3cb738f15d665e4b34a4"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70046b9401f17a90fc21eeb68503b3f54d443e45", "author": {"user": {"login": "rpanchyk", "name": null}}, "url": "https://github.com/prebid/prebid-server-java/commit/70046b9401f17a90fc21eeb68503b3f54d443e45", "committedDate": "2020-11-26T13:57:19Z", "message": "Fixes after review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5MzM3NTI3", "url": "https://github.com/prebid/prebid-server-java/pull/798#pullrequestreview-539337527", "createdAt": "2020-11-26T13:58:53Z", "commit": {"oid": "70046b9401f17a90fc21eeb68503b3f54d443e45"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "251f3f196c9822225d6340534ebbea599b2d57f9", "author": {"user": {"login": "rpanchyk", "name": null}}, "url": "https://github.com/prebid/prebid-server-java/commit/251f3f196c9822225d6340534ebbea599b2d57f9", "committedDate": "2020-12-09T14:02:44Z", "message": "Merge branch 'master' into tcf-metrics-reflects-real-bidding"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7cb045adcce72060a6ac965f1ae4b028a4f6b57a", "author": {"user": {"login": "rpanchyk", "name": null}}, "url": "https://github.com/prebid/prebid-server-java/commit/7cb045adcce72060a6ac965f1ae4b028a4f6b57a", "committedDate": "2020-12-11T10:56:06Z", "message": "Merge branch 'master' into tcf-metrics-reflects-real-bidding"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3071, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}