{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5NTYyMzky", "number": 723, "title": "Add ignore for empty vendor list", "bodyText": "", "createdAt": "2020-05-18T15:05:50Z", "url": "https://github.com/prebid/prebid-server-java/pull/723", "merged": true, "mergeCommit": {"oid": "6088454c26bf3147ef883ec21fb4ad0d1a01db6d"}, "closed": true, "closedAt": "2020-05-18T15:41:32Z", "author": {"login": "DGarbar"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcihQwygH2gAyNDE5NTYyMzkyOjEwZmI2YjMyOTk2MDhmMzY2YmIyNTljNDUyYWMzZGZjMjJhODI3Y2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcihqhOgFqTQxMzcwNzg5Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "10fb6b3299608f366bb259c452ac3dfc22a827ce", "author": {"user": {"login": "DGarbar", "name": "Dmitriy"}}, "url": "https://github.com/prebid/prebid-server-java/commit/10fb6b3299608f366bb259c452ac3dfc22a827ce", "committedDate": "2020-05-18T15:04:41Z", "message": "Ignore empty vendor list"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzNjkzMTc0", "url": "https://github.com/prebid/prebid-server-java/pull/723#pullrequestreview-413693174", "createdAt": "2020-05-18T15:16:07Z", "commit": {"oid": "10fb6b3299608f366bb259c452ac3dfc22a827ce"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxNToxNjowN1rOGW71Ng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxNToyMDo0M1rOGW8BWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjcwMjEzNA==", "bodyText": "I think we can leave 0 here, since it is non-regular version.", "url": "https://github.com/prebid/prebid-server-java/pull/723#discussion_r426702134", "createdAt": "2020-05-18T15:16:07Z", "author": {"login": "rpanchyk"}, "path": "src/main/java/org/prebid/server/privacy/gdpr/model/TCStringEmpty.java", "diffHunk": "@@ -54,7 +54,7 @@ public String getConsentLanguage() {\n \n     @Override\n     public int getVendorListVersion() {\n-        return 0;\n+        return -1;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10fb6b3299608f366bb259c452ac3dfc22a827ce"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjcwNTI0MA==", "bodyText": "We can do version checking as <= 0 (see upper comment).\nAlso, i'd like see more granular message here, with included input version, like: Vendor list of {0} version is not valid", "url": "https://github.com/prebid/prebid-server-java/pull/723#discussion_r426705240", "createdAt": "2020-05-18T15:20:43Z", "author": {"login": "rpanchyk"}, "path": "src/main/java/org/prebid/server/privacy/gdpr/vendorlist/VendorListService.java", "diffHunk": "@@ -159,6 +159,10 @@ private static void createAndCheckWritePermissionsFor(FileSystem fileSystem, Str\n      * Returns a map with vendor ID as a key and a set of purposes as a value for given vendor list version.\n      */\n     public Future<Map<Integer, V>> forVersion(int version) {\n+        if (version == -1) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10fb6b3299608f366bb259c452ac3dfc22a827ce"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ae1fcd2ab9f1ad08f5c5e1db5e68bf14f35bed8", "author": {"user": {"login": "DGarbar", "name": "Dmitriy"}}, "url": "https://github.com/prebid/prebid-server-java/commit/8ae1fcd2ab9f1ad08f5c5e1db5e68bf14f35bed8", "committedDate": "2020-05-18T15:28:53Z", "message": "fix after review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzNzA3ODky", "url": "https://github.com/prebid/prebid-server-java/pull/723#pullrequestreview-413707892", "createdAt": "2020-05-18T15:32:49Z", "commit": {"oid": "8ae1fcd2ab9f1ad08f5c5e1db5e68bf14f35bed8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3186, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}