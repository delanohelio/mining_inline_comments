{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3MzQzMTc2", "number": 863, "title": "Update imp extension with zoneId for KubientBidder", "bodyText": "Add zoneId to imp extension:\n\"imp\": [\n{\n\"id\": \"test-imp-banner-id\",\n\"banner\": {\n\"format\": [\n{\n\"w\": 300,\n\"h\": 250\n},\n{\n\"w\": 300,\n\"h\": 600\n}\n]\n},\n\"ext\": {\n\"bidder\": {\n\"zoneid\": \"9042\"\n}\n}\n}\n]", "createdAt": "2020-08-13T12:08:45Z", "url": "https://github.com/prebid/prebid-server-java/pull/863", "merged": true, "mergeCommit": {"oid": "ff51360647a872dd386877a21b76f035e4785422"}, "closed": true, "closedAt": "2020-09-18T09:26:43Z", "author": {"login": "AndriyPavlyuk"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-e2CrAH2gAyNDY3MzQzMTc2OjlmZDk0MjkxNDhhZjg5OWY4YzIxNjkyNjk0MWU1Zjg4Y2Q2ZDU5MWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdKCHaVgFqTQ5MTI5Njk4Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9fd9429148af899f8c216926941e5f88cd6d591d", "author": {"user": {"login": "AndriyPavlyuk", "name": null}}, "url": "https://github.com/prebid/prebid-server-java/commit/9fd9429148af899f8c216926941e5f88cd6d591d", "committedDate": "2020-08-13T12:05:34Z", "message": "Update imp extention with zoneId"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2NzUzNzQ2", "url": "https://github.com/prebid/prebid-server-java/pull/863#pullrequestreview-466753746", "createdAt": "2020-08-13T13:20:44Z", "commit": {"oid": "9fd9429148af899f8c216926941e5f88cd6d591d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxMzoyMDo0NFrOHALMnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxMzoyNTo1N1rOHALZ5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTk0NTUwMQ==", "bodyText": "Just use special Result method for this occurrence", "url": "https://github.com/prebid/prebid-server-java/pull/863#discussion_r469945501", "createdAt": "2020-08-13T13:20:44Z", "author": {"login": "DGarbar"}, "path": "src/main/java/org/prebid/server/bidder/kubient/KubientBidder.java", "diffHunk": "@@ -46,6 +55,21 @@ public KubientBidder(String endpointUrl, JacksonMapper mapper) {\n \n     @Override\n     public Result<List<HttpRequest<BidRequest>>> makeHttpRequests(BidRequest request) {\n+        final List<BidderError> errors = new ArrayList<>();\n+\n+        if (CollectionUtils.isEmpty(request.getImp())) {\n+            errors.add(BidderError.badInput(\"No valid impressions in the bid request\"));\n+            return Result.of(Collections.emptyList(), errors);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9fd9429148af899f8c216926941e5f88cd6d591d"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTk0ODQxMg==", "bodyText": "just validateImpExt", "url": "https://github.com/prebid/prebid-server-java/pull/863#discussion_r469948412", "createdAt": "2020-08-13T13:25:12Z", "author": {"login": "DGarbar"}, "path": "src/main/java/org/prebid/server/bidder/kubient/KubientBidder.java", "diffHunk": "@@ -46,6 +55,21 @@ public KubientBidder(String endpointUrl, JacksonMapper mapper) {\n \n     @Override\n     public Result<List<HttpRequest<BidRequest>>> makeHttpRequests(BidRequest request) {\n+        final List<BidderError> errors = new ArrayList<>();\n+\n+        if (CollectionUtils.isEmpty(request.getImp())) {\n+            errors.add(BidderError.badInput(\"No valid impressions in the bid request\"));\n+            return Result.of(Collections.emptyList(), errors);\n+        }\n+\n+        for (Imp imp : request.getImp()) {\n+            try {\n+                parseAndValidateImpExt(imp);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9fd9429148af899f8c216926941e5f88cd6d591d"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTk0ODkwMA==", "bodyText": "They will return empty result with errors if there any", "url": "https://github.com/prebid/prebid-server-java/pull/863#discussion_r469948900", "createdAt": "2020-08-13T13:25:57Z", "author": {"login": "DGarbar"}, "path": "src/main/java/org/prebid/server/bidder/kubient/KubientBidder.java", "diffHunk": "@@ -62,7 +86,21 @@ public KubientBidder(String endpointUrl, JacksonMapper mapper) {\n                         .headers(HttpUtil.headers())\n                         .payload(request)\n                         .build()),\n-                Collections.emptyList());\n+                errors);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9fd9429148af899f8c216926941e5f88cd6d591d"}, "originalPosition": 63}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76def6165e60fbeefc8adc42caaa2fa6b24f1f33", "author": {"user": {"login": "AndriyPavlyuk", "name": null}}, "url": "https://github.com/prebid/prebid-server-java/commit/76def6165e60fbeefc8adc42caaa2fa6b24f1f33", "committedDate": "2020-08-13T14:30:01Z", "message": "Fix caching of errors"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3NTMyMjA2", "url": "https://github.com/prebid/prebid-server-java/pull/863#pullrequestreview-467532206", "createdAt": "2020-08-14T12:23:38Z", "commit": {"oid": "76def6165e60fbeefc8adc42caaa2fa6b24f1f33"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ee214157e46d5a7cfeb69da73b585c07e9d45ae", "author": {"user": {"login": "rpanchyk", "name": null}}, "url": "https://github.com/prebid/prebid-server-java/commit/4ee214157e46d5a7cfeb69da73b585c07e9d45ae", "committedDate": "2020-09-18T09:15:14Z", "message": "Merge branch 'master' into kubient-add-extimp-parameters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58b12c054addd508dff83ddc3520602f6d36c4a2", "author": {"user": {"login": "rpanchyk", "name": null}}, "url": "https://github.com/prebid/prebid-server-java/commit/58b12c054addd508dff83ddc3520602f6d36c4a2", "committedDate": "2020-09-18T09:23:17Z", "message": "Fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxMjk2OTgz", "url": "https://github.com/prebid/prebid-server-java/pull/863#pullrequestreview-491296983", "createdAt": "2020-09-18T09:24:23Z", "commit": {"oid": "58b12c054addd508dff83ddc3520602f6d36c4a2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3130, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}