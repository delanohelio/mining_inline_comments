{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0NjkzMjE0", "number": 959, "title": "Default account configuration and account status support", "bodyText": "", "createdAt": "2020-10-16T08:54:37Z", "url": "https://github.com/prebid/prebid-server-java/pull/959", "merged": true, "mergeCommit": {"oid": "220481c3a8e2616340fc06964d6b3c5cc6de4604"}, "closed": true, "closedAt": "2021-01-15T13:43:37Z", "author": {"login": "schernysh"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSyRMFAH2gAyNTA0NjkzMjE0OmY5Zjk0MzMyZTAxM2MzZjc3ZDZlZmY2YjAyOTQ2MTM2Yjc4ZmYxODE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdwF_cCgFqTU2ODMzODQ3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f9f94332e013c3f77d6eff6b02946136b78ff181", "author": {"user": null}, "url": "https://github.com/prebid/prebid-server-java/commit/f9f94332e013c3f77d6eff6b02946136b78ff181", "committedDate": "2020-10-15T14:01:54Z", "message": "Add support for default account configuration values in application config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3dd6923f3b41daf1f986e4755c440001605bcaaa", "author": {"user": null}, "url": "https://github.com/prebid/prebid-server-java/commit/3dd6923f3b41daf1f986e4755c440001605bcaaa", "committedDate": "2020-10-16T08:49:31Z", "message": "Take into consideration account status"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00cff334c9d4861d407f596134538e0a02a8a44a", "author": {"user": null}, "url": "https://github.com/prebid/prebid-server-java/commit/00cff334c9d4861d407f596134538e0a02a8a44a", "committedDate": "2020-10-16T08:54:00Z", "message": "Update documentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00dd80988b2e56cf77987eb260b34978b3c51184", "author": {"user": null}, "url": "https://github.com/prebid/prebid-server-java/commit/00dd80988b2e56cf77987eb260b34978b3c51184", "committedDate": "2020-12-22T09:16:21Z", "message": "Merge branch 'master' into account-config-retrofit"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY3MjIwMTY3", "url": "https://github.com/prebid/prebid-server-java/pull/959#pullrequestreview-567220167", "createdAt": "2021-01-13T13:29:46Z", "commit": {"oid": "00dd80988b2e56cf77987eb260b34978b3c51184"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xM1QxMzoyOTo0NlrOISvPtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xM1QxMzozMjozOVrOISvWrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NjUxOTM0OA==", "bodyText": "Why this annotation required ?", "url": "https://github.com/prebid/prebid-server-java/pull/959#discussion_r556519348", "createdAt": "2021-01-13T13:29:46Z", "author": {"login": "DGarbar"}, "path": "src/main/java/org/prebid/server/spring/config/model/AccountConfigurationProperties.java", "diffHunk": "@@ -0,0 +1,58 @@\n+package org.prebid.server.spring.config.model;\n+\n+import lombok.Data;\n+import lombok.NoArgsConstructor;\n+import org.prebid.server.json.JacksonMapper;\n+import org.prebid.server.settings.model.Account;\n+import org.prebid.server.settings.model.AccountAnalyticsConfig;\n+import org.prebid.server.settings.model.AccountGdprConfig;\n+import org.prebid.server.settings.model.AccountStatus;\n+import org.springframework.validation.annotation.Validated;\n+\n+@Validated", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "00dd80988b2e56cf77987eb260b34978b3c51184"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NjUyMTEzNQ==", "bodyText": "Why cant we use AccountGdprConfig class", "url": "https://github.com/prebid/prebid-server-java/pull/959#discussion_r556521135", "createdAt": "2021-01-13T13:32:39Z", "author": {"login": "DGarbar"}, "path": "src/main/java/org/prebid/server/spring/config/model/AccountConfigurationProperties.java", "diffHunk": "@@ -0,0 +1,58 @@\n+package org.prebid.server.spring.config.model;\n+\n+import lombok.Data;\n+import lombok.NoArgsConstructor;\n+import org.prebid.server.json.JacksonMapper;\n+import org.prebid.server.settings.model.Account;\n+import org.prebid.server.settings.model.AccountAnalyticsConfig;\n+import org.prebid.server.settings.model.AccountGdprConfig;\n+import org.prebid.server.settings.model.AccountStatus;\n+import org.springframework.validation.annotation.Validated;\n+\n+@Validated\n+@Data\n+@NoArgsConstructor\n+public class AccountConfigurationProperties {\n+\n+    private String priceGranularity;\n+\n+    private Integer bannerCacheTtl;\n+\n+    private Integer videoCacheTtl;\n+\n+    private Boolean eventsEnabled;\n+\n+    private Boolean enforceCcpa;\n+\n+    private String gdpr;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "00dd80988b2e56cf77987eb260b34978b3c51184"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32e842cb15b7c462988f34de33b2406d325acd95", "author": {"user": null}, "url": "https://github.com/prebid/prebid-server-java/commit/32e842cb15b7c462988f34de33b2406d325acd95", "committedDate": "2021-01-14T08:36:00Z", "message": "Address review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "afa15bf08f0b939ca6a2471cd92e835b7759b1cf", "author": {"user": null}, "url": "https://github.com/prebid/prebid-server-java/commit/afa15bf08f0b939ca6a2471cd92e835b7759b1cf", "committedDate": "2021-01-14T08:41:51Z", "message": "Merge branch 'master' into account-config-retrofit"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY4MzM4NDc2", "url": "https://github.com/prebid/prebid-server-java/pull/959#pullrequestreview-568338476", "createdAt": "2021-01-14T15:21:26Z", "commit": {"oid": "afa15bf08f0b939ca6a2471cd92e835b7759b1cf"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xNFQxNToyMToyN1rOITpjAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xNFQxNToyMToyN1rOITpjAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NzQ3NDU2MQ==", "bodyText": "Minor. i'd rather suggest to use ObjectUtils.defaultIfNull(..) instead since we have only 2 possible values.", "url": "https://github.com/prebid/prebid-server-java/pull/959#discussion_r557474561", "createdAt": "2021-01-14T15:21:27Z", "author": {"login": "rpanchyk"}, "path": "src/main/java/org/prebid/server/settings/model/Account.java", "diffHunk": "@@ -31,6 +32,27 @@\n \n     AccountBidValidationConfig bidValidations;\n \n+    AccountStatus status;\n+\n+    public Account merge(Account another) {\n+        return Account.builder()\n+                .id(ObjectUtils.firstNonNull(id, another.id))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "afa15bf08f0b939ca6a2471cd92e835b7759b1cf"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3038, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}