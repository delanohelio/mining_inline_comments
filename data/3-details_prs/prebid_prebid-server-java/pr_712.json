{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0ODY4MDE2", "number": 712, "title": "OpenX adapter: Pass rewarded video signal", "bodyText": "", "createdAt": "2020-05-07T19:09:15Z", "url": "https://github.com/prebid/prebid-server-java/pull/712", "merged": true, "mergeCommit": {"oid": "4fbf7943dae26d2af3248b53a16063ce307ed4c7"}, "closed": true, "closedAt": "2020-06-26T14:01:20Z", "author": {"login": "laurb9"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcjxVGzAFqTQxNjg2NjMwMA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcus2h9gFqTQzNzM5OTA2NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2ODY2MzAw", "url": "https://github.com/prebid/prebid-server-java/pull/712#pullrequestreview-416866300", "createdAt": "2020-05-22T12:19:01Z", "commit": {"oid": "a24d3954e8378c4fdd850ad2b625fa05ae696539"}, "state": "DISMISSED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxMjoxOTowMVrOGZVF1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxMjoyMDo0NVrOGZVIqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTIxMzE0MA==", "bodyText": "Minor. We don't need annotation here, since the field name will not be changed after marshaling to JSON.", "url": "https://github.com/prebid/prebid-server-java/pull/712#discussion_r429213140", "createdAt": "2020-05-22T12:19:01Z", "author": {"login": "rpanchyk"}, "path": "src/main/java/org/prebid/server/bidder/openx/proto/OpenxVideoExt.java", "diffHunk": "@@ -0,0 +1,15 @@\n+package org.prebid.server.bidder.openx.proto;\n+\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import lombok.AllArgsConstructor;\n+import lombok.Builder;\n+import lombok.Value;\n+\n+@AllArgsConstructor(staticName = \"of\")\n+@Value\n+@Builder\n+public class OpenxVideoExt {\n+\n+    @JsonProperty(\"rewarded\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a24d3954e8378c4fdd850ad2b625fa05ae696539"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTIxMzg2Nw==", "bodyText": "Hint: we can use Objects.equals(...) helper here, so will avoid one check.", "url": "https://github.com/prebid/prebid-server-java/pull/712#discussion_r429213867", "createdAt": "2020-05-22T12:20:45Z", "author": {"login": "rpanchyk"}, "path": "src/main/java/org/prebid/server/bidder/openx/OpenxBidder.java", "diffHunk": "@@ -146,41 +148,56 @@ private BidRequest createSingleRequest(List<Imp> imps, BidRequest bidRequest, Li\n         }\n \n         return CollectionUtils.isNotEmpty(processedImps)\n-                ? bidRequest.toBuilder().imp(processedImps).ext(makeReqExt(imps)).build()\n+                ? bidRequest.toBuilder()\n+                    .imp(processedImps)\n+                    .ext(makeReqExt(imps.get(0)))\n+                    .build()\n                 : null;\n     }\n \n     private Imp makeImp(Imp imp) {\n-        final ExtImpOpenx openxImpExt = parseOpenxExt(imp);\n-        return imp.toBuilder()\n+        final ExtPrebid<ExtImpPrebid, ExtImpOpenx> impExt = parseOpenxExt(imp);\n+        final ExtImpOpenx openxImpExt = impExt.getBidder();\n+        final ExtImpPrebid prebidImpExt = impExt.getPrebid();\n+        final Imp.ImpBuilder impBuilder = imp.toBuilder()\n                 .tagid(openxImpExt.getUnit())\n                 .bidfloor(openxImpExt.getCustomFloor())\n-                .ext(makeImpExt(openxImpExt.getCustomParams()))\n-                .build();\n+                .ext(makeImpExt(openxImpExt.getCustomParams()));\n+\n+        if (resolveImpType(imp) == OpenxImpType.video\n+                && prebidImpExt != null\n+                && prebidImpExt.getIsRewardedInventory() != null", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a24d3954e8378c4fdd850ad2b625fa05ae696539"}, "originalPosition": 51}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a56d776080f790dbddcc29ed3c62e0d0a68a52c", "author": {"user": {"login": "laurb9", "name": "Laurentiu Badea"}}, "url": "https://github.com/prebid/prebid-server-java/commit/3a56d776080f790dbddcc29ed3c62e0d0a68a52c", "committedDate": "2020-05-26T21:26:33Z", "message": "OpenX adapter: Pass rewarded video signal"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4c57b1341e3fcc41f8541011f6dee24e78cc798c", "author": {"user": {"login": "laurb9", "name": "Laurentiu Badea"}}, "url": "https://github.com/prebid/prebid-server-java/commit/4c57b1341e3fcc41f8541011f6dee24e78cc798c", "committedDate": "2020-05-26T21:17:49Z", "message": "OpenX adapter rewarded video - incorporated PR feedback"}, "afterCommit": {"oid": "3a56d776080f790dbddcc29ed3c62e0d0a68a52c", "author": {"user": {"login": "laurb9", "name": "Laurentiu Badea"}}, "url": "https://github.com/prebid/prebid-server-java/commit/3a56d776080f790dbddcc29ed3c62e0d0a68a52c", "committedDate": "2020-05-26T21:26:33Z", "message": "OpenX adapter: Pass rewarded video signal"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3Mzk5MDY0", "url": "https://github.com/prebid/prebid-server-java/pull/712#pullrequestreview-437399064", "createdAt": "2020-06-25T11:21:59Z", "commit": {"oid": "3a56d776080f790dbddcc29ed3c62e0d0a68a52c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3177, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}