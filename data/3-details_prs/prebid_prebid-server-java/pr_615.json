{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyMzk0NzIx", "number": 615, "title": "Add Influxdb tags configuration", "bodyText": "Sometimes influxDb tags can come in handy to split data by region, hostname etc.\nI find there is no tagging in current prebid-server-java.\nAs dropwizard-metrics-influxdb already has tags support, I suggest this simple implementation.", "createdAt": "2020-02-07T12:45:57Z", "url": "https://github.com/prebid/prebid-server-java/pull/615", "merged": true, "mergeCommit": {"oid": "df978700e7c2bdd4a3f98441640c5a6b6ec1c26e"}, "closed": true, "closedAt": "2020-02-07T14:42:58Z", "author": {"login": "michae1"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcB9QiqgH2gAyMzcyMzk0NzIxOmVmZGM2MDQ2OTNiN2RlMDRkMmY2YjNjMTBiODk2Zjk5YWE4ODU0YzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcB_2wXAFqTM1NTE3NTY1Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "efdc604693b7de04d2f6b3c10b896f99aa8854c0", "author": {"user": {"login": "michae1", "name": "Michael Plakhov"}}, "url": "https://github.com/prebid/prebid-server-java/commit/efdc604693b7de04d2f6b3c10b896f99aa8854c0", "committedDate": "2020-02-07T11:02:17Z", "message": "Add influxDb tags"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3aeb6f28f7fdb42c47e4f7677adbac1e78d08c6", "author": {"user": {"login": "michae1", "name": "Michael Plakhov"}}, "url": "https://github.com/prebid/prebid-server-java/commit/f3aeb6f28f7fdb42c47e4f7677adbac1e78d08c6", "committedDate": "2020-02-07T12:22:58Z", "message": "Additional checks"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1MTQ5NzI0", "url": "https://github.com/prebid/prebid-server-java/pull/615#pullrequestreview-355149724", "createdAt": "2020-02-07T13:21:18Z", "commit": {"oid": "f3aeb6f28f7fdb42c47e4f7677adbac1e78d08c6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxMzoyMToxOFrOFm8wcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxMzoyMToxOFrOFm8wcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjM4NTY0OQ==", "bodyText": "Hi, Michael!\nThank you for contribution in Prebid Server Java!\ni've a couple of thoughts:\n\nPlease make cfgTags and tags variables to be final.\nUse Collections.emptyMap() instead of new LinkedHashMap<String, String>().\n\nbtw, you can use ObjectUtils.defaultIfNull(...) to get rid off ternary operator.", "url": "https://github.com/prebid/prebid-server-java/pull/615#discussion_r376385649", "createdAt": "2020-02-07T13:21:18Z", "author": {"login": "rpanchyk"}, "path": "src/main/java/org/prebid/server/spring/config/MetricsConfiguration.java", "diffHunk": "@@ -81,7 +83,16 @@ ScheduledReporter influxdbReporter(InfluxdbProperties influxdbProperties, Metric\n                 influxdbProperties.getConnectTimeout(),\n                 influxdbProperties.getReadTimeout(),\n                 influxdbProperties.getPrefix());\n-        final ScheduledReporter reporter = InfluxDbReporter.forRegistry(metricRegistry).build(influxDbSender);\n+        Map<String, String> cfgTags = influxdbProperties.getTags();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f3aeb6f28f7fdb42c47e4f7677adbac1e78d08c6"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d3f9d5d208aee1fe863782f5fdd87c29295e08d", "author": {"user": {"login": "michae1", "name": "Michael Plakhov"}}, "url": "https://github.com/prebid/prebid-server-java/commit/9d3f9d5d208aee1fe863782f5fdd87c29295e08d", "committedDate": "2020-02-07T13:44:23Z", "message": "Code improvements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63842739656853a9b3d8969eaea45e949b1bf299", "author": {"user": {"login": "michae1", "name": "Michael Plakhov"}}, "url": "https://github.com/prebid/prebid-server-java/commit/63842739656853a9b3d8969eaea45e949b1bf299", "committedDate": "2020-02-07T14:03:42Z", "message": "Code improvements"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1MTc1NjUz", "url": "https://github.com/prebid/prebid-server-java/pull/615#pullrequestreview-355175653", "createdAt": "2020-02-07T14:03:50Z", "commit": {"oid": "9d3f9d5d208aee1fe863782f5fdd87c29295e08d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3272, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}