{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4NTE2OTUx", "number": 774, "title": "Allow zero price for deal bids", "bodyText": "", "createdAt": "2020-06-23T11:47:59Z", "url": "https://github.com/prebid/prebid-server-java/pull/774", "merged": true, "mergeCommit": {"oid": "edc32e2089026787e99c66cbed6bf6e1a8e97d90"}, "closed": true, "closedAt": "2020-10-09T15:30:48Z", "author": {"login": "BraslavskiyAndrey"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcuEAiEAH2gAyNDM4NTE2OTUxOjM1MWEzZTkxMjMxYzlkNTcxODY3M2QyN2MwYWEyMGJjYjMzODQzOTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQ34GsgH2gAyNDM4NTE2OTUxOjcxYmU0ZjQ4ODgwYWFkMWJiZGRlNmJjZWE1M2M3Y2FkNWU0MWZhNzY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "351a3e91231c9d5718673d27c0aa20bcb3384395", "author": {"user": {"login": "BraslavskiyAndrey", "name": "Braslavskyi Andrii"}}, "url": "https://github.com/prebid/prebid-server-java/commit/351a3e91231c9d5718673d27c0aa20bcb3384395", "committedDate": "2020-06-23T11:46:48Z", "message": "Allow zero price for deal bids"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ecfceb9ece578886318ffb3a643dfdb7d882cf21", "author": {"user": {"login": "BraslavskiyAndrey", "name": "Braslavskyi Andrii"}}, "url": "https://github.com/prebid/prebid-server-java/commit/ecfceb9ece578886318ffb3a643dfdb7d882cf21", "committedDate": "2020-06-24T11:41:13Z", "message": "Cache deal zero price bids and update validation in rubicon bidder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ec53ff1b8d3c86e5c5a7ea6b0d00c5cefcd57cf", "author": {"user": {"login": "rpanchyk", "name": null}}, "url": "https://github.com/prebid/prebid-server-java/commit/7ec53ff1b8d3c86e5c5a7ea6b0d00c5cefcd57cf", "committedDate": "2020-08-20T14:30:48Z", "message": "Merge branch 'master' into allow-zero-price-deals-bids\n\n# Conflicts:\n#\tsrc/main/java/org/prebid/server/bidder/rubicon/RubiconBidder.java\n#\tsrc/test/java/org/prebid/server/bidder/rubicon/RubiconBidderTest.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxNjc1NDI0", "url": "https://github.com/prebid/prebid-server-java/pull/774#pullrequestreview-471675424", "createdAt": "2020-08-20T14:32:12Z", "commit": {"oid": "7ec53ff1b8d3c86e5c5a7ea6b0d00c5cefcd57cf"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxNDozMjoxM1rOHEEcfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxNDozMjoxM1rOHEEcfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDAyOTE4MQ==", "bodyText": "Pls rename to isValidForCaching.", "url": "https://github.com/prebid/prebid-server-java/pull/774#discussion_r474029181", "createdAt": "2020-08-20T14:32:13Z", "author": {"login": "rpanchyk"}, "path": "src/main/java/org/prebid/server/auction/BidResponseCreator.java", "diffHunk": "@@ -343,13 +343,18 @@ private static void tryAddWinningBidByBidder(Bid bid, String bidder,\n                     .auctionTimestamp(auctionTimestamp)\n                     .build();\n \n-            result = cacheService.cacheBidsOpenrtb(bidsWithNonZeroPrice, imps, cacheContext, account, eventsContext,\n+            result = cacheService.cacheBidsOpenrtb(bidsValidToBeCached, imps, cacheContext, account, eventsContext,\n                     timeout)\n                     .map(cacheResult -> addNotCachedBids(cacheResult, bidsToCache));\n         }\n         return result;\n     }\n \n+    private static boolean isValidForToBeCached(Bid bid) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ec53ff1b8d3c86e5c5a7ea6b0d00c5cefcd57cf"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9a03ff1bb6cd18ab1d1e632262ee8cff1ce1fb5", "author": {"user": {"login": "rpanchyk", "name": null}}, "url": "https://github.com/prebid/prebid-server-java/commit/f9a03ff1bb6cd18ab1d1e632262ee8cff1ce1fb5", "committedDate": "2020-09-07T08:49:41Z", "message": "Merge branch 'master' into allow-zero-price-deals-bids"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9c8d1cb5705f128449b4d4bb239ca6dc11ff489", "author": {"user": {"login": "rpanchyk", "name": null}}, "url": "https://github.com/prebid/prebid-server-java/commit/e9c8d1cb5705f128449b4d4bb239ca6dc11ff489", "committedDate": "2020-09-07T08:54:03Z", "message": "Fix typo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzMzc3NDcw", "url": "https://github.com/prebid/prebid-server-java/pull/774#pullrequestreview-483377470", "createdAt": "2020-09-07T08:56:06Z", "commit": {"oid": "e9c8d1cb5705f128449b4d4bb239ca6dc11ff489"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fcb6ebd40c1b4e03a4131dc165fe788cc3d3edae", "author": {"user": {"login": "rpanchyk", "name": null}}, "url": "https://github.com/prebid/prebid-server-java/commit/fcb6ebd40c1b4e03a4131dc165fe788cc3d3edae", "committedDate": "2020-10-08T14:15:57Z", "message": "Merge branch 'master' into allow-zero-price-deals-bids\n\n# Conflicts:\n#\tsrc/main/java/org/prebid/server/auction/BidResponseCreator.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1Nzc2MTY4", "url": "https://github.com/prebid/prebid-server-java/pull/774#pullrequestreview-505776168", "createdAt": "2020-10-09T15:25:00Z", "commit": {"oid": "fcb6ebd40c1b4e03a4131dc165fe788cc3d3edae"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71be4f48880aad1bbdde6bcea53c7cad5e41fa76", "author": {"user": {"login": "rpanchyk", "name": null}}, "url": "https://github.com/prebid/prebid-server-java/commit/71be4f48880aad1bbdde6bcea53c7cad5e41fa76", "committedDate": "2020-10-09T15:26:05Z", "message": "Merge branch 'master' into allow-zero-price-deals-bids"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3231, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}