{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3MTk1NDky", "number": 772, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxMToxMzo1OFrOEH7DMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxMToxMzo1OFrOEH7DMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NzQyOTYzOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/prebid/server/privacy/gdpr/vendorlist/VendorListService.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxMToxMzo1OFrOGnkgxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxMTo0OTo1OFrOGnlmQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDE0NTg2Mg==", "bodyText": "It's strange that saveToFileAndUpdateCache does not show the result of the file saving/\nDoesn't recover method  in the end of pipeline is  safer ?", "url": "https://github.com/prebid/prebid-server-java/pull/772#discussion_r444145862", "createdAt": "2020-06-23T11:13:58Z", "author": {"login": "DGarbar"}, "path": "src/main/java/org/prebid/server/privacy/gdpr/vendorlist/VendorListService.java", "diffHunk": "@@ -182,17 +198,17 @@ private void fetchNewVendorListFor(int version) {\n         final String url = endpointTemplate.replace(VERSION_PLACEHOLDER, String.valueOf(version));\n \n         httpClient.get(url, defaultTimeoutMs)\n-                .compose(response -> processResponse(response, version))\n-                .compose(vendorListResult -> saveToFileAndUpdateCache(vendorListResult, version))\n-                .recover(exception -> failResponse(exception, version));\n+                .map(response -> processResponse(response, version))\n+                .recover(exception -> failResponse(exception, version))\n+                .compose(vendorListResult -> saveToFileAndUpdateCache(vendorListResult, version));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbb32650e62f39a118c03f5b6dcaecedcf648cc9"}, "originalPosition": 114}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDE2MzY1MQ==", "bodyText": "Good question. From the logic point of view we don't need to cover filesystem errors (all we need is already implemented in fileSystem.writeFile(...) call) but maybe you're right and i need to make it in clean-code style.", "url": "https://github.com/prebid/prebid-server-java/pull/772#discussion_r444163651", "createdAt": "2020-06-23T11:49:58Z", "author": {"login": "rpanchyk"}, "path": "src/main/java/org/prebid/server/privacy/gdpr/vendorlist/VendorListService.java", "diffHunk": "@@ -182,17 +198,17 @@ private void fetchNewVendorListFor(int version) {\n         final String url = endpointTemplate.replace(VERSION_PLACEHOLDER, String.valueOf(version));\n \n         httpClient.get(url, defaultTimeoutMs)\n-                .compose(response -> processResponse(response, version))\n-                .compose(vendorListResult -> saveToFileAndUpdateCache(vendorListResult, version))\n-                .recover(exception -> failResponse(exception, version));\n+                .map(response -> processResponse(response, version))\n+                .recover(exception -> failResponse(exception, version))\n+                .compose(vendorListResult -> saveToFileAndUpdateCache(vendorListResult, version));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDE0NTg2Mg=="}, "originalCommit": {"oid": "bbb32650e62f39a118c03f5b6dcaecedcf648cc9"}, "originalPosition": 114}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4100, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}