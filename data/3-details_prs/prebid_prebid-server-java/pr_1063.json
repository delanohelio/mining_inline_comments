{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM0OTY5OTc1", "number": 1063, "title": "Yeahmobi bidder review", "bodyText": "", "createdAt": "2020-12-09T07:22:43Z", "url": "https://github.com/prebid/prebid-server-java/pull/1063", "merged": true, "mergeCommit": {"oid": "e9b949f59a9cb5a6bd18f64bb7fe60e8180df900"}, "closed": true, "closedAt": "2021-02-11T10:09:09Z", "author": {"login": "snahornyi"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkZg4XgH2gAyNTM0OTY5OTc1OmQ3M2Y0MGVkZGEwYTUyOTlhMmQ3NDQyZGRkMmYzMjZjY2M4YmFjZmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABd5CQZHAFqTU4ODM5OTQ1MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d73f40edda0a5299a2d7442ddd2f326ccc8bacfc", "author": {"user": null}, "url": "https://github.com/prebid/prebid-server-java/commit/d73f40edda0a5299a2d7442ddd2f326ccc8bacfc", "committedDate": "2020-12-09T07:22:03Z", "message": "Yeahmobi bidder review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e3f2fbf9059c097525b99e31062858876622371", "author": {"user": {"login": "rpanchyk", "name": null}}, "url": "https://github.com/prebid/prebid-server-java/commit/7e3f2fbf9059c097525b99e31062858876622371", "committedDate": "2021-02-11T09:22:50Z", "message": "Merge branch 'master' into yeahmobi/review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTg4Mzc1MzI4", "url": "https://github.com/prebid/prebid-server-java/pull/1063#pullrequestreview-588375328", "createdAt": "2021-02-11T09:38:58Z", "commit": {"oid": "d73f40edda0a5299a2d7442ddd2f326ccc8bacfc"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMVQwOTozODo1OFrOIjwI4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMVQwOTozODo1OFrOIjwI4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3NDM1OTc3Nw==", "bodyText": "Pls specify exception explicitly @SneakyThrows(JsonProcessingException.class) for more control, but personally i'd use just regular try-catch instead. Up to you.", "url": "https://github.com/prebid/prebid-server-java/pull/1063#discussion_r574359777", "createdAt": "2021-02-11T09:38:58Z", "author": {"login": "rpanchyk"}, "path": "src/main/java/org/prebid/server/bidder/yeahmobi/YeahmobiBidder.java", "diffHunk": "@@ -90,32 +90,35 @@ private ExtImpYeahmobi parseImpExt(Imp imp) {\n         try {\n             return mapper.mapper().convertValue(imp.getExt(), YEAHMOBI_EXT_TYPE_REFERENCE).getBidder();\n         } catch (IllegalArgumentException e) {\n-            throw new PreBidException(e.getMessage(), e);\n+            throw new PreBidException(String.format(\"Impression id=%s, has invalid Ext\", imp.getId()));\n         }\n     }\n \n-    @SneakyThrows\n     private Imp processImp(Imp imp) {\n         final Native xNative = imp.getXNative();\n \n         if (xNative != null) {\n-            final JsonNode nativeRequest = xNative.getRequest() != null\n-                    ? mapper.mapper().readValue(xNative.getRequest(), JsonNode.class)\n-                    : null;\n-\n-            final String newNativeRequest;\n-            final ObjectNode objectNode = mapper.mapper().createObjectNode().set(\"native\", nativeRequest);\n-            newNativeRequest = nativeRequest == null || nativeRequest.get(\"native\") == null\n-                    ? mapper.mapper().writeValueAsString(objectNode)\n-                    : null;\n-\n-            return newNativeRequest != null\n-                    ? imp.toBuilder().xNative(Native.builder().request(newNativeRequest).build()).build()\n+            final String resolvedNativeRequest = resolveNativeRequest(xNative.getRequest());\n+            return resolvedNativeRequest != null\n+                    ? imp.toBuilder().xNative(Native.builder().request(resolvedNativeRequest).build()).build()\n                     : imp;\n         }\n         return imp;\n     }\n \n+    @SneakyThrows", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d73f40edda0a5299a2d7442ddd2f326ccc8bacfc"}, "originalPosition": 69}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84f1aafbbfb04793f1f4cab98903e601e78f09ac", "author": {"user": null}, "url": "https://github.com/prebid/prebid-server-java/commit/84f1aafbbfb04793f1f4cab98903e601e78f09ac", "committedDate": "2021-02-11T09:55:29Z", "message": "Fixes after review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTg4Mzk5NDUx", "url": "https://github.com/prebid/prebid-server-java/pull/1063#pullrequestreview-588399451", "createdAt": "2021-02-11T10:08:38Z", "commit": {"oid": "84f1aafbbfb04793f1f4cab98903e601e78f09ac"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2967, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}