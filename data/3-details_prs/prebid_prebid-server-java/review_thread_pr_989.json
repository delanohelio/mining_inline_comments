{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0MTM0NTY3", "number": 989, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxNzoyOTowOFrOE0evHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxMjoyMDoyMFrOE5_bRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzNDY0OTg5OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/prebid/server/bidder/adhese/AdheseBidder.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxNzoyOTowOFrOHsOqoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxNzoyOTowOFrOHsOqoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjEzOTY4MQ==", "bodyText": "Minor. Maybe one line will be better\n return device != null && StringUtils.isNotBlank(device.getIfa())\n? String.format(\"%s%s\", QUERY_PARAMETER_IFA, device.getIfa()) : \"\";", "url": "https://github.com/prebid/prebid-server-java/pull/989#discussion_r516139681", "createdAt": "2020-11-02T17:29:08Z", "author": {"login": "snahornyi"}, "path": "src/main/java/org/prebid/server/bidder/adhese/AdheseBidder.java", "diffHunk": "@@ -145,6 +149,13 @@ private static String getRefererParameter(Site site) {\n                 : \"\";\n     }\n \n+    private static String getIfaParameter(Device device) {\n+        final String ifa = device != null ? device.getIfa() : null;\n+        return StringUtils.isNotBlank(ifa)\n+                ? String.format(\"%s%s\", QUERY_PARAMETER_IFA, ifa)\n+                : \"\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7bdfc98a69db1209fd8594a25da4668b49171a13"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzNDY3MDQ5OnYy", "diffSide": "RIGHT", "path": "src/test/java/org/prebid/server/bidder/adhese/AdheseBidderTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxNzozMzo0OFrOHsO3Dg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxNzozMzo0OFrOHsO3Dg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjE0Mjg2Mg==", "bodyText": "Minor. We prefer to use builder in separate lines only in case if single line is more then checkstyle line length rule constant.", "url": "https://github.com/prebid/prebid-server-java/pull/989#discussion_r516142862", "createdAt": "2020-11-02T17:33:48Z", "author": {"login": "snahornyi"}, "path": "src/test/java/org/prebid/server/bidder/adhese/AdheseBidderTest.java", "diffHunk": "@@ -106,6 +107,9 @@ public void makeHttpRequestsShouldModifyIncomingRequestAndSetExpectedHttpRequest\n                         .ext(mapper.valueToTree(ExtPrebid.of(null, ExtImpAdhese.of(\"demo\",\n                                 \"_adhese_prebid_demo_\", \"leaderboard\", mapper.convertValue(targets, JsonNode.class)))))\n                         .build()))\n+                .device(Device.builder()\n+                        .ifa(\"dum-my\")\n+                        .build())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7bdfc98a69db1209fd8594a25da4668b49171a13"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5MjQyMTMwOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/prebid/server/bidder/adhese/AdheseBidder.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxMjoxNjo0NVrOH0yKeg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxMjoxNjo0NVrOH0yKeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTEwOTg4Mg==", "bodyText": "i'd recommend ifa as separate variable.", "url": "https://github.com/prebid/prebid-server-java/pull/989#discussion_r525109882", "createdAt": "2020-11-17T12:16:45Z", "author": {"login": "rpanchyk"}, "path": "src/main/java/org/prebid/server/bidder/adhese/AdheseBidder.java", "diffHunk": "@@ -139,12 +143,16 @@ private static String getGdprParameter(User user) {\n     }\n \n     private static String getRefererParameter(Site site) {\n-        final String page = site != null ? site.getPage() : null;\n-        return StringUtils.isNotBlank(page)\n-                ? String.format(\"%s%s\", QUERY_PARAMETER_REFERER, HttpUtil.encodeUrl(page))\n+        return site != null && StringUtils.isNotBlank(site.getPage())\n+                ? String.format(\"%s%s\", QUERY_PARAMETER_REFERER, HttpUtil.encodeUrl(site.getPage()))\n                 : \"\";\n     }\n \n+    private static String getIfaParameter(Device device) {\n+        return device != null && StringUtils.isNotBlank(device.getIfa())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3cb7ae75bc4897cad8a3dc142a0c54bb5320477"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5MjQyMzkxOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/prebid/server/bidder/adhese/AdheseBidder.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxMjoxNzozMFrOH0yMDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxMjoxNzozMFrOH0yMDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTExMDI4Nw==", "bodyText": "Should we make url-encoding here?", "url": "https://github.com/prebid/prebid-server-java/pull/989#discussion_r525110287", "createdAt": "2020-11-17T12:17:30Z", "author": {"login": "rpanchyk"}, "path": "src/main/java/org/prebid/server/bidder/adhese/AdheseBidder.java", "diffHunk": "@@ -139,12 +143,16 @@ private static String getGdprParameter(User user) {\n     }\n \n     private static String getRefererParameter(Site site) {\n-        final String page = site != null ? site.getPage() : null;\n-        return StringUtils.isNotBlank(page)\n-                ? String.format(\"%s%s\", QUERY_PARAMETER_REFERER, HttpUtil.encodeUrl(page))\n+        return site != null && StringUtils.isNotBlank(site.getPage())\n+                ? String.format(\"%s%s\", QUERY_PARAMETER_REFERER, HttpUtil.encodeUrl(site.getPage()))\n                 : \"\";\n     }\n \n+    private static String getIfaParameter(Device device) {\n+        return device != null && StringUtils.isNotBlank(device.getIfa())\n+                ? String.format(\"%s%s\", QUERY_PARAMETER_IFA, device.getIfa()) : \"\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3cb7ae75bc4897cad8a3dc142a0c54bb5320477"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5MjQzNDYxOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/prebid/server/bidder/adhese/AdheseBidder.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxMjoyMDoyMFrOH0ySvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxMjoyMDoyMFrOH0ySvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTExMTk5Ng==", "bodyText": "Minor. Usually most valuable thing can placed at first position, like IFA_QUERY_PARAMETER.\nIf you're ok with it, pls check for other fields.", "url": "https://github.com/prebid/prebid-server-java/pull/989#discussion_r525111996", "createdAt": "2020-11-17T12:20:20Z", "author": {"login": "rpanchyk"}, "path": "src/main/java/org/prebid/server/bidder/adhese/AdheseBidder.java", "diffHunk": "@@ -57,6 +58,7 @@\n     private static final String ORIGIN = \"JERLICIA\";\n     private static final String QUERY_PARAMETER_GDPR = \"/xt\";\n     private static final String QUERY_PARAMETER_REFERER = \"/xf\";\n+    private static final String QUERY_PARAMETER_IFA = \"/xz\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3cb7ae75bc4897cad8a3dc142a0c54bb5320477"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3956, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}