{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczODEwNzU0", "number": 877, "title": "Log missing video size id for RubiconBidder", "bodyText": "", "createdAt": "2020-08-26T10:28:12Z", "url": "https://github.com/prebid/prebid-server-java/pull/877", "merged": true, "mergeCommit": {"oid": "b508b4b445e9f5f8890848840f6e5428b900bdf5"}, "closed": true, "closedAt": "2021-01-14T12:32:01Z", "author": {"login": "BraslavskiyAndrey"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCpMAFAH2gAyNDczODEwNzU0OmY1NjIxYmE5YTAzMDE4MTI2NjdiNDM1MDkyMGFhMjM5Zjc0NTlhOTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdwDClIAH2gAyNDczODEwNzU0OmJjYThkMzk4YTliY2FjY2FlOGE2ODgzMmRkNWNkOTAxNjY1Y2JlZGI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f5621ba9a0301812667b4350920aa239f7459a90", "author": {"user": {"login": "BraslavskiyAndrey", "name": "Braslavskyi Andrii"}}, "url": "https://github.com/prebid/prebid-server-java/commit/f5621ba9a0301812667b4350920aa239f7459a90", "committedDate": "2020-08-26T10:24:18Z", "message": "Log missing video size id for RubiconBidder"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2ODUwMzc0", "url": "https://github.com/prebid/prebid-server-java/pull/877#pullrequestreview-476850374", "createdAt": "2020-08-27T15:41:53Z", "commit": {"oid": "f5621ba9a0301812667b4350920aa239f7459a90"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3MTI2NzI2", "url": "https://github.com/prebid/prebid-server-java/pull/877#pullrequestreview-557126726", "createdAt": "2020-12-22T14:41:04Z", "commit": {"oid": "f5621ba9a0301812667b4350920aa239f7459a90"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxNDo0MTowNFrOIJ9cTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxNDo0Mzo1MVrOIJ9iaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzMxNDc2NA==", "bodyText": "Please consider passing whole imp and site to makeVideo and let this method pull out everything it needs from these objects.", "url": "https://github.com/prebid/prebid-server-java/pull/877#discussion_r547314764", "createdAt": "2020-12-22T14:41:04Z", "author": {"login": "schernysh"}, "path": "src/main/java/org/prebid/server/bidder/rubicon/RubiconBidder.java", "diffHunk": "@@ -331,7 +331,8 @@ private Imp makeImp(Imp imp, ExtImpPrebid extPrebid, ExtImpRubicon extRubicon,\n         if (isVideo(imp)) {\n             builder\n                     .banner(null)\n-                    .video(makeVideo(imp.getVideo(), extRubicon.getVideo(), extPrebid));\n+                    .video(makeVideo(imp.getVideo(), extRubicon.getVideo(), extPrebid,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5621ba9a0301812667b4350920aa239f7459a90"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzMxNjMyOA==", "bodyText": "Please consider using \n  \n    \n      prebid-server-java/src/main/java/org/prebid/server/log/ConditionalLogger.java\n    \n    \n         Line 79\n      in\n      c6c4101\n    \n    \n    \n    \n\n        \n          \n           public void warn(String message, double samplingRate) { \n        \n    \n  \n\n or similar idea to implement logging.", "url": "https://github.com/prebid/prebid-server-java/pull/877#discussion_r547316328", "createdAt": "2020-12-22T14:43:51Z", "author": {"login": "schernysh"}, "path": "src/main/java/org/prebid/server/bidder/rubicon/RubiconBidder.java", "diffHunk": "@@ -509,6 +513,14 @@ private Video makeVideo(Video video, RubiconVideoParams rubiconVideoParams, ExtI\n                 .build();\n     }\n \n+    private void validateVideoSizeId(RubiconVideoParams rubiconVideoParams, String referer, String impId) {\n+        final Integer videoSizeId = rubiconVideoParams != null ? rubiconVideoParams.getSizeId() : null;\n+        // log only 1% of cases to monitor how often video impressions does not have size id\n+        if ((videoSizeId == null || videoSizeId == 0) && System.currentTimeMillis() % 100 == 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5621ba9a0301812667b4350920aa239f7459a90"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0da7b96a8df8132b4b9cd9676f8093b558e96af", "author": {"user": {"login": "AndriiBraslavskyi", "name": null}}, "url": "https://github.com/prebid/prebid-server-java/commit/a0da7b96a8df8132b4b9cd9676f8093b558e96af", "committedDate": "2020-12-24T11:19:11Z", "message": "Merge branch 'master' into log-zero-video-size-id"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bcd17e3ae913dc778d2e1b4cec3caeab335b366d", "author": {"user": {"login": "AndriiBraslavskyi", "name": null}}, "url": "https://github.com/prebid/prebid-server-java/commit/bcd17e3ae913dc778d2e1b4cec3caeab335b366d", "committedDate": "2020-12-24T11:36:56Z", "message": "Update sampling logging way"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34ed0eba9543f91aabe3f48b7523b7b7b7866d52", "author": {"user": {"login": "AndriiBraslavskyi", "name": null}}, "url": "https://github.com/prebid/prebid-server-java/commit/34ed0eba9543f91aabe3f48b7523b7b7b7866d52", "committedDate": "2021-01-05T12:00:31Z", "message": "Use conditional logger for conditional logging"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYxNzM1Nzkx", "url": "https://github.com/prebid/prebid-server-java/pull/877#pullrequestreview-561735791", "createdAt": "2021-01-05T12:05:23Z", "commit": {"oid": "34ed0eba9543f91aabe3f48b7523b7b7b7866d52"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bca8d398a9bcaccae8a68832dd5cd901665cbedb", "author": {"user": {"login": "rpanchyk", "name": null}}, "url": "https://github.com/prebid/prebid-server-java/commit/bca8d398a9bcaccae8a68832dd5cd901665cbedb", "committedDate": "2021-01-14T11:58:08Z", "message": "Merge branch 'master' into log-zero-video-size-id"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3144, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}