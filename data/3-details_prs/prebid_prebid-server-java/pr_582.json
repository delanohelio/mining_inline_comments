{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyMDYxODA1", "number": 582, "title": "Ccpa phase 2", "bodyText": "", "createdAt": "2020-01-13T11:14:21Z", "url": "https://github.com/prebid/prebid-server-java/pull/582", "merged": true, "mergeCommit": {"oid": "d131f249a8f4a04c77b07f1fb2e49dfd2f3665ad"}, "closed": true, "closedAt": "2020-02-05T11:03:50Z", "author": {"login": "BraslavskiyAndrey"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb52uN3AH2gAyMzYyMDYxODA1OmQ3NTNjYTBlZjhlNGE4OGZjNjEzMGJhZjliNjlhNDFiZGQ4MGRjNDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBT_OuAFqTM1MzYyNzczNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d753ca0ef8e4a88fc6130baf9b69a41bdd80dc45", "author": {"user": {"login": "BraslavskiyAndrey", "name": "Braslavskyi Andrii"}}, "url": "https://github.com/prebid/prebid-server-java/commit/d753ca0ef8e4a88fc6130baf9b69a41bdd80dc45", "committedDate": "2020-01-13T06:53:58Z", "message": "cppa phase 2 initial commit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9eaa8f094ee804c18db08cf2344e94e5a8ab2525", "author": {"user": {"login": "BraslavskiyAndrey", "name": "Braslavskyi Andrii"}}, "url": "https://github.com/prebid/prebid-server-java/commit/9eaa8f094ee804c18db08cf2344e94e5a8ab2525", "committedDate": "2020-01-13T11:11:10Z", "message": "Tests were updated"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2NTk3Nzg5", "url": "https://github.com/prebid/prebid-server-java/pull/582#pullrequestreview-346597789", "createdAt": "2020-01-22T13:48:36Z", "commit": {"oid": "9eaa8f094ee804c18db08cf2344e94e5a8ab2525"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQxMzo0ODozN1rOFgcpAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQxMzo1NzozNFrOFgc71w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTU2ODAwMw==", "bodyText": "This can moved down near usage (before if statement).", "url": "https://github.com/prebid/prebid-server-java/pull/582#discussion_r369568003", "createdAt": "2020-01-22T13:48:37Z", "author": {"login": "rpanchyk"}, "path": "src/main/java/org/prebid/server/auction/PrivacyEnforcementService.java", "diffHunk": "@@ -63,11 +70,51 @@ public PrivacyEnforcementService(GdprService gdprService, BidderCatalog bidderCa\n \n         final Regs regs = bidRequest.getRegs();\n         final Device device = bidRequest.getDevice();\n+        final User user = bidRequest.getUser();\n+\n+        final Privacy privacy = PrivacyExtractor.validPrivacyFrom(regs, user);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9eaa8f094ee804c18db08cf2344e94e5a8ab2525"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTU3MjgyMw==", "bodyText": "Minor. Pls check for null.", "url": "https://github.com/prebid/prebid-server-java/pull/582#discussion_r369572823", "createdAt": "2020-01-22T13:57:34Z", "author": {"login": "rpanchyk"}, "path": "src/main/java/org/prebid/server/handler/CookieSyncHandler.java", "diffHunk": "@@ -77,6 +83,7 @@ public CookieSyncHandler(String externalUrl, long defaultTimeout, UidsCookieServ\n         this.bidderCatalog = Objects.requireNonNull(bidderCatalog);\n         activeBidders = activeBidders(bidderCatalog);\n         this.gdprService = Objects.requireNonNull(gdprService);\n+        this.privacyEnforcementService = privacyEnforcementService;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9eaa8f094ee804c18db08cf2344e94e5a8ab2525"}, "originalPosition": 46}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46f03efcbaf1e57dba6ae33f41afae4bc0b90321", "author": {"user": {"login": "BraslavskiyAndrey", "name": "Braslavskyi Andrii"}}, "url": "https://github.com/prebid/prebid-server-java/commit/46f03efcbaf1e57dba6ae33f41afae4bc0b90321", "committedDate": "2020-02-05T10:10:47Z", "message": "Merge master branch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4697f5fed65adcc8fb6bf082c876589bffdafe3f", "author": {"user": {"login": "BraslavskiyAndrey", "name": "Braslavskyi Andrii"}}, "url": "https://github.com/prebid/prebid-server-java/commit/4697f5fed65adcc8fb6bf082c876589bffdafe3f", "committedDate": "2020-02-05T10:50:16Z", "message": "Fix pull request comments and merge effects"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzNjI3NzM1", "url": "https://github.com/prebid/prebid-server-java/pull/582#pullrequestreview-353627735", "createdAt": "2020-02-05T10:57:16Z", "commit": {"oid": "4697f5fed65adcc8fb6bf082c876589bffdafe3f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3354, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}