{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzNjA0MzQ1", "number": 1025, "title": "Admixer bidder review", "bodyText": "", "createdAt": "2020-11-19T00:57:51Z", "url": "https://github.com/prebid/prebid-server-java/pull/1025", "merged": true, "mergeCommit": {"oid": "356a66a88e11da6de62c84b05ab03d773c2b1f08"}, "closed": true, "closedAt": "2020-11-19T13:24:31Z", "author": {"login": "snahornyi"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdd3-vkgH2gAyNTIzNjA0MzQ1OmUyNzQyOGIxNjEwOTUzODc1YmFiNDA4NWUyMjMxZmUzZDgyZTUwZTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdeCspCAFqTUzNDQzMjIzNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e27428b1610953875bab4085e2231fe3d82e50e1", "author": {"user": null}, "url": "https://github.com/prebid/prebid-server-java/commit/e27428b1610953875bab4085e2231fe3d82e50e1", "committedDate": "2020-11-19T00:54:21Z", "message": "Admixer bid review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0NDIwMTQ4", "url": "https://github.com/prebid/prebid-server-java/pull/1025#pullrequestreview-534420148", "createdAt": "2020-11-19T13:08:42Z", "commit": {"oid": "e27428b1610953875bab4085e2231fe3d82e50e1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxMzowODo0MlrOH2dYvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxMzowODo0MlrOH2dYvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjg2NjYyMQ==", "bodyText": "This can throw NumberFormatException which we're not catching.", "url": "https://github.com/prebid/prebid-server-java/pull/1025#discussion_r526866621", "createdAt": "2020-11-19T13:08:42Z", "author": {"login": "rpanchyk"}, "path": "src/main/java/org/prebid/server/bidder/admixer/AdmixerBidder.java", "diffHunk": "@@ -83,21 +79,25 @@ public AdmixerBidder(String endpointUrl, JacksonMapper mapper) {\n     }\n \n     private ExtImpAdmixer parseImpExt(Imp imp) {\n+        final ExtImpAdmixer extImpAdmixer;\n         try {\n-            return mapper.mapper().convertValue(imp.getExt(), ADMIXER_EXT_TYPE_REFERENCE).getBidder();\n+            extImpAdmixer = mapper.mapper().convertValue(imp.getExt(), ADMIXER_EXT_TYPE_REFERENCE).getBidder();\n         } catch (IllegalArgumentException e) {\n-            throw new PreBidException(e.getMessage(), e);\n+            throw new PreBidException(String.format(\"Wrong Admixer bidder ext in imp with id : %s\", imp.getId()));\n         }\n-    }\n-\n-    private Imp processImp(Imp imp, ExtImpAdmixer extImpAdmixer) {\n-        if (extImpAdmixer.getZone().length() != 36) {\n+        if (StringUtils.length(extImpAdmixer.getZone()) != 36) {\n             throw new PreBidException(\"ZoneId must be UUID/GUID\");\n         }\n \n+        return extImpAdmixer;\n+    }\n+\n+    private Imp processImp(Imp imp, ExtImpAdmixer extImpAdmixer) {\n+        final Double extImpFloor = extImpAdmixer.getCustomFloor();\n+        final BigDecimal customFloor = extImpFloor != null ? BigDecimal.valueOf(extImpFloor) : BigDecimal.ZERO;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e27428b1610953875bab4085e2231fe3d82e50e1"}, "originalPosition": 45}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0NDMyMjM3", "url": "https://github.com/prebid/prebid-server-java/pull/1025#pullrequestreview-534432237", "createdAt": "2020-11-19T13:23:32Z", "commit": {"oid": "e27428b1610953875bab4085e2231fe3d82e50e1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2936, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}