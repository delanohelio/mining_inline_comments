{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg4MDE3MzA0", "number": 62464, "title": "Fix S3BlobContainerRetriesTests", "bodyText": "The AssertingInputStream in S3BlobContainerRetriesTests verifies that InputStream are either fully consumed or aborted, but the eof flag is only set when the underlying stream returns it.\nWhen buffered read are executed and when the exact number of remaining bytes are read, the eof flag is not set to true. Instead the test should rely on the total number of bytes read to know if the stream has been fully consumed.\nClose #62390", "createdAt": "2020-09-16T14:08:40Z", "url": "https://github.com/elastic/elasticsearch/pull/62464", "merged": true, "mergeCommit": {"oid": "69afc6e9111cd91f2fe7f9857aa958f53779230d"}, "closed": true, "closedAt": "2020-09-17T14:05:09Z", "author": {"login": "tlrx"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdJc4N7AH2gAyNDg4MDE3MzA0OmZkNWQ2MjhlN2M1ODMxZWFhNzZjYWNiNGUwZTBjODkzMjg5YmEyZTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdJvBRigH2gAyNDg4MDE3MzA0OmY1YmUxOWQyNjVhZTRhODA5ZGNjZTA1ZmUzODZiN2E2NTdlMDQ2OWE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fd5d628e7c5831eaa76cacb4e0e0c893289ba2e0", "author": {"user": {"login": "tlrx", "name": "Tanguy Leroux"}}, "url": "https://github.com/elastic/elasticsearch/commit/fd5d628e7c5831eaa76cacb4e0e0c893289ba2e0", "committedDate": "2020-09-16T14:01:18Z", "message": "Fix test failure"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwNDE2Mzg2", "url": "https://github.com/elastic/elasticsearch/pull/62464#pullrequestreview-490416386", "createdAt": "2020-09-17T09:36:38Z", "commit": {"oid": "fd5d628e7c5831eaa76cacb4e0e0c893289ba2e0"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwOTozNjozOFrOHTZ1Sg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwOTozNjozOFrOHTZ1Sg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDEwODIzNA==", "bodyText": "Probably better to stick with || out of principle even if the right hand side is cheap here :)", "url": "https://github.com/elastic/elasticsearch/pull/62464#discussion_r490108234", "createdAt": "2020-09-17T09:36:38Z", "author": {"login": "original-brownbear"}, "path": "plugins/repository-s3/src/main/java/org/elasticsearch/repositories/s3/S3RetryingInputStream.java", "diffHunk": "@@ -231,7 +231,7 @@ public void reset() {\n \n     // package-private for tests\n     boolean isEof() {\n-        return eof;\n+        return eof | start + currentOffset == currentStreamLastOffset;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd5d628e7c5831eaa76cacb4e0e0c893289ba2e0"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c48ef1c20ffd21c4d8aee05ba97f279e02209f78", "author": {"user": {"login": "tlrx", "name": "Tanguy Leroux"}}, "url": "https://github.com/elastic/elasticsearch/commit/c48ef1c20ffd21c4d8aee05ba97f279e02209f78", "committedDate": "2020-09-17T10:42:08Z", "message": "dble pipe"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5be19d265ae4a809dcce05fe386b7a657e0469a", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/f5be19d265ae4a809dcce05fe386b7a657e0469a", "committedDate": "2020-09-17T11:09:29Z", "message": "Merge branch 'master' into fix-62390"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4497, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}