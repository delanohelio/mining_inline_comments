{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3NzUxNDk2", "number": 61844, "title": "Add specific test for serializing all mapping parameter values", "bodyText": "This commit adds a test to MapperTestCase that explicitly checks that a mapper can\nserialize all its default values, and that this serialization can then be re-parsed.  Note that\nthe test is disabled for non-parametrized mappers as their serialization may in some cases\noutput parameters that are not accepted.  Gradually moving all mappers to parametrized\nform will address this.\nThe commit also contains a fix to keyword mappers, which were not correctly serializing\nthe similarity parameter; this partially addresses #61563", "createdAt": "2020-09-02T11:22:43Z", "url": "https://github.com/elastic/elasticsearch/pull/61844", "merged": true, "mergeCommit": {"oid": "3269d1b48649026cf386ffaac14ead82bbf39e33"}, "closed": true, "closedAt": "2020-09-02T19:03:36Z", "author": {"login": "romseygeek"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdE6I9qgH2gAyNDc3NzUxNDk2OmZhY2I3N2Y1OWRiMGYwMGU3YTYwNTFmYmNiMjM1Mzg0MjQyOGJmMTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdE_UgagH2gAyNDc3NzUxNDk2OjEzODkxYzI2MDliZTMyY2ZmZGQ2NWFkMjg3OGIxN2VjZDhjNjEyMmQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "facb77f59db0f00e7a6051fbcb2353842428bf16", "author": {"user": {"login": "romseygeek", "name": "Alan Woodward"}}, "url": "https://github.com/elastic/elasticsearch/commit/facb77f59db0f00e7a6051fbcb2353842428bf16", "committedDate": "2020-09-02T11:17:13Z", "message": "Add specific test for serializing all mapping parameter values"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwODQ0NDYz", "url": "https://github.com/elastic/elasticsearch/pull/61844#pullrequestreview-480844463", "createdAt": "2020-09-02T13:55:11Z", "commit": {"oid": "facb77f59db0f00e7a6051fbcb2353842428bf16"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMzo1NToxMVrOHLwUFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMzo1NToxMVrOHLwUFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjA4Nzk1Nw==", "bodyText": "Could you assumeFalse here so it logs as skipped? I don't think that makes a big difference in the long run, but it makes me feel a little better about doing nothing in a test.", "url": "https://github.com/elastic/elasticsearch/pull/61844#discussion_r482087957", "createdAt": "2020-09-02T13:55:11Z", "author": {"login": "nik9000"}, "path": "test/framework/src/main/java/org/elasticsearch/index/mapper/FieldMapperTestCase2.java", "diffHunk": "@@ -228,4 +228,9 @@ private XContentBuilder mappingsToJson(ToXContent builder, boolean includeDefaul\n         ToXContent.Params params = includeDefaults ? new ToXContent.MapParams(Map.of(\"include_defaults\", \"true\")) : ToXContent.EMPTY_PARAMS;\n         return mapping(b -> builder.toXContent(b, params));\n     }\n+\n+    @Override\n+    public void testMinimalToMaximal() {\n+        // `include_defaults` includes unsupported properties in non-parametrized mappers", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "facb77f59db0f00e7a6051fbcb2353842428bf16"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13891c2609be32cffdd65ad2878b17ecd8c6122d", "author": {"user": {"login": "romseygeek", "name": "Alan Woodward"}}, "url": "https://github.com/elastic/elasticsearch/commit/13891c2609be32cffdd65ad2878b17ecd8c6122d", "committedDate": "2020-09-02T17:19:21Z", "message": "use assumeFalse; allow scaled_float null_value to be null"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4996, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}