{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY4NDc5OTY5", "number": 51599, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwMjowOTo0NlrODcHiag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwMjowOTo0NlrODcHiag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwODEwMjE4OnYy", "diffSide": "RIGHT", "path": "modules/reindex/src/main/java/org/elasticsearch/index/reindex/ReindexTaskStateUpdater.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwMjowOTo0NlrOFj_rdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QxNToyMDoxM1rOFk1Dcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI4Nzc5OA==", "bodyText": "Do we need this? I feel like adding the \"poll\" interaction model when we are doing all the working to implement the \"push\" component makes the interaction with the state updater and task more complicated that required.", "url": "https://github.com/elastic/elasticsearch/pull/51599#discussion_r373287798", "createdAt": "2020-01-31T02:09:46Z", "author": {"login": "tbrooks8"}, "path": "modules/reindex/src/main/java/org/elasticsearch/index/reindex/ReindexTaskStateUpdater.java", "diffHunk": "@@ -43,31 +45,36 @@\n \n     private final ReindexIndexClient reindexIndexClient;\n     private final ThreadPool threadPool;\n-    private final String taskId;\n+    private final String persistentTaskId;\n     private final long allocationId;\n+    private final TaskId ephemeralTaskId;\n     private final ActionListener<ReindexTaskStateDoc> finishedListener;\n     private final Runnable onCheckpointAssignmentConflict;\n+    private Consumer<Float> requestsPerSecondObserver;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7120dfc70d04d38b54428a9c06910cb090b3a6bd"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDE2MjI5MA==", "bodyText": "Thanks, I agree, removed in b6096a9", "url": "https://github.com/elastic/elasticsearch/pull/51599#discussion_r374162290", "createdAt": "2020-02-03T15:20:13Z", "author": {"login": "henningandersen"}, "path": "modules/reindex/src/main/java/org/elasticsearch/index/reindex/ReindexTaskStateUpdater.java", "diffHunk": "@@ -43,31 +45,36 @@\n \n     private final ReindexIndexClient reindexIndexClient;\n     private final ThreadPool threadPool;\n-    private final String taskId;\n+    private final String persistentTaskId;\n     private final long allocationId;\n+    private final TaskId ephemeralTaskId;\n     private final ActionListener<ReindexTaskStateDoc> finishedListener;\n     private final Runnable onCheckpointAssignmentConflict;\n+    private Consumer<Float> requestsPerSecondObserver;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI4Nzc5OA=="}, "originalCommit": {"oid": "7120dfc70d04d38b54428a9c06910cb090b3a6bd"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 93, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}