{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3OTYwMDQ4", "number": 60323, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMDozNzo0NlrOEUv-zg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMDozNzo0NlrOEUv-zg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMTkzMTAyOnYy", "diffSide": "RIGHT", "path": "docs/reference/ilm/ilm-tutorial.asciidoc", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMDozNzo0NlrOG7H7Qw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMjo1MzowM1rOG7LOCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDY0OTAyNw==", "bodyText": "If we update these docs to use data streams at the same time, we could add that here to this template and then remove this line, what do you think?", "url": "https://github.com/elastic/elasticsearch/pull/60323#discussion_r464649027", "createdAt": "2020-08-03T20:37:46Z", "author": {"login": "dakrone"}, "path": "docs/reference/ilm/ilm-tutorial.asciidoc", "diffHunk": "@@ -310,24 +310,26 @@ that match the index pattern.\n when the rollover action is triggered for an index.\n \n You can use the {kib} Create template wizard to add the template. To access the\n-wizard, open the menu, go to *Stack Management > Index Management*, and click\n-the *Index Templates* tab.\n+wizard, open the menu and go to *Stack Management > Index Management*. In the\n+the *Index Templates* tab, click *Create template*.\n \n [role=\"screenshot\"]\n-image:images/ilm/create-template-wizard.png[]\n+image:images/ilm/create-template-wizard.png[Create template page]\n \n The create template request for the example template looks like this:\n \n [source,console]\n -----------------------\n-PUT _template/timeseries_template\n+PUT _index_template/timeseries_template\n {\n   \"index_patterns\": [\"timeseries-*\"],                 <1>\n-  \"settings\": {\n-    \"number_of_shards\": 1,\n-    \"number_of_replicas\": 1,\n-    \"index.lifecycle.name\": \"timeseries_policy\",      <2>\n-    \"index.lifecycle.rollover_alias\": \"timeseries\"    <3>\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1,\n+      \"number_of_replicas\": 1,\n+      \"index.lifecycle.name\": \"timeseries_policy\",      <2>\n+      \"index.lifecycle.rollover_alias\": \"timeseries\"    <3>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ffe815c2a071784763750c5d710eb168e6e38dbd"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDY3OTMyMw==", "bodyText": "There are instructions for using data streams with ILM further up the page. Those sections already use composable templates.\nThis section is nested under \"Manage time-series data without data streams\":\nhttps://www.elastic.co/guide/en/elasticsearch/reference/master/getting-started-index-lifecycle-management.html#manage-time-series-data-without-data-streams\nWe decided to keep these instructions around because:\n\nFrom what I understand, Logstash will continue using rollover aliases.\nData streams aren't a good fit for users that need to frequently delete or update docs.\n\nThere's a tip at the top of the page that directs users here if #2 is the case:\nhttps://www.elastic.co/guide/en/elasticsearch/reference/master/getting-started-index-lifecycle-management.html#getting-started-index-lifecycle-management\nIf neither of those are applicable anymore, I think we can just remove rollover alias instructions entirely.", "url": "https://github.com/elastic/elasticsearch/pull/60323#discussion_r464679323", "createdAt": "2020-08-03T21:46:42Z", "author": {"login": "jrodewig"}, "path": "docs/reference/ilm/ilm-tutorial.asciidoc", "diffHunk": "@@ -310,24 +310,26 @@ that match the index pattern.\n when the rollover action is triggered for an index.\n \n You can use the {kib} Create template wizard to add the template. To access the\n-wizard, open the menu, go to *Stack Management > Index Management*, and click\n-the *Index Templates* tab.\n+wizard, open the menu and go to *Stack Management > Index Management*. In the\n+the *Index Templates* tab, click *Create template*.\n \n [role=\"screenshot\"]\n-image:images/ilm/create-template-wizard.png[]\n+image:images/ilm/create-template-wizard.png[Create template page]\n \n The create template request for the example template looks like this:\n \n [source,console]\n -----------------------\n-PUT _template/timeseries_template\n+PUT _index_template/timeseries_template\n {\n   \"index_patterns\": [\"timeseries-*\"],                 <1>\n-  \"settings\": {\n-    \"number_of_shards\": 1,\n-    \"number_of_replicas\": 1,\n-    \"index.lifecycle.name\": \"timeseries_policy\",      <2>\n-    \"index.lifecycle.rollover_alias\": \"timeseries\"    <3>\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1,\n+      \"number_of_replicas\": 1,\n+      \"index.lifecycle.name\": \"timeseries_policy\",      <2>\n+      \"index.lifecycle.rollover_alias\": \"timeseries\"    <3>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDY0OTAyNw=="}, "originalCommit": {"oid": "ffe815c2a071784763750c5d710eb168e6e38dbd"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDcwMjk4Nw==", "bodyText": "Sorry, I totally missed that part, LGTM then!", "url": "https://github.com/elastic/elasticsearch/pull/60323#discussion_r464702987", "createdAt": "2020-08-03T22:53:03Z", "author": {"login": "dakrone"}, "path": "docs/reference/ilm/ilm-tutorial.asciidoc", "diffHunk": "@@ -310,24 +310,26 @@ that match the index pattern.\n when the rollover action is triggered for an index.\n \n You can use the {kib} Create template wizard to add the template. To access the\n-wizard, open the menu, go to *Stack Management > Index Management*, and click\n-the *Index Templates* tab.\n+wizard, open the menu and go to *Stack Management > Index Management*. In the\n+the *Index Templates* tab, click *Create template*.\n \n [role=\"screenshot\"]\n-image:images/ilm/create-template-wizard.png[]\n+image:images/ilm/create-template-wizard.png[Create template page]\n \n The create template request for the example template looks like this:\n \n [source,console]\n -----------------------\n-PUT _template/timeseries_template\n+PUT _index_template/timeseries_template\n {\n   \"index_patterns\": [\"timeseries-*\"],                 <1>\n-  \"settings\": {\n-    \"number_of_shards\": 1,\n-    \"number_of_replicas\": 1,\n-    \"index.lifecycle.name\": \"timeseries_policy\",      <2>\n-    \"index.lifecycle.rollover_alias\": \"timeseries\"    <3>\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1,\n+      \"number_of_replicas\": 1,\n+      \"index.lifecycle.name\": \"timeseries_policy\",      <2>\n+      \"index.lifecycle.rollover_alias\": \"timeseries\"    <3>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDY0OTAyNw=="}, "originalCommit": {"oid": "ffe815c2a071784763750c5d710eb168e6e38dbd"}, "originalPosition": 40}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2785, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}