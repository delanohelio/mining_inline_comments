{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkzMzIwNTQ1", "number": 62913, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxOToxNDo0NlrOEnkwOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxOToxNDo0NlrOEnkwOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5OTMyMDkwOnYy", "diffSide": "LEFT", "path": "x-pack/plugin/monitoring/src/main/java/org/elasticsearch/xpack/monitoring/exporter/local/LocalExporter.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxOToxNDo0NlrOHYPmoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxOToxNDo0NlrOHYPmoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTE4MzUyMQ==", "bodyText": "Non master doesn't need to load this in the first place, master only needs to load it once. The current code loads it on every CS update until monitoring templates are fully initialized. In x-pack ITs that spin up 6 nodes this can lead to slowness.", "url": "https://github.com/elastic/elasticsearch/pull/62913#discussion_r495183521", "createdAt": "2020-09-25T19:14:46Z", "author": {"login": "original-brownbear"}, "path": "x-pack/plugin/monitoring/src/main/java/org/elasticsearch/xpack/monitoring/exporter/local/LocalExporter.java", "diffHunk": "@@ -203,17 +202,13 @@ LocalBulk resolveBulk(ClusterState clusterState, boolean clusterStateChange) {\n             return null;\n         }\n \n-        // List of templates\n-        final Map<String, String> templates = Arrays.stream(MonitoringTemplateUtils.TEMPLATE_IDS)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96eecb1c2c00d2dfa883b508611b327ebef8f07b"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3357, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}