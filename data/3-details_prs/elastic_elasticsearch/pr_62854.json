{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkyMzMwNjcx", "number": 62854, "title": "[ML] Set parent task Id on ml expired data removers", "bodyText": "Set the parent task Id (of the delete expired data action) on the expired data removers.\nThis makes it easier to track and cancel long running tasks\nThe data removers all use OriginSettingClient which I couldn't replace for a ParentTaskAssigningClient so the parent id had to be added to each request. The only other option I could think of is to create a OriginSettingParentTaskAssigningClient class.", "createdAt": "2020-09-24T10:00:18Z", "url": "https://github.com/elastic/elasticsearch/pull/62854", "merged": true, "mergeCommit": {"oid": "b9cd9ec58d8c61457269032cecd3018811e9e360"}, "closed": true, "closedAt": "2020-09-28T16:21:13Z", "author": {"login": "davidkyle"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdL985yAH2gAyNDkyMzMwNjcxOjIzYTI3MzZiYjYxZGQyYWM4ZmYyNDhlNjEyZTM3M2UxYmI4MDljYzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdL_St-AFqTQ5NTQ2MTQ2Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "23a2736bb61dd2ac8ff248e612e373e1bb809cc2", "author": {"user": {"login": "davidkyle", "name": "David Kyle"}}, "url": "https://github.com/elastic/elasticsearch/commit/23a2736bb61dd2ac8ff248e612e373e1bb809cc2", "committedDate": "2020-09-24T09:41:08Z", "message": "Set parent task Id on ml expired data removers"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1NDQxNjg5", "url": "https://github.com/elastic/elasticsearch/pull/62854#pullrequestreview-495441689", "createdAt": "2020-09-24T10:44:43Z", "commit": {"oid": "23a2736bb61dd2ac8ff248e612e373e1bb809cc2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1NDYxNDY2", "url": "https://github.com/elastic/elasticsearch/pull/62854#pullrequestreview-495461466", "createdAt": "2020-09-24T11:14:45Z", "commit": {"oid": "23a2736bb61dd2ac8ff248e612e373e1bb809cc2"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxMToxNDo0NlrOHXVb3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxMToxNDo0NlrOHXVb3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDIzMDQ5NQ==", "bodyText": "I'm wondering if it would make sense for this method to be a part of the MlDataRemover interface.", "url": "https://github.com/elastic/elasticsearch/pull/62854#discussion_r494230495", "createdAt": "2020-09-24T11:14:46Z", "author": {"login": "przemekwitek"}, "path": "x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/job/retention/AbstractExpiredJobDataRemover.java", "diffHunk": "@@ -27,10 +28,16 @@\n \n     protected final OriginSettingClient client;\n     private final Iterator<Job> jobIterator;\n+    private final TaskId parentTaskId;\n \n-    AbstractExpiredJobDataRemover(OriginSettingClient client, Iterator<Job> jobIterator) {\n+    AbstractExpiredJobDataRemover(OriginSettingClient client, Iterator<Job> jobIterator, TaskId parentTaskId) {\n         this.client = client;\n         this.jobIterator = jobIterator;\n+        this.parentTaskId = parentTaskId;\n+    }\n+\n+    protected TaskId getParentTaskId() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23a2736bb61dd2ac8ff248e612e373e1bb809cc2"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4602, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}