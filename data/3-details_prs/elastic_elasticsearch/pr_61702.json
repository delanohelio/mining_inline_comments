{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc2MTU2OTM3", "number": 61702, "title": "Include trusted issuer details in SSL diagnostics", "bodyText": "This commit changes the SSL Diagnostic warning to include additional\ndetails about trusted certificate issuers when the provide certificate\nchain does not match any trust anchors.\n\nIf there are no trusted issuers, this is explicitly called out\nIf there is one trusted issuer, it is listed by name (DN) and fingerprint\nIf there are between 2 and 9 trusted issuers, then they are listed\nby name (DN)\nIf there are  10 or more trusted issuers, the number of issuers is\nincluded in the message (but no other details).", "createdAt": "2020-08-31T08:47:07Z", "url": "https://github.com/elastic/elasticsearch/pull/61702", "merged": true, "mergeCommit": {"oid": "235521ccafc0ab2dfa7b7421769522644fb7e25c"}, "closed": true, "closedAt": "2020-09-18T05:16:38Z", "author": {"login": "tvernum"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdEOxWBAH2gAyNDc2MTU2OTM3OjQ1ZWE1Y2Q5NmQ2ZGZkY2RiYWJiZjRkYjQ0NmEwZDQ3ZWFjYTYyODU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdJ9p28gH2gAyNDc2MTU2OTM3OmU0NmJkN2YwYTMwOWEwMmRkMWRjMDg2ZWFhMWY4MTAwMzFiMDRhMGI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "45ea5cd96d6dfdcdbabbf4db446a0d47eaca6285", "author": {"user": {"login": "tvernum", "name": "Tim Vernum"}}, "url": "https://github.com/elastic/elasticsearch/commit/45ea5cd96d6dfdcdbabbf4db446a0d47eaca6285", "committedDate": "2020-08-31T08:45:30Z", "message": "Include trusted issuer details in SSL diagnostics\n\nThis commit changes the SSL Diagnostic warning to include additional\ndetails about trusted certificate issuers when the provide certificate\nchain does not match any trust anchors.\n\n- If there are no trusted issuers, this is explicitly called out\n- If there is one trusted issuer, it is listed by name (DN) and fingerprint\n- If there are between 2 and 10 trusted issuers, then they are listed\n  by name (DN)\n- If there are more than 10 trusted issuers, the number of issuers is\n  included in the message (but no other details)."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4ODE3Njcy", "url": "https://github.com/elastic/elasticsearch/pull/61702#pullrequestreview-478817672", "createdAt": "2020-08-31T17:48:51Z", "commit": {"oid": "45ea5cd96d6dfdcdbabbf4db446a0d47eaca6285"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5Mzk5MTI3", "url": "https://github.com/elastic/elasticsearch/pull/61702#pullrequestreview-479399127", "createdAt": "2020-09-01T04:54:00Z", "commit": {"oid": "45ea5cd96d6dfdcdbabbf4db446a0d47eaca6285"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQwNDo1NDowMFrOHKh_YQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQwNDo1NDowMFrOHKh_YQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDgwNDcwNQ==", "bodyText": "For completeness, should we have a test where the number is greater than 9?", "url": "https://github.com/elastic/elasticsearch/pull/61702#discussion_r480804705", "createdAt": "2020-09-01T04:54:00Z", "author": {"login": "ywangd"}, "path": "libs/ssl-config/src/test/java/org/elasticsearch/common/ssl/SslDiagnosticsTests.java", "diffHunk": "@@ -126,7 +126,8 @@ public void testDiagnosticMessageWhenServerProvidesEndCertificateOnlyButTheCertA\n             \" the certificate has subject alternative names [DNS:localhost,IP:127.0.0.1];\" +\n             \" the certificate is issued by [CN=Test CA 1]\" +\n             \" but the server did not provide a copy of the issuing certificate in the certificate chain;\" +\n-            \" this ssl context ([xpack.http.ssl]) is not configured to trust that issuer\"));\n+            \" this ssl context ([xpack.http.ssl]) is not configured to trust that issuer\" +\n+            \" but trusts [2] other issuers ([CN=Test CA 2, CN=Test CA 3])\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45ea5cd96d6dfdcdbabbf4db446a0d47eaca6285"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08da2d413652a512debd29f48b711b4df62223c3", "author": {"user": {"login": "tvernum", "name": "Tim Vernum"}}, "url": "https://github.com/elastic/elasticsearch/commit/08da2d413652a512debd29f48b711b4df62223c3", "committedDate": "2020-09-03T03:37:29Z", "message": "Add test for large # of issuers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d293233da02571f4d85b2809eeacc677c731ee95", "author": {"user": {"login": "tvernum", "name": "Tim Vernum"}}, "url": "https://github.com/elastic/elasticsearch/commit/d293233da02571f4d85b2809eeacc677c731ee95", "committedDate": "2020-09-03T03:37:50Z", "message": "Merge branch 'master' into ssl-diagnostics-empty-trust"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3672afc10c2e5d697ab5b138ae88b0ae9e0faf8b", "author": {"user": {"login": "tvernum", "name": "Tim Vernum"}}, "url": "https://github.com/elastic/elasticsearch/commit/3672afc10c2e5d697ab5b138ae88b0ae9e0faf8b", "committedDate": "2020-09-18T04:01:48Z", "message": "Merge branch 'master' into ssl-diagnostics-empty-trust"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e46bd7f0a309a02dd1dc086eaa1f810031b04a0b", "author": {"user": {"login": "tvernum", "name": "Tim Vernum"}}, "url": "https://github.com/elastic/elasticsearch/commit/e46bd7f0a309a02dd1dc086eaa1f810031b04a0b", "committedDate": "2020-09-18T04:12:29Z", "message": "Add tests for unknown issuers"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 38, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}