{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0OTA2ODUy", "number": 59089, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxNzozODowMFrOEMlw9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxNzozOToyOFrOEMly7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxNjM3MTExOnYy", "diffSide": "RIGHT", "path": "modules/aggs-matrix-stats/build.gradle", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxNzozODowMFrOGuyjBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQyMDo1Mzo1OVrOGu42yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcxNTg0NA==", "bodyText": "doesn't yaml-rest-test apply the rest-resources plugin?", "url": "https://github.com/elastic/elasticsearch/pull/59089#discussion_r451715844", "createdAt": "2020-07-08T17:38:00Z", "author": {"login": "mark-vieira"}, "path": "modules/aggs-matrix-stats/build.gradle", "diffHunk": "@@ -17,6 +17,7 @@\n  * under the License.\n  */\n apply plugin: 'elasticsearch.rest-resources'\n+apply plugin: 'elasticsearch.yaml-rest-test'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c1eccf01529f45ce7321fa90b66a2ebd9f6ad51"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcyMjQyOQ==", "bodyText": "It does, wasn't sure if we wanted to keep it explicit since most projects are configured in some way or if we should just let it be implicit via the yaml-rest-test.\nI don't have a strong opinion either way.", "url": "https://github.com/elastic/elasticsearch/pull/59089#discussion_r451722429", "createdAt": "2020-07-08T17:49:15Z", "author": {"login": "jakelandis"}, "path": "modules/aggs-matrix-stats/build.gradle", "diffHunk": "@@ -17,6 +17,7 @@\n  * under the License.\n  */\n apply plugin: 'elasticsearch.rest-resources'\n+apply plugin: 'elasticsearch.yaml-rest-test'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcxNTg0NA=="}, "originalCommit": {"oid": "6c1eccf01529f45ce7321fa90b66a2ebd9f6ad51"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTgxOTIxMQ==", "bodyText": "I don't think we need to be explicit. We are saying this is a \"yaml test project\", we should assume that plugin will apply any dependencies.", "url": "https://github.com/elastic/elasticsearch/pull/59089#discussion_r451819211", "createdAt": "2020-07-08T20:53:59Z", "author": {"login": "mark-vieira"}, "path": "modules/aggs-matrix-stats/build.gradle", "diffHunk": "@@ -17,6 +17,7 @@\n  * under the License.\n  */\n apply plugin: 'elasticsearch.rest-resources'\n+apply plugin: 'elasticsearch.yaml-rest-test'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcxNTg0NA=="}, "originalCommit": {"oid": "6c1eccf01529f45ce7321fa90b66a2ebd9f6ad51"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxNjM3MzU0OnYy", "diffSide": "RIGHT", "path": "modules/aggs-matrix-stats/build.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxNzozODo0NFrOGuykoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxNzo1MzowNlrOGuzGCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcxNjI1Ng==", "bodyText": "What's creating this task? Can we structure things somehow such that projects only with yaml tests simply don't have this task at all?", "url": "https://github.com/elastic/elasticsearch/pull/59089#discussion_r451716256", "createdAt": "2020-07-08T17:38:44Z", "author": {"login": "mark-vieira"}, "path": "modules/aggs-matrix-stats/build.gradle", "diffHunk": "@@ -28,3 +29,5 @@ restResources {\n     includeCore '_common', 'indices', 'cluster', 'index', 'search', 'nodes'\n   }\n }\n+\n+integTest.enabled = false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c1eccf01529f45ce7321fa90b66a2ebd9f6ad51"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcyNDgxMA==", "bodyText": "It is the PluginBuildPlugin :(  I can't really remove it or conditionally apply it until we get javaYamlTest (and all internalClusterTest are correctly moved too).\nI should be able to get to that after all of the yamlRestTests are converted.", "url": "https://github.com/elastic/elasticsearch/pull/59089#discussion_r451724810", "createdAt": "2020-07-08T17:53:06Z", "author": {"login": "jakelandis"}, "path": "modules/aggs-matrix-stats/build.gradle", "diffHunk": "@@ -28,3 +29,5 @@ restResources {\n     includeCore '_common', 'indices', 'cluster', 'index', 'search', 'nodes'\n   }\n }\n+\n+integTest.enabled = false", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcxNjI1Ng=="}, "originalCommit": {"oid": "6c1eccf01529f45ce7321fa90b66a2ebd9f6ad51"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxNjM3NjEzOnYy", "diffSide": "RIGHT", "path": "modules/geo/build.gradle", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxNzozOToyOFrOGuymTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxNzozOToyOFrOGuymTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTcxNjY4Ng==", "bodyText": "let's use file() instead of new File().", "url": "https://github.com/elastic/elasticsearch/pull/59089#discussion_r451716686", "createdAt": "2020-07-08T17:39:28Z", "author": {"login": "mark-vieira"}, "path": "modules/geo/build.gradle", "diffHunk": "@@ -17,12 +17,21 @@\n  * under the License.\n  */\n apply plugin: 'elasticsearch.rest-resources'\n+apply plugin: 'elasticsearch.yaml-rest-test'\n \n esplugin {\n   description 'Placeholder plugin for geospatial features in ES. only registers geo_shape field mapper for now'\n   classname 'org.elasticsearch.geo.GeoPlugin'\n }\n \n+restResources {\n+  restApi {\n+    includeCore '_common', 'indices', 'index', 'search'\n+  }\n+}\n artifacts {\n-  restTests(new File(projectDir, \"src/test/resources/rest-api-spec/test\"))\n+  restTests(new File(projectDir, \"src/yamlRestTest/resources/rest-api-spec/test\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c1eccf01529f45ce7321fa90b66a2ebd9f6ad51"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2082, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}