{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzNzAwMDg4", "number": 54207, "title": "[ML] Get ML filters size should default to 100", "bodyText": "When get filters is called without setting the size\nparameter only up to 10 filters are returned. However,\n100 filters should be returned. This commit fixes this\nand adds an integ test to guard it.\nIt seems this was accidentally broken in #39976.\nCloses #54206", "createdAt": "2020-03-25T16:43:09Z", "url": "https://github.com/elastic/elasticsearch/pull/54207", "merged": true, "mergeCommit": {"oid": "98798a27f5ff7c0aa4ad3d4e05d2114fbdde1dba"}, "closed": true, "closedAt": "2020-03-26T14:51:33Z", "author": {"login": "dimitris-athanasiou"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRKQVMgH2gAyMzkzNzAwMDg4OmQ4OWNlNTdiNDliZTc4YzE0ZWIxNTM1OTAwYzdmNjkxZTZhOWQ1ZWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRYr-egH2gAyMzkzNzAwMDg4OjM4NTNhYTBjZTdmZWM4NjJlOTc0NTg5OTEzYmI2YjMyN2QyNDI5Yjc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d89ce57b49be78c14eb1535900c7f691e6a9d5ea", "author": {"user": {"login": "dimitris-athanasiou", "name": "Dimitris Athanasiou"}}, "url": "https://github.com/elastic/elasticsearch/commit/d89ce57b49be78c14eb1535900c7f691e6a9d5ea", "committedDate": "2020-03-25T16:39:41Z", "message": "[ML] Get ML filters size should default to 100\n\nWhen get filters is called without setting the `size`\nparamter only up to 10 filters are returned. However,\n100 filters should be returned. This commit fixes this\nand adds an integ test to guard it.\n\nIt seems this was accidentally broken in #39976.\n\nCloses #54206"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5aafc2e891024496a8c4fa2024ee1e3046a0502a", "author": {"user": {"login": "dimitris-athanasiou", "name": "Dimitris Athanasiou"}}, "url": "https://github.com/elastic/elasticsearch/commit/5aafc2e891024496a8c4fa2024ee1e3046a0502a", "committedDate": "2020-03-25T16:48:29Z", "message": "remove unused imports"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMzc3NTE0", "url": "https://github.com/elastic/elasticsearch/pull/54207#pullrequestreview-381377514", "createdAt": "2020-03-25T17:30:24Z", "commit": {"oid": "5aafc2e891024496a8c4fa2024ee1e3046a0502a"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxNzozMDoyNVrOF7mZlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxNzozMDoyNVrOF7mZlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODAzOTQ0NQ==", "bodyText": "#nit\nThis seems like a very expensive test. Spinning up 3 nodes and native processes to make filter API calls.\nI suppose it is thorough. Might could move to our single node internal cluster tests at some point.", "url": "https://github.com/elastic/elasticsearch/pull/54207#discussion_r398039445", "createdAt": "2020-03-25T17:30:25Z", "author": {"login": "benwtrent"}, "path": "x-pack/plugin/ml/qa/native-multi-node-tests/src/test/java/org/elasticsearch/xpack/ml/integration/MlFiltersIT.java", "diffHunk": "@@ -0,0 +1,31 @@\n+/*\n+ * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n+ * or more contributor license agreements. Licensed under the Elastic License;\n+ * you may not use this file except in compliance with the Elastic License.\n+ */\n+\n+package org.elasticsearch.xpack.ml.integration;\n+\n+import org.elasticsearch.xpack.core.ml.action.GetFiltersAction;\n+import org.elasticsearch.xpack.core.ml.job.config.MlFilter;\n+\n+import static org.hamcrest.Matchers.equalTo;\n+\n+public class MlFiltersIT extends MlNativeIntegTestCase {\n+\n+    @Override\n+    protected void cleanUpResources() {\n+        // nothing to clean\n+    }\n+\n+    public void testGetFilters_ShouldReturnUpTo100ByDefault() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5aafc2e891024496a8c4fa2024ee1e3046a0502a"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3853aa0ce7fec862e974589913bb6b327d2429b7", "author": {"user": {"login": "dimitris-athanasiou", "name": "Dimitris Athanasiou"}}, "url": "https://github.com/elastic/elasticsearch/commit/3853aa0ce7fec862e974589913bb6b327d2429b7", "committedDate": "2020-03-26T09:28:33Z", "message": "Make test single node and further fixes"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1553, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}