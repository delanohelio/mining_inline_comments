{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5MzM4NDI2", "number": 51717, "title": "Disable build cache for packaging tests", "bodyText": "For packaging tests, calculating inputs is complicated as the thing we are testing could be an archive (tar/zip), a installer package (deb/rpm) or a Docker image. In our build logic we don't make any attempt to track any of these things as an input to the Java packaging tests so there are times where we might be getting false cache hits for these tests. In practice, this hasn't happened because the build cache has been disabled for our packaging test CI builds, but a) we should enable the cache there, and for all other builds and b) we could get incorrect results when running locally with the cache.", "createdAt": "2020-01-30T23:25:05Z", "url": "https://github.com/elastic/elasticsearch/pull/51717", "merged": true, "mergeCommit": {"oid": "378b27b9fb40459cc4792aa06616c131f498584a"}, "closed": true, "closedAt": "2020-01-31T01:23:24Z", "author": {"login": "mark-vieira"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_jD0CAH2gAyMzY5MzM4NDI2OjIyOTAzZDliYzVjZWZlMDViNGM2OTc1MTk2ZDM2Mjc4ZGQxZGFlMjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_kxfkAFqTM1MTI0NzY2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "22903d9bc5cefe05b4c6975196d36278dd1dae22", "author": {"user": {"login": "mark-vieira", "name": "Mark Vieira"}}, "url": "https://github.com/elastic/elasticsearch/commit/22903d9bc5cefe05b4c6975196d36278dd1dae22", "committedDate": "2020-01-30T23:23:00Z", "message": "Disable build cache for packaging tests\n\nSigned-off-by: Mark Vieira <portugee@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMjQ0MTc5", "url": "https://github.com/elastic/elasticsearch/pull/51717#pullrequestreview-351244179", "createdAt": "2020-01-31T01:09:51Z", "commit": {"oid": "22903d9bc5cefe05b4c6975196d36278dd1dae22"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwMTowOTo1MVrOFj-5Iw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwMTowOTo1MVrOFj-5Iw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI3NDkxNQ==", "bodyText": "This isn't actually a packaging test, it's running rest tests with docker. I don't think we disable caching for the rest of rest or qa tests do we?", "url": "https://github.com/elastic/elasticsearch/pull/51717#discussion_r373274915", "createdAt": "2020-01-31T01:09:51Z", "author": {"login": "rjernst"}, "path": "distribution/docker/build.gradle", "diffHunk": "@@ -137,6 +137,7 @@ processTestResources {\n }\n \n task integTest(type: Test) {\n+  outputs.doNotCacheIf('Build cache is disabled for Docker tests') { true }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "22903d9bc5cefe05b4c6975196d36278dd1dae22"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMjQ3NjYy", "url": "https://github.com/elastic/elasticsearch/pull/51717#pullrequestreview-351247662", "createdAt": "2020-01-31T01:22:48Z", "commit": {"oid": "22903d9bc5cefe05b4c6975196d36278dd1dae22"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3135, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}