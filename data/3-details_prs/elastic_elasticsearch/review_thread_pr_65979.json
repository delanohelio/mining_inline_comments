{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzOTA2MDE1", "number": 65979, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNToyMDo0M1rOFCaArA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo1MTowMFrOFCgTDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MDY3NjI4OnYy", "diffSide": "LEFT", "path": "docs/reference/data-streams/data-streams.asciidoc", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNToyMDo0M1rOIBi0iA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxODoxMDowOFrOIBuVoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ4OTk5Mg==", "bodyText": "With the migration API, this is no longer necessarily the case. A converted index alias does not create a new backing index or write index.\nI'm not sure the first two sentences were needed originally anyway.", "url": "https://github.com/elastic/elasticsearch/pull/65979#discussion_r538489992", "createdAt": "2020-12-08T15:20:43Z", "author": {"login": "jrodewig"}, "path": "docs/reference/data-streams/data-streams.asciidoc", "diffHunk": "@@ -74,10 +74,8 @@ such as:\n [[data-streams-rollover]]\n == Rollover\n \n-When you create a data stream, {es} automatically creates a backing index for\n-the stream. This index also acts as the stream's first write index. A\n-<<indices-rollover-index,rollover>> creates a new backing index that becomes the\n-stream's new write index.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e220cdcf64f2aa5776c4b9b8fcb9eac69321cfa"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY1MjM3Mg==", "bodyText": "It is still true that a backing index is created automatically when you create a data stream with the Create Data Stream API. It's entirely up to you whether that needs to be mentioned here or not.", "url": "https://github.com/elastic/elasticsearch/pull/65979#discussion_r538652372", "createdAt": "2020-12-08T17:45:00Z", "author": {"login": "danhermann"}, "path": "docs/reference/data-streams/data-streams.asciidoc", "diffHunk": "@@ -74,10 +74,8 @@ such as:\n [[data-streams-rollover]]\n == Rollover\n \n-When you create a data stream, {es} automatically creates a backing index for\n-the stream. This index also acts as the stream's first write index. A\n-<<indices-rollover-index,rollover>> creates a new backing index that becomes the\n-stream's new write index.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ4OTk5Mg=="}, "originalCommit": {"oid": "8e220cdcf64f2aa5776c4b9b8fcb9eac69321cfa"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY3ODY4OA==", "bodyText": "I relocated these first two sentences to the \"Set up a data stream\" page with 800ae62.", "url": "https://github.com/elastic/elasticsearch/pull/65979#discussion_r538678688", "createdAt": "2020-12-08T18:10:08Z", "author": {"login": "jrodewig"}, "path": "docs/reference/data-streams/data-streams.asciidoc", "diffHunk": "@@ -74,10 +74,8 @@ such as:\n [[data-streams-rollover]]\n == Rollover\n \n-When you create a data stream, {es} automatically creates a backing index for\n-the stream. This index also acts as the stream's first write index. A\n-<<indices-rollover-index,rollover>> creates a new backing index that becomes the\n-stream's new write index.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODQ4OTk5Mg=="}, "originalCommit": {"oid": "8e220cdcf64f2aa5776c4b9b8fcb9eac69321cfa"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM4MTcwNjM2OnYy", "diffSide": "RIGHT", "path": "docs/reference/data-streams/set-up-a-data-stream.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo1MTowMFrOIBtIJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxODoxMTo0N1rOIBucJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY1ODg1NA==", "bodyText": "There are limitations on the kinds of indices that can be migrated to data streams, but I don't know whether it's important to mention those here. Mentioning them would essentially duplicate the content of the docs for the migration API.", "url": "https://github.com/elastic/elasticsearch/pull/65979#discussion_r538658854", "createdAt": "2020-12-08T17:51:00Z", "author": {"login": "danhermann"}, "path": "docs/reference/data-streams/set-up-a-data-stream.asciidoc", "diffHunk": "@@ -154,6 +157,70 @@ PUT /_data_stream/my-data-stream\n // TEST[continued]\n // TEST[s/my-data-stream/my-data-stream-alt/]\n \n+[discrete]\n+[[convert-an-index-alias-to-a-data-stream]]\n+=== Convert an index alias to a data stream\n+\n+Prior to {es} 7.9, you would typically use an <<indices-aliases,index alias>>\n+with a write index to manage time series data. Data streams replace most of\n+this functionality and usually require less maintenance.\n+\n+To convert an index alias with a write index to a new data stream with the same\n+name, use the <<indices-migrate-to-data-stream,migrate to data stream API>>.\n+During conversion, the alias\u2019s indices become hidden backing indices for the\n+stream. The alias\u2019s write index becomes the stream\u2019s write index. Note the data\n+stream still requires a matching <<create-a-data-stream-template,index\n+template>>.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27a7c03089ed7e3116741d2e33be65ffc45e2d69"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY4MDM1OA==", "bodyText": "Agree. I think the xref to the API will suffice. If we get feedback to the contrary, I can reuse the reqs from the API docs here without duplicating the source. However, I'd like to avoid that if able.", "url": "https://github.com/elastic/elasticsearch/pull/65979#discussion_r538680358", "createdAt": "2020-12-08T18:11:47Z", "author": {"login": "jrodewig"}, "path": "docs/reference/data-streams/set-up-a-data-stream.asciidoc", "diffHunk": "@@ -154,6 +157,70 @@ PUT /_data_stream/my-data-stream\n // TEST[continued]\n // TEST[s/my-data-stream/my-data-stream-alt/]\n \n+[discrete]\n+[[convert-an-index-alias-to-a-data-stream]]\n+=== Convert an index alias to a data stream\n+\n+Prior to {es} 7.9, you would typically use an <<indices-aliases,index alias>>\n+with a write index to manage time series data. Data streams replace most of\n+this functionality and usually require less maintenance.\n+\n+To convert an index alias with a write index to a new data stream with the same\n+name, use the <<indices-migrate-to-data-stream,migrate to data stream API>>.\n+During conversion, the alias\u2019s indices become hidden backing indices for the\n+stream. The alias\u2019s write index becomes the stream\u2019s write index. Note the data\n+stream still requires a matching <<create-a-data-stream-template,index\n+template>>.\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY1ODg1NA=="}, "originalCommit": {"oid": "27a7c03089ed7e3116741d2e33be65ffc45e2d69"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1795, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}