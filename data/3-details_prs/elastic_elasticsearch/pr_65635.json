{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5NzkxMzY5", "number": 65635, "title": "[DOCS] Document cat allocation API response properties", "bodyText": "Documents the response properties for the cat allocation API.\nCloses #65523\nPreview\nhttps://elasticsearch_65635.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/cat-allocation.html#cat-allocation-api-response-body", "createdAt": "2020-11-30T20:26:44Z", "url": "https://github.com/elastic/elasticsearch/pull/65635", "merged": true, "mergeCommit": {"oid": "5476d8a6e08044eb9d940559e6a2b7b6250618eb"}, "closed": true, "closedAt": "2021-02-03T17:58:36Z", "author": {"login": "jrodewig"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhrjH0gH2gAyNTI5NzkxMzY5OmRlNGI2M2E3MTBhMjg1YWNmMzRkYzQwZmJkNzk5N2U2MTFhY2Y2YmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABd2kCckAFqTU4MjYzNzk3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "de4b63a710a285acf34dc40fbd7997e611acf6be", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/de4b63a710a285acf34dc40fbd7997e611acf6be", "committedDate": "2020-11-30T20:41:01Z", "message": "[DOCS] Document `_cat/allocation` API response"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c85488ab13700c131f6b748a7c6ed8df972f0667", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/c85488ab13700c131f6b748a7c6ed8df972f0667", "committedDate": "2020-11-30T20:36:06Z", "message": "reword"}, "afterCommit": {"oid": "de4b63a710a285acf34dc40fbd7997e611acf6be", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/de4b63a710a285acf34dc40fbd7997e611acf6be", "committedDate": "2020-11-30T20:41:01Z", "message": "[DOCS] Document `_cat/allocation` API response"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxMjg1OTY2", "url": "https://github.com/elastic/elasticsearch/pull/65635#pullrequestreview-541285966", "createdAt": "2020-11-30T20:53:59Z", "commit": {"oid": "de4b63a710a285acf34dc40fbd7997e611acf6be"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMDo1Mzo1OVrOH8NbhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMDo1NDo0M1rOH8Nc9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg5NjY0NQ==", "bodyText": "I intentionally omitted the data type (e.g., (integer)). cat APIs aren't intended for application consumption so it shouldn't be needed. Let me know if there's a use case I'm overlooking.", "url": "https://github.com/elastic/elasticsearch/pull/65635#discussion_r532896645", "createdAt": "2020-11-30T20:53:59Z", "author": {"login": "jrodewig"}, "path": "docs/reference/cat/allocation.asciidoc", "diffHunk": "@@ -40,6 +40,40 @@ include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=cat-s]\n \n include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=cat-v]\n \n+[[cat-allocation-api-response-body]]\n+==== {api-response-body-title}\n+\n+`shards`::\n+Number of primary and replica shards assigned to the node.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "de4b63a710a285acf34dc40fbd7997e611acf6be"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg5NzAxNQ==", "bodyText": "Let me know if there are any other \"gotchas\" for disk.indices.", "url": "https://github.com/elastic/elasticsearch/pull/65635#discussion_r532897015", "createdAt": "2020-11-30T20:54:43Z", "author": {"login": "jrodewig"}, "path": "docs/reference/cat/allocation.asciidoc", "diffHunk": "@@ -40,6 +40,40 @@ include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=cat-s]\n \n include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=cat-v]\n \n+[[cat-allocation-api-response-body]]\n+==== {api-response-body-title}\n+\n+`shards`::\n+Number of primary and replica shards assigned to the node.\n+\n+`disk.indices`::\n+Disk space used by the node's shards. Does not include disk space for the\n+<<index-modules-translog,translog>> or unassigned shards.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "de4b63a710a285acf34dc40fbd7997e611acf6be"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d635acf5f64926a801a6db649808794e0868e24", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/4d635acf5f64926a801a6db649808794e0868e24", "committedDate": "2020-11-30T21:55:29Z", "message": "reword"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6c42ff35830f6a44997dbaf72a497765b472fff", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/a6c42ff35830f6a44997dbaf72a497765b472fff", "committedDate": "2020-11-30T21:58:14Z", "message": "Clarify"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTgyNTg0MzEy", "url": "https://github.com/elastic/elasticsearch/pull/65635#pullrequestreview-582584312", "createdAt": "2021-02-03T16:57:13Z", "commit": {"oid": "a6c42ff35830f6a44997dbaf72a497765b472fff"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wM1QxNjo1NzoxNFrOIfMZjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wM1QxNzowMToxNVrOIfMmAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2OTU3OTkxNg==", "bodyText": "This metric also double-counts any files which are hard-linked, such as those created when shrinking/splitting/cloning an index.", "url": "https://github.com/elastic/elasticsearch/pull/65635#discussion_r569579916", "createdAt": "2021-02-03T16:57:14Z", "author": {"login": "DaveCTurner"}, "path": "docs/reference/cat/allocation.asciidoc", "diffHunk": "@@ -40,6 +40,40 @@ include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=cat-s]\n \n include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=cat-v]\n \n+[[cat-allocation-api-response-body]]\n+==== {api-response-body-title}\n+\n+`shards`::\n+Number of primary and replica shards assigned to the node.\n+\n+`disk.indices`::\n+Disk space used by the node's shards. Does not include disk space for the\n+<<index-modules-translog,translog>> or unassigned shards.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg5NzAxNQ=="}, "originalCommit": {"oid": "de4b63a710a285acf34dc40fbd7997e611acf6be"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2OTU4MDgwNA==", "bodyText": "Could we indicate that Elasticsearch retrieves this metric from the OS rather than calculating it itself? Maybe also indicate that, in contrast with disk.indices, it does include translogs and unassigned shards  and does not double-count hard-linked files.\nIt might also help to indicate that this is the number that is compared to the disk watermarks in disk-based shard allocation.", "url": "https://github.com/elastic/elasticsearch/pull/65635#discussion_r569580804", "createdAt": "2021-02-03T16:58:18Z", "author": {"login": "DaveCTurner"}, "path": "docs/reference/cat/allocation.asciidoc", "diffHunk": "@@ -40,6 +40,40 @@ include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=cat-s]\n \n include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=cat-v]\n \n+[[cat-allocation-api-response-body]]\n+==== {api-response-body-title}\n+\n+`shards`::\n+Number of primary and replica shards assigned to the node.\n+\n+`disk.indices`::\n+Disk space used by the node's shards. Does not include disk space for the\n+<<index-modules-translog,translog>> or unassigned shards.\n+\n+`disk.used`::\n+Total disk space in use. Includes {es}, the node's OS, and any other\n+applications or files on the node.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6c42ff35830f6a44997dbaf72a497765b472fff"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2OTU4MDk2MA==", "bodyText": "Similarly, this comes pretty directly from the OS.", "url": "https://github.com/elastic/elasticsearch/pull/65635#discussion_r569580960", "createdAt": "2021-02-03T16:58:30Z", "author": {"login": "DaveCTurner"}, "path": "docs/reference/cat/allocation.asciidoc", "diffHunk": "@@ -40,6 +40,40 @@ include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=cat-s]\n \n include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=cat-v]\n \n+[[cat-allocation-api-response-body]]\n+==== {api-response-body-title}\n+\n+`shards`::\n+Number of primary and replica shards assigned to the node.\n+\n+`disk.indices`::\n+Disk space used by the node's shards. Does not include disk space for the\n+<<index-modules-translog,translog>> or unassigned shards.\n+\n+`disk.used`::\n+Total disk space in use. Includes {es}, the node's OS, and any other\n+applications or files on the node.\n+\n+`disk.avail`::\n+Free disk space available to {es}.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6c42ff35830f6a44997dbaf72a497765b472fff"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2OTU4MjgzNQ==", "bodyText": "Should we spell out that this is just disk.used / disk.total?", "url": "https://github.com/elastic/elasticsearch/pull/65635#discussion_r569582835", "createdAt": "2021-02-03T17:00:54Z", "author": {"login": "DaveCTurner"}, "path": "docs/reference/cat/allocation.asciidoc", "diffHunk": "@@ -40,6 +40,40 @@ include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=cat-s]\n \n include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=cat-v]\n \n+[[cat-allocation-api-response-body]]\n+==== {api-response-body-title}\n+\n+`shards`::\n+Number of primary and replica shards assigned to the node.\n+\n+`disk.indices`::\n+Disk space used by the node's shards. Does not include disk space for the\n+<<index-modules-translog,translog>> or unassigned shards.\n+\n+`disk.used`::\n+Total disk space in use. Includes {es}, the node's OS, and any other\n+applications or files on the node.\n+\n+`disk.avail`::\n+Free disk space available to {es}.\n+\n+`disk.total`::\n+Total disk space for the node, including in-use and available space.\n+\n+`disk.percent`::\n+Total percentage of disk space in use. Includes {es}, the node's OS, and any", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6c42ff35830f6a44997dbaf72a497765b472fff"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2OTU4MzEwNA==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/elastic/elasticsearch/pull/65635#discussion_r569583104", "createdAt": "2021-02-03T17:01:15Z", "author": {"login": "DaveCTurner"}, "path": "docs/reference/cat/allocation.asciidoc", "diffHunk": "@@ -40,6 +40,40 @@ include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=cat-s]\n \n include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=cat-v]\n \n+[[cat-allocation-api-response-body]]\n+==== {api-response-body-title}\n+\n+`shards`::\n+Number of primary and replica shards assigned to the node.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg5NjY0NQ=="}, "originalCommit": {"oid": "de4b63a710a285acf34dc40fbd7997e611acf6be"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "812d2bae6747b281f36db2cb8018dda4eb5c0a5e", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/812d2bae6747b281f36db2cb8018dda4eb5c0a5e", "committedDate": "2021-02-03T17:26:02Z", "message": "Apply review suggestions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75c0c540f38745f510bc0d759e78c1cc5622dd30", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/75c0c540f38745f510bc0d759e78c1cc5622dd30", "committedDate": "2021-02-03T17:29:15Z", "message": "minor reword"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTgyNjM3OTc2", "url": "https://github.com/elastic/elasticsearch/pull/65635#pullrequestreview-582637976", "createdAt": "2021-02-03T17:48:24Z", "commit": {"oid": "75c0c540f38745f510bc0d759e78c1cc5622dd30"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4189, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}