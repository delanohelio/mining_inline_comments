{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgzMTQxMTA3", "number": 62193, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQwOToyMTo0N1rOEiB1zw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMTowMDozOFrOEjT74w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0MTE3MTk5OnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/core/src/main/resources/synthetics-policy.json", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQwOToyMTo0N1rOHPq3rQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMTowMTowN1rOHRma_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjE5MzA2OQ==", "bodyText": "@andrewvc I assume this also works for synthetics for now?", "url": "https://github.com/elastic/elasticsearch/pull/62193#discussion_r486193069", "createdAt": "2020-09-10T09:21:47Z", "author": {"login": "ruflin"}, "path": "x-pack/plugin/core/src/main/resources/synthetics-policy.json", "diffHunk": "@@ -0,0 +1,12 @@\n+{\n+  \"phases\": {\n+    \"hot\": {\n+      \"actions\": {\n+        \"rollover\": {\n+          \"max_size\": \"50gb\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "af938d856a9e8a5af76ef52dcabfca30b90e4b4f"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODIxNzM0Mw==", "bodyText": "TBH we haven't done enough benchmarking to know, but it seems reasonable", "url": "https://github.com/elastic/elasticsearch/pull/62193#discussion_r488217343", "createdAt": "2020-09-14T21:01:07Z", "author": {"login": "andrewvc"}, "path": "x-pack/plugin/core/src/main/resources/synthetics-policy.json", "diffHunk": "@@ -0,0 +1,12 @@\n+{\n+  \"phases\": {\n+    \"hot\": {\n+      \"actions\": {\n+        \"rollover\": {\n+          \"max_size\": \"50gb\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjE5MzA2OQ=="}, "originalCommit": {"oid": "af938d856a9e8a5af76ef52dcabfca30b90e4b4f"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0MTE3NDI4OnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/core/src/main/resources/synthetics-template.json", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQwOToyMjoyNFrOHPq5Jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQwOToyMjoyNFrOHPq5Jw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjE5MzQ0Nw==", "bodyText": "@jpountz I remember you wanted to \"not\" use components here. Perhaps it is a good time to adjust?", "url": "https://github.com/elastic/elasticsearch/pull/62193#discussion_r486193447", "createdAt": "2020-09-10T09:22:24Z", "author": {"login": "ruflin"}, "path": "x-pack/plugin/core/src/main/resources/synthetics-template.json", "diffHunk": "@@ -0,0 +1,14 @@\n+{\n+  \"index_patterns\": [\"synthetics-*-*\"],\n+  \"priority\": 100,\n+  \"data_stream\": {},\n+  \"composed_of\": [\n+    \"synthetics-mappings\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "af938d856a9e8a5af76ef52dcabfca30b90e4b4f"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MjI1NDkwOnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/core/src/main/resources/synthetics-settings.json", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMTo0NDoxMFrOHRP5nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNDozNTo1MFrOHRYDaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg0ODM1MQ==", "bodyText": "This one feels wrong since synthetics don't have a message?", "url": "https://github.com/elastic/elasticsearch/pull/62193#discussion_r487848351", "createdAt": "2020-09-14T11:44:10Z", "author": {"login": "jpountz"}, "path": "x-pack/plugin/core/src/main/resources/synthetics-settings.json", "diffHunk": "@@ -0,0 +1,20 @@\n+{\n+  \"template\": {\n+    \"settings\": {\n+      \"index\": {\n+        \"lifecycle\": {\n+          \"name\": \"synthetics\"\n+        },\n+        \"codec\": \"best_compression\",\n+        \"query\": {\n+          \"default_field\": [\"message\"]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba48b6787b5d19eed9a113dfaaa98948a0af3611"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzk4MTkzMQ==", "bodyText": "Good call, I'll remove the default_field and stick with implicit \"all\" then, since it doesn't seem like there's a good alternative for this?", "url": "https://github.com/elastic/elasticsearch/pull/62193#discussion_r487981931", "createdAt": "2020-09-14T14:35:50Z", "author": {"login": "dakrone"}, "path": "x-pack/plugin/core/src/main/resources/synthetics-settings.json", "diffHunk": "@@ -0,0 +1,20 @@\n+{\n+  \"template\": {\n+    \"settings\": {\n+      \"index\": {\n+        \"lifecycle\": {\n+          \"name\": \"synthetics\"\n+        },\n+        \"codec\": \"best_compression\",\n+        \"query\": {\n+          \"default_field\": [\"message\"]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg0ODM1MQ=="}, "originalCommit": {"oid": "ba48b6787b5d19eed9a113dfaaa98948a0af3611"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NDYyMjQzOnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/core/src/main/resources/synthetics-mappings.json", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMTowMDozOFrOHRmZ_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxOTo0MjoyNlrOHSR2AA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODIxNzA4NA==", "bodyText": "I'm actually wondering if we can drop this field. We don't use host.* but rather observer.* in synthetics. It's not a big deal (we could just ignore it), but it isn't going to be used.", "url": "https://github.com/elastic/elasticsearch/pull/62193#discussion_r488217084", "createdAt": "2020-09-14T21:00:38Z", "author": {"login": "andrewvc"}, "path": "x-pack/plugin/core/src/main/resources/synthetics-mappings.json", "diffHunk": "@@ -0,0 +1,57 @@\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"dynamic_templates\": [\n+        {\n+          \"strings_as_keyword\": {\n+            \"mapping\": {\n+              \"ignore_above\": 1024,\n+              \"type\": \"keyword\"\n+            },\n+            \"match_mapping_type\": \"string\"\n+          }\n+        }\n+      ],\n+      \"date_detection\": false,\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        },\n+        \"data_stream\": {\n+          \"properties\": {\n+            \"type\": {\n+              \"type\": \"constant_keyword\",\n+              \"value\": \"synthetics\"\n+            },\n+            \"dataset\": {\n+              \"type\": \"constant_keyword\"\n+            },\n+            \"namespace\": {\n+              \"type\": \"constant_keyword\"\n+            }\n+          }\n+        },\n+        \"ecs\": {\n+          \"properties\": {\n+            \"version\": {\n+              \"ignore_above\": 1024,\n+              \"type\": \"keyword\"\n+            }\n+          }\n+        },\n+        \"host\": {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d21aaac24303b6b76dc25d3be21738a19b49bbac"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODIxODA1OQ==", "bodyText": "It makes sense to drop it if we're not going to use it. I will remove it", "url": "https://github.com/elastic/elasticsearch/pull/62193#discussion_r488218059", "createdAt": "2020-09-14T21:02:37Z", "author": {"login": "dakrone"}, "path": "x-pack/plugin/core/src/main/resources/synthetics-mappings.json", "diffHunk": "@@ -0,0 +1,57 @@\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"dynamic_templates\": [\n+        {\n+          \"strings_as_keyword\": {\n+            \"mapping\": {\n+              \"ignore_above\": 1024,\n+              \"type\": \"keyword\"\n+            },\n+            \"match_mapping_type\": \"string\"\n+          }\n+        }\n+      ],\n+      \"date_detection\": false,\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        },\n+        \"data_stream\": {\n+          \"properties\": {\n+            \"type\": {\n+              \"type\": \"constant_keyword\",\n+              \"value\": \"synthetics\"\n+            },\n+            \"dataset\": {\n+              \"type\": \"constant_keyword\"\n+            },\n+            \"namespace\": {\n+              \"type\": \"constant_keyword\"\n+            }\n+          }\n+        },\n+        \"ecs\": {\n+          \"properties\": {\n+            \"version\": {\n+              \"ignore_above\": 1024,\n+              \"type\": \"keyword\"\n+            }\n+          }\n+        },\n+        \"host\": {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODIxNzA4NA=="}, "originalCommit": {"oid": "d21aaac24303b6b76dc25d3be21738a19b49bbac"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQzNjU4Nw==", "bodyText": "@dakrone The host.ip is here for safety reason that nobody ships data with host as keyword, so I would rather keep it. And to be double save, in the synthetics case it probably makes sense then to add observer.ip.", "url": "https://github.com/elastic/elasticsearch/pull/62193#discussion_r488436587", "createdAt": "2020-09-15T07:10:40Z", "author": {"login": "ruflin"}, "path": "x-pack/plugin/core/src/main/resources/synthetics-mappings.json", "diffHunk": "@@ -0,0 +1,57 @@\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"dynamic_templates\": [\n+        {\n+          \"strings_as_keyword\": {\n+            \"mapping\": {\n+              \"ignore_above\": 1024,\n+              \"type\": \"keyword\"\n+            },\n+            \"match_mapping_type\": \"string\"\n+          }\n+        }\n+      ],\n+      \"date_detection\": false,\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        },\n+        \"data_stream\": {\n+          \"properties\": {\n+            \"type\": {\n+              \"type\": \"constant_keyword\",\n+              \"value\": \"synthetics\"\n+            },\n+            \"dataset\": {\n+              \"type\": \"constant_keyword\"\n+            },\n+            \"namespace\": {\n+              \"type\": \"constant_keyword\"\n+            }\n+          }\n+        },\n+        \"ecs\": {\n+          \"properties\": {\n+            \"version\": {\n+              \"ignore_above\": 1024,\n+              \"type\": \"keyword\"\n+            }\n+          }\n+        },\n+        \"host\": {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODIxNzA4NA=="}, "originalCommit": {"oid": "d21aaac24303b6b76dc25d3be21738a19b49bbac"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODc3ODY5OQ==", "bodyText": "Alright, since this was already merged I'll open a different PR to re-add both of these fields", "url": "https://github.com/elastic/elasticsearch/pull/62193#discussion_r488778699", "createdAt": "2020-09-15T15:54:23Z", "author": {"login": "dakrone"}, "path": "x-pack/plugin/core/src/main/resources/synthetics-mappings.json", "diffHunk": "@@ -0,0 +1,57 @@\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"dynamic_templates\": [\n+        {\n+          \"strings_as_keyword\": {\n+            \"mapping\": {\n+              \"ignore_above\": 1024,\n+              \"type\": \"keyword\"\n+            },\n+            \"match_mapping_type\": \"string\"\n+          }\n+        }\n+      ],\n+      \"date_detection\": false,\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        },\n+        \"data_stream\": {\n+          \"properties\": {\n+            \"type\": {\n+              \"type\": \"constant_keyword\",\n+              \"value\": \"synthetics\"\n+            },\n+            \"dataset\": {\n+              \"type\": \"constant_keyword\"\n+            },\n+            \"namespace\": {\n+              \"type\": \"constant_keyword\"\n+            }\n+          }\n+        },\n+        \"ecs\": {\n+          \"properties\": {\n+            \"version\": {\n+              \"ignore_above\": 1024,\n+              \"type\": \"keyword\"\n+            }\n+          }\n+        },\n+        \"host\": {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODIxNzA4NA=="}, "originalCommit": {"oid": "d21aaac24303b6b76dc25d3be21738a19b49bbac"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODkyODc2OA==", "bodyText": "Opened #62412 for this.", "url": "https://github.com/elastic/elasticsearch/pull/62193#discussion_r488928768", "createdAt": "2020-09-15T19:42:26Z", "author": {"login": "dakrone"}, "path": "x-pack/plugin/core/src/main/resources/synthetics-mappings.json", "diffHunk": "@@ -0,0 +1,57 @@\n+{\n+  \"template\": {\n+    \"mappings\": {\n+      \"dynamic_templates\": [\n+        {\n+          \"strings_as_keyword\": {\n+            \"mapping\": {\n+              \"ignore_above\": 1024,\n+              \"type\": \"keyword\"\n+            },\n+            \"match_mapping_type\": \"string\"\n+          }\n+        }\n+      ],\n+      \"date_detection\": false,\n+      \"properties\": {\n+        \"@timestamp\": {\n+          \"type\": \"date\"\n+        },\n+        \"data_stream\": {\n+          \"properties\": {\n+            \"type\": {\n+              \"type\": \"constant_keyword\",\n+              \"value\": \"synthetics\"\n+            },\n+            \"dataset\": {\n+              \"type\": \"constant_keyword\"\n+            },\n+            \"namespace\": {\n+              \"type\": \"constant_keyword\"\n+            }\n+          }\n+        },\n+        \"ecs\": {\n+          \"properties\": {\n+            \"version\": {\n+              \"ignore_above\": 1024,\n+              \"type\": \"keyword\"\n+            }\n+          }\n+        },\n+        \"host\": {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODIxNzA4NA=="}, "originalCommit": {"oid": "d21aaac24303b6b76dc25d3be21738a19b49bbac"}, "originalPosition": 42}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1599, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}