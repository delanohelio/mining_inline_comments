{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIxNjQ1MTY5", "number": 65065, "reviewThreads": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNDowODoxMVrOE5gN9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwNzowNjoxOFrOE54EJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NzMyMTUwOnYy", "diffSide": "RIGHT", "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNDowODoxMVrOH0ARkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNjo1MDoxMFrOH0HzxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5MjQ5Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            === SAML sp metadata API\n          \n          \n            \n            === SAML service provider metadata API", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524292497", "createdAt": "2020-11-16T14:08:11Z", "author": {"login": "jkakavas"}, "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "diffHunk": "@@ -0,0 +1,44 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML sp metadata API", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3a57fb70e97249653a23ae4f7ca0b1b7dbedeed"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5MjU4NA==", "bodyText": "or SP", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524292584", "createdAt": "2020-11-16T14:08:19Z", "author": {"login": "jkakavas"}, "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "diffHunk": "@@ -0,0 +1,44 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML sp metadata API", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5MjQ5Nw=="}, "originalCommit": {"oid": "d3a57fb70e97249653a23ae4f7ca0b1b7dbedeed"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQxNTk0MA==", "bodyText": "Done", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524415940", "createdAt": "2020-11-16T16:50:10Z", "author": {"login": "BigPandaToo"}, "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "diffHunk": "@@ -0,0 +1,44 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML sp metadata API", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5MjQ5Nw=="}, "originalCommit": {"oid": "d3a57fb70e97249653a23ae4f7ca0b1b7dbedeed"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NzMyNDk4OnYy", "diffSide": "RIGHT", "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNDowODo1OFrOH0ATig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNDowODo1OFrOH0ATig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5MzAwMg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Generate a SAML 2.0 Service Provider Metadata.\n          \n          \n            \n            Generate SAML metadata for a SAML 2.0 Service Provider.", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524293002", "createdAt": "2020-11-16T14:08:58Z", "author": {"login": "jkakavas"}, "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "diffHunk": "@@ -0,0 +1,44 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML sp metadata API\n+\n+Generate a SAML 2.0 Service Provider Metadata.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3a57fb70e97249653a23ae4f7ca0b1b7dbedeed"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NzMzMDc3OnYy", "diffSide": "RIGHT", "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNDoxMDoxNVrOH0AXHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNjo1MDoyMFrOH0H0Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5MzkxNw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            `POST /_security/saml/metadata/<realmname>`\n          \n          \n            \n            `GET /_security/saml/metadata/<realmname>`", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524293917", "createdAt": "2020-11-16T14:10:15Z", "author": {"login": "jkakavas"}, "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "diffHunk": "@@ -0,0 +1,44 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML sp metadata API\n+\n+Generate a SAML 2.0 Service Provider Metadata.\n+\n+[[security-api-saml-sp-metadata-request]]\n+==== {api-request-title}\n+\n+`POST /_security/saml/metadata/<realmname>`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3a57fb70e97249653a23ae4f7ca0b1b7dbedeed"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQxNjA1MA==", "bodyText": "Done", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524416050", "createdAt": "2020-11-16T16:50:20Z", "author": {"login": "BigPandaToo"}, "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "diffHunk": "@@ -0,0 +1,44 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML sp metadata API\n+\n+Generate a SAML 2.0 Service Provider Metadata.\n+\n+[[security-api-saml-sp-metadata-request]]\n+==== {api-request-title}\n+\n+`POST /_security/saml/metadata/<realmname>`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5MzkxNw=="}, "originalCommit": {"oid": "d3a57fb70e97249653a23ae4f7ca0b1b7dbedeed"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NzMzNDYxOnYy", "diffSide": "RIGHT", "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNDoxMTowNVrOH0AZeg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNDoxMTowNVrOH0AZeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5NDUyMg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            (string) An XML string that contains a SAML Service Providers metadata for the realm.\n          \n          \n            \n            (string) An XML string that contains a SAML Service Provider's metadata for the realm.", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524294522", "createdAt": "2020-11-16T14:11:05Z", "author": {"login": "jkakavas"}, "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "diffHunk": "@@ -0,0 +1,44 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML sp metadata API\n+\n+Generate a SAML 2.0 Service Provider Metadata.\n+\n+[[security-api-saml-sp-metadata-request]]\n+==== {api-request-title}\n+\n+`POST /_security/saml/metadata/<realmname>`\n+\n+[[security-api-saml-sp-metadata-desc]]\n+==== {api-description-title}\n+\n+The SAML 2.0 specification provides a mechanism for Service Providers to describe their\n+capabilities and configuration using a metadata file.\n+This API generates Service Provider metadata, based on the configuration of a SAML realm\n+in Elasticsearch.\n+\n+[[security-api-saml-sp-metadata-response-body]]\n+==== {api-response-body-title}\n+\n+`metadata`::\n+(string) An XML string that contains a SAML Service Providers metadata for the realm.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3a57fb70e97249653a23ae4f7ca0b1b7dbedeed"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NzMzNjAxOnYy", "diffSide": "RIGHT", "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNDoxMToyM1rOH0AaXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNjo1MDozMFrOH0H0vw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5NDc0OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The following example generate Service Provider metadata for\n          \n          \n            \n            The following example generates Service Provider metadata for", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524294749", "createdAt": "2020-11-16T14:11:23Z", "author": {"login": "jkakavas"}, "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "diffHunk": "@@ -0,0 +1,44 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML sp metadata API\n+\n+Generate a SAML 2.0 Service Provider Metadata.\n+\n+[[security-api-saml-sp-metadata-request]]\n+==== {api-request-title}\n+\n+`POST /_security/saml/metadata/<realmname>`\n+\n+[[security-api-saml-sp-metadata-desc]]\n+==== {api-description-title}\n+\n+The SAML 2.0 specification provides a mechanism for Service Providers to describe their\n+capabilities and configuration using a metadata file.\n+This API generates Service Provider metadata, based on the configuration of a SAML realm\n+in Elasticsearch.\n+\n+[[security-api-saml-sp-metadata-response-body]]\n+==== {api-response-body-title}\n+\n+`metadata`::\n+(string) An XML string that contains a SAML Service Providers metadata for the realm.\n+\n+[[security-api-saml-sp-metadata-example]]\n+==== {api-examples-title}\n+\n+The following example generate Service Provider metadata for", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3a57fb70e97249653a23ae4f7ca0b1b7dbedeed"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQxNjE5MQ==", "bodyText": "Done", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524416191", "createdAt": "2020-11-16T16:50:30Z", "author": {"login": "BigPandaToo"}, "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "diffHunk": "@@ -0,0 +1,44 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML sp metadata API\n+\n+Generate a SAML 2.0 Service Provider Metadata.\n+\n+[[security-api-saml-sp-metadata-request]]\n+==== {api-request-title}\n+\n+`POST /_security/saml/metadata/<realmname>`\n+\n+[[security-api-saml-sp-metadata-desc]]\n+==== {api-description-title}\n+\n+The SAML 2.0 specification provides a mechanism for Service Providers to describe their\n+capabilities and configuration using a metadata file.\n+This API generates Service Provider metadata, based on the configuration of a SAML realm\n+in Elasticsearch.\n+\n+[[security-api-saml-sp-metadata-response-body]]\n+==== {api-response-body-title}\n+\n+`metadata`::\n+(string) An XML string that contains a SAML Service Providers metadata for the realm.\n+\n+[[security-api-saml-sp-metadata-example]]\n+==== {api-examples-title}\n+\n+The following example generate Service Provider metadata for", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5NDc0OQ=="}, "originalCommit": {"oid": "d3a57fb70e97249653a23ae4f7ca0b1b7dbedeed"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4NzM0NDA4OnYy", "diffSide": "RIGHT", "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNDoxMzoxOVrOH0AfNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQxNjo1Mjo1OFrOH0H8IQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5NTk4OA==", "bodyText": "// NOTCONSOLE: Marks this snippet as neither // CONSOLE nor // TESTRESPONSE, excluding it from the list of unconverted snippets. We should only use this for snippets that are JSON but are not responses or requests.\n\nWhy do we mark this as // NOTCONSOLE ?", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524295988", "createdAt": "2020-11-16T14:13:19Z", "author": {"login": "jkakavas"}, "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "diffHunk": "@@ -0,0 +1,44 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML sp metadata API\n+\n+Generate a SAML 2.0 Service Provider Metadata.\n+\n+[[security-api-saml-sp-metadata-request]]\n+==== {api-request-title}\n+\n+`POST /_security/saml/metadata/<realmname>`\n+\n+[[security-api-saml-sp-metadata-desc]]\n+==== {api-description-title}\n+\n+The SAML 2.0 specification provides a mechanism for Service Providers to describe their\n+capabilities and configuration using a metadata file.\n+This API generates Service Provider metadata, based on the configuration of a SAML realm\n+in Elasticsearch.\n+\n+[[security-api-saml-sp-metadata-response-body]]\n+==== {api-response-body-title}\n+\n+`metadata`::\n+(string) An XML string that contains a SAML Service Providers metadata for the realm.\n+\n+[[security-api-saml-sp-metadata-example]]\n+==== {api-examples-title}\n+\n+The following example generate Service Provider metadata for\n+SAML realm `saml1`:\n+\n+[source,console]\n+--------------------------------------------------\n+GET /_security/saml/metadata/saml1\n+--------------------------------------------------\n+The API returns the following response:\n+\n+[source,js]\n+--------------------------------------------------\n+{\n+    \"metadata\" : \"<?xml version=\"1.0\" encoding=\"UTF-8\"?><md:EntityDescriptor xmlns:md=\"urn:oasis:names:tc:SAML:2.0:metadata\" entityID=\"https://kibana.example.com/\"><md:SPSSODescriptor AuthnRequestsSigned=\"false\" WantAssertionsSigned=\"true\" protocolSupportEnumeration=\"urn:oasis:names:tc:SAML:2.0:protocol\"><md:SingleLogoutService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\" Location=\"https://kibana.example.com/logout\"/><md:AssertionConsumerService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\" Location=\"https://kibana.example.com/api/security/v1/saml\" index=\"1\" isDefault=\"true\"/></md:SPSSODescriptor></md:EntityDescriptor>\"\n+}\n+--------------------------------------------------\n+// NOTCONSOLE", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3a57fb70e97249653a23ae4f7ca0b1b7dbedeed"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQxNjkxNA==", "bodyText": "Forgot to make it \"draft\"...", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524416914", "createdAt": "2020-11-16T16:51:27Z", "author": {"login": "BigPandaToo"}, "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "diffHunk": "@@ -0,0 +1,44 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML sp metadata API\n+\n+Generate a SAML 2.0 Service Provider Metadata.\n+\n+[[security-api-saml-sp-metadata-request]]\n+==== {api-request-title}\n+\n+`POST /_security/saml/metadata/<realmname>`\n+\n+[[security-api-saml-sp-metadata-desc]]\n+==== {api-description-title}\n+\n+The SAML 2.0 specification provides a mechanism for Service Providers to describe their\n+capabilities and configuration using a metadata file.\n+This API generates Service Provider metadata, based on the configuration of a SAML realm\n+in Elasticsearch.\n+\n+[[security-api-saml-sp-metadata-response-body]]\n+==== {api-response-body-title}\n+\n+`metadata`::\n+(string) An XML string that contains a SAML Service Providers metadata for the realm.\n+\n+[[security-api-saml-sp-metadata-example]]\n+==== {api-examples-title}\n+\n+The following example generate Service Provider metadata for\n+SAML realm `saml1`:\n+\n+[source,console]\n+--------------------------------------------------\n+GET /_security/saml/metadata/saml1\n+--------------------------------------------------\n+The API returns the following response:\n+\n+[source,js]\n+--------------------------------------------------\n+{\n+    \"metadata\" : \"<?xml version=\"1.0\" encoding=\"UTF-8\"?><md:EntityDescriptor xmlns:md=\"urn:oasis:names:tc:SAML:2.0:metadata\" entityID=\"https://kibana.example.com/\"><md:SPSSODescriptor AuthnRequestsSigned=\"false\" WantAssertionsSigned=\"true\" protocolSupportEnumeration=\"urn:oasis:names:tc:SAML:2.0:protocol\"><md:SingleLogoutService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\" Location=\"https://kibana.example.com/logout\"/><md:AssertionConsumerService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\" Location=\"https://kibana.example.com/api/security/v1/saml\" index=\"1\" isDefault=\"true\"/></md:SPSSODescriptor></md:EntityDescriptor>\"\n+}\n+--------------------------------------------------\n+// NOTCONSOLE", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5NTk4OA=="}, "originalCommit": {"oid": "d3a57fb70e97249653a23ae4f7ca0b1b7dbedeed"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDQxODA4MQ==", "bodyText": "I think the problem was with [source,js] initially.", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524418081", "createdAt": "2020-11-16T16:52:58Z", "author": {"login": "BigPandaToo"}, "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "diffHunk": "@@ -0,0 +1,44 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML sp metadata API\n+\n+Generate a SAML 2.0 Service Provider Metadata.\n+\n+[[security-api-saml-sp-metadata-request]]\n+==== {api-request-title}\n+\n+`POST /_security/saml/metadata/<realmname>`\n+\n+[[security-api-saml-sp-metadata-desc]]\n+==== {api-description-title}\n+\n+The SAML 2.0 specification provides a mechanism for Service Providers to describe their\n+capabilities and configuration using a metadata file.\n+This API generates Service Provider metadata, based on the configuration of a SAML realm\n+in Elasticsearch.\n+\n+[[security-api-saml-sp-metadata-response-body]]\n+==== {api-response-body-title}\n+\n+`metadata`::\n+(string) An XML string that contains a SAML Service Providers metadata for the realm.\n+\n+[[security-api-saml-sp-metadata-example]]\n+==== {api-examples-title}\n+\n+The following example generate Service Provider metadata for\n+SAML realm `saml1`:\n+\n+[source,console]\n+--------------------------------------------------\n+GET /_security/saml/metadata/saml1\n+--------------------------------------------------\n+The API returns the following response:\n+\n+[source,js]\n+--------------------------------------------------\n+{\n+    \"metadata\" : \"<?xml version=\"1.0\" encoding=\"UTF-8\"?><md:EntityDescriptor xmlns:md=\"urn:oasis:names:tc:SAML:2.0:metadata\" entityID=\"https://kibana.example.com/\"><md:SPSSODescriptor AuthnRequestsSigned=\"false\" WantAssertionsSigned=\"true\" protocolSupportEnumeration=\"urn:oasis:names:tc:SAML:2.0:protocol\"><md:SingleLogoutService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\" Location=\"https://kibana.example.com/logout\"/><md:AssertionConsumerService Binding=\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\" Location=\"https://kibana.example.com/api/security/v1/saml\" index=\"1\" isDefault=\"true\"/></md:SPSSODescriptor></md:EntityDescriptor>\"\n+}\n+--------------------------------------------------\n+// NOTCONSOLE", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDI5NTk4OA=="}, "originalCommit": {"oid": "d3a57fb70e97249653a23ae4f7ca0b1b7dbedeed"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4ODkzOTcxOnYy", "diffSide": "RIGHT", "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMDoxNDoyNFrOH0Ppuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMDo1NDowMFrOH0Q-fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDU0NDQ0Mw==", "bodyText": "Let's add an sp.logout in \n  \n    \n      elasticsearch/x-pack/docs/build.gradle\n    \n    \n         Line 58\n      in\n      d9905e6\n    \n    \n    \n    \n\n        \n          \n           setting 'xpack.security.authc.realms.saml.saml1.order', '4' \n        \n    \n  \n\n instead of removing it here", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524544443", "createdAt": "2020-11-16T20:14:24Z", "author": {"login": "jkakavas"}, "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "diffHunk": "@@ -38,6 +38,6 @@ The API returns the following response:\n [source,console-result]\n --------------------------------------------------\n {\n-    \"metadata\" : \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?><md:EntityDescriptor xmlns:md=\\\"urn:oasis:names:tc:SAML:2.0:metadata\\\" entityID=\\\"https://kibana.example.com/\\\"><md:SPSSODescriptor AuthnRequestsSigned=\\\"false\\\" WantAssertionsSigned=\\\"true\\\" protocolSupportEnumeration=\\\"urn:oasis:names:tc:SAML:2.0:protocol\\\"><md:SingleLogoutService Binding=\\\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\\\" Location=\\\"https://kibana.example.com/logout\\\"/><md:AssertionConsumerService Binding=\\\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\" Location=\\\"https://kibana.example.com/api/security/v1/saml\\\" index=\\\"1\\\" isDefault=\\\"true\\\"/></md:SPSSODescriptor></md:EntityDescriptor>\"\n+    \"metadata\" : \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?><md:EntityDescriptor xmlns:md=\\\"urn:oasis:names:tc:SAML:2.0:metadata\\\" entityID=\\\"https://kibana.org\\\"><md:SPSSODescriptor AuthnRequestsSigned=\\\"false\\\" WantAssertionsSigned=\\\"true\\\" protocolSupportEnumeration=\\\"urn:oasis:names:tc:SAML:2.0:protocol\\\"><md:AssertionConsumerService Binding=\\\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\" Location=\\\"https://kibana.org/api/security/saml/callback\\\" index=\\\"1\\\" isDefault=\\\"true\\\"/></md:SPSSODescriptor></md:EntityDescriptor>\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9a7e2e5c9a097d0fa9970ae92493ca237728f33"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDU2NjE0Mw==", "bodyText": "Done", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524566143", "createdAt": "2020-11-16T20:54:00Z", "author": {"login": "BigPandaToo"}, "path": "x-pack/docs/en/rest-api/security/saml_sp_metadata.asciidoc", "diffHunk": "@@ -38,6 +38,6 @@ The API returns the following response:\n [source,console-result]\n --------------------------------------------------\n {\n-    \"metadata\" : \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?><md:EntityDescriptor xmlns:md=\\\"urn:oasis:names:tc:SAML:2.0:metadata\\\" entityID=\\\"https://kibana.example.com/\\\"><md:SPSSODescriptor AuthnRequestsSigned=\\\"false\\\" WantAssertionsSigned=\\\"true\\\" protocolSupportEnumeration=\\\"urn:oasis:names:tc:SAML:2.0:protocol\\\"><md:SingleLogoutService Binding=\\\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\\\" Location=\\\"https://kibana.example.com/logout\\\"/><md:AssertionConsumerService Binding=\\\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\" Location=\\\"https://kibana.example.com/api/security/v1/saml\\\" index=\\\"1\\\" isDefault=\\\"true\\\"/></md:SPSSODescriptor></md:EntityDescriptor>\"\n+    \"metadata\" : \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?><md:EntityDescriptor xmlns:md=\\\"urn:oasis:names:tc:SAML:2.0:metadata\\\" entityID=\\\"https://kibana.org\\\"><md:SPSSODescriptor AuthnRequestsSigned=\\\"false\\\" WantAssertionsSigned=\\\"true\\\" protocolSupportEnumeration=\\\"urn:oasis:names:tc:SAML:2.0:protocol\\\"><md:AssertionConsumerService Binding=\\\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\" Location=\\\"https://kibana.org/api/security/saml/callback\\\" index=\\\"1\\\" isDefault=\\\"true\\\"/></md:SPSSODescriptor></md:EntityDescriptor>\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDU0NDQ0Mw=="}, "originalCommit": {"oid": "d9a7e2e5c9a097d0fa9970ae92493ca237728f33"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5MTIyMDQ1OnYy", "diffSide": "RIGHT", "path": "x-pack/docs/en/rest-api/security/saml-sp-metadata.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwNzowMjo1M1rOH0mxWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwNzowMjo1M1rOH0mxWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDkyMzIyNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            in Elasticsearch.\n          \n          \n            \n            in {es}.", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524923224", "createdAt": "2020-11-17T07:02:53Z", "author": {"login": "jkakavas"}, "path": "x-pack/docs/en/rest-api/security/saml-sp-metadata.asciidoc", "diffHunk": "@@ -0,0 +1,49 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML service provider metadata API\n+\n+Generate SAML metadata for a SAML 2.0 Service Provider.\n+\n+[[security-api-saml-sp-metadata-request]]\n+==== {api-request-title}\n+\n+`GET /_security/saml/metadata/<realm_name>`\n+\n+[[security-api-saml-sp-metadata-desc]]\n+==== {api-description-title}\n+\n+The SAML 2.0 specification provides a mechanism for Service Providers to\n+describe their capabilities and configuration using a metadata file. This API\n+generates Service Provider metadata, based on the configuration of a SAML realm\n+in Elasticsearch.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7dfdb34a6798333fe7f94dff2ff1bdab648064ca"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5MTIyMzQwOnYy", "diffSide": "RIGHT", "path": "x-pack/docs/en/rest-api/security/saml-sp-metadata.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwNzowNDoyMFrOH0mzKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwNzowNDoyMFrOH0mzKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDkyMzY5MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The API returns the following response:\n          \n          \n            \n            The API returns the following response containing the SAML metadata as an XML string:", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524923691", "createdAt": "2020-11-17T07:04:20Z", "author": {"login": "jkakavas"}, "path": "x-pack/docs/en/rest-api/security/saml-sp-metadata.asciidoc", "diffHunk": "@@ -0,0 +1,49 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML service provider metadata API\n+\n+Generate SAML metadata for a SAML 2.0 Service Provider.\n+\n+[[security-api-saml-sp-metadata-request]]\n+==== {api-request-title}\n+\n+`GET /_security/saml/metadata/<realm_name>`\n+\n+[[security-api-saml-sp-metadata-desc]]\n+==== {api-description-title}\n+\n+The SAML 2.0 specification provides a mechanism for Service Providers to\n+describe their capabilities and configuration using a metadata file. This API\n+generates Service Provider metadata, based on the configuration of a SAML realm\n+in Elasticsearch.\n+\n+[[security-api-saml-sp-metadata-path-params]]\n+==== {api-path-parms-title}\n+\n+`<realm_name>`::\n+  (Required, string) The name of the SAML realm in {es}.\n+\n+[[security-api-saml-sp-metadata-response-body]]\n+==== {api-response-body-title}\n+\n+`metadata`::\n+(string) An XML string that contains a SAML Service Provider's metadata for the realm.\n+\n+[[security-api-saml-sp-metadata-example]]\n+==== {api-examples-title}\n+\n+The following example generates Service Provider metadata for\n+SAML realm `saml1`:\n+\n+[source,console]\n+--------------------------------------------------\n+GET /_security/saml/metadata/saml1\n+--------------------------------------------------\n+The API returns the following response:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7dfdb34a6798333fe7f94dff2ff1bdab648064ca"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5MTIyNzM5OnYy", "diffSide": "RIGHT", "path": "x-pack/docs/build.gradle", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwNzowNTo0NFrOH0m1YQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwNzowNTo0NFrOH0m1YQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDkyNDI1Nw==", "bodyText": "nit: usually acs and logout endpoints are on the same domain\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              setting 'xpack.security.authc.realms.saml.saml1.sp.logout', 'https://kibana.example.com/logout'\n          \n          \n            \n              setting 'xpack.security.authc.realms.saml.saml1.sp.logout', 'https://kibana.org/logout'", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524924257", "createdAt": "2020-11-17T07:05:44Z", "author": {"login": "jkakavas"}, "path": "x-pack/docs/build.gradle", "diffHunk": "@@ -56,6 +56,7 @@ testClusters.integTest {\n   setting 'xpack.security.authc.realms.pki.pki1.certificate_authorities', '[ \"testClient.crt\" ]'\n   setting 'xpack.security.authc.realms.pki.pki1.delegation.enabled', 'true'\n   setting 'xpack.security.authc.realms.saml.saml1.order', '4'\n+  setting 'xpack.security.authc.realms.saml.saml1.sp.logout', 'https://kibana.example.com/logout'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7dfdb34a6798333fe7f94dff2ff1bdab648064ca"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5MTIyODUyOnYy", "diffSide": "RIGHT", "path": "x-pack/docs/en/rest-api/security/saml-sp-metadata.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwNzowNjoxOFrOH0m2Dg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwNzowNjoxOFrOH0m2Dg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDkyNDQzMA==", "bodyText": "if you change the logout endpoint string, you need the relevant change here", "url": "https://github.com/elastic/elasticsearch/pull/65065#discussion_r524924430", "createdAt": "2020-11-17T07:06:18Z", "author": {"login": "jkakavas"}, "path": "x-pack/docs/en/rest-api/security/saml-sp-metadata.asciidoc", "diffHunk": "@@ -0,0 +1,49 @@\n+[role=\"xpack\"]\n+[[security-api-saml-sp-metadata]]\n+=== SAML service provider metadata API\n+\n+Generate SAML metadata for a SAML 2.0 Service Provider.\n+\n+[[security-api-saml-sp-metadata-request]]\n+==== {api-request-title}\n+\n+`GET /_security/saml/metadata/<realm_name>`\n+\n+[[security-api-saml-sp-metadata-desc]]\n+==== {api-description-title}\n+\n+The SAML 2.0 specification provides a mechanism for Service Providers to\n+describe their capabilities and configuration using a metadata file. This API\n+generates Service Provider metadata, based on the configuration of a SAML realm\n+in Elasticsearch.\n+\n+[[security-api-saml-sp-metadata-path-params]]\n+==== {api-path-parms-title}\n+\n+`<realm_name>`::\n+  (Required, string) The name of the SAML realm in {es}.\n+\n+[[security-api-saml-sp-metadata-response-body]]\n+==== {api-response-body-title}\n+\n+`metadata`::\n+(string) An XML string that contains a SAML Service Provider's metadata for the realm.\n+\n+[[security-api-saml-sp-metadata-example]]\n+==== {api-examples-title}\n+\n+The following example generates Service Provider metadata for\n+SAML realm `saml1`:\n+\n+[source,console]\n+--------------------------------------------------\n+GET /_security/saml/metadata/saml1\n+--------------------------------------------------\n+The API returns the following response:\n+\n+[source,console-result]\n+--------------------------------------------------\n+{\n+    \"metadata\" : \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?><md:EntityDescriptor xmlns:md=\\\"urn:oasis:names:tc:SAML:2.0:metadata\\\" entityID=\\\"https://kibana.org\\\"><md:SPSSODescriptor AuthnRequestsSigned=\\\"false\\\" WantAssertionsSigned=\\\"true\\\" protocolSupportEnumeration=\\\"urn:oasis:names:tc:SAML:2.0:protocol\\\"><md:SingleLogoutService Binding=\\\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect\\\" Location=\\\"https://kibana.example.com/logout\\\"/><md:AssertionConsumerService Binding=\\\"urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST\\\" Location=\\\"https://kibana.org/api/security/saml/callback\\\" index=\\\"1\\\" isDefault=\\\"true\\\"/></md:SPSSODescriptor></md:EntityDescriptor>\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7dfdb34a6798333fe7f94dff2ff1bdab648064ca"}, "originalPosition": 47}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3025, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}