{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1MDk5NzE4", "number": 58160, "title": "MappedFieldType should not extend FieldType (#57666)", "bodyText": "MappedFieldType is a combination of two concerns:\n\nan extension of lucene's FieldType, defining how a field should be indexed\na set of query factory methods, defining how a field should be searched\n\nWe want to break these two concerns apart. This commit is a first step to doing this, breaking\nthe inheritance relationship between MappedFieldType and FieldType. MappedFieldType\ninstead has a series of boolean flags defining whether or not the field is searchable or\naggregatable, and FieldMapper has a separate FieldType passed to its constructor defining\nhow indexing should be done.\nRelates to #56814", "createdAt": "2020-06-16T09:47:20Z", "url": "https://github.com/elastic/elasticsearch/pull/58160", "merged": true, "mergeCommit": {"oid": "12a3f6dfca29dd6c945cd0780bf0b90865b28412"}, "closed": true, "closedAt": "2020-06-16T15:56:44Z", "author": {"login": "romseygeek"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcrx8OEgH2gAyNDM1MDk5NzE4OjNkMWY3MWVmZTQ3ZTVjYTNhYzQ4OGE2NjlkZjE1NjExZWRiMzViZGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABd80nvrAFqTU5NTk4OTM1MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3d1f71efe47e5ca3ac488a669df15611edb35bda", "author": {"user": {"login": "romseygeek", "name": "Alan Woodward"}}, "url": "https://github.com/elastic/elasticsearch/commit/3d1f71efe47e5ca3ac488a669df15611edb35bda", "committedDate": "2020-06-16T09:35:57Z", "message": "MappedFieldType should not extend FieldType (#57666)\n\nMappedFieldType is a combination of two concerns:\n\n* an extension of lucene's FieldType, defining how a field should be indexed\n* a set of query factory methods, defining how a field should be searched\n\nWe want to break these two concerns apart. This commit is a first step to doing this, breaking\nthe inheritance relationship between MappedFieldType and FieldType. MappedFieldType\ninstead has a series of boolean flags defining whether or not the field is searchable or\naggregatable, and FieldMapper has a separate FieldType passed to its constructor defining\nhow indexing should be done.\n\nRelates to #56814"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "352deb8cca2a9209dc0b793e8dab62223837593f", "author": {"user": {"login": "romseygeek", "name": "Alan Woodward"}}, "url": "https://github.com/elastic/elasticsearch/commit/352deb8cca2a9209dc0b793e8dab62223837593f", "committedDate": "2020-06-16T10:07:08Z", "message": "tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d1b01c73271c45520cd7671ca6e14e3b1a3ba3e", "author": {"user": {"login": "romseygeek", "name": "Alan Woodward"}}, "url": "https://github.com/elastic/elasticsearch/commit/9d1b01c73271c45520cd7671ca6e14e3b1a3ba3e", "committedDate": "2020-06-16T10:22:13Z", "message": "Merge remote-tracking branch 'origin/7.x' into mapper/fieldtype-7x"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75b8b32cfdafc9c9699455b5d64b77eb3dcdb4a4", "author": {"user": {"login": "romseygeek", "name": "Alan Woodward"}}, "url": "https://github.com/elastic/elasticsearch/commit/75b8b32cfdafc9c9699455b5d64b77eb3dcdb4a4", "committedDate": "2020-06-16T11:11:53Z", "message": "type field; sparse vectors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dfe1ec7167896dcc316b37e0ee075385c16a021a", "author": {"user": {"login": "romseygeek", "name": "Alan Woodward"}}, "url": "https://github.com/elastic/elasticsearch/commit/dfe1ec7167896dcc316b37e0ee075385c16a021a", "committedDate": "2020-06-16T11:39:54Z", "message": "precommit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ee9fb1ddd53ccddc30ef9e205ba69830bd6d6df", "author": {"user": {"login": "romseygeek", "name": "Alan Woodward"}}, "url": "https://github.com/elastic/elasticsearch/commit/0ee9fb1ddd53ccddc30ef9e205ba69830bd6d6df", "committedDate": "2020-06-16T12:08:48Z", "message": "binary field serialization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e025b21fca679adb4ad4d61dba0608003895da23", "author": {"user": {"login": "romseygeek", "name": "Alan Woodward"}}, "url": "https://github.com/elastic/elasticsearch/commit/e025b21fca679adb4ad4d61dba0608003895da23", "committedDate": "2020-06-16T14:18:09Z", "message": "binary docvalues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c094a674f3e5dd33ac5ad70667d80c1d5f3d225", "author": {"user": {"login": "romseygeek", "name": "Alan Woodward"}}, "url": "https://github.com/elastic/elasticsearch/commit/8c094a674f3e5dd33ac5ad70667d80c1d5f3d225", "committedDate": "2020-06-16T14:46:36Z", "message": "legacygeoshape norms"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5460c235be245bb0c8624d60899bd24854fc11f7", "author": {"user": {"login": "romseygeek", "name": "Alan Woodward"}}, "url": "https://github.com/elastic/elasticsearch/commit/5460c235be245bb0c8624d60899bd24854fc11f7", "committedDate": "2020-06-16T14:47:00Z", "message": "Merge remote-tracking branch 'origin/7.x' into mapper/fieldtype-7x"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e21f5c5ad4fdabf08f7524a478f7c86d7bf3df0b", "author": {"user": {"login": "romseygeek", "name": "Alan Woodward"}}, "url": "https://github.com/elastic/elasticsearch/commit/e21f5c5ad4fdabf08f7524a478f7c86d7bf3df0b", "committedDate": "2020-06-16T15:09:46Z", "message": "npe"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTk1OTg5MzUx", "url": "https://github.com/elastic/elasticsearch/pull/58160#pullrequestreview-595989351", "createdAt": "2021-02-23T04:31:10Z", "commit": {"oid": "e21f5c5ad4fdabf08f7524a478f7c86d7bf3df0b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0yM1QwNDozMToxMFrOIp27Lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0yM1QwNDozMToxMFrOIp27Lg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU4MDc2MjQxNA==", "bodyText": "Is it possible that this pull request causes #69401? In 7.9.0 geo_point fields are always indexed, that is a regression, since it was possible to make geo_point fields not indexable in earlier versions.", "url": "https://github.com/elastic/elasticsearch/pull/58160#discussion_r580762414", "createdAt": "2021-02-23T04:31:10Z", "author": {"login": "plebedev"}, "path": "server/src/main/java/org/elasticsearch/index/mapper/AbstractGeometryFieldMapper.java", "diffHunk": "@@ -76,18 +82,19 @@\n         Parsed parse(XContentParser parser, AbstractGeometryFieldMapper mapper) throws IOException, ParseException;\n     }\n \n-    public abstract static class Builder<T extends Builder, FT extends AbstractGeometryFieldType>\n+    public abstract static class Builder<T extends Builder<T, FT>, FT extends AbstractGeometryFieldType>\n             extends FieldMapper.Builder<T> {\n         protected Boolean ignoreMalformed;\n         protected Boolean ignoreZValue;\n+        protected boolean indexed = true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e21f5c5ad4fdabf08f7524a478f7c86d7bf3df0b"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 518, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}