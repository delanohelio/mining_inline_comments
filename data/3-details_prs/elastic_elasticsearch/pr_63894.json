{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA2MTM1Nzg5", "number": 63894, "title": "Add decorations to ir nodes in Painless", "bodyText": "This PR starts to switch all ir nodes to use decorations instead of specific member data. For this specific PR, we add only an expression type decoration to begin with to keep the PR smaller. Other members of the ir nodes will be converted to decorations in a future PR.\nThe decoration system has two important advantages:\n\nThe first is it's consistent with the user nodes as generated data is attached to them as a decoration, so we have a clear, consistent model for how to use both trees.\nThis allows additionally generated data to be attached as necessary for optimization phases making the ir tree extendable which is one of our primary, long-term goals.", "createdAt": "2020-10-19T17:13:00Z", "url": "https://github.com/elastic/elasticsearch/pull/63894", "merged": true, "mergeCommit": {"oid": "6eb168e640b1af65e307a873844f8d65e5a2e8f7"}, "closed": true, "closedAt": "2020-10-22T18:47:33Z", "author": {"login": "jdconrad"}, "timelineItems": {"totalCount": 42, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdMtIoegH2gAyNTA2MTM1Nzg5OjBhMWI1ZWQwOTI3MDRhMWMyNWQxNTA5MjEzYjE2OTY2ZDI2M2M5YzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdVGAa2AH2gAyNTA2MTM1Nzg5OjM3NmVkYTY2NDdhN2NlMjg0MzMxODM4MzBkMzk1NmM3ZmFhYjUxM2Y=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0a1b5ed092704a1c25d1509213b16966d263c9c1", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/0a1b5ed092704a1c25d1509213b16966d263c9c1", "committedDate": "2020-09-26T16:39:29Z", "message": "make location final in IRNode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d62d0752fb2a99ae998fcab291c0f709bded0f5", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/7d62d0752fb2a99ae998fcab291c0f709bded0f5", "committedDate": "2020-09-26T17:18:49Z", "message": "add scoping for script, class, and method to WriteScope"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "712b0a8965bba0939acd0f8e73932796eddc7238", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/712b0a8965bba0939acd0f8e73932796eddc7238", "committedDate": "2020-09-26T17:36:01Z", "message": "update scope to include classwriter and methodwriter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e38647855a1c5cca0c30a3f7e43f71c5d164edf", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/8e38647855a1c5cca0c30a3f7e43f71c5d164edf", "committedDate": "2020-09-26T17:56:22Z", "message": "move loop labels to writescope"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65502b186dbd52a0c784a52a83b1fb659e3a6abc", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/65502b186dbd52a0c784a52a83b1fb659e3a6abc", "committedDate": "2020-09-26T18:22:52Z", "message": "move try/catch labels to WriteScope"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7231b5ebd24838d08a18b46615849ab7842667eb", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/7231b5ebd24838d08a18b46615849ab7842667eb", "committedDate": "2020-09-26T20:26:14Z", "message": "move write to an external phase"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "18098089e58987981be7c35788a1a8b93e3bcbb5", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/18098089e58987981be7c35788a1a8b93e3bcbb5", "committedDate": "2020-09-26T21:42:15Z", "message": "convert expression type to ir decoration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae8d2a1f12069641171f0013205b5887c7dfcd6a", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/ae8d2a1f12069641171f0013205b5887c7dfcd6a", "committedDate": "2020-09-30T14:38:56Z", "message": "Merge branch 'master' into proto"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "760b9b940997249b18947d6da787d338f2a9dc38", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/760b9b940997249b18947d6da787d338f2a9dc38", "committedDate": "2020-10-05T16:36:09Z", "message": "Merge branch 'master' into proto"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0320fe53e81db05b2d0b571bb34fb92af6e57c5", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/b0320fe53e81db05b2d0b571bb34fb92af6e57c5", "committedDate": "2020-10-05T17:04:18Z", "message": "Merge branch 'proto' into proto2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "527afc40f1b3a96f97b63aaf64c0f2c908b9b97f", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/527afc40f1b3a96f97b63aaf64c0f2c908b9b97f", "committedDate": "2020-10-08T19:53:15Z", "message": "Merge branch 'master' into proto"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "879afcac4496aa42f0d57c3485a94d11575bfe4c", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/879afcac4496aa42f0d57c3485a94d11575bfe4c", "committedDate": "2020-10-08T19:53:23Z", "message": "Merge branch 'proto' into proto2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49397f77f269c06949af28d6a0b33e8f5d653018", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/49397f77f269c06949af28d6a0b33e8f5d653018", "committedDate": "2020-10-08T20:17:35Z", "message": "response to pr comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c8082f74654dccabbb2ee339e9089623f445fb3", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/4c8082f74654dccabbb2ee339e9089623f445fb3", "committedDate": "2020-10-08T21:21:07Z", "message": "Merge branch 'master' into proto2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "883486155e6f1c304fe53b5c8ef09ee255964141", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/883486155e6f1c304fe53b5c8ef09ee255964141", "committedDate": "2020-10-08T21:32:23Z", "message": "Merge branch 'proto2' into proto3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e31faeae9f99ed35a64d812596604b342fbc63f1", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/e31faeae9f99ed35a64d812596604b342fbc63f1", "committedDate": "2020-10-16T19:07:24Z", "message": "Merge branch 'master' into proto2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16031ac02038b84fd67bdc650a3f374ba9c8b927", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/16031ac02038b84fd67bdc650a3f374ba9c8b927", "committedDate": "2020-10-16T19:07:32Z", "message": "Merge branch 'proto2' into proto3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "902b2ba328e4f9e3fc0a3d5f3809e257e396d2a4", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/902b2ba328e4f9e3fc0a3d5f3809e257e396d2a4", "committedDate": "2020-10-16T19:51:59Z", "message": "response to pr comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c245ddd2784cc981bfa207bbb5074ae73f4b5422", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/c245ddd2784cc981bfa207bbb5074ae73f4b5422", "committedDate": "2020-10-16T20:53:25Z", "message": "Merge branch 'master' into proto3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4bfe0db6687dfe3269ef82b771f11269c0702b57", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/4bfe0db6687dfe3269ef82b771f11269c0702b57", "committedDate": "2020-10-19T16:32:50Z", "message": "Merge branch 'master' into proto3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/e025b887a4018c746f944293b59f4276a6d43170", "committedDate": "2020-10-19T16:49:40Z", "message": "Merge branch 'proto3' into proto4"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODc0ODcw", "url": "https://github.com/elastic/elasticsearch/pull/63894#pullrequestreview-514874870", "createdAt": "2020-10-22T15:49:01Z", "commit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo0OTowMlrOHmob3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo0OTowMlrOHmob3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI3MDQyOA==", "bodyText": "expand this.", "url": "https://github.com/elastic/elasticsearch/pull/63894#discussion_r510270428", "createdAt": "2020-10-22T15:49:02Z", "author": {"login": "stu-elastic"}, "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/phase/DefaultIRTreeToASMBytesPhase.java", "diffHunk": "@@ -770,18 +772,22 @@ public void visitBinaryMath(BinaryMathNode irBinaryMathNode, WriteScope writeSco\n                 methodWriter.invokeVirtual(Type.getType(Matcher.class), WriterConstants.MATCHER_MATCHES);\n             } else {\n                 throw new IllegalStateException(\"unexpected binary math operation [\" + operation + \"] \" +\n-                        \"for type [\" + irBinaryMathNode.getExpressionCanonicalTypeName() + \"]\");\n+                        \"for type [\" + irBinaryMathNode.getDecoration(IRDExpressionType.class).getCanonicalTypeName() + \"]\");\n             }\n         } else {\n             visit(irLeftNode, writeScope);\n             visit(irRightNode, writeScope);\n \n             if (irBinaryMathNode.getBinaryType() == def.class ||\n                     (irBinaryMathNode.getShiftType() != null && irBinaryMathNode.getShiftType() == def.class)) {\n-                methodWriter.writeDynamicBinaryInstruction(irBinaryMathNode.getLocation(), irBinaryMathNode.getExpressionType(),\n-                        irLeftNode.getExpressionType(), irRightNode.getExpressionType(), operation, irBinaryMathNode.getFlags());\n+                methodWriter.writeDynamicBinaryInstruction(irBinaryMathNode.getLocation(),\n+                        irBinaryMathNode.getDecoration(IRDExpressionType.class).getType(),\n+                        irLeftNode.getDecoration(IRDExpressionType.class).getType(),\n+                        irRightNode.getDecoration(IRDExpressionType.class).getType(),\n+                        operation, irBinaryMathNode.getFlags());\n             } else {\n-                methodWriter.writeBinaryInstruction(irBinaryMathNode.getLocation(), irBinaryMathNode.getExpressionType(), operation);\n+                methodWriter.writeBinaryInstruction(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "originalPosition": 96}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODc1ODQw", "url": "https://github.com/elastic/elasticsearch/pull/63894#pullrequestreview-514875840", "createdAt": "2020-10-22T15:49:53Z", "commit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo0OTo1M1rOHmoehA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo0OTo1M1rOHmoehA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI3MTEwOA==", "bodyText": "pull into intermediate variable.", "url": "https://github.com/elastic/elasticsearch/pull/63894#discussion_r510271108", "createdAt": "2020-10-22T15:49:53Z", "author": {"login": "stu-elastic"}, "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/phase/DefaultIRTreeToASMBytesPhase.java", "diffHunk": "@@ -990,15 +997,16 @@ public void visitInstanceof(InstanceofNode irInstanceofNode, WriteScope writeSco\n         visit(irChildNode, writeScope);\n \n         Class<?> instanceType = irInstanceofNode.getInstanceType();\n-        Class<?> expressionType = irInstanceofNode.getExpressionType();\n+        Class<?> expressionType = irInstanceofNode.getDecoration(IRDExpressionType.class).getType();\n \n         if (irInstanceofNode.getInstanceType() == def.class) {\n             methodWriter.writePop(MethodWriter.getType(expressionType).getSize());\n             methodWriter.push(true);\n-        } else if (irChildNode.getExpressionType().isPrimitive()) {\n+        } else if (irChildNode.getDecoration(IRDExpressionType.class).getType().isPrimitive()) {\n             methodWriter.writePop(MethodWriter.getType(expressionType).getSize());\n             Class<?> boxedInstanceType = PainlessLookupUtility.typeToBoxedType(instanceType);\n-            Class<?> boxedExpressionType = PainlessLookupUtility.typeToBoxedType(irChildNode.getExpressionType());\n+            Class<?> boxedExpressionType =\n+                    PainlessLookupUtility.typeToBoxedType(irChildNode.getDecoration(IRDExpressionType.class).getType());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "originalPosition": 186}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODc1OTkw", "url": "https://github.com/elastic/elasticsearch/pull/63894#pullrequestreview-514875990", "createdAt": "2020-10-22T15:50:01Z", "commit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MDowMVrOHmoe9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MDowMVrOHmoe9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI3MTIyMQ==", "bodyText": "pull into intermediate variable.", "url": "https://github.com/elastic/elasticsearch/pull/63894#discussion_r510271221", "createdAt": "2020-10-22T15:50:01Z", "author": {"login": "stu-elastic"}, "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/phase/DefaultIRTreeToASMBytesPhase.java", "diffHunk": "@@ -1195,11 +1203,11 @@ public void visitTypeCaptureReference(TypedCaptureReferenceNode irTypedCaptureRe\n         Variable captured = writeScope.getVariable(irTypedCaptureReferenceNode.getCaptures().get(0));\n \n         methodWriter.visitVarInsn(captured.getAsmType().getOpcode(Opcodes.ILOAD), captured.getSlot());\n-        Type methodType = Type.getMethodType(\n-                MethodWriter.getType(irTypedCaptureReferenceNode.getExpressionType()),\n+        Type methodType = Type.getMethodType(MethodWriter.getType(\n+                irTypedCaptureReferenceNode.getDecoration(IRDExpressionType.class).getType()),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "originalPosition": 233}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODc2MTM4", "url": "https://github.com/elastic/elasticsearch/pull/63894#pullrequestreview-514876138", "createdAt": "2020-10-22T15:50:09Z", "commit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MDowOVrOHmofSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MDowOVrOHmofSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI3MTMwNw==", "bodyText": "pull into intermediate variable.", "url": "https://github.com/elastic/elasticsearch/pull/63894#discussion_r510271307", "createdAt": "2020-10-22T15:50:09Z", "author": {"login": "stu-elastic"}, "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/phase/DefaultIRTreeToASMBytesPhase.java", "diffHunk": "@@ -1195,11 +1203,11 @@ public void visitTypeCaptureReference(TypedCaptureReferenceNode irTypedCaptureRe\n         Variable captured = writeScope.getVariable(irTypedCaptureReferenceNode.getCaptures().get(0));\n \n         methodWriter.visitVarInsn(captured.getAsmType().getOpcode(Opcodes.ILOAD), captured.getSlot());\n-        Type methodType = Type.getMethodType(\n-                MethodWriter.getType(irTypedCaptureReferenceNode.getExpressionType()),\n+        Type methodType = Type.getMethodType(MethodWriter.getType(\n+                irTypedCaptureReferenceNode.getDecoration(IRDExpressionType.class).getType()),\n                 captured.getAsmType());\n-        methodWriter.invokeDefCall(irTypedCaptureReferenceNode.getMethodName(),\n-                methodType, DefBootstrap.REFERENCE, irTypedCaptureReferenceNode.getExpressionCanonicalTypeName());\n+        methodWriter.invokeDefCall(irTypedCaptureReferenceNode.getMethodName(), methodType, DefBootstrap.REFERENCE,\n+                irTypedCaptureReferenceNode.getDecoration(IRDExpressionType.class).getCanonicalTypeName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "originalPosition": 238}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODc2NDQ2", "url": "https://github.com/elastic/elasticsearch/pull/63894#pullrequestreview-514876446", "createdAt": "2020-10-22T15:50:25Z", "commit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MDoyNVrOHmogLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MDoyNVrOHmogLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI3MTUzNQ==", "bodyText": "pull into intermediate variable.", "url": "https://github.com/elastic/elasticsearch/pull/63894#discussion_r510271535", "createdAt": "2020-10-22T15:50:25Z", "author": {"login": "stu-elastic"}, "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/phase/DefaultUserTreeToIRTreePhase.java", "diffHunk": "@@ -973,14 +975,15 @@ public void visitBinary(EBinary userBinaryNode, ScriptScope scriptScope) {\n             irExpressionNode = irBinaryMathNode;\n         }\n \n-        irExpressionNode.setExpressionType(valueType);\n+        irExpressionNode.attachDecoration(new IRDExpressionType(valueType));\n         scriptScope.putDecoration(userBinaryNode, new IRNodeDecoration(irExpressionNode));\n     }\n \n     @Override\n     public void visitBooleanComp(EBooleanComp userBooleanCompNode, ScriptScope scriptScope) {\n         BooleanNode irBooleanNode = new BooleanNode(userBooleanCompNode.getLocation());\n-        irBooleanNode.setExpressionType(scriptScope.getDecoration(userBooleanCompNode, ValueType.class).getValueType());\n+        irBooleanNode.attachDecoration(\n+                new IRDExpressionType(scriptScope.getDecoration(userBooleanCompNode, ValueType.class).getValueType()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "originalPosition": 261}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODc2Njgy", "url": "https://github.com/elastic/elasticsearch/pull/63894#pullrequestreview-514876682", "createdAt": "2020-10-22T15:50:38Z", "commit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MDozOFrOHmog1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MDozOFrOHmog1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI3MTcwMA==", "bodyText": "pull into intermediate variable.", "url": "https://github.com/elastic/elasticsearch/pull/63894#discussion_r510271700", "createdAt": "2020-10-22T15:50:38Z", "author": {"login": "stu-elastic"}, "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/phase/DefaultUserTreeToIRTreePhase.java", "diffHunk": "@@ -1008,7 +1011,8 @@ public void visitExplicit(EExplicit userExplicitNode, ScriptScope scriptScope) {\n     @Override\n     public void visitInstanceof(EInstanceof userInstanceofNode, ScriptScope scriptScope) {\n         InstanceofNode irInstanceofNode = new InstanceofNode(userInstanceofNode.getLocation());\n-        irInstanceofNode.setExpressionType(scriptScope.getDecoration(userInstanceofNode, ValueType.class).getValueType());\n+        irInstanceofNode.attachDecoration(\n+                new IRDExpressionType(scriptScope.getDecoration(userInstanceofNode, ValueType.class).getValueType()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "originalPosition": 280}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODc2ODI0", "url": "https://github.com/elastic/elasticsearch/pull/63894#pullrequestreview-514876824", "createdAt": "2020-10-22T15:50:47Z", "commit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MDo0N1rOHmohPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MDo0N1rOHmohPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI3MTgwNQ==", "bodyText": "pull into intermediate variable.", "url": "https://github.com/elastic/elasticsearch/pull/63894#discussion_r510271805", "createdAt": "2020-10-22T15:50:47Z", "author": {"login": "stu-elastic"}, "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/phase/DefaultUserTreeToIRTreePhase.java", "diffHunk": "@@ -1091,7 +1098,8 @@ public void visitNewArray(ENewArray userNewArrayNode, ScriptScope scriptScope) {\n     public void visitNewObj(ENewObj userNewObjectNode, ScriptScope scriptScope) {\n         NewObjectNode irNewObjectNode = new NewObjectNode(userNewObjectNode.getLocation());\n \n-        irNewObjectNode.setExpressionType(scriptScope.getDecoration(userNewObjectNode, ValueType.class).getValueType());\n+        irNewObjectNode.attachDecoration(\n+                new IRDExpressionType(scriptScope.getDecoration(userNewObjectNode, ValueType.class).getValueType()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "originalPosition": 338}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODc2OTI3", "url": "https://github.com/elastic/elasticsearch/pull/63894#pullrequestreview-514876927", "createdAt": "2020-10-22T15:50:53Z", "commit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MDo1M1rOHmohfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MDo1M1rOHmohfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI3MTg2OQ==", "bodyText": "pull into intermediate variable.", "url": "https://github.com/elastic/elasticsearch/pull/63894#discussion_r510271869", "createdAt": "2020-10-22T15:50:53Z", "author": {"login": "stu-elastic"}, "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/phase/DefaultUserTreeToIRTreePhase.java", "diffHunk": "@@ -1151,15 +1159,17 @@ public void visitCallLocal(ECallLocal callLocalNode, ScriptScope scriptScope) {\n             irInvokeCallMemberNode.addArgumentNode(injectCast(userArgumentNode, scriptScope));\n         }\n \n-        irInvokeCallMemberNode.setExpressionType(scriptScope.getDecoration(callLocalNode, ValueType.class).getValueType());\n+        irInvokeCallMemberNode.attachDecoration(\n+                new IRDExpressionType(scriptScope.getDecoration(callLocalNode, ValueType.class).getValueType()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "originalPosition": 348}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODc3MDI0", "url": "https://github.com/elastic/elasticsearch/pull/63894#pullrequestreview-514877024", "createdAt": "2020-10-22T15:50:57Z", "commit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MDo1N1rOHmohsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MDo1N1rOHmohsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI3MTkyMw==", "bodyText": "pull into intermediate variable.", "url": "https://github.com/elastic/elasticsearch/pull/63894#discussion_r510271923", "createdAt": "2020-10-22T15:50:57Z", "author": {"login": "stu-elastic"}, "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/phase/DefaultUserTreeToIRTreePhase.java", "diffHunk": "@@ -1151,15 +1159,17 @@ public void visitCallLocal(ECallLocal callLocalNode, ScriptScope scriptScope) {\n             irInvokeCallMemberNode.addArgumentNode(injectCast(userArgumentNode, scriptScope));\n         }\n \n-        irInvokeCallMemberNode.setExpressionType(scriptScope.getDecoration(callLocalNode, ValueType.class).getValueType());\n+        irInvokeCallMemberNode.attachDecoration(\n+                new IRDExpressionType(scriptScope.getDecoration(callLocalNode, ValueType.class).getValueType()));\n \n         scriptScope.putDecoration(callLocalNode, new IRNodeDecoration(irInvokeCallMemberNode));\n     }\n \n     @Override\n     public void visitBooleanConstant(EBooleanConstant userBooleanConstantNode, ScriptScope scriptScope) {\n         ConstantNode irConstantNode = new ConstantNode(userBooleanConstantNode.getLocation());\n-        irConstantNode.setExpressionType(scriptScope.getDecoration(userBooleanConstantNode, ValueType.class).getValueType());\n+        irConstantNode.attachDecoration(\n+                new IRDExpressionType(scriptScope.getDecoration(userBooleanConstantNode, ValueType.class).getValueType()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "originalPosition": 358}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODc3MTEz", "url": "https://github.com/elastic/elasticsearch/pull/63894#pullrequestreview-514877113", "createdAt": "2020-10-22T15:51:01Z", "commit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MTowMlrOHmoh3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MTowMlrOHmoh3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI3MTk2NQ==", "bodyText": "pull into intermediate variable.", "url": "https://github.com/elastic/elasticsearch/pull/63894#discussion_r510271965", "createdAt": "2020-10-22T15:51:02Z", "author": {"login": "stu-elastic"}, "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/phase/DefaultUserTreeToIRTreePhase.java", "diffHunk": "@@ -1168,7 +1178,8 @@ public void visitBooleanConstant(EBooleanConstant userBooleanConstantNode, Scrip\n     @Override\n     public void visitNumeric(ENumeric userNumericNode, ScriptScope scriptScope) {\n         ConstantNode irConstantNode = new ConstantNode(userNumericNode.getLocation());\n-        irConstantNode.setExpressionType(scriptScope.getDecoration(userNumericNode, ValueType.class).getValueType());\n+        irConstantNode.attachDecoration(\n+                new IRDExpressionType(scriptScope.getDecoration(userNumericNode, ValueType.class).getValueType()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "originalPosition": 368}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODc3MjI3", "url": "https://github.com/elastic/elasticsearch/pull/63894#pullrequestreview-514877227", "createdAt": "2020-10-22T15:51:07Z", "commit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MTowN1rOHmoiIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MTowN1rOHmoiIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI3MjAzNA==", "bodyText": "pull into intermediate variable.", "url": "https://github.com/elastic/elasticsearch/pull/63894#discussion_r510272034", "createdAt": "2020-10-22T15:51:07Z", "author": {"login": "stu-elastic"}, "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/phase/DefaultUserTreeToIRTreePhase.java", "diffHunk": "@@ -1177,7 +1188,8 @@ public void visitNumeric(ENumeric userNumericNode, ScriptScope scriptScope) {\n     @Override\n     public void visitDecimal(EDecimal userDecimalNode, ScriptScope scriptScope) {\n         ConstantNode irConstantNode = new ConstantNode(userDecimalNode.getLocation());\n-        irConstantNode.setExpressionType(scriptScope.getDecoration(userDecimalNode, ValueType.class).getValueType());\n+        irConstantNode.attachDecoration(\n+                new IRDExpressionType(scriptScope.getDecoration(userDecimalNode, ValueType.class).getValueType()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "originalPosition": 378}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODc3Mzc4", "url": "https://github.com/elastic/elasticsearch/pull/63894#pullrequestreview-514877378", "createdAt": "2020-10-22T15:51:14Z", "commit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MToxNVrOHmoiiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MToxNVrOHmoiiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI3MjEzNw==", "bodyText": "pull into intermediate variable.", "url": "https://github.com/elastic/elasticsearch/pull/63894#discussion_r510272137", "createdAt": "2020-10-22T15:51:15Z", "author": {"login": "stu-elastic"}, "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/phase/DefaultUserTreeToIRTreePhase.java", "diffHunk": "@@ -1335,7 +1347,8 @@ public void visitFunctionRef(EFunctionRef userFunctionRefNode, ScriptScope scrip\n             irReferenceNode = typedInterfaceReferenceNode;\n         }\n \n-        irReferenceNode.setExpressionType(scriptScope.getDecoration(userFunctionRefNode, ValueType.class).getValueType());\n+        irReferenceNode.attachDecoration(\n+                new IRDExpressionType(scriptScope.getDecoration(userFunctionRefNode, ValueType.class).getValueType()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "originalPosition": 470}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODc3NDYz", "url": "https://github.com/elastic/elasticsearch/pull/63894#pullrequestreview-514877463", "createdAt": "2020-10-22T15:51:20Z", "commit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MToyMFrOHmoivg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MToyMFrOHmoivg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI3MjE5MA==", "bodyText": "pull into intermediate variable.", "url": "https://github.com/elastic/elasticsearch/pull/63894#discussion_r510272190", "createdAt": "2020-10-22T15:51:20Z", "author": {"login": "stu-elastic"}, "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/phase/DefaultUserTreeToIRTreePhase.java", "diffHunk": "@@ -1393,7 +1406,8 @@ public void visitNewArrayFunctionRef(ENewArrayFunctionRef userNewArrayFunctionRe\n \n         irClassNode.addFunctionNode(irFunctionNode);\n \n-        irReferenceNode.setExpressionType(scriptScope.getDecoration(userNewArrayFunctionRefNode, ValueType.class).getValueType());\n+        irReferenceNode.attachDecoration(\n+                new IRDExpressionType(scriptScope.getDecoration(userNewArrayFunctionRefNode, ValueType.class).getValueType()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "originalPosition": 494}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODc3NjU3", "url": "https://github.com/elastic/elasticsearch/pull/63894#pullrequestreview-514877657", "createdAt": "2020-10-22T15:51:31Z", "commit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MTozMVrOHmojQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MTozMVrOHmojQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI3MjMyMA==", "bodyText": "pull into intermediate variable.", "url": "https://github.com/elastic/elasticsearch/pull/63894#discussion_r510272320", "createdAt": "2020-10-22T15:51:31Z", "author": {"login": "stu-elastic"}, "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/phase/DefaultUserTreeToIRTreePhase.java", "diffHunk": "@@ -1665,20 +1679,21 @@ public void visitBrace(EBrace userBraceNode, ScriptScope scriptScope) {\n \n             if (write == false || compound) {\n                 LoadMapShortcutNode irLoadMapShortcutNode = new LoadMapShortcutNode(location);\n-                irLoadMapShortcutNode.setExpressionType(scriptScope.getDecoration(userBraceNode, ValueType.class).getValueType());\n+                irLoadMapShortcutNode.attachDecoration(\n+                        new IRDExpressionType(scriptScope.getDecoration(userBraceNode, ValueType.class).getValueType()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "originalPosition": 707}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODc3NzM5", "url": "https://github.com/elastic/elasticsearch/pull/63894#pullrequestreview-514877739", "createdAt": "2020-10-22T15:51:36Z", "commit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MTozNlrOHmojig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MTozNlrOHmojig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI3MjM5NA==", "bodyText": "pull into intermediate variable.", "url": "https://github.com/elastic/elasticsearch/pull/63894#discussion_r510272394", "createdAt": "2020-10-22T15:51:36Z", "author": {"login": "stu-elastic"}, "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/phase/DefaultUserTreeToIRTreePhase.java", "diffHunk": "@@ -1687,7 +1702,8 @@ public void visitBrace(EBrace userBraceNode, ScriptScope scriptScope) {\n \n             if (write == false || compound) {\n                 LoadListShortcutNode irLoadListShortcutNode = new LoadListShortcutNode(location);\n-                irLoadListShortcutNode.setExpressionType(scriptScope.getDecoration(userBraceNode, ValueType.class).getValueType());\n+                irLoadListShortcutNode.attachDecoration(\n+                        new IRDExpressionType(scriptScope.getDecoration(userBraceNode, ValueType.class).getValueType()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "originalPosition": 732}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODc3Nzc5", "url": "https://github.com/elastic/elasticsearch/pull/63894#pullrequestreview-514877779", "createdAt": "2020-10-22T15:51:38Z", "commit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MTozOVrOHmojqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MTozOVrOHmojqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI3MjQyNA==", "bodyText": "pull into intermediate variable.", "url": "https://github.com/elastic/elasticsearch/pull/63894#discussion_r510272424", "createdAt": "2020-10-22T15:51:39Z", "author": {"login": "stu-elastic"}, "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/phase/DefaultUserTreeToIRTreePhase.java", "diffHunk": "@@ -1715,7 +1731,8 @@ public void visitCall(ECall userCallNode, ScriptScope scriptScope) {\n                 irCallSubDefNode.addArgumentNode((ExpressionNode)visit(userArgumentNode, scriptScope));\n             }\n \n-            irCallSubDefNode.setExpressionType(scriptScope.getDecoration(userCallNode, ValueType.class).getValueType());\n+            irCallSubDefNode.attachDecoration(\n+                    new IRDExpressionType(scriptScope.getDecoration(userCallNode, ValueType.class).getValueType()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "originalPosition": 742}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODc3OTEy", "url": "https://github.com/elastic/elasticsearch/pull/63894#pullrequestreview-514877912", "createdAt": "2020-10-22T15:51:46Z", "commit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MTo0NlrOHmokCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNTo1MTo0NlrOHmokCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDI3MjUyMg==", "bodyText": "pull into intermediate variable.", "url": "https://github.com/elastic/elasticsearch/pull/63894#discussion_r510272522", "createdAt": "2020-10-22T15:51:46Z", "author": {"login": "stu-elastic"}, "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/phase/DefaultUserTreeToIRTreePhase.java", "diffHunk": "@@ -1751,7 +1768,8 @@ public void visitCall(ECall userCallNode, ScriptScope scriptScope) {\n                 irInvokeCallNode.addArgumentNode(injectCast(userCallArgumentNode, scriptScope));\n             }\n \n-            irInvokeCallNode.setExpressionType(scriptScope.getDecoration(userCallNode, ValueType.class).getValueType());;\n+            irInvokeCallNode.attachDecoration(\n+                    new IRDExpressionType(scriptScope.getDecoration(userCallNode, ValueType.class).getValueType()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "originalPosition": 761}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0ODc4NDQ0", "url": "https://github.com/elastic/elasticsearch/pull/63894#pullrequestreview-514878444", "createdAt": "2020-10-22T15:52:19Z", "commit": {"oid": "e025b887a4018c746f944293b59f4276a6d43170"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d09de9a0acb7fd9e7f8dcff97f62745412310fe3", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/d09de9a0acb7fd9e7f8dcff97f62745412310fe3", "committedDate": "2020-10-22T17:01:04Z", "message": "Merge branch 'master' into proto3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b22e832b888257ab748b0191a868171928c09629", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/b22e832b888257ab748b0191a868171928c09629", "committedDate": "2020-10-22T17:01:14Z", "message": "Merge branch 'proto3' into proto4"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "376eda6647a7ce28433183830d3956c7faab513f", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/376eda6647a7ce28433183830d3956c7faab513f", "committedDate": "2020-10-22T18:09:32Z", "message": "response to pr comments"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3931, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}