{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ5MTM0MTI2", "number": 59575, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQyMjowMjoyMVrOEOcsXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQyMjowMjoyMVrOEOcsXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNTg1NjMwOnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/elasticsearch/action/admin/indices/datastream/DataStreamsStatsAction.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQyMjowMjoyMVrOGxm9Cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQyMjoyMToyOVrOGxnaRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDY3MTYyNw==", "bodyText": "Out of curiosity, since we're trying to get stats from closed indices, should we have a disclaimer that the stats (like max timestamp for instance) could be wrong if indices are closed?", "url": "https://github.com/elastic/elasticsearch/pull/59575#discussion_r454671627", "createdAt": "2020-07-14T22:02:21Z", "author": {"login": "dakrone"}, "path": "server/src/main/java/org/elasticsearch/action/admin/indices/datastream/DataStreamsStatsAction.java", "diffHunk": "@@ -76,7 +77,9 @@ public DataStreamsStatsAction() {\n \n     public static class Request extends BroadcastRequest<Request> {\n         public Request() {\n-            super((String[]) null);\n+            // this doesn't really matter since data stream name resolution isn't affected by IndicesOptions and\n+            // a data stream's backing indices are retrieved from its metadata\n+            super(null, IndicesOptions.fromOptions(false, true, true, true, false, false, true, false));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f6b489cc170e3302937fd0d4a7e6a58b19a72e0c"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDY3MjU4Mw==", "bodyText": "Probably. Not sure where best to capture that disclaimer. The docs? We'll probably want to state that anyway, since in the future we will probably only pull timestamp data from the latest index (maybe latest two indices) which could also technically lead to inaccurate timestamps.", "url": "https://github.com/elastic/elasticsearch/pull/59575#discussion_r454672583", "createdAt": "2020-07-14T22:04:48Z", "author": {"login": "jbaiera"}, "path": "server/src/main/java/org/elasticsearch/action/admin/indices/datastream/DataStreamsStatsAction.java", "diffHunk": "@@ -76,7 +77,9 @@ public DataStreamsStatsAction() {\n \n     public static class Request extends BroadcastRequest<Request> {\n         public Request() {\n-            super((String[]) null);\n+            // this doesn't really matter since data stream name resolution isn't affected by IndicesOptions and\n+            // a data stream's backing indices are retrieved from its metadata\n+            super(null, IndicesOptions.fromOptions(false, true, true, true, false, false, true, false));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDY3MTYyNw=="}, "originalCommit": {"oid": "f6b489cc170e3302937fd0d4a7e6a58b19a72e0c"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDY3OTExMA==", "bodyText": "I think the docs is the best place for it", "url": "https://github.com/elastic/elasticsearch/pull/59575#discussion_r454679110", "createdAt": "2020-07-14T22:21:29Z", "author": {"login": "dakrone"}, "path": "server/src/main/java/org/elasticsearch/action/admin/indices/datastream/DataStreamsStatsAction.java", "diffHunk": "@@ -76,7 +77,9 @@ public DataStreamsStatsAction() {\n \n     public static class Request extends BroadcastRequest<Request> {\n         public Request() {\n-            super((String[]) null);\n+            // this doesn't really matter since data stream name resolution isn't affected by IndicesOptions and\n+            // a data stream's backing indices are retrieved from its metadata\n+            super(null, IndicesOptions.fromOptions(false, true, true, true, false, false, true, false));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDY3MTYyNw=="}, "originalCommit": {"oid": "f6b489cc170e3302937fd0d4a7e6a58b19a72e0c"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2308, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}