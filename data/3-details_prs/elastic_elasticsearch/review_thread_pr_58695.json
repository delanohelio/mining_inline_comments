{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxNjAxOTEz", "number": 58695, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxODowMTo0OVrOEKN03w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMDoyOToyNFrOEKQ-fg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MTQ3NzQzOnYy", "diffSide": "RIGHT", "path": "docs/reference/api-conventions.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxODowMTo0OVrOGrIVpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQxODozMTo0NlrOGrJZ7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzg3ODU2NQ==", "bodyText": "Just a heads-up, but data stream names don't support date math since a single data stream is supposed to handle a potentially infinite stream of data and the data stream's backing indices are named according to their generation and not the date on which they were created.", "url": "https://github.com/elastic/elasticsearch/pull/58695#discussion_r447878565", "createdAt": "2020-06-30T18:01:49Z", "author": {"login": "danhermann"}, "path": "docs/reference/api-conventions.asciidoc", "diffHunk": "@@ -30,27 +38,32 @@ include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=expand-wildcards]\n \n The defaults settings for the above parameters depend on the API being used.\n \n-Some multi index APIs also support the following url query string parameter:\n+Some multi-target APIs that can target indices also support the following query\n+string parameter:\n \n include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=ignore_throttled]\n \n-NOTE: Single index APIs such as the <<docs>> and the\n-<<indices-aliases,single-index `alias` APIs>> do not support multiple indices.\n+NOTE: Single index APIs, such as the <<docs>> and the\n+<<indices-aliases,single-index `alias` APIs>>, do not support multi-target\n+syntax.\n \n [[date-math-index-names]]\n-=== Date math support in index names\n+=== Date math support in target names\n+\n+Most APIs that accept a `<data-stream>`, `<index>`, or `<target>` request path\n+parameter support _date math_.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c9dc8d583c4ec9c00a97578172f40e0e362a31e5"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzg5NjA0NA==", "bodyText": "Thanks @danhermann. I've removed my changes to this section/page.\nTechnically, you can still search a data stream name using date math. For example, GET /%3Clogs-%7Bnow%2Fd%7D%3E/_search would search the logs-2020.06.30 data stream.\nBut users would first need to create a data stream with a date component , which we probably shouldn't encourage. It seems like a corner case we'd be better off not mentioning.", "url": "https://github.com/elastic/elasticsearch/pull/58695#discussion_r447896044", "createdAt": "2020-06-30T18:31:46Z", "author": {"login": "jrodewig"}, "path": "docs/reference/api-conventions.asciidoc", "diffHunk": "@@ -30,27 +38,32 @@ include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=expand-wildcards]\n \n The defaults settings for the above parameters depend on the API being used.\n \n-Some multi index APIs also support the following url query string parameter:\n+Some multi-target APIs that can target indices also support the following query\n+string parameter:\n \n include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=ignore_throttled]\n \n-NOTE: Single index APIs such as the <<docs>> and the\n-<<indices-aliases,single-index `alias` APIs>> do not support multiple indices.\n+NOTE: Single index APIs, such as the <<docs>> and the\n+<<indices-aliases,single-index `alias` APIs>>, do not support multi-target\n+syntax.\n \n [[date-math-index-names]]\n-=== Date math support in index names\n+=== Date math support in target names\n+\n+Most APIs that accept a `<data-stream>`, `<index>`, or `<target>` request path\n+parameter support _date math_.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzg3ODU2NQ=="}, "originalCommit": {"oid": "c9dc8d583c4ec9c00a97578172f40e0e362a31e5"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MTkyNjIzOnYy", "diffSide": "RIGHT", "path": "docs/reference/api-conventions.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMDowODoxOFrOGrMojA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMDowODoxOFrOGrMojA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk0ODk0MA==", "bodyText": "I'd probably take the opportunity to get rid of the e.g.s.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            In multi-target syntax, you can use a comma-separated list (e.g.,\n          \n          \n            \n            `test1,test2,test3`) to execute a request across multiple resources, such as\n          \n          \n            \n            data streams, indices, or index aliases. You can also use\n          \n          \n            \n            https://en.wikipedia.org/wiki/Glob_(programming)[glob-like] wildcard (`*`)\n          \n          \n            \n            expressions (e.g., `test*` or `*test` or `te*t` or `*test*`) to target any\n          \n          \n            \n            resources that match the pattern.\n          \n          \n            \n            \n          \n          \n            \n            You can exclude targets using the `-` character (e.g., `test*,-test3`).\n          \n          \n            \n            In multi-target syntax, you can use a comma-separated list to execute a request across multiple resources, such as\n          \n          \n            \n            data streams, indices, or index aliases: `test1,test2,test3`. You can also use\n          \n          \n            \n            https://en.wikipedia.org/wiki/Glob_(programming)[glob-like] wildcard (`*`)\n          \n          \n            \n            expressions to target any\n          \n          \n            \n            resources that match the pattern: `test*` or `*test` or `te*t` or `*test*.\n          \n          \n            \n            \n          \n          \n            \n            You can exclude targets using the `-` character: `test*,-test3`.", "url": "https://github.com/elastic/elasticsearch/pull/58695#discussion_r447948940", "createdAt": "2020-06-30T20:08:18Z", "author": {"login": "debadair"}, "path": "docs/reference/api-conventions.asciidoc", "diffHunk": "@@ -13,14 +13,22 @@ API, unless otherwise specified.\n * <<url-access-control>>\n \n [[multi-index]]\n-=== Multiple indices\n+=== Multi-target syntax\n \n-Most APIs that refer to an `index` parameter support execution across multiple indices,\n-using simple `test1,test2,test3` notation (or `_all` for all indices). It also\n-supports wildcards, for example: `test*` or `*test` or `te*t` or `*test*`, and the\n-ability to \"exclude\" (`-`), for example: `test*,-test3`.\n+Most APIs that accept a `<data-stream>`, `<index>`, or `<target>` request path\n+parameter also support _multi-target syntax_.\n \n-All multi index APIs support the following url query string parameters:\n+In multi-target syntax, you can use a comma-separated list (e.g.,\n+`test1,test2,test3`) to execute a request across multiple resources, such as\n+data streams, indices, or index aliases. You can also use\n+https://en.wikipedia.org/wiki/Glob_(programming)[glob-like] wildcard (`*`)\n+expressions (e.g., `test*` or `*test` or `te*t` or `*test*`) to target any\n+resources that match the pattern.\n+\n+You can exclude targets using the `-` character (e.g., `test*,-test3`).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6770a542704a6dc665974b2d0ecb76c6a0074fa7"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MTkzMDE1OnYy", "diffSide": "RIGHT", "path": "docs/reference/api-conventions.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMDowOToyOFrOGrMq_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMDowOToyOFrOGrMq_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk0OTU2Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            NOTE: Single index APIs, such as the <<docs>> and the\n          \n          \n            \n            NOTE: Single index APIs, such as the <<docs>> and", "url": "https://github.com/elastic/elasticsearch/pull/58695#discussion_r447949566", "createdAt": "2020-06-30T20:09:28Z", "author": {"login": "debadair"}, "path": "docs/reference/api-conventions.asciidoc", "diffHunk": "@@ -30,12 +38,14 @@ include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=expand-wildcards]\n \n The defaults settings for the above parameters depend on the API being used.\n \n-Some multi index APIs also support the following url query string parameter:\n+Some multi-target APIs that can target indices also support the following query\n+string parameter:\n \n include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=ignore_throttled]\n \n-NOTE: Single index APIs such as the <<docs>> and the\n-<<indices-aliases,single-index `alias` APIs>> do not support multiple indices.\n+NOTE: Single index APIs, such as the <<docs>> and the", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6770a542704a6dc665974b2d0ecb76c6a0074fa7"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MTk0Mjc0OnYy", "diffSide": "RIGHT", "path": "docs/reference/api-conventions.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMDoxMzo0MVrOGrMzKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMDoxMzo0MVrOGrMzKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk1MTY1OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            To prevent the user from overriding the data stream or index which has been specified in the\n          \n          \n            \n            URL, add this setting to the `elasticsearch.yml` file:\n          \n          \n            \n            \n          \n          \n            \n                rest.action.multi.allow_explicit_index: false\n          \n          \n            \n            To prevent the user from overriding the data stream or index specified in the\n          \n          \n            \n            URL, set `rest.action.multi.allow_explicit_index` to `false` in `elasticsearch.yml`.", "url": "https://github.com/elastic/elasticsearch/pull/58695#discussion_r447951658", "createdAt": "2020-06-30T20:13:41Z", "author": {"login": "debadair"}, "path": "docs/reference/api-conventions.asciidoc", "diffHunk": "@@ -660,15 +670,15 @@ string parameter.\n === URL-based access control\n \n Many users use a proxy with URL-based access control to secure access to\n-Elasticsearch indices. For <<search-multi-search,multi-search>>,\n+{es} data streams and indices. For <<search-multi-search,multi-search>>,\n <<docs-multi-get,multi-get>>, and <<docs-bulk,bulk>> requests, the user has\n-the choice of specifying an index in the URL and on each individual request\n+the choice of specifying a data stream or  index in the URL and on each individual request\n within the request body. This can make URL-based access control challenging.\n \n-To prevent the user from overriding the index which has been specified in the\n+To prevent the user from overriding the data stream or index which has been specified in the\n URL, add this setting to the `elasticsearch.yml` file:\n \n     rest.action.multi.allow_explicit_index: false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6770a542704a6dc665974b2d0ecb76c6a0074fa7"}, "originalPosition": 62}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MTk0ODE2OnYy", "diffSide": "RIGHT", "path": "docs/reference/api-conventions.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMDoxNTozMFrOGrM2oQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMDoxNTozMFrOGrM2oQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk1MjU0NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The default value is `true`, but when set to `false`, {es} will\n          \n          \n            \n            reject requests that have an explicit data stream or index specified in the request body.\n          \n          \n            \n            This causes  {es} to\n          \n          \n            \n            reject requests that explicitly specfiy a data stream or index in the request body.", "url": "https://github.com/elastic/elasticsearch/pull/58695#discussion_r447952545", "createdAt": "2020-06-30T20:15:30Z", "author": {"login": "debadair"}, "path": "docs/reference/api-conventions.asciidoc", "diffHunk": "@@ -660,15 +670,15 @@ string parameter.\n === URL-based access control\n \n Many users use a proxy with URL-based access control to secure access to\n-Elasticsearch indices. For <<search-multi-search,multi-search>>,\n+{es} data streams and indices. For <<search-multi-search,multi-search>>,\n <<docs-multi-get,multi-get>>, and <<docs-bulk,bulk>> requests, the user has\n-the choice of specifying an index in the URL and on each individual request\n+the choice of specifying a data stream or  index in the URL and on each individual request\n within the request body. This can make URL-based access control challenging.\n \n-To prevent the user from overriding the index which has been specified in the\n+To prevent the user from overriding the data stream or index which has been specified in the\n URL, add this setting to the `elasticsearch.yml` file:\n \n     rest.action.multi.allow_explicit_index: false\n \n-The default value is `true`, but when set to `false`, Elasticsearch will\n-reject requests that have an explicit index specified in the request body.\n+The default value is `true`, but when set to `false`, {es} will\n+reject requests that have an explicit data stream or index specified in the request body.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6770a542704a6dc665974b2d0ecb76c6a0074fa7"}, "originalPosition": 67}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MTk3ODQ1OnYy", "diffSide": "RIGHT", "path": "docs/reference/snapshot-restore/take-snapshot.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMDoyNDozNVrOGrNJEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMDo0MDoxOVrOGrNoGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk1NzI2Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The list of indices that should be included into the snapshot can be specified using the `indices` parameter that\n          \n          \n            \n            Use the `indices` parameter, which supports <<multi-index,multi-target syntax>>, to specify the list of indices to include in the snapshot.", "url": "https://github.com/elastic/elasticsearch/pull/58695#discussion_r447957267", "createdAt": "2020-06-30T20:24:35Z", "author": {"login": "lockewritesdocs"}, "path": "docs/reference/snapshot-restore/take-snapshot.asciidoc", "diffHunk": "@@ -52,7 +52,7 @@ PUT /_snapshot/my_backup/snapshot_2?wait_for_completion=true\n // TEST[skip:cannot complete subsequent snapshot]\n \n The list of indices that should be included into the snapshot can be specified using the `indices` parameter that", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6770a542704a6dc665974b2d0ecb76c6a0074fa7"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk2NTIwOA==", "bodyText": "As this PR is primarily concerned with the multi-index xref, I'm going to leave this as-is for now. It'll create fewer merge conflicts for me in #58513.", "url": "https://github.com/elastic/elasticsearch/pull/58695#discussion_r447965208", "createdAt": "2020-06-30T20:40:19Z", "author": {"login": "jrodewig"}, "path": "docs/reference/snapshot-restore/take-snapshot.asciidoc", "diffHunk": "@@ -52,7 +52,7 @@ PUT /_snapshot/my_backup/snapshot_2?wait_for_completion=true\n // TEST[skip:cannot complete subsequent snapshot]\n \n The list of indices that should be included into the snapshot can be specified using the `indices` parameter that", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk1NzI2Nw=="}, "originalCommit": {"oid": "6770a542704a6dc665974b2d0ecb76c6a0074fa7"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5MTk5MzU4OnYy", "diffSide": "RIGHT", "path": "docs/reference/snapshot-restore/take-snapshot.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMDoyOToyNFrOGrNS3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQyMDo0MDoyNFrOGrNoRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk1OTc3NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            supports <<multi-index,multi-target syntax>>, although the options which control the behavior of multi index syntax\n          \n          \n            \n            must be supplied in the body of the request, rather than as request parameters. The snapshot request also supports the\n          \n          \n            \n            You specify the options that control the behavior of multi-target syntax\n          \n          \n            \n            in the body of the request, rather than as request parameters. The snapshot request also supports the", "url": "https://github.com/elastic/elasticsearch/pull/58695#discussion_r447959774", "createdAt": "2020-06-30T20:29:24Z", "author": {"login": "lockewritesdocs"}, "path": "docs/reference/snapshot-restore/take-snapshot.asciidoc", "diffHunk": "@@ -52,7 +52,7 @@ PUT /_snapshot/my_backup/snapshot_2?wait_for_completion=true\n // TEST[skip:cannot complete subsequent snapshot]\n \n The list of indices that should be included into the snapshot can be specified using the `indices` parameter that\n-supports <<multi-index,multi index syntax>>, although the options which control the behavior of multi index syntax\n+supports <<multi-index,multi-target syntax>>, although the options which control the behavior of multi index syntax\n must be supplied in the body of the request, rather than as request parameters. The snapshot request also supports the", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6770a542704a6dc665974b2d0ecb76c6a0074fa7"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk2NTI1Mw==", "bodyText": "Same as above.", "url": "https://github.com/elastic/elasticsearch/pull/58695#discussion_r447965253", "createdAt": "2020-06-30T20:40:24Z", "author": {"login": "jrodewig"}, "path": "docs/reference/snapshot-restore/take-snapshot.asciidoc", "diffHunk": "@@ -52,7 +52,7 @@ PUT /_snapshot/my_backup/snapshot_2?wait_for_completion=true\n // TEST[skip:cannot complete subsequent snapshot]\n \n The list of indices that should be included into the snapshot can be specified using the `indices` parameter that\n-supports <<multi-index,multi index syntax>>, although the options which control the behavior of multi index syntax\n+supports <<multi-index,multi-target syntax>>, although the options which control the behavior of multi index syntax\n must be supplied in the body of the request, rather than as request parameters. The snapshot request also supports the", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk1OTc3NA=="}, "originalCommit": {"oid": "6770a542704a6dc665974b2d0ecb76c6a0074fa7"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2260, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}