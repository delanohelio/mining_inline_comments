{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY2OTUwNTc3", "number": 61063, "title": "[DOCS] Add admon for built-in index templates", "bodyText": "Adds an important admonition for the built-in metrics-*-* and logs-*-* index\ntemplates.\nUpdates several put index template snippets to include a priority.", "createdAt": "2020-08-12T19:00:43Z", "url": "https://github.com/elastic/elasticsearch/pull/61063", "merged": true, "mergeCommit": {"oid": "cd6304ae6bfe38b61f0c9c42f0abd2fd9aa03e9c"}, "closed": true, "closedAt": "2020-08-17T15:37:08Z", "author": {"login": "jrodewig"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-QKYAAH2gAyNDY2OTUwNTc3OjQwNTgwNDk2MGY1YTRlNTk3MTczMzYxMWE5ZDE3OTU5MzhkNTNmMjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-0fXzgH2gAyNDY2OTUwNTc3OjliZmJkZmRkOWQ3MDUzNzUxYTFjYWE3YzEzZmE5MzljM2RlN2QwNTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "405804960f5a4e5971733611a9d1795938d53f22", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/405804960f5a4e5971733611a9d1795938d53f22", "committedDate": "2020-08-12T18:59:12Z", "message": "[DOCS] Add admon for built-in index templates\n\nAdds an important admonition for the built-in `metrics-*-*` and `logs-*-*` index\ntemplates.\n\nUpdates several put index template snippets to include a priority."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2MjEzMDMz", "url": "https://github.com/elastic/elasticsearch/pull/61063#pullrequestreview-466213033", "createdAt": "2020-08-12T19:33:40Z", "commit": {"oid": "405804960f5a4e5971733611a9d1795938d53f22"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxOTozMzo0MFrOG_vj7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxOTozNDowMlrOG_vkrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ5MjcxOQ==", "bodyText": "Minor suggestion:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            non-overlapping index pattern, or assign your templates a `priority` greater\n          \n          \n            \n            than `100`.\n          \n          \n            \n            non-overlapping index pattern, or assign your templates a `priority` greater\n          \n          \n            \n            or lower than `100`.", "url": "https://github.com/elastic/elasticsearch/pull/61063#discussion_r469492719", "createdAt": "2020-08-12T19:33:40Z", "author": {"login": "dakrone"}, "path": "docs/reference/data-streams/set-up-a-data-stream.asciidoc", "diffHunk": "@@ -106,6 +106,15 @@ template for a data stream must specify:\n \n * That the template is used exclusively for data streams.\n \n+* A priority for the template.\n+\n+IMPORTANT: {es} comes with built-in index templates for the `metrics-*-*` and\n+`logs-*-*` index patterns.\n+{ingest-guide}/ingest-management-overview.html[{agent}] uses these templates to\n+create data streams. To avoid accidentally applying these templates, use a\n+non-overlapping index pattern, or assign your templates a `priority` greater\n+than `100`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "405804960f5a4e5971733611a9d1795938d53f22"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ5MjgyOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            non-overlapping index pattern, or assign your templates a `priority` greater\n          \n          \n            \n            than `100`.\n          \n          \n            \n            non-overlapping index pattern, or assign your templates a `priority` greater\n          \n          \n            \n            or lower than `100`.", "url": "https://github.com/elastic/elasticsearch/pull/61063#discussion_r469492828", "createdAt": "2020-08-12T19:33:53Z", "author": {"login": "dakrone"}, "path": "docs/reference/indices/index-templates.asciidoc", "diffHunk": "@@ -20,6 +20,13 @@ specify settings, mappings, and aliases.\n \n If a new data stream or index matches more than one index template, the index template with the highest priority is used.\n \n+IMPORTANT: {es} comes with built-in index templates for the `metrics-*-*` and\n+`logs-*-*` index patterns.\n+{ingest-guide}/ingest-management-overview.html[{agent}] uses these templates to\n+create data streams. To avoid accidentally applying these templates, use a\n+non-overlapping index pattern, or assign your templates a `priority` greater\n+than `100`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "405804960f5a4e5971733611a9d1795938d53f22"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ5MjkwOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            non-overlapping index pattern, or assign your templates a `priority` greater\n          \n          \n            \n            than `100`.\n          \n          \n            \n            non-overlapping index pattern, or assign your templates a `priority` greater\n          \n          \n            \n            or lower than `100`.", "url": "https://github.com/elastic/elasticsearch/pull/61063#discussion_r469492908", "createdAt": "2020-08-12T19:34:02Z", "author": {"login": "dakrone"}, "path": "docs/reference/indices/put-index-template.asciidoc", "diffHunk": "@@ -83,6 +83,13 @@ include::{docdir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n (Required, array of strings)\n Array of wildcard (`*`) expressions\n used to match the names of data streams and indices during creation.\n++\n+IMPORTANT: {es} comes with built-in index templates for the `metrics-*-*` and\n+`logs-*-*` index patterns.\n+{ingest-guide}/ingest-management-overview.html[{agent}] uses these templates to\n+create data streams. To avoid accidentally applying these templates, use a\n+non-overlapping index pattern, or assign your templates a `priority` greater\n+than `100`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "405804960f5a4e5971733611a9d1795938d53f22"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "325092ab6f557070646a223e173f8fc182384907", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/325092ab6f557070646a223e173f8fc182384907", "committedDate": "2020-08-12T19:37:42Z", "message": "Apply Lee's suggestions.\n\nCo-authored-by: Lee Hinman <dakrone@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0dcc40694f35eb32163605aca2c899f1b81c58d1", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/0dcc40694f35eb32163605aca2c899f1b81c58d1", "committedDate": "2020-08-12T19:43:18Z", "message": "iter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84c8187d8df65c9da8da622aa172e7b2816da0ef", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/84c8187d8df65c9da8da622aa172e7b2816da0ef", "committedDate": "2020-08-12T19:44:23Z", "message": "Revert \"iter\"\n\nThis reverts commit 0dcc40694f35eb32163605aca2c899f1b81c58d1."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "577a9034c2518b2a81e227d21e85e22f0ec2cf10", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/577a9034c2518b2a81e227d21e85e22f0ec2cf10", "committedDate": "2020-08-12T21:47:42Z", "message": "Add admon to index API docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb2df7df8c21ab828148301b2814a58a47884048", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/eb2df7df8c21ab828148301b2814a58a47884048", "committedDate": "2020-08-13T11:37:40Z", "message": "Bump priority"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2OTk4OTU0", "url": "https://github.com/elastic/elasticsearch/pull/61063#pullrequestreview-466998954", "createdAt": "2020-08-13T17:50:08Z", "commit": {"oid": "eb2df7df8c21ab828148301b2814a58a47884048"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MTU4Mzgx", "url": "https://github.com/elastic/elasticsearch/pull/61063#pullrequestreview-467158381", "createdAt": "2020-08-13T21:56:37Z", "commit": {"oid": "eb2df7df8c21ab828148301b2814a58a47884048"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QyMTo1NjozN1rOHAfFzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QyMTo1Nzo0NVrOHAfHhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDI3MTQzOA==", "bodyText": "Can a data stream template with an index pattern that overlaps the built-in templates also inadvertently override the built-in templates? For example, if I add a data stream template with the index pattern logs* and give it a higher priority than the built in template (presumably 100?), have I just messed things up for the Elastic Agent's logs data stream?\nAlso, I'm not sure it's obvious that a higher number is in fact a higher priority. I could see someone making the opposite assumption.", "url": "https://github.com/elastic/elasticsearch/pull/61063#discussion_r470271438", "createdAt": "2020-08-13T21:56:37Z", "author": {"login": "debadair"}, "path": "docs/reference/data-streams/set-up-a-data-stream.asciidoc", "diffHunk": "@@ -106,6 +106,15 @@ template for a data stream must specify:\n \n * That the template is used exclusively for data streams.\n \n+* A priority for the template.\n+\n+IMPORTANT: {es} comes with built-in index templates for the `metrics-*-*` and\n+`logs-*-*` index patterns.\n+{ingest-guide}/ingest-management-overview.html[{agent}] uses these templates to\n+create data streams. To avoid accidentally applying these templates, use a", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb2df7df8c21ab828148301b2814a58a47884048"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDI3MTYxNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            {ingest-guide}/ingest-management-overview.html[{agent}] uses these templates to\n          \n          \n            \n            {ingest-guide}/ingest-management-overview.html[{Elastic Agent}] uses these templates to", "url": "https://github.com/elastic/elasticsearch/pull/61063#discussion_r470271615", "createdAt": "2020-08-13T21:57:02Z", "author": {"login": "debadair"}, "path": "docs/reference/data-streams/set-up-a-data-stream.asciidoc", "diffHunk": "@@ -106,6 +106,15 @@ template for a data stream must specify:\n \n * That the template is used exclusively for data streams.\n \n+* A priority for the template.\n+\n+IMPORTANT: {es} comes with built-in index templates for the `metrics-*-*` and\n+`logs-*-*` index patterns.\n+{ingest-guide}/ingest-management-overview.html[{agent}] uses these templates to", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb2df7df8c21ab828148301b2814a58a47884048"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDI3MTg3OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            IMPORTANT: {es} comes with built-in index templates for the `metrics-*-*` and\n          \n          \n            \n            IMPORTANT: {es} has built-in index templates for the `metrics-*-*` and", "url": "https://github.com/elastic/elasticsearch/pull/61063#discussion_r470271878", "createdAt": "2020-08-13T21:57:45Z", "author": {"login": "debadair"}, "path": "docs/reference/data-streams/set-up-a-data-stream.asciidoc", "diffHunk": "@@ -106,6 +106,15 @@ template for a data stream must specify:\n \n * That the template is used exclusively for data streams.\n \n+* A priority for the template.\n+\n+IMPORTANT: {es} comes with built-in index templates for the `metrics-*-*` and", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb2df7df8c21ab828148301b2814a58a47884048"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9bfbdfdd9d7053751a1caa7c13fa939c3de7d054", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/9bfbdfdd9d7053751a1caa7c13fa939c3de7d054", "committedDate": "2020-08-14T13:18:43Z", "message": "Address feedback"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3261, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}