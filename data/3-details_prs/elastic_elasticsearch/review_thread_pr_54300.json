{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0MzY4MzM0", "number": 54300, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDo1NTo1MVrODr1JNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDo1NzoxNFrODr1K-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3Mjg2MDY5OnYy", "diffSide": "RIGHT", "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/transform/transforms/TransformIndexerStats.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDo1NTo1MVrOF8aENg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QyMjowNDozMlrOF9DKXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg4NTk0Mg==", "bodyText": "processing_time_in_ms\n\nDoes this mean we need to add this property to the stats object in https://www.elastic.co/guide/en/elasticsearch/reference/master/get-transform-stats.html ?", "url": "https://github.com/elastic/elasticsearch/pull/54300#discussion_r398885942", "createdAt": "2020-03-26T20:55:51Z", "author": {"login": "lcawl"}, "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/transform/transforms/TransformIndexerStats.java", "diffHunk": "@@ -29,11 +28,24 @@\n \n import static org.elasticsearch.common.xcontent.ConstructingObjectParser.optionalConstructorArg;\n \n-public class TransformIndexerStats extends IndexerJobStats {\n+public class TransformIndexerStats {\n+    public static final String NAME = \"transform_indexer_stats\";\n \n     static ParseField EXPONENTIAL_AVG_CHECKPOINT_DURATION_MS = new ParseField(\"exponential_avg_checkpoint_duration_ms\");\n     static ParseField EXPONENTIAL_AVG_DOCUMENTS_INDEXED = new ParseField(\"exponential_avg_documents_indexed\");\n     static ParseField EXPONENTIAL_AVG_DOCUMENTS_PROCESSED = new ParseField(\"exponential_avg_documents_processed\");\n+    static ParseField PAGES_PROCESSED = new ParseField(\"pages_processed\");\n+    static ParseField DOCUMENTS_PROCESSED = new ParseField(\"documents_processed\");\n+    static ParseField DOCUMENTS_INDEXED = new ParseField(\"documents_indexed\");\n+    static ParseField TRIGGER_COUNT = new ParseField(\"trigger_count\");\n+    static ParseField INDEX_TIME_IN_MS = new ParseField(\"index_time_in_ms\");\n+    static ParseField SEARCH_TIME_IN_MS = new ParseField(\"search_time_in_ms\");\n+    static ParseField PROCESSING_TIME_IN_MS = new ParseField(\"processing_time_in_ms\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29986697b39b77e532f9e69f06875b287eb6b673"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTE5MDY1OQ==", "bodyText": "Sorry, that's my fault. In #53770 I added processing_time_in_ms and processing_total.\nThe 2 are counterparts of the search and index one:\nThe amount of time processing results, in milliseconds.\nThe number of processing operations.\nThis is basically what happens between search and index and shows the time/load the transform task itself used.", "url": "https://github.com/elastic/elasticsearch/pull/54300#discussion_r399190659", "createdAt": "2020-03-27T11:11:17Z", "author": {"login": "hendrikmuhs"}, "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/transform/transforms/TransformIndexerStats.java", "diffHunk": "@@ -29,11 +28,24 @@\n \n import static org.elasticsearch.common.xcontent.ConstructingObjectParser.optionalConstructorArg;\n \n-public class TransformIndexerStats extends IndexerJobStats {\n+public class TransformIndexerStats {\n+    public static final String NAME = \"transform_indexer_stats\";\n \n     static ParseField EXPONENTIAL_AVG_CHECKPOINT_DURATION_MS = new ParseField(\"exponential_avg_checkpoint_duration_ms\");\n     static ParseField EXPONENTIAL_AVG_DOCUMENTS_INDEXED = new ParseField(\"exponential_avg_documents_indexed\");\n     static ParseField EXPONENTIAL_AVG_DOCUMENTS_PROCESSED = new ParseField(\"exponential_avg_documents_processed\");\n+    static ParseField PAGES_PROCESSED = new ParseField(\"pages_processed\");\n+    static ParseField DOCUMENTS_PROCESSED = new ParseField(\"documents_processed\");\n+    static ParseField DOCUMENTS_INDEXED = new ParseField(\"documents_indexed\");\n+    static ParseField TRIGGER_COUNT = new ParseField(\"trigger_count\");\n+    static ParseField INDEX_TIME_IN_MS = new ParseField(\"index_time_in_ms\");\n+    static ParseField SEARCH_TIME_IN_MS = new ParseField(\"search_time_in_ms\");\n+    static ParseField PROCESSING_TIME_IN_MS = new ParseField(\"processing_time_in_ms\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg4NTk0Mg=="}, "originalCommit": {"oid": "29986697b39b77e532f9e69f06875b287eb6b673"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU1OTI2Mw==", "bodyText": "Thanks, I've created #54368 to add those.", "url": "https://github.com/elastic/elasticsearch/pull/54300#discussion_r399559263", "createdAt": "2020-03-27T22:04:32Z", "author": {"login": "lcawl"}, "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/transform/transforms/TransformIndexerStats.java", "diffHunk": "@@ -29,11 +28,24 @@\n \n import static org.elasticsearch.common.xcontent.ConstructingObjectParser.optionalConstructorArg;\n \n-public class TransformIndexerStats extends IndexerJobStats {\n+public class TransformIndexerStats {\n+    public static final String NAME = \"transform_indexer_stats\";\n \n     static ParseField EXPONENTIAL_AVG_CHECKPOINT_DURATION_MS = new ParseField(\"exponential_avg_checkpoint_duration_ms\");\n     static ParseField EXPONENTIAL_AVG_DOCUMENTS_INDEXED = new ParseField(\"exponential_avg_documents_indexed\");\n     static ParseField EXPONENTIAL_AVG_DOCUMENTS_PROCESSED = new ParseField(\"exponential_avg_documents_processed\");\n+    static ParseField PAGES_PROCESSED = new ParseField(\"pages_processed\");\n+    static ParseField DOCUMENTS_PROCESSED = new ParseField(\"documents_processed\");\n+    static ParseField DOCUMENTS_INDEXED = new ParseField(\"documents_indexed\");\n+    static ParseField TRIGGER_COUNT = new ParseField(\"trigger_count\");\n+    static ParseField INDEX_TIME_IN_MS = new ParseField(\"index_time_in_ms\");\n+    static ParseField SEARCH_TIME_IN_MS = new ParseField(\"search_time_in_ms\");\n+    static ParseField PROCESSING_TIME_IN_MS = new ParseField(\"processing_time_in_ms\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg4NTk0Mg=="}, "originalCommit": {"oid": "29986697b39b77e532f9e69f06875b287eb6b673"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3Mjg2NTIwOnYy", "diffSide": "RIGHT", "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/transform/transforms/TransformIndexerStats.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMDo1NzoxNFrOF8aHHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QyMjowNDo1M1rOF9DKyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg4NjY4NA==", "bodyText": "processing_total\n\nThis also doesn't appear in https://www.elastic.co/guide/en/elasticsearch/reference/master/get-transform-stats.html\nShould it?", "url": "https://github.com/elastic/elasticsearch/pull/54300#discussion_r398886684", "createdAt": "2020-03-26T20:57:14Z", "author": {"login": "lcawl"}, "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/transform/transforms/TransformIndexerStats.java", "diffHunk": "@@ -29,11 +28,24 @@\n \n import static org.elasticsearch.common.xcontent.ConstructingObjectParser.optionalConstructorArg;\n \n-public class TransformIndexerStats extends IndexerJobStats {\n+public class TransformIndexerStats {\n+    public static final String NAME = \"transform_indexer_stats\";\n \n     static ParseField EXPONENTIAL_AVG_CHECKPOINT_DURATION_MS = new ParseField(\"exponential_avg_checkpoint_duration_ms\");\n     static ParseField EXPONENTIAL_AVG_DOCUMENTS_INDEXED = new ParseField(\"exponential_avg_documents_indexed\");\n     static ParseField EXPONENTIAL_AVG_DOCUMENTS_PROCESSED = new ParseField(\"exponential_avg_documents_processed\");\n+    static ParseField PAGES_PROCESSED = new ParseField(\"pages_processed\");\n+    static ParseField DOCUMENTS_PROCESSED = new ParseField(\"documents_processed\");\n+    static ParseField DOCUMENTS_INDEXED = new ParseField(\"documents_indexed\");\n+    static ParseField TRIGGER_COUNT = new ParseField(\"trigger_count\");\n+    static ParseField INDEX_TIME_IN_MS = new ParseField(\"index_time_in_ms\");\n+    static ParseField SEARCH_TIME_IN_MS = new ParseField(\"search_time_in_ms\");\n+    static ParseField PROCESSING_TIME_IN_MS = new ParseField(\"processing_time_in_ms\");\n+    static ParseField INDEX_TOTAL = new ParseField(\"index_total\");\n+    static ParseField SEARCH_TOTAL = new ParseField(\"search_total\");\n+    static ParseField PROCESSING_TOTAL = new ParseField(\"processing_total\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29986697b39b77e532f9e69f06875b287eb6b673"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTE5NjQ1OA==", "bodyText": "i think it should be in stats. I am not 100% sure it should be in the _cat API though. Right now processing times are so small that they are pretty insignificant.", "url": "https://github.com/elastic/elasticsearch/pull/54300#discussion_r399196458", "createdAt": "2020-03-27T11:22:44Z", "author": {"login": "benwtrent"}, "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/transform/transforms/TransformIndexerStats.java", "diffHunk": "@@ -29,11 +28,24 @@\n \n import static org.elasticsearch.common.xcontent.ConstructingObjectParser.optionalConstructorArg;\n \n-public class TransformIndexerStats extends IndexerJobStats {\n+public class TransformIndexerStats {\n+    public static final String NAME = \"transform_indexer_stats\";\n \n     static ParseField EXPONENTIAL_AVG_CHECKPOINT_DURATION_MS = new ParseField(\"exponential_avg_checkpoint_duration_ms\");\n     static ParseField EXPONENTIAL_AVG_DOCUMENTS_INDEXED = new ParseField(\"exponential_avg_documents_indexed\");\n     static ParseField EXPONENTIAL_AVG_DOCUMENTS_PROCESSED = new ParseField(\"exponential_avg_documents_processed\");\n+    static ParseField PAGES_PROCESSED = new ParseField(\"pages_processed\");\n+    static ParseField DOCUMENTS_PROCESSED = new ParseField(\"documents_processed\");\n+    static ParseField DOCUMENTS_INDEXED = new ParseField(\"documents_indexed\");\n+    static ParseField TRIGGER_COUNT = new ParseField(\"trigger_count\");\n+    static ParseField INDEX_TIME_IN_MS = new ParseField(\"index_time_in_ms\");\n+    static ParseField SEARCH_TIME_IN_MS = new ParseField(\"search_time_in_ms\");\n+    static ParseField PROCESSING_TIME_IN_MS = new ParseField(\"processing_time_in_ms\");\n+    static ParseField INDEX_TOTAL = new ParseField(\"index_total\");\n+    static ParseField SEARCH_TOTAL = new ParseField(\"search_total\");\n+    static ParseField PROCESSING_TOTAL = new ParseField(\"processing_total\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg4NjY4NA=="}, "originalCommit": {"oid": "29986697b39b77e532f9e69f06875b287eb6b673"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU1OTM3MQ==", "bodyText": "Likewise this will be fixed in #54368", "url": "https://github.com/elastic/elasticsearch/pull/54300#discussion_r399559371", "createdAt": "2020-03-27T22:04:53Z", "author": {"login": "lcawl"}, "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/transform/transforms/TransformIndexerStats.java", "diffHunk": "@@ -29,11 +28,24 @@\n \n import static org.elasticsearch.common.xcontent.ConstructingObjectParser.optionalConstructorArg;\n \n-public class TransformIndexerStats extends IndexerJobStats {\n+public class TransformIndexerStats {\n+    public static final String NAME = \"transform_indexer_stats\";\n \n     static ParseField EXPONENTIAL_AVG_CHECKPOINT_DURATION_MS = new ParseField(\"exponential_avg_checkpoint_duration_ms\");\n     static ParseField EXPONENTIAL_AVG_DOCUMENTS_INDEXED = new ParseField(\"exponential_avg_documents_indexed\");\n     static ParseField EXPONENTIAL_AVG_DOCUMENTS_PROCESSED = new ParseField(\"exponential_avg_documents_processed\");\n+    static ParseField PAGES_PROCESSED = new ParseField(\"pages_processed\");\n+    static ParseField DOCUMENTS_PROCESSED = new ParseField(\"documents_processed\");\n+    static ParseField DOCUMENTS_INDEXED = new ParseField(\"documents_indexed\");\n+    static ParseField TRIGGER_COUNT = new ParseField(\"trigger_count\");\n+    static ParseField INDEX_TIME_IN_MS = new ParseField(\"index_time_in_ms\");\n+    static ParseField SEARCH_TIME_IN_MS = new ParseField(\"search_time_in_ms\");\n+    static ParseField PROCESSING_TIME_IN_MS = new ParseField(\"processing_time_in_ms\");\n+    static ParseField INDEX_TOTAL = new ParseField(\"index_total\");\n+    static ParseField SEARCH_TOTAL = new ParseField(\"search_total\");\n+    static ParseField PROCESSING_TOTAL = new ParseField(\"processing_total\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODg4NjY4NA=="}, "originalCommit": {"oid": "29986697b39b77e532f9e69f06875b287eb6b673"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4140, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}