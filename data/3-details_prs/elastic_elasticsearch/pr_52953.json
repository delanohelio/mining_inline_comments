{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgxNDM5MTI0", "number": 52953, "title": "[DOCS] Add parameter examples to EQL search tutorial", "bodyText": "Makes the following updates to the EQL search tutorial:\n\nAdds an API response to the basic tutorial\nAdds an example using the event_type_field parm\nAdds an example using the timestamp_fieldparm\nAdds an example using the query parm\nUpdates example dataset to support more EQL query variety", "createdAt": "2020-02-28T15:09:57Z", "url": "https://github.com/elastic/elasticsearch/pull/52953", "merged": true, "mergeCommit": {"oid": "06225353de161dfb0354699feb7a26d689377825"}, "closed": true, "closedAt": "2020-03-02T14:30:52Z", "author": {"login": "jrodewig"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcIxYh2gH2gAyMzgxNDM5MTI0OjgzMDQ5YjgwNjkzZDIxMTQ5ODExNWNkYTJmM2UyMzM2M2RiNjRlZmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcJuTsugH2gAyMzgxNDM5MTI0OjZiOWNkYmE5Y2EwZWU1ODc4MTM2YzE2MGI3OWMxY2ZmZDYwMzI0MTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "83049b80693d211498115cda2f3e23363db64efd", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/83049b80693d211498115cda2f3e23363db64efd", "committedDate": "2020-02-28T15:09:37Z", "message": "[DOCS] Add examples to EQL search tutorial"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69fdcdc11836e1b9058b9438a1c800b3534280ad", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/69fdcdc11836e1b9058b9438a1c800b3534280ad", "committedDate": "2020-02-28T15:30:56Z", "message": "Correct query filter example"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3MDU2ODk5", "url": "https://github.com/elastic/elasticsearch/pull/52953#pullrequestreview-367056899", "createdAt": "2020-03-02T09:36:29Z", "commit": {"oid": "69fdcdc11836e1b9058b9438a1c800b3534280ad"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQwOTozNjoyOVrOFwYzAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQwOTozNjoyOVrOFwYzAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjI4MjI0Mw==", "bodyText": "fyi #52971", "url": "https://github.com/elastic/elasticsearch/pull/52953#discussion_r386282243", "createdAt": "2020-03-02T09:36:29Z", "author": {"login": "astefan"}, "path": "docs/reference/eql/search.asciidoc", "diffHunk": "@@ -40,8 +41,120 @@ GET sec_logs/_eql/search\n   \"\"\"\n }\n ----\n-// TEST[continued]\n \n Because the `sec_log` index follows the ECS, you don't need to specify the\n-event type or timestamp fields. The request uses the `event.category` and\n-`@timestamp` fields by default.\n+timestamp fields. The request uses the `@timestamp` field by default.\n+\n+The API returns the following response containing the matching event:\n+\n+[source,console-result]\n+----\n+{\n+  \"took\": 3,\n+  \"timed_out\": false,\n+  \"hits\": {\n+    \"total\": {\n+      \"value\": 1,\n+      \"relation\": \"eq\"\n+    },\n+    \"events\": [\n+      {\n+        \"_index\": \"sec_logs\",\n+        \"_id\": \"1\",\n+        \"_score\": 0.9400072,\n+        \"_source\": {\n+          \"@timestamp\": \"2020-12-07T11:06:07.000Z\",\n+          \"agent\": {\n+            \"id\": \"8a4f500d\"\n+          },\n+          \"event\": {\n+            \"category\": \"process\"\n+          },\n+          \"process\": {\n+            \"name\": \"cmd.exe\",\n+            \"path\": \"C:\\\\Windows\\\\System32\\\\cmd.exe\"\n+          }\n+        }\n+      }\n+    ]\n+  }\n+}\n+----\n+// TESTRESPONSE[s/\"took\": 3/\"took\": $body.took/]\n+\n+[discrete]\n+[[eql-search-specify-event-type-field]]\n+=== Specify an event type field\n+\n+The EQL search API uses `event_type` as the required <<eql-required-fields,event\n+type field>> by default. You can use the `event_type_field` parameter to specify\n+another event type field.\n+\n+For example, the following request specifies `file.type` as the event type\n+field.\n+\n+[source,console]\n+----\n+GET sec_logs/_eql/search\n+{\n+  \"event_type_field\": \"file.type\",\n+  \"rule\": \"\"\"\n+    file where agent.id == \"8a4f500d\"\n+  \"\"\"\n+}\n+----\n+\n+[discrete]\n+[[eql-search-specify-timestamp-field]]\n+=== Specify a timestamp field\n+\n+The EQL search API uses `@timestamp` as the required <<eql-required-fields,event\n+timestamp field>> by default. You can use the `timestamp_field` parameter to\n+specify another timestamp field.\n+\n+For example, the following request specifies `file.accessed` as the event\n+timestamp field.\n+\n+[source,console]\n+----\n+GET sec_logs/_eql/search\n+{\n+  \"timestamp_field\": \"file.accessed\",\n+  \"event_type_field\": \"event.category\",\n+  \"rule\": \"\"\"\n+    file where (file.size > 1 and file.type == \"file\")\n+  \"\"\"\n+}\n+----\n+\n+[discrete]\n+[[eql-search-filter-query-dsl]]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69fdcdc11836e1b9058b9438a1c800b3534280ad"}, "originalPosition": 120}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e195cee22e0a13ce6d9d224da8cf30e4e3486dc7", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/e195cee22e0a13ce6d9d224da8cf30e4e3486dc7", "committedDate": "2020-03-02T13:00:46Z", "message": "Update for #52971"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "245b3e58a44e9ac0477c456d76cc34317501cc51", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/245b3e58a44e9ac0477c456d76cc34317501cc51", "committedDate": "2020-03-02T13:26:46Z", "message": "Merge remote-tracking branch 'upstream/master' into docs__eql-search-examples"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "257cee2e585b71dba648b974f1eaa8e9efeebd52", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/257cee2e585b71dba648b974f1eaa8e9efeebd52", "committedDate": "2020-03-02T13:46:10Z", "message": "Merge branch 'master' into docs__eql-search-examples"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b9cdba9ca0ee5878136c160b79c1cffd6032418", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/6b9cdba9ca0ee5878136c160b79c1cffd6032418", "committedDate": "2020-03-02T14:08:33Z", "message": "Merge branch 'master' into docs__eql-search-examples"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1854, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}