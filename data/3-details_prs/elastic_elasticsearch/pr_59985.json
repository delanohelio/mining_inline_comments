{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU0NTU1MTE4", "number": 59985, "title": "[DOCS] Fix shrink index API prereqs", "bodyText": "Adds a recommendation for removing replica shards to the prereqs of the shrink index API docs.\nAlso clarifies some of the existing prereqs.\nCloses #59945", "createdAt": "2020-07-21T14:46:55Z", "url": "https://github.com/elastic/elasticsearch/pull/59985", "merged": true, "mergeCommit": {"oid": "98d21fe55182aecb548c83268be24bbf1201ab66"}, "closed": true, "closedAt": "2020-07-22T17:10:11Z", "author": {"login": "jrodewig"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3H9N1gH2gAyNDU0NTU1MTE4OjY3NjNiZjZkYmY1Nzk1ZDVjODAxNTdkODY5MTMxNGQ5MWY0MGIwOGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3bKkjAH2gAyNDU0NTU1MTE4OjFjYzk0ZDExNGU1ZWZmNzY2Nzg0OWVlMGNmMmRmY2Q1MDA1OTE4MjU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6763bf6dbf5795d5c80157d8691314d91f40b08f", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/6763bf6dbf5795d5c80157d8691314d91f40b08f", "committedDate": "2020-07-21T15:28:07Z", "message": "[DOCS] Fix shrink index API prereqs\n\nAdds a recommendation for removing replica shards to the prereqs of the shrink index API docs.\nAlso clarifies some of the existing prereqs."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3b6a083b958be63d075364131e8444fba61a26c9", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/3b6a083b958be63d075364131e8444fba61a26c9", "committedDate": "2020-07-21T15:22:18Z", "message": "remove empty line"}, "afterCommit": {"oid": "6763bf6dbf5795d5c80157d8691314d91f40b08f", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/6763bf6dbf5795d5c80157d8691314d91f40b08f", "committedDate": "2020-07-21T15:28:07Z", "message": "[DOCS] Fix shrink index API prereqs\n\nAdds a recommendation for removing replica shards to the prereqs of the shrink index API docs.\nAlso clarifies some of the existing prereqs."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f63e1a02ea727b1ee934d6365fcbe8ed4302931f", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/f63e1a02ea727b1ee934d6365fcbe8ed4302931f", "committedDate": "2020-07-21T17:17:53Z", "message": "reword"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMzAxMzM2", "url": "https://github.com/elastic/elasticsearch/pull/59985#pullrequestreview-453301336", "createdAt": "2020-07-22T13:11:36Z", "commit": {"oid": "f63e1a02ea727b1ee934d6365fcbe8ed4302931f"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzoxMTozN1rOG1hr8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzoxMTozN1rOG1hr8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc3OTYzNA==", "bodyText": "I believe that only the primary shards must reside on the same node. ES won't allocate a replica shard to a node containing its primary since that would serve no purpose.", "url": "https://github.com/elastic/elasticsearch/pull/59985#discussion_r458779634", "createdAt": "2020-07-22T13:11:37Z", "author": {"login": "danhermann"}, "path": "docs/reference/indices/shrink-index.asciidoc", "diffHunk": "@@ -28,28 +28,36 @@ POST /twitter/_shrink/shrunk-twitter-index\n Before you can shrink an index:\n \n * The index must be read-only.\n-* A copy of every shard in the index must reside on the same node.\n-* The <<cluster-health, cluster health>> status must be green.\n+* All primary and replica shards for the index must reside on the same node.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63e1a02ea727b1ee934d6365fcbe8ed4302931f"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1cc94d114e5eff7667849ee0cf2dfcd500591825", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/1cc94d114e5eff7667849ee0cf2dfcd500591825", "committedDate": "2020-07-22T13:50:54Z", "message": "address feedback"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4172, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}