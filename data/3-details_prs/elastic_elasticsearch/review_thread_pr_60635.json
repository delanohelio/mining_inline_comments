{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyNDYwMzc5", "number": 60635, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMDo0OTozOFrOEVKb8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMDo0OTo1NFrOEVKcXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNjI2NTQ0OnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMDo0OTozOFrOG7w_lw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQxMToxMTowOVrOG8E9yA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTMyMTg3OQ==", "bodyText": "do we want to make this function static?", "url": "https://github.com/elastic/elasticsearch/pull/60635#discussion_r465321879", "createdAt": "2020-08-04T20:49:38Z", "author": {"login": "mayya-sharipova"}, "path": "server/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java", "diffHunk": "@@ -209,6 +163,54 @@ public int compareTo(DocIdToIndex o) {\n         }\n     }\n \n+    private FieldsVisitor createStoredFieldsVisitor(SearchContext context, Map<String, Set<String>> storedToRequestedFields) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bfa57ff1a39ab4d7a4fa8dec59c58591102260d9"}, "originalPosition": 79}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM0NzM0OA==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/elastic/elasticsearch/pull/60635#discussion_r465347348", "createdAt": "2020-08-04T21:43:36Z", "author": {"login": "jtibshirani"}, "path": "server/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java", "diffHunk": "@@ -209,6 +163,54 @@ public int compareTo(DocIdToIndex o) {\n         }\n     }\n \n+    private FieldsVisitor createStoredFieldsVisitor(SearchContext context, Map<String, Set<String>> storedToRequestedFields) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTMyMTg3OQ=="}, "originalCommit": {"oid": "bfa57ff1a39ab4d7a4fa8dec59c58591102260d9"}, "originalPosition": 79}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM1MjczMA==", "bodyText": "On second thought, would you be okay keeping these as instance methods for consistency? It looks like all the other helper methods (findRootDocumentIfNested, prepareHitContext, etc.) are not static.", "url": "https://github.com/elastic/elasticsearch/pull/60635#discussion_r465352730", "createdAt": "2020-08-04T21:56:04Z", "author": {"login": "jtibshirani"}, "path": "server/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java", "diffHunk": "@@ -209,6 +163,54 @@ public int compareTo(DocIdToIndex o) {\n         }\n     }\n \n+    private FieldsVisitor createStoredFieldsVisitor(SearchContext context, Map<String, Set<String>> storedToRequestedFields) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTMyMTg3OQ=="}, "originalCommit": {"oid": "bfa57ff1a39ab4d7a4fa8dec59c58591102260d9"}, "originalPosition": 79}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTY0OTA5Ng==", "bodyText": "I don't mind keeping them instance methods for consistency.", "url": "https://github.com/elastic/elasticsearch/pull/60635#discussion_r465649096", "createdAt": "2020-08-05T11:11:09Z", "author": {"login": "mayya-sharipova"}, "path": "server/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java", "diffHunk": "@@ -209,6 +163,54 @@ public int compareTo(DocIdToIndex o) {\n         }\n     }\n \n+    private FieldsVisitor createStoredFieldsVisitor(SearchContext context, Map<String, Set<String>> storedToRequestedFields) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTMyMTg3OQ=="}, "originalCommit": {"oid": "bfa57ff1a39ab4d7a4fa8dec59c58591102260d9"}, "originalPosition": 79}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNjI2NjU1OnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMDo0OTo1NVrOG7xAMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMTo0MzozOVrOG7yjKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTMyMjAzNQ==", "bodyText": "do we want to make this function static?", "url": "https://github.com/elastic/elasticsearch/pull/60635#discussion_r465322035", "createdAt": "2020-08-04T20:49:55Z", "author": {"login": "mayya-sharipova"}, "path": "server/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java", "diffHunk": "@@ -438,13 +437,17 @@ private void prepareNestedHitContext(FetchSubPhase.HitContext hitContext,\n         return nestedIdentity;\n     }\n \n-    private void loadStoredFields(SearchShardTarget shardTarget, LeafReaderContext readerContext, FieldsVisitor fieldVisitor, int docId) {\n+    private void loadStoredFields(SearchShardTarget shardTarget,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bfa57ff1a39ab4d7a4fa8dec59c58591102260d9"}, "originalPosition": 165}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM0NzM2OQ==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/elastic/elasticsearch/pull/60635#discussion_r465347369", "createdAt": "2020-08-04T21:43:39Z", "author": {"login": "jtibshirani"}, "path": "server/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java", "diffHunk": "@@ -438,13 +437,17 @@ private void prepareNestedHitContext(FetchSubPhase.HitContext hitContext,\n         return nestedIdentity;\n     }\n \n-    private void loadStoredFields(SearchShardTarget shardTarget, LeafReaderContext readerContext, FieldsVisitor fieldVisitor, int docId) {\n+    private void loadStoredFields(SearchShardTarget shardTarget,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTMyMjAzNQ=="}, "originalCommit": {"oid": "bfa57ff1a39ab4d7a4fa8dec59c58591102260d9"}, "originalPosition": 165}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2626, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}