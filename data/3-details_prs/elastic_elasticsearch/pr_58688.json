{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxNTE3MjE5", "number": 58688, "title": "Make DataStream instances explicitly immutable", "bodyText": "Relates to #53100", "createdAt": "2020-06-29T16:15:31Z", "url": "https://github.com/elastic/elasticsearch/pull/58688", "merged": true, "mergeCommit": {"oid": "7a9020a4a436d191665b1599c9e48e15ab57dee9"}, "closed": true, "closedAt": "2020-06-30T11:47:07Z", "author": {"login": "danhermann"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwDbPbgH2gAyNDQxNTE3MjE5OmEwOWJkMTNlYTE5MTI5M2M1MzE4YzYxOWQ2Y2ZlOWNiMTkxNjcwZWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwPdG6gFqTQzOTY5ODM4Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a09bd13ea191293c5318c619d6cfe9cb191670ec", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/a09bd13ea191293c5318c619d6cfe9cb191670ec", "committedDate": "2020-06-29T16:13:55Z", "message": "Make DataStream instances explicitly immutable"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5MzA3NTM2", "url": "https://github.com/elastic/elasticsearch/pull/58688#pullrequestreview-439307536", "createdAt": "2020-06-29T16:23:39Z", "commit": {"oid": "a09bd13ea191293c5318c619d6cfe9cb191670ec"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxNjoyMzo0MFrOGqYmRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxNjoyMzo0MFrOGqYmRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzA5NjM4OQ==", "bodyText": "No need for this since the other ctor already wraps in Collections.unmodifiableList right?", "url": "https://github.com/elastic/elasticsearch/pull/58688#discussion_r447096389", "createdAt": "2020-06-29T16:23:40Z", "author": {"login": "original-brownbear"}, "path": "server/src/main/java/org/elasticsearch/cluster/metadata/DataStream.java", "diffHunk": "@@ -148,7 +149,7 @@ public static String getDefaultBackingIndexName(String dataStreamName, long gene\n     }\n \n     public DataStream(StreamInput in) throws IOException {\n-        this(in.readString(), new TimestampField(in), in.readList(Index::new), in.readVLong());\n+        this(in.readString(), new TimestampField(in), Collections.unmodifiableList(in.readList(Index::new)), in.readVLong());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09bd13ea191293c5318c619d6cfe9cb191670ec"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db7f9804ce79bc6cc2bfdea9552345036800e3fa", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/db7f9804ce79bc6cc2bfdea9552345036800e3fa", "committedDate": "2020-06-29T18:46:21Z", "message": "remove redundant constructor code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5NDgyNjY5", "url": "https://github.com/elastic/elasticsearch/pull/58688#pullrequestreview-439482669", "createdAt": "2020-06-29T20:38:48Z", "commit": {"oid": "db7f9804ce79bc6cc2bfdea9552345036800e3fa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f75c8fceaab3a45929697f849bbbdd6eba2632e", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/8f75c8fceaab3a45929697f849bbbdd6eba2632e", "committedDate": "2020-06-29T23:46:09Z", "message": "Merge branch 'master' into immutable_data_streams"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5Njk4Mzg3", "url": "https://github.com/elastic/elasticsearch/pull/58688#pullrequestreview-439698387", "createdAt": "2020-06-30T06:14:50Z", "commit": {"oid": "8f75c8fceaab3a45929697f849bbbdd6eba2632e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2555, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}