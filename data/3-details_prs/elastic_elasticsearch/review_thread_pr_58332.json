{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2NTE5MTI0", "number": 58332, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQyMDoyNToyOVrOEG5sDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQyMDoyNToyOVrOEG5sDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1NjcyMDc4OnYy", "diffSide": "LEFT", "path": "x-pack/plugin/async-search/src/main/java/org/elasticsearch/xpack/search/TransportSubmitAsyncSearchAction.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQyMDoyNToyOVrOGl_Adg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwNzowMDoxOFrOGoFaFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjQ4MjgwNg==", "bodyText": "I was wondering if it can still happen that we get here and submit is cancelled.", "url": "https://github.com/elastic/elasticsearch/pull/58332#discussion_r442482806", "createdAt": "2020-06-18T20:25:29Z", "author": {"login": "javanna"}, "path": "x-pack/plugin/async-search/src/main/java/org/elasticsearch/xpack/search/TransportSubmitAsyncSearchAction.java", "diffHunk": "@@ -88,42 +85,34 @@ public void onResponse(AsyncSearchResponse searchResponse) {\n                         // the task is still running and the user cannot wait more so we create\n                         // a document for further retrieval\n                         try {\n-                            if (submitTask.isCancelled()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "088736ec066e09bc8ba7bba1daf501faeb389bcb"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDY4NDgyMg==", "bodyText": "I think that's ok, the cancelled may be delayed but we'll remove the document at the end (onFinalResponse checks if the task was cancelled).", "url": "https://github.com/elastic/elasticsearch/pull/58332#discussion_r444684822", "createdAt": "2020-06-24T07:00:18Z", "author": {"login": "jimczi"}, "path": "x-pack/plugin/async-search/src/main/java/org/elasticsearch/xpack/search/TransportSubmitAsyncSearchAction.java", "diffHunk": "@@ -88,42 +85,34 @@ public void onResponse(AsyncSearchResponse searchResponse) {\n                         // the task is still running and the user cannot wait more so we create\n                         // a document for further retrieval\n                         try {\n-                            if (submitTask.isCancelled()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjQ4MjgwNg=="}, "originalCommit": {"oid": "088736ec066e09bc8ba7bba1daf501faeb389bcb"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1463, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}