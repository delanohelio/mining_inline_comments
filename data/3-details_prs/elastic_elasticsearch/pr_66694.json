{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQzNTI0OTk5", "number": 66694, "title": "[DOCS] Clarify memlock settings in `/etc/security/limits.conf`", "bodyText": "Adds example snippet for setting memlock to unlimited in /etc/security/limits.conf. Removes a confusing link.\nCloses #66601.\nPreview\nhttps://elasticsearch_66694.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/setup-configuration-memory.html#bootstrap-memory_lock", "createdAt": "2020-12-21T14:45:09Z", "url": "https://github.com/elastic/elasticsearch/pull/66694", "merged": true, "mergeCommit": {"oid": "9fb7bacbc10481a8acfd89c34bc96fa225fb77d6"}, "closed": true, "closedAt": "2021-01-05T14:02:41Z", "author": {"login": "jrodewig"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdoXAVJgH2gAyNTQzNTI0OTk5OmFmNDc1NDBmNjdkM2VkYTQ4MWY0MDc1M2YwOWZkOTZlMTA1MGJmMzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdtLN9lAH2gAyNTQzNTI0OTk5OjU1ZTlkMGIxMmNkMDE1MGYyYjY4ZGYxNmRhNmJkNWQ3NzgzNWRiOTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "af47540f67d3eda481f40753f09fd96e1050bf35", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/af47540f67d3eda481f40753f09fd96e1050bf35", "committedDate": "2020-12-21T14:42:23Z", "message": "[DOCS] Clarify memlock setting in `/etc/security/limits.conf`"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3910d4468432d59d9838456cdd9e120c64f5f749", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/3910d4468432d59d9838456cdd9e120c64f5f749", "committedDate": "2020-12-21T14:56:36Z", "message": "Add missing comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4MTc0NDMx", "url": "https://github.com/elastic/elasticsearch/pull/66694#pullrequestreview-558174431", "createdAt": "2020-12-23T18:53:30Z", "commit": {"oid": "3910d4468432d59d9838456cdd9e120c64f5f749"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QxODo1MzozMFrOIKvslA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QxODo1MzozMFrOIKvslA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODEzODEzMg==", "bodyText": "Taken from https://github.com/elastic/elasticsearch/blob/master/server/src/main/java/org/elasticsearch/bootstrap/JNANatives.java#L103", "url": "https://github.com/elastic/elasticsearch/pull/66694#discussion_r548138132", "createdAt": "2020-12-23T18:53:30Z", "author": {"login": "jrodewig"}, "path": "docs/reference/setup/sysconfig/swap.asciidoc", "diffHunk": "@@ -87,10 +87,15 @@ Elasticsearch doesn't have permission to lock memory.  This can be granted as\n follows:\n \n `.zip` and `.tar.gz`::\n-\n-  Set <<ulimit,`ulimit -l unlimited`>> as root before starting Elasticsearch,\n-  or set `memlock` to `unlimited` in\n-  <<limits.conf,`/etc/security/limits.conf`>>.\n+Set <<ulimit,`ulimit -l unlimited`>> as root before starting {es}.\n+Alternatively, set `memlock` to `unlimited` in `/etc/security/limits.conf`:\n++\n+[source,sh]\n+----\n+# allow user 'elasticsearch' mlockall\n+elasticsearch soft memlock unlimited\n+elasticsearch hard memlock unlimited", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3910d4468432d59d9838456cdd9e120c64f5f749"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwOTA3MTgz", "url": "https://github.com/elastic/elasticsearch/pull/66694#pullrequestreview-560907183", "createdAt": "2021-01-04T10:04:13Z", "commit": {"oid": "3910d4468432d59d9838456cdd9e120c64f5f749"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55e9d0b12cd0150f2b68df16da6bd5d77835db98", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/55e9d0b12cd0150f2b68df16da6bd5d77835db98", "committedDate": "2021-01-05T13:48:02Z", "message": "Merge branch 'master' into docs__melock-unlimited"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4270, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}