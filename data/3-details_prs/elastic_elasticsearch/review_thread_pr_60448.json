{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU5MTI4MDQ4", "number": 60448, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMjoyODozOFrOETqDcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMzoxMzozNlrOETrDpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MDQ3NDEwOnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMjoyODozOFrOG5g2Qg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMjoyODozOFrOG5g2Qg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjk2MDE5NA==", "bodyText": "I know we discussed this and decided on a cluster setting for this, but does that actually make sense?\nI made it a repo setting for now (trivial to change) because I figured:\n\nAll the other settings we have for the repo are repo level settings.\nIt's weird that this would be the only repo setting that can be dynamically adjusted without re-creating the repo\nThere is the absurdly unlikely chance that someone would actually want to only turn this off for one repo? :P", "url": "https://github.com/elastic/elasticsearch/pull/60448#discussion_r462960194", "createdAt": "2020-07-30T12:28:38Z", "author": {"login": "original-brownbear"}, "path": "server/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java", "diffHunk": "@@ -299,6 +307,7 @@ protected BlobStoreRepository(\n         this.clusterService = clusterService;\n         this.recoverySettings = recoverySettings;\n         this.compress = COMPRESS_SETTING.get(metadata.settings());\n+        this.supportURLRepo = SUPPORT_URL_REPO.get(metadata.settings());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29a6933c20d0315fb2ac55dec609ae59f50930fa"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MDYzODQ1OnYy", "diffSide": "RIGHT", "path": "test/framework/src/main/java/org/elasticsearch/snapshots/mockstore/MockRepository.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMzoxMzozNlrOG5iaew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMzoxMzozNlrOG5iaew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjk4NTg1MQ==", "bodyText": "We have some annoying tests where random failures in index.latest would get counted via incrementAndGetFailureCount but because they now do not break the snapshot, the test would fail because random IOException must always mean failed snapshot in those tests => this seemed like the simplest fix to that.", "url": "https://github.com/elastic/elasticsearch/pull/60448#discussion_r462985851", "createdAt": "2020-07-30T13:13:36Z", "author": {"login": "original-brownbear"}, "path": "test/framework/src/main/java/org/elasticsearch/snapshots/mockstore/MockRepository.java", "diffHunk": "@@ -272,6 +281,11 @@ private int hashCode(String path) {\n             }\n \n             private void maybeIOExceptionOrBlock(String blobName) throws IOException {\n+                if (INDEX_LATEST_BLOB.equals(blobName)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29a6933c20d0315fb2ac55dec609ae59f50930fa"}, "originalPosition": 27}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2749, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}