{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5MDY5ODgy", "number": 51674, "title": "[DOCS] Adds recommendation on dedicated master-eligible nodes", "bodyText": "This PR expands Node documentation with the current recommendation on the number of dedicated master-eligible nodes in the case of a larger deployment. It also adds a separate section heading to dedicated master-eligible nodes.\nCloses #42422\nPreview: http://elasticsearch_51674.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/modules-node.html#dedicated-master-node", "createdAt": "2020-01-30T13:20:57Z", "url": "https://github.com/elastic/elasticsearch/pull/51674", "merged": true, "mergeCommit": {"oid": "850278c69a985e2b8b7a0c2795913ed811af8079"}, "closed": true, "closedAt": "2020-01-31T11:51:47Z", "author": {"login": "szabosteve"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_aX2-gH2gAyMzY5MDY5ODgyOmVmYTFhNTRmOTQ1MzIxNGU4YTUxMGY0MTA5OGE5M2IyOGMzZTA3MjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_sxhGAFqTM1MTQyMjE4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "efa1a54f9453214e8a510f41098a93b28c3e0720", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/efa1a54f9453214e8a510f41098a93b28c3e0720", "committedDate": "2020-01-30T13:15:45Z", "message": "[DOCS] Adds recommendation on dedicated master-eligible nodes."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "edba02f3679b5809d02af4713a83be6f2eac5db5", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/edba02f3679b5809d02af4713a83be6f2eac5db5", "committedDate": "2020-01-30T13:27:39Z", "message": "[DOCS] Adds tag."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwODUwNTE3", "url": "https://github.com/elastic/elasticsearch/pull/51674#pullrequestreview-350850517", "createdAt": "2020-01-30T14:11:43Z", "commit": {"oid": "edba02f3679b5809d02af4713a83be6f2eac5db5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNDoxMTo0M1rOFjsRmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNDoxMTo0M1rOFjsRmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjk2OTg4Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            === Master-Eligible Node\n          \n          \n            \n            === Master-eligible node", "url": "https://github.com/elastic/elasticsearch/pull/51674#discussion_r372969883", "createdAt": "2020-01-30T14:11:43Z", "author": {"login": "jrodewig"}, "path": "docs/reference/modules/node.asciidoc", "diffHunk": "@@ -77,7 +76,7 @@ phase.\n \n [float]\n [[master-node]]\n-=== Master Eligible Node\n+=== Master-Eligible Node", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "edba02f3679b5809d02af4713a83be6f2eac5db5"}, "originalPosition": 53}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98b0cf9148c2cc3b8c902904bfaa72f3dd8de39a", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/98b0cf9148c2cc3b8c902904bfaa72f3dd8de39a", "committedDate": "2020-01-30T14:28:50Z", "message": "Update docs/reference/modules/node.asciidoc\n\nCo-Authored-By: James Rodewig <james.rodewig@elastic.co>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwODU1NjM3", "url": "https://github.com/elastic/elasticsearch/pull/51674#pullrequestreview-350855637", "createdAt": "2020-01-30T14:18:44Z", "commit": {"oid": "edba02f3679b5809d02af4713a83be6f2eac5db5"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNDoxODo0NFrOFjsgdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNDozNDo0MlrOFjtG4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjk3MzY4NQ==", "bodyText": "Whitespace nit: if we're reformatting this paragraph to the correct width (80 characters) then _node_. fits on the previous line.", "url": "https://github.com/elastic/elasticsearch/pull/51674#discussion_r372973685", "createdAt": "2020-01-30T14:18:44Z", "author": {"login": "DaveCTurner"}, "path": "docs/reference/modules/node.asciidoc", "diffHunk": "@@ -2,30 +2,29 @@\n == Node\n \n Any time that you start an instance of Elasticsearch, you are starting a\n-_node_. A collection of connected nodes is called a\n-<<modules-cluster,cluster>>. If you are running a single node of Elasticsearch,\n-then you have a cluster of one node.\n+_node_. A collection of connected nodes is called a <<modules-cluster,cluster>>. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "edba02f3679b5809d02af4713a83be6f2eac5db5"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Mjk4MzUyMw==", "bodyText": "How about something like this?\n\nIt is important for the health of the cluster that the elected master node has the resources it needs to fulfil its responsibilities. If the elected master node is overloaded with other tasks then the cluster may not operate well. In particular, indexing and searching your data can be very resource-intensive, so in large or high-throughput clusters it is a good idea to avoid using the master-eligible nodes for tasks such as indexing and searching. You can do this by configuring three of your nodes to be dedicated master-eligible nodes. Dedicated master-eligible nodes only have the master role, allowing them to focus on managing the cluster.", "url": "https://github.com/elastic/elasticsearch/pull/51674#discussion_r372983523", "createdAt": "2020-01-30T14:34:42Z", "author": {"login": "DaveCTurner"}, "path": "docs/reference/modules/node.asciidoc", "diffHunk": "@@ -89,19 +88,25 @@ be elected to become the master node by the <<modules-discovery,master election\n process>>.\n \n IMPORTANT: Master nodes must have access to the `data/` directory (just like\n-`data` nodes) as this is where the cluster state is persisted between node restarts.\n+`data` nodes) as this is where the cluster state is persisted between node \n+restarts.\n \n-Indexing and searching your data is CPU-, memory-, and I/O-intensive work\n-which can put pressure on a node's resources. To ensure that your master\n-node is stable and not under pressure, it is a good idea in a bigger\n-cluster to split the roles between dedicated master-eligible nodes and\n-dedicated data nodes.\n+[float]\n+[[dedicated-master-node]]\n+==== Dedicated master-eligible node\n+\n+Indexing and searching your data is CPU-, memory-, and I/O-intensive work which \n+can put pressure on a node's resources. To ensure that your master node is \n+stable and not under pressure, it is a good idea to split the roles between \n+dedicated master-eligible nodes and dedicated data nodes. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "edba02f3679b5809d02af4713a83be6f2eac5db5"}, "originalPosition": 77}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b03e183d0ef2fd68946268074410c9b406c89e50", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/b03e183d0ef2fd68946268074410c9b406c89e50", "committedDate": "2020-01-30T14:52:43Z", "message": "[DOCS] Addresses feedback."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "baf3fbd930d0586e8a2e13d74687a6561ba5b782", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/baf3fbd930d0586e8a2e13d74687a6561ba5b782", "committedDate": "2020-01-30T14:53:35Z", "message": "Merge branch 'issue/42422' of github.com:szabosteve/elasticsearch into issue/42422"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9183361af4514716beb9496ebf447bb52da4077c", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/9183361af4514716beb9496ebf447bb52da4077c", "committedDate": "2020-01-30T15:02:14Z", "message": "[DOCS] Adds abbreviation and reformats paragraphs."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "457399cff7be5ba9e4667f107daa7d763bbc79d9", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/457399cff7be5ba9e4667f107daa7d763bbc79d9", "committedDate": "2020-01-30T15:18:29Z", "message": "[DOCS] Removes trailing spaces."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMDAyOTk3", "url": "https://github.com/elastic/elasticsearch/pull/51674#pullrequestreview-351002997", "createdAt": "2020-01-30T17:22:26Z", "commit": {"oid": "457399cff7be5ba9e4667f107daa7d763bbc79d9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNzoyMjoyNlrOFjzUXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNzoyMjoyNlrOFjzUXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzA4NTI3OA==", "bodyText": "Ah, I think we should still include this paragraph about not using dedicated master-eligible nodes as coordinating nodes, since \"coordinating\" isn't a role you can disable.", "url": "https://github.com/elastic/elasticsearch/pull/51674#discussion_r373085278", "createdAt": "2020-01-30T17:22:26Z", "author": {"login": "DaveCTurner"}, "path": "docs/reference/modules/node.asciidoc", "diffHunk": "@@ -89,19 +88,22 @@ be elected to become the master node by the <<modules-discovery,master election\n process>>.\n \n IMPORTANT: Master nodes must have access to the `data/` directory (just like\n-`data` nodes) as this is where the cluster state is persisted between node restarts.\n+`data` nodes) as this is where the cluster state is persisted between node \n+restarts.\n \n-Indexing and searching your data is CPU-, memory-, and I/O-intensive work\n-which can put pressure on a node's resources. To ensure that your master\n-node is stable and not under pressure, it is a good idea in a bigger\n-cluster to split the roles between dedicated master-eligible nodes and\n-dedicated data nodes.\n-\n-While master nodes can also behave as <<coordinating-node,coordinating nodes>>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "457399cff7be5ba9e4667f107daa7d763bbc79d9"}, "originalPosition": 65}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ebefdd9421ef5bad15c2d9341c65a58dbb5ce66", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/4ebefdd9421ef5bad15c2d9341c65a58dbb5ce66", "committedDate": "2020-01-31T08:49:54Z", "message": "[DOCS] Puts back a paragraph."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxNDIyMTg5", "url": "https://github.com/elastic/elasticsearch/pull/51674#pullrequestreview-351422189", "createdAt": "2020-01-31T10:42:04Z", "commit": {"oid": "4ebefdd9421ef5bad15c2d9341c65a58dbb5ce66"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3092, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}