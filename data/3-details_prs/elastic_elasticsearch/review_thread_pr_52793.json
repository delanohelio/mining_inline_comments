{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5NzY1MTM4", "number": 52793, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwOToxODo1MFrODi_1zg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwOToyMDozM1rODi_34w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4MDI0MTQyOnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/rest/datafeeds/RestPutDatafeedAction.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwOToxODo1MFrOFujreQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxMzoxNToxOFrOFurBaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDM2MzM4NQ==", "bodyText": "Could we avoid checking if restRequest has those params? I think it'd work to do IndicesOptions indicesOptions = IndicesOptions.fromRequest(restRequest, SearchRequest.DEFAULT_INDICES_OPTIONS)", "url": "https://github.com/elastic/elasticsearch/pull/52793#discussion_r384363385", "createdAt": "2020-02-26T09:18:50Z", "author": {"login": "dimitris-athanasiou"}, "path": "x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/rest/datafeeds/RestPutDatafeedAction.java", "diffHunk": "@@ -44,8 +46,15 @@ public String getName() {\n     @Override\n     protected RestChannelConsumer prepareRequest(RestRequest restRequest, NodeClient client) throws IOException {\n         String datafeedId = restRequest.param(DatafeedConfig.ID.getPreferredName());\n+        IndicesOptions indicesOptions = null;\n+        if (restRequest.hasParam(\"expand_wildcards\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f6db6dc17142da59a0124b8bcf2af9906417c04b"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDQ4MzY4OA==", "bodyText": "Makes sense. DatafeedConfig can make the options non-null and default to SearchRequestt.DEFAULT_INDICES_OPTIONS", "url": "https://github.com/elastic/elasticsearch/pull/52793#discussion_r384483688", "createdAt": "2020-02-26T13:15:18Z", "author": {"login": "benwtrent"}, "path": "x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/rest/datafeeds/RestPutDatafeedAction.java", "diffHunk": "@@ -44,8 +46,15 @@ public String getName() {\n     @Override\n     protected RestChannelConsumer prepareRequest(RestRequest restRequest, NodeClient client) throws IOException {\n         String datafeedId = restRequest.param(DatafeedConfig.ID.getPreferredName());\n+        IndicesOptions indicesOptions = null;\n+        if (restRequest.hasParam(\"expand_wildcards\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDM2MzM4NQ=="}, "originalCommit": {"oid": "f6db6dc17142da59a0124b8bcf2af9906417c04b"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4MDI0Njc1OnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/rest/datafeeds/RestUpdateDatafeedAction.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQwOToyMDozM1rOFuju1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQxMzoxODo1OVrOFurJIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDM2NDI0Ng==", "bodyText": "ditto", "url": "https://github.com/elastic/elasticsearch/pull/52793#discussion_r384364246", "createdAt": "2020-02-26T09:20:33Z", "author": {"login": "dimitris-athanasiou"}, "path": "x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/rest/datafeeds/RestUpdateDatafeedAction.java", "diffHunk": "@@ -44,8 +46,15 @@ public String getName() {\n     @Override\n     protected RestChannelConsumer prepareRequest(RestRequest restRequest, NodeClient client) throws IOException {\n         String datafeedId = restRequest.param(DatafeedConfig.ID.getPreferredName());\n+        IndicesOptions indicesOptions = null;\n+        if (restRequest.hasParam(\"expand_wildcards\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f6db6dc17142da59a0124b8bcf2af9906417c04b"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDQ4MzQwMw==", "bodyText": "I don't agree. If none are provided, then that means the user doesn't want to update them.", "url": "https://github.com/elastic/elasticsearch/pull/52793#discussion_r384483403", "createdAt": "2020-02-26T13:14:48Z", "author": {"login": "benwtrent"}, "path": "x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/rest/datafeeds/RestUpdateDatafeedAction.java", "diffHunk": "@@ -44,8 +46,15 @@ public String getName() {\n     @Override\n     protected RestChannelConsumer prepareRequest(RestRequest restRequest, NodeClient client) throws IOException {\n         String datafeedId = restRequest.param(DatafeedConfig.ID.getPreferredName());\n+        IndicesOptions indicesOptions = null;\n+        if (restRequest.hasParam(\"expand_wildcards\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDM2NDI0Ng=="}, "originalCommit": {"oid": "f6db6dc17142da59a0124b8bcf2af9906417c04b"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDQ4NTY2NA==", "bodyText": "Ah, yes. That's the update. My bad!", "url": "https://github.com/elastic/elasticsearch/pull/52793#discussion_r384485664", "createdAt": "2020-02-26T13:18:59Z", "author": {"login": "dimitris-athanasiou"}, "path": "x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/rest/datafeeds/RestUpdateDatafeedAction.java", "diffHunk": "@@ -44,8 +46,15 @@ public String getName() {\n     @Override\n     protected RestChannelConsumer prepareRequest(RestRequest restRequest, NodeClient client) throws IOException {\n         String datafeedId = restRequest.param(DatafeedConfig.ID.getPreferredName());\n+        IndicesOptions indicesOptions = null;\n+        if (restRequest.hasParam(\"expand_wildcards\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDM2NDI0Ng=="}, "originalCommit": {"oid": "f6db6dc17142da59a0124b8bcf2af9906417c04b"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3808, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}