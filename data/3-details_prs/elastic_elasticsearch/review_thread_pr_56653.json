{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3MDM1Mzcy", "number": 56653, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwMDowMDo0N1rOD73Ysg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwNjo0MzozNFrOD77fyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MTAwMDE4OnYy", "diffSide": "RIGHT", "path": "docs/reference/transform/overview.asciidoc", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwMDowMDo0N1rOGUdB1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxODo1NjozOFrOGU_U6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDEwMDMxMQ==", "bodyText": "and index requests\n\nIs this correct that indexing is also affected by this setting?", "url": "https://github.com/elastic/elasticsearch/pull/56653#discussion_r424100311", "createdAt": "2020-05-13T00:00:47Z", "author": {"login": "lcawl"}, "path": "docs/reference/transform/overview.asciidoc", "diffHunk": "@@ -72,4 +72,10 @@ If your {transform} must process a lot of historic data, it has high resource\n usage initially--particularly during the first checkpoint.\n \n For better performance, make sure that your search aggregations and queries are \n-optimized and that your {transform} is processing only necessary data.\n+optimized and that your {transform} is processing only necessary data. Consider \n+whether you can apply a source query to the {transform} to reduce the scope of \n+data it processes. Also consider whether the cluster has sufficient resources in \n+place to support both the composite aggregation search and the indexing of its\n+results. You can also throttle the rate at which {transforms} perform search and \n+index requests by setting `docs_per_second` when you <<put-transform,create>> or", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee74c5516a68bee8a80b01bf142f5a24a6ea653a"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIwNDIzNg==", "bodyText": "yes, by slowing down the searches, you slow down indexing, too.\nMaybe add a sentence that the transform will take longer if throttling is used, although this seems obvious?\nand maybe something like:\nTo know the current docs_per_second transform is operating you can take a look into stats (-> link to stats) and calculate the rate with:\ndocs_per_second = documents_processed / search_time_in_ms * 1000\n\n(^ I plan to add this to the stats endpoint, however not for 7.8)", "url": "https://github.com/elastic/elasticsearch/pull/56653#discussion_r424204236", "createdAt": "2020-05-13T06:39:15Z", "author": {"login": "hendrikmuhs"}, "path": "docs/reference/transform/overview.asciidoc", "diffHunk": "@@ -72,4 +72,10 @@ If your {transform} must process a lot of historic data, it has high resource\n usage initially--particularly during the first checkpoint.\n \n For better performance, make sure that your search aggregations and queries are \n-optimized and that your {transform} is processing only necessary data.\n+optimized and that your {transform} is processing only necessary data. Consider \n+whether you can apply a source query to the {transform} to reduce the scope of \n+data it processes. Also consider whether the cluster has sufficient resources in \n+place to support both the composite aggregation search and the indexing of its\n+results. You can also throttle the rate at which {transforms} perform search and \n+index requests by setting `docs_per_second` when you <<put-transform,create>> or", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDEwMDMxMQ=="}, "originalCommit": {"oid": "ee74c5516a68bee8a80b01bf142f5a24a6ea653a"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDY2MjI0OA==", "bodyText": "Thanks, I've added that information in a final paragraph.", "url": "https://github.com/elastic/elasticsearch/pull/56653#discussion_r424662248", "createdAt": "2020-05-13T18:56:38Z", "author": {"login": "lcawl"}, "path": "docs/reference/transform/overview.asciidoc", "diffHunk": "@@ -72,4 +72,10 @@ If your {transform} must process a lot of historic data, it has high resource\n usage initially--particularly during the first checkpoint.\n \n For better performance, make sure that your search aggregations and queries are \n-optimized and that your {transform} is processing only necessary data.\n+optimized and that your {transform} is processing only necessary data. Consider \n+whether you can apply a source query to the {transform} to reduce the scope of \n+data it processes. Also consider whether the cluster has sufficient resources in \n+place to support both the composite aggregation search and the indexing of its\n+results. You can also throttle the rate at which {transforms} perform search and \n+index requests by setting `docs_per_second` when you <<put-transform,create>> or", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDEwMDMxMQ=="}, "originalCommit": {"oid": "ee74c5516a68bee8a80b01bf142f5a24a6ea653a"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MTY3MzcxOnYy", "diffSide": "RIGHT", "path": "docs/reference/transform/apis/put-transform.asciidoc", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwNjo0MzozNFrOGUje4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxNjo0MDozNlrOGU6TIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIwNjA1MQ==", "bodyText": "\ud83d\udc4d  sorry for the bad placement! I see, it should be ordered, will do better next time!", "url": "https://github.com/elastic/elasticsearch/pull/56653#discussion_r424206051", "createdAt": "2020-05-13T06:43:34Z", "author": {"login": "hendrikmuhs"}, "path": "docs/reference/transform/apis/put-transform.asciidoc", "diffHunk": "@@ -128,6 +128,23 @@ include::{docdir}/rest-api/common-parms.asciidoc[tag=pivot-group-by]\n ====\n //End pivot\n \n+//Begin settings", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee74c5516a68bee8a80b01bf142f5a24a6ea653a"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDU3OTg3Mw==", "bodyText": "No worries!", "url": "https://github.com/elastic/elasticsearch/pull/56653#discussion_r424579873", "createdAt": "2020-05-13T16:40:36Z", "author": {"login": "lcawl"}, "path": "docs/reference/transform/apis/put-transform.asciidoc", "diffHunk": "@@ -128,6 +128,23 @@ include::{docdir}/rest-api/common-parms.asciidoc[tag=pivot-group-by]\n ====\n //End pivot\n \n+//Begin settings", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDIwNjA1MQ=="}, "originalCommit": {"oid": "ee74c5516a68bee8a80b01bf142f5a24a6ea653a"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 479, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}