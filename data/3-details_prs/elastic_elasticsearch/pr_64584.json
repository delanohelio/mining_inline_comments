{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1MzQxMTgx", "number": 64584, "title": "Replace more MapperService usages in favour of QueryShardContext", "bodyText": "This commit replaces most of the leftover direct access to MapperService from SearchContext and FetchContext with accessing QueryShardContext instead, which wraps the MapperService and exposes a subset of its functionality needed when executing the different phases of search.", "createdAt": "2020-11-04T12:05:36Z", "url": "https://github.com/elastic/elasticsearch/pull/64584", "merged": true, "mergeCommit": {"oid": "f1e9aec8dcc7568d496abc4b09d1c8a0e6493087"}, "closed": true, "closedAt": "2020-11-04T14:49:38Z", "author": {"login": "javanna"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZMbHMgH2gAyNTE1MzQxMTgxOjU4ZTA0N2YwY2IwZDQzYzZhNTZhMzYxYWVlY2IyMWIzZGUyYmI1MDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZNkWsgH2gAyNTE1MzQxMTgxOjQxM2Q4NzE3NGU3NTRkYzk0ODI1NWRhNjVhYmJhNDk3ZWQwZjRmYmU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "58e047f0cb0d43c6a56a361aeecb21b3de2bb505", "author": {"user": {"login": "javanna", "name": "Luca Cavanna"}}, "url": "https://github.com/elastic/elasticsearch/commit/58e047f0cb0d43c6a56a361aeecb21b3de2bb505", "committedDate": "2020-11-04T11:53:49Z", "message": "Replace more MapperService usages in favour of QueryShardContext\n\nThis commit replaces most of the leftover direct access to MapperService from SearchContext and FetchContext with accessing QueryShardContext instead, which wraps the MapperService and exposes a subset of its functionality needed when executing the different phases of search"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a95ec701a6d4313c35ff562ea21284329c9faf1a", "author": {"user": {"login": "javanna", "name": "Luca Cavanna"}}, "url": "https://github.com/elastic/elasticsearch/commit/a95ec701a6d4313c35ff562ea21284329c9faf1a", "committedDate": "2020-11-04T12:03:32Z", "message": "remove methods from SearchContext"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzMzAzMjcz", "url": "https://github.com/elastic/elasticsearch/pull/64584#pullrequestreview-523303273", "createdAt": "2020-11-04T12:11:32Z", "commit": {"oid": "a95ec701a6d4313c35ff562ea21284329c9faf1a"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxMjoxMTozMlrOHtVdnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxMjoxMTozMlrOHtVdnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzI5OTYxMw==", "bodyText": "Can we remove FetchContext#mapperService() as well?", "url": "https://github.com/elastic/elasticsearch/pull/64584#discussion_r517299613", "createdAt": "2020-11-04T12:11:32Z", "author": {"login": "romseygeek"}, "path": "server/src/main/java/org/elasticsearch/search/fetch/FetchContext.java", "diffHunk": "@@ -77,13 +76,6 @@ public MapperService mapperService() {\n         return searchContext.mapperService();\n     }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a95ec701a6d4313c35ff562ea21284329c9faf1a"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "413d87174e754dc948255da65abba497ed0f4fbe", "author": {"user": {"login": "javanna", "name": "Luca Cavanna"}}, "url": "https://github.com/elastic/elasticsearch/commit/413d87174e754dc948255da65abba497ed0f4fbe", "committedDate": "2020-11-04T13:13:49Z", "message": "remove keyword mapper ignore above method"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 810, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}