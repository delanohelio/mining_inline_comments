{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyNjA4MjY1", "number": 58822, "title": "Add `zero_terms_query` support to `match_phrase_prefix`", "bodyText": "Currently match_phrase_prefix doesn't support zero_terms_query like the\nother match-type queries. I think we could add this to offer the same kind of\nbehaviour as in match_prefix  etc to support this parameter on all match-type queries.\nCloses #58468", "createdAt": "2020-07-01T10:35:35Z", "url": "https://github.com/elastic/elasticsearch/pull/58822", "merged": true, "mergeCommit": {"oid": "427d7f54feb9ff944f02262eb5b04aa46abe4e8c"}, "closed": true, "closedAt": "2020-07-17T13:59:03Z", "author": {"login": "cbuescher"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwoZuggH2gAyNDQyNjA4MjY1OmFkMjk2ODU1ZTliZmYyODg4M2NjMDAxNGRjZTZkNmNkZWYyOTE1YTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1QdITAFqTQ0OTI5NjA5NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ad296855e9bff28883cc0014dce6d6cdef2915a5", "author": {"user": {"login": "cbuescher", "name": "Christoph B\u00fcscher"}}, "url": "https://github.com/elastic/elasticsearch/commit/ad296855e9bff28883cc0014dce6d6cdef2915a5", "committedDate": "2020-07-01T11:18:45Z", "message": "Add `zero_terms_query` support to `match_phrase_prefix`\n\nCurrently `match_phrase_prefix` doesn't support `zero_terms_query` like the\nother match-type queries. This change adds this support.\n\nCloses #58468"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6b601631f5490d2537ff1c241f2616111c62797e", "author": {"user": {"login": "cbuescher", "name": "Christoph B\u00fcscher"}}, "url": "https://github.com/elastic/elasticsearch/commit/6b601631f5490d2537ff1c241f2616111c62797e", "committedDate": "2020-06-24T09:34:55Z", "message": "Add `zero_terms_query` support to `match_phrase_prefix`\n\nCurrently `match_phrase_prefix` doesn't support `zero_terms_query` like the\nother match-type queries. This change adds this support.\n\nCloses #58468"}, "afterCommit": {"oid": "ad296855e9bff28883cc0014dce6d6cdef2915a5", "author": {"user": {"login": "cbuescher", "name": "Christoph B\u00fcscher"}}, "url": "https://github.com/elastic/elasticsearch/commit/ad296855e9bff28883cc0014dce6d6cdef2915a5", "committedDate": "2020-07-01T11:18:45Z", "message": "Add `zero_terms_query` support to `match_phrase_prefix`\n\nCurrently `match_phrase_prefix` doesn't support `zero_terms_query` like the\nother match-type queries. This change adds this support.\n\nCloses #58468"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5Mjk1MzI3", "url": "https://github.com/elastic/elasticsearch/pull/58822#pullrequestreview-449295327", "createdAt": "2020-07-15T20:13:09Z", "commit": {"oid": "ad296855e9bff28883cc0014dce6d6cdef2915a5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQyMDoxMzowOVrOGyOK6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQyMDoxMzowOVrOGyOK6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTMxNDE1Mw==", "bodyText": "As we are asserting Lucene queries there, I would make this test in reverse:\nif (queryBuilder.zeroTermsQuery().equals(ZeroTermsQuery.ALL)) {\n    assert that query instanceof MatchAllDocsQuery;\n}", "url": "https://github.com/elastic/elasticsearch/pull/58822#discussion_r455314153", "createdAt": "2020-07-15T20:13:09Z", "author": {"login": "mayya-sharipova"}, "path": "server/src/test/java/org/elasticsearch/index/query/MatchPhrasePrefixQueryBuilderTests.java", "diffHunk": "@@ -85,6 +91,12 @@ protected MatchPhrasePrefixQueryBuilder doCreateTestQueryBuilder() {\n     protected void doAssertLuceneQuery(MatchPhrasePrefixQueryBuilder queryBuilder, Query query, QueryShardContext context)\n             throws IOException {\n         assertThat(query, notNullValue());\n+\n+        if (query instanceof MatchAllDocsQuery) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad296855e9bff28883cc0014dce6d6cdef2915a5"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5Mjk1OTky", "url": "https://github.com/elastic/elasticsearch/pull/58822#pullrequestreview-449295992", "createdAt": "2020-07-15T20:14:12Z", "commit": {"oid": "ad296855e9bff28883cc0014dce6d6cdef2915a5"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5Mjk2MDk0", "url": "https://github.com/elastic/elasticsearch/pull/58822#pullrequestreview-449296094", "createdAt": "2020-07-15T20:14:22Z", "commit": {"oid": "ad296855e9bff28883cc0014dce6d6cdef2915a5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2470, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}