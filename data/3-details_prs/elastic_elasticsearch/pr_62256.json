{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg0MjgzNzU4", "number": 62256, "title": "[DOCS] Updating CCR setup to be more tutorial focused", "bodyText": "Updating the setup instructions for CCR to follow the recent tutorial guidelines.\nThis PR:\n\nAdds more explanatory content in the introduction, such as \"what you'll learn\"\nIncorporates a GIF showing the setup process\nRemoves a few external links to focus on the task\nMoves configuring CCR user privileges to a new Stack management page\n\nCloses #59171\nCloses #61605\nBackports\n\n7.x #62499\n7.9 #62500\n7.8 #62502", "createdAt": "2020-09-10T20:10:50Z", "url": "https://github.com/elastic/elasticsearch/pull/62256", "merged": true, "mergeCommit": {"oid": "b420caa7238006496a496d366a5486b7637e0410"}, "closed": true, "closedAt": "2020-09-16T20:41:14Z", "author": {"login": "lockewritesdocs"}, "timelineItems": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdFr42OAH2gAyNDg0MjgzNzU4OjJkNThjNDBhODMwOGUzMTc2ZDFhNjBkNzAzNWQ1NjcwMWMxNzAxOWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdJiB_ZAH2gAyNDg0MjgzNzU4OjMxOGQ3ZGE5YzBmZjJiZjg2OTQyNjZhYzM0ZDNiZmQ2YzVjN2I5NzE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2d58c40a8308e3176d1a60d7035d56701c17019c", "author": {"user": {"login": "lockewritesdocs", "name": "Adam Locke"}}, "url": "https://github.com/elastic/elasticsearch/commit/2d58c40a8308e3176d1a60d7035d56701c17019c", "committedDate": "2020-09-04T21:14:52Z", "message": "Applying some initial changes."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5bf576a55e2c2f2ca0bf98106e66cf82b5218ea", "author": {"user": {"login": "lockewritesdocs", "name": "Adam Locke"}}, "url": "https://github.com/elastic/elasticsearch/commit/b5bf576a55e2c2f2ca0bf98106e66cf82b5218ea", "committedDate": "2020-09-09T21:19:15Z", "message": "Updating intro and screenshots."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6fb6e136b06cdaa3d71ce5485521e0e6ef780c69", "author": {"user": {"login": "lockewritesdocs", "name": "Adam Locke"}}, "url": "https://github.com/elastic/elasticsearch/commit/6fb6e136b06cdaa3d71ce5485521e0e6ef780c69", "committedDate": "2020-09-10T19:34:12Z", "message": "Removing unnecessary links, streamlining content, and adding GIF."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9a9a396dd2c2c7c91b96fc279113f900a636611", "author": {"user": {"login": "lockewritesdocs", "name": "Adam Locke"}}, "url": "https://github.com/elastic/elasticsearch/commit/c9a9a396dd2c2c7c91b96fc279113f900a636611", "committedDate": "2020-09-10T20:07:19Z", "message": "Adding what's next section."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69af4b31963134b5d193d0b2c4f5fba4e654c14b", "author": {"user": {"login": "lockewritesdocs", "name": "Adam Locke"}}, "url": "https://github.com/elastic/elasticsearch/commit/69af4b31963134b5d193d0b2c4f5fba4e654c14b", "committedDate": "2020-09-10T22:08:36Z", "message": "Removing what's next."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a09ca20be52eb8d9bf3e9fa84f620d482eb26356", "author": {"user": {"login": "lockewritesdocs", "name": "Adam Locke"}}, "url": "https://github.com/elastic/elasticsearch/commit/a09ca20be52eb8d9bf3e9fa84f620d482eb26356", "committedDate": "2020-09-14T15:10:04Z", "message": "Minor edits."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4MjA4OTQ5", "url": "https://github.com/elastic/elasticsearch/pull/62256#pullrequestreview-488208949", "createdAt": "2020-09-14T22:51:54Z", "commit": {"oid": "a09ca20be52eb8d9bf3e9fa84f620d482eb26356"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQyMjo1MTo1NVrOHRqWSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwMDoyMzo1NlrOHRsDRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODI4MTY3Mg==", "bodyText": "I'd mention both motivations for CCR (geo location and availability/hot backup). I'd probably drop the first sentence & use the second to lead into a bulleted list.\nAlso, I think there's a slight SEO advantage to using \"how to\" instead of explain.", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r488281672", "createdAt": "2020-09-14T22:51:55Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -2,39 +2,51 @@\n [testenv=\"platinum\"]\n [[ccr-getting-started]]\n === Set up {ccr}\n+Bringing data closer to your users or application server can reduce latency", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09ca20be52eb8d9bf3e9fa84f620d482eb26356"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODI4MzMxMw==", "bodyText": "We've explicitly called out other \"tutorial\" topics as tutorials & set a short title for the TOC. I normally wouldn't advocate for doing this, but in the current system we don't have another way to tag the content type & there is some SEO advantage to explicitly using the tutorial language.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            === Set up {ccr}\n          \n          \n            \n            === Tutorial: Set up {ccr}\n          \n          \n            \n            ++++\n          \n          \n            \n            <titleabbrev>Set up {ccr}</titleabbrev>\n          \n          \n            \n            ++++", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r488283313", "createdAt": "2020-09-14T22:56:55Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -2,39 +2,51 @@\n [testenv=\"platinum\"]\n [[ccr-getting-started]]\n === Set up {ccr}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09ca20be52eb8d9bf3e9fa84f620d482eb26356"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODI5MTc0MQ==", "bodyText": "I think we need boilerplate for the license requirements.  Elsewhere, we've used \"a license that includes\" to get around calling out license levels. Maybe:\n\nBoth clusters must have a license that includes {ccr}. <{kibana-ref}/managing-licenses.html[Activate a free 30-day trial].", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r488291741", "createdAt": "2020-09-14T23:24:12Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -2,39 +2,51 @@\n [testenv=\"platinum\"]\n [[ccr-getting-started]]\n === Set up {ccr}\n+Bringing data closer to your users or application server can reduce latency\n+and response time. This guide explains how to set up {ccr} (CCR) between clusters in two datacenters to ensure that users can access data from the\n+cluster that is geographically closest, ensuring optimal performance.\n+\n+In this guide, you'll learn how to:\n+\n+* Configure a <<modules-remote-clusters,remote cluster>> with a leader index\n+* Create a follower index on a local cluster\n+* Create an auto-follow pattern to automatically follow time series indices\n+that are periodically created in a remote cluster\n+\n You can manually create follower indices to replicate specific indices on a\n remote cluster, or configure auto-follow patterns to automatically create\n follower indices for new time series.\n \n-After the follower index is created, the\n-<<ccr-remote-recovery, remote recovery>> process copies all of the Lucene\n-segment files from the remote cluster to the local cluster.\n-\n-To set up {ccr}:\n-\n-. <<ccr-getting-started-remote-cluster,Connect a local cluster to a remote cluster>>\n-. <<ccr-getting-started-leader-index,Identify the index (or time series indices) you want to replicate on the remote cluster>>\n-. <<ccr-enable-soft-deletes,Enable soft deletes on the leader index>>\n-. Manually create a follower index or create an auto-follow pattern:\n-  * To replicate the leader index, <<ccr-getting-started-follower-index,manually create a follower index>>\n-  * To automatically follow time series indices, <<ccr-getting-started-auto-follow,create an auto-follow pattern>>\n+image:https://es-docs-bucket.s3.us-east-2.amazonaws.com/ccr-setup-clip.gif[GIF showing CCR setup in Kibana]\n \n [[ccr-getting-started-prerequisites]]\n ==== Prerequisites\n-If the Elastic {security-features} are enabled in your local and remote\n-clusters, you need a user with appropriate authority to complete the steps\n-in this tutorial.\n-\n-By default, you can complete the following steps as the built-in\n-`elastic` user. However, you must <<get-started-built-in-users,set a password>>\n-for this user before proceeding.\n-\n-WARNING: If you are performing these steps in a production environment, do\n+* On both clusters, {kibana-ref}/managing-licenses.html[update your {es} license] or start a trial license", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09ca20be52eb8d9bf3e9fa84f620d482eb26356"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODI5NDEyMg==", "bodyText": "Leading with the \"on both clusters\" makes it harder to scan for requirement.  I think we want to downplay the idea of always using the Elastic super user. Elsewhere, we've focused on the privileges required. (Though somewhat confusingly referred to them as permissions). Whatever we do, we should be consistent. Maybe:\n\n\nYou need the manage and manage_ccr cluster privileges to configure remotes and follower indices on the local cluster.\n\n\nYou need the read_ccr cluster privilege and the read index privilege for the leader index on the remote cluster.\n\n\nNeed to verify those are the correct privs. I'm not sure I'd even add an xref to \"Configure user privileges\" because if you don't have them, you probably can't configure them yourself. I also think we should assume that security is enabled instead of qualifying it every time we talk about it. We should consider it the default.", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r488294122", "createdAt": "2020-09-14T23:31:30Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -2,39 +2,51 @@\n [testenv=\"platinum\"]\n [[ccr-getting-started]]\n === Set up {ccr}\n+Bringing data closer to your users or application server can reduce latency\n+and response time. This guide explains how to set up {ccr} (CCR) between clusters in two datacenters to ensure that users can access data from the\n+cluster that is geographically closest, ensuring optimal performance.\n+\n+In this guide, you'll learn how to:\n+\n+* Configure a <<modules-remote-clusters,remote cluster>> with a leader index\n+* Create a follower index on a local cluster\n+* Create an auto-follow pattern to automatically follow time series indices\n+that are periodically created in a remote cluster\n+\n You can manually create follower indices to replicate specific indices on a\n remote cluster, or configure auto-follow patterns to automatically create\n follower indices for new time series.\n \n-After the follower index is created, the\n-<<ccr-remote-recovery, remote recovery>> process copies all of the Lucene\n-segment files from the remote cluster to the local cluster.\n-\n-To set up {ccr}:\n-\n-. <<ccr-getting-started-remote-cluster,Connect a local cluster to a remote cluster>>\n-. <<ccr-getting-started-leader-index,Identify the index (or time series indices) you want to replicate on the remote cluster>>\n-. <<ccr-enable-soft-deletes,Enable soft deletes on the leader index>>\n-. Manually create a follower index or create an auto-follow pattern:\n-  * To replicate the leader index, <<ccr-getting-started-follower-index,manually create a follower index>>\n-  * To automatically follow time series indices, <<ccr-getting-started-auto-follow,create an auto-follow pattern>>\n+image:https://es-docs-bucket.s3.us-east-2.amazonaws.com/ccr-setup-clip.gif[GIF showing CCR setup in Kibana]\n \n [[ccr-getting-started-prerequisites]]\n ==== Prerequisites\n-If the Elastic {security-features} are enabled in your local and remote\n-clusters, you need a user with appropriate authority to complete the steps\n-in this tutorial.\n-\n-By default, you can complete the following steps as the built-in\n-`elastic` user. However, you must <<get-started-built-in-users,set a password>>\n-for this user before proceeding.\n-\n-WARNING: If you are performing these steps in a production environment, do\n+* On both clusters, {kibana-ref}/managing-licenses.html[update your {es} license] or start a trial license\n+to enable {ccr}.\n+\n+* On both clusters, <<get-started-built-in-users,set a password>> for the", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09ca20be52eb8d9bf3e9fa84f620d482eb26356"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODI5NTM2MQ==", "bodyText": "I'd focus on the privileges rather than the use & drop this warning from the prereqs.", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r488295361", "createdAt": "2020-09-14T23:35:26Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -2,39 +2,51 @@\n [testenv=\"platinum\"]\n [[ccr-getting-started]]\n === Set up {ccr}\n+Bringing data closer to your users or application server can reduce latency\n+and response time. This guide explains how to set up {ccr} (CCR) between clusters in two datacenters to ensure that users can access data from the\n+cluster that is geographically closest, ensuring optimal performance.\n+\n+In this guide, you'll learn how to:\n+\n+* Configure a <<modules-remote-clusters,remote cluster>> with a leader index\n+* Create a follower index on a local cluster\n+* Create an auto-follow pattern to automatically follow time series indices\n+that are periodically created in a remote cluster\n+\n You can manually create follower indices to replicate specific indices on a\n remote cluster, or configure auto-follow patterns to automatically create\n follower indices for new time series.\n \n-After the follower index is created, the\n-<<ccr-remote-recovery, remote recovery>> process copies all of the Lucene\n-segment files from the remote cluster to the local cluster.\n-\n-To set up {ccr}:\n-\n-. <<ccr-getting-started-remote-cluster,Connect a local cluster to a remote cluster>>\n-. <<ccr-getting-started-leader-index,Identify the index (or time series indices) you want to replicate on the remote cluster>>\n-. <<ccr-enable-soft-deletes,Enable soft deletes on the leader index>>\n-. Manually create a follower index or create an auto-follow pattern:\n-  * To replicate the leader index, <<ccr-getting-started-follower-index,manually create a follower index>>\n-  * To automatically follow time series indices, <<ccr-getting-started-auto-follow,create an auto-follow pattern>>\n+image:https://es-docs-bucket.s3.us-east-2.amazonaws.com/ccr-setup-clip.gif[GIF showing CCR setup in Kibana]\n \n [[ccr-getting-started-prerequisites]]\n ==== Prerequisites\n-If the Elastic {security-features} are enabled in your local and remote\n-clusters, you need a user with appropriate authority to complete the steps\n-in this tutorial.\n-\n-By default, you can complete the following steps as the built-in\n-`elastic` user. However, you must <<get-started-built-in-users,set a password>>\n-for this user before proceeding.\n-\n-WARNING: If you are performing these steps in a production environment, do\n+* On both clusters, {kibana-ref}/managing-licenses.html[update your {es} license] or start a trial license\n+to enable {ccr}.\n+\n+* On both clusters, <<get-started-built-in-users,set a password>> for the\n+`elastic` user. If the Elastic {security-features} are enabled or you want\n+to set up {ccr} as a different user, then <<ccr-configure-user-privileges,configure user privileges>>.\n++\n+WARNING: If you're completing these steps in a production environment, do", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09ca20be52eb8d9bf3e9fa84f620d482eb26356"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODI5NjU2NQ==", "bodyText": "I'd try to keep the prerequisites a list of things you need, rather than instructions. This is also confusing, because the sample data index is the index you want to designate as the leader. Maybe:\nAn index on the remote cluster that contains the data you want to replicate. This tutorial uses the sample eCommerce data set. {kibana-ref}/getting-started.html#get-data-in[Load sample data].", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r488296565", "createdAt": "2020-09-14T23:39:49Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -2,39 +2,51 @@\n [testenv=\"platinum\"]\n [[ccr-getting-started]]\n === Set up {ccr}\n+Bringing data closer to your users or application server can reduce latency\n+and response time. This guide explains how to set up {ccr} (CCR) between clusters in two datacenters to ensure that users can access data from the\n+cluster that is geographically closest, ensuring optimal performance.\n+\n+In this guide, you'll learn how to:\n+\n+* Configure a <<modules-remote-clusters,remote cluster>> with a leader index\n+* Create a follower index on a local cluster\n+* Create an auto-follow pattern to automatically follow time series indices\n+that are periodically created in a remote cluster\n+\n You can manually create follower indices to replicate specific indices on a\n remote cluster, or configure auto-follow patterns to automatically create\n follower indices for new time series.\n \n-After the follower index is created, the\n-<<ccr-remote-recovery, remote recovery>> process copies all of the Lucene\n-segment files from the remote cluster to the local cluster.\n-\n-To set up {ccr}:\n-\n-. <<ccr-getting-started-remote-cluster,Connect a local cluster to a remote cluster>>\n-. <<ccr-getting-started-leader-index,Identify the index (or time series indices) you want to replicate on the remote cluster>>\n-. <<ccr-enable-soft-deletes,Enable soft deletes on the leader index>>\n-. Manually create a follower index or create an auto-follow pattern:\n-  * To replicate the leader index, <<ccr-getting-started-follower-index,manually create a follower index>>\n-  * To automatically follow time series indices, <<ccr-getting-started-auto-follow,create an auto-follow pattern>>\n+image:https://es-docs-bucket.s3.us-east-2.amazonaws.com/ccr-setup-clip.gif[GIF showing CCR setup in Kibana]\n \n [[ccr-getting-started-prerequisites]]\n ==== Prerequisites\n-If the Elastic {security-features} are enabled in your local and remote\n-clusters, you need a user with appropriate authority to complete the steps\n-in this tutorial.\n-\n-By default, you can complete the following steps as the built-in\n-`elastic` user. However, you must <<get-started-built-in-users,set a password>>\n-for this user before proceeding.\n-\n-WARNING: If you are performing these steps in a production environment, do\n+* On both clusters, {kibana-ref}/managing-licenses.html[update your {es} license] or start a trial license\n+to enable {ccr}.\n+\n+* On both clusters, <<get-started-built-in-users,set a password>> for the\n+`elastic` user. If the Elastic {security-features} are enabled or you want\n+to set up {ccr} as a different user, then <<ccr-configure-user-privileges,configure user privileges>>.\n++\n+WARNING: If you're completing these steps in a production environment, do\n not use the `elastic` user.\n \n-Alternatively, you can assign the appropriate privileges to a user ID of your\n-choice. On the remote cluster that contains the leader index, a user must have\n-the `read_ccr` cluster privilege and `monitor` and `read` privileges on the\n+* On the cluster containing the leader index, access {kib} and add the", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09ca20be52eb8d9bf3e9fa84f620d482eb26356"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMwMjI1Nw==", "bodyText": "I'd flip this around & focus on the user goal. Something like:\nTo replicate an index on a remote cluster (Cluster A) to a local cluster (Cluster B), you configure Cluster A as a remote on Cluster B.\nI wouldn't use code font for emphasis here--either italics or nothing. A diagram would be helpful.", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r488302257", "createdAt": "2020-09-14T23:58:56Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -74,17 +86,16 @@ cluster privilege.\n \n [[ccr-getting-started-remote-cluster]]\n ==== Connect to a remote cluster\n-Connect your local cluster to a\n-<<modules-remote-clusters,remote cluster>> to begin using cross-cluster\n-replication.\n+Connect your local cluster (`ClusterA`) to a remote cluster (`ClusterB`) to", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09ca20be52eb8d9bf3e9fa84f620d482eb26356"}, "originalPosition": 94}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMwMzE4MA==", "bodyText": "Instead of \"access Kibana\", I'd probably just say:\nTo configure a remote cluster from Stack Management in Kibana:\n. Select Remote Clusters from the side navigation.\n. Specify the IP address or host name of the remote...", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r488303180", "createdAt": "2020-09-15T00:01:45Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -74,17 +86,16 @@ cluster privilege.\n \n [[ccr-getting-started-remote-cluster]]\n ==== Connect to a remote cluster\n-Connect your local cluster to a\n-<<modules-remote-clusters,remote cluster>> to begin using cross-cluster\n-replication.\n+Connect your local cluster (`ClusterA`) to a remote cluster (`ClusterB`) to\n+begin using {ccr}.\n \n-To configure a {kibana-ref}/working-remote-clusters.html[remote cluster],\n-access {kib} and go to\n+To configure a remote cluster, access {kib} and go to", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09ca20be52eb8d9bf3e9fa84f620d482eb26356"}, "originalPosition": 99}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMwNDA5OA==", "bodyText": "\"Choose\" seems like a strange choice. :-) In practice, you know what you want to replicate. I think I'd be inclined to drop this section and treat having at least one index on the remote cluster as a prereq.", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r488304098", "createdAt": "2020-09-15T00:04:55Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -154,16 +165,23 @@ remote cluster.\n ====\n \n [[ccr-getting-started-leader-index]]\n-==== Create a leader index\n-To create a leader index, access {kib} on your _remote_ cluster and go to\n-*Management > Dev Tools*.\n+==== Choose a leader index", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09ca20be52eb8d9bf3e9fa84f620d482eb26356"}, "originalPosition": 118}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMwNDc5OA==", "bodyText": "I wouldn't give them exit points here.", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r488304798", "createdAt": "2020-09-15T00:07:23Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -218,20 +236,20 @@ To enable soft deletes on indices created on versions of\n \n [[ccr-getting-started-follower-index]]\n ==== Create a follower index\n-When you create a {kibana-ref}/managing-cross-cluster-replication.html#_create_specific_follower_indices[follower index], you\n-must reference the\n+When you create a follower index, you reference the", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09ca20be52eb8d9bf3e9fa84f620d482eb26356"}, "originalPosition": 147}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMwNDg3MA==", "bodyText": "Same comment as above.", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r488304870", "createdAt": "2020-09-15T00:07:35Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -218,20 +236,20 @@ To enable soft deletes on indices created on versions of\n \n [[ccr-getting-started-follower-index]]\n ==== Create a follower index\n-When you create a {kibana-ref}/managing-cross-cluster-replication.html#_create_specific_follower_indices[follower index], you\n-must reference the\n+When you create a follower index, you reference the\n <<ccr-getting-started-remote-cluster,remote cluster>> and the\n-<<ccr-getting-started-leader-index,leader index>> that you created in the remote\n+<<ccr-getting-started-leader-index,leader index>> in your remote\n cluster.\n \n To create a follower index, access {kib} and go to", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09ca20be52eb8d9bf3e9fa84f620d482eb26356"}, "originalPosition": 153}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMwNTE4MQ==", "bodyText": "I wonder if we want to cast this as \"Create a follower index to replicate a content index\" vs \"Create an autofollow pattern to replicate time series indices\"?", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r488305181", "createdAt": "2020-09-15T00:08:49Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -218,20 +236,20 @@ To enable soft deletes on indices created on versions of\n \n [[ccr-getting-started-follower-index]]\n ==== Create a follower index", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09ca20be52eb8d9bf3e9fa84f620d482eb26356"}, "originalPosition": 144}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMwNTMzNA==", "bodyText": "See comment above. I'm also wondering how this changes with Data streams?", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r488305334", "createdAt": "2020-09-15T00:09:25Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -306,36 +324,34 @@ POST /server-metrics-follower/_ccr/unfollow\n [[ccr-getting-started-auto-follow]]\n ==== Automatically create follower indices", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09ca20be52eb8d9bf3e9fa84f620d482eb26356"}, "originalPosition": 182}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMwOTU3Mw==", "bodyText": "This phrasing isn't quite right. It's not clear that they are automatically created via Rollover (or Data streams?). And I don't think we want to reinforce the notion that daily indices are a good pattern.", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r488309573", "createdAt": "2020-09-15T00:23:56Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -306,36 +324,34 @@ POST /server-metrics-follower/_ccr/unfollow\n [[ccr-getting-started-auto-follow]]\n ==== Automatically create follower indices\n Create <<ccr-auto-follow,auto-follow patterns>> to automatically follow time\n-series indices that are periodically created in a remote cluster (such as daily\n-{beats} indices).\n+series indices that are periodically created in a remote cluster, such as daily", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a09ca20be52eb8d9bf3e9fa84f620d482eb26356"}, "originalPosition": 186}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "629afb36f5df5714d0b47f19f83613439cf26787", "author": {"user": {"login": "lockewritesdocs", "name": "Adam Locke"}}, "url": "https://github.com/elastic/elasticsearch/commit/629afb36f5df5714d0b47f19f83613439cf26787", "committedDate": "2020-09-15T16:54:32Z", "message": "Apply suggestions from code review\n\nCo-authored-by: debadair <debadair@elastic.co>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7af1456d1fa74e8f938ec3d0985926806692f7d6", "author": {"user": {"login": "lockewritesdocs", "name": "Adam Locke"}}, "url": "https://github.com/elastic/elasticsearch/commit/7af1456d1fa74e8f938ec3d0985926806692f7d6", "committedDate": "2020-09-15T19:18:52Z", "message": "Incorporating review feedback."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0871713db980de331a0b8b00469140de24d07fd", "author": {"user": {"login": "lockewritesdocs", "name": "Adam Locke"}}, "url": "https://github.com/elastic/elasticsearch/commit/d0871713db980de331a0b8b00469140de24d07fd", "committedDate": "2020-09-15T21:26:29Z", "message": "Moving CCR user privileges to another page, plus more edits."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c54f6e7853d7ad8f08161dc787762f76fb3a6c6c", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/c54f6e7853d7ad8f08161dc787762f76fb3a6c6c", "committedDate": "2020-09-15T21:58:28Z", "message": "Merge branch 'master' into docs__ccr-tutorial-updates"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5MTI1NTE5", "url": "https://github.com/elastic/elasticsearch/pull/62256#pullrequestreview-489125519", "createdAt": "2020-09-15T21:36:57Z", "commit": {"oid": "7af1456d1fa74e8f938ec3d0985926806692f7d6"}, "state": "COMMENTED", "comments": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQyMTozNjo1N1rOHSVdzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQyMjoxNjo0MFrOHSXfCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk4ODEwOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            You can manually create follower indices to replicate specific indices on a\n          \n          \n            \n            remote cluster, or configure auto-follow patterns to automatically create\n          \n          \n            \n            follower indices for new time series.\n          \n          \n            \n            You can manually create follower indices to replicate specific indices on a\n          \n          \n            \n            remote cluster, or configure auto-follow patterns to replicate rolling time series indices.", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r488988109", "createdAt": "2020-09-15T21:36:57Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -1,40 +1,49 @@\n [role=\"xpack\"]\n [testenv=\"platinum\"]\n [[ccr-getting-started]]\n-=== Set up {ccr}\n+=== Tutorial: Set up {ccr}\n+++++\n+<titleabbrev>Set up {ccr}</titleabbrev>\n+++++\n+Use this guide to set up {ccr} (CCR) between clusters in two\n+datacenters. Replicating your data across datacenters provides several benefits:\n+\n+* Brings data closer to your users or application server to reduce latency and\n+response time\n+* Provides your mission-critical applications with the tolerance to withstand datacenter or region outages\n+\n+In this guide, you'll learn how to:\n+\n+* Configure a <<modules-remote-clusters,remote cluster>> with a leader index\n+* Create a follower index on a local cluster\n+* Create an auto-follow pattern to automatically follow time series indices\n+that are periodically created in a remote cluster\n+\n You can manually create follower indices to replicate specific indices on a\n remote cluster, or configure auto-follow patterns to automatically create\n follower indices for new time series.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7af1456d1fa74e8f938ec3d0985926806692f7d6"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk4ODkxMg==", "bodyText": "This feels redundant. Maybe:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The following prerequisites are required for this tutorial:\n          \n          \n            \n            To complete this tutorial, you need:", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r488988912", "createdAt": "2020-09-15T21:37:54Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -1,40 +1,49 @@\n [role=\"xpack\"]\n [testenv=\"platinum\"]\n [[ccr-getting-started]]\n-=== Set up {ccr}\n+=== Tutorial: Set up {ccr}\n+++++\n+<titleabbrev>Set up {ccr}</titleabbrev>\n+++++\n+Use this guide to set up {ccr} (CCR) between clusters in two\n+datacenters. Replicating your data across datacenters provides several benefits:\n+\n+* Brings data closer to your users or application server to reduce latency and\n+response time\n+* Provides your mission-critical applications with the tolerance to withstand datacenter or region outages\n+\n+In this guide, you'll learn how to:\n+\n+* Configure a <<modules-remote-clusters,remote cluster>> with a leader index\n+* Create a follower index on a local cluster\n+* Create an auto-follow pattern to automatically follow time series indices\n+that are periodically created in a remote cluster\n+\n You can manually create follower indices to replicate specific indices on a\n remote cluster, or configure auto-follow patterns to automatically create\n follower indices for new time series.\n \n-After the follower index is created, the\n-<<ccr-remote-recovery, remote recovery>> process copies all of the Lucene\n-segment files from the remote cluster to the local cluster.\n-\n-To set up {ccr}:\n-\n-. <<ccr-getting-started-remote-cluster,Connect a local cluster to a remote cluster>>\n-. <<ccr-getting-started-leader-index,Identify the index (or time series indices) you want to replicate on the remote cluster>>\n-. <<ccr-enable-soft-deletes,Enable soft deletes on the leader index>>\n-. Manually create a follower index or create an auto-follow pattern:\n-  * To replicate the leader index, <<ccr-getting-started-follower-index,manually create a follower index>>\n-  * To automatically follow time series indices, <<ccr-getting-started-auto-follow,create an auto-follow pattern>>\n+image:https://es-docs-bucket.s3.us-east-2.amazonaws.com/ccr-setup-clip.gif[GIF showing CCR setup in Kibana]\n \n [[ccr-getting-started-prerequisites]]\n ==== Prerequisites\n-If the Elastic {security-features} are enabled in your local and remote\n-clusters, you need a user with appropriate authority to complete the steps\n-in this tutorial.\n-\n-By default, you can complete the following steps as the built-in\n-`elastic` user. However, you must <<get-started-built-in-users,set a password>>\n-for this user before proceeding.\n-\n-WARNING: If you are performing these steps in a production environment, do\n-not use the `elastic` user.\n-\n-Alternatively, you can assign the appropriate privileges to a user ID of your\n-choice. On the remote cluster that contains the leader index, a user must have\n-the `read_ccr` cluster privilege and `monitor` and `read` privileges on the\n+The following prerequisites are required for this tutorial:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7af1456d1fa74e8f938ec3d0985926806692f7d6"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk4OTM5MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This tutorial uses the sample eCommerce orders data set. See\n          \n          \n            \n            {kibana-ref}/get-started.html#gs-get-data-into-kibana[Load sample data].\n          \n          \n            \n            This tutorial uses the sample eCommerce orders data set. \n          \n          \n            \n            {kibana-ref}/get-started.html#gs-get-data-into-kibana[Load sample data].", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r488989391", "createdAt": "2020-09-15T21:38:24Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -1,40 +1,49 @@\n [role=\"xpack\"]\n [testenv=\"platinum\"]\n [[ccr-getting-started]]\n-=== Set up {ccr}\n+=== Tutorial: Set up {ccr}\n+++++\n+<titleabbrev>Set up {ccr}</titleabbrev>\n+++++\n+Use this guide to set up {ccr} (CCR) between clusters in two\n+datacenters. Replicating your data across datacenters provides several benefits:\n+\n+* Brings data closer to your users or application server to reduce latency and\n+response time\n+* Provides your mission-critical applications with the tolerance to withstand datacenter or region outages\n+\n+In this guide, you'll learn how to:\n+\n+* Configure a <<modules-remote-clusters,remote cluster>> with a leader index\n+* Create a follower index on a local cluster\n+* Create an auto-follow pattern to automatically follow time series indices\n+that are periodically created in a remote cluster\n+\n You can manually create follower indices to replicate specific indices on a\n remote cluster, or configure auto-follow patterns to automatically create\n follower indices for new time series.\n \n-After the follower index is created, the\n-<<ccr-remote-recovery, remote recovery>> process copies all of the Lucene\n-segment files from the remote cluster to the local cluster.\n-\n-To set up {ccr}:\n-\n-. <<ccr-getting-started-remote-cluster,Connect a local cluster to a remote cluster>>\n-. <<ccr-getting-started-leader-index,Identify the index (or time series indices) you want to replicate on the remote cluster>>\n-. <<ccr-enable-soft-deletes,Enable soft deletes on the leader index>>\n-. Manually create a follower index or create an auto-follow pattern:\n-  * To replicate the leader index, <<ccr-getting-started-follower-index,manually create a follower index>>\n-  * To automatically follow time series indices, <<ccr-getting-started-auto-follow,create an auto-follow pattern>>\n+image:https://es-docs-bucket.s3.us-east-2.amazonaws.com/ccr-setup-clip.gif[GIF showing CCR setup in Kibana]\n \n [[ccr-getting-started-prerequisites]]\n ==== Prerequisites\n-If the Elastic {security-features} are enabled in your local and remote\n-clusters, you need a user with appropriate authority to complete the steps\n-in this tutorial.\n-\n-By default, you can complete the following steps as the built-in\n-`elastic` user. However, you must <<get-started-built-in-users,set a password>>\n-for this user before proceeding.\n-\n-WARNING: If you are performing these steps in a production environment, do\n-not use the `elastic` user.\n-\n-Alternatively, you can assign the appropriate privileges to a user ID of your\n-choice. On the remote cluster that contains the leader index, a user must have\n-the `read_ccr` cluster privilege and `monitor` and `read` privileges on the\n+The following prerequisites are required for this tutorial:\n+\n+* A license on both clusters that includes {ccr}. {kibana-ref}/managing-licenses.html[Activate a free 30-day trial].\n+* The `read_ccr` cluster privilege and `monitor` and `read` privileges\n+for the leader index on the remote cluster.\n+* The `manage_ccr` cluster privilege and `monitor`, `read`, `write` and\n+`manage_follow_index` privileges to configure remote clusters and follower\n+indices on the local cluster.\n+* An index on the remote cluster that contains the data you want to replicate.\n+This tutorial uses the sample eCommerce orders data set. See\n+{kibana-ref}/get-started.html#gs-get-data-into-kibana[Load sample data].", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7af1456d1fa74e8f938ec3d0985926806692f7d6"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk5NDEyMA==", "bodyText": "Talking about a remote running locally kind of confuses the issue, and isn't \"cloud  first\". I think I'd pick a different example.", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r488994120", "createdAt": "2020-09-15T21:43:50Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -74,17 +83,16 @@ cluster privilege.\n \n [[ccr-getting-started-remote-cluster]]\n ==== Connect to a remote cluster\n-Connect your local cluster to a\n-<<modules-remote-clusters,remote cluster>> to begin using cross-cluster\n-replication.\n+To replicate an index on a remote cluster (Cluster A) to a local cluster (Cluster B), you configure Cluster A as a remote on Cluster B.\n \n-To configure a {kibana-ref}/working-remote-clusters.html[remote cluster],\n-access {kib} and go to\n-*Management > Stack Management*. In the side navigation, select\n-*Remote Clusters*.\n+image::images/ccr-tutorial-clusters.png[ClusterA contains the leader index and ClusterB contains the follower index]\n \n-Add a remote cluster by specifying the IP address or host name, followed by the\n-transport port of the remote cluster.\n+To configure a remote cluster from Stack Management in {kib}:\n+\n+. Select *Remote Clusters* from the side navigation.\n+. Specify the IP address or host name of the remote cluster (ClusterB),\n+followed by the transport port of the remote cluster (defaults to `9300`). For\n+example, specify `127.0.0.1:9300` for a remote cluster running locally.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7af1456d1fa74e8f938ec3d0985926806692f7d6"}, "originalPosition": 110}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk5NTExMg==", "bodyText": "I think I'd delete this. In any case, it doesn't really belong with the soft deletes info.", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r488995112", "createdAt": "2020-09-15T21:45:00Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -153,17 +161,26 @@ remote cluster.\n     connected to.\n ====\n \n-[[ccr-getting-started-leader-index]]\n-==== Create a leader index\n-To create a leader index, access {kib} on your _remote_ cluster and go to\n-*Management > Dev Tools*.\n+[[ccr-enable-soft-deletes]]\n+==== Enable soft deletes on leader indices\n+To follow an index, it must have been created with\n+<<ccr-leader-requirements,soft deletes>> enabled. If the index doesn\u2019t have\n+soft deletes enabled, you must reindex it and use the new index as the leader\n+index. Soft deletes are enabled by default on new indices\n+created with {es} 7.0.0 and later.\n \n-Copy the following example into the Console to create a leader index named\n-`server-metrics` in your remote cluster:\n+If you want to create a new index as your leader index, access {kib} on", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7af1456d1fa74e8f938ec3d0985926806692f7d6"}, "originalPosition": 132}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODk5NzgwOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ==== Create a follower index to replicate a leader index\n          \n          \n            \n            ==== Create a follower index to replicate a specific index", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r488997808", "createdAt": "2020-09-15T21:48:11Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -204,34 +221,20 @@ PUT /server-metrics\n // TEST[continued]\n ====\n \n-[[ccr-enable-soft-deletes]]\n-==== Enable soft deletes on leader indices\n-<<ccr-leader-requirements,Soft deletes>> must be enabled for indices that you want to\n-use as leader indices. Soft deletes are enabled by default on new indices\n-created on or after {es} 7.0.0, so\n-*no further action is required if your cluster is running {es} 7.0.0 or later*.\n-\n-include::{es-ref-dir}/ccr/index.asciidoc[tag=ccr-existing-indices-tag]\n-\n-To enable soft deletes on indices created on versions of\n-{es} between 6.5.0 and 7.0.0, set <<ccr-index-soft-deletes,`index.soft_deletes.enabled`>> to `true`.\n-\n [[ccr-getting-started-follower-index]]\n-==== Create a follower index\n-When you create a {kibana-ref}/managing-cross-cluster-replication.html#_create_specific_follower_indices[follower index], you\n-must reference the\n-<<ccr-getting-started-remote-cluster,remote cluster>> and the\n-<<ccr-getting-started-leader-index,leader index>> that you created in the remote\n-cluster.\n+==== Create a follower index to replicate a leader index", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7af1456d1fa74e8f938ec3d0985926806692f7d6"}, "originalPosition": 171}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTAwMDk2NQ==", "bodyText": "I tend to avoid mirroring the heading text. Maybe:\nYou use auto-follow patterns to automatically create new followers for rolling time series indices.", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r489000965", "createdAt": "2020-09-15T21:51:51Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -304,37 +306,34 @@ POST /server-metrics-follower/_ccr/unfollow\n ====\n \n [[ccr-getting-started-auto-follow]]\n-==== Automatically create follower indices\n+==== Create an auto-follow pattern to replicate time series indices\n Create <<ccr-auto-follow,auto-follow patterns>> to automatically follow time", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7af1456d1fa74e8f938ec3d0985926806692f7d6"}, "originalPosition": 221}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTAxMjUyNQ==", "bodyText": "I wonder if it's worth saying something about the auto-follow pattern essentially matching the index pattern specified in the template used to create the time series indices on the remote?", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r489012525", "createdAt": "2020-09-15T22:05:53Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -304,37 +306,34 @@ POST /server-metrics-follower/_ccr/unfollow\n ====\n \n [[ccr-getting-started-auto-follow]]\n-==== Automatically create follower indices\n+==== Create an auto-follow pattern to replicate time series indices\n Create <<ccr-auto-follow,auto-follow patterns>> to automatically follow time\n-series indices that are periodically created in a remote cluster (such as daily\n-{beats} indices).\n+series indices that are created in a remote cluster. Whenever the name of a new index on the remote cluster matches the auto-follow pattern, a corresponding follower index is added to the local cluster.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7af1456d1fa74e8f938ec3d0985926806692f7d6"}, "originalPosition": 224}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTAxNTU5NQ==", "bodyText": "This feels a bit awkward. Maybe:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            With an auto-follow pattern, you reference the\n          \n          \n            \n            <<ccr-getting-started-remote-cluster,remote cluster>> connected to your\n          \n          \n            \n            local cluster. You must also specify a collection of patterns that match the\n          \n          \n            \n            indices you want to automatically follow.\n          \n          \n            \n            An auto-follow pattern specifies the remote cluster you want to replicate from, \n          \n          \n            \n            and one or more index patterns that specify the rolling time series indices you want\n          \n          \n            \n            replicate.", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r489015595", "createdAt": "2020-09-15T22:09:36Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -304,37 +306,34 @@ POST /server-metrics-follower/_ccr/unfollow\n ====\n \n [[ccr-getting-started-auto-follow]]\n-==== Automatically create follower indices\n+==== Create an auto-follow pattern to replicate time series indices\n Create <<ccr-auto-follow,auto-follow patterns>> to automatically follow time\n-series indices that are periodically created in a remote cluster (such as daily\n-{beats} indices).\n+series indices that are created in a remote cluster. Whenever the name of a new index on the remote cluster matches the auto-follow pattern, a corresponding follower index is added to the local cluster.\n \n With an auto-follow pattern, you reference the\n <<ccr-getting-started-remote-cluster,remote cluster>> connected to your\n local cluster. You must also specify a collection of patterns that match the\n indices you want to automatically follow.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7af1456d1fa74e8f938ec3d0985926806692f7d6"}, "originalPosition": 229}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTAxNTg2NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            To create an auto-follower pattern from Stack Management in {kib}:\n          \n          \n            \n            To create an auto-follow pattern from Stack Management in {kib}:", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r489015865", "createdAt": "2020-09-15T22:09:58Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -304,37 +306,34 @@ POST /server-metrics-follower/_ccr/unfollow\n ====\n \n [[ccr-getting-started-auto-follow]]\n-==== Automatically create follower indices\n+==== Create an auto-follow pattern to replicate time series indices\n Create <<ccr-auto-follow,auto-follow patterns>> to automatically follow time\n-series indices that are periodically created in a remote cluster (such as daily\n-{beats} indices).\n+series indices that are created in a remote cluster. Whenever the name of a new index on the remote cluster matches the auto-follow pattern, a corresponding follower index is added to the local cluster.\n \n With an auto-follow pattern, you reference the\n <<ccr-getting-started-remote-cluster,remote cluster>> connected to your\n local cluster. You must also specify a collection of patterns that match the\n indices you want to automatically follow.\n \n // tag::ccr-create-auto-follow-pattern-tag[]\n-To create follower indices from an {kibana-ref}/managing-cross-cluster-replication.html#_create_follower_indices_from_an_auto_follow_pattern[auto-follow pattern],\n-access {kib} on your remote cluster and go to\n-*Management > Stack Management*. In the side navigation, select\n-*Cross Cluster Replication* and choose the *Auto-follow patterns* tab.\n+To create an auto-follower pattern from Stack Management in {kib}:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7af1456d1fa74e8f938ec3d0985926806692f7d6"}, "originalPosition": 236}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTAxNzUzMA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            . Choose the remote cluster containing the index you want to replicate, which\n          \n          \n            \n            is ClusterA if you are following this guide.\n          \n          \n            \n            . Choose the remote cluster that contains the index you want to replicate,\n          \n          \n            \n            which in the example scenario is Cluster A.", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r489017530", "createdAt": "2020-09-15T22:12:14Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -304,37 +306,34 @@ POST /server-metrics-follower/_ccr/unfollow\n ====\n \n [[ccr-getting-started-auto-follow]]\n-==== Automatically create follower indices\n+==== Create an auto-follow pattern to replicate time series indices\n Create <<ccr-auto-follow,auto-follow patterns>> to automatically follow time\n-series indices that are periodically created in a remote cluster (such as daily\n-{beats} indices).\n+series indices that are created in a remote cluster. Whenever the name of a new index on the remote cluster matches the auto-follow pattern, a corresponding follower index is added to the local cluster.\n \n With an auto-follow pattern, you reference the\n <<ccr-getting-started-remote-cluster,remote cluster>> connected to your\n local cluster. You must also specify a collection of patterns that match the\n indices you want to automatically follow.\n \n // tag::ccr-create-auto-follow-pattern-tag[]\n-To create follower indices from an {kibana-ref}/managing-cross-cluster-replication.html#_create_follower_indices_from_an_auto_follow_pattern[auto-follow pattern],\n-access {kib} on your remote cluster and go to\n-*Management > Stack Management*. In the side navigation, select\n-*Cross Cluster Replication* and choose the *Auto-follow patterns* tab.\n+To create an auto-follower pattern from Stack Management in {kib}:\n \n-[role=\"screenshot\"]\n-image::images/auto-follow-patterns.png[\"The Auto-follow patterns page in {kib}\"]\n-\n-* Enter a name for the auto-follow pattern. For this tutorial, enter `beats`\n-as the name.\n-* Choose the remote cluster containing the index you want to replicate, which\n-is `leader` if you are following the tutorial.\n-* Enter one or more index patterns that identify the indices you want to\n-replicate from the remote cluster. For this tutorial, enter\n-`metricbeat-*,packetbeat-*` as the index pattern.\n-* Enter *copy-* as the prefix to apply to the names of the follower indices so\n+. Select *Cross Cluster Replication* in the side navigation and choose the\n+*Auto-follow patterns* tab.\n+. Enter a name for the auto-follow pattern, such as `beats`.\n+. Choose the remote cluster containing the index you want to replicate, which\n+is ClusterA if you are following this guide.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7af1456d1fa74e8f938ec3d0985926806692f7d6"}, "originalPosition": 253}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTAxODgyOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            `metricbeat-* packetbeat-*` as the index pattern.\n          \n          \n            \n            `metricbeat-* packetbeat-*` to automatically create followers for metric beat and packet beat indices.", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r489018829", "createdAt": "2020-09-15T22:13:50Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -304,37 +306,34 @@ POST /server-metrics-follower/_ccr/unfollow\n ====\n \n [[ccr-getting-started-auto-follow]]\n-==== Automatically create follower indices\n+==== Create an auto-follow pattern to replicate time series indices\n Create <<ccr-auto-follow,auto-follow patterns>> to automatically follow time\n-series indices that are periodically created in a remote cluster (such as daily\n-{beats} indices).\n+series indices that are created in a remote cluster. Whenever the name of a new index on the remote cluster matches the auto-follow pattern, a corresponding follower index is added to the local cluster.\n \n With an auto-follow pattern, you reference the\n <<ccr-getting-started-remote-cluster,remote cluster>> connected to your\n local cluster. You must also specify a collection of patterns that match the\n indices you want to automatically follow.\n \n // tag::ccr-create-auto-follow-pattern-tag[]\n-To create follower indices from an {kibana-ref}/managing-cross-cluster-replication.html#_create_follower_indices_from_an_auto_follow_pattern[auto-follow pattern],\n-access {kib} on your remote cluster and go to\n-*Management > Stack Management*. In the side navigation, select\n-*Cross Cluster Replication* and choose the *Auto-follow patterns* tab.\n+To create an auto-follower pattern from Stack Management in {kib}:\n \n-[role=\"screenshot\"]\n-image::images/auto-follow-patterns.png[\"The Auto-follow patterns page in {kib}\"]\n-\n-* Enter a name for the auto-follow pattern. For this tutorial, enter `beats`\n-as the name.\n-* Choose the remote cluster containing the index you want to replicate, which\n-is `leader` if you are following the tutorial.\n-* Enter one or more index patterns that identify the indices you want to\n-replicate from the remote cluster. For this tutorial, enter\n-`metricbeat-*,packetbeat-*` as the index pattern.\n-* Enter *copy-* as the prefix to apply to the names of the follower indices so\n+. Select *Cross Cluster Replication* in the side navigation and choose the\n+*Auto-follow patterns* tab.\n+. Enter a name for the auto-follow pattern, such as `beats`.\n+. Choose the remote cluster containing the index you want to replicate, which\n+is ClusterA if you are following this guide.\n+. Enter one or more index patterns that identify the indices you want to\n+replicate from the remote cluster. For example, enter\n+`metricbeat-* packetbeat-*` as the index pattern.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7af1456d1fa74e8f938ec3d0985926806692f7d6"}, "originalPosition": 256}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTAyMTE5Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            created, {es} replicates them to the follower indices.\n          \n          \n            \n            created on the remote, {es} automatically replicates them to local follower indices.", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r489021193", "createdAt": "2020-09-15T22:16:40Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -304,37 +306,34 @@ POST /server-metrics-follower/_ccr/unfollow\n ====\n \n [[ccr-getting-started-auto-follow]]\n-==== Automatically create follower indices\n+==== Create an auto-follow pattern to replicate time series indices\n Create <<ccr-auto-follow,auto-follow patterns>> to automatically follow time\n-series indices that are periodically created in a remote cluster (such as daily\n-{beats} indices).\n+series indices that are created in a remote cluster. Whenever the name of a new index on the remote cluster matches the auto-follow pattern, a corresponding follower index is added to the local cluster.\n \n With an auto-follow pattern, you reference the\n <<ccr-getting-started-remote-cluster,remote cluster>> connected to your\n local cluster. You must also specify a collection of patterns that match the\n indices you want to automatically follow.\n \n // tag::ccr-create-auto-follow-pattern-tag[]\n-To create follower indices from an {kibana-ref}/managing-cross-cluster-replication.html#_create_follower_indices_from_an_auto_follow_pattern[auto-follow pattern],\n-access {kib} on your remote cluster and go to\n-*Management > Stack Management*. In the side navigation, select\n-*Cross Cluster Replication* and choose the *Auto-follow patterns* tab.\n+To create an auto-follower pattern from Stack Management in {kib}:\n \n-[role=\"screenshot\"]\n-image::images/auto-follow-patterns.png[\"The Auto-follow patterns page in {kib}\"]\n-\n-* Enter a name for the auto-follow pattern. For this tutorial, enter `beats`\n-as the name.\n-* Choose the remote cluster containing the index you want to replicate, which\n-is `leader` if you are following the tutorial.\n-* Enter one or more index patterns that identify the indices you want to\n-replicate from the remote cluster. For this tutorial, enter\n-`metricbeat-*,packetbeat-*` as the index pattern.\n-* Enter *copy-* as the prefix to apply to the names of the follower indices so\n+. Select *Cross Cluster Replication* in the side navigation and choose the\n+*Auto-follow patterns* tab.\n+. Enter a name for the auto-follow pattern, such as `beats`.\n+. Choose the remote cluster containing the index you want to replicate, which\n+is ClusterA if you are following this guide.\n+. Enter one or more index patterns that identify the indices you want to\n+replicate from the remote cluster. For example, enter\n+`metricbeat-* packetbeat-*` as the index pattern.\n+. Enter *follower-* as the prefix to apply to the names of the follower indices so\n you can more easily identify replicated indices.\n \n As new indices matching these patterns are\n-created, they are replicated to the follower indices.\n+created, {es} replicates them to the follower indices.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7af1456d1fa74e8f938ec3d0985926806692f7d6"}, "originalPosition": 262}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3c08d6cf3fdca88f6e1f768cc1608b8ff9808ee", "author": {"user": {"login": "lockewritesdocs", "name": "Adam Locke"}}, "url": "https://github.com/elastic/elasticsearch/commit/d3c08d6cf3fdca88f6e1f768cc1608b8ff9808ee", "committedDate": "2020-09-16T12:47:53Z", "message": "Apply suggestions from code review\n\nCo-authored-by: debadair <debadair@elastic.co>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6d65f1bc846ba976a014e1ed4a534125203ebfc", "author": {"user": {"login": "lockewritesdocs", "name": "Adam Locke"}}, "url": "https://github.com/elastic/elasticsearch/commit/c6d65f1bc846ba976a014e1ed4a534125203ebfc", "committedDate": "2020-09-16T15:46:12Z", "message": "Incorporating more review feedback."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f982405a145614babf743f5db4c70f2be87477d9", "author": {"user": {"login": "lockewritesdocs", "name": "Adam Locke"}}, "url": "https://github.com/elastic/elasticsearch/commit/f982405a145614babf743f5db4c70f2be87477d9", "committedDate": "2020-09-16T16:10:51Z", "message": "Adding TESTSETUP to fix build errors."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5ODY0OTIy", "url": "https://github.com/elastic/elasticsearch/pull/62256#pullrequestreview-489864922", "createdAt": "2020-09-16T17:57:23Z", "commit": {"oid": "f982405a145614babf743f5db4c70f2be87477d9"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxNzo1NzoyM1rOHS8DAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxNzo1NzoyM1rOHS8DAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTYyMDIyNw==", "bodyText": "I think I confused the issue with my comment. I'd just remove this second sentence.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            want to replicate. When the auto-follow pattern matches the specified index\n          \n          \n            \n            pattern, {es} creates new time series indices on the remote cluster.\n          \n          \n            \n            want to replicate.", "url": "https://github.com/elastic/elasticsearch/pull/62256#discussion_r489620227", "createdAt": "2020-09-16T17:57:23Z", "author": {"login": "debadair"}, "path": "docs/reference/ccr/getting-started.asciidoc", "diffHunk": "@@ -304,37 +253,36 @@ POST /server-metrics-follower/_ccr/unfollow\n ====\n \n [[ccr-getting-started-auto-follow]]\n-==== Automatically create follower indices\n-Create <<ccr-auto-follow,auto-follow patterns>> to automatically follow time\n-series indices that are periodically created in a remote cluster (such as daily\n-{beats} indices).\n+==== Create an auto-follow pattern to replicate time series indices\n+You use <<ccr-auto-follow,auto-follow patterns>> to automatically create new\n+followers for rolling time series indices. Whenever the name of a new index on\n+the remote cluster matches the auto-follow pattern, a corresponding follower\n+index is added to the local cluster.\n \n-With an auto-follow pattern, you reference the\n-<<ccr-getting-started-remote-cluster,remote cluster>> connected to your\n-local cluster. You must also specify a collection of patterns that match the\n-indices you want to automatically follow.\n+An auto-follow pattern specifies the remote cluster you want to replicate from,\n+and one or more index patterns that specify the rolling time series indices you\n+want to replicate. When the auto-follow pattern matches the specified index\n+pattern, {es} creates new time series indices on the remote cluster.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f982405a145614babf743f5db4c70f2be87477d9"}, "originalPosition": 317}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8051f85a9e511b81a97e1ea279cda0c16c3ceebc", "author": {"user": {"login": "lockewritesdocs", "name": "Adam Locke"}}, "url": "https://github.com/elastic/elasticsearch/commit/8051f85a9e511b81a97e1ea279cda0c16c3ceebc", "committedDate": "2020-09-16T18:07:48Z", "message": "Update docs/reference/ccr/getting-started.asciidoc\n\nCo-authored-by: debadair <debadair@elastic.co>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a999edf0be412671d6fa9741ac75b125608d3fc", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/7a999edf0be412671d6fa9741ac75b125608d3fc", "committedDate": "2020-09-16T18:51:25Z", "message": "Merge branch 'master' into docs__ccr-tutorial-updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe6d047538a7391fc20081508ee1f262a18358f7", "author": {"user": {"login": "lockewritesdocs", "name": "Adam Locke"}}, "url": "https://github.com/elastic/elasticsearch/commit/fe6d047538a7391fc20081508ee1f262a18358f7", "committedDate": "2020-09-16T19:57:19Z", "message": "Swapping GIF for mp4 hosted on web team CMS."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80b3239d23dba030afa1d0aac1fd2c5aa1e6ba54", "author": {"user": {"login": "lockewritesdocs", "name": "Adam Locke"}}, "url": "https://github.com/elastic/elasticsearch/commit/80b3239d23dba030afa1d0aac1fd2c5aa1e6ba54", "committedDate": "2020-09-16T20:01:03Z", "message": "Merge branch 'docs__ccr-tutorial-updates' of github.com:lockewritesdocs/elasticsearch into docs__ccr-tutorial-updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "318d7da9c0ff2bf8694266ac34d3bfd6c5c7b971", "author": {"user": {"login": "lockewritesdocs", "name": "Adam Locke"}}, "url": "https://github.com/elastic/elasticsearch/commit/318d7da9c0ff2bf8694266ac34d3bfd6c5c7b971", "committedDate": "2020-09-16T20:01:30Z", "message": "Removing GIF in favor of mp4."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4702, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}