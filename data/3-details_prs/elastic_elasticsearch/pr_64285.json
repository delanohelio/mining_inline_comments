{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTExNTU0MjQx", "number": 64285, "title": "[DOCS] Adds note box about mappings to Transforms Painless examples", "bodyText": "Overview\nThis PR adds a new note to the note box near the top of the page about how mapping works in Transforms.\nPreview\nPainless examples for transforms", "createdAt": "2020-10-28T13:40:06Z", "url": "https://github.com/elastic/elasticsearch/pull/64285", "merged": true, "mergeCommit": {"oid": "46df9dd75e0cd841702ce775befdfc460349c543"}, "closed": true, "closedAt": "2020-10-29T16:02:38Z", "author": {"login": "szabosteve"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdW9tBKgH2gAyNTExNTU0MjQxOmEwZmI5ZGViYzI5ZWY0MGFkYWM2YWNlYTU0N2MzZjQyMzVmMzRhZjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXik-RgFqTUyMDQ2MDg3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a0fb9debc29ef40adac6acea547c3f4235f34af2", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/a0fb9debc29ef40adac6acea547c3f4235f34af2", "committedDate": "2020-10-28T13:36:57Z", "message": "[DOCS] Adds note box about mappings to Transfroms Painless examples."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5NzYxNjUw", "url": "https://github.com/elastic/elasticsearch/pull/64285#pullrequestreview-519761650", "createdAt": "2020-10-29T15:02:11Z", "commit": {"oid": "a0fb9debc29ef40adac6acea547c3f4235f34af2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNTowMjoxMVrOHqgKaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNTowMjoxMVrOHqgKaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDMyOTE5Mw==", "bodyText": "I like to emphasize that the limitation only applies to the script examples on this page, not in general\n\"rely on dynamic mappings when creating the destination index\" - we simply do not generate any mapping, dynamic mapping of the fields is what ES ootb, this is not controlled by transform\n\"create the mappings of the destination index prior to creating the transform\", you can create the transform, dest index creation is done at start, therefore this should be \"prior to starting the transform\"\n\nSuggestion:\nAll the following examples use scripts, transform can not deduce mappings of output fields when the fields are created by a script. Transform will not create any mappings in the the destination index for these fields, which means they get dynamically mapped. You can create the destination index prior to starting the transform in case you want explicit mappings.", "url": "https://github.com/elastic/elasticsearch/pull/64285#discussion_r514329193", "createdAt": "2020-10-29T15:02:11Z", "author": {"login": "hendrikmuhs"}, "path": "docs/reference/transform/painless-examples.asciidoc", "diffHunk": "@@ -18,9 +18,16 @@ more about the Painless scripting language in the\n * <<painless-compare>>\n * <<painless-web-session>>\n \n-NOTE: While the context of the following examples is the {transform} use case, \n+[NOTE] \n+--\n+* While the context of the following examples is the {transform} use case, \n the Painless scripts in the snippets below can be used in other {es} search \n aggregations, too.\n+* {transforms-cap} rely on dynamic mappings when creating the destination index. \n+They cannot deduce mappings of output fields when the fields are created by a \n+script. In this case, create the mappings of the destination index prior to \n+creating the {transform}. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a0fb9debc29ef40adac6acea547c3f4235f34af2"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "456d92f38a301af38dd949fdea043141e2964c7b", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/456d92f38a301af38dd949fdea043141e2964c7b", "committedDate": "2020-10-29T15:11:51Z", "message": "[DOCS] Fine-tunes note box text."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5Nzk3MDYw", "url": "https://github.com/elastic/elasticsearch/pull/64285#pullrequestreview-519797060", "createdAt": "2020-10-29T15:34:07Z", "commit": {"oid": "456d92f38a301af38dd949fdea043141e2964c7b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNDYwODc2", "url": "https://github.com/elastic/elasticsearch/pull/64285#pullrequestreview-520460876", "createdAt": "2020-10-30T08:33:35Z", "commit": {"oid": "456d92f38a301af38dd949fdea043141e2964c7b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQwODozMzozNVrOHrFdUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQwODozMzozNVrOHrFdUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDk0MDI0MA==", "bodyText": "s/the the/the/", "url": "https://github.com/elastic/elasticsearch/pull/64285#discussion_r514940240", "createdAt": "2020-10-30T08:33:35Z", "author": {"login": "przemekwitek"}, "path": "docs/reference/transform/painless-examples.asciidoc", "diffHunk": "@@ -18,9 +18,17 @@ more about the Painless scripting language in the\n * <<painless-compare>>\n * <<painless-web-session>>\n \n-NOTE: While the context of the following examples is the {transform} use case, \n+[NOTE] \n+--\n+* While the context of the following examples is the {transform} use case, \n the Painless scripts in the snippets below can be used in other {es} search \n aggregations, too.\n+* All the following examples use scripts, {transforms} cannot deduce mappings of \n+output fields when the fields are created by a script. {transforms-cap} don't \n+create any mappings in the the destination index for these fields, which means ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "456d92f38a301af38dd949fdea043141e2964c7b"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 938, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}