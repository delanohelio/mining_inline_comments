{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxNjU1ODQ3", "number": 51971, "title": "Log failure when cleaning shard follow task", "bodyText": "When clenaing a shard follow task after an index has been deleted, an exception can occur submitting the complete persistent task action. However, this exception message is not logged. This commit addresses this by including the exception that led to the failure in the log message.\nRelates #44702", "createdAt": "2020-02-06T00:46:49Z", "url": "https://github.com/elastic/elasticsearch/pull/51971", "merged": true, "mergeCommit": {"oid": "9660d84d78d11f3d7a53ccbfb93073e0a2c7a6a5"}, "closed": true, "closedAt": "2020-02-06T01:46:55Z", "author": {"login": "jasontedor"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBf1KiAH2gAyMzcxNjU1ODQ3OjYyNjRjYWJlMzNiZDkzYzc1YTUyYTExZGI0MzhkMTgxYmRmNDg5OTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBf-yvgFqTM1NDE0MjQxOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6264cabe33bd93c75a52a11db438d181bdf48994", "author": {"user": {"login": "jasontedor", "name": "Jason Tedor"}}, "url": "https://github.com/elastic/elasticsearch/commit/6264cabe33bd93c75a52a11db438d181bdf48994", "committedDate": "2020-02-06T00:45:08Z", "message": "Log failure when cleaning shard follow task\n\nWhen clenaing a shard follow task after an index has been deleted, an\nexception can occur submitting the complete persistent task\naction. However, this exception message is not logged. This commit\naddresses this by including the exception that led to the failure in the\nlog message."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0MTM5ODg1", "url": "https://github.com/elastic/elasticsearch/pull/51971#pullrequestreview-354139885", "createdAt": "2020-02-06T00:47:20Z", "commit": {"oid": "6264cabe33bd93c75a52a11db438d181bdf48994"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwMDo0NzoyMFrOFmMGog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQwMDo0NzoyMFrOFmMGog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTU4ODUxNA==", "bodyText": "This name change is to avoid confusion with the name of the Exception instance in the onFailure callback.", "url": "https://github.com/elastic/elasticsearch/pull/51971#discussion_r375588514", "createdAt": "2020-02-06T00:47:20Z", "author": {"login": "jasontedor"}, "path": "x-pack/plugin/ccr/src/main/java/org/elasticsearch/xpack/ccr/action/ShardFollowTaskCleaner.java", "diffHunk": "@@ -63,9 +64,9 @@ public void clusterChanged(final ClusterChangedEvent event) {\n                 // the index exists, do not clean this persistent task\n                 continue;\n             }\n-            IndexNotFoundException e = new IndexNotFoundException(followerIndex);\n+            IndexNotFoundException infe = new IndexNotFoundException(followerIndex);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6264cabe33bd93c75a52a11db438d181bdf48994"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0MTQyNDE4", "url": "https://github.com/elastic/elasticsearch/pull/51971#pullrequestreview-354142418", "createdAt": "2020-02-06T00:55:39Z", "commit": {"oid": "6264cabe33bd93c75a52a11db438d181bdf48994"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2844, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}