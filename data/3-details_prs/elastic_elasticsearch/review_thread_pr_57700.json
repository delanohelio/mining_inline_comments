{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI4MDg0Nzg5", "number": 57700, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNzo0OTo0MFrOED_d4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNzo0OTo0MFrOED_d4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNjIxMDI0OnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/XPackPlugin.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxNzo0OTo0MFrOGhVsCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxODoyODo0M1rOGhXEpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYxMTUzMQ==", "bodyText": "This makes me wonder if we should make the index a system index first ? This way, we could start the maintenance service in the system index plugin. I don't think it will cause issue to move the index into a system index since we have all the protection in place with the async search user ?", "url": "https://github.com/elastic/elasticsearch/pull/57700#discussion_r437611531", "createdAt": "2020-06-09T17:49:40Z", "author": {"login": "jimczi"}, "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/XPackPlugin.java", "diffHunk": "@@ -248,6 +253,16 @@ public Settings additionalSettings() {\n         components.add(getLicenseService());\n         components.add(getLicenseState());\n \n+        if (DiscoveryNode.isDataNode(environment.settings())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc05e1b98cb417dc5f62207ad3adbc9eac4f164e"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYyNDk4Nw==", "bodyText": "Do you want me to convert AsyncSearch plugin into SystemIndexPlugin or should I create a separate \"Async\" plugin for that?", "url": "https://github.com/elastic/elasticsearch/pull/57700#discussion_r437624987", "createdAt": "2020-06-09T18:13:02Z", "author": {"login": "imotov"}, "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/XPackPlugin.java", "diffHunk": "@@ -248,6 +253,16 @@ public Settings additionalSettings() {\n         components.add(getLicenseService());\n         components.add(getLicenseState());\n \n+        if (DiscoveryNode.isDataNode(environment.settings())) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYxMTUzMQ=="}, "originalCommit": {"oid": "cc05e1b98cb417dc5f62207ad3adbc9eac4f164e"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYyOTgzMA==", "bodyText": "I think we can have a dedicated plugin since the goal is to start the service for all users of the index ?", "url": "https://github.com/elastic/elasticsearch/pull/57700#discussion_r437629830", "createdAt": "2020-06-09T18:21:38Z", "author": {"login": "jimczi"}, "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/XPackPlugin.java", "diffHunk": "@@ -248,6 +253,16 @@ public Settings additionalSettings() {\n         components.add(getLicenseService());\n         components.add(getLicenseState());\n \n+        if (DiscoveryNode.isDataNode(environment.settings())) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYxMTUzMQ=="}, "originalCommit": {"oid": "cc05e1b98cb417dc5f62207ad3adbc9eac4f164e"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYzNDIxNA==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/elastic/elasticsearch/pull/57700#discussion_r437634214", "createdAt": "2020-06-09T18:28:43Z", "author": {"login": "imotov"}, "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/XPackPlugin.java", "diffHunk": "@@ -248,6 +253,16 @@ public Settings additionalSettings() {\n         components.add(getLicenseService());\n         components.add(getLicenseState());\n \n+        if (DiscoveryNode.isDataNode(environment.settings())) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzYxMTUzMQ=="}, "originalCommit": {"oid": "cc05e1b98cb417dc5f62207ad3adbc9eac4f164e"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3698, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}