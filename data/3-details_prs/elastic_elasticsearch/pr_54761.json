{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4NDkxODE2", "number": 54761, "title": "Fix transport serialization of AsyncSearchUser", "bodyText": "This change ensures that the AsyncSearchUser is correctly (de)serialized when\nan action executed by this user is sent to a remote node internally (via transport client).", "createdAt": "2020-04-04T08:49:31Z", "url": "https://github.com/elastic/elasticsearch/pull/54761", "merged": true, "mergeCommit": {"oid": "9e24558f0b785d40d26f1fe81417543e306461e2"}, "closed": true, "closedAt": "2020-04-07T06:24:57Z", "author": {"login": "jimczi"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcURebDgH2gAyMzk4NDkxODE2OmE2NDZlNDJhN2M3MTI5ZDdkNzYzOGQyNTNiMGJmMGI2Y2RjMzhhZjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVA1w6gH2gAyMzk4NDkxODE2OjgyZjkyMjJjYTU1M2MxZDYwYjZiYjI5OGFjY2M2MzBiNTM4ZTA2ODc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a646e42a7c7129d7d7638d253b0bf0b6cdc38af9", "author": {"user": {"login": "jimczi", "name": "Jim Ferenczi"}}, "url": "https://github.com/elastic/elasticsearch/commit/a646e42a7c7129d7d7638d253b0bf0b6cdc38af9", "committedDate": "2020-04-04T08:46:11Z", "message": "Fix transport serialization of AsyncSearchUser\n\nThis change ensures that the AsyncSearchUser is correctly (de)serialized when\nan action executed by this user is sent to a remote node internally (via transport client)."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ddb7ae633a04e0829e3323c9b8af95c7431a070", "author": {"user": {"login": "jimczi", "name": "Jim Ferenczi"}}, "url": "https://github.com/elastic/elasticsearch/commit/9ddb7ae633a04e0829e3323c9b8af95c7431a070", "committedDate": "2020-04-04T19:31:55Z", "message": "Merge branch 'master' into async_search_syer_serialization"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3ODc5NTQ0", "url": "https://github.com/elastic/elasticsearch/pull/54761#pullrequestreview-387879544", "createdAt": "2020-04-06T00:17:18Z", "commit": {"oid": "9ddb7ae633a04e0829e3323c9b8af95c7431a070"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwMDoxNzoxOFrOGBEsdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwMDoxNzoxOFrOGBEsdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzc3ODY3OQ==", "bodyText": "Is this a concern for bwc? I think, in a mixed cluster environment, writing and reading this information from different versions would fail. But current failures don't seem to be releavant. I don't know the details about async search work. Is it 8.0 only?", "url": "https://github.com/elastic/elasticsearch/pull/54761#discussion_r403778679", "createdAt": "2020-04-06T00:17:18Z", "author": {"login": "ywangd"}, "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/security/user/InternalUserSerializationHelper.java", "diffHunk": "@@ -36,6 +38,9 @@ public static void writeTo(User user, StreamOutput output) throws IOException {\n         } else if (XPackSecurityUser.is(user)) {\n             output.writeBoolean(true);\n             output.writeString(XPackSecurityUser.NAME);\n+        } else if (AsyncSearchUser.is(user)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9ddb7ae633a04e0829e3323c9b8af95c7431a070"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c64d8b5fc35f07ea11e23f5312bd6f1453cecdbb", "author": {"user": {"login": "jimczi", "name": "Jim Ferenczi"}}, "url": "https://github.com/elastic/elasticsearch/commit/c64d8b5fc35f07ea11e23f5312bd6f1453cecdbb", "committedDate": "2020-04-06T13:44:34Z", "message": "Merge branch 'master' into async_search_syer_serialization"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4MjY3MDU2", "url": "https://github.com/elastic/elasticsearch/pull/54761#pullrequestreview-388267056", "createdAt": "2020-04-06T13:49:12Z", "commit": {"oid": "c64d8b5fc35f07ea11e23f5312bd6f1453cecdbb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82f9222ca553c1d60b6bb298accc630b538e0687", "author": {"user": {"login": "jimczi", "name": "Jim Ferenczi"}}, "url": "https://github.com/elastic/elasticsearch/commit/82f9222ca553c1d60b6bb298accc630b538e0687", "committedDate": "2020-04-06T15:57:13Z", "message": "run the security rest tests with 2 nodes"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3830, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}