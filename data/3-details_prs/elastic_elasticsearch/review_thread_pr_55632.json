{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA3NTgzNDY5", "number": 55632, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNjozNjowOVrOD1Ximw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNjo0MTozNVrOD1Xshw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3Mjg2ODExOnYy", "diffSide": "RIGHT", "path": "docs/reference/ilm/actions/ilm-readonly.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNjozNjowOVrOGKxgTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNjozNjowOVrOGKxgTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzk1MDAyOA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Makes the index  <<dynamic-index-settings,`index.blocks.write`, read-only>>.\n          \n          \n            \n            Makes the index <<dynamic-index-settings,read-only>>.", "url": "https://github.com/elastic/elasticsearch/pull/55632#discussion_r413950028", "createdAt": "2020-04-23T16:36:09Z", "author": {"login": "jrodewig"}, "path": "docs/reference/ilm/actions/ilm-readonly.asciidoc", "diffHunk": "@@ -1,17 +1,17 @@\n [role=\"xpack\"]\n [[ilm-readonly]]\n-=== Read-only\n+=== Read only\n \n Phases allowed: warm.\n \n-Sets an index as read-only. See <<dynamic-index-settings,`index.blocks.write`>>.\n+Makes the index  <<dynamic-index-settings,`index.blocks.write`, read-only>>.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7529bb656414ed76360136f16d597606152765b4"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3Mjg3NjU5OnYy", "diffSide": "RIGHT", "path": "docs/reference/ilm/actions/ilm-forcemerge.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNjozNzo1M1rOGKxlRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNjozNzo1M1rOGKxlRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzk1MTMwMg==", "bodyText": "This makes it consistent with the readonly action.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This action makes the index read-only.\n          \n          \n            \n            See <<dynamic-index-settings,`index.blocks.write`>>.\n          \n          \n            \n            This action makes the index <<dynamic-index-settings,read-only>>.", "url": "https://github.com/elastic/elasticsearch/pull/55632#discussion_r413951302", "createdAt": "2020-04-23T16:37:53Z", "author": {"login": "jrodewig"}, "path": "docs/reference/ilm/actions/ilm-forcemerge.asciidoc", "diffHunk": "@@ -4,22 +4,21 @@\n \n Phases allowed: hot, warm.\n \n-NOTE: The index is made read-only when this action is run.\n-See <<dynamic-index-settings,`index.blocks.write`>>.\n+<<indices-forcemerge,Force merges>> the index into \n+the specified maximum number of <<indices-segments,segments>>.\n \n-NOTE: If the `forcemerge` action is used in the `hot` phase, the `rollover` action *must* be preset.\n-{ilm-init} validates this predicate and will refuse a policy with a forcemerge in the hot phase without a\n-rollover action.\n+This action makes the index read-only.\n+See <<dynamic-index-settings,`index.blocks.write`>>.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7529bb656414ed76360136f16d597606152765b4"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3Mjg4MDQ4OnYy", "diffSide": "RIGHT", "path": "docs/reference/ilm/actions/ilm-delete.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNjozODo0N1rOGKxnsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNjozODo0N1rOGKxnsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzk1MTkyMQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This option is applicable when the <<ilm-searchable-snapshot-action>> is used in the cold phase.\n          \n          \n            \n            This option is applicable when the <<ilm-searchable-snapshot-action,searchable\n          \n          \n            \n            snapshot>> action is used in the cold phase.", "url": "https://github.com/elastic/elasticsearch/pull/55632#discussion_r413951921", "createdAt": "2020-04-23T16:38:47Z", "author": {"login": "jrodewig"}, "path": "docs/reference/ilm/actions/ilm-delete.asciidoc", "diffHunk": "@@ -6,16 +6,16 @@ Phases allowed: delete.\n \n Permanently removes the index.\n \n-[[ilm-delete-action-options]]\n-==== Delete\n+[[ilm-delete-options]]\n+==== Options\n \n `delete_searchable_snapshot`::\n (Optional, boolean)\n Deletes the searchable snapshot created in the cold phase. \n Defaults to `true`.\n-This is applicable when the <<ilm-searchable-snapshot-action>> is used in the cold phase.\n+This option is applicable when the <<ilm-searchable-snapshot-action>> is used in the cold phase.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7529bb656414ed76360136f16d597606152765b4"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3Mjg5MzQyOnYy", "diffSide": "RIGHT", "path": "docs/reference/ilm/actions/_ilm-action-template.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNjo0MTozM1rOGKxvgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNjo0MTozM1rOGKxvgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzk1MzkyMg==", "bodyText": "I believe this is causing the docs-check CI to fail.\nWe should just skip it.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            --------------------------------------------------\n          \n          \n            \n            --------------------------------------------------\n          \n          \n            \n            // TEST[skip: For illustrative purposes only. Contains fake actions.]", "url": "https://github.com/elastic/elasticsearch/pull/55632#discussion_r413953922", "createdAt": "2020-04-23T16:41:33Z", "author": {"login": "jrodewig"}, "path": "docs/reference/ilm/actions/_ilm-action-template.asciidoc", "diffHunk": "@@ -0,0 +1,93 @@\n+////\n+This is a template for ILM action reference documentation.\n+\n+To document a new action, copy this file, remove comments like this, and\n+replace \"sample\" with the appropriate action name.\n+\n+Ensure the new action docs are linked and included in\n+docs/reference/ilm/actions.asciidoc\n+////\n+\n+[role=\"xpack\"]\n+[[ilm-sample]]\n+=== Sample\n+\n+Phases allowed: hot, warm, cold, delete.\n+\n+////\n+INTRO\n+Include a brief, 1-2 sentence description.\n+////\n+\n+Does a cool thing. \n+\n+[[ilm-sample-options]]\n+==== Options\n+\n+////\n+Definition list of the options that can be specified for the action:\n+\n+If there are no options:\n+\n+None.\n+////\n+\n+`sample_option1`::\n+(Optional, integer)\n+Number of something.\n+\n+`sample_option2`::\n+(Required, string)\n+Name of something.\n+\n+[[ilm-sample-ex]]\n+==== Example\n+\n+////\n+Basic example of configuring the action in an ILM policy.\n+\n+Additional examples are optional.\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+PUT _ilm/policy/my_policy\n+{\n+  \"policy\": {\n+    \"phases\": {\n+      \"warm\": {\n+        \"actions\": {\n+          \"sample\" : {\n+            \"sample_option1\" : 2\n+          }\n+        }\n+      }\n+    }\n+  }\n+}\n+--------------------------------------------------", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7529bb656414ed76360136f16d597606152765b4"}, "originalPosition": 68}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3Mjg5MzUxOnYy", "diffSide": "RIGHT", "path": "docs/reference/ilm/actions/_ilm-action-template.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNjo0MTozNVrOGKxvkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNjo0MTozNVrOGKxvkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzk1MzkzOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            // TEST[skip: For illustrative purposes only. Contains fake actions.]", "url": "https://github.com/elastic/elasticsearch/pull/55632#discussion_r413953939", "createdAt": "2020-04-23T16:41:35Z", "author": {"login": "jrodewig"}, "path": "docs/reference/ilm/actions/_ilm-action-template.asciidoc", "diffHunk": "@@ -0,0 +1,93 @@\n+////\n+This is a template for ILM action reference documentation.\n+\n+To document a new action, copy this file, remove comments like this, and\n+replace \"sample\" with the appropriate action name.\n+\n+Ensure the new action docs are linked and included in\n+docs/reference/ilm/actions.asciidoc\n+////\n+\n+[role=\"xpack\"]\n+[[ilm-sample]]\n+=== Sample\n+\n+Phases allowed: hot, warm, cold, delete.\n+\n+////\n+INTRO\n+Include a brief, 1-2 sentence description.\n+////\n+\n+Does a cool thing. \n+\n+[[ilm-sample-options]]\n+==== Options\n+\n+////\n+Definition list of the options that can be specified for the action:\n+\n+If there are no options:\n+\n+None.\n+////\n+\n+`sample_option1`::\n+(Optional, integer)\n+Number of something.\n+\n+`sample_option2`::\n+(Required, string)\n+Name of something.\n+\n+[[ilm-sample-ex]]\n+==== Example\n+\n+////\n+Basic example of configuring the action in an ILM policy.\n+\n+Additional examples are optional.\n+////\n+\n+[source,console]\n+--------------------------------------------------\n+PUT _ilm/policy/my_policy\n+{\n+  \"policy\": {\n+    \"phases\": {\n+      \"warm\": {\n+        \"actions\": {\n+          \"sample\" : {\n+            \"sample_option1\" : 2\n+          }\n+        }\n+      }\n+    }\n+  }\n+}\n+--------------------------------------------------\n+\n+[[ilm-sample2-ex]]\n+===== Describe example\n+\n+The sample action in the following policy does something interesting. \n+\n+[source,console]\n+--------------------------------------------------\n+PUT _ilm/policy/my_policy\n+{\n+  \"policy\": {\n+    \"phases\": {\n+      \"warm\": {\n+        \"actions\": {\n+          \"sample\" : {\n+            \"sample_option1\" : \"100\"\n+            \"sample_option2\" : \"interesting\"\n+          }\n+        }\n+      }\n+    }\n+  }\n+}\n+--------------------------------------------------\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7529bb656414ed76360136f16d597606152765b4"}, "originalPosition": 93}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2671, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}