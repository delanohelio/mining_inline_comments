{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5MzM3OTI1", "number": 51715, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo0MToxNVrODcQYyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo0MzowOVrODcQbcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwOTU1MjEwOnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/XPackSettings.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo0MToxNVrOFkNZvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxNTozNjowNVrOFlYqRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxMjYzOA==", "bodyText": "This setting already exists in EqlPlugin. Strange that it didn't fail in testing.", "url": "https://github.com/elastic/elasticsearch/pull/51715#discussion_r373512638", "createdAt": "2020-01-31T14:41:15Z", "author": {"login": "imotov"}, "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/XPackSettings.java", "diffHunk": "@@ -124,6 +124,9 @@ private XPackSettings() {\n     public static final Setting<Boolean> FIPS_MODE_ENABLED =\n         Setting.boolSetting(\"xpack.security.fips_mode.enabled\", false, Property.NodeScope);\n \n+    /** Setting for enabling or disabling eql. Defaults to true. */\n+    public static final Setting<Boolean> EQL_ENABLED = Setting.boolSetting(\"xpack.eql.enabled\", true, Setting.Property.NodeScope);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b55dc6f0434c1687896a3470a20b5abb2ff75543"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDc0MDU0OQ==", "bodyText": "@imotov should this setting only exist in EqlPlugin for the moment, and when EQL it's ready to go, move the setting to XPackSettings?", "url": "https://github.com/elastic/elasticsearch/pull/51715#discussion_r374740549", "createdAt": "2020-02-04T15:28:08Z", "author": {"login": "astefan"}, "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/XPackSettings.java", "diffHunk": "@@ -124,6 +124,9 @@ private XPackSettings() {\n     public static final Setting<Boolean> FIPS_MODE_ENABLED =\n         Setting.boolSetting(\"xpack.security.fips_mode.enabled\", false, Property.NodeScope);\n \n+    /** Setting for enabling or disabling eql. Defaults to true. */\n+    public static final Setting<Boolean> EQL_ENABLED = Setting.boolSetting(\"xpack.eql.enabled\", true, Setting.Property.NodeScope);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxMjYzOA=="}, "originalCommit": {"oid": "b55dc6f0434c1687896a3470a20b5abb2ff75543"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDc0NTY2OQ==", "bodyText": "I think the placement of this setting is not as important as having it in one place only and disabling completely in non-snapshot builds. I don't see any issues with moving it in XPackSettings as long as we disable it there for non-snapshot builds.", "url": "https://github.com/elastic/elasticsearch/pull/51715#discussion_r374745669", "createdAt": "2020-02-04T15:36:05Z", "author": {"login": "imotov"}, "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/XPackSettings.java", "diffHunk": "@@ -124,6 +124,9 @@ private XPackSettings() {\n     public static final Setting<Boolean> FIPS_MODE_ENABLED =\n         Setting.boolSetting(\"xpack.security.fips_mode.enabled\", false, Property.NodeScope);\n \n+    /** Setting for enabling or disabling eql. Defaults to true. */\n+    public static final Setting<Boolean> EQL_ENABLED = Setting.boolSetting(\"xpack.eql.enabled\", true, Setting.Property.NodeScope);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxMjYzOA=="}, "originalCommit": {"oid": "b55dc6f0434c1687896a3470a20b5abb2ff75543"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwOTU1ODg5OnYy", "diffSide": "RIGHT", "path": "docs/reference/rest-api/info.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo0MzowOVrOFkNdwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxODoxMToxOFrOFleLtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxMzY2NQ==", "bodyText": "That will probably fail in release build, where we disable EQL", "url": "https://github.com/elastic/elasticsearch/pull/51715#discussion_r373513665", "createdAt": "2020-01-31T14:43:09Z", "author": {"login": "imotov"}, "path": "docs/reference/rest-api/info.asciidoc", "diffHunk": "@@ -119,6 +119,10 @@ Example response:\n          \"available\" : true,\n          \"enabled\" : true\n       },\n+      \"eql\" : {\n+         \"available\" : true,\n+         \"enabled\" : true\n+      },", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b55dc6f0434c1687896a3470a20b5abb2ff75543"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDgzNjE0OA==", "bodyText": "That fails in non-snapshot build with the following error:\norg.elasticsearch.smoketest.DocsClientYamlTestSuiteIT > test {yaml=reference/rest-api/info/line_45} FAILED\n    java.lang.AssertionError: Failure at [reference/rest-api/info:16]: $body didn't match expected value:\n                             $body: \n                               build: \n                                  date: same [2020-02-04T18:01:06.694307Z]\n                                  hash: same [12b24bfa57ae3b282427298cffc735ab9fe5868f]\n                            features: \n                             analytics: \n                               available: same [true]\n                                 enabled: same [true]\n                                   ccr: \n                               available: same [true]\n                                 enabled: same [true]\n                                enrich: \n                               available: same [true]\n                                 enabled: same [true]\n                                   eql: \n                               available: same [true]\n                                 enabled: expected Boolean [true] but was Boolean [false]\n                             flattened: \n                               available: same [true]\n                                 enabled: same [true]\n                        frozen_indices: \n                               available: same [true]\n                                 enabled: same [true]\n                                 graph: \n                               available: same [true]\n                                 enabled: same [true]\n                                   ilm: \n                               available: same [true]\n                                 enabled: same [true]\n                              logstash: \n                               available: same [true]\n                                 enabled: same [true]\n                                    ml: \n                               available: same [true]\n                                 enabled: same [true]\n                            monitoring: \n                               available: same [true]\n                                 enabled: same [true]\n                                rollup: \n                               available: same [true]\n                                 enabled: same [true]\n                              security: \n                               available: same [true]\n                                 enabled: same [false]\n                                   slm: \n                               available: same [true]\n                                 enabled: same [true]\n                               spatial: \n                               available: same [true]\n                                 enabled: same [true]\n                                   sql: \n                               available: same [true]\n                                 enabled: same [true]\n                             transform: \n                               available: same [true]\n                                 enabled: same [true]\n                               vectors: \n                               available: same [true]\n                                 enabled: same [true]\n                           voting_only: \n                               available: same [true]\n                                 enabled: same [true]\n                               watcher: \n                               available: same [true]\n                                 enabled: same [true]\n                             license: \n                 expiry_date_in_millis: same [1583431616962]\n                                  mode: same [trial]\n                                status: same [active]\n                                  type: same [trial]\n                                   uid: same [14927092-6926-43a8-84b9-af6fd185696f]\n                             tagline: same [You know, for X]\n        at __randomizedtesting.SeedInfo.seed([31BF956B0BB813AA:B9EBAAB1A5447E52]:0)\n        at org.elasticsearch.test.rest.yaml.ESClientYamlSuiteTestCase.executeSection(ESClientYamlSuiteTestCase.java:405)\n        at org.elasticsearch.test.rest.yaml.ESClientYamlSuiteTestCase.test(ESClientYamlSuiteTestCase.java:382)\n        at jdk.internal.reflect.GeneratedMethodAccessor11.invoke(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1750)\n        at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:938)\n        at com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:974)\n        at com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:988)\n        at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n        at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:49)\n        at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\n        at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)\n        at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\n        at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\n        at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n        at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)\n        at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:817)\n        at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:468)\n        at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:947)\n        at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:832)\n        at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:883)\n        at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:894)\n        at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\n        at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n        at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:41)\n        at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\n        at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\n        at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n        at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n        at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53)\n        at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\n        at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\n        at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54)\n        at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n        at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)\n        at java.base/java.lang.Thread.run(Thread.java:834)", "url": "https://github.com/elastic/elasticsearch/pull/51715#discussion_r374836148", "createdAt": "2020-02-04T18:11:18Z", "author": {"login": "imotov"}, "path": "docs/reference/rest-api/info.asciidoc", "diffHunk": "@@ -119,6 +119,10 @@ Example response:\n          \"available\" : true,\n          \"enabled\" : true\n       },\n+      \"eql\" : {\n+         \"available\" : true,\n+         \"enabled\" : true\n+      },", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxMzY2NQ=="}, "originalCommit": {"oid": "b55dc6f0434c1687896a3470a20b5abb2ff75543"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 161, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}