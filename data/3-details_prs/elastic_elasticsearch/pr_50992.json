{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyNzM2Mjc1", "number": 50992, "title": "Cleanup default values source type", "bodyText": "This is a follow up PR to #49943 to make defaultValuesSourceType abstract.  There's a few TODOs here for aggs that are defaulting to bytes when they probably shouldn't be, which is exactly what we wanted to find by making this abstract.  I'm working on some tests for those cases, but this PR isn't any worse than what we have in the feature branch now.", "createdAt": "2020-01-14T16:48:37Z", "url": "https://github.com/elastic/elasticsearch/pull/50992", "merged": true, "mergeCommit": {"oid": "e0d4e8fb5ea275b735062699852df1210e58ec70"}, "closed": true, "closedAt": "2020-01-21T18:17:31Z", "author": {"login": "not-napoleon"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6TC4mgH2gAyMzYyNzM2Mjc1OjY2YzRmNDdlYTZkZjhhOTk2NTRiNWJhYWI4OWYzZGM3OTZlOWZkODc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb8klG9AFqTM0NjA1NzI5MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "66c4f47ea6df8a99654b5baab89f3dc796e9fd87", "author": {"user": {"login": "not-napoleon", "name": "Mark Tozzi"}}, "url": "https://github.com/elastic/elasticsearch/commit/66c4f47ea6df8a99654b5baab89f3dc796e9fd87", "committedDate": "2020-01-14T15:53:53Z", "message": "Remove unused script param from defaultValuesSourceType"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69f9018b6769abc513c40a23d69a9f4f568c22a4", "author": {"user": {"login": "not-napoleon", "name": "Mark Tozzi"}}, "url": "https://github.com/elastic/elasticsearch/commit/69f9018b6769abc513c40a23d69a9f4f568c22a4", "committedDate": "2020-01-14T16:17:16Z", "message": "Make defaultValuesSourceType abstract"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89268d21830b8dfbc9fcacf0aa2abb0bc8f3417f", "author": {"user": {"login": "not-napoleon", "name": "Mark Tozzi"}}, "url": "https://github.com/elastic/elasticsearch/commit/89268d21830b8dfbc9fcacf0aa2abb0bc8f3417f", "committedDate": "2020-01-14T17:26:37Z", "message": "missed a couple"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc6da9596eabdcdaa960bee7dbcbbd96bd7ea455", "author": {"user": {"login": "not-napoleon", "name": "Mark Tozzi"}}, "url": "https://github.com/elastic/elasticsearch/commit/dc6da9596eabdcdaa960bee7dbcbbd96bd7ea455", "committedDate": "2020-01-15T21:40:04Z", "message": "hopefully the last hidden VSAB subclass"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1942c69f8ed008dc708d51474b51b3bc9c1278b9", "author": {"user": {"login": "not-napoleon", "name": "Mark Tozzi"}}, "url": "https://github.com/elastic/elasticsearch/commit/1942c69f8ed008dc708d51474b51b3bc9c1278b9", "committedDate": "2020-01-16T15:05:38Z", "message": "Merge branch 'feature/extensible-values-source' into cleanup-defaultValuesSourceType"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aef4888656f66f4b3a4dee8f5ac77ac636de0d42", "author": {"user": {"login": "not-napoleon", "name": "Mark Tozzi"}}, "url": "https://github.com/elastic/elasticsearch/commit/aef4888656f66f4b3a4dee8f5ac77ac636de0d42", "committedDate": "2020-01-16T15:54:28Z", "message": "Merge branch 'feature/extensible-values-source' into cleanup-defaultValuesSourceType"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ed260a5698857129c2bffa36c18782d048086a5", "author": {"user": {"login": "not-napoleon", "name": "Mark Tozzi"}}, "url": "https://github.com/elastic/elasticsearch/commit/3ed260a5698857129c2bffa36c18782d048086a5", "committedDate": "2020-01-16T16:14:06Z", "message": "Correct default type for GeoGrid aggs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d776feef3c4ccfb497cb9fbf73a0009153b670f", "author": {"user": {"login": "not-napoleon", "name": "Mark Tozzi"}}, "url": "https://github.com/elastic/elasticsearch/commit/4d776feef3c4ccfb497cb9fbf73a0009153b670f", "committedDate": "2020-01-16T20:21:33Z", "message": "fix checkstyle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2MDU3Mjkw", "url": "https://github.com/elastic/elasticsearch/pull/50992#pullrequestreview-346057290", "createdAt": "2020-01-21T17:26:25Z", "commit": {"oid": "4d776feef3c4ccfb497cb9fbf73a0009153b670f"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxNzoyNjoyNVrOFgCdTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxNzoyNjoyNVrOFgCdTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTEzOTAyMw==", "bodyText": "++", "url": "https://github.com/elastic/elasticsearch/pull/50992#discussion_r369139023", "createdAt": "2020-01-21T17:26:25Z", "author": {"login": "polyfractal"}, "path": "server/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/AutoDateHistogramAggregationBuilder.java", "diffHunk": "@@ -149,6 +151,12 @@ protected AutoDateHistogramAggregationBuilder(AutoDateHistogramAggregationBuilde\n         this.minimumIntervalExpression = clone.minimumIntervalExpression;\n     }\n \n+    @Override\n+    protected ValuesSourceType defaultValueSourceType() {\n+        // TODO: This should probably be DATE, but we're not failing tests with BYTES, so needs more tests?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d776feef3c4ccfb497cb9fbf73a0009153b670f"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3070, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}