{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY2MDgyMjE0", "number": 60959, "title": "Search fix: query_string regex searches not working on wildcard fields", "bodyText": "Additional tests to follow - just checking this change doesn\u2019t break existing tests here.\nI have BWC concerns re forced user choices of analyzer.\nCloses #60957", "createdAt": "2020-08-11T12:47:03Z", "url": "https://github.com/elastic/elasticsearch/pull/60959", "merged": true, "mergeCommit": {"oid": "4bb5b36376e27a661ca9a0bc80bf313aa738241e"}, "closed": true, "closedAt": "2020-08-12T08:46:47Z", "author": {"login": "markharwood"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc92L6igH2gAyNDY2MDgyMjE0OmZjZWRmN2Y2ZmVhNzRkZjljNDNiNTNhMTkxYmE0ZDg5ZDZiZGRiMzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc99Wn9gH2gAyNDY2MDgyMjE0OjgxMTFmYjA5ZDIxMzFhYjFjMjRkNWUwODMxMmU1ODBjODYwNzUzYzc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fcedf7f6fea74df9c43b53a191ba4d89d6bddb32", "author": {"user": {"login": "markharwood", "name": null}}, "url": "https://github.com/elastic/elasticsearch/commit/fcedf7f6fea74df9c43b53a191ba4d89d6bddb32", "committedDate": "2020-08-11T12:43:21Z", "message": "First cut to fix wildcard field +query_string issue.\n\nTests to follow - just checking this doesn\u2019t break things here\n\nCloses #60957"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f395d9f4c550c52d8950489080b0a1098636a80a", "author": {"user": {"login": "markharwood", "name": null}}, "url": "https://github.com/elastic/elasticsearch/commit/f395d9f4c550c52d8950489080b0a1098636a80a", "committedDate": "2020-08-11T13:33:56Z", "message": "Use super() impl rather than fieldType if forceAnalyzer set (for BWC purposes)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0356d35ce39dea4b6d5ef181668041ab82c5141a", "author": {"user": {"login": "markharwood", "name": null}}, "url": "https://github.com/elastic/elasticsearch/commit/0356d35ce39dea4b6d5ef181668041ab82c5141a", "committedDate": "2020-08-11T14:31:26Z", "message": "Added tests for query_string"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3327a5e810bd9776f3165dd2d3113d591e42103", "author": {"user": {"login": "markharwood", "name": null}}, "url": "https://github.com/elastic/elasticsearch/commit/d3327a5e810bd9776f3165dd2d3113d591e42103", "committedDate": "2020-08-11T15:08:28Z", "message": "Temp change to force error so I can get a \u201creproduce with\u201d example"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cadd3ddc66bfee1310eb7281f5d96101a883fb84", "author": {"user": {"login": "markharwood", "name": null}}, "url": "https://github.com/elastic/elasticsearch/commit/cadd3ddc66bfee1310eb7281f5d96101a883fb84", "committedDate": "2020-08-11T16:13:50Z", "message": "Added extra conditions to the case where we don\u2019t delegate wildcard query construction to the underlying field type"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1MzA4NDk4", "url": "https://github.com/elastic/elasticsearch/pull/60959#pullrequestreview-465308498", "createdAt": "2020-08-11T18:08:23Z", "commit": {"oid": "cadd3ddc66bfee1310eb7281f5d96101a883fb84"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxODowODoyM1rOG_DZJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxODowODoyM1rOG_DZJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODc2OTA2MA==", "bodyText": "that's a prefix query ?", "url": "https://github.com/elastic/elasticsearch/pull/60959#discussion_r468769060", "createdAt": "2020-08-11T18:08:23Z", "author": {"login": "jimczi"}, "path": "x-pack/plugin/src/test/resources/rest-api-spec/test/wildcard/10_wildcard_basic.yml", "diffHunk": "@@ -158,6 +158,33 @@ setup:\n \n   - match: {hits.total.value: 1}\n \n+---\n+\"Query_string wildcard query\":\n+  - do:\n+      search:\n+        body:\n+          track_total_hits: true\n+          query:\n+            query_string:\n+              query: \"hello*\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cadd3ddc66bfee1310eb7281f5d96101a883fb84"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8111fb09d2131ab1c24d5e08312e580c860753c7", "author": {"user": {"login": "markharwood", "name": null}}, "url": "https://github.com/elastic/elasticsearch/commit/8111fb09d2131ab1c24d5e08312e580c860753c7", "committedDate": "2020-08-11T21:04:23Z", "message": "Add query_string wildcard query test, rename prefix test"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3394, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}