{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk5ODM2MzI4", "number": 54836, "title": "SQL: drop BASE TABLE type in favour for just TABLE", "bodyText": "This PR drops the table type BASE TABLE for indices and replaces\nall occurrences with just TABLE, since his type is widely-used and\nfriendlier to the client applications that query for certain table types\nin their discovery mode.\nThe TABLE type is also explicitly mentioned by the JDBC and ODBC\nstandards and although other data source-specific types are permitted,\nolder apps will not work well with them.", "createdAt": "2020-04-06T18:47:46Z", "url": "https://github.com/elastic/elasticsearch/pull/54836", "merged": true, "mergeCommit": {"oid": "70241b52697ac2cf71004040042123c1ec050299"}, "closed": true, "closedAt": "2020-04-08T12:46:08Z", "author": {"login": "bpintea"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcVDKK9gH2gAyMzk5ODM2MzI4OjQ5NDhkMWMwNjFiZDVlN2YzMTgyMGY0NzJlOWUyMzQyYzI4ODE4YjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVjReBgH2gAyMzk5ODM2MzI4OmJjMTcyMTM2YTIyOTBlMWMzOGM5YmRkM2ViMzI1NGVlMWRkZDJmYTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4948d1c061bd5e7f31820f472e9e2342c28818b2", "author": {"user": {"login": "bpintea", "name": "Bogdan Pintea"}}, "url": "https://github.com/elastic/elasticsearch/commit/4948d1c061bd5e7f31820f472e9e2342c28818b2", "committedDate": "2020-04-06T18:39:19Z", "message": "Drop BASE TABLE type in favour for just TABLE\n\nThis commit drops the table type 'BASE TABLE' and replaces all\noccurences with just 'TABLE', since his type is wider-used and\nfriendlier to the client applications that query for certain table types\nin their discovery mode.\n\nThe 'TABLE' type is also explicitely mentioned by the JDBC and ODBC\nstandards and although other data source-specific types are permitted,\nolder apps will not work well with them."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ca6a526dc4a62aa1ce4fcadef237639b493bd26", "author": {"user": {"login": "bpintea", "name": "Bogdan Pintea"}}, "url": "https://github.com/elastic/elasticsearch/commit/5ca6a526dc4a62aa1ce4fcadef237639b493bd26", "committedDate": "2020-04-07T11:54:14Z", "message": "Update tests, rename BASE TABLE to TABLE\n\nUpdate tests, rename 'BASE TABLE' to 'TABLE'."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93444344b1749221ff7c244320421371090f7980", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/93444344b1749221ff7c244320421371090f7980", "committedDate": "2020-04-07T12:53:11Z", "message": "Merge branch 'master' into enh/drop_base_table"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2e4481bb7788ce9034b46a431af4d6978ab4ea4", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/e2e4481bb7788ce9034b46a431af4d6978ab4ea4", "committedDate": "2020-04-07T13:15:15Z", "message": "Merge branch 'master' into enh/drop_base_table"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05af426ae6e597eab20203a6bd052b80f8781459", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/05af426ae6e597eab20203a6bd052b80f8781459", "committedDate": "2020-04-07T16:08:26Z", "message": "Merge branch 'master' into enh/drop_base_table"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5MzY5NjEx", "url": "https://github.com/elastic/elasticsearch/pull/54836#pullrequestreview-389369611", "createdAt": "2020-04-07T18:11:51Z", "commit": {"oid": "05af426ae6e597eab20203a6bd052b80f8781459"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5NDY0MjQ0", "url": "https://github.com/elastic/elasticsearch/pull/54836#pullrequestreview-389464244", "createdAt": "2020-04-07T20:26:45Z", "commit": {"oid": "05af426ae6e597eab20203a6bd052b80f8781459"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMDoyNjo0NVrOGCUx8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QyMDoyNzo0OVrOGCU0eQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA5MDgwMw==", "bodyText": "Since these constants are used somewhere else, it makes sense to move them outside IndexType and reuse them inside the enum declaration as well.", "url": "https://github.com/elastic/elasticsearch/pull/54836#discussion_r405090803", "createdAt": "2020-04-07T20:26:45Z", "author": {"login": "costin"}, "path": "x-pack/plugin/ql/src/main/java/org/elasticsearch/xpack/ql/index/IndexResolver.java", "diffHunk": "@@ -76,13 +76,12 @@\n public class IndexResolver {\n \n     public enum IndexType {\n-        STANDARD_INDEX(\"BASE TABLE\", \"INDEX\"),\n+        STANDARD_INDEX(\"TABLE\", \"INDEX\"),\n         ALIAS(\"VIEW\", \"ALIAS\"),\n-        FROZEN_INDEX(\"BASE TABLE\", \"FROZEN INDEX\"),\n+        FROZEN_INDEX(\"TABLE\", \"FROZEN INDEX\"),\n         // value for user types unrecognized\n         UNKNOWN(\"UNKNOWN\", \"UNKNOWN\");\n \n-        public static final String SQL_BASE_TABLE = \"BASE TABLE\";\n         public static final String SQL_TABLE = \"TABLE\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "05af426ae6e597eab20203a6bd052b80f8781459"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA5MTQ0OQ==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/elastic/elasticsearch/pull/54836#discussion_r405091449", "createdAt": "2020-04-07T20:27:49Z", "author": {"login": "costin"}, "path": "x-pack/plugin/sql/src/test/java/org/elasticsearch/xpack/sql/plan/logical/command/sys/SysTablesTests.java", "diffHunk": "@@ -105,9 +107,9 @@ public void testSysTablesCatalogNoTypes() throws Exception {\n     public void testSysTablesTypesEnumerationWoString() throws Exception {\n         executeCommand(\"SYS TABLES CATALOG LIKE '' LIKE '' \", r -> {\n             assertEquals(2, r.size());\n-            assertEquals(\"BASE TABLE\", r.column(3));\n+            assertEquals(SQL_TABLE, r.column(3));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "05af426ae6e597eab20203a6bd052b80f8781459"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5NTc5OTU5", "url": "https://github.com/elastic/elasticsearch/pull/54836#pullrequestreview-389579959", "createdAt": "2020-04-08T00:32:49Z", "commit": {"oid": "05af426ae6e597eab20203a6bd052b80f8781459"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc172136a2290e1c38c9bdd3eb3254ee1ddd2fa0", "author": {"user": {"login": "bpintea", "name": "Bogdan Pintea"}}, "url": "https://github.com/elastic/elasticsearch/commit/bc172136a2290e1c38c9bdd3eb3254ee1ddd2fa0", "committedDate": "2020-04-08T08:04:15Z", "message": "Refactor table type constants out of IndexType\n\nMove SQL_TABLE/_ALIAS out of IndexType, so that they can also be used in\nthat Enum definition."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3703, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}