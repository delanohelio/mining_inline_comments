{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1OTQ4NjQ4", "number": 66168, "title": "Count the number of shadowing runtime fields in telemetry", "bodyText": "With this commit we report how many runtime fields are defined with the\nsame name as fields configured in properties, presumably as hotfixes\nfor incorrectly mapped fields.", "createdAt": "2020-12-10T13:46:51Z", "url": "https://github.com/elastic/elasticsearch/pull/66168", "merged": true, "mergeCommit": {"oid": "1283a340bc0d217fcc602dddbf22df4d1cd9128d"}, "closed": true, "closedAt": "2020-12-14T10:14:35Z", "author": {"login": "romseygeek"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkzltDgH2gAyNTM1OTQ4NjQ4OmFiNDQwZjVhOTFiNTE3ZTgxYjJhZWE5YTE0OTJkMDI5MzllODk1OGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdk09HyAFqTU0OTMwNTE1MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ab440f5a91b517e81b2aea9a1492d02939e8958c", "author": {"user": {"login": "romseygeek", "name": "Alan Woodward"}}, "url": "https://github.com/elastic/elasticsearch/commit/ab440f5a91b517e81b2aea9a1492d02939e8958c", "committedDate": "2020-12-10T13:44:51Z", "message": "Count the number of shadowing runtime fields in telemetry"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e0939bbd2ab8c824165c6492c00ac8276d42a58", "author": {"user": {"login": "romseygeek", "name": "Alan Woodward"}}, "url": "https://github.com/elastic/elasticsearch/commit/4e0939bbd2ab8c824165c6492c00ac8276d42a58", "committedDate": "2020-12-10T13:45:15Z", "message": "Merge remote-tracking branch 'origin/master' into runtime/shadowed-telemetry"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MjIzNDMy", "url": "https://github.com/elastic/elasticsearch/pull/66168#pullrequestreview-549223432", "createdAt": "2020-12-10T14:01:12Z", "commit": {"oid": "ab440f5a91b517e81b2aea9a1492d02939e8958c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNDowMToxMlrOIDKq4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNDowMToxMlrOIDKq4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDE5MTQ1OA==", "bodyText": "I think that you need to handle multi-fields as well? Is that it?", "url": "https://github.com/elastic/elasticsearch/pull/66168#discussion_r540191458", "createdAt": "2020-12-10T14:01:12Z", "author": {"login": "javanna"}, "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/runtimefields/RuntimeFieldsFeatureSetUsage.java", "diffHunk": "@@ -89,6 +98,21 @@ public static RuntimeFieldsFeatureSetUsage fromMetadata(Iterable<IndexMetadata>\n         return new RuntimeFieldsFeatureSetUsage(Collections.unmodifiableList(runtimeFieldStats));\n     }\n \n+    @SuppressWarnings(\"unchecked\")\n+    private static void findFieldNames(Map<String, Object> mappings, String path, Consumer<String> fieldNameConsumer) {\n+        Object o = mappings.get(\"properties\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab440f5a91b517e81b2aea9a1492d02939e8958c"}, "originalPosition": 47}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MjQ5MDkx", "url": "https://github.com/elastic/elasticsearch/pull/66168#pullrequestreview-549249091", "createdAt": "2020-12-10T14:27:35Z", "commit": {"oid": "ab440f5a91b517e81b2aea9a1492d02939e8958c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNDoyNzozNVrOIDL5GQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNDoyNzozNVrOIDL5GQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDIxMTQ4MQ==", "bodyText": "is it shadowed, or is it shadowing, or? :)", "url": "https://github.com/elastic/elasticsearch/pull/66168#discussion_r540211481", "createdAt": "2020-12-10T14:27:35Z", "author": {"login": "javanna"}, "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/runtimefields/RuntimeFieldsFeatureSetUsage.java", "diffHunk": "@@ -217,6 +244,7 @@ public XContentBuilder toXContent(XContentBuilder builder, Params params) throws\n             builder.field(\"count\", count);\n             builder.field(\"index_count\", indexCount);\n             builder.field(\"scriptless_count\", scriptLessCount);\n+            builder.field(\"shadowed_count\", shadowedCount);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab440f5a91b517e81b2aea9a1492d02939e8958c"}, "originalPosition": 91}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d8b2453a0bd970dfbf9e2a1658f174bdb961f2f", "author": {"user": {"login": "romseygeek", "name": "Alan Woodward"}}, "url": "https://github.com/elastic/elasticsearch/commit/4d8b2453a0bd970dfbf9e2a1658f174bdb961f2f", "committedDate": "2020-12-10T15:03:28Z", "message": "deef"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MzA1MTUx", "url": "https://github.com/elastic/elasticsearch/pull/66168#pullrequestreview-549305151", "createdAt": "2020-12-10T15:20:20Z", "commit": {"oid": "4d8b2453a0bd970dfbf9e2a1658f174bdb961f2f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4715, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}