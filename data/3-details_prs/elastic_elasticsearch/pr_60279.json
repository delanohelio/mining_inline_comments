{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3NzUwODgx", "number": 60279, "title": "Unmute kerberos tests for jdk 15 and mute for jdk 8u262", "bodyText": "The JDK bug (https://bugs.openjdk.java.net/browse/JDK-8246193) is fixed since b26.\nThe tests can be unmuted since we are already using b33. However the same bug is now\naffecting jdk 8u262, which is the base for current Zulu jdk 8.48. This PR mute the tests\nfor this specific jdk version.\nRelates: #56507", "createdAt": "2020-07-28T11:34:59Z", "url": "https://github.com/elastic/elasticsearch/pull/60279", "merged": true, "mergeCommit": {"oid": "3a0e7f42949ac1d2cc3a278019a623bfc7a10637"}, "closed": true, "closedAt": "2020-07-29T02:57:01Z", "author": {"login": "ywangd"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5UjCMAH2gAyNDU3NzUwODgxOmJiMmU1Y2QzYzM5MDM1NDExZmFiZDM2MmY3YmVjMDA5MTdmMzJlYzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5hU3AgH2gAyNDU3NzUwODgxOjljMDJiOTU1ZDc3NDMxYjMwZjNmMmUwYTkyYWNhYzkzZWE0MTVhZmM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bb2e5cd3c39035411fabd362f7bec00917f32ec2", "author": {"user": {"login": "ywangd", "name": "Yang Wang"}}, "url": "https://github.com/elastic/elasticsearch/commit/bb2e5cd3c39035411fabd362f7bec00917f32ec2", "committedDate": "2020-07-28T11:16:08Z", "message": "Unmute kerberos tests for jdk 15 (#60260)\n\nThe JDK bug (https://bugs.openjdk.java.net/browse/JDK-8246193) is fixed since b26. \r\nThe tests can be unmuted since we are already using b33.\r\n\r\nRelates: #56507"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b770dc3d268d2900502c8c33048bdab09684d07", "author": {"user": {"login": "ywangd", "name": "Yang Wang"}}, "url": "https://github.com/elastic/elasticsearch/commit/0b770dc3d268d2900502c8c33048bdab09684d07", "committedDate": "2020-07-28T11:24:52Z", "message": "Mute kerberos tests for jdk 8u262 due to jdk bug"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MTQ1Nzk5", "url": "https://github.com/elastic/elasticsearch/pull/60279#pullrequestreview-457145799", "createdAt": "2020-07-29T02:06:38Z", "commit": {"oid": "0b770dc3d268d2900502c8c33048bdab09684d07"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwMjowNjozOFrOG4l7zA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwMjowNzoxMVrOG4l8bg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTk5NDk1Ng==", "bodyText": "I'd prefer this comment was more descriptive so that readers don't have to follow the URL.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                // Skip tests for jdk 8u262 https://github.com/elastic/elasticsearch/issues/56507\n          \n          \n            \n                //  JDK 8u262 shipped with a NPE in Kerberos code, see https://github.com/elastic/elasticsearch/issues/56507", "url": "https://github.com/elastic/elasticsearch/pull/60279#discussion_r461994956", "createdAt": "2020-07-29T02:06:38Z", "author": {"login": "tvernum"}, "path": "x-pack/qa/kerberos-tests/src/test/java/org/elasticsearch/xpack/security/authc/kerberos/KerberosAuthenticationIT.java", "diffHunk": "@@ -90,13 +89,13 @@ public void setupRoleMapping() throws IOException {\n         assertOK(response);\n     }\n \n-    @AwaitsFix(bugUrl = \"https://github.com/elastic/elasticsearch/issues/56507\")\n-    public void testSuppressedOnJDK15() {\n-        assumeTrue(\"AwaitsFix on JDK15\", JavaVersion.current().compareTo(JavaVersion.parse(\"15\")) < 0);\n+    // Skip tests for jdk 8u262 https://github.com/elastic/elasticsearch/issues/56507", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b770dc3d268d2900502c8c33048bdab09684d07"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTk5NTExOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    assumeFalse(\"AwaitsFix on JDK 8u262\", \"1.8.0_262\".equals(System.getProperty(\"java.version\")));\n          \n          \n            \n                    assumeFalse(\"Cannot run on JDK 8u262\", \"1.8.0_262\".equals(System.getProperty(\"java.version\")));", "url": "https://github.com/elastic/elasticsearch/pull/60279#discussion_r461995118", "createdAt": "2020-07-29T02:07:11Z", "author": {"login": "tvernum"}, "path": "x-pack/qa/kerberos-tests/src/test/java/org/elasticsearch/xpack/security/authc/kerberos/KerberosAuthenticationIT.java", "diffHunk": "@@ -90,13 +89,13 @@ public void setupRoleMapping() throws IOException {\n         assertOK(response);\n     }\n \n-    @AwaitsFix(bugUrl = \"https://github.com/elastic/elasticsearch/issues/56507\")\n-    public void testSuppressedOnJDK15() {\n-        assumeTrue(\"AwaitsFix on JDK15\", JavaVersion.current().compareTo(JavaVersion.parse(\"15\")) < 0);\n+    // Skip tests for jdk 8u262 https://github.com/elastic/elasticsearch/issues/56507\n+    public void testSuppressedOnJDK8u262() {\n+        assumeFalse(\"AwaitsFix on JDK 8u262\", \"1.8.0_262\".equals(System.getProperty(\"java.version\")));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b770dc3d268d2900502c8c33048bdab09684d07"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c02b955d77431b30f3f2e0a92acac93ea415afc", "author": {"user": {"login": "ywangd", "name": "Yang Wang"}}, "url": "https://github.com/elastic/elasticsearch/commit/9c02b955d77431b30f3f2e0a92acac93ea415afc", "committedDate": "2020-07-29T02:09:25Z", "message": "Apply suggestions from code review\n\nCo-authored-by: Tim Vernum <tim@adjective.org>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3683, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}