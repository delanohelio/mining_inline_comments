{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4NzM5MDU5", "number": 54769, "title": "Add generic Set support to streams", "bodyText": "This commit adds support for reading and writing sets as generic values\nin stream input and output.\ncloses #54708", "createdAt": "2020-04-04T20:31:04Z", "url": "https://github.com/elastic/elasticsearch/pull/54769", "merged": true, "mergeCommit": {"oid": "1e53497f4ea543929dfecd4764b1cd112f8f3128"}, "closed": true, "closedAt": "2020-04-13T17:30:30Z", "author": {"login": "rjernst"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcUbhabAH2gAyMzk4NzM5MDU5OmI4N2UxOTcxZTdjZmE5NjQ2ZjMwZDU1MmE2ZmE1NzEzMmJiZjI5OTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVq_fNgH2gAyMzk4NzM5MDU5OmM5YjNjZGRlYzY1OWFmZjRhM2E2MDE2N2NhYmJjOWVkMzdiZTdiNDY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b87e1971e7cfa9646f30d552a6fa57132bbf2992", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/b87e1971e7cfa9646f30d552a6fa57132bbf2992", "committedDate": "2020-04-04T20:28:30Z", "message": "Add generic Set support to streams\n\nThis commit adds support for reading and writing sets as generic values\nin stream input and output.\n\ncloses #54708"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1525dcf8a7d479dfbc27ba95c729201d7af344db", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/1525dcf8a7d479dfbc27ba95c729201d7af344db", "committedDate": "2020-04-04T20:31:17Z", "message": "remove leftover"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca91285afffd0cba791c88a8e6cab6d431c5df48", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/ca91285afffd0cba791c88a8e6cab6d431c5df48", "committedDate": "2020-04-04T23:41:26Z", "message": "remove import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3ODE4NzQ3", "url": "https://github.com/elastic/elasticsearch/pull/54769#pullrequestreview-387818747", "createdAt": "2020-04-05T13:25:32Z", "commit": {"oid": "ca91285afffd0cba791c88a8e6cab6d431c5df48"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQxMzoyNTozMlrOGA__kw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQxMzoyNTozMlrOGA__kw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzcwMTY1MQ==", "bodyText": "This import still trips checkstyle", "url": "https://github.com/elastic/elasticsearch/pull/54769#discussion_r403701651", "createdAt": "2020-04-05T13:25:32Z", "author": {"login": "original-brownbear"}, "path": "server/src/test/java/org/elasticsearch/common/io/stream/StreamTests.java", "diffHunk": "@@ -38,11 +39,13 @@\n import java.util.Collections;\n import java.util.HashSet;\n import java.util.LinkedHashMap;\n+import java.util.LinkedHashSet;\n import java.util.List;\n import java.util.Locale;\n import java.util.Map;\n import java.util.Objects;\n import java.util.Set;\n+import java.util.function.Consumer;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca91285afffd0cba791c88a8e6cab6d431c5df48"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3ODE5MDM1", "url": "https://github.com/elastic/elasticsearch/pull/54769#pullrequestreview-387819035", "createdAt": "2020-04-05T13:28:44Z", "commit": {"oid": "ca91285afffd0cba791c88a8e6cab6d431c5df48"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQxMzoyODo0NVrOGBAA6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQxMzoyODo0NVrOGBAA6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzcwMTk5NQ==", "bodyText": "I think you can just make this readSet(StreamInput::readGenericValue)?", "url": "https://github.com/elastic/elasticsearch/pull/54769#discussion_r403701995", "createdAt": "2020-04-05T13:28:45Z", "author": {"login": "original-brownbear"}, "path": "server/src/main/java/org/elasticsearch/common/io/stream/StreamInput.java", "diffHunk": "@@ -735,6 +736,10 @@ public Object readGenericValue() throws IOException {\n                 return readGeoPoint();\n             case 23:\n                 return readZonedDateTime();\n+            case 24:\n+                return readCollection(StreamInput::readGenericValue, LinkedHashSet::new, Collections.emptySet());\n+            case 25:\n+                return readCollection(StreamInput::readGenericValue, HashSet::new, Collections.emptySet());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca91285afffd0cba791c88a8e6cab6d431c5df48"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c503db0170913c7fafae03633d0ab1570f7ba424", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/c503db0170913c7fafae03633d0ab1570f7ba424", "committedDate": "2020-04-08T06:22:41Z", "message": "Merge branch 'master' into stream_set"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "473988fbd4ffa0a08b8ae75116a50aadee9c926b", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/473988fbd4ffa0a08b8ae75116a50aadee9c926b", "committedDate": "2020-04-08T06:25:05Z", "message": "fix checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9b3cddec659aff4a3a60167cabbc9ed37be7b46", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/c9b3cddec659aff4a3a60167cabbc9ed37be7b46", "committedDate": "2020-04-08T17:03:51Z", "message": "Merge branch 'master' into stream_set"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3843, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}