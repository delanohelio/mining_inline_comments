{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ1NDUyOTk2", "number": 59154, "title": "[DOCS] Clarify atomic change for alias swap", "bodyText": "Index alias update API documentation describes index removal action as atomic. It is atomic in the sense of cluster state change but doesn't guarantee in-flight or queued tasks won't attempt to access removed index resulting in a failure (reject). This small edit clarifies that.", "createdAt": "2020-07-07T14:31:18Z", "url": "https://github.com/elastic/elasticsearch/pull/59154", "merged": true, "mergeCommit": {"oid": "bee43b9fd05e64518e46877d4d1f33bf090b1685"}, "closed": true, "closedAt": "2020-07-07T15:38:54Z", "author": {"login": "gbanasiak"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcympl1gH2gAyNDQ1NDUyOTk2OjFmNDY2MWEyMGVlNzczOTEzNTVhYmIzMGQwOWQ1M2M1NWY4MGNhOTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcym-vWgFqTQ0Mzk2NTgyOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1f4661a20ee77391355abb30d09d53c55f80ca94", "author": {"user": {"login": "gbanasiak", "name": "Grzegorz Banasiak"}}, "url": "https://github.com/elastic/elasticsearch/commit/1f4661a20ee77391355abb30d09d53c55f80ca94", "committedDate": "2020-07-07T14:24:07Z", "message": "Clarify atomic change\n\nSmall edit highlighting the fact that atomic cluster state change does not guarantee lack of errors for in-flight requests."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzOTYyOTc2", "url": "https://github.com/elastic/elasticsearch/pull/59154#pullrequestreview-443962976", "createdAt": "2020-07-07T14:44:26Z", "commit": {"oid": "1f4661a20ee77391355abb30d09d53c55f80ca94"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxNDo0NDoyN1rOGuB-jA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxNDo0NDoyN1rOGuB-jA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDkyMDA3Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            steps it is entirely possible for the in-flight or queued requests to fail\n          \n          \n            \n            due to non-existing index transiently.\n          \n          \n            \n            steps, it is possible for the in-flight or queued requests to fail\n          \n          \n            \n            due to a temporarily non-existent index.", "url": "https://github.com/elastic/elasticsearch/pull/59154#discussion_r450920076", "createdAt": "2020-07-07T14:44:27Z", "author": {"login": "jrodewig"}, "path": "docs/reference/indices/aliases.asciidoc", "diffHunk": "@@ -263,8 +263,10 @@ indices that match this pattern are added/removed.\n It is an error to index to an alias which points to more than one index.\n \n It is also possible to swap an index with an alias in one, atomic operation.\n-This means there will be no period of downtime where the alias points to no\n-index.\n+This means there will be no point in time where the alias points to no\n+index in the cluster state. However, as indexing and searches involve multiple\n+steps it is entirely possible for the in-flight or queued requests to fail\n+due to non-existing index transiently.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f4661a20ee77391355abb30d09d53c55f80ca94"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e615b25aa724b008a8fe53805460de7f796941b", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/4e615b25aa724b008a8fe53805460de7f796941b", "committedDate": "2020-07-07T14:46:32Z", "message": "Update docs/reference/indices/aliases.asciidoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzOTY1ODI4", "url": "https://github.com/elastic/elasticsearch/pull/59154#pullrequestreview-443965828", "createdAt": "2020-07-07T14:47:13Z", "commit": {"oid": "4e615b25aa724b008a8fe53805460de7f796941b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2188, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}