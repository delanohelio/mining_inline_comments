{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5NTc2Njg4", "number": 63449, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwNTozOTo0M1rOEtyK3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxOTozODozMlrOEuJP0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2NDQzMzU4OnYy", "diffSide": "RIGHT", "path": "x-pack/docs/en/rest-api/security/grant-api-keys.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwNTozOTo0M1rOHhxf4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxOTozOTo0NVrOHiXLfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTE3NjAzMg==", "bodyText": "I think this description could be misinterpreted. It's based on the description on Create API key but the addtion of on behalf of another user means it might be parsed in 2 ways:\n\nOn behalf of another user, Create an API key that allows access without requiring basic authentication (the correct understanding)\nCreate an API key for access on behalf of another user, without requiring the user's authentication (incorrect).\n\nI can't find a substantially better description without dropping some part. I wonder whether we can avoid describing \"API keys\" here, and  and just say:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Creates an API key on behalf of another user for access without requiring basic\n          \n          \n            \n            authentication.\n          \n          \n            \n            Creates an API key on behalf of another user.", "url": "https://github.com/elastic/elasticsearch/pull/63449#discussion_r505176032", "createdAt": "2020-10-15T05:39:43Z", "author": {"login": "tvernum"}, "path": "x-pack/docs/en/rest-api/security/grant-api-keys.asciidoc", "diffHunk": "@@ -0,0 +1,133 @@\n+[role=\"xpack\"]\n+[[security-api-grant-api-key]]\n+=== Grant API key API\n+++++\n+<titleabbrev>Grant API keys</titleabbrev>\n+++++\n+\n+Creates an API key on behalf of another user for access without requiring basic\n+authentication.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1bebf25971eeb77b7063478b4b959b451354c625"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTc5MzQwNg==", "bodyText": "Thanks, I've made that change in the JSON file too", "url": "https://github.com/elastic/elasticsearch/pull/63449#discussion_r505793406", "createdAt": "2020-10-15T19:39:45Z", "author": {"login": "lcawl"}, "path": "x-pack/docs/en/rest-api/security/grant-api-keys.asciidoc", "diffHunk": "@@ -0,0 +1,133 @@\n+[role=\"xpack\"]\n+[[security-api-grant-api-key]]\n+=== Grant API key API\n+++++\n+<titleabbrev>Grant API keys</titleabbrev>\n+++++\n+\n+Creates an API key on behalf of another user for access without requiring basic\n+authentication.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTE3NjAzMg=="}, "originalCommit": {"oid": "1bebf25971eeb77b7063478b4b959b451354c625"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2NDQ1MTA4OnYy", "diffSide": "RIGHT", "path": "x-pack/docs/en/rest-api/security/grant-api-keys.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwNTo0NzozM1rOHhxptw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwNTo0NzozM1rOHhxptw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTE3ODU1MQ==", "bodyText": "I think we should have an explanation of why this API exists & why someone would use it .\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \n          \n          \n            \n            \n          \n          \n            \n            The caller must have authentication credentials (either an access token, or a username and password) for the user on whose behalf the API key will be created. It is not possible to use this API to create an API key without that user's credentials.\n          \n          \n            \n            \n          \n          \n            \n            This API is intended be used by applications that need to create and manage API keys for end users, but cannot guarantee that those users have permission to create API keys on their own behalf (see <<security-api-create-api-key-prereqs>>).", "url": "https://github.com/elastic/elasticsearch/pull/63449#discussion_r505178551", "createdAt": "2020-10-15T05:47:33Z", "author": {"login": "tvernum"}, "path": "x-pack/docs/en/rest-api/security/grant-api-keys.asciidoc", "diffHunk": "@@ -0,0 +1,133 @@\n+[role=\"xpack\"]\n+[[security-api-grant-api-key]]\n+=== Grant API key API\n+++++\n+<titleabbrev>Grant API keys</titleabbrev>\n+++++\n+\n+Creates an API key on behalf of another user for access without requiring basic\n+authentication.\n+\n+[[security-api-grant-api-key-request]]\n+==== {api-request-title}\n+\n+`POST /_security/api_key/grant`\n+\n+[[security-api-grant-api-key-prereqs]]\n+==== {api-prereq-title}\n+\n+* To use this API, you must have the `grant_api_key` cluster privilege.\n+\n+[[security-api-grant-api-key-desc]]\n+==== {api-description-title}\n+\n+This API is similar to <<security-api-create-api-key>>, however it creates the\n+API key for a user that is different than the user that runs the API.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1bebf25971eeb77b7063478b4b959b451354c625"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2ODIxNDU5OnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/src/test/resources/rest-api-spec/api/security.grant_api_key.json", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxOTozODozMlrOHiXJKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxOTozODozMlrOHiXJKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTc5MjgxMA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  \"description\":\"Creates an API key on behalf of another user for access without requiring basic authentication.\"\n          \n          \n            \n                  \"description\":\"Creates an API key on behalf of another user.\"", "url": "https://github.com/elastic/elasticsearch/pull/63449#discussion_r505792810", "createdAt": "2020-10-15T19:38:32Z", "author": {"login": "lcawl"}, "path": "x-pack/plugin/src/test/resources/rest-api-spec/api/security.grant_api_key.json", "diffHunk": "@@ -0,0 +1,34 @@\n+{\n+  \"security.grant_api_key\":{\n+    \"documentation\":{\n+      \"url\":\"https://www.elastic.co/guide/en/elasticsearch/reference/current/security-api-grant-api-key.html\",\n+      \"description\":\"Creates an API key on behalf of another user for access without requiring basic authentication.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb011c0949227a2b67280cb39915e43ad5e70277"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3032, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}