{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk1Mjg2NTgx", "number": 54389, "title": "Add error message in JSON response", "bodyText": "When the SAML authentication is not successful, we return a SAML\nResponse with a status that indicates a failure. This commit adds\nan error message in the REST API response along with the SAML\nResponse XML string so that the caller of the API can identify\nthat this is an unsuccessful response without needing to parse the\nXML.", "createdAt": "2020-03-29T17:18:14Z", "url": "https://github.com/elastic/elasticsearch/pull/54389", "merged": true, "mergeCommit": {"oid": "d556f8792c95f8a1eadb6c8487879ff17484d630"}, "closed": true, "closedAt": "2020-04-01T09:03:37Z", "author": {"login": "jkakavas"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcSc5UUAH2gAyMzk1Mjg2NTgxOjcwZjgxYjE5MmE1N2NjYjk5MGZhN2U3YjUzOGJlYzM1Mjg5M2I5ZjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTPx-GAFqTM4NTI1NDI3Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "70f81b192a57ccb990fa7e7b538bec352893b9f0", "author": {"user": {"login": "jkakavas", "name": "Ioannis Kakavas"}}, "url": "https://github.com/elastic/elasticsearch/commit/70f81b192a57ccb990fa7e7b538bec352893b9f0", "committedDate": "2020-03-29T16:56:40Z", "message": "Add error message in JSON response\n\nWhen the SAML authentication is not successful, we return a SAML\nRespnonse with a status that indicates a failure. This commit adds\nan error message in the REST API response along with the SAML\nResponse XML string so that the caller of the API can identify\nthat this is an unsuccessful response without needing to parse the\nXML."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50e3bc12eb63302b4ace65b26fad2f7816a40807", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/50e3bc12eb63302b4ace65b26fad2f7816a40807", "committedDate": "2020-03-29T18:39:59Z", "message": "Merge branch 'master' into return-error-init"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ef140b2b5b49abcc919f6e9c1723d1eaca0e758", "author": {"user": {"login": "jkakavas", "name": "Ioannis Kakavas"}}, "url": "https://github.com/elastic/elasticsearch/commit/5ef140b2b5b49abcc919f6e9c1723d1eaca0e758", "committedDate": "2020-03-30T17:24:47Z", "message": "Merge remote-tracking branch 'origin/master' into return-error-init"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0Mzk5NDYy", "url": "https://github.com/elastic/elasticsearch/pull/54389#pullrequestreview-384399462", "createdAt": "2020-03-31T04:47:12Z", "commit": {"oid": "50e3bc12eb63302b4ace65b26fad2f7816a40807"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwNDo0NzoxMlrOF-FLOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwNDo0NzoxMlrOF-FLOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDY0MDgyNA==", "bodyText": "Is the contract that if error is null then it's a success and if it's non-null then there's a failure?", "url": "https://github.com/elastic/elasticsearch/pull/54389#discussion_r400640824", "createdAt": "2020-03-31T04:47:12Z", "author": {"login": "tvernum"}, "path": "x-pack/plugin/identity-provider/src/main/java/org/elasticsearch/xpack/idp/saml/rest/action/RestSamlInitiateSingleSignOnAction.java", "diffHunk": "@@ -65,6 +65,7 @@ public RestResponse buildResponse(SamlInitiateSingleSignOnResponse response, XCo\n                         builder.startObject();\n                         builder.field(\"post_url\", response.getPostUrl());\n                         builder.field(\"saml_response\", response.getSamlResponse());\n+                        builder.field(\"error\", response.getError());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50e3bc12eb63302b4ace65b26fad2f7816a40807"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "595e3ae20893172914b391f3d657a8b5ac309807", "author": {"user": {"login": "jkakavas", "name": "Ioannis Kakavas"}}, "url": "https://github.com/elastic/elasticsearch/commit/595e3ae20893172914b391f3d657a8b5ac309807", "committedDate": "2020-03-31T09:32:27Z", "message": "Clean up SamlAuthenticationState and add the SAML StatusCode in the\nresponse"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a133dba930febf801c48fa353598c6955932590", "author": {"user": {"login": "jkakavas", "name": "Ioannis Kakavas"}}, "url": "https://github.com/elastic/elasticsearch/commit/1a133dba930febf801c48fa353598c6955932590", "committedDate": "2020-03-31T09:46:28Z", "message": "Merge remote-tracking branch 'origin/master' into return-error-init"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ba17aee250094425993af176db1e15900debd67", "author": {"user": {"login": "jkakavas", "name": "Ioannis Kakavas"}}, "url": "https://github.com/elastic/elasticsearch/commit/8ba17aee250094425993af176db1e15900debd67", "committedDate": "2020-03-31T09:46:48Z", "message": "Merge branch 'return-error-init' of github.com:jkakavas/elasticsearch into return-error-init"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91f6d298c0228575800a67e270ec74482c944a73", "author": {"user": {"login": "jkakavas", "name": "Ioannis Kakavas"}}, "url": "https://github.com/elastic/elasticsearch/commit/91f6d298c0228575800a67e270ec74482c944a73", "committedDate": "2020-03-31T10:12:43Z", "message": "fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be784af3d1953b3da5a3c232881f2cb505f4b137", "author": {"user": {"login": "jkakavas", "name": "Ioannis Kakavas"}}, "url": "https://github.com/elastic/elasticsearch/commit/be784af3d1953b3da5a3c232881f2cb505f4b137", "committedDate": "2020-03-31T10:47:09Z", "message": "actually fix that test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1MjU0Mjcz", "url": "https://github.com/elastic/elasticsearch/pull/54389#pullrequestreview-385254273", "createdAt": "2020-04-01T04:13:48Z", "commit": {"oid": "be784af3d1953b3da5a3c232881f2cb505f4b137"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1480, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}