{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwMTU1MjY3", "number": 55862, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxODo0MzowOFrOD5Hd6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxODo1MzowNVrOD5HsBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMjE3NzcwOnYy", "diffSide": "RIGHT", "path": "docs/reference/migration/migrate_8_0/cluster.asciidoc", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxODo0MzowOFrOGQNTCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxODo0MzowOFrOGQNTCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY0ODI2NA==", "bodyText": "I'd be inclined to flip this around to lead with what you should do:\n\nUse POST /_cluster/voting_config_exclusions?node_ids=... and specify the nodes to exclude instead of using a node filter.  Submitting requests to the  /_cluster/voting_config_exclusions/{node_filter}` endpoint will throw an error.", "url": "https://github.com/elastic/elasticsearch/pull/55862#discussion_r419648264", "createdAt": "2020-05-04T18:43:08Z", "author": {"login": "debadair"}, "path": "docs/reference/migration/migrate_8_0/cluster.asciidoc", "diffHunk": "@@ -9,10 +9,17 @@\n \n // end::notable-breaking-changes[]\n \n-[float]\n-==== Change to API to add voting configuration exclusions\n-\n+.The voting configuration exclusions API endpoint has changed.\n+[%collapsible]\n+====\n+*Details* +\n The `POST /_cluster/voting_config_exclusions/{node_filter}` API has been\n removed in favour of `POST /_cluster/voting_config_exclusions?node_names=...`\n and `POST /_cluster/voting_config_exclusions?node_ids=...` which allow you to\n specify the names or IDs of the nodes to exclude.\n+\n+*Impact* +\n+To avoid errors, discontinue use of the `POST\n+/_cluster/voting_config_exclusions/{node_filter}` API endpoint.\n+Use `POST /_cluster/voting_config_exclusions?node_ids=...` instead.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03de18e53a3d72926b8e1a92d1c4f154b0403138"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMjIwNzA1OnYy", "diffSide": "RIGHT", "path": "docs/reference/migration/migrate_8_0/discovery.asciidoc", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxODo1MTowOFrOGQNlIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxODo1MTowOFrOGQNlIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY1Mjg5Ng==", "bodyText": "\"unset and discontinue use\" seems redundant. Again, I'd lead with the recommended action, something like:\n\nDiscontinue using the discovery.zen settings. Specifying these settings in elasticsearch.yml will result in an error on startup.", "url": "https://github.com/elastic/elasticsearch/pull/55862#discussion_r419652896", "createdAt": "2020-05-04T18:51:08Z", "author": {"login": "debadair"}, "path": "docs/reference/migration/migrate_8_0/discovery.asciidoc", "diffHunk": "@@ -37,3 +39,7 @@ are no longer supported. In particular, this includes:\n - `discovery.zen.master_election.wait_for_joins_timeout`\n - `discovery.zen.master_election.ignore_non_master_pings`\n - `discovery.zen.publish.max_pending_cluster_states`\n+\n+*Impact* +\n+To avoid errors, unset and discontinue use of any `discovery.zen.` settings.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03de18e53a3d72926b8e1a92d1c4f154b0403138"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxMjIxMzgxOnYy", "diffSide": "RIGHT", "path": "docs/reference/migration/migrate_8_0/mappings.asciidoc", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxODo1MzowNVrOGQNpfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxODo1MzowNVrOGQNpfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY1NDAxNA==", "bodyText": "As above (if you go that route):\n\nUse a maximum of 10 completion contexts in a completion field. Specifying more than 10 completions context will throw an error.\n\nSame applies to the other impact sections.", "url": "https://github.com/elastic/elasticsearch/pull/55862#discussion_r419654014", "createdAt": "2020-05-04T18:53:05Z", "author": {"login": "debadair"}, "path": "docs/reference/migration/migrate_8_0/mappings.asciidoc", "diffHunk": "@@ -9,33 +9,56 @@\n \n // end::notable-breaking-changes[]\n \n-[float]\n-==== Limiting the number of completion contexts\n \n+.The maximum number of completion contexts per field is now 10.\n+[%collapsible]\n+====\n+*Details* +\n The number of completion contexts within a single completion field\n has been limited to 10.\n \n-[float]\n-==== Removal of types\n+*Impact* +\n+To avoid errors, use no more than 10 completion contexts within a single", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03de18e53a3d72926b8e1a92d1c4f154b0403138"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2648, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}