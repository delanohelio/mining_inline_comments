{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAwOTA1MTA4", "number": 54960, "title": "SQL: Implement DATETIME_PARSE function for parsing strings", "bodyText": "Implement DATETIME_PARSE(<datetime_str>, <pattern_str>) function\nwhich allows to parse a datetime string according to the specified\npattern into a datetime object. The patterns allowed are those of\njava.time.format.DateTimeFormatter.\nRelates to #53714", "createdAt": "2020-04-08T15:03:14Z", "url": "https://github.com/elastic/elasticsearch/pull/54960", "merged": true, "mergeCommit": {"oid": "3febcd8f3cdf9fdda4faf01f23a5f139f38b57e0"}, "closed": true, "closedAt": "2020-04-09T22:19:31Z", "author": {"login": "matriv"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcVpNv6gH2gAyNDAwOTA1MTA4OjY1MmI4MzczYzJlYTZjZDJjMTA5OGYxNWQ2MTI2YjE0ODM4NzdhNGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcWC3mCgH2gAyNDAwOTA1MTA4OmEyYTQ0YjM3N2U3NDA1M2I5MzM3NzM5YTU5M2U3N2EzZjQwZWVhNDU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "652b8373c2ea6cd2c1098f15d6126b1483877a4c", "author": {"user": {"login": "matriv", "name": "Marios Trivyzas"}}, "url": "https://github.com/elastic/elasticsearch/commit/652b8373c2ea6cd2c1098f15d6126b1483877a4c", "committedDate": "2020-04-08T14:59:37Z", "message": "SQL: Implement DATETIME_PARSE function for parsing strings\n\nImplement DATETIME_PARSE(<datetime_str>, <pattern_str>) function\nwhich allows to parse a datetime string accroding to the specified\npattern into a datetime object. The patterns allowed as those of\n`java.time.format.DateTimeFormatter`.\n\nRelates to #53714"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a705c562d094b93506d421cfcd72716872ca43a", "author": {"user": {"login": "matriv", "name": "Marios Trivyzas"}}, "url": "https://github.com/elastic/elasticsearch/commit/8a705c562d094b93506d421cfcd72716872ca43a", "committedDate": "2020-04-08T15:04:55Z", "message": "fix formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf4f08d89548cf37f86bd10c17294c91076072a8", "author": {"user": {"login": "matriv", "name": "Marios Trivyzas"}}, "url": "https://github.com/elastic/elasticsearch/commit/cf4f08d89548cf37f86bd10c17294c91076072a8", "committedDate": "2020-04-08T15:10:49Z", "message": "Merge remote-tracking branch 'upstream/master' into impl-parse-date"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1b0f8c9e3ce7dbcfd02431022a6ba69414d6467", "author": {"user": {"login": "matriv", "name": "Marios Trivyzas"}}, "url": "https://github.com/elastic/elasticsearch/commit/e1b0f8c9e3ce7dbcfd02431022a6ba69414d6467", "committedDate": "2020-04-08T17:06:11Z", "message": "remove unused function"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwNjg1NTI3", "url": "https://github.com/elastic/elasticsearch/pull/54960#pullrequestreview-390685527", "createdAt": "2020-04-09T10:47:04Z", "commit": {"oid": "e1b0f8c9e3ce7dbcfd02431022a6ba69414d6467"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwOTk3OTY3", "url": "https://github.com/elastic/elasticsearch/pull/54960#pullrequestreview-390997967", "createdAt": "2020-04-09T17:38:35Z", "commit": {"oid": "e1b0f8c9e3ce7dbcfd02431022a6ba69414d6467"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNzozODozNVrOGDitoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxODowMTozNVrOGDjhIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjM2NzY0OQ==", "bodyText": "If not timezone doesn't sound natural", "url": "https://github.com/elastic/elasticsearch/pull/54960#discussion_r406367649", "createdAt": "2020-04-09T17:38:35Z", "author": {"login": "astefan"}, "path": "docs/reference/sql/functions/date-time.asciidoc", "diffHunk": "@@ -446,6 +446,46 @@ include-tagged::{sql-specs}/docs/docs.csv-spec[dateTimeFormatDateTime]\n include-tagged::{sql-specs}/docs/docs.csv-spec[dateTimeFormatTime]\n --------------------------------------------------\n \n+[[sql-functions-datetime-datetimeparse]]\n+==== `DATETIME_PARSE`\n+\n+.Synopsis:\n+[source, sql]\n+--------------------------------------------------\n+DATETIME_PARSE(\n+    string_exp, <1>\n+    string_exp) <2>\n+--------------------------------------------------\n+\n+*Input*:\n+\n+<1> datetime expression as a string\n+<2> parsing pattern\n+\n+*Output*: datetime\n+\n+*Description*: Returns a datetime by parsing the 1st argument using the format specified in the 2nd argument. The parsing\n+format pattern used is the one from\n+https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/time/format/DateTimeFormatter.html[`java.time.format.DateTimeFormatter`].\n+If any of the two arguments is `null` or an empty string `null` is returned.\n+\n+[NOTE]\n+If not timezone is specified in the datetime string expression and the parsing pattern `UTC` will be used.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1b0f8c9e3ce7dbcfd02431022a6ba69414d6467"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjM2Nzk5Mg==", "bodyText": "If..... and the parsing pattern.... sounds strange as well.", "url": "https://github.com/elastic/elasticsearch/pull/54960#discussion_r406367992", "createdAt": "2020-04-09T17:39:13Z", "author": {"login": "astefan"}, "path": "docs/reference/sql/functions/date-time.asciidoc", "diffHunk": "@@ -446,6 +446,46 @@ include-tagged::{sql-specs}/docs/docs.csv-spec[dateTimeFormatDateTime]\n include-tagged::{sql-specs}/docs/docs.csv-spec[dateTimeFormatTime]\n --------------------------------------------------\n \n+[[sql-functions-datetime-datetimeparse]]\n+==== `DATETIME_PARSE`\n+\n+.Synopsis:\n+[source, sql]\n+--------------------------------------------------\n+DATETIME_PARSE(\n+    string_exp, <1>\n+    string_exp) <2>\n+--------------------------------------------------\n+\n+*Input*:\n+\n+<1> datetime expression as a string\n+<2> parsing pattern\n+\n+*Output*: datetime\n+\n+*Description*: Returns a datetime by parsing the 1st argument using the format specified in the 2nd argument. The parsing\n+format pattern used is the one from\n+https://docs.oracle.com/en/java/javase/14/docs/api/java.base/java/time/format/DateTimeFormatter.html[`java.time.format.DateTimeFormatter`].\n+If any of the two arguments is `null` or an empty string `null` is returned.\n+\n+[NOTE]\n+If not timezone is specified in the datetime string expression and the parsing pattern `UTC` will be used.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjM2NzY0OQ=="}, "originalCommit": {"oid": "e1b0f8c9e3ce7dbcfd02431022a6ba69414d6467"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjM4MDgzNA==", "bodyText": "Minor: testDatTime... -> testDateTime....", "url": "https://github.com/elastic/elasticsearch/pull/54960#discussion_r406380834", "createdAt": "2020-04-09T18:01:35Z", "author": {"login": "astefan"}, "path": "x-pack/plugin/sql/src/test/java/org/elasticsearch/xpack/sql/analysis/analyzer/VerifierErrorMessagesTests.java", "diffHunk": "@@ -337,6 +337,22 @@ public void testDateTimeFormatInvalidArgs() {\n         );\n     }\n \n+    public void testDatTimeParseValidArgs() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1b0f8c9e3ce7dbcfd02431022a6ba69414d6467"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fe4f6bb3e657c21caf3aff0d6d5d401833e7b5f", "author": {"user": {"login": "matriv", "name": "Marios Trivyzas"}}, "url": "https://github.com/elastic/elasticsearch/commit/7fe4f6bb3e657c21caf3aff0d6d5d401833e7b5f", "committedDate": "2020-04-09T20:52:51Z", "message": "address comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2a44b377e74053b9337739a593e77a3f40eea45", "author": {"user": {"login": "matriv", "name": "Marios Trivyzas"}}, "url": "https://github.com/elastic/elasticsearch/commit/a2a44b377e74053b9337739a593e77a3f40eea45", "committedDate": "2020-04-09T20:52:57Z", "message": "Merge remote-tracking branch 'upstream/master' into impl-parse-date"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3601, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}