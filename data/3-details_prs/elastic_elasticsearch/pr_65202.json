{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzMjAyMTAx", "number": 65202, "title": "Fix Allocation `include` Filter Docs", "bodyText": "Fix documentation to match actual behavior of include type filters.\nCloses #65113", "createdAt": "2020-11-18T13:53:54Z", "url": "https://github.com/elastic/elasticsearch/pull/65202", "merged": true, "mergeCommit": {"oid": "cb657c2629d7c445c0fb3f4f757093ac52dd6d67"}, "closed": true, "closedAt": "2020-11-18T17:00:00Z", "author": {"login": "original-brownbear"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdduVNHAH2gAyNTIzMjAyMTAxOmUzMTM1MGEyY2Q4MTNlMWFmMzdhMDZlMWI1NjAxM2UwZmU3MTJjNTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABddw93DgFqTUzMzY0NDA5NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e31350a2cd813e1af37a06e1b56013e0fe712c59", "author": {"user": {"login": "original-brownbear", "name": "Armin Braun"}}, "url": "https://github.com/elastic/elasticsearch/commit/e31350a2cd813e1af37a06e1b56013e0fe712c59", "committedDate": "2020-11-18T13:39:50Z", "message": "Fix Allocation `include` Docs\n\nFix documentation to match actual behavior of `include` type filters.\n\nCloses #65113"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8344bdb79103c58ec1529b92033bbec16bd98283", "author": {"user": {"login": "original-brownbear", "name": "Armin Braun"}}, "url": "https://github.com/elastic/elasticsearch/commit/8344bdb79103c58ec1529b92033bbec16bd98283", "committedDate": "2020-11-18T13:52:53Z", "message": "fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNDc1MTE5", "url": "https://github.com/elastic/elasticsearch/pull/65202#pullrequestreview-533475119", "createdAt": "2020-11-18T14:03:10Z", "commit": {"oid": "8344bdb79103c58ec1529b92033bbec16bd98283"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNTI0Njcx", "url": "https://github.com/elastic/elasticsearch/pull/65202#pullrequestreview-533524671", "createdAt": "2020-11-18T14:52:13Z", "commit": {"oid": "8344bdb79103c58ec1529b92033bbec16bd98283"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNDo1MjoxM1rOH1xhhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNDo1MjoxM1rOH1xhhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjE0Nzk3Mg==", "bodyText": "Thanks @DaveCTurner makes sense about removing the second example. Maybe just replace this section by:\nIf you specify multiple filters the following conditions must be satisfied simultaneously by a node in order for shards to be relocated to it:\n\n* If any `require` type conditions are specified, all of them must be satisfied\n* If any `exclude` type conditions are specified, none of them may be satisfied\n* If any `include` type conditions are specified, at least one of them must be satisfied\n\n\nthen, make the example below use require as I did here and revert the addition I made to include to keep it short and sweet?", "url": "https://github.com/elastic/elasticsearch/pull/65202#discussion_r526147972", "createdAt": "2020-11-18T14:52:13Z", "author": {"login": "original-brownbear"}, "path": "docs/reference/index-modules/allocation/filtering.asciidoc", "diffHunk": "@@ -59,8 +59,21 @@ PUT test/_settings\n ------------------------\n // TEST[s/^/PUT test\\n/]\n \n-If you specify multiple filters, all conditions must be satisfied for shards to\n-be relocated. For example, to move the `test` index to `big` nodes in `rack1`,\n+If you specify multiple filters, all `require` type conditions and no `exclude` type conditions must be satisfied for shards to", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8344bdb79103c58ec1529b92033bbec16bd98283"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5cca1cb1b73029c654e0f635f6bf323a4526b9cf", "author": {"user": {"login": "original-brownbear", "name": "Armin Braun"}}, "url": "https://github.com/elastic/elasticsearch/commit/5cca1cb1b73029c654e0f635f6bf323a4526b9cf", "committedDate": "2020-11-18T14:52:33Z", "message": "adjusted"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "926c3fabeb5bca67e597a27a91f69d2b4585e668", "author": {"user": {"login": "original-brownbear", "name": "Armin Braun"}}, "url": "https://github.com/elastic/elasticsearch/commit/926c3fabeb5bca67e597a27a91f69d2b4585e668", "committedDate": "2020-11-18T15:35:32Z", "message": "Merge remote-tracking branch 'elastic/master' into 65113"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee8c2b26487d60f156c548a33ca78f7ae7e387a4", "author": {"user": {"login": "original-brownbear", "name": "Armin Braun"}}, "url": "https://github.com/elastic/elasticsearch/commit/ee8c2b26487d60f156c548a33ca78f7ae7e387a4", "committedDate": "2020-11-18T15:39:59Z", "message": "wrap to 80 chars"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNjQ0MDk1", "url": "https://github.com/elastic/elasticsearch/pull/65202#pullrequestreview-533644095", "createdAt": "2020-11-18T16:44:03Z", "commit": {"oid": "ee8c2b26487d60f156c548a33ca78f7ae7e387a4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 837, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}