{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1NzI2Mjc5", "number": 53300, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxOTowMzowOVrODmbPUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxOTowMzowOVrODmbPUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNjE4NzcxOnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/core/src/main/resources/org/elasticsearch/xpack/core/ml/config_index_mappings.json", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxOTowMzowOVrOFz1jxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxMzozOTozMlrOF0PJqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTg5OTIwNw==", "bodyText": "You can remove the old mapping can't you? If a new index is being created we don't need it and if the index is an old one then the mapping is already present?", "url": "https://github.com/elastic/elasticsearch/pull/53300#discussion_r389899207", "createdAt": "2020-03-09T19:03:09Z", "author": {"login": "davidkyle"}, "path": "x-pack/plugin/core/src/main/resources/org/elasticsearch/xpack/core/ml/config_index_mappings.json", "diffHunk": "@@ -43,6 +43,9 @@\n               \"maximum_number_trees\" : {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bb6d7d3256d93f87cd4835482d5ef53c8a10ad9"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDE0NzAxNw==", "bodyText": "It makes sense to keep it around for the possibility that a job using the old field name is cloned into a new index.", "url": "https://github.com/elastic/elasticsearch/pull/53300#discussion_r390147017", "createdAt": "2020-03-10T08:10:32Z", "author": {"login": "dimitris-athanasiou"}, "path": "x-pack/plugin/core/src/main/resources/org/elasticsearch/xpack/core/ml/config_index_mappings.json", "diffHunk": "@@ -43,6 +43,9 @@\n               \"maximum_number_trees\" : {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTg5OTIwNw=="}, "originalCommit": {"oid": "0bb6d7d3256d93f87cd4835482d5ef53c8a10ad9"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDIyNjQ0NA==", "bodyText": "Won't the cloned job go through the process of renaming the field automatically as it is parsed and written out to xcontent.\nI think what is bothering me is that we can't comment on the mapping json // remove this at 9.0.0 and no doubt it will be forgotten about. If it can go now I'd rather we get rid of it.\nCan you at least try removing the old mapping and see if the upgrade tests pass please", "url": "https://github.com/elastic/elasticsearch/pull/53300#discussion_r390226444", "createdAt": "2020-03-10T10:40:47Z", "author": {"login": "davidkyle"}, "path": "x-pack/plugin/core/src/main/resources/org/elasticsearch/xpack/core/ml/config_index_mappings.json", "diffHunk": "@@ -43,6 +43,9 @@\n               \"maximum_number_trees\" : {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTg5OTIwNw=="}, "originalCommit": {"oid": "0bb6d7d3256d93f87cd4835482d5ef53c8a10ad9"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDI3NTgwNQ==", "bodyText": "That's a good point. There is a test failing but I can fix the test. I'll give it a go.", "url": "https://github.com/elastic/elasticsearch/pull/53300#discussion_r390275805", "createdAt": "2020-03-10T12:23:28Z", "author": {"login": "dimitris-athanasiou"}, "path": "x-pack/plugin/core/src/main/resources/org/elasticsearch/xpack/core/ml/config_index_mappings.json", "diffHunk": "@@ -43,6 +43,9 @@\n               \"maximum_number_trees\" : {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTg5OTIwNw=="}, "originalCommit": {"oid": "0bb6d7d3256d93f87cd4835482d5ef53c8a10ad9"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDMxODUwNg==", "bodyText": "Done", "url": "https://github.com/elastic/elasticsearch/pull/53300#discussion_r390318506", "createdAt": "2020-03-10T13:39:32Z", "author": {"login": "dimitris-athanasiou"}, "path": "x-pack/plugin/core/src/main/resources/org/elasticsearch/xpack/core/ml/config_index_mappings.json", "diffHunk": "@@ -43,6 +43,9 @@\n               \"maximum_number_trees\" : {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTg5OTIwNw=="}, "originalCommit": {"oid": "0bb6d7d3256d93f87cd4835482d5ef53c8a10ad9"}, "originalPosition": 1}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3375, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}