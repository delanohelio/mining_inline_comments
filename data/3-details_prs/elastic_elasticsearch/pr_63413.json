{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5MzE3MjI5", "number": 63413, "title": "Use different G1GC options for small heaps (#59667)", "bodyText": "Our benchmarks have demonstrated that Elasticsearch performs better with\n-XX:G1HeapRegionSize=4M and -XX:G1ReservePercent=15 options for the\nsmall heap sizes. With this commit we ergonomically choose different\nG1GC options for heap sizes smaller than (not including) 8GB.\nCo-authored-by: Daniel Mitterdorfer daniel.mitterdorfer@elastic.co", "createdAt": "2020-10-07T15:00:53Z", "url": "https://github.com/elastic/elasticsearch/pull/63413", "merged": true, "mergeCommit": {"oid": "dde4695f49daf41ef44325107cc03f9ce166177f"}, "closed": true, "closedAt": "2020-10-13T15:28:39Z", "author": {"login": "ebadyano"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQOIViAH2gAyNDk5MzE3MjI5OjExODM3MjY3MWUxZTRmM2NmNjMzYjA4NzNkMzBkZDYzNGFlZWUwYmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdSIxv1gH2gAyNDk5MzE3MjI5Ojk3NTdmZmY1MTE4NzJkYWIxZDgwMjdlMjU4YzkyZjU3ZjE4NTQwOWY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "118372671e1e4f3cf633b0873d30dd634aeee0ba", "author": {"user": {"login": "ebadyano", "name": "Evgenia Badyanova"}}, "url": "https://github.com/elastic/elasticsearch/commit/118372671e1e4f3cf633b0873d30dd634aeee0ba", "committedDate": "2020-10-07T14:47:48Z", "message": "Use different G1GC options for small heaps (#59667)\n\nOur benchmarks have demonstrated that Elasticsearch performs better with\n`-XX:G1HeapRegionSize=4M` and `-XX:G1ReservePercent=15` options for the\nsmall heap sizes. With this commit we ergonomically choose different\nG1GC options for heap sizes smaller than (not including) 8GB.\n\nCo-authored-by: Daniel Mitterdorfer daniel.mitterdorfer@elastic.co\n# Conflicts:\n#\tdistribution/tools/launchers/src/main/java/org/elasticsearch/tools/launchers/JvmErgonomics.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77c7fa7e62134ab343cb4f0e6f8f00e155217b6b", "author": {"user": {"login": "ebadyano", "name": "Evgenia Badyanova"}}, "url": "https://github.com/elastic/elasticsearch/commit/77c7fa7e62134ab343cb4f0e6f8f00e155217b6b", "committedDate": "2020-10-08T13:14:31Z", "message": "Don't change G1GC options for JDK older than JDK10"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0OTQxMzYw", "url": "https://github.com/elastic/elasticsearch/pull/63413#pullrequestreview-504941360", "createdAt": "2020-10-08T16:06:11Z", "commit": {"oid": "77c7fa7e62134ab343cb4f0e6f8f00e155217b6b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0OTUyNTM4", "url": "https://github.com/elastic/elasticsearch/pull/63413#pullrequestreview-504952538", "createdAt": "2020-10-08T16:19:06Z", "commit": {"oid": "77c7fa7e62134ab343cb4f0e6f8f00e155217b6b"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNjoxOTowNlrOHemWgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNjoxOTowNlrOHemWgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg0NzY4MA==", "bodyText": "s/Elastic/Elasticsearch ?", "url": "https://github.com/elastic/elasticsearch/pull/63413#discussion_r501847680", "createdAt": "2020-10-08T16:19:06Z", "author": {"login": "dliappis"}, "path": "distribution/tools/launchers/src/main/java/org/elasticsearch/tools/launchers/JvmErgonomics.java", "diffHunk": "@@ -75,20 +75,59 @@ private JvmErgonomics() {\n \n             ergonomicChoices.add(\"-XX:MaxDirectMemorySize=\" + heapSize / 2);\n         }\n+        // Elastic supports G1GC on JDK10+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77c7fa7e62134ab343cb4f0e6f8f00e155217b6b"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9757fff511872dab1d8027e258c92f57f185409f", "author": {"user": {"login": "ebadyano", "name": "Evgenia Badyanova"}}, "url": "https://github.com/elastic/elasticsearch/commit/9757fff511872dab1d8027e258c92f57f185409f", "committedDate": "2020-10-13T13:41:27Z", "message": "Fix comment"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4164, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}