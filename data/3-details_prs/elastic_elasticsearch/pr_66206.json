{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM3MTgyMTU2", "number": 66206, "title": "Support canceling cross-clusters search requests", "bodyText": "This commit supports canceling cross-clusters search requests. Several important changes in this commit:\n\nSet the parent task for CCS search requests\nKeep track of underlying connections instead of proxy connections\nAssign the parent task for proxy requests", "createdAt": "2020-12-11T17:26:02Z", "url": "https://github.com/elastic/elasticsearch/pull/66206", "merged": true, "mergeCommit": {"oid": "273ac15af22762bc2c6cd993779d070f9ad9e26b"}, "closed": true, "closedAt": "2020-12-14T20:07:30Z", "author": {"login": "dnhatn"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdlMjTJgH2gAyNTM3MTgyMTU2OmQ0ZGY0ZGFjMTM1OWU3M2ZlYzM3YzVmNmY1YWY4OTRkMDQ3ZjQzMmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmJIseAH2gAyNTM3MTgyMTU2OjY0NmFlYWI5ZWQ1OTZlMDAzNjAxMTJiNzJlNjI4ODM5YWE5OGE0N2M=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d4df4dac1359e73fec37c5f6f5af894d047f432f", "author": {"user": {"login": "dnhatn", "name": "Nhat Nguyen"}}, "url": "https://github.com/elastic/elasticsearch/commit/d4df4dac1359e73fec37c5f6f5af894d047f432f", "committedDate": "2020-12-11T18:49:51Z", "message": "Support cancelling cross-clusters search requests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a284e0337a3ffe536c2715a3165c75a3b9a09647", "author": {"user": {"login": "dnhatn", "name": "Nhat Nguyen"}}, "url": "https://github.com/elastic/elasticsearch/commit/a284e0337a3ffe536c2715a3165c75a3b9a09647", "committedDate": "2020-12-11T18:47:35Z", "message": "stylecheck"}, "afterCommit": {"oid": "d4df4dac1359e73fec37c5f6f5af894d047f432f", "author": {"user": {"login": "dnhatn", "name": "Nhat Nguyen"}}, "url": "https://github.com/elastic/elasticsearch/commit/d4df4dac1359e73fec37c5f6f5af894d047f432f", "committedDate": "2020-12-11T18:49:51Z", "message": "Support cancelling cross-clusters search requests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxNjM3MTY3", "url": "https://github.com/elastic/elasticsearch/pull/66206#pullrequestreview-551637167", "createdAt": "2020-12-14T17:08:59Z", "commit": {"oid": "d4df4dac1359e73fec37c5f6f5af894d047f432f"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxNzowOTowMFrOIFa3Tw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxNzowOTowOVrOIFa3rw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjU1MzkzNQ==", "bodyText": "parentTaskId ?", "url": "https://github.com/elastic/elasticsearch/pull/66206#discussion_r542553935", "createdAt": "2020-12-14T17:09:00Z", "author": {"login": "jimczi"}, "path": "server/src/internalClusterTest/java/org/elasticsearch/action/search/TransportSearchIT.java", "diffHunk": "@@ -159,6 +161,7 @@ public void testLocalClusterAlias() {\n     }\n \n     public void testAbsoluteStartMillis() {\n+        TaskId takeId = new TaskId(\"node\", randomNonNegativeLong());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4df4dac1359e73fec37c5f6f5af894d047f432f"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjU1NDAzMQ==", "bodyText": "parentTaskId ?", "url": "https://github.com/elastic/elasticsearch/pull/66206#discussion_r542554031", "createdAt": "2020-12-14T17:09:09Z", "author": {"login": "jimczi"}, "path": "server/src/internalClusterTest/java/org/elasticsearch/action/search/TransportSearchIT.java", "diffHunk": "@@ -131,9 +132,10 @@ public void testLocalClusterAlias() {\n         indexRequest.setRefreshPolicy(WriteRequest.RefreshPolicy.WAIT_UNTIL);\n         IndexResponse indexResponse = client().index(indexRequest).actionGet();\n         assertEquals(RestStatus.CREATED, indexResponse.status());\n+        TaskId taskId = new TaskId(\"node\", randomNonNegativeLong());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4df4dac1359e73fec37c5f6f5af894d047f432f"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9eea5fd96adce80ab8de4aee6e06b79560c07d33", "author": {"user": {"login": "dnhatn", "name": "Nhat Nguyen"}}, "url": "https://github.com/elastic/elasticsearch/commit/9eea5fd96adce80ab8de4aee6e06b79560c07d33", "committedDate": "2020-12-14T17:24:18Z", "message": "Merge branch 'master' into cancel-css"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "646aeab9ed596e00360112b72e628839aa98a47c", "author": {"user": {"login": "dnhatn", "name": "Nhat Nguyen"}}, "url": "https://github.com/elastic/elasticsearch/commit/646aeab9ed596e00360112b72e628839aa98a47c", "committedDate": "2020-12-14T17:25:00Z", "message": "jim's comments"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4592, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}