{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAwNzQwMzk4", "number": 54941, "title": "State the option to reference templates in cluster", "bodyText": "The option to use templates already defined in the cluster is not explicitly stated in the docs, but can be found out from an error message.\n{\n  \"error\" : {\n    \"root_cause\" : [\n      {\n        \"type\" : \"x_content_parse_exception\",\n        \"reason\" : \"[7:7] [script_with_id] failed to parse field [template]\"\n      }\n    ],\n    \"type\" : \"x_content_parse_exception\",\n    \"reason\" : \"[7:7] [rank_eval] failed to parse field [templates]\",\n    \"caused_by\" : {\n      \"type\" : \"x_content_parse_exception\",\n      \"reason\" : \"[7:7] [script_with_id] failed to parse field [template]\",\n      \"caused_by\" : {\n        \"type\" : \"illegal_argument_exception\",\n        \"reason\" : \"must specify either [source] for an inline script or [id] for a stored script\"\n      }\n    }\n  },\n  \"status\" : 400\n}\n\n\n\nHave you signed the contributor license agreement?\nHave you followed the contributor guidelines?\nIf submitting code, have you built your formula locally prior to submission with gradle check?\nIf submitting code, is your pull request against master? Unless there is a good reason otherwise, we prefer pull requests against master and will backport as needed.\nIf submitting code, have you checked that your submission is for an OS and architecture that we support?\nIf you are submitting this code for a class then read our policy for that.", "createdAt": "2020-04-08T09:41:31Z", "url": "https://github.com/elastic/elasticsearch/pull/54941", "merged": true, "mergeCommit": {"oid": "4d20fde30f5758dc4f6159bc02a7ee5ca949dca1"}, "closed": true, "closedAt": "2020-12-10T14:08:44Z", "author": {"login": "sypste"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcVkpChAH2gAyNDAwNzQwMzk4OmU4MWIzMmViNjcwZWJjMTMyZjZkYTc0MmI2ZWU5ODViOTVjYzEzNTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkziPYAFqTU0OTIwNTA4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e81b32eb670ebc132f6da742b6ee985b95cc1351", "author": {"user": {"login": "sypste", "name": "Simon"}}, "url": "https://github.com/elastic/elasticsearch/commit/e81b32eb670ebc132f6da742b6ee985b95cc1351", "committedDate": "2020-04-08T09:39:54Z", "message": "State the option to reference templates in cluster\n\nThe option to use templates already defined in the cluster is not explicitly stated in the docs, but can be found out from an error message.\r\n\r\n'''{\r\n  \"error\" : {\r\n    \"root_cause\" : [\r\n      {\r\n        \"type\" : \"x_content_parse_exception\",\r\n        \"reason\" : \"[7:7] [script_with_id] failed to parse field [template]\"\r\n      }\r\n    ],\r\n    \"type\" : \"x_content_parse_exception\",\r\n    \"reason\" : \"[7:7] [rank_eval] failed to parse field [templates]\",\r\n    \"caused_by\" : {\r\n      \"type\" : \"x_content_parse_exception\",\r\n      \"reason\" : \"[7:7] [script_with_id] failed to parse field [template]\",\r\n      \"caused_by\" : {\r\n        \"type\" : \"illegal_argument_exception\",\r\n        \"reason\" : \"must specify either [source] for an inline script or [id] for a stored script\"\r\n      }\r\n    }\r\n  },\r\n  \"status\" : 400\r\n}'''"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4MzY4NzE4", "url": "https://github.com/elastic/elasticsearch/pull/54941#pullrequestreview-548368718", "createdAt": "2020-12-09T16:30:58Z", "commit": {"oid": "e81b32eb670ebc132f6da742b6ee985b95cc1351"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxNjozMDo1OFrOICd0Jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxNjozMDo1OFrOICd0Jw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTQ1NjU1MQ==", "bodyText": "May I suggest adding a link to the section in https://www.elastic.co/guide/en/elasticsearch/reference/current/search-template.html#pre-registered-templates to make it easier to look up the storage process?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            It is also possible to use templates already stored in the cluster state by referencing their id in the templates section.\n          \n          \n            \n            It is also possible to use <<pre-registered-templates,templates already stored>>  in the cluster state by referencing their id in the templates section.", "url": "https://github.com/elastic/elasticsearch/pull/54941#discussion_r539456551", "createdAt": "2020-12-09T16:30:58Z", "author": {"login": "cbuescher"}, "path": "docs/reference/search/rank-eval.asciidoc", "diffHunk": "@@ -193,6 +193,28 @@ GET /my_index/_rank_eval\n <3> a reference to a previously defined template\n <4> the parameters to use to fill the template\n \n+It is also possible to use templates already stored in the cluster state by referencing their id in the templates section.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e81b32eb670ebc132f6da742b6ee985b95cc1351"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe20f7e856bc131d45f43572c83a303de5792882", "author": {"user": {"login": "sypste", "name": "Simon"}}, "url": "https://github.com/elastic/elasticsearch/commit/fe20f7e856bc131d45f43572c83a303de5792882", "committedDate": "2020-12-10T13:09:18Z", "message": "Update docs/reference/search/rank-eval.asciidoc\n\nCo-authored-by: Christoph B\u00fcscher <cbuescher@posteo.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a06b7ac273a5ccd01909916953fe33e9a0aa1e40", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/a06b7ac273a5ccd01909916953fe33e9a0aa1e40", "committedDate": "2020-12-10T13:31:59Z", "message": "Merge branch '7.6' into patch-1"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MjA1MDg2", "url": "https://github.com/elastic/elasticsearch/pull/54941#pullrequestreview-549205086", "createdAt": "2020-12-10T13:41:04Z", "commit": {"oid": "a06b7ac273a5ccd01909916953fe33e9a0aa1e40"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3586, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}