{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3MzUzMTM1", "number": 63218, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwNTo1NDoxNlrOEqK23A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwODozNjowN1rOEqNv1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNjUzNTMyOnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/eql/src/main/java/org/elasticsearch/xpack/eql/expression/function/scalar/string/Between.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwNTo1NDoxNlrOHcOalw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMjo0MjoxNFrOHcbPQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTM1ODM1OQ==", "bodyText": "leftover?", "url": "https://github.com/elastic/elasticsearch/pull/63218#discussion_r499358359", "createdAt": "2020-10-05T05:54:16Z", "author": {"login": "matriv"}, "path": "x-pack/plugin/eql/src/main/java/org/elasticsearch/xpack/eql/expression/function/scalar/string/Between.java", "diffHunk": "@@ -73,12 +73,12 @@ protected TypeResolution resolveType() {\n             return resolution;\n         }\n \n-        resolution = isBoolean(greedy, sourceText(), Expressions.ParamOrdinal.FOURTH);\n-        if (resolution.unresolved()) {\n-            return resolution;\n-        }\n-\n-        return isBoolean(caseSensitive, sourceText(), Expressions.ParamOrdinal.FIFTH);\n+        return isBoolean(greedy, sourceText(), Expressions.ParamOrdinal.FOURTH);\n+//        if (resolution.unresolved()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "736616bc6bc6ba6457cd549a8431a15944d6ab4b"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTU2ODQ1MQ==", "bodyText": "No, I wanted to keep it there on purpose. The way the functions deal with case sensitivity is undecided still.", "url": "https://github.com/elastic/elasticsearch/pull/63218#discussion_r499568451", "createdAt": "2020-10-05T12:42:14Z", "author": {"login": "astefan"}, "path": "x-pack/plugin/eql/src/main/java/org/elasticsearch/xpack/eql/expression/function/scalar/string/Between.java", "diffHunk": "@@ -73,12 +73,12 @@ protected TypeResolution resolveType() {\n             return resolution;\n         }\n \n-        resolution = isBoolean(greedy, sourceText(), Expressions.ParamOrdinal.FOURTH);\n-        if (resolution.unresolved()) {\n-            return resolution;\n-        }\n-\n-        return isBoolean(caseSensitive, sourceText(), Expressions.ParamOrdinal.FIFTH);\n+        return isBoolean(greedy, sourceText(), Expressions.ParamOrdinal.FOURTH);\n+//        if (resolution.unresolved()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTM1ODM1OQ=="}, "originalCommit": {"oid": "736616bc6bc6ba6457cd549a8431a15944d6ab4b"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNjUzOTM2OnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/eql/src/test/resources/queryfolder_tests.txt", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwNTo1NjozMFrOHcOc4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMjo0NDowMVrOHcbTMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTM1ODk0Ng==", "bodyText": "I think it's better to have a FIXME here?", "url": "https://github.com/elastic/elasticsearch/pull/63218#discussion_r499358946", "createdAt": "2020-10-05T05:56:30Z", "author": {"login": "matriv"}, "path": "x-pack/plugin/eql/src/test/resources/queryfolder_tests.txt", "diffHunk": "@@ -10,6 +10,8 @@\n // ...\n // <expectation n>\n // ;\n+// NOTE: do not use whitespaces in the relevant parts of the query itself, as they will be removed. For example 'process where process_name : \"System Idle Process\"'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "736616bc6bc6ba6457cd549a8431a15944d6ab4b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTU2OTQ1OA==", "bodyText": "@matriv the code works as intended. It removes whitespaces without discrimination from query string so that it's easier to compare that string with what's in the text file. I put NOTE because it came as a surprise to me this side effect and had to adjust my test. The part that needed adjustement was irrelevant to the test.", "url": "https://github.com/elastic/elasticsearch/pull/63218#discussion_r499569458", "createdAt": "2020-10-05T12:44:01Z", "author": {"login": "astefan"}, "path": "x-pack/plugin/eql/src/test/resources/queryfolder_tests.txt", "diffHunk": "@@ -10,6 +10,8 @@\n // ...\n // <expectation n>\n // ;\n+// NOTE: do not use whitespaces in the relevant parts of the query itself, as they will be removed. For example 'process where process_name : \"System Idle Process\"'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTM1ODk0Ng=="}, "originalCommit": {"oid": "736616bc6bc6ba6457cd549a8431a15944d6ab4b"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNzAwNTA1OnYy", "diffSide": "LEFT", "path": "x-pack/plugin/eql/src/main/java/org/elasticsearch/xpack/eql/action/EqlSearchRequest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwODozNTowM1rOHcSyjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwODozNTowM1rOHcSyjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQzMDAzMQ==", "bodyText": "Same here - for older version we should write true (always case sensitive).", "url": "https://github.com/elastic/elasticsearch/pull/63218#discussion_r499430031", "createdAt": "2020-10-05T08:35:03Z", "author": {"login": "costin"}, "path": "x-pack/plugin/eql/src/main/java/org/elasticsearch/xpack/eql/action/EqlSearchRequest.java", "diffHunk": "@@ -312,7 +299,6 @@ public void writeTo(StreamOutput out) throws IOException {\n             out.writeOptionalTimeValue(keepAlive);\n             out.writeBoolean(keepOnCompletion);\n         }\n-        out.writeBoolean(isCaseSensitive);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "736616bc6bc6ba6457cd549a8431a15944d6ab4b"}, "originalPosition": 66}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNzAwODg3OnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/eql/src/main/java/org/elasticsearch/xpack/eql/action/EqlSearchRequest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwODozNjowN1rOHcS03A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwODozNjowN1rOHcS03A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQzMDYyMA==", "bodyText": "This needs to be versions for upgrade scenarios. On the 7.x branch, there should be a :\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    }\n          \n          \n            \n                    }\n          \n          \n            \n            \t\tif (in.getVersion().before(V.7_10_0)) {\n          \n          \n            \n            \t\t\tin.readBoolean();\n          \n          \n            \n            \t\t}\n          \n      \n    \n    \n  \n\nIn master this won't be a problem since upgrades will happen only from the latest 7.x", "url": "https://github.com/elastic/elasticsearch/pull/63218#discussion_r499430620", "createdAt": "2020-10-05T08:36:07Z", "author": {"login": "costin"}, "path": "x-pack/plugin/eql/src/main/java/org/elasticsearch/xpack/eql/action/EqlSearchRequest.java", "diffHunk": "@@ -103,7 +100,6 @@ public EqlSearchRequest(StreamInput in) throws IOException {\n             this.keepAlive = in.readOptionalTimeValue();\n             this.keepOnCompletion = in.readBoolean();\n         }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "736616bc6bc6ba6457cd549a8431a15944d6ab4b"}, "originalPosition": 27}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3166, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}