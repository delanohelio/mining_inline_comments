{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3OTYwMDQ4", "number": 60323, "title": "[DOCS] Update ILM docs to use composable index templates", "bodyText": "Changes:\n\nUpdates the ILM docs to use composable index templates\nUpdates a few related Kibana screenshots\n\nCloses #58543\nPreviews\n\nILM automate rollover tutorial: https://elasticsearch_60323.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/getting-started-index-lifecycle-management.html#ilm-gs-alias-apply-policy\nConfigure a lifecycle policy:\nhttps://elasticsearch_60323.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/set-up-lifecycle-policy.html#apply-policy-template", "createdAt": "2020-07-28T17:51:07Z", "url": "https://github.com/elastic/elasticsearch/pull/60323", "merged": true, "mergeCommit": {"oid": "1cf928c58af7e928858f58a6e054db7e36aa0300"}, "closed": true, "closedAt": "2020-08-04T16:44:03Z", "author": {"login": "jrodewig"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5aLP5gH2gAyNDU3OTYwMDQ4OmQ2OGRjNjIwNGQzYjA3NjE1YTE0YWU2OWY2YWJjODk0NmIxZmYzZmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7Z8_4AFqTQ2MDM4NTUwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d68dc6204d3b07615a14ae69f6abc8946b1ff3fa", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/d68dc6204d3b07615a14ae69f6abc8946b1ff3fa", "committedDate": "2020-07-28T17:49:35Z", "message": "[DOCS] Update ILM docs to use composable index templates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d87a7c23391a38bd44bec171afcb30891693b27", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/4d87a7c23391a38bd44bec171afcb30891693b27", "committedDate": "2020-07-28T18:16:37Z", "message": "Fix Kibana text. Add alt text."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95246de604b2b618a0c210fe5897fc26f720a584", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/95246de604b2b618a0c210fe5897fc26f720a584", "committedDate": "2020-07-28T18:19:59Z", "message": "reword"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffe815c2a071784763750c5d710eb168e6e38dbd", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/ffe815c2a071784763750c5d710eb168e6e38dbd", "committedDate": "2020-07-28T18:20:57Z", "message": "fix caps"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMzI0MzI5", "url": "https://github.com/elastic/elasticsearch/pull/60323#pullrequestreview-460324329", "createdAt": "2020-08-03T20:37:46Z", "commit": {"oid": "ffe815c2a071784763750c5d710eb168e6e38dbd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMDozNzo0NlrOG7H7Qw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMDozNzo0NlrOG7H7Qw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDY0OTAyNw==", "bodyText": "If we update these docs to use data streams at the same time, we could add that here to this template and then remove this line, what do you think?", "url": "https://github.com/elastic/elasticsearch/pull/60323#discussion_r464649027", "createdAt": "2020-08-03T20:37:46Z", "author": {"login": "dakrone"}, "path": "docs/reference/ilm/ilm-tutorial.asciidoc", "diffHunk": "@@ -310,24 +310,26 @@ that match the index pattern.\n when the rollover action is triggered for an index.\n \n You can use the {kib} Create template wizard to add the template. To access the\n-wizard, open the menu, go to *Stack Management > Index Management*, and click\n-the *Index Templates* tab.\n+wizard, open the menu and go to *Stack Management > Index Management*. In the\n+the *Index Templates* tab, click *Create template*.\n \n [role=\"screenshot\"]\n-image:images/ilm/create-template-wizard.png[]\n+image:images/ilm/create-template-wizard.png[Create template page]\n \n The create template request for the example template looks like this:\n \n [source,console]\n -----------------------\n-PUT _template/timeseries_template\n+PUT _index_template/timeseries_template\n {\n   \"index_patterns\": [\"timeseries-*\"],                 <1>\n-  \"settings\": {\n-    \"number_of_shards\": 1,\n-    \"number_of_replicas\": 1,\n-    \"index.lifecycle.name\": \"timeseries_policy\",      <2>\n-    \"index.lifecycle.rollover_alias\": \"timeseries\"    <3>\n+  \"template\": {\n+    \"settings\": {\n+      \"number_of_shards\": 1,\n+      \"number_of_replicas\": 1,\n+      \"index.lifecycle.name\": \"timeseries_policy\",      <2>\n+      \"index.lifecycle.rollover_alias\": \"timeseries\"    <3>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ffe815c2a071784763750c5d710eb168e6e38dbd"}, "originalPosition": 40}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMzg1NTAw", "url": "https://github.com/elastic/elasticsearch/pull/60323#pullrequestreview-460385500", "createdAt": "2020-08-03T22:41:53Z", "commit": {"oid": "ffe815c2a071784763750c5d710eb168e6e38dbd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3719, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}