{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczMjQ1NjU2", "number": 61530, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQwNzozNDoxOFrOEccyjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMTozNTo0NFrOEciK4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4MjY3Mjc3OnYy", "diffSide": "RIGHT", "path": "modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/ScriptProcessor.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQwNzozNDoxOFrOHG_gSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMDoyODoyMlrOHHF6sQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA5Mzk2Mw==", "bodyText": "there is a series of classes that possibly incorrectly use DynamicMap logger\nThis PR grew so large and was mostly automatic (find/replace, backport, automated refactoring) that I am reluctant to fix it here too. Maybe I miss something and DynamicMap was actually intended here?\n@pugnascotia WDYT?", "url": "https://github.com/elastic/elasticsearch/pull/61530#discussion_r477093963", "createdAt": "2020-08-26T07:34:18Z", "author": {"login": "pgomulka"}, "path": "modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/ScriptProcessor.java", "diffHunk": "@@ -53,7 +52,7 @@\n public final class ScriptProcessor extends AbstractProcessor {\n \n     private static final DeprecationLogger deprecationLogger =\n-            new DeprecationLogger(LogManager.getLogger(DynamicMap.class));\n+            DeprecationLogger.getLogger(DynamicMap.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66ce5257cc5086b89eb5bddf547b636d28fad0bc"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzE5OTAyNQ==", "bodyText": "Looks like a mistake to me. @stu-elastic what do you think?", "url": "https://github.com/elastic/elasticsearch/pull/61530#discussion_r477199025", "createdAt": "2020-08-26T10:28:22Z", "author": {"login": "pugnascotia"}, "path": "modules/ingest-common/src/main/java/org/elasticsearch/ingest/common/ScriptProcessor.java", "diffHunk": "@@ -53,7 +52,7 @@\n public final class ScriptProcessor extends AbstractProcessor {\n \n     private static final DeprecationLogger deprecationLogger =\n-            new DeprecationLogger(LogManager.getLogger(DynamicMap.class));\n+            DeprecationLogger.getLogger(DynamicMap.class);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzA5Mzk2Mw=="}, "originalCommit": {"oid": "66ce5257cc5086b89eb5bddf547b636d28fad0bc"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4MzQ3ODg0OnYy", "diffSide": "RIGHT", "path": "modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateQueryBuilder.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMToxMjo1N1rOHHHQag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMToxMjo1N1rOHHHQag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzIyMDk3MA==", "bodyText": "Looks like another mistake.", "url": "https://github.com/elastic/elasticsearch/pull/61530#discussion_r477220970", "createdAt": "2020-08-26T11:12:57Z", "author": {"login": "pugnascotia"}, "path": "modules/percolator/src/main/java/org/elasticsearch/percolator/PercolateQueryBuilder.java", "diffHunk": "@@ -100,7 +99,7 @@\n public class PercolateQueryBuilder extends AbstractQueryBuilder<PercolateQueryBuilder> {\n     public static final String NAME = \"percolate\";\n \n-    private static final DeprecationLogger deprecationLogger = new DeprecationLogger(LogManager.getLogger(ParseField.class));\n+    private static final DeprecationLogger deprecationLogger = DeprecationLogger.getLogger(ParseField.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4a22e182cda9aa2d9772da3ae92ea8829b50e7c"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4MzUzMzI4OnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/elasticsearch/ingest/ConditionalProcessor.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMToyOToxNVrOHHHxlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMToyOToxNVrOHHHxlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzIyOTQ2Mg==", "bodyText": "This one looks just plain wrong.", "url": "https://github.com/elastic/elasticsearch/pull/61530#discussion_r477229462", "createdAt": "2020-08-26T11:29:15Z", "author": {"login": "pugnascotia"}, "path": "server/src/main/java/org/elasticsearch/ingest/ConditionalProcessor.java", "diffHunk": "@@ -47,8 +46,7 @@\n \n public class ConditionalProcessor extends AbstractProcessor implements WrappingProcessor {\n \n-    private static final DeprecationLogger deprecationLogger =\n-            new DeprecationLogger(LogManager.getLogger(DynamicMap.class));\n+    private static final DeprecationLogger deprecationLogger = DeprecationLogger.getLogger(DynamicMap.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4a22e182cda9aa2d9772da3ae92ea8829b50e7c"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4MzU0NDI5OnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/elasticsearch/rest/action/document/RestMultiTermVectorsAction.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMTozMjo0MVrOHHH4ZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMTozMjo0MVrOHHH4ZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzIzMTIwNQ==", "bodyText": "This one is incorrect too.", "url": "https://github.com/elastic/elasticsearch/pull/61530#discussion_r477231205", "createdAt": "2020-08-26T11:32:41Z", "author": {"login": "pugnascotia"}, "path": "server/src/main/java/org/elasticsearch/rest/action/document/RestMultiTermVectorsAction.java", "diffHunk": "@@ -39,8 +38,7 @@\n import static org.elasticsearch.rest.RestRequest.Method.POST;\n \n public class RestMultiTermVectorsAction extends BaseRestHandler {\n-    private static final DeprecationLogger deprecationLogger = new DeprecationLogger(\n-        LogManager.getLogger(RestTermVectorsAction.class));\n+    private static final DeprecationLogger deprecationLogger = DeprecationLogger.getLogger(RestTermVectorsAction.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4a22e182cda9aa2d9772da3ae92ea8829b50e7c"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4MzU0Njk2OnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/elasticsearch/script/AbstractSortScript.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMTozMzozM1rOHHH5_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMTozMzozM1rOHHH5_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzIzMTYxMw==", "bodyText": "This one too.", "url": "https://github.com/elastic/elasticsearch/pull/61530#discussion_r477231613", "createdAt": "2020-08-26T11:33:33Z", "author": {"login": "pugnascotia"}, "path": "server/src/main/java/org/elasticsearch/script/AbstractSortScript.java", "diffHunk": "@@ -36,8 +35,7 @@\n \n abstract class AbstractSortScript implements ScorerAware {\n \n-    private static final DeprecationLogger deprecationLogger =\n-            new DeprecationLogger(LogManager.getLogger(DynamicMap.class));\n+    private static final DeprecationLogger deprecationLogger = DeprecationLogger.getLogger(DynamicMap.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4a22e182cda9aa2d9772da3ae92ea8829b50e7c"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4MzU1MjcwOnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/elasticsearch/script/AggregationScript.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMTozNToxOFrOHHH9UA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMTozNToxOFrOHHH9UA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzIzMjQ2NA==", "bodyText": "And this one.", "url": "https://github.com/elastic/elasticsearch/pull/61530#discussion_r477232464", "createdAt": "2020-08-26T11:35:18Z", "author": {"login": "pugnascotia"}, "path": "server/src/main/java/org/elasticsearch/script/AggregationScript.java", "diffHunk": "@@ -40,8 +39,7 @@\n \n     public static final ScriptContext<Factory> CONTEXT = new ScriptContext<>(\"aggs\", Factory.class);\n \n-    private static final DeprecationLogger deprecationLogger =\n-            new DeprecationLogger(LogManager.getLogger(DynamicMap.class));\n+    private static final DeprecationLogger deprecationLogger = DeprecationLogger.getLogger(DynamicMap.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4a22e182cda9aa2d9772da3ae92ea8829b50e7c"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4MzU1MzE4OnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/elasticsearch/script/FieldScript.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMTozNToyM1rOHHH9jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMTozNToyM1rOHHH9jw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzIzMjUyNw==", "bodyText": "And this one.", "url": "https://github.com/elastic/elasticsearch/pull/61530#discussion_r477232527", "createdAt": "2020-08-26T11:35:23Z", "author": {"login": "pugnascotia"}, "path": "server/src/main/java/org/elasticsearch/script/FieldScript.java", "diffHunk": "@@ -39,8 +38,7 @@\n \n     public static final String[] PARAMETERS = {};\n \n-    private static final DeprecationLogger deprecationLogger =\n-            new DeprecationLogger(LogManager.getLogger(DynamicMap.class));\n+    private static final DeprecationLogger deprecationLogger = DeprecationLogger.getLogger(DynamicMap.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4a22e182cda9aa2d9772da3ae92ea8829b50e7c"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4MzU1MzUwOnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/elasticsearch/script/ScoreScript.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMTozNTozMVrOHHH9yw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMTozNTozMVrOHHH9yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzIzMjU4Nw==", "bodyText": "And this one.", "url": "https://github.com/elastic/elasticsearch/pull/61530#discussion_r477232587", "createdAt": "2020-08-26T11:35:31Z", "author": {"login": "pugnascotia"}, "path": "server/src/main/java/org/elasticsearch/script/ScoreScript.java", "diffHunk": "@@ -65,8 +64,7 @@ public Explanation get(double score, Explanation subQueryExplanation) {\n         }\n     }\n \n-    private static final DeprecationLogger deprecationLogger =\n-            new DeprecationLogger(LogManager.getLogger(DynamicMap.class));\n+    private static final DeprecationLogger deprecationLogger = DeprecationLogger.getLogger(DynamicMap.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4a22e182cda9aa2d9772da3ae92ea8829b50e7c"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4MzU1NDI3OnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/elasticsearch/script/ScriptedMetricAggContexts.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMTozNTo0NFrOHHH-Rw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMTozNTo0NFrOHHH-Rw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzIzMjcxMQ==", "bodyText": "And this one.", "url": "https://github.com/elastic/elasticsearch/pull/61530#discussion_r477232711", "createdAt": "2020-08-26T11:35:44Z", "author": {"login": "pugnascotia"}, "path": "server/src/main/java/org/elasticsearch/script/ScriptedMetricAggContexts.java", "diffHunk": "@@ -66,8 +65,7 @@ public Object getState() {\n \n     public abstract static class MapScript {\n \n-        private static final DeprecationLogger deprecationLogger =\n-                new DeprecationLogger(LogManager.getLogger(DynamicMap.class));\n+        private static final DeprecationLogger deprecationLogger = DeprecationLogger.getLogger(DynamicMap.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4a22e182cda9aa2d9772da3ae92ea8829b50e7c"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 835, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}