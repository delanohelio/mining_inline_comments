{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0OTYyNTAy", "number": 59098, "reviewThreads": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMzowNDo0M1rOEMETRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwODowMDoyNVrOEMYDvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMDg4ODM4OnYy", "diffSide": "RIGHT", "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMzowNDo0M1rOGt9jpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMzowNDo0M1rOGt9jpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg0NzY1NQ==", "bodyText": "Per Deb, we try to use \"retrieve\" in place of \"return\" as it's a bit more user-centric. I also don't think the repos clause is needed here, but feel free to ignore if wanted.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Returns information about one or more snapshots from one or more registered repositories.\n          \n          \n            \n            Retrieves information about one or more snapshots.", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r450847655", "createdAt": "2020-07-07T13:04:43Z", "author": {"login": "jrodewig"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,149 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Returns information about one or more snapshots from one or more registered repositories.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "309e51a07b5b1229ccdc57ba72277e625447498c"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMDkyNjExOnYy", "diffSide": "RIGHT", "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMzoxMzozMlrOGt96Yg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxNTo0NzoyMFrOGuEwdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg1MzQ3NA==", "bodyText": "After including... this would probably work better as a bulleted list?\nEither way, please wrap lines at 80 characters.", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r450853474", "createdAt": "2020-07-07T13:13:32Z", "author": {"login": "jrodewig"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,149 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Returns information about one or more snapshots from one or more registered repositories.\n+\n+////\n+[source,console]\n+----\n+PUT /_snapshot/my_repository\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_backup_location\"\n+  }\n+}\n+\n+PUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n+\n+PUT /_snapshot/my_repository/snapshot_2?wait_for_completion=true\n+----\n+// TESTSETUP\n+////\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/my_snapshot\n+----\n+\n+[[get-snapshot-api-request]]\n+==== {api-request-title}\n+\n+`GET /_snapshot/<repository>/<snapshot>`\n+\n+[[get-snapshot-api-desc]]\n+==== {api-description-title}\n+\n+Use the get snapshot API to return information about one or more snapshots, including start and end time, version of {es} that created the snapshot, the list of included indices, the current state of the snapshot, and the list of failures that occurred during the snapshot.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "309e51a07b5b1229ccdc57ba72277e625447498c"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDk2NTYyMA==", "bodyText": "\ud83d\udc4d to that change, and will implement it.", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r450965620", "createdAt": "2020-07-07T15:47:20Z", "author": {"login": "lockewritesdocs"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,149 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Returns information about one or more snapshots from one or more registered repositories.\n+\n+////\n+[source,console]\n+----\n+PUT /_snapshot/my_repository\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_backup_location\"\n+  }\n+}\n+\n+PUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n+\n+PUT /_snapshot/my_repository/snapshot_2?wait_for_completion=true\n+----\n+// TESTSETUP\n+////\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/my_snapshot\n+----\n+\n+[[get-snapshot-api-request]]\n+==== {api-request-title}\n+\n+`GET /_snapshot/<repository>/<snapshot>`\n+\n+[[get-snapshot-api-desc]]\n+==== {api-description-title}\n+\n+Use the get snapshot API to return information about one or more snapshots, including start and end time, version of {es} that created the snapshot, the list of included indices, the current state of the snapshot, and the list of failures that occurred during the snapshot.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg1MzQ3NA=="}, "originalCommit": {"oid": "309e51a07b5b1229ccdc57ba72277e625447498c"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMDkyODI5OnYy", "diffSide": "RIGHT", "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMzoxNDowOVrOGt97uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMzoxNDowOVrOGt97uw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg1MzgxOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Comma-separated list of snapshot names to return. Also accepts wildcards (`*`).\n          \n          \n            \n            Comma-separated list of snapshot names to retrieve. Also accepts wildcards (`*`).", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r450853819", "createdAt": "2020-07-07T13:14:09Z", "author": {"login": "jrodewig"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,149 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Returns information about one or more snapshots from one or more registered repositories.\n+\n+////\n+[source,console]\n+----\n+PUT /_snapshot/my_repository\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_backup_location\"\n+  }\n+}\n+\n+PUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n+\n+PUT /_snapshot/my_repository/snapshot_2?wait_for_completion=true\n+----\n+// TESTSETUP\n+////\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/my_snapshot\n+----\n+\n+[[get-snapshot-api-request]]\n+==== {api-request-title}\n+\n+`GET /_snapshot/<repository>/<snapshot>`\n+\n+[[get-snapshot-api-desc]]\n+==== {api-description-title}\n+\n+Use the get snapshot API to return information about one or more snapshots, including start and end time, version of {es} that created the snapshot, the list of included indices, the current state of the snapshot, and the list of failures that occurred during the snapshot.\n+\n+[[get-snapshot-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<repository>`::\n+(Required, string)\n+Comma-separated list of snapshot repository names used to limit the request.\n+Wildcard (`*`) expressions are supported.\n++\n+To get information about all snapshot repositories registered in the\n+cluster, omit this parameter or use `*` or `_all`.\n+\n+`<snapshot>`::\n+(Required, string)\n+Comma-separated list of snapshot names to return. Also accepts wildcards (`*`).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "309e51a07b5b1229ccdc57ba72277e625447498c"}, "originalPosition": 55}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMDkzMTM3OnYy", "diffSide": "RIGHT", "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMzoxNDo1M1rOGt99uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxNToyMTo0MFrOGuDrYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg1NDMzMQ==", "bodyText": "To get information about any snapshots that are currently running, omit this parameter and use _current.\n\n\nIs this saying that you can omit this parameter or use _current... or just use _current?", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r450854331", "createdAt": "2020-07-07T13:14:53Z", "author": {"login": "jrodewig"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,149 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Returns information about one or more snapshots from one or more registered repositories.\n+\n+////\n+[source,console]\n+----\n+PUT /_snapshot/my_repository\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_backup_location\"\n+  }\n+}\n+\n+PUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n+\n+PUT /_snapshot/my_repository/snapshot_2?wait_for_completion=true\n+----\n+// TESTSETUP\n+////\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/my_snapshot\n+----\n+\n+[[get-snapshot-api-request]]\n+==== {api-request-title}\n+\n+`GET /_snapshot/<repository>/<snapshot>`\n+\n+[[get-snapshot-api-desc]]\n+==== {api-description-title}\n+\n+Use the get snapshot API to return information about one or more snapshots, including start and end time, version of {es} that created the snapshot, the list of included indices, the current state of the snapshot, and the list of failures that occurred during the snapshot.\n+\n+[[get-snapshot-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<repository>`::\n+(Required, string)\n+Comma-separated list of snapshot repository names used to limit the request.\n+Wildcard (`*`) expressions are supported.\n++\n+To get information about all snapshot repositories registered in the\n+cluster, omit this parameter or use `*` or `_all`.\n+\n+`<snapshot>`::\n+(Required, string)\n+Comma-separated list of snapshot names to return. Also accepts wildcards (`*`).\n++\n+* To get information about all snapshots in a registered repository, use a wildcard (`*`) or `_all`.\n+* To get information about any snapshots that are currently running, omit this parameter and use `_current`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "309e51a07b5b1229ccdc57ba72277e625447498c"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDk0NzkzNw==", "bodyText": "Just use _current. I wanted to indicate that you should use _current in place of the snapshot name, but perhaps that inclusion is more confusing than helpful.", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r450947937", "createdAt": "2020-07-07T15:21:40Z", "author": {"login": "lockewritesdocs"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,149 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Returns information about one or more snapshots from one or more registered repositories.\n+\n+////\n+[source,console]\n+----\n+PUT /_snapshot/my_repository\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_backup_location\"\n+  }\n+}\n+\n+PUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n+\n+PUT /_snapshot/my_repository/snapshot_2?wait_for_completion=true\n+----\n+// TESTSETUP\n+////\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/my_snapshot\n+----\n+\n+[[get-snapshot-api-request]]\n+==== {api-request-title}\n+\n+`GET /_snapshot/<repository>/<snapshot>`\n+\n+[[get-snapshot-api-desc]]\n+==== {api-description-title}\n+\n+Use the get snapshot API to return information about one or more snapshots, including start and end time, version of {es} that created the snapshot, the list of included indices, the current state of the snapshot, and the list of failures that occurred during the snapshot.\n+\n+[[get-snapshot-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<repository>`::\n+(Required, string)\n+Comma-separated list of snapshot repository names used to limit the request.\n+Wildcard (`*`) expressions are supported.\n++\n+To get information about all snapshot repositories registered in the\n+cluster, omit this parameter or use `*` or `_all`.\n+\n+`<snapshot>`::\n+(Required, string)\n+Comma-separated list of snapshot names to return. Also accepts wildcards (`*`).\n++\n+* To get information about all snapshots in a registered repository, use a wildcard (`*`) or `_all`.\n+* To get information about any snapshots that are currently running, omit this parameter and use `_current`.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg1NDMzMQ=="}, "originalCommit": {"oid": "309e51a07b5b1229ccdc57ba72277e625447498c"}, "originalPosition": 58}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMDk3NzM0OnYy", "diffSide": "RIGHT", "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMzoyNToyMFrOGt-ZZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMTo1Mjo1MlrOGuQ8ZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg2MTQxMg==", "bodyText": "This doesn't look like the right response format for this API.\nAdditionally some of the values aren't correct. For example, there should be no metadata as you didn't add any in the test setup.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            {\n          \n          \n            \n              \"snapshot\": {\n          \n          \n            \n                \"snapshot\": \"snapshot_2\",\n          \n          \n            \n                \"uuid\": \"vdRctLCxSketdKb54xw67g\",\n          \n          \n            \n                \"version_id\": <version_id>,\n          \n          \n            \n                \"version\": <version>,\n          \n          \n            \n                \"indices\": [],\n          \n          \n            \n                \"data_streams\": [],\n          \n          \n            \n                \"include_global_state\": false,\n          \n          \n            \n                \"metadata\": {\n          \n          \n            \n                  \"taken_by\": \"user123\",\n          \n          \n            \n                  \"taken_because\": \"backup before upgrading\"\n          \n          \n            \n                },\n          \n          \n            \n                \"state\": \"SUCCESS\",\n          \n          \n            \n                \"start_time\": \"2020-06-25T14:00:28.850Z\",\n          \n          \n            \n                \"start_time_in_millis\": 1593093628850,\n          \n          \n            \n                \"end_time\": \"2020-06-25T14:00:28.850Z\",\n          \n          \n            \n                \"end_time_in_millis\": 1593094752018,\n          \n          \n            \n                \"duration_in_millis\": 0,\n          \n          \n            \n                \"failures\": [],\n          \n          \n            \n                \"shards\": {\n          \n          \n            \n                  \"total\": 0,\n          \n          \n            \n                  \"failed\": 0,\n          \n          \n            \n                  \"successful\": 0\n          \n          \n            \n                }\n          \n          \n            \n              }\n          \n          \n            \n            }\n          \n          \n            \n            {\n          \n          \n            \n              \"responses\": [\n          \n          \n            \n                {\n          \n          \n            \n                  \"repository\": \"my_repository\",\n          \n          \n            \n                  \"snapshots\": [\n          \n          \n            \n                    {\n          \n          \n            \n                      \"snapshot\": \"snapshot_2\",\n          \n          \n            \n                      \"uuid\": \"vdRctLCxSketdKb54xw67g\",\n          \n          \n            \n                      \"version_id\": <version_id>,\n          \n          \n            \n                      \"version\": <version>,\n          \n          \n            \n                      \"indices\": [],\n          \n          \n            \n                      \"data_streams\": [],\n          \n          \n            \n                      \"include_global_state\": true,\n          \n          \n            \n                      \"state\": \"SUCCESS\",\n          \n          \n            \n                      \"start_time\": \"2020-07-06T21:55:18.129Z\",\n          \n          \n            \n                      \"start_time_in_millis\": 1593093628850,\n          \n          \n            \n                      \"end_time\": \"2020-07-06T21:55:18.129Z\",\n          \n          \n            \n                      \"end_time_in_millis\": 1593094752018,\n          \n          \n            \n                      \"duration_in_millis\": 0,\n          \n          \n            \n                      \"failures\": [],\n          \n          \n            \n                      \"shards\": {\n          \n          \n            \n                        \"total\": 0,\n          \n          \n            \n                        \"failed\": 0,\n          \n          \n            \n                        \"successful\": 0\n          \n          \n            \n                      }\n          \n          \n            \n                    }\n          \n          \n            \n                  ]\n          \n          \n            \n                }\n          \n          \n            \n              ]\n          \n          \n            \n            }", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r450861412", "createdAt": "2020-07-07T13:25:20Z", "author": {"login": "jrodewig"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,149 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Returns information about one or more snapshots from one or more registered repositories.\n+\n+////\n+[source,console]\n+----\n+PUT /_snapshot/my_repository\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_backup_location\"\n+  }\n+}\n+\n+PUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n+\n+PUT /_snapshot/my_repository/snapshot_2?wait_for_completion=true\n+----\n+// TESTSETUP\n+////\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/my_snapshot\n+----\n+\n+[[get-snapshot-api-request]]\n+==== {api-request-title}\n+\n+`GET /_snapshot/<repository>/<snapshot>`\n+\n+[[get-snapshot-api-desc]]\n+==== {api-description-title}\n+\n+Use the get snapshot API to return information about one or more snapshots, including start and end time, version of {es} that created the snapshot, the list of included indices, the current state of the snapshot, and the list of failures that occurred during the snapshot.\n+\n+[[get-snapshot-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<repository>`::\n+(Required, string)\n+Comma-separated list of snapshot repository names used to limit the request.\n+Wildcard (`*`) expressions are supported.\n++\n+To get information about all snapshot repositories registered in the\n+cluster, omit this parameter or use `*` or `_all`.\n+\n+`<snapshot>`::\n+(Required, string)\n+Comma-separated list of snapshot names to return. Also accepts wildcards (`*`).\n++\n+* To get information about all snapshots in a registered repository, use a wildcard (`*`) or `_all`.\n+* To get information about any snapshots that are currently running, omit this parameter and use `_current`.\n++\n+NOTE: Using `_all` in a request fails if any snapshots are unavailable. Set <<get-snapshot-api-ignore-unavailable,`ignore_unavailable`>> to `true` to return only available snapshots.\n+\n+[role=\"child-attributes\"]\n+[[get-snapshot-api-request-body]]\n+==== {api-request-body-title}\n+\n+[[get-snapshot-api-ignore-unavailable]]\n+`ignore_unavailable`::\n+(Optional, boolean)\n+If `false`, the request returns an error for any snapshots that are unavailable. Defaults to `false`.\n++\n+If `true`, the request ignores snapshots that are unavailable, such as those that are corrupted or temporarily cannot be returned.\n+\n+`verbose`::\n+(Optional, boolean)\n+If `true`, returns all available information about a snapshot. Defaults to `true`.\n++\n+If `false`, omits additional information about the snapshot, such as version information, start and end times, and the number of snapshotted shards.\n+\n+[[get-snapshot-api-example]]\n+==== {api-examples-title}\n+\n+The following request returns information for `snapshot_2` in the `my_repository` repository.\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/snapshot_2\n+----\n+\n+The API returns the following response:\n+\n+[source,console-result]\n+----\n+{\n+  \"snapshot\": {\n+    \"snapshot\": \"snapshot_2\",\n+    \"uuid\": \"vdRctLCxSketdKb54xw67g\",\n+    \"version_id\": <version_id>,\n+    \"version\": <version>,\n+    \"indices\": [],\n+    \"data_streams\": [],\n+    \"include_global_state\": false,\n+    \"metadata\": {\n+      \"taken_by\": \"user123\",\n+      \"taken_because\": \"backup before upgrading\"\n+    },\n+    \"state\": \"SUCCESS\",\n+    \"start_time\": \"2020-06-25T14:00:28.850Z\",\n+    \"start_time_in_millis\": 1593093628850,\n+    \"end_time\": \"2020-06-25T14:00:28.850Z\",\n+    \"end_time_in_millis\": 1593094752018,\n+    \"duration_in_millis\": 0,\n+    \"failures\": [],\n+    \"shards\": {\n+      \"total\": 0,\n+      \"failed\": 0,\n+      \"successful\": 0\n+    }\n+  }\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "309e51a07b5b1229ccdc57ba72277e625447498c"}, "originalPosition": 119}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE2NTI4NQ==", "bodyText": "You are correct! I verified that the repository is included in 8.0, but not previous versions. Great catch \ud83c\udfc5", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r451165285", "createdAt": "2020-07-07T21:52:52Z", "author": {"login": "lockewritesdocs"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,149 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Returns information about one or more snapshots from one or more registered repositories.\n+\n+////\n+[source,console]\n+----\n+PUT /_snapshot/my_repository\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_backup_location\"\n+  }\n+}\n+\n+PUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n+\n+PUT /_snapshot/my_repository/snapshot_2?wait_for_completion=true\n+----\n+// TESTSETUP\n+////\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/my_snapshot\n+----\n+\n+[[get-snapshot-api-request]]\n+==== {api-request-title}\n+\n+`GET /_snapshot/<repository>/<snapshot>`\n+\n+[[get-snapshot-api-desc]]\n+==== {api-description-title}\n+\n+Use the get snapshot API to return information about one or more snapshots, including start and end time, version of {es} that created the snapshot, the list of included indices, the current state of the snapshot, and the list of failures that occurred during the snapshot.\n+\n+[[get-snapshot-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<repository>`::\n+(Required, string)\n+Comma-separated list of snapshot repository names used to limit the request.\n+Wildcard (`*`) expressions are supported.\n++\n+To get information about all snapshot repositories registered in the\n+cluster, omit this parameter or use `*` or `_all`.\n+\n+`<snapshot>`::\n+(Required, string)\n+Comma-separated list of snapshot names to return. Also accepts wildcards (`*`).\n++\n+* To get information about all snapshots in a registered repository, use a wildcard (`*`) or `_all`.\n+* To get information about any snapshots that are currently running, omit this parameter and use `_current`.\n++\n+NOTE: Using `_all` in a request fails if any snapshots are unavailable. Set <<get-snapshot-api-ignore-unavailable,`ignore_unavailable`>> to `true` to return only available snapshots.\n+\n+[role=\"child-attributes\"]\n+[[get-snapshot-api-request-body]]\n+==== {api-request-body-title}\n+\n+[[get-snapshot-api-ignore-unavailable]]\n+`ignore_unavailable`::\n+(Optional, boolean)\n+If `false`, the request returns an error for any snapshots that are unavailable. Defaults to `false`.\n++\n+If `true`, the request ignores snapshots that are unavailable, such as those that are corrupted or temporarily cannot be returned.\n+\n+`verbose`::\n+(Optional, boolean)\n+If `true`, returns all available information about a snapshot. Defaults to `true`.\n++\n+If `false`, omits additional information about the snapshot, such as version information, start and end times, and the number of snapshotted shards.\n+\n+[[get-snapshot-api-example]]\n+==== {api-examples-title}\n+\n+The following request returns information for `snapshot_2` in the `my_repository` repository.\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/snapshot_2\n+----\n+\n+The API returns the following response:\n+\n+[source,console-result]\n+----\n+{\n+  \"snapshot\": {\n+    \"snapshot\": \"snapshot_2\",\n+    \"uuid\": \"vdRctLCxSketdKb54xw67g\",\n+    \"version_id\": <version_id>,\n+    \"version\": <version>,\n+    \"indices\": [],\n+    \"data_streams\": [],\n+    \"include_global_state\": false,\n+    \"metadata\": {\n+      \"taken_by\": \"user123\",\n+      \"taken_because\": \"backup before upgrading\"\n+    },\n+    \"state\": \"SUCCESS\",\n+    \"start_time\": \"2020-06-25T14:00:28.850Z\",\n+    \"start_time_in_millis\": 1593093628850,\n+    \"end_time\": \"2020-06-25T14:00:28.850Z\",\n+    \"end_time_in_millis\": 1593094752018,\n+    \"duration_in_millis\": 0,\n+    \"failures\": [],\n+    \"shards\": {\n+      \"total\": 0,\n+      \"failed\": 0,\n+      \"successful\": 0\n+    }\n+  }\n+}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg2MTQxMg=="}, "originalCommit": {"oid": "309e51a07b5b1229ccdc57ba72277e625447498c"}, "originalPosition": 119}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMDk4NDEzOnYy", "diffSide": "RIGHT", "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMzoyNjo1MFrOGt-dcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxNDoyMDozN1rOGuA3Vg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg2MjQ1MA==", "bodyText": "These need to be updated for the correct response format.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            // TESTRESPONSE[s/\"uuid\": \"vdRctLCxSketdKb54xw67g\"/\"uuid\": $body.snapshot.uuid/]\n          \n          \n            \n            // TESTRESPONSE[s/\"version_id\": <version_id>/\"version_id\": $body.snapshot.version_id/]\n          \n          \n            \n            // TESTRESPONSE[s/\"version\": <version>/\"version\": $body.snapshot.version/]\n          \n          \n            \n            // TESTRESPONSE[s/\"start_time\": \"2020-07-06T21:55:18.129Z\"/\"start_time\": $body.snapshot.start_time/]\n          \n          \n            \n            // TESTRESPONSE[s/\"start_time_in_millis\": 1593093628850/\"start_time_in_millis\": $body.snapshot.start_time_in_millis/]\n          \n          \n            \n            // TESTRESPONSE[s/\"end_time\": \"2020-07-06T21:55:18.129Z\"/\"end_time\": $body.snapshot.end_time/]\n          \n          \n            \n            // TESTRESPONSE[s/\"end_time_in_millis\": 1593094752018/\"end_time_in_millis\": $body.snapshot.end_time_in_millis/]\n          \n          \n            \n            // TESTRESPONSE[s/\"duration_in_millis\": 0/\"duration_in_millis\": $body.snapshot.duration_in_millis/]\n          \n          \n            \n            // TESTRESPONSE[s/\"uuid\": \"vdRctLCxSketdKb54xw67g\"/\"uuid\": $body.responses.0.snapshots.0.uuid/]\n          \n          \n            \n            // TESTRESPONSE[s/\"version_id\": <version_id>/\"version_id\": $body.responses.0.snapshots.0.version_id/]\n          \n          \n            \n            // TESTRESPONSE[s/\"version\": <version>/\"version\": $body.responses.0.snapshots.0.version/]\n          \n          \n            \n            // TESTRESPONSE[s/\"start_time\": \"2020-07-06T21:55:18.129Z\"/\"start_time\": $body.responses.0.snapshots.0.start_time/]\n          \n          \n            \n            // TESTRESPONSE[s/\"start_time_in_millis\": 1593093628850/\"start_time_in_millis\": $body.responses.0.snapshots.0.start_time_in_millis/]\n          \n          \n            \n            // TESTRESPONSE[s/\"end_time\": \"2020-07-06T21:55:18.129Z\"/\"end_time\": $body.responses.0.snapshots.0.end_time/]\n          \n          \n            \n            // TESTRESPONSE[s/\"end_time_in_millis\": 1593094752018/\"end_time_in_millis\": $body.responses.0.snapshots.0.end_time_in_millis/]\n          \n          \n            \n            // TESTRESPONSE[s/\"duration_in_millis\": 0/\"duration_in_millis\": $body.responses.0.snapshots.0.duration_in_millis/]", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r450862450", "createdAt": "2020-07-07T13:26:50Z", "author": {"login": "jrodewig"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,149 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Returns information about one or more snapshots from one or more registered repositories.\n+\n+////\n+[source,console]\n+----\n+PUT /_snapshot/my_repository\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_backup_location\"\n+  }\n+}\n+\n+PUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n+\n+PUT /_snapshot/my_repository/snapshot_2?wait_for_completion=true\n+----\n+// TESTSETUP\n+////\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/my_snapshot\n+----\n+\n+[[get-snapshot-api-request]]\n+==== {api-request-title}\n+\n+`GET /_snapshot/<repository>/<snapshot>`\n+\n+[[get-snapshot-api-desc]]\n+==== {api-description-title}\n+\n+Use the get snapshot API to return information about one or more snapshots, including start and end time, version of {es} that created the snapshot, the list of included indices, the current state of the snapshot, and the list of failures that occurred during the snapshot.\n+\n+[[get-snapshot-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<repository>`::\n+(Required, string)\n+Comma-separated list of snapshot repository names used to limit the request.\n+Wildcard (`*`) expressions are supported.\n++\n+To get information about all snapshot repositories registered in the\n+cluster, omit this parameter or use `*` or `_all`.\n+\n+`<snapshot>`::\n+(Required, string)\n+Comma-separated list of snapshot names to return. Also accepts wildcards (`*`).\n++\n+* To get information about all snapshots in a registered repository, use a wildcard (`*`) or `_all`.\n+* To get information about any snapshots that are currently running, omit this parameter and use `_current`.\n++\n+NOTE: Using `_all` in a request fails if any snapshots are unavailable. Set <<get-snapshot-api-ignore-unavailable,`ignore_unavailable`>> to `true` to return only available snapshots.\n+\n+[role=\"child-attributes\"]\n+[[get-snapshot-api-request-body]]\n+==== {api-request-body-title}\n+\n+[[get-snapshot-api-ignore-unavailable]]\n+`ignore_unavailable`::\n+(Optional, boolean)\n+If `false`, the request returns an error for any snapshots that are unavailable. Defaults to `false`.\n++\n+If `true`, the request ignores snapshots that are unavailable, such as those that are corrupted or temporarily cannot be returned.\n+\n+`verbose`::\n+(Optional, boolean)\n+If `true`, returns all available information about a snapshot. Defaults to `true`.\n++\n+If `false`, omits additional information about the snapshot, such as version information, start and end times, and the number of snapshotted shards.\n+\n+[[get-snapshot-api-example]]\n+==== {api-examples-title}\n+\n+The following request returns information for `snapshot_2` in the `my_repository` repository.\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/snapshot_2\n+----\n+\n+The API returns the following response:\n+\n+[source,console-result]\n+----\n+{\n+  \"snapshot\": {\n+    \"snapshot\": \"snapshot_2\",\n+    \"uuid\": \"vdRctLCxSketdKb54xw67g\",\n+    \"version_id\": <version_id>,\n+    \"version\": <version>,\n+    \"indices\": [],\n+    \"data_streams\": [],\n+    \"include_global_state\": false,\n+    \"metadata\": {\n+      \"taken_by\": \"user123\",\n+      \"taken_because\": \"backup before upgrading\"\n+    },\n+    \"state\": \"SUCCESS\",\n+    \"start_time\": \"2020-06-25T14:00:28.850Z\",\n+    \"start_time_in_millis\": 1593093628850,\n+    \"end_time\": \"2020-06-25T14:00:28.850Z\",\n+    \"end_time_in_millis\": 1593094752018,\n+    \"duration_in_millis\": 0,\n+    \"failures\": [],\n+    \"shards\": {\n+      \"total\": 0,\n+      \"failed\": 0,\n+      \"successful\": 0\n+    }\n+  }\n+}\n+----\n+// TESTRESPONSE[s/\"uuid\": \"vdRctLCxSketdKb54xw67g\"/\"uuid\": $body.snapshot.uuid/]\n+// TESTRESPONSE[s/\"version_id\": <version_id>/\"version_id\": $body.snapshot.version_id/]\n+// TESTRESPONSE[s/\"version\": <version>/\"version\": $body.snapshot.version/]\n+// TESTRESPONSE[s/\"start_time\": \"2020-07-06T21:55:18.129Z\"/\"start_time\": $body.snapshot.start_time/]\n+// TESTRESPONSE[s/\"start_time_in_millis\": 1593093628850/\"start_time_in_millis\": $body.snapshot.start_time_in_millis/]\n+// TESTRESPONSE[s/\"end_time\": \"2020-07-06T21:55:18.129Z\"/\"end_time\": $body.snapshot.end_time/]\n+// TESTRESPONSE[s/\"end_time_in_millis\": 1593094752018/\"end_time_in_millis\": $body.snapshot.end_time_in_millis/]\n+// TESTRESPONSE[s/\"duration_in_millis\": 0/\"duration_in_millis\": $body.snapshot.duration_in_millis/]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "309e51a07b5b1229ccdc57ba72277e625447498c"}, "originalPosition": 128}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDkwMTg0Ng==", "bodyText": "Ah, that's why the tests kept failing! Thank you for locating that issue.", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r450901846", "createdAt": "2020-07-07T14:20:37Z", "author": {"login": "lockewritesdocs"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,149 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Returns information about one or more snapshots from one or more registered repositories.\n+\n+////\n+[source,console]\n+----\n+PUT /_snapshot/my_repository\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_backup_location\"\n+  }\n+}\n+\n+PUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n+\n+PUT /_snapshot/my_repository/snapshot_2?wait_for_completion=true\n+----\n+// TESTSETUP\n+////\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/my_snapshot\n+----\n+\n+[[get-snapshot-api-request]]\n+==== {api-request-title}\n+\n+`GET /_snapshot/<repository>/<snapshot>`\n+\n+[[get-snapshot-api-desc]]\n+==== {api-description-title}\n+\n+Use the get snapshot API to return information about one or more snapshots, including start and end time, version of {es} that created the snapshot, the list of included indices, the current state of the snapshot, and the list of failures that occurred during the snapshot.\n+\n+[[get-snapshot-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<repository>`::\n+(Required, string)\n+Comma-separated list of snapshot repository names used to limit the request.\n+Wildcard (`*`) expressions are supported.\n++\n+To get information about all snapshot repositories registered in the\n+cluster, omit this parameter or use `*` or `_all`.\n+\n+`<snapshot>`::\n+(Required, string)\n+Comma-separated list of snapshot names to return. Also accepts wildcards (`*`).\n++\n+* To get information about all snapshots in a registered repository, use a wildcard (`*`) or `_all`.\n+* To get information about any snapshots that are currently running, omit this parameter and use `_current`.\n++\n+NOTE: Using `_all` in a request fails if any snapshots are unavailable. Set <<get-snapshot-api-ignore-unavailable,`ignore_unavailable`>> to `true` to return only available snapshots.\n+\n+[role=\"child-attributes\"]\n+[[get-snapshot-api-request-body]]\n+==== {api-request-body-title}\n+\n+[[get-snapshot-api-ignore-unavailable]]\n+`ignore_unavailable`::\n+(Optional, boolean)\n+If `false`, the request returns an error for any snapshots that are unavailable. Defaults to `false`.\n++\n+If `true`, the request ignores snapshots that are unavailable, such as those that are corrupted or temporarily cannot be returned.\n+\n+`verbose`::\n+(Optional, boolean)\n+If `true`, returns all available information about a snapshot. Defaults to `true`.\n++\n+If `false`, omits additional information about the snapshot, such as version information, start and end times, and the number of snapshotted shards.\n+\n+[[get-snapshot-api-example]]\n+==== {api-examples-title}\n+\n+The following request returns information for `snapshot_2` in the `my_repository` repository.\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/snapshot_2\n+----\n+\n+The API returns the following response:\n+\n+[source,console-result]\n+----\n+{\n+  \"snapshot\": {\n+    \"snapshot\": \"snapshot_2\",\n+    \"uuid\": \"vdRctLCxSketdKb54xw67g\",\n+    \"version_id\": <version_id>,\n+    \"version\": <version>,\n+    \"indices\": [],\n+    \"data_streams\": [],\n+    \"include_global_state\": false,\n+    \"metadata\": {\n+      \"taken_by\": \"user123\",\n+      \"taken_because\": \"backup before upgrading\"\n+    },\n+    \"state\": \"SUCCESS\",\n+    \"start_time\": \"2020-06-25T14:00:28.850Z\",\n+    \"start_time_in_millis\": 1593093628850,\n+    \"end_time\": \"2020-06-25T14:00:28.850Z\",\n+    \"end_time_in_millis\": 1593094752018,\n+    \"duration_in_millis\": 0,\n+    \"failures\": [],\n+    \"shards\": {\n+      \"total\": 0,\n+      \"failed\": 0,\n+      \"successful\": 0\n+    }\n+  }\n+}\n+----\n+// TESTRESPONSE[s/\"uuid\": \"vdRctLCxSketdKb54xw67g\"/\"uuid\": $body.snapshot.uuid/]\n+// TESTRESPONSE[s/\"version_id\": <version_id>/\"version_id\": $body.snapshot.version_id/]\n+// TESTRESPONSE[s/\"version\": <version>/\"version\": $body.snapshot.version/]\n+// TESTRESPONSE[s/\"start_time\": \"2020-07-06T21:55:18.129Z\"/\"start_time\": $body.snapshot.start_time/]\n+// TESTRESPONSE[s/\"start_time_in_millis\": 1593093628850/\"start_time_in_millis\": $body.snapshot.start_time_in_millis/]\n+// TESTRESPONSE[s/\"end_time\": \"2020-07-06T21:55:18.129Z\"/\"end_time\": $body.snapshot.end_time/]\n+// TESTRESPONSE[s/\"end_time_in_millis\": 1593094752018/\"end_time_in_millis\": $body.snapshot.end_time_in_millis/]\n+// TESTRESPONSE[s/\"duration_in_millis\": 0/\"duration_in_millis\": $body.snapshot.duration_in_millis/]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg2MjQ1MA=="}, "originalCommit": {"oid": "309e51a07b5b1229ccdc57ba72277e625447498c"}, "originalPosition": 128}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMTAwODMyOnYy", "diffSide": "RIGHT", "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMzozMTo0NFrOGt-rnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxNjo1MzoxMlrOGuHUcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg2NjA3Nw==", "bodyText": "The Elastic API reference template includes a section for response body param docs:\nhttps://github.com/elastic/docs/blame/master/shared/api-ref-ex.asciidoc#L123\nI think these values would be more appropriate there. As-is, there isn't a definition for state on this page.\nWe also try to avoid use of the [horizonal] attribute.", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r450866077", "createdAt": "2020-07-07T13:31:44Z", "author": {"login": "jrodewig"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,149 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Returns information about one or more snapshots from one or more registered repositories.\n+\n+////\n+[source,console]\n+----\n+PUT /_snapshot/my_repository\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_backup_location\"\n+  }\n+}\n+\n+PUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n+\n+PUT /_snapshot/my_repository/snapshot_2?wait_for_completion=true\n+----\n+// TESTSETUP\n+////\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/my_snapshot\n+----\n+\n+[[get-snapshot-api-request]]\n+==== {api-request-title}\n+\n+`GET /_snapshot/<repository>/<snapshot>`\n+\n+[[get-snapshot-api-desc]]\n+==== {api-description-title}\n+\n+Use the get snapshot API to return information about one or more snapshots, including start and end time, version of {es} that created the snapshot, the list of included indices, the current state of the snapshot, and the list of failures that occurred during the snapshot.\n+\n+[[get-snapshot-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<repository>`::\n+(Required, string)\n+Comma-separated list of snapshot repository names used to limit the request.\n+Wildcard (`*`) expressions are supported.\n++\n+To get information about all snapshot repositories registered in the\n+cluster, omit this parameter or use `*` or `_all`.\n+\n+`<snapshot>`::\n+(Required, string)\n+Comma-separated list of snapshot names to return. Also accepts wildcards (`*`).\n++\n+* To get information about all snapshots in a registered repository, use a wildcard (`*`) or `_all`.\n+* To get information about any snapshots that are currently running, omit this parameter and use `_current`.\n++\n+NOTE: Using `_all` in a request fails if any snapshots are unavailable. Set <<get-snapshot-api-ignore-unavailable,`ignore_unavailable`>> to `true` to return only available snapshots.\n+\n+[role=\"child-attributes\"]\n+[[get-snapshot-api-request-body]]\n+==== {api-request-body-title}\n+\n+[[get-snapshot-api-ignore-unavailable]]\n+`ignore_unavailable`::\n+(Optional, boolean)\n+If `false`, the request returns an error for any snapshots that are unavailable. Defaults to `false`.\n++\n+If `true`, the request ignores snapshots that are unavailable, such as those that are corrupted or temporarily cannot be returned.\n+\n+`verbose`::\n+(Optional, boolean)\n+If `true`, returns all available information about a snapshot. Defaults to `true`.\n++\n+If `false`, omits additional information about the snapshot, such as version information, start and end times, and the number of snapshotted shards.\n+\n+[[get-snapshot-api-example]]\n+==== {api-examples-title}\n+\n+The following request returns information for `snapshot_2` in the `my_repository` repository.\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/snapshot_2\n+----\n+\n+The API returns the following response:\n+\n+[source,console-result]\n+----\n+{\n+  \"snapshot\": {\n+    \"snapshot\": \"snapshot_2\",\n+    \"uuid\": \"vdRctLCxSketdKb54xw67g\",\n+    \"version_id\": <version_id>,\n+    \"version\": <version>,\n+    \"indices\": [],\n+    \"data_streams\": [],\n+    \"include_global_state\": false,\n+    \"metadata\": {\n+      \"taken_by\": \"user123\",\n+      \"taken_because\": \"backup before upgrading\"\n+    },\n+    \"state\": \"SUCCESS\",\n+    \"start_time\": \"2020-06-25T14:00:28.850Z\",\n+    \"start_time_in_millis\": 1593093628850,\n+    \"end_time\": \"2020-06-25T14:00:28.850Z\",\n+    \"end_time_in_millis\": 1593094752018,\n+    \"duration_in_millis\": 0,\n+    \"failures\": [],\n+    \"shards\": {\n+      \"total\": 0,\n+      \"failed\": 0,\n+      \"successful\": 0\n+    }\n+  }\n+}\n+----\n+// TESTRESPONSE[s/\"uuid\": \"vdRctLCxSketdKb54xw67g\"/\"uuid\": $body.snapshot.uuid/]\n+// TESTRESPONSE[s/\"version_id\": <version_id>/\"version_id\": $body.snapshot.version_id/]\n+// TESTRESPONSE[s/\"version\": <version>/\"version\": $body.snapshot.version/]\n+// TESTRESPONSE[s/\"start_time\": \"2020-07-06T21:55:18.129Z\"/\"start_time\": $body.snapshot.start_time/]\n+// TESTRESPONSE[s/\"start_time_in_millis\": 1593093628850/\"start_time_in_millis\": $body.snapshot.start_time_in_millis/]\n+// TESTRESPONSE[s/\"end_time\": \"2020-07-06T21:55:18.129Z\"/\"end_time\": $body.snapshot.end_time/]\n+// TESTRESPONSE[s/\"end_time_in_millis\": 1593094752018/\"end_time_in_millis\": $body.snapshot.end_time_in_millis/]\n+// TESTRESPONSE[s/\"duration_in_millis\": 0/\"duration_in_millis\": $body.snapshot.duration_in_millis/]\n+\n+The snapshot `state` can be one of the following values:\n+\n+[horizontal]\n+`IN_PROGRESS`::\n+  The snapshot is currently running.\n+\n+`SUCCESS`::\n+  The snapshot finished and all shards were stored successfully.\n+\n+`FAILED`::\n+  The snapshot finished with an error and failed to store any data.\n+\n+`PARTIAL`::\n+  The global cluster state was stored, but data of at least one shard was not stored successfully.\n+  The `failures` section of the response contains more detailed information about shards\n+  that were not processed correctly.\n+\n+`INCOMPATIBLE`::\n+  The snapshot was created with an old version of {es} and is incompatible with\n+  the current version of the cluster.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "309e51a07b5b1229ccdc57ba72277e625447498c"}, "originalPosition": 149}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTAwNzYwMg==", "bodyText": "I moved these parameters into the {api-response-body-title} section and nested them accordingly. Also, removed [horizontal].", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r451007602", "createdAt": "2020-07-07T16:53:12Z", "author": {"login": "lockewritesdocs"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,149 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Returns information about one or more snapshots from one or more registered repositories.\n+\n+////\n+[source,console]\n+----\n+PUT /_snapshot/my_repository\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_backup_location\"\n+  }\n+}\n+\n+PUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n+\n+PUT /_snapshot/my_repository/snapshot_2?wait_for_completion=true\n+----\n+// TESTSETUP\n+////\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/my_snapshot\n+----\n+\n+[[get-snapshot-api-request]]\n+==== {api-request-title}\n+\n+`GET /_snapshot/<repository>/<snapshot>`\n+\n+[[get-snapshot-api-desc]]\n+==== {api-description-title}\n+\n+Use the get snapshot API to return information about one or more snapshots, including start and end time, version of {es} that created the snapshot, the list of included indices, the current state of the snapshot, and the list of failures that occurred during the snapshot.\n+\n+[[get-snapshot-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<repository>`::\n+(Required, string)\n+Comma-separated list of snapshot repository names used to limit the request.\n+Wildcard (`*`) expressions are supported.\n++\n+To get information about all snapshot repositories registered in the\n+cluster, omit this parameter or use `*` or `_all`.\n+\n+`<snapshot>`::\n+(Required, string)\n+Comma-separated list of snapshot names to return. Also accepts wildcards (`*`).\n++\n+* To get information about all snapshots in a registered repository, use a wildcard (`*`) or `_all`.\n+* To get information about any snapshots that are currently running, omit this parameter and use `_current`.\n++\n+NOTE: Using `_all` in a request fails if any snapshots are unavailable. Set <<get-snapshot-api-ignore-unavailable,`ignore_unavailable`>> to `true` to return only available snapshots.\n+\n+[role=\"child-attributes\"]\n+[[get-snapshot-api-request-body]]\n+==== {api-request-body-title}\n+\n+[[get-snapshot-api-ignore-unavailable]]\n+`ignore_unavailable`::\n+(Optional, boolean)\n+If `false`, the request returns an error for any snapshots that are unavailable. Defaults to `false`.\n++\n+If `true`, the request ignores snapshots that are unavailable, such as those that are corrupted or temporarily cannot be returned.\n+\n+`verbose`::\n+(Optional, boolean)\n+If `true`, returns all available information about a snapshot. Defaults to `true`.\n++\n+If `false`, omits additional information about the snapshot, such as version information, start and end times, and the number of snapshotted shards.\n+\n+[[get-snapshot-api-example]]\n+==== {api-examples-title}\n+\n+The following request returns information for `snapshot_2` in the `my_repository` repository.\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/snapshot_2\n+----\n+\n+The API returns the following response:\n+\n+[source,console-result]\n+----\n+{\n+  \"snapshot\": {\n+    \"snapshot\": \"snapshot_2\",\n+    \"uuid\": \"vdRctLCxSketdKb54xw67g\",\n+    \"version_id\": <version_id>,\n+    \"version\": <version>,\n+    \"indices\": [],\n+    \"data_streams\": [],\n+    \"include_global_state\": false,\n+    \"metadata\": {\n+      \"taken_by\": \"user123\",\n+      \"taken_because\": \"backup before upgrading\"\n+    },\n+    \"state\": \"SUCCESS\",\n+    \"start_time\": \"2020-06-25T14:00:28.850Z\",\n+    \"start_time_in_millis\": 1593093628850,\n+    \"end_time\": \"2020-06-25T14:00:28.850Z\",\n+    \"end_time_in_millis\": 1593094752018,\n+    \"duration_in_millis\": 0,\n+    \"failures\": [],\n+    \"shards\": {\n+      \"total\": 0,\n+      \"failed\": 0,\n+      \"successful\": 0\n+    }\n+  }\n+}\n+----\n+// TESTRESPONSE[s/\"uuid\": \"vdRctLCxSketdKb54xw67g\"/\"uuid\": $body.snapshot.uuid/]\n+// TESTRESPONSE[s/\"version_id\": <version_id>/\"version_id\": $body.snapshot.version_id/]\n+// TESTRESPONSE[s/\"version\": <version>/\"version\": $body.snapshot.version/]\n+// TESTRESPONSE[s/\"start_time\": \"2020-07-06T21:55:18.129Z\"/\"start_time\": $body.snapshot.start_time/]\n+// TESTRESPONSE[s/\"start_time_in_millis\": 1593093628850/\"start_time_in_millis\": $body.snapshot.start_time_in_millis/]\n+// TESTRESPONSE[s/\"end_time\": \"2020-07-06T21:55:18.129Z\"/\"end_time\": $body.snapshot.end_time/]\n+// TESTRESPONSE[s/\"end_time_in_millis\": 1593094752018/\"end_time_in_millis\": $body.snapshot.end_time_in_millis/]\n+// TESTRESPONSE[s/\"duration_in_millis\": 0/\"duration_in_millis\": $body.snapshot.duration_in_millis/]\n+\n+The snapshot `state` can be one of the following values:\n+\n+[horizontal]\n+`IN_PROGRESS`::\n+  The snapshot is currently running.\n+\n+`SUCCESS`::\n+  The snapshot finished and all shards were stored successfully.\n+\n+`FAILED`::\n+  The snapshot finished with an error and failed to store any data.\n+\n+`PARTIAL`::\n+  The global cluster state was stored, but data of at least one shard was not stored successfully.\n+  The `failures` section of the response contains more detailed information about shards\n+  that were not processed correctly.\n+\n+`INCOMPATIBLE`::\n+  The snapshot was created with an old version of {es} and is incompatible with\n+  the current version of the cluster.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg2NjA3Nw=="}, "originalCommit": {"oid": "309e51a07b5b1229ccdc57ba72277e625447498c"}, "originalPosition": 149}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMTA3NzAxOnYy", "diffSide": "RIGHT", "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMzo0NzoyM1rOGt_WcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMzo0NzoyM1rOGt_WcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg3NzA0MA==", "bodyText": "Please wrap to 80-120 characters.", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r450877040", "createdAt": "2020-07-07T13:47:23Z", "author": {"login": "jrodewig"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,149 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Returns information about one or more snapshots from one or more registered repositories.\n+\n+////\n+[source,console]\n+----\n+PUT /_snapshot/my_repository\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_backup_location\"\n+  }\n+}\n+\n+PUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n+\n+PUT /_snapshot/my_repository/snapshot_2?wait_for_completion=true\n+----\n+// TESTSETUP\n+////\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/my_snapshot\n+----\n+\n+[[get-snapshot-api-request]]\n+==== {api-request-title}\n+\n+`GET /_snapshot/<repository>/<snapshot>`\n+\n+[[get-snapshot-api-desc]]\n+==== {api-description-title}\n+\n+Use the get snapshot API to return information about one or more snapshots, including start and end time, version of {es} that created the snapshot, the list of included indices, the current state of the snapshot, and the list of failures that occurred during the snapshot.\n+\n+[[get-snapshot-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<repository>`::\n+(Required, string)\n+Comma-separated list of snapshot repository names used to limit the request.\n+Wildcard (`*`) expressions are supported.\n++\n+To get information about all snapshot repositories registered in the\n+cluster, omit this parameter or use `*` or `_all`.\n+\n+`<snapshot>`::\n+(Required, string)\n+Comma-separated list of snapshot names to return. Also accepts wildcards (`*`).\n++\n+* To get information about all snapshots in a registered repository, use a wildcard (`*`) or `_all`.\n+* To get information about any snapshots that are currently running, omit this parameter and use `_current`.\n++\n+NOTE: Using `_all` in a request fails if any snapshots are unavailable. Set <<get-snapshot-api-ignore-unavailable,`ignore_unavailable`>> to `true` to return only available snapshots.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "309e51a07b5b1229ccdc57ba72277e625447498c"}, "originalPosition": 60}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMjkwNTU4OnYy", "diffSide": "RIGHT", "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMjowNjoxM1rOGuRSaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMjowNjoxM1rOGuRSaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE3MDkyMA==", "bodyText": "@original-brownbear, can you please review the response body parameters that I added in lines 87-157?", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r451170920", "createdAt": "2020-07-07T22:06:13Z", "author": {"login": "lockewritesdocs"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -76,6 +83,78 @@ If `true`, returns all available information about a snapshot. Defaults to `true\n +\n If `false`, omits additional information about the snapshot, such as version information, start and end times, and the number of snapshotted shards.\n \n+[role=\"child-attributes\"]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e7ac1c0892bc0aaa8ce59504d65daa5e52e9d00b"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMzA1OTY2OnYy", "diffSide": "RIGHT", "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMzoxMzoxOVrOGuSuDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMzoxMzoxOVrOGuSuDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE5NDM4MQ==", "bodyText": "This role tag is slightly off.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            [role=\"child-attributes\"]\n          \n          \n            \n            [role=\"child_attributes\"]", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r451194381", "createdAt": "2020-07-07T23:13:19Z", "author": {"login": "jrodewig"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,210 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Retrieves information about one or more snapshots.\n+\n+////\n+[source,console]\n+----\n+PUT /_snapshot/my_repository\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_backup_location\"\n+  }\n+}\n+\n+PUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n+\n+PUT /_snapshot/my_repository/snapshot_2?wait_for_completion=true\n+----\n+// TESTSETUP\n+////\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/my_snapshot\n+----\n+\n+[[get-snapshot-api-request]]\n+==== {api-request-title}\n+\n+`GET /_snapshot/<repository>/<snapshot>`\n+\n+[[get-snapshot-api-desc]]\n+==== {api-description-title}\n+\n+Use the get snapshot API to return information about one or more snapshots, including:\n+\n+* Value start and end time\n+* Version of {es} that created the snapshot\n+* List of included indices\n+* Current state of the snapshot\n+* List of failures that occurred during the snapshot\n+\n+[[get-snapshot-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<repository>`::\n+(Required, string)\n+Comma-separated list of snapshot repository names used to limit the request.\n+Wildcard (`*`) expressions are supported.\n++\n+To get information about all snapshot repositories registered in the\n+cluster, omit this parameter or use `*` or `_all`.\n+\n+`<snapshot>`::\n+(Required, string)\n+Comma-separated list of snapshot names to retrieve. Also accepts wildcards (`*`).\n++\n+* To get information about all snapshots in a registered repository, use a wildcard (`*`) or `_all`.\n+* To get information about any snapshots that are currently running, use `_current`.\n++\n+NOTE: Using `_all` in a request fails if any snapshots are unavailable.\n+Set <<get-snapshot-api-ignore-unavailable,`ignore_unavailable`>> to `true` to return only available snapshots.\n+\n+[role=\"child-attributes\"]\n+[[get-snapshot-api-request-body]]\n+==== {api-request-body-title}\n+\n+[[get-snapshot-api-ignore-unavailable]]\n+`ignore_unavailable`::\n+(Optional, boolean)\n+If `false`, the request returns an error for any snapshots that are unavailable. Defaults to `false`.\n++\n+If `true`, the request ignores snapshots that are unavailable, such as those that are corrupted or temporarily cannot be returned.\n+\n+`verbose`::\n+(Optional, boolean)\n+If `true`, returns all available information about a snapshot. Defaults to `true`.\n++\n+If `false`, omits additional information about the snapshot, such as version information, start and end times, and the number of snapshotted shards.\n+\n+[role=\"child-attributes\"]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa8aa2f28b9c9ee7a59d19d7a141b2781554eac0"}, "originalPosition": 86}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMzA1OTY5OnYy", "diffSide": "RIGHT", "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMzoxMzoyMVrOGuSuFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMzoxMzoyMVrOGuSuFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE5NDM4OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            [role=\"child-attributes\"]\n          \n          \n            \n            [role=\"child_attributes\"]", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r451194388", "createdAt": "2020-07-07T23:13:21Z", "author": {"login": "jrodewig"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,210 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Retrieves information about one or more snapshots.\n+\n+////\n+[source,console]\n+----\n+PUT /_snapshot/my_repository\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_backup_location\"\n+  }\n+}\n+\n+PUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n+\n+PUT /_snapshot/my_repository/snapshot_2?wait_for_completion=true\n+----\n+// TESTSETUP\n+////\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/my_snapshot\n+----\n+\n+[[get-snapshot-api-request]]\n+==== {api-request-title}\n+\n+`GET /_snapshot/<repository>/<snapshot>`\n+\n+[[get-snapshot-api-desc]]\n+==== {api-description-title}\n+\n+Use the get snapshot API to return information about one or more snapshots, including:\n+\n+* Value start and end time\n+* Version of {es} that created the snapshot\n+* List of included indices\n+* Current state of the snapshot\n+* List of failures that occurred during the snapshot\n+\n+[[get-snapshot-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<repository>`::\n+(Required, string)\n+Comma-separated list of snapshot repository names used to limit the request.\n+Wildcard (`*`) expressions are supported.\n++\n+To get information about all snapshot repositories registered in the\n+cluster, omit this parameter or use `*` or `_all`.\n+\n+`<snapshot>`::\n+(Required, string)\n+Comma-separated list of snapshot names to retrieve. Also accepts wildcards (`*`).\n++\n+* To get information about all snapshots in a registered repository, use a wildcard (`*`) or `_all`.\n+* To get information about any snapshots that are currently running, use `_current`.\n++\n+NOTE: Using `_all` in a request fails if any snapshots are unavailable.\n+Set <<get-snapshot-api-ignore-unavailable,`ignore_unavailable`>> to `true` to return only available snapshots.\n+\n+[role=\"child-attributes\"]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa8aa2f28b9c9ee7a59d19d7a141b2781554eac0"}, "originalPosition": 69}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMzA2MTM4OnYy", "diffSide": "RIGHT", "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMzoxNDowOFrOGuSvFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMzoxNDowOFrOGuSvFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE5NDY0Ng==", "bodyText": "We typically include the data type in the definition.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            `snapshot`::\n          \n          \n            \n            `snapshot`::\n          \n          \n            \n            (string)", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r451194646", "createdAt": "2020-07-07T23:14:08Z", "author": {"login": "jrodewig"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,210 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Retrieves information about one or more snapshots.\n+\n+////\n+[source,console]\n+----\n+PUT /_snapshot/my_repository\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_backup_location\"\n+  }\n+}\n+\n+PUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n+\n+PUT /_snapshot/my_repository/snapshot_2?wait_for_completion=true\n+----\n+// TESTSETUP\n+////\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/my_snapshot\n+----\n+\n+[[get-snapshot-api-request]]\n+==== {api-request-title}\n+\n+`GET /_snapshot/<repository>/<snapshot>`\n+\n+[[get-snapshot-api-desc]]\n+==== {api-description-title}\n+\n+Use the get snapshot API to return information about one or more snapshots, including:\n+\n+* Value start and end time\n+* Version of {es} that created the snapshot\n+* List of included indices\n+* Current state of the snapshot\n+* List of failures that occurred during the snapshot\n+\n+[[get-snapshot-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<repository>`::\n+(Required, string)\n+Comma-separated list of snapshot repository names used to limit the request.\n+Wildcard (`*`) expressions are supported.\n++\n+To get information about all snapshot repositories registered in the\n+cluster, omit this parameter or use `*` or `_all`.\n+\n+`<snapshot>`::\n+(Required, string)\n+Comma-separated list of snapshot names to retrieve. Also accepts wildcards (`*`).\n++\n+* To get information about all snapshots in a registered repository, use a wildcard (`*`) or `_all`.\n+* To get information about any snapshots that are currently running, use `_current`.\n++\n+NOTE: Using `_all` in a request fails if any snapshots are unavailable.\n+Set <<get-snapshot-api-ignore-unavailable,`ignore_unavailable`>> to `true` to return only available snapshots.\n+\n+[role=\"child-attributes\"]\n+[[get-snapshot-api-request-body]]\n+==== {api-request-body-title}\n+\n+[[get-snapshot-api-ignore-unavailable]]\n+`ignore_unavailable`::\n+(Optional, boolean)\n+If `false`, the request returns an error for any snapshots that are unavailable. Defaults to `false`.\n++\n+If `true`, the request ignores snapshots that are unavailable, such as those that are corrupted or temporarily cannot be returned.\n+\n+`verbose`::\n+(Optional, boolean)\n+If `true`, returns all available information about a snapshot. Defaults to `true`.\n++\n+If `false`, omits additional information about the snapshot, such as version information, start and end times, and the number of snapshotted shards.\n+\n+[role=\"child-attributes\"]\n+[[get-snapshot-api-response-body]]\n+==== {api-response-body-title}\n+\n+`snapshot`::", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa8aa2f28b9c9ee7a59d19d7a141b2781554eac0"}, "originalPosition": 90}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMzA2MTk3OnYy", "diffSide": "RIGHT", "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMzoxNDoyNlrOGuSvaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxMzo0ODozNlrOGuo6oA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE5NDczMQ==", "bodyText": "You're missing the data_streams and include_global_state defs.", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r451194731", "createdAt": "2020-07-07T23:14:26Z", "author": {"login": "jrodewig"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,210 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Retrieves information about one or more snapshots.\n+\n+////\n+[source,console]\n+----\n+PUT /_snapshot/my_repository\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_backup_location\"\n+  }\n+}\n+\n+PUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n+\n+PUT /_snapshot/my_repository/snapshot_2?wait_for_completion=true\n+----\n+// TESTSETUP\n+////\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/my_snapshot\n+----\n+\n+[[get-snapshot-api-request]]\n+==== {api-request-title}\n+\n+`GET /_snapshot/<repository>/<snapshot>`\n+\n+[[get-snapshot-api-desc]]\n+==== {api-description-title}\n+\n+Use the get snapshot API to return information about one or more snapshots, including:\n+\n+* Value start and end time\n+* Version of {es} that created the snapshot\n+* List of included indices\n+* Current state of the snapshot\n+* List of failures that occurred during the snapshot\n+\n+[[get-snapshot-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<repository>`::\n+(Required, string)\n+Comma-separated list of snapshot repository names used to limit the request.\n+Wildcard (`*`) expressions are supported.\n++\n+To get information about all snapshot repositories registered in the\n+cluster, omit this parameter or use `*` or `_all`.\n+\n+`<snapshot>`::\n+(Required, string)\n+Comma-separated list of snapshot names to retrieve. Also accepts wildcards (`*`).\n++\n+* To get information about all snapshots in a registered repository, use a wildcard (`*`) or `_all`.\n+* To get information about any snapshots that are currently running, use `_current`.\n++\n+NOTE: Using `_all` in a request fails if any snapshots are unavailable.\n+Set <<get-snapshot-api-ignore-unavailable,`ignore_unavailable`>> to `true` to return only available snapshots.\n+\n+[role=\"child-attributes\"]\n+[[get-snapshot-api-request-body]]\n+==== {api-request-body-title}\n+\n+[[get-snapshot-api-ignore-unavailable]]\n+`ignore_unavailable`::\n+(Optional, boolean)\n+If `false`, the request returns an error for any snapshots that are unavailable. Defaults to `false`.\n++\n+If `true`, the request ignores snapshots that are unavailable, such as those that are corrupted or temporarily cannot be returned.\n+\n+`verbose`::\n+(Optional, boolean)\n+If `true`, returns all available information about a snapshot. Defaults to `true`.\n++\n+If `false`, omits additional information about the snapshot, such as version information, start and end times, and the number of snapshotted shards.\n+\n+[role=\"child-attributes\"]\n+[[get-snapshot-api-response-body]]\n+==== {api-response-body-title}\n+\n+`snapshot`::\n+Name of the snapshot.\n+\n+`uuid`::\n+Universally unique identifier (UUID) of the snapshot.\n+\n+`version_id`::\n+Build ID of the {es} version used to create the snapshot.\n+\n+`version`::\n+{es} version used to create the snapshot.\n+\n+`indices`::\n+Indices that are included in the snapshot.\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa8aa2f28b9c9ee7a59d19d7a141b2781554eac0"}, "originalPosition": 104}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTU1ODA0OA==", "bodyText": "I'll add both definitions.", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r451558048", "createdAt": "2020-07-08T13:48:36Z", "author": {"login": "lockewritesdocs"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,210 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Retrieves information about one or more snapshots.\n+\n+////\n+[source,console]\n+----\n+PUT /_snapshot/my_repository\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_backup_location\"\n+  }\n+}\n+\n+PUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n+\n+PUT /_snapshot/my_repository/snapshot_2?wait_for_completion=true\n+----\n+// TESTSETUP\n+////\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/my_snapshot\n+----\n+\n+[[get-snapshot-api-request]]\n+==== {api-request-title}\n+\n+`GET /_snapshot/<repository>/<snapshot>`\n+\n+[[get-snapshot-api-desc]]\n+==== {api-description-title}\n+\n+Use the get snapshot API to return information about one or more snapshots, including:\n+\n+* Value start and end time\n+* Version of {es} that created the snapshot\n+* List of included indices\n+* Current state of the snapshot\n+* List of failures that occurred during the snapshot\n+\n+[[get-snapshot-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<repository>`::\n+(Required, string)\n+Comma-separated list of snapshot repository names used to limit the request.\n+Wildcard (`*`) expressions are supported.\n++\n+To get information about all snapshot repositories registered in the\n+cluster, omit this parameter or use `*` or `_all`.\n+\n+`<snapshot>`::\n+(Required, string)\n+Comma-separated list of snapshot names to retrieve. Also accepts wildcards (`*`).\n++\n+* To get information about all snapshots in a registered repository, use a wildcard (`*`) or `_all`.\n+* To get information about any snapshots that are currently running, use `_current`.\n++\n+NOTE: Using `_all` in a request fails if any snapshots are unavailable.\n+Set <<get-snapshot-api-ignore-unavailable,`ignore_unavailable`>> to `true` to return only available snapshots.\n+\n+[role=\"child-attributes\"]\n+[[get-snapshot-api-request-body]]\n+==== {api-request-body-title}\n+\n+[[get-snapshot-api-ignore-unavailable]]\n+`ignore_unavailable`::\n+(Optional, boolean)\n+If `false`, the request returns an error for any snapshots that are unavailable. Defaults to `false`.\n++\n+If `true`, the request ignores snapshots that are unavailable, such as those that are corrupted or temporarily cannot be returned.\n+\n+`verbose`::\n+(Optional, boolean)\n+If `true`, returns all available information about a snapshot. Defaults to `true`.\n++\n+If `false`, omits additional information about the snapshot, such as version information, start and end times, and the number of snapshotted shards.\n+\n+[role=\"child-attributes\"]\n+[[get-snapshot-api-response-body]]\n+==== {api-response-body-title}\n+\n+`snapshot`::\n+Name of the snapshot.\n+\n+`uuid`::\n+Universally unique identifier (UUID) of the snapshot.\n+\n+`version_id`::\n+Build ID of the {es} version used to create the snapshot.\n+\n+`version`::\n+{es} version used to create the snapshot.\n+\n+`indices`::\n+Indices that are included in the snapshot.\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE5NDczMQ=="}, "originalCommit": {"oid": "aa8aa2f28b9c9ee7a59d19d7a141b2781554eac0"}, "originalPosition": 104}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMzA2NTI0OnYy", "diffSide": "RIGHT", "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMzoxNTo1NFrOGuSxTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxMzoxMToxOFrOGunWUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE5NTIxNQ==", "bodyText": "You should be able to do a nested definition for this.\nYou can check out the search API's shard response param for an example:\nhttps://www.elastic.co/guide/en/elasticsearch/reference/master/search-search.html#search-api-response-body", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r451195215", "createdAt": "2020-07-07T23:15:54Z", "author": {"login": "jrodewig"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,210 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Retrieves information about one or more snapshots.\n+\n+////\n+[source,console]\n+----\n+PUT /_snapshot/my_repository\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_backup_location\"\n+  }\n+}\n+\n+PUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n+\n+PUT /_snapshot/my_repository/snapshot_2?wait_for_completion=true\n+----\n+// TESTSETUP\n+////\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/my_snapshot\n+----\n+\n+[[get-snapshot-api-request]]\n+==== {api-request-title}\n+\n+`GET /_snapshot/<repository>/<snapshot>`\n+\n+[[get-snapshot-api-desc]]\n+==== {api-description-title}\n+\n+Use the get snapshot API to return information about one or more snapshots, including:\n+\n+* Value start and end time\n+* Version of {es} that created the snapshot\n+* List of included indices\n+* Current state of the snapshot\n+* List of failures that occurred during the snapshot\n+\n+[[get-snapshot-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<repository>`::\n+(Required, string)\n+Comma-separated list of snapshot repository names used to limit the request.\n+Wildcard (`*`) expressions are supported.\n++\n+To get information about all snapshot repositories registered in the\n+cluster, omit this parameter or use `*` or `_all`.\n+\n+`<snapshot>`::\n+(Required, string)\n+Comma-separated list of snapshot names to retrieve. Also accepts wildcards (`*`).\n++\n+* To get information about all snapshots in a registered repository, use a wildcard (`*`) or `_all`.\n+* To get information about any snapshots that are currently running, use `_current`.\n++\n+NOTE: Using `_all` in a request fails if any snapshots are unavailable.\n+Set <<get-snapshot-api-ignore-unavailable,`ignore_unavailable`>> to `true` to return only available snapshots.\n+\n+[role=\"child-attributes\"]\n+[[get-snapshot-api-request-body]]\n+==== {api-request-body-title}\n+\n+[[get-snapshot-api-ignore-unavailable]]\n+`ignore_unavailable`::\n+(Optional, boolean)\n+If `false`, the request returns an error for any snapshots that are unavailable. Defaults to `false`.\n++\n+If `true`, the request ignores snapshots that are unavailable, such as those that are corrupted or temporarily cannot be returned.\n+\n+`verbose`::\n+(Optional, boolean)\n+If `true`, returns all available information about a snapshot. Defaults to `true`.\n++\n+If `false`, omits additional information about the snapshot, such as version information, start and end times, and the number of snapshotted shards.\n+\n+[role=\"child-attributes\"]\n+[[get-snapshot-api-response-body]]\n+==== {api-response-body-title}\n+\n+`snapshot`::\n+Name of the snapshot.\n+\n+`uuid`::\n+Universally unique identifier (UUID) of the snapshot.\n+\n+`version_id`::\n+Build ID of the {es} version used to create the snapshot.\n+\n+`version`::\n+{es} version used to create the snapshot.\n+\n+`indices`::\n+Indices that are included in the snapshot.\n+\n+`start_time`::\n+Date timestamp of when the snapshot creation process started.\n+\n+`start_time_in_millis`::\n+The start time, in milliseconds, when the snapshot creation process started.\n+\n+`end_time`::\n+Date timestamp of when the snapshot creation process ended.\n+\n+`end_time_in_millis`::\n+The end time, in milliseconds, when the snapshot creation process ended.\n+\n+`duration_in_millis`::\n+How long, in milliseconds, it took to create the snapshot.\n+\n+`failures`::\n+Lists any failures that occurred when creating the snapshot.\n+\n+`shards`::\n+Indicates the following shards information:\n+* Total shards included in the snapshot\n+* Failed shards that were not included in the snapshot\n+* Successful shards that were included in the snapshot", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa8aa2f28b9c9ee7a59d19d7a141b2781554eac0"}, "originalPosition": 127}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTUzMjM2OQ==", "bodyText": "Thanks! I'll apply this formatting.", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r451532369", "createdAt": "2020-07-08T13:11:18Z", "author": {"login": "lockewritesdocs"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,210 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Retrieves information about one or more snapshots.\n+\n+////\n+[source,console]\n+----\n+PUT /_snapshot/my_repository\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_backup_location\"\n+  }\n+}\n+\n+PUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n+\n+PUT /_snapshot/my_repository/snapshot_2?wait_for_completion=true\n+----\n+// TESTSETUP\n+////\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/my_snapshot\n+----\n+\n+[[get-snapshot-api-request]]\n+==== {api-request-title}\n+\n+`GET /_snapshot/<repository>/<snapshot>`\n+\n+[[get-snapshot-api-desc]]\n+==== {api-description-title}\n+\n+Use the get snapshot API to return information about one or more snapshots, including:\n+\n+* Value start and end time\n+* Version of {es} that created the snapshot\n+* List of included indices\n+* Current state of the snapshot\n+* List of failures that occurred during the snapshot\n+\n+[[get-snapshot-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<repository>`::\n+(Required, string)\n+Comma-separated list of snapshot repository names used to limit the request.\n+Wildcard (`*`) expressions are supported.\n++\n+To get information about all snapshot repositories registered in the\n+cluster, omit this parameter or use `*` or `_all`.\n+\n+`<snapshot>`::\n+(Required, string)\n+Comma-separated list of snapshot names to retrieve. Also accepts wildcards (`*`).\n++\n+* To get information about all snapshots in a registered repository, use a wildcard (`*`) or `_all`.\n+* To get information about any snapshots that are currently running, use `_current`.\n++\n+NOTE: Using `_all` in a request fails if any snapshots are unavailable.\n+Set <<get-snapshot-api-ignore-unavailable,`ignore_unavailable`>> to `true` to return only available snapshots.\n+\n+[role=\"child-attributes\"]\n+[[get-snapshot-api-request-body]]\n+==== {api-request-body-title}\n+\n+[[get-snapshot-api-ignore-unavailable]]\n+`ignore_unavailable`::\n+(Optional, boolean)\n+If `false`, the request returns an error for any snapshots that are unavailable. Defaults to `false`.\n++\n+If `true`, the request ignores snapshots that are unavailable, such as those that are corrupted or temporarily cannot be returned.\n+\n+`verbose`::\n+(Optional, boolean)\n+If `true`, returns all available information about a snapshot. Defaults to `true`.\n++\n+If `false`, omits additional information about the snapshot, such as version information, start and end times, and the number of snapshotted shards.\n+\n+[role=\"child-attributes\"]\n+[[get-snapshot-api-response-body]]\n+==== {api-response-body-title}\n+\n+`snapshot`::\n+Name of the snapshot.\n+\n+`uuid`::\n+Universally unique identifier (UUID) of the snapshot.\n+\n+`version_id`::\n+Build ID of the {es} version used to create the snapshot.\n+\n+`version`::\n+{es} version used to create the snapshot.\n+\n+`indices`::\n+Indices that are included in the snapshot.\n+\n+`start_time`::\n+Date timestamp of when the snapshot creation process started.\n+\n+`start_time_in_millis`::\n+The start time, in milliseconds, when the snapshot creation process started.\n+\n+`end_time`::\n+Date timestamp of when the snapshot creation process ended.\n+\n+`end_time_in_millis`::\n+The end time, in milliseconds, when the snapshot creation process ended.\n+\n+`duration_in_millis`::\n+How long, in milliseconds, it took to create the snapshot.\n+\n+`failures`::\n+Lists any failures that occurred when creating the snapshot.\n+\n+`shards`::\n+Indicates the following shards information:\n+* Total shards included in the snapshot\n+* Failed shards that were not included in the snapshot\n+* Successful shards that were included in the snapshot", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE5NTIxNQ=="}, "originalCommit": {"oid": "aa8aa2f28b9c9ee7a59d19d7a141b2781554eac0"}, "originalPosition": 127}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxNDEyNTQyOnYy", "diffSide": "RIGHT", "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwODowMDoyNVrOGuclnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxMjo1MzoyNVrOGumpkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTM1NjA2MA==", "bodyText": "I think we can leave this one out. I don't think this is ever returned in master or 7.x at this point. Also, it's a little confusing to state:\n\nThe snapshot was created with an old version of {es} and is incompatible with the current version of the cluster.\n\nThis is true yes. But historically we would only show this for ES 1.x snapshots and not in general anyway => let's just drop the documentation for this and I'll look into removing the last bits of code referencing INCOMPATIBLE shortly.", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r451356060", "createdAt": "2020-07-08T08:00:25Z", "author": {"login": "original-brownbear"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,210 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Retrieves information about one or more snapshots.\n+\n+////\n+[source,console]\n+----\n+PUT /_snapshot/my_repository\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_backup_location\"\n+  }\n+}\n+\n+PUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n+\n+PUT /_snapshot/my_repository/snapshot_2?wait_for_completion=true\n+----\n+// TESTSETUP\n+////\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/my_snapshot\n+----\n+\n+[[get-snapshot-api-request]]\n+==== {api-request-title}\n+\n+`GET /_snapshot/<repository>/<snapshot>`\n+\n+[[get-snapshot-api-desc]]\n+==== {api-description-title}\n+\n+Use the get snapshot API to return information about one or more snapshots, including:\n+\n+* Value start and end time\n+* Version of {es} that created the snapshot\n+* List of included indices\n+* Current state of the snapshot\n+* List of failures that occurred during the snapshot\n+\n+[[get-snapshot-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<repository>`::\n+(Required, string)\n+Comma-separated list of snapshot repository names used to limit the request.\n+Wildcard (`*`) expressions are supported.\n++\n+To get information about all snapshot repositories registered in the\n+cluster, omit this parameter or use `*` or `_all`.\n+\n+`<snapshot>`::\n+(Required, string)\n+Comma-separated list of snapshot names to retrieve. Also accepts wildcards (`*`).\n++\n+* To get information about all snapshots in a registered repository, use a wildcard (`*`) or `_all`.\n+* To get information about any snapshots that are currently running, use `_current`.\n++\n+NOTE: Using `_all` in a request fails if any snapshots are unavailable.\n+Set <<get-snapshot-api-ignore-unavailable,`ignore_unavailable`>> to `true` to return only available snapshots.\n+\n+[role=\"child-attributes\"]\n+[[get-snapshot-api-request-body]]\n+==== {api-request-body-title}\n+\n+[[get-snapshot-api-ignore-unavailable]]\n+`ignore_unavailable`::\n+(Optional, boolean)\n+If `false`, the request returns an error for any snapshots that are unavailable. Defaults to `false`.\n++\n+If `true`, the request ignores snapshots that are unavailable, such as those that are corrupted or temporarily cannot be returned.\n+\n+`verbose`::\n+(Optional, boolean)\n+If `true`, returns all available information about a snapshot. Defaults to `true`.\n++\n+If `false`, omits additional information about the snapshot, such as version information, start and end times, and the number of snapshotted shards.\n+\n+[role=\"child-attributes\"]\n+[[get-snapshot-api-response-body]]\n+==== {api-response-body-title}\n+\n+`snapshot`::\n+Name of the snapshot.\n+\n+`uuid`::\n+Universally unique identifier (UUID) of the snapshot.\n+\n+`version_id`::\n+Build ID of the {es} version used to create the snapshot.\n+\n+`version`::\n+{es} version used to create the snapshot.\n+\n+`indices`::\n+Indices that are included in the snapshot.\n+\n+`start_time`::\n+Date timestamp of when the snapshot creation process started.\n+\n+`start_time_in_millis`::\n+The start time, in milliseconds, when the snapshot creation process started.\n+\n+`end_time`::\n+Date timestamp of when the snapshot creation process ended.\n+\n+`end_time_in_millis`::\n+The end time, in milliseconds, when the snapshot creation process ended.\n+\n+`duration_in_millis`::\n+How long, in milliseconds, it took to create the snapshot.\n+\n+`failures`::\n+Lists any failures that occurred when creating the snapshot.\n+\n+`shards`::\n+Indicates the following shards information:\n+* Total shards included in the snapshot\n+* Failed shards that were not included in the snapshot\n+* Successful shards that were included in the snapshot\n+\n+`state`::\n++\n+--\n+(string)\n+The snapshot `state` can be one of the following values:\n+\n+.Values for `state`\n+[%collapsible%open]\n+====\n+`IN_PROGRESS`::\n+  The snapshot is currently running.\n+\n+`SUCCESS`::\n+  The snapshot finished and all shards were stored successfully.\n+\n+`FAILED`::\n+  The snapshot finished with an error and failed to store any data.\n+\n+`PARTIAL`::\n+  The global cluster state was stored, but data of at least one shard was not stored successfully.\n+  The `failures` section of the response contains more detailed information about shards\n+  that were not processed correctly.\n+\n+`INCOMPATIBLE`::", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa8aa2f28b9c9ee7a59d19d7a141b2781554eac0"}, "originalPosition": 152}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTUyMDkxMg==", "bodyText": "Sounds good @original-brownbear. I'll remove the INCOMPATIBLE value for state.", "url": "https://github.com/elastic/elasticsearch/pull/59098#discussion_r451520912", "createdAt": "2020-07-08T12:53:25Z", "author": {"login": "lockewritesdocs"}, "path": "docs/reference/snapshot-restore/apis/get-snapshot-api.asciidoc", "diffHunk": "@@ -0,0 +1,210 @@\n+[[get-snapshot-api]]\n+=== Get snapshot API\n+++++\n+<titleabbrev>Get snapshot</titleabbrev>\n+++++\n+\n+Retrieves information about one or more snapshots.\n+\n+////\n+[source,console]\n+----\n+PUT /_snapshot/my_repository\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_backup_location\"\n+  }\n+}\n+\n+PUT /_snapshot/my_repository/my_snapshot?wait_for_completion=true\n+\n+PUT /_snapshot/my_repository/snapshot_2?wait_for_completion=true\n+----\n+// TESTSETUP\n+////\n+\n+[source,console]\n+----\n+GET /_snapshot/my_repository/my_snapshot\n+----\n+\n+[[get-snapshot-api-request]]\n+==== {api-request-title}\n+\n+`GET /_snapshot/<repository>/<snapshot>`\n+\n+[[get-snapshot-api-desc]]\n+==== {api-description-title}\n+\n+Use the get snapshot API to return information about one or more snapshots, including:\n+\n+* Value start and end time\n+* Version of {es} that created the snapshot\n+* List of included indices\n+* Current state of the snapshot\n+* List of failures that occurred during the snapshot\n+\n+[[get-snapshot-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<repository>`::\n+(Required, string)\n+Comma-separated list of snapshot repository names used to limit the request.\n+Wildcard (`*`) expressions are supported.\n++\n+To get information about all snapshot repositories registered in the\n+cluster, omit this parameter or use `*` or `_all`.\n+\n+`<snapshot>`::\n+(Required, string)\n+Comma-separated list of snapshot names to retrieve. Also accepts wildcards (`*`).\n++\n+* To get information about all snapshots in a registered repository, use a wildcard (`*`) or `_all`.\n+* To get information about any snapshots that are currently running, use `_current`.\n++\n+NOTE: Using `_all` in a request fails if any snapshots are unavailable.\n+Set <<get-snapshot-api-ignore-unavailable,`ignore_unavailable`>> to `true` to return only available snapshots.\n+\n+[role=\"child-attributes\"]\n+[[get-snapshot-api-request-body]]\n+==== {api-request-body-title}\n+\n+[[get-snapshot-api-ignore-unavailable]]\n+`ignore_unavailable`::\n+(Optional, boolean)\n+If `false`, the request returns an error for any snapshots that are unavailable. Defaults to `false`.\n++\n+If `true`, the request ignores snapshots that are unavailable, such as those that are corrupted or temporarily cannot be returned.\n+\n+`verbose`::\n+(Optional, boolean)\n+If `true`, returns all available information about a snapshot. Defaults to `true`.\n++\n+If `false`, omits additional information about the snapshot, such as version information, start and end times, and the number of snapshotted shards.\n+\n+[role=\"child-attributes\"]\n+[[get-snapshot-api-response-body]]\n+==== {api-response-body-title}\n+\n+`snapshot`::\n+Name of the snapshot.\n+\n+`uuid`::\n+Universally unique identifier (UUID) of the snapshot.\n+\n+`version_id`::\n+Build ID of the {es} version used to create the snapshot.\n+\n+`version`::\n+{es} version used to create the snapshot.\n+\n+`indices`::\n+Indices that are included in the snapshot.\n+\n+`start_time`::\n+Date timestamp of when the snapshot creation process started.\n+\n+`start_time_in_millis`::\n+The start time, in milliseconds, when the snapshot creation process started.\n+\n+`end_time`::\n+Date timestamp of when the snapshot creation process ended.\n+\n+`end_time_in_millis`::\n+The end time, in milliseconds, when the snapshot creation process ended.\n+\n+`duration_in_millis`::\n+How long, in milliseconds, it took to create the snapshot.\n+\n+`failures`::\n+Lists any failures that occurred when creating the snapshot.\n+\n+`shards`::\n+Indicates the following shards information:\n+* Total shards included in the snapshot\n+* Failed shards that were not included in the snapshot\n+* Successful shards that were included in the snapshot\n+\n+`state`::\n++\n+--\n+(string)\n+The snapshot `state` can be one of the following values:\n+\n+.Values for `state`\n+[%collapsible%open]\n+====\n+`IN_PROGRESS`::\n+  The snapshot is currently running.\n+\n+`SUCCESS`::\n+  The snapshot finished and all shards were stored successfully.\n+\n+`FAILED`::\n+  The snapshot finished with an error and failed to store any data.\n+\n+`PARTIAL`::\n+  The global cluster state was stored, but data of at least one shard was not stored successfully.\n+  The `failures` section of the response contains more detailed information about shards\n+  that were not processed correctly.\n+\n+`INCOMPATIBLE`::", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTM1NjA2MA=="}, "originalCommit": {"oid": "aa8aa2f28b9c9ee7a59d19d7a141b2781554eac0"}, "originalPosition": 152}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2100, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}