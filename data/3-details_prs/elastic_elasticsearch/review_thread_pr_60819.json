{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzOTk5MTI5", "number": 60819, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNzoyMjowM1rOEV6-AQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNzoyNDoyNlrOEV7DPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNDIxNjk3OnYy", "diffSide": "RIGHT", "path": "docs/reference/ilm/actions/ilm-searchable-snapshot.asciidoc", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNzoyMjowM1rOG89CPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNzoyNDowM1rOG89JFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU2Nzc0Mg==", "bodyText": "Super minor, but we allow force merge in \"hot\", so maybe we should just say\nIf the managed index was already force merged using the\n<<ilm-forcemerge, force merge action>> in a previous action\nthe `searchable snapshot` action force merge step will be a no-op.", "url": "https://github.com/elastic/elasticsearch/pull/60819#discussion_r466567742", "createdAt": "2020-08-06T17:22:03Z", "author": {"login": "dakrone"}, "path": "docs/reference/ilm/actions/ilm-searchable-snapshot.asciidoc", "diffHunk": "@@ -30,6 +30,14 @@ To keep the snapshot, set `delete_searchable_snapshot` to `false` in the delete\n Specifies where to store the snapshot. \n See <<snapshots-register-repository>> for more information.\n \n+`force_merge_index`::\n+(Optional, boolean)\n+Force merges the managed index to one segment.\n+Defaults to `true`.\n+If the managed index was already force merged using the\n+<<ilm-forcemerge, force merge action>> in the `cold` or `warm` phase", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c24b4947e6ff27352864f19dc486c77eb1bfb16"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU2OTQ5Mw==", "bodyText": "We might also want to mention that force merging is best effort, since it's possible for it to fail (and we still continue)", "url": "https://github.com/elastic/elasticsearch/pull/60819#discussion_r466569493", "createdAt": "2020-08-06T17:24:03Z", "author": {"login": "dakrone"}, "path": "docs/reference/ilm/actions/ilm-searchable-snapshot.asciidoc", "diffHunk": "@@ -30,6 +30,14 @@ To keep the snapshot, set `delete_searchable_snapshot` to `false` in the delete\n Specifies where to store the snapshot. \n See <<snapshots-register-repository>> for more information.\n \n+`force_merge_index`::\n+(Optional, boolean)\n+Force merges the managed index to one segment.\n+Defaults to `true`.\n+If the managed index was already force merged using the\n+<<ilm-forcemerge, force merge action>> in the `cold` or `warm` phase", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU2Nzc0Mg=="}, "originalCommit": {"oid": "4c24b4947e6ff27352864f19dc486c77eb1bfb16"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNDIzMDM4OnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ilm/SearchableSnapshotAction.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNzoyNDoyNlrOG89KSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNzoyNDoyNlrOG89KSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU2OTgwMA==", "bodyText": "Super minor\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    WaitForNoFollowersStep waitForNoFollowersStep;\n          \n          \n            \n                    final WaitForNoFollowersStep waitForNoFollowersStep;", "url": "https://github.com/elastic/elasticsearch/pull/60819#discussion_r466569800", "createdAt": "2020-08-06T17:24:26Z", "author": {"login": "dakrone"}, "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ilm/SearchableSnapshotAction.java", "diffHunk": "@@ -77,8 +92,14 @@ public SearchableSnapshotAction(StreamInput in) throws IOException {\n \n         CheckNotDataStreamWriteIndexStep checkNoWriteIndexStep = new CheckNotDataStreamWriteIndexStep(checkNoWriteIndex,\n             waitForNoFollowerStepKey);\n-        WaitForNoFollowersStep waitForNoFollowersStep = new WaitForNoFollowersStep(waitForNoFollowerStepKey, generateSnapshotNameKey,\n-            client);\n+        WaitForNoFollowersStep waitForNoFollowersStep;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c24b4947e6ff27352864f19dc486c77eb1bfb16"}, "originalPosition": 79}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2577, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}