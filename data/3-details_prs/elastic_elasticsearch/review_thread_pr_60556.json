{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYwNTQzMTU1", "number": 60556, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxOTo0MTowMFrOEUu99g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxOTo0MTowMFrOEUu99g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMTc2NTAyOnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/AbstractHistogramAggregator.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxOTo0MTowMFrOG7GWUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxOTo0MTowMFrOG7GWUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDYyMzE4Nw==", "bodyText": "Nit: Could we provide a default DoubleBounds(null, null) in the constructor, and then just call DoubleBounds#effectiveMin here? (ditto for max and the below usage).  Especially since the logic for what to use for undefined is a little arbitrary (e.g. it's not obvious at a glance why we use POSITIVE_INFINITY instead of NAN), I'd rather just keep that logic in one place if possible.", "url": "https://github.com/elastic/elasticsearch/pull/60556#discussion_r464623187", "createdAt": "2020-08-03T19:41:00Z", "author": {"login": "not-napoleon"}, "path": "server/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/AbstractHistogramAggregator.java", "diffHunk": "@@ -100,7 +97,10 @@ public AbstractHistogramAggregator(\n \n                 EmptyBucketInfo emptyBucketInfo = null;\n                 if (minDocCount == 0) {\n-                    emptyBucketInfo = new EmptyBucketInfo(interval, offset, minBound, maxBound, buildEmptySubAggregations());\n+                    emptyBucketInfo = new EmptyBucketInfo(interval, offset,\n+                        extendedBounds == null || extendedBounds.getMin() == null ? Double.POSITIVE_INFINITY : extendedBounds.getMin(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8fecc088808666eb3f38c0cd6309584d7be7538e"}, "originalPosition": 36}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2700, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}