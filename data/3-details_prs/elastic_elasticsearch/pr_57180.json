{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzNDUzOTE5", "number": 57180, "title": "[DOCS] Add token and HTTPS requirements for Kerberos", "bodyText": "Fixes #54621\nIn particular, it re-uses content from the SAML docs (https://www.elastic.co/guide/en/elasticsearch/reference/current/saml-guide-authentication.html steps about enabling TLS for HTTP and enabling the token service) in the Kerberos docs.\nPreview:\n\nhttps://elasticsearch_57180.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/kerberos-realm.html#kerberos-realm-configuration", "createdAt": "2020-05-26T20:44:47Z", "url": "https://github.com/elastic/elasticsearch/pull/57180", "merged": true, "mergeCommit": {"oid": "e926994d875d353c8fa48b8e8298a058e330c4f0"}, "closed": true, "closedAt": "2020-06-15T21:27:59Z", "author": {"login": "lcawl"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclK5b8AH2gAyNDIzNDUzOTE5OjFlODI3NjdlN2IxZTVkMzM4ZGI4MTVmMWY3MTg3OGI2MTZjMGU5ODk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpVCmAgH2gAyNDIzNDUzOTE5OmYxYTYyYWJjNmU5ZGZhNmZlODg1YTU3MTM3ZmJkMmQ0ZDY1YThiMTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1e82767e7b1e5d338db815f1f71878b616c0e989", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/elasticsearch/commit/1e82767e7b1e5d338db815f1f71878b616c0e989", "committedDate": "2020-05-26T20:43:04Z", "message": "[DOCS] Add token and HTTPS requirements for Kerberos"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4ODEwNjMz", "url": "https://github.com/elastic/elasticsearch/pull/57180#pullrequestreview-418810633", "createdAt": "2020-05-27T02:12:33Z", "commit": {"oid": "1e82767e7b1e5d338db815f1f71878b616c0e989"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwMjoxMjozM1rOGa3Gkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwMjoxNDo0MFrOGa3Igg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDgxODk2Mw==", "bodyText": "The steps below are required if you want to use Kerberos Authentication via Kibana (which most people will want, but maybe not all).\nI think we might want an introductory note here, but it's hard to say it refers to \"the two steps below, but not the subsequent section ...\".", "url": "https://github.com/elastic/elasticsearch/pull/57180#discussion_r430818963", "createdAt": "2020-05-27T02:12:33Z", "author": {"login": "tvernum"}, "path": "x-pack/docs/en/security/authentication/configuring-kerberos-realm.asciidoc", "diffHunk": "@@ -46,6 +46,28 @@ For more information on Java GSS, see\n https://docs.oracle.com/javase/10/security/kerberos-requirements1.htm[Java GSS Kerberos requirements]\n --\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e82767e7b1e5d338db815f1f71878b616c0e989"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDgxOTM4Ng==", "bodyText": "Maybe it's as simple as just having:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            more information, see <<tls-http>>.\n          \n          \n            \n            more information, see <<tls-http>>.\n          \n          \n            \n            \n          \n          \n            \n            This step is necessary to support Kerberos authentication via {kib}.\n          \n          \n            \n            It is not required for Kerberos authentication directly against the {es} Rest API.", "url": "https://github.com/elastic/elasticsearch/pull/57180#discussion_r430819386", "createdAt": "2020-05-27T02:14:22Z", "author": {"login": "tvernum"}, "path": "x-pack/docs/en/security/authentication/configuring-kerberos-realm.asciidoc", "diffHunk": "@@ -46,6 +46,28 @@ For more information on Java GSS, see\n https://docs.oracle.com/javase/10/security/kerberos-requirements1.htm[Java GSS Kerberos requirements]\n --\n \n+. Enable TLS for HTTP.\n++\n+--\n+If your {es} cluster is operating in production mode, you must configure the\n+HTTP interface to use SSL/TLS before you can enable Kerberos authentication. For\n+more information, see <<tls-http>>.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e82767e7b1e5d338db815f1f71878b616c0e989"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDgxOTQ1OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ------------------------------------------------------------\n          \n          \n            \n            ------------------------------------------------------------\n          \n          \n            \n            \n          \n          \n            \n            This step is necessary to support Kerberos authentication via {kib}.\n          \n          \n            \n            It is not required for Kerberos authentication directly against the {es} Rest API.", "url": "https://github.com/elastic/elasticsearch/pull/57180#discussion_r430819458", "createdAt": "2020-05-27T02:14:40Z", "author": {"login": "tvernum"}, "path": "x-pack/docs/en/security/authentication/configuring-kerberos-realm.asciidoc", "diffHunk": "@@ -46,6 +46,28 @@ For more information on Java GSS, see\n https://docs.oracle.com/javase/10/security/kerberos-requirements1.htm[Java GSS Kerberos requirements]\n --\n \n+. Enable TLS for HTTP.\n++\n+--\n+If your {es} cluster is operating in production mode, you must configure the\n+HTTP interface to use SSL/TLS before you can enable Kerberos authentication. For\n+more information, see <<tls-http>>.\n+--\n+\n+. Enable the token service\n++\n+--\n+The {es} Kerberos implementation makes use of the {es} token service. If you\n+configure TLS on the HTTP interface, this service is automatically enabled. It\n+can be explicitly configured by adding the following setting in your\n+`elasticsearch.yml` file:\n+\n+[source, yaml]\n+------------------------------------------------------------\n+xpack.security.authc.token.enabled: true\n+------------------------------------------------------------", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e82767e7b1e5d338db815f1f71878b616c0e989"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13050238670f314b57e33f142ad937b64eede1b1", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/elasticsearch/commit/13050238670f314b57e33f142ad937b64eede1b1", "committedDate": "2020-06-05T18:46:30Z", "message": "Update x-pack/docs/en/security/authentication/configuring-kerberos-realm.asciidoc\n\nCo-authored-by: Tim Vernum <tim@adjective.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ea37245b66dcd503e07f500a100d1c9d4041da0", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/elasticsearch/commit/3ea37245b66dcd503e07f500a100d1c9d4041da0", "committedDate": "2020-06-05T18:46:48Z", "message": "Update x-pack/docs/en/security/authentication/configuring-kerberos-realm.asciidoc\n\nCo-authored-by: Tim Vernum <tim@adjective.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1a62abc6e9dfa6fe885a57137fbd2d4d65a8b16", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/f1a62abc6e9dfa6fe885a57137fbd2d4d65a8b16", "committedDate": "2020-06-08T18:47:49Z", "message": "Merge branch 'master' into kerberos-ssl"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4206, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}