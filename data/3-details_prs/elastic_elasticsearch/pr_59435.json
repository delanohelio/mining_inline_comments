{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4MzYxMTM2", "number": 59435, "title": "[DOCS] Document data stream stats API", "bodyText": "Documents the data streams stats API added with #58707", "createdAt": "2020-07-13T16:25:48Z", "url": "https://github.com/elastic/elasticsearch/pull/59435", "merged": true, "mergeCommit": {"oid": "cb6d1c00f09e91b26bb71963fab737132f311a92"}, "closed": true, "closedAt": "2020-07-20T13:33:02Z", "author": {"login": "jrodewig"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc07sGrgH2gAyNDQ4MzYxMTM2OjAyYTY1YWRhNTc5NGJjMTEyNGVjOWI0YzgxMTMzNWRhZGMwNTNmN2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc2xJpugH2gAyNDQ4MzYxMTM2OjMyYWQyMzNiZGRhMzA1MWFlMDgzMGJhNDE0NTgwMGNhNGY5NTkwMWI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "02a65ada5794bc1124ec9b4c811335dadc053f7a", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/02a65ada5794bc1124ec9b4c811335dadc053f7a", "committedDate": "2020-07-14T20:02:43Z", "message": "[DOCS] Document data stream stats API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "674ec5cba761c7e6f69813455c0e2f7fbdc32cf8", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/674ec5cba761c7e6f69813455c0e2f7fbdc32cf8", "committedDate": "2020-07-14T19:59:50Z", "message": "fix"}, "afterCommit": {"oid": "02a65ada5794bc1124ec9b4c811335dadc053f7a", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/02a65ada5794bc1124ec9b4c811335dadc053f7a", "committedDate": "2020-07-14T20:02:43Z", "message": "[DOCS] Document data stream stats API"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "793a897111d6468ec80c1ab010ff581bb4c45003", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/793a897111d6468ec80c1ab010ff581bb4c45003", "committedDate": "2020-07-14T20:05:11Z", "message": "fixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4NDM5ODk3", "url": "https://github.com/elastic/elasticsearch/pull/59435#pullrequestreview-448439897", "createdAt": "2020-07-14T20:27:07Z", "commit": {"oid": "793a897111d6468ec80c1ab010ff581bb4c45003"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQyMDoyNzowN1rOGxkB-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQyMDoyNzowN1rOGxkB-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDYyMzczNw==", "bodyText": "I intentionally left out expand_wildcards as we plan to remove that param later.", "url": "https://github.com/elastic/elasticsearch/pull/59435#discussion_r454623737", "createdAt": "2020-07-14T20:27:07Z", "author": {"login": "jrodewig"}, "path": "docs/reference/indices/data-stream-stats.asciidoc", "diffHunk": "@@ -0,0 +1,186 @@\n+[role=\"xpack\"]\n+[[data-stream-stats-api]]\n+=== Data stream stats API\n+++++\n+<titleabbrev>Data stream stats</titleabbrev>\n+++++\n+\n+experimental::[]\n+\n+Retrieves statistics for one or more <<data-streams,data streams>>.\n+\n+////\n+[source,console]\n+----\n+PUT /_index_template/template\n+{\n+  \"index_patterns\": [\"my-data-stream*\"],\n+  \"data_stream\": { }\n+}\n+\n+PUT /my-data-stream/_bulk?refresh\n+{\"create\":{ }}\n+{ \"@timestamp\": \"2020-12-08T11:04:05.000Z\" }\n+{\"create\":{ }}\n+{ \"@timestamp\": \"2020-12-08T11:06:07.000Z\" }\n+{\"create\":{ }}\n+{ \"@timestamp\": \"2020-12-09T11:07:08.000Z\" }\n+\n+POST /my-data-stream/_rollover/\n+POST /my-data-stream/_rollover/\n+\n+PUT /my-data-stream-two/_bulk?refresh\n+{\"create\":{ }}\n+{ \"@timestamp\": \"2020-12-08T11:04:05.000Z\" }\n+{\"create\":{ }}\n+{ \"@timestamp\": \"2020-12-08T11:06:07.000Z\" }\n+\n+POST /my-data-stream-two/_rollover/\n+----\n+// TESTSETUP\n+////\n+\n+////\n+[source,console]\n+----\n+DELETE /_data_stream/*\n+DELETE /_index_template/*\n+----\n+// TEARDOWN\n+////\n+\n+[source,console]\n+----\n+GET /_data_stream/my-data-stream/_stats\n+----\n+\n+\n+[[data-stream-stats-api-request]]\n+==== {api-request-title}\n+\n+`GET /_data_stream/<data-stream>`\n+\n+\n+[[data-stream-stats-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<data-stream>`::\n+(Optional, string)\n+Comma-separated list of data streams used to limit the request. Wildcard\n+expressions (`*`) are supported.\n++\n+To target all data streams in a cluster, omit this parameter or use `*`.\n+\n+\n+[[data-stream-stats-api-query-params]]\n+==== {api-query-parms-title}\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "793a897111d6468ec80c1ab010ff581bb4c45003"}, "originalPosition": 77}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7836bed5dda4aff2f75f735c1b599b10b087513", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/c7836bed5dda4aff2f75f735c1b599b10b087513", "committedDate": "2020-07-14T21:20:56Z", "message": "reword unix timestamp for clarity"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "892e88bb609886574b6c59b62ee66d277e81c164", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/892e88bb609886574b6c59b62ee66d277e81c164", "committedDate": "2020-07-14T21:59:50Z", "message": "remove query params"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4NTEwMTY1", "url": "https://github.com/elastic/elasticsearch/pull/59435#pullrequestreview-448510165", "createdAt": "2020-07-14T22:29:50Z", "commit": {"oid": "892e88bb609886574b6c59b62ee66d277e81c164"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQyMjoyOTo1MVrOGxnmRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQyMjoyOTo1MVrOGxnmRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDY4MjE4MQ==", "bodyText": "As Lee mentioned in #59575 (comment), we should probably note that this timestamp value is best effort.", "url": "https://github.com/elastic/elasticsearch/pull/59435#discussion_r454682181", "createdAt": "2020-07-14T22:29:51Z", "author": {"login": "jbaiera"}, "path": "docs/reference/indices/data-stream-stats.asciidoc", "diffHunk": "@@ -0,0 +1,175 @@\n+[role=\"xpack\"]\n+[[data-stream-stats-api]]\n+=== Data stream stats API\n+++++\n+<titleabbrev>Data stream stats</titleabbrev>\n+++++\n+\n+experimental::[]\n+\n+Retrieves statistics for one or more <<data-streams,data streams>>.\n+\n+////\n+[source,console]\n+----\n+PUT /_index_template/template\n+{\n+  \"index_patterns\": [\"my-data-stream*\"],\n+  \"data_stream\": { }\n+}\n+\n+PUT /my-data-stream/_bulk?refresh\n+{\"create\":{ }}\n+{ \"@timestamp\": \"2020-12-08T11:04:05.000Z\" }\n+{\"create\":{ }}\n+{ \"@timestamp\": \"2020-12-08T11:06:07.000Z\" }\n+{\"create\":{ }}\n+{ \"@timestamp\": \"2020-12-09T11:07:08.000Z\" }\n+\n+POST /my-data-stream/_rollover/\n+POST /my-data-stream/_rollover/\n+\n+PUT /my-data-stream-two/_bulk?refresh\n+{\"create\":{ }}\n+{ \"@timestamp\": \"2020-12-08T11:04:05.000Z\" }\n+{\"create\":{ }}\n+{ \"@timestamp\": \"2020-12-08T11:06:07.000Z\" }\n+\n+POST /my-data-stream-two/_rollover/\n+----\n+// TESTSETUP\n+////\n+\n+////\n+[source,console]\n+----\n+DELETE /_data_stream/*\n+DELETE /_index_template/*\n+----\n+// TEARDOWN\n+////\n+\n+[source,console]\n+----\n+GET /_data_stream/my-data-stream/_stats\n+----\n+\n+\n+[[data-stream-stats-api-request]]\n+==== {api-request-title}\n+\n+`GET /_data_stream/<data-stream>`\n+\n+\n+[[data-stream-stats-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<data-stream>`::\n+(Optional, string)\n+Comma-separated list of data streams used to limit the request. Wildcard\n+expressions (`*`) are supported.\n++\n+To target all data streams in a cluster, omit this parameter or use `*`.\n+\n+\n+[role=\"child_attributes\"]\n+[[data-stream-stats-api-response-body]]\n+==== {api-response-body-title}\n+\n+`_shards`::\n+(object)\n+Contains information about shards that attempted to execute the request.\n++\n+.Properties of `_shards`\n+[%collapsible%open]\n+====\n+`total`::\n+(integer)\n+Total number of shards that attempted to execute the request.\n+\n+`successful`::\n+(integer)\n+Number of shards that successfully executed the request.\n+\n+`failed`::\n+(integer)\n+Number of shards that failed to execute the request.\n+====\n+\n+`data_stream_count`::\n+(integer)\n+Total number of selected data streams.\n+\n+`backing_indices`::\n+(integer)\n+Total number of backing indices for the selected data streams.\n+\n+`total_store_size_bytes`::\n+(integer)\n+Total size, in bytes, of all shards for the selected data streams.\n+\n+`data_streams`::\n+(array of objects)\n+Contains statistics for the selected data streams.\n++\n+.Properties of objects in `data_streams`\n+[%collapsible%open]\n+====\n+`data_stream`::\n+(string)\n+Name of the data stream.\n+\n+`backing_indices`::\n+(integer)\n+Current number of backing indices for the data stream.\n+\n+`store_size_bytes`::\n+(integer)\n+Total size, in bytes, of all shards for the data stream's backing indices.\n+\n+`maximum_timestamp`::\n+(integer)\n+The data stream's highest `@timestamp` value, converted to milliseconds since\n+the https://en.wikipedia.org/wiki/Unix_time[Unix epoch].", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "892e88bb609886574b6c59b62ee66d277e81c164"}, "originalPosition": 133}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "099992fc224e202c5dc77141f2a657ef734ed27a", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/099992fc224e202c5dc77141f2a657ef734ed27a", "committedDate": "2020-07-15T12:51:25Z", "message": "add admon for max timestamp"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNzkyMjIz", "url": "https://github.com/elastic/elasticsearch/pull/59435#pullrequestreview-450792223", "createdAt": "2020-07-17T16:22:09Z", "commit": {"oid": "099992fc224e202c5dc77141f2a657ef734ed27a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNjoyMjowOVrOGzZO-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNjoyMjowOVrOGzZO-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjU0Mzk5NQ==", "bodyText": "we also have human readable versions of this field and total_store_size, if we wanted to document those.", "url": "https://github.com/elastic/elasticsearch/pull/59435#discussion_r456543995", "createdAt": "2020-07-17T16:22:09Z", "author": {"login": "jbaiera"}, "path": "docs/reference/indices/data-stream-stats.asciidoc", "diffHunk": "@@ -0,0 +1,186 @@\n+[role=\"xpack\"]\n+[[data-stream-stats-api]]\n+=== Data stream stats API\n+++++\n+<titleabbrev>Data stream stats</titleabbrev>\n+++++\n+\n+experimental::[]\n+\n+Retrieves statistics for one or more <<data-streams,data streams>>.\n+\n+////\n+[source,console]\n+----\n+PUT /_index_template/template\n+{\n+  \"index_patterns\": [\"my-data-stream*\"],\n+  \"data_stream\": { }\n+}\n+\n+PUT /my-data-stream/_bulk?refresh\n+{\"create\":{ }}\n+{ \"@timestamp\": \"2020-12-08T11:04:05.000Z\" }\n+{\"create\":{ }}\n+{ \"@timestamp\": \"2020-12-08T11:06:07.000Z\" }\n+{\"create\":{ }}\n+{ \"@timestamp\": \"2020-12-09T11:07:08.000Z\" }\n+\n+POST /my-data-stream/_rollover/\n+POST /my-data-stream/_rollover/\n+\n+PUT /my-data-stream-two/_bulk?refresh\n+{\"create\":{ }}\n+{ \"@timestamp\": \"2020-12-08T11:04:05.000Z\" }\n+{\"create\":{ }}\n+{ \"@timestamp\": \"2020-12-08T11:06:07.000Z\" }\n+\n+POST /my-data-stream-two/_rollover/\n+----\n+// TESTSETUP\n+////\n+\n+////\n+[source,console]\n+----\n+DELETE /_data_stream/*\n+DELETE /_index_template/*\n+----\n+// TEARDOWN\n+////\n+\n+[source,console]\n+----\n+GET /_data_stream/my-data-stream/_stats\n+----\n+\n+\n+[[data-stream-stats-api-request]]\n+==== {api-request-title}\n+\n+`GET /_data_stream/<data-stream>`\n+\n+\n+[[data-stream-stats-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<data-stream>`::\n+(Optional, string)\n+Comma-separated list of data streams used to limit the request. Wildcard\n+expressions (`*`) are supported.\n++\n+To target all data streams in a cluster, omit this parameter or use `*`.\n+\n+\n+[role=\"child_attributes\"]\n+[[data-stream-stats-api-response-body]]\n+==== {api-response-body-title}\n+\n+`_shards`::\n+(object)\n+Contains information about shards that attempted to execute the request.\n++\n+.Properties of `_shards`\n+[%collapsible%open]\n+====\n+`total`::\n+(integer)\n+Total number of shards that attempted to execute the request.\n+\n+`successful`::\n+(integer)\n+Number of shards that successfully executed the request.\n+\n+`failed`::\n+(integer)\n+Number of shards that failed to execute the request.\n+====\n+\n+`data_stream_count`::\n+(integer)\n+Total number of selected data streams.\n+\n+`backing_indices`::\n+(integer)\n+Total number of backing indices for the selected data streams.\n+\n+`total_store_size_bytes`::\n+(integer)\n+Total size, in bytes, of all shards for the selected data streams.\n+\n+`data_streams`::\n+(array of objects)\n+Contains statistics for the selected data streams.\n++\n+.Properties of objects in `data_streams`\n+[%collapsible%open]\n+====\n+`data_stream`::\n+(string)\n+Name of the data stream.\n+\n+`backing_indices`::\n+(integer)\n+Current number of backing indices for the data stream.\n+\n+`store_size_bytes`::", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "099992fc224e202c5dc77141f2a657ef734ed27a"}, "originalPosition": 126}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNzkyNDI3", "url": "https://github.com/elastic/elasticsearch/pull/59435#pullrequestreview-450792427", "createdAt": "2020-07-17T16:22:29Z", "commit": {"oid": "099992fc224e202c5dc77141f2a657ef734ed27a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31d4cfe670e864ae3361e7f9d774e37bbc44212a", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/31d4cfe670e864ae3361e7f9d774e37bbc44212a", "committedDate": "2020-07-17T17:20:25Z", "message": "Merge branch 'master' into ds-stats"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87f566febadd61642bda2ed0087603279547f77b", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/87f566febadd61642bda2ed0087603279547f77b", "committedDate": "2020-07-17T17:42:45Z", "message": "Add human-readable stats"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bfd038c9b7a9209eb70f2822d94be7cf9f1f6845", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/bfd038c9b7a9209eb70f2822d94be7cf9f1f6845", "committedDate": "2020-07-17T17:58:19Z", "message": "Docs human query param"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9d038159717ea7550fc036a0dff2f73142af45e", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/f9d038159717ea7550fc036a0dff2f73142af45e", "committedDate": "2020-07-17T18:04:46Z", "message": "fix punct + human readable params"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba8c84a49437103db93304304a7431f4b70b5559", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/ba8c84a49437103db93304304a7431f4b70b5559", "committedDate": "2020-07-17T20:32:27Z", "message": "Merge remote-tracking branch 'upstream/master' into ds-stats"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "200491f47c4da9ab1790b76729af85fbf57d6c6a", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/200491f47c4da9ab1790b76729af85fbf57d6c6a", "committedDate": "2020-07-17T20:32:45Z", "message": "Merge remote-tracking branch 'upstream/master' into ds-stats"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e33c7d52adeae36b3eca371dd78e02fd86ea4fa", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/9e33c7d52adeae36b3eca371dd78e02fd86ea4fa", "committedDate": "2020-07-17T20:59:57Z", "message": "Add human param to snippets"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32ad233bdda3051ae0830ba4145800ca4f95901b", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/32ad233bdda3051ae0830ba4145800ca4f95901b", "committedDate": "2020-07-20T12:53:53Z", "message": "Merge branch 'master' into ds-stats"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4415, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}