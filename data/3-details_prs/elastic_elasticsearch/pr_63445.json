{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5NTIxMzIw", "number": 63445, "title": "Use default memory settings for Gradle daemon", "bodyText": "The current jvm arguments specified in our gradle.properties file set a maximum heap size of 3GB. This has served us well, but as we add more projects and more complexity to the build we are starting to his this threshold, especially when switching between disparate branches. There is still likely some improvements we can make to reduce overall heap usage in this scenario but for now we want to give developers some breathing room. This PR changes our JVM args so we set the initial heap at 3GB, effectively specifying a minimum memory availability requirement. Gradle will then determine the optimal maximum heap size given the available memory on the system. Since most folks are probably working on systems with 32GB of RAM or more, makes sense to make use of those available resources.", "createdAt": "2020-10-07T21:15:50Z", "url": "https://github.com/elastic/elasticsearch/pull/63445", "merged": true, "mergeCommit": {"oid": "5197043c41d7a7af3b4df6f11a4f57a5b8f1f88c"}, "closed": true, "closedAt": "2020-10-08T17:31:32Z", "author": {"login": "mark-vieira"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQToHNAH2gAyNDk5NTIxMzIwOjA3ZWFmZmU2OGIwYzNhYjE4YTg2MDIyZTYyOGMxZDBhMGZmM2YwMGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQUZmMgFqTUwNDMwMDkxMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "07eaffe68b0c3ab18a86022e628c1d0a0ff3f00a", "author": {"user": {"login": "mark-vieira", "name": "Mark Vieira"}}, "url": "https://github.com/elastic/elasticsearch/commit/07eaffe68b0c3ab18a86022e628c1d0a0ff3f00a", "committedDate": "2020-10-07T21:12:02Z", "message": "Ensure gradle daemon has at least 3g of available heap space"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0Mjc4ODY3", "url": "https://github.com/elastic/elasticsearch/pull/63445#pullrequestreview-504278867", "createdAt": "2020-10-07T21:25:07Z", "commit": {"oid": "07eaffe68b0c3ab18a86022e628c1d0a0ff3f00a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMToyNTowN1rOHeGFJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMToyNTowN1rOHeGFJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTMxODk1MA==", "bodyText": "This was removed since it doesn't actually do anything (it's not a standard Gradle option) and there are no references to a project property of this name.", "url": "https://github.com/elastic/elasticsearch/pull/63445#discussion_r501318950", "createdAt": "2020-10-07T21:25:07Z", "author": {"login": "mark-vieira"}, "path": "gradle.properties", "diffHunk": "@@ -1,7 +1,6 @@\n org.gradle.warning.mode=none\n org.gradle.parallel=true\n-org.gradle.jvmargs=-Xmx3g -XX:+HeapDumpOnOutOfMemoryError -Xss2m\n-options.forkOptions.memoryMaximumSize=2g", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07eaffe68b0c3ab18a86022e628c1d0a0ff3f00a"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff8b516eb8ac000deee9298e90b12342a6d86083", "author": {"user": {"login": "mark-vieira", "name": "Mark Vieira"}}, "url": "https://github.com/elastic/elasticsearch/commit/ff8b516eb8ac000deee9298e90b12342a6d86083", "committedDate": "2020-10-07T22:00:30Z", "message": "Use default JVM memory settings"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0MzAwOTEy", "url": "https://github.com/elastic/elasticsearch/pull/63445#pullrequestreview-504300912", "createdAt": "2020-10-07T22:06:05Z", "commit": {"oid": "ff8b516eb8ac000deee9298e90b12342a6d86083"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4192, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}