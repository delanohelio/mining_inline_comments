{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0MDI4MTQ4", "number": 54252, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQwODo0NjoxN1rODrix1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QyMTowMjowMFrODsOfpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ2OTg1MTc1OnYy", "diffSide": "LEFT", "path": "rest-api-spec/src/main/resources/rest-api-spec/api/clear_scroll.json", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQwODo0NjoxN1rOF78ffg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQyMzoxMzo0MVrOF_V5tg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQwMTQwNg==", "bodyText": "Is removing deprecated here intended?", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r398401406", "createdAt": "2020-03-26T08:46:17Z", "author": {"login": "karmi"}, "path": "rest-api-spec/src/main/resources/rest-api-spec/api/clear_scroll.json", "diffHunk": "@@ -21,8 +21,7 @@\n           \"parts\":{\n             \"scroll_id\":{\n               \"type\":\"list\",\n-              \"description\":\"A comma-separated list of scroll IDs to clear\",\n-              \"deprecated\":true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d086f2ccd3c510cc2d6b4c192519c42c70c9baa"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQzNzgzNA==", "bodyText": "Yes it is. It's covered by the \"deprecated\" at the parent path object level:\n\n  \n    \n      elasticsearch/rest-api-spec/src/main/resources/rest-api-spec/api/clear_scroll.json\n    \n    \n        Lines 27 to 30\n      in\n      4d086f2\n    \n    \n    \n    \n\n        \n          \n           \"deprecated\":{ \n        \n\n        \n          \n             \"version\":\"7.0.0\", \n        \n\n        \n          \n             \"description\":\"A scroll id can be quite large and should be specified as part of the body\" \n        \n\n        \n          \n           } \n        \n    \n  \n\n\nThere are a few cases where I've removed these", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r398437834", "createdAt": "2020-03-26T09:45:13Z", "author": {"login": "russcam"}, "path": "rest-api-spec/src/main/resources/rest-api-spec/api/clear_scroll.json", "diffHunk": "@@ -21,8 +21,7 @@\n           \"parts\":{\n             \"scroll_id\":{\n               \"type\":\"list\",\n-              \"description\":\"A comma-separated list of scroll IDs to clear\",\n-              \"deprecated\":true", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQwMTQwNg=="}, "originalCommit": {"oid": "4d086f2ccd3c510cc2d6b4c192519c42c70c9baa"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTk2MzQ0Ng==", "bodyText": "We had a call to discuss the removal of the \"deprecated\": bool properties on parts and params. I'm going to reinstate the properties for now and add \"deprecated\" to the json schema, with a view to discuss removing these in the future.", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r401963446", "createdAt": "2020-04-01T23:13:41Z", "author": {"login": "russcam"}, "path": "rest-api-spec/src/main/resources/rest-api-spec/api/clear_scroll.json", "diffHunk": "@@ -21,8 +21,7 @@\n           \"parts\":{\n             \"scroll_id\":{\n               \"type\":\"list\",\n-              \"description\":\"A comma-separated list of scroll IDs to clear\",\n-              \"deprecated\":true", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODQwMTQwNg=="}, "originalCommit": {"oid": "4d086f2ccd3c510cc2d6b4c192519c42c70c9baa"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3NDM1NDc0OnYy", "diffSide": "RIGHT", "path": "rest-api-spec/schema.json", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QwODo0Nzo1NlrOF8n5Cg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQwNjo0ODozMVrOF9PFog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTExMjQ1OA==", "bodyText": "Can we include this as part of the work to make the validation happen in gradle?\nFeel its better to discuss this on that PR.", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r399112458", "createdAt": "2020-03-27T08:47:56Z", "author": {"login": "Mpdreamz"}, "path": "rest-api-spec/schema.json", "diffHunk": "@@ -0,0 +1,242 @@\n+{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fccaf58fdf3e248300fbb16f4879f2b0db9ea9ac"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTE2MjY1NQ==", "bodyText": "Was thinking it may be useful for folks to have beforehand, without needing to wait on a gradle task? IntelliJ supports configuring a JSON schema that might be useful in the meantime", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r399162655", "createdAt": "2020-03-27T10:18:12Z", "author": {"login": "russcam"}, "path": "rest-api-spec/schema.json", "diffHunk": "@@ -0,0 +1,242 @@\n+{", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTExMjQ1OA=="}, "originalCommit": {"oid": "fccaf58fdf3e248300fbb16f4879f2b0db9ea9ac"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTM3MTYwNw==", "bodyText": "Doesn't hurt to throw this in there. We'll likely move it when we integrate the validation bit though.", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r399371607", "createdAt": "2020-03-27T16:01:56Z", "author": {"login": "mark-vieira"}, "path": "rest-api-spec/schema.json", "diffHunk": "@@ -0,0 +1,242 @@\n+{", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTExMjQ1OA=="}, "originalCommit": {"oid": "fccaf58fdf3e248300fbb16f4879f2b0db9ea9ac"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTU2ODQ3NQ==", "bodyText": "I started an implementation of a gradle task to validate the spec based on https://github.com/networknt/json-schema-validator.\nI ran it against the core and x-pack specs and found 3 validation failures.\nValidating JSON spec [cat.thread_pool.json]\n$.cat.thread_pool.params.size.options[0]: does not match the regex pattern ^[a-zA-Z_]+$\nValidating JSON spec [ml.validate_detector.json]\n$.ml.validate_detector.documentation.url: null found, string expected\nValidating JSON spec [ml.validate.json]\n$.ml.validate.documentation.url: null found, string expected\nThe rest pass!\nI should be able to clean up the task and get it wired in pretty soon after this gets merged.", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r399568475", "createdAt": "2020-03-27T22:35:36Z", "author": {"login": "jakelandis"}, "path": "rest-api-spec/schema.json", "diffHunk": "@@ -0,0 +1,242 @@\n+{", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTExMjQ1OA=="}, "originalCommit": {"oid": "fccaf58fdf3e248300fbb16f4879f2b0db9ea9ac"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTc1NDY1OA==", "bodyText": "@jakelandis nice!\nThose failures are expected; I opened #54253 for the ML failures. I\u2019ll look into the cat thread pool failure and open an issue for it - I want to check to see what the intended behaviour of passing an empty size is", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r399754658", "createdAt": "2020-03-29T06:48:31Z", "author": {"login": "russcam"}, "path": "rest-api-spec/schema.json", "diffHunk": "@@ -0,0 +1,242 @@\n+{", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTExMjQ1OA=="}, "originalCommit": {"oid": "fccaf58fdf3e248300fbb16f4879f2b0db9ea9ac"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3NjEzNjY0OnYy", "diffSide": "RIGHT", "path": "rest-api-spec/schema.json", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxNjozNzoyNlrOF85JJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQwNjo1MDozMVrOF9PGfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTM5NTEwOQ==", "bodyText": "curious to why draft-07 and not 2019-09 (formerly draft-08) ?\nI think the difference here would be mostly cosmetic, so probably not a big deal either way. just curious if there was a specific reason ?", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r399395109", "createdAt": "2020-03-27T16:37:26Z", "author": {"login": "jakelandis"}, "path": "rest-api-spec/schema.json", "diffHunk": "@@ -0,0 +1,242 @@\n+{\n+    \"$schema\": \"http://json-schema.org/draft-07/schema#\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fccaf58fdf3e248300fbb16f4879f2b0db9ea9ac"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTc1NDg3Nw==", "bodyText": "Used draft-07 as it was the latest version that the JavaScript validator the clients team were using supported", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r399754877", "createdAt": "2020-03-29T06:50:31Z", "author": {"login": "russcam"}, "path": "rest-api-spec/schema.json", "diffHunk": "@@ -0,0 +1,242 @@\n+{\n+    \"$schema\": \"http://json-schema.org/draft-07/schema#\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTM5NTEwOQ=="}, "originalCommit": {"oid": "fccaf58fdf3e248300fbb16f4879f2b0db9ea9ac"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3NjIxNzQyOnYy", "diffSide": "RIGHT", "path": "rest-api-spec/schema.json", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxNjo1NzowMFrOF8575w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQyMjoxODoyMVrOF9VozA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQwODEwMw==", "bodyText": "I think we should we be stricter here for the Major.minor.patch versioning.  (e.g. require patch and not allow qualifiers) Devs should know the exact version the code is first shipping with.", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r399408103", "createdAt": "2020-03-27T16:57:00Z", "author": {"login": "jakelandis"}, "path": "rest-api-spec/schema.json", "diffHunk": "@@ -0,0 +1,242 @@\n+{\n+    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n+    \"$id\": \"https://github.com/elastic/elasticsearch/tree/master/rest-api-spec\",\n+    \"$ref\": \"#/definitions/Api\",\n+    \"definitions\": {\n+        \"Api\": {\n+            \"type\": \"object\",\n+            \"propertyNames\": {\n+                \"pattern\": \"^[a-z]+?(_[a-z]+)*(\\\\.[a-z]+?(_[a-z]+)*)?$\"\n+            },\n+            \"minProperties\": 1,\n+            \"maxProperties\": 1,\n+            \"patternProperties\": {\n+                \"^[a-z]+?(_[a-z]+)*(\\\\.[a-z]+?(_[a-z]+)*)?$\": {\n+                    \"$ref\": \"#/definitions/Components\"\n+                }\n+            },\n+            \"additionalProperties\": false,\n+            \"title\": \"API name\",\n+            \"description\": \"An object with a single property name of the API and value of the API components\"\n+        },\n+        \"Components\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"deprecated\": {\n+                    \"$ref\": \"#/definitions/Deprecated\"\n+                },\n+                \"documentation\": {\n+                    \"$ref\": \"#/definitions/Documentation\"\n+                },\n+                \"stability\": {\n+                    \"type\": \"string\",\n+                    \"enum\": [\"stable\", \"beta\", \"experimental\", \"private\"]\n+                },\n+                \"url\": {\n+                    \"$ref\": \"#/definitions/Url\"\n+                },\n+                \"params\": {\n+                    \"$ref\": \"#/definitions/Params\"\n+                },\n+                \"body\": {\n+                    \"$ref\": \"#/definitions/Body\"\n+                }\n+            },\n+            \"required\": [\n+                \"documentation\",\n+                \"stability\",\n+                \"url\"\n+            ],\n+            \"title\": \"API components\",\n+            \"description\": \"The components that make up the API\"\n+        },\n+        \"Url\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"paths\": {\n+                    \"type\": \"array\",\n+                    \"items\": {\n+                        \"$ref\": \"#/definitions/Path\"\n+                    },\n+                    \"minLength\": 1\n+                }\n+            },\n+            \"required\": [\n+                \"paths\"\n+            ],\n+            \"title\": \"API urls\",\n+            \"description\": \"An array of the URL path variants for the API\"\n+        },\n+        \"Params\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": true,\n+            \"propertyNames\": {\n+              \"pattern\": \"^_?[a-z]+?(_[a-z]+)*$\"\n+            },\n+            \"patternProperties\": {\n+                \"^_?[a-z]+?(_[a-z]+)*$\": {\n+                    \"$ref\": \"#/definitions/ParamPart\"\n+                }\n+            },\n+            \"title\": \"API query string parameters\",\n+            \"description\": \"A collection of the query string parameters for the API\"\n+        },\n+        \"Body\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"description\": {\n+                    \"type\": \"string\"\n+                },\n+                \"required\": {\n+                    \"type\": \"boolean\"\n+                },\n+                \"serialize\": {\n+                    \"type\": \"string\",\n+                    \"enum\": [\"bulk\"]\n+                }\n+            },\n+            \"required\": [\n+                \"description\"\n+            ],\n+            \"title\": \"API request Body\",\n+            \"description\": \"The request body for the API. Does not detail the structure, only whether the API accepts a body and its format\"\n+        },\n+        \"Deprecated\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"version\": {\n+                    \"type\": \"string\",\n+                    \"pattern\": \"^(\\\\d+)(\\\\.(\\\\d+))?(\\\\.(\\\\d+))?(\\\\-([0-9A-Za-z]+))?$\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fccaf58fdf3e248300fbb16f4879f2b0db9ea9ac"}, "originalPosition": 113}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTc1NDg4OQ==", "bodyText": "++ will amend", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r399754889", "createdAt": "2020-03-29T06:50:45Z", "author": {"login": "russcam"}, "path": "rest-api-spec/schema.json", "diffHunk": "@@ -0,0 +1,242 @@\n+{\n+    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n+    \"$id\": \"https://github.com/elastic/elasticsearch/tree/master/rest-api-spec\",\n+    \"$ref\": \"#/definitions/Api\",\n+    \"definitions\": {\n+        \"Api\": {\n+            \"type\": \"object\",\n+            \"propertyNames\": {\n+                \"pattern\": \"^[a-z]+?(_[a-z]+)*(\\\\.[a-z]+?(_[a-z]+)*)?$\"\n+            },\n+            \"minProperties\": 1,\n+            \"maxProperties\": 1,\n+            \"patternProperties\": {\n+                \"^[a-z]+?(_[a-z]+)*(\\\\.[a-z]+?(_[a-z]+)*)?$\": {\n+                    \"$ref\": \"#/definitions/Components\"\n+                }\n+            },\n+            \"additionalProperties\": false,\n+            \"title\": \"API name\",\n+            \"description\": \"An object with a single property name of the API and value of the API components\"\n+        },\n+        \"Components\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"deprecated\": {\n+                    \"$ref\": \"#/definitions/Deprecated\"\n+                },\n+                \"documentation\": {\n+                    \"$ref\": \"#/definitions/Documentation\"\n+                },\n+                \"stability\": {\n+                    \"type\": \"string\",\n+                    \"enum\": [\"stable\", \"beta\", \"experimental\", \"private\"]\n+                },\n+                \"url\": {\n+                    \"$ref\": \"#/definitions/Url\"\n+                },\n+                \"params\": {\n+                    \"$ref\": \"#/definitions/Params\"\n+                },\n+                \"body\": {\n+                    \"$ref\": \"#/definitions/Body\"\n+                }\n+            },\n+            \"required\": [\n+                \"documentation\",\n+                \"stability\",\n+                \"url\"\n+            ],\n+            \"title\": \"API components\",\n+            \"description\": \"The components that make up the API\"\n+        },\n+        \"Url\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"paths\": {\n+                    \"type\": \"array\",\n+                    \"items\": {\n+                        \"$ref\": \"#/definitions/Path\"\n+                    },\n+                    \"minLength\": 1\n+                }\n+            },\n+            \"required\": [\n+                \"paths\"\n+            ],\n+            \"title\": \"API urls\",\n+            \"description\": \"An array of the URL path variants for the API\"\n+        },\n+        \"Params\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": true,\n+            \"propertyNames\": {\n+              \"pattern\": \"^_?[a-z]+?(_[a-z]+)*$\"\n+            },\n+            \"patternProperties\": {\n+                \"^_?[a-z]+?(_[a-z]+)*$\": {\n+                    \"$ref\": \"#/definitions/ParamPart\"\n+                }\n+            },\n+            \"title\": \"API query string parameters\",\n+            \"description\": \"A collection of the query string parameters for the API\"\n+        },\n+        \"Body\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"description\": {\n+                    \"type\": \"string\"\n+                },\n+                \"required\": {\n+                    \"type\": \"boolean\"\n+                },\n+                \"serialize\": {\n+                    \"type\": \"string\",\n+                    \"enum\": [\"bulk\"]\n+                }\n+            },\n+            \"required\": [\n+                \"description\"\n+            ],\n+            \"title\": \"API request Body\",\n+            \"description\": \"The request body for the API. Does not detail the structure, only whether the API accepts a body and its format\"\n+        },\n+        \"Deprecated\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"version\": {\n+                    \"type\": \"string\",\n+                    \"pattern\": \"^(\\\\d+)(\\\\.(\\\\d+))?(\\\\.(\\\\d+))?(\\\\-([0-9A-Za-z]+))?$\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQwODEwMw=="}, "originalCommit": {"oid": "fccaf58fdf3e248300fbb16f4879f2b0db9ea9ac"}, "originalPosition": 113}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTg2MTk2NA==", "bodyText": "done", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r399861964", "createdAt": "2020-03-29T22:18:21Z", "author": {"login": "russcam"}, "path": "rest-api-spec/schema.json", "diffHunk": "@@ -0,0 +1,242 @@\n+{\n+    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n+    \"$id\": \"https://github.com/elastic/elasticsearch/tree/master/rest-api-spec\",\n+    \"$ref\": \"#/definitions/Api\",\n+    \"definitions\": {\n+        \"Api\": {\n+            \"type\": \"object\",\n+            \"propertyNames\": {\n+                \"pattern\": \"^[a-z]+?(_[a-z]+)*(\\\\.[a-z]+?(_[a-z]+)*)?$\"\n+            },\n+            \"minProperties\": 1,\n+            \"maxProperties\": 1,\n+            \"patternProperties\": {\n+                \"^[a-z]+?(_[a-z]+)*(\\\\.[a-z]+?(_[a-z]+)*)?$\": {\n+                    \"$ref\": \"#/definitions/Components\"\n+                }\n+            },\n+            \"additionalProperties\": false,\n+            \"title\": \"API name\",\n+            \"description\": \"An object with a single property name of the API and value of the API components\"\n+        },\n+        \"Components\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"deprecated\": {\n+                    \"$ref\": \"#/definitions/Deprecated\"\n+                },\n+                \"documentation\": {\n+                    \"$ref\": \"#/definitions/Documentation\"\n+                },\n+                \"stability\": {\n+                    \"type\": \"string\",\n+                    \"enum\": [\"stable\", \"beta\", \"experimental\", \"private\"]\n+                },\n+                \"url\": {\n+                    \"$ref\": \"#/definitions/Url\"\n+                },\n+                \"params\": {\n+                    \"$ref\": \"#/definitions/Params\"\n+                },\n+                \"body\": {\n+                    \"$ref\": \"#/definitions/Body\"\n+                }\n+            },\n+            \"required\": [\n+                \"documentation\",\n+                \"stability\",\n+                \"url\"\n+            ],\n+            \"title\": \"API components\",\n+            \"description\": \"The components that make up the API\"\n+        },\n+        \"Url\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"paths\": {\n+                    \"type\": \"array\",\n+                    \"items\": {\n+                        \"$ref\": \"#/definitions/Path\"\n+                    },\n+                    \"minLength\": 1\n+                }\n+            },\n+            \"required\": [\n+                \"paths\"\n+            ],\n+            \"title\": \"API urls\",\n+            \"description\": \"An array of the URL path variants for the API\"\n+        },\n+        \"Params\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": true,\n+            \"propertyNames\": {\n+              \"pattern\": \"^_?[a-z]+?(_[a-z]+)*$\"\n+            },\n+            \"patternProperties\": {\n+                \"^_?[a-z]+?(_[a-z]+)*$\": {\n+                    \"$ref\": \"#/definitions/ParamPart\"\n+                }\n+            },\n+            \"title\": \"API query string parameters\",\n+            \"description\": \"A collection of the query string parameters for the API\"\n+        },\n+        \"Body\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"description\": {\n+                    \"type\": \"string\"\n+                },\n+                \"required\": {\n+                    \"type\": \"boolean\"\n+                },\n+                \"serialize\": {\n+                    \"type\": \"string\",\n+                    \"enum\": [\"bulk\"]\n+                }\n+            },\n+            \"required\": [\n+                \"description\"\n+            ],\n+            \"title\": \"API request Body\",\n+            \"description\": \"The request body for the API. Does not detail the structure, only whether the API accepts a body and its format\"\n+        },\n+        \"Deprecated\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"version\": {\n+                    \"type\": \"string\",\n+                    \"pattern\": \"^(\\\\d+)(\\\\.(\\\\d+))?(\\\\.(\\\\d+))?(\\\\-([0-9A-Za-z]+))?$\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQwODEwMw=="}, "originalCommit": {"oid": "fccaf58fdf3e248300fbb16f4879f2b0db9ea9ac"}, "originalPosition": 113}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3NjIyMTgxOnYy", "diffSide": "RIGHT", "path": "rest-api-spec/schema.json", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxNjo1ODowN1rOF85-pA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwNTowNTowNFrOF-Fddw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQwODgwNA==", "bodyText": "should we expand this to an array to allow saying this was deprecrated in 6.8.7 and 7.6.1 ? (probably not with this PR, but as a follow up)", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r399408804", "createdAt": "2020-03-27T16:58:07Z", "author": {"login": "jakelandis"}, "path": "rest-api-spec/schema.json", "diffHunk": "@@ -0,0 +1,242 @@\n+{\n+    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n+    \"$id\": \"https://github.com/elastic/elasticsearch/tree/master/rest-api-spec\",\n+    \"$ref\": \"#/definitions/Api\",\n+    \"definitions\": {\n+        \"Api\": {\n+            \"type\": \"object\",\n+            \"propertyNames\": {\n+                \"pattern\": \"^[a-z]+?(_[a-z]+)*(\\\\.[a-z]+?(_[a-z]+)*)?$\"\n+            },\n+            \"minProperties\": 1,\n+            \"maxProperties\": 1,\n+            \"patternProperties\": {\n+                \"^[a-z]+?(_[a-z]+)*(\\\\.[a-z]+?(_[a-z]+)*)?$\": {\n+                    \"$ref\": \"#/definitions/Components\"\n+                }\n+            },\n+            \"additionalProperties\": false,\n+            \"title\": \"API name\",\n+            \"description\": \"An object with a single property name of the API and value of the API components\"\n+        },\n+        \"Components\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"deprecated\": {\n+                    \"$ref\": \"#/definitions/Deprecated\"\n+                },\n+                \"documentation\": {\n+                    \"$ref\": \"#/definitions/Documentation\"\n+                },\n+                \"stability\": {\n+                    \"type\": \"string\",\n+                    \"enum\": [\"stable\", \"beta\", \"experimental\", \"private\"]\n+                },\n+                \"url\": {\n+                    \"$ref\": \"#/definitions/Url\"\n+                },\n+                \"params\": {\n+                    \"$ref\": \"#/definitions/Params\"\n+                },\n+                \"body\": {\n+                    \"$ref\": \"#/definitions/Body\"\n+                }\n+            },\n+            \"required\": [\n+                \"documentation\",\n+                \"stability\",\n+                \"url\"\n+            ],\n+            \"title\": \"API components\",\n+            \"description\": \"The components that make up the API\"\n+        },\n+        \"Url\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"paths\": {\n+                    \"type\": \"array\",\n+                    \"items\": {\n+                        \"$ref\": \"#/definitions/Path\"\n+                    },\n+                    \"minLength\": 1\n+                }\n+            },\n+            \"required\": [\n+                \"paths\"\n+            ],\n+            \"title\": \"API urls\",\n+            \"description\": \"An array of the URL path variants for the API\"\n+        },\n+        \"Params\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": true,\n+            \"propertyNames\": {\n+              \"pattern\": \"^_?[a-z]+?(_[a-z]+)*$\"\n+            },\n+            \"patternProperties\": {\n+                \"^_?[a-z]+?(_[a-z]+)*$\": {\n+                    \"$ref\": \"#/definitions/ParamPart\"\n+                }\n+            },\n+            \"title\": \"API query string parameters\",\n+            \"description\": \"A collection of the query string parameters for the API\"\n+        },\n+        \"Body\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"description\": {\n+                    \"type\": \"string\"\n+                },\n+                \"required\": {\n+                    \"type\": \"boolean\"\n+                },\n+                \"serialize\": {\n+                    \"type\": \"string\",\n+                    \"enum\": [\"bulk\"]\n+                }\n+            },\n+            \"required\": [\n+                \"description\"\n+            ],\n+            \"title\": \"API request Body\",\n+            \"description\": \"The request body for the API. Does not detail the structure, only whether the API accepts a body and its format\"\n+        },\n+        \"Deprecated\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"version\": {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fccaf58fdf3e248300fbb16f4879f2b0db9ea9ac"}, "originalPosition": 111}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTc1NTAzMA==", "bodyText": "Happy to do in a follow up. I don\u2019t think we have a need for this in the current specs, but do you see one coming up?", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r399755030", "createdAt": "2020-03-29T06:52:28Z", "author": {"login": "russcam"}, "path": "rest-api-spec/schema.json", "diffHunk": "@@ -0,0 +1,242 @@\n+{\n+    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n+    \"$id\": \"https://github.com/elastic/elasticsearch/tree/master/rest-api-spec\",\n+    \"$ref\": \"#/definitions/Api\",\n+    \"definitions\": {\n+        \"Api\": {\n+            \"type\": \"object\",\n+            \"propertyNames\": {\n+                \"pattern\": \"^[a-z]+?(_[a-z]+)*(\\\\.[a-z]+?(_[a-z]+)*)?$\"\n+            },\n+            \"minProperties\": 1,\n+            \"maxProperties\": 1,\n+            \"patternProperties\": {\n+                \"^[a-z]+?(_[a-z]+)*(\\\\.[a-z]+?(_[a-z]+)*)?$\": {\n+                    \"$ref\": \"#/definitions/Components\"\n+                }\n+            },\n+            \"additionalProperties\": false,\n+            \"title\": \"API name\",\n+            \"description\": \"An object with a single property name of the API and value of the API components\"\n+        },\n+        \"Components\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"deprecated\": {\n+                    \"$ref\": \"#/definitions/Deprecated\"\n+                },\n+                \"documentation\": {\n+                    \"$ref\": \"#/definitions/Documentation\"\n+                },\n+                \"stability\": {\n+                    \"type\": \"string\",\n+                    \"enum\": [\"stable\", \"beta\", \"experimental\", \"private\"]\n+                },\n+                \"url\": {\n+                    \"$ref\": \"#/definitions/Url\"\n+                },\n+                \"params\": {\n+                    \"$ref\": \"#/definitions/Params\"\n+                },\n+                \"body\": {\n+                    \"$ref\": \"#/definitions/Body\"\n+                }\n+            },\n+            \"required\": [\n+                \"documentation\",\n+                \"stability\",\n+                \"url\"\n+            ],\n+            \"title\": \"API components\",\n+            \"description\": \"The components that make up the API\"\n+        },\n+        \"Url\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"paths\": {\n+                    \"type\": \"array\",\n+                    \"items\": {\n+                        \"$ref\": \"#/definitions/Path\"\n+                    },\n+                    \"minLength\": 1\n+                }\n+            },\n+            \"required\": [\n+                \"paths\"\n+            ],\n+            \"title\": \"API urls\",\n+            \"description\": \"An array of the URL path variants for the API\"\n+        },\n+        \"Params\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": true,\n+            \"propertyNames\": {\n+              \"pattern\": \"^_?[a-z]+?(_[a-z]+)*$\"\n+            },\n+            \"patternProperties\": {\n+                \"^_?[a-z]+?(_[a-z]+)*$\": {\n+                    \"$ref\": \"#/definitions/ParamPart\"\n+                }\n+            },\n+            \"title\": \"API query string parameters\",\n+            \"description\": \"A collection of the query string parameters for the API\"\n+        },\n+        \"Body\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"description\": {\n+                    \"type\": \"string\"\n+                },\n+                \"required\": {\n+                    \"type\": \"boolean\"\n+                },\n+                \"serialize\": {\n+                    \"type\": \"string\",\n+                    \"enum\": [\"bulk\"]\n+                }\n+            },\n+            \"required\": [\n+                \"description\"\n+            ],\n+            \"title\": \"API request Body\",\n+            \"description\": \"The request body for the API. Does not detail the structure, only whether the API accepts a body and its format\"\n+        },\n+        \"Deprecated\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"version\": {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQwODgwNA=="}, "originalCommit": {"oid": "fccaf58fdf3e248300fbb16f4879f2b0db9ea9ac"}, "originalPosition": 111}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDIyNDEyMg==", "bodyText": "Not specifically, and now that I think about this abit more it is likely pretty rare for a need to do this.", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r400224122", "createdAt": "2020-03-30T14:13:08Z", "author": {"login": "jakelandis"}, "path": "rest-api-spec/schema.json", "diffHunk": "@@ -0,0 +1,242 @@\n+{\n+    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n+    \"$id\": \"https://github.com/elastic/elasticsearch/tree/master/rest-api-spec\",\n+    \"$ref\": \"#/definitions/Api\",\n+    \"definitions\": {\n+        \"Api\": {\n+            \"type\": \"object\",\n+            \"propertyNames\": {\n+                \"pattern\": \"^[a-z]+?(_[a-z]+)*(\\\\.[a-z]+?(_[a-z]+)*)?$\"\n+            },\n+            \"minProperties\": 1,\n+            \"maxProperties\": 1,\n+            \"patternProperties\": {\n+                \"^[a-z]+?(_[a-z]+)*(\\\\.[a-z]+?(_[a-z]+)*)?$\": {\n+                    \"$ref\": \"#/definitions/Components\"\n+                }\n+            },\n+            \"additionalProperties\": false,\n+            \"title\": \"API name\",\n+            \"description\": \"An object with a single property name of the API and value of the API components\"\n+        },\n+        \"Components\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"deprecated\": {\n+                    \"$ref\": \"#/definitions/Deprecated\"\n+                },\n+                \"documentation\": {\n+                    \"$ref\": \"#/definitions/Documentation\"\n+                },\n+                \"stability\": {\n+                    \"type\": \"string\",\n+                    \"enum\": [\"stable\", \"beta\", \"experimental\", \"private\"]\n+                },\n+                \"url\": {\n+                    \"$ref\": \"#/definitions/Url\"\n+                },\n+                \"params\": {\n+                    \"$ref\": \"#/definitions/Params\"\n+                },\n+                \"body\": {\n+                    \"$ref\": \"#/definitions/Body\"\n+                }\n+            },\n+            \"required\": [\n+                \"documentation\",\n+                \"stability\",\n+                \"url\"\n+            ],\n+            \"title\": \"API components\",\n+            \"description\": \"The components that make up the API\"\n+        },\n+        \"Url\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"paths\": {\n+                    \"type\": \"array\",\n+                    \"items\": {\n+                        \"$ref\": \"#/definitions/Path\"\n+                    },\n+                    \"minLength\": 1\n+                }\n+            },\n+            \"required\": [\n+                \"paths\"\n+            ],\n+            \"title\": \"API urls\",\n+            \"description\": \"An array of the URL path variants for the API\"\n+        },\n+        \"Params\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": true,\n+            \"propertyNames\": {\n+              \"pattern\": \"^_?[a-z]+?(_[a-z]+)*$\"\n+            },\n+            \"patternProperties\": {\n+                \"^_?[a-z]+?(_[a-z]+)*$\": {\n+                    \"$ref\": \"#/definitions/ParamPart\"\n+                }\n+            },\n+            \"title\": \"API query string parameters\",\n+            \"description\": \"A collection of the query string parameters for the API\"\n+        },\n+        \"Body\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"description\": {\n+                    \"type\": \"string\"\n+                },\n+                \"required\": {\n+                    \"type\": \"boolean\"\n+                },\n+                \"serialize\": {\n+                    \"type\": \"string\",\n+                    \"enum\": [\"bulk\"]\n+                }\n+            },\n+            \"required\": [\n+                \"description\"\n+            ],\n+            \"title\": \"API request Body\",\n+            \"description\": \"The request body for the API. Does not detail the structure, only whether the API accepts a body and its format\"\n+        },\n+        \"Deprecated\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"version\": {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQwODgwNA=="}, "originalCommit": {"oid": "fccaf58fdf3e248300fbb16f4879f2b0db9ea9ac"}, "originalPosition": 111}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDY0NTQ5NQ==", "bodyText": "No worries - can always amend down the line", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r400645495", "createdAt": "2020-03-31T05:05:04Z", "author": {"login": "russcam"}, "path": "rest-api-spec/schema.json", "diffHunk": "@@ -0,0 +1,242 @@\n+{\n+    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n+    \"$id\": \"https://github.com/elastic/elasticsearch/tree/master/rest-api-spec\",\n+    \"$ref\": \"#/definitions/Api\",\n+    \"definitions\": {\n+        \"Api\": {\n+            \"type\": \"object\",\n+            \"propertyNames\": {\n+                \"pattern\": \"^[a-z]+?(_[a-z]+)*(\\\\.[a-z]+?(_[a-z]+)*)?$\"\n+            },\n+            \"minProperties\": 1,\n+            \"maxProperties\": 1,\n+            \"patternProperties\": {\n+                \"^[a-z]+?(_[a-z]+)*(\\\\.[a-z]+?(_[a-z]+)*)?$\": {\n+                    \"$ref\": \"#/definitions/Components\"\n+                }\n+            },\n+            \"additionalProperties\": false,\n+            \"title\": \"API name\",\n+            \"description\": \"An object with a single property name of the API and value of the API components\"\n+        },\n+        \"Components\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"deprecated\": {\n+                    \"$ref\": \"#/definitions/Deprecated\"\n+                },\n+                \"documentation\": {\n+                    \"$ref\": \"#/definitions/Documentation\"\n+                },\n+                \"stability\": {\n+                    \"type\": \"string\",\n+                    \"enum\": [\"stable\", \"beta\", \"experimental\", \"private\"]\n+                },\n+                \"url\": {\n+                    \"$ref\": \"#/definitions/Url\"\n+                },\n+                \"params\": {\n+                    \"$ref\": \"#/definitions/Params\"\n+                },\n+                \"body\": {\n+                    \"$ref\": \"#/definitions/Body\"\n+                }\n+            },\n+            \"required\": [\n+                \"documentation\",\n+                \"stability\",\n+                \"url\"\n+            ],\n+            \"title\": \"API components\",\n+            \"description\": \"The components that make up the API\"\n+        },\n+        \"Url\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"paths\": {\n+                    \"type\": \"array\",\n+                    \"items\": {\n+                        \"$ref\": \"#/definitions/Path\"\n+                    },\n+                    \"minLength\": 1\n+                }\n+            },\n+            \"required\": [\n+                \"paths\"\n+            ],\n+            \"title\": \"API urls\",\n+            \"description\": \"An array of the URL path variants for the API\"\n+        },\n+        \"Params\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": true,\n+            \"propertyNames\": {\n+              \"pattern\": \"^_?[a-z]+?(_[a-z]+)*$\"\n+            },\n+            \"patternProperties\": {\n+                \"^_?[a-z]+?(_[a-z]+)*$\": {\n+                    \"$ref\": \"#/definitions/ParamPart\"\n+                }\n+            },\n+            \"title\": \"API query string parameters\",\n+            \"description\": \"A collection of the query string parameters for the API\"\n+        },\n+        \"Body\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"description\": {\n+                    \"type\": \"string\"\n+                },\n+                \"required\": {\n+                    \"type\": \"boolean\"\n+                },\n+                \"serialize\": {\n+                    \"type\": \"string\",\n+                    \"enum\": [\"bulk\"]\n+                }\n+            },\n+            \"required\": [\n+                \"description\"\n+            ],\n+            \"title\": \"API request Body\",\n+            \"description\": \"The request body for the API. Does not detail the structure, only whether the API accepts a body and its format\"\n+        },\n+        \"Deprecated\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"version\": {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQwODgwNA=="}, "originalCommit": {"oid": "fccaf58fdf3e248300fbb16f4879f2b0db9ea9ac"}, "originalPosition": 111}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3NjI4NjM2OnYy", "diffSide": "RIGHT", "path": "rest-api-spec/schema.json", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxNzoxNDo0OFrOF86nNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxNDoxNDoxNlrOF9rzMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQxOTE4OQ==", "bodyText": "I wonder if we should leave this out and set additionalProperties to true ?\n.. or if we should find where this is used and make it an external definition ? (this may help to encourage that start of building json schema's for the body)", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r399419189", "createdAt": "2020-03-27T17:14:48Z", "author": {"login": "jakelandis"}, "path": "rest-api-spec/schema.json", "diffHunk": "@@ -0,0 +1,242 @@\n+{\n+    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n+    \"$id\": \"https://github.com/elastic/elasticsearch/tree/master/rest-api-spec\",\n+    \"$ref\": \"#/definitions/Api\",\n+    \"definitions\": {\n+        \"Api\": {\n+            \"type\": \"object\",\n+            \"propertyNames\": {\n+                \"pattern\": \"^[a-z]+?(_[a-z]+)*(\\\\.[a-z]+?(_[a-z]+)*)?$\"\n+            },\n+            \"minProperties\": 1,\n+            \"maxProperties\": 1,\n+            \"patternProperties\": {\n+                \"^[a-z]+?(_[a-z]+)*(\\\\.[a-z]+?(_[a-z]+)*)?$\": {\n+                    \"$ref\": \"#/definitions/Components\"\n+                }\n+            },\n+            \"additionalProperties\": false,\n+            \"title\": \"API name\",\n+            \"description\": \"An object with a single property name of the API and value of the API components\"\n+        },\n+        \"Components\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"deprecated\": {\n+                    \"$ref\": \"#/definitions/Deprecated\"\n+                },\n+                \"documentation\": {\n+                    \"$ref\": \"#/definitions/Documentation\"\n+                },\n+                \"stability\": {\n+                    \"type\": \"string\",\n+                    \"enum\": [\"stable\", \"beta\", \"experimental\", \"private\"]\n+                },\n+                \"url\": {\n+                    \"$ref\": \"#/definitions/Url\"\n+                },\n+                \"params\": {\n+                    \"$ref\": \"#/definitions/Params\"\n+                },\n+                \"body\": {\n+                    \"$ref\": \"#/definitions/Body\"\n+                }\n+            },\n+            \"required\": [\n+                \"documentation\",\n+                \"stability\",\n+                \"url\"\n+            ],\n+            \"title\": \"API components\",\n+            \"description\": \"The components that make up the API\"\n+        },\n+        \"Url\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"paths\": {\n+                    \"type\": \"array\",\n+                    \"items\": {\n+                        \"$ref\": \"#/definitions/Path\"\n+                    },\n+                    \"minLength\": 1\n+                }\n+            },\n+            \"required\": [\n+                \"paths\"\n+            ],\n+            \"title\": \"API urls\",\n+            \"description\": \"An array of the URL path variants for the API\"\n+        },\n+        \"Params\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": true,\n+            \"propertyNames\": {\n+              \"pattern\": \"^_?[a-z]+?(_[a-z]+)*$\"\n+            },\n+            \"patternProperties\": {\n+                \"^_?[a-z]+?(_[a-z]+)*$\": {\n+                    \"$ref\": \"#/definitions/ParamPart\"\n+                }\n+            },\n+            \"title\": \"API query string parameters\",\n+            \"description\": \"A collection of the query string parameters for the API\"\n+        },\n+        \"Body\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"description\": {\n+                    \"type\": \"string\"\n+                },\n+                \"required\": {\n+                    \"type\": \"boolean\"\n+                },\n+                \"serialize\": {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fccaf58fdf3e248300fbb16f4879f2b0db9ea9ac"}, "originalPosition": 96}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTc1NjI4Mg==", "bodyText": "\u201dserialize\u201d with \u201dbulk\u201d is used by clients currently to know if an API accepts newline-delimited JSON format. Can we keep as is for now, and look at changing when needed? @Mpdreamz opened #53979 to add content-type and accept headers, so we can looking at moving to using these, but would want to coordinate with teams first before removing.", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r399756282", "createdAt": "2020-03-29T07:05:48Z", "author": {"login": "russcam"}, "path": "rest-api-spec/schema.json", "diffHunk": "@@ -0,0 +1,242 @@\n+{\n+    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n+    \"$id\": \"https://github.com/elastic/elasticsearch/tree/master/rest-api-spec\",\n+    \"$ref\": \"#/definitions/Api\",\n+    \"definitions\": {\n+        \"Api\": {\n+            \"type\": \"object\",\n+            \"propertyNames\": {\n+                \"pattern\": \"^[a-z]+?(_[a-z]+)*(\\\\.[a-z]+?(_[a-z]+)*)?$\"\n+            },\n+            \"minProperties\": 1,\n+            \"maxProperties\": 1,\n+            \"patternProperties\": {\n+                \"^[a-z]+?(_[a-z]+)*(\\\\.[a-z]+?(_[a-z]+)*)?$\": {\n+                    \"$ref\": \"#/definitions/Components\"\n+                }\n+            },\n+            \"additionalProperties\": false,\n+            \"title\": \"API name\",\n+            \"description\": \"An object with a single property name of the API and value of the API components\"\n+        },\n+        \"Components\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"deprecated\": {\n+                    \"$ref\": \"#/definitions/Deprecated\"\n+                },\n+                \"documentation\": {\n+                    \"$ref\": \"#/definitions/Documentation\"\n+                },\n+                \"stability\": {\n+                    \"type\": \"string\",\n+                    \"enum\": [\"stable\", \"beta\", \"experimental\", \"private\"]\n+                },\n+                \"url\": {\n+                    \"$ref\": \"#/definitions/Url\"\n+                },\n+                \"params\": {\n+                    \"$ref\": \"#/definitions/Params\"\n+                },\n+                \"body\": {\n+                    \"$ref\": \"#/definitions/Body\"\n+                }\n+            },\n+            \"required\": [\n+                \"documentation\",\n+                \"stability\",\n+                \"url\"\n+            ],\n+            \"title\": \"API components\",\n+            \"description\": \"The components that make up the API\"\n+        },\n+        \"Url\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"paths\": {\n+                    \"type\": \"array\",\n+                    \"items\": {\n+                        \"$ref\": \"#/definitions/Path\"\n+                    },\n+                    \"minLength\": 1\n+                }\n+            },\n+            \"required\": [\n+                \"paths\"\n+            ],\n+            \"title\": \"API urls\",\n+            \"description\": \"An array of the URL path variants for the API\"\n+        },\n+        \"Params\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": true,\n+            \"propertyNames\": {\n+              \"pattern\": \"^_?[a-z]+?(_[a-z]+)*$\"\n+            },\n+            \"patternProperties\": {\n+                \"^_?[a-z]+?(_[a-z]+)*$\": {\n+                    \"$ref\": \"#/definitions/ParamPart\"\n+                }\n+            },\n+            \"title\": \"API query string parameters\",\n+            \"description\": \"A collection of the query string parameters for the API\"\n+        },\n+        \"Body\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"description\": {\n+                    \"type\": \"string\"\n+                },\n+                \"required\": {\n+                    \"type\": \"boolean\"\n+                },\n+                \"serialize\": {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQxOTE4OQ=="}, "originalCommit": {"oid": "fccaf58fdf3e248300fbb16f4879f2b0db9ea9ac"}, "originalPosition": 96}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDIyNTA3Mg==", "bodyText": "thanks, i think i mis-understood this purpose.", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r400225072", "createdAt": "2020-03-30T14:14:16Z", "author": {"login": "jakelandis"}, "path": "rest-api-spec/schema.json", "diffHunk": "@@ -0,0 +1,242 @@\n+{\n+    \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n+    \"$id\": \"https://github.com/elastic/elasticsearch/tree/master/rest-api-spec\",\n+    \"$ref\": \"#/definitions/Api\",\n+    \"definitions\": {\n+        \"Api\": {\n+            \"type\": \"object\",\n+            \"propertyNames\": {\n+                \"pattern\": \"^[a-z]+?(_[a-z]+)*(\\\\.[a-z]+?(_[a-z]+)*)?$\"\n+            },\n+            \"minProperties\": 1,\n+            \"maxProperties\": 1,\n+            \"patternProperties\": {\n+                \"^[a-z]+?(_[a-z]+)*(\\\\.[a-z]+?(_[a-z]+)*)?$\": {\n+                    \"$ref\": \"#/definitions/Components\"\n+                }\n+            },\n+            \"additionalProperties\": false,\n+            \"title\": \"API name\",\n+            \"description\": \"An object with a single property name of the API and value of the API components\"\n+        },\n+        \"Components\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"deprecated\": {\n+                    \"$ref\": \"#/definitions/Deprecated\"\n+                },\n+                \"documentation\": {\n+                    \"$ref\": \"#/definitions/Documentation\"\n+                },\n+                \"stability\": {\n+                    \"type\": \"string\",\n+                    \"enum\": [\"stable\", \"beta\", \"experimental\", \"private\"]\n+                },\n+                \"url\": {\n+                    \"$ref\": \"#/definitions/Url\"\n+                },\n+                \"params\": {\n+                    \"$ref\": \"#/definitions/Params\"\n+                },\n+                \"body\": {\n+                    \"$ref\": \"#/definitions/Body\"\n+                }\n+            },\n+            \"required\": [\n+                \"documentation\",\n+                \"stability\",\n+                \"url\"\n+            ],\n+            \"title\": \"API components\",\n+            \"description\": \"The components that make up the API\"\n+        },\n+        \"Url\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"paths\": {\n+                    \"type\": \"array\",\n+                    \"items\": {\n+                        \"$ref\": \"#/definitions/Path\"\n+                    },\n+                    \"minLength\": 1\n+                }\n+            },\n+            \"required\": [\n+                \"paths\"\n+            ],\n+            \"title\": \"API urls\",\n+            \"description\": \"An array of the URL path variants for the API\"\n+        },\n+        \"Params\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": true,\n+            \"propertyNames\": {\n+              \"pattern\": \"^_?[a-z]+?(_[a-z]+)*$\"\n+            },\n+            \"patternProperties\": {\n+                \"^_?[a-z]+?(_[a-z]+)*$\": {\n+                    \"$ref\": \"#/definitions/ParamPart\"\n+                }\n+            },\n+            \"title\": \"API query string parameters\",\n+            \"description\": \"A collection of the query string parameters for the API\"\n+        },\n+        \"Body\": {\n+            \"type\": \"object\",\n+            \"additionalProperties\": false,\n+            \"properties\": {\n+                \"description\": {\n+                    \"type\": \"string\"\n+                },\n+                \"required\": {\n+                    \"type\": \"boolean\"\n+                },\n+                \"serialize\": {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTQxOTE4OQ=="}, "originalCommit": {"oid": "fccaf58fdf3e248300fbb16f4879f2b0db9ea9ac"}, "originalPosition": 96}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3NzAxNDE0OnYy", "diffSide": "RIGHT", "path": "rest-api-spec/schema.json", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QyMTowMjowMFrOF9Bvhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQyMjoxODowNVrOF9VoqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTUzNjAwNg==", "bodyText": "Can we move this file to src/main/resources ? I consider this more as part of the rest-api-spec then meta-data of the project/build.", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r399536006", "createdAt": "2020-03-27T21:02:00Z", "author": {"login": "jakelandis"}, "path": "rest-api-spec/schema.json", "diffHunk": "@@ -0,0 +1,242 @@\n+{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fccaf58fdf3e248300fbb16f4879f2b0db9ea9ac"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTc1NTEyOQ==", "bodyText": "++ Happy to move to where you think is best", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r399755129", "createdAt": "2020-03-29T06:53:27Z", "author": {"login": "russcam"}, "path": "rest-api-spec/schema.json", "diffHunk": "@@ -0,0 +1,242 @@\n+{", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTUzNjAwNg=="}, "originalCommit": {"oid": "fccaf58fdf3e248300fbb16f4879f2b0db9ea9ac"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTg2MTkyOA==", "bodyText": "done", "url": "https://github.com/elastic/elasticsearch/pull/54252#discussion_r399861928", "createdAt": "2020-03-29T22:18:05Z", "author": {"login": "russcam"}, "path": "rest-api-spec/schema.json", "diffHunk": "@@ -0,0 +1,242 @@\n+{", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTUzNjAwNg=="}, "originalCommit": {"oid": "fccaf58fdf3e248300fbb16f4879f2b0db9ea9ac"}, "originalPosition": 1}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4117, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}