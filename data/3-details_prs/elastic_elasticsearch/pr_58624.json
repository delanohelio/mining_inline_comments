{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwNzkyNTU2", "number": 58624, "title": "EQL: case sensitivity aware integration testing", "bodyText": "This PR is a wrap up of #57323 and most of the code originates there.\nPart of #57313\nCloses #56754\nPulled over the latest TOML integration tests from Python, which have case (in)sensitive toggles.\nThere's a handful more tests added, and I noticed that some of the sequence tests are failing, so I left those in the exclusions list. Also updated the HLRC to include case sensitive toggles, which was needed for the tests.\nBasically to mark a test as case-sensitive only, add this to the TOML\ncase_sensitive = true\n\nor this to make a test case-insensitive only.\ncase_insensitive = true\n\nIf the flags aren't set, then the test is assumed to work with both and tests are run both with case_sensitive=true and case_sensitive=false.", "createdAt": "2020-06-26T21:24:14Z", "url": "https://github.com/elastic/elasticsearch/pull/58624", "merged": true, "mergeCommit": {"oid": "34d383421599f060a5c083b40df35f135de49e39"}, "closed": true, "closedAt": "2020-06-29T13:37:35Z", "author": {"login": "astefan"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcvB1_aAH2gAyNDQwNzkyNTU2OjYwYmY2NGU1ZjVmNTMyNDVhOWU0ODdlMzVhODE2N2RjNjM1MDY1Yjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwATcUgH2gAyNDQwNzkyNTU2OjdjMjM4ZDM4MWVlNTY4NzM4YTE4N2M3OTQxMGE5Yzk0MGIyYWJjOTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "60bf64e5f5f53245a9e487e35a8167dc635065b9", "author": {"user": {"login": "rw-access", "name": "Ross Wolf"}}, "url": "https://github.com/elastic/elasticsearch/commit/60bf64e5f5f53245a9e487e35a8167dc635065b9", "committedDate": "2020-06-26T11:49:24Z", "message": "EQL: Add case-sensitive and insensitive integration tests\n\n(cherry picked from commit 28a3f55e9bf7e9374fcac9efe77fda82d4bf006d)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad1f454bbe806d8c94390f6167bb4dd557796430", "author": {"user": {"login": "rw-access", "name": "Ross Wolf"}}, "url": "https://github.com/elastic/elasticsearch/commit/ad1f454bbe806d8c94390f6167bb4dd557796430", "committedDate": "2020-06-26T11:49:25Z", "message": "EQL: Remove whitespace from EqlSearchRequest.java\n\n(cherry picked from commit 125f19d04b1a585cc16b21bb15c30659ee564b68)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "210d7d8a0bf2745684ac4db833841ab161f86122", "author": {"user": {"login": "rw-access", "name": "Ross Wolf"}}, "url": "https://github.com/elastic/elasticsearch/commit/210d7d8a0bf2745684ac4db833841ab161f86122", "committedDate": "2020-06-26T11:49:25Z", "message": "EQL: Update EqlSpec.equals\n\n(cherry picked from commit bbc7215332ff1b0ef3174534ca4197bc8e993c54)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de340f50d78607cfc413f3c659767eb8b0426a9b", "author": {"user": {"login": "rw-access", "name": "Ross Wolf"}}, "url": "https://github.com/elastic/elasticsearch/commit/de340f50d78607cfc413f3c659767eb8b0426a9b", "committedDate": "2020-06-26T11:49:26Z", "message": "EQL: Unbox Boolean for testing\n\n(cherry picked from commit 48d3b72a7a48306c66f70a6c487e3c8a0d009ac0)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3f8f9a1a756842edd88616d1068291cb7b802bd", "author": {"user": {"login": "rw-access", "name": "Ross Wolf"}}, "url": "https://github.com/elastic/elasticsearch/commit/a3f8f9a1a756842edd88616d1068291cb7b802bd", "committedDate": "2020-06-26T11:50:03Z", "message": "EQL: Make case_sensitive/case_insensitive required\n\n(cherry picked from commit 254b5c3744cec2fe7f79da948ac2f9402fc9131a)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15e3e946e8ca29750e7baa46ecd91fd7c7807eb5", "author": {"user": {"login": "rw-access", "name": "Ross Wolf"}}, "url": "https://github.com/elastic/elasticsearch/commit/15e3e946e8ca29750e7baa46ecd91fd7c7807eb5", "committedDate": "2020-06-26T11:50:42Z", "message": "EQL: Update queries blacklist\n\n(cherry picked from commit 28d9a76442f4a25d9137cd9b75e6ef632200f74a)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "960cd440a8de825da6dfee7b5abf9e3d75c85f6f", "author": {"user": {"login": "rw-access", "name": "Ross Wolf"}}, "url": "https://github.com/elastic/elasticsearch/commit/960cd440a8de825da6dfee7b5abf9e3d75c85f6f", "committedDate": "2020-06-26T11:50:42Z", "message": "EQL: Remove unnecessary blacklists\n\n(cherry picked from commit 545ab4a570883276044332cf58defb0ffe4bfd3c)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a620abf9b84123897807325c05b85eb60c307af4", "author": {"user": {"login": "rw-access", "name": "Ross Wolf"}}, "url": "https://github.com/elastic/elasticsearch/commit/a620abf9b84123897807325c05b85eb60c307af4", "committedDate": "2020-06-26T11:50:43Z", "message": "EQL: Unbox EqlSearchRequest.isCaseSensitive\n\n(cherry picked from commit b8d16d3ffd6b55e454a6af7d7101dd7bfdaa8f68)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3ef4be072a6b753909161d8f9b2f58c018b1548", "author": {"user": {"login": "rw-access", "name": "Ross Wolf"}}, "url": "https://github.com/elastic/elasticsearch/commit/e3ef4be072a6b753909161d8f9b2f58c018b1548", "committedDate": "2020-06-26T11:50:43Z", "message": "EQL: Lint/nitpick feedback\n\n(cherry picked from commit 0e742deb1a7b2c09701debfc17e7dc8f7423ad3e)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "376c4bc030b16df59a7fa7698ed5bf0dabfd5d62", "author": {"user": {"login": "astefan", "name": "Andrei Stefan"}}, "url": "https://github.com/elastic/elasticsearch/commit/376c4bc030b16df59a7fa7698ed5bf0dabfd5d62", "committedDate": "2020-06-26T21:04:41Z", "message": "Add DataLoader\n\nRewrite case sensitivity settings:\nNULL -> run both case sensitive and insensitive tests\nTRUE -> run case sensitive test only\nFALSE -> run case insensitive test only"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8855be3df6e0145f3837fcd008b54aac26c58536", "author": {"user": {"login": "astefan", "name": "Andrei Stefan"}}, "url": "https://github.com/elastic/elasticsearch/commit/8855be3df6e0145f3837fcd008b54aac26c58536", "committedDate": "2020-06-26T21:05:08Z", "message": "Merge branch 'master' of https://github.com/elastic/elasticsearch into case-sensitive-tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5eccfdfa69c99c94ea66b3f7a8715710a08d0f2d", "author": {"user": {"login": "astefan", "name": "Andrei Stefan"}}, "url": "https://github.com/elastic/elasticsearch/commit/5eccfdfa69c99c94ea66b3f7a8715710a08d0f2d", "committedDate": "2020-06-26T21:19:23Z", "message": "Update test_queries_supported.toml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d48056b2a99031e3f3f5893a0ef850403320ce4", "author": {"user": {"login": "astefan", "name": "Andrei Stefan"}}, "url": "https://github.com/elastic/elasticsearch/commit/7d48056b2a99031e3f3f5893a0ef850403320ce4", "committedDate": "2020-06-26T21:23:54Z", "message": "Rename test_queries_supported"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NzIxMDM2", "url": "https://github.com/elastic/elasticsearch/pull/58624#pullrequestreview-438721036", "createdAt": "2020-06-27T19:55:52Z", "commit": {"oid": "7d48056b2a99031e3f3f5893a0ef850403320ce4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QxOTo1NTo1MlrOGp39Nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QxOTo1NTo1MlrOGp39Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU2MTU5MQ==", "bodyText": "These are incorrectly formatted (as is the rest of the group under it) - the sequence has 4 items not 2 on a line.", "url": "https://github.com/elastic/elasticsearch/pull/58624#discussion_r446561591", "createdAt": "2020-06-27T19:55:52Z", "author": {"login": "costin"}, "path": "x-pack/plugin/eql/qa/common/src/main/resources/test_queries.toml", "diffHunk": "@@ -391,8 +691,12 @@ sequence\n   [process where opcode == 2] by process_path\n   [file where event_subtype_full == \"file_delete_event\"] by file_path\n | head 4\n-| tail 2'''\n-expected_event_ids  = [67, 68, 69, 70, 72, 73, 74, 75]\n+| tail 2\n+'''\n+expected_event_ids  = [67, 68,\n+                       69, 70,\n+                       72, 73,\n+                       74, 75]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7d48056b2a99031e3f3f5893a0ef850403320ce4"}, "originalPosition": 632}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NzIxMTU4", "url": "https://github.com/elastic/elasticsearch/pull/58624#pullrequestreview-438721158", "createdAt": "2020-06-27T19:58:10Z", "commit": {"oid": "7d48056b2a99031e3f3f5893a0ef850403320ce4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "974d37a97aaade67daf9ba9f5a242e24e22cbd04", "author": {"user": {"login": "astefan", "name": "Andrei Stefan"}}, "url": "https://github.com/elastic/elasticsearch/commit/974d37a97aaade67daf9ba9f5a242e24e22cbd04", "committedDate": "2020-06-29T08:56:31Z", "message": "Merge branch 'master' of https://github.com/elastic/elasticsearch into case-sensitive-tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df6ce15ed66c4cf39ea137d72bd8d7617b412a2c", "author": {"user": {"login": "astefan", "name": "Andrei Stefan"}}, "url": "https://github.com/elastic/elasticsearch/commit/df6ce15ed66c4cf39ea137d72bd8d7617b412a2c", "committedDate": "2020-06-29T12:11:52Z", "message": "Address reviews and exclude more tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f709a85452c3e76f0c5aa800363102166f530b93", "author": {"user": {"login": "astefan", "name": "Andrei Stefan"}}, "url": "https://github.com/elastic/elasticsearch/commit/f709a85452c3e76f0c5aa800363102166f530b93", "committedDate": "2020-06-29T12:12:04Z", "message": "Merge branch 'master' of https://github.com/elastic/elasticsearch into case-sensitive-tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c238d381ee568738a187c79410a9c940b2abc97", "author": {"user": {"login": "astefan", "name": "Andrei Stefan"}}, "url": "https://github.com/elastic/elasticsearch/commit/7c238d381ee568738a187c79410a9c940b2abc97", "committedDate": "2020-06-29T12:35:41Z", "message": "Allow even more tests to run"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2684, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}