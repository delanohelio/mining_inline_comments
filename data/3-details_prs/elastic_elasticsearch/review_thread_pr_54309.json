{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0NDY4NTEy", "number": 54309, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMzoxOToyNlrODr3mNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMzoyMDoxM1rODr3m5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3MzI2MjYzOnYy", "diffSide": "RIGHT", "path": "gradle/forbidden-dependencies.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMzoxOToyNlrOF8d4Xw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QwMzo0NDoyMFrOF8iMmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk0ODQ0Nw==", "bodyText": "We might want to include the full path to the configuration here as just saying \"compileClasspath\" isn't going to be particularly helpful.", "url": "https://github.com/elastic/elasticsearch/pull/54309#discussion_r398948447", "createdAt": "2020-03-26T23:19:26Z", "author": {"login": "mark-vieira"}, "path": "gradle/forbidden-dependencies.gradle", "diffHunk": "@@ -0,0 +1,23 @@\n+\n+// we do not want any of these dependencies on the compilation classpath\n+// because they could then be used within Elasticsearch\n+List<String> FORBIDDEN_DEPENDENCIES = [\n+  'guava'\n+]\n+\n+Closure checkDeps = { Configuration configuration -> \n+  configuration.resolutionStrategy.eachDependency {\n+    String artifactName = it.target.name\n+    if (FORBIDDEN_DEPENDENCIES.contains(artifactName)) {\n+      throw new GradleException(\"Dependency '${artifactName}' on configuration '${configuration.name}' is not allowed. \" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a23ce98a3924f59628d51f2d3f9b9e331e2bd185"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTAxOTE2MQ==", "bodyText": "This is the current failure output. It has the full path in the first part of the error.\n> Could not resolve all files for configuration ':x-pack:plugin:identity-provider:compileClasspath'.\n   > Could not resolve com.google.guava:guava:19.0.\n     Required by:\n         project :x-pack:plugin:identity-provider\n      > Dependency 'guava' on configuration 'compileClasspath' is not allowed. If it is needed as a transitive depenency, try adding it to the runtime classpath", "url": "https://github.com/elastic/elasticsearch/pull/54309#discussion_r399019161", "createdAt": "2020-03-27T03:44:20Z", "author": {"login": "rjernst"}, "path": "gradle/forbidden-dependencies.gradle", "diffHunk": "@@ -0,0 +1,23 @@\n+\n+// we do not want any of these dependencies on the compilation classpath\n+// because they could then be used within Elasticsearch\n+List<String> FORBIDDEN_DEPENDENCIES = [\n+  'guava'\n+]\n+\n+Closure checkDeps = { Configuration configuration -> \n+  configuration.resolutionStrategy.eachDependency {\n+    String artifactName = it.target.name\n+    if (FORBIDDEN_DEPENDENCIES.contains(artifactName)) {\n+      throw new GradleException(\"Dependency '${artifactName}' on configuration '${configuration.name}' is not allowed. \" +", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk0ODQ0Nw=="}, "originalCommit": {"oid": "a23ce98a3924f59628d51f2d3f9b9e331e2bd185"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3MzI2NDM4OnYy", "diffSide": "RIGHT", "path": "gradle/forbidden-dependencies.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMzoyMDoxM1rOF8d5WQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QwMzo0NDoyOVrOF8iMsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk0ODY5Nw==", "bodyText": "It's worth nothing that standalone QA projects do no apply the java plugin but only java-base.", "url": "https://github.com/elastic/elasticsearch/pull/54309#discussion_r398948697", "createdAt": "2020-03-26T23:20:13Z", "author": {"login": "mark-vieira"}, "path": "gradle/forbidden-dependencies.gradle", "diffHunk": "@@ -0,0 +1,23 @@\n+\n+// we do not want any of these dependencies on the compilation classpath\n+// because they could then be used within Elasticsearch\n+List<String> FORBIDDEN_DEPENDENCIES = [\n+  'guava'\n+]\n+\n+Closure checkDeps = { Configuration configuration -> \n+  configuration.resolutionStrategy.eachDependency {\n+    String artifactName = it.target.name\n+    if (FORBIDDEN_DEPENDENCIES.contains(artifactName)) {\n+      throw new GradleException(\"Dependency '${artifactName}' on configuration '${configuration.name}' is not allowed. \" +\n+        \"If it is needed as a transitive depenency, try adding it to the runtime classpath\")\n+    }\n+  }\n+}\n+\n+subprojects {\n+  pluginManager.withPlugin('java') {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a23ce98a3924f59628d51f2d3f9b9e331e2bd185"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTAxOTE4Ng==", "bodyText": "I appreciate that, but still think this is a good start.", "url": "https://github.com/elastic/elasticsearch/pull/54309#discussion_r399019186", "createdAt": "2020-03-27T03:44:29Z", "author": {"login": "rjernst"}, "path": "gradle/forbidden-dependencies.gradle", "diffHunk": "@@ -0,0 +1,23 @@\n+\n+// we do not want any of these dependencies on the compilation classpath\n+// because they could then be used within Elasticsearch\n+List<String> FORBIDDEN_DEPENDENCIES = [\n+  'guava'\n+]\n+\n+Closure checkDeps = { Configuration configuration -> \n+  configuration.resolutionStrategy.eachDependency {\n+    String artifactName = it.target.name\n+    if (FORBIDDEN_DEPENDENCIES.contains(artifactName)) {\n+      throw new GradleException(\"Dependency '${artifactName}' on configuration '${configuration.name}' is not allowed. \" +\n+        \"If it is needed as a transitive depenency, try adding it to the runtime classpath\")\n+    }\n+  }\n+}\n+\n+subprojects {\n+  pluginManager.withPlugin('java') {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk0ODY5Nw=="}, "originalCommit": {"oid": "a23ce98a3924f59628d51f2d3f9b9e331e2bd185"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4029, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}