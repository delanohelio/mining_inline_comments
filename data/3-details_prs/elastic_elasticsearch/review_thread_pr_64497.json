{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0MjI1NTg0", "number": 64497, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxNzowMjoyMFrOE05h_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxNzowMjoyMFrOE05h_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzOTAzOTk3OnYy", "diffSide": "RIGHT", "path": "docs/reference/monitoring/configuring-metricbeat.asciidoc", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxNzowMjoyMFrOHs4P6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xOVQxNDo1Njo1N1rOIWSMRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjgyMDk2OQ==", "bodyText": "Is it weird that we link to the other module here? That seems like a confusing thing for users too. We should either add docs for the -xpack modules (and maybe we do and I can't find them) or not link at all?", "url": "https://github.com/elastic/elasticsearch/pull/64497#discussion_r516820969", "createdAt": "2020-11-03T17:02:20Z", "author": {"login": "chrisronline"}, "path": "docs/reference/monitoring/configuring-metricbeat.asciidoc", "diffHunk": "@@ -45,22 +45,22 @@ For more information, see <<monitoring-settings>> and <<cluster-update-settings>\n . {metricbeat-ref}/metricbeat-installation-configuration.html[Install {metricbeat}] on each\n {es} node in the production cluster.  Failure to install on each node may result in incomplete or missing results.\n \n-. Enable the {es} {xpack} module in {metricbeat} on each {es} node.\n+. Enable the {es} module in {metricbeat} on each {es} node.\n +\n --\n-For example, to enable the default configuration in the `modules.d` directory, \n-run the following command:\n+For example, to enable the default configuration for the {stack-monitor-features}\n+in the `modules.d` directory, run the following command:\n \n [\"source\",\"sh\",subs=\"attributes,callouts\"]\n ----------------------------------------------------------------------\n metricbeat modules enable elasticsearch-xpack\n ----------------------------------------------------------------------\n \n-Alternatively, you can use the {es} module, as described in the\n-{metricbeat-ref}/metricbeat-module-elasticsearch.html[{es} module usage for {stack} monitoring]. \n+For more information, refer to \n+{metricbeat-ref}/metricbeat-module-elasticsearch.html[{es} module]. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07dcfeebff5ceed83c0fb77f80cb6a852ffa0eb9"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjgyMjA3MQ==", "bodyText": "Yes, it seems like the -xpack modules aren't documented.  I'll follow up on whether that's in the plans and remove the link if not.", "url": "https://github.com/elastic/elasticsearch/pull/64497#discussion_r516822071", "createdAt": "2020-11-03T17:04:01Z", "author": {"login": "lcawl"}, "path": "docs/reference/monitoring/configuring-metricbeat.asciidoc", "diffHunk": "@@ -45,22 +45,22 @@ For more information, see <<monitoring-settings>> and <<cluster-update-settings>\n . {metricbeat-ref}/metricbeat-installation-configuration.html[Install {metricbeat}] on each\n {es} node in the production cluster.  Failure to install on each node may result in incomplete or missing results.\n \n-. Enable the {es} {xpack} module in {metricbeat} on each {es} node.\n+. Enable the {es} module in {metricbeat} on each {es} node.\n +\n --\n-For example, to enable the default configuration in the `modules.d` directory, \n-run the following command:\n+For example, to enable the default configuration for the {stack-monitor-features}\n+in the `modules.d` directory, run the following command:\n \n [\"source\",\"sh\",subs=\"attributes,callouts\"]\n ----------------------------------------------------------------------\n metricbeat modules enable elasticsearch-xpack\n ----------------------------------------------------------------------\n \n-Alternatively, you can use the {es} module, as described in the\n-{metricbeat-ref}/metricbeat-module-elasticsearch.html[{es} module usage for {stack} monitoring]. \n+For more information, refer to \n+{metricbeat-ref}/metricbeat-module-elasticsearch.html[{es} module]. ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjgyMDk2OQ=="}, "originalCommit": {"oid": "07dcfeebff5ceed83c0fb77f80cb6a852ffa0eb9"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjg2OTYzNw==", "bodyText": "TBH I can't remember the history of this content, but I think the -xpack modules were documented originally but caused confusion. Now the docs have a section that mentions monitoring here:\nhttps://www.elastic.co/guide/en/beats/metricbeat/current/metricbeat-module-elasticsearch.html#_usage_for_stack_monitoring_2\nThis suggests that you either enable xpack.enabled: true or enable the elasticsearch-xpack module. I think @ycombinator might know more.", "url": "https://github.com/elastic/elasticsearch/pull/64497#discussion_r516869637", "createdAt": "2020-11-03T18:22:43Z", "author": {"login": "dedemorton"}, "path": "docs/reference/monitoring/configuring-metricbeat.asciidoc", "diffHunk": "@@ -45,22 +45,22 @@ For more information, see <<monitoring-settings>> and <<cluster-update-settings>\n . {metricbeat-ref}/metricbeat-installation-configuration.html[Install {metricbeat}] on each\n {es} node in the production cluster.  Failure to install on each node may result in incomplete or missing results.\n \n-. Enable the {es} {xpack} module in {metricbeat} on each {es} node.\n+. Enable the {es} module in {metricbeat} on each {es} node.\n +\n --\n-For example, to enable the default configuration in the `modules.d` directory, \n-run the following command:\n+For example, to enable the default configuration for the {stack-monitor-features}\n+in the `modules.d` directory, run the following command:\n \n [\"source\",\"sh\",subs=\"attributes,callouts\"]\n ----------------------------------------------------------------------\n metricbeat modules enable elasticsearch-xpack\n ----------------------------------------------------------------------\n \n-Alternatively, you can use the {es} module, as described in the\n-{metricbeat-ref}/metricbeat-module-elasticsearch.html[{es} module usage for {stack} monitoring]. \n+For more information, refer to \n+{metricbeat-ref}/metricbeat-module-elasticsearch.html[{es} module]. ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjgyMDk2OQ=="}, "originalCommit": {"oid": "07dcfeebff5ceed83c0fb77f80cb6a852ffa0eb9"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1OTg0MzcxMw==", "bodyText": "@chrisronline We re-added the \"Usage for Stack Monitoring\" section in the elasticsearch module docs (via elastic/beats#23286) since it didn't seem possible to have separate (duplicate) docs for the elasticsearch-xpack module. If you still think this link is more confusing than helpful and ought to be removed from these instructions, just let me know!", "url": "https://github.com/elastic/elasticsearch/pull/64497#discussion_r559843713", "createdAt": "2021-01-19T00:11:00Z", "author": {"login": "lcawl"}, "path": "docs/reference/monitoring/configuring-metricbeat.asciidoc", "diffHunk": "@@ -45,22 +45,22 @@ For more information, see <<monitoring-settings>> and <<cluster-update-settings>\n . {metricbeat-ref}/metricbeat-installation-configuration.html[Install {metricbeat}] on each\n {es} node in the production cluster.  Failure to install on each node may result in incomplete or missing results.\n \n-. Enable the {es} {xpack} module in {metricbeat} on each {es} node.\n+. Enable the {es} module in {metricbeat} on each {es} node.\n +\n --\n-For example, to enable the default configuration in the `modules.d` directory, \n-run the following command:\n+For example, to enable the default configuration for the {stack-monitor-features}\n+in the `modules.d` directory, run the following command:\n \n [\"source\",\"sh\",subs=\"attributes,callouts\"]\n ----------------------------------------------------------------------\n metricbeat modules enable elasticsearch-xpack\n ----------------------------------------------------------------------\n \n-Alternatively, you can use the {es} module, as described in the\n-{metricbeat-ref}/metricbeat-module-elasticsearch.html[{es} module usage for {stack} monitoring]. \n+For more information, refer to \n+{metricbeat-ref}/metricbeat-module-elasticsearch.html[{es} module]. ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjgyMDk2OQ=="}, "originalCommit": {"oid": "07dcfeebff5ceed83c0fb77f80cb6a852ffa0eb9"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2MDIzNzYzNg==", "bodyText": "Sounds good to me!", "url": "https://github.com/elastic/elasticsearch/pull/64497#discussion_r560237636", "createdAt": "2021-01-19T14:56:57Z", "author": {"login": "chrisronline"}, "path": "docs/reference/monitoring/configuring-metricbeat.asciidoc", "diffHunk": "@@ -45,22 +45,22 @@ For more information, see <<monitoring-settings>> and <<cluster-update-settings>\n . {metricbeat-ref}/metricbeat-installation-configuration.html[Install {metricbeat}] on each\n {es} node in the production cluster.  Failure to install on each node may result in incomplete or missing results.\n \n-. Enable the {es} {xpack} module in {metricbeat} on each {es} node.\n+. Enable the {es} module in {metricbeat} on each {es} node.\n +\n --\n-For example, to enable the default configuration in the `modules.d` directory, \n-run the following command:\n+For example, to enable the default configuration for the {stack-monitor-features}\n+in the `modules.d` directory, run the following command:\n \n [\"source\",\"sh\",subs=\"attributes,callouts\"]\n ----------------------------------------------------------------------\n metricbeat modules enable elasticsearch-xpack\n ----------------------------------------------------------------------\n \n-Alternatively, you can use the {es} module, as described in the\n-{metricbeat-ref}/metricbeat-module-elasticsearch.html[{es} module usage for {stack} monitoring]. \n+For more information, refer to \n+{metricbeat-ref}/metricbeat-module-elasticsearch.html[{es} module]. ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjgyMDk2OQ=="}, "originalCommit": {"oid": "07dcfeebff5ceed83c0fb77f80cb6a852ffa0eb9"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4024, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}