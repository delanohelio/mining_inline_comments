{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ2MTUwODQ0", "number": 66836, "title": "Fix testIncorrectPasswordHashingAlgorithm", "bodyText": "We need to make sure that the hasher selected for hashing in the\nbeginning of the tests is not the same that is set in\npasswordHashingSettings for the test to make sense.\nResolve: #66824", "createdAt": "2020-12-28T16:15:04Z", "url": "https://github.com/elastic/elasticsearch/pull/66836", "merged": true, "mergeCommit": {"oid": "625244bae94c8bb466e3a405eca873e8eddb58a8"}, "closed": true, "closedAt": "2020-12-30T09:46:40Z", "author": {"login": "BigPandaToo"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdqoYygAH2gAyNTQ2MTUwODQ0OjUzMGM0ZDZiNzg2NmM4MzZjNTQxMzk4MDA5NzM2YTY1NGNmNmMxNTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdrEFpZAFqTU1OTc0NTU4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "530c4d6b7866c836c541398009736a654cf6c159", "author": {"user": {"login": "BigPandaToo", "name": "Lyudmila Fokina"}}, "url": "https://github.com/elastic/elasticsearch/commit/530c4d6b7866c836c541398009736a654cf6c159", "committedDate": "2020-12-28T16:05:20Z", "message": "Fix testIncorrectPasswordHashingAlgorithm\n\nthat the hasher selected for hashing in the beginning of the tests is\nnot the same that is set in passwordHashingSettings for the test to\nmake sense.\n\nResolve: #66824"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5MjEwNTY0", "url": "https://github.com/elastic/elasticsearch/pull/66836#pullrequestreview-559210564", "createdAt": "2020-12-28T16:20:01Z", "commit": {"oid": "530c4d6b7866c836c541398009736a654cf6c159"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQxNjoyMDowMVrOIL8-uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQxNjoyMDowMVrOIL8-uw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTQwNDM0Nw==", "bodyText": "These still can be the same as the one returned by getFastHashingAlgorithmForTest. We need to use a randomFrom in both places with different contents", "url": "https://github.com/elastic/elasticsearch/pull/66836#discussion_r549404347", "createdAt": "2020-12-28T16:20:01Z", "author": {"login": "jkakavas"}, "path": "x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/action/user/TransportChangePasswordActionTests.java", "diffHunk": "@@ -169,7 +169,7 @@ public void testIncorrectPasswordHashingAlgorithm() {\n         TransportService transportService = new TransportService(Settings.EMPTY, mock(Transport.class), null,\n             TransportService.NOOP_TRANSPORT_INTERCEPTOR, x -> null, null, Collections.emptySet());\n         Settings passwordHashingSettings = Settings.builder().put(XPackSettings.PASSWORD_HASHING_ALGORITHM.getKey(),\n-            randomFrom(\"pbkdf2_50000\", \"pbkdf2_100000\", \"bcrypt11\", \"bcrypt8\", \"bcrypt\")).build();\n+            randomFrom(\"pbkdf2_50000\", \"pbkdf2_100000\", \"bcrypt11\", \"bcrypt8\", \"bcrypt4\")).build();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "530c4d6b7866c836c541398009736a654cf6c159"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "faba91a5603b75076e37c71488c2b1f3cb58173f", "author": {"user": {"login": "BigPandaToo", "name": "Lyudmila Fokina"}}, "url": "https://github.com/elastic/elasticsearch/commit/faba91a5603b75076e37c71488c2b1f3cb58173f", "committedDate": "2020-12-29T08:37:56Z", "message": "Fix testIncorrectPasswordHashingAlgorithm\n\nChanging to use randomOtherThan instead\n\nResolve: #66824"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5NzQ1NTg0", "url": "https://github.com/elastic/elasticsearch/pull/66836#pullrequestreview-559745584", "createdAt": "2020-12-30T00:21:46Z", "commit": {"oid": "faba91a5603b75076e37c71488c2b1f3cb58173f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4253, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}