{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxMjUxMTUz", "number": 50835, "reviewThreads": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMDo1Nzo1NVrODXRQXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowOTo1NlrODXSIKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzI2NTU3OnYy", "diffSide": "RIGHT", "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/IndicesClient.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMDo1Nzo1NVrOFcf6vA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMDo1Nzo1NVrOFcf6vA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQyNzM4OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Please use normal {@link #flush(FlushRequest, RequestOptions)} instead.\n          \n          \n            \n                 * Use {@link #flush(FlushRequest, RequestOptions)} instead.\n          \n      \n    \n    \n  \n\nWhile \"please\" is polite, I think brevity is more important here.\nI also think we can just say \"flush\" instead of \"normal flush.\"", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365427388", "createdAt": "2020-01-10T20:57:55Z", "author": {"login": "jrodewig"}, "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/IndicesClient.java", "diffHunk": "@@ -423,7 +423,10 @@ public Cancellable flushAsync(FlushRequest flushRequest, RequestOptions options,\n      * @param options the request options (e.g. headers), use {@link RequestOptions#DEFAULT} if nothing needs to be customized\n      * @return the response\n      * @throws IOException in case there is a problem sending the request or parsing back the response\n+     * @deprecated synced flush is deprecated and will be removed in future Elasticsearch versions.\n+     * Please use normal {@link #flush(FlushRequest, RequestOptions)} instead.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5d37882ba22064a928d553d454db11fe6174b04"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzI2ODQ4OnYy", "diffSide": "RIGHT", "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/IndicesClient.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMDo1OToxOFrOFcf8lw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMDo1OToxOFrOFcf8lw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQyNzg2Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Please use normal {@link #flushAsync(FlushRequest, RequestOptions, ActionListener)} instead.\n          \n          \n            \n                 * Use {@link #flushAsync(FlushRequest, RequestOptions, ActionListener)} instead.", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365427863", "createdAt": "2020-01-10T20:59:18Z", "author": {"login": "jrodewig"}, "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/IndicesClient.java", "diffHunk": "@@ -437,7 +440,10 @@ public SyncedFlushResponse flushSynced(SyncedFlushRequest syncedFlushRequest, Re\n      * @param options the request options (e.g. headers), use {@link RequestOptions#DEFAULT} if nothing needs to be customized\n      * @param listener the listener to be notified upon request completion\n      * @return cancellable that may be used to cancel the request\n+     * @deprecated synced flush is deprecated and will be removed in future Elasticsearch versions.\n+     * Please use normal {@link #flushAsync(FlushRequest, RequestOptions, ActionListener)} instead.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5d37882ba22064a928d553d454db11fe6174b04"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzI2OTE1OnYy", "diffSide": "RIGHT", "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/IndicesClient.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMDo1OTozNlrOFcf9BA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMDo1OTozNlrOFcf9BA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQyNzk3Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * @deprecated synced flush is deprecated and will be removed in future Elasticsearch versions.\n          \n          \n            \n                 * @deprecated Synced flush is deprecated and will be removed in a future version.", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365427972", "createdAt": "2020-01-10T20:59:36Z", "author": {"login": "jrodewig"}, "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/IndicesClient.java", "diffHunk": "@@ -437,7 +440,10 @@ public SyncedFlushResponse flushSynced(SyncedFlushRequest syncedFlushRequest, Re\n      * @param options the request options (e.g. headers), use {@link RequestOptions#DEFAULT} if nothing needs to be customized\n      * @param listener the listener to be notified upon request completion\n      * @return cancellable that may be used to cancel the request\n+     * @deprecated synced flush is deprecated and will be removed in future Elasticsearch versions.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5d37882ba22064a928d553d454db11fe6174b04"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzI2OTk4OnYy", "diffSide": "RIGHT", "path": "client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IndicesClientDocumentationIT.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMTowMDowOFrOFcf9lw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMTowMDowOFrOFcf9lw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQyODExOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            \"Synced flush is deprecated and will be removed in future Elasticsearch versions. \" +\n          \n          \n            \n                            \"Synced flush is deprecated and will be removed in a future version. \" +", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365428119", "createdAt": "2020-01-10T21:00:08Z", "author": {"login": "jrodewig"}, "path": "client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IndicesClientDocumentationIT.java", "diffHunk": "@@ -1018,7 +1018,10 @@ public void testSyncedFlushIndex() throws Exception {\n             // end::flush-synced-request-indicesOptions\n \n             // tag::flush-synced-execute\n-            SyncedFlushResponse flushSyncedResponse = client.indices().flushSynced(request, RequestOptions.DEFAULT);\n+            SyncedFlushResponse flushSyncedResponse = client.indices().flushSynced(request, expectWarnings(\n+                \"Synced flush is deprecated and will be removed in future Elasticsearch versions. \" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5d37882ba22064a928d553d454db11fe6174b04"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzI3NzkwOnYy", "diffSide": "RIGHT", "path": "client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IndicesClientDocumentationIT.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMTowMzo0NlrOFcgCkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMTowMzo0NlrOFcgCkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQyOTM5NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            \"Please use normal flush at _/flush or /{index}/_flush instead.\"\n          \n          \n            \n                            \"Use _/flush or /{index}/_flush instead.\"", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365429395", "createdAt": "2020-01-10T21:03:46Z", "author": {"login": "jrodewig"}, "path": "client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IndicesClientDocumentationIT.java", "diffHunk": "@@ -1018,7 +1018,10 @@ public void testSyncedFlushIndex() throws Exception {\n             // end::flush-synced-request-indicesOptions\n \n             // tag::flush-synced-execute\n-            SyncedFlushResponse flushSyncedResponse = client.indices().flushSynced(request, RequestOptions.DEFAULT);\n+            SyncedFlushResponse flushSyncedResponse = client.indices().flushSynced(request, expectWarnings(\n+                \"Synced flush is deprecated and will be removed in future Elasticsearch versions. \" +\n+                \"Please use normal flush at _/flush or /{index}/_flush instead.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5d37882ba22064a928d553d454db11fe6174b04"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzQwNTI0OnYy", "diffSide": "RIGHT", "path": "client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IndicesClientDocumentationIT.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowODoxOFrOFchSTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowODoxOFrOFchSTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ0OTgwNw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            \"Please use normal flush at _/flush or /{index}/_flush instead.\"\n          \n          \n            \n                            \"Use _/flush or /{index}/_flush instead.\"", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365449807", "createdAt": "2020-01-10T22:08:18Z", "author": {"login": "jrodewig"}, "path": "client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IndicesClientDocumentationIT.java", "diffHunk": "@@ -1062,7 +1065,10 @@ public void onFailure(Exception e) {\n             listener = new LatchedActionListener<>(listener, latch);\n \n             // tag::flush-synced-execute-async\n-            client.indices().flushSyncedAsync(request, RequestOptions.DEFAULT, listener); // <1>\n+            client.indices().flushSyncedAsync(request, expectWarnings(\n+                \"Synced flush is deprecated and will be removed in future Elasticsearch versions. \" +\n+                \"Please use normal flush at _/flush or /{index}/_flush instead.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5d37882ba22064a928d553d454db11fe6174b04"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzQwNTY4OnYy", "diffSide": "RIGHT", "path": "client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IndicesClientDocumentationIT.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowODozMlrOFchSmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowODozMlrOFchSmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ0OTg4Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            \"Synced flush is deprecated and will be removed in future Elasticsearch versions. \" +\n          \n          \n            \n                            \"Synced flush is deprecated and will be removed in future a version. \" +", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365449882", "createdAt": "2020-01-10T22:08:32Z", "author": {"login": "jrodewig"}, "path": "client/rest-high-level/src/test/java/org/elasticsearch/client/documentation/IndicesClientDocumentationIT.java", "diffHunk": "@@ -1062,7 +1065,10 @@ public void onFailure(Exception e) {\n             listener = new LatchedActionListener<>(listener, latch);\n \n             // tag::flush-synced-execute-async\n-            client.indices().flushSyncedAsync(request, RequestOptions.DEFAULT, listener); // <1>\n+            client.indices().flushSyncedAsync(request, expectWarnings(\n+                \"Synced flush is deprecated and will be removed in future Elasticsearch versions. \" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5d37882ba22064a928d553d454db11fe6174b04"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzQwNjA0OnYy", "diffSide": "RIGHT", "path": "docs/reference/indices/synced-flush.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowODo0NFrOFchS0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowODo0NFrOFchS0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ0OTkzNg==", "bodyText": "This needs to start as deprecated::[ (note the two ::). I also would move it to the very top of the page, right after the heading.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            deprecated:[7.6, synced-flush is deprecated and will be removed in future\n          \n          \n            \n            deprecated::[7.6, Synced flush is deprecated and will be removed in a future", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365449936", "createdAt": "2020-01-10T22:08:44Z", "author": {"login": "jrodewig"}, "path": "docs/reference/indices/synced-flush.asciidoc", "diffHunk": "@@ -12,6 +12,10 @@ POST /twitter/_flush/synced\n --------------------------------------------------\n // TEST[skip: Synced flush can conflict with scheduled flushes in doc tests]\n \n+deprecated:[7.6, synced-flush is deprecated and will be removed in future", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5d37882ba22064a928d553d454db11fe6174b04"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzQwNjE5OnYy", "diffSide": "RIGHT", "path": "docs/reference/indices/synced-flush.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowODo0OFrOFchS6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowODo0OFrOFchS6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ0OTk2Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Elasticsearch versions. Please use normal <<indices-flush,flush>> instead.\n          \n          \n            \n            version. Use <<indices-flush,flush>> instead.", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365449963", "createdAt": "2020-01-10T22:08:48Z", "author": {"login": "jrodewig"}, "path": "docs/reference/indices/synced-flush.asciidoc", "diffHunk": "@@ -12,6 +12,10 @@ POST /twitter/_flush/synced\n --------------------------------------------------\n // TEST[skip: Synced flush can conflict with scheduled flushes in doc tests]\n \n+deprecated:[7.6, synced-flush is deprecated and will be removed in future\n+Elasticsearch versions. Please use normal <<indices-flush,flush>> instead.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5d37882ba22064a928d553d454db11fe6174b04"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzQwNjU3OnYy", "diffSide": "RIGHT", "path": "docs/reference/indices/synced-flush.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowODo1N1rOFchTHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowODo1N1rOFchTHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ1MDAxNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            A normal <<indices-flush,flush>> has the same effect as a synced flush on\n          \n          \n            \n            Flush has the same effect as synced flush in", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365450014", "createdAt": "2020-01-10T22:08:57Z", "author": {"login": "jrodewig"}, "path": "docs/reference/indices/synced-flush.asciidoc", "diffHunk": "@@ -12,6 +12,10 @@ POST /twitter/_flush/synced\n --------------------------------------------------\n // TEST[skip: Synced flush can conflict with scheduled flushes in doc tests]\n \n+deprecated:[7.6, synced-flush is deprecated and will be removed in future\n+Elasticsearch versions. Please use normal <<indices-flush,flush>> instead.\n+A normal <<indices-flush,flush>> has the same effect as a synced flush on", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5d37882ba22064a928d553d454db11fe6174b04"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzQwNjc0OnYy", "diffSide": "RIGHT", "path": "docs/reference/indices/synced-flush.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowOTowMFrOFchTMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowOTowMFrOFchTMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ1MDAzMg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Elasticsearch 7.6 or later]\n          \n          \n            \n            {es} 7.6 and later versions.]", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365450032", "createdAt": "2020-01-10T22:09:00Z", "author": {"login": "jrodewig"}, "path": "docs/reference/indices/synced-flush.asciidoc", "diffHunk": "@@ -12,6 +12,10 @@ POST /twitter/_flush/synced\n --------------------------------------------------\n // TEST[skip: Synced flush can conflict with scheduled flushes in doc tests]\n \n+deprecated:[7.6, synced-flush is deprecated and will be removed in future\n+Elasticsearch versions. Please use normal <<indices-flush,flush>> instead.\n+A normal <<indices-flush,flush>> has the same effect as a synced flush on\n+Elasticsearch 7.6 or later]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5d37882ba22064a928d553d454db11fe6174b04"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzQwNjg2OnYy", "diffSide": "RIGHT", "path": "docs/reference/upgrade/synced-flush.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowOTowNVrOFchTRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowOTowNVrOFchTRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ1MDA1NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Note that synced flush is deprecated and will be removed in future versions.\n          \n          \n            \n            NOTE: Synced flush is deprecated and will be removed in a future version.", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365450054", "createdAt": "2020-01-10T22:09:05Z", "author": {"login": "jrodewig"}, "path": "docs/reference/upgrade/synced-flush.asciidoc", "diffHunk": "@@ -3,8 +3,13 @@\n --------------------------------------------------\n POST _flush/synced\n --------------------------------------------------\n+// TEST[skip: will fail as synced flush is deprecated]\n \n When you perform a synced flush, check the response to make sure there are\n no failures. Synced flush operations that fail due to pending indexing\n operations are listed in the response body, although the request itself\n still returns a 200 OK status. If there are failures, reissue the request.\n+\n+Note that synced flush is deprecated and will be removed in future versions.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5d37882ba22064a928d553d454db11fe6174b04"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzQwNjk0OnYy", "diffSide": "RIGHT", "path": "docs/reference/upgrade/synced-flush.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowOTowOFrOFchTVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowOTowOFrOFchTVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ1MDA3MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            A normal flush has the same effect as a synced flush on Elasticsearch 7.6\n          \n          \n            \n            Flush has the same effect as synced flush in {es} 7.6", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365450071", "createdAt": "2020-01-10T22:09:08Z", "author": {"login": "jrodewig"}, "path": "docs/reference/upgrade/synced-flush.asciidoc", "diffHunk": "@@ -3,8 +3,13 @@\n --------------------------------------------------\n POST _flush/synced\n --------------------------------------------------\n+// TEST[skip: will fail as synced flush is deprecated]\n \n When you perform a synced flush, check the response to make sure there are\n no failures. Synced flush operations that fail due to pending indexing\n operations are listed in the response body, although the request itself\n still returns a 200 OK status. If there are failures, reissue the request.\n+\n+Note that synced flush is deprecated and will be removed in future versions.\n+A normal flush has the same effect as a synced flush on Elasticsearch 7.6", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5d37882ba22064a928d553d454db11fe6174b04"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzQwNzA1OnYy", "diffSide": "RIGHT", "path": "docs/reference/upgrade/synced-flush.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowOToxMVrOFchTZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowOToxMVrOFchTZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ1MDA4NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            or later.\n          \n          \n            \n            and later versions.", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365450085", "createdAt": "2020-01-10T22:09:11Z", "author": {"login": "jrodewig"}, "path": "docs/reference/upgrade/synced-flush.asciidoc", "diffHunk": "@@ -3,8 +3,13 @@\n --------------------------------------------------\n POST _flush/synced\n --------------------------------------------------\n+// TEST[skip: will fail as synced flush is deprecated]\n \n When you perform a synced flush, check the response to make sure there are\n no failures. Synced flush operations that fail due to pending indexing\n operations are listed in the response body, although the request itself\n still returns a 200 OK status. If there are failures, reissue the request.\n+\n+Note that synced flush is deprecated and will be removed in future versions.\n+A normal flush has the same effect as a synced flush on Elasticsearch 7.6\n+or later.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5d37882ba22064a928d553d454db11fe6174b04"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzQwNzE2OnYy", "diffSide": "RIGHT", "path": "rest-api-spec/src/main/resources/rest-api-spec/api/indices.flush_synced.json", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowOToxNVrOFchTdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowOToxNVrOFchTdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ1MDEwMQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  \"description\":\"Performs a synced flush operation on one or more indices. Synced flush is deprecated and will be removed in future Elasticsearch versions. Use normal flush instead\"\n          \n          \n            \n                  \"description\":\"Performs a synced flush operation on one or more indices. Synced flush is deprecated and will be removed in a future version. Use flush instead.\"", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365450101", "createdAt": "2020-01-10T22:09:15Z", "author": {"login": "jrodewig"}, "path": "rest-api-spec/src/main/resources/rest-api-spec/api/indices.flush_synced.json", "diffHunk": "@@ -2,7 +2,7 @@\n   \"indices.flush_synced\":{\n     \"documentation\":{\n       \"url\":\"https://www.elastic.co/guide/en/elasticsearch/reference/master/indices-synced-flush-api.html\",\n-      \"description\":\"Performs a synced flush operation on one or more indices.\"\n+      \"description\":\"Performs a synced flush operation on one or more indices. Synced flush is deprecated and will be removed in future Elasticsearch versions. Use normal flush instead\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5d37882ba22064a928d553d454db11fe6174b04"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzQwNzIyOnYy", "diffSide": "RIGHT", "path": "rest-api-spec/src/main/resources/rest-api-spec/test/indices.flush/10_basic.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowOToxN1rOFchTfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowOToxN1rOFchTfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ1MDExMQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      Please use normal flush at _/flush or /{index}/_flush instead.\n          \n          \n            \n                      Use  _/flush or /{index}/_flush instead.", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365450111", "createdAt": "2020-01-10T22:09:17Z", "author": {"login": "jrodewig"}, "path": "rest-api-spec/src/main/resources/rest-api-spec/test/indices.flush/10_basic.yml", "diffHunk": "@@ -1,26 +1,33 @@\n ---\n \"Index synced flush rest test\":\n-    - do:\n-       indices.create:\n-          index: testing\n-          body:\n-            settings:\n-              index:\n-                number_of_replicas: 0\n+  - skip:\n+      version: \" - 7.9.99\"\n+      reason: \"synced flush is deprecated in 8.0\"\n+      features: \"warnings\"\n+  - do:\n+      indices.create:\n+        index: testing\n+        body:\n+          settings:\n+            index:\n+              number_of_replicas: 0\n \n-    - do:\n-       cluster.health:\n-          wait_for_status: green\n-    - do:\n-       indices.flush_synced:\n-          index: testing\n+  - do:\n+      cluster.health:\n+        wait_for_status: green\n+  - do:\n+      warnings:\n+        - Synced flush is deprecated and will be removed in future Elasticsearch versions.\n+          Please use normal flush at _/flush or /{index}/_flush instead.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5d37882ba22064a928d553d454db11fe6174b04"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzQwODA3OnYy", "diffSide": "RIGHT", "path": "rest-api-spec/src/main/resources/rest-api-spec/test/indices.flush/10_basic.yml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowOTo0MVrOFchUBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowOTo0MVrOFchUBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ1MDI0Ng==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    - Synced flush is deprecated and will be removed in future Elasticsearch versions.\n          \n          \n            \n                    - Synced flush is deprecated and will be removed in a future version.", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365450246", "createdAt": "2020-01-10T22:09:41Z", "author": {"login": "jrodewig"}, "path": "rest-api-spec/src/main/resources/rest-api-spec/test/indices.flush/10_basic.yml", "diffHunk": "@@ -1,26 +1,33 @@\n ---\n \"Index synced flush rest test\":\n-    - do:\n-       indices.create:\n-          index: testing\n-          body:\n-            settings:\n-              index:\n-                number_of_replicas: 0\n+  - skip:\n+      version: \" - 7.9.99\"\n+      reason: \"synced flush is deprecated in 8.0\"\n+      features: \"warnings\"\n+  - do:\n+      indices.create:\n+        index: testing\n+        body:\n+          settings:\n+            index:\n+              number_of_replicas: 0\n \n-    - do:\n-       cluster.health:\n-          wait_for_status: green\n-    - do:\n-       indices.flush_synced:\n-          index: testing\n+  - do:\n+      cluster.health:\n+        wait_for_status: green\n+  - do:\n+      warnings:\n+        - Synced flush is deprecated and will be removed in future Elasticsearch versions.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5d37882ba22064a928d553d454db11fe6174b04"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzQwODMxOnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportSyncedFlushAction.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowOTo1MlrOFchUMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowOTo1MlrOFchUMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ1MDI4OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    \"Synced flush is deprecated and will be removed in future Elasticsearch versions. \" +\n          \n          \n            \n                    \"Synced flush is deprecated and will be removed in a future version. \" +", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365450288", "createdAt": "2020-01-10T22:09:52Z", "author": {"login": "jrodewig"}, "path": "server/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportSyncedFlushAction.java", "diffHunk": "@@ -32,7 +34,14 @@\n  */\n public class TransportSyncedFlushAction extends HandledTransportAction<SyncedFlushRequest, SyncedFlushResponse> {\n \n-    SyncedFlushService syncedFlushService;\n+    private final SyncedFlushService syncedFlushService;\n+\n+    private static final DeprecationLogger DEPRECATION_LOGGER =\n+        new DeprecationLogger(LogManager.getLogger(TransportSyncedFlushAction.class));\n+\n+    public static final String SYNCED_FLUSH_DEPRECATION_MESSAGE =\n+        \"Synced flush is deprecated and will be removed in future Elasticsearch versions. \" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5d37882ba22064a928d553d454db11fe6174b04"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1NzQwODQyOnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportSyncedFlushAction.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowOTo1NlrOFchUQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xMFQyMjowOTo1NlrOFchUQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTQ1MDMwNQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        \"Please use normal flush at _/flush or /{index}/_flush instead.\";\n          \n          \n            \n                        \"Please use _/flush or /{index}/_flush instead.\";", "url": "https://github.com/elastic/elasticsearch/pull/50835#discussion_r365450305", "createdAt": "2020-01-10T22:09:56Z", "author": {"login": "jrodewig"}, "path": "server/src/main/java/org/elasticsearch/action/admin/indices/flush/TransportSyncedFlushAction.java", "diffHunk": "@@ -32,7 +34,14 @@\n  */\n public class TransportSyncedFlushAction extends HandledTransportAction<SyncedFlushRequest, SyncedFlushResponse> {\n \n-    SyncedFlushService syncedFlushService;\n+    private final SyncedFlushService syncedFlushService;\n+\n+    private static final DeprecationLogger DEPRECATION_LOGGER =\n+        new DeprecationLogger(LogManager.getLogger(TransportSyncedFlushAction.class));\n+\n+    public static final String SYNCED_FLUSH_DEPRECATION_MESSAGE =\n+        \"Synced flush is deprecated and will be removed in future Elasticsearch versions. \" +\n+            \"Please use normal flush at _/flush or /{index}/_flush instead.\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5d37882ba22064a928d553d454db11fe6174b04"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4814, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}