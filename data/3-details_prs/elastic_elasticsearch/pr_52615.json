{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4MDc0NTAz", "number": 52615, "title": "Fix testResyncAfterPrimaryPromotion", "bodyText": "Adjusts the assertion as we might eagerly clean up translog during resync since #52556\nRelates #52556\nCloses #52598", "createdAt": "2020-02-21T02:38:20Z", "url": "https://github.com/elastic/elasticsearch/pull/52615", "merged": true, "mergeCommit": {"oid": "9890589be1325bf6e3b30a79f8b7ba65cc0ccd67"}, "closed": true, "closedAt": "2020-02-21T08:22:39Z", "author": {"login": "dnhatn"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcGWYcHAH2gAyMzc4MDc0NTAzOmVmNTJmZGM3OTUzZjQxOGYzYTg2NWZiODllYWU3YzY2MDFmZmY3MWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcGbXKjAFqTM2MjQ2MTkwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ef52fdc7953f418f3a865fb89eae7c6601fff71d", "author": {"user": {"login": "dnhatn", "name": "Nhat Nguyen"}}, "url": "https://github.com/elastic/elasticsearch/commit/ef52fdc7953f418f3a865fb89eae7c6601fff71d", "committedDate": "2020-02-21T02:34:14Z", "message": "Fix testResyncAfterPrimaryPromotion"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMzY4NzYy", "url": "https://github.com/elastic/elasticsearch/pull/52615#pullrequestreview-362368762", "createdAt": "2020-02-21T02:41:41Z", "commit": {"oid": "ef52fdc7953f418f3a865fb89eae7c6601fff71d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQwMjo0MTo0MVrOFsp_1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQwMjo0MTo0MVrOFsp_1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjM2OTc0OQ==", "bodyText": "I spent some time to separate these two expectations, but it was more complicated than I thought. I think it's fine to assert like this.", "url": "https://github.com/elastic/elasticsearch/pull/52615#discussion_r382369749", "createdAt": "2020-02-21T02:41:41Z", "author": {"login": "dnhatn"}, "path": "server/src/test/java/org/elasticsearch/index/replication/RecoveryDuringReplicationTests.java", "diffHunk": "@@ -378,7 +377,7 @@ public void testResyncAfterPrimaryPromotion() throws Exception {\n                     assertThat(source.source.utf8ToString(), is(\"{ \\\"f\\\": \\\"normal\\\"}\"));\n                 }\n             }\n-            assertThat(translogOperations, is(initialDocs + extraDocs));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef52fdc7953f418f3a865fb89eae7c6601fff71d"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyNDYxOTA3", "url": "https://github.com/elastic/elasticsearch/pull/52615#pullrequestreview-362461907", "createdAt": "2020-02-21T08:22:22Z", "commit": {"oid": "ef52fdc7953f418f3a865fb89eae7c6601fff71d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2256, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}