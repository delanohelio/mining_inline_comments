{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI3Mzg4MzQ0", "number": 65492, "title": "Docs: add known issue 65488 - SQL ignoring non-eq", "bodyText": "Add description of the #65488 as a known issue in the release notes.", "createdAt": "2020-11-25T11:48:31Z", "url": "https://github.com/elastic/elasticsearch/pull/65492", "merged": true, "mergeCommit": {"oid": "64ddf0834ea0c80f9997bcfbb159c8ce48b448b2"}, "closed": true, "closedAt": "2020-11-26T10:43:40Z", "author": {"login": "bpintea"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdf82zVgH2gAyNTI3Mzg4MzQ0OjAwNzJiNTMyN2Q1NDUxOWU1MjlmYjA4MDJlYTc3MTE4M2QxNGZjOTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdgQtWxAFqTUzOTIwMzU1OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0072b5327d54519e529fb0802ea771183d14fc93", "author": {"user": {"login": "bpintea", "name": "Bogdan Pintea"}}, "url": "https://github.com/elastic/elasticsearch/commit/0072b5327d54519e529fb0802ea771183d14fc93", "committedDate": "2020-11-25T11:43:03Z", "message": "Docs: add known issue 65488 - SQL ignoring non-eq\n\nAdd description of the #65488 known issue in release notes."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4NTg4MjA0", "url": "https://github.com/elastic/elasticsearch/pull/65492#pullrequestreview-538588204", "createdAt": "2020-11-25T15:02:39Z", "commit": {"oid": "0072b5327d54519e529fb0802ea771183d14fc93"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxNTowMjozOVrOH53b4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxNToyMzo0NFrOH54XJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDQzOTEzOQ==", "bodyText": "Adds an explicit anchor to avoid auto-gen ones.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            [discrete]\n          \n          \n            \n            === Known issues\n          \n          \n            \n            [[known-issues-7.10.0]]\n          \n          \n            \n            [discrete]\n          \n          \n            \n            === Known issues", "url": "https://github.com/elastic/elasticsearch/pull/65492#discussion_r530439139", "createdAt": "2020-11-25T15:02:39Z", "author": {"login": "jrodewig"}, "path": "docs/reference/release-notes/7.10.asciidoc", "diffHunk": "@@ -3,6 +3,16 @@\n \n Also see <<breaking-changes-7.10,Breaking changes in 7.10>>.\n \n+[discrete]\n+=== Known issues", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0072b5327d54519e529fb0802ea771183d14fc93"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDQ1NDMwOA==", "bodyText": "The inequality and not-equal language confused me and seems to contradict the SQL docs. I also think later could be misinterpreted as to the right of AND.\nI tried to clarify and add an example:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * SQL: in case the WHERE clause of an SQL query contains at least two\n          \n          \n            \n            comparisons in a conjunction (AND) of which one is an inequality and the other\n          \n          \n            \n            is a not-equals, the later can get ignored. The workaround is to substitute the\n          \n          \n            \n            non-equals with a `NOT IN` operator.\n          \n          \n            \n            The defect has been fixed in {es} 7.10.1, the best resolution is to upgrade to\n          \n          \n            \n            that or a later version. More details can be found in issue: {es-issue}65488[#65488].\n          \n          \n            \n            * SQL: If a `WHERE` clause contains a comparison (`<=`, `<`, `>=`, `>`)\n          \n          \n            \n            condition and an inequality (`!=`, `<>`) condition joined by `AND`, the SQL\n          \n          \n            \n            query ignores the inequality condition. For example, the following query ignores\n          \n          \n            \n            the `foo != 20` condition:\n          \n          \n            \n            +\n          \n          \n            \n            [source,sql]\n          \n          \n            \n            ----\n          \n          \n            \n            SELECT my-field\n          \n          \n            \n            FROM my-index-000001\n          \n          \n            \n            WHERE foo > 1 AND foo != 20\n          \n          \n            \n            ----\n          \n          \n            \n            +\n          \n          \n            \n            We have fixed this issue in {es} 7.10.1 and later versions. For more details,\n          \n          \n            \n            see {es-issue}65488[#65488].", "url": "https://github.com/elastic/elasticsearch/pull/65492#discussion_r530454308", "createdAt": "2020-11-25T15:23:44Z", "author": {"login": "jrodewig"}, "path": "docs/reference/release-notes/7.10.asciidoc", "diffHunk": "@@ -3,6 +3,16 @@\n \n Also see <<breaking-changes-7.10,Breaking changes in 7.10>>.\n \n+[discrete]\n+=== Known issues\n+\n+* SQL: in case the WHERE clause of an SQL query contains at least two\n+comparisons in a conjunction (AND) of which one is an inequality and the other\n+is a not-equals, the later can get ignored. The workaround is to substitute the\n+non-equals with a `NOT IN` operator.\n+The defect has been fixed in {es} 7.10.1, the best resolution is to upgrade to\n+that or a later version. More details can be found in issue: {es-issue}65488[#65488].", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0072b5327d54519e529fb0802ea771183d14fc93"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1911bc543f071e0f4cebf7bf3fc8c0fb4fd68076", "author": {"user": {"login": "bpintea", "name": "Bogdan Pintea"}}, "url": "https://github.com/elastic/elasticsearch/commit/1911bc543f071e0f4cebf7bf3fc8c0fb4fd68076", "committedDate": "2020-11-25T15:49:06Z", "message": "Update docs/reference/release-notes/7.10.asciidoc\n\nCo-authored-by: James Rodewig <40268737+jrodewig@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa426fcf87328898fa0bb79762adeacea8f1305c", "author": {"user": {"login": "bpintea", "name": "Bogdan Pintea"}}, "url": "https://github.com/elastic/elasticsearch/commit/aa426fcf87328898fa0bb79762adeacea8f1305c", "committedDate": "2020-11-25T16:43:11Z", "message": "Add the known issues to all affected releases\n\nAdd the known issue under following releases\u0218\n- 7.7.0 & .1\n- 7.8.0 & .1\n- 7.9.0 & .1 & .2 & .3\n- 7.10.0"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4NjkwODk2", "url": "https://github.com/elastic/elasticsearch/pull/65492#pullrequestreview-538690896", "createdAt": "2020-11-25T16:54:53Z", "commit": {"oid": "aa426fcf87328898fa0bb79762adeacea8f1305c"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxNjo1NDo1M1rOH58RQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxNjo1NDo1M1rOH58RQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUxODMzOA==", "bodyText": "Small nit. I'd apply this across all the changes.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * SQL: If a WHERE clause contains at least two relational operators joined by\n          \n          \n            \n            * SQL: If a `WHERE` clause contains at least two relational operators joined by", "url": "https://github.com/elastic/elasticsearch/pull/65492#discussion_r530518338", "createdAt": "2020-11-25T16:54:53Z", "author": {"login": "jrodewig"}, "path": "docs/reference/release-notes/7.10.asciidoc", "diffHunk": "@@ -3,6 +3,19 @@\n \n Also see <<breaking-changes-7.10,Breaking changes in 7.10>>.\n \n+[[known-issues-7.10.0]]\n+[discrete]\n+=== Known issues\n+\n+* SQL: If a WHERE clause contains at least two relational operators joined by", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa426fcf87328898fa0bb79762adeacea8f1305c"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1fea3bdb2fae661f26b20f71d602f6c84a40c056", "author": {"user": {"login": "bpintea", "name": "Bogdan Pintea"}}, "url": "https://github.com/elastic/elasticsearch/commit/1fea3bdb2fae661f26b20f71d602f6c84a40c056", "committedDate": "2020-11-25T17:04:07Z", "message": "Apply review suggestions\n\ns/WHERE/`WHERE`"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d50d3e871d7aa5f58ca9a68a57e6f40f42bba845", "author": {"user": {"login": "bpintea", "name": "Bogdan Pintea"}}, "url": "https://github.com/elastic/elasticsearch/commit/d50d3e871d7aa5f58ca9a68a57e6f40f42bba845", "committedDate": "2020-11-25T17:50:32Z", "message": "Fix duplication of known issues-section\n\n7.9.0 release had a \"known issues\" section already, place the SQL issue\nunder that one instead of opening a new one."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5MDU2MTE3", "url": "https://github.com/elastic/elasticsearch/pull/65492#pullrequestreview-539056117", "createdAt": "2020-11-26T07:41:08Z", "commit": {"oid": "d50d3e871d7aa5f58ca9a68a57e6f40f42bba845"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5MjAzNTU4", "url": "https://github.com/elastic/elasticsearch/pull/65492#pullrequestreview-539203558", "createdAt": "2020-11-26T10:50:50Z", "commit": {"oid": "d50d3e871d7aa5f58ca9a68a57e6f40f42bba845"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4261, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}