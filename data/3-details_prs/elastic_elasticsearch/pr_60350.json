{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4MTU1MDU4", "number": 60350, "title": "Simplify class hierarchy for ordinals field data.", "bodyText": "This PR simplifies the hierarchy for ordinals field data classes:\n\nRemove AbstractIndexFieldData, since only AbstractIndexOrdinalsFieldData\ninherits directly from it.\nMake SortedSetOrdinalsIndexFieldData extend\nAbstractIndexOrdinalsFieldData. This lets us remove some redundant code.\n\nIt's probably easiest to review each commit separately -- this makes it clearer\nthat no logic has changed.", "createdAt": "2020-07-29T02:29:42Z", "url": "https://github.com/elastic/elasticsearch/pull/60350", "merged": true, "mergeCommit": {"oid": "ed80a0ba440a5a3d54ed6717fa98902e0c94e003"}, "closed": true, "closedAt": "2020-08-03T15:48:20Z", "author": {"login": "jtibshirani"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5jZy0gBqjM1OTcyMjEyNTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7SeUIgFqTQ2MDA0OTMzOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bacee67017990fa4a661063daa4928c09fb51f0c", "author": {"user": {"login": "jtibshirani", "name": "Julie Tibshirani"}}, "url": "https://github.com/elastic/elasticsearch/commit/bacee67017990fa4a661063daa4928c09fb51f0c", "committedDate": "2020-07-29T01:13:10Z", "message": "Rename localGlobalDirect to loadGlobalDirect."}, "afterCommit": {"oid": "416817d57e950b34dabfe770ef4ef735312a7f2c", "author": {"user": {"login": "jtibshirani", "name": "Julie Tibshirani"}}, "url": "https://github.com/elastic/elasticsearch/commit/416817d57e950b34dabfe770ef4ef735312a7f2c", "committedDate": "2020-07-29T03:29:31Z", "message": "Rename localGlobalDirect to loadGlobalDirect."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60b7d1f23b3eff88c3345670587ed2a49dcb5c98", "author": {"user": {"login": "jtibshirani", "name": "Julie Tibshirani"}}, "url": "https://github.com/elastic/elasticsearch/commit/60b7d1f23b3eff88c3345670587ed2a49dcb5c98", "committedDate": "2020-07-30T21:42:38Z", "message": "Remove AbstractIndexFieldData."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b10e31e15b5bed784a9b45cfe6c74134efe0fafa", "author": {"user": {"login": "jtibshirani", "name": "Julie Tibshirani"}}, "url": "https://github.com/elastic/elasticsearch/commit/b10e31e15b5bed784a9b45cfe6c74134efe0fafa", "committedDate": "2020-07-30T21:42:40Z", "message": "Minor clean-up in AbstractIndexOrdinalsFieldData."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad0bcd08e457c4d9b9780b85270588aef6aaca64", "author": {"user": {"login": "jtibshirani", "name": "Julie Tibshirani"}}, "url": "https://github.com/elastic/elasticsearch/commit/ad0bcd08e457c4d9b9780b85270588aef6aaca64", "committedDate": "2020-07-30T21:43:02Z", "message": "Move frequency filtering down into PagedBytesIndexFieldData."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54c92dd6480c9f19080ad4f4641ee2030ebaada6", "author": {"user": {"login": "jtibshirani", "name": "Julie Tibshirani"}}, "url": "https://github.com/elastic/elasticsearch/commit/54c92dd6480c9f19080ad4f4641ee2030ebaada6", "committedDate": "2020-07-30T21:43:03Z", "message": "Make SortedSetOrdinalsIndexFieldData extend AbstractIndexOrdinalsFieldData."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "416817d57e950b34dabfe770ef4ef735312a7f2c", "author": {"user": {"login": "jtibshirani", "name": "Julie Tibshirani"}}, "url": "https://github.com/elastic/elasticsearch/commit/416817d57e950b34dabfe770ef4ef735312a7f2c", "committedDate": "2020-07-29T03:29:31Z", "message": "Rename localGlobalDirect to loadGlobalDirect."}, "afterCommit": {"oid": "54c92dd6480c9f19080ad4f4641ee2030ebaada6", "author": {"user": {"login": "jtibshirani", "name": "Julie Tibshirani"}}, "url": "https://github.com/elastic/elasticsearch/commit/54c92dd6480c9f19080ad4f4641ee2030ebaada6", "committedDate": "2020-07-30T21:43:03Z", "message": "Make SortedSetOrdinalsIndexFieldData extend AbstractIndexOrdinalsFieldData."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5MzUyMjMx", "url": "https://github.com/elastic/elasticsearch/pull/60350#pullrequestreview-459352231", "createdAt": "2020-07-31T17:47:14Z", "commit": {"oid": "54c92dd6480c9f19080ad4f4641ee2030ebaada6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxNzo0NzoxNFrOG6Q1jg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxNzo0NzoxNFrOG6Q1jg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzc0NjQ0Ng==", "bodyText": "Does the superclass also have this member?", "url": "https://github.com/elastic/elasticsearch/pull/60350#discussion_r463746446", "createdAt": "2020-07-31T17:47:14Z", "author": {"login": "nik9000"}, "path": "server/src/main/java/org/elasticsearch/index/fielddata/plain/SortedSetOrdinalsIndexFieldData.java", "diffHunk": "@@ -78,12 +72,8 @@ public SortedSetOrdinalsIndexFieldData build(\n         }\n     }\n \n-    protected final String fieldName;\n-    private final IndexFieldDataCache cache;\n-    private final CircuitBreakerService breakerService;\n-    private final Function<SortedSetDocValues, ScriptDocValues<?>> scriptFunction;\n-    private final ValuesSourceType valuesSourceType;\n     private static final Logger logger = LogManager.getLogger(SortedSetOrdinalsIndexFieldData.class);\n+    private final Function<SortedSetDocValues, ScriptDocValues<?>> scriptFunction;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "54c92dd6480c9f19080ad4f4641ee2030ebaada6"}, "originalPosition": 48}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00a670899c2d17b0e0fbfbc24fd80a791c62a948", "author": {"user": {"login": "jtibshirani", "name": "Julie Tibshirani"}}, "url": "https://github.com/elastic/elasticsearch/commit/00a670899c2d17b0e0fbfbc24fd80a791c62a948", "committedDate": "2020-07-31T18:18:53Z", "message": "Remove redundant scriptFunction member variable."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca15896b7271d5316f63e158ff1598ba7084d4d0", "author": {"user": {"login": "jtibshirani", "name": "Julie Tibshirani"}}, "url": "https://github.com/elastic/elasticsearch/commit/ca15896b7271d5316f63e158ff1598ba7084d4d0", "committedDate": "2020-07-31T19:16:37Z", "message": "Remove unused logger in SortedSetOrdinalsIndexFieldData."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d468b8a86de7d2491c15e10e0dcc78d1cf6fb42", "author": {"user": {"login": "jtibshirani", "name": "Julie Tibshirani"}}, "url": "https://github.com/elastic/elasticsearch/commit/4d468b8a86de7d2491c15e10e0dcc78d1cf6fb42", "committedDate": "2020-07-31T19:20:41Z", "message": "Merge remote-tracking branch 'upstream/master' into ordinals-field-data"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMDA5MTE5", "url": "https://github.com/elastic/elasticsearch/pull/60350#pullrequestreview-460009119", "createdAt": "2020-08-03T13:05:48Z", "commit": {"oid": "4d468b8a86de7d2491c15e10e0dcc78d1cf6fb42"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMDQ5MzM5", "url": "https://github.com/elastic/elasticsearch/pull/60350#pullrequestreview-460049339", "createdAt": "2020-08-03T13:59:02Z", "commit": {"oid": "4d468b8a86de7d2491c15e10e0dcc78d1cf6fb42"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3735, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}