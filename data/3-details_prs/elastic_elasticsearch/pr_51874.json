{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcwOTM3MDU0", "number": 51874, "title": "[DOCS] Streamline `analyzer` mapping parm def", "bodyText": "Simplifies the analyzer mapping parameter definition to remove duplicated analysis content and a duplicated example.", "createdAt": "2020-02-04T16:38:48Z", "url": "https://github.com/elastic/elasticsearch/pull/51874", "merged": true, "mergeCommit": {"oid": "f2a2dcbb8a595546e0935428996fcf54245f7a1d"}, "closed": true, "closedAt": "2020-03-18T13:42:25Z", "author": {"login": "jrodewig"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBENodgH2gAyMzcwOTM3MDU0OjFmNjQwODNhNzhmYTIwMDJmYmJlYzhkMjVlNjYwMDUxOTlkMTZmNGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcO3JoLgH2gAyMzcwOTM3MDU0OjkyMGU5ZTk4NWVjMWVhNGFiYzZlMWQ1NjM3NzdlZmFjZjVhODk1MTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1f64083a78fa2002fbbec8d25e66005199d16f4e", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/1f64083a78fa2002fbbec8d25e66005199d16f4e", "committedDate": "2020-02-04T16:34:31Z", "message": "[DOCS] Streamline `analyzer` mapping parm def\n\nSimplifies the `analyzer` mapping parameter definition to remove\nduplicated analysis content and examples."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMTI3NzI2", "url": "https://github.com/elastic/elasticsearch/pull/51874#pullrequestreview-353127726", "createdAt": "2020-02-04T16:40:14Z", "commit": {"oid": "1f64083a78fa2002fbbec8d25e66005199d16f4e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxNjo0MDoxNFrOFlbK2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxNjo0MDoxNFrOFlbK2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDc4Njc3OQ==", "bodyText": "This is now covered in the Analysis overview. I think we should avoid repeating it here.", "url": "https://github.com/elastic/elasticsearch/pull/51874#discussion_r374786779", "createdAt": "2020-02-04T16:40:14Z", "author": {"login": "jrodewig"}, "path": "docs/reference/mapping/params/analyzer.asciidoc", "diffHunk": "@@ -1,81 +1,17 @@\n [[analyzer]]\n === `analyzer`\n \n-The values of <<mapping-index,`analyzed`>> string fields are passed through an\n-<<analysis,analyzer>> to convert the string into a stream of _tokens_ or\n-_terms_.  For instance, the string `\"The quick Brown Foxes.\"` may, depending\n-on which analyzer is used,  be analyzed to the tokens: `quick`, `brown`,\n-`fox`.  These are the actual terms that are indexed for the field, which makes\n-it possible to search efficiently for individual words _within_  big blobs of\n-text.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f64083a78fa2002fbbec8d25e66005199d16f4e"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMTI4MzA4", "url": "https://github.com/elastic/elasticsearch/pull/51874#pullrequestreview-353128308", "createdAt": "2020-02-04T16:40:58Z", "commit": {"oid": "1f64083a78fa2002fbbec8d25e66005199d16f4e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxNjo0MDo1OFrOFlbMww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxNjo0MDo1OFrOFlbMww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDc4NzI2Nw==", "bodyText": "Covered in Index and search analysis.", "url": "https://github.com/elastic/elasticsearch/pull/51874#discussion_r374787267", "createdAt": "2020-02-04T16:40:58Z", "author": {"login": "jrodewig"}, "path": "docs/reference/mapping/params/analyzer.asciidoc", "diffHunk": "@@ -1,81 +1,17 @@\n [[analyzer]]\n === `analyzer`\n \n-The values of <<mapping-index,`analyzed`>> string fields are passed through an\n-<<analysis,analyzer>> to convert the string into a stream of _tokens_ or\n-_terms_.  For instance, the string `\"The quick Brown Foxes.\"` may, depending\n-on which analyzer is used,  be analyzed to the tokens: `quick`, `brown`,\n-`fox`.  These are the actual terms that are indexed for the field, which makes\n-it possible to search efficiently for individual words _within_  big blobs of\n-text.\n+[IMPORTANT]\n+====\n+Only <<text,`text`>> fields support the `analyzer` mapping parameter.\n+====\n \n-This analysis process needs to happen not just at index time, but also at\n-query time: the query string needs to be passed through the same (or a\n-similar) analyzer so that the terms that it tries to find are in the same\n-format as those that exist in the index.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f64083a78fa2002fbbec8d25e66005199d16f4e"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMTI4ODY3", "url": "https://github.com/elastic/elasticsearch/pull/51874#pullrequestreview-353128867", "createdAt": "2020-02-04T16:41:42Z", "commit": {"oid": "1f64083a78fa2002fbbec8d25e66005199d16f4e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxNjo0MTo0MlrOFlbOhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxNjo0MTo0MlrOFlbOhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDc4NzcxOQ==", "bodyText": "Covered in Anatomy of an analyzer.", "url": "https://github.com/elastic/elasticsearch/pull/51874#discussion_r374787719", "createdAt": "2020-02-04T16:41:42Z", "author": {"login": "jrodewig"}, "path": "docs/reference/mapping/params/analyzer.asciidoc", "diffHunk": "@@ -1,81 +1,17 @@\n [[analyzer]]\n === `analyzer`\n \n-The values of <<mapping-index,`analyzed`>> string fields are passed through an\n-<<analysis,analyzer>> to convert the string into a stream of _tokens_ or\n-_terms_.  For instance, the string `\"The quick Brown Foxes.\"` may, depending\n-on which analyzer is used,  be analyzed to the tokens: `quick`, `brown`,\n-`fox`.  These are the actual terms that are indexed for the field, which makes\n-it possible to search efficiently for individual words _within_  big blobs of\n-text.\n+[IMPORTANT]\n+====\n+Only <<text,`text`>> fields support the `analyzer` mapping parameter.\n+====\n \n-This analysis process needs to happen not just at index time, but also at\n-query time: the query string needs to be passed through the same (or a\n-similar) analyzer so that the terms that it tries to find are in the same\n-format as those that exist in the index.\n-\n-Elasticsearch ships with a number of <<analysis-analyzers,pre-defined analyzers>>,\n-which can be used without further configuration.  It also ships with many\n-<<analysis-charfilters,character filters>>, <<analysis-tokenizers,tokenizers>>,\n-and <<analysis-tokenfilters>> which can be combined to configure\n-custom analyzers per index.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f64083a78fa2002fbbec8d25e66005199d16f4e"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMTI5NTU2", "url": "https://github.com/elastic/elasticsearch/pull/51874#pullrequestreview-353129556", "createdAt": "2020-02-04T16:42:33Z", "commit": {"oid": "1f64083a78fa2002fbbec8d25e66005199d16f4e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxNjo0MjozM1rOFlbQqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxNjo0MjozM1rOFlbQqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDc4ODI2Nw==", "bodyText": "Covered in Specify an analyzer.\nThe example is not exactly the same, but I feel they cover the same ground.", "url": "https://github.com/elastic/elasticsearch/pull/51874#discussion_r374788267", "createdAt": "2020-02-04T16:42:33Z", "author": {"login": "jrodewig"}, "path": "docs/reference/mapping/params/analyzer.asciidoc", "diffHunk": "@@ -1,81 +1,17 @@\n [[analyzer]]\n === `analyzer`\n \n-The values of <<mapping-index,`analyzed`>> string fields are passed through an\n-<<analysis,analyzer>> to convert the string into a stream of _tokens_ or\n-_terms_.  For instance, the string `\"The quick Brown Foxes.\"` may, depending\n-on which analyzer is used,  be analyzed to the tokens: `quick`, `brown`,\n-`fox`.  These are the actual terms that are indexed for the field, which makes\n-it possible to search efficiently for individual words _within_  big blobs of\n-text.\n+[IMPORTANT]\n+====\n+Only <<text,`text`>> fields support the `analyzer` mapping parameter.\n+====\n \n-This analysis process needs to happen not just at index time, but also at\n-query time: the query string needs to be passed through the same (or a\n-similar) analyzer so that the terms that it tries to find are in the same\n-format as those that exist in the index.\n-\n-Elasticsearch ships with a number of <<analysis-analyzers,pre-defined analyzers>>,\n-which can be used without further configuration.  It also ships with many\n-<<analysis-charfilters,character filters>>, <<analysis-tokenizers,tokenizers>>,\n-and <<analysis-tokenfilters>> which can be combined to configure\n-custom analyzers per index.\n-\n-Analyzers can be specified per-query, per-field or per-index. At index time,\n-Elasticsearch will look for an analyzer in this order:\n-\n-* The `analyzer` defined in the field mapping.\n-* An analyzer named `default` in the index settings.\n-* The <<analysis-standard-analyzer,`standard`>> analyzer.\n-\n-At query time, there are a few more layers:\n-\n-* The `analyzer` defined in a <<full-text-queries,full-text query>>.\n-* The `search_analyzer` defined in the field mapping.\n-* The `analyzer` defined in the field mapping.\n-* An analyzer named `default_search` in the index settings.\n-* An analyzer named `default` in the index settings.\n-* The <<analysis-standard-analyzer,`standard`>> analyzer.\n-\n-The easiest way to specify an analyzer for a particular field is to define it\n-in the field mapping, as follows:\n-\n-[source,console]\n---------------------------------------------------\n-PUT /my_index\n-{\n-  \"mappings\": {\n-    \"properties\": {\n-      \"text\": { <1>\n-        \"type\": \"text\",\n-        \"fields\": {\n-          \"english\": { <2>\n-            \"type\":     \"text\",\n-            \"analyzer\": \"english\"\n-          }\n-        }\n-      }\n-    }\n-  }\n-}\n-\n-GET my_index/_analyze <3>\n-{\n-  \"field\": \"text\",\n-  \"text\": \"The quick Brown Foxes.\"\n-}\n-\n-GET my_index/_analyze <4>\n-{\n-  \"field\": \"text.english\",\n-  \"text\": \"The quick Brown Foxes.\"\n-}\n---------------------------------------------------\n-\n-<1> The `text` field uses the default `standard` analyzer`.\n-<2> The `text.english` <<multi-fields,multi-field>> uses the `english` analyzer, which removes stop words and applies stemming.\n-<3> This returns the tokens: [ `the`, `quick`, `brown`, `foxes` ].\n-<4> This returns the tokens: [ `quick`, `brown`, `fox` ].", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f64083a78fa2002fbbec8d25e66005199d16f4e"}, "originalPosition": 81}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d2f48ecd4217401b1529480f3df4385f4ced70e", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/4d2f48ecd4217401b1529480f3df4385f4ced70e", "committedDate": "2020-02-14T18:12:11Z", "message": "Merge branch 'master' into docs__streamline-analyzer-parm"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2NzE5Njg4", "url": "https://github.com/elastic/elasticsearch/pull/51874#pullrequestreview-376719688", "createdAt": "2020-03-18T10:06:52Z", "commit": {"oid": "4d2f48ecd4217401b1529480f3df4385f4ced70e"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxMDowNjo1M1rOF39_ow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxMDowNzoxNlrOF3-ArA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIzMTcxNQ==", "bodyText": "Maybe it would it make sense to include some small text snippet that links to this broader overview article? I always find it useful to be able to click through from some small, concise parameter description to the more general explanation of the concepts, I might miss them otherwise.", "url": "https://github.com/elastic/elasticsearch/pull/51874#discussion_r394231715", "createdAt": "2020-03-18T10:06:53Z", "author": {"login": "cbuescher"}, "path": "docs/reference/mapping/params/analyzer.asciidoc", "diffHunk": "@@ -1,81 +1,17 @@\n [[analyzer]]\n === `analyzer`\n \n-The values of <<mapping-index,`analyzed`>> string fields are passed through an\n-<<analysis,analyzer>> to convert the string into a stream of _tokens_ or\n-_terms_.  For instance, the string `\"The quick Brown Foxes.\"` may, depending\n-on which analyzer is used,  be analyzed to the tokens: `quick`, `brown`,\n-`fox`.  These are the actual terms that are indexed for the field, which makes\n-it possible to search efficiently for individual words _within_  big blobs of\n-text.\n+[IMPORTANT]\n+====\n+Only <<text,`text`>> fields support the `analyzer` mapping parameter.\n+====\n \n-This analysis process needs to happen not just at index time, but also at\n-query time: the query string needs to be passed through the same (or a\n-similar) analyzer so that the terms that it tries to find are in the same\n-format as those that exist in the index.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDc4NzI2Nw=="}, "originalCommit": {"oid": "1f64083a78fa2002fbbec8d25e66005199d16f4e"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIzMTc2OA==", "bodyText": "Looks like there might be something missing here. Should this maybe be \"Analyzers are used\" or something like that?", "url": "https://github.com/elastic/elasticsearch/pull/51874#discussion_r394231768", "createdAt": "2020-03-18T10:06:58Z", "author": {"login": "cbuescher"}, "path": "docs/reference/mapping/params/analyzer.asciidoc", "diffHunk": "@@ -1,81 +1,17 @@\n [[analyzer]]\n === `analyzer`\n \n-The values of <<text,`text`>> fields are passed through an\n-<<analysis,analyzer>> to convert the string into a stream of _tokens_ or\n-_terms_.  For instance, the string `\"The quick Brown Foxes.\"` may, depending\n-on which analyzer is used,  be analyzed to the tokens: `quick`, `brown`,\n-`fox`.  These are the actual terms that are indexed for the field, which makes\n-it possible to search efficiently for individual words _within_  big blobs of\n-text.\n+[IMPORTANT]\n+====\n+Only <<text,`text`>> fields support the `analyzer` mapping parameter.\n+====\n \n-This analysis process needs to happen not just at index time, but also at\n-query time: the query string needs to be passed through the same (or a\n-similar) analyzer so that the terms that it tries to find are in the same\n-format as those that exist in the index.\n-\n-Elasticsearch ships with a number of <<analysis-analyzers,pre-defined analyzers>>,\n-which can be used without further configuration.  It also ships with many\n-<<analysis-charfilters,character filters>>, <<analysis-tokenizers,tokenizers>>,\n-and <<analysis-tokenfilters>> which can be combined to configure\n-custom analyzers per index.\n-\n-Analyzers can be specified per-query, per-field or per-index. At index time,\n-Elasticsearch will look for an analyzer in this order:\n-\n-* The `analyzer` defined in the field mapping.\n-* An analyzer named `default` in the index settings.\n-* The <<analysis-standard-analyzer,`standard`>> analyzer.\n-\n-At query time, there are a few more layers:\n-\n-* The `analyzer` defined in a <<full-text-queries,full-text query>>.\n-* The `search_analyzer` defined in the field mapping.\n-* The `analyzer` defined in the field mapping.\n-* An analyzer named `default_search` in the index settings.\n-* An analyzer named `default` in the index settings.\n-* The <<analysis-standard-analyzer,`standard`>> analyzer.\n-\n-The easiest way to specify an analyzer for a particular field is to define it\n-in the field mapping, as follows:\n-\n-[source,console]\n---------------------------------------------------\n-PUT /my_index\n-{\n-  \"mappings\": {\n-    \"properties\": {\n-      \"text\": { <1>\n-        \"type\": \"text\",\n-        \"fields\": {\n-          \"english\": { <2>\n-            \"type\":     \"text\",\n-            \"analyzer\": \"english\"\n-          }\n-        }\n-      }\n-    }\n-  }\n-}\n-\n-GET my_index/_analyze <3>\n-{\n-  \"field\": \"text\",\n-  \"text\": \"The quick Brown Foxes.\"\n-}\n-\n-GET my_index/_analyze <4>\n-{\n-  \"field\": \"text.english\",\n-  \"text\": \"The quick Brown Foxes.\"\n-}\n---------------------------------------------------\n-\n-<1> The `text` field uses the default `standard` analyzer`.\n-<2> The `text.english` <<multi-fields,multi-field>> uses the `english` analyzer, which removes stop words and applies stemming.\n-<3> This returns the tokens: [ `the`, `quick`, `brown`, `foxes` ].\n-<4> This returns the tokens: [ `quick`, `brown`, `fox` ].\n+Analyzer used for <<analysis,text analysis>> when indexing or searching", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d2f48ecd4217401b1529480f3df4385f4ced70e"}, "originalPosition": 82}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDIzMTk4MA==", "bodyText": "Same here, maybe this can be linked in some way?", "url": "https://github.com/elastic/elasticsearch/pull/51874#discussion_r394231980", "createdAt": "2020-03-18T10:07:16Z", "author": {"login": "cbuescher"}, "path": "docs/reference/mapping/params/analyzer.asciidoc", "diffHunk": "@@ -1,81 +1,17 @@\n [[analyzer]]\n === `analyzer`\n \n-The values of <<mapping-index,`analyzed`>> string fields are passed through an\n-<<analysis,analyzer>> to convert the string into a stream of _tokens_ or\n-_terms_.  For instance, the string `\"The quick Brown Foxes.\"` may, depending\n-on which analyzer is used,  be analyzed to the tokens: `quick`, `brown`,\n-`fox`.  These are the actual terms that are indexed for the field, which makes\n-it possible to search efficiently for individual words _within_  big blobs of\n-text.\n+[IMPORTANT]\n+====\n+Only <<text,`text`>> fields support the `analyzer` mapping parameter.\n+====\n \n-This analysis process needs to happen not just at index time, but also at\n-query time: the query string needs to be passed through the same (or a\n-similar) analyzer so that the terms that it tries to find are in the same\n-format as those that exist in the index.\n-\n-Elasticsearch ships with a number of <<analysis-analyzers,pre-defined analyzers>>,\n-which can be used without further configuration.  It also ships with many\n-<<analysis-charfilters,character filters>>, <<analysis-tokenizers,tokenizers>>,\n-and <<analysis-tokenfilters>> which can be combined to configure\n-custom analyzers per index.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDc4NzcxOQ=="}, "originalCommit": {"oid": "1f64083a78fa2002fbbec8d25e66005199d16f4e"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "048ef29a25e891fbc3940529496f5fd6af1ad556", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/048ef29a25e891fbc3940529496f5fd6af1ad556", "committedDate": "2020-03-18T12:48:51Z", "message": "fix typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7043d43c77cd8d1f9dffffe5f6227bb446ff27cd", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/7043d43c77cd8d1f9dffffe5f6227bb446ff27cd", "committedDate": "2020-03-18T12:50:37Z", "message": "reword"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5460b11c8025574e52a1a0c4ac8f8e25f63bb834", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/5460b11c8025574e52a1a0c4ac8f8e25f63bb834", "committedDate": "2020-03-18T12:54:05Z", "message": "Add link for analyzer anatomy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe9c3436a99f4a608108065209b8d2af150bc34e", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/fe9c3436a99f4a608108065209b8d2af150bc34e", "committedDate": "2020-03-18T13:04:40Z", "message": "Add tip for testing analyzers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "920e9e985ec1ea4abc6e1d563777efacf5a89518", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/920e9e985ec1ea4abc6e1d563777efacf5a89518", "committedDate": "2020-03-18T13:16:19Z", "message": "reword"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3021, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}