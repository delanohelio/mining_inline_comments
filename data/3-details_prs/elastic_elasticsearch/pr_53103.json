{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzNTQxOTA5", "number": 53103, "title": "[DOCS] Makes the description clearer on how to use aggregations in an anomaly detection job", "bodyText": "This PR clarifies how to use aggregations in an AD job.\nPreview: http://elasticsearch_53103.docs-preview.app.elstc.co/guide/en/machine-learning/master/ml-configuring-aggregation.html\nRelated issue: #52921", "createdAt": "2020-03-04T13:04:22Z", "url": "https://github.com/elastic/elasticsearch/pull/53103", "merged": true, "mergeCommit": {"oid": "54b66d3385e17ea6add79b58dbf135ab49b272a3"}, "closed": true, "closedAt": "2020-03-09T08:48:24Z", "author": {"login": "szabosteve"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKWkeygH2gAyMzgzNTQxOTA5OjllNWY2Njg3MjBjMWVkM2IwN2Y3YjVjMDAwMzZhM2FiOTdkYjFiZTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcL5Z75AFqTM3MDk3Mzc4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9e5f668720c1ed3b07f7b5c00036a3ab97db1be8", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/9e5f668720c1ed3b07f7b5c00036a3ab97db1be8", "committedDate": "2020-03-04T13:03:05Z", "message": "[DOCS] Makes clearer the description on how to use aggregations in an anomaly detection job."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "add3698a32e6af22dc2fe1fd59879e24879d1221", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/add3698a32e6af22dc2fe1fd59879e24879d1221", "committedDate": "2020-03-04T13:32:49Z", "message": "[DOCS] Moves the explanation at the top of the page."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4OTgxNzkw", "url": "https://github.com/elastic/elasticsearch/pull/53103#pullrequestreview-368981790", "createdAt": "2020-03-04T17:35:35Z", "commit": {"oid": "add3698a32e6af22dc2fe1fd59879e24879d1221"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxNzozNTozNVrOFx24iQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxNzozNTozNVrOFx24iQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzgyMzc1Mw==", "bodyText": "These seem like quite detailed requirements and I'd expect them to appear lower in the page where we're actually providing implementation examples. For example:\n\nThe aggregation you create... the field it operates on.\n\nI'd suggest putting this right near (or as a footnote on) the PUT _ml/datafeeds/datafeed-farequote example.\n\nThe job analyzes only the fields that you provide in the configuration.\n\nI'd suggest putting this right near (or as a footnote on) the PUT _ml/anomaly_detectors/farequote example.", "url": "https://github.com/elastic/elasticsearch/pull/53103#discussion_r387823753", "createdAt": "2020-03-04T17:35:35Z", "author": {"login": "lcawl"}, "path": "docs/reference/ml/anomaly-detection/aggregations.asciidoc", "diffHunk": "@@ -11,6 +11,11 @@ distributes these calculations across your cluster. You can then feed this\n aggregated data into the {ml-features} instead of raw results, which\n reduces the volume of data that must be considered while detecting anomalies.\n \n+The aggregation you create in a {dfeed} needs to have the same name as that of ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "add3698a32e6af22dc2fe1fd59879e24879d1221"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60599bb41c511f8029c1f6d8c92fd6a4a2834f69", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/60599bb41c511f8029c1f6d8c92fd6a4a2834f69", "committedDate": "2020-03-05T09:40:48Z", "message": "[DOCS] Moves the explanation to the examples."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f560e1a5f6218a5be38c2b865fec911a5925a08", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/elasticsearch/commit/5f560e1a5f6218a5be38c2b865fec911a5925a08", "committedDate": "2020-03-05T21:46:43Z", "message": "[DOCS] Adds callouts to ML aggregations example"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5OTQ0Nzgw", "url": "https://github.com/elastic/elasticsearch/pull/53103#pullrequestreview-369944780", "createdAt": "2020-03-05T21:57:16Z", "commit": {"oid": "60599bb41c511f8029c1f6d8c92fd6a4a2834f69"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQyMTo1NzoxNlrOFyltWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQyMTo1NzoxNlrOFyltWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODU5MDkzNw==", "bodyText": "Is this really mandatory?  The subsequent \"IMPORTANT\" note seems to imply it's optional.\n\nThe aggregation you create in a {dfeed} needs to have the same name as that of ...", "url": "https://github.com/elastic/elasticsearch/pull/53103#discussion_r388590937", "createdAt": "2020-03-05T21:57:16Z", "author": {"login": "lcawl"}, "path": "docs/reference/ml/anomaly-detection/aggregations.asciidoc", "diffHunk": "@@ -111,6 +116,11 @@ field is also `time`. The same is true for the aggregations with the names\n create the {dfeed}, synchronizing your aggregation and field names can simplify\n these configuration steps.\n \n+****\n+The aggregation you create in a {dfeed} needs to have the same name as that of ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60599bb41c511f8029c1f6d8c92fd6a4a2834f69"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1cec7acfc637c56eee7fcd696efb7fb33d3f5ac4", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/1cec7acfc637c56eee7fcd696efb7fb33d3f5ac4", "committedDate": "2020-03-06T09:41:21Z", "message": "Merge pull request #3 from lcawl/footnotes\n\n[DOCS] Adds callouts to ML aggregations example"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8dc0c32701e05591cc459dd1fec558e7705472d", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/f8dc0c32701e05591cc459dd1fec558e7705472d", "committedDate": "2020-03-06T10:44:16Z", "message": "[DOCS] Removes unnecessary text."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5e3266b24e7777cd0a7f933617bde84523776a4", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/elasticsearch/commit/e5e3266b24e7777cd0a7f933617bde84523776a4", "committedDate": "2020-03-06T17:26:59Z", "message": "[DOCS] Fixes format of callouts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8cd6c9f77e1efc8f3f84e4beedf446b718430665", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/elasticsearch/commit/8cd6c9f77e1efc8f3f84e4beedf446b718430665", "committedDate": "2020-03-07T01:14:10Z", "message": "[DOCS] Clarifies aggregation name requirements"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwOTczNzg5", "url": "https://github.com/elastic/elasticsearch/pull/53103#pullrequestreview-370973789", "createdAt": "2020-03-09T08:12:10Z", "commit": {"oid": "8cd6c9f77e1efc8f3f84e4beedf446b718430665"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1737, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}