{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzMTQzNzI4", "number": 65194, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMDozNjoxMFrOE6wWVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMDozNjoxMFrOE6wWVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwMDQ1MDEzOnYy", "diffSide": "RIGHT", "path": "distribution/docker/src/docker/Dockerfile", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMDozNjoxMFrOH2BJHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxODowNzowMVrOH2rOpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQwMzg3MQ==", "bodyText": "I wonder since we already treat this file as a groovy template, if we could define some kind of macro to wrap some arbitrary lines in this loop with some sugar.", "url": "https://github.com/elastic/elasticsearch/pull/65194#discussion_r526403871", "createdAt": "2020-11-18T20:36:10Z", "author": {"login": "mark-vieira"}, "path": "distribution/docker/src/docker/Dockerfile", "diffHunk": "@@ -74,7 +74,12 @@ ENV TARBALL_URL https://curl.haxx.se/download/curl-\\${VERSION}.tar.xz\n ENV TARBALL_PATH curl-\\${VERSION}.tar.xz\n \n # Install dependencies\n-RUN apk add gnupg gcc make musl-dev openssl-dev openssl-libs-static file\n+RUN for iter in {1..10}; do \\\\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e95560642dacc0674f080089a401771ca1db782"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjgxMDM1OA==", "bodyText": "I've defined a retry_loop helper, and I think it's an improvement. What do you think?", "url": "https://github.com/elastic/elasticsearch/pull/65194#discussion_r526810358", "createdAt": "2020-11-19T11:56:03Z", "author": {"login": "pugnascotia"}, "path": "distribution/docker/src/docker/Dockerfile", "diffHunk": "@@ -74,7 +74,12 @@ ENV TARBALL_URL https://curl.haxx.se/download/curl-\\${VERSION}.tar.xz\n ENV TARBALL_PATH curl-\\${VERSION}.tar.xz\n \n # Install dependencies\n-RUN apk add gnupg gcc make musl-dev openssl-dev openssl-libs-static file\n+RUN for iter in {1..10}; do \\\\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQwMzg3MQ=="}, "originalCommit": {"oid": "8e95560642dacc0674f080089a401771ca1db782"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzA5MzQxMg==", "bodyText": "Brilliant. That's much better.", "url": "https://github.com/elastic/elasticsearch/pull/65194#discussion_r527093412", "createdAt": "2020-11-19T18:07:01Z", "author": {"login": "mark-vieira"}, "path": "distribution/docker/src/docker/Dockerfile", "diffHunk": "@@ -74,7 +74,12 @@ ENV TARBALL_URL https://curl.haxx.se/download/curl-\\${VERSION}.tar.xz\n ENV TARBALL_PATH curl-\\${VERSION}.tar.xz\n \n # Install dependencies\n-RUN apk add gnupg gcc make musl-dev openssl-dev openssl-libs-static file\n+RUN for iter in {1..10}; do \\\\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQwMzg3MQ=="}, "originalCommit": {"oid": "8e95560642dacc0674f080089a401771ca1db782"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2950, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}