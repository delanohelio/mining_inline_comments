{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3NzQ4MTU3", "number": 52571, "title": "ValuesSource refactoring: Wire up Sum aggregation", "bodyText": "Wire up Sum aggregation for #42949", "createdAt": "2020-02-20T13:13:45Z", "url": "https://github.com/elastic/elasticsearch/pull/52571", "merged": true, "mergeCommit": {"oid": "59ae37ae3d8412840735b6435fd2677b0a4732b5"}, "closed": true, "closedAt": "2020-02-25T08:59:03Z", "author": {"login": "csoulios"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcGK4zDgH2gAyMzc3NzQ4MTU3OjNmYjc1YmIwNzA0NGY0OTljNzdiMmRmOTc0MjQwNTA1YTY3YmY3Yzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHjpCNgH2gAyMzc3NzQ4MTU3OjA3MGY3ZTQ3ZjEzYzRmZmE4ZGFhYzA3YzM3MzRjNjYyNGE0OGMzNDI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3fb75bb07044f499c77b2df974240505a67bf7c8", "author": {"user": {"login": "csoulios", "name": "Christos Soulios"}}, "url": "https://github.com/elastic/elasticsearch/commit/3fb75bb07044f499c77b2df974240505a67bf7c8", "committedDate": "2020-02-20T13:10:43Z", "message": "ValuesSource refactoring: Wire up Sum aggregation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxOTU0Njkx", "url": "https://github.com/elastic/elasticsearch/pull/52571#pullrequestreview-361954691", "createdAt": "2020-02-20T14:40:42Z", "commit": {"oid": "3fb75bb07044f499c77b2df974240505a67bf7c8"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxNDo0MDo0M1rOFsV5yQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxNDo0MDo0M1rOFsV5yQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjA0MDUyMQ==", "bodyText": "Should we support booleans here?  I haven't checked Sum specifically, but I'd bet it accepts a boolean field in master.", "url": "https://github.com/elastic/elasticsearch/pull/52571#discussion_r382040521", "createdAt": "2020-02-20T14:40:43Z", "author": {"login": "not-napoleon"}, "path": "server/src/main/java/org/elasticsearch/search/aggregations/metrics/SumAggregatorFactory.java", "diffHunk": "@@ -46,6 +50,22 @@\n         super(name, config, queryShardContext, parent, subFactoriesBuilder, metaData);\n     }\n \n+    static void registerAggregators(ValuesSourceRegistry valuesSourceRegistry) {\n+        valuesSourceRegistry.register(SumAggregationBuilder.NAME,\n+           List.of(CoreValuesSourceType.NUMERIC, CoreValuesSourceType.DATE),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3fb75bb07044f499c77b2df974240505a67bf7c8"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c128b93ac53f1a67a570360b278364a36d39b28", "author": {"user": {"login": "csoulios", "name": "Christos Soulios"}}, "url": "https://github.com/elastic/elasticsearch/commit/5c128b93ac53f1a67a570360b278364a36d39b28", "committedDate": "2020-02-20T15:10:28Z", "message": "Added BOOLEAN ValuesSourceType to Sum agg"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "511117f6464994296660e775b06619daccb8af32", "author": {"user": {"login": "csoulios", "name": "Christos Soulios"}}, "url": "https://github.com/elastic/elasticsearch/commit/511117f6464994296660e775b06619daccb8af32", "committedDate": "2020-02-20T15:42:55Z", "message": "SumAggregatorSupplier -> MetricAggregatorSupplier"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7685d127eb12b9bac050bf7b6b28bcb07750b7a3", "author": {"user": {"login": "csoulios", "name": "Christos Soulios"}}, "url": "https://github.com/elastic/elasticsearch/commit/7685d127eb12b9bac050bf7b6b28bcb07750b7a3", "committedDate": "2020-02-20T15:50:12Z", "message": "Minor change: renamed var name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "070f7e47f13c4ffa8daac07c3734c6624a48c342", "author": {"user": {"login": "csoulios", "name": "Christos Soulios"}}, "url": "https://github.com/elastic/elasticsearch/commit/070f7e47f13c4ffa8daac07c3734c6624a48c342", "committedDate": "2020-02-24T20:35:03Z", "message": "Merge branch 'feature/extensible-values-source' into vs-refactor-wire-up-sum"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2228, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}