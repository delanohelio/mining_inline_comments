{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQzNTE4NDE2", "number": 58917, "title": "Adding new `require_alias` option to indexing requests", "bodyText": "This commit adds the require_alias flag to requests that create new documents.\nThis flag, when true prevents the request from automatically creating an index. Instead, the destination of the request MUST be an alias.\nWhen the flag is not set, or false, the behavior defaults to the action.auto_create_index settings.\nThis is useful when an alias is required instead of a concrete index.\ncloses #55267", "createdAt": "2020-07-02T13:30:20Z", "url": "https://github.com/elastic/elasticsearch/pull/58917", "merged": true, "mergeCommit": {"oid": "f72b893fd313810c4d6bf98585d64bc41958b976"}, "closed": true, "closedAt": "2020-07-17T12:45:47Z", "author": {"login": "benwtrent"}, "timelineItems": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcw-0vVAH2gAyNDQzNTE4NDE2OmIzMjRkY2QwOWFjNTRiZTZiNTc0M2FiYzVlNzU4N2M2MmE5NTZlN2Y=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1yec7gH2gAyNDQzNTE4NDE2OjRjMGRmODI2NGVjNmIzN2ZhOTM4YTcxNWVjN2Q3NmM5OTc3NTVjMzg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b324dcd09ac54be6b5743abc5e7587c62a956e7f", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/b324dcd09ac54be6b5743abc5e7587c62a956e7f", "committedDate": "2020-07-02T13:26:10Z", "message": "Adding new `no_auto_create` to indexing requests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxNzA1MjEx", "url": "https://github.com/elastic/elasticsearch/pull/58917#pullrequestreview-441705211", "createdAt": "2020-07-02T13:58:33Z", "commit": {"oid": "b324dcd09ac54be6b5743abc5e7587c62a956e7f"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxMzo1ODozNFrOGsOIqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNDowNjoyNlrOGsOdyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTAyMjEyMQ==", "bodyText": "Which update requests need this flag? Isn't it that when the doc already exists then the index exists as well and the update doc request has no power here?", "url": "https://github.com/elastic/elasticsearch/pull/58917#discussion_r449022121", "createdAt": "2020-07-02T13:58:34Z", "author": {"login": "przemekwitek"}, "path": "rest-api-spec/src/main/resources/rest-api-spec/api/update.json", "diffHunk": "@@ -99,6 +99,10 @@\n       \"if_primary_term\":{\n         \"type\":\"number\",\n         \"description\":\"only perform the update operation if the last operation that has changed the document has the specified primary term\"\n+      },\n+      \"no_auto_create\": {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b324dcd09ac54be6b5743abc5e7587c62a956e7f"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTAyNzUzMA==", "bodyText": "Where does the defaulting of request-level setting to index-level setting happen?", "url": "https://github.com/elastic/elasticsearch/pull/58917#discussion_r449027530", "createdAt": "2020-07-02T14:06:26Z", "author": {"login": "przemekwitek"}, "path": "server/src/test/java/org/elasticsearch/action/support/AutoCreateIndexTests.java", "diffHunk": "@@ -85,26 +85,36 @@ public void testAutoCreationDisabled() {\n         AutoCreateIndex autoCreateIndex = newAutoCreateIndex(settings);\n         String randomIndex = randomAlphaOfLengthBetween(1, 10);\n         IndexNotFoundException e = expectThrows(IndexNotFoundException.class, () ->\n-            autoCreateIndex.shouldAutoCreate(randomIndex, buildClusterState()));\n+            autoCreateIndex.shouldAutoCreate(randomIndex, false, buildClusterState()));\n         assertEquals(\"no such index [\" + randomIndex + \"] and [action.auto_create_index] is [false]\", e.getMessage());\n     }\n \n     public void testAutoCreationEnabled() {\n         Settings settings = Settings.builder().put(AutoCreateIndex.AUTO_CREATE_INDEX_SETTING.getKey(), true).build();\n         AutoCreateIndex autoCreateIndex = newAutoCreateIndex(settings);\n-        assertThat(autoCreateIndex.shouldAutoCreate(randomAlphaOfLengthBetween(1, 10), buildClusterState()), equalTo(true));\n+        assertThat(autoCreateIndex.shouldAutoCreate(randomAlphaOfLengthBetween(1, 10), false, buildClusterState()), equalTo(true));\n+    }\n+\n+    public void testAutoCreationEnabledWithNoAutoCreateFlagSet() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b324dcd09ac54be6b5743abc5e7587c62a956e7f"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88dd1021e0aed47464b1dd634c6b8ce13c194a3d", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/88dd1021e0aed47464b1dd634c6b8ce13c194a3d", "committedDate": "2020-07-02T18:40:04Z", "message": "fixing docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "daaeaad876c9f259cf2db1ce9b590e89485374a6", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/daaeaad876c9f259cf2db1ce9b590e89485374a6", "committedDate": "2020-07-02T19:01:22Z", "message": "Update DataFrameAnalyticsTask.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5bda2937a38f889775d99debd5a826110769a65", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/d5bda2937a38f889775d99debd5a826110769a65", "committedDate": "2020-07-07T12:46:57Z", "message": "Merge branch 'master' into feature/add-no_autocreate-flag"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "338b1ffbae63932bb59b9c2d96dd73ae52766821", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/338b1ffbae63932bb59b9c2d96dd73ae52766821", "committedDate": "2020-07-07T13:47:28Z", "message": "moving to requiring alias"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac2bed27f12488987d058383178a3d1a88771b7e", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/ac2bed27f12488987d058383178a3d1a88771b7e", "committedDate": "2020-07-07T13:47:39Z", "message": "Merge branch 'feature/add-no_autocreate-flag' of github.com:benwtrent/elasticsearch into feature/add-no_autocreate-flag"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1b49b259181c66248f41714e6683f19d881042b", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/f1b49b259181c66248f41714e6683f19d881042b", "committedDate": "2020-07-07T13:54:42Z", "message": "adjusting test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79ce9aadc1b01549d796b4c4243abadfd360e75d", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/79ce9aadc1b01549d796b4c4243abadfd360e75d", "committedDate": "2020-07-07T16:31:55Z", "message": "fixing bulk index handling of require_alias flag"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f527f77c43c2283733c06b94f8ae9e5db4dc302a", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/f527f77c43c2283733c06b94f8ae9e5db4dc302a", "committedDate": "2020-07-07T17:33:45Z", "message": "prevent auto-create if the request requires alias"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81fb555472b452897590ec654d8ced6d5abbb454", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/81fb555472b452897590ec654d8ced6d5abbb454", "committedDate": "2020-07-07T17:34:12Z", "message": "Merge remote-tracking branch 'upstream/master' into feature/add-no_autocreate-flag"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "158403a9e7b252f20185dc195a89629c7657c854", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/158403a9e7b252f20185dc195a89629c7657c854", "committedDate": "2020-07-07T18:03:35Z", "message": "fixing tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0MjcxNTUx", "url": "https://github.com/elastic/elasticsearch/pull/58917#pullrequestreview-444271551", "createdAt": "2020-07-07T21:43:40Z", "commit": {"oid": "158403a9e7b252f20185dc195a89629c7657c854"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMTo0Mzo0MFrOGuQsWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMjowMDo1OVrOGuRKLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE2MTE3Ng==", "bodyText": "I think we could make this clearer, users will see \"[require_alias] request flag is [true]\" (they'll totally ignore the IndexNotFoundException part) and not have any idea what the error actually is, maybe something like:\n\"[require_alias] request flag is [true] and [myindex] is not an alias\"", "url": "https://github.com/elastic/elasticsearch/pull/58917#discussion_r451161176", "createdAt": "2020-07-07T21:43:40Z", "author": {"login": "dakrone"}, "path": "modules/reindex/src/main/java/org/elasticsearch/index/reindex/ReindexValidator.java", "diffHunk": "@@ -111,6 +113,9 @@ static void validateAgainstAliases(SearchRequest source, IndexRequest destinatio\n             return;\n         }\n         String target = destination.index();\n+        if (destination.isRequireAlias() && (false == clusterState.getMetadata().hasAlias(target))) {\n+            throw new IndexNotFoundException(\"[\" + DocWriteRequest.REQUIRE_ALIAS + \"] request flag is [true]\", target);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "158403a9e7b252f20185dc195a89629c7657c854"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE2MzYwOQ==", "bodyText": "This is confusing I think, because I think it means that if someone has two bulk actions and one has require_alias: true and another require_alias: false that it will overall be require_alias: false. Since isRequireAlias cannot return null, that means that having it unset for a single operation effectively disables the require_alias flag for all operations for that index.\nI think we may want to err on the side of being stricter (if any operation requires it to be an alias, they all do) and change this to v1 || v2 instead of v1 && v2.\nEither that, or we will need to make the boolean a Boolean and differentiate between explicitly set and unset default values (I suspect just using || is an easier solution).\nAlso, can you add a test for this scenario?", "url": "https://github.com/elastic/elasticsearch/pull/58917#discussion_r451163609", "createdAt": "2020-07-07T21:49:09Z", "author": {"login": "dakrone"}, "path": "server/src/main/java/org/elasticsearch/action/bulk/TransportBulkAction.java", "diffHunk": "@@ -222,28 +222,29 @@ protected void doInternalExecute(Task task, BulkRequest bulkRequest, ActionListe\n         if (needToCheck()) {\n             // Attempt to create all the indices that we're going to need during the bulk before we start.\n             // Step 1: collect all the indices in the request\n-            final Set<String> indices = bulkRequest.requests.stream()\n-                    // delete requests should not attempt to create the index (if the index does not\n-                    // exists), unless an external versioning is used\n+            final Map<String, Boolean> indices = bulkRequest.requests.stream()\n+                // delete requests should not attempt to create the index (if the index does not\n+                // exists), unless an external versioning is used\n                 .filter(request -> request.opType() != DocWriteRequest.OpType.DELETE\n-                        || request.versionType() == VersionType.EXTERNAL\n-                        || request.versionType() == VersionType.EXTERNAL_GTE)\n-                .map(DocWriteRequest::index)\n-                .collect(Collectors.toSet());\n+                    || request.versionType() == VersionType.EXTERNAL\n+                    || request.versionType() == VersionType.EXTERNAL_GTE)\n+                .collect(Collectors.toMap(DocWriteRequest::index, DocWriteRequest::isRequireAlias, (v1, v2) -> v1 && v2));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "158403a9e7b252f20185dc195a89629c7657c854"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE2NjA2NA==", "bodyText": "Same comment here about making the error message a bit clearer", "url": "https://github.com/elastic/elasticsearch/pull/58917#discussion_r451166064", "createdAt": "2020-07-07T21:54:40Z", "author": {"login": "dakrone"}, "path": "server/src/main/java/org/elasticsearch/action/update/TransportUpdateAction.java", "diffHunk": "@@ -115,6 +119,9 @@ public static void resolveAndValidateRouting(Metadata metadata, String concreteI\n \n     @Override\n     protected void doExecute(Task task, final UpdateRequest request, final ActionListener<UpdateResponse> listener) {\n+        if (request.isRequireAlias() && (clusterService.state().getMetadata().hasAlias(request.index()) == false)) {\n+            throw new IndexNotFoundException(\"[\" + DocWriteRequest.REQUIRE_ALIAS + \"] request flag is [true]\", request.index());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "158403a9e7b252f20185dc195a89629c7657c854"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE2NjUyNA==", "bodyText": "I don't think we should make this parsed out of the body of the request, it should stay as a querystring parameter for the update request, but not in the actual xcontent", "url": "https://github.com/elastic/elasticsearch/pull/58917#discussion_r451166524", "createdAt": "2020-07-07T21:55:51Z", "author": {"login": "dakrone"}, "path": "server/src/main/java/org/elasticsearch/action/update/UpdateRequest.java", "diffHunk": "@@ -99,6 +100,7 @@\n             ObjectParser.ValueType.OBJECT_ARRAY_BOOLEAN_OR_STRING);\n         PARSER.declareLong(UpdateRequest::setIfSeqNo, IF_SEQ_NO);\n         PARSER.declareLong(UpdateRequest::setIfPrimaryTerm, IF_PRIMARY_TERM);\n+        PARSER.declareBoolean(UpdateRequest::setRequireAlias, REQUIRE_ALIAS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "158403a9e7b252f20185dc195a89629c7657c854"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE2NzU4Mg==", "bodyText": "I can kind of understand this parsing (more than the update request), but I don't like that we are parsing it out of the body here. I would prefer to only grab it from the querystring parameters, not from any request bodies", "url": "https://github.com/elastic/elasticsearch/pull/58917#discussion_r451167582", "createdAt": "2020-07-07T21:58:09Z", "author": {"login": "dakrone"}, "path": "server/src/main/java/org/elasticsearch/index/reindex/ReindexRequest.java", "diffHunk": "@@ -345,6 +357,7 @@ public XContentBuilder toXContent(XContentBuilder builder, Params params) throws\n         destParser.declareString(IndexRequest::routing, new ParseField(\"routing\"));\n         destParser.declareString(IndexRequest::opType, new ParseField(\"op_type\"));\n         destParser.declareString(IndexRequest::setPipeline, new ParseField(\"pipeline\"));\n+        destParser.declareBoolean(IndexRequest::setRequireAlias, new ParseField(DocWriteRequest.REQUIRE_ALIAS));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "158403a9e7b252f20185dc195a89629c7657c854"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE2ODIxMg==", "bodyText": "I think in addition to specifying it on a per-operation basis, we need to support the require_alias parameter on the bulk API itself. Otherwise we require a client to add the flag 1000 times for 1000 different requests (even if they go to the same index)", "url": "https://github.com/elastic/elasticsearch/pull/58917#discussion_r451168212", "createdAt": "2020-07-07T21:59:42Z", "author": {"login": "dakrone"}, "path": "rest-api-spec/src/main/resources/rest-api-spec/test/bulk/10_basic.yml", "diffHunk": "@@ -116,3 +116,43 @@\n            {\"index\": {\"_index\": \"test_index\", \"_id\": \"test_id\"}}\n            {\"f1\": \"v1\", \"f2\": 42}\n            {}\n+\n+---\n+\"When setting require_alias flag\":\n+  - skip:\n+      # TODO adjust after backport\n+      version: \" - 7.99.99\"\n+      reason: \"require_alias flag was added in version 7.9\"\n+\n+  - do:\n+      indices.create:\n+        index: backing_index\n+        body:\n+          mappings: {}\n+          aliases:\n+            test_require_alias: {}\n+  - do:\n+      bulk:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "158403a9e7b252f20185dc195a89629c7657c854"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE2ODgxMw==", "bodyText": "We need to add this in RestBulkAction also, and make it top-level rather than only allowing it per-operation", "url": "https://github.com/elastic/elasticsearch/pull/58917#discussion_r451168813", "createdAt": "2020-07-07T22:00:59Z", "author": {"login": "dakrone"}, "path": "server/src/main/java/org/elasticsearch/rest/action/document/RestIndexAction.java", "diffHunk": "@@ -122,6 +123,7 @@ public RestChannelConsumer prepareRequest(final RestRequest request, final NodeC\n         indexRequest.versionType(VersionType.fromString(request.param(\"version_type\"), indexRequest.versionType()));\n         indexRequest.setIfSeqNo(request.paramAsLong(\"if_seq_no\", indexRequest.ifSeqNo()));\n         indexRequest.setIfPrimaryTerm(request.paramAsLong(\"if_primary_term\", indexRequest.ifPrimaryTerm()));\n+        indexRequest.setRequireAlias(request.paramAsBoolean(DocWriteRequest.REQUIRE_ALIAS, indexRequest.isRequireAlias()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "158403a9e7b252f20185dc195a89629c7657c854"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NDgyNDkw", "url": "https://github.com/elastic/elasticsearch/pull/58917#pullrequestreview-444482490", "createdAt": "2020-07-08T07:33:25Z", "commit": {"oid": "158403a9e7b252f20185dc195a89629c7657c854"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "beb3edb6f1d82ded4b47b06ba9ca6bef825a1486", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/beb3edb6f1d82ded4b47b06ba9ca6bef825a1486", "committedDate": "2020-07-08T13:04:45Z", "message": "adding tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "006f3779fc864f255083bd54e1b3acaf244cfedb", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/006f3779fc864f255083bd54e1b3acaf244cfedb", "committedDate": "2020-07-08T13:05:01Z", "message": "Merge remote-tracking branch 'upstream/master' into feature/add-no_autocreate-flag"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5da8f27e05d0b602f92d5b3187bc1bc593fcf41", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/a5da8f27e05d0b602f92d5b3187bc1bc593fcf41", "committedDate": "2020-07-08T13:58:21Z", "message": "adjusting bulk handling and updating tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1bb5ebf017256209bab897eeb2576f816bfacec7", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/1bb5ebf017256209bab897eeb2576f816bfacec7", "committedDate": "2020-07-08T14:21:36Z", "message": "fixing tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69e4bebed6466386aa7350be04ff4cd572371eb2", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/69e4bebed6466386aa7350be04ff4cd572371eb2", "committedDate": "2020-07-08T16:47:23Z", "message": "Merge branch 'master' into feature/add-no_autocreate-flag"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de7b25184441e03b518677ed0ed1e1227b7c815c", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/de7b25184441e03b518677ed0ed1e1227b7c815c", "committedDate": "2020-07-16T19:31:01Z", "message": "Merge remote-tracking branch 'upstream/master' into feature/add-no_autocreate-flag"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwMTk5MjU4", "url": "https://github.com/elastic/elasticsearch/pull/58917#pullrequestreview-450199258", "createdAt": "2020-07-16T20:39:45Z", "commit": {"oid": "de7b25184441e03b518677ed0ed1e1227b7c815c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c0df8264ec6b37fa938a715ec7d76c997755c38", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/4c0df8264ec6b37fa938a715ec7d76c997755c38", "committedDate": "2020-07-17T11:52:35Z", "message": "Merge branch 'master' into feature/add-no_autocreate-flag"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2381, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}