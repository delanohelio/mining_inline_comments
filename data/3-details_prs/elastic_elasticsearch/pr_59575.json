{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ5MTM0MTI2", "number": 59575, "title": "Remove unneeded rest params from Data Stream Stats", "bodyText": "This PR removes the expand_wildcards and forbid_closed_indices parameters from the Data Streams Stats REST endpoint. These options are required for broadcast requests, but are not needed for anything in terms of resolving data streams. Instead, we just set a default set of IndicesOptions on the transport request.", "createdAt": "2020-07-14T21:56:57Z", "url": "https://github.com/elastic/elasticsearch/pull/59575", "merged": true, "mergeCommit": {"oid": "1fb4a5ed3137c0bb2df0ec5459dd9d19aa4c2044"}, "closed": true, "closedAt": "2020-07-15T18:24:16Z", "author": {"login": "jbaiera"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc08gXaAH2gAyNDQ5MTM0MTI2Ojk3NWM4ZGE1YjRkMTQzNzRhOWY4ZTRiZTI2MzA1YWJiNzA3NTk2ODQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1McvHgH2gAyNDQ5MTM0MTI2OjZiYjVmZTFlOWJhYTBjZTk5MGY1ZDFkNDdkYWMyODZlYzJhZmFkZDc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "975c8da5b4d14374a9f8e4be26305abb70759684", "author": {"user": {"login": "jbaiera", "name": "James Baiera"}}, "url": "https://github.com/elastic/elasticsearch/commit/975c8da5b4d14374a9f8e4be26305abb70759684", "committedDate": "2020-07-14T20:59:48Z", "message": "Remove unused indices options from data streams stats rest request"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6b489cc170e3302937fd0d4a7e6a58b19a72e0c", "author": {"user": {"login": "jbaiera", "name": "James Baiera"}}, "url": "https://github.com/elastic/elasticsearch/commit/f6b489cc170e3302937fd0d4a7e6a58b19a72e0c", "committedDate": "2020-07-14T21:53:11Z", "message": "Add a quick test to ensure closed indices do not impact stats"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4NDk3ODY5", "url": "https://github.com/elastic/elasticsearch/pull/59575#pullrequestreview-448497869", "createdAt": "2020-07-14T22:02:21Z", "commit": {"oid": "f6b489cc170e3302937fd0d4a7e6a58b19a72e0c"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQyMjowMjoyMVrOGxm9Cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQyMjowMjoyMVrOGxm9Cw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDY3MTYyNw==", "bodyText": "Out of curiosity, since we're trying to get stats from closed indices, should we have a disclaimer that the stats (like max timestamp for instance) could be wrong if indices are closed?", "url": "https://github.com/elastic/elasticsearch/pull/59575#discussion_r454671627", "createdAt": "2020-07-14T22:02:21Z", "author": {"login": "dakrone"}, "path": "server/src/main/java/org/elasticsearch/action/admin/indices/datastream/DataStreamsStatsAction.java", "diffHunk": "@@ -76,7 +77,9 @@ public DataStreamsStatsAction() {\n \n     public static class Request extends BroadcastRequest<Request> {\n         public Request() {\n-            super((String[]) null);\n+            // this doesn't really matter since data stream name resolution isn't affected by IndicesOptions and\n+            // a data stream's backing indices are retrieved from its metadata\n+            super(null, IndicesOptions.fromOptions(false, true, true, true, false, false, true, false));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f6b489cc170e3302937fd0d4a7e6a58b19a72e0c"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "928cc4b34903c1986c9f4cafd447a2b098a662fa", "author": {"user": {"login": "jbaiera", "name": "James Baiera"}}, "url": "https://github.com/elastic/elasticsearch/commit/928cc4b34903c1986c9f4cafd447a2b098a662fa", "committedDate": "2020-07-14T22:28:19Z", "message": "precommit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6bb5fe1e9baa0ce990f5d1d47dac286ec2afadd7", "author": {"user": {"login": "jbaiera", "name": "James Baiera"}}, "url": "https://github.com/elastic/elasticsearch/commit/6bb5fe1e9baa0ce990f5d1d47dac286ec2afadd7", "committedDate": "2020-07-15T15:34:19Z", "message": "Merge branch 'master' into data-streams-stats-options"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4360, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}