{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2MzA5NTY5", "number": 58304, "title": "Validate compatible handlers have correct version", "bodyText": "Validating if registered compatible rest handlers are overriding\ncompatibleWith method and specify the right compatible version\n(\"197 b\u0142\u0119d\u00f3w / +197\")", "createdAt": "2020-06-18T08:21:22Z", "url": "https://github.com/elastic/elasticsearch/pull/58304", "merged": true, "mergeCommit": {"oid": "cacef336faa70f97e6f4afa85f2f8185102ca1a8"}, "closed": true, "closedAt": "2020-07-14T11:53:32Z", "author": {"login": "pgomulka"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcsaBVEAH2gAyNDM2MzA5NTY5OjY3OGE3ZDRmODcwMGU4YWZiZTgxY2Q2YWEwM2Y0MGQxMWFlYThmMzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc0xfj_AH2gAyNDM2MzA5NTY5OjJmYTIyMGEzMGYxYmVlMzY4ZjQ2ZDAxN2NlODBkNmRkYjdhNDBkYWQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "678a7d4f8700e8afbe81cd6aa03f40d11aea8f39", "author": {"user": {"login": "pgomulka", "name": "Przemyslaw Gomulka"}}, "url": "https://github.com/elastic/elasticsearch/commit/678a7d4f8700e8afbe81cd6aa03f40d11aea8f39", "committedDate": "2020-06-18T08:17:44Z", "message": "Validate compatible handlers have correct version\n\nValidating if registered compatible rest handlers are overriding\ncompatibleWith method and specify the right compatible version"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1OTUyMTcz", "url": "https://github.com/elastic/elasticsearch/pull/58304#pullrequestreview-435952173", "createdAt": "2020-06-23T16:26:50Z", "commit": {"oid": "678a7d4f8700e8afbe81cd6aa03f40d11aea8f39"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNjoyNjo1MVrOGnxIow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNjoyNjo1MVrOGnxIow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM1MjY3NQ==", "bodyText": "+1 to adding validation... I would have a minor preference to have a static validateCompatibleHandlers(Collection handlers) that is located in a more central location and that assumes Version.CURRENT.major - 1 to help make this more generic.\nAlso, I think normal IllegalStateException or the like may be preferable to the assert here.", "url": "https://github.com/elastic/elasticsearch/pull/58304#discussion_r444352675", "createdAt": "2020-06-23T16:26:51Z", "author": {"login": "jakelandis"}, "path": "modules/rest-compatibility/src/main/java/org/elasticsearch/rest/compat/RestCompatPlugin.java", "diffHunk": "@@ -51,7 +51,7 @@\n         Supplier<DiscoveryNodes> nodesInCluster\n     ) {\n         if (Version.CURRENT.major == 8) {\n-            return List.of(\n+            return validatedList(7,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "678a7d4f8700e8afbe81cd6aa03f40d11aea8f39"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12bf7d6662c30511e2f54ca8e3b520ea7376e267", "author": {"user": {"login": "pgomulka", "name": "Przemyslaw Gomulka"}}, "url": "https://github.com/elastic/elasticsearch/commit/12bf7d6662c30511e2f54ca8e3b520ea7376e267", "committedDate": "2020-06-29T12:49:03Z", "message": "throw exception"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f1d9778c8bd876b0a5f7d114fd6c2783ab0c343", "author": {"user": {"login": "pgomulka", "name": "Przemyslaw Gomulka"}}, "url": "https://github.com/elastic/elasticsearch/commit/0f1d9778c8bd876b0a5f7d114fd6c2783ab0c343", "committedDate": "2020-06-29T13:26:11Z", "message": "format syntax"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22dcca73872abef4e5df630aed005f42ec5376ce", "author": {"user": {"login": "pgomulka", "name": "Przemyslaw Gomulka"}}, "url": "https://github.com/elastic/elasticsearch/commit/22dcca73872abef4e5df630aed005f42ec5376ce", "committedDate": "2020-07-14T06:40:59Z", "message": "Merge branch 'compat_rest_api' into compat/validate_handler_version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7eacb5d7435738754cfff679557f2547518d77e2", "author": {"user": {"login": "pgomulka", "name": "Przemyslaw Gomulka"}}, "url": "https://github.com/elastic/elasticsearch/commit/7eacb5d7435738754cfff679557f2547518d77e2", "committedDate": "2020-07-14T06:45:14Z", "message": "Merge branch 'compat_rest_api' into compat/validate_handler_version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c45803db50ce8fb004d6b4c016c843f096bc478", "author": {"user": {"login": "pgomulka", "name": "Przemyslaw Gomulka"}}, "url": "https://github.com/elastic/elasticsearch/commit/3c45803db50ce8fb004d6b4c016c843f096bc478", "committedDate": "2020-07-14T07:42:22Z", "message": "checkstyle and package"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2fa220a30f1bee368f46d017ce80d6ddb7a40dad", "author": {"user": {"login": "pgomulka", "name": "Przemyslaw Gomulka"}}, "url": "https://github.com/elastic/elasticsearch/commit/2fa220a30f1bee368f46d017ce80d6ddb7a40dad", "committedDate": "2020-07-14T08:09:58Z", "message": "Merge branch 'compat_rest_api' into compat/validate_handler_version"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 455, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}