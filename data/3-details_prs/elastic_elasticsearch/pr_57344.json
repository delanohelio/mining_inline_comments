{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1MDAwMDY2", "number": 57344, "title": "[Doc] 7.6.0 Known issue for slow loggers leaking log4j loggers", "bodyText": "relates #56171", "createdAt": "2020-05-29T09:44:23Z", "url": "https://github.com/elastic/elasticsearch/pull/57344", "merged": true, "mergeCommit": {"oid": "cd80abdf9e42f753b3f2f49eee9d9c9598c5022c"}, "closed": true, "closedAt": "2020-06-02T14:06:16Z", "author": {"login": "pgomulka"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcl--AHgH2gAyNDI1MDAwMDY2OjhiZmYyMzAyY2JkMDAzODY1NzA0NGIyZWU3YmJiOTRmODQ5ZWFkYjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnVWJ4AFqTQyMjcwOTg2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8bff2302cbd0038657044b2ee7bbb94f849eadb3", "author": {"user": {"login": "pgomulka", "name": "Przemyslaw Gomulka"}}, "url": "https://github.com/elastic/elasticsearch/commit/8bff2302cbd0038657044b2ee7bbb94f849eadb3", "committedDate": "2020-05-29T09:23:07Z", "message": "[Doc] 7.6.0 Known issue for slow loggers leaking log4j loggers"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyMTc3MzA0", "url": "https://github.com/elastic/elasticsearch/pull/57344#pullrequestreview-422177304", "createdAt": "2020-06-01T20:58:46Z", "commit": {"oid": "8bff2302cbd0038657044b2ee7bbb94f849eadb3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQyMDo1ODo0N1rOGdZ6gg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQyMDo1ODo0N1rOGdZ6gg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ4NjQ2Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Slow loggers are causing log4j loggers to leak over time. When new index is created, new log4j logger was associated with it.\n          \n          \n            \n            However when deleting an index it, log4j was keeping a reference internally to its loggers causing a memory leak.\n          \n          \n            \n            https://github.com/elastic/elasticsearch/issues/56171 Fixed in 7.7.1\n          \n          \n            \n            Slow loggers can cause Log4j loggers to leak over time. When a new index is created, a new Log4j logger is associated with it. However, when an index is deleted, Log4j keeps an internal reference to its loggers that results in a memory leak {pull}56171[#56171]\n          \n          \n            \n            \n          \n          \n            \n            This issue is fixed in Elasticsearch 6.8.10 and 7.7.1.", "url": "https://github.com/elastic/elasticsearch/pull/57344#discussion_r433486466", "createdAt": "2020-06-01T20:58:47Z", "author": {"login": "lockewritesdocs"}, "path": "docs/reference/release-notes/7.6.asciidoc", "diffHunk": "@@ -168,6 +168,10 @@ that are incompatible with java.time patterns will cause parsing errors, incorre\n https://github.com/elastic/elasticsearch/pull/52555\n This is fixed in {es} 7.7 and later versions.\n \n+* Slow loggers are causing log4j loggers to leak over time. When new index is created, new log4j logger was associated with it.\n+However when deleting an index it, log4j was keeping a reference internally to its loggers causing a memory leak.\n+https://github.com/elastic/elasticsearch/issues/56171 Fixed in 7.7.1\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8bff2302cbd0038657044b2ee7bbb94f849eadb3"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74adddef41eefca5b504f8bae9453307902a6c56", "author": {"user": {"login": "pgomulka", "name": "Przemyslaw Gomulka"}}, "url": "https://github.com/elastic/elasticsearch/commit/74adddef41eefca5b504f8bae9453307902a6c56", "committedDate": "2020-06-02T12:15:08Z", "message": "Update docs/reference/release-notes/7.6.asciidoc\n\nCo-authored-by: Adam Locke <adam.locke@elastic.co>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyNjcwMTE3", "url": "https://github.com/elastic/elasticsearch/pull/57344#pullrequestreview-422670117", "createdAt": "2020-06-02T13:23:13Z", "commit": {"oid": "74adddef41eefca5b504f8bae9453307902a6c56"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxMzoyMzoxM1rOGdxWow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxMzoyMzoxM1rOGdxWow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzg3MDQ5OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Slow loggers can cause Log4j loggers to leak over time. When a new index is created, a new Log4j logger is associated with it. However, when an index is deleted, Log4j keeps an internal reference to its loggers that results in a memory leak {pull}56171[#56171]\n          \n          \n            \n            \n          \n          \n            \n            This issue is fixed in Elasticsearch 6.8.10 and 7.7.1.\n          \n          \n            \n            * Slow loggers can cause Log4j loggers to leak over time. When a new index is created, a new Log4j logger is associated with it. However, when an index is deleted, Log4j keeps an internal reference to its loggers that results in a memory leak (issue: {issue}56171[#56171])\n          \n          \n            \n            +\n          \n          \n            \n            This issue is fixed in {es} 6.8.10 and 7.7.1.", "url": "https://github.com/elastic/elasticsearch/pull/57344#discussion_r433870499", "createdAt": "2020-06-02T13:23:13Z", "author": {"login": "lockewritesdocs"}, "path": "docs/reference/release-notes/7.6.asciidoc", "diffHunk": "@@ -168,6 +168,9 @@ that are incompatible with java.time patterns will cause parsing errors, incorre\n https://github.com/elastic/elasticsearch/pull/52555\n This is fixed in {es} 7.7 and later versions.\n \n+Slow loggers can cause Log4j loggers to leak over time. When a new index is created, a new Log4j logger is associated with it. However, when an index is deleted, Log4j keeps an internal reference to its loggers that results in a memory leak {pull}56171[#56171]\n+\n+This issue is fixed in Elasticsearch 6.8.10 and 7.7.1.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74adddef41eefca5b504f8bae9453307902a6c56"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24b4b2a9b66795b6b6b5b5004c6633aa09dce842", "author": {"user": {"login": "pgomulka", "name": "Przemyslaw Gomulka"}}, "url": "https://github.com/elastic/elasticsearch/commit/24b4b2a9b66795b6b6b5b5004c6633aa09dce842", "committedDate": "2020-06-02T13:39:19Z", "message": "Update docs/reference/release-notes/7.6.asciidoc\n\nCo-authored-by: Adam Locke <adam.locke@elastic.co>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyNzA5ODYy", "url": "https://github.com/elastic/elasticsearch/pull/57344#pullrequestreview-422709862", "createdAt": "2020-06-02T14:01:20Z", "commit": {"oid": "24b4b2a9b66795b6b6b5b5004c6633aa09dce842"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4156, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}