{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0NTI5NDQx", "number": 60858, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwNjo0MTo0OFrOEaz9jg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwNjo0NjozMlrOEa0CFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2NTQ5Nzc0OnYy", "diffSide": "RIGHT", "path": "x-pack/docs/en/rest-api/security/create-api-keys.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwNjo0MTo0OFrOHEdc8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwNjo0MTo0OFrOHEdc8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDQzODg5OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            NOTE: If your node is configured to use SSL in a production environment, then you must specify `https` when creating your API key.\n          \n          \n            \n            NOTE: If your node has `xpack.security.http.ssl.enabled` set to `true`, then you must specify `https` when creating your API key.\n          \n      \n    \n    \n  \n\nThe \"production environment\" wording is a bit misleading, since you can have SSL enabled in a non-production environment, in which case you would still need https.\nIt's also necessary (if we want to be perfectly accurate) to distinguish between SSL for the transport port and the HTTP port.\nI used the setting name because it read better to me than \"If you use SSL on the HTTP port ...\"", "url": "https://github.com/elastic/elasticsearch/pull/60858#discussion_r474438899", "createdAt": "2020-08-21T06:41:48Z", "author": {"login": "tvernum"}, "path": "x-pack/docs/en/rest-api/security/create-api-keys.asciidoc", "diffHunk": "@@ -123,6 +123,8 @@ The API key returned by this API can then be used by sending a request with a\n `Authorization` header with a value having the prefix `ApiKey` followed\n by the _credentials_, where _credentials_ is the base64 encoding of `id` and `api_key` joined by a colon.\n \n+NOTE: If your node is configured to use SSL in a production environment, then you must specify `https` when creating your API key.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "919e667077aaaecc869f4c6a8a2c873e9ebe807b"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk2NTUwOTMzOnYy", "diffSide": "RIGHT", "path": "x-pack/docs/en/security/securing-communications/tls-http.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQwNjo0NjozMlrOHEdjZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQyMToyMTo0OVrOHF2vNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDQ0MDU1MA==", "bodyText": "I think if I were reading this, I would be confused as to whether it's required on production environments or not.\nThe sentence before says you only need it for certain features, but then this sentence say it's not required on non-production environments, but doesn't link back to those features.\nPerhaps something more like\nNOTE: Enabling TLS on the HTTP layer is strongly recommended but is not required.\n\nIMPORTANT: In a production environment, some {es} features such as\ntokens and API keys, will be disabled unless you enable TLS on the HTTP layer.\n\nAlso, I think production environment should probably link to https://www.elastic.co/guide/en/elasticsearch/reference/current/bootstrap-checks.html#dev-vs-prod-mode", "url": "https://github.com/elastic/elasticsearch/pull/60858#discussion_r474440550", "createdAt": "2020-08-21T06:46:32Z", "author": {"login": "tvernum"}, "path": "x-pack/docs/en/security/securing-communications/tls-http.asciidoc", "diffHunk": "@@ -5,10 +5,29 @@\n When {security-features} are enabled, you can optionally use TLS to ensure that\n communication between HTTP clients and the cluster is encrypted.\n \n-NOTE: Enabling TLS on the HTTP layer is strongly recommended but is not required.\n-If you enable TLS on the HTTP layer in {es}, then you might need to make\n-configuration changes in other parts of the {stack} and in any {es} clients that\n-you use.\n+IMPORTANT: You must enable TLS on the HTTP layer to use certain {es} features\n+in a production environment, such as tokens and API keys.\n+\n+Enabling TLS on the HTTP layer is strongly recommended for non-production\n+deployments, but is not required.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "919e667077aaaecc869f4c6a8a2c873e9ebe807b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTkwMTc0OQ==", "bodyText": "Thanks for the feedback @tvernum. I incorporated those changes into the Encrypting HTTP client communications page.", "url": "https://github.com/elastic/elasticsearch/pull/60858#discussion_r475901749", "createdAt": "2020-08-24T21:21:49Z", "author": {"login": "lockewritesdocs"}, "path": "x-pack/docs/en/security/securing-communications/tls-http.asciidoc", "diffHunk": "@@ -5,10 +5,29 @@\n When {security-features} are enabled, you can optionally use TLS to ensure that\n communication between HTTP clients and the cluster is encrypted.\n \n-NOTE: Enabling TLS on the HTTP layer is strongly recommended but is not required.\n-If you enable TLS on the HTTP layer in {es}, then you might need to make\n-configuration changes in other parts of the {stack} and in any {es} clients that\n-you use.\n+IMPORTANT: You must enable TLS on the HTTP layer to use certain {es} features\n+in a production environment, such as tokens and API keys.\n+\n+Enabling TLS on the HTTP layer is strongly recommended for non-production\n+deployments, but is not required.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDQ0MDU1MA=="}, "originalCommit": {"oid": "919e667077aaaecc869f4c6a8a2c873e9ebe807b"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2501, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}