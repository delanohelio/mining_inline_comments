{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2Njk4MzY0", "number": 59279, "title": "Remove Artificially Low Chunk Size Limits from GCS + Azure Blob Stores", "bodyText": "Removing these limits as they cause unnecessarily many object in the blob stores.\nWe do not have to worry about BwC of this change since we do not support any 3rd party\nimplementations of Azure or GCS.\nAlso, since there is no valid reason to set a different than the default maximum chunk size at this\npoint, removing the documentation (which was incorrect in the case of Azure to begin with) for the setting\nfrom the docs.\nCloses #56018", "createdAt": "2020-07-09T08:19:20Z", "url": "https://github.com/elastic/elasticsearch/pull/59279", "merged": true, "mergeCommit": {"oid": "60e0b4641c4c87219e84895ba5c92672c4ce0b48"}, "closed": true, "closedAt": "2020-07-14T19:34:55Z", "author": {"login": "original-brownbear"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczKleOAH2gAyNDQ2Njk4MzY0OjI2MDAyMDViYmRhYWVlOGNiMGIwMWU0NDNhZTYwNTViMTZhMzlhOGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc03vdvAH2gAyNDQ2Njk4MzY0OmE2M2U1Y2VmOTEyNDAxMzBhZTc2OWIwMjY2NjYxYjc4ZGU1OGEwNTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2600205bbdaaee8cb0b01e443ae6055b16a39a8b", "author": {"user": {"login": "original-brownbear", "name": "Armin Braun"}}, "url": "https://github.com/elastic/elasticsearch/commit/2600205bbdaaee8cb0b01e443ae6055b16a39a8b", "committedDate": "2020-07-09T08:16:12Z", "message": "Remove Artificially Low Chunk Size Limits from GCS + Azure Blob Stores\n\nRemoving these limits as they cause unnecessarily many object in the blob stores.\nWe do not have to worry about BwC of this change since we do not support any 3rd party\nimplementations of Azure or GCS.\nAlso, since there is no valid reason to set a different than the default maximum chunk size at this\npoint, removing the documentation (which was incorrect in the case of Azure to begin with) for the setting\nfrom the docs.\n\nCloses #56018"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MDA5ODk2", "url": "https://github.com/elastic/elasticsearch/pull/59279#pullrequestreview-448009896", "createdAt": "2020-07-14T11:11:00Z", "commit": {"oid": "2600205bbdaaee8cb0b01e443ae6055b16a39a8b"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxMToxMTowMVrOGxPDvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxMToxMToyM1rOGxPEZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDI4MDEyNQ==", "bodyText": "I think we should still keep the docs for chunk_size. Perhaps we can mention that lowering this value can result in much more files in the repo. Still, it's a valid option and should be documented.", "url": "https://github.com/elastic/elasticsearch/pull/59279#discussion_r454280125", "createdAt": "2020-07-14T11:11:01Z", "author": {"login": "ywelsch"}, "path": "docs/plugins/repository-azure.asciidoc", "diffHunk": "@@ -162,12 +162,6 @@ The Azure repository supports following settings:\n     Specifies the path within container to repository data. Defaults to empty\n     (root directory).\n \n-`chunk_size`::", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2600205bbdaaee8cb0b01e443ae6055b16a39a8b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDI4MDI5Mg==", "bodyText": "same here", "url": "https://github.com/elastic/elasticsearch/pull/59279#discussion_r454280292", "createdAt": "2020-07-14T11:11:23Z", "author": {"login": "ywelsch"}, "path": "docs/plugins/repository-gcs.asciidoc", "diffHunk": "@@ -226,12 +226,6 @@ The following settings are supported:\n     Specifies the path within bucket to repository data. Defaults to\n     the root of the bucket.\n \n-`chunk_size`::", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2600205bbdaaee8cb0b01e443ae6055b16a39a8b"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76a3b0b29e12ebf3dd98643effdcdc2887c4fd78", "author": {"user": {"login": "original-brownbear", "name": "Armin Braun"}}, "url": "https://github.com/elastic/elasticsearch/commit/76a3b0b29e12ebf3dd98643effdcdc2887c4fd78", "committedDate": "2020-07-14T13:56:55Z", "message": "Merge remote-tracking branch 'elastic/master' into 56018"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "076281a505144ef4d768f300ea3874840d735530", "author": {"user": {"login": "original-brownbear", "name": "Armin Braun"}}, "url": "https://github.com/elastic/elasticsearch/commit/076281a505144ef4d768f300ea3874840d735530", "committedDate": "2020-07-14T13:57:26Z", "message": "Merge remote-tracking branch 'elastic/master' into 56018"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f45a4f7511bedb26087812f864d9458c7eb08232", "author": {"user": {"login": "original-brownbear", "name": "Armin Braun"}}, "url": "https://github.com/elastic/elasticsearch/commit/f45a4f7511bedb26087812f864d9458c7eb08232", "committedDate": "2020-07-14T14:11:48Z", "message": "CR: docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0cd3394f579f3f955f6bd8f3956b63f0568c865", "author": {"user": {"login": "original-brownbear", "name": "Armin Braun"}}, "url": "https://github.com/elastic/elasticsearch/commit/a0cd3394f579f3f955f6bd8f3956b63f0568c865", "committedDate": "2020-07-14T14:44:01Z", "message": "Merge remote-tracking branch 'elastic/master' into 56018"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MTgwNzkz", "url": "https://github.com/elastic/elasticsearch/pull/59279#pullrequestreview-448180793", "createdAt": "2020-07-14T14:48:56Z", "commit": {"oid": "a0cd3394f579f3f955f6bd8f3956b63f0568c865"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0ODo1N1rOGxXOoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0ODo1N1rOGxXOoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQxMzk4NQ==", "bodyText": "let's spell out what the value is (same for GCS)", "url": "https://github.com/elastic/elasticsearch/pull/59279#discussion_r454413985", "createdAt": "2020-07-14T14:48:57Z", "author": {"login": "ywelsch"}, "path": "docs/plugins/repository-azure.asciidoc", "diffHunk": "@@ -164,9 +164,13 @@ The Azure repository supports following settings:\n \n `chunk_size`::\n \n-    Big files can be broken down into chunks during snapshotting if needed.\n+    Big files can be broken down into multiple smaller blobs in the blob store during snapshotting.\n+    It is not recommended to change this value from its default unless there is an explicit reason for limiting the\n+    size of blobs in the repository. Setting a value lower than the default can result in an increased number of API\n+    calls to the Azure blob store during snapshot create as well as restore operations compared to using the default\n+    value and thus make both operations slower as well as more costly.\n     Specify the chunk size as a value and unit, for example:\n-    `10MB`, `5KB`, `500B`. Defaults to `64MB` (64MB max).\n+    `10MB`, `5KB`, `500B`. Defaults to the maximum size of a blob in the Azure blob store.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a0cd3394f579f3f955f6bd8f3956b63f0568c865"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a63e5cef91240130ae769b0266661b78de58a051", "author": {"user": {"login": "original-brownbear", "name": "Armin Braun"}}, "url": "https://github.com/elastic/elasticsearch/commit/a63e5cef91240130ae769b0266661b78de58a051", "committedDate": "2020-07-14T15:26:46Z", "message": "CR: spell out defaults"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2108, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}