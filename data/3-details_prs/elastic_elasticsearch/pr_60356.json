{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4MjE4NTkw", "number": 60356, "title": "Increase Timeouts in SLMBlockingIntegTests", "bodyText": "The retention run goes through a number of steps and can randomly take more than 10s.\n=> increased timeout to 30s like we did in other spots in this test\nAlso, noticed that we had a hard wait of 10s in this test, removed it and adjusted following\nbusy assert in a way that can deal with a missing snapshot (from when the assert runs before\nthe snapshot was put into the CS).\nCloses #60336", "createdAt": "2020-07-29T06:12:53Z", "url": "https://github.com/elastic/elasticsearch/pull/60356", "merged": true, "mergeCommit": {"oid": "a1a2a46ca148542390c24edaec90c7df5a272ae1"}, "closed": true, "closedAt": "2020-07-29T14:39:53Z", "author": {"login": "original-brownbear"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5kxfIAH2gAyNDU4MjE4NTkwOmVlNTNmZTExMjZjYjk5ZmIyMjQwZjA4YjU0NjdkODZjMTY5Zjc3YWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5sDDBgFqTQ1NzU4OTY5Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ee53fe1126cb99fb2240f08b5467d86c169f77ad", "author": {"user": {"login": "original-brownbear", "name": "Armin Braun"}}, "url": "https://github.com/elastic/elasticsearch/commit/ee53fe1126cb99fb2240f08b5467d86c169f77ad", "committedDate": "2020-07-29T06:10:24Z", "message": "Increase Timeouts in SLMBlockingIntegTests\n\nThe retention run goes through a number of steps and can randomly take more than 10s.\n=> increased timeout to 30s like we did in other spots in this test\n\nAlso, noticed that we had a hard wait of 10s in this test, removed it and adjusted following\nbusy assert in a way that can deal with a missing snapshot (from when the assert runs before\nthe snapshot was put into the CS).\n\nCloses #60336"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MjIxMjc4", "url": "https://github.com/elastic/elasticsearch/pull/60356#pullrequestreview-457221278", "createdAt": "2020-07-29T06:13:25Z", "commit": {"oid": "ee53fe1126cb99fb2240f08b5467d86c169f77ad"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNjoxMzoyNVrOG4p-1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNjoxMzoyNVrOG4p-1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA2MTI2OQ==", "bodyText": "Since this runs twice, this saves almost 20s for this test suit overall :)", "url": "https://github.com/elastic/elasticsearch/pull/60356#discussion_r462061269", "createdAt": "2020-07-29T06:13:25Z", "author": {"login": "original-brownbear"}, "path": "x-pack/plugin/ilm/src/test/java/org/elasticsearch/xpack/slm/SLMSnapshotBlockingIntegTests.java", "diffHunk": "@@ -340,14 +340,18 @@ private void testUnsuccessfulSnapshotRetention(boolean partialSuccess) throws Ex\n             logger.info(\"--> waiting for snapshot to complete\");\n             successfulSnapshotName.set(snapshotResponse.get().getSnapshotName());\n             assertNotNull(successfulSnapshotName.get());\n-            Thread.sleep(TimeValue.timeValueSeconds(10).millis());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee53fe1126cb99fb2240f08b5467d86c169f77ad"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3NTg5Njkz", "url": "https://github.com/elastic/elasticsearch/pull/60356#pullrequestreview-457589693", "createdAt": "2020-07-29T14:38:55Z", "commit": {"oid": "ee53fe1126cb99fb2240f08b5467d86c169f77ad"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3619, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}