{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA4MTIxMTEw", "number": 64041, "title": "Remove type handling in LeafFieldsLookup", "bodyText": "Access to type in scripts is deprecated in 7.x, so we don't need to support it in master(8.x).", "createdAt": "2020-10-22T08:42:37Z", "url": "https://github.com/elastic/elasticsearch/pull/64041", "merged": true, "mergeCommit": {"oid": "0c7cd83efdbba3219bfa65283a194f9c2d8f3f07"}, "closed": true, "closedAt": "2020-10-26T11:39:06Z", "author": {"login": "javanna"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdU94CKAH2gAyNTA4MTIxMTEwOjQyNmUyYzRjNDkyNDYxZWQ1NjdlZjgwNTRiZjEzYmUxMmYxYWMzNDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWSDPaAH2gAyNTA4MTIxMTEwOmE5MzgzYjEzZTk5ZmVkMTlmMTQxOTFjOTY1YzEyZDc3YTQ1NTJiZTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "426e2c4c492461ed567ef8054bf13be12f1ac347", "author": {"user": {"login": "javanna", "name": "Luca Cavanna"}}, "url": "https://github.com/elastic/elasticsearch/commit/426e2c4c492461ed567ef8054bf13be12f1ac347", "committedDate": "2020-10-22T08:41:08Z", "message": "Remove type handling in LeafFieldsLookup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0NDk0MTcy", "url": "https://github.com/elastic/elasticsearch/pull/64041#pullrequestreview-514494172", "createdAt": "2020-10-22T08:44:34Z", "commit": {"oid": "426e2c4c492461ed567ef8054bf13be12f1ac347"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQwODo0NDozNFrOHmXDyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQwODo0NDozNFrOHmXDyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTk4NTczNw==", "bodyText": "Is this what you meant @romseygeek ? Are we sure that we can drop this? Looks like a breaking change to me, wondering if it's worth leaving it around although it is constant, not sure.", "url": "https://github.com/elastic/elasticsearch/pull/64041#discussion_r509985737", "createdAt": "2020-10-22T08:44:34Z", "author": {"login": "javanna"}, "path": "server/src/main/java/org/elasticsearch/search/lookup/LeafFieldsLookup.java", "diffHunk": "@@ -137,21 +135,12 @@ private FieldLookup loadFieldData(String name) {\n             cachedFieldData.put(name, data);\n         }\n         if (data.fields() == null) {\n-            List<Object> values;\n-            if (TypeFieldType.NAME.equals(data.fieldType().name())) {\n-                values = new ArrayList<>(1);\n-                final DocumentMapper mapper = mapperService.documentMapper();\n-                if (mapper != null) {\n-                    values.add(mapper.type());\n-                }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "426e2c4c492461ed567ef8054bf13be12f1ac347"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0NDk2ODY2", "url": "https://github.com/elastic/elasticsearch/pull/64041#pullrequestreview-514496866", "createdAt": "2020-10-22T08:47:41Z", "commit": {"oid": "426e2c4c492461ed567ef8054bf13be12f1ac347"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f0d29ca583e664e54def4160f41f563201c7fa4", "author": {"user": {"login": "javanna", "name": "Luca Cavanna"}}, "url": "https://github.com/elastic/elasticsearch/commit/5f0d29ca583e664e54def4160f41f563201c7fa4", "committedDate": "2020-10-22T19:11:55Z", "message": "iter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9383b13e99fed19f14191c965c12d77a4552be0", "author": {"user": {"login": "javanna", "name": "Luca Cavanna"}}, "url": "https://github.com/elastic/elasticsearch/commit/a9383b13e99fed19f14191c965c12d77a4552be0", "committedDate": "2020-10-26T10:45:24Z", "message": "Merge branch 'master' into refactoring/remove_type_leaf_lookup"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1115, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}