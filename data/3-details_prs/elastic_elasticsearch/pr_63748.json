{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0MTYxOTE1", "number": 63748, "title": "[DOCS] EQL: Update `allow_no_indices` default", "bodyText": "Relates to #63573 and #62986.\nPreview\nhttps://elasticsearch_63748.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/eql-search-api.html#eql-search-api-query-params", "createdAt": "2020-10-15T14:47:28Z", "url": "https://github.com/elastic/elasticsearch/pull/63748", "merged": true, "mergeCommit": {"oid": "71aaa4ae0a1464e64992d091d98a76902aa9c874"}, "closed": true, "closedAt": "2020-10-19T16:14:24Z", "author": {"login": "jrodewig"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSy6JLAH2gAyNTA0MTYxOTE1OjNhMmMyNTFiZTg1MDM3Y2UyODcxNjkzYjVmM2M0MmI0M2I3YjBhYmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUGfN_gFqTUxMTkyODYwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3a2c251be85037ce2871693b5f3c42b43b7b0abd", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/3a2c251be85037ce2871693b5f3c42b43b7b0abd", "committedDate": "2020-10-15T14:46:38Z", "message": "[DOCS] EQL: Update `allow_no_indices` default"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5NDY4Mjgy", "url": "https://github.com/elastic/elasticsearch/pull/63748#pullrequestreview-509468282", "createdAt": "2020-10-15T14:52:55Z", "commit": {"oid": "3a2c251be85037ce2871693b5f3c42b43b7b0abd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNDo1Mjo1NVrOHiL3fQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNDo1Mjo1NVrOHiL3fQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTYwODA2MQ==", "bodyText": "@astefan Let me know if I missed anything here. I'm not sure there is much value in users changing this arg as there will be an error either way.", "url": "https://github.com/elastic/elasticsearch/pull/63748#discussion_r505608061", "createdAt": "2020-10-15T14:52:55Z", "author": {"login": "jrodewig"}, "path": "docs/reference/eql/eql-search-api.asciidoc", "diffHunk": "@@ -56,9 +56,13 @@ To search all data streams and indices in a cluster, use\n [[eql-search-api-query-params]]\n ==== {api-query-parms-title}\n \n-include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=allow-no-indices]\n-+\n-Defaults to `false`.\n+`allow_no_indices`::\n+(Optional, boolean)\n+If `false`, the request returns a `mapping_exception` error when a wildcard\n+expression, <<indices-aliases,index alias>>, or `_all` value targets only\n+missing or closed indices. If `true`, the request returns a\n+`verification_exception` error when targeting only missing or closed indices.\n+Defaults to `true`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a2c251be85037ce2871693b5f3c42b43b7b0abd"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "edeca29649df84779bb8d7f7527c210017b7b2d3", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/edeca29649df84779bb8d7f7527c210017b7b2d3", "committedDate": "2020-10-15T18:40:55Z", "message": "Fix param def"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a05814eaf2fffe4f290220b87f82b09496238bb", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/8a05814eaf2fffe4f290220b87f82b09496238bb", "committedDate": "2020-10-15T20:14:04Z", "message": "reword"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd2b39fd120cb858601a15e1ce939f16bb648b13", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/fd2b39fd120cb858601a15e1ce939f16bb648b13", "committedDate": "2020-10-16T12:43:29Z", "message": "Clarify examples"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90047f2fcc44d077fefd2f67a7ab1197b77966ee", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/90047f2fcc44d077fefd2f67a7ab1197b77966ee", "committedDate": "2020-10-16T12:44:54Z", "message": "Reword note"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76d2793c445685fffa5dc5e878bb346165160b46", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/76d2793c445685fffa5dc5e878bb346165160b46", "committedDate": "2020-10-16T12:49:02Z", "message": "Add clarification"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8554d4afe0ce64bac1529554fd1b8b9abb7268f3", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/8554d4afe0ce64bac1529554fd1b8b9abb7268f3", "committedDate": "2020-10-16T12:51:26Z", "message": "Revise note"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b02e2ab17db0d3bf31a2363b1db420fb2f323902", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/b02e2ab17db0d3bf31a2363b1db420fb2f323902", "committedDate": "2020-10-16T13:50:07Z", "message": "Revise note again"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwNTExOTIz", "url": "https://github.com/elastic/elasticsearch/pull/63748#pullrequestreview-510511923", "createdAt": "2020-10-16T14:14:46Z", "commit": {"oid": "b02e2ab17db0d3bf31a2363b1db420fb2f323902"}, "state": "APPROVED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxNDoxNDo0N1rOHjApCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxNDoyNjoxN1rOHjBOlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ3MjcxMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            If `false`, any wildcard expression, <<indices-aliases,index alias>>, or `_all`\n          \n          \n            \n            value that targets only missing or closed indices returns an error. This applies\n          \n          \n            \n            even if the request targets other open indices. For example, if an index starts\n          \n          \n            \n            with `foo` but no index starts with `bar`, a request targeting `foo*,bar*`\n          \n          \n            \n            returns an error.\n          \n          \n            \n            If `false`, requests return an error if any wildcard expression, <<indices-aliases,index alias>>, or `_all`\n          \n          \n            \n            value targets only missing or closed indices. This behavior applies\n          \n          \n            \n            even if the request targets other open indices. For example, a request\n          \n          \n            \n            targeting `foo*,bar*` returns an error if any index starts with `foo`, but no\n          \n          \n            \n            index starts with `bar`.", "url": "https://github.com/elastic/elasticsearch/pull/63748#discussion_r506472713", "createdAt": "2020-10-16T14:14:47Z", "author": {"login": "lockewritesdocs"}, "path": "docs/reference/eql/eql-search-api.asciidoc", "diffHunk": "@@ -56,9 +56,26 @@ To search all data streams and indices in a cluster, use\n [[eql-search-api-query-params]]\n ==== {api-query-parms-title}\n \n-include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=allow-no-indices]\n+`allow_no_indices`::\n+(Optional, boolean)\n++\n+NOTE: This parameter's behavior differs from the `allow_no_indices` parameter\n+used in other <<multi-index,multi-target APIs>>.\n++\n+If `false`, any wildcard expression, <<indices-aliases,index alias>>, or `_all`\n+value that targets only missing or closed indices returns an error. This applies\n+even if the request targets other open indices. For example, if an index starts\n+with `foo` but no index starts with `bar`, a request targeting `foo*,bar*`\n+returns an error.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b02e2ab17db0d3bf31a2363b1db420fb2f323902"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ3NTI0OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            If `true`, only requests that exclusively target missing or closed indices\n          \n          \n            \n            return an error. If the request targets any open index, it does not return an\n          \n          \n            \n            error. For example, if an index starts with `foo` but no index starts with\n          \n          \n            \n            `bar`, a request targeting `foo*,bar*` does not return an error. However, a\n          \n          \n            \n            request that targets only `bar*` still returns an error.\n          \n          \n            \n            +\n          \n          \n            \n            If `true`, requests that exclusively target missing or closed indices\n          \n          \n            \n            return an error, unless the request targets an open index.\n          \n          \n            \n            For example, a request targeting `foo*,bar*` does not return an error\n          \n          \n            \n            if any index starts with `foo`, but no index starts with\n          \n          \n            \n            `bar`. However, a request that targets only `bar*` still returns an error.\n          \n          \n            \n            +", "url": "https://github.com/elastic/elasticsearch/pull/63748#discussion_r506475248", "createdAt": "2020-10-16T14:17:51Z", "author": {"login": "lockewritesdocs"}, "path": "docs/reference/eql/eql-search-api.asciidoc", "diffHunk": "@@ -56,9 +56,26 @@ To search all data streams and indices in a cluster, use\n [[eql-search-api-query-params]]\n ==== {api-query-parms-title}\n \n-include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=allow-no-indices]\n+`allow_no_indices`::\n+(Optional, boolean)\n++\n+NOTE: This parameter's behavior differs from the `allow_no_indices` parameter\n+used in other <<multi-index,multi-target APIs>>.\n++\n+If `false`, any wildcard expression, <<indices-aliases,index alias>>, or `_all`\n+value that targets only missing or closed indices returns an error. This applies\n+even if the request targets other open indices. For example, if an index starts\n+with `foo` but no index starts with `bar`, a request targeting `foo*,bar*`\n+returns an error.\n +\n-Defaults to `false`.\n+If `true`, only requests that exclusively target missing or closed indices\n+return an error. If the request targets any open index, it does not return an\n+error. For example, if an index starts with `foo` but no index starts with\n+`bar`, a request targeting `foo*,bar*` does not return an error. However, a\n+request that targets only `bar*` still returns an error.\n++", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b02e2ab17db0d3bf31a2363b1db420fb2f323902"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ3NzA1NQ==", "bodyText": "I think that combining the second sentence into the first helps to highlight the conditional statement.", "url": "https://github.com/elastic/elasticsearch/pull/63748#discussion_r506477055", "createdAt": "2020-10-16T14:20:04Z", "author": {"login": "lockewritesdocs"}, "path": "docs/reference/eql/eql-search-api.asciidoc", "diffHunk": "@@ -56,9 +56,26 @@ To search all data streams and indices in a cluster, use\n [[eql-search-api-query-params]]\n ==== {api-query-parms-title}\n \n-include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=allow-no-indices]\n+`allow_no_indices`::\n+(Optional, boolean)\n++\n+NOTE: This parameter's behavior differs from the `allow_no_indices` parameter\n+used in other <<multi-index,multi-target APIs>>.\n++\n+If `false`, any wildcard expression, <<indices-aliases,index alias>>, or `_all`\n+value that targets only missing or closed indices returns an error. This applies\n+even if the request targets other open indices. For example, if an index starts\n+with `foo` but no index starts with `bar`, a request targeting `foo*,bar*`\n+returns an error.\n +\n-Defaults to `false`.\n+If `true`, only requests that exclusively target missing or closed indices\n+return an error. If the request targets any open index, it does not return an\n+error. For example, if an index starts with `foo` but no index starts with\n+`bar`, a request targeting `foo*,bar*` does not return an error. However, a\n+request that targets only `bar*` still returns an error.\n++", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ3NTI0OA=="}, "originalCommit": {"oid": "b02e2ab17db0d3bf31a2363b1db420fb2f323902"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ3OTc1NQ==", "bodyText": "I moved \"requests return an error\" to the beginning of the first sentence, which I think reads easier. \"You'll get an error if X, Y, or Z\" feels more natural than \"If X, Y, or Z, you'll get an error.\" Apologies for such subjective logic, but I kept stumbling on that first sentence.", "url": "https://github.com/elastic/elasticsearch/pull/63748#discussion_r506479755", "createdAt": "2020-10-16T14:23:20Z", "author": {"login": "lockewritesdocs"}, "path": "docs/reference/eql/eql-search-api.asciidoc", "diffHunk": "@@ -56,9 +56,26 @@ To search all data streams and indices in a cluster, use\n [[eql-search-api-query-params]]\n ==== {api-query-parms-title}\n \n-include::{es-repo-dir}/rest-api/common-parms.asciidoc[tag=allow-no-indices]\n+`allow_no_indices`::\n+(Optional, boolean)\n++\n+NOTE: This parameter's behavior differs from the `allow_no_indices` parameter\n+used in other <<multi-index,multi-target APIs>>.\n++\n+If `false`, any wildcard expression, <<indices-aliases,index alias>>, or `_all`\n+value that targets only missing or closed indices returns an error. This applies\n+even if the request targets other open indices. For example, if an index starts\n+with `foo` but no index starts with `bar`, a request targeting `foo*,bar*`\n+returns an error.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ3MjcxMw=="}, "originalCommit": {"oid": "b02e2ab17db0d3bf31a2363b1db420fb2f323902"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ4MTIxNg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            If `false`, any wildcard expression, <<indices-aliases,index alias>>, or `_all`\n          \n          \n            \n            value that targets only missing or closed indices returns an error. This applies\n          \n          \n            \n            even if the request targets other open indices. For example, if an index starts\n          \n          \n            \n            with `foo` but no index starts with `bar`, a request targeting `foo*,bar*`\n          \n          \n            \n            returns an error.\n          \n          \n            \n            If `false`, requests return an error if any wildcard expression, <<indices-aliases,index alias>>, or `_all`\n          \n          \n            \n            value targets only missing or closed indices. This behavior applies\n          \n          \n            \n            even if the request targets other open indices. For example, a request\n          \n          \n            \n            targeting `foo*,bar*` returns an error if any index starts with `foo`, but no\n          \n          \n            \n            index starts with `bar`.", "url": "https://github.com/elastic/elasticsearch/pull/63748#discussion_r506481216", "createdAt": "2020-10-16T14:25:07Z", "author": {"login": "lockewritesdocs"}, "path": "docs/reference/rest-api/common-parms.asciidoc", "diffHunk": "@@ -38,9 +38,12 @@ end::target-index-aliases[]\n \n tag::allow-no-indices[]\n `allow_no_indices`::\n-(Optional, boolean) If `false`, the request returns an error when a\n-wildcard expression, <<indices-aliases,index alias>>, or `_all` value targets\n-only missing or closed indices.\n+(Optional, boolean)\n+If `false`, any wildcard expression, <<indices-aliases,index alias>>, or `_all`\n+value that targets only missing or closed indices returns an error. This applies\n+even if the request targets other open indices. For example, if an index starts\n+with `foo` but no index starts with `bar`, a request targeting `foo*,bar*`\n+returns an error.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b02e2ab17db0d3bf31a2363b1db420fb2f323902"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ4MjMyNw==", "bodyText": "\u261d\ufe0f same suggested edits as in the previous file.", "url": "https://github.com/elastic/elasticsearch/pull/63748#discussion_r506482327", "createdAt": "2020-10-16T14:26:17Z", "author": {"login": "lockewritesdocs"}, "path": "docs/reference/rest-api/common-parms.asciidoc", "diffHunk": "@@ -38,9 +38,12 @@ end::target-index-aliases[]\n \n tag::allow-no-indices[]\n `allow_no_indices`::\n-(Optional, boolean) If `false`, the request returns an error when a\n-wildcard expression, <<indices-aliases,index alias>>, or `_all` value targets\n-only missing or closed indices.\n+(Optional, boolean)\n+If `false`, any wildcard expression, <<indices-aliases,index alias>>, or `_all`\n+value that targets only missing or closed indices returns an error. This applies\n+even if the request targets other open indices. For example, if an index starts\n+with `foo` but no index starts with `bar`, a request targeting `foo*,bar*`\n+returns an error.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjQ4MTIxNg=="}, "originalCommit": {"oid": "b02e2ab17db0d3bf31a2363b1db420fb2f323902"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "803494cc7a6bc8a941a2ab98fa0e128c1666ccd7", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/803494cc7a6bc8a941a2ab98fa0e128c1666ccd7", "committedDate": "2020-10-16T14:49:13Z", "message": "Apply suggestions from code review\n\nCo-authored-by: Adam Locke <adam.locke@elastic.co>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1877c16b6c593255c62e9343cd044c0045f9c50c", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/1877c16b6c593255c62e9343cd044c0045f9c50c", "committedDate": "2020-10-16T14:53:45Z", "message": "Minor cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8cf99d2433cb6537eb7df7e49ad6265ae0fb41a0", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/8cf99d2433cb6537eb7df7e49ad6265ae0fb41a0", "committedDate": "2020-10-16T15:04:42Z", "message": "sync changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExOTI4NjAw", "url": "https://github.com/elastic/elasticsearch/pull/63748#pullrequestreview-511928600", "createdAt": "2020-10-19T16:09:15Z", "commit": {"oid": "8cf99d2433cb6537eb7df7e49ad6265ae0fb41a0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3998, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}