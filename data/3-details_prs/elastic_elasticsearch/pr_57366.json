{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1MTU4MjIy", "number": 57366, "title": "[DOCS] EQL: Document get async EQL search API", "bodyText": "Adds documentation for the get async EQL search API.\nAlso updates existing docs to cross-reference the new\ndocumentation.\nRelates to #56852 and #49638.", "createdAt": "2020-05-29T15:02:44Z", "url": "https://github.com/elastic/elasticsearch/pull/57366", "merged": true, "mergeCommit": {"oid": "78146bbca9ddcfe3eca290775b2531b269f801b4"}, "closed": true, "closedAt": "2020-05-30T12:42:30Z", "author": {"login": "jrodewig"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcmDvh1AH2gAyNDI1MTU4MjIyOjFlNzI3MGExYjI3ZGE4ZjQzY2RkNTQ2OTg0OWRlZTM2OTM1NTliMzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcmJifCgH2gAyNDI1MTU4MjIyOjA1NmE3ZjczY2E5NTc1M2Y2MDYzZDcxYTNkYmVkZjJiNGE3NWExY2U=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1e7270a1b27da8f43cdd5469849dee3693559b39", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/1e7270a1b27da8f43cdd5469849dee3693559b39", "committedDate": "2020-05-29T14:56:50Z", "message": "[DOCS] Document get async EQL search API"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxMjk0NjAw", "url": "https://github.com/elastic/elasticsearch/pull/57366#pullrequestreview-421294600", "createdAt": "2020-05-29T21:20:58Z", "commit": {"oid": "1e7270a1b27da8f43cdd5469849dee3693559b39"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQyMToyMDo1OFrOGcsahw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQyMToyMTo1N1rOGcsbzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjc0MDk5OQ==", "bodyText": "I am not quite sure what you mean by \"block other requests\" here. It should only block the current request. Please let me know if you observed other behavior.", "url": "https://github.com/elastic/elasticsearch/pull/57366#discussion_r432740999", "createdAt": "2020-05-29T21:20:58Z", "author": {"login": "imotov"}, "path": "docs/reference/eql/get-async-eql-search-api.asciidoc", "diffHunk": "@@ -0,0 +1,83 @@\n+[role=\"xpack\"]\n+[testenv=\"basic\"]\n+\n+[[get-async-eql-search-api]]\n+=== Get async EQL search API\n+++++\n+<titleabbrev>Get async EQL search</titleabbrev>\n+++++\n+\n+dev::[]\n+\n+Returns the current status and available results for an <<eql-search-async,async\n+EQL search>> or a <<eql-search-store-sync-eql-search,stored synchronous EQL\n+search>>.\n+\n+[source,console]\n+----\n+GET /_eql/search/FkpMRkJGS1gzVDRlM3g4ZzMyRGlLbkEaTXlJZHdNT09TU2VTZVBoNDM3cFZMUToxMDM=\n+----\n+// TEST[skip: no access to search ID]\n+\n+[[get-async-eql-search-api-request]]\n+==== {api-request-title}\n+\n+`GET /_eql/search/<search_id>`\n+\n+[[get-async-eql-search-api-prereqs]]\n+==== {api-prereq-title}\n+\n+See <<eql-requirements,EQL requirements>>.\n+\n+[[get-async-eql-search-api-limitations]]\n+===== Limitations\n+\n+See <<eql-limitations,EQL limitations>>.\n+\n+[[get-async-eql-search-api-path-params]]\n+==== {api-path-parms-title}\n+\n+`<search_id>`::\n+(Required, string)\n+Identifier for the search.\n++\n+A search ID is provided in the <<eql-search-api,EQL search API>>'s response for\n+an <<eql-search-async,async search>>. A search ID is also provided if the\n+request's <<eql-search-api-keep-on-completion,`keep_on_completion`>> parameter\n+is `true`.\n+\n+[[get-async-eql-search-api-query-params]]\n+==== {api-query-parms-title}\n+\n+`keep_alive`::\n+(Optional, <<time-units,time value>>)\n+Period for which the search and its results are stored on the cluster. Defaults\n+to the `keep_alive` value set by the search's <<eql-search-api,EQL search\n+API>> request.\n++\n+If specified, this parameter sets a new `keep_alive` period for the search,\n+starting when the get async EQL search API request executes. This new period\n+overwrites the one specified in the EQL search API request.\n++\n+When this period expires, the search and its results are deleted, even if the\n+search is ongoing.\n+\n+`wait_for_completion_timeout`::\n+(Optional, <<time-units,time value>>)\n+Timeout duration to block other requests while waiting for the request to", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e7270a1b27da8f43cdd5469849dee3693559b39"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjc0MTMyNg==", "bodyText": "We don't have this for now, but hopefully, we will have some partial results soon. So, it might make sense to leave it.", "url": "https://github.com/elastic/elasticsearch/pull/57366#discussion_r432741326", "createdAt": "2020-05-29T21:21:57Z", "author": {"login": "imotov"}, "path": "docs/reference/eql/search.asciidoc", "diffHunk": "@@ -492,6 +492,7 @@ API returns a response that includes:\n * An `is_partial` value of `true`, indicating the response does not contain\n   complete search results.\n * An `is_running` value of `true`, indicating the search is async and ongoing.\n+* Partial search results, if available, in the `hits` property.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e7270a1b27da8f43cdd5469849dee3693559b39"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30518af594e34c761a4cb3bdfd0e38c7ced41c48", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/30518af594e34c761a4cb3bdfd0e38c7ced41c48", "committedDate": "2020-05-29T21:37:33Z", "message": "remove blocking reference"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "056a7f73ca95753f6063d71a3dbedf2b4a75a1ce", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/056a7f73ca95753f6063d71a3dbedf2b4a75a1ce", "committedDate": "2020-05-29T21:42:01Z", "message": "minor reword"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4020, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}