{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1MTA4OTcx", "number": 57359, "title": "[7.x] Add new circuitbreaker plugin and refactor CircuitBreakerService (#55695)", "bodyText": "Backports the following commits to 7.x:\n\nAdd new circuitbreaker plugin and refactor CircuitBreakerService (#55695)", "createdAt": "2020-05-29T13:38:33Z", "url": "https://github.com/elastic/elasticsearch/pull/57359", "merged": true, "mergeCommit": {"oid": "15aba60c02c04257243bcc4cec95cff9272ac24d"}, "closed": true, "closedAt": "2020-05-29T16:13:47Z", "author": {"login": "benwtrent"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcmCniaAH2gAyNDI1MTA4OTcxOjI3MTZmYjJiNDRiYzYzNDIwZmIyYjJmNjQ4NGJkNTYxNDcwZWJlMGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcmDnxvAH2gAyNDI1MTA4OTcxOjJlMzgyMjU3YjBiODI2NWNlMmQzNTE4M2NlOWY1YjczZWUwZTQ3OTI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2716fb2b44bc63420fb2b2f6484bd561470ebe0b", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/2716fb2b44bc63420fb2b2f6484bd561470ebe0b", "committedDate": "2020-05-29T13:38:12Z", "message": "Add new circuitbreaker plugin and refactor CircuitBreakerService (#55695)\n\nThis commit lays the ground work for plugins supplying their own circuit breakers.\n\nIt adds a new interface: `CircuitBreakerPlugin`.\n\nThis interface provides methods for providing custom child CircuitBreaker objects. There are also facilities for allowing dynamic settings for the custom breakers.\n\nWith the refactor, circuit breakers are no longer replaced on setting changes. Instead, the two mutable settings themselves are `volatile`. Plugins that want to use their custom circuit breaker should keep a reference of their constructed breaker."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwOTU4NzY1", "url": "https://github.com/elastic/elasticsearch/pull/57359#pullrequestreview-420958765", "createdAt": "2020-05-29T13:39:37Z", "commit": {"oid": "2716fb2b44bc63420fb2b2f6484bd561470ebe0b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQxMzozOTozN1rOGcdBdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQxMzozOTozN1rOGcdBdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjQ4ODgyMg==", "bodyText": "@rjernst Should we gather the circuit breaker plugin values here as well?", "url": "https://github.com/elastic/elasticsearch/pull/57359#discussion_r432488822", "createdAt": "2020-05-29T13:39:37Z", "author": {"login": "benwtrent"}, "path": "server/src/main/java/org/elasticsearch/client/transport/TransportClient.java", "diffHunk": "@@ -191,6 +191,7 @@ private static ClientTemplate buildTemplate(Settings providedSettings, Settings\n             modules.add(actionModule);\n \n             CircuitBreakerService circuitBreakerService = Node.createCircuitBreakerService(settingsModule.getSettings(),\n+                Collections.emptyList(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2716fb2b44bc63420fb2b2f6484bd561470ebe0b"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5af2f10914b75dc3edaa1f0a5fe7556ad1d43fd4", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/5af2f10914b75dc3edaa1f0a5fe7556ad1d43fd4", "committedDate": "2020-05-29T14:16:22Z", "message": "fixing unused import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e382257b0b8265ce2d35183ce9f5b73ee0e4792", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/2e382257b0b8265ce2d35183ce9f5b73ee0e4792", "committedDate": "2020-05-29T14:48:22Z", "message": "Merge branch '7.x' into backport/7.x/pr-55695"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4013, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}