{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2MTY3MjI5", "number": 55473, "title": "[ML] Return assigned node in start/open job/datafeed response", "bodyText": "Adds a \"node\" field to the response from the following endpoints:\n\nOpen anomaly detection job\nStart datafeed\nStart data frame analytics job\n\nIf the job or datafeed is assigned to a node immediately then\nthis field will return the ID of that node.\nIn the case where a job or datafeed is opened or started lazily\nthe node field will contain an empty string.  Clients that want\nto test whether a job or datafeed was opened or started lazily\ncan therefore check for this.\nFixes #54067", "createdAt": "2020-04-20T16:27:07Z", "url": "https://github.com/elastic/elasticsearch/pull/55473", "merged": true, "mergeCommit": {"oid": "8906e76079ca8b6649eaf70f7b38666f88522658"}, "closed": true, "closedAt": "2020-04-22T07:44:58Z", "author": {"login": "droberts195"}, "timelineItems": {"totalCount": 23, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZhpFiAH2gAyNDA2MTY3MjI5OjgwNDAwZjkwNGUzZDJhNjUzMWU4YWQ1ZDBmN2MxNGY1YWUzYjllMzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZ1XQ1AH2gAyNDA2MTY3MjI5OmM5YmZkOGU5OTBjNGNjYmY0NjFmOTdiNjA4ODk3NTYzNzhjZDc3Yzk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38", "author": {"user": {"login": "droberts195", "name": "David Roberts"}}, "url": "https://github.com/elastic/elasticsearch/commit/80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38", "committedDate": "2020-04-20T16:25:56Z", "message": "[ML] Return assigned node in start/open job/datafeed response\n\nAdds a \"node\" field to the response from the following endpoints:\n\n1. Open anomaly detection job\n2. Start datafeed\n3. Start data frame analytics job\n\nIf the job or datafeed is assigned to a node immediately then\nthis field will return the ID of that node.\n\nIn the case where a job or datafeed is opened or started lazily\nthe node field will contain an empty string.  Clients that want\nto test whether a job or datafeed was opened or started lazily\ncan therefore check for this.\n\nFixes #54067"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NjQyNDk2", "url": "https://github.com/elastic/elasticsearch/pull/55473#pullrequestreview-396642496", "createdAt": "2020-04-20T17:00:25Z", "commit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowMDoyNVrOGIedPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowMDoyNVrOGIedPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTU0MDc5Nw==", "bodyText": "I recommend splitting this into two shorter sentences and putting the conditional info at the start of the second sentence:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              (string) The ID of the node that the job was opened on, or an empty string\n          \n          \n            \n              (string) The ID of the node that the job was opened on. If the job is allowed to", "url": "https://github.com/elastic/elasticsearch/pull/55473#discussion_r411540797", "createdAt": "2020-04-20T17:00:25Z", "author": {"login": "lcawl"}, "path": "docs/reference/ml/anomaly-detection/apis/open-job.asciidoc", "diffHunk": "@@ -47,6 +47,17 @@ include::{docdir}/ml/ml-shared.asciidoc[tag=job-id-anomaly-detection]\n   (Optional, time) Controls the time to wait until a job has opened. The default\n   value is 30 minutes.\n \n+[[ml-open-job-response-body]]\n+==== {api-response-body-title}\n+\n+`node`::\n+  (string) The ID of the node that the job was opened on, or an empty string", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NjQzMjQx", "url": "https://github.com/elastic/elasticsearch/pull/55473#pullrequestreview-396643241", "createdAt": "2020-04-20T17:01:26Z", "commit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowMToyNlrOGIefvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowMToyNlrOGIefvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTU0MTQzNw==", "bodyText": "...continuation of suggestion:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              if the job is allowed to open lazily and has not yet been assigned to a node.\n          \n          \n            \n            open lazily and has not yet been assigned to a node, this value is an empty string.", "url": "https://github.com/elastic/elasticsearch/pull/55473#discussion_r411541437", "createdAt": "2020-04-20T17:01:26Z", "author": {"login": "lcawl"}, "path": "docs/reference/ml/anomaly-detection/apis/open-job.asciidoc", "diffHunk": "@@ -47,6 +47,17 @@ include::{docdir}/ml/ml-shared.asciidoc[tag=job-id-anomaly-detection]\n   (Optional, time) Controls the time to wait until a job has opened. The default\n   value is 30 minutes.\n \n+[[ml-open-job-response-body]]\n+==== {api-response-body-title}\n+\n+`node`::\n+  (string) The ID of the node that the job was opened on, or an empty string\n+  if the job is allowed to open lazily and has not yet been assigned to a node.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NjQ1MTk0", "url": "https://github.com/elastic/elasticsearch/pull/55473#pullrequestreview-396645194", "createdAt": "2020-04-20T17:03:58Z", "commit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowMzo1OFrOGIemfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowMzo1OFrOGIemfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTU0MzE2NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              (boolean) For a success response this is always `true`. On failure an\n          \n          \n            \n              (boolean) For a successful response, this value is always `true`. On failure, an", "url": "https://github.com/elastic/elasticsearch/pull/55473#discussion_r411543165", "createdAt": "2020-04-20T17:03:58Z", "author": {"login": "lcawl"}, "path": "docs/reference/ml/anomaly-detection/apis/open-job.asciidoc", "diffHunk": "@@ -47,6 +47,17 @@ include::{docdir}/ml/ml-shared.asciidoc[tag=job-id-anomaly-detection]\n   (Optional, time) Controls the time to wait until a job has opened. The default\n   value is 30 minutes.\n \n+[[ml-open-job-response-body]]\n+==== {api-response-body-title}\n+\n+`node`::\n+  (string) The ID of the node that the job was opened on, or an empty string\n+  if the job is allowed to open lazily and has not yet been assigned to a node.\n+\n+`opened`::\n+  (boolean) For a success response this is always `true`. On failure an", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NjQ1NDE1", "url": "https://github.com/elastic/elasticsearch/pull/55473#pullrequestreview-396645415", "createdAt": "2020-04-20T17:04:15Z", "commit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowNDoxNlrOGIenJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowNDoxNlrOGIenJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTU0MzMzMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              exception will be returned instead.\n          \n          \n            \n              exception is returned instead.", "url": "https://github.com/elastic/elasticsearch/pull/55473#discussion_r411543333", "createdAt": "2020-04-20T17:04:16Z", "author": {"login": "lcawl"}, "path": "docs/reference/ml/anomaly-detection/apis/open-job.asciidoc", "diffHunk": "@@ -47,6 +47,17 @@ include::{docdir}/ml/ml-shared.asciidoc[tag=job-id-anomaly-detection]\n   (Optional, time) Controls the time to wait until a job has opened. The default\n   value is 30 minutes.\n \n+[[ml-open-job-response-body]]\n+==== {api-response-body-title}\n+\n+`node`::\n+  (string) The ID of the node that the job was opened on, or an empty string\n+  if the job is allowed to open lazily and has not yet been assigned to a node.\n+\n+`opened`::\n+  (boolean) For a success response this is always `true`. On failure an\n+  exception will be returned instead.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NjQ2NDEx", "url": "https://github.com/elastic/elasticsearch/pull/55473#pullrequestreview-396646411", "createdAt": "2020-04-20T17:05:35Z", "commit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowNTozNVrOGIeqZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowNTozNVrOGIeqZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTU0NDE2Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              (string) The ID of the node that the {dfeed} was started on, or an empty\n          \n          \n            \n              (string) The ID of the node that the {dfeed} was started on.", "url": "https://github.com/elastic/elasticsearch/pull/55473#discussion_r411544167", "createdAt": "2020-04-20T17:05:35Z", "author": {"login": "lcawl"}, "path": "docs/reference/ml/anomaly-detection/apis/start-datafeed.asciidoc", "diffHunk": "@@ -92,6 +92,18 @@ include::{docdir}/ml/ml-shared.asciidoc[tag=datafeed-id]\n   (Optional, time) Controls the amount of time to wait until a {dfeed} starts.\n   The default value is 20 seconds.\n \n+[[ml-start-datafeed-response-body]]\n+==== {api-response-body-title}\n+\n+`node`::\n+  (string) The ID of the node that the {dfeed} was started on, or an empty", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NjQ2NjM2", "url": "https://github.com/elastic/elasticsearch/pull/55473#pullrequestreview-396646636", "createdAt": "2020-04-20T17:05:53Z", "commit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowNTo1NFrOGIerDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowNTo1NFrOGIerDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTU0NDMzNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              string if the {dfeed} is allowed to open lazily and has not yet been\n          \n          \n            \n            If the {dfeed} is allowed to open lazily and has not yet been", "url": "https://github.com/elastic/elasticsearch/pull/55473#discussion_r411544334", "createdAt": "2020-04-20T17:05:54Z", "author": {"login": "lcawl"}, "path": "docs/reference/ml/anomaly-detection/apis/start-datafeed.asciidoc", "diffHunk": "@@ -92,6 +92,18 @@ include::{docdir}/ml/ml-shared.asciidoc[tag=datafeed-id]\n   (Optional, time) Controls the amount of time to wait until a {dfeed} starts.\n   The default value is 20 seconds.\n \n+[[ml-start-datafeed-response-body]]\n+==== {api-response-body-title}\n+\n+`node`::\n+  (string) The ID of the node that the {dfeed} was started on, or an empty\n+  string if the {dfeed} is allowed to open lazily and has not yet been", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NjQ2ODM3", "url": "https://github.com/elastic/elasticsearch/pull/55473#pullrequestreview-396646837", "createdAt": "2020-04-20T17:06:10Z", "commit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowNjoxMFrOGIerrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowNjoxMFrOGIerrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTU0NDQ5NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              assigned to a node.\n          \n          \n            \n              assigned to a node, this value is an empty string.", "url": "https://github.com/elastic/elasticsearch/pull/55473#discussion_r411544494", "createdAt": "2020-04-20T17:06:10Z", "author": {"login": "lcawl"}, "path": "docs/reference/ml/anomaly-detection/apis/start-datafeed.asciidoc", "diffHunk": "@@ -92,6 +92,18 @@ include::{docdir}/ml/ml-shared.asciidoc[tag=datafeed-id]\n   (Optional, time) Controls the amount of time to wait until a {dfeed} starts.\n   The default value is 20 seconds.\n \n+[[ml-start-datafeed-response-body]]\n+==== {api-response-body-title}\n+\n+`node`::\n+  (string) The ID of the node that the {dfeed} was started on, or an empty\n+  string if the {dfeed} is allowed to open lazily and has not yet been\n+  assigned to a node.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NjQ3MTcy", "url": "https://github.com/elastic/elasticsearch/pull/55473#pullrequestreview-396647172", "createdAt": "2020-04-20T17:06:39Z", "commit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowNjozOVrOGIes6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowNjozOVrOGIes6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTU0NDgxMA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              (boolean) For a success response this is always `true`. On failure an\n          \n          \n            \n              (boolean) For a successful response, this value is always `true`. On failure, an", "url": "https://github.com/elastic/elasticsearch/pull/55473#discussion_r411544810", "createdAt": "2020-04-20T17:06:39Z", "author": {"login": "lcawl"}, "path": "docs/reference/ml/anomaly-detection/apis/start-datafeed.asciidoc", "diffHunk": "@@ -92,6 +92,18 @@ include::{docdir}/ml/ml-shared.asciidoc[tag=datafeed-id]\n   (Optional, time) Controls the amount of time to wait until a {dfeed} starts.\n   The default value is 20 seconds.\n \n+[[ml-start-datafeed-response-body]]\n+==== {api-response-body-title}\n+\n+`node`::\n+  (string) The ID of the node that the {dfeed} was started on, or an empty\n+  string if the {dfeed} is allowed to open lazily and has not yet been\n+  assigned to a node.\n+\n+`started`::\n+  (boolean) For a success response this is always `true`. On failure an", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NjQ3MzIy", "url": "https://github.com/elastic/elasticsearch/pull/55473#pullrequestreview-396647322", "createdAt": "2020-04-20T17:06:52Z", "commit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowNjo1MlrOGIetdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowNjo1MlrOGIetdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTU0NDk0OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              exception will be returned instead.\n          \n          \n            \n              exception is returned instead.", "url": "https://github.com/elastic/elasticsearch/pull/55473#discussion_r411544948", "createdAt": "2020-04-20T17:06:52Z", "author": {"login": "lcawl"}, "path": "docs/reference/ml/anomaly-detection/apis/start-datafeed.asciidoc", "diffHunk": "@@ -92,6 +92,18 @@ include::{docdir}/ml/ml-shared.asciidoc[tag=datafeed-id]\n   (Optional, time) Controls the amount of time to wait until a {dfeed} starts.\n   The default value is 20 seconds.\n \n+[[ml-start-datafeed-response-body]]\n+==== {api-response-body-title}\n+\n+`node`::\n+  (string) The ID of the node that the {dfeed} was started on, or an empty\n+  string if the {dfeed} is allowed to open lazily and has not yet been\n+  assigned to a node.\n+\n+`started`::\n+  (boolean) For a success response this is always `true`. On failure an\n+  exception will be returned instead.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NjQ3NzU4", "url": "https://github.com/elastic/elasticsearch/pull/55473#pullrequestreview-396647758", "createdAt": "2020-04-20T17:07:26Z", "commit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowNzoyNlrOGIeuxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowNzoyNlrOGIeuxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTU0NTI4Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              (boolean) For a success response this is always `true`. On failure an\n          \n          \n            \n              (boolean) For a successful response, this value is always `true`. On failure, an", "url": "https://github.com/elastic/elasticsearch/pull/55473#discussion_r411545286", "createdAt": "2020-04-20T17:07:26Z", "author": {"login": "lcawl"}, "path": "docs/reference/ml/df-analytics/apis/start-dfanalytics.asciidoc", "diffHunk": "@@ -64,6 +64,17 @@ include::{docdir}/ml/ml-shared.asciidoc[tag=job-id-data-frame-analytics-define]\n (Optional, <<time-units,time units>>) \n include::{docdir}/ml/ml-shared.asciidoc[tag=timeout-start]\n \n+[[ml-start-dfanalytics-response-body]]\n+==== {api-response-body-title}\n+\n+`acknowledged`::\n+  (boolean) For a success response this is always `true`. On failure an", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NjQ3OTI5", "url": "https://github.com/elastic/elasticsearch/pull/55473#pullrequestreview-396647929", "createdAt": "2020-04-20T17:07:38Z", "commit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowNzozOFrOGIevUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowNzozOFrOGIevUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTU0NTQyNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              exception will be returned instead.\n          \n          \n            \n              exception is returned instead.", "url": "https://github.com/elastic/elasticsearch/pull/55473#discussion_r411545427", "createdAt": "2020-04-20T17:07:38Z", "author": {"login": "lcawl"}, "path": "docs/reference/ml/df-analytics/apis/start-dfanalytics.asciidoc", "diffHunk": "@@ -64,6 +64,17 @@ include::{docdir}/ml/ml-shared.asciidoc[tag=job-id-data-frame-analytics-define]\n (Optional, <<time-units,time units>>) \n include::{docdir}/ml/ml-shared.asciidoc[tag=timeout-start]\n \n+[[ml-start-dfanalytics-response-body]]\n+==== {api-response-body-title}\n+\n+`acknowledged`::\n+  (boolean) For a success response this is always `true`. On failure an\n+  exception will be returned instead.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NjQ4MDk0", "url": "https://github.com/elastic/elasticsearch/pull/55473#pullrequestreview-396648094", "createdAt": "2020-04-20T17:07:51Z", "commit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowNzo1MlrOGIev8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowNzo1MlrOGIev8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTU0NTU4Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              (string) The ID of the node that the job was started on, or an empty string\n          \n          \n            \n              (string) The ID of the node that the job was started on.", "url": "https://github.com/elastic/elasticsearch/pull/55473#discussion_r411545587", "createdAt": "2020-04-20T17:07:52Z", "author": {"login": "lcawl"}, "path": "docs/reference/ml/df-analytics/apis/start-dfanalytics.asciidoc", "diffHunk": "@@ -64,6 +64,17 @@ include::{docdir}/ml/ml-shared.asciidoc[tag=job-id-data-frame-analytics-define]\n (Optional, <<time-units,time units>>) \n include::{docdir}/ml/ml-shared.asciidoc[tag=timeout-start]\n \n+[[ml-start-dfanalytics-response-body]]\n+==== {api-response-body-title}\n+\n+`acknowledged`::\n+  (boolean) For a success response this is always `true`. On failure an\n+  exception will be returned instead.\n+\n+`node`::\n+  (string) The ID of the node that the job was started on, or an empty string", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NjQ4NDM4", "url": "https://github.com/elastic/elasticsearch/pull/55473#pullrequestreview-396648438", "createdAt": "2020-04-20T17:08:19Z", "commit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowODoxOVrOGIexMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNzowODoxOVrOGIexMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTU0NTkwNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              if the job is allowed to open lazily and has not yet been assigned to a node.\n          \n          \n            \n              If the job is allowed to open lazily and has not yet been assigned to a node, this value is an empty string.", "url": "https://github.com/elastic/elasticsearch/pull/55473#discussion_r411545907", "createdAt": "2020-04-20T17:08:19Z", "author": {"login": "lcawl"}, "path": "docs/reference/ml/df-analytics/apis/start-dfanalytics.asciidoc", "diffHunk": "@@ -64,6 +64,17 @@ include::{docdir}/ml/ml-shared.asciidoc[tag=job-id-data-frame-analytics-define]\n (Optional, <<time-units,time units>>) \n include::{docdir}/ml/ml-shared.asciidoc[tag=timeout-start]\n \n+[[ml-start-dfanalytics-response-body]]\n+==== {api-response-body-title}\n+\n+`acknowledged`::\n+  (boolean) For a success response this is always `true`. On failure an\n+  exception will be returned instead.\n+\n+`node`::\n+  (string) The ID of the node that the job was started on, or an empty string\n+  if the job is allowed to open lazily and has not yet been assigned to a node.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2Njk1OTA0", "url": "https://github.com/elastic/elasticsearch/pull/55473#pullrequestreview-396695904", "createdAt": "2020-04-20T18:13:32Z", "commit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxODoxMzozMlrOGIhXVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxODoxNjowNVrOGIhdbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTU4ODQzNg==", "bodyText": "nit: might be cool to use AbstractBWCWireSerializationTestCase instead.", "url": "https://github.com/elastic/elasticsearch/pull/55473#discussion_r411588436", "createdAt": "2020-04-20T18:13:32Z", "author": {"login": "benwtrent"}, "path": "x-pack/plugin/core/src/test/java/org/elasticsearch/xpack/core/ml/action/NodeAcknowledgedResponseTests.java", "diffHunk": "@@ -0,0 +1,32 @@\n+/*\n+ * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n+ * or more contributor license agreements. Licensed under the Elastic License;\n+ * you may not use this file except in compliance with the Elastic License.\n+ */\n+\n+package org.elasticsearch.xpack.core.ml.action;\n+\n+import org.elasticsearch.common.io.stream.Writeable;\n+import org.elasticsearch.test.AbstractWireSerializingTestCase;\n+\n+public class NodeAcknowledgedResponseTests extends AbstractWireSerializingTestCase<NodeAcknowledgedResponse> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTU4OTk5OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                        // This doesn't use the toXContent of the response object because we rename \"acknowledged\" to \"opened\"\n          \n          \n            \n                                        // This doesn't use the toXContent of the response object because we rename \"acknowledged\" to \"started\"", "url": "https://github.com/elastic/elasticsearch/pull/55473#discussion_r411589998", "createdAt": "2020-04-20T18:16:05Z", "author": {"login": "benwtrent"}, "path": "x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/rest/datafeeds/RestStartDatafeedAction.java", "diffHunk": "@@ -71,12 +71,14 @@ protected RestChannelConsumer prepareRequest(RestRequest restRequest, NodeClient\n         }\n         return channel -> {\n             client.execute(StartDatafeedAction.INSTANCE, jobDatafeedRequest,\n-                    new RestBuilderListener<AcknowledgedResponse>(channel) {\n+                    new RestBuilderListener<NodeAcknowledgedResponse>(channel) {\n \n                         @Override\n-                        public RestResponse buildResponse(AcknowledgedResponse r, XContentBuilder builder) throws Exception {\n+                        public RestResponse buildResponse(NodeAcknowledgedResponse r, XContentBuilder builder) throws Exception {\n+                            // This doesn't use the toXContent of the response object because we rename \"acknowledged\" to \"opened\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3MDA2ODcz", "url": "https://github.com/elastic/elasticsearch/pull/55473#pullrequestreview-397006873", "createdAt": "2020-04-21T05:55:51Z", "commit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNTo1NTo1MVrOGIzy2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNjowMToyOFrOGIz8og==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTg5MDM5NQ==", "bodyText": "I think the fields in this class can be final.", "url": "https://github.com/elastic/elasticsearch/pull/55473#discussion_r411890395", "createdAt": "2020-04-21T05:55:51Z", "author": {"login": "przemekwitek"}, "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/ml/OpenJobResponse.java", "diffHunk": "@@ -33,18 +33,23 @@\n public class OpenJobResponse implements ToXContentObject {\n \n     private static final ParseField OPENED = new ParseField(\"opened\");\n+    private static final ParseField NODE = new ParseField(\"node\");\n \n     public static final ConstructingObjectParser<OpenJobResponse, Void> PARSER =\n-        new ConstructingObjectParser<>(\"open_job_response\", true, (a) -> new OpenJobResponse((Boolean)a[0]));\n+        new ConstructingObjectParser<>(\"open_job_response\", true,\n+            (a) -> new OpenJobResponse((Boolean) a[0], (String) a[1]));\n \n     static {\n         PARSER.declareBoolean(ConstructingObjectParser.constructorArg(), OPENED);\n+        PARSER.declareString(ConstructingObjectParser.optionalConstructorArg(), NODE);\n     }\n \n     private boolean opened;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTg5MTE2Mg==", "bodyText": "nit: It feels inconsistent that we compare one field using the accessor and the other one directly. Could you stick to one of those styles in equals and hashCode?\nOr maybe it would be possible to derive from AcknowledgedResponse (it would have to become configurable wrt acknowledged field name though...).", "url": "https://github.com/elastic/elasticsearch/pull/55473#discussion_r411891162", "createdAt": "2020-04-21T05:57:33Z", "author": {"login": "przemekwitek"}, "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/ml/OpenJobResponse.java", "diffHunk": "@@ -71,18 +88,22 @@ public boolean equals(Object other) {\n         }\n \n         OpenJobResponse that = (OpenJobResponse) other;\n-        return isOpened() == that.isOpened();\n+        return isOpened() == that.isOpened()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTg5Mjg5OA==", "bodyText": "Similar remark here.", "url": "https://github.com/elastic/elasticsearch/pull/55473#discussion_r411892898", "createdAt": "2020-04-21T06:01:28Z", "author": {"login": "przemekwitek"}, "path": "client/rest-high-level/src/main/java/org/elasticsearch/client/ml/StartDatafeedResponse.java", "diffHunk": "@@ -74,18 +90,22 @@ public boolean equals(Object other) {\n         }\n \n         StartDatafeedResponse that = (StartDatafeedResponse) other;\n-        return isStarted() == that.isStarted();\n+        return isStarted() == that.isStarted()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80400f904e3d2a6531e8ad5d0f7c14f5ae3b9e38"}, "originalPosition": 52}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d3e3077993f80294ad972a77a068b4964c32dc4", "author": {"user": {"login": "droberts195", "name": "David Roberts"}}, "url": "https://github.com/elastic/elasticsearch/commit/3d3e3077993f80294ad972a77a068b4964c32dc4", "committedDate": "2020-04-21T08:04:11Z", "message": "Apply suggestions from code review\n\nCo-Authored-By: Lisa Cawley <lcawley@elastic.co>\nCo-Authored-By: Benjamin Trent <ben.w.trent@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5421890737f5a3fc12fd251b59d05814d30f8d0c", "author": {"user": {"login": "droberts195", "name": "David Roberts"}}, "url": "https://github.com/elastic/elasticsearch/commit/5421890737f5a3fc12fd251b59d05814d30f8d0c", "committedDate": "2020-04-21T08:37:59Z", "message": "Address more review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96f32db6f79ee103307e64f45b1443fab860728a", "author": {"user": {"login": "droberts195", "name": "David Roberts"}}, "url": "https://github.com/elastic/elasticsearch/commit/96f32db6f79ee103307e64f45b1443fab860728a", "committedDate": "2020-04-21T08:38:31Z", "message": "Merge branch 'master' into add_node_to_start_open_response"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ddaccd940fa44d81690954adeb3e9ec21ebb6641", "author": {"user": {"login": "droberts195", "name": "David Roberts"}}, "url": "https://github.com/elastic/elasticsearch/commit/ddaccd940fa44d81690954adeb3e9ec21ebb6641", "committedDate": "2020-04-21T09:31:03Z", "message": "Fix expected test result"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9bfc256a54829f88aff982ef60b60c100dc0c03a", "author": {"user": {"login": "droberts195", "name": "David Roberts"}}, "url": "https://github.com/elastic/elasticsearch/commit/9bfc256a54829f88aff982ef60b60c100dc0c03a", "committedDate": "2020-04-21T10:34:44Z", "message": "Fix more tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19b7bb109687c2aba953780736926a76aef2e83a", "author": {"user": {"login": "droberts195", "name": "David Roberts"}}, "url": "https://github.com/elastic/elasticsearch/commit/19b7bb109687c2aba953780736926a76aef2e83a", "committedDate": "2020-04-21T12:11:43Z", "message": "More test fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9bfd8e990c4ccbf461f97b60889756378cd77c9", "author": {"user": {"login": "droberts195", "name": "David Roberts"}}, "url": "https://github.com/elastic/elasticsearch/commit/c9bfd8e990c4ccbf461f97b60889756378cd77c9", "committedDate": "2020-04-21T15:24:34Z", "message": "One more"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 730, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}