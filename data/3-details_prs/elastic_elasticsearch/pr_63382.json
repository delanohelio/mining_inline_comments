{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5MDI3NTk1", "number": 63382, "title": "Fix XContentTypeTests where version was a negative byte", "bodyText": "a random byte could be -128 and when used with Math.abs it would result\nin an int 128. That in turn when casting back to byte would overflow and\nresult in -128 again.\nFixed with a randomNonNegativeByte method\ncloses #63342\n\n\nHave you signed the contributor license agreement?\nHave you followed the contributor guidelines?\nIf submitting code, have you built your formula locally prior to submission with gradle check?\nIf submitting code, is your pull request against master? Unless there is a good reason otherwise, we prefer pull requests against master and will backport as needed.\nIf submitting code, have you checked that your submission is for an OS and architecture that we support?\nIf you are submitting this code for a class then read our policy for that.", "createdAt": "2020-10-07T06:55:29Z", "url": "https://github.com/elastic/elasticsearch/pull/63382", "merged": true, "mergeCommit": {"oid": "9b056e15965b2e91e5a4df4da292c2e60551d6e6"}, "closed": true, "closedAt": "2020-10-08T09:47:39Z", "author": {"login": "pgomulka"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQHUPYAH2gAyNDk5MDI3NTk1OmQyYTg1ZDIxOGIwMmEyZTVhMGEwMTZiMjc4NWRmYzZhMWM4ZTFmYzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQctnBgH2gAyNDk5MDI3NTk1OjE0NTk1MTk0N2Y4ODA3MjVjNDAzMTk1YzNjZDg4NjY0Mzk1ODc0NGQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d2a85d218b02a2e5a0a016b2785dfc6a1c8e1fc9", "author": {"user": {"login": "pgomulka", "name": "Przemyslaw Gomulka"}}, "url": "https://github.com/elastic/elasticsearch/commit/d2a85d218b02a2e5a0a016b2785dfc6a1c8e1fc9", "committedDate": "2020-10-07T06:51:28Z", "message": "Fix XContentTypeTests where version was a negative byte\n\na random byte could be -128 and when used with Math.abs it would result\nin an int 128. That in turn when casting back to byte would overflow and\nresult in -128 again.\nFixed with a randomNonNegativeByte method\n\ncloses #63342"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0MDcwODcz", "url": "https://github.com/elastic/elasticsearch/pull/63382#pullrequestreview-504070873", "createdAt": "2020-10-07T16:40:38Z", "commit": {"oid": "d2a85d218b02a2e5a0a016b2785dfc6a1c8e1fc9"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxNjo0MDozOVrOHd8Mhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxNjo0MDozOVrOHd8Mhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTE1Njk5OA==", "bodyText": "nit: just use randomByte()?", "url": "https://github.com/elastic/elasticsearch/pull/63382#discussion_r501156998", "createdAt": "2020-10-07T16:40:39Z", "author": {"login": "rjernst"}, "path": "test/framework/src/main/java/org/elasticsearch/test/ESTestCase.java", "diffHunk": "@@ -607,6 +607,11 @@ public static byte randomByte() {\n         return (byte) random().nextInt();\n     }\n \n+    public static byte randomNonNegativeByte() {\n+        byte randomByte =  (byte) random().nextInt();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2a85d218b02a2e5a0a016b2785dfc6a1c8e1fc9"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0MDk0NTAz", "url": "https://github.com/elastic/elasticsearch/pull/63382#pullrequestreview-504094503", "createdAt": "2020-10-07T17:09:22Z", "commit": {"oid": "d2a85d218b02a2e5a0a016b2785dfc6a1c8e1fc9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be07febedc05bc26a49bab95d693538ebea95430", "author": {"user": {"login": "pgomulka", "name": "Przemyslaw Gomulka"}}, "url": "https://github.com/elastic/elasticsearch/commit/be07febedc05bc26a49bab95d693538ebea95430", "committedDate": "2020-10-08T06:49:37Z", "message": "use rnadomByte()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "145951947f880725c403195c3cd886643958744d", "author": {"user": {"login": "pgomulka", "name": "Przemyslaw Gomulka"}}, "url": "https://github.com/elastic/elasticsearch/commit/145951947f880725c403195c3cd886643958744d", "committedDate": "2020-10-08T07:47:11Z", "message": "Merge branch 'master' into test/fix_negative_byte"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4342, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}