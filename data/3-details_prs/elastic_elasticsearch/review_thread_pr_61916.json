{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc4NjU5MjA1", "number": 61916, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMDo1NDoxOFrOEgVoVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMDo1NDoxOFrOEgVoVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyMzQ0Mjc2OnYy", "diffSide": "RIGHT", "path": "modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/ForEachProcessorTests.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxMDo1NDoxOFrOHNJIiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMVQxMzoxNzoyM1rOHQechw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzU0MzE3OQ==", "bodyText": "I'd stick with Collections.singletonList just for the sake of backporting", "url": "https://github.com/elastic/elasticsearch/pull/61916#discussion_r483543179", "createdAt": "2020-09-04T10:54:18Z", "author": {"login": "probakowski"}, "path": "modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/ForEachProcessorTests.java", "diffHunk": "@@ -203,8 +203,8 @@ public void testModifyFieldsOutsideArray() throws Exception {\n \n         ForEachProcessor processor = new ForEachProcessor(\n                 \"_tag\", null, \"values\", new CompoundProcessor(false,\n-                Collections.singletonList(new UppercaseProcessor(\"_tag_upper\", null, \"_ingest._value\", false, \"_ingest._value\")),\n-                Collections.singletonList(new AppendProcessor(\"_tag\", null, template, (model) -> (Collections.singletonList(\"added\"))))\n+                List.of(new UppercaseProcessor(\"_tag_upper\", null, \"_ingest._value\", false, \"_ingest._value\")),\n+                List.of(new AppendProcessor(\"_tag\", null, template, (model) -> (Collections.singletonList(\"added\")), true))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5e1530aa5c9bb7a1f482060774e46162bd73cf64"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzAzODA4Nw==", "bodyText": "The Java8-compatible implementations of List, Set, and Map in the collect package make these backports pretty easy.", "url": "https://github.com/elastic/elasticsearch/pull/61916#discussion_r487038087", "createdAt": "2020-09-11T13:17:23Z", "author": {"login": "danhermann"}, "path": "modules/ingest-common/src/test/java/org/elasticsearch/ingest/common/ForEachProcessorTests.java", "diffHunk": "@@ -203,8 +203,8 @@ public void testModifyFieldsOutsideArray() throws Exception {\n \n         ForEachProcessor processor = new ForEachProcessor(\n                 \"_tag\", null, \"values\", new CompoundProcessor(false,\n-                Collections.singletonList(new UppercaseProcessor(\"_tag_upper\", null, \"_ingest._value\", false, \"_ingest._value\")),\n-                Collections.singletonList(new AppendProcessor(\"_tag\", null, template, (model) -> (Collections.singletonList(\"added\"))))\n+                List.of(new UppercaseProcessor(\"_tag_upper\", null, \"_ingest._value\", false, \"_ingest._value\")),\n+                List.of(new AppendProcessor(\"_tag\", null, template, (model) -> (Collections.singletonList(\"added\")), true))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzU0MzE3OQ=="}, "originalCommit": {"oid": "5e1530aa5c9bb7a1f482060774e46162bd73cf64"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1699, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}