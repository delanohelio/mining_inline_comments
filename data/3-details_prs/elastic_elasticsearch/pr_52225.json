{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzczODA5MTA3", "number": 52225, "title": "Wire up Value Count", "bodyText": "I added a method on ValuesSourceRegistry for registering aggregations that can accept any type.  The (ignored) -> true lambda seemed like too much of an implementation detail, and I think the new registerAny method makes the intent clearer.  I also changed Cardinality to use this method.", "createdAt": "2020-02-11T18:18:44Z", "url": "https://github.com/elastic/elasticsearch/pull/52225", "merged": true, "mergeCommit": {"oid": "e567ecb483113a943d4b0e6a75f1240c6d0ae42e"}, "closed": true, "closedAt": "2020-02-24T20:50:40Z", "author": {"login": "not-napoleon"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcDV25_AH2gAyMzczODA5MTA3OjAwMWNiODIwZmNkYmIwZGMyOWQ3NzA1ZjcyM2MwMGExMTNmNjEzNmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHgyU2gH2gAyMzczODA5MTA3OjA2NWUwZDQ2YjJlM2Q2ZWVhZmNjODhkN2ZlZjFhMDQ5MWYxYmMxZTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "001cb820fcdbb0dc29d7705f723c00a113f6136c", "author": {"user": {"login": "not-napoleon", "name": "Mark Tozzi"}}, "url": "https://github.com/elastic/elasticsearch/commit/001cb820fcdbb0dc29d7705f723c00a113f6136c", "committedDate": "2020-02-11T18:15:50Z", "message": "Wire up Value Count"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "272c1896a54eb49f11684f46b90734dc8a7b32dc", "author": {"user": {"login": "not-napoleon", "name": "Mark Tozzi"}}, "url": "https://github.com/elastic/elasticsearch/commit/272c1896a54eb49f11684f46b90734dc8a7b32dc", "committedDate": "2020-02-11T19:02:50Z", "message": "fix checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd2b71a34480201de9153755fc3b3a38e9a20599", "author": {"user": {"login": "not-napoleon", "name": "Mark Tozzi"}}, "url": "https://github.com/elastic/elasticsearch/commit/dd2b71a34480201de9153755fc3b3a38e9a20599", "committedDate": "2020-02-12T14:39:37Z", "message": "Merge branch 'feature/extensible-values-source' into vs-refactor-wire-up-value-count"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2a0aa06c0e573b18dd5fcf58caf95aeef36c244", "author": {"user": {"login": "not-napoleon", "name": "Mark Tozzi"}}, "url": "https://github.com/elastic/elasticsearch/commit/f2a0aa06c0e573b18dd5fcf58caf95aeef36c244", "committedDate": "2020-02-19T18:23:56Z", "message": "Fix naming mistake"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxMzY5MTQ1", "url": "https://github.com/elastic/elasticsearch/pull/52225#pullrequestreview-361369145", "createdAt": "2020-02-19T19:21:34Z", "commit": {"oid": "f2a0aa06c0e573b18dd5fcf58caf95aeef36c244"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxOToyMTozNFrOFr0YMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxOToyMTozNFrOFr0YMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTQ5MTI0OQ==", "bodyText": "Out of curiosity, what would happen if an agg registered \"any\" as well as a specific type?", "url": "https://github.com/elastic/elasticsearch/pull/52225#discussion_r381491249", "createdAt": "2020-02-19T19:21:34Z", "author": {"login": "polyfractal"}, "path": "server/src/main/java/org/elasticsearch/search/aggregations/support/ValuesSourceRegistry.java", "diffHunk": "@@ -103,6 +103,19 @@ public void register(String aggregationName, List<ValuesSourceType> valuesSource\n         }, aggregatorSupplier);\n     }\n \n+    /**\n+     * Register an aggregator that applies to any values source type.  This is a convenience method for aggregations that do not care at all\n+     * about the types of their inputs.  Aggregations using this version of registration should not make any other registrations, as the", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2a0aa06c0e573b18dd5fcf58caf95aeef36c244"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad000e3f71548b2a7cf84ea3ab09524e87189135", "author": {"user": {"login": "not-napoleon", "name": "Mark Tozzi"}}, "url": "https://github.com/elastic/elasticsearch/commit/ad000e3f71548b2a7cf84ea3ab09524e87189135", "committedDate": "2020-02-19T21:08:47Z", "message": "Merge branch 'feature/extensible-values-source' into vs-refactor-wire-up-value-count"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "065e0d46b2e3d6eeafcc88d7fef1a0491f1bc1e0", "author": {"user": {"login": "not-napoleon", "name": "Mark Tozzi"}}, "url": "https://github.com/elastic/elasticsearch/commit/065e0d46b2e3d6eeafcc88d7fef1a0491f1bc1e0", "committedDate": "2020-02-24T17:15:29Z", "message": "Merge branch 'feature/extensible-values-source' into vs-refactor-wire-up-value-count"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2576, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}