{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUxMzExOTUy", "number": 59806, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxODowMzo1N1rOEPoLGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxODowNToyOVrOEPoNDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0ODIyMjk5OnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/action/DataStreamsStatsAction.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxODowMzo1N1rOGzcXDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxODo1OTo0OFrOGzd93A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjU5NTIxNQ==", "bodyText": "These options are the same for the GetDataStreams API, do those need to be updated as well?", "url": "https://github.com/elastic/elasticsearch/pull/59806#discussion_r456595215", "createdAt": "2020-07-17T18:03:57Z", "author": {"login": "jbaiera"}, "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/action/DataStreamsStatsAction.java", "diffHunk": "@@ -37,7 +37,7 @@ public DataStreamsStatsAction() {\n         public Request() {\n             // this doesn't really matter since data stream name resolution isn't affected by IndicesOptions and\n             // a data stream's backing indices are retrieved from its metadata\n-            super(null, IndicesOptions.fromOptions(false, true, true, true, false, false, true, false));\n+            super(null, IndicesOptions.fromOptions(false, true, true, true, true, false, true, false));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "92982127fad860b623e226d79d7764c3e6f8fb22"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjYwMzUxOA==", "bodyText": "I don't think so because backing indices aren't being resolved in that API.", "url": "https://github.com/elastic/elasticsearch/pull/59806#discussion_r456603518", "createdAt": "2020-07-17T18:21:50Z", "author": {"login": "danhermann"}, "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/action/DataStreamsStatsAction.java", "diffHunk": "@@ -37,7 +37,7 @@ public DataStreamsStatsAction() {\n         public Request() {\n             // this doesn't really matter since data stream name resolution isn't affected by IndicesOptions and\n             // a data stream's backing indices are retrieved from its metadata\n-            super(null, IndicesOptions.fromOptions(false, true, true, true, false, false, true, false));\n+            super(null, IndicesOptions.fromOptions(false, true, true, true, true, false, true, false));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjU5NTIxNQ=="}, "originalCommit": {"oid": "92982127fad860b623e226d79d7764c3e6f8fb22"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjYyMTUzMg==", "bodyText": "That's a good question, I don't think so (or else I would have expected us to find it much earlier) since those are retrieved differently?", "url": "https://github.com/elastic/elasticsearch/pull/59806#discussion_r456621532", "createdAt": "2020-07-17T18:59:48Z", "author": {"login": "dakrone"}, "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/action/DataStreamsStatsAction.java", "diffHunk": "@@ -37,7 +37,7 @@ public DataStreamsStatsAction() {\n         public Request() {\n             // this doesn't really matter since data stream name resolution isn't affected by IndicesOptions and\n             // a data stream's backing indices are retrieved from its metadata\n-            super(null, IndicesOptions.fromOptions(false, true, true, true, false, false, true, false));\n+            super(null, IndicesOptions.fromOptions(false, true, true, true, true, false, true, false));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjU5NTIxNQ=="}, "originalCommit": {"oid": "92982127fad860b623e226d79d7764c3e6f8fb22"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0ODIyNzk2OnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/data-streams/qa/rest/src/test/resources/rest-api-spec/test/data-streams/120_data_streams_stats.yml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxODowNToyOVrOGzcaKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxOTowMToxMFrOGzeAZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjU5NjAxMA==", "bodyText": "Is this better to test in the \"Rolled over data stream\" test case?", "url": "https://github.com/elastic/elasticsearch/pull/59806#discussion_r456596010", "createdAt": "2020-07-17T18:05:29Z", "author": {"login": "jbaiera"}, "path": "x-pack/plugin/data-streams/qa/rest/src/test/resources/rest-api-spec/test/data-streams/120_data_streams_stats.yml", "diffHunk": "@@ -47,13 +47,17 @@ setup:\n         name: simple-data-stream1\n   - is_true: acknowledged\n \n+  - do:\n+      indices.rollover:\n+        alias: \"simple-data-stream1\"\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "92982127fad860b623e226d79d7764c3e6f8fb22"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjYyMjE4Mw==", "bodyText": "That test already has a test for this behavior, I'm curious how that didn't fail prior to this, maybe something about the indices being empty triggered it?", "url": "https://github.com/elastic/elasticsearch/pull/59806#discussion_r456622183", "createdAt": "2020-07-17T19:01:10Z", "author": {"login": "dakrone"}, "path": "x-pack/plugin/data-streams/qa/rest/src/test/resources/rest-api-spec/test/data-streams/120_data_streams_stats.yml", "diffHunk": "@@ -47,13 +47,17 @@ setup:\n         name: simple-data-stream1\n   - is_true: acknowledged\n \n+  - do:\n+      indices.rollover:\n+        alias: \"simple-data-stream1\"\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjU5NjAxMA=="}, "originalCommit": {"oid": "92982127fad860b623e226d79d7764c3e6f8fb22"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2202, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}