{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzNjI2NjA5", "number": 56230, "title": "Retry failed replication due to transient errors", "bodyText": "Currently a failed replication action will fail an entire replica. This\nincludes when replication fails due to potentially short lived transient\nissues such as network distruptions or circuit breaking errors.\nThis commit implements retries using the retryable action.", "createdAt": "2020-05-05T16:36:08Z", "url": "https://github.com/elastic/elasticsearch/pull/56230", "merged": true, "mergeCommit": {"oid": "2074412d79f47941e5ee8b0044f5971570b0ba42"}, "closed": true, "closedAt": "2020-06-17T16:17:31Z", "author": {"login": "tbrooks8"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceWwQlAH2gAyNDEzNjI2NjA5OjY2YzY1ODJjZTRkNmViMGNkNjQyOWJmZDg2N2Q4YjExMzlkMDVjOWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcsLhB7gFqTQzMjUxNzI3MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "66c6582ce4d6eb0cd6429bfd867d8b1139d05c9d", "author": {"user": {"login": "tbrooks8", "name": "Tim Brooks"}}, "url": "https://github.com/elastic/elasticsearch/commit/66c6582ce4d6eb0cd6429bfd867d8b1139d05c9d", "committedDate": "2020-05-05T16:34:26Z", "message": "Retry failed replication due to transient errors (#55633)\n\nCurrently a failed replication action will fail an entire replica. This\nincludes when replication fails due to potentially short lived transient\nissues such as network distruptions or circuit breaking errors.\n\nThis commit implements retries using the retryable action."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81946fce6ce03578781a4ab39c706bf808215a00", "author": {"user": {"login": "tbrooks8", "name": "Tim Brooks"}}, "url": "https://github.com/elastic/elasticsearch/commit/81946fce6ce03578781a4ab39c706bf808215a00", "committedDate": "2020-06-17T15:09:45Z", "message": "Merge remote-tracking branch 'upstream/7.x' into backport_replication_retries"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2520d69c9582d6b0fbb3a43d10170b2a48ba89e2", "author": {"user": {"login": "tbrooks8", "name": "Tim Brooks"}}, "url": "https://github.com/elastic/elasticsearch/commit/2520d69c9582d6b0fbb3a43d10170b2a48ba89e2", "committedDate": "2020-06-17T15:13:45Z", "message": "0"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyNTEwODIy", "url": "https://github.com/elastic/elasticsearch/pull/56230#pullrequestreview-432510822", "createdAt": "2020-06-17T15:17:19Z", "commit": {"oid": "2520d69c9582d6b0fbb3a43d10170b2a48ba89e2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNToxNzoxOVrOGlKx-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNToxNzoxOVrOGlKx-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTYyNzEyOA==", "bodyText": "I have adjusted this to 0 to disable retries until back pressure is implemented.", "url": "https://github.com/elastic/elasticsearch/pull/56230#discussion_r441627128", "createdAt": "2020-06-17T15:17:19Z", "author": {"login": "tbrooks8"}, "path": "server/src/main/java/org/elasticsearch/action/support/replication/TransportReplicationAction.java", "diffHunk": "@@ -96,6 +98,21 @@\n             Response extends ReplicationResponse\n         > extends TransportAction<Request, Response> {\n \n+    /**\n+     * The timeout for retrying replication requests.\n+     */\n+    public static final Setting<TimeValue> REPLICATION_RETRY_TIMEOUT =\n+        Setting.timeSetting(\"indices.replication.retry_timeout\", TimeValue.timeValueSeconds(0), Setting.Property.Dynamic,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2520d69c9582d6b0fbb3a43d10170b2a48ba89e2"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyNTE3Mjcw", "url": "https://github.com/elastic/elasticsearch/pull/56230#pullrequestreview-432517270", "createdAt": "2020-06-17T15:23:47Z", "commit": {"oid": "2520d69c9582d6b0fbb3a43d10170b2a48ba89e2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 123, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}