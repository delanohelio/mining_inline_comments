{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk1NzI1OTMx", "number": 54437, "title": "Do not execute ML CRUD actions when upgrade mode is enabled", "bodyText": "This PR does not allow ML CRUD actions to be executed when ML upgrade mode is enabled.\nThis is achieved using MlUpgradeModeActionFilter that keeps track of current cluster state so it knows whether upgrade mode is currently enabled.\nRelates #54326", "createdAt": "2020-03-30T15:27:23Z", "url": "https://github.com/elastic/elasticsearch/pull/54437", "merged": true, "mergeCommit": {"oid": "2c6df68ea797689afb408accdd01db99417f0612"}, "closed": true, "closedAt": "2020-04-10T11:39:43Z", "author": {"login": "przemekwitek"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTD1PtgBqjMxODM1MzkyMDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcWOVMPAH2gAyMzk1NzI1OTMxOmM4NzM0MjNmZWZjZjgyZDZhMjlhODQ2MTAyMTU5ZWM2YWRlYjdlOGM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3bc492ebd52ef478a4153ad14bd5a5a83c1fc6c6", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/3bc492ebd52ef478a4153ad14bd5a5a83c1fc6c6", "committedDate": "2020-03-30T15:25:47Z", "message": "Upgrade Mode Exception PoC"}, "afterCommit": {"oid": "b036f0ee62037d8fa26233b02627bb691d61ccdd", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/b036f0ee62037d8fa26233b02627bb691d61ccdd", "committedDate": "2020-03-31T14:18:21Z", "message": "Upgrade Mode Exception PoC"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b036f0ee62037d8fa26233b02627bb691d61ccdd", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/b036f0ee62037d8fa26233b02627bb691d61ccdd", "committedDate": "2020-03-31T14:18:21Z", "message": "Upgrade Mode Exception PoC"}, "afterCommit": {"oid": "2f76697a47075c5807c0509263abb5c3cb1801bc", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/2f76697a47075c5807c0509263abb5c3cb1801bc", "committedDate": "2020-03-31T14:19:58Z", "message": "Upgrade Mode Exception PoC"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2f76697a47075c5807c0509263abb5c3cb1801bc", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/2f76697a47075c5807c0509263abb5c3cb1801bc", "committedDate": "2020-03-31T14:19:58Z", "message": "Upgrade Mode Exception PoC"}, "afterCommit": {"oid": "3366a26dfa72fbb7e8f90207ec7f09d4acc37c23", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/3366a26dfa72fbb7e8f90207ec7f09d4acc37c23", "committedDate": "2020-04-06T17:37:47Z", "message": "Upgrade Mode Exception PoC"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3366a26dfa72fbb7e8f90207ec7f09d4acc37c23", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/3366a26dfa72fbb7e8f90207ec7f09d4acc37c23", "committedDate": "2020-04-06T17:37:47Z", "message": "Upgrade Mode Exception PoC"}, "afterCommit": {"oid": "1c988e7b27f0c6f7fc2478f5174cac5ebeee146c", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/1c988e7b27f0c6f7fc2478f5174cac5ebeee146c", "committedDate": "2020-04-07T12:27:28Z", "message": "Upgrade Mode Exception PoC"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1c988e7b27f0c6f7fc2478f5174cac5ebeee146c", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/1c988e7b27f0c6f7fc2478f5174cac5ebeee146c", "committedDate": "2020-04-07T12:27:28Z", "message": "Upgrade Mode Exception PoC"}, "afterCommit": {"oid": "fa06171652a92418ce23f0762fb7bdf44545724f", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/fa06171652a92418ce23f0762fb7bdf44545724f", "committedDate": "2020-04-07T17:34:13Z", "message": "Upgrade Mode Exception PoC"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fa06171652a92418ce23f0762fb7bdf44545724f", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/fa06171652a92418ce23f0762fb7bdf44545724f", "committedDate": "2020-04-07T17:34:13Z", "message": "Upgrade Mode Exception PoC"}, "afterCommit": {"oid": "a14d8c8e82e1fdbe0cec468fa58d58ebefc1a92c", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/a14d8c8e82e1fdbe0cec468fa58d58ebefc1a92c", "committedDate": "2020-04-07T17:36:59Z", "message": "Upgrade Mode Exception PoC"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a14d8c8e82e1fdbe0cec468fa58d58ebefc1a92c", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/a14d8c8e82e1fdbe0cec468fa58d58ebefc1a92c", "committedDate": "2020-04-07T17:36:59Z", "message": "Upgrade Mode Exception PoC"}, "afterCommit": {"oid": "0415142698550b51007f50ba7acbb512ec96d2f0", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/0415142698550b51007f50ba7acbb512ec96d2f0", "committedDate": "2020-04-07T17:41:37Z", "message": "Upgrade Mode Exception PoC"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0415142698550b51007f50ba7acbb512ec96d2f0", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/0415142698550b51007f50ba7acbb512ec96d2f0", "committedDate": "2020-04-07T17:41:37Z", "message": "Upgrade Mode Exception PoC"}, "afterCommit": {"oid": "c1bac1ff230056cea309956effacced43d774545", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/c1bac1ff230056cea309956effacced43d774545", "committedDate": "2020-04-07T17:46:33Z", "message": "Implement MlUpgradeModeActionFilter"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c1bac1ff230056cea309956effacced43d774545", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/c1bac1ff230056cea309956effacced43d774545", "committedDate": "2020-04-07T17:46:33Z", "message": "Implement MlUpgradeModeActionFilter"}, "afterCommit": {"oid": "6ee58fc959921042db52b70ccd729db27c31ca06", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/6ee58fc959921042db52b70ccd729db27c31ca06", "committedDate": "2020-04-07T17:58:26Z", "message": "Implement MlUpgradeModeActionFilter"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6ee58fc959921042db52b70ccd729db27c31ca06", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/6ee58fc959921042db52b70ccd729db27c31ca06", "committedDate": "2020-04-07T17:58:26Z", "message": "Implement MlUpgradeModeActionFilter"}, "afterCommit": {"oid": "d6c4281e7813e5c0ebad38c784b1432fe498264c", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/d6c4281e7813e5c0ebad38c784b1432fe498264c", "committedDate": "2020-04-08T06:20:04Z", "message": "Implement MlUpgradeModeActionFilter"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d6c4281e7813e5c0ebad38c784b1432fe498264c", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/d6c4281e7813e5c0ebad38c784b1432fe498264c", "committedDate": "2020-04-08T06:20:04Z", "message": "Implement MlUpgradeModeActionFilter"}, "afterCommit": {"oid": "db31c857b7e89d278b6238897dc32b4325ae976f", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/db31c857b7e89d278b6238897dc32b4325ae976f", "committedDate": "2020-04-08T06:42:21Z", "message": "Implement MlUpgradeModeActionFilter"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "db31c857b7e89d278b6238897dc32b4325ae976f", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/db31c857b7e89d278b6238897dc32b4325ae976f", "committedDate": "2020-04-08T06:42:21Z", "message": "Implement MlUpgradeModeActionFilter"}, "afterCommit": {"oid": "a9e88d7c9a723adf7a37554a057383c2b14be97f", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/a9e88d7c9a723adf7a37554a057383c2b14be97f", "committedDate": "2020-04-08T07:37:22Z", "message": "Implement MlUpgradeModeActionFilter"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a9e88d7c9a723adf7a37554a057383c2b14be97f", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/a9e88d7c9a723adf7a37554a057383c2b14be97f", "committedDate": "2020-04-08T07:37:22Z", "message": "Implement MlUpgradeModeActionFilter"}, "afterCommit": {"oid": "e112af1b4c804f37322b55b86865f8907e73fd05", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/e112af1b4c804f37322b55b86865f8907e73fd05", "committedDate": "2020-04-08T07:38:56Z", "message": "Implement MlUpgradeModeActionFilter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5NzU0Mjk2", "url": "https://github.com/elastic/elasticsearch/pull/54437#pullrequestreview-389754296", "createdAt": "2020-04-08T08:24:01Z", "commit": {"oid": "e112af1b4c804f37322b55b86865f8907e73fd05"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQwODoyNDowMVrOGCkTPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQwODoyNDowMVrOGCkTPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTM0NTA4NA==", "bodyText": "Please add a comment here to say that the key requirement is that this filter operates after the security action filter so that an unauthorised user gets told they're unauthorised instead of finding out whether upgrade mode is enabled.\nIt's not hard to achieve this as security's order is Integer.MIN_VALUE so any number greater than that would work.  So the actual number is not that important, but the reasoning behind it is.", "url": "https://github.com/elastic/elasticsearch/pull/54437#discussion_r405345084", "createdAt": "2020-04-08T08:24:01Z", "author": {"login": "droberts195"}, "path": "x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/MlUpgradeModeActionFilter.java", "diffHunk": "@@ -0,0 +1,142 @@\n+/*\n+ * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n+ * or more contributor license agreements. Licensed under the Elastic License;\n+ * you may not use this file except in compliance with the Elastic License.\n+ */\n+package org.elasticsearch.xpack.ml;\n+\n+import org.elasticsearch.ElasticsearchStatusException;\n+import org.elasticsearch.action.ActionListener;\n+import org.elasticsearch.action.ActionRequest;\n+import org.elasticsearch.action.support.ActionFilter;\n+import org.elasticsearch.cluster.ClusterChangedEvent;\n+import org.elasticsearch.cluster.service.ClusterService;\n+import org.elasticsearch.rest.RestStatus;\n+import org.elasticsearch.xpack.core.ml.MlMetadata;\n+import org.elasticsearch.xpack.core.ml.action.CloseJobAction;\n+import org.elasticsearch.xpack.core.ml.action.DeleteCalendarAction;\n+import org.elasticsearch.xpack.core.ml.action.DeleteCalendarEventAction;\n+import org.elasticsearch.xpack.core.ml.action.DeleteDataFrameAnalyticsAction;\n+import org.elasticsearch.xpack.core.ml.action.DeleteDatafeedAction;\n+import org.elasticsearch.xpack.core.ml.action.DeleteExpiredDataAction;\n+import org.elasticsearch.xpack.core.ml.action.DeleteFilterAction;\n+import org.elasticsearch.xpack.core.ml.action.DeleteForecastAction;\n+import org.elasticsearch.xpack.core.ml.action.DeleteJobAction;\n+import org.elasticsearch.xpack.core.ml.action.DeleteModelSnapshotAction;\n+import org.elasticsearch.xpack.core.ml.action.DeleteTrainedModelAction;\n+import org.elasticsearch.xpack.core.ml.action.FinalizeJobExecutionAction;\n+import org.elasticsearch.xpack.core.ml.action.FlushJobAction;\n+import org.elasticsearch.xpack.core.ml.action.ForecastJobAction;\n+import org.elasticsearch.xpack.core.ml.action.KillProcessAction;\n+import org.elasticsearch.xpack.core.ml.action.OpenJobAction;\n+import org.elasticsearch.xpack.core.ml.action.PersistJobAction;\n+import org.elasticsearch.xpack.core.ml.action.PostCalendarEventsAction;\n+import org.elasticsearch.xpack.core.ml.action.PostDataAction;\n+import org.elasticsearch.xpack.core.ml.action.PutCalendarAction;\n+import org.elasticsearch.xpack.core.ml.action.PutDataFrameAnalyticsAction;\n+import org.elasticsearch.xpack.core.ml.action.PutDatafeedAction;\n+import org.elasticsearch.xpack.core.ml.action.PutFilterAction;\n+import org.elasticsearch.xpack.core.ml.action.PutJobAction;\n+import org.elasticsearch.xpack.core.ml.action.PutTrainedModelAction;\n+import org.elasticsearch.xpack.core.ml.action.RevertModelSnapshotAction;\n+import org.elasticsearch.xpack.core.ml.action.StartDataFrameAnalyticsAction;\n+import org.elasticsearch.xpack.core.ml.action.StartDatafeedAction;\n+import org.elasticsearch.xpack.core.ml.action.StopDataFrameAnalyticsAction;\n+import org.elasticsearch.xpack.core.ml.action.StopDatafeedAction;\n+import org.elasticsearch.xpack.core.ml.action.UpdateCalendarJobAction;\n+import org.elasticsearch.xpack.core.ml.action.UpdateDatafeedAction;\n+import org.elasticsearch.xpack.core.ml.action.UpdateFilterAction;\n+import org.elasticsearch.xpack.core.ml.action.UpdateJobAction;\n+import org.elasticsearch.xpack.core.ml.action.UpdateModelSnapshotAction;\n+import org.elasticsearch.xpack.core.ml.action.UpdateProcessAction;\n+\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.HashSet;\n+import java.util.Objects;\n+import java.util.Set;\n+import java.util.concurrent.atomic.AtomicBoolean;\n+\n+/**\n+ * {@link MlUpgradeModeActionFilter} disallows certain actions if the cluster is currently in upgrade mode.\n+ *\n+ * Disallowed actions are the ones which can access/alter the state of ML internal indices.\n+ */\n+class MlUpgradeModeActionFilter extends ActionFilter.Simple {\n+\n+    private static final Set<String> ACTIONS_DISALLOWED_IN_UPGRADE_MODE =\n+        Collections.unmodifiableSet(new HashSet<>(Arrays.asList(\n+            PutJobAction.NAME,\n+            UpdateJobAction.NAME,\n+            DeleteJobAction.NAME,\n+            OpenJobAction.NAME,\n+            FlushJobAction.NAME,\n+            CloseJobAction.NAME,\n+            PersistJobAction.NAME,\n+\n+            FinalizeJobExecutionAction.NAME,\n+            PostDataAction.NAME,\n+\n+            RevertModelSnapshotAction.NAME,\n+            UpdateModelSnapshotAction.NAME,\n+            DeleteModelSnapshotAction.NAME,\n+\n+            PutDatafeedAction.NAME,\n+            UpdateDatafeedAction.NAME,\n+            DeleteDatafeedAction.NAME,\n+            StartDatafeedAction.NAME,\n+            StopDatafeedAction.NAME,\n+\n+            PutFilterAction.NAME,\n+            UpdateFilterAction.NAME,\n+            DeleteFilterAction.NAME,\n+\n+            PutCalendarAction.NAME,\n+            UpdateCalendarJobAction.NAME,\n+            PostCalendarEventsAction.NAME,\n+            DeleteCalendarAction.NAME,\n+            DeleteCalendarEventAction.NAME,\n+\n+            UpdateProcessAction.NAME,\n+            KillProcessAction.NAME,\n+\n+            DeleteExpiredDataAction.NAME,\n+\n+            ForecastJobAction.NAME,\n+            DeleteForecastAction.NAME,\n+\n+            PutDataFrameAnalyticsAction.NAME,\n+            DeleteDataFrameAnalyticsAction.NAME,\n+            StartDataFrameAnalyticsAction.NAME,\n+            StopDataFrameAnalyticsAction.NAME,\n+\n+            PutTrainedModelAction.NAME,\n+            DeleteTrainedModelAction.NAME\n+        )));\n+\n+    private final AtomicBoolean isUpgradeMode = new AtomicBoolean();\n+\n+    MlUpgradeModeActionFilter(ClusterService clusterService) {\n+        Objects.requireNonNull(clusterService);\n+        clusterService.addListener(this::setIsUpgradeMode);\n+    }\n+\n+    @Override\n+    protected boolean apply(String action, ActionRequest request, ActionListener<?> listener) {\n+        if (isUpgradeMode.get() && ACTIONS_DISALLOWED_IN_UPGRADE_MODE.contains(action)) {\n+            throw new ElasticsearchStatusException(\n+                \"Cannot perform {} action while upgrade mode is enabled\", RestStatus.TOO_MANY_REQUESTS, action);\n+        }\n+        return true;\n+    }\n+\n+    @Override\n+    public int order() {\n+        return 666;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e112af1b4c804f37322b55b86865f8907e73fd05"}, "originalPosition": 135}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5ODE5Mjk0", "url": "https://github.com/elastic/elasticsearch/pull/54437#pullrequestreview-389819294", "createdAt": "2020-04-08T09:48:05Z", "commit": {"oid": "f1a2fc625f64b1cf4077bf038fe4e9ef0b29c3fd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dca48de46f9def88be8f19423b0c9f781b59d20b", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/dca48de46f9def88be8f19423b0c9f781b59d20b", "committedDate": "2020-04-10T07:26:17Z", "message": "Implement MlUpgradeModeActionFilter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32e3bc650209e170b03653c9367fb59bcdcc6f94", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/32e3bc650209e170b03653c9367fb59bcdcc6f94", "committedDate": "2020-04-10T07:26:17Z", "message": "Disable upgrade mode in test cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c3fec431083256c7ce236d5341af15d4282c6d8", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/7c3fec431083256c7ce236d5341af15d4282c6d8", "committedDate": "2020-04-10T07:26:18Z", "message": "Add comment and unit test for MlUpgradeModeActionFilter::order method"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f1a2fc625f64b1cf4077bf038fe4e9ef0b29c3fd", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/f1a2fc625f64b1cf4077bf038fe4e9ef0b29c3fd", "committedDate": "2020-04-08T09:31:17Z", "message": "Add comment and unit test for MlUpgradeModeActionFilter::order method"}, "afterCommit": {"oid": "7c3fec431083256c7ce236d5341af15d4282c6d8", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/7c3fec431083256c7ce236d5341af15d4282c6d8", "committedDate": "2020-04-10T07:26:18Z", "message": "Add comment and unit test for MlUpgradeModeActionFilter::order method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c873423fefcf82d6a29a846102159ec6adeb7e8c", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/c873423fefcf82d6a29a846102159ec6adeb7e8c", "committedDate": "2020-04-10T10:14:14Z", "message": "Extract testJobOpenActionInUpgradeMode test case out of testEnableUpgradeMode"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1338, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}