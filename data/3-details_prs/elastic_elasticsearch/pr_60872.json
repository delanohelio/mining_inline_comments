{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY1MzU2MzQ0", "number": 60872, "title": "Deprecate and ignore join timeout", "bodyText": "There is no point in timing out a join attempt any more once a cluster\nis entirely in 7.x. Timing out and retrying with the same master is\npointless, and an in-flight join attempt to one master no longer blocks\nattempts to join other masters. This commit deprecates this unnecessary\nsetting and removes its effect from the joining process.\nRelates #60873 which removes this setting in master.", "createdAt": "2020-08-10T08:32:46Z", "url": "https://github.com/elastic/elasticsearch/pull/60872", "merged": true, "mergeCommit": {"oid": "f44c28b59512e0908cf6a189c44563f5826800b7"}, "closed": true, "closedAt": "2020-08-10T12:57:41Z", "author": {"login": "DaveCTurner"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc9d89zAH2gAyNDY1MzU2MzQ0OjhiOTRkZTFmNzQ0ZDEwM2RmY2U2MTA2NzQ0M2I0MTJkNzI5OWUxYjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc9f4VTgH2gAyNDY1MzU2MzQ0Ojc4MTY1MDE1MmQ5N2RiOWJmYmI5ZDk5YTg4ZDQwZWFhY2JlYmM3NTk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8b94de1f744d103dfce61067443b412d7299e1b5", "author": {"user": {"login": "DaveCTurner", "name": "David Turner"}}, "url": "https://github.com/elastic/elasticsearch/commit/8b94de1f744d103dfce61067443b412d7299e1b5", "committedDate": "2020-08-10T08:29:18Z", "message": "Deprecate and ignore join timeout\n\nThere is no point in timing out a join attempt any more once a cluster\nis entirely in 7.x. Timing out and retrying with the same master is\npointless, and an in-flight join attempt to one master no longer blocks\nattempts to join other masters. This commit deprecates this unnecessary\nsetting and removes its effect from the joining process."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0MDQ2MTI0", "url": "https://github.com/elastic/elasticsearch/pull/60872#pullrequestreview-464046124", "createdAt": "2020-08-10T08:38:14Z", "commit": {"oid": "8b94de1f744d103dfce61067443b412d7299e1b5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQwODozODoxNFrOG-F2AQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQwODozODoxNFrOG-F2AQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Nzc2MDY0MQ==", "bodyText": "We probably don't need this for Zen1 joining too, although there's some complexity with the process of bootstrapping the cluster during a rolling upgrade. Rather than spend any time on the analysis I decided to leave the behaviour in mixed-version clusters alone.", "url": "https://github.com/elastic/elasticsearch/pull/60872#discussion_r467760641", "createdAt": "2020-08-10T08:38:14Z", "author": {"login": "DaveCTurner"}, "path": "server/src/main/java/org/elasticsearch/cluster/coordination/JoinHelper.java", "diffHunk": "@@ -83,22 +83,21 @@\n     public static final String VALIDATE_JOIN_ACTION_NAME = \"internal:cluster/coordination/join/validate\";\n     public static final String START_JOIN_ACTION_NAME = \"internal:cluster/coordination/start_join\";\n \n-    // the timeout for each join attempt", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b94de1f744d103dfce61067443b412d7299e1b5"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7bfc9e2653696a3ed6efb2382ef7da89b9e8456", "author": {"user": {"login": "DaveCTurner", "name": "David Turner"}}, "url": "https://github.com/elastic/elasticsearch/commit/e7bfc9e2653696a3ed6efb2382ef7da89b9e8456", "committedDate": "2020-08-10T08:56:20Z", "message": "Precommit"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0MDc1ODYy", "url": "https://github.com/elastic/elasticsearch/pull/60872#pullrequestreview-464075862", "createdAt": "2020-08-10T09:24:12Z", "commit": {"oid": "e7bfc9e2653696a3ed6efb2382ef7da89b9e8456"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "781650152d97db9bfbb9d99a88d40eaacbebc759", "author": {"user": {"login": "DaveCTurner", "name": "David Turner"}}, "url": "https://github.com/elastic/elasticsearch/commit/781650152d97db9bfbb9d99a88d40eaacbebc759", "committedDate": "2020-08-10T10:44:03Z", "message": "Merge branch '7.x' into 2020-08-10-deprecate-join-timeout"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3330, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}