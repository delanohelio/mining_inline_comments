{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzNzk1NzA3", "number": 53132, "title": "VS refactoring: convert Boxplot to new registry", "bodyText": "Also adds some tests for scripting and supported types.   I think this is the last blocker for moving the histo type over.\nTrying out the fancy new \"request review from team\" feature to see how that works :)", "createdAt": "2020-03-04T19:05:15Z", "url": "https://github.com/elastic/elasticsearch/pull/53132", "merged": true, "mergeCommit": {"oid": "9923466af9f2fdb46e687186c0cbaeff06d68fcd"}, "closed": true, "closedAt": "2020-03-05T21:32:28Z", "author": {"login": "polyfractal"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKbsKeAH2gAyMzgzNzk1NzA3OmVkNmI3NmNkZjkwMDk4ZTY5MzY4MmYyMjgyMmNlZDk3MGFjMzQ0NmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKwuDMAH2gAyMzgzNzk1NzA3OmVmMzBmMmU2MWU1M2U2NTQ0NWYxZmE3ZGUwZDYwZjU2YTY3YzI2MGE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ed6b76cdf90098e693682f22822ced970ac3446d", "author": {"user": {"login": "polyfractal", "name": "Zachary Tong"}}, "url": "https://github.com/elastic/elasticsearch/commit/ed6b76cdf90098e693682f22822ced970ac3446d", "committedDate": "2020-03-04T19:01:00Z", "message": "Convert Boxplot to new VS registry"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5MDk1NTIy", "url": "https://github.com/elastic/elasticsearch/pull/53132#pullrequestreview-369095522", "createdAt": "2020-03-04T20:23:18Z", "commit": {"oid": "ed6b76cdf90098e693682f22822ced970ac3446d"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQyMDoyMzoxOFrOFx8XMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQyMDoyMzoxOFrOFx8XMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzkxMzUyMg==", "bodyText": "@talevy showed me that in cases like this, we can use a lambda with a type cast.  Since BoxplotAggregator already just takes a ValuesSource directly (as opposed to needing a cast), I think we can just say (BoxplotAggregationSupplier) BoxplotAggregator::new here.  We'll also need to add the @FunctionalInterface annotation to BoxplotAggregationSupplier.", "url": "https://github.com/elastic/elasticsearch/pull/53132#discussion_r387913522", "createdAt": "2020-03-04T20:23:18Z", "author": {"login": "not-napoleon"}, "path": "x-pack/plugin/analytics/src/main/java/org/elasticsearch/xpack/analytics/boxplot/BoxplotAggregatorFactory.java", "diffHunk": "@@ -24,6 +29,24 @@\n \n     private final double compression;\n \n+    static void registerAggregators(ValuesSourceRegistry valuesSourceRegistry) {\n+        valuesSourceRegistry.register(BoxplotAggregationBuilder.NAME,\n+            CoreValuesSourceType.NUMERIC, new BoxplotAggregatorSupplier() {\n+                @Override", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ed6b76cdf90098e693682f22822ced970ac3446d"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2093d38398a9885fee94c981f5cbf09e149d5f18", "author": {"user": {"login": "polyfractal", "name": "Zachary Tong"}}, "url": "https://github.com/elastic/elasticsearch/commit/2093d38398a9885fee94c981f5cbf09e149d5f18", "committedDate": "2020-03-05T19:12:48Z", "message": "Add missing HISTOGRAM supported VST, address review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef30f2e61e53e65445f1fa7de0d60f56a67c260a", "author": {"user": {"login": "polyfractal", "name": "Zachary Tong"}}, "url": "https://github.com/elastic/elasticsearch/commit/ef30f2e61e53e65445f1fa7de0d60f56a67c260a", "committedDate": "2020-03-05T19:31:04Z", "message": "checkstyle"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1758, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}