{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwNTc2NDQ2", "number": 52858, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QwMjowNTowN1rODjTwXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QwMjowNTowN1rODjTwXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4MzUwNDI4OnYy", "diffSide": "RIGHT", "path": "plugins/repository-hdfs/build.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QwMjowNTowN1rOFvC7IA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QxNjowOTo1MlrOFvXUPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDg3NTI5Ng==", "bodyText": "not hugely important, but the path here will be \"${workingDir}/ports/ports\" right? Maybe name the file \"hdfsPorts\" or something like that", "url": "https://github.com/elastic/elasticsearch/pull/52858#discussion_r384875296", "createdAt": "2020-02-27T02:05:07Z", "author": {"login": "rjernst"}, "path": "plugins/repository-hdfs/build.gradle", "diffHunk": "@@ -152,20 +152,29 @@ for (String integTestTaskName : ['integTestHa', 'integTestSecure', 'integTestSec\n     runner {\n       onlyIf { BuildParams.inFipsJvm == false }\n       if (integTestTaskName.contains(\"Ha\")) {\n+        Path portsFile\n+        File portsFileDir = file(\"${workingDir}/ports\")\n         if (integTestTaskName.contains(\"Secure\")) {\n-          Path path = buildDir.toPath()\n+          portsFile = buildDir.toPath()\n             .resolve(\"fixtures\")\n             .resolve(\"secureHaHdfsFixture\")\n             .resolve(\"ports\")\n-          nonInputProperties.systemProperty \"test.hdfs-fixture.ports\", path\n         } else {\n-          Path path = buildDir.toPath()\n+          portsFile = buildDir.toPath()\n             .resolve(\"fixtures\")\n             .resolve(\"haHdfsFixture\")\n             .resolve(\"ports\")\n-          nonInputProperties.systemProperty \"test.hdfs-fixture.ports\", path\n         }\n-        classpath += files(\"$buildDir/fixtures\")\n+        nonInputProperties.systemProperty \"test.hdfs-fixture.ports\", file(\"$portsFileDir/ports\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a4df64b3b51f6577b8d702a0654d92d6b5c0a176"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTIwOTQwNw==", "bodyText": "I've renamed this directory hdfsFixture to be most accurate.", "url": "https://github.com/elastic/elasticsearch/pull/52858#discussion_r385209407", "createdAt": "2020-02-27T16:09:52Z", "author": {"login": "mark-vieira"}, "path": "plugins/repository-hdfs/build.gradle", "diffHunk": "@@ -152,20 +152,29 @@ for (String integTestTaskName : ['integTestHa', 'integTestSecure', 'integTestSec\n     runner {\n       onlyIf { BuildParams.inFipsJvm == false }\n       if (integTestTaskName.contains(\"Ha\")) {\n+        Path portsFile\n+        File portsFileDir = file(\"${workingDir}/ports\")\n         if (integTestTaskName.contains(\"Secure\")) {\n-          Path path = buildDir.toPath()\n+          portsFile = buildDir.toPath()\n             .resolve(\"fixtures\")\n             .resolve(\"secureHaHdfsFixture\")\n             .resolve(\"ports\")\n-          nonInputProperties.systemProperty \"test.hdfs-fixture.ports\", path\n         } else {\n-          Path path = buildDir.toPath()\n+          portsFile = buildDir.toPath()\n             .resolve(\"fixtures\")\n             .resolve(\"haHdfsFixture\")\n             .resolve(\"ports\")\n-          nonInputProperties.systemProperty \"test.hdfs-fixture.ports\", path\n         }\n-        classpath += files(\"$buildDir/fixtures\")\n+        nonInputProperties.systemProperty \"test.hdfs-fixture.ports\", file(\"$portsFileDir/ports\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDg3NTI5Ng=="}, "originalCommit": {"oid": "a4df64b3b51f6577b8d702a0654d92d6b5c0a176"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3671, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}