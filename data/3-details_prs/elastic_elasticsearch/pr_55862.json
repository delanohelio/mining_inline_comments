{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwMTU1MjY3", "number": 55862, "title": "[DOCS] Add collapsible sections to 8.0 breaking changes [Part 2]", "bodyText": "Adds collapsible sections to the 8.0 breaking changes.\nTo make reviews easier and avoid introducing errors, I've\ntried to limit my changes to formatting, with the exception\nof rewording heading as sentences.\nI'm also splitting this effort over several PRs to make reviews\nmanageable.\nRelates to #55629 and #53229\nPreview\nhttp://elasticsearch_55862.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/breaking-changes-8.0.html", "createdAt": "2020-04-28T14:27:31Z", "url": "https://github.com/elastic/elasticsearch/pull/55862", "merged": true, "mergeCommit": {"oid": "e3e1e3ee89b507cea2ff700fd3198e6ceec451ed"}, "closed": true, "closedAt": "2020-05-05T13:44:30Z", "author": {"login": "jrodewig"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccEtRjAH2gAyNDEwMTU1MjY3OjAzZGUxOGU1M2EzZDcyOTI2YjhlMWE5MmQxYzRmMTU0YjA0MDMxMzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABceJRvaAFqTQwNTQ0MDI3NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "03de18e53a3d72926b8e1a92d1c4f154b0403138", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/03de18e53a3d72926b8e1a92d1c4f154b0403138", "committedDate": "2020-04-28T14:25:02Z", "message": "[DOCS] Add collapsible sections to 8.0 breaking changes [Part 2]"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MjUwMjQ5", "url": "https://github.com/elastic/elasticsearch/pull/55862#pullrequestreview-405250249", "createdAt": "2020-05-04T18:43:08Z", "commit": {"oid": "03de18e53a3d72926b8e1a92d1c4f154b0403138"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxODo0MzowOFrOGQNTCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxODo1MzowNVrOGQNpfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY0ODI2NA==", "bodyText": "I'd be inclined to flip this around to lead with what you should do:\n\nUse POST /_cluster/voting_config_exclusions?node_ids=... and specify the nodes to exclude instead of using a node filter.  Submitting requests to the  /_cluster/voting_config_exclusions/{node_filter}` endpoint will throw an error.", "url": "https://github.com/elastic/elasticsearch/pull/55862#discussion_r419648264", "createdAt": "2020-05-04T18:43:08Z", "author": {"login": "debadair"}, "path": "docs/reference/migration/migrate_8_0/cluster.asciidoc", "diffHunk": "@@ -9,10 +9,17 @@\n \n // end::notable-breaking-changes[]\n \n-[float]\n-==== Change to API to add voting configuration exclusions\n-\n+.The voting configuration exclusions API endpoint has changed.\n+[%collapsible]\n+====\n+*Details* +\n The `POST /_cluster/voting_config_exclusions/{node_filter}` API has been\n removed in favour of `POST /_cluster/voting_config_exclusions?node_names=...`\n and `POST /_cluster/voting_config_exclusions?node_ids=...` which allow you to\n specify the names or IDs of the nodes to exclude.\n+\n+*Impact* +\n+To avoid errors, discontinue use of the `POST\n+/_cluster/voting_config_exclusions/{node_filter}` API endpoint.\n+Use `POST /_cluster/voting_config_exclusions?node_ids=...` instead.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03de18e53a3d72926b8e1a92d1c4f154b0403138"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY1Mjg5Ng==", "bodyText": "\"unset and discontinue use\" seems redundant. Again, I'd lead with the recommended action, something like:\n\nDiscontinue using the discovery.zen settings. Specifying these settings in elasticsearch.yml will result in an error on startup.", "url": "https://github.com/elastic/elasticsearch/pull/55862#discussion_r419652896", "createdAt": "2020-05-04T18:51:08Z", "author": {"login": "debadair"}, "path": "docs/reference/migration/migrate_8_0/discovery.asciidoc", "diffHunk": "@@ -37,3 +39,7 @@ are no longer supported. In particular, this includes:\n - `discovery.zen.master_election.wait_for_joins_timeout`\n - `discovery.zen.master_election.ignore_non_master_pings`\n - `discovery.zen.publish.max_pending_cluster_states`\n+\n+*Impact* +\n+To avoid errors, unset and discontinue use of any `discovery.zen.` settings.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03de18e53a3d72926b8e1a92d1c4f154b0403138"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY1NDAxNA==", "bodyText": "As above (if you go that route):\n\nUse a maximum of 10 completion contexts in a completion field. Specifying more than 10 completions context will throw an error.\n\nSame applies to the other impact sections.", "url": "https://github.com/elastic/elasticsearch/pull/55862#discussion_r419654014", "createdAt": "2020-05-04T18:53:05Z", "author": {"login": "debadair"}, "path": "docs/reference/migration/migrate_8_0/mappings.asciidoc", "diffHunk": "@@ -9,33 +9,56 @@\n \n // end::notable-breaking-changes[]\n \n-[float]\n-==== Limiting the number of completion contexts\n \n+.The maximum number of completion contexts per field is now 10.\n+[%collapsible]\n+====\n+*Details* +\n The number of completion contexts within a single completion field\n has been limited to 10.\n \n-[float]\n-==== Removal of types\n+*Impact* +\n+To avoid errors, use no more than 10 completion contexts within a single", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03de18e53a3d72926b8e1a92d1c4f154b0403138"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89fd9e2738a114b69d14283081ffb10a04c73298", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/89fd9e2738a114b69d14283081ffb10a04c73298", "committedDate": "2020-05-04T19:30:44Z", "message": "flip wording of impact"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5fb4229b29610ae46dda2039a83b3fc5836942f1", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/5fb4229b29610ae46dda2039a83b3fc5836942f1", "committedDate": "2020-05-04T19:33:12Z", "message": "typo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1NDQwMjc1", "url": "https://github.com/elastic/elasticsearch/pull/55862#pullrequestreview-405440275", "createdAt": "2020-05-05T00:52:20Z", "commit": {"oid": "5fb4229b29610ae46dda2039a83b3fc5836942f1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 472, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}