{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg4ODMxMTc3", "number": 62578, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxMjowOTowNVrOEk8XrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxMjowOTowNVrOEk8XrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3MTczMjkyOnYy", "diffSide": "RIGHT", "path": "server/src/internalClusterTest/java/org/elasticsearch/snapshots/SnapshotStatusApisIT.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxMjowOTowNVrOHUKduQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxMjowOTowNVrOHUKduQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDkwNTAxNw==", "bodyText": "Maybe awaitNumberOfSnapshotsInProgress() ?", "url": "https://github.com/elastic/elasticsearch/pull/62578#discussion_r490905017", "createdAt": "2020-09-18T12:09:05Z", "author": {"login": "tlrx"}, "path": "server/src/internalClusterTest/java/org/elasticsearch/snapshots/SnapshotStatusApisIT.java", "diffHunk": "@@ -101,16 +101,9 @@ public void testStatusAPICallInProgressSnapshot() throws Exception {\n \n         logger.info(\"--> wait for data nodes to get blocked\");\n         waitForBlockOnAnyDataNode(\"test-repo\", TimeValue.timeValueMinutes(1));\n-\n-        assertBusy(() -> {\n-            try {\n-                assertEquals(SnapshotsInProgress.State.STARTED, client.admin().cluster().snapshotsStatus(\n-                        new SnapshotsStatusRequest(\"test-repo\", new String[]{\"test-snap\"})).actionGet().getSnapshots().get(0)\n-                        .getState());\n-            } catch (SnapshotMissingException sme) {\n-                throw new AssertionError(sme);\n-            }\n-        }, 1L, TimeUnit.MINUTES);\n+        awaitNSnapshotsInProgress(1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "25b0b6d728eeb381c6dcaf208bad03b8c7e09c94"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3448, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}