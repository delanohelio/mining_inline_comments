{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0NTE1NjU3", "number": 60857, "title": "Update configuring-metricbeat.asciidoc", "bodyText": "Adding ssl related configuration in the modules.d/elasticsearch-xpack.yml and the explanation because having a security-enabled cluster is a common scenario, yet, to allow metricbeat to send monitoring from a security-enabled cluster, one has to either use ssl.verification_mode: \"none\" (default is full) or to add other three ssl settings, namely,\n\nssl.certificate_authorities\nssl.certificate\nssl.key\n\nThe current document makes it very hard to find the related reference in metricbeat. One need to go to the elasticsearch module first,\nhttps://www.elastic.co/guide/en/beats/metricbeat/7.8/metricbeat-module-elasticsearch.html\nAnd from there, to check SSL settings which are available here:\nhttps://www.elastic.co/guide/en/beats/metricbeat/7.8/configuration-ssl.html#_certificate_authorities\n\n\nPlease check with developers on the correctness of the above when security is enabled on the host.\nPlease feel free to rewording the paragraph.\nPlease update the same docs to other versions too.", "createdAt": "2020-08-07T10:04:05Z", "url": "https://github.com/elastic/elasticsearch/pull/60857", "merged": true, "mergeCommit": {"oid": "c57c98cd0693ecc5667605130949ddca962969da"}, "closed": true, "closedAt": "2020-08-17T16:49:07Z", "author": {"login": "Leaf-Lin"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8heBkAH2gAyNDY0NTE1NjU3OmE1MjliNWE1MGNjYTIxZjUzYjUwYTY2ODg3NTQ4ZDQ0MjE1Y2YwYWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc_09dJAH2gAyNDY0NTE1NjU3OjMwMzJmYTUzYmU1YjgyMDA5YTZmNjQ3NjNkM2JjNWQ2Zjc2ZGQ0ZDE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a529b5a50cca21f53b50a66887548d44215cf0ae", "author": {"user": {"login": "Leaf-Lin", "name": null}}, "url": "https://github.com/elastic/elasticsearch/commit/a529b5a50cca21f53b50a66887548d44215cf0ae", "committedDate": "2020-08-07T10:01:12Z", "message": "Update configuring-metricbeat.asciidoc\n\nAdding ssl related configuration in the `modules.d/elasticsearch-xpack.yml` and the explanation because having a security-enabled cluster is a common scenario, yet, to allow metricbeat to send monitoring from a security-enabled cluster, one has to either use `ssl.verification_mode: \"none\"` (default is full) or to add other three ssl settings, namely, \r\n- ssl.certificate_authorities\r\n- ssl.certificate\r\n- ssl.key\r\n\r\nThe current document makes it very hard to find the related reference in metricbeat. One need to go to the elasticsearch module first,\r\nhttps://www.elastic.co/guide/en/beats/metricbeat/7.8/metricbeat-module-elasticsearch.html\r\nAnd from there, to check SSL settings which are available here:\r\nhttps://www.elastic.co/guide/en/beats/metricbeat/7.8/configuration-ssl.html#_certificate_authorities"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0MzgzNzQ0", "url": "https://github.com/elastic/elasticsearch/pull/60857#pullrequestreview-464383744", "createdAt": "2020-08-10T16:22:58Z", "commit": {"oid": "a529b5a50cca21f53b50a66887548d44215cf0ae"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQxNjoyMjo1OFrOG-WDdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQxNjoyMjo1OFrOG-WDdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODAyNjIyOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            .. Add `ssl` related setting. By default ssl is disabled when the ssl section is missing. If Elastic security features are enabled, you must explicitly add {metricbeat-ref}/configuration-ssl.html[ssl section] to allow metricbeat to communicate to the host. \n          \n          \n            \n            .. If TLS is enabled on the HTTP layer of your {es} cluster, you must either use https as the URL scheme in the `hosts` setting or add the `ssl.enabled: true` setting. Depending on the TLS configuration of your {es} cluster, you might also need to specify {metricbeat-ref}/configuration-ssl.html[additional ssl.*] settings.", "url": "https://github.com/elastic/elasticsearch/pull/60857#discussion_r468026229", "createdAt": "2020-08-10T16:22:58Z", "author": {"login": "lcawl"}, "path": "docs/reference/monitoring/configuring-metricbeat.asciidoc", "diffHunk": "@@ -110,6 +115,8 @@ Alternatively, use the\n \n .. Add the `username` and `password` settings to the {es} module configuration\n file. \n+\n+.. Add `ssl` related setting. By default ssl is disabled when the ssl section is missing. If Elastic security features are enabled, you must explicitly add {metricbeat-ref}/configuration-ssl.html[ssl section] to allow metricbeat to communicate to the host. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a529b5a50cca21f53b50a66887548d44215cf0ae"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a4980b608677517dba9ec058da896b2f15b6ec44", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/elasticsearch/commit/a4980b608677517dba9ec058da896b2f15b6ec44", "committedDate": "2020-08-13T22:20:30Z", "message": "Update docs/reference/monitoring/configuring-metricbeat.asciidoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MTgyMjE4", "url": "https://github.com/elastic/elasticsearch/pull/60857#pullrequestreview-467182218", "createdAt": "2020-08-13T22:51:01Z", "commit": {"oid": "a4980b608677517dba9ec058da896b2f15b6ec44"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MjQ2MjY3", "url": "https://github.com/elastic/elasticsearch/pull/60857#pullrequestreview-467246267", "createdAt": "2020-08-14T01:00:19Z", "commit": {"oid": "a4980b608677517dba9ec058da896b2f15b6ec44"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3032fa53be5b82009a6f64763d3bc5d6f76dd4d1", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/3032fa53be5b82009a6f64763d3bc5d6f76dd4d1", "committedDate": "2020-08-17T16:25:30Z", "message": "Merge branch '7.8' into Leaf-Lin-patch-2"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3463, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}