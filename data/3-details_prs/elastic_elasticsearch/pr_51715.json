{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5MzM3OTI1", "number": 51715, "title": "Telemetry data initial implementation", "bodyText": "This is a first iteration of telemetry data support for EQL. Main classes are in, test classes make sense at this point when the hooks will be available in EQL code. Also, same goes for the actual logic that increments the counters.\nPart of #49630.", "createdAt": "2020-01-30T23:23:16Z", "url": "https://github.com/elastic/elasticsearch/pull/51715", "merged": true, "mergeCommit": {"oid": "f1d1cceacaacf226fcd2459f34689843b822fe4b"}, "closed": true, "closedAt": "2020-02-07T21:00:27Z", "author": {"login": "astefan"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_i-ePAH2gAyMzY5MzM3OTI1Ojg3ZWIzMWJlMjhmYmU5YzIyYzI3NGZiM2Y3MTkyZTIxMjdkMGQ1MDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcCCZ5xAFqTM1NTMwMDkzNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "87eb31be28fbe9c22c274fb3f7192e2127d0d507", "author": {"user": {"login": "astefan", "name": "Andrei Stefan"}}, "url": "https://github.com/elastic/elasticsearch/commit/87eb31be28fbe9c22c274fb3f7192e2127d0d507", "committedDate": "2020-01-30T23:17:10Z", "message": "Initial commit for telemetry data"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b55dc6f0434c1687896a3470a20b5abb2ff75543", "author": {"user": {"login": "astefan", "name": "Andrei Stefan"}}, "url": "https://github.com/elastic/elasticsearch/commit/b55dc6f0434c1687896a3470a20b5abb2ff75543", "committedDate": "2020-01-30T23:17:38Z", "message": "Merge branch 'master' of https://github.com/elastic/elasticsearch into 49630_impl"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxNTQ4NTY5", "url": "https://github.com/elastic/elasticsearch/pull/51715#pullrequestreview-351548569", "createdAt": "2020-01-31T14:41:15Z", "commit": {"oid": "b55dc6f0434c1687896a3470a20b5abb2ff75543"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo0MToxNVrOFkNZvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQxNDo0MzowOVrOFkNdwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxMjYzOA==", "bodyText": "This setting already exists in EqlPlugin. Strange that it didn't fail in testing.", "url": "https://github.com/elastic/elasticsearch/pull/51715#discussion_r373512638", "createdAt": "2020-01-31T14:41:15Z", "author": {"login": "imotov"}, "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/XPackSettings.java", "diffHunk": "@@ -124,6 +124,9 @@ private XPackSettings() {\n     public static final Setting<Boolean> FIPS_MODE_ENABLED =\n         Setting.boolSetting(\"xpack.security.fips_mode.enabled\", false, Property.NodeScope);\n \n+    /** Setting for enabling or disabling eql. Defaults to true. */\n+    public static final Setting<Boolean> EQL_ENABLED = Setting.boolSetting(\"xpack.eql.enabled\", true, Setting.Property.NodeScope);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b55dc6f0434c1687896a3470a20b5abb2ff75543"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxMzY2NQ==", "bodyText": "That will probably fail in release build, where we disable EQL", "url": "https://github.com/elastic/elasticsearch/pull/51715#discussion_r373513665", "createdAt": "2020-01-31T14:43:09Z", "author": {"login": "imotov"}, "path": "docs/reference/rest-api/info.asciidoc", "diffHunk": "@@ -119,6 +119,10 @@ Example response:\n          \"available\" : true,\n          \"enabled\" : true\n       },\n+      \"eql\" : {\n+         \"available\" : true,\n+         \"enabled\" : true\n+      },", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b55dc6f0434c1687896a3470a20b5abb2ff75543"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxOTYzMzU4", "url": "https://github.com/elastic/elasticsearch/pull/51715#pullrequestreview-351963358", "createdAt": "2020-02-02T19:57:05Z", "commit": {"oid": "b55dc6f0434c1687896a3470a20b5abb2ff75543"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9dbc11393a0585426617e9a166c5491a45a82d93", "author": {"user": {"login": "astefan", "name": "Andrei Stefan"}}, "url": "https://github.com/elastic/elasticsearch/commit/9dbc11393a0585426617e9a166c5491a45a82d93", "committedDate": "2020-02-04T15:41:13Z", "message": "Merge branch 'master' of https://github.com/elastic/elasticsearch into 49630_impl"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c790c85a84183ef3467af94d69dee2d8787038f5", "author": {"user": {"login": "astefan", "name": "Andrei Stefan"}}, "url": "https://github.com/elastic/elasticsearch/commit/c790c85a84183ef3467af94d69dee2d8787038f5", "committedDate": "2020-02-04T17:40:32Z", "message": "Remove EQL_ENABLED setting from EqlPlugin"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77611be9c1c18747ab9d1172f5c365d3bad0706c", "author": {"user": {"login": "astefan", "name": "Andrei Stefan"}}, "url": "https://github.com/elastic/elasticsearch/commit/77611be9c1c18747ab9d1172f5c365d3bad0706c", "committedDate": "2020-02-04T17:44:41Z", "message": "Merge branch 'master' of https://github.com/elastic/elasticsearch into 49630_impl"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMTkxMjY4", "url": "https://github.com/elastic/elasticsearch/pull/51715#pullrequestreview-353191268", "createdAt": "2020-02-04T18:11:17Z", "commit": {"oid": "77611be9c1c18747ab9d1172f5c365d3bad0706c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxODoxMToxOFrOFleLtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxODoxMToxOFrOFleLtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDgzNjE0OA==", "bodyText": "That fails in non-snapshot build with the following error:\norg.elasticsearch.smoketest.DocsClientYamlTestSuiteIT > test {yaml=reference/rest-api/info/line_45} FAILED\n    java.lang.AssertionError: Failure at [reference/rest-api/info:16]: $body didn't match expected value:\n                             $body: \n                               build: \n                                  date: same [2020-02-04T18:01:06.694307Z]\n                                  hash: same [12b24bfa57ae3b282427298cffc735ab9fe5868f]\n                            features: \n                             analytics: \n                               available: same [true]\n                                 enabled: same [true]\n                                   ccr: \n                               available: same [true]\n                                 enabled: same [true]\n                                enrich: \n                               available: same [true]\n                                 enabled: same [true]\n                                   eql: \n                               available: same [true]\n                                 enabled: expected Boolean [true] but was Boolean [false]\n                             flattened: \n                               available: same [true]\n                                 enabled: same [true]\n                        frozen_indices: \n                               available: same [true]\n                                 enabled: same [true]\n                                 graph: \n                               available: same [true]\n                                 enabled: same [true]\n                                   ilm: \n                               available: same [true]\n                                 enabled: same [true]\n                              logstash: \n                               available: same [true]\n                                 enabled: same [true]\n                                    ml: \n                               available: same [true]\n                                 enabled: same [true]\n                            monitoring: \n                               available: same [true]\n                                 enabled: same [true]\n                                rollup: \n                               available: same [true]\n                                 enabled: same [true]\n                              security: \n                               available: same [true]\n                                 enabled: same [false]\n                                   slm: \n                               available: same [true]\n                                 enabled: same [true]\n                               spatial: \n                               available: same [true]\n                                 enabled: same [true]\n                                   sql: \n                               available: same [true]\n                                 enabled: same [true]\n                             transform: \n                               available: same [true]\n                                 enabled: same [true]\n                               vectors: \n                               available: same [true]\n                                 enabled: same [true]\n                           voting_only: \n                               available: same [true]\n                                 enabled: same [true]\n                               watcher: \n                               available: same [true]\n                                 enabled: same [true]\n                             license: \n                 expiry_date_in_millis: same [1583431616962]\n                                  mode: same [trial]\n                                status: same [active]\n                                  type: same [trial]\n                                   uid: same [14927092-6926-43a8-84b9-af6fd185696f]\n                             tagline: same [You know, for X]\n        at __randomizedtesting.SeedInfo.seed([31BF956B0BB813AA:B9EBAAB1A5447E52]:0)\n        at org.elasticsearch.test.rest.yaml.ESClientYamlSuiteTestCase.executeSection(ESClientYamlSuiteTestCase.java:405)\n        at org.elasticsearch.test.rest.yaml.ESClientYamlSuiteTestCase.test(ESClientYamlSuiteTestCase.java:382)\n        at jdk.internal.reflect.GeneratedMethodAccessor11.invoke(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at com.carrotsearch.randomizedtesting.RandomizedRunner.invoke(RandomizedRunner.java:1750)\n        at com.carrotsearch.randomizedtesting.RandomizedRunner$8.evaluate(RandomizedRunner.java:938)\n        at com.carrotsearch.randomizedtesting.RandomizedRunner$9.evaluate(RandomizedRunner.java:974)\n        at com.carrotsearch.randomizedtesting.RandomizedRunner$10.evaluate(RandomizedRunner.java:988)\n        at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n        at org.apache.lucene.util.TestRuleSetupTeardownChained$1.evaluate(TestRuleSetupTeardownChained.java:49)\n        at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\n        at org.apache.lucene.util.TestRuleThreadAndTestName$1.evaluate(TestRuleThreadAndTestName.java:48)\n        at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\n        at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\n        at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n        at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)\n        at com.carrotsearch.randomizedtesting.ThreadLeakControl.forkTimeoutingTask(ThreadLeakControl.java:817)\n        at com.carrotsearch.randomizedtesting.ThreadLeakControl$3.evaluate(ThreadLeakControl.java:468)\n        at com.carrotsearch.randomizedtesting.RandomizedRunner.runSingleTest(RandomizedRunner.java:947)\n        at com.carrotsearch.randomizedtesting.RandomizedRunner$5.evaluate(RandomizedRunner.java:832)\n        at com.carrotsearch.randomizedtesting.RandomizedRunner$6.evaluate(RandomizedRunner.java:883)\n        at com.carrotsearch.randomizedtesting.RandomizedRunner$7.evaluate(RandomizedRunner.java:894)\n        at org.apache.lucene.util.AbstractBeforeAfterRule$1.evaluate(AbstractBeforeAfterRule.java:45)\n        at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n        at org.apache.lucene.util.TestRuleStoreClassName$1.evaluate(TestRuleStoreClassName.java:41)\n        at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\n        at com.carrotsearch.randomizedtesting.rules.NoShadowingOrOverridesOnMethodsRule$1.evaluate(NoShadowingOrOverridesOnMethodsRule.java:40)\n        at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n        at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n        at org.apache.lucene.util.TestRuleAssertionsRequired$1.evaluate(TestRuleAssertionsRequired.java:53)\n        at org.apache.lucene.util.TestRuleMarkFailure$1.evaluate(TestRuleMarkFailure.java:47)\n        at org.apache.lucene.util.TestRuleIgnoreAfterMaxFailures$1.evaluate(TestRuleIgnoreAfterMaxFailures.java:64)\n        at org.apache.lucene.util.TestRuleIgnoreTestSuites$1.evaluate(TestRuleIgnoreTestSuites.java:54)\n        at com.carrotsearch.randomizedtesting.rules.StatementAdapter.evaluate(StatementAdapter.java:36)\n        at com.carrotsearch.randomizedtesting.ThreadLeakControl$StatementRunner.run(ThreadLeakControl.java:368)\n        at java.base/java.lang.Thread.run(Thread.java:834)", "url": "https://github.com/elastic/elasticsearch/pull/51715#discussion_r374836148", "createdAt": "2020-02-04T18:11:18Z", "author": {"login": "imotov"}, "path": "docs/reference/rest-api/info.asciidoc", "diffHunk": "@@ -119,6 +119,10 @@ Example response:\n          \"available\" : true,\n          \"enabled\" : true\n       },\n+      \"eql\" : {\n+         \"available\" : true,\n+         \"enabled\" : true\n+      },", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzUxMzY2NQ=="}, "originalCommit": {"oid": "b55dc6f0434c1687896a3470a20b5abb2ff75543"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3ce203b7c498445fb6c83ccf2b5fb3557d508ce", "author": {"user": {"login": "astefan", "name": "Andrei Stefan"}}, "url": "https://github.com/elastic/elasticsearch/commit/f3ce203b7c498445fb6c83ccf2b5fb3557d508ce", "committedDate": "2020-02-06T15:52:32Z", "message": "Revert back the EQL_ENABLED setting to EqlPlugin class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3dd3671902f0b227e940b4f3196a0b9ad6c9006e", "author": {"user": {"login": "astefan", "name": "Andrei Stefan"}}, "url": "https://github.com/elastic/elasticsearch/commit/3dd3671902f0b227e940b4f3196a0b9ad6c9006e", "committedDate": "2020-02-06T16:17:54Z", "message": "Merge branch 'master' of https://github.com/elastic/elasticsearch into 49630_impl"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f1a2edc8255e7a4b8b899e0dab0d944410428a8", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/7f1a2edc8255e7a4b8b899e0dab0d944410428a8", "committedDate": "2020-02-06T23:36:49Z", "message": "Merge branch 'master' into 49630_impl"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1MzAwOTM1", "url": "https://github.com/elastic/elasticsearch/pull/51715#pullrequestreview-355300935", "createdAt": "2020-02-07T17:02:02Z", "commit": {"oid": "7f1a2edc8255e7a4b8b899e0dab0d944410428a8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3128, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}