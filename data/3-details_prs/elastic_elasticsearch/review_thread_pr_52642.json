{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4MzA3NzE0", "number": 52642, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxNTo1MDozN1rODh7Kdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxNTo1MjoxM1rODh7M6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2ODk4OTM1OnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxNTo1MDozN1rOFs7ifg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxNTo1OTowOFrOFs73Jg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjY1NzE1MA==", "bodyText": "should it be a Function<byte[], ? extends T> to avoid the unchecked cast?", "url": "https://github.com/elastic/elasticsearch/pull/52642#discussion_r382657150", "createdAt": "2020-02-21T15:50:37Z", "author": {"login": "jpountz"}, "path": "server/src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java", "diffHunk": "@@ -520,6 +518,14 @@ public static FieldSortBuilder getPrimaryFieldSortOrNull(SearchSourceBuilder sou\n         return null;\n     }\n \n+    @SuppressWarnings(\"unchecked\")\n+    private static <T extends Comparable<T>> MinAndMax<T> extractMinAndMax(IndexReader reader, String fieldName,\n+                                                              Function<byte[], Comparable<?>> converter) throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "409f76059279a0e952bb743ced3472ef9da3c6ac"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjY2MjQzOA==", "bodyText": "great point, I missed this", "url": "https://github.com/elastic/elasticsearch/pull/52642#discussion_r382662438", "createdAt": "2020-02-21T15:59:08Z", "author": {"login": "javanna"}, "path": "server/src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java", "diffHunk": "@@ -520,6 +518,14 @@ public static FieldSortBuilder getPrimaryFieldSortOrNull(SearchSourceBuilder sou\n         return null;\n     }\n \n+    @SuppressWarnings(\"unchecked\")\n+    private static <T extends Comparable<T>> MinAndMax<T> extractMinAndMax(IndexReader reader, String fieldName,\n+                                                              Function<byte[], Comparable<?>> converter) throws IOException {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjY1NzE1MA=="}, "originalCommit": {"oid": "409f76059279a0e952bb743ced3472ef9da3c6ac"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2ODk5NTYxOnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/elasticsearch/search/sort/MinAndMax.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxNTo1MjoxM1rOFs7mWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxNTo1MjoxM1rOFs7mWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjY1ODEzOQ==", "bodyText": "In general this is the right way to use generics with Comparable?", "url": "https://github.com/elastic/elasticsearch/pull/52642#discussion_r382658139", "createdAt": "2020-02-21T15:52:13Z", "author": {"login": "jpountz"}, "path": "server/src/main/java/org/elasticsearch/search/sort/MinAndMax.java", "diffHunk": "@@ -29,9 +29,9 @@\n import java.util.Objects;\n \n /**\n- * A class that encapsulates a minimum and a maximum {@link Comparable}.\n+ * A class that encapsulates a minimum and a maximum, that are of the same type and {@link Comparable}.\n  */\n-public class MinAndMax<T extends Comparable<? super T>> implements Writeable {\n+public class MinAndMax<T extends Comparable<T>> implements Writeable {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "409f76059279a0e952bb743ced3472ef9da3c6ac"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3881, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}