{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyOTY5MTU0", "number": 58878, "title": "Add pipeline aggregations to the rewrite phase", "bodyText": "This allows pipeline aggregations to participate in the up-front rewrite\nphase for searches, in particular, it allows them to load data that they\nneed asynchronously.\nRelates to #58193", "createdAt": "2020-07-01T20:25:41Z", "url": "https://github.com/elastic/elasticsearch/pull/58878", "merged": true, "mergeCommit": {"oid": "0cec6e041cf4c8646d5eda5810768b7c0f460cce"}, "closed": true, "closedAt": "2020-07-06T14:57:51Z", "author": {"login": "nik9000"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwwN4RgH2gAyNDQyOTY5MTU0OjM0MmM3NWM4N2M4NDJhMzViZjNlODM1MjcxMjk1ZmI4MjViZjc3ZTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcyR0z_AH2gAyNDQyOTY5MTU0OjBjNjAyNmQzYWE3YTU2MjI3Zjc5Y2ZiYzc4ODY3Y2NkZThmOTRhZjg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "342c75c87c842a35bf3e835271295fb825bf77e6", "author": {"user": {"login": "nik9000", "name": "Nik Everett"}}, "url": "https://github.com/elastic/elasticsearch/commit/342c75c87c842a35bf3e835271295fb825bf77e6", "committedDate": "2020-07-01T20:25:03Z", "message": "Add pipeline aggregations to the rewrite phase\n\nThis allows pipeline aggregations to participate in the up-front rewrite\nphase for searches, in particular, it allows them to load data that they\nneed asynchronously.\n\nRelates to #58193"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxMjY3ODYx", "url": "https://github.com/elastic/elasticsearch/pull/58878#pullrequestreview-441267861", "createdAt": "2020-07-02T00:04:09Z", "commit": {"oid": "342c75c87c842a35bf3e835271295fb825bf77e6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxNzU1OTM2", "url": "https://github.com/elastic/elasticsearch/pull/58878#pullrequestreview-441755936", "createdAt": "2020-07-02T14:52:39Z", "commit": {"oid": "342c75c87c842a35bf3e835271295fb825bf77e6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNDo1MjozOVrOGsQbbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNDo1MjozOVrOGsQbbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTA1OTY5NA==", "bodyText": "Since we're here, could we add an @override annotation to rewrite() method above?  Tiny nit, sorry :(", "url": "https://github.com/elastic/elasticsearch/pull/58878#discussion_r449059694", "createdAt": "2020-07-02T14:52:39Z", "author": {"login": "polyfractal"}, "path": "server/src/main/java/org/elasticsearch/search/aggregations/AggregationBuilder.java", "diffHunk": "@@ -131,21 +132,6 @@ protected AggregationBuilder doRewrite(QueryRewriteContext queryShardContext) th\n         return this;\n     }\n \n-    /**", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "342c75c87c842a35bf3e835271295fb825bf77e6"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxNzU2MTMy", "url": "https://github.com/elastic/elasticsearch/pull/58878#pullrequestreview-441756132", "createdAt": "2020-07-02T14:52:51Z", "commit": {"oid": "342c75c87c842a35bf3e835271295fb825bf77e6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxOTQzMDk1", "url": "https://github.com/elastic/elasticsearch/pull/58878#pullrequestreview-441943095", "createdAt": "2020-07-02T18:48:16Z", "commit": {"oid": "342c75c87c842a35bf3e835271295fb825bf77e6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7518962e0e9b2e28cba7677c6eebb886a4bcf22", "author": {"user": {"login": "nik9000", "name": "Nik Everett"}}, "url": "https://github.com/elastic/elasticsearch/commit/e7518962e0e9b2e28cba7677c6eebb886a4bcf22", "committedDate": "2020-07-06T14:05:26Z", "message": "Merge branch 'master' into rewrite_pipeline_aggs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c6026d3aa7a56227f79cfbc78867ccde8f94af8", "author": {"user": {"login": "nik9000", "name": "Nik Everett"}}, "url": "https://github.com/elastic/elasticsearch/commit/0c6026d3aa7a56227f79cfbc78867ccde8f94af8", "committedDate": "2020-07-06T14:08:22Z", "message": "@Override"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2347, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}