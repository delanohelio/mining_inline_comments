{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxMTY4Mjg1", "number": 54997, "title": "Clear recent errors when auto-follow successfully", "bodyText": "Today, we do not clear the recent errors in AutoFollowCoordinator when we successfully auto-follow indices. This can lead to confusion for the operators.", "createdAt": "2020-04-09T02:09:57Z", "url": "https://github.com/elastic/elasticsearch/pull/54997", "merged": true, "mergeCommit": {"oid": "372681b7034febabf5bab47d0723b9a99bc392d1"}, "closed": true, "closedAt": "2020-04-09T15:35:13Z", "author": {"login": "dnhatn"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcVynHOAH2gAyNDAxMTY4Mjg1Ojg4YmIwZWRjMzUyODgwNjMyMDIzNTM5N2YwYjM1ZDI2NzM2OTlhZGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcV9RZPAH2gAyNDAxMTY4Mjg1OjZjNDhiODRmYjQ4OTQ5YmU5ZDYyZTZkMTRkMGZlMTFlOWIwZTM1NmY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "88bb0edc3528806320235397f0b35d2673699adf", "author": {"user": {"login": "dnhatn", "name": "Nhat Nguyen"}}, "url": "https://github.com/elastic/elasticsearch/commit/88bb0edc3528806320235397f0b35d2673699adf", "committedDate": "2020-04-09T01:56:28Z", "message": "Clear recent errors when auto-follow successfully"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwNTc4ODA5", "url": "https://github.com/elastic/elasticsearch/pull/54997#pullrequestreview-390578809", "createdAt": "2020-04-09T08:11:56Z", "commit": {"oid": "88bb0edc3528806320235397f0b35d2673699adf"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwODoxMTo1NlrOGDOK5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwODoxMTo1NlrOGDOK5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjAzMTA3Ng==", "bodyText": "nit: can we compute the key once and use it to put or remove the recent auto follow error?", "url": "https://github.com/elastic/elasticsearch/pull/54997#discussion_r406031076", "createdAt": "2020-04-09T08:11:56Z", "author": {"login": "tlrx"}, "path": "x-pack/plugin/ccr/src/main/java/org/elasticsearch/xpack/ccr/action/AutoFollowCoordinator.java", "diffHunk": "@@ -186,6 +187,7 @@ synchronized void updateStats(List<AutoFollowResult> results) {\n                             \"pattern [{}]\", entry.getKey(), result.autoFollowPatternName), entry.getValue());\n                     } else {\n                         numberOfSuccessfulIndicesAutoFollowed++;\n+                        recentAutoFollowErrors.remove(result.autoFollowPatternName + \":\" + entry.getKey().getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88bb0edc3528806320235397f0b35d2673699adf"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwNzAxMjAy", "url": "https://github.com/elastic/elasticsearch/pull/54997#pullrequestreview-390701202", "createdAt": "2020-04-09T11:14:18Z", "commit": {"oid": "88bb0edc3528806320235397f0b35d2673699adf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c48b84fb48949be9d62e6d14d0fe11e9b0e356f", "author": {"user": {"login": "dnhatn", "name": "Nhat Nguyen"}}, "url": "https://github.com/elastic/elasticsearch/commit/6c48b84fb48949be9d62e6d14d0fe11e9b0e356f", "committedDate": "2020-04-09T14:21:42Z", "message": "tanguy\u2019s comment"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3629, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}