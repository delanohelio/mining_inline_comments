{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0MTc4MTc0", "number": 64493, "title": "Make legacy template noop updates not change cluster state", "bodyText": "When a legacy template does not change, there is no need to create and publish a new cluster state,\nrather the update should be a noop.\nRelates to #57851\nResolves #57662", "createdAt": "2020-11-02T16:32:53Z", "url": "https://github.com/elastic/elasticsearch/pull/64493", "merged": true, "mergeCommit": {"oid": "b323d4c872195d3e4eac8efd494b7f1e0cef28cb"}, "closed": true, "closedAt": "2020-11-02T17:56:26Z", "author": {"login": "dakrone"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdYnMIdAH2gAyNTE0MTc4MTc0OmFmYTc3ZTViZTliNWE1M2FiNzFkYWJhM2E3YzdjZTM1Yzc5NGYyNjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdYnypTAH2gAyNTE0MTc4MTc0OjEwMjAzMzdmN2NlNTBmMjE1MjUwZjUzN2E1NTI5NjVjODlmYTU2MzU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "afa77e5be9b5a53ab71daba3a7c7ce35c794f267", "author": {"user": {"login": "dakrone", "name": "Lee Hinman"}}, "url": "https://github.com/elastic/elasticsearch/commit/afa77e5be9b5a53ab71daba3a7c7ce35c794f267", "committedDate": "2020-11-02T16:30:58Z", "message": "Make legacy template noop updates not change cluster state\n\nWhen a legacy template does not change, there is no need to create and publish a new cluster state,\nrather the update should be a noop.\n\nRelates to #57851\nResolves #57662"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxODAwOTIy", "url": "https://github.com/elastic/elasticsearch/pull/64493#pullrequestreview-521800922", "createdAt": "2020-11-02T16:38:38Z", "commit": {"oid": "afa77e5be9b5a53ab71daba3a7c7ce35c794f267"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxNjozODozOFrOHsMXSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMlQxNjozODozOFrOHsMXSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjEwMTk2Mw==", "bodyText": "This seems to be related to composable templates, the mentioned PR was abandoned though. Is this really fixed? Or was this muted by accident initially?", "url": "https://github.com/elastic/elasticsearch/pull/64493#discussion_r516101963", "createdAt": "2020-11-02T16:38:38Z", "author": {"login": "andreidan"}, "path": "server/src/test/java/org/elasticsearch/cluster/metadata/MetadataIndexTemplateServiceTests.java", "diffHunk": "@@ -727,7 +749,6 @@ public void testFindV2InvalidGlobalTemplate() {\n         }\n     }\n \n-    @AwaitsFix(bugUrl = \"https://github.com/elastic/elasticsearch/pull/57393\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "afa77e5be9b5a53ab71daba3a7c7ce35c794f267"}, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxODE3MDMw", "url": "https://github.com/elastic/elasticsearch/pull/64493#pullrequestreview-521817030", "createdAt": "2020-11-02T16:54:54Z", "commit": {"oid": "afa77e5be9b5a53ab71daba3a7c7ce35c794f267"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1020337f7ce50f215250f537a552965c89fa5635", "author": {"user": {"login": "dakrone", "name": "Lee Hinman"}}, "url": "https://github.com/elastic/elasticsearch/commit/1020337f7ce50f215250f537a552965c89fa5635", "committedDate": "2020-11-02T17:13:02Z", "message": "Fix IndexTemplateMetadata equals and hashCode methods"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 738, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}