{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyNzE2NzU2", "number": 50987, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQxNjoxMToyMVrODX5z2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQxNjoxMToyMVrODX5z2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI2MzkxMDAwOnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQxNjoxMToyMVrOFddGqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQxNjoxMToyMVrOFddGqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjQyOTg2Ng==", "bodyText": "Fixed these spots because a.) it's just the right thing to not mix listener and throwing :) but also so that the exception properly bubbles up the listener chain in the test infrastructure that has to run this method off the test thread (because we assert that it only runs on the generic or snapshot pool)", "url": "https://github.com/elastic/elasticsearch/pull/50987#discussion_r366429866", "createdAt": "2020-01-14T16:11:21Z", "author": {"login": "original-brownbear"}, "path": "server/src/main/java/org/elasticsearch/repositories/blobstore/BlobStoreRepository.java", "diffHunk": "@@ -1058,7 +1061,9 @@ public void getRepositoryData(ActionListener<RepositoryData> listener) {\n                 try {\n                     generation = latestIndexBlobId();\n                 } catch (IOException ioe) {\n-                    throw new RepositoryException(metadata.name(), \"Could not determine repository generation from root blobs\", ioe);\n+                    listener.onFailure(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "425253868b0159f9e5691f883f090aae2f7115e0"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4581, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}