{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0OTM2MDk4", "number": 59093, "title": "Add sample versions of standard deviation and variance functions", "bodyText": "This PR adds the sampling variations of the standard deviation and variance agg functions, STDDEV_SAMP and VAR_SAMP respectively.\nCloses #57950", "createdAt": "2020-07-06T18:30:36Z", "url": "https://github.com/elastic/elasticsearch/pull/59093", "merged": true, "mergeCommit": {"oid": "8b29817b49e386215f29cb5b3356d0183fd5d9de"}, "closed": true, "closedAt": "2020-07-09T06:22:02Z", "author": {"login": "bpintea"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcyUkaRAH2gAyNDQ0OTM2MDk4OmIzNTZmNGMzMjc5ZmRhOTEwMGQ4NDlhZTJiMGE5YjZiYmZiZjQyNmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABczAWTjgFqTQ0NTA5OTc4OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b356f4c3279fda9100d849ae2b0a9b6bbfbf426a", "author": {"user": {"login": "bpintea", "name": "Bogdan Pintea"}}, "url": "https://github.com/elastic/elasticsearch/commit/b356f4c3279fda9100d849ae2b0a9b6bbfbf426a", "committedDate": "2020-07-06T17:20:10Z", "message": "Add STDDEV_SAMP, VAR_SAMP\n\nThis commit adds the sampling variations of the standard deviation and\nvariance agg functions."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc0bd6601bc8f3dea1193e1aa64622f8af407ec1", "author": {"user": {"login": "bpintea", "name": "Bogdan Pintea"}}, "url": "https://github.com/elastic/elasticsearch/commit/dc0bd6601bc8f3dea1193e1aa64622f8af407ec1", "committedDate": "2020-07-06T18:27:06Z", "message": "test suites fixes\n\nCorrect CSV tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c76129410c315d32157469f5417d451c0f5ec1cb", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/c76129410c315d32157469f5417d451c0f5ec1cb", "committedDate": "2020-07-06T21:42:03Z", "message": "Merge branch 'master' into enh/add_sample_stddev_variance"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NjI1MDA2", "url": "https://github.com/elastic/elasticsearch/pull/59093#pullrequestreview-444625006", "createdAt": "2020-07-08T10:44:19Z", "commit": {"oid": "c76129410c315d32157469f5417d451c0f5ec1cb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxMDo0NDoxOVrOGuiUEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxMDo0NDoxOVrOGuiUEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTQ0OTg3Mg==", "bodyText": "extra empty line", "url": "https://github.com/elastic/elasticsearch/pull/59093#discussion_r451449872", "createdAt": "2020-07-08T10:44:19Z", "author": {"login": "matriv"}, "path": "x-pack/plugin/sql/qa/server/src/main/resources/docs/docs.csv-spec", "diffHunk": "@@ -1615,6 +1637,28 @@ SELECT MIN(salary / 24.0) AS min, MAX(salary / 24.0) AS max, VAR_POP(salary / 24\n // end::aggVarPopScalars\n ;\n \n+aggVarSamp\n+// tag::aggVarSamp\n+SELECT MIN(salary) AS min, MAX(salary) AS max, VAR_SAMP(salary) AS varsamp FROM emp;\n+\n+      min      |      max      |     varsamp\n+---------------+---------------+----------------\n+25324          |74999          |1.913926061691E8\n+// end::aggVarSamp\n+;\n+\n+aggVarSampScalars\n+schema::min:d|max:d|varsamp:d\n+// tag::aggVarSampScalars\n+SELECT MIN(salary / 24.0) AS min, MAX(salary / 24.0) AS max, VAR_SAMP(salary / 24.0) AS varsamp FROM emp;\n+\n+       min        |       max        |     varsamp\n+------------------+------------------+----------------\n+1055.1666666666667|3124.9583333333335|332278.830154847\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c76129410c315d32157469f5417d451c0f5ec1cb"}, "originalPosition": 86}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NjMwNjA4", "url": "https://github.com/elastic/elasticsearch/pull/59093#pullrequestreview-444630608", "createdAt": "2020-07-08T10:53:22Z", "commit": {"oid": "c76129410c315d32157469f5417d451c0f5ec1cb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NjkwNTg5", "url": "https://github.com/elastic/elasticsearch/pull/59093#pullrequestreview-444690589", "createdAt": "2020-07-08T12:02:55Z", "commit": {"oid": "c76129410c315d32157469f5417d451c0f5ec1cb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15f16383b495def438bb7276e965244333d807bb", "author": {"user": {"login": "bpintea", "name": "Bogdan Pintea"}}, "url": "https://github.com/elastic/elasticsearch/commit/15f16383b495def438bb7276e965244333d807bb", "committedDate": "2020-07-08T19:13:46Z", "message": "Address review comments\n\n- add QueryTranslatorTests for STDDEV* and VAR* functions;\n- remove superfluous empty line."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5bff33d795363057f24bb60de1533fabd6e0183", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/a5bff33d795363057f24bb60de1533fabd6e0183", "committedDate": "2020-07-08T20:04:16Z", "message": "Merge branch 'master' into enh/add_sample_stddev_variance"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MDk5Nzg5", "url": "https://github.com/elastic/elasticsearch/pull/59093#pullrequestreview-445099789", "createdAt": "2020-07-08T20:20:35Z", "commit": {"oid": "a5bff33d795363057f24bb60de1533fabd6e0183"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2316, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}