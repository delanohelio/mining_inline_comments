{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwMzgxNDI3", "number": 50731, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxNDowNDo1MlrODWjS9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxNDowNDo1MlrODWjS9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0OTczNTU2OnYy", "diffSide": "RIGHT", "path": "test/framework/src/main/java/org/elasticsearch/test/disruption/LongGCDisruption.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxNDowNDo1MlrOFbX1aQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQxNDoxMTo0N1rOFbYBlA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDI0NjM3Nw==", "bodyText": "Could we make this conditional on the JVM version so that we are sure to keep tracking that JVM bug and to drop this fix when it's no longer needed?", "url": "https://github.com/elastic/elasticsearch/pull/50731#discussion_r364246377", "createdAt": "2020-01-08T14:04:52Z", "author": {"login": "DaveCTurner"}, "path": "test/framework/src/main/java/org/elasticsearch/test/disruption/LongGCDisruption.java", "diffHunk": "@@ -251,7 +265,11 @@ protected boolean suspendThreads(Set<Thread> nodeThreads) {\n                          * assuming that it is safe.\n                          */\n                         boolean definitelySafe = true;\n+                        final long startTime = System.nanoTime();\n                         thread.suspend();\n+                        if (System.nanoTime() - startTime > TimeUnit.SECONDS.toNanos(3L)) {\n+                            sawSlowSuspendBug.set(true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5067f6d2a1c85cd301468a41905757221be84d90"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDI0OTQ5Mg==", "bodyText": "Technically we could, but right now we're seeing this failure on all versions. This is a little unexpected on 8 so I figured we'd apply the fix for 8 as well to identify whether it's the same issue (slow suspend) there or if it's blocked somewhere else.", "url": "https://github.com/elastic/elasticsearch/pull/50731#discussion_r364249492", "createdAt": "2020-01-08T14:11:47Z", "author": {"login": "original-brownbear"}, "path": "test/framework/src/main/java/org/elasticsearch/test/disruption/LongGCDisruption.java", "diffHunk": "@@ -251,7 +265,11 @@ protected boolean suspendThreads(Set<Thread> nodeThreads) {\n                          * assuming that it is safe.\n                          */\n                         boolean definitelySafe = true;\n+                        final long startTime = System.nanoTime();\n                         thread.suspend();\n+                        if (System.nanoTime() - startTime > TimeUnit.SECONDS.toNanos(3L)) {\n+                            sawSlowSuspendBug.set(true);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDI0NjM3Nw=="}, "originalCommit": {"oid": "5067f6d2a1c85cd301468a41905757221be84d90"}, "originalPosition": 40}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4915, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}