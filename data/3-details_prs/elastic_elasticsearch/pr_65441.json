{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI2NjA3ODQw", "number": 65441, "title": "Use ValueFetcher when loading text snippets to highlight (#63572)", "bodyText": "HighlighterUtils.loadFieldValues() loads values directly from the source, and\nthen callers have to deal with filtering out values that would have been removed\nby an ignore_above filter on keyword fields. Instead, we can use the\nValueFetcher for the relevant field, which handles all this logic for us.\nCloses #59931.", "createdAt": "2020-11-24T16:29:33Z", "url": "https://github.com/elastic/elasticsearch/pull/65441", "merged": true, "mergeCommit": {"oid": "92e4b15048e5cecbb0613548d544306dee2e3720"}, "closed": true, "closedAt": "2020-11-25T17:00:19Z", "author": {"login": "romseygeek"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfsVCEgH2gAyNTI2NjA3ODQwOmY1ZTkyYmUzMGQyMmEyNTk2MjYxOWIzMThkYmZkYTA0YTc5YjU1MzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdgAi_jAH2gAyNTI2NjA3ODQwOmE3NWJlZDkxYjY4ODUyZDUyOTQ3NjA5YTMwMmY4MGY5NjExZTYzMTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f5e92be30d22a25962619b318dbfda04a79b5535", "author": {"user": {"login": "romseygeek", "name": "Alan Woodward"}}, "url": "https://github.com/elastic/elasticsearch/commit/f5e92be30d22a25962619b318dbfda04a79b5535", "committedDate": "2020-11-24T16:27:41Z", "message": "Use ValueFetcher when loading text snippets to highlight (#63572)\n\nHighlighterUtils.loadFieldValues() loads values directly from the source, and\nthen callers have to deal with filtering out values that would have been removed\nby an ignore_above filter on keyword fields. Instead, we can use the\nValueFetcher for the relevant field, which handles all this logic for us.\n\nCloses #59931."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94f94067c7ef79108bb9a9e860953ac4d90d94ab", "author": {"user": {"login": "romseygeek", "name": "Alan Woodward"}}, "url": "https://github.com/elastic/elasticsearch/commit/94f94067c7ef79108bb9a9e860953ac4d90d94ab", "committedDate": "2020-11-24T16:58:17Z", "message": "compilation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3ODAwMzIx", "url": "https://github.com/elastic/elasticsearch/pull/65441#pullrequestreview-537800321", "createdAt": "2020-11-24T18:36:06Z", "commit": {"oid": "94f94067c7ef79108bb9a9e860953ac4d90d94ab"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxODozNjowNlrOH5QKFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxODozOToxMlrOH5QQzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTc5NTYwNA==", "bodyText": "breaking_710_blah_changes -> breaking_711_blah_changes", "url": "https://github.com/elastic/elasticsearch/pull/65441#discussion_r529795604", "createdAt": "2020-11-24T18:36:06Z", "author": {"login": "jtibshirani"}, "path": "docs/reference/migration/migrate_7_11.asciidoc", "diffHunk": "@@ -0,0 +1,34 @@\n+[[breaking-changes-7.11]]\n+== Breaking changes in 7.11\n+++++\n+<titleabbrev>7.11</titleabbrev>\n+++++\n+\n+This section discusses the changes that you need to be aware of when migrating\n+your application to {es} 7.11.\n+\n+See also <<release-highlights>> and <<es-release-notes>>.\n+\n+// * <<breaking_710_blah_changes>>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94f94067c7ef79108bb9a9e860953ac4d90d94ab"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTc5NTczOA==", "bodyText": "breaking_710_search_changes -> breaking_711_search_changes", "url": "https://github.com/elastic/elasticsearch/pull/65441#discussion_r529795738", "createdAt": "2020-11-24T18:36:22Z", "author": {"login": "jtibshirani"}, "path": "docs/reference/migration/migrate_7_11.asciidoc", "diffHunk": "@@ -0,0 +1,34 @@\n+[[breaking-changes-7.11]]\n+== Breaking changes in 7.11\n+++++\n+<titleabbrev>7.11</titleabbrev>\n+++++\n+\n+This section discusses the changes that you need to be aware of when migrating\n+your application to {es} 7.11.\n+\n+See also <<release-highlights>> and <<es-release-notes>>.\n+\n+// * <<breaking_710_blah_changes>>\n+// * <<breaking_710_blah_changes>>\n+\n+//NOTE: The notable-breaking-changes tagged regions are re-used in the\n+//Installation and Upgrade Guide\n+\n+//tag::notable-breaking-changes[]\n+\n+[discrete]\n+[[breaking_710_search_changes]]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94f94067c7ef79108bb9a9e860953ac4d90d94ab"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTc5NzMyNQ==", "bodyText": "Should we mention the change to copy_to as well? This is technically a breaking behavioral change, and it's nice to alert users about it because they could be able to stopping setting store: true on some fields.", "url": "https://github.com/elastic/elasticsearch/pull/65441#discussion_r529797325", "createdAt": "2020-11-24T18:39:12Z", "author": {"login": "jtibshirani"}, "path": "docs/reference/migration/migrate_7_11.asciidoc", "diffHunk": "@@ -0,0 +1,34 @@\n+[[breaking-changes-7.11]]\n+== Breaking changes in 7.11\n+++++\n+<titleabbrev>7.11</titleabbrev>\n+++++\n+\n+This section discusses the changes that you need to be aware of when migrating\n+your application to {es} 7.11.\n+\n+See also <<release-highlights>> and <<es-release-notes>>.\n+\n+// * <<breaking_710_blah_changes>>\n+// * <<breaking_710_blah_changes>>\n+\n+//NOTE: The notable-breaking-changes tagged regions are re-used in the\n+//Installation and Upgrade Guide\n+\n+//tag::notable-breaking-changes[]\n+\n+[discrete]\n+[[breaking_710_search_changes]]\n+=== Search changes\n+\n+[[highlight-normalization]]\n+.Keyword fields with a custom normalizer will use the normalized form when highlighting", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94f94067c7ef79108bb9a9e860953ac4d90d94ab"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e9e65cdc261f06eadb69e8dcf1f9b0f72aa3a4a", "author": {"user": {"login": "romseygeek", "name": "Alan Woodward"}}, "url": "https://github.com/elastic/elasticsearch/commit/3e9e65cdc261f06eadb69e8dcf1f9b0f72aa3a4a", "committedDate": "2020-11-25T12:15:59Z", "message": "10->11"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4NjQxMzIw", "url": "https://github.com/elastic/elasticsearch/pull/65441#pullrequestreview-538641320", "createdAt": "2020-11-25T15:58:22Z", "commit": {"oid": "3e9e65cdc261f06eadb69e8dcf1f9b0f72aa3a4a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a75bed91b68852d52947609a302f80f9611e6316", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/a75bed91b68852d52947609a302f80f9611e6316", "committedDate": "2020-11-25T16:01:02Z", "message": "Merge branch '7.x' into highlight/fetcher-7x"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4442, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}