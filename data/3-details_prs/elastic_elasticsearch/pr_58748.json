{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyMDM3NTUy", "number": 58748, "title": "EQL: Integrate TOML tests for function folding", "bodyText": "This PR is a wrap up of #57568 and most of the code originates there.\nPart of #57313\nRelated to #57323\nPulled over more tests from EQL to tests that functions are folded correctly. It's similar in approach to our integration tests, but a little simpler since we don't have to go searching for events that match. There's also the same case_sensitive and case_insensitive toggles for tests that only work with one configuration. If neither of those are true, then the test will be checked against both, because it's assumed that the case already matches.", "createdAt": "2020-06-30T13:39:57Z", "url": "https://github.com/elastic/elasticsearch/pull/58748", "merged": true, "mergeCommit": {"oid": "e9b1fa58cf8d510a4b4afb14f66b0d5f9c603ebb"}, "closed": true, "closedAt": "2020-07-01T08:56:25Z", "author": {"login": "astefan"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwCildAH2gAyNDQyMDM3NTUyOjQ1MDIyYjVhMjhhN2M2NTczZTNiMDY2OTFiNzZjNGIzNTU0ZjM3NzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwlbZ2AFqTQ0MDYyNzc2Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "45022b5a28a7c6573e3b06691b76c4b3554f3770", "author": {"user": {"login": "rw-access", "name": "Ross Wolf"}}, "url": "https://github.com/elastic/elasticsearch/commit/45022b5a28a7c6573e3b06691b76c4b3554f3770", "committedDate": "2020-06-29T15:12:02Z", "message": "EQL: Integrate TOML tests for function folding\n\n(cherry picked from commit 5141fffaac1bcd8081b65ce835a08094ddfc7b29)\n\nEQL: PR feedback and remove duplicate licenses\n(cherry picked from commit 5a1cdf633efffd5a67d6e130df970941ecfbd67e)\n\nEQL: Unbox case_sensitive/case_insensitive\n(cherry picked from commit 96e9d84e1519a9f0b5383f8c4a89fd68bd720a50)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25797d6a948609e907f5f4123ada001425eeaabb", "author": {"user": {"login": "astefan", "name": "Andrei Stefan"}}, "url": "https://github.com/elastic/elasticsearch/commit/25797d6a948609e907f5f4123ada001425eeaabb", "committedDate": "2020-06-30T13:30:23Z", "message": "Change the way the expression is analyzed and folded"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a81f442c9ded11aac8e6a850160114826d877cf", "author": {"user": {"login": "astefan", "name": "Andrei Stefan"}}, "url": "https://github.com/elastic/elasticsearch/commit/7a81f442c9ded11aac8e6a850160114826d877cf", "committedDate": "2020-06-30T13:31:24Z", "message": "Merge branch 'master' of https://github.com/elastic/elasticsearch into fold-tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwNjI3NzY3", "url": "https://github.com/elastic/elasticsearch/pull/58748#pullrequestreview-440627767", "createdAt": "2020-07-01T07:50:44Z", "commit": {"oid": "7a81f442c9ded11aac8e6a850160114826d877cf"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwNzo1MDo0NVrOGraz9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwNzo1MDo0NVrOGraz9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODE4MTIzOQ==", "bodyText": "At some point it would be good to put the JTOM utilities in a central place (maybe their own project) to avoid having to have this code duplicated in various places.", "url": "https://github.com/elastic/elasticsearch/pull/58748#discussion_r448181239", "createdAt": "2020-07-01T07:50:45Z", "author": {"login": "costin"}, "path": "x-pack/plugin/eql/src/test/java/org/elasticsearch/xpack/eql/optimizer/EqlFoldSpecLoader.java", "diffHunk": "@@ -0,0 +1,72 @@\n+/*\n+ * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n+ * or more contributor license agreements. Licensed under the Elastic License;\n+ * you may not use this file except in compliance with the Elastic License.\n+ */\n+\n+package org.elasticsearch.xpack.eql.optimizer;\n+\n+import io.ous.jtoml.JToml;\n+import io.ous.jtoml.Toml;\n+import io.ous.jtoml.TomlTable;\n+\n+import java.io.InputStream;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+\n+public class EqlFoldSpecLoader {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a81f442c9ded11aac8e6a850160114826d877cf"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2596, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}