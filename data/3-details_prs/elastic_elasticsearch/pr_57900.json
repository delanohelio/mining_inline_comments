{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyMDI1NDU2", "number": 57900, "title": "Ignore matching data streams if include_data_streams is false", "bodyText": "Currently, any requests that match a data stream on APIs that are not enabled for data streams return an error that a data stream was matched. This PR changes the name resolution to simply ignore data streams for APIs that are not enabled for data streams.\nRelates to #53100\nRelates to #57712", "createdAt": "2020-06-09T19:43:34Z", "url": "https://github.com/elastic/elasticsearch/pull/57900", "merged": true, "mergeCommit": {"oid": "c3aaf33d73c41b8a26d9228a5f9cfb26ba2b8a03"}, "closed": true, "closedAt": "2020-07-03T13:46:02Z", "author": {"login": "danhermann"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcp0F6fAFqTQyNzc1NjkxMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcxSousgH2gAyNDMyMDI1NDU2OjI3ZGEzMTg3ZjA2YzcyY2I1MWYzZmRkZjUzMjhjYmU5Y2IyYTQxMWQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NzU2OTEz", "url": "https://github.com/elastic/elasticsearch/pull/57900#pullrequestreview-427756913", "createdAt": "2020-06-10T06:52:12Z", "commit": {"oid": "44afb54262735e93ddbd880641d2910715b3e469"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwNjo1MjoxMlrOGhnHRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQwNjo1MjoxMlrOGhnHRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzg5NzAyOA==", "bodyText": "This fails when this yaml test is executed with security enabled.\nlogs-* is expanded to logs-foobar and then later this fails with a 404.\nSo in order to make this test execute constantly with and without security enabled, we should change\nindex: logs-* to `index: logs-foobar. This should change the meaning of this test.", "url": "https://github.com/elastic/elasticsearch/pull/57900#discussion_r437897028", "createdAt": "2020-06-10T06:52:12Z", "author": {"login": "martijnvg"}, "path": "rest-api-spec/src/main/resources/rest-api-spec/test/indices.data_stream/20_unsupported_apis.yml", "diffHunk": "@@ -61,7 +61,6 @@\n         index: logs-foobarbaz\n \n   - do:\n-      catch: bad_request", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "44afb54262735e93ddbd880641d2910715b3e469"}, "originalPosition": 27}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e6c7cb4b8d9bb88a313cd32589c4f95f9dd36a47", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/e6c7cb4b8d9bb88a313cd32589c4f95f9dd36a47", "committedDate": "2020-06-10T12:48:11Z", "message": "remove test failing due to security"}, "afterCommit": {"oid": "75811543b2154238ea853b789a77bad21b551888", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/75811543b2154238ea853b789a77bad21b551888", "committedDate": "2020-06-30T15:51:16Z", "message": "remove test failing due to security"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5c95733ba937496b43b19ade48bc0c4cff308fcf", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/5c95733ba937496b43b19ade48bc0c4cff308fcf", "committedDate": "2020-06-30T16:49:46Z", "message": "fix merge conflict"}, "afterCommit": {"oid": "2ef0ab5470789569c7aca69b0a813495995cffbd", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/2ef0ab5470789569c7aca69b0a813495995cffbd", "committedDate": "2020-07-02T16:12:08Z", "message": "Ignore matching data streams if include_data_streams is false"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2ef0ab5470789569c7aca69b0a813495995cffbd", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/2ef0ab5470789569c7aca69b0a813495995cffbd", "committedDate": "2020-07-02T16:12:08Z", "message": "Ignore matching data streams if include_data_streams is false"}, "afterCommit": {"oid": "dcf507ee17c151670c239d3df6c2975df24d2934", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/dcf507ee17c151670c239d3df6c2975df24d2934", "committedDate": "2020-07-02T17:02:51Z", "message": "Ignore matching data streams if include_data_streams is false"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c51497462cc9518c7edf22d0dd5d2b91f1de6cc7", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/c51497462cc9518c7edf22d0dd5d2b91f1de6cc7", "committedDate": "2020-07-03T04:56:34Z", "message": "Ignore matching data streams if include_data_streams is false"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9997d33d7ffd45a78cd171f5d9466cc92829a28a", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/9997d33d7ffd45a78cd171f5d9466cc92829a28a", "committedDate": "2020-07-02T19:28:08Z", "message": "disable BWC tests"}, "afterCommit": {"oid": "c51497462cc9518c7edf22d0dd5d2b91f1de6cc7", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/c51497462cc9518c7edf22d0dd5d2b91f1de6cc7", "committedDate": "2020-07-03T04:56:34Z", "message": "Ignore matching data streams if include_data_streams is false"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23981c14cef3b98ce463380c22d172f86253975d", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/23981c14cef3b98ce463380c22d172f86253975d", "committedDate": "2020-07-03T05:01:19Z", "message": "fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07f9311fecc4830f411305e11e72e3309bd1fb45", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/07f9311fecc4830f411305e11e72e3309bd1fb45", "committedDate": "2020-07-03T05:52:13Z", "message": "fix more tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04ca17bc163c0c1d07a23de520c389c33480a5b8", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/04ca17bc163c0c1d07a23de520c389c33480a5b8", "committedDate": "2020-07-03T11:39:31Z", "message": "Merge branch 'master' into do_not_fail_when_data_streams_match"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc7974d52370519b9ab829bfac1f52a50d9f4338", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/fc7974d52370519b9ab829bfac1f52a50d9f4338", "committedDate": "2020-07-03T11:53:46Z", "message": "fix merge error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6e20349fbb423f47961acd1e4aead89835a0d8e", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/f6e20349fbb423f47961acd1e4aead89835a0d8e", "committedDate": "2020-07-03T12:12:26Z", "message": "fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27da3187f06c72cb51f3fddf5328cbe9cb2a411d", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/27da3187f06c72cb51f3fddf5328cbe9cb2a411d", "committedDate": "2020-07-03T12:31:09Z", "message": "checkstyle"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 719, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}