{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyMTg1NTk2", "number": 65862, "title": "[DOCS] Document hidden data streams and naming restrictions", "bodyText": "Documents #63987 and #65795\nPreviews\n\nAPI conventions: https://elasticsearch_65862.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/multi-index.html#hidden-indices\nSet up a data stream: https://elasticsearch_65862.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/set-up-a-data-stream.html#create-a-data-stream-template\nCreate a data stream API: https://elasticsearch_65862.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/indices-create-data-stream.html#indices-create-data-stream-api-path-params\nData stream stats API: https://elasticsearch_65862.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/data-stream-stats-api.html#data-stream-stats-api-query-params\nDelete data stream API: https://elasticsearch_65862.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/indices-delete-data-stream.html#delete-data-stream-api-query-params\nGet data stream API: https://elasticsearch_65862.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/indices-get-data-stream.html#get-data-stream-api-query-parms\nPut index template API: https://elasticsearch_65862.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/indices-put-template.html#put-index-template-api-request-body", "createdAt": "2020-12-03T23:32:13Z", "url": "https://github.com/elastic/elasticsearch/pull/65862", "merged": true, "mergeCommit": {"oid": "518d71d1e38a2fe94a589ad4b6ec13bc8a3a696d"}, "closed": true, "closedAt": "2021-01-13T14:09:16Z", "author": {"login": "jrodewig"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdiuDurAH2gAyNTMyMTg1NTk2OjE3MTk1MDQ0NWE1MDBkNTY4Y2E2ZDI3NWMwNDlmYzdiODNiODgzOTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdvwAdKgH2gAyNTMyMTg1NTk2OjQ5MzcyMDYyNGMzMGU1YTNlMTE2MzBjNThlMDU4Mjk4MjJkMzIzNGU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "171950445a500d568ca6d275c049fc7b83b88394", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/171950445a500d568ca6d275c049fc7b83b88394", "committedDate": "2020-12-04T02:10:22Z", "message": "[DOCS] Document hidden data streams and naming restrictions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fb80d21f740fe9c2b1b5f455b4ae98fc1e8fac25", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/fb80d21f740fe9c2b1b5f455b4ae98fc1e8fac25", "committedDate": "2020-12-04T02:05:28Z", "message": "fixup"}, "afterCommit": {"oid": "171950445a500d568ca6d275c049fc7b83b88394", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/171950445a500d568ca6d275c049fc7b83b88394", "committedDate": "2020-12-04T02:10:22Z", "message": "[DOCS] Document hidden data streams and naming restrictions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "302526144926341e8b24b0a9ce879c4abdc14d28", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/302526144926341e8b24b0a9ce879c4abdc14d28", "committedDate": "2020-12-04T02:14:46Z", "message": "fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86070932e7414e3903701d3360a0974aaf9c2cff", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/86070932e7414e3903701d3360a0974aaf9c2cff", "committedDate": "2020-12-04T02:27:50Z", "message": "make expand wildcards consistent"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aeb28d27da095f9517f28bd6901415e907c1e6f4", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/aeb28d27da095f9517f28bd6901415e907c1e6f4", "committedDate": "2020-12-04T02:33:57Z", "message": "reword"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e24418851eb15647f2d125ee6f3a82dcae9913e4", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/e24418851eb15647f2d125ee6f3a82dcae9913e4", "committedDate": "2020-12-04T03:23:25Z", "message": "Edit"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYzMDU2ODU1", "url": "https://github.com/elastic/elasticsearch/pull/65862#pullrequestreview-563056855", "createdAt": "2021-01-06T21:46:16Z", "commit": {"oid": "e24418851eb15647f2d125ee6f3a82dcae9913e4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQyMTo0NjoxNlrOIPXBGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQyMTo0NjoxNlrOIPXBGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Mjk3NjY2Nw==", "bodyText": "In my testing, open and closed match hidden indices and data streams though I'm not sure why.", "url": "https://github.com/elastic/elasticsearch/pull/65862#discussion_r552976667", "createdAt": "2021-01-06T21:46:16Z", "author": {"login": "danhermann"}, "path": "docs/reference/rest-api/common-parms.asciidoc", "diffHunk": "@@ -209,22 +209,24 @@ tag::expand-wildcards[]\n `expand_wildcards`::\n +\n --\n-(Optional, string) Controls what kind of indices that wildcard expressions can\n-expand to. Multiple values are accepted when separated by a comma, as in\n-`open,hidden`. Valid values are:\n+(Optional, string)\n+Type of index that wildcard expressions can match. If the request can target\n+data streams, this argument determines whether wildcard expressions match\n+hidden data streams. Supports comma-separated values, such as `open,hidden`.\n+Valid values are:\n \n `all`::\n-Expand to open and closed indices, including <<hidden-indices,hidden indices>>.\n+Match any data stream or index, including <<hidden-indices,hidden>> ones.\n \n `open`::\n-Expand only to open indices.\n+Match non-hidden data streams and open, non-hidden indices.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e24418851eb15647f2d125ee6f3a82dcae9913e4"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "def8366c643a0db5a2e35d4f106244aa914295b8", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/def8366c643a0db5a2e35d4f106244aa914295b8", "committedDate": "2021-01-06T23:26:57Z", "message": "Fix typo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY1ODMwODk1", "url": "https://github.com/elastic/elasticsearch/pull/65862#pullrequestreview-565830895", "createdAt": "2021-01-11T23:58:58Z", "commit": {"oid": "def8366c643a0db5a2e35d4f106244aa914295b8"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMVQyMzo1ODo1OFrOIRr3Pw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMlQwMDowMzoxM1rOIRr8cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTQxNTM1OQ==", "bodyText": "For data streams API (get, delete, stats etc) both open and closed will return all data streams (excluding hidden with hidden is not specified) - we don't have a concept of closed and open data streams. I'm not really sure how to point that out in the documentation", "url": "https://github.com/elastic/elasticsearch/pull/65862#discussion_r555415359", "createdAt": "2021-01-11T23:58:58Z", "author": {"login": "probakowski"}, "path": "docs/reference/rest-api/common-parms.asciidoc", "diffHunk": "@@ -209,22 +209,24 @@ tag::expand-wildcards[]\n `expand_wildcards`::\n +\n --\n-(Optional, string) Controls what kind of indices that wildcard expressions can\n-expand to. Multiple values are accepted when separated by a comma, as in\n-`open,hidden`. Valid values are:\n+(Optional, string)\n+Type of index that wildcard expressions can match. If the request can target\n+data streams, this argument determines whether wildcard expressions match\n+hidden data streams. Supports comma-separated values, such as `open,hidden`.\n+Valid values are:\n \n `all`::\n-Expand to open and closed indices, including <<hidden-indices,hidden indices>>.\n+Match any data stream or index, including <<hidden-indices,hidden>> ones.\n \n `open`::\n-Expand only to open indices.\n+Match non-hidden data streams and open, non-hidden indices.\n \n `closed`::\n-Expand only to closed indices.\n+Match closed indices.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "def8366c643a0db5a2e35d4f106244aa914295b8"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTQxNjY5MA==", "bodyText": "For data streams API (get, delete, stats etc) there's a shortcut - if you provide only hidden it will work as open,hidden -  we don't have a concept of closed and open data streams so forcing user to add it seems unnecessary. Of course it's not the case for search APIs where open and closed apply to the backing indices of data stream.", "url": "https://github.com/elastic/elasticsearch/pull/65862#discussion_r555416690", "createdAt": "2021-01-12T00:03:13Z", "author": {"login": "probakowski"}, "path": "docs/reference/rest-api/common-parms.asciidoc", "diffHunk": "@@ -209,22 +209,24 @@ tag::expand-wildcards[]\n `expand_wildcards`::\n +\n --\n-(Optional, string) Controls what kind of indices that wildcard expressions can\n-expand to. Multiple values are accepted when separated by a comma, as in\n-`open,hidden`. Valid values are:\n+(Optional, string)\n+Type of index that wildcard expressions can match. If the request can target\n+data streams, this argument determines whether wildcard expressions match\n+hidden data streams. Supports comma-separated values, such as `open,hidden`.\n+Valid values are:\n \n `all`::\n-Expand to open and closed indices, including <<hidden-indices,hidden indices>>.\n+Match any data stream or index, including <<hidden-indices,hidden>> ones.\n \n `open`::\n-Expand only to open indices.\n+Match non-hidden data streams and open, non-hidden indices.\n \n `closed`::\n-Expand only to closed indices.\n+Match closed indices.\n \n `hidden`::\n-Expansion of wildcards will include hidden indices.\n-Must be combined with `open`, `closed`, or both.\n+Match hidden data streams and hidden indices. Must be combined with `open`,\n+`closed`, or both.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "def8366c643a0db5a2e35d4f106244aa914295b8"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04cd44009a2f27b9f2ef93f1125d5f17edd76a13", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/04cd44009a2f27b9f2ef93f1125d5f17edd76a13", "committedDate": "2021-01-12T02:59:20Z", "message": "Add separate def for DS expand wildcards"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "477cbd0ab0cdf713eb7fb03dee0d4fcf5116c4c8", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/477cbd0ab0cdf713eb7fb03dee0d4fcf5116c4c8", "committedDate": "2021-01-12T03:01:10Z", "message": "Consistent wording"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3472d533afe2a8d791c293e4011ed1670eca587", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/d3472d533afe2a8d791c293e4011ed1670eca587", "committedDate": "2021-01-12T14:18:05Z", "message": "Update DS expand wildcards def"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4521e01bd39de4d127c68858d799f396d4075f8", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/c4521e01bd39de4d127c68858d799f396d4075f8", "committedDate": "2021-01-12T14:19:16Z", "message": "Condense values"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a489215ac07251ae4db7957b4600bee878c29ea0", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/a489215ac07251ae4db7957b4600bee878c29ea0", "committedDate": "2021-01-12T14:20:00Z", "message": "Reword"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY2NzU1MjQ5", "url": "https://github.com/elastic/elasticsearch/pull/65862#pullrequestreview-566755249", "createdAt": "2021-01-12T22:29:28Z", "commit": {"oid": "a489215ac07251ae4db7957b4600bee878c29ea0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "493720624c30e5a3e11630c58e05829822d3234e", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/493720624c30e5a3e11630c58e05829822d3234e", "committedDate": "2021-01-13T13:47:37Z", "message": "Remove fragment"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3984, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}