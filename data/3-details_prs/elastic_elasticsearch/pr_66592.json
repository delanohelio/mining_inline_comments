{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyNTQyNjE1", "number": 66592, "title": "[DOCS] Network community ID processor for ingest pipelines", "bodyText": "Depends on #66534.", "createdAt": "2020-12-18T13:26:12Z", "url": "https://github.com/elastic/elasticsearch/pull/66592", "merged": true, "mergeCommit": {"oid": "427d135cb6e694d27ef003fa781efb6e81566418"}, "closed": true, "closedAt": "2021-01-20T14:21:03Z", "author": {"login": "danhermann"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdnLIdwgH2gAyNTQyNTQyNjE1Ojk4NTIxYjRmOTViMTI0YmJmMmI0YjljNTZhNGFiMzNkZGI3NGZhZTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdtf44kgH2gAyNTQyNTQyNjE1OmZmM2MwMDMyZWNmMWM0NzZkNjEwYTc1OTJiZTA5N2FhYmFjYjQ2OWI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "98521b4f95b124bbf2b4b9c56a4ab33ddb74fae0", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/98521b4f95b124bbf2b4b9c56a4ab33ddb74fae0", "committedDate": "2020-12-17T22:18:29Z", "message": "[DOCS] Network community ID processor for ingest pipelines"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1NTM5Nzc5", "url": "https://github.com/elastic/elasticsearch/pull/66592#pullrequestreview-555539779", "createdAt": "2020-12-18T14:34:22Z", "commit": {"oid": "98521b4f95b124bbf2b4b9c56a4ab33ddb74fae0"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxNDozNDoyM1rOIIlK3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxNTowMToxNlrOIIml1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTg2ODUwOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            0 and 65535.\n          \n          \n            \n            0 and 65535. This can be use to prevent hash collisions between network domains\n          \n          \n            \n            (such as a staging and production network that use the same addressing scheme).\n          \n      \n    \n    \n  \n\nI thought it would be useful to explain when seed could be used.", "url": "https://github.com/elastic/elasticsearch/pull/66592#discussion_r545868509", "createdAt": "2020-12-18T14:34:23Z", "author": {"login": "andrewkroh"}, "path": "docs/reference/ingest/processors/community-id.asciidoc", "diffHunk": "@@ -0,0 +1,91 @@\n+[role=\"xpack\"]\n+[testenv=\"basic\"]\n+[[community-id-processor]]\n+=== Community ID processor\n+++++\n+<titleabbrev>Community ID</titleabbrev>\n+++++\n+\n+Computes the Community ID for flow data as defined in the\n+https://github.com/corelight/community-id-spec[Community ID Specification].\n+\n+[[community-id-options]]\n+.Community ID Options\n+[options=\"header\"]\n+|======\n+| Name               | Required | Default       | Description\n+| `source_ip`        | no       | `source.ip`   | Field containing the source IP address.\n+| `source_port`      | no       | `source.port` | Field containing the source port.\n+| `destination_ip`   | no       | `destination.ip` | Field containing the destination IP address.\n+| `destination_port` | no       | `destination.port` | Field containing the destination port.\n+| `iana_number`      | no       | `network.iana_number` | Field containing the IANA number.\n+| `icmp_type`        | no       | `icmp.type`   | Field containing the ICMP type.\n+| `icmp_code`        | no       | `icmp.code`   | Field containing the ICMP code.\n+| `transport`        | no       | `network.transport` | Field containing the transport protocol.\n+| `target_field`     | no       | `network.community_id` | Output field for the community ID.\n+| `seed`             | no       | `0`           | Seed for the community ID hash. Must be between\n+0 and 65535.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "98521b4f95b124bbf2b4b9c56a4ab33ddb74fae0"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTg5MDM0NQ==", "bodyText": "WDYT about copying the first three paragraphs from Beats verbatim?\nhttps://github.com/elastic/beats/blame/7.10/libbeat/processors/communityid/docs/communityid.asciidoc#L8-L19", "url": "https://github.com/elastic/elasticsearch/pull/66592#discussion_r545890345", "createdAt": "2020-12-18T14:59:52Z", "author": {"login": "andrewkroh"}, "path": "docs/reference/ingest/processors/community-id.asciidoc", "diffHunk": "@@ -0,0 +1,91 @@\n+[role=\"xpack\"]\n+[testenv=\"basic\"]\n+[[community-id-processor]]\n+=== Community ID processor\n+++++\n+<titleabbrev>Community ID</titleabbrev>\n+++++\n+\n+Computes the Community ID for flow data as defined in the", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "98521b4f95b124bbf2b4b9c56a4ab33ddb74fae0"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTg5MTc5OA==", "bodyText": "Should we mention that this field is only used when the iana_number field does not exist?", "url": "https://github.com/elastic/elasticsearch/pull/66592#discussion_r545891798", "createdAt": "2020-12-18T15:01:16Z", "author": {"login": "andrewkroh"}, "path": "docs/reference/ingest/processors/community-id.asciidoc", "diffHunk": "@@ -0,0 +1,91 @@\n+[role=\"xpack\"]\n+[testenv=\"basic\"]\n+[[community-id-processor]]\n+=== Community ID processor\n+++++\n+<titleabbrev>Community ID</titleabbrev>\n+++++\n+\n+Computes the Community ID for flow data as defined in the\n+https://github.com/corelight/community-id-spec[Community ID Specification].\n+\n+[[community-id-options]]\n+.Community ID Options\n+[options=\"header\"]\n+|======\n+| Name               | Required | Default       | Description\n+| `source_ip`        | no       | `source.ip`   | Field containing the source IP address.\n+| `source_port`      | no       | `source.port` | Field containing the source port.\n+| `destination_ip`   | no       | `destination.ip` | Field containing the destination IP address.\n+| `destination_port` | no       | `destination.port` | Field containing the destination port.\n+| `iana_number`      | no       | `network.iana_number` | Field containing the IANA number.\n+| `icmp_type`        | no       | `icmp.type`   | Field containing the ICMP type.\n+| `icmp_code`        | no       | `icmp.code`   | Field containing the ICMP code.\n+| `transport`        | no       | `network.transport` | Field containing the transport protocol.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "98521b4f95b124bbf2b4b9c56a4ab33ddb74fae0"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ebf37f774426143ae180419a3338d4726ef044bd", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/ebf37f774426143ae180419a3338d4726ef044bd", "committedDate": "2020-12-18T16:34:28Z", "message": "Update docs/reference/ingest/processors/community-id.asciidoc\n\nCo-authored-by: Andrew Kroh <andrew.kroh@elastic.co>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa0f736c495c637b098611061f1d3cfe05110087", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/aa0f736c495c637b098611061f1d3cfe05110087", "committedDate": "2020-12-18T16:37:25Z", "message": "review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1NjkwMTg4", "url": "https://github.com/elastic/elasticsearch/pull/66592#pullrequestreview-555690188", "createdAt": "2020-12-18T17:46:57Z", "commit": {"oid": "aa0f736c495c637b098611061f1d3cfe05110087"}, "state": "APPROVED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxNzo0Njo1N1rOIIsltg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxODoxMTowMlrOIItXHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTk5MDA3MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Here is an example definition of the URI parts processor:\n          \n          \n            \n            Here is an example definition of the community ID processor:", "url": "https://github.com/elastic/elasticsearch/pull/66592#discussion_r545990070", "createdAt": "2020-12-18T17:46:57Z", "author": {"login": "jrodewig"}, "path": "docs/reference/ingest/processors/community-id.asciidoc", "diffHunk": "@@ -0,0 +1,93 @@\n+[role=\"xpack\"]\n+[testenv=\"basic\"]\n+[[community-id-processor]]\n+=== Community ID processor\n+++++\n+<titleabbrev>Community ID</titleabbrev>\n+++++\n+\n+Computes the Community ID for flow data as defined in the\n+https://github.com/corelight/community-id-spec[Community ID Specification].\n+\n+[[community-id-options]]\n+.Community ID Options\n+[options=\"header\"]\n+|======\n+| Name               | Required | Default       | Description\n+| `source_ip`        | no       | `source.ip`   | Field containing the source IP address.\n+| `source_port`      | no       | `source.port` | Field containing the source port.\n+| `destination_ip`   | no       | `destination.ip` | Field containing the destination IP address.\n+| `destination_port` | no       | `destination.port` | Field containing the destination port.\n+| `iana_number`      | no       | `network.iana_number` | Field containing the IANA number.\n+| `icmp_type`        | no       | `icmp.type`   | Field containing the ICMP type.\n+| `icmp_code`        | no       | `icmp.code`   | Field containing the ICMP code.\n+| `transport`        | no       | `network.transport` | Field containing the transport protocol.\n+Used only when the `iana_number` field is not present.\n+| `target_field`     | no       | `network.community_id` | Output field for the community ID.\n+| `seed`             | no       | `0`           | Seed for the community ID hash. Must be between\n+0 and 65535. This can be use to prevent hash collisions between network domains\n+such as a staging and production network that use the same addressing scheme.\n+| `ignore_missing`   | no       | `true`        | If `true` and any required fields are missing,\n+the processor quietly exits without modifying the document.\n+\n+include::common-options.asciidoc[]\n+|======\n+\n+Here is an example definition of the URI parts processor:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa0f736c495c637b098611061f1d3cfe05110087"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjAwMDA0OQ==", "bodyText": "Lowercases community ID. Also adds a few additional sentences as noted above.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Computes the Community ID for flow data as defined in the\n          \n          \n            \n            https://github.com/corelight/community-id-spec[Community ID Specification].\n          \n          \n            \n            Computes the community ID for network flow data as defined in the\n          \n          \n            \n            https://github.com/corelight/community-id-spec[Community ID Specification]. You\n          \n          \n            \n            can use a community ID to correlate network events related to a single flow.\n          \n          \n            \n            \n          \n          \n            \n            The community ID processor reads network flow data from related\n          \n          \n            \n            {ecs-ref}[Elastic Common Schema (ECS)] fields by default. If you use the ECS, no\n          \n          \n            \n            configuration is required.", "url": "https://github.com/elastic/elasticsearch/pull/66592#discussion_r546000049", "createdAt": "2020-12-18T18:05:54Z", "author": {"login": "jrodewig"}, "path": "docs/reference/ingest/processors/community-id.asciidoc", "diffHunk": "@@ -0,0 +1,93 @@\n+[role=\"xpack\"]\n+[testenv=\"basic\"]\n+[[community-id-processor]]\n+=== Community ID processor\n+++++\n+<titleabbrev>Community ID</titleabbrev>\n+++++\n+\n+Computes the Community ID for flow data as defined in the\n+https://github.com/corelight/community-id-spec[Community ID Specification].", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa0f736c495c637b098611061f1d3cfe05110087"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjAwMDQ2Mg==", "bodyText": "I don't think we should copy the paragraphs verbatim. That text is pretty Beats-centric. However, we can include a brief sentence about how a community ID is used and the ECS defaults. I've included a related suggestion below.", "url": "https://github.com/elastic/elasticsearch/pull/66592#discussion_r546000462", "createdAt": "2020-12-18T18:06:46Z", "author": {"login": "jrodewig"}, "path": "docs/reference/ingest/processors/community-id.asciidoc", "diffHunk": "@@ -0,0 +1,91 @@\n+[role=\"xpack\"]\n+[testenv=\"basic\"]\n+[[community-id-processor]]\n+=== Community ID processor\n+++++\n+<titleabbrev>Community ID</titleabbrev>\n+++++\n+\n+Computes the Community ID for flow data as defined in the", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTg5MDM0NQ=="}, "originalCommit": {"oid": "98521b4f95b124bbf2b4b9c56a4ab33ddb74fae0"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjAwMjcxNw==", "bodyText": "It's not clear if this range is inclusive or exclusive, though you can guess from the default. I'd just add a parenthetical afterward, e.g. (inclusive).\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            0 and 65535. This can be use to prevent hash collisions between network domains\n          \n          \n            \n            `0` and `65535` (inclusive). The seed prevents hash collisions between network domains,", "url": "https://github.com/elastic/elasticsearch/pull/66592#discussion_r546002717", "createdAt": "2020-12-18T18:11:02Z", "author": {"login": "jrodewig"}, "path": "docs/reference/ingest/processors/community-id.asciidoc", "diffHunk": "@@ -0,0 +1,93 @@\n+[role=\"xpack\"]\n+[testenv=\"basic\"]\n+[[community-id-processor]]\n+=== Community ID processor\n+++++\n+<titleabbrev>Community ID</titleabbrev>\n+++++\n+\n+Computes the Community ID for flow data as defined in the\n+https://github.com/corelight/community-id-spec[Community ID Specification].\n+\n+[[community-id-options]]\n+.Community ID Options\n+[options=\"header\"]\n+|======\n+| Name               | Required | Default       | Description\n+| `source_ip`        | no       | `source.ip`   | Field containing the source IP address.\n+| `source_port`      | no       | `source.port` | Field containing the source port.\n+| `destination_ip`   | no       | `destination.ip` | Field containing the destination IP address.\n+| `destination_port` | no       | `destination.port` | Field containing the destination port.\n+| `iana_number`      | no       | `network.iana_number` | Field containing the IANA number.\n+| `icmp_type`        | no       | `icmp.type`   | Field containing the ICMP type.\n+| `icmp_code`        | no       | `icmp.code`   | Field containing the ICMP code.\n+| `transport`        | no       | `network.transport` | Field containing the transport protocol.\n+Used only when the `iana_number` field is not present.\n+| `target_field`     | no       | `network.community_id` | Output field for the community ID.\n+| `seed`             | no       | `0`           | Seed for the community ID hash. Must be between\n+0 and 65535. This can be use to prevent hash collisions between network domains", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa0f736c495c637b098611061f1d3cfe05110087"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff3c0032ecf1c476d610a7592be097aabacb469b", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/ff3c0032ecf1c476d610a7592be097aabacb469b", "committedDate": "2021-01-06T13:53:01Z", "message": "more review comments"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4368, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}