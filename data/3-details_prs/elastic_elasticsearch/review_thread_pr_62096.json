{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgyMDQ1MTE3", "number": 62096, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNjo0NDo0MFrOEhVNGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNjo0NDo0MFrOEhVNGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzMzg1ODgxOnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/trainedmodel/inference/EnsembleInferenceModel.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNjo0NDo0MFrOHOlpCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNjo1MDowMlrOHOl08g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTA1ODgyNQ==", "bodyText": "Should we make this debug message take a runnable? I think it's called for each doc so it might be worth avoiding running all this if logging is not debug.", "url": "https://github.com/elastic/elasticsearch/pull/62096#discussion_r485058825", "createdAt": "2020-09-08T16:44:40Z", "author": {"login": "dimitris-athanasiou"}, "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/trainedmodel/inference/EnsembleInferenceModel.java", "diffHunk": "@@ -142,9 +132,7 @@ private InferenceResults innerInfer(double[] features, InferenceConfig config, M\n         if (preparedForInference == false) {\n             throw ExceptionsHelper.serverError(\"model is not prepared for inference\");\n         }\n-        LOGGER.debug(\"Inference called with feature names [{}]\",\n-            featureNames == null ? \"<null>\" : Strings.arrayToCommaDelimitedString(featureNames));\n-        assert featureNames != null && featureNames.length > 0;\n+        LOGGER.debug(\"Inference called with feature names [{}]\", Strings.arrayToCommaDelimitedString(featureNames));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "de6ffcab9a8225244841fa6be63d1f7cbeacaa0d"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTA2MTg3NA==", "bodyText": "DEFINITELY! It should be a runnable.", "url": "https://github.com/elastic/elasticsearch/pull/62096#discussion_r485061874", "createdAt": "2020-09-08T16:50:02Z", "author": {"login": "benwtrent"}, "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/ml/inference/trainedmodel/inference/EnsembleInferenceModel.java", "diffHunk": "@@ -142,9 +132,7 @@ private InferenceResults innerInfer(double[] features, InferenceConfig config, M\n         if (preparedForInference == false) {\n             throw ExceptionsHelper.serverError(\"model is not prepared for inference\");\n         }\n-        LOGGER.debug(\"Inference called with feature names [{}]\",\n-            featureNames == null ? \"<null>\" : Strings.arrayToCommaDelimitedString(featureNames));\n-        assert featureNames != null && featureNames.length > 0;\n+        LOGGER.debug(\"Inference called with feature names [{}]\", Strings.arrayToCommaDelimitedString(featureNames));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTA1ODgyNQ=="}, "originalCommit": {"oid": "de6ffcab9a8225244841fa6be63d1f7cbeacaa0d"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1672, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}