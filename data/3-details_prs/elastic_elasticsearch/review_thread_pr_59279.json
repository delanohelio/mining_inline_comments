{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2Njk4MzY0", "number": 59279, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxMToxMTowMVrOEONkAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0ODo1N1rOEOSxEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzMzM3NzMxOnYy", "diffSide": "LEFT", "path": "docs/plugins/repository-azure.asciidoc", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxMToxMTowMVrOGxPDvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDoxMzoxM1rOGxVk7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDI4MDEyNQ==", "bodyText": "I think we should still keep the docs for chunk_size. Perhaps we can mention that lowering this value can result in much more files in the repo. Still, it's a valid option and should be documented.", "url": "https://github.com/elastic/elasticsearch/pull/59279#discussion_r454280125", "createdAt": "2020-07-14T11:11:01Z", "author": {"login": "ywelsch"}, "path": "docs/plugins/repository-azure.asciidoc", "diffHunk": "@@ -162,12 +162,6 @@ The Azure repository supports following settings:\n     Specifies the path within container to repository data. Defaults to empty\n     (root directory).\n \n-`chunk_size`::", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2600205bbdaaee8cb0b01e443ae6055b16a39a8b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDM2Mzc2OQ==", "bodyText": "Still, it's a valid option and should be documented.\n\nIs it though? Setting this option has no advantages whatsoever doesn't it? And we had a few cases both internal and external where people mistook this option as some sort of buffer size.", "url": "https://github.com/elastic/elasticsearch/pull/59279#discussion_r454363769", "createdAt": "2020-07-14T13:40:36Z", "author": {"login": "original-brownbear"}, "path": "docs/plugins/repository-azure.asciidoc", "diffHunk": "@@ -162,12 +162,6 @@ The Azure repository supports following settings:\n     Specifies the path within container to repository data. Defaults to empty\n     (root directory).\n \n-`chunk_size`::", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDI4MDEyNQ=="}, "originalCommit": {"oid": "2600205bbdaaee8cb0b01e443ae6055b16a39a8b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDM3MTQxNw==", "bodyText": "Setting this option has no advantages whatsoever doesn't it?\n\nIn the searchable snapshot case, it allows parallel downloads of file chunks. Not saying that that's a good use case, just  that there might be some that we don't know about.\n\nAnd we had a few cases both internal and external where people mistook this option as some sort of buffer size.\n\nThis could be fixed by improving the documentation :)\nI prefer full transparency on this setting (saying what it's default is and why), and actively recommend against tuning it, but not hide it from the docs (as folks might otherwise set it based on old docs / S3  docs and have completely wrong expectations).", "url": "https://github.com/elastic/elasticsearch/pull/59279#discussion_r454371417", "createdAt": "2020-07-14T13:51:25Z", "author": {"login": "ywelsch"}, "path": "docs/plugins/repository-azure.asciidoc", "diffHunk": "@@ -162,12 +162,6 @@ The Azure repository supports following settings:\n     Specifies the path within container to repository data. Defaults to empty\n     (root directory).\n \n-`chunk_size`::", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDI4MDEyNQ=="}, "originalCommit": {"oid": "2600205bbdaaee8cb0b01e443ae6055b16a39a8b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDM4NjkyNA==", "bodyText": "Makes sense, I pushed f45a4f7 :)", "url": "https://github.com/elastic/elasticsearch/pull/59279#discussion_r454386924", "createdAt": "2020-07-14T14:13:13Z", "author": {"login": "original-brownbear"}, "path": "docs/plugins/repository-azure.asciidoc", "diffHunk": "@@ -162,12 +162,6 @@ The Azure repository supports following settings:\n     Specifies the path within container to repository data. Defaults to empty\n     (root directory).\n \n-`chunk_size`::", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDI4MDEyNQ=="}, "originalCommit": {"oid": "2600205bbdaaee8cb0b01e443ae6055b16a39a8b"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzMzM3ODQwOnYy", "diffSide": "LEFT", "path": "docs/plugins/repository-gcs.asciidoc", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxMToxMToyM1rOGxPEZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxMToxMToyM1rOGxPEZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDI4MDI5Mg==", "bodyText": "same here", "url": "https://github.com/elastic/elasticsearch/pull/59279#discussion_r454280292", "createdAt": "2020-07-14T11:11:23Z", "author": {"login": "ywelsch"}, "path": "docs/plugins/repository-gcs.asciidoc", "diffHunk": "@@ -226,12 +226,6 @@ The following settings are supported:\n     Specifies the path within bucket to repository data. Defaults to\n     the root of the bucket.\n \n-`chunk_size`::", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2600205bbdaaee8cb0b01e443ae6055b16a39a8b"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNDIyOTkzOnYy", "diffSide": "RIGHT", "path": "docs/plugins/repository-azure.asciidoc", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0ODo1N1rOGxXOoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNDo0ODo1N1rOGxXOoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQxMzk4NQ==", "bodyText": "let's spell out what the value is (same for GCS)", "url": "https://github.com/elastic/elasticsearch/pull/59279#discussion_r454413985", "createdAt": "2020-07-14T14:48:57Z", "author": {"login": "ywelsch"}, "path": "docs/plugins/repository-azure.asciidoc", "diffHunk": "@@ -164,9 +164,13 @@ The Azure repository supports following settings:\n \n `chunk_size`::\n \n-    Big files can be broken down into chunks during snapshotting if needed.\n+    Big files can be broken down into multiple smaller blobs in the blob store during snapshotting.\n+    It is not recommended to change this value from its default unless there is an explicit reason for limiting the\n+    size of blobs in the repository. Setting a value lower than the default can result in an increased number of API\n+    calls to the Azure blob store during snapshot create as well as restore operations compared to using the default\n+    value and thus make both operations slower as well as more costly.\n     Specify the chunk size as a value and unit, for example:\n-    `10MB`, `5KB`, `500B`. Defaults to `64MB` (64MB max).\n+    `10MB`, `5KB`, `500B`. Defaults to the maximum size of a blob in the Azure blob store.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a0cd3394f579f3f955f6bd8f3956b63f0568c865"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1928, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}