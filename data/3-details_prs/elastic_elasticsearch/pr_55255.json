{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzOTIxNjQw", "number": 55255, "title": "Remove deprecated third-party methods from tests", "bodyText": "I've noticed that a lot of our tests are using deprecated static methods\nfrom the Hamcrest matchers. While this is not a big deal in any\nobjective sense, it seems like a small good thing to reduce compilation\nwarnings and be ready for a new release of the matcher library if we\nneed to upgrade. I've also switched a few other methods in tests that\nhave drop-in replacements.", "createdAt": "2020-04-15T18:32:44Z", "url": "https://github.com/elastic/elasticsearch/pull/55255", "merged": true, "mergeCommit": {"oid": "38cd668ad045ae451ba895b7e41929b86d340cec"}, "closed": true, "closedAt": "2020-04-15T20:31:51Z", "author": {"login": "williamrandolph"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcX8Z6igH2gAyNDAzOTIxNjQwOmRkNTYwMjIxYzZmZDJjNTQ2ZjE3YWJhNWM4NzU1ZTA4NDNhNzgwZGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcX9LoLgH2gAyNDAzOTIxNjQwOjBjMjhlYmJmMjAxZmNjYzNhY2Y3NmRlY2M4MjU4Zjc2MDdhYTRmMTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dd560221c6fd2c546f17aba5c8755e0843a780dd", "author": {"user": {"login": "williamrandolph", "name": "William Brafford"}}, "url": "https://github.com/elastic/elasticsearch/commit/dd560221c6fd2c546f17aba5c8755e0843a780dd", "committedDate": "2020-04-15T18:28:57Z", "message": "Remove deprecated methods from tests\n\nI've noticed that a lot of our tests are using deprecated static methods\nfrom the Hamcrest matchers. While this is not a big deal in any\nobjective sense, it seems like a small good thing to reduce compilation\nwarnings and be ready for a new release of the matcher library if we\nneed to upgrade. I've also switched a few other methods in tests that\nhave drop-in replacements."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "697556bb1b64de0114db82986d5968a483194754", "author": {"user": {"login": "williamrandolph", "name": "William Brafford"}}, "url": "https://github.com/elastic/elasticsearch/commit/697556bb1b64de0114db82986d5968a483194754", "committedDate": "2020-04-15T18:39:37Z", "message": "Merge branch 'master' into remove-deprecated-hamcrest-matchers"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk0MDUzMTE1", "url": "https://github.com/elastic/elasticsearch/pull/55255#pullrequestreview-394053115", "createdAt": "2020-04-15T19:02:05Z", "commit": {"oid": "697556bb1b64de0114db82986d5968a483194754"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxOTowMjowNVrOGGHgYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxOTowMjowNVrOGGHgYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTA2NzYxOQ==", "bodyText": "Since we are changing this, I think using hamcrest will produce a nicer error message if this ever fails:\nassertThat(response.getIndices(), Matchers.arrayContaining(\"index1\", \"index2\"));", "url": "https://github.com/elastic/elasticsearch/pull/55255#discussion_r409067619", "createdAt": "2020-04-15T19:02:05Z", "author": {"login": "rjernst"}, "path": "client/rest-high-level/src/test/java/org/elasticsearch/client/SearchIT.java", "diffHunk": "@@ -1227,7 +1227,7 @@ public void testFieldCaps() throws IOException {\n         FieldCapabilitiesResponse response = execute(request,\n             highLevelClient()::fieldCaps, highLevelClient()::fieldCapsAsync);\n \n-        assertEquals(new String[] {\"index1\", \"index2\"}, response.getIndices());\n+        assertArrayEquals(new String[] {\"index1\", \"index2\"}, response.getIndices());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "697556bb1b64de0114db82986d5968a483194754"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c28ebbf201fccc3acf76decc8258f7607aa4f17", "author": {"user": {"login": "williamrandolph", "name": "William Brafford"}}, "url": "https://github.com/elastic/elasticsearch/commit/0c28ebbf201fccc3acf76decc8258f7607aa4f17", "committedDate": "2020-04-15T19:23:15Z", "message": "Use hamcrest matcher instead of assertArrayEquals"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3389, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}