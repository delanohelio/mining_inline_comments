{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0MTMwNzIw", "number": 59023, "title": "[DOCS] Clarifies transform node settings", "bodyText": "Related to #54998\nThis PR adds deprecation text to the node.transform setting and clarifies the default behavior of transform nodes.\nPreview\n\nhttps://elasticsearch_59023.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/modules-node.html\nhttps://elasticsearch_59023.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/transform-settings.html\nhttps://elasticsearch_59023.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/transform-setup.html#transform-setup-nodes", "createdAt": "2020-07-03T16:28:10Z", "url": "https://github.com/elastic/elasticsearch/pull/59023", "merged": true, "mergeCommit": {"oid": "fca1ece69399ecc8face8a737339404a3b0440f0"}, "closed": true, "closedAt": "2020-07-07T20:31:05Z", "author": {"login": "lcawl"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcxWAF5gH2gAyNDQ0MTMwNzIwOjhmOTFjMDQ4M2NiMjU5ZDZmYTMwM2M2Yjc1NDUzYzM0NDBiMmI4OWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcyqu0lgFqTQ0NDE3NDM1OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8f91c0483cb259d6fa303c6b75453c3440b2b89b", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/elasticsearch/commit/8f91c0483cb259d6fa303c6b75453c3440b2b89b", "committedDate": "2020-07-03T16:26:23Z", "message": "[DOCS] Clarifies transform node settings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98f4749f2e40c371fcf4e2611469d368ec1df1b8", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/elasticsearch/commit/98f4749f2e40c371fcf4e2611469d368ec1df1b8", "committedDate": "2020-07-03T16:50:16Z", "message": "[DOCS] Clarifies transform setup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNTA3OTY3", "url": "https://github.com/elastic/elasticsearch/pull/59023#pullrequestreview-442507967", "createdAt": "2020-07-03T16:51:32Z", "commit": {"oid": "98f4749f2e40c371fcf4e2611469d368ec1df1b8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxNjo1MTozMlrOGs0_Qw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxNjo1MTozMlrOGs0_Qw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTY1ODY5MQ==", "bodyText": "and transform?\n\nIs this change correct? Or are all nodes truly transform nodes by default?", "url": "https://github.com/elastic/elasticsearch/pull/59023#discussion_r449658691", "createdAt": "2020-07-03T16:51:32Z", "author": {"login": "lcawl"}, "path": "docs/reference/modules/node.asciidoc", "diffHunk": "@@ -15,7 +15,7 @@ All nodes know about all the other nodes in the cluster and can forward client\n requests to the appropriate node.\n \n By default, a node is all of the following types: master-eligible, data, ingest,\n-and (if available) machine learning and transform.\n+and (if available) machine learning.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "98f4749f2e40c371fcf4e2611469d368ec1df1b8"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "874c26169f2a42634fc411e3320cc5024578d505", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/elasticsearch/commit/874c26169f2a42634fc411e3320cc5024578d505", "committedDate": "2020-07-03T17:38:05Z", "message": "[DOCS] Fixes deprecation link"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "315e9230839ad43132435788e59c93690801eef2", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/elasticsearch/commit/315e9230839ad43132435788e59c93690801eef2", "committedDate": "2020-07-03T17:48:15Z", "message": "[DOCS] Clarify node.roles is a list"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyODc4MDYx", "url": "https://github.com/elastic/elasticsearch/pull/59023#pullrequestreview-442878061", "createdAt": "2020-07-06T08:35:14Z", "commit": {"oid": "315e9230839ad43132435788e59c93690801eef2"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwODozNToxNVrOGtN87A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwODo1ODoxOFrOGtOw4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA2NzY5Mg==", "bodyText": "sounds good to me", "url": "https://github.com/elastic/elasticsearch/pull/59023#discussion_r450067692", "createdAt": "2020-07-06T08:35:15Z", "author": {"login": "hendrikmuhs"}, "path": "docs/reference/modules/node.asciidoc", "diffHunk": "@@ -15,7 +15,7 @@ All nodes know about all the other nodes in the cluster and can forward client\n requests to the appropriate node.\n \n By default, a node is all of the following types: master-eligible, data, ingest,\n-and (if available) machine learning and transform.\n+and (if available) machine learning.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTY1ODY5MQ=="}, "originalCommit": {"oid": "98f4749f2e40c371fcf4e2611469d368ec1df1b8"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3OTUwNQ==", "bodyText": "This is a bit tricky: You do not need the transform role on coordinating node. What you need is transform plugin being enabled on coordinating nodes. We highly discourage clusters with mixed plugins, all nodes in a cluster should have the same plugins enabled.\nThat's why #54745 removes the ability to disable xpack plugins.\nThe old text was correct, but maybe its better to say: do not disable the transform plugin, but use the transform role to restrict where transforms are executed.", "url": "https://github.com/elastic/elasticsearch/pull/59023#discussion_r450079505", "createdAt": "2020-07-06T08:55:51Z", "author": {"login": "hendrikmuhs"}, "path": "docs/reference/modules/node.asciidoc", "diffHunk": "@@ -261,10 +261,10 @@ xpack.ml.enabled: true <1>\n \n {transform-cap} nodes run {transforms} and handle {transform} API requests.\n \n-If you want to use {transforms} in clients (including {kib}), it must also be\n-enabled on all coordinating nodes. You must also have at least one node with the\n-`transform` role. This is the default behavior. If you have the {oss-dist}, do\n-not use these settings. For more information, see <<transform-settings>>.\n+By default, data nodes are also transform nodes. If you want to use {transforms}\n+in clients (including {kib}), coordinating nodes must also have the\n+`transform` role. If you have the {oss-dist}, do not use these settings. For", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "315e9230839ad43132435788e59c93690801eef2"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA4MDk5Mw==", "bodyText": "I see that the doc says:\n xpack.transform.enabled\n    [7.8.0] Deprecated in 7.8.0. Basic License features should always be enabled\n    This deprecated setting no longer has any effect. \n\n\nThat means we can probably remove the statement about clients altogether.", "url": "https://github.com/elastic/elasticsearch/pull/59023#discussion_r450080993", "createdAt": "2020-07-06T08:58:18Z", "author": {"login": "hendrikmuhs"}, "path": "docs/reference/modules/node.asciidoc", "diffHunk": "@@ -261,10 +261,10 @@ xpack.ml.enabled: true <1>\n \n {transform-cap} nodes run {transforms} and handle {transform} API requests.\n \n-If you want to use {transforms} in clients (including {kib}), it must also be\n-enabled on all coordinating nodes. You must also have at least one node with the\n-`transform` role. This is the default behavior. If you have the {oss-dist}, do\n-not use these settings. For more information, see <<transform-settings>>.\n+By default, data nodes are also transform nodes. If you want to use {transforms}\n+in clients (including {kib}), coordinating nodes must also have the\n+`transform` role. If you have the {oss-dist}, do not use these settings. For", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDA3OTUwNQ=="}, "originalCommit": {"oid": "315e9230839ad43132435788e59c93690801eef2"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a308919fece3a0c3e100b1fc0c4ff02894732153", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/elasticsearch/commit/a308919fece3a0c3e100b1fc0c4ff02894732153", "committedDate": "2020-07-06T15:11:45Z", "message": "[DOCS] Remove client details from transform node description"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1c298bc5fc7486ce0e4115e69451ceaac403e70", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/elasticsearch/commit/e1c298bc5fc7486ce0e4115e69451ceaac403e70", "committedDate": "2020-07-07T15:25:27Z", "message": "[DOCS] Clarifies default node roles"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0MTc0MzU5", "url": "https://github.com/elastic/elasticsearch/pull/59023#pullrequestreview-444174359", "createdAt": "2020-07-07T19:09:28Z", "commit": {"oid": "e1c298bc5fc7486ce0e4115e69451ceaac403e70"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2258, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}