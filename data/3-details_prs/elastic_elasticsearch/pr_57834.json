{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxMzE4NDA3", "number": 57834, "title": "[DOCS] Fix obsolete Slack setup info", "bodyText": "Slack no longer recommends the legacy \"integrations\" setup (https://api.slack.com/legacy/custom-integrations/incoming-webhooks).  Updated documentation to reference https://api.slack.com/messaging/webhooks instead.\nRemoved screenshots from our documentation related to Slack setup.  We should avoid these screenshots (and simply point to Slack documentation) for Slack may change the instructions/their UI in the future.\nAlso, added a short note on the use case of notifying multiple Slack channels.\nI think we will want to backport this doc change given the following statement in Slack documentation:\n\nPreview\nhttps://elasticsearch_57834.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/actions-slack.html", "createdAt": "2020-06-08T18:31:52Z", "url": "https://github.com/elastic/elasticsearch/pull/57834", "merged": true, "mergeCommit": {"oid": "699af9dbf114314b42d555cff838b57087337134"}, "closed": true, "closedAt": "2020-11-24T17:09:01Z", "author": {"login": "ppf2"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpUynjAH2gAyNDMxMzE4NDA3OmI3N2JjY2U0MTlkODJlMTU2MTNhZDAzNWQxNWJjNDgyZGQ2Zjc0NDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfsV9pAFqTUzNzY5Mjk2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b77bcce419d82e15613ad035d15bc482dd6f7449", "author": {"user": {"login": "ppf2", "name": "Pius"}}, "url": "https://github.com/elastic/elasticsearch/commit/b77bcce419d82e15613ad035d15bc482dd6f7449", "committedDate": "2020-06-08T18:30:22Z", "message": "Update slack.asciidoc\n\nSlack no longer recommends the legacy \"integrations\" setup (https://api.slack.com/legacy/custom-integrations/incoming-webhooks).  Updated documentation to reference https://api.slack.com/messaging/webhooks instead.  \r\n\r\nRemoved screenshots from our documentation related to Slack setup.  We should avoid these screenshots (and simply point to Slack documentation) for Slack may change the instructions/their UI in the future.\r\n\r\nAlso, added a short note on the use case of notifying multiple Slack channels."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2NTcxMzc0", "url": "https://github.com/elastic/elasticsearch/pull/57834#pullrequestreview-426571374", "createdAt": "2020-06-08T19:53:34Z", "commit": {"oid": "b77bcce419d82e15613ad035d15bc482dd6f7449"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxOTo1MzozNVrOGguFqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxOTo1MzozNVrOGguFqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjk2MjczMA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            You need a Slack App with the Incoming Webhooks feature[https://api.slack.com/messaging/webhooks] \n          \n          \n            \n            You need a Slack App with the https://api.slack.com/messaging/webhooks[Incoming Webhooks feature]", "url": "https://github.com/elastic/elasticsearch/pull/57834#discussion_r436962730", "createdAt": "2020-06-08T19:53:35Z", "author": {"login": "lcawl"}, "path": "x-pack/docs/en/watcher/actions/slack.asciidoc", "diffHunk": "@@ -181,20 +181,8 @@ aggregation and the Slack action:\n You configure the accounts {watcher} can use to communicate with Slack in the\n `xpack.notification.slack` namespace in `elasticsearch.yml`.\n \n-You need a https://api.slack.com/incoming-webhooks[Slack webhook URL] to \n-configure a Slack account. To create a webhook\n-URL, set up an an _Incoming Webhook Integration_ through the Slack console:\n-\n-. Log in to http://slack.com[slack.com] as a team administrator.\n-. Go to https://my.slack.com/services/new/incoming-webhook.\n-. Select a default channel for the integration.\n-+\n-image::images/slack-add-webhook-integration.jpg[]\n-. Click *Add Incoming Webhook Integration*.\n-. Copy the generated webhook URL so you can paste it into your Slack account\n-  configuration in `elasticsearch.yml`.\n-+\n-image::images/slack-copy-webhook-url.jpg[]\n+You need a Slack App with the Incoming Webhooks feature[https://api.slack.com/messaging/webhooks] ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b77bcce419d82e15613ad035d15bc482dd6f7449"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3ODc0ODQ4", "url": "https://github.com/elastic/elasticsearch/pull/57834#pullrequestreview-497874848", "createdAt": "2020-09-28T20:34:05Z", "commit": {"oid": "b77bcce419d82e15613ad035d15bc482dd6f7449"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee724046a50b286e4040a4009e4df834c32bed14", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/ee724046a50b286e4040a4009e4df834c32bed14", "committedDate": "2020-11-24T16:15:34Z", "message": "Update x-pack/docs/en/watcher/actions/slack.asciidoc\n\nCo-authored-by: Lisa Cawley <lcawley@elastic.co>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3NjgwNDk4", "url": "https://github.com/elastic/elasticsearch/pull/57834#pullrequestreview-537680498", "createdAt": "2020-11-24T16:15:52Z", "commit": {"oid": "b77bcce419d82e15613ad035d15bc482dd6f7449"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxNjoxNTo1MlrOH5KYnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxNjoxNjowMVrOH5KZaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTcwMTAyMA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            You need a Slack App with the Incoming Webhooks feature[https://api.slack.com/messaging/webhooks] \n          \n          \n            \n            to configure a Slack account. Use the generated webhook URL to set up your Slack account in Elasticsearch.\n          \n          \n            \n            You need a Slack App with the Incoming Webhooks feature[https://api.slack.com/messaging/webhooks] \n          \n          \n            \n            to configure a Slack account. Use the generated webhook URL to set up your Slack account in {es}.", "url": "https://github.com/elastic/elasticsearch/pull/57834#discussion_r529701020", "createdAt": "2020-11-24T16:15:52Z", "author": {"login": "jrodewig"}, "path": "x-pack/docs/en/watcher/actions/slack.asciidoc", "diffHunk": "@@ -181,20 +181,8 @@ aggregation and the Slack action:\n You configure the accounts {watcher} can use to communicate with Slack in the\n `xpack.notification.slack` namespace in `elasticsearch.yml`.\n \n-You need a https://api.slack.com/incoming-webhooks[Slack webhook URL] to \n-configure a Slack account. To create a webhook\n-URL, set up an an _Incoming Webhook Integration_ through the Slack console:\n-\n-. Log in to http://slack.com[slack.com] as a team administrator.\n-. Go to https://my.slack.com/services/new/incoming-webhook.\n-. Select a default channel for the integration.\n-+\n-image::images/slack-add-webhook-integration.jpg[]\n-. Click *Add Incoming Webhook Integration*.\n-. Copy the generated webhook URL so you can paste it into your Slack account\n-  configuration in `elasticsearch.yml`.\n-+\n-image::images/slack-copy-webhook-url.jpg[]\n+You need a Slack App with the Incoming Webhooks feature[https://api.slack.com/messaging/webhooks] \n+to configure a Slack account. Use the generated webhook URL to set up your Slack account in Elasticsearch.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b77bcce419d82e15613ad035d15bc482dd6f7449"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTcwMTIyNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            To notify multiple channels, create a webhook URL for each channel in Slack \n          \n          \n            \n            and multiple Slack accounts in Elasticsearch (one for each webhook URL).\n          \n          \n            \n            To notify multiple channels, create a webhook URL for each channel in Slack \n          \n          \n            \n            and multiple Slack accounts in {es} (one for each webhook URL).", "url": "https://github.com/elastic/elasticsearch/pull/57834#discussion_r529701225", "createdAt": "2020-11-24T16:16:01Z", "author": {"login": "jrodewig"}, "path": "x-pack/docs/en/watcher/actions/slack.asciidoc", "diffHunk": "@@ -231,6 +219,9 @@ xpack.notification.slack:\n           mrkdwn_in: \"pretext, text\"\n --------------------------------------------------\n \n+To notify multiple channels, create a webhook URL for each channel in Slack \n+and multiple Slack accounts in Elasticsearch (one for each webhook URL).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b77bcce419d82e15613ad035d15bc482dd6f7449"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3NjgxMDIw", "url": "https://github.com/elastic/elasticsearch/pull/57834#pullrequestreview-537681020", "createdAt": "2020-11-24T16:16:25Z", "commit": {"oid": "ee724046a50b286e4040a4009e4df834c32bed14"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxNjoxNjoyNVrOH5KbMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxNjoxNjoyNVrOH5KbMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTcwMTY4Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            You need a Slack App with the https://api.slack.com/messaging/webhooks[Incoming Webhooks feature] \n          \n          \n            \n            to configure a Slack account. Use the generated webhook URL to set up your Slack account in Elasticsearch.\n          \n          \n            \n            You need a Slack App with the https://api.slack.com/messaging/webhooks[Incoming Webhooks feature] \n          \n          \n            \n            to configure a Slack account. Use the generated webhook URL to set up your Slack account in {es}.", "url": "https://github.com/elastic/elasticsearch/pull/57834#discussion_r529701683", "createdAt": "2020-11-24T16:16:25Z", "author": {"login": "jrodewig"}, "path": "x-pack/docs/en/watcher/actions/slack.asciidoc", "diffHunk": "@@ -181,20 +181,8 @@ aggregation and the Slack action:\n You configure the accounts {watcher} can use to communicate with Slack in the\n `xpack.notification.slack` namespace in `elasticsearch.yml`.\n \n-You need a https://api.slack.com/incoming-webhooks[Slack webhook URL] to \n-configure a Slack account. To create a webhook\n-URL, set up an an _Incoming Webhook Integration_ through the Slack console:\n-\n-. Log in to http://slack.com[slack.com] as a team administrator.\n-. Go to https://my.slack.com/services/new/incoming-webhook.\n-. Select a default channel for the integration.\n-+\n-image::images/slack-add-webhook-integration.jpg[]\n-. Click *Add Incoming Webhook Integration*.\n-. Copy the generated webhook URL so you can paste it into your Slack account\n-  configuration in `elasticsearch.yml`.\n-+\n-image::images/slack-copy-webhook-url.jpg[]\n+You need a Slack App with the https://api.slack.com/messaging/webhooks[Incoming Webhooks feature] \n+to configure a Slack account. Use the generated webhook URL to set up your Slack account in Elasticsearch.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee724046a50b286e4040a4009e4df834c32bed14"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ab0a0e485e27560bc5d57c31242c07a29c293a7", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/5ab0a0e485e27560bc5d57c31242c07a29c293a7", "committedDate": "2020-11-24T16:16:35Z", "message": "Apply suggestions from code review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0d8ce4380186eb6dc9f47ebb841e198cdc52dab", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/f0d8ce4380186eb6dc9f47ebb841e198cdc52dab", "committedDate": "2020-11-24T16:27:53Z", "message": "Merge branch 'master' into ppf2-improve-slack-setup-2"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3NjkyOTY5", "url": "https://github.com/elastic/elasticsearch/pull/57834#pullrequestreview-537692969", "createdAt": "2020-11-24T16:28:42Z", "commit": {"oid": "f0d8ce4380186eb6dc9f47ebb841e198cdc52dab"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3831, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}