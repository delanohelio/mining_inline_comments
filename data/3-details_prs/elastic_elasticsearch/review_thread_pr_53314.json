{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1ODIwNzE1", "number": 53314, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMTo1Njo0MVrODmegsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMTo1Njo0MVrODmegsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNjcyMzcwOnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/elasticsearch/threadpool/FixedExecutorBuilder.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMTo1Njo0MVrOFz6wKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMTo1OTozNVrOFz61Gg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTk4NDI5Ng==", "bodyText": "NIT: is the indent change intended here?", "url": "https://github.com/elastic/elasticsearch/pull/53314#discussion_r389984296", "createdAt": "2020-03-09T21:56:41Z", "author": {"login": "original-brownbear"}, "path": "server/src/main/java/org/elasticsearch/threadpool/FixedExecutorBuilder.java", "diffHunk": "@@ -87,45 +66,16 @@\n      */\n     public FixedExecutorBuilder(final Settings settings, final String name, final int size, final int queueSize, final String prefix,\n                                 final boolean trackEWMA) {\n-        this(settings, name, size, queueSize, prefix, trackEWMA, false);\n-    }\n-\n-    /**\n-     * Construct a fixed executor builder.\n-     *\n-     * @param settings   the node-level settings\n-     * @param name       the name of the executor\n-     * @param size       the fixed number of threads\n-     * @param queueSize  the size of the backing queue, -1 for unbounded\n-     * @param prefix     the prefix for the settings keys\n-     * @param trackEWMA  whether to track the exponentially weighted moving average of the task execution time\n-     * @param deprecated whether or not the thread pool is deprecated\n-     */\n-    public FixedExecutorBuilder(\n-        final Settings settings,\n-        final String name,\n-        final int size,\n-        final int queueSize,\n-        final String prefix,\n-        final boolean trackEWMA,\n-        final boolean deprecated\n-    ) {\n         super(name);\n         final String sizeKey = settingsKey(prefix, \"size\");\n-        final Setting.Property[] properties;\n-        if (deprecated) {\n-            properties = new Setting.Property[]{Setting.Property.NodeScope, Setting.Property.Deprecated};\n-        } else {\n-            properties = new Setting.Property[]{Setting.Property.NodeScope};\n-        }\n         this.sizeSetting =\n-            new Setting<>(\n-                sizeKey,\n-                s -> Integer.toString(size),\n-                s -> Setting.parseInt(s, 1, applyHardSizeLimit(settings, name), sizeKey),\n-                properties);\n+                new Setting<>(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a48dca19f8e4500f23e15d8bd017117facc8711"}, "originalPosition": 71}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTk4NTU2Mg==", "bodyText": "So, to deprecate the listener thread pool, I added some temporary infrastructure in this class (see #53266) which changed the indentation here because of my IDE having different settings than when I authored this code a long time ago. \ud83e\udd37\u200d\u2640\nSince after removing this setting this infrastructure isn't needed anymore, I simply reverted the file back to its initial state before #53266, including the original formatting.\nLong live automatic code formatting!", "url": "https://github.com/elastic/elasticsearch/pull/53314#discussion_r389985562", "createdAt": "2020-03-09T21:59:35Z", "author": {"login": "jasontedor"}, "path": "server/src/main/java/org/elasticsearch/threadpool/FixedExecutorBuilder.java", "diffHunk": "@@ -87,45 +66,16 @@\n      */\n     public FixedExecutorBuilder(final Settings settings, final String name, final int size, final int queueSize, final String prefix,\n                                 final boolean trackEWMA) {\n-        this(settings, name, size, queueSize, prefix, trackEWMA, false);\n-    }\n-\n-    /**\n-     * Construct a fixed executor builder.\n-     *\n-     * @param settings   the node-level settings\n-     * @param name       the name of the executor\n-     * @param size       the fixed number of threads\n-     * @param queueSize  the size of the backing queue, -1 for unbounded\n-     * @param prefix     the prefix for the settings keys\n-     * @param trackEWMA  whether to track the exponentially weighted moving average of the task execution time\n-     * @param deprecated whether or not the thread pool is deprecated\n-     */\n-    public FixedExecutorBuilder(\n-        final Settings settings,\n-        final String name,\n-        final int size,\n-        final int queueSize,\n-        final String prefix,\n-        final boolean trackEWMA,\n-        final boolean deprecated\n-    ) {\n         super(name);\n         final String sizeKey = settingsKey(prefix, \"size\");\n-        final Setting.Property[] properties;\n-        if (deprecated) {\n-            properties = new Setting.Property[]{Setting.Property.NodeScope, Setting.Property.Deprecated};\n-        } else {\n-            properties = new Setting.Property[]{Setting.Property.NodeScope};\n-        }\n         this.sizeSetting =\n-            new Setting<>(\n-                sizeKey,\n-                s -> Integer.toString(size),\n-                s -> Setting.parseInt(s, 1, applyHardSizeLimit(settings, name), sizeKey),\n-                properties);\n+                new Setting<>(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTk4NDI5Ng=="}, "originalCommit": {"oid": "6a48dca19f8e4500f23e15d8bd017117facc8711"}, "originalPosition": 71}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3378, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}