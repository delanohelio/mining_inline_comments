{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3ODY5MjU5", "number": 61857, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwNDoxMDo1MVrOEf0GCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwNDoxMTo1MVrOEf0G2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxNzk0ODI1OnYy", "diffSide": "RIGHT", "path": "buildSrc/src/main/java/org/elasticsearch/gradle/info/BuildParams.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwNDoxMDo1MVrOHMVLBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QxMjoxODoxMFrOHMj6fQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY5MTg0Ng==", "bodyText": "Can you please open this as a separate change so it goes to master as well? We should probably also name it like \"runtime jvm details\"?", "url": "https://github.com/elastic/elasticsearch/pull/61857#discussion_r482691846", "createdAt": "2020-09-03T04:10:51Z", "author": {"login": "rjernst"}, "path": "buildSrc/src/main/java/org/elasticsearch/gradle/info/BuildParams.java", "diffHunk": "@@ -89,6 +90,10 @@ public static JavaVersion getRuntimeJavaVersion() {\n         return value(runtimeJavaVersion);\n     }\n \n+    public static String getJvmDetails() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d61ec45b7b8a9fa55f765df709ec8b4ccab2a0b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjczNTUzOQ==", "bodyText": "sure thing, makes sense", "url": "https://github.com/elastic/elasticsearch/pull/61857#discussion_r482735539", "createdAt": "2020-09-03T06:35:08Z", "author": {"login": "jkakavas"}, "path": "buildSrc/src/main/java/org/elasticsearch/gradle/info/BuildParams.java", "diffHunk": "@@ -89,6 +90,10 @@ public static JavaVersion getRuntimeJavaVersion() {\n         return value(runtimeJavaVersion);\n     }\n \n+    public static String getJvmDetails() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY5MTg0Ng=="}, "originalCommit": {"oid": "9d61ec45b7b8a9fa55f765df709ec8b4ccab2a0b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjkzMzM3Mw==", "bodyText": "#61901", "url": "https://github.com/elastic/elasticsearch/pull/61857#discussion_r482933373", "createdAt": "2020-09-03T12:18:10Z", "author": {"login": "jkakavas"}, "path": "buildSrc/src/main/java/org/elasticsearch/gradle/info/BuildParams.java", "diffHunk": "@@ -89,6 +90,10 @@ public static JavaVersion getRuntimeJavaVersion() {\n         return value(runtimeJavaVersion);\n     }\n \n+    public static String getJvmDetails() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY5MTg0Ng=="}, "originalCommit": {"oid": "9d61ec45b7b8a9fa55f765df709ec8b4ccab2a0b"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxNzk1MDM0OnYy", "diffSide": "RIGHT", "path": "gradle/fips.gradle", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwNDoxMTo1MVrOHMVMLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wM1QwNjozNzoxMlrOHMX5Jw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY5MjE0MA==", "bodyText": "Is the zulu policy the exact same as the java 11, or a mix of our existing java 11 and java 8 policies?", "url": "https://github.com/elastic/elasticsearch/pull/61857#discussion_r482692140", "createdAt": "2020-09-03T04:11:51Z", "author": {"login": "rjernst"}, "path": "gradle/fips.gradle", "diffHunk": "@@ -9,8 +9,9 @@ if (BuildParams.inFipsJvm) {\n   allprojects {\n     File fipsResourcesDir = new File(project.buildDir, 'fips-resources')\n     boolean java8 = BuildParams.runtimeJavaVersion == JavaVersion.VERSION_1_8\n-    File fipsSecurity = new File(fipsResourcesDir, \"fips_java${java8 ? '8' : ''}.security\")\n-    File fipsPolicy = new File(fipsResourcesDir, \"fips_java${java8 ? '8' : ''}.policy\")\n+    boolean zulu8 = java8 && BuildParams.jvmDetails.contains(\"Zulu\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d61ec45b7b8a9fa55f765df709ec8b4ccab2a0b"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjczNjQyMw==", "bodyText": "The zulu policy and properties are the same as the java 11 with regards to the actual settings and policy rules , but with the format that is applicable for JDK8. Maybe fips_java8 and fips_java_zulu8 are not applicable names here, I will change them to reflect the crypto provider that is in use in each case so that this is clearer", "url": "https://github.com/elastic/elasticsearch/pull/61857#discussion_r482736423", "createdAt": "2020-09-03T06:37:12Z", "author": {"login": "jkakavas"}, "path": "gradle/fips.gradle", "diffHunk": "@@ -9,8 +9,9 @@ if (BuildParams.inFipsJvm) {\n   allprojects {\n     File fipsResourcesDir = new File(project.buildDir, 'fips-resources')\n     boolean java8 = BuildParams.runtimeJavaVersion == JavaVersion.VERSION_1_8\n-    File fipsSecurity = new File(fipsResourcesDir, \"fips_java${java8 ? '8' : ''}.security\")\n-    File fipsPolicy = new File(fipsResourcesDir, \"fips_java${java8 ? '8' : ''}.policy\")\n+    boolean zulu8 = java8 && BuildParams.jvmDetails.contains(\"Zulu\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjY5MjE0MA=="}, "originalCommit": {"oid": "9d61ec45b7b8a9fa55f765df709ec8b4ccab2a0b"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1841, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}