{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0NDExMzYw", "number": 66766, "title": "[DOCS] Add latest method to transform tutorial", "bodyText": "Related to elastic/kibana#85784 and #65869\nThis PR updates the transform tutorial (https://www.elastic.co/guide/en/elasticsearch/reference/master/ecommerce-transforms.html) with screenshots and details for the \"latest\" functionality.\nNOTE: Screenshots can be added only after #66812 is fixed.", "createdAt": "2020-12-22T22:53:04Z", "url": "https://github.com/elastic/elasticsearch/pull/66766", "merged": true, "mergeCommit": {"oid": "1bf5f8df0490eb31c0100c48efe8e187bccfcd0e"}, "closed": true, "closedAt": "2021-01-15T21:46:07Z", "author": {"login": "lcawl"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdoyiyBgH2gAyNTQ0NDExMzYwOjU5N2FmZDZjODkwMTkxMDZkOTdjOTcyNmI1YmFmY2FhMzI1YWU2ZGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdwflEogH2gAyNTQ0NDExMzYwOjJkOTk4NzAzMzdkYmNmNmM1MGViZDk3NTMxNDZlZGY0NmQ4MWU4ODk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "597afd6c89019106d97c9726b5bafcaa325ae6de", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/elasticsearch/commit/597afd6c89019106d97c9726b5bafcaa325ae6de", "committedDate": "2020-12-22T22:47:27Z", "message": "[DOCS] Add latest method to transform example"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48d1fa642ddcd0022f389439600cf46898945464", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/elasticsearch/commit/48d1fa642ddcd0022f389439600cf46898945464", "committedDate": "2021-01-05T01:04:31Z", "message": "[DOCS] Add beta qualifier to transform example"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYzNDQyMjc4", "url": "https://github.com/elastic/elasticsearch/pull/66766#pullrequestreview-563442278", "createdAt": "2021-01-07T12:20:12Z", "commit": {"oid": "48d1fa642ddcd0022f389439600cf46898945464"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxMjoyMDoxMlrOIPqZrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxMjoyMDoxMlrOIPqZrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzI5NDI1NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            you delete a  {transform}, its destination index and {kib} index patterns remain.\n          \n          \n            \n            you delete a {transform}, its destination index and {kib} index patterns remain.", "url": "https://github.com/elastic/elasticsearch/pull/66766#discussion_r553294254", "createdAt": "2021-01-07T12:20:12Z", "author": {"login": "przemekwitek"}, "path": "docs/reference/transform/ecommerce-tutorial.asciidoc", "diffHunk": "@@ -254,12 +253,46 @@ image::images/ecommerce-results.png[\"Exploring the new index in {kib}\"]\n \n --\n \n-TIP: If you do not want to keep the {transform}, you can delete it in\n-{kib} or use the\n-<<delete-transform,delete {transform} API>>. When\n-you delete a {transform}, its destination index and {kib} index\n-patterns remain.\n+. Optional: Create another {transform}, this time using the `latest` method.\n++\n+--\n+beta::[]\n+\n+This method populates the destination index with the latest documents for each\n+unique key value. For example, you might want to find the latest orders (sorted\n+by the `order_date` field) for each customer or for each country and region.\n+\n+.API example\n+[%collapsible]\n+====\n+[source,console]\n+--------------------------------------------------\n+POST _transform/_preview\n+{\n+  \"source\": {\n+    \"index\": \"kibana_sample_data_ecommerce\",\n+    \"query\": {\n+      \"bool\": {\n+        \"filter\": {\n+          \"term\": {\"currency\": \"EUR\"}\n+        }\n+      }\n+    }\n+  },\n+  \"latest\": {\n+    \"unique_key\": [\"geoip.country_iso_code\", \"geoip.region_name\"],\n+    \"sort\": \"order_date\"\n+  }\n+}\n+--------------------------------------------------\n+// TEST[skip:set up sample data]\n+====\n+--\n+\n+. If you do not want to keep a {transform}, you can delete it in\n+{kib} or use the <<delete-transform,delete {transform} API>>. By default, when\n+you delete a  {transform}, its destination index and {kib} index patterns remain.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48d1fa642ddcd0022f389439600cf46898945464"}, "originalPosition": 103}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3af432f3ecb7ca98254a3b2e0da6cc52ee97c8ec", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/elasticsearch/commit/3af432f3ecb7ca98254a3b2e0da6cc52ee97c8ec", "committedDate": "2021-01-15T20:38:43Z", "message": "Update docs/reference/transform/ecommerce-tutorial.asciidoc\n\nCo-authored-by: Przemys\u0142aw Witek <przemyslaw.witek@elastic.co>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d99870337dbcf6c50ebd9753146edf46d81e889", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/elasticsearch/commit/2d99870337dbcf6c50ebd9753146edf46d81e889", "committedDate": "2021-01-15T21:13:09Z", "message": "[DOCS] Add latest transform screenshot"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4311, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}