{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4MTUxOTQz", "number": 56785, "title": "[DOCS] Add search pagination docs", "bodyText": "Reworks the from / size content to Paginate search results.\nMoves those docs from the Request body search API docs page\n(slated for deletion) to the Run a search tutorial docs.\nAlso adds some notes to the from and size param docs.\nBecause this involves redirects, I only plan to merge into master. I'll be backporting to all maintained branches.\nRelates to #48194", "createdAt": "2020-05-14T17:43:36Z", "url": "https://github.com/elastic/elasticsearch/pull/56785", "merged": true, "mergeCommit": {"oid": "56d7af09e758098668eaa5c9466a3202465737c4"}, "closed": true, "closedAt": "2020-05-15T21:22:40Z", "author": {"login": "jrodewig"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchRFSugH2gAyNDE4MTUxOTQzOjA4OTUxYzA4OGQ3NTgzODg5ZmNmYzMyMWNmY2Q4YTE0MTMyOWNhYTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABchozIVAFqTQxMjk3MzgyMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "08951c088d7583889fcfc321cfcd8a141329caa7", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/08951c088d7583889fcfc321cfcd8a141329caa7", "committedDate": "2020-05-14T17:39:45Z", "message": "[DOCS] Add search pagination docs\n\nReworks the `from / size` content to `Paginate search results`.\n\nMoves those docs from the request body search API page (slated for\ndeletion) to the `Run a search` tutorial docs.\n\nAlso adds some notes to the `from` and `size` param docs."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyMjE0NjQx", "url": "https://github.com/elastic/elasticsearch/pull/56785#pullrequestreview-412214641", "createdAt": "2020-05-14T21:57:54Z", "commit": {"oid": "08951c088d7583889fcfc321cfcd8a141329caa7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMTo1Nzo1NVrOGVvrEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMjo0NDoyOFrOGVwtig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ1NDM1Mg==", "bodyText": "If you're trying to get away from the \"hits\" terminology, maybe \"the top ten matching documents\". We use \"search results\" as a collective term, so that reads a little odd to me.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            By default, the search API returns documents for only the top 10 search\n          \n          \n            \n            results, starting with the first, most relevant document.\n          \n          \n            \n            By default, the search API returns the top 10 matching documents, \n          \n          \n            \n            starting with the most-relevant document.", "url": "https://github.com/elastic/elasticsearch/pull/56785#discussion_r425454352", "createdAt": "2020-05-14T21:57:55Z", "author": {"login": "debadair"}, "path": "docs/reference/search/request/from-size.asciidoc", "diffHunk": "@@ -1,29 +1,45 @@\n-[[request-body-search-from-size]]\n-==== From / Size\n+[discrete]\n+[[paginate-search-results]]\n+=== Paginate search results\n \n-Pagination of results can be done by using the `from` and `size`\n-parameters. The `from` parameter defines the offset from the first\n-result you want to fetch. The `size` parameter allows you to configure\n-the maximum amount of hits to be returned.\n+By default, the search API returns documents for only the top 10 search\n+results, starting with the first, most relevant document.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08951c088d7583889fcfc321cfcd8a141329caa7"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ2ODU1OQ==", "bodyText": "\"Offset from the first result you want to fetch\" doesn't make sense. It's an offset from the beginning of the result set. The Definitive Guide  called it \"the number of initial results you want to skip\". That seems a little convoluted--it's really just the document you want to start with.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            To paginate a larger set of search results, you can use the search API's `size`\n          \n          \n            \n            and `from` parameters. The `from` parameter is a zero-indexed offset from\n          \n          \n            \n            the first result you want to fetch. The `size` parameter sets the maximum\n          \n          \n            \n            number of results to return.\n          \n          \n            \n            To paginate through a larger set of results, you can use the search API's `size`\n          \n          \n            \n            and `from` parameters. The `size` parameter is the number of matching documents to return. The `from` parameter is a zero-indexed offset from the beginning of the complete result set that indicates the document you want to start with.", "url": "https://github.com/elastic/elasticsearch/pull/56785#discussion_r425468559", "createdAt": "2020-05-14T22:35:49Z", "author": {"login": "debadair"}, "path": "docs/reference/search/request/from-size.asciidoc", "diffHunk": "@@ -1,29 +1,45 @@\n-[[request-body-search-from-size]]\n-==== From / Size\n+[discrete]\n+[[paginate-search-results]]\n+=== Paginate search results\n \n-Pagination of results can be done by using the `from` and `size`\n-parameters. The `from` parameter defines the offset from the first\n-result you want to fetch. The `size` parameter allows you to configure\n-the maximum amount of hits to be returned.\n+By default, the search API returns documents for only the top 10 search\n+results, starting with the first, most relevant document.\n \n-Though `from` and `size` can be set as request parameters, they can also\n-be set within the search body. `from` defaults to `0`, and `size`\n-defaults to `10`.\n+To paginate a larger set of search results, you can use the search API's `size`\n+and `from` parameters. The `from` parameter is a zero-indexed offset from\n+the first result you want to fetch. The `size` parameter sets the maximum\n+number of results to return.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08951c088d7583889fcfc321cfcd8a141329caa7"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ3MDczNA==", "bodyText": "I think the point here is that by default, you can page through a maximum of 10,000 documents. I'd say that, and then xref the settings, but probably not as a note. Instead,\nI'd pull some of the cautionary info about deep paging into an important note from the definitive guide.", "url": "https://github.com/elastic/elasticsearch/pull/56785#discussion_r425470734", "createdAt": "2020-05-14T22:42:23Z", "author": {"login": "debadair"}, "path": "docs/reference/search/request/from-size.asciidoc", "diffHunk": "@@ -1,29 +1,45 @@\n-[[request-body-search-from-size]]\n-==== From / Size\n+[discrete]\n+[[paginate-search-results]]\n+=== Paginate search results\n \n-Pagination of results can be done by using the `from` and `size`\n-parameters. The `from` parameter defines the offset from the first\n-result you want to fetch. The `size` parameter allows you to configure\n-the maximum amount of hits to be returned.\n+By default, the search API returns documents for only the top 10 search\n+results, starting with the first, most relevant document.\n \n-Though `from` and `size` can be set as request parameters, they can also\n-be set within the search body. `from` defaults to `0`, and `size`\n-defaults to `10`.\n+To paginate a larger set of search results, you can use the search API's `size`\n+and `from` parameters. The `from` parameter is a zero-indexed offset from\n+the first result you want to fetch. The `size` parameter sets the maximum\n+number of results to return.\n+\n+[IMPORTANT]\n+====\n+The combined document count, including offset and and returned documents, for\n+the `from` and `size` parameters cannot exceed the\n+<<index-max-result-window,`index.max_result_window`>> index setting, which\n+defaults to 10,000 documents.\n+====", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08951c088d7583889fcfc321cfcd8a141329caa7"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ3MTM3MA==", "bodyText": "Some combo of only being able to page through 10k docs by default and the warning about deep paging would need to go replace these admonitions, as well.", "url": "https://github.com/elastic/elasticsearch/pull/56785#discussion_r425471370", "createdAt": "2020-05-14T22:44:28Z", "author": {"login": "debadair"}, "path": "docs/reference/search/search.asciidoc", "diffHunk": "@@ -87,6 +87,14 @@ both parameters are specified, only the query parameter is used.\n include::{docdir}/rest-api/common-parms.asciidoc[tag=from]\n +\n --\n+[IMPORTANT]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08951c088d7583889fcfc321cfcd8a141329caa7"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89d0d53081b92638518372acefb6684ea25bbf12", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/89d0d53081b92638518372acefb6684ea25bbf12", "committedDate": "2020-05-15T12:07:19Z", "message": "Update docs/reference/search/request/from-size.asciidoc\n\nCo-authored-by: debadair <debadair@elastic.co>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70c1d65f06856c185739364d21316a89d4c0dd0b", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/70c1d65f06856c185739364d21316a89d4c0dd0b", "committedDate": "2020-05-15T12:07:35Z", "message": "Update docs/reference/search/request/from-size.asciidoc\n\nCo-authored-by: debadair <debadair@elastic.co>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1d3c9f3feea679293b2c62158e597b0bbc6426c", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/a1d3c9f3feea679293b2c62158e597b0bbc6426c", "committedDate": "2020-05-15T12:25:01Z", "message": "review feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2800ccf2a21ce3eecfc6bd6ba4c43fa674f9a94", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/f2800ccf2a21ce3eecfc6bd6ba4c43fa674f9a94", "committedDate": "2020-05-15T18:37:06Z", "message": "rewords"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyOTczODIy", "url": "https://github.com/elastic/elasticsearch/pull/56785#pullrequestreview-412973822", "createdAt": "2020-05-15T21:17:38Z", "commit": {"oid": "f2800ccf2a21ce3eecfc6bd6ba4c43fa674f9a94"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4986, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}