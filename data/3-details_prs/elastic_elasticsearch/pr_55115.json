{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyNjc2MzE2", "number": 55115, "title": "Always use deprecateAndMaybeLog for deprecation warnings", "bodyText": "Closes #53137. Replace calls to deprecate(String,Object...) with deprecateAndMaybeLog(...), with an appropriate key, so that all messages can potentially be deduplicated.", "createdAt": "2020-04-13T14:43:28Z", "url": "https://github.com/elastic/elasticsearch/pull/55115", "merged": true, "mergeCommit": {"oid": "8638d08ebf6c194eed8eb6785cd96610cd97c2fd"}, "closed": true, "closedAt": "2020-04-16T15:19:46Z", "author": {"login": "pugnascotia"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcXPzcBAH2gAyNDAyNjc2MzE2Ojk3ZTU2YWM4OGU3YmUzMDBmYmFmNjc0ZWJlNjE3NDBhZjIwNDkzNWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcYMvP6AH2gAyNDAyNjc2MzE2OjYxN2U4NTZjMzQ4ZjlkMzMzNmY4ODJlZTBlZGQzNzAxMWVlZTdjZjU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "97e56ac88e7be300fbaf674ebe61740af204935b", "author": {"user": {"login": "pugnascotia", "name": "Rory Hunter"}}, "url": "https://github.com/elastic/elasticsearch/commit/97e56ac88e7be300fbaf674ebe61740af204935b", "committedDate": "2020-04-13T14:31:06Z", "message": "Always use deprecateAndMaybeLog for deprecation warnings\n\nCloses #53137. Replace calls to `deprecate(String,Object...)` with\n`deprecateAndMaybeLog(...)`, with an appropriate key, so that all\nmessages can potentially be deduplicated."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyMzg4NDky", "url": "https://github.com/elastic/elasticsearch/pull/55115#pullrequestreview-392388492", "createdAt": "2020-04-13T19:46:47Z", "commit": {"oid": "97e56ac88e7be300fbaf674ebe61740af204935b"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOTo0Njo0OFrOGEyw7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOTo0Njo0OFrOGEyw7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzY3OTIxNQ==", "bodyText": "Doesn't this test now overlap with the maybelog test further down in the file?", "url": "https://github.com/elastic/elasticsearch/pull/55115#discussion_r407679215", "createdAt": "2020-04-13T19:46:48Z", "author": {"login": "rjernst"}, "path": "qa/evil-tests/src/test/java/org/elasticsearch/common/logging/EvilLoggerTests.java", "diffHunk": "@@ -111,7 +111,7 @@ public void testDeprecationLogger() throws IOException, UserException {\n \n         final int deprecatedIterations = randomIntBetween(0, 256);\n         for (int i = 0; i < deprecatedIterations; i++) {\n-            deprecationLogger.deprecated(\"This is a deprecation message\");\n+            deprecationLogger.deprecatedAndMaybeLog(\"key\" + i, \"This is a deprecation message\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "97e56ac88e7be300fbaf674ebe61740af204935b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5a251cce600c3822b770c0c5e98767de4f2cd83", "author": {"user": {"login": "pugnascotia", "name": "Rory Hunter"}}, "url": "https://github.com/elastic/elasticsearch/commit/c5a251cce600c3822b770c0c5e98767de4f2cd83", "committedDate": "2020-04-14T10:34:29Z", "message": "Merge remote-tracking branch 'upstream/master' into 53137-dedup-deprecation-warnings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eaecdbeaf70a5c257cd7bd125f725bb827032735", "author": {"user": {"login": "pugnascotia", "name": "Rory Hunter"}}, "url": "https://github.com/elastic/elasticsearch/commit/eaecdbeaf70a5c257cd7bd125f725bb827032735", "committedDate": "2020-04-14T10:36:18Z", "message": "Remove redundant test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "699b67db72e4737c6109c973699c1bb162647de4", "author": {"user": {"login": "pugnascotia", "name": "Rory Hunter"}}, "url": "https://github.com/elastic/elasticsearch/commit/699b67db72e4737c6109c973699c1bb162647de4", "committedDate": "2020-04-16T13:27:44Z", "message": "Merge remote-tracking branch 'upstream/master' into 53137-dedup-deprecation-warnings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "617e856c348f9d3336f882ee0edd37011eee7cf5", "author": {"user": {"login": "pugnascotia", "name": "Rory Hunter"}}, "url": "https://github.com/elastic/elasticsearch/commit/617e856c348f9d3336f882ee0edd37011eee7cf5", "committedDate": "2020-04-16T13:30:44Z", "message": "Fix test"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3511, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}