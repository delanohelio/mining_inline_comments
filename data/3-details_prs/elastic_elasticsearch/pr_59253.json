{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2NDczMzg1", "number": 59253, "title": "[ML] Add REST spec for the update data frame analytics endpoint", "bodyText": "Closes #59148", "createdAt": "2020-07-08T20:40:51Z", "url": "https://github.com/elastic/elasticsearch/pull/59253", "merged": true, "mergeCommit": {"oid": "dc3713d1498c9b88b9b87e6ce2c5dd2cfbf75b10"}, "closed": true, "closedAt": "2020-07-09T08:53:13Z", "author": {"login": "dimitris-athanasiou"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczAlfPAH2gAyNDQ2NDczMzg1Ojg1MWQ1MjNjNzEwYjljYWQ5ODM4ZTcwNGJkYzNiMWE0NzNiNWY3YmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABczLK2zAFqTQ0NTQyMDM2Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "851d523c710b9cad9838e704bdc3b1a473b5f7be", "author": {"user": {"login": "dimitris-athanasiou", "name": "Dimitris Athanasiou"}}, "url": "https://github.com/elastic/elasticsearch/commit/851d523c710b9cad9838e704bdc3b1a473b5f7be", "committedDate": "2020-07-08T20:37:10Z", "message": "[ML] Add REST spec for the update data frame analytics endpoint\n\nCloses #59148"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MTIzNTYx", "url": "https://github.com/elastic/elasticsearch/pull/59253#pullrequestreview-445123561", "createdAt": "2020-07-08T20:57:51Z", "commit": {"oid": "851d523c710b9cad9838e704bdc3b1a473b5f7be"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQyMDo1Nzo1MVrOGu4-Uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQyMDo1Nzo1MVrOGu4-Uw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTgyMTEzOQ==", "bodyText": "I don't see a update_data_frame_analytics.json definition file.", "url": "https://github.com/elastic/elasticsearch/pull/59253#discussion_r451821139", "createdAt": "2020-07-08T20:57:51Z", "author": {"login": "benwtrent"}, "path": "x-pack/plugin/src/test/resources/rest-api-spec/test/ml/data_frame_analytics_crud.yml", "diffHunk": "@@ -2100,3 +2100,53 @@ setup:\n               \"includes\": [\"excluded\"]\n             }\n           }\n+\n+---\n+\"Test update given all updatable settings\":\n+\n+  - do:\n+      ml.put_data_frame_analytics:\n+        id: \"update-test-job\"\n+        body: >\n+          {\n+            \"source\": {\n+              \"index\": \"index-source\"\n+            },\n+            \"dest\": {\n+              \"index\": \"index-dest\"\n+            },\n+            \"analysis\": {\"outlier_detection\":{}},\n+            \"description\": \"before update\",\n+            \"model_memory_limit\": \"20mb\",\n+            \"allow_lazy_start\": false\n+          }\n+  - match: { id: \"update-test-job\" }\n+  - match: { description: \"before update\" }\n+  - match: { model_memory_limit: \"20mb\" }\n+  - match: { allow_lazy_start: false }\n+\n+  - do:\n+      ml.update_data_frame_analytics:\n+        id: \"update-test-job\"\n+        body: >\n+          {\n+            \"description\": \"after update\",\n+            \"model_memory_limit\": \"30mb\",\n+            \"allow_lazy_start\": true\n+          }\n+  - match: { id: \"update-test-job\" }\n+  - match: { description: \"after update\" }\n+  - match: { model_memory_limit: \"30mb\" }\n+  - match: { allow_lazy_start: true }\n+\n+---\n+\"Test update given missing analytics\":\n+\n+  - do:\n+      catch: missing\n+      ml.update_data_frame_analytics:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "851d523c710b9cad9838e704bdc3b1a473b5f7be"}, "originalPosition": 48}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7faf1e2b7d7074be07b7ca3284894e050ed54f1c", "author": {"user": {"login": "dimitris-athanasiou", "name": "Dimitris Athanasiou"}}, "url": "https://github.com/elastic/elasticsearch/commit/7faf1e2b7d7074be07b7ca3284894e050ed54f1c", "committedDate": "2020-07-09T07:20:38Z", "message": "Add the spec"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MzUyMjEw", "url": "https://github.com/elastic/elasticsearch/pull/59253#pullrequestreview-445352210", "createdAt": "2020-07-09T07:24:08Z", "commit": {"oid": "7faf1e2b7d7074be07b7ca3284894e050ed54f1c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1NDIwMzY3", "url": "https://github.com/elastic/elasticsearch/pull/59253#pullrequestreview-445420367", "createdAt": "2020-07-09T08:57:02Z", "commit": {"oid": "7faf1e2b7d7074be07b7ca3284894e050ed54f1c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQwODo1NzowMlrOGvIDqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQwODo1NzowMlrOGvIDqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjA2ODI2NA==", "bodyText": "It looks like the docs url already publish on elastic.co is different:\n- https://www.elastic.co/guide/en/elasticsearch/reference/current/update-df-analytics.html\n+ https://www.elastic.co/guide/en/elasticsearch/reference/current/update-dfanalytics.html", "url": "https://github.com/elastic/elasticsearch/pull/59253#discussion_r452068264", "createdAt": "2020-07-09T08:57:02Z", "author": {"login": "delvedor"}, "path": "x-pack/plugin/src/test/resources/rest-api-spec/api/ml.update_data_frame_analytics.json", "diffHunk": "@@ -0,0 +1,29 @@\n+{\n+  \"ml.update_data_frame_analytics\":{\n+    \"documentation\":{\n+      \"url\":\"https://www.elastic.co/guide/en/elasticsearch/reference/current/update-df-analytics.html\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7faf1e2b7d7074be07b7ca3284894e050ed54f1c"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2071, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}