{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4NDc0NTEw", "number": 59464, "title": "Increase default write queue size", "bodyText": "This commit increases the default write queue size to 10000. This is to\nallow a greater number of pending indexing requests. This work is safe\nas we have added additional memory limits. Relates to #59263.", "createdAt": "2020-07-13T20:32:37Z", "url": "https://github.com/elastic/elasticsearch/pull/59464", "merged": true, "mergeCommit": {"oid": "a46e5e0f0414fdb7cf293dbe3021e23853481e04"}, "closed": true, "closedAt": "2020-07-14T16:35:26Z", "author": {"login": "tbrooks8"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc0nfZSAH2gAyNDQ4NDc0NTEwOjM4OGUxMTQxYmM2M2M1MTMyMWY2NjYzNjk2NGJkYjRjNzZjMzE0Yjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc04BvqAFqTQ0ODIzNDM5OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "388e1141bc63c51321f66636964bdb4c76c314b9", "author": {"user": {"login": "tbrooks8", "name": "Tim Brooks"}}, "url": "https://github.com/elastic/elasticsearch/commit/388e1141bc63c51321f66636964bdb4c76c314b9", "committedDate": "2020-07-13T20:30:44Z", "message": "Increase default write queue size\n\nThis commit increases the default write queue size to 4000. This is to\nallow a greater number of pending indexing requests. This work is safe\nas we have added additional memory limits."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3OTYxNzg4", "url": "https://github.com/elastic/elasticsearch/pull/59464#pullrequestreview-447961788", "createdAt": "2020-07-14T09:56:03Z", "commit": {"oid": "388e1141bc63c51321f66636964bdb4c76c314b9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwOTo1NjowM1rOGxMtsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwOTo1NjowM1rOGxMtsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDI0MTcxMw==", "bodyText": "you mean indexing_pressure.memory.limit here?", "url": "https://github.com/elastic/elasticsearch/pull/59464#discussion_r454241713", "createdAt": "2020-07-14T09:56:03Z", "author": {"login": "ywelsch"}, "path": "docs/reference/release-notes/7.9.asciidoc", "diffHunk": "@@ -22,3 +22,10 @@ Snapshot restore throttling::\n   default that's used for `indices.recovery.max_bytes_per_sec`. This means\n   that no behavioral change will be observed by clusters where the recovery\n   and restore settings had not been adapted from the defaults. {es-pull}58658[#58658]\n+\n+Thread pool write queue size::\n+* The WRITE thread pool default queue size (`thread_pool.write.size`) has been\n+  increased from 200 to 4000. Additional memory-oriented back pressure has been\n+  introduced with the `indexing_limits.memory.limit` setting. This setting", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "388e1141bc63c51321f66636964bdb4c76c314b9"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5442d2c1a558c19a676408b67e8088705037d211", "author": {"user": {"login": "tbrooks8", "name": "Tim Brooks"}}, "url": "https://github.com/elastic/elasticsearch/commit/5442d2c1a558c19a676408b67e8088705037d211", "committedDate": "2020-07-14T15:18:13Z", "message": "Changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11fa21497d40ae5b01a357019883452320c5308e", "author": {"user": {"login": "tbrooks8", "name": "Tim Brooks"}}, "url": "https://github.com/elastic/elasticsearch/commit/11fa21497d40ae5b01a357019883452320c5308e", "committedDate": "2020-07-14T15:37:06Z", "message": "10000"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MjI4NjU1", "url": "https://github.com/elastic/elasticsearch/pull/59464#pullrequestreview-448228655", "createdAt": "2020-07-14T15:40:16Z", "commit": {"oid": "11fa21497d40ae5b01a357019883452320c5308e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNTo0MDoxNlrOGxZjYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNTo0MDoxNlrOGxZjYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDQ1MjA2NQ==", "bodyText": "Should we mention here that this new model now better supports indexing loads that consist of a few large bulks as well as many small bulks (from a larger number of clients).", "url": "https://github.com/elastic/elasticsearch/pull/59464#discussion_r454452065", "createdAt": "2020-07-14T15:40:16Z", "author": {"login": "ywelsch"}, "path": "docs/reference/release-notes/7.9.asciidoc", "diffHunk": "@@ -22,3 +22,10 @@ Snapshot restore throttling::\n   default that's used for `indices.recovery.max_bytes_per_sec`. This means\n   that no behavioral change will be observed by clusters where the recovery\n   and restore settings had not been adapted from the defaults. {es-pull}58658[#58658]\n+\n+Thread pool write queue size::\n+* The WRITE thread pool default queue size (`thread_pool.write.size`) has been\n+  increased from 200 to 10000. Additional memory-oriented back pressure has been", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11fa21497d40ae5b01a357019883452320c5308e"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7adc265d064754bd24e718bb97279c2739280b53", "author": {"user": {"login": "tbrooks8", "name": "Tim Brooks"}}, "url": "https://github.com/elastic/elasticsearch/commit/7adc265d064754bd24e718bb97279c2739280b53", "committedDate": "2020-07-14T15:45:35Z", "message": "Coments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MjM0Mzk4", "url": "https://github.com/elastic/elasticsearch/pull/59464#pullrequestreview-448234398", "createdAt": "2020-07-14T15:46:44Z", "commit": {"oid": "7adc265d064754bd24e718bb97279c2739280b53"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4439, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}