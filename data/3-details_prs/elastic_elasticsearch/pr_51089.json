{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYzNTY2MzU1", "number": 51089, "title": "Refactor SamlAuthenticatorTests ", "bodyText": "Use opensaml utility classes to sign and encrypt responses/assertions/attributes\ninstead of manually signing XML documents\nUse opensaml to build Response and Assertion objects instead of\nparsing XML strings and replacing values.\n\nThese changes allow us to run the tests in Azul Zulu 8 and in\nFIPS 140 JVMs. Due to FIPS 140 requirements, BouncyCastle FIPS provider\nwill block RSA keys that have been used for signing from being used for\nencryption and vice versa. This commit also adds new encryption specific keys\nto be used throughout the tests.\nResolves: #49742", "createdAt": "2020-01-16T10:21:43Z", "url": "https://github.com/elastic/elasticsearch/pull/51089", "merged": true, "mergeCommit": {"oid": "6f60f1eb52de75efa4ef2ad4a537b9f2e3e0ab8a"}, "closed": true, "closedAt": "2020-05-25T08:37:47Z", "author": {"login": "jkakavas"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb57egeAH2gAyMzYzNTY2MzU1OjZmZDk1NDdiNzZhYzUyNjI4MGE2M2UyYjU1NzBhNTUwZTdkNGM0MTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABckrMVogH2gAyMzYzNTY2MzU1OjAxNTY4YzYyZjJiOWIzNmFiYWMyZjgzZGZkNjU1NjYwZTk4MDZkN2U=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6fd9547b76ac526280a63e2b5570a550e7d4c413", "author": {"user": {"login": "jkakavas", "name": "Ioannis Kakavas"}}, "url": "https://github.com/elastic/elasticsearch/commit/6fd9547b76ac526280a63e2b5570a550e7d4c413", "committedDate": "2020-01-13T12:26:20Z", "message": "Refactor SamlAuthenticatorTests\n\n- Use opensaml to sign and encrypt responses/assertions/attributes\ninstead of doing this manually\n- Use opensaml to build response and assertion objects instead of\nparsing xml strings\n\nThese changes allow us to run the tests in Azul Zulu 8 and in\nFIPS 140 JVMs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e90a99c2dd82c0470e0f8b3443f202d51b344d2d", "author": {"user": {"login": "jkakavas", "name": "Ioannis Kakavas"}}, "url": "https://github.com/elastic/elasticsearch/commit/e90a99c2dd82c0470e0f8b3443f202d51b344d2d", "committedDate": "2020-01-16T08:58:46Z", "message": "Always use different keys for signing and encryption\n\nDue to FIPS 140 requirements, BouncyCastle FIPS provider will block\nRSA keys that have been used for signing from being used for encryption\nand vice versa. This commit adds new encryption specific keys to be\nused throughout the tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5c61e1898fe0c905a4986c8b85161091b2e39a8a", "author": {"user": {"login": "jkakavas", "name": "Ioannis Kakavas"}}, "url": "https://github.com/elastic/elasticsearch/commit/5c61e1898fe0c905a4986c8b85161091b2e39a8a", "committedDate": "2020-01-16T10:15:27Z", "message": "Few changes for canonicalization attack tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a4b7c3ad6cba48fc20761ec410960c9348f9e3a", "author": {"user": {"login": "jkakavas", "name": "Ioannis Kakavas"}}, "url": "https://github.com/elastic/elasticsearch/commit/7a4b7c3ad6cba48fc20761ec410960c9348f9e3a", "committedDate": "2020-01-16T10:16:14Z", "message": "remove TODO"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12eb9b68217ebf9bd284e23f4e9eee71cdb8b633", "author": {"user": {"login": "jkakavas", "name": "Ioannis Kakavas"}}, "url": "https://github.com/elastic/elasticsearch/commit/12eb9b68217ebf9bd284e23f4e9eee71cdb8b633", "committedDate": "2020-01-16T10:28:40Z", "message": "Merge remote-tracking branch 'origin/master' into opensaml-signing-tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5ef6af6fe93ed133af992144cbe875754dbf906", "author": {"user": {"login": "jkakavas", "name": "Ioannis Kakavas"}}, "url": "https://github.com/elastic/elasticsearch/commit/e5ef6af6fe93ed133af992144cbe875754dbf906", "committedDate": "2020-05-15T15:19:04Z", "message": "Merge remote-tracking branch 'origin/master' into opensaml-signing-tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b3303a0479759769ec4f0576bba47edf09a5cf5", "author": {"user": {"login": "jkakavas", "name": "Ioannis Kakavas"}}, "url": "https://github.com/elastic/elasticsearch/commit/6b3303a0479759769ec4f0576bba47edf09a5cf5", "committedDate": "2020-05-15T16:21:10Z", "message": "addressed feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3NDQ0MDE1", "url": "https://github.com/elastic/elasticsearch/pull/51089#pullrequestreview-417444015", "createdAt": "2020-05-25T03:55:53Z", "commit": {"oid": "6b3303a0479759769ec4f0576bba47edf09a5cf5"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQwMzo1NTo1NFrOGZ0Iaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQwMzo1NTo1NFrOGZ0Iaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTcyMTcwNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    assumeFalse(\"Can't run in Azul Zulu JVM\",System.getProperty(\"java.vendor\", \"\").contains(\"Azul\"));\n          \n          \n            \n                    assumeFalse(\"Can't run in Azul Zulu JVM\", System.getProperty(\"java.vendor\", \"\").contains(\"Azul\"));", "url": "https://github.com/elastic/elasticsearch/pull/51089#discussion_r429721707", "createdAt": "2020-05-25T03:55:54Z", "author": {"login": "tvernum"}, "path": "x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authc/saml/SamlAuthenticatorTests.java", "diffHunk": "@@ -2198,21 +1175,47 @@ public void testIgnoredCommentsInForgedResponses() throws Exception {\n     }\n \n     public void testIgnoredCommentsInLegitimateResponses() throws Exception {\n+        assumeFalse(\"Can't run in a FIPS JVM, there is no DOM XMLSignature Factory so we can't sign XML documents\", inFipsJvm());\n+        assumeFalse(\"Can't run in Azul Zulu JVM\",System.getProperty(\"java.vendor\", \"\").contains(\"Azul\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b3303a0479759769ec4f0576bba47edf09a5cf5"}, "originalPosition": 2185}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01568c62f2b9b36abac2f83dfd655660e9806d7e", "author": {"user": {"login": "jkakavas", "name": "Ioannis Kakavas"}}, "url": "https://github.com/elastic/elasticsearch/commit/01568c62f2b9b36abac2f83dfd655660e9806d7e", "committedDate": "2020-05-25T07:46:45Z", "message": "Accept feedback\n\nCo-authored-by: Tim Vernum <tim@adjective.org>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3145, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}