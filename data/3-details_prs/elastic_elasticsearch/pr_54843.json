{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk5ODcyMTYw", "number": 54843, "title": "EQL: Add cascading search cancellation", "bodyText": "EQL search cancellation now propagates cancellation to underlying search\noperations.\nRelates to #49638", "createdAt": "2020-04-06T19:56:49Z", "url": "https://github.com/elastic/elasticsearch/pull/54843", "merged": true, "mergeCommit": {"oid": "9d38dcf40159fb9dd20b10e1e625bde4bfc47bfc"}, "closed": true, "closedAt": "2020-04-10T12:09:29Z", "author": {"login": "imotov"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcVENzFgH2gAyMzk5ODcyMTYwOjJhNzVlODgyNWFmZmRkYmI5OWRkY2I4MjNmNjFmNzdhYjFmYTU3ODg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcWB3IEAFqTM5MTA4MDU3NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2a75e8825affddbb99ddcb823f61f77ab1fa5788", "author": {"user": {"login": "imotov", "name": "Igor Motov"}}, "url": "https://github.com/elastic/elasticsearch/commit/2a75e8825affddbb99ddcb823f61f77ab1fa5788", "committedDate": "2020-04-06T19:53:11Z", "message": "EQL: Add cascading search cancellation\n\nEQL search cancellation now propagates cancellation to underlying search\noperations.\n\nRelates to #49638"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwMzU0Njg4", "url": "https://github.com/elastic/elasticsearch/pull/54843#pullrequestreview-390354688", "createdAt": "2020-04-08T21:45:36Z", "commit": {"oid": "2a75e8825affddbb99ddcb823f61f77ab1fa5788"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwNjg0NTgx", "url": "https://github.com/elastic/elasticsearch/pull/54843#pullrequestreview-390684581", "createdAt": "2020-04-09T10:45:21Z", "commit": {"oid": "2a75e8825affddbb99ddcb823f61f77ab1fa5788"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxMDo0NToyMVrOGDTfcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxMDo0NToyMVrOGDTfcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjExODI1Ng==", "bodyText": "Since nodeId and EqlSearchTask are coupled, maybe they can be assembled into a compound object?", "url": "https://github.com/elastic/elasticsearch/pull/54843#discussion_r406118256", "createdAt": "2020-04-09T10:45:21Z", "author": {"login": "costin"}, "path": "x-pack/plugin/eql/src/main/java/org/elasticsearch/xpack/eql/session/Configuration.java", "diffHunk": "@@ -21,12 +22,13 @@\n     private final String clientId;\n     private final boolean includeFrozenIndices;\n     private final EqlSearchTask task;\n+    private final TaskId taskId;\n \n     @Nullable\n     private QueryBuilder filter;\n \n     public Configuration(String[] indices, ZoneId zi, String username, String clusterName, QueryBuilder filter, TimeValue requestTimeout,\n-                         int size, boolean includeFrozen, String clientId, EqlSearchTask task) {\n+                         int size, boolean includeFrozen, String clientId, String nodeId, EqlSearchTask task) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2a75e8825affddbb99ddcb823f61f77ab1fa5788"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00c14b034224d1424d18edc8ba49a37791fcce71", "author": {"user": {"login": "imotov", "name": "Igor Motov"}}, "url": "https://github.com/elastic/elasticsearch/commit/00c14b034224d1424d18edc8ba49a37791fcce71", "committedDate": "2020-04-09T13:33:06Z", "message": "Refactor passing task cancellation flag and task id"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0fd25a025de344346ba0a33242519ddf15fe1a6", "author": {"user": {"login": "imotov", "name": "Igor Motov"}}, "url": "https://github.com/elastic/elasticsearch/commit/b0fd25a025de344346ba0a33242519ddf15fe1a6", "committedDate": "2020-04-09T18:29:19Z", "message": "Add integration tests for cancellation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "130f6d2dfbdd4d683d86fb84311b58967277827d", "author": {"user": {"login": "imotov", "name": "Igor Motov"}}, "url": "https://github.com/elastic/elasticsearch/commit/130f6d2dfbdd4d683d86fb84311b58967277827d", "committedDate": "2020-04-09T18:29:28Z", "message": "Merge remote-tracking branch 'elastic/master' into issue-49638-eql-cascading-cancellations"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxMDgwNTc0", "url": "https://github.com/elastic/elasticsearch/pull/54843#pullrequestreview-391080574", "createdAt": "2020-04-09T19:42:32Z", "commit": {"oid": "130f6d2dfbdd4d683d86fb84311b58967277827d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3711, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}