{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1NDM3MTUx", "number": 56469, "title": "[DOCS] Correct watcher event data example", "bodyText": "Updates Logstash index patterns. Logstash indices now default to an\nILM-friendly index pattern.\nSwaps *.raw fields for *.keyword fields. The Logstash template\nuses keyword fields by default since 6.x.\nSwaps instances ofctx.payload.hits.total.value with\nctx.payload.hits.total\n\nCloses #56248", "createdAt": "2020-05-08T21:15:43Z", "url": "https://github.com/elastic/elasticsearch/pull/56469", "merged": true, "mergeCommit": {"oid": "1353d8b7dda11ff06ed7c2cb4e342c577943766e"}, "closed": true, "closedAt": "2020-05-12T19:39:01Z", "author": {"login": "jrodewig"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcfYjNjgH2gAyNDE1NDM3MTUxOjRkZThiY2M1MTY4Y2M2YjE2ZmRkNmRmYTgxOGY1ODdjMjk2MGFjOTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgoCQ2AFqTQxMDI4MzA3NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4de8bcc5168cc6b16fdd6dfa818f587c2960ac95", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/4de8bcc5168cc6b16fdd6dfa818f587c2960ac95", "committedDate": "2020-05-08T21:13:55Z", "message": "[DOCS] Correct watcher event data example\n\n* Updates Logstash index patterns. Logstash indices now default to an\n  ILM-friendly index pattern.\n* Swaps `*.raw` fields for `*.keyword` fields. The Logstash template\n  uses `keyword` fields by default since 6.x.\n* Swaps instances of`ctx.payload.hits.total.value` with\n  `ctx.payload.hits.total`"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwMTkzMTc4", "url": "https://github.com/elastic/elasticsearch/pull/56469#pullrequestreview-410193178", "createdAt": "2020-05-12T16:01:55Z", "commit": {"oid": "4de8bcc5168cc6b16fdd6dfa818f587c2960ac95"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxNjowMTo1NVrOGUN2_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQxNjowMTo1NVrOGUN2_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzg1MTc3Mg==", "bodyText": "With ILM there will be an alias by default named logstash. Rather then trying to query the concrete indices, I think the example should just use a single index logstash and the note below call out that logstash is an alias.\nIn general we should avoid examples that include both time based (e.g. {now}) and rollover based (e.g. -00001) in favor of the fronting alias. The time stamp on the index when combined with rollover changes meaning such that it is the time when the index was created, not necessarily reflective of the content of that index (the content is dependent on the rollover rules). It is a distinction difficult to describe and the alias should be the preferred access across multiple rolled over indices.", "url": "https://github.com/elastic/elasticsearch/pull/56469#discussion_r423851772", "createdAt": "2020-05-12T16:01:55Z", "author": {"login": "jakelandis"}, "path": "x-pack/docs/en/watcher/example-watches/example-watch-meetupdata.asciidoc", "diffHunk": "@@ -83,8 +83,8 @@ To set up the watch:\n     \"search\": {\n       \"request\": {\n         \"indices\": [\n-          \"<logstash-{now-1h}>\", <1>\n-          \"<logstash-{now}>\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4de8bcc5168cc6b16fdd6dfa818f587c2960ac95"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c1d2db588a4b8e65790f4797785fcf94d934206", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/2c1d2db588a4b8e65790f4797785fcf94d934206", "committedDate": "2020-05-12T16:25:35Z", "message": "use `logstash` index alias"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59aaa1ad126e91b5a8429a814b5c30227162d0b0", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/59aaa1ad126e91b5a8429a814b5c30227162d0b0", "committedDate": "2020-05-12T17:38:50Z", "message": "Merge branch 'master' into docs__correct-meetup-watcher-ex"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwMjgzMDc0", "url": "https://github.com/elastic/elasticsearch/pull/56469#pullrequestreview-410283074", "createdAt": "2020-05-12T17:50:20Z", "commit": {"oid": "59aaa1ad126e91b5a8429a814b5c30227162d0b0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 88, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}