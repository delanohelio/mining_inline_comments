{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgyMTM0Njky", "number": 62112, "title": "Update Range mapping type docs", "bodyText": "The documentation for this mapping type was missing some important information about how to define and use ranges.", "createdAt": "2020-09-08T15:41:00Z", "url": "https://github.com/elastic/elasticsearch/pull/62112", "merged": true, "mergeCommit": {"oid": "4be761fde4dd17176f3bed1a2606a50d16a6af2c"}, "closed": true, "closedAt": "2020-09-16T13:07:52Z", "author": {"login": "wylieconlon"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdG5eWNgH2gAyNDgyMTM0NjkyOjNlZWMxY2QzNzRmM2FjYjJlNTYxYTZiMmY1ZjkyMzk1MDQ5YWMxMDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdJXg3UAFqTQ4OTM1OTU0MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3eec1cd374f3acb2e561a6b2f5f92395049ac100", "author": {"user": {"login": "wylieconlon", "name": "Wylie Conlon"}}, "url": "https://github.com/elastic/elasticsearch/commit/3eec1cd374f3acb2e561a6b2f5f92395049ac100", "committedDate": "2020-09-08T15:38:31Z", "message": "Update Range mapping type docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3dae09fb11a0b8cec20b5a47e86685b054c6511f", "author": {"user": {"login": "wylieconlon", "name": "Wylie Conlon"}}, "url": "https://github.com/elastic/elasticsearch/commit/3dae09fb11a0b8cec20b5a47e86685b054c6511f", "committedDate": "2020-09-08T16:00:50Z", "message": "Fix results"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1MTg1MDU0", "url": "https://github.com/elastic/elasticsearch/pull/62112#pullrequestreview-485185054", "createdAt": "2020-09-09T16:16:07Z", "commit": {"oid": "3dae09fb11a0b8cec20b5a47e86685b054c6511f"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxNjoxNjowOFrOHPPPpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxNjo0MjoyNlrOHPQpAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTc0MDQ1Mw==", "bodyText": "nit: might be just me, but I feel like the field doesn't represent the \"relation\" between the bounds but a continuous range of values between those bounds. The relations are then used to define and query the range. Maybe my understanding is off here, not a native speaker, sorry.", "url": "https://github.com/elastic/elasticsearch/pull/62112#discussion_r485740453", "createdAt": "2020-09-09T16:16:08Z", "author": {"login": "cbuescher"}, "path": "docs/reference/mapping/types/range.asciidoc", "diffHunk": "@@ -4,6 +4,13 @@\n <titleabbrev>Range</titleabbrev>\n ++++\n \n+A field that represents a relation between a lower and upper bound, using the", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3dae09fb11a0b8cec20b5a47e86685b054c6511f"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTc2MzMyOA==", "bodyText": "Just tried range aggregation on simple integer_range and date_range fields on 7.7 and master, gettting errors for both that these fields are not supported for this type of field. Maybe I'm missing something, what did you check or refer to when adding this?", "url": "https://github.com/elastic/elasticsearch/pull/62112#discussion_r485763328", "createdAt": "2020-09-09T16:42:26Z", "author": {"login": "cbuescher"}, "path": "docs/reference/mapping/types/range.asciidoc", "diffHunk": "@@ -4,6 +4,13 @@\n <titleabbrev>Range</titleabbrev>\n ++++\n \n+A field that represents a relation between a lower and upper bound, using the\n+relations `gt`, `gte`, `lt` and `lte`. They can be used for querying, and have\n+limited support for aggregations. The only supported aggregations are\n+{ref}/search-aggregations-bucket-histogram-aggregation.html[histogram],\n+{ref}/search-aggregations-bucket-range-aggregation.html[range] and", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3dae09fb11a0b8cec20b5a47e86685b054c6511f"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1MjE5MTA4", "url": "https://github.com/elastic/elasticsearch/pull/62112#pullrequestreview-485219108", "createdAt": "2020-09-09T16:59:05Z", "commit": {"oid": "3dae09fb11a0b8cec20b5a47e86685b054c6511f"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxNjo1OTowNVrOHPRfJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxNjo1OToyNFrOHPRf6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTc3NzE5MQ==", "bodyText": "I think we can elaborate a little more for clarity.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            `date_range`::      A range of date values represented as unsigned 64-bit integer milliseconds elapsed since system epoch.\n          \n          \n            \n                                Date ranges accept the same formats described in the <<date, `date`>> type, but `now` is not allowed.\n          \n          \n            \n            `date_range`::\n          \n          \n            \n            A range of <<date,`date`>> values. Date ranges support various date formats\n          \n          \n            \n            through the <<mapping-date-format,`format`>> mapping parameter. Regardless of\n          \n          \n            \n            the format used, date values are parsed into an unsigned 64-bit integer\n          \n          \n            \n            representing milliseconds since the Unix epoch in UTC. Values containing the\n          \n          \n            \n            `now` <<date-math,date math>> expression are not supported.", "url": "https://github.com/elastic/elasticsearch/pull/62112#discussion_r485777191", "createdAt": "2020-09-09T16:59:05Z", "author": {"login": "jrodewig"}, "path": "docs/reference/mapping/types/range.asciidoc", "diffHunk": "@@ -12,6 +19,7 @@ The following range types are supported:\n `long_range`::      A range of signed 64-bit integers with a minimum value of +-2^63^+ and maximum of +2^63^-1+.\n `double_range`::    A range of double-precision 64-bit IEEE 754 floating point values.\n `date_range`::      A range of date values represented as unsigned 64-bit integer milliseconds elapsed since system epoch.\n+                    Date ranges accept the same formats described in the <<date, `date`>> type, but `now` is not allowed.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3dae09fb11a0b8cec20b5a47e86685b054c6511f"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTc3NzI2NQ==", "bodyText": "I'd move the operators and common uses after the range types. I think many users will want to know what range types are available before getting info on how to define or use them.", "url": "https://github.com/elastic/elasticsearch/pull/62112#discussion_r485777265", "createdAt": "2020-09-09T16:59:13Z", "author": {"login": "jrodewig"}, "path": "docs/reference/mapping/types/range.asciidoc", "diffHunk": "@@ -4,6 +4,13 @@\n <titleabbrev>Range</titleabbrev>\n ++++\n \n+A field that represents a relation between a lower and upper bound, using the\n+relations `gt`, `gte`, `lt` and `lte`. They can be used for querying, and have\n+limited support for aggregations. The only supported aggregations are\n+{ref}/search-aggregations-bucket-histogram-aggregation.html[histogram],\n+{ref}/search-aggregations-bucket-range-aggregation.html[range] and", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3dae09fb11a0b8cec20b5a47e86685b054c6511f"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTc3NzM4NQ==", "bodyText": "I agree. I think a couple of high-level examples may make this a bit clearer:\n\nRange field types represent a continuous range of values between an upper and\nlower bound. For example, a range field can represent values like any integer\nbetween 1 and 5 or any date in October.", "url": "https://github.com/elastic/elasticsearch/pull/62112#discussion_r485777385", "createdAt": "2020-09-09T16:59:24Z", "author": {"login": "jrodewig"}, "path": "docs/reference/mapping/types/range.asciidoc", "diffHunk": "@@ -4,6 +4,13 @@\n <titleabbrev>Range</titleabbrev>\n ++++\n \n+A field that represents a relation between a lower and upper bound, using the", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTc0MDQ1Mw=="}, "originalCommit": {"oid": "3dae09fb11a0b8cec20b5a47e86685b054c6511f"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49b645dbfc817a71523886591e127daa905d3306", "author": {"user": {"login": "wylieconlon", "name": "Wylie Conlon"}}, "url": "https://github.com/elastic/elasticsearch/commit/49b645dbfc817a71523886591e127daa905d3306", "committedDate": "2020-09-15T21:15:58Z", "message": "Merge remote-tracking branch 'origin/master' into document-ranges"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76862a5518f31b6e25a05f55b61d88ec17d78200", "author": {"user": {"login": "wylieconlon", "name": "Wylie Conlon"}}, "url": "https://github.com/elastic/elasticsearch/commit/76862a5518f31b6e25a05f55b61d88ec17d78200", "committedDate": "2020-09-15T21:34:28Z", "message": "Make updates"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5MTI3MDI5", "url": "https://github.com/elastic/elasticsearch/pull/62112#pullrequestreview-489127029", "createdAt": "2020-09-15T21:39:36Z", "commit": {"oid": "76862a5518f31b6e25a05f55b61d88ec17d78200"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5MzU5NTQx", "url": "https://github.com/elastic/elasticsearch/pull/62112#pullrequestreview-489359541", "createdAt": "2020-09-16T07:46:16Z", "commit": {"oid": "76862a5518f31b6e25a05f55b61d88ec17d78200"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4786, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}