{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1MTczODE0", "number": 55404, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNTowMDo1MlrODy73vA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNTowMDo1MlrODy73vA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0NzM2MzE2OnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNTowMDo1MlrOGHRlhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNTowMDo1MlrOGHRlhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI4MTM1MA==", "bodyText": "can you add a comment saying why this is necessary?", "url": "https://github.com/elastic/elasticsearch/pull/55404#discussion_r410281350", "createdAt": "2020-04-17T15:00:52Z", "author": {"login": "ywelsch"}, "path": "server/src/main/java/org/elasticsearch/action/admin/cluster/node/tasks/cancel/TransportCancelTasksAction.java", "diffHunk": "@@ -121,8 +123,10 @@ void cancelTaskAndDescendants(CancellableTask task, String reason, boolean waitF\n             StepListener<Void> banOnNodesListener = new StepListener<>();\n             setBanOnNodes(reason, waitForCompletion, task, childrenNodes, banOnNodesListener);\n             banOnNodesListener.whenComplete(groupedListener::onResponse, groupedListener::onFailure);\n+            final Runnable removeBansRunnable = transportService.getThreadPool().getThreadContext()\n+                .preserveContext(() -> removeBanOnNodes(task, childrenNodes));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5cce3ba48acf476a5e58ef54f16e1013f344e5c"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 995, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}