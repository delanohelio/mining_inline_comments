{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyNTg1OTQ4", "number": 50967, "title": "Add missing docs for new evaluation metrics", "bodyText": "This PR adds API reference docs for the new classification evaluation metrics: accuracy, precision and recall.\nAdditionally, it makes a few small improvements to the existing docs.\nRelates #48759", "createdAt": "2020-01-14T11:30:07Z", "url": "https://github.com/elastic/elasticsearch/pull/50967", "merged": true, "mergeCommit": {"oid": "999884d8fb2151b6ffa57eaa8c0d7cc74ec2282b"}, "closed": true, "closedAt": "2020-01-15T13:23:37Z", "author": {"login": "przemekwitek"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6PO1dgH2gAyMzYyNTg1OTQ4OjA0ZTQwYzEwNWQ5YjQ1MzcwYTU0NTYwOTg1ZjQzMGM3NWRmNTczYmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb6lECXAH2gAyMzYyNTg1OTQ4OjBlMjQ0ZTkzMDU2ZWRkNWUzNGQ4YWQzNzM5NTRmMDUwZjUxZDAwMjA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "04e40c105d9b45370a54560985f430c75df573ba", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/04e40c105d9b45370a54560985f430c75df573ba", "committedDate": "2020-01-14T11:27:19Z", "message": "Make the order of evaluation fields consistent between the three types of evaluations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01a678479c4ed20b09a79b52d7989653971806a2", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/01a678479c4ed20b09a79b52d7989653971806a2", "committedDate": "2020-01-14T14:29:08Z", "message": "Add evaluation metrics descriptions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzMDE1NzY0", "url": "https://github.com/elastic/elasticsearch/pull/50967#pullrequestreview-343015764", "createdAt": "2020-01-15T06:52:43Z", "commit": {"oid": "01a678479c4ed20b09a79b52d7989653971806a2"}, "state": "APPROVED", "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQwNjo1Mjo0M1rOFdusVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQwNjo1ODo1OVrOFduyEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjcxODAzNw==", "bodyText": "If you don't have strong feelings about the order you proposed, it would be great to keep the alphabetical order here.", "url": "https://github.com/elastic/elasticsearch/pull/50967#discussion_r366718037", "createdAt": "2020-01-15T06:52:43Z", "author": {"login": "szabosteve"}, "path": "docs/reference/ml/df-analytics/apis/evaluate-dfanalytics.asciidoc", "diffHunk": "@@ -42,31 +42,32 @@ result field to be present.\n [[ml-evaluate-dfanalytics-request-body]]\n ==== {api-request-body-title}\n \n+`index`::", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01a678479c4ed20b09a79b52d7989653971806a2"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjcxODg4Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                Read more on https://en.wikipedia.org/wiki/Mean_squared_error[Wikipedia]\n          \n          \n            \n               For more information, read https://en.wikipedia.org/wiki/Mean_squared_error[this wiki article].", "url": "https://github.com/elastic/elasticsearch/pull/50967#discussion_r366718887", "createdAt": "2020-01-15T06:56:21Z", "author": {"login": "szabosteve"}, "path": "docs/reference/ml/df-analytics/apis/evaluate-dfanalytics.asciidoc", "diffHunk": "@@ -122,9 +123,18 @@ which outputs a prediction of values.\n   in other words the results of the {regression} analysis.\n   \n `metrics`::\n-  (Required, object) Specifies the metrics that are used for the evaluation. \n-  Available metrics are `r_squared` and `mean_squared_error`.\n-  \n+  (Optional, object) Specifies the metrics that are used for the evaluation.\n+  Available metrics:\n+\n+  `mean_squared_error`:::\n+    (Optional, object) Average squared difference between the predicted values and the actual (`ground truth`) value.\n+    Read more on https://en.wikipedia.org/wiki/Mean_squared_error[Wikipedia]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01a678479c4ed20b09a79b52d7989653971806a2"}, "originalPosition": 82}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjcxOTAwMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                Read more on https://en.wikipedia.org/wiki/Coefficient_of_determination[Wikipedia]\n          \n          \n            \n                For more information, read https://en.wikipedia.org/wiki/Coefficient_of_determination[this wiki article].", "url": "https://github.com/elastic/elasticsearch/pull/50967#discussion_r366719001", "createdAt": "2020-01-15T06:56:46Z", "author": {"login": "szabosteve"}, "path": "docs/reference/ml/df-analytics/apis/evaluate-dfanalytics.asciidoc", "diffHunk": "@@ -122,9 +123,18 @@ which outputs a prediction of values.\n   in other words the results of the {regression} analysis.\n   \n `metrics`::\n-  (Required, object) Specifies the metrics that are used for the evaluation. \n-  Available metrics are `r_squared` and `mean_squared_error`.\n-  \n+  (Optional, object) Specifies the metrics that are used for the evaluation.\n+  Available metrics:\n+\n+  `mean_squared_error`:::\n+    (Optional, object) Average squared difference between the predicted values and the actual (`ground truth`) value.\n+    Read more on https://en.wikipedia.org/wiki/Mean_squared_error[Wikipedia]\n+\n+  `r_squared`:::\n+    (Optional, object) Proportion of the variance in the dependent variable that is predictable from the independent variables.\n+    Read more on https://en.wikipedia.org/wiki/Coefficient_of_determination[Wikipedia]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01a678479c4ed20b09a79b52d7989653971806a2"}, "originalPosition": 86}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjcxOTE4OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                (Optional, object) Accuracy of predictions (per-class and overall)\n          \n          \n            \n                (Optional, object) Accuracy of predictions (per-class and overall).", "url": "https://github.com/elastic/elasticsearch/pull/50967#discussion_r366719188", "createdAt": "2020-01-15T06:57:38Z", "author": {"login": "szabosteve"}, "path": "docs/reference/ml/df-analytics/apis/evaluate-dfanalytics.asciidoc", "diffHunk": "@@ -149,6 +155,22 @@ belongs.\n   default value of the same field if you didn't specified explicitly). For \n   example, `predicted_field` : `ml.animal_class_prediction.keyword`.\n \n+`metrics`::\n+  (Optional, object) Specifies the metrics that are used for the evaluation.\n+  Available metrics:\n+\n+  `accuracy`:::\n+    (Optional, object) Accuracy of predictions (per-class and overall)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01a678479c4ed20b09a79b52d7989653971806a2"}, "originalPosition": 116}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjcxOTIyNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                (Optional, object) Precision of predictions (per-class and average)\n          \n          \n            \n                (Optional, object) Precision of predictions (per-class and average).", "url": "https://github.com/elastic/elasticsearch/pull/50967#discussion_r366719227", "createdAt": "2020-01-15T06:57:46Z", "author": {"login": "szabosteve"}, "path": "docs/reference/ml/df-analytics/apis/evaluate-dfanalytics.asciidoc", "diffHunk": "@@ -149,6 +155,22 @@ belongs.\n   default value of the same field if you didn't specified explicitly). For \n   example, `predicted_field` : `ml.animal_class_prediction.keyword`.\n \n+`metrics`::\n+  (Optional, object) Specifies the metrics that are used for the evaluation.\n+  Available metrics:\n+\n+  `accuracy`:::\n+    (Optional, object) Accuracy of predictions (per-class and overall)\n+\n+  `precision`:::\n+    (Optional, object) Precision of predictions (per-class and average)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01a678479c4ed20b09a79b52d7989653971806a2"}, "originalPosition": 119}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjcxOTI1OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                (Optional, object) Recall of predictions (per-class and average)\n          \n          \n            \n                (Optional, object) Recall of predictions (per-class and average).", "url": "https://github.com/elastic/elasticsearch/pull/50967#discussion_r366719259", "createdAt": "2020-01-15T06:57:54Z", "author": {"login": "szabosteve"}, "path": "docs/reference/ml/df-analytics/apis/evaluate-dfanalytics.asciidoc", "diffHunk": "@@ -149,6 +155,22 @@ belongs.\n   default value of the same field if you didn't specified explicitly). For \n   example, `predicted_field` : `ml.animal_class_prediction.keyword`.\n \n+`metrics`::\n+  (Optional, object) Specifies the metrics that are used for the evaluation.\n+  Available metrics:\n+\n+  `accuracy`:::\n+    (Optional, object) Accuracy of predictions (per-class and overall)\n+\n+  `precision`:::\n+    (Optional, object) Precision of predictions (per-class and average)\n+\n+  `recall`:::\n+    (Optional, object) Recall of predictions (per-class and average)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01a678479c4ed20b09a79b52d7989653971806a2"}, "originalPosition": 122}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjcxOTMzMg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                (Optional, object) Multiclass confusion matrix\n          \n          \n            \n                (Optional, object) Multiclass confusion matrix.", "url": "https://github.com/elastic/elasticsearch/pull/50967#discussion_r366719332", "createdAt": "2020-01-15T06:58:09Z", "author": {"login": "szabosteve"}, "path": "docs/reference/ml/df-analytics/apis/evaluate-dfanalytics.asciidoc", "diffHunk": "@@ -149,6 +155,22 @@ belongs.\n   default value of the same field if you didn't specified explicitly). For \n   example, `predicted_field` : `ml.animal_class_prediction.keyword`.\n \n+`metrics`::\n+  (Optional, object) Specifies the metrics that are used for the evaluation.\n+  Available metrics:\n+\n+  `accuracy`:::\n+    (Optional, object) Accuracy of predictions (per-class and overall)\n+\n+  `precision`:::\n+    (Optional, object) Precision of predictions (per-class and average)\n+\n+  `recall`:::\n+    (Optional, object) Recall of predictions (per-class and average)\n+\n+  `multiclass_confusion_matrix`:::\n+    (Optional, object) Multiclass confusion matrix", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01a678479c4ed20b09a79b52d7989653971806a2"}, "originalPosition": 125}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjcxOTUwNg==", "bodyText": "Can we keep the alphabetical order here, too?", "url": "https://github.com/elastic/elasticsearch/pull/50967#discussion_r366719506", "createdAt": "2020-01-15T06:58:59Z", "author": {"login": "szabosteve"}, "path": "docs/reference/ml/df-analytics/apis/evaluate-dfanalytics.asciidoc", "diffHunk": "@@ -149,6 +155,22 @@ belongs.\n   default value of the same field if you didn't specified explicitly). For \n   example, `predicted_field` : `ml.animal_class_prediction.keyword`.\n \n+`metrics`::", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "01a678479c4ed20b09a79b52d7989653971806a2"}, "originalPosition": 111}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5ed613e96998f86adc381e4ef2db7724ab185623", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/5ed613e96998f86adc381e4ef2db7724ab185623", "committedDate": "2020-01-15T12:16:47Z", "message": "Apply review comments"}, "afterCommit": {"oid": "5dd10c6b31b36bf4e5b65a3763c09ec7284407c0", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/5dd10c6b31b36bf4e5b65a3763c09ec7284407c0", "committedDate": "2020-01-15T12:18:06Z", "message": "Apply review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e605ccab713e99d0599cde137b424b3aabe257a", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/9e605ccab713e99d0599cde137b424b3aabe257a", "committedDate": "2020-01-15T12:25:42Z", "message": "Apply review comments"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cb9d3296e10321499ee172f6d4fd0ba6f98712d3", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/cb9d3296e10321499ee172f6d4fd0ba6f98712d3", "committedDate": "2020-01-15T12:25:10Z", "message": "Add missing dots"}, "afterCommit": {"oid": "9e605ccab713e99d0599cde137b424b3aabe257a", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/9e605ccab713e99d0599cde137b424b3aabe257a", "committedDate": "2020-01-15T12:25:42Z", "message": "Apply review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e244e93056edd5e34d8ad373954f050f51d0020", "author": {"user": {"login": "przemekwitek", "name": "Przemys\u0142aw Witek"}}, "url": "https://github.com/elastic/elasticsearch/commit/0e244e93056edd5e34d8ad373954f050f51d0020", "committedDate": "2020-01-15T12:53:26Z", "message": "Remove sentences suggesting the need to add `.keyword` suffix to field name"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3238, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}