{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2MjIyNTIz", "number": 59222, "title": "Suggest reducing tcp_retries2", "bodyText": "Adds documentation suggesting reducing tcp_retries2 on Linux to detect\nnetwork partitions more quickly.\nRelates #34405", "createdAt": "2020-07-08T12:51:40Z", "url": "https://github.com/elastic/elasticsearch/pull/59222", "merged": true, "mergeCommit": {"oid": "d3cf8d3ab9abe5dbae51b5ad903581c06aa27e41"}, "closed": true, "closedAt": "2020-07-27T10:39:45Z", "author": {"login": "DaveCTurner"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcy55ctAH2gAyNDQ2MjIyNTIzOmNkZWMwZjgxZTNlNGUxZGQ3ZjgzMWJmNWEzZmUxM2Y5MzEwZmE3YTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3sdQrAFqTQ1Mzk4NzA1MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cdec0f81e3e4e1dd7f831bf5a3fe13f9310fa7a3", "author": {"user": {"login": "DaveCTurner", "name": "David Turner"}}, "url": "https://github.com/elastic/elasticsearch/commit/cdec0f81e3e4e1dd7f831bf5a3fe13f9310fa7a3", "committedDate": "2020-07-08T12:49:38Z", "message": "Suggest reducing tcp_retries2\n\nAdds documentation suggesting reducing `tcp_retries2` on Linux to detect\nnetwork partitions more quickly.\n\nRelates #34405"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzOTg3MDUx", "url": "https://github.com/elastic/elasticsearch/pull/59222#pullrequestreview-453987051", "createdAt": "2020-07-23T09:55:51Z", "commit": {"oid": "cdec0f81e3e4e1dd7f831bf5a3fe13f9310fa7a3"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwOTo1NTo1MVrOG2Dykg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwOTo1NTo1MVrOG2Dykg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTMzODM4Ng==", "bodyText": "centre -> center", "url": "https://github.com/elastic/elasticsearch/pull/59222#discussion_r459338386", "createdAt": "2020-07-23T09:55:51Z", "author": {"login": "original-brownbear"}, "path": "docs/reference/setup/sysconfig/tcpretries.asciidoc", "diffHunk": "@@ -0,0 +1,49 @@\n+[[system-config-tcpretries]]\n+=== TCP retransmission timeout\n+\n+Each pair of nodes in a cluster communicates via a number of TCP connections\n+which remain open until one of the nodes shuts down or communication between\n+the nodes is disrupted by a failure in the underlying infrastructure.\n+\n+TCP provides reliable communication over occasionally-unreliable networks by\n+hiding temporary network disruptions from the communicating applications. Your\n+operating system will retransmit any lost messages a number of times before\n+informing the sender of any problem. Most Linux distributions default to\n+retransmitting any lost packets 15 times. Retransmissions back off\n+exponentially, so these 15 retransmissions take over 900 seconds to complete.\n+This means it takes Linux many minutes to detect a network partition or a\n+failed node with this method. Windows defaults to just 5 retransmissions which\n+corresponds with a timeout of around 6 seconds.\n+\n+The Linux default allows for communication over networks that may experience\n+very long periods of packet loss, but this default is excessive for production\n+networks within a single data centre as is the case for most {es} clusters.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cdec0f81e3e4e1dd7f831bf5a3fe13f9310fa7a3"}, "originalPosition": 20}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2219, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}