{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxOTc1ODcz", "number": 57894, "title": "Rollover avoid heavy lifting in dry-run/validation", "bodyText": "Fixed two newly introduced issues with rollover:\n\nUsing auto-expand replicas, rollover could result in unexpected log\nmessages on future indexes.\nIt did a reroute and other heavy work on the network thread.\n\nCloses #57706\nSupersedes #57865\nRelates #53965\nMarked this a non-issue, since the bug was never released (both the PR causing this and this fix are included in 7.8)", "createdAt": "2020-06-09T18:03:26Z", "url": "https://github.com/elastic/elasticsearch/pull/57894", "merged": true, "mergeCommit": {"oid": "9a43e3e49411517a6dcbe5a452f07036e16ffaff"}, "closed": true, "closedAt": "2020-06-09T19:53:16Z", "author": {"login": "henningandersen"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpo9nkgH2gAyNDMxOTc1ODczOjU4OGRhYjZkNjZiZjFkNzFlYmM1ODM2YzJjMmRkZjc0NWE0YzFlYmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpqTzMgFqTQyNzQ3NzA4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "588dab6d66bf1d71ebc5836c2c2ddf745a4c1eba", "author": {"user": {"login": "henningandersen", "name": "Henning Andersen"}}, "url": "https://github.com/elastic/elasticsearch/commit/588dab6d66bf1d71ebc5836c2c2ddf745a4c1eba", "committedDate": "2020-06-09T18:00:29Z", "message": "Rollover avoid heavy lifting in dry-run/validation\n\nFixed two newly introduced issues with rollover:\n1. Using auto-expand replicas, rollover could result in unexpected log\nmessages on future indexes.\n2. It did a reroute and other heavy work on the network thread.\n\nCloses #57706\nSupersedes #57865\nRelates #53965"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3NDc3MDgw", "url": "https://github.com/elastic/elasticsearch/pull/57894#pullrequestreview-427477080", "createdAt": "2020-06-09T19:31:56Z", "commit": {"oid": "588dab6d66bf1d71ebc5836c2c2ddf745a4c1eba"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxOTozMTo1NlrOGhZLoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxOTozMTo1NlrOGhZLoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzY2ODc2OA==", "bodyText": "This is currently only invoked with true, true or false, false. Is the reason for this that you want to reuse it later as true, false for autoscaling?", "url": "https://github.com/elastic/elasticsearch/pull/57894#discussion_r437668768", "createdAt": "2020-06-09T19:31:56Z", "author": {"login": "ywelsch"}, "path": "server/src/main/java/org/elasticsearch/action/admin/indices/rollover/MetadataRolloverService.java", "diffHunk": "@@ -88,16 +88,16 @@ private RolloverResult(String rolloverIndexName, String sourceIndexName, Cluster\n \n     public RolloverResult rolloverClusterState(ClusterState currentState, String rolloverTarget, String newIndexName,\n                                                CreateIndexRequest createIndexRequest, List<Condition<?>> metConditions,\n-                                               boolean silent) throws Exception {\n+                                               boolean silent, boolean onlyValidate) throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "588dab6d66bf1d71ebc5836c2c2ddf745a4c1eba"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 714, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}