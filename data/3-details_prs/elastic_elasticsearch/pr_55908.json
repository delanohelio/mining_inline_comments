{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwNDc3NDMw", "number": 55908, "title": "Convert remaining license methods to isAllowed", "bodyText": "This commit converts the remaining isXXXAllowed methods to instead of\nuse isAllowed with a Feature value. There are a couple other methods\nthat are static, as well as some licensed features that check the\nlicense directly, but those will be dealt with in other followups.", "createdAt": "2020-04-29T04:09:16Z", "url": "https://github.com/elastic/elasticsearch/pull/55908", "merged": true, "mergeCommit": {"oid": "316a2f14dbe7aedbffeee77b301ba7e03abd5cba"}, "closed": true, "closedAt": "2020-04-30T00:35:01Z", "author": {"login": "rjernst"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccQeyKAH2gAyNDEwNDc3NDMwOjFlMDA4ZTY1ZWRkM2NlODY2NjMyZWU0ODk5NmU4ZDg4ZDllNDA1OWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABccf0MtAH2gAyNDEwNDc3NDMwOjM1YWQxOTZhZjdmYmVkZGFiZGNhNWM2Mzk0NGE1OGUxYmU0ZWYzNTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1e008e65edd3ce866632ee48996e8d88d9e4059d", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/1e008e65edd3ce866632ee48996e8d88d9e4059d", "committedDate": "2020-04-29T04:08:04Z", "message": "Convert remaining license methods to isAllowed\n\nThis commit converts the remaining isXXXAllowed methods to instead of\nuse isAllowed with a Feature value. There are a couple other methods\nthat are static, as well as some licensed features that check the\nlicense directly, but those will be dealt with in other followups."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMzU3Nzg1", "url": "https://github.com/elastic/elasticsearch/pull/55908#pullrequestreview-402357785", "createdAt": "2020-04-29T04:29:13Z", "commit": {"oid": "1e008e65edd3ce866632ee48996e8d88d9e4059d"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwNDoyOToxM1rOGNvWkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwNDoyOToxM1rOGNvWkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzA2MDQ5Nw==", "bodyText": "I don't love the use of MISSING here - I think it will confuse future readers and those who are trying to add Basic licensed features, but I think the solution is to remove MISSING entirely in a separate PR. I don't think we need to retain it as an operation mode.", "url": "https://github.com/elastic/elasticsearch/pull/55908#discussion_r417060497", "createdAt": "2020-04-29T04:29:13Z", "author": {"login": "tvernum"}, "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/license/XPackLicenseState.java", "diffHunk": "@@ -46,7 +48,49 @@\n         SECURITY_API_KEY_SERVICE(OperationMode.MISSING, false),\n         SECURITY_AUTHORIZATION_REALM(OperationMode.PLATINUM, true),\n         SECURITY_AUTHORIZATION_ENGINE(OperationMode.PLATINUM, true),\n-        SPATIAL_GEO_CENTROID(OperationMode.GOLD, true);\n+        SECURITY_STATS_AND_HEALTH(OperationMode.MISSING, true),\n+\n+        WATCHER(OperationMode.STANDARD, true),\n+        MONITORING(OperationMode.MISSING, true),\n+        // TODO: should just check WATCHER directly?\n+        MONITORING_CLUSTER_ALERTS(OperationMode.STANDARD, true),\n+        MONITORING_UPDATE_RETENTION(OperationMode.STANDARD, false),\n+\n+        CCR(OperationMode.PLATINUM, true),\n+\n+        GRAPH(OperationMode.PLATINUM, true),\n+\n+        MACHINE_LEARNING(OperationMode.PLATINUM, true),\n+\n+        TRANSFORM(OperationMode.MISSING, true),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e008e65edd3ce866632ee48996e8d88d9e4059d"}, "originalPosition": 35}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46e2ab6ce5bc06ac6cd52a5a8843f0efefe32e5f", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/46e2ab6ce5bc06ac6cd52a5a8843f0efefe32e5f", "committedDate": "2020-04-29T17:49:04Z", "message": "fix checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7769b0feddbbdd2f72e6c115f0b29134279bf8e6", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/7769b0feddbbdd2f72e6c115f0b29134279bf8e6", "committedDate": "2020-04-29T17:58:44Z", "message": "line length"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d316607eb3b353316e697c8d094a0fc2816d85ce", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/d316607eb3b353316e697c8d094a0fc2816d85ce", "committedDate": "2020-04-29T18:40:24Z", "message": "line length"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a38d0e7527cc9437c367e977293d468413c6250", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/2a38d0e7527cc9437c367e977293d468413c6250", "committedDate": "2020-04-29T19:06:25Z", "message": "more checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35ad196af7fbeddabdca5c63944a58e1be4ef355", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/35ad196af7fbeddabdca5c63944a58e1be4ef355", "committedDate": "2020-04-29T22:00:02Z", "message": "Merge branch 'master' into refactor_license11"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 257, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}