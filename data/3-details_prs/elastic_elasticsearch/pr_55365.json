{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA0ODU2ODQw", "number": 55365, "title": "[DOCS] Adds documentation for secondary authorization headers", "bodyText": "Related to #53801 and #52093\nThis PR adds information about secondary authorization headers in the \"HTTP/REST clients and security\" page (https://www.elastic.co/guide/en/elasticsearch/reference/master/http-clients.html).\nIt also links to that information from the machine learning APIs that support those headers.\nIt also adds a link to the token-based authentication page, which was suggested by @tvernum and adds missing anchors for the sections on the http-clients page.\nPreview:\n\nhttp://elasticsearch_55365.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/http-clients.html\nhttp://elasticsearch_55365.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/ml-put-datafeed.html\nhttp://elasticsearch_55365.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/ml-preview-datafeed.html\nhttp://elasticsearch_55365.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/ml-start-datafeed.html\nhttp://elasticsearch_55365.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/ml-update-datafeed.html\nhttp://elasticsearch_55365.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/put-dfanalytics.html\nhttp://elasticsearch_55365.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/start-dfanalytics.html", "createdAt": "2020-04-17T00:19:37Z", "url": "https://github.com/elastic/elasticsearch/pull/55365", "merged": true, "mergeCommit": {"oid": "5ef7aacbf7c192c07c7514b76b04e53350ec5001"}, "closed": true, "closedAt": "2020-04-29T15:28:43Z", "author": {"login": "lcawl"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcYV8JXAH2gAyNDA0ODU2ODQwOjRlM2E0OTc0NWE1MjIyZDY0ZTgxZWQ3NjM1ODE2NWVmZWZkMDk2ODU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABccSgj0gFqTQwMjM5MTkxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4e3a49745a5222d64e81ed76358165efefd09685", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/elasticsearch/commit/4e3a49745a5222d64e81ed76358165efefd09685", "committedDate": "2020-04-17T00:13:58Z", "message": "[DOCS] Adds documentation for secondary authorization headers"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1MTUzMzQ2", "url": "https://github.com/elastic/elasticsearch/pull/55365#pullrequestreview-395153346", "createdAt": "2020-04-17T04:28:11Z", "commit": {"oid": "4e3a49745a5222d64e81ed76358165efefd09685"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QwNDoyODoxMVrOGG_jnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QwNDoyODoxMVrOGG_jnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTk4NTk1MQ==", "bodyText": "This should be\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Authorization: es-secondary-authorization <TOKEN> <1>\n          \n          \n            \n            es-secondary-authorization: basic <TOKEN> <1>\n          \n      \n    \n    \n  \n\nInstead of \"basic\" we can support \"bearer\" or \"apikey\" there in the same was we support that for Authorization headers.\nBasically, es-secondary-authorization has the same syntax as theAuthorization header.", "url": "https://github.com/elastic/elasticsearch/pull/55365#discussion_r409985951", "createdAt": "2020-04-17T04:28:11Z", "author": {"login": "tvernum"}, "path": "x-pack/docs/en/security/ccs-clients-integrations/http.asciidoc", "diffHunk": "@@ -46,7 +50,22 @@ curl --user rdeniro:taxidriver -XPUT 'localhost:9200/idx'\n }\n ---------------------------------------------------------\n \n-[float]\n+[discrete]\n+[[http-clients-secondary-authorization]]\n+==== Secondary authorization\n+\n+Some APIs support secondary authorization headers for situations where you want\n+tasks to run with a different set of credentials. For example, you can send the\n+following header in addition to the basic authentication header:\n+\n+[source,shell]\n+--------------------------------------------------\n+Authorization: es-secondary-authorization <TOKEN> <1>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4e3a49745a5222d64e81ed76358165efefd09685"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d927253ca87f9d964e4ef033469f8e28e2fe3a9", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/elasticsearch/commit/1d927253ca87f9d964e4ef033469f8e28e2fe3a9", "committedDate": "2020-04-17T16:35:03Z", "message": "Update x-pack/docs/en/security/ccs-clients-integrations/http.asciidoc\n\nCo-Authored-By: Tim Vernum <tim@adjective.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ec5d71ba5fbb87991a75c35d9aae5f93611ef74", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/elasticsearch/commit/9ec5d71ba5fbb87991a75c35d9aae5f93611ef74", "committedDate": "2020-04-17T17:10:03Z", "message": "[DOCS] Adds API key example for secondary authorization header"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "213b649ba8ae0bc6787fd24524d122257441cdd0", "author": {"user": {"login": "lcawl", "name": "Lisa Cawley"}}, "url": "https://github.com/elastic/elasticsearch/commit/213b649ba8ae0bc6787fd24524d122257441cdd0", "committedDate": "2020-04-17T18:27:01Z", "message": "[DOCS] Fixes typo"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1NjkwOTI0", "url": "https://github.com/elastic/elasticsearch/pull/55365#pullrequestreview-395690924", "createdAt": "2020-04-17T18:43:39Z", "commit": {"oid": "213b649ba8ae0bc6787fd24524d122257441cdd0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1NjkzMTc2", "url": "https://github.com/elastic/elasticsearch/pull/55365#pullrequestreview-395693176", "createdAt": "2020-04-17T18:47:05Z", "commit": {"oid": "213b649ba8ae0bc6787fd24524d122257441cdd0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMzkxOTE5", "url": "https://github.com/elastic/elasticsearch/pull/55365#pullrequestreview-402391919", "createdAt": "2020-04-29T06:29:49Z", "commit": {"oid": "213b649ba8ae0bc6787fd24524d122257441cdd0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3273, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}