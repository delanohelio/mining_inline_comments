{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM0NTgwNzU3", "number": 58116, "title": "Unify dependency licenses task configuration", "bodyText": "While going through deprecated gradle api usage I noticed some unrequired duplicate\ntask configuration. This unifies the configuration of the different dependencyLicense task\nconfiguration accross the es build. With this PR we\n\nRemove duplicate dependency configuration in different subprojects\nUse task avoidance api accross the build when referencing the task", "createdAt": "2020-06-15T14:33:16Z", "url": "https://github.com/elastic/elasticsearch/pull/58116", "merged": true, "mergeCommit": {"oid": "5f9d1f1d7cef939e6f4691f180d55cbef49d6ba9"}, "closed": true, "closedAt": "2020-06-17T16:27:17Z", "author": {"login": "breskeby"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcrhjQSAH2gAyNDM0NTgwNzU3Ojc3MmRkZjZjMWI4NzIzOTFjNDBhMzUzZTllN2JmNGUzODljNjFkOTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcsFuiBAH2gAyNDM0NTgwNzU3OmU0ZTc0YzcwZjFhMDIzMDUwOTFlMWE5MjIxYzZmMjYyYzU1NzNkOTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "772ddf6c1b872391c40a353e9e7bf4e389c61d98", "author": {"user": {"login": "breskeby", "name": "Rene Groeschke"}}, "url": "https://github.com/elastic/elasticsearch/commit/772ddf6c1b872391c40a353e9e7bf4e389c61d98", "committedDate": "2020-06-15T14:30:12Z", "message": "Unify dependency licenses task configuration\n\n- Remove duplicate dependency configuration\n- Use task avoidance api accross the build"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwNzAzNzU0", "url": "https://github.com/elastic/elasticsearch/pull/58116#pullrequestreview-430703754", "createdAt": "2020-06-15T14:34:15Z", "commit": {"oid": "772ddf6c1b872391c40a353e9e7bf4e389c61d98"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNDozNDoxNVrOGj08oQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxNDozNDoxNVrOGj08oQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDIyMDgzMw==", "bodyText": "This can be removed safely as it mimics the default task / plugin behaviour", "url": "https://github.com/elastic/elasticsearch/pull/58116#discussion_r440220833", "createdAt": "2020-06-15T14:34:15Z", "author": {"login": "breskeby"}, "path": "client/rest-high-level/build.gradle", "diffHunk": "@@ -65,14 +65,6 @@ processTestResources {\n   from(project(':client:rest-high-level').file('src/test/resources'))\n }\n \n-dependencyLicenses {\n-  // Don't check licenses for dependency that are part of the elasticsearch project\n-  // But any other dependency should have its license/notice/sha1\n-  dependencies = project.configurations.runtime.fileCollection {\n-    it.group.startsWith('org.elasticsearch') == false\n-  }\n-}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "772ddf6c1b872391c40a353e9e7bf4e389c61d98"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwOTIyMTAz", "url": "https://github.com/elastic/elasticsearch/pull/58116#pullrequestreview-430922103", "createdAt": "2020-06-15T19:14:09Z", "commit": {"oid": "772ddf6c1b872391c40a353e9e7bf4e389c61d98"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxOToxNDowOVrOGj_Smg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxOToxNDowOVrOGj_Smg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDM5MDI5OA==", "bodyText": "Is this necessary at all? We shouldn't need to exclude any ES internal dependencies?", "url": "https://github.com/elastic/elasticsearch/pull/58116#discussion_r440390298", "createdAt": "2020-06-15T19:14:09Z", "author": {"login": "rjernst"}, "path": "x-pack/plugin/search-business-rules/build.gradle", "diffHunk": "@@ -21,7 +21,7 @@ dependencies {\n }\n \n // copied from CCR\n-dependencyLicenses {\n+tasks.named(\"dependencyLicenses\").configure {\n   ignoreSha 'x-pack-core'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "772ddf6c1b872391c40a353e9e7bf4e389c61d98"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4e74c70f1a02305091e1a9221c6f262c5573d95", "author": {"user": {"login": "breskeby", "name": "Rene Groeschke"}}, "url": "https://github.com/elastic/elasticsearch/commit/e4e74c70f1a02305091e1a9221c6f262c5573d95", "committedDate": "2020-06-17T08:39:06Z", "message": "Remove redundant licensesCheck config"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 689, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}