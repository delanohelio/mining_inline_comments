{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzMDc3MTI4", "number": 65184, "title": "[DOCS] Adds UI related limitation to configuring aggs docs", "bodyText": "Overview\nThis PR adds a UI related limitation to the Requirements and limitations section of the Aggregating data for faster performance doc. The limitation is about aggregation types in datafeeds that are not supported by the Single Metric Viewer in Kibana.\nApplies to 7.11 and above.\n(#65190 handles 7.10 and below.)\nPreview\nRequirements and limitations", "createdAt": "2020-11-18T10:22:58Z", "url": "https://github.com/elastic/elasticsearch/pull/65184", "merged": true, "mergeCommit": {"oid": "f1e54a63a1a18451dddbdfb473aec53b154e27ec"}, "closed": true, "closedAt": "2020-11-20T18:03:18Z", "author": {"login": "szabosteve"}, "timelineItems": {"totalCount": 29, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABddrbqHAH2gAyNTIzMDc3MTI4OjMzZGJmNTc3YWQzMzZlZDZjNzFmNjFiZDJkYWNjMGUwMDVkZjUzYmI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdead4aAH2gAyNTIzMDc3MTI4OjA0Y2IxNDJjZGYyY2RmZjk1OTkxYzRlNTBmMTEyNWJjZTYzNjZhYzA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "33dbf577ad336ed6c71f61bd2dacc0e005df53bb", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/33dbf577ad336ed6c71f61bd2dacc0e005df53bb", "committedDate": "2020-11-18T10:17:10Z", "message": "[DOCS] Adds UI related limitation to configuring aggs docs."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNTUxMDQ5", "url": "https://github.com/elastic/elasticsearch/pull/65184#pullrequestreview-533551049", "createdAt": "2020-11-18T15:17:15Z", "commit": {"oid": "33dbf577ad336ed6c71f61bd2dacc0e005df53bb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNToxNzoxNVrOH1ywFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNToxNzoxNVrOH1ywFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjE2ODA4NA==", "bodyText": "This limitation also applies to the anomaly charts in the Anomaly Explorer.", "url": "https://github.com/elastic/elasticsearch/pull/65184#discussion_r526168084", "createdAt": "2020-11-18T15:17:15Z", "author": {"login": "peteharverson"}, "path": "docs/reference/ml/anomaly-detection/ml-configuring-aggregations.asciidoc", "diffHunk": "@@ -45,6 +45,10 @@ finer, more granular time buckets, which are ideal for this type of analysis. If\n your detectors use <<ml-count-functions,count>> or <<ml-rare-functions,rare>>\n functions, set the interval to the same value as the bucket span.\n \n+If your <<aggs-dfeeds,{dfeed} uses aggregations with nested `terms`>> and model ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33dbf577ad336ed6c71f61bd2dacc0e005df53bb"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45369b6abef5169eb0a3ce8da101dda6bbd065d7", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/45369b6abef5169eb0a3ce8da101dda6bbd065d7", "committedDate": "2020-11-18T16:03:26Z", "message": "[DOCS] Addresses feedback."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNjA0MTgy", "url": "https://github.com/elastic/elasticsearch/pull/65184#pullrequestreview-533604182", "createdAt": "2020-11-18T16:04:32Z", "commit": {"oid": "45369b6abef5169eb0a3ce8da101dda6bbd065d7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNjowNDozMlrOH11MTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxNjowNDozMlrOH11MTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjIwODA3OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Viewer** nor the ***Anomaly Explorer** in {kib} can plot and display an anomaly \n          \n          \n            \n            Viewer** nor the **Anomaly Explorer** in {kib} can plot and display an anomaly", "url": "https://github.com/elastic/elasticsearch/pull/65184#discussion_r526208079", "createdAt": "2020-11-18T16:04:32Z", "author": {"login": "szabosteve"}, "path": "docs/reference/ml/anomaly-detection/ml-configuring-aggregations.asciidoc", "diffHunk": "@@ -45,6 +45,11 @@ finer, more granular time buckets, which are ideal for this type of analysis. If\n your detectors use <<ml-count-functions,count>> or <<ml-rare-functions,rare>>\n functions, set the interval to the same value as the bucket span.\n \n+If your <<aggs-dfeeds,{dfeed} uses aggregations with nested `terms`>> and model \n+plot is not enabled for the {anomaly-job}, then neither the **Single Metric \n+Viewer** nor the ***Anomaly Explorer** in {kib} can plot and display an anomaly ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45369b6abef5169eb0a3ce8da101dda6bbd065d7"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "669789a4a42ffac3e3b81fc7bb29a7ec14cd36ff", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/669789a4a42ffac3e3b81fc7bb29a7ec14cd36ff", "committedDate": "2020-11-18T16:04:38Z", "message": "Update docs/reference/ml/anomaly-detection/ml-configuring-aggregations.asciidoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29a3e9219547f96f2475b48d31d8d487cea353da", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/29a3e9219547f96f2475b48d31d8d487cea353da", "committedDate": "2020-11-19T09:14:44Z", "message": "[DOCS] Addresses feedback."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6fb9dc0a480ed686063b1827d67de7770bad8e2", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/a6fb9dc0a480ed686063b1827d67de7770bad8e2", "committedDate": "2020-11-19T09:15:41Z", "message": "[DOCS] Minor changes."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41f08975e18b1c40b5c75252d76d4f5159944ccb", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/41f08975e18b1c40b5c75252d76d4f5159944ccb", "committedDate": "2020-11-19T09:17:58Z", "message": "[DOCS] Fixes markup."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b470041f4b77217ea7576dc13aaf755ea2a47e5", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/9b470041f4b77217ea7576dc13aaf755ea2a47e5", "committedDate": "2020-11-19T09:20:42Z", "message": "[DOCS] Fixes typo."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0Mjg2MTA4", "url": "https://github.com/elastic/elasticsearch/pull/65184#pullrequestreview-534286108", "createdAt": "2020-11-19T10:38:10Z", "commit": {"oid": "9b470041f4b77217ea7576dc13aaf755ea2a47e5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxMDozODoxMFrOH2Wywg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxMDozODoxMFrOH2Wywg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjc1ODU5NA==", "bodyText": "Sorry, this needs more editing as this issue affects the charts in both the Anomaly Explorer and Single Metric Viewer. I'm not sure how best to phrase this - charts are displayed, but the values plotted in the charts don't match up unless the job bucket span is the same as the interval used for the date_histogram aggregation. For example, here the bucket_span is 30m and the date_histogram aggregation interval is 15m. The result is the data in the chart is twice the actual value:", "url": "https://github.com/elastic/elasticsearch/pull/65184#discussion_r526758594", "createdAt": "2020-11-19T10:38:10Z", "author": {"login": "peteharverson"}, "path": "docs/reference/ml/anomaly-detection/ml-configuring-aggregations.asciidoc", "diffHunk": "@@ -45,6 +45,15 @@ finer, more granular time buckets, which are ideal for this type of analysis. If\n your detectors use <<ml-count-functions,count>> or <<ml-rare-functions,rare>>\n functions, set the interval to the same value as the bucket span.\n \n+If your <<aggs-dfeeds,{dfeed} uses aggregations with nested `terms`>> and model \n+plot is not enabled for the {anomaly-job}, then neither the **Single Metric \n+Viewer** nor the **Anomaly Explorer** in {kib} can plot and display an anomaly \n+chart for the job. Single Metric Viewer doesn't support configurations where ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b470041f4b77217ea7576dc13aaf755ea2a47e5"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "203d748582daf7449d56fc6f7a6b1f04f41498d0", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/203d748582daf7449d56fc6f7a6b1f04f41498d0", "committedDate": "2020-11-19T14:50:27Z", "message": "[DOCS] Makes limitation more accurate."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0NzA3NDg5", "url": "https://github.com/elastic/elasticsearch/pull/65184#pullrequestreview-534707489", "createdAt": "2020-11-19T17:56:26Z", "commit": {"oid": "203d748582daf7449d56fc6f7a6b1f04f41498d0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0OTcwMTI2", "url": "https://github.com/elastic/elasticsearch/pull/65184#pullrequestreview-534970126", "createdAt": "2020-11-20T00:06:00Z", "commit": {"oid": "203d748582daf7449d56fc6f7a6b1f04f41498d0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDowNjowMVrOH228dg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDowNjowMVrOH228dg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzI4NTM2Ng==", "bodyText": "In case people don't notice the formatting, it might be nice to qualify this:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            If your <<aggs-dfeeds,{dfeed} uses aggregations with nested `terms`>> and model \n          \n          \n            \n            If your <<aggs-dfeeds,{dfeed} uses aggregations with nested `terms` aggs>> and model", "url": "https://github.com/elastic/elasticsearch/pull/65184#discussion_r527285366", "createdAt": "2020-11-20T00:06:01Z", "author": {"login": "lcawl"}, "path": "docs/reference/ml/anomaly-detection/ml-configuring-aggregations.asciidoc", "diffHunk": "@@ -45,6 +45,18 @@ finer, more granular time buckets, which are ideal for this type of analysis. If\n your detectors use <<ml-count-functions,count>> or <<ml-rare-functions,rare>>\n functions, set the interval to the same value as the bucket span.\n \n+If your <<aggs-dfeeds,{dfeed} uses aggregations with nested `terms`>> and model ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "203d748582daf7449d56fc6f7a6b1f04f41498d0"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0OTczNjU2", "url": "https://github.com/elastic/elasticsearch/pull/65184#pullrequestreview-534973656", "createdAt": "2020-11-20T00:08:01Z", "commit": {"oid": "203d748582daf7449d56fc6f7a6b1f04f41498d0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDowODowMVrOH22_CA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDowODowMVrOH22_CA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzI4NjAyNA==", "bodyText": "IMO we can usually leave out \"then\" in cases like this:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            plot is not enabled for the {anomaly-job}, then neither can the **Single Metric \n          \n          \n            \n            plot is not enabled for the {anomaly-job}, neither the **Single Metric", "url": "https://github.com/elastic/elasticsearch/pull/65184#discussion_r527286024", "createdAt": "2020-11-20T00:08:01Z", "author": {"login": "lcawl"}, "path": "docs/reference/ml/anomaly-detection/ml-configuring-aggregations.asciidoc", "diffHunk": "@@ -45,6 +45,18 @@ finer, more granular time buckets, which are ideal for this type of analysis. If\n your detectors use <<ml-count-functions,count>> or <<ml-rare-functions,rare>>\n functions, set the interval to the same value as the bucket span.\n \n+If your <<aggs-dfeeds,{dfeed} uses aggregations with nested `terms`>> and model \n+plot is not enabled for the {anomaly-job}, then neither can the **Single Metric ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "203d748582daf7449d56fc6f7a6b1f04f41498d0"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0OTc1MjIx", "url": "https://github.com/elastic/elasticsearch/pull/65184#pullrequestreview-534975221", "createdAt": "2020-11-20T00:09:00Z", "commit": {"oid": "203d748582daf7449d56fc6f7a6b1f04f41498d0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDowOTowMFrOH23ANg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDowOTowMFrOH23ANg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzI4NjMyNg==", "bodyText": "IMO we don't need to point out they're in Kibana here, but am fine with being overruled\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Viewer** nor the **Anomaly Explorer** in {kib} plot and display an anomaly \n          \n          \n            \n            Viewer** nor the **Anomaly Explorer** can plot and display an anomaly", "url": "https://github.com/elastic/elasticsearch/pull/65184#discussion_r527286326", "createdAt": "2020-11-20T00:09:00Z", "author": {"login": "lcawl"}, "path": "docs/reference/ml/anomaly-detection/ml-configuring-aggregations.asciidoc", "diffHunk": "@@ -45,6 +45,18 @@ finer, more granular time buckets, which are ideal for this type of analysis. If\n your detectors use <<ml-count-functions,count>> or <<ml-rare-functions,rare>>\n functions, set the interval to the same value as the bucket span.\n \n+If your <<aggs-dfeeds,{dfeed} uses aggregations with nested `terms`>> and model \n+plot is not enabled for the {anomaly-job}, then neither can the **Single Metric \n+Viewer** nor the **Anomaly Explorer** in {kib} plot and display an anomaly ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "203d748582daf7449d56fc6f7a6b1f04f41498d0"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0OTc2ODcy", "url": "https://github.com/elastic/elasticsearch/pull/65184#pullrequestreview-534976872", "createdAt": "2020-11-20T00:09:56Z", "commit": {"oid": "203d748582daf7449d56fc6f7a6b1f04f41498d0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDowOTo1NlrOH23Blg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDowOTo1NlrOH23Blg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzI4NjY3OA==", "bodyText": "Adding missing bold:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            don't match, the values of the chart plotted in both the Single Metric Viewer \n          \n          \n            \n            don't match, the values of the chart plotted in both the **Single Metric Viewer**", "url": "https://github.com/elastic/elasticsearch/pull/65184#discussion_r527286678", "createdAt": "2020-11-20T00:09:56Z", "author": {"login": "lcawl"}, "path": "docs/reference/ml/anomaly-detection/ml-configuring-aggregations.asciidoc", "diffHunk": "@@ -45,6 +45,18 @@ finer, more granular time buckets, which are ideal for this type of analysis. If\n your detectors use <<ml-count-functions,count>> or <<ml-rare-functions,rare>>\n functions, set the interval to the same value as the bucket span.\n \n+If your <<aggs-dfeeds,{dfeed} uses aggregations with nested `terms`>> and model \n+plot is not enabled for the {anomaly-job}, then neither can the **Single Metric \n+Viewer** nor the **Anomaly Explorer** in {kib} plot and display an anomaly \n+chart for the job.\n+\n+When the aggregation interval of the {dfeed} and the bucket span of the job \n+don't match, the values of the chart plotted in both the Single Metric Viewer ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "203d748582daf7449d56fc6f7a6b1f04f41498d0"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0OTgxNjAx", "url": "https://github.com/elastic/elasticsearch/pull/65184#pullrequestreview-534981601", "createdAt": "2020-11-20T00:13:36Z", "commit": {"oid": "203d748582daf7449d56fc6f7a6b1f04f41498d0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDoxMzozNlrOH23I0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDoxMzozNlrOH23I0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzI4ODUyOA==", "bodyText": "chart for the job.\n\nAs a reader, this makes me wonder whether an error is returned or the charts are just blank. If you think it's not overkill, it might be nice to tell them what they'll experience.", "url": "https://github.com/elastic/elasticsearch/pull/65184#discussion_r527288528", "createdAt": "2020-11-20T00:13:36Z", "author": {"login": "lcawl"}, "path": "docs/reference/ml/anomaly-detection/ml-configuring-aggregations.asciidoc", "diffHunk": "@@ -45,6 +45,18 @@ finer, more granular time buckets, which are ideal for this type of analysis. If\n your detectors use <<ml-count-functions,count>> or <<ml-rare-functions,rare>>\n functions, set the interval to the same value as the bucket span.\n \n+If your <<aggs-dfeeds,{dfeed} uses aggregations with nested `terms`>> and model \n+plot is not enabled for the {anomaly-job}, then neither can the **Single Metric \n+Viewer** nor the **Anomaly Explorer** in {kib} plot and display an anomaly \n+chart for the job.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "203d748582daf7449d56fc6f7a6b1f04f41498d0"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0OTgxOTEw", "url": "https://github.com/elastic/elasticsearch/pull/65184#pullrequestreview-534981910", "createdAt": "2020-11-20T00:14:28Z", "commit": {"oid": "203d748582daf7449d56fc6f7a6b1f04f41498d0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDoxNDoyOFrOH23L8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDoxNDoyOFrOH23L8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzI4OTMyOA==", "bodyText": "Since I think it's the the \"values\" (plural) that differ, we should drop the \"s\" here:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            and the Anomaly Explorer differs from the actual values of the job. To avoid \n          \n          \n            \n            and the **Anomaly Explorer** differ from the actual values of the job. To avoid", "url": "https://github.com/elastic/elasticsearch/pull/65184#discussion_r527289328", "createdAt": "2020-11-20T00:14:28Z", "author": {"login": "lcawl"}, "path": "docs/reference/ml/anomaly-detection/ml-configuring-aggregations.asciidoc", "diffHunk": "@@ -45,6 +45,18 @@ finer, more granular time buckets, which are ideal for this type of analysis. If\n your detectors use <<ml-count-functions,count>> or <<ml-rare-functions,rare>>\n functions, set the interval to the same value as the bucket span.\n \n+If your <<aggs-dfeeds,{dfeed} uses aggregations with nested `terms`>> and model \n+plot is not enabled for the {anomaly-job}, then neither can the **Single Metric \n+Viewer** nor the **Anomaly Explorer** in {kib} plot and display an anomaly \n+chart for the job.\n+\n+When the aggregation interval of the {dfeed} and the bucket span of the job \n+don't match, the values of the chart plotted in both the Single Metric Viewer \n+and the Anomaly Explorer differs from the actual values of the job. To avoid ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "203d748582daf7449d56fc6f7a6b1f04f41498d0"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e3171f22ea21194e6686528eada42aadc32bc5b", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/2e3171f22ea21194e6686528eada42aadc32bc5b", "committedDate": "2020-11-20T08:24:12Z", "message": "Apply suggestions from code review\n\nCo-authored-by: Lisa Cawley <lcawley@elastic.co>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5567f05de1cae6e8715b1af4a05c5ca01d53f7d2", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/5567f05de1cae6e8715b1af4a05c5ca01d53f7d2", "committedDate": "2020-11-20T13:59:03Z", "message": "[DOCS] Addresses feedback."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1NDcyNjc5", "url": "https://github.com/elastic/elasticsearch/pull/65184#pullrequestreview-535472679", "createdAt": "2020-11-20T14:27:01Z", "commit": {"oid": "5567f05de1cae6e8715b1af4a05c5ca01d53f7d2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNDoyNzowMlrOH3R6FA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNDoyNzowMlrOH3R6FA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzcyNzEyNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            chart for the job. In this cases, the charts are blank.\n          \n          \n            \n            chart for the job. In these cases, the charts are blank.", "url": "https://github.com/elastic/elasticsearch/pull/65184#discussion_r527727124", "createdAt": "2020-11-20T14:27:02Z", "author": {"login": "szabosteve"}, "path": "docs/reference/ml/anomaly-detection/ml-configuring-aggregations.asciidoc", "diffHunk": "@@ -45,6 +45,18 @@ finer, more granular time buckets, which are ideal for this type of analysis. If\n your detectors use <<ml-count-functions,count>> or <<ml-rare-functions,rare>>\n functions, set the interval to the same value as the bucket span.\n \n+If your <<aggs-dfeeds,{dfeed} uses aggregations with nested `terms` aggs>> and \n+model plot is not enabled for the {anomaly-job}, neither the **Single Metric \n+Viewer** nor the **Anomaly Explorer** can plot and display an anomaly \n+chart for the job. In this cases, the charts are blank.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5567f05de1cae6e8715b1af4a05c5ca01d53f7d2"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7ee66b56a48246a14543ad24dc6b691a1c9a226", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/c7ee66b56a48246a14543ad24dc6b691a1c9a226", "committedDate": "2020-11-20T14:27:07Z", "message": "Update docs/reference/ml/anomaly-detection/ml-configuring-aggregations.asciidoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1NTI4MDY4", "url": "https://github.com/elastic/elasticsearch/pull/65184#pullrequestreview-535528068", "createdAt": "2020-11-20T15:29:24Z", "commit": {"oid": "c7ee66b56a48246a14543ad24dc6b691a1c9a226"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1NTI5NTgz", "url": "https://github.com/elastic/elasticsearch/pull/65184#pullrequestreview-535529583", "createdAt": "2020-11-20T15:31:03Z", "commit": {"oid": "c7ee66b56a48246a14543ad24dc6b691a1c9a226"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNTozMTowM1rOH3Ugfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNTozMTowM1rOH3Ugfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzc2OTcyNw==", "bodyText": "My apologies for another change, for 7.11, in these cases, the charts will not be visible and there will be call outs explaining why.", "url": "https://github.com/elastic/elasticsearch/pull/65184#discussion_r527769727", "createdAt": "2020-11-20T15:31:03Z", "author": {"login": "qn895"}, "path": "docs/reference/ml/anomaly-detection/ml-configuring-aggregations.asciidoc", "diffHunk": "@@ -45,6 +45,18 @@ finer, more granular time buckets, which are ideal for this type of analysis. If\n your detectors use <<ml-count-functions,count>> or <<ml-rare-functions,rare>>\n functions, set the interval to the same value as the bucket span.\n \n+If your <<aggs-dfeeds,{dfeed} uses aggregations with nested `terms` aggs>> and \n+model plot is not enabled for the {anomaly-job}, neither the **Single Metric \n+Viewer** nor the **Anomaly Explorer** can plot and display an anomaly \n+chart for the job. In these cases, the charts are blank.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7ee66b56a48246a14543ad24dc6b691a1c9a226"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3ec28ca2b66b1c781d3545ee2c5dfe1e491dbcd", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/a3ec28ca2b66b1c781d3545ee2c5dfe1e491dbcd", "committedDate": "2020-11-20T15:47:44Z", "message": "[DOCS] MInor edits."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5148e843a6eb009a81232af9e6fcdb2d2402b100", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/5148e843a6eb009a81232af9e6fcdb2d2402b100", "committedDate": "2020-11-20T15:49:28Z", "message": "[DOCS] Further edits."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1NjExMjI2", "url": "https://github.com/elastic/elasticsearch/pull/65184#pullrequestreview-535611226", "createdAt": "2020-11-20T17:04:25Z", "commit": {"oid": "5148e843a6eb009a81232af9e6fcdb2d2402b100"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNzowNDoyNVrOH3YVtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNzowNDoyNVrOH3YVtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzgzMjUwMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            <<<<<<< HEAD", "url": "https://github.com/elastic/elasticsearch/pull/65184#discussion_r527832501", "createdAt": "2020-11-20T17:04:25Z", "author": {"login": "szabosteve"}, "path": "docs/reference/ml/anomaly-detection/ml-configuring-aggregations.asciidoc", "diffHunk": "@@ -45,6 +45,23 @@ finer, more granular time buckets, which are ideal for this type of analysis. If\n your detectors use <<ml-count-functions,count>> or <<ml-rare-functions,rare>>\n functions, set the interval to the same value as the bucket span.\n \n+If your <<aggs-dfeeds,{dfeed} uses aggregations with nested `terms` aggs>> and \n+model plot is not enabled for the {anomaly-job}, neither the **Single Metric \n+Viewer** nor the **Anomaly Explorer** can plot and display an anomaly \n+<<<<<<< HEAD", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5148e843a6eb009a81232af9e6fcdb2d2402b100"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1NjExNjM2", "url": "https://github.com/elastic/elasticsearch/pull/65184#pullrequestreview-535611636", "createdAt": "2020-11-20T17:04:56Z", "commit": {"oid": "5148e843a6eb009a81232af9e6fcdb2d2402b100"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNzowNDo1N1rOH3YXCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNzowNDo1N1rOH3YXCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzgzMjg0MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            =======\n          \n          \n            \n            chart for the job. In these cases, the charts are blank.\n          \n          \n            \n            >>>>>>> c7ee66b56a48246a14543ad24dc6b691a1c9a226", "url": "https://github.com/elastic/elasticsearch/pull/65184#discussion_r527832841", "createdAt": "2020-11-20T17:04:57Z", "author": {"login": "szabosteve"}, "path": "docs/reference/ml/anomaly-detection/ml-configuring-aggregations.asciidoc", "diffHunk": "@@ -45,6 +45,23 @@ finer, more granular time buckets, which are ideal for this type of analysis. If\n your detectors use <<ml-count-functions,count>> or <<ml-rare-functions,rare>>\n functions, set the interval to the same value as the bucket span.\n \n+If your <<aggs-dfeeds,{dfeed} uses aggregations with nested `terms` aggs>> and \n+model plot is not enabled for the {anomaly-job}, neither the **Single Metric \n+Viewer** nor the **Anomaly Explorer** can plot and display an anomaly \n+<<<<<<< HEAD\n+chart for the job. In this cases, the charts are not visible and an explanatory \n+message is shown.\n+=======\n+chart for the job. In these cases, the charts are blank.\n+>>>>>>> c7ee66b56a48246a14543ad24dc6b691a1c9a226", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5148e843a6eb009a81232af9e6fcdb2d2402b100"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04cb142cdf2cdff95991c4e50f1125bce6366ac0", "author": {"user": {"login": "szabosteve", "name": "Istv\u00e1n Zolt\u00e1n Szab\u00f3"}}, "url": "https://github.com/elastic/elasticsearch/commit/04cb142cdf2cdff95991c4e50f1125bce6366ac0", "committedDate": "2020-11-20T17:05:08Z", "message": "Apply suggestions from code review"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 996, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}