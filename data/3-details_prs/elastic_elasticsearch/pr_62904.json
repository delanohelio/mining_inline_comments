{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkyNzI0Njgz", "number": 62904, "title": "Small refactoring of unsinged_long", "bodyText": "Modify Lucene::readSortValue to read BigInteger as a sortValue.\nIn #60050 writeSortValue was modified, but readSortValue was forgotten.\n\n\nAdjust yml tests to v7.10 as unsigned_long has been backported\n\n\nChange MapperTests to use proper document IDs\n\n\nRelates to #60050", "createdAt": "2020-09-24T22:08:37Z", "url": "https://github.com/elastic/elasticsearch/pull/62904", "merged": true, "mergeCommit": {"oid": "40d528995ef51151d150cf3ecabf25fcaa51f493"}, "closed": true, "closedAt": "2020-09-30T12:52:27Z", "author": {"login": "mayya-sharipova"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdMIjpPAH2gAyNDkyNzI0NjgzOjAwNTc5ZDEwODFjNmU4MGY1ODM0Y2VkN2UyZGM1Njg2YTQ5ZWYwYjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdNVzmUgFqTQ5NzY3ODM2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "00579d1081c6e80f5834ced7e2dc5686a49ef0b2", "author": {"user": {"login": "mayya-sharipova", "name": "Mayya Sharipova"}}, "url": "https://github.com/elastic/elasticsearch/commit/00579d1081c6e80f5834ced7e2dc5686a49ef0b2", "committedDate": "2020-09-24T22:02:30Z", "message": "Small refactoring of unsinged_long\n\n- Modify Lucene::readSortValue to read BigInteger as a sortValue.\nIn #60050 writeSortValue was modified, but readSortValue was forgotten.\n\n- Adjust yml tests to v7.10 asr unsigned_long has been backported\n\n- Change MapperTests to use proper document IDs\n\nRelates to #60050"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2NTQ5MDY1", "url": "https://github.com/elastic/elasticsearch/pull/62904#pullrequestreview-496549065", "createdAt": "2020-09-25T15:56:42Z", "commit": {"oid": "00579d1081c6e80f5834ced7e2dc5686a49ef0b2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxNTo1Njo0MlrOHYJc-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQxNTo1Njo0MlrOHYJc-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTA4Mjc0Ng==", "bodyText": "You can use the nice source helper method here:\nmapper.parse(source(b -> b.field(\"field\", malformedalue1)))", "url": "https://github.com/elastic/elasticsearch/pull/62904#discussion_r495082746", "createdAt": "2020-09-25T15:56:42Z", "author": {"login": "romseygeek"}, "path": "x-pack/plugin/mapper-unsigned-long/src/test/java/org/elasticsearch/xpack/unsignedlong/UnsignedLongFieldMapperTests.java", "diffHunk": "@@ -241,7 +241,7 @@ public void testIgnoreMalformed() throws Exception {\n             ThrowingRunnable runnable = () -> mapper.parse(\n                 new SourceToParse(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "00579d1081c6e80f5834ced7e2dc5686a49ef0b2"}, "originalPosition": 2}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "949ee78fe806b338f17f2e54bcb3cb8544f519f0", "author": {"user": {"login": "mayya-sharipova", "name": "Mayya Sharipova"}}, "url": "https://github.com/elastic/elasticsearch/commit/949ee78fe806b338f17f2e54bcb3cb8544f519f0", "committedDate": "2020-09-28T14:49:10Z", "message": "Adress Alan's feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b127e880757321a310ab96febe3c37bf1f7fa6d5", "author": {"user": {"login": "mayya-sharipova", "name": "Mayya Sharipova"}}, "url": "https://github.com/elastic/elasticsearch/commit/b127e880757321a310ab96febe3c37bf1f7fa6d5", "committedDate": "2020-09-28T15:05:04Z", "message": "Address format changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3Njc4MzYy", "url": "https://github.com/elastic/elasticsearch/pull/62904#pullrequestreview-497678362", "createdAt": "2020-09-28T16:02:05Z", "commit": {"oid": "b127e880757321a310ab96febe3c37bf1f7fa6d5"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxNjowMjowNVrOHZFVkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQxNjowMjowNVrOHZFVkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjA2Mzg4OA==", "bodyText": "I'm a bit nervous that we didn't have any test failures because this was missed - do we have any tests that check sorting via BigInteger?", "url": "https://github.com/elastic/elasticsearch/pull/62904#discussion_r496063888", "createdAt": "2020-09-28T16:02:05Z", "author": {"login": "romseygeek"}, "path": "server/src/main/java/org/elasticsearch/common/lucene/Lucene.java", "diffHunk": "@@ -398,6 +398,8 @@ public static FieldDoc readFieldDoc(StreamInput in) throws IOException {\n             return in.readBoolean();\n         } else if (type == 9) {\n             return in.readBytesRef();\n+        } else if (type == 10) {\n+            return new BigInteger(in.readString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b127e880757321a310ab96febe3c37bf1f7fa6d5"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4613, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}