{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyNjY2OTc4", "number": 53040, "title": "Wire-up geo_centroid agg to ValuesSourceRegistry", "bodyText": "This commit updates the geo_centroid aggregation to depend\non registering itself in the ValuesSourceRegistry.\nrelates to the values-source refactoring meta issue #42949.", "createdAt": "2020-03-02T23:46:09Z", "url": "https://github.com/elastic/elasticsearch/pull/53040", "merged": true, "mergeCommit": {"oid": "08c242d1583d13a4768648fcece39284f376d2b8"}, "closed": true, "closedAt": "2020-03-09T19:46:27Z", "author": {"login": "talevy"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcJ2i75AH2gAyMzgyNjY2OTc4Ojc0M2NjYTg5NDQyY2E5M2JjZjRhN2IzMWE4YjMxODE0ODU5MjNkNzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcLIBkOAFqTM3MDY2OTU1Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "743cca89442ca93bcf4a7b31a8b3181485923d73", "author": {"user": {"login": "talevy", "name": "Tal Levy"}}, "url": "https://github.com/elastic/elasticsearch/commit/743cca89442ca93bcf4a7b31a8b3181485923d73", "committedDate": "2020-03-02T23:44:26Z", "message": "Wire-up geo_centroid agg to ValuesSourceRegistry\n\nThis commit updates the geo_centroid aggregation to depend\non registering itself in the ValuesSourceRegistry.\n\nrelates to the values-source refactoring meta issue #42949."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15086051a8655dbd481cff3b420b0ead6ecf54df", "author": {"user": {"login": "talevy", "name": "Tal Levy"}}, "url": "https://github.com/elastic/elasticsearch/commit/15086051a8655dbd481cff3b420b0ead6ecf54df", "committedDate": "2020-03-03T18:55:05Z", "message": "Merge remote-tracking branch 'elastic/feature/extensible-values-source' into evs-geocentroid"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21c9debcf89c4241a6d5f8cf13a9efcadc1b2537", "author": {"user": {"login": "talevy", "name": "Tal Levy"}}, "url": "https://github.com/elastic/elasticsearch/commit/21c9debcf89c4241a6d5f8cf13a9efcadc1b2537", "committedDate": "2020-03-03T18:56:31Z", "message": "update supplier to use generic ValuesSource"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54e92c8d9a741b94c9ef202028c6903f031255f9", "author": {"user": {"login": "talevy", "name": "Tal Levy"}}, "url": "https://github.com/elastic/elasticsearch/commit/54e92c8d9a741b94c9ef202028c6903f031255f9", "committedDate": "2020-03-05T23:57:07Z", "message": "change defaultValueSourceType to GEOPOINT"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNjY5NTU2", "url": "https://github.com/elastic/elasticsearch/pull/53040#pullrequestreview-370669556", "createdAt": "2020-03-06T22:39:45Z", "commit": {"oid": "54e92c8d9a741b94c9ef202028c6903f031255f9"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQyMjozOTo0NVrOFzJkbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQyMjozOTo0NVrOFzJkbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTE3ODQ3OA==", "bodyText": "I still don't understand why this was passing with BYTES, but it's probably okay.   GeoPoint is the correct default.", "url": "https://github.com/elastic/elasticsearch/pull/53040#discussion_r389178478", "createdAt": "2020-03-06T22:39:45Z", "author": {"login": "not-napoleon"}, "path": "server/src/main/java/org/elasticsearch/search/aggregations/metrics/GeoCentroidAggregationBuilder.java", "diffHunk": "@@ -62,8 +67,7 @@ protected GeoCentroidAggregationBuilder(GeoCentroidAggregationBuilder clone, Bui\n \n     @Override\n     protected ValuesSourceType defaultValueSourceType() {\n-        // TODO: This should probably not be BYTES, but we're not failing tests with BYTES, so needs more tests?\n-        return CoreValuesSourceType.BYTES;\n+        return CoreValuesSourceType.GEOPOINT;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "54e92c8d9a741b94c9ef202028c6903f031255f9"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1932, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}