{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4ODc1MTk1", "number": 55766, "title": "Add preserve_original setting in edge ngram token filter", "bodyText": "Raised this PR to address the bug #55767", "createdAt": "2020-04-25T09:00:35Z", "url": "https://github.com/elastic/elasticsearch/pull/55766", "merged": true, "mergeCommit": {"oid": "9e41feda86b4190fcda978ffd905e2614c95d588"}, "closed": true, "closedAt": "2020-04-28T08:23:00Z", "author": {"login": "amitmbm"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcbCU8-AH2gAyNDA4ODc1MTk1OmJhNTk4ZGFhYzhiMjg3NDM1YjNkMGJkMmJiNjMwYzE1MGFmYTQ5NzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcb1NTOAH2gAyNDA4ODc1MTk1OmI0YThkMzE1YzcwOGFhYzBmZTY0NTUyOTc0ODVlYTlmOWZlNzEwY2U=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ba598daac8b287435b3d0bd2bb630c150afa4974", "author": {"user": {"login": "amitmbm", "name": "Elasticsearch addict"}}, "url": "https://github.com/elastic/elasticsearch/commit/ba598daac8b287435b3d0bd2bb630c150afa4974", "committedDate": "2020-04-25T09:04:44Z", "message": "Todo of exposing preserve_original in edge-ngram token filter with doc and new test class"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1c4cf4e9fe51b64a513509671662f0c3d51932ed", "author": {"user": {"login": "amitmbm", "name": "Elasticsearch addict"}}, "url": "https://github.com/elastic/elasticsearch/commit/1c4cf4e9fe51b64a513509671662f0c3d51932ed", "committedDate": "2020-04-25T08:58:21Z", "message": "Todo of exposing preserve_original in edge-ngram token filter with doc and new test class"}, "afterCommit": {"oid": "ba598daac8b287435b3d0bd2bb630c150afa4974", "author": {"user": {"login": "amitmbm", "name": "Elasticsearch addict"}}, "url": "https://github.com/elastic/elasticsearch/commit/ba598daac8b287435b3d0bd2bb630c150afa4974", "committedDate": "2020-04-25T09:04:44Z", "message": "Todo of exposing preserve_original in edge-ngram token filter with doc and new test class"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwOTMyODc4", "url": "https://github.com/elastic/elasticsearch/pull/55766#pullrequestreview-400932878", "createdAt": "2020-04-27T13:08:08Z", "commit": {"oid": "ba598daac8b287435b3d0bd2bb630c150afa4974"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxMzowODowOFrOGMiOSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxMzoyNjo1MVrOGMjGcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTc5NjgxMQ==", "bodyText": "nit: this seems unused, our checkstyle rules will complain about unused imports, so better to remove it now before running the tests.", "url": "https://github.com/elastic/elasticsearch/pull/55766#discussion_r415796811", "createdAt": "2020-04-27T13:08:08Z", "author": {"login": "cbuescher"}, "path": "modules/analysis-common/src/test/java/org/elasticsearch/analysis/common/EdgeNGramTokenFilterFactoryTests.java", "diffHunk": "@@ -0,0 +1,71 @@\n+/*\n+ * Licensed to Elasticsearch under one or more contributor\n+ * license agreements. See the NOTICE file distributed with\n+ * this work for additional information regarding copyright\n+ * ownership. Elasticsearch licenses this file to you under\n+ * the Apache License, Version 2.0 (the \"License\"); you may\n+ * not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.elasticsearch.analysis.common;\n+\n+import org.apache.lucene.analysis.Tokenizer;\n+import org.apache.lucene.analysis.core.WhitespaceTokenizer;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba598daac8b287435b3d0bd2bb630c150afa4974"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTc5NzcwNQ==", "bodyText": "nit: wording might be better sth like \"Emits original token then set to true. Defaults to false.", "url": "https://github.com/elastic/elasticsearch/pull/55766#discussion_r415797705", "createdAt": "2020-04-27T13:09:22Z", "author": {"login": "cbuescher"}, "path": "docs/reference/analysis/tokenfilters/edgengram-tokenfilter.asciidoc", "diffHunk": "@@ -173,6 +173,10 @@ See <<analysis-edgengram-tokenfilter-max-gram-limits>>.\n (Optional, integer)\n Minimum character length of a gram. Defaults to `1`.\n \n+`preserve_original`::\n+(Optional, boolean)\n+If set to true then it would also emit the original token. Defaults to `false`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba598daac8b287435b3d0bd2bb630c150afa4974"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTgxMDkwMQ==", "bodyText": "nit: we usually don't add @author tags to classes or test classes but rely on the commit history rather than code comments to track authors", "url": "https://github.com/elastic/elasticsearch/pull/55766#discussion_r415810901", "createdAt": "2020-04-27T13:26:31Z", "author": {"login": "cbuescher"}, "path": "modules/analysis-common/src/test/java/org/elasticsearch/analysis/common/EdgeNGramTokenFilterFactoryTests.java", "diffHunk": "@@ -0,0 +1,71 @@\n+/*\n+ * Licensed to Elasticsearch under one or more contributor\n+ * license agreements. See the NOTICE file distributed with\n+ * this work for additional information regarding copyright\n+ * ownership. Elasticsearch licenses this file to you under\n+ * the Apache License, Version 2.0 (the \"License\"); you may\n+ * not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.elasticsearch.analysis.common;\n+\n+import org.apache.lucene.analysis.Tokenizer;\n+import org.apache.lucene.analysis.core.WhitespaceTokenizer;\n+import org.apache.lucene.analysis.standard.StandardTokenizer;\n+import org.elasticsearch.common.settings.Settings;\n+import org.elasticsearch.env.Environment;\n+import org.elasticsearch.index.analysis.AnalysisTestsHelper;\n+import org.elasticsearch.index.analysis.TokenFilterFactory;\n+import org.elasticsearch.test.ESTestCase;\n+import org.elasticsearch.test.ESTokenStreamTestCase;\n+\n+import java.io.IOException;\n+import java.io.StringReader;\n+\n+/**\n+ * Test class for edge_ngram token filter.\n+ *\n+ * @author Amit Khandelwal", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba598daac8b287435b3d0bd2bb630c150afa4974"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTgxMTE4Ng==", "bodyText": "nit: maybe add newline befor first test method.", "url": "https://github.com/elastic/elasticsearch/pull/55766#discussion_r415811186", "createdAt": "2020-04-27T13:26:51Z", "author": {"login": "cbuescher"}, "path": "modules/analysis-common/src/test/java/org/elasticsearch/analysis/common/EdgeNGramTokenFilterFactoryTests.java", "diffHunk": "@@ -0,0 +1,71 @@\n+/*\n+ * Licensed to Elasticsearch under one or more contributor\n+ * license agreements. See the NOTICE file distributed with\n+ * this work for additional information regarding copyright\n+ * ownership. Elasticsearch licenses this file to you under\n+ * the Apache License, Version 2.0 (the \"License\"); you may\n+ * not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.elasticsearch.analysis.common;\n+\n+import org.apache.lucene.analysis.Tokenizer;\n+import org.apache.lucene.analysis.core.WhitespaceTokenizer;\n+import org.apache.lucene.analysis.standard.StandardTokenizer;\n+import org.elasticsearch.common.settings.Settings;\n+import org.elasticsearch.env.Environment;\n+import org.elasticsearch.index.analysis.AnalysisTestsHelper;\n+import org.elasticsearch.index.analysis.TokenFilterFactory;\n+import org.elasticsearch.test.ESTestCase;\n+import org.elasticsearch.test.ESTokenStreamTestCase;\n+\n+import java.io.IOException;\n+import java.io.StringReader;\n+\n+/**\n+ * Test class for edge_ngram token filter.\n+ *\n+ * @author Amit Khandelwal\n+ */\n+public class EdgeNGramTokenFilterFactoryTests extends ESTokenStreamTestCase {\n+    public void testDefault() throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba598daac8b287435b3d0bd2bb630c150afa4974"}, "originalPosition": 41}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "106e2e910c182479447e238c70cfd5488dc4fe4e", "author": {"user": {"login": "amitmbm", "name": "Elasticsearch addict"}}, "url": "https://github.com/elastic/elasticsearch/commit/106e2e910c182479447e238c70cfd5488dc4fe4e", "committedDate": "2020-04-27T16:29:36Z", "message": "Addressed minor formatting comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b4a8d315c708aac0fe6455297485ea9f9fe710ce", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/b4a8d315c708aac0fe6455297485ea9f9fe710ce", "committedDate": "2020-04-27T20:21:32Z", "message": "Merge branch 'master' into feature/expose-preserve-original-in-edge-ngram-token-filter"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 380, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}