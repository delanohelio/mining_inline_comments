{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY2OTUwNTc3", "number": 61063, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxOTozMzo0MFrOEXxGBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QyMTo1Nzo0NVrOEYQCyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMzU3MDYzOnYy", "diffSide": "RIGHT", "path": "docs/reference/data-streams/set-up-a-data-stream.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxOTozMzo0MFrOG_vj7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxOTozMzo0MFrOG_vj7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ5MjcxOQ==", "bodyText": "Minor suggestion:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            non-overlapping index pattern, or assign your templates a `priority` greater\n          \n          \n            \n            than `100`.\n          \n          \n            \n            non-overlapping index pattern, or assign your templates a `priority` greater\n          \n          \n            \n            or lower than `100`.", "url": "https://github.com/elastic/elasticsearch/pull/61063#discussion_r469492719", "createdAt": "2020-08-12T19:33:40Z", "author": {"login": "dakrone"}, "path": "docs/reference/data-streams/set-up-a-data-stream.asciidoc", "diffHunk": "@@ -106,6 +106,15 @@ template for a data stream must specify:\n \n * That the template is used exclusively for data streams.\n \n+* A priority for the template.\n+\n+IMPORTANT: {es} comes with built-in index templates for the `metrics-*-*` and\n+`logs-*-*` index patterns.\n+{ingest-guide}/ingest-management-overview.html[{agent}] uses these templates to\n+create data streams. To avoid accidentally applying these templates, use a\n+non-overlapping index pattern, or assign your templates a `priority` greater\n+than `100`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "405804960f5a4e5971733611a9d1795938d53f22"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMzU3MTM4OnYy", "diffSide": "RIGHT", "path": "docs/reference/indices/index-templates.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxOTozMzo1M1rOG_vkXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxOTozMzo1M1rOG_vkXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ5MjgyOA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            non-overlapping index pattern, or assign your templates a `priority` greater\n          \n          \n            \n            than `100`.\n          \n          \n            \n            non-overlapping index pattern, or assign your templates a `priority` greater\n          \n          \n            \n            or lower than `100`.", "url": "https://github.com/elastic/elasticsearch/pull/61063#discussion_r469492828", "createdAt": "2020-08-12T19:33:53Z", "author": {"login": "dakrone"}, "path": "docs/reference/indices/index-templates.asciidoc", "diffHunk": "@@ -20,6 +20,13 @@ specify settings, mappings, and aliases.\n \n If a new data stream or index matches more than one index template, the index template with the highest priority is used.\n \n+IMPORTANT: {es} comes with built-in index templates for the `metrics-*-*` and\n+`logs-*-*` index patterns.\n+{ingest-guide}/ingest-management-overview.html[{agent}] uses these templates to\n+create data streams. To avoid accidentally applying these templates, use a\n+non-overlapping index pattern, or assign your templates a `priority` greater\n+than `100`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "405804960f5a4e5971733611a9d1795938d53f22"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzMzU3MTkyOnYy", "diffSide": "RIGHT", "path": "docs/reference/indices/put-index-template.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxOTozNDowMlrOG_vkrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxOTozNDowMlrOG_vkrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQ5MjkwOA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            non-overlapping index pattern, or assign your templates a `priority` greater\n          \n          \n            \n            than `100`.\n          \n          \n            \n            non-overlapping index pattern, or assign your templates a `priority` greater\n          \n          \n            \n            or lower than `100`.", "url": "https://github.com/elastic/elasticsearch/pull/61063#discussion_r469492908", "createdAt": "2020-08-12T19:34:02Z", "author": {"login": "dakrone"}, "path": "docs/reference/indices/put-index-template.asciidoc", "diffHunk": "@@ -83,6 +83,13 @@ include::{docdir}/rest-api/common-parms.asciidoc[tag=master-timeout]\n (Required, array of strings)\n Array of wildcard (`*`) expressions\n used to match the names of data streams and indices during creation.\n++\n+IMPORTANT: {es} comes with built-in index templates for the `metrics-*-*` and\n+`logs-*-*` index patterns.\n+{ingest-guide}/ingest-management-overview.html[{agent}] uses these templates to\n+create data streams. To avoid accidentally applying these templates, use a\n+non-overlapping index pattern, or assign your templates a `priority` greater\n+than `100`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "405804960f5a4e5971733611a9d1795938d53f22"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzODYzODUzOnYy", "diffSide": "RIGHT", "path": "docs/reference/data-streams/set-up-a-data-stream.asciidoc", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QyMTo1NjozN1rOHAfFzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxMzoxOTo0MFrOHA0Rwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDI3MTQzOA==", "bodyText": "Can a data stream template with an index pattern that overlaps the built-in templates also inadvertently override the built-in templates? For example, if I add a data stream template with the index pattern logs* and give it a higher priority than the built in template (presumably 100?), have I just messed things up for the Elastic Agent's logs data stream?\nAlso, I'm not sure it's obvious that a higher number is in fact a higher priority. I could see someone making the opposite assumption.", "url": "https://github.com/elastic/elasticsearch/pull/61063#discussion_r470271438", "createdAt": "2020-08-13T21:56:37Z", "author": {"login": "debadair"}, "path": "docs/reference/data-streams/set-up-a-data-stream.asciidoc", "diffHunk": "@@ -106,6 +106,15 @@ template for a data stream must specify:\n \n * That the template is used exclusively for data streams.\n \n+* A priority for the template.\n+\n+IMPORTANT: {es} comes with built-in index templates for the `metrics-*-*` and\n+`logs-*-*` index patterns.\n+{ingest-guide}/ingest-management-overview.html[{agent}] uses these templates to\n+create data streams. To avoid accidentally applying these templates, use a", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb2df7df8c21ab828148301b2814a58a47884048"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDI3NTc5MA==", "bodyText": "Can a data stream template with an index pattern that overlaps the built-in templates also inadvertently override the built-in templates? For example, if I add a data stream template with the index pattern logs* and give it a higher priority than the built in template (presumably 100?), have I just messed things up for the Elastic Agent's logs data stream?\n\nYes, if someone put a template in place with a higher priority it would hijack the built-in templates. Fleet does this to override them with more specific templates when it installs its templates", "url": "https://github.com/elastic/elasticsearch/pull/61063#discussion_r470275790", "createdAt": "2020-08-13T22:07:48Z", "author": {"login": "dakrone"}, "path": "docs/reference/data-streams/set-up-a-data-stream.asciidoc", "diffHunk": "@@ -106,6 +106,15 @@ template for a data stream must specify:\n \n * That the template is used exclusively for data streams.\n \n+* A priority for the template.\n+\n+IMPORTANT: {es} comes with built-in index templates for the `metrics-*-*` and\n+`logs-*-*` index patterns.\n+{ingest-guide}/ingest-management-overview.html[{agent}] uses these templates to\n+create data streams. To avoid accidentally applying these templates, use a", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDI3MTQzOA=="}, "originalCommit": {"oid": "eb2df7df8c21ab828148301b2814a58a47884048"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDYxODU2Mg==", "bodyText": "Added this sentence to address people using Elastic Agent:\n\nIf you use Elastic Agent, assign your index templates a priority lower than 100 to avoid an override of the built-in templates.", "url": "https://github.com/elastic/elasticsearch/pull/61063#discussion_r470618562", "createdAt": "2020-08-14T13:19:40Z", "author": {"login": "jrodewig"}, "path": "docs/reference/data-streams/set-up-a-data-stream.asciidoc", "diffHunk": "@@ -106,6 +106,15 @@ template for a data stream must specify:\n \n * That the template is used exclusively for data streams.\n \n+* A priority for the template.\n+\n+IMPORTANT: {es} comes with built-in index templates for the `metrics-*-*` and\n+`logs-*-*` index patterns.\n+{ingest-guide}/ingest-management-overview.html[{agent}] uses these templates to\n+create data streams. To avoid accidentally applying these templates, use a", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDI3MTQzOA=="}, "originalCommit": {"oid": "eb2df7df8c21ab828148301b2814a58a47884048"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzODYzOTc2OnYy", "diffSide": "RIGHT", "path": "docs/reference/data-streams/set-up-a-data-stream.asciidoc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QyMTo1NzowMlrOHAfGfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxMjo1MToyNlrOHAzZsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDI3MTYxNQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            {ingest-guide}/ingest-management-overview.html[{agent}] uses these templates to\n          \n          \n            \n            {ingest-guide}/ingest-management-overview.html[{Elastic Agent}] uses these templates to", "url": "https://github.com/elastic/elasticsearch/pull/61063#discussion_r470271615", "createdAt": "2020-08-13T21:57:02Z", "author": {"login": "debadair"}, "path": "docs/reference/data-streams/set-up-a-data-stream.asciidoc", "diffHunk": "@@ -106,6 +106,15 @@ template for a data stream must specify:\n \n * That the template is used exclusively for data streams.\n \n+* A priority for the template.\n+\n+IMPORTANT: {es} comes with built-in index templates for the `metrics-*-*` and\n+`logs-*-*` index patterns.\n+{ingest-guide}/ingest-management-overview.html[{agent}] uses these templates to", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb2df7df8c21ab828148301b2814a58a47884048"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDYwNDIwOQ==", "bodyText": "The {agent} attribute expands to Elastic Agent already.", "url": "https://github.com/elastic/elasticsearch/pull/61063#discussion_r470604209", "createdAt": "2020-08-14T12:51:26Z", "author": {"login": "jrodewig"}, "path": "docs/reference/data-streams/set-up-a-data-stream.asciidoc", "diffHunk": "@@ -106,6 +106,15 @@ template for a data stream must specify:\n \n * That the template is used exclusively for data streams.\n \n+* A priority for the template.\n+\n+IMPORTANT: {es} comes with built-in index templates for the `metrics-*-*` and\n+`logs-*-*` index patterns.\n+{ingest-guide}/ingest-management-overview.html[{agent}] uses these templates to", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDI3MTYxNQ=="}, "originalCommit": {"oid": "eb2df7df8c21ab828148301b2814a58a47884048"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkzODY0MTM4OnYy", "diffSide": "RIGHT", "path": "docs/reference/data-streams/set-up-a-data-stream.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QyMTo1Nzo0NVrOHAfHhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QyMTo1Nzo0NVrOHAfHhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDI3MTg3OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            IMPORTANT: {es} comes with built-in index templates for the `metrics-*-*` and\n          \n          \n            \n            IMPORTANT: {es} has built-in index templates for the `metrics-*-*` and", "url": "https://github.com/elastic/elasticsearch/pull/61063#discussion_r470271878", "createdAt": "2020-08-13T21:57:45Z", "author": {"login": "debadair"}, "path": "docs/reference/data-streams/set-up-a-data-stream.asciidoc", "diffHunk": "@@ -106,6 +106,15 @@ template for a data stream must specify:\n \n * That the template is used exclusively for data streams.\n \n+* A priority for the template.\n+\n+IMPORTANT: {es} comes with built-in index templates for the `metrics-*-*` and", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb2df7df8c21ab828148301b2814a58a47884048"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2470, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}