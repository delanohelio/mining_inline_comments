{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwMzc4NDQ5", "number": 55896, "title": "Create plugin for internalClusterTest task", "bodyText": "This commit creates a new gradle plugin to provide a separate task name\nand source set for running ESIntegTestCase tests. The only project\nconverted to use the new plugin in this PR is server, as an example. The\nremaining cases in x-pack will be handled in followups.", "createdAt": "2020-04-28T21:46:27Z", "url": "https://github.com/elastic/elasticsearch/pull/55896", "merged": true, "mergeCommit": {"oid": "cabe6a330514f0f80f3b95be8763082b25efce89"}, "closed": true, "closedAt": "2020-05-07T00:20:27Z", "author": {"login": "rjernst"}, "timelineItems": {"totalCount": 30, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccK-rAAH2gAyNDEwMzc4NDQ5OjMxZjVjNzhhNjQ1ZjY5NWIxYjU5ZDc4ZDQ5MjM4YzU2MmUzM2I3MGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcew5ckAH2gAyNDEwMzc4NDQ5OjI1MzQxYjE2NDJiOTM5ZDBlMzdjYzc5YTc0YzNlZTc1NmYzZjhlYzE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "31f5c78a645f695b1b59d78d49238c562e33b70b", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/31f5c78a645f695b1b59d78d49238c562e33b70b", "committedDate": "2020-04-28T21:43:28Z", "message": "Create plugin for internalClusterTest task\n\nThis commit creates a new gradle plugin to provide a separate task name\nand source set for running ESIntegTestCase tests. The only project\nconverted to use the new plugin in this PR is server, as an example. The\nremaining cases in x-pack will be handled in followups."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ef6e79ddebc7b4df13df057347648899ce87463", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/6ef6e79ddebc7b4df13df057347648899ce87463", "committedDate": "2020-04-28T21:46:54Z", "message": "Merge branch 'master' into buildsplit3"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMjgzMTU0", "url": "https://github.com/elastic/elasticsearch/pull/55896#pullrequestreview-402283154", "createdAt": "2020-04-28T23:33:00Z", "commit": {"oid": "6ef6e79ddebc7b4df13df057347648899ce87463"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMzozMzowMFrOGNqzIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMzozMzowMFrOGNqzIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk4NTg4OA==", "bodyText": "Can you break up this up into sourceSet creation and task creation methods ?\nI am converting the yamlTests to independent sourceSets and task, and would like to re-use the sourceSet parts here. However, I don't think the task part is re-usabe. Below is my requirement for task creation:\n    RestIntegTestTask yamlTestTask = project.getTasks()\n            .create(\"yamlTest\", RestIntegTestTask.class, task -> {\n                task.dependsOn(project.getTasks().getByName(\"copyRestApiSpecsTask\"));\n            });\n\nrequires a custom Test.class, can't use task configuration avoidance (register vs. create) due to the constructor of RestIntegTestTask, needs a dependency.\nI have a WIP for the YAML tests here: https://github.com/elastic/elasticsearch/pull/55833/files#diff-c8d3f49f55d848e6358cf9ebf14b7a79R48", "url": "https://github.com/elastic/elasticsearch/pull/55896#discussion_r416985888", "createdAt": "2020-04-28T23:33:00Z", "author": {"login": "jakelandis"}, "path": "buildSrc/src/main/java/org/elasticsearch/gradle/util/GradleUtils.java", "diffHunk": "@@ -120,4 +132,61 @@ public static void maybeConfigure(TaskContainer tasks, String name, Action<? sup\n \n         return (Provider<T>) registration.getService();\n     }\n+\n+    /**\n+     * Add a source set and task of the same name that runs tests.\n+     *\n+     * IDEs are also configured if setup, and the test task is added to check. The new test source\n+     * set extends from the normal test source set to allow sharing of utilities.\n+     */\n+    public static void addTestSourceSet(Project project, String sourceSetName) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6ef6e79ddebc7b4df13df057347648899ce87463"}, "originalPosition": 47}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMjg3MDMy", "url": "https://github.com/elastic/elasticsearch/pull/55896#pullrequestreview-402287032", "createdAt": "2020-04-28T23:44:10Z", "commit": {"oid": "6ef6e79ddebc7b4df13df057347648899ce87463"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMzo0NDoxMFrOGNrBmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMzo0NDoxMFrOGNrBmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk4OTU5Mg==", "bodyText": "If I understand this (which I may not :) ) this applies the test configuration to the new source set ? (e.g. if testCompile depends on foo, then so does myNewTest sourceSet ?)\nLooking at this for the requirements for YAML tests, I wonder if this should be optional since we want the YAML tests to have no dependencies beyond the test framework.", "url": "https://github.com/elastic/elasticsearch/pull/55896#discussion_r416989592", "createdAt": "2020-04-28T23:44:10Z", "author": {"login": "jakelandis"}, "path": "buildSrc/src/main/java/org/elasticsearch/gradle/util/GradleUtils.java", "diffHunk": "@@ -120,4 +132,61 @@ public static void maybeConfigure(TaskContainer tasks, String name, Action<? sup\n \n         return (Provider<T>) registration.getService();\n     }\n+\n+    /**\n+     * Add a source set and task of the same name that runs tests.\n+     *\n+     * IDEs are also configured if setup, and the test task is added to check. The new test source\n+     * set extends from the normal test source set to allow sharing of utilities.\n+     */\n+    public static void addTestSourceSet(Project project, String sourceSetName) {\n+        project.getPluginManager().apply(ElasticsearchJavaPlugin.class);\n+\n+        // create our test source set and task\n+        SourceSetContainer sourceSets = project.getExtensions().getByType(SourceSetContainer.class);\n+        SourceSet extraTestSourceSet = sourceSets.create(sourceSetName);\n+        TaskProvider<Test> testTask = project.getTasks().register(sourceSetName, Test.class);\n+        testTask.configure(task -> {\n+            task.setTestClassesDirs(extraTestSourceSet.getOutput().getClassesDirs());\n+            task.setClasspath(extraTestSourceSet.getRuntimeClasspath());\n+        });\n+        SourceSet mainSourceSet = sourceSets.getByName(\"main\");\n+        SourceSet testSourceSet = sourceSets.getByName(\"test\");\n+\n+        extendConfiguration(project, testSourceSet, extraTestSourceSet, SourceSet::getCompileConfigurationName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6ef6e79ddebc7b4df13df057347648899ce87463"}, "originalPosition": 61}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMjg4OTk5", "url": "https://github.com/elastic/elasticsearch/pull/55896#pullrequestreview-402288999", "createdAt": "2020-04-28T23:49:42Z", "commit": {"oid": "6ef6e79ddebc7b4df13df057347648899ce87463"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMzo0OTo0MlrOGNrI8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMzo0OTo0MlrOGNrI8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk5MTQ3NA==", "bodyText": "should this task.setGroup(JavaBasePlugin.VERIFICATION_GROUP); ? (It helps with the Intellij Gradle view)", "url": "https://github.com/elastic/elasticsearch/pull/55896#discussion_r416991474", "createdAt": "2020-04-28T23:49:42Z", "author": {"login": "jakelandis"}, "path": "buildSrc/src/main/java/org/elasticsearch/gradle/util/GradleUtils.java", "diffHunk": "@@ -120,4 +132,61 @@ public static void maybeConfigure(TaskContainer tasks, String name, Action<? sup\n \n         return (Provider<T>) registration.getService();\n     }\n+\n+    /**\n+     * Add a source set and task of the same name that runs tests.\n+     *\n+     * IDEs are also configured if setup, and the test task is added to check. The new test source\n+     * set extends from the normal test source set to allow sharing of utilities.\n+     */\n+    public static void addTestSourceSet(Project project, String sourceSetName) {\n+        project.getPluginManager().apply(ElasticsearchJavaPlugin.class);\n+\n+        // create our test source set and task\n+        SourceSetContainer sourceSets = project.getExtensions().getByType(SourceSetContainer.class);\n+        SourceSet extraTestSourceSet = sourceSets.create(sourceSetName);\n+        TaskProvider<Test> testTask = project.getTasks().register(sourceSetName, Test.class);\n+        testTask.configure(task -> {\n+            task.setTestClassesDirs(extraTestSourceSet.getOutput().getClassesDirs());\n+            task.setClasspath(extraTestSourceSet.getRuntimeClasspath());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6ef6e79ddebc7b4df13df057347648899ce87463"}, "originalPosition": 56}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMjkxMjk3", "url": "https://github.com/elastic/elasticsearch/pull/55896#pullrequestreview-402291297", "createdAt": "2020-04-28T23:56:12Z", "commit": {"oid": "6ef6e79ddebc7b4df13df057347648899ce87463"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMzo1NjoxM1rOGNrRYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMzo1NjoxM1rOGNrRYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk5MzYzNA==", "bodyText": "should the help method setup the TestCompile dependency on :test:framework ? (admittedly, I don't know how to handle the exclude here...but i think all tests will need that dependency)", "url": "https://github.com/elastic/elasticsearch/pull/55896#discussion_r416993634", "createdAt": "2020-04-28T23:56:13Z", "author": {"login": "jakelandis"}, "path": "server/build.gradle", "diffHunk": "@@ -134,11 +135,15 @@ dependencies {\n     // tests use the locally compiled version of server\n     exclude group: 'org.elasticsearch', module: 'server'\n   }\n+  internalClusterTestCompile(project(\":test:framework\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6ef6e79ddebc7b4df13df057347648899ce87463"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "407062ae7cfbf7e6bb5e3095ca20a909d659b044", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/407062ae7cfbf7e6bb5e3095ca20a909d659b044", "committedDate": "2020-04-29T18:39:44Z", "message": "checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd82383aa0e61a2088b00b639d3e7557d12e5c5d", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/dd82383aa0e61a2088b00b639d3e7557d12e5c5d", "committedDate": "2020-04-29T19:06:51Z", "message": "Merge branch 'master' into buildsplit3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "335a16e2f8462e9d75e7b2441d221727f66ad269", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/335a16e2f8462e9d75e7b2441d221727f66ad269", "committedDate": "2020-04-29T19:23:57Z", "message": "add task to verification group"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyOTY1Njgw", "url": "https://github.com/elastic/elasticsearch/pull/55896#pullrequestreview-402965680", "createdAt": "2020-04-29T19:18:29Z", "commit": {"oid": "407062ae7cfbf7e6bb5e3095ca20a909d659b044"}, "state": "APPROVED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxOToxODoyOVrOGONZVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxOToyOToxM1rOGONwmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU1MjcyNg==", "bodyText": "Let's use the SourceSet constants here.", "url": "https://github.com/elastic/elasticsearch/pull/55896#discussion_r417552726", "createdAt": "2020-04-29T19:18:29Z", "author": {"login": "mark-vieira"}, "path": "buildSrc/src/main/java/org/elasticsearch/gradle/util/GradleUtils.java", "diffHunk": "@@ -120,4 +130,69 @@ public static void maybeConfigure(TaskContainer tasks, String name, Action<? sup\n \n         return (Provider<T>) registration.getService();\n     }\n+\n+    /**\n+     * Add a source set and task of the same name that runs tests.\n+     *\n+     * IDEs are also configured if setup, and the test task is added to check. The new test source\n+     * set extends from the normal test source set to allow sharing of utilities.\n+     */\n+    public static void addTestSourceSet(Project project, String sourceSetName) {\n+        project.getPluginManager().apply(ElasticsearchJavaPlugin.class);\n+\n+        // create our test source set and task\n+        SourceSetContainer sourceSets = project.getExtensions().getByType(SourceSetContainer.class);\n+        SourceSet extraTestSourceSet = sourceSets.create(sourceSetName);\n+        TaskProvider<Test> testTask = project.getTasks().register(sourceSetName, Test.class);\n+        testTask.configure(task -> {\n+            task.setTestClassesDirs(extraTestSourceSet.getOutput().getClassesDirs());\n+            task.setClasspath(extraTestSourceSet.getRuntimeClasspath());\n+        });\n+        SourceSet mainSourceSet = sourceSets.getByName(\"main\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "407062ae7cfbf7e6bb5e3095ca20a909d659b044"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU1MzQyOA==", "bodyText": "We could have this utility method accept a list of source sets from which the new source set should extend.", "url": "https://github.com/elastic/elasticsearch/pull/55896#discussion_r417553428", "createdAt": "2020-04-29T19:19:51Z", "author": {"login": "mark-vieira"}, "path": "buildSrc/src/main/java/org/elasticsearch/gradle/util/GradleUtils.java", "diffHunk": "@@ -120,4 +132,61 @@ public static void maybeConfigure(TaskContainer tasks, String name, Action<? sup\n \n         return (Provider<T>) registration.getService();\n     }\n+\n+    /**\n+     * Add a source set and task of the same name that runs tests.\n+     *\n+     * IDEs are also configured if setup, and the test task is added to check. The new test source\n+     * set extends from the normal test source set to allow sharing of utilities.\n+     */\n+    public static void addTestSourceSet(Project project, String sourceSetName) {\n+        project.getPluginManager().apply(ElasticsearchJavaPlugin.class);\n+\n+        // create our test source set and task\n+        SourceSetContainer sourceSets = project.getExtensions().getByType(SourceSetContainer.class);\n+        SourceSet extraTestSourceSet = sourceSets.create(sourceSetName);\n+        TaskProvider<Test> testTask = project.getTasks().register(sourceSetName, Test.class);\n+        testTask.configure(task -> {\n+            task.setTestClassesDirs(extraTestSourceSet.getOutput().getClassesDirs());\n+            task.setClasspath(extraTestSourceSet.getRuntimeClasspath());\n+        });\n+        SourceSet mainSourceSet = sourceSets.getByName(\"main\");\n+        SourceSet testSourceSet = sourceSets.getByName(\"test\");\n+\n+        extendConfiguration(project, testSourceSet, extraTestSourceSet, SourceSet::getCompileConfigurationName);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk4OTU5Mg=="}, "originalCommit": {"oid": "6ef6e79ddebc7b4df13df057347648899ce87463"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU1NTQzOA==", "bodyText": "This could also just be mainSourceSet.getOutput().plus(testSourceSet.getOutput()).plus(extraTestCompileConfig)", "url": "https://github.com/elastic/elasticsearch/pull/55896#discussion_r417555438", "createdAt": "2020-04-29T19:23:21Z", "author": {"login": "mark-vieira"}, "path": "buildSrc/src/main/java/org/elasticsearch/gradle/util/GradleUtils.java", "diffHunk": "@@ -120,4 +130,69 @@ public static void maybeConfigure(TaskContainer tasks, String name, Action<? sup\n \n         return (Provider<T>) registration.getService();\n     }\n+\n+    /**\n+     * Add a source set and task of the same name that runs tests.\n+     *\n+     * IDEs are also configured if setup, and the test task is added to check. The new test source\n+     * set extends from the normal test source set to allow sharing of utilities.\n+     */\n+    public static void addTestSourceSet(Project project, String sourceSetName) {\n+        project.getPluginManager().apply(ElasticsearchJavaPlugin.class);\n+\n+        // create our test source set and task\n+        SourceSetContainer sourceSets = project.getExtensions().getByType(SourceSetContainer.class);\n+        SourceSet extraTestSourceSet = sourceSets.create(sourceSetName);\n+        TaskProvider<Test> testTask = project.getTasks().register(sourceSetName, Test.class);\n+        testTask.configure(task -> {\n+            task.setTestClassesDirs(extraTestSourceSet.getOutput().getClassesDirs());\n+            task.setClasspath(extraTestSourceSet.getRuntimeClasspath());\n+        });\n+        SourceSet mainSourceSet = sourceSets.getByName(\"main\");\n+        SourceSet testSourceSet = sourceSets.getByName(\"test\");\n+\n+        extendConfiguration(project, testSourceSet, extraTestSourceSet, SourceSet::getCompileConfigurationName);\n+        extendConfiguration(project, testSourceSet, extraTestSourceSet, SourceSet::getImplementationConfigurationName);\n+        extendConfiguration(project, testSourceSet, extraTestSourceSet, SourceSet::getRuntimeConfigurationName);\n+        extendConfiguration(project, testSourceSet, extraTestSourceSet, SourceSet::getRuntimeOnlyConfigurationName);\n+\n+        // tie this new test source set to the main and test source sets\n+        Configuration extraTestCompileConfig = project.getConfigurations()\n+            .getByName(extraTestSourceSet.getCompileClasspathConfigurationName());\n+        Configuration extraTestRuntimeConfig = project.getConfigurations()\n+            .getByName(extraTestSourceSet.getRuntimeClasspathConfigurationName());\n+        extraTestSourceSet.setCompileClasspath(\n+            project.getObjects().fileCollection().from(mainSourceSet.getOutput(), testSourceSet.getOutput(), extraTestCompileConfig)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "407062ae7cfbf7e6bb5e3095ca20a909d659b044"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzU1ODY4Mg==", "bodyText": "We could have this method take a Function<? super SourceSet, ? extends TaskProvider<?>> factory argument such that the caller defines how the \"test task\" should be created, and the utility would handle wiring it to check, etc.", "url": "https://github.com/elastic/elasticsearch/pull/55896#discussion_r417558682", "createdAt": "2020-04-29T19:29:13Z", "author": {"login": "mark-vieira"}, "path": "buildSrc/src/main/java/org/elasticsearch/gradle/util/GradleUtils.java", "diffHunk": "@@ -120,4 +132,61 @@ public static void maybeConfigure(TaskContainer tasks, String name, Action<? sup\n \n         return (Provider<T>) registration.getService();\n     }\n+\n+    /**\n+     * Add a source set and task of the same name that runs tests.\n+     *\n+     * IDEs are also configured if setup, and the test task is added to check. The new test source\n+     * set extends from the normal test source set to allow sharing of utilities.\n+     */\n+    public static void addTestSourceSet(Project project, String sourceSetName) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjk4NTg4OA=="}, "originalCommit": {"oid": "6ef6e79ddebc7b4df13df057347648899ce87463"}, "originalPosition": 47}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "afdeb9b17cc62c011527388991b6b7dd2ee3c7d1", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/afdeb9b17cc62c011527388991b6b7dd2ee3c7d1", "committedDate": "2020-04-29T20:08:45Z", "message": "address feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6eb2b709c51bb8063a73aaeb2b10b6ec99c5eb6f", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/6eb2b709c51bb8063a73aaeb2b10b6ec99c5eb6f", "committedDate": "2020-04-29T20:09:23Z", "message": "Merge branch 'master' into buildsplit3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2031cd18e17f830762f226c463c92702414d608f", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/2031cd18e17f830762f226c463c92702414d608f", "committedDate": "2020-04-29T22:02:18Z", "message": "Merge branch 'master' into buildsplit3"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzMDg5MzI0", "url": "https://github.com/elastic/elasticsearch/pull/55896#pullrequestreview-403089324", "createdAt": "2020-04-29T22:38:42Z", "commit": {"oid": "2031cd18e17f830762f226c463c92702414d608f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae36d8ebe53beb27b25cc64b21d77b47c3b1c288", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/ae36d8ebe53beb27b25cc64b21d77b47c3b1c288", "committedDate": "2020-04-29T23:23:04Z", "message": "Merge branch 'master' into buildsplit3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e2fce7d419ee57a0d9d552bda39455618f6515f", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/0e2fce7d419ee57a0d9d552bda39455618f6515f", "committedDate": "2020-04-29T23:43:37Z", "message": "spotless"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7da06174f83991a543a039827d12a72e13e00ab7", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/7da06174f83991a543a039827d12a72e13e00ab7", "committedDate": "2020-04-30T00:44:07Z", "message": "delay forbidden apis resolution of classpaths"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ec2e3eef4a2a9df239755df52f03eef75d57387", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/1ec2e3eef4a2a9df239755df52f03eef75d57387", "committedDate": "2020-04-30T22:17:03Z", "message": "only use test task for testing conventions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dff2d36299b378a643b44788103e4f4d6de3126b", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/dff2d36299b378a643b44788103e4f4d6de3126b", "committedDate": "2020-04-30T22:18:18Z", "message": "Merge branch 'master' into buildsplit3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f47d8def567865a294cc717d067ba835c53ae634", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/f47d8def567865a294cc717d067ba835c53ae634", "committedDate": "2020-04-30T22:54:52Z", "message": "spotless"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76a287f06108e86cd8a0984a87a15cd1ad7f5968", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/76a287f06108e86cd8a0984a87a15cd1ad7f5968", "committedDate": "2020-04-30T23:56:02Z", "message": "update docs and include integTest in testing conventions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0441c28c892dc0f18fd0ada1fdf76728f4851631", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/0441c28c892dc0f18fd0ada1fdf76728f4851631", "committedDate": "2020-05-01T00:05:04Z", "message": "default to all test tasks for testing conventions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28dbb1e51383d1d9da7fc066ecc9eb7bf40b4ceb", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/28dbb1e51383d1d9da7fc066ecc9eb7bf40b4ceb", "committedDate": "2020-05-04T23:04:20Z", "message": "Merge branch 'master' into buildsplit3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7badf3769197fcece7f129ce596a3890121b20c", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/e7badf3769197fcece7f129ce596a3890121b20c", "committedDate": "2020-05-04T23:04:41Z", "message": "imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da34a9425cdd72bebb33f3d803a9b91c61dba864", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/da34a9425cdd72bebb33f3d803a9b91c61dba864", "committedDate": "2020-05-05T17:18:27Z", "message": "imports again"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b670ae445e84f0013a3689d4fd085f4836c0d724", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/b670ae445e84f0013a3689d4fd085f4836c0d724", "committedDate": "2020-05-05T17:23:28Z", "message": "Merge branch 'master' into buildsplit3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac149441310f998c4aaee17e9ec29c4b81a9cf5d", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/ac149441310f998c4aaee17e9ec29c4b81a9cf5d", "committedDate": "2020-05-05T22:11:24Z", "message": "Merge branch 'master' into buildsplit3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5d8d9bf3a8670e22ba1c9a83e4678d26da4d21f", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/e5d8d9bf3a8670e22ba1c9a83e4678d26da4d21f", "committedDate": "2020-05-06T04:31:55Z", "message": "Merge branch 'master' into buildsplit3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bfad4b340ab6e83f72c9033933b76d5152a4e45f", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/bfad4b340ab6e83f72c9033933b76d5152a4e45f", "committedDate": "2020-05-06T17:12:05Z", "message": "Merge branch 'master' into buildsplit3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25341b1642b939d0e37cc79a74c3ee756f3f8ec1", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/25341b1642b939d0e37cc79a74c3ee756f3f8ec1", "committedDate": "2020-05-06T23:02:00Z", "message": "Merge branch 'master' into buildsplit3"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 250, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}