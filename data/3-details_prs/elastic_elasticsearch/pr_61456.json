{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcyMzQ2MzE0", "number": 61456, "title": "Clarify usage of `jvm.options` in its comments", "bodyText": "Since #51882 we recommend not editing the jvm.options file, preferring\ninstead to override its contents with additional files in\njvm.options.d. However the inline comments in this file do not point\nusers in that direction. This commit adjusts these inline comments.", "createdAt": "2020-08-24T08:13:12Z", "url": "https://github.com/elastic/elasticsearch/pull/61456", "merged": true, "mergeCommit": {"oid": "1a3fefb2ac5b314cb162635576dc2fc8c938a868"}, "closed": true, "closedAt": "2020-12-03T10:55:54Z", "author": {"login": "DaveCTurner"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdB-DOoAH2gAyNDcyMzQ2MzE0OmRjZDc2YjJkNzc2MGQ5MjEyZWMzNWQ0OWRmMjM4OWNlNDE2ZWVhNWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdCGFPHAFqTQ3MzcxMTEzMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dcd76b2d7760d9212ec35d49df2389ce416eea5e", "author": {"user": {"login": "DaveCTurner", "name": "David Turner"}}, "url": "https://github.com/elastic/elasticsearch/commit/dcd76b2d7760d9212ec35d49df2389ce416eea5e", "committedDate": "2020-08-24T08:08:48Z", "message": "Clarify usage of jvm.options in its comments\n\nSince #51882 we recommend not editing the `jvm.options` file, preferring\ninstead to override its contents with additional files in\n`jvm.options.d`. However the inline comments in this file do not point\nusers in that direction. This commit adjusts these inline comments."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4df9828881742320376691398a2ba3c170e43c78", "author": {"user": {"login": "DaveCTurner", "name": "David Turner"}}, "url": "https://github.com/elastic/elasticsearch/commit/4df9828881742320376691398a2ba3c170e43c78", "committedDate": "2020-08-24T08:16:54Z", "message": "Reinstate original title"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMjE5MDUz", "url": "https://github.com/elastic/elasticsearch/pull/61456#pullrequestreview-473219053", "createdAt": "2020-08-24T08:24:12Z", "commit": {"oid": "4df9828881742320376691398a2ba3c170e43c78"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczNjc1MDMw", "url": "https://github.com/elastic/elasticsearch/pull/61456#pullrequestreview-473675030", "createdAt": "2020-08-24T16:43:37Z", "commit": {"oid": "4df9828881742320376691398a2ba3c170e43c78"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxNjo0MzozN1rOHFtiNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxNjo0MzozN1rOHFtiNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTc1MDk2Ng==", "bodyText": "The wording here is a bit confusing (when I first read it, I think it is do so, my mind accidentally skipped over the first \"do not\").  Could we simplify the first clause to simply If you want to adjust any of these settings then do not edit this file;?", "url": "https://github.com/elastic/elasticsearch/pull/61456#discussion_r475750966", "createdAt": "2020-08-24T16:43:37Z", "author": {"login": "rjernst"}, "path": "distribution/src/config/jvm.options", "diffHunk": "@@ -16,19 +33,23 @@\n ##\n ################################################################\n \n-# Xms represents the initial size of total heap space\n-# Xmx represents the maximum size of total heap space\n+# Xms represents the initial size of the JVM heap\n+# Xmx represents the maximum size of the JVM heap\n \n -Xms${heap.min}\n -Xmx${heap.max}\n \n+\n+\n ################################################################\n ## Expert settings\n ################################################################\n ##\n-## All settings below this section are considered\n-## expert settings. Don't tamper with them unless\n-## you understand what you are doing\n+## All settings below here are considered expert settings.  Do\n+## not tamper with them unless you understand what you are\n+## doing. If you want to adjust any of these settings then do\n+## not do so by editing this file; instead, create a new file in", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4df9828881742320376691398a2ba3c170e43c78"}, "originalPosition": 57}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd1b1719e20589631f95fc01ff83bd040dd7c6b1", "author": {"user": {"login": "DaveCTurner", "name": "David Turner"}}, "url": "https://github.com/elastic/elasticsearch/commit/cd1b1719e20589631f95fc01ff83bd040dd7c6b1", "committedDate": "2020-08-24T17:05:54Z", "message": "Simplify wording"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczNzExMTMy", "url": "https://github.com/elastic/elasticsearch/pull/61456#pullrequestreview-473711132", "createdAt": "2020-08-24T17:28:46Z", "commit": {"oid": "cd1b1719e20589631f95fc01ff83bd040dd7c6b1"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxNzoyODo0NlrOHFvRbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxNzozMDowMlrOHFvUEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTc3OTQzOQ==", "bodyText": "I think we want to avoid a link here, since it could easily break in the future. It also will link users to the wrong version for their version. For example, linking to current would redirect a user to 8.0.0 when that's released, but maybe they're on 7.9 and we've made breaking changes.", "url": "https://github.com/elastic/elasticsearch/pull/61456#discussion_r475779439", "createdAt": "2020-08-24T17:28:46Z", "author": {"login": "jasontedor"}, "path": "distribution/src/config/jvm.options", "diffHunk": "@@ -1,12 +1,29 @@\n+################################################################\n+##\n ## JVM configuration\n+##\n+################################################################\n+##\n+## WARNING: DO NOT EDIT THIS FILE. If you want to override the\n+## JVM options in this file, or set any additional options, you\n+## should create one or more files in the jvm.options.d\n+## directory containing your adjustments.\n+##\n+## See https://www.elastic.co/guide/en/elasticsearch/reference/current/jvm-options.html", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd1b1719e20589631f95fc01ff83bd040dd7c6b1"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTc4MDExMw==", "bodyText": "I wonder if we should take this further and remove this from this file. The way I envision this working is that in JvmOptionsParser, we'd emit a -Xms1g and/or -Xmx1g if Xms (MinHeapSize) or Xmx (MaxHeapSize) are not set respectively.", "url": "https://github.com/elastic/elasticsearch/pull/61456#discussion_r475780113", "createdAt": "2020-08-24T17:30:02Z", "author": {"login": "jasontedor"}, "path": "distribution/src/config/jvm.options", "diffHunk": "@@ -16,19 +33,22 @@\n ##\n ################################################################\n \n-# Xms represents the initial size of total heap space\n-# Xmx represents the maximum size of total heap space\n+# Xms represents the initial size of the JVM heap\n+# Xmx represents the maximum size of the JVM heap\n \n -Xms${heap.min}\n -Xmx${heap.max}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cd1b1719e20589631f95fc01ff83bd040dd7c6b1"}, "originalPosition": 43}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4671, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}