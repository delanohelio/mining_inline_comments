{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE2MjgzMjUw", "number": 64668, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQwOToyMTo1NlrOE2rC_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxMzo0NTo0OFrOE2xfUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1NzYzODM2OnYy", "diffSide": "RIGHT", "path": "docs/reference/tab-widgets/register-fs-repo.asciidoc", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQwOToyMTo1NlrOHvlhKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxMzo0MjoyN1rOHvvcvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTY1OTgxOA==", "bodyText": "Suggest combining these two examples, to avoid suggesting that all the paths must be either one or the other.", "url": "https://github.com/elastic/elasticsearch/pull/64668#discussion_r519659818", "createdAt": "2020-11-09T09:21:56Z", "author": {"login": "DaveCTurner"}, "path": "docs/reference/tab-widgets/register-fs-repo.asciidoc", "diffHunk": "@@ -0,0 +1,109 @@\n+// tag::unix[]\n+Linux and macOS installations support Unix-style paths:\n+\n+[source,yaml]\n+----\n+path:\n+  repo:\n+    - /mount/backups\n+    - /mount/long_term_backups\n+----\n+\n+After restarting each node, use the <<put-snapshot-repo-api,put snapshot\n+repository>> API to register the file system repository. Specify the file\n+system's path in `settings.location`:\n+\n+[source,console]\n+----\n+PUT /_snapshot/my_fs_backup\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"/mount/backups/my_fs_backup_location\",\n+    \"compress\": true\n+  }\n+}\n+----\n+// TEST[skip:no access to path]\n+\n+If you specify a relative path in `settings.location`, {es} resolves the path\n+using the first value in the `path.repo` setting.\n+\n+[source,console]\n+----\n+PUT /_snapshot/my_fs_backup\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_fs_backup_location\",       <1>\n+    \"compress\": true\n+  }\n+}\n+----\n+// TEST[skip:no access to path]\n+\n+<1> The first value in the `path.repo` setting is `/mount/backups`. This\n+relative path, `my_fs_backup_location`, resolves to\n+`/mount/backups/my_fs_backup_location`.\n+// end::unix[]\n+\n+\n+// tag::win[]\n+Windows installations support both DOS and Microsoft UNC paths. The following\n+example uses DOS paths with escaped backslashes:\n+\n+[source,yaml]\n+----\n+path:\n+  repo:\n+    - \"E:\\\\Mount\\\\Backups\"\n+    - \"F:\\\\Mount\\\\Long_term_backups\"\n+----\n+\n+For UNC paths, provide the server and share name as a prefix:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d0de12b8ecc4f871315011d2b22bb8d8679fcb3e"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTgyMjUyNQ==", "bodyText": "Combined these with 02e169b.", "url": "https://github.com/elastic/elasticsearch/pull/64668#discussion_r519822525", "createdAt": "2020-11-09T13:42:27Z", "author": {"login": "jrodewig"}, "path": "docs/reference/tab-widgets/register-fs-repo.asciidoc", "diffHunk": "@@ -0,0 +1,109 @@\n+// tag::unix[]\n+Linux and macOS installations support Unix-style paths:\n+\n+[source,yaml]\n+----\n+path:\n+  repo:\n+    - /mount/backups\n+    - /mount/long_term_backups\n+----\n+\n+After restarting each node, use the <<put-snapshot-repo-api,put snapshot\n+repository>> API to register the file system repository. Specify the file\n+system's path in `settings.location`:\n+\n+[source,console]\n+----\n+PUT /_snapshot/my_fs_backup\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"/mount/backups/my_fs_backup_location\",\n+    \"compress\": true\n+  }\n+}\n+----\n+// TEST[skip:no access to path]\n+\n+If you specify a relative path in `settings.location`, {es} resolves the path\n+using the first value in the `path.repo` setting.\n+\n+[source,console]\n+----\n+PUT /_snapshot/my_fs_backup\n+{\n+  \"type\": \"fs\",\n+  \"settings\": {\n+    \"location\": \"my_fs_backup_location\",       <1>\n+    \"compress\": true\n+  }\n+}\n+----\n+// TEST[skip:no access to path]\n+\n+<1> The first value in the `path.repo` setting is `/mount/backups`. This\n+relative path, `my_fs_backup_location`, resolves to\n+`/mount/backups/my_fs_backup_location`.\n+// end::unix[]\n+\n+\n+// tag::win[]\n+Windows installations support both DOS and Microsoft UNC paths. The following\n+example uses DOS paths with escaped backslashes:\n+\n+[source,yaml]\n+----\n+path:\n+  repo:\n+    - \"E:\\\\Mount\\\\Backups\"\n+    - \"F:\\\\Mount\\\\Long_term_backups\"\n+----\n+\n+For UNC paths, provide the server and share name as a prefix:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTY1OTgxOA=="}, "originalCommit": {"oid": "d0de12b8ecc4f871315011d2b22bb8d8679fcb3e"}, "originalPosition": 63}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1NzY0MjI5OnYy", "diffSide": "LEFT", "path": "docs/reference/snapshot-restore/register-repository.asciidoc", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQwOToyMjo1MlrOHvljmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxNDo1OToyNlrOHvyylA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTY2MDQ0Mg==", "bodyText": "Looks like we lost these settings in the move \ud83d\ude04", "url": "https://github.com/elastic/elasticsearch/pull/64668#discussion_r519660442", "createdAt": "2020-11-09T09:22:52Z", "author": {"login": "DaveCTurner"}, "path": "docs/reference/snapshot-restore/register-repository.asciidoc", "diffHunk": "@@ -100,71 +100,20 @@ are left untouched and in place.\n [[snapshots-filesystem-repository]]\n === Shared file system repository\n \n-The shared file system repository (`\"type\": \"fs\"`) uses the shared file system to store snapshots. In order to register\n-the shared file system repository it is necessary to mount the same shared filesystem to the same location on all\n-master and data nodes. This location (or one of its parent directories) must be registered in the `path.repo`\n-setting on all master and data nodes.\n+Use a shared file system repository (`\"type\": \"fs\"`) to store snapshots on a\n+shared file system.\n \n-Assuming that the shared filesystem is mounted to `/mount/backups/my_fs_backup_location`, the following setting should\n-be added to `elasticsearch.yml` file:\n+To register a shared file system repository, first mount the file system to the\n+same location on all master and data nodes. Then add the file system's\n+path or parent directory to the `path.repo` setting in `elasticsearch.yml` for\n+each master and data node. For running clusters, this requires a\n+<<restart-cluster-rolling,rolling restart>> of each node.\n \n-[source,yaml]\n---------------\n-path.repo: [\"/mount/backups\", \"/mount/longterm_backups\"]\n---------------\n-\n-The `path.repo` setting supports Microsoft Windows UNC paths as long as at least server name and share are specified as\n-a prefix and back slashes are properly escaped:\n-\n-[source,yaml]\n---------------\n-path.repo: [\"\\\\\\\\MY_SERVER\\\\Snapshots\"]\n---------------\n-\n-After all nodes are restarted, the following command can be used to register the shared file system repository with\n-the name `my_fs_backup`:\n-\n-[source,console]\n------------------------------------\n-PUT /_snapshot/my_fs_backup\n-{\n-  \"type\": \"fs\",\n-  \"settings\": {\n-    \"location\": \"/mount/backups/my_fs_backup_location\",\n-    \"compress\": true\n-  }\n-}\n------------------------------------\n-// TEST[skip:no access to absolute path]\n-\n-If the repository location is specified as a relative path this path will be resolved against the first path specified\n-in `path.repo`:\n+Supported `path.repo` values vary by platform:\n \n-[source,console]\n------------------------------------\n-PUT /_snapshot/my_fs_backup\n-{\n-  \"type\": \"fs\",\n-  \"settings\": {\n-    \"location\": \"my_fs_backup_location\",\n-    \"compress\": true\n-  }\n-}\n------------------------------------\n-// TEST[continued]\n+include::{es-repo-dir}/tab-widgets/code.asciidoc[]\n \n-The following settings are supported:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d0de12b8ecc4f871315011d2b22bb8d8679fcb3e"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTgyMjgzMQ==", "bodyText": "Thanks for pointing this out. I intentionally removed these params as they're also documented in the API reference here: https://www.elastic.co/guide/en/elasticsearch/reference/master/put-snapshot-repo-api.html#put-snapshot-repo-api-request-body\nI can re-add if you'd prefer to have those docs in both places, but I figured a link to the API reference would suffice.", "url": "https://github.com/elastic/elasticsearch/pull/64668#discussion_r519822831", "createdAt": "2020-11-09T13:43:00Z", "author": {"login": "jrodewig"}, "path": "docs/reference/snapshot-restore/register-repository.asciidoc", "diffHunk": "@@ -100,71 +100,20 @@ are left untouched and in place.\n [[snapshots-filesystem-repository]]\n === Shared file system repository\n \n-The shared file system repository (`\"type\": \"fs\"`) uses the shared file system to store snapshots. In order to register\n-the shared file system repository it is necessary to mount the same shared filesystem to the same location on all\n-master and data nodes. This location (or one of its parent directories) must be registered in the `path.repo`\n-setting on all master and data nodes.\n+Use a shared file system repository (`\"type\": \"fs\"`) to store snapshots on a\n+shared file system.\n \n-Assuming that the shared filesystem is mounted to `/mount/backups/my_fs_backup_location`, the following setting should\n-be added to `elasticsearch.yml` file:\n+To register a shared file system repository, first mount the file system to the\n+same location on all master and data nodes. Then add the file system's\n+path or parent directory to the `path.repo` setting in `elasticsearch.yml` for\n+each master and data node. For running clusters, this requires a\n+<<restart-cluster-rolling,rolling restart>> of each node.\n \n-[source,yaml]\n---------------\n-path.repo: [\"/mount/backups\", \"/mount/longterm_backups\"]\n---------------\n-\n-The `path.repo` setting supports Microsoft Windows UNC paths as long as at least server name and share are specified as\n-a prefix and back slashes are properly escaped:\n-\n-[source,yaml]\n---------------\n-path.repo: [\"\\\\\\\\MY_SERVER\\\\Snapshots\"]\n---------------\n-\n-After all nodes are restarted, the following command can be used to register the shared file system repository with\n-the name `my_fs_backup`:\n-\n-[source,console]\n------------------------------------\n-PUT /_snapshot/my_fs_backup\n-{\n-  \"type\": \"fs\",\n-  \"settings\": {\n-    \"location\": \"/mount/backups/my_fs_backup_location\",\n-    \"compress\": true\n-  }\n-}\n------------------------------------\n-// TEST[skip:no access to absolute path]\n-\n-If the repository location is specified as a relative path this path will be resolved against the first path specified\n-in `path.repo`:\n+Supported `path.repo` values vary by platform:\n \n-[source,console]\n------------------------------------\n-PUT /_snapshot/my_fs_backup\n-{\n-  \"type\": \"fs\",\n-  \"settings\": {\n-    \"location\": \"my_fs_backup_location\",\n-    \"compress\": true\n-  }\n-}\n------------------------------------\n-// TEST[continued]\n+include::{es-repo-dir}/tab-widgets/code.asciidoc[]\n \n-The following settings are supported:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTY2MDQ0Mg=="}, "originalCommit": {"oid": "d0de12b8ecc4f871315011d2b22bb8d8679fcb3e"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTg3NzI2OA==", "bodyText": "Ah, I missed that. Yes that's sufficient IMO. Bit tricky because some of these (e.g. max_restore_bytes_per_sec, max_number_of_snapshots) apply to all repository types, but that's out of the scope of this discussion.", "url": "https://github.com/elastic/elasticsearch/pull/64668#discussion_r519877268", "createdAt": "2020-11-09T14:59:26Z", "author": {"login": "DaveCTurner"}, "path": "docs/reference/snapshot-restore/register-repository.asciidoc", "diffHunk": "@@ -100,71 +100,20 @@ are left untouched and in place.\n [[snapshots-filesystem-repository]]\n === Shared file system repository\n \n-The shared file system repository (`\"type\": \"fs\"`) uses the shared file system to store snapshots. In order to register\n-the shared file system repository it is necessary to mount the same shared filesystem to the same location on all\n-master and data nodes. This location (or one of its parent directories) must be registered in the `path.repo`\n-setting on all master and data nodes.\n+Use a shared file system repository (`\"type\": \"fs\"`) to store snapshots on a\n+shared file system.\n \n-Assuming that the shared filesystem is mounted to `/mount/backups/my_fs_backup_location`, the following setting should\n-be added to `elasticsearch.yml` file:\n+To register a shared file system repository, first mount the file system to the\n+same location on all master and data nodes. Then add the file system's\n+path or parent directory to the `path.repo` setting in `elasticsearch.yml` for\n+each master and data node. For running clusters, this requires a\n+<<restart-cluster-rolling,rolling restart>> of each node.\n \n-[source,yaml]\n---------------\n-path.repo: [\"/mount/backups\", \"/mount/longterm_backups\"]\n---------------\n-\n-The `path.repo` setting supports Microsoft Windows UNC paths as long as at least server name and share are specified as\n-a prefix and back slashes are properly escaped:\n-\n-[source,yaml]\n---------------\n-path.repo: [\"\\\\\\\\MY_SERVER\\\\Snapshots\"]\n---------------\n-\n-After all nodes are restarted, the following command can be used to register the shared file system repository with\n-the name `my_fs_backup`:\n-\n-[source,console]\n------------------------------------\n-PUT /_snapshot/my_fs_backup\n-{\n-  \"type\": \"fs\",\n-  \"settings\": {\n-    \"location\": \"/mount/backups/my_fs_backup_location\",\n-    \"compress\": true\n-  }\n-}\n------------------------------------\n-// TEST[skip:no access to absolute path]\n-\n-If the repository location is specified as a relative path this path will be resolved against the first path specified\n-in `path.repo`:\n+Supported `path.repo` values vary by platform:\n \n-[source,console]\n------------------------------------\n-PUT /_snapshot/my_fs_backup\n-{\n-  \"type\": \"fs\",\n-  \"settings\": {\n-    \"location\": \"my_fs_backup_location\",\n-    \"compress\": true\n-  }\n-}\n------------------------------------\n-// TEST[continued]\n+include::{es-repo-dir}/tab-widgets/code.asciidoc[]\n \n-The following settings are supported:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTY2MDQ0Mg=="}, "originalCommit": {"oid": "d0de12b8ecc4f871315011d2b22bb8d8679fcb3e"}, "originalPosition": 66}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1ODY5Mzk1OnYy", "diffSide": "LEFT", "path": "docs/reference/snapshot-restore/register-repository.asciidoc", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxMzo0NTo0OFrOHvvleg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxNTowMTo1MFrOHvy5xg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTgyNDc2Mg==", "bodyText": "This param is not documented in the API reference docs as we don't actually recommend setting it.", "url": "https://github.com/elastic/elasticsearch/pull/64668#discussion_r519824762", "createdAt": "2020-11-09T13:45:48Z", "author": {"login": "jrodewig"}, "path": "docs/reference/snapshot-restore/register-repository.asciidoc", "diffHunk": "@@ -100,71 +100,20 @@ are left untouched and in place.\n [[snapshots-filesystem-repository]]\n === Shared file system repository\n \n-The shared file system repository (`\"type\": \"fs\"`) uses the shared file system to store snapshots. In order to register\n-the shared file system repository it is necessary to mount the same shared filesystem to the same location on all\n-master and data nodes. This location (or one of its parent directories) must be registered in the `path.repo`\n-setting on all master and data nodes.\n+Use a shared file system repository (`\"type\": \"fs\"`) to store snapshots on a\n+shared file system.\n \n-Assuming that the shared filesystem is mounted to `/mount/backups/my_fs_backup_location`, the following setting should\n-be added to `elasticsearch.yml` file:\n+To register a shared file system repository, first mount the file system to the\n+same location on all master and data nodes. Then add the file system's\n+path or parent directory to the `path.repo` setting in `elasticsearch.yml` for\n+each master and data node. For running clusters, this requires a\n+<<restart-cluster-rolling,rolling restart>> of each node.\n \n-[source,yaml]\n---------------\n-path.repo: [\"/mount/backups\", \"/mount/longterm_backups\"]\n---------------\n-\n-The `path.repo` setting supports Microsoft Windows UNC paths as long as at least server name and share are specified as\n-a prefix and back slashes are properly escaped:\n-\n-[source,yaml]\n---------------\n-path.repo: [\"\\\\\\\\MY_SERVER\\\\Snapshots\"]\n---------------\n-\n-After all nodes are restarted, the following command can be used to register the shared file system repository with\n-the name `my_fs_backup`:\n-\n-[source,console]\n------------------------------------\n-PUT /_snapshot/my_fs_backup\n-{\n-  \"type\": \"fs\",\n-  \"settings\": {\n-    \"location\": \"/mount/backups/my_fs_backup_location\",\n-    \"compress\": true\n-  }\n-}\n------------------------------------\n-// TEST[skip:no access to absolute path]\n-\n-If the repository location is specified as a relative path this path will be resolved against the first path specified\n-in `path.repo`:\n+Supported `path.repo` values vary by platform:\n \n-[source,console]\n------------------------------------\n-PUT /_snapshot/my_fs_backup\n-{\n-  \"type\": \"fs\",\n-  \"settings\": {\n-    \"location\": \"my_fs_backup_location\",\n-    \"compress\": true\n-  }\n-}\n------------------------------------\n-// TEST[continued]\n+include::{es-repo-dir}/tab-widgets/code.asciidoc[]\n \n-The following settings are supported:\n-\n-`location`:: Location of the snapshots. Mandatory.\n-`compress`:: Turns on compression of the snapshot files. Compression is applied only to metadata files (index mapping and settings). Data files are not compressed. Defaults to `true`.\n-`chunk_size`:: Big files can be broken down into chunks during snapshotting if needed. Specify the chunk size as a value and\n-unit, for example: `1GB`, `10MB`, `5KB`, `500B`. Defaults to `null` (unlimited chunk size).\n-`max_restore_bytes_per_sec`:: Throttles per node restore rate. Defaults to unlimited. Note that restores are also throttled through <<recovery,recovery settings>>.\n-`max_snapshot_bytes_per_sec`:: Throttles per node snapshot rate. Defaults to `40mb` per second.\n-`readonly`:: Makes repository read-only.  Defaults to `false`.\n-`max_number_of_snapshots`:: Limits the maximum number of snapshots that the repository may contain. Defaults to `500`. Note that snapshot repositories do not\n-scale indefinitely in size and might lead to master node performance and stability issues if they grow past a certain size. We do not recommend increasing this setting.\n-Instead you should delete older snapshots or use multiple repositories.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02e169b751748025e01629d4c7fb0d3ba81523f2"}, "originalPosition": 77}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTg3OTExMA==", "bodyText": "We should really document it anyway, although I don't think it's been backported to 7.x yet.", "url": "https://github.com/elastic/elasticsearch/pull/64668#discussion_r519879110", "createdAt": "2020-11-09T15:01:50Z", "author": {"login": "DaveCTurner"}, "path": "docs/reference/snapshot-restore/register-repository.asciidoc", "diffHunk": "@@ -100,71 +100,20 @@ are left untouched and in place.\n [[snapshots-filesystem-repository]]\n === Shared file system repository\n \n-The shared file system repository (`\"type\": \"fs\"`) uses the shared file system to store snapshots. In order to register\n-the shared file system repository it is necessary to mount the same shared filesystem to the same location on all\n-master and data nodes. This location (or one of its parent directories) must be registered in the `path.repo`\n-setting on all master and data nodes.\n+Use a shared file system repository (`\"type\": \"fs\"`) to store snapshots on a\n+shared file system.\n \n-Assuming that the shared filesystem is mounted to `/mount/backups/my_fs_backup_location`, the following setting should\n-be added to `elasticsearch.yml` file:\n+To register a shared file system repository, first mount the file system to the\n+same location on all master and data nodes. Then add the file system's\n+path or parent directory to the `path.repo` setting in `elasticsearch.yml` for\n+each master and data node. For running clusters, this requires a\n+<<restart-cluster-rolling,rolling restart>> of each node.\n \n-[source,yaml]\n---------------\n-path.repo: [\"/mount/backups\", \"/mount/longterm_backups\"]\n---------------\n-\n-The `path.repo` setting supports Microsoft Windows UNC paths as long as at least server name and share are specified as\n-a prefix and back slashes are properly escaped:\n-\n-[source,yaml]\n---------------\n-path.repo: [\"\\\\\\\\MY_SERVER\\\\Snapshots\"]\n---------------\n-\n-After all nodes are restarted, the following command can be used to register the shared file system repository with\n-the name `my_fs_backup`:\n-\n-[source,console]\n------------------------------------\n-PUT /_snapshot/my_fs_backup\n-{\n-  \"type\": \"fs\",\n-  \"settings\": {\n-    \"location\": \"/mount/backups/my_fs_backup_location\",\n-    \"compress\": true\n-  }\n-}\n------------------------------------\n-// TEST[skip:no access to absolute path]\n-\n-If the repository location is specified as a relative path this path will be resolved against the first path specified\n-in `path.repo`:\n+Supported `path.repo` values vary by platform:\n \n-[source,console]\n------------------------------------\n-PUT /_snapshot/my_fs_backup\n-{\n-  \"type\": \"fs\",\n-  \"settings\": {\n-    \"location\": \"my_fs_backup_location\",\n-    \"compress\": true\n-  }\n-}\n------------------------------------\n-// TEST[continued]\n+include::{es-repo-dir}/tab-widgets/code.asciidoc[]\n \n-The following settings are supported:\n-\n-`location`:: Location of the snapshots. Mandatory.\n-`compress`:: Turns on compression of the snapshot files. Compression is applied only to metadata files (index mapping and settings). Data files are not compressed. Defaults to `true`.\n-`chunk_size`:: Big files can be broken down into chunks during snapshotting if needed. Specify the chunk size as a value and\n-unit, for example: `1GB`, `10MB`, `5KB`, `500B`. Defaults to `null` (unlimited chunk size).\n-`max_restore_bytes_per_sec`:: Throttles per node restore rate. Defaults to unlimited. Note that restores are also throttled through <<recovery,recovery settings>>.\n-`max_snapshot_bytes_per_sec`:: Throttles per node snapshot rate. Defaults to `40mb` per second.\n-`readonly`:: Makes repository read-only.  Defaults to `false`.\n-`max_number_of_snapshots`:: Limits the maximum number of snapshots that the repository may contain. Defaults to `500`. Note that snapshot repositories do not\n-scale indefinitely in size and might lead to master node performance and stability issues if they grow past a certain size. We do not recommend increasing this setting.\n-Instead you should delete older snapshots or use multiple repositories.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTgyNDc2Mg=="}, "originalCommit": {"oid": "02e169b751748025e01629d4c7fb0d3ba81523f2"}, "originalPosition": 77}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3178, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}