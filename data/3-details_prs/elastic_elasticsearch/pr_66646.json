{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyNzg2Mzc4", "number": 66646, "title": "[DOCS] Fix outdated heap references", "bodyText": "#65905 updated Elasticsearch's default heap settings. #66567 updated the related heap configuration docs.\nThis PR acts as a follow-up to fix other heap references scattered throughout the docs.\nPreviews\n\nHow to size your shards: https://elasticsearch_66646.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/size-your-shards.html#shard-count-recommendation\nHeap size check: https://elasticsearch_66646.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/_heap_size_check.html\nDocker install: https://elasticsearch_66646.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/docker.html#docker-set-heap-size\nWindows install: https://elasticsearch_66646.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/zip-windows.html#windows-service-settings\nSetting JVM options: https://elasticsearch_66646.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/jvm-options.html", "createdAt": "2020-12-18T21:40:23Z", "url": "https://github.com/elastic/elasticsearch/pull/66646", "merged": true, "mergeCommit": {"oid": "e9c1cded982665ca8d600868105f53ec81b71149"}, "closed": true, "closedAt": "2020-12-21T19:01:13Z", "author": {"login": "jrodewig"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdnflFtgBqjQxMzE2MzgxMTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdoaeQRgFqTU1NjU4ODk1Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "669f7de60d0705fe09a48f78d494e6ab97fe5262", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/669f7de60d0705fe09a48f78d494e6ab97fe5262", "committedDate": "2020-12-18T21:26:08Z", "message": "[DOCS] Fix outdated heap references"}, "afterCommit": {"oid": "070dc2e7c516ca85fd3e1cc9233108824e5c4fde", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/070dc2e7c516ca85fd3e1cc9233108824e5c4fde", "committedDate": "2020-12-18T22:07:40Z", "message": "[DOCS] Fix outdated heap references"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "070dc2e7c516ca85fd3e1cc9233108824e5c4fde", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/070dc2e7c516ca85fd3e1cc9233108824e5c4fde", "committedDate": "2020-12-18T22:07:40Z", "message": "[DOCS] Fix outdated heap references"}, "afterCommit": {"oid": "ce4884541a2f4d70022cc9826b041eb86d8ad0be", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/ce4884541a2f4d70022cc9826b041eb86d8ad0be", "committedDate": "2020-12-18T22:18:35Z", "message": "[DOCS] Fix outdated heap references"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ce4884541a2f4d70022cc9826b041eb86d8ad0be", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/ce4884541a2f4d70022cc9826b041eb86d8ad0be", "committedDate": "2020-12-18T22:18:35Z", "message": "[DOCS] Fix outdated heap references"}, "afterCommit": {"oid": "c1fc6a4abef756a0b527d5127ada40a1ed982ae4", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/c1fc6a4abef756a0b527d5127ada40a1ed982ae4", "committedDate": "2020-12-18T22:35:38Z", "message": "[DOCS] Fix outdated heap references"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c1fc6a4abef756a0b527d5127ada40a1ed982ae4", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/c1fc6a4abef756a0b527d5127ada40a1ed982ae4", "committedDate": "2020-12-18T22:35:38Z", "message": "[DOCS] Fix outdated heap references"}, "afterCommit": {"oid": "a8efe87a952d37508b498d74a0e8d09b01953749", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/a8efe87a952d37508b498d74a0e8d09b01953749", "committedDate": "2020-12-18T22:36:07Z", "message": "[DOCS] Fix outdated heap references"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a8efe87a952d37508b498d74a0e8d09b01953749", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/a8efe87a952d37508b498d74a0e8d09b01953749", "committedDate": "2020-12-18T22:36:07Z", "message": "[DOCS] Fix outdated heap references"}, "afterCommit": {"oid": "319f7f263128a28392e61b7e2281bb4b16ff2638", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/319f7f263128a28392e61b7e2281bb4b16ff2638", "committedDate": "2020-12-18T23:09:41Z", "message": "[DOCS] Fix outdated heap references"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "319f7f263128a28392e61b7e2281bb4b16ff2638", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/319f7f263128a28392e61b7e2281bb4b16ff2638", "committedDate": "2020-12-18T23:09:41Z", "message": "[DOCS] Fix outdated heap references"}, "afterCommit": {"oid": "f11215073ebbcbd0a5bef1ed3ce9a8d84b1ad3d5", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/f11215073ebbcbd0a5bef1ed3ce9a8d84b1ad3d5", "committedDate": "2020-12-18T23:15:19Z", "message": "[DOCS] Fix outdated heap references"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f11215073ebbcbd0a5bef1ed3ce9a8d84b1ad3d5", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/f11215073ebbcbd0a5bef1ed3ce9a8d84b1ad3d5", "committedDate": "2020-12-18T23:15:19Z", "message": "[DOCS] Fix outdated heap references"}, "afterCommit": {"oid": "ff5d67bf2ee03559336c4de58ba735525734d9fa", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/ff5d67bf2ee03559336c4de58ba735525734d9fa", "committedDate": "2020-12-18T23:16:52Z", "message": "[DOCS] Fix outdated heap references"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ff5d67bf2ee03559336c4de58ba735525734d9fa", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/ff5d67bf2ee03559336c4de58ba735525734d9fa", "committedDate": "2020-12-18T23:16:52Z", "message": "[DOCS] Fix outdated heap references"}, "afterCommit": {"oid": "73eb82fe41a1ad436ddbfa910517f7c902fe0a98", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/73eb82fe41a1ad436ddbfa910517f7c902fe0a98", "committedDate": "2020-12-18T23:27:58Z", "message": "[DOCS] Fix outdated heap references"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "73eb82fe41a1ad436ddbfa910517f7c902fe0a98", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/73eb82fe41a1ad436ddbfa910517f7c902fe0a98", "committedDate": "2020-12-18T23:27:58Z", "message": "[DOCS] Fix outdated heap references"}, "afterCommit": {"oid": "576145a7194c7006e7b448bc34bd8c0371e7d1a6", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/576145a7194c7006e7b448bc34bd8c0371e7d1a6", "committedDate": "2020-12-18T23:28:33Z", "message": "[DOCS] Fix outdated heap references"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "576145a7194c7006e7b448bc34bd8c0371e7d1a6", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/576145a7194c7006e7b448bc34bd8c0371e7d1a6", "committedDate": "2020-12-18T23:28:33Z", "message": "[DOCS] Fix outdated heap references"}, "afterCommit": {"oid": "04c644b7a6872c8ff2a6caa45c42951f5cb04fb3", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/04c644b7a6872c8ff2a6caa45c42951f5cb04fb3", "committedDate": "2020-12-18T23:35:10Z", "message": "[DOCS] Fix outdated heap references"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "04c644b7a6872c8ff2a6caa45c42951f5cb04fb3", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/04c644b7a6872c8ff2a6caa45c42951f5cb04fb3", "committedDate": "2020-12-18T23:35:10Z", "message": "[DOCS] Fix outdated heap references"}, "afterCommit": {"oid": "4e6a873c8528974f70568f892891f1cb2dc785eb", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/4e6a873c8528974f70568f892891f1cb2dc785eb", "committedDate": "2020-12-18T23:36:21Z", "message": "[DOCS] Fix outdated heap references"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ea216e00c98423bc129a656eabcc7056bb10859", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/8ea216e00c98423bc129a656eabcc7056bb10859", "committedDate": "2020-12-18T23:42:16Z", "message": "[DOCS] Fix outdated heap references"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4e6a873c8528974f70568f892891f1cb2dc785eb", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/4e6a873c8528974f70568f892891f1cb2dc785eb", "committedDate": "2020-12-18T23:36:21Z", "message": "[DOCS] Fix outdated heap references"}, "afterCommit": {"oid": "8ea216e00c98423bc129a656eabcc7056bb10859", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/8ea216e00c98423bc129a656eabcc7056bb10859", "committedDate": "2020-12-18T23:42:16Z", "message": "[DOCS] Fix outdated heap references"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d799e3aa9c9832e4b19871753e273d3f0c28d33", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/1d799e3aa9c9832e4b19871753e273d3f0c28d33", "committedDate": "2020-12-19T00:13:45Z", "message": "Missing word"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5577a6b0521cd57eac583d8cf54b56becfe74f2", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/d5577a6b0521cd57eac583d8cf54b56becfe74f2", "committedDate": "2020-12-19T00:14:17Z", "message": "Missing word"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55195102faea586471c33581ee471a154cccb500", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/55195102faea586471c33581ee471a154cccb500", "committedDate": "2020-12-19T04:17:15Z", "message": "Remove word"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f45aecce73deaee47101e3722234f06bdb074e80", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/f45aecce73deaee47101e3722234f06bdb074e80", "committedDate": "2020-12-19T04:19:05Z", "message": "Add word"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2NTg4OTU2", "url": "https://github.com/elastic/elasticsearch/pull/66646#pullrequestreview-556588956", "createdAt": "2020-12-21T18:44:29Z", "commit": {"oid": "f45aecce73deaee47101e3722234f06bdb074e80"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQxODo0NDozMFrOIJiOgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQxODo0NDozMFrOIJiOgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njg2ODg2NQ==", "bodyText": "Thanks for adding this \ud83d\udc4d", "url": "https://github.com/elastic/elasticsearch/pull/66646#discussion_r546868865", "createdAt": "2020-12-21T18:44:30Z", "author": {"login": "mark-vieira"}, "path": "docs/reference/how-to/size-your-shards.asciidoc", "diffHunk": "@@ -141,22 +141,28 @@ and may tax node resources.\n ==== Aim for 20 shards or fewer per GB of heap memory\n \n The number of shards a node can hold is proportional to the node's\n-<<heap-size,heap memory>>. For example, a node with 30GB of heap memory should\n+heap memory. For example, a node with 30GB of heap memory should\n have at most 600 shards. The further below this limit you can keep your nodes,\n the better. If you find your nodes exceeding more than 20 shards per GB,\n-consider adding another node. You can use the <<cat-shards,cat shards API>> to\n-check the number of shards per node.\n+consider adding another node.\n+\n+To check the current size of each node's heap, use the <<cat-nodes,cat nodes", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f45aecce73deaee47101e3722234f06bdb074e80"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4399, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}