{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4ODc1MTk1", "number": 55766, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxMzowODowOFrOD2rEkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxMzoyNjo1MVrOD2rqsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU4NjU1Mzc4OnYy", "diffSide": "RIGHT", "path": "modules/analysis-common/src/test/java/org/elasticsearch/analysis/common/EdgeNGramTokenFilterFactoryTests.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxMzowODowOFrOGMiOSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxNjoyMzo1NlrOGMsIpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTc5NjgxMQ==", "bodyText": "nit: this seems unused, our checkstyle rules will complain about unused imports, so better to remove it now before running the tests.", "url": "https://github.com/elastic/elasticsearch/pull/55766#discussion_r415796811", "createdAt": "2020-04-27T13:08:08Z", "author": {"login": "cbuescher"}, "path": "modules/analysis-common/src/test/java/org/elasticsearch/analysis/common/EdgeNGramTokenFilterFactoryTests.java", "diffHunk": "@@ -0,0 +1,71 @@\n+/*\n+ * Licensed to Elasticsearch under one or more contributor\n+ * license agreements. See the NOTICE file distributed with\n+ * this work for additional information regarding copyright\n+ * ownership. Elasticsearch licenses this file to you under\n+ * the Apache License, Version 2.0 (the \"License\"); you may\n+ * not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.elasticsearch.analysis.common;\n+\n+import org.apache.lucene.analysis.Tokenizer;\n+import org.apache.lucene.analysis.core.WhitespaceTokenizer;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba598daac8b287435b3d0bd2bb630c150afa4974"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTk1OTIwNg==", "bodyText": "My intelliJ removed unused import wasn't configured for elasticsearch project, enabled it now :)", "url": "https://github.com/elastic/elasticsearch/pull/55766#discussion_r415959206", "createdAt": "2020-04-27T16:23:56Z", "author": {"login": "amitmbm"}, "path": "modules/analysis-common/src/test/java/org/elasticsearch/analysis/common/EdgeNGramTokenFilterFactoryTests.java", "diffHunk": "@@ -0,0 +1,71 @@\n+/*\n+ * Licensed to Elasticsearch under one or more contributor\n+ * license agreements. See the NOTICE file distributed with\n+ * this work for additional information regarding copyright\n+ * ownership. Elasticsearch licenses this file to you under\n+ * the Apache License, Version 2.0 (the \"License\"); you may\n+ * not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.elasticsearch.analysis.common;\n+\n+import org.apache.lucene.analysis.Tokenizer;\n+import org.apache.lucene.analysis.core.WhitespaceTokenizer;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTc5NjgxMQ=="}, "originalCommit": {"oid": "ba598daac8b287435b3d0bd2bb630c150afa4974"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU4NjU1OTUxOnYy", "diffSide": "RIGHT", "path": "docs/reference/analysis/tokenfilters/edgengram-tokenfilter.asciidoc", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxMzowOToyMlrOGMiRyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxNjoyNjozNFrOGMsQig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTc5NzcwNQ==", "bodyText": "nit: wording might be better sth like \"Emits original token then set to true. Defaults to false.", "url": "https://github.com/elastic/elasticsearch/pull/55766#discussion_r415797705", "createdAt": "2020-04-27T13:09:22Z", "author": {"login": "cbuescher"}, "path": "docs/reference/analysis/tokenfilters/edgengram-tokenfilter.asciidoc", "diffHunk": "@@ -173,6 +173,10 @@ See <<analysis-edgengram-tokenfilter-max-gram-limits>>.\n (Optional, integer)\n Minimum character length of a gram. Defaults to `1`.\n \n+`preserve_original`::\n+(Optional, boolean)\n+If set to true then it would also emit the original token. Defaults to `false`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba598daac8b287435b3d0bd2bb630c150afa4974"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTk2MTIyNg==", "bodyText": "changed to Emits original token when set to true. Defaults to false. --> notice changed to when from then in the suggested edit.", "url": "https://github.com/elastic/elasticsearch/pull/55766#discussion_r415961226", "createdAt": "2020-04-27T16:26:34Z", "author": {"login": "amitmbm"}, "path": "docs/reference/analysis/tokenfilters/edgengram-tokenfilter.asciidoc", "diffHunk": "@@ -173,6 +173,10 @@ See <<analysis-edgengram-tokenfilter-max-gram-limits>>.\n (Optional, integer)\n Minimum character length of a gram. Defaults to `1`.\n \n+`preserve_original`::\n+(Optional, boolean)\n+If set to true then it would also emit the original token. Defaults to `false`.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTc5NzcwNQ=="}, "originalCommit": {"oid": "ba598daac8b287435b3d0bd2bb630c150afa4974"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU4NjY0OTU1OnYy", "diffSide": "RIGHT", "path": "modules/analysis-common/src/test/java/org/elasticsearch/analysis/common/EdgeNGramTokenFilterFactoryTests.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxMzoyNjozMVrOGMjFVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxNjoyNzoyMVrOGMsSzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTgxMDkwMQ==", "bodyText": "nit: we usually don't add @author tags to classes or test classes but rely on the commit history rather than code comments to track authors", "url": "https://github.com/elastic/elasticsearch/pull/55766#discussion_r415810901", "createdAt": "2020-04-27T13:26:31Z", "author": {"login": "cbuescher"}, "path": "modules/analysis-common/src/test/java/org/elasticsearch/analysis/common/EdgeNGramTokenFilterFactoryTests.java", "diffHunk": "@@ -0,0 +1,71 @@\n+/*\n+ * Licensed to Elasticsearch under one or more contributor\n+ * license agreements. See the NOTICE file distributed with\n+ * this work for additional information regarding copyright\n+ * ownership. Elasticsearch licenses this file to you under\n+ * the Apache License, Version 2.0 (the \"License\"); you may\n+ * not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.elasticsearch.analysis.common;\n+\n+import org.apache.lucene.analysis.Tokenizer;\n+import org.apache.lucene.analysis.core.WhitespaceTokenizer;\n+import org.apache.lucene.analysis.standard.StandardTokenizer;\n+import org.elasticsearch.common.settings.Settings;\n+import org.elasticsearch.env.Environment;\n+import org.elasticsearch.index.analysis.AnalysisTestsHelper;\n+import org.elasticsearch.index.analysis.TokenFilterFactory;\n+import org.elasticsearch.test.ESTestCase;\n+import org.elasticsearch.test.ESTokenStreamTestCase;\n+\n+import java.io.IOException;\n+import java.io.StringReader;\n+\n+/**\n+ * Test class for edge_ngram token filter.\n+ *\n+ * @author Amit Khandelwal", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba598daac8b287435b3d0bd2bb630c150afa4974"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTk2MTgwNQ==", "bodyText": "Ok, removed it.", "url": "https://github.com/elastic/elasticsearch/pull/55766#discussion_r415961805", "createdAt": "2020-04-27T16:27:21Z", "author": {"login": "amitmbm"}, "path": "modules/analysis-common/src/test/java/org/elasticsearch/analysis/common/EdgeNGramTokenFilterFactoryTests.java", "diffHunk": "@@ -0,0 +1,71 @@\n+/*\n+ * Licensed to Elasticsearch under one or more contributor\n+ * license agreements. See the NOTICE file distributed with\n+ * this work for additional information regarding copyright\n+ * ownership. Elasticsearch licenses this file to you under\n+ * the Apache License, Version 2.0 (the \"License\"); you may\n+ * not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.elasticsearch.analysis.common;\n+\n+import org.apache.lucene.analysis.Tokenizer;\n+import org.apache.lucene.analysis.core.WhitespaceTokenizer;\n+import org.apache.lucene.analysis.standard.StandardTokenizer;\n+import org.elasticsearch.common.settings.Settings;\n+import org.elasticsearch.env.Environment;\n+import org.elasticsearch.index.analysis.AnalysisTestsHelper;\n+import org.elasticsearch.index.analysis.TokenFilterFactory;\n+import org.elasticsearch.test.ESTestCase;\n+import org.elasticsearch.test.ESTokenStreamTestCase;\n+\n+import java.io.IOException;\n+import java.io.StringReader;\n+\n+/**\n+ * Test class for edge_ngram token filter.\n+ *\n+ * @author Amit Khandelwal", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTgxMDkwMQ=="}, "originalCommit": {"oid": "ba598daac8b287435b3d0bd2bb630c150afa4974"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU4NjY1MTM3OnYy", "diffSide": "RIGHT", "path": "modules/analysis-common/src/test/java/org/elasticsearch/analysis/common/EdgeNGramTokenFilterFactoryTests.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxMzoyNjo1MVrOGMjGcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxNjoyODowOVrOGMsVLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTgxMTE4Ng==", "bodyText": "nit: maybe add newline befor first test method.", "url": "https://github.com/elastic/elasticsearch/pull/55766#discussion_r415811186", "createdAt": "2020-04-27T13:26:51Z", "author": {"login": "cbuescher"}, "path": "modules/analysis-common/src/test/java/org/elasticsearch/analysis/common/EdgeNGramTokenFilterFactoryTests.java", "diffHunk": "@@ -0,0 +1,71 @@\n+/*\n+ * Licensed to Elasticsearch under one or more contributor\n+ * license agreements. See the NOTICE file distributed with\n+ * this work for additional information regarding copyright\n+ * ownership. Elasticsearch licenses this file to you under\n+ * the Apache License, Version 2.0 (the \"License\"); you may\n+ * not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.elasticsearch.analysis.common;\n+\n+import org.apache.lucene.analysis.Tokenizer;\n+import org.apache.lucene.analysis.core.WhitespaceTokenizer;\n+import org.apache.lucene.analysis.standard.StandardTokenizer;\n+import org.elasticsearch.common.settings.Settings;\n+import org.elasticsearch.env.Environment;\n+import org.elasticsearch.index.analysis.AnalysisTestsHelper;\n+import org.elasticsearch.index.analysis.TokenFilterFactory;\n+import org.elasticsearch.test.ESTestCase;\n+import org.elasticsearch.test.ESTokenStreamTestCase;\n+\n+import java.io.IOException;\n+import java.io.StringReader;\n+\n+/**\n+ * Test class for edge_ngram token filter.\n+ *\n+ * @author Amit Khandelwal\n+ */\n+public class EdgeNGramTokenFilterFactoryTests extends ESTokenStreamTestCase {\n+    public void testDefault() throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ba598daac8b287435b3d0bd2bb630c150afa4974"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTk2MjQxMg==", "bodyText": "Just observed this in so many other test classes and copy-pasted the initial test setup :). nvm removed this.", "url": "https://github.com/elastic/elasticsearch/pull/55766#discussion_r415962412", "createdAt": "2020-04-27T16:28:09Z", "author": {"login": "amitmbm"}, "path": "modules/analysis-common/src/test/java/org/elasticsearch/analysis/common/EdgeNGramTokenFilterFactoryTests.java", "diffHunk": "@@ -0,0 +1,71 @@\n+/*\n+ * Licensed to Elasticsearch under one or more contributor\n+ * license agreements. See the NOTICE file distributed with\n+ * this work for additional information regarding copyright\n+ * ownership. Elasticsearch licenses this file to you under\n+ * the Apache License, Version 2.0 (the \"License\"); you may\n+ * not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.elasticsearch.analysis.common;\n+\n+import org.apache.lucene.analysis.Tokenizer;\n+import org.apache.lucene.analysis.core.WhitespaceTokenizer;\n+import org.apache.lucene.analysis.standard.StandardTokenizer;\n+import org.elasticsearch.common.settings.Settings;\n+import org.elasticsearch.env.Environment;\n+import org.elasticsearch.index.analysis.AnalysisTestsHelper;\n+import org.elasticsearch.index.analysis.TokenFilterFactory;\n+import org.elasticsearch.test.ESTestCase;\n+import org.elasticsearch.test.ESTokenStreamTestCase;\n+\n+import java.io.IOException;\n+import java.io.StringReader;\n+\n+/**\n+ * Test class for edge_ngram token filter.\n+ *\n+ * @author Amit Khandelwal\n+ */\n+public class EdgeNGramTokenFilterFactoryTests extends ESTokenStreamTestCase {\n+    public void testDefault() throws IOException {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTgxMTE4Ng=="}, "originalCommit": {"oid": "ba598daac8b287435b3d0bd2bb630c150afa4974"}, "originalPosition": 41}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2586, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}