{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1MjA4Njk0", "number": 53262, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwMDozMTo0MFrODmD35w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwMToyMjoyNFrODmD_kw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxMjM1OTQzOnYy", "diffSide": "RIGHT", "path": "server/src/test/java/org/elasticsearch/action/support/GroupedActionListenerTests.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwMDozMTo0MFrOFzSaYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwMToyNzowNlrOFzSkag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMyMzM2MQ==", "bodyText": "NIT: seems like there's a word missing here like \"this test [verifies] that the\"", "url": "https://github.com/elastic/elasticsearch/pull/53262#discussion_r389323361", "createdAt": "2020-03-08T00:31:40Z", "author": {"login": "original-brownbear"}, "path": "server/src/test/java/org/elasticsearch/action/support/GroupedActionListenerTests.java", "diffHunk": "@@ -133,4 +136,21 @@ public void testConcurrentFailures() throws InterruptedException {\n         assertThat(exception, instanceOf(IOException.class));\n         assertEquals(numGroups - 1, exception.getSuppressed().length);\n     }\n+\n+    /*\n+     * It can happen that the same exception causes a grouped listener to be notified of the failure multiple times. Since we suppress\n+     * additional exceptions into the first exception, we have to guard against suppressing into the same exception, which could occur if we\n+     * are notified of with the same failure multiple times. This test that the guard against self-suppression remains.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d11403f45c5c3004ad22ff6edf85e76bc26a574"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMyNTkzMA==", "bodyText": "Thanks. I pushed a commit.", "url": "https://github.com/elastic/elasticsearch/pull/53262#discussion_r389325930", "createdAt": "2020-03-08T01:27:06Z", "author": {"login": "jasontedor"}, "path": "server/src/test/java/org/elasticsearch/action/support/GroupedActionListenerTests.java", "diffHunk": "@@ -133,4 +136,21 @@ public void testConcurrentFailures() throws InterruptedException {\n         assertThat(exception, instanceOf(IOException.class));\n         assertEquals(numGroups - 1, exception.getSuppressed().length);\n     }\n+\n+    /*\n+     * It can happen that the same exception causes a grouped listener to be notified of the failure multiple times. Since we suppress\n+     * additional exceptions into the first exception, we have to guard against suppressing into the same exception, which could occur if we\n+     * are notified of with the same failure multiple times. This test that the guard against self-suppression remains.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMyMzM2MQ=="}, "originalCommit": {"oid": "0d11403f45c5c3004ad22ff6edf85e76bc26a574"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxMjM3OTA3OnYy", "diffSide": "RIGHT", "path": "server/src/test/java/org/elasticsearch/action/support/GroupedActionListenerTests.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwMToyMjoyNFrOFzSjrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwMToyMjoyNFrOFzSjrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMyNTc0MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * are notified of with the same failure multiple times. This test that the guard against self-suppression remains.\n          \n          \n            \n                 * are notified of with the same failure multiple times. This test verifies that the guard against self-suppression remains.", "url": "https://github.com/elastic/elasticsearch/pull/53262#discussion_r389325740", "createdAt": "2020-03-08T01:22:24Z", "author": {"login": "jasontedor"}, "path": "server/src/test/java/org/elasticsearch/action/support/GroupedActionListenerTests.java", "diffHunk": "@@ -133,4 +136,21 @@ public void testConcurrentFailures() throws InterruptedException {\n         assertThat(exception, instanceOf(IOException.class));\n         assertEquals(numGroups - 1, exception.getSuppressed().length);\n     }\n+\n+    /*\n+     * It can happen that the same exception causes a grouped listener to be notified of the failure multiple times. Since we suppress\n+     * additional exceptions into the first exception, we have to guard against suppressing into the same exception, which could occur if we\n+     * are notified of with the same failure multiple times. This test that the guard against self-suppression remains.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0d11403f45c5c3004ad22ff6edf85e76bc26a574"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3359, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}