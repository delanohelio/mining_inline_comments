{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1NzYwOTgw", "number": 58237, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNTo0NTo0OVrOEGaLag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxMDoxMDo0OFrOEGr-jA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MTU1ODE4OnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/elasticsearch/index/mapper/LegacyGeoShapeFieldMapper.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNTo0NTo0OVrOGlL-3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNTo0NTo0OVrOGlL-3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTY0NjgxNA==", "bodyText": "I thought I'd never see a point where we use the settings at this stage in the PR ;-)", "url": "https://github.com/elastic/elasticsearch/pull/58237#discussion_r441646814", "createdAt": "2020-06-17T15:45:49Z", "author": {"login": "cbuescher"}, "path": "server/src/main/java/org/elasticsearch/index/mapper/LegacyGeoShapeFieldMapper.java", "diffHunk": "@@ -420,12 +420,15 @@ public PrefixTreeStrategy resolvePrefixTreeStrategy(String strategyName) {\n         }\n     }\n \n+    private final Version indexCreatedVersion;\n+\n     public LegacyGeoShapeFieldMapper(String simpleName, FieldType fieldType, MappedFieldType mappedFieldType,\n                                      Explicit<Boolean> ignoreMalformed, Explicit<Boolean> coerce, Explicit<Orientation> orientation,\n                                      Explicit<Boolean> ignoreZValue, Settings indexSettings,\n                                      MultiFields multiFields, CopyTo copyTo) {\n-        super(simpleName, fieldType, mappedFieldType, ignoreMalformed, coerce, ignoreZValue, orientation, indexSettings,\n+        super(simpleName, fieldType, mappedFieldType, ignoreMalformed, coerce, ignoreZValue, orientation,\n             multiFields, copyTo);\n+        this.indexCreatedVersion = Version.indexCreated(indexSettings);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9aaff4c5bfbd7ca416f7fe335bd0b7d5f2f4846f"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1NDQ3NDM2OnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/vectors/src/main/java/org/elasticsearch/xpack/vectors/mapper/DenseVectorFieldMapper.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxMDoxMDo0OFrOGlowgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxMDoxMDo0OFrOGlowgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjExODI3NQ==", "bodyText": "Here's the second use!", "url": "https://github.com/elastic/elasticsearch/pull/58237#discussion_r442118275", "createdAt": "2020-06-18T10:10:48Z", "author": {"login": "romseygeek"}, "path": "x-pack/plugin/vectors/src/main/java/org/elasticsearch/xpack/vectors/mapper/DenseVectorFieldMapper.java", "diffHunk": "@@ -144,10 +144,13 @@ public Query termQuery(Object value, QueryShardContext context) {\n         }\n     }\n \n+    private final Version indexCreatedVersion;\n+\n     private DenseVectorFieldMapper(String simpleName, FieldType fieldType, MappedFieldType mappedFieldType,\n                                    Settings indexSettings, MultiFields multiFields, CopyTo copyTo) {\n-        super(simpleName, fieldType, mappedFieldType, indexSettings, multiFields, copyTo);\n+        super(simpleName, fieldType, mappedFieldType, multiFields, copyTo);\n         assert fieldType.indexOptions() == IndexOptions.NONE;\n+        this.indexCreatedVersion = Version.indexCreated(indexSettings);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9aaff4c5bfbd7ca416f7fe335bd0b7d5f2f4846f"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1555, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}