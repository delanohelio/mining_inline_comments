{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0ODIzODU3", "number": 54353, "title": "[Docs] Add HLRC Async Search API documentation", "bodyText": "Adds documentation and a corresponding test case containing typical API usage\nfor the Async Search API to the High Level Rest Client.", "createdAt": "2020-03-27T15:35:40Z", "url": "https://github.com/elastic/elasticsearch/pull/54353", "merged": true, "mergeCommit": {"oid": "610b7bdcbff15f4b566ae74a37c0bb1a789e0235"}, "closed": true, "closedAt": "2020-03-30T13:32:45Z", "author": {"login": "cbuescher"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRygJvAH2gAyMzk0ODIzODU3OmMyNmUzY2RiYjMzNmY5MjM5ZDFiYjMxMmZkZmIxMWQ0YTJlMTYzYzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcSt8w2gH2gAyMzk0ODIzODU3OjgwMThlNDM2ODY3YzM4Njk3YjVjZGRjMzM2MTU5MDUwZmQ3NTkyNDI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c26e3cdbb336f9239d1bb312fdfb11d4a2e163c9", "author": {"user": {"login": "cbuescher", "name": "Christoph B\u00fcscher"}}, "url": "https://github.com/elastic/elasticsearch/commit/c26e3cdbb336f9239d1bb312fdfb11d4a2e163c9", "committedDate": "2020-03-27T15:33:10Z", "message": "[Docs] Add HLRC Async Search API documentation\n\nAdds documentation and a corresponding test case containing typical API usage\nfor the Async Search API to the High Level Rest Client."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f84773d475afd80e48b3d9c4f03bc167aa6f5a2f", "author": {"user": {"login": "cbuescher", "name": "Christoph B\u00fcscher"}}, "url": "https://github.com/elastic/elasticsearch/commit/f84773d475afd80e48b3d9c4f03bc167aa6f5a2f", "committedDate": "2020-03-27T15:49:13Z", "message": "line length"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNjE2NTY4", "url": "https://github.com/elastic/elasticsearch/pull/54353#pullrequestreview-383616568", "createdAt": "2020-03-30T08:06:45Z", "commit": {"oid": "f84773d475afd80e48b3d9c4f03bc167aa6f5a2f"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwODowNjo0NlrOF9eCNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwODowNzo0NVrOF9eEgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTk5OTU0Mw==", "bodyText": "s/resources/results ? I find this description confusing, shall we add what we have in the javadocs or rest spec?", "url": "https://github.com/elastic/elasticsearch/pull/54353#discussion_r399999543", "createdAt": "2020-03-30T08:06:46Z", "author": {"login": "javanna"}, "path": "docs/java-rest/high-level/asyncsearch/submit.asciidoc", "diffHunk": "@@ -0,0 +1,94 @@\n+--\n+:api: asyncsearch-submit\n+:request: SubmitAsyncSearchRequest\n+:response: AsyncSearchResponse\n+--\n+\n+[role=\"xpack\"]\n+[id=\"{upid}-{api}\"]\n+=== Submit Async Search API\n+\n+[id=\"{upid}-{api}-request\"]\n+==== Request\n+\n+A +{request}+ allows to submit an asynchronous search task to\n+the cluster. Required arguments are the `SearchSourceBuilder` defining\n+the search and the target indices:\n+\n+[\"source\",\"java\",subs=\"attributes,callouts,macros\"]\n+--------------------------------------------------\n+include-tagged::{doc-tests-file}[{api}-request]\n+--------------------------------------------------\n+<1> The definition of the search to run\n+<2> The target indices for the search\n+\n+==== Optional arguments\n+The following arguments can optionally be provided:\n+\n+[\"source\",\"java\",subs=\"attributes,callouts,macros\"]\n+--------------------------------------------------\n+include-tagged::{doc-tests-file}[{api}-request-arguments]\n+--------------------------------------------------\n+<1> The minimum time that the request should wait before\n+returning a partial result (defaults to 1 second).\n+<2> The expiration time of the result (defaults to 5 days).\n+<3> Whether the resources should be kept after completion or failure", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f84773d475afd80e48b3d9c4f03bc167aa6f5a2f"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTk5OTcxNg==", "bodyText": "it's more the validity of the request, not just of the result.", "url": "https://github.com/elastic/elasticsearch/pull/54353#discussion_r399999716", "createdAt": "2020-03-30T08:07:04Z", "author": {"login": "javanna"}, "path": "docs/java-rest/high-level/asyncsearch/submit.asciidoc", "diffHunk": "@@ -0,0 +1,94 @@\n+--\n+:api: asyncsearch-submit\n+:request: SubmitAsyncSearchRequest\n+:response: AsyncSearchResponse\n+--\n+\n+[role=\"xpack\"]\n+[id=\"{upid}-{api}\"]\n+=== Submit Async Search API\n+\n+[id=\"{upid}-{api}-request\"]\n+==== Request\n+\n+A +{request}+ allows to submit an asynchronous search task to\n+the cluster. Required arguments are the `SearchSourceBuilder` defining\n+the search and the target indices:\n+\n+[\"source\",\"java\",subs=\"attributes,callouts,macros\"]\n+--------------------------------------------------\n+include-tagged::{doc-tests-file}[{api}-request]\n+--------------------------------------------------\n+<1> The definition of the search to run\n+<2> The target indices for the search\n+\n+==== Optional arguments\n+The following arguments can optionally be provided:\n+\n+[\"source\",\"java\",subs=\"attributes,callouts,macros\"]\n+--------------------------------------------------\n+include-tagged::{doc-tests-file}[{api}-request-arguments]\n+--------------------------------------------------\n+<1> The minimum time that the request should wait before\n+returning a partial result (defaults to 1 second).\n+<2> The expiration time of the result (defaults to 5 days).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f84773d475afd80e48b3d9c4f03bc167aa6f5a2f"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDAwMDEyOA==", "bodyText": "same comment as in the submit API", "url": "https://github.com/elastic/elasticsearch/pull/54353#discussion_r400000128", "createdAt": "2020-03-30T08:07:45Z", "author": {"login": "javanna"}, "path": "docs/java-rest/high-level/asyncsearch/get.asciidoc", "diffHunk": "@@ -0,0 +1,87 @@\n+--\n+:api: asyncsearch-get\n+:request: GetAsyncSearchRequest\n+:response: AsyncSearchResponse\n+--\n+\n+[role=\"xpack\"]\n+[id=\"{upid}-{api}\"]\n+=== Get Async Search API\n+\n+[id=\"{upid}-{api}-request\"]\n+==== Request\n+\n+A +{request}+ allows to get a running asynchronous search task by\n+its id. Required arguments are the `id` of a running async search:\n+\n+[\"source\",\"java\",subs=\"attributes,callouts,macros\"]\n+--------------------------------------------------\n+include-tagged::{doc-tests-file}[{api}-request]\n+--------------------------------------------------\n+\n+==== Optional arguments\n+The following arguments can optionally be provided:\n+\n+[\"source\",\"java\",subs=\"attributes,callouts,macros\"]\n+--------------------------------------------------\n+include-tagged::{doc-tests-file}[{api}-request-arguments]\n+--------------------------------------------------\n+<1> The minimum time that the request should wait before \n+returning a partial result (defaults to no wait).\n+<2> The expiration time of the result (defaults to none).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f84773d475afd80e48b3d9c4f03bc167aa6f5a2f"}, "originalPosition": 31}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7619a4d04f62fa5fac8537e0414ddca240b7bfff", "author": {"user": {"login": "cbuescher", "name": "Christoph B\u00fcscher"}}, "url": "https://github.com/elastic/elasticsearch/commit/7619a4d04f62fa5fac8537e0414ddca240b7bfff", "committedDate": "2020-03-30T09:52:22Z", "message": "iter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81051673739502d8a450285a9956ff0ecfc29f98", "author": {"user": {"login": "cbuescher", "name": "Christoph B\u00fcscher"}}, "url": "https://github.com/elastic/elasticsearch/commit/81051673739502d8a450285a9956ff0ecfc29f98", "committedDate": "2020-03-30T10:08:46Z", "message": "Merge branch 'master' into add-hlrc-asyncsearch-docs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzODE0NzIz", "url": "https://github.com/elastic/elasticsearch/pull/54353#pullrequestreview-383814723", "createdAt": "2020-03-30T12:44:29Z", "commit": {"oid": "81051673739502d8a450285a9956ff0ecfc29f98"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMjo0NDozMFrOF9n5pA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMjo0NDozMFrOF9n5pA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE2MTE4OA==", "bodyText": "LOL, I changed the default one line below but not in the description, thanks for fixing", "url": "https://github.com/elastic/elasticsearch/pull/54353#discussion_r400161188", "createdAt": "2020-03-30T12:44:30Z", "author": {"login": "javanna"}, "path": "x-pack/plugin/src/test/resources/rest-api-spec/api/async_search.submit.json", "diffHunk": "@@ -34,7 +34,7 @@\n       },\n       \"keep_on_completion\":{\n         \"type\":\"boolean\",\n-        \"description\":\"Control whether the response should be stored in the cluster if it completed within the provided [wait_for_completion] time (default: true)\",\n+        \"description\":\"Control whether the response should be stored in the cluster if it completed within the provided [wait_for_completion] time (default: false)\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81051673739502d8a450285a9956ff0ecfc29f98"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzODE0OTc2", "url": "https://github.com/elastic/elasticsearch/pull/54353#pullrequestreview-383814976", "createdAt": "2020-03-30T12:44:49Z", "commit": {"oid": "81051673739502d8a450285a9956ff0ecfc29f98"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMjo0NDo0OVrOF9n6Xg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxMjo0NDo0OVrOF9n6Xg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDE2MTM3NA==", "bodyText": "if the request", "url": "https://github.com/elastic/elasticsearch/pull/54353#discussion_r400161374", "createdAt": "2020-03-30T12:44:49Z", "author": {"login": "javanna"}, "path": "docs/java-rest/high-level/asyncsearch/submit.asciidoc", "diffHunk": "@@ -0,0 +1,94 @@\n+--\n+:api: asyncsearch-submit\n+:request: SubmitAsyncSearchRequest\n+:response: AsyncSearchResponse\n+--\n+\n+[role=\"xpack\"]\n+[id=\"{upid}-{api}\"]\n+=== Submit Async Search API\n+\n+[id=\"{upid}-{api}-request\"]\n+==== Request\n+\n+A +{request}+ allows to submit an asynchronous search task to\n+the cluster. Required arguments are the `SearchSourceBuilder` defining\n+the search and the target indices:\n+\n+[\"source\",\"java\",subs=\"attributes,callouts,macros\"]\n+--------------------------------------------------\n+include-tagged::{doc-tests-file}[{api}-request]\n+--------------------------------------------------\n+<1> The definition of the search to run\n+<2> The target indices for the search\n+\n+==== Optional arguments\n+The following arguments can optionally be provided:\n+\n+[\"source\",\"java\",subs=\"attributes,callouts,macros\"]\n+--------------------------------------------------\n+include-tagged::{doc-tests-file}[{api}-request-arguments]\n+--------------------------------------------------\n+<1> The minimum time that the request should wait before\n+returning a partial result (defaults to 1 second).\n+<2> The expiration time of the request (defaults to 5 days).\n+<3> Controls whether the results should be stored if request completed", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81051673739502d8a450285a9956ff0ecfc29f98"}, "originalPosition": 35}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8018e436867c38697b5cddc336159050fd759242", "author": {"user": {"login": "cbuescher", "name": "Christoph B\u00fcscher"}}, "url": "https://github.com/elastic/elasticsearch/commit/8018e436867c38697b5cddc336159050fd759242", "committedDate": "2020-03-30T12:48:49Z", "message": "iter"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1446, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}