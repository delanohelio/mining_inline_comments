{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMxMDI3NTk3", "number": 65742, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMzo1MDowOFrOE_oKkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMzo1MDoxOFrOE_oK5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MTUzODA4OnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/transform/qa/single-node-tests/src/javaRestTest/java/org/elasticsearch/xpack/transform/integration/TransformUsageIT.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMzo1MDowOFrOH9bx5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMzo1MDowOFrOH9bx5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDE4MDMyNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            // the trigger count can be off: e.g. if the scheduler kicked before usage has been called,\n          \n          \n            \n                            // the trigger count can be off: e.g. if the scheduler kicked in before usage has been called,", "url": "https://github.com/elastic/elasticsearch/pull/65742#discussion_r534180326", "createdAt": "2020-12-02T13:50:08Z", "author": {"login": "przemekwitek"}, "path": "x-pack/plugin/transform/qa/single-node-tests/src/javaRestTest/java/org/elasticsearch/xpack/transform/integration/TransformUsageIT.java", "diffHunk": "@@ -107,12 +103,14 @@ public void testUsage() throws Exception {\n             assertEquals(2, XContentMapValues.extractValue(\"transform.transforms.stopped\", statsMap));\n             assertEquals(1, XContentMapValues.extractValue(\"transform.transforms.started\", statsMap));\n             for (String statName : PROVIDED_STATS) {\n-                // the trigger count can be higher if the scheduler kicked before usage has been called, therefore check for gte\n+                // the trigger count can be off: e.g. if the scheduler kicked before usage has been called,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88cfcee47324f292db35647fa3a9a1104805a087"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1MTUzODkyOnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/transform/qa/single-node-tests/src/javaRestTest/java/org/elasticsearch/xpack/transform/integration/TransformUsageIT.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMzo1MDoxOFrOH9byWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxMzo1MDoxOFrOH9byWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDE4MDQ0MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            // or if the the scheduler triggered later, but state hasn't been persisted (by design)\n          \n          \n            \n                            // or if the scheduler triggered later, but state hasn't been persisted (by design)", "url": "https://github.com/elastic/elasticsearch/pull/65742#discussion_r534180441", "createdAt": "2020-12-02T13:50:18Z", "author": {"login": "przemekwitek"}, "path": "x-pack/plugin/transform/qa/single-node-tests/src/javaRestTest/java/org/elasticsearch/xpack/transform/integration/TransformUsageIT.java", "diffHunk": "@@ -107,12 +103,14 @@ public void testUsage() throws Exception {\n             assertEquals(2, XContentMapValues.extractValue(\"transform.transforms.stopped\", statsMap));\n             assertEquals(1, XContentMapValues.extractValue(\"transform.transforms.started\", statsMap));\n             for (String statName : PROVIDED_STATS) {\n-                // the trigger count can be higher if the scheduler kicked before usage has been called, therefore check for gte\n+                // the trigger count can be off: e.g. if the scheduler kicked before usage has been called,\n+                // or if the the scheduler triggered later, but state hasn't been persisted (by design)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88cfcee47324f292db35647fa3a9a1104805a087"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1804, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}