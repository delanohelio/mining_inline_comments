{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0MDkwNTY1", "number": 60827, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0yOVQwOToxMzowMlrOF4Kjvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0yOVQwOToxMzowMlrOF4Kjvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzk0NDM3NTY2OnYy", "diffSide": "LEFT", "path": "server/src/test/java/org/elasticsearch/transport/CompressibleBytesOutputStreamTests.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0yOVQwOToxMzowMlrOJSBElA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNC0yOVQxMDowNTo1MVrOJSDUTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMjg3MTcwMA==", "bodyText": "For the record, InboundDecoderTests#testCompressedDecode and friends are enough to cover this code now. We rarely() enable compression in internal cluster tests but apparently never in real cluster tests, maybe we should?", "url": "https://github.com/elastic/elasticsearch/pull/60827#discussion_r622871700", "createdAt": "2021-04-29T09:13:02Z", "author": {"login": "DaveCTurner"}, "path": "server/src/test/java/org/elasticsearch/transport/CompressibleBytesOutputStreamTests.java", "diffHunk": "@@ -1,114 +0,0 @@\n-/*\n- * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n- * or more contributor license agreements. Licensed under the Elastic License\n- * 2.0 and the Server Side Public License, v 1; you may not use this file except\n- * in compliance with, at your election, the Elastic License 2.0 or the Server\n- * Side Public License, v 1.\n- */\n-\n-package org.elasticsearch.transport;\n-\n-import org.elasticsearch.common.bytes.BytesReference;\n-import org.elasticsearch.common.compress.CompressorFactory;\n-import org.elasticsearch.common.io.stream.BytesStream;\n-import org.elasticsearch.common.io.stream.BytesStreamOutput;\n-import org.elasticsearch.common.io.stream.InputStreamStreamInput;\n-import org.elasticsearch.common.io.stream.StreamInput;\n-import org.elasticsearch.test.ESTestCase;\n-\n-import java.io.EOFException;\n-import java.io.IOException;\n-\n-public class CompressibleBytesOutputStreamTests extends ESTestCase {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "92896025b9d234031d52a36fc9297a7dfe2a0cb9"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMjkwODQ5NA==", "bodyText": "I once wanted to do this in the REST tests (~2 years ago) and was told we're already randomizing too much :) Maybe it's actually unnecessary since there is not practical difference between real and internal cluster tests here anyway. I'll leave it as is because of past discussions on randomizing more network settings in real cluster tests but I think I'd also be +0 on this. Maybe we can revisit this some other time :)", "url": "https://github.com/elastic/elasticsearch/pull/60827#discussion_r622908494", "createdAt": "2021-04-29T10:05:51Z", "author": {"login": "original-brownbear"}, "path": "server/src/test/java/org/elasticsearch/transport/CompressibleBytesOutputStreamTests.java", "diffHunk": "@@ -1,114 +0,0 @@\n-/*\n- * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n- * or more contributor license agreements. Licensed under the Elastic License\n- * 2.0 and the Server Side Public License, v 1; you may not use this file except\n- * in compliance with, at your election, the Elastic License 2.0 or the Server\n- * Side Public License, v 1.\n- */\n-\n-package org.elasticsearch.transport;\n-\n-import org.elasticsearch.common.bytes.BytesReference;\n-import org.elasticsearch.common.compress.CompressorFactory;\n-import org.elasticsearch.common.io.stream.BytesStream;\n-import org.elasticsearch.common.io.stream.BytesStreamOutput;\n-import org.elasticsearch.common.io.stream.InputStreamStreamInput;\n-import org.elasticsearch.common.io.stream.StreamInput;\n-import org.elasticsearch.test.ESTestCase;\n-\n-import java.io.EOFException;\n-import java.io.IOException;\n-\n-public class CompressibleBytesOutputStreamTests extends ESTestCase {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDYyMjg3MTcwMA=="}, "originalCommit": {"oid": "92896025b9d234031d52a36fc9297a7dfe2a0cb9"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2584, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}