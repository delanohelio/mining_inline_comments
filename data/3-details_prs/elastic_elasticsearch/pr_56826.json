{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4NjM2MDEw", "number": 56826, "title": "Track upload requests on S3 repositories", "bodyText": "Add tracking for regular and multipart uploads.\nRegular uploads are categorized as PUT.\nMulti part uploads are categorized as POST.\nThe number of documents created for the test #testRequestStats\nhave been increased so all upload methods are exercised.", "createdAt": "2020-05-15T14:49:19Z", "url": "https://github.com/elastic/elasticsearch/pull/56826", "merged": true, "mergeCommit": {"oid": "490e9c8d2a9b0be626e1c53144f1df327cfb2bf2"}, "closed": true, "closedAt": "2020-05-18T11:46:40Z", "author": {"login": "fcofdez"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchjL1NgH2gAyNDE4NjM2MDEwOmZjNTEzZDE2ODIxNGI4OTFlZWVhZDMwN2UxYzg1ZGQ4ZDU3MWI3MmI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcic92EAH2gAyNDE4NjM2MDEwOjQ0OWIyMTk2YTAwOTAxMTBhYmE0MGI5ZDYxMWUwY2EzOTQ1ZjRjZTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fc513d168214b891eeead307e1c85dd8d571b72b", "author": {"user": {"login": "fcofdez", "name": "Francisco Fern\u00e1ndez Casta\u00f1o"}}, "url": "https://github.com/elastic/elasticsearch/commit/fc513d168214b891eeead307e1c85dd8d571b72b", "committedDate": "2020-05-15T14:45:11Z", "message": "Track upload requests on S3 repositories\n\nAdd tracking for regular and multipart uploads.\nRegular uploads are categorized as PUT.\nMulti part uploads are categorized as POST.\nThe number of documents created for the test #testRequestStats\nhave been increased so all upload methods are exercised."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyODM4MjQy", "url": "https://github.com/elastic/elasticsearch/pull/56826#pullrequestreview-412838242", "createdAt": "2020-05-15T17:31:59Z", "commit": {"oid": "fc513d168214b891eeead307e1c85dd8d571b72b"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxNzozMTo1OVrOGWNy1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxNzozMTo1OVrOGWNy1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk0Nzg2Mg==", "bodyText": "Remove this :)", "url": "https://github.com/elastic/elasticsearch/pull/56826#discussion_r425947862", "createdAt": "2020-05-15T17:31:59Z", "author": {"login": "original-brownbear"}, "path": "plugins/repository-s3/src/test/java/org/elasticsearch/repositories/s3/S3BlobStoreRepositoryTests.java", "diffHunk": "@@ -284,7 +289,18 @@ public void maybeTrack(final String request) {\n                 trackRequest(\"LIST\");\n             } else if (Regex.simpleMatch(\"GET /*/*\", request)) {\n                 trackRequest(\"GET\");\n+            } else if (isMultiPartUpload(request)) {\n+                trackRequest(\"POST\");\n+            } else if (Regex.simpleMatch(\"PUT /*/*\", request)) {\n+                trackRequest(\"PUT\");\n             }\n         }\n+\n+        //", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fc513d168214b891eeead307e1c85dd8d571b72b"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "734165561459c582f4820c384d642820adb03793", "author": {"user": {"login": "fcofdez", "name": "Francisco Fern\u00e1ndez Casta\u00f1o"}}, "url": "https://github.com/elastic/elasticsearch/commit/734165561459c582f4820c384d642820adb03793", "committedDate": "2020-05-18T08:08:29Z", "message": "Remove dangling comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "449b2196a0090110aba40b9d611e0ca3945f4ce1", "author": {"user": {"login": "fcofdez", "name": "Francisco Fern\u00e1ndez Casta\u00f1o"}}, "url": "https://github.com/elastic/elasticsearch/commit/449b2196a0090110aba40b9d611e0ca3945f4ce1", "committedDate": "2020-05-18T10:04:24Z", "message": "Merge remote-tracking branch 'origin/master' into s3-put-post-api-tracking"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 16, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}