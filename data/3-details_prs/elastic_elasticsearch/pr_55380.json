{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1MDUxNDA4", "number": 55380, "title": "SQL: Streamline declaration of LeafAggs", "bodyText": "Avoid repetition of the aggregation builder setup\nRelates #55241", "createdAt": "2020-04-17T10:25:42Z", "url": "https://github.com/elastic/elasticsearch/pull/55380", "merged": true, "mergeCommit": {"oid": "6cfe130e5da4aac11bad64f187fecc411139f5e2"}, "closed": true, "closedAt": "2020-04-17T12:03:25Z", "author": {"login": "costin"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcYepTkAH2gAyNDA1MDUxNDA4OmY4MzVlYzYxNTM1YTllOWQ1NzBlZmJmMTg3MjJkNDNkNTE4YzVkNDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcYgFGkAH2gAyNDA1MDUxNDA4OjJlM2ZmNWMxZTg1NTMzMzMwMjU2OGQxYmY1NTVkNjQ0MzM4Y2NhMGM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f835ec61535a9e9d570efbf18722d43d518c5d48", "author": {"user": {"login": "costin", "name": "Costin Leau"}}, "url": "https://github.com/elastic/elasticsearch/commit/f835ec61535a9e9d570efbf18722d43d518c5d48", "committedDate": "2020-04-17T10:22:32Z", "message": "SQL: Streamline declaration of LeafAggs\n\nAvoid repetition of the aggregation builder setup\n\nRelates #55241"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk1MzUwNDAy", "url": "https://github.com/elastic/elasticsearch/pull/55380#pullrequestreview-395350402", "createdAt": "2020-04-17T10:44:39Z", "commit": {"oid": "f835ec61535a9e9d570efbf18722d43d518c5d48"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxMDo0NDo0MFrOGHJKbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxMDo0NDo0MFrOGHJKbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDE0MzM0Mw==", "bodyText": "Suggested change", "url": "https://github.com/elastic/elasticsearch/pull/55380#discussion_r410143343", "createdAt": "2020-04-17T10:44:40Z", "author": {"login": "matriv"}, "path": "x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/querydsl/agg/PercentilesAgg.java", "diffHunk": "@@ -6,25 +6,31 @@\n package org.elasticsearch.xpack.sql.querydsl.agg;\n \n import org.elasticsearch.search.aggregations.AggregationBuilder;\n+import org.elasticsearch.search.aggregations.AggregationBuilders;\n import org.elasticsearch.search.aggregations.metrics.PercentilesAggregationBuilder;\n+import org.elasticsearch.search.aggregations.support.ValuesSourceAggregationBuilder;\n \n import java.util.List;\n+import java.util.function.Function;\n \n-import static org.elasticsearch.search.aggregations.AggregationBuilders.percentiles;\n-\n-public class PercentilesAgg extends LeafAgg {\n+public class PercentilesAgg extends DefaultAggSourceLeafAgg {\n \n     private final List<Double> percents;\n \n     public PercentilesAgg(String id, AggSource source, List<Double> percents) {\n         super(id, source);\n         this.percents = percents;\n     }\n-\n+    ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f835ec61535a9e9d570efbf18722d43d518c5d48"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e3ff5c1e855333302568d1bf555d644338cca0c", "author": {"user": {"login": "costin", "name": "Costin Leau"}}, "url": "https://github.com/elastic/elasticsearch/commit/2e3ff5c1e855333302568d1bf555d644338cca0c", "committedDate": "2020-04-17T12:02:48Z", "message": "Remove whitespace"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3284, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}