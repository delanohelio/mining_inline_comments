{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYwNTQzMTU1", "number": 60556, "title": "Refactor extendedBounds to use DoubleBounds", "bodyText": "Refactors extendedBounds to use DoubleBounds instead\nof 2 variables.\nThis is a follow up for #59175", "createdAt": "2020-07-31T21:45:14Z", "url": "https://github.com/elastic/elasticsearch/pull/60556", "merged": true, "mergeCommit": {"oid": "bfc62a419e7cd1f7f8bc0a3026a2f6ecc361fd45"}, "closed": true, "closedAt": "2020-08-04T17:12:40Z", "author": {"login": "imotov"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc6bVG_gH2gAyNDYwNTQzMTU1OjcwM2MyYTczYWIxODA1MjkxYTY4MmY0ZTYzMzA1NjBlMmI5MmExNzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7nsKegH2gAyNDYwNTQzMTU1OjA2MTgyZjc3NmVkYzFkZWM2NzZlNWFjYjMzZGY4YWE1MzEzZmExNmU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "703c2a73ab1805291a682f4e6330560e2b92a173", "author": {"user": {"login": "imotov", "name": "Igor Motov"}}, "url": "https://github.com/elastic/elasticsearch/commit/703c2a73ab1805291a682f4e6330560e2b92a173", "committedDate": "2020-07-31T21:44:11Z", "message": "Refactor extendedBounds to use DoubleBounds\n\nRefactors extendedBounds to use DoubleBounds instead\nof 2 variables.\n\nThis is a follow up for #59175"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ee94c9d7c5e9df94aab44c7e891f7c5ea3c52ce", "author": {"user": {"login": "imotov", "name": "Igor Motov"}}, "url": "https://github.com/elastic/elasticsearch/commit/1ee94c9d7c5e9df94aab44c7e891f7c5ea3c52ce", "committedDate": "2020-08-03T14:50:41Z", "message": "Fix typos"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8fecc088808666eb3f38c0cd6309584d7be7538e", "author": {"user": {"login": "imotov", "name": "Igor Motov"}}, "url": "https://github.com/elastic/elasticsearch/commit/8fecc088808666eb3f38c0cd6309584d7be7538e", "committedDate": "2020-08-03T15:22:08Z", "message": "Fix NPE in bounds comparison"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMjkyMTIw", "url": "https://github.com/elastic/elasticsearch/pull/60556#pullrequestreview-460292120", "createdAt": "2020-08-03T19:41:00Z", "commit": {"oid": "8fecc088808666eb3f38c0cd6309584d7be7538e"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxOTo0MTowMFrOG7GWUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxOTo0MTowMFrOG7GWUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDYyMzE4Nw==", "bodyText": "Nit: Could we provide a default DoubleBounds(null, null) in the constructor, and then just call DoubleBounds#effectiveMin here? (ditto for max and the below usage).  Especially since the logic for what to use for undefined is a little arbitrary (e.g. it's not obvious at a glance why we use POSITIVE_INFINITY instead of NAN), I'd rather just keep that logic in one place if possible.", "url": "https://github.com/elastic/elasticsearch/pull/60556#discussion_r464623187", "createdAt": "2020-08-03T19:41:00Z", "author": {"login": "not-napoleon"}, "path": "server/src/main/java/org/elasticsearch/search/aggregations/bucket/histogram/AbstractHistogramAggregator.java", "diffHunk": "@@ -100,7 +97,10 @@ public AbstractHistogramAggregator(\n \n                 EmptyBucketInfo emptyBucketInfo = null;\n                 if (minDocCount == 0) {\n-                    emptyBucketInfo = new EmptyBucketInfo(interval, offset, minBound, maxBound, buildEmptySubAggregations());\n+                    emptyBucketInfo = new EmptyBucketInfo(interval, offset,\n+                        extendedBounds == null || extendedBounds.getMin() == null ? Double.POSITIVE_INFINITY : extendedBounds.getMin(),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8fecc088808666eb3f38c0cd6309584d7be7538e"}, "originalPosition": 36}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06182f776edc1dec676e5acb33df8aa5313fa16e", "author": {"user": {"login": "imotov", "name": "Igor Motov"}}, "url": "https://github.com/elastic/elasticsearch/commit/06182f776edc1dec676e5acb33df8aa5313fa16e", "committedDate": "2020-08-04T14:42:09Z", "message": "Address review comments"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3596, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}