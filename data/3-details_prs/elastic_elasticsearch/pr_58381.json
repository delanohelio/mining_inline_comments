{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3MTMxNzgy", "number": 58381, "title": "Mirror privileges over data streams to their backing indices", "bodyText": "This PR comprises the core of data streams security integration. It changes the authorization code to extend any privileges granted on a data stream to all of its backing indices. It also introduces an includeDataStreams() flag on any requests implementing IndicesRequest so that they can indicate how data streams should be considered during the authz process for each request. For requests where includeDataStreams() is false, authz will not include any data streams in the list of authorized indices for that request. For requests where includeDataStreams() is true, authz will include any matching data streams along with their respective backing indices in the list of authorized indices.\nNote that @albertzaharovits's comment below (#58381 (comment)) includes another description of the way in which the authz code expands wildcards for requests that include data streams and those that do not.\nRelates to #53100", "createdAt": "2020-06-19T14:26:52Z", "url": "https://github.com/elastic/elasticsearch/pull/58381", "merged": true, "mergeCommit": {"oid": "50ed781c9f0266d473774c4fdac3546b79cab87a"}, "closed": true, "closedAt": "2020-07-03T02:56:17Z", "author": {"login": "danhermann"}, "timelineItems": {"totalCount": 29, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcsesGKAH2gAyNDM3MTMxNzgyOmQzMDQ3NmNmOGEzZjBkNWUzZmEzYzRjMjZhYWYxZGRjMTEyYjdjNjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcxQkZ8gFqTQ0MjMwNDE2Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d30476cf8a3f0d5e3fa3c4c26aaf1ddc112b7c60", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/d30476cf8a3f0d5e3fa3c4c26aaf1ddc112b7c60", "committedDate": "2020-06-18T13:44:04Z", "message": "Change IndicesPermission::authorize to check parent data stream if requested index is a backing index"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc0e9b11185e83b4dd99d01ffb581d9bf1b054ef", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/bc0e9b11185e83b4dd99d01ffb581d9bf1b054ef", "committedDate": "2020-06-18T21:10:52Z", "message": "add REST test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f03278b02565d823bee652d06db9d2b2d8ca9f5", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/1f03278b02565d823bee652d06db9d2b2d8ca9f5", "committedDate": "2020-06-19T14:29:11Z", "message": "add comment to test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c6bac89aa2e8829acd96054c5ca21ab0eededf3", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/3c6bac89aa2e8829acd96054c5ca21ab0eededf3", "committedDate": "2020-06-19T14:49:04Z", "message": "Merge branch 'master' into grant_privs_to_backing_indices"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bd716a5a53c661f1a893b2c2c7c0ff677b082a14", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/bd716a5a53c661f1a893b2c2c7c0ff677b082a14", "committedDate": "2020-06-19T14:51:59Z", "message": "Merge branch 'grant_privs_to_backing_indices' of https://github.com/danhermann/elasticsearch into grant_privs_to_backing_indices"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6073197d756a55dcc7094cfdcc35dee43997cfec", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/6073197d756a55dcc7094cfdcc35dee43997cfec", "committedDate": "2020-06-23T13:41:02Z", "message": "Merge branch 'master' into grant_privs_to_backing_indices"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1ODA5NDQx", "url": "https://github.com/elastic/elasticsearch/pull/58381#pullrequestreview-435809441", "createdAt": "2020-06-23T13:57:06Z", "commit": {"oid": "6073197d756a55dcc7094cfdcc35dee43997cfec"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "948209e2a75db030a3fe5d6275dd6c94754ca9f4", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/948209e2a75db030a3fe5d6275dd6c94754ca9f4", "committedDate": "2020-06-26T21:02:34Z", "message": "Merge branch 'master' into grant_privs_to_backing_indices"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0965e45666c9dda29a6011d42fc8693b37bb9f7", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/e0965e45666c9dda29a6011d42fc8693b37bb9f7", "committedDate": "2020-06-27T20:13:56Z", "message": "recommended security integration implementation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80d7caf7114ce6bfa8a30fef59eff276d47078f4", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/80d7caf7114ce6bfa8a30fef59eff276d47078f4", "committedDate": "2020-06-28T18:56:45Z", "message": "add tests for isIndexVisible"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6caaa1ec2afd849a1be80f77045b8b3173393a28", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/6caaa1ec2afd849a1be80f77045b8b3173393a28", "committedDate": "2020-06-28T19:33:40Z", "message": "add test for resolveAuthorizedIndicesFromRole"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8305c01b34ba0b8a6ca878c0ce589e83f224b18", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/f8305c01b34ba0b8a6ca878c0ce589e83f224b18", "committedDate": "2020-06-28T20:05:31Z", "message": "add test for IndicesPermission::authorize"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "233c0431e7125497e72f974554c4d6b1fecc0788", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/233c0431e7125497e72f974554c4d6b1fecc0788", "committedDate": "2020-06-28T20:31:38Z", "message": "checkstyle!"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5Mzc0MDQ1", "url": "https://github.com/elastic/elasticsearch/pull/58381#pullrequestreview-439374045", "createdAt": "2020-06-29T17:54:54Z", "commit": {"oid": "233c0431e7125497e72f974554c4d6b1fecc0788"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxNzo1NDo1NFrOGqb4eA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxNzo1NDo1NFrOGqb4eA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzE1MDIwMA==", "bodyText": "Suggestion: I would work on the naming and/or javadoc for this to make it clear that such requests over wildcards are meant to (not) expand to data stream names too.", "url": "https://github.com/elastic/elasticsearch/pull/58381#discussion_r447150200", "createdAt": "2020-06-29T17:54:54Z", "author": {"login": "albertzaharovits"}, "path": "server/src/main/java/org/elasticsearch/action/IndicesRequest.java", "diffHunk": "@@ -40,6 +40,13 @@\n      */\n     IndicesOptions indicesOptions();\n \n+    /**\n+     * Determines whether the action should be applied to data streams\n+     */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "233c0431e7125497e72f974554c4d6b1fecc0788"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd8794fc6434f8d8c6556583ea0942b60b73551d", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/dd8794fc6434f8d8c6556583ea0942b60b73551d", "committedDate": "2020-06-29T23:46:54Z", "message": "improve javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79c5e0936687905f5965dc4fc40c6b7e1d08a2c5", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/79c5e0936687905f5965dc4fc40c6b7e1d08a2c5", "committedDate": "2020-06-30T02:42:47Z", "message": "add test case for requests not supporting data streams"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b26c8747166524215540695d6e1e67b09f610ab6", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/b26c8747166524215540695d6e1e67b09f610ab6", "committedDate": "2020-06-30T12:56:39Z", "message": "add includeDataStreams flag to fix failing test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2988f7a1625c747761728cd7c4ee64650c4a3406", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/2988f7a1625c747761728cd7c4ee64650c4a3406", "committedDate": "2020-06-30T13:53:06Z", "message": "unit test fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3800315a164a6c86ba15720b0feb3f488392fe0", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/c3800315a164a6c86ba15720b0feb3f488392fe0", "committedDate": "2020-06-30T15:03:33Z", "message": "remove tests that are no longer valid"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64919133afc6b0c8adfd37f452f307822a77f266", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/64919133afc6b0c8adfd37f452f307822a77f266", "committedDate": "2020-06-30T15:03:59Z", "message": "Merge branch 'master' into grant_privs_to_backing_indices"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa0d1d66c2c0f975358a8748ba447d37a03dc52b", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/fa0d1d66c2c0f975358a8748ba447d37a03dc52b", "committedDate": "2020-06-30T17:10:55Z", "message": "fix failing test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12466c5f99e2a117ff36670452d23f6d4334ed0c", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/12466c5f99e2a117ff36670452d23f6d4334ed0c", "committedDate": "2020-06-30T17:11:46Z", "message": "Merge branch 'master' into grant_privs_to_backing_indices"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "129d01c3d84f46845a9521363c7f6f4ae44024b4", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/129d01c3d84f46845a9521363c7f6f4ae44024b4", "committedDate": "2020-06-30T17:22:32Z", "message": "fix merge conflict"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f1d8ee5fe739718ef06e5bf203d19f0c09f5982", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/8f1d8ee5fe739718ef06e5bf203d19f0c09f5982", "committedDate": "2020-07-02T15:44:46Z", "message": "Merge branch 'master' into grant_privs_to_backing_indices"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98f222b28177ce33826e932e4642747bb2c4eea4", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/98f222b28177ce33826e932e4642747bb2c4eea4", "committedDate": "2020-07-02T17:10:15Z", "message": "fix test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "022c7c14dd66072ecb20d58b6a3f78c032e3962c", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/022c7c14dd66072ecb20d58b6a3f78c032e3962c", "committedDate": "2020-07-02T18:44:27Z", "message": "fix another test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxOTU5MzI5", "url": "https://github.com/elastic/elasticsearch/pull/58381#pullrequestreview-441959329", "createdAt": "2020-07-02T19:15:27Z", "commit": {"oid": "022c7c14dd66072ecb20d58b6a3f78c032e3962c"}, "state": "APPROVED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxOToxNToyN1rOGsaMOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQyMTowNTowOVrOGsc-9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTIxOTY0MQ==", "bodyText": "I would make it an IllegalStateException.", "url": "https://github.com/elastic/elasticsearch/pull/58381#discussion_r449219641", "createdAt": "2020-07-02T19:15:27Z", "author": {"login": "albertzaharovits"}, "path": "x-pack/plugin/security/src/main/java/org/elasticsearch/xpack/security/authz/IndicesAndAliasesResolver.java", "diffHunk": "@@ -412,13 +413,17 @@ private boolean containsWildcards(IndicesRequest indicesRequest) {\n         return finalIndices;\n     }\n \n-    private static boolean isIndexVisible(String expression, String index, IndicesOptions indicesOptions, Metadata metadata) {\n-        return isIndexVisible(expression, index, indicesOptions, metadata, false);\n+    private static boolean isIndexVisible(String expression, String index, IndicesOptions indicesOptions, Metadata metadata,\n+                                          boolean includeDataStreams) {\n+        return isIndexVisible(expression, index, indicesOptions, metadata, includeDataStreams, false);\n     }\n \n     private static boolean isIndexVisible(String expression, String index, IndicesOptions indicesOptions, Metadata metadata,\n-                                          boolean dateMathExpression) {\n+                                          boolean includeDataStreams, boolean dateMathExpression) {\n         IndexAbstraction indexAbstraction = metadata.getIndicesLookup().get(index);\n+        if (indexAbstraction == null) {\n+            return false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "022c7c14dd66072ecb20d58b6a3f78c032e3962c"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTI2MDgxOQ==", "bodyText": "We need to test that RBACEngine.resolveAuthorizedIndicesFromRole:\n\nreturns the list containing the backing indices if the role grants access to a data stream (granting as part of a wildcard or a simple name)\nindices which are not backing indices are not returned when some data stream is covered by the role permission\ngranting access to backing indices (as a wildcard or simple name) does not include the data stream in the list of authorised names\n\nWe need to repeat the tests for when the request works with data streams or not.", "url": "https://github.com/elastic/elasticsearch/pull/58381#discussion_r449260819", "createdAt": "2020-07-02T20:53:21Z", "author": {"login": "albertzaharovits"}, "path": "x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authz/AuthorizedIndicesTests.java", "diffHunk": "@@ -35,7 +37,7 @@\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "022c7c14dd66072ecb20d58b6a3f78c032e3962c"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTI2NTI0OA==", "bodyText": "no backing indices as well.\nBut regular indices and aliases are visible. Same with backing indices.\n(I would expand the namespace granted to by the role to ensure those entities are OK - i.e. I'm not suggesting another test, just a more complete one).\nBut I would also test a simple (not wildcard) data stream name.", "url": "https://github.com/elastic/elasticsearch/pull/58381#discussion_r449265248", "createdAt": "2020-07-02T21:04:47Z", "author": {"login": "albertzaharovits"}, "path": "x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authz/IndicesAndAliasesResolverTests.java", "diffHunk": "@@ -1551,25 +1554,54 @@ public void testDataStreamResolution() {\n             assertThat(resolvedIndices.getRemote(), emptyIterable());\n         }\n         {\n-            final User user = new User(\"data-steam-tester2\", \"data_stream_test2\");\n-            final List<String> authorizedIndices = buildAuthorizedIndices(user, SearchAction.NAME);\n+            final User user = new User(\"data-stream-tester2\", \"data_stream_test2\");\n \n             // Resolve *all* data streams:\n             SearchRequest searchRequest = new SearchRequest();\n             searchRequest.indices(\"logs-*\");\n             searchRequest.indicesOptions(IndicesOptions.fromOptions(false, false, true, false, false, true, true, true, true));\n+            final List<String> authorizedIndices = buildAuthorizedIndices(user, SearchAction.NAME, searchRequest);\n             ResolvedIndices resolvedIndices = defaultIndicesResolver.resolveIndicesAndAliases(searchRequest, metadata, authorizedIndices);\n             assertThat(resolvedIndices.getLocal(), containsInAnyOrder(\"logs-foo\", \"logs-foobar\"));\n             assertThat(resolvedIndices.getRemote(), emptyIterable());\n         }\n     }\n \n+    public void testDataStreamsAreNotVisibleWhenNotIncludedByRequest() {\n+        final User user = new User(\"data-stream-tester2\", \"data_stream_test2\");\n+        GetAliasesRequest request = new GetAliasesRequest(\"*\");\n+        assertThat(request, instanceOf(IndicesRequest.Replaceable.class));\n+        assertThat(request.includeDataStreams(), is(false));\n+\n+        final List<String> authorizedIndices = buildAuthorizedIndices(user, GetAliasesAction.NAME, request);\n+        ResolvedIndices resolvedIndices = defaultIndicesResolver.resolveIndicesAndAliases(request, metadata, authorizedIndices);\n+        assertThat(resolvedIndices.getLocal(), not(hasItem(\"logs-foo\")));\n+        assertThat(resolvedIndices.getLocal(), not(hasItem(\"logs-foobar\")));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "022c7c14dd66072ecb20d58b6a3f78c032e3962c"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTI2NTM5Ng==", "bodyText": "Should include the backing indices as well, right?", "url": "https://github.com/elastic/elasticsearch/pull/58381#discussion_r449265396", "createdAt": "2020-07-02T21:05:09Z", "author": {"login": "albertzaharovits"}, "path": "x-pack/plugin/security/src/test/java/org/elasticsearch/xpack/security/authz/IndicesAndAliasesResolverTests.java", "diffHunk": "@@ -1551,25 +1554,54 @@ public void testDataStreamResolution() {\n             assertThat(resolvedIndices.getRemote(), emptyIterable());\n         }\n         {\n-            final User user = new User(\"data-steam-tester2\", \"data_stream_test2\");\n-            final List<String> authorizedIndices = buildAuthorizedIndices(user, SearchAction.NAME);\n+            final User user = new User(\"data-stream-tester2\", \"data_stream_test2\");\n \n             // Resolve *all* data streams:\n             SearchRequest searchRequest = new SearchRequest();\n             searchRequest.indices(\"logs-*\");\n             searchRequest.indicesOptions(IndicesOptions.fromOptions(false, false, true, false, false, true, true, true, true));\n+            final List<String> authorizedIndices = buildAuthorizedIndices(user, SearchAction.NAME, searchRequest);\n             ResolvedIndices resolvedIndices = defaultIndicesResolver.resolveIndicesAndAliases(searchRequest, metadata, authorizedIndices);\n             assertThat(resolvedIndices.getLocal(), containsInAnyOrder(\"logs-foo\", \"logs-foobar\"));\n             assertThat(resolvedIndices.getRemote(), emptyIterable());\n         }\n     }\n \n+    public void testDataStreamsAreNotVisibleWhenNotIncludedByRequest() {\n+        final User user = new User(\"data-stream-tester2\", \"data_stream_test2\");\n+        GetAliasesRequest request = new GetAliasesRequest(\"*\");\n+        assertThat(request, instanceOf(IndicesRequest.Replaceable.class));\n+        assertThat(request.includeDataStreams(), is(false));\n+\n+        final List<String> authorizedIndices = buildAuthorizedIndices(user, GetAliasesAction.NAME, request);\n+        ResolvedIndices resolvedIndices = defaultIndicesResolver.resolveIndicesAndAliases(request, metadata, authorizedIndices);\n+        assertThat(resolvedIndices.getLocal(), not(hasItem(\"logs-foo\")));\n+        assertThat(resolvedIndices.getLocal(), not(hasItem(\"logs-foobar\")));\n+    }\n+\n+    public void testDataStreamsAreVisibleWhenIncludedByRequest() {\n+        final User user = new User(\"data-stream-tester2\", \"data_stream_test2\");\n+        SearchRequest request = new SearchRequest(\"*\");\n+        assertThat(request, instanceOf(IndicesRequest.Replaceable.class));\n+        assertThat(request.includeDataStreams(), is(true));\n+\n+        final List<String> authorizedIndices = buildAuthorizedIndices(user, SearchAction.NAME, request);\n+        ResolvedIndices resolvedIndices = defaultIndicesResolver.resolveIndicesAndAliases(request, metadata, authorizedIndices);\n+        assertThat(resolvedIndices.getLocal(), hasItem(\"logs-foo\"));\n+        assertThat(resolvedIndices.getLocal(), hasItem(\"logs-foobar\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "022c7c14dd66072ecb20d58b6a3f78c032e3962c"}, "originalPosition": 66}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ba65c932f003ff01d7398b9f40f559951f33970", "author": {"user": {"login": "danhermann", "name": "Dan Hermann"}}, "url": "https://github.com/elastic/elasticsearch/commit/2ba65c932f003ff01d7398b9f40f559951f33970", "committedDate": "2020-07-03T01:41:01Z", "message": "review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyMzA0MTY2", "url": "https://github.com/elastic/elasticsearch/pull/58381#pullrequestreview-442304166", "createdAt": "2020-07-03T10:06:37Z", "commit": {"oid": "2ba65c932f003ff01d7398b9f40f559951f33970"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxMDowNjozN1rOGsrT_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxMDowNjozN1rOGsrT_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTUwMDE1Ng==", "bodyText": "@danhermann Is this change intended? Also the one below for AUTO_RESTART?", "url": "https://github.com/elastic/elasticsearch/pull/58381#discussion_r449500156", "createdAt": "2020-07-03T10:06:37Z", "author": {"login": "ywangd"}, "path": ".idea/runConfigurations/Debug_Elasticsearch.xml", "diffHunk": "@@ -1,11 +1,11 @@\n <component name=\"ProjectRunConfigurationManager\">\n   <configuration default=\"false\" name=\"Debug Elasticsearch\" type=\"Remote\">\n     <option name=\"USE_SOCKET_TRANSPORT\" value=\"true\" />\n-    <option name=\"SERVER_MODE\" value=\"true\" />\n+    <option name=\"SERVER_MODE\" value=\"false\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ba65c932f003ff01d7398b9f40f559951f33970"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 494, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}