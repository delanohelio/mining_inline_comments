{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg3MDA4NTcz", "number": 53448, "title": "migrate tests from MissingIT to MissingAggregatorTests", "bodyText": "Moves the remaining tests for the missing aggregation into its AggregatorTestCase out of its integration test and remove the IT. Figured this was worth doing while working on coverage in this area\nFor #42893", "createdAt": "2020-03-12T02:37:10Z", "url": "https://github.com/elastic/elasticsearch/pull/53448", "merged": true, "mergeCommit": {"oid": "f6d3784b495af1988b202f5a0339917e8bdb3509"}, "closed": true, "closedAt": "2020-03-13T19:28:18Z", "author": {"login": "andyb-elastic"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMyVAJAH2gAyMzg3MDA4NTczOjQ3NmM4N2U1ZGZiM2YzYmVhMzQ4NGY2ZTBiZmMxNmJlYzg2Njk3NDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcNUQQGgH2gAyMzg3MDA4NTczOjdhNzllNzA2NzU5OGRiNjhlZDg1N2E1YzNjZjc4ZjMyZTBjZWE3ZDU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "476c87e5dfb3f3bea3484f6e0bfc16bec8669741", "author": {"user": {"login": "andyb-elastic", "name": "Andy Bristol"}}, "url": "https://github.com/elastic/elasticsearch/commit/476c87e5dfb3f3bea3484f6e0bfc16bec8669741", "committedDate": "2020-03-12T02:31:22Z", "message": "migrate missing agg tests\n\nMove the remaining tests for the missing aggregation into its\nAggregatorTestCase out of its integration test and remove the IT\n\nFor #42893"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczOTM4MTYx", "url": "https://github.com/elastic/elasticsearch/pull/53448#pullrequestreview-373938161", "createdAt": "2020-03-12T22:17:23Z", "commit": {"oid": "476c87e5dfb3f3bea3484f6e0bfc16bec8669741"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQyMjoxNzoyM1rOF1x2hA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQyMjo1NTo0OVrOF1ymyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTkzNTYyMA==", "bodyText": "I'm not sure about this, but could you write (InternalMissing internalMissing) -> { instead of the cast?", "url": "https://github.com/elastic/elasticsearch/pull/53448#discussion_r391935620", "createdAt": "2020-03-12T22:17:23Z", "author": {"login": "nik9000"}, "path": "server/src/test/java/org/elasticsearch/search/aggregations/bucket/missing/MissingAggregatorTests.java", "diffHunk": "@@ -91,7 +104,7 @@ public void testMatchNoDocs() throws IOException {\n                     writer.addDocument(singleton(new SortedNumericDocValuesField(fieldType.name(), randomLong())));\n                 }\n             },\n-            internalMissing -> {\n+            (Consumer<InternalMissing>) internalMissing -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "476c87e5dfb3f3bea3484f6e0bfc16bec8669741"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTk0Nzk3OA==", "bodyText": "Maybe call it result instead of missing because it isn't always InternalMissing.", "url": "https://github.com/elastic/elasticsearch/pull/53448#discussion_r391947978", "createdAt": "2020-03-12T22:55:49Z", "author": {"login": "nik9000"}, "path": "server/src/test/java/org/elasticsearch/search/aggregations/bucket/missing/MissingAggregatorTests.java", "diffHunk": "@@ -427,7 +572,7 @@ private void testCaseWithReduce(Query query,\n             try (IndexReader indexReader = DirectoryReader.open(directory)) {\n                 final IndexSearcher indexSearcher = newSearcher(indexReader, true, true);\n                 final MappedFieldType[] fieldTypesArray = fieldTypes.toArray(new MappedFieldType[0]);\n-                final InternalMissing missing;\n+                final I missing;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "476c87e5dfb3f3bea3484f6e0bfc16bec8669741"}, "originalPosition": 326}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a62ba0b8a200040170b7b9d5939331fb5e47e9d", "author": {"user": {"login": "andyb-elastic", "name": "Andy Bristol"}}, "url": "https://github.com/elastic/elasticsearch/commit/0a62ba0b8a200040170b7b9d5939331fb5e47e9d", "committedDate": "2020-03-12T23:33:28Z", "message": "cleaner style for consumers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd8f478df5a88983a579c635d285132b483a7900", "author": {"user": {"login": "andyb-elastic", "name": "Andy Bristol"}}, "url": "https://github.com/elastic/elasticsearch/commit/fd8f478df5a88983a579c635d285132b483a7900", "committedDate": "2020-03-12T23:34:24Z", "message": "better variable name"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0MzU5Mzk5", "url": "https://github.com/elastic/elasticsearch/pull/53448#pullrequestreview-374359399", "createdAt": "2020-03-13T14:47:12Z", "commit": {"oid": "fd8f478df5a88983a579c635d285132b483a7900"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a79e7067598db68ed857a5c3cf78f32e0cea7d5", "author": {"user": {"login": "andyb-elastic", "name": "Andy Bristol"}}, "url": "https://github.com/elastic/elasticsearch/commit/7a79e7067598db68ed857a5c3cf78f32e0cea7d5", "committedDate": "2020-03-13T18:02:57Z", "message": "Merge branch 'master' into feature-migrate-missing-it"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1512, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}