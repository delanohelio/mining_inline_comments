{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzczODMyMzE4", "number": 52229, "title": "SQL: supplement input checks on received request parameters", "bodyText": "This PR adds two necessary verifications on received parameters:\n\nit checks the validity of the parameter's data type: if the declared\ndata type is resolved to an ES or Java type;\nit checks if the returned converter is non-null (i.e. a conversion is\npossible) and generates an appropriate exception otherwise.", "createdAt": "2020-02-11T19:14:35Z", "url": "https://github.com/elastic/elasticsearch/pull/52229", "merged": true, "mergeCommit": {"oid": "eda30ac9c69383165324328c599ace39ac064342"}, "closed": true, "closedAt": "2020-02-12T16:35:20Z", "author": {"login": "bpintea"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcDWIi5AH2gAyMzczODMyMzE4OjRkNzMyMDMyNzE2Yjc0MjQzZjAxM2NkNGJjYTNiNzlmNGVkZDg5NmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDkAJiAFqTM1NzM1MTkxMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4d732032716b74243f013cd4bca3b79f4edd896c", "author": {"user": {"login": "bpintea", "name": "Bogdan Pintea"}}, "url": "https://github.com/elastic/elasticsearch/commit/4d732032716b74243f013cd4bca3b79f4edd896c", "committedDate": "2020-02-11T18:35:06Z", "message": "Add more checks around parameter conversions\n\nThis commit adds two necessary verifications on received parameters:\n- it checks the validity of the parameter's data type: if the declared\ndata type is resolved to an ES or Java type;\n- it checks if the returned converter is non-null (i.e. a conversion is\npossible) and generates an appropriate exception otherwise."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30055b6e413b89c146b9be2d6c52afa7ec9f88c7", "author": {"user": {"login": "bpintea", "name": "Bogdan Pintea"}}, "url": "https://github.com/elastic/elasticsearch/commit/30055b6e413b89c146b9be2d6c52afa7ec9f88c7", "committedDate": "2020-02-11T19:09:03Z", "message": "Merge branch 'master' into fix/sql_converter_for_literals"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6c149b9fcc4461d303232b9686ab42c54fcce5a", "author": {"user": {"login": "bpintea", "name": "Bogdan Pintea"}}, "url": "https://github.com/elastic/elasticsearch/commit/b6c149b9fcc4461d303232b9686ab42c54fcce5a", "committedDate": "2020-02-11T19:26:53Z", "message": "remove unused import\n\nRemove unused \"import\" resulted from incorrect master merging into\ncurrent branch."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2OTQ5OTg5", "url": "https://github.com/elastic/elasticsearch/pull/52229#pullrequestreview-356949989", "createdAt": "2020-02-11T19:54:52Z", "commit": {"oid": "b6c149b9fcc4461d303232b9686ab42c54fcce5a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2OTU2Mjgx", "url": "https://github.com/elastic/elasticsearch/pull/52229#pullrequestreview-356956281", "createdAt": "2020-02-11T20:04:36Z", "commit": {"oid": "b6c149b9fcc4461d303232b9686ab42c54fcce5a"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQyMDowNDozN1rOFoXRWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQyMDowNDozN1rOFoXRWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Nzg2ODYzMg==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/elastic/elasticsearch/pull/52229#discussion_r377868632", "createdAt": "2020-02-11T20:04:37Z", "author": {"login": "costin"}, "path": "x-pack/plugin/sql/src/main/java/org/elasticsearch/xpack/sql/parser/ExpressionBuilder.java", "diffHunk": "@@ -129,7 +129,8 @@\n \n import static java.util.Collections.emptyList;\n import static java.util.Collections.singletonList;\n-import static org.elasticsearch.xpack.ql.type.DataTypeConverter.converterFor;\n+import static org.elasticsearch.xpack.sql.type.SqlDataTypeConverter.canConvert;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6c149b9fcc4461d303232b9686ab42c54fcce5a"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3MzUxOTEw", "url": "https://github.com/elastic/elasticsearch/pull/52229#pullrequestreview-357351910", "createdAt": "2020-02-12T10:44:36Z", "commit": {"oid": "b6c149b9fcc4461d303232b9686ab42c54fcce5a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2588, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}