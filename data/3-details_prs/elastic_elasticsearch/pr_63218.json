{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3MzUzMTM1", "number": 63218, "title": "EQL: Remove case_sensitive request option and make eql to be case sensitive by default", "bodyText": "Make EQL case sensitive by default and adapt some of the string functions\nRemove the case sensitive option from between string function\nAdd case_insensitive option to term (the new : operator) and wildcard queries (expressions of the form field : \"*abc\") usage\n\nAddresses a part of #62255.", "createdAt": "2020-10-03T23:54:02Z", "url": "https://github.com/elastic/elasticsearch/pull/63218", "merged": true, "mergeCommit": {"oid": "7550e0664c8c2f1f13519036c759b1e76345551f"}, "closed": true, "closedAt": "2020-10-05T13:53:26Z", "author": {"login": "astefan"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdPDdQNAH2gAyNDk3MzUzMTM1OjczNjYxNmJjNmJjNmJhNjQ1N2NkNTQ5YTg0MzFhMTU5NDRkNmFiNGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdPfokUAFqTUwMTgzMjM2NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "736616bc6bc6ba6457cd549a8431a15944d6ab4b", "author": {"user": {"login": "astefan", "name": "Andrei Stefan"}}, "url": "https://github.com/elastic/elasticsearch/commit/736616bc6bc6ba6457cd549a8431a15944d6ab4b", "committedDate": "2020-10-03T23:47:46Z", "message": "Remove case_sensitive request option\nMake EQL case sensitive by default and adapt some of the string functions\nRemove the case sensitive option from Between string function\nAdd case_insensitive option to term and wildcard queries usage"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNzM3Njc4", "url": "https://github.com/elastic/elasticsearch/pull/63218#pullrequestreview-501737678", "createdAt": "2020-10-05T05:54:16Z", "commit": {"oid": "736616bc6bc6ba6457cd549a8431a15944d6ab4b"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwNTo1NDoxNlrOHcOalw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwNTo1NjozMFrOHcOc4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTM1ODM1OQ==", "bodyText": "leftover?", "url": "https://github.com/elastic/elasticsearch/pull/63218#discussion_r499358359", "createdAt": "2020-10-05T05:54:16Z", "author": {"login": "matriv"}, "path": "x-pack/plugin/eql/src/main/java/org/elasticsearch/xpack/eql/expression/function/scalar/string/Between.java", "diffHunk": "@@ -73,12 +73,12 @@ protected TypeResolution resolveType() {\n             return resolution;\n         }\n \n-        resolution = isBoolean(greedy, sourceText(), Expressions.ParamOrdinal.FOURTH);\n-        if (resolution.unresolved()) {\n-            return resolution;\n-        }\n-\n-        return isBoolean(caseSensitive, sourceText(), Expressions.ParamOrdinal.FIFTH);\n+        return isBoolean(greedy, sourceText(), Expressions.ParamOrdinal.FOURTH);\n+//        if (resolution.unresolved()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "736616bc6bc6ba6457cd549a8431a15944d6ab4b"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTM1ODk0Ng==", "bodyText": "I think it's better to have a FIXME here?", "url": "https://github.com/elastic/elasticsearch/pull/63218#discussion_r499358946", "createdAt": "2020-10-05T05:56:30Z", "author": {"login": "matriv"}, "path": "x-pack/plugin/eql/src/test/resources/queryfolder_tests.txt", "diffHunk": "@@ -10,6 +10,8 @@\n // ...\n // <expectation n>\n // ;\n+// NOTE: do not use whitespaces in the relevant parts of the query itself, as they will be removed. For example 'process where process_name : \"System Idle Process\"'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "736616bc6bc6ba6457cd549a8431a15944d6ab4b"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxODMyMzY0", "url": "https://github.com/elastic/elasticsearch/pull/63218#pullrequestreview-501832364", "createdAt": "2020-10-05T08:35:03Z", "commit": {"oid": "736616bc6bc6ba6457cd549a8431a15944d6ab4b"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwODozNTowM1rOHcSyjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQwODozNjowN1rOHcS03A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQzMDAzMQ==", "bodyText": "Same here - for older version we should write true (always case sensitive).", "url": "https://github.com/elastic/elasticsearch/pull/63218#discussion_r499430031", "createdAt": "2020-10-05T08:35:03Z", "author": {"login": "costin"}, "path": "x-pack/plugin/eql/src/main/java/org/elasticsearch/xpack/eql/action/EqlSearchRequest.java", "diffHunk": "@@ -312,7 +299,6 @@ public void writeTo(StreamOutput out) throws IOException {\n             out.writeOptionalTimeValue(keepAlive);\n             out.writeBoolean(keepOnCompletion);\n         }\n-        out.writeBoolean(isCaseSensitive);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "736616bc6bc6ba6457cd549a8431a15944d6ab4b"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTQzMDYyMA==", "bodyText": "This needs to be versions for upgrade scenarios. On the 7.x branch, there should be a :\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    }\n          \n          \n            \n                    }\n          \n          \n            \n            \t\tif (in.getVersion().before(V.7_10_0)) {\n          \n          \n            \n            \t\t\tin.readBoolean();\n          \n          \n            \n            \t\t}\n          \n      \n    \n    \n  \n\nIn master this won't be a problem since upgrades will happen only from the latest 7.x", "url": "https://github.com/elastic/elasticsearch/pull/63218#discussion_r499430620", "createdAt": "2020-10-05T08:36:07Z", "author": {"login": "costin"}, "path": "x-pack/plugin/eql/src/main/java/org/elasticsearch/xpack/eql/action/EqlSearchRequest.java", "diffHunk": "@@ -103,7 +100,6 @@ public EqlSearchRequest(StreamInput in) throws IOException {\n             this.keepAlive = in.readOptionalTimeValue();\n             this.keepOnCompletion = in.readBoolean();\n         }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "736616bc6bc6ba6457cd549a8431a15944d6ab4b"}, "originalPosition": 27}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4381, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}