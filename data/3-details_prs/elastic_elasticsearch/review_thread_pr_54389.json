{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk1Mjg2NTgx", "number": 54389, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwNDo0NzoxMlrODs8chw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwNDo0NzoxMlrODs8chw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4NDU0Mjc5OnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/identity-provider/src/main/java/org/elasticsearch/xpack/idp/saml/rest/action/RestSamlInitiateSingleSignOnAction.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwNDo0NzoxMlrOF-FLOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwOTo0NzozMFrOF-NwSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDY0MDgyNA==", "bodyText": "Is the contract that if error is null then it's a success and if it's non-null then there's a failure?", "url": "https://github.com/elastic/elasticsearch/pull/54389#discussion_r400640824", "createdAt": "2020-03-31T04:47:12Z", "author": {"login": "tvernum"}, "path": "x-pack/plugin/identity-provider/src/main/java/org/elasticsearch/xpack/idp/saml/rest/action/RestSamlInitiateSingleSignOnAction.java", "diffHunk": "@@ -65,6 +65,7 @@ public RestResponse buildResponse(SamlInitiateSingleSignOnResponse response, XCo\n                         builder.startObject();\n                         builder.field(\"post_url\", response.getPostUrl());\n                         builder.field(\"saml_response\", response.getSamlResponse());\n+                        builder.field(\"error\", response.getError());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50e3bc12eb63302b4ace65b26fad2f7816a40807"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDY1NjUyMQ==", "bodyText": "yes. I contemplated adding a boolean isSuccess field but felt like this extra check wouldn't make much sense on the consumer side but I don't feel strongly about it if you think it makes this clearer/easier to consume.", "url": "https://github.com/elastic/elasticsearch/pull/54389#discussion_r400656521", "createdAt": "2020-03-31T05:44:19Z", "author": {"login": "jkakavas"}, "path": "x-pack/plugin/identity-provider/src/main/java/org/elasticsearch/xpack/idp/saml/rest/action/RestSamlInitiateSingleSignOnAction.java", "diffHunk": "@@ -65,6 +65,7 @@ public RestResponse buildResponse(SamlInitiateSingleSignOnResponse response, XCo\n                         builder.startObject();\n                         builder.field(\"post_url\", response.getPostUrl());\n                         builder.field(\"saml_response\", response.getSamlResponse());\n+                        builder.field(\"error\", response.getError());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDY0MDgyNA=="}, "originalCommit": {"oid": "50e3bc12eb63302b4ace65b26fad2f7816a40807"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDY2OTQ4Ng==", "bodyText": "It feels a little weird, but I can't think of anything better, unless we add the saml status as well.", "url": "https://github.com/elastic/elasticsearch/pull/54389#discussion_r400669486", "createdAt": "2020-03-31T06:24:09Z", "author": {"login": "tvernum"}, "path": "x-pack/plugin/identity-provider/src/main/java/org/elasticsearch/xpack/idp/saml/rest/action/RestSamlInitiateSingleSignOnAction.java", "diffHunk": "@@ -65,6 +65,7 @@ public RestResponse buildResponse(SamlInitiateSingleSignOnResponse response, XCo\n                         builder.startObject();\n                         builder.field(\"post_url\", response.getPostUrl());\n                         builder.field(\"saml_response\", response.getSamlResponse());\n+                        builder.field(\"error\", response.getError());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDY0MDgyNA=="}, "originalCommit": {"oid": "50e3bc12eb63302b4ace65b26fad2f7816a40807"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDc4MTM4Ng==", "bodyText": "I ended up doing just that after all", "url": "https://github.com/elastic/elasticsearch/pull/54389#discussion_r400781386", "createdAt": "2020-03-31T09:47:30Z", "author": {"login": "jkakavas"}, "path": "x-pack/plugin/identity-provider/src/main/java/org/elasticsearch/xpack/idp/saml/rest/action/RestSamlInitiateSingleSignOnAction.java", "diffHunk": "@@ -65,6 +65,7 @@ public RestResponse buildResponse(SamlInitiateSingleSignOnResponse response, XCo\n                         builder.startObject();\n                         builder.field(\"post_url\", response.getPostUrl());\n                         builder.field(\"saml_response\", response.getSamlResponse());\n+                        builder.field(\"error\", response.getError());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDY0MDgyNA=="}, "originalCommit": {"oid": "50e3bc12eb63302b4ace65b26fad2f7816a40807"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4051, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}