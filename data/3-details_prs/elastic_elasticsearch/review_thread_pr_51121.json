{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYzNzkyNDEx", "number": 51121, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQyMTowOTozOFrODYpHog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQyMTowOTozOFrODYpHog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI3MTY2MTE0OnYy", "diffSide": "RIGHT", "path": "buildSrc/src/test/java/org/elasticsearch/gradle/BuildPluginIT.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQyMTowOTozOFrOFenohA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QxNjoxMjoyNlrOFe97UQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzY1MDk0OA==", "bodyText": "Path is itself an Iterable so it might be easier to grok this if we replace it with for (Path segment : relativePath) { }.", "url": "https://github.com/elastic/elasticsearch/pull/51121#discussion_r367650948", "createdAt": "2020-01-16T21:09:38Z", "author": {"login": "mark-vieira"}, "path": "buildSrc/src/test/java/org/elasticsearch/gradle/BuildPluginIT.java", "diffHunk": "@@ -84,7 +85,16 @@ public void testInsecureIvyRepository() throws IOException {\n \n     private void runInsecureArtifactRepositoryTest(final String name, final String url, final List<String> lines) throws IOException {\n         final File projectDir = getProjectDir(\"elasticsearch.build\");\n-        FileUtils.copyDirectory(projectDir, tmpDir.getRoot(), pathname -> pathname.getPath().contains(\"/build/\") == false);\n+        final Path projectDirPath = projectDir.toPath();\n+        FileUtils.copyDirectory(projectDir, tmpDir.getRoot(), file -> {\n+            final Path relativePath = projectDirPath.relativize(file.toPath());\n+            for (int i = 0; i < relativePath.getNameCount(); i++) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dbdd127d5454f3a6b96c732163b1082803ba08c"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODAxNjIwOQ==", "bodyText": "Nice, that is a new one to me.", "url": "https://github.com/elastic/elasticsearch/pull/51121#discussion_r368016209", "createdAt": "2020-01-17T16:12:26Z", "author": {"login": "jaymode"}, "path": "buildSrc/src/test/java/org/elasticsearch/gradle/BuildPluginIT.java", "diffHunk": "@@ -84,7 +85,16 @@ public void testInsecureIvyRepository() throws IOException {\n \n     private void runInsecureArtifactRepositoryTest(final String name, final String url, final List<String> lines) throws IOException {\n         final File projectDir = getProjectDir(\"elasticsearch.build\");\n-        FileUtils.copyDirectory(projectDir, tmpDir.getRoot(), pathname -> pathname.getPath().contains(\"/build/\") == false);\n+        final Path projectDirPath = projectDir.toPath();\n+        FileUtils.copyDirectory(projectDir, tmpDir.getRoot(), file -> {\n+            final Path relativePath = projectDirPath.relativize(file.toPath());\n+            for (int i = 0; i < relativePath.getNameCount(); i++) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzY1MDk0OA=="}, "originalCommit": {"oid": "4dbdd127d5454f3a6b96c732163b1082803ba08c"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4492, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}