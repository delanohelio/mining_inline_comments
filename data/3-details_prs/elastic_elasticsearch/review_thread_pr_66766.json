{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0NDExMzYw", "number": 66766, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxMjoyMDoxMlrOFMHO6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxMjoyMDoxMlrOFMHO6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ4MjQ1NzM5OnYy", "diffSide": "RIGHT", "path": "docs/reference/transform/ecommerce-tutorial.asciidoc", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxMjoyMDoxMlrOIPqZrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QxMjoyMDoxMlrOIPqZrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzI5NDI1NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            you delete a  {transform}, its destination index and {kib} index patterns remain.\n          \n          \n            \n            you delete a {transform}, its destination index and {kib} index patterns remain.", "url": "https://github.com/elastic/elasticsearch/pull/66766#discussion_r553294254", "createdAt": "2021-01-07T12:20:12Z", "author": {"login": "przemekwitek"}, "path": "docs/reference/transform/ecommerce-tutorial.asciidoc", "diffHunk": "@@ -254,12 +253,46 @@ image::images/ecommerce-results.png[\"Exploring the new index in {kib}\"]\n \n --\n \n-TIP: If you do not want to keep the {transform}, you can delete it in\n-{kib} or use the\n-<<delete-transform,delete {transform} API>>. When\n-you delete a {transform}, its destination index and {kib} index\n-patterns remain.\n+. Optional: Create another {transform}, this time using the `latest` method.\n++\n+--\n+beta::[]\n+\n+This method populates the destination index with the latest documents for each\n+unique key value. For example, you might want to find the latest orders (sorted\n+by the `order_date` field) for each customer or for each country and region.\n+\n+.API example\n+[%collapsible]\n+====\n+[source,console]\n+--------------------------------------------------\n+POST _transform/_preview\n+{\n+  \"source\": {\n+    \"index\": \"kibana_sample_data_ecommerce\",\n+    \"query\": {\n+      \"bool\": {\n+        \"filter\": {\n+          \"term\": {\"currency\": \"EUR\"}\n+        }\n+      }\n+    }\n+  },\n+  \"latest\": {\n+    \"unique_key\": [\"geoip.country_iso_code\", \"geoip.region_name\"],\n+    \"sort\": \"order_date\"\n+  }\n+}\n+--------------------------------------------------\n+// TEST[skip:set up sample data]\n+====\n+--\n+\n+. If you do not want to keep a {transform}, you can delete it in\n+{kib} or use the <<delete-transform,delete {transform} API>>. By default, when\n+you delete a  {transform}, its destination index and {kib} index patterns remain.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48d1fa642ddcd0022f389439600cf46898945464"}, "originalPosition": 103}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4424, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}