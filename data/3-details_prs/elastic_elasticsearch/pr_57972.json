{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyOTE0MTQ1", "number": 57972, "title": "Add RequestConfig support to RequestOptions", "bodyText": "As RequestOptions add RequestConfig,  users can set some request config per request, e.g socketTimeout.\nWithout RequestConfig, socketTimeout can only set in RestClient init.\nAs different kind of request maybe have different request options, users can set RequestConfig Optional.", "createdAt": "2020-06-11T08:15:08Z", "url": "https://github.com/elastic/elasticsearch/pull/57972", "merged": true, "mergeCommit": {"oid": "974f6e66b69274e7f48d6e3b8d216c2ab3ee68f6"}, "closed": true, "closedAt": "2020-06-29T15:19:05Z", "author": {"login": "weizijun"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqIrJOAH2gAyNDMyOTE0MTQ1OjAzNzQ5OTQ1Yjc2YTE2MzFhOTgzZTJkZTUzM2I2MzkyZTVmNTgxYTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwCl6WAFqTQzOTI0NzYxMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "03749945b76a1631a983e2de533b6392e5f581a0", "author": {"user": {"login": "weizijun", "name": "weizijun"}}, "url": "https://github.com/elastic/elasticsearch/commit/03749945b76a1631a983e2de533b6392e5f581a0", "committedDate": "2020-06-11T06:57:16Z", "message": "add RequestConfig in RequestOptions, this can set request config per request"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b1fa9c2d14ca3af725817dc2353e452175f4610", "author": {"user": {"login": "weizijun", "name": "weizijun"}}, "url": "https://github.com/elastic/elasticsearch/commit/1b1fa9c2d14ca3af725817dc2353e452175f4610", "committedDate": "2020-06-11T07:05:33Z", "message": "add RequestConfig in RequestOptions, this can set request config per request"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d64e3659e074fc40e943a2e7fe6f8f0bd77fdf84", "author": {"user": {"login": "weizijun", "name": "weizijun"}}, "url": "https://github.com/elastic/elasticsearch/commit/d64e3659e074fc40e943a2e7fe6f8f0bd77fdf84", "committedDate": "2020-06-11T07:08:53Z", "message": "add RequestConfig in RequestOptions, this can set request config per request"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71bfec5d7d9c29f0339a344115166ef772f19223", "author": {"user": {"login": "weizijun", "name": "weizijun"}}, "url": "https://github.com/elastic/elasticsearch/commit/71bfec5d7d9c29f0339a344115166ef772f19223", "committedDate": "2020-06-11T08:03:49Z", "message": "add RequestConfig in RequestOptions, this can set request config per request"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3ODYxOTI3", "url": "https://github.com/elastic/elasticsearch/pull/57972#pullrequestreview-437861927", "createdAt": "2020-06-25T21:12:01Z", "commit": {"oid": "71bfec5d7d9c29f0339a344115166ef772f19223"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQyMToxMjowMVrOGpL9lA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQyMToxMjowMVrOGpL9lA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTg0MDc4OA==", "bodyText": "This code is difficult to make sense of quickly; A lot of repeated words like \"Request\" and \"Builder\" in the snippet makes it seem repetitive and a bit hard to find the API boundary between the two config classes. Perhaps it could be reworked to make it easier to read using the fluent methods?\nRequestConfig requestConfig = RequestConfig.custom()\n    .setConnectTimeout(5000)\n    .setSocketTimeout(60000)\n    .build();\nRequestOptions options = RequestOptions.DEFAULT.toBuilder()\n    .setRequestConfig(requestConfig)\n    .build();", "url": "https://github.com/elastic/elasticsearch/pull/57972#discussion_r445840788", "createdAt": "2020-06-25T21:12:01Z", "author": {"login": "jbaiera"}, "path": "client/rest/src/test/java/org/elasticsearch/client/documentation/RestClientDocumentation.java", "diffHunk": "@@ -327,6 +327,15 @@ public void commonConfiguration() throws Exception {\n                     });\n             //end::rest-client-config-timeouts\n         }\n+        {\n+            //tag::rest-client-config-request-options-timeouts\n+            RequestOptions.Builder builder = RequestOptions.DEFAULT.toBuilder();\n+            RequestConfig.Builder requestConfigBuilder = RequestConfig.custom();\n+            requestConfigBuilder.setConnectTimeout(5000).setSocketTimeout(60000);\n+            builder.setRequestConfig(requestConfigBuilder.build());\n+            RequestOptions options = builder.build();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71bfec5d7d9c29f0339a344115166ef772f19223"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0ca43ff1f88e22d1a633aa69ce0849b7bd79756", "author": {"user": {"login": "weizijun", "name": "weizijun"}}, "url": "https://github.com/elastic/elasticsearch/commit/a0ca43ff1f88e22d1a633aa69ce0849b7bd79756", "committedDate": "2020-06-27T15:32:29Z", "message": "add RequestConfig in RequestOptions, this can set request config per request"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2871e9ea04969006f3bd62a8bc9e617c6358e02", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/e2871e9ea04969006f3bd62a8bc9e617c6358e02", "committedDate": "2020-06-27T15:42:40Z", "message": "Merge branch 'master' into feature-RequestOptions-addRequestConfig"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5MjQ3NjEy", "url": "https://github.com/elastic/elasticsearch/pull/57972#pullrequestreview-439247612", "createdAt": "2020-06-29T15:15:40Z", "commit": {"oid": "e2871e9ea04969006f3bd62a8bc9e617c6358e02"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 781, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}