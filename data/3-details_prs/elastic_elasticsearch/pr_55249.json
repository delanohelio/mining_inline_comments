{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzODc4NDc0", "number": 55249, "title": "Remove InferenceConfigUpdate generic parameter", "bodyText": "The generic parameter causes complications as it is expected to be the same type as the generic parameter to LocalModel<T extends InferenceConfig> but because we must pass around bounded wildcard types the complier isn't able to show that the generic parameters are the same. This forces us to use unchecked types in certain places, which is ok as the subclasses of  InferenceConfigUpdate check the expected type when it is used.\nTo simplify the code this change removes the generic type from InferenceConfigUpdate and we rely on checking checking the class type were appropriate.", "createdAt": "2020-04-15T16:57:09Z", "url": "https://github.com/elastic/elasticsearch/pull/55249", "merged": true, "mergeCommit": {"oid": "7d1e0e088d7b7a8e244b64e754ced54599628f02"}, "closed": true, "closedAt": "2020-04-16T11:40:32Z", "author": {"login": "davidkyle"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcX60lMAH2gAyNDAzODc4NDc0OmY0N2I4NjUxMTlkYTc4OGU2NzNiOGI4ZDVkNmY3MDU3NDdlZjY0ZjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcYK-_VgFqTM5NDU0MDg5OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f47b865119da788e673b8b8d5d6f705747ef64f0", "author": {"user": {"login": "davidkyle", "name": "David Kyle"}}, "url": "https://github.com/elastic/elasticsearch/commit/f47b865119da788e673b8b8d5d6f705747ef64f0", "committedDate": "2020-04-15T16:38:16Z", "message": "Make InferenceConfigUpdate non-generic"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e29d6f16714f4a62f4a296514a6665beed7589b", "author": {"user": {"login": "davidkyle", "name": "David Kyle"}}, "url": "https://github.com/elastic/elasticsearch/commit/2e29d6f16714f4a62f4a296514a6665beed7589b", "committedDate": "2020-04-15T17:02:42Z", "message": "Remove unnecessary unchecked"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk0MDA0NzI3", "url": "https://github.com/elastic/elasticsearch/pull/55249#pullrequestreview-394004727", "createdAt": "2020-04-15T17:55:04Z", "commit": {"oid": "2e29d6f16714f4a62f4a296514a6665beed7589b"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNzo1NTowNFrOGGFGKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxNzo1NToyM1rOGGFG_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAyODEzOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            public class LocalModel<T extends InferenceConfig> implements Model {\n          \n          \n            \n            public class LocalModel implements Model {\n          \n      \n    \n    \n  \n\nI think that bounded generic can be removed as well. It does not provide much information now that infer does not reference it.", "url": "https://github.com/elastic/elasticsearch/pull/55249#discussion_r409028139", "createdAt": "2020-04-15T17:55:04Z", "author": {"login": "benwtrent"}, "path": "x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/inference/loadingservice/LocalModel.java", "diffHunk": "@@ -29,7 +29,7 @@\n \n import static org.elasticsearch.xpack.core.ml.job.messages.Messages.INFERENCE_WARNING_ALL_FIELDS_MISSING;\n \n-public class LocalModel<T extends InferenceConfig> implements Model<T> {\n+public class LocalModel<T extends InferenceConfig> implements Model {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e29d6f16714f4a62f4a296514a6665beed7589b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAyODM0OA==", "bodyText": "I think stuff in the model loading service + tests will have to change when this is removed.", "url": "https://github.com/elastic/elasticsearch/pull/55249#discussion_r409028348", "createdAt": "2020-04-15T17:55:23Z", "author": {"login": "benwtrent"}, "path": "x-pack/plugin/ml/src/main/java/org/elasticsearch/xpack/ml/inference/loadingservice/LocalModel.java", "diffHunk": "@@ -29,7 +29,7 @@\n \n import static org.elasticsearch.xpack.core.ml.job.messages.Messages.INFERENCE_WARNING_ALL_FIELDS_MISSING;\n \n-public class LocalModel<T extends InferenceConfig> implements Model<T> {\n+public class LocalModel<T extends InferenceConfig> implements Model {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTAyODEzOQ=="}, "originalCommit": {"oid": "2e29d6f16714f4a62f4a296514a6665beed7589b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b793281a22277533279147fa5d8296fdb9535b0", "author": {"user": {"login": "davidkyle", "name": "David Kyle"}}, "url": "https://github.com/elastic/elasticsearch/commit/8b793281a22277533279147fa5d8296fdb9535b0", "committedDate": "2020-04-15T19:28:38Z", "message": "Make local model non-generic"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk0NTQwODk4", "url": "https://github.com/elastic/elasticsearch/pull/55249#pullrequestreview-394540898", "createdAt": "2020-04-16T11:28:07Z", "commit": {"oid": "8b793281a22277533279147fa5d8296fdb9535b0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3380, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}