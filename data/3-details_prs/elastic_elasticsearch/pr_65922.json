{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzMjg0MDU0", "number": 65922, "title": "Avoid tasks materialized during configuration phase", "bodyText": "Rework more build scripts to make usage of task avoidance api and avoid\nunnecessary task creations across the build to reduce overall configuration overhead.\nAnother major benefit we gain from this is that we now also avoid unnecessary\ntest cluster creation and configuration as these are by default only created\nwhen the according integTest or consumer task is created when requested for execution\nThis brings us another step closer to finish off #56610", "createdAt": "2020-12-06T23:07:16Z", "url": "https://github.com/elastic/elasticsearch/pull/65922", "merged": true, "mergeCommit": {"oid": "defaa9390269404a456adfef232818684002f36f"}, "closed": true, "closedAt": "2020-12-12T15:14:18Z", "author": {"login": "breskeby"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkay-RgBqjQwODg3NzY3NDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdk4GWsAH2gAyNTMzMjg0MDU0OmQ0YjdjMGRjMWNjNGYzYzgzNzkxYmMzMTk4ZTNmNzhjNDRjODM0YTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ff479b276d9a4b4bb7d070285ac9792b806ac5d2", "author": {"user": {"login": "breskeby", "name": "Rene Groeschke"}}, "url": "https://github.com/elastic/elasticsearch/commit/ff479b276d9a4b4bb7d070285ac9792b806ac5d2", "committedDate": "2020-12-08T22:31:59Z", "message": "Port more task configurations to tapi"}, "afterCommit": {"oid": "ec6b8a2f1f67be25e8336d6344d505d9b88c0932", "author": {"user": {"login": "breskeby", "name": "Rene Groeschke"}}, "url": "https://github.com/elastic/elasticsearch/commit/ec6b8a2f1f67be25e8336d6344d505d9b88c0932", "committedDate": "2020-12-09T08:47:50Z", "message": "Fix integTest for smoke test with ssl setup"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ec6b8a2f1f67be25e8336d6344d505d9b88c0932", "author": {"user": {"login": "breskeby", "name": "Rene Groeschke"}}, "url": "https://github.com/elastic/elasticsearch/commit/ec6b8a2f1f67be25e8336d6344d505d9b88c0932", "committedDate": "2020-12-09T08:47:50Z", "message": "Fix integTest for smoke test with ssl setup"}, "afterCommit": {"oid": "f5596033dabc42301a67dff76f2bb5d5a2532e17", "author": {"user": {"login": "breskeby", "name": "Rene Groeschke"}}, "url": "https://github.com/elastic/elasticsearch/commit/f5596033dabc42301a67dff76f2bb5d5a2532e17", "committedDate": "2020-12-09T10:44:04Z", "message": "Minor fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4MjU5ODU2", "url": "https://github.com/elastic/elasticsearch/pull/65922#pullrequestreview-548259856", "createdAt": "2020-12-09T14:49:42Z", "commit": {"oid": "f5596033dabc42301a67dff76f2bb5d5a2532e17"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxNDo0OTo0M1rOICYewA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxNDo0OTo0M1rOICYewA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTM2OTE1Mg==", "bodyText": "Is this change intentional?", "url": "https://github.com/elastic/elasticsearch/pull/65922#discussion_r539369152", "createdAt": "2020-12-09T14:49:43Z", "author": {"login": "pugnascotia"}, "path": "gradle.properties", "diffHunk": "@@ -7,7 +7,7 @@ org.gradle.jvmargs=-XX:+HeapDumpOnOutOfMemoryError -Xss2m\n systemProp.org.gradle.dependency.duplicate.project.detection=false\n \n # Enforce the build to fail on deprecated gradle api usage\n-systemProp.org.gradle.warning.mode=fail\n+# systemProp.org.gradle.warning.mode=fail", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5596033dabc42301a67dff76f2bb5d5a2532e17"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4MjY3MDUz", "url": "https://github.com/elastic/elasticsearch/pull/65922#pullrequestreview-548267053", "createdAt": "2020-12-09T14:56:18Z", "commit": {"oid": "f5596033dabc42301a67dff76f2bb5d5a2532e17"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33504d356dbd179e30e651d5c788a277f48e7789", "author": {"user": {"login": "breskeby", "name": "Rene Groeschke"}}, "url": "https://github.com/elastic/elasticsearch/commit/33504d356dbd179e30e651d5c788a277f48e7789", "committedDate": "2020-12-09T22:30:08Z", "message": "Avoid tasks materialized during configuration phase"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16331e6c7f778e5eac8939c6c47b2aed430d04da", "author": {"user": {"login": "breskeby", "name": "Rene Groeschke"}}, "url": "https://github.com/elastic/elasticsearch/commit/16331e6c7f778e5eac8939c6c47b2aed430d04da", "committedDate": "2020-12-09T22:30:09Z", "message": "Avoid more task creation in config time"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "634f71ea2edff657bf29cf18a72ba9e101d4399f", "author": {"user": {"login": "breskeby", "name": "Rene Groeschke"}}, "url": "https://github.com/elastic/elasticsearch/commit/634f71ea2edff657bf29cf18a72ba9e101d4399f", "committedDate": "2020-12-09T22:30:09Z", "message": "Fix die-with-dignity tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4115aacb99a9981e9bead17f27c97b054cdeaef", "author": {"user": {"login": "breskeby", "name": "Rene Groeschke"}}, "url": "https://github.com/elastic/elasticsearch/commit/e4115aacb99a9981e9bead17f27c97b054cdeaef", "committedDate": "2020-12-09T22:30:09Z", "message": "Fix RestTestFromSnippet testRoot setup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "301527a755dfb50e8de081834658c4f6447bcc46", "author": {"user": {"login": "breskeby", "name": "Rene Groeschke"}}, "url": "https://github.com/elastic/elasticsearch/commit/301527a755dfb50e8de081834658c4f6447bcc46", "committedDate": "2020-12-09T22:30:09Z", "message": "Port more task configurations to proper tapi use"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "839f143e3508dcffc1dbad90f45977ad7da5978e", "author": {"user": {"login": "breskeby", "name": "Rene Groeschke"}}, "url": "https://github.com/elastic/elasticsearch/commit/839f143e3508dcffc1dbad90f45977ad7da5978e", "committedDate": "2020-12-09T22:30:10Z", "message": "Fix configuration of runtime qa integtests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aaf0150f49ee1b80acef761fdbe5b0e4d33e0fbb", "author": {"user": {"login": "breskeby", "name": "Rene Groeschke"}}, "url": "https://github.com/elastic/elasticsearch/commit/aaf0150f49ee1b80acef761fdbe5b0e4d33e0fbb", "committedDate": "2020-12-09T22:30:10Z", "message": "Port more task configurations to tapi"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c69f5d7329d25416255b91b01e4869dd81063c89", "author": {"user": {"login": "breskeby", "name": "Rene Groeschke"}}, "url": "https://github.com/elastic/elasticsearch/commit/c69f5d7329d25416255b91b01e4869dd81063c89", "committedDate": "2020-12-09T22:30:10Z", "message": "Fix integTest for smoke test with ssl setup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb3dac86a9f5994f017763b2176f046ac6161ffb", "author": {"user": {"login": "breskeby", "name": "Rene Groeschke"}}, "url": "https://github.com/elastic/elasticsearch/commit/eb3dac86a9f5994f017763b2176f046ac6161ffb", "committedDate": "2020-12-09T22:30:10Z", "message": "Minor fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5217d45e9a496344ac4fcb387e460316c6ed4b31", "author": {"user": {"login": "breskeby", "name": "Rene Groeschke"}}, "url": "https://github.com/elastic/elasticsearch/commit/5217d45e9a496344ac4fcb387e460316c6ed4b31", "committedDate": "2020-12-09T22:30:11Z", "message": "Reenable fail on deprecation warning"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c08a4e3569630dd9429d81e933a8de15bea259b2", "author": {"user": {"login": "breskeby", "name": "Rene Groeschke"}}, "url": "https://github.com/elastic/elasticsearch/commit/c08a4e3569630dd9429d81e933a8de15bea259b2", "committedDate": "2020-12-09T22:14:22Z", "message": "Reenable fail on deprecation warning"}, "afterCommit": {"oid": "5217d45e9a496344ac4fcb387e460316c6ed4b31", "author": {"user": {"login": "breskeby", "name": "Rene Groeschke"}}, "url": "https://github.com/elastic/elasticsearch/commit/5217d45e9a496344ac4fcb387e460316c6ed4b31", "committedDate": "2020-12-09T22:30:11Z", "message": "Reenable fail on deprecation warning"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4b7c0dc1cc4f3c83791bc3198e3f78c44c834a1", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/d4b7c0dc1cc4f3c83791bc3198e3f78c44c834a1", "committedDate": "2020-12-10T19:00:08Z", "message": "Merge branch 'master' into avoid-task-creation-during-config-phase"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4030, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}