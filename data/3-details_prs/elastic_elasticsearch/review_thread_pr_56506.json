{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2MDM4MDM0", "number": 56506, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQyMDowNzo1OVrOD7YuJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQyMDowNzo1OVrOD7YuJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNTk3NjA3OnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/elasticsearch/action/bulk/BulkRequestParser.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQyMDowNzo1OVrOGTrftQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQyMDoxMzo1M1rOGTrrsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzI4ODc1Nw==", "bodyText": "If we are going to do this, can we at least add a comment here explaining the intent? Specifically noting that this doesn't save on the actual instantiation of the duplicate strings, only on the lifetime of those duplicates (can be GC'd after parsing is complete).", "url": "https://github.com/elastic/elasticsearch/pull/56506#discussion_r423288757", "createdAt": "2020-05-11T20:07:59Z", "author": {"login": "rjernst"}, "path": "server/src/main/java/org/elasticsearch/action/bulk/BulkRequestParser.java", "diffHunk": "@@ -115,6 +118,7 @@ public void parse(\n         int line = 0;\n         int from = 0;\n         byte marker = xContent.streamSeparator();\n+        final Map<String, String> stringDeduplicator = new HashMap<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0056ba4107eeccd441f0c1bbc9156ddcf52ae253"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzI5MTgyNA==", "bodyText": "Sure thing, done in 02e3fc4", "url": "https://github.com/elastic/elasticsearch/pull/56506#discussion_r423291824", "createdAt": "2020-05-11T20:13:53Z", "author": {"login": "original-brownbear"}, "path": "server/src/main/java/org/elasticsearch/action/bulk/BulkRequestParser.java", "diffHunk": "@@ -115,6 +118,7 @@ public void parse(\n         int line = 0;\n         int from = 0;\n         byte marker = xContent.streamSeparator();\n+        final Map<String, String> stringDeduplicator = new HashMap<>();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzI4ODc1Nw=="}, "originalCommit": {"oid": "0056ba4107eeccd441f0c1bbc9156ddcf52ae253"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 528, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}