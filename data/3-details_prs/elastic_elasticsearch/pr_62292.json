{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg2NDU2MjA2", "number": 62292, "title": "Some small cleanups in TermVectorsService", "bodyText": "We removed the use of aggregated stats from term vectors back in #16452, but there's\na bunch of dead code left here which can be stripped out.", "createdAt": "2020-09-14T08:58:05Z", "url": "https://github.com/elastic/elasticsearch/pull/62292", "merged": true, "mergeCommit": {"oid": "5b26cdc036100088a1aa6e1ac899789072263641"}, "closed": true, "closedAt": "2020-09-15T07:59:56Z", "author": {"login": "romseygeek"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdIvHP0gH2gAyNDg2NDU2MjA2OjIxNGM4OWVhYTkyZjM0YTgwOWFiMzUwMmQ1MmI2MTM3MGQ3YjkwOGM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdI2i8KAFqTQ4Nzk4ODM1NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "214c89eaa92f34a809ab3502d52b61370d7b908c", "author": {"user": {"login": "romseygeek", "name": "Alan Woodward"}}, "url": "https://github.com/elastic/elasticsearch/commit/214c89eaa92f34a809ab3502d52b61370d7b908c", "committedDate": "2020-09-14T08:42:05Z", "message": "Some small cleanups in TermVectorsService"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89287c68e5cbb7cab7c837b8070bb845342f5bef", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/89287c68e5cbb7cab7c837b8070bb845342f5bef", "committedDate": "2020-09-14T09:18:10Z", "message": "Merge branch 'master' into termvectors/cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0dedef315e80ba3074fd229cea42ed732095d70", "author": {"user": {"login": "romseygeek", "name": "Alan Woodward"}}, "url": "https://github.com/elastic/elasticsearch/commit/b0dedef315e80ba3074fd229cea42ed732095d70", "committedDate": "2020-09-14T13:57:33Z", "message": "top-level enum"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86b04cdfab2799ade262ddcc87340127a2a0a386", "author": {"user": {"login": "romseygeek", "name": "Alan Woodward"}}, "url": "https://github.com/elastic/elasticsearch/commit/86b04cdfab2799ade262ddcc87340127a2a0a386", "committedDate": "2020-09-14T14:05:14Z", "message": "Merge remote-tracking branch 'romseygeek/termvectors/cleanup' into termvectors/cleanup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3OTAwMjM2", "url": "https://github.com/elastic/elasticsearch/pull/62292#pullrequestreview-487900236", "createdAt": "2020-09-14T15:36:18Z", "commit": {"oid": "86b04cdfab2799ade262ddcc87340127a2a0a386"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3OTAxODM5", "url": "https://github.com/elastic/elasticsearch/pull/62292#pullrequestreview-487901839", "createdAt": "2020-09-14T15:38:04Z", "commit": {"oid": "86b04cdfab2799ade262ddcc87340127a2a0a386"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNTozODowNFrOHRbFNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNTozODowNFrOHRbFNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODAzMTU0Mg==", "bodyText": "I cannot find a relation to the dfs removal for this removed block, probably unrelated, but would you briefly explain to me why this can be removed?", "url": "https://github.com/elastic/elasticsearch/pull/62292#discussion_r488031542", "createdAt": "2020-09-14T15:38:04Z", "author": {"login": "cbuescher"}, "path": "server/src/main/java/org/elasticsearch/index/termvectors/TermVectorsService.java", "diffHunk": "@@ -102,10 +100,6 @@ static TermVectorsResponse getTermVectors(IndexShard indexShard, TermVectorsRequ\n             /* from an artificial document */\n             if (request.doc() != null) {\n                 termVectorsByField = generateTermVectorsFromDoc(indexShard, request);\n-                // if no document indexed in shard, take the queried document itself for stats\n-                if (topLevelFields == null) {\n-                    topLevelFields = termVectorsByField;\n-                }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "86b04cdfab2799ade262ddcc87340127a2a0a386"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3OTg4MzU0", "url": "https://github.com/elastic/elasticsearch/pull/62292#pullrequestreview-487988354", "createdAt": "2020-09-14T17:21:40Z", "commit": {"oid": "86b04cdfab2799ade262ddcc87340127a2a0a386"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4569, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}