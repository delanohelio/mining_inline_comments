{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA2MTc0Njc4", "number": 63899, "title": "[ML] add new flag `exclude_generated` that removes generated fields in GET config APIs", "bodyText": "When exporting and cloning ml configurations in a cluster it can be\nfrustrating to remove all the fields that were generated by\nthe plugin. Especially as the number of these fields change\nfrom version to version.\nThis flag, exclude_generated, allows the GET config APIs to return\nconfigurations with these generated fields removed.\nAPIs supporting this flag:\n\nGET _ml/anomaly_detection/<job_id>\nGET _ml/datafeeds/<datafeed_id>\nGET _ml/data_frame/analytics/<analytics_id>\n\nThe following fields are not returned in the objects:\n\nany field that is not user settable (e.g. version, create_time)\nany field that is a calculated default value (e.g. datafeed chunking_config)\nany field that is automatically set via another Elastic stack process (e.g. anomaly job custom_settings.created_by)\n\nrelates to #63055", "createdAt": "2020-10-19T17:55:01Z", "url": "https://github.com/elastic/elasticsearch/pull/63899", "merged": true, "mergeCommit": {"oid": "c1de07fa83fd0d9e3e307b20661386dfc2e2284d"}, "closed": true, "closedAt": "2020-10-20T15:28:29Z", "author": {"login": "benwtrent"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUH_PgAH2gAyNTA2MTc0Njc4OjcwN2QxYmU1NGM4MTBkYjhlYjc2YWZmOWUzMjQzYzUyYzk4MGU0M2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUZq7PAH2gAyNTA2MTc0Njc4OjJhMzlkZTQ0MDM2NzZhMGIzMmUyNDFkMWI4MDc5OWJkZTZlN2MzYTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "707d1be54c810db8eb76aff9e3243c52c980e43e", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/707d1be54c810db8eb76aff9e3243c52c980e43e", "committedDate": "2020-10-19T17:54:08Z", "message": "[ML] adding new flag exclude_generated that removes generated fields\n\nWhen exporting and cloning ml configurations in a cluster it can be\nfrustrating to remove all the fields that were generated by\nthe plugin. Especially as the number of these fields change\nfrom version to version.\n\nThis flag, remove_generated, allows the GET config APIs to return\nconfigurations with these generated fields removed.\n\nrelates to #63055"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyNTY5NzQ4", "url": "https://github.com/elastic/elasticsearch/pull/63899#pullrequestreview-512569748", "createdAt": "2020-10-20T10:40:42Z", "commit": {"oid": "707d1be54c810db8eb76aff9e3243c52c980e43e"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxMDo0MDo0MlrOHk1-5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxMDo0MTo1MlrOHk2Byw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODM5NTIzOA==", "bodyText": "Same comment as #63093 (comment)", "url": "https://github.com/elastic/elasticsearch/pull/63899#discussion_r508395238", "createdAt": "2020-10-20T10:40:42Z", "author": {"login": "davidkyle"}, "path": "docs/reference/ml/df-analytics/apis/get-trained-models.asciidoc", "diffHunk": "@@ -67,7 +67,9 @@ Specifies whether the included model definition should be returned as a JSON map\n \n `for_export`::\n (Optional, boolean)\n-include::{es-repo-dir}/ml/ml-shared.asciidoc[tag=for-export]\n+Indicates if certain fields should be removed from the model configuration on", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "707d1be54c810db8eb76aff9e3243c52c980e43e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODM5NTk3OQ==", "bodyText": "Can the ml-shared.asciidoc snippit be written in a general enough way to be used here too?\nShouldn't for_export be deprecated for trained models and switch to the exclude_generated flag? Or it that for another PR", "url": "https://github.com/elastic/elasticsearch/pull/63899#discussion_r508395979", "createdAt": "2020-10-20T10:41:52Z", "author": {"login": "davidkyle"}, "path": "docs/reference/ml/df-analytics/apis/get-trained-models.asciidoc", "diffHunk": "@@ -67,7 +67,9 @@ Specifies whether the included model definition should be returned as a JSON map\n \n `for_export`::\n (Optional, boolean)\n-include::{es-repo-dir}/ml/ml-shared.asciidoc[tag=for-export]\n+Indicates if certain fields should be removed from the model configuration on", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODM5NTIzOA=="}, "originalCommit": {"oid": "707d1be54c810db8eb76aff9e3243c52c980e43e"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f97b6dedcf3b77e7254982c91ee67708acc415f1", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/f97b6dedcf3b77e7254982c91ee67708acc415f1", "committedDate": "2020-10-20T13:39:51Z", "message": "changing trained model flag"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyNzQxODcw", "url": "https://github.com/elastic/elasticsearch/pull/63899#pullrequestreview-512741870", "createdAt": "2020-10-20T13:55:06Z", "commit": {"oid": "f97b6dedcf3b77e7254982c91ee67708acc415f1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0cc601ff4bd57c9d442c7b2f460847193c606e4b", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/0cc601ff4bd57c9d442c7b2f460847193c606e4b", "committedDate": "2020-10-20T14:29:49Z", "message": "Merge remote-tracking branch 'upstream/master' into feature/ml-add-flag-for-clone-export"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a39de4403676a0b32e241d1b80799bde6e7c3a3", "author": {"user": {"login": "benwtrent", "name": "Benjamin Trent"}}, "url": "https://github.com/elastic/elasticsearch/commit/2a39de4403676a0b32e241d1b80799bde6e7c3a3", "committedDate": "2020-10-20T14:30:14Z", "message": "fixing test"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3935, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}