{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0MTkyOTIy", "number": 56290, "title": "Add xpack setting deprecations to deprecation API", "bodyText": "The deprecated settings showed up in the deprecation log file by default, but I did not add them to the deprecation API. This commit fixes that. Now if you use one of the deprecated basic feature enablement settings, calling _monitoring/deprecations will inform you of that fact.\nI believe that this takes care of hooking these changes into the upgrade assistant in Kibana. That is, I verified that the upgrade assistant flags these deprecated settings. But if there is more that I need to do, please let me know.\nMeta issue: #54745\nEDIT: We are considering this small, targeted change to be a bugfix for the purposes of the 7.8.0 release", "createdAt": "2020-05-06T16:09:53Z", "url": "https://github.com/elastic/elasticsearch/pull/56290", "merged": true, "mergeCommit": {"oid": "691044e67b964239ca83f04396ddc4c1dce4104c"}, "closed": true, "closedAt": "2020-05-07T14:28:17Z", "author": {"login": "williamrandolph"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceq6DdAH2gAyNDE0MTkyOTIyOmVjODM2NThiNmFlNmZhMmQ2ODM5MDI2NTJlODI3N2RiYTFmNDIwZDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABce9aZTgH2gAyNDE0MTkyOTIyOjg3ZGE0NjBkNmNlOWRkOGUwZjUxZTJiNjhjYzU4ZWFmMjNjNThhNzk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ec83658b6ae6fa2d683902652e8277dba1f420d5", "author": {"user": {"login": "williamrandolph", "name": "William Brafford"}}, "url": "https://github.com/elastic/elasticsearch/commit/ec83658b6ae6fa2d683902652e8277dba1f420d5", "committedDate": "2020-05-06T16:03:14Z", "message": "Add xpack setting deprecations to deprecation API\n\nThe deprecated settings showed up in the deprecation log file by\ndefault, but I did not add them to the deprecation API. This commit\nfixes that. Now if you use one of the deprecated basic feature\nenablement settings, calling _monitoring/deprecations will inform you of\nthat fact."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68068c39855b39f74b4eaaa42fc6f49ad91a6c94", "author": {"user": {"login": "williamrandolph", "name": "William Brafford"}}, "url": "https://github.com/elastic/elasticsearch/commit/68068c39855b39f74b4eaaa42fc6f49ad91a6c94", "committedDate": "2020-05-06T18:28:27Z", "message": "Remove incorrectly backported settings documents\n\nIt seems that I backported these docs to the wrong place in #56061,\nin #55980, and in #56167. I hope they're in the right place now."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2OTE4ODM4", "url": "https://github.com/elastic/elasticsearch/pull/56290#pullrequestreview-406918838", "createdAt": "2020-05-06T19:24:04Z", "commit": {"oid": "68068c39855b39f74b4eaaa42fc6f49ad91a6c94"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxOToyNDowNVrOGRiAdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxOToyNDowNVrOGRiAdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTAzNjE1MA==", "bodyText": "The short description has to be a one liner. The following change should render correctly.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            .In {es} 7.8.0, the following settings no longer have any effect, and\n          \n          \n            \n            have been deprecated:\n          \n          \n            \n            \n          \n          \n            \n            * `xpack.enrich.enabled`\n          \n          \n            \n            * `xpack.flattened.enabled`\n          \n          \n            \n            * `xpack.ilm.enabled`\n          \n          \n            \n            * `xpack.monitoring.enabled`\n          \n          \n            \n            * `xpack.rollup.enabled`\n          \n          \n            \n            * `xpack.slm.enabled`\n          \n          \n            \n            * `xpack.sql.enabled`\n          \n          \n            \n            * `xpack.transform.enabled`\n          \n          \n            \n            * `xpack.vectors.enabled`\n          \n          \n            \n            \n          \n          \n            \n            [%collapsible]\n          \n          \n            \n            ====\n          \n          \n            \n            *Details* +\n          \n          \n            \n            Previously, these settings could be set to `false` in order to disable the\n          \n          \n            \n            feature's APIs in a cluster. As of 7.8.0, these basic license features are\n          \n          \n            \n            always enabled for the {default-dist}.\n          \n          \n            \n            .Several {xpack} settings no longer have any effect and are deprecated. \n          \n          \n            \n            \n          \n          \n            \n            [%collapsible]\n          \n          \n            \n            ====\n          \n          \n            \n            *Details* +\n          \n          \n            \n            Basic {xpack} license features are always enabled for the {default-dist} \n          \n          \n            \n            and the following settings no longer have any effect: \n          \n          \n            \n            \n          \n          \n            \n            * `xpack.enrich.enabled`\n          \n          \n            \n            * `xpack.flattened.enabled`\n          \n          \n            \n            * `xpack.ilm.enabled`\n          \n          \n            \n            * `xpack.monitoring.enabled`\n          \n          \n            \n            * `xpack.rollup.enabled`\n          \n          \n            \n            * `xpack.slm.enabled`\n          \n          \n            \n            * `xpack.sql.enabled`\n          \n          \n            \n            * `xpack.transform.enabled`\n          \n          \n            \n            * `xpack.vectors.enabled`\n          \n          \n            \n            \n          \n          \n            \n            Previously, they could be set to `false` to disable the feature's APIs in a cluster.", "url": "https://github.com/elastic/elasticsearch/pull/56290#discussion_r421036150", "createdAt": "2020-05-06T19:24:05Z", "author": {"login": "debadair"}, "path": "docs/reference/migration/migrate_7_8.asciidoc", "diffHunk": "@@ -92,6 +92,35 @@ To avoid deprecation warnings, discontinue use of the `node.local_storage`\n setting.\n ====\n \n+[[deprecate-basic-license-feature-enabled]]\n+\n+.In {es} 7.8.0, the following settings no longer have any effect, and\n+have been deprecated:\n+\n+* `xpack.enrich.enabled`\n+* `xpack.flattened.enabled`\n+* `xpack.ilm.enabled`\n+* `xpack.monitoring.enabled`\n+* `xpack.rollup.enabled`\n+* `xpack.slm.enabled`\n+* `xpack.sql.enabled`\n+* `xpack.transform.enabled`\n+* `xpack.vectors.enabled`\n+\n+[%collapsible]\n+====\n+*Details* +\n+Previously, these settings could be set to `false` in order to disable the\n+feature's APIs in a cluster. As of 7.8.0, these basic license features are\n+always enabled for the {default-dist}.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "68068c39855b39f74b4eaaa42fc6f49ad91a6c94"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2OTU5MDkz", "url": "https://github.com/elastic/elasticsearch/pull/56290#pullrequestreview-406959093", "createdAt": "2020-05-06T20:24:16Z", "commit": {"oid": "68068c39855b39f74b4eaaa42fc6f49ad91a6c94"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87da460d6ce9dd8e0f51e2b68cc58eaf23c58a79", "author": {"user": {"login": "williamrandolph", "name": "William Brafford"}}, "url": "https://github.com/elastic/elasticsearch/commit/87da460d6ce9dd8e0f51e2b68cc58eaf23c58a79", "committedDate": "2020-05-07T13:36:51Z", "message": "Update docs/reference/migration/migrate_7_8.asciidoc\n\nCo-authored-by: debadair <debadair@elastic.co>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 296, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}