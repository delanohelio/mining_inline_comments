{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1MjYxMTkx", "number": 57378, "title": "Refactor how to determine if a field is metafield", "bodyText": "Before to determine if a field is meta-field, a static method of MapperService\nisMetadataField was used. This method was using an outdated static list\nof meta-fields.\nThis PR instead changes this method to the instance method that\nis also aware of meta-fields in all registered plugins.\nRelated #38373, #41656\nCloses #24422", "createdAt": "2020-05-29T18:31:53Z", "url": "https://github.com/elastic/elasticsearch/pull/57378", "merged": true, "mergeCommit": {"oid": "b68bd78a53af064f9c1253f6c81228310e792af1"}, "closed": true, "closedAt": "2020-06-05T13:57:44Z", "author": {"login": "mayya-sharipova"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcmHlzjAH2gAyNDI1MjYxMTkxOjNkZTYyNzI0N2VlZDVlNGZjY2Q0MzJhZTRiMTY3NTg0OGUzOWFlODM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcoEO_lgH2gAyNDI1MjYxMTkxOmFjNmE0YmM0YjQxNzMxYWEzMDU1MWNlNThhNDcyYzBiZjhlMzVmZGI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3de627247eed5e4fccd432ae4b1675848e39ae83", "author": {"user": {"login": "mayya-sharipova", "name": "Mayya Sharipova"}}, "url": "https://github.com/elastic/elasticsearch/commit/3de627247eed5e4fccd432ae4b1675848e39ae83", "committedDate": "2020-05-29T19:25:50Z", "message": "Refactor how to determine if a field is metafield\n\nBefore to determine if a field is meta-field, a static method of MapperService\nisMetadataField was used. This method was using an outdated static list\nof meta-fields.\n\nThis PR instead changes this method to the instance method that\nis also aware of meta-fields in all registered plugins.\n\nRelated #38373, #41656\nCloses #24422"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0e39f1bdca2bd319abc663f1e07f510cb7c069b1", "author": {"user": {"login": "mayya-sharipova", "name": "Mayya Sharipova"}}, "url": "https://github.com/elastic/elasticsearch/commit/0e39f1bdca2bd319abc663f1e07f510cb7c069b1", "committedDate": "2020-05-29T18:30:14Z", "message": "Refactor how to determine if a field is metafield\n\nBefore to determine if a field is meta-field, a static method of MapperService\nisMetadataField was used. This method was using an outdated static list\nof meta-fields.\n\nThis PR instead changes this method to the instance method that\nis also aware of meta-fields in all registered plugins.\n\nRelated #38373, #41656\nCloses #24422"}, "afterCommit": {"oid": "3de627247eed5e4fccd432ae4b1675848e39ae83", "author": {"user": {"login": "mayya-sharipova", "name": "Mayya Sharipova"}}, "url": "https://github.com/elastic/elasticsearch/commit/3de627247eed5e4fccd432ae4b1675848e39ae83", "committedDate": "2020-05-29T19:25:50Z", "message": "Refactor how to determine if a field is metafield\n\nBefore to determine if a field is meta-field, a static method of MapperService\nisMetadataField was used. This method was using an outdated static list\nof meta-fields.\n\nThis PR instead changes this method to the instance method that\nis also aware of meta-fields in all registered plugins.\n\nRelated #38373, #41656\nCloses #24422"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyNzI1Njk1", "url": "https://github.com/elastic/elasticsearch/pull/57378#pullrequestreview-422725695", "createdAt": "2020-06-02T14:17:21Z", "commit": {"oid": "3de627247eed5e4fccd432ae4b1675848e39ae83"}, "state": "COMMENTED", "comments": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNDoxNzoyMVrOGdz7Ew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNzowMjowNVrOGd7UBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzkxMjU5NQ==", "bodyText": "suggestion: maybe having two methods would be clearer to read: setMetaDataField, setDocumentField? Or is this method used a lot or maybe by users so the API change would be bad? I think we mostly use it internally? Just throwing this out, maybe this makes code at the call sites uglier...", "url": "https://github.com/elastic/elasticsearch/pull/57378#discussion_r433912595", "createdAt": "2020-06-02T14:17:21Z", "author": {"login": "cbuescher"}, "path": "server/src/main/java/org/elasticsearch/search/SearchHit.java", "diffHunk": "@@ -449,17 +442,28 @@ public String getSourceAsString() {\n      * The hit field matching the given field name.\n      */\n     public DocumentField field(String fieldName) {\n-        return getFields().get(fieldName);\n+        DocumentField result = documentFields.get(fieldName);\n+        if (result != null) {\n+            return result;\n+        } else {\n+            return metaFields.get(fieldName);\n+        }\n+    }\n+\n+    public boolean isMetadataField(String fieldName) {\n+        return metaFields.containsKey(fieldName);\n     }\n \n     /*\n     * Adds a new DocumentField to the map in case both parameters are not null.\n     * */\n-    public void setField(String fieldName, DocumentField field) {\n+    public void setField(String fieldName, DocumentField field, boolean isMetaField) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3de627247eed5e4fccd432ae4b1675848e39ae83"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzkxNzE3Ng==", "bodyText": "If I read this method right, fieldName should be either FIELD_NAME_PREFIX or FIELD_NAME_PREFIX + \"_\" + percolateQuery.getName(), which I'm not sure if they are meta or document fields, but that should be fixed, so maybe we don't need to ask the mapperService here? That would also mean call sites don't have to pass it in.", "url": "https://github.com/elastic/elasticsearch/pull/57378#discussion_r433917176", "createdAt": "2020-06-02T14:23:33Z", "author": {"login": "cbuescher"}, "path": "modules/percolator/src/main/java/org/elasticsearch/percolator/PercolatorMatchedSlotSubFetchPhase.java", "diffHunk": "@@ -101,13 +101,9 @@ static void innerHitsExecute(Query mainQuery,\n                     continue;\n                 }\n \n-                Map<String, DocumentField> fields = hit.fieldsOrNull();\n-                if (fields == null) {\n-                    fields = new HashMap<>();\n-                    hit.fields(fields);\n-                }\n                 IntStream slots = convertTopDocsToSlots(topDocs, rootDocsBySlot);\n-                hit.setField(fieldName, new DocumentField(fieldName, slots.boxed().collect(Collectors.toList())));\n+                hit.setField(fieldName, new DocumentField(fieldName, slots.boxed().collect(Collectors.toList())),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3de627247eed5e4fccd432ae4b1675848e39ae83"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzkyMTEyMg==", "bodyText": "Do we need to test that \"_routing\" is a meta data field here?", "url": "https://github.com/elastic/elasticsearch/pull/57378#discussion_r433921122", "createdAt": "2020-06-02T14:28:51Z", "author": {"login": "cbuescher"}, "path": "server/src/internalClusterTest/java/org/elasticsearch/search/fields/SearchFieldsIT.java", "diffHunk": "@@ -659,7 +659,7 @@ public void testSearchFieldsMetadata() throws Exception {\n \n         assertThat(searchResponse.getHits().getTotalHits().value, equalTo(1L));\n         assertThat(searchResponse.getHits().getAt(0).field(\"field1\"), nullValue());\n-        assertThat(searchResponse.getHits().getAt(0).field(\"_routing\").isMetadataField(), equalTo(true));\n+        assertThat(searchResponse.getHits().getAt(0).isMetadataField(\"_routing\"), equalTo(true));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3de627247eed5e4fccd432ae4b1675848e39ae83"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzkyNDExNg==", "bodyText": "Do we need this method? I think its only used in tests atm, we can ask MapperService directly there if needed.", "url": "https://github.com/elastic/elasticsearch/pull/57378#discussion_r433924116", "createdAt": "2020-06-02T14:32:57Z", "author": {"login": "cbuescher"}, "path": "server/src/main/java/org/elasticsearch/search/SearchHit.java", "diffHunk": "@@ -449,17 +442,28 @@ public String getSourceAsString() {\n      * The hit field matching the given field name.\n      */\n     public DocumentField field(String fieldName) {\n-        return getFields().get(fieldName);\n+        DocumentField result = documentFields.get(fieldName);\n+        if (result != null) {\n+            return result;\n+        } else {\n+            return metaFields.get(fieldName);\n+        }\n+    }\n+\n+    public boolean isMetadataField(String fieldName) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3de627247eed5e4fccd432ae4b1675848e39ae83"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAxMjQwOA==", "bodyText": "Is this because the maps might be an immutable empty map? I would be interested why you chose this over simply new HashMap() e.g in the ctor, isn't it highly likely that we add meta-fields at some point (e.g. _index etc...)? I think I'd prefer using a modifiable map in ctor / deserialization in that case from the start just to make things simpler.", "url": "https://github.com/elastic/elasticsearch/pull/57378#discussion_r434012408", "createdAt": "2020-06-02T16:28:17Z", "author": {"login": "cbuescher"}, "path": "server/src/main/java/org/elasticsearch/search/SearchHit.java", "diffHunk": "@@ -449,17 +442,28 @@ public String getSourceAsString() {\n      * The hit field matching the given field name.\n      */\n     public DocumentField field(String fieldName) {\n-        return getFields().get(fieldName);\n+        DocumentField result = documentFields.get(fieldName);\n+        if (result != null) {\n+            return result;\n+        } else {\n+            return metaFields.get(fieldName);\n+        }\n+    }\n+\n+    public boolean isMetadataField(String fieldName) {\n+        return metaFields.containsKey(fieldName);\n     }\n \n     /*\n     * Adds a new DocumentField to the map in case both parameters are not null.\n     * */\n-    public void setField(String fieldName, DocumentField field) {\n+    public void setField(String fieldName, DocumentField field, boolean isMetaField) {\n         if (fieldName == null || field == null) return;\n-        if (field.isMetadataField()) {\n+        if (isMetaField) {\n+            if (metaFields.size() == 0) this.metaFields = new HashMap<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3de627247eed5e4fccd432ae4b1675848e39ae83"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAxMjkxNg==", "bodyText": "same here, although it seems that docomentFields are less likely to contain sth. if I'm not mistaken? Still, I think just using a modifiable map here from the start makes things easier without much cost, wdyt?", "url": "https://github.com/elastic/elasticsearch/pull/57378#discussion_r434012916", "createdAt": "2020-06-02T16:29:07Z", "author": {"login": "cbuescher"}, "path": "server/src/main/java/org/elasticsearch/search/SearchHit.java", "diffHunk": "@@ -449,17 +442,28 @@ public String getSourceAsString() {\n      * The hit field matching the given field name.\n      */\n     public DocumentField field(String fieldName) {\n-        return getFields().get(fieldName);\n+        DocumentField result = documentFields.get(fieldName);\n+        if (result != null) {\n+            return result;\n+        } else {\n+            return metaFields.get(fieldName);\n+        }\n+    }\n+\n+    public boolean isMetadataField(String fieldName) {\n+        return metaFields.containsKey(fieldName);\n     }\n \n     /*\n     * Adds a new DocumentField to the map in case both parameters are not null.\n     * */\n-    public void setField(String fieldName, DocumentField field) {\n+    public void setField(String fieldName, DocumentField field, boolean isMetaField) {\n         if (fieldName == null || field == null) return;\n-        if (field.isMetadataField()) {\n+        if (isMetaField) {\n+            if (metaFields.size() == 0) this.metaFields = new HashMap<>();\n             this.metaFields.put(fieldName, field);\n         } else {\n+            if (documentFields.size() == 0) this.documentFields = new HashMap<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3de627247eed5e4fccd432ae4b1675848e39ae83"}, "originalPosition": 73}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAxMzUxNQ==", "bodyText": "maybe use new HashMap() here or sth. similar, see below for question.", "url": "https://github.com/elastic/elasticsearch/pull/57378#discussion_r434013515", "createdAt": "2020-06-02T16:30:01Z", "author": {"login": "cbuescher"}, "path": "server/src/main/java/org/elasticsearch/search/SearchHit.java", "diffHunk": "@@ -137,15 +136,8 @@ public SearchHit(int nestedTopDocId, String id, NestedIdentity nestedIdentity,\n             this.id = null;\n         }\n         this.nestedIdentity = nestedIdentity;\n-        this.documentFields = documentFields;\n-        if (this.documentFields == null) {\n-            this.documentFields = new HashMap<>();\n-        }\n-\n-        this.metaFields = metaFields;\n-        if (this.metaFields == null) {\n-            this.metaFields = new HashMap<>();\n-        }\n+        this.documentFields = documentFields == null ? emptyMap() : documentFields;\n+        this.metaFields = metaFields == null ? emptyMap() : metaFields;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3de627247eed5e4fccd432ae4b1675848e39ae83"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAxNzQ3Mg==", "bodyText": "I'd probably prefer it if we continue using null arguments and remove earlier declaration of maps (move it down to where they are needed?)", "url": "https://github.com/elastic/elasticsearch/pull/57378#discussion_r434017472", "createdAt": "2020-06-02T16:36:09Z", "author": {"login": "cbuescher"}, "path": "server/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java", "diffHunk": "@@ -203,19 +203,20 @@ private SearchHit createSearchHit(SearchContext context,\n                                       int subDocId,\n                                       Map<String, Set<String>> storedToRequestedFields,\n                                       LeafReaderContext subReaderContext) {\n+        Map<String, DocumentField> docFields = emptyMap();\n+        Map<String, DocumentField> metaFields = emptyMap();\n         if (fieldsVisitor == null) {\n-            return new SearchHit(docId, null, null, null);\n-\n+            return new SearchHit(docId, null, docFields, metaFields);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3de627247eed5e4fccd432ae4b1675848e39ae83"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAxOTAzOQ==", "bodyText": "I'd prefer modifiable maps right here and remove L261/262 instead. Just for readability", "url": "https://github.com/elastic/elasticsearch/pull/57378#discussion_r434019039", "createdAt": "2020-06-02T16:38:34Z", "author": {"login": "cbuescher"}, "path": "server/src/main/java/org/elasticsearch/search/fetch/FetchPhase.java", "diffHunk": "@@ -278,11 +251,17 @@ private SearchHit createNestedSearchHit(SearchContext context,\n             source = null;\n         }\n \n-        Map<String, DocumentField> searchFields = null;\n+        Map<String, DocumentField> docFields = emptyMap();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3de627247eed5e4fccd432ae4b1675848e39ae83"}, "originalPosition": 87}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAyMTI3OA==", "bodyText": "I was under the impression docValues are put under \"documentFields\", not meta? Am I missing sth here? Maybe rephrase?", "url": "https://github.com/elastic/elasticsearch/pull/57378#discussion_r434021278", "createdAt": "2020-06-02T16:42:08Z", "author": {"login": "cbuescher"}, "path": "server/src/main/java/org/elasticsearch/search/fetch/subphase/FetchDocValuesPhase.java", "diffHunk": "@@ -122,13 +121,11 @@ public void hitsExecute(SearchContext context, SearchHit[] hits) throws IOExcept\n                             binaryValues = data.getBytesValues();\n                         }\n                     }\n-                    if (hit.fieldsOrNull() == null) {\n-                        hit.fields(new HashMap<>(2));\n-                    }\n-                    DocumentField hitField = hit.getFields().get(field);\n+                    DocumentField hitField = hit.field(field);\n                     if (hitField == null) {\n                         hitField = new DocumentField(field, new ArrayList<>(2));\n-                        hit.setField(field, hitField);\n+                        // docValues field is put under \"fields\" even if they are meta-data fields", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3de627247eed5e4fccd432ae4b1675848e39ae83"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAyMzI3Ng==", "bodyText": "Do you know why we exclude these random field types here? I don't remember atm, if you do (bc. you added some cases) maybe a comment would help my future me understanding this better.", "url": "https://github.com/elastic/elasticsearch/pull/57378#discussion_r434023276", "createdAt": "2020-06-02T16:45:25Z", "author": {"login": "cbuescher"}, "path": "server/src/test/java/org/elasticsearch/index/get/DocumentFieldTests.java", "diffHunk": "@@ -101,10 +104,16 @@ private static DocumentField mutateDocumentField(DocumentField documentField) {\n     }\n \n     public static Tuple<DocumentField, DocumentField> randomDocumentField(XContentType xContentType) {\n-        if (randomBoolean()) {\n+        return randomDocumentField(xContentType, randomBoolean());\n+    }\n+\n+    public static Tuple<DocumentField, DocumentField> randomDocumentField(XContentType xContentType, boolean isMetafield) {\n+        if (isMetafield) {\n             String metaField = randomValueOtherThanMany(field -> field.equals(TypeFieldMapper.NAME)\n-                    || field.equals(IndexFieldMapper.NAME) || field.equals(IdFieldMapper.NAME),\n-                () -> randomFrom(MapperService.getAllMetaFields()));\n+                    || field.equals(IndexFieldMapper.NAME) || field.equals(IdFieldMapper.NAME)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3de627247eed5e4fccd432ae4b1675848e39ae83"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAzMzY3MQ==", "bodyText": "Since this sticks out as odd, maybe extend the comment by briefly explaining the cases where we need this. As far as I understand this should only be the case when a pre-7.3 node uses the size mapper plugin and sends these fields jumbled with the other document fields, right?", "url": "https://github.com/elastic/elasticsearch/pull/57378#discussion_r434033671", "createdAt": "2020-06-02T17:02:05Z", "author": {"login": "cbuescher"}, "path": "server/src/main/java/org/elasticsearch/index/mapper/MapperService.java", "diffHunk": "@@ -640,14 +634,25 @@ public void close() throws IOException {\n     }\n \n     /**\n-     * @return Whether a field is a metadata field.\n+     * @return Whether a field is a metadata field for older indexes\n+     * TODO: remove in v 9.0\n+     * @deprecated  Use an instance method isMetadataField instead\n      */\n-    public static boolean isMetadataField(String fieldName) {\n-        return META_FIELDS.contains(fieldName);\n+    @Deprecated\n+    public static boolean isMetadataFieldStatic(String fieldName) {\n+        if (IndicesModule.getBuiltInMetadataFields().contains(fieldName)) {\n+            return true;\n+        }\n+        // adding _size field as meta-field for bwc", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3de627247eed5e4fccd432ae4b1675848e39ae83"}, "originalPosition": 76}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a56fd20909d887dd8016fdceeb751ea3a89a131", "author": {"user": {"login": "mayya-sharipova", "name": "Mayya Sharipova"}}, "url": "https://github.com/elastic/elasticsearch/commit/3a56fd20909d887dd8016fdceeb751ea3a89a131", "committedDate": "2020-06-03T21:58:52Z", "message": "Address Christoph's feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5a6b3fa0a2916335332572af24fe32f42d87791", "author": {"user": {"login": "mayya-sharipova", "name": "Mayya Sharipova"}}, "url": "https://github.com/elastic/elasticsearch/commit/a5a6b3fa0a2916335332572af24fe32f42d87791", "committedDate": "2020-06-04T14:49:41Z", "message": "Merge remote-tracking branch 'upstream/master' into metafield-refactoring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6d3364c65387138406ce85f4b0c4f7dee1e9527", "author": {"user": {"login": "mayya-sharipova", "name": "Mayya Sharipova"}}, "url": "https://github.com/elastic/elasticsearch/commit/b6d3364c65387138406ce85f4b0c4f7dee1e9527", "committedDate": "2020-06-04T16:01:11Z", "message": "Correct AggregationsTests to exclude random fields from top_hits"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0NjEzNzg5", "url": "https://github.com/elastic/elasticsearch/pull/57378#pullrequestreview-424613789", "createdAt": "2020-06-04T16:14:44Z", "commit": {"oid": "3a56fd20909d887dd8016fdceeb751ea3a89a131"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNjoxNDo0NFrOGfNlYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNjoxNDo0NFrOGfNlYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTM4MTYwMw==", "bodyText": "Great way to test!\nnit: could you add a very brief comment explaining why this proves the metadata field from the plugin was correctly registered? Makes it easier to later track why tests are there and what they check.", "url": "https://github.com/elastic/elasticsearch/pull/57378#discussion_r435381603", "createdAt": "2020-06-04T16:14:44Z", "author": {"login": "cbuescher"}, "path": "modules/mapper-extras/src/test/java/org/elasticsearch/index/mapper/RankFeatureMetaFieldMapperTests.java", "diffHunk": "@@ -55,4 +57,14 @@ public void testBasics() throws Exception {\n         assertEquals(mapping, mapper.mappingSource().toString());\n         assertNotNull(mapper.metadataMapper(RankFeatureMetaFieldMapper.class));\n     }\n+\n+    public void testDocumentParsingFailsOnMetaField() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a56fd20909d887dd8016fdceeb751ea3a89a131"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac6a4bc4b41731aa30551ce58a472c0bf8e35fdb", "author": {"user": {"login": "mayya-sharipova", "name": "Mayya Sharipova"}}, "url": "https://github.com/elastic/elasticsearch/commit/ac6a4bc4b41731aa30551ce58a472c0bf8e35fdb", "committedDate": "2020-06-04T20:39:03Z", "message": "Add comment to test: testDocumentParsingFailsOnMetaField"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4035, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}