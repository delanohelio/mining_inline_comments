{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1NjQwMzE0", "number": 57399, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQyMToxMjozOFrOEBNUEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQyMToxMjozOFrOEBNUEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5NzAyMTYzOnYy", "diffSide": "RIGHT", "path": "x-pack/plugin/monitoring/src/internalClusterTest/java/org/elasticsearch/xpack/monitoring/integration/MonitoringIT.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQyMToxMjozOFrOGc7S5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQyMToxMjozOFrOGc7S5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk4NDgwNw==", "bodyText": "This is necessary since this test (and some others here) set the type via node level setting but the settings validation does not validate across node level vs. dynamic settings (they get merged after independent validation).\nIt also looks like we don't support validation across persistent vs. transient settings either, which makes any of these cross settings dependencies validation a bit terse. This translates to a real change in behavior w.r.t monitoring, but cross level validation is a bigger issue then monitoring. The safety here (imo) outweighs the convenience of cross type setting validation (and already exists for all HTTP type settings).", "url": "https://github.com/elastic/elasticsearch/pull/57399#discussion_r432984807", "createdAt": "2020-05-31T21:12:38Z", "author": {"login": "jakelandis"}, "path": "x-pack/plugin/monitoring/src/internalClusterTest/java/org/elasticsearch/xpack/monitoring/integration/MonitoringIT.java", "diffHunk": "@@ -364,6 +364,7 @@ public void enableMonitoring() throws Exception {\n \n         final Settings settings = Settings.builder()\n                 .put(\"xpack.monitoring.collection.enabled\", true)\n+                .put(\"xpack.monitoring.exporters._local.type\", \"local\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dfbdc097627fcc1cdbf390f84563b0e565c9be87"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3807, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}