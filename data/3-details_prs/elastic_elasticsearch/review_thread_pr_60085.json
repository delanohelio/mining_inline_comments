{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1MzI0NTM0", "number": 60085, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QyMTo1MDoxOFrOESkh9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QyMTo1MDoxOFrOESkh9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3OTA4MzQyOnYy", "diffSide": "RIGHT", "path": "plugins/repository-gcs/build.gradle", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QyMTo1MDoxOFrOG303lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxNzo1MTozM1rOG4X3sQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTE5MTA2Mg==", "bodyText": "We should think about building up some kind of convenience around this sort of thing.", "url": "https://github.com/elastic/elasticsearch/pull/60085#discussion_r461191062", "createdAt": "2020-07-27T21:50:18Z", "author": {"login": "mark-vieira"}, "path": "plugins/repository-gcs/build.gradle", "diffHunk": "@@ -311,7 +318,10 @@ testClusters {\n }\n \n task gcsThirdPartyTest(type: Test) {\n-  dependsOn integTest,largeBlobIntegTest\n+  SourceSetContainer sourceSets = project.getExtensions().getByType(SourceSetContainer.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbaaeec9c37d2fdd007334f96ae3dd7671e7ad9d"}, "originalPosition": 85}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTE5NzkwMg==", "bodyText": "Why isn't the yaml-rest-test plugin doing this setup?", "url": "https://github.com/elastic/elasticsearch/pull/60085#discussion_r461197902", "createdAt": "2020-07-27T22:06:24Z", "author": {"login": "rjernst"}, "path": "plugins/repository-gcs/build.gradle", "diffHunk": "@@ -311,7 +318,10 @@ testClusters {\n }\n \n task gcsThirdPartyTest(type: Test) {\n-  dependsOn integTest,largeBlobIntegTest\n+  SourceSetContainer sourceSets = project.getExtensions().getByType(SourceSetContainer.class);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTE5MTA2Mg=="}, "originalCommit": {"oid": "bbaaeec9c37d2fdd007334f96ae3dd7671e7ad9d"}, "originalPosition": 85}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTIwNDMyNA==", "bodyText": "It's not that simple. By default the java plugin wires up all tasks of type Test with the test source set. What happens when we have a project with multiple test source sets, and then we manually create a Test task? Which source set should it default to?", "url": "https://github.com/elastic/elasticsearch/pull/60085#discussion_r461204324", "createdAt": "2020-07-27T22:23:00Z", "author": {"login": "mark-vieira"}, "path": "plugins/repository-gcs/build.gradle", "diffHunk": "@@ -311,7 +318,10 @@ testClusters {\n }\n \n task gcsThirdPartyTest(type: Test) {\n-  dependsOn integTest,largeBlobIntegTest\n+  SourceSetContainer sourceSets = project.getExtensions().getByType(SourceSetContainer.class);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTE5MTA2Mg=="}, "originalCommit": {"oid": "bbaaeec9c37d2fdd007334f96ae3dd7671e7ad9d"}, "originalPosition": 85}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTI0MjE3OA==", "bodyText": "Ah sorry, I misread this as the main yaml test, but i realize now this is another test task also utilizing the new source set. I agree then a helper or something to do this would be good, as it seems used several times in this PR.", "url": "https://github.com/elastic/elasticsearch/pull/60085#discussion_r461242178", "createdAt": "2020-07-28T00:13:30Z", "author": {"login": "rjernst"}, "path": "plugins/repository-gcs/build.gradle", "diffHunk": "@@ -311,7 +318,10 @@ testClusters {\n }\n \n task gcsThirdPartyTest(type: Test) {\n-  dependsOn integTest,largeBlobIntegTest\n+  SourceSetContainer sourceSets = project.getExtensions().getByType(SourceSetContainer.class);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTE5MTA2Mg=="}, "originalCommit": {"oid": "bbaaeec9c37d2fdd007334f96ae3dd7671e7ad9d"}, "originalPosition": 85}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTc2NDUyOQ==", "bodyText": "Agreed , I will take a look (in a future PR) for any way to simplify this boiler plate.", "url": "https://github.com/elastic/elasticsearch/pull/60085#discussion_r461764529", "createdAt": "2020-07-28T17:51:33Z", "author": {"login": "jakelandis"}, "path": "plugins/repository-gcs/build.gradle", "diffHunk": "@@ -311,7 +318,10 @@ testClusters {\n }\n \n task gcsThirdPartyTest(type: Test) {\n-  dependsOn integTest,largeBlobIntegTest\n+  SourceSetContainer sourceSets = project.getExtensions().getByType(SourceSetContainer.class);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTE5MTA2Mg=="}, "originalCommit": {"oid": "bbaaeec9c37d2fdd007334f96ae3dd7671e7ad9d"}, "originalPosition": 85}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2124, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}