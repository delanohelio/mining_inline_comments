{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI2NzIwNTQ0", "number": 65462, "title": "Ensure parallel test execution for build-tools project", "bodyText": "We were accidentally not running build-tools unit tests in parallel due to the fact that we short-circuit all of our testing conventions on that project. We add that back and do a bit of other cleanup here.", "createdAt": "2020-11-24T19:58:08Z", "url": "https://github.com/elastic/elasticsearch/pull/65462", "merged": true, "mergeCommit": {"oid": "9f96e93ef880b9ab2f2c6436a388971daf5608ed"}, "closed": true, "closedAt": "2020-11-30T21:59:38Z", "author": {"login": "mark-vieira"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfvTuLAH2gAyNTI2NzIwNTQ0OjM3MmVhYmRmYWQ5NTRjZjJiYWVlNDlmYTYwYjk0ZTc0NWJlYzM3MzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdhsNSEAH2gAyNTI2NzIwNTQ0OmU1Y2RhNDdkOTViZWY2NDQwYTFkZDU2OTAwZDQyOGI3YTYxYmZlMDA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "372eabdfad954cf2baee49fa60b94e745bec3734", "author": {"user": {"login": "mark-vieira", "name": "Mark Vieira"}}, "url": "https://github.com/elastic/elasticsearch/commit/372eabdfad954cf2baee49fa60b94e745bec3734", "committedDate": "2020-11-24T19:55:58Z", "message": "Ensure parallel test execution for build-tools project"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24384f1552bd2b37c19175c7814a77624f30a301", "author": {"user": {"login": "elasticmachine", "name": "Elastic Machine"}}, "url": "https://github.com/elastic/elasticsearch/commit/24384f1552bd2b37c19175c7814a77624f30a301", "committedDate": "2020-11-24T20:13:33Z", "message": "Merge branch 'master' into buid-tools-test-cleanup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4Mjc1ODQz", "url": "https://github.com/elastic/elasticsearch/pull/65462#pullrequestreview-538275843", "createdAt": "2020-11-25T08:56:50Z", "commit": {"oid": "24384f1552bd2b37c19175c7814a77624f30a301"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQwODo1Njo1MVrOH5pEew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQwODo1Njo1MVrOH5pEew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDIwMzc3MQ==", "bodyText": "provider.systemProperty...", "url": "https://github.com/elastic/elasticsearch/pull/65462#discussion_r530203771", "createdAt": "2020-11-25T08:56:51Z", "author": {"login": "breskeby"}, "path": "buildSrc/build.gradle", "diffHunk": "@@ -244,16 +233,16 @@ if (project != rootProject) {\n   tasks.register(\"integTest\", Test) {\n     inputs.dir(file(\"src/testKit\")).withPropertyName(\"testkit dir\").withPathSensitivity(PathSensitivity.RELATIVE)\n     systemProperty 'test.version_under_test', version\n-    onlyIf { org.elasticsearch.gradle.info.BuildParams.inFipsJvm == false }\n-    maxParallelForks = System.getProperty('tests.jvms', org.elasticsearch.gradle.info.BuildParams.defaultParallel.toString()) as Integer\n     testClassesDirs = sourceSets.integTest.output.classesDirs\n     classpath = sourceSets.integTest.runtimeClasspath\n   }\n   tasks.named(\"check\").configure { dependsOn(\"integTest\") }\n \n   // for now we hardcode the tests for our build to use the gradle jvm.\n   tasks.withType(Test).configureEach {\n+    onlyIf { org.elasticsearch.gradle.info.BuildParams.inFipsJvm == false }\n     it.executable = Jvm.current().getJavaExecutable()\n+    maxParallelForks = System.getProperty('tests.jvms', org.elasticsearch.gradle.info.BuildParams.defaultParallel.toString()) as Integer", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24384f1552bd2b37c19175c7814a77624f30a301"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5cda47d95bef6440a1dd56900d428b7a61bfe00", "author": {"user": {"login": "mark-vieira", "name": "Mark Vieira"}}, "url": "https://github.com/elastic/elasticsearch/commit/e5cda47d95bef6440a1dd56900d428b7a61bfe00", "committedDate": "2020-11-30T21:27:04Z", "message": "Use system property provider"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4454, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}