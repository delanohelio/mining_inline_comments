{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUxMzExOTUy", "number": 59806, "title": "Fix retrieving data stream stats for a DS with multiple backing indices", "bodyText": "This API incorrectly had allowAliasesToMultipleIndices set to false in the default options for the\nrequest. This changes it from false to true and enhances a test to exercise the functionality.\nResolves #59802", "createdAt": "2020-07-17T17:48:13Z", "url": "https://github.com/elastic/elasticsearch/pull/59806", "merged": true, "mergeCommit": {"oid": "ebcf5d525db3142163e10642231b3cce58bbacdd"}, "closed": true, "closedAt": "2020-07-17T19:52:45Z", "author": {"login": "dakrone"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc13hqegH2gAyNDUxMzExOTUyOjkyOTgyMTI3ZmFkODYwYjYyM2UyMjZkNzlkNzc2NGMzZTZmOGZiMjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc14n6kgH2gAyNDUxMzExOTUyOmUxNWI3YjYwNDA3ZWYyNjEyMzEwZTViMmQ1ZDI4NDhiNTg2NmUxYTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "92982127fad860b623e226d79d7764c3e6f8fb22", "author": {"user": {"login": "dakrone", "name": "Lee Hinman"}}, "url": "https://github.com/elastic/elasticsearch/commit/92982127fad860b623e226d79d7764c3e6f8fb22", "committedDate": "2020-07-17T17:45:37Z", "message": "Fix retrieving data stream stats for a DS with multiple backing indices\n\nThis API incorrectly had `allowAliasesToMultipleIndices` set to false in the default options for the\nrequest. This changes it from `false` to `true` and enhances a test to exercise the functionality.\n\nResolves #59802"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwODU3ODk0", "url": "https://github.com/elastic/elasticsearch/pull/59806#pullrequestreview-450857894", "createdAt": "2020-07-17T18:03:56Z", "commit": {"oid": "92982127fad860b623e226d79d7764c3e6f8fb22"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxODowMzo1N1rOGzcXDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxODowNToyOVrOGzcaKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjU5NTIxNQ==", "bodyText": "These options are the same for the GetDataStreams API, do those need to be updated as well?", "url": "https://github.com/elastic/elasticsearch/pull/59806#discussion_r456595215", "createdAt": "2020-07-17T18:03:57Z", "author": {"login": "jbaiera"}, "path": "x-pack/plugin/core/src/main/java/org/elasticsearch/xpack/core/action/DataStreamsStatsAction.java", "diffHunk": "@@ -37,7 +37,7 @@ public DataStreamsStatsAction() {\n         public Request() {\n             // this doesn't really matter since data stream name resolution isn't affected by IndicesOptions and\n             // a data stream's backing indices are retrieved from its metadata\n-            super(null, IndicesOptions.fromOptions(false, true, true, true, false, false, true, false));\n+            super(null, IndicesOptions.fromOptions(false, true, true, true, true, false, true, false));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "92982127fad860b623e226d79d7764c3e6f8fb22"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjU5NjAxMA==", "bodyText": "Is this better to test in the \"Rolled over data stream\" test case?", "url": "https://github.com/elastic/elasticsearch/pull/59806#discussion_r456596010", "createdAt": "2020-07-17T18:05:29Z", "author": {"login": "jbaiera"}, "path": "x-pack/plugin/data-streams/qa/rest/src/test/resources/rest-api-spec/test/data-streams/120_data_streams_stats.yml", "diffHunk": "@@ -47,13 +47,17 @@ setup:\n         name: simple-data-stream1\n   - is_true: acknowledged\n \n+  - do:\n+      indices.rollover:\n+        alias: \"simple-data-stream1\"\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "92982127fad860b623e226d79d7764c3e6f8fb22"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwODc3NTMz", "url": "https://github.com/elastic/elasticsearch/pull/59806#pullrequestreview-450877533", "createdAt": "2020-07-17T18:37:16Z", "commit": {"oid": "92982127fad860b623e226d79d7764c3e6f8fb22"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e15b7b60407ef2612310e5b2d5d2848b5866e1a7", "author": {"user": {"login": "dakrone", "name": "Lee Hinman"}}, "url": "https://github.com/elastic/elasticsearch/commit/e15b7b60407ef2612310e5b2d5d2848b5866e1a7", "committedDate": "2020-07-17T19:02:21Z", "message": "Fix test for wording change"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4200, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}