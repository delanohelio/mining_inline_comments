{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY4MjE2ODMw", "number": 51565, "title": "Re-enable plugin and upgrade bats tests", "bodyText": "While the tests remained in place, the execution of these tests were\nlost when creating the DistroTestPlugin. This commit restores executing\nthem.", "createdAt": "2020-01-28T20:35:47Z", "url": "https://github.com/elastic/elasticsearch/pull/51565", "merged": true, "mergeCommit": {"oid": "e918f047470bdec0875219c84e48599aefa6e15e"}, "closed": true, "closedAt": "2020-05-20T14:43:36Z", "author": {"login": "rjernst"}, "timelineItems": {"totalCount": 28, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb-3cP4AH2gAyMzY4MjE2ODMwOjMwYTBmOGZmODg3ZGY5MGM5YjgxZTEzY2YwM2Y4N2FkYjVmY2M0YTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABci_2GUgH2gAyMzY4MjE2ODMwOjA4ZDQ3YzA4MDI1YzBjMWFmYjdiYTkzMGRkZGM5ZTBhZmFkZDA1NGE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "30a0f8ff887df90c9b81e13cf03f87adb5fcc4a9", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/30a0f8ff887df90c9b81e13cf03f87adb5fcc4a9", "committedDate": "2020-01-28T20:33:52Z", "message": "Re-enable plugin and upgrade bats tests\n\nWhile the tests remained in place, the execution of these tests were\nlost when creating the DistroTestPlugin. This commit restores executing\nthem."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5Njg3MTI1", "url": "https://github.com/elastic/elasticsearch/pull/51565#pullrequestreview-349687125", "createdAt": "2020-01-28T20:42:23Z", "commit": {"oid": "30a0f8ff887df90c9b81e13cf03f87adb5fcc4a9"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQyMDo0MjoyM1rOFizyZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQyMDo0Mjo0N1rOFizzSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjA0NDM5MA==", "bodyText": "Would simply using tasks.withType(BatsTestTask) work just as well here and be slightly less brittle?", "url": "https://github.com/elastic/elasticsearch/pull/51565#discussion_r372044390", "createdAt": "2020-01-28T20:42:23Z", "author": {"login": "mark-vieira"}, "path": "qa/os/build.gradle", "diffHunk": "@@ -58,7 +58,7 @@ tasks.dependenciesInfo.enabled = false\n tasks.thirdPartyAudit.ignoreMissingClasses()\n \n tasks.register('destructivePackagingTest') {\n-  dependsOn 'destructiveDistroTest' \n+  dependsOn 'destructiveDistroTest', 'destructiveBatsTest.plugins', 'destructiveBatsTest.upgrade'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "30a0f8ff887df90c9b81e13cf03f87adb5fcc4a9"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjA0NDYxOQ==", "bodyText": "Same comment as above.", "url": "https://github.com/elastic/elasticsearch/pull/51565#discussion_r372044619", "createdAt": "2020-01-28T20:42:47Z", "author": {"login": "mark-vieira"}, "path": "qa/os/build.gradle", "diffHunk": "@@ -67,7 +67,7 @@ processTestResources {\n \n subprojects { Project platformProject ->\n   tasks.register('packagingTest') {\n-    dependsOn 'distroTest', 'batsTest.oss', 'batsTest.default'\n+    dependsOn 'distroTest', 'batsTest.plugins', 'batsTest.upgrade'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "30a0f8ff887df90c9b81e13cf03f87adb5fcc4a9"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0955417021ea0d4c3101ecb92422a252b5b0dbdb", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/0955417021ea0d4c3101ecb92422a252b5b0dbdb", "committedDate": "2020-01-28T21:13:35Z", "message": "fix line length"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41f22f4f7f0f6e107ce1c5e7644837f1e164c6f4", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/41f22f4f7f0f6e107ce1c5e7644837f1e164c6f4", "committedDate": "2020-01-28T21:35:37Z", "message": "auto format..."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwMDUyODA3", "url": "https://github.com/elastic/elasticsearch/pull/51565#pullrequestreview-350052807", "createdAt": "2020-01-29T11:58:38Z", "commit": {"oid": "41f22f4f7f0f6e107ce1c5e7644837f1e164c6f4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a736446417f117155eda28ca4c0afde819b06786", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/a736446417f117155eda28ca4c0afde819b06786", "committedDate": "2020-01-30T17:47:46Z", "message": "Merge branch 'master' into distro_tests41"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4becd897bd77a5ee0bda617f137750f2dd792794", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/4becd897bd77a5ee0bda617f137750f2dd792794", "committedDate": "2020-01-30T23:17:55Z", "message": "Merge branch 'master' into distro_tests41"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b6195992a678651e028ca9133c1defdfd93d409", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/5b6195992a678651e028ca9133c1defdfd93d409", "committedDate": "2020-02-10T19:31:07Z", "message": "Merge branch 'master' into distro_tests41"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eddf2abfdfb83405de9db229e802be838c2e16a8", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/eddf2abfdfb83405de9db229e802be838c2e16a8", "committedDate": "2020-02-12T03:17:08Z", "message": "debug code..."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6f91219416e7dd7b392e76ea28a5a1e8e130b4c", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/f6f91219416e7dd7b392e76ea28a5a1e8e130b4c", "committedDate": "2020-02-12T21:15:00Z", "message": "Close stdout/stderr before replacing with logging stream\n\nWe replace the System.out and System.err objects with redirects to our\nlog file, but never ensure they are closed. This commit closes each\nstream just before replacing it."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82bb8c228cf1f39147d4afc40461355975652923", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/82bb8c228cf1f39147d4afc40461355975652923", "committedDate": "2020-02-12T22:07:38Z", "message": "try another"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0092e49a8e11f106229d9e49b32d1bf56f2e0e1", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/d0092e49a8e11f106229d9e49b32d1bf56f2e0e1", "committedDate": "2020-02-12T23:57:27Z", "message": "Merge branch 'master' into distro_tests41"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96de98d39a1a382ccc7ae99353a1a695324b9e20", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/96de98d39a1a382ccc7ae99353a1a695324b9e20", "committedDate": "2020-02-13T00:16:38Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "47b9b9a101394182235aa9e381566b98880bdc74", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/47b9b9a101394182235aa9e381566b98880bdc74", "committedDate": "2020-02-13T00:16:56Z", "message": "Merge branch 'master' into logging6"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fcf7b994cc5412ec6675ee269ff153c986ad3f3a", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/fcf7b994cc5412ec6675ee269ff153c986ad3f3a", "committedDate": "2020-02-13T00:17:09Z", "message": "Merge branch 'master' into distro_tests41"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f0a5a3aaa84d61c0918d9c4b83607bdf240ed9b", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/7f0a5a3aaa84d61c0918d9c4b83607bdf240ed9b", "committedDate": "2020-02-13T00:17:13Z", "message": "Merge branch 'logging6' into distro_tests41"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e412d9b00c3273e23cec3dc29fb7ae8577b94676", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/e412d9b00c3273e23cec3dc29fb7ae8577b94676", "committedDate": "2020-02-13T01:52:49Z", "message": "test cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70210eaf26ee0ddbb283b25b29ffe733557509e2", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/70210eaf26ee0ddbb283b25b29ffe733557509e2", "committedDate": "2020-02-13T19:13:56Z", "message": "can't check asm jar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10000b79adbc762670955d8d42d6a969841d8e3d", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/10000b79adbc762670955d8d42d6a969841d8e3d", "committedDate": "2020-02-13T20:56:05Z", "message": "Merge branch 'master' into distro_tests41"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "588608dec2b2306719b23098315ed7956ccf2491", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/588608dec2b2306719b23098315ed7956ccf2491", "committedDate": "2020-02-13T21:00:39Z", "message": "relative path"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "739672ad1970501737b8a1955f51c6a9cd5c8503", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/739672ad1970501737b8a1955f51c6a9cd5c8503", "committedDate": "2020-02-15T17:53:07Z", "message": "upgrade debug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a37950a8cfb28e65faade5e7a296a31c863a9e78", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/a37950a8cfb28e65faade5e7a296a31c863a9e78", "committedDate": "2020-02-15T18:27:45Z", "message": "Merge branch 'master' into distro_tests41"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0532de7ffa8095dbd3e8db623a7650169600849a", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/0532de7ffa8095dbd3e8db623a7650169600849a", "committedDate": "2020-04-21T03:40:24Z", "message": "Merge branch 'master' into distro_tests41"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f28457ce1fbe164c026e17f837beaa62a510e5cb", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/f28457ce1fbe164c026e17f837beaa62a510e5cb", "committedDate": "2020-05-19T20:33:01Z", "message": "Do not daemonize when testing error output in packaging tests\n\nThe packaging tests start elasticsearch in various ways. All of these\ncurrently expect it is started asynchronously, yet some tests expect it\nwill fail to start and want to check the error output. This commit adds\na daemonize flag to the utility methods to start elasticsearch for such\ncases, so that when the start method returns, all the error output\nshould already be available since the process will have exited.\n\nrelates #51716"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d95f2a58cbce90c86978136cdf4a81132911dab8", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/d95f2a58cbce90c86978136cdf4a81132911dab8", "committedDate": "2020-05-19T21:22:39Z", "message": "checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06a2b442d451833b1c9b0f086aa3fb978898379e", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/06a2b442d451833b1c9b0f086aa3fb978898379e", "committedDate": "2020-05-19T23:42:38Z", "message": "clear windows log file after test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0c11783c10eff327f14104792c634525add9dac", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/a0c11783c10eff327f14104792c634525add9dac", "committedDate": "2020-05-20T00:17:39Z", "message": "spotless"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08d47c08025c0c1afb7ba930dddc9e0afadd054a", "author": {"user": {"login": "rjernst", "name": "Ryan Ernst"}}, "url": "https://github.com/elastic/elasticsearch/commit/08d47c08025c0c1afb7ba930dddc9e0afadd054a", "committedDate": "2020-05-20T02:42:37Z", "message": "Merge branch 'distro_tests45' into distro_tests41"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3193, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}