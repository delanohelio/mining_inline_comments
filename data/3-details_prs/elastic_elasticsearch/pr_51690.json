{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5MjAxMTA1", "number": 51690, "title": "Remove \"extractVariables\" phase from Painless user tree", "bodyText": "Removes the \"extractVariables\" phase from the Painless user tree which is no longer necessary. The information to retrieve used variables is now collected during the semantic (\"analysis\") phase and passed back through ScriptRoot to generate the appropriate needs methods in the factories.", "createdAt": "2020-01-30T17:35:20Z", "url": "https://github.com/elastic/elasticsearch/pull/51690", "merged": true, "mergeCommit": {"oid": "c3767b12e38d9acc8722b177183e41f19f29aed9"}, "closed": true, "closedAt": "2020-01-31T19:06:43Z", "author": {"login": "jdconrad"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_dqmSAH2gAyMzY5MjAxMTA1OjIyNDlhNDRlM2M0NGFhZmExNTMwNjY3NGQ0NzM2MGU3YmQ0OTFkOWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_fzSVAFqTM1MTA4Nzk2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2249a44e3c44aafa15306674d47360e7bd491d9c", "author": {"user": {"login": "jdconrad", "name": "Jack Conradson"}}, "url": "https://github.com/elastic/elasticsearch/commit/2249a44e3c44aafa15306674d47360e7bd491d9c", "committedDate": "2020-01-30T17:05:56Z", "message": "remove extract variables pass"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMDQ5Nzc5", "url": "https://github.com/elastic/elasticsearch/pull/51690#pullrequestreview-351049779", "createdAt": "2020-01-30T18:36:05Z", "commit": {"oid": "2249a44e3c44aafa15306674d47360e7bd491d9c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxODozNjowNVrOFj1hVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxODozNjowNVrOFj1hVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzEyMTM2NA==", "bodyText": "Why is functionScope the container for these?  They used to be spread all over.", "url": "https://github.com/elastic/elasticsearch/pull/51690#discussion_r373121364", "createdAt": "2020-01-30T18:36:05Z", "author": {"login": "stu-elastic"}, "path": "modules/lang-painless/src/main/java/org/elasticsearch/painless/node/SClass.java", "diffHunk": "@@ -159,6 +141,8 @@ public ScriptRoot analyze(PainlessLookup painlessLookup, CompilerSettings settin\n             allEscape = statement.allEscape;\n         }\n \n+        scriptRoot.setUsedVariables(functionScope.getUsedVariables());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2249a44e3c44aafa15306674d47360e7bd491d9c"}, "originalPosition": 62}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMDg3OTY5", "url": "https://github.com/elastic/elasticsearch/pull/51690#pullrequestreview-351087969", "createdAt": "2020-01-30T19:35:14Z", "commit": {"oid": "2249a44e3c44aafa15306674d47360e7bd491d9c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3106, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}