{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyMDM3Nzk5", "number": 58749, "title": "Prohibit custom _routing for index requests targetting a data stream", "bodyText": "This prohibits the use of a custom _routing when the index/bulk requests are targetting a data stream.\nUsing a custom _routing when targetting a backing index is still permitted.\nRelates to #53100", "createdAt": "2020-06-30T13:40:20Z", "url": "https://github.com/elastic/elasticsearch/pull/58749", "merged": true, "mergeCommit": {"oid": "ece6b7a318a8bd3a010499189f31fc5e3a012d4f"}, "closed": true, "closedAt": "2020-07-01T09:16:22Z", "author": {"login": "andreidan"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwVyu4AH2gAyNDQyMDM3Nzk5OmQyYjkxOGZkYjljOTBmNmFjNWNkNWQ2NzBlMjQ0MGUxYmFhZmIyOWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwlm_DgH2gAyNDQyMDM3Nzk5OjU1MmFhOWM5ZDc4OWY5OGIxNGU2MWMwMzUzYjdiNGM5ZGZjNWVlNjk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d2b918fdb9c90f6ac5cd5d670e2440e1baafb29d", "author": {"user": {"login": "andreidan", "name": "Andrei Dan"}}, "url": "https://github.com/elastic/elasticsearch/commit/d2b918fdb9c90f6ac5cd5d670e2440e1baafb29d", "committedDate": "2020-06-30T13:37:52Z", "message": "Prohibit custom _routing for index requests targetting a data stream"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0719393ba45d47cae6b4a30b2caf4c65e3348255", "author": {"user": {"login": "andreidan", "name": "Andrei Dan"}}, "url": "https://github.com/elastic/elasticsearch/commit/0719393ba45d47cae6b4a30b2caf4c65e3348255", "committedDate": "2020-06-30T13:55:30Z", "message": "Fix line length"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwNTcxNDAx", "url": "https://github.com/elastic/elasticsearch/pull/58749#pullrequestreview-440571401", "createdAt": "2020-07-01T06:13:19Z", "commit": {"oid": "0719393ba45d47cae6b4a30b2caf4c65e3348255"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwNjoxMzoxOVrOGrYF6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwNjoxMzoxOVrOGrYF6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODEzNjY4MA==", "bodyText": "This caused a lot of unrelated changes. Maybe not statically import getDefaultBackingIndexName() method?", "url": "https://github.com/elastic/elasticsearch/pull/58749#discussion_r448136680", "createdAt": "2020-07-01T06:13:19Z", "author": {"login": "martijnvg"}, "path": "server/src/internalClusterTest/java/org/elasticsearch/indices/DataStreamIT.java", "diffHunk": "@@ -115,23 +116,23 @@ public void testBasicScenario() throws Exception {\n         assertThat(getDataStreamResponse.getDataStreams().get(0).getTimeStampField().getFieldMapping(), equalTo(Map.of(\"type\", \"date\")));\n         assertThat(getDataStreamResponse.getDataStreams().get(0).getIndices().size(), equalTo(1));\n         assertThat(getDataStreamResponse.getDataStreams().get(0).getIndices().get(0).getName(),\n-            equalTo(DataStream.getDefaultBackingIndexName(\"metrics-bar\", 1)));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0719393ba45d47cae6b4a30b2caf4c65e3348255"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e659374805c9f92f8308ec4a2b85f6ef1de6e3f5", "author": {"user": {"login": "andreidan", "name": "Andrei Dan"}}, "url": "https://github.com/elastic/elasticsearch/commit/e659374805c9f92f8308ec4a2b85f6ef1de6e3f5", "committedDate": "2020-07-01T08:01:14Z", "message": "Remove static import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "552aa9c9d789f98b14e61c0353b7b4c9dfc5ee69", "author": {"user": {"login": "andreidan", "name": "Andrei Dan"}}, "url": "https://github.com/elastic/elasticsearch/commit/552aa9c9d789f98b14e61c0353b7b4c9dfc5ee69", "committedDate": "2020-07-01T08:03:31Z", "message": "Merge branch 'master' into data-stream-custom-routing-validation"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2600, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}