{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzMTE5MzQx", "number": 65191, "title": "Reimplement QuotaAwarePath.toFile()", "bodyText": "An issue was observed where calling QuotaAwarePath.toFile() caused UnsupportedOperationException: Path not associated with default file system. Replacing the implementation with that of the interface's default implementation in a later JDK prevents the exception.\nAs to why, I suspect that whatever implementation was being called before, or the location of that code, caused an incorrect default filesystem to be picked for comparison.\nThis problem only appeared on 7.11.0. The problem can manifest on 7.11 and 6.8.14", "createdAt": "2020-11-18T11:32:20Z", "url": "https://github.com/elastic/elasticsearch/pull/65191", "merged": true, "mergeCommit": {"oid": "2c291a0a245f35060eac95dfcacad75f30fbb902"}, "closed": true, "closedAt": "2020-11-19T19:47:54Z", "author": {"login": "pugnascotia"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABddsafmAH2gAyNTIzMTE5MzQxOjMwMDZhZDMwYTNlNGFiYzdkN2EwZGY3MmIxN2FhNWJiZTk4ZmE0MDI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdeGXw4gFqTUzNDY5NDA0Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3006ad30a3e4abc7d7a0df72b17aa5bbe98fa402", "author": {"user": {"login": "pugnascotia", "name": "Rory Hunter"}}, "url": "https://github.com/elastic/elasticsearch/commit/3006ad30a3e4abc7d7a0df72b17aa5bbe98fa402", "committedDate": "2020-11-18T11:25:48Z", "message": "Reimplement QuotaAwarePath.toFile()\n\nAn issue was observed where calling `QuotaAwarePath.toFile()` caused\n`UnsupportedOperationException: Path not associated with default file\nsystem.` Replacing the implementation with that of the interface's\ndefault implementation in a later JDK prevents the exception.\n\nAs to why, I suspect that whatever implementation was being called\nbefore, or the location of that code, caused an incorrect default\nfilesystem to be picked for comparison."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNTMxMTY2", "url": "https://github.com/elastic/elasticsearch/pull/65191#pullrequestreview-533531166", "createdAt": "2020-11-18T14:58:23Z", "commit": {"oid": "3006ad30a3e4abc7d7a0df72b17aa5bbe98fa402"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzODY4NDYx", "url": "https://github.com/elastic/elasticsearch/pull/65191#pullrequestreview-533868461", "createdAt": "2020-11-18T20:56:05Z", "commit": {"oid": "3006ad30a3e4abc7d7a0df72b17aa5bbe98fa402"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMDo1NjowNVrOH2BznA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQyMDo1NjowNVrOH2BznA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjQxNDc0OA==", "bodyText": "In master we simply don't override this method at all, instead implicitly delegating to the default implementation on the Path interface. Is there a reason we can't just do that here instead of duplicating this?", "url": "https://github.com/elastic/elasticsearch/pull/65191#discussion_r526414748", "createdAt": "2020-11-18T20:56:05Z", "author": {"login": "mark-vieira"}, "path": "plugins/quota-aware-fs/src/main/java/org/elasticsearch/fs/quotaaware/QuotaAwarePath.java", "diffHunk": "@@ -179,7 +180,11 @@ public Path toRealPath(LinkOption... options) throws IOException {\n     @SuppressForbidden(reason = \"Implementation required by super type\")\n     @Override\n     public File toFile() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3006ad30a3e4abc7d7a0df72b17aa5bbe98fa402"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0Njk0MDQ3", "url": "https://github.com/elastic/elasticsearch/pull/65191#pullrequestreview-534694047", "createdAt": "2020-11-19T17:40:21Z", "commit": {"oid": "3006ad30a3e4abc7d7a0df72b17aa5bbe98fa402"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1006, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}