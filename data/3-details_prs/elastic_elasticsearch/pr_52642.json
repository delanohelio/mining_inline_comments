{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4MzA3NzE0", "number": 52642, "title": "Address MinAndMax generics warnings", "bodyText": "The MinAndMax encapsulates min and max values for a shard. It uses generics to make sure that the values are of the same type and are also comparable. Though there are warnings whenever this class is currently used, which are addressed with this commit.\nRelates to #49092", "createdAt": "2020-02-21T14:23:38Z", "url": "https://github.com/elastic/elasticsearch/pull/52642", "merged": true, "mergeCommit": {"oid": "bd2fc15a9b6e6d51fe6e5301c6bfbc2544f73221"}, "closed": true, "closedAt": "2020-03-03T13:41:39Z", "author": {"login": "javanna"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcGggTAAH2gAyMzc4MzA3NzE0OjQwOWY3NjA1OTI3OWEwZTk1MmJiNzQzY2VkMzQ3MmVmOWRhM2M2YWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcJyCd-gFqTM2NzQyNjIzMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "409f76059279a0e952bb743ced3472ef9da3c6ac", "author": {"user": {"login": "javanna", "name": "Luca Cavanna"}}, "url": "https://github.com/elastic/elasticsearch/commit/409f76059279a0e952bb743ced3472ef9da3c6ac", "committedDate": "2020-02-21T14:21:52Z", "message": "Address MinAndMax generics warnings\n\nThe MinAndMax encapsulates min and max values for a shard. It uses generics to make sure that the values are of the same type and are also comparable. Though there are warnings whenever this class is currently used, which are addressed with this commit.\n\nRelates to #49092"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyNzI2NTYw", "url": "https://github.com/elastic/elasticsearch/pull/52642#pullrequestreview-362726560", "createdAt": "2020-02-21T15:50:36Z", "commit": {"oid": "409f76059279a0e952bb743ced3472ef9da3c6ac"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxNTo1MDozN1rOFs7ifg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQxNTo1MjoxM1rOFs7mWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjY1NzE1MA==", "bodyText": "should it be a Function<byte[], ? extends T> to avoid the unchecked cast?", "url": "https://github.com/elastic/elasticsearch/pull/52642#discussion_r382657150", "createdAt": "2020-02-21T15:50:37Z", "author": {"login": "jpountz"}, "path": "server/src/main/java/org/elasticsearch/search/sort/FieldSortBuilder.java", "diffHunk": "@@ -520,6 +518,14 @@ public static FieldSortBuilder getPrimaryFieldSortOrNull(SearchSourceBuilder sou\n         return null;\n     }\n \n+    @SuppressWarnings(\"unchecked\")\n+    private static <T extends Comparable<T>> MinAndMax<T> extractMinAndMax(IndexReader reader, String fieldName,\n+                                                              Function<byte[], Comparable<?>> converter) throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "409f76059279a0e952bb743ced3472ef9da3c6ac"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjY1ODEzOQ==", "bodyText": "In general this is the right way to use generics with Comparable?", "url": "https://github.com/elastic/elasticsearch/pull/52642#discussion_r382658139", "createdAt": "2020-02-21T15:52:13Z", "author": {"login": "jpountz"}, "path": "server/src/main/java/org/elasticsearch/search/sort/MinAndMax.java", "diffHunk": "@@ -29,9 +29,9 @@\n import java.util.Objects;\n \n /**\n- * A class that encapsulates a minimum and a maximum {@link Comparable}.\n+ * A class that encapsulates a minimum and a maximum, that are of the same type and {@link Comparable}.\n  */\n-public class MinAndMax<T extends Comparable<? super T>> implements Writeable {\n+public class MinAndMax<T extends Comparable<T>> implements Writeable {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "409f76059279a0e952bb743ced3472ef9da3c6ac"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38c03edbc319482799c5375aab6167fa0681f351", "author": {"user": {"login": "javanna", "name": "Luca Cavanna"}}, "url": "https://github.com/elastic/elasticsearch/commit/38c03edbc319482799c5375aab6167fa0681f351", "committedDate": "2020-02-25T11:17:56Z", "message": "iter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ab696bc5ea8842148b395d3f60f5f25b5b3031a", "author": {"user": {"login": "javanna", "name": "Luca Cavanna"}}, "url": "https://github.com/elastic/elasticsearch/commit/7ab696bc5ea8842148b395d3f60f5f25b5b3031a", "committedDate": "2020-02-25T16:41:32Z", "message": "fix compile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a3123cdbf39ba31e133cc56746415a6c402ee45", "author": {"user": {"login": "javanna", "name": "Luca Cavanna"}}, "url": "https://github.com/elastic/elasticsearch/commit/4a3123cdbf39ba31e133cc56746415a6c402ee45", "committedDate": "2020-02-28T12:46:20Z", "message": "iter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a66855d857960bbe77132cf23fc0d4808b5772d", "author": {"user": {"login": "javanna", "name": "Luca Cavanna"}}, "url": "https://github.com/elastic/elasticsearch/commit/2a66855d857960bbe77132cf23fc0d4808b5772d", "committedDate": "2020-02-28T15:08:03Z", "message": "Merge branch 'master' into enhancement/minmax_generics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d6261b3cdad0bcb17e0c2cc3df3b646cd35d86c", "author": {"user": {"login": "javanna", "name": "Luca Cavanna"}}, "url": "https://github.com/elastic/elasticsearch/commit/2d6261b3cdad0bcb17e0c2cc3df3b646cd35d86c", "committedDate": "2020-02-28T16:15:24Z", "message": "Merge branch 'master' into enhancement/minmax_generics"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3NDI2MjMz", "url": "https://github.com/elastic/elasticsearch/pull/52642#pullrequestreview-367426233", "createdAt": "2020-03-02T18:29:21Z", "commit": {"oid": "2d6261b3cdad0bcb17e0c2cc3df3b646cd35d86c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2282, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}