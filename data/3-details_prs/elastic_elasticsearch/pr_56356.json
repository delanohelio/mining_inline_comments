{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0NzUxNDgy", "number": 56356, "title": "[DOCS] Add collapsible sections to 8.0 breaking changes [Part 4]", "bodyText": "Adds collapsible sections to the 8.0 breaking changes.\nTo make reviews easier and avoid introducing errors, I've\ntried to limit my changes to formatting, with the exception\nof rewording heading as sentences.\nI'm also splitting this effort over several PRs to make reviews\nmanageable.\nRelates to #55629 and #53229\nPreview\nhttp://elasticsearch_56356.docs-preview.app.elstc.co/guide/en/elasticsearch/reference/master/breaking-changes-8.0.html", "createdAt": "2020-05-07T15:14:05Z", "url": "https://github.com/elastic/elasticsearch/pull/56356", "merged": true, "mergeCommit": {"oid": "303bed81adc7daf6a6a7aee916834fe9d6a9b57a"}, "closed": true, "closedAt": "2020-05-11T12:59:40Z", "author": {"login": "jrodewig"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABce-a0WgH2gAyNDE0NzUxNDgyOmJmOGM4YjYzZWNhZGQ0YTQzMTdkZTU4NWQzOTJmZDVhZDRjZjkxM2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgO-hMgH2gAyNDE0NzUxNDgyOjdjZGQ0NzRlOTJlOTQwNDZkOTUwOTZhM2FiMDc3MjZmZWJhZDBlNWY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bf8c8b63ecadd4a4317de585d392fd5ad4cf913c", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/bf8c8b63ecadd4a4317de585d392fd5ad4cf913c", "committedDate": "2020-05-07T14:47:13Z", "message": "[DOCS] Add collapsible sections to 8.0 breaking changes [Part 4]"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3NTc1MDY0", "url": "https://github.com/elastic/elasticsearch/pull/56356#pullrequestreview-407575064", "createdAt": "2020-05-07T15:15:19Z", "commit": {"oid": "bf8c8b63ecadd4a4317de585d392fd5ad4cf913c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNToxNToxOVrOGSDfwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNToxNToxOVrOGSDfwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTU4NDgzMw==", "bodyText": "@cbuescher Do you mind confirming that this accurately reflects your original guidance?\nThis is mostly a formatting change. I just want to ensure I don't unintentionally remove any context here.\nFeel free to ignore the other changes in this PR unless you'd like to review them.", "url": "https://github.com/elastic/elasticsearch/pull/56356#discussion_r421584833", "createdAt": "2020-05-07T15:15:19Z", "author": {"login": "jrodewig"}, "path": "docs/reference/migration/migrate_8_0/java.asciidoc", "diffHunk": "@@ -9,27 +9,36 @@\n \n // end::notable-breaking-changes[]\n \n-[float]\n-==== Changes to Fuzziness\n-\n+.Changes to fuzziness\n+[%collapsible]\n+====\n+*Details* +\n To create `Fuzziness` instances, use the `fromString` and `fromEdits` method\n instead of the `build` method that used to accept both Strings and numeric\n values. Several fuzziness setters on query builders (e.g.\n MatchQueryBuilder#fuzziness) now accept only a `Fuzziness`instance instead of\n-an Object. You should preferably use the available constants (e.g.\n-Fuzziness.ONE, Fuzziness.AUTO) or build your own instance using the above\n-mentioned factory methods.\n+an Object.\n \n Fuzziness used to be lenient when it comes to parsing arbitrary numeric values\n while silently truncating them to one of the three allowed edit distances 0, 1\n or 2. This leniency is now removed and the class will throw errors when trying\n to construct an instance with another value (e.g. floats like 1.3 used to get\n-accepted but truncated to 1). You should use one of the allowed values.\n-\n-\n-[float]\n-==== Changes to Repository\n-\n+accepted but truncated to 1).\n+\n+*Impact* +\n+Use the available constants (e.g. Fuzziness.ONE, Fuzziness.AUTO) or build your\n+own instance using the above mentioned factory methods. Use only allowed\n+`Fuzziness` values.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf8c8b63ecadd4a4317de585d392fd5ad4cf913c"}, "originalPosition": 35}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3NTc2MDU3", "url": "https://github.com/elastic/elasticsearch/pull/56356#pullrequestreview-407576057", "createdAt": "2020-05-07T15:16:24Z", "commit": {"oid": "bf8c8b63ecadd4a4317de585d392fd5ad4cf913c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNToxNjoyNFrOGSDiwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNToxNjoyNFrOGSDiwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTU4NTYwMg==", "bodyText": "@polyfractal Can you confirm this guidance? If there are other steps users should take, let me know and I'll get it added.\nFeel free to ignore the other changes in this PR unless you'd like to review them. These are mostly formatting changes to make the changes collapsible.", "url": "https://github.com/elastic/elasticsearch/pull/56356#discussion_r421585602", "createdAt": "2020-05-07T15:16:24Z", "author": {"login": "jrodewig"}, "path": "docs/reference/migration/migrate_8_0/rollup.asciidoc", "diffHunk": "@@ -9,12 +9,18 @@\n \n // end::notable-breaking-changes[]\n \n-[float]\n-==== StartRollupJob endpoint returns success if job already started\n-\n+.The StartRollupJob endpoint now returns a success status if a job has already started.\n+[%collapsible]\n+====\n+*Details* +\n Previously, attempting to start an already-started rollup job would\n result in a `500 InternalServerError: Cannot start task for Rollup Job\n [job] because state was [STARTED]` exception.\n \n Now, attempting to start a job that is already started will just\n-return a successful `200 OK: started` response.\n\\ No newline at end of file\n+return a successful `200 OK: started` response.\n+\n+*Impact* +\n+Update your workflow and applications to assume a `200` status response for\n+requests attempting to start a rollup job that has already started.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf8c8b63ecadd4a4317de585d392fd5ad4cf913c"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3NjEwMzEz", "url": "https://github.com/elastic/elasticsearch/pull/56356#pullrequestreview-407610313", "createdAt": "2020-05-07T15:53:44Z", "commit": {"oid": "bf8c8b63ecadd4a4317de585d392fd5ad4cf913c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNTo1Mzo0NFrOGSFMHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNTo1NTo1MFrOGSFSSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTYxMjU3NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            MatchQueryBuilder#fuzziness) now accept only a `Fuzziness`instance instead of\n          \n          \n            \n            MatchQueryBuilder#fuzziness) now accept only a `Fuzziness` instance instead of", "url": "https://github.com/elastic/elasticsearch/pull/56356#discussion_r421612574", "createdAt": "2020-05-07T15:53:44Z", "author": {"login": "debadair"}, "path": "docs/reference/migration/migrate_8_0/java.asciidoc", "diffHunk": "@@ -9,27 +9,36 @@\n \n // end::notable-breaking-changes[]\n \n-[float]\n-==== Changes to Fuzziness\n-\n+.Changes to fuzziness\n+[%collapsible]\n+====\n+*Details* +\n To create `Fuzziness` instances, use the `fromString` and `fromEdits` method\n instead of the `build` method that used to accept both Strings and numeric\n values. Several fuzziness setters on query builders (e.g.\n MatchQueryBuilder#fuzziness) now accept only a `Fuzziness`instance instead of", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf8c8b63ecadd4a4317de585d392fd5ad4cf913c"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTYxNDE1NA==", "bodyText": "Should this include v7.0, or should it be prior to 7.0?", "url": "https://github.com/elastic/elasticsearch/pull/56356#discussion_r421614154", "createdAt": "2020-05-07T15:55:50Z", "author": {"login": "debadair"}, "path": "docs/reference/migration/migrate_8_0/node.asciidoc", "diffHunk": "@@ -36,11 +46,18 @@ corresponding node to use this location for its data path. If your nodes each\n have more than one data path in their `path.data` settings then you should move\n all the corresponding subfolders in parallel. Each node uses the same subfolder\n (e.g. `nodes/2`) across all its data paths.\n+====\n \n-[float]\n-==== Rejection of ancient closed indices\n-\n+.Closed indices created in {es} 7.0 and earlier versions are not supported.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf8c8b63ecadd4a4317de585d392fd5ad4cf913c"}, "originalPosition": 56}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83fb712c163557b0da2ed6aee27623f0ff7177c6", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/83fb712c163557b0da2ed6aee27623f0ff7177c6", "committedDate": "2020-05-07T16:04:26Z", "message": "Update docs/reference/migration/migrate_8_0/java.asciidoc\n\nCo-authored-by: debadair <debadair@elastic.co>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc4b2f39c9b32b74c5fcb82ad6c1bdc4d0509865", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/bc4b2f39c9b32b74c5fcb82ad6c1bdc4d0509865", "committedDate": "2020-05-07T16:05:50Z", "message": "fix version number"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9108b404354c1d73b4352ca00eca3251591f53e5", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/9108b404354c1d73b4352ca00eca3251591f53e5", "committedDate": "2020-05-07T16:06:51Z", "message": "reword rollup entry"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93e34ac212bd6d5997e3eab492f1eac7fff0e5bf", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/93e34ac212bd6d5997e3eab492f1eac7fff0e5bf", "committedDate": "2020-05-07T16:14:28Z", "message": "add missing delimiter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4cac47254d6fc71b40a06bbef576e3c27d326c99", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/4cac47254d6fc71b40a06bbef576e3c27d326c99", "committedDate": "2020-05-07T16:24:15Z", "message": "add missing period"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de6ee08b4723ef702547f769e0fa5f05b06499cd", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/de6ee08b4723ef702547f769e0fa5f05b06499cd", "committedDate": "2020-05-07T16:26:51Z", "message": "missing periods"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3NzkwODgx", "url": "https://github.com/elastic/elasticsearch/pull/56356#pullrequestreview-407790881", "createdAt": "2020-05-07T19:56:45Z", "commit": {"oid": "de6ee08b4723ef702547f769e0fa5f05b06499cd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7cdd474e92e94046d95096a3ab07726febad0e5f", "author": {"user": {"login": "jrodewig", "name": "James Rodewig"}}, "url": "https://github.com/elastic/elasticsearch/commit/7cdd474e92e94046d95096a3ab07726febad0e5f", "committedDate": "2020-05-11T12:38:37Z", "message": "revert java API changes"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 212, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}