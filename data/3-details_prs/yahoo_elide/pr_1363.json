{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2MTgwOTg3", "number": 1363, "title": "Disabling Legacy Filter Dialect in Swagger Documentation", "bodyText": "Resolves #1362\nLicense\nI confirm that this contribution is made under an Apache 2.0 license and that I have the authority necessary to make this contribution on behalf of its copyright owner.", "createdAt": "2020-06-01T19:51:40Z", "url": "https://github.com/yahoo/elide/pull/1363", "merged": true, "mergeCommit": {"oid": "bd516473fbeeb47ca05eaf510734f06432c4280a"}, "closed": true, "closedAt": "2020-06-03T14:09:45Z", "author": {"login": "aklish"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcnFtQQgH2gAyNDI2MTgwOTg3OjBiNDAyOTVkZTViYmNjODk1MWMxMWRhNmE3MGU4NTRlNDBiZmRmYWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnWXFJgFqTQyMjc3OTMwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0b40295de5bbcc8951c11da6a70e854e40bfdfac", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/0b40295de5bbcc8951c11da6a70e854e40bfdfac", "committedDate": "2020-06-01T19:48:05Z", "message": "Disabling Legacy Filter Dialect in Swagger Documentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "efd93dc06c3e819917c7c07c7b931d18dbe4deba", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/efd93dc06c3e819917c7c07c7b931d18dbe4deba", "committedDate": "2020-06-01T21:22:11Z", "message": "Fixed test ordering issue"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyMjY3NDcz", "url": "https://github.com/yahoo/elide/pull/1363#pullrequestreview-422267473", "createdAt": "2020-06-02T00:33:50Z", "commit": {"oid": "efd93dc06c3e819917c7c07c7b931d18dbe4deba"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQwMDozMzo1MVrOGdeVcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQwMDozMzo1MVrOGdeVcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzU1ODg5Nw==", "bodyText": "Since this is a builder, why is there no\n    . supportLegacyDialect(boolean)", "url": "https://github.com/yahoo/elide/pull/1363#discussion_r433558897", "createdAt": "2020-06-02T00:33:51Z", "author": {"login": "wcekan"}, "path": "elide-contrib/elide-swagger/src/main/java/com/yahoo/elide/contrib/swagger/SwaggerBuilder.java", "diffHunk": "@@ -604,7 +607,17 @@ private boolean lineageContainsType(PathMetaData other) {\n      * @param info Basic service information that cannot be generated\n      */\n     public SwaggerBuilder(EntityDictionary dictionary, Info info) {\n+        this(dictionary, info, true);\n+    }\n+\n+    /**\n+     * @param dictionary The entity dictionary\n+     * @param info Basic service information that cannot be generated\n+     * @param supportLegacyDialect Whether or not to support the legacy dialect\n+     */\n+    public SwaggerBuilder(EntityDictionary dictionary, Info info, boolean supportLegacyDialect) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "efd93dc06c3e819917c7c07c7b931d18dbe4deba"}, "originalPosition": 55}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyNDkyMzQ1", "url": "https://github.com/yahoo/elide/pull/1363#pullrequestreview-422492345", "createdAt": "2020-06-02T09:16:29Z", "commit": {"oid": "efd93dc06c3e819917c7c07c7b931d18dbe4deba"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQwOToxNjoyOVrOGdpJpg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQwOToxNjoyOVrOGdpJpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzczNjEwMg==", "bodyText": "I'm new to Elide, but would I be right in thinking that it only supports one dialect..  So for users that want to use the legacy dialect, then the RSQL examples should not be displayed.", "url": "https://github.com/yahoo/elide/pull/1363#discussion_r433736102", "createdAt": "2020-06-02T09:16:29Z", "author": {"login": "whgibbo"}, "path": "elide-contrib/elide-swagger/src/main/java/com/yahoo/elide/contrib/swagger/SwaggerBuilder.java", "diffHunk": "@@ -509,19 +510,21 @@ private Parameter getSortParameter() {\n                         .description(\"Filters the collection of \" + typeName + \" using a 'joined' RSQL expression\"));\n             }\n \n-            for (Operator op : filterOperators) {\n-                attributeNames.forEach((name) -> {\n-                    Class<?> attributeClass = dictionary.getType(type, name);\n-\n-                    /* Only filter attributes that can be assigned to strings or primitives */\n-                    if (attributeClass.isPrimitive() || String.class.isAssignableFrom(attributeClass)) {\n-                        params.add(new QueryParameter()\n-                                .type(\"string\")\n-                                .name(\"filter[\" + typeName + \".\" + name + \"][\" + op.getNotation() + \"]\")\n-                                .description(\"Filters the collection of \" + typeName + \" by the attribute \"\n-                                        + name + \" \" + \"using the operator \" + op.getNotation()));\n-                    }\n-                });\n+            if (supportLegacyDialect) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "efd93dc06c3e819917c7c07c7b931d18dbe4deba"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "543edc2368e8131d95adc7acc62adecb975944f2", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/543edc2368e8131d95adc7acc62adecb975944f2", "committedDate": "2020-06-02T14:48:24Z", "message": "Inspection rework"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyNzc5MzAy", "url": "https://github.com/yahoo/elide/pull/1363#pullrequestreview-422779302", "createdAt": "2020-06-02T15:12:15Z", "commit": {"oid": "543edc2368e8131d95adc7acc62adecb975944f2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 855, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}