{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3MTc4MjQ3", "number": 1163, "title": "JsonApiDocument hashCode and equals were inconsistent", "bodyText": "Description\nPulled out only the code changes from #1162 for easier review.\n\nJsonApiDocument hashCode and equals were inconsistent.\nCorrectly process empty ConstraintViolations\nRemove unnecessary initializations in code\n\nMotivation and Context\nStability\nHow Has This Been Tested?\nUnit testing\nLicense\nI confirm that this contribution is made under an Apache 2.0 license and that I have the authority necessary to make this contribution on behalf of its copyright owner.", "createdAt": "2020-01-26T03:26:26Z", "url": "https://github.com/yahoo/elide/pull/1163", "merged": true, "mergeCommit": {"oid": "bcacaf347315e066c72a6da0ba97754962876a65"}, "closed": true, "closedAt": "2020-01-27T18:58:05Z", "author": {"login": "wcekan"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb9_aengH2gAyMzY3MTc4MjQ3OjFlM2QxYTk5NzAwNGNmZWYwYWQ5MjAxODZmMWVkNWE2OWNjY2I4Y2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb-gOIjAFqTM0ODg0Mzg1OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1e3d1a997004cfef0ad920186f1ed5a69cccb8ca", "author": {"user": {"login": "wcekan", "name": "William Cekan"}}, "url": "https://github.com/yahoo/elide/commit/1e3d1a997004cfef0ad920186f1ed5a69cccb8ca", "committedDate": "2020-01-26T03:17:15Z", "message": "Fix JsonApiDocument hashcode and equals"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1cca0077dd668d8b3c4f5dcdbd8efb516d8933f1", "author": {"user": {"login": "wcekan", "name": "William Cekan"}}, "url": "https://github.com/yahoo/elide/commit/1cca0077dd668d8b3c4f5dcdbd8efb516d8933f1", "committedDate": "2020-01-26T03:18:50Z", "message": "Handle empty ConstraintViolations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ab1f6734066acc63ebfa7b0bb56c6e0f266bd41", "author": {"user": {"login": "wcekan", "name": "William Cekan"}}, "url": "https://github.com/yahoo/elide/commit/3ab1f6734066acc63ebfa7b0bb56c6e0f266bd41", "committedDate": "2020-01-26T03:19:35Z", "message": "Remove unnecessary initializations"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4NDAzMjEz", "url": "https://github.com/yahoo/elide/pull/1163#pullrequestreview-348403213", "createdAt": "2020-01-26T20:33:22Z", "commit": {"oid": "3ab1f6734066acc63ebfa7b0bb56c6e0f266bd41"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNlQyMDozMzoyMlrOFh1t1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNlQyMDozMzoyMlrOFh1t1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAyNzQxMw==", "bodyText": "Why do we do this?", "url": "https://github.com/yahoo/elide/pull/1163#discussion_r371027413", "createdAt": "2020-01-26T20:33:22Z", "author": {"login": "aklish"}, "path": "elide-core/src/test/java/com/yahoo/elide/jsonapi/JsonApiTest.java", "diffHunk": "@@ -326,5 +339,21 @@ public void readListWithMeta() throws IOException {\n         assertEquals(attributes.get(\"firstName\"), \"bob\");\n         assertEquals(data.getRelationships().get(\"children\").getData().getSingleValue().getId(), \"2\");\n         assertNull(included);\n+        checkEquality(jsonApiDocument);\n+    }\n+\n+    private void checkEquality(JsonApiDocument doc1) {\n+        JsonApiDocument doc2;\n+        try {\n+            String json = mapper.writeJsonApiDocument(doc1);\n+            doc2 = mapper.readJsonApiDocument(json);\n+        } catch (IOException e) {\n+            throw new UncheckedIOException(e);\n+        }\n+        if (doc2.getData() == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3ab1f6734066acc63ebfa7b0bb56c6e0f266bd41"}, "originalPosition": 119}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05ec0b641b7f7c5af4206e8e96f32f846d2a705b", "author": {"user": {"login": "wcekan", "name": "William Cekan"}}, "url": "https://github.com/yahoo/elide/commit/05ec0b641b7f7c5af4206e8e96f32f846d2a705b", "committedDate": "2020-01-27T01:47:31Z", "message": "Verify serialization does not change data."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b045164272b4832025461b4bf8b466303bc5527f", "author": {"user": {"login": "wcekan", "name": "William Cekan"}}, "url": "https://github.com/yahoo/elide/commit/b045164272b4832025461b4bf8b466303bc5527f", "committedDate": "2020-01-27T03:03:05Z", "message": "write null object test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38d292f9fbc2a75dc8071f038bc3b3405b2afe41", "author": {"user": {"login": "wcekan", "name": "William Cekan"}}, "url": "https://github.com/yahoo/elide/commit/38d292f9fbc2a75dc8071f038bc3b3405b2afe41", "committedDate": "2020-01-27T05:23:03Z", "message": "Treat data=null as empty collection"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "eb23e82a67a64781fd22f739e1d2f7bc58fc967d", "author": {"user": {"login": "wcekan", "name": "William Cekan"}}, "url": "https://github.com/yahoo/elide/commit/eb23e82a67a64781fd22f739e1d2f7bc58fc967d", "committedDate": "2020-01-27T05:07:19Z", "message": "Treat data=null as empty collection"}, "afterCommit": {"oid": "38d292f9fbc2a75dc8071f038bc3b3405b2afe41", "author": {"user": {"login": "wcekan", "name": "William Cekan"}}, "url": "https://github.com/yahoo/elide/commit/38d292f9fbc2a75dc8071f038bc3b3405b2afe41", "committedDate": "2020-01-27T05:23:03Z", "message": "Treat data=null as empty collection"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21c4fc668f20e6fa1c1669eb963cd832cf561d08", "author": {"user": {"login": "wcekan", "name": "William Cekan"}}, "url": "https://github.com/yahoo/elide/commit/21c4fc668f20e6fa1c1669eb963cd832cf561d08", "committedDate": "2020-01-27T05:58:23Z", "message": "Use Optional.map.else to handle resource data"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4ODE0NTMw", "url": "https://github.com/yahoo/elide/pull/1163#pullrequestreview-348814530", "createdAt": "2020-01-27T16:48:23Z", "commit": {"oid": "21c4fc668f20e6fa1c1669eb963cd832cf561d08"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0e7f20262f1bf395592a7356e786df211cfd8aa", "author": {"user": {"login": "wcekan", "name": "William Cekan"}}, "url": "https://github.com/yahoo/elide/commit/f0e7f20262f1bf395592a7356e786df211cfd8aa", "committedDate": "2020-01-27T17:13:22Z", "message": "Fix line length"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4ODQzODU5", "url": "https://github.com/yahoo/elide/pull/1163#pullrequestreview-348843859", "createdAt": "2020-01-27T17:30:38Z", "commit": {"oid": "f0e7f20262f1bf395592a7356e786df211cfd8aa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 629, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}