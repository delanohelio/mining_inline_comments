{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIwNjU3OTEz", "number": 1662, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMjo1Njo0MFrOE5v6YQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMzoxMjozNFrOE5wfXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4OTg5MjgxOnYy", "diffSide": "RIGHT", "path": "elide-model-config/src/main/resources/elideTableSchema.json", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMjo1Njo0MFrOH0ZwYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMzozNDowOFrOH0caiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDcwOTk4Nw==", "bodyText": "This should probably have a format restriction.", "url": "https://github.com/yahoo/elide/pull/1662#discussion_r524709987", "createdAt": "2020-11-16T22:56:40Z", "author": {"login": "aklish"}, "path": "elide-model-config/src/main/resources/elideTableSchema.json", "diffHunk": "@@ -1,454 +1,426 @@\n {\n-  \"$schema\": \"https://json-schema.org/draft-06/schema#\",\n-  \"$id\": \"https://elide.io/schemas/table_schema_v1#\",\n-  \"description\": \"Elide Table config json/hjson schema\",\n-  \"definitions\": {\n-    \"grain\": {\n-      \"title\": \"Grains\",\n-      \"description\": \"Grains can have SQL expressions that can substitute column with the dimension definition expression\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"type\": {\n-          \"title\": \"Time granularity\",\n-          \"description\": \"Indicates grain time granularity\",\n-          \"type\": \"string\",\n-          \"anyOf\": [\n-            { \"pattern\": \"^[Ss][Ee][Cc][Oo][Nn][Dd]$\" },\n-            { \"pattern\": \"^[Mm][Ii][Nn][Uu][Tt][Ee]$\" },\n-            { \"pattern\": \"^[Hh][Oo][Uu][Rr]$\" },\n-            { \"pattern\": \"^[Dd][Aa][Yy]$\" },\n-            { \"pattern\": \"^[Ii][Ss][Oo][Ww][Ee][Ee][Kk]$\" },\n-            { \"pattern\": \"^[Ww][Ee][Ee][Kk]$\" },\n-            { \"pattern\": \"^[Mm][Oo][Nn][Tt][Hh]$\" },\n-            { \"pattern\": \"^[Qq][Uu][Aa][Rr][Tt][Ee][Rr]$\" },\n-            { \"pattern\": \"^[Yy][Ee][Aa][Rr]$\" }\n-          ]\n-        },\n-        \"sql\": {\n-          \"title\": \"Grain SQL\",\n-          \"description\": \"Grain SQL query\",\n-          \"type\": \"string\"\n-        }\n-      },\n-      \"additionalProperties\": false\n-    },\n-    \"join\": {\n-      \"title\": \"Join\",\n-      \"description\": \"Joins describe the SQL expression necessary to join two physical tables. Joins can be used when defining dimension columns that reference other tables.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Join name\",\n-          \"description\": \"The name of the join relationship.\",\n-          \"type\": \"string\"\n-        },\n-        \"to\": {\n-          \"title\": \"Join table name\",\n-          \"description\": \"The name of the table that is being joined to\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"type\": {\n-          \"title\": \"Type of Join\",\n-          \"description\": \"Type of the join - toOne or toMany\",\n-          \"type\": \"string\",\n-          \"anyOf\": [\n-            { \"pattern\": \"^[Tt][Oo][Oo][Nn][Ee]$\" },\n-            { \"pattern\": \"^[Tt][Oo][Mm][Aa][Nn][Yy]$\" }\n-          ]\n-        },\n-        \"definition\": {\n-          \"title\": \"Join definition SQL\",\n-          \"description\": \"Templated SQL expression that represents the ON clause of the join\",\n-          \"type\": \"string\"\n-        }\n-      },\n-      \"required\": [\n-        \"name\",\n-        \"to\",\n-        \"type\",\n-        \"definition\"\n-      ],\n-      \"additionalProperties\": false\n-    },\n-    \"columnTypes\": {\n-      \"title\": \"Dimension field type\",\n-      \"description\": \"The data type of the dimension field\",\n-      \"type\": \"string\",\n-      \"anyOf\": [\n-        { \"pattern\": \"^[Ii][Nn][Tt][Ee][Gg][Ee][Rr]$\" },\n-        { \"pattern\": \"^[Dd][Ee][Cc][Ii][Mm][Aa][Ll]$\" },\n-        { \"pattern\": \"^[Mm][Oo][Nn][Ee][Yy]$\" },\n-        { \"pattern\": \"^[Tt][Ee][Xx][Tt]$\" },\n-        { \"pattern\": \"^[Cc][Oo][Oo][Rr][Dd][Ii][Nn][Aa][Tt][Ee]$\" },\n-        { \"pattern\": \"^[Bb][Oo][Oo][Ll][Ee][Aa][Nn]$\" }\n-      ]\n-    },\n-    \"cardinalityTypes\": {\n-      \"title\": \"Table/Dimension cardinality\",\n-      \"description\": \"Table/Dimension cardinality: (tiny, small, medium, large, huge). The relative sizes are decided by the table designer(s).\",\n-      \"type\": \"string\",\n-      \"anyOf\": [\n-        { \"pattern\": \"^[Tt][Ii][Nn][Yy]$\" },\n-        { \"pattern\": \"^[Ss][Mm][Aa][Ll][Ll]$\" },\n-        { \"pattern\": \"^[Mm][Ee][Dd][Ii][Uu][Mm]$\" },\n-        { \"pattern\": \"^[Ll][Aa][Rr][Gg][Ee]$\" },\n-        { \"pattern\": \"^[Hh][Uu][Gg][Ee]$\" }\n-      ]\n-    },\n-    \"measure\": {\n-      \"title\": \"Measure\",\n-      \"description\": \"Metric definitions are extensible objects that contain a type field and one or more additional attributes. Each type is tied to logic in Elide that generates a metric function.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Metric name\",\n-          \"description\": \"The name of the metric. This will be the same as the POJO field name.\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"description\": {\n-          \"title\": \"Metric description\",\n-          \"description\": \"A long description of the metric.\",\n-          \"type\": \"string\"\n-        },\n-        \"category\": {\n-          \"title\": \"Measure group category\",\n-          \"description\": \"Category for grouping\",\n-          \"type\": \"string\"\n-        },\n-        \"hidden\": {\n-          \"title\": \"Hide/Show measure\",\n-          \"description\": \"Whether this metric is exposed via API metadata\",\n-          \"type\": \"boolean\",\n-          \"default\": false\n-        },\n-        \"readAccess\": {\n-          \"title\": \"Measure read access\",\n-          \"description\": \"Read permission for the metric.\",\n-          \"type\": \"string\",\n-          \"default\": \"Prefab.Role.All\"\n-        },\n-        \"definition\": {\n-          \"title\": \"Metric definition\",\n-          \"description\": \"The definition of the metric\",\n-          \"type\": \"string\"\n-        },\n-        \"queryPlanResolver\": {\n-          \"title\": \"query plan resolver class\",\n-          \"description\": \"The JVM function class which maps a metric to a query plan\",\n-          \"pattern\": \"^([a-zA-Z]+[a-zA-Z0-9_]*\\\\.)+class\",\n-          \"type\": \"string\"\n-        },\n-        \"type\": { \"$ref\": \"#/definitions/columnTypes\" },\n-        \"tags\": {\n-          \"title\": \"Measure tags\",\n-          \"description\": \"An array of string based tags for measures\",\n-          \"type\": \"array\",\n-          \"uniqueItems\": true,\n-          \"items\": {\n-            \"type\": \"string\"\n-          },\n-          \"default\": []\n-        }\n-      },\n-      \"required\": [\n-        \"name\",\n-        \"definition\"\n-      ],\n-      \"additionalProperties\": false\n-    },\n-    \"dimensionRef\": {\n-      \"title\": \"Dimension\",\n-      \"description\": \"Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Dimension name\",\n-          \"description\": \"The name of the dimension. This will be the same as the POJO field name.\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"description\": {\n-          \"title\": \"Dimension description\",\n-          \"description\": \"A long description of the dimension.\",\n-          \"type\": \"string\"\n-        },\n-        \"category\": {\n-          \"title\": \"Dimension group category\",\n-          \"description\": \"Category for grouping dimension\",\n-          \"type\": \"string\"\n-        },\n-        \"hidden\": {\n-          \"title\": \"Hide/Show dimension\",\n-          \"description\": \"Whether this dimension is exposed via API metadata\",\n-          \"type\": \"boolean\",\n-          \"default\": false\n-        },\n-        \"readAccess\": {\n-          \"title\": \"Dimension read access\",\n-          \"description\": \"Read permission for the dimension.\",\n-          \"type\": \"string\",\n-          \"default\": \"Prefab.Role.All\"\n-        },\n-        \"definition\": {\n-          \"title\": \"Dimension definition\",\n-          \"description\": \"The definition of the dimension\",\n-          \"type\": \"string\",\n-          \"default\": \"\"\n-        },\n-        \"cardinality\": {\n-          \"$ref\": \"#/definitions/cardinalityTypes\"\n+    \"definitions\": {\n+        \"join\": {\n+            \"title\": \"Join\",\n+            \"description\": \"Joins describe the SQL expression necessary to join two physical tables. Joins can be used when defining dimension columns that reference other tables.\",\n+            \"type\": \"object\",\n+            \"properties\": {\n+                \"name\": {\n+                    \"title\": \"Join name\",\n+                    \"description\": \"The name of the join relationship.\",\n+                    \"type\": \"string\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a97b49ee862de53288184e76db6b6be704d2789"}, "originalPosition": 211}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDc1MzU0NQ==", "bodyText": "added.", "url": "https://github.com/yahoo/elide/pull/1662#discussion_r524753545", "createdAt": "2020-11-16T23:34:08Z", "author": {"login": "rishi-aga"}, "path": "elide-model-config/src/main/resources/elideTableSchema.json", "diffHunk": "@@ -1,454 +1,426 @@\n {\n-  \"$schema\": \"https://json-schema.org/draft-06/schema#\",\n-  \"$id\": \"https://elide.io/schemas/table_schema_v1#\",\n-  \"description\": \"Elide Table config json/hjson schema\",\n-  \"definitions\": {\n-    \"grain\": {\n-      \"title\": \"Grains\",\n-      \"description\": \"Grains can have SQL expressions that can substitute column with the dimension definition expression\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"type\": {\n-          \"title\": \"Time granularity\",\n-          \"description\": \"Indicates grain time granularity\",\n-          \"type\": \"string\",\n-          \"anyOf\": [\n-            { \"pattern\": \"^[Ss][Ee][Cc][Oo][Nn][Dd]$\" },\n-            { \"pattern\": \"^[Mm][Ii][Nn][Uu][Tt][Ee]$\" },\n-            { \"pattern\": \"^[Hh][Oo][Uu][Rr]$\" },\n-            { \"pattern\": \"^[Dd][Aa][Yy]$\" },\n-            { \"pattern\": \"^[Ii][Ss][Oo][Ww][Ee][Ee][Kk]$\" },\n-            { \"pattern\": \"^[Ww][Ee][Ee][Kk]$\" },\n-            { \"pattern\": \"^[Mm][Oo][Nn][Tt][Hh]$\" },\n-            { \"pattern\": \"^[Qq][Uu][Aa][Rr][Tt][Ee][Rr]$\" },\n-            { \"pattern\": \"^[Yy][Ee][Aa][Rr]$\" }\n-          ]\n-        },\n-        \"sql\": {\n-          \"title\": \"Grain SQL\",\n-          \"description\": \"Grain SQL query\",\n-          \"type\": \"string\"\n-        }\n-      },\n-      \"additionalProperties\": false\n-    },\n-    \"join\": {\n-      \"title\": \"Join\",\n-      \"description\": \"Joins describe the SQL expression necessary to join two physical tables. Joins can be used when defining dimension columns that reference other tables.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Join name\",\n-          \"description\": \"The name of the join relationship.\",\n-          \"type\": \"string\"\n-        },\n-        \"to\": {\n-          \"title\": \"Join table name\",\n-          \"description\": \"The name of the table that is being joined to\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"type\": {\n-          \"title\": \"Type of Join\",\n-          \"description\": \"Type of the join - toOne or toMany\",\n-          \"type\": \"string\",\n-          \"anyOf\": [\n-            { \"pattern\": \"^[Tt][Oo][Oo][Nn][Ee]$\" },\n-            { \"pattern\": \"^[Tt][Oo][Mm][Aa][Nn][Yy]$\" }\n-          ]\n-        },\n-        \"definition\": {\n-          \"title\": \"Join definition SQL\",\n-          \"description\": \"Templated SQL expression that represents the ON clause of the join\",\n-          \"type\": \"string\"\n-        }\n-      },\n-      \"required\": [\n-        \"name\",\n-        \"to\",\n-        \"type\",\n-        \"definition\"\n-      ],\n-      \"additionalProperties\": false\n-    },\n-    \"columnTypes\": {\n-      \"title\": \"Dimension field type\",\n-      \"description\": \"The data type of the dimension field\",\n-      \"type\": \"string\",\n-      \"anyOf\": [\n-        { \"pattern\": \"^[Ii][Nn][Tt][Ee][Gg][Ee][Rr]$\" },\n-        { \"pattern\": \"^[Dd][Ee][Cc][Ii][Mm][Aa][Ll]$\" },\n-        { \"pattern\": \"^[Mm][Oo][Nn][Ee][Yy]$\" },\n-        { \"pattern\": \"^[Tt][Ee][Xx][Tt]$\" },\n-        { \"pattern\": \"^[Cc][Oo][Oo][Rr][Dd][Ii][Nn][Aa][Tt][Ee]$\" },\n-        { \"pattern\": \"^[Bb][Oo][Oo][Ll][Ee][Aa][Nn]$\" }\n-      ]\n-    },\n-    \"cardinalityTypes\": {\n-      \"title\": \"Table/Dimension cardinality\",\n-      \"description\": \"Table/Dimension cardinality: (tiny, small, medium, large, huge). The relative sizes are decided by the table designer(s).\",\n-      \"type\": \"string\",\n-      \"anyOf\": [\n-        { \"pattern\": \"^[Tt][Ii][Nn][Yy]$\" },\n-        { \"pattern\": \"^[Ss][Mm][Aa][Ll][Ll]$\" },\n-        { \"pattern\": \"^[Mm][Ee][Dd][Ii][Uu][Mm]$\" },\n-        { \"pattern\": \"^[Ll][Aa][Rr][Gg][Ee]$\" },\n-        { \"pattern\": \"^[Hh][Uu][Gg][Ee]$\" }\n-      ]\n-    },\n-    \"measure\": {\n-      \"title\": \"Measure\",\n-      \"description\": \"Metric definitions are extensible objects that contain a type field and one or more additional attributes. Each type is tied to logic in Elide that generates a metric function.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Metric name\",\n-          \"description\": \"The name of the metric. This will be the same as the POJO field name.\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"description\": {\n-          \"title\": \"Metric description\",\n-          \"description\": \"A long description of the metric.\",\n-          \"type\": \"string\"\n-        },\n-        \"category\": {\n-          \"title\": \"Measure group category\",\n-          \"description\": \"Category for grouping\",\n-          \"type\": \"string\"\n-        },\n-        \"hidden\": {\n-          \"title\": \"Hide/Show measure\",\n-          \"description\": \"Whether this metric is exposed via API metadata\",\n-          \"type\": \"boolean\",\n-          \"default\": false\n-        },\n-        \"readAccess\": {\n-          \"title\": \"Measure read access\",\n-          \"description\": \"Read permission for the metric.\",\n-          \"type\": \"string\",\n-          \"default\": \"Prefab.Role.All\"\n-        },\n-        \"definition\": {\n-          \"title\": \"Metric definition\",\n-          \"description\": \"The definition of the metric\",\n-          \"type\": \"string\"\n-        },\n-        \"queryPlanResolver\": {\n-          \"title\": \"query plan resolver class\",\n-          \"description\": \"The JVM function class which maps a metric to a query plan\",\n-          \"pattern\": \"^([a-zA-Z]+[a-zA-Z0-9_]*\\\\.)+class\",\n-          \"type\": \"string\"\n-        },\n-        \"type\": { \"$ref\": \"#/definitions/columnTypes\" },\n-        \"tags\": {\n-          \"title\": \"Measure tags\",\n-          \"description\": \"An array of string based tags for measures\",\n-          \"type\": \"array\",\n-          \"uniqueItems\": true,\n-          \"items\": {\n-            \"type\": \"string\"\n-          },\n-          \"default\": []\n-        }\n-      },\n-      \"required\": [\n-        \"name\",\n-        \"definition\"\n-      ],\n-      \"additionalProperties\": false\n-    },\n-    \"dimensionRef\": {\n-      \"title\": \"Dimension\",\n-      \"description\": \"Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Dimension name\",\n-          \"description\": \"The name of the dimension. This will be the same as the POJO field name.\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"description\": {\n-          \"title\": \"Dimension description\",\n-          \"description\": \"A long description of the dimension.\",\n-          \"type\": \"string\"\n-        },\n-        \"category\": {\n-          \"title\": \"Dimension group category\",\n-          \"description\": \"Category for grouping dimension\",\n-          \"type\": \"string\"\n-        },\n-        \"hidden\": {\n-          \"title\": \"Hide/Show dimension\",\n-          \"description\": \"Whether this dimension is exposed via API metadata\",\n-          \"type\": \"boolean\",\n-          \"default\": false\n-        },\n-        \"readAccess\": {\n-          \"title\": \"Dimension read access\",\n-          \"description\": \"Read permission for the dimension.\",\n-          \"type\": \"string\",\n-          \"default\": \"Prefab.Role.All\"\n-        },\n-        \"definition\": {\n-          \"title\": \"Dimension definition\",\n-          \"description\": \"The definition of the dimension\",\n-          \"type\": \"string\",\n-          \"default\": \"\"\n-        },\n-        \"cardinality\": {\n-          \"$ref\": \"#/definitions/cardinalityTypes\"\n+    \"definitions\": {\n+        \"join\": {\n+            \"title\": \"Join\",\n+            \"description\": \"Joins describe the SQL expression necessary to join two physical tables. Joins can be used when defining dimension columns that reference other tables.\",\n+            \"type\": \"object\",\n+            \"properties\": {\n+                \"name\": {\n+                    \"title\": \"Join name\",\n+                    \"description\": \"The name of the join relationship.\",\n+                    \"type\": \"string\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDcwOTk4Nw=="}, "originalCommit": {"oid": "9a97b49ee862de53288184e76db6b6be704d2789"}, "originalPosition": 211}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4OTkwMTc5OnYy", "diffSide": "LEFT", "path": "elide-model-config/src/main/resources/elideTableSchema.json", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMjo1ODoxN1rOH0Z2uQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMzozNDowMVrOH0caHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDcxMTYwOQ==", "bodyText": "Why did you remove the header boilerplate here?", "url": "https://github.com/yahoo/elide/pull/1662#discussion_r524711609", "createdAt": "2020-11-16T22:58:17Z", "author": {"login": "aklish"}, "path": "elide-model-config/src/main/resources/elideTableSchema.json", "diffHunk": "@@ -1,454 +1,426 @@\n {\n-  \"$schema\": \"https://json-schema.org/draft-06/schema#\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a97b49ee862de53288184e76db6b6be704d2789"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDc1MzQzOA==", "bodyText": "I saw it didn't matter so removed it. Added it back but changed to draft-04 as we were using draft-04 library earlier also.", "url": "https://github.com/yahoo/elide/pull/1662#discussion_r524753438", "createdAt": "2020-11-16T23:34:01Z", "author": {"login": "rishi-aga"}, "path": "elide-model-config/src/main/resources/elideTableSchema.json", "diffHunk": "@@ -1,454 +1,426 @@\n {\n-  \"$schema\": \"https://json-schema.org/draft-06/schema#\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDcxMTYwOQ=="}, "originalCommit": {"oid": "9a97b49ee862de53288184e76db6b6be704d2789"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4OTkxNzA0OnYy", "diffSide": "RIGHT", "path": "elide-model-config/src/main/resources/elideTableSchema.json", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMzowMDo1MFrOH0aA9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMzozMjoxMVrOH0cS_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDcxNDIzMA==", "bodyText": "Do we validate these at all?", "url": "https://github.com/yahoo/elide/pull/1662#discussion_r524714230", "createdAt": "2020-11-16T23:00:50Z", "author": {"login": "aklish"}, "path": "elide-model-config/src/main/resources/elideTableSchema.json", "diffHunk": "@@ -1,454 +1,426 @@\n {\n-  \"$schema\": \"https://json-schema.org/draft-06/schema#\",\n-  \"$id\": \"https://elide.io/schemas/table_schema_v1#\",\n-  \"description\": \"Elide Table config json/hjson schema\",\n-  \"definitions\": {\n-    \"grain\": {\n-      \"title\": \"Grains\",\n-      \"description\": \"Grains can have SQL expressions that can substitute column with the dimension definition expression\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"type\": {\n-          \"title\": \"Time granularity\",\n-          \"description\": \"Indicates grain time granularity\",\n-          \"type\": \"string\",\n-          \"anyOf\": [\n-            { \"pattern\": \"^[Ss][Ee][Cc][Oo][Nn][Dd]$\" },\n-            { \"pattern\": \"^[Mm][Ii][Nn][Uu][Tt][Ee]$\" },\n-            { \"pattern\": \"^[Hh][Oo][Uu][Rr]$\" },\n-            { \"pattern\": \"^[Dd][Aa][Yy]$\" },\n-            { \"pattern\": \"^[Ii][Ss][Oo][Ww][Ee][Ee][Kk]$\" },\n-            { \"pattern\": \"^[Ww][Ee][Ee][Kk]$\" },\n-            { \"pattern\": \"^[Mm][Oo][Nn][Tt][Hh]$\" },\n-            { \"pattern\": \"^[Qq][Uu][Aa][Rr][Tt][Ee][Rr]$\" },\n-            { \"pattern\": \"^[Yy][Ee][Aa][Rr]$\" }\n-          ]\n-        },\n-        \"sql\": {\n-          \"title\": \"Grain SQL\",\n-          \"description\": \"Grain SQL query\",\n-          \"type\": \"string\"\n-        }\n-      },\n-      \"additionalProperties\": false\n-    },\n-    \"join\": {\n-      \"title\": \"Join\",\n-      \"description\": \"Joins describe the SQL expression necessary to join two physical tables. Joins can be used when defining dimension columns that reference other tables.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Join name\",\n-          \"description\": \"The name of the join relationship.\",\n-          \"type\": \"string\"\n-        },\n-        \"to\": {\n-          \"title\": \"Join table name\",\n-          \"description\": \"The name of the table that is being joined to\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"type\": {\n-          \"title\": \"Type of Join\",\n-          \"description\": \"Type of the join - toOne or toMany\",\n-          \"type\": \"string\",\n-          \"anyOf\": [\n-            { \"pattern\": \"^[Tt][Oo][Oo][Nn][Ee]$\" },\n-            { \"pattern\": \"^[Tt][Oo][Mm][Aa][Nn][Yy]$\" }\n-          ]\n-        },\n-        \"definition\": {\n-          \"title\": \"Join definition SQL\",\n-          \"description\": \"Templated SQL expression that represents the ON clause of the join\",\n-          \"type\": \"string\"\n-        }\n-      },\n-      \"required\": [\n-        \"name\",\n-        \"to\",\n-        \"type\",\n-        \"definition\"\n-      ],\n-      \"additionalProperties\": false\n-    },\n-    \"columnTypes\": {\n-      \"title\": \"Dimension field type\",\n-      \"description\": \"The data type of the dimension field\",\n-      \"type\": \"string\",\n-      \"anyOf\": [\n-        { \"pattern\": \"^[Ii][Nn][Tt][Ee][Gg][Ee][Rr]$\" },\n-        { \"pattern\": \"^[Dd][Ee][Cc][Ii][Mm][Aa][Ll]$\" },\n-        { \"pattern\": \"^[Mm][Oo][Nn][Ee][Yy]$\" },\n-        { \"pattern\": \"^[Tt][Ee][Xx][Tt]$\" },\n-        { \"pattern\": \"^[Cc][Oo][Oo][Rr][Dd][Ii][Nn][Aa][Tt][Ee]$\" },\n-        { \"pattern\": \"^[Bb][Oo][Oo][Ll][Ee][Aa][Nn]$\" }\n-      ]\n-    },\n-    \"cardinalityTypes\": {\n-      \"title\": \"Table/Dimension cardinality\",\n-      \"description\": \"Table/Dimension cardinality: (tiny, small, medium, large, huge). The relative sizes are decided by the table designer(s).\",\n-      \"type\": \"string\",\n-      \"anyOf\": [\n-        { \"pattern\": \"^[Tt][Ii][Nn][Yy]$\" },\n-        { \"pattern\": \"^[Ss][Mm][Aa][Ll][Ll]$\" },\n-        { \"pattern\": \"^[Mm][Ee][Dd][Ii][Uu][Mm]$\" },\n-        { \"pattern\": \"^[Ll][Aa][Rr][Gg][Ee]$\" },\n-        { \"pattern\": \"^[Hh][Uu][Gg][Ee]$\" }\n-      ]\n-    },\n-    \"measure\": {\n-      \"title\": \"Measure\",\n-      \"description\": \"Metric definitions are extensible objects that contain a type field and one or more additional attributes. Each type is tied to logic in Elide that generates a metric function.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Metric name\",\n-          \"description\": \"The name of the metric. This will be the same as the POJO field name.\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"description\": {\n-          \"title\": \"Metric description\",\n-          \"description\": \"A long description of the metric.\",\n-          \"type\": \"string\"\n-        },\n-        \"category\": {\n-          \"title\": \"Measure group category\",\n-          \"description\": \"Category for grouping\",\n-          \"type\": \"string\"\n-        },\n-        \"hidden\": {\n-          \"title\": \"Hide/Show measure\",\n-          \"description\": \"Whether this metric is exposed via API metadata\",\n-          \"type\": \"boolean\",\n-          \"default\": false\n-        },\n-        \"readAccess\": {\n-          \"title\": \"Measure read access\",\n-          \"description\": \"Read permission for the metric.\",\n-          \"type\": \"string\",\n-          \"default\": \"Prefab.Role.All\"\n-        },\n-        \"definition\": {\n-          \"title\": \"Metric definition\",\n-          \"description\": \"The definition of the metric\",\n-          \"type\": \"string\"\n-        },\n-        \"queryPlanResolver\": {\n-          \"title\": \"query plan resolver class\",\n-          \"description\": \"The JVM function class which maps a metric to a query plan\",\n-          \"pattern\": \"^([a-zA-Z]+[a-zA-Z0-9_]*\\\\.)+class\",\n-          \"type\": \"string\"\n-        },\n-        \"type\": { \"$ref\": \"#/definitions/columnTypes\" },\n-        \"tags\": {\n-          \"title\": \"Measure tags\",\n-          \"description\": \"An array of string based tags for measures\",\n-          \"type\": \"array\",\n-          \"uniqueItems\": true,\n-          \"items\": {\n-            \"type\": \"string\"\n-          },\n-          \"default\": []\n-        }\n-      },\n-      \"required\": [\n-        \"name\",\n-        \"definition\"\n-      ],\n-      \"additionalProperties\": false\n-    },\n-    \"dimensionRef\": {\n-      \"title\": \"Dimension\",\n-      \"description\": \"Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Dimension name\",\n-          \"description\": \"The name of the dimension. This will be the same as the POJO field name.\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"description\": {\n-          \"title\": \"Dimension description\",\n-          \"description\": \"A long description of the dimension.\",\n-          \"type\": \"string\"\n-        },\n-        \"category\": {\n-          \"title\": \"Dimension group category\",\n-          \"description\": \"Category for grouping dimension\",\n-          \"type\": \"string\"\n-        },\n-        \"hidden\": {\n-          \"title\": \"Hide/Show dimension\",\n-          \"description\": \"Whether this dimension is exposed via API metadata\",\n-          \"type\": \"boolean\",\n-          \"default\": false\n-        },\n-        \"readAccess\": {\n-          \"title\": \"Dimension read access\",\n-          \"description\": \"Read permission for the dimension.\",\n-          \"type\": \"string\",\n-          \"default\": \"Prefab.Role.All\"\n-        },\n-        \"definition\": {\n-          \"title\": \"Dimension definition\",\n-          \"description\": \"The definition of the dimension\",\n-          \"type\": \"string\",\n-          \"default\": \"\"\n-        },\n-        \"cardinality\": {\n-          \"$ref\": \"#/definitions/cardinalityTypes\"\n+    \"definitions\": {\n+        \"join\": {\n+            \"title\": \"Join\",\n+            \"description\": \"Joins describe the SQL expression necessary to join two physical tables. Joins can be used when defining dimension columns that reference other tables.\",\n+            \"type\": \"object\",\n+            \"properties\": {\n+                \"name\": {\n+                    \"title\": \"Join name\",\n+                    \"description\": \"The name of the join relationship.\",\n+                    \"type\": \"string\"\n+                },\n+                \"to\": {\n+                    \"title\": \"Join table name\",\n+                    \"description\": \"The name of the table that is being joined to\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideName\"\n+                },\n+                \"type\": {\n+                    \"title\": \"Type of Join\",\n+                    \"description\": \"Type of the join - toOne or toMany\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideJoinType\"\n+                },\n+                \"definition\": {\n+                    \"title\": \"Join definition SQL\",\n+                    \"description\": \"Templated SQL expression that represents the ON clause of the join\",\n+                    \"type\": \"string\"\n+                }\n+            },\n+            \"required\": [\n+                \"name\",\n+                \"to\",\n+                \"type\",\n+                \"definition\"\n+            ],\n+            \"additionalProperties\": false\n         },\n-        \"tags\": {\n-          \"title\": \"Dimension tags\",\n-          \"description\": \"An array of string based tags for dimensions\",\n-          \"type\": \"array\",\n-          \"uniqueItems\": true,\n-          \"items\": {\n-            \"type\": \"string\"\n-          },\n-          \"default\": []\n-        }\n-\n-      }\n-    },\n-    \"dimension\": {\n-      \"title\": \"Dimension\",\n-      \"description\": \"Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n-      \"type\": \"object\",\n-      \"allOf\": [\n-        { \"$ref\": \"#/definitions/dimensionRef\" },\n-        {\n-          \"properties\": {\n-            \"type\": { \"$ref\": \"#/definitions/columnTypes\" },\n-            \"values\": {\n-              \"title\": \"Dimension values\",\n-              \"description\": \"An array of valid string values for this dimension\",\n-              \"type\": \"array\",\n-              \"uniqueItems\": true,\n-              \"items\": {\n-                \"type\": \"string\"\n-              },\n-              \"default\": []\n+        \"measure\": {\n+            \"title\": \"Measure\",\n+            \"description\": \"Metric definitions are extensible objects that contain a type field and one or more additional attributes. Each type is tied to logic in Elide that generates a metric function.\",\n+            \"type\": \"object\",\n+            \"properties\": {\n+                \"name\": {\n+                    \"title\": \"Metric name\",\n+                    \"description\": \"The name of the metric. This will be the same as the POJO field name.\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideFieldName\"\n+                },\n+                \"description\": {\n+                    \"title\": \"Metric description\",\n+                    \"description\": \"A long description of the metric.\",\n+                    \"type\": \"string\"\n+                },\n+                \"category\": {\n+                    \"title\": \"Measure group category\",\n+                    \"description\": \"Category for grouping\",\n+                    \"type\": \"string\"\n+                },\n+                \"hidden\": {\n+                    \"title\": \"Hide/Show measure\",\n+                    \"description\": \"Whether this metric is exposed via API metadata\",\n+                    \"type\": \"boolean\",\n+                    \"default\": false\n+                },\n+                \"readAccess\": {\n+                    \"title\": \"Measure read access\",\n+                    \"description\": \"Read permission for the metric.\",\n+                    \"type\": \"string\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a97b49ee862de53288184e76db6b6be704d2789"}, "originalPosition": 300}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDc1MTYxNQ==", "bodyText": "no, it will fail at later stage if its wrong. We can probably add validation in DynamicConfigValidator.", "url": "https://github.com/yahoo/elide/pull/1662#discussion_r524751615", "createdAt": "2020-11-16T23:32:11Z", "author": {"login": "rishi-aga"}, "path": "elide-model-config/src/main/resources/elideTableSchema.json", "diffHunk": "@@ -1,454 +1,426 @@\n {\n-  \"$schema\": \"https://json-schema.org/draft-06/schema#\",\n-  \"$id\": \"https://elide.io/schemas/table_schema_v1#\",\n-  \"description\": \"Elide Table config json/hjson schema\",\n-  \"definitions\": {\n-    \"grain\": {\n-      \"title\": \"Grains\",\n-      \"description\": \"Grains can have SQL expressions that can substitute column with the dimension definition expression\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"type\": {\n-          \"title\": \"Time granularity\",\n-          \"description\": \"Indicates grain time granularity\",\n-          \"type\": \"string\",\n-          \"anyOf\": [\n-            { \"pattern\": \"^[Ss][Ee][Cc][Oo][Nn][Dd]$\" },\n-            { \"pattern\": \"^[Mm][Ii][Nn][Uu][Tt][Ee]$\" },\n-            { \"pattern\": \"^[Hh][Oo][Uu][Rr]$\" },\n-            { \"pattern\": \"^[Dd][Aa][Yy]$\" },\n-            { \"pattern\": \"^[Ii][Ss][Oo][Ww][Ee][Ee][Kk]$\" },\n-            { \"pattern\": \"^[Ww][Ee][Ee][Kk]$\" },\n-            { \"pattern\": \"^[Mm][Oo][Nn][Tt][Hh]$\" },\n-            { \"pattern\": \"^[Qq][Uu][Aa][Rr][Tt][Ee][Rr]$\" },\n-            { \"pattern\": \"^[Yy][Ee][Aa][Rr]$\" }\n-          ]\n-        },\n-        \"sql\": {\n-          \"title\": \"Grain SQL\",\n-          \"description\": \"Grain SQL query\",\n-          \"type\": \"string\"\n-        }\n-      },\n-      \"additionalProperties\": false\n-    },\n-    \"join\": {\n-      \"title\": \"Join\",\n-      \"description\": \"Joins describe the SQL expression necessary to join two physical tables. Joins can be used when defining dimension columns that reference other tables.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Join name\",\n-          \"description\": \"The name of the join relationship.\",\n-          \"type\": \"string\"\n-        },\n-        \"to\": {\n-          \"title\": \"Join table name\",\n-          \"description\": \"The name of the table that is being joined to\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"type\": {\n-          \"title\": \"Type of Join\",\n-          \"description\": \"Type of the join - toOne or toMany\",\n-          \"type\": \"string\",\n-          \"anyOf\": [\n-            { \"pattern\": \"^[Tt][Oo][Oo][Nn][Ee]$\" },\n-            { \"pattern\": \"^[Tt][Oo][Mm][Aa][Nn][Yy]$\" }\n-          ]\n-        },\n-        \"definition\": {\n-          \"title\": \"Join definition SQL\",\n-          \"description\": \"Templated SQL expression that represents the ON clause of the join\",\n-          \"type\": \"string\"\n-        }\n-      },\n-      \"required\": [\n-        \"name\",\n-        \"to\",\n-        \"type\",\n-        \"definition\"\n-      ],\n-      \"additionalProperties\": false\n-    },\n-    \"columnTypes\": {\n-      \"title\": \"Dimension field type\",\n-      \"description\": \"The data type of the dimension field\",\n-      \"type\": \"string\",\n-      \"anyOf\": [\n-        { \"pattern\": \"^[Ii][Nn][Tt][Ee][Gg][Ee][Rr]$\" },\n-        { \"pattern\": \"^[Dd][Ee][Cc][Ii][Mm][Aa][Ll]$\" },\n-        { \"pattern\": \"^[Mm][Oo][Nn][Ee][Yy]$\" },\n-        { \"pattern\": \"^[Tt][Ee][Xx][Tt]$\" },\n-        { \"pattern\": \"^[Cc][Oo][Oo][Rr][Dd][Ii][Nn][Aa][Tt][Ee]$\" },\n-        { \"pattern\": \"^[Bb][Oo][Oo][Ll][Ee][Aa][Nn]$\" }\n-      ]\n-    },\n-    \"cardinalityTypes\": {\n-      \"title\": \"Table/Dimension cardinality\",\n-      \"description\": \"Table/Dimension cardinality: (tiny, small, medium, large, huge). The relative sizes are decided by the table designer(s).\",\n-      \"type\": \"string\",\n-      \"anyOf\": [\n-        { \"pattern\": \"^[Tt][Ii][Nn][Yy]$\" },\n-        { \"pattern\": \"^[Ss][Mm][Aa][Ll][Ll]$\" },\n-        { \"pattern\": \"^[Mm][Ee][Dd][Ii][Uu][Mm]$\" },\n-        { \"pattern\": \"^[Ll][Aa][Rr][Gg][Ee]$\" },\n-        { \"pattern\": \"^[Hh][Uu][Gg][Ee]$\" }\n-      ]\n-    },\n-    \"measure\": {\n-      \"title\": \"Measure\",\n-      \"description\": \"Metric definitions are extensible objects that contain a type field and one or more additional attributes. Each type is tied to logic in Elide that generates a metric function.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Metric name\",\n-          \"description\": \"The name of the metric. This will be the same as the POJO field name.\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"description\": {\n-          \"title\": \"Metric description\",\n-          \"description\": \"A long description of the metric.\",\n-          \"type\": \"string\"\n-        },\n-        \"category\": {\n-          \"title\": \"Measure group category\",\n-          \"description\": \"Category for grouping\",\n-          \"type\": \"string\"\n-        },\n-        \"hidden\": {\n-          \"title\": \"Hide/Show measure\",\n-          \"description\": \"Whether this metric is exposed via API metadata\",\n-          \"type\": \"boolean\",\n-          \"default\": false\n-        },\n-        \"readAccess\": {\n-          \"title\": \"Measure read access\",\n-          \"description\": \"Read permission for the metric.\",\n-          \"type\": \"string\",\n-          \"default\": \"Prefab.Role.All\"\n-        },\n-        \"definition\": {\n-          \"title\": \"Metric definition\",\n-          \"description\": \"The definition of the metric\",\n-          \"type\": \"string\"\n-        },\n-        \"queryPlanResolver\": {\n-          \"title\": \"query plan resolver class\",\n-          \"description\": \"The JVM function class which maps a metric to a query plan\",\n-          \"pattern\": \"^([a-zA-Z]+[a-zA-Z0-9_]*\\\\.)+class\",\n-          \"type\": \"string\"\n-        },\n-        \"type\": { \"$ref\": \"#/definitions/columnTypes\" },\n-        \"tags\": {\n-          \"title\": \"Measure tags\",\n-          \"description\": \"An array of string based tags for measures\",\n-          \"type\": \"array\",\n-          \"uniqueItems\": true,\n-          \"items\": {\n-            \"type\": \"string\"\n-          },\n-          \"default\": []\n-        }\n-      },\n-      \"required\": [\n-        \"name\",\n-        \"definition\"\n-      ],\n-      \"additionalProperties\": false\n-    },\n-    \"dimensionRef\": {\n-      \"title\": \"Dimension\",\n-      \"description\": \"Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Dimension name\",\n-          \"description\": \"The name of the dimension. This will be the same as the POJO field name.\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"description\": {\n-          \"title\": \"Dimension description\",\n-          \"description\": \"A long description of the dimension.\",\n-          \"type\": \"string\"\n-        },\n-        \"category\": {\n-          \"title\": \"Dimension group category\",\n-          \"description\": \"Category for grouping dimension\",\n-          \"type\": \"string\"\n-        },\n-        \"hidden\": {\n-          \"title\": \"Hide/Show dimension\",\n-          \"description\": \"Whether this dimension is exposed via API metadata\",\n-          \"type\": \"boolean\",\n-          \"default\": false\n-        },\n-        \"readAccess\": {\n-          \"title\": \"Dimension read access\",\n-          \"description\": \"Read permission for the dimension.\",\n-          \"type\": \"string\",\n-          \"default\": \"Prefab.Role.All\"\n-        },\n-        \"definition\": {\n-          \"title\": \"Dimension definition\",\n-          \"description\": \"The definition of the dimension\",\n-          \"type\": \"string\",\n-          \"default\": \"\"\n-        },\n-        \"cardinality\": {\n-          \"$ref\": \"#/definitions/cardinalityTypes\"\n+    \"definitions\": {\n+        \"join\": {\n+            \"title\": \"Join\",\n+            \"description\": \"Joins describe the SQL expression necessary to join two physical tables. Joins can be used when defining dimension columns that reference other tables.\",\n+            \"type\": \"object\",\n+            \"properties\": {\n+                \"name\": {\n+                    \"title\": \"Join name\",\n+                    \"description\": \"The name of the join relationship.\",\n+                    \"type\": \"string\"\n+                },\n+                \"to\": {\n+                    \"title\": \"Join table name\",\n+                    \"description\": \"The name of the table that is being joined to\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideName\"\n+                },\n+                \"type\": {\n+                    \"title\": \"Type of Join\",\n+                    \"description\": \"Type of the join - toOne or toMany\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideJoinType\"\n+                },\n+                \"definition\": {\n+                    \"title\": \"Join definition SQL\",\n+                    \"description\": \"Templated SQL expression that represents the ON clause of the join\",\n+                    \"type\": \"string\"\n+                }\n+            },\n+            \"required\": [\n+                \"name\",\n+                \"to\",\n+                \"type\",\n+                \"definition\"\n+            ],\n+            \"additionalProperties\": false\n         },\n-        \"tags\": {\n-          \"title\": \"Dimension tags\",\n-          \"description\": \"An array of string based tags for dimensions\",\n-          \"type\": \"array\",\n-          \"uniqueItems\": true,\n-          \"items\": {\n-            \"type\": \"string\"\n-          },\n-          \"default\": []\n-        }\n-\n-      }\n-    },\n-    \"dimension\": {\n-      \"title\": \"Dimension\",\n-      \"description\": \"Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n-      \"type\": \"object\",\n-      \"allOf\": [\n-        { \"$ref\": \"#/definitions/dimensionRef\" },\n-        {\n-          \"properties\": {\n-            \"type\": { \"$ref\": \"#/definitions/columnTypes\" },\n-            \"values\": {\n-              \"title\": \"Dimension values\",\n-              \"description\": \"An array of valid string values for this dimension\",\n-              \"type\": \"array\",\n-              \"uniqueItems\": true,\n-              \"items\": {\n-                \"type\": \"string\"\n-              },\n-              \"default\": []\n+        \"measure\": {\n+            \"title\": \"Measure\",\n+            \"description\": \"Metric definitions are extensible objects that contain a type field and one or more additional attributes. Each type is tied to logic in Elide that generates a metric function.\",\n+            \"type\": \"object\",\n+            \"properties\": {\n+                \"name\": {\n+                    \"title\": \"Metric name\",\n+                    \"description\": \"The name of the metric. This will be the same as the POJO field name.\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideFieldName\"\n+                },\n+                \"description\": {\n+                    \"title\": \"Metric description\",\n+                    \"description\": \"A long description of the metric.\",\n+                    \"type\": \"string\"\n+                },\n+                \"category\": {\n+                    \"title\": \"Measure group category\",\n+                    \"description\": \"Category for grouping\",\n+                    \"type\": \"string\"\n+                },\n+                \"hidden\": {\n+                    \"title\": \"Hide/Show measure\",\n+                    \"description\": \"Whether this metric is exposed via API metadata\",\n+                    \"type\": \"boolean\",\n+                    \"default\": false\n+                },\n+                \"readAccess\": {\n+                    \"title\": \"Measure read access\",\n+                    \"description\": \"Read permission for the metric.\",\n+                    \"type\": \"string\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDcxNDIzMA=="}, "originalCommit": {"oid": "9a97b49ee862de53288184e76db6b6be704d2789"}, "originalPosition": 300}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4OTkyMTMwOnYy", "diffSide": "RIGHT", "path": "elide-model-config/src/main/resources/elideTableSchema.json", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMzowMTozMVrOH0aD2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMzozMDo0OVrOH0cNNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDcxNDk3MQ==", "bodyText": "Do we need a format for this as well?", "url": "https://github.com/yahoo/elide/pull/1662#discussion_r524714971", "createdAt": "2020-11-16T23:01:31Z", "author": {"login": "aklish"}, "path": "elide-model-config/src/main/resources/elideTableSchema.json", "diffHunk": "@@ -1,454 +1,426 @@\n {\n-  \"$schema\": \"https://json-schema.org/draft-06/schema#\",\n-  \"$id\": \"https://elide.io/schemas/table_schema_v1#\",\n-  \"description\": \"Elide Table config json/hjson schema\",\n-  \"definitions\": {\n-    \"grain\": {\n-      \"title\": \"Grains\",\n-      \"description\": \"Grains can have SQL expressions that can substitute column with the dimension definition expression\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"type\": {\n-          \"title\": \"Time granularity\",\n-          \"description\": \"Indicates grain time granularity\",\n-          \"type\": \"string\",\n-          \"anyOf\": [\n-            { \"pattern\": \"^[Ss][Ee][Cc][Oo][Nn][Dd]$\" },\n-            { \"pattern\": \"^[Mm][Ii][Nn][Uu][Tt][Ee]$\" },\n-            { \"pattern\": \"^[Hh][Oo][Uu][Rr]$\" },\n-            { \"pattern\": \"^[Dd][Aa][Yy]$\" },\n-            { \"pattern\": \"^[Ii][Ss][Oo][Ww][Ee][Ee][Kk]$\" },\n-            { \"pattern\": \"^[Ww][Ee][Ee][Kk]$\" },\n-            { \"pattern\": \"^[Mm][Oo][Nn][Tt][Hh]$\" },\n-            { \"pattern\": \"^[Qq][Uu][Aa][Rr][Tt][Ee][Rr]$\" },\n-            { \"pattern\": \"^[Yy][Ee][Aa][Rr]$\" }\n-          ]\n-        },\n-        \"sql\": {\n-          \"title\": \"Grain SQL\",\n-          \"description\": \"Grain SQL query\",\n-          \"type\": \"string\"\n-        }\n-      },\n-      \"additionalProperties\": false\n-    },\n-    \"join\": {\n-      \"title\": \"Join\",\n-      \"description\": \"Joins describe the SQL expression necessary to join two physical tables. Joins can be used when defining dimension columns that reference other tables.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Join name\",\n-          \"description\": \"The name of the join relationship.\",\n-          \"type\": \"string\"\n-        },\n-        \"to\": {\n-          \"title\": \"Join table name\",\n-          \"description\": \"The name of the table that is being joined to\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"type\": {\n-          \"title\": \"Type of Join\",\n-          \"description\": \"Type of the join - toOne or toMany\",\n-          \"type\": \"string\",\n-          \"anyOf\": [\n-            { \"pattern\": \"^[Tt][Oo][Oo][Nn][Ee]$\" },\n-            { \"pattern\": \"^[Tt][Oo][Mm][Aa][Nn][Yy]$\" }\n-          ]\n-        },\n-        \"definition\": {\n-          \"title\": \"Join definition SQL\",\n-          \"description\": \"Templated SQL expression that represents the ON clause of the join\",\n-          \"type\": \"string\"\n-        }\n-      },\n-      \"required\": [\n-        \"name\",\n-        \"to\",\n-        \"type\",\n-        \"definition\"\n-      ],\n-      \"additionalProperties\": false\n-    },\n-    \"columnTypes\": {\n-      \"title\": \"Dimension field type\",\n-      \"description\": \"The data type of the dimension field\",\n-      \"type\": \"string\",\n-      \"anyOf\": [\n-        { \"pattern\": \"^[Ii][Nn][Tt][Ee][Gg][Ee][Rr]$\" },\n-        { \"pattern\": \"^[Dd][Ee][Cc][Ii][Mm][Aa][Ll]$\" },\n-        { \"pattern\": \"^[Mm][Oo][Nn][Ee][Yy]$\" },\n-        { \"pattern\": \"^[Tt][Ee][Xx][Tt]$\" },\n-        { \"pattern\": \"^[Cc][Oo][Oo][Rr][Dd][Ii][Nn][Aa][Tt][Ee]$\" },\n-        { \"pattern\": \"^[Bb][Oo][Oo][Ll][Ee][Aa][Nn]$\" }\n-      ]\n-    },\n-    \"cardinalityTypes\": {\n-      \"title\": \"Table/Dimension cardinality\",\n-      \"description\": \"Table/Dimension cardinality: (tiny, small, medium, large, huge). The relative sizes are decided by the table designer(s).\",\n-      \"type\": \"string\",\n-      \"anyOf\": [\n-        { \"pattern\": \"^[Tt][Ii][Nn][Yy]$\" },\n-        { \"pattern\": \"^[Ss][Mm][Aa][Ll][Ll]$\" },\n-        { \"pattern\": \"^[Mm][Ee][Dd][Ii][Uu][Mm]$\" },\n-        { \"pattern\": \"^[Ll][Aa][Rr][Gg][Ee]$\" },\n-        { \"pattern\": \"^[Hh][Uu][Gg][Ee]$\" }\n-      ]\n-    },\n-    \"measure\": {\n-      \"title\": \"Measure\",\n-      \"description\": \"Metric definitions are extensible objects that contain a type field and one or more additional attributes. Each type is tied to logic in Elide that generates a metric function.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Metric name\",\n-          \"description\": \"The name of the metric. This will be the same as the POJO field name.\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"description\": {\n-          \"title\": \"Metric description\",\n-          \"description\": \"A long description of the metric.\",\n-          \"type\": \"string\"\n-        },\n-        \"category\": {\n-          \"title\": \"Measure group category\",\n-          \"description\": \"Category for grouping\",\n-          \"type\": \"string\"\n-        },\n-        \"hidden\": {\n-          \"title\": \"Hide/Show measure\",\n-          \"description\": \"Whether this metric is exposed via API metadata\",\n-          \"type\": \"boolean\",\n-          \"default\": false\n-        },\n-        \"readAccess\": {\n-          \"title\": \"Measure read access\",\n-          \"description\": \"Read permission for the metric.\",\n-          \"type\": \"string\",\n-          \"default\": \"Prefab.Role.All\"\n-        },\n-        \"definition\": {\n-          \"title\": \"Metric definition\",\n-          \"description\": \"The definition of the metric\",\n-          \"type\": \"string\"\n-        },\n-        \"queryPlanResolver\": {\n-          \"title\": \"query plan resolver class\",\n-          \"description\": \"The JVM function class which maps a metric to a query plan\",\n-          \"pattern\": \"^([a-zA-Z]+[a-zA-Z0-9_]*\\\\.)+class\",\n-          \"type\": \"string\"\n-        },\n-        \"type\": { \"$ref\": \"#/definitions/columnTypes\" },\n-        \"tags\": {\n-          \"title\": \"Measure tags\",\n-          \"description\": \"An array of string based tags for measures\",\n-          \"type\": \"array\",\n-          \"uniqueItems\": true,\n-          \"items\": {\n-            \"type\": \"string\"\n-          },\n-          \"default\": []\n-        }\n-      },\n-      \"required\": [\n-        \"name\",\n-        \"definition\"\n-      ],\n-      \"additionalProperties\": false\n-    },\n-    \"dimensionRef\": {\n-      \"title\": \"Dimension\",\n-      \"description\": \"Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Dimension name\",\n-          \"description\": \"The name of the dimension. This will be the same as the POJO field name.\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"description\": {\n-          \"title\": \"Dimension description\",\n-          \"description\": \"A long description of the dimension.\",\n-          \"type\": \"string\"\n-        },\n-        \"category\": {\n-          \"title\": \"Dimension group category\",\n-          \"description\": \"Category for grouping dimension\",\n-          \"type\": \"string\"\n-        },\n-        \"hidden\": {\n-          \"title\": \"Hide/Show dimension\",\n-          \"description\": \"Whether this dimension is exposed via API metadata\",\n-          \"type\": \"boolean\",\n-          \"default\": false\n-        },\n-        \"readAccess\": {\n-          \"title\": \"Dimension read access\",\n-          \"description\": \"Read permission for the dimension.\",\n-          \"type\": \"string\",\n-          \"default\": \"Prefab.Role.All\"\n-        },\n-        \"definition\": {\n-          \"title\": \"Dimension definition\",\n-          \"description\": \"The definition of the dimension\",\n-          \"type\": \"string\",\n-          \"default\": \"\"\n-        },\n-        \"cardinality\": {\n-          \"$ref\": \"#/definitions/cardinalityTypes\"\n+    \"definitions\": {\n+        \"join\": {\n+            \"title\": \"Join\",\n+            \"description\": \"Joins describe the SQL expression necessary to join two physical tables. Joins can be used when defining dimension columns that reference other tables.\",\n+            \"type\": \"object\",\n+            \"properties\": {\n+                \"name\": {\n+                    \"title\": \"Join name\",\n+                    \"description\": \"The name of the join relationship.\",\n+                    \"type\": \"string\"\n+                },\n+                \"to\": {\n+                    \"title\": \"Join table name\",\n+                    \"description\": \"The name of the table that is being joined to\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideName\"\n+                },\n+                \"type\": {\n+                    \"title\": \"Type of Join\",\n+                    \"description\": \"Type of the join - toOne or toMany\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideJoinType\"\n+                },\n+                \"definition\": {\n+                    \"title\": \"Join definition SQL\",\n+                    \"description\": \"Templated SQL expression that represents the ON clause of the join\",\n+                    \"type\": \"string\"\n+                }\n+            },\n+            \"required\": [\n+                \"name\",\n+                \"to\",\n+                \"type\",\n+                \"definition\"\n+            ],\n+            \"additionalProperties\": false\n         },\n-        \"tags\": {\n-          \"title\": \"Dimension tags\",\n-          \"description\": \"An array of string based tags for dimensions\",\n-          \"type\": \"array\",\n-          \"uniqueItems\": true,\n-          \"items\": {\n-            \"type\": \"string\"\n-          },\n-          \"default\": []\n-        }\n-\n-      }\n-    },\n-    \"dimension\": {\n-      \"title\": \"Dimension\",\n-      \"description\": \"Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n-      \"type\": \"object\",\n-      \"allOf\": [\n-        { \"$ref\": \"#/definitions/dimensionRef\" },\n-        {\n-          \"properties\": {\n-            \"type\": { \"$ref\": \"#/definitions/columnTypes\" },\n-            \"values\": {\n-              \"title\": \"Dimension values\",\n-              \"description\": \"An array of valid string values for this dimension\",\n-              \"type\": \"array\",\n-              \"uniqueItems\": true,\n-              \"items\": {\n-                \"type\": \"string\"\n-              },\n-              \"default\": []\n+        \"measure\": {\n+            \"title\": \"Measure\",\n+            \"description\": \"Metric definitions are extensible objects that contain a type field and one or more additional attributes. Each type is tied to logic in Elide that generates a metric function.\",\n+            \"type\": \"object\",\n+            \"properties\": {\n+                \"name\": {\n+                    \"title\": \"Metric name\",\n+                    \"description\": \"The name of the metric. This will be the same as the POJO field name.\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideFieldName\"\n+                },\n+                \"description\": {\n+                    \"title\": \"Metric description\",\n+                    \"description\": \"A long description of the metric.\",\n+                    \"type\": \"string\"\n+                },\n+                \"category\": {\n+                    \"title\": \"Measure group category\",\n+                    \"description\": \"Category for grouping\",\n+                    \"type\": \"string\"\n+                },\n+                \"hidden\": {\n+                    \"title\": \"Hide/Show measure\",\n+                    \"description\": \"Whether this metric is exposed via API metadata\",\n+                    \"type\": \"boolean\",\n+                    \"default\": false\n+                },\n+                \"readAccess\": {\n+                    \"title\": \"Measure read access\",\n+                    \"description\": \"Read permission for the metric.\",\n+                    \"type\": \"string\",\n+                    \"default\": \"Prefab.Role.All\"\n+                },\n+                \"definition\": {\n+                    \"title\": \"Metric definition\",\n+                    \"description\": \"The definition of the metric\",\n+                    \"type\": \"string\"\n+                },\n+                \"queryPlanResolver\": {\n+                    \"title\": \"query plan resolver class\",\n+                    \"description\": \"The JVM function class which maps a metric to a query plan\",\n+                    \"pattern\": \"^([a-zA-Z]+[a-zA-Z0-9_]*\\\\.)+class\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a97b49ee862de53288184e76db6b6be704d2789"}, "originalPosition": 311}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDc1MDEzMg==", "bodyText": "I was going to do in next PR, along with formats required for other schemas", "url": "https://github.com/yahoo/elide/pull/1662#discussion_r524750132", "createdAt": "2020-11-16T23:30:49Z", "author": {"login": "rishi-aga"}, "path": "elide-model-config/src/main/resources/elideTableSchema.json", "diffHunk": "@@ -1,454 +1,426 @@\n {\n-  \"$schema\": \"https://json-schema.org/draft-06/schema#\",\n-  \"$id\": \"https://elide.io/schemas/table_schema_v1#\",\n-  \"description\": \"Elide Table config json/hjson schema\",\n-  \"definitions\": {\n-    \"grain\": {\n-      \"title\": \"Grains\",\n-      \"description\": \"Grains can have SQL expressions that can substitute column with the dimension definition expression\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"type\": {\n-          \"title\": \"Time granularity\",\n-          \"description\": \"Indicates grain time granularity\",\n-          \"type\": \"string\",\n-          \"anyOf\": [\n-            { \"pattern\": \"^[Ss][Ee][Cc][Oo][Nn][Dd]$\" },\n-            { \"pattern\": \"^[Mm][Ii][Nn][Uu][Tt][Ee]$\" },\n-            { \"pattern\": \"^[Hh][Oo][Uu][Rr]$\" },\n-            { \"pattern\": \"^[Dd][Aa][Yy]$\" },\n-            { \"pattern\": \"^[Ii][Ss][Oo][Ww][Ee][Ee][Kk]$\" },\n-            { \"pattern\": \"^[Ww][Ee][Ee][Kk]$\" },\n-            { \"pattern\": \"^[Mm][Oo][Nn][Tt][Hh]$\" },\n-            { \"pattern\": \"^[Qq][Uu][Aa][Rr][Tt][Ee][Rr]$\" },\n-            { \"pattern\": \"^[Yy][Ee][Aa][Rr]$\" }\n-          ]\n-        },\n-        \"sql\": {\n-          \"title\": \"Grain SQL\",\n-          \"description\": \"Grain SQL query\",\n-          \"type\": \"string\"\n-        }\n-      },\n-      \"additionalProperties\": false\n-    },\n-    \"join\": {\n-      \"title\": \"Join\",\n-      \"description\": \"Joins describe the SQL expression necessary to join two physical tables. Joins can be used when defining dimension columns that reference other tables.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Join name\",\n-          \"description\": \"The name of the join relationship.\",\n-          \"type\": \"string\"\n-        },\n-        \"to\": {\n-          \"title\": \"Join table name\",\n-          \"description\": \"The name of the table that is being joined to\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"type\": {\n-          \"title\": \"Type of Join\",\n-          \"description\": \"Type of the join - toOne or toMany\",\n-          \"type\": \"string\",\n-          \"anyOf\": [\n-            { \"pattern\": \"^[Tt][Oo][Oo][Nn][Ee]$\" },\n-            { \"pattern\": \"^[Tt][Oo][Mm][Aa][Nn][Yy]$\" }\n-          ]\n-        },\n-        \"definition\": {\n-          \"title\": \"Join definition SQL\",\n-          \"description\": \"Templated SQL expression that represents the ON clause of the join\",\n-          \"type\": \"string\"\n-        }\n-      },\n-      \"required\": [\n-        \"name\",\n-        \"to\",\n-        \"type\",\n-        \"definition\"\n-      ],\n-      \"additionalProperties\": false\n-    },\n-    \"columnTypes\": {\n-      \"title\": \"Dimension field type\",\n-      \"description\": \"The data type of the dimension field\",\n-      \"type\": \"string\",\n-      \"anyOf\": [\n-        { \"pattern\": \"^[Ii][Nn][Tt][Ee][Gg][Ee][Rr]$\" },\n-        { \"pattern\": \"^[Dd][Ee][Cc][Ii][Mm][Aa][Ll]$\" },\n-        { \"pattern\": \"^[Mm][Oo][Nn][Ee][Yy]$\" },\n-        { \"pattern\": \"^[Tt][Ee][Xx][Tt]$\" },\n-        { \"pattern\": \"^[Cc][Oo][Oo][Rr][Dd][Ii][Nn][Aa][Tt][Ee]$\" },\n-        { \"pattern\": \"^[Bb][Oo][Oo][Ll][Ee][Aa][Nn]$\" }\n-      ]\n-    },\n-    \"cardinalityTypes\": {\n-      \"title\": \"Table/Dimension cardinality\",\n-      \"description\": \"Table/Dimension cardinality: (tiny, small, medium, large, huge). The relative sizes are decided by the table designer(s).\",\n-      \"type\": \"string\",\n-      \"anyOf\": [\n-        { \"pattern\": \"^[Tt][Ii][Nn][Yy]$\" },\n-        { \"pattern\": \"^[Ss][Mm][Aa][Ll][Ll]$\" },\n-        { \"pattern\": \"^[Mm][Ee][Dd][Ii][Uu][Mm]$\" },\n-        { \"pattern\": \"^[Ll][Aa][Rr][Gg][Ee]$\" },\n-        { \"pattern\": \"^[Hh][Uu][Gg][Ee]$\" }\n-      ]\n-    },\n-    \"measure\": {\n-      \"title\": \"Measure\",\n-      \"description\": \"Metric definitions are extensible objects that contain a type field and one or more additional attributes. Each type is tied to logic in Elide that generates a metric function.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Metric name\",\n-          \"description\": \"The name of the metric. This will be the same as the POJO field name.\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"description\": {\n-          \"title\": \"Metric description\",\n-          \"description\": \"A long description of the metric.\",\n-          \"type\": \"string\"\n-        },\n-        \"category\": {\n-          \"title\": \"Measure group category\",\n-          \"description\": \"Category for grouping\",\n-          \"type\": \"string\"\n-        },\n-        \"hidden\": {\n-          \"title\": \"Hide/Show measure\",\n-          \"description\": \"Whether this metric is exposed via API metadata\",\n-          \"type\": \"boolean\",\n-          \"default\": false\n-        },\n-        \"readAccess\": {\n-          \"title\": \"Measure read access\",\n-          \"description\": \"Read permission for the metric.\",\n-          \"type\": \"string\",\n-          \"default\": \"Prefab.Role.All\"\n-        },\n-        \"definition\": {\n-          \"title\": \"Metric definition\",\n-          \"description\": \"The definition of the metric\",\n-          \"type\": \"string\"\n-        },\n-        \"queryPlanResolver\": {\n-          \"title\": \"query plan resolver class\",\n-          \"description\": \"The JVM function class which maps a metric to a query plan\",\n-          \"pattern\": \"^([a-zA-Z]+[a-zA-Z0-9_]*\\\\.)+class\",\n-          \"type\": \"string\"\n-        },\n-        \"type\": { \"$ref\": \"#/definitions/columnTypes\" },\n-        \"tags\": {\n-          \"title\": \"Measure tags\",\n-          \"description\": \"An array of string based tags for measures\",\n-          \"type\": \"array\",\n-          \"uniqueItems\": true,\n-          \"items\": {\n-            \"type\": \"string\"\n-          },\n-          \"default\": []\n-        }\n-      },\n-      \"required\": [\n-        \"name\",\n-        \"definition\"\n-      ],\n-      \"additionalProperties\": false\n-    },\n-    \"dimensionRef\": {\n-      \"title\": \"Dimension\",\n-      \"description\": \"Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Dimension name\",\n-          \"description\": \"The name of the dimension. This will be the same as the POJO field name.\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"description\": {\n-          \"title\": \"Dimension description\",\n-          \"description\": \"A long description of the dimension.\",\n-          \"type\": \"string\"\n-        },\n-        \"category\": {\n-          \"title\": \"Dimension group category\",\n-          \"description\": \"Category for grouping dimension\",\n-          \"type\": \"string\"\n-        },\n-        \"hidden\": {\n-          \"title\": \"Hide/Show dimension\",\n-          \"description\": \"Whether this dimension is exposed via API metadata\",\n-          \"type\": \"boolean\",\n-          \"default\": false\n-        },\n-        \"readAccess\": {\n-          \"title\": \"Dimension read access\",\n-          \"description\": \"Read permission for the dimension.\",\n-          \"type\": \"string\",\n-          \"default\": \"Prefab.Role.All\"\n-        },\n-        \"definition\": {\n-          \"title\": \"Dimension definition\",\n-          \"description\": \"The definition of the dimension\",\n-          \"type\": \"string\",\n-          \"default\": \"\"\n-        },\n-        \"cardinality\": {\n-          \"$ref\": \"#/definitions/cardinalityTypes\"\n+    \"definitions\": {\n+        \"join\": {\n+            \"title\": \"Join\",\n+            \"description\": \"Joins describe the SQL expression necessary to join two physical tables. Joins can be used when defining dimension columns that reference other tables.\",\n+            \"type\": \"object\",\n+            \"properties\": {\n+                \"name\": {\n+                    \"title\": \"Join name\",\n+                    \"description\": \"The name of the join relationship.\",\n+                    \"type\": \"string\"\n+                },\n+                \"to\": {\n+                    \"title\": \"Join table name\",\n+                    \"description\": \"The name of the table that is being joined to\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideName\"\n+                },\n+                \"type\": {\n+                    \"title\": \"Type of Join\",\n+                    \"description\": \"Type of the join - toOne or toMany\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideJoinType\"\n+                },\n+                \"definition\": {\n+                    \"title\": \"Join definition SQL\",\n+                    \"description\": \"Templated SQL expression that represents the ON clause of the join\",\n+                    \"type\": \"string\"\n+                }\n+            },\n+            \"required\": [\n+                \"name\",\n+                \"to\",\n+                \"type\",\n+                \"definition\"\n+            ],\n+            \"additionalProperties\": false\n         },\n-        \"tags\": {\n-          \"title\": \"Dimension tags\",\n-          \"description\": \"An array of string based tags for dimensions\",\n-          \"type\": \"array\",\n-          \"uniqueItems\": true,\n-          \"items\": {\n-            \"type\": \"string\"\n-          },\n-          \"default\": []\n-        }\n-\n-      }\n-    },\n-    \"dimension\": {\n-      \"title\": \"Dimension\",\n-      \"description\": \"Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n-      \"type\": \"object\",\n-      \"allOf\": [\n-        { \"$ref\": \"#/definitions/dimensionRef\" },\n-        {\n-          \"properties\": {\n-            \"type\": { \"$ref\": \"#/definitions/columnTypes\" },\n-            \"values\": {\n-              \"title\": \"Dimension values\",\n-              \"description\": \"An array of valid string values for this dimension\",\n-              \"type\": \"array\",\n-              \"uniqueItems\": true,\n-              \"items\": {\n-                \"type\": \"string\"\n-              },\n-              \"default\": []\n+        \"measure\": {\n+            \"title\": \"Measure\",\n+            \"description\": \"Metric definitions are extensible objects that contain a type field and one or more additional attributes. Each type is tied to logic in Elide that generates a metric function.\",\n+            \"type\": \"object\",\n+            \"properties\": {\n+                \"name\": {\n+                    \"title\": \"Metric name\",\n+                    \"description\": \"The name of the metric. This will be the same as the POJO field name.\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideFieldName\"\n+                },\n+                \"description\": {\n+                    \"title\": \"Metric description\",\n+                    \"description\": \"A long description of the metric.\",\n+                    \"type\": \"string\"\n+                },\n+                \"category\": {\n+                    \"title\": \"Measure group category\",\n+                    \"description\": \"Category for grouping\",\n+                    \"type\": \"string\"\n+                },\n+                \"hidden\": {\n+                    \"title\": \"Hide/Show measure\",\n+                    \"description\": \"Whether this metric is exposed via API metadata\",\n+                    \"type\": \"boolean\",\n+                    \"default\": false\n+                },\n+                \"readAccess\": {\n+                    \"title\": \"Measure read access\",\n+                    \"description\": \"Read permission for the metric.\",\n+                    \"type\": \"string\",\n+                    \"default\": \"Prefab.Role.All\"\n+                },\n+                \"definition\": {\n+                    \"title\": \"Metric definition\",\n+                    \"description\": \"The definition of the metric\",\n+                    \"type\": \"string\"\n+                },\n+                \"queryPlanResolver\": {\n+                    \"title\": \"query plan resolver class\",\n+                    \"description\": \"The JVM function class which maps a metric to a query plan\",\n+                    \"pattern\": \"^([a-zA-Z]+[a-zA-Z0-9_]*\\\\.)+class\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDcxNDk3MQ=="}, "originalCommit": {"oid": "9a97b49ee862de53288184e76db6b6be704d2789"}, "originalPosition": 311}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4OTkzOTQ3OnYy", "diffSide": "RIGHT", "path": "elide-model-config/src/main/resources/elideTableSchema.json", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMzowNDozOFrOH0aQXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMzozMDozNVrOH0cMXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDcxODE3NA==", "bodyText": "Should we make a format for this?", "url": "https://github.com/yahoo/elide/pull/1662#discussion_r524718174", "createdAt": "2020-11-16T23:04:38Z", "author": {"login": "aklish"}, "path": "elide-model-config/src/main/resources/elideTableSchema.json", "diffHunk": "@@ -1,454 +1,426 @@\n {\n-  \"$schema\": \"https://json-schema.org/draft-06/schema#\",\n-  \"$id\": \"https://elide.io/schemas/table_schema_v1#\",\n-  \"description\": \"Elide Table config json/hjson schema\",\n-  \"definitions\": {\n-    \"grain\": {\n-      \"title\": \"Grains\",\n-      \"description\": \"Grains can have SQL expressions that can substitute column with the dimension definition expression\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"type\": {\n-          \"title\": \"Time granularity\",\n-          \"description\": \"Indicates grain time granularity\",\n-          \"type\": \"string\",\n-          \"anyOf\": [\n-            { \"pattern\": \"^[Ss][Ee][Cc][Oo][Nn][Dd]$\" },\n-            { \"pattern\": \"^[Mm][Ii][Nn][Uu][Tt][Ee]$\" },\n-            { \"pattern\": \"^[Hh][Oo][Uu][Rr]$\" },\n-            { \"pattern\": \"^[Dd][Aa][Yy]$\" },\n-            { \"pattern\": \"^[Ii][Ss][Oo][Ww][Ee][Ee][Kk]$\" },\n-            { \"pattern\": \"^[Ww][Ee][Ee][Kk]$\" },\n-            { \"pattern\": \"^[Mm][Oo][Nn][Tt][Hh]$\" },\n-            { \"pattern\": \"^[Qq][Uu][Aa][Rr][Tt][Ee][Rr]$\" },\n-            { \"pattern\": \"^[Yy][Ee][Aa][Rr]$\" }\n-          ]\n-        },\n-        \"sql\": {\n-          \"title\": \"Grain SQL\",\n-          \"description\": \"Grain SQL query\",\n-          \"type\": \"string\"\n-        }\n-      },\n-      \"additionalProperties\": false\n-    },\n-    \"join\": {\n-      \"title\": \"Join\",\n-      \"description\": \"Joins describe the SQL expression necessary to join two physical tables. Joins can be used when defining dimension columns that reference other tables.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Join name\",\n-          \"description\": \"The name of the join relationship.\",\n-          \"type\": \"string\"\n-        },\n-        \"to\": {\n-          \"title\": \"Join table name\",\n-          \"description\": \"The name of the table that is being joined to\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"type\": {\n-          \"title\": \"Type of Join\",\n-          \"description\": \"Type of the join - toOne or toMany\",\n-          \"type\": \"string\",\n-          \"anyOf\": [\n-            { \"pattern\": \"^[Tt][Oo][Oo][Nn][Ee]$\" },\n-            { \"pattern\": \"^[Tt][Oo][Mm][Aa][Nn][Yy]$\" }\n-          ]\n-        },\n-        \"definition\": {\n-          \"title\": \"Join definition SQL\",\n-          \"description\": \"Templated SQL expression that represents the ON clause of the join\",\n-          \"type\": \"string\"\n-        }\n-      },\n-      \"required\": [\n-        \"name\",\n-        \"to\",\n-        \"type\",\n-        \"definition\"\n-      ],\n-      \"additionalProperties\": false\n-    },\n-    \"columnTypes\": {\n-      \"title\": \"Dimension field type\",\n-      \"description\": \"The data type of the dimension field\",\n-      \"type\": \"string\",\n-      \"anyOf\": [\n-        { \"pattern\": \"^[Ii][Nn][Tt][Ee][Gg][Ee][Rr]$\" },\n-        { \"pattern\": \"^[Dd][Ee][Cc][Ii][Mm][Aa][Ll]$\" },\n-        { \"pattern\": \"^[Mm][Oo][Nn][Ee][Yy]$\" },\n-        { \"pattern\": \"^[Tt][Ee][Xx][Tt]$\" },\n-        { \"pattern\": \"^[Cc][Oo][Oo][Rr][Dd][Ii][Nn][Aa][Tt][Ee]$\" },\n-        { \"pattern\": \"^[Bb][Oo][Oo][Ll][Ee][Aa][Nn]$\" }\n-      ]\n-    },\n-    \"cardinalityTypes\": {\n-      \"title\": \"Table/Dimension cardinality\",\n-      \"description\": \"Table/Dimension cardinality: (tiny, small, medium, large, huge). The relative sizes are decided by the table designer(s).\",\n-      \"type\": \"string\",\n-      \"anyOf\": [\n-        { \"pattern\": \"^[Tt][Ii][Nn][Yy]$\" },\n-        { \"pattern\": \"^[Ss][Mm][Aa][Ll][Ll]$\" },\n-        { \"pattern\": \"^[Mm][Ee][Dd][Ii][Uu][Mm]$\" },\n-        { \"pattern\": \"^[Ll][Aa][Rr][Gg][Ee]$\" },\n-        { \"pattern\": \"^[Hh][Uu][Gg][Ee]$\" }\n-      ]\n-    },\n-    \"measure\": {\n-      \"title\": \"Measure\",\n-      \"description\": \"Metric definitions are extensible objects that contain a type field and one or more additional attributes. Each type is tied to logic in Elide that generates a metric function.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Metric name\",\n-          \"description\": \"The name of the metric. This will be the same as the POJO field name.\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"description\": {\n-          \"title\": \"Metric description\",\n-          \"description\": \"A long description of the metric.\",\n-          \"type\": \"string\"\n-        },\n-        \"category\": {\n-          \"title\": \"Measure group category\",\n-          \"description\": \"Category for grouping\",\n-          \"type\": \"string\"\n-        },\n-        \"hidden\": {\n-          \"title\": \"Hide/Show measure\",\n-          \"description\": \"Whether this metric is exposed via API metadata\",\n-          \"type\": \"boolean\",\n-          \"default\": false\n-        },\n-        \"readAccess\": {\n-          \"title\": \"Measure read access\",\n-          \"description\": \"Read permission for the metric.\",\n-          \"type\": \"string\",\n-          \"default\": \"Prefab.Role.All\"\n-        },\n-        \"definition\": {\n-          \"title\": \"Metric definition\",\n-          \"description\": \"The definition of the metric\",\n-          \"type\": \"string\"\n-        },\n-        \"queryPlanResolver\": {\n-          \"title\": \"query plan resolver class\",\n-          \"description\": \"The JVM function class which maps a metric to a query plan\",\n-          \"pattern\": \"^([a-zA-Z]+[a-zA-Z0-9_]*\\\\.)+class\",\n-          \"type\": \"string\"\n-        },\n-        \"type\": { \"$ref\": \"#/definitions/columnTypes\" },\n-        \"tags\": {\n-          \"title\": \"Measure tags\",\n-          \"description\": \"An array of string based tags for measures\",\n-          \"type\": \"array\",\n-          \"uniqueItems\": true,\n-          \"items\": {\n-            \"type\": \"string\"\n-          },\n-          \"default\": []\n-        }\n-      },\n-      \"required\": [\n-        \"name\",\n-        \"definition\"\n-      ],\n-      \"additionalProperties\": false\n-    },\n-    \"dimensionRef\": {\n-      \"title\": \"Dimension\",\n-      \"description\": \"Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Dimension name\",\n-          \"description\": \"The name of the dimension. This will be the same as the POJO field name.\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"description\": {\n-          \"title\": \"Dimension description\",\n-          \"description\": \"A long description of the dimension.\",\n-          \"type\": \"string\"\n-        },\n-        \"category\": {\n-          \"title\": \"Dimension group category\",\n-          \"description\": \"Category for grouping dimension\",\n-          \"type\": \"string\"\n-        },\n-        \"hidden\": {\n-          \"title\": \"Hide/Show dimension\",\n-          \"description\": \"Whether this dimension is exposed via API metadata\",\n-          \"type\": \"boolean\",\n-          \"default\": false\n-        },\n-        \"readAccess\": {\n-          \"title\": \"Dimension read access\",\n-          \"description\": \"Read permission for the dimension.\",\n-          \"type\": \"string\",\n-          \"default\": \"Prefab.Role.All\"\n-        },\n-        \"definition\": {\n-          \"title\": \"Dimension definition\",\n-          \"description\": \"The definition of the dimension\",\n-          \"type\": \"string\",\n-          \"default\": \"\"\n-        },\n-        \"cardinality\": {\n-          \"$ref\": \"#/definitions/cardinalityTypes\"\n+    \"definitions\": {\n+        \"join\": {\n+            \"title\": \"Join\",\n+            \"description\": \"Joins describe the SQL expression necessary to join two physical tables. Joins can be used when defining dimension columns that reference other tables.\",\n+            \"type\": \"object\",\n+            \"properties\": {\n+                \"name\": {\n+                    \"title\": \"Join name\",\n+                    \"description\": \"The name of the join relationship.\",\n+                    \"type\": \"string\"\n+                },\n+                \"to\": {\n+                    \"title\": \"Join table name\",\n+                    \"description\": \"The name of the table that is being joined to\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideName\"\n+                },\n+                \"type\": {\n+                    \"title\": \"Type of Join\",\n+                    \"description\": \"Type of the join - toOne or toMany\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideJoinType\"\n+                },\n+                \"definition\": {\n+                    \"title\": \"Join definition SQL\",\n+                    \"description\": \"Templated SQL expression that represents the ON clause of the join\",\n+                    \"type\": \"string\"\n+                }\n+            },\n+            \"required\": [\n+                \"name\",\n+                \"to\",\n+                \"type\",\n+                \"definition\"\n+            ],\n+            \"additionalProperties\": false\n         },\n-        \"tags\": {\n-          \"title\": \"Dimension tags\",\n-          \"description\": \"An array of string based tags for dimensions\",\n-          \"type\": \"array\",\n-          \"uniqueItems\": true,\n-          \"items\": {\n-            \"type\": \"string\"\n-          },\n-          \"default\": []\n-        }\n-\n-      }\n-    },\n-    \"dimension\": {\n-      \"title\": \"Dimension\",\n-      \"description\": \"Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n-      \"type\": \"object\",\n-      \"allOf\": [\n-        { \"$ref\": \"#/definitions/dimensionRef\" },\n-        {\n-          \"properties\": {\n-            \"type\": { \"$ref\": \"#/definitions/columnTypes\" },\n-            \"values\": {\n-              \"title\": \"Dimension values\",\n-              \"description\": \"An array of valid string values for this dimension\",\n-              \"type\": \"array\",\n-              \"uniqueItems\": true,\n-              \"items\": {\n-                \"type\": \"string\"\n-              },\n-              \"default\": []\n+        \"measure\": {\n+            \"title\": \"Measure\",\n+            \"description\": \"Metric definitions are extensible objects that contain a type field and one or more additional attributes. Each type is tied to logic in Elide that generates a metric function.\",\n+            \"type\": \"object\",\n+            \"properties\": {\n+                \"name\": {\n+                    \"title\": \"Metric name\",\n+                    \"description\": \"The name of the metric. This will be the same as the POJO field name.\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideFieldName\"\n+                },\n+                \"description\": {\n+                    \"title\": \"Metric description\",\n+                    \"description\": \"A long description of the metric.\",\n+                    \"type\": \"string\"\n+                },\n+                \"category\": {\n+                    \"title\": \"Measure group category\",\n+                    \"description\": \"Category for grouping\",\n+                    \"type\": \"string\"\n+                },\n+                \"hidden\": {\n+                    \"title\": \"Hide/Show measure\",\n+                    \"description\": \"Whether this metric is exposed via API metadata\",\n+                    \"type\": \"boolean\",\n+                    \"default\": false\n+                },\n+                \"readAccess\": {\n+                    \"title\": \"Measure read access\",\n+                    \"description\": \"Read permission for the metric.\",\n+                    \"type\": \"string\",\n+                    \"default\": \"Prefab.Role.All\"\n+                },\n+                \"definition\": {\n+                    \"title\": \"Metric definition\",\n+                    \"description\": \"The definition of the metric\",\n+                    \"type\": \"string\"\n+                },\n+                \"queryPlanResolver\": {\n+                    \"title\": \"query plan resolver class\",\n+                    \"description\": \"The JVM function class which maps a metric to a query plan\",\n+                    \"pattern\": \"^([a-zA-Z]+[a-zA-Z0-9_]*\\\\.)+class\",\n+                    \"type\": \"string\"\n+                },\n+                \"type\": {\n+                    \"title\": \"Measure field type\",\n+                    \"description\": \"The data type of the measure field\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideFieldType\"\n+                },\n+                \"tags\": {\n+                    \"title\": \"Measure tags\",\n+                    \"description\": \"An array of string based tags for measures\",\n+                    \"type\": \"array\",\n+                    \"uniqueItems\": true,\n+                    \"items\": {\n+                        \"type\": \"string\"\n+                    }\n+                }\n             },\n-            \"tableSource\": {\n-              \"title\": \"Table stores dimension values\",\n-              \"description\": \"Table and column name where to find the values : tableName.columnName\",\n-              \"type\": \"string\"\n+            \"required\": [\n+                \"name\",\n+                \"type\",\n+                \"definition\"\n+            ],\n+            \"additionalProperties\": false\n+        },\n+        \"dimensionRef\": {\n+            \"title\": \"Dimension\",\n+            \"description\": \"Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n+            \"type\": \"object\",\n+            \"properties\": {\n+                \"name\": {\n+                    \"title\": \"Dimension name\",\n+                    \"description\": \"The name of the dimension. This will be the same as the POJO field name.\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideFieldName\"\n+                },\n+                \"description\": {\n+                    \"title\": \"Dimension description\",\n+                    \"description\": \"A long description of the dimension.\",\n+                    \"type\": \"string\"\n+                },\n+                \"category\": {\n+                    \"title\": \"Dimension group category\",\n+                    \"description\": \"Category for grouping dimension\",\n+                    \"type\": \"string\"\n+                },\n+                \"hidden\": {\n+                    \"title\": \"Hide/Show dimension\",\n+                    \"description\": \"Whether this dimension is exposed via API metadata\",\n+                    \"type\": \"boolean\",\n+                    \"default\": false\n+                },\n+                \"readAccess\": {\n+                    \"title\": \"Dimension read access\",\n+                    \"description\": \"Read permission for the dimension.\",\n+                    \"type\": \"string\",\n+                    \"default\": \"Prefab.Role.All\"\n+                },\n+                \"definition\": {\n+                    \"title\": \"Dimension definition\",\n+                    \"description\": \"The definition of the dimension\",\n+                    \"type\": \"string\"\n+                },\n+                \"cardinality\": {\n+                    \"title\": \"Dimension cardinality\",\n+                    \"description\": \"Dimension cardinality: (tiny, small, medium, large, huge). The relative sizes are decided by the table designer(s).\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideCardiality\"\n+                },\n+                \"tags\": {\n+                    \"title\": \"Dimension tags\",\n+                    \"description\": \"An array of string based tags for dimensions\",\n+                    \"type\": \"array\",\n+                    \"uniqueItems\": true,\n+                    \"items\": {\n+                        \"type\": \"string\"\n+                    }\n+                }\n             }\n-          }\n-        }\n-      ],\n-      \"required\": [\n-        \"name\",\n-        \"type\",\n-        \"definition\"\n-      ],\n-      \"oneOf\" : [\n-        {\n-          \"required\" : [\"values\"]\n         },\n-        {\n-          \"required\" : [\"tableSource\"]\n+        \"dimension\": {\n+            \"title\": \"Dimension\",\n+            \"description\": \"Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n+            \"type\": \"object\",\n+            \"allOf\": [\n+                {\n+                    \"$ref\": \"#/definitions/dimensionRef\"\n+                },\n+                {\n+                    \"properties\": {\n+                        \"type\": {\n+                            \"title\": \"Dimension field type\",\n+                            \"description\": \"The data type of the dimension field\",\n+                            \"type\": \"string\",\n+                            \"format\": \"elideFieldType\"\n+                        },\n+                        \"values\": {\n+                            \"title\": \"Dimension values\",\n+                            \"description\": \"An array of valid string values for this dimension\",\n+                            \"type\": \"array\",\n+                            \"uniqueItems\": true,\n+                            \"items\": {\n+                                \"type\": \"string\"\n+                            }\n+                        },\n+                        \"tableSource\": {\n+                            \"title\": \"Table stores dimension values\",\n+                            \"description\": \"Table and column name where to find the values : tableName.columnName\",\n+                            \"type\": \"string\"\n+                        }\n+                    },\n+                    \"dependencies\": {\n+                        \"values\": {\n+                            \"not\": {\n+                                \"required\": [\n+                                    \"tableSource\"\n+                                ]\n+                            }\n+                        },\n+                        \"tableSource\": {\n+                            \"not\": {\n+                                \"required\": [\n+                                    \"values\"\n+                                ]\n+                            }\n+                        }\n+                    }\n+                }\n+            ],\n+            \"required\": [\n+                \"name\",\n+                \"type\",\n+                \"definition\"\n+            ]\n         },\n-        {\n-          \"not\" : {\n-            \"anyOf\" : [\n-              { \"required\" : [\"values\"] },\n-              { \"required\" : [\"tableSource\"] }\n+        \"timeDimension\": {\n+            \"title\": \"Time Dimension\",\n+            \"description\": \"Time Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n+            \"type\": \"object\",\n+            \"allOf\": [\n+                {\n+                    \"$ref\": \"#/definitions/dimensionRef\"\n+                },\n+                {\n+                    \"properties\": {\n+                        \"type\": {\n+                            \"title\": \"Dimension field type\",\n+                            \"description\": \"The data type of the dimension field\",\n+                            \"type\": \"string\",\n+                            \"format\": \"elideTimeFieldType\"\n+                        },\n+                        \"grain\": {\n+                            \"title\": \"Grains\",\n+                            \"description\": \"Grains can have SQL expressions that can substitute column with the dimension definition expression\",\n+                            \"type\": \"object\",\n+                            \"properties\": {\n+                                \"type\": {\n+                                    \"title\": \"Time granularity\",\n+                                    \"description\": \"Indicates grain time granularity\",\n+                                    \"type\": \"string\",\n+                                    \"format\": \"elideGrainType\"\n+                                },\n+                                \"sql\": {\n+                                    \"title\": \"Grain SQL\",\n+                                    \"description\": \"Grain SQL query\",\n+                                    \"type\": \"string\"\n+                                }\n+                            },\n+                            \"additionalProperties\": false\n+                        }\n+                    }\n+                }\n+            ],\n+            \"required\": [\n+                \"name\",\n+                \"type\",\n+                \"definition\"\n             ]\n-          }\n         }\n-      ]\n     },\n-    \"timeDimension\": {\n-      \"title\": \"Time Dimension\",\n-      \"description\": \"Time Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n-      \"type\": \"object\",\n-      \"allOf\": [\n-        { \"$ref\": \"#/definitions/dimensionRef\" },\n-        {\n-          \"properties\": {\n-            \"type\": {\n-              \"title\": \"Dimension field type\",\n-              \"description\": \"The data type of the dimension field\",\n-              \"type\": \"string\",\n-              \"pattern\": \"^[Tt][Ii][Mm][Ee]$\"\n-            },\n-            \"grain\": {\n-              \"$ref\":\"#/definitions/grain\"\n-            }\n-          }\n-        }\n-      ],\n-      \"required\": [\n-        \"name\",\n-        \"type\",\n-        \"definition\"\n-      ]\n-    }\n-  },\n-  \"type\": \"object\",\n-  \"properties\": {\n-    \"tables\": {\n-      \"title\": \"Elide Table Models\",\n-      \"description\": \"Array of elide Table Models\",\n-      \"type\": \"array\",\n-      \"uniqueItems\": true,\n-      \"items\": {\n-        \"title\": \"Elide Table Models\",\n-        \"description\": \"Array of elide Table Models\",\n-        \"type\": \"object\",\n-        \"properties\": {\n-          \"name\": {\n-            \"title\": \"Table Model Name\",\n-            \"description\": \"The name of the model. This will be the same as the POJO class name.\",\n-            \"type\": \"string\",\n-            \"pattern\": \"^[A-Za-z][0-9A-Za-z]*$\"\n-          },\n-          \"schema\": {\n-            \"title\": \"Table Schema\",\n-            \"description\": \"The database or schema where the model lives.\",\n-            \"type\": \"string\",\n-            \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\",\n-            \"default\": \"\"\n-          },\n-          \"dbConnectionName\": {\n-            \"title\": \"DB Connection Name\",\n-            \"description\": \"The database connection name for this model.\",\n-            \"type\": \"string\",\n-            \"pattern\": \"^[A-Za-z][0-9A-Za-z_]*$\",\n-            \"default\": \"\"\n-          },\n-          \"filterTemplate\": {\n-            \"title\": \"Required RSQL Filter Template\",\n-            \"description\": \"Client queries must include a filter conforming to this RSQL template.\",\n-            \"type\": \"string\",\n-            \"pattern\": \"^[A-Za-z][0-9A-Za-z_]*(==|!=|>=|>|<|<=|=[a-z]+=)(.*)\",\n-            \"default\": \"\"\n-          },\n-          \"isFact\": {\n-            \"title\": \"Is Fact Table\",\n-            \"description\": \"Whether this table is a fact\",\n-            \"type\": \"boolean\",\n-            \"default\": true\n-          },\n-          \"hidden\": {\n-            \"title\": \"Hide/Show Table\",\n-            \"description\": \"Whether this table is exposed via API metadata\",\n-            \"type\": \"boolean\",\n-            \"default\": false\n-          },\n-          \"description\": {\n-            \"title\": \"Table Model description\",\n-            \"description\": \"A long description of the model.\",\n-            \"type\": \"string\"\n-          },\n-          \"cardinality\": {\n-            \"$ref\": \"#/definitions/cardinalityTypes\"\n-          },\n-          \"readAccess\": {\n-            \"title\": \"Table read access\",\n-            \"description\": \"Read permission for the table.\",\n-            \"type\": \"string\",\n-            \"default\": \"Prefab.Role.All\"\n-          },\n-          \"joins\": {\n-            \"title\": \"Table joins\",\n-            \"description\": \"Describes SQL joins to other tables for column references.\",\n-            \"type\": \"array\",\n-            \"items\": {\n-              \"$ref\": \"#/definitions/join\"\n-            },\n-            \"default\": []\n-          },\n-          \"measures\": {\n-            \"title\": \"Table measures\",\n-            \"description\": \"Zero or more metric definitions.\",\n-            \"type\": \"array\",\n-            \"items\": {\n-              \"$ref\": \"#/definitions/measure\"\n-            },\n-            \"default\": []\n-          },\n-          \"dimensions\": {\n-            \"title\": \"Table dimensions\",\n-            \"description\": \"One or more dimension definitions.\",\n-            \"type\": \"array\",\n-            \"items\": {\n-              \"anyOf\": [\n-                {\"$ref\": \"#/definitions/dimension\"} ,\n-                {\"$ref\": \"#/definitions/timeDimension\"}\n-              ]\n-            },\n-            \"default\": []\n-          },\n-          \"tags\": {\n-            \"title\": \"Table tags\",\n-            \"description\": \"An array of string based tags\",\n+    \"type\": \"object\",\n+    \"title\": \"Elide Table Root Schema\",\n+    \"description\": \"Elide Table config json/hjson schema\",\n+    \"properties\": {\n+        \"tables\": {\n             \"type\": \"array\",\n+            \"title\": \"Elide Model Collection\",\n+            \"description\": \"An array of Elide table configs.\",\n             \"uniqueItems\": true,\n+            \"minItems\": 1,\n             \"items\": {\n-              \"type\": \"string\"\n-            },\n-            \"default\": []\n-          }\n-        },\n-        \"oneOf\": [\n-          {\n-            \"properties\": {\n-              \"sql\": {\n-                \"title\": \"Table SQL\",\n-                \"description\": \"SQL query which is used to populate the table.\",\n-                \"type\": \"string\",\n-                \"default\": \"\"\n-              }\n-            },\n-            \"required\": [\n-              \"name\",\n-              \"sql\",\n-              \"dimensions\"\n-            ]\n-          } ,\n-          {\n-            \"properties\": {\n-              \"table\": {\n-                \"title\": \"Table name\",\n-                \"description\": \"The physical table name where the model lives.\",\n-                \"type\": \"string\",\n-                \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\",\n-                \"default\": \"\"\n-              }\n-            },\n-            \"required\": [\n-              \"name\",\n-              \"table\",\n-              \"dimensions\"\n-            ]\n-          },\n-          {\n-            \"properties\": {\n-              \"extend\": {\n-                \"title\": \"Table Extends\",\n-                \"description\": \"Extends another logical table.\",\n-                \"type\": \"string\",\n-                \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\",\n-                \"default\": \"\"\n-              }\n-            },\n-            \"required\": [\n-              \"name\",\n-              \"extend\"\n-            ]\n-          }\n-        ]\n-      }\n-    }\n-  },\n-  \"minProperties\": 1,\n-  \"required\": [\n-    \"tables\"\n-  ],\n-  \"additionalProperties\": false\n+                \"type\": \"object\",\n+                \"title\": \"Elide Model\",\n+                \"description\": \"Elide Table Config\",\n+                \"properties\": {\n+                    \"name\": {\n+                        \"title\": \"Table Model Name\",\n+                        \"description\": \"The name of the model. This will be the same as the POJO class name.\",\n+                        \"type\": \"string\",\n+                        \"format\": \"elideName\"\n+                    },\n+                    \"filterTemplate\": {\n+                        \"title\": \"Required RSQL Filter Template\",\n+                        \"description\": \"Client queries must include a filter conforming to this RSQL template.\",\n+                        \"type\": \"string\",\n+                        \"pattern\": \"^[A-Za-z][0-9A-Za-z_]*(==|!=|>=|>|<|<=|=[a-z]+=)(.*)\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a97b49ee862de53288184e76db6b6be704d2789"}, "originalPosition": 727}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDc0OTkxNg==", "bodyText": "I was going to do in next PR, along with formats required for other schemas", "url": "https://github.com/yahoo/elide/pull/1662#discussion_r524749916", "createdAt": "2020-11-16T23:30:35Z", "author": {"login": "rishi-aga"}, "path": "elide-model-config/src/main/resources/elideTableSchema.json", "diffHunk": "@@ -1,454 +1,426 @@\n {\n-  \"$schema\": \"https://json-schema.org/draft-06/schema#\",\n-  \"$id\": \"https://elide.io/schemas/table_schema_v1#\",\n-  \"description\": \"Elide Table config json/hjson schema\",\n-  \"definitions\": {\n-    \"grain\": {\n-      \"title\": \"Grains\",\n-      \"description\": \"Grains can have SQL expressions that can substitute column with the dimension definition expression\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"type\": {\n-          \"title\": \"Time granularity\",\n-          \"description\": \"Indicates grain time granularity\",\n-          \"type\": \"string\",\n-          \"anyOf\": [\n-            { \"pattern\": \"^[Ss][Ee][Cc][Oo][Nn][Dd]$\" },\n-            { \"pattern\": \"^[Mm][Ii][Nn][Uu][Tt][Ee]$\" },\n-            { \"pattern\": \"^[Hh][Oo][Uu][Rr]$\" },\n-            { \"pattern\": \"^[Dd][Aa][Yy]$\" },\n-            { \"pattern\": \"^[Ii][Ss][Oo][Ww][Ee][Ee][Kk]$\" },\n-            { \"pattern\": \"^[Ww][Ee][Ee][Kk]$\" },\n-            { \"pattern\": \"^[Mm][Oo][Nn][Tt][Hh]$\" },\n-            { \"pattern\": \"^[Qq][Uu][Aa][Rr][Tt][Ee][Rr]$\" },\n-            { \"pattern\": \"^[Yy][Ee][Aa][Rr]$\" }\n-          ]\n-        },\n-        \"sql\": {\n-          \"title\": \"Grain SQL\",\n-          \"description\": \"Grain SQL query\",\n-          \"type\": \"string\"\n-        }\n-      },\n-      \"additionalProperties\": false\n-    },\n-    \"join\": {\n-      \"title\": \"Join\",\n-      \"description\": \"Joins describe the SQL expression necessary to join two physical tables. Joins can be used when defining dimension columns that reference other tables.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Join name\",\n-          \"description\": \"The name of the join relationship.\",\n-          \"type\": \"string\"\n-        },\n-        \"to\": {\n-          \"title\": \"Join table name\",\n-          \"description\": \"The name of the table that is being joined to\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"type\": {\n-          \"title\": \"Type of Join\",\n-          \"description\": \"Type of the join - toOne or toMany\",\n-          \"type\": \"string\",\n-          \"anyOf\": [\n-            { \"pattern\": \"^[Tt][Oo][Oo][Nn][Ee]$\" },\n-            { \"pattern\": \"^[Tt][Oo][Mm][Aa][Nn][Yy]$\" }\n-          ]\n-        },\n-        \"definition\": {\n-          \"title\": \"Join definition SQL\",\n-          \"description\": \"Templated SQL expression that represents the ON clause of the join\",\n-          \"type\": \"string\"\n-        }\n-      },\n-      \"required\": [\n-        \"name\",\n-        \"to\",\n-        \"type\",\n-        \"definition\"\n-      ],\n-      \"additionalProperties\": false\n-    },\n-    \"columnTypes\": {\n-      \"title\": \"Dimension field type\",\n-      \"description\": \"The data type of the dimension field\",\n-      \"type\": \"string\",\n-      \"anyOf\": [\n-        { \"pattern\": \"^[Ii][Nn][Tt][Ee][Gg][Ee][Rr]$\" },\n-        { \"pattern\": \"^[Dd][Ee][Cc][Ii][Mm][Aa][Ll]$\" },\n-        { \"pattern\": \"^[Mm][Oo][Nn][Ee][Yy]$\" },\n-        { \"pattern\": \"^[Tt][Ee][Xx][Tt]$\" },\n-        { \"pattern\": \"^[Cc][Oo][Oo][Rr][Dd][Ii][Nn][Aa][Tt][Ee]$\" },\n-        { \"pattern\": \"^[Bb][Oo][Oo][Ll][Ee][Aa][Nn]$\" }\n-      ]\n-    },\n-    \"cardinalityTypes\": {\n-      \"title\": \"Table/Dimension cardinality\",\n-      \"description\": \"Table/Dimension cardinality: (tiny, small, medium, large, huge). The relative sizes are decided by the table designer(s).\",\n-      \"type\": \"string\",\n-      \"anyOf\": [\n-        { \"pattern\": \"^[Tt][Ii][Nn][Yy]$\" },\n-        { \"pattern\": \"^[Ss][Mm][Aa][Ll][Ll]$\" },\n-        { \"pattern\": \"^[Mm][Ee][Dd][Ii][Uu][Mm]$\" },\n-        { \"pattern\": \"^[Ll][Aa][Rr][Gg][Ee]$\" },\n-        { \"pattern\": \"^[Hh][Uu][Gg][Ee]$\" }\n-      ]\n-    },\n-    \"measure\": {\n-      \"title\": \"Measure\",\n-      \"description\": \"Metric definitions are extensible objects that contain a type field and one or more additional attributes. Each type is tied to logic in Elide that generates a metric function.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Metric name\",\n-          \"description\": \"The name of the metric. This will be the same as the POJO field name.\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"description\": {\n-          \"title\": \"Metric description\",\n-          \"description\": \"A long description of the metric.\",\n-          \"type\": \"string\"\n-        },\n-        \"category\": {\n-          \"title\": \"Measure group category\",\n-          \"description\": \"Category for grouping\",\n-          \"type\": \"string\"\n-        },\n-        \"hidden\": {\n-          \"title\": \"Hide/Show measure\",\n-          \"description\": \"Whether this metric is exposed via API metadata\",\n-          \"type\": \"boolean\",\n-          \"default\": false\n-        },\n-        \"readAccess\": {\n-          \"title\": \"Measure read access\",\n-          \"description\": \"Read permission for the metric.\",\n-          \"type\": \"string\",\n-          \"default\": \"Prefab.Role.All\"\n-        },\n-        \"definition\": {\n-          \"title\": \"Metric definition\",\n-          \"description\": \"The definition of the metric\",\n-          \"type\": \"string\"\n-        },\n-        \"queryPlanResolver\": {\n-          \"title\": \"query plan resolver class\",\n-          \"description\": \"The JVM function class which maps a metric to a query plan\",\n-          \"pattern\": \"^([a-zA-Z]+[a-zA-Z0-9_]*\\\\.)+class\",\n-          \"type\": \"string\"\n-        },\n-        \"type\": { \"$ref\": \"#/definitions/columnTypes\" },\n-        \"tags\": {\n-          \"title\": \"Measure tags\",\n-          \"description\": \"An array of string based tags for measures\",\n-          \"type\": \"array\",\n-          \"uniqueItems\": true,\n-          \"items\": {\n-            \"type\": \"string\"\n-          },\n-          \"default\": []\n-        }\n-      },\n-      \"required\": [\n-        \"name\",\n-        \"definition\"\n-      ],\n-      \"additionalProperties\": false\n-    },\n-    \"dimensionRef\": {\n-      \"title\": \"Dimension\",\n-      \"description\": \"Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n-      \"type\": \"object\",\n-      \"properties\": {\n-        \"name\": {\n-          \"title\": \"Dimension name\",\n-          \"description\": \"The name of the dimension. This will be the same as the POJO field name.\",\n-          \"type\": \"string\",\n-          \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\"\n-        },\n-        \"description\": {\n-          \"title\": \"Dimension description\",\n-          \"description\": \"A long description of the dimension.\",\n-          \"type\": \"string\"\n-        },\n-        \"category\": {\n-          \"title\": \"Dimension group category\",\n-          \"description\": \"Category for grouping dimension\",\n-          \"type\": \"string\"\n-        },\n-        \"hidden\": {\n-          \"title\": \"Hide/Show dimension\",\n-          \"description\": \"Whether this dimension is exposed via API metadata\",\n-          \"type\": \"boolean\",\n-          \"default\": false\n-        },\n-        \"readAccess\": {\n-          \"title\": \"Dimension read access\",\n-          \"description\": \"Read permission for the dimension.\",\n-          \"type\": \"string\",\n-          \"default\": \"Prefab.Role.All\"\n-        },\n-        \"definition\": {\n-          \"title\": \"Dimension definition\",\n-          \"description\": \"The definition of the dimension\",\n-          \"type\": \"string\",\n-          \"default\": \"\"\n-        },\n-        \"cardinality\": {\n-          \"$ref\": \"#/definitions/cardinalityTypes\"\n+    \"definitions\": {\n+        \"join\": {\n+            \"title\": \"Join\",\n+            \"description\": \"Joins describe the SQL expression necessary to join two physical tables. Joins can be used when defining dimension columns that reference other tables.\",\n+            \"type\": \"object\",\n+            \"properties\": {\n+                \"name\": {\n+                    \"title\": \"Join name\",\n+                    \"description\": \"The name of the join relationship.\",\n+                    \"type\": \"string\"\n+                },\n+                \"to\": {\n+                    \"title\": \"Join table name\",\n+                    \"description\": \"The name of the table that is being joined to\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideName\"\n+                },\n+                \"type\": {\n+                    \"title\": \"Type of Join\",\n+                    \"description\": \"Type of the join - toOne or toMany\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideJoinType\"\n+                },\n+                \"definition\": {\n+                    \"title\": \"Join definition SQL\",\n+                    \"description\": \"Templated SQL expression that represents the ON clause of the join\",\n+                    \"type\": \"string\"\n+                }\n+            },\n+            \"required\": [\n+                \"name\",\n+                \"to\",\n+                \"type\",\n+                \"definition\"\n+            ],\n+            \"additionalProperties\": false\n         },\n-        \"tags\": {\n-          \"title\": \"Dimension tags\",\n-          \"description\": \"An array of string based tags for dimensions\",\n-          \"type\": \"array\",\n-          \"uniqueItems\": true,\n-          \"items\": {\n-            \"type\": \"string\"\n-          },\n-          \"default\": []\n-        }\n-\n-      }\n-    },\n-    \"dimension\": {\n-      \"title\": \"Dimension\",\n-      \"description\": \"Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n-      \"type\": \"object\",\n-      \"allOf\": [\n-        { \"$ref\": \"#/definitions/dimensionRef\" },\n-        {\n-          \"properties\": {\n-            \"type\": { \"$ref\": \"#/definitions/columnTypes\" },\n-            \"values\": {\n-              \"title\": \"Dimension values\",\n-              \"description\": \"An array of valid string values for this dimension\",\n-              \"type\": \"array\",\n-              \"uniqueItems\": true,\n-              \"items\": {\n-                \"type\": \"string\"\n-              },\n-              \"default\": []\n+        \"measure\": {\n+            \"title\": \"Measure\",\n+            \"description\": \"Metric definitions are extensible objects that contain a type field and one or more additional attributes. Each type is tied to logic in Elide that generates a metric function.\",\n+            \"type\": \"object\",\n+            \"properties\": {\n+                \"name\": {\n+                    \"title\": \"Metric name\",\n+                    \"description\": \"The name of the metric. This will be the same as the POJO field name.\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideFieldName\"\n+                },\n+                \"description\": {\n+                    \"title\": \"Metric description\",\n+                    \"description\": \"A long description of the metric.\",\n+                    \"type\": \"string\"\n+                },\n+                \"category\": {\n+                    \"title\": \"Measure group category\",\n+                    \"description\": \"Category for grouping\",\n+                    \"type\": \"string\"\n+                },\n+                \"hidden\": {\n+                    \"title\": \"Hide/Show measure\",\n+                    \"description\": \"Whether this metric is exposed via API metadata\",\n+                    \"type\": \"boolean\",\n+                    \"default\": false\n+                },\n+                \"readAccess\": {\n+                    \"title\": \"Measure read access\",\n+                    \"description\": \"Read permission for the metric.\",\n+                    \"type\": \"string\",\n+                    \"default\": \"Prefab.Role.All\"\n+                },\n+                \"definition\": {\n+                    \"title\": \"Metric definition\",\n+                    \"description\": \"The definition of the metric\",\n+                    \"type\": \"string\"\n+                },\n+                \"queryPlanResolver\": {\n+                    \"title\": \"query plan resolver class\",\n+                    \"description\": \"The JVM function class which maps a metric to a query plan\",\n+                    \"pattern\": \"^([a-zA-Z]+[a-zA-Z0-9_]*\\\\.)+class\",\n+                    \"type\": \"string\"\n+                },\n+                \"type\": {\n+                    \"title\": \"Measure field type\",\n+                    \"description\": \"The data type of the measure field\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideFieldType\"\n+                },\n+                \"tags\": {\n+                    \"title\": \"Measure tags\",\n+                    \"description\": \"An array of string based tags for measures\",\n+                    \"type\": \"array\",\n+                    \"uniqueItems\": true,\n+                    \"items\": {\n+                        \"type\": \"string\"\n+                    }\n+                }\n             },\n-            \"tableSource\": {\n-              \"title\": \"Table stores dimension values\",\n-              \"description\": \"Table and column name where to find the values : tableName.columnName\",\n-              \"type\": \"string\"\n+            \"required\": [\n+                \"name\",\n+                \"type\",\n+                \"definition\"\n+            ],\n+            \"additionalProperties\": false\n+        },\n+        \"dimensionRef\": {\n+            \"title\": \"Dimension\",\n+            \"description\": \"Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n+            \"type\": \"object\",\n+            \"properties\": {\n+                \"name\": {\n+                    \"title\": \"Dimension name\",\n+                    \"description\": \"The name of the dimension. This will be the same as the POJO field name.\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideFieldName\"\n+                },\n+                \"description\": {\n+                    \"title\": \"Dimension description\",\n+                    \"description\": \"A long description of the dimension.\",\n+                    \"type\": \"string\"\n+                },\n+                \"category\": {\n+                    \"title\": \"Dimension group category\",\n+                    \"description\": \"Category for grouping dimension\",\n+                    \"type\": \"string\"\n+                },\n+                \"hidden\": {\n+                    \"title\": \"Hide/Show dimension\",\n+                    \"description\": \"Whether this dimension is exposed via API metadata\",\n+                    \"type\": \"boolean\",\n+                    \"default\": false\n+                },\n+                \"readAccess\": {\n+                    \"title\": \"Dimension read access\",\n+                    \"description\": \"Read permission for the dimension.\",\n+                    \"type\": \"string\",\n+                    \"default\": \"Prefab.Role.All\"\n+                },\n+                \"definition\": {\n+                    \"title\": \"Dimension definition\",\n+                    \"description\": \"The definition of the dimension\",\n+                    \"type\": \"string\"\n+                },\n+                \"cardinality\": {\n+                    \"title\": \"Dimension cardinality\",\n+                    \"description\": \"Dimension cardinality: (tiny, small, medium, large, huge). The relative sizes are decided by the table designer(s).\",\n+                    \"type\": \"string\",\n+                    \"format\": \"elideCardiality\"\n+                },\n+                \"tags\": {\n+                    \"title\": \"Dimension tags\",\n+                    \"description\": \"An array of string based tags for dimensions\",\n+                    \"type\": \"array\",\n+                    \"uniqueItems\": true,\n+                    \"items\": {\n+                        \"type\": \"string\"\n+                    }\n+                }\n             }\n-          }\n-        }\n-      ],\n-      \"required\": [\n-        \"name\",\n-        \"type\",\n-        \"definition\"\n-      ],\n-      \"oneOf\" : [\n-        {\n-          \"required\" : [\"values\"]\n         },\n-        {\n-          \"required\" : [\"tableSource\"]\n+        \"dimension\": {\n+            \"title\": \"Dimension\",\n+            \"description\": \"Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n+            \"type\": \"object\",\n+            \"allOf\": [\n+                {\n+                    \"$ref\": \"#/definitions/dimensionRef\"\n+                },\n+                {\n+                    \"properties\": {\n+                        \"type\": {\n+                            \"title\": \"Dimension field type\",\n+                            \"description\": \"The data type of the dimension field\",\n+                            \"type\": \"string\",\n+                            \"format\": \"elideFieldType\"\n+                        },\n+                        \"values\": {\n+                            \"title\": \"Dimension values\",\n+                            \"description\": \"An array of valid string values for this dimension\",\n+                            \"type\": \"array\",\n+                            \"uniqueItems\": true,\n+                            \"items\": {\n+                                \"type\": \"string\"\n+                            }\n+                        },\n+                        \"tableSource\": {\n+                            \"title\": \"Table stores dimension values\",\n+                            \"description\": \"Table and column name where to find the values : tableName.columnName\",\n+                            \"type\": \"string\"\n+                        }\n+                    },\n+                    \"dependencies\": {\n+                        \"values\": {\n+                            \"not\": {\n+                                \"required\": [\n+                                    \"tableSource\"\n+                                ]\n+                            }\n+                        },\n+                        \"tableSource\": {\n+                            \"not\": {\n+                                \"required\": [\n+                                    \"values\"\n+                                ]\n+                            }\n+                        }\n+                    }\n+                }\n+            ],\n+            \"required\": [\n+                \"name\",\n+                \"type\",\n+                \"definition\"\n+            ]\n         },\n-        {\n-          \"not\" : {\n-            \"anyOf\" : [\n-              { \"required\" : [\"values\"] },\n-              { \"required\" : [\"tableSource\"] }\n+        \"timeDimension\": {\n+            \"title\": \"Time Dimension\",\n+            \"description\": \"Time Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n+            \"type\": \"object\",\n+            \"allOf\": [\n+                {\n+                    \"$ref\": \"#/definitions/dimensionRef\"\n+                },\n+                {\n+                    \"properties\": {\n+                        \"type\": {\n+                            \"title\": \"Dimension field type\",\n+                            \"description\": \"The data type of the dimension field\",\n+                            \"type\": \"string\",\n+                            \"format\": \"elideTimeFieldType\"\n+                        },\n+                        \"grain\": {\n+                            \"title\": \"Grains\",\n+                            \"description\": \"Grains can have SQL expressions that can substitute column with the dimension definition expression\",\n+                            \"type\": \"object\",\n+                            \"properties\": {\n+                                \"type\": {\n+                                    \"title\": \"Time granularity\",\n+                                    \"description\": \"Indicates grain time granularity\",\n+                                    \"type\": \"string\",\n+                                    \"format\": \"elideGrainType\"\n+                                },\n+                                \"sql\": {\n+                                    \"title\": \"Grain SQL\",\n+                                    \"description\": \"Grain SQL query\",\n+                                    \"type\": \"string\"\n+                                }\n+                            },\n+                            \"additionalProperties\": false\n+                        }\n+                    }\n+                }\n+            ],\n+            \"required\": [\n+                \"name\",\n+                \"type\",\n+                \"definition\"\n             ]\n-          }\n         }\n-      ]\n     },\n-    \"timeDimension\": {\n-      \"title\": \"Time Dimension\",\n-      \"description\": \"Time Dimensions represent labels for measures. Dimensions are used to filter and group measures.\",\n-      \"type\": \"object\",\n-      \"allOf\": [\n-        { \"$ref\": \"#/definitions/dimensionRef\" },\n-        {\n-          \"properties\": {\n-            \"type\": {\n-              \"title\": \"Dimension field type\",\n-              \"description\": \"The data type of the dimension field\",\n-              \"type\": \"string\",\n-              \"pattern\": \"^[Tt][Ii][Mm][Ee]$\"\n-            },\n-            \"grain\": {\n-              \"$ref\":\"#/definitions/grain\"\n-            }\n-          }\n-        }\n-      ],\n-      \"required\": [\n-        \"name\",\n-        \"type\",\n-        \"definition\"\n-      ]\n-    }\n-  },\n-  \"type\": \"object\",\n-  \"properties\": {\n-    \"tables\": {\n-      \"title\": \"Elide Table Models\",\n-      \"description\": \"Array of elide Table Models\",\n-      \"type\": \"array\",\n-      \"uniqueItems\": true,\n-      \"items\": {\n-        \"title\": \"Elide Table Models\",\n-        \"description\": \"Array of elide Table Models\",\n-        \"type\": \"object\",\n-        \"properties\": {\n-          \"name\": {\n-            \"title\": \"Table Model Name\",\n-            \"description\": \"The name of the model. This will be the same as the POJO class name.\",\n-            \"type\": \"string\",\n-            \"pattern\": \"^[A-Za-z][0-9A-Za-z]*$\"\n-          },\n-          \"schema\": {\n-            \"title\": \"Table Schema\",\n-            \"description\": \"The database or schema where the model lives.\",\n-            \"type\": \"string\",\n-            \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\",\n-            \"default\": \"\"\n-          },\n-          \"dbConnectionName\": {\n-            \"title\": \"DB Connection Name\",\n-            \"description\": \"The database connection name for this model.\",\n-            \"type\": \"string\",\n-            \"pattern\": \"^[A-Za-z][0-9A-Za-z_]*$\",\n-            \"default\": \"\"\n-          },\n-          \"filterTemplate\": {\n-            \"title\": \"Required RSQL Filter Template\",\n-            \"description\": \"Client queries must include a filter conforming to this RSQL template.\",\n-            \"type\": \"string\",\n-            \"pattern\": \"^[A-Za-z][0-9A-Za-z_]*(==|!=|>=|>|<|<=|=[a-z]+=)(.*)\",\n-            \"default\": \"\"\n-          },\n-          \"isFact\": {\n-            \"title\": \"Is Fact Table\",\n-            \"description\": \"Whether this table is a fact\",\n-            \"type\": \"boolean\",\n-            \"default\": true\n-          },\n-          \"hidden\": {\n-            \"title\": \"Hide/Show Table\",\n-            \"description\": \"Whether this table is exposed via API metadata\",\n-            \"type\": \"boolean\",\n-            \"default\": false\n-          },\n-          \"description\": {\n-            \"title\": \"Table Model description\",\n-            \"description\": \"A long description of the model.\",\n-            \"type\": \"string\"\n-          },\n-          \"cardinality\": {\n-            \"$ref\": \"#/definitions/cardinalityTypes\"\n-          },\n-          \"readAccess\": {\n-            \"title\": \"Table read access\",\n-            \"description\": \"Read permission for the table.\",\n-            \"type\": \"string\",\n-            \"default\": \"Prefab.Role.All\"\n-          },\n-          \"joins\": {\n-            \"title\": \"Table joins\",\n-            \"description\": \"Describes SQL joins to other tables for column references.\",\n-            \"type\": \"array\",\n-            \"items\": {\n-              \"$ref\": \"#/definitions/join\"\n-            },\n-            \"default\": []\n-          },\n-          \"measures\": {\n-            \"title\": \"Table measures\",\n-            \"description\": \"Zero or more metric definitions.\",\n-            \"type\": \"array\",\n-            \"items\": {\n-              \"$ref\": \"#/definitions/measure\"\n-            },\n-            \"default\": []\n-          },\n-          \"dimensions\": {\n-            \"title\": \"Table dimensions\",\n-            \"description\": \"One or more dimension definitions.\",\n-            \"type\": \"array\",\n-            \"items\": {\n-              \"anyOf\": [\n-                {\"$ref\": \"#/definitions/dimension\"} ,\n-                {\"$ref\": \"#/definitions/timeDimension\"}\n-              ]\n-            },\n-            \"default\": []\n-          },\n-          \"tags\": {\n-            \"title\": \"Table tags\",\n-            \"description\": \"An array of string based tags\",\n+    \"type\": \"object\",\n+    \"title\": \"Elide Table Root Schema\",\n+    \"description\": \"Elide Table config json/hjson schema\",\n+    \"properties\": {\n+        \"tables\": {\n             \"type\": \"array\",\n+            \"title\": \"Elide Model Collection\",\n+            \"description\": \"An array of Elide table configs.\",\n             \"uniqueItems\": true,\n+            \"minItems\": 1,\n             \"items\": {\n-              \"type\": \"string\"\n-            },\n-            \"default\": []\n-          }\n-        },\n-        \"oneOf\": [\n-          {\n-            \"properties\": {\n-              \"sql\": {\n-                \"title\": \"Table SQL\",\n-                \"description\": \"SQL query which is used to populate the table.\",\n-                \"type\": \"string\",\n-                \"default\": \"\"\n-              }\n-            },\n-            \"required\": [\n-              \"name\",\n-              \"sql\",\n-              \"dimensions\"\n-            ]\n-          } ,\n-          {\n-            \"properties\": {\n-              \"table\": {\n-                \"title\": \"Table name\",\n-                \"description\": \"The physical table name where the model lives.\",\n-                \"type\": \"string\",\n-                \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\",\n-                \"default\": \"\"\n-              }\n-            },\n-            \"required\": [\n-              \"name\",\n-              \"table\",\n-              \"dimensions\"\n-            ]\n-          },\n-          {\n-            \"properties\": {\n-              \"extend\": {\n-                \"title\": \"Table Extends\",\n-                \"description\": \"Extends another logical table.\",\n-                \"type\": \"string\",\n-                \"pattern\": \"^[A-Za-z]([0-9A-Za-z]*_?[0-9A-Za-z]*)*$\",\n-                \"default\": \"\"\n-              }\n-            },\n-            \"required\": [\n-              \"name\",\n-              \"extend\"\n-            ]\n-          }\n-        ]\n-      }\n-    }\n-  },\n-  \"minProperties\": 1,\n-  \"required\": [\n-    \"tables\"\n-  ],\n-  \"additionalProperties\": false\n+                \"type\": \"object\",\n+                \"title\": \"Elide Model\",\n+                \"description\": \"Elide Table Config\",\n+                \"properties\": {\n+                    \"name\": {\n+                        \"title\": \"Table Model Name\",\n+                        \"description\": \"The name of the model. This will be the same as the POJO class name.\",\n+                        \"type\": \"string\",\n+                        \"format\": \"elideName\"\n+                    },\n+                    \"filterTemplate\": {\n+                        \"title\": \"Required RSQL Filter Template\",\n+                        \"description\": \"Client queries must include a filter conforming to this RSQL template.\",\n+                        \"type\": \"string\",\n+                        \"pattern\": \"^[A-Za-z][0-9A-Za-z_]*(==|!=|>=|>|<|<=|=[a-z]+=)(.*)\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDcxODE3NA=="}, "originalCommit": {"oid": "9a97b49ee862de53288184e76db6b6be704d2789"}, "originalPosition": 727}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI4OTk4NzUxOnYy", "diffSide": "RIGHT", "path": "elide-model-config/src/main/java/com/yahoo/elide/contrib/dynamicconfighelpers/DynamicConfigSchemaValidator.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMzoxMjozNFrOH0axaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xNlQyMzoyOToyMVrOH0cHBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDcyNjYzMg==", "bodyText": "Any reason not to build this once in the constructor of the DynamicConfigSchemaValidator?", "url": "https://github.com/yahoo/elide/pull/1662#discussion_r524726632", "createdAt": "2020-11-16T23:12:34Z", "author": {"login": "aklish"}, "path": "elide-model-config/src/main/java/com/yahoo/elide/contrib/dynamicconfighelpers/DynamicConfigSchemaValidator.java", "diffHunk": "@@ -122,11 +123,36 @@ private static void addEmbeddedMessages(JsonNode root, List<String> list, int de\n         }\n     }\n \n+    private static String extractPointer(JsonNode root, String fieldName) {\n+        String pointer = null;\n+        if (root.has(fieldName)) {\n+            JsonNode node = root.get(fieldName);\n+            if (node.has(\"pointer\")) {\n+                pointer = node.get(\"pointer\").asText();\n+            }\n+        }\n+\n+        return pointer;\n+    }\n+\n     private JsonSchema loadSchema(String resource) {\n-        ObjectMapper objectMapper = new ObjectMapper();\n-        Reader reader = new InputStreamReader(DynamicConfigHelpers.class.getResourceAsStream(resource));\n+\n+        Library library = DraftV4LibraryWithElideFormatAttr.getInstance();\n+\n+        MessageBundle bundle = MessageBundleWithElideMessages.getInstance();\n+\n+        ValidationConfiguration cfg = ValidationConfiguration.newBuilder()\n+                        .setDefaultLibrary(\"http://my.site/myschema#\", library)\n+                        .setValidationMessages(bundle)\n+                        .freeze();\n+\n+        JsonSchemaFactory factory = JsonSchemaFactory.newBuilder()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9a97b49ee862de53288184e76db6b6be704d2789"}, "originalPosition": 115}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDc0ODU0OQ==", "bodyText": "updated.", "url": "https://github.com/yahoo/elide/pull/1662#discussion_r524748549", "createdAt": "2020-11-16T23:29:21Z", "author": {"login": "rishi-aga"}, "path": "elide-model-config/src/main/java/com/yahoo/elide/contrib/dynamicconfighelpers/DynamicConfigSchemaValidator.java", "diffHunk": "@@ -122,11 +123,36 @@ private static void addEmbeddedMessages(JsonNode root, List<String> list, int de\n         }\n     }\n \n+    private static String extractPointer(JsonNode root, String fieldName) {\n+        String pointer = null;\n+        if (root.has(fieldName)) {\n+            JsonNode node = root.get(fieldName);\n+            if (node.has(\"pointer\")) {\n+                pointer = node.get(\"pointer\").asText();\n+            }\n+        }\n+\n+        return pointer;\n+    }\n+\n     private JsonSchema loadSchema(String resource) {\n-        ObjectMapper objectMapper = new ObjectMapper();\n-        Reader reader = new InputStreamReader(DynamicConfigHelpers.class.getResourceAsStream(resource));\n+\n+        Library library = DraftV4LibraryWithElideFormatAttr.getInstance();\n+\n+        MessageBundle bundle = MessageBundleWithElideMessages.getInstance();\n+\n+        ValidationConfiguration cfg = ValidationConfiguration.newBuilder()\n+                        .setDefaultLibrary(\"http://my.site/myschema#\", library)\n+                        .setValidationMessages(bundle)\n+                        .freeze();\n+\n+        JsonSchemaFactory factory = JsonSchemaFactory.newBuilder()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDcyNjYzMg=="}, "originalCommit": {"oid": "9a97b49ee862de53288184e76db6b6be704d2789"}, "originalPosition": 115}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 930, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}