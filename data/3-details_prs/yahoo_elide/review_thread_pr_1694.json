{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI3NTIyNDU3", "number": 1694, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxNjoyNzoyNFrOE9ThpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxNjozNjoyNlrOE9Tvww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyNzE4NTAxOnYy", "diffSide": "RIGHT", "path": "elide-datastore/elide-datastore-aggregation/src/main/java/com/yahoo/elide/datastores/aggregation/annotation/Join.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxNjoyNzoyNFrOH57KVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxODowMDowOFrOH5-nUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUwMDE4MA==", "bodyText": "Let's use the enum here.", "url": "https://github.com/yahoo/elide/pull/1694#discussion_r530500180", "createdAt": "2020-11-25T16:27:24Z", "author": {"login": "aklish"}, "path": "elide-datastore/elide-datastore-aggregation/src/main/java/com/yahoo/elide/datastores/aggregation/annotation/Join.java", "diffHunk": "@@ -21,4 +21,10 @@\n      * @return join constraint like <code>{{col1}} = {{joinField.col2}}</code>\n      */\n     String value();\n+\n+    /**\n+     * Join type.\n+     * @return join type like {@code left, right, inner, outer or cross}\n+     */\n+    String type() default \"left\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6794561d34df8dbb7edc831d63ffc0cd0d9c6721"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDU1Njc1NA==", "bodyText": "done.", "url": "https://github.com/yahoo/elide/pull/1694#discussion_r530556754", "createdAt": "2020-11-25T18:00:08Z", "author": {"login": "rishi-aga"}, "path": "elide-datastore/elide-datastore-aggregation/src/main/java/com/yahoo/elide/datastores/aggregation/annotation/Join.java", "diffHunk": "@@ -21,4 +21,10 @@\n      * @return join constraint like <code>{{col1}} = {{joinField.col2}}</code>\n      */\n     String value();\n+\n+    /**\n+     * Join type.\n+     * @return join type like {@code left, right, inner, outer or cross}\n+     */\n+    String type() default \"left\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUwMDE4MA=="}, "originalCommit": {"oid": "6794561d34df8dbb7edc831d63ffc0cd0d9c6721"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyNzIxMDk4OnYy", "diffSide": "RIGHT", "path": "elide-model-config/src/main/java/com/yahoo/elide/modelconfig/jsonformats/ElideJoinTypeFormatAttr.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxNjozMzo1MFrOH57akw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxODowMDowNFrOH5-nIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUwNDMzOQ==", "bodyText": "I think we should have left, inner, full, and cross as the join types.", "url": "https://github.com/yahoo/elide/pull/1694#discussion_r530504339", "createdAt": "2020-11-25T16:33:50Z", "author": {"login": "aklish"}, "path": "elide-model-config/src/main/java/com/yahoo/elide/modelconfig/jsonformats/ElideJoinTypeFormatAttr.java", "diffHunk": "@@ -15,15 +15,16 @@\n /**\n  * Format specifier for {@code elideJoinType} format attribute.\n  * <p>\n- * This specifier will check if a string instance is one of {@code ToOne, ToMany}.\n+ * This specifier will check if a string instance is one of {@code left, right, inner, outer, cross}.\n  * </p>\n  */\n public class ElideJoinTypeFormatAttr extends AbstractFormatAttribute {\n-    private static final String JOIN_TYPE_REGEX = \"^(?i)(ToOne|ToMany)$\";\n+    private static final String JOIN_TYPE_REGEX = \"^(?i)(left|right|inner|outer|cross)$\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6794561d34df8dbb7edc831d63ffc0cd0d9c6721"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDU1NjcwNQ==", "bodyText": "done.", "url": "https://github.com/yahoo/elide/pull/1694#discussion_r530556705", "createdAt": "2020-11-25T18:00:04Z", "author": {"login": "rishi-aga"}, "path": "elide-model-config/src/main/java/com/yahoo/elide/modelconfig/jsonformats/ElideJoinTypeFormatAttr.java", "diffHunk": "@@ -15,15 +15,16 @@\n /**\n  * Format specifier for {@code elideJoinType} format attribute.\n  * <p>\n- * This specifier will check if a string instance is one of {@code ToOne, ToMany}.\n+ * This specifier will check if a string instance is one of {@code left, right, inner, outer, cross}.\n  * </p>\n  */\n public class ElideJoinTypeFormatAttr extends AbstractFormatAttribute {\n-    private static final String JOIN_TYPE_REGEX = \"^(?i)(ToOne|ToMany)$\";\n+    private static final String JOIN_TYPE_REGEX = \"^(?i)(left|right|inner|outer|cross)$\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUwNDMzOQ=="}, "originalCommit": {"oid": "6794561d34df8dbb7edc831d63ffc0cd0d9c6721"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyNzIxMzgwOnYy", "diffSide": "RIGHT", "path": "elide-model-config/src/main/java/com/yahoo/elide/modelconfig/model/Join.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxNjozNDozM1rOH57cXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxNzo1OTo1OVrOH5-m6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUwNDc5Nw==", "bodyText": "See earlier comment about supported join types.", "url": "https://github.com/yahoo/elide/pull/1694#discussion_r530504797", "createdAt": "2020-11-25T16:34:33Z", "author": {"login": "aklish"}, "path": "elide-model-config/src/main/java/com/yahoo/elide/modelconfig/model/Join.java", "diffHunk": "@@ -39,16 +40,39 @@\n     @JsonProperty(\"type\")\n     private Join.Type type;\n \n+    @JsonProperty(\"kind\")\n+    private Join.Kind kind;\n+\n     @JsonProperty(\"definition\")\n     private String definition;\n \n-    public enum Type {\n+    public enum Kind {\n \n         TOONE(\"toOne\"),\n         TOMANY(\"toMany\");\n \n         private final String value;\n \n+        private Kind(String value) {\n+            this.value = value;\n+        }\n+\n+        @Override\n+        public String toString() {\n+            return this.value;\n+        }\n+    }\n+\n+    public enum Type {\n+\n+        LEFT(\"left\"),\n+        RIGHT(\"right\"),\n+        INNER(\"inner\"),\n+        OUTER(\"outer\"),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6794561d34df8dbb7edc831d63ffc0cd0d9c6721"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDU1NjY0OQ==", "bodyText": "done.", "url": "https://github.com/yahoo/elide/pull/1694#discussion_r530556649", "createdAt": "2020-11-25T17:59:59Z", "author": {"login": "rishi-aga"}, "path": "elide-model-config/src/main/java/com/yahoo/elide/modelconfig/model/Join.java", "diffHunk": "@@ -39,16 +40,39 @@\n     @JsonProperty(\"type\")\n     private Join.Type type;\n \n+    @JsonProperty(\"kind\")\n+    private Join.Kind kind;\n+\n     @JsonProperty(\"definition\")\n     private String definition;\n \n-    public enum Type {\n+    public enum Kind {\n \n         TOONE(\"toOne\"),\n         TOMANY(\"toMany\");\n \n         private final String value;\n \n+        private Kind(String value) {\n+            this.value = value;\n+        }\n+\n+        @Override\n+        public String toString() {\n+            return this.value;\n+        }\n+    }\n+\n+    public enum Type {\n+\n+        LEFT(\"left\"),\n+        RIGHT(\"right\"),\n+        INNER(\"inner\"),\n+        OUTER(\"outer\"),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUwNDc5Nw=="}, "originalCommit": {"oid": "6794561d34df8dbb7edc831d63ffc0cd0d9c6721"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyNzIxNTY4OnYy", "diffSide": "RIGHT", "path": "elide-model-config/src/main/resources/elideTableSchema.json", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxNjozNTowMlrOH57dhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxNzo1OTo1NFrOH5-muQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUwNTA5NQ==", "bodyText": "Let's make this optional and default to toOne.", "url": "https://github.com/yahoo/elide/pull/1694#discussion_r530505095", "createdAt": "2020-11-25T16:35:02Z", "author": {"login": "aklish"}, "path": "elide-model-config/src/main/resources/elideTableSchema.json", "diffHunk": "@@ -33,7 +39,7 @@\n             \"required\": [\n                 \"name\",\n                 \"to\",\n-                \"type\",\n+                \"kind\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6794561d34df8dbb7edc831d63ffc0cd0d9c6721"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDU1NjYwMQ==", "bodyText": "done.", "url": "https://github.com/yahoo/elide/pull/1694#discussion_r530556601", "createdAt": "2020-11-25T17:59:54Z", "author": {"login": "rishi-aga"}, "path": "elide-model-config/src/main/resources/elideTableSchema.json", "diffHunk": "@@ -33,7 +39,7 @@\n             \"required\": [\n                 \"name\",\n                 \"to\",\n-                \"type\",\n+                \"kind\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUwNTA5NQ=="}, "originalCommit": {"oid": "6794561d34df8dbb7edc831d63ffc0cd0d9c6721"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyNzIyMTE1OnYy", "diffSide": "RIGHT", "path": "elide-model-config/src/test/resources/validator/valid/models/tables/player_stats.hjson", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxNjozNjoyNlrOH57hBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxNzo1OTo0NVrOH5-mZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUwNTk5MQ==", "bodyText": "What about SQL generation tests for these different joins.  Are there any dialect differences?", "url": "https://github.com/yahoo/elide/pull/1694#discussion_r530505991", "createdAt": "2020-11-25T16:36:26Z", "author": {"login": "aklish"}, "path": "elide-model-config/src/test/resources/validator/valid/models/tables/player_stats.hjson", "diffHunk": "@@ -23,13 +23,14 @@\n           {\n              name: playerCountry\n              to: Country\n-             type: toOnE\n+             kind: toOnE\n+             type: outeR\n              definition: '{{ playerCountry.id}} = {{country_id}}'\n           },\n           {\n              name: playerTeam\n              to: Team\n-             type: Tomany\n+             kind: Tomany", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6794561d34df8dbb7edc831d63ffc0cd0d9c6721"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDU1NjUxOA==", "bodyText": "placeholder changes only  in this PR, will add support for these join types in another PR.", "url": "https://github.com/yahoo/elide/pull/1694#discussion_r530556518", "createdAt": "2020-11-25T17:59:45Z", "author": {"login": "rishi-aga"}, "path": "elide-model-config/src/test/resources/validator/valid/models/tables/player_stats.hjson", "diffHunk": "@@ -23,13 +23,14 @@\n           {\n              name: playerCountry\n              to: Country\n-             type: toOnE\n+             kind: toOnE\n+             type: outeR\n              definition: '{{ playerCountry.id}} = {{country_id}}'\n           },\n           {\n              name: playerTeam\n              to: Team\n-             type: Tomany\n+             kind: Tomany", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDUwNTk5MQ=="}, "originalCommit": {"oid": "6794561d34df8dbb7edc831d63ffc0cd0d9c6721"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 873, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}