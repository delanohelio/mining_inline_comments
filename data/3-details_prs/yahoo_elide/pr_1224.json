{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyMDUzNDI3", "number": 1224, "title": "Simplify life cycle hooks", "bodyText": "Resolves Issue #1113\nDescription\nSee Issue #1113.\nNew tests found two legacy issues with life cycle hooks (both are not fixed on this branch):\n\nDelete will trigger READ hooks on relationships.  READ should not be triggered.\nWhen adding or removing multiple members of a relationship, each element added or removed triggers an UPDATE (rather than a singular update for the entire collection).\n\nThere will be separate issues filed to fix these issues.\nMotivation and Context\nDecouples entity models from lifecycle hooks.\nHow Has This Been Tested?\nRewrote existing unit and IT tests.\nLicense\nI confirm that this contribution is made under an Apache 2.0 license and that I have the authority necessary to make this contribution on behalf of its copyright owner.", "createdAt": "2020-03-22T18:55:24Z", "url": "https://github.com/yahoo/elide/pull/1224", "merged": true, "mergeCommit": {"oid": "898272af83d1af10c3895b7553f9e63be8959ef3"}, "closed": true, "closedAt": "2020-04-23T02:14:35Z", "author": {"login": "aklish"}, "timelineItems": {"totalCount": 28, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKu2plgH2gAyMzkyMDUzNDI3OjFjMGE4ZmJhZGM2YzAxZDVlYjlhODJiM2U2MDI4ZTExY2ZjNTgxZjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcaTQcMAH2gAyMzkyMDUzNDI3OjU4ZmNlNWE5OTc4MTBhMjdkNTJjZWI2ODY3NzMxMTc5NWNkYmZiZDg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1c0a8fbadc6c01d5eb9a82b3e6028e11cfc581f7", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/1c0a8fbadc6c01d5eb9a82b3e6028e11cfc581f7", "committedDate": "2020-03-05T17:20:39Z", "message": "Initial version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "894154bf6d8d7ca99604ed11b4126c2ab3e0b54e", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/894154bf6d8d7ca99604ed11b4126c2ab3e0b54e", "committedDate": "2020-03-05T19:50:51Z", "message": "Finished code.  Starting to flesh out tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f2c470f91e0dfa558093bcb5f2ed7ef2f66ea47", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/7f2c470f91e0dfa558093bcb5f2ed7ef2f66ea47", "committedDate": "2020-03-05T22:54:02Z", "message": "Elide core compiles"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8076423e6e88e79378a5531047a617c7b2be6ea3", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/8076423e6e88e79378a5531047a617c7b2be6ea3", "committedDate": "2020-03-05T23:32:44Z", "message": "Removed CRUDEvent.CrudAction"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21f3c2ba593a3afa2fabfa9b5295af18b483f30f", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/21f3c2ba593a3afa2fabfa9b5295af18b483f30f", "committedDate": "2020-03-06T20:13:31Z", "message": "Added new test structure for LifeCycleTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9087b39609fd73e00f7f00a5a1203fbf858c7e27", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/9087b39609fd73e00f7f00a5a1203fbf858c7e27", "committedDate": "2020-03-06T21:13:04Z", "message": "Fixed bug in Persistent Resource where relationship reads did not tigger a lifecycle event"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6281d6126c3fcd526c78635d4fc640d7577ef93", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/c6281d6126c3fcd526c78635d4fc640d7577ef93", "committedDate": "2020-03-11T14:57:21Z", "message": "Added several LifeCycle Tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30792ecfc0d8b4773566a41bced2ebb29d863b4a", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/30792ecfc0d8b4773566a41bced2ebb29d863b4a", "committedDate": "2020-03-19T21:36:53Z", "message": "Added create test for persistent resource"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef5050d351366b3c196514cb782898e4c3612095", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/ef5050d351366b3c196514cb782898e4c3612095", "committedDate": "2020-03-19T22:04:13Z", "message": "Added Elide Persistent Resource Update Test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5daa7fc2648740017f85380bae7068417beb949e", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/5daa7fc2648740017f85380bae7068417beb949e", "committedDate": "2020-03-19T22:26:35Z", "message": "Added update with change spec test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc27525dd339ef11218c30543e976f279c7e5f97", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/fc27525dd339ef11218c30543e976f279c7e5f97", "committedDate": "2020-03-20T02:47:30Z", "message": "Added Relationship Edit test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2cac980cce8f583be78b42aaf1516fa12ae928de", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/2cac980cce8f583be78b42aaf1516fa12ae928de", "committedDate": "2020-03-20T03:54:23Z", "message": "Added relationship test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7530adc2c93a78f1b5b678d0eca58173c758a155", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/7530adc2c93a78f1b5b678d0eca58173c758a155", "committedDate": "2020-03-20T22:08:47Z", "message": "Fixed checkstyle and compilation errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96759a2eee37cf19439431a789fd1fd075dc2a80", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/96759a2eee37cf19439431a789fd1fd075dc2a80", "committedDate": "2020-03-20T23:11:38Z", "message": "Added remove from collection test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2911be3b057607bbad8f65ae4add6fddf4342c68", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/2911be3b057607bbad8f65ae4add6fddf4342c68", "committedDate": "2020-03-21T03:03:55Z", "message": "Added exception tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd2bffc03aff3df52dbbe8ea38dfca396534bdfb", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/cd2bffc03aff3df52dbbe8ea38dfca396534bdfb", "committedDate": "2020-03-21T03:21:50Z", "message": "Added delete test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8aef4059722f70194513120a6ecc897c370b427a", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/8aef4059722f70194513120a6ecc897c370b427a", "committedDate": "2020-03-21T03:28:53Z", "message": "Added read test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ddd8d2d013da43559e1921d78c1498c784dd852a", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/ddd8d2d013da43559e1921d78c1498c784dd852a", "committedDate": "2020-03-21T03:31:13Z", "message": "Fixed checkstyles"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c7afb3a7aa53eaf5d69d7a3fa5d503d31d022b2", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/8c7afb3a7aa53eaf5d69d7a3fa5d503d31d022b2", "committedDate": "2020-03-21T04:11:21Z", "message": "Elide core builds and tests pass"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "68e29028e64fdaf923f4e66d9ffd46a183d065cc", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/68e29028e64fdaf923f4e66d9ffd46a183d065cc", "committedDate": "2020-03-21T18:08:27Z", "message": "Fixed graphQL tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "242661ba99baf05883d4adaaa375f86668742fa7", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/242661ba99baf05883d4adaaa375f86668742fa7", "committedDate": "2020-03-21T19:30:42Z", "message": "Full build now passes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27c590ebdbf320f7141430784555fc7b3d8cd54e", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/27c590ebdbf320f7141430784555fc7b3d8cd54e", "committedDate": "2020-03-21T20:11:50Z", "message": "Removed old life cycle annotations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c21cc076db04ed892d5e56a5ead126b3af417b15", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/c21cc076db04ed892d5e56a5ead126b3af417b15", "committedDate": "2020-03-22T20:08:28Z", "message": "Minor cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6740416d1f07cc94c9b12239946d6cad940c1a0", "author": {"user": null}, "url": "https://github.com/yahoo/elide/commit/c6740416d1f07cc94c9b12239946d6cad940c1a0", "committedDate": "2020-03-22T20:22:37Z", "message": "Fixed codacy issues"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NjQ4MzIz", "url": "https://github.com/yahoo/elide/pull/1224#pullrequestreview-396648323", "createdAt": "2020-04-20T17:08:10Z", "commit": {"oid": "c6740416d1f07cc94c9b12239946d6cad940c1a0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NjI5OTIw", "url": "https://github.com/yahoo/elide/pull/1224#pullrequestreview-398629920", "createdAt": "2020-04-22T22:18:45Z", "commit": {"oid": "c6740416d1f07cc94c9b12239946d6cad940c1a0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMjoxODo0NVrOGKOLEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQyMjoxODo0NVrOGKOLEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzM3MTE1NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            @DeletePermission(\"Noone\")\n          \n          \n            \n            @UpdatePermission(\"Noone\")\n          \n          \n            \n            @DeletePermission(\"None\")\n          \n          \n            \n            @UpdatePermission(\"None\")\n          \n      \n    \n    \n  \n\n??", "url": "https://github.com/yahoo/elide/pull/1224#discussion_r413371155", "createdAt": "2020-04-22T22:18:45Z", "author": {"login": "jkusa"}, "path": "README.md", "diffHunk": "@@ -136,6 +136,7 @@ Add Lifecycle hooks to your models to embed custom business logic that execute i\n @CreatePermission(\"Admin OR Publisher\")\n @DeletePermission(\"Noone\")\n @UpdatePermission(\"Noone\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6740416d1f07cc94c9b12239946d6cad940c1a0"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4NjM0OTQ3", "url": "https://github.com/yahoo/elide/pull/1224#pullrequestreview-398634947", "createdAt": "2020-04-22T22:29:31Z", "commit": {"oid": "c6740416d1f07cc94c9b12239946d6cad940c1a0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58fce5a997810a27d52ceb68677311795cdbfbd8", "author": {"user": {"login": "aklish", "name": "Aaron Klish"}}, "url": "https://github.com/yahoo/elide/commit/58fce5a997810a27d52ceb68677311795cdbfbd8", "committedDate": "2020-04-23T02:14:16Z", "message": "Update README.md\n\nCo-Authored-By: Jon Kilroy <jkilroy@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 664, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}