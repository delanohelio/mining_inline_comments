{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUzNjU2NTM2", "number": 4195, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxODoyOTozMVrOEQUkhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxODoyOTozMVrOEQUkhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1NTQ5NzAzOnYy", "diffSide": "RIGHT", "path": "src/com/palmergames/bukkit/towny/db/TownyFlatFileSource.java", "isResolved": true, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxODoyOTozMVrOG0aQZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMDoxNDo1N1rOG1yk3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYwOTMxOQ==", "bodyText": "if for w/e reason someone wants to have zip over tar we should still support doing zip files.", "url": "https://github.com/TownyAdvanced/Towny/pull/4195#discussion_r457609319", "createdAt": "2020-07-20T18:29:31Z", "author": {"login": "LlmDl"}, "path": "src/com/palmergames/bukkit/towny/db/TownyFlatFileSource.java", "diffHunk": "@@ -156,11 +156,12 @@ public synchronized boolean backup() throws IOException {\n \t\t\t\tFileMgmt.copyDirectory(new File(settingsFolderPath), new File(newBackupFolder));\n \t\t\t\treturn true;\n \t\t\t}\n-\t\t\tcase \"zip\": {\n-\t\t\t\tFileMgmt.zipDirectories(new File(newBackupFolder + \".zip\"),\n-\t\t\t\t\t\tnew File(dataFolderPath),\n-\t\t\t\t\t\tnew File(logFolderPath),\n-\t\t\t\t\t\tnew File(settingsFolderPath));\n+\t\t\tcase \"zip\":", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9b9dea5f5de972b8547be48ba4609906d7831e50"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYzMTU2MA==", "bodyText": "There's no benefit in using zip over tar.gz actually to be fair there are more disadvantages using the zip format. Hence tar.gz should be the standard option.", "url": "https://github.com/TownyAdvanced/Towny/pull/4195#discussion_r457631560", "createdAt": "2020-07-20T19:09:39Z", "author": null, "path": "src/com/palmergames/bukkit/towny/db/TownyFlatFileSource.java", "diffHunk": "@@ -156,11 +156,12 @@ public synchronized boolean backup() throws IOException {\n \t\t\t\tFileMgmt.copyDirectory(new File(settingsFolderPath), new File(newBackupFolder));\n \t\t\t\treturn true;\n \t\t\t}\n-\t\t\tcase \"zip\": {\n-\t\t\t\tFileMgmt.zipDirectories(new File(newBackupFolder + \".zip\"),\n-\t\t\t\t\t\tnew File(dataFolderPath),\n-\t\t\t\t\t\tnew File(logFolderPath),\n-\t\t\t\t\t\tnew File(settingsFolderPath));\n+\t\t\tcase \"zip\":", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYwOTMxOQ=="}, "originalCommit": {"oid": "9b9dea5f5de972b8547be48ba4609906d7831e50"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYzMjc2NA==", "bodyText": "I'm fine with tar being the default but someone might want to still use .zip, so we should continue to support it.", "url": "https://github.com/TownyAdvanced/Towny/pull/4195#discussion_r457632764", "createdAt": "2020-07-20T19:12:03Z", "author": {"login": "LlmDl"}, "path": "src/com/palmergames/bukkit/towny/db/TownyFlatFileSource.java", "diffHunk": "@@ -156,11 +156,12 @@ public synchronized boolean backup() throws IOException {\n \t\t\t\tFileMgmt.copyDirectory(new File(settingsFolderPath), new File(newBackupFolder));\n \t\t\t\treturn true;\n \t\t\t}\n-\t\t\tcase \"zip\": {\n-\t\t\t\tFileMgmt.zipDirectories(new File(newBackupFolder + \".zip\"),\n-\t\t\t\t\t\tnew File(dataFolderPath),\n-\t\t\t\t\t\tnew File(logFolderPath),\n-\t\t\t\t\t\tnew File(settingsFolderPath));\n+\t\t\tcase \"zip\":", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYwOTMxOQ=="}, "originalCommit": {"oid": "9b9dea5f5de972b8547be48ba4609906d7831e50"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYzNDc5MQ==", "bodyText": "I can't come up with a valid reason as to why someone would want that, it takes up more space and it's less universal. Unless there's some argument that shows otherwise I once again don't see why you'd want to support it.", "url": "https://github.com/TownyAdvanced/Towny/pull/4195#discussion_r457634791", "createdAt": "2020-07-20T19:15:54Z", "author": null, "path": "src/com/palmergames/bukkit/towny/db/TownyFlatFileSource.java", "diffHunk": "@@ -156,11 +156,12 @@ public synchronized boolean backup() throws IOException {\n \t\t\t\tFileMgmt.copyDirectory(new File(settingsFolderPath), new File(newBackupFolder));\n \t\t\t\treturn true;\n \t\t\t}\n-\t\t\tcase \"zip\": {\n-\t\t\t\tFileMgmt.zipDirectories(new File(newBackupFolder + \".zip\"),\n-\t\t\t\t\t\tnew File(dataFolderPath),\n-\t\t\t\t\t\tnew File(logFolderPath),\n-\t\t\t\t\t\tnew File(settingsFolderPath));\n+\t\t\tcase \"zip\":", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYwOTMxOQ=="}, "originalCommit": {"oid": "9b9dea5f5de972b8547be48ba4609906d7831e50"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYzODUyOA==", "bodyText": "\"Someone might want to continue using .zip.\" That's the reason.", "url": "https://github.com/TownyAdvanced/Towny/pull/4195#discussion_r457638528", "createdAt": "2020-07-20T19:22:44Z", "author": {"login": "LlmDl"}, "path": "src/com/palmergames/bukkit/towny/db/TownyFlatFileSource.java", "diffHunk": "@@ -156,11 +156,12 @@ public synchronized boolean backup() throws IOException {\n \t\t\t\tFileMgmt.copyDirectory(new File(settingsFolderPath), new File(newBackupFolder));\n \t\t\t\treturn true;\n \t\t\t}\n-\t\t\tcase \"zip\": {\n-\t\t\t\tFileMgmt.zipDirectories(new File(newBackupFolder + \".zip\"),\n-\t\t\t\t\t\tnew File(dataFolderPath),\n-\t\t\t\t\t\tnew File(logFolderPath),\n-\t\t\t\t\t\tnew File(settingsFolderPath));\n+\t\t\tcase \"zip\":", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYwOTMxOQ=="}, "originalCommit": {"oid": "9b9dea5f5de972b8547be48ba4609906d7831e50"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYzOTU2Nw==", "bodyText": "Yes I know but that reason is moot because tar.gz is better than zip, thus meaning there shouldn't be any reason to prefer zip over tar.gz", "url": "https://github.com/TownyAdvanced/Towny/pull/4195#discussion_r457639567", "createdAt": "2020-07-20T19:24:49Z", "author": null, "path": "src/com/palmergames/bukkit/towny/db/TownyFlatFileSource.java", "diffHunk": "@@ -156,11 +156,12 @@ public synchronized boolean backup() throws IOException {\n \t\t\t\tFileMgmt.copyDirectory(new File(settingsFolderPath), new File(newBackupFolder));\n \t\t\t\treturn true;\n \t\t\t}\n-\t\t\tcase \"zip\": {\n-\t\t\t\tFileMgmt.zipDirectories(new File(newBackupFolder + \".zip\"),\n-\t\t\t\t\t\tnew File(dataFolderPath),\n-\t\t\t\t\t\tnew File(logFolderPath),\n-\t\t\t\t\t\tnew File(settingsFolderPath));\n+\t\t\tcase \"zip\":", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYwOTMxOQ=="}, "originalCommit": {"oid": "9b9dea5f5de972b8547be48ba4609906d7831e50"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA1NjM0OA==", "bodyText": "I added a \"legacyzip\" as an option for compression which uses zip.", "url": "https://github.com/TownyAdvanced/Towny/pull/4195#discussion_r459056348", "createdAt": "2020-07-22T20:14:57Z", "author": null, "path": "src/com/palmergames/bukkit/towny/db/TownyFlatFileSource.java", "diffHunk": "@@ -156,11 +156,12 @@ public synchronized boolean backup() throws IOException {\n \t\t\t\tFileMgmt.copyDirectory(new File(settingsFolderPath), new File(newBackupFolder));\n \t\t\t\treturn true;\n \t\t\t}\n-\t\t\tcase \"zip\": {\n-\t\t\t\tFileMgmt.zipDirectories(new File(newBackupFolder + \".zip\"),\n-\t\t\t\t\t\tnew File(dataFolderPath),\n-\t\t\t\t\t\tnew File(logFolderPath),\n-\t\t\t\t\t\tnew File(settingsFolderPath));\n+\t\t\tcase \"zip\":", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzYwOTMxOQ=="}, "originalCommit": {"oid": "9b9dea5f5de972b8547be48ba4609906d7831e50"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1211, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}