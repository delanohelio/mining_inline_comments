{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0OTc4Njc0", "number": 4412, "title": "Optimize TownyAPI", "bodyText": "Description:\n\nThis PR aims to slightly optimize the TownyAPI which will benefit its use in hot areas. One of the goals was to reduce / eliminate the creation of exception objects which can be expensive in hot areas. The second goal was to optimize resident -> player conversion by utilizing the newly stored resident UUIDs (the server can fetch a player from a UUID faster than it can from a name), but still falls back to fetching the player from the name.\n\n\n I have tested this pull request for defects on a server.\n\n\nBy making this pull request, I represent that I have the right to waive copyright and related rights to my contribution, and agree that all copyright and related rights in my contributions are waived, and I acknowledge that the TownyAdvanced organization has the copyright to use and modify my contribution under the Towny License for perpetuity.", "createdAt": "2020-11-03T20:37:45Z", "url": "https://github.com/TownyAdvanced/Towny/pull/4412", "merged": true, "mergeCommit": {"oid": "e8260dc07e64d574375aea7402e112add2aaec05"}, "closed": true, "closedAt": "2020-11-04T00:47:51Z", "author": {"login": "silverwolfg11"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdY_NEtgH2gAyNTE0OTc4Njc0OmE5ZGQ5ZDI0NDY1MTk4ZjU5ZTQzODEyMjBjZDEwNjMyNmZkMzZjOWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZC5KFgFqTUyMjk3MzMxNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a9dd9d24465198f59e4381220cd106326fd36c9c", "author": {"user": {"login": "silverwolfg11", "name": null}}, "url": "https://github.com/TownyAdvanced/Towny/commit/a9dd9d24465198f59e4381220cd106326fd36c9c", "committedDate": "2020-11-03T20:29:43Z", "message": "Optimize TownyAPI"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyODY5MDE4", "url": "https://github.com/TownyAdvanced/Towny/pull/4412#pullrequestreview-522869018", "createdAt": "2020-11-03T20:58:06Z", "commit": {"oid": "a9dd9d24465198f59e4381220cd106326fd36c9c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QyMDo1ODowNlrOHtANEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QyMDo1ODowNlrOHtANEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjk1MTMxMw==", "bodyText": "I think a ! snuck in there.", "url": "https://github.com/TownyAdvanced/Towny/pull/4412#discussion_r516951313", "createdAt": "2020-11-03T20:58:06Z", "author": {"login": "LlmDl"}, "path": "src/com/palmergames/bukkit/towny/TownyAPI.java", "diffHunk": "@@ -238,65 +261,59 @@ public TownyWorld getTownyWorld(String worldName) {\n      * Get the {@link Town} at a specific {@link Location}.\n      *\n      * @param location {@link Location} to get {@link Town} for.\n-     * @return {@link Town} at this location, or null for none.\n+     * @return {@link Town} at this location, or {@code null} for none.\n      */\n     public Town getTown(Location location) {\n         try {\n             WorldCoord worldCoord = WorldCoord.parseWorldCoord(location);\n-            return worldCoord.getTownBlock().getTown();\n-        } catch (NotRegisteredException e) {\n-            // No data so return null\n-            return null;\n+            if (!worldCoord.hasTownBlock())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9dd9d24465198f59e4381220cd106326fd36c9c"}, "originalPosition": 140}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2dfd17b9ed2d3c06cd7c8ec55e1fbfce35bf66f", "author": {"user": {"login": "silverwolfg11", "name": null}}, "url": "https://github.com/TownyAdvanced/Towny/commit/e2dfd17b9ed2d3c06cd7c8ec55e1fbfce35bf66f", "committedDate": "2020-11-04T00:16:19Z", "message": "Fix logic error and eliminate possible NRE."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyOTczMzE2", "url": "https://github.com/TownyAdvanced/Towny/pull/4412#pullrequestreview-522973316", "createdAt": "2020-11-04T00:47:35Z", "commit": {"oid": "e2dfd17b9ed2d3c06cd7c8ec55e1fbfce35bf66f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4211, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}