{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxOTYzMDk2", "number": 3810, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMlQxMToyMzo1N1rODqJhVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMlQxMToyNjozOVrODqJh-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1NTIyNzczOnYy", "diffSide": "RIGHT", "path": "src/com/palmergames/bukkit/towny/command/TownyAdminCommand.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMlQxMToyMzo1N1rOF5u8BA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMlQxMToyMzo1N1rOF5u8BA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjA4MjE4MA==", "bodyText": "TownyMessaging.sendMessage(sender, String.format(TownySettings.getLangString(\"msg_xx_withdrew_xx\"), (isConsole ? \"console\" : player.getName()), amount,  TownySettings.getLangString(\"town_sign\")));\nTownyMessaging.sendPrefixedTownMessage(town, String.format(TownySettings.getLangString(\"msg_xx_withdrew_xx\"), (isConsole ? \"console\" : player.getName()), amount,  TownySettings.getLangString(\"town_sign\")));", "url": "https://github.com/TownyAdvanced/Towny/pull/3810#discussion_r396082180", "createdAt": "2020-03-22T11:23:57Z", "author": {"login": "LlmDl"}, "path": "src/com/palmergames/bukkit/towny/command/TownyAdminCommand.java", "diffHunk": "@@ -932,6 +939,32 @@ public void parseAdminTownCommand(String[] split) throws TownyException {\n \t\t\t\tTownCommand.townSet(player, StringMgmt.remArgs(split, 2), true, town);\r\n \t\t\t} else if (split[1].equalsIgnoreCase(\"meta\")) {\r\n \t\t\t\thandleTownMetaCommand(player, town, split);\r\n+\t\t\t}\r\n+\t\t\telse if (split[1].equalsIgnoreCase(\"deposit\")) {\r\n+\t\t\t\tint amount;\r\n+\t\t\t\t\r\n+\t\t\t\ttry {\r\n+\t\t\t\t\tamount = Integer.parseInt(split[2]);\r\n+\t\t\t\t} catch (NumberFormatException ex) {\r\n+\t\t\t\t\tTownyMessaging.sendErrorMsg(player, TownySettings.getLangString(\"msg_error_must_be_int\"));\r\n+\t\t\t\t\treturn;\r\n+\t\t\t\t}\r\n+\t\t\t\t\r\n+\t\t\t\ttown.getAccount().collect(amount, \"Admin Deposit\");\r\n+\t\t\t\tTownyMessaging.sendMessage(sender, String.format(TownySettings.getLangString(\"\"), \"\")); // TODO Town Deposit Language String\r\n+\t\t\t}\r\n+\t\t\telse if (split[1].equalsIgnoreCase(\"withdraw\")) {\r\n+\t\t\t\tint amount;\r\n+\r\n+\t\t\t\ttry {\r\n+\t\t\t\t\tamount = Integer.parseInt(split[2]);\r\n+\t\t\t\t} catch (NumberFormatException ex) {\r\n+\t\t\t\t\tTownyMessaging.sendErrorMsg(player, TownySettings.getLangString(\"msg_error_must_be_int\"));\r\n+\t\t\t\t\treturn;\r\n+\t\t\t\t}\r\n+\r\n+\t\t\t\ttown.getAccount().pay(amount, \"Admin Withdraw\");\r\n+\t\t\t\tTownyMessaging.sendMessage(sender, String.format(TownySettings.getLangString(\"\"), \"\")); // TODO Town Withdraw Language String\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09c788978a31f1149c6a9db657230d107f664644"}, "originalPosition": 70}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1NTIyOTM4OnYy", "diffSide": "RIGHT", "path": "src/com/palmergames/bukkit/towny/command/TownyAdminCommand.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMlQxMToyNjozOVrOF5u86Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMlQxMToyNjozOVrOF5u86Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjA4MjQwOQ==", "bodyText": "TownyMessaging.sendMessage(sender, String.format(TownySettings.getLangString(\"msg_xx_withdrew_xx\"), (isConsole ? \"console\" : player.getName()), amount, TownySettings.getLangString(\"nation_sign\")));\nTownyMessaging.sendPrefixedNationMessage(nation, String.format(TownySettings.getLangString(\"msg_xx_withdrew_xx\"), (isConsole ? \"console\" : player.getName()), amount,  TownySettings.getLangString(\"nation_sign\")));", "url": "https://github.com/TownyAdvanced/Towny/pull/3810#discussion_r396082409", "createdAt": "2020-03-22T11:26:39Z", "author": {"login": "LlmDl"}, "path": "src/com/palmergames/bukkit/towny/command/TownyAdminCommand.java", "diffHunk": "@@ -1126,9 +1163,34 @@ public void parseAdminNationCommand(String[] split) throws TownyException {\n \t\t\t} else if(split[1].equalsIgnoreCase(\"toggle\")) {\r\n \t\t\t\t\r\n \t\t\t\tNationCommand.nationToggle(player, StringMgmt.remArgs(split, 2), true, nation);\r\n+\t\t\t} else if (split[1].equalsIgnoreCase(\"deposit\")) {\r\n+\t\t\t\tint amount;\r\n+\r\n+\t\t\t\ttry {\r\n+\t\t\t\t\tamount = Integer.parseInt(split[2]);\r\n+\t\t\t\t} catch (NumberFormatException ex) {\r\n+\t\t\t\t\tTownyMessaging.sendErrorMsg(player, TownySettings.getLangString(\"msg_error_must_be_int\"));\r\n+\t\t\t\t\treturn;\r\n+\t\t\t\t}\r\n+\r\n+\t\t\t\tnation.getAccount().collect(amount, \"Admin Deposit\");\r\n+\t\t\t\tTownyMessaging.sendMessage(sender, String.format(TownySettings.getLangString(\"\"), \"\")); // TODO Nation Deposit Language String\r\n+\t\t\t}\r\n+\t\t\telse if (split[1].equalsIgnoreCase(\"withdraw\")) {\r\n+\t\t\t\tint amount;\r\n+\r\n+\t\t\t\ttry {\r\n+\t\t\t\t\tamount = Integer.parseInt(split[2]);\r\n+\t\t\t\t} catch (NumberFormatException ex) {\r\n+\t\t\t\t\tTownyMessaging.sendErrorMsg(player, TownySettings.getLangString(\"msg_error_must_be_int\"));\r\n+\t\t\t\t\treturn;\r\n+\t\t\t\t}\r\n+\r\n+\t\t\t\tnation.getAccount().pay(amount, \"Admin Withdraw\");\r\n+\t\t\t\tTownyMessaging.sendMessage(sender, String.format(TownySettings.getLangString(\"\"), \"\")); // TODO Nation Withdraw Language String\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "09c788978a31f1149c6a9db657230d107f664644"}, "originalPosition": 127}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1253, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}