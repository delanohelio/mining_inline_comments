{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4Mjc5MDU5", "number": 3869, "title": "Dynamic Nation Colors", "bodyText": "SUMMARY\n\nThis is a feature for dynamic nation colours\nThe feature works in combination with new code in the Towny-Dynmap plugin.\nThe towny-dynmap code can be reviewed in the \"Dynamic nation colours\" PR in the towny-dynmap repo.\n\nDESCRIPTION\n\nThis feature immediately gives colors to all nations on the dynmap when the updated Towny and Dynmap towny jars are deployed\nAfter it does this, it allows the colors to be changed easily, without restarting the dynmap or towny plugins\nAn allowed list of colors is found in the Towny plugin config.yml\nExisting nations automatically get a random allowed color when the server is first restarted\nNew nations automatically get a random allowed color\nThe command to change color is '/n set mapcolor [color]'\nBy default kings can change their nation color, but this can be restricted by permission\nAdmins can change nation colors using 'ta nation [nation] set mapcolor [color]'\n\n\nNew Nodes/Commands/ConfigOptions:\n\nNew config option in dynmap:  \"dynamic-nation-colors\"\nNew permission node in towny:  towny.command.nation.set.mapcolor\nNew command \"/n set mapcolor [color]\"\n\n\n\n I have tested this pull request for defects on a server.\n\nBy making this pull request, I represent that I have the right to waive copyright and related rights to my contribution, and agree that all copyright and related rights in my contributions are waived, and I acknowledge that the TownyAdvanced organization has the copyright to use and modify my contribution under the Towny License for perpetuity.", "createdAt": "2020-04-03T16:46:57Z", "url": "https://github.com/TownyAdvanced/Towny/pull/3869", "merged": true, "mergeCommit": {"oid": "f004def0d2427f620670333b2c68e28d5d9c36cf"}, "closed": true, "closedAt": "2020-04-08T14:43:53Z", "author": {"login": "Goosius1"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcUDKIegH2gAyMzk4Mjc5MDU5OjUzYWQ0ZmUzZDUwMDE2MzAyOTZlNDUwOGYxYjExNTQwOTJiZjFmMjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVn5MyAH2gAyMzk4Mjc5MDU5OjRjZGFkNmQwN2Y1Yzc2MGFiOWVmMTU0ZWY3NzUyZTk0OGViMTQxM2Y=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "53ad4fe3d5001630296e4508f1b1154092bf1f21", "author": {"user": null}, "url": "https://github.com/TownyAdvanced/Towny/commit/53ad4fe3d5001630296e4508f1b1154092bf1f21", "committedDate": "2020-04-03T16:05:21Z", "message": "Add Dynamic-Nation-Colors\n\n* This feature immediately gives colors to all nations on the dynmap\n* After this, it allows the colors to be changed easily, without stopping the dynmap or towny plugins\n\n* An allowed list of colors is found in config.yml\n* Existing nations automatically get a random allowed color when the server is first restarted\n* New nations automatically get a random allowed color\n* The command to change color is '/n set mapcolor <color>'\n* By default kings can change their nation color, but this can be restricted by permission\n* Admins can change nation colors using 'ta nation <nation> set mapcolor <color>'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f67028fccfaff873e178ea62e388f50182150906", "author": {"user": null}, "url": "https://github.com/TownyAdvanced/Towny/commit/f67028fccfaff873e178ea62e388f50182150906", "committedDate": "2020-04-03T16:50:29Z", "message": "Merge remote-tracking branch 'upstream/master' into dynamic_nation_colours"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fee0603757b9687b07cade70e0817a03482a8c16", "author": {"user": null}, "url": "https://github.com/TownyAdvanced/Towny/commit/fee0603757b9687b07cade70e0817a03482a8c16", "committedDate": "2020-04-03T17:49:01Z", "message": "dynamic nation colours - updates 2 fix config issue"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3NTA1MzAw", "url": "https://github.com/TownyAdvanced/Towny/pull/3869#pullrequestreview-387505300", "createdAt": "2020-04-03T18:55:56Z", "commit": {"oid": "fee0603757b9687b07cade70e0817a03482a8c16"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxODo1NTo1N1rOGAkG-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QxODo1NTo1N1rOGAkG-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzI0NDc5Mg==", "bodyText": "The plugin.yml will need this new node added as a child node to towny.command.nation.set.*", "url": "https://github.com/TownyAdvanced/Towny/pull/3869#discussion_r403244792", "createdAt": "2020-04-03T18:55:57Z", "author": {"login": "LlmDl"}, "path": "src/com/palmergames/bukkit/towny/permissions/PermissionNodes.java", "diffHunk": "@@ -50,6 +50,7 @@\n \t\tTOWNY_COMMAND_NATION_SET_BOARD(\"towny.command.nation.set.board\"),\r\n \t\tTOWNY_COMMAND_NATION_SET_SPAWN(\"towny.command.nation.set.spawn\"),\r\n \t\tTOWNY_COMMAND_NATION_SET_SPAWNCOST(\"towny.command.nation.set.spawncost\"),\r\n+\t\tTOWNY_COMMAND_NATION_SET_MAPCOLOR(\"towny.command.nation.set.mapcolor\"),\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fee0603757b9687b07cade70e0817a03482a8c16"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71c6bacb4fceb828facfdbddf294563e6eb7b34e", "author": {"user": null}, "url": "https://github.com/TownyAdvanced/Towny/commit/71c6bacb4fceb828facfdbddf294563e6eb7b34e", "committedDate": "2020-04-04T08:03:29Z", "message": "dynamic nation colors - updated plugin.yml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3NzEzMzM4", "url": "https://github.com/TownyAdvanced/Towny/pull/3869#pullrequestreview-387713338", "createdAt": "2020-04-04T16:24:45Z", "commit": {"oid": "71c6bacb4fceb828facfdbddf294563e6eb7b34e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQxNjoyNDo0NVrOGAy9ew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQxNjoyNDo0NVrOGAy9ew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ4ODEyMw==", "bodyText": "You've updated the English the language file, however, I don't see any updates for the other language files. Also, the version number on each language file needs to be bumped anytime there is an addition.", "url": "https://github.com/TownyAdvanced/Towny/pull/3869#discussion_r403488123", "createdAt": "2020-04-04T16:24:45Z", "author": null, "path": "resources/english.yml", "diffHunk": "@@ -1102,4 +1102,6 @@ msg_reloaded_config: '&2Configuration successfully reloaded.'\n msg_reloaded_perms: '&2Permissions successfully reloaded.'\n msg_reloaded_db: '&2Database successfully reloaded'\n msg_reloaded_lang: '&2Language file successfully reloaded'\n-msg_reset_config: '&2Config has been reset'\n\\ No newline at end of file\n+msg_reset_config: '&2Config has been reset'\n+msg_err_invalid_nation_map_color: '&cUnknown map color. Allowed colors are %s.'\n+msg_nation_map_color_changed: '&bThe nation map color was changed to %s.'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71c6bacb4fceb828facfdbddf294563e6eb7b34e"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7163dfa06b4300824687fd810749638979073aac", "author": {"user": null}, "url": "https://github.com/TownyAdvanced/Towny/commit/7163dfa06b4300824687fd810749638979073aac", "committedDate": "2020-04-04T18:48:37Z", "message": "dynamic nation colours - added english.yml version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ca7c21fbcb6cf85edf1f38999d34f0bb017bd85", "author": {"user": null}, "url": "https://github.com/TownyAdvanced/Towny/commit/2ca7c21fbcb6cf85edf1f38999d34f0bb017bd85", "committedDate": "2020-04-08T13:25:19Z", "message": "Merge remote-tracking branch 'upstream/master' into dynamic_nation_colours"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4cdad6d07f5c760ab9ef154ef7752e948eb1413f", "author": {"user": null}, "url": "https://github.com/TownyAdvanced/Towny/commit/4cdad6d07f5c760ab9ef154ef7752e948eb1413f", "committedDate": "2020-04-08T13:27:16Z", "message": "dynamic nation colours - moved an english.lang entry"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4263, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}