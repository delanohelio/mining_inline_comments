{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ3MDIwMjg5", "number": 4153, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxODozNToxMVrOENArVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxOToxMjoyMVrOENBaig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMDc4MDM4OnYy", "diffSide": "RIGHT", "path": "src/com/palmergames/bukkit/towny/object/Town.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxODozNToxMVrOGvdJ6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxODozNToxMVrOGvdJ6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQxMzkyOQ==", "bodyText": "This needs to be removed, we already have a method TownyAPI#getOnlineResidents() that does this.", "url": "https://github.com/TownyAdvanced/Towny/pull/4153#discussion_r452413929", "createdAt": "2020-07-09T18:35:11Z", "author": null, "path": "src/com/palmergames/bukkit/towny/object/Town.java", "diffHunk": "@@ -296,6 +297,22 @@ public int getNumResidents() {\n \t\treturn residents.size();\n \t}\n \n+\tpublic int getNumResidentsOnline() {\n+\t\tint onlineResidents = 0;\n+\t\tfor(Resident resident: getResidents()) {\n+\t\t\tif(resident.isNPC()) {\n+\t\t\t\tonlineResidents++;\n+\t\t\t\tcontinue;\n+\t\t\t}\n+\t\t\t\n+\t\t\tPlayer player = Bukkit.getServer().getPlayer(resident.getName());\n+\t\t\tif(player.isOnline()) {\n+\t\t\t\tonlineResidents++;\n+\t\t\t}\n+\t\t}\n+\t\treturn onlineResidents;\n+\t}\n+\t", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe0f4162d91743c68f040177822e2cc38ad8cf03"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMDkwMTIyOnYy", "diffSide": "RIGHT", "path": "src/com/palmergames/bukkit/towny/listeners/TownyPlayerListener.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxOToxMjoyMVrOGveV8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQxOToxMjoyMVrOGveV8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjQzMzM5Mg==", "bodyText": "Undo wildcard import.", "url": "https://github.com/TownyAdvanced/Towny/pull/4153#discussion_r452433392", "createdAt": "2020-07-09T19:12:21Z", "author": {"login": "LlmDl"}, "path": "src/com/palmergames/bukkit/towny/listeners/TownyPlayerListener.java", "diffHunk": "@@ -1,11 +1,6 @@\n package com.palmergames.bukkit.towny.listeners;\n \n-import com.palmergames.bukkit.towny.Towny;\n-import com.palmergames.bukkit.towny.TownyAPI;\n-import com.palmergames.bukkit.towny.TownyMessaging;\n-import com.palmergames.bukkit.towny.TownySettings;\n-import com.palmergames.bukkit.towny.TownyTimerHandler;\n-import com.palmergames.bukkit.towny.TownyUniverse;\n+import com.palmergames.bukkit.towny.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69621d15c6af546dceb6b15fc57004a282b8d5e3"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1288, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}