{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0MTMxMTE5", "number": 4134, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QyMTowMDozN1rOELU9Mg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QyMjowNToxN1rOELVVHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwMzEzMTM4OnYy", "diffSide": "RIGHT", "path": "src/com/palmergames/bukkit/towny/listeners/TownyPlayerListener.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QyMTowMDozN1rOGs3sPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QyMTowMDozN1rOGs3sPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTcwMjk3NQ==", "bodyText": "Remove debug message.", "url": "https://github.com/TownyAdvanced/Towny/pull/4134#discussion_r449702975", "createdAt": "2020-07-03T21:00:37Z", "author": {"login": "LlmDl"}, "path": "src/com/palmergames/bukkit/towny/listeners/TownyPlayerListener.java", "diffHunk": "@@ -156,8 +156,15 @@ public void onPlayerRespawn(PlayerRespawnEvent event) {\n \t\t\n \t\tPlayer player = event.getPlayer();\n \t\t\n-\t\tif (!TownySettings.isTownRespawning())\n+\t\tif (!TownySettings.isTownRespawning()) {\n \t\t\treturn;\n+\t\t}\n+\t\t\n+\t\t// If respawn anchors have higher precedence than town spawns, use them instead.\n+\t\tif (Towny.is116Plus() && event.isAnchorSpawn() && TownySettings.isRespawnAnchorHigherPrecedence()) {\n+\t\t\tTownyMessaging.sendErrorMsg(\"got here\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5822c245cf7415dbcb42e3486a2f94315e0a1044"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwMzE5MjYzOnYy", "diffSide": "RIGHT", "path": "src/com/palmergames/bukkit/towny/Towny.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QyMjowNToxN1rOGs4Mjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QyMjowNzo0NFrOGs4NiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTcxMTI0Nw==", "bodyText": "Just caught this one. This will broadcast an error message any time its run on non-1.16+, right? If so, it will have to be removed as well.", "url": "https://github.com/TownyAdvanced/Towny/pull/4134#discussion_r449711247", "createdAt": "2020-07-03T22:05:17Z", "author": {"login": "LlmDl"}, "path": "src/com/palmergames/bukkit/towny/Towny.java", "diffHunk": "@@ -851,4 +852,16 @@ else if (Bukkit.getServer().getName().equalsIgnoreCase(\"craftbukkit\")) {\n \t\t\n \t\tmetrics.addCustomChart(new Metrics.SimplePie(\"resident_uuids_stored\", () -> TownySettings.getUUIDPercent()));\n \t}\n+\t\n+\tpublic static boolean is116Plus() {\n+\t\tString verString = Bukkit.getBukkitVersion();\n+\t\tverString = verString.replace(\"-R0.1-SNAPSHOT\", \"\");\n+\t\t\n+\t\tVersion ver = new Version(verString);\n+\t\tVersion required = new Version(\"1.16.1\");\n+\t\t\n+\t\tTownyMessaging.sendErrorMsg(ver.compareTo(required) + \"\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f191b871b0ab209fd3f68ab9ad29e072a930b9c0"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTcxMTQ5Nw==", "bodyText": "Yeah, it was left there on accident.", "url": "https://github.com/TownyAdvanced/Towny/pull/4134#discussion_r449711497", "createdAt": "2020-07-03T22:07:44Z", "author": null, "path": "src/com/palmergames/bukkit/towny/Towny.java", "diffHunk": "@@ -851,4 +852,16 @@ else if (Bukkit.getServer().getName().equalsIgnoreCase(\"craftbukkit\")) {\n \t\t\n \t\tmetrics.addCustomChart(new Metrics.SimplePie(\"resident_uuids_stored\", () -> TownySettings.getUUIDPercent()));\n \t}\n+\t\n+\tpublic static boolean is116Plus() {\n+\t\tString verString = Bukkit.getBukkitVersion();\n+\t\tverString = verString.replace(\"-R0.1-SNAPSHOT\", \"\");\n+\t\t\n+\t\tVersion ver = new Version(verString);\n+\t\tVersion required = new Version(\"1.16.1\");\n+\t\t\n+\t\tTownyMessaging.sendErrorMsg(ver.compareTo(required) + \"\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTcxMTI0Nw=="}, "originalCommit": {"oid": "f191b871b0ab209fd3f68ab9ad29e072a930b9c0"}, "originalPosition": 20}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1282, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}