{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkyNzMyNDIz", "number": 4336, "title": "Add discrete toggling to the following commands:", "bodyText": "Description:\n\nAdds the ability to specify explicity on/off state for toggling towny options.\n\nNew Nodes/Commands/ConfigOptions:\n\nAdded new messages (EN):\nmsg_nation_already_peaceful: '&cNation is already peaceful.'\nmsg_nation_already_not_peaceful: '&cNation is already not peaceful.'\n\nAdding on/off completions to:\n\n/resident toggle\n/plot toggle\n/nation toggle\n/town toggle\n/townyadmin toggle\n/townyadmin town toggle\n/townyadmin nation toggle\n/townyworld {world} toggle\n\n\nRelevant Towny Issue ticket:\n\n\n\n I have tested this pull request for defects on a server.\n\n\nBy making this pull request, I represent that I have the right to waive copyright and related rights to my contribution, and agree that all copyright and related rights in my contributions are waived, and I acknowledge that the TownyAdvanced organization has the copyright to use and modify my contribution under the Towny License for perpetuity.", "createdAt": "2020-09-24T22:31:42Z", "url": "https://github.com/TownyAdvanced/Towny/pull/4336", "merged": true, "mergeCommit": {"oid": "573fe7c4c879d10b9f9277acd5433b6030e7478d"}, "closed": true, "closedAt": "2020-10-22T23:32:25Z", "author": {"login": "FrankHeijden"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdMJEBgAH2gAyNDkyNzMyNDIzOjFmYjU5MjQwODIxYmI1NTY0ZjQwZDZjMWFmY2UwZGY1ZWUxYTFlNWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdULs-WAFqTUxMjE5NzQxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1fb59240821bb5564f40d6c1afce0df5ee1a1e5c", "author": {"user": {"login": "FrankHeijden", "name": "Frank van der Heijden"}}, "url": "https://github.com/TownyAdvanced/Towny/commit/1fb59240821bb5564f40d6c1afce0df5ee1a1e5c", "committedDate": "2020-09-24T22:37:52Z", "message": "Add discrete toggling to the following commands:\n- /resident toggle\n- /plot toggle\n- /nation toggle\n- /town toggle\n- /townyadmin toggle\n- /townyadmin town toggle\n- /townyadmin nation toggle\n- /townyworld {world} toggle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2ODE2OTI5", "url": "https://github.com/TownyAdvanced/Towny/pull/4336#pullrequestreview-496816929", "createdAt": "2020-09-25T20:29:34Z", "commit": {"oid": "1fb59240821bb5564f40d6c1afce0df5ee1a1e5c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQyMDoyOTozNFrOHYRl1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQyMDoyOTozNFrOHYRl1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NTIxNjA4Ng==", "bodyText": "I don't think this needs to be public static. All command classes should extend BaseCommand so this can just be protected.", "url": "https://github.com/TownyAdvanced/Towny/pull/4336#discussion_r495216086", "createdAt": "2020-09-25T20:29:34Z", "author": {"login": "silverwolfg11"}, "path": "src/com/palmergames/bukkit/towny/command/BaseCommand.java", "diffHunk": "@@ -174,4 +174,15 @@\n \t\t\treturn Collections.emptyList();\r\n \t\t}\r\n \t}\r\n+\r\n+\t/**\r\n+\t * Parses the given string into a boolean choice.\r\n+\t * @param str The string to parse\r\n+\t * @return true for \"ON\", false for \"OFF\", or null if no match.\r\n+\t */\r\n+\tpublic static Boolean parseToggleChoice(String str) {\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1fb59240821bb5564f40d6c1afce0df5ee1a1e5c"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a4bbb937d0f1627d4ef9be6cbb691738a242769", "author": {"user": {"login": "FrankHeijden", "name": "Frank van der Heijden"}}, "url": "https://github.com/TownyAdvanced/Towny/commit/9a4bbb937d0f1627d4ef9be6cbb691738a242769", "committedDate": "2020-09-25T22:54:02Z", "message": "Remove autoboxing & change modifier of BaseCommand#parseToggleChoice to protected"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "858b89384bb64ea6f92ae7635c9d056c4b8c8980", "author": {"user": {"login": "FrankHeijden", "name": "Frank van der Heijden"}}, "url": "https://github.com/TownyAdvanced/Towny/commit/858b89384bb64ea6f92ae7635c9d056c4b8c8980", "committedDate": "2020-09-27T20:31:26Z", "message": "Merge branch 'master' into feature/discrete-toggles\n\n# Conflicts:\n#\tsrc/com/palmergames/bukkit/towny/command/TownCommand.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a97b2cccb8297296f209b632d92b09772ff12638", "author": {"user": {"login": "FrankHeijden", "name": "Frank van der Heijden"}}, "url": "https://github.com/TownyAdvanced/Towny/commit/a97b2cccb8297296f209b632d92b09772ff12638", "committedDate": "2020-09-27T21:34:25Z", "message": "Use Optional to clearly distinguish between null values"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1MDE0NjEy", "url": "https://github.com/TownyAdvanced/Towny/pull/4336#pullrequestreview-505014612", "createdAt": "2020-10-08T17:36:10Z", "commit": {"oid": "a97b2cccb8297296f209b632d92b09772ff12638"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNzozNjoxMFrOHepQjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNzozNjoxMFrOHepQjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg5NTMwOA==", "bodyText": "This new residentToggleChoices option isn't needed. All of the existing residentToggleTabCompletes are things that can (and probably should) toggled on/off with the new discrete toggling.", "url": "https://github.com/TownyAdvanced/Towny/pull/4336#discussion_r501895308", "createdAt": "2020-10-08T17:36:10Z", "author": {"login": "LlmDl"}, "path": "src/com/palmergames/bukkit/towny/command/ResidentCommand.java", "diffHunk": "@@ -132,6 +140,8 @@ public boolean onCommand(CommandSender sender, Command cmd, String commandLabel,\n \t\t\t\tcase \"toggle\":\r\n \t\t\t\t\tif (args.length == 2) {\r\n \t\t\t\t\t\treturn NameUtil.filterByStart(residentToggleTabCompletes, args[1]);\r\n+\t\t\t\t\t} else if (args.length == 3 && residentToggleChoices.contains(args[1].toLowerCase())) {\r\n+\t\t\t\t\t\treturn NameUtil.filterByStart(BaseCommand.setOnOffCompletes, args[2]);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a97b2cccb8297296f209b632d92b09772ff12638"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "073aa5a32f5a14086900faf880b7a0d20905621f", "author": {"user": {"login": "FrankHeijden", "name": "Frank van der Heijden"}}, "url": "https://github.com/TownyAdvanced/Towny/commit/073aa5a32f5a14086900faf880b7a0d20905621f", "committedDate": "2020-10-16T14:26:45Z", "message": "Merge branch 'master' into feature/discrete-toggles\n\n# Conflicts:\n#\tsrc/com/palmergames/bukkit/towny/command/TownyWorldCommand.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4507f5f30f2362d8c0d57109a75eceebc1c6d6c", "author": {"user": {"login": "FrankHeijden", "name": "Frank van der Heijden"}}, "url": "https://github.com/TownyAdvanced/Towny/commit/e4507f5f30f2362d8c0d57109a75eceebc1c6d6c", "committedDate": "2020-10-16T15:10:31Z", "message": "Add discrete toggles for Resident toggle modes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2d19cbe75b32169e5fa0f322d5b8494db0c3920", "author": {"user": {"login": "LlmDl", "name": null}}, "url": "https://github.com/TownyAdvanced/Towny/commit/f2d19cbe75b32169e5fa0f322d5b8494db0c3920", "committedDate": "2020-10-19T22:11:19Z", "message": "Move new language strings to end of lang file & undo whitespace change."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMTk3NDE5", "url": "https://github.com/TownyAdvanced/Towny/pull/4336#pullrequestreview-512197419", "createdAt": "2020-10-19T22:13:48Z", "commit": {"oid": "f2d19cbe75b32169e5fa0f322d5b8494db0c3920"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4188, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}