{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5MjEzMjc1", "number": 3677, "title": "QOL interface changes/redundancy removal ", "bodyText": "Description:\n\n\nRemoved TownyAllySender, and ResidentModes because they were only being used in singular classes defeating the purpose of the interface, so they were combined into their respective classes.\nMade PlotGroup conform to TownBlockOwner to further standardize implementation.\nNew interface Nameable introduced in order for objects that don't extend TownyObject to have the ability to get their names extracted, ie PlotGroup.\nNew interface Bank, an extension of EconomyHandler for objects that have a bank.\nVarious areas of code have been simplified slash deleted for trivial reasons.\n\nAs a result, we've been able to trim the code count slight in this PR\n\n\n I have tested this pull request for defects on a server.\n\n\nBy making this pull request, I represent that I have the right to waive copyright and related rights to my contribution, and agree that all copyright and related rights in my contributions are waived, and I acknowledge that the TownyAdvanced organization has the copyright to use and modify my contribution under the Towny License for perpetuity.", "createdAt": "2020-01-30T18:06:22Z", "url": "https://github.com/TownyAdvanced/Towny/pull/3677", "merged": true, "mergeCommit": {"oid": "7bbb11d7cb204f19116f21336b3eb35133907c6f"}, "closed": true, "closedAt": "2020-02-11T20:41:38Z", "author": null, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_NrfxAH2gAyMzY5MjEzMjc1OjE3MmY5OTM5OGQ2YTBlODkyY2M4ZTMyZDA0YTUzNjBmOWRlMGI0OTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDX72xgFqTM1Njk3ODE1Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "172f99398d6a0e892cc8e32d04a5360f9de0b494", "author": {"user": null}, "url": "https://github.com/TownyAdvanced/Towny/commit/172f99398d6a0e892cc8e32d04a5360f9de0b494", "committedDate": "2020-01-29T22:28:26Z", "message": "QOL changes/redundancy removal\n\n- Removed TownyAllySender, and ResidentModes.java because they were only being used in singular classes defeating the purpose of the interface, so they were combined into their respective classes.\n- Made PlotGroup conform to TownBlockOwner to introduce more standard implementation.\n- New interface Nameable introduced in order for objects that don't extend `TownyObject` to be operated on i.e PlotGroups."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "943d3e1c0d499946432e554eb9f18fafb17024bf", "author": {"user": null}, "url": "https://github.com/TownyAdvanced/Towny/commit/943d3e1c0d499946432e554eb9f18fafb17024bf", "committedDate": "2020-02-01T03:51:48Z", "message": "New Bank interface\n\n- Added Bank interface to generify objects that contain banks."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a476f6000f2c0b0cffba04a0f22975f9715024d0", "author": {"user": null}, "url": "https://github.com/TownyAdvanced/Towny/commit/a476f6000f2c0b0cffba04a0f22975f9715024d0", "committedDate": "2020-02-01T04:02:19Z", "message": "Remove and clean up Town/Nation code\n\n- Simplified a lot of Town/Nation code and removed some that didn't do anything."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8df02c3ebd21645a6f82807c69085020ae72e10", "author": {"user": null}, "url": "https://github.com/TownyAdvanced/Towny/commit/e8df02c3ebd21645a6f82807c69085020ae72e10", "committedDate": "2020-02-01T04:08:03Z", "message": "Clean up Town, Resident, and TownyObject"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "199dbdf3f8cc9233a16db3bbc2ec6334fe68c58e", "author": {"user": null}, "url": "https://github.com/TownyAdvanced/Towny/commit/199dbdf3f8cc9233a16db3bbc2ec6334fe68c58e", "committedDate": "2020-02-01T04:23:46Z", "message": "Add push compile github action."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cabf8b249fe93509c365d344f95e4a50e67067e3", "author": {"user": null}, "url": "https://github.com/TownyAdvanced/Towny/commit/cabf8b249fe93509c365d344f95e4a50e67067e3", "committedDate": "2020-02-01T04:29:47Z", "message": "Fix workflow not fetching repo data."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc8451ca84843edc2fe9ce93d9e2707eb5e23efc", "author": {"user": null}, "url": "https://github.com/TownyAdvanced/Towny/commit/dc8451ca84843edc2fe9ce93d9e2707eb5e23efc", "committedDate": "2020-02-01T04:33:49Z", "message": "Update workflow name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5b5d15b6302d02c4c58170afa28bc29e1b13eb8", "author": {"user": null}, "url": "https://github.com/TownyAdvanced/Towny/commit/f5b5d15b6302d02c4c58170afa28bc29e1b13eb8", "committedDate": "2020-02-01T04:55:28Z", "message": "Last workflow update \ud83d\ude05"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc93c0d9b9b3bede1551ba82f3316478f8040c78", "author": {"user": null}, "url": "https://github.com/TownyAdvanced/Towny/commit/fc93c0d9b9b3bede1551ba82f3316478f8040c78", "committedDate": "2020-02-01T04:57:46Z", "message": "Last workflow update \ud83d\ude05"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a94c50b3c05b2740a9a8f129a763422ee7aed69", "author": {"user": null}, "url": "https://github.com/TownyAdvanced/Towny/commit/6a94c50b3c05b2740a9a8f129a763422ee7aed69", "committedDate": "2020-02-01T04:58:21Z", "message": "Merge remote-tracking branch 'upstream/refactor/interface-redux' into refactor/interface-redux\n\n# Conflicts:\n#\t.github/workflows/compile-on-push.yml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NTczNDMz", "url": "https://github.com/TownyAdvanced/Towny/pull/3677#pullrequestreview-355573433", "createdAt": "2020-02-08T22:58:06Z", "commit": {"oid": "6a94c50b3c05b2740a9a8f129a763422ee7aed69"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOFQyMjo1ODowNlrOFnSYCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOFQyMzowMDo0MFrOFnSYaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjczOTg1MA==", "bodyText": "Why is case 0 being removed here?", "url": "https://github.com/TownyAdvanced/Towny/pull/3677#discussion_r376739850", "createdAt": "2020-02-08T22:58:06Z", "author": {"login": "LlmDl"}, "path": "src/com/palmergames/bukkit/towny/object/Town.java", "diffHunk": "@@ -901,12 +886,8 @@ public double getPlotPrice() {\n \n \tpublic double getPlotTypePrice(TownBlockType type) {\n \n-\t\tdouble plotPrice = 0;\n+\t\tdouble plotPrice;\n \t\tswitch (type.ordinal()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a94c50b3c05b2740a9a8f129a763422ee7aed69"}, "originalPosition": 128}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjczOTg2OQ==", "bodyText": "I'd feel more comfortable knowing this was tested. Make sure that percentage increasing is used as well.", "url": "https://github.com/TownyAdvanced/Towny/pull/3677#discussion_r376739869", "createdAt": "2020-02-08T22:58:42Z", "author": {"login": "LlmDl"}, "path": "src/com/palmergames/bukkit/towny/object/Town.java", "diffHunk": "@@ -379,28 +374,25 @@ public int getBonusBlocks() {\n \t}\n \t\n \tpublic double getBonusBlockCost() {\n-\t\tdouble nextprice = (Math.pow(TownySettings.getPurchasedBonusBlocksIncreaseValue() , getPurchasedBlocks()) * TownySettings.getPurchasedBonusBlocksCost());\n-\t\treturn nextprice;\n+\t\treturn (Math.pow(TownySettings.getPurchasedBonusBlocksIncreaseValue() , getPurchasedBlocks()) * TownySettings.getPurchasedBonusBlocksCost());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a94c50b3c05b2740a9a8f129a763422ee7aed69"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjczOTg3NA==", "bodyText": "I'd feel more comfortable knowing this was tested. Make sure that percentage increasing is used as well.", "url": "https://github.com/TownyAdvanced/Towny/pull/3677#discussion_r376739874", "createdAt": "2020-02-08T22:58:47Z", "author": {"login": "LlmDl"}, "path": "src/com/palmergames/bukkit/towny/object/Town.java", "diffHunk": "@@ -379,28 +374,25 @@ public int getBonusBlocks() {\n \t}\n \t\n \tpublic double getBonusBlockCost() {\n-\t\tdouble nextprice = (Math.pow(TownySettings.getPurchasedBonusBlocksIncreaseValue() , getPurchasedBlocks()) * TownySettings.getPurchasedBonusBlocksCost());\n-\t\treturn nextprice;\n+\t\treturn (Math.pow(TownySettings.getPurchasedBonusBlocksIncreaseValue() , getPurchasedBlocks()) * TownySettings.getPurchasedBonusBlocksCost());\n \t}\n \t\n \tpublic double getTownBlockCost() {\n-\t\tdouble nextprice = (Math.pow(TownySettings.getClaimPriceIncreaseValue(), getTownBlocks().size()) * TownySettings.getClaimPrice());\n-\t\treturn nextprice;\n+\t\treturn (Math.pow(TownySettings.getClaimPriceIncreaseValue(), getTownBlocks().size()) * TownySettings.getClaimPrice());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a94c50b3c05b2740a9a8f129a763422ee7aed69"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjczOTkyNg==", "bodyText": "I don't know why this continue was removed. Would this not end up making each assistant mayor until the last one is finally made mayor?", "url": "https://github.com/TownyAdvanced/Towny/pull/3677#discussion_r376739926", "createdAt": "2020-02-08T23:00:11Z", "author": {"login": "LlmDl"}, "path": "src/com/palmergames/bukkit/towny/object/Town.java", "diffHunk": "@@ -651,7 +643,6 @@ private void remove(Resident resident) {\n \t\t\t\t\tif ((assistant != resident) && (resident.hasTownRank(\"assistant\"))) {\n \t\t\t\t\t\ttry {\n \t\t\t\t\t\t\tsetMayor(assistant);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a94c50b3c05b2740a9a8f129a763422ee7aed69"}, "originalPosition": 86}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjczOTk0NA==", "bodyText": "I don't know why this continue was removed. Would this not end up making each resident mayor until the last one is finally made mayor?", "url": "https://github.com/TownyAdvanced/Towny/pull/3677#discussion_r376739944", "createdAt": "2020-02-08T23:00:40Z", "author": {"login": "LlmDl"}, "path": "src/com/palmergames/bukkit/towny/object/Town.java", "diffHunk": "@@ -663,7 +654,6 @@ private void remove(Resident resident) {\n \t\t\t\t\t\tif (newMayor != resident) {\n \t\t\t\t\t\t\ttry {\n \t\t\t\t\t\t\t\tsetMayor(newMayor);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a94c50b3c05b2740a9a8f129a763422ee7aed69"}, "originalPosition": 94}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d053506bc907c35d230ed268e5f3f8b637e62f9d", "author": {"user": null}, "url": "https://github.com/TownyAdvanced/Towny/commit/d053506bc907c35d230ed268e5f3f8b637e62f9d", "committedDate": "2020-02-10T20:35:01Z", "message": "Merge branches 'master' and 'refactor/interface-redux' of https://github.com/TownyAdvanced/Towny into refactor/interface-redux\n\n\u0001 Conflicts:\n\u0001\tsrc/com/palmergames/bukkit/towny/object/Town.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2OTc4MTU3", "url": "https://github.com/TownyAdvanced/Towny/pull/3677#pullrequestreview-356978157", "createdAt": "2020-02-11T20:41:03Z", "commit": {"oid": "d053506bc907c35d230ed268e5f3f8b637e62f9d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3225, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}