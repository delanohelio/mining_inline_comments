{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg5MzU4MzY5", "number": 507, "title": "Automatically load all configurations found in the configurations.directory", "bodyText": "", "createdAt": "2020-03-16T16:33:41Z", "url": "https://github.com/ibissource/iaf/pull/507", "merged": true, "mergeCommit": {"oid": "d7c7bbf9887cf0bcc6f8736fa276fc0502b7ac6f"}, "closed": true, "closedAt": "2020-03-17T10:54:25Z", "author": {"login": "nielsm5"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcOQvjxgH2gAyMzg5MzU4MzY5OmI4Yjk4OWU1NzZjZTdkNWRiZjM4NmM0N2JjOTdiMDg2NTU5YzY0MGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcOghJDgFqTM3NTkyNjE3Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b8b989e576ce7d5dbf386c47bc97b086559c640f", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/b8b989e576ce7d5dbf386c47bc97b086559c640f", "committedDate": "2020-03-16T16:31:27Z", "message": "Automatically load all configurations in configurations.directory"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1Nzg4Mzgw", "url": "https://github.com/ibissource/iaf/pull/507#pullrequestreview-375788380", "createdAt": "2020-03-17T07:21:52Z", "commit": {"oid": "b8b989e576ce7d5dbf386c47bc97b086559c640f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QwNzoyMTo1MlrOF3QVWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QwNzoyMTo1MlrOF3QVWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzQ4MzYwOA==", "bodyText": "Waarom twee properties? Je kan toch gewoon kijken of \"configurations.directory\" niet leeg is, en dan gaan laden?", "url": "https://github.com/ibissource/iaf/pull/507#discussion_r393483608", "createdAt": "2020-03-17T07:21:52Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/configuration/ConfigurationUtils.java", "diffHunk": "@@ -429,20 +431,37 @@ public static boolean autoReloadConfig(IbisContext ibisContext, String name, Str\n \n \t/**\n \t * \n-\t * @param ibisContext\n-\t * @return A map with all configurations to load (KEY = configName, VALUE = ClassLoader)\n+\t * @return A map with all configurations to load (KEY = ConfigurationName, VALUE = ClassLoaderType)\n \t */\n \tpublic static Map<String, String> retrieveAllConfigNames(IbisContext ibisContext) {\n-\t\t// For now only database configurations are returned, but also\n-\t\t// configuration from other resources (like file system directories) can\n-\t\t// be added\n \t\tMap<String, String> allConfigNameItems = new LinkedHashMap<String, String>();\n \n \t\tStringTokenizer tokenizer = new StringTokenizer(CONFIGURATIONS, \",\");\n \t\twhile (tokenizer.hasMoreTokens()) {\n \t\t\tallConfigNameItems.put(tokenizer.nextToken(), null);\n \t\t}\n \n+\t\tif (CONFIG_AUTO_FS_CLASSLOADER) {\n+\t\t\ttry {\n+\t\t\t\tString configDir = AppConstants.getInstance().getProperty(\"configurations.directory\");\n+\t\t\t\tif(StringUtils.isEmpty(configDir))\n+\t\t\t\t\tthrow new IOException(\"property [configurations.directory] not set\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8b989e576ce7d5dbf386c47bc97b086559c640f"}, "originalPosition": 39}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b03051f84e3b4521fe1e2e80fbbe354ed9a61cdf", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/b03051f84e3b4521fe1e2e80fbbe354ed9a61cdf", "committedDate": "2020-03-17T10:13:46Z", "message": "Rename config autoload property"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1OTI2MTcz", "url": "https://github.com/ibissource/iaf/pull/507#pullrequestreview-375926173", "createdAt": "2020-03-17T10:54:11Z", "commit": {"oid": "b03051f84e3b4521fe1e2e80fbbe354ed9a61cdf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1411, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}