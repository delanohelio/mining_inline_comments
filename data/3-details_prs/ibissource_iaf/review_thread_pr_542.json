{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzNjg2OTQx", "number": 542, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwODowMjo1OFrODsjiOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxNTo0ODowOFrODsvJ7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4MDQ2MTM2OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/nl/nn/adapterframework/core/PipeLine.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwODowMjo1OFrOF9d6MQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwODowMjo1OFrOF9d6MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTk5NzQ4OQ==", "bodyText": "Volgens mij wil je dit niet: nog een name-attribute om te zetten.", "url": "https://github.com/ibissource/iaf/pull/542#discussion_r399997489", "createdAt": "2020-03-30T08:02:58Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/core/PipeLine.java", "diffHunk": "@@ -860,4 +858,14 @@ public void setAdapterToRunBeforeOnEmptyInput(String s) {\n \tpublic String getAdapterToRunBeforeOnEmptyInput() {\n \t\treturn adapterToRunBeforeOnEmptyInput;\n \t}\n+\n+\t@Override\n+\tpublic String getName() {\n+\t\treturn name;\n+\t}\n+\n+\t@Override\n+\tpublic void setName(String name) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4980b89e5992dfba6f88929257198f1eb8d26603"}, "originalPosition": 76}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4MDQ3NjkxOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/nl/nn/adapterframework/jdbc/DirectQuerySender.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwODowNzoyNFrOF9eDpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwODowNzoyNFrOF9eDpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTk5OTkwOQ==", "bodyText": "Deze melding moeten we toch ook wat aan doen.\nMinimaal wijzen op het gevaar van SQL injection.", "url": "https://github.com/ibissource/iaf/pull/542#discussion_r399999909", "createdAt": "2020-03-30T08:07:24Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/jdbc/DirectQuerySender.java", "diffHunk": "@@ -46,9 +46,7 @@ public void configure() throws ConfigurationException {\n \tpublic void configure(boolean trust) throws ConfigurationException {\n \t\tsuper.configure();\n \t\tif (!trust) {\n-\t\t\tConfigurationWarnings configWarnings = ConfigurationWarnings.getInstance();\n-\t\t\tString msg = \"The class [\"+getClass().getName()+\"] is used one or more times. Please change to [\"+FixedQuerySender.class.getName()+\"] for better security\";\n-\t\t\tconfigWarnings.add(log, msg, true);\n+\t\t\tConfigurationWarnings.add(log, \"The class [\"+getClass().getName()+\"] is used one or more times. Please change to [\"+FixedQuerySender.class.getName()+\"] for better security\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4980b89e5992dfba6f88929257198f1eb8d26603"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4MDUwNTkzOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/nl/nn/adapterframework/pipes/MoveFilePipe.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwODoxNDoyNVrOF9eUZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwODoxNDoyNVrOF9eUZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDAwNDE5OA==", "bodyText": "Misschien moeten we hier 'replace by' gebruiken in plaats van 'use'", "url": "https://github.com/ibissource/iaf/pull/542#discussion_r400004198", "createdAt": "2020-03-30T08:14:25Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/pipes/MoveFilePipe.java", "diffHunk": "@@ -39,6 +40,7 @@\n  * @deprecated Please use LocalFileSystemPipe with action=\"move\"\n  */\n @Deprecated\n+@ConfigurationWarning(\"Please use LocalFileSystemPipe with action=\\\"move\\\"\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4980b89e5992dfba6f88929257198f1eb8d26603"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4MDUxNDc3OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/nl/nn/adapterframework/pipes/XmlValidator.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwODoxNjo0MlrOF9eZqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwODoxNjo0MlrOF9eZqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDAwNTU0NQ==", "bodyText": "Hier ook (zoals overal) vierkant haken gebruiken in plaats van enkele quotes", "url": "https://github.com/ibissource/iaf/pull/542#discussion_r400005545", "createdAt": "2020-03-30T08:16:42Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/pipes/XmlValidator.java", "diffHunk": "@@ -780,10 +778,7 @@ private void checkRootValidation(List<String> path, Set<XSD> xsds) throws Config\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t\tif (!found) {\n-\t\t\t\t\tConfigurationWarnings configWarnings = ConfigurationWarnings.getInstance();\n-\t\t\t\t\tString msg = getLogPrefix(null) + \"Element '\" + validElement +\n-\t\t\t\t\t\"' not in list of available root elements \" + allRootTags;\n-\t\t\t\t\tconfigWarnings.add(log, msg);\n+\t\t\t\t\tConfigurationWarnings.add(this, log, \"Element '\"+validElement+\"' not in list of available root elements \"+allRootTags);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4980b89e5992dfba6f88929257198f1eb8d26603"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4MDUzOTc5OnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/senders/mail/MailSenderTestBase.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwODoyMzo0M1rOF9epXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxNTowMjo1MFrOF9uI0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDAwOTU2NQ==", "bodyText": "Snap niet waarom hier een newline in zou kunnen zitten", "url": "https://github.com/ibissource/iaf/pull/542#discussion_r400009565", "createdAt": "2020-03-30T08:23:43Z", "author": {"login": "gvanbrakel"}, "path": "core/src/test/java/nl/nn/adapterframework/senders/mail/MailSenderTestBase.java", "diffHunk": "@@ -80,7 +80,8 @@ public void compare(String file, MimeMessage message) throws Exception {\n \t\t\trawResult = rawResult.replace(boundary, \"BOUNDARY\");\n \t\t}\n \n-\t\tTestAssertions.assertEqualsIgnoreCRLF(expected, rawResult);\n+\t\t//Make sure there is always a newline, otherwise test assertions will fail\n+\t\tTestAssertions.assertEqualsIgnoreCRLF(expected, rawResult.replace(\"/mixed; boundary\", \"/mixed; \\n\\tboundary\"));\n \t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4980b89e5992dfba6f88929257198f1eb8d26603"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDI2MzM3OA==", "bodyText": "Tja het is niet fout als er een newline in zit... de test kan er alleen niet mee overweg", "url": "https://github.com/ibissource/iaf/pull/542#discussion_r400263378", "createdAt": "2020-03-30T15:02:50Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/senders/mail/MailSenderTestBase.java", "diffHunk": "@@ -80,7 +80,8 @@ public void compare(String file, MimeMessage message) throws Exception {\n \t\t\trawResult = rawResult.replace(boundary, \"BOUNDARY\");\n \t\t}\n \n-\t\tTestAssertions.assertEqualsIgnoreCRLF(expected, rawResult);\n+\t\t//Make sure there is always a newline, otherwise test assertions will fail\n+\t\tTestAssertions.assertEqualsIgnoreCRLF(expected, rawResult.replace(\"/mixed; boundary\", \"/mixed; \\n\\tboundary\"));\n \t}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDAwOTU2NQ=="}, "originalCommit": {"oid": "4980b89e5992dfba6f88929257198f1eb8d26603"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4MDU2NzUwOnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/xslt/XsltErrorTestBase.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwODozMTowM1rOF9e6Yw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxNTowODo0NlrOF9ubCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDAxMzkyMw==", "bodyText": "Is er geen warning meer als er xslt2=true gezet wordt?\nIdee hier is ook dat als de test verandert wordt van gebruik van 'xst2=true' naar 'xsltVersion=2', dat je dan deze variabele van 1 op 0 kan zetten.", "url": "https://github.com/ibissource/iaf/pull/542#discussion_r400013923", "createdAt": "2020-03-30T08:31:03Z", "author": {"login": "gvanbrakel"}, "path": "core/src/test/java/nl/nn/adapterframework/xslt/XsltErrorTestBase.java", "diffHunk": "@@ -35,7 +35,7 @@\n \tprotected TestAppender testAppender;\n \tprivate ErrorOutputStream errorOutputStream;\n \tprivate PrintStream prevStdErr;\n-\tpublic static int EXPECTED_CONFIG_WARNINGS_FOR_XSLT2_SETTING=1;\n+\tpublic static int EXPECTED_CONFIG_WARNINGS_FOR_XSLT2_SETTING=0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4980b89e5992dfba6f88929257198f1eb8d26603"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDI2ODA0Mg==", "bodyText": "Dit wordt nu op een andere manier weergegeven, en komt dus niet meer in de test voor.", "url": "https://github.com/ibissource/iaf/pull/542#discussion_r400268042", "createdAt": "2020-03-30T15:08:46Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/xslt/XsltErrorTestBase.java", "diffHunk": "@@ -35,7 +35,7 @@\n \tprotected TestAppender testAppender;\n \tprivate ErrorOutputStream errorOutputStream;\n \tprivate PrintStream prevStdErr;\n-\tpublic static int EXPECTED_CONFIG_WARNINGS_FOR_XSLT2_SETTING=1;\n+\tpublic static int EXPECTED_CONFIG_WARNINGS_FOR_XSLT2_SETTING=0;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDAxMzkyMw=="}, "originalCommit": {"oid": "4980b89e5992dfba6f88929257198f1eb8d26603"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4MDU3MzUyOnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/xslt/XsltErrorTestBase.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwODozMjo0MFrOF9e-FQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwODozMjo0MFrOF9e-FQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDAxNDg2OQ==", "bodyText": "Ik zie geen getMultiplicity() meer in het verwachte aantal alerts. Dat is goed, lijkt me: geen duplicate messages", "url": "https://github.com/ibissource/iaf/pull/542#discussion_r400014869", "createdAt": "2020-03-30T08:32:40Z", "author": {"login": "gvanbrakel"}, "path": "core/src/test/java/nl/nn/adapterframework/xslt/XsltErrorTestBase.java", "diffHunk": "@@ -277,7 +277,7 @@ public void notifyXalanExtensionsIllegalForSaxon() throws SenderException, TimeO\n \t\t\terrorMessage = e.getMessage();\n \t\t\tassertThat(errorMessage,containsString(\"Cannot find a matching 2-argument function named {http://exslt.org/strings}tokenize()\"));\n \t\t}\n-\t\tassertThat(testAppender.getNumberOfAlerts(),is(getMultiplicity()+1+EXPECTED_NUMBER_OF_DUPLICATE_LOGGINGS));\n+\t\tassertThat(testAppender.getNumberOfAlerts(),is(1+EXPECTED_NUMBER_OF_DUPLICATE_LOGGINGS));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4980b89e5992dfba6f88929257198f1eb8d26603"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4MjM2NTI3OnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/xslt/XsltErrorTestBase.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxNTo0ODowOFrOF9wTHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxNTo0ODowOFrOF9wTHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDI5ODc4MQ==", "bodyText": "Moet volgens mij zijn:\ncheckTestAppender(0,null);", "url": "https://github.com/ibissource/iaf/pull/542#discussion_r400298781", "createdAt": "2020-03-30T15:48:08Z", "author": {"login": "gvanbrakel"}, "path": "core/src/test/java/nl/nn/adapterframework/xslt/XsltErrorTestBase.java", "diffHunk": "@@ -225,7 +213,7 @@ public void documentIncludedInSourceNotFoundXslt2() throws Exception {\n \t\t\terrorMessage = e.getMessage();\n \t\t\tassertThat(errorMessage,containsString(FILE_NOT_FOUND_EXCEPTION));\n \t\t}\n-\t\tcheckTestAppender(EXPECTED_CONFIG_WARNINGS_FOR_XSLT2_SETTING,null);\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "487acef8ae87247d94d16498463f460ef968aaec"}, "originalPosition": 40}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 406, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}