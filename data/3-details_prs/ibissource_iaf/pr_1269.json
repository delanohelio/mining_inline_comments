{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIyMjc5Mzkx", "number": 1269, "title": "Add button to display full openapi schema description", "bodyText": "Closes #1089", "createdAt": "2020-11-17T09:50:37Z", "url": "https://github.com/ibissource/iaf/pull/1269", "merged": true, "mergeCommit": {"oid": "ae0cbd4705e336833ba24fc0e5333d359291fce5"}, "closed": true, "closedAt": "2020-11-24T15:16:58Z", "author": {"login": "alisihab"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABddWbexAH2gAyNTIyMjc5MzkxOmU5MDcwNmQ3ZDAyOGY3ZjJiMWRkZjMyYTVlNjRhNzEwMDQ2ODFmNTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfrT-_AFqTUzNzYwNjM5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e90706d7d028f7f2b1ddf32a5e64a71004681f58", "author": {"user": {"login": "alisihab", "name": null}}, "url": "https://github.com/ibissource/iaf/commit/e90706d7d028f7f2b1ddf32a5e64a71004681f58", "committedDate": "2020-11-17T09:48:58Z", "message": "Add button to display full openapi schema description"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyNTQ3MzU5", "url": "https://github.com/ibissource/iaf/pull/1269#pullrequestreview-532547359", "createdAt": "2020-11-17T16:22:44Z", "commit": {"oid": "e90706d7d028f7f2b1ddf32a5e64a71004681f58"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNjoyMjo0NFrOH09gmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNjoyNDoxM1rOH09k_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTI5NTc2OA==", "bodyText": "Does this not break any tests? If not, we need to add them! It's important we also test what happens when there is no schema", "url": "https://github.com/ibissource/iaf/pull/1269#discussion_r525295768", "createdAt": "2020-11-17T16:22:44Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/http/rest/ApiServiceDispatcher.java", "diffHunk": "@@ -298,9 +298,7 @@ private JsonObjectBuilder mapResponses(IAdapter adapter, MediaTypes contentType,\n \t\t\texit.add(\"description\", status.getReasonPhrase());\n \t\t\tif(!ple.getEmptyResult()) {\n \t\t\t\tJsonObjectBuilder content = Json.createObjectBuilder();\n-\t\t\t\tif(schema == null) {\n-\t\t\t\t\tcontent.addNull(contentType.getContentType());\n-\t\t\t\t} else if(StringUtils.isNotEmpty(ref)){\n+\t\t\t\tif(StringUtils.isNotEmpty(ref)){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e90706d7d028f7f2b1ddf32a5e64a71004681f58"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTI5Njg5NQ==", "bodyText": "I'm not sure if I like the idea of adding this 'endpoint' to the list, as technically it's not an api service... Maybe we can add a button in the <div class=\"ibox-title\"> bar or something?", "url": "https://github.com/ibissource/iaf/pull/1269#discussion_r525296895", "createdAt": "2020-11-17T16:24:13Z", "author": {"login": "nielsm5"}, "path": "webapp/src/main/webapp/iaf/gui/views/Webservices.html", "diffHunk": "@@ -33,8 +33,16 @@ <h4>Available ApiListeners</h4>\n \t\t\t\t\t<div class=\"col-md-12\">\n \t\t\t\t\t\t<table class=\"table table-striped\">\n \t\t\t\t\t\t\t<tbody>\n+\t\t\t\t\t\t\t\t<tr>\n+\t\t\t\t\t\t\t\t\t<td>0</td>\n+\t\t\t\t\t\t\t\t\t<td>/</td>\n+\t\t\t\t\t\t\t\t\t<td>ALL</td>\n+\t\t\t\t\t\t\t\t\t<td>\n+\t\t\t\t\t\t\t\t\t\t<a target=\"_blank\" href=\"{{::rootURL}}api/openapi.json\" class=\"btn btn-xs pull-right default\" type=\"button\"><i class=\"fa fa-arrow-circle-o-down aria-hidden=\"true\"></i> <span>OpenAPI 3.0</span></a>\n+\t\t\t\t\t\t\t\t\t</td>\n+\t\t\t\t\t\t\t\t</tr>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e90706d7d028f7f2b1ddf32a5e64a71004681f58"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f93383f03731eef43ad63a35160df7d037fa5455", "author": {"user": {"login": "alisihab", "name": null}}, "url": "https://github.com/ibissource/iaf/commit/f93383f03731eef43ad63a35160df7d037fa5455", "committedDate": "2020-11-18T12:22:47Z", "message": "improve ui for the button"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzNDEyMzUz", "url": "https://github.com/ibissource/iaf/pull/1269#pullrequestreview-533412353", "createdAt": "2020-11-18T12:50:26Z", "commit": {"oid": "f93383f03731eef43ad63a35160df7d037fa5455"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0NjU5ODY0", "url": "https://github.com/ibissource/iaf/pull/1269#pullrequestreview-534659864", "createdAt": "2020-11-19T17:02:10Z", "commit": {"oid": "f93383f03731eef43ad63a35160df7d037fa5455"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6de113364a5bb11116b841587ddf32e95dc555e9", "author": {"user": {"login": "alisihab", "name": null}}, "url": "https://github.com/ibissource/iaf/commit/6de113364a5bb11116b841587ddf32e95dc555e9", "committedDate": "2020-11-20T08:05:40Z", "message": "Merge branch 'master' into OpenApiFullSchema"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3NjA2Mzk5", "url": "https://github.com/ibissource/iaf/pull/1269#pullrequestreview-537606399", "createdAt": "2020-11-24T15:16:38Z", "commit": {"oid": "6de113364a5bb11116b841587ddf32e95dc555e9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1056, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}