{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5MDEyMzIy", "number": 342, "title": "More GUI Enhancements and bugfixes", "bodyText": "", "createdAt": "2020-01-03T14:45:46Z", "url": "https://github.com/ibissource/iaf/pull/342", "merged": true, "mergeCommit": {"oid": "d6f42d1be5285f8d4d0444acf2469a7ed1eeb03a"}, "closed": true, "closedAt": "2020-01-06T15:43:26Z", "author": {"login": "nielsm5"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb2WjQyAH2gAyMzU5MDEyMzIyOjljMDljNWFhMjJhZTQzNzk2Yjg4MWFkZWU4ZTIzMTEzNTA5OTY2ZDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb3uFmlgFqTMzODcxNjc2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9c09c5aa22ae43796b881adee8e23113509966d0", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/9c09c5aa22ae43796b881adee8e23113509966d0", "committedDate": "2020-01-02T09:43:16Z", "message": "Upgrade RestEasy version to fix a few minor bugs\n\nhttps://issues.redhat.com/browse/RESTEASY-952?_sscc=t"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0b0615f9cdb037306847e81912132d7b6152ef1", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/f0b0615f9cdb037306847e81912132d7b6152ef1", "committedDate": "2020-01-02T12:31:33Z", "message": "Dynamically load spring config files instead of using xml includes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0971a115e02567754a29204b3907c4684ead1ce4", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/0971a115e02567754a29204b3907c4684ead1ce4", "committedDate": "2020-01-02T14:26:09Z", "message": "Prevent infinite amount of warnings when adapter in error state"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08b5b6182bb0eaeb56a45defc0158edf9e25e17d", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/08b5b6182bb0eaeb56a45defc0158edf9e25e17d", "committedDate": "2020-01-02T14:34:35Z", "message": "Run poller when started"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ed78f45f1de815d28a7940b62131184d43f1b98", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/4ed78f45f1de815d28a7940b62131184d43f1b98", "committedDate": "2020-01-02T15:33:42Z", "message": "Fix etag handling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c98bd8534c6e9b94dc9053160b215267c5097ed9", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/c98bd8534c6e9b94dc9053160b215267c5097ed9", "committedDate": "2020-01-03T09:34:12Z", "message": "Quartz is created, managed and destroyed by Spring, no need for this"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81f115e62fdc0c8a57df6a0332af68b2831e87c3", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/81f115e62fdc0c8a57df6a0332af68b2831e87c3", "committedDate": "2020-01-06T14:51:27Z", "message": "Load GUI 3.0 even when IBIS is in error more"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4Njk3MzIw", "url": "https://github.com/ibissource/iaf/pull/342#pullrequestreview-338697320", "createdAt": "2020-01-06T15:11:12Z", "commit": {"oid": "81f115e62fdc0c8a57df6a0332af68b2831e87c3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxNToxMToxM1rOFagJGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxNToxOTo1N1rOFagYyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzMzMzkxNQ==", "bodyText": "Deze System.out.println is niet echt nodig, toch? Anders in een comment zetten waarom hier wel.", "url": "https://github.com/ibissource/iaf/pull/342#discussion_r363333915", "createdAt": "2020-01-06T15:11:13Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/lifecycle/IbisApplicationContext.java", "diffHunk": "@@ -157,6 +173,42 @@ private XmlWebApplicationContext createWebApplicationContext() throws BeansExcep\n \t\treturn applicationContext;\n \t}\n \n+\t/**\n+\t * Loads springContext, springUnmanagedDeployment, springCommon and files specified by the SPRING.CONFIG.LOCATIONS\n+\t * property in AppConstants.properties\n+\t * \n+\t * @param classLoader to use in order to find and validate the Spring Configuration files\n+\t * @return A String array containing all files to use.\n+\t */\n+\tprivate String[] getSpringConfigurationFiles(ClassLoader classLoader) {\n+\t\tList<String> springConfigurationFiles = new ArrayList<String>();\n+\t\tspringConfigurationFiles.add(XmlWebApplicationContext.CLASSPATH_URL_PREFIX + \"/springContext.xml\");\n+\t\tspringConfigurationFiles.add(XmlWebApplicationContext.CLASSPATH_URL_PREFIX + \"/springUnmanagedDeployment.xml\");\n+\t\tspringConfigurationFiles.add(XmlWebApplicationContext.CLASSPATH_URL_PREFIX + \"/springCommon.xml\");\n+\n+\t\tStringTokenizer locationTokenizer = AppConstants.getInstance().getTokenizedProperty(\"SPRING.CONFIG.LOCATIONS\");\n+\t\twhile(locationTokenizer.hasMoreTokens()) {\n+\t\t\tString file = locationTokenizer.nextToken();\n+\t\t\tlog.info(\"found spring configuration file to load [\"+file+\"]\");\n+\n+\t\t\tURL fileURL = classLoader.getResource(file);\n+\t\t\tif(fileURL == null) {\n+\t\t\t\tlog.error(\"unable to locate Spring configuration file [\"+file+\"]\");\n+\t\t\t\tSystem.out.println(\"unable to locate Spring configuration file [\"+file+\"]\");\n+\t\t\t} else {\n+\t\t\t\tif(file.indexOf(\":\") == -1) {\n+\t\t\t\t\tfile = XmlWebApplicationContext.CLASSPATH_URL_PREFIX+\"/\"+file;\n+\t\t\t\t}\n+\n+\t\t\t\tspringConfigurationFiles.add(file);\n+\t\t\t}\n+\t\t}\n+\n+\t\tlog.info(\"loading Spring configuration files \"+springConfigurationFiles+\"\");\n+\t\tSystem.out.println(\"loading Spring configuration files \"+springConfigurationFiles+\"\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81f115e62fdc0c8a57df6a0332af68b2831e87c3"}, "originalPosition": 142}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzMzNzkzMQ==", "bodyText": "Waarom is dit handiger dan de imports in springContext.xml?", "url": "https://github.com/ibissource/iaf/pull/342#discussion_r363337931", "createdAt": "2020-01-06T15:19:57Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/resources/AppConstants.properties", "diffHunk": "@@ -3,6 +3,8 @@\n # Application Constants\n #\n \n+SPRING.CONFIG.LOCATIONS=springIbisTestTool${ibistesttool.custom}.xml,spring${application.server.type}${application.server.type.custom}.xml,springCustom.xml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81f115e62fdc0c8a57df6a0332af68b2831e87c3"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4NzE2NzYy", "url": "https://github.com/ibissource/iaf/pull/342#pullrequestreview-338716762", "createdAt": "2020-01-06T15:42:31Z", "commit": {"oid": "81f115e62fdc0c8a57df6a0332af68b2831e87c3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1427, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}