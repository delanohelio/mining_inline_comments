{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzNjg2OTQx", "number": 542, "title": "Create new ConfigWarning annotation", "bodyText": "", "createdAt": "2020-03-25T16:19:48Z", "url": "https://github.com/ibissource/iaf/pull/542", "merged": true, "mergeCommit": {"oid": "c31a52a33f970d4b28c5bbacdf13d3bb53f38d80"}, "closed": true, "closedAt": "2020-03-30T16:06:51Z", "author": {"login": "nielsm5"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRJ9q3AH2gAyMzkzNjg2OTQxOjhjYmI0MDkzMmMzYjhiZTk3OWFlZDQ1NzVkOWI5ZmIzODc4NzAyMWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcSwrjYAFqTM4Mzk5MTExNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8cbb40932c3b8be979aed4575d9b9fb38787021d", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/8cbb40932c3b8be979aed4575d9b9fb38787021d", "committedDate": "2020-03-25T16:19:18Z", "message": "Create new ConfigWarning annotation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eef0808bfa0a0681fa962a3994d2b5ad38d35bcf", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/eef0808bfa0a0681fa962a3994d2b5ad38d35bcf", "committedDate": "2020-03-25T17:56:38Z", "message": "Add configuration warnings for deprecated classes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "368f03774eae91ea2199aba5e537c8268d841f06", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/368f03774eae91ea2199aba5e537c8268d841f06", "committedDate": "2020-03-25T17:57:15Z", "message": "Add java generics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "004161795d92157677f98cc5ad6cdde8ca0ed18b", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/004161795d92157677f98cc5ad6cdde8ca0ed18b", "committedDate": "2020-03-25T19:46:51Z", "message": "Change getinstance to static add"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6262c9eeb2fb33b0553c6ac5212d183134afbcfe", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/6262c9eeb2fb33b0553c6ac5212d183134afbcfe", "committedDate": "2020-03-29T16:01:19Z", "message": "Convert more configurationwarnings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15bf7fdf6aa0e5a9b0eda31316dfe1610c9782e9", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/15bf7fdf6aa0e5a9b0eda31316dfe1610c9782e9", "committedDate": "2020-03-29T17:09:49Z", "message": "Fix first test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4980b89e5992dfba6f88929257198f1eb8d26603", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/4980b89e5992dfba6f88929257198f1eb8d26603", "committedDate": "2020-03-29T19:07:03Z", "message": "Fix jUnit tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNjE0MDE0", "url": "https://github.com/ibissource/iaf/pull/542#pullrequestreview-383614014", "createdAt": "2020-03-30T08:02:58Z", "commit": {"oid": "4980b89e5992dfba6f88929257198f1eb8d26603"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwODowMjo1OFrOF9d6MQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwODozMjo0MFrOF9e-FQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTk5NzQ4OQ==", "bodyText": "Volgens mij wil je dit niet: nog een name-attribute om te zetten.", "url": "https://github.com/ibissource/iaf/pull/542#discussion_r399997489", "createdAt": "2020-03-30T08:02:58Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/core/PipeLine.java", "diffHunk": "@@ -860,4 +858,14 @@ public void setAdapterToRunBeforeOnEmptyInput(String s) {\n \tpublic String getAdapterToRunBeforeOnEmptyInput() {\n \t\treturn adapterToRunBeforeOnEmptyInput;\n \t}\n+\n+\t@Override\n+\tpublic String getName() {\n+\t\treturn name;\n+\t}\n+\n+\t@Override\n+\tpublic void setName(String name) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4980b89e5992dfba6f88929257198f1eb8d26603"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTk5OTkwOQ==", "bodyText": "Deze melding moeten we toch ook wat aan doen.\nMinimaal wijzen op het gevaar van SQL injection.", "url": "https://github.com/ibissource/iaf/pull/542#discussion_r399999909", "createdAt": "2020-03-30T08:07:24Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/jdbc/DirectQuerySender.java", "diffHunk": "@@ -46,9 +46,7 @@ public void configure() throws ConfigurationException {\n \tpublic void configure(boolean trust) throws ConfigurationException {\n \t\tsuper.configure();\n \t\tif (!trust) {\n-\t\t\tConfigurationWarnings configWarnings = ConfigurationWarnings.getInstance();\n-\t\t\tString msg = \"The class [\"+getClass().getName()+\"] is used one or more times. Please change to [\"+FixedQuerySender.class.getName()+\"] for better security\";\n-\t\t\tconfigWarnings.add(log, msg, true);\n+\t\t\tConfigurationWarnings.add(log, \"The class [\"+getClass().getName()+\"] is used one or more times. Please change to [\"+FixedQuerySender.class.getName()+\"] for better security\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4980b89e5992dfba6f88929257198f1eb8d26603"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDAwNDE5OA==", "bodyText": "Misschien moeten we hier 'replace by' gebruiken in plaats van 'use'", "url": "https://github.com/ibissource/iaf/pull/542#discussion_r400004198", "createdAt": "2020-03-30T08:14:25Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/pipes/MoveFilePipe.java", "diffHunk": "@@ -39,6 +40,7 @@\n  * @deprecated Please use LocalFileSystemPipe with action=\"move\"\n  */\n @Deprecated\n+@ConfigurationWarning(\"Please use LocalFileSystemPipe with action=\\\"move\\\"\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4980b89e5992dfba6f88929257198f1eb8d26603"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDAwNTU0NQ==", "bodyText": "Hier ook (zoals overal) vierkant haken gebruiken in plaats van enkele quotes", "url": "https://github.com/ibissource/iaf/pull/542#discussion_r400005545", "createdAt": "2020-03-30T08:16:42Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/pipes/XmlValidator.java", "diffHunk": "@@ -780,10 +778,7 @@ private void checkRootValidation(List<String> path, Set<XSD> xsds) throws Config\n \t\t\t\t\t}\n \t\t\t\t}\n \t\t\t\tif (!found) {\n-\t\t\t\t\tConfigurationWarnings configWarnings = ConfigurationWarnings.getInstance();\n-\t\t\t\t\tString msg = getLogPrefix(null) + \"Element '\" + validElement +\n-\t\t\t\t\t\"' not in list of available root elements \" + allRootTags;\n-\t\t\t\t\tconfigWarnings.add(log, msg);\n+\t\t\t\t\tConfigurationWarnings.add(this, log, \"Element '\"+validElement+\"' not in list of available root elements \"+allRootTags);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4980b89e5992dfba6f88929257198f1eb8d26603"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDAwOTU2NQ==", "bodyText": "Snap niet waarom hier een newline in zou kunnen zitten", "url": "https://github.com/ibissource/iaf/pull/542#discussion_r400009565", "createdAt": "2020-03-30T08:23:43Z", "author": {"login": "gvanbrakel"}, "path": "core/src/test/java/nl/nn/adapterframework/senders/mail/MailSenderTestBase.java", "diffHunk": "@@ -80,7 +80,8 @@ public void compare(String file, MimeMessage message) throws Exception {\n \t\t\trawResult = rawResult.replace(boundary, \"BOUNDARY\");\n \t\t}\n \n-\t\tTestAssertions.assertEqualsIgnoreCRLF(expected, rawResult);\n+\t\t//Make sure there is always a newline, otherwise test assertions will fail\n+\t\tTestAssertions.assertEqualsIgnoreCRLF(expected, rawResult.replace(\"/mixed; boundary\", \"/mixed; \\n\\tboundary\"));\n \t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4980b89e5992dfba6f88929257198f1eb8d26603"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDAxMzkyMw==", "bodyText": "Is er geen warning meer als er xslt2=true gezet wordt?\nIdee hier is ook dat als de test verandert wordt van gebruik van 'xst2=true' naar 'xsltVersion=2', dat je dan deze variabele van 1 op 0 kan zetten.", "url": "https://github.com/ibissource/iaf/pull/542#discussion_r400013923", "createdAt": "2020-03-30T08:31:03Z", "author": {"login": "gvanbrakel"}, "path": "core/src/test/java/nl/nn/adapterframework/xslt/XsltErrorTestBase.java", "diffHunk": "@@ -35,7 +35,7 @@\n \tprotected TestAppender testAppender;\n \tprivate ErrorOutputStream errorOutputStream;\n \tprivate PrintStream prevStdErr;\n-\tpublic static int EXPECTED_CONFIG_WARNINGS_FOR_XSLT2_SETTING=1;\n+\tpublic static int EXPECTED_CONFIG_WARNINGS_FOR_XSLT2_SETTING=0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4980b89e5992dfba6f88929257198f1eb8d26603"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDAxNDg2OQ==", "bodyText": "Ik zie geen getMultiplicity() meer in het verwachte aantal alerts. Dat is goed, lijkt me: geen duplicate messages", "url": "https://github.com/ibissource/iaf/pull/542#discussion_r400014869", "createdAt": "2020-03-30T08:32:40Z", "author": {"login": "gvanbrakel"}, "path": "core/src/test/java/nl/nn/adapterframework/xslt/XsltErrorTestBase.java", "diffHunk": "@@ -277,7 +277,7 @@ public void notifyXalanExtensionsIllegalForSaxon() throws SenderException, TimeO\n \t\t\terrorMessage = e.getMessage();\n \t\t\tassertThat(errorMessage,containsString(\"Cannot find a matching 2-argument function named {http://exslt.org/strings}tokenize()\"));\n \t\t}\n-\t\tassertThat(testAppender.getNumberOfAlerts(),is(getMultiplicity()+1+EXPECTED_NUMBER_OF_DUPLICATE_LOGGINGS));\n+\t\tassertThat(testAppender.getNumberOfAlerts(),is(1+EXPECTED_NUMBER_OF_DUPLICATE_LOGGINGS));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4980b89e5992dfba6f88929257198f1eb8d26603"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "245130467035f50e4b0372163c7300d2e7d52b54", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/245130467035f50e4b0372163c7300d2e7d52b54", "committedDate": "2020-03-30T14:47:11Z", "message": "Add the finishing touch!"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10502be0a97118bda9746bc39f3903ea2bf33072", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/10502be0a97118bda9746bc39f3903ea2bf33072", "committedDate": "2020-03-30T15:34:15Z", "message": "Solve code review issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "487acef8ae87247d94d16498463f460ef968aaec", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/487acef8ae87247d94d16498463f460ef968aaec", "committedDate": "2020-03-30T15:42:12Z", "message": "Change error message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8fb08d80d147a73c8dfb6b9c2f86652bf5ba2b9", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/a8fb08d80d147a73c8dfb6b9c2f86652bf5ba2b9", "committedDate": "2020-03-30T15:58:24Z", "message": "Revert jUnit test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzOTkxMTE3", "url": "https://github.com/ibissource/iaf/pull/542#pullrequestreview-383991117", "createdAt": "2020-03-30T15:48:08Z", "commit": {"oid": "487acef8ae87247d94d16498463f460ef968aaec"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxNTo0ODowOFrOF9wTHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxNTo0ODowOFrOF9wTHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDI5ODc4MQ==", "bodyText": "Moet volgens mij zijn:\ncheckTestAppender(0,null);", "url": "https://github.com/ibissource/iaf/pull/542#discussion_r400298781", "createdAt": "2020-03-30T15:48:08Z", "author": {"login": "gvanbrakel"}, "path": "core/src/test/java/nl/nn/adapterframework/xslt/XsltErrorTestBase.java", "diffHunk": "@@ -225,7 +213,7 @@ public void documentIncludedInSourceNotFoundXslt2() throws Exception {\n \t\t\terrorMessage = e.getMessage();\n \t\t\tassertThat(errorMessage,containsString(FILE_NOT_FOUND_EXCEPTION));\n \t\t}\n-\t\tcheckTestAppender(EXPECTED_CONFIG_WARNINGS_FOR_XSLT2_SETTING,null);\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "487acef8ae87247d94d16498463f460ef968aaec"}, "originalPosition": 40}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1285, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}