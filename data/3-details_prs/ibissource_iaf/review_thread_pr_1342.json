{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQwOTgxMDgy", "number": 1342, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQwOTozMDozMlrOFGF8-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxMDo1ODoyM1rOFGIYdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQxOTMzMzA0OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/nl/nn/adapterframework/filesystem/LocalFileSystem.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQwOTozMDozMlrOIG76sQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQwOTozMDozMlrOIG76sQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDE0NDA0OQ==", "bodyText": "Ik denk dat het mooier is als je of\n\nPath toevoegt aan Message\nPathvertaald naar eenFileen die meegeeft aanMessage`", "url": "https://github.com/ibissource/iaf/pull/1342#discussion_r544144049", "createdAt": "2020-12-16T09:30:32Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/filesystem/LocalFileSystem.java", "diffHunk": "@@ -114,8 +114,8 @@ public OutputStream appendFile(Path f) throws IOException {\n \t}\n \n \t@Override\n-\tpublic InputStream readFile(Path f) throws IOException {\n-\t\treturn Files.newInputStream(f);\n+\tpublic Message readFile(Path f) throws IOException {\n+\t\treturn new Message(Files.newInputStream(f));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "88776d11119ee6d1db6f9b949c444ba1f3f63729"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQxOTcyOTE0OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/nl/nn/adapterframework/stream/Message.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxMDo1Nzo1MlrOIG_ilA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxMDo1Nzo1MlrOIG_ilA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDIwMzQxMg==", "bodyText": "Hier moet je dan eigenlijk asInputStream() gebruiken", "url": "https://github.com/ibissource/iaf/pull/1342#discussion_r544203412", "createdAt": "2020-12-16T10:57:52Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/stream/Message.java", "diffHunk": "@@ -175,6 +184,14 @@ public Reader asReader(String defaultCharset) throws IOException {\n \t\t\t\tthrow new IOException(\"Cannot open file [\"+((File)request).getPath()+\"]\");\n \t\t\t}\n \t\t}\n+\t\tif (request instanceof Path) {\n+\t\t\tlog.debug(\"returning Path as Reader\");\n+\t\t\ttry {\n+\t\t\t\treturn StreamUtil.getCharsetDetectingInputStreamReader(Files.newInputStream((Path)request), readerCharset);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "990880bb61eb5b1c305c0d7a4638453d897b858b"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQxOTczMDE4OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/nl/nn/adapterframework/stream/Message.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxMDo1ODoxMlrOIG_jSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxMDo1ODoxMlrOIG_jSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDIwMzU5Mg==", "bodyText": "Geen , e?", "url": "https://github.com/ibissource/iaf/pull/1342#discussion_r544203592", "createdAt": "2020-12-16T10:58:12Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/stream/Message.java", "diffHunk": "@@ -175,6 +184,14 @@ public Reader asReader(String defaultCharset) throws IOException {\n \t\t\t\tthrow new IOException(\"Cannot open file [\"+((File)request).getPath()+\"]\");\n \t\t\t}\n \t\t}\n+\t\tif (request instanceof Path) {\n+\t\t\tlog.debug(\"returning Path as Reader\");\n+\t\t\ttry {\n+\t\t\t\treturn StreamUtil.getCharsetDetectingInputStreamReader(Files.newInputStream((Path)request), readerCharset);\n+\t\t\t} catch (IOException e) {\n+\t\t\t\tthrow new IOException(\"Cannot open file [\"+((Path)request).getFileName()+\"]\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "990880bb61eb5b1c305c0d7a4638453d897b858b"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQxOTczMTA4OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/nl/nn/adapterframework/stream/Message.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxMDo1ODoyM1rOIG_jzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQxMDo1ODoyM1rOIG_jzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDIwMzcyNA==", "bodyText": "Geen , e?", "url": "https://github.com/ibissource/iaf/pull/1342#discussion_r544203724", "createdAt": "2020-12-16T10:58:23Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/stream/Message.java", "diffHunk": "@@ -213,6 +230,14 @@ public InputStream asInputStream(String defaultCharset) throws IOException {\n \t\t\t\tthrow new IOException(\"Cannot open file [\"+((File)request).getPath()+\"]\");\n \t\t\t}\n \t\t}\n+\t\tif (request instanceof Path) {\n+\t\t\tlog.debug(\"returning Path as InputStream\");\n+\t\t\ttry {\n+\t\t\t\treturn Files.newInputStream((Path)request);\n+\t\t\t} catch (IOException e) {\n+\t\t\t\tthrow new IOException(\"Cannot open file [\"+((Path)request).getFileName()+\"]\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "990880bb61eb5b1c305c0d7a4638453d897b858b"}, "originalPosition": 47}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 539, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}