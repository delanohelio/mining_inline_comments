{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk1NjkzOTgx", "number": 550, "title": "Enable setting additional recipients for errors in the test module", "bodyText": "Extends #526 to allow setting additional recipients that will only get the e-mail when tests fail.", "createdAt": "2020-03-30T14:35:44Z", "url": "https://github.com/ibissource/iaf/pull/550", "merged": true, "mergeCommit": {"oid": "29d609abf193c78af3825336e607c7d03bf05da9"}, "closed": true, "closedAt": "2020-04-01T06:32:37Z", "author": {"login": "ricardovh"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcSvbmMAH2gAyMzk1NjkzOTgxOmI2NTk0Yjc3NDBlZDZmNGZhNGUzNzQ2NGNkNzliODYyYmUyNDI0NmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTRwreAFqTM4NTI5NzYwOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b6594b7740ed6f4fa4e37464cd79b862be24246f", "author": {"user": {"login": "ricardovh", "name": null}}, "url": "https://github.com/ibissource/iaf/commit/b6594b7740ed6f4fa4e37464cd79b862be24246f", "committedDate": "2020-03-30T14:32:24Z", "message": "Enable setting additional recipients for errors in the test module"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzOTk4Njc0", "url": "https://github.com/ibissource/iaf/pull/550#pullrequestreview-383998674", "createdAt": "2020-03-30T15:56:20Z", "commit": {"oid": "b6594b7740ed6f4fa4e37464cd79b862be24246f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxNTo1NjoyMFrOF9wrLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQxNTo1NzozNFrOF9wu1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDMwNDk0MQ==", "bodyText": "Ricardo,\nYou now determine if there are failed tests by parsing the test results.\nI would prefer that you configure a forward named 'fail' on the LarvaPipe. That forward is used when there are failed tests.", "url": "https://github.com/ibissource/iaf/pull/550#discussion_r400304941", "createdAt": "2020-03-30T15:56:20Z", "author": {"login": "gvanbrakel"}, "path": "test/src/main/configurations/UTIL/Larva/xsl/CreateMail.xsl", "diffHunk": "@@ -16,11 +18,18 @@\n \t\t</xsl:choose>\n \t</xsl:variable>\n \n+\t<xsl:variable name=\"ccList\">\n+\t\t<xsl:choose>\n+\t\t\t<xsl:when test=\"contains($message, 'All scenarios passed')\"><xsl:value-of select=\"$cc\"/></xsl:when>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6594b7740ed6f4fa4e37464cd79b862be24246f"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDMwNTg3Ng==", "bodyText": "I would like to suggest to name these mailaddresses:\nerrorreport.mailaddresses.pass\nerrorreport.mailaddresses.fail", "url": "https://github.com/ibissource/iaf/pull/550#discussion_r400305876", "createdAt": "2020-03-30T15:57:34Z", "author": {"login": "gvanbrakel"}, "path": "test/src/main/resources/DeploymentSpecifics.properties", "diffHunk": "@@ -106,4 +106,6 @@ jdbc.querylistener.key=260873\n MemoryLeak.active=false\n \n #needs a comma separated list with mailaddresses for the larva adapter\n+#people in the .error-list are only mailed when tests fail\n errorreport.mailaddresses=\n+errorreport.mailaddresses.error=", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b6594b7740ed6f4fa4e37464cd79b862be24246f"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0a1dc3ed7a7f1fe6826710651f44f704470013e", "author": {"user": {"login": "ricardovh", "name": null}}, "url": "https://github.com/ibissource/iaf/commit/a0a1dc3ed7a7f1fe6826710651f44f704470013e", "committedDate": "2020-03-31T06:47:10Z", "message": "Determine results in pipeline instead of XSLT and rename properties"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1Mjk3NjA4", "url": "https://github.com/ibissource/iaf/pull/550#pullrequestreview-385297608", "createdAt": "2020-04-01T06:32:12Z", "commit": {"oid": "a0a1dc3ed7a7f1fe6826710651f44f704470013e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1295, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}