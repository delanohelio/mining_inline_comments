{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0NzI4MDgw", "number": 907, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMDo1Njo1MVrOEMBpbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMTowNjoyMlrOEMB0vQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMDQ1MzU4OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/nl/nn/adapterframework/jdbc/dbms/DbmsSupportFactory.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMDo1Njo1MVrOGt5ZcA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMDo1Njo1MVrOGt5ZcA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDc3OTUwNA==", "bodyText": "oh oh, kom ik weer met mijn ENUM's", "url": "https://github.com/ibissource/iaf/pull/907#discussion_r450779504", "createdAt": "2020-07-07T10:56:51Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/jdbc/dbms/DbmsSupportFactory.java", "diffHunk": "@@ -33,8 +33,10 @@\n public class DbmsSupportFactory implements IDbmsSupportFactory {\n \tprotected Logger log = LogUtil.getLogger(this.getClass());\n \n-\tprivate final static String PRODUCT_NAME_ORACLE_=\"Oracle\";\n-\tprivate final static String PRODUCT_NAME_MSSQLSERVER=\"Microsoft SQL Server\";\n+\tpublic final static String PRODUCT_NAME_ORACLE=\"Oracle\";\n+\tpublic final static String PRODUCT_NAME_MSSQLSERVER=\"Microsoft SQL Server\";\n+\tpublic final static String PRODUCT_NAME_MYSQL=\"MySQL\";\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5c41063e57d99596ee5fb6b9a10e46fadb1a47b"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMDQ1NTQ2OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/nl/nn/adapterframework/jdbc/dbms/IDbmsSupportFactory.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMDo1NzoyNlrOGt5apg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMDo1NzoyNlrOGt5apg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDc3OTgxNA==", "bodyText": "ook enums?", "url": "https://github.com/ibissource/iaf/pull/907#discussion_r450779814", "createdAt": "2020-07-07T10:57:26Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/jdbc/dbms/IDbmsSupportFactory.java", "diffHunk": "@@ -28,6 +28,7 @@\n \tfinal int DBMS_MSSQLSERVER=2;\n \tfinal int DBMS_DB2=3;\n \tfinal int DBMS_H2=4;\n+\tfinal int DBMS_MYSQL=5;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5c41063e57d99596ee5fb6b9a10e46fadb1a47b"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMDQ3NDY1OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/nl/nn/adapterframework/util/DB2XMLWriter.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMTowMzo0MlrOGt5mfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMTowMzo0MlrOGt5mfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDc4Mjg0Nw==", "bodyText": "Misschien kan dit geheel vervangen worden met return JDBCType.valueOf(type)", "url": "https://github.com/ibissource/iaf/pull/907#discussion_r450782847", "createdAt": "2020-07-07T11:03:42Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/util/DB2XMLWriter.java", "diffHunk": "@@ -74,40 +74,54 @@\n \tprivate String blobCharset = Misc.DEFAULT_INPUT_STREAM_ENCODING;\n \tprivate static boolean convertFieldnamesToUppercase = AppConstants.getInstance().getBoolean(\"jdbc.convertFieldnamesToUppercase\", false);\n \n-    public static String getFieldType (int type) {\n-\t    switch (type) {\n-\t          case Types.INTEGER : return (\"INTEGER\");\n-\t          case Types.NUMERIC : return (\"NUMERIC\");\n-\t          case Types.CHAR :    return (\"CHAR\");\n-\t          case Types.DATE :    return (\"DATE\");\n-\t          case Types.TIMESTAMP : return (\"TIMESTAMP\");\n-\t          case Types.DOUBLE : return (\"DOUBLE\");\n-\t          case Types.FLOAT : return (\"FLOAT\");\n-\t          case Types.ARRAY : return (\"ARRAY\");\n-\t          case Types.BLOB : return (\"BLOB\");\n-\t          case Types.CLOB : return (\"CLOB\");\n-\t          case Types.DISTINCT : return (\"DISTINCT\");\n-\t          case Types.LONGVARBINARY : return (\"LONGVARBINARY\");\n-\t          case Types.VARBINARY : return (\"VARBINARY\");\n-\t          case Types.BINARY : return (\"BINARY\");\n-\t          case Types.REF : return (\"REF\");\n-\t          case Types.STRUCT : return (\"STRUCT\");\n-\t          case Types.JAVA_OBJECT  : return (\"JAVA_OBJECT\");\n-\t          case Types.VARCHAR  : return (\"VARCHAR\");\n-\t          case Types.TINYINT: return (\"TINYINT\");\n-\t          case Types.TIME: return (\"TIME\");\n-\t          case Types.REAL: return (\"REAL\");\n-\t          case Types.BOOLEAN: return (\"BOOLEAN\");\n-\t          case Types.BIT: return (\"BIT\");\n-\t          case Types.BIGINT: return (\"BIGINT\");\n-\t          case Types.SMALLINT: return (\"SMALLINT\");\n+\tpublic static String getFieldType (int type) {\n+\t\tswitch (type) {\n+\t\t\tcase Types.INTEGER :   return \"INTEGER\";\n+\t\t\tcase Types.NUMERIC :   return \"NUMERIC\";\n+\t\t\tcase Types.CHAR :      return \"CHAR\";\n+\t\t\tcase Types.DATE :      return \"DATE\";\n+\t\t\tcase Types.TIMESTAMP : return \"TIMESTAMP\";\n+\t\t\tcase Types.DOUBLE :    return \"DOUBLE\";\n+\t\t\tcase Types.FLOAT :     return \"FLOAT\";\n+\t\t\tcase Types.ARRAY :     return \"ARRAY\";\n+\t\t\tcase Types.BLOB :      return \"BLOB\";\n+\t\t\tcase Types.CLOB :      return \"CLOB\";\n+\t\t\tcase Types.DISTINCT :  return \"DISTINCT\";\n+\t\t\tcase Types.LONGVARBINARY : return \"LONGVARBINARY\";\n+\t\t\tcase Types.VARBINARY : return \"VARBINARY\";\n+\t\t\tcase Types.BINARY :    return \"BINARY\";\n+\t\t\tcase Types.REF :       return \"REF\";\n+\t\t\tcase Types.STRUCT :    return \"STRUCT\";\n+\t\t\tcase Types.JAVA_OBJECT : return \"JAVA_OBJECT\";\n+\t\t\tcase Types.VARCHAR  :  return \"VARCHAR\";\n+\t\t\tcase Types.TINYINT:    return \"TINYINT\";\n+\t\t\tcase Types.TIME:       return \"TIME\";\n+\t\t\tcase Types.REAL:       return \"REAL\";\n+\t\t\tcase Types.BOOLEAN:    return \"BOOLEAN\";\n+\t\t\tcase Types.BIT:        return \"BIT\";\n+\t\t\tcase Types.BIGINT:     return \"BIGINT\";\n+\t\t\tcase Types.SMALLINT:   return \"SMALLINT\";\n+\t\t\tcase Types.DATALINK:   return \"DATALINK\";\n+\t\t\tcase Types.DECIMAL:    return \"DECIMAL\";\n+\t\t\tcase Types.LONGNVARCHAR: return \"LONGNVARCHAR\";\n+\t\t\tcase Types.LONGVARCHAR: return \"LONGVARCHAR\";\n+\t\t\tcase Types.NCHAR:      return \"NCHAR\";\n+\t\t\tcase Types.NCLOB:      return \"NCLOB\";\n+\t\t\tcase Types.NULL:       return \"NULL\";\n+\t\t\tcase Types.NVARCHAR:   return \"NVARCHAR\";\n+\t\t\tcase Types.OTHER:      return \"OTHER\";\n+\t\t\tcase Types.REF_CURSOR: return \"REF_CURSOR\";\n+\t\t\tcase Types.ROWID:      return \"ROWID\";\n+\t\t\tcase Types.SQLXML:     return \"SQLXML\";\n+\t\t\tcase Types.TIME_WITH_TIMEZONE: return \"TIME_WITH_TIMEZONE\";\n+\t\t\tcase Types.TIMESTAMP_WITH_TIMEZONE: return \"TIMESTAMP_WITH_TIMEZONE\";\n \t\t}\n-     \treturn (\"Unknown\");\n-    }\n+\t\treturn \"Unknown\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e88ba22da17787bb78b8e37fc800c1b5ef2b2166"}, "originalPosition": 82}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMDQ4MjUzOnYy", "diffSide": "RIGHT", "path": "core/src/main/resources/IAF_WebControl/IAF_DatabaseChangelog.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMTowNjoyMlrOGt5rhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMToxMzoxM1rOGt54Pw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDc4NDEzMw==", "bodyText": "Ik ben bang dat dit problemen op gaat lossen bij mensen die dit al een keer uitgevoerd hebben.\nOm dit te omzeilen kan je de oude checksum accepteren door de tag <validCheckSum>...</validCheckSum> toe te voegen", "url": "https://github.com/ibissource/iaf/pull/907#discussion_r450784133", "createdAt": "2020-07-07T11:06:22Z", "author": {"login": "nielsm5"}, "path": "core/src/main/resources/IAF_WebControl/IAF_DatabaseChangelog.xml", "diffHunk": "@@ -36,7 +36,7 @@ TagDatabase\n \t\t\t<column name=\"CORRELATIONID\" type=\"java.sql.Types.VARCHAR(256)\"/>\n \t\t\t<column name=\"MESSAGEDATE\" type=\"DATETIME\"/>\n \t\t\t<column name=\"COMMENTS\" type=\"java.sql.Types.VARCHAR(1000)\"/>\n-\t\t\t<column name=\"MESSAGE\" type=\"BLOB\"/>\n+\t\t\t<column name=\"MESSAGE\" type=\"LONGBLOB\"/> <!-- LONGBLOB required for MySQL, compatible with BLOB for other dbmses -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e88ba22da17787bb78b8e37fc800c1b5ef2b2166"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDc4NzM5MQ==", "bodyText": "Ik heb het getest tegen Oracle, H2 en MS SQL databases met bestaande tabellen. Die piepten niet.", "url": "https://github.com/ibissource/iaf/pull/907#discussion_r450787391", "createdAt": "2020-07-07T11:13:13Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/resources/IAF_WebControl/IAF_DatabaseChangelog.xml", "diffHunk": "@@ -36,7 +36,7 @@ TagDatabase\n \t\t\t<column name=\"CORRELATIONID\" type=\"java.sql.Types.VARCHAR(256)\"/>\n \t\t\t<column name=\"MESSAGEDATE\" type=\"DATETIME\"/>\n \t\t\t<column name=\"COMMENTS\" type=\"java.sql.Types.VARCHAR(1000)\"/>\n-\t\t\t<column name=\"MESSAGE\" type=\"BLOB\"/>\n+\t\t\t<column name=\"MESSAGE\" type=\"LONGBLOB\"/> <!-- LONGBLOB required for MySQL, compatible with BLOB for other dbmses -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDc4NDEzMw=="}, "originalCommit": {"oid": "e88ba22da17787bb78b8e37fc800c1b5ef2b2166"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 285, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}