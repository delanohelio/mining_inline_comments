{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyNDU0OTk0", "number": 1316, "title": "Fix #1266 Set Retry flag also when retried from queue + reorder IbisDoc", "bodyText": "Does not really 'solve' #905, but rearranges the IbisDoc, so that solution (setting maxRetries=-1) can be found more easily", "createdAt": "2020-12-04T10:55:28Z", "url": "https://github.com/ibissource/iaf/pull/1316", "merged": true, "mergeCommit": {"oid": "6ed2a12af852a206d41afaae1cc425a3adb61c03"}, "closed": true, "closedAt": "2020-12-10T07:49:24Z", "author": {"login": "gvanbrakel"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdi1kA9AH2gAyNTMyNDU0OTk0OjcwMzBkM2Q3YWY4NDI5NmE3M2JjZTFjMjdiNmZmY2M3N2YyNTE3MDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkj-CigFqTU0ODUzOTA2Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7030d3d7af84296a73bce1c27b6ffcc77f251705", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/7030d3d7af84296a73bce1c27b6ffcc77f251705", "committedDate": "2020-12-04T10:54:58Z", "message": "Reorder Receiver IbisDoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "122973d5f8c7e8b666511abffeab83c6c998577a", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/122973d5f8c7e8b666511abffeab83c6c998577a", "committedDate": "2020-12-04T14:05:32Z", "message": "Add retry flag also in case of redelivery"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2NDg1MDcx", "url": "https://github.com/ibissource/iaf/pull/1316#pullrequestreview-546485071", "createdAt": "2020-12-07T19:53:20Z", "commit": {"oid": "122973d5f8c7e8b666511abffeab83c6c998577a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxOTo1MzoyMFrOIA3-gA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxOTo1MzoyMFrOIA3-gA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzc4ODAzMg==", "bodyText": "Ik weet niet precies waar dit uitgelezen wordt, maar aangezien we het nu meerdere malen aan het gebruiken zijn, kan hier een constante van gemaakt worden?", "url": "https://github.com/ibissource/iaf/pull/1316#discussion_r537788032", "createdAt": "2020-12-07T19:53:20Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/receivers/Receiver.java", "diffHunk": "@@ -1391,7 +1394,9 @@ private synchronized ProcessResultCacheItem getCachedProcessResult(String messag\n \t */\n \t@SuppressWarnings(\"unchecked\")\n \tprivate boolean hasProblematicHistory(String messageId, boolean manualRetry, Object rawMessageOrWrapper, Message message, Map<String,Object>threadContext, String correlationId) throws ListenerException {\n-\t\tif (!manualRetry) {\n+\t\tif (manualRetry) {\n+\t\t\tthreadContext.put(\"retry\", \"true\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "122973d5f8c7e8b666511abffeab83c6c998577a"}, "originalPosition": 102}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9637c7edd626f23d0c3e630dcd725b1f4e1ccb29", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/9637c7edd626f23d0c3e630dcd725b1f4e1ccb29", "committedDate": "2020-12-08T07:32:28Z", "message": "Use a constant for retry flag session key"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4NTM5MDY3", "url": "https://github.com/ibissource/iaf/pull/1316#pullrequestreview-548539067", "createdAt": "2020-12-09T19:32:57Z", "commit": {"oid": "9637c7edd626f23d0c3e630dcd725b1f4e1ccb29"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 931, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}