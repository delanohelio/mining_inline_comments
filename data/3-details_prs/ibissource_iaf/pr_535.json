{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzMTU5MDQ2", "number": 535, "title": "Cleanup HttpSenderBase", "bodyText": "Add tests for Akamai\nFix threading issue in NetStorageSender", "createdAt": "2020-03-24T17:50:15Z", "url": "https://github.com/ibissource/iaf/pull/535", "merged": true, "mergeCommit": {"oid": "7ee7052378fb157609d6019d197e0fb5e5bc9819"}, "closed": true, "closedAt": "2020-03-25T12:09:05Z", "author": {"login": "nielsm5"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQ2ojFAH2gAyMzkzMTU5MDQ2OjZkYmMwMTlhOWMwNzVkNTc1NDc3YTM5MWFmNGQxMTM0OGMxYWEyZmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRGX_pAFqTM4MTA4NzA5NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6dbc019a9c075d575477a391af4d11348c1aa2fe", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/6dbc019a9c075d575477a391af4d11348c1aa2fe", "committedDate": "2020-03-24T17:48:02Z", "message": "Add tests for Akamai, cleanup HttpSenderBase"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMDA4MjUw", "url": "https://github.com/ibissource/iaf/pull/535#pullrequestreview-381008250", "createdAt": "2020-03-25T10:09:20Z", "commit": {"oid": "6dbc019a9c075d575477a391af4d11348c1aa2fe"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMDowOToyMFrOF7UAbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxMDoxMzowNFrOF7UJBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzczODA5NQ==", "bodyText": "Toch wel netjes om van deze \"urlParam\" en constante te maken, en misschien zelfs configureerbaar (als er conflicten zouden kunnen ontstaan)", "url": "https://github.com/ibissource/iaf/pull/535#discussion_r397738095", "createdAt": "2020-03-25T10:09:20Z", "author": {"login": "gvanbrakel"}, "path": "akamai/src/main/java/nl/nn/adapterframework/extensions/akamai/NetStorageSender.java", "diffHunk": "@@ -162,14 +164,14 @@ public Message sendMessage(Message message, IPipeLineSession session) throws Sen\n \t\t} catch (IOException e) {\n \t\t\tthrow new SenderException(getLogPrefix(),e);\n \t\t}\n-\t\tstaticUri = buildUri(path); // TODO: this is not thread safe!\n+\t\tsession.put(\"urlParam\", path);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6dbc019a9c075d575477a391af4d11348c1aa2fe"}, "originalPosition": 85}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzczOTEyMA==", "bodyText": "Waarom is dit een parameter? Om hem te kunnen overriden? Ik snap eigenlijk niet wat er gebeurt", "url": "https://github.com/ibissource/iaf/pull/535#discussion_r397739120", "createdAt": "2020-03-25T10:11:07Z", "author": {"login": "gvanbrakel"}, "path": "akamai/src/main/java/nl/nn/adapterframework/extensions/akamai/NetStorageSender.java", "diffHunk": "@@ -96,6 +96,11 @@\n \n \t@Override\n \tpublic void configure() throws ConfigurationException {\n+\t\tParameter urlParameter = new Parameter();\n+\t\turlParameter.setName(getUrlParam());\n+\t\turlParameter.setSessionKey(\"urlParam\");\n+\t\taddParameter(urlParameter);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6dbc019a9c075d575477a391af4d11348c1aa2fe"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc0MDI5NA==", "bodyText": "Ik doe in voorkomende gevallen: Copyright 2020 WeAreFrank!, dus niet .nl, maar met uitroepteken.", "url": "https://github.com/ibissource/iaf/pull/535#discussion_r397740294", "createdAt": "2020-03-25T10:13:04Z", "author": {"login": "gvanbrakel"}, "path": "akamai/src/test/java/nl/nn/adapterframework/extensions/akamai/NetStorageSenderTest.java", "diffHunk": "@@ -0,0 +1,116 @@\n+/*\n+   Copyright 2020 WeAreFrank.nl", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6dbc019a9c075d575477a391af4d11348c1aa2fe"}, "originalPosition": 2}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2fd7d2836eee096baf150dbeeacbc9a5af8a3717", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/2fd7d2836eee096baf150dbeeacbc9a5af8a3717", "committedDate": "2020-03-25T10:35:51Z", "message": "Change copyright info"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9fedc0b3070b2b75117d4b2767121d6d3e92c5a", "author": {"user": {"login": "nielsm5", "name": "Niels"}}, "url": "https://github.com/ibissource/iaf/commit/c9fedc0b3070b2b75117d4b2767121d6d3e92c5a", "committedDate": "2020-03-25T10:47:00Z", "message": "Fix javadoc and add comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxMDg3MDk1", "url": "https://github.com/ibissource/iaf/pull/535#pullrequestreview-381087095", "createdAt": "2020-03-25T12:08:26Z", "commit": {"oid": "c9fedc0b3070b2b75117d4b2767121d6d3e92c5a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1424, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}