{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI4NTg0MTYx", "number": 793, "title": "Make Base64Pipe support output streaming", "bodyText": "", "createdAt": "2020-06-05T16:58:41Z", "url": "https://github.com/ibissource/iaf/pull/793", "merged": true, "mergeCommit": {"oid": "9e4e4fb20f555e155beaacb2223b82bc9b035059"}, "closed": true, "closedAt": "2020-06-10T07:39:25Z", "author": {"login": "gvanbrakel"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcoVrETAH2gAyNDI4NTg0MTYxOmUwZGRkZWQyNmJhNjYzNjYxZGExNWU2NDUyYjc2Mzk2NjNkMWU3Y2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcp0rPKAFqTQyNzc4ODgwOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e0ddded26ba663661da15e6452b7639663d1e7cb", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/e0ddded26ba663661da15e6452b7639663d1e7cb", "committedDate": "2020-06-05T16:58:06Z", "message": "Make Base64Pipe support output streaming"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c06d56cd189ba034357ea6120add4c4134cc093c", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/c06d56cd189ba034357ea6120add4c4134cc093c", "committedDate": "2020-06-08T07:27:29Z", "message": "Simplify MessageOutputStream constructors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8ee267242d35371229847d81ac254c9b8be94e2", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/c8ee267242d35371229847d81ac254c9b8be94e2", "committedDate": "2020-06-08T07:57:07Z", "message": "Update documentation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2MTk0OTg2", "url": "https://github.com/ibissource/iaf/pull/793#pullrequestreview-426194986", "createdAt": "2020-06-08T12:50:13Z", "commit": {"oid": "c8ee267242d35371229847d81ac254c9b8be94e2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMjo1MDoxM1rOGgcEvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMjo1MDoxM1rOGgcEvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY2NzU4MA==", "bodyText": "Performance gezien is het natuurlijk handiger eerst een boolean check te hebben en dan extra logica..", "url": "https://github.com/ibissource/iaf/pull/793#discussion_r436667580", "createdAt": "2020-06-08T12:50:13Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/pipes/IteratingPipe.java", "diffHunk": "@@ -435,19 +435,20 @@ public MessageOutputStream provideOutputStream(IPipeLineSession session) throws\n \t\treturn null; // ancestor MessageSendingPipe forwards provideOutputStream to sender, which is not correct for IteratingPipe\n \t}\n \n+\t@Override\n+\tpublic boolean canStreamToNextPipe() {\n+\t\treturn super.canStreamToNextPipe() && !isCollectResults(); // when collectResults is false, streaming is not necessary or useful", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8ee267242d35371229847d81ac254c9b8be94e2"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2MjAxNjg0", "url": "https://github.com/ibissource/iaf/pull/793#pullrequestreview-426201684", "createdAt": "2020-06-08T12:54:31Z", "commit": {"oid": "c8ee267242d35371229847d81ac254c9b8be94e2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMjo1NDozMVrOGgcOUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMjo1NDozMVrOGgcOUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY3MDAzNQ==", "bodyText": "Het idee achter asObject was om te controleren of er daadwerkelijk een stream uitkomt ipv dat Message het converteert naar een stream", "url": "https://github.com/ibissource/iaf/pull/793#discussion_r436670035", "createdAt": "2020-06-08T12:54:31Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/Base64PipeTest.java", "diffHunk": "@@ -156,7 +157,7 @@ public void inputStringOutputStream() throws ConfigurationException, PipeStartEx\n \t\tpipe.start();\n \n \t\tPipeRunResult prr = doPipe(pipe,input, session);\n-\t\tInputStream result = (InputStream) prr.getResult().asObject();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8ee267242d35371229847d81ac254c9b8be94e2"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30e8dfae64fc4121d4093ac329dafc740a06b64f", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/30e8dfae64fc4121d4093ac329dafc740a06b64f", "committedDate": "2020-06-08T16:59:49Z", "message": "Fix test issue, improve defaults"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d2b1f42a19b4f90dde6ac604b37b1de22b54bdb", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/0d2b1f42a19b4f90dde6ac604b37b1de22b54bdb", "committedDate": "2020-06-08T17:00:38Z", "message": "Fix performance issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0212db732c878f3367f865107950e0669ac933f7", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/0212db732c878f3367f865107950e0669ac933f7", "committedDate": "2020-06-08T20:03:20Z", "message": "Optimizations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35651fc7efc4fd90c087b864cd17440cb3f046fa", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/35651fc7efc4fd90c087b864cd17440cb3f046fa", "committedDate": "2020-06-08T20:37:54Z", "message": "Revert to original defaults"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "917644e93992bd9d7e6daeb790b5e4486aedb939", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/917644e93992bd9d7e6daeb790b5e4486aedb939", "committedDate": "2020-06-08T20:50:00Z", "message": "Fix codacy issues"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2ODcxMDM2", "url": "https://github.com/ibissource/iaf/pull/793#pullrequestreview-426871036", "createdAt": "2020-06-09T07:45:37Z", "commit": {"oid": "917644e93992bd9d7e6daeb790b5e4486aedb939"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwNzo0NTozN1rOGg8uZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwNzo0NTozN1rOGg8uZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzIwMjUzMg==", "bodyText": "dit moet ook teruggezet worden naar string", "url": "https://github.com/ibissource/iaf/pull/793#discussion_r437202532", "createdAt": "2020-06-09T07:45:37Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/pipes/Base64Pipe.java", "diffHunk": "@@ -143,32 +163,31 @@ public void setConvert2String(boolean b) {\n \t\tconvertToString = b;\n \t}\n \n-\t@IbisDoc({\"2\", \"either <code>string</code>, <code>bytes</code> or <code>stream</code>\", \"string\"})\n+\t@IbisDoc({\"2\", \"Either <code>string</code>, <code>bytes</code> or <code>stream</code>\", \"bytes\"})", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "917644e93992bd9d7e6daeb790b5e4486aedb939"}, "originalPosition": 138}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38268769922bb8e6cd9e229806457e7ca48319ad", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/38268769922bb8e6cd9e229806457e7ca48319ad", "committedDate": "2020-06-09T14:50:39Z", "message": "Correct ibisdoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI3Nzg4ODA4", "url": "https://github.com/ibissource/iaf/pull/793#pullrequestreview-427788808", "createdAt": "2020-06-10T07:39:16Z", "commit": {"oid": "38268769922bb8e6cd9e229806457e7ca48319ad"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1245, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}