{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk3MDY5MTA4", "number": 566, "title": "Add $schema definition to generated JSON schema's & fix pattern being an array when usually only a single value is supplied & Add $id field & Add description field", "bodyText": "According to understanding-json-schema/basics.", "createdAt": "2020-04-01T15:29:56Z", "url": "https://github.com/ibissource/iaf/pull/566", "merged": true, "mergeCommit": {"oid": "798182de71960d2e50b67dd194bf9863b51bb16e"}, "closed": true, "closedAt": "2020-04-01T17:52:20Z", "author": {"login": "Laurens-makel"}, "timelineItems": {"totalCount": 30, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRLX3UgH2gAyMzk3MDY5MTA4OmM2ZTdmNjg0YzI5OTVjNDRiMWRmNzA0OTY1YTViNjU0YTk3NzU4NjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTbcwCgFqTM4NTc3NDYyMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c6e7f684c2995c44b1df704965a5b654a9775865", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/c6e7f684c2995c44b1df704965a5b654a9775865", "committedDate": "2020-03-25T17:57:49Z", "message": "Add facets in JSON schema converter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9333cefc4b6abcd44f754ba9a07e981d6f9d0882", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/9333cefc4b6abcd44f754ba9a07e981d6f9d0882", "committedDate": "2020-03-25T19:45:48Z", "message": "Improve handling different data types"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35bba0cfd149b14743a5bef8b2734db3ef7cf9ce", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/35bba0cfd149b14743a5bef8b2734db3ef7cf9ce", "committedDate": "2020-03-26T09:29:44Z", "message": "Handle date types as strings with format attribute"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d781e1fe4d4def01091815d0abefe653f5d11e68", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/d781e1fe4d4def01091815d0abefe653f5d11e68", "committedDate": "2020-03-26T09:43:21Z", "message": "Fix handling different data types correctly"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "206aab0cef3805ebf3efe70d338c6825b47ae60c", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/206aab0cef3805ebf3efe70d338c6825b47ae60c", "committedDate": "2020-03-26T09:49:41Z", "message": "Improve handling numeric types"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4678fddd0cae054e634e5368bb77c1e1b2f6d35a", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/4678fddd0cae054e634e5368bb77c1e1b2f6d35a", "committedDate": "2020-03-26T09:54:13Z", "message": "Update tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "879e02c5920910fc3e2ab681046de93711ce8d9c", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/879e02c5920910fc3e2ab681046de93711ce8d9c", "committedDate": "2020-03-26T12:39:16Z", "message": "Fix support for bigints, patterns and enums"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ec163e7ae3a1a2b0aca4dc882227db90d2e3293", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/2ec163e7ae3a1a2b0aca4dc882227db90d2e3293", "committedDate": "2020-03-26T12:55:40Z", "message": "Remove name attribute from simpleType"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4739c38e0ec24c9a290b98b07d435b773516aa2d", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/4739c38e0ec24c9a290b98b07d435b773516aa2d", "committedDate": "2020-03-26T15:15:10Z", "message": "Add required properties attribute to output JSON schema generator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c7c6e963fa22e2cb21cfd5175c4bebef1c4a28a", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/8c7c6e963fa22e2cb21cfd5175c4bebef1c4a28a", "committedDate": "2020-03-26T15:25:36Z", "message": "Merge branch 'master' of https://github.com/ibissource/iaf into JSON-Schema\n\n# Conflicts:\n#\tcore/src/main/java/nl/nn/adapterframework/align/XmlTypeToJsonSchemaConverter.java\n#\tcore/src/test/resources/Align/Arrays/arrays-array1.jsd\n#\tcore/src/test/resources/Align/Arrays/arrays-arrays.jsd\n#\tcore/src/test/resources/Align/DataTypes/DataTypes-DataTypes.jsd\n#\tcore/src/test/resources/Align/HCDA/HandleCollectionDisbursementAccount3_v3.0-HandleCollectionDisbursementAccount.jsd\n#\tcore/src/test/resources/Align/RepeatedElements/sprint-sprint.jsd\n#\tcore/src/test/resources/Align/Transaction/transaction-transaction.jsd"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5da37230ee9f959025b800bb868186f0837b0e02", "author": {"user": {"login": "Laurens-makel", "name": null}}, "url": "https://github.com/ibissource/iaf/commit/5da37230ee9f959025b800bb868186f0837b0e02", "committedDate": "2020-03-26T15:52:22Z", "message": "Correct merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "263df3838c3883e84739fdd2226920ad5f849cb9", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/263df3838c3883e84739fdd2226920ad5f849cb9", "committedDate": "2020-03-26T16:06:46Z", "message": "Fix tests\n\n# Conflicts:\n#\tcore/src/test/resources/Align/Arrays/arrays-array1.jsd\n#\tcore/src/test/resources/Align/Arrays/arrays-arrays.jsd\n#\tcore/src/test/resources/Align/DataTypes/DataTypes-DataTypes.jsd\n#\tcore/src/test/resources/Align/HCDA/HandleCollectionDisbursementAccount3_v3.0-HandleCollectionDisbursementAccount.jsd\n#\tcore/src/test/resources/Align/RepeatedElements/sprint-sprint.jsd\n#\tcore/src/test/resources/Align/Transaction/transaction-transaction.jsd"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4e09e69364c1ff4958834146e91ac054d3a459a", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/f4e09e69364c1ff4958834146e91ac054d3a459a", "committedDate": "2020-03-30T08:17:38Z", "message": "Merge branch 'master' of https://github.com/ibissource/iaf into JSON-Schema"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5bd4239de99587d36f46701c82eb4e81bf103e8b", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/5bd4239de99587d36f46701c82eb4e81bf103e8b", "committedDate": "2020-03-30T08:21:34Z", "message": "Add making references to sub-elements in generated JSON schema's"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "238380c30bfc24314eff607b27deb77aa7265f3d", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/238380c30bfc24314eff607b27deb77aa7265f3d", "committedDate": "2020-03-30T09:39:55Z", "message": "Improve code quality and decrease code complexity"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "beda7fcddc3be6f51aeacf8fa44f6d99814b9952", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/beda7fcddc3be6f51aeacf8fa44f6d99814b9952", "committedDate": "2020-03-30T09:52:07Z", "message": "Decrease code complexity"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15cdbd926b8f8fdac4710d8f8ff57ab36bacf0d4", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/15cdbd926b8f8fdac4710d8f8ff57ab36bacf0d4", "committedDate": "2020-03-30T09:54:35Z", "message": "Add missing return statement"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f2837b1b8de03aef59ac5aef468209ed246e045", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/2f2837b1b8de03aef59ac5aef468209ed246e045", "committedDate": "2020-03-30T12:08:56Z", "message": "Add nillable support to skippable arrays and fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d8db03f297af132ef461d17eee9c8d44116daba", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/5d8db03f297af132ef461d17eee9c8d44116daba", "committedDate": "2020-03-30T12:37:55Z", "message": "Ignore family xml test for Map2Xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f9c7eedf7c3624aff71b4de493dbfbde0a98dde", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/7f9c7eedf7c3624aff71b4de493dbfbde0a98dde", "committedDate": "2020-03-30T12:41:24Z", "message": "Remove un-used variable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9419bc62980aee88a4182efc0c435848aa6980b5", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/9419bc62980aee88a4182efc0c435848aa6980b5", "committedDate": "2020-03-30T13:28:35Z", "message": "Improve type checking"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "828ca0713fec462d0ac5e6d5c4dc32934988b644", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/828ca0713fec462d0ac5e6d5c4dc32934988b644", "committedDate": "2020-03-30T14:13:19Z", "message": "Remove type cast"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e413934100711618683a07b86d7896bdbc8af1a0", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/e413934100711618683a07b86d7896bdbc8af1a0", "committedDate": "2020-04-01T15:11:35Z", "message": "Merge branch 'master' of https://github.com/ibissource/iaf into JSON-Schema\n\n# Conflicts:\n#\tcore/src/main/java/nl/nn/adapterframework/align/XmlTypeToJsonSchemaConverter.java\n#\tcore/src/test/resources/Align/Arrays/arrays-array1.jsd\n#\tcore/src/test/resources/Align/Arrays/arrays-arrays.jsd\n#\tcore/src/test/resources/Align/Arrays/arrays-singleSimpleRepeatedElement.jsd\n#\tcore/src/test/resources/Align/DataTypes/DataTypes-DataTypes.jsd\n#\tcore/src/test/resources/Align/FamilyTree/family-family.jsd\n#\tcore/src/test/resources/Align/HCDA/HandleCollectionDisbursementAccount3_v3.0-HandleCollectionDisbursementAccount.jsd\n#\tcore/src/test/resources/Align/OptionalArray/hbp-Root.jsd"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29ec319ee0a97a4f49134d471b3f2c442867335a", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/29ec319ee0a97a4f49134d471b3f2c442867335a", "committedDate": "2020-04-01T15:25:37Z", "message": "Fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae6bd6c2446f5c5b5cf913028141bdf37347c779", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/ae6bd6c2446f5c5b5cf913028141bdf37347c779", "committedDate": "2020-04-01T15:27:40Z", "message": "Remove namespace for now"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a0e14ec9007d770b732eb8dff7233cd71b9015d", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/8a0e14ec9007d770b732eb8dff7233cd71b9015d", "committedDate": "2020-04-01T16:34:43Z", "message": "Add $id and description fields"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1NzU4MTQ3", "url": "https://github.com/ibissource/iaf/pull/566#pullrequestreview-385758147", "createdAt": "2020-04-01T16:35:59Z", "commit": {"oid": "8a0e14ec9007d770b732eb8dff7233cd71b9015d"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNjozNTo1OVrOF_JCcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNjozNzowNlrOF_JFaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc1MjY5MA==", "bodyText": "Dit klopt volgens mij niet?", "url": "https://github.com/ibissource/iaf/pull/566#discussion_r401752690", "createdAt": "2020-04-01T16:35:59Z", "author": {"login": "nielsm5"}, "path": "core/src/test/resources/Align/DataTypes/DataTypes-DataTypes.jsd", "diffHunk": "@@ -202,9 +205,7 @@\n             },\n             \"PatternString\":{\n                 \"type\":\"string\",\n-                \"pattern\":[\n-                    \"J|N\"\n-                ]\n+                \"pattern\":\"J|N\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a0e14ec9007d770b732eb8dff7233cd71b9015d"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc1MzQ0OQ==", "bodyText": "is het id de namespace? Het moet een unieke identifier zijn..", "url": "https://github.com/ibissource/iaf/pull/566#discussion_r401753449", "createdAt": "2020-04-01T16:37:06Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/align/XmlTypeToJsonSchemaConverter.java", "diffHunk": "@@ -111,6 +114,13 @@ public XSElementDeclaration findElementDeclaration(String elementName, String na\n \tpublic JsonStructure createJsonSchema(String elementName, XSElementDeclaration elementDecl) {\n \t\tJsonObjectBuilder builder = Json.createObjectBuilder();\n \t\tdefinitionsBuilder = Json.createObjectBuilder();\n+\t\tbuilder.add(\"$schema\", JSON_SCHEMA);\n+\t\tif(elementDecl.getNamespace() != null){\n+\t\t\tbuilder.add(\"$id\", elementDecl.getNamespace());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a0e14ec9007d770b732eb8dff7233cd71b9015d"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c7cb45889a5d33abfb0419345338043c9284639", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/2c7cb45889a5d33abfb0419345338043c9284639", "committedDate": "2020-04-01T16:59:31Z", "message": "Frank! Framework -> Frank!Framework"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2ba9433e3a909d7d411d858f90e09f991a1db7f", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/a2ba9433e3a909d7d411d858f90e09f991a1db7f", "committedDate": "2020-04-01T17:23:55Z", "message": "Merge branch 'master' of https://github.com/ibissource/iaf into JSON-Schema"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1Nzc0NjIx", "url": "https://github.com/ibissource/iaf/pull/566#pullrequestreview-385774621", "createdAt": "2020-04-01T16:56:48Z", "commit": {"oid": "8a0e14ec9007d770b732eb8dff7233cd71b9015d"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNjo1Njo0OVrOF_J33Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxNjo1Njo0OVrOF_J33Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTc2NjM2NQ==", "bodyText": "'Frank! Framework' moet zijn 'Frank!Framework'", "url": "https://github.com/ibissource/iaf/pull/566#discussion_r401766365", "createdAt": "2020-04-01T16:56:49Z", "author": {"login": "gvanbrakel"}, "path": "core/src/test/resources/Align/FamilyTree/family-family.jsd", "diffHunk": "@@ -1,4 +1,7 @@\n \"#\":{\n+        \"$schema\":\"http://json-schema.org/draft-04/schema#\",\n+        \"$id\":\"urn:family\",\n+        \"description\":\"Auto-generated by Frank! Framework based on urn:family /Align/FamilyTree/family.xsd\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a0e14ec9007d770b732eb8dff7233cd71b9015d"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1305, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}