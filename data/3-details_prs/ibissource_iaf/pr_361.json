{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYzMDUzNDgz", "number": 361, "title": "Remove SimpleParameter class, update IbisDoc", "bodyText": "", "createdAt": "2020-01-15T10:04:39Z", "url": "https://github.com/ibissource/iaf/pull/361", "merged": true, "mergeCommit": {"oid": "01d5a0c57e8baaf9614f627c68a450ff7648a7b7"}, "closed": true, "closedAt": "2020-01-17T13:02:29Z", "author": {"login": "gvanbrakel"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6ipHUgH2gAyMzYzMDUzNDgzOjcxZDQ5MWU3MGFkZTEzZTViZTg2NTcxMzJlOTU2ZDc1NDQ0MWJkZmI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb7OY60gFqTM0NDU2MjcwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "71d491e70ade13e5be8657132e956d754441bdfb", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/71d491e70ade13e5be8657132e956d754441bdfb", "committedDate": "2020-01-15T10:04:13Z", "message": "Remove SimpleParameter class, update IbisDoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzOTMzMTU2", "url": "https://github.com/ibissource/iaf/pull/361#pullrequestreview-343933156", "createdAt": "2020-01-16T14:04:04Z", "commit": {"oid": "71d491e70ade13e5be8657132e956d754441bdfb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxNDowNDowNVrOFeaX7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxNDowNDowNVrOFeaX7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQzMzcwOQ==", "bodyText": "Wat een rare naam, is isPoolingEnabled oid niet beter/duidelijker?", "url": "https://github.com/ibissource/iaf/pull/361#discussion_r367433709", "createdAt": "2020-01-16T14:04:05Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/jdbc/JdbcFacade.java", "diffHunk": "@@ -348,6 +335,7 @@ public boolean isTransacted() {\n \t\treturn transacted;\n \t}\n \n+\t@IbisDoc({\"6\", \"informs the sender that the obtained connection is from a pool\", \"true\"})\n \tpublic boolean isConnectionsArePooled() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71d491e70ade13e5be8657132e956d754441bdfb"}, "originalPosition": 177}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzOTM0NzY0", "url": "https://github.com/ibissource/iaf/pull/361#pullrequestreview-343934764", "createdAt": "2020-01-16T14:06:16Z", "commit": {"oid": "71d491e70ade13e5be8657132e956d754441bdfb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxNDowNjoxNlrOFeaclQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxNDowNjoxNlrOFeaclQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzQzNDkwMQ==", "bodyText": "Zou hier ook wel een junit test voor willen zien...", "url": "https://github.com/ibissource/iaf/pull/361#discussion_r367434901", "createdAt": "2020-01-16T14:06:16Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/util/JdbcUtil.java", "diffHunk": "@@ -1116,44 +1117,45 @@ public static Object executeQuery(Connection connection, String query, List<Simp\n \t\t\t\trs.close();\n \t\t\t}\n \t\t} catch (Exception e) {\n-\t\t\tthrow new JdbcException(\"could not obtain value using query [\" + query + \"]\" + displayParameters(simpleParameters), e);\n+\t\t\tthrow new JdbcException(\"could not obtain value using query [\" + query + \"]\" + displayParameters(parameterValues), e);\n \t\t} finally {\n \t\t\tif (stmt != null) {\n \t\t\t\ttry {\n \t\t\t\t\tstmt.close();\n \t\t\t\t} catch (Exception e) {\n-\t\t\t\t\tlog.warn(\"exception closing statement for query [\" + query + \"]\" + displayParameters(simpleParameters), e);\n+\t\t\t\t\tlog.warn(\"exception closing statement for query [\" + query + \"]\" + displayParameters(parameterValues), e);\n \t\t\t\t}\n \t\t\t}\n \t\t}\n \t}\n \t\n-\tprivate static String displayParameters(List<SimpleParameter> simpleParameters) {\n-\t\tif (simpleParameters == null) {\n+\tprivate static String displayParameters(ParameterValueList parameterValues) {\n+\t\tif (parameterValues == null) {\n \t\t\treturn \"\";\n \t\t}\n \t\tStringBuilder sb = new StringBuilder();\n-\t\tint i = 0;\n-\t\tfor (SimpleParameter simpleParameter : simpleParameters) {\n-\t\t\ti++;\n+\t\tfor (int i=0; i<parameterValues.size(); i++) {\n \t\t\tsb.append(\"param\" + i + \" [\");\n-\t\t\tsb.append(simpleParameter.getValue() + \"]\");\n+\t\t\tsb.append(parameterValues.getParameterValue(i).getValue() + \"]\");\n \t\t}\n \t\treturn sb.toString();\n \t}\n \n-\tpublic static void applyParameters(PreparedStatement statement, List<SimpleParameter> simpleParameters) throws SQLException, JdbcException {\n-\t\tif (simpleParameters != null) {\n-\t\t\tint i = 0;\n-\t\t\tfor (SimpleParameter simpleParameter : simpleParameters) {\n-\t\t\t\tapplyParameter(statement, simpleParameter, ++i);\n+\tpublic static void applyParameters(PreparedStatement statement, ParameterValueList parameters) throws SQLException, JdbcException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71d491e70ade13e5be8657132e956d754441bdfb"}, "originalPosition": 107}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0NTYyNzAw", "url": "https://github.com/ibissource/iaf/pull/361#pullrequestreview-344562700", "createdAt": "2020-01-17T13:02:21Z", "commit": {"oid": "71d491e70ade13e5be8657132e956d754441bdfb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1432, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}