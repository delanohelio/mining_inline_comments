{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5MDEyMzIy", "number": 342, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxNToxMToxMlrODV_2iA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxNToxOTo1N1rODWAAtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MzkyODQwOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/nl/nn/adapterframework/lifecycle/IbisApplicationContext.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxNToxMToxM1rOFagJGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxNToxMToxM1rOFagJGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzMzMzkxNQ==", "bodyText": "Deze System.out.println is niet echt nodig, toch? Anders in een comment zetten waarom hier wel.", "url": "https://github.com/ibissource/iaf/pull/342#discussion_r363333915", "createdAt": "2020-01-06T15:11:13Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/lifecycle/IbisApplicationContext.java", "diffHunk": "@@ -157,6 +173,42 @@ private XmlWebApplicationContext createWebApplicationContext() throws BeansExcep\n \t\treturn applicationContext;\n \t}\n \n+\t/**\n+\t * Loads springContext, springUnmanagedDeployment, springCommon and files specified by the SPRING.CONFIG.LOCATIONS\n+\t * property in AppConstants.properties\n+\t * \n+\t * @param classLoader to use in order to find and validate the Spring Configuration files\n+\t * @return A String array containing all files to use.\n+\t */\n+\tprivate String[] getSpringConfigurationFiles(ClassLoader classLoader) {\n+\t\tList<String> springConfigurationFiles = new ArrayList<String>();\n+\t\tspringConfigurationFiles.add(XmlWebApplicationContext.CLASSPATH_URL_PREFIX + \"/springContext.xml\");\n+\t\tspringConfigurationFiles.add(XmlWebApplicationContext.CLASSPATH_URL_PREFIX + \"/springUnmanagedDeployment.xml\");\n+\t\tspringConfigurationFiles.add(XmlWebApplicationContext.CLASSPATH_URL_PREFIX + \"/springCommon.xml\");\n+\n+\t\tStringTokenizer locationTokenizer = AppConstants.getInstance().getTokenizedProperty(\"SPRING.CONFIG.LOCATIONS\");\n+\t\twhile(locationTokenizer.hasMoreTokens()) {\n+\t\t\tString file = locationTokenizer.nextToken();\n+\t\t\tlog.info(\"found spring configuration file to load [\"+file+\"]\");\n+\n+\t\t\tURL fileURL = classLoader.getResource(file);\n+\t\t\tif(fileURL == null) {\n+\t\t\t\tlog.error(\"unable to locate Spring configuration file [\"+file+\"]\");\n+\t\t\t\tSystem.out.println(\"unable to locate Spring configuration file [\"+file+\"]\");\n+\t\t\t} else {\n+\t\t\t\tif(file.indexOf(\":\") == -1) {\n+\t\t\t\t\tfile = XmlWebApplicationContext.CLASSPATH_URL_PREFIX+\"/\"+file;\n+\t\t\t\t}\n+\n+\t\t\t\tspringConfigurationFiles.add(file);\n+\t\t\t}\n+\t\t}\n+\n+\t\tlog.info(\"loading Spring configuration files \"+springConfigurationFiles+\"\");\n+\t\tSystem.out.println(\"loading Spring configuration files \"+springConfigurationFiles+\"\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81f115e62fdc0c8a57df6a0332af68b2831e87c3"}, "originalPosition": 142}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0Mzk1NDQ3OnYy", "diffSide": "RIGHT", "path": "core/src/main/resources/AppConstants.properties", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxNToxOTo1N1rOFagYyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxNToxOTo1N1rOFagYyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzMzNzkzMQ==", "bodyText": "Waarom is dit handiger dan de imports in springContext.xml?", "url": "https://github.com/ibissource/iaf/pull/342#discussion_r363337931", "createdAt": "2020-01-06T15:19:57Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/resources/AppConstants.properties", "diffHunk": "@@ -3,6 +3,8 @@\n # Application Constants\n #\n \n+SPRING.CONFIG.LOCATIONS=springIbisTestTool${ibistesttool.custom}.xml,spring${application.server.type}${application.server.type.custom}.xml,springCustom.xml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81f115e62fdc0c8a57df6a0332af68b2831e87c3"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 504, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}