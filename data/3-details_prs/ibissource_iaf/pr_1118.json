{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2NzY5MDUw", "number": 1118, "title": "Provide ability to follow exception forwards ", "bodyText": "Fixes #516", "createdAt": "2020-10-02T08:40:39Z", "url": "https://github.com/ibissource/iaf/pull/1118", "merged": true, "mergeCommit": {"oid": "1deb2082e1d9f302e29bb2b5da86c5890d8862e8"}, "closed": true, "closedAt": "2020-10-08T15:56:07Z", "author": {"login": "alisihab"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOh16qAH2gAyNDk2NzY5MDUwOmNmOWU5YmFiZDExYzY5NjBhNTlkNzE2YTZlY2EzMjM0ZThjMzQ0ZmI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQjs94gFqTUwNDkzMjAwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cf9e9babd11c6960a59d716a6eca3234e8c344fb", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/cf9e9babd11c6960a59d716a6eca3234e8c344fb", "committedDate": "2020-10-02T08:37:56Z", "message": "exception forward"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxMDc3MTEw", "url": "https://github.com/ibissource/iaf/pull/1118#pullrequestreview-501077110", "createdAt": "2020-10-02T12:05:39Z", "commit": {"oid": "cf9e9babd11c6960a59d716a6eca3234e8c344fb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2c770f3dff29ec9c02395de836e927993c696f84", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/2c770f3dff29ec9c02395de836e927993c696f84", "committedDate": "2020-10-02T13:38:20Z", "message": "rename test base folder to a more specific name"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxMTM5Nzc4", "url": "https://github.com/ibissource/iaf/pull/1118#pullrequestreview-501139778", "createdAt": "2020-10-02T13:35:07Z", "commit": {"oid": "cf9e9babd11c6960a59d716a6eca3234e8c344fb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxMzozNTowN1rOHbt27g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxMzozODo0NFrOHbt_GQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODgyNDk0Mg==", "bodyText": "2020 WeAreFrank!\nUnless you made this in 2013?", "url": "https://github.com/ibissource/iaf/pull/1118#discussion_r498824942", "createdAt": "2020-10-02T13:35:07Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/processors/ExceptionHandlingPipeProcessor.java", "diffHunk": "@@ -0,0 +1,51 @@\n+/*\n+   Copyright 2013, 2020 Nationale-Nederlanden", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cf9e9babd11c6960a59d716a6eca3234e8c344fb"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODgyNTM0Ng==", "bodyText": "I would personally prefer if this would be on 1 line..", "url": "https://github.com/ibissource/iaf/pull/1118#discussion_r498825346", "createdAt": "2020-10-02T13:35:51Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/processors/ExceptionHandlingPipeProcessor.java", "diffHunk": "@@ -0,0 +1,51 @@\n+/*\n+   Copyright 2013, 2020 Nationale-Nederlanden\n+\n+   Licensed under the Apache License, Version 2.0 (the \"License\");\n+   you may not use this file except in compliance with the License.\n+   You may obtain a copy of the License at\n+\n+       http://www.apache.org/licenses/LICENSE-2.0\n+\n+   Unless required by applicable law or agreed to in writing, software\n+   distributed under the License is distributed on an \"AS IS\" BASIS,\n+   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+   See the License for the specific language governing permissions and\n+   limitations under the License.\n+*/\n+package nl.nn.adapterframework.processors;\n+\n+import java.util.Map;\n+\n+import nl.nn.adapterframework.core.IPipe;\n+import nl.nn.adapterframework.core.IPipeLineSession;\n+import nl.nn.adapterframework.core.PipeForward;\n+import nl.nn.adapterframework.core.PipeLine;\n+import nl.nn.adapterframework.core.PipeRunException;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.errormessageformatters.ErrorMessageFormatter;\n+import nl.nn.adapterframework.stream.Message;\n+import nl.nn.adapterframework.util.DateUtils;\n+\n+public class ExceptionHandlingPipeProcessor extends PipeProcessorBase {\n+\n+\t@Override\n+\tpublic PipeRunResult processPipe(PipeLine pipeLine, IPipe pipe, Message message, IPipeLineSession pipeLineSession)\n+\t\t\tthrows PipeRunException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cf9e9babd11c6960a59d716a6eca3234e8c344fb"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODgyNzAzMw==", "bodyText": "This session value is a drama, as we would say in Dutch. I believe it's possible for it to be either a Date or a formatted timestamp. Please look here  for more info!", "url": "https://github.com/ibissource/iaf/pull/1118#discussion_r498827033", "createdAt": "2020-10-02T13:38:44Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/processors/ExceptionHandlingPipeProcessor.java", "diffHunk": "@@ -0,0 +1,51 @@\n+/*\n+   Copyright 2013, 2020 Nationale-Nederlanden\n+\n+   Licensed under the Apache License, Version 2.0 (the \"License\");\n+   you may not use this file except in compliance with the License.\n+   You may obtain a copy of the License at\n+\n+       http://www.apache.org/licenses/LICENSE-2.0\n+\n+   Unless required by applicable law or agreed to in writing, software\n+   distributed under the License is distributed on an \"AS IS\" BASIS,\n+   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+   See the License for the specific language governing permissions and\n+   limitations under the License.\n+*/\n+package nl.nn.adapterframework.processors;\n+\n+import java.util.Map;\n+\n+import nl.nn.adapterframework.core.IPipe;\n+import nl.nn.adapterframework.core.IPipeLineSession;\n+import nl.nn.adapterframework.core.PipeForward;\n+import nl.nn.adapterframework.core.PipeLine;\n+import nl.nn.adapterframework.core.PipeRunException;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.errormessageformatters.ErrorMessageFormatter;\n+import nl.nn.adapterframework.stream.Message;\n+import nl.nn.adapterframework.util.DateUtils;\n+\n+public class ExceptionHandlingPipeProcessor extends PipeProcessorBase {\n+\n+\t@Override\n+\tpublic PipeRunResult processPipe(PipeLine pipeLine, IPipe pipe, Message message, IPipeLineSession pipeLineSession)\n+\t\t\tthrows PipeRunException {\n+\t\tPipeRunResult prr = null;\n+\t\ttry {\n+\t\t\tprr = pipeProcessor.processPipe(pipeLine, pipe, message, pipeLineSession);\n+\t\t} catch (PipeRunException e) {\n+\t\t\tMap<String, PipeForward> forwards = pipe.getForwards();\n+\t\t\tif (forwards!=null && forwards.containsKey(\"exception\")) {\n+\t\t\t\tlong tsReceived = DateUtils.parseToDate((String) pipeLineSession.get(IPipeLineSession.tsReceivedKey), DateUtils.FORMAT_FULL_GENERIC).getTime();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cf9e9babd11c6960a59d716a6eca3234e8c344fb"}, "originalPosition": 41}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a22f246c3eeaced1ea01e032f7a8610201b0e9f3", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/a22f246c3eeaced1ea01e032f7a8610201b0e9f3", "committedDate": "2020-10-02T14:42:40Z", "message": "consider different types of object for tsreceived"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e529e3a9034883ec7323dfe636808e1a6d696b66", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/e529e3a9034883ec7323dfe636808e1a6d696b66", "committedDate": "2020-10-05T11:39:16Z", "message": "move scenario.properties files to the parent folder"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMTExNDE0", "url": "https://github.com/ibissource/iaf/pull/1118#pullrequestreview-503111414", "createdAt": "2020-10-06T15:47:24Z", "commit": {"oid": "e529e3a9034883ec7323dfe636808e1a6d696b66"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12a200c3ee86f3c1206471dcbe08bf66bf9a6ec5", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/12a200c3ee86f3c1206471dcbe08bf66bf9a6ec5", "committedDate": "2020-10-07T15:18:28Z", "message": "document generic exception handling to follow the exception forward in a pipe"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0OTE2MjA0", "url": "https://github.com/ibissource/iaf/pull/1118#pullrequestreview-504916204", "createdAt": "2020-10-08T15:38:58Z", "commit": {"oid": "12a200c3ee86f3c1206471dcbe08bf66bf9a6ec5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0OTI4ODYz", "url": "https://github.com/ibissource/iaf/pull/1118#pullrequestreview-504928863", "createdAt": "2020-10-08T15:52:26Z", "commit": {"oid": "12a200c3ee86f3c1206471dcbe08bf66bf9a6ec5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0OTMyMDA1", "url": "https://github.com/ibissource/iaf/pull/1118#pullrequestreview-504932005", "createdAt": "2020-10-08T15:55:49Z", "commit": {"oid": "12a200c3ee86f3c1206471dcbe08bf66bf9a6ec5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1118, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}