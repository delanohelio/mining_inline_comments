{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA4ODgxODI4", "number": 1196, "title": "Extend suppression of config warnings ", "bodyText": "", "createdAt": "2020-10-23T10:47:05Z", "url": "https://github.com/ibissource/iaf/pull/1196", "merged": true, "mergeCommit": {"oid": "ee2f36cfc069b3521c49d21d5c7a13b2b2a740cb"}, "closed": true, "closedAt": "2020-11-06T16:43:35Z", "author": {"login": "alisihab"}, "timelineItems": {"totalCount": 31, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdVUBCogH2gAyNTA4ODgxODI4OjI2YzEwZDIxMzU1NDE4NjY4NjUzYmRjNjBkYjYyOTVhNmQxZTFmODg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZ5ChSgH2gAyNTA4ODgxODI4OjllZjZkOWY2MjVmZmZkOWZjNDFjYmUwMzQzYzkzMGEyMDQ0YjJiMjc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "26c10d21355418668653bdc60db6295a6d1e1f88", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/26c10d21355418668653bdc60db6295a6d1e1f88", "committedDate": "2020-10-23T10:28:53Z", "message": "extend configuration warnings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "596ce307e96f44e2e2e092228303731c73760084", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/596ce307e96f44e2e2e092228303731c73760084", "committedDate": "2020-10-23T10:38:26Z", "message": "introduce transaction suppressionkey"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NTU0ODg4", "url": "https://github.com/ibissource/iaf/pull/1196#pullrequestreview-516554888", "createdAt": "2020-10-26T08:32:23Z", "commit": {"oid": "596ce307e96f44e2e2e092228303731c73760084"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwODozMjoyM1rOHoFHkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwODozMjoyM1rOHoFHkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTc4ODk0Nw==", "bodyText": "What do you mean with 'to avoid losing any useful configuration warnings'\nAlso maybe add : warnings.suppress.transaction.{NameOfTheAdapter}=true, as just specifying the property isn't enough.", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r511788947", "createdAt": "2020-10-26T08:32:23Z", "author": {"login": "nielsm5"}, "path": "core/src/main/resources/AppConstants.properties", "diffHunk": "@@ -368,8 +368,16 @@ etag.ehcache.dir=${cache.dir}\n etag.ehcache.diskPersistent=false\n etag.ehcache.diskExpiryThreadIntervalSeconds=600\n \n+# Below listed 4 suppression keys should be used with an adapter name to avoid losing any useful configuration warnings.\n+# Example: warnings.suppress.transaction.{NameOfTheAdapter}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "596ce307e96f44e2e2e092228303731c73760084"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NTYzMTc1", "url": "https://github.com/ibissource/iaf/pull/1196#pullrequestreview-516563175", "createdAt": "2020-10-26T08:44:57Z", "commit": {"oid": "596ce307e96f44e2e2e092228303731c73760084"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwODo0NDo1N1rOHoFh3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwODo0NDo1N1rOHoFh3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTc5NTY3OQ==", "bodyText": "Maybe it's time for this to become an Enum", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r511795679", "createdAt": "2020-10-26T08:44:57Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/configuration/ConfigurationWarnings.java", "diffHunk": "@@ -36,7 +36,8 @@\n \tpublic static final String SQL_INJECTION_SUPPRESS_KEY = \"warnings.suppress.sqlInjections\";\n \tpublic static final String DEPRECATION_SUPPRESS_KEY=\"warnings.suppress.deprecated\";\n \tpublic static final String DEFAULT_VALUE_SUPPRESS_KEY = \"warnings.suppress.defaultvalue\";\n-\n+\tpublic static final String TRANSACTION_SUPPRESS_KEY = \"warnings.suppress.transaction\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "596ce307e96f44e2e2e092228303731c73760084"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7b2c4e17f625f914dc90b2b4e91f9c414332fc2", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/c7b2c4e17f625f914dc90b2b4e91f9c414332fc2", "committedDate": "2020-10-26T16:01:32Z", "message": "suppressKeys enum, cover more configuration warnings for suppression"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3NDY3NTYy", "url": "https://github.com/ibissource/iaf/pull/1196#pullrequestreview-517467562", "createdAt": "2020-10-27T08:52:29Z", "commit": {"oid": "c7b2c4e17f625f914dc90b2b4e91f9c414332fc2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwODo1MjoyOVrOHoxOOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwODo1ODoyNlrOHoxdWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjUxMTU0Nw==", "bodyText": "Shouldn't you put this in the MqttFacade? It already has a configure, just no IConfigurable interface", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r512511547", "createdAt": "2020-10-27T08:52:29Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/extensions/mqtt/MqttListener.java", "diffHunk": "@@ -171,4 +171,9 @@ public Message extractMessage(MqttMessage rawMessage, Map<String, Object> contex\n \t@Override\n \tpublic void afterMessageProcessed(PipeLineResult processResult, Object rawMessageOrWrapper, Map<String, Object> context) throws ListenerException {\n \t}\n+\n+\t@Override\n+\tpublic ClassLoader getConfigurationClassLoader() {\n+\t\treturn super.getClassLoader();\n+\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7b2c4e17f625f914dc90b2b4e91f9c414332fc2"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjUxMjUzNw==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r512512537", "createdAt": "2020-10-27T08:54:08Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/http/WebServiceListener.java", "diffHunk": "@@ -92,7 +93,7 @@ public void configure() throws ConfigurationException {\n \n \t\tif (StringUtils.isEmpty(getServiceNamespaceURI()) && StringUtils.isEmpty(getAddress())) {\n \t\t\tString msg = \"calling webservices via de ServiceDispatcher_ServiceProxy is deprecated. Please specify an address or serviceNamespaceURI and modify the call accordingly\";\n-\t\t\tConfigurationWarnings.add(this, log, msg);\n+\t\t\tConfigurationWarnings.add(this, log, msg, SuppressKeys.DEPRECATION_SUPPRESS_KEY, null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7b2c4e17f625f914dc90b2b4e91f9c414332fc2"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjUxNTQxNg==", "bodyText": "This class already has a configure method, If you add the IConfigurable interface here you don't have to add it on it's children.", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r512515416", "createdAt": "2020-10-27T08:58:26Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/ftp/FtpSession.java", "diffHunk": "@@ -68,6 +68,7 @@\n  */\n public class FtpSession {\n \tprotected Logger log = LogUtil.getLogger(this);\n+\tprivate ClassLoader classLoader = Thread.currentThread().getContextClassLoader();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7b2c4e17f625f914dc90b2b4e91f9c414332fc2"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12c8b4e701bb4e5c076d513091042cdd8bbcfd81", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/12c8b4e701bb4e5c076d513091042cdd8bbcfd81", "committedDate": "2020-10-27T09:24:54Z", "message": "move method to parent class"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNDM5MDUz", "url": "https://github.com/ibissource/iaf/pull/1196#pullrequestreview-520439053", "createdAt": "2020-10-30T07:55:23Z", "commit": {"oid": "12c8b4e701bb4e5c076d513091042cdd8bbcfd81"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQwNzo1NToyM1rOHrEarQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQwODowNjo1N1rOHrEtug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkyMzE4MQ==", "bodyText": "Please use @Getter annotation instead", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r514923181", "createdAt": "2020-10-30T07:55:23Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/extensions/afm/Afm2EdiFactSender.java", "diffHunk": "@@ -326,4 +327,9 @@ public void setTpnummer(String newTpnummer) {\n \tpublic String getTpnummer() {\n \t\treturn tpnummer;\n \t}\n+\n+\t@Override\n+\tpublic ClassLoader getConfigurationClassLoader() {\n+\t\treturn classLoader;\n+\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12c8b4e701bb4e5c076d513091042cdd8bbcfd81"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkyMzcwMQ==", "bodyText": "Please use @Getter annotation instead", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r514923701", "createdAt": "2020-10-30T07:56:37Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/extensions/mqtt/MqttFacade.java", "diffHunk": "@@ -228,4 +231,9 @@ public void setAuthAlias(String authAlias) {\n \tpublic String getAuthAlias() {\n \t\treturn authAlias;\n \t}\n+\n+\t@Override\n+\tpublic ClassLoader getConfigurationClassLoader() {\n+\t\treturn classLoader;\n+\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12c8b4e701bb4e5c076d513091042cdd8bbcfd81"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkyMzg0NQ==", "bodyText": "Unnecessary change, please remove file from PR", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r514923845", "createdAt": "2020-10-30T07:57:01Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/extensions/mqtt/MqttListener.java", "diffHunk": "@@ -171,4 +171,5 @@ public Message extractMessage(MqttMessage rawMessage, Map<String, Object> contex\n \t@Override\n \tpublic void afterMessageProcessed(PipeLineResult processResult, Object rawMessageOrWrapper, Map<String, Object> context) throws ListenerException {\n \t}\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12c8b4e701bb4e5c076d513091042cdd8bbcfd81"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkyMzk4OQ==", "bodyText": "Unnecessary change, please remove file from PR", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r514923989", "createdAt": "2020-10-30T07:57:26Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/extensions/mqtt/MqttSender.java", "diffHunk": "@@ -116,4 +116,5 @@ public Message sendMessage(Message message, IPipeLineSession session, String soa\n \tpublic boolean isSynchronous() {\n \t\treturn false;\n \t}\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12c8b4e701bb4e5c076d513091042cdd8bbcfd81"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkyNDE5MA==", "bodyText": "Please use @Getter annotation instead", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r514924190", "createdAt": "2020-10-30T07:57:59Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/filesystem/FileSystemListener.java", "diffHunk": "@@ -150,6 +151,10 @@ public void closeThread(Map<String,Object> threadContext) throws ListenerExcepti\n \t\t// nothing special here\n \t}\n \n+\t@Override\n+\tpublic ClassLoader getConfigurationClassLoader() {\n+\t\treturn classLoader;\n+\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12c8b4e701bb4e5c076d513091042cdd8bbcfd81"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkyNTE4NQ==", "bodyText": "In this case this has to be 'Name of the listener or sender'", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r514925185", "createdAt": "2020-10-30T08:00:13Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/ftp/FtpSession.java", "diffHunk": "@@ -953,4 +957,19 @@ public boolean isKeyboardInteractive() {\n \tpublic void setKeyboardInteractive(boolean keyboardInteractive) {\n \t\tthis.keyboardInteractive = keyboardInteractive;\n \t}\n+\n+\t@Override\n+\t@IbisDoc({\"name of the listener\", \"\"})", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12c8b4e701bb4e5c076d513091042cdd8bbcfd81"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkyNTM3NA==", "bodyText": "Please use @Getter annotation", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r514925374", "createdAt": "2020-10-30T08:00:41Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/ftp/FtpSession.java", "diffHunk": "@@ -953,4 +957,19 @@ public boolean isKeyboardInteractive() {\n \tpublic void setKeyboardInteractive(boolean keyboardInteractive) {\n \t\tthis.keyboardInteractive = keyboardInteractive;\n \t}\n+\n+\t@Override\n+\t@IbisDoc({\"name of the listener\", \"\"})\n+\tpublic void setName(String name) {\n+\t\tthis.name = name;\n+\t}\n+\t@Override\n+\tpublic String getName() {\n+\t\treturn name;\n+\t}\n+\n+\t@Override\n+\tpublic ClassLoader getConfigurationClassLoader() {\n+\t\treturn classLoader;\n+\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12c8b4e701bb4e5c076d513091042cdd8bbcfd81"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkyNjM3OQ==", "bodyText": "Please let this class extend SenderBase, and inherit name and classloader from that class", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r514926379", "createdAt": "2020-10-30T08:03:05Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/http/IbisWebServiceSender.java", "diffHunk": "@@ -40,6 +40,7 @@\n  * @since 4.2\n  */\n public class IbisWebServiceSender implements ISender, HasPhysicalDestination {\n+\tprivate ClassLoader classLoader = Thread.currentThread().getContextClassLoader();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12c8b4e701bb4e5c076d513091042cdd8bbcfd81"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkyNjUyOA==", "bodyText": "Please use @Getter annotation", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r514926528", "createdAt": "2020-10-30T08:03:30Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/http/PushingListenerAdapter.java", "diffHunk": "@@ -141,4 +142,9 @@ public void setRunning(boolean running) {\n \t\tthis.running = running;\n \t}\n \n+\t@Override\n+\tpublic ClassLoader getConfigurationClassLoader() {\n+\t\treturn classLoader;\n+\t}\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12c8b4e701bb4e5c076d513091042cdd8bbcfd81"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkyNzE2Mg==", "bodyText": "Please use @Getter annotation", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r514927162", "createdAt": "2020-10-30T08:05:02Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/receivers/FileRecordListener.java", "diffHunk": "@@ -284,6 +284,11 @@ public Map openThread() throws ListenerException {\n \t\treturn array.iterator();\n \t}\n \n+\t@Override\n+\tpublic ClassLoader getConfigurationClassLoader() {\n+\t\treturn classLoader;\n+\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12c8b4e701bb4e5c076d513091042cdd8bbcfd81"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkyNzMzNg==", "bodyText": "unnecessary change", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r514927336", "createdAt": "2020-10-30T08:05:23Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/receivers/FileRecordListener.java", "diffHunk": "@@ -366,4 +371,5 @@ public void setStoreFileNameInSessionKey(String storeFileNameInSessionKey) {\n \tpublic String getStoreFileNameInSessionKey() {\n \t\treturn storeFileNameInSessionKey;\n \t}\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12c8b4e701bb4e5c076d513091042cdd8bbcfd81"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkyNzQyNA==", "bodyText": "Please use @Getter annotation", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r514927424", "createdAt": "2020-10-30T08:05:33Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/receivers/JavaListener.java", "diffHunk": "@@ -216,6 +217,11 @@ public Message extractMessage(String rawMessage, Map<String,Object> context) thr\n \t\treturn new Message(rawMessage);\n \t}\n \n+\t@Override\n+\tpublic ClassLoader getConfigurationClassLoader() {\n+\t\treturn classLoader;\n+\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12c8b4e701bb4e5c076d513091042cdd8bbcfd81"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkyNzU2NQ==", "bodyText": "Please use @Getter annotation", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r514927565", "createdAt": "2020-10-30T08:05:51Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/receivers/ReceiverBase.java", "diffHunk": "@@ -2305,4 +2306,8 @@ public String getHideMethod() {\n \t\treturn hideMethod;\n \t}\n \n+\t@Override\n+\tpublic ClassLoader getConfigurationClassLoader() {\n+\t\treturn classLoader;\n+\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12c8b4e701bb4e5c076d513091042cdd8bbcfd81"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDkyODA1OA==", "bodyText": "This shouldn't be necessary. Solve this in the super class", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r514928058", "createdAt": "2020-10-30T08:06:57Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/senders/FileSender.java", "diffHunk": "@@ -92,4 +92,9 @@ public ParameterList getParameterList() {\n \t\treturn paramList;\n \t}\n \n+\t@Override\n+\tpublic ClassLoader getConfigurationClassLoader() {\n+\t\treturn super.getClassLoader();\n+\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12c8b4e701bb4e5c076d513091042cdd8bbcfd81"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6017576876c165d169d85060f0672376d119d93", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/c6017576876c165d169d85060f0672376d119d93", "committedDate": "2020-10-30T09:31:34Z", "message": "tidy up"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNTA0Mzk5", "url": "https://github.com/ibissource/iaf/pull/1196#pullrequestreview-520504399", "createdAt": "2020-10-30T09:37:03Z", "commit": {"oid": "c6017576876c165d169d85060f0672376d119d93"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQwOTozNzowNFrOHrHdHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQwOTo0MDoxN1rOHrHkRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDk3Mjk1Nw==", "bodyText": "Please remove this file from the PR, nothing has changed", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r514972957", "createdAt": "2020-10-30T09:37:04Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/extensions/mqtt/MqttSender.java", "diffHunk": "@@ -1,5 +1,5 @@\n /*\n-   Copyright 2017 Integration Partners\n+   Copyright 2017 - 2020 WeAreFrank!", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6017576876c165d169d85060f0672376d119d93"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDk3Mzg5OQ==", "bodyText": "This should not be necessaray", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r514973899", "createdAt": "2020-10-30T09:38:44Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/ldap/LdapSender.java", "diffHunk": "@@ -1347,4 +1347,9 @@ public void setReplyNotFound(boolean b) {\n \tpublic boolean isReplyNotFound() {\n \t\treturn replyNotFound;\n \t}\n+\n+\t@Override\n+\tpublic ClassLoader getConfigurationClassLoader() {\n+\t\treturn super.getClassLoader();\n+\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6017576876c165d169d85060f0672376d119d93"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDk3NDc4OA==", "bodyText": "Please remove this file from the PR, nothing has changed", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r514974788", "createdAt": "2020-10-30T09:40:17Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/senders/FileSender.java", "diffHunk": "@@ -1,5 +1,5 @@\n /*\n-   Copyright 2013 Nationale-Nederlanden\n+   Copyright 2013 Nationale-Nederlanden, 2020 WeAreFrank!", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6017576876c165d169d85060f0672376d119d93"}, "originalPosition": 3}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0f28104b12a9a97df2a2ee3c2104810d1ef4e89d", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/0f28104b12a9a97df2a2ee3c2104810d1ef4e89d", "committedDate": "2020-10-30T10:01:22Z", "message": "feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d13d46d973da783d237be5333f9ae363b3fa5b7c", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/d13d46d973da783d237be5333f9ae363b3fa5b7c", "committedDate": "2020-10-30T10:09:19Z", "message": "more on feedabck"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f39c4acd389ef7a0693e44aecf433376a1454c3c", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/f39c4acd389ef7a0693e44aecf433376a1454c3c", "committedDate": "2020-10-30T10:13:11Z", "message": "Merge branch 'master' into extend_config_warnings"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNTMyODE5", "url": "https://github.com/ibissource/iaf/pull/1196#pullrequestreview-520532819", "createdAt": "2020-10-30T10:16:16Z", "commit": {"oid": "f39c4acd389ef7a0693e44aecf433376a1454c3c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMDoxNjoxNlrOHrIxTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMDoxNzoxOFrOHrIzSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDk5NDUxMA==", "bodyText": "Please remove this file from the PR, it has not changed", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r514994510", "createdAt": "2020-10-30T10:16:16Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/ldap/LdapSender.java", "diffHunk": "@@ -1,5 +1,5 @@\n /*\n-   Copyright 2013, 2020 Nationale-Nederlanden\n+   Copyright 2013, 2020 Nationale-Nederlanden, 2020 WeAreFrank!", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f39c4acd389ef7a0693e44aecf433376a1454c3c"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDk5NTAxOQ==", "bodyText": "Please remove this file from the PR, it has not changed", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r514995019", "createdAt": "2020-10-30T10:17:18Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/senders/FileSender.java", "diffHunk": "@@ -91,5 +91,4 @@ public void addParameter(Parameter p) {\n \tpublic ParameterList getParameterList() {\n \t\treturn paramList;\n \t}\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f39c4acd389ef7a0693e44aecf433376a1454c3c"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ca6ba7693e804297ab9f78c2b04786fb6e98d86", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/7ca6ba7693e804297ab9f78c2b04786fb6e98d86", "committedDate": "2020-10-30T10:35:26Z", "message": "remove 2 files from the PR"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNTUzNzI4", "url": "https://github.com/ibissource/iaf/pull/1196#pullrequestreview-520553728", "createdAt": "2020-10-30T10:46:56Z", "commit": {"oid": "7ca6ba7693e804297ab9f78c2b04786fb6e98d86"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNjIwODQ4", "url": "https://github.com/ibissource/iaf/pull/1196#pullrequestreview-520620848", "createdAt": "2020-10-30T12:28:27Z", "commit": {"oid": "7ca6ba7693e804297ab9f78c2b04786fb6e98d86"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMjoyODoyN1rOHrM8Pg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxMjoyODoyN1rOHrM8Pg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTA2Mjg0Ng==", "bodyText": "We suggest to add an option 'noGlobal', that, when set true, it inhibits suppression at the global level,", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r515062846", "createdAt": "2020-10-30T12:28:27Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/configuration/SuppressKeys.java", "diffHunk": "@@ -0,0 +1,39 @@\n+/*\n+Copyright 2020 WeAreFrank!\n+\n+Licensed under the Apache License, Version 2.0 (the \"License\");\n+you may not use this file except in compliance with the License.\n+You may obtain a copy of the License at\n+\n+    http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing, software\n+distributed under the License is distributed on an \"AS IS\" BASIS,\n+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+See the License for the specific language governing permissions and\n+limitations under the License.\n+*/\n+package nl.nn.adapterframework.configuration;\n+\n+import lombok.Getter;\n+\n+/**\n+ * Enumeration class for suppressing configuration warnings.\n+ * \n+ * @author alisihab\n+ *\n+ */\n+public enum SuppressKeys {\n+\n+\tSQL_INJECTION_SUPPRESS_KEY(\"warnings.suppress.sqlInjections\"),\n+\tDEPRECATION_SUPPRESS_KEY(\"warnings.suppress.deprecated\"),\n+\tDEFAULT_VALUE_SUPPRESS_KEY(\"warnings.suppress.defaultvalue\"),\n+\tTRANSACTION_SUPPRESS_KEY(\"warnings.suppress.transaction\"),\n+\tINTEGRITY_CHECK_SUPPRESS_KEY(\"warnings.suppress.integrityCheck\");\n+\n+\tprivate @Getter String key;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ca6ba7693e804297ab9f78c2b04786fb6e98d86"}, "originalPosition": 35}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61e2320c8cb7f2cea65ce72d627642e9d1b500e9", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/61e2320c8cb7f2cea65ce72d627642e9d1b500e9", "committedDate": "2020-10-30T13:23:34Z", "message": "Merge branch 'master' of https://github.com/ibissource/iaf into extend_config_warnings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96fbd50e06bc97a17e932b3ab4928f11843a6d54", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/96fbd50e06bc97a17e932b3ab4928f11843a6d54", "committedDate": "2020-10-30T15:09:07Z", "message": "finalize"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4a06af80d67b6ff8d74b253698b678902edef09", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/f4a06af80d67b6ff8d74b253698b678902edef09", "committedDate": "2020-11-02T08:59:08Z", "message": "add adapter information to config warnings where applicable"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIxNDgxNDEz", "url": "https://github.com/ibissource/iaf/pull/1196#pullrequestreview-521481413", "createdAt": "2020-11-02T09:57:54Z", "commit": {"oid": "f4a06af80d67b6ff8d74b253698b678902edef09"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMzMzMzA0", "url": "https://github.com/ibissource/iaf/pull/1196#pullrequestreview-522333304", "createdAt": "2020-11-03T09:52:51Z", "commit": {"oid": "f4a06af80d67b6ff8d74b253698b678902edef09"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwOTo1Mjo1MVrOHsnM4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwOTo1NToxM1rOHsnTRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjU0MTY2NA==", "bodyText": "A configuration should not add a Global Warning, only configuration warnings. You're also displaying the objectname twice, see getObjectName(currObj, name).", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r516541664", "createdAt": "2020-11-03T09:52:51Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/configuration/AbstractSpringPoweredDigesterFactory.java", "diffHunk": "@@ -268,18 +267,28 @@ private String getObjectName(Object o, String name) {\n \t}\n \n \tprivate void addSetToDefaultConfigWarning(Object currObj, String name, String key, String value) {\n-\t\tif(!suppressDefaultValueWarnings) {\n+\t\tClassLoader classLoader = Thread.currentThread().getContextClassLoader();\n+\t\tif(!ConfigurationWarnings.isSuppressed(SuppressKeys.DEFAULT_VALUE_SUPPRESS_KEY, null, classLoader)) {\n \t\t\tString mergedKey = getDigester().getCurrentElementName() + \"/\" + (name==null?\"\":name) + \"/\" + key;\n \t\t\tif (!configWarnings.containsDefaultValueException(mergedKey)) {\n-\t\t\t\taddConfigWarning(currObj, name, \"attribute [\"+key+\"] already has a default value [\"+value+\"]\");\n+\t\t\t\taddConfigWarning(currObj, name, \"attribute [\"+key+\"] already has a default value [\"+value+\"]\", SuppressKeys.DEFAULT_VALUE_SUPPRESS_KEY, classLoader);\n \t\t\t}\n \t\t}\n \t}\n \n \tprivate void addConfigWarning(Object currObj, String name, String message) {\n+\t\taddConfigWarning(currObj, name, message, null, null);\n+\t}\n+\n+\tprivate void addConfigWarning(Object currObj, String name, String message, SuppressKeys key, ClassLoader cl) {\n \t\tLocator loc = getDigester().getDocumentLocator();\n \t\tString msg = \"line \"+loc.getLineNumber()+\", col \"+loc.getColumnNumber()+\": \"+getObjectName(currObj, name)+\": \"+message;\n-\t\tConfigurationWarnings.add(null, log, msg);\n+\t\tif(currObj instanceof INamedObject) {\n+\t\t\tConfigurationWarnings.add((INamedObject) currObj, log, msg);\n+\t\t} else { \n+\t\t\tConfigurationWarnings.addGlobalWarning(log, msg, key, cl);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4a06af80d67b6ff8d74b253698b678902edef09"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjU0MjU0Nw==", "bodyText": "This should be in the log? not in the warning", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r516542547", "createdAt": "2020-11-03T09:54:10Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/configuration/ConfigurationWarnings.java", "diffHunk": "@@ -61,8 +71,16 @@ public static void add(INamedObject object, Logger log, String message) {\n \t/**\n \t * Adds configuration warning in case warning is not suppressed\n \t */\n-\tpublic static void add(IConfigurable object, Logger log, String message, String suppressionKey, IAdapter adapter) {\n+\tpublic static void add(IConfigurable object, Logger log, String message, SuppressKeys suppressionKey, IAdapter adapter) {\n \t\tif(!isSuppressed(suppressionKey, adapter, object.getConfigurationClassLoader())) {\n+\t\t\tif(adapter != null) {\n+\t\t\t\tmessage = \"in adapter [\" + adapter.getName() + \"] \" + message + \". This warning can be suppressed by setting the property '\"+suppressionKey.getKey()+\".\"+adapter.getName()+\"=true'\";\n+\t\t\t\tif(suppressionKey.isAllowGlobalSuppression()) {\n+\t\t\t\t\tmessage += \", or globally by setting the property '\"+suppressionKey.getKey()+\"=true'\";\n+\t\t\t\t}\n+\t\t\t} else if(suppressionKey.isAllowGlobalSuppression()) {\n+\t\t\t\tmessage += \"This warning can be suppressed globally by setting the property '\"+suppressionKey.getKey()+\"=true'\";\n+\t\t\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4a06af80d67b6ff8d74b253698b678902edef09"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjU0MzIzNA==", "bodyText": "should be false", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r516543234", "createdAt": "2020-11-03T09:55:07Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/configuration/SuppressKeys.java", "diffHunk": "@@ -0,0 +1,45 @@\n+/*\n+Copyright 2020 WeAreFrank!\n+\n+Licensed under the Apache License, Version 2.0 (the \"License\");\n+you may not use this file except in compliance with the License.\n+You may obtain a copy of the License at\n+\n+    http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing, software\n+distributed under the License is distributed on an \"AS IS\" BASIS,\n+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+See the License for the specific language governing permissions and\n+limitations under the License.\n+*/\n+package nl.nn.adapterframework.configuration;\n+\n+import lombok.Getter;\n+\n+/**\n+ * Enumeration class for suppressing configuration warnings.\n+ * \n+ * @author alisihab\n+ *\n+ */\n+public enum SuppressKeys {\n+\n+\tSQL_INJECTION_SUPPRESS_KEY(\"warnings.suppress.sqlInjections\", true),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4a06af80d67b6ff8d74b253698b678902edef09"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjU0MzMwMw==", "bodyText": "should be false", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r516543303", "createdAt": "2020-11-03T09:55:13Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/configuration/SuppressKeys.java", "diffHunk": "@@ -0,0 +1,45 @@\n+/*\n+Copyright 2020 WeAreFrank!\n+\n+Licensed under the Apache License, Version 2.0 (the \"License\");\n+you may not use this file except in compliance with the License.\n+You may obtain a copy of the License at\n+\n+    http://www.apache.org/licenses/LICENSE-2.0\n+\n+Unless required by applicable law or agreed to in writing, software\n+distributed under the License is distributed on an \"AS IS\" BASIS,\n+WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+See the License for the specific language governing permissions and\n+limitations under the License.\n+*/\n+package nl.nn.adapterframework.configuration;\n+\n+import lombok.Getter;\n+\n+/**\n+ * Enumeration class for suppressing configuration warnings.\n+ * \n+ * @author alisihab\n+ *\n+ */\n+public enum SuppressKeys {\n+\n+\tSQL_INJECTION_SUPPRESS_KEY(\"warnings.suppress.sqlInjections\", true),\n+\tDEPRECATION_SUPPRESS_KEY(\"warnings.suppress.deprecated\", true),\n+\tDEFAULT_VALUE_SUPPRESS_KEY(\"warnings.suppress.defaultvalue\", true),\n+\tTRANSACTION_SUPPRESS_KEY(\"warnings.suppress.transaction\", true),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4a06af80d67b6ff8d74b253698b678902edef09"}, "originalPosition": 31}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "834a01f6d27b63ba5a6dae6032585949eb4d10b9", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/834a01f6d27b63ba5a6dae6032585949eb4d10b9", "committedDate": "2020-11-04T08:03:23Z", "message": "work on the feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d120a41241bad390b7b6988608afa997190dbf2d", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/d120a41241bad390b7b6988608afa997190dbf2d", "committedDate": "2020-11-04T09:37:40Z", "message": "log hint in case info enabled"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzNTIwMzI2", "url": "https://github.com/ibissource/iaf/pull/1196#pullrequestreview-523520326", "createdAt": "2020-11-04T16:19:15Z", "commit": {"oid": "d120a41241bad390b7b6988608afa997190dbf2d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0OTMyNTc0", "url": "https://github.com/ibissource/iaf/pull/1196#pullrequestreview-524932574", "createdAt": "2020-11-06T08:12:22Z", "commit": {"oid": "d120a41241bad390b7b6988608afa997190dbf2d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwODoxMjoyMlrOHuj7zQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQwODoxNjowNVrOHukCRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODU4NTI5Mw==", "bodyText": "Now msg is logged twice: first without the hint in addGlobalWarning(), then here with the hint.\nThis should not happen. The message should be logged only once, (with or without hint, depending on log.isInfoEnabled())", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r518585293", "createdAt": "2020-11-06T08:12:22Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/configuration/ConfigurationWarnings.java", "diffHunk": "@@ -33,9 +33,19 @@\n public final class ConfigurationWarnings extends BaseConfigurationWarnings {\n \tprivate static ConfigurationWarnings self = null;\n \tprivate Configuration activeConfiguration = null;\n-\tpublic static final String SQL_INJECTION_SUPPRESS_KEY = \"warnings.suppress.sqlInjections\";\n-\tpublic static final String DEPRECATION_SUPPRESS_KEY=\"warnings.suppress.deprecated\";\n-\tpublic static final String DEFAULT_VALUE_SUPPRESS_KEY = \"warnings.suppress.defaultvalue\";\n+\n+\tpublic static void addGlobalWarning(Logger log, String msg, SuppressKeys suppressionKey, ClassLoader classLoader) {\n+\t\tif(suppressionKey == null) {\n+\t\t\taddGlobalWarning(log, msg, null);\n+\t\t} else if(!isSuppressed(suppressionKey, null, classLoader)) {\n+\t\t\taddGlobalWarning(log, msg, null);\n+\t\t\t// provide suppression hint as info\n+\t\t\tif(log.isInfoEnabled() && suppressionKey.isAllowGlobalSuppression()) {\n+\t\t\t\tString msgWithHint = msg + \". This warning can be suppressed by setting the property '\"+suppressionKey.getKey()+\"=true'\";\n+\t\t\t\tlog.info(msgWithHint);\n+\t\t\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d120a41241bad390b7b6988608afa997190dbf2d"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODU4NTc5MA==", "bodyText": "Now msg is logged twice: first without the hint in add(), then here with the hint.\nThis should not happen. The message should be logged only once, (with or without hint, depending on log.isInfoEnabled())", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r518585790", "createdAt": "2020-11-06T08:13:30Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/configuration/ConfigurationWarnings.java", "diffHunk": "@@ -61,9 +71,22 @@ public static void add(INamedObject object, Logger log, String message) {\n \t/**\n \t * Adds configuration warning in case warning is not suppressed\n \t */\n-\tpublic static void add(IConfigurable object, Logger log, String message, String suppressionKey, IAdapter adapter) {\n+\tpublic static void add(IConfigurable object, Logger log, String message, SuppressKeys suppressionKey, IAdapter adapter) {\n \t\tif(!isSuppressed(suppressionKey, adapter, object.getConfigurationClassLoader())) {\n \t\t\tadd(object, log, message, null);\n+\t\t\t// provide suppression hint as info \n+\t\t\tif(log.isInfoEnabled()) {\n+\t\t\t\tif(adapter != null) {\n+\t\t\t\t\tString messageWithHint = \"in adapter [\" + adapter.getName() + \"] \" + message + \". This warning can be suppressed by setting the property '\"+suppressionKey.getKey()+\".\"+adapter.getName()+\"=true'\";\n+\t\t\t\t\tif(suppressionKey.isAllowGlobalSuppression()) {\n+\t\t\t\t\t\tmessageWithHint += \", or globally by setting the property '\"+suppressionKey.getKey()+\"=true'\";\n+\t\t\t\t\t}\n+\t\t\t\t\tlog.info(messageWithHint);\n+\t\t\t\t} else if(suppressionKey.isAllowGlobalSuppression()) {\n+\t\t\t\t\tString messageWithHint = message + \"This warning can be suppressed globally by setting the property '\"+suppressionKey.getKey()+\"=true'\";\n+\t\t\t\t\tlog.info(messageWithHint);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d120a41241bad390b7b6988608afa997190dbf2d"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODU4Njk1MQ==", "bodyText": "When it extends SenderBase, it is not necessary to explicitly implement ISender, that comes with SenderBase", "url": "https://github.com/ibissource/iaf/pull/1196#discussion_r518586951", "createdAt": "2020-11-06T08:16:05Z", "author": {"login": "gvanbrakel"}, "path": "core/src/main/java/nl/nn/adapterframework/http/IbisWebServiceSender.java", "diffHunk": "@@ -39,9 +40,8 @@\n  * @author Gerrit van Brakel\n  * @since 4.2\n  */\n-public class IbisWebServiceSender implements ISender, HasPhysicalDestination {\n+public class IbisWebServiceSender extends SenderBase implements ISender, HasPhysicalDestination {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d120a41241bad390b7b6988608afa997190dbf2d"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc800730edcbb425773074d463d896ce7a1f12eb", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/cc800730edcbb425773074d463d896ce7a1f12eb", "committedDate": "2020-11-06T11:08:39Z", "message": "provide hint with the message in the same log line"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a45ef9e400dc4e03cf2c76eee962cab13a438a49", "author": {"user": null}, "url": "https://github.com/ibissource/iaf/commit/a45ef9e400dc4e03cf2c76eee962cab13a438a49", "committedDate": "2020-11-06T11:10:59Z", "message": "remove redundant inheritance in the subclass"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI1MTA2NTcy", "url": "https://github.com/ibissource/iaf/pull/1196#pullrequestreview-525106572", "createdAt": "2020-11-06T12:26:58Z", "commit": {"oid": "a45ef9e400dc4e03cf2c76eee962cab13a438a49"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI1MTgyOTQ0", "url": "https://github.com/ibissource/iaf/pull/1196#pullrequestreview-525182944", "createdAt": "2020-11-06T14:12:59Z", "commit": {"oid": "a45ef9e400dc4e03cf2c76eee962cab13a438a49"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9ef6d9f625fffd9fc41cbe0343c930a2044b2b27", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/9ef6d9f625fffd9fc41cbe0343c930a2044b2b27", "committedDate": "2020-11-06T15:52:41Z", "message": "Merge branch 'master' into extend_config_warnings"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1006, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}