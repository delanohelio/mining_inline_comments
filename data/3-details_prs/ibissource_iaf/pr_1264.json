{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIwNjg5NDQ2", "number": 1264, "title": "Fix #1197 improve batch performance", "bodyText": "", "createdAt": "2020-11-13T16:40:59Z", "url": "https://github.com/ibissource/iaf/pull/1264", "merged": true, "mergeCommit": {"oid": "12ed74a7bb57ad0d4956caec1a73cb30efa9a021"}, "closed": true, "closedAt": "2020-11-19T14:09:41Z", "author": {"login": "gvanbrakel"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdcGWCcgH2gAyNTIwNjg5NDQ2Ojg1MTNhYWVhMGI3MTE3ZDk3NzhiZjA3NDgwNmE2MjhkMzExYmZhM2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdeDWuZAFqTUzNDQ4MDk4Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8513aaea0b7117d9778bf074806a628d311bfa3a", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/8513aaea0b7117d9778bf074806a628d311bfa3a", "committedDate": "2020-11-13T12:30:37Z", "message": "Improve logging, move batch tests to mainConfig"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9527ab1951a5625f5e9154a1923bb99f0ce42a66", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/9527ab1951a5625f5e9154a1923bb99f0ce42a66", "committedDate": "2020-11-13T13:55:33Z", "message": "Fix batch tests in MainConfig"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f42c933b4a1cdbfb7c95f5bbf4d68af6fae39054", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/f42c933b4a1cdbfb7c95f5bbf4d68af6fae39054", "committedDate": "2020-11-13T13:58:13Z", "message": "formatting issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5e799af41f79f6abe7109cde31188236b0fb5aa", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/f5e799af41f79f6abe7109cde31188236b0fb5aa", "committedDate": "2020-11-13T16:08:52Z", "message": "Improve logging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99ce0432dba65ecf6929280cec4c455b35080284", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/99ce0432dba65ecf6929280cec4c455b35080284", "committedDate": "2020-11-13T16:39:37Z", "message": "Avoid threading problem in ResultWriter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46d033b9b7dc1fc022e7dbf86e02a7c6379f8697", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/46d033b9b7dc1fc022e7dbf86e02a7c6379f8697", "committedDate": "2020-11-13T17:09:29Z", "message": "revert ResultWriter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyNTUyNTMw", "url": "https://github.com/ibissource/iaf/pull/1264#pullrequestreview-532552530", "createdAt": "2020-11-17T16:27:45Z", "commit": {"oid": "46d033b9b7dc1fc022e7dbf86e02a7c6379f8697"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNjoyNzo0NVrOH09whw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNjoyNzo0NVrOH09whw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTI5OTg0Nw==", "bodyText": "Wat is hier met de indentatie aan de hand?", "url": "https://github.com/ibissource/iaf/pull/1264#discussion_r525299847", "createdAt": "2020-11-17T16:27:45Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/batch/ResultWriter.java", "diffHunk": "@@ -60,9 +59,9 @@ public void closeDocument(IPipeLineSession session, String streamId) {\n \t\tif (w != null) {\n \t\t\ttry {\n \t\t\t\tw.close();\n-\t\t\t} catch (IOException e) {\n-\t\t\t\tlog.error(\"Exception closing [\"+streamId+\"]\",e);\n-\t\t\t}\n+\t\t} catch (IOException e) {\n+\t\t\tlog.error(\"Exception closing [\"+streamId+\"]\",e);\n+\t\t}\n \t\t}\n \t\tsuper.closeDocument(session,streamId);\n \t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46d033b9b7dc1fc022e7dbf86e02a7c6379f8697"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2aa5bff9c8561afba2f8d91cf486afd5a64fb53", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/e2aa5bff9c8561afba2f8d91cf486afd5a64fb53", "committedDate": "2020-11-17T16:31:30Z", "message": "Use Strings instead of Objects"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "47dff427ec94692929a22240916b86391532ee9d", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/47dff427ec94692929a22240916b86391532ee9d", "committedDate": "2020-11-17T16:37:44Z", "message": "one more file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa28af20b13c17fd00b7fcd9c2a6a0fe2a072e73", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/fa28af20b13c17fd00b7fcd9c2a6a0fe2a072e73", "committedDate": "2020-11-17T21:26:28Z", "message": "fix issues"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMzMzM4MjY4", "url": "https://github.com/ibissource/iaf/pull/1264#pullrequestreview-533338268", "createdAt": "2020-11-18T11:10:30Z", "commit": {"oid": "fa28af20b13c17fd00b7fcd9c2a6a0fe2a072e73"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxMToxMDozMFrOH1osqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOFQxMToxMDozMFrOH1osqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjAwMzM2OA==", "bodyText": "Cast mag weg?", "url": "https://github.com/ibissource/iaf/pull/1264#discussion_r526003368", "createdAt": "2020-11-18T11:10:30Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/batch/ResultWriter.java", "diffHunk": "@@ -77,13 +73,8 @@ public Object finalizeResult(IPipeLineSession session, String streamId, boolean\n \n \t\n \t@Override\n-\tpublic void handleResult(IPipeLineSession session, String streamId, String recordKey, Object result) throws Exception {\n-\t\tif (result instanceof String) {\n-\t\t\twrite(session, streamId, (String)result);\n-\t\t}\n-\t\telse if (result instanceof String[]) {\n-\t\t\twrite(session, streamId, (String[])result);\n-\t\t}\n+\tpublic void handleResult(IPipeLineSession session, String streamId, String recordKey, String result) throws Exception {\n+\t\twrite(session, streamId, (String)result);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fa28af20b13c17fd00b7fcd9c2a6a0fe2a072e73"}, "originalPosition": 52}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8d2e6df9a80f287602b094672755d8d826fe8a8", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/b8d2e6df9a80f287602b094672755d8d826fe8a8", "committedDate": "2020-11-18T16:37:17Z", "message": "Remove casts to String"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "811e10702f0ea6f993f9cf1837c9f2d40a7c08e8", "author": {"user": {"login": "gvanbrakel", "name": "Gerrit van Brakel"}}, "url": "https://github.com/ibissource/iaf/commit/811e10702f0ea6f993f9cf1837c9f2d40a7c08e8", "committedDate": "2020-11-18T16:39:45Z", "message": "Merge branch 'master' into Fix_#1197_improve_batch_performance"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0NDgwOTgy", "url": "https://github.com/ibissource/iaf/pull/1264#pullrequestreview-534480982", "createdAt": "2020-11-19T14:09:30Z", "commit": {"oid": "811e10702f0ea6f993f9cf1837c9f2d40a7c08e8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1051, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}