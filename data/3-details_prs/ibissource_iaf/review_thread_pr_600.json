{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxOTA4NjQx", "number": 600, "reviewThreads": {"totalCount": 25, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwODo1MDozNFrODx-eJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMzo1Nzo1NVrOED5NiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNzMwMzQyOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/nl/nn/adapterframework/http/AuthSSLProtocolSocketFactoryForJsse10x.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwODo1MDozNFrOGFwBNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQwNzoxMTo0N1rOGGXh3A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4MjgwNw==", "bodyText": "Try to not modify any files which don't have any functional changes.", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r408682807", "createdAt": "2020-04-15T08:50:34Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/http/AuthSSLProtocolSocketFactoryForJsse10x.java", "diffHunk": "@@ -101,7 +101,7 @@ public AuthSSLProtocolSocketFactoryForJsse10x(\n         }\n         log.debug(\"Initializing key manager\");\n         if (StringUtils.isEmpty(algorithm)) {\n-        \talgorithm=KeyManagerFactory.getDefaultAlgorithm();\n+        \talgorithm= KeyManagerFactory.getDefaultAlgorithm();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e92d47a98de655edb213867df56752962bda5403"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTMzMDE0MA==", "bodyText": "This must be unintentional, I se that there are couple of files changed only with a space, I'm going to remove the changes.", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r409330140", "createdAt": "2020-04-16T07:11:47Z", "author": {"login": "sinasen2000"}, "path": "core/src/main/java/nl/nn/adapterframework/http/AuthSSLProtocolSocketFactoryForJsse10x.java", "diffHunk": "@@ -101,7 +101,7 @@ public AuthSSLProtocolSocketFactoryForJsse10x(\n         }\n         log.debug(\"Initializing key manager\");\n         if (StringUtils.isEmpty(algorithm)) {\n-        \talgorithm=KeyManagerFactory.getDefaultAlgorithm();\n+        \talgorithm= KeyManagerFactory.getDefaultAlgorithm();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4MjgwNw=="}, "originalCommit": {"oid": "e92d47a98de655edb213867df56752962bda5403"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNzMwNDE0OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/nl/nn/adapterframework/pipes/FilePipe.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwODo1MDo0NlrOGFwBqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQwNzoxMjoxM1rOGGXitA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4MjkyMw==", "bodyText": "Try to not modify any files which don't have any functional changes.", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r408682923", "createdAt": "2020-04-15T08:50:46Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/pipes/FilePipe.java", "diffHunk": "@@ -54,7 +54,7 @@ public void configure() throws ConfigurationException {\n \t */\n \tpublic PipeRunResult doPipe(Object input, IPipeLineSession session) throws PipeRunException {\n \t\ttry {\n-\t\t\treturn new PipeRunResult(getForward(), fileHandler.handle(input, session, getParameterList()));\n+ \t\t\treturn new PipeRunResult(getForward(), fileHandler.handle(input, session, getParameterList()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e92d47a98de655edb213867df56752962bda5403"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTMzMDM1Ng==", "bodyText": "Try to not modify any files which don't have any functional changes.\n\nThis must be unintentional, I see that there are couple of files changed only with a space, I'm going to remove the changes.", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r409330356", "createdAt": "2020-04-16T07:12:13Z", "author": {"login": "sinasen2000"}, "path": "core/src/main/java/nl/nn/adapterframework/pipes/FilePipe.java", "diffHunk": "@@ -54,7 +54,7 @@ public void configure() throws ConfigurationException {\n \t */\n \tpublic PipeRunResult doPipe(Object input, IPipeLineSession session) throws PipeRunException {\n \t\ttry {\n-\t\t\treturn new PipeRunResult(getForward(), fileHandler.handle(input, session, getParameterList()));\n+ \t\t\treturn new PipeRunResult(getForward(), fileHandler.handle(input, session, getParameterList()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4MjkyMw=="}, "originalCommit": {"oid": "e92d47a98de655edb213867df56752962bda5403"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNzMwNDYyOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/nl/nn/adapterframework/pipes/MessageSendingPipe.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwODo1MDo1NVrOGFwCBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQwNzoxMjoyM1rOGGXjAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4MzAxNA==", "bodyText": "Try to not modify any files which don't have any functional changes.", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r408683014", "createdAt": "2020-04-15T08:50:55Z", "author": {"login": "nielsm5"}, "path": "core/src/main/java/nl/nn/adapterframework/pipes/MessageSendingPipe.java", "diffHunk": "@@ -258,6 +258,7 @@ public void addParameter(Parameter p){\n \t\t}\n \t}\n \n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e92d47a98de655edb213867df56752962bda5403"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTMzMDQzNQ==", "bodyText": "Same holds for this", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r409330435", "createdAt": "2020-04-16T07:12:23Z", "author": {"login": "sinasen2000"}, "path": "core/src/main/java/nl/nn/adapterframework/pipes/MessageSendingPipe.java", "diffHunk": "@@ -258,6 +258,7 @@ public void addParameter(Parameter p){\n \t\t}\n \t}\n \n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4MzAxNA=="}, "originalCommit": {"oid": "e92d47a98de655edb213867df56752962bda5403"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNzMwOTg0OnYy", "diffSide": "LEFT", "path": "core/src/test/java/nl/nn/adapterframework/pipes/CompareStringPipeTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwODo1MjoxNVrOGFwFLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQwNzoxOToxMVrOGGXwpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4MzgyMQ==", "bodyText": "Why did you removed these 2 tests?", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r408683821", "createdAt": "2020-04-15T08:52:15Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/CompareStringPipeTest.java", "diffHunk": "@@ -14,24 +15,12 @@ public CompareStringPipe createPipe() {\n \n     @Test(expected = ConfigurationException.class)\n     public void emptySessionKeys() throws ConfigurationException {\n+        PipeForward forw = new PipeForward(\"lessthan\", \"/Users/apollo11/Desktop/iaf2/core/src/test/resources/Pipes\");\n+        pipe.registerForward(forw);\n         pipe.setSessionKey1(\"\");\n         pipe.setSessionKey2(\"\");\n         pipe.configure();\n     }\n \n-    @Test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e92d47a98de655edb213867df56752962bda5403"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTMzMzkyNg==", "bodyText": "Why did you removed these 2 tests?\n\nThank you for pointing this out, I actually don't have a clue and cannot recall removing them, as this test does not belong to me. I'm going to readd these and I will try to be more careful to avoid errors like this and double check my pull requests", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r409333926", "createdAt": "2020-04-16T07:19:11Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/CompareStringPipeTest.java", "diffHunk": "@@ -14,24 +15,12 @@ public CompareStringPipe createPipe() {\n \n     @Test(expected = ConfigurationException.class)\n     public void emptySessionKeys() throws ConfigurationException {\n+        PipeForward forw = new PipeForward(\"lessthan\", \"/Users/apollo11/Desktop/iaf2/core/src/test/resources/Pipes\");\n+        pipe.registerForward(forw);\n         pipe.setSessionKey1(\"\");\n         pipe.setSessionKey2(\"\");\n         pipe.configure();\n     }\n \n-    @Test", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4MzgyMQ=="}, "originalCommit": {"oid": "e92d47a98de655edb213867df56752962bda5403"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNzMxOTk2OnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/pipes/ExceptionPipeTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwODo1NDo1MVrOGFwLZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQwNzoxMzoyNVrOGGXlAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4NTQxMg==", "bodyText": "We don't really use the since tag. When we do use these, we use the version number and not the date.\nFor all these tests you can remove them, as they don't add any additional value to the file(s).", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r408685412", "createdAt": "2020-04-15T08:54:51Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/ExceptionPipeTest.java", "diffHunk": "@@ -0,0 +1,54 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.PipeRunException;\n+import org.junit.Test;\n+import org.junit.Before; \n+import org.junit.After;\n+\n+import java.nio.channels.Pipe;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+/**\n+ * ExceptionPipe Tester.\n+ *\n+ * @author <Sina Sen>\n+ * @version 1.0\n+ * @since <pre>Mar 5, 2020</pre>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e92d47a98de655edb213867df56752962bda5403"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTMzMDk0Ng==", "bodyText": "We don't really use the since tag. When we do use these, we use the version number and not the date.\nFor all these tests you can remove them, as they don't add any additional value to the file(s).\n\nokay! I used them to index what  I did on which day, I'm going to remove them.", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r409330946", "createdAt": "2020-04-16T07:13:25Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/ExceptionPipeTest.java", "diffHunk": "@@ -0,0 +1,54 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.PipeRunException;\n+import org.junit.Test;\n+import org.junit.Before; \n+import org.junit.After;\n+\n+import java.nio.channels.Pipe;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+/**\n+ * ExceptionPipe Tester.\n+ *\n+ * @author <Sina Sen>\n+ * @version 1.0\n+ * @since <pre>Mar 5, 2020</pre>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4NTQxMg=="}, "originalCommit": {"oid": "e92d47a98de655edb213867df56752962bda5403"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNzMyNDI1OnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/pipes/ExceptionPipeTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwODo1NTo1OVrOGFwOFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQwNzoyMDoyNFrOGGXzCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4NjEwMQ==", "bodyText": "Try not to add any unused imports.\nYou can have a look at Codacy (after pushing your changes, it will be available on your PR).", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r408686101", "createdAt": "2020-04-15T08:55:59Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/ExceptionPipeTest.java", "diffHunk": "@@ -0,0 +1,54 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.PipeRunException;\n+import org.junit.Test;\n+import org.junit.Before; \n+import org.junit.After;\n+\n+import java.nio.channels.Pipe;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e92d47a98de655edb213867df56752962bda5403"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTMzNDUzOA==", "bodyText": "Try not to add any unused imports.\nYou can have a look at Codacy (after pushing your changes, it will be available on your PR).\n\nYes! I looked at it and it indeed gives nice comments on the code quality. I'm going to adjust the code accordingly", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r409334538", "createdAt": "2020-04-16T07:20:24Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/ExceptionPipeTest.java", "diffHunk": "@@ -0,0 +1,54 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.PipeRunException;\n+import org.junit.Test;\n+import org.junit.Before; \n+import org.junit.After;\n+\n+import java.nio.channels.Pipe;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4NjEwMQ=="}, "originalCommit": {"oid": "e92d47a98de655edb213867df56752962bda5403"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNzMzODExOnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/pipes/IfMultipartTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwODo1OTozNFrOGFwW3A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQwNzoyNDowN1rOGGX69g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4ODM0OA==", "bodyText": "This is a recipe for getting NullPointerExceptions", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r408688348", "createdAt": "2020-04-15T08:59:34Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/IfMultipartTest.java", "diffHunk": "@@ -0,0 +1,93 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.IPipeLineSession;\n+import nl.nn.adapterframework.core.PipeForward;\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunException;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import org.junit.Test;\n+import org.junit.Before; \n+import org.junit.After;\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.*;\n+import org.mockito.MockitoAnnotations;\n+import org.springframework.mock.web.MockHttpServletRequest;\n+\n+import javax.servlet.http.HttpServletRequest;\n+\n+/** \n+* IfMultipart Tester. \n+* \n+* @author <Sina Sen>\n+* @since <pre>Feb 28, 2020</pre> \n+* @version 1.0 \n+*/ \n+public class IfMultipartTest extends PipeTestBase<IfMultipart>{\n+    private final String thenForward = \"then\";\n+    private final String elseForward = \"else\";\n+\n+\n+    private MockHttpServletRequest request;\n+\n+    @Before\n+    public void before() throws Exception {\n+        request  = new MockHttpServletRequest();\n+\n+        MockitoAnnotations.initMocks(this);\n+    }\n+\n+    @Override\n+    public IfMultipart createPipe() {\n+        return new IfMultipart();\n+    }\n+\n+    @Test\n+    public void testInputNullElseForwardNull() throws Exception {\n+        exception.expect(PipeRunException.class);\n+        exception.expectMessage(\"Pipe [IfMultipart under test] cannot find forward or pipe named [null]\");\n+        pipe.setElseForwardName(null);\n+        pipe.doPipe(null, session);\n+    }\n+\n+    @Test\n+    public void testInputNotHTTPRequest() throws Exception {\n+        exception.expect(PipeRunException.class);\n+        exception.expectMessage(\"Pipe [IfMultipart under test] expected HttpServletRequest as input, got [String]\");\n+        pipe.doPipe(\"i am a string not a http req\", session);\n+    }\n+\n+    @Test\n+    public void testRequestUsesElseForward() throws Exception {\n+        PipeForward forw = new PipeForward(\"custom_else\", \"random/path\");\n+        pipe.registerForward(forw);\n+        pipe.setElseForwardName(\"custom_else\");\n+        assertEquals(pipe.doPipe(request, session).getPipeForward().getName().toString(), \"custom_else\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e92d47a98de655edb213867df56752962bda5403"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTMzNjU2Ng==", "bodyText": "I couldn't understand what you meant to say\n\nThis is a recipe for getting NullPointerExceptions\n\nI could not understand what you meant to say. Can you explain a bit?", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r409336566", "createdAt": "2020-04-16T07:24:07Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/IfMultipartTest.java", "diffHunk": "@@ -0,0 +1,93 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.IPipeLineSession;\n+import nl.nn.adapterframework.core.PipeForward;\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunException;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import org.junit.Test;\n+import org.junit.Before; \n+import org.junit.After;\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.*;\n+import org.mockito.MockitoAnnotations;\n+import org.springframework.mock.web.MockHttpServletRequest;\n+\n+import javax.servlet.http.HttpServletRequest;\n+\n+/** \n+* IfMultipart Tester. \n+* \n+* @author <Sina Sen>\n+* @since <pre>Feb 28, 2020</pre> \n+* @version 1.0 \n+*/ \n+public class IfMultipartTest extends PipeTestBase<IfMultipart>{\n+    private final String thenForward = \"then\";\n+    private final String elseForward = \"else\";\n+\n+\n+    private MockHttpServletRequest request;\n+\n+    @Before\n+    public void before() throws Exception {\n+        request  = new MockHttpServletRequest();\n+\n+        MockitoAnnotations.initMocks(this);\n+    }\n+\n+    @Override\n+    public IfMultipart createPipe() {\n+        return new IfMultipart();\n+    }\n+\n+    @Test\n+    public void testInputNullElseForwardNull() throws Exception {\n+        exception.expect(PipeRunException.class);\n+        exception.expectMessage(\"Pipe [IfMultipart under test] cannot find forward or pipe named [null]\");\n+        pipe.setElseForwardName(null);\n+        pipe.doPipe(null, session);\n+    }\n+\n+    @Test\n+    public void testInputNotHTTPRequest() throws Exception {\n+        exception.expect(PipeRunException.class);\n+        exception.expectMessage(\"Pipe [IfMultipart under test] expected HttpServletRequest as input, got [String]\");\n+        pipe.doPipe(\"i am a string not a http req\", session);\n+    }\n+\n+    @Test\n+    public void testRequestUsesElseForward() throws Exception {\n+        PipeForward forw = new PipeForward(\"custom_else\", \"random/path\");\n+        pipe.registerForward(forw);\n+        pipe.setElseForwardName(\"custom_else\");\n+        assertEquals(pipe.doPipe(request, session).getPipeForward().getName().toString(), \"custom_else\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4ODM0OA=="}, "originalCommit": {"oid": "e92d47a98de655edb213867df56752962bda5403"}, "originalPosition": 65}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzNzM0MDYwOnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/pipes/FilePipeTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwOTowMDoxNVrOGFwYfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQwNzoyMToyMFrOGGX0_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4ODc2Nw==", "bodyText": "Please put all the setters underneath each other for better readability.", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r408688767", "createdAt": "2020-04-15T09:00:15Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/FilePipeTest.java", "diffHunk": "@@ -0,0 +1,92 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.IPipeLineSession;\n+import nl.nn.adapterframework.core.PipeForward;\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunException;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.parameters.Parameter;\n+import org.junit.BeforeClass;\n+import org.junit.ClassRule;\n+import org.junit.Test;\n+import org.junit.Before;\n+import org.junit.After;\n+import org.junit.rules.TemporaryFolder;\n+import org.mockito.Mock;\n+\n+import java.io.ByteArrayInputStream;\n+import java.io.FileInputStream;\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.io.UnsupportedEncodingException;\n+\n+import static org.junit.Assert.*;\n+\n+/**\n+ * FilePipe Tester.\n+ *\n+ * @author <Sina Sen>\n+ * @version 1.0\n+ * @since <pre>Feb 28, 2020</pre>\n+ */\n+public class FilePipeTest extends PipeTestBase<FilePipe> {\n+\n+    @ClassRule\n+    public static TemporaryFolder testFolderSource = new TemporaryFolder();\n+\n+    private static String sourceFolderPath;\n+\n+    @Mock\n+    private IPipeLineSession session1 = new PipeLineSessionBase();\n+\n+    private byte[] var = \"Some String you want\".getBytes();\n+    private ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(var);\n+\n+    @Override\n+    public FilePipe createPipe() {\n+        return new FilePipe();\n+    }\n+\n+\n+    @BeforeClass\n+    public static void before() throws Exception {\n+        testFolderSource.newFile(\"1.txt\");\n+        sourceFolderPath = testFolderSource.getRoot().getPath();\n+\n+    }\n+\n+\n+    @Test\n+    public void doTestSuccess() throws Exception {\n+        Parameter p = new Parameter();\n+        p.setSessionKey(\"key\"); p.setName(\"p1\"); p.setValue(\"15\"); p.setType(\"int\"); p.configure();\n+        session1.put(\"key\", p);\n+        PipeForward fw = new PipeForward();\n+        fw.setName(\"test\"); pipe.registerForward(fw); pipe.addParameter(p);\n+        pipe.setCharset(\"/\"); pipe.setDirectory(sourceFolderPath);\n+        pipe.setOutputType(\"stream\"); pipe.setActions(\"read\");\n+        pipe.setFileName(\"1.txt\"); pipe.setFileSource(\"filesystem\");\n+        pipe.setActions(\"create\");\n+        pipe.configure();\n+        PipeRunResult res = pipe.doPipe(var, session1);\n+        assertEquals(res.getPipeForward().getName(), \"success\");\n+    }\n+\n+    @Test\n+    public void doTestFailAsEncodingNotSupportedBase64() throws Exception {\n+        exception.expect(PipeRunException.class);\n+        exception.expectMessage(\"Pipe [FilePipe under test] msgId [null] Error while executing file action(s): (UnsupportedEncodingException) /\");\n+        Parameter p = new Parameter();\n+        p.setSessionKey(\"key\"); p.setName(\"p1\"); p.setValue(\"15\"); p.setType(\"int\"); p.configure();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e92d47a98de655edb213867df56752962bda5403"}, "originalPosition": 80}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTMzNTAzOQ==", "bodyText": "Thanks for the feedback, will do", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r409335039", "createdAt": "2020-04-16T07:21:20Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/FilePipeTest.java", "diffHunk": "@@ -0,0 +1,92 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.IPipeLineSession;\n+import nl.nn.adapterframework.core.PipeForward;\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunException;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.parameters.Parameter;\n+import org.junit.BeforeClass;\n+import org.junit.ClassRule;\n+import org.junit.Test;\n+import org.junit.Before;\n+import org.junit.After;\n+import org.junit.rules.TemporaryFolder;\n+import org.mockito.Mock;\n+\n+import java.io.ByteArrayInputStream;\n+import java.io.FileInputStream;\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.io.UnsupportedEncodingException;\n+\n+import static org.junit.Assert.*;\n+\n+/**\n+ * FilePipe Tester.\n+ *\n+ * @author <Sina Sen>\n+ * @version 1.0\n+ * @since <pre>Feb 28, 2020</pre>\n+ */\n+public class FilePipeTest extends PipeTestBase<FilePipe> {\n+\n+    @ClassRule\n+    public static TemporaryFolder testFolderSource = new TemporaryFolder();\n+\n+    private static String sourceFolderPath;\n+\n+    @Mock\n+    private IPipeLineSession session1 = new PipeLineSessionBase();\n+\n+    private byte[] var = \"Some String you want\".getBytes();\n+    private ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(var);\n+\n+    @Override\n+    public FilePipe createPipe() {\n+        return new FilePipe();\n+    }\n+\n+\n+    @BeforeClass\n+    public static void before() throws Exception {\n+        testFolderSource.newFile(\"1.txt\");\n+        sourceFolderPath = testFolderSource.getRoot().getPath();\n+\n+    }\n+\n+\n+    @Test\n+    public void doTestSuccess() throws Exception {\n+        Parameter p = new Parameter();\n+        p.setSessionKey(\"key\"); p.setName(\"p1\"); p.setValue(\"15\"); p.setType(\"int\"); p.configure();\n+        session1.put(\"key\", p);\n+        PipeForward fw = new PipeForward();\n+        fw.setName(\"test\"); pipe.registerForward(fw); pipe.addParameter(p);\n+        pipe.setCharset(\"/\"); pipe.setDirectory(sourceFolderPath);\n+        pipe.setOutputType(\"stream\"); pipe.setActions(\"read\");\n+        pipe.setFileName(\"1.txt\"); pipe.setFileSource(\"filesystem\");\n+        pipe.setActions(\"create\");\n+        pipe.configure();\n+        PipeRunResult res = pipe.doPipe(var, session1);\n+        assertEquals(res.getPipeForward().getName(), \"success\");\n+    }\n+\n+    @Test\n+    public void doTestFailAsEncodingNotSupportedBase64() throws Exception {\n+        exception.expect(PipeRunException.class);\n+        exception.expectMessage(\"Pipe [FilePipe under test] msgId [null] Error while executing file action(s): (UnsupportedEncodingException) /\");\n+        Parameter p = new Parameter();\n+        p.setSessionKey(\"key\"); p.setName(\"p1\"); p.setValue(\"15\"); p.setType(\"int\"); p.configure();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODY4ODc2Nw=="}, "originalCommit": {"oid": "e92d47a98de655edb213867df56752962bda5403"}, "originalPosition": 80}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1MTI1MDU1OnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/pipes/FixedResultTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMTo1OTo1M1rOGWB6Tg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMjoxNjozMlrOGWCYyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc1MzE2Ng==", "bodyText": "toString appends the type of the object that's used. In this case a String. Hence the String: prefix.\nIf you use asString() it will convert whatever object may be in the getResult() to a string.", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r425753166", "createdAt": "2020-05-15T11:59:53Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/FixedResultTest.java", "diffHunk": "@@ -0,0 +1,150 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.IPipeLineSession;\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunException;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.parameters.Parameter;\n+import org.junit.BeforeClass;\n+import org.junit.ClassRule;\n+import org.junit.Test;\n+\n+import org.junit.rules.TemporaryFolder;\n+import org.mockito.Mock;\n+\n+\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * FixedResult Tester.\n+ *\n+ * @author <Sina Sen>\n+ */\n+public class FixedResultTest extends PipeTestBase<FixedResult> {\n+\n+    @ClassRule\n+    public static TemporaryFolder testFolderSource = new TemporaryFolder();\n+\n+    private static String sourceFolderPath;\n+    @Mock\n+    private IPipeLineSession session1 = new PipeLineSessionBase();\n+\n+    @Override\n+    public FixedResult createPipe() {\n+        return new FixedResult();\n+    }\n+\n+    @BeforeClass\n+    public static void before() throws Exception {\n+        sourceFolderPath = \"/Pipes/2.txt\";\n+        testFolderSource.newFile(\"2.txt\");\n+\n+    }\n+\n+\n+\n+    /**\n+     * Method: configure()\n+     */\n+    @Test\n+    public void testSuccess() throws Exception {\n+        Parameter param = new Parameter();\n+        param.setName(\"param1\");\n+        param.setValue(\"abs\");\n+        param.setSessionKey(\"*\");\n+        session1.put(\"param1\",\"yarr\");\n+        pipe.addParameter(param);\n+        pipe.setLookupAtRuntime(true);\n+        pipe.setFileName(sourceFolderPath);\n+        pipe.setReplaceFrom(\"param1\");\n+        pipe.setReplaceTo(\"kar\");\n+        pipe.setReturnString(\"${param1}andandandparam2\");\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"whatisthis\", session1);\n+        assertEquals(res.getResult().toString(), \"String: inside the file\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d4d3f7ac0ca58223f63592cbb697e0981ea0e0d"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc2MDk2OQ==", "bodyText": "thanks for pointing out such a method exists. will replace all toString to asString where it's needed", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r425760969", "createdAt": "2020-05-15T12:16:32Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/FixedResultTest.java", "diffHunk": "@@ -0,0 +1,150 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.IPipeLineSession;\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunException;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.parameters.Parameter;\n+import org.junit.BeforeClass;\n+import org.junit.ClassRule;\n+import org.junit.Test;\n+\n+import org.junit.rules.TemporaryFolder;\n+import org.mockito.Mock;\n+\n+\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * FixedResult Tester.\n+ *\n+ * @author <Sina Sen>\n+ */\n+public class FixedResultTest extends PipeTestBase<FixedResult> {\n+\n+    @ClassRule\n+    public static TemporaryFolder testFolderSource = new TemporaryFolder();\n+\n+    private static String sourceFolderPath;\n+    @Mock\n+    private IPipeLineSession session1 = new PipeLineSessionBase();\n+\n+    @Override\n+    public FixedResult createPipe() {\n+        return new FixedResult();\n+    }\n+\n+    @BeforeClass\n+    public static void before() throws Exception {\n+        sourceFolderPath = \"/Pipes/2.txt\";\n+        testFolderSource.newFile(\"2.txt\");\n+\n+    }\n+\n+\n+\n+    /**\n+     * Method: configure()\n+     */\n+    @Test\n+    public void testSuccess() throws Exception {\n+        Parameter param = new Parameter();\n+        param.setName(\"param1\");\n+        param.setValue(\"abs\");\n+        param.setSessionKey(\"*\");\n+        session1.put(\"param1\",\"yarr\");\n+        pipe.addParameter(param);\n+        pipe.setLookupAtRuntime(true);\n+        pipe.setFileName(sourceFolderPath);\n+        pipe.setReplaceFrom(\"param1\");\n+        pipe.setReplaceTo(\"kar\");\n+        pipe.setReturnString(\"${param1}andandandparam2\");\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"whatisthis\", session1);\n+        assertEquals(res.getResult().toString(), \"String: inside the file\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc1MzE2Ng=="}, "originalCommit": {"oid": "3d4d3f7ac0ca58223f63592cbb697e0981ea0e0d"}, "originalPosition": 66}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1MTI2NTAxOnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/pipes/IncreaseIntegerPipeTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMjowNTowNlrOGWCDqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMjoyNDowOVrOGWCoCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc1NTU2Mg==", "bodyText": "This wont be triggered as you're expecting doPipe to throw an exception correct?", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r425755562", "createdAt": "2020-05-15T12:05:06Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/IncreaseIntegerPipeTest.java", "diffHunk": "@@ -0,0 +1,52 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.configuration.ConfigurationException;\n+import nl.nn.adapterframework.core.IPipeLineSession;\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import org.junit.Test;\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+/**\n+ * IncreaseIntegerPipe Tester.\n+ *\n+ * @author <Sina Sen>\n+ */\n+public class IncreaseIntegerPipeTest extends PipeTestBase<IncreaseIntegerPipe> {\n+\n+    @Mock\n+    private IPipeLineSession session = new PipeLineSessionBase();\n+\n+    @Override\n+    public IncreaseIntegerPipe createPipe() {\n+        return new IncreaseIntegerPipe();\n+    }\n+\n+\n+    /**\n+     * Method: doPipe(Object input, IPipeLineSession session)\n+     */\n+    @Test\n+    public void testIncreaseBy2() throws Exception {\n+\n+        session.put(\"a\", \"4\");\n+        pipe.setSessionKey(\"a\");\n+        pipe.setIncrement(2);\n+        pipe.configure();\n+        doPipe(pipe, \"doesnt matter\", session);\n+        assertEquals(session.get(\"a\"), \"6\");\n+    }\n+\n+    @Test\n+    public void testCannotIncreaseBy2AsNoSessionKey() throws Exception {\n+        exception.expect(ConfigurationException.class);\n+        exception.expectMessage(\"sessionKey must be filled\");\n+        session.put(\"a\", \"4\");\n+        pipe.setIncrement(2);\n+        pipe.configure();\n+        doPipe(pipe, \"doesnt matter\", session);\n+        assertEquals(session.get(\"a\"), \"6\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d4d3f7ac0ca58223f63592cbb697e0981ea0e0d"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc2NDg3Mg==", "bodyText": "indeed, I will remove and replace it with a \"fail()\" assertion", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r425764872", "createdAt": "2020-05-15T12:24:09Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/IncreaseIntegerPipeTest.java", "diffHunk": "@@ -0,0 +1,52 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.configuration.ConfigurationException;\n+import nl.nn.adapterframework.core.IPipeLineSession;\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import org.junit.Test;\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+/**\n+ * IncreaseIntegerPipe Tester.\n+ *\n+ * @author <Sina Sen>\n+ */\n+public class IncreaseIntegerPipeTest extends PipeTestBase<IncreaseIntegerPipe> {\n+\n+    @Mock\n+    private IPipeLineSession session = new PipeLineSessionBase();\n+\n+    @Override\n+    public IncreaseIntegerPipe createPipe() {\n+        return new IncreaseIntegerPipe();\n+    }\n+\n+\n+    /**\n+     * Method: doPipe(Object input, IPipeLineSession session)\n+     */\n+    @Test\n+    public void testIncreaseBy2() throws Exception {\n+\n+        session.put(\"a\", \"4\");\n+        pipe.setSessionKey(\"a\");\n+        pipe.setIncrement(2);\n+        pipe.configure();\n+        doPipe(pipe, \"doesnt matter\", session);\n+        assertEquals(session.get(\"a\"), \"6\");\n+    }\n+\n+    @Test\n+    public void testCannotIncreaseBy2AsNoSessionKey() throws Exception {\n+        exception.expect(ConfigurationException.class);\n+        exception.expectMessage(\"sessionKey must be filled\");\n+        session.put(\"a\", \"4\");\n+        pipe.setIncrement(2);\n+        pipe.configure();\n+        doPipe(pipe, \"doesnt matter\", session);\n+        assertEquals(session.get(\"a\"), \"6\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc1NTU2Mg=="}, "originalCommit": {"oid": "3d4d3f7ac0ca58223f63592cbb697e0981ea0e0d"}, "originalPosition": 49}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1MTI2NzYyOnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/pipes/PasswordGeneratorPipeTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMjowNTo1N1rOGWCFSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMjowNTo1N1rOGWCFSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc1NTk3OQ==", "bodyText": "Try to use asString instead", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r425755979", "createdAt": "2020-05-15T12:05:57Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/PasswordGeneratorPipeTest.java", "diffHunk": "@@ -0,0 +1,67 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import org.junit.Test;\n+import org.junit.Before;\n+import org.junit.After;\n+\n+import static org.junit.Assert.*;\n+\n+/**\n+ * PasswordGeneratorPipe Tester.\n+ *\n+ * @author <Sina Sen>\n+ */\n+public class PasswordGeneratorPipeTest extends PipeTestBase<PasswordGeneratorPipe> {\n+\n+\n+    @Override\n+    public PasswordGeneratorPipe createPipe() {\n+        return new PasswordGeneratorPipe();\n+    }\n+\n+    /**\n+     * Method: configure()\n+     */\n+    @Test\n+    public void testConfigure() throws Exception {\n+        pipe.setUseSecureRandom(true);\n+        pipe.configure();\n+\n+    }\n+    /**\n+     * Method: generate(int numOfLCharacters, int numOfUCharacters, int numOfSigns, int numOfNumbers)\n+     */\n+    @Test\n+    public void testGenerate() throws Exception {\n+        pipe.configure();\n+        String res = pipe.generate(3, 4, 2, 1);\n+        assertEquals(res.length(), 10);\n+        assertFalse(res.isEmpty());\n+    }\n+\n+    /**\n+     * Method: doPipe(Object input, IPipeLineSession session)\n+     */\n+    @Test\n+    public void testDoPipe() throws Exception {\n+        pipe.setLCharacters(\"abcd\");\n+        pipe.setNumbers(\"12342\");\n+        pipe.setUCharacters(\"ASDF\");\n+        pipe.setSigns(\"!@#@\");\n+        pipe.setNumOfDigits(3);\n+        pipe.setNumOfLCharacters(4);\n+        pipe.setNumOfUCharacters(2);\n+        pipe.setNumOfSigns(2);\n+        pipe.setUseSecureRandom(false);\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"pipey\", session);\n+        assertEquals(res.getResult().toString().length(), 19);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d4d3f7ac0ca58223f63592cbb697e0981ea0e0d"}, "originalPosition": 59}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1MTI3NDY0OnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/pipes/PasswordHashPipeTest.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMjowODoyMVrOGWCJzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMTowNzoxNFrOGeW__g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc1NzEzMg==", "bodyText": "Maybe you can also convert the current PasswordHash tests (in the static main method of the class) to proper junit tests.", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r425757132", "createdAt": "2020-05-15T12:08:21Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/PasswordHashPipeTest.java", "diffHunk": "@@ -0,0 +1,63 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.util.PasswordHash;\n+import org.junit.Test;\n+import org.junit.Before;\n+import org.junit.After;\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+/**\n+ * PasswordHashPipe Tester.\n+ * @author <Sina>\n+ */\n+public class PasswordHashPipeTest extends PipeTestBase<PasswordHashPipe> {\n+\n+    @Mock\n+    private PipeLineSessionBase session = new PipeLineSessionBase();\n+\n+    @Override\n+    public PasswordHashPipe createPipe() {\n+        return new PasswordHashPipe();\n+    }\n+\n+\n+    /**\n+     * Method: doPipe(Object input, IPipeLineSession session)\n+     */\n+    @Test\n+    public void testHashPipe() throws Exception {\n+        session.put(\"key\", \"3:2342:2342\" );\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"password\", session);\n+        assertEquals(\"success\", res.getPipeForward().getName());\n+    }\n+\n+    @Test\n+    public void testValidatePipe() throws Exception {\n+\n+        String sc = PasswordHash.createHash(\"password\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d4d3f7ac0ca58223f63592cbb697e0981ea0e0d"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc3NDU4Ng==", "bodyText": "I could not see any static main methods of the class PasswordHash, can you maybe clarify more?", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r425774586", "createdAt": "2020-05-15T12:42:38Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/PasswordHashPipeTest.java", "diffHunk": "@@ -0,0 +1,63 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.util.PasswordHash;\n+import org.junit.Test;\n+import org.junit.Before;\n+import org.junit.After;\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+/**\n+ * PasswordHashPipe Tester.\n+ * @author <Sina>\n+ */\n+public class PasswordHashPipeTest extends PipeTestBase<PasswordHashPipe> {\n+\n+    @Mock\n+    private PipeLineSessionBase session = new PipeLineSessionBase();\n+\n+    @Override\n+    public PasswordHashPipe createPipe() {\n+        return new PasswordHashPipe();\n+    }\n+\n+\n+    /**\n+     * Method: doPipe(Object input, IPipeLineSession session)\n+     */\n+    @Test\n+    public void testHashPipe() throws Exception {\n+        session.put(\"key\", \"3:2342:2342\" );\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"password\", session);\n+        assertEquals(\"success\", res.getPipeForward().getName());\n+    }\n+\n+    @Test\n+    public void testValidatePipe() throws Exception {\n+\n+        String sc = PasswordHash.createHash(\"password\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc1NzEzMg=="}, "originalCommit": {"oid": "3d4d3f7ac0ca58223f63592cbb697e0981ea0e0d"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDI0ODQwOA==", "bodyText": "See: PasswordHash:204", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r430248408", "createdAt": "2020-05-26T08:38:53Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/PasswordHashPipeTest.java", "diffHunk": "@@ -0,0 +1,63 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.util.PasswordHash;\n+import org.junit.Test;\n+import org.junit.Before;\n+import org.junit.After;\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+/**\n+ * PasswordHashPipe Tester.\n+ * @author <Sina>\n+ */\n+public class PasswordHashPipeTest extends PipeTestBase<PasswordHashPipe> {\n+\n+    @Mock\n+    private PipeLineSessionBase session = new PipeLineSessionBase();\n+\n+    @Override\n+    public PasswordHashPipe createPipe() {\n+        return new PasswordHashPipe();\n+    }\n+\n+\n+    /**\n+     * Method: doPipe(Object input, IPipeLineSession session)\n+     */\n+    @Test\n+    public void testHashPipe() throws Exception {\n+        session.put(\"key\", \"3:2342:2342\" );\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"password\", session);\n+        assertEquals(\"success\", res.getPipeForward().getName());\n+    }\n+\n+    @Test\n+    public void testValidatePipe() throws Exception {\n+\n+        String sc = PasswordHash.createHash(\"password\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc1NzEzMg=="}, "originalCommit": {"oid": "3d4d3f7ac0ca58223f63592cbb697e0981ea0e0d"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQ3MjExNw==", "bodyText": "Okay, I thought you were talking about the PasswordHashPipe rather than PasswordHash class. Checking it out now.", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r434472117", "createdAt": "2020-06-03T10:36:52Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/PasswordHashPipeTest.java", "diffHunk": "@@ -0,0 +1,63 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.util.PasswordHash;\n+import org.junit.Test;\n+import org.junit.Before;\n+import org.junit.After;\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+/**\n+ * PasswordHashPipe Tester.\n+ * @author <Sina>\n+ */\n+public class PasswordHashPipeTest extends PipeTestBase<PasswordHashPipe> {\n+\n+    @Mock\n+    private PipeLineSessionBase session = new PipeLineSessionBase();\n+\n+    @Override\n+    public PasswordHashPipe createPipe() {\n+        return new PasswordHashPipe();\n+    }\n+\n+\n+    /**\n+     * Method: doPipe(Object input, IPipeLineSession session)\n+     */\n+    @Test\n+    public void testHashPipe() throws Exception {\n+        session.put(\"key\", \"3:2342:2342\" );\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"password\", session);\n+        assertEquals(\"success\", res.getPipeForward().getName());\n+    }\n+\n+    @Test\n+    public void testValidatePipe() throws Exception {\n+\n+        String sc = PasswordHash.createHash(\"password\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc1NzEzMg=="}, "originalCommit": {"oid": "3d4d3f7ac0ca58223f63592cbb697e0981ea0e0d"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQ4NzI5NA==", "bodyText": "Converted the main method into a test case.", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r434487294", "createdAt": "2020-06-03T11:07:14Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/PasswordHashPipeTest.java", "diffHunk": "@@ -0,0 +1,63 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.util.PasswordHash;\n+import org.junit.Test;\n+import org.junit.Before;\n+import org.junit.After;\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+/**\n+ * PasswordHashPipe Tester.\n+ * @author <Sina>\n+ */\n+public class PasswordHashPipeTest extends PipeTestBase<PasswordHashPipe> {\n+\n+    @Mock\n+    private PipeLineSessionBase session = new PipeLineSessionBase();\n+\n+    @Override\n+    public PasswordHashPipe createPipe() {\n+        return new PasswordHashPipe();\n+    }\n+\n+\n+    /**\n+     * Method: doPipe(Object input, IPipeLineSession session)\n+     */\n+    @Test\n+    public void testHashPipe() throws Exception {\n+        session.put(\"key\", \"3:2342:2342\" );\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"password\", session);\n+        assertEquals(\"success\", res.getPipeForward().getName());\n+    }\n+\n+    @Test\n+    public void testValidatePipe() throws Exception {\n+\n+        String sc = PasswordHash.createHash(\"password\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc1NzEzMg=="}, "originalCommit": {"oid": "3d4d3f7ac0ca58223f63592cbb697e0981ea0e0d"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1MTI3OTc4OnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/pipes/PutInSessionTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMjoxMDowNFrOGWCM6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMjoxODoxOFrOGWCcgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc1NzkzMA==", "bodyText": "You're expecting doPipe to throw an exception? then this assertion is not required :)", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r425757930", "createdAt": "2020-05-15T12:10:04Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/PutInSessionTest.java", "diffHunk": "@@ -0,0 +1,77 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.configuration.ConfigurationException;\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import org.junit.Test;\n+\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+\n+/**\n+ * PutInSession Tester.\n+ *\n+ * @author <Sina Sen>\n+ */\n+public class PutInSessionTest extends PipeTestBase<PutInSession> {\n+\n+    @Mock\n+    PipeLineSessionBase session = new PipeLineSessionBase();\n+\n+    @Override\n+    public PutInSession createPipe() {\n+        return new PutInSession();\n+    }\n+\n+\n+\n+    /**\n+     * Method: configure()\n+     */\n+    /*\n+    @Test\n+    public void testConfigureWithoutSessionKey() throws Exception {\n+        pipe.setSessionKey(\"hola\");\n+        pipe.configure();\n+        doPipe(pipe, \"val\", session);\n+        Message m = new Message(\"val\");\n+        assertEquals(new Message(\"val\") , session.get(\"hola\"));\n+\n+    }\n+\n+    PutInSessionPipeTest:\n+java.lang.AssertionError: expected: nl.nn.adapterframework.stream.Message<String: val> but was: nl.nn.adapterframework.stream.Message<String: val>\n+Expected :nl.nn.adapterframework.stream.Message<String: val>\n+Actual   :nl.nn.adapterframework.stream.Message<String: val>\n+<Click to see difference>\n+No Difference??\n+\n+    */\n+\n+\n+    /**\n+     * Method: doPipe(Object input, IPipeLineSession session)\n+     */\n+    @Test\n+    public void testPutWithSessionKey() throws Exception {\n+        pipe.setSessionKey(\"hola\");\n+        pipe.setValue(\"val\");\n+        pipe.configure();\n+        doPipe(pipe, \"notimportant\", session);\n+        assertEquals(\"val\", session.get(\"hola\"));\n+    }\n+\n+    @Test\n+    public void testNoSessionKey() throws Exception {\n+        exception.expectMessage(\"attribute sessionKey must be specified\");\n+        exception.expect(ConfigurationException.class);\n+        pipe.setValue(\"val\");\n+        pipe.configure();\n+        PipeRunResult res = pipe.doPipe(null, session);\n+        assertFalse(res.getPipeForward().getName().isEmpty());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d4d3f7ac0ca58223f63592cbb697e0981ea0e0d"}, "originalPosition": 73}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc2MTkyMA==", "bodyText": "In some cases, I added assertions or fail()s to decrease the amount of code quality warnings given by codacy.", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r425761920", "createdAt": "2020-05-15T12:18:18Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/PutInSessionTest.java", "diffHunk": "@@ -0,0 +1,77 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.configuration.ConfigurationException;\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import org.junit.Test;\n+\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+\n+/**\n+ * PutInSession Tester.\n+ *\n+ * @author <Sina Sen>\n+ */\n+public class PutInSessionTest extends PipeTestBase<PutInSession> {\n+\n+    @Mock\n+    PipeLineSessionBase session = new PipeLineSessionBase();\n+\n+    @Override\n+    public PutInSession createPipe() {\n+        return new PutInSession();\n+    }\n+\n+\n+\n+    /**\n+     * Method: configure()\n+     */\n+    /*\n+    @Test\n+    public void testConfigureWithoutSessionKey() throws Exception {\n+        pipe.setSessionKey(\"hola\");\n+        pipe.configure();\n+        doPipe(pipe, \"val\", session);\n+        Message m = new Message(\"val\");\n+        assertEquals(new Message(\"val\") , session.get(\"hola\"));\n+\n+    }\n+\n+    PutInSessionPipeTest:\n+java.lang.AssertionError: expected: nl.nn.adapterframework.stream.Message<String: val> but was: nl.nn.adapterframework.stream.Message<String: val>\n+Expected :nl.nn.adapterframework.stream.Message<String: val>\n+Actual   :nl.nn.adapterframework.stream.Message<String: val>\n+<Click to see difference>\n+No Difference??\n+\n+    */\n+\n+\n+    /**\n+     * Method: doPipe(Object input, IPipeLineSession session)\n+     */\n+    @Test\n+    public void testPutWithSessionKey() throws Exception {\n+        pipe.setSessionKey(\"hola\");\n+        pipe.setValue(\"val\");\n+        pipe.configure();\n+        doPipe(pipe, \"notimportant\", session);\n+        assertEquals(\"val\", session.get(\"hola\"));\n+    }\n+\n+    @Test\n+    public void testNoSessionKey() throws Exception {\n+        exception.expectMessage(\"attribute sessionKey must be specified\");\n+        exception.expect(ConfigurationException.class);\n+        pipe.setValue(\"val\");\n+        pipe.configure();\n+        PipeRunResult res = pipe.doPipe(null, session);\n+        assertFalse(res.getPipeForward().getName().isEmpty());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc1NzkzMA=="}, "originalCommit": {"oid": "3d4d3f7ac0ca58223f63592cbb697e0981ea0e0d"}, "originalPosition": 73}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1MTI4MDgyOnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/pipes/RemoveFromSessionTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMjoxMDoyNVrOGWCNmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMjoxMDoyNVrOGWCNmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc1ODEwNA==", "bodyText": "Try to use asString instead of toString", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r425758104", "createdAt": "2020-05-15T12:10:25Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/RemoveFromSessionTest.java", "diffHunk": "@@ -0,0 +1,76 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.IPipeLineSession;\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import org.junit.Test;\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+/** \n+* RemoveFromSession Tester. \n+* \n+* @author <Sina Sen>\n+*/ \n+public class RemoveFromSessionTest extends PipeTestBase<RemoveFromSession> {\n+\n+    @Mock\n+    private IPipeLineSession session = new PipeLineSessionBase();\n+    @Override\n+    public RemoveFromSession createPipe() {\n+        return new RemoveFromSession();\n+    }\n+\n+\n+/** \n+* \n+* Method: configure() \n+* \n+*/ \n+@Test\n+public void testEmptySessionKeyNonEmptyInput() throws Exception {\n+        pipe.setSessionKey(null);\n+        session.put(\"a\", \"123\");\n+        PipeRunResult res = doPipe(pipe, \"a\", session);\n+        assertEquals(res.getResult().toString(), \"String: 123\");\n+\n+}\n+\n+    @Test\n+    public void testNonEmptySessionKeyNonEmptyInput() throws Exception {\n+        pipe.setSessionKey(\"a\");\n+        session.put(\"a\", \"123\");\n+        PipeRunResult res = doPipe(pipe, \"a\", session);\n+        assertEquals(res.getResult().toString(), \"String: 123\");    }\n+\n+    @Test\n+    public void testNonEmptySessionKeyEmptyInput() throws Exception {\n+            pipe.setSessionKey(\"a\");\n+            session.put(\"a\", \"123\");\n+            PipeRunResult res = pipe.doPipe(null, session);\n+            assertEquals(res.getResult().toString(), \"String: 123\");\n+\n+    }\n+    @Test\n+    public void testEmptySessionKeyEmptyInput() throws Exception {\n+        exception.expect(NullPointerException.class);\n+        pipe.setSessionKey(null);\n+        session.put(\"a\", \"123\");\n+        PipeRunResult res = doPipe(pipe, null, session);\n+        assertEquals(res.getResult().toString(), \"[null]\");    }\n+\n+    @Test\n+    public void testFailAsKeyIsWrong() throws Exception {\n+        pipe.setSessionKey(\"ab\");\n+        session.put(\"a\", \"123\");\n+        PipeRunResult res = doPipe(pipe, \"ab\", session);\n+        assertEquals(res.getResult().toString(), \"String: [null]\");\n+\n+    }\n+\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d4d3f7ac0ca58223f63592cbb697e0981ea0e0d"}, "originalPosition": 72}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1MTI4Mzk3OnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/pipes/ReplacerPipeTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMjoxMToyMlrOGWCPcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMjoxMToyMlrOGWCPcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc1ODU3Nw==", "bodyText": "Try to use asString instead of toString", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r425758577", "createdAt": "2020-05-15T12:11:22Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/ReplacerPipeTest.java", "diffHunk": "@@ -0,0 +1,97 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.configuration.ConfigurationException;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import org.junit.Test;\n+import org.junit.Before;\n+import org.junit.After;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+\n+/**\n+ * ReplacerPipe Tester.\n+ *\n+ * @author <Sina Sen>\n+ */\n+public class ReplacerPipeTest extends PipeTestBase<ReplacerPipe>{\n+\n+    @Override\n+    public ReplacerPipe createPipe() {\n+        return new ReplacerPipe();\n+    }\n+\n+\n+    @Test\n+    public void everythingNull() throws Exception {\n+        exception.expect(ConfigurationException.class);\n+        exception.expectMessage(\"cannot have a null replace-attribute\");\n+        pipe.setFind(\"laa\");\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"\", session);\n+        assertFalse(res.getPipeForward().getName().isEmpty());\n+\n+    }\n+\n+    @Test\n+    public void getFindEmpty() throws Exception {\n+        pipe.setFind(\"\");\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"dsf\", session);\n+        assertFalse(res.getPipeForward().getName().isEmpty());\n+\n+    }\n+\n+    /**\n+     * Method: configure()\n+     */\n+    @Test\n+    public void testConfigureWithSeperator() throws Exception {\n+        pipe.setFind(\"sina/murat/niels\");\n+        pipe.setLineSeparatorSymbol(\"/\");\n+        pipe.setReplace(\"yo\");\n+        pipe.setAllowUnicodeSupplementaryCharacters(true);\n+        pipe.configure();\n+        doPipe(pipe, pipe.getFind(), session);\n+        assertFalse( pipe.getFind().isEmpty());\n+    }\n+\n+    @Test\n+    public void replaceNonXMLChar() throws Exception{\n+        pipe.setFind(\"test\");\n+        pipe.setReplace(\"head\");\n+        pipe.setReplaceNonXmlChar(\"k\");\n+        pipe.setReplaceNonXmlChars(true);\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"<test>lolo</test>/jacjac:)\", session);\n+        assertEquals(\"String: <head>lolo</head>/jacjac:)\", res.getResult().toString());\n+    }\n+\n+    @Test\n+    public void replaceStringSuccess() throws Exception{\n+        pipe.setFind(\"test\");\n+        pipe.setReplace(\"head\");\n+        pipe.setReplaceNonXmlChars(true);\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"<test>lolo</test>/jacjac:)\", session);\n+        assertEquals(\"String: <head>lolo</head>/jacjac:)\", res.getResult().toString());\n+    }\n+\n+    @Test\n+    public void replaceNonXMLCharLongerThanOne() throws Exception{\n+        exception.expect(ConfigurationException.class);\n+        exception.expectMessage(\"replaceNonXmlChar [klkl] has to be one character\");\n+        pipe.setFind(\"test\");\n+        pipe.setReplace(\"head\");\n+        pipe.setReplaceNonXmlChar(\"klkl\");\n+        pipe.setReplaceNonXmlChars(true);\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"<test>lolo</test>/jacjac:)\", session);\n+        assertEquals(\"<head>lolo</head>/jacjac:)\", res.getResult().toString());\n+    }\n+\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d4d3f7ac0ca58223f63592cbb697e0981ea0e0d"}, "originalPosition": 93}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1MTI4NzI3OnYy", "diffSide": "RIGHT", "path": "core/src/test/resources/Pipes/1.txt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMjoxMjozMVrOGWCRbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMDoyODoxMFrOGeVyxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc1OTA4Nw==", "bodyText": "This is javascript, please name the file accordingly, eg. /javascript/rhino-tests.js", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r425759087", "createdAt": "2020-05-15T12:12:31Z", "author": {"login": "nielsm5"}, "path": "core/src/test/resources/Pipes/1.txt", "diffHunk": "@@ -0,0 +1,3 @@\n+function giveNumber(x) {\n+    return x * x;\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3d4d3f7ac0ca58223f63592cbb697e0981ea0e0d"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQ2NzUyNw==", "bodyText": "done", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r434467527", "createdAt": "2020-06-03T10:28:10Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/resources/Pipes/1.txt", "diffHunk": "@@ -0,0 +1,3 @@\n+function giveNumber(x) {\n+    return x * x;\n+}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTc1OTA4Nw=="}, "originalCommit": {"oid": "3d4d3f7ac0ca58223f63592cbb697e0981ea0e0d"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3OTkzODk1OnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/pipes/RemoveFromSessionTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwODo0MzoyMFrOGaUcIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMDoyNzo0MFrOGeVxhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDI1MTA0MA==", "bodyText": "Setters cannot be null (they would not be set).\nThey can however be empty \"\"", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r430251040", "createdAt": "2020-05-26T08:43:20Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/RemoveFromSessionTest.java", "diffHunk": "@@ -0,0 +1,76 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.IPipeLineSession;\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import org.junit.Test;\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+/** \n+* RemoveFromSession Tester. \n+* \n+* @author <Sina Sen>\n+*/ \n+public class RemoveFromSessionTest extends PipeTestBase<RemoveFromSession> {\n+\n+    @Mock\n+    private IPipeLineSession session = new PipeLineSessionBase();\n+    @Override\n+    public RemoveFromSession createPipe() {\n+        return new RemoveFromSession();\n+    }\n+\n+\n+/** \n+* \n+* Method: configure() \n+* \n+*/ \n+@Test\n+public void testEmptySessionKeyNonEmptyInput() throws Exception {\n+        pipe.setSessionKey(null);\n+        session.put(\"a\", \"123\");\n+        PipeRunResult res = doPipe(pipe, \"a\", session);\n+        assertEquals(res.getResult().asString(), \"123\");\n+\n+}\n+\n+    @Test\n+    public void testNonEmptySessionKeyNonEmptyInput() throws Exception {\n+        pipe.setSessionKey(\"a\");\n+        session.put(\"a\", \"123\");\n+        PipeRunResult res = doPipe(pipe, \"a\", session);\n+        assertEquals(res.getResult().asString(), \"123\");    }\n+\n+    @Test\n+    public void testNonEmptySessionKeyEmptyInput() throws Exception {\n+            pipe.setSessionKey(\"a\");\n+            session.put(\"a\", \"123\");\n+            PipeRunResult res = pipe.doPipe(null, session);\n+            assertEquals(res.getResult().asString(), \"123\");\n+\n+    }\n+    @Test\n+    public void testEmptySessionKeyEmptyInput() throws Exception {\n+        exception.expect(NullPointerException.class);\n+        pipe.setSessionKey(null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0007e560af62f49ef0a7b456588d0deacad195d"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQ2NzIwNg==", "bodyText": "Thanks for pointing out, everyday is a learning day! :)", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r434467206", "createdAt": "2020-06-03T10:27:40Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/RemoveFromSessionTest.java", "diffHunk": "@@ -0,0 +1,76 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.IPipeLineSession;\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import org.junit.Test;\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+/** \n+* RemoveFromSession Tester. \n+* \n+* @author <Sina Sen>\n+*/ \n+public class RemoveFromSessionTest extends PipeTestBase<RemoveFromSession> {\n+\n+    @Mock\n+    private IPipeLineSession session = new PipeLineSessionBase();\n+    @Override\n+    public RemoveFromSession createPipe() {\n+        return new RemoveFromSession();\n+    }\n+\n+\n+/** \n+* \n+* Method: configure() \n+* \n+*/ \n+@Test\n+public void testEmptySessionKeyNonEmptyInput() throws Exception {\n+        pipe.setSessionKey(null);\n+        session.put(\"a\", \"123\");\n+        PipeRunResult res = doPipe(pipe, \"a\", session);\n+        assertEquals(res.getResult().asString(), \"123\");\n+\n+}\n+\n+    @Test\n+    public void testNonEmptySessionKeyNonEmptyInput() throws Exception {\n+        pipe.setSessionKey(\"a\");\n+        session.put(\"a\", \"123\");\n+        PipeRunResult res = doPipe(pipe, \"a\", session);\n+        assertEquals(res.getResult().asString(), \"123\");    }\n+\n+    @Test\n+    public void testNonEmptySessionKeyEmptyInput() throws Exception {\n+            pipe.setSessionKey(\"a\");\n+            session.put(\"a\", \"123\");\n+            PipeRunResult res = pipe.doPipe(null, session);\n+            assertEquals(res.getResult().asString(), \"123\");\n+\n+    }\n+    @Test\n+    public void testEmptySessionKeyEmptyInput() throws Exception {\n+        exception.expect(NullPointerException.class);\n+        pipe.setSessionKey(null);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDI1MTA0MA=="}, "originalCommit": {"oid": "b0007e560af62f49ef0a7b456588d0deacad195d"}, "originalPosition": 58}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4MDM0ODM0OnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/pipes/ReplacerPipeTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMDozOTo0NlrOGaYiQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMTowOToyMVrOGeXECg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDMxODE0NA==", "bodyText": "You've only added tests with setReplaceNonXmlChars set to true?", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r430318144", "createdAt": "2020-05-26T10:39:46Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/ReplacerPipeTest.java", "diffHunk": "@@ -0,0 +1,97 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.configuration.ConfigurationException;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import org.junit.Test;\n+\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.fail;\n+\n+/**\n+ * ReplacerPipe Tester.\n+ *\n+ * @author <Sina Sen>\n+ */\n+public class ReplacerPipeTest extends PipeTestBase<ReplacerPipe>{\n+\n+    @Override\n+    public ReplacerPipe createPipe() {\n+        return new ReplacerPipe();\n+    }\n+\n+\n+    @Test\n+    public void everythingNull() throws Exception {\n+        exception.expect(ConfigurationException.class);\n+        exception.expectMessage(\"cannot have a null replace-attribute\");\n+        pipe.setFind(\"laa\");\n+        pipe.configure();\n+        doPipe(pipe, \"\", session);\n+        fail(\"this is expected to fail\");\n+\n+    }\n+\n+    @Test\n+    public void getFindEmpty() throws Exception {\n+        pipe.setFind(\"\");\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"dsf\", session);\n+        assertFalse(res.getPipeForward().getName().isEmpty());\n+\n+    }\n+\n+    /**\n+     * Method: configure()\n+     */\n+    @Test\n+    public void testConfigureWithSeperator() throws Exception {\n+        pipe.setFind(\"sina/murat/niels\");\n+        pipe.setLineSeparatorSymbol(\"/\");\n+        pipe.setReplace(\"yo\");\n+        pipe.setAllowUnicodeSupplementaryCharacters(true);\n+        pipe.configure();\n+        doPipe(pipe, pipe.getFind(), session);\n+        assertFalse( pipe.getFind().isEmpty());\n+    }\n+\n+    @Test\n+    public void replaceNonXMLChar() throws Exception{\n+        pipe.setFind(\"test\");\n+        pipe.setReplace(\"head\");\n+        pipe.setReplaceNonXmlChar(\"k\");\n+        pipe.setReplaceNonXmlChars(true);\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"<test>lolo</test>/jacjac:)\", session);\n+        assertEquals(\"<head>lolo</head>/jacjac:)\", res.getResult().asString());\n+    }\n+\n+    @Test\n+    public void replaceStringSuccess() throws Exception{\n+        pipe.setFind(\"test\");\n+        pipe.setReplace(\"head\");\n+        pipe.setReplaceNonXmlChars(true);\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"<test>lolo</test>/jacjac:)\", session);\n+        assertEquals(\"<head>lolo</head>/jacjac:)\", res.getResult().asString());\n+    }\n+\n+    @Test\n+    public void replaceNonXMLCharLongerThanOne() throws Exception{\n+        exception.expect(ConfigurationException.class);\n+        exception.expectMessage(\"replaceNonXmlChar [klkl] has to be one character\");\n+        pipe.setFind(\"test\");\n+        pipe.setReplace(\"head\");\n+        pipe.setReplaceNonXmlChar(\"klkl\");\n+        pipe.setReplaceNonXmlChars(true);\n+        pipe.configure();\n+        doPipe(pipe, \"<test>lolo</test>/jacjac:)\", session);\n+        fail(\"this is expected to fail\");\n+    }\n+\n+\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0007e560af62f49ef0a7b456588d0deacad195d"}, "originalPosition": 94}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQ4ODMzMA==", "bodyText": "yes indeed, adding a couple more cases with that method set to false. Thanks for pointing it out.", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r434488330", "createdAt": "2020-06-03T11:09:21Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/ReplacerPipeTest.java", "diffHunk": "@@ -0,0 +1,97 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.configuration.ConfigurationException;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import org.junit.Test;\n+\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+import static org.junit.Assert.fail;\n+\n+/**\n+ * ReplacerPipe Tester.\n+ *\n+ * @author <Sina Sen>\n+ */\n+public class ReplacerPipeTest extends PipeTestBase<ReplacerPipe>{\n+\n+    @Override\n+    public ReplacerPipe createPipe() {\n+        return new ReplacerPipe();\n+    }\n+\n+\n+    @Test\n+    public void everythingNull() throws Exception {\n+        exception.expect(ConfigurationException.class);\n+        exception.expectMessage(\"cannot have a null replace-attribute\");\n+        pipe.setFind(\"laa\");\n+        pipe.configure();\n+        doPipe(pipe, \"\", session);\n+        fail(\"this is expected to fail\");\n+\n+    }\n+\n+    @Test\n+    public void getFindEmpty() throws Exception {\n+        pipe.setFind(\"\");\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"dsf\", session);\n+        assertFalse(res.getPipeForward().getName().isEmpty());\n+\n+    }\n+\n+    /**\n+     * Method: configure()\n+     */\n+    @Test\n+    public void testConfigureWithSeperator() throws Exception {\n+        pipe.setFind(\"sina/murat/niels\");\n+        pipe.setLineSeparatorSymbol(\"/\");\n+        pipe.setReplace(\"yo\");\n+        pipe.setAllowUnicodeSupplementaryCharacters(true);\n+        pipe.configure();\n+        doPipe(pipe, pipe.getFind(), session);\n+        assertFalse( pipe.getFind().isEmpty());\n+    }\n+\n+    @Test\n+    public void replaceNonXMLChar() throws Exception{\n+        pipe.setFind(\"test\");\n+        pipe.setReplace(\"head\");\n+        pipe.setReplaceNonXmlChar(\"k\");\n+        pipe.setReplaceNonXmlChars(true);\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"<test>lolo</test>/jacjac:)\", session);\n+        assertEquals(\"<head>lolo</head>/jacjac:)\", res.getResult().asString());\n+    }\n+\n+    @Test\n+    public void replaceStringSuccess() throws Exception{\n+        pipe.setFind(\"test\");\n+        pipe.setReplace(\"head\");\n+        pipe.setReplaceNonXmlChars(true);\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"<test>lolo</test>/jacjac:)\", session);\n+        assertEquals(\"<head>lolo</head>/jacjac:)\", res.getResult().asString());\n+    }\n+\n+    @Test\n+    public void replaceNonXMLCharLongerThanOne() throws Exception{\n+        exception.expect(ConfigurationException.class);\n+        exception.expectMessage(\"replaceNonXmlChar [klkl] has to be one character\");\n+        pipe.setFind(\"test\");\n+        pipe.setReplace(\"head\");\n+        pipe.setReplaceNonXmlChar(\"klkl\");\n+        pipe.setReplaceNonXmlChars(true);\n+        pipe.configure();\n+        doPipe(pipe, \"<test>lolo</test>/jacjac:)\", session);\n+        fail(\"this is expected to fail\");\n+    }\n+\n+\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDMxODE0NA=="}, "originalCommit": {"oid": "b0007e560af62f49ef0a7b456588d0deacad195d"}, "originalPosition": 94}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4MDM1ODYwOnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/pipes/SkipPipeTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMDo0Mjo0OFrOGaYogg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMjoyNToyOVrOGeZbLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDMxOTc0Ng==", "bodyText": "Try to not test too many things in a single junittest\nIt will be harder to find issues if something might break in the future.\nTypically in a junit test you test the smallest possible bit of code, making sure that the entire code as a whole keeps performing well.", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r430319746", "createdAt": "2020-05-26T10:42:48Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/SkipPipeTest.java", "diffHunk": "@@ -0,0 +1,54 @@\n+package nl.nn.adapterframework.pipes;\n+\n+\n+import nl.nn.adapterframework.core.PipeRunResult;\n+\n+import org.junit.Test;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertNotEquals;\n+\n+\n+/**\n+ * SkipPipe Tester.\n+ *\n+ * @author <Sina Sen>\n+ */\n+public class SkipPipeTest extends PipeTestBase<SkipPipe>{\n+\n+\n+\n+    @Override\n+    public SkipPipe createPipe() {\n+        return new SkipPipe();\n+    }\n+\n+    /**\n+     * Method: setSkip(int skip)\n+     */\n+    @Test\n+    public void testDoPipeSkip3Read2WithString() throws Exception {\n+        pipe.setSkip(3); pipe.setLength(2);\n+        PipeRunResult res = doPipe(pipe, \"0123456\", session);\n+        assertEquals(res.getResult().asString(), \"34\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0007e560af62f49ef0a7b456588d0deacad195d"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUyNzAyMA==", "bodyText": "disected the test into smaller tests", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r434527020", "createdAt": "2020-06-03T12:25:29Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/SkipPipeTest.java", "diffHunk": "@@ -0,0 +1,54 @@\n+package nl.nn.adapterframework.pipes;\n+\n+\n+import nl.nn.adapterframework.core.PipeRunResult;\n+\n+import org.junit.Test;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertNotEquals;\n+\n+\n+/**\n+ * SkipPipe Tester.\n+ *\n+ * @author <Sina Sen>\n+ */\n+public class SkipPipeTest extends PipeTestBase<SkipPipe>{\n+\n+\n+\n+    @Override\n+    public SkipPipe createPipe() {\n+        return new SkipPipe();\n+    }\n+\n+    /**\n+     * Method: setSkip(int skip)\n+     */\n+    @Test\n+    public void testDoPipeSkip3Read2WithString() throws Exception {\n+        pipe.setSkip(3); pipe.setLength(2);\n+        PipeRunResult res = doPipe(pipe, \"0123456\", session);\n+        assertEquals(res.getResult().asString(), \"34\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDMxOTc0Ng=="}, "originalCommit": {"oid": "b0007e560af62f49ef0a7b456588d0deacad195d"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4MDM2NDA2OnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/pipes/Text2XmlPipeTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMDo0NDozN1rOGaYsJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMDo0NDozN1rOGaYsJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDMyMDY3Nw==", "bodyText": "For a test that has no additional properties you set a lot of properties", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r430320677", "createdAt": "2020-05-26T10:44:37Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/Text2XmlPipeTest.java", "diffHunk": "@@ -0,0 +1,91 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.configuration.ConfigurationException;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import org.junit.Test;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+\n+\n+/**\n+ * Text2XmlPipe Tester.\n+ *\n+ * @author <Sina Sen>\n+ */\n+public class Text2XmlPipeTest extends PipeTestBase<Text2XmlPipe> {\n+\n+    @Override\n+    public Text2XmlPipe createPipe() {\n+        return new Text2XmlPipe();\n+    }\n+\n+    /**\n+     * Method: doPipe(Object input, IPipeLineSession session)\n+     */\n+    @Test\n+    public void testSuccessCDataAndReplaceNonXMLSplitLines() throws Exception {\n+        pipe.setXmlTag(\"address\");\n+        pipe.setSplitLines(true);\n+        pipe.setUseCdataSection(true);\n+        pipe.setIncludeXmlDeclaration(true);\n+        pipe.setReplaceNonXmlChars(true);\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"this is an example\\nim in cdata\", session);\n+        assertEquals(\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?><address><line><![CDATA[this is an example]]></line><line><![CDATA[im in cdata]]></line></address>\", res.getResult().asString());\n+    }\n+\n+    @Test\n+    public void testSuccessCDataAndXMLDeclaration() throws Exception {\n+        pipe.setXmlTag(\"address\");\n+        pipe.setSplitLines(false);\n+        pipe.setUseCdataSection(false);\n+        pipe.setIncludeXmlDeclaration(true);\n+        pipe.setReplaceNonXmlChars(true);\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"this is an example\\nim in cdata\", session);\n+        assertEquals(\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?><address>this is an example\\n\" +\n+                \"im in cdata</address>\", res.getResult().asString());\n+    }\n+\n+    @Test\n+    public void testSuccessWithoutAdditionalProperties() throws Exception {\n+        pipe.setXmlTag(\"address\");\n+        pipe.setSplitLines(false);\n+        pipe.setUseCdataSection(false);\n+        pipe.setIncludeXmlDeclaration(true);\n+        pipe.setReplaceNonXmlChars(false);\n+        pipe.configure();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0007e560af62f49ef0a7b456588d0deacad195d"}, "originalPosition": 58}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4MDM2NjY0OnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/pipes/Text2XmlPipeTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxMDo0NToyMFrOGaYtug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMjozNjozN1rOGeZzvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDMyMTA4Mg==", "bodyText": "this is not cdata. See wikipedia for more info", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r430321082", "createdAt": "2020-05-26T10:45:20Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/Text2XmlPipeTest.java", "diffHunk": "@@ -0,0 +1,91 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.configuration.ConfigurationException;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import org.junit.Test;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+\n+\n+/**\n+ * Text2XmlPipe Tester.\n+ *\n+ * @author <Sina Sen>\n+ */\n+public class Text2XmlPipeTest extends PipeTestBase<Text2XmlPipe> {\n+\n+    @Override\n+    public Text2XmlPipe createPipe() {\n+        return new Text2XmlPipe();\n+    }\n+\n+    /**\n+     * Method: doPipe(Object input, IPipeLineSession session)\n+     */\n+    @Test\n+    public void testSuccessCDataAndReplaceNonXMLSplitLines() throws Exception {\n+        pipe.setXmlTag(\"address\");\n+        pipe.setSplitLines(true);\n+        pipe.setUseCdataSection(true);\n+        pipe.setIncludeXmlDeclaration(true);\n+        pipe.setReplaceNonXmlChars(true);\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"this is an example\\nim in cdata\", session);\n+        assertEquals(\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?><address><line><![CDATA[this is an example]]></line><line><![CDATA[im in cdata]]></line></address>\", res.getResult().asString());\n+    }\n+\n+    @Test\n+    public void testSuccessCDataAndXMLDeclaration() throws Exception {\n+        pipe.setXmlTag(\"address\");\n+        pipe.setSplitLines(false);\n+        pipe.setUseCdataSection(false);\n+        pipe.setIncludeXmlDeclaration(true);\n+        pipe.setReplaceNonXmlChars(true);\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"this is an example\\nim in cdata\", session);\n+        assertEquals(\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?><address>this is an example\\n\" +\n+                \"im in cdata</address>\", res.getResult().asString());\n+    }\n+\n+    @Test\n+    public void testSuccessWithoutAdditionalProperties() throws Exception {\n+        pipe.setXmlTag(\"address\");\n+        pipe.setSplitLines(false);\n+        pipe.setUseCdataSection(false);\n+        pipe.setIncludeXmlDeclaration(true);\n+        pipe.setReplaceNonXmlChars(false);\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"this is an example\\nim in cdata\", session);\n+        assertEquals(\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?><address>this is an example\\n\" +\n+                \"im in cdata</address>\", res.getResult().asString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0007e560af62f49ef0a7b456588d0deacad195d"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUzMzMwOA==", "bodyText": "yes, changed it accordingly.", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r434533308", "createdAt": "2020-06-03T12:36:37Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/Text2XmlPipeTest.java", "diffHunk": "@@ -0,0 +1,91 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.configuration.ConfigurationException;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import org.junit.Test;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertFalse;\n+\n+\n+/**\n+ * Text2XmlPipe Tester.\n+ *\n+ * @author <Sina Sen>\n+ */\n+public class Text2XmlPipeTest extends PipeTestBase<Text2XmlPipe> {\n+\n+    @Override\n+    public Text2XmlPipe createPipe() {\n+        return new Text2XmlPipe();\n+    }\n+\n+    /**\n+     * Method: doPipe(Object input, IPipeLineSession session)\n+     */\n+    @Test\n+    public void testSuccessCDataAndReplaceNonXMLSplitLines() throws Exception {\n+        pipe.setXmlTag(\"address\");\n+        pipe.setSplitLines(true);\n+        pipe.setUseCdataSection(true);\n+        pipe.setIncludeXmlDeclaration(true);\n+        pipe.setReplaceNonXmlChars(true);\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"this is an example\\nim in cdata\", session);\n+        assertEquals(\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?><address><line><![CDATA[this is an example]]></line><line><![CDATA[im in cdata]]></line></address>\", res.getResult().asString());\n+    }\n+\n+    @Test\n+    public void testSuccessCDataAndXMLDeclaration() throws Exception {\n+        pipe.setXmlTag(\"address\");\n+        pipe.setSplitLines(false);\n+        pipe.setUseCdataSection(false);\n+        pipe.setIncludeXmlDeclaration(true);\n+        pipe.setReplaceNonXmlChars(true);\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"this is an example\\nim in cdata\", session);\n+        assertEquals(\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?><address>this is an example\\n\" +\n+                \"im in cdata</address>\", res.getResult().asString());\n+    }\n+\n+    @Test\n+    public void testSuccessWithoutAdditionalProperties() throws Exception {\n+        pipe.setXmlTag(\"address\");\n+        pipe.setSplitLines(false);\n+        pipe.setUseCdataSection(false);\n+        pipe.setIncludeXmlDeclaration(true);\n+        pipe.setReplaceNonXmlChars(false);\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"this is an example\\nim in cdata\", session);\n+        assertEquals(\"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?><address>this is an example\\n\" +\n+                \"im in cdata</address>\", res.getResult().asString());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDMyMTA4Mg=="}, "originalCommit": {"oid": "b0007e560af62f49ef0a7b456588d0deacad195d"}, "originalPosition": 61}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNDgyMzcwOnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/pipes/MoveFilePipeTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMjo0OToyNVrOGhH6dw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMDowOTozNlrOGhuLKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzM4NTg0Nw==", "bodyText": "Can you order all the tests according to their @Order annotation?", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r437385847", "createdAt": "2020-06-09T12:49:25Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/MoveFilePipeTest.java", "diffHunk": "@@ -0,0 +1,366 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.configuration.ConfigurationException;\n+import nl.nn.adapterframework.core.IPipeLineSession;\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunException;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.core.PipeStartException;\n+\n+import org.junit.BeforeClass;\n+import org.junit.ClassRule;\n+import org.junit.Test;\n+import org.junit.rules.TemporaryFolder;\n+import org.mockito.Mock;\n+import org.springframework.core.annotation.Order;\n+\n+import java.io.IOException;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.fail;\n+\n+\n+/**\n+ * IfMultipart Tester.\n+ *\n+ * @author <Sina Sen>\n+ */\n+public class MoveFilePipeTest extends PipeTestBase<MoveFilePipe>{\n+\n+    private String pipeForwardThen = \"success\";\n+\n+    @Mock\n+    private IPipeLineSession session = new PipeLineSessionBase();\n+\n+\n+\n+    @ClassRule\n+    public static TemporaryFolder testFolderSource = new TemporaryFolder();\n+\n+    private static String sourceFolderPath;\n+\n+    @ClassRule\n+    public static TemporaryFolder testFolderDest = new TemporaryFolder();;\n+\n+    private static String destFolderPath;\n+\n+    @ClassRule\n+    public static TemporaryFolder testFolderCantDelete = new TemporaryFolder();\n+\n+\n+    private static String cantdeleteFolderPath;\n+\n+    @ClassRule\n+    public static TemporaryFolder testFolderDelete = new TemporaryFolder();\n+\n+    private static String deleteFolderPath;\n+\n+    @Override\n+    public MoveFilePipe createPipe() { return new MoveFilePipe(); }\n+\n+    @BeforeClass\n+    public static void setUpTest() throws IOException {\n+            sourceFolderPath = testFolderSource.getRoot().getPath();\n+            destFolderPath = testFolderDest.getRoot().getPath();\n+            cantdeleteFolderPath = testFolderCantDelete.getRoot().getPath();\n+            deleteFolderPath = testFolderDelete.getRoot().getPath();\n+            testFolderSource.newFile(\"1.txt\"); testFolderSource.newFile(\"2.txt\"); testFolderSource.newFile(\"3.txt\"); testFolderSource.newFile(\"a.md\"); testFolderSource.newFile(\"b.md\"); testFolderSource.newFile(\"sad.lk\"); testFolderSource.newFile(\"notCompatible.txt\");\n+            testFolderSource.newFile(\"createDirectory.txt\"); testFolderSource.newFile(\"cantmove.sc\"); testFolderSource.newFile(\"prefixsuffix.txt\"); testFolderSource.newFile(\"toAppend1.txt\"); testFolderSource.newFile(\"toAppend2.txt\"); testFolderSource.newFile(\"xx.txt\"); testFolderSource.newFile(\"test.txt\");\n+            testFolderDest.newFile(\"cantmove.sc\"); testFolderDest.newFile(\"notcompatible.asd\"); testFolderDest.newFile(\"toBeAppended.txt\"); testFolderCantDelete.newFile(\"deletable.sd\"); testFolderCantDelete.newFile(\"deletionInterrupter.mz\");\n+            testFolderDelete.newFile(\"moveAndDeleteDirectory.txt\");\n+    }\n+\n+\n+\n+    @Test\n+    @Order(12)\n+    public void everythingNull() throws ConfigurationException, PipeStartException, PipeRunException {\n+        exception.expect(ConfigurationException.class);\n+        pipe.setFilename(null);\n+        pipe.configure();\n+        pipe.start();\n+\n+        pipe.doPipe(null, session);\n+\n+        fail(\"this is expected to fail\");\n+    }\n+\n+    @Test\n+    @Order(11)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b6c3bc3cd9e4902b7e3a0787e82b71b7d44ca7f"}, "originalPosition": 89}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODAxMjcxMg==", "bodyText": "done!", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r438012712", "createdAt": "2020-06-10T10:09:36Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/MoveFilePipeTest.java", "diffHunk": "@@ -0,0 +1,366 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.configuration.ConfigurationException;\n+import nl.nn.adapterframework.core.IPipeLineSession;\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunException;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.core.PipeStartException;\n+\n+import org.junit.BeforeClass;\n+import org.junit.ClassRule;\n+import org.junit.Test;\n+import org.junit.rules.TemporaryFolder;\n+import org.mockito.Mock;\n+import org.springframework.core.annotation.Order;\n+\n+import java.io.IOException;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.fail;\n+\n+\n+/**\n+ * IfMultipart Tester.\n+ *\n+ * @author <Sina Sen>\n+ */\n+public class MoveFilePipeTest extends PipeTestBase<MoveFilePipe>{\n+\n+    private String pipeForwardThen = \"success\";\n+\n+    @Mock\n+    private IPipeLineSession session = new PipeLineSessionBase();\n+\n+\n+\n+    @ClassRule\n+    public static TemporaryFolder testFolderSource = new TemporaryFolder();\n+\n+    private static String sourceFolderPath;\n+\n+    @ClassRule\n+    public static TemporaryFolder testFolderDest = new TemporaryFolder();;\n+\n+    private static String destFolderPath;\n+\n+    @ClassRule\n+    public static TemporaryFolder testFolderCantDelete = new TemporaryFolder();\n+\n+\n+    private static String cantdeleteFolderPath;\n+\n+    @ClassRule\n+    public static TemporaryFolder testFolderDelete = new TemporaryFolder();\n+\n+    private static String deleteFolderPath;\n+\n+    @Override\n+    public MoveFilePipe createPipe() { return new MoveFilePipe(); }\n+\n+    @BeforeClass\n+    public static void setUpTest() throws IOException {\n+            sourceFolderPath = testFolderSource.getRoot().getPath();\n+            destFolderPath = testFolderDest.getRoot().getPath();\n+            cantdeleteFolderPath = testFolderCantDelete.getRoot().getPath();\n+            deleteFolderPath = testFolderDelete.getRoot().getPath();\n+            testFolderSource.newFile(\"1.txt\"); testFolderSource.newFile(\"2.txt\"); testFolderSource.newFile(\"3.txt\"); testFolderSource.newFile(\"a.md\"); testFolderSource.newFile(\"b.md\"); testFolderSource.newFile(\"sad.lk\"); testFolderSource.newFile(\"notCompatible.txt\");\n+            testFolderSource.newFile(\"createDirectory.txt\"); testFolderSource.newFile(\"cantmove.sc\"); testFolderSource.newFile(\"prefixsuffix.txt\"); testFolderSource.newFile(\"toAppend1.txt\"); testFolderSource.newFile(\"toAppend2.txt\"); testFolderSource.newFile(\"xx.txt\"); testFolderSource.newFile(\"test.txt\");\n+            testFolderDest.newFile(\"cantmove.sc\"); testFolderDest.newFile(\"notcompatible.asd\"); testFolderDest.newFile(\"toBeAppended.txt\"); testFolderCantDelete.newFile(\"deletable.sd\"); testFolderCantDelete.newFile(\"deletionInterrupter.mz\");\n+            testFolderDelete.newFile(\"moveAndDeleteDirectory.txt\");\n+    }\n+\n+\n+\n+    @Test\n+    @Order(12)\n+    public void everythingNull() throws ConfigurationException, PipeStartException, PipeRunException {\n+        exception.expect(ConfigurationException.class);\n+        pipe.setFilename(null);\n+        pipe.configure();\n+        pipe.start();\n+\n+        pipe.doPipe(null, session);\n+\n+        fail(\"this is expected to fail\");\n+    }\n+\n+    @Test\n+    @Order(11)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzM4NTg0Nw=="}, "originalCommit": {"oid": "7b6c3bc3cd9e4902b7e3a0787e82b71b7d44ca7f"}, "originalPosition": 89}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNDg0MDI4OnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/pipes/PasswordHashPipeTest.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMjo1MzoyNlrOGhIElg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMzowOTo0OVrOGh0A8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzM4ODQzOA==", "bodyText": "This session thing doesn't do anything am I correct?", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r437388438", "createdAt": "2020-06-09T12:53:26Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/PasswordHashPipeTest.java", "diffHunk": "@@ -0,0 +1,67 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.util.PasswordHash;\n+import org.junit.Test;\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertNotEquals;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * PasswordHashPipe Tester.\n+ * @author <Sina>\n+ */\n+public class PasswordHashPipeTest extends PipeTestBase<PasswordHashPipe> {\n+\n+    @Mock\n+    private PipeLineSessionBase session = new PipeLineSessionBase();\n+\n+    @Override\n+    public PasswordHashPipe createPipe() {\n+        return new PasswordHashPipe();\n+    }\n+\n+\n+    /**\n+     * Method: doPipe(Object input, IPipeLineSession session)\n+     */\n+    @Test\n+    public void testHashPipe() throws Exception {\n+        session.put(\"key\", \"3:2342:2342\" );", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b6c3bc3cd9e4902b7e3a0787e82b71b7d44ca7f"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODAxMjY2Mw==", "bodyText": "I tested this class without knowing that I can use PasswordHash class. Now I am going to refactor this test class as a whole.", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r438012663", "createdAt": "2020-06-10T10:09:31Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/PasswordHashPipeTest.java", "diffHunk": "@@ -0,0 +1,67 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.util.PasswordHash;\n+import org.junit.Test;\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertNotEquals;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * PasswordHashPipe Tester.\n+ * @author <Sina>\n+ */\n+public class PasswordHashPipeTest extends PipeTestBase<PasswordHashPipe> {\n+\n+    @Mock\n+    private PipeLineSessionBase session = new PipeLineSessionBase();\n+\n+    @Override\n+    public PasswordHashPipe createPipe() {\n+        return new PasswordHashPipe();\n+    }\n+\n+\n+    /**\n+     * Method: doPipe(Object input, IPipeLineSession session)\n+     */\n+    @Test\n+    public void testHashPipe() throws Exception {\n+        session.put(\"key\", \"3:2342:2342\" );", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzM4ODQzOA=="}, "originalCommit": {"oid": "7b6c3bc3cd9e4902b7e3a0787e82b71b7d44ca7f"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODEwODQwMg==", "bodyText": "Done, what I was trying previously was to mimic the hashes, as I could not recreate the hashes, now that I could recreate them, all test cases are refactored.", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r438108402", "createdAt": "2020-06-10T13:09:49Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/PasswordHashPipeTest.java", "diffHunk": "@@ -0,0 +1,67 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.util.PasswordHash;\n+import org.junit.Test;\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertNotEquals;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * PasswordHashPipe Tester.\n+ * @author <Sina>\n+ */\n+public class PasswordHashPipeTest extends PipeTestBase<PasswordHashPipe> {\n+\n+    @Mock\n+    private PipeLineSessionBase session = new PipeLineSessionBase();\n+\n+    @Override\n+    public PasswordHashPipe createPipe() {\n+        return new PasswordHashPipe();\n+    }\n+\n+\n+    /**\n+     * Method: doPipe(Object input, IPipeLineSession session)\n+     */\n+    @Test\n+    public void testHashPipe() throws Exception {\n+        session.put(\"key\", \"3:2342:2342\" );", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzM4ODQzOA=="}, "originalCommit": {"oid": "7b6c3bc3cd9e4902b7e3a0787e82b71b7d44ca7f"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNDg0MjkxOnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/pipes/PasswordHashPipeTest.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMjo1NDowOFrOGhIGQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMjo1ODoxMlrOGhzi2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzM4ODg2NA==", "bodyText": "I don't understand why the pipeforward equals null, that should never be the case :S what is happening here?", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r437388864", "createdAt": "2020-06-09T12:54:08Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/PasswordHashPipeTest.java", "diffHunk": "@@ -0,0 +1,67 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.util.PasswordHash;\n+import org.junit.Test;\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertNotEquals;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * PasswordHashPipe Tester.\n+ * @author <Sina>\n+ */\n+public class PasswordHashPipeTest extends PipeTestBase<PasswordHashPipe> {\n+\n+    @Mock\n+    private PipeLineSessionBase session = new PipeLineSessionBase();\n+\n+    @Override\n+    public PasswordHashPipe createPipe() {\n+        return new PasswordHashPipe();\n+    }\n+\n+\n+    /**\n+     * Method: doPipe(Object input, IPipeLineSession session)\n+     */\n+    @Test\n+    public void testHashPipe() throws Exception {\n+        session.put(\"key\", \"3:2342:2342\" );\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"password\", session);\n+        assertEquals(\"success\", res.getPipeForward().getName());\n+    }\n+\n+    @Test\n+    public void testValidatePipe() throws Exception {\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"password\", session);\n+        assertTrue(PasswordHash.validatePassword(\"password\", res.getResult().asString()));\n+        assertEquals(\"success\", res.getPipeForward().getName());\n+    }\n+    @Test\n+    public void testValidatePipeFailAsNotTheSame() throws Exception {\n+\n+        session.put(\"key\", \"2:22:22\");\n+        pipe.setHashSessionKey(\"key\");\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"password\", session);\n+        assertEquals(null, res.getPipeForward());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b6c3bc3cd9e4902b7e3a0787e82b71b7d44ca7f"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODAxMjU0OA==", "bodyText": "I tested this class without knowing that I can use PasswordHash class. Now I am going to refactor this test class as a whole.", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r438012548", "createdAt": "2020-06-10T10:09:18Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/PasswordHashPipeTest.java", "diffHunk": "@@ -0,0 +1,67 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.util.PasswordHash;\n+import org.junit.Test;\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertNotEquals;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * PasswordHashPipe Tester.\n+ * @author <Sina>\n+ */\n+public class PasswordHashPipeTest extends PipeTestBase<PasswordHashPipe> {\n+\n+    @Mock\n+    private PipeLineSessionBase session = new PipeLineSessionBase();\n+\n+    @Override\n+    public PasswordHashPipe createPipe() {\n+        return new PasswordHashPipe();\n+    }\n+\n+\n+    /**\n+     * Method: doPipe(Object input, IPipeLineSession session)\n+     */\n+    @Test\n+    public void testHashPipe() throws Exception {\n+        session.put(\"key\", \"3:2342:2342\" );\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"password\", session);\n+        assertEquals(\"success\", res.getPipeForward().getName());\n+    }\n+\n+    @Test\n+    public void testValidatePipe() throws Exception {\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"password\", session);\n+        assertTrue(PasswordHash.validatePassword(\"password\", res.getResult().asString()));\n+        assertEquals(\"success\", res.getPipeForward().getName());\n+    }\n+    @Test\n+    public void testValidatePipeFailAsNotTheSame() throws Exception {\n+\n+        session.put(\"key\", \"2:22:22\");\n+        pipe.setHashSessionKey(\"key\");\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"password\", session);\n+        assertEquals(null, res.getPipeForward());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzM4ODg2NA=="}, "originalCommit": {"oid": "7b6c3bc3cd9e4902b7e3a0787e82b71b7d44ca7f"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODEwMDY5OA==", "bodyText": "Done.", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r438100698", "createdAt": "2020-06-10T12:58:12Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/PasswordHashPipeTest.java", "diffHunk": "@@ -0,0 +1,67 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.util.PasswordHash;\n+import org.junit.Test;\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertNotEquals;\n+import static org.junit.Assert.assertTrue;\n+\n+/**\n+ * PasswordHashPipe Tester.\n+ * @author <Sina>\n+ */\n+public class PasswordHashPipeTest extends PipeTestBase<PasswordHashPipe> {\n+\n+    @Mock\n+    private PipeLineSessionBase session = new PipeLineSessionBase();\n+\n+    @Override\n+    public PasswordHashPipe createPipe() {\n+        return new PasswordHashPipe();\n+    }\n+\n+\n+    /**\n+     * Method: doPipe(Object input, IPipeLineSession session)\n+     */\n+    @Test\n+    public void testHashPipe() throws Exception {\n+        session.put(\"key\", \"3:2342:2342\" );\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"password\", session);\n+        assertEquals(\"success\", res.getPipeForward().getName());\n+    }\n+\n+    @Test\n+    public void testValidatePipe() throws Exception {\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"password\", session);\n+        assertTrue(PasswordHash.validatePassword(\"password\", res.getResult().asString()));\n+        assertEquals(\"success\", res.getPipeForward().getName());\n+    }\n+    @Test\n+    public void testValidatePipeFailAsNotTheSame() throws Exception {\n+\n+        session.put(\"key\", \"2:22:22\");\n+        pipe.setHashSessionKey(\"key\");\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"password\", session);\n+        assertEquals(null, res.getPipeForward());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzM4ODg2NA=="}, "originalCommit": {"oid": "7b6c3bc3cd9e4902b7e3a0787e82b71b7d44ca7f"}, "originalPosition": 53}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcyNTE4NTM3OnYy", "diffSide": "RIGHT", "path": "core/src/test/java/nl/nn/adapterframework/pipes/FixedResultTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMzo1Nzo1NVrOGhLbSQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxMDoyMTozOFrOGhukHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ0MzQwMQ==", "bodyText": "There are a lot of setters/parameters and for all 4 tests, and they are identical?\nThis class has grown out of proportions so I can understand it's difficult to test. Maybe you could create a separate PR for this or at least clean up the test a bit and maybe add some documentation/comments to see what's going on :)", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r437443401", "createdAt": "2020-06-09T13:57:55Z", "author": {"login": "nielsm5"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/FixedResultTest.java", "diffHunk": "@@ -0,0 +1,149 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.IPipeLineSession;\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunException;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.parameters.Parameter;\n+import org.junit.BeforeClass;\n+import org.junit.ClassRule;\n+import org.junit.Test;\n+\n+import org.junit.rules.TemporaryFolder;\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.fail;\n+\n+\n+/**\n+ * FixedResult Tester.\n+ *\n+ * @author <Sina Sen>\n+ */\n+public class FixedResultTest extends PipeTestBase<FixedResult> {\n+\n+    @ClassRule\n+    public static TemporaryFolder testFolderSource = new TemporaryFolder();\n+\n+    private static String sourceFolderPath;\n+    @Mock\n+    private IPipeLineSession session1 = new PipeLineSessionBase();\n+\n+    @Override\n+    public FixedResult createPipe() {\n+        return new FixedResult();\n+    }\n+\n+    @BeforeClass\n+    public static void before() throws Exception {\n+        sourceFolderPath = \"/Pipes/2.txt\";\n+        testFolderSource.newFile(\"2.txt\");\n+\n+    }\n+\n+\n+\n+    /**\n+     * Method: configure()\n+     */\n+    @Test\n+    public void testSuccess() throws Exception {\n+        Parameter param = new Parameter();\n+        param.setName(\"param1\");\n+        param.setValue(\"abs\");\n+        param.setSessionKey(\"*\");\n+        session1.put(\"param1\",\"yarr\");\n+        pipe.addParameter(param);\n+        pipe.setLookupAtRuntime(true);\n+        pipe.setFileName(sourceFolderPath);\n+        pipe.setReplaceFrom(\"param1\");\n+        pipe.setReplaceTo(\"kar\");\n+        pipe.setReturnString(\"${param1}andandandparam2\");\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"whatisthis\", session1);\n+        assertEquals(res.getResult().asString(), \"inside the file\");\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b6c3bc3cd9e4902b7e3a0787e82b71b7d44ca7f"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODAxOTEwMg==", "bodyText": "I copied the identical setters to another seperate method which is called by the other tests. I will  add some comments to the test as well. Do you want me to document the FixedResultPipe as well?", "url": "https://github.com/ibissource/iaf/pull/600#discussion_r438019102", "createdAt": "2020-06-10T10:21:38Z", "author": {"login": "sinasen2000"}, "path": "core/src/test/java/nl/nn/adapterframework/pipes/FixedResultTest.java", "diffHunk": "@@ -0,0 +1,149 @@\n+package nl.nn.adapterframework.pipes;\n+\n+import nl.nn.adapterframework.core.IPipeLineSession;\n+import nl.nn.adapterframework.core.PipeLineSessionBase;\n+import nl.nn.adapterframework.core.PipeRunException;\n+import nl.nn.adapterframework.core.PipeRunResult;\n+import nl.nn.adapterframework.parameters.Parameter;\n+import org.junit.BeforeClass;\n+import org.junit.ClassRule;\n+import org.junit.Test;\n+\n+import org.junit.rules.TemporaryFolder;\n+import org.mockito.Mock;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.fail;\n+\n+\n+/**\n+ * FixedResult Tester.\n+ *\n+ * @author <Sina Sen>\n+ */\n+public class FixedResultTest extends PipeTestBase<FixedResult> {\n+\n+    @ClassRule\n+    public static TemporaryFolder testFolderSource = new TemporaryFolder();\n+\n+    private static String sourceFolderPath;\n+    @Mock\n+    private IPipeLineSession session1 = new PipeLineSessionBase();\n+\n+    @Override\n+    public FixedResult createPipe() {\n+        return new FixedResult();\n+    }\n+\n+    @BeforeClass\n+    public static void before() throws Exception {\n+        sourceFolderPath = \"/Pipes/2.txt\";\n+        testFolderSource.newFile(\"2.txt\");\n+\n+    }\n+\n+\n+\n+    /**\n+     * Method: configure()\n+     */\n+    @Test\n+    public void testSuccess() throws Exception {\n+        Parameter param = new Parameter();\n+        param.setName(\"param1\");\n+        param.setValue(\"abs\");\n+        param.setSessionKey(\"*\");\n+        session1.put(\"param1\",\"yarr\");\n+        pipe.addParameter(param);\n+        pipe.setLookupAtRuntime(true);\n+        pipe.setFileName(sourceFolderPath);\n+        pipe.setReplaceFrom(\"param1\");\n+        pipe.setReplaceTo(\"kar\");\n+        pipe.setReturnString(\"${param1}andandandparam2\");\n+        pipe.configure();\n+        PipeRunResult res = doPipe(pipe, \"whatisthis\", session1);\n+        assertEquals(res.getResult().asString(), \"inside the file\");\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzQ0MzQwMQ=="}, "originalCommit": {"oid": "7b6c3bc3cd9e4902b7e3a0787e82b71b7d44ca7f"}, "originalPosition": 66}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 427, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}