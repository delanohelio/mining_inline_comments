{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA5MDI2MDI2", "number": 1237, "title": "java-backend: support SMTLIB translation for KVar binders", "bodyText": "Support the format [smtlib((forall|exists ((#1 <sort>)) <term>))]. See the test for an example.\nSupport SMTLIB translation for binders of sort KVar.", "createdAt": "2020-04-26T06:17:25Z", "url": "https://github.com/kframework/k/pull/1237", "merged": true, "mergeCommit": {"oid": "0ac45da8d830f5729c952324841c49eb9e0a1302"}, "closed": true, "closedAt": "2020-04-27T22:14:50Z", "author": {"login": "daejunpark"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcbUf7ogH2gAyNDA5MDI2MDI2OjNlOWEzODM2MTkzNTEwNTcwYmRiNmZjMzY4YTljOGU3MDBiNzRlOWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcb2TTsAH2gAyNDA5MDI2MDI2OmUyMGVlZGY3Mzc5NjFmM2QyZTU0YzgwYmYzNDgyNzg5NjQzZmRhZmQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3e9a3836193510570bdb6fc368a9c8e700b74e9a", "author": {"user": {"login": "daejunpark", "name": "Daejun Park"}}, "url": "https://github.com/kframework/k/commit/3e9a3836193510570bdb6fc368a9c8e700b74e9a", "committedDate": "2020-04-26T06:15:01Z", "message": "support smtlib forall"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "edb4b23f0f6142daaa6a0db54fa5d7fb83da2b80", "author": {"user": {"login": "daejunpark", "name": "Daejun Park"}}, "url": "https://github.com/kframework/k/commit/edb4b23f0f6142daaa6a0db54fa5d7fb83da2b80", "committedDate": "2020-04-26T07:06:21Z", "message": "support more generalized format"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "09f2009983160185044173226f7988f06ea56eb3", "author": {"user": {"login": "daejunpark", "name": "Daejun Park"}}, "url": "https://github.com/kframework/k/commit/09f2009983160185044173226f7988f06ea56eb3", "committedDate": "2020-04-26T07:03:21Z", "message": "support more generalized format"}, "afterCommit": {"oid": "edb4b23f0f6142daaa6a0db54fa5d7fb83da2b80", "author": {"user": {"login": "daejunpark", "name": "Daejun Park"}}, "url": "https://github.com/kframework/k/commit/edb4b23f0f6142daaa6a0db54fa5d7fb83da2b80", "committedDate": "2020-04-26T07:06:21Z", "message": "support more generalized format"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwNDg0MTkw", "url": "https://github.com/kframework/k/pull/1237#pullrequestreview-400484190", "createdAt": "2020-04-26T09:56:06Z", "commit": {"oid": "edb4b23f0f6142daaa6a0db54fa5d7fb83da2b80"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNlQwOTo1NjowN1rOGMCEfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNlQwOTo1OTozMVrOGMCHEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTI3MDAxNQ==", "bodyText": "contains() must be used here", "url": "https://github.com/kframework/k/pull/1237#discussion_r415270015", "createdAt": "2020-04-26T09:56:07Z", "author": {"login": "denis-bogdanas"}, "path": "java-backend/src/main/java/org/kframework/backend/java/symbolic/KILtoSMTLib.java", "diffHunk": "@@ -656,6 +676,13 @@ public SMTLibTerm transform(BitVector bitVector) {\n \n     @Override\n     public SMTLibTerm transform(UninterpretedToken uninterpretedToken) {\n+        if (uninterpretedToken.sort() == Sort.KVARIABLE) {\n+            if (binders.search(uninterpretedToken) != -1) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "edb4b23f0f6142daaa6a0db54fa5d7fb83da2b80"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTI3MDY3NA==", "bodyText": "This whole feature is extraordinary error-prone. I'd say a warning must be added here when it is used.", "url": "https://github.com/kframework/k/pull/1237#discussion_r415270674", "createdAt": "2020-04-26T09:59:31Z", "author": {"login": "denis-bogdanas"}, "path": "java-backend/src/main/java/org/kframework/backend/java/symbolic/KILtoSMTLib.java", "diffHunk": "@@ -571,10 +587,14 @@ public SMTLibTerm transform(KItem kItem) {\n         if (label.startsWith(\"(\")) {\n             // smtlib expression instead of operator\n             String expression = label;\n+            boolean hasBinder = recordBinders(label, kList);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "edb4b23f0f6142daaa6a0db54fa5d7fb83da2b80"}, "originalPosition": 48}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwNDg1NTE3", "url": "https://github.com/kframework/k/pull/1237#pullrequestreview-400485517", "createdAt": "2020-04-26T10:10:49Z", "commit": {"oid": "edb4b23f0f6142daaa6a0db54fa5d7fb83da2b80"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNlQxMDoxMDo0OVrOGMCPPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNlQxMDoxMDo0OVrOGMCPPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTI3Mjc2Nw==", "bodyText": "This variable must be renamed. Like smtlibForallOrExistsBinder ? Long names are better than confusing names.", "url": "https://github.com/kframework/k/pull/1237#discussion_r415272767", "createdAt": "2020-04-26T10:10:49Z", "author": {"login": "denis-bogdanas"}, "path": "java-backend/src/main/java/org/kframework/backend/java/symbolic/KILtoSMTLib.java", "diffHunk": "@@ -243,6 +246,7 @@ public static CharSequence translateImplication(\n     private final LinkedHashSet<Variable> variables;\n     private final LinkedHashMap<Term, Variable> termAbstractionMap;\n     private final LinkedHashMap<UninterpretedToken, Integer> tokenEncoding;\n+    private final Stack<Term> binders;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "edb4b23f0f6142daaa6a0db54fa5d7fb83da2b80"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5360668cd76355b05503d1d3d8fe0b3cbaec0d39", "author": {"user": {"login": "daejunpark", "name": "Daejun Park"}}, "url": "https://github.com/kframework/k/commit/5360668cd76355b05503d1d3d8fe0b3cbaec0d39", "committedDate": "2020-04-27T05:11:30Z", "message": "add warning + refactoring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a55441593cabce35b8f150fc9dc5155d3267b97d", "author": {"user": {"login": "daejunpark", "name": "Daejun Park"}}, "url": "https://github.com/kframework/k/commit/a55441593cabce35b8f150fc9dc5155d3267b97d", "committedDate": "2020-04-27T05:21:37Z", "message": "add nested quantifiers test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46f8b9c24eec6106f6fe7b88969e49c7b0fd2a97", "author": {"user": {"login": "daejunpark", "name": "Daejun Park"}}, "url": "https://github.com/kframework/k/commit/46f8b9c24eec6106f6fe7b88969e49c7b0fd2a97", "committedDate": "2020-04-27T11:02:51Z", "message": "more general support for smt translation of binders"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwOTYxMTIw", "url": "https://github.com/kframework/k/pull/1237#pullrequestreview-400961120", "createdAt": "2020-04-27T13:39:48Z", "commit": {"oid": "46f8b9c24eec6106f6fe7b88969e49c7b0fd2a97"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e20eedf737961f3d2e54c80bf3482789643fdafd", "author": {"user": {"login": "daejunpark", "name": "Daejun Park"}}, "url": "https://github.com/kframework/k/commit/e20eedf737961f3d2e54c80bf3482789643fdafd", "committedDate": "2020-04-27T21:38:00Z", "message": "Merge branch 'master' into smtlib-forall"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2474, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}