{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMwNjU3MzM5", "number": 1681, "title": "Warn for rogue syntax in proof module", "bodyText": "Fixes: #1471", "createdAt": "2020-12-02T00:25:23Z", "url": "https://github.com/kframework/k/pull/1681", "merged": true, "mergeCommit": {"oid": "6343e8342b09684696457178572d8fffc29f1dec"}, "closed": true, "closedAt": "2020-12-03T22:49:39Z", "author": {"login": "radumereuta"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdiDZt-AH2gAyNTMwNjU3MzM5OmQyMDYwOGJmMDExYTRlMjYyOTRhMWM2OTY0NWM0YWY2ODkxNGFlMTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdiqvayAFqTU0NDQ5OTY4MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d20608bf011a4e26294a1c69645c4af68914ae19", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/d20608bf011a4e26294a1c69645c4af68914ae19", "committedDate": "2020-12-02T00:28:28Z", "message": "Warn for rogue syntax in proof module\n\nFixes: #1471"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "148d1c34c26765eb09b5e7442e11b09f5dcf4ae1", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/148d1c34c26765eb09b5e7442e11b09f5dcf4ae1", "committedDate": "2020-12-02T00:23:44Z", "message": "Warn for rogue syntax in proof module\n\nFixes: #1471"}, "afterCommit": {"oid": "d20608bf011a4e26294a1c69645c4af68914ae19", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/d20608bf011a4e26294a1c69645c4af68914ae19", "committedDate": "2020-12-02T00:28:28Z", "message": "Warn for rogue syntax in proof module\n\nFixes: #1471"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyOTUzNDg1", "url": "https://github.com/kframework/k/pull/1681#pullrequestreview-542953485", "createdAt": "2020-12-02T15:28:57Z", "commit": {"oid": "d20608bf011a4e26294a1c69645c4af68914ae19"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxNToyODo1N1rOH9geYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxNToyODo1N1rOH9geYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDI1NzI1MQ==", "bodyText": "There isn't some Syntax super-class you can use instead of listing all these out?\n@dwightguth should probably check that this check is being done in the correct place, output looks OK to me.", "url": "https://github.com/kframework/k/pull/1681#discussion_r534257251", "createdAt": "2020-12-02T15:28:57Z", "author": {"login": "ehildenb"}, "path": "kernel/src/main/java/org/kframework/kompile/Kompile.java", "diffHunk": "@@ -313,6 +313,14 @@ public void definitionChecks(Set<Module> modules) {\n \n     // Extra checks just for the prover specification.\n     public Module proverChecks(Module specModule, Module mainDefModule) {\n+        // check rogue syntax in spec module\n+        Set<Sentence> toCheck = mutable(specModule.sentences().$minus$minus(mainDefModule.sentences()));\n+        for (Sentence s : toCheck)\n+            if (s instanceof Production || s instanceof SyntaxSort || s instanceof SyntaxLexical ||\n+                    s instanceof SyntaxPriority || s instanceof SyntaxAssociativity)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d20608bf011a4e26294a1c69645c4af68914ae19"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d074c9047d572d5341feeb00a7a676c50a9c202", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/7d074c9047d572d5341feeb00a7a676c50a9c202", "committedDate": "2020-12-03T20:47:16Z", "message": "Use isSyntax instead of instanceof"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de9f6bf5e3c70270cdbedb1cf595cc875c20f552", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/de9f6bf5e3c70270cdbedb1cf595cc875c20f552", "committedDate": "2020-12-03T20:47:27Z", "message": "Merge branch 'master' into issue1471-proofSyntaxWarning"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0NDk5Njgw", "url": "https://github.com/kframework/k/pull/1681#pullrequestreview-544499680", "createdAt": "2020-12-03T22:18:28Z", "commit": {"oid": "de9f6bf5e3c70270cdbedb1cf595cc875c20f552"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2285, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}