{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzMzkxOTE3", "number": 1661, "title": "Haskell symbolic lookup rule", "bodyText": "Fixes kframework/kore#2247", "createdAt": "2020-11-18T18:34:50Z", "url": "https://github.com/kframework/k/pull/1661", "merged": true, "mergeCommit": {"oid": "39d8802b0fe9010863b7d518d495d16672d79d3e"}, "closed": true, "closedAt": "2021-01-05T17:55:57Z", "author": {"login": "ana-pantilie"}, "timelineItems": {"totalCount": 86, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABddyhbIAH2gAyNTIzMzkxOTE3OjZhNjEyYzNlNzQ4ZGQ3ZTkzYjYzOTQ1ZjBhNDQ3M2Q3MTJiYmYzODQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdtOHCTgH2gAyNTIzMzkxOTE3OjI1N2Q1ZGM2NzcyMTE0MTczMWEwNjY1ZTFjN2VhYWU5ZDM5ZGZlMTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6a612c3e748dd7e93b63945f0a4473d712bbf384", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/6a612c3e748dd7e93b63945f0a4473d712bbf384", "committedDate": "2020-11-18T18:32:48Z", "message": "Add symbolic lookup simplification rule"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bfc1b28f088e0658636981b514c4cf6009652a87", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/bfc1b28f088e0658636981b514c4cf6009652a87", "committedDate": "2020-11-18T18:33:19Z", "message": "Add map-symbolic-tests-haskell"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42cf58378890473413c892f7f68b4e296c527be8", "author": {"user": {"login": "andreiburdusa", "name": "Andrei Burdu\u0219a"}}, "url": "https://github.com/kframework/k/commit/42cf58378890473413c892f7f68b4e296c527be8", "committedDate": "2020-11-19T14:15:22Z", "message": "Rule and \"assignment-\" tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dbf18d941b0a10708889b65e56110a335b1a5ecc", "author": {"user": {"login": "andreiburdusa", "name": "Andrei Burdu\u0219a"}}, "url": "https://github.com/kframework/k/commit/dbf18d941b0a10708889b65e56110a335b1a5ecc", "committedDate": "2020-11-20T11:04:49Z", "message": "Fix rules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d09f68a2d246fee459d7d720181764d7819ecf8", "author": {"user": {"login": "andreiburdusa", "name": "Andrei Burdu\u0219a"}}, "url": "https://github.com/kframework/k/commit/8d09f68a2d246fee459d7d720181764d7819ecf8", "committedDate": "2020-11-20T12:49:48Z", "message": "Some tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e10b69c53023dbe119e5be885b2c1e3f8a1e4088", "author": {"user": {"login": "andreiburdusa", "name": "Andrei Burdu\u0219a"}}, "url": "https://github.com/kframework/k/commit/e10b69c53023dbe119e5be885b2c1e3f8a1e4088", "committedDate": "2020-11-20T12:50:44Z", "message": "Some tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "592eb00fea1322ecf43438626477d3fe05eaa1ef", "author": {"user": {"login": "andreiburdusa", "name": "Andrei Burdu\u0219a"}}, "url": "https://github.com/kframework/k/commit/592eb00fea1322ecf43438626477d3fe05eaa1ef", "committedDate": "2020-11-23T16:01:28Z", "message": "Fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c9bacd813e4fc345a52d0656c589a8fdf591e8f", "author": {"user": {"login": "ttuegel", "name": "Thomas Tuegel"}}, "url": "https://github.com/kframework/k/commit/0c9bacd813e4fc345a52d0656c589a8fdf591e8f", "committedDate": "2020-11-23T17:19:33Z", "message": "map-symbolic-tests-haskell: Update assignment specs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34adc879728f876e639c219941a325fd0b4d78b1", "author": {"user": {"login": "ttuegel", "name": "Thomas Tuegel"}}, "url": "https://github.com/kframework/k/commit/34adc879728f876e639c219941a325fd0b4d78b1", "committedDate": "2020-11-23T17:19:33Z", "message": "domains.md: Add a rule for double Map update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2dd68abbef81c5054e01004dc7039ec91d2d09bb", "author": {"user": {"login": "ttuegel", "name": "Thomas Tuegel"}}, "url": "https://github.com/kframework/k/commit/2dd68abbef81c5054e01004dc7039ec91d2d09bb", "committedDate": "2020-11-23T17:19:33Z", "message": "domains.md: Add a rule for swapping double Map updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73ee70e339be2b89731986b553a4ba7475f86f6c", "author": {"user": {"login": "ttuegel", "name": "Thomas Tuegel"}}, "url": "https://github.com/kframework/k/commit/73ee70e339be2b89731986b553a4ba7475f86f6c", "committedDate": "2020-11-23T17:19:34Z", "message": "map-symbolic-tests-haskell/gen-tests.sh: Update specs unconditionally"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b644a9574609e4bad2df487d7dd12a4370e9591a", "author": {"user": {"login": "andreiburdusa", "name": "Andrei Burdu\u0219a"}}, "url": "https://github.com/kframework/k/commit/b644a9574609e4bad2df487d7dd12a4370e9591a", "committedDate": "2020-11-24T11:19:24Z", "message": "Generate tests for lookup, inkeys, and remove"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "242e45e5959786d47b061477e61dce9ff98d2e3c", "author": {"user": {"login": "andreiburdusa", "name": "Andrei Burdu\u0219a"}}, "url": "https://github.com/kframework/k/commit/242e45e5959786d47b061477e61dce9ff98d2e3c", "committedDate": "2020-11-24T11:20:21Z", "message": "Merge remote-tracking branch 'upstream/master' into haskell-symbolic-MAP.update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "781785807df99c75a22dab87aea62b5aafd67a56", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/781785807df99c75a22dab87aea62b5aafd67a56", "committedDate": "2020-11-24T11:23:04Z", "message": "Generate tests; use old RHS"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3NDAyMDM0", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-537402034", "createdAt": "2020-11-24T11:33:24Z", "commit": {"oid": "781785807df99c75a22dab87aea62b5aafd67a56"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMTozMzoyNFrOH48tuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMTozMzoyNFrOH48tuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTQ3NzA1MQ==", "bodyText": "On the Java backend, the result is\n<k>\n  lookupResult ( false )\n</k>", "url": "https://github.com/kframework/k/pull/1661#discussion_r529477051", "createdAt": "2020-11-24T11:33:24Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/lookup-7-spec.k.out", "diffHunk": "@@ -0,0 +1 @@\n+#Top", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "781785807df99c75a22dab87aea62b5aafd67a56"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3NDA1ODYz", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-537405863", "createdAt": "2020-11-24T11:38:38Z", "commit": {"oid": "781785807df99c75a22dab87aea62b5aafd67a56"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMTozODozOVrOH485uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMTozODozOVrOH485uw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTQ4MDEyMw==", "bodyText": "These tests are missing from the Java backend test suite, even though they exist in the inkeys file.", "url": "https://github.com/kframework/k/pull/1661#discussion_r529480123", "createdAt": "2020-11-24T11:38:39Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/inkeys", "diffHunk": "@@ -0,0 +1,9 @@\n+claim <k> inkeys ( X:MyId in_keys ( .Map  ) ) => . </k>\n+claim <k> inkeys ( Y:MyId in_keys ( M:Map ) ) => . </k> requires Y in_keys(M)\n+claim <k> inkeys ( Y:MyId in_keys ( M:Map ) ) => . </k> requires notBool Y in_keys(M)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "781785807df99c75a22dab87aea62b5aafd67a56"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3NDA2NTY5", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-537406569", "createdAt": "2020-11-24T11:39:38Z", "commit": {"oid": "781785807df99c75a22dab87aea62b5aafd67a56"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMTozOTozOVrOH4876A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMTozOTozOVrOH4876A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTQ4MDY4MA==", "bodyText": "Should this be inkeysResult ( true )?", "url": "https://github.com/kframework/k/pull/1661#discussion_r529480680", "createdAt": "2020-11-24T11:39:39Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/inkeys-2-spec.k.out", "diffHunk": "@@ -0,0 +1,9 @@\n+  <k>\n+    inkeysResult ( Y:MyId in_keys ( M ) ) ~> .", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "781785807df99c75a22dab87aea62b5aafd67a56"}, "originalPosition": 2}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3NDA3Njky", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-537407692", "createdAt": "2020-11-24T11:41:12Z", "commit": {"oid": "781785807df99c75a22dab87aea62b5aafd67a56"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMTo0MToxMlrOH48_Ug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMTo0MToxMlrOH48_Ug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTQ4MTU1NA==", "bodyText": "Should this be inkeysResult ( false )?", "url": "https://github.com/kframework/k/pull/1661#discussion_r529481554", "createdAt": "2020-11-24T11:41:12Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/inkeys-3-spec.k.out", "diffHunk": "@@ -0,0 +1,9 @@\n+  <k>\n+    inkeysResult ( Y:MyId in_keys ( M ) ) ~> .", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "781785807df99c75a22dab87aea62b5aafd67a56"}, "originalPosition": 2}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3NDA4OTI4", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-537408928", "createdAt": "2020-11-24T11:42:59Z", "commit": {"oid": "781785807df99c75a22dab87aea62b5aafd67a56"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMTo0Mjo1OVrOH49DHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMTo0Mjo1OVrOH49DHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTQ4MjUyNA==", "bodyText": "This is the expected output on the Java backend as well, but I don't understand what this really tests. Maybe it would make sense if the expected output is inkeysResult ( false ), and we add X =/=K Y to the requires? I tried this out and it fails, but it's just an idea.", "url": "https://github.com/kframework/k/pull/1661#discussion_r529482524", "createdAt": "2020-11-24T11:42:59Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/inkeys-6-spec.k.out", "diffHunk": "@@ -0,0 +1,16 @@\n+  <k>\n+    inkeysResult ( Y:MyId in_keys ( M\n+    ( X:MyId |-> 0 ) ) ) ~> .", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "781785807df99c75a22dab87aea62b5aafd67a56"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3NDE4Njcz", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-537418673", "createdAt": "2020-11-24T11:56:36Z", "commit": {"oid": "781785807df99c75a22dab87aea62b5aafd67a56"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMTo1NjozNlrOH49hBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMTo1NjozNlrOH49hBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTQ5MDE4MA==", "bodyText": "This is the expected output on the Java backend as well, I don't understand what this tests.", "url": "https://github.com/kframework/k/pull/1661#discussion_r529490180", "createdAt": "2020-11-24T11:56:36Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/inkeys-8-spec.k.out", "diffHunk": "@@ -0,0 +1,23 @@\n+  #Not ( {\n+    X\n+  #Equals\n+    Z\n+  } )\n+#And\n+  <k>\n+    inkeysResult ( Y:MyId in_keys ( M\n+    X:MyId |-> 0\n+    ( Z:MyId |-> 1 ) ) ) ~> .", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "781785807df99c75a22dab87aea62b5aafd67a56"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3NDIzNzE0", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-537423714", "createdAt": "2020-11-24T12:03:09Z", "commit": {"oid": "781785807df99c75a22dab87aea62b5aafd67a56"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMjowMzowOVrOH49wGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMjowMzowOVrOH49wGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTQ5NDA0Mw==", "bodyText": "I can't find this test either.", "url": "https://github.com/kframework/k/pull/1661#discussion_r529494043", "createdAt": "2020-11-24T12:03:09Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/inkeys", "diffHunk": "@@ -0,0 +1,9 @@\n+claim <k> inkeys ( X:MyId in_keys ( .Map  ) ) => . </k>\n+claim <k> inkeys ( Y:MyId in_keys ( M:Map ) ) => . </k> requires Y in_keys(M)\n+claim <k> inkeys ( Y:MyId in_keys ( M:Map ) ) => . </k> requires notBool Y in_keys(M)\n+claim <k> inkeys ( X:MyId in_keys ( M:Map X      |-> 0 ) ) => . </k>\n+claim <k> inkeys ( Y:MyId in_keys ( M:Map X:MyId |-> 0 ) ) => . </k>\n+claim <k> inkeys ( Y:MyId in_keys ( M:Map X:MyId |-> 0 ) ) => . </k> requires notBool Y in_keys(M)\n+claim <k> inkeys ( X:MyId in_keys ( Z:MyId |-> 1 M:Map X      |-> 0 ) ) => . </k>\n+claim <k> inkeys ( Y:MyId in_keys ( Z:MyId |-> 1 M:Map X:MyId |-> 0 ) ) => . </k>\n+claim <k> inkeys ( Y:MyId in_keys ( Z:MyId |-> 1 M:Map X:MyId |-> 0 ) ) => . </k> requires notBool Y in_keys(M)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "781785807df99c75a22dab87aea62b5aafd67a56"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a224045a78841291aefc921878ba3147b018e02d", "author": {"user": {"login": "andreiburdusa", "name": "Andrei Burdu\u0219a"}}, "url": "https://github.com/kframework/k/commit/a224045a78841291aefc921878ba3147b018e02d", "committedDate": "2020-11-25T16:06:38Z", "message": "Add remove-8 and remove-12"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75889d89ee078c4218154dfc24a994e087fddba5", "author": {"user": {"login": "andreiburdusa", "name": "Andrei Burdu\u0219a"}}, "url": "https://github.com/kframework/k/commit/75889d89ee078c4218154dfc24a994e087fddba5", "committedDate": "2020-11-26T18:02:10Z", "message": "Remove lookup tests since Ana is working on them"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3a2838c2d23dd88529f7dbd3bc15b83efcb7c3b", "author": {"user": {"login": "andreiburdusa", "name": "Andrei Burdu\u0219a"}}, "url": "https://github.com/kframework/k/commit/b3a2838c2d23dd88529f7dbd3bc15b83efcb7c3b", "committedDate": "2020-11-27T14:17:19Z", "message": "Add rules to make tests pass"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2bcdbf3b86bb9f09b216df2202de6831185f9c0", "author": {"user": {"login": "andreiburdusa", "name": "Andrei Burdu\u0219a"}}, "url": "https://github.com/kframework/k/commit/b2bcdbf3b86bb9f09b216df2202de6831185f9c0", "committedDate": "2020-11-27T14:17:49Z", "message": "Merge remote-tracking branch 'upstream/master' into haskell-symbolic-MAP.update"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64963418d133990e1eb00984b5e606849d141543", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/64963418d133990e1eb00984b5e606849d141543", "committedDate": "2020-11-27T19:07:27Z", "message": "Use fail; regenerate all tests with expected RHS; move failing to failing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de869f9137f46c5c6ab067e1a473ebcd78fdcf3d", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/de869f9137f46c5c6ab067e1a473ebcd78fdcf3d", "committedDate": "2020-12-02T04:04:20Z", "message": "Merge remote-tracking branch 'andrei-burdusa/haskell-symbolic-MAP.update' into haskell-symbolic-lookup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc53346536111059b85a7fd3fd754a24fbe941c9", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/dc53346536111059b85a7fd3fd754a24fbe941c9", "committedDate": "2020-12-02T13:40:25Z", "message": "Revert change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd909f6ebf34827e2e57726870a0ba8d10055035", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/dd909f6ebf34827e2e57726870a0ba8d10055035", "committedDate": "2020-12-02T13:41:01Z", "message": "Add previously failing tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "742dc4a6aa3de74f48c364ccaf021ebb01bc6d00", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/742dc4a6aa3de74f48c364ccaf021ebb01bc6d00", "committedDate": "2020-12-02T14:28:24Z", "message": "Add simplification rule; new test results"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "49f648c8b88d30f264ad7a4ce65adfce6ad9a856", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/49f648c8b88d30f264ad7a4ce65adfce6ad9a856", "committedDate": "2020-12-02T22:15:08Z", "message": "Add simplification rule; modify tests outputs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d54b9e133feae36a5fce0080973c74804dd43181", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/d54b9e133feae36a5fce0080973c74804dd43181", "committedDate": "2020-12-03T16:59:41Z", "message": "Add lookup simplification rules; update tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9982ce6c03aa8500ba2fdac53855965103d31ddb", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/9982ce6c03aa8500ba2fdac53855965103d31ddb", "committedDate": "2020-12-03T19:16:22Z", "message": "Remove old failing directory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a4981d6f381772e8ca3f5c2b9b9ed2e0aef4b57", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/8a4981d6f381772e8ca3f5c2b9b9ed2e0aef4b57", "committedDate": "2020-12-04T09:08:11Z", "message": "All Java tests; failing states; regenerate"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5deab3b6a89b28cf1b98cb1fffbfc8915ec46e60", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/5deab3b6a89b28cf1b98cb1fffbfc8915ec46e60", "committedDate": "2020-12-04T09:47:30Z", "message": "Fix assignment-18"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0ODA4ODk0", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-544808894", "createdAt": "2020-12-04T09:54:12Z", "commit": {"oid": "8a4981d6f381772e8ca3f5c2b9b9ed2e0aef4b57"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQwOTo1NDoxMlrOH_JTGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQwOTo1NDoxMlrOH_JTGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTk3NDY4Mw==", "bodyText": "I think this gets simplified correctly.\nOn the Java backend, though, the expected result is:\n<k>\n  assignmentResult ( 1 |-> 4\n  ( ( X |-> 3 ) [ 0 <- 5 ] ) )\n</k>\n\nIt's also in the failing directory. So I don't know what to make of this test.", "url": "https://github.com/kframework/k/pull/1661#discussion_r535974683", "createdAt": "2020-12-04T09:54:12Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/assignment-26-spec.k.out", "diffHunk": "@@ -0,0 +1,5 @@\n+<k>\n+  assignmentResult ( 0 |-> 5\n+  1 |-> 4\n+  X:MyId |-> 3 ) ~> .\n+</k>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a4981d6f381772e8ca3f5c2b9b9ed2e0aef4b57"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "207d2e818bbd4ed127ad529974604cae772c6d35", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/207d2e818bbd4ed127ad529974604cae772c6d35", "committedDate": "2020-12-04T10:02:01Z", "message": "Fix assigment-29"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4e663c209352a6136ab3f39b17bf61ebbc79a01", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/e4e663c209352a6136ab3f39b17bf61ebbc79a01", "committedDate": "2020-12-04T10:07:01Z", "message": "Fix assignment-5"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0ODI1ODY0", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-544825864", "createdAt": "2020-12-04T10:15:55Z", "commit": {"oid": "8a4981d6f381772e8ca3f5c2b9b9ed2e0aef4b57"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDoxNTo1NlrOH_KJjg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDoxNTo1NlrOH_KJjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTk4ODYyMg==", "bodyText": "The expected Java result is:\n<k>\n  removeResult ( ( MAP\n  X |-> 1 ) [ Y <- undef ] [ Z ] )\n</k>\n\nSince Z =/=K X, I think the Haskell backend result (removeResult ( MAP [ Y:MyId <- undef ] [ Z:MyId ] )) is correct.", "url": "https://github.com/kframework/k/pull/1661#discussion_r535988622", "createdAt": "2020-12-04T10:15:56Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/remove-6-spec.k.out", "diffHunk": "@@ -0,0 +1,41 @@\n+  #Not ( {\n+    X\n+  #Equals\n+    Y\n+  } )\n+#And\n+  #Not ( {\n+    X\n+  #Equals\n+    Z\n+  } )\n+#And\n+  <k>\n+    removeResult ( MAP [ Y:MyId <- undef ] [ Z:MyId ] ~> . ) ~> .", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a4981d6f381772e8ca3f5c2b9b9ed2e0aef4b57"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0ODI4ODUw", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-544828850", "createdAt": "2020-12-04T10:19:55Z", "commit": {"oid": "8a4981d6f381772e8ca3f5c2b9b9ed2e0aef4b57"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDoxOTo1NVrOH_KTjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDoxOTo1NVrOH_KTjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTk5MTE4Mw==", "bodyText": "I think this is similar to remove-6.", "url": "https://github.com/kframework/k/pull/1661#discussion_r535991183", "createdAt": "2020-12-04T10:19:55Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/remove-9-spec.k.out", "diffHunk": "@@ -0,0 +1,47 @@\n+  #Not ( {\n+    X\n+  #Equals\n+    Y\n+  } )\n+#And\n+  #Not ( {\n+    X\n+  #Equals\n+    Z\n+  } )\n+#And\n+  #Not ( {\n+    Y\n+  #Equals\n+    Z\n+  } )\n+#And\n+  <k>\n+    removeResult ( MAP [ Y:MyId <- undef ] [ Z:MyId ] ~> . ) ~> .", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a4981d6f381772e8ca3f5c2b9b9ed2e0aef4b57"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0ODM1Njc2", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-544835676", "createdAt": "2020-12-04T10:29:10Z", "commit": {"oid": "8a4981d6f381772e8ca3f5c2b9b9ed2e0aef4b57"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDoyOToxMFrOH_Kp_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDoyOToxMFrOH_Kp_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTk5NjkyNA==", "bodyText": "This does not fail on the Java backend.", "url": "https://github.com/kframework/k/pull/1661#discussion_r535996924", "createdAt": "2020-12-04T10:29:10Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/assignment-13-spec.k.out", "diffHunk": "@@ -0,0 +1,24 @@\n+  #Not ( {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a4981d6f381772e8ca3f5c2b9b9ed2e0aef4b57"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0ODM2NDUy", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-544836452", "createdAt": "2020-12-04T10:30:12Z", "commit": {"oid": "8a4981d6f381772e8ca3f5c2b9b9ed2e0aef4b57"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDozMDoxM1rOH_KsqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDozMDoxM1rOH_KsqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTk5NzYwOQ==", "bodyText": "This does not fail on the Java backend.", "url": "https://github.com/kframework/k/pull/1661#discussion_r535997609", "createdAt": "2020-12-04T10:30:13Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/assignment-20-spec.k.out", "diffHunk": "@@ -0,0 +1,24 @@\n+  #Not ( {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a4981d6f381772e8ca3f5c2b9b9ed2e0aef4b57"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0ODM3MDU1", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-544837055", "createdAt": "2020-12-04T10:31:04Z", "commit": {"oid": "e4e663c209352a6136ab3f39b17bf61ebbc79a01"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDozMTowNVrOH_KuhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDozMTowNVrOH_KuhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTk5ODA4NQ==", "bodyText": "This fails on the Java backend as well.", "url": "https://github.com/kframework/k/pull/1661#discussion_r535998085", "createdAt": "2020-12-04T10:31:05Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/assignment-11-spec.k.out", "diffHunk": "@@ -0,0 +1,51 @@\n+  #Not ( {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4e663c209352a6136ab3f39b17bf61ebbc79a01"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0ODM3MjU2", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-544837256", "createdAt": "2020-12-04T10:31:22Z", "commit": {"oid": "e4e663c209352a6136ab3f39b17bf61ebbc79a01"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDozMToyMlrOH_KvRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDozMToyMlrOH_KvRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTk5ODI3Ng==", "bodyText": "This fails on the Java backend as well.", "url": "https://github.com/kframework/k/pull/1661#discussion_r535998276", "createdAt": "2020-12-04T10:31:22Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/assignment-12-spec.k.out", "diffHunk": "@@ -0,0 +1,24 @@\n+  #Not ( {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4e663c209352a6136ab3f39b17bf61ebbc79a01"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0ODQwMDk2", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-544840096", "createdAt": "2020-12-04T10:35:11Z", "commit": {"oid": "e4e663c209352a6136ab3f39b17bf61ebbc79a01"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDozNToxMVrOH_K4sg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDozNToxMVrOH_K4sg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjAwMDY5MA==", "bodyText": "If I'm not mistaken, we already discussed that we can't support this at the moment, so it will go to failing.", "url": "https://github.com/kframework/k/pull/1661#discussion_r536000690", "createdAt": "2020-12-04T10:35:11Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/inkeys-10-spec.k.out", "diffHunk": "@@ -0,0 +1,37 @@\n+  #Not ( {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4e663c209352a6136ab3f39b17bf61ebbc79a01"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0ODQwMTg4", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-544840188", "createdAt": "2020-12-04T10:35:20Z", "commit": {"oid": "e4e663c209352a6136ab3f39b17bf61ebbc79a01"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDozNToyMFrOH_K5Dg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDozNToyMFrOH_K5Dg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjAwMDc4Mg==", "bodyText": "If I'm not mistaken, we already discussed that we can't support this at the moment, so it will go to failing.", "url": "https://github.com/kframework/k/pull/1661#discussion_r536000782", "createdAt": "2020-12-04T10:35:20Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/inkeys-11-spec.k.out", "diffHunk": "@@ -0,0 +1,38 @@\n+  #Not ( {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4e663c209352a6136ab3f39b17bf61ebbc79a01"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0ODQxMTQ2", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-544841146", "createdAt": "2020-12-04T10:36:42Z", "commit": {"oid": "e4e663c209352a6136ab3f39b17bf61ebbc79a01"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDozNjo0MlrOH_K8fw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDozNjo0MlrOH_K8fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjAwMTY2Mw==", "bodyText": "If I'm not mistaken, we already discussed that we can't support this at the moment, so it will go to failing.", "url": "https://github.com/kframework/k/pull/1661#discussion_r536001663", "createdAt": "2020-12-04T10:36:42Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/inkeys-6-spec.k.out", "diffHunk": "@@ -0,0 +1,23 @@\n+  #Not ( {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4e663c209352a6136ab3f39b17bf61ebbc79a01"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0ODQyNzA1", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-544842705", "createdAt": "2020-12-04T10:38:53Z", "commit": {"oid": "e4e663c209352a6136ab3f39b17bf61ebbc79a01"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDozODo1M1rOH_LBvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDozODo1M1rOH_LBvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjAwMzAwNQ==", "bodyText": "This does not fail on the Java backend.", "url": "https://github.com/kframework/k/pull/1661#discussion_r536003005", "createdAt": "2020-12-04T10:38:53Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/lookup-5-spec.k.out", "diffHunk": "@@ -0,0 +1,38 @@\n+  #Not ( {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4e663c209352a6136ab3f39b17bf61ebbc79a01"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0ODQzMTI0", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-544843124", "createdAt": "2020-12-04T10:39:28Z", "commit": {"oid": "e4e663c209352a6136ab3f39b17bf61ebbc79a01"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDozOToyOFrOH_LDMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDozOToyOFrOH_LDMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjAwMzM3OQ==", "bodyText": "This does not fail on the Java backend.", "url": "https://github.com/kframework/k/pull/1661#discussion_r536003379", "createdAt": "2020-12-04T10:39:28Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/lookup-6-spec.k.out", "diffHunk": "@@ -0,0 +1,42 @@\n+  #Not ( {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4e663c209352a6136ab3f39b17bf61ebbc79a01"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0ODQzNDQ5", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-544843449", "createdAt": "2020-12-04T10:39:57Z", "commit": {"oid": "e4e663c209352a6136ab3f39b17bf61ebbc79a01"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDozOTo1N1rOH_LEQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDozOTo1N1rOH_LEQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjAwMzY1MQ==", "bodyText": "This does not fail on the Java backend.", "url": "https://github.com/kframework/k/pull/1661#discussion_r536003651", "createdAt": "2020-12-04T10:39:57Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/lookup-7-spec.k.out", "diffHunk": "@@ -0,0 +1,44 @@\n+  #Not ( {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4e663c209352a6136ab3f39b17bf61ebbc79a01"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7735052eb2d17c2a39e2897d157e432ed139bd7e", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/7735052eb2d17c2a39e2897d157e432ed139bd7e", "committedDate": "2020-12-04T12:31:15Z", "message": "Add new update rule, remove rule, regenerate tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0OTE4ODQ3", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-544918847", "createdAt": "2020-12-04T12:33:00Z", "commit": {"oid": "7735052eb2d17c2a39e2897d157e432ed139bd7e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMjozMzowMFrOH_O75Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMjozMzowMFrOH_O75Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjA2NzA0NQ==", "bodyText": "After adding the rule at 419 (in 7735052), assignment-15 would loop if I kept 418 as well.", "url": "https://github.com/kframework/k/pull/1661#discussion_r536067045", "createdAt": "2020-12-04T12:33:00Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/include/kframework/builtin/domains.md", "diffHunk": "@@ -407,9 +407,34 @@ endmodule\n \n module MAP-KORE-SYMBOLIC [kore,symbolic]\n   imports MAP\n+  imports K-EQUAL\n \n    rule #Ceil(@M:Map [@K:KItem]) => {(@K in_keys(@M)) #Equals true} #And #Ceil(@M) #And #Ceil(@K) [anywhere, simplification]\n \n+   // Symbolic update\n+   rule (K |-> _ M:Map) [ K <- V ] => (K |-> V M) [simplification]\n+   rule M:Map [ K <- V ] => (K |-> V M) requires notBool (K in_keys(M)) [simplification]\n+   rule M:Map [ K <- _ ] [ K <- V ] => M [ K <- V ] [simplification]\n+   // rule M:Map [ K1 <- V1 ] [ K2 <- V2 ] => M [ K2 <- V2 ] [ K1 <- V1 ] requires K1 =/=K K2 andBool K2 in_keys(M) [simplification]\n+   rule (K1 |-> V1 M:Map) [ K2 <- V2 ] => (K1 |-> V1 (M [ K2 <- V2 ])) requires K1 =/=K K2 [simplification]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7735052eb2d17c2a39e2897d157e432ed139bd7e"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28fa09b4fc21f1de4c97ab8eed5b67b3f1835cab", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/28fa09b4fc21f1de4c97ab8eed5b67b3f1835cab", "committedDate": "2020-12-04T12:41:56Z", "message": "Remove accidentally added archive"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21842fa41f664176ab0a1a93b77708380f3cc51c", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/21842fa41f664176ab0a1a93b77708380f3cc51c", "committedDate": "2020-12-04T12:43:29Z", "message": "Fix assignment-10 output"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0OTI5MTAw", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-544929100", "createdAt": "2020-12-04T12:48:11Z", "commit": {"oid": "21842fa41f664176ab0a1a93b77708380f3cc51c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMjo0ODoxMVrOH_Pdnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMjo0ODoxMVrOH_Pdnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjA3NTY3OQ==", "bodyText": "This is consistent with the Java backend result, meaning that [ Y <- 2] appears before X |-> 1. I believe this is a consequence of adding the simplification rule from 419 in domains.k (7735052). There are other tests with the same behavior. I believe that this rule application would only be visible (checked) in the test if we kept the RHS as fail. Edit: we decided on using . on the RHS for all the claims.", "url": "https://github.com/kframework/k/pull/1661#discussion_r536075679", "createdAt": "2020-12-04T12:48:11Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/assignment-10-spec.k.out", "diffHunk": "@@ -0,0 +1,28 @@\n+  #Not ( {\n+    X\n+  #Equals\n+    Y\n+  } )\n+#And\n+  #Not ( {\n+    Y\n+  #Equals\n+    Z\n+  } )\n+#And\n+  <k>\n+    assignmentResult ( ( MAP [ Y:MyId <- 2 ]\n+    X:MyId |-> 1 ) [ Z:MyId <- 3 ] ) ~> .\n+  </k>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21842fa41f664176ab0a1a93b77708380f3cc51c"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1MDQ3NDU5", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-545047459", "createdAt": "2020-12-04T15:16:13Z", "commit": {"oid": "21842fa41f664176ab0a1a93b77708380f3cc51c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxNToxNjoxM1rOH_VUlA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxNToxNjoxM1rOH_VUlA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjE3MTY2OA==", "bodyText": "If this passes all the tests, I think we can go ahead and delete this rule.", "url": "https://github.com/kframework/k/pull/1661#discussion_r536171668", "createdAt": "2020-12-04T15:16:13Z", "author": {"login": "ttuegel"}, "path": "k-distribution/include/kframework/builtin/domains.md", "diffHunk": "@@ -407,9 +407,34 @@ endmodule\n \n module MAP-KORE-SYMBOLIC [kore,symbolic]\n   imports MAP\n+  imports K-EQUAL\n \n    rule #Ceil(@M:Map [@K:KItem]) => {(@K in_keys(@M)) #Equals true} #And #Ceil(@M) #And #Ceil(@K) [anywhere, simplification]\n \n+   // Symbolic update\n+   rule (K |-> _ M:Map) [ K <- V ] => (K |-> V M) [simplification]\n+   rule M:Map [ K <- V ] => (K |-> V M) requires notBool (K in_keys(M)) [simplification]\n+   rule M:Map [ K <- _ ] [ K <- V ] => M [ K <- V ] [simplification]\n+   // rule M:Map [ K1 <- V1 ] [ K2 <- V2 ] => M [ K2 <- V2 ] [ K1 <- V1 ] requires K1 =/=K K2 andBool K2 in_keys(M) [simplification]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21842fa41f664176ab0a1a93b77708380f3cc51c"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/c6b95d30ceb02decb4c6ec72ce35d651e09992c8", "committedDate": "2020-12-05T13:21:50Z", "message": "Revert tests to use . on RHS; regenerate"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1NTg5Nzc0", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-545589774", "createdAt": "2020-12-05T14:05:36Z", "commit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNDowNTozNlrOH_6YZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNDowNTozNlrOH_6YZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjc3ODg1Mw==", "bodyText": "Should this be -Int 30 instead?", "url": "https://github.com/kframework/k/pull/1661#discussion_r536778853", "createdAt": "2020-12-05T14:05:36Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/assignment-29-spec.k.out", "diffHunk": "@@ -1 +1,23 @@\n-#Top\n+  #Not ( {\n+    X\n+  #Equals\n+    Y\n+  } )\n+#And\n+  <k>\n+    assignmentResult ( MAP\n+    X:MyId |-> BAL_TO:Int\n+    Y:MyId |-> BAL_FROM +Int -30 ) ~> .", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1NTg5Nzg5", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-545589789", "createdAt": "2020-12-05T14:05:56Z", "commit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNDowNTo1NlrOH_6Y8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNDowNTo1NlrOH_6Y8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjc3ODk5NA==", "bodyText": "Should this be -Int 30 instead?", "url": "https://github.com/kframework/k/pull/1661#discussion_r536778994", "createdAt": "2020-12-05T14:05:56Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/assignment-30-spec.k.out", "diffHunk": "@@ -1 +1,23 @@\n-#Top\n+  #Not ( {\n+    X\n+  #Equals\n+    Y\n+  } )\n+#And\n+  <k>\n+    assignmentResult ( MAP\n+    foo ( X ) |-> BAL_TO:Int\n+    foo ( Y ) |-> BAL_FROM +Int -30 ) ~> .", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1NTg5ODE4", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-545589818", "createdAt": "2020-12-05T14:06:22Z", "commit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNDowNjoyMlrOH_6ZfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNDowNjoyMlrOH_6ZfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjc3OTEzMw==", "bodyText": "Should this be -Int 30 instead?", "url": "https://github.com/kframework/k/pull/1661#discussion_r536779133", "createdAt": "2020-12-05T14:06:22Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/assignment-31-spec.k.out", "diffHunk": "@@ -1 +1,23 @@\n-#Top\n+  #Not ( {\n+    X\n+  #Equals\n+    Y\n+  } )\n+#And\n+  <k>\n+    assignmentResult ( MAP\n+    foo ( X ) |-> BAL_TO:Int\n+    foo ( Y ) |-> BAL_FROM +Int -30 ) ~> .", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1NTg5OTk1", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-545589995", "createdAt": "2020-12-05T14:09:24Z", "commit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNDowOToyNFrOH_6e0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNDowOToyNFrOH_6e0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjc4MDQ5Nw==", "bodyText": "Why doesn't this get simplified further?", "url": "https://github.com/kframework/k/pull/1661#discussion_r536780497", "createdAt": "2020-12-05T14:09:24Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/inkeys-2-spec.k.out", "diffHunk": "@@ -1 +1,9 @@\n-#Top\n+  <k>\n+    inkeysResult ( Y:MyId in_keys ( M ) ) ~> .", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1NTkwMDE3", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-545590017", "createdAt": "2020-12-05T14:09:44Z", "commit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNDowOTo0NFrOH_6fjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNDowOTo0NFrOH_6fjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjc4MDY4NQ==", "bodyText": "Why doesn't this get simplified further?", "url": "https://github.com/kframework/k/pull/1661#discussion_r536780685", "createdAt": "2020-12-05T14:09:44Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/inkeys-3-spec.k.out", "diffHunk": "@@ -1 +1,9 @@\n-#Top\n+  <k>\n+    inkeysResult ( Y:MyId in_keys ( M ) ) ~> .", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1NTkwNTQ3", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-545590547", "createdAt": "2020-12-05T14:17:32Z", "commit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNDoxNzozM1rOH_6t9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNDoxNzozM1rOH_6t9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjc4NDM3NQ==", "bodyText": "Why doesn't this get simplified any further? I think this is correct, actually.", "url": "https://github.com/kframework/k/pull/1661#discussion_r536784375", "createdAt": "2020-12-05T14:17:33Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/lookup-23-spec.k.out", "diffHunk": "@@ -1 +1,16 @@\n-#Top\n+  #Not ( {\n+    X\n+  #Equals\n+    y\n+  } )\n+#And\n+  <k>\n+    lookupResult ( ( X:MyId |-> 3 ) [ x <- 5 ] [ X:MyId ] ~> . ) ~> .", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1NTkwNjc1", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-545590675", "createdAt": "2020-12-05T14:19:32Z", "commit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNDoxOTozMlrOH_6xmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNDoxOTozMlrOH_6xmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjc4NTMwNQ==", "bodyText": "I think this is actually the correct result, since Y =/=K Z.", "url": "https://github.com/kframework/k/pull/1661#discussion_r536785305", "createdAt": "2020-12-05T14:19:32Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/lookup-9-spec.k.out", "diffHunk": "@@ -1 +1,47 @@\n-#Top\n+  #Not ( {\n+    X\n+  #Equals\n+    Y\n+  } )\n+#And\n+  #Not ( {\n+    X\n+  #Equals\n+    Z\n+  } )\n+#And\n+  #Not ( {\n+    Y\n+  #Equals\n+    Z\n+  } )\n+#And\n+  <k>\n+    lookupResult ( MAP [ Z:MyId ] ~> . ) ~> .", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1NTkwODE2", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-545590816", "createdAt": "2020-12-05T14:22:03Z", "commit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNDoyMjowM1rOH_62Hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNDoyMjowM1rOH_62Hg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjc4NjQ2Mg==", "bodyText": "I think this is actually the correct result, since X =/=K y.", "url": "https://github.com/kframework/k/pull/1661#discussion_r536786462", "createdAt": "2020-12-05T14:22:03Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/remove-17-spec.k.out", "diffHunk": "@@ -1 +1,28 @@\n-#Top\n+  #Not ( {\n+    X\n+  #Equals\n+    y\n+  } )\n+#And\n+  <k>\n+    removeResult ( ( X:MyId |-> 3 ) [ x <- undef ] [ X:MyId ] ~> . ) ~> .", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ1NTkxMzI4", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-545591328", "createdAt": "2020-12-05T14:29:55Z", "commit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNDoyOTo1NVrOH_7D3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNVQxNDoyOTo1NVrOH_7D3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjc4OTk4Mg==", "bodyText": "The output is still #Top here, and I'm not sure if this is right.", "url": "https://github.com/kframework/k/pull/1661#discussion_r536789982", "createdAt": "2020-12-05T14:29:55Z", "author": {"login": "ana-pantilie"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/remove-2-spec.k", "diffHunk": "@@ -6,6 +6,6 @@ requires \"map-tests.k\"\n module REMOVE-2-SPEC\n     imports MAP-TESTS\n \n-    claim <k> remove ( (MAP:Map X:MyId |-> 1) [Y:MyId <- undef] [ Z:MyId ] ) => removeResult ( MAP [ Z ] ) </k> requires Y ==K X andBool Z  ==K Y andBool Z  ==K X\n+    claim <k> remove ( (MAP:Map X:MyId |-> 1) [Y:MyId <- undef] [ Z:MyId ] ) => . </k> requires Y ==K X andBool Z  ==K Y andBool Z  ==K X", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8679fd4c64dc0a9a35342ef4a9715622c85cfcfc", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/8679fd4c64dc0a9a35342ef4a9715622c85cfcfc", "committedDate": "2020-12-08T10:34:35Z", "message": "Clean-up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88fff3f18e5031a9f16a9dede252347f184d5854", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/88fff3f18e5031a9f16a9dede252347f184d5854", "committedDate": "2020-12-08T10:35:12Z", "message": "Remove inkeys2 inkeys3, regenerate"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3MTU2NTI0", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-547156524", "createdAt": "2020-12-08T11:44:25Z", "commit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMTo0NDoyNlrOIBVfrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMTo0NDoyNlrOIBVfrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI3MTY2Mw==", "bodyText": "I think the result above is correct, but this should be simplified further. The X is obviously in the keys of the map.", "url": "https://github.com/kframework/k/pull/1661#discussion_r538271663", "createdAt": "2020-12-08T11:44:26Z", "author": {"login": "ttuegel"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/lookup-23-spec.k.out", "diffHunk": "@@ -1 +1,16 @@\n-#Top\n+  #Not ( {\n+    X\n+  #Equals\n+    y\n+  } )\n+#And\n+  <k>\n+    lookupResult ( ( X:MyId |-> 3 ) [ x <- 5 ] [ X:MyId ] ~> . ) ~> .\n+  </k>\n+#And\n+  {\n+    true\n+  #Equals\n+    X:MyId in_keys ( ( X:MyId |-> 3 ) [ x <- 5 ]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3MTU4Mjc3", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-547158277", "createdAt": "2020-12-08T11:47:01Z", "commit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMTo0NzowMVrOIBVqXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMTo0NzowMVrOIBVqXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI3NDM5Ng==", "bodyText": "This is a little weird. Strictly, we only need the { true #Equals Z:MyId in_keys ( MAP ) } side condition.", "url": "https://github.com/kframework/k/pull/1661#discussion_r538274396", "createdAt": "2020-12-08T11:47:01Z", "author": {"login": "ttuegel"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/lookup-9-spec.k.out", "diffHunk": "@@ -1 +1,47 @@\n-#Top\n+  #Not ( {\n+    X\n+  #Equals\n+    Y\n+  } )\n+#And\n+  #Not ( {\n+    X\n+  #Equals\n+    Z\n+  } )\n+#And\n+  #Not ( {\n+    Y\n+  #Equals\n+    Z\n+  } )\n+#And\n+  <k>\n+    lookupResult ( MAP [ Z:MyId ] ~> . ) ~> .\n+  </k>\n+#And\n+  {\n+    false\n+  #Equals\n+    X:MyId in_keys ( MAP )\n+  }\n+#And\n+  {\n+    true\n+  #Equals\n+    Z:MyId in_keys ( ( MAP\n+    X:MyId |-> 1 ) [ Y:MyId <- 2 ] )\n+  }\n+#And\n+  {\n+    true\n+  #Equals\n+    Z:MyId in_keys ( MAP )\n+  }\n+#And\n+  {\n+    true\n+  #Equals\n+    Z:MyId in_keys ( MAP [ Y:MyId <- 2 ]\n+    ( X:MyId |-> 1 ) )\n+  }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "originalPosition": 48}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3MTU5MjI4", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-547159228", "createdAt": "2020-12-08T11:48:24Z", "commit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMTo0ODoyNFrOIBVwbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMTo0ODoyNFrOIBVwbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI3NTk1MA==", "bodyText": "The result above is correct, but I think this should be simplified away.", "url": "https://github.com/kframework/k/pull/1661#discussion_r538275950", "createdAt": "2020-12-08T11:48:24Z", "author": {"login": "ttuegel"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/remove-17-spec.k.out", "diffHunk": "@@ -1 +1,28 @@\n-#Top\n+  #Not ( {\n+    X\n+  #Equals\n+    y\n+  } )\n+#And\n+  <k>\n+    removeResult ( ( X:MyId |-> 3 ) [ x <- undef ] [ X:MyId ] ~> . ) ~> .\n+  </k>\n+#And\n+  {\n+    false\n+  #Equals\n+    y in_keys ( ( X:MyId |-> 3 ) [ x <- undef ] )\n+  }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3MTU5NDcw", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-547159470", "createdAt": "2020-12-08T11:48:46Z", "commit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMTo0ODo0NlrOIBVx-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMTo0ODo0NlrOIBVx-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI3NjM0NQ==", "bodyText": "This should also be simplified, I think.", "url": "https://github.com/kframework/k/pull/1661#discussion_r538276345", "createdAt": "2020-12-08T11:48:46Z", "author": {"login": "ttuegel"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/remove-17-spec.k.out", "diffHunk": "@@ -1 +1,28 @@\n-#Top\n+  #Not ( {\n+    X\n+  #Equals\n+    y\n+  } )\n+#And\n+  <k>\n+    removeResult ( ( X:MyId |-> 3 ) [ x <- undef ] [ X:MyId ] ~> . ) ~> .\n+  </k>\n+#And\n+  {\n+    false\n+  #Equals\n+    y in_keys ( ( X:MyId |-> 3 ) [ x <- undef ] )\n+  }\n+#And\n+  {\n+    true\n+  #Equals\n+    X:MyId in_keys ( ( X:MyId |-> 3 ) [ x <- undef ]\n+    ( y |-> 4 ) )\n+  }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3MTU5NzI2", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-547159726", "createdAt": "2020-12-08T11:49:09Z", "commit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMTo0OTowOVrOIBVzqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxMTo0OTowOVrOIBVzqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODI3Njc3OA==", "bodyText": "I think this should not be simplified. We don't know that X =/= x.", "url": "https://github.com/kframework/k/pull/1661#discussion_r538276778", "createdAt": "2020-12-08T11:49:09Z", "author": {"login": "ttuegel"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/remove-17-spec.k.out", "diffHunk": "@@ -1 +1,28 @@\n-#Top\n+  #Not ( {\n+    X\n+  #Equals\n+    y\n+  } )\n+#And\n+  <k>\n+    removeResult ( ( X:MyId |-> 3 ) [ x <- undef ] [ X:MyId ] ~> . ) ~> .\n+  </k>\n+#And\n+  {\n+    false\n+  #Equals\n+    y in_keys ( ( X:MyId |-> 3 ) [ x <- undef ] )\n+  }\n+#And\n+  {\n+    true\n+  #Equals\n+    X:MyId in_keys ( ( X:MyId |-> 3 ) [ x <- undef ]\n+    ( y |-> 4 ) )\n+  }\n+#And\n+  {\n+    true\n+  #Equals\n+    X:MyId in_keys ( ( X:MyId |-> 3 ) [ x <- undef ] )\n+  }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6b95d30ceb02decb4c6ec72ce35d651e09992c8"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3350e3d1a60ed90714201ae25037975e2886eca", "author": {"user": {"login": "ttuegel", "name": "Thomas Tuegel"}}, "url": "https://github.com/kframework/k/commit/a3350e3d1a60ed90714201ae25037975e2886eca", "committedDate": "2020-12-15T15:10:57Z", "message": "Merge branch 'master' into haskell-symbolic-lookup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyNjUzNTQz", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-552653543", "createdAt": "2020-12-15T16:41:44Z", "commit": {"oid": "a3350e3d1a60ed90714201ae25037975e2886eca"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxNjo0MTo0NVrOIGU57Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNVQxNjo0NDowNVrOIGVBzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzUwNDg3Nw==", "bodyText": "Could you please add\nclaim <k> lookup ( (Y:MyId |-> 1 X:MyId |-> 2) [ Y:MyId ] ) => . </k>\n\nI'm curious to see what the backend does here.", "url": "https://github.com/kframework/k/pull/1661#discussion_r543504877", "createdAt": "2020-12-15T16:41:45Z", "author": {"login": "ttuegel"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/lookup", "diffHunk": "@@ -0,0 +1,24 @@\n+claim <k> lookup ( (MAP:Map X:MyId |-> 1) [Y:MyId <- 2] [ Z:MyId ] ) => . </k> requires Y ==K X\n+claim <k> lookup ( (MAP:Map X:MyId |-> 1) [Y:MyId <- 2] [ Z:MyId ] ) => . </k> requires Y ==K X andBool Z  ==K Y andBool Z  ==K X\n+claim <k> lookup ( (MAP:Map X:MyId |-> 1) [Y:MyId <- 2] [ Z:MyId ] ) => . </k> requires Y ==K X andBool Z =/=K Y andBool Z =/=K X\n+claim <k> lookup ( (MAP:Map X:MyId |-> 1) [Y:MyId <- 2] [ Z:MyId ] ) => . </k>\n+claim <k> lookup ( (MAP:Map X:MyId |-> 1) [Y:MyId <- 2] [ Z:MyId ] ) => . </k> requires Y =/=K X\n+claim <k> lookup ( (MAP:Map X:MyId |-> 1) [Y:MyId <- 2] [ Z:MyId ] ) => . </k> requires Y =/=K X andBool Z =/=K X\n+claim <k> lookup ( (MAP:Map X:MyId |-> 1) [Y:MyId <- 2] [ Z:MyId ] ) => . </k> requires Y =/=K X andBool Z =/=K Y\n+claim <k> lookup ( (MAP:Map X:MyId |-> 1) [Y:MyId <- 2] [ Z:MyId ] ) => . </k> requires Y =/=K X andBool Z  ==K Y andBool Z =/=K X\n+claim <k> lookup ( (MAP:Map X:MyId |-> 1) [Y:MyId <- 2] [ Z:MyId ] ) => . </k> requires Y =/=K X andBool Z =/=K Y andBool Z =/=K X\n+claim <k> lookup ( (MAP:Map X:MyId |-> 1) [Y:MyId <- 2] [ Z:MyId ] ) => . </k> requires Z  ==K X\n+claim <k> lookup ( (MAP:Map X:MyId |-> 1) [Y:MyId <- 2] [ Z:MyId ] ) => . </k> requires Z =/=K X\n+claim <k> lookup ( (MAP:Map X:MyId |-> 1) [Y:MyId <- 2] [ Z:MyId ] ) => . </k> requires Z  ==K Y\n+claim <k> lookup ( (MAP:Map X:MyId |-> 1) [Y:MyId <- 2] [ Z:MyId ] ) => . </k> requires Z =/=K Y\n+claim <k> lookup ( (MAP:Map X:MyId |-> 1) [Y:MyId <- 2] [ Z:MyId ] ) => . </k> requires Z =/=K Y andBool Z =/=K X\n+claim <k> lookup ( (MAP:Map X:MyId |-> 1) [Y:MyId <- 2] [ Z:MyId ] ) => . </k> requires Z =/=K Y andBool Z  ==K X andBool Y =/=K X\n+claim <k> lookup ( (MAP:Map X:MyId |-> 1 Y:MyId |-> 2) [ Y:MyId ] ) => . </k> requires X =/=K Y\n+claim <k> lookup ( (MAP:Map Y:MyId |-> 1 X:MyId |-> 2) [ Y:MyId ] ) => . </k> requires X =/=K Y\n+claim <k> lookup ( (X:MyId |-> 1 MAP:Map Y:MyId |-> 2) [ Y:MyId ] ) => . </k> requires X =/=K Y\n+claim <k> lookup ( (Y:MyId |-> 1 MAP:Map X:MyId |-> 2) [ Y:MyId ] ) => . </k> requires X =/=K Y\n+claim <k> lookup ( (X:MyId |-> 1 Y:MyId |-> 2 MAP:Map) [ Y:MyId ] ) => . </k> requires X =/=K Y\n+claim <k> lookup ( (Y:MyId |-> 1 X:MyId |-> 2 MAP:Map) [ Y:MyId ] ) => . </k> requires X =/=K Y", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3350e3d1a60ed90714201ae25037975e2886eca"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzUwNTEzNQ==", "bodyText": "I have a pointed question about this rule, below.", "url": "https://github.com/kframework/k/pull/1661#discussion_r543505135", "createdAt": "2020-12-15T16:42:00Z", "author": {"login": "ttuegel"}, "path": "k-distribution/include/kframework/builtin/domains.md", "diffHunk": "@@ -408,9 +408,33 @@ endmodule\n \n module MAP-KORE-SYMBOLIC [kore,symbolic]\n   imports MAP\n+  imports K-EQUAL\n+\n+  rule #Ceil(@M:Map [@K:KItem]) => {(@K in_keys(@M)) #Equals true} #And #Ceil(@M) #And #Ceil(@K) [anywhere, simplification]\n+\n+  // Symbolic update\n+  rule (K |-> _ M:Map) [ K <- V ] => (K |-> V M) [simplification]\n+  rule M:Map [ K <- V ] => (K |-> V M) requires notBool (K in_keys(M)) [simplification]\n+  rule M:Map [ K <- _ ] [ K <- V ] => M [ K <- V ] [simplification]\n+  rule (K1 |-> V1 M:Map) [ K2 <- V2 ] => (K1 |-> V1 (M [ K2 <- V2 ])) requires K1 =/=K K2 [simplification]\n \n-   rule #Ceil(@M:Map [@K:KItem]) => {(@K in_keys(@M)) #Equals true} #And #Ceil(@M) #And #Ceil(@K) [anywhere, simplification]\n+  // Symbolic remove\n+  rule (K |-> _ M:Map) [ K <- undef ] => M [simplification]\n+  rule M:Map [ K <- undef ] => M requires notBool (K in_keys(M)) [simplification]\n+  rule (K1 |-> V1 M:Map) [ K2 <- undef ] => (K1 |-> V1 (M [ K2 <- undef ])) requires K1 =/=K K2 [simplification]\n \n+  // Symbolic lookup\n+  rule (K |-> V _:Map) [ K ] => V [simplification]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3350e3d1a60ed90714201ae25037975e2886eca"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzUwNjY5Mg==", "bodyText": "Could you please add\nclaim <k> remove ( (X:MyId |-> 1 Y:MyId |-> 2) [ X <- undef ] ) => . </k>", "url": "https://github.com/kframework/k/pull/1661#discussion_r543506692", "createdAt": "2020-12-15T16:43:50Z", "author": {"login": "ttuegel"}, "path": "k-distribution/tests/regression-new/map-symbolic-tests-haskell/remove", "diffHunk": "@@ -0,0 +1,17 @@\n+claim <k> remove ( (MAP:Map X:MyId |-> 1) [Y:MyId <- undef] [ Z:MyId ] ) => . </k> requires Y ==K X\n+claim <k> remove ( (MAP:Map X:MyId |-> 1) [Y:MyId <- undef] [ Z:MyId ] ) => . </k> requires Y ==K X andBool Z  ==K Y andBool Z  ==K X\n+claim <k> remove ( (MAP:Map X:MyId |-> 1) [Y:MyId <- undef] [ Z:MyId ] ) => . </k> requires Y ==K X andBool Z =/=K Y andBool Z =/=K X\n+claim <k> remove ( (MAP:Map X:MyId |-> 1) [Y:MyId <- undef] [ Z:MyId ] ) => . </k>\n+claim <k> remove ( (MAP:Map X:MyId |-> 1) [Y:MyId <- undef] [ Z:MyId ] ) => . </k> requires Y =/=K X\n+claim <k> remove ( (MAP:Map X:MyId |-> 1) [Y:MyId <- undef] [ Z:MyId ] ) => . </k> requires Y =/=K X andBool Z =/=K X\n+claim <k> remove ( (MAP:Map X:MyId |-> 1) [Y:MyId <- undef] [ Z:MyId ] ) => . </k> requires Y =/=K X andBool Z =/=K Y\n+claim <k> remove ( (MAP:Map X:MyId |-> 1) [Y:MyId <- undef] [ Z:MyId ] ) => . </k> requires Y =/=K X andBool Z  ==K Y andBool Z =/=K X\n+claim <k> remove ( (MAP:Map X:MyId |-> 1) [Y:MyId <- undef] [ Z:MyId ] ) => . </k> requires Y =/=K X andBool Z =/=K Y andBool Z =/=K X\n+claim <k> remove ( (MAP:Map X:MyId |-> 1) [Y:MyId <- undef] [ Z:MyId ] ) => . </k> requires Z  ==K X\n+claim <k> remove ( (MAP:Map X:MyId |-> 1) [Y:MyId <- undef] [ Z:MyId ] ) => . </k> requires Z =/=K X\n+claim <k> remove ( (MAP:Map X:MyId |-> 1) [Y:MyId <- undef] [ Z:MyId ] ) => . </k> requires Z  ==K Y\n+claim <k> remove ( (MAP:Map X:MyId |-> 1) [Y:MyId <- undef] [ Z:MyId ] ) => . </k> requires Z =/=K Y\n+claim <k> remove ( (MAP:Map X:MyId |-> 1) [Y:MyId <- undef] [ Z:MyId ] ) => . </k> requires Z =/=K Y andBool Z =/=K X\n+claim <k> remove ( (MAP:Map X:MyId |-> 1) [Y:MyId <- undef] [ Z:MyId ] ) => . </k> requires Z =/=K Y andBool Z  ==K X andBool Y =/=K X\n+claim <k> remove ( (X:MyId |-> 3 y |-> 4) [ x <- undef ] [ X ] ) => . </k> requires X =/=K x\n+claim <k> remove ( (X:MyId |-> 3 y |-> 4) [ x <- undef ] [ X ] ) => . </k> requires X =/=K y", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3350e3d1a60ed90714201ae25037975e2886eca"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzUwNjg5NQ==", "bodyText": "I also have a pointed question about this rule below.", "url": "https://github.com/kframework/k/pull/1661#discussion_r543506895", "createdAt": "2020-12-15T16:44:05Z", "author": {"login": "ttuegel"}, "path": "k-distribution/include/kframework/builtin/domains.md", "diffHunk": "@@ -408,9 +408,33 @@ endmodule\n \n module MAP-KORE-SYMBOLIC [kore,symbolic]\n   imports MAP\n+  imports K-EQUAL\n+\n+  rule #Ceil(@M:Map [@K:KItem]) => {(@K in_keys(@M)) #Equals true} #And #Ceil(@M) #And #Ceil(@K) [anywhere, simplification]\n+\n+  // Symbolic update\n+  rule (K |-> _ M:Map) [ K <- V ] => (K |-> V M) [simplification]\n+  rule M:Map [ K <- V ] => (K |-> V M) requires notBool (K in_keys(M)) [simplification]\n+  rule M:Map [ K <- _ ] [ K <- V ] => M [ K <- V ] [simplification]\n+  rule (K1 |-> V1 M:Map) [ K2 <- V2 ] => (K1 |-> V1 (M [ K2 <- V2 ])) requires K1 =/=K K2 [simplification]\n \n-   rule #Ceil(@M:Map [@K:KItem]) => {(@K in_keys(@M)) #Equals true} #And #Ceil(@M) #And #Ceil(@K) [anywhere, simplification]\n+  // Symbolic remove\n+  rule (K |-> _ M:Map) [ K <- undef ] => M [simplification]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a3350e3d1a60ed90714201ae25037975e2886eca"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7f29904fe3c7444c158d245477dd5a88d695564", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/d7f29904fe3c7444c158d245477dd5a88d695564", "committedDate": "2020-12-16T15:48:28Z", "message": "Review: add two new tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0MTI5MzQ1", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-554129345", "createdAt": "2020-12-16T22:16:54Z", "commit": {"oid": "d7f29904fe3c7444c158d245477dd5a88d695564"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef717ebb8d7ebcb5ea66e3bb23c4f3819648ee21", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/ef717ebb8d7ebcb5ea66e3bb23c4f3819648ee21", "committedDate": "2020-12-18T11:04:50Z", "message": "Merge branch 'master' into haskell-symbolic-lookup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5c5d85e9d441deeff2d6eee7ac6a963aaed2f6c", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/a5c5d85e9d441deeff2d6eee7ac6a963aaed2f6c", "committedDate": "2020-12-18T15:54:56Z", "message": "Rebuild"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f8370675e2da5f2a20d918f9434e84facddc084", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/8f8370675e2da5f2a20d918f9434e84facddc084", "committedDate": "2020-12-18T15:55:56Z", "message": "Merge branch 'haskell-symbolic-lookup' of github.com:ana-pantilie/k into haskell-symbolic-lookup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a048aa2b0465b74dab9fe97259a20be7bfaeeac", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/9a048aa2b0465b74dab9fe97259a20be7bfaeeac", "committedDate": "2020-12-21T09:31:13Z", "message": "Merge branch 'master' into haskell-symbolic-lookup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "474835a941af427fab9f40a2fbbeed57b3b24138", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/474835a941af427fab9f40a2fbbeed57b3b24138", "committedDate": "2020-12-21T12:22:03Z", "message": "Remove unused fail constructor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYxMzA2ODAz", "url": "https://github.com/kframework/k/pull/1661#pullrequestreview-561306803", "createdAt": "2021-01-04T20:04:15Z", "commit": {"oid": "474835a941af427fab9f40a2fbbeed57b3b24138"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f87c531de02d99930334861bfebe0c712139251", "author": {"user": {"login": "ana-pantilie", "name": null}}, "url": "https://github.com/kframework/k/commit/8f87c531de02d99930334861bfebe0c712139251", "committedDate": "2021-01-05T15:35:04Z", "message": "Merge branch 'master' into haskell-symbolic-lookup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2dd6a74094e01eff808ab779f818c245f4ee39b", "author": {"user": {"login": "ttuegel", "name": "Thomas Tuegel"}}, "url": "https://github.com/kframework/k/commit/f2dd6a74094e01eff808ab779f818c245f4ee39b", "committedDate": "2021-01-05T16:24:39Z", "message": "Trigger workflows"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "257d5dc67721141731a0665e1c7eaae9d39dfe10", "author": {"user": {"login": "ttuegel", "name": "Thomas Tuegel"}}, "url": "https://github.com/kframework/k/commit/257d5dc67721141731a0665e1c7eaae9d39dfe10", "committedDate": "2021-01-05T17:10:11Z", "message": "Merge branch 'master' into haskell-symbolic-lookup"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2266, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}