{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc5NzU5NjQ3", "number": 1540, "title": "Add missing check and update error message", "bodyText": "Fixes #1502\nFixes #1518", "createdAt": "2020-09-04T14:49:55Z", "url": "https://github.com/kframework/k/pull/1540", "merged": true, "mergeCommit": {"oid": "a05e6180946fd2bb7c2515df6e36b81545ee41ff"}, "closed": true, "closedAt": "2020-09-08T21:49:40Z", "author": {"login": "dwightguth"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdFmRn_AH2gAyNDc5NzU5NjQ3OmRmNWZmNzUzZDYyMGMzMjIzOGQ2Mzk4MTk3Y2EwZDA3ODliMzZhMjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdG9EeugH2gAyNDc5NzU5NjQ3OjA0NDY5NTE4ZWM5Mjk5NjQwNzNmMDgxM2RjMDk2YTc5Njg0YTdkYjk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "df5ff753d620c32238d6398197ca0d0789b36a22", "author": {"user": {"login": "dwightguth", "name": "Dwight Guth"}}, "url": "https://github.com/kframework/k/commit/df5ff753d620c32238d6398197ca0d0789b36a22", "committedDate": "2020-09-04T14:42:30Z", "message": "update error message"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5255f22b8d2e1274df14805b56fe03a9cffb09eb", "author": {"user": {"login": "dwightguth", "name": "Dwight Guth"}}, "url": "https://github.com/kframework/k/commit/5255f22b8d2e1274df14805b56fe03a9cffb09eb", "committedDate": "2020-09-04T14:48:18Z", "message": "error if rewrite is inside #as"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02f53ddd50a2628232ec2d4663dbb8a7c4851abb", "author": {"user": {"login": "dwightguth", "name": "Dwight Guth"}}, "url": "https://github.com/kframework/k/commit/02f53ddd50a2628232ec2d4663dbb8a7c4851abb", "committedDate": "2020-09-04T14:49:00Z", "message": "add test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyOTk5ODA4", "url": "https://github.com/kframework/k/pull/1540#pullrequestreview-482999808", "createdAt": "2020-09-04T22:50:51Z", "commit": {"oid": "02f53ddd50a2628232ec2d4663dbb8a7c4851abb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQyMjo1MDo1MVrOHNdP0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQyMjo1MDo1MVrOHNdP0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Mzg3MjcyMw==", "bodyText": "Add a test for this one.", "url": "https://github.com/kframework/k/pull/1540#discussion_r483872723", "createdAt": "2020-09-04T22:50:51Z", "author": {"login": "ehildenb"}, "path": "kernel/src/main/java/org/kframework/compile/AddSortInjections.java", "diffHunk": "@@ -181,7 +181,9 @@ private K visitChildren(K term, Sort actualSort, Sort expectedSort) {\n             Production substituted = substituteProd(prod, expectedSort, (i, fresh) -> sort(kapp.items().get(i), fresh.nonterminals().apply(i).sort()), kapp);\n             for (int i = 0; i < kapp.items().size(); i++) {\n                 if (kapp.items().size() != substituted.nonterminals().size()) {\n-                    throw KEMException.internalError(\"Invalid initial configuration with wrong number of children for term with label \" + kapp.klabel(), kapp);\n+                    throw KEMException.internalError(\"Invalid sort predicate \" + kapp.klabel() +\n+                        \" that depends directly or indirectly on the current configuration. \" +\n+                        \"Is it possible to replace the sort predicate with a regular function?\", kapp);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02f53ddd50a2628232ec2d4663dbb8a7c4851abb"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "553ee79a232a98d387dd0302174bf5a87c4a31fb", "author": {"user": {"login": "dwightguth", "name": "Dwight Guth"}}, "url": "https://github.com/kframework/k/commit/553ee79a232a98d387dd0302174bf5a87c4a31fb", "committedDate": "2020-09-08T17:06:48Z", "message": "fix type of error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48e0ac170753c85f9a4af1f951feeea345245450", "author": {"user": {"login": "dwightguth", "name": "Dwight Guth"}}, "url": "https://github.com/kframework/k/commit/48e0ac170753c85f9a4af1f951feeea345245450", "committedDate": "2020-09-08T17:09:51Z", "message": "add test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0MzU4NzU2", "url": "https://github.com/kframework/k/pull/1540#pullrequestreview-484358756", "createdAt": "2020-09-08T17:38:56Z", "commit": {"oid": "48e0ac170753c85f9a4af1f951feeea345245450"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04469518ec929964073f0813dc096a79684a7db9", "author": {"user": {"login": "rv-jenkins", "name": null}}, "url": "https://github.com/kframework/k/commit/04469518ec929964073f0813dc096a79684a7db9", "committedDate": "2020-09-08T19:49:53Z", "message": "Merge branch 'master' into checks"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2360, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}