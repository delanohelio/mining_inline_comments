{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyOTMwODE5", "number": 1138, "title": "Patch for Issue #1137", "bodyText": "Fixes #1137\n@denis-bogdanas I just saw your  comment #1137 (comment)\nHowever, my PR is already done.  Since you mention that the other PRs are already stalling for quite some time, could  we merge this, as it's a small change, and revert it / adapt it when the other PRs are ready to be merged?", "createdAt": "2020-03-03T12:46:00Z", "url": "https://github.com/kframework/k/pull/1138", "merged": true, "mergeCommit": {"oid": "693b46b2334d125b0c9a0e6693e27dc4f4960d59"}, "closed": true, "closedAt": "2020-06-26T09:29:28Z", "author": {"login": "traiansf"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKBqh4gH2gAyMzgyOTMwODE5OmFiZTVlOTAyODE4YmMyNzQ5YWExODRiYTYwZWRlYjE2ZDk4MzQxYzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcu_09mAFqTQzODE0OTc2OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "abe5e902818bc2749aa184ba60edeb16d98341c1", "author": {"user": {"login": "traiansf", "name": "Traian Florin \u0218erb\u0103nu\u021b\u0103"}}, "url": "https://github.com/kframework/k/commit/abe5e902818bc2749aa184ba60edeb16d98341c1", "committedDate": "2020-03-03T12:41:41Z", "message": "Patch for Issue #1137"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3OTY0NzI4", "url": "https://github.com/kframework/k/pull/1138#pullrequestreview-367964728", "createdAt": "2020-03-03T13:12:34Z", "commit": {"oid": "abe5e902818bc2749aa184ba60edeb16d98341c1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MTY3NDQw", "url": "https://github.com/kframework/k/pull/1138#pullrequestreview-368167440", "createdAt": "2020-03-03T17:12:50Z", "commit": {"oid": "abe5e902818bc2749aa184ba60edeb16d98341c1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNzoxMjo1MVrOFxO7pg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNzoxMjo1MVrOFxO7pg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzE2OTE5MA==", "bodyText": "KompileOptions should be taken from original CompiledDefinition.", "url": "https://github.com/kframework/k/pull/1138#discussion_r387169190", "createdAt": "2020-03-03T17:12:51Z", "author": {"login": "denis-bogdanas"}, "path": "kernel/src/main/java/org/kframework/kprove/KProve.java", "diffHunk": "@@ -55,6 +62,19 @@ public int run() {\n \n         Tuple2<Definition, Module> compiled = proofDefinitionBuilder\n                 .build(kproveOptions.specFile(files), kproveOptions.defModule, kproveOptions.specModule);\n+\n+        // Saving compiled definition to disk to be usable by other tools (e.g., kast)\n+        CompiledDefinition compiledDefinition = new CompiledDefinition(\n+                new KompileOptions(), compiled._1(), compiled._1(), files, kem, null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "abe5e902818bc2749aa184ba60edeb16d98341c1"}, "originalPosition": 50}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MTcwMzEx", "url": "https://github.com/kframework/k/pull/1138#pullrequestreview-368170311", "createdAt": "2020-03-03T17:16:37Z", "commit": {"oid": "abe5e902818bc2749aa184ba60edeb16d98341c1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNzoxNjozN1rOFxPEuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNzoxNjozN1rOFxPEuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzE3MTUxNQ==", "bodyText": "this code should be separated to a method.", "url": "https://github.com/kframework/k/pull/1138#discussion_r387171515", "createdAt": "2020-03-03T17:16:37Z", "author": {"login": "denis-bogdanas"}, "path": "kernel/src/main/java/org/kframework/kprove/KProve.java", "diffHunk": "@@ -55,6 +62,19 @@ public int run() {\n \n         Tuple2<Definition, Module> compiled = proofDefinitionBuilder\n                 .build(kproveOptions.specFile(files), kproveOptions.defModule, kproveOptions.specModule);\n+\n+        // Saving compiled definition to disk to be usable by other tools (e.g., kast)\n+        CompiledDefinition compiledDefinition = new CompiledDefinition(\n+                new KompileOptions(), compiled._1(), compiled._1(), files, kem, null);\n+        Path proveKompiledDir = files.resolveTemp(\"prove-spec-kompiled\").toPath();\n+        try {\n+            Files.createDirectory(proveKompiledDir);\n+            loader.saveOrDie(proveKompiledDir.resolve(\"compiled.bin\").toFile(), compiledDefinition);\n+        } catch (IOException e) {\n+            kem.registerCriticalWarning(\n+                    \"Could not create prove-spec-kompiled directory. Definition will not be saved.\", e);\n+        }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "abe5e902818bc2749aa184ba60edeb16d98341c1"}, "originalPosition": 59}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MTczODM0", "url": "https://github.com/kframework/k/pull/1138#pullrequestreview-368173834", "createdAt": "2020-03-03T17:21:31Z", "commit": {"oid": "abe5e902818bc2749aa184ba60edeb16d98341c1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNzoyMTozMVrOFxPPgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNzoyMTozMVrOFxPPgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzE3NDI3NA==", "bodyText": "It will be useful to log the directory, because I expect there will be multiple dirs there with similar names.", "url": "https://github.com/kframework/k/pull/1138#discussion_r387174274", "createdAt": "2020-03-03T17:21:31Z", "author": {"login": "denis-bogdanas"}, "path": "kernel/src/main/java/org/kframework/kprove/KProve.java", "diffHunk": "@@ -55,6 +62,19 @@ public int run() {\n \n         Tuple2<Definition, Module> compiled = proofDefinitionBuilder\n                 .build(kproveOptions.specFile(files), kproveOptions.defModule, kproveOptions.specModule);\n+\n+        // Saving compiled definition to disk to be usable by other tools (e.g., kast)\n+        CompiledDefinition compiledDefinition = new CompiledDefinition(\n+                new KompileOptions(), compiled._1(), compiled._1(), files, kem, null);\n+        Path proveKompiledDir = files.resolveTemp(\"prove-spec-kompiled\").toPath();\n+        try {\n+            Files.createDirectory(proveKompiledDir);\n+            loader.saveOrDie(proveKompiledDir.resolve(\"compiled.bin\").toFile(), compiledDefinition);\n+        } catch (IOException e) {\n+            kem.registerCriticalWarning(\n+                    \"Could not create prove-spec-kompiled directory. Definition will not be saved.\", e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "abe5e902818bc2749aa184ba60edeb16d98341c1"}, "originalPosition": 57}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02939ba4a97e051d8e84a61582fb98c7a8c22583", "author": {"user": {"login": "traiansf", "name": "Traian Florin \u0218erb\u0103nu\u021b\u0103"}}, "url": "https://github.com/kframework/k/commit/02939ba4a97e051d8e84a61582fb98c7a8c22583", "committedDate": "2020-03-05T14:46:48Z", "message": "Merge remote-tracking branch 'upstream/master' into issue-1137"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f725aace1b58d4b0b7045abe7974c300b1fbfd47", "author": {"user": {"login": "traiansf", "name": "Traian Florin \u0218erb\u0103nu\u021b\u0103"}}, "url": "https://github.com/kframework/k/commit/f725aace1b58d4b0b7045abe7974c300b1fbfd47", "committedDate": "2020-03-06T14:20:38Z", "message": "Merge remote-tracking branch 'upstream/master' into issue-1137"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "693f0913f300f8701ae88191a428fc30b5e213b4", "author": {"user": {"login": "traiansf", "name": "Traian Florin \u0218erb\u0103nu\u021b\u0103"}}, "url": "https://github.com/kframework/k/commit/693f0913f300f8701ae88191a428fc30b5e213b4", "committedDate": "2020-03-06T14:21:07Z", "message": "Addressing reviews"}, "afterCommit": {"oid": "c6e2790b77f6c189b38a04473d6345ff3d9a54a9", "author": {"user": {"login": "traiansf", "name": "Traian Florin \u0218erb\u0103nu\u021b\u0103"}}, "url": "https://github.com/kframework/k/commit/c6e2790b77f6c189b38a04473d6345ff3d9a54a9", "committedDate": "2020-03-06T14:23:30Z", "message": "Addressing reviews"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c6e2790b77f6c189b38a04473d6345ff3d9a54a9", "author": {"user": {"login": "traiansf", "name": "Traian Florin \u0218erb\u0103nu\u021b\u0103"}}, "url": "https://github.com/kframework/k/commit/c6e2790b77f6c189b38a04473d6345ff3d9a54a9", "committedDate": "2020-03-06T14:23:30Z", "message": "Addressing reviews"}, "afterCommit": {"oid": "bc1d83319384aeb6ed546cd017ead15a3bd99456", "author": {"user": {"login": "traiansf", "name": "Traian Florin \u0218erb\u0103nu\u021b\u0103"}}, "url": "https://github.com/kframework/k/commit/bc1d83319384aeb6ed546cd017ead15a3bd99456", "committedDate": "2020-03-06T14:42:32Z", "message": "Addressing reviews"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "200b5f5d8bcf404b7db154dab4a0872e77619897", "author": {"user": {"login": "traiansf", "name": "Traian Florin \u0218erb\u0103nu\u021b\u0103"}}, "url": "https://github.com/kframework/k/commit/200b5f5d8bcf404b7db154dab4a0872e77619897", "committedDate": "2020-03-06T14:55:15Z", "message": "Addressing reviews"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bc1d83319384aeb6ed546cd017ead15a3bd99456", "author": {"user": {"login": "traiansf", "name": "Traian Florin \u0218erb\u0103nu\u021b\u0103"}}, "url": "https://github.com/kframework/k/commit/bc1d83319384aeb6ed546cd017ead15a3bd99456", "committedDate": "2020-03-06T14:42:32Z", "message": "Addressing reviews"}, "afterCommit": {"oid": "200b5f5d8bcf404b7db154dab4a0872e77619897", "author": {"user": {"login": "traiansf", "name": "Traian Florin \u0218erb\u0103nu\u021b\u0103"}}, "url": "https://github.com/kframework/k/commit/200b5f5d8bcf404b7db154dab4a0872e77619897", "committedDate": "2020-03-06T14:55:15Z", "message": "Addressing reviews"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "626c83ef4272b97064828660b89e461eb4cb9dfd", "author": {"user": {"login": "traiansf", "name": "Traian Florin \u0218erb\u0103nu\u021b\u0103"}}, "url": "https://github.com/kframework/k/commit/626c83ef4272b97064828660b89e461eb4cb9dfd", "committedDate": "2020-03-09T14:58:53Z", "message": "Merge remote-tracking branch 'upstream/master' into issue-1137"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a27120d7e0bf07d1b7a35208635616d4ccf10783", "author": {"user": {"login": "traiansf", "name": "Traian Florin \u0218erb\u0103nu\u021b\u0103"}}, "url": "https://github.com/kframework/k/commit/a27120d7e0bf07d1b7a35208635616d4ccf10783", "committedDate": "2020-03-09T15:00:41Z", "message": "Use createDirectories instead of createDirectory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc7ebe33a0d0c8c392a6f684741a51e1f3b68678", "author": {"user": {"login": "traiansf", "name": "Traian Florin \u0218erb\u0103nu\u021b\u0103"}}, "url": "https://github.com/kframework/k/commit/bc7ebe33a0d0c8c392a6f684741a51e1f3b68678", "committedDate": "2020-06-15T15:38:40Z", "message": "Merge branch 'master' into issue-1137"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b9fb175929e03ac4b89cab41c424b30832c593a", "author": {"user": {"login": "traiansf", "name": "Traian Florin \u0218erb\u0103nu\u021b\u0103"}}, "url": "https://github.com/kframework/k/commit/2b9fb175929e03ac4b89cab41c424b30832c593a", "committedDate": "2020-06-25T16:14:56Z", "message": "Merge remote-tracking branch 'upstream/master' into issue-1137"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4115690a1672735f99c234fcf30e9b1fd618ce37", "author": {"user": {"login": "traiansf", "name": "Traian Florin \u0218erb\u0103nu\u021b\u0103"}}, "url": "https://github.com/kframework/k/commit/4115690a1672735f99c234fcf30e9b1fd618ce37", "committedDate": "2020-06-25T16:46:52Z", "message": "Updated test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3565933af681158b8ca29a189be7f568d78e2ff1", "author": {"user": {"login": "traiansf", "name": "Traian Florin \u0218erb\u0103nu\u021b\u0103"}}, "url": "https://github.com/kframework/k/commit/3565933af681158b8ca29a189be7f568d78e2ff1", "committedDate": "2020-06-25T17:05:43Z", "message": "Attempting to remove test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54f81556bd2a2c96f01c94430ac81a18fa1b111f", "author": {"user": {"login": "traiansf", "name": "Traian Florin \u0218erb\u0103nu\u021b\u0103"}}, "url": "https://github.com/kframework/k/commit/54f81556bd2a2c96f01c94430ac81a18fa1b111f", "committedDate": "2020-06-26T05:40:04Z", "message": "Merge branch 'master' into issue-1137"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4MTQ5NzY4", "url": "https://github.com/kframework/k/pull/1138#pullrequestreview-438149768", "createdAt": "2020-06-26T09:28:28Z", "commit": {"oid": "54f81556bd2a2c96f01c94430ac81a18fa1b111f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2438, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}