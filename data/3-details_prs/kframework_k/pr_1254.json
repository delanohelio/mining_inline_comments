{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzNDAzODg0", "number": 1254, "title": "domains.k: #Ceil rules for padLeftBytes, padRightBytes", "bodyText": "#Ceil rules are based on K implementation for padLeftBytes, padRightBytes. Hooked rules must have same definedness requirements, e.g. should accept negative Length (2nd argument).\nRequired for ERC20 verifier.", "createdAt": "2020-05-05T09:29:23Z", "url": "https://github.com/kframework/k/pull/1254", "merged": true, "mergeCommit": {"oid": "d8f55242188dec3230d24b7dff038a8eb63b2067"}, "closed": true, "closedAt": "2020-06-11T15:50:55Z", "author": {"login": "denis-bogdanas"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceQvdoAFqTQwNTYzMDA5NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqO1uJgH2gAyNDEzNDAzODg0OjhiZmE5YWE4NzE2MjI3ZTRmZmQ4MjA4MGY2ZGVhMDdmOTM4NWNiNzM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1NjMwMDk0", "url": "https://github.com/kframework/k/pull/1254#pullrequestreview-405630094", "createdAt": "2020-05-05T09:34:08Z", "commit": {"oid": "ef136fdea5fba4050506271436897ecccfc4bc57"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwOTozNDowOFrOGQhlfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwOTozNDowOFrOGQhlfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTk4MDY2OA==", "bodyText": "Shouldn't this also require that the middle argument be non-zero? What do the backend implementations of this assume? We should strive to make sure that this is an accurate description of what the users can expect the backends to be able to handle.", "url": "https://github.com/kframework/k/pull/1254#discussion_r419980668", "createdAt": "2020-05-05T09:34:08Z", "author": {"login": "ehildenb"}, "path": "k-distribution/include/builtin/domains.k", "diffHunk": "@@ -836,6 +836,9 @@ module BYTES-IN-K\n   rule padLeftBytes(BS, LEN, VAL) => BS requires lengthBytes(BS) >=Int LEN\n   rule padLeftBytes(BS, LEN, VAL) => padLeftBytes(VAL : BS, LEN, VAL) requires lengthBytes(BS) <Int LEN\n \n+  rule #Ceil(padRightBytes(_,_, VAL)) => {(0 <=Int VAL andBool VAL <Int 256) #Equals true} [anywhere]\n+  rule #Ceil(padLeftBytes(_,_, VAL))  => {(0 <=Int VAL andBool VAL <Int 256) #Equals true} [anywhere]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef136fdea5fba4050506271436897ecccfc4bc57"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1NjM1Mjc3", "url": "https://github.com/kframework/k/pull/1254#pullrequestreview-405635277", "createdAt": "2020-05-05T09:41:53Z", "commit": {"oid": "ef136fdea5fba4050506271436897ecccfc4bc57"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwOTo0MTo1M1rOGQh2ig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwOTo0MTo1M1rOGQh2ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTk4NTAzNA==", "bodyText": "Judging by K implementation there are no restrictions on middle argument. Hooked implementation must be reviewed and adapted so that it matches K implementation. If this is not practical then the discrepancy must be commented.", "url": "https://github.com/kframework/k/pull/1254#discussion_r419985034", "createdAt": "2020-05-05T09:41:53Z", "author": {"login": "denis-bogdanas"}, "path": "k-distribution/include/builtin/domains.k", "diffHunk": "@@ -836,6 +836,9 @@ module BYTES-IN-K\n   rule padLeftBytes(BS, LEN, VAL) => BS requires lengthBytes(BS) >=Int LEN\n   rule padLeftBytes(BS, LEN, VAL) => padLeftBytes(VAL : BS, LEN, VAL) requires lengthBytes(BS) <Int LEN", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef136fdea5fba4050506271436897ecccfc4bc57"}, "originalPosition": 2}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3NzMxMzgz", "url": "https://github.com/kframework/k/pull/1254#pullrequestreview-407731383", "createdAt": "2020-05-07T18:31:07Z", "commit": {"oid": "67566a26874bbd7e38085a4941efc6e71ee9d9ed"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxODozMTowN1rOGSLGCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxODozMTowN1rOGSLGCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTcwOTMyMA==", "bodyText": "I have the same comment I have on the other PR. If these are intended for the haskell backend, they should not be in the module tagged [kast].", "url": "https://github.com/kframework/k/pull/1254#discussion_r421709320", "createdAt": "2020-05-07T18:31:07Z", "author": {"login": "dwightguth"}, "path": "k-distribution/include/builtin/domains.k", "diffHunk": "@@ -863,6 +863,10 @@ endmodule\n \n module BYTES-SYMBOLIC [symbolic, kast]\n   imports BYTES-IN-K\n+\n+  rule #Ceil(padRightBytes(_, LEN, VAL)) => {(0 <=Int LEN andBool 0 <=Int VAL andBool VAL <Int 256) #Equals true} [anywhere, simplification]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67566a26874bbd7e38085a4941efc6e71ee9d9ed"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzNTI0NTA0", "url": "https://github.com/kframework/k/pull/1254#pullrequestreview-413524504", "createdAt": "2020-05-18T11:58:49Z", "commit": {"oid": "57be3c43b8a81f7044f52a96614b5e567a90a2cb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyMTMzNTc4", "url": "https://github.com/kframework/k/pull/1254#pullrequestreview-422133578", "createdAt": "2020-06-01T19:50:36Z", "commit": {"oid": "57be3c43b8a81f7044f52a96614b5e567a90a2cb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQxOTo1MDozNlrOGdX3eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQxOTo1MTozMlrOGdX5KQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ1MjkyMg==", "bodyText": "I don't understand this change; why was it necessary?", "url": "https://github.com/kframework/k/pull/1254#discussion_r433452922", "createdAt": "2020-06-01T19:50:36Z", "author": {"login": "dwightguth"}, "path": "k-distribution/include/builtin/domains.k", "diffHunk": "@@ -830,11 +830,11 @@ module BYTES-IN-K\n   rule replaceAtBytes(B : BS, N, BS') => B : replaceAtBytes(BS, N -Int 1, BS') requires N >Int 0\n   rule replaceAtBytes(_ : BS, 0, B : BS') => B : replaceAtBytes(BS, 0, BS')\n \n-  syntax Bytes ::= padRightBytes(Bytes, Int, Int) [function]\n-                 | padLeftBytes(Bytes, Int, Int) [function]\n+  syntax Bytes ::= padRightBytes(Bytes, Int, Int) [function, klabel(padRightBytes)]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57be3c43b8a81f7044f52a96614b5e567a90a2cb"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ1MzM1Mw==", "bodyText": "this entire module is not going to get imported on the haskell backend, thus, neither will this import.", "url": "https://github.com/kframework/k/pull/1254#discussion_r433453353", "createdAt": "2020-06-01T19:51:32Z", "author": {"login": "dwightguth"}, "path": "k-distribution/include/builtin/domains.k", "diffHunk": "@@ -863,6 +863,14 @@ endmodule\n \n module BYTES-SYMBOLIC [symbolic, kast]\n   imports BYTES-IN-K\n+  imports BYTES-SYMBOLIC-CEIL", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57be3c43b8a81f7044f52a96614b5e567a90a2cb"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d92f7cf9cbcfa1794e3c003d794717dbf033310b", "author": {"user": {"login": "denis-bogdanas", "name": "Denis Bogdanas"}}, "url": "https://github.com/kframework/k/commit/d92f7cf9cbcfa1794e3c003d794717dbf033310b", "committedDate": "2020-06-04T19:14:59Z", "message": "domains.k: #Ceil rules for padLeftBytes, padRightBytes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "197b9a59bd8c0b8cd2b9cbb28ec8feec91e98390", "author": {"user": {"login": "denis-bogdanas", "name": "Denis Bogdanas"}}, "url": "https://github.com/kframework/k/commit/197b9a59bd8c0b8cd2b9cbb28ec8feec91e98390", "committedDate": "2020-06-04T19:15:00Z", "message": "added [simplification]"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e14121d1a9ca848bf37b39956e93d63aeb2c33e", "author": {"user": {"login": "denis-bogdanas", "name": "Denis Bogdanas"}}, "url": "https://github.com/kframework/k/commit/0e14121d1a9ca848bf37b39956e93d63aeb2c33e", "committedDate": "2020-06-04T19:16:42Z", "message": "Added `0 <= LEN` to implementation and `#Ceil` rules"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03c2130e172518532189a3b6508fad6a3b46121e", "author": {"user": {"login": "denis-bogdanas", "name": "Denis Bogdanas"}}, "url": "https://github.com/kframework/k/commit/03c2130e172518532189a3b6508fad6a3b46121e", "committedDate": "2020-06-04T19:16:42Z", "message": "fix for previous"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0906c9dda1f62745eb250c97f7e5a8179fe1f3de", "author": {"user": {"login": "denis-bogdanas", "name": "Denis Bogdanas"}}, "url": "https://github.com/kframework/k/commit/0906c9dda1f62745eb250c97f7e5a8179fe1f3de", "committedDate": "2020-06-04T19:16:42Z", "message": "put the #Ceil rules in [symbolic] module"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb238618fdc1c33afd87f5301688926617f9e2cf", "author": {"user": {"login": "denis-bogdanas", "name": "Denis Bogdanas"}}, "url": "https://github.com/kframework/k/commit/cb238618fdc1c33afd87f5301688926617f9e2cf", "committedDate": "2020-06-04T19:17:51Z", "message": "moved #Ceil rules tp BYTES-KORE"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30520afb303bdc7446ed84a4f3a8f7e2bd883136", "author": {"user": {"login": "denis-bogdanas", "name": "Denis Bogdanas"}}, "url": "https://github.com/kframework/k/commit/30520afb303bdc7446ed84a4f3a8f7e2bd883136", "committedDate": "2020-06-04T19:17:54Z", "message": "#Ceil rules moved to BYTES-SYMBOLIC-CEIL, separate module."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b2fc07bf3e8360203ba8bc184bbaec359904bfb", "author": {"user": {"login": "denis-bogdanas", "name": "Denis Bogdanas"}}, "url": "https://github.com/kframework/k/commit/4b2fc07bf3e8360203ba8bc184bbaec359904bfb", "committedDate": "2020-06-04T19:17:54Z", "message": "domains, #Ceil rules: addressed another iteration of PR comments"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8c21527b4e634bb638ad24e8101f84df8e8023cc", "author": {"user": {"login": "denis-bogdanas", "name": "Denis Bogdanas"}}, "url": "https://github.com/kframework/k/commit/8c21527b4e634bb638ad24e8101f84df8e8023cc", "committedDate": "2020-06-04T19:13:46Z", "message": "domains, #Ceil rules: addressed another iteration of PR comments."}, "afterCommit": {"oid": "4b2fc07bf3e8360203ba8bc184bbaec359904bfb", "author": {"user": {"login": "denis-bogdanas", "name": "Denis Bogdanas"}}, "url": "https://github.com/kframework/k/commit/4b2fc07bf3e8360203ba8bc184bbaec359904bfb", "committedDate": "2020-06-04T19:17:54Z", "message": "domains, #Ceil rules: addressed another iteration of PR comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5db86eb35d38c162bcc77dae4943ce6fe2f42cd", "author": {"user": {"login": "denis-bogdanas", "name": "Denis Bogdanas"}}, "url": "https://github.com/kframework/k/commit/b5db86eb35d38c162bcc77dae4943ce6fe2f42cd", "committedDate": "2020-06-04T20:00:20Z", "message": "fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65be01c7dd161644b372b724e9003ad9c60913a9", "author": {"user": {"login": "denis-bogdanas", "name": "Denis Bogdanas"}}, "url": "https://github.com/kframework/k/commit/65be01c7dd161644b372b724e9003ad9c60913a9", "committedDate": "2020-06-08T16:43:12Z", "message": "Merge branch 'master' into ceil-padBytes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01e1a79a43dc801c35f56e9a9dd511624fbe010c", "author": {"user": {"login": "denis-bogdanas", "name": "Denis Bogdanas"}}, "url": "https://github.com/kframework/k/commit/01e1a79a43dc801c35f56e9a9dd511624fbe010c", "committedDate": "2020-06-09T18:34:47Z", "message": "domains, #Ceil rules for `padLeftBytes`, `padRightBytes` now with [anywhere, simplification]"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4Mjk4ODY1", "url": "https://github.com/kframework/k/pull/1254#pullrequestreview-428298865", "createdAt": "2020-06-10T17:56:23Z", "commit": {"oid": "01e1a79a43dc801c35f56e9a9dd511624fbe010c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4MzgxMDM5", "url": "https://github.com/kframework/k/pull/1254#pullrequestreview-428381039", "createdAt": "2020-06-10T19:54:57Z", "commit": {"oid": "01e1a79a43dc801c35f56e9a9dd511624fbe010c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8bfa9aa8716227e4ffd82080f6dea07f9385cb73", "author": {"user": {"login": "denis-bogdanas", "name": "Denis Bogdanas"}}, "url": "https://github.com/kframework/k/commit/8bfa9aa8716227e4ffd82080f6dea07f9385cb73", "committedDate": "2020-06-11T14:08:15Z", "message": "Merge remote-tracking branch 'origin/master' into ceil-padBytes"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2425, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}