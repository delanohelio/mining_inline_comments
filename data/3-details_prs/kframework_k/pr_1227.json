{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA3MTgxOTEy", "number": 1227, "title": "Packaging subdirectory [brew-staging: directory-change]", "bodyText": "Blocked on: #1231\nThis PR applies several cleanups to the K repo structure.\n\nCreates package subdirectory where packaging scripts are moved (currently except Homebrew scripts).\nMoves Dockerfile.* into the appropriate packaging subdirectory, and has just one generic Dockerfile at the top level for normal CI steps.\nMakes sure that when there is a brew-staging:  directive in the PR title, that the branch is merged into master for the homebrew-k repository before continuing.", "createdAt": "2020-04-22T09:59:26Z", "url": "https://github.com/kframework/k/pull/1227", "merged": true, "mergeCommit": {"oid": "38c7192886da99f40ce36cb2666ae012a1cc95bd"}, "closed": true, "closedAt": "2020-04-30T13:21:57Z", "author": {"login": "ehildenb"}, "timelineItems": {"totalCount": 27, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcaGKiNgBqjMyNjAwMzM1MjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABccskHdAFqTQwMzQ4NzUzOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9cc57c97dc117e3f25b95829c5ddc1c406c3ebeb", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/9cc57c97dc117e3f25b95829c5ddc1c406c3ebeb", "committedDate": "2020-04-22T10:14:02Z", "message": "{src/main/scripts => package/macos}/brew-*, Jenkinsfile: move brew packaging scripts to package subdirectory"}, "afterCommit": {"oid": "5cd02bf5d4c187291d18608d1ec8817fce8b57a4", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/5cd02bf5d4c187291d18608d1ec8817fce8b57a4", "committedDate": "2020-04-22T10:56:34Z", "message": "!!! Jenkinsfile: debugging"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5cd02bf5d4c187291d18608d1ec8817fce8b57a4", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/5cd02bf5d4c187291d18608d1ec8817fce8b57a4", "committedDate": "2020-04-22T10:56:34Z", "message": "!!! Jenkinsfile: debugging"}, "afterCommit": {"oid": "cefddbaa077ec9246823e12c325e04201514a2ca", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/cefddbaa077ec9246823e12c325e04201514a2ca", "committedDate": "2020-04-23T09:56:08Z", "message": "!!! Jenkinsfile: debugging"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "877b1d1c94cf5827cc8a65eb2063288c2433b4b6", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/877b1d1c94cf5827cc8a65eb2063288c2433b4b6", "committedDate": "2020-04-23T12:27:27Z", "message": "Merge branch 'brew-staging-commit' into packaging-subdirectory"}, "afterCommit": {"oid": "81d24dc3fd86b3361f60770bc823902535a57bf1", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/81d24dc3fd86b3361f60770bc823902535a57bf1", "committedDate": "2020-04-23T23:41:55Z", "message": "!!! Jenkinsfile: debugging"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "096df9d89dc9fb1c9eea160267507581c9b5ec2a", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/096df9d89dc9fb1c9eea160267507581c9b5ec2a", "committedDate": "2020-04-24T09:18:19Z", "message": "Dockerfile: put less-likely to change steps earlier"}, "afterCommit": {"oid": "3ae7bdc94c2142f6088421d90039938d53f8f10f", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/3ae7bdc94c2142f6088421d90039938d53f8f10f", "committedDate": "2020-04-24T09:21:04Z", "message": "Dockerfile: put less-likely to change steps earlier"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b25799382467be97ea5d5b9d5249c017ff324886", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/b25799382467be97ea5d5b9d5249c017ff324886", "committedDate": "2020-04-24T22:38:22Z", "message": "Dockerfile: attempt setting locale stuf"}, "afterCommit": {"oid": "f100d8e1b4db6292bc4c00c19662a85728812213", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/f100d8e1b4db6292bc4c00c19662a85728812213", "committedDate": "2020-04-26T08:46:09Z", "message": "Jenkinsfile: ensure that branch in homebrew-k repo is up to date"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f100d8e1b4db6292bc4c00c19662a85728812213", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/f100d8e1b4db6292bc4c00c19662a85728812213", "committedDate": "2020-04-26T08:46:09Z", "message": "Jenkinsfile: ensure that branch in homebrew-k repo is up to date"}, "afterCommit": {"oid": "b092e73d9d411ca2366d10c8e6275838535241c2", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/b092e73d9d411ca2366d10c8e6275838535241c2", "committedDate": "2020-04-26T10:47:38Z", "message": "!!! Jenkinsfile: debugging"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b092e73d9d411ca2366d10c8e6275838535241c2", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/b092e73d9d411ca2366d10c8e6275838535241c2", "committedDate": "2020-04-26T10:47:38Z", "message": "!!! Jenkinsfile: debugging"}, "afterCommit": {"oid": "1b5d55b7be27f8ee0a2a06a1e49a22718a5fc45c", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/1b5d55b7be27f8ee0a2a06a1e49a22718a5fc45c", "committedDate": "2020-04-27T16:50:57Z", "message": "!!! Jenkinsfile: debugging"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0bb9f6a66c7bc2f66c54115952b7000e39628a26", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/0bb9f6a66c7bc2f66c54115952b7000e39628a26", "committedDate": "2020-04-28T07:41:22Z", "message": "Jenkinsfile: try building K binary in subdirectory"}, "afterCommit": {"oid": "172683eeee4ecd42a96e0457501b8750f82b4403", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/172683eeee4ecd42a96e0457501b8750f82b4403", "committedDate": "2020-04-28T09:54:19Z", "message": "Merge remote-tracking branch 'upstream/master' into packaging-subdirectory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e66e2f5f47d3f974749aa6a517ec3702b0c6713a", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/e66e2f5f47d3f974749aa6a517ec3702b0c6713a", "committedDate": "2020-04-28T20:49:12Z", "message": "Jenkinsfile: formatting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5190e912d867253d6fd9576ebcae48503ade9ddb", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/5190e912d867253d6fd9576ebcae48503ade9ddb", "committedDate": "2020-04-28T20:49:12Z", "message": "{. => package/arch}, Jenkinsfile: move to packaging subdirectory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6495dc39aeab44341630d48d0778ab878cd3ba66", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/6495dc39aeab44341630d48d0778ab878cd3ba66", "committedDate": "2020-04-28T20:49:12Z", "message": "{. => package}/debian, Jenkinsfile: move to packaging subdirectory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "de951e6fc9eda3aec9e4c7b978e8c52c525664d2", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/de951e6fc9eda3aec9e4c7b978e8c52c525664d2", "committedDate": "2020-04-28T20:49:35Z", "message": "{src/main/scripts => package/macos}/brew-*, Jenkinsfile: move brew packaging scripts to package subdirectory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d80429e9fa94b41ed1e4287757c6613c5a640365", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/d80429e9fa94b41ed1e4287757c6613c5a640365", "committedDate": "2020-04-28T20:49:35Z", "message": "{src/main/scripts => package}/package, package/: move packaging script"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "172683eeee4ecd42a96e0457501b8750f82b4403", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/172683eeee4ecd42a96e0457501b8750f82b4403", "committedDate": "2020-04-28T09:54:19Z", "message": "Merge remote-tracking branch 'upstream/master' into packaging-subdirectory"}, "afterCommit": {"oid": "63383fa92babf353b3426309e651576573a7bd73", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/63383fa92babf353b3426309e651576573a7bd73", "committedDate": "2020-04-28T20:50:54Z", "message": "Revert \"{. => package}/debian, Jenkinsfile: move to packaging subdirectory\"\n\nThis reverts commit 6495dc39aeab44341630d48d0778ab878cd3ba66."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a1ac755261e77684f7e85d335082929bb96691bf", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/a1ac755261e77684f7e85d335082929bb96691bf", "committedDate": "2020-04-29T07:27:54Z", "message": "Revert \"Jenkinsfile: formatting\"\n\nThis reverts commit e66e2f5f47d3f974749aa6a517ec3702b0c6713a."}, "afterCommit": {"oid": "44d0c3b02073b382503071007ae6d20381c2c984", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/44d0c3b02073b382503071007ae6d20381c2c984", "committedDate": "2020-04-29T07:27:46Z", "message": "Revert \"{. => package/arch}, Jenkinsfile: move to packaging subdirectory\"\n\nThis reverts commit 5190e912d867253d6fd9576ebcae48503ade9ddb."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "44d0c3b02073b382503071007ae6d20381c2c984", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/44d0c3b02073b382503071007ae6d20381c2c984", "committedDate": "2020-04-29T07:27:46Z", "message": "Revert \"{. => package/arch}, Jenkinsfile: move to packaging subdirectory\"\n\nThis reverts commit 5190e912d867253d6fd9576ebcae48503ade9ddb."}, "afterCommit": {"oid": "63383fa92babf353b3426309e651576573a7bd73", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/63383fa92babf353b3426309e651576573a7bd73", "committedDate": "2020-04-28T20:50:54Z", "message": "Revert \"{. => package}/debian, Jenkinsfile: move to packaging subdirectory\"\n\nThis reverts commit 6495dc39aeab44341630d48d0778ab878cd3ba66."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "63383fa92babf353b3426309e651576573a7bd73", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/63383fa92babf353b3426309e651576573a7bd73", "committedDate": "2020-04-28T20:50:54Z", "message": "Revert \"{. => package}/debian, Jenkinsfile: move to packaging subdirectory\"\n\nThis reverts commit 6495dc39aeab44341630d48d0778ab878cd3ba66."}, "afterCommit": {"oid": "e1b71e734b02862b0cd5465cefe54a2ab534f6e9", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/e1b71e734b02862b0cd5465cefe54a2ab534f6e9", "committedDate": "2020-04-29T13:52:45Z", "message": "Revert \"{. => package/arch}, Jenkinsfile: move to packaging subdirectory\"\n\nThis reverts commit 5190e912d867253d6fd9576ebcae48503ade9ddb."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e1b71e734b02862b0cd5465cefe54a2ab534f6e9", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/e1b71e734b02862b0cd5465cefe54a2ab534f6e9", "committedDate": "2020-04-29T13:52:45Z", "message": "Revert \"{. => package/arch}, Jenkinsfile: move to packaging subdirectory\"\n\nThis reverts commit 5190e912d867253d6fd9576ebcae48503ade9ddb."}, "afterCommit": {"oid": "e4cb69b734beac4210aeb2e72fafcc01e3a48a42", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/e4cb69b734beac4210aeb2e72fafcc01e3a48a42", "committedDate": "2020-04-29T16:56:32Z", "message": "Revert \"{. => package/arch}, Jenkinsfile: move to packaging subdirectory\"\n\nThis reverts commit 5190e912d867253d6fd9576ebcae48503ade9ddb."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e4cb69b734beac4210aeb2e72fafcc01e3a48a42", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/e4cb69b734beac4210aeb2e72fafcc01e3a48a42", "committedDate": "2020-04-29T16:56:32Z", "message": "Revert \"{. => package/arch}, Jenkinsfile: move to packaging subdirectory\"\n\nThis reverts commit 5190e912d867253d6fd9576ebcae48503ade9ddb."}, "afterCommit": {"oid": "4c0ad86bbc551e7db394155c085a99694061b156", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/4c0ad86bbc551e7db394155c085a99694061b156", "committedDate": "2020-04-29T19:41:21Z", "message": "Revert \"{. => package/arch}, Jenkinsfile: move to packaging subdirectory\"\n\nThis reverts commit 5190e912d867253d6fd9576ebcae48503ade9ddb."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4c0ad86bbc551e7db394155c085a99694061b156", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/4c0ad86bbc551e7db394155c085a99694061b156", "committedDate": "2020-04-29T19:41:21Z", "message": "Revert \"{. => package/arch}, Jenkinsfile: move to packaging subdirectory\"\n\nThis reverts commit 5190e912d867253d6fd9576ebcae48503ade9ddb."}, "afterCommit": {"oid": "02feba3aef369bb854b4bea624b7b8305f42c140", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/02feba3aef369bb854b4bea624b7b8305f42c140", "committedDate": "2020-04-28T20:49:35Z", "message": "!!! Jenkinsfile: debugging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fed0f801be1038020a2993a0788f317c6e1c9dbf", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/fed0f801be1038020a2993a0788f317c6e1c9dbf", "committedDate": "2020-04-30T09:30:33Z", "message": "Jenkinsfile: build arch package in subdirectory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "498826ed5c09a72bdf2e187cd94fc14c40990b50", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/498826ed5c09a72bdf2e187cd94fc14c40990b50", "committedDate": "2020-04-30T09:30:40Z", "message": "!!! Jenkinsfile: debugging"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "856dbbdbdf02245f6971a31852304645b88a2d6e", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/856dbbdbdf02245f6971a31852304645b88a2d6e", "committedDate": "2020-04-30T00:45:20Z", "message": "Jenkinsfile: try buildign arch package in subdirectory"}, "afterCommit": {"oid": "498826ed5c09a72bdf2e187cd94fc14c40990b50", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/498826ed5c09a72bdf2e187cd94fc14c40990b50", "committedDate": "2020-04-30T09:30:40Z", "message": "!!! Jenkinsfile: debugging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4135a24d8e372a59d58e55608001c04f8443430", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/f4135a24d8e372a59d58e55608001c04f8443430", "committedDate": "2020-04-30T12:30:30Z", "message": "Revert \"!!! Jenkinsfile: debugging\"\n\nThis reverts commit 498826ed5c09a72bdf2e187cd94fc14c40990b50."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b51923b71aa0be6ba6719b1107ddbceee6fb8dd", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/5b51923b71aa0be6ba6719b1107ddbceee6fb8dd", "committedDate": "2020-04-30T12:30:40Z", "message": "Merge remote-tracking branch 'upstream/master' into packaging-subdirectory"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzNDc4NTU0", "url": "https://github.com/kframework/k/pull/1227#pullrequestreview-403478554", "createdAt": "2020-04-30T12:39:07Z", "commit": {"oid": "5b51923b71aa0be6ba6719b1107ddbceee6fb8dd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxMjozOTowN1rOGOnXNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxMjozOTowN1rOGOnXNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzk3ODE2Nw==", "bodyText": "Why is this here? Hasn't it already done a fresh clone of master?", "url": "https://github.com/kframework/k/pull/1227#discussion_r417978167", "createdAt": "2020-04-30T12:39:07Z", "author": {"login": "dwightguth"}, "path": "Jenkinsfile", "diffHunk": "@@ -302,23 +309,24 @@ pipeline {\n                         git show-ref --verify refs/remotes/origin/$brew_base_branch\n                         git push -d origin brew-release-$PACKAGE || true\n                         git checkout -b brew-release-$PACKAGE \"origin/$brew_base_branch\"\n-                        ${WORKSPACE}/src/main/scripts/brew-update-to-local\n+                        git merge origin/master", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b51923b71aa0be6ba6719b1107ddbceee6fb8dd"}, "originalPosition": 48}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzNDg3NTM5", "url": "https://github.com/kframework/k/pull/1227#pullrequestreview-403487539", "createdAt": "2020-04-30T12:51:14Z", "commit": {"oid": "5b51923b71aa0be6ba6719b1107ddbceee6fb8dd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2465, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}