{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzNDAzODg0", "number": 1254, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwOTozNDowOFrOD5UzlA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQxOTo1MTozMlrOEBfjVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxNDM2MzA4OnYy", "diffSide": "RIGHT", "path": "k-distribution/include/builtin/domains.k", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwOTozNDowOFrOGQhlfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwOTozNDowOFrOGQhlfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTk4MDY2OA==", "bodyText": "Shouldn't this also require that the middle argument be non-zero? What do the backend implementations of this assume? We should strive to make sure that this is an accurate description of what the users can expect the backends to be able to handle.", "url": "https://github.com/kframework/k/pull/1254#discussion_r419980668", "createdAt": "2020-05-05T09:34:08Z", "author": {"login": "ehildenb"}, "path": "k-distribution/include/builtin/domains.k", "diffHunk": "@@ -836,6 +836,9 @@ module BYTES-IN-K\n   rule padLeftBytes(BS, LEN, VAL) => BS requires lengthBytes(BS) >=Int LEN\n   rule padLeftBytes(BS, LEN, VAL) => padLeftBytes(VAL : BS, LEN, VAL) requires lengthBytes(BS) <Int LEN\n \n+  rule #Ceil(padRightBytes(_,_, VAL)) => {(0 <=Int VAL andBool VAL <Int 256) #Equals true} [anywhere]\n+  rule #Ceil(padLeftBytes(_,_, VAL))  => {(0 <=Int VAL andBool VAL <Int 256) #Equals true} [anywhere]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef136fdea5fba4050506271436897ecccfc4bc57"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxNDM5MTA0OnYy", "diffSide": "RIGHT", "path": "k-distribution/include/builtin/domains.k", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQwOTo0MTo1M1rOGQh2ig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxNDo0NjowNlrOGQs7xw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTk4NTAzNA==", "bodyText": "Judging by K implementation there are no restrictions on middle argument. Hooked implementation must be reviewed and adapted so that it matches K implementation. If this is not practical then the discrepancy must be commented.", "url": "https://github.com/kframework/k/pull/1254#discussion_r419985034", "createdAt": "2020-05-05T09:41:53Z", "author": {"login": "denis-bogdanas"}, "path": "k-distribution/include/builtin/domains.k", "diffHunk": "@@ -836,6 +836,9 @@ module BYTES-IN-K\n   rule padLeftBytes(BS, LEN, VAL) => BS requires lengthBytes(BS) >=Int LEN\n   rule padLeftBytes(BS, LEN, VAL) => padLeftBytes(VAL : BS, LEN, VAL) requires lengthBytes(BS) <Int LEN", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef136fdea5fba4050506271436897ecccfc4bc57"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDE2NjU5OQ==", "bodyText": "We should change the K implementation so that the len requirement has to be nonnegative.", "url": "https://github.com/kframework/k/pull/1254#discussion_r420166599", "createdAt": "2020-05-05T14:46:06Z", "author": {"login": "dwightguth"}, "path": "k-distribution/include/builtin/domains.k", "diffHunk": "@@ -836,6 +836,9 @@ module BYTES-IN-K\n   rule padLeftBytes(BS, LEN, VAL) => BS requires lengthBytes(BS) >=Int LEN\n   rule padLeftBytes(BS, LEN, VAL) => padLeftBytes(VAL : BS, LEN, VAL) requires lengthBytes(BS) <Int LEN", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTk4NTAzNA=="}, "originalCommit": {"oid": "ef136fdea5fba4050506271436897ecccfc4bc57"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNTMxNzE1OnYy", "diffSide": "RIGHT", "path": "k-distribution/include/builtin/domains.k", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxODozMTowN1rOGSLGCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxMDozNzo1NFrOGShPiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTcwOTMyMA==", "bodyText": "I have the same comment I have on the other PR. If these are intended for the haskell backend, they should not be in the module tagged [kast].", "url": "https://github.com/kframework/k/pull/1254#discussion_r421709320", "createdAt": "2020-05-07T18:31:07Z", "author": {"login": "dwightguth"}, "path": "k-distribution/include/builtin/domains.k", "diffHunk": "@@ -863,6 +863,10 @@ endmodule\n \n module BYTES-SYMBOLIC [symbolic, kast]\n   imports BYTES-IN-K\n+\n+  rule #Ceil(padRightBytes(_, LEN, VAL)) => {(0 <=Int LEN andBool 0 <=Int VAL andBool VAL <Int 256) #Equals true} [anywhere, simplification]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67566a26874bbd7e38085a4941efc6e71ee9d9ed"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTcyMTI2Mg==", "bodyText": "@dwightguth Should I create a separate module just for these rules?", "url": "https://github.com/kframework/k/pull/1254#discussion_r421721262", "createdAt": "2020-05-07T18:51:44Z", "author": {"login": "denis-bogdanas"}, "path": "k-distribution/include/builtin/domains.k", "diffHunk": "@@ -863,6 +863,10 @@ endmodule\n \n module BYTES-SYMBOLIC [symbolic, kast]\n   imports BYTES-IN-K\n+\n+  rule #Ceil(padRightBytes(_, LEN, VAL)) => {(0 <=Int LEN andBool 0 <=Int VAL andBool VAL <Int 256) #Equals true} [anywhere, simplification]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTcwOTMyMA=="}, "originalCommit": {"oid": "67566a26874bbd7e38085a4941efc6e71ee9d9ed"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjA3MjIwMQ==", "bodyText": "They should be in a module tagged kore or kore, symbolic", "url": "https://github.com/kframework/k/pull/1254#discussion_r422072201", "createdAt": "2020-05-08T10:37:54Z", "author": {"login": "ehildenb"}, "path": "k-distribution/include/builtin/domains.k", "diffHunk": "@@ -863,6 +863,10 @@ endmodule\n \n module BYTES-SYMBOLIC [symbolic, kast]\n   imports BYTES-IN-K\n+\n+  rule #Ceil(padRightBytes(_, LEN, VAL)) => {(0 <=Int LEN andBool 0 <=Int VAL andBool VAL <Int 256) #Equals true} [anywhere, simplification]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTcwOTMyMA=="}, "originalCommit": {"oid": "67566a26874bbd7e38085a4941efc6e71ee9d9ed"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwMDAwNzA4OnYy", "diffSide": "RIGHT", "path": "k-distribution/include/builtin/domains.k", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQxOTo1MDozNlrOGdX3eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxOTozMjo0M1rOGeBFeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ1MjkyMg==", "bodyText": "I don't understand this change; why was it necessary?", "url": "https://github.com/kframework/k/pull/1254#discussion_r433452922", "createdAt": "2020-06-01T19:50:36Z", "author": {"login": "dwightguth"}, "path": "k-distribution/include/builtin/domains.k", "diffHunk": "@@ -830,11 +830,11 @@ module BYTES-IN-K\n   rule replaceAtBytes(B : BS, N, BS') => B : replaceAtBytes(BS, N -Int 1, BS') requires N >Int 0\n   rule replaceAtBytes(_ : BS, 0, B : BS') => B : replaceAtBytes(BS, 0, BS')\n \n-  syntax Bytes ::= padRightBytes(Bytes, Int, Int) [function]\n-                 | padLeftBytes(Bytes, Int, Int) [function]\n+  syntax Bytes ::= padRightBytes(Bytes, Int, Int) [function, klabel(padRightBytes)]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57be3c43b8a81f7044f52a96614b5e567a90a2cb"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY4NjgwOA==", "bodyText": "I don't remember. Probably for debugging. Can be removed.", "url": "https://github.com/kframework/k/pull/1254#discussion_r433686808", "createdAt": "2020-06-02T07:52:57Z", "author": {"login": "denis-bogdanas"}, "path": "k-distribution/include/builtin/domains.k", "diffHunk": "@@ -830,11 +830,11 @@ module BYTES-IN-K\n   rule replaceAtBytes(B : BS, N, BS') => B : replaceAtBytes(BS, N -Int 1, BS') requires N >Int 0\n   rule replaceAtBytes(_ : BS, 0, B : BS') => B : replaceAtBytes(BS, 0, BS')\n \n-  syntax Bytes ::= padRightBytes(Bytes, Int, Int) [function]\n-                 | padLeftBytes(Bytes, Int, Int) [function]\n+  syntax Bytes ::= padRightBytes(Bytes, Int, Int) [function, klabel(padRightBytes)]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ1MjkyMg=="}, "originalCommit": {"oid": "57be3c43b8a81f7044f52a96614b5e567a90a2cb"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDEyODI0OA==", "bodyText": "I'd rather we remove it because as it stands it's not going to do anything, which makes it redundant.", "url": "https://github.com/kframework/k/pull/1254#discussion_r434128248", "createdAt": "2020-06-02T19:32:43Z", "author": {"login": "dwightguth"}, "path": "k-distribution/include/builtin/domains.k", "diffHunk": "@@ -830,11 +830,11 @@ module BYTES-IN-K\n   rule replaceAtBytes(B : BS, N, BS') => B : replaceAtBytes(BS, N -Int 1, BS') requires N >Int 0\n   rule replaceAtBytes(_ : BS, 0, B : BS') => B : replaceAtBytes(BS, 0, BS')\n \n-  syntax Bytes ::= padRightBytes(Bytes, Int, Int) [function]\n-                 | padLeftBytes(Bytes, Int, Int) [function]\n+  syntax Bytes ::= padRightBytes(Bytes, Int, Int) [function, klabel(padRightBytes)]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ1MjkyMg=="}, "originalCommit": {"oid": "57be3c43b8a81f7044f52a96614b5e567a90a2cb"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwMDAwOTgwOnYy", "diffSide": "RIGHT", "path": "k-distribution/include/builtin/domains.k", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQxOTo1MTozMlrOGdX5KQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNDo0NToxNlrOGfJiXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ1MzM1Mw==", "bodyText": "this entire module is not going to get imported on the haskell backend, thus, neither will this import.", "url": "https://github.com/kframework/k/pull/1254#discussion_r433453353", "createdAt": "2020-06-01T19:51:32Z", "author": {"login": "dwightguth"}, "path": "k-distribution/include/builtin/domains.k", "diffHunk": "@@ -863,6 +863,14 @@ endmodule\n \n module BYTES-SYMBOLIC [symbolic, kast]\n   imports BYTES-IN-K\n+  imports BYTES-SYMBOLIC-CEIL", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57be3c43b8a81f7044f52a96614b5e567a90a2cb"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzY4ODE5NQ==", "bodyText": "Can you explain how module attributes work? Will [symbolic, kast] get imported by union or intersection of backends marked with [symbolic] and [kast]? If it's union, I guess hashell backend will import BYTES-SYMBOLIC.", "url": "https://github.com/kframework/k/pull/1254#discussion_r433688195", "createdAt": "2020-06-02T07:55:18Z", "author": {"login": "denis-bogdanas"}, "path": "k-distribution/include/builtin/domains.k", "diffHunk": "@@ -863,6 +863,14 @@ endmodule\n \n module BYTES-SYMBOLIC [symbolic, kast]\n   imports BYTES-IN-K\n+  imports BYTES-SYMBOLIC-CEIL", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ1MzM1Mw=="}, "originalCommit": {"oid": "57be3c43b8a81f7044f52a96614b5e567a90a2cb"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDEyNzczMA==", "bodyText": "A module tagged symbolic, kast will be imported only by the java backend.", "url": "https://github.com/kframework/k/pull/1254#discussion_r434127730", "createdAt": "2020-06-02T19:31:46Z", "author": {"login": "dwightguth"}, "path": "k-distribution/include/builtin/domains.k", "diffHunk": "@@ -863,6 +863,14 @@ endmodule\n \n module BYTES-SYMBOLIC [symbolic, kast]\n   imports BYTES-IN-K\n+  imports BYTES-SYMBOLIC-CEIL", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ1MzM1Mw=="}, "originalCommit": {"oid": "57be3c43b8a81f7044f52a96614b5e567a90a2cb"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTMwMjY4Ng==", "bodyText": "Ok, so what's your solution, where to put those rules? I have no idea based on your explanation. Feel free to close the PR/fix/suggest an actionable fix.", "url": "https://github.com/kframework/k/pull/1254#discussion_r435302686", "createdAt": "2020-06-04T14:28:57Z", "author": {"login": "denis-bogdanas"}, "path": "k-distribution/include/builtin/domains.k", "diffHunk": "@@ -863,6 +863,14 @@ endmodule\n \n module BYTES-SYMBOLIC [symbolic, kast]\n   imports BYTES-IN-K\n+  imports BYTES-SYMBOLIC-CEIL", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ1MzM1Mw=="}, "originalCommit": {"oid": "57be3c43b8a81f7044f52a96614b5e567a90a2cb"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTMxNTI5NA==", "bodyText": "It's the intersection of the kore and symbolic which makes it the Haskell backend.\nSo you may need to make a new module.", "url": "https://github.com/kframework/k/pull/1254#discussion_r435315294", "createdAt": "2020-06-04T14:45:16Z", "author": {"login": "ehildenb"}, "path": "k-distribution/include/builtin/domains.k", "diffHunk": "@@ -863,6 +863,14 @@ endmodule\n \n module BYTES-SYMBOLIC [symbolic, kast]\n   imports BYTES-IN-K\n+  imports BYTES-SYMBOLIC-CEIL", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzQ1MzM1Mw=="}, "originalCommit": {"oid": "57be3c43b8a81f7044f52a96614b5e567a90a2cb"}, "originalPosition": 20}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3084, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}