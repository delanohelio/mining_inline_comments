{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxMTE2MTQx", "number": 1553, "title": "Use `claim` keyword for proof obligations", "bodyText": "Fixes #1434\nThis is supposed to be a simplified version of #1537 without all the tests so it makes it easier to review.", "createdAt": "2020-09-22T18:23:20Z", "url": "https://github.com/kframework/k/pull/1553", "merged": true, "mergeCommit": {"oid": "0e1f299d51e0c22bff843946c92780fec3fb94ae"}, "closed": true, "closedAt": "2020-10-09T17:28:10Z", "author": {"login": "radumereuta"}, "timelineItems": {"totalCount": 38, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdFqDDKAH2gAyNDkxMTE2MTQxOjY0YzU5ZjEzZmNiMTU1NzczYTdkN2MzZGYwZWNkYTQzZDE3NzQ1ZjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQ5nU3AFqTUwNTg2NDYwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "64c59f13fcb155773a7d7c3df0ecda43d17745f1", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/64c59f13fcb155773a7d7c3df0ecda43d17745f1", "committedDate": "2020-09-04T19:06:12Z", "message": "Add claim keyword and scala classes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f93721c43deb69c0e6f0794ece43aed11cbf36a", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/6f93721c43deb69c0e6f0794ece43aed11cbf36a", "committedDate": "2020-09-04T19:06:12Z", "message": "Adding support for Claim class.\n\nintermediate"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6f2331e5041684aef8f65eee1080d966a4e6c3d", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/a6f2331e5041684aef8f65eee1080d966a4e6c3d", "committedDate": "2020-09-04T19:06:12Z", "message": "Add RuleOrClaim abstract class\n\ntests fail with wrong result"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "397ba85ddc87c42caa4163fb05ba4c636eff5a39", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/397ba85ddc87c42caa4163fb05ba4c636eff5a39", "committedDate": "2020-09-04T19:06:12Z", "message": "Transform rule to claim"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d624bc241a54f02d37bea19bf4df8fffb5e989a", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/8d624bc241a54f02d37bea19bf4df8fffb5e989a", "committedDate": "2020-09-04T19:06:12Z", "message": "Fix module name and simplify code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f5911a53e2778e436eced38d780655515d84617", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/1f5911a53e2778e436eced38d780655515d84617", "committedDate": "2020-09-04T20:28:56Z", "message": "Fix failing tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ee95653ea7f3fcd9dc018ba4f39147b31096235", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/4ee95653ea7f3fcd9dc018ba4f39147b31096235", "committedDate": "2020-09-04T20:39:55Z", "message": "remove tab char"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46ddd3947d0a2430fe288f912e9c638a1fb95f51", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/46ddd3947d0a2430fe288f912e9c638a1fb95f51", "committedDate": "2020-09-06T19:30:35Z", "message": "fix more tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb4a1fac48eb0b52582adfb50c319e9963b79eb5", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/bb4a1fac48eb0b52582adfb50c319e9963b79eb5", "committedDate": "2020-09-07T16:25:53Z", "message": "Partial fix for test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d68e24974260c6ee78e5b75305bd8baec463a16d", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/d68e24974260c6ee78e5b75305bd8baec463a16d", "committedDate": "2020-09-07T16:48:24Z", "message": "Fix expand macros for Claims"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5a8049d6a8d649e562846ceadd8fd24acce89b0", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/a5a8049d6a8d649e562846ceadd8fd24acce89b0", "committedDate": "2020-09-07T16:55:19Z", "message": "Merge branch 'master' into claimKeyword\n\n# Conflicts:\n#\tkernel/src/main/java/org/kframework/backend/kore/ModuleToKORE.java\n#\tkernel/src/main/java/org/kframework/utils/Tag.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86772e2afbd44d8f331137f6dfa0337c3dc0fcd3", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/86772e2afbd44d8f331137f6dfa0337c3dc0fcd3", "committedDate": "2020-09-07T17:24:25Z", "message": "Merge master and more fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b32abe1a5ed4e46d62ebd120cef67033bf1b3079", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/b32abe1a5ed4e46d62ebd120cef67033bf1b3079", "committedDate": "2020-09-08T15:46:59Z", "message": "Generate proper claim tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03da1a6b3652b426ab5bf3e6fbed8f1d94461228", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/03da1a6b3652b426ab5bf3e6fbed8f1d94461228", "committedDate": "2020-09-10T16:19:16Z", "message": "Partial fix for Java prover"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9731885abed0060eef685b427ad8989f44db525e", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/9731885abed0060eef685b427ad8989f44db525e", "committedDate": "2020-09-10T19:59:33Z", "message": "Simulate marking mechanism till I find the bug."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "738719426aab21f23afe6f59d103b76bf953c9c8", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/738719426aab21f23afe6f59d103b76bf953c9c8", "committedDate": "2020-09-14T20:47:08Z", "message": "Add annotation to help IntelliJ find ordering implicit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93d9e897c331d20514bd8464fd227f6df408e8b0", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/93d9e897c331d20514bd8464fd227f6df408e8b0", "committedDate": "2020-09-14T21:07:45Z", "message": "Update transformers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "936082cf67ae12a1c34f58b5bcf848c8577ce2c1", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/936082cf67ae12a1c34f58b5bcf848c8577ce2c1", "committedDate": "2020-09-14T21:08:07Z", "message": "Merge branch 'master' into claimKeyword"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c16ffd2def03ec46e7d803050cd9518e80f7179e", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/c16ffd2def03ec46e7d803050cd9518e80f7179e", "committedDate": "2020-09-15T14:11:31Z", "message": "Fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bd60b3eb5b09294e1442ae633b8823990925f3e6", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/bd60b3eb5b09294e1442ae633b8823990925f3e6", "committedDate": "2020-09-15T15:03:01Z", "message": "Fix checks."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa4e3d6cf600752432b23830b7f2a29c0ebcbfaf", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/fa4e3d6cf600752432b23830b7f2a29c0ebcbfaf", "committedDate": "2020-09-22T18:10:35Z", "message": "Accept 0,1 or 2 dots in paths for sed."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "539834a46ab1e35462f6002eb7bfb21ddb561456", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/539834a46ab1e35462f6002eb7bfb21ddb561456", "committedDate": "2020-09-22T18:10:48Z", "message": "Merge branch 'master' into claimKeyword2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2e323e337e525b712b67ce083e83317c5b17739", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/e2e323e337e525b712b67ce083e83317c5b17739", "committedDate": "2020-09-22T18:18:04Z", "message": "Revert claim update."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5182501afd8ba092ab9316228a227bf169aeb7f0", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/5182501afd8ba092ab9316228a227bf169aeb7f0", "committedDate": "2020-09-22T19:07:07Z", "message": "Fix broken-spec.k"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22e87db67352922d6bb1e74e681b511ab5ccbc84", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/22e87db67352922d6bb1e74e681b511ab5ccbc84", "committedDate": "2020-09-22T19:10:48Z", "message": "Adding error check."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee4c1bcb365ac93f82d460cd6663c00494f765ac", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/ee4c1bcb365ac93f82d460cd6663c00494f765ac", "committedDate": "2020-09-24T17:18:11Z", "message": "Merge branch 'master' into claimKeyword2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23771781d08dc6c61d2671eb6b285c3942e10566", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/23771781d08dc6c61d2671eb6b285c3942e10566", "committedDate": "2020-09-24T17:36:10Z", "message": "Add warning check only for claim keyword."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4NDM1MjUx", "url": "https://github.com/kframework/k/pull/1553#pullrequestreview-498435251", "createdAt": "2020-09-29T12:53:50Z", "commit": {"oid": "23771781d08dc6c61d2671eb6b285c3942e10566"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxMjo1Mzo1MFrOHZrqYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxMjo1Mzo1MFrOHZrqYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjY5MTgxMA==", "bodyText": "What's the explanation behind this one?", "url": "https://github.com/kframework/k/pull/1553#discussion_r496691810", "createdAt": "2020-09-29T12:53:50Z", "author": {"login": "ehildenb"}, "path": "k-distribution/include/kframework/ktest-fail.mak", "diffHunk": "@@ -24,7 +24,7 @@ kompile: $(TESTS)\n dummy:\n \n %.k %.md: dummy\n-\t$(KOMPILE) $(KOMPILE_FLAGS) --backend $(KOMPILE_BACKEND) $(DEBUG_FAIL) $@ -d $(DEFDIR) 2>&1 | sed 's!'`pwd`'/\\(\\./\\)\\{0,1\\}!!g' $(CHECK) $@.out $(CHECK2)\n+\t$(KOMPILE) $(KOMPILE_FLAGS) --backend $(KOMPILE_BACKEND) $(DEBUG_FAIL) $@ -d $(DEFDIR) 2>&1 | sed 's!'`pwd`'/\\(\\./\\)\\{0,2\\}!!g' $(CHECK) $@.out $(CHECK2)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23771781d08dc6c61d2671eb6b285c3942e10566"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "251dc13dda5b9a13233caffa54a14e0b21a14c91", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/251dc13dda5b9a13233caffa54a14e0b21a14c91", "committedDate": "2020-09-30T19:31:35Z", "message": "Merge branch 'master' into claimKeyword2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d748d5e07a014c22c64a462cd8d71a6783d2389c", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/d748d5e07a014c22c64a462cd8d71a6783d2389c", "committedDate": "2020-09-30T20:39:48Z", "message": "Optimize code duplication"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0ca6ba29aa3d4b31fc9047c2b1a70c0ff082613", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/f0ca6ba29aa3d4b31fc9047c2b1a70c0ff082613", "committedDate": "2020-09-30T20:49:59Z", "message": "One more code simplification"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5NzMxNTUy", "url": "https://github.com/kframework/k/pull/1553#pullrequestreview-499731552", "createdAt": "2020-09-30T19:08:26Z", "commit": {"oid": "23771781d08dc6c61d2671eb6b285c3942e10566"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMTo0NToyM1rOHawdYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMTo0NToyM1rOHawdYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzgxODk3OA==", "bodyText": "Let's not bring this whole file back when we're just using it to mark the constant strings that are part of the Bubble class. Just put them as static fields on that class.", "url": "https://github.com/kframework/k/pull/1553#discussion_r497818978", "createdAt": "2020-09-30T21:45:23Z", "author": {"login": "dwightguth"}, "path": "kernel/src/main/java/org/kframework/utils/Tag.java", "diffHunk": "@@ -0,0 +1,35 @@\n+// Copyright (c) 2012-2020 K Team. All Rights Reserved.\n+package org.kframework.utils;\n+\n+public class Tag {\n+\n+    public final static String require = \"require\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0ca6ba29aa3d4b31fc9047c2b1a70c0ff082613"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5891b532f82de914376ea20e96cc973454fbfcf5", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/5891b532f82de914376ea20e96cc973454fbfcf5", "committedDate": "2020-10-05T19:10:18Z", "message": "Merge branch 'master' into claimKeyword2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3743c1e439b1826ec5944a54357e9d6e4f90fbe3", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/3743c1e439b1826ec5944a54357e9d6e4f90fbe3", "committedDate": "2020-10-05T19:41:48Z", "message": "Remove Tag.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0ODAxNzkx", "url": "https://github.com/kframework/k/pull/1553#pullrequestreview-504801791", "createdAt": "2020-10-08T13:48:24Z", "commit": {"oid": "443440f39a890f94cfc9e952ea842f9b178d0e97"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMzo0ODoyNFrOHeffBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMzo0ODoyNFrOHeffBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTczNTE3NQ==", "bodyText": "@dwightguth I need your input on this.\nSince adding all steps to the kprove pipeline, MergeRules is being called and it creates a rule which the backend doesn't expect. The most simple solution I could find was to avoid this step on modules that contain claims.", "url": "https://github.com/kframework/k/pull/1553#discussion_r501735175", "createdAt": "2020-10-08T13:48:24Z", "author": {"login": "radumereuta"}, "path": "kore/src/main/scala/org/kframework/compile/MergeRules.scala", "diffHunk": "@@ -30,6 +30,9 @@ class MergeRules(val automatonAttribute: String, filterAttribute: String) extend\n   val isRulePredicate = KLabel(\"isRule\")\n \n   def apply(m: Module): Module = {\n+    // TODO: find a better way to avoid adding merged rules to the spec module\n+    if (m.claims.nonEmpty) return m", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "443440f39a890f94cfc9e952ea842f9b178d0e97"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "69ba0adfbec4dfbbb84e752b585f11623ca3bd2a", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/69ba0adfbec4dfbbb84e752b585f11623ca3bd2a", "committedDate": "2020-10-08T17:09:23Z", "message": "Merge branch 'master' into claimKeyword2"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "443440f39a890f94cfc9e952ea842f9b178d0e97", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/443440f39a890f94cfc9e952ea842f9b178d0e97", "committedDate": "2020-10-08T13:37:10Z", "message": "Remove specificationSteps"}, "afterCommit": {"oid": "69ba0adfbec4dfbbb84e752b585f11623ca3bd2a", "author": {"user": {"login": "radumereuta", "name": "Radu Mereuta"}}, "url": "https://github.com/kframework/k/commit/69ba0adfbec4dfbbb84e752b585f11623ca3bd2a", "committedDate": "2020-10-08T17:09:23Z", "message": "Merge branch 'master' into claimKeyword2"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1ODY0NjA1", "url": "https://github.com/kframework/k/pull/1553#pullrequestreview-505864605", "createdAt": "2020-10-09T17:27:34Z", "commit": {"oid": "69ba0adfbec4dfbbb84e752b585f11623ca3bd2a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2219, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}