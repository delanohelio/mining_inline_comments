{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ5NDk2OTI2", "number": 1428, "title": "Fine-tuned warning control", "bodyText": "Basically, there's a lot of underlying machinery, but the only user-facing changes are that a couple of warnings that sometimes have false positives were made hidden, a few warnings that were very rare and in deprecated code were made into errors, and command line flags were added that allow fine tuned control over exactly which warnings are displayed.\nFixes #1405", "createdAt": "2020-07-15T13:54:26Z", "url": "https://github.com/kframework/k/pull/1428", "merged": true, "mergeCommit": {"oid": "a4ba29d7ae07aae0ba7647de334098044622911f"}, "closed": true, "closedAt": "2020-07-15T22:22:50Z", "author": {"login": "dwightguth"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc1KygSgH2gAyNDQ5NDk2OTI2OmY2MGZiNTEzYzhiY2VkMTkxZTQ1MDk1YWFmNDgzMjI4ODQxOTZkYmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1Q-xngH2gAyNDQ5NDk2OTI2OmM5YmU1ZjkyZWNjMjRlMmFmYTVlMDUyZTEwYWVkZTc0ODdiNzNjZTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f60fb513c8bced191e45095aaf48322884196dbe", "author": {"user": {"login": "dwightguth", "name": "Dwight Guth"}}, "url": "https://github.com/kframework/k/commit/f60fb513c8bced191e45095aaf48322884196dbe", "committedDate": "2020-07-15T13:38:17Z", "message": "remove references to hidden warnings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d52c94eb410edc66fd1163140f7d38e1c63fdb22", "author": {"user": {"login": "dwightguth", "name": "Dwight Guth"}}, "url": "https://github.com/kframework/k/commit/d52c94eb410edc66fd1163140f7d38e1c63fdb22", "committedDate": "2020-07-15T13:38:17Z", "message": "add types to all warnings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "efce9e1825a107601eed2d55cbf92e9f86edf7ee", "author": {"user": {"login": "dwightguth", "name": "Dwight Guth"}}, "url": "https://github.com/kframework/k/commit/efce9e1825a107601eed2d55cbf92e9f86edf7ee", "committedDate": "2020-07-15T13:38:17Z", "message": "fix compile errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8865ce1b079654b3fa2f25cdca67cd28146e7af1", "author": {"user": {"login": "dwightguth", "name": "Dwight Guth"}}, "url": "https://github.com/kframework/k/commit/8865ce1b079654b3fa2f25cdca67cd28146e7af1", "committedDate": "2020-07-15T13:38:17Z", "message": "disable missing hook exception by default on java backend"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "411a2b8cd37052e5a96fe3e83f8dd825c286483d", "author": {"user": {"login": "dwightguth", "name": "Dwight Guth"}}, "url": "https://github.com/kframework/k/commit/411a2b8cd37052e5a96fe3e83f8dd825c286483d", "committedDate": "2020-07-15T13:38:17Z", "message": "add ocntrols to enable or disable specific warnings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6dee3f9b5c2d79e41f86f99f282bb2bb1ddf8f35", "author": {"user": {"login": "dwightguth", "name": "Dwight Guth"}}, "url": "https://github.com/kframework/k/commit/6dee3f9b5c2d79e41f86f99f282bb2bb1ddf8f35", "committedDate": "2020-07-15T13:38:17Z", "message": "update test makefiles"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92cb389c77918051209de12a81c9d069f0ad0999", "author": {"user": {"login": "dwightguth", "name": "Dwight Guth"}}, "url": "https://github.com/kframework/k/commit/92cb389c77918051209de12a81c9d069f0ad0999", "committedDate": "2020-07-15T13:52:30Z", "message": "update tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7280802b2fe3eac3c367ea68b83a436ed0e2151c", "author": {"user": {"login": "dwightguth", "name": "Dwight Guth"}}, "url": "https://github.com/kframework/k/commit/7280802b2fe3eac3c367ea68b83a436ed0e2151c", "committedDate": "2020-07-15T13:52:37Z", "message": "fix bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2df37b4f862be78787813c0becf203896ad8cc20", "author": {"user": {"login": "dwightguth", "name": "Dwight Guth"}}, "url": "https://github.com/kframework/k/commit/2df37b4f862be78787813c0becf203896ad8cc20", "committedDate": "2020-07-15T13:52:40Z", "message": "fix another bug where warning count was incorrect in llvm backend"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00cd1c2be772dc02449937010563e1834eb00fd2", "author": {"user": {"login": "dwightguth", "name": "Dwight Guth"}}, "url": "https://github.com/kframework/k/commit/00cd1c2be772dc02449937010563e1834eb00fd2", "committedDate": "2020-07-15T14:01:15Z", "message": "fix whitespace"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1eb00f9e4b1bc43acb4c8a6c5c8fd0ebadcc5770", "author": {"user": {"login": "dwightguth", "name": "Dwight Guth"}}, "url": "https://github.com/kframework/k/commit/1eb00f9e4b1bc43acb4c8a6c5c8fd0ebadcc5770", "committedDate": "2020-07-15T14:21:10Z", "message": "fix tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5MTg1Mzg0", "url": "https://github.com/kframework/k/pull/1428#pullrequestreview-449185384", "createdAt": "2020-07-15T17:37:16Z", "commit": {"oid": "1eb00f9e4b1bc43acb4c8a6c5c8fd0ebadcc5770"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNzozNzoxNlrOGyItmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNzozNzoxNlrOGyItmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTIyNDcyOQ==", "bodyText": "Is there much use in distinguishing DEPRECATED_BACKEND from FUTURE_ERROR? Seems to me that DEPRECATED_BACKEND will only be used twice, and equally well could be just thrown into \"these are features that we will not support in the future.", "url": "https://github.com/kframework/k/pull/1428#discussion_r455224729", "createdAt": "2020-07-15T17:37:16Z", "author": {"login": "ehildenb"}, "path": "kernel/src/main/java/org/kframework/kompile/Kompile.java", "diffHunk": "@@ -105,7 +105,7 @@ public Kompile(KompileOptions kompileOptions, FileUtil files, KExceptionManager\n         this.sw = sw;\n \n         if (kompileOptions.backend.equals(\"ocaml\")) {\n-            kem.registerCriticalWarning(\"The OCaml backend is in the process of being deprecated (final date May 31, 2020). Please switch to the LLVM backend.\");\n+            kem.registerCriticalWarning(ExceptionType.DEPRECATED_BACKEND, \"The OCaml backend is in the process of being deprecated (final date May 31, 2020). Please switch to the LLVM backend.\");\n         }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1eb00f9e4b1bc43acb4c8a6c5c8fd0ebadcc5770"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5MTg4NjY0", "url": "https://github.com/kframework/k/pull/1428#pullrequestreview-449188664", "createdAt": "2020-07-15T17:41:48Z", "commit": {"oid": "1eb00f9e4b1bc43acb4c8a6c5c8fd0ebadcc5770"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNzo0MTo0OFrOGyI55Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNzo0MTo0OFrOGyI55Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTIyNzg3Nw==", "bodyText": "I think backend-specific things should not be in this list. So we should just have MISSING_HOOK, instead of MISSING_HOOK_OCAML or MISSING_HOOK_JAVA. And we should get rid of DEPRECATED_BACKEND and just use FUTURE_ERROR.", "url": "https://github.com/kframework/k/pull/1428#discussion_r455227877", "createdAt": "2020-07-15T17:41:48Z", "author": {"login": "ehildenb"}, "path": "kore/src/main/java/org/kframework/utils/errorsystem/KException.java", "diffHunk": "@@ -103,7 +95,24 @@ public int hashCode() {\n     }\n \n     public enum ExceptionType {\n-        ERROR, WARNING, HIDDENWARNING, NON_EXHAUSTIVE_MATCH, USELESS_RULE\n+        ERROR,\n+        NON_EXHAUSTIVE_MATCH,\n+        UNDELETED_TEMP_DIR,\n+        MISSING_HOOK_OCAML,\n+        MISSING_SYNTAX_MODULE,\n+        INVALID_EXIT_CODE,\n+        DEPRECATED_BACKEND,\n+        INVALID_CONFIG_VAR,\n+        FUTURE_ERROR,\n+        UNUSED_VAR,\n+        PROOF_LINT,\n+        FIRST_HIDDEN, // warnings below here are hidden by default\n+        MISSING_HOOK_JAVA,\n+        USELESS_RULE,\n+        UNRESOLVED_FUNCTION_SYMBOL,\n+        MALFORMED_MARKDOWN,\n+        INVALIDATED_CACHE,\n+        UNUSED_SYMBOL", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1eb00f9e4b1bc43acb4c8a6c5c8fd0ebadcc5770"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5MjUzOTY1", "url": "https://github.com/kframework/k/pull/1428#pullrequestreview-449253965", "createdAt": "2020-07-15T19:11:26Z", "commit": {"oid": "1eb00f9e4b1bc43acb4c8a6c5c8fd0ebadcc5770"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "909db8b74d39c60404fcfc4a6751adb87b0d434f", "author": {"user": {"login": "dwightguth", "name": "Dwight Guth"}}, "url": "https://github.com/kframework/k/commit/909db8b74d39c60404fcfc4a6751adb87b0d434f", "committedDate": "2020-07-15T19:49:31Z", "message": "fix review comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9be5f92ecc24e2afa5e052e10aede7487b73ce5", "author": {"user": {"login": "rv-jenkins", "name": null}}, "url": "https://github.com/kframework/k/commit/c9be5f92ecc24e2afa5e052e10aede7487b73ce5", "committedDate": "2020-07-15T20:51:07Z", "message": "Merge branch 'master' into warns"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2299, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}