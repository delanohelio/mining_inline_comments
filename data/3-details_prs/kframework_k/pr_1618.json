{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTExMDA5Mzk3", "number": 1618, "title": "Default packaging without OCAML backend [brew-staging: remove-opam]", "bodyText": "Fixes: #1600\nThis PR does:\n\nRemoves the OCAML backend dependency setup from the package installation process.\nRemoves the OCAML backend dependency teardown from the package removal process.\nUpdates the INSTALL and README instructions to let people know that OCAML dependencies are OPTIONAL and how to go about setting them up.", "createdAt": "2020-10-27T19:39:12Z", "url": "https://github.com/kframework/k/pull/1618", "merged": true, "mergeCommit": {"oid": "378ca497c76c635afe1d0874a5da24cf22fd1596"}, "closed": true, "closedAt": "2020-11-09T17:50:09Z", "author": {"login": "ehildenb"}, "timelineItems": {"totalCount": 35, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdWuOwNgH2gAyNTExMDA5Mzk3OjcwNmNmZjU4NWYzMGNkYmY3NTkyNzQ3ZTdjYTBhOWJmNmFjM2MyMTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABda3tz8gFqTUyNjQ1NzI3NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "706cff585f30cdbf7592747e7ca0a9bf6ac3c218", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/706cff585f30cdbf7592747e7ca0a9bf6ac3c218", "committedDate": "2020-10-27T19:35:19Z", "message": "package/*, k-distribution/INSTALL: remove ocaml backend dependencies by default"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "788685246ec108fd9b809cd61c82313053bf10dc", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/788685246ec108fd9b809cd61c82313053bf10dc", "committedDate": "2020-10-27T19:37:40Z", "message": "README: update documentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ca89f16ff2fbebf9435b100fbf639c28f3274ee", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/5ca89f16ff2fbebf9435b100fbf639c28f3274ee", "committedDate": "2020-10-27T20:29:24Z", "message": "src/main/scripts/test-in-container: setup ocaml for containerized test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4ODA3NTQ0", "url": "https://github.com/kframework/k/pull/1618#pullrequestreview-518807544", "createdAt": "2020-10-28T15:43:43Z", "commit": {"oid": "f85897be765605581971be6632f0c7471f8d4d3b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxNTo0Mzo0M1rOHpwqIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxNTo0Mzo0M1rOHpwqIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzU1MDg4Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                sudo apt-get install --yes opam\n          \n          \n            \n                                sh 'src/main/scripts/test-in-container-debian'\n          \n          \n            \n                                sh '''\n          \n          \n            \n                                  sudo apt-get install --yes opam\n          \n          \n            \n                                  src/main/scripts/test-in-container-debian\n          \n          \n            \n                                '''", "url": "https://github.com/kframework/k/pull/1618#discussion_r513550882", "createdAt": "2020-10-28T15:43:43Z", "author": {"login": "sskeirik"}, "path": "Jenkinsfile", "diffHunk": "@@ -103,6 +103,7 @@ pipeline {\n                   options { skipDefaultCheckout() }\n                   steps {\n                     unstash 'bionic'\n+                    sudo apt-get install --yes opam\n                     sh 'src/main/scripts/test-in-container-debian'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f85897be765605581971be6632f0c7471f8d4d3b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93fa35693fcaa636919e47b64f5afcc0a7a754b8", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/93fa35693fcaa636919e47b64f5afcc0a7a754b8", "committedDate": "2020-10-28T15:47:01Z", "message": "src/main/scripts/test-in-container: install opam first"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f85897be765605581971be6632f0c7471f8d4d3b", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/f85897be765605581971be6632f0c7471f8d4d3b", "committedDate": "2020-10-27T21:11:31Z", "message": "src/main/scripts/test-in-container: install opam first"}, "afterCommit": {"oid": "93fa35693fcaa636919e47b64f5afcc0a7a754b8", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/93fa35693fcaa636919e47b64f5afcc0a7a754b8", "committedDate": "2020-10-28T15:47:01Z", "message": "src/main/scripts/test-in-container: install opam first"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a017ac85187622d79cbc8a711e99572552ae3a3e", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/a017ac85187622d79cbc8a711e99572552ae3a3e", "committedDate": "2020-10-28T16:33:36Z", "message": "src/main/scripts/test-in-container, Jenkinsfile: install opam in containers first before testing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8565eddbd40e8a666ea3b92865f342a7cc0d0a7", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/d8565eddbd40e8a666ea3b92865f342a7cc0d0a7", "committedDate": "2020-10-28T16:44:28Z", "message": "Jenkinsfile, package/macos/brew-install-deps: also install opam for macos"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82eb31fb3c011dd8d9dc5082bf764ac898116593", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/82eb31fb3c011dd8d9dc5082bf764ac898116593", "committedDate": "2020-10-28T16:46:33Z", "message": "!!! Jenkinsfile: debugging"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b90b5902c2d982658b72662ed74314350af7441a", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/b90b5902c2d982658b72662ed74314350af7441a", "committedDate": "2020-10-28T16:45:20Z", "message": "!!! Jenkinsfile: debugging"}, "afterCommit": {"oid": "82eb31fb3c011dd8d9dc5082bf764ac898116593", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/82eb31fb3c011dd8d9dc5082bf764ac898116593", "committedDate": "2020-10-28T16:46:33Z", "message": "!!! Jenkinsfile: debugging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc7ffd7b9a92cb8ca89937b6089a624844de911c", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/bc7ffd7b9a92cb8ca89937b6089a624844de911c", "committedDate": "2020-10-28T17:42:49Z", "message": "src/main/scripts/test-in-container: organize"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb97bb88c1ef02f9f0c1420370a1a1516f626f3f", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/bb97bb88c1ef02f9f0c1420370a1a1516f626f3f", "committedDate": "2020-10-28T17:45:04Z", "message": "!!! src/main/scripts/test-in-container: debugging"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5Nzg0Nzg4", "url": "https://github.com/kframework/k/pull/1618#pullrequestreview-519784788", "createdAt": "2020-10-29T15:23:50Z", "commit": {"oid": "bb97bb88c1ef02f9f0c1420370a1a1516f626f3f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNToyMzo1MFrOHqhMlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxNToyMzo1MFrOHqhMlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDM0NjEzMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            k-configure-opam-dev || true\n          \n          \n            \n            opam depext conf-pkg-config.1.1 || true\n          \n          \n            \n            eval $(opam config env)\n          \n          \n            \n            opam depext conf-pkg-config.1.1 || true\n          \n          \n            \n            false\n          \n          \n            \n            opam depext conf-pkg-config.1.1\n          \n          \n            \n            k-configure-opam-dev\n          \n          \n            \n            eval $(opam config env)", "url": "https://github.com/kframework/k/pull/1618#discussion_r514346133", "createdAt": "2020-10-29T15:23:50Z", "author": {"login": "sskeirik"}, "path": "src/main/scripts/test-in-container", "diffHunk": "@@ -1,4 +1,9 @@\n #!/bin/sh -ex\n+k-configure-opam-dev || true\n+opam depext conf-pkg-config.1.1 || true\n+eval $(opam config env)\n+opam depext conf-pkg-config.1.1 || true\n+false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bb97bb88c1ef02f9f0c1420370a1a1516f626f3f"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33ff247308e4e7e4746db4c8b530328774f6683b", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/33ff247308e4e7e4746db4c8b530328774f6683b", "committedDate": "2020-10-30T14:32:31Z", "message": "package/debian: make sure pkg-config is installed by default for users who want ocaml backend"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "625041e226f47c70770ea0b8525e4c0c3284595a", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/625041e226f47c70770ea0b8525e4c0c3284595a", "committedDate": "2020-10-30T14:32:42Z", "message": "Revert \"!!! src/main/scripts/test-in-container: debugging\"\n\nThis reverts commit bb97bb88c1ef02f9f0c1420370a1a1516f626f3f."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "18fa853dbc32d1a02d34492e8af886f41236bfa0", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/18fa853dbc32d1a02d34492e8af886f41236bfa0", "committedDate": "2020-10-30T14:36:44Z", "message": "README: update list"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "000ddec851af0ad0ef097183025dec25aa9a13b9", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/000ddec851af0ad0ef097183025dec25aa9a13b9", "committedDate": "2020-10-30T15:45:18Z", "message": "!!! Jenkinsfile: skip macos build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "858dd1020c1674be0754f47c34c2a28eaa216577", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/858dd1020c1674be0754f47c34c2a28eaa216577", "committedDate": "2020-10-30T23:44:17Z", "message": "src/test-in-container: try k-configure-opam-dev => k-configure-opam"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "72932a9171bd6b4b57b3bd34a50145c4c5054d11", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/72932a9171bd6b4b57b3bd34a50145c4c5054d11", "committedDate": "2020-10-30T23:45:01Z", "message": "Revert \"!!! Jenkinsfile: skip macos build\"\n\nThis reverts commit 000ddec851af0ad0ef097183025dec25aa9a13b9."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b54dc0dd00f01147349c3ce14a222977d113a37", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/0b54dc0dd00f01147349c3ce14a222977d113a37", "committedDate": "2020-10-31T00:03:54Z", "message": "Merge remote-tracking branch 'upstream/master' into ocamless-package"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "707f82a939de6f7ef6a1d529114029214097c3aa", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/707f82a939de6f7ef6a1d529114029214097c3aa", "committedDate": "2020-11-02T20:56:17Z", "message": "Merge remote-tracking branch 'upstream/master' into ocamless-package"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5ee7b61d3f3143cb5836624007ac978c665eb11", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/c5ee7b61d3f3143cb5836624007ac978c665eb11", "committedDate": "2020-11-05T16:21:21Z", "message": "Merge remote-tracking branch 'upstream/master' into ocamless-package"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "afb3bc579a863f8c0774fa37f0e92baf8da134a3", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/afb3bc579a863f8c0774fa37f0e92baf8da134a3", "committedDate": "2020-11-05T16:22:43Z", "message": "Jenkinsfile.anka, package/macos/brew-install-deps: remove opam by default"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9aa1cef5a783098aca52d5d603dc073e880f479", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/f9aa1cef5a783098aca52d5d603dc073e880f479", "committedDate": "2020-11-05T22:07:46Z", "message": "Jenkinsfile: test ocaml backend on macos"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e70f85c8b899d438bbe6ab351aa12e7c482737e2", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/e70f85c8b899d438bbe6ab351aa12e7c482737e2", "committedDate": "2020-11-05T22:08:24Z", "message": "Jenkinsfile, src/main/scripts/test-in-container: set OPAMROOT when calling k-configure-opam"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c4532b7c72eb1b55507e89238bcfa2a84e24ff6", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/8c4532b7c72eb1b55507e89238bcfa2a84e24ff6", "committedDate": "2020-11-05T22:55:32Z", "message": "!!! Jenkinsfile: disable macos build for now"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28a9f6d9e7bfbb102a9d4d649ea70276a5d18b93", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/28a9f6d9e7bfbb102a9d4d649ea70276a5d18b93", "committedDate": "2020-11-06T14:58:49Z", "message": "Merge remote-tracking branch 'upstream/master' into ocamless-package"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8bd4d6d24b8062264b1ef0bb5d2025825bd17874", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/8bd4d6d24b8062264b1ef0bb5d2025825bd17874", "committedDate": "2020-11-06T14:59:43Z", "message": "Revert \"!!! Jenkinsfile: disable macos build for now\"\n\nThis reverts commit 8c4532b7c72eb1b55507e89238bcfa2a84e24ff6."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b4bafb35c0d7dc30b16be47a35efb4b8c7566fd", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/4b4bafb35c0d7dc30b16be47a35efb4b8c7566fd", "committedDate": "2020-11-06T15:00:46Z", "message": "Jenkinsfile: try MacOS without OPAMROOT"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "effa157259f9368ebf7251965c2f2b288a9ffeb5", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/effa157259f9368ebf7251965c2f2b288a9ffeb5", "committedDate": "2020-11-06T17:38:21Z", "message": "src/main/scripts/test-in-container-debian: make sure no interaction needed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e55ed371be7036a66eb7dfa34d24348bba33e6ad", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/e55ed371be7036a66eb7dfa34d24348bba33e6ad", "committedDate": "2020-11-06T19:59:29Z", "message": "Revert \"!!! Jenkinsfile: debugging\"\n\nThis reverts commit 82eb31fb3c011dd8d9dc5082bf764ac898116593."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b0822f5ad158ddef18c852ddab629e931571baf", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/0b0822f5ad158ddef18c852ddab629e931571baf", "committedDate": "2020-11-06T20:00:28Z", "message": "!!! Jenkinsfile: debug arch build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3371fed6c3bbd32e6f2a3d15779514259a13ee46", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/3371fed6c3bbd32e6f2a3d15779514259a13ee46", "committedDate": "2020-11-06T20:00:43Z", "message": "package/arch/PKGBUILD: unset install variable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6794d7d053377d540cee10e19be75d758cfabf5", "author": {"user": {"login": "ehildenb", "name": "Everett Hildenbrandt"}}, "url": "https://github.com/kframework/k/commit/b6794d7d053377d540cee10e19be75d758cfabf5", "committedDate": "2020-11-06T20:22:01Z", "message": "Revert \"!!! Jenkinsfile: debug arch build\"\n\nThis reverts commit 0b0822f5ad158ddef18c852ddab629e931571baf."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2NDU3Mjc0", "url": "https://github.com/kframework/k/pull/1618#pullrequestreview-526457274", "createdAt": "2020-11-09T16:54:06Z", "commit": {"oid": "b6794d7d053377d540cee10e19be75d758cfabf5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2239, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}