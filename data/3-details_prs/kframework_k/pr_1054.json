{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2NTAyNTYx", "number": 1054, "title": "fix bug involving interaction of function context and macros", "bodyText": "This fixes a bug in the C semantics, but I couldn't figure out how to reproduce the issue in a standalone K definition, so that's why there isn't a regression test...", "createdAt": "2020-01-23T18:28:54Z", "url": "https://github.com/kframework/k/pull/1054", "merged": true, "mergeCommit": {"oid": "9c8874cc5c023efbfeaf91e9ecae69ef742af836"}, "closed": true, "closedAt": "2020-01-24T18:21:50Z", "author": {"login": "dwightguth"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb9Ode5gH2gAyMzY2NTAyNTYxOjEwNzY1MTM5NTdiODJhYjI2ZWQ4YWE0ZWI1ODM4ZTAyYjM2ZjE5NGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb9iTLpAH2gAyMzY2NTAyNTYxOjEwYTM2MTNkNTFlYWJmMTcwNGRkMzM0YmM4ODEyZmNhYThjZGM4NTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1076513957b82ab26ed8aa4eb5838e02b36f194d", "author": {"user": {"login": "dwightguth", "name": "Dwight Guth"}}, "url": "https://github.com/kframework/k/commit/1076513957b82ab26ed8aa4eb5838e02b36f194d", "committedDate": "2020-01-23T18:15:11Z", "message": "fix bug involving interaction of function context and macros"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3NjIxMzU1", "url": "https://github.com/kframework/k/pull/1054#pullrequestreview-347621355", "createdAt": "2020-01-23T21:31:14Z", "commit": {"oid": "1076513957b82ab26ed8aa4eb5838e02b36f194d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QyMTozMToxNFrOFhNS4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QyMTozMToxNFrOFhNS4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDM2NTE1NA==", "bodyText": "I'm not entirely sure what's going on here, but I don't like that we're calling out variables by name specifically. Would this be affected if I named a variable as BLAH_Configuration in my definition?", "url": "https://github.com/kframework/k/pull/1054#discussion_r370365154", "createdAt": "2020-01-23T21:31:14Z", "author": {"login": "ehildenb"}, "path": "kernel/src/main/java/org/kframework/compile/ExpandMacros.java", "diffHunk": "@@ -220,6 +220,9 @@ public K apply(KApply k) {\n                                 public K apply(KVariable k) {\n                                     K result = subst.get(k);\n                                     if (result == null) {\n+                                      if (k.name().equals(\"_Configuration\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1076513957b82ab26ed8aa4eb5838e02b36f194d"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3NjIxODM1", "url": "https://github.com/kframework/k/pull/1054#pullrequestreview-347621835", "createdAt": "2020-01-23T21:32:05Z", "commit": {"oid": "1076513957b82ab26ed8aa4eb5838e02b36f194d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QyMTozMjowNVrOFhNUgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yM1QyMTozMjowNVrOFhNUgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDM2NTU3MA==", "bodyText": "So now we are expanding macros on macro rules? Just want to make sure that I understand what this is doing.", "url": "https://github.com/kframework/k/pull/1054#discussion_r370365570", "createdAt": "2020-01-23T21:32:05Z", "author": {"login": "ehildenb"}, "path": "kernel/src/main/java/org/kframework/compile/ResolveFunctionWithConfig.java", "diffHunk": "@@ -233,9 +233,6 @@ public Sentence resolveConfigVar(Sentence s) {\n     }\n \n     public Sentence resolve(Module m, Sentence s) {\n-        if (ExpandMacros.isMacro(s)) {\n-            return s;\n-        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1076513957b82ab26ed8aa4eb5838e02b36f194d"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4MDkwMjk2", "url": "https://github.com/kframework/k/pull/1054#pullrequestreview-348090296", "createdAt": "2020-01-24T16:56:45Z", "commit": {"oid": "1076513957b82ab26ed8aa4eb5838e02b36f194d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10a3613d51eabf1704dd334bc8812fcaa8cdc854", "author": {"user": {"login": "rv-jenkins", "name": null}}, "url": "https://github.com/kframework/k/commit/10a3613d51eabf1704dd334bc8812fcaa8cdc854", "committedDate": "2020-01-24T17:22:02Z", "message": "Merge branch 'master' into macro"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2492, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}