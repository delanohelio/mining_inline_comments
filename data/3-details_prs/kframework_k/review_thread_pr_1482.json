{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyMzc2NDM5", "number": 1482, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxODo0NDo1N1rOEVH4XA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxODo0OTo1M1rOEVH-9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNTg0NjY4OnYy", "diffSide": "RIGHT", "path": "k-distribution/include/kframework/builtin/kast.k", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxODo0NDo1N1rOG7s85w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxOTozMDowMFrOG7ufpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTI1NTY1NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              syntax {Sort} Sort ::= #location(Sort, String, Int, Int, Int, Int) [symbol, format(%3)]\n          \n          \n            \n              syntax {Sort} Sort ::= #location(Sort, file: String, startLine: Int, startColumn: Int, endLine: Int, endColumn: Int) [symbol, format(%3)]", "url": "https://github.com/kframework/k/pull/1482#discussion_r465255655", "createdAt": "2020-08-04T18:44:57Z", "author": {"login": "nishantjr"}, "path": "k-distribution/include/kframework/builtin/kast.k", "diffHunk": "@@ -295,6 +295,15 @@ module K-AMBIGUITIES\n \n endmodule\n \n+module K-LOCATIONS\n+  imports STRING-SYNTAX\n+  imports INT-SYNTAX\n+\n+  // filename, startLine, startCol, endLine, endCol\n+  syntax {Sort} Sort ::= #location(Sort, String, Int, Int, Int, Int) [symbol, format(%3)]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "508f12b35e743fa6cebaad405764c83b90b4ef8b"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTI4MDkzMw==", "bodyText": "Believe me, I wanted to do this. But the accessor functions that this would generate would be parametric functions, which we don't support yet.", "url": "https://github.com/kframework/k/pull/1482#discussion_r465280933", "createdAt": "2020-08-04T19:30:00Z", "author": {"login": "dwightguth"}, "path": "k-distribution/include/kframework/builtin/kast.k", "diffHunk": "@@ -295,6 +295,15 @@ module K-AMBIGUITIES\n \n endmodule\n \n+module K-LOCATIONS\n+  imports STRING-SYNTAX\n+  imports INT-SYNTAX\n+\n+  // filename, startLine, startCol, endLine, endCol\n+  syntax {Sort} Sort ::= #location(Sort, String, Int, Int, Int, Int) [symbol, format(%3)]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTI1NTY1NQ=="}, "originalCommit": {"oid": "508f12b35e743fa6cebaad405764c83b90b4ef8b"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNTg2MzU3OnYy", "diffSide": "RIGHT", "path": "k-distribution/tests/regression-new/locations/test.k", "isResolved": false, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxODo0OTo1M1rOG7tHXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxOTozMjowNVrOG7umjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTI1ODMzMg==", "bodyText": "What is the purpose of the IntConst label?", "url": "https://github.com/kframework/k/pull/1482#discussion_r465258332", "createdAt": "2020-08-04T18:49:53Z", "author": {"login": "nishantjr"}, "path": "k-distribution/tests/regression-new/locations/test.k", "diffHunk": "@@ -0,0 +1,13 @@\n+module TEST-SYNTAX\n+  imports UNSIGNED-INT-SYNTAX\n+  syntax Exp [locations]\n+  syntax Exp ::= Exp \"+\" Exp | Int [klabel(IntConst)]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bfe8ee6c327b7d1b1ec1208b165c7d1896eed67d"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTI2MDkxNQ==", "bodyText": "I think, instead of an injection, it adds the label IntConst.\nBut I have a different question, why do you need to add [locations] to the sort declaration?\nI would expect location information to be accessible to every term everywhere.\nEven if the backend doesn't preserve it currently, we can say N/A and fix it later.", "url": "https://github.com/kframework/k/pull/1482#discussion_r465260915", "createdAt": "2020-08-04T18:54:53Z", "author": {"login": "radumereuta"}, "path": "k-distribution/tests/regression-new/locations/test.k", "diffHunk": "@@ -0,0 +1,13 @@\n+module TEST-SYNTAX\n+  imports UNSIGNED-INT-SYNTAX\n+  syntax Exp [locations]\n+  syntax Exp ::= Exp \"+\" Exp | Int [klabel(IntConst)]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTI1ODMzMg=="}, "originalCommit": {"oid": "bfe8ee6c327b7d1b1ec1208b165c7d1896eed67d"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTI3MTI5OA==", "bodyText": "Yes, by why do we need that label? Won't an injection work just as well?", "url": "https://github.com/kframework/k/pull/1482#discussion_r465271298", "createdAt": "2020-08-04T19:14:25Z", "author": {"login": "nishantjr"}, "path": "k-distribution/tests/regression-new/locations/test.k", "diffHunk": "@@ -0,0 +1,13 @@\n+module TEST-SYNTAX\n+  imports UNSIGNED-INT-SYNTAX\n+  syntax Exp [locations]\n+  syntax Exp ::= Exp \"+\" Exp | Int [klabel(IntConst)]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTI1ODMzMg=="}, "originalCommit": {"oid": "bfe8ee6c327b7d1b1ec1208b165c7d1896eed67d"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTI3MzE1OA==", "bodyText": "If we added it to every term everywhere, it would greatly increase the size of the kore representation. We'd also need to unwrap the source information for every sort.", "url": "https://github.com/kframework/k/pull/1482#discussion_r465273158", "createdAt": "2020-08-04T19:18:01Z", "author": {"login": "nishantjr"}, "path": "k-distribution/tests/regression-new/locations/test.k", "diffHunk": "@@ -0,0 +1,13 @@\n+module TEST-SYNTAX\n+  imports UNSIGNED-INT-SYNTAX\n+  syntax Exp [locations]\n+  syntax Exp ::= Exp \"+\" Exp | Int [klabel(IntConst)]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTI1ODMzMg=="}, "originalCommit": {"oid": "bfe8ee6c327b7d1b1ec1208b165c7d1896eed67d"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTI4MjA5Ng==", "bodyText": "I'm pretty sure you're right that an injection would also work for the location information; I didn't think of this when I was writing the test, though. Do you want me to change it back? Both should work so there's nothing wrong with the test as it is currently written.", "url": "https://github.com/kframework/k/pull/1482#discussion_r465282096", "createdAt": "2020-08-04T19:31:21Z", "author": {"login": "dwightguth"}, "path": "k-distribution/tests/regression-new/locations/test.k", "diffHunk": "@@ -0,0 +1,13 @@\n+module TEST-SYNTAX\n+  imports UNSIGNED-INT-SYNTAX\n+  syntax Exp [locations]\n+  syntax Exp ::= Exp \"+\" Exp | Int [klabel(IntConst)]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTI1ODMzMg=="}, "originalCommit": {"oid": "bfe8ee6c327b7d1b1ec1208b165c7d1896eed67d"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTI4MjcwMg==", "bodyText": "As far as why we don't add it everywhere, the answer is it will greatly complexify the implementation of the semantics which would then need to know how to deal with location information being wrapped around every single term.", "url": "https://github.com/kframework/k/pull/1482#discussion_r465282702", "createdAt": "2020-08-04T19:32:05Z", "author": {"login": "dwightguth"}, "path": "k-distribution/tests/regression-new/locations/test.k", "diffHunk": "@@ -0,0 +1,13 @@\n+module TEST-SYNTAX\n+  imports UNSIGNED-INT-SYNTAX\n+  syntax Exp [locations]\n+  syntax Exp ::= Exp \"+\" Exp | Int [klabel(IntConst)]", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTI1ODMzMg=="}, "originalCommit": {"oid": "bfe8ee6c327b7d1b1ec1208b165c7d1896eed67d"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3004, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}