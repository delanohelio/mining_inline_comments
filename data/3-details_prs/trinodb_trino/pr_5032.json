{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc2MjQyMjcw", "number": 5032, "title": "Update product tests docs", "bodyText": "", "createdAt": "2020-08-31T11:39:00Z", "url": "https://github.com/trinodb/trino/pull/5032", "merged": true, "mergeCommit": {"oid": "532464933512840853524354b99341eead28f0bb"}, "closed": true, "closedAt": "2020-09-01T13:43:39Z", "author": {"login": "wendigo"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdERcuxAFqTQ3ODU0NDQyNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdEnoi7gFqTQ3OTc1NDM1Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4NTQ0NDI2", "url": "https://github.com/trinodb/trino/pull/5032#pullrequestreview-478544426", "createdAt": "2020-08-31T11:44:24Z", "commit": null, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxMTo0NDoyNVrOHJ1dIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxMTo1MjozOFrOHJ1syg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDA3NTA0Mw==", "bodyText": "drop this lien", "url": "https://github.com/trinodb/trino/pull/5032#discussion_r480075043", "createdAt": "2020-08-31T11:44:25Z", "author": {"login": "losipiuk"}, "path": "presto-product-tests/README.md", "diffHunk": "@@ -52,11 +52,14 @@ groups run the following command:\n \n ```\n ./mvnw install -DskipTests\n-presto-product-tests-launcher/bin/run-launcher test run --environment <profile> <tempto arguments>\n+presto-product-tests-launcher/bin/run-launcher test run --environment <environment> \\ \n+[--config <environment config>] \\\n+-- <tempto arguments>\n ```\n \n-where profile is one of either:\n-#### Profiles\n+where environment is one of either:", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDA3NTY0NQ==", "bodyText": "You can obtain list of ...", "url": "https://github.com/trinodb/trino/pull/5032#discussion_r480075645", "createdAt": "2020-08-31T11:45:37Z", "author": {"login": "losipiuk"}, "path": "presto-product-tests/README.md", "diffHunk": "@@ -91,6 +94,35 @@ where profile is one of either:\n  a single Docker containers. Both Hadoop (Hive) installations are kerberized.\n  A single node installation of kerberized Presto also\n  running on a single Docker container.\n+ \n+Full list of available environments can be obtained using command:\n+ \n+```\n+./mvnw install -DskipTests\n+presto-product-tests-launcher/bin/run-launcher env list\n+```\n+\n+#### Environment config\n+\n+Most of the Hadoop-based environments can be run in multiple configurations that use different Hadoop distribution:\n+\n+- **config-default** - executes tests against vanilla Hadoop distribution\n+- **config-cdh5** - executes tests against CDH5 distribution of Hadoop\n+- **config-hdp3** - executes tests against HDP3 distribution of Hadoop\n+\n+List of environment configurations can be obtained using command:", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDA3NTcxNQ==", "bodyText": "You can obtain list ...", "url": "https://github.com/trinodb/trino/pull/5032#discussion_r480075715", "createdAt": "2020-08-31T11:45:47Z", "author": {"login": "losipiuk"}, "path": "presto-product-tests/README.md", "diffHunk": "@@ -91,6 +94,35 @@ where profile is one of either:\n  a single Docker containers. Both Hadoop (Hive) installations are kerberized.\n  A single node installation of kerberized Presto also\n  running on a single Docker container.\n+ \n+Full list of available environments can be obtained using command:", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDA3NTg4NA==", "bodyText": "Just pick one", "url": "https://github.com/trinodb/trino/pull/5032#discussion_r480075884", "createdAt": "2020-08-31T11:46:14Z", "author": {"login": "losipiuk"}, "path": "presto-product-tests/README.md", "diffHunk": "@@ -91,6 +94,35 @@ where profile is one of either:\n  a single Docker containers. Both Hadoop (Hive) installations are kerberized.\n  A single node installation of kerberized Presto also\n  running on a single Docker container.\n+ \n+Full list of available environments can be obtained using command:\n+ \n+```\n+./mvnw install -DskipTests\n+presto-product-tests-launcher/bin/run-launcher env list\n+```\n+\n+#### Environment config\n+\n+Most of the Hadoop-based environments can be run in multiple configurations that use different Hadoop distribution:\n+\n+- **config-default** - executes tests against vanilla Hadoop distribution\n+- **config-cdh5** - executes tests against CDH5 distribution of Hadoop\n+- **config-hdp3** - executes tests against HDP3 distribution of Hadoop\n+\n+List of environment configurations can be obtained using command:\n+\n+```\n+presto-product-tests-launcher/bin/run-launcher env list\n+```\n+\n+or ", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDA3OTA1MA==", "bodyText": "Please make it a bit more structural.\nI suggest you go over a list of commands, ordering from most usable ones.\nIMO sth like:\nTests are further organized into suites which contain execution of multiple test groups in multiple different environments.\n\nYou can list the available suites using `.... suites list` command.\n\nYou can describe the suite using ....\n\nYou can run all the tests in a suite using .... command.\n\n\nPlease do not quote large command outputs.", "url": "https://github.com/trinodb/trino/pull/5032#discussion_r480079050", "createdAt": "2020-08-31T11:52:38Z", "author": {"login": "losipiuk"}, "path": "presto-product-tests/README.md", "diffHunk": "@@ -150,6 +186,60 @@ and also the entire test suite:\n Note: SQL Server product-tests use `microsoft/mssql-server-linux` docker container.\n By running SQL Server product tests you accept the license [ACCEPT_EULA](https://go.microsoft.com/fwlink/?LinkId=746388)\n \n+### Running test suites\n+\n+Tests are further organized into suites which contain execution of multiple test groups in multiple different environments:\n+\n+```", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 98}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8637e570803340a54be1e5862c27934fa5ab11b4", "author": {"user": {"login": "wendigo", "name": "Mateusz \"Serafin\" Gajewski"}}, "url": "https://github.com/trinodb/trino/commit/8637e570803340a54be1e5862c27934fa5ab11b4", "committedDate": "2020-09-01T12:28:50Z", "message": "Update product tests docs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "8637e570803340a54be1e5862c27934fa5ab11b4", "author": {"user": {"login": "wendigo", "name": "Mateusz \"Serafin\" Gajewski"}}, "url": "https://github.com/trinodb/trino/commit/8637e570803340a54be1e5862c27934fa5ab11b4", "committedDate": "2020-09-01T12:28:50Z", "message": "Update product tests docs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5NzU0MzU2", "url": "https://github.com/trinodb/trino/pull/5032#pullrequestreview-479754356", "createdAt": "2020-09-01T13:43:31Z", "commit": {"oid": "8637e570803340a54be1e5862c27934fa5ab11b4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3813, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}