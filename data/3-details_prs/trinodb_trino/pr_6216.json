{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzMzI5MjA4", "number": 6216, "title": "Display ellipsis in all queries", "bodyText": "Previously, the Query List panel on the UI was adding ellipsis only on query string length. This causes querys with multiple lines to not be truncated, and appear incomplete on the query list.\nThis Pull Request fix this issue #2886\nNow a query with more lines than the ' maxLines ' will end on the maxLines + 1 th line, followed by a new line and ...\nthe code below is an example of the expected output.\nselect (\nc.name,\nc.address,\nc.nationkey,\nc.phone,c.name\n)\n...", "createdAt": "2020-12-07T02:32:13Z", "url": "https://github.com/trinodb/trino/pull/6216", "merged": true, "mergeCommit": {"oid": "81a126c251a5b1f4c2cd2229ecb1d1ef0a3998a3"}, "closed": true, "closedAt": "2020-12-22T12:47:06Z", "author": {"login": "miguelknb"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdj2nmrgFqTU0NjIxNDE2Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdoZn4yABqjQxMzcwMTE5MzU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2MjE0MTYz", "url": "https://github.com/trinodb/trino/pull/6216#pullrequestreview-546214163", "createdAt": "2020-12-07T14:42:43Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2MjE2NTM1", "url": "https://github.com/trinodb/trino/pull/6216#pullrequestreview-546216535", "createdAt": "2020-12-07T14:45:04Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxNDo0Njo1MlrOIAqQFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxNDo0Njo1MlrOIAqQFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzU2MzE1OA==", "bodyText": "squash that commit", "url": "https://github.com/trinodb/trino/pull/6216#discussion_r537563158", "createdAt": "2020-12-07T14:46:52Z", "author": {"login": "sopel39"}, "path": "presto-main/src/main/resources/webapp/src/components/QueryList.jsx", "diffHunk": "@@ -52,7 +52,7 @@ export class QueryListItem extends React.Component {\n \n         let formattedQueryText = \"\";\n \n-        for (let i = 0; i <= maxLines -1; i++) {\n+        for (let i = 0; i < lines.length; i++) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MDM5MTA5", "url": "https://github.com/trinodb/trino/pull/6216#pullrequestreview-549039109", "createdAt": "2020-12-10T10:08:39Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMDowODo0MFrOIDBUrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMDowODo0MFrOIDBUrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDAzODMxNg==", "bodyText": "please undo", "url": "https://github.com/trinodb/trino/pull/6216#discussion_r540038316", "createdAt": "2020-12-10T10:08:40Z", "author": {"login": "sopel39"}, "path": "presto-main/src/main/resources/webapp/src/components/QueryList.jsx", "diffHunk": "@@ -53,13 +54,18 @@ export class QueryListItem extends React.Component {\n \n         for (let i = 0; i < lines.length; i++) {\n             const trimmedLine = lines[i].substring(minLeadingWhitespace).replace(/\\s+$/g, '');\n-\n+        ", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 13}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwNTc5Nzkz", "url": "https://github.com/trinodb/trino/pull/6216#pullrequestreview-550579793", "createdAt": "2020-12-11T21:10:11Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMToxMDoxMVrOIEOAYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMVQyMToxMDoxMVrOIEOAYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTI5NDY4OA==", "bodyText": "please undo", "url": "https://github.com/trinodb/trino/pull/6216#discussion_r541294688", "createdAt": "2020-12-11T21:10:11Z", "author": {"login": "sopel39"}, "path": "presto-main/src/main/resources/webapp/src/components/QueryList.jsx", "diffHunk": "@@ -56,10 +57,15 @@ export class QueryListItem extends React.Component {\n \n             if (trimmedLine.length > 0) {\n                 formattedQueryText += trimmedLine;\n-\n-                if (i < (lines.length - 1)) {\n+        ", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 14}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2NDkxNjUy", "url": "https://github.com/trinodb/trino/pull/6216#pullrequestreview-556491652", "createdAt": "2020-12-21T16:09:20Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQxNjowOToyMVrOIJdlJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQxNjowOTozMVrOIJdleA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc5Mjc0Mg==", "bodyText": "please remove\nUpdate index file\n\nFix 1 line querys bug\n\nRemoving unwanted ident\n\nremoving new lines\n\nUpdate dist index\n\nfrom commit message", "url": "https://github.com/trinodb/trino/pull/6216#discussion_r546792742", "createdAt": "2020-12-21T16:09:21Z", "author": {"login": "sopel39"}, "path": "presto-main/src/main/resources/webapp/src/components/QueryList.jsx", "diffHunk": "@@ -31,6 +31,7 @@ import {\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc5MjgyNA==", "bodyText": "this should be if (i < (maxLines - 1)) {", "url": "https://github.com/trinodb/trino/pull/6216#discussion_r546792824", "createdAt": "2020-12-21T16:09:31Z", "author": {"login": "sopel39"}, "path": "presto-main/src/main/resources/webapp/src/components/QueryList.jsx", "diffHunk": "@@ -56,10 +57,13 @@ export class QueryListItem extends React.Component {\n \n             if (trimmedLine.length > 0) {\n                 formattedQueryText += trimmedLine;\n-\n-                if (i < (lines.length - 1)) {\n+                if (i < (maxLines -1)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "282b24e8182358fca739c34645c852e38dd51b2a", "author": {"user": {"login": "miguelknb", "name": "Miguel Sanseverino"}}, "url": "https://github.com/trinodb/trino/commit/282b24e8182358fca739c34645c852e38dd51b2a", "committedDate": "2020-12-21T17:43:40Z", "message": "Add ellipsis on max lines number"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "282b24e8182358fca739c34645c852e38dd51b2a", "author": {"user": {"login": "miguelknb", "name": "Miguel Sanseverino"}}, "url": "https://github.com/trinodb/trino/commit/282b24e8182358fca739c34645c852e38dd51b2a", "committedDate": "2020-12-21T17:43:40Z", "message": "Add ellipsis on max lines number"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2061, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}