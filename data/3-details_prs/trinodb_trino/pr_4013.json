{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzODIyMDgz", "number": 4013, "title": "Add pass-through query documentation", "bodyText": "", "createdAt": "2020-06-12T18:16:38Z", "url": "https://github.com/trinodb/trino/pull/4013", "merged": true, "mergeCommit": {"oid": "f7767412cff790726f27ac10bb92f2568675f874"}, "closed": true, "closedAt": "2020-06-13T02:55:48Z", "author": {"login": "mosabua"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqnYjWgFqTQyOTk2Mjc2Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqtNELABqjM0NDAzMzQxOTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5OTYyNzYy", "url": "https://github.com/trinodb/trino/pull/4013#pullrequestreview-429962762", "createdAt": "2020-06-12T18:42:36Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODo0MjozNlrOGjOLrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODo0Mzo1NlrOGjOOEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU4NTcwOQ==", "bodyText": "DSL. Also, I wouldn't abbreviate ES", "url": "https://github.com/trinodb/trino/pull/4013#discussion_r439585709", "createdAt": "2020-06-12T18:42:36Z", "author": {"login": "martint"}, "path": "presto-docs/src/main/sphinx/connector/elasticsearch.rst", "diffHunk": "@@ -262,6 +262,25 @@ as part of the table name, separated by a colon. For example:\n .. _full text query: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax\n \n \n+Pass-through Queries\n+--------------------\n+\n+The Elasticsearch connector allows you to embed any valid Elasticsearch query,\n+that uses the `ES Query DLS", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU4NjMyMA==", "bodyText": "The result is VARCHAR, not JSON, but it contains the JSON payload returned by Elasticsearch, and can be processed with the built-in JSON functions in presto (https://prestosql.io/docs/current/functions/json.html)", "url": "https://github.com/trinodb/trino/pull/4013#discussion_r439586320", "createdAt": "2020-06-12T18:43:56Z", "author": {"login": "martint"}, "path": "presto-docs/src/main/sphinx/connector/elasticsearch.rst", "diffHunk": "@@ -262,6 +262,25 @@ as part of the table name, separated by a colon. For example:\n .. _full text query: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax\n \n \n+Pass-through Queries\n+--------------------\n+\n+The Elasticsearch connector allows you to embed any valid Elasticsearch query,\n+that uses the `ES Query DLS\n+<https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html>`_\n+in your SQL query.\n+\n+The results can then be used in any SQL statement, wrapping the ES query. The\n+syntax extends the syntax of the enhanced ES table names with the following::\n+\n+    SELECT * FROM es.default.\"<index>$query:<es-query>\"\n+\n+The ES query string ``es-query`` is base32-encoded to avoid having to deal with\n+escaping quotes and case sensitivity issues in table identifiers.\n+\n+The result of these query tables is a table with a single row and a single\n+column named ``result`` of type JSON.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 21}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5OTcxNjg4", "url": "https://github.com/trinodb/trino/pull/4013#pullrequestreview-429971688", "createdAt": "2020-06-12T18:57:49Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODo1Nzo0OVrOGjOmWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODo1ODoxN1rOGjOnDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU5MjUzOQ==", "bodyText": "\"the Elasticsearch query\"", "url": "https://github.com/trinodb/trino/pull/4013#discussion_r439592539", "createdAt": "2020-06-12T18:57:49Z", "author": {"login": "martint"}, "path": "presto-docs/src/main/sphinx/connector/elasticsearch.rst", "diffHunk": "@@ -262,6 +262,27 @@ as part of the table name, separated by a colon. For example:\n .. _full text query: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax\n \n \n+Pass-through Queries\n+--------------------\n+\n+The Elasticsearch connector allows you to embed any valid Elasticsearch query,\n+that uses the `Elasticsearch Query DLS\n+<https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html>`_\n+in your SQL query.\n+\n+The results can then be used in any SQL statement, wrapping the ES query. The", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU5MjU3MQ==", "bodyText": "DSL", "url": "https://github.com/trinodb/trino/pull/4013#discussion_r439592571", "createdAt": "2020-06-12T18:57:54Z", "author": {"login": "martint"}, "path": "presto-docs/src/main/sphinx/connector/elasticsearch.rst", "diffHunk": "@@ -262,6 +262,27 @@ as part of the table name, separated by a colon. For example:\n .. _full text query: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax\n \n \n+Pass-through Queries\n+--------------------\n+\n+The Elasticsearch connector allows you to embed any valid Elasticsearch query,\n+that uses the `Elasticsearch Query DLS", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU5MjY0MQ==", "bodyText": "ES->Elasticsearch", "url": "https://github.com/trinodb/trino/pull/4013#discussion_r439592641", "createdAt": "2020-06-12T18:58:05Z", "author": {"login": "martint"}, "path": "presto-docs/src/main/sphinx/connector/elasticsearch.rst", "diffHunk": "@@ -262,6 +262,27 @@ as part of the table name, separated by a colon. For example:\n .. _full text query: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax\n \n \n+Pass-through Queries\n+--------------------\n+\n+The Elasticsearch connector allows you to embed any valid Elasticsearch query,\n+that uses the `Elasticsearch Query DLS\n+<https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html>`_\n+in your SQL query.\n+\n+The results can then be used in any SQL statement, wrapping the ES query. The\n+syntax extends the syntax of the enhanced ES table names with the following::", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU5MjcxOQ==", "bodyText": "ES->Elasticsearch", "url": "https://github.com/trinodb/trino/pull/4013#discussion_r439592719", "createdAt": "2020-06-12T18:58:17Z", "author": {"login": "martint"}, "path": "presto-docs/src/main/sphinx/connector/elasticsearch.rst", "diffHunk": "@@ -262,6 +262,27 @@ as part of the table name, separated by a colon. For example:\n .. _full text query: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax\n \n \n+Pass-through Queries\n+--------------------\n+\n+The Elasticsearch connector allows you to embed any valid Elasticsearch query,\n+that uses the `Elasticsearch Query DLS\n+<https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html>`_\n+in your SQL query.\n+\n+The results can then be used in any SQL statement, wrapping the ES query. The\n+syntax extends the syntax of the enhanced ES table names with the following::\n+\n+    SELECT * FROM es.default.\"<index>$query:<es-query>\"\n+\n+The ES query string ``es-query`` is base32-encoded to avoid having to deal with", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 17}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5OTc0MjE2", "url": "https://github.com/trinodb/trino/pull/4013#pullrequestreview-429974216", "createdAt": "2020-06-12T19:02:14Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bf947c97fd70f5c9e6a67da9a49c5e9e1bc1ea32", "author": {"user": {"login": "mosabua", "name": "Manfred Moser"}}, "url": "https://github.com/trinodb/trino/commit/bf947c97fd70f5c9e6a67da9a49c5e9e1bc1ea32", "committedDate": "2020-06-13T01:30:42Z", "message": "Add pass-through query documentation"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "bf947c97fd70f5c9e6a67da9a49c5e9e1bc1ea32", "author": {"user": {"login": "mosabua", "name": "Manfred Moser"}}, "url": "https://github.com/trinodb/trino/commit/bf947c97fd70f5c9e6a67da9a49c5e9e1bc1ea32", "committedDate": "2020-06-13T01:30:42Z", "message": "Add pass-through query documentation"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 342, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}