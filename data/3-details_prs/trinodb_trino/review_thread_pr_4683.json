{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyNjY4MjA2", "number": 4683, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMDoyNTo1MFrOEU8H3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMDoyNTo1MFrOEU8H3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMzkyMDMxOnYy", "diffSide": "RIGHT", "path": "presto-kudu/src/test/java/io/prestosql/plugin/kudu/TestKuduIntegrationDecimalColumns.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMDoyNTo1MFrOG7aehA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwMjo1NDowNlrOG74UFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDk1Mjk2NA==", "bodyText": "You could assert here on SELECT to test whether a row was actually deleted.", "url": "https://github.com/trinodb/trino/pull/4683#discussion_r464952964", "createdAt": "2020-08-04T10:25:50Z", "author": {"login": "wendigo"}, "path": "presto-kudu/src/test/java/io/prestosql/plugin/kudu/TestKuduIntegrationDecimalColumns.java", "diffHunk": "@@ -80,6 +80,23 @@ public void testDecimalColumn()\n         assertUpdate(\"DROP TABLE test_decimal\");\n     }\n \n+    @Test\n+    public void testDeleteByPrimaryKeyDecimalColumn()\n+    {\n+        assertUpdate(\"CREATE TABLE IF NOT EXISTS test_decimal (\" +\n+            \"decimal_id decimal(18, 3) WITH (primary_key=true), \" +\n+            \"col_decimal decimal(18, 3)\" +\n+            \") WITH (\" +\n+            \" partition_by_hash_columns = ARRAY['id'], \" +\n+            \" partition_by_hash_buckets = 2\" +\n+            \")\");\n+\n+        assertUpdate(\"INSERT INTO test_decimal VALUES (1.1, 1.1), (2.2, 2.2), (3.3, 3.3)\", 3);\n+        assertUpdate(\"DELETE FROM test_decimal WHERE decimal_id = 2.2\", 1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDk1NDcyNw==", "bodyText": "Yes, that's cool, thank you!    :)", "url": "https://github.com/trinodb/trino/pull/4683#discussion_r464954727", "createdAt": "2020-08-04T10:29:37Z", "author": {"login": "Crossoverrr"}, "path": "presto-kudu/src/test/java/io/prestosql/plugin/kudu/TestKuduIntegrationDecimalColumns.java", "diffHunk": "@@ -80,6 +80,23 @@ public void testDecimalColumn()\n         assertUpdate(\"DROP TABLE test_decimal\");\n     }\n \n+    @Test\n+    public void testDeleteByPrimaryKeyDecimalColumn()\n+    {\n+        assertUpdate(\"CREATE TABLE IF NOT EXISTS test_decimal (\" +\n+            \"decimal_id decimal(18, 3) WITH (primary_key=true), \" +\n+            \"col_decimal decimal(18, 3)\" +\n+            \") WITH (\" +\n+            \" partition_by_hash_columns = ARRAY['id'], \" +\n+            \" partition_by_hash_buckets = 2\" +\n+            \")\");\n+\n+        assertUpdate(\"INSERT INTO test_decimal VALUES (1.1, 1.1), (2.2, 2.2), (3.3, 3.3)\", 3);\n+        assertUpdate(\"DELETE FROM test_decimal WHERE decimal_id = 2.2\", 1);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDk1Mjk2NA=="}, "originalCommit": null, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQ0MTgxNA==", "bodyText": "@wendigo Thank you for your suggestion, I have added the select sql.   :)", "url": "https://github.com/trinodb/trino/pull/4683#discussion_r465441814", "createdAt": "2020-08-05T02:54:06Z", "author": {"login": "Crossoverrr"}, "path": "presto-kudu/src/test/java/io/prestosql/plugin/kudu/TestKuduIntegrationDecimalColumns.java", "diffHunk": "@@ -80,6 +80,23 @@ public void testDecimalColumn()\n         assertUpdate(\"DROP TABLE test_decimal\");\n     }\n \n+    @Test\n+    public void testDeleteByPrimaryKeyDecimalColumn()\n+    {\n+        assertUpdate(\"CREATE TABLE IF NOT EXISTS test_decimal (\" +\n+            \"decimal_id decimal(18, 3) WITH (primary_key=true), \" +\n+            \"col_decimal decimal(18, 3)\" +\n+            \") WITH (\" +\n+            \" partition_by_hash_columns = ARRAY['id'], \" +\n+            \" partition_by_hash_buckets = 2\" +\n+            \")\");\n+\n+        assertUpdate(\"INSERT INTO test_decimal VALUES (1.1, 1.1), (2.2, 2.2), (3.3, 3.3)\", 3);\n+        assertUpdate(\"DELETE FROM test_decimal WHERE decimal_id = 2.2\", 1);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDk1Mjk2NA=="}, "originalCommit": null, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3592, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}