{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQxNzAwMzg3", "number": 6372, "title": "Allow custom bind expression in WriteFunction", "bodyText": "", "createdAt": "2020-12-17T08:39:35Z", "url": "https://github.com/trinodb/trino/pull/6372", "merged": true, "mergeCommit": {"oid": "65369ec29ddd3b6a444a41d12b8f683a79a27bb8"}, "closed": true, "closedAt": "2020-12-21T10:09:50Z", "author": {"login": "findepi"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdm_aMLgH2gAyNTQxNzAwMzg3OjE1ZTFkZThmNTk5MmUxMjNmOTAwMTUyZWNkMGZlNzMxNjFlMzNhZTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdnrJqMgFqTU1NTkzNTk2NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "15e1de8f5992e123f900152ecd0fe73161e33ae0", "author": {"user": {"login": "findepi", "name": "Piotr Findeisen"}}, "url": "https://github.com/trinodb/trino/commit/15e1de8f5992e123f900152ecd0fe73161e33ae0", "committedDate": "2020-12-17T08:38:59Z", "message": "Rename class\n\nRename class in preparation to change of the internal structure.\nThe new name describes the purpose, but not how the information is\nactually captured."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0Mzk5OTEy", "url": "https://github.com/trinodb/trino/pull/6372#pullrequestreview-554399912", "createdAt": "2020-12-17T09:03:49Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NDA3ODQ1", "url": "https://github.com/trinodb/trino/pull/6372#pullrequestreview-554407845", "createdAt": "2020-12-17T09:13:25Z", "commit": {"oid": "15e1de8f5992e123f900152ecd0fe73161e33ae0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QwOToxMzoyNVrOIHrwUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QwOToxMzoyNVrOIHrwUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDkyNzgyNg==", "bodyText": "I love getting rid of ands from names", "url": "https://github.com/trinodb/trino/pull/6372#discussion_r544927826", "createdAt": "2020-12-17T09:13:25Z", "author": {"login": "skrzypo987"}, "path": "presto-base-jdbc/src/main/java/io/prestosql/plugin/jdbc/QueryBuilder.java", "diffHunk": "@@ -54,13 +54,13 @@\n \n     private final JdbcClient client;\n \n-    private static class TypeAndValue\n+    private static class BoundValue", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "15e1de8f5992e123f900152ecd0fe73161e33ae0"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d84c8025caf8e983907f0e1395fc32a536e709c", "author": {"user": {"login": "findepi", "name": "Piotr Findeisen"}}, "url": "https://github.com/trinodb/trino/commit/8d84c8025caf8e983907f0e1395fc32a536e709c", "committedDate": "2020-12-17T09:24:46Z", "message": "Allow custom bind expression in WriteFunction"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "899273b0c8b1af9b64a0c8fe9765c629f36561fc", "author": {"user": {"login": "findepi", "name": "Piotr Findeisen"}}, "url": "https://github.com/trinodb/trino/commit/899273b0c8b1af9b64a0c8fe9765c629f36561fc", "committedDate": "2020-12-17T09:24:46Z", "message": "Migrate from PGobject to bind expression in PostgreSQL connector"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "899273b0c8b1af9b64a0c8fe9765c629f36561fc", "author": {"user": {"login": "findepi", "name": "Piotr Findeisen"}}, "url": "https://github.com/trinodb/trino/commit/899273b0c8b1af9b64a0c8fe9765c629f36561fc", "committedDate": "2020-12-17T09:24:46Z", "message": "Migrate from PGobject to bind expression in PostgreSQL connector"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NTYzNzYz", "url": "https://github.com/trinodb/trino/pull/6372#pullrequestreview-554563763", "createdAt": "2020-12-17T12:37:09Z", "commit": {"oid": "899273b0c8b1af9b64a0c8fe9765c629f36561fc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1OTM1OTY1", "url": "https://github.com/trinodb/trino/pull/6372#pullrequestreview-555935965", "createdAt": "2020-12-19T11:36:44Z", "commit": {"oid": "8d84c8025caf8e983907f0e1395fc32a536e709c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOVQxMTozNjo0NFrOII7IOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOVQxMTozNjo0NFrOII7IOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjIyODI4Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    checkArgument(handle.getColumnNames().size() == columnWriters.size(), \"handle and columnWriters mismatch: %s, %s\", handle, columnWriters);\n          \n          \n            \n                    checkArgument(handle.getColumnNames().size() == columnWriters.size(), \"columnNames and columnWriters mismatch: %s, %s\", handle.getColumnNames(), columnWriters);", "url": "https://github.com/trinodb/trino/pull/6372#discussion_r546228282", "createdAt": "2020-12-19T11:36:44Z", "author": {"login": "wendigo"}, "path": "presto-base-jdbc/src/main/java/io/prestosql/plugin/jdbc/BaseJdbcClient.java", "diffHunk": "@@ -709,15 +708,18 @@ public void rollbackCreateTable(ConnectorSession session, JdbcOutputTableHandle\n     }\n \n     @Override\n-    public String buildInsertSql(JdbcOutputTableHandle handle)\n+    public String buildInsertSql(JdbcOutputTableHandle handle, List<WriteFunction> columnWriters)\n     {\n+        checkArgument(handle.getColumnNames().size() == columnWriters.size(), \"handle and columnWriters mismatch: %s, %s\", handle, columnWriters);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d84c8025caf8e983907f0e1395fc32a536e709c"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1858, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}