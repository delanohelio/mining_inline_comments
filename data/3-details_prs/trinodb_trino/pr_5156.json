{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg2NTc1ODU3", "number": 5156, "title": "Product tests suite and test timeouts", "bodyText": "", "createdAt": "2020-09-14T12:35:39Z", "url": "https://github.com/trinodb/trino/pull/5156", "merged": true, "mergeCommit": {"oid": "463f0e142e2d0a607cae5e57880cea44f1c793eb"}, "closed": true, "closedAt": "2020-09-14T16:48:58Z", "author": {"login": "wendigo"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdIykk3AFqTQ4NzcwOTQ4Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdI2EprgBqjM3NjQzODMzNzQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3NzA5NDgy", "url": "https://github.com/trinodb/trino/pull/5156#pullrequestreview-487709482", "createdAt": "2020-09-14T12:38:49Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMjozODo0OVrOHRRv7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxMjo0MjoxMVrOHRR37w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg3ODYzNg==", "bodyText": "Could you make commit message more descriptive?", "url": "https://github.com/trinodb/trino/pull/5156#discussion_r487878636", "createdAt": "2020-09-14T12:38:49Z", "author": {"login": "losipiuk"}, "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/env/Environment.java", "diffHunk": "@@ -231,11 +234,33 @@ public Builder addContainer(DockerContainer container)\n                     .withLabel(PRODUCT_TEST_LAUNCHER_STARTED_LABEL_NAME, PRODUCT_TEST_LAUNCHER_STARTED_LABEL_VALUE)\n                     .withCreateContainerCmdModifier(createContainerCmd -> createContainerCmd\n                             .withName(\"ptl-\" + containerName)\n-                            .withHostName(containerName));\n+                            .withHostName(containerName))\n+                    .withCreateContainerCmdModifier(Builder::applyConfiguration);\n \n             return this;\n         }\n \n+        private static void applyConfiguration(CreateContainerCmd createContainerCmd)", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzg4MDY4Nw==", "bodyText": "separate commit?", "url": "https://github.com/trinodb/trino/pull/5156#discussion_r487880687", "createdAt": "2020-09-14T12:42:11Z", "author": {"login": "losipiuk"}, "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/cli/SuiteDescribe.java", "diffHunk": "@@ -120,6 +130,8 @@ public Execution(\n         {\n             this.suiteName = requireNonNull(describeOptions.suite, \"describeOptions.suite is null\");\n             this.testJar = requireNonNull(describeOptions.testJar, \"describeOptions.testJar is null\");\n+            this.logsDirBase = requireNonNull(describeOptions.logsDirBase, \"describeOptions.logsDirBase is null\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 42}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3OTQyNjU1", "url": "https://github.com/trinodb/trino/pull/5156#pullrequestreview-487942655", "createdAt": "2020-09-14T16:24:10Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNjoyNDoxMVrOHRc_Kw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNjoyNDoxMVrOHRc_Kw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODA2Mjc2Mw==", "bodyText": "too long commit message summary", "url": "https://github.com/trinodb/trino/pull/5156#discussion_r488062763", "createdAt": "2020-09-14T16:24:11Z", "author": {"login": "losipiuk"}, "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/env/Environment.java", "diffHunk": "@@ -13,9 +13,11 @@\n  */\n package io.prestosql.tests.product.launcher.env;\n \n+import com.github.dockerjava.api.command.CreateContainerCmd;", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3dd66a0dfc0dc86a8cb6bdfce54d775017bf0005", "author": {"user": {"login": "wendigo", "name": "Mateusz \"Serafin\" Gajewski"}}, "url": "https://github.com/trinodb/trino/commit/3dd66a0dfc0dc86a8cb6bdfce54d775017bf0005", "committedDate": "2020-09-14T16:46:52Z", "message": "Set host configuration of product tests containers\n\nThis PR disables OOM killer, sets ulimits and auto removes containers on exit."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4b5bb22569838a0ceb20fe1f02a8bf1335f4e00", "author": {"user": {"login": "wendigo", "name": "Mateusz \"Serafin\" Gajewski"}}, "url": "https://github.com/trinodb/trino/commit/f4b5bb22569838a0ceb20fe1f02a8bf1335f4e00", "committedDate": "2020-09-14T16:48:16Z", "message": "Fix suite describe"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e8962bcd634514bc453324ae1f8306b921da968", "author": {"user": {"login": "wendigo", "name": "Mateusz \"Serafin\" Gajewski"}}, "url": "https://github.com/trinodb/trino/commit/9e8962bcd634514bc453324ae1f8306b921da968", "committedDate": "2020-09-14T16:48:16Z", "message": "Allow case insensitive enum values in launcher"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1649e9310ad206b7a944d6f7174a08c5114fc028", "author": {"user": {"login": "wendigo", "name": "Mateusz \"Serafin\" Gajewski"}}, "url": "https://github.com/trinodb/trino/commit/1649e9310ad206b7a944d6f7174a08c5114fc028", "committedDate": "2020-09-14T16:48:16Z", "message": "Add timeout for suite and test execution"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6b8e02000f607a3e035a53db2a16499d67378fe2", "author": {"user": {"login": "wendigo", "name": "Mateusz \"Serafin\" Gajewski"}}, "url": "https://github.com/trinodb/trino/commit/6b8e02000f607a3e035a53db2a16499d67378fe2", "committedDate": "2020-09-14T16:48:16Z", "message": "Improve Suite toString method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb8ddf6e579eec5da0c29090f5ebfc6139961483", "author": {"user": {"login": "wendigo", "name": "Mateusz \"Serafin\" Gajewski"}}, "url": "https://github.com/trinodb/trino/commit/fb8ddf6e579eec5da0c29090f5ebfc6139961483", "committedDate": "2020-09-14T16:48:16Z", "message": "Fix displaying test run duration"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "fb8ddf6e579eec5da0c29090f5ebfc6139961483", "author": {"user": {"login": "wendigo", "name": "Mateusz \"Serafin\" Gajewski"}}, "url": "https://github.com/trinodb/trino/commit/fb8ddf6e579eec5da0c29090f5ebfc6139961483", "committedDate": "2020-09-14T16:48:16Z", "message": "Fix displaying test run duration"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3982, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}