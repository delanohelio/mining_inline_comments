{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg5NDU3MjU4", "number": 3111, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQyMDoxNTozMlrODofJog==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QwNzo1OToxOFrODonX8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzNzgwMDAyOnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/connector/kafka.rst", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQyMDoxNTozMlrOF3EP5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQyMjoxMzoxNlrOF3HeSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI4NTYwNg==", "bodyText": "100.000\n\nmight be confusing in the US...", "url": "https://github.com/trinodb/trino/pull/3111#discussion_r393285606", "createdAt": "2020-03-16T20:15:32Z", "author": {"login": "aalbu"}, "path": "presto-docs/src/main/sphinx/connector/kafka.rst", "diffHunk": "@@ -59,7 +63,7 @@ Property Name                   Description\n ``kafka.buffer-size``           Kafka read buffer size\n ``kafka.table-description-dir`` Directory containing topic description files\n ``kafka.hide-internal-columns`` Controls whether internal columns are part of the table schema or not\n-``kafka.messages-per-split``    Number of messages that will be processed by single Presto split\n+``kafka.messages-per-split``    Number of messages that are processed by each Presto split, defaults to 100.000, smaller numbers result in higher parallelization of the query processing", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMzMTI5OA==", "bodyText": "what should I use then 100,000 ? or 100000 ?", "url": "https://github.com/trinodb/trino/pull/3111#discussion_r393331298", "createdAt": "2020-03-16T21:54:47Z", "author": {"login": "mosabua"}, "path": "presto-docs/src/main/sphinx/connector/kafka.rst", "diffHunk": "@@ -59,7 +63,7 @@ Property Name                   Description\n ``kafka.buffer-size``           Kafka read buffer size\n ``kafka.table-description-dir`` Directory containing topic description files\n ``kafka.hide-internal-columns`` Controls whether internal columns are part of the table schema or not\n-``kafka.messages-per-split``    Number of messages that will be processed by single Presto split\n+``kafka.messages-per-split``    Number of messages that are processed by each Presto split, defaults to 100.000, smaller numbers result in higher parallelization of the query processing", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI4NTYwNg=="}, "originalCommit": null, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzMzODQ0MA==", "bodyText": "Updated to use same style as most other docs (100000)", "url": "https://github.com/trinodb/trino/pull/3111#discussion_r393338440", "createdAt": "2020-03-16T22:13:16Z", "author": {"login": "mosabua"}, "path": "presto-docs/src/main/sphinx/connector/kafka.rst", "diffHunk": "@@ -59,7 +63,7 @@ Property Name                   Description\n ``kafka.buffer-size``           Kafka read buffer size\n ``kafka.table-description-dir`` Directory containing topic description files\n ``kafka.hide-internal-columns`` Controls whether internal columns are part of the table schema or not\n-``kafka.messages-per-split``    Number of messages that will be processed by single Presto split\n+``kafka.messages-per-split``    Number of messages that are processed by each Presto split, defaults to 100.000, smaller numbers result in higher parallelization of the query processing", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI4NTYwNg=="}, "originalCommit": null, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzOTEzMTkxOnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/connector/kafka.rst", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QwNzo1MzozNFrOF3REdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QyMTo0OToxOFrOF3vSAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzQ5NTY3MQ==", "bodyText": "to achieve a significant performance gain\n\nTo me that could be written in pull request. Like \"this change was introduced to to achieve a significant performance gain\". In general documentation I think it should be only: \"The connector reads message data from Kafka topics in parallel across workers\". The reason is obvious.", "url": "https://github.com/trinodb/trino/pull/3111#discussion_r393495671", "createdAt": "2020-03-17T07:53:34Z", "author": {"login": "kokosing"}, "path": "presto-docs/src/main/sphinx/connector/kafka.rst", "diffHunk": "@@ -11,13 +11,17 @@ Overview\n --------\n \n This connector allows the use of `Apache Kafka <https://kafka.apache.org/>`_\n-topics as tables in Presto.\n-Each message is presented as a row in Presto.\n+topics as tables in Presto. Each message is presented as a row in Presto.\n \n Topics can be live. Rows appear as data arrives, and disappear as\n segments get dropped. This can result in strange behavior if accessing the\n same table multiple times in a single query (e.g., performing a self join).\n \n+The connector reads message data from Kafka topics in parallel across workers to\n+achieve a significant performance gain. The size of data sets for this", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzk5MDY1OQ==", "bodyText": "I don't think the reason is obvious to a normal user at all and I think it is important for beginner users to be told why they would want to use the connector at all including performance benefits.", "url": "https://github.com/trinodb/trino/pull/3111#discussion_r393990659", "createdAt": "2020-03-17T21:49:18Z", "author": {"login": "mosabua"}, "path": "presto-docs/src/main/sphinx/connector/kafka.rst", "diffHunk": "@@ -11,13 +11,17 @@ Overview\n --------\n \n This connector allows the use of `Apache Kafka <https://kafka.apache.org/>`_\n-topics as tables in Presto.\n-Each message is presented as a row in Presto.\n+topics as tables in Presto. Each message is presented as a row in Presto.\n \n Topics can be live. Rows appear as data arrives, and disappear as\n segments get dropped. This can result in strange behavior if accessing the\n same table multiple times in a single query (e.g., performing a self join).\n \n+The connector reads message data from Kafka topics in parallel across workers to\n+achieve a significant performance gain. The size of data sets for this", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzQ5NTY3MQ=="}, "originalCommit": null, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQzOTE0NzM5OnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/connector/kafka.rst", "isResolved": true, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QwNzo1OToxOFrOF3ROdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQxNToxOToyN1rOF7gP1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzQ5ODIyOA==", "bodyText": "I am not sure if we should document defaults. It could change, causing docs to be out-of-date. This is general problem, but hardcoding values is like crossing the border to me.\n\n, smaller numbers result in higher parallelization of the query processing\n\nI would remove that. This sentence suggest that the best configuration is 1, while in reality it is a tread off (you don't mention the other force). My thought is that, it is not trivial, folks who understand that don't need a comment here, folks that don't understand this could be easily mislead.", "url": "https://github.com/trinodb/trino/pull/3111#discussion_r393498228", "createdAt": "2020-03-17T07:59:18Z", "author": {"login": "kokosing"}, "path": "presto-docs/src/main/sphinx/connector/kafka.rst", "diffHunk": "@@ -59,7 +63,7 @@ Property Name                   Description\n ``kafka.buffer-size``           Kafka read buffer size\n ``kafka.table-description-dir`` Directory containing topic description files\n ``kafka.hide-internal-columns`` Controls whether internal columns are part of the table schema or not\n-``kafka.messages-per-split``    Number of messages that will be processed by single Presto split\n+``kafka.messages-per-split``    Number of messages that are processed by each Presto split, defaults to 100000, smaller numbers result in higher parallelization of the query processing", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzk5MDAwNA==", "bodyText": "We document defaults all over the place .. but I am happy to leave it out here and also leave out the complexity. The only problem then is if someone wants to tune .. how do they know what the start value is..  so I am torn. Wdyt?", "url": "https://github.com/trinodb/trino/pull/3111#discussion_r393990004", "createdAt": "2020-03-17T21:47:50Z", "author": {"login": "mosabua"}, "path": "presto-docs/src/main/sphinx/connector/kafka.rst", "diffHunk": "@@ -59,7 +63,7 @@ Property Name                   Description\n ``kafka.buffer-size``           Kafka read buffer size\n ``kafka.table-description-dir`` Directory containing topic description files\n ``kafka.hide-internal-columns`` Controls whether internal columns are part of the table schema or not\n-``kafka.messages-per-split``    Number of messages that will be processed by single Presto split\n+``kafka.messages-per-split``    Number of messages that are processed by each Presto split, defaults to 100000, smaller numbers result in higher parallelization of the query processing", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzQ5ODIyOA=="}, "originalCommit": null, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDI5NjQzMQ==", "bodyText": "I don't know what we should do here. I just shared my concerns.", "url": "https://github.com/trinodb/trino/pull/3111#discussion_r394296431", "createdAt": "2020-03-18T12:04:49Z", "author": {"login": "kokosing"}, "path": "presto-docs/src/main/sphinx/connector/kafka.rst", "diffHunk": "@@ -59,7 +63,7 @@ Property Name                   Description\n ``kafka.buffer-size``           Kafka read buffer size\n ``kafka.table-description-dir`` Directory containing topic description files\n ``kafka.hide-internal-columns`` Controls whether internal columns are part of the table schema or not\n-``kafka.messages-per-split``    Number of messages that will be processed by single Presto split\n+``kafka.messages-per-split``    Number of messages that are processed by each Presto split, defaults to 100000, smaller numbers result in higher parallelization of the query processing", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzQ5ODIyOA=="}, "originalCommit": null, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTExODQ3OA==", "bodyText": "How about just documenting the value but remove the \"smaller numbers...\" section since it too simplistic?", "url": "https://github.com/trinodb/trino/pull/3111#discussion_r395118478", "createdAt": "2020-03-19T15:34:34Z", "author": {"login": "mosabua"}, "path": "presto-docs/src/main/sphinx/connector/kafka.rst", "diffHunk": "@@ -59,7 +63,7 @@ Property Name                   Description\n ``kafka.buffer-size``           Kafka read buffer size\n ``kafka.table-description-dir`` Directory containing topic description files\n ``kafka.hide-internal-columns`` Controls whether internal columns are part of the table schema or not\n-``kafka.messages-per-split``    Number of messages that will be processed by single Presto split\n+``kafka.messages-per-split``    Number of messages that are processed by each Presto split, defaults to 100000, smaller numbers result in higher parallelization of the query processing", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzQ5ODIyOA=="}, "originalCommit": null, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzUxOTQwMQ==", "bodyText": "@kokosing  @electrum ?", "url": "https://github.com/trinodb/trino/pull/3111#discussion_r397519401", "createdAt": "2020-03-24T23:19:16Z", "author": {"login": "mosabua"}, "path": "presto-docs/src/main/sphinx/connector/kafka.rst", "diffHunk": "@@ -59,7 +63,7 @@ Property Name                   Description\n ``kafka.buffer-size``           Kafka read buffer size\n ``kafka.table-description-dir`` Directory containing topic description files\n ``kafka.hide-internal-columns`` Controls whether internal columns are part of the table schema or not\n-``kafka.messages-per-split``    Number of messages that will be processed by single Presto split\n+``kafka.messages-per-split``    Number of messages that are processed by each Presto split, defaults to 100000, smaller numbers result in higher parallelization of the query processing", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzQ5ODIyOA=="}, "originalCommit": null, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Nzc2NzQ5MA==", "bodyText": "Sounds good to me.", "url": "https://github.com/trinodb/trino/pull/3111#discussion_r397767490", "createdAt": "2020-03-25T10:58:44Z", "author": {"login": "kokosing"}, "path": "presto-docs/src/main/sphinx/connector/kafka.rst", "diffHunk": "@@ -59,7 +63,7 @@ Property Name                   Description\n ``kafka.buffer-size``           Kafka read buffer size\n ``kafka.table-description-dir`` Directory containing topic description files\n ``kafka.hide-internal-columns`` Controls whether internal columns are part of the table schema or not\n-``kafka.messages-per-split``    Number of messages that will be processed by single Presto split\n+``kafka.messages-per-split``    Number of messages that are processed by each Presto split, defaults to 100000, smaller numbers result in higher parallelization of the query processing", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzQ5ODIyOA=="}, "originalCommit": null, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzkzODY0NQ==", "bodyText": "Done", "url": "https://github.com/trinodb/trino/pull/3111#discussion_r397938645", "createdAt": "2020-03-25T15:19:27Z", "author": {"login": "mosabua"}, "path": "presto-docs/src/main/sphinx/connector/kafka.rst", "diffHunk": "@@ -59,7 +63,7 @@ Property Name                   Description\n ``kafka.buffer-size``           Kafka read buffer size\n ``kafka.table-description-dir`` Directory containing topic description files\n ``kafka.hide-internal-columns`` Controls whether internal columns are part of the table schema or not\n-``kafka.messages-per-split``    Number of messages that will be processed by single Presto split\n+``kafka.messages-per-split``    Number of messages that are processed by each Presto split, defaults to 100000, smaller numbers result in higher parallelization of the query processing", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzQ5ODIyOA=="}, "originalCommit": null, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 601, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}