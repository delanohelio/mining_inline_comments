{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUzOTQxMTM4", "number": 4506, "title": "Improve timezone normalization", "bodyText": "Patterns such as +0735 or GMT+07:35 were not being handled properly.\nThis change also simplifies the control flow of the method and\nmakes it easier to read.\nFixes #4490", "createdAt": "2020-07-20T23:36:21Z", "url": "https://github.com/trinodb/trino/pull/4506", "merged": true, "mergeCommit": {"oid": "bb17cf24b653054fe656cd6cf728a7c7d37e4156"}, "closed": true, "closedAt": "2020-07-21T15:03:58Z", "author": {"login": "martint"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc26YXZABqjM1NjgyOTc2NTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3AjSyABqjM1Njk1MDM5Nzg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMDk3NDM0", "url": "https://github.com/trinodb/trino/pull/4506#pullrequestreview-452097434", "createdAt": "2020-07-21T03:16:30Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMTU1MTk3", "url": "https://github.com/trinodb/trino/pull/4506#pullrequestreview-452155197", "createdAt": "2020-07-21T06:17:59Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNjoxNzo1OVrOG0ppJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNjoyNTo0NlrOG0p0PQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzg2MTQxNQ==", "bodyText": "Does it matter we are calculating zoneId.toLowerCase(ENGLISH) twice now?", "url": "https://github.com/trinodb/trino/pull/4506#discussion_r457861415", "createdAt": "2020-07-21T06:17:59Z", "author": {"login": "findepi"}, "path": "presto-spi/src/main/java/io/prestosql/spi/type/TimeZoneKey.java", "diffHunk": "@@ -210,102 +251,89 @@ public static boolean isUtcZoneId(String zoneId)\n         return normalizeZoneId(zoneId).equals(\"utc\");\n     }\n \n-    private static String normalizeZoneId(String originalZoneId)\n+    private static String normalizeZoneId(String zoneId)\n     {\n-        String zoneId = originalZoneId.toLowerCase(ENGLISH);\n-\n-        boolean startsWithEtc = zoneId.startsWith(\"etc/\");\n-        if (startsWithEtc) {\n-            zoneId = zoneId.substring(4);\n-        }\n-\n         if (isUtcEquivalentName(zoneId)) {\n             return \"utc\";\n         }\n \n-        //\n-        // Normalize fixed offset time zones.\n-        //\n+        // The JDK doesn't understand legacy timezones such as Etc/GMT+00:00, GMT-7\n+        String lowerCased = zoneId.toLowerCase(ENGLISH);\n+        for (String prefix : UTC_OFFSET_PREFIXES) {\n+            if (lowerCased.startsWith(prefix)) {\n+                int offset = prefix.length();\n+                if (lowerCased.charAt(offset) != '+' && lowerCased.charAt(offset) != '-') {\n+                    // It must be something like GMT7, or Etc/UTC4, which are invalid\n+                    return zoneId;\n+                }\n+\n+                int colon = lowerCased.indexOf(':', offset);\n+                int hour;\n+                int minute = 0;\n+                if (colon != -1) {\n+                    hour = Integer.parseInt(lowerCased, offset, colon, 10);\n+                    minute = Integer.parseInt(lowerCased, colon + 1, lowerCased.length(), 10);\n+                }\n+                else if (lowerCased.length() - offset <= 3) {\n+                    // +H or +HH\n+                    hour = Integer.parseInt(lowerCased, offset, lowerCased.length(), 10);\n+                }\n+                else {\n+                    // let the JDK handle it below\n+                    break;\n+                }\n+\n+                if (hour == 0 && minute == 0) {\n+                    return \"utc\";\n+                }\n+\n+                if (prefix.equals(\"etc/gmt\")) {\n+                    hour = -hour;\n+                }\n \n-        // In some zones systems, these will start with UTC, GMT or UT.\n-        int length = zoneId.length();\n-        boolean startsWithEtcGmt = false;\n-        if (length > 3 && (zoneId.startsWith(\"utc\") || zoneId.startsWith(\"gmt\"))) {\n-            if (startsWithEtc && zoneId.startsWith(\"gmt\")) {\n-                startsWithEtcGmt = true;\n+                return formatZoneOffset(hour, minute);\n             }\n-            zoneId = zoneId.substring(3);\n-            length = zoneId.length();\n-        }\n-        else if (length > 2 && zoneId.startsWith(\"ut\")) {\n-            zoneId = zoneId.substring(2);\n-            length = zoneId.length();\n         }\n \n-        // (+/-)00:00 is UTC\n-        if (\"+00:00\".equals(zoneId) || \"-00:00\".equals(zoneId)) {\n-            return \"utc\";\n+        // Normalize using JDK rules. In particular, normalize forms such as +0735, +7, +073521\n+        try {\n+            zoneId = ZoneId.of(zoneId).getId();\n         }\n-\n-        // if zoneId matches XXX:XX, it is likely +HH:mm, so just return it\n-        // since only offset time zones will contain a `:` character\n-        if (length == 6 && zoneId.charAt(3) == ':') {\n+        catch (Exception e) {\n             return zoneId;\n         }\n \n-        //\n-        // Rewrite (+/-)H[H] to (+/-)HH:00\n-        //\n-        if (length != 2 && length != 3) {\n-            return originalZoneId;\n+        if (isUtcEquivalentName(zoneId)) {\n+            return \"utc\";\n         }\n \n-        // zone must start with a plus or minus sign\n-        char signChar = zoneId.charAt(0);\n-        if (signChar != '+' && signChar != '-') {\n-            return originalZoneId;\n-        }\n-        if (startsWithEtcGmt) {\n-            // Flip sign for Etc/GMT(+/-)H[H]\n-            signChar = signChar == '-' ? '+' : '-';\n-        }\n+        return zoneId;\n+    }\n \n-        // extract the tens and ones characters for the hour\n-        char hourTens;\n-        char hourOnes;\n-        if (length == 2) {\n-            hourTens = '0';\n-            hourOnes = zoneId.charAt(1);\n-        }\n-        else {\n-            hourTens = zoneId.charAt(1);\n-            hourOnes = zoneId.charAt(2);\n-        }\n+    private static String formatZoneOffset(int hour, int minute)\n+    {\n+        StringBuilder builder = new StringBuilder();\n+\n+        builder.append(hour >= 0 ? '+' : '-');\n \n-        // do we have a valid hours offset time zone?\n-        if (!isDigit(hourTens) || !isDigit(hourOnes)) {\n-            return originalZoneId;\n+        hour = abs(hour);\n+        if (hour < 10) {\n+            builder.append('0');\n         }\n+        builder.append(hour);\n+        builder.append(':');\n \n-        // is this offset 0 (e.g., UTC)?\n-        if (hourTens == '0' && hourOnes == '0') {\n-            return \"utc\";\n+        if (minute < 10) {\n+            builder.append('0');\n         }\n+        builder.append(minute);\n \n-        return \"\" + signChar + hourTens + hourOnes + \":00\";\n+        return builder.toString();\n     }\n \n     private static boolean isUtcEquivalentName(String zoneId)\n     {\n-        return zoneId.equals(\"utc\") ||\n-                zoneId.equals(\"z\") ||\n-                zoneId.equals(\"ut\") ||\n-                zoneId.equals(\"uct\") ||\n-                zoneId.equals(\"gmt\") ||\n-                zoneId.equals(\"gmt0\") ||\n-                zoneId.equals(\"greenwich\") ||\n-                zoneId.equals(\"universal\") ||\n-                zoneId.equals(\"zulu\");\n+        return UTC_EQUIVALENTS.contains(zoneId.toLowerCase(ENGLISH));", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 221}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzg2MTc2Mw==", "bodyText": "index out of bound ?", "url": "https://github.com/trinodb/trino/pull/4506#discussion_r457861763", "createdAt": "2020-07-21T06:19:00Z", "author": {"login": "findepi"}, "path": "presto-spi/src/main/java/io/prestosql/spi/type/TimeZoneKey.java", "diffHunk": "@@ -210,102 +251,89 @@ public static boolean isUtcZoneId(String zoneId)\n         return normalizeZoneId(zoneId).equals(\"utc\");\n     }\n \n-    private static String normalizeZoneId(String originalZoneId)\n+    private static String normalizeZoneId(String zoneId)\n     {\n-        String zoneId = originalZoneId.toLowerCase(ENGLISH);\n-\n-        boolean startsWithEtc = zoneId.startsWith(\"etc/\");\n-        if (startsWithEtc) {\n-            zoneId = zoneId.substring(4);\n-        }\n-\n         if (isUtcEquivalentName(zoneId)) {\n             return \"utc\";\n         }\n \n-        //\n-        // Normalize fixed offset time zones.\n-        //\n+        // The JDK doesn't understand legacy timezones such as Etc/GMT+00:00, GMT-7\n+        String lowerCased = zoneId.toLowerCase(ENGLISH);\n+        for (String prefix : UTC_OFFSET_PREFIXES) {\n+            if (lowerCased.startsWith(prefix)) {\n+                int offset = prefix.length();\n+                if (lowerCased.charAt(offset) != '+' && lowerCased.charAt(offset) != '-') {", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 90}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzg2MjA5MQ==", "bodyText": "Include a note in the comment why you return instead of throwing for something deemed invalid.", "url": "https://github.com/trinodb/trino/pull/4506#discussion_r457862091", "createdAt": "2020-07-21T06:19:51Z", "author": {"login": "findepi"}, "path": "presto-spi/src/main/java/io/prestosql/spi/type/TimeZoneKey.java", "diffHunk": "@@ -210,102 +251,89 @@ public static boolean isUtcZoneId(String zoneId)\n         return normalizeZoneId(zoneId).equals(\"utc\");\n     }\n \n-    private static String normalizeZoneId(String originalZoneId)\n+    private static String normalizeZoneId(String zoneId)\n     {\n-        String zoneId = originalZoneId.toLowerCase(ENGLISH);\n-\n-        boolean startsWithEtc = zoneId.startsWith(\"etc/\");\n-        if (startsWithEtc) {\n-            zoneId = zoneId.substring(4);\n-        }\n-\n         if (isUtcEquivalentName(zoneId)) {\n             return \"utc\";\n         }\n \n-        //\n-        // Normalize fixed offset time zones.\n-        //\n+        // The JDK doesn't understand legacy timezones such as Etc/GMT+00:00, GMT-7\n+        String lowerCased = zoneId.toLowerCase(ENGLISH);\n+        for (String prefix : UTC_OFFSET_PREFIXES) {\n+            if (lowerCased.startsWith(prefix)) {\n+                int offset = prefix.length();\n+                if (lowerCased.charAt(offset) != '+' && lowerCased.charAt(offset) != '-') {\n+                    // It must be something like GMT7, or Etc/UTC4, which are invalid\n+                    return zoneId;", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 92}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzg2MjgzMg==", "bodyText": "What if part before the colon is empty or not digits (GMT+:10 or GMT+a:10)\nSame for part after the colon?\nShould this all be wrapped in catch (Exception e) { return zoneId; }?", "url": "https://github.com/trinodb/trino/pull/4506#discussion_r457862832", "createdAt": "2020-07-21T06:21:48Z", "author": {"login": "findepi"}, "path": "presto-spi/src/main/java/io/prestosql/spi/type/TimeZoneKey.java", "diffHunk": "@@ -210,102 +251,89 @@ public static boolean isUtcZoneId(String zoneId)\n         return normalizeZoneId(zoneId).equals(\"utc\");\n     }\n \n-    private static String normalizeZoneId(String originalZoneId)\n+    private static String normalizeZoneId(String zoneId)\n     {\n-        String zoneId = originalZoneId.toLowerCase(ENGLISH);\n-\n-        boolean startsWithEtc = zoneId.startsWith(\"etc/\");\n-        if (startsWithEtc) {\n-            zoneId = zoneId.substring(4);\n-        }\n-\n         if (isUtcEquivalentName(zoneId)) {\n             return \"utc\";\n         }\n \n-        //\n-        // Normalize fixed offset time zones.\n-        //\n+        // The JDK doesn't understand legacy timezones such as Etc/GMT+00:00, GMT-7\n+        String lowerCased = zoneId.toLowerCase(ENGLISH);\n+        for (String prefix : UTC_OFFSET_PREFIXES) {\n+            if (lowerCased.startsWith(prefix)) {\n+                int offset = prefix.length();\n+                if (lowerCased.charAt(offset) != '+' && lowerCased.charAt(offset) != '-') {\n+                    // It must be something like GMT7, or Etc/UTC4, which are invalid\n+                    return zoneId;\n+                }\n+\n+                int colon = lowerCased.indexOf(':', offset);\n+                int hour;\n+                int minute = 0;\n+                if (colon != -1) {\n+                    hour = Integer.parseInt(lowerCased, offset, colon, 10);\n+                    minute = Integer.parseInt(lowerCased, colon + 1, lowerCased.length(), 10);", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 100}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzg2MzY5Mg==", "bodyText": "6 capacity, if you care about performance\n(format otherwise)", "url": "https://github.com/trinodb/trino/pull/4506#discussion_r457863692", "createdAt": "2020-07-21T06:24:16Z", "author": {"login": "findepi"}, "path": "presto-spi/src/main/java/io/prestosql/spi/type/TimeZoneKey.java", "diffHunk": "@@ -210,102 +251,89 @@ public static boolean isUtcZoneId(String zoneId)\n         return normalizeZoneId(zoneId).equals(\"utc\");\n     }\n \n-    private static String normalizeZoneId(String originalZoneId)\n+    private static String normalizeZoneId(String zoneId)\n     {\n-        String zoneId = originalZoneId.toLowerCase(ENGLISH);\n-\n-        boolean startsWithEtc = zoneId.startsWith(\"etc/\");\n-        if (startsWithEtc) {\n-            zoneId = zoneId.substring(4);\n-        }\n-\n         if (isUtcEquivalentName(zoneId)) {\n             return \"utc\";\n         }\n \n-        //\n-        // Normalize fixed offset time zones.\n-        //\n+        // The JDK doesn't understand legacy timezones such as Etc/GMT+00:00, GMT-7\n+        String lowerCased = zoneId.toLowerCase(ENGLISH);\n+        for (String prefix : UTC_OFFSET_PREFIXES) {\n+            if (lowerCased.startsWith(prefix)) {\n+                int offset = prefix.length();\n+                if (lowerCased.charAt(offset) != '+' && lowerCased.charAt(offset) != '-') {\n+                    // It must be something like GMT7, or Etc/UTC4, which are invalid\n+                    return zoneId;\n+                }\n+\n+                int colon = lowerCased.indexOf(':', offset);\n+                int hour;\n+                int minute = 0;\n+                if (colon != -1) {\n+                    hour = Integer.parseInt(lowerCased, offset, colon, 10);\n+                    minute = Integer.parseInt(lowerCased, colon + 1, lowerCased.length(), 10);\n+                }\n+                else if (lowerCased.length() - offset <= 3) {\n+                    // +H or +HH\n+                    hour = Integer.parseInt(lowerCased, offset, lowerCased.length(), 10);\n+                }\n+                else {\n+                    // let the JDK handle it below\n+                    break;\n+                }\n+\n+                if (hour == 0 && minute == 0) {\n+                    return \"utc\";\n+                }\n+\n+                if (prefix.equals(\"etc/gmt\")) {\n+                    hour = -hour;\n+                }\n \n-        // In some zones systems, these will start with UTC, GMT or UT.\n-        int length = zoneId.length();\n-        boolean startsWithEtcGmt = false;\n-        if (length > 3 && (zoneId.startsWith(\"utc\") || zoneId.startsWith(\"gmt\"))) {\n-            if (startsWithEtc && zoneId.startsWith(\"gmt\")) {\n-                startsWithEtcGmt = true;\n+                return formatZoneOffset(hour, minute);\n             }\n-            zoneId = zoneId.substring(3);\n-            length = zoneId.length();\n-        }\n-        else if (length > 2 && zoneId.startsWith(\"ut\")) {\n-            zoneId = zoneId.substring(2);\n-            length = zoneId.length();\n         }\n \n-        // (+/-)00:00 is UTC\n-        if (\"+00:00\".equals(zoneId) || \"-00:00\".equals(zoneId)) {\n-            return \"utc\";\n+        // Normalize using JDK rules. In particular, normalize forms such as +0735, +7, +073521\n+        try {\n+            zoneId = ZoneId.of(zoneId).getId();\n         }\n-\n-        // if zoneId matches XXX:XX, it is likely +HH:mm, so just return it\n-        // since only offset time zones will contain a `:` character\n-        if (length == 6 && zoneId.charAt(3) == ':') {\n+        catch (Exception e) {\n             return zoneId;\n         }\n \n-        //\n-        // Rewrite (+/-)H[H] to (+/-)HH:00\n-        //\n-        if (length != 2 && length != 3) {\n-            return originalZoneId;\n+        if (isUtcEquivalentName(zoneId)) {\n+            return \"utc\";\n         }\n \n-        // zone must start with a plus or minus sign\n-        char signChar = zoneId.charAt(0);\n-        if (signChar != '+' && signChar != '-') {\n-            return originalZoneId;\n-        }\n-        if (startsWithEtcGmt) {\n-            // Flip sign for Etc/GMT(+/-)H[H]\n-            signChar = signChar == '-' ? '+' : '-';\n-        }\n+        return zoneId;\n+    }\n \n-        // extract the tens and ones characters for the hour\n-        char hourTens;\n-        char hourOnes;\n-        if (length == 2) {\n-            hourTens = '0';\n-            hourOnes = zoneId.charAt(1);\n-        }\n-        else {\n-            hourTens = zoneId.charAt(1);\n-            hourOnes = zoneId.charAt(2);\n-        }\n+    private static String formatZoneOffset(int hour, int minute)\n+    {\n+        StringBuilder builder = new StringBuilder();", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 184}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Nzg2NDI1Mw==", "bodyText": "Do you have a test for +073521 case?\n(what does it mean actually?)", "url": "https://github.com/trinodb/trino/pull/4506#discussion_r457864253", "createdAt": "2020-07-21T06:25:46Z", "author": {"login": "findepi"}, "path": "presto-spi/src/main/java/io/prestosql/spi/type/TimeZoneKey.java", "diffHunk": "@@ -210,102 +251,89 @@ public static boolean isUtcZoneId(String zoneId)\n         return normalizeZoneId(zoneId).equals(\"utc\");\n     }\n \n-    private static String normalizeZoneId(String originalZoneId)\n+    private static String normalizeZoneId(String zoneId)\n     {\n-        String zoneId = originalZoneId.toLowerCase(ENGLISH);\n-\n-        boolean startsWithEtc = zoneId.startsWith(\"etc/\");\n-        if (startsWithEtc) {\n-            zoneId = zoneId.substring(4);\n-        }\n-\n         if (isUtcEquivalentName(zoneId)) {\n             return \"utc\";\n         }\n \n-        //\n-        // Normalize fixed offset time zones.\n-        //\n+        // The JDK doesn't understand legacy timezones such as Etc/GMT+00:00, GMT-7\n+        String lowerCased = zoneId.toLowerCase(ENGLISH);\n+        for (String prefix : UTC_OFFSET_PREFIXES) {\n+            if (lowerCased.startsWith(prefix)) {\n+                int offset = prefix.length();\n+                if (lowerCased.charAt(offset) != '+' && lowerCased.charAt(offset) != '-') {\n+                    // It must be something like GMT7, or Etc/UTC4, which are invalid\n+                    return zoneId;\n+                }\n+\n+                int colon = lowerCased.indexOf(':', offset);\n+                int hour;\n+                int minute = 0;\n+                if (colon != -1) {\n+                    hour = Integer.parseInt(lowerCased, offset, colon, 10);\n+                    minute = Integer.parseInt(lowerCased, colon + 1, lowerCased.length(), 10);\n+                }\n+                else if (lowerCased.length() - offset <= 3) {\n+                    // +H or +HH\n+                    hour = Integer.parseInt(lowerCased, offset, lowerCased.length(), 10);\n+                }\n+                else {\n+                    // let the JDK handle it below\n+                    break;\n+                }\n+\n+                if (hour == 0 && minute == 0) {\n+                    return \"utc\";\n+                }\n+\n+                if (prefix.equals(\"etc/gmt\")) {\n+                    hour = -hour;\n+                }\n \n-        // In some zones systems, these will start with UTC, GMT or UT.\n-        int length = zoneId.length();\n-        boolean startsWithEtcGmt = false;\n-        if (length > 3 && (zoneId.startsWith(\"utc\") || zoneId.startsWith(\"gmt\"))) {\n-            if (startsWithEtc && zoneId.startsWith(\"gmt\")) {\n-                startsWithEtcGmt = true;\n+                return formatZoneOffset(hour, minute);\n             }\n-            zoneId = zoneId.substring(3);\n-            length = zoneId.length();\n-        }\n-        else if (length > 2 && zoneId.startsWith(\"ut\")) {\n-            zoneId = zoneId.substring(2);\n-            length = zoneId.length();\n         }\n \n-        // (+/-)00:00 is UTC\n-        if (\"+00:00\".equals(zoneId) || \"-00:00\".equals(zoneId)) {\n-            return \"utc\";\n+        // Normalize using JDK rules. In particular, normalize forms such as +0735, +7, +073521", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 138}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b854ae433c414018fbb2ef7bd1fccc635dceb59", "author": {"user": {"login": "martint", "name": "Martin Traverso"}}, "url": "https://github.com/trinodb/trino/commit/0b854ae433c414018fbb2ef7bd1fccc635dceb59", "committedDate": "2020-07-21T06:50:18Z", "message": "Improve timezone normalization\n\nPatterns such as +0735 or GMT+07:35 were not being handled properly.\nThis change also simplifies the control flow of the method and\nmakes it easier to read."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "0b854ae433c414018fbb2ef7bd1fccc635dceb59", "author": {"user": {"login": "martint", "name": "Martin Traverso"}}, "url": "https://github.com/trinodb/trino/commit/0b854ae433c414018fbb2ef7bd1fccc635dceb59", "committedDate": "2020-07-21T06:50:18Z", "message": "Improve timezone normalization\n\nPatterns such as +0735 or GMT+07:35 were not being handled properly.\nThis change also simplifies the control flow of the method and\nmakes it easier to read."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4772, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}