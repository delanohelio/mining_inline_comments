{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1MjMxNjY2", "number": 6044, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMTowMjozNVrOE8ZQng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxODoyODowMFrOE83lZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxNzYzODcwOnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/admin/properties-node-scheduler.rst", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMTowMjozNVrOH4fNjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMTowMjozNVrOH4fNjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODk5MzY3Nw==", "bodyText": "Maybe make this a list", "url": "https://github.com/trinodb/trino/pull/6044#discussion_r528993677", "createdAt": "2020-11-23T21:02:35Z", "author": {"login": "electrum"}, "path": "presto-docs/src/main/sphinx/admin/properties-node-scheduler.rst", "diffHunk": "@@ -76,12 +76,22 @@ For example, setting ``region,rack,machine`` means a network location contains t\n ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n * **Type:** ``string``\n-* **Allowed values:** ``flat``, ``file``\n+* **Allowed values:** ``flat``, ``file``, ``subnet``\n * **Default value:** ``flat``\n \n-Sets the network topology type. To use this option, ``node-scheduler.policy`` must be set to\n-``topology``. ``flat`` has only one segment, with one value for each machine.\n-``file`` loads the topology from a file as described below.\n+Sets the network topology type. To use this option, ``node-scheduler.policy``\n+must be set to ``topology``.\n+\n+``flat`` : the topology has only one segment, with one value for each machine.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxNzY1MzUzOnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/admin/properties-node-scheduler.rst", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMTowNzoyNFrOH4fWag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwMTo1OTowNlrOH4nVcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODk5NTk0Ng==", "bodyText": "This is fine, but we could simplify it a bit if we add new sections. Then we don't need to mention properties here, or mention the type in the properties descriptions below.\nNetwork topology\n----------------\n\n...\n\n``file`` network topology\n-------------------------\n\n...\n\n``subnet`` network topology\n---------------------------\n\n...", "url": "https://github.com/trinodb/trino/pull/6044#discussion_r528995946", "createdAt": "2020-11-23T21:07:24Z", "author": {"login": "electrum"}, "path": "presto-docs/src/main/sphinx/admin/properties-node-scheduler.rst", "diffHunk": "@@ -76,12 +76,22 @@ For example, setting ``region,rack,machine`` means a network location contains t\n ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n * **Type:** ``string``\n-* **Allowed values:** ``flat``, ``file``\n+* **Allowed values:** ``flat``, ``file``, ``subnet``\n * **Default value:** ``flat``\n \n-Sets the network topology type. To use this option, ``node-scheduler.policy`` must be set to\n-``topology``. ``flat`` has only one segment, with one value for each machine.\n-``file`` loads the topology from a file as described below.\n+Sets the network topology type. To use this option, ``node-scheduler.policy``\n+must be set to ``topology``.\n+\n+``flat`` : the topology has only one segment, with one value for each machine.\n+\n+``file``: the topology is loaded from a file using", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAzMTYyOQ==", "bodyText": "If we do that we have to make sure to use the correct level underline for the titles.. probably \"\"\"\"\"\"\"", "url": "https://github.com/trinodb/trino/pull/6044#discussion_r529031629", "createdAt": "2020-11-23T22:17:09Z", "author": {"login": "mosabua"}, "path": "presto-docs/src/main/sphinx/admin/properties-node-scheduler.rst", "diffHunk": "@@ -76,12 +76,22 @@ For example, setting ``region,rack,machine`` means a network location contains t\n ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n * **Type:** ``string``\n-* **Allowed values:** ``flat``, ``file``\n+* **Allowed values:** ``flat``, ``file``, ``subnet``\n * **Default value:** ``flat``\n \n-Sets the network topology type. To use this option, ``node-scheduler.policy`` must be set to\n-``topology``. ``flat`` has only one segment, with one value for each machine.\n-``file`` loads the topology from a file as described below.\n+Sets the network topology type. To use this option, ``node-scheduler.policy``\n+must be set to ``topology``.\n+\n+``flat`` : the topology has only one segment, with one value for each machine.\n+\n+``file``: the topology is loaded from a file using", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODk5NTk0Ng=="}, "originalCommit": null, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTEyNjc3MQ==", "bodyText": "Thanks @electrum, I changed it so that titles use ^^^^^ and properties under them use \"\"\"\". It looks good to me, @mosabua wdyt?", "url": "https://github.com/trinodb/trino/pull/6044#discussion_r529126771", "createdAt": "2020-11-24T01:59:06Z", "author": {"login": "phd3"}, "path": "presto-docs/src/main/sphinx/admin/properties-node-scheduler.rst", "diffHunk": "@@ -76,12 +76,22 @@ For example, setting ``region,rack,machine`` means a network location contains t\n ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n * **Type:** ``string``\n-* **Allowed values:** ``flat``, ``file``\n+* **Allowed values:** ``flat``, ``file``, ``subnet``\n * **Default value:** ``flat``\n \n-Sets the network topology type. To use this option, ``node-scheduler.policy`` must be set to\n-``topology``. ``flat`` has only one segment, with one value for each machine.\n-``file`` loads the topology from a file as described below.\n+Sets the network topology type. To use this option, ``node-scheduler.policy``\n+must be set to ``topology``.\n+\n+``flat`` : the topology has only one segment, with one value for each machine.\n+\n+``file``: the topology is loaded from a file using", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODk5NTk0Ng=="}, "originalCommit": null, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxNzY1NTI2OnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/admin/properties-node-scheduler.rst", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMTowODowMlrOH4fXhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMTowODowMlrOH4fXhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODk5NjIyOQ==", "bodyText": "Remove \"expected\" word", "url": "https://github.com/trinodb/trino/pull/6044#discussion_r528996229", "createdAt": "2020-11-23T21:08:02Z", "author": {"login": "electrum"}, "path": "presto-docs/src/main/sphinx/admin/properties-node-scheduler.rst", "diffHunk": "@@ -108,3 +118,28 @@ network location, separated by whitespace. Network location must begin with a le\n \n Controls how often the network topology file is reloaded.  To use this option,\n ``node-scheduler.network-topology.type`` must be set to ``file``.\n+\n+``node-scheduler.network-topology.subnet.ip-address-protocol``\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+* **Type:** ``string``\n+* **Allowed values:** ``IPv4``, ``IPv6``\n+* **Default value:** ``IPv4``\n+\n+Sets the expected IP address protocol to be used for computing subnet based", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxNzY1NjYwOnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/admin/properties-node-scheduler.rst", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMTowODozM1rOH4fYYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMTowODozM1rOH4fYYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODk5NjQ1MQ==", "bodyText": "Remove \"expects\"\n\nA comma-separated list of ...", "url": "https://github.com/trinodb/trino/pull/6044#discussion_r528996451", "createdAt": "2020-11-23T21:08:33Z", "author": {"login": "electrum"}, "path": "presto-docs/src/main/sphinx/admin/properties-node-scheduler.rst", "diffHunk": "@@ -108,3 +118,28 @@ network location, separated by whitespace. Network location must begin with a le\n \n Controls how often the network topology file is reloaded.  To use this option,\n ``node-scheduler.network-topology.type`` must be set to ``file``.\n+\n+``node-scheduler.network-topology.subnet.ip-address-protocol``\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+* **Type:** ``string``\n+* **Allowed values:** ``IPv4``, ``IPv6``\n+* **Default value:** ``IPv4``\n+\n+Sets the expected IP address protocol to be used for computing subnet based\n+topology.  To use this option, ``node-scheduler.network-topology.type`` must\n+be set to ``subnet``.\n+\n+``node-scheduler.network-topology.subnet.cidr-prefix-lengths``\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+Expects a comma-separated list of integers defining CIDR prefix lengths for", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 46}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxNzY1Nzc3OnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/admin/properties-node-scheduler.rst", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMTowODo1NlrOH4fZFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMTowODo1NlrOH4fZFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODk5NjYyOA==", "bodyText": "Capitalize IP", "url": "https://github.com/trinodb/trino/pull/6044#discussion_r528996628", "createdAt": "2020-11-23T21:08:56Z", "author": {"login": "electrum"}, "path": "presto-docs/src/main/sphinx/admin/properties-node-scheduler.rst", "diffHunk": "@@ -108,3 +118,28 @@ network location, separated by whitespace. Network location must begin with a le\n \n Controls how often the network topology file is reloaded.  To use this option,\n ``node-scheduler.network-topology.type`` must be set to ``file``.\n+\n+``node-scheduler.network-topology.subnet.ip-address-protocol``\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+* **Type:** ``string``\n+* **Allowed values:** ``IPv4``, ``IPv6``\n+* **Default value:** ``IPv4``\n+\n+Sets the expected IP address protocol to be used for computing subnet based\n+topology.  To use this option, ``node-scheduler.network-topology.type`` must\n+be set to ``subnet``.\n+\n+``node-scheduler.network-topology.subnet.cidr-prefix-lengths``\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+Expects a comma-separated list of integers defining CIDR prefix lengths for\n+subnet masks. The prefix lengths must be in increasing order. The maximum prefix\n+length values for IPv4 and IPv6 protocols are 32 and 128 respectively. To use\n+this option, ``node-scheduler.network-topology.type`` must be set to ``subnet``.\n+\n+For example, the value ``24,25,27`` for this property with IPv4 protocol means\n+that masks applied on the ip address to compute location segments would be", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 52}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxNzg5NTU1OnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/admin/properties-node-scheduler.rst", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMjoxODozNFrOH4hkZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMjoxODozNFrOH4hkZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAzMjI5Mw==", "bodyText": "\"are\" instead of \"would be\"", "url": "https://github.com/trinodb/trino/pull/6044#discussion_r529032293", "createdAt": "2020-11-23T22:18:34Z", "author": {"login": "mosabua"}, "path": "presto-docs/src/main/sphinx/admin/properties-node-scheduler.rst", "diffHunk": "@@ -108,3 +118,28 @@ network location, separated by whitespace. Network location must begin with a le\n \n Controls how often the network topology file is reloaded.  To use this option,\n ``node-scheduler.network-topology.type`` must be set to ``file``.\n+\n+``node-scheduler.network-topology.subnet.ip-address-protocol``\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+* **Type:** ``string``\n+* **Allowed values:** ``IPv4``, ``IPv6``\n+* **Default value:** ``IPv4``\n+\n+Sets the expected IP address protocol to be used for computing subnet based\n+topology.  To use this option, ``node-scheduler.network-topology.type`` must\n+be set to ``subnet``.\n+\n+``node-scheduler.network-topology.subnet.cidr-prefix-lengths``\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+Expects a comma-separated list of integers defining CIDR prefix lengths for\n+subnet masks. The prefix lengths must be in increasing order. The maximum prefix\n+length values for IPv4 and IPv6 protocols are 32 and 128 respectively. To use\n+this option, ``node-scheduler.network-topology.type`` must be set to ``subnet``.\n+\n+For example, the value ``24,25,27`` for this property with IPv4 protocol means\n+that masks applied on the ip address to compute location segments would be\n+``255.255.255.0``, ``255.255.255.192`` and ``255.255.255.224``. So the segments\n+created for an address ``192.168.0.172`` would be ``[192.168.0.0, 192.168.0.128,", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 54}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxNzg5NjQ3OnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/admin/properties-node-scheduler.rst", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMjoxODo1NVrOH4hk_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQyMjoyOTozMFrOH5ZKNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAzMjQ0Ng==", "bodyText": "described in the following sections.", "url": "https://github.com/trinodb/trino/pull/6044#discussion_r529032446", "createdAt": "2020-11-23T22:18:55Z", "author": {"login": "mosabua"}, "path": "presto-docs/src/main/sphinx/admin/properties-node-scheduler.rst", "diffHunk": "@@ -76,12 +76,22 @@ For example, setting ``region,rack,machine`` means a network location contains t\n ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n * **Type:** ``string``\n-* **Allowed values:** ``flat``, ``file``\n+* **Allowed values:** ``flat``, ``file``, ``subnet``\n * **Default value:** ``flat``\n \n-Sets the network topology type. To use this option, ``node-scheduler.policy`` must be set to\n-``topology``. ``flat`` has only one segment, with one value for each machine.\n-``file`` loads the topology from a file as described below.\n+Sets the network topology type. To use this option, ``node-scheduler.policy``\n+must be set to ``topology``.\n+\n+``flat`` : the topology has only one segment, with one value for each machine.\n+\n+``file``: the topology is loaded from a file using\n+``node-scheduler.network-topology.file`` and\n+``node-scheduler.network-topology.refresh-period`` properties described below.\n+\n+``subnet``: the topology is derived based on subnet configuration provided\n+through properties ``node-scheduler.network-topology.subnet.cidr-prefix-lengths``\n+and ``node-scheduler.network-topology.subnet.ip-address-protocol`` described\n+below.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAzMzIzNQ==", "bodyText": "also .. from a file using the ...", "url": "https://github.com/trinodb/trino/pull/6044#discussion_r529033235", "createdAt": "2020-11-23T22:20:30Z", "author": {"login": "mosabua"}, "path": "presto-docs/src/main/sphinx/admin/properties-node-scheduler.rst", "diffHunk": "@@ -76,12 +76,22 @@ For example, setting ``region,rack,machine`` means a network location contains t\n ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n * **Type:** ``string``\n-* **Allowed values:** ``flat``, ``file``\n+* **Allowed values:** ``flat``, ``file``, ``subnet``\n * **Default value:** ``flat``\n \n-Sets the network topology type. To use this option, ``node-scheduler.policy`` must be set to\n-``topology``. ``flat`` has only one segment, with one value for each machine.\n-``file`` loads the topology from a file as described below.\n+Sets the network topology type. To use this option, ``node-scheduler.policy``\n+must be set to ``topology``.\n+\n+``flat`` : the topology has only one segment, with one value for each machine.\n+\n+``file``: the topology is loaded from a file using\n+``node-scheduler.network-topology.file`` and\n+``node-scheduler.network-topology.refresh-period`` properties described below.\n+\n+``subnet``: the topology is derived based on subnet configuration provided\n+through properties ``node-scheduler.network-topology.subnet.cidr-prefix-lengths``\n+and ``node-scheduler.network-topology.subnet.ip-address-protocol`` described\n+below.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAzMjQ0Ng=="}, "originalCommit": null, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTExMTU4OQ==", "bodyText": "\"from a file\" doesn't seem appropriate here as we expect these configurations to be in config.properties. did you mean adding a \"the\" for the sentence in  file section?", "url": "https://github.com/trinodb/trino/pull/6044#discussion_r529111589", "createdAt": "2020-11-24T01:36:38Z", "author": {"login": "phd3"}, "path": "presto-docs/src/main/sphinx/admin/properties-node-scheduler.rst", "diffHunk": "@@ -76,12 +76,22 @@ For example, setting ``region,rack,machine`` means a network location contains t\n ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n * **Type:** ``string``\n-* **Allowed values:** ``flat``, ``file``\n+* **Allowed values:** ``flat``, ``file``, ``subnet``\n * **Default value:** ``flat``\n \n-Sets the network topology type. To use this option, ``node-scheduler.policy`` must be set to\n-``topology``. ``flat`` has only one segment, with one value for each machine.\n-``file`` loads the topology from a file as described below.\n+Sets the network topology type. To use this option, ``node-scheduler.policy``\n+must be set to ``topology``.\n+\n+``flat`` : the topology has only one segment, with one value for each machine.\n+\n+``file``: the topology is loaded from a file using\n+``node-scheduler.network-topology.file`` and\n+``node-scheduler.network-topology.refresh-period`` properties described below.\n+\n+``subnet``: the topology is derived based on subnet configuration provided\n+through properties ``node-scheduler.network-topology.subnet.cidr-prefix-lengths``\n+and ``node-scheduler.network-topology.subnet.ip-address-protocol`` described\n+below.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAzMjQ0Ng=="}, "originalCommit": null, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTk0MzA5Mg==", "bodyText": "yeah .. sorry .. it was above this section", "url": "https://github.com/trinodb/trino/pull/6044#discussion_r529943092", "createdAt": "2020-11-24T22:29:30Z", "author": {"login": "mosabua"}, "path": "presto-docs/src/main/sphinx/admin/properties-node-scheduler.rst", "diffHunk": "@@ -76,12 +76,22 @@ For example, setting ``region,rack,machine`` means a network location contains t\n ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n \n * **Type:** ``string``\n-* **Allowed values:** ``flat``, ``file``\n+* **Allowed values:** ``flat``, ``file``, ``subnet``\n * **Default value:** ``flat``\n \n-Sets the network topology type. To use this option, ``node-scheduler.policy`` must be set to\n-``topology``. ``flat`` has only one segment, with one value for each machine.\n-``file`` loads the topology from a file as described below.\n+Sets the network topology type. To use this option, ``node-scheduler.policy``\n+must be set to ``topology``.\n+\n+``flat`` : the topology has only one segment, with one value for each machine.\n+\n+``file``: the topology is loaded from a file using\n+``node-scheduler.network-topology.file`` and\n+``node-scheduler.network-topology.refresh-period`` properties described below.\n+\n+``subnet``: the topology is derived based on subnet configuration provided\n+through properties ``node-scheduler.network-topology.subnet.cidr-prefix-lengths``\n+and ``node-scheduler.network-topology.subnet.ip-address-protocol`` described\n+below.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTAzMjQ0Ng=="}, "originalCommit": null, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyMjYwNzA5OnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/admin/properties-node-scheduler.rst", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxODoyODowMFrOH5P3RA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxODoyODowMFrOH5P3RA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTc5MDc4OA==", "bodyText": "This makes the section header have the same \"level\" as the properties above. Instead, add a new header at the top\nSplits\n------\n\nLeave the properties with the ^^^ header, and use --- for the other headers:\nNetwork topology\n----------------\n\nThis will keep everything consistent", "url": "https://github.com/trinodb/trino/pull/6044#discussion_r529790788", "createdAt": "2020-11-24T18:28:00Z", "author": {"login": "electrum"}, "path": "presto-docs/src/main/sphinx/admin/properties-node-scheduler.rst", "diffHunk": "@@ -63,8 +63,11 @@ distribution across all hosts. ``topology`` tries to schedule splits according t\n the topology distance between nodes and splits. It is recommended to use ``uniform``\n for clusters where distributed storage runs on the same nodes as Presto workers.\n \n+Network topology\n+^^^^^^^^^^^^^^^^", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4597, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}