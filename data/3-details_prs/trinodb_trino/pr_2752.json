{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyMjcxMjAy", "number": 2752, "title": "Ensure hive table exists when running Hive procedures", "bodyText": "Fixes #2746", "createdAt": "2020-02-07T07:24:29Z", "url": "https://github.com/trinodb/trino/pull/2752", "merged": true, "mergeCommit": {"oid": "415835826290066b2d02db18210be584feb23911"}, "closed": true, "closedAt": "2020-02-08T16:19:48Z", "author": {"login": "Praveen2112"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcB6rHwABqjMwMTY3MTQ2ODI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcCDUUDABqjMwMTg1OTE1Njc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1MTAzNzE2", "url": "https://github.com/trinodb/trino/pull/2752#pullrequestreview-355103716", "createdAt": "2020-02-07T11:46:53Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxMTo0Njo1M1rOFm6pBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QxMTo0NzowNVrOFm6pTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjM1MDk4Mg==", "bodyText": "inline inside the format string", "url": "https://github.com/trinodb/trino/pull/2752#discussion_r376350982", "createdAt": "2020-02-07T11:46:53Z", "author": {"login": "findepi"}, "path": "presto-hive/src/test/java/io/prestosql/plugin/hive/TestHiveIntegrationSmokeTest.java", "diffHunk": "@@ -1204,6 +1204,15 @@ private void testCreateEmptyBucketedPartition(HiveStorageFormat storageFormat)\n         assertFalse(getQueryRunner().tableExists(getSession(), tableName));\n     }\n \n+    @Test\n+    public void testCreateEmptyPartitionOnNonExistingTable()\n+    {\n+        String tableName = \"non_existing_table\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjM1MTA1NQ==", "bodyText": "inline non_existing_table  inside the format string, the same way you did in the expected message", "url": "https://github.com/trinodb/trino/pull/2752#discussion_r376351055", "createdAt": "2020-02-07T11:47:05Z", "author": {"login": "findepi"}, "path": "presto-hive/src/test/java/io/prestosql/plugin/hive/TestHiveIntegrationSmokeTest.java", "diffHunk": "@@ -4904,6 +4913,9 @@ public void testInvalidDropStats()\n         assertQueryFails(\n                 format(\"CALL system.drop_stats('%s', '%s', ARRAY[ARRAY['WRONG', 'KEY']])\", TPCH_SCHEMA, partitionedTableName),\n                 \"Partition '.*' not found\");\n+        assertQueryFails(\n+                format(\"CALL system.drop_stats('%s', '%s', ARRAY[ARRAY['WRONG', 'KEY']])\", TPCH_SCHEMA, \"non_existing_table\"),", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 21}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestCommit", "commit": {"oid": "c29d97335ca2401482b5bab550990a3c94b4697d", "author": {"user": {"login": "Praveen2112", "name": "Praveen Krishna"}}, "url": "https://github.com/trinodb/trino/commit/c29d97335ca2401482b5bab550990a3c94b4697d", "committedDate": "2020-02-07T18:05:33Z", "message": "Ensure table exists when running Hive procedures"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "c29d97335ca2401482b5bab550990a3c94b4697d", "author": {"user": {"login": "Praveen2112", "name": "Praveen Krishna"}}, "url": "https://github.com/trinodb/trino/commit/c29d97335ca2401482b5bab550990a3c94b4697d", "committedDate": "2020-02-07T18:05:33Z", "message": "Ensure table exists when running Hive procedures"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1649, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}