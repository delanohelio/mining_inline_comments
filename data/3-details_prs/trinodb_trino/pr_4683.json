{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyNjY4MjA2", "number": 4683, "title": "Fix error when delete by a decimal primary key column.", "bodyText": "Fix error when delete by a decimal primary key column.", "createdAt": "2020-08-04T10:11:46Z", "url": "https://github.com/trinodb/trino/pull/4683", "merged": true, "mergeCommit": {"oid": "813ac895ad6606ac962578b7d599718f6802ff2c"}, "closed": true, "closedAt": "2020-08-09T12:20:07Z", "author": {"login": "Crossoverrr"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc7kB3XAFqTQ2MDY4Nzg5Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8W6xvgFqTQ2Mjg5NzE0Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwNjg3ODkz", "url": "https://github.com/trinodb/trino/pull/4683#pullrequestreview-460687893", "createdAt": "2020-08-04T10:25:50Z", "commit": null, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMDoyNTo1MFrOG7aehA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMDoyNTo1MFrOG7aehA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDk1Mjk2NA==", "bodyText": "You could assert here on SELECT to test whether a row was actually deleted.", "url": "https://github.com/trinodb/trino/pull/4683#discussion_r464952964", "createdAt": "2020-08-04T10:25:50Z", "author": {"login": "wendigo"}, "path": "presto-kudu/src/test/java/io/prestosql/plugin/kudu/TestKuduIntegrationDecimalColumns.java", "diffHunk": "@@ -80,6 +80,23 @@ public void testDecimalColumn()\n         assertUpdate(\"DROP TABLE test_decimal\");\n     }\n \n+    @Test\n+    public void testDeleteByPrimaryKeyDecimalColumn()\n+    {\n+        assertUpdate(\"CREATE TABLE IF NOT EXISTS test_decimal (\" +\n+            \"decimal_id decimal(18, 3) WITH (primary_key=true), \" +\n+            \"col_decimal decimal(18, 3)\" +\n+            \") WITH (\" +\n+            \" partition_by_hash_columns = ARRAY['id'], \" +\n+            \" partition_by_hash_buckets = 2\" +\n+            \")\");\n+\n+        assertUpdate(\"INSERT INTO test_decimal VALUES (1.1, 1.1), (2.2, 2.2), (3.3, 3.3)\", 3);\n+        assertUpdate(\"DELETE FROM test_decimal WHERE decimal_id = 2.2\", 1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMzE3Nzcw", "url": "https://github.com/trinodb/trino/pull/4683#pullrequestreview-461317770", "createdAt": "2020-08-05T03:40:51Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3f846b6a09c38d6f4233c0dbfc2e06a8b391cce", "author": {"user": {"login": "Crossoverrr", "name": "wupeng"}}, "url": "https://github.com/trinodb/trino/commit/b3f846b6a09c38d6f4233c0dbfc2e06a8b391cce", "committedDate": "2020-08-05T04:03:36Z", "message": "Fix error when delete by a decimal primary key column."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyODk3MTQz", "url": "https://github.com/trinodb/trino/pull/4683#pullrequestreview-462897143", "createdAt": "2020-08-06T21:43:40Z", "commit": {"oid": "b3f846b6a09c38d6f4233c0dbfc2e06a8b391cce"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4622, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}