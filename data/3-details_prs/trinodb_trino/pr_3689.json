{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1NzI5Njky", "number": 3689, "title": "Document missing AWS Glue configs in Hive connector", "bodyText": "Document the new configurations introduced as part of\n#1465 and a few other configs\nintroduced over time.", "createdAt": "2020-05-10T14:36:23Z", "url": "https://github.com/trinodb/trino/pull/3689", "merged": true, "mergeCommit": {"oid": "b13103e5a009a9333852c778af6b4492d3038b92"}, "closed": true, "closedAt": "2020-06-24T15:33:55Z", "author": {"login": "hashhar"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgJd9uAFqTQwODg4MzU0MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABctfq2UAH2gAyNDE1NzI5NjkyOmExYzYzZjhkMWQ2NjkxNDU4MWQ2NGFlYTU5YjIwOTZmODUxNmY4NmU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4ODgzNTQw", "url": "https://github.com/trinodb/trino/pull/3689#pullrequestreview-408883540", "createdAt": "2020-05-11T06:11:43Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwNjoxMTo0NFrOGTN1lA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQwNjoxMzoyN1rOGTN4TQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgwMjgzNg==", "bodyText": "Not sure how to word this, but this is default warehouse directory used for new schemas, when using Glue, unless explicit location is specified.\n@mosabua can you please suggest wording?", "url": "https://github.com/trinodb/trino/pull/3689#discussion_r422802836", "createdAt": "2020-05-11T06:11:44Z", "author": {"login": "findepi"}, "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -305,13 +305,22 @@ Property Name                                        Description\n                                                      running in EC2, or when the catalog is in a different region.\n                                                      Example: ``us-east-1``\n \n+``hive.metastore.glue.endpoint-url``                 AWS Glue API endpoint URL.\n+                                                     Example: ``https://glue.us-east-1.amazonaws.com``\n+\n ``hive.metastore.glue.pin-client-to-current-region`` Pin Glue requests to the same region as the EC2 instance\n                                                      where Presto is running, defaults to ``false``.\n \n ``hive.metastore.glue.max-connections``              Max number of concurrent connections to Glue,\n                                                      defaults to ``5``.\n \n-``hive.metastore.glue.default-warehouse-dir``        Hive Glue metastore default warehouse directory\n+``hive.metastore.glue.default-warehouse-dir``        AWS Glue metastore default warehouse directory", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgwMzIxNA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ``hive.metastore.glue.catalogid``                    AWS Glue metastore catalog id\n          \n          \n            \n            ``hive.metastore.glue.catalogid``                    AWS Glue catalog id", "url": "https://github.com/trinodb/trino/pull/3689#discussion_r422803214", "createdAt": "2020-05-11T06:12:40Z", "author": {"login": "findepi"}, "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -305,13 +305,22 @@ Property Name                                        Description\n                                                      running in EC2, or when the catalog is in a different region.\n                                                      Example: ``us-east-1``\n \n+``hive.metastore.glue.endpoint-url``                 AWS Glue API endpoint URL.\n+                                                     Example: ``https://glue.us-east-1.amazonaws.com``\n+\n ``hive.metastore.glue.pin-client-to-current-region`` Pin Glue requests to the same region as the EC2 instance\n                                                      where Presto is running, defaults to ``false``.\n \n ``hive.metastore.glue.max-connections``              Max number of concurrent connections to Glue,\n                                                      defaults to ``5``.\n \n-``hive.metastore.glue.default-warehouse-dir``        Hive Glue metastore default warehouse directory\n+``hive.metastore.glue.default-warehouse-dir``        AWS Glue metastore default warehouse directory\n+\n+``hive.metastore.glue.catalogid``                    AWS Glue metastore catalog id", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjgwMzUzMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ``hive.metastore.glue.get-partition-threads``        Number of threads for parallel partition fetches from Glue,\n          \n          \n            \n            ``hive.metastore.glue.get-partition-threads``        Number of threads for parallel partition fetches from AWS Glue,", "url": "https://github.com/trinodb/trino/pull/3689#discussion_r422803533", "createdAt": "2020-05-11T06:13:27Z", "author": {"login": "findepi"}, "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -328,6 +337,12 @@ Property Name                                        Description\n \n ``hive.metastore.glue.external-id``                  External ID for the IAM role trust policy when connecting\n                                                      to the Glue Catalog.\n+\n+``hive.metastore.glue.partitions-segments``          Number of segments for partitioned Glue tables, defaults\n+                                                     to ``5``.\n+\n+``hive.metastore.glue.get-partition-threads``        Number of threads for parallel partition fetches from Glue,", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NDYxMDMx", "url": "https://github.com/trinodb/trino/pull/3689#pullrequestreview-409461031", "createdAt": "2020-05-11T19:21:32Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxOToyMTozMlrOGTqBlA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxOToyMTozMlrOGTqBlA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzI2NDY2MA==", "bodyText": "of the Java class", "url": "https://github.com/trinodb/trino/pull/3689#discussion_r423264660", "createdAt": "2020-05-11T19:21:32Z", "author": {"login": "mosabua"}, "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -305,13 +305,22 @@ Property Name                                        Description\n                                                      running in EC2, or when the catalog is in a different region.\n                                                      Example: ``us-east-1``\n \n+``hive.metastore.glue.endpoint-url``                 AWS Glue API endpoint URL.\n+                                                     Example: ``https://glue.us-east-1.amazonaws.com``\n+\n ``hive.metastore.glue.pin-client-to-current-region`` Pin Glue requests to the same region as the EC2 instance\n                                                      where Presto is running, defaults to ``false``.\n \n ``hive.metastore.glue.max-connections``              Max number of concurrent connections to Glue,\n                                                      defaults to ``5``.\n \n-``hive.metastore.glue.default-warehouse-dir``        Hive Glue metastore default warehouse directory\n+``hive.metastore.glue.default-warehouse-dir``        AWS Glue metastore default warehouse directory\n+\n+``hive.metastore.glue.catalogid``                    AWS Glue metastore catalog id\n+\n+``hive.metastore.glue.aws-credentials-provider``     Fully qualified name of class to use for obtaining AWS", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NDY0NTkw", "url": "https://github.com/trinodb/trino/pull/3689#pullrequestreview-409464590", "createdAt": "2020-05-11T19:27:00Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxOToyNzowMFrOGTqMeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQxOToyNzowMFrOGTqMeQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzI2NzQ0OQ==", "bodyText": "This is optional I think..", "url": "https://github.com/trinodb/trino/pull/3689#discussion_r423267449", "createdAt": "2020-05-11T19:27:00Z", "author": {"login": "mosabua"}, "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -305,13 +305,22 @@ Property Name                                        Description\n                                                      running in EC2, or when the catalog is in a different region.\n                                                      Example: ``us-east-1``\n \n+``hive.metastore.glue.endpoint-url``                 AWS Glue API endpoint URL.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NDY1MTUz", "url": "https://github.com/trinodb/trino/pull/3689#pullrequestreview-409465153", "createdAt": "2020-05-11T19:27:53Z", "commit": null, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0NzQ4NzIy", "url": "https://github.com/trinodb/trino/pull/3689#pullrequestreview-414748722", "createdAt": "2020-05-19T19:15:19Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxOToxNToyMFrOGXu-hQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxOToxNToyMFrOGXu-hQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU0MDEwMQ==", "bodyText": "Remove \"Might be\" and simplify .. so .. \"Useful when all requests to Glue should be proxied.", "url": "https://github.com/trinodb/trino/pull/3689#discussion_r427540101", "createdAt": "2020-05-19T19:15:20Z", "author": {"login": "mosabua"}, "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -305,13 +305,24 @@ Property Name                                        Description\n                                                      running in EC2, or when the catalog is in a different region.\n                                                      Example: ``us-east-1``\n \n+``hive.metastore.glue.endpoint-url``                 Glue API endpoint URL (optional). Might be useful in", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0NzUwMjIw", "url": "https://github.com/trinodb/trino/pull/3689#pullrequestreview-414750220", "createdAt": "2020-05-19T19:17:31Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxOToxNzozMVrOGXvDPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxOToxNzozMVrOGXvDPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU0MTMwOQ==", "bodyText": "either ID or identifier.", "url": "https://github.com/trinodb/trino/pull/3689#discussion_r427541309", "createdAt": "2020-05-19T19:17:31Z", "author": {"login": "mosabua"}, "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -305,13 +305,24 @@ Property Name                                        Description\n                                                      running in EC2, or when the catalog is in a different region.\n                                                      Example: ``us-east-1``\n \n+``hive.metastore.glue.endpoint-url``                 Glue API endpoint URL (optional). Might be useful in\n+                                                     scenarios where all requests to Glue should be proxied.\n+                                                     Example: ``https://glue.us-east-1.amazonaws.com``\n+\n ``hive.metastore.glue.pin-client-to-current-region`` Pin Glue requests to the same region as the EC2 instance\n                                                      where Presto is running, defaults to ``false``.\n \n ``hive.metastore.glue.max-connections``              Max number of concurrent connections to Glue,\n                                                      defaults to ``5``.\n \n-``hive.metastore.glue.default-warehouse-dir``        Hive Glue metastore default warehouse directory\n+``hive.metastore.glue.default-warehouse-dir``        Default warehouse directory for tables created without an\n+                                                     explicit ``LOCATION`` property.\n+\n+``hive.metastore.glue.catalogid``                    Glue Catalog id (optional).", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0NzUwNTIz", "url": "https://github.com/trinodb/trino/pull/3689#pullrequestreview-414750523", "createdAt": "2020-05-19T19:17:59Z", "commit": null, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0ODQ2ODk1", "url": "https://github.com/trinodb/trino/pull/3689#pullrequestreview-414846895", "createdAt": "2020-05-19T21:46:15Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3MTc2MzQz", "url": "https://github.com/trinodb/trino/pull/3689#pullrequestreview-417176343", "createdAt": "2020-05-22T20:50:11Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQyMDo1MDoxMVrOGZjUUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQyMDo1MDoxMVrOGZjUUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTQ0NjIyNA==", "bodyText": "I am not sure \"be proxied\" is the right term, as this implies they would end up hitting AWS APIs somehow, whereas this could be used to provide your own standalone glue implementation.\nI think \"Glue API endpoint URL\" should be enough for now.", "url": "https://github.com/trinodb/trino/pull/3689#discussion_r429446224", "createdAt": "2020-05-22T20:50:11Z", "author": {"login": "findepi"}, "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -306,13 +306,24 @@ Property Name                                        Description\n                                                      running in EC2, or when the catalog is in a different region.\n                                                      Example: ``us-east-1``\n \n+``hive.metastore.glue.endpoint-url``                 Glue API endpoint URL (optional). Useful when all requests\n+                                                     to Glue should be proxied.\n+                                                     Example: ``https://glue.us-east-1.amazonaws.com``", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3MjU4MzU4", "url": "https://github.com/trinodb/trino/pull/3689#pullrequestreview-417258358", "createdAt": "2020-05-23T07:30:58Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yM1QwNzozMDo1OFrOGZoAxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yM1QwNzozMDo1OFrOGZoAxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTUyMzE0Mg==", "bodyText": "This is about schemas, not tables:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ``hive.metastore.glue.default-warehouse-dir``        Default warehouse directory for tables created without an\n          \n          \n            \n                                                                 explicit ``LOCATION`` property.\n          \n          \n            \n            ``hive.metastore.glue.default-warehouse-dir``        Default warehouse directory for schemas created without an\n          \n          \n            \n                                                                 explicit ``location`` property.\n          \n      \n    \n    \n  \n\nBTW can you please test what happens if this is not set?\n(I think we are going to fail, but we not in a nice way.)", "url": "https://github.com/trinodb/trino/pull/3689#discussion_r429523142", "createdAt": "2020-05-23T07:30:58Z", "author": {"login": "findepi"}, "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -306,13 +306,23 @@ Property Name                                        Description\n                                                      running in EC2, or when the catalog is in a different region.\n                                                      Example: ``us-east-1``\n \n+``hive.metastore.glue.endpoint-url``                 Glue API endpoint URL (optional).\n+                                                     Example: ``https://glue.us-east-1.amazonaws.com``\n+\n ``hive.metastore.glue.pin-client-to-current-region`` Pin Glue requests to the same region as the EC2 instance\n                                                      where Presto is running, defaults to ``false``.\n \n ``hive.metastore.glue.max-connections``              Max number of concurrent connections to Glue,\n                                                      defaults to ``5``.\n \n-``hive.metastore.glue.default-warehouse-dir``        Hive Glue metastore default warehouse directory\n+``hive.metastore.glue.default-warehouse-dir``        Default warehouse directory for tables created without an\n+                                                     explicit ``LOCATION`` property.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1c63f8d1d66914581d64aea59b2096f8516f86e", "author": {"user": {"login": "hashhar", "name": "Ashhar Hasan"}}, "url": "https://github.com/trinodb/trino/commit/a1c63f8d1d66914581d64aea59b2096f8516f86e", "committedDate": "2020-06-21T17:26:32Z", "message": "Document new AWS Glue configs in Hive connector\n\nDocument the new configurations introduced as part of\nhttps://github.com/prestosql/presto/pull/1465 and a few other configs\nintroduced over time.\n\nCo-authored-by: Piotr Findeisen <piotr.findeisen@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1459, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}