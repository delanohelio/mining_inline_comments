{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkwNTMzMjQ3", "number": 3139, "title": "Create group provider configuration for product tests", "bodyText": "It allows extending with new group providers by mounting different group-provider.properties files.", "createdAt": "2020-03-18T16:16:45Z", "url": "https://github.com/trinodb/trino/pull/3139", "merged": true, "mergeCommit": {"oid": "7d2086098e741b620e32a695e6a0db94652b6478"}, "closed": true, "closedAt": "2020-03-19T17:35:08Z", "author": {"login": "MiguelWeezardo"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcO6YhZAFqTM3NzA2MDc3OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcPMWfDABqjMxNDU2NjgxMTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3MDYwNzc5", "url": "https://github.com/trinodb/trino/pull/3139#pullrequestreview-377060779", "createdAt": "2020-03-18T16:59:28Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxNjo1OToyOFrOF4Obgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQxNzowMTozMFrOF4Og9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDUwMDk5NQ==", "bodyText": "please revert:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        implements ConnectorMetadata\n          \n          \n            \n                {\n          \n          \n            \n                }\n          \n          \n            \n                        implements ConnectorMetadata {}", "url": "https://github.com/trinodb/trino/pull/3139#discussion_r394500995", "createdAt": "2020-03-18T16:59:28Z", "author": {"login": "findepi"}, "path": "presto-noop/src/main/java/io/prestosql/plugin/noop/NoOpPlugin.java", "diffHunk": "@@ -94,5 +103,23 @@ public ConnectorMetadata getMetadata(ConnectorTransactionHandle transactionHandl\n     }\n \n     private static class NoOpMetadata\n-            implements ConnectorMetadata {}\n+            implements ConnectorMetadata\n+    {\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDUwMTYzOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        return user -> Collections.emptySet();\n          \n          \n            \n                        checkArgument(config.isEmpty(), \"noop group provider does not accept configuration properties\");\n          \n          \n            \n                        return user -> Collections.emptySet();", "url": "https://github.com/trinodb/trino/pull/3139#discussion_r394501638", "createdAt": "2020-03-18T17:00:21Z", "author": {"login": "findepi"}, "path": "presto-noop/src/main/java/io/prestosql/plugin/noop/NoOpPlugin.java", "diffHunk": "@@ -94,5 +103,23 @@ public ConnectorMetadata getMetadata(ConnectorTransactionHandle transactionHandl\n     }\n \n     private static class NoOpMetadata\n-            implements ConnectorMetadata {}\n+            implements ConnectorMetadata\n+    {\n+    }\n+\n+    private static class NoOpGroupProviderFactory\n+            implements GroupProviderFactory\n+    {\n+        @Override\n+        public String getName()\n+        {\n+            return \"noop\";\n+        }\n+\n+        @Override\n+        public GroupProvider create(Map<String, String> config)\n+        {\n+            return user -> Collections.emptySet();", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDUwMjA2NA==", "bodyText": "this bind is redundant, remove\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        dockerContainer.withFileSystemBind(\n          \n          \n            \n                                dockerFiles.getDockerFilesHostPath(getGroupProviderConfigPath()),\n          \n          \n            \n                                CONTAINER_PRESTO_ETC + \"/group-provider.properties\",\n          \n          \n            \n                                READ_ONLY);", "url": "https://github.com/trinodb/trino/pull/3139#discussion_r394502064", "createdAt": "2020-03-18T17:00:59Z", "author": {"login": "findepi"}, "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/env/environment/AbstractSinglenodeLdap.java", "diffHunk": "@@ -62,6 +62,11 @@ protected void extendEnvironment(Environment.Builder builder)\n                     CONTAINER_PRESTO_ETC + \"/password-authenticator.properties\",\n                     READ_ONLY);\n \n+            dockerContainer.withFileSystemBind(\n+                    dockerFiles.getDockerFilesHostPath(getGroupProviderConfigPath()),\n+                    CONTAINER_PRESTO_ETC + \"/group-provider.properties\",\n+                    READ_ONLY);", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDUwMjM5MA==", "bodyText": "this is redundant\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                protected String getGroupProviderConfigPath()\n          \n          \n            \n                {\n          \n          \n            \n                    return \"conf/presto/etc/group-provider.properties\";\n          \n          \n            \n                }", "url": "https://github.com/trinodb/trino/pull/3139#discussion_r394502390", "createdAt": "2020-03-18T17:01:30Z", "author": {"login": "findepi"}, "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/env/environment/AbstractSinglenodeLdap.java", "diffHunk": "@@ -92,5 +97,10 @@ protected String getBaseImage()\n         return \"centos6-oj8-openldap\";\n     }\n \n+    protected String getGroupProviderConfigPath()\n+    {\n+        return \"conf/presto/etc/group-provider.properties\";\n+    }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 20}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3NjQyNTc3", "url": "https://github.com/trinodb/trino/pull/3139#pullrequestreview-377642577", "createdAt": "2020-03-19T11:43:16Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f17de6045574a750f45fec59eac6c5a66f17e38e", "author": {"user": {"login": "MiguelWeezardo", "name": "Micha\u0142 \u015alizak"}}, "url": "https://github.com/trinodb/trino/commit/f17de6045574a750f45fec59eac6c5a66f17e38e", "committedDate": "2020-03-19T13:58:14Z", "message": "Create group provider configuration for product tests\n\nIt allows extending with new group providers by mounting\ndifferent group-provider.properties files."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "f17de6045574a750f45fec59eac6c5a66f17e38e", "author": {"user": {"login": "MiguelWeezardo", "name": "Micha\u0142 \u015alizak"}}, "url": "https://github.com/trinodb/trino/commit/f17de6045574a750f45fec59eac6c5a66f17e38e", "committedDate": "2020-03-19T13:58:14Z", "message": "Create group provider configuration for product tests\n\nIt allows extending with new group providers by mounting\ndifferent group-provider.properties files."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1577, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}