{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2NTUzNzc4", "number": 3295, "title": "Add catalog session property details", "bodyText": "We can either do this approach of using the term \"catalog session property\" as discussed with @martint on slack or we change terminology to use \"system session property\"  for global ones and some other terms (not sure what) as suggested by @electrum\nIf we do not want to use catalog session property we have to fix a number of release note documents. I can rejig this PR either way .. just let me know what you prefer to use as term.\nPersonally I think using \"system session property\" and \"catalog session property\" is most logic and self-explanatory.", "createdAt": "2020-03-31T19:37:00Z", "url": "https://github.com/trinodb/trino/pull/3295", "merged": true, "mergeCommit": {"oid": "c72a820973698cc2945e2d4d16bd9730ad4aae96"}, "closed": true, "closedAt": "2020-05-04T21:18:02Z", "author": {"login": "mosabua"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTIeXVgBqjMxODQ4ODI4MDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABceETs6gBqjMzMDEyODc5MTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MjUwMDY5", "url": "https://github.com/trinodb/trino/pull/3295#pullrequestreview-405250069", "createdAt": "2020-05-04T18:42:53Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxODo0Mjo1M1rOGQNSdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxODo0ODoyNFrOGQNe4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY0ODExNg==", "bodyText": "How about\nSet a system session property or a catalog session property.\n\nConnectors can provide session properties. They are set separately for\neach catalog by prefixing them with the catalog name. There is no sharing\nof properties across catalogs (even if the catalogs use the same connector).", "url": "https://github.com/trinodb/trino/pull/3295#discussion_r419648116", "createdAt": "2020-05-04T18:42:53Z", "author": {"login": "electrum"}, "path": "presto-docs/src/main/sphinx/sql/set-session.rst", "diffHunk": "@@ -13,14 +13,36 @@ Synopsis\n Description\n -----------\n \n-Set a session property value.\n+Set a session property value or a catalog session property.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY0ODc0NQ==", "bodyText": "Add a colon at the end. This can then be simplified, as SQL is the default language:\nThe following example sets a system session property to enable optimized hash generation::\n\n    SET SESSION optimize_hash_generation = true;", "url": "https://github.com/trinodb/trino/pull/3295#discussion_r419648745", "createdAt": "2020-05-04T18:43:58Z", "author": {"login": "electrum"}, "path": "presto-docs/src/main/sphinx/sql/set-session.rst", "diffHunk": "@@ -13,14 +13,36 @@ Synopsis\n Description\n -----------\n \n-Set a session property value.\n+Set a session property value or a catalog session property.\n+\n+Catalog session properties use the name of a catalog as a prefix in front of a\n+session property supported by a connector.\n \n Examples\n --------\n \n+The following example enables optimized hash generation.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY1MDQ3Nw==", "bodyText": "We normally link with the original title. Let's rephrase this a bit.\nAn example of the usage of catalog session properties is the :doc:`/connector/accumulo`,\nwhich supports a property named ``optimize_locality_enabled``. If your Accumulo catalog\nis named ``data``, you would use the following to set the catalog session property::\n\n    SET SESSION data.optimize_locality_enabled = false;", "url": "https://github.com/trinodb/trino/pull/3295#discussion_r419650477", "createdAt": "2020-05-04T18:46:56Z", "author": {"login": "electrum"}, "path": "presto-docs/src/main/sphinx/sql/set-session.rst", "diffHunk": "@@ -13,14 +13,36 @@ Synopsis\n Description\n -----------\n \n-Set a session property value.\n+Set a session property value or a catalog session property.\n+\n+Catalog session properties use the name of a catalog as a prefix in front of a\n+session property supported by a connector.\n \n Examples\n --------\n \n+The following example enables optimized hash generation.\n+\n .. code-block:: sql\n \n     SET SESSION optimize_hash_generation = true;\n+\n+An example of the usage of catalog session properties is the :doc:`Accumulo", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTY1MTI5Nw==", "bodyText": "Let's remove this example, since the property no longer exists, and the example doesn't seem to provide any additional value. The above is much better than this old example.", "url": "https://github.com/trinodb/trino/pull/3295#discussion_r419651297", "createdAt": "2020-05-04T18:48:24Z", "author": {"login": "electrum"}, "path": "presto-docs/src/main/sphinx/sql/set-session.rst", "diffHunk": "@@ -13,14 +13,36 @@ Synopsis\n Description\n -----------\n \n-Set a session property value.\n+Set a session property value or a catalog session property.\n+\n+Catalog session properties use the name of a catalog as a prefix in front of a\n+session property supported by a connector.\n \n Examples\n --------\n \n+The following example enables optimized hash generation.\n+\n .. code-block:: sql\n \n     SET SESSION optimize_hash_generation = true;\n+\n+An example of the usage of catalog session properties is the :doc:`Accumulo\n+connector </connector/accumulo>`, which supports a property named\n+``optimize_locality_enabled``. If you use the connector in a catalog properties\n+file named ``keyvaluestore.properties``, you need to use the following command\n+to set the catalog session property.\n+\n+.. code-block:: sql\n+\n+    SET SESSION keyvaluestore.optimize_locality_enabled = false;\n+\n+This catalog session property does not apply to any other catalog, even if it\n+also uses the Accumulo connector.\n+\n+Another example is the setting the ``optimized_reader_enabled`` for the catalog", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0e6bc4d29d16dc2b1148c5cbc69032d2522c9dc", "author": {"user": {"login": "mosabua", "name": "Manfred Moser"}}, "url": "https://github.com/trinodb/trino/commit/c0e6bc4d29d16dc2b1148c5cbc69032d2522c9dc", "committedDate": "2020-05-04T19:04:42Z", "message": "Add catalog session property details"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "c0e6bc4d29d16dc2b1148c5cbc69032d2522c9dc", "author": {"user": {"login": "mosabua", "name": "Manfred Moser"}}, "url": "https://github.com/trinodb/trino/commit/c0e6bc4d29d16dc2b1148c5cbc69032d2522c9dc", "committedDate": "2020-05-04T19:04:42Z", "message": "Add catalog session property details"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1689, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}