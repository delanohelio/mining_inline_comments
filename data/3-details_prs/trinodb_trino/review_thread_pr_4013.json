{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzODIyMDgz", "number": 4013, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODo0MjozNlrOEFKBXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODo1ODoxN1rOEFKSPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczODQyNTI2OnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/connector/elasticsearch.rst", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODo0MjozNlrOGjOLrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODo1NDowNVrOGjOftg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU4NTcwOQ==", "bodyText": "DSL. Also, I wouldn't abbreviate ES", "url": "https://github.com/trinodb/trino/pull/4013#discussion_r439585709", "createdAt": "2020-06-12T18:42:36Z", "author": {"login": "martint"}, "path": "presto-docs/src/main/sphinx/connector/elasticsearch.rst", "diffHunk": "@@ -262,6 +262,25 @@ as part of the table name, separated by a colon. For example:\n .. _full text query: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax\n \n \n+Pass-through Queries\n+--------------------\n+\n+The Elasticsearch connector allows you to embed any valid Elasticsearch query,\n+that uses the `ES Query DLS", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU5MDgzOA==", "bodyText": "Done", "url": "https://github.com/trinodb/trino/pull/4013#discussion_r439590838", "createdAt": "2020-06-12T18:54:05Z", "author": {"login": "mosabua"}, "path": "presto-docs/src/main/sphinx/connector/elasticsearch.rst", "diffHunk": "@@ -262,6 +262,25 @@ as part of the table name, separated by a colon. For example:\n .. _full text query: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax\n \n \n+Pass-through Queries\n+--------------------\n+\n+The Elasticsearch connector allows you to embed any valid Elasticsearch query,\n+that uses the `ES Query DLS", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU4NTcwOQ=="}, "originalCommit": null, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczODQyOTE2OnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/connector/elasticsearch.rst", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODo0Mzo1NlrOGjOOEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODo1NDowMVrOGjOfmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU4NjMyMA==", "bodyText": "The result is VARCHAR, not JSON, but it contains the JSON payload returned by Elasticsearch, and can be processed with the built-in JSON functions in presto (https://prestosql.io/docs/current/functions/json.html)", "url": "https://github.com/trinodb/trino/pull/4013#discussion_r439586320", "createdAt": "2020-06-12T18:43:56Z", "author": {"login": "martint"}, "path": "presto-docs/src/main/sphinx/connector/elasticsearch.rst", "diffHunk": "@@ -262,6 +262,25 @@ as part of the table name, separated by a colon. For example:\n .. _full text query: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax\n \n \n+Pass-through Queries\n+--------------------\n+\n+The Elasticsearch connector allows you to embed any valid Elasticsearch query,\n+that uses the `ES Query DLS\n+<https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html>`_\n+in your SQL query.\n+\n+The results can then be used in any SQL statement, wrapping the ES query. The\n+syntax extends the syntax of the enhanced ES table names with the following::\n+\n+    SELECT * FROM es.default.\"<index>$query:<es-query>\"\n+\n+The ES query string ``es-query`` is base32-encoded to avoid having to deal with\n+escaping quotes and case sensitivity issues in table identifiers.\n+\n+The result of these query tables is a table with a single row and a single\n+column named ``result`` of type JSON.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU5MDgxMQ==", "bodyText": "Updated", "url": "https://github.com/trinodb/trino/pull/4013#discussion_r439590811", "createdAt": "2020-06-12T18:54:01Z", "author": {"login": "mosabua"}, "path": "presto-docs/src/main/sphinx/connector/elasticsearch.rst", "diffHunk": "@@ -262,6 +262,25 @@ as part of the table name, separated by a colon. For example:\n .. _full text query: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax\n \n \n+Pass-through Queries\n+--------------------\n+\n+The Elasticsearch connector allows you to embed any valid Elasticsearch query,\n+that uses the `ES Query DLS\n+<https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html>`_\n+in your SQL query.\n+\n+The results can then be used in any SQL statement, wrapping the ES query. The\n+syntax extends the syntax of the enhanced ES table names with the following::\n+\n+    SELECT * FROM es.default.\"<index>$query:<es-query>\"\n+\n+The ES query string ``es-query`` is base32-encoded to avoid having to deal with\n+escaping quotes and case sensitivity issues in table identifiers.\n+\n+The result of these query tables is a table with a single row and a single\n+column named ``result`` of type JSON.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU4NjMyMA=="}, "originalCommit": null, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczODQ2NzM2OnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/connector/elasticsearch.rst", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODo1Nzo0OVrOGjOmWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODo1Nzo0OVrOGjOmWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU5MjUzOQ==", "bodyText": "\"the Elasticsearch query\"", "url": "https://github.com/trinodb/trino/pull/4013#discussion_r439592539", "createdAt": "2020-06-12T18:57:49Z", "author": {"login": "martint"}, "path": "presto-docs/src/main/sphinx/connector/elasticsearch.rst", "diffHunk": "@@ -262,6 +262,27 @@ as part of the table name, separated by a colon. For example:\n .. _full text query: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax\n \n \n+Pass-through Queries\n+--------------------\n+\n+The Elasticsearch connector allows you to embed any valid Elasticsearch query,\n+that uses the `Elasticsearch Query DLS\n+<https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html>`_\n+in your SQL query.\n+\n+The results can then be used in any SQL statement, wrapping the ES query. The", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczODQ2NzU2OnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/connector/elasticsearch.rst", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODo1Nzo1NFrOGjOmew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODo1Nzo1NFrOGjOmew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU5MjU3MQ==", "bodyText": "DSL", "url": "https://github.com/trinodb/trino/pull/4013#discussion_r439592571", "createdAt": "2020-06-12T18:57:54Z", "author": {"login": "martint"}, "path": "presto-docs/src/main/sphinx/connector/elasticsearch.rst", "diffHunk": "@@ -262,6 +262,27 @@ as part of the table name, separated by a colon. For example:\n .. _full text query: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax\n \n \n+Pass-through Queries\n+--------------------\n+\n+The Elasticsearch connector allows you to embed any valid Elasticsearch query,\n+that uses the `Elasticsearch Query DLS", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczODQ2ODAwOnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/connector/elasticsearch.rst", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODo1ODowNVrOGjOmwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODo1ODowNVrOGjOmwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU5MjY0MQ==", "bodyText": "ES->Elasticsearch", "url": "https://github.com/trinodb/trino/pull/4013#discussion_r439592641", "createdAt": "2020-06-12T18:58:05Z", "author": {"login": "martint"}, "path": "presto-docs/src/main/sphinx/connector/elasticsearch.rst", "diffHunk": "@@ -262,6 +262,27 @@ as part of the table name, separated by a colon. For example:\n .. _full text query: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax\n \n \n+Pass-through Queries\n+--------------------\n+\n+The Elasticsearch connector allows you to embed any valid Elasticsearch query,\n+that uses the `Elasticsearch Query DLS\n+<https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html>`_\n+in your SQL query.\n+\n+The results can then be used in any SQL statement, wrapping the ES query. The\n+syntax extends the syntax of the enhanced ES table names with the following::", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczODQ2ODQ1OnYy", "diffSide": "RIGHT", "path": "presto-docs/src/main/sphinx/connector/elasticsearch.rst", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODo1ODoxN1rOGjOnDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxODo1ODoxN1rOGjOnDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTU5MjcxOQ==", "bodyText": "ES->Elasticsearch", "url": "https://github.com/trinodb/trino/pull/4013#discussion_r439592719", "createdAt": "2020-06-12T18:58:17Z", "author": {"login": "martint"}, "path": "presto-docs/src/main/sphinx/connector/elasticsearch.rst", "diffHunk": "@@ -262,6 +262,27 @@ as part of the table name, separated by a colon. For example:\n .. _full text query: https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl-query-string-query.html#query-string-syntax\n \n \n+Pass-through Queries\n+--------------------\n+\n+The Elasticsearch connector allows you to embed any valid Elasticsearch query,\n+that uses the `Elasticsearch Query DLS\n+<https://www.elastic.co/guide/en/elasticsearch/reference/current/query-dsl.html>`_\n+in your SQL query.\n+\n+The results can then be used in any SQL statement, wrapping the ES query. The\n+syntax extends the syntax of the enhanced ES table names with the following::\n+\n+    SELECT * FROM es.default.\"<index>$query:<es-query>\"\n+\n+The ES query string ``es-query`` is base32-encoded to avoid having to deal with", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4057, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}