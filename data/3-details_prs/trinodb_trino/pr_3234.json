{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzMzg3NzIz", "number": 3234, "title": "Delete MongoDB document if exists in schema collection", "bodyText": "FIxes #3082\nIf table was created by Presto, it saves metadata in _schema, add '_schema' deleting code is necessary.", "createdAt": "2020-03-25T05:10:38Z", "url": "https://github.com/trinodb/trino/pull/3234", "merged": true, "mergeCommit": {"oid": "3366910fb95681be013cf7123806fcfda3a39775"}, "closed": true, "closedAt": "2020-03-26T10:21:26Z", "author": {"login": "emhlbmc"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRApWzAFqTM4MDg2NTM3NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRB0L3ABqjMxNjI2NzkyNzA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwODY1Mzc1", "url": "https://github.com/trinodb/trino/pull/3234#pullrequestreview-380865375", "createdAt": "2020-03-25T05:24:18Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwNToyNDoxOFrOF7Mikg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwNToyNDoxOFrOF7Mikg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzYxNTc2Mg==", "bodyText": "Let's rename identifiers:\nfoo \u2192 drop_table\nbar \u2192 col", "url": "https://github.com/trinodb/trino/pull/3234#discussion_r397615762", "createdAt": "2020-03-25T05:24:18Z", "author": {"login": "ebyhr"}, "path": "presto-mongodb/src/test/java/io/prestosql/plugin/mongodb/TestMongoIntegrationSmokeTest.java", "diffHunk": "@@ -296,6 +296,14 @@ public void testSelectView()\n         assertUpdate(\"DROP TABLE test.view_base\");\n     }\n \n+    @Test\n+    public void testDropTable()\n+    {\n+        assertUpdate(\"CREATE TABLE test.foo(bar bigint)\");\n+        assertUpdate(\"DROP TABLE test.foo\");\n+        assertQueryFails(\"SELECT * FROM test.foo\", \".*Table 'mongodb.test.foo' does not exist\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 9}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ba1c2723770f62c4bd976ee4ec4e319c768c0df", "author": {"user": {"login": "emhlbmc", "name": "emhlbmc"}}, "url": "https://github.com/trinodb/trino/commit/6ba1c2723770f62c4bd976ee4ec4e319c768c0df", "committedDate": "2020-03-25T06:49:00Z", "message": "Delete MongoDB document if exists in schema collection"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "6ba1c2723770f62c4bd976ee4ec4e319c768c0df", "author": {"user": {"login": "emhlbmc", "name": "emhlbmc"}}, "url": "https://github.com/trinodb/trino/commit/6ba1c2723770f62c4bd976ee4ec4e319c768c0df", "committedDate": "2020-03-25T06:49:00Z", "message": "Delete MongoDB document if exists in schema collection"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2032, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}