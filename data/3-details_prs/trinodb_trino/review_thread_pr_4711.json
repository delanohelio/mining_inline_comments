{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzOTcwMDQ2", "number": 4711, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMTozODozNFrOEVyquA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxOTozNjo1NlrOEV90Iw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMjg1Njg4OnYy", "diffSide": "LEFT", "path": "presto-hive/src/main/java/io/prestosql/plugin/hive/rubix/RubixHdfsInitializer.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMTozODozNFrOG8v0VA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMjoxNTowNFrOG8w5AQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjM1MTE4OA==", "bodyText": "I don't see a reason for rename. I find it better the way it was.", "url": "https://github.com/trinodb/trino/pull/4711#discussion_r466351188", "createdAt": "2020-08-06T11:38:34Z", "author": {"login": "kokosing"}, "path": "presto-hive/src/main/java/io/prestosql/plugin/hive/rubix/RubixHdfsInitializer.java", "diffHunk": "@@ -26,6 +26,6 @@\n @Retention(RUNTIME)\n @Target({FIELD, PARAMETER, METHOD})\n @Qualifier\n-public @interface ForRubix", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjM1NTcwNw==", "bodyText": "If the name is the same, it wouldn't be obvious what's the binding for. This is specifically for binding Hdfs file system. Other FS are still statically bound in io.prestosql.plugin.hive.rubix.RubixInitializer#updateRubixConfiguration", "url": "https://github.com/trinodb/trino/pull/4711#discussion_r466355707", "createdAt": "2020-08-06T11:48:16Z", "author": {"login": "sopel39"}, "path": "presto-hive/src/main/java/io/prestosql/plugin/hive/rubix/RubixHdfsInitializer.java", "diffHunk": "@@ -26,6 +26,6 @@\n @Retention(RUNTIME)\n @Target({FIELD, PARAMETER, METHOD})\n @Qualifier\n-public @interface ForRubix", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjM1MTE4OA=="}, "originalCommit": null, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjM2ODc2OQ==", "bodyText": "If the name is the same, it wouldn't be obvious what's the binding for\n\nThat is correct, but this is why binding requires the class and annotation. Class is the most important part while annotation is just auxiliary.", "url": "https://github.com/trinodb/trino/pull/4711#discussion_r466368769", "createdAt": "2020-08-06T12:15:04Z", "author": {"login": "kokosing"}, "path": "presto-hive/src/main/java/io/prestosql/plugin/hive/rubix/RubixHdfsInitializer.java", "diffHunk": "@@ -26,6 +26,6 @@\n @Retention(RUNTIME)\n @Target({FIELD, PARAMETER, METHOD})\n @Qualifier\n-public @interface ForRubix", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjM1MTE4OA=="}, "originalCommit": null, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxMjg2MjQxOnYy", "diffSide": "RIGHT", "path": "presto-hive/src/main/java/io/prestosql/plugin/hive/rubix/RubixModule.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMTo0MDoxNVrOG8v3mg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMTo0OTo0NVrOG8wIeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjM1MjAyNg==", "bodyText": "Update commit message to:\nDo not allow impersonation with DefaultRubixHdfsInitializer", "url": "https://github.com/trinodb/trino/pull/4711#discussion_r466352026", "createdAt": "2020-08-06T11:40:15Z", "author": {"login": "kokosing"}, "path": "presto-hive/src/main/java/io/prestosql/plugin/hive/rubix/RubixModule.java", "diffHunk": "@@ -22,6 +22,7 @@\n import com.qubole.rubix.prestosql.CachingPrestoDistributedFileSystem;", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjM1NjM0NA==", "bodyText": "The check was actually moved from io.prestosql.plugin.hive.authentication.HiveAuthenticationModule#setup. updated code", "url": "https://github.com/trinodb/trino/pull/4711#discussion_r466356344", "createdAt": "2020-08-06T11:49:45Z", "author": {"login": "sopel39"}, "path": "presto-hive/src/main/java/io/prestosql/plugin/hive/rubix/RubixModule.java", "diffHunk": "@@ -22,6 +22,7 @@\n import com.qubole.rubix.prestosql.CachingPrestoDistributedFileSystem;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjM1MjAyNg=="}, "originalCommit": null, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNDY4MzIzOnYy", "diffSide": "RIGHT", "path": "presto-hive/src/main/java/io/prestosql/plugin/hive/rubix/RubixHdfsInitializer.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxOTozNjo1NlrOG9BkUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxOTozNjo1NlrOG9BkUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjY0MjAwMQ==", "bodyText": "One another idea is to use guice multibinder where you could have several independent ConfigurationInitializer.", "url": "https://github.com/trinodb/trino/pull/4711#discussion_r466642001", "createdAt": "2020-08-06T19:36:56Z", "author": {"login": "kokosing"}, "path": "presto-hive/src/main/java/io/prestosql/plugin/hive/rubix/RubixHdfsInitializer.java", "diffHunk": "@@ -13,19 +13,9 @@\n  */\n package io.prestosql.plugin.hive.rubix;\n \n-import javax.inject.Qualifier;\n+import io.prestosql.plugin.hive.ConfigurationInitializer;\n \n-import java.lang.annotation.Retention;\n-import java.lang.annotation.Target;\n-\n-import static java.lang.annotation.ElementType.FIELD;\n-import static java.lang.annotation.ElementType.METHOD;\n-import static java.lang.annotation.ElementType.PARAMETER;\n-import static java.lang.annotation.RetentionPolicy.RUNTIME;\n-\n-@Retention(RUNTIME)\n-@Target({FIELD, PARAMETER, METHOD})\n-@Qualifier\n-public @interface ForRubix\n+public interface RubixHdfsInitializer", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee7d866701bd90b50a4cae0931b90948e17ca8eb"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3612, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}