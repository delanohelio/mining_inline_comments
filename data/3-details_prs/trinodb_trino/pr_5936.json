{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5ODEyNDgw", "number": 5936, "title": "Fix FlakyTestRetryAnalyzer in product tests", "bodyText": "", "createdAt": "2020-11-12T11:17:12Z", "url": "https://github.com/trinodb/trino/pull/5936", "merged": true, "mergeCommit": {"oid": "81fd16127bdb217deda1767411f17ed65127e2cd"}, "closed": true, "closedAt": "2020-11-12T13:22:50Z", "author": {"login": "hashhar"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdbwu83gFqTUyODk4ODk0MQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdbxZN8gFqTUyOTAyMTk3NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI4OTg4OTQx", "url": "https://github.com/trinodb/trino/pull/5936#pullrequestreview-528988941", "createdAt": "2020-11-12T11:19:50Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMToxOTo1MFrOHx2Prw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMToxOTo1MFrOHx2Prw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjAzMTAyMw==", "bodyText": "FlakyTestRetryAnalyzer kicks in when CONTINUOUS_INTEGRATION env is set (regardless of value), so this can be\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            if (Boolean.parseBoolean(System.getenv(\"CONTINUOUS_INTEGRATION\"))) {\n          \n          \n            \n                            if (System.getenv(\"CONTINUOUS_INTEGRATION\") != null) {", "url": "https://github.com/trinodb/trino/pull/5936#discussion_r522031023", "createdAt": "2020-11-12T11:19:50Z", "author": {"login": "findepi"}, "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/cli/TestRun.java", "diffHunk": "@@ -246,7 +246,7 @@ private Environment getEnvironment()\n                     exposePort(container, 5007); // debug port\n                 }\n \n-                if (Boolean.getBoolean(\"CONTINUOUS_INTEGRATION\")) {\n+                if (Boolean.parseBoolean(System.getenv(\"CONTINUOUS_INTEGRATION\"))) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "97809904099d6759384f699ef6bc8227962e55f7", "author": {"user": {"login": "hashhar", "name": "Ashhar Hasan"}}, "url": "https://github.com/trinodb/trino/commit/97809904099d6759384f699ef6bc8227962e55f7", "committedDate": "2020-11-12T11:24:11Z", "message": "Fix FlakyTestRetryAnalyzer in product tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI4OTkyNTA2", "url": "https://github.com/trinodb/trino/pull/5936#pullrequestreview-528992506", "createdAt": "2020-11-12T11:24:53Z", "commit": {"oid": "97809904099d6759384f699ef6bc8227962e55f7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5MDAxMjIz", "url": "https://github.com/trinodb/trino/pull/5936#pullrequestreview-529001223", "createdAt": "2020-11-12T11:37:12Z", "commit": {"oid": "97809904099d6759384f699ef6bc8227962e55f7"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMTozNzoxMlrOHx22TA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMTozNzoxMlrOHx22TA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA0MDkwOA==", "bodyText": "How about doing both system property and env var?", "url": "https://github.com/trinodb/trino/pull/5936#discussion_r522040908", "createdAt": "2020-11-12T11:37:12Z", "author": {"login": "kokosing"}, "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/cli/TestRun.java", "diffHunk": "@@ -246,7 +246,7 @@ private Environment getEnvironment()\n                     exposePort(container, 5007); // debug port\n                 }\n \n-                if (Boolean.getBoolean(\"CONTINUOUS_INTEGRATION\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "97809904099d6759384f699ef6bc8227962e55f7"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5MDIxODYy", "url": "https://github.com/trinodb/trino/pull/5936#pullrequestreview-529021862", "createdAt": "2020-11-12T12:05:54Z", "commit": {"oid": "97809904099d6759384f699ef6bc8227962e55f7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMjowNTo1NFrOHx31BA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMjowNTo1NFrOHx31BA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA1Njk2NA==", "bodyText": "== \"true\"?", "url": "https://github.com/trinodb/trino/pull/5936#discussion_r522056964", "createdAt": "2020-11-12T12:05:54Z", "author": {"login": "losipiuk"}, "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/cli/TestRun.java", "diffHunk": "@@ -246,7 +246,7 @@ private Environment getEnvironment()\n                     exposePort(container, 5007); // debug port\n                 }\n \n-                if (Boolean.getBoolean(\"CONTINUOUS_INTEGRATION\")) {\n+                if (System.getenv(\"CONTINUOUS_INTEGRATION\") != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "97809904099d6759384f699ef6bc8227962e55f7"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI5MDIxOTc1", "url": "https://github.com/trinodb/trino/pull/5936#pullrequestreview-529021975", "createdAt": "2020-11-12T12:06:05Z", "commit": {"oid": "97809904099d6759384f699ef6bc8227962e55f7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2517, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}