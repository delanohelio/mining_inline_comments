{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1NjIyMjI0", "number": 4547, "title": "Update hive procedures docs", "bodyText": "", "createdAt": "2020-07-23T10:39:54Z", "url": "https://github.com/trinodb/trino/pull/4547", "merged": true, "mergeCommit": {"oid": "34a1d8022c72c2aad3e41bc90b38f340ed17cf38"}, "closed": true, "closedAt": "2020-08-07T20:21:18Z", "author": {"login": "wendigo"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3zLTIgFqTQ1NDM2MDcwMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8qVotgFqTQ2MzU4ODQ0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0MzYwNzAx", "url": "https://github.com/trinodb/trino/pull/4547#pullrequestreview-454360701", "createdAt": "2020-07-23T17:45:31Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxNzo0NTozMlrOG2VFTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxNzo0OToyMVrOG2VN4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTYyMTcxMA==", "bodyText": "I am not an expert with articles, but It seems The default value is more correct.", "url": "https://github.com/trinodb/trino/pull/4547#discussion_r459621710", "createdAt": "2020-07-23T17:45:32Z", "author": {"login": "losipiuk"}, "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -563,20 +563,20 @@ Procedures\n \n   Create an empty partition in the specified table.\n \n-* ``system.sync_partition_metadata(schema_name, table_name, mode, case_sensitive)``\n+* ``system.sync_partition_metadata(schema_name, table_name, mode, optional case_sensitive)``\n \n   Check and update partitions list in metastore. There are three modes available:\n \n   * ``ADD`` : add any partitions that exist on the file system, but not in the metastore.\n   * ``DROP``: drop any partitions that exist in the metastore, but not on the file system.\n   * ``FULL``: perform both ``ADD`` and ``DROP``.\n \n-  The ``case_sensitive`` argument is optional. The default value is ``true`` for compatibility\n+  Default value for optional ``case_sensitive`` argument is ``true`` for compatibility", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTYyMzkwNQ==", "bodyText": "Maybe it would worthy to have an example here?", "url": "https://github.com/trinodb/trino/pull/4547#discussion_r459623905", "createdAt": "2020-07-23T17:49:21Z", "author": {"login": "losipiuk"}, "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -585,10 +585,12 @@ Procedures\n \n .. _register_partition:\n \n-* ``system.register_partition(schema_name, table_name, partition_columns, partition_values, location)``\n+* ``system.register_partition(schema_name, table_name, partition_columns, partition_values, optional location)``\n \n   Registers existing location as a new partition in the metastore for the specified table.\n \n+  Partition location is constructed using partition_columns and partition_values when location argument is ommitted.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NDE2MzQw", "url": "https://github.com/trinodb/trino/pull/4547#pullrequestreview-454416340", "createdAt": "2020-07-23T19:03:38Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxOTowMzozOFrOG2XwSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxOTowMzozOFrOG2XwSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTY2NTQ4MA==", "bodyText": "I am not aware of this syntax being used for optional values anywhere else in the docs. Is this okay @electrum ? In other places we just show the different signatures from what I know", "url": "https://github.com/trinodb/trino/pull/4547#discussion_r459665480", "createdAt": "2020-07-23T19:03:38Z", "author": {"login": "mosabua"}, "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -563,20 +563,20 @@ Procedures\n \n   Create an empty partition in the specified table.\n \n-* ``system.sync_partition_metadata(schema_name, table_name, mode, case_sensitive)``\n+* ``system.sync_partition_metadata(schema_name, table_name, mode, optional case_sensitive)``\n \n   Check and update partitions list in metastore. There are three modes available:\n \n   * ``ADD`` : add any partitions that exist on the file system, but not in the metastore.\n   * ``DROP``: drop any partitions that exist in the metastore, but not on the file system.\n   * ``FULL``: perform both ``ADD`` and ``DROP``.\n \n-  The ``case_sensitive`` argument is optional. The default value is ``true`` for compatibility\n+  Default value for optional ``case_sensitive`` argument is ``true`` for compatibility\n   with Hive's ``MSCK REPAIR TABLE`` behavior, which expects the partition column names in\n   file system paths to use lowercase (e.g. ``col_x=SomeValue``). Partitions on the file system\n   not conforming to this convention are ignored, unless the argument is set to ``false``.\n \n-* ``system.drop_stats(schema_name, table_name, partition_values)``\n+* ``system.drop_stats(schema_name, table_name, optional partition_values)``", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NDE2NDQ2", "url": "https://github.com/trinodb/trino/pull/4547#pullrequestreview-454416446", "createdAt": "2020-07-23T19:03:47Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxOTowMzo0N1rOG2Xwmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxOTowMzo0N1rOG2Xwmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTY2NTU2Mw==", "bodyText": "see above.", "url": "https://github.com/trinodb/trino/pull/4547#discussion_r459665563", "createdAt": "2020-07-23T19:03:47Z", "author": {"login": "mosabua"}, "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -585,10 +585,12 @@ Procedures\n \n .. _register_partition:\n \n-* ``system.register_partition(schema_name, table_name, partition_columns, partition_values, location)``\n+* ``system.register_partition(schema_name, table_name, partition_columns, partition_values, optional location)``", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NDE3MTIy", "url": "https://github.com/trinodb/trino/pull/4547#pullrequestreview-454417122", "createdAt": "2020-07-23T19:04:47Z", "commit": null, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NDUwOTQ1", "url": "https://github.com/trinodb/trino/pull/4547#pullrequestreview-454450945", "createdAt": "2020-07-23T19:56:59Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxOTo1NzowMFrOG2Zbaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxOTo1NzowMFrOG2Zbaw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTY5MjkwNw==", "bodyText": "when the location ..", "url": "https://github.com/trinodb/trino/pull/4547#discussion_r459692907", "createdAt": "2020-07-23T19:57:00Z", "author": {"login": "mosabua"}, "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -589,6 +589,8 @@ Procedures\n \n   Registers existing location as a new partition in the metastore for the specified table.\n \n+  Partition location is constructed using ``partition_columns`` and ``partition_values`` when ``location`` argument is ommitted.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NDUxMTE1", "url": "https://github.com/trinodb/trino/pull/4547#pullrequestreview-454451115", "createdAt": "2020-07-23T19:57:14Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMTU0MDY4", "url": "https://github.com/trinodb/trino/pull/4547#pullrequestreview-460154068", "createdAt": "2020-08-03T16:08:25Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMzk0MzEy", "url": "https://github.com/trinodb/trino/pull/4547#pullrequestreview-460394312", "createdAt": "2020-08-03T23:07:11Z", "commit": null, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMzowNzoxMlrOG7Le_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMzowNzoxMlrOG7LfAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDcwNzMyNg==", "bodyText": "How about\nWhen the ``location`` argument is omitted, the partition location is\nconstructed using ``partition_columns`` and ``partition_values``.", "url": "https://github.com/trinodb/trino/pull/4547#discussion_r464707326", "createdAt": "2020-08-03T23:07:12Z", "author": {"login": "electrum"}, "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -589,6 +589,8 @@ Procedures\n \n   Registers existing location as a new partition in the metastore for the specified table.\n \n+  Partition location is constructed using ``partition_columns`` and ``partition_values`` when the ``location`` argument is omitted.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDcwNzMzMQ==", "bodyText": "I think the original is clearer, since it starts with the argument name and doesn't split the sentence. The new version results in a longer sentence, and makes the \"which expects\" part unclear as to what it applies to.", "url": "https://github.com/trinodb/trino/pull/4547#discussion_r464707331", "createdAt": "2020-08-03T23:07:12Z", "author": {"login": "electrum"}, "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -571,7 +571,7 @@ Procedures\n   * ``DROP``: drop any partitions that exist in the metastore, but not on the file system.\n   * ``FULL``: perform both ``ADD`` and ``DROP``.\n \n-  The ``case_sensitive`` argument is optional. The default value is ``true`` for compatibility\n+  The default value for the optional ``case_sensitive`` argument is ``true`` for compatibility", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80e00b5e0466a47cedaafeb4d347f507f0673892", "author": {"user": {"login": "wendigo", "name": "Mateusz \"Serafin\" Gajewski"}}, "url": "https://github.com/trinodb/trino/commit/80e00b5e0466a47cedaafeb4d347f507f0673892", "committedDate": "2020-08-05T11:24:19Z", "message": "Document optional arguments in Hive's procedures"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "80e00b5e0466a47cedaafeb4d347f507f0673892", "author": {"user": {"login": "wendigo", "name": "Mateusz \"Serafin\" Gajewski"}}, "url": "https://github.com/trinodb/trino/commit/80e00b5e0466a47cedaafeb4d347f507f0673892", "committedDate": "2020-08-05T11:24:19Z", "message": "Document optional arguments in Hive's procedures"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzNTg4NDQ2", "url": "https://github.com/trinodb/trino/pull/4547#pullrequestreview-463588446", "createdAt": "2020-08-07T20:21:11Z", "commit": {"oid": "80e00b5e0466a47cedaafeb4d347f507f0673892"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4844, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}