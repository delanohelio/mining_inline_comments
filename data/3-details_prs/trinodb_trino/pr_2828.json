{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc1MTMwNzkx", "number": 2828, "title": "Add Hive 3 metastore config for CSV support", "bodyText": "Aimed to fix #2678\nTo be honest I am not sure if this is the correct place or if we need to create a separate section about the Hive metastore configuration beyond the properties and add it there. Or link both sections.\nAlso is the content I wrote correct or am I missing a bunch of things?", "createdAt": "2020-02-13T23:02:24Z", "url": "https://github.com/trinodb/trino/pull/2828", "merged": true, "mergeCommit": {"oid": "5f29411d6d36e0b91bfa5726bed48c7565c7fe88"}, "closed": true, "closedAt": "2020-02-21T13:05:43Z", "author": {"login": "mosabua"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcELspVAFqTM1ODc5MTgxMA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcFl4LQgBqjMwNDgyMzU0Mzc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4NzkxODEw", "url": "https://github.com/trinodb/trino/pull/2828#pullrequestreview-358791810", "createdAt": "2020-02-14T08:58:20Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQwODo1ODoyMVrOFpvgUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNFQwODo1OToyN1rOFpviPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTMxNDI1OQ==", "bodyText": "this is needed for Hive 3 only.\n-- this is the only place where we set this in our tests\nhttps://github.com/prestosql/docker-images/blob/4aadfb19cf5a3d7a2576f4cd670c9ced21debf53/prestodev/hdp3.1-hive/files/etc/hive/conf/hive-site.xml#L69-L70", "url": "https://github.com/trinodb/trino/pull/2828#discussion_r379314259", "createdAt": "2020-02-14T08:58:21Z", "author": {"login": "findepi"}, "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -40,6 +40,18 @@ The following file types are supported for the Hive connector:\n * CSV (using ``org.apache.hadoop.hive.serde2.OpenCSVSerde``)\n * TextFile\n \n+In order to enable first-class support for CSV files, you need to add the\n+following property definition to the Hive metastore configuration file", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTMxNDc1MQ==", "bodyText": "@electrum, maybe we also could catch exception somewhere around https://github.com/prestosql/presto/blob/ebe16716fb76e4c4883cf7196d9b1087edb51582/presto-hive/src/main/java/io/prestosql/plugin/hive/metastore/thrift/BridgingHiveMetastore.java#L89 and provide more actionable message directly to the user?", "url": "https://github.com/trinodb/trino/pull/2828#discussion_r379314751", "createdAt": "2020-02-14T08:59:27Z", "author": {"login": "findepi"}, "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -40,6 +40,18 @@ The following file types are supported for the Hive connector:\n * CSV (using ``org.apache.hadoop.hive.serde2.OpenCSVSerde``)\n * TextFile\n \n+In order to enable first-class support for CSV files, you need to add the\n+following property definition to the Hive metastore configuration file", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTMxNDI1OQ=="}, "originalCommit": null, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5MzY2NTY2", "url": "https://github.com/trinodb/trino/pull/2828#pullrequestreview-359366566", "createdAt": "2020-02-15T21:10:16Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNVQyMToxMDoxNlrOFqQlig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNVQyMToxMDoxNlrOFqQlig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTg1NjI2Ng==", "bodyText": "I missed that earlier; same applies to Avro tables with avro_schema_url.\nFor ref, we're talking about:\nhttps://github.com/prestosql/presto/blob/ebe16716fb76e4c4883cf7196d9b1087edb51582/presto-hive/src/main/java/io/prestosql/plugin/hive/metastore/thrift/BridgingHiveMetastore.java#L88-L89", "url": "https://github.com/trinodb/trino/pull/2828#discussion_r379856266", "createdAt": "2020-02-15T21:10:16Z", "author": {"login": "findepi"}, "path": "presto-docs/src/main/sphinx/connector/hive.rst", "diffHunk": "@@ -40,6 +40,18 @@ The following file types are supported for the Hive connector:\n * CSV (using ``org.apache.hadoop.hive.serde2.OpenCSVSerde``)\n * TextFile\n \n+In order to enable first-class support for CSV files when using Hive 3.x, you", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe6bb4c6cee9d19471a5cdb6014ceafe43e2a57c", "author": {"user": {"login": "mosabua", "name": "Manfred Moser"}}, "url": "https://github.com/trinodb/trino/commit/fe6bb4c6cee9d19471a5cdb6014ceafe43e2a57c", "committedDate": "2020-02-18T18:02:54Z", "message": "Add Hive 3 metastore config for CSV and Avro support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "fe6bb4c6cee9d19471a5cdb6014ceafe43e2a57c", "author": {"user": {"login": "mosabua", "name": "Manfred Moser"}}, "url": "https://github.com/trinodb/trino/commit/fe6bb4c6cee9d19471a5cdb6014ceafe43e2a57c", "committedDate": "2020-02-18T18:02:54Z", "message": "Add Hive 3 metastore config for CSV and Avro support"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1679, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}