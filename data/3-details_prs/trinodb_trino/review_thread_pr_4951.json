{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcyNDM0ODYy", "number": 4951, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxMDo1NzoxNFrOEbhACw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxMjoyNzo1MlrOEbiuXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3Mjg3NjkxOnYy", "diffSide": "RIGHT", "path": "presto-testng-services/src/main/java/io/prestosql/testng/services/ReportIllNamedTest.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxMDo1NzoxNFrOHFfXfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxMTo0NToyM1rOHFgwfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUxODg0NA==", "bodyText": "Can you move wrapping into try/catch to Listeners class", "url": "https://github.com/trinodb/trino/pull/4951#discussion_r475518844", "createdAt": "2020-08-24T10:57:14Z", "author": {"login": "losipiuk"}, "path": "presto-testng-services/src/main/java/io/prestosql/testng/services/ReportIllNamedTest.java", "diffHunk": "@@ -16,14 +16,24 @@\n import org.testng.IClassListener;\n import org.testng.ITestClass;\n \n+import static io.prestosql.testng.services.Listeners.reportListenerFailure;\n import static io.prestosql.testng.services.ReportUnannotatedMethods.isTemptoClass;\n-import static java.lang.String.format;\n \n public class ReportIllNamedTest\n         implements IClassListener\n {\n     @Override\n     public void onBeforeClass(ITestClass testClass)\n+    {\n+        try {", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUyMzAyMA==", "bodyText": "I don't think it buys us anything. The mechanism still needs to be opted in by a listener.\nThis way is IMO more readable. (exception flow is not really FP friendly)", "url": "https://github.com/trinodb/trino/pull/4951#discussion_r475523020", "createdAt": "2020-08-24T11:06:13Z", "author": {"login": "findepi"}, "path": "presto-testng-services/src/main/java/io/prestosql/testng/services/ReportIllNamedTest.java", "diffHunk": "@@ -16,14 +16,24 @@\n import org.testng.IClassListener;\n import org.testng.ITestClass;\n \n+import static io.prestosql.testng.services.Listeners.reportListenerFailure;\n import static io.prestosql.testng.services.ReportUnannotatedMethods.isTemptoClass;\n-import static java.lang.String.format;\n \n public class ReportIllNamedTest\n         implements IClassListener\n {\n     @Override\n     public void onBeforeClass(ITestClass testClass)\n+    {\n+        try {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUxODg0NA=="}, "originalCommit": null, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTU0MTYzMA==", "bodyText": "Yeah. The buy in is negligible. Possible we can avoid a bit of repetition from catch clause", "url": "https://github.com/trinodb/trino/pull/4951#discussion_r475541630", "createdAt": "2020-08-24T11:45:23Z", "author": {"login": "losipiuk"}, "path": "presto-testng-services/src/main/java/io/prestosql/testng/services/ReportIllNamedTest.java", "diffHunk": "@@ -16,14 +16,24 @@\n import org.testng.IClassListener;\n import org.testng.ITestClass;\n \n+import static io.prestosql.testng.services.Listeners.reportListenerFailure;\n import static io.prestosql.testng.services.ReportUnannotatedMethods.isTemptoClass;\n-import static java.lang.String.format;\n \n public class ReportIllNamedTest\n         implements IClassListener\n {\n     @Override\n     public void onBeforeClass(ITestClass testClass)\n+    {\n+        try {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUxODg0NA=="}, "originalCommit": null, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3MzE1OTMyOnYy", "diffSide": "RIGHT", "path": "presto-testng-services/src/main/java/io/prestosql/testng/services/ReportUnannotatedMethods.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxMjoyNzo1MlrOHFiBSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxMjoyOToxMVrOHFiEVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTU2MjMxNA==", "bodyText": "I think it is too simple.\nIf it helps for now we could leave it.\nConvention tests do not fail because they are convention tests, but because they are using constructions that are problematic. Such construction could happen in the wild without convention tests.", "url": "https://github.com/trinodb/trino/pull/4951#discussion_r475562314", "createdAt": "2020-08-24T12:27:52Z", "author": {"login": "kokosing"}, "path": "presto-testng-services/src/main/java/io/prestosql/testng/services/ReportUnannotatedMethods.java", "diffHunk": "@@ -50,6 +50,13 @@ public void onBeforeClass(ITestClass testClass)\n     private void reportUnannotatedTestMethods(ITestClass testClass)\n     {\n         Class<?> realClass = testClass.getRealClass();\n+\n+        if (realClass.getSuperclass() != null &&", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTU2MzA5NA==", "bodyText": "Totally agree. This is a stop gap.\nAt the same time, inspecting generated class is not very helpful and I did not intend to do this.", "url": "https://github.com/trinodb/trino/pull/4951#discussion_r475563094", "createdAt": "2020-08-24T12:29:11Z", "author": {"login": "findepi"}, "path": "presto-testng-services/src/main/java/io/prestosql/testng/services/ReportUnannotatedMethods.java", "diffHunk": "@@ -50,6 +50,13 @@ public void onBeforeClass(ITestClass testClass)\n     private void reportUnannotatedTestMethods(ITestClass testClass)\n     {\n         Class<?> realClass = testClass.getRealClass();\n+\n+        if (realClass.getSuperclass() != null &&", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTU2MjMxNA=="}, "originalCommit": null, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3282, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}