{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ2MDczNTIy", "number": 6452, "title": "Support LZO-compressed Sequencefile table", "bodyText": "Fixes #6451", "createdAt": "2020-12-28T12:26:23Z", "url": "https://github.com/trinodb/trino/pull/6452", "merged": true, "mergeCommit": {"oid": "222f761f1f321ebadf459fefb14469a6062eadc8"}, "closed": true, "closedAt": "2021-01-14T10:04:15Z", "author": {"login": "findepi"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdqsd6agFqTU1OTI5ODE0OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdv_WreABqjQyMDQ4MjM2NjU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5Mjk4MTQ4", "url": "https://github.com/trinodb/trino/pull/6452#pullrequestreview-559298148", "createdAt": "2020-12-28T20:50:32Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQyMDo1MDozM1rOIMByDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOFQyMDo1MDozM1rOIMByDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTQ4MzAyMw==", "bodyText": "Should we just provide those classes in trino-hive-apache as shims that delegate to Airlift implementations instead?", "url": "https://github.com/trinodb/trino/pull/6452#discussion_r549483023", "createdAt": "2020-12-28T20:50:33Z", "author": {"login": "losipiuk"}, "path": "presto-hive/src/main/java/io/prestosql/plugin/hive/util/ConfigurationUtils.java", "diffHunk": "@@ -64,7 +64,24 @@ public static JobConf toJobConf(Configuration conf)\n         if (conf instanceof JobConf) {\n             return (JobConf) conf;\n         }\n-        return new JobConf(conf);\n+        return new JobConf(conf)\n+        {\n+            @Override\n+            public Class<?> getClassByNameOrNull(String name)\n+            {\n+                Class<?> clazz = super.getClassByNameOrNull(name);\n+                if (name != null && clazz == null) {\n+                    // fallback\n+                    switch (name) {\n+                        case \"com.hadoop.compression.lzo.LzoCodec\":", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 14}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY2NTY2NDA4", "url": "https://github.com/trinodb/trino/pull/6452#pullrequestreview-566566408", "createdAt": "2021-01-12T18:43:51Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMlQxODo0Mzo1MVrOISPOrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMlQxODo0Mzo1MVrOISPOrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTk5NDc5Ng==", "bodyText": "trinodb/trino-hive-apache#23", "url": "https://github.com/trinodb/trino/pull/6452#discussion_r555994796", "createdAt": "2021-01-12T18:43:51Z", "author": {"login": "findepi"}, "path": "plugin/trino-hive/src/main/java/com/hadoop/compression/lzo/LzoCodec.java", "diffHunk": "@@ -0,0 +1,20 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.hadoop.compression.lzo;\n+\n+//  Certain file formats store codec class name within file header section\n+//  (e.g. sequence file) and provide no clean way for providing custom codec\n+//  factory.\n+public class LzoCodec", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 19}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY3NzMxMTM3", "url": "https://github.com/trinodb/trino/pull/6452#pullrequestreview-567731137", "createdAt": "2021-01-13T23:06:14Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY3ODE0NzE5", "url": "https://github.com/trinodb/trino/pull/6452#pullrequestreview-567814719", "createdAt": "2021-01-14T02:49:49Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aba18ceecc05f7a069eecfdb57a5b428b70ed4cf", "author": {"user": {"login": "findepi", "name": "Piotr Findeisen"}}, "url": "https://github.com/trinodb/trino/commit/aba18ceecc05f7a069eecfdb57a5b428b70ed4cf", "committedDate": "2021-01-14T07:27:49Z", "message": "Remove unused enum option"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e676702eb2a9672fabce42f2e36c8093819c75cf", "author": {"user": {"login": "findepi", "name": "Piotr Findeisen"}}, "url": "https://github.com/trinodb/trino/commit/e676702eb2a9672fabce42f2e36c8093819c75cf", "committedDate": "2021-01-14T07:27:49Z", "message": "Remove unused test dependencies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b4880ad93970d7084b0f49765955c33e63a01e3f", "author": {"user": {"login": "findepi", "name": "Piotr Findeisen"}}, "url": "https://github.com/trinodb/trino/commit/b4880ad93970d7084b0f49765955c33e63a01e3f", "committedDate": "2021-01-14T07:27:49Z", "message": "Support LZO-compressed Sequencefile table"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "b4880ad93970d7084b0f49765955c33e63a01e3f", "author": {"user": {"login": "findepi", "name": "Piotr Findeisen"}}, "url": "https://github.com/trinodb/trino/commit/b4880ad93970d7084b0f49765955c33e63a01e3f", "committedDate": "2021-01-14T07:27:49Z", "message": "Support LZO-compressed Sequencefile table"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1947, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}