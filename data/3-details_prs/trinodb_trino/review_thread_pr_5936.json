{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5ODEyNDgw", "number": 5936, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMToxOTo1MFrOE4HbPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMjowNTo1NFrOE4IcPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3Mjc3MzczOnYy", "diffSide": "RIGHT", "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/cli/TestRun.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMToxOTo1MFrOHx2Prw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMToxOTo1MFrOHx2Prw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjAzMTAyMw==", "bodyText": "FlakyTestRetryAnalyzer kicks in when CONTINUOUS_INTEGRATION env is set (regardless of value), so this can be\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                            if (Boolean.parseBoolean(System.getenv(\"CONTINUOUS_INTEGRATION\"))) {\n          \n          \n            \n                            if (System.getenv(\"CONTINUOUS_INTEGRATION\") != null) {", "url": "https://github.com/trinodb/trino/pull/5936#discussion_r522031023", "createdAt": "2020-11-12T11:19:50Z", "author": {"login": "findepi"}, "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/cli/TestRun.java", "diffHunk": "@@ -246,7 +246,7 @@ private Environment getEnvironment()\n                     exposePort(container, 5007); // debug port\n                 }\n \n-                if (Boolean.getBoolean(\"CONTINUOUS_INTEGRATION\")) {\n+                if (Boolean.parseBoolean(System.getenv(\"CONTINUOUS_INTEGRATION\"))) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3MjgzNzc5OnYy", "diffSide": "LEFT", "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/cli/TestRun.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMTozNzoxMlrOHx22TA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMTo1NDo0M1rOHx3cLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA0MDkwOA==", "bodyText": "How about doing both system property and env var?", "url": "https://github.com/trinodb/trino/pull/5936#discussion_r522040908", "createdAt": "2020-11-12T11:37:12Z", "author": {"login": "kokosing"}, "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/cli/TestRun.java", "diffHunk": "@@ -246,7 +246,7 @@ private Environment getEnvironment()\n                     exposePort(container, 5007); // debug port\n                 }\n \n-                if (Boolean.getBoolean(\"CONTINUOUS_INTEGRATION\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "97809904099d6759384f699ef6bc8227962e55f7"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA0MzE3OQ==", "bodyText": "But nobody passes the System property today? A system property already exists as io.prestosql.testng.services.FlakyTestRetryAnalyzer.enabled but we don't use it except in the tests of FlakyTestRetryAnalyzer.", "url": "https://github.com/trinodb/trino/pull/5936#discussion_r522043179", "createdAt": "2020-11-12T11:41:19Z", "author": {"login": "hashhar"}, "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/cli/TestRun.java", "diffHunk": "@@ -246,7 +246,7 @@ private Environment getEnvironment()\n                     exposePort(container, 5007); // debug port\n                 }\n \n-                if (Boolean.getBoolean(\"CONTINUOUS_INTEGRATION\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA0MDkwOA=="}, "originalCommit": {"oid": "97809904099d6759384f699ef6bc8227962e55f7"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA1MDYwNQ==", "bodyText": "ok. let's leave it as it is then. thanks", "url": "https://github.com/trinodb/trino/pull/5936#discussion_r522050605", "createdAt": "2020-11-12T11:54:43Z", "author": {"login": "kokosing"}, "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/cli/TestRun.java", "diffHunk": "@@ -246,7 +246,7 @@ private Environment getEnvironment()\n                     exposePort(container, 5007); // debug port\n                 }\n \n-                if (Boolean.getBoolean(\"CONTINUOUS_INTEGRATION\")) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA0MDkwOA=="}, "originalCommit": {"oid": "97809904099d6759384f699ef6bc8227962e55f7"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI3Mjk0MDEyOnYy", "diffSide": "RIGHT", "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/cli/TestRun.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMjowNTo1NFrOHx31BA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMlQxMjoyNjoyMVrOHx4gmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA1Njk2NA==", "bodyText": "== \"true\"?", "url": "https://github.com/trinodb/trino/pull/5936#discussion_r522056964", "createdAt": "2020-11-12T12:05:54Z", "author": {"login": "losipiuk"}, "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/cli/TestRun.java", "diffHunk": "@@ -246,7 +246,7 @@ private Environment getEnvironment()\n                     exposePort(container, 5007); // debug port\n                 }\n \n-                if (Boolean.getBoolean(\"CONTINUOUS_INTEGRATION\")) {\n+                if (System.getenv(\"CONTINUOUS_INTEGRATION\") != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "97809904099d6759384f699ef6bc8227962e55f7"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA1NzY1Nw==", "bodyText": "See https://github.com/prestosql/presto/blob/e88c8e7d8437eddcb805fe434a0170a43e441b51/presto-testng-services/src/main/java/io/prestosql/testng/services/FlakyTestRetryAnalyzer.java#L105-L106 for the intent.", "url": "https://github.com/trinodb/trino/pull/5936#discussion_r522057657", "createdAt": "2020-11-12T12:07:12Z", "author": {"login": "hashhar"}, "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/cli/TestRun.java", "diffHunk": "@@ -246,7 +246,7 @@ private Environment getEnvironment()\n                     exposePort(container, 5007); // debug port\n                 }\n \n-                if (Boolean.getBoolean(\"CONTINUOUS_INTEGRATION\")) {\n+                if (System.getenv(\"CONTINUOUS_INTEGRATION\") != null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA1Njk2NA=="}, "originalCommit": {"oid": "97809904099d6759384f699ef6bc8227962e55f7"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA2ODEyMw==", "bodyText": "and also #5936 (comment)", "url": "https://github.com/trinodb/trino/pull/5936#discussion_r522068123", "createdAt": "2020-11-12T12:26:21Z", "author": {"login": "findepi"}, "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/cli/TestRun.java", "diffHunk": "@@ -246,7 +246,7 @@ private Environment getEnvironment()\n                     exposePort(container, 5007); // debug port\n                 }\n \n-                if (Boolean.getBoolean(\"CONTINUOUS_INTEGRATION\")) {\n+                if (System.getenv(\"CONTINUOUS_INTEGRATION\") != null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjA1Njk2NA=="}, "originalCommit": {"oid": "97809904099d6759384f699ef6bc8227962e55f7"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4757, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}