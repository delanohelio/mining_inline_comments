{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxNDQyODIx", "number": 2464, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxMDowOToyOFrODXeEIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxMDowOToyOFrODXeEIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1OTM2NDE2OnYy", "diffSide": "RIGHT", "path": "presto-product-tests/bin/run_on_docker.sh", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxMDowOToyOFrOFcx_Rw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xM1QxMDoyMzoyMFrOFcyXPg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTcyMzQ2Mw==", "bodyText": "This is generally OK, but now in Kafka tests you're not waiting for anything.\nPreviously you waited for hadoop -- hadoop was not needed, but waiting could have been needed.\nThis may cause flakiness.\nHow long does it take Kafka to start, compared to Presto startup?\n(ie % rather than s)", "url": "https://github.com/trinodb/trino/pull/2464#discussion_r365723463", "createdAt": "2020-01-13T10:09:28Z", "author": {"login": "findepi"}, "path": "presto-product-tests/bin/run_on_docker.sh", "diffHunk": "@@ -117,8 +117,10 @@ environment_compose up --no-color --abort-on-container-exit ${SERVICES} &\n # Otherwise docker-compose may created network twice and subsequently fail.\n retry check_any_container_is_up\n \n-# wait until hadoop processes are started\n-retry check_hadoop\n+if [[ $SERVICES == *\"hadoop-master\"* ]]; then\n+    # wait until hadoop processes are started\n+    retry check_hadoop\n+fi", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad7d703db22a39b98b2bf413210d7e52dab998a5"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTcyOTU5OA==", "bodyText": "ow in Kafka tests you're not waiting for anything.\n\nI wait for Presto.\n\nHow long does it take Kafka to start, compared to Presto startup?\n\nKafka starts an order of magnitude faster.", "url": "https://github.com/trinodb/trino/pull/2464#discussion_r365729598", "createdAt": "2020-01-13T10:23:20Z", "author": {"login": "kokosing"}, "path": "presto-product-tests/bin/run_on_docker.sh", "diffHunk": "@@ -117,8 +117,10 @@ environment_compose up --no-color --abort-on-container-exit ${SERVICES} &\n # Otherwise docker-compose may created network twice and subsequently fail.\n retry check_any_container_is_up\n \n-# wait until hadoop processes are started\n-retry check_hadoop\n+if [[ $SERVICES == *\"hadoop-master\"* ]]; then\n+    # wait until hadoop processes are started\n+    retry check_hadoop\n+fi", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NTcyMzQ2Mw=="}, "originalCommit": {"oid": "ad7d703db22a39b98b2bf413210d7e52dab998a5"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1120, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}