{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyMTY3MjI5", "number": 2751, "title": "Require running on Java 11", "bodyText": "", "createdAt": "2020-02-06T23:45:51Z", "url": "https://github.com/trinodb/trino/pull/2751", "merged": true, "mergeCommit": {"oid": "45489828f7cfd9a40ce1d49ca5eda730656b86c0"}, "closed": true, "closedAt": "2020-02-09T09:29:52Z", "author": {"login": "electrum"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBz1tnABqjMwMTU5MjI3NzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcCjVgfABqjMwMjA0MDE4MzY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0OTkzODI3", "url": "https://github.com/trinodb/trino/pull/2751#pullrequestreview-354993827", "createdAt": "2020-02-07T08:27:06Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwODoyNzowN1rOFm1cDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwODoyNzo1NlrOFm1dJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjI2NTc0Mg==", "bodyText": "Typo", "url": "https://github.com/trinodb/trino/pull/2751#discussion_r376265742", "createdAt": "2020-02-07T08:27:07Z", "author": {"login": "kokosing"}, "path": "presto-product-tests-launcher/src/main/resources/docker/presto-product-tests/run-presto.sh", "diffHunk": "@@ -11,6 +11,7 @@ set -x\n \n tar xf /docker/presto-server.tar.gz -C /docker\n exec /docker/presto-server-*/bin/launcher \\\n+  -Dresto-temporarily-allow-java8=true \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjI2NjAyMA==", "bodyText": "I think it should be like 6 months from now.", "url": "https://github.com/trinodb/trino/pull/2751#discussion_r376266020", "createdAt": "2020-02-07T08:27:56Z", "author": {"login": "kokosing"}, "path": "presto-main/src/main/java/io/prestosql/server/PrestoSystemRequirements.java", "diffHunk": "@@ -101,6 +101,14 @@ private static void verifyJavaVersion()\n             return;\n         }\n \n+        if (!Boolean.getBoolean(\"presto-temporarily-allow-java8\")) {\n+            failRequirement(\"\" +\n+                    \"Future versions of Presto will require Java 11 starting in April 2020.\\n\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1MDA0OTA3", "url": "https://github.com/trinodb/trino/pull/2751#pullrequestreview-355004907", "createdAt": "2020-02-07T08:49:25Z", "commit": null, "state": "DISMISSED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwODo0OToyNVrOFm1-vA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wN1QwODo1MTo0OFrOFm2CSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjI3NDYyMA==", "bodyText": "This date is the one announced previously on Slack. https://prestosql.slack.com/archives/CFLB9AMBN/p1580870213234300\nHowever, the code build today will continue to work and we will unlikely do a release on April 1st, so I'd use a different wording here\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                \"Future versions of Presto will require Java 11 starting in April 2020.\\n\\n\" +\n          \n          \n            \n                                \"Future versions of Presto will require Java 11 after March 2020.\\n\\n\" +", "url": "https://github.com/trinodb/trino/pull/2751#discussion_r376274620", "createdAt": "2020-02-07T08:49:25Z", "author": {"login": "findepi"}, "path": "presto-main/src/main/java/io/prestosql/server/PrestoSystemRequirements.java", "diffHunk": "@@ -101,6 +101,14 @@ private static void verifyJavaVersion()\n             return;\n         }\n \n+        if (!Boolean.getBoolean(\"presto-temporarily-allow-java8\")) {\n+            failRequirement(\"\" +\n+                    \"Future versions of Presto will require Java 11 starting in April 2020.\\n\\n\" +", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjI2NjAyMA=="}, "originalCommit": null, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjI3NDg1OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              -Dresto-temporarily-allow-java8=true \\\n          \n          \n            \n              -Dpresto-temporarily-allow-java8=true \\", "url": "https://github.com/trinodb/trino/pull/2751#discussion_r376274859", "createdAt": "2020-02-07T08:50:08Z", "author": {"login": "findepi"}, "path": "presto-product-tests-launcher/src/main/resources/docker/presto-product-tests/run-presto.sh", "diffHunk": "@@ -11,6 +11,7 @@ set -x\n \n tar xf /docker/presto-server.tar.gz -C /docker\n exec /docker/presto-server-*/bin/launcher \\\n+  -Dresto-temporarily-allow-java8=true \\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjI2NTc0Mg=="}, "originalCommit": null, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjI3NTM0MQ==", "bodyText": "This should be applied only when running on centos7-oj8 image", "url": "https://github.com/trinodb/trino/pull/2751#discussion_r376275341", "createdAt": "2020-02-07T08:51:19Z", "author": {"login": "findepi"}, "path": "presto-server-rpm/src/test/java/io/prestosql/server/rpm/ServerIT.java", "diffHunk": "@@ -63,6 +63,8 @@ private static void testServer(String baseImage, String rpmHostPath, String expe\n         String command = \"\" +\n                 // install RPM\n                 \"yum localinstall -q -y \" + rpm + \"\\n\" +\n+                // temporary hack to allow Java 8\n+                \"echo '-Dpresto-temporarily-allow-java8=true' >> /etc/jvm.config\\n\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjI3NTUyOQ==", "bodyText": "Add an explanatory comment", "url": "https://github.com/trinodb/trino/pull/2751#discussion_r376275529", "createdAt": "2020-02-07T08:51:48Z", "author": {"login": "findepi"}, "path": "presto-main/pom.xml", "diffHunk": "@@ -377,6 +377,20 @@\n     </dependencies>\n \n     <build>\n+        <pluginManagement>\n+            <plugins>\n+                <plugin>\n+                    <groupId>org.apache.maven.plugins</groupId>\n+                    <artifactId>maven-surefire-plugin</artifactId>\n+                    <configuration>\n+                        <systemProperties>\n+                            <presto-temporarily-allow-java8>true</presto-temporarily-allow-java8>", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 11}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NTE1MjM5", "url": "https://github.com/trinodb/trino/pull/2751#pullrequestreview-355515239", "createdAt": "2020-02-08T01:02:03Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NTMyNTcx", "url": "https://github.com/trinodb/trino/pull/2751#pullrequestreview-355532571", "createdAt": "2020-02-08T06:02:48Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NTM2MjU4", "url": "https://github.com/trinodb/trino/pull/2751#pullrequestreview-355536258", "createdAt": "2020-02-08T07:55:49Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58d5bf31dc8e288a6284d559379096a9dd20bbb9", "author": {"user": {"login": "electrum", "name": "David Phillips"}}, "url": "https://github.com/trinodb/trino/commit/58d5bf31dc8e288a6284d559379096a9dd20bbb9", "committedDate": "2020-02-09T07:22:56Z", "message": "Require running on Java 11"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "58d5bf31dc8e288a6284d559379096a9dd20bbb9", "author": {"user": {"login": "electrum", "name": "David Phillips"}}, "url": "https://github.com/trinodb/trino/commit/58d5bf31dc8e288a6284d559379096a9dd20bbb9", "committedDate": "2020-02-09T07:22:56Z", "message": "Require running on Java 11"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1648, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}