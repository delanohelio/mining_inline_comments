{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzMjA4NzUy", "number": 5552, "title": "Fix NPE in QueryAssertions", "bodyText": "Before this change, NullPointerException was thrown in QueryAssertions\nwhen formatting error message for mismatched query results.\nIf either the expected or the actual result contained a MaterializedRow\nhaving a null field, NPE was caused by calling toString() on null.", "createdAt": "2020-10-14T08:38:28Z", "url": "https://github.com/trinodb/trino/pull/5552", "merged": true, "mergeCommit": {"oid": "36d2ab38a810f904e7ed4195bd3773d1bcb903fe"}, "closed": true, "closedAt": "2020-10-16T04:52:04Z", "author": {"login": "kasiafi"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSZmFlAFqTUwODE1MTU0OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdS3ScoABqjM4ODMzMTkyMjQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4MTUxNTQ4", "url": "https://github.com/trinodb/trino/pull/5552#pullrequestreview-508151548", "createdAt": "2020-10-14T09:17:06Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5NDg0MTc3", "url": "https://github.com/trinodb/trino/pull/5552#pullrequestreview-509484177", "createdAt": "2020-10-15T15:06:41Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNTowNjo0MlrOHiMl8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNTowNjo0MlrOHiMl8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTYxOTk1Mg==", "bodyText": ".map(String::valueOf)\n\n?", "url": "https://github.com/trinodb/trino/pull/5552#discussion_r505619952", "createdAt": "2020-10-15T15:06:42Z", "author": {"login": "findepi"}, "path": "presto-main/src/test/java/io/prestosql/sql/query/QueryAssertions.java", "diffHunk": "@@ -223,7 +223,12 @@ public String toStringOf(Object object)\n                     MaterializedRow row = (MaterializedRow) object;\n \n                     return row.getFields().stream()\n-                            .map(Object::toString)\n+                            .map(field -> {\n+                                if (field == null) {\n+                                    return null;\n+                                }\n+                                return field.toString();", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ecb9d41da56c6e07f4a34d428ee54e43f702a58f", "author": {"user": {"login": "kasiafi", "name": null}}, "url": "https://github.com/trinodb/trino/commit/ecb9d41da56c6e07f4a34d428ee54e43f702a58f", "committedDate": "2020-10-15T19:52:10Z", "message": "Fix NPE in QueryAssertions\n\nBefore this change, NullPointerException was thrown in QueryAssertions\nwhen formatting error message for mismatched query results.\nIf either the expected or the actual result contained a MaterializedRow\nhaving a null field, NPE was caused by calling `toString()` on null."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "ecb9d41da56c6e07f4a34d428ee54e43f702a58f", "author": {"user": {"login": "kasiafi", "name": null}}, "url": "https://github.com/trinodb/trino/commit/ecb9d41da56c6e07f4a34d428ee54e43f702a58f", "committedDate": "2020-10-15T19:52:10Z", "message": "Fix NPE in QueryAssertions\n\nBefore this change, NullPointerException was thrown in QueryAssertions\nwhen formatting error message for mismatched query results.\nIf either the expected or the actual result contained a MaterializedRow\nhaving a null field, NPE was caused by calling `toString()` on null."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3459, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}