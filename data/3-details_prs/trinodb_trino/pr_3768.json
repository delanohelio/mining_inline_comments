{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5MjYyNDUy", "number": 3768, "title": "Various code cleanups", "bodyText": "", "createdAt": "2020-05-18T05:15:03Z", "url": "https://github.com/trinodb/trino/pull/3768", "merged": true, "mergeCommit": {"oid": "979094e4e59b9791c1b2c9ac1af1c06bf844d0a1"}, "closed": true, "closedAt": "2020-07-07T01:39:31Z", "author": {"login": "electrum"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABciZH7yABqjMzNDU2MDI2ODk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcyZAroABqjM1MTc4NzMxNTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2NjA1Mzk3", "url": "https://github.com/trinodb/trino/pull/3768#pullrequestreview-416605397", "createdAt": "2020-05-22T02:13:07Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2NzYwNjk3", "url": "https://github.com/trinodb/trino/pull/3768#pullrequestreview-416760697", "createdAt": "2020-05-22T09:06:23Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwOTowNjoyNFrOGZQFvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQwOTowODo0NFrOGZQJ4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTEzMTE5OQ==", "bodyText": "source is already a String\ndid you mean firstNonNull(source, \"null\")?", "url": "https://github.com/trinodb/trino/pull/3768#discussion_r429131199", "createdAt": "2020-05-22T09:06:24Z", "author": {"login": "findepi"}, "path": "presto-hive/src/test/java/io/prestosql/plugin/hive/TestOrcPageSourceMemoryTracking.java", "diffHunk": "@@ -749,9 +749,7 @@ public Object getWriteValue()\n         {\n             StringBuilder builder = new StringBuilder();\n             String source = writeValue.get();\n-            for (int i = 0; i < counter / step; i++) {\n-                builder.append(source);\n-            }\n+            builder.append(String.valueOf(source).repeat(Math.max(0, counter / step)));", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTEzMTkyOA==", "bodyText": "hm... BigQueryOptions seemed more appropriate (i don;t know the design behind BigQueryOptions vs generic ServiceOptions though)", "url": "https://github.com/trinodb/trino/pull/3768#discussion_r429131928", "createdAt": "2020-05-22T09:08:01Z", "author": {"login": "findepi"}, "path": "presto-bigquery/src/main/java/io/prestosql/plugin/bigquery/BigQueryConnectorModule.java", "diffHunk": "@@ -94,6 +95,6 @@ static String calculateBillingProjectId(Optional<String> configParentProjectId,\n             return ((ServiceAccountCredentials) credentials.get()).getProjectId();\n         }\n         // 3. No configuration was provided, so get the default from the environment\n-        return BigQueryOptions.getDefaultProjectId();\n+        return ServiceOptions.getDefaultProjectId();", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTEzMjEwMg==", "bodyText": "Qualifying with BigintType was more appropriate.", "url": "https://github.com/trinodb/trino/pull/3768#discussion_r429132102", "createdAt": "2020-05-22T09:08:22Z", "author": {"login": "findepi"}, "path": "presto-main/src/main/java/io/prestosql/operator/BigintGroupByHash.java", "diffHunk": "@@ -200,7 +200,7 @@ public boolean contains(int position, Page page, int[] hashChannels)\n     @Override\n     public long getRawHash(int groupId)\n     {\n-        return BigintType.hash(valuesByGroupId.get(groupId));\n+        return AbstractLongType.hash(valuesByGroupId.get(groupId));", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTEzMjI1OA==", "bodyText": "nit: does not belong to Access static methods on declared class\n(same in TestPinotClient)", "url": "https://github.com/trinodb/trino/pull/3768#discussion_r429132258", "createdAt": "2020-05-22T09:08:44Z", "author": {"login": "findepi"}, "path": "presto-main/src/test/java/io/prestosql/operator/TestOperatorAssertion.java", "diffHunk": "@@ -52,7 +52,7 @@ public void testToPagesWithBlockedOperator()\n     {\n         Operator operator = new BlockedOperator(Duration.valueOf(\"15 ms\"));\n         List<Page> pages = OperatorAssertion.toPages(operator, emptyIterator());\n-        Assert.assertEquals(pages, ImmutableList.of());\n+        assertEquals(pages, ImmutableList.of());", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9fa98c8999a9ce4700db64605eb2ea676050b130", "author": {"user": {"login": "electrum", "name": "David Phillips"}}, "url": "https://github.com/trinodb/trino/commit/9fa98c8999a9ce4700db64605eb2ea676050b130", "committedDate": "2020-07-06T20:09:34Z", "message": "Use diamond operator"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c14d360fabb71411ad719bc90b45ce5e316bfac", "author": {"user": {"login": "electrum", "name": "David Phillips"}}, "url": "https://github.com/trinodb/trino/commit/6c14d360fabb71411ad719bc90b45ce5e316bfac", "committedDate": "2020-07-06T20:50:28Z", "message": "Replace anonymous class with lambda"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e035fcea0f125174a08c9de3aba89fc6a810514", "author": {"user": {"login": "electrum", "name": "David Phillips"}}, "url": "https://github.com/trinodb/trino/commit/0e035fcea0f125174a08c9de3aba89fc6a810514", "committedDate": "2020-07-06T20:50:28Z", "message": "Replace Collections.sort with List.sort"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46b23c3f2c6e70467884730b5749b7e3cc8b8adb", "author": {"user": {"login": "electrum", "name": "David Phillips"}}, "url": "https://github.com/trinodb/trino/commit/46b23c3f2c6e70467884730b5749b7e3cc8b8adb", "committedDate": "2020-07-06T20:50:29Z", "message": "Use Comparator factory methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "952ce02abe1a8d8e03c828433510328c35283491", "author": {"user": {"login": "electrum", "name": "David Phillips"}}, "url": "https://github.com/trinodb/trino/commit/952ce02abe1a8d8e03c828433510328c35283491", "committedDate": "2020-07-06T20:50:29Z", "message": "Use setProperty method on Properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d23758b3286e509730465fb3818bddaef404184", "author": {"user": {"login": "electrum", "name": "David Phillips"}}, "url": "https://github.com/trinodb/trino/commit/0d23758b3286e509730465fb3818bddaef404184", "committedDate": "2020-07-06T20:50:29Z", "message": "Replace lambda with method reference"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "821ec755ac3f0f12303b82890b54e5de08724cf1", "author": {"user": {"login": "electrum", "name": "David Phillips"}}, "url": "https://github.com/trinodb/trino/commit/821ec755ac3f0f12303b82890b54e5de08724cf1", "committedDate": "2020-07-06T20:50:29Z", "message": "Iterate over multimap values"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "538b973734b7667d44b4fc0adff7a3faed9e8db3", "author": {"user": {"login": "electrum", "name": "David Phillips"}}, "url": "https://github.com/trinodb/trino/commit/538b973734b7667d44b4fc0adff7a3faed9e8db3", "committedDate": "2020-07-06T20:50:29Z", "message": "Use String.repeat"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00c7a9e552d9df3a231d0f3417bbac078e9ffc79", "author": {"user": {"login": "electrum", "name": "David Phillips"}}, "url": "https://github.com/trinodb/trino/commit/00c7a9e552d9df3a231d0f3417bbac078e9ffc79", "committedDate": "2020-07-06T20:50:29Z", "message": "Remove unnecessary final"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a7b50e2cce854e360298c7e4882cf4d44f428c6", "author": {"user": {"login": "electrum", "name": "David Phillips"}}, "url": "https://github.com/trinodb/trino/commit/5a7b50e2cce854e360298c7e4882cf4d44f428c6", "committedDate": "2020-07-06T20:50:29Z", "message": "Fix warnings in Decimals"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "5a7b50e2cce854e360298c7e4882cf4d44f428c6", "author": {"user": {"login": "electrum", "name": "David Phillips"}}, "url": "https://github.com/trinodb/trino/commit/5a7b50e2cce854e360298c7e4882cf4d44f428c6", "committedDate": "2020-07-06T20:50:29Z", "message": "Fix warnings in Decimals"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1145, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}