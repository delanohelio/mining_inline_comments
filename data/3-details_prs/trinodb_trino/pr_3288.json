{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk2MjAzNjAw", "number": 3288, "title": "Fix incorrect pushdown in Kudu when value can be NULL.", "bodyText": "Fix incorrect pushdown in Kudu when value can be NULL..\n\nFixes #3274", "createdAt": "2020-03-31T09:40:20Z", "url": "https://github.com/trinodb/trino/pull/3288", "merged": true, "mergeCommit": {"oid": "0ce280a6df44656c3b16073c87d3d6f9533179ac"}, "closed": true, "closedAt": "2020-04-08T07:52:24Z", "author": {"login": "Crossoverrr"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcVM1S_AFqTM4ODgwMjA0OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVffFVAH2gAyMzk2MjAzNjAwOjk5OTMyYWM1NzQxMmFhZjkzOTRmZTg1MDE0NTQwNzZkNGJlZGU1ZTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4ODAyMDQ5", "url": "https://github.com/trinodb/trino/pull/3288#pullrequestreview-388802049", "createdAt": "2020-04-07T05:52:59Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QwNTo1Mjo1OVrOGBz2zw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QwNTo1NDoxM1rOGBz4fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDU1MTM3NQ==", "bodyText": "testDataMappingSmokeTest is a generic test that covers a few different cases.\nkeep this TODO here and add your test as a new test method, eg testPredicatePushdown", "url": "https://github.com/trinodb/trino/pull/3288#discussion_r404551375", "createdAt": "2020-04-07T05:52:59Z", "author": {"login": "findepi"}, "path": "presto-kudu/src/test/java/io/prestosql/plugin/kudu/TestKuduDistributedQueries.java", "diffHunk": "@@ -74,7 +74,17 @@ public void testInsert()\n     @Override\n     public void testDataMappingSmokeTest(DataMappingTestSetup dataMappingTestSetup)\n     {\n-        // TODO Support these test once kudu connector can create tables with default partitions", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDU1MTgwNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    assertQuery(\"SELECT count(1) FROM test_is_null WHERE col_nullable=0 or col_nullable is null\", \"VALUES 2\");\n          \n          \n            \n                    assertQuery(\"SELECT id FROM test_is_null WHERE col_nullable = 0 OR col_nullable IS NULL\", \"VALUES (1), (2)\");", "url": "https://github.com/trinodb/trino/pull/3288#discussion_r404551807", "createdAt": "2020-04-07T05:54:13Z", "author": {"login": "findepi"}, "path": "presto-kudu/src/test/java/io/prestosql/plugin/kudu/TestKuduDistributedQueries.java", "diffHunk": "@@ -74,7 +74,17 @@ public void testInsert()\n     @Override\n     public void testDataMappingSmokeTest(DataMappingTestSetup dataMappingTestSetup)\n     {\n-        // TODO Support these test once kudu connector can create tables with default partitions\n+        assertUpdate(\"CREATE TABLE IF NOT EXISTS test_is_null (\" +\n+                \"id INT WITH (primary_key=true), \" +\n+                \"col_nullable bigint with (nullable=true)\" +\n+                \") WITH (\" +\n+                \" partition_by_hash_columns = ARRAY['id'], \" +\n+                \" partition_by_hash_buckets = 2\" +\n+                \")\");\n+\n+        assertUpdate(\"INSERT INTO test_is_null VALUES (0, 0)\", 1);\n+        assertUpdate(\"INSERT INTO test_is_null(id) VALUES (1)\", 1);\n+        assertQuery(\"SELECT count(1) FROM test_is_null WHERE col_nullable=0 or col_nullable is null\", \"VALUES 2\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99932ac57412aaf9394fe8501454076d4bede5e0", "author": {"user": {"login": "Crossoverrr", "name": "wupeng"}}, "url": "https://github.com/trinodb/trino/commit/99932ac57412aaf9394fe8501454076d4bede5e0", "committedDate": "2020-04-08T03:39:30Z", "message": "Fix incorrect pushdown in Kudu when value can be NULL."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1677, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}