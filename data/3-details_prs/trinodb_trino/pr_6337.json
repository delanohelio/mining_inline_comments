{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM5Njc2NDEy", "number": 6337, "title": "Filter sys schema on MySQL", "bodyText": "On MySQL 8 has a new sys schema that's used in conjunction with the performance schema, we should hide this as well. See this for details https://dev.mysql.com/doc/refman/8.0/en/sys-schema.html", "createdAt": "2020-12-14T17:18:21Z", "url": "https://github.com/trinodb/trino/pull/6337", "merged": true, "mergeCommit": {"oid": "a0d0a21b51aaa82c978dbfd676e9221488217d93"}, "closed": true, "closedAt": "2021-04-29T14:34:19Z", "author": {"login": "lkm"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdoLxhPgFqTU1NjA4NzYyMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABeR2bkMgBqjQ2NjI0MTg4MjU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MDg3NjIz", "url": "https://github.com/trinodb/trino/pull/6337#pullrequestreview-556087623", "createdAt": "2020-12-21T01:36:19Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQwMTozNjoyMFrOIJJ2Yw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQwMTozNjoyMFrOIJJ2Yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjQ2OTQ3NQ==", "bodyText": "Merge into the above if condition at L185.", "url": "https://github.com/trinodb/trino/pull/6337#discussion_r546469475", "createdAt": "2020-12-21T01:36:20Z", "author": {"login": "ebyhr"}, "path": "presto-mysql/src/main/java/io/prestosql/plugin/mysql/MySqlClient.java", "diffHunk": "@@ -185,6 +185,11 @@ protected boolean filterSchema(String schemaName)\n         if (schemaName.equalsIgnoreCase(\"mysql\")) {\n             return false;\n         }\n+\n+        if (schemaName.equalsIgnoreCase(\"sys\")) {\n+            return false;\n+        }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 8}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3NzA3NzE1", "url": "https://github.com/trinodb/trino/pull/6337#pullrequestreview-557707715", "createdAt": "2020-12-23T08:14:13Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwODoxNDoxM1rOIKaY1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwODoxNDoxM1rOIKaY1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Nzc4OTAxNA==", "bodyText": "nit: Please revert unrelated change.", "url": "https://github.com/trinodb/trino/pull/6337#discussion_r547789014", "createdAt": "2020-12-23T08:14:13Z", "author": {"login": "ebyhr"}, "path": "presto-mysql/src/main/java/io/prestosql/plugin/mysql/MySqlClient.java", "diffHunk": "@@ -182,9 +182,11 @@ public MySqlClient(BaseJdbcConfig config, ConnectionFactory connectionFactory, T\n     @Override\n     protected boolean filterSchema(String schemaName)\n     {\n-        if (schemaName.equalsIgnoreCase(\"mysql\")) {\n+        if (schemaName.equalsIgnoreCase(\"mysql\")\n+            || schemaName.equalsIgnoreCase(\"sys\")) {\n             return false;\n         }\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 9}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3NzM1MjMz", "url": "https://github.com/trinodb/trino/pull/6337#pullrequestreview-557735233", "createdAt": "2020-12-23T09:07:56Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwOTowNzo1NlrOIKdOLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwOTowNzo1NlrOIKdOLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzgzNTQzNg==", "bodyText": "Please fix indentation as below. This is the CI failure cause.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        || schemaName.equalsIgnoreCase(\"sys\")) {\n          \n          \n            \n                            || schemaName.equalsIgnoreCase(\"sys\")) {\n          \n      \n    \n    \n  \n\nCode style exist here: https://github.com/prestosql/presto/blob/master/DEVELOPMENT.md#code-style", "url": "https://github.com/trinodb/trino/pull/6337#discussion_r547835436", "createdAt": "2020-12-23T09:07:56Z", "author": {"login": "ebyhr"}, "path": "presto-mysql/src/main/java/io/prestosql/plugin/mysql/MySqlClient.java", "diffHunk": "@@ -182,7 +182,8 @@ public MySqlClient(BaseJdbcConfig config, ConnectionFactory connectionFactory, T\n     @Override\n     protected boolean filterSchema(String schemaName)\n     {\n-        if (schemaName.equalsIgnoreCase(\"mysql\")) {\n+        if (schemaName.equalsIgnoreCase(\"mysql\")\n+            || schemaName.equalsIgnoreCase(\"sys\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb2901bd524884e2ae13a1dcdd26bd364e2d5730", "author": {"user": {"login": "lkm", "name": "Lasse Krogh Mammen"}}, "url": "https://github.com/trinodb/trino/commit/bb2901bd524884e2ae13a1dcdd26bd364e2d5730", "committedDate": "2021-04-29T12:29:08Z", "message": "Filter sys schema on MySQL"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "bb2901bd524884e2ae13a1dcdd26bd364e2d5730", "author": {"user": {"login": "lkm", "name": "Lasse Krogh Mammen"}}, "url": "https://github.com/trinodb/trino/commit/bb2901bd524884e2ae13a1dcdd26bd364e2d5730", "committedDate": "2021-04-29T12:29:08Z", "message": "Filter sys schema on MySQL"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1830, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}