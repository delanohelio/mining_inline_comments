{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4MzE2ODcy", "number": 2899, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMlQyMjowNDoyN1rODiG8Rw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMlQyMjowNDoyN1rODiG8Rw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3MDkxOTExOnYy", "diffSide": "LEFT", "path": "presto-main/src/main/java/io/prestosql/sql/rewrite/ShowQueriesRewrite.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMlQyMjowNDoyN1rOFtNGxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQxMDozMTozOVrOFtb1Og==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjk0NDk2NA==", "bodyText": "Can you file an issue for this one?  I believe we should have some kind of access control on SHOW GRANTS FOR TABLE.  My guess would be you can always see your own grants, or if you are the owner, you can see all grants... or maybe the \"with grant option\".  We'll need to look it up in the spec.", "url": "https://github.com/trinodb/trino/pull/2899#discussion_r382944964", "createdAt": "2020-02-22T22:04:27Z", "author": {"login": "dain"}, "path": "presto-main/src/main/java/io/prestosql/sql/rewrite/ShowQueriesRewrite.java", "diffHunk": "@@ -231,10 +227,6 @@ protected Node visitShowGrants(ShowGrants showGrants, Void context)\n \n                 catalogName = qualifiedTableName.getCatalogName();\n \n-                accessControl.checkCanShowTablesMetadata(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91fdfec5ad3ca7a7d3774f35c2335d8263da1493"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzE1NDA0NA==", "bodyText": "Currently, it is only implemented for hive.security=sql-standard. If you have SET ROLE admin then you display all table privileges, otherwise you display only session user grants.", "url": "https://github.com/trinodb/trino/pull/2899#discussion_r383154044", "createdAt": "2020-02-24T09:29:26Z", "author": {"login": "kokosing"}, "path": "presto-main/src/main/java/io/prestosql/sql/rewrite/ShowQueriesRewrite.java", "diffHunk": "@@ -231,10 +227,6 @@ protected Node visitShowGrants(ShowGrants showGrants, Void context)\n \n                 catalogName = qualifiedTableName.getCatalogName();\n \n-                accessControl.checkCanShowTablesMetadata(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjk0NDk2NA=="}, "originalCommit": {"oid": "91fdfec5ad3ca7a7d3774f35c2335d8263da1493"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzE4NTU2Ng==", "bodyText": "Maybe we should have something like filterTablePrivileges or filterGrants. The same thing goes to listing roles I think. In both cases, it is currently handled in sql-standard access control directy.", "url": "https://github.com/trinodb/trino/pull/2899#discussion_r383185566", "createdAt": "2020-02-24T10:30:22Z", "author": {"login": "kokosing"}, "path": "presto-main/src/main/java/io/prestosql/sql/rewrite/ShowQueriesRewrite.java", "diffHunk": "@@ -231,10 +227,6 @@ protected Node visitShowGrants(ShowGrants showGrants, Void context)\n \n                 catalogName = qualifiedTableName.getCatalogName();\n \n-                accessControl.checkCanShowTablesMetadata(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjk0NDk2NA=="}, "originalCommit": {"oid": "91fdfec5ad3ca7a7d3774f35c2335d8263da1493"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzE4NjIzNA==", "bodyText": "Having that said, I don't think there is anything actionable to be logged for today.", "url": "https://github.com/trinodb/trino/pull/2899#discussion_r383186234", "createdAt": "2020-02-24T10:31:39Z", "author": {"login": "kokosing"}, "path": "presto-main/src/main/java/io/prestosql/sql/rewrite/ShowQueriesRewrite.java", "diffHunk": "@@ -231,10 +227,6 @@ protected Node visitShowGrants(ShowGrants showGrants, Void context)\n \n                 catalogName = qualifiedTableName.getCatalogName();\n \n-                accessControl.checkCanShowTablesMetadata(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Mjk0NDk2NA=="}, "originalCommit": {"oid": "91fdfec5ad3ca7a7d3774f35c2335d8263da1493"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 802, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}