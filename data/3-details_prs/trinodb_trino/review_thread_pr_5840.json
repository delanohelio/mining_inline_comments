{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE2MTAzMzE5", "number": 5840, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNDozMDo1MlrOE1rtRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNDozMDo1MlrOE1rtRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0NzI2MDg2OnYy", "diffSide": "RIGHT", "path": "presto-product-tests/src/main/java/io/prestosql/tests/hive/TestHiveViews.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNDozMDo1MlrOHuF9EA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNDozMDo1MlrOHuF9EA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODA5NDA5Ng==", "bodyText": "#5837", "url": "https://github.com/trinodb/trino/pull/5840#discussion_r518094096", "createdAt": "2020-11-05T14:30:52Z", "author": {"login": "findepi"}, "path": "presto-product-tests/src/main/java/io/prestosql/tests/hive/TestHiveViews.java", "diffHunk": "@@ -137,6 +137,40 @@ public void testUnsupportedLateralViews()\n         assertThat(query(\"SELECT COUNT(*) FROM hive_lateral_view\")).contains(row(0));\n     }\n \n+    /**\n+     * Test view containing IF, IN, LIKE, BETWEEN, CASE, COALESCE, operators, delimited and non-delimited columns, an inline comment\n+     */\n+    @Test(groups = HIVE_VIEWS)\n+    public void testRichSqlSyntax()\n+    {\n+        onHive().executeQuery(\"DROP VIEW IF EXISTS view_with_rich_syntax\");\n+        onHive().executeQuery(\"CREATE VIEW view_with_rich_syntax AS \" +\n+                \"SELECT \\n\" +\n+                \"   `n_nationkey`, \\n\" + // grave accent\n+                \"   n_name, \\n\" + // no grave accent\n+                \"   `n_regionkey` AS `n_regionkey`, \\n\" + // alias\n+                \"   n_regionkey BETWEEN 1 AND 2 AS region_between_1_2, \\n\" + // BETWEEN, boolean\n+                \"   IF(`n`.`n_name` IN ('ALGERIA', 'ARGENTINA'), 1, 0) AS `starts_with_a`, \\n\" +\n+                \"   IF(`n`.`n_name` != 'PERU', 1, 0) `not_peru`, \\n\" + // no \"AS\" here\n+                \"   IF(`n`.`n_name` LIKE '%N%', 1, 0) `CONTAINS_N`, \\n\" + // LIKE, uppercase column name\n+                // TODO (https://github.com/prestosql/presto/issues/5837) \"   CASE n_regionkey WHEN 0 THEN 'Africa' WHEN 1 THEN 'America' END region_name, \\n\" + // simple CASE", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f0ef8d8e6da0a0cdc0692222bfcead113a6523a"}, "originalPosition": 20}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4955, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}