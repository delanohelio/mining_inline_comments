{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3MTI3OTAx", "number": 3714, "title": "Replace x-forwarded support with Airlift version", "bodyText": "Replace manual handling of forwarded headers with request rewriting in Airlift", "createdAt": "2020-05-13T05:33:34Z", "url": "https://github.com/trinodb/trino/pull/3714", "merged": true, "mergeCommit": {"oid": "2b39b6f988480e9cc2fc6e8267f67d9ffb03f220"}, "closed": true, "closedAt": "2020-05-15T19:39:00Z", "author": {"login": "dain"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcg_BTVAH2gAyNDE3MTI3OTAxOjkxNzhiMDY0YTc5OTUxNDY4NTMyNzY4YzgxOTE5NDM4MTI1MDVhZTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABchAqKRAFqTQxMTM0Mjg5Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9178b064a79951468532768c8191943812505ae8", "author": {"user": {"login": "dain", "name": "Dain Sundstrom"}}, "url": "https://github.com/trinodb/trino/commit/9178b064a79951468532768c8191943812505ae8", "committedDate": "2020-05-13T20:37:06Z", "message": "Replace x-forwarded support with Airlift version\n\nReplace manual handling of forwarded headers with request rewriting in Airlift"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "9178b064a79951468532768c8191943812505ae8", "author": {"user": {"login": "dain", "name": "Dain Sundstrom"}}, "url": "https://github.com/trinodb/trino/commit/9178b064a79951468532768c8191943812505ae8", "committedDate": "2020-05-13T20:37:06Z", "message": "Replace x-forwarded support with Airlift version\n\nReplace manual handling of forwarded headers with request rewriting in Airlift"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExMzQyODk3", "url": "https://github.com/trinodb/trino/pull/3714#pullrequestreview-411342897", "createdAt": "2020-05-13T22:27:23Z", "commit": {"oid": "9178b064a79951468532768c8191943812505ae8"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QyMjoyNzoyM1rOGVFseA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QyMjozMTozMFrOGVFyuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc2NjU4NA==", "bodyText": "Format with trailing comma\n        \"dispatcher.forwarded-header\",\n})", "url": "https://github.com/trinodb/trino/pull/3714#discussion_r424766584", "createdAt": "2020-05-13T22:27:23Z", "author": {"login": "electrum"}, "path": "presto-main/src/main/java/io/prestosql/server/security/SecurityConfig.java", "diffHunk": "@@ -24,13 +24,15 @@\n import java.util.List;\n import java.util.Optional;\n \n-@DefunctConfig(\"http.server.authentication.enabled\")\n+@DefunctConfig({\n+        \"http.server.authentication.enabled\",\n+        \"http-server.authentication.allow-forwarded-https\",\n+        \"dispatcher.forwarded-header\"})", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9178b064a79951468532768c8191943812505ae8"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc2ODE4NQ==", "bodyText": "Why?", "url": "https://github.com/trinodb/trino/pull/3714#discussion_r424768185", "createdAt": "2020-05-13T22:31:30Z", "author": {"login": "electrum"}, "path": "presto-main/src/test/java/io/prestosql/server/ui/TestWebUi.java", "diffHunk": "@@ -433,11 +434,11 @@ private static void testAlwaysAuthorized(URI baseUri, OkHttpClient authorizedCli\n \n         assertOk(authorizedClient, getValidApiLocation(baseUri));\n \n-        assertRedirect(authorizedClient, getLoginHtmlLocation(baseUri), getUiLocation(baseUri));\n+        assertRedirect(authorizedClient, getLoginHtmlLocation(baseUri), getUiLocation(baseUri), false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9178b064a79951468532768c8191943812505ae8"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1490, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}