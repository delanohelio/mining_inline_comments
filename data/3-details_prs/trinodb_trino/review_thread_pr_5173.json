{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg3MzcyMzA0", "number": 5173, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQwNzo0MDo0N1rOEk2o4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxMTo0NDoyM1rOEo_eew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3MDc5MzkzOnYy", "diffSide": "RIGHT", "path": "presto-main/src/test/java/io/prestosql/sql/planner/TestLogicalPlanner.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQwNzo0MDo0N1rOHUBrIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxMzozMTo0NFrOHUNRwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDc2MDk5NQ==", "bodyText": "The assertion passes even if the table scan has more projections than just this one,\nso it is a wrong test for the change.\nYou can see this by changing the query to EXPLAIN ANALYZE SELECT regionkey, nationkey FROM nation\nwithout changing the expected plan. You would want this to fail.", "url": "https://github.com/trinodb/trino/pull/5173#discussion_r490760995", "createdAt": "2020-09-18T07:40:47Z", "author": {"login": "findepi"}, "path": "presto-main/src/test/java/io/prestosql/sql/planner/TestLogicalPlanner.java", "diffHunk": "@@ -1526,6 +1527,18 @@ public void testSizeBasedSemiJoin()\n                                                 values(\"T_A\"))))));\n     }\n \n+    @Test\n+    public void testExplainAnalyze()\n+    {\n+        assertPlan(\"EXPLAIN ANALYZE SELECT regionkey FROM nation\",\n+                output(\n+                        node(ExplainAnalyzeNode.class,\n+                                exchange(\n+                                        LOCAL,\n+                                        GATHER,\n+                                        tableScan(\"nation\", ImmutableMap.of(\"regionkey\", \"regionkey\"))))));", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk1MTEwNA==", "bodyText": "I have added a new query", "url": "https://github.com/trinodb/trino/pull/5173#discussion_r490951104", "createdAt": "2020-09-18T13:31:44Z", "author": {"login": "Praveen2112"}, "path": "presto-main/src/test/java/io/prestosql/sql/planner/TestLogicalPlanner.java", "diffHunk": "@@ -1526,6 +1527,18 @@ public void testSizeBasedSemiJoin()\n                                                 values(\"T_A\"))))));\n     }\n \n+    @Test\n+    public void testExplainAnalyze()\n+    {\n+        assertPlan(\"EXPLAIN ANALYZE SELECT regionkey FROM nation\",\n+                output(\n+                        node(ExplainAnalyzeNode.class,\n+                                exchange(\n+                                        LOCAL,\n+                                        GATHER,\n+                                        tableScan(\"nation\", ImmutableMap.of(\"regionkey\", \"regionkey\"))))));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDc2MDk5NQ=="}, "originalCommit": null, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3MTU4MDc1OnYy", "diffSide": "RIGHT", "path": "presto-main/src/main/java/io/prestosql/sql/planner/optimizations/UnaliasSymbolReferences.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxMToyNTo1N1rOHUJEMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxMzozMTo0N1rOHUNR7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg4MjA5Ng==", "bodyText": "The call to mapper.map() potentially modifies mapping. For clarity, move it before the constructor, like mapping of the output symbols.", "url": "https://github.com/trinodb/trino/pull/5173#discussion_r490882096", "createdAt": "2020-09-18T11:25:57Z", "author": {"login": "kasiafi"}, "path": "presto-main/src/main/java/io/prestosql/sql/planner/optimizations/UnaliasSymbolReferences.java", "diffHunk": "@@ -203,7 +203,7 @@ public PlanAndMappings visitExplainAnalyze(ExplainAnalyzeNode node, UnaliasConte\n             Symbol newOutputSymbol = mapper.map(node.getOutputSymbol());\n \n             return new PlanAndMappings(\n-                    new ExplainAnalyzeNode(node.getId(), rewrittenSource.getRoot(), newOutputSymbol, node.isVerbose()),\n+                    new ExplainAnalyzeNode(node.getId(), rewrittenSource.getRoot(), newOutputSymbol, mapper.map(node.getActualOutputs()), node.isVerbose()),", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk1MTE0OA==", "bodyText": "Moved it !!", "url": "https://github.com/trinodb/trino/pull/5173#discussion_r490951148", "createdAt": "2020-09-18T13:31:47Z", "author": {"login": "Praveen2112"}, "path": "presto-main/src/main/java/io/prestosql/sql/planner/optimizations/UnaliasSymbolReferences.java", "diffHunk": "@@ -203,7 +203,7 @@ public PlanAndMappings visitExplainAnalyze(ExplainAnalyzeNode node, UnaliasConte\n             Symbol newOutputSymbol = mapper.map(node.getOutputSymbol());\n \n             return new PlanAndMappings(\n-                    new ExplainAnalyzeNode(node.getId(), rewrittenSource.getRoot(), newOutputSymbol, node.isVerbose()),\n+                    new ExplainAnalyzeNode(node.getId(), rewrittenSource.getRoot(), newOutputSymbol, mapper.map(node.getActualOutputs()), node.isVerbose()),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg4MjA5Ng=="}, "originalCommit": null, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NTI4Mjk4OnYy", "diffSide": "RIGHT", "path": "presto-main/src/test/java/io/prestosql/sql/planner/TestLogicalPlanner.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQxNToxMDo1MVrOHUslCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQxNToxMDo1MVrOHUslCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ2Mzk0NQ==", "bodyText": "Use node(ExchangeNode.class (or better) instead of any", "url": "https://github.com/trinodb/trino/pull/5173#discussion_r491463945", "createdAt": "2020-09-19T15:10:51Z", "author": {"login": "findepi"}, "path": "presto-main/src/test/java/io/prestosql/sql/planner/TestLogicalPlanner.java", "diffHunk": "@@ -1526,6 +1527,19 @@ public void testSizeBasedSemiJoin()\n                                                 values(\"T_A\"))))));\n     }\n \n+    @Test\n+    public void testExplainAnalyze()\n+    {\n+        assertPlan(\"EXPLAIN ANALYZE SELECT regionkey FROM nation ORDER BY nationkey\",\n+                output(\n+                        node(ExplainAnalyzeNode.class,\n+                                strictProject(ImmutableMap.of(\"regionkey\", expression(\"regionkey\")),\n+                                        any(", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NTI4MzA5OnYy", "diffSide": "RIGHT", "path": "presto-main/src/test/java/io/prestosql/sql/planner/TestLogicalPlanner.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQxNToxMDo1OFrOHUslFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNDoxNTowNlrOHWwr0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ2Mzk1OA==", "bodyText": "This works, but is a bit indirect way of checking this.\nMaybe, instead of adding ORDER BY and strictProject,\nyou can have \"strictTableScan\" matcher?", "url": "https://github.com/trinodb/trino/pull/5173#discussion_r491463958", "createdAt": "2020-09-19T15:10:58Z", "author": {"login": "findepi"}, "path": "presto-main/src/test/java/io/prestosql/sql/planner/TestLogicalPlanner.java", "diffHunk": "@@ -1526,6 +1527,19 @@ public void testSizeBasedSemiJoin()\n                                                 values(\"T_A\"))))));\n     }\n \n+    @Test\n+    public void testExplainAnalyze()\n+    {\n+        assertPlan(\"EXPLAIN ANALYZE SELECT regionkey FROM nation ORDER BY nationkey\",\n+                output(\n+                        node(ExplainAnalyzeNode.class,\n+                                strictProject(ImmutableMap.of(\"regionkey\", expression(\"regionkey\")),", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzYyODM3MA==", "bodyText": "Thanks for the feedback. I have added the previous query with a strictTableScan matcher.", "url": "https://github.com/trinodb/trino/pull/5173#discussion_r493628370", "createdAt": "2020-09-23T14:15:06Z", "author": {"login": "Praveen2112"}, "path": "presto-main/src/test/java/io/prestosql/sql/planner/TestLogicalPlanner.java", "diffHunk": "@@ -1526,6 +1527,19 @@ public void testSizeBasedSemiJoin()\n                                                 values(\"T_A\"))))));\n     }\n \n+    @Test\n+    public void testExplainAnalyze()\n+    {\n+        assertPlan(\"EXPLAIN ANALYZE SELECT regionkey FROM nation ORDER BY nationkey\",\n+                output(\n+                        node(ExplainAnalyzeNode.class,\n+                                strictProject(ImmutableMap.of(\"regionkey\", expression(\"regionkey\")),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ2Mzk1OA=="}, "originalCommit": null, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5NjY5NzU1OnYy", "diffSide": "RIGHT", "path": "presto-main/src/main/java/io/prestosql/sql/planner/LogicalPlanner.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwNjoyNzoxMFrOHX2kNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQwODozNzozMVrOHaTJag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc3MzMwMg==", "bodyText": "columnNumber isn't used.", "url": "https://github.com/trinodb/trino/pull/5173#discussion_r494773302", "createdAt": "2020-09-25T06:27:10Z", "author": {"login": "kasiafi"}, "path": "presto-main/src/main/java/io/prestosql/sql/planner/LogicalPlanner.java", "diffHunk": "@@ -267,7 +267,17 @@ private RelationPlan createExplainAnalyzePlan(Analysis analysis, Explain stateme\n         PlanNode root = underlyingPlan.getRoot();\n         Scope scope = analysis.getScope(statement);\n         Symbol outputSymbol = symbolAllocator.newSymbol(scope.getRelationType().getFieldByIndex(0));\n-        root = new ExplainAnalyzeNode(idAllocator.getNextId(), root, outputSymbol, statement.isVerbose());\n+\n+        ImmutableList.Builder<Symbol> actualOutputs = ImmutableList.builder();\n+        int columnNumber = 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzMzODczMA==", "bodyText": "Removed it", "url": "https://github.com/trinodb/trino/pull/5173#discussion_r497338730", "createdAt": "2020-09-30T08:37:31Z", "author": {"login": "Praveen2112"}, "path": "presto-main/src/main/java/io/prestosql/sql/planner/LogicalPlanner.java", "diffHunk": "@@ -267,7 +267,17 @@ private RelationPlan createExplainAnalyzePlan(Analysis analysis, Explain stateme\n         PlanNode root = underlyingPlan.getRoot();\n         Scope scope = analysis.getScope(statement);\n         Symbol outputSymbol = symbolAllocator.newSymbol(scope.getRelationType().getFieldByIndex(0));\n-        root = new ExplainAnalyzeNode(idAllocator.getNextId(), root, outputSymbol, statement.isVerbose());\n+\n+        ImmutableList.Builder<Symbol> actualOutputs = ImmutableList.builder();\n+        int columnNumber = 0;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc3MzMwMg=="}, "originalCommit": null, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5Njc0MDMzOnYy", "diffSide": "RIGHT", "path": "presto-main/src/main/java/io/prestosql/sql/planner/plan/ExplainAnalyzeNode.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwNjo0MzoxMlrOHX29BA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQwODozNzoyMlrOHaTJCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc3OTY1Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    this.actualOutputs = requireNonNull(actualOutputs, \"outputs is null\");\n          \n          \n            \n                    this.actualOutputs = requireNonNull(actualOutputs, \"actualOutputs is null\");", "url": "https://github.com/trinodb/trino/pull/5173#discussion_r494779652", "createdAt": "2020-09-25T06:43:12Z", "author": {"login": "kasiafi"}, "path": "presto-main/src/main/java/io/prestosql/sql/planner/plan/ExplainAnalyzeNode.java", "diffHunk": "@@ -31,18 +31,21 @@\n {\n     private final PlanNode source;\n     private final Symbol outputSymbol;\n+    private final List<Symbol> actualOutputs;\n     private final boolean verbose;\n \n     @JsonCreator\n     public ExplainAnalyzeNode(\n             @JsonProperty(\"id\") PlanNodeId id,\n             @JsonProperty(\"source\") PlanNode source,\n             @JsonProperty(\"outputSymbol\") Symbol outputSymbol,\n+            @JsonProperty(\"actualOutputs\") List<Symbol> actualOutputs,\n             @JsonProperty(\"verbose\") boolean verbose)\n     {\n         super(id);\n         this.source = requireNonNull(source, \"source is null\");\n         this.outputSymbol = requireNonNull(outputSymbol, \"outputSymbol is null\");\n+        this.actualOutputs = requireNonNull(actualOutputs, \"outputs is null\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzMzODYzMw==", "bodyText": "Applied comments", "url": "https://github.com/trinodb/trino/pull/5173#discussion_r497338633", "createdAt": "2020-09-30T08:37:22Z", "author": {"login": "Praveen2112"}, "path": "presto-main/src/main/java/io/prestosql/sql/planner/plan/ExplainAnalyzeNode.java", "diffHunk": "@@ -31,18 +31,21 @@\n {\n     private final PlanNode source;\n     private final Symbol outputSymbol;\n+    private final List<Symbol> actualOutputs;\n     private final boolean verbose;\n \n     @JsonCreator\n     public ExplainAnalyzeNode(\n             @JsonProperty(\"id\") PlanNodeId id,\n             @JsonProperty(\"source\") PlanNode source,\n             @JsonProperty(\"outputSymbol\") Symbol outputSymbol,\n+            @JsonProperty(\"actualOutputs\") List<Symbol> actualOutputs,\n             @JsonProperty(\"verbose\") boolean verbose)\n     {\n         super(id);\n         this.source = requireNonNull(source, \"source is null\");\n         this.outputSymbol = requireNonNull(outputSymbol, \"outputSymbol is null\");\n+        this.actualOutputs = requireNonNull(actualOutputs, \"outputs is null\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc3OTY1Mg=="}, "originalCommit": null, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5Njc1MDg2OnYy", "diffSide": "RIGHT", "path": "presto-main/src/main/java/io/prestosql/sql/planner/plan/ExplainAnalyzeNode.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwNjo0NzowMlrOHX3DNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQwODozNzoxNlrOHaTIuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc4MTIzNw==", "bodyText": "Please add a check that source output symbols contain all actualOutputs.", "url": "https://github.com/trinodb/trino/pull/5173#discussion_r494781237", "createdAt": "2020-09-25T06:47:02Z", "author": {"login": "kasiafi"}, "path": "presto-main/src/main/java/io/prestosql/sql/planner/plan/ExplainAnalyzeNode.java", "diffHunk": "@@ -31,18 +31,21 @@\n {\n     private final PlanNode source;\n     private final Symbol outputSymbol;\n+    private final List<Symbol> actualOutputs;\n     private final boolean verbose;\n \n     @JsonCreator\n     public ExplainAnalyzeNode(\n             @JsonProperty(\"id\") PlanNodeId id,\n             @JsonProperty(\"source\") PlanNode source,\n             @JsonProperty(\"outputSymbol\") Symbol outputSymbol,\n+            @JsonProperty(\"actualOutputs\") List<Symbol> actualOutputs,\n             @JsonProperty(\"verbose\") boolean verbose)\n     {\n         super(id);\n         this.source = requireNonNull(source, \"source is null\");\n         this.outputSymbol = requireNonNull(outputSymbol, \"outputSymbol is null\");\n+        this.actualOutputs = requireNonNull(actualOutputs, \"outputs is null\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzMzODU1Mw==", "bodyText": "Applied comments", "url": "https://github.com/trinodb/trino/pull/5173#discussion_r497338553", "createdAt": "2020-09-30T08:37:16Z", "author": {"login": "Praveen2112"}, "path": "presto-main/src/main/java/io/prestosql/sql/planner/plan/ExplainAnalyzeNode.java", "diffHunk": "@@ -31,18 +31,21 @@\n {\n     private final PlanNode source;\n     private final Symbol outputSymbol;\n+    private final List<Symbol> actualOutputs;\n     private final boolean verbose;\n \n     @JsonCreator\n     public ExplainAnalyzeNode(\n             @JsonProperty(\"id\") PlanNodeId id,\n             @JsonProperty(\"source\") PlanNode source,\n             @JsonProperty(\"outputSymbol\") Symbol outputSymbol,\n+            @JsonProperty(\"actualOutputs\") List<Symbol> actualOutputs,\n             @JsonProperty(\"verbose\") boolean verbose)\n     {\n         super(id);\n         this.source = requireNonNull(source, \"source is null\");\n         this.outputSymbol = requireNonNull(outputSymbol, \"outputSymbol is null\");\n+        this.actualOutputs = requireNonNull(actualOutputs, \"outputs is null\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc4MTIzNw=="}, "originalCommit": null, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExNDE4NDkxOnYy", "diffSide": "RIGHT", "path": "presto-main/src/main/java/io/prestosql/sql/planner/plan/ExplainAnalyzeNode.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxMTo0NDoyM1rOHaZlpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxMTo0NDoyM1rOHaZlpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQ0NDI2Mw==", "bodyText": "Do the non-null check first.", "url": "https://github.com/trinodb/trino/pull/5173#discussion_r497444263", "createdAt": "2020-09-30T11:44:23Z", "author": {"login": "kasiafi"}, "path": "presto-main/src/main/java/io/prestosql/sql/planner/plan/ExplainAnalyzeNode.java", "diffHunk": "@@ -31,18 +33,22 @@\n {\n     private final PlanNode source;\n     private final Symbol outputSymbol;\n+    private final List<Symbol> actualOutputs;\n     private final boolean verbose;\n \n     @JsonCreator\n     public ExplainAnalyzeNode(\n             @JsonProperty(\"id\") PlanNodeId id,\n             @JsonProperty(\"source\") PlanNode source,\n             @JsonProperty(\"outputSymbol\") Symbol outputSymbol,\n+            @JsonProperty(\"actualOutputs\") List<Symbol> actualOutputs,\n             @JsonProperty(\"verbose\") boolean verbose)\n     {\n         super(id);\n         this.source = requireNonNull(source, \"source is null\");\n         this.outputSymbol = requireNonNull(outputSymbol, \"outputSymbol is null\");\n+        checkArgument(ImmutableSet.copyOf(source.getOutputSymbols()).containsAll(actualOutputs), \"Source does not supply all required input symbols\");\n+        this.actualOutputs = requireNonNull(actualOutputs, \"actualOutputs is null\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 35}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3223, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}