{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgzMTU1NzQ1", "number": 5125, "title": "Fix Atop predicate pushdown", "bodyText": "", "createdAt": "2020-09-09T21:45:28Z", "url": "https://github.com/trinodb/trino/pull/5125", "merged": true, "mergeCommit": {"oid": "a82169e3fdd515cf59cfb43c87df1bd08b8b1e2d"}, "closed": true, "closedAt": "2020-09-10T07:14:04Z", "author": {"login": "findepi"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdHTNPlAH2gAyNDgzMTU1NzQ1OmU1NTQ4YmNiOWJiYWZjZWUzOTg5MjhhZjAxNDQ3OTkyMTM0YWY0YmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdHbcsagBqjM3NDkzNjQ5NzI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e5548bcb9bbafcee398928af01447992134af4be", "author": {"user": {"login": "findepi", "name": "Piotr Findeisen"}}, "url": "https://github.com/trinodb/trino/commit/e5548bcb9bbafcee398928af01447992134af4be", "committedDate": "2020-09-09T21:37:22Z", "message": "Remove duplicate assertion"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1NDI2NzMw", "url": "https://github.com/trinodb/trino/pull/5125#pullrequestreview-485426730", "createdAt": "2020-09-09T21:47:39Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQyMTo0NzozOVrOHPbeAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQyMTo0NzozOVrOHPbeAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTk0MDczOQ==", "bodyText": "1000 -> MILLISECONDS_PER_SECOND", "url": "https://github.com/trinodb/trino/pull/5125#discussion_r485940739", "createdAt": "2020-09-09T21:47:39Z", "author": {"login": "martint"}, "path": "presto-atop/src/main/java/io/prestosql/plugin/atop/AtopSplitManager.java", "diffHunk": "@@ -63,7 +65,14 @@ public ConnectorSplitSource getSplits(ConnectorTransactionHandle transactionHand\n             ZonedDateTime start = end.minusDays(maxHistoryDays - 1).withHour(0).withMinute(0).withSecond(0).withNano(0);\n             while (start.isBefore(end)) {\n                 ZonedDateTime splitEnd = start.withHour(23).withMinute(59).withSecond(59).withNano(0);\n-                Domain splitDomain = Domain.create(ValueSet.ofRanges(Range.range(TIMESTAMP_WITH_TIME_ZONE, 1000 * start.toEpochSecond(), true, 1000 * splitEnd.toEpochSecond(), true)), false);\n+                Domain splitDomain = Domain.create(\n+                        ValueSet.ofRanges(Range.range(\n+                                TIMESTAMP_TZ_MILLIS,\n+                                packDateTimeWithZone(1000 * start.toEpochSecond(), UTC_KEY),", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6592696fa0c67b9d2c71957c99bfd9f068bd69f", "author": {"user": {"login": "findepi", "name": "Piotr Findeisen"}}, "url": "https://github.com/trinodb/trino/commit/c6592696fa0c67b9d2c71957c99bfd9f068bd69f", "committedDate": "2020-09-10T07:13:18Z", "message": "Fix Atop predicate pushdown"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "c6592696fa0c67b9d2c71957c99bfd9f068bd69f", "author": {"user": {"login": "findepi", "name": "Piotr Findeisen"}}, "url": "https://github.com/trinodb/trino/commit/c6592696fa0c67b9d2c71957c99bfd9f068bd69f", "committedDate": "2020-09-10T07:13:18Z", "message": "Fix Atop predicate pushdown"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3945, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}