{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1MzQyMDE3", "number": 6047, "title": "Improve readability of product tests execution logs", "bodyText": "This PR modifies how different information is displayed while running product tests. Here are the examples:\n\nList of containers that are created during the environment startup:\n\n+---------------+-------------------+---------------------------+---------+----------------------------------------------------------------------------+\n|     container |              name |                     image | startup |                                                                      ports |\n+---------------+-------------------+---------------------------+---------+----------------------------------------------------------------------------+\n|         tests |         ptl-tests |  prestodev/centos6-oj8:34 |  7.77ms |                                                                            |\n| presto-master | ptl-presto-master | prestodev/centos7-oj11:34 |  44.02s |                                                                       8080 |\n| hadoop-master | ptl-hadoop-master |  prestodev/hdp2.6-hive:34 |  22.89s | 1180, 8020, 8042, 8088, 9000, 9083, 9864, 9870, 10000, 19888, 50070, 50075 |\n+---------------+-------------------+---------------------------+---------+----------------------------------------------------------------------------+\n\n\nList of test runs in a suite:\n\n+-------------------------------------------------------------+--------------------+-----------------+----------------------------------------------------+----------------+\n|                                                 environment |             groups | excluded groups |                                              tests | excluded tests |\n+-------------------------------------------------------------+--------------------+-----------------+----------------------------------------------------+----------------+\n|                                               multinode-tls |              smoke |     skip_on_cdh |                                                    |                |\n|                                                             |                cli |         iceberg |                                                    |                |\n|                                                             |           group-by |                 |                                                    |                |\n|                                                             |               join |                 |                                                    |                |\n|                                                             |                tls |                 |                                                    |                |\n+-------------------------------------------------------------+--------------------+-----------------+----------------------------------------------------+----------------+\n|                                      multinode-tls-kerberos |                cli |     skip_on_cdh |                                                    |                |\n|                                                             |           group-by |         iceberg |                                                    |                |\n|                                                             |               join |                 |                                                    |                |\n|                                                             |                tls |                 |                                                    |                |\n+-------------------------------------------------------------+--------------------+-----------------+----------------------------------------------------+----------------+\n| singlenode-kerberos-hdfs-impersonation-with-wire-encryption |    storage_formats |     skip_on_cdh |                                                    |                |\n|                                                             |                cli |         iceberg |                                                    |                |\n|                                                             | hdfs_impersonation |                 |                                                    |                |\n|                                                             |      authorization |                 |                                                    |                |\n+-------------------------------------------------------------+--------------------+-----------------+----------------------------------------------------+----------------+\n| singlenode-kerberos-hdfs-impersonation-with-data-protection |                    |     skip_on_cdh | TestHiveStorageFormats.testOrcTableCreatedInPresto |                |\n|                                                             |                    |         iceberg |                TestHiveCreateTable.testCreateTable |                |\n+-------------------------------------------------------------+--------------------+-----------------+----------------------------------------------------+----------------+\n\n\nSuite results:\n\n+----------------------------------+------------+-------------+----------------+---------+---------+--------------------------+\n|                               id |      suite | environment |         config |  status | elapsed |                    error |\n+----------------------------------+------------+-------------+----------------+---------+---------+--------------------------+\n| 86c31ba456914714acb8d4b3f795876e | suite-test |  singlenode | config-default | SUCCESS |   1.39m |                        - |\n| 65254e18fad84b84bb68d16847b1119e | suite-test |   multinode | config-default |  FAILED |   1.60m | Tests exited with code 1 |\n+----------------------------------+------------+-------------+----------------+---------+---------+--------------------------+\n\nThe suite run id was changed from a numeric index to a random UUID. I've added a marker in the suite execution that allows to quickly find where the suite started and finished.", "createdAt": "2020-11-22T19:22:21Z", "url": "https://github.com/trinodb/trino/pull/6047", "merged": true, "mergeCommit": {"oid": "02d7aa00858dedb1f95b732d03e0475e04ccd76a"}, "closed": true, "closedAt": "2020-11-24T11:04:33Z", "author": {"login": "wendigo"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfRCexgFqTUzNjI1OTUxMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfSViNABqjQwMjY4MjY4MTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MjU5NTEx", "url": "https://github.com/trinodb/trino/pull/6047#pullrequestreview-536259511", "createdAt": "2020-11-23T08:39:58Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QwODozOTo1OVrOH4De6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QwODozOTo1OVrOH4De6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODUzOTM2OQ==", "bodyText": "name it addSeparator", "url": "https://github.com/trinodb/trino/pull/6047#discussion_r528539369", "createdAt": "2020-11-23T08:39:59Z", "author": {"login": "losipiuk"}, "path": "presto-product-tests-launcher/src/main/java/io/prestosql/tests/product/launcher/util/ConsoleTable.java", "diffHunk": "@@ -0,0 +1,205 @@\n+/*\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package io.prestosql.tests.product.launcher.util;\n+\n+import com.google.common.base.Strings;\n+import com.google.common.collect.ImmutableList;\n+\n+import java.util.List;\n+import java.util.Objects;\n+import java.util.stream.Collectors;\n+\n+import static io.prestosql.tests.product.launcher.util.ConsoleTable.Alignment.RIGHT;\n+import static java.util.Objects.requireNonNull;\n+\n+public class ConsoleTable\n+{\n+    private ImmutableList.Builder<TableElement> builder = ImmutableList.builder();\n+\n+    public void addLine()", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MjYzNzEx", "url": "https://github.com/trinodb/trino/pull/6047#pullrequestreview-536263711", "createdAt": "2020-11-23T08:46:13Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c87228af4dfbae19b989e642d219a39c0396cbad", "author": {"user": {"login": "wendigo", "name": "Mateusz \"Serafin\" Gajewski"}}, "url": "https://github.com/trinodb/trino/commit/c87228af4dfbae19b989e642d219a39c0396cbad", "committedDate": "2020-11-23T09:58:20Z", "message": "Add utility class to render tabular data in the console"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fa991fa2514a75f54d427d4746506dd98b82a2e", "author": {"user": {"login": "wendigo", "name": "Mateusz \"Serafin\" Gajewski"}}, "url": "https://github.com/trinodb/trino/commit/7fa991fa2514a75f54d427d4746506dd98b82a2e", "committedDate": "2020-11-23T09:59:41Z", "message": "Format suite results as a table"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71bb89ce216760e16389f997b982befd69bb9779", "author": {"user": {"login": "wendigo", "name": "Mateusz \"Serafin\" Gajewski"}}, "url": "https://github.com/trinodb/trino/commit/71bb89ce216760e16389f997b982befd69bb9779", "committedDate": "2020-11-23T10:02:14Z", "message": "Format environment container list as table"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "18c1bac0b87484d6757604201aa390428b14276a", "author": {"user": {"login": "wendigo", "name": "Mateusz \"Serafin\" Gajewski"}}, "url": "https://github.com/trinodb/trino/commit/18c1bac0b87484d6757604201aa390428b14276a", "committedDate": "2020-11-23T10:05:24Z", "message": "Use random suite test run id to mark execution in logs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ac8eaf2592fc11df65468707bc242c602ac9d83", "author": {"user": {"login": "wendigo", "name": "Mateusz \"Serafin\" Gajewski"}}, "url": "https://github.com/trinodb/trino/commit/7ac8eaf2592fc11df65468707bc242c602ac9d83", "committedDate": "2020-11-23T10:08:20Z", "message": "Display multiline values in a table"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb450f614f1bd1eb1c3d44b7677ce41f4fb93b0a", "author": {"user": {"login": "wendigo", "name": "Mateusz \"Serafin\" Gajewski"}}, "url": "https://github.com/trinodb/trino/commit/fb450f614f1bd1eb1c3d44b7677ce41f4fb93b0a", "committedDate": "2020-11-23T10:09:27Z", "message": "Format suite test runs as a table"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "fb450f614f1bd1eb1c3d44b7677ce41f4fb93b0a", "author": {"user": {"login": "wendigo", "name": "Mateusz \"Serafin\" Gajewski"}}, "url": "https://github.com/trinodb/trino/commit/fb450f614f1bd1eb1c3d44b7677ce41f4fb93b0a", "committedDate": "2020-11-23T10:09:27Z", "message": "Format suite test runs as a table"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2241, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}