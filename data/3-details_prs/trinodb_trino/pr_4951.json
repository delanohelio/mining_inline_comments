{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcyNDM0ODYy", "number": 4951, "title": "Fail test run when testng listener fails", "bodyText": "", "createdAt": "2020-08-24T10:53:39Z", "url": "https://github.com/trinodb/trino/pull/4951", "merged": true, "mergeCommit": {"oid": "b88aa1d18d43d37c33232b3973f92f36f06c0469"}, "closed": true, "closedAt": "2020-08-24T14:54:09Z", "author": {"login": "findepi"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCAcRjAFqTQ3MzM1ODMxNQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdCCmu4ABqjM2ODU0MjgxNjk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMzU4MzE1", "url": "https://github.com/trinodb/trino/pull/4951#pullrequestreview-473358315", "createdAt": "2020-08-24T10:55:59Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMzU5MDg1", "url": "https://github.com/trinodb/trino/pull/4951#pullrequestreview-473359085", "createdAt": "2020-08-24T10:57:14Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxMDo1NzoxNFrOHFfXfA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxMDo1NzoxNFrOHFfXfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTUxODg0NA==", "bodyText": "Can you move wrapping into try/catch to Listeners class", "url": "https://github.com/trinodb/trino/pull/4951#discussion_r475518844", "createdAt": "2020-08-24T10:57:14Z", "author": {"login": "losipiuk"}, "path": "presto-testng-services/src/main/java/io/prestosql/testng/services/ReportIllNamedTest.java", "diffHunk": "@@ -16,14 +16,24 @@\n import org.testng.IClassListener;\n import org.testng.ITestClass;\n \n+import static io.prestosql.testng.services.Listeners.reportListenerFailure;\n import static io.prestosql.testng.services.ReportUnannotatedMethods.isTemptoClass;\n-import static java.lang.String.format;\n \n public class ReportIllNamedTest\n         implements IClassListener\n {\n     @Override\n     public void onBeforeClass(ITestClass testClass)\n+    {\n+        try {", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMzU5NzIx", "url": "https://github.com/trinodb/trino/pull/4951#pullrequestreview-473359721", "createdAt": "2020-08-24T10:58:21Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczNDE0MDY3", "url": "https://github.com/trinodb/trino/pull/4951#pullrequestreview-473414067", "createdAt": "2020-08-24T12:26:17Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczNDE1MTE1", "url": "https://github.com/trinodb/trino/pull/4951#pullrequestreview-473415115", "createdAt": "2020-08-24T12:27:52Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxMjoyNzo1MlrOHFiBSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNFQxMjoyNzo1MlrOHFiBSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTU2MjMxNA==", "bodyText": "I think it is too simple.\nIf it helps for now we could leave it.\nConvention tests do not fail because they are convention tests, but because they are using constructions that are problematic. Such construction could happen in the wild without convention tests.", "url": "https://github.com/trinodb/trino/pull/4951#discussion_r475562314", "createdAt": "2020-08-24T12:27:52Z", "author": {"login": "kokosing"}, "path": "presto-testng-services/src/main/java/io/prestosql/testng/services/ReportUnannotatedMethods.java", "diffHunk": "@@ -50,6 +50,13 @@ public void onBeforeClass(ITestClass testClass)\n     private void reportUnannotatedTestMethods(ITestClass testClass)\n     {\n         Class<?> realClass = testClass.getRealClass();\n+\n+        if (realClass.getSuperclass() != null &&", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestCommit", "commit": {"oid": "94c173ef9b3ac92d41b5ccdc866c437aeae12b62", "author": {"user": {"login": "findepi", "name": "Piotr Findeisen"}}, "url": "https://github.com/trinodb/trino/commit/94c173ef9b3ac92d41b5ccdc866c437aeae12b62", "committedDate": "2020-08-24T13:26:52Z", "message": "Fail test run when testng listener fails"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a09b7487f526ef365921c78310753ebcde67fcde", "author": {"user": {"login": "findepi", "name": "Piotr Findeisen"}}, "url": "https://github.com/trinodb/trino/commit/a09b7487f526ef365921c78310753ebcde67fcde", "committedDate": "2020-08-24T13:26:52Z", "message": "Ignore tempto generated convention tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "a09b7487f526ef365921c78310753ebcde67fcde", "author": {"user": {"login": "findepi", "name": "Piotr Findeisen"}}, "url": "https://github.com/trinodb/trino/commit/a09b7487f526ef365921c78310753ebcde67fcde", "committedDate": "2020-08-24T13:26:52Z", "message": "Ignore tempto generated convention tests"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4121, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}