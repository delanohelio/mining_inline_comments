{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2OTAxNjEz", "number": 4403, "title": "Don't implement and call deprecated ConnectorPageSourceProvider.createPageSource", "bodyText": "", "createdAt": "2020-07-09T14:35:35Z", "url": "https://github.com/trinodb/trino/pull/4403", "merged": true, "mergeCommit": {"oid": "b7959d41f322e98345d08c0469824fc4f667ce73"}, "closed": true, "closedAt": "2020-08-31T18:08:31Z", "author": {"login": "iirekm"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczRdTogFqTQ0NTc3MDczNQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdEQPPyAH2gAyNDQ2OTAxNjEzOmVhZjYwOTlkZjFkNDVjMDE4OWIxMWRjOGJiODc0ODZjOWM3NGQxZDE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1NzcwNzM1", "url": "https://github.com/trinodb/trino/pull/4403#pullrequestreview-445770735", "createdAt": "2020-07-09T16:16:37Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NzI4MjE4", "url": "https://github.com/trinodb/trino/pull/4403#pullrequestreview-446728218", "createdAt": "2020-07-10T22:13:04Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQyMjoxMzowNVrOGwHEhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQyMjoxNDo1OFrOGwHGgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzEwMDY3OA==", "bodyText": "This is, in general, not safe. It's better to have explicit per-test exclusions", "url": "https://github.com/trinodb/trino/pull/4403#discussion_r453100678", "createdAt": "2020-07-10T22:13:05Z", "author": {"login": "findepi"}, "path": "presto-spi/src/test/java/io/prestosql/spi/testing/InterfaceTestUtils.java", "diffHunk": "@@ -47,6 +47,10 @@ private InterfaceTestUtils() {}\n             if (method.getDeclaringClass() == Object.class) {\n                 continue;\n             }\n+            if (method.getAnnotation(Deprecated.class) != null) {\n+                // deprecated methods in interfaces exist for backwards compatibility only; they don't have to be implemented", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzEwMTE4NA==", "bodyText": "i'd prefer to keep it:\n\nit safes mental overhear required to justify not having it\nsomeone could use this class in their code and now would lose TCCL wrapping\n\nis there a benefit from removing it?", "url": "https://github.com/trinodb/trino/pull/4403#discussion_r453101184", "createdAt": "2020-07-10T22:14:58Z", "author": {"login": "findepi"}, "path": "presto-plugin-toolkit/src/main/java/io/prestosql/plugin/base/classloader/ClassLoaderSafeConnectorPageSourceProvider.java", "diffHunk": "@@ -42,14 +42,6 @@ public ClassLoaderSafeConnectorPageSourceProvider(@ForClassLoaderSafe ConnectorP\n         this.classLoader = requireNonNull(classLoader, \"classLoader is null\");\n     }\n \n-    @Override\n-    public ConnectorPageSource createPageSource(ConnectorTransactionHandle transaction, ConnectorSession session, ConnectorSplit split, ConnectorTableHandle table, List<ColumnHandle> columns)", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNTM1NjM1", "url": "https://github.com/trinodb/trino/pull/4403#pullrequestreview-450535635", "createdAt": "2020-07-17T10:06:04Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMDowNjowNFrOGzNVTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMDowNjowNFrOGzNVTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM0OTAwNA==", "bodyText": "Maybe it instead of this pull request we should simply remove this deprecated method? How long ago was it deprecated?", "url": "https://github.com/trinodb/trino/pull/4403#discussion_r456349004", "createdAt": "2020-07-17T10:06:04Z", "author": {"login": "kokosing"}, "path": "presto-pinot/src/main/java/io/prestosql/pinot/PinotPageSourceProvider.java", "diffHunk": "@@ -25,6 +25,7 @@\n import io.prestosql.spi.connector.ConnectorSplit;", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyNjE4MDI4", "url": "https://github.com/trinodb/trino/pull/4403#pullrequestreview-472618028", "createdAt": "2020-08-21T16:12:12Z", "commit": null, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxNjoxMjoxMlrOHEzHyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxNjoxMjoxMlrOHEzHyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDc5MzkzMA==", "bodyText": "Please remove this one", "url": "https://github.com/trinodb/trino/pull/4403#discussion_r474793930", "createdAt": "2020-08-21T16:12:12Z", "author": {"login": "findepi"}, "path": "presto-spi/src/test/java/io/prestosql/spi/testing/InterfaceTestUtils.java", "diffHunk": "@@ -47,6 +47,10 @@ private InterfaceTestUtils() {}\n             if (method.getDeclaringClass() == Object.class) {\n                 continue;\n             }\n+            if (method.getAnnotation(Deprecated.class) != null) {\n+                // deprecated methods in interfaces exist for backwards compatibility only; they don't have to be implemented", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzEwMDY3OA=="}, "originalCommit": null, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0NDAxMzQ5", "url": "https://github.com/trinodb/trino/pull/4403#pullrequestreview-474401349", "createdAt": "2020-08-25T11:48:13Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eaf6099df1d45c0189b11dc8bb87486c9c74d1d1", "author": {"user": null}, "url": "https://github.com/trinodb/trino/commit/eaf6099df1d45c0189b11dc8bb87486c9c74d1d1", "committedDate": "2020-08-31T10:28:04Z", "message": "Don't implement deprecated ConnectorPageSourceProvider.createPageSource"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 44, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}