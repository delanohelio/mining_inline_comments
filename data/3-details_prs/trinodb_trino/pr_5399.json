{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3MjA1OTY2", "number": 5399, "title": "Add support for COMMENT ON COLUMN in Oracle connector", "bodyText": "Related to #5333\nOracle doesn't support IS NULL syntax to remove existing comment.\nWe may want to enable remarksReporting in  OraclePoolConnectionFactory, but Oracle official documentation mentions:\n\nremarksReporting: If the value of this property is \"true\", OracleDatabaseMetaData will include remarks in the meta data. This can result in a substantial reduction in performance.\nhttps://docs.oracle.com/cd/E16338_01/appdev.112/e13995/oracle/jdbc/pool/OracleDataSource.html", "createdAt": "2020-10-03T03:20:53Z", "url": "https://github.com/trinodb/trino/pull/5399", "merged": true, "mergeCommit": {"oid": "8c1afc027da0e7902d8f6045ee43f6b89246d494"}, "closed": true, "closedAt": "2020-10-26T11:44:52Z", "author": {"login": "ebyhr"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdO01ejgBqjM4MzYyOTEzODg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWP5quAFqTUxNjU0MzQwMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MzY1MzU5", "url": "https://github.com/trinodb/trino/pull/5399#pullrequestreview-506365359", "createdAt": "2020-10-12T07:40:35Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwNzo0MDozNVrOHfyj8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwNzo0MDozNVrOHfyj8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzA5NjMwNw==", "bodyText": "So with this approach comments would be supported only if user of the connector adds remarksReporting=true into db URL.\nI would suggest that we add the parameter in io.prestosql.plugin.oracle.OracleClientModule#connectionFactory().", "url": "https://github.com/trinodb/trino/pull/5399#discussion_r503096307", "createdAt": "2020-10-12T07:40:35Z", "author": {"login": "losipiuk"}, "path": "presto-oracle/src/test/java/io/prestosql/plugin/oracle/TestingOracleServer.java", "diffHunk": "@@ -87,7 +87,7 @@ public TestingOracleServer()\n     @Override\n     public String getJdbcUrl()\n     {\n-        return \"jdbc:oracle:thin:@\" + getHost() + \":\" + getOraclePort() + \":\" + getSid();\n+        return \"jdbc:oracle:thin:@\" + getHost() + \":\" + getOraclePort() + \":\" + getSid() + \"?remarksReporting=true\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5MTk2MDQx", "url": "https://github.com/trinodb/trino/pull/5399#pullrequestreview-509196041", "createdAt": "2020-10-15T09:37:24Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fdaccbaa587dc23c3acd0d8eedd8f22d714353ae", "author": {"user": {"login": "ebyhr", "name": "Yuya Ebihara"}}, "url": "https://github.com/trinodb/trino/commit/fdaccbaa587dc23c3acd0d8eedd8f22d714353ae", "committedDate": "2020-10-15T11:16:53Z", "message": "Remove redundant spaces in Oracle documentation"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExNDk3MjYy", "url": "https://github.com/trinodb/trino/pull/5399#pullrequestreview-511497262", "createdAt": "2020-10-19T07:54:56Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwNzo1NDo1NlrOHkB_Xw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwNzo1NDo1NlrOHkB_Xw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzU0MzM5MQ==", "bodyText": "Maybe it is worth adding that it may have negative performance implications?\n@electrum, @mosabua WDYT?", "url": "https://github.com/trinodb/trino/pull/5399#discussion_r507543391", "createdAt": "2020-10-19T07:54:56Z", "author": {"login": "losipiuk"}, "path": "presto-docs/src/main/sphinx/connector/oracle.rst", "diffHunk": "@@ -20,6 +20,11 @@ properties in the file:\n     connection-user=root\n     connection-password=secret\n \n+.. note::", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80f3fbaf581328a82688cf960f26cf430366f3ea", "author": {"user": {"login": "ebyhr", "name": "Yuya Ebihara"}}, "url": "https://github.com/trinodb/trino/commit/80f3fbaf581328a82688cf960f26cf430366f3ea", "committedDate": "2020-10-20T08:42:03Z", "message": "Add support for COMMENT ON COLUMN in Oracle connector"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "80f3fbaf581328a82688cf960f26cf430366f3ea", "author": {"user": {"login": "ebyhr", "name": "Yuya Ebihara"}}, "url": "https://github.com/trinodb/trino/commit/80f3fbaf581328a82688cf960f26cf430366f3ea", "committedDate": "2020-10-20T08:42:03Z", "message": "Add support for COMMENT ON COLUMN in Oracle connector"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzMjExMDUz", "url": "https://github.com/trinodb/trino/pull/5399#pullrequestreview-513211053", "createdAt": "2020-10-20T23:43:24Z", "commit": {"oid": "80f3fbaf581328a82688cf960f26cf430366f3ea"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NTQzNDAx", "url": "https://github.com/trinodb/trino/pull/5399#pullrequestreview-516543401", "createdAt": "2020-10-26T08:15:08Z", "commit": {"oid": "80f3fbaf581328a82688cf960f26cf430366f3ea"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3586, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}