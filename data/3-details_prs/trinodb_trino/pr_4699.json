{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzMzg0OTI1", "number": 4699, "title": "Update development practices", "bodyText": "Update development practices\nAddress:\n\nImmutable collections and Java 9 unmodifiable collections\nusing var\nstress keeping good quality of test code", "createdAt": "2020-08-05T13:29:27Z", "url": "https://github.com/trinodb/trino/pull/4699", "merged": true, "mergeCommit": {"oid": "8a37910b75fb9041e14f34d9e464541a4faf2b65"}, "closed": true, "closedAt": "2020-08-31T20:26:35Z", "author": {"login": "kokosing"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8L1RigFqTQ2MjMwNzA1MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdEWfVQAFqTQ3ODgxNTE3MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyMzA3MDUw", "url": "https://github.com/trinodb/trino/pull/4699#pullrequestreview-462307050", "createdAt": "2020-08-06T08:43:56Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwODo0Mzo1NlrOG8pPMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQwODo0ODozOFrOG8paOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjI0MzM3OQ==", "bodyText": "Consider changing It is allowed to declare public members\nto\nIt is allowed to declare public and protected?", "url": "https://github.com/trinodb/trino/pull/4699#discussion_r466243379", "createdAt": "2020-08-06T08:43:56Z", "author": {"login": "sopel39"}, "path": "DEVELOPMENT.md", "diffHunk": "@@ -10,6 +10,11 @@ We recommend you use IntelliJ as your IDE. The code style template for the proje\n * Ensure that all files have the appropriate license header; you can generate the license by running `mvn license:format`.\n * Consider using String formatting (printf style formatting using the Java `Formatter` class): `format(\"Session property %s is invalid: %s\", name, value)` (note that `format()` should always be statically imported). Sometimes, if you only need to append something, consider using the `+` operator.\n * Avoid using the ternary operator except for trivial expressions.\n+* It is allowed to declare public members in private inner classes if they are part of their API.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjI0NDE1OQ==", "bodyText": "be more specific maybe.\nUsing ``var`` is allowed when it improves code readability and does not obscure types when reading code from GitHub\n\nHowever, I thought we are more keen on not using vars as it's not clearly obvious when they improve readability", "url": "https://github.com/trinodb/trino/pull/4699#discussion_r466244159", "createdAt": "2020-08-06T08:45:12Z", "author": {"login": "sopel39"}, "path": "DEVELOPMENT.md", "diffHunk": "@@ -16,6 +16,9 @@ interactions, and other internal behavior, which leads to fragile tests.\n They also make it possible to mock complex interfaces or classes, which hides the fact that these classes are not (easily) testable. \n We prefer to write mocks by hand, which forces code to be written in a certain testable style.\n * Use an assertion from Airlift's `Assertions` class if there is one that covers your case rather than writing the assertion by hand. Over time we may move over to more fluent assertions like AssertJ.\n+* Using ``var`` is allowed.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjI0NjIwMg==", "bodyText": "Maybe add some rationale here:\n * Guava immutable collections preserve insertion order which is important for planning and query determinism\n * Guava ``copyOf`` does not make a copy of collection if source collection is also Guava immutable collection.", "url": "https://github.com/trinodb/trino/pull/4699#discussion_r466246202", "createdAt": "2020-08-06T08:48:38Z", "author": {"login": "sopel39"}, "path": "DEVELOPMENT.md", "diffHunk": "@@ -16,6 +16,9 @@ interactions, and other internal behavior, which leads to fragile tests.\n They also make it possible to mock complex interfaces or classes, which hides the fact that these classes are not (easily) testable. \n We prefer to write mocks by hand, which forces code to be written in a certain testable style.\n * Use an assertion from Airlift's `Assertions` class if there is one that covers your case rather than writing the assertion by hand. Over time we may move over to more fluent assertions like AssertJ.\n+* Using ``var`` is allowed.\n+* Prefer using immutable collections from Guava over unmodifiable collections from JDK.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMTM0MjUx", "url": "https://github.com/trinodb/trino/pull/4699#pullrequestreview-463134251", "createdAt": "2020-08-07T08:35:21Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNTA0MDUw", "url": "https://github.com/trinodb/trino/pull/4699#pullrequestreview-462504050", "createdAt": "2020-08-06T13:12:50Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMzoxMjo1MFrOG8y4cg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMzoxMjo1MFrOG8y4cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjQwMTM5NA==", "bodyText": "Maybe, we should fill in []?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Information about the development process can be found in the [](./DEVELOPMENT.md).\n          \n          \n            \n            Information about the development process can be found in the [DEVELOPMENT](./DEVELOPMENT.md).", "url": "https://github.com/trinodb/trino/pull/4699#discussion_r466401394", "createdAt": "2020-08-06T13:12:50Z", "author": {"login": "ebyhr"}, "path": "README.md", "diffHunk": "@@ -85,59 +85,4 @@ In the sample configuration, the Hive connector is mounted in the `hive` catalog\n \n ## Development\n \n-### Code Style\n-\n-We recommend you use IntelliJ as your IDE. The code style template for the project can be found in the [codestyle](https://github.com/airlift/codestyle) repository along with our general programming and Java guidelines. In addition to those you should also adhere to the following:\n-\n-* Alphabetize sections in the documentation source files (both in the table of contents files and other regular documentation files). In general, alphabetize methods/variables/sections if such ordering already exists in the surrounding code.\n-* When appropriate, use the stream API. However, note that the stream implementation does not perform well so avoid using it in inner loops or otherwise performance sensitive sections.\n-* Categorize errors when throwing exceptions. For example, PrestoException takes an error code as an argument, `PrestoException(HIVE_TOO_MANY_OPEN_PARTITIONS)`. This categorization lets you generate reports so you can monitor the frequency of various failures.\n-* Ensure that all files have the appropriate license header; you can generate the license by running `mvn license:format`.\n-* Consider using String formatting (printf style formatting using the Java `Formatter` class): `format(\"Session property %s is invalid: %s\", name, value)` (note that `format()` should always be statically imported). Sometimes, if you only need to append something, consider using the `+` operator.\n-* Avoid using the ternary operator except for trivial expressions.\n-* Use an assertion from Airlift's `Assertions` class if there is one that covers your case rather than writing the assertion by hand. Over time we may move over to more fluent assertions like AssertJ.\n-* When writing a Git commit message, follow these [guidelines](https://chris.beams.io/posts/git-commit/).\n-\n-### Additional IDE configuration\n-\n-When using IntelliJ to develop Presto, we recommend starting with all of the default inspections,\n-with some modifications.\n-\n-Enable the following inspections:\n-\n-- ``Java | Internationalization | Implicit usage of platform's default charset``,\n-- ``Java | Control flow issues | Redundant 'else'`` (including ``Report when there are no more statements after the 'if' statement`` option),\n-- ``Java | Class structure | Utility class is not 'final'``,\n-- ``Java | Class structure | Utility class with 'public' constructor``,\n-- ``Java | Class structure | Utility class without 'private' constructor``.\n-\n-Disable the following inspections:\n-\n-- ``Java | Performance | Call to 'Arrays.asList()' with too few arguments``,\n-- ``Java | Abstraction issues | 'Optional' used as field or parameter type``.\n-\n-Enable errorprone ([Error Prone Installation#IDEA](https://errorprone.info/docs/installation#intellij-idea)):\n-- Install ``Error Prone Compiler`` plugin from marketplace,\n-- In ``Java Compiler`` tab, select ``Javac with error-prone`` as the compiler,\n-- Update ``Additional command line parameters`` with ``-XepExcludedPaths:.*/target/generated-(|test-)sources/.* -XepDisableAllChecks -Xep:MissingOverride:ERROR ......`` (for current recommended list of command line parameters, see the top level ``pom.xml``, the definition of the ``errorprone-compiler-presto`` profile.\n-\n-### Building the Web UI\n-\n-The Presto Web UI is composed of several React components and is written in JSX and ES6. This source code is compiled and packaged into browser-compatible Javascript, which is then checked in to the Presto source code (in the `dist` folder). You must have [Node.js](https://nodejs.org/en/download/) and [Yarn](https://yarnpkg.com/en/) installed to execute these commands. To update this folder after making changes, simply run:\n-\n-    yarn --cwd presto-main/src/main/resources/webapp/src install\n-\n-If no Javascript dependencies have changed (i.e., no changes to `package.json`), it is faster to run:\n-\n-    yarn --cwd presto-main/src/main/resources/webapp/src run package\n-\n-To simplify iteration, you can also run in `watch` mode, which automatically re-compiles when changes to source files are detected:\n-\n-    yarn --cwd presto-main/src/main/resources/webapp/src run watch\n-\n-To iterate quickly, simply re-build the project in IntelliJ after packaging is complete. Project resources will be hot-reloaded and changes are reflected on browser refresh.\n-\n-## Writing and Building Documentation\n-\n-More information about the documentation process can be found in the\n-[README file in presto-docs](./presto-docs/README.md).\n+Information about the development process can be found in the [](./DEVELOPMENT.md).", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 60}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3NDY5NTEz", "url": "https://github.com/trinodb/trino/pull/4699#pullrequestreview-467469513", "createdAt": "2020-08-14T10:22:38Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxMDoyMjozOVrOHAvljQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNFQxMDoyMjozOVrOHAvljQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDU0MTcwOQ==", "bodyText": "s/Avoid using/Do not use", "url": "https://github.com/trinodb/trino/pull/4699#discussion_r470541709", "createdAt": "2020-08-14T10:22:39Z", "author": {"login": "losipiuk"}, "path": "DEVELOPMENT.md", "diffHunk": "@@ -10,6 +10,11 @@ We recommend you use IntelliJ as your IDE. The code style template for the proje\n * Ensure that all files have the appropriate license header; you can generate the license by running `mvn license:format`.\n * Consider using String formatting (printf style formatting using the Java `Formatter` class): `format(\"Session property %s is invalid: %s\", name, value)` (note that `format()` should always be statically imported). Sometimes, if you only need to append something, consider using the `+` operator.\n * Avoid using the ternary operator except for trivial expressions.\n+* It is allowed to declare public members in private inner classes if they are part of their API.\n+* Avoid using mocking libraries like Mockito. These libraries encourage testing specific call sequences,", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3NDcwODM2", "url": "https://github.com/trinodb/trino/pull/4699#pullrequestreview-467470836", "createdAt": "2020-08-14T10:25:04Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxNDg4ODMx", "url": "https://github.com/trinodb/trino/pull/4699#pullrequestreview-471488831", "createdAt": "2020-08-20T11:06:16Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxMTowNjoxNlrOHD74DQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxMTowODoyOVrOHD784w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzg4ODc4MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Information about the development process can be found in the [DEVELOPMENT](./DEVELOPMENT.md).\n          \n          \n            \n            See [DEVELOPMENT](./DEVELOPMENT.md) for information about code style, development process & guidelines.", "url": "https://github.com/trinodb/trino/pull/4699#discussion_r473888781", "createdAt": "2020-08-20T11:06:16Z", "author": {"login": "findepi"}, "path": "README.md", "diffHunk": "@@ -85,59 +85,4 @@ In the sample configuration, the Hive connector is mounted in the `hive` catalog\n \n ## Development\n \n-### Code Style\n-\n-We recommend you use IntelliJ as your IDE. The code style template for the project can be found in the [codestyle](https://github.com/airlift/codestyle) repository along with our general programming and Java guidelines. In addition to those you should also adhere to the following:\n-\n-* Alphabetize sections in the documentation source files (both in the table of contents files and other regular documentation files). In general, alphabetize methods/variables/sections if such ordering already exists in the surrounding code.\n-* When appropriate, use the stream API. However, note that the stream implementation does not perform well so avoid using it in inner loops or otherwise performance sensitive sections.\n-* Categorize errors when throwing exceptions. For example, PrestoException takes an error code as an argument, `PrestoException(HIVE_TOO_MANY_OPEN_PARTITIONS)`. This categorization lets you generate reports so you can monitor the frequency of various failures.\n-* Ensure that all files have the appropriate license header; you can generate the license by running `mvn license:format`.\n-* Consider using String formatting (printf style formatting using the Java `Formatter` class): `format(\"Session property %s is invalid: %s\", name, value)` (note that `format()` should always be statically imported). Sometimes, if you only need to append something, consider using the `+` operator.\n-* Avoid using the ternary operator except for trivial expressions.\n-* Use an assertion from Airlift's `Assertions` class if there is one that covers your case rather than writing the assertion by hand. Over time we may move over to more fluent assertions like AssertJ.\n-* When writing a Git commit message, follow these [guidelines](https://chris.beams.io/posts/git-commit/).\n-\n-### Additional IDE configuration\n-\n-When using IntelliJ to develop Presto, we recommend starting with all of the default inspections,\n-with some modifications.\n-\n-Enable the following inspections:\n-\n-- ``Java | Internationalization | Implicit usage of platform's default charset``,\n-- ``Java | Control flow issues | Redundant 'else'`` (including ``Report when there are no more statements after the 'if' statement`` option),\n-- ``Java | Class structure | Utility class is not 'final'``,\n-- ``Java | Class structure | Utility class with 'public' constructor``,\n-- ``Java | Class structure | Utility class without 'private' constructor``.\n-\n-Disable the following inspections:\n-\n-- ``Java | Performance | Call to 'Arrays.asList()' with too few arguments``,\n-- ``Java | Abstraction issues | 'Optional' used as field or parameter type``.\n-\n-Enable errorprone ([Error Prone Installation#IDEA](https://errorprone.info/docs/installation#intellij-idea)):\n-- Install ``Error Prone Compiler`` plugin from marketplace,\n-- In ``Java Compiler`` tab, select ``Javac with error-prone`` as the compiler,\n-- Update ``Additional command line parameters`` with ``-XepExcludedPaths:.*/target/generated-(|test-)sources/.* -XepDisableAllChecks -Xep:MissingOverride:ERROR ......`` (for current recommended list of command line parameters, see the top level ``pom.xml``, the definition of the ``errorprone-compiler-presto`` profile.\n-\n-### Building the Web UI\n-\n-The Presto Web UI is composed of several React components and is written in JSX and ES6. This source code is compiled and packaged into browser-compatible Javascript, which is then checked in to the Presto source code (in the `dist` folder). You must have [Node.js](https://nodejs.org/en/download/) and [Yarn](https://yarnpkg.com/en/) installed to execute these commands. To update this folder after making changes, simply run:\n-\n-    yarn --cwd presto-main/src/main/resources/webapp/src install\n-\n-If no Javascript dependencies have changed (i.e., no changes to `package.json`), it is faster to run:\n-\n-    yarn --cwd presto-main/src/main/resources/webapp/src run package\n-\n-To simplify iteration, you can also run in `watch` mode, which automatically re-compiles when changes to source files are detected:\n-\n-    yarn --cwd presto-main/src/main/resources/webapp/src run watch\n-\n-To iterate quickly, simply re-build the project in IntelliJ after packaging is complete. Project resources will be hot-reloaded and changes are reflected on browser refresh.\n-\n-### Writing and Building Documentation\n-\n-More information about the documentation process can be found in the\n-[README file in presto-docs](./presto-docs/README.md).\n+Information about the development process can be found in the [DEVELOPMENT](./DEVELOPMENT.md).", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 60}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzg4OTA2OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * It is suggested to declare public members in private inner classes if they are part of their API.\n          \n          \n            \n            * It is suggested to declare members in private inner classes as public if they are part of the class API.", "url": "https://github.com/trinodb/trino/pull/4699#discussion_r473889069", "createdAt": "2020-08-20T11:06:52Z", "author": {"login": "findepi"}, "path": "DEVELOPMENT.md", "diffHunk": "@@ -10,7 +10,15 @@ We recommend you use IntelliJ as your IDE. The code style template for the proje\n * Ensure that all files have the appropriate license header; you can generate the license by running `mvn license:format`.\n * Consider using String formatting (printf style formatting using the Java `Formatter` class): `format(\"Session property %s is invalid: %s\", name, value)` (note that `format()` should always be statically imported). Sometimes, if you only need to append something, consider using the `+` operator.\n * Avoid using the ternary operator except for trivial expressions.\n+* It is suggested to declare public members in private inner classes if they are part of their API.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3Mzg5MDAxOQ==", "bodyText": "indent\nsmall rewording\n\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            * Do not use mocking libraries like Mockito. These libraries encourage testing specific call sequences,\n          \n          \n            \n            interactions, and other internal behavior, which leads to fragile tests.\n          \n          \n            \n            They also make it possible to mock complex interfaces or classes, which hides the fact that these classes are not (easily) testable.\n          \n          \n            \n            We prefer to write mocks by hand, which forces code to be written in a certain testable style.\n          \n          \n            \n            * Do not use mocking libraries. These libraries encourage testing specific call sequences,\n          \n          \n            \n              interactions, and other internal behavior, which we believe leads to fragile tests.\n          \n          \n            \n              They also make it possible to mock complex interfaces or classes, which hides the fact that these classes are not \n          \n          \n            \n              (easily) testable.\n          \n          \n            \n              We prefer to write mocks by hand, which forces code to be written in a certain testable style.", "url": "https://github.com/trinodb/trino/pull/4699#discussion_r473890019", "createdAt": "2020-08-20T11:08:29Z", "author": {"login": "findepi"}, "path": "DEVELOPMENT.md", "diffHunk": "@@ -10,7 +10,15 @@ We recommend you use IntelliJ as your IDE. The code style template for the proje\n * Ensure that all files have the appropriate license header; you can generate the license by running `mvn license:format`.\n * Consider using String formatting (printf style formatting using the Java `Formatter` class): `format(\"Session property %s is invalid: %s\", name, value)` (note that `format()` should always be statically imported). Sometimes, if you only need to append something, consider using the `+` operator.\n * Avoid using the ternary operator except for trivial expressions.\n+* It is suggested to declare public members in private inner classes if they are part of their API.\n+* Do not use mocking libraries like Mockito. These libraries encourage testing specific call sequences,\n+interactions, and other internal behavior, which leads to fragile tests.\n+They also make it possible to mock complex interfaces or classes, which hides the fact that these classes are not (easily) testable.\n+We prefer to write mocks by hand, which forces code to be written in a certain testable style.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 8}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4MjE3ODgw", "url": "https://github.com/trinodb/trino/pull/4699#pullrequestreview-478217880", "createdAt": "2020-08-30T16:43:14Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4MjMxNDA3", "url": "https://github.com/trinodb/trino/pull/4699#pullrequestreview-478231407", "createdAt": "2020-08-30T20:19:56Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQyMDoxOTo1NlrOHJlXUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMFQyMDoyNzoyNFrOHJlZ_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgxMTQxMQ==", "bodyText": "string format can be crazy slow, so should not be used in performance critical sections of code.", "url": "https://github.com/trinodb/trino/pull/4699#discussion_r479811411", "createdAt": "2020-08-30T20:19:56Z", "author": {"login": "dain"}, "path": "DEVELOPMENT.md", "diffHunk": "@@ -0,0 +1,67 @@\n+## Development\n+\n+### Code Style\n+\n+We recommend you use IntelliJ as your IDE. The code style template for the project can be found in the [codestyle](https://github.com/airlift/codestyle) repository along with our general programming and Java guidelines. In addition to those you should also adhere to the following:\n+\n+* Alphabetize sections in the documentation source files (both in the table of contents files and other regular documentation files). In general, alphabetize methods/variables/sections if such ordering already exists in the surrounding code.\n+* When appropriate, use the stream API. However, note that the stream implementation does not perform well so avoid using it in inner loops or otherwise performance sensitive sections.\n+* Categorize errors when throwing exceptions. For example, PrestoException takes an error code as an argument, `PrestoException(HIVE_TOO_MANY_OPEN_PARTITIONS)`. This categorization lets you generate reports so you can monitor the frequency of various failures.\n+* Ensure that all files have the appropriate license header; you can generate the license by running `mvn license:format`.\n+* Consider using String formatting (printf style formatting using the Java `Formatter` class): `format(\"Session property %s is invalid: %s\", name, value)` (note that `format()` should always be statically imported). Sometimes, if you only need to append something, consider using the `+` operator.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgxMTcxMA==", "bodyText": "Developers should read the development section of the website, which covers thing like development philosophy and contribution process https://prestosql.io/development/", "url": "https://github.com/trinodb/trino/pull/4699#discussion_r479811710", "createdAt": "2020-08-30T20:23:02Z", "author": {"login": "dain"}, "path": "DEVELOPMENT.md", "diffHunk": "@@ -0,0 +1,67 @@\n+## Development", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgxMTkxNA==", "bodyText": "I there an ordering to this section list most important to least, or grouped by category?", "url": "https://github.com/trinodb/trino/pull/4699#discussion_r479811914", "createdAt": "2020-08-30T20:25:19Z", "author": {"login": "dain"}, "path": "DEVELOPMENT.md", "diffHunk": "@@ -0,0 +1,67 @@\n+## Development\n+\n+### Code Style\n+\n+We recommend you use IntelliJ as your IDE. The code style template for the project can be found in the [codestyle](https://github.com/airlift/codestyle) repository along with our general programming and Java guidelines. In addition to those you should also adhere to the following:\n+\n+* Alphabetize sections in the documentation source files (both in the table of contents files and other regular documentation files). In general, alphabetize methods/variables/sections if such ordering already exists in the surrounding code.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgxMjA5Mw==", "bodyText": "We should mention somewhere: no abbreviations, slang or inside jokes as this make is harder for non-native english speaker to understand the code.", "url": "https://github.com/trinodb/trino/pull/4699#discussion_r479812093", "createdAt": "2020-08-30T20:27:24Z", "author": {"login": "dain"}, "path": "DEVELOPMENT.md", "diffHunk": "@@ -0,0 +1,67 @@\n+## Development\n+\n+### Code Style", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 3}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79f2cd21230a2a3e95f94d0311df524a8deef34e", "author": {"user": {"login": "kokosing", "name": "Grzegorz Kokosi\u0144ski"}}, "url": "https://github.com/trinodb/trino/commit/79f2cd21230a2a3e95f94d0311df524a8deef34e", "committedDate": "2020-08-31T08:31:58Z", "message": "Put writing and building docs under Development section"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91edeeee42abd55b660e821406a992e7fcad4584", "author": {"user": {"login": "kokosing", "name": "Grzegorz Kokosi\u0144ski"}}, "url": "https://github.com/trinodb/trino/commit/91edeeee42abd55b660e821406a992e7fcad4584", "committedDate": "2020-08-31T08:31:58Z", "message": "Move Development section to separate file\n\nMost of the people that go through README.md file are not interested\nabout participating in project but more about using this."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "afd208438a55b7c31d346409baa112e24f8e5288", "author": {"user": {"login": "kokosing", "name": "Grzegorz Kokosi\u0144ski"}}, "url": "https://github.com/trinodb/trino/commit/afd208438a55b7c31d346409baa112e24f8e5288", "committedDate": "2020-08-31T10:05:15Z", "message": "Update development practices\n\nAddress:\n - Inline codestyle notes from wiki\n - Immutable collections and Java 9 unmodifiable collections\n - using var\n - stress keeping good quality of test code\n - no abbrevations, slang or inside jokes\n - mention https://prestosql.io/development/"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "afd208438a55b7c31d346409baa112e24f8e5288", "author": {"user": {"login": "kokosing", "name": "Grzegorz Kokosi\u0144ski"}}, "url": "https://github.com/trinodb/trino/commit/afd208438a55b7c31d346409baa112e24f8e5288", "committedDate": "2020-08-31T10:05:15Z", "message": "Update development practices\n\nAddress:\n - Inline codestyle notes from wiki\n - Immutable collections and Java 9 unmodifiable collections\n - using var\n - stress keeping good quality of test code\n - no abbrevations, slang or inside jokes\n - mention https://prestosql.io/development/"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4NDE4Mzg2", "url": "https://github.com/trinodb/trino/pull/4699#pullrequestreview-478418386", "createdAt": "2020-08-31T08:29:03Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQwODoyOTowM1rOHJvePw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQwODozMTowNVrOHJvibg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTk3NzAyMw==", "bodyText": "Not yet.", "url": "https://github.com/trinodb/trino/pull/4699#discussion_r479977023", "createdAt": "2020-08-31T08:29:03Z", "author": {"login": "kokosing"}, "path": "DEVELOPMENT.md", "diffHunk": "@@ -0,0 +1,67 @@\n+## Development\n+\n+### Code Style\n+\n+We recommend you use IntelliJ as your IDE. The code style template for the project can be found in the [codestyle](https://github.com/airlift/codestyle) repository along with our general programming and Java guidelines. In addition to those you should also adhere to the following:\n+\n+* Alphabetize sections in the documentation source files (both in the table of contents files and other regular documentation files). In general, alphabetize methods/variables/sections if such ordering already exists in the surrounding code.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgxMTkxNA=="}, "originalCommit": null, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTk3NzM0OA==", "bodyText": "Nice, thanks!", "url": "https://github.com/trinodb/trino/pull/4699#discussion_r479977348", "createdAt": "2020-08-31T08:29:43Z", "author": {"login": "kokosing"}, "path": "DEVELOPMENT.md", "diffHunk": "@@ -0,0 +1,67 @@\n+## Development\n+\n+### Code Style", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgxMjA5Mw=="}, "originalCommit": null, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTk3ODAyNA==", "bodyText": "added.", "url": "https://github.com/trinodb/trino/pull/4699#discussion_r479978024", "createdAt": "2020-08-31T08:30:58Z", "author": {"login": "kokosing"}, "path": "DEVELOPMENT.md", "diffHunk": "@@ -0,0 +1,67 @@\n+## Development\n+\n+### Code Style\n+\n+We recommend you use IntelliJ as your IDE. The code style template for the project can be found in the [codestyle](https://github.com/airlift/codestyle) repository along with our general programming and Java guidelines. In addition to those you should also adhere to the following:\n+\n+* Alphabetize sections in the documentation source files (both in the table of contents files and other regular documentation files). In general, alphabetize methods/variables/sections if such ordering already exists in the surrounding code.\n+* When appropriate, use the stream API. However, note that the stream implementation does not perform well so avoid using it in inner loops or otherwise performance sensitive sections.\n+* Categorize errors when throwing exceptions. For example, PrestoException takes an error code as an argument, `PrestoException(HIVE_TOO_MANY_OPEN_PARTITIONS)`. This categorization lets you generate reports so you can monitor the frequency of various failures.\n+* Ensure that all files have the appropriate license header; you can generate the license by running `mvn license:format`.\n+* Consider using String formatting (printf style formatting using the Java `Formatter` class): `format(\"Session property %s is invalid: %s\", name, value)` (note that `format()` should always be statically imported). Sometimes, if you only need to append something, consider using the `+` operator.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgxMTQxMQ=="}, "originalCommit": null, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTk3ODA5NA==", "bodyText": "added", "url": "https://github.com/trinodb/trino/pull/4699#discussion_r479978094", "createdAt": "2020-08-31T08:31:05Z", "author": {"login": "kokosing"}, "path": "DEVELOPMENT.md", "diffHunk": "@@ -0,0 +1,67 @@\n+## Development", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTgxMTcxMA=="}, "originalCommit": null, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4ODE1MTcx", "url": "https://github.com/trinodb/trino/pull/4699#pullrequestreview-478815171", "createdAt": "2020-08-31T17:45:04Z", "commit": {"oid": "afd208438a55b7c31d346409baa112e24f8e5288"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4635, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}