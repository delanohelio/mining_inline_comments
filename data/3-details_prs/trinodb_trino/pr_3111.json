{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg5NDU3MjU4", "number": 3111, "title": "Add note about parallel reads from topics", "bodyText": "Replaces #3088", "createdAt": "2020-03-16T19:37:28Z", "url": "https://github.com/trinodb/trino/pull/3111", "merged": true, "mergeCommit": {"oid": "8b722697e79ce29b7c78b9465422e165bd3afa21"}, "closed": true, "closedAt": "2020-04-07T21:15:05Z", "author": {"login": "mosabua"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcOTb7BgBqjMxMzQ3MDY0MDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRJGkfgBqjMxNjQ0NDY4NTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1NTUxNDU3", "url": "https://github.com/trinodb/trino/pull/3111#pullrequestreview-375551457", "createdAt": "2020-03-16T20:15:32Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQyMDoxNTozMlrOF3EP5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQyMDoxNTozMlrOF3EP5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzI4NTYwNg==", "bodyText": "100.000\n\nmight be confusing in the US...", "url": "https://github.com/trinodb/trino/pull/3111#discussion_r393285606", "createdAt": "2020-03-16T20:15:32Z", "author": {"login": "aalbu"}, "path": "presto-docs/src/main/sphinx/connector/kafka.rst", "diffHunk": "@@ -59,7 +63,7 @@ Property Name                   Description\n ``kafka.buffer-size``           Kafka read buffer size\n ``kafka.table-description-dir`` Directory containing topic description files\n ``kafka.hide-internal-columns`` Controls whether internal columns are part of the table schema or not\n-``kafka.messages-per-split``    Number of messages that will be processed by single Presto split\n+``kafka.messages-per-split``    Number of messages that are processed by each Presto split, defaults to 100.000, smaller numbers result in higher parallelization of the query processing", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 25}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1ODAzMjg4", "url": "https://github.com/trinodb/trino/pull/3111#pullrequestreview-375803288", "createdAt": "2020-03-17T07:53:34Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QwNzo1MzozNFrOF3REdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QwNzo1OToxOFrOF3ROdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzQ5NTY3MQ==", "bodyText": "to achieve a significant performance gain\n\nTo me that could be written in pull request. Like \"this change was introduced to to achieve a significant performance gain\". In general documentation I think it should be only: \"The connector reads message data from Kafka topics in parallel across workers\". The reason is obvious.", "url": "https://github.com/trinodb/trino/pull/3111#discussion_r393495671", "createdAt": "2020-03-17T07:53:34Z", "author": {"login": "kokosing"}, "path": "presto-docs/src/main/sphinx/connector/kafka.rst", "diffHunk": "@@ -11,13 +11,17 @@ Overview\n --------\n \n This connector allows the use of `Apache Kafka <https://kafka.apache.org/>`_\n-topics as tables in Presto.\n-Each message is presented as a row in Presto.\n+topics as tables in Presto. Each message is presented as a row in Presto.\n \n Topics can be live. Rows appear as data arrives, and disappear as\n segments get dropped. This can result in strange behavior if accessing the\n same table multiple times in a single query (e.g., performing a self join).\n \n+The connector reads message data from Kafka topics in parallel across workers to\n+achieve a significant performance gain. The size of data sets for this", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzQ5ODIyOA==", "bodyText": "I am not sure if we should document defaults. It could change, causing docs to be out-of-date. This is general problem, but hardcoding values is like crossing the border to me.\n\n, smaller numbers result in higher parallelization of the query processing\n\nI would remove that. This sentence suggest that the best configuration is 1, while in reality it is a tread off (you don't mention the other force). My thought is that, it is not trivial, folks who understand that don't need a comment here, folks that don't understand this could be easily mislead.", "url": "https://github.com/trinodb/trino/pull/3111#discussion_r393498228", "createdAt": "2020-03-17T07:59:18Z", "author": {"login": "kokosing"}, "path": "presto-docs/src/main/sphinx/connector/kafka.rst", "diffHunk": "@@ -59,7 +63,7 @@ Property Name                   Description\n ``kafka.buffer-size``           Kafka read buffer size\n ``kafka.table-description-dir`` Directory containing topic description files\n ``kafka.hide-internal-columns`` Controls whether internal columns are part of the table schema or not\n-``kafka.messages-per-split``    Number of messages that will be processed by single Presto split\n+``kafka.messages-per-split``    Number of messages that are processed by each Presto split, defaults to 100000, smaller numbers result in higher parallelization of the query processing", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2ODAwMDU0", "url": "https://github.com/trinodb/trino/pull/3111#pullrequestreview-376800054", "createdAt": "2020-03-18T12:05:21Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42e171bc44dc26c62513f062b27806ebaa992ccf", "author": {"user": {"login": "mosabua", "name": "Manfred Moser"}}, "url": "https://github.com/trinodb/trino/commit/42e171bc44dc26c62513f062b27806ebaa992ccf", "committedDate": "2020-03-25T15:18:54Z", "message": "Add note about parallel reads from topics"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "42e171bc44dc26c62513f062b27806ebaa992ccf", "author": {"user": {"login": "mosabua", "name": "Manfred Moser"}}, "url": "https://github.com/trinodb/trino/commit/42e171bc44dc26c62513f062b27806ebaa992ccf", "committedDate": "2020-03-25T15:18:54Z", "message": "Add note about parallel reads from topics"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1567, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}