{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4MTc4NzY4", "number": 4156, "title": "Derive effective predicate unconditionally", "bodyText": "For queries without where clause, the enforced predicate associated\nwith the table scan is always ALL, as there's nothing to push down.\nThis prevents deriving a predicate from the properties of the table.\nE.g., if the table is partitioned.", "createdAt": "2020-06-22T21:09:28Z", "url": "https://github.com/trinodb/trino/pull/4156", "merged": true, "mergeCommit": {"oid": "3a4de488927b9f498aaa2a027e04947b26d20466"}, "closed": true, "closedAt": "2020-06-23T21:14:47Z", "author": {"login": "martint"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABct3mzPABqjM0NzAyMDYzNjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABct-Up-gBqjM0NzExNTI3NDg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1MzAxNjk2", "url": "https://github.com/trinodb/trino/pull/4156#pullrequestreview-435301696", "createdAt": "2020-06-22T21:56:17Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1MzIwMjg0", "url": "https://github.com/trinodb/trino/pull/4156#pullrequestreview-435320284", "createdAt": "2020-06-22T22:36:41Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQyMjozNjo0MVrOGnTPig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQyMjozNjo0MVrOGnTPig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzg2MjkyMg==", "bodyText": "This comment seems wrong now", "url": "https://github.com/trinodb/trino/pull/4156#discussion_r443862922", "createdAt": "2020-06-22T22:36:41Z", "author": {"login": "electrum"}, "path": "presto-main/src/main/java/io/prestosql/sql/planner/EffectivePredicateExtractor.java", "diffHunk": "@@ -224,7 +224,7 @@ public Expression visitTableScan(TableScanNode node, Void context)\n             Map<ColumnHandle, Symbol> assignments = ImmutableBiMap.copyOf(node.getAssignments()).inverse();\n \n             TupleDomain<ColumnHandle> predicate = node.getEnforcedConstraint();\n-            if (useTableProperties && !node.getEnforcedConstraint().isAll()) {\n+            if (useTableProperties) {\n                 // extract table properties only when predicate has been pushed to table scan at least once", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 6}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestCommit", "commit": {"oid": "1fd49efbcb8a30548a7b2a4a634b2aadb11186ec", "author": {"user": {"login": "martint", "name": "Martin Traverso"}}, "url": "https://github.com/trinodb/trino/commit/1fd49efbcb8a30548a7b2a4a634b2aadb11186ec", "committedDate": "2020-06-23T05:09:13Z", "message": "Derive effective predicate unconditionally\n\nFor queries without where clause, the enforced predicate associated\nwith the table scan is always ALL, as there's nothing to push down.\nThis prevents deriving a predicate from the properties of the table.\nE.g., if the table is partitioned."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "1fd49efbcb8a30548a7b2a4a634b2aadb11186ec", "author": {"user": {"login": "martint", "name": "Martin Traverso"}}, "url": "https://github.com/trinodb/trino/commit/1fd49efbcb8a30548a7b2a4a634b2aadb11186ec", "committedDate": "2020-06-23T05:09:13Z", "message": "Derive effective predicate unconditionally\n\nFor queries without where clause, the enforced predicate associated\nwith the table scan is always ALL, as there's nothing to push down.\nThis prevents deriving a predicate from the properties of the table.\nE.g., if the table is partitioned."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 503, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}