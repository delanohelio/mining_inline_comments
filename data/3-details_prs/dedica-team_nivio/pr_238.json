{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc1Mzg0MzI1", "number": 238, "title": "Search in Map/Dashboard", "bodyText": "Dashboard doesn't have findItem function yet.", "createdAt": "2020-08-28T12:43:14Z", "url": "https://github.com/dedica-team/nivio/pull/238", "merged": true, "mergeCommit": {"oid": "2b0f130bbbff10b3d2b10f9ae6809cfd907760d1"}, "closed": true, "closedAt": "2020-09-04T16:27:14Z", "author": {"login": "MarvinSchoening"}, "timelineItems": {"totalCount": 35, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc835etAH2gAyNDc1Mzg0MzI1OjQ2ODFiZTgwMzlhMTAwYzc5NGMyZDhkMjQ3MzZmNGVmZmMwMWI4ZDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFmfcwAFqTQ4MjcyMTc1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4681be8039a100c794c2d8d24736f4effc01b8d7", "author": {"user": {"login": "bonndan", "name": "Daniel Pozzi"}}, "url": "https://github.com/dedica-team/nivio/commit/4681be8039a100c794c2d8d24736f4effc01b8d7", "committedDate": "2020-08-08T12:09:06Z", "message": "[#226] LandscapeItems (index) is not changed outside Indexer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aec07bb6761b5c07922e61f7ba103ad386ee3e7d", "author": {"user": {"login": "bonndan", "name": "Daniel Pozzi"}}, "url": "https://github.com/dedica-team/nivio/commit/aec07bb6761b5c07922e61f7ba103ad386ee3e7d", "committedDate": "2020-08-08T14:04:17Z", "message": "[#226] lucene alongside cq engine (for now)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "008de262b5620df76ba6c41a39c7eec3948fb4a4", "author": {"user": {"login": "bonndan", "name": "Daniel Pozzi"}}, "url": "https://github.com/dedica-team/nivio/commit/008de262b5620df76ba6c41a39c7eec3948fb4a4", "committedDate": "2020-08-08T14:28:40Z", "message": "[#226] test fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "106c822f0a4c646f1afb9dab36b5f76a889e1892", "author": {"user": {"login": "bonndan", "name": "Daniel Pozzi"}}, "url": "https://github.com/dedica-team/nivio/commit/106c822f0a4c646f1afb9dab36b5f76a889e1892", "committedDate": "2020-08-08T14:32:25Z", "message": "[#226] added docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1fdce1d46bdb2f09c07680e6bbef915b8a72446d", "author": {"user": {"login": "bonndan", "name": "Daniel Pozzi"}}, "url": "https://github.com/dedica-team/nivio/commit/1fdce1d46bdb2f09c07680e6bbef915b8a72446d", "committedDate": "2020-08-08T15:25:31Z", "message": "[#226] frontend search poc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d29f1f6475ef89e8df63061edcd45b38139ae852", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/d29f1f6475ef89e8df63061edcd45b38139ae852", "committedDate": "2020-08-15T04:28:42Z", "message": "[#226] more indexed document fields"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5a53024d9f6e8759e84143b59b93e31a8ac7be2", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/a5a53024d9f6e8759e84143b59b93e31a8ac7be2", "committedDate": "2020-08-16T21:19:47Z", "message": "[#226] tags"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca3e3666050577c360d35d2e528b16cff17f5451", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/ca3e3666050577c360d35d2e528b16cff17f5451", "committedDate": "2020-08-22T09:59:33Z", "message": "Merge branch 'develop' into 226_search"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "512399aabfe36e564d163e92bef4dce9881899ba", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/512399aabfe36e564d163e92bef4dce9881899ba", "committedDate": "2020-08-22T13:22:06Z", "message": "[#226] work in progress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e8fd32c3fe0c807ea8ee0d2b6195b3fa080180d", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/6e8fd32c3fe0c807ea8ee0d2b6195b3fa080180d", "committedDate": "2020-08-22T13:26:44Z", "message": "[#226] work in progress"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffc73976114fc2cb88422137ff4a2ddcc4f4ac88", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/ffc73976114fc2cb88422137ff4a2ddcc4f4ac88", "committedDate": "2020-08-23T07:33:41Z", "message": "[#226] search improvements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f650e089247d8c2ff000542e2274bce8e1548fe", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/7f650e089247d8c2ff000542e2274bce8e1548fe", "committedDate": "2020-08-23T12:31:51Z", "message": "[#226] search improvements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0735c8313bd2f75628b0dd6029a9c196115cc17", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/f0735c8313bd2f75628b0dd6029a9c196115cc17", "committedDate": "2020-08-23T13:48:22Z", "message": "[#226] toolbar"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "57e64f0c735eae1cc64b7728feac93701d0d0c08", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/57e64f0c735eae1cc64b7728feac93701d0d0c08", "committedDate": "2020-08-23T15:42:15Z", "message": "[#226] search can start with wildcard"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "227271224d817f260757233992c2890da1d56f6d", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/227271224d817f260757233992c2890da1d56f6d", "committedDate": "2020-08-23T15:42:36Z", "message": "[#226] encoding url params"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "538f92ecfffe14a6d06b0c42cb0dd3e05887da3e", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/538f92ecfffe14a6d06b0c42cb0dd3e05887da3e", "committedDate": "2020-08-23T15:55:07Z", "message": "[#226] clear search"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbcf274010f5c364e543e644eefdc4836f183de6", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/cbcf274010f5c364e543e644eefdc4836f183de6", "committedDate": "2020-08-23T16:04:46Z", "message": "[#226] search tooltip help"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "423c754f898c126c0bbbf1147ad22b192360efba", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/423c754f898c126c0bbbf1147ad22b192360efba", "committedDate": "2020-08-28T12:15:11Z", "message": "- Format Code\n- Fix lint errors\n- Remove search from AppBar and add it to LandscapeMap and LandscapeDashboard\n- Change Background Color of LandscapeItems and some minor style improvements\n- Restore old LandscapeItem functionality if you have already one open and click on another\n- Remove old unused CSS and TS code from Navigation\n- Add assesment API call to SearchResult for status colors\n- change header color to not be transparent and adjust color appropriately"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82e79ac37a19b8e53256317d1c9cc190f12efcb1", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/82e79ac37a19b8e53256317d1c9cc190f12efcb1", "committedDate": "2020-08-28T13:54:25Z", "message": "[#226] fixed zoom on item"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a68dd64c7844bdda0f57e20310a6329a54794b71", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/a68dd64c7844bdda0f57e20310a6329a54794b71", "committedDate": "2020-08-28T17:27:31Z", "message": "fix linter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0903be5786183fd1981a65bb6af73abe1e25b9f", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/c0903be5786183fd1981a65bb6af73abe1e25b9f", "committedDate": "2020-08-30T09:40:03Z", "message": "[#226] search facets"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2061ebc69d6bc7ee64947ed9c340a1744907825a", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/2061ebc69d6bc7ee64947ed9c340a1744907825a", "committedDate": "2020-08-30T09:41:03Z", "message": "[#226] showing some facets in frontend"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5f9a6ee0418aa263c0ee7bf121c0252f988c929", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/b5f9a6ee0418aa263c0ee7bf121c0252f988c929", "committedDate": "2020-08-30T19:47:10Z", "message": "[#226] frontend facet improvement"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3f87515fe8d994b4c2ad35ba81888673a6be30b", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/f3f87515fe8d994b4c2ad35ba81888673a6be30b", "committedDate": "2020-08-31T18:32:09Z", "message": "[#226] theme and button styling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1f543436c3a6610a2b50371251ae0f4e9b3a397", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/e1f543436c3a6610a2b50371251ae0f4e9b3a397", "committedDate": "2020-09-01T04:31:41Z", "message": "Merge branch 'develop' into 226_search\n\n# Conflicts:\n#\tsrc/main/app/public/index.html\n#\tsrc/main/app/src/Components/LandscapeComponent/LandscapeMap/LandscapeMap.scss\n#\tsrc/main/resources/static/css/svg.css\n#\tsrc/test/resources/example/example_csv_debug.svg\n#\tsrc/test/resources/example/example_env_debug.svg\n#\tsrc/test/resources/example/example_four_groups_debug.svg\n#\tsrc/test/resources/example/inout_debug.svg\n#\tsrc/test/resources/example/large_debug.svg\n#\tsrc/test/resources/example/model_debug.svg"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "89231194478a554f98f0528b1938c492c45d6856", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/89231194478a554f98f0528b1938c492c45d6856", "committedDate": "2020-09-04T11:59:54Z", "message": "Fix search/logo styling and change some facet logic\n- remove all search related css from map and dashboard\n- add needed css in search and position it absolut again so it looks the same on both pages\n- results are now scrollable if they exceed 95vh\n- nivio in navigation is again in our font color\n- facets will now disappear if you search by hand or if you clicked on a facet\n- the search button will now also close facets in addition to clear the search, to remove the second button because overlapping the facets with search results was really ugly"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03da8a7764b08f8d916898490cf5994c6bbf0bba", "author": {"user": {"login": "MarvinSchoening", "name": "Marvin Sch\u00f6ning"}}, "url": "https://github.com/dedica-team/nivio/commit/03da8a7764b08f8d916898490cf5994c6bbf0bba", "committedDate": "2020-09-04T12:56:03Z", "message": "Merge branch 'develop' into 226_search"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "929d2c15d2e1e527f269dc4029f613199a731a89", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/929d2c15d2e1e527f269dc4029f613199a731a89", "committedDate": "2020-09-04T12:58:20Z", "message": "fix lint errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2aeff49a87d32e4ff06562e9a0de8c4d68131f13", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/2aeff49a87d32e4ff06562e9a0de8c4d68131f13", "committedDate": "2020-09-04T13:05:32Z", "message": "fix styling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4eeecada82ab463f6a07857be6301eade0a7618", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/e4eeecada82ab463f6a07857be6301eade0a7618", "committedDate": "2020-09-04T13:30:38Z", "message": "fix map stylings from merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "72ff601e1b12a6800e8d0332ddaaceea9a83c041", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/72ff601e1b12a6800e8d0332ddaaceea9a83c041", "committedDate": "2020-09-04T13:34:08Z", "message": "add debug svg to .gitignore"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86b579a907aaebf0f8fc847a661213be71a6b3a7", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/86b579a907aaebf0f8fc847a661213be71a6b3a7", "committedDate": "2020-09-04T13:45:12Z", "message": "remove now ignored files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8275ed5dd0bce4bd410862c98581c479fcc2c745", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/8275ed5dd0bce4bd410862c98581c479fcc2c745", "committedDate": "2020-09-04T13:51:04Z", "message": "remove ignored debug png's"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16d2184167f72551d9938c353b04ab322a75ae59", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/16d2184167f72551d9938c353b04ab322a75ae59", "committedDate": "2020-09-04T14:46:59Z", "message": "add findItem function for dashboard"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgyNzIxNzUy", "url": "https://github.com/dedica-team/nivio/pull/238#pullrequestreview-482721752", "createdAt": "2020-09-04T14:55:46Z", "commit": {"oid": "16d2184167f72551d9938c353b04ab322a75ae59"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxNDo1NTo0N1rOHNQ8_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNFQxNDo1NTo0N1rOHNQ8_g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzY3MTI5NA==", "bodyText": "das muss ich nach dem wochenende noch \u00fcberarbeiten :D", "url": "https://github.com/dedica-team/nivio/pull/238#discussion_r483671294", "createdAt": "2020-09-04T14:55:47Z", "author": {"login": "MarvinSchoening"}, "path": "src/main/app/src/Components/LandscapeComponent/LandscapeDashboard/LandscapeDashboard.tsx", "diffHunk": "@@ -17,10 +17,38 @@ const LandscapeDashboard: React.FC = () => {\n   const [sliderContent, setSliderContent] = useState<string | ReactElement | null>(null);\n   const [showSlider, setShowSlider] = useState(false);\n   const [assessments, setAssessments] = useState<IAssessment | null>(null);\n+  const [highlightElement, setHighlightElement] = useState<Element | HTMLCollection | null>(null);\n+\n+  const findItem = (fullyQualifiedItemIdentifier: string) => {\n+    const element = document.getElementById(fullyQualifiedItemIdentifier);\n+    setHighlightElement(element);\n+  };\n+\n+  useEffect(() => {\n+    let timeout: NodeJS.Timeout;\n+\n+    if (highlightElement instanceof Element) {\n+      highlightElement.classList.add('highlightDot');\n+      highlightElement.scrollIntoView({ behavior: 'smooth', block: 'end' });\n+      const itemGroup = highlightElement.parentElement?.parentElement?.parentElement;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16d2184167f72551d9938c353b04ab322a75ae59"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3019, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}