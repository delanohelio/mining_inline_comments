{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAxMzc3Mzgy", "number": 320, "title": "new icon set", "bodyText": "closes #314\ncloses #300\ncloses #262\n\n\n downloads icons via npm and then copies the icons to java server resource. We still need to ensure that this works everywhere (currently \"cp\" is used) and that the order or building is correct and icons land in the final jar.", "createdAt": "2020-10-12T07:24:44Z", "url": "https://github.com/dedica-team/nivio/pull/320", "merged": true, "mergeCommit": {"oid": "20f3bf62ea6c91dc496d1e86aa8b8f49e5daa520"}, "closed": true, "closedAt": "2020-10-17T15:58:00Z", "author": {"login": "bonndan"}, "timelineItems": {"totalCount": 67, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdRGGOvgH2gAyNTAxMzc3MzgyOmExZTY0MGZmNzMyZjA4ZmUyZWI2M2MxMTQ0NGJmZmExZGQ4YmNmZDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdTadBvAFqTUxMDk4MzU5Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a1e640ff732f08fe2eb63c11444bffa1dd8bcfd0", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/a1e640ff732f08fe2eb63c11444bffa1dd8bcfd0", "committedDate": "2020-10-10T08:00:11Z", "message": "[#315] removed unnecessary precision in background hexes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9db99b856212966ceae1de42aafbfb8979790b33", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/9db99b856212966ceae1de42aafbfb8979790b33", "committedDate": "2020-10-10T12:55:21Z", "message": "[#314] material ui icons"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70ee6e7660dbcbb047d56728159b318d5c0a0bc4", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/70ee6e7660dbcbb047d56728159b318d5c0a0bc4", "committedDate": "2020-10-10T12:57:43Z", "message": "improved item rendering (using bigger single char if shortname is present)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1443bf9da28137562bebf10224a3757dace2ed59", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/1443bf9da28137562bebf10224a3757dace2ed59", "committedDate": "2020-10-10T13:07:38Z", "message": "[#314] removed old png icons, inserted preliminary logo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fd74fd8076a26404970ef58dc53b6e2d92c3602", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/7fd74fd8076a26404970ef58dc53b6e2d92c3602", "committedDate": "2020-10-10T13:14:24Z", "message": "[#314] added copyright remark"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c60967c10231e9338de110784688fbd509d3e6f8", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/c60967c10231e9338de110784688fbd509d3e6f8", "committedDate": "2020-10-10T13:14:48Z", "message": "[#314] added comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6ad3e1c55a151e2bd671d232f4af493e89976ca", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/b6ad3e1c55a151e2bd671d232f4af493e89976ca", "committedDate": "2020-10-10T19:11:03Z", "message": "[#314] icon base64 caching in LocalServer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f74e3a4835c13821059b3a1c31cc7c7e9dd7e246", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/f74e3a4835c13821059b3a1c31cc7c7e9dd7e246", "committedDate": "2020-10-11T03:42:03Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "538a4f2c35a828e13d934bf120b223e7b524f936", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/538a4f2c35a828e13d934bf120b223e7b524f936", "committedDate": "2020-10-11T03:53:07Z", "message": "[#314] renamed icons to iconmapping, fixed usage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8754d54c028159e4e0451858dbd5e618c2ed16c7", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/8754d54c028159e4e0451858dbd5e618c2ed16c7", "committedDate": "2020-10-11T03:57:02Z", "message": "larger group label"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f26f8dec1e5c9517ed7ee84fb4452e12b713c54c", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/f26f8dec1e5c9517ed7ee84fb4452e12b713c54c", "committedDate": "2020-10-11T18:18:22Z", "message": "[#262] removed local serving of icons and vendor icons"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8d5c17bb3dd63d794f7fd45e0a816142966bae9", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/b8d5c17bb3dd63d794f7fd45e0a816142966bae9", "committedDate": "2020-10-12T07:20:46Z", "message": "[#300] documented item appearance"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff63992771c15e4d87835cc62fc962f5c0990311", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/ff63992771c15e4d87835cc62fc962f5c0990311", "committedDate": "2020-10-12T07:33:29Z", "message": "[#300] added comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98a92924037aaf3db400e4dd3b14b1b88180d693", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/98a92924037aaf3db400e4dd3b14b1b88180d693", "committedDate": "2020-10-12T07:55:09Z", "message": "[#314] bumped wiremock and jackson-databind to omit class not found error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "779b5caf5f33153cf7421956b5dd5fda8e24ea82", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/779b5caf5f33153cf7421956b5dd5fda8e24ea82", "committedDate": "2020-10-12T09:23:17Z", "message": "[#314] fixed icon mapping"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80e247de15551f6acd75ec81119a8c072fb6dc85", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/80e247de15551f6acd75ec81119a8c072fb6dc85", "committedDate": "2020-10-12T09:41:23Z", "message": "[#314] preliminary nivio svg icon"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "876db0aaa7f07526de69294325a29bfd49ac31e9", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/876db0aaa7f07526de69294325a29bfd49ac31e9", "committedDate": "2020-10-12T09:56:34Z", "message": "[#314] vendor icons fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7da2a3fbfe9688d4a6778d0aa9c51d7458296c26", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/7da2a3fbfe9688d4a6778d0aa9c51d7458296c26", "committedDate": "2020-10-13T18:26:55Z", "message": "[#315] removed unnecessary precision in background hexes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e1e213d3b7d0dbff64b0ab9afa81553cc226f71", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/6e1e213d3b7d0dbff64b0ab9afa81553cc226f71", "committedDate": "2020-10-13T18:26:55Z", "message": "[#314] material ui icons"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f86a7a913d1470c54906131be95c484fa15d702", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/3f86a7a913d1470c54906131be95c484fa15d702", "committedDate": "2020-10-13T18:26:55Z", "message": "improved item rendering (using bigger single char if shortname is present)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9ceb149de140c05f828f4db983015268837e277", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/a9ceb149de140c05f828f4db983015268837e277", "committedDate": "2020-10-13T18:26:55Z", "message": "[#314] removed old png icons, inserted preliminary logo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff1dfc3f2f707f599409433397629f8bd90aa155", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/ff1dfc3f2f707f599409433397629f8bd90aa155", "committedDate": "2020-10-13T18:26:55Z", "message": "[#314] added copyright remark"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c0649e081672e5f3fd3bca8125273ee70d8edcc", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/7c0649e081672e5f3fd3bca8125273ee70d8edcc", "committedDate": "2020-10-13T18:26:55Z", "message": "[#314] added comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "823d4ab09c6fc3f1a72331307887fc8b522a31ea", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/823d4ab09c6fc3f1a72331307887fc8b522a31ea", "committedDate": "2020-10-13T18:26:55Z", "message": "[#314] icon base64 caching in LocalServer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ff2239c587f429e84d955732ea4bddba217f726", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/2ff2239c587f429e84d955732ea4bddba217f726", "committedDate": "2020-10-13T18:26:55Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ea3afb0e3d5e2e6ccbd631d59b03e7c79e0ec27", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/1ea3afb0e3d5e2e6ccbd631d59b03e7c79e0ec27", "committedDate": "2020-10-13T18:26:55Z", "message": "[#314] renamed icons to iconmapping, fixed usage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6cd69ac0564ee3931ebb80db409a203a3d1344f1", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/6cd69ac0564ee3931ebb80db409a203a3d1344f1", "committedDate": "2020-10-13T18:26:55Z", "message": "larger group label"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a7b6aea3796ab3571f60378a28ca119e6d14156", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/8a7b6aea3796ab3571f60378a28ca119e6d14156", "committedDate": "2020-10-13T18:26:55Z", "message": "[#262] removed local serving of icons and vendor icons"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c05423cfa8b9e5ef7826b533eed9c7f3090dfe83", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/c05423cfa8b9e5ef7826b533eed9c7f3090dfe83", "committedDate": "2020-10-13T18:26:55Z", "message": "[#300] documented item appearance"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "612784d2224034f1510b368772723e0152ee2226", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/612784d2224034f1510b368772723e0152ee2226", "committedDate": "2020-10-13T18:26:55Z", "message": "[#300] added comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e8d6b20211a22abe44030361392f8bade53a398", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/1e8d6b20211a22abe44030361392f8bade53a398", "committedDate": "2020-10-13T18:26:55Z", "message": "[#314] bumped wiremock and jackson-databind to omit class not found error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb1963a13e66e4dbe281be8355e94dad34700446", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/cb1963a13e66e4dbe281be8355e94dad34700446", "committedDate": "2020-10-13T18:26:56Z", "message": "[#314] fixed icon mapping"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03aac4f4678d5eef37bbe5700280ebb6b2256ec3", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/03aac4f4678d5eef37bbe5700280ebb6b2256ec3", "committedDate": "2020-10-13T18:26:56Z", "message": "[#314] preliminary nivio svg icon"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "144b55b04457d46e591dd2a3cca8111d6f61e3a3", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/144b55b04457d46e591dd2a3cca8111d6f61e3a3", "committedDate": "2020-10-13T18:26:56Z", "message": "[#314] vendor icons fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "800d7c1160d522e9d6b9eb60012659a6fab0c9cc", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/800d7c1160d522e9d6b9eb60012659a6fab0c9cc", "committedDate": "2020-10-13T18:27:19Z", "message": "Merge remote-tracking branch 'origin/314_icon_set' into 314_icon_set"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c2b8272ca27636b1cb58c37bbc7c14b229b53a14", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/c2b8272ca27636b1cb58c37bbc7c14b229b53a14", "committedDate": "2020-10-14T04:07:11Z", "message": "[#314] copying icons using node for os independence"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7492793dd7706bb1e9e8fefb380f3b0230ca244", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/c7492793dd7706bb1e9e8fefb380f3b0230ca244", "committedDate": "2020-10-15T17:44:21Z", "message": "[#315] removed unnecessary precision in background hexes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e4ad48ec46e22474b1c65cc4427d564b1e394b7", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/3e4ad48ec46e22474b1c65cc4427d564b1e394b7", "committedDate": "2020-10-15T17:44:21Z", "message": "[#314] material ui icons"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "508e99f7c4f920c1b1611fe2f4cdcada8bb98eca", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/508e99f7c4f920c1b1611fe2f4cdcada8bb98eca", "committedDate": "2020-10-15T17:44:21Z", "message": "improved item rendering (using bigger single char if shortname is present)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c736eaa882ad61718045abaa70adcdf223901bd4", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/c736eaa882ad61718045abaa70adcdf223901bd4", "committedDate": "2020-10-15T17:44:21Z", "message": "[#314] removed old png icons, inserted preliminary logo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6655a6fd022016b3a0814844a1ba7fdb31c46001", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/6655a6fd022016b3a0814844a1ba7fdb31c46001", "committedDate": "2020-10-15T17:44:21Z", "message": "[#314] added copyright remark"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6818b07102ed005a879ea5bfc4ab523bb82f24ae", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/6818b07102ed005a879ea5bfc4ab523bb82f24ae", "committedDate": "2020-10-15T17:44:21Z", "message": "[#314] added comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a32cebb9b0b0c04501664f81abc305e132fbebc", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/2a32cebb9b0b0c04501664f81abc305e132fbebc", "committedDate": "2020-10-15T17:44:21Z", "message": "[#314] icon base64 caching in LocalServer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b25ee5481669ee2b899992c1ab81ae46879d042", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/9b25ee5481669ee2b899992c1ab81ae46879d042", "committedDate": "2020-10-15T17:44:21Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8057a3cdb10a1a7c6c6105357dfb54e3f7f9751", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/d8057a3cdb10a1a7c6c6105357dfb54e3f7f9751", "committedDate": "2020-10-15T17:44:21Z", "message": "[#314] renamed icons to iconmapping, fixed usage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "886bdb761dc5dcdd2bc3ec3099510ec5f57ada3e", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/886bdb761dc5dcdd2bc3ec3099510ec5f57ada3e", "committedDate": "2020-10-15T17:44:21Z", "message": "larger group label"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac697ad9710543985037ccd2bd69ff63b3d19e7d", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/ac697ad9710543985037ccd2bd69ff63b3d19e7d", "committedDate": "2020-10-15T17:48:11Z", "message": "[#262] removed local serving of icons and vendor icons"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80d51f696405d76516cb9b338cad836825c9190c", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/80d51f696405d76516cb9b338cad836825c9190c", "committedDate": "2020-10-15T17:48:14Z", "message": "[#300] documented item appearance"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96ce99b15d6cc28677d8b13170aa79008ea06eef", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/96ce99b15d6cc28677d8b13170aa79008ea06eef", "committedDate": "2020-10-15T17:48:14Z", "message": "[#300] added comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c92d6f07e26537618b2fcfaf646b2740d56dbf93", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/c92d6f07e26537618b2fcfaf646b2740d56dbf93", "committedDate": "2020-10-15T17:48:14Z", "message": "[#314] bumped wiremock and jackson-databind to omit class not found error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0dbe3b47644a6132d2c0963e495508c40e4af200", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/0dbe3b47644a6132d2c0963e495508c40e4af200", "committedDate": "2020-10-15T17:48:14Z", "message": "[#314] fixed icon mapping"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5b1a8bb15f6b0e9b83f4ded4f46d73b644dbeca", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/c5b1a8bb15f6b0e9b83f4ded4f46d73b644dbeca", "committedDate": "2020-10-15T17:48:14Z", "message": "[#314] preliminary nivio svg icon"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b939173ea2fa033836804c5e3adad9faf129d440", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/b939173ea2fa033836804c5e3adad9faf129d440", "committedDate": "2020-10-15T17:48:14Z", "message": "[#314] vendor icons fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e33d7dd0a1070360c3bb221b11d1a77b3c699b2", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/7e33d7dd0a1070360c3bb221b11d1a77b3c699b2", "committedDate": "2020-10-15T17:53:19Z", "message": "improved item rendering (using bigger single char if shortname is present)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5b649df556f813f9dd088807a2e0568b1f8e315", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/b5b649df556f813f9dd088807a2e0568b1f8e315", "committedDate": "2020-10-15T17:54:43Z", "message": "[#300] added comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a66ada9369b1415b86d5ee7c0dd8a96072a2638", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/6a66ada9369b1415b86d5ee7c0dd8a96072a2638", "committedDate": "2020-10-15T17:55:12Z", "message": "[#314] fixed icon mapping"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2b68c24ba5db27c2f7dce393d1aacbecff3c514", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/a2b68c24ba5db27c2f7dce393d1aacbecff3c514", "committedDate": "2020-10-15T17:55:14Z", "message": "[#314] copying icons using node for os independence"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "acbdaeb38baa9c51b769aa7adbad5965cb580103", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/acbdaeb38baa9c51b769aa7adbad5965cb580103", "committedDate": "2020-10-15T17:57:17Z", "message": "[#314] fix after rebase"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc5cbe90b36e4d73178fd2fe9e41aa2eb949f13b", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/dc5cbe90b36e4d73178fd2fe9e41aa2eb949f13b", "committedDate": "2020-10-15T18:39:17Z", "message": "Merge remote-tracking branch 'origin/314_icon_set' into 314_icon_set\n\n# Conflicts:\n#\tsrc/main/java/de/bonndan/nivio/api/LinkFactory.java\n#\tsrc/test/java/de/bonndan/nivio/input/AppearanceResolverTest.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59592cb85661e0ca2af25d725c86fa3170b27122", "author": {"user": {"login": "mfbieber", "name": "Michelle Fernandez Bieber"}}, "url": "https://github.com/dedica-team/nivio/commit/59592cb85661e0ca2af25d725c86fa3170b27122", "committedDate": "2020-10-16T18:39:41Z", "message": "Merge remote-tracking branch 'origin/develop' into 314_icon_set"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "12cd83f43de735514220878172fb6ec5509cdd66", "author": {"user": {"login": "mfbieber", "name": "Michelle Fernandez Bieber"}}, "url": "https://github.com/dedica-team/nivio/commit/12cd83f43de735514220878172fb6ec5509cdd66", "committedDate": "2020-10-16T19:25:06Z", "message": "removed one unneeded cast"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwNzI3OTYw", "url": "https://github.com/dedica-team/nivio/pull/320#pullrequestreview-510727960", "createdAt": "2020-10-16T18:58:27Z", "commit": {"oid": "59592cb85661e0ca2af25d725c86fa3170b27122"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxODo1ODoyN1rOHjMfeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxOToyMzowOFrOHjNKww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjY2Njg3Mw==", "bodyText": "So this were icons we used to support while reading from the yml files?\nI think it should be \"icons\" and \"backwards\" (spelling) :)", "url": "https://github.com/dedica-team/nivio/pull/320#discussion_r506666873", "createdAt": "2020-10-16T18:58:27Z", "author": {"login": "mfbieber"}, "path": "docs/source/output.rst", "diffHunk": "@@ -20,31 +20,48 @@ Nivio indexes all landscape items in an in-memory search engine called Lucene. Y\n various item fields (see Model). For further information, see https://www.lucenetutorial.com/lucene-query-syntax.html\n \n \n-Item Icons and Background\n+Modifying Item Appearance\n -------------------------\n \n-The default icon of a item is determined by its item type (e.g. server, messagequeue, database...). To change the\n-appearance of a item to a vendor logo, for instance, the *icon* or *fill* property can be set. Both properties take\n-a valid URL.\n \n-While icon is rendered as centered image on the node, fill is used to paint the entire background and is more suitable\n-to be used with images, photos and so on.\n+Icons by Type\n+^^^^^^^^^^^^^\n+\n+The icon of an item is determined by its item type (e.g. server, database...) and defaults to a cog () .\n \n .. code-block:: yaml\n    :linenos:\n \n-   items:\n-      - identifier: foo\n-        shortName: blog1\n-        icon: http://my.custom/icon.png\n+    items:\n       - identifier: bar\n-        shortName: db2\n-        fill: http://my.custom/background.png\n+        type: database\n \n+As type values all items from https://materialdesignicons.com/ can be chosen. Just add the icon name without the \"svg\" suffix,\n+like \"account\".\n \n-Vendor Icons\n-------------\n+.. code-block:: yaml\n+   :linenos:\n \n+    items:\n+      - identifier: bar\n+        type: account\n+\n+The following types are translated icon to maintain backward compatibility:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59592cb85661e0ca2af25d725c86fa3170b27122"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjY2NzQ3NQ==", "bodyText": "Great! \ud83d\udc4d", "url": "https://github.com/dedica-team/nivio/pull/320#discussion_r506667475", "createdAt": "2020-10-16T18:59:40Z", "author": {"login": "mfbieber"}, "path": "docs/source/output.rst", "diffHunk": "@@ -56,6 +73,52 @@ Vendor icons are work in progress.\n       - identifier: bar\n         icon: vendor://redis\n \n+To change the appearance of a item to a vendor logo, for instance, the *icon* or *fill* property can be set. Both properties take\n+a valid URL.\n+\n+External Images\n+^^^^^^^^^^^^^^^\n+\n+To include external images in the map, just set the icon (or fill, see below) property to a valid URL.\n+\n+.. code-block:: yaml\n+   :linenos:\n+\n+   items:\n+      - identifier: foo\n+        icon: http://my.custom/icon.png\n+\n+\n+Background fill\n+^^^^^^^^^^^^^^^\n+\n+While icon is rendered as centered image on the node, fill is used to paint the entire background and is more suitable\n+to be used with images, photos and so on.\n+\n+.. code-block:: yaml\n+   :linenos:\n+\n+   items:\n+      - identifier: bar\n+        fill: http://my.custom/background.png\n+\n+UTF-8 Symbols and shortname as Icons\n+^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n+\n+If **NO** icon, type or fill value is set, but a shortname value is given, the value is displayed on the icon. The first\n+example would display \"FOOBAR\" on the item, the second an enlarged unicorn symbol (shortnames less than three chars are\n+enlarged).\n+\n+.. code-block:: yaml\n+   :linenos:\n+\n+   items:\n+      - identifier: bar\n+        shortname: FOOBAR\n+      - identifier: pony\n+        shortname: \ud83e\udd84\n+\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59592cb85661e0ca2af25d725c86fa3170b27122"}, "originalPosition": 112}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjY3NDY3Nw==", "bodyText": "Can't this be private?", "url": "https://github.com/dedica-team/nivio/pull/320#discussion_r506674677", "createdAt": "2020-10-16T19:15:42Z", "author": {"login": "mfbieber"}, "path": "src/main/java/de/bonndan/nivio/output/icons/LocalIcons.java", "diffHunk": "@@ -0,0 +1,115 @@\n+package de.bonndan.nivio.output.icons;\n+\n+import de.bonndan.nivio.model.Item;\n+import de.bonndan.nivio.model.Label;\n+import de.bonndan.nivio.util.URLHelper;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.stereotype.Service;\n+import org.springframework.util.StringUtils;\n+\n+import java.net.URL;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.concurrent.ConcurrentHashMap;\n+\n+import static de.bonndan.nivio.output.icons.IconMapping.DEFAULT_ICON;\n+\n+/**\n+ * Provides icons and vendor icons as data.\n+ *\n+ *\n+ */\n+@Service\n+public class LocalIcons {\n+\n+    private static final Logger LOGGER = LoggerFactory.getLogger(LocalIcons.class);\n+\n+    private final VendorIcons vendorIcons;\n+\n+    /**\n+     * default icon data url\n+     */\n+    private final String defaultIcon;\n+\n+    /**\n+     * data url cache\n+     */\n+    private final Map<String, String> iconDataUrls = new ConcurrentHashMap<>();\n+\n+\n+    public LocalIcons(VendorIcons vendorIcons) {\n+\n+        this.vendorIcons = vendorIcons;\n+        defaultIcon = getIconUrl(DEFAULT_ICON.getIcon(), false);\n+    }\n+\n+    public String getIconUrl(Item item) {\n+\n+        //icon label based\n+        String icon = item.getIcon();\n+        if (!StringUtils.isEmpty(icon)) {\n+\n+            if (icon.startsWith(VendorIcons.VENDOR_PREFIX)) {\n+                String key = icon.replace(VendorIcons.VENDOR_PREFIX, \"\").toLowerCase();\n+                return vendorIcons.getUrl(key).orElse(defaultIcon);\n+            }\n+\n+            String iconUrl = getIconUrl(icon, true);\n+            if(iconUrl != null) {\n+                return iconUrl;\n+            }\n+        }\n+\n+        //type based\n+        String type = item.getLabel(Label.type);\n+        if (StringUtils.isEmpty(type)) {\n+            return getIconUrl(DEFAULT_ICON.getIcon(), false);\n+        }\n+\n+        //fallback to item.type\n+        String iconName = IconMapping.of(type.toLowerCase()).map(IconMapping::getIcon).orElseGet(type::toLowerCase);\n+        return getIconUrl(iconName, true);\n+    }\n+\n+    /**\n+     * Provides an URL for a locally served icon.\n+     *\n+     * @return an url pointing to a file or a data url\n+     */\n+    String getIconUrl(String icon, boolean fallback) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59592cb85661e0ca2af25d725c86fa3170b27122"}, "originalPosition": 80}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjY3Nzk1NQ==", "bodyText": "This is the only place where vendorIcons.getUrl() is used, so I was at first a little confused about what LocalIcons really is. I thought LocalIcons are icons addes by the user? Is this correct? (In this case, maybe a different naming would be better. Why not just Icons?)\nOr does it mean that there are not retrieved from a remote location such as the vendor icons?", "url": "https://github.com/dedica-team/nivio/pull/320#discussion_r506677955", "createdAt": "2020-10-16T19:23:08Z", "author": {"login": "mfbieber"}, "path": "src/main/java/de/bonndan/nivio/output/icons/LocalIcons.java", "diffHunk": "@@ -0,0 +1,115 @@\n+package de.bonndan.nivio.output.icons;\n+\n+import de.bonndan.nivio.model.Item;\n+import de.bonndan.nivio.model.Label;\n+import de.bonndan.nivio.util.URLHelper;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.stereotype.Service;\n+import org.springframework.util.StringUtils;\n+\n+import java.net.URL;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.concurrent.ConcurrentHashMap;\n+\n+import static de.bonndan.nivio.output.icons.IconMapping.DEFAULT_ICON;\n+\n+/**\n+ * Provides icons and vendor icons as data.\n+ *\n+ *\n+ */\n+@Service\n+public class LocalIcons {\n+\n+    private static final Logger LOGGER = LoggerFactory.getLogger(LocalIcons.class);\n+\n+    private final VendorIcons vendorIcons;\n+\n+    /**\n+     * default icon data url\n+     */\n+    private final String defaultIcon;\n+\n+    /**\n+     * data url cache\n+     */\n+    private final Map<String, String> iconDataUrls = new ConcurrentHashMap<>();\n+\n+\n+    public LocalIcons(VendorIcons vendorIcons) {\n+\n+        this.vendorIcons = vendorIcons;\n+        defaultIcon = getIconUrl(DEFAULT_ICON.getIcon(), false);\n+    }\n+\n+    public String getIconUrl(Item item) {\n+\n+        //icon label based\n+        String icon = item.getIcon();\n+        if (!StringUtils.isEmpty(icon)) {\n+\n+            if (icon.startsWith(VendorIcons.VENDOR_PREFIX)) {\n+                String key = icon.replace(VendorIcons.VENDOR_PREFIX, \"\").toLowerCase();\n+                return vendorIcons.getUrl(key).orElse(defaultIcon);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59592cb85661e0ca2af25d725c86fa3170b27122"}, "originalPosition": 55}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwNzQ2NDAz", "url": "https://github.com/dedica-team/nivio/pull/320#pullrequestreview-510746403", "createdAt": "2020-10-16T19:29:55Z", "commit": {"oid": "12cd83f43de735514220878172fb6ec5509cdd66"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxOToyOTo1NlrOHjNWKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQxOToyOTo1NlrOHjNWKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjY4MDg3Mg==", "bodyText": "This is what you mean with \"cp\"?\nI checked the build with Windows 10, it works fine. I will now check with MacOS.", "url": "https://github.com/dedica-team/nivio/pull/320#discussion_r506680872", "createdAt": "2020-10-16T19:29:56Z", "author": {"login": "mfbieber"}, "path": "src/main/app/copy-icons.js", "diffHunk": "@@ -0,0 +1,7 @@\n+#!/usr/bin/env node\n+const fs = require('fs-extra');\n+\n+// Async with promises: \n+fs.copy('node_modules/@mdi/svg/svg', '../resources/static/icons/svg')\n+    .then(() => console.log('Icons copied successfully!'))\n+    .catch(err => console.error(err));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12cd83f43de735514220878172fb6ec5509cdd66"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19f20f1a851a3b029e29553fbb006bbca6cdf1c4", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/19f20f1a851a3b029e29553fbb006bbca6cdf1c4", "committedDate": "2020-10-16T20:35:27Z", "message": "[#314] improved comment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4319676999386f8b7121f618d4e9e3b71aafa559", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/4319676999386f8b7121f618d4e9e3b71aafa559", "committedDate": "2020-10-17T06:40:11Z", "message": "[#314] refactored, created IconService"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f17ed33e2a3d5e1beba53f1a94eed216d92425b", "author": {"user": null}, "url": "https://github.com/dedica-team/nivio/commit/1f17ed33e2a3d5e1beba53f1a94eed216d92425b", "committedDate": "2020-10-17T07:32:58Z", "message": "[#314] test fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwOTgzNTky", "url": "https://github.com/dedica-team/nivio/pull/320#pullrequestreview-510983592", "createdAt": "2020-10-17T12:51:02Z", "commit": {"oid": "1f17ed33e2a3d5e1beba53f1a94eed216d92425b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxMjo1MTowMlrOHjdLTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxMjo1MTowMlrOHjdLTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk0MDIzOA==", "bodyText": "This is a lot better \ud83d\udc4d", "url": "https://github.com/dedica-team/nivio/pull/320#discussion_r506940238", "createdAt": "2020-10-17T12:51:02Z", "author": {"login": "mfbieber"}, "path": "src/main/java/de/bonndan/nivio/output/icons/IconService.java", "diffHunk": "@@ -0,0 +1,64 @@\n+package de.bonndan.nivio.output.icons;\n+\n+import de.bonndan.nivio.model.Item;\n+import de.bonndan.nivio.model.Label;\n+import org.springframework.lang.Nullable;\n+import org.springframework.stereotype.Service;\n+import org.springframework.util.StringUtils;\n+\n+import java.util.Optional;\n+\n+\n+/**\n+ * Provides the builtin icons (shipped with nivio) and vendor icons (loaded form remote locations) as embeddable data.\n+ *\n+ *\n+ */\n+@Service\n+public class IconService {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f17ed33e2a3d5e1beba53f1a94eed216d92425b"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1904, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}