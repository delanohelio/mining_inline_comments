{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4NTkyMzQz", "number": 108, "title": "107 deploy heroku", "bodyText": "Deploys develop to heroku\n\nmight Also fix #33\nand #59", "createdAt": "2020-02-22T13:56:35Z", "url": "https://github.com/dedica-team/nivio/pull/108", "merged": true, "mergeCommit": {"oid": "01e56728b13fa27c1e8f1bba1bce1f7ed038d7df"}, "closed": true, "closedAt": "2020-02-24T12:19:51Z", "author": {"login": "bonndan"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcGyNYlAH2gAyMzc4NTkyMzQzOjA4NjM1MDcyNmIyMzFlODA3NWIwMGJhODdmYTQ5YmZjMjdkYjBhNDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHcUbAAFqTM2MzM0MTA2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "086350726b231e8075b00ba87fa49bfc27db0a44", "author": {"user": {"login": "bonndan", "name": "Daniel Pozzi"}}, "url": "https://github.com/dedica-team/nivio/commit/086350726b231e8075b00ba87fa49bfc27db0a44", "committedDate": "2020-02-22T10:59:30Z", "message": "[#107] deployment to heroko with extra docker image"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b13784e6077c0441ebceb2d910524bc701864c64", "author": {"user": {"login": "bonndan", "name": "Daniel Pozzi"}}, "url": "https://github.com/dedica-team/nivio/commit/b13784e6077c0441ebceb2d910524bc701864c64", "committedDate": "2020-02-22T11:00:46Z", "message": "[#107] deployment to heroko with extra docker image"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "050f0ff1ae8a50d309ca71034a3f4f2d4b855ddf", "author": {"user": {"login": "bonndan", "name": "Daniel Pozzi"}}, "url": "https://github.com/dedica-team/nivio/commit/050f0ff1ae8a50d309ca71034a3f4f2d4b855ddf", "committedDate": "2020-02-22T11:01:10Z", "message": "[#107] deployment to heroko with extra docker image"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c99b1d999db1a37fa265987254dbf4a204e845c", "author": {"user": {"login": "bonndan", "name": "Daniel Pozzi"}}, "url": "https://github.com/dedica-team/nivio/commit/9c99b1d999db1a37fa265987254dbf4a204e845c", "committedDate": "2020-02-22T11:02:43Z", "message": "[#107] deployment to heroko with extra docker image"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6a4895753134d11582534100d92191b5a79c494", "author": {"user": {"login": "bonndan", "name": "Daniel Pozzi"}}, "url": "https://github.com/dedica-team/nivio/commit/a6a4895753134d11582534100d92191b5a79c494", "committedDate": "2020-02-22T11:07:08Z", "message": "[#107] renamed file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0650376c03f57d6ea2867b375b248aa237685bcc", "author": {"user": {"login": "bonndan", "name": "Daniel Pozzi"}}, "url": "https://github.com/dedica-team/nivio/commit/0650376c03f57d6ea2867b375b248aa237685bcc", "committedDate": "2020-02-22T11:13:05Z", "message": "[#107] added own branch to fire actions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7213a2a6b550b364dbccf5f7395feabbe2e0cdc", "author": {"user": {"login": "bonndan", "name": "Daniel Pozzi"}}, "url": "https://github.com/dedica-team/nivio/commit/e7213a2a6b550b364dbccf5f7395feabbe2e0cdc", "committedDate": "2020-02-22T11:17:42Z", "message": "[#107] two steps"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2a88da2a133c3ff5ec42b4d3c73935c511d7e5a", "author": {"user": {"login": "bonndan", "name": "Daniel Pozzi"}}, "url": "https://github.com/dedica-team/nivio/commit/e2a88da2a133c3ff5ec42b4d3c73935c511d7e5a", "committedDate": "2020-02-22T11:18:38Z", "message": "[#107] fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bce4141db7aa3f46fd7a3f7a4c53576c8d07c6d7", "author": {"user": {"login": "bonndan", "name": "Daniel Pozzi"}}, "url": "https://github.com/dedica-team/nivio/commit/bce4141db7aa3f46fd7a3f7a4c53576c8d07c6d7", "committedDate": "2020-02-22T11:46:07Z", "message": "[#107] fix hub account"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "974704bb6a988da99f173d4726d19307ba5c34aa", "author": {"user": {"login": "bonndan", "name": "Daniel Pozzi"}}, "url": "https://github.com/dedica-team/nivio/commit/974704bb6a988da99f173d4726d19307ba5c34aa", "committedDate": "2020-02-22T12:34:53Z", "message": "[#107] trying fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d67ab2c16ff0cf34c606965540eb8af05552dbd", "author": {"user": {"login": "bonndan", "name": "Daniel Pozzi"}}, "url": "https://github.com/dedica-team/nivio/commit/1d67ab2c16ff0cf34c606965540eb8af05552dbd", "committedDate": "2020-02-22T12:42:26Z", "message": "[#107] trying fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f43a867518da77da1d68fb49664f7d0fbef9853e", "author": {"user": {"login": "bonndan", "name": "Daniel Pozzi"}}, "url": "https://github.com/dedica-team/nivio/commit/f43a867518da77da1d68fb49664f7d0fbef9853e", "committedDate": "2020-02-22T12:49:15Z", "message": "[#107] trying fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3077ec54c719abd94e3f302deb44a26ee80a42d", "author": {"user": {"login": "bonndan", "name": "Daniel Pozzi"}}, "url": "https://github.com/dedica-team/nivio/commit/b3077ec54c719abd94e3f302deb44a26ee80a42d", "committedDate": "2020-02-22T13:06:26Z", "message": "[#107] trying PORT env var to fix startup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3687094ccde06ca804fb107c96ee3d56549de6e6", "author": {"user": {"login": "bonndan", "name": "Daniel Pozzi"}}, "url": "https://github.com/dedica-team/nivio/commit/3687094ccde06ca804fb107c96ee3d56549de6e6", "committedDate": "2020-02-22T13:12:16Z", "message": "[#107] updated readme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b2f9272b20e7eafb4bcf36aa03c50bee8215f0a", "author": {"user": {"login": "bonndan", "name": "Daniel Pozzi"}}, "url": "https://github.com/dedica-team/nivio/commit/7b2f9272b20e7eafb4bcf36aa03c50bee8215f0a", "committedDate": "2020-02-22T13:35:48Z", "message": "[#107] [#33] fix for baseurl when running in docker"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d26c64f3d7d0f60daf16d0f8f66ccbdd643655c", "author": {"user": {"login": "bonndan", "name": "Daniel Pozzi"}}, "url": "https://github.com/dedica-team/nivio/commit/6d26c64f3d7d0f60daf16d0f8f66ccbdd643655c", "committedDate": "2020-02-22T13:46:44Z", "message": "[#107] [#33] fix for baseurl when running in docker"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMDM2NTcx", "url": "https://github.com/dedica-team/nivio/pull/108#pullrequestreview-363036571", "createdAt": "2020-02-22T16:08:53Z", "commit": {"oid": "6d26c64f3d7d0f60daf16d0f8f66ccbdd643655c"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMlQxNjowODo1M1rOFtLxhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMlQxNjoxMToxN1rOFtLyFQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkyMzE0MA==", "bodyText": "Warum ist das != refs/heads/master? M\u00f6chte man nicht eigentlich gerade den Master deployen? Oder verstehe ich das falsch?", "url": "https://github.com/dedica-team/nivio/pull/108#discussion_r382923140", "createdAt": "2020-02-22T16:08:53Z", "author": {"login": "mfbieber"}, "path": ".github/workflows/main.yml", "diffHunk": "@@ -0,0 +1,55 @@\n+name: Java CI\n+\n+on:\n+  push:\n+    tags:\n+      - '*'\n+    branches:\n+      - master\n+      - develop\n+      - 107_deploy_heroku\n+\n+jobs:\n+\n+  build-and-deploy:\n+    runs-on: ubuntu-latest\n+    steps:\n+    - uses: actions/checkout@v1\n+    - name: Set up JDK 1.11\n+      uses: actions/setup-java@v1\n+      with:\n+        java-version: 11.0.4\n+    - name: Build with Maven\n+      run: mvn package --file pom.xml\n+\n+    #\n+    # docker\n+    #\n+    - name: Build and Publish Docker latest\n+      if: github.ref != 'refs/heads/master'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d26c64f3d7d0f60daf16d0f8f66ccbdd643655c"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkyMzE4Mw==", "bodyText": "Im Wesentlichen wurden jetzt nur die Methoden auf private gesetzt, richtig?", "url": "https://github.com/dedica-team/nivio/pull/108#discussion_r382923183", "createdAt": "2020-02-22T16:10:00Z", "author": {"login": "mfbieber"}, "path": "src/main/java/de/bonndan/nivio/output/LocalServer.java", "diffHunk": "@@ -11,11 +13,34 @@\n \n     private static Environment env;\n \n-    public static String host() {\n+    /**\n+     * without slash\n+     */\n+    private final String baseUrl;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d26c64f3d7d0f60daf16d0f8f66ccbdd643655c"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjkyMzI4NQ==", "bodyText": "Werden die env Variablen irgendwo gesetzt? Im docker-compose?", "url": "https://github.com/dedica-team/nivio/pull/108#discussion_r382923285", "createdAt": "2020-02-22T16:11:17Z", "author": {"login": "mfbieber"}, "path": "src/main/resources/application.yml", "diffHunk": "@@ -22,9 +21,11 @@ logging:\n         nivio:\n           output: TRACE\n \n-\n server:\n-  port: 8080\n+  port: ${PORT:8080}\n+\n+nivio:\n+  baseUrl: ${NIVIO_BASE_URL:}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d26c64f3d7d0f60daf16d0f8f66ccbdd643655c"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMzQxMDY5", "url": "https://github.com/dedica-team/nivio/pull/108#pullrequestreview-363341069", "createdAt": "2020-02-24T12:03:12Z", "commit": {"oid": "6d26c64f3d7d0f60daf16d0f8f66ccbdd643655c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1939, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}