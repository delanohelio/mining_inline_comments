{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgwODM0NTQ4", "number": 252, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNTowNTowNlrOEjozFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNTowODo0OVrOEjo5zg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1ODA0MDUyOnYy", "diffSide": "RIGHT", "path": "src/main/java/de/bonndan/nivio/model/ItemIndex.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNTowNTowNlrOHSGdLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNTowNTowNlrOHSGdLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODc0MjE5MA==", "bodyText": "\ud83d\udc4d", "url": "https://github.com/dedica-team/nivio/pull/252#discussion_r488742190", "createdAt": "2020-09-15T15:05:06Z", "author": {"login": "Matthimatiker"}, "path": "src/main/java/de/bonndan/nivio/model/ItemIndex.java", "diffHunk": "@@ -241,7 +245,7 @@ public int indexForSearch() {\n             ireader.close();\n             return facets.getAllDims(10);\n         } catch (IOException e) {\n-            e.printStackTrace();\n+            LOGGER.warn(\"Unable to get the facets for the given query error: \", e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a733bc04d11d441b6527f731fe14278d1ce05c0"}, "originalPosition": 76}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1ODA0NzMyOnYy", "diffSide": "RIGHT", "path": "src/main/java/de/bonndan/nivio/model/ItemIndex.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNTowNjoyN1rOHSGhew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNTowNjoyN1rOHSGhew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODc0MzI5MQ==", "bodyText": "More readable \ud83d\udc4d", "url": "https://github.com/dedica-team/nivio/pull/252#discussion_r488743291", "createdAt": "2020-09-15T15:06:27Z", "author": {"login": "Matthimatiker"}, "path": "src/main/java/de/bonndan/nivio/model/ItemIndex.java", "diffHunk": "@@ -259,8 +263,8 @@ public int indexForSearch() {\n \n         List<Document> documents = new ArrayList<>();\n         // Iterate through the results:\n-        for (int i = 0; i < hits.length; i++) {\n-            Document hitDoc = isearcher.doc(hits[i].doc);\n+        for (ScoreDoc hit : hits) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a733bc04d11d441b6527f731fe14278d1ce05c0"}, "originalPosition": 86}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1ODA1Nzc0OnYy", "diffSide": "RIGHT", "path": "src/test/java/de/bonndan/nivio/ArchTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNTowODo0OVrOHSGoJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxNjozODoyOVrOHgF0hA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODc0NDk5Nw==", "bodyText": "You could move the classes into a test attribute, even a static one.\nUsually, the classes are used by many (if not all) ArchUnit tests and collecting the data from byte code is expensive.", "url": "https://github.com/dedica-team/nivio/pull/252#discussion_r488744997", "createdAt": "2020-09-15T15:08:49Z", "author": {"login": "Matthimatiker"}, "path": "src/test/java/de/bonndan/nivio/ArchTest.java", "diffHunk": "@@ -0,0 +1,22 @@\n+package de.bonndan.nivio;\n+\n+import com.tngtech.archunit.core.domain.JavaClasses;\n+import com.tngtech.archunit.core.importer.ClassFileImporter;\n+import com.tngtech.archunit.core.importer.ImportOption;\n+import org.junit.jupiter.api.Test;\n+\n+import static com.tngtech.archunit.library.GeneralCodingRules.NO_CLASSES_SHOULD_ACCESS_STANDARD_STREAMS;\n+\n+class ArchTest {\n+    @Test\n+    void do_not_access_STD_streams() {\n+        JavaClasses classes = new ClassFileImporter()\n+                .withImportOption(ImportOption.Predefined.DO_NOT_INCLUDE_JARS)\n+                .withImportOption(ImportOption.Predefined.DO_NOT_INCLUDE_TESTS)\n+                .importClasspath();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4a733bc04d11d441b6527f731fe14278d1ce05c0"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzQxMTg0NA==", "bodyText": "I took over to do this to merge this PR. I need ArchUnit for Issue 317!", "url": "https://github.com/dedica-team/nivio/pull/252#discussion_r503411844", "createdAt": "2020-10-12T16:38:29Z", "author": {"login": "mfbieber"}, "path": "src/test/java/de/bonndan/nivio/ArchTest.java", "diffHunk": "@@ -0,0 +1,22 @@\n+package de.bonndan.nivio;\n+\n+import com.tngtech.archunit.core.domain.JavaClasses;\n+import com.tngtech.archunit.core.importer.ClassFileImporter;\n+import com.tngtech.archunit.core.importer.ImportOption;\n+import org.junit.jupiter.api.Test;\n+\n+import static com.tngtech.archunit.library.GeneralCodingRules.NO_CLASSES_SHOULD_ACCESS_STANDARD_STREAMS;\n+\n+class ArchTest {\n+    @Test\n+    void do_not_access_STD_streams() {\n+        JavaClasses classes = new ClassFileImporter()\n+                .withImportOption(ImportOption.Predefined.DO_NOT_INCLUDE_JARS)\n+                .withImportOption(ImportOption.Predefined.DO_NOT_INCLUDE_TESTS)\n+                .importClasspath();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODc0NDk5Nw=="}, "originalCommit": {"oid": "4a733bc04d11d441b6527f731fe14278d1ce05c0"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4026, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}