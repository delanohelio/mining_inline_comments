{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQzMzQ4MzY2", "number": 342, "reviewThreads": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQxMjo1MDoyNVrOFHx8AA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwMjowOTozOFrOFKNTdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQzNzAyNTI4OnYy", "diffSide": "RIGHT", "path": "src/main/app/src/Components/Landscape/Map/Map.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQxMjo1MDoyNVrOIJXNOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwNjo0NDo0NlrOIM6ZRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY4ODMxNQ==", "bodyText": "This doc is outdated (onItemClick does not appear in function signature) and \"choosen\" is misspelled", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r546688315", "createdAt": "2020-12-21T12:50:25Z", "author": {"login": "mfbieber"}, "path": "src/main/app/src/Components/Landscape/Map/Map.tsx", "diffHunk": "@@ -40,73 +38,73 @@ interface SVGData {\n  * @param identifier Landscape Identifier\n  * @param onItemClick Handler for our label click\n  */\n-const Map: React.FC<Props> = () => {\n+const Map: React.FC<Props> = ({ setSidebarContent, setFindFunction, setPageTitle }) => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a9f77e884cc3e630e15cb1f64518d473a1580720"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQxMDU2NQ==", "bodyText": "fixed", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550410565", "createdAt": "2020-12-31T06:44:46Z", "author": {"login": "bonndan"}, "path": "src/main/app/src/Components/Landscape/Map/Map.tsx", "diffHunk": "@@ -40,73 +38,73 @@ interface SVGData {\n  * @param identifier Landscape Identifier\n  * @param onItemClick Handler for our label click\n  */\n-const Map: React.FC<Props> = () => {\n+const Map: React.FC<Props> = ({ setSidebarContent, setFindFunction, setPageTitle }) => {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjY4ODMxNQ=="}, "originalCommit": {"oid": "a9f77e884cc3e630e15cb1f64518d473a1580720"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjQzNDQxOnYy", "diffSide": "RIGHT", "path": "src/main/app/src/Components/Landscape/Map/Map.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwMToyMjo0N1rOIM3_WA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwMToyNzozNlrOIM4B7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3MTE2MA==", "bodyText": "I thought the dashboard had been removed. What is this then? Is this the container for the buttons on the bottom of a map?", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550371160", "createdAt": "2020-12-31T01:22:47Z", "author": {"login": "mfbieber"}, "path": "src/main/app/src/Components/Landscape/Map/Map.tsx", "diffHunk": "@@ -270,6 +267,16 @@ const Map: React.FC<Props> = () => {\n             </ReactSVGPanZoom>\n           )}\n         />\n+        <Toolbar className={classes.bottomBar}>\n+          {landscape && assessments && (\n+            <Dashboard\n+              findItem={findItem}\n+              setSidebarContent={setSidebarContent}\n+              landscape={landscape}\n+              assessments={assessments}\n+            />\n+          )}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 239}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3MTgyMg==", "bodyText": "I would rename this to something like e.g. StatusLegend or something that better represents what this actually is (also DashboardLayout. In addition,\nI just saw that this is just the Toolbar I was talking about in one of the other comments (I wouldn't allow the map to be visible below it).", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550371822", "createdAt": "2020-12-31T01:27:36Z", "author": {"login": "mfbieber"}, "path": "src/main/app/src/Components/Landscape/Map/Map.tsx", "diffHunk": "@@ -270,6 +267,16 @@ const Map: React.FC<Props> = () => {\n             </ReactSVGPanZoom>\n           )}\n         />\n+        <Toolbar className={classes.bottomBar}>\n+          {landscape && assessments && (\n+            <Dashboard\n+              findItem={findItem}\n+              setSidebarContent={setSidebarContent}\n+              landscape={landscape}\n+              assessments={assessments}\n+            />\n+          )}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3MTE2MA=="}, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 239}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjQ0MzIzOnYy", "diffSide": "RIGHT", "path": "src/main/app/src/App.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwMTozMTozOFrOIM4DsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwODoxOToxMlrOIM7V0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3MjI3Mg==", "bodyText": "Is findFunction a function for the search field? I would name it searchFunction", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550372272", "createdAt": "2020-12-31T01:31:38Z", "author": {"login": "mfbieber"}, "path": "src/main/app/src/App.tsx", "diffHunk": "@@ -1,33 +1,61 @@\n-import React from 'react';\n-import { HashRouter as Router, Switch, Route } from 'react-router-dom';\n+import React, { ReactElement, useCallback, useState } from 'react';\n+import { HashRouter as Router, Route, Switch } from 'react-router-dom';\n \n import LandscapeOverview from './Components/Landscape/Overview/Overview';\n import LandscapeMap from './Components/Landscape/Map/Map';\n import Man from './Components/Manual/Man';\n import Layout from './Components/Layout/Layout';\n-import Events from './Components/Events/Events';\n-import LandscapeDashboard from './Components/Landscape/Dashboard/Dashboard';\n import { Routes } from './interfaces';\n \n-import './App.scss';\n-import { ThemeProvider } from '@material-ui/core/styles';\n-import theme from './Ressources/styling/theme';\n-\n const App: React.FC = () => {\n+  const [sidebarContent, setSidebarContent] = useState<ReactElement[]>([]);\n+  const [pageTitle, setPageTitle] = useState<string>('');\n+  const [findFunction, setFindFunction] = useState<Function>();\n+\n+  const ff = useCallback(\n+    (args) => {\n+      if (findFunction) findFunction(args);\n+      else console.warn('find function not set');\n+    },\n+    [findFunction]\n+  );\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQyNjA2NQ==", "bodyText": "It actually is \"locateFunction\" to scroll to the given item in the map. I will rename it.", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550426065", "createdAt": "2020-12-31T08:19:12Z", "author": {"login": "bonndan"}, "path": "src/main/app/src/App.tsx", "diffHunk": "@@ -1,33 +1,61 @@\n-import React from 'react';\n-import { HashRouter as Router, Switch, Route } from 'react-router-dom';\n+import React, { ReactElement, useCallback, useState } from 'react';\n+import { HashRouter as Router, Route, Switch } from 'react-router-dom';\n \n import LandscapeOverview from './Components/Landscape/Overview/Overview';\n import LandscapeMap from './Components/Landscape/Map/Map';\n import Man from './Components/Manual/Man';\n import Layout from './Components/Layout/Layout';\n-import Events from './Components/Events/Events';\n-import LandscapeDashboard from './Components/Landscape/Dashboard/Dashboard';\n import { Routes } from './interfaces';\n \n-import './App.scss';\n-import { ThemeProvider } from '@material-ui/core/styles';\n-import theme from './Ressources/styling/theme';\n-\n const App: React.FC = () => {\n+  const [sidebarContent, setSidebarContent] = useState<ReactElement[]>([]);\n+  const [pageTitle, setPageTitle] = useState<string>('');\n+  const [findFunction, setFindFunction] = useState<Function>();\n+\n+  const ff = useCallback(\n+    (args) => {\n+      if (findFunction) findFunction(args);\n+      else console.warn('find function not set');\n+    },\n+    [findFunction]\n+  );\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3MjI3Mg=="}, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjQ1NTgyOnYy", "diffSide": "RIGHT", "path": "src/main/app/src/Components/Landscape/Map/Map.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwMTo0NDo1OFrOIM4KFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwOTo0NDo0OVrOIM8W6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3MzkwOA==", "bodyText": "Do we display any information to the user if a call to the backend is not succesful? We could add something to the APIClient like\naxios.get('endpoint')\n    .then((response) => {})\n    .catch((error) => {\n        console.log(error); //better something with information for the user\n    })", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550373908", "createdAt": "2020-12-31T01:44:58Z", "author": {"login": "mfbieber"}, "path": "src/main/app/src/Components/Landscape/Map/Map.tsx", "diffHunk": "@@ -177,6 +167,23 @@ const Map: React.FC<Props> = () => {\n     });\n   }, [identifier]);\n \n+  //load landscape\n+  useEffect(() => {\n+    if (!landscape) {\n+      get(`/api/${identifier}`).then((response) => {\n+        setLandscape(response);\n+        setPageTitle(response.name);\n+        if (findItem) {\n+          setFindFunction(() => findItem);\n+        }\n+      });\n+\n+      get(`/assessment/${identifier}`).then((response) => {\n+        setAssessments(response);\n+      });\n+    }\n+  }, [identifier, setPageTitle, setFindFunction, findItem, landscape]);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 205}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQ0MjcyOQ==", "bodyText": "See #350", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550442729", "createdAt": "2020-12-31T09:44:49Z", "author": {"login": "bonndan"}, "path": "src/main/app/src/Components/Landscape/Map/Map.tsx", "diffHunk": "@@ -177,6 +167,23 @@ const Map: React.FC<Props> = () => {\n     });\n   }, [identifier]);\n \n+  //load landscape\n+  useEffect(() => {\n+    if (!landscape) {\n+      get(`/api/${identifier}`).then((response) => {\n+        setLandscape(response);\n+        setPageTitle(response.name);\n+        if (findItem) {\n+          setFindFunction(() => findItem);\n+        }\n+      });\n+\n+      get(`/assessment/${identifier}`).then((response) => {\n+        setAssessments(response);\n+      });\n+    }\n+  }, [identifier, setPageTitle, setFindFunction, findItem, landscape]);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3MzkwOA=="}, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 205}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjQ1NjUxOnYy", "diffSide": "RIGHT", "path": "src/main/app/src/Components/Landscape/Map/MapRelation/MapRelation.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwMTo0NTozOVrOIM4Kaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwODoxNzo1NVrOIM7UyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3Mzk5NQ==", "bodyText": "It is \"chosen\", not \"choosen\"", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550373995", "createdAt": "2020-12-31T01:45:39Z", "author": {"login": "mfbieber"}, "path": "src/main/app/src/Components/Landscape/Map/MapRelation/MapRelation.tsx", "diffHunk": "@@ -10,49 +13,51 @@ interface Props {\n \n /**\n  * Returns a choosen Map Relation", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQyNTgwMQ==", "bodyText": "fixed", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550425801", "createdAt": "2020-12-31T08:17:55Z", "author": {"login": "bonndan"}, "path": "src/main/app/src/Components/Landscape/Map/MapRelation/MapRelation.tsx", "diffHunk": "@@ -10,49 +13,51 @@ interface Props {\n \n /**\n  * Returns a choosen Map Relation", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3Mzk5NQ=="}, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjQ2MDk3OnYy", "diffSide": "RIGHT", "path": "src/main/app/src/Components/Landscape/Map/MapRelation/MapRelation.tsx", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwMTo0OToyOVrOIM4MjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wM1QyMTowMDozMVrOINhqSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3NDU0MQ==", "bodyText": "What has to be done with this TODO?\nAnd I noticed that it is really difficult to click on the relation. I am quite sure, that an user would not have a clue that the relations are clickable. I just came across the fact that it is clickable, because I looked up how MapRelation is used in the code.\n\nThe lines must be thicker in order to be clickable properly\nA hint or something must exist to invite the user to click them, e.g. also change the mouse to the hand symbol when hovering over the (thicker) lines", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550374541", "createdAt": "2020-12-31T01:49:29Z", "author": {"login": "mfbieber"}, "path": "src/main/app/src/Components/Landscape/Map/MapRelation/MapRelation.tsx", "diffHunk": "@@ -10,49 +13,51 @@ interface Props {\n \n /**\n  * Returns a choosen Map Relation\n- * @param element Choosen SVG Element from our Landscape Component\n+ * TODO work with items and relation objects", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQwOTE0OQ==", "bodyText": "The TODO says that there are objects for items and relations available (loaded via API), but these are not used in here.\nRegarding map relations: #348", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550409149", "createdAt": "2020-12-31T06:35:45Z", "author": {"login": "bonndan"}, "path": "src/main/app/src/Components/Landscape/Map/MapRelation/MapRelation.tsx", "diffHunk": "@@ -10,49 +13,51 @@ interface Props {\n \n /**\n  * Returns a choosen Map Relation\n- * @param element Choosen SVG Element from our Landscape Component\n+ * TODO work with items and relation objects", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3NDU0MQ=="}, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTA1Mzg5OA==", "bodyText": "The hand symbol is working, nice!", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r551053898", "createdAt": "2021-01-03T21:00:31Z", "author": {"login": "mfbieber"}, "path": "src/main/app/src/Components/Landscape/Map/MapRelation/MapRelation.tsx", "diffHunk": "@@ -10,49 +13,51 @@ interface Props {\n \n /**\n  * Returns a choosen Map Relation\n- * @param element Choosen SVG Element from our Landscape Component\n+ * TODO work with items and relation objects", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3NDU0MQ=="}, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjQ2MTc3OnYy", "diffSide": "RIGHT", "path": "src/main/app/src/Components/Landscape/Map/MapRelation/MapRelation.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwMTo1MDozMlrOIM4NCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwMTo1MDozMlrOIM4NCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3NDY2NA==", "bodyText": "Instead of using this elements to style the text, consider using Typography from Material UI. I also saw it in the Events.tsx.", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550374664", "createdAt": "2020-12-31T01:50:32Z", "author": {"login": "mfbieber"}, "path": "src/main/app/src/Components/Landscape/Map/MapRelation/MapRelation.tsx", "diffHunk": "@@ -10,49 +13,51 @@ interface Props {\n \n /**\n  * Returns a choosen Map Relation\n- * @param element Choosen SVG Element from our Landscape Component\n+ * TODO work with items and relation objects\n  */\n const MapRelation: React.FC<Props> = ({ sourceIdentifier, targetIdentifier, type, findItem }) => {\n   const sourceGroupNameStart = sourceIdentifier.indexOf('/') + 1;\n   const sourceRelation = sourceIdentifier.substr(sourceGroupNameStart);\n-\n+  const classes = componentStyles();\n   const targetGroupNameStart = targetIdentifier.indexOf('/') + 1;\n   const targetRelation = targetIdentifier.substr(targetGroupNameStart);\n \n   const sourceTitle = sourceIdentifier.split('/').pop();\n   const targetTitle = targetIdentifier.split('/').pop();\n \n+  const title = 'Relation ' + sourceTitle + ' \u21c4 ' + targetTitle;\n   return (\n-    <div className='mapRelation'>\n-      <div className='titleContainer'>\n-        <span className='title'>\n-          {sourceTitle} {'\u21c4'} {targetTitle}\n-        </span>\n-      </div>\n-      <div className='mapRelationContent'>\n-        <span className='type'>Type: {type}</span>\n-        <div className='relationsContent'>\n-          <span\n-            className='relation'\n-            key={sourceIdentifier}\n-            onClick={() => {\n-              findItem(sourceIdentifier);\n-            }}\n-          >\n-            {sourceRelation}\n-          </span>\n-          <span\n-            className='relation'\n-            key={targetIdentifier}\n-            onClick={() => {\n-              findItem(targetIdentifier);\n-            }}\n-          >\n-            {targetRelation}\n-          </span>\n-        </div>\n-      </div>\n-    </div>\n+    <Card className={classes.card}>\n+      <CardHeader title={title} className={classes.cardHeader}/>\n+      <CardContent>\n+        <span>Type: {type}</span>\n+        <br />\n+        <br />\n+        Source:\n+        <br />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 67}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjQ2MjI3OnYy", "diffSide": "RIGHT", "path": "src/main/app/src/Components/Landscape/Modals/Group/Group.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwMTo1MToxNVrOIM4NVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwODoxNjozOFrOIM7T-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3NDc0MQ==", "bodyText": "Here it is also \"chosen\" and not \"choosen\"", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550374741", "createdAt": "2020-12-31T01:51:15Z", "author": {"login": "mfbieber"}, "path": "src/main/app/src/Components/Landscape/Modals/Group/Group.tsx", "diffHunk": "@@ -1,87 +1,104 @@\n-import React, { useEffect, useState } from 'react';\n-import { get } from '../../../../utils/API/APIClient';\n-import './Group.scss';\n+import React from 'react';\n \n-import { IAssessmentProps, IGroup } from '../../../../interfaces';\n-import { getLabels, getLinks, getGroupItems, getAssessmentSummary } from '../../Utils/utils';\n+import { IAssessment, IGroup } from '../../../../interfaces';\n+import { getLabels, getLinks, getAssessmentSummary, getItemIcon } from '../../Utils/utils';\n+import { Card, CardHeader } from '@material-ui/core';\n+import CardContent from '@material-ui/core/CardContent';\n+import StatusChip from '../../../StatusChip/StatusChip';\n+import componentStyles from '../../../../Ressources/styling/ComponentStyles';\n+import Typography from '@material-ui/core/Typography';\n+import Button from '@material-ui/core/Button';\n+import Avatar from '@material-ui/core/Avatar';\n \n interface Props {\n-  fullyQualifiedGroupIdentifier: string;\n+  group: IGroup;\n+  assessments: IAssessment;\n   findItem?: (fullyQualifiedGroupIdentifier: string) => void;\n   findGroup?: (fullyQualifiedGroupIdentifier: string) => void;\n-  onAssessmentClick?: (fullyQualifiedItemIdentifier: string) => void;\n }\n \n /**\n  * Returns a choosen Landscape group if informations are available", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQyNTU5Mw==", "bodyText": "fixed", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550425593", "createdAt": "2020-12-31T08:16:38Z", "author": {"login": "bonndan"}, "path": "src/main/app/src/Components/Landscape/Modals/Group/Group.tsx", "diffHunk": "@@ -1,87 +1,104 @@\n-import React, { useEffect, useState } from 'react';\n-import { get } from '../../../../utils/API/APIClient';\n-import './Group.scss';\n+import React from 'react';\n \n-import { IAssessmentProps, IGroup } from '../../../../interfaces';\n-import { getLabels, getLinks, getGroupItems, getAssessmentSummary } from '../../Utils/utils';\n+import { IAssessment, IGroup } from '../../../../interfaces';\n+import { getLabels, getLinks, getAssessmentSummary, getItemIcon } from '../../Utils/utils';\n+import { Card, CardHeader } from '@material-ui/core';\n+import CardContent from '@material-ui/core/CardContent';\n+import StatusChip from '../../../StatusChip/StatusChip';\n+import componentStyles from '../../../../Ressources/styling/ComponentStyles';\n+import Typography from '@material-ui/core/Typography';\n+import Button from '@material-ui/core/Button';\n+import Avatar from '@material-ui/core/Avatar';\n \n interface Props {\n-  fullyQualifiedGroupIdentifier: string;\n+  group: IGroup;\n+  assessments: IAssessment;\n   findItem?: (fullyQualifiedGroupIdentifier: string) => void;\n   findGroup?: (fullyQualifiedGroupIdentifier: string) => void;\n-  onAssessmentClick?: (fullyQualifiedItemIdentifier: string) => void;\n }\n \n /**\n  * Returns a choosen Landscape group if informations are available", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3NDc0MQ=="}, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjQ2MzMwOnYy", "diffSide": "RIGHT", "path": "src/main/app/src/Components/Landscape/Modals/Item/Item.tsx", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwMTo1Mjo0NVrOIM4N5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wM1QyMTowMzozNFrOINhrMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3NDg4NA==", "bodyText": "I also don't understand this TODO. I just can't parse the sentence :) What needs to be done here?", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550374884", "createdAt": "2020-12-31T01:52:45Z", "author": {"login": "mfbieber"}, "path": "src/main/app/src/Components/Landscape/Modals/Item/Item.tsx", "diffHunk": "@@ -1,116 +1,204 @@\n-import React, { useEffect, useState, ReactElement } from 'react';\n+import React, { useState, ReactElement, useEffect } from 'react';\n+import { Card, CardActions, CardHeader, Paper, Typography } from '@material-ui/core';\n import { get } from '../../../../utils/API/APIClient';\n-import './Item.scss';\n-\n-import { IItem, IAssessmentProps } from '../../../../interfaces';\n-import {\n-  getLabels,\n-  getLinks,\n-  getRelations,\n-  getAssessmentSummary,\n-  getItemIcon,\n-} from '../../Utils/utils';\n+import CardContent from '@material-ui/core/CardContent';\n+import { IAssessmentProps, IItem } from '../../../../interfaces';\n+import { getItemIcon, getLabels, getLinks } from '../../Utils/utils';\n+import Button from '@material-ui/core/Button';\n+import StatusChip from '../../../StatusChip/StatusChip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { ArrowDownward, ArrowUpward, FilterCenterFocus, MoreVertSharp } from '@material-ui/icons';\n+import componentStyles from '../../../../Ressources/styling/ComponentStyles';\n \n interface Props {\n-  fullyQualifiedItemIdentifier: string;\n-  findItem?: (fullyQualifiedItemIdentifier: string) => void;\n-  onAssessmentClick?: (fullyQualifiedItemIdentifier: string) => void;\n-  item?: IItem;\n   small?: boolean;\n+  useItem?: IItem;\n+  findItem?: Function;\n+  fullyQualifiedItemIdentifier?: string;\n }\n \n /**\n- * Returns a choosen Landscape Item if informations are available\n+ * Returns a chosen Landscape item if information is available\n+ *\n+ *\n  */\n-const Item: React.FC<Props> = ({ fullyQualifiedItemIdentifier, findItem, onAssessmentClick }) => {\n-  const [item, setItem] = useState<IItem | undefined>();\n+const Item: React.FC<Props> = ({ useItem, findItem, fullyQualifiedItemIdentifier, small }) => {\n   const [assessment, setAssessment] = useState<IAssessmentProps[] | undefined>(undefined);\n+  const [item, setItem] = useState<IItem | undefined>(undefined);\n+  const [compact, setCompact] = useState<boolean>(false);\n+  const classes = componentStyles();\n+  let relations: ReactElement[] = [];\n \n   useEffect(() => {\n-    get(`/api/${fullyQualifiedItemIdentifier}`).then((item) => {\n+    const loadAssessment = (item: IItem) => {\n+      const landscapeIdentifier = item ? item.fullyQualifiedIdentifier.split('/') : [];\n+\n+      if (landscapeIdentifier[0]) {\n+        //TODO load direct to with fqi in path", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQwOTQ5MA==", "bodyText": "I meant it is not necessary to split strings since each item has a fullyQualifiedIdentifier that can be used directly as API call path element. Also, the complete data has already been loaded (but not by the search component)", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550409490", "createdAt": "2020-12-31T06:37:52Z", "author": {"login": "bonndan"}, "path": "src/main/app/src/Components/Landscape/Modals/Item/Item.tsx", "diffHunk": "@@ -1,116 +1,204 @@\n-import React, { useEffect, useState, ReactElement } from 'react';\n+import React, { useState, ReactElement, useEffect } from 'react';\n+import { Card, CardActions, CardHeader, Paper, Typography } from '@material-ui/core';\n import { get } from '../../../../utils/API/APIClient';\n-import './Item.scss';\n-\n-import { IItem, IAssessmentProps } from '../../../../interfaces';\n-import {\n-  getLabels,\n-  getLinks,\n-  getRelations,\n-  getAssessmentSummary,\n-  getItemIcon,\n-} from '../../Utils/utils';\n+import CardContent from '@material-ui/core/CardContent';\n+import { IAssessmentProps, IItem } from '../../../../interfaces';\n+import { getItemIcon, getLabels, getLinks } from '../../Utils/utils';\n+import Button from '@material-ui/core/Button';\n+import StatusChip from '../../../StatusChip/StatusChip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { ArrowDownward, ArrowUpward, FilterCenterFocus, MoreVertSharp } from '@material-ui/icons';\n+import componentStyles from '../../../../Ressources/styling/ComponentStyles';\n \n interface Props {\n-  fullyQualifiedItemIdentifier: string;\n-  findItem?: (fullyQualifiedItemIdentifier: string) => void;\n-  onAssessmentClick?: (fullyQualifiedItemIdentifier: string) => void;\n-  item?: IItem;\n   small?: boolean;\n+  useItem?: IItem;\n+  findItem?: Function;\n+  fullyQualifiedItemIdentifier?: string;\n }\n \n /**\n- * Returns a choosen Landscape Item if informations are available\n+ * Returns a chosen Landscape item if information is available\n+ *\n+ *\n  */\n-const Item: React.FC<Props> = ({ fullyQualifiedItemIdentifier, findItem, onAssessmentClick }) => {\n-  const [item, setItem] = useState<IItem | undefined>();\n+const Item: React.FC<Props> = ({ useItem, findItem, fullyQualifiedItemIdentifier, small }) => {\n   const [assessment, setAssessment] = useState<IAssessmentProps[] | undefined>(undefined);\n+  const [item, setItem] = useState<IItem | undefined>(undefined);\n+  const [compact, setCompact] = useState<boolean>(false);\n+  const classes = componentStyles();\n+  let relations: ReactElement[] = [];\n \n   useEffect(() => {\n-    get(`/api/${fullyQualifiedItemIdentifier}`).then((item) => {\n+    const loadAssessment = (item: IItem) => {\n+      const landscapeIdentifier = item ? item.fullyQualifiedIdentifier.split('/') : [];\n+\n+      if (landscapeIdentifier[0]) {\n+        //TODO load direct to with fqi in path", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3NDg4NA=="}, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTA1NDEzMQ==", "bodyText": "So we could just do get(`/assessment/${landscapeIdentifier}`) directly and our backend already supports that?\nOr what has to be done to be able to do that call?\nRegarding the already loaded data: do you mean that this call is not really necesary because another call to the backend already retrieved the data this call would retrieve?", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r551054131", "createdAt": "2021-01-03T21:03:34Z", "author": {"login": "mfbieber"}, "path": "src/main/app/src/Components/Landscape/Modals/Item/Item.tsx", "diffHunk": "@@ -1,116 +1,204 @@\n-import React, { useEffect, useState, ReactElement } from 'react';\n+import React, { useState, ReactElement, useEffect } from 'react';\n+import { Card, CardActions, CardHeader, Paper, Typography } from '@material-ui/core';\n import { get } from '../../../../utils/API/APIClient';\n-import './Item.scss';\n-\n-import { IItem, IAssessmentProps } from '../../../../interfaces';\n-import {\n-  getLabels,\n-  getLinks,\n-  getRelations,\n-  getAssessmentSummary,\n-  getItemIcon,\n-} from '../../Utils/utils';\n+import CardContent from '@material-ui/core/CardContent';\n+import { IAssessmentProps, IItem } from '../../../../interfaces';\n+import { getItemIcon, getLabels, getLinks } from '../../Utils/utils';\n+import Button from '@material-ui/core/Button';\n+import StatusChip from '../../../StatusChip/StatusChip';\n+import IconButton from '@material-ui/core/IconButton';\n+import { ArrowDownward, ArrowUpward, FilterCenterFocus, MoreVertSharp } from '@material-ui/icons';\n+import componentStyles from '../../../../Ressources/styling/ComponentStyles';\n \n interface Props {\n-  fullyQualifiedItemIdentifier: string;\n-  findItem?: (fullyQualifiedItemIdentifier: string) => void;\n-  onAssessmentClick?: (fullyQualifiedItemIdentifier: string) => void;\n-  item?: IItem;\n   small?: boolean;\n+  useItem?: IItem;\n+  findItem?: Function;\n+  fullyQualifiedItemIdentifier?: string;\n }\n \n /**\n- * Returns a choosen Landscape Item if informations are available\n+ * Returns a chosen Landscape item if information is available\n+ *\n+ *\n  */\n-const Item: React.FC<Props> = ({ fullyQualifiedItemIdentifier, findItem, onAssessmentClick }) => {\n-  const [item, setItem] = useState<IItem | undefined>();\n+const Item: React.FC<Props> = ({ useItem, findItem, fullyQualifiedItemIdentifier, small }) => {\n   const [assessment, setAssessment] = useState<IAssessmentProps[] | undefined>(undefined);\n+  const [item, setItem] = useState<IItem | undefined>(undefined);\n+  const [compact, setCompact] = useState<boolean>(false);\n+  const classes = componentStyles();\n+  let relations: ReactElement[] = [];\n \n   useEffect(() => {\n-    get(`/api/${fullyQualifiedItemIdentifier}`).then((item) => {\n+    const loadAssessment = (item: IItem) => {\n+      const landscapeIdentifier = item ? item.fullyQualifiedIdentifier.split('/') : [];\n+\n+      if (landscapeIdentifier[0]) {\n+        //TODO load direct to with fqi in path", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3NDg4NA=="}, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 56}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjQ3MjA3OnYy", "diffSide": "RIGHT", "path": "src/main/app/src/Components/Landscape/Modals/Group/Group.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwMjowMDo1NlrOIM4SEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwNjo0MDo0NVrOIM6WuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3NTk1Mw==", "bodyText": "I noticed that in the map, it is not possible to click on the group background to focus on that group. I would have expected to get a focus on it and to have the group information displayed at the \"sidebar\"", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550375953", "createdAt": "2020-12-31T02:00:56Z", "author": {"login": "mfbieber"}, "path": "src/main/app/src/Components/Landscape/Modals/Group/Group.tsx", "diffHunk": "@@ -1,87 +1,104 @@\n-import React, { useEffect, useState } from 'react';\n-import { get } from '../../../../utils/API/APIClient';\n-import './Group.scss';\n+import React from 'react';\n \n-import { IAssessmentProps, IGroup } from '../../../../interfaces';\n-import { getLabels, getLinks, getGroupItems, getAssessmentSummary } from '../../Utils/utils';\n+import { IAssessment, IGroup } from '../../../../interfaces';\n+import { getLabels, getLinks, getAssessmentSummary, getItemIcon } from '../../Utils/utils';\n+import { Card, CardHeader } from '@material-ui/core';\n+import CardContent from '@material-ui/core/CardContent';\n+import StatusChip from '../../../StatusChip/StatusChip';\n+import componentStyles from '../../../../Ressources/styling/ComponentStyles';\n+import Typography from '@material-ui/core/Typography';\n+import Button from '@material-ui/core/Button';\n+import Avatar from '@material-ui/core/Avatar';\n \n interface Props {\n-  fullyQualifiedGroupIdentifier: string;\n+  group: IGroup;\n+  assessments: IAssessment;\n   findItem?: (fullyQualifiedGroupIdentifier: string) => void;\n   findGroup?: (fullyQualifiedGroupIdentifier: string) => void;\n-  onAssessmentClick?: (fullyQualifiedItemIdentifier: string) => void;\n }\n \n /**\n  * Returns a choosen Landscape group if informations are available\n  */\n-const Group: React.FC<Props> = ({\n-  fullyQualifiedGroupIdentifier,\n-  findItem,\n-  findGroup,\n-  onAssessmentClick,\n-}) => {\n-  const [group, setGroup] = useState<IGroup | undefined>();\n-  const [assessment, setAssessment] = useState<IAssessmentProps[] | undefined>(undefined);\n+const Group: React.FC<Props> = ({ group, assessments, findItem, findGroup }) => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQwOTkxMg==", "bodyText": "#349", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550409912", "createdAt": "2020-12-31T06:40:45Z", "author": {"login": "bonndan"}, "path": "src/main/app/src/Components/Landscape/Modals/Group/Group.tsx", "diffHunk": "@@ -1,87 +1,104 @@\n-import React, { useEffect, useState } from 'react';\n-import { get } from '../../../../utils/API/APIClient';\n-import './Group.scss';\n+import React from 'react';\n \n-import { IAssessmentProps, IGroup } from '../../../../interfaces';\n-import { getLabels, getLinks, getGroupItems, getAssessmentSummary } from '../../Utils/utils';\n+import { IAssessment, IGroup } from '../../../../interfaces';\n+import { getLabels, getLinks, getAssessmentSummary, getItemIcon } from '../../Utils/utils';\n+import { Card, CardHeader } from '@material-ui/core';\n+import CardContent from '@material-ui/core/CardContent';\n+import StatusChip from '../../../StatusChip/StatusChip';\n+import componentStyles from '../../../../Ressources/styling/ComponentStyles';\n+import Typography from '@material-ui/core/Typography';\n+import Button from '@material-ui/core/Button';\n+import Avatar from '@material-ui/core/Avatar';\n \n interface Props {\n-  fullyQualifiedGroupIdentifier: string;\n+  group: IGroup;\n+  assessments: IAssessment;\n   findItem?: (fullyQualifiedGroupIdentifier: string) => void;\n   findGroup?: (fullyQualifiedGroupIdentifier: string) => void;\n-  onAssessmentClick?: (fullyQualifiedItemIdentifier: string) => void;\n }\n \n /**\n  * Returns a choosen Landscape group if informations are available\n  */\n-const Group: React.FC<Props> = ({\n-  fullyQualifiedGroupIdentifier,\n-  findItem,\n-  findGroup,\n-  onAssessmentClick,\n-}) => {\n-  const [group, setGroup] = useState<IGroup | undefined>();\n-  const [assessment, setAssessment] = useState<IAssessmentProps[] | undefined>(undefined);\n+const Group: React.FC<Props> = ({ group, assessments, findItem, findGroup }) => {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3NTk1Mw=="}, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjQ3MzA5OnYy", "diffSide": "RIGHT", "path": "src/main/app/src/Components/Landscape/Map/Map.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwMjowMjowNFrOIM4SkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwODoxNjowMlrOIM7TVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3NjA4MA==", "bodyText": "The sidebar is more like a card. I would call it InformationCardor something else than \"sidebar\". I think sidebar is actually a bar at the right or left side of the page that goes from the top to the bottom?", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550376080", "createdAt": "2020-12-31T02:02:04Z", "author": {"login": "mfbieber"}, "path": "src/main/app/src/Components/Landscape/Map/Map.tsx", "diffHunk": "@@ -36,79 +51,59 @@ interface SVGData {\n }\n \n /**\n- * Displays a choosen landscape as interactive SVG\n- * @param identifier Landscape Identifier\n- * @param onItemClick Handler for our label click\n+ * Displays a chosen landscape as interactive SVG\n+ *\n+ * @param setSidebarContent function to set sidebar/drawer content\n+ * @param setFindFunction function to use to find an item. make sure to pass an anon func returning the actually used function\n+ * @param setPageTitle can be used to set the page title in parent state\n  */\n-const Map: React.FC<Props> = () => {\n+const Map: React.FC<Props> = ({ setSidebarContent, setFindFunction, setPageTitle }) => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQyNTQyOA==", "bodyText": "As mentioned the sidebar indeed is a container for content, mostly cards, and goes from top to bottom \ud83d\ude04", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550425428", "createdAt": "2020-12-31T08:16:02Z", "author": {"login": "bonndan"}, "path": "src/main/app/src/Components/Landscape/Map/Map.tsx", "diffHunk": "@@ -36,79 +51,59 @@ interface SVGData {\n }\n \n /**\n- * Displays a choosen landscape as interactive SVG\n- * @param identifier Landscape Identifier\n- * @param onItemClick Handler for our label click\n+ * Displays a chosen landscape as interactive SVG\n+ *\n+ * @param setSidebarContent function to set sidebar/drawer content\n+ * @param setFindFunction function to use to find an item. make sure to pass an anon func returning the actually used function\n+ * @param setPageTitle can be used to set the page title in parent state\n  */\n-const Map: React.FC<Props> = () => {\n+const Map: React.FC<Props> = ({ setSidebarContent, setFindFunction, setPageTitle }) => {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3NjA4MA=="}, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 64}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjQ3OTYwOnYy", "diffSide": "RIGHT", "path": "src/main/app/src/Components/Landscape/Search/Search.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwMjowODo0MlrOIM4V3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwODoxMjo0NVrOIM7Q6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3NjkyNQ==", "bodyText": "I like the search field \ud83d\udc4d\nUnfortunately, it does not work well all the time. This should be better (backend functionality):\n\nfind results regardless of upper and lowercase input\nfind also partial words, e.g. with \"word\" I would like to already get \"wordpress\". Maybe one could match once an user has typed 3 chars\n\"emailer\" does not find the emailer. This is most probably a bug?", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550376925", "createdAt": "2020-12-31T02:08:42Z", "author": {"login": "mfbieber"}, "path": "src/main/app/src/Components/Landscape/Search/Search.tsx", "diffHunk": "@@ -31,39 +43,50 @@ interface ILabelValue {\n   value: number;\n }\n \n-const Search: React.FC<PropsInterface> = (props: PropsInterface) => {\n+const Search: React.FC<PropsInterface> = ({findFunction, setSidebarContent, ...props}) => {\n   const match: { params?: { identifier?: string } } | null = matchPath(props.location.pathname, {\n     path: Routes.MAP_ROUTE,\n     exact: false,\n     strict: false,\n   });\n \n   const identifier = match?.params?.identifier;\n+  const [currentLandscape, setCurrentLandscape] = useState<string>('');\n   const [results, setResults] = useState<IItem[]>([]);\n   const [facets, setFacets] = useState<IFacet[]>([]);\n   const [searchTerm, setSearchTerm] = useState('');\n   const [hasChange, setHasChange] = useState(false);\n-  const [hasFocus, setHasFocus] = useState(false);\n-\n+  const classes = useStyles();\n+  const componentClasses = componentStyles();\n   const searchInput = React.useRef<HTMLDivElement>(null);\n \n-  async function search(searchTerm: string, identifier: string) {\n-    if (searchTerm.length < 2) return;\n-\n-    const result: IItem[] | null = await get(\n-      '/api/landscape/' +\n-        identifier +\n-        '/search/' +\n-        encodeURIComponent(searchTerm)\n-          .replace(/[!'()]/g, escape)\n-          .replace(/\\*/g, '%2A')\n-    );\n-\n-    if (!result) return;\n-\n-    setResults(result);\n-    setHasChange(false);\n-  }\n+  const search = useCallback(\n+    (searchTerm: string, identifier: string) => {\n+      if (searchTerm.length < 2) return;\n+\n+      get(\n+        '/api/landscape/' +\n+          identifier +\n+          '/search/' +\n+          encodeURIComponent(searchTerm)\n+            .replace(/[!'()]/g, escape)\n+            .replace(/\\*/g, '%2A')", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 94}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQyNDgxMQ==", "bodyText": "I've quoted your remarks in #302", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550424811", "createdAt": "2020-12-31T08:12:45Z", "author": {"login": "bonndan"}, "path": "src/main/app/src/Components/Landscape/Search/Search.tsx", "diffHunk": "@@ -31,39 +43,50 @@ interface ILabelValue {\n   value: number;\n }\n \n-const Search: React.FC<PropsInterface> = (props: PropsInterface) => {\n+const Search: React.FC<PropsInterface> = ({findFunction, setSidebarContent, ...props}) => {\n   const match: { params?: { identifier?: string } } | null = matchPath(props.location.pathname, {\n     path: Routes.MAP_ROUTE,\n     exact: false,\n     strict: false,\n   });\n \n   const identifier = match?.params?.identifier;\n+  const [currentLandscape, setCurrentLandscape] = useState<string>('');\n   const [results, setResults] = useState<IItem[]>([]);\n   const [facets, setFacets] = useState<IFacet[]>([]);\n   const [searchTerm, setSearchTerm] = useState('');\n   const [hasChange, setHasChange] = useState(false);\n-  const [hasFocus, setHasFocus] = useState(false);\n-\n+  const classes = useStyles();\n+  const componentClasses = componentStyles();\n   const searchInput = React.useRef<HTMLDivElement>(null);\n \n-  async function search(searchTerm: string, identifier: string) {\n-    if (searchTerm.length < 2) return;\n-\n-    const result: IItem[] | null = await get(\n-      '/api/landscape/' +\n-        identifier +\n-        '/search/' +\n-        encodeURIComponent(searchTerm)\n-          .replace(/[!'()]/g, escape)\n-          .replace(/\\*/g, '%2A')\n-    );\n-\n-    if (!result) return;\n-\n-    setResults(result);\n-    setHasChange(false);\n-  }\n+  const search = useCallback(\n+    (searchTerm: string, identifier: string) => {\n+      if (searchTerm.length < 2) return;\n+\n+      get(\n+        '/api/landscape/' +\n+          identifier +\n+          '/search/' +\n+          encodeURIComponent(searchTerm)\n+            .replace(/[!'()]/g, escape)\n+            .replace(/\\*/g, '%2A')", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3NjkyNQ=="}, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 94}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjQ4MDU0OnYy", "diffSide": "RIGHT", "path": "src/main/app/src/Components/Navigation/Navigation.tsx", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQwMjowOTozOFrOIM4WTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wM1QyMDo1NDo1M1rOINhoEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3NzAzOA==", "bodyText": "See my comment above about the naming of the \"sidebar\", that in my opinion is a card showing information and not a sidebar :)", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550377038", "createdAt": "2020-12-31T02:09:38Z", "author": {"login": "mfbieber"}, "path": "src/main/app/src/Components/Navigation/Navigation.tsx", "diffHunk": "@@ -1,61 +1,70 @@\n import React from 'react';\n-// import Grid from '@material-ui/core/Grid';\n-import { Button, Typography, AppBar, Theme, createStyles, ButtonGroup } from '@material-ui/core';\n+import { Typography, AppBar, Theme, createStyles, Box, darken } from '@material-ui/core';\n import { Link } from 'react-router-dom';\n \n import Toolbar from '@material-ui/core/Toolbar';\n-import './Navigation.scss';\n-\n-import FavoriteIcon from '@material-ui/icons/Favorite';\n \n import makeStyles from '@material-ui/core/styles/makeStyles';\n+import Search from '../Landscape/Search/Search';\n+import { HelpOutlineRounded } from '@material-ui/icons';\n+import IconButton from '@material-ui/core/IconButton';\n+import Button from '@material-ui/core/Button';\n \n const useStyles = makeStyles((theme: Theme) =>\n   createStyles({\n     grow: {\n       flexGrow: 1,\n     },\n-    title: {\n-      marginRight: '20px',\n+    pageTitle: {\n+      padding: 11,\n+      paddingLeft: 16,\n+      paddingRight: 16,\n+      backgroundColor: darken(theme.palette.secondary.main, 0.2),\n+    },\n+    menuIcon: {\n       color: 'rgba(255, 255, 255, 0.75)',\n     },\n   })\n );\n \n+interface Props {\n+  appBarClass: string;\n+  setSidebarContent: Function;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQxMDQ0MA==", "bodyText": "My idea was that the sidebar could hold any information, although now mostly single cards appear. However, if you click the \"log\" button on the front page or the \"more/extend\" symbol next to the search field, other content that cards appears.", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r550410440", "createdAt": "2020-12-31T06:43:53Z", "author": {"login": "bonndan"}, "path": "src/main/app/src/Components/Navigation/Navigation.tsx", "diffHunk": "@@ -1,61 +1,70 @@\n import React from 'react';\n-// import Grid from '@material-ui/core/Grid';\n-import { Button, Typography, AppBar, Theme, createStyles, ButtonGroup } from '@material-ui/core';\n+import { Typography, AppBar, Theme, createStyles, Box, darken } from '@material-ui/core';\n import { Link } from 'react-router-dom';\n \n import Toolbar from '@material-ui/core/Toolbar';\n-import './Navigation.scss';\n-\n-import FavoriteIcon from '@material-ui/icons/Favorite';\n \n import makeStyles from '@material-ui/core/styles/makeStyles';\n+import Search from '../Landscape/Search/Search';\n+import { HelpOutlineRounded } from '@material-ui/icons';\n+import IconButton from '@material-ui/core/IconButton';\n+import Button from '@material-ui/core/Button';\n \n const useStyles = makeStyles((theme: Theme) =>\n   createStyles({\n     grow: {\n       flexGrow: 1,\n     },\n-    title: {\n-      marginRight: '20px',\n+    pageTitle: {\n+      padding: 11,\n+      paddingLeft: 16,\n+      paddingRight: 16,\n+      backgroundColor: darken(theme.palette.secondary.main, 0.2),\n+    },\n+    menuIcon: {\n       color: 'rgba(255, 255, 255, 0.75)',\n     },\n   })\n );\n \n+interface Props {\n+  appBarClass: string;\n+  setSidebarContent: Function;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3NzAzOA=="}, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTA1MzMzMA==", "bodyText": "Okay, so the sidebar contains cards. Alright ;)", "url": "https://github.com/dedica-team/nivio/pull/342#discussion_r551053330", "createdAt": "2021-01-03T20:54:53Z", "author": {"login": "mfbieber"}, "path": "src/main/app/src/Components/Navigation/Navigation.tsx", "diffHunk": "@@ -1,61 +1,70 @@\n import React from 'react';\n-// import Grid from '@material-ui/core/Grid';\n-import { Button, Typography, AppBar, Theme, createStyles, ButtonGroup } from '@material-ui/core';\n+import { Typography, AppBar, Theme, createStyles, Box, darken } from '@material-ui/core';\n import { Link } from 'react-router-dom';\n \n import Toolbar from '@material-ui/core/Toolbar';\n-import './Navigation.scss';\n-\n-import FavoriteIcon from '@material-ui/icons/Favorite';\n \n import makeStyles from '@material-ui/core/styles/makeStyles';\n+import Search from '../Landscape/Search/Search';\n+import { HelpOutlineRounded } from '@material-ui/icons';\n+import IconButton from '@material-ui/core/IconButton';\n+import Button from '@material-ui/core/Button';\n \n const useStyles = makeStyles((theme: Theme) =>\n   createStyles({\n     grow: {\n       flexGrow: 1,\n     },\n-    title: {\n-      marginRight: '20px',\n+    pageTitle: {\n+      padding: 11,\n+      paddingLeft: 16,\n+      paddingRight: 16,\n+      backgroundColor: darken(theme.palette.secondary.main, 0.2),\n+    },\n+    menuIcon: {\n       color: 'rgba(255, 255, 255, 0.75)',\n     },\n   })\n );\n \n+interface Props {\n+  appBarClass: string;\n+  setSidebarContent: Function;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDM3NzAzOA=="}, "originalCommit": {"oid": "3f130a385eb3a26bf812818d9f0befae5fdbe994"}, "originalPosition": 39}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4061, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}