{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY1MTc0OTg2", "number": 16510, "title": "Do not check split-brain-protected presence when not enabled in config", "bodyText": "Fixes #16507", "createdAt": "2020-01-21T09:21:29Z", "url": "https://github.com/hazelcast/hazelcast/pull/16510", "merged": true, "mergeCommit": {"oid": "aaa63d2c60b795e898348c668310388dffe108a2"}, "closed": true, "closedAt": "2020-01-21T12:54:28Z", "author": {"login": "mdogan"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb8drcWgFqTM0NTczMjAwMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcGLI_MAFqTM2MTg5ODI1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1NzMyMDAy", "url": "https://github.com/hazelcast/hazelcast/pull/16510#pullrequestreview-345732002", "createdAt": "2020-01-21T09:25:05Z", "commit": {"oid": "e6636d5394eb447409c46ad9e0c1b41f6a922dce"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1ODE4MjAz", "url": "https://github.com/hazelcast/hazelcast/pull/16510#pullrequestreview-345818203", "createdAt": "2020-01-21T11:46:58Z", "commit": {"oid": "e6636d5394eb447409c46ad9e0c1b41f6a922dce"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxMTo0Njo1OFrOFf3QDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxMTo0Njo1OFrOFf3QDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODk1NTQwNQ==", "bodyText": "Uber-minor: naming it splitBrainProtectionService or simply not extracting the local variable might be a better alternative since it's not called QuorumService anymore.", "url": "https://github.com/hazelcast/hazelcast/pull/16510#discussion_r368955405", "createdAt": "2020-01-21T11:46:58Z", "author": {"login": "blazember"}, "path": "hazelcast/src/test/java/com/hazelcast/splitbrainprotection/SplitBrainProtectionTest.java", "diffHunk": "@@ -53,6 +53,26 @@\n @Category({QuickTest.class, ParallelJVMTest.class})\n public class SplitBrainProtectionTest extends HazelcastTestSupport {\n \n+    @Test\n+    public void testSplitBrainProtectionNotChecked_whenIsNotEnabled() {\n+        String disabledSBPName = \"disabled-quorum\";\n+        SplitBrainProtectionConfig disabledSBPConfig = new SplitBrainProtectionConfig()\n+                .setName(disabledSBPName)\n+                .setMinimumClusterSize(3);\n+\n+        MapConfig mapConfig = new MapConfig(randomMapName())\n+                .setSplitBrainProtectionName(disabledSBPName);\n+\n+        Config config = new Config()\n+                .addSplitBrainProtectionConfig(disabledSBPConfig)\n+                .addMapConfig(mapConfig);\n+        HazelcastInstance instance = createHazelcastInstance(config);\n+\n+        SplitBrainProtectionService quorumService = instance.getSplitBrainProtectionService();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e6636d5394eb447409c46ad9e0c1b41f6a922dce"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4332db1e0884bdf5f3b08fc402dc0d61f1073662", "author": {"user": {"login": "mdogan", "name": "Mehmet Dogan"}}, "url": "https://github.com/hazelcast/hazelcast/commit/4332db1e0884bdf5f3b08fc402dc0d61f1073662", "committedDate": "2020-01-21T11:55:20Z", "message": "Do not check split-brain-protected presence when not enabled in config"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e6636d5394eb447409c46ad9e0c1b41f6a922dce", "author": {"user": {"login": "mdogan", "name": "Mehmet Dogan"}}, "url": "https://github.com/hazelcast/hazelcast/commit/e6636d5394eb447409c46ad9e0c1b41f6a922dce", "committedDate": "2020-01-21T09:20:39Z", "message": "Do not check split-brain-protected presence when not enabled in config"}, "afterCommit": {"oid": "4332db1e0884bdf5f3b08fc402dc0d61f1073662", "author": {"user": {"login": "mdogan", "name": "Mehmet Dogan"}}, "url": "https://github.com/hazelcast/hazelcast/commit/4332db1e0884bdf5f3b08fc402dc0d61f1073662", "committedDate": "2020-01-21T11:55:20Z", "message": "Do not check split-brain-protected presence when not enabled in config"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxODk4MjUy", "url": "https://github.com/hazelcast/hazelcast/pull/16510#pullrequestreview-361898252", "createdAt": "2020-02-20T13:28:24Z", "commit": {"oid": "4332db1e0884bdf5f3b08fc402dc0d61f1073662"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4045, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}