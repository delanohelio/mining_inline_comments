{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcwNjgwODc2", "number": 17383, "title": "SQL public API polishing (#17354)", "bodyText": "This PR introduces the following changes to public API:\n\nRenamed SqlException to HazelcastSqlException\nSqlErrorCode is moved to a private package. HazelcastSqlException.getCode is marked as a private API. The motivation for this change - users do no need error codes at the moment. Codes are mostly needed by future JDBC integration. No need to increase the public API surface for now\nSqlQuery renamed to SqlStatement to reflect the fact that it could be not only query but also DDL/DML\nSqlService.query renamed to SqlService.execute\nSqlConfig.queryTimeoutMillis renamed to SqlConfig.statementTimeoutMillis\n\nEnterprise PR: https://github.com/hazelcast/hazelcast-enterprise/pull/3728\nCloses #17354", "createdAt": "2020-08-20T06:02:56Z", "url": "https://github.com/hazelcast/hazelcast/pull/17383", "merged": true, "mergeCommit": {"oid": "8f550a9c822c2618b8601f26b5e22a1fe0a95bed"}, "closed": true, "closedAt": "2020-08-21T19:11:51Z", "author": {"login": "devozerov"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdApyLWgH2gAyNDcwNjgwODc2OjcyZThhOWM4OWMwMzFlYjY2YWFhMmYwNjc3MjBhZWQ1YjliYzFhZjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdBFQJHgFqTQ3MjUxMjMwNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "72e8a9c89c031eb66aaa2f067720aed5b9bc1af6", "author": {"user": {"login": "devozerov", "name": "Vladimir Ozerov"}}, "url": "https://github.com/hazelcast/hazelcast/commit/72e8a9c89c031eb66aaa2f067720aed5b9bc1af6", "committedDate": "2020-08-20T05:58:09Z", "message": "SQL public API polishing (#17354)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxMjkwMzgw", "url": "https://github.com/hazelcast/hazelcast/pull/17383#pullrequestreview-471290380", "createdAt": "2020-08-20T06:47:47Z", "commit": {"oid": "72e8a9c89c031eb66aaa2f067720aed5b9bc1af6"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQwNjo0Nzo0OFrOHDt6_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQwNzowMjo1OFrOHDup4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzY2MDE1Ng==", "bodyText": "Javadoc needs updating throughout the entire class.", "url": "https://github.com/hazelcast/hazelcast/pull/17383#discussion_r473660156", "createdAt": "2020-08-20T06:47:48Z", "author": {"login": "viliam-durina"}, "path": "hazelcast/src/main/java/com/hazelcast/sql/SqlStatement.java", "diffHunk": "@@ -30,7 +30,7 @@\n  * This object is mutable. Properties are read once before the execution is started.\n  * Changes to properties do not affect the behavior of already running queries.\n  */\n-public final class SqlQuery {\n+public final class SqlStatement {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72e8a9c89c031eb66aaa2f067720aed5b9bc1af6"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzY3MjE2MQ==", "bodyText": "Javadoc:\n\"Executes a distributed query.\" -> \"Executes a SQL statement.\"", "url": "https://github.com/hazelcast/hazelcast/pull/17383#discussion_r473672161", "createdAt": "2020-08-20T07:02:58Z", "author": {"login": "viliam-durina"}, "path": "hazelcast/src/main/java/com/hazelcast/sql/SqlService.java", "diffHunk": "@@ -142,10 +142,10 @@ default SqlResult query(@Nonnull String sql, Object... params) {\n      * @param query query to be executed\n      * @return result\n      * @throws NullPointerException if the query is null\n-     * @throws SqlException in case of execution error\n+     * @throws HazelcastSqlException in case of execution error\n      *\n      * @see SqlService\n      */\n     @Nonnull\n-    SqlResult query(@Nonnull SqlQuery query);\n+    SqlResult execute(@Nonnull SqlStatement query);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72e8a9c89c031eb66aaa2f067720aed5b9bc1af6"}, "originalPosition": 59}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "031174893f2333405c47944c756177ed4a27f290", "author": {"user": {"login": "devozerov", "name": "Vladimir Ozerov"}}, "url": "https://github.com/hazelcast/hazelcast/commit/031174893f2333405c47944c756177ed4a27f290", "committedDate": "2020-08-20T07:29:45Z", "message": "1. Replace \"query\" with \"statement\" in JavaDoc\n1. Remove \"query\" from SqlConfig.timeoutMillis"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e2721a6f188012356de807d15467ab1a3151506", "author": {"user": {"login": "devozerov", "name": "Vladimir Ozerov"}}, "url": "https://github.com/hazelcast/hazelcast/commit/9e2721a6f188012356de807d15467ab1a3151506", "committedDate": "2020-08-20T08:35:49Z", "message": "Fix XML handling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d4c152558d4a5894f97eb59d075e06a9ad6aa44", "author": {"user": {"login": "devozerov", "name": "Vladimir Ozerov"}}, "url": "https://github.com/hazelcast/hazelcast/commit/6d4c152558d4a5894f97eb59d075e06a9ad6aa44", "committedDate": "2020-08-20T08:44:07Z", "message": "Merge branch 'master' into issues/17354"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a67e3eb827f702f260019a0062b7e3b40fb07592", "author": {"user": {"login": "devozerov", "name": "Vladimir Ozerov"}}, "url": "https://github.com/hazelcast/hazelcast/commit/a67e3eb827f702f260019a0062b7e3b40fb07592", "committedDate": "2020-08-20T08:54:24Z", "message": "Fix compilation after merge with master"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyNDY1MDcx", "url": "https://github.com/hazelcast/hazelcast/pull/17383#pullrequestreview-472465071", "createdAt": "2020-08-21T12:57:40Z", "commit": {"oid": "a67e3eb827f702f260019a0062b7e3b40fb07592"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxMjo1Nzo0MFrOHEsJKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMVQxMjo1Nzo0MFrOHEsJKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NDY3OTU5NQ==", "bodyText": "Minor, formatting issue?", "url": "https://github.com/hazelcast/hazelcast/pull/17383#discussion_r474679595", "createdAt": "2020-08-21T12:57:40Z", "author": {"login": "petrpleshachkov"}, "path": "hazelcast/src/main/java/com/hazelcast/sql/SqlColumnType.java", "diffHunk": "@@ -61,7 +61,7 @@\n     TIME(10, LocalTime.class),\n \n     /** TIMESTAMP type,, represented by {@link java.time.LocalDateTime} */\n-    TIMESTAMP(11, LocalDateTime.class),\n+        TIMESTAMP(11, LocalDateTime.class),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a67e3eb827f702f260019a0062b7e3b40fb07592"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c68c11931e112c7bdcad699142a745ce156c78f4", "author": {"user": {"login": "devozerov", "name": "Vladimir Ozerov"}}, "url": "https://github.com/hazelcast/hazelcast/commit/c68c11931e112c7bdcad699142a745ce156c78f4", "committedDate": "2020-08-21T13:14:40Z", "message": "Merge branch 'master' into issues/17354"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da42ec1555e791774bb699e2a3b7e94367c2a84a", "author": {"user": {"login": "devozerov", "name": "Vladimir Ozerov"}}, "url": "https://github.com/hazelcast/hazelcast/commit/da42ec1555e791774bb699e2a3b7e94367c2a84a", "committedDate": "2020-08-21T13:33:51Z", "message": "SqlConfig.timeoutMillis -> SqlConfig.statementExecutionTimeoutMillis"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61e705530415a0c6f078eeaa26f88c61c48e8a12", "author": {"user": {"login": "devozerov", "name": "Vladimir Ozerov"}}, "url": "https://github.com/hazelcast/hazelcast/commit/61e705530415a0c6f078eeaa26f88c61c48e8a12", "committedDate": "2020-08-21T13:43:07Z", "message": "Fix compilation and checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a469c1e2b221a7d39697e9d8aa044c39275e9d9", "author": {"user": {"login": "devozerov", "name": "Vladimir Ozerov"}}, "url": "https://github.com/hazelcast/hazelcast/commit/0a469c1e2b221a7d39697e9d8aa044c39275e9d9", "committedDate": "2020-08-21T13:49:35Z", "message": "statement-execution-timeout-millis -> statement-timeout-millis"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyNTEyMzA0", "url": "https://github.com/hazelcast/hazelcast/pull/17383#pullrequestreview-472512304", "createdAt": "2020-08-21T13:58:19Z", "commit": {"oid": "0a469c1e2b221a7d39697e9d8aa044c39275e9d9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3412, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}