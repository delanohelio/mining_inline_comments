{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY1MTQ2Mzc3", "number": 16508, "title": "Indicate eviction works by returning a boolean result)", "bodyText": "This change is needed for hazelcast/hazelcast-enterprise#3497", "createdAt": "2020-01-21T08:06:48Z", "url": "https://github.com/hazelcast/hazelcast/pull/16508", "merged": true, "mergeCommit": {"oid": "9a766c1d666bc2ea547d8eec94fc4e6cc1d41677"}, "closed": true, "closedAt": "2020-01-22T09:41:49Z", "author": {"login": "ahmetmircik"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb8hib-AFqTM0NTg4ODY4OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb8zBgFgFqTM0NjQ3NjM1NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1ODg4Njg4", "url": "https://github.com/hazelcast/hazelcast/pull/16508#pullrequestreview-345888688", "createdAt": "2020-01-21T13:49:43Z", "commit": {"oid": "84244b7218b9cb6ac0fc3b9e5c7fd8f2b8cc7304"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxMzo0OTo0M1rOFf6kpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxMzo1Mzo1OVrOFf6tyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTAwOTgyOA==", "bodyText": "minor: internal API but adding a @return would be nice", "url": "https://github.com/hazelcast/hazelcast/pull/16508#discussion_r369009828", "createdAt": "2020-01-21T13:49:43Z", "author": {"login": "vojtechtoman"}, "path": "hazelcast/src/main/java/com/hazelcast/internal/nearcache/NearCacheRecordStore.java", "diffHunk": "@@ -110,7 +110,7 @@\n      *                            size check, otherwise set {@code false} to evict\n      *                            after a max size check.\n      */\n-    void doEviction(boolean withoutMaxSizeCheck);\n+    boolean doEviction(boolean withoutMaxSizeCheck);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "84244b7218b9cb6ac0fc3b9e5c7fd8f2b8cc7304"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTAxMjE2OQ==", "bodyText": "Just to double-check - the idea is to return true if eviction was performed, but not if eviction was performed and an entry was evicted (that is, return the result of evictionStrategy.evict()), correct?", "url": "https://github.com/hazelcast/hazelcast/pull/16508#discussion_r369012169", "createdAt": "2020-01-21T13:53:59Z", "author": {"login": "vojtechtoman"}, "path": "hazelcast/src/main/java/com/hazelcast/internal/nearcache/impl/store/AbstractNearCacheRecordStore.java", "diffHunk": "@@ -321,15 +321,16 @@ public int size() {\n     }\n \n     @Override\n-    public void doEviction(boolean withoutMaxSizeCheck) {\n+    public boolean doEviction(boolean withoutMaxSizeCheck) {\n         checkAvailable();\n \n         if (evictionDisabled) {\n-            return;\n+            return false;\n         }\n \n         EvictionChecker evictionChecker = withoutMaxSizeCheck ? null : this.evictionChecker;\n         evictionStrategy.evict(records, evictionPolicyEvaluator, evictionChecker, this);\n+        return true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "84244b7218b9cb6ac0fc3b9e5c7fd8f2b8cc7304"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86b5229afbbefda0947fd43937392f9e038f0b23", "author": {"user": {"login": "ahmetmircik", "name": "Ahmet Mircik"}}, "url": "https://github.com/hazelcast/hazelcast/commit/86b5229afbbefda0947fd43937392f9e038f0b23", "committedDate": "2020-01-21T14:11:38Z", "message": "Indicate eviction works by returning a boolean result"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae30dbfb7bb80079c20f83c31747ae2d83b252db", "author": {"user": {"login": "ahmetmircik", "name": "Ahmet Mircik"}}, "url": "https://github.com/hazelcast/hazelcast/commit/ae30dbfb7bb80079c20f83c31747ae2d83b252db", "committedDate": "2020-01-21T14:12:56Z", "message": "Address review comment"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "84244b7218b9cb6ac0fc3b9e5c7fd8f2b8cc7304", "author": {"user": {"login": "ahmetmircik", "name": "Ahmet Mircik"}}, "url": "https://github.com/hazelcast/hazelcast/commit/84244b7218b9cb6ac0fc3b9e5c7fd8f2b8cc7304", "committedDate": "2020-01-21T08:04:05Z", "message": "Indicate eviction works by returning a boolean result"}, "afterCommit": {"oid": "ae30dbfb7bb80079c20f83c31747ae2d83b252db", "author": {"user": {"login": "ahmetmircik", "name": "Ahmet Mircik"}}, "url": "https://github.com/hazelcast/hazelcast/commit/ae30dbfb7bb80079c20f83c31747ae2d83b252db", "committedDate": "2020-01-21T14:12:56Z", "message": "Address review comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2NDQ1NjM4", "url": "https://github.com/hazelcast/hazelcast/pull/16508#pullrequestreview-346445638", "createdAt": "2020-01-22T09:29:54Z", "commit": {"oid": "ae30dbfb7bb80079c20f83c31747ae2d83b252db"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2NDc2MzU1", "url": "https://github.com/hazelcast/hazelcast/pull/16508#pullrequestreview-346476355", "createdAt": "2020-01-22T10:17:11Z", "commit": {"oid": "ae30dbfb7bb80079c20f83c31747ae2d83b252db"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4042, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}