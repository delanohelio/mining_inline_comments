{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0NzE5OTA4", "number": 16500, "title": "Handle login exception when logging out", "bodyText": "Made logout last so that all steps are done even when an exception\nthrown form logout method.\nTests are on the enterprise repo.\nhazelcast/hazelcast-enterprise#3493\nrelated to #16482", "createdAt": "2020-01-20T09:01:41Z", "url": "https://github.com/hazelcast/hazelcast/pull/16500", "merged": true, "mergeCommit": {"oid": "c0b263572698eab8eb3d7281a49653a411a4faa7"}, "closed": true, "closedAt": "2020-01-22T07:55:17Z", "author": {"login": "sancar"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb8IokKAH2gAyMzY0NzE5OTA4OjhjNWI1ZWE0ZmY1MzZhOTZlZjkzN2EwMzFkZDU5MDFmNGZjOGJlNjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb8w7d9gFqTM0NjM5NDI0Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8c5b5ea4ff536a96ef937a031dd5901f4fc8be69", "author": {"user": {"login": "sancar", "name": "sancar"}}, "url": "https://github.com/hazelcast/hazelcast/commit/8c5b5ea4ff536a96ef937a031dd5901f4fc8be69", "committedDate": "2020-01-20T08:53:56Z", "message": "Handle login exception when logging out\n\nMade logout last so that all steps are done even when an exception\nthrown form logout method.\n\nTests are on the enterprise repo.\n\nrelated to https://github.com/hazelcast/hazelcast/issues/16482"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1MjY2MjE1", "url": "https://github.com/hazelcast/hazelcast/pull/16500#pullrequestreview-345266215", "createdAt": "2020-01-20T12:10:23Z", "commit": {"oid": "8c5b5ea4ff536a96ef937a031dd5901f4fc8be69"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQxMjoxMDoyM1rOFfcZ-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQxMjoxMDo0OFrOFfcaow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODUxNTU3Nw==", "bodyText": "try-catch?", "url": "https://github.com/hazelcast/hazelcast/pull/16500#discussion_r368515577", "createdAt": "2020-01-20T12:10:23Z", "author": {"login": "kwart"}, "path": "hazelcast/src/main/java/com/hazelcast/client/impl/ClientEndpointImpl.java", "diffHunk": "@@ -215,19 +215,22 @@ public void destroy() throws LoginException {\n         destroyed = true;\n         nodeEngine.onClientDisconnected(getUuid());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c5b5ea4ff536a96ef937a031dd5901f4fc8be69"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODUxNTYzMg==", "bodyText": "try-catch?", "url": "https://github.com/hazelcast/hazelcast/pull/16500#discussion_r368515632", "createdAt": "2020-01-20T12:10:30Z", "author": {"login": "kwart"}, "path": "hazelcast/src/main/java/com/hazelcast/client/impl/ClientEndpointImpl.java", "diffHunk": "@@ -215,19 +215,22 @@ public void destroy() throws LoginException {\n         destroyed = true;\n         nodeEngine.onClientDisconnected(getUuid());\n \n-        LoginContext lc = loginContext;\n-        if (lc != null) {\n-            lc.logout();\n-        }\n-\n         for (UUID registrationId : removeListenerActions.keySet()) {\n             removeAndCallRemoveAction(registrationId);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c5b5ea4ff536a96ef937a031dd5901f4fc8be69"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODUxNTc0Nw==", "bodyText": "try-catch?", "url": "https://github.com/hazelcast/hazelcast/pull/16500#discussion_r368515747", "createdAt": "2020-01-20T12:10:48Z", "author": {"login": "kwart"}, "path": "hazelcast/src/main/java/com/hazelcast/client/impl/ClientEndpointImpl.java", "diffHunk": "@@ -215,19 +215,22 @@ public void destroy() throws LoginException {\n         destroyed = true;\n         nodeEngine.onClientDisconnected(getUuid());\n \n-        LoginContext lc = loginContext;\n-        if (lc != null) {\n-            lc.logout();\n-        }\n-\n         for (UUID registrationId : removeListenerActions.keySet()) {\n             removeAndCallRemoveAction(registrationId);\n         }\n \n         for (UUID txnId : transactionContextMap.keySet()) {\n             removedAndRollbackTransactionContext(txnId);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c5b5ea4ff536a96ef937a031dd5901f4fc8be69"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2MzU5Mjc1", "url": "https://github.com/hazelcast/hazelcast/pull/16500#pullrequestreview-346359275", "createdAt": "2020-01-22T05:56:03Z", "commit": {"oid": "8c5b5ea4ff536a96ef937a031dd5901f4fc8be69"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2Mzk0MjQz", "url": "https://github.com/hazelcast/hazelcast/pull/16500#pullrequestreview-346394243", "createdAt": "2020-01-22T07:50:47Z", "commit": {"oid": "8c5b5ea4ff536a96ef937a031dd5901f4fc8be69"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4027, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}