{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAwODQ4MDE1", "number": 16864, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxMTo0NjoxMlrODyduoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxMTo0ODozOVrODydx6A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0MjQyNDY1OnYy", "diffSide": "RIGHT", "path": "hazelcast/src/main/java/com/hazelcast/client/config/ClientConfig.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxMTo0NjoxMlrOGGhbQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QwNzo0NjoyOVrOGHDd7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTQ5MjI5MQ==", "bodyText": "100% flavor comment. Why not return immediately from the function? Now you need to go to the end of the method to determine what is returned.", "url": "https://github.com/hazelcast/hazelcast/pull/16864#discussion_r409492291", "createdAt": "2020-04-16T11:46:12Z", "author": {"login": "pveentjer"}, "path": "hazelcast/src/main/java/com/hazelcast/client/config/ClientConfig.java", "diffHunk": "@@ -168,6 +172,45 @@ public ClientConfig(ClientConfig config) {\n         metricsConfig = new ClientMetricsConfig(config.metricsConfig);\n     }\n \n+    /**\n+     * Populates Hazelcast {@link ClientConfig} object from an external configuration file.\n+     * <p>\n+     * It tries to load Hazelcast Client configuration from a list of well-known locations.\n+     * When no location contains Hazelcast Client configuration then it returns default.\n+     * <p>\n+     * Note that the same mechanism is used when calling\n+     * {@link com.hazelcast.client.HazelcastClient#newHazelcastClient()}.\n+     *\n+     * @return ClientConfig created from a file when exists, otherwise default.\n+     */\n+    public static ClientConfig load() {\n+        validateSuffixInSystemProperty(SYSPROP_CLIENT_CONFIG);\n+\n+        XmlClientConfigLocator xmlConfigLocator = new XmlClientConfigLocator();\n+        YamlClientConfigLocator yamlConfigLocator = new YamlClientConfigLocator();\n+\n+        ClientConfig config;\n+        if (xmlConfigLocator.locateFromSystemProperty()) {\n+            // 1. Try loading XML config from the configuration provided in system property\n+            config = new XmlClientConfigBuilder(xmlConfigLocator).build();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "53ac17632e6f6911827caf094e3363ed13e2c3ac"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDA1MDAyOQ==", "bodyText": "Good idea! Changed.", "url": "https://github.com/hazelcast/hazelcast/pull/16864#discussion_r410050029", "createdAt": "2020-04-17T07:46:29Z", "author": {"login": "leszko"}, "path": "hazelcast/src/main/java/com/hazelcast/client/config/ClientConfig.java", "diffHunk": "@@ -168,6 +172,45 @@ public ClientConfig(ClientConfig config) {\n         metricsConfig = new ClientMetricsConfig(config.metricsConfig);\n     }\n \n+    /**\n+     * Populates Hazelcast {@link ClientConfig} object from an external configuration file.\n+     * <p>\n+     * It tries to load Hazelcast Client configuration from a list of well-known locations.\n+     * When no location contains Hazelcast Client configuration then it returns default.\n+     * <p>\n+     * Note that the same mechanism is used when calling\n+     * {@link com.hazelcast.client.HazelcastClient#newHazelcastClient()}.\n+     *\n+     * @return ClientConfig created from a file when exists, otherwise default.\n+     */\n+    public static ClientConfig load() {\n+        validateSuffixInSystemProperty(SYSPROP_CLIENT_CONFIG);\n+\n+        XmlClientConfigLocator xmlConfigLocator = new XmlClientConfigLocator();\n+        YamlClientConfigLocator yamlConfigLocator = new YamlClientConfigLocator();\n+\n+        ClientConfig config;\n+        if (xmlConfigLocator.locateFromSystemProperty()) {\n+            // 1. Try loading XML config from the configuration provided in system property\n+            config = new XmlClientConfigBuilder(xmlConfigLocator).build();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTQ5MjI5MQ=="}, "originalCommit": {"oid": "53ac17632e6f6911827caf094e3363ed13e2c3ac"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0MjQzMzA0OnYy", "diffSide": "RIGHT", "path": "hazelcast/src/main/java/com/hazelcast/client/config/ClientConfig.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxMTo0ODozOVrOGGhgYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QwNzo0NDo0MlrOGHDagg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTQ5MzYwMA==", "bodyText": "Do we log which file got loaded? So that at least from the logging it is obvious which file is being used. It can be extremely annoying if you are fighting an configuration issue and then you finally determine that your file didn't get loaded in the first place.\nI had that problem a few times with simulator and every time I wanted to smack my head into my desk.", "url": "https://github.com/hazelcast/hazelcast/pull/16864#discussion_r409493600", "createdAt": "2020-04-16T11:48:39Z", "author": {"login": "pveentjer"}, "path": "hazelcast/src/main/java/com/hazelcast/client/config/ClientConfig.java", "diffHunk": "@@ -168,6 +172,45 @@ public ClientConfig(ClientConfig config) {\n         metricsConfig = new ClientMetricsConfig(config.metricsConfig);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "53ac17632e6f6911827caf094e3363ed13e2c3ac"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDA0OTE1NA==", "bodyText": "I think that we do log it. At least I see something like this in the logs:\nINFO: Loading configuration '/opt/hazelcast/hazelcast.yaml' from System property 'hazelcast.config'", "url": "https://github.com/hazelcast/hazelcast/pull/16864#discussion_r410049154", "createdAt": "2020-04-17T07:44:42Z", "author": {"login": "leszko"}, "path": "hazelcast/src/main/java/com/hazelcast/client/config/ClientConfig.java", "diffHunk": "@@ -168,6 +172,45 @@ public ClientConfig(ClientConfig config) {\n         metricsConfig = new ClientMetricsConfig(config.metricsConfig);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTQ5MzYwMA=="}, "originalCommit": {"oid": "53ac17632e6f6911827caf094e3363ed13e2c3ac"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 638, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}