{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg3OTIyMDcw", "number": 17555, "title": "SQL: avoid NPE in the VolcanoOptimizer for certain queries (#17554)", "bodyText": "This PR fixes NPE that could occur during the optimization of certain queries.\nThe NPE appears deep inside the Calcite metadata resolver code, which is caused by null returned somewhere from RelMdNodeTypes metadata handler. The reason is not clear, probably a bug in the Calcite code.\nSince we do not use materializations at the moment, the solution is to disable them altogether, so that we never reach the problematic part of the Apache Calcite code base.\nCloses #17554", "createdAt": "2020-09-16T11:28:50Z", "url": "https://github.com/hazelcast/hazelcast/pull/17555", "merged": true, "mergeCommit": {"oid": "f31cbcbead650dde840093c96a8729abbc3c0ae9"}, "closed": true, "closedAt": "2020-09-21T13:14:24Z", "author": {"login": "devozerov"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdJaoLLAH2gAyNDg3OTIyMDcwOjgyNzg4NDA3YmUwMGNhZmFiYjI5YTQzNTJlNWM3YmQ0NTZkM2JhNzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdK9SCFgH2gAyNDg3OTIyMDcwOjcwYjU3ZWU0NWVjMDM2ODY3ZWJkNWMzMzcwZWM3NDkyY2YxMmYzYTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "82788407be00cafabb29a4352e5c7bd456d3ba71", "author": {"user": {"login": "devozerov", "name": "Vladimir Ozerov"}}, "url": "https://github.com/hazelcast/hazelcast/commit/82788407be00cafabb29a4352e5c7bd456d3ba71", "committedDate": "2020-09-16T11:23:58Z", "message": "SQL: avoid NPE in the VolcanoOptimizer for certain queries (#17554)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5NTMxNzU2", "url": "https://github.com/hazelcast/hazelcast/pull/17555#pullrequestreview-489531756", "createdAt": "2020-09-16T11:32:38Z", "commit": {"oid": "82788407be00cafabb29a4352e5c7bd456d3ba71"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxMjEyMjYz", "url": "https://github.com/hazelcast/hazelcast/pull/17555#pullrequestreview-491212263", "createdAt": "2020-09-18T07:24:14Z", "commit": {"oid": "82788407be00cafabb29a4352e5c7bd456d3ba71"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQwNzoyNDoxNFrOHUBMOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQwNzoyNDoxNFrOHUBMOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDc1MzA4MA==", "bodyText": "Typo: passed", "url": "https://github.com/hazelcast/hazelcast/pull/17555#discussion_r490753080", "createdAt": "2020-09-18T07:24:14Z", "author": {"login": "petrpleshachkov"}, "path": "hazelcast-sql/src/main/java/com/hazelcast/sql/impl/calcite/CalciteConfiguration.java", "diffHunk": "@@ -26,22 +26,25 @@\n import java.util.Properties;\n \n /**\n- * Casing configuration.\n+ * Configuration pased to the Calcite.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "82788407be00cafabb29a4352e5c7bd456d3ba71"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a7085aa0d7f55da762dd8ddd6363521f004a571", "author": {"user": {"login": "devozerov", "name": "Vladimir Ozerov"}}, "url": "https://github.com/hazelcast/hazelcast/commit/7a7085aa0d7f55da762dd8ddd6363521f004a571", "committedDate": "2020-09-21T06:20:04Z", "message": "Typo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70b57ee45ec036867ebd5c3370ec7492cf12f3a7", "author": {"user": {"login": "devozerov", "name": "Vladimir Ozerov"}}, "url": "https://github.com/hazelcast/hazelcast/commit/70b57ee45ec036867ebd5c3370ec7492cf12f3a7", "committedDate": "2020-09-21T06:20:23Z", "message": "Merge branch 'master' into sql-npe-fix"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3311, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}