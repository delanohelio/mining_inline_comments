{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5MjI2Njk1", "number": 17368, "title": "SQL predicates integration tests (#17356)", "bodyText": "This PR adds integration tests for existing predicated expressions and fixes a couple of issues revealed during testing:\n\nAdded handling for empty Values relational node that is important for expressions that could be simplified to no-op (e.g. ... WHERE TRUE IS FALSE)\nRenamed QueryDataTypeFamiliy.INT to QueryDataTypeFamily.INTEGER to make sure that error messages show INTEGER type in a consistent way\nDisallowed implicit conversions from types with higher precedence to types with lower precedence for parameters (e.g. BIGINT to INT). This makes the engine closer to the type system explained in the design docs. However, this is not a complete fix. For some conversions, we have inconsistent error messages. E.g. for BIGINT->INT we have one error message, but for BOOLEAN->INT it is completely different. This complete fix is out of the scope of this PR and will be implemented separately.\n\nCloses #17356", "createdAt": "2020-08-18T06:02:31Z", "url": "https://github.com/hazelcast/hazelcast/pull/17368", "merged": true, "mergeCommit": {"oid": "e78b767603177dcf79cd2ff14af7e14a819b607b"}, "closed": true, "closedAt": "2020-08-19T11:36:36Z", "author": {"login": "devozerov"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdAAjSrgH2gAyNDY5MjI2Njk1OmRiN2ZhNDg2YTUxZTFlM2YwNDhhOGI5ZjI5NWRmZTUyZGI3Nzc5YWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAYi_1gFqTQ3MDMwMjEwMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "db7fa486a51e1e3f048a8b9f295dfe52db7779af", "author": {"user": {"login": "devozerov", "name": "Vladimir Ozerov"}}, "url": "https://github.com/hazelcast/hazelcast/commit/db7fa486a51e1e3f048a8b9f295dfe52db7779af", "committedDate": "2020-08-18T05:55:47Z", "message": "WIP"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5MTY3ODc2", "url": "https://github.com/hazelcast/hazelcast/pull/17368#pullrequestreview-469167876", "createdAt": "2020-08-18T09:50:12Z", "commit": {"oid": "db7fa486a51e1e3f048a8b9f295dfe52db7779af"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQwOTo1MDoxMlrOHCMDEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQwOTo1MDoxMlrOHCMDEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjA1NjU5Mw==", "bodyText": "We can still place it at other NODE_ constants...", "url": "https://github.com/hazelcast/hazelcast/pull/17368#discussion_r472056593", "createdAt": "2020-08-18T09:50:12Z", "author": {"login": "viliam-durina"}, "path": "hazelcast/src/main/java/com/hazelcast/sql/impl/SqlDataSerializerHook.java", "diffHunk": "@@ -136,7 +137,9 @@\n     public static final int EXPRESSION_FLOOR_CEIL = 45;\n     public static final int EXPRESSION_ROUND_TRUNCATE = 46;\n \n-    public static final int LEN = EXPRESSION_ROUND_TRUNCATE + 1;\n+    public static final int NODE_EMPTY = 47;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "db7fa486a51e1e3f048a8b9f295dfe52db7779af"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwMzAyMTAz", "url": "https://github.com/hazelcast/hazelcast/pull/17368#pullrequestreview-470302103", "createdAt": "2020-08-19T09:53:11Z", "commit": {"oid": "db7fa486a51e1e3f048a8b9f295dfe52db7779af"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3398, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}