{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1NjI5MDk0", "number": 17095, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwNjoyMTo0M1rOEGNYVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwNjoyMjoyMlrOEGNY5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0OTQ2MTMyOnYy", "diffSide": "LEFT", "path": "hazelcast/src/test/java/com/hazelcast/journal/AbstractEventJournalBasicTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwNjoyMTo0M1rOGk3MRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwNjoyMTo0M1rOGk3MRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTMwNjE4Mw==", "bodyText": "removed assertions no longer make sense since we are executing several puts", "url": "https://github.com/hazelcast/hazelcast/pull/17095#discussion_r441306183", "createdAt": "2020-06-17T06:21:43Z", "author": {"login": "vbekiaris"}, "path": "hazelcast/src/test/java/com/hazelcast/journal/AbstractEventJournalBasicTest.java", "diffHunk": "@@ -485,34 +484,34 @@ public void allowReadingWithFutureSeq() throws Exception {\n         assertEquals(-1, state.getNewestSequence());\n         assertEventJournalSize(context.dataAdapter, 0);\n \n-        final String key = randomPartitionKey();\n         final Integer value = RANDOM.nextInt();\n         final CountDownLatch latch = new CountDownLatch(1);\n         final int startSequence = 1;\n \n         final BiConsumer<ReadResultSet<EJ_TYPE>, Throwable> callback = (response, t) -> {\n             if (t == null) {\n+                latch.countDown();\n                 assertEquals(1, response.size());\n                 final EventJournalEventAdapter<String, Integer, EJ_TYPE> journalAdapter = context.eventJournalAdapter;\n                 final EJ_TYPE e = response.get(0);\n \n                 assertEquals(ADDED, journalAdapter.getType(e));\n-                assertEquals(key, journalAdapter.getKey(e));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c12dc806b99596701275c53559dda714e639b84"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc0OTQ2Mjc4OnYy", "diffSide": "RIGHT", "path": "hazelcast/src/test/java/com/hazelcast/journal/AbstractEventJournalBasicTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwNjoyMjoyMlrOGk3NLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwNjoyMjoyMlrOGk3NLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTMwNjQxNQ==", "bodyText": "If the event journal read request was completed exceptionally, rethrow the exception", "url": "https://github.com/hazelcast/hazelcast/pull/17095#discussion_r441306415", "createdAt": "2020-06-17T06:22:22Z", "author": {"login": "vbekiaris"}, "path": "hazelcast/src/test/java/com/hazelcast/journal/AbstractEventJournalBasicTest.java", "diffHunk": "@@ -485,34 +484,34 @@ public void allowReadingWithFutureSeq() throws Exception {\n         assertEquals(-1, state.getNewestSequence());\n         assertEventJournalSize(context.dataAdapter, 0);\n \n-        final String key = randomPartitionKey();\n         final Integer value = RANDOM.nextInt();\n         final CountDownLatch latch = new CountDownLatch(1);\n         final int startSequence = 1;\n \n         final BiConsumer<ReadResultSet<EJ_TYPE>, Throwable> callback = (response, t) -> {\n             if (t == null) {\n+                latch.countDown();\n                 assertEquals(1, response.size());\n                 final EventJournalEventAdapter<String, Integer, EJ_TYPE> journalAdapter = context.eventJournalAdapter;\n                 final EJ_TYPE e = response.get(0);\n \n                 assertEquals(ADDED, journalAdapter.getType(e));\n-                assertEquals(key, journalAdapter.getKey(e));\n                 assertEquals(value, journalAdapter.getNewValue(e));\n-                assertNotEquals(startSequence + response.readCount(), response.getNextSequenceToReadFrom());\n-                assertEquals(1, response.getNextSequenceToReadFrom());\n-                latch.countDown();\n             } else {\n-                t.printStackTrace();\n+                rethrow(t);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c12dc806b99596701275c53559dda714e639b84"}, "originalPosition": 48}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 593, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}