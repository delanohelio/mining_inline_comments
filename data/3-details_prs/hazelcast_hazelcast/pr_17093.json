{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1NTI5OTQx", "number": 17093, "title": "[BACKPORT] Add ConfigRecognizer API", "bodyText": "Almost 1:1 backport of #16958\nThe only resolved conflict is in IOUtil in an import.\nThis commit introduces the ConfigRecognition API that is meant to\nrecognize if a provided declarative configuration is recognized by the\nrules defined in a given implementation. The main use case for this\nimplementation is to recognize member, client and failover client XML\nand YAML configurations just by looking into the content of the\nconfiguration, without building any actual configuration.\nAlong with the API the following three implementations are added:\n\nMemberConfigRecognizer for recognizing member XML and YAML\nconfigurations\nClientConfigRecognizer for recognizing client XML and YAML\nconfigurations\nClientFailoverConfigRecognizer for recognizing failover client XML and\nYAML configurations\n\nAll the three are extensible with custom recognizers so that even those\nconfigurations can be recognized that would otherwise remain\nunrecognized with the built-in set of recognizers that recognizes XML\nand YAML configurations by checking the root node in the provided\nconfiguration.\nThe API recognizes configuration provided in InputStreams only, while\nthe ConfigBuilder implementations can be built from files defined by\ntheir location and URLs too. The reason for lacking the support for\nthese two options is that both are easy to convert to InputStreams and\nthat handling errors caused by non-existing resources, missing\nprivileges etc should be handled outside of this API with potentially\nhaving more contextual information.\nThe built-in implementations honor parse errors with unrecognized\nconfiguration. The reason is that the provided InputStream can be tested\nboth for XML and YAML configuration and at least one is expected to\nlead to parse errors.\nImplements #16866", "createdAt": "2020-06-17T00:13:08Z", "url": "https://github.com/hazelcast/hazelcast/pull/17093", "merged": true, "mergeCommit": {"oid": "af43a070b56247db0178b52e7ceea10b8305422c"}, "closed": true, "closedAt": "2020-06-19T13:02:09Z", "author": {"login": "blazember"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcr-cPPgH2gAyNDM1NTI5OTQxOmE1NDZhMzRmNDZiYjYwZWY1ZjBmMGY2YmFlM2ZiZTA3MjlmNmFjYzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcsxvA5gFqTQzNDAxODAzMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a546a34f46bb60ef5f0f0f6bae3fbe0729f6acc8", "author": {"user": {"login": "blazember", "name": "Zolt\u00e1n Baranyi"}}, "url": "https://github.com/hazelcast/hazelcast/commit/a546a34f46bb60ef5f0f0f6bae3fbe0729f6acc8", "committedDate": "2020-06-17T00:09:47Z", "message": "Add ConfigRecognizer API\n\nThis commit introduces the ConfigRecognition API that is meant to\nrecognize if a provided declarative configuration is recognized by the\nrules defined in a given implementation. The main use case for this\nimplementation is to recognize member, client and failover client XML\nand YAML configurations just by looking into the content of the\nconfiguration, without building any actual configuration.\n\nAlong with the API the following three implementations are added:\n- MemberConfigRecognizer for recognizing member XML and YAML\nconfigurations\n- ClientConfigRecognizer for recognizing client XML and YAML\nconfigurations\n- ClientFailoverConfigRecognizer for recognizing failover client XML and\nYAML configurations\n\nAll the three are extensible with custom recognizers so that even those\nconfigurations can be recognized that would otherwise remain\nunrecognized with the built-in set of recognizers that recognizes XML\nand YAML configurations by checking the root node in the provided\nconfiguration.\n\nThe API recognizes configuration provided in InputStreams only, while\nthe ConfigBuilder implementations can be built from files defined by\ntheir location and URLs too. The reason for lacking the support for\nthese two options is that both are easy to convert to InputStreams and\nthat handling errors caused by non-existing resources, missing\nprivileges etc should be handled outside of this API with potentially\nhaving more contextual information.\n\nThe built-in implementations honour parse errors with unrecognized\nconfiguration. The reason is that the provided InputStream can be tested\nboth for XML and YAML configuration and at least one is expected to\nlead to parse errors.\n\nImplements #16866\n\n(cherry picked from commit 9457ddcdd1925eccc1ed59ed287e4ae1c0244afe)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyMTU4Mzcx", "url": "https://github.com/hazelcast/hazelcast/pull/17093#pullrequestreview-432158371", "createdAt": "2020-06-17T08:08:24Z", "commit": {"oid": "a546a34f46bb60ef5f0f0f6bae3fbe0729f6acc8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwODowODoyNFrOGk6g0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwODowODoyNFrOGk6g0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM2MDU5NQ==", "bodyText": "Shouldn't be the community license? \ud83e\udd14", "url": "https://github.com/hazelcast/hazelcast/pull/17093#discussion_r441360595", "createdAt": "2020-06-17T08:08:24Z", "author": {"login": "pivovarit"}, "path": "hazelcast/src/main/java/com/hazelcast/client/config/ClientConfigRecognizer.java", "diffHunk": "@@ -0,0 +1,72 @@\n+/*\n+ * Copyright (c) 2008-2020, Hazelcast, Inc. All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a546a34f46bb60ef5f0f0f6bae3fbe0729f6acc8"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MDE0Mjk4", "url": "https://github.com/hazelcast/hazelcast/pull/17093#pullrequestreview-434014298", "createdAt": "2020-06-19T11:48:36Z", "commit": {"oid": "a546a34f46bb60ef5f0f0f6bae3fbe0729f6acc8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0MDE4MDMz", "url": "https://github.com/hazelcast/hazelcast/pull/17093#pullrequestreview-434018033", "createdAt": "2020-06-19T11:55:27Z", "commit": {"oid": "a546a34f46bb60ef5f0f0f6bae3fbe0729f6acc8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3700, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}