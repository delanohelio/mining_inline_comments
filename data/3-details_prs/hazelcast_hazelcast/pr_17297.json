{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyMjgxOTQx", "number": 17297, "title": "Improve start scripts for modular Java (9+)", "bodyText": "Fixes #17230.", "createdAt": "2020-08-03T16:40:09Z", "url": "https://github.com/hazelcast/hazelcast/pull/17297", "merged": true, "mergeCommit": {"oid": "e2a28fba31fad857bf1a1fcb88014fc9ef5253e5"}, "closed": true, "closedAt": "2020-08-04T13:07:17Z", "author": {"login": "kwart"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc7V_bXAFqTQ2MDIzNTAyMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7mIyIAFqTQ2MDc3ODIzMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMjM1MDIx", "url": "https://github.com/hazelcast/hazelcast/pull/17297#pullrequestreview-460235021", "createdAt": "2020-08-03T18:04:54Z", "commit": {"oid": "91e6d2ecf42525a81292363fc2d04ed6fda268c6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "67d491e25505f25b9c5e5f20cbec2932c55850f1", "author": {"user": {"login": "kwart", "name": "Josef Cacek"}}, "url": "https://github.com/hazelcast/hazelcast/commit/67d491e25505f25b9c5e5f20cbec2932c55850f1", "committedDate": "2020-08-03T18:26:49Z", "message": "Improve start scripts for modular Java (9+)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "91e6d2ecf42525a81292363fc2d04ed6fda268c6", "author": {"user": {"login": "kwart", "name": "Josef Cacek"}}, "url": "https://github.com/hazelcast/hazelcast/commit/91e6d2ecf42525a81292363fc2d04ed6fda268c6", "committedDate": "2020-08-03T16:38:27Z", "message": "Improve start scripts for modular Java (9+)"}, "afterCommit": {"oid": "67d491e25505f25b9c5e5f20cbec2932c55850f1", "author": {"user": {"login": "kwart", "name": "Josef Cacek"}}, "url": "https://github.com/hazelcast/hazelcast/commit/67d491e25505f25b9c5e5f20cbec2932c55850f1", "committedDate": "2020-08-03T18:26:49Z", "message": "Improve start scripts for modular Java (9+)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwNzc4MjMw", "url": "https://github.com/hazelcast/hazelcast/pull/17297#pullrequestreview-460778230", "createdAt": "2020-08-04T12:47:27Z", "commit": {"oid": "67d491e25505f25b9c5e5f20cbec2932c55850f1"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMjo0NzoyN1rOG7ezGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxMjo0NzoyN1rOG7ezGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTAyMzc2OQ==", "bodyText": "Nice \ud83d\ude04", "url": "https://github.com/hazelcast/hazelcast/pull/17297#discussion_r465023769", "createdAt": "2020-08-04T12:47:27Z", "author": {"login": "blazember"}, "path": "hazelcast/src/main/resources/start.sh", "diffHunk": "@@ -39,6 +38,11 @@ if [ \"x$MAX_HEAP_SIZE\" != \"x\" ]; then\n \tJAVA_OPTS=\"$JAVA_OPTS -Xmx${MAX_HEAP_SIZE}\"\n fi\n \n+JAVA_VERSION=$(\"$RUN_JAVA\" -cp \"$HAZELCAST_HOME/lib/hazelcast-all-${project.version}.jar\" com.hazelcast.internal.util.JavaVersion)\n+if [ \"$JAVA_VERSION\" -gt \"8\" ]; then\n+\tJAVA_OPTS=\"$JAVA_OPTS --add-modules java.se --add-exports java.base/jdk.internal.ref=ALL-UNNAMED --add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.nio=ALL-UNNAMED --add-opens java.base/sun.nio.ch=ALL-UNNAMED --add-opens java.management/sun.management=ALL-UNNAMED --add-opens jdk.management/com.sun.management.internal=ALL-UNNAMED\"\n+fi\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67d491e25505f25b9c5e5f20cbec2932c55850f1"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3489, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}