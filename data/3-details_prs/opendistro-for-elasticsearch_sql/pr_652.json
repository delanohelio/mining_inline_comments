{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYwNDY1NzMz", "number": 652, "title": "ODBC: Use literals instead of parameters in Power BI data connector", "bodyText": "Issue #651:\nDescription of changes:\n\nadded support for literals instead of parameters\ndisabled direct query\nupdated user docs\n\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-07-31T20:09:17Z", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/652", "merged": true, "mergeCommit": {"oid": "b6760cc8bfecd149b366a03b1a41413306c24a7e"}, "closed": true, "closedAt": "2020-08-03T20:57:40Z", "author": {"login": "rupal-bq"}, "timelineItems": {"totalCount": 40, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc2U7rsgH2gAyNDYwNDY1NzMzOjQyN2JkNzlhMTM4YmMxM2Y1M2UwNzFjODQ4NWQ4NzI2YWExOWQxZGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7YdWyAFqTQ2MDMzNTgyNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "427bd79a138bc13f53e071c8485d8726aa19d1dd", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/427bd79a138bc13f53e071c8485d8726aa19d1dd", "committedDate": "2020-07-19T04:01:17Z", "message": "pbi connector"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "401a05360a74b165b372f274e1c01b61a5c06ebd", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/401a05360a74b165b372f274e1c01b61a5c06ebd", "committedDate": "2020-07-19T04:21:22Z", "message": "update names"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11856cdce473256a3048d967b447b43197181604", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/11856cdce473256a3048d967b447b43197181604", "committedDate": "2020-07-20T02:42:45Z", "message": "- add mez file\n- add docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6932698c592fdc2d74d9d92e9a044bc01b979f6", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/e6932698c592fdc2d74d9d92e9a044bc01b979f6", "committedDate": "2020-07-20T02:46:49Z", "message": "nit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4158974559d9fc35e6ea0a610aaf0063ad0397fe", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/4158974559d9fc35e6ea0a610aaf0063ad0397fe", "committedDate": "2020-07-20T02:49:26Z", "message": "nit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "586793f0d70894c6042fd9177e83c88f24cf4164", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/586793f0d70894c6042fd9177e83c88f24cf4164", "committedDate": "2020-07-20T03:13:33Z", "message": "image resize"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9cb48a4fffa2aa88b59917da2961cba7e4849580", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/9cb48a4fffa2aa88b59917da2961cba7e4849580", "committedDate": "2020-07-20T03:17:21Z", "message": "resize image"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c234b8829b0f5b1864bfe500f2b9053c79c7b12d", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/c234b8829b0f5b1864bfe500f2b9053c79c7b12d", "committedDate": "2020-07-20T03:32:00Z", "message": "remove extra lines"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d0c0509eea739936f4ee4b81307d0566cb39dad", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/0d0c0509eea739936f4ee4b81307d0566cb39dad", "committedDate": "2020-07-20T03:45:54Z", "message": "nit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50d4ccf583d527b263bd8465d29b80f32a9f0a62", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/50d4ccf583d527b263bd8465d29b80f32a9f0a62", "committedDate": "2020-07-20T03:46:55Z", "message": "update mez file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "023fb674a86c080f802c32fcd46f11c5bfeadba8", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/023fb674a86c080f802c32fcd46f11c5bfeadba8", "committedDate": "2020-07-21T17:39:34Z", "message": "rename connector"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b857c003716461562dbce6fa10df6090eeaad3d", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/0b857c003716461562dbce6fa10df6090eeaad3d", "committedDate": "2020-07-21T17:40:37Z", "message": "rename mez file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06ae48656b35034cd62dd826569b08c9b075a3d9", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/06ae48656b35034cd62dd826569b08c9b075a3d9", "committedDate": "2020-07-23T03:04:10Z", "message": "- add basic & aws auth\n- add unit test\n- add errors\n- enable direct query"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2ff22274877393d4777bff958616d371ec1de32", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/b2ff22274877393d4777bff958616d371ec1de32", "committedDate": "2020-07-23T03:19:22Z", "message": "Merge branch 'develop' of https://github.com/rupal-bq/sql into feature/odbc/pbi\n\n# Conflicts:\n#\tsql-odbc/.gitignore\n#\tsql-odbc/src/PowerBIConnector/OdfeSqlOdbcPBIConnector.mproj\n#\tsql-odbc/src/PowerBIConnector/OdfeSqlOdbcPBIConnector.pq\n#\tsql-odbc/src/PowerBIConnector/OdfeSqlOdbcPBIConnector.query.pq\n#\tsql-odbc/src/PowerBIConnector/bin/Release/OdfeSqlOdbcPBIConnector.mez"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f6ff5d99d07e525874fde3a9ab6987dbe5bfadf", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/3f6ff5d99d07e525874fde3a9ab6987dbe5bfadf", "committedDate": "2020-07-23T03:21:15Z", "message": "add connector"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad73d915d13dce97ea855154d9428e67b09368a9", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/ad73d915d13dce97ea855154d9428e67b09368a9", "committedDate": "2020-07-23T03:41:43Z", "message": "update doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91d5cbebad32016daa6445db98ad0fc938a0be65", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/91d5cbebad32016daa6445db98ad0fc938a0be65", "committedDate": "2020-07-23T03:59:03Z", "message": "add ssl for auth"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ddc725bd3cfd70d3501ae325871eaab73b669fd3", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/ddc725bd3cfd70d3501ae325871eaab73b669fd3", "committedDate": "2020-07-23T16:25:05Z", "message": "update docs for errors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b9463517addc5113cbc8bfc60ca7069b6a9e4b83", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/b9463517addc5113cbc8bfc60ca7069b6a9e4b83", "committedDate": "2020-07-23T20:07:00Z", "message": "Merge branch 'develop' of https://github.com/rupal-bq/sql into feature/odbc/pbi"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2bd944c759017fb4c6666d08eae676d1e3a988ea", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/2bd944c759017fb4c6666d08eae676d1e3a988ea", "committedDate": "2020-07-24T20:09:56Z", "message": "- remove sqlgetinfo & sqlcapabilities values from connector"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed0afb91caaf7daa2e14c71f9ed8ee636969932b", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/ed0afb91caaf7daa2e14c71f9ed8ee636969932b", "committedDate": "2020-07-24T21:20:35Z", "message": "adding EncryptedConnectionString"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22dc963da1d58323df93640564c37102816d4aa6", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/22dc963da1d58323df93640564c37102816d4aa6", "committedDate": "2020-07-28T04:49:07Z", "message": "Merge branch 'develop' of https://github.com/rupal-bq/sql into feature/odbc/pbi"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82e9a728bfbb17876121a65e4c46d0018c4d8bc1", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/82e9a728bfbb17876121a65e4c46d0018c4d8bc1", "committedDate": "2020-07-28T17:45:59Z", "message": "add data type for columns"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5022f1f01577b4d31fe2a8b57c4a4f06e571feb0", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/5022f1f01577b4d31fe2a8b57c4a4f06e571feb0", "committedDate": "2020-07-28T19:36:07Z", "message": "add alternate column size"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4c706876421ea82de028bf88e79ea42411e996e", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/f4c706876421ea82de028bf88e79ea42411e996e", "committedDate": "2020-07-28T19:40:56Z", "message": "reverting changes in catalog test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a76c382c3ead0ef192ed15ba8c37bb32acd0e843", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/a76c382c3ead0ef192ed15ba8c37bb32acd0e843", "committedDate": "2020-07-28T19:47:19Z", "message": "nit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "debe0c5bce13bc52a69a6e1e05fdc7faa91d9a19", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/debe0c5bce13bc52a69a6e1e05fdc7faa91d9a19", "committedDate": "2020-07-28T21:42:06Z", "message": "revert changes for column size validation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6add9da5949e1816b5174e13285d3ebb4f204a50", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/6add9da5949e1816b5174e13285d3ebb4f204a50", "committedDate": "2020-07-28T21:50:34Z", "message": "Merge branch 'develop' of https://github.com/rupal-bq/sql into feature/odbc/pbi"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a80eee8edfbff508293818db621eb8dd7c704ad8", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/a80eee8edfbff508293818db621eb8dd7c704ad8", "committedDate": "2020-07-29T01:20:24Z", "message": "address PR comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6490e453455b3eb978977015ad665b864902449", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/e6490e453455b3eb978977015ad665b864902449", "committedDate": "2020-07-29T22:50:09Z", "message": "Update SQL_GROUP_BY value for fixing query folding issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1032c3ab9a60935c950e5b5f576da5fbcb7a65a", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/e1032c3ab9a60935c950e5b5f576da5fbcb7a65a", "committedDate": "2020-07-29T22:57:58Z", "message": "Merge branch 'develop' of https://github.com/rupal-bq/sql into feature/odbc/pbi"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9a36d476b7aa71a9a9f0810bbe2cd72493faee8b", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/9a36d476b7aa71a9a9f0810bbe2cd72493faee8b", "committedDate": "2020-07-30T18:24:50Z", "message": "removing AstVisitor for resolving query folding issue with data type boolean"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8fa089b17c965ccff5392dbe568846c12751c367", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/8fa089b17c965ccff5392dbe568846c12751c367", "committedDate": "2020-07-31T19:01:37Z", "message": "fix parameter binding issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a874c73ad2961082e28fd05518eca58c34b152a", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/4a874c73ad2961082e28fd05518eca58c34b152a", "committedDate": "2020-07-31T19:06:54Z", "message": "Merge branch 'develop' of https://github.com/rupal-bq/sql into feature/odbc/pbi\n\n# Resolved Conflicts:\n#\tsql-odbc/src/PowerBIConnector/OdfeSqlOdbcPBIConnector.pq\n#\tsql-odbc/src/PowerBIConnector/bin/Release/OdfeSqlOdbcPBIConnector.mez"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d681bf8a5409329efa130ad292776e22781396d2", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/d681bf8a5409329efa130ad292776e22781396d2", "committedDate": "2020-07-31T19:30:26Z", "message": "simplify changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10986bb69763f8ccb0990e77479b221b5be23b41", "author": {"user": null}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/10986bb69763f8ccb0990e77479b221b5be23b41", "committedDate": "2020-07-31T20:07:16Z", "message": "update user doc for pbi"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NTA5MTA5", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/652#pullrequestreview-459509109", "createdAt": "2020-07-31T22:32:22Z", "commit": {"oid": "10986bb69763f8ccb0990e77479b221b5be23b41"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQyMjozMjoyMlrOG6Yk0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQyMjozMjoyMlrOG6Yk0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzg3MzIzNA==", "bodyText": "Can you confirm these options for date/time/timestamp literals? Wondering if this refers to the {dt ...}-type syntax we've seen before, which ODFE SQL plugin doesn't support", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/652#discussion_r463873234", "createdAt": "2020-07-31T22:32:22Z", "author": {"login": "jordanw-bq"}, "path": "sql-odbc/src/PowerBIConnector/OdfeSqlOdbcPBIConnector.pq", "diffHunk": "@@ -106,6 +106,20 @@ OdfeSqlOdbcPBIConnectorImpl = (Host as text, optional Port as number) as table =\n                     Value.ReplaceType(toTable, Value.Type(source))\n             else\n                 source,\n+        \n+        SQLGetFunctions = Diagnostics.LogValue(\"SQLGetFunctions_Options\", [\n+            SQL_API_SQLBINDPARAMETER = false\n+        ]),\n+\n+        SqlCapabilities = Diagnostics.LogValue(\"SqlCapabilities_Options\", [\n+            SupportsTop = false,\n+            LimitClauseKind = LimitClauseKind.LimitOffset,\n+            SupportsNumericLiterals = true,\n+            SupportsStringLiterals = true,\n+            SupportsOdbcDateLiterals = true,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10986bb69763f8ccb0990e77479b221b5be23b41"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NTMzNDIw", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/652#pullrequestreview-459533420", "createdAt": "2020-08-01T00:33:29Z", "commit": {"oid": "10986bb69763f8ccb0990e77479b221b5be23b41"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMTE5NDYw", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/652#pullrequestreview-460119460", "createdAt": "2020-08-03T15:24:07Z", "commit": {"oid": "10986bb69763f8ccb0990e77479b221b5be23b41"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMzM1ODI3", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/652#pullrequestreview-460335827", "createdAt": "2020-08-03T20:57:24Z", "commit": {"oid": "10986bb69763f8ccb0990e77479b221b5be23b41"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 606, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}