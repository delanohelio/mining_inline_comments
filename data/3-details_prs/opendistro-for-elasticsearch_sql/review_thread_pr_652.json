{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYwNDY1NzMz", "number": 652, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQyMjozMjoyMlrOEUOLTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQyMjozMjoyMlrOEUOLTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5NjM5MjQ1OnYy", "diffSide": "RIGHT", "path": "sql-odbc/src/PowerBIConnector/OdfeSqlOdbcPBIConnector.pq", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQyMjozMjoyMlrOG6Yk0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMVQwMDozMzoyM1rOG6aAyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzg3MzIzNA==", "bodyText": "Can you confirm these options for date/time/timestamp literals? Wondering if this refers to the {dt ...}-type syntax we've seen before, which ODFE SQL plugin doesn't support", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/652#discussion_r463873234", "createdAt": "2020-07-31T22:32:22Z", "author": {"login": "jordanw-bq"}, "path": "sql-odbc/src/PowerBIConnector/OdfeSqlOdbcPBIConnector.pq", "diffHunk": "@@ -106,6 +106,20 @@ OdfeSqlOdbcPBIConnectorImpl = (Host as text, optional Port as number) as table =\n                     Value.ReplaceType(toTable, Value.Type(source))\n             else\n                 source,\n+        \n+        SQLGetFunctions = Diagnostics.LogValue(\"SQLGetFunctions_Options\", [\n+            SQL_API_SQLBINDPARAMETER = false\n+        ]),\n+\n+        SqlCapabilities = Diagnostics.LogValue(\"SqlCapabilities_Options\", [\n+            SupportsTop = false,\n+            LimitClauseKind = LimitClauseKind.LimitOffset,\n+            SupportsNumericLiterals = true,\n+            SupportsStringLiterals = true,\n+            SupportsOdbcDateLiterals = true,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "10986bb69763f8ccb0990e77479b221b5be23b41"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzg4MTE3MA==", "bodyText": "Yes, this refers to {d ..} syntax. But if we don't set this to true then date values will always be specified using Parameter Binding (https://docs.microsoft.com/en-us/power-query/odbc) which is also not supported.\nI will check if it is possible to report the escape sequence syntax unsupported.", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/652#discussion_r463881170", "createdAt": "2020-07-31T23:07:02Z", "author": {"login": "rupal-bq"}, "path": "sql-odbc/src/PowerBIConnector/OdfeSqlOdbcPBIConnector.pq", "diffHunk": "@@ -106,6 +106,20 @@ OdfeSqlOdbcPBIConnectorImpl = (Host as text, optional Port as number) as table =\n                     Value.ReplaceType(toTable, Value.Type(source))\n             else\n                 source,\n+        \n+        SQLGetFunctions = Diagnostics.LogValue(\"SQLGetFunctions_Options\", [\n+            SQL_API_SQLBINDPARAMETER = false\n+        ]),\n+\n+        SqlCapabilities = Diagnostics.LogValue(\"SqlCapabilities_Options\", [\n+            SupportsTop = false,\n+            LimitClauseKind = LimitClauseKind.LimitOffset,\n+            SupportsNumericLiterals = true,\n+            SupportsStringLiterals = true,\n+            SupportsOdbcDateLiterals = true,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzg3MzIzNA=="}, "originalCommit": {"oid": "10986bb69763f8ccb0990e77479b221b5be23b41"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzg5MTc3Mw==", "bodyText": "ODBC driver sets SQL_DATETIME_LITERALS to 0 in SQLGetInfo and a value of \"0\" means that SQL-92 datetime literals are not supported. (https://docs.microsoft.com/en-us/sql/odbc/reference/syntax/sqlgetinfo-function?view=sql-server-ver15)", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/652#discussion_r463891773", "createdAt": "2020-08-01T00:02:11Z", "author": {"login": "rupal-bq"}, "path": "sql-odbc/src/PowerBIConnector/OdfeSqlOdbcPBIConnector.pq", "diffHunk": "@@ -106,6 +106,20 @@ OdfeSqlOdbcPBIConnectorImpl = (Host as text, optional Port as number) as table =\n                     Value.ReplaceType(toTable, Value.Type(source))\n             else\n                 source,\n+        \n+        SQLGetFunctions = Diagnostics.LogValue(\"SQLGetFunctions_Options\", [\n+            SQL_API_SQLBINDPARAMETER = false\n+        ]),\n+\n+        SqlCapabilities = Diagnostics.LogValue(\"SqlCapabilities_Options\", [\n+            SupportsTop = false,\n+            LimitClauseKind = LimitClauseKind.LimitOffset,\n+            SupportsNumericLiterals = true,\n+            SupportsStringLiterals = true,\n+            SupportsOdbcDateLiterals = true,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzg3MzIzNA=="}, "originalCommit": {"oid": "10986bb69763f8ccb0990e77479b221b5be23b41"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzg5Njc3OQ==", "bodyText": "Verified with @rupal-bq that timestamp values work with the current PBI connector; will look back at this when we include DirectQuery support", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/652#discussion_r463896779", "createdAt": "2020-08-01T00:33:23Z", "author": {"login": "jordanw-bq"}, "path": "sql-odbc/src/PowerBIConnector/OdfeSqlOdbcPBIConnector.pq", "diffHunk": "@@ -106,6 +106,20 @@ OdfeSqlOdbcPBIConnectorImpl = (Host as text, optional Port as number) as table =\n                     Value.ReplaceType(toTable, Value.Type(source))\n             else\n                 source,\n+        \n+        SQLGetFunctions = Diagnostics.LogValue(\"SQLGetFunctions_Options\", [\n+            SQL_API_SQLBINDPARAMETER = false\n+        ]),\n+\n+        SqlCapabilities = Diagnostics.LogValue(\"SqlCapabilities_Options\", [\n+            SupportsTop = false,\n+            LimitClauseKind = LimitClauseKind.LimitOffset,\n+            SupportsNumericLiterals = true,\n+            SupportsStringLiterals = true,\n+            SupportsOdbcDateLiterals = true,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzg3MzIzNA=="}, "originalCommit": {"oid": "10986bb69763f8ccb0990e77479b221b5be23b41"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1973, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}