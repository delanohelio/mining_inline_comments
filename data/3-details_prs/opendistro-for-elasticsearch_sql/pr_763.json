{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk1NzcwMDQw", "number": 763, "title": "Add LogicalPlan optimization", "bodyText": "Description of changes:\n\nAdd the LogicalPlanOptimizer and Optimization Rule.  We support the following optimization rules:\n1.1. Filter \u2014 Relation ----> IndexScan\n1.2. Filter \u2014 Filter ----> Filter\n1.3. Agg \u2014 Relation ----> IndexScanAgg\n1.4. Agg \u2014 IndexScan ----> IndexScanAgg\nAdd the explain doc for PPL\nhttps://github.com/penghuo/sql/blob/pr-logical-optimization/docs/experiment/ppl/interfaces/endpoint.rst\nChange the description in functions to be generic for SQL/PPL\nhttps://github.com/penghuo/sql/blob/pr-logical-optimization/docs/user/dql/functions.rst\n\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-09-30T20:30:01Z", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/763", "merged": true, "mergeCommit": {"oid": "f7cd73d8be5b49a6da13c24b71a5c912e0d47012"}, "closed": true, "closedAt": "2020-10-02T21:59:49Z", "author": {"login": "penghuo"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNuJ04gH2gAyNDk1NzcwMDQwOjVjODVjZmVmYzM3ZThhMzc1MGFmOGJiYjBjODNhMDEwYjM5Mjg0ZmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdOtF7tgH2gAyNDk1NzcwMDQwOjkzMTAzZmJmZGI2MDBjZjA2ODMxNjQ2OGIyOGVmZmQxNDc0MzNiYmU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5c85cfefc37e8a3750af8bbb0c83a010b39284fa", "author": {"user": {"login": "penghuo", "name": "Peng Huo"}}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/5c85cfefc37e8a3750af8bbb0c83a010b39284fa", "committedDate": "2020-09-29T20:24:37Z", "message": "init"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71414305f297407f5c4dce2b785004aeb187f30b", "author": {"user": {"login": "penghuo", "name": "Peng Huo"}}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/71414305f297407f5c4dce2b785004aeb187f30b", "committedDate": "2020-09-30T03:27:27Z", "message": "build pass"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3c7fa7c12355e075e79da40e08bb4be4b8ba0a0", "author": {"user": {"login": "penghuo", "name": "Peng Huo"}}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/e3c7fa7c12355e075e79da40e08bb4be4b8ba0a0", "committedDate": "2020-09-30T19:49:15Z", "message": "update ExplainIT"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc6677ea4b10b363dd3655e63337b1b68ad3710c", "author": {"user": {"login": "penghuo", "name": "Peng Huo"}}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/bc6677ea4b10b363dd3655e63337b1b68ad3710c", "committedDate": "2020-09-30T20:10:26Z", "message": "update doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4396b0fae532db11707db903c922c0e04d0fff26", "author": {"user": {"login": "penghuo", "name": "Peng Huo"}}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/4396b0fae532db11707db903c922c0e04d0fff26", "committedDate": "2020-09-30T20:11:58Z", "message": "correct the doc path"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "faffd4bde7270fde9ae6958980886532c1723afe", "author": {"user": {"login": "penghuo", "name": "Peng Huo"}}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/faffd4bde7270fde9ae6958980886532c1723afe", "committedDate": "2020-09-30T20:13:43Z", "message": "correct the doc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e10f51db4416fe7271a102fc9f2dad9e539019d", "author": {"user": {"login": "penghuo", "name": "Peng Huo"}}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/4e10f51db4416fe7271a102fc9f2dad9e539019d", "committedDate": "2020-09-30T20:15:51Z", "message": "correct index name"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6efec655dfca0d7856f298b489a71d089f7b4b10", "author": {"user": {"login": "penghuo", "name": "Peng Huo"}}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/6efec655dfca0d7856f298b489a71d089f7b4b10", "committedDate": "2020-09-30T20:20:19Z", "message": "change the description in functions to be generic for SQL/PPL"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2fc4cc136969c945e0392af5c212a57a06b7d3d", "author": {"user": {"login": "penghuo", "name": "Peng Huo"}}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/f2fc4cc136969c945e0392af5c212a57a06b7d3d", "committedDate": "2020-09-30T20:29:48Z", "message": "update JavaDoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c454a5dd300cf505176415e7e2d3e99482564bf1", "author": {"user": {"login": "penghuo", "name": "Peng Huo"}}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/c454a5dd300cf505176415e7e2d3e99482564bf1", "committedDate": "2020-10-01T16:41:12Z", "message": "merge from develop"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwNzY4MzA2", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/763#pullrequestreview-500768306", "createdAt": "2020-10-01T22:49:51Z", "commit": {"oid": "c454a5dd300cf505176415e7e2d3e99482564bf1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxMzAyNjQ5", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/763#pullrequestreview-501302649", "createdAt": "2020-10-02T17:03:19Z", "commit": {"oid": "c454a5dd300cf505176415e7e2d3e99482564bf1"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNzowMzoxOVrOHb1BXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNzowMzoxOVrOHb1BXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODk0MjMwMQ==", "bodyText": "Could you add some JavaDocs?", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/763#discussion_r498942301", "createdAt": "2020-10-02T17:03:19Z", "author": {"login": "dai-chen"}, "path": "core/src/main/java/com/amazon/opendistroforelasticsearch/sql/planner/optimizer/Rule.java", "diffHunk": "@@ -0,0 +1,29 @@\n+/*\n+ *\n+ *    Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n+ *\n+ *    Licensed under the Apache License, Version 2.0 (the \"License\").\n+ *    You may not use this file except in compliance with the License.\n+ *    A copy of the License is located at\n+ *\n+ *        http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *    or in the \"license\" file accompanying this file. This file is distributed\n+ *    on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n+ *    express or implied. See the License for the specific language governing\n+ *    permissions and limitations under the License.\n+ *\n+ */\n+\n+package com.amazon.opendistroforelasticsearch.sql.planner.optimizer;\n+\n+import com.amazon.opendistroforelasticsearch.sql.planner.logical.LogicalPlan;\n+import com.facebook.presto.matching.Captures;\n+import com.facebook.presto.matching.Pattern;\n+\n+public interface Rule<T> {\n+\n+  Pattern<T> pattern();\n+\n+  LogicalPlan apply(T plan, Captures captures);\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c454a5dd300cf505176415e7e2d3e99482564bf1"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93103fbfdb600cf068316468b28effd147433bbe", "author": {"user": {"login": "penghuo", "name": "Peng Huo"}}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/93103fbfdb600cf068316468b28effd147433bbe", "committedDate": "2020-10-02T21:44:23Z", "message": "add JavaDoc"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 539, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}