{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwNDI5NzM5", "number": 446, "title": "[BugFix] mock LocalClusterState settings in QueryPlanner base test class", "bodyText": "Issue #, if available:\n#443\nDescription of changes:\nInitialize mock LocalClusterState.sqlSettings in base test class for all query planner tests\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-04-29T00:38:17Z", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/446", "merged": true, "mergeCommit": {"oid": "6525dcadf13b5aa7edf93b3a1cbb7fa9d1e5c698"}, "closed": true, "closedAt": "2020-04-29T16:58:14Z", "author": {"login": "zhongnansu"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccNB1iAH2gAyNDEwNDI5NzM5OjNiYzlhZjRiYWJhMjBlYTg0ZjU3M2Q5MTFhZGJiYTA0M2M2ZjYwYmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABccatL_gFqTQwMjgxNTAzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3bc9af4baba20ea84f573d911adbba043c6f60bc", "author": {"user": {"login": "zhongnansu", "name": "Zhongnan Su"}}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/3bc9af4baba20ea84f573d911adbba043c6f60bc", "committedDate": "2020-04-29T00:06:44Z", "message": "[BugFix] mock LocalClusterState settings in QueryPlanner base class"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMzA4ODgw", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/446#pullrequestreview-402308880", "createdAt": "2020-04-29T00:53:46Z", "commit": {"oid": "3bc9af4baba20ea84f573d911adbba043c6f60bc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwMDo1Mzo0NlrOGNsV7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwMDo1Mzo0NlrOGNsV7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzAxMTE4Mg==", "bodyText": "Why are we stubbing getSettings() method - is it being used anywhere?", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/446#discussion_r417011182", "createdAt": "2020-04-29T00:53:46Z", "author": {"login": "abbashus"}, "path": "src/test/java/com/amazon/opendistroforelasticsearch/sql/unittest/planner/QueryPlannerTest.java", "diffHunk": "@@ -110,6 +114,12 @@ public static void initLogger() {\n     public void init() {\n         MockitoAnnotations.initMocks(this);\n \n+        SqlSettings settings = spy(new SqlSettings());\n+        // Force return empty list to avoid ClusterSettings be invoked which is a final class and hard to mock.\n+        // In this case, default value in Setting will be returned all the time.\n+        doReturn(emptyList()).when(settings).getSettings();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3bc9af4baba20ea84f573d911adbba043c6f60bc"}, "originalPosition": 33}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMzExODk4", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/446#pullrequestreview-402311898", "createdAt": "2020-04-29T01:06:12Z", "commit": {"oid": "3bc9af4baba20ea84f573d911adbba043c6f60bc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyODE1MDM4", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/446#pullrequestreview-402815038", "createdAt": "2020-04-29T16:02:51Z", "commit": {"oid": "3bc9af4baba20ea84f573d911adbba043c6f60bc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 662, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}