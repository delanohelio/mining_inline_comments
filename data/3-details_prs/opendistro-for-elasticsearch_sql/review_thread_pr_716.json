{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc0Mzk0OTM2", "number": 716, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMTo0NjozNFrOEdcfOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMTo0OTo0OFrOEdchUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MzEwOTA3OnYy", "diffSide": "RIGHT", "path": "sql-jdbc/src/main/java/com/amazon/opendistroforelasticsearch/jdbc/types/ElasticsearchType.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMTo0NjozNFrOHImxFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxODoxMjoxOFrOHRg-lg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc4NTgxNA==", "bodyText": "DATE to TIMESTAMP?", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/716#discussion_r478785814", "createdAt": "2020-08-28T01:46:34Z", "author": {"login": "penghuo"}, "path": "sql-jdbc/src/main/java/com/amazon/opendistroforelasticsearch/jdbc/types/ElasticsearchType.java", "diffHunk": "@@ -71,6 +73,8 @@\n     NESTED(JDBCType.STRUCT, null, 0, 0, false),\n     OBJECT(JDBCType.STRUCT, null, 0, 0, false),\n     DATE(JDBCType.TIMESTAMP, Timestamp.class, 24, 24, false),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6db268f936c6e4948dfbb7673193c0efa65d7eb8"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODEyODE1MA==", "bodyText": "DATE to DATE breaks the test by failing to load the kibana_sample_data_flights index. So I temporarily changed it back to TIMESTAMP. Will look into the issue", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/716#discussion_r488128150", "createdAt": "2020-09-14T18:12:18Z", "author": {"login": "chloe-zh"}, "path": "sql-jdbc/src/main/java/com/amazon/opendistroforelasticsearch/jdbc/types/ElasticsearchType.java", "diffHunk": "@@ -71,6 +73,8 @@\n     NESTED(JDBCType.STRUCT, null, 0, 0, false),\n     OBJECT(JDBCType.STRUCT, null, 0, 0, false),\n     DATE(JDBCType.TIMESTAMP, Timestamp.class, 24, 24, false),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc4NTgxNA=="}, "originalCommit": {"oid": "6db268f936c6e4948dfbb7673193c0efa65d7eb8"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5MzExNDQwOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/com/amazon/opendistroforelasticsearch/sql/expression/datetime/DateTimeFunction.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMTo0OTo0OFrOHIm0PQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwMzo0MToyM1rOHIodKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc4NjYyMQ==", "bodyText": "could you confirm this? dayofmonth doesn't accept DATE? e.g. dayofmonth(CURDATE()) should work.", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/716#discussion_r478786621", "createdAt": "2020-08-28T01:49:48Z", "author": {"login": "penghuo"}, "path": "core/src/main/java/com/amazon/opendistroforelasticsearch/sql/expression/datetime/DateTimeFunction.java", "diffHunk": "@@ -78,7 +78,8 @@ private FunctionResolver date() {\n   private FunctionResolver dayOfMonth() {\n     return define(DAYOFMONTH.getName(),\n         impl(nullMissingHandling(DateTimeFunction::exprDayOfMonth),\n-            INTEGER, DATE)\n+            INTEGER, DATE),\n+        impl(nullMissingHandling(DateTimeFunction::exprDayOfMonth), INTEGER, STRING)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6db268f936c6e4948dfbb7673193c0efa65d7eb8"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODgxMzQ4Mg==", "bodyText": "It accepts date, this line is to addd string as argument as well", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/716#discussion_r478813482", "createdAt": "2020-08-28T03:41:23Z", "author": {"login": "chloe-zh"}, "path": "core/src/main/java/com/amazon/opendistroforelasticsearch/sql/expression/datetime/DateTimeFunction.java", "diffHunk": "@@ -78,7 +78,8 @@ private FunctionResolver date() {\n   private FunctionResolver dayOfMonth() {\n     return define(DAYOFMONTH.getName(),\n         impl(nullMissingHandling(DateTimeFunction::exprDayOfMonth),\n-            INTEGER, DATE)\n+            INTEGER, DATE),\n+        impl(nullMissingHandling(DateTimeFunction::exprDayOfMonth), INTEGER, STRING)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODc4NjYyMQ=="}, "originalCommit": {"oid": "6db268f936c6e4948dfbb7673193c0efa65d7eb8"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2005, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}