{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQxNDQyNjg3", "number": 943, "title": "Fix workbench issue in backported 1.11 branch: error message cannot display", "bodyText": "Issue #, if available:\nDescription of changes:\n\nFixed error message display issue\nUpdated unit test\n\nBefore:\n\nAfter:\n\nBy submitting this pull request, I confirm that my contribution is made under the terms of the Apache 2.0 license.", "createdAt": "2020-12-16T21:14:27Z", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/943", "merged": true, "mergeCommit": {"oid": "cb16013c2f71e2104db9469cb0c2bb98046fd23f"}, "closed": true, "closedAt": "2020-12-16T21:39:45Z", "author": {"login": "chloe-zh"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdm1iVtAH2gAyNTQxNDQyNjg3OjQ1ODVjNjliYzg5ODAzZjEyNzg2OTdjMWE4OGE0NzRlYmZjNmIxOGI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdm10LTgH2gAyNTQxNDQyNjg3OmNlOTU4ZDI5NzFlZGQ5MDE2ZTM4N2VkMTI1YTk1ZDU1NDZhM2Q1ZWM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4585c69bc89803f1278697c1a88a474ebfc6b18b", "author": {"user": {"login": "chloe-zh", "name": "Chloe"}}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/4585c69bc89803f1278697c1a88a474ebfc6b18b", "committedDate": "2020-12-16T21:08:50Z", "message": "fixed error message cannot display issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c573b3c1de86099befa44ec14321e0244219e3f5", "author": {"user": {"login": "chloe-zh", "name": "Chloe"}}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/c573b3c1de86099befa44ec14321e0244219e3f5", "committedDate": "2020-12-16T21:10:03Z", "message": "Merge branch 'backport-7.9' into fix-error-msg"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "166d2795cccb1e418881297d76361c76944f6f9a", "author": {"user": {"login": "chloe-zh", "name": "Chloe"}}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/166d2795cccb1e418881297d76361c76944f6f9a", "committedDate": "2020-12-16T21:13:06Z", "message": "update"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0MDkyMzE4", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/943#pullrequestreview-554092318", "createdAt": "2020-12-16T21:18:55Z", "commit": {"oid": "166d2795cccb1e418881297d76361c76944f6f9a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQyMToxODo1NVrOIHZlUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQyMToxODo1NVrOIHZlUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDYzMDA5Nw==", "bodyText": "Do we need to leave these comments in?", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/943#discussion_r544630097", "createdAt": "2020-12-16T21:18:55Z", "author": {"login": "davidcui1225"}, "path": "workbench/public/components/Main/main.tsx", "diffHunk": "@@ -260,13 +261,17 @@ export class Main extends React.Component<MainProps, MainState> {\n       }\n     }\n     if (!response.data.ok) {\n+      // Error message in JSON format from backend is wrapped in response data\n+      // response.data: IHttpResponse<ResponseData> \n+      const error: IHttpResponse<ResponseData> = response.data;\n       return {\n         fulfilled: false,\n-        errorMessage: response.data.resp,\n-        data: response.data.body,\n+        errorMessage: error.data.resp,\n+        data: error.data.body,\n       };\n     }\n \n+    // response: IHttpResponse<ResponseData> ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "166d2795cccb1e418881297d76361c76944f6f9a"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0MDkyNDY4", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/943#pullrequestreview-554092468", "createdAt": "2020-12-16T21:19:09Z", "commit": {"oid": "166d2795cccb1e418881297d76361c76944f6f9a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0MDkyNDg3", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/943#pullrequestreview-554092487", "createdAt": "2020-12-16T21:19:11Z", "commit": {"oid": "166d2795cccb1e418881297d76361c76944f6f9a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0MDk0MTY4", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/943#pullrequestreview-554094168", "createdAt": "2020-12-16T21:21:41Z", "commit": {"oid": "166d2795cccb1e418881297d76361c76944f6f9a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0MDk3MTM3", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/943#pullrequestreview-554097137", "createdAt": "2020-12-16T21:26:11Z", "commit": {"oid": "166d2795cccb1e418881297d76361c76944f6f9a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQyMToyNjoxMVrOIHZ1aQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQyMToyNjoxMVrOIHZ1aQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NDYzNDIxNw==", "bodyText": "unnecessary console.log?", "url": "https://github.com/opendistro-for-elasticsearch/sql/pull/943#discussion_r544634217", "createdAt": "2020-12-16T21:26:11Z", "author": {"login": "joshuali925"}, "path": "workbench/public/components/Main/main.tsx", "diffHunk": "@@ -251,7 +251,8 @@ export class Main extends React.Component<MainProps, MainState> {\n     };\n   }\n \n-  processQueryResponse(response: IHttpResponse<ResponseData>): ResponseDetail<string> {\n+  processQueryResponse(response: any): ResponseDetail<string> {\n+    console.log(response)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "166d2795cccb1e418881297d76361c76944f6f9a"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce958d2971edd9016e387ed125a95d5546a3d5ec", "author": {"user": {"login": "chloe-zh", "name": "Chloe"}}, "url": "https://github.com/opendistro-for-elasticsearch/sql/commit/ce958d2971edd9016e387ed125a95d5546a3d5ec", "committedDate": "2020-12-16T21:28:19Z", "message": "removed redundant lines"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 532, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}