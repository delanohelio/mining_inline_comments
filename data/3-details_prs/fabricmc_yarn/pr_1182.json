{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg4MTgzOTk2", "number": 1182, "title": "InfoEnchantment -> EnchantmentLevelEntry (extends WeightedPicker.Entry)", "bodyText": "also Enchantment$Weight -> Enchantment$Rarity\nFixes #1181 and fixes #1057\nSigned-off-by: liach liach@users.noreply.github.com", "createdAt": "2020-03-14T06:31:34Z", "url": "https://github.com/FabricMC/yarn/pull/1182", "merged": true, "mergeCommit": {"oid": "5f5d0a8746acb082503c1b40f0df5b7baada1abc"}, "closed": true, "closedAt": "2020-03-17T20:26:13Z", "author": {"login": "liach"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcNe8-XgH2gAyMzg4MTgzOTk2OjNhZjZmMjBiNmJlM2JlOTIzMzZjYzVkZjM3MjRjNWM4MWZlZGE4NTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcOost2AFqTM3NjM3OTAxNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3af6f20b6be3be92336cc5df3724c5c81feda853", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/3af6f20b6be3be92336cc5df3724c5c81feda853", "committedDate": "2020-03-14T06:30:51Z", "message": "InfoEnchantment -> EnchantmentsEntry (extends WeightedPicker.Entry)\nEnchantment$Weight -> Enchantment$Rarity\n\nagain time to end that utter nonsense\n\nSigned-off-by: liach <liach@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f2e8d27600c5d5538a5d26a368221c757c0493d", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/5f2e8d27600c5d5538a5d26a368221c757c0493d", "committedDate": "2020-03-14T06:39:36Z", "message": "Don't cry at me for not closing #1181 if you get fooled into think this is the actual \"enchantment\"\nthis thing is just a weighted picker entry; even client data gen properties entry (key-value pair) has proper hashCode and equals and this thing doesn't\n\nSigned-off-by: liach <liach@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0NzA1NDU4", "url": "https://github.com/FabricMC/yarn/pull/1182#pullrequestreview-374705458", "createdAt": "2020-03-14T07:44:43Z", "commit": {"oid": "5f2e8d27600c5d5538a5d26a368221c757c0493d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNFQwNzo0NDo0NFrOF2YTzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNFQwNzo0OToyNFrOF2YUtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU2NTcwOA==", "bodyText": "I feel like \"Random\" shouldn't be part of the name here, as it might be an implementation detail. I would rather go with something like getEquipmentEnchantedWith, while keeping the new javadocs.", "url": "https://github.com/FabricMC/yarn/pull/1182#discussion_r392565708", "createdAt": "2020-03-14T07:44:44Z", "author": {"login": "Earthcomputer"}, "path": "mappings/net/minecraft/enchantment/EnchantmentHelper.mapping", "diffHunk": "@@ -1,9 +1,19 @@\n CLASS net/minecraft/class_1890 net/minecraft/enchantment/EnchantmentHelper\n \tMETHOD method_17884 (Ljava/util/Map;Lnet/minecraft/class_2487;Lnet/minecraft/class_1887;)V\n \t\tARG 2 enchantment\n-\tMETHOD method_22445 getEnchantments (Lnet/minecraft/class_2499;)Ljava/util/Map;\n+\tMETHOD method_22445 fromTag (Lnet/minecraft/class_2499;)Ljava/util/Map;\n+\t\tCOMMENT Loads enchantments from a list named binary tag.\n \t\tARG 0 tag\n-\tMETHOD method_24365 getMatchingEnchantedEquipment (Lnet/minecraft/class_1887;Lnet/minecraft/class_1309;Ljava/util/function/Predicate;)Ljava/util/Map$Entry;\n+\tMETHOD method_24365 getRandomEnchantedEquipment (Lnet/minecraft/class_1887;Lnet/minecraft/class_1309;Ljava/util/function/Predicate;)Ljava/util/Map$Entry;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f2e8d27600c5d5538a5d26a368221c757c0493d"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU2NTgwOA==", "bodyText": "Similarly, this could be renamed to getEquipmentEnchantedWith", "url": "https://github.com/FabricMC/yarn/pull/1182#discussion_r392565808", "createdAt": "2020-03-14T07:46:31Z", "author": {"login": "Earthcomputer"}, "path": "mappings/net/minecraft/enchantment/EnchantmentHelper.mapping", "diffHunk": "@@ -18,15 +28,24 @@ CLASS net/minecraft/class_1890 net/minecraft/enchantment/EnchantmentHelper\n \tMETHOD method_8202 getRiptide (Lnet/minecraft/class_1799;)I\n \t\tARG 0 stack\n \tMETHOD method_8203 getEquipmentLevel (Lnet/minecraft/class_1887;Lnet/minecraft/class_1309;)I\n-\t\tARG 0 ench\n+\t\tCOMMENT Returns the highest level of the passed enchantment in the enchantment's\n+\t\tCOMMENT applicable equipment slots' item stacks.\n+\t\tARG 0 enchantment\n \t\tARG 1 entity\n \tMETHOD method_8204 getRandomEnchantedEquipment (Lnet/minecraft/class_1887;Lnet/minecraft/class_1309;)Ljava/util/Map$Entry;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f2e8d27600c5d5538a5d26a368221c757c0493d"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU2NTkyNQ==", "bodyText": "It's not a seed, it's a seeded Random", "url": "https://github.com/FabricMC/yarn/pull/1182#discussion_r392565925", "createdAt": "2020-03-14T07:48:59Z", "author": {"login": "Earthcomputer"}, "path": "mappings/net/minecraft/enchantment/EnchantmentHelper.mapping", "diffHunk": "@@ -51,48 +74,71 @@ CLASS net/minecraft/class_1890 net/minecraft/enchantment/EnchantmentHelper\n \tMETHOD method_8219 getProtectionAmount (Ljava/lang/Iterable;Lnet/minecraft/class_1282;)I\n \t\tARG 0 equipment\n \t\tARG 1 source\n-\tMETHOD method_8220 accept (Lnet/minecraft/class_1890$class_1891;Lnet/minecraft/class_1799;)V\n-\t\tARG 0 enchantmentHandler\n+\tMETHOD method_8220 process (Lnet/minecraft/class_1890$class_1891;Lnet/minecraft/class_1799;)V\n+\t\tARG 0 action\n \t\tARG 1 stack\n \tMETHOD method_8221 hasVanishingCurse (Lnet/minecraft/class_1799;)Z\n \t\tARG 0 stack\n-\tMETHOD method_8222 getEnchantments (Lnet/minecraft/class_1799;)Ljava/util/Map;\n+\tMETHOD method_8222 get (Lnet/minecraft/class_1799;)Ljava/util/Map;\n+\t\tCOMMENT Gets the enchantments on an item stack.\n+\t\tCOMMENT\n+\t\tCOMMENT <p>For enchanted books, it retrieves from the item stack's stored than\n+\t\tCOMMENT regular enchantments.\n \t\tARG 0 stack\n \tMETHOD method_8223 getLuckOfTheSea (Lnet/minecraft/class_1799;)I\n \t\tARG 0 stack\n \tMETHOD method_8224 hasBindingCurse (Lnet/minecraft/class_1799;)Z\n \t\tARG 0 stack\n \tMETHOD method_8225 getLevel (Lnet/minecraft/class_1887;Lnet/minecraft/class_1799;)I\n+\t\tCOMMENT Gets the level of an enchantment on an item stack.\n \t\tARG 0 enchantment\n \t\tARG 1 stack\n \tMETHOD method_8226 getLooting (Lnet/minecraft/class_1309;)I\n \t\tARG 0 entity\n-\tMETHOD method_8227 calculateEnchantmentPower (Ljava/util/Random;IILnet/minecraft/class_1799;)I\n+\tMETHOD method_8227 calculateRequiredExperienceLevel (Ljava/util/Random;IILnet/minecraft/class_1799;)I\n+\t\tCOMMENT Returns the required experience level for an enchanting option in the\n+\t\tCOMMENT enchanting table's screen, or the enchantment screen.\n \t\tARG 0 random\n-\t\tARG 1 num\n-\t\tARG 2 enchantmentPower\n-\t\tARG 3 rstack\n+\t\t\tCOMMENT the seed\n+\t\tARG 1 slotIndex\n+\t\t\tCOMMENT the index of the enchanting option\n+\t\tARG 2 bookshelfCount\n+\t\t\tCOMMENT the number of bookshelves\n+\t\tARG 3 stack\n+\t\t\tCOMMENT the item stack to enchant\n \tMETHOD method_8228 hasChanneling (Lnet/minecraft/class_1799;)Z\n \t\tARG 0 stack\n-\tMETHOD method_8229 getHighestApplicableEnchantmentsAtPower (ILnet/minecraft/class_1799;Z)Ljava/util/List;\n+\tMETHOD method_8229 getPossibleEntries (ILnet/minecraft/class_1799;Z)Ljava/util/List;\n+\t\tCOMMENT Gets all the possible entries for enchanting the {@code stack} at the\n+\t\tCOMMENT given {@code power}.\n \t\tARG 0 power\n \t\tARG 1 stack\n \t\tARG 2 treasureAllowed\n-\tMETHOD method_8230 getEnchantments (Ljava/util/Random;Lnet/minecraft/class_1799;IZ)Ljava/util/List;\n+\tMETHOD method_8230 generateEnchantments (Ljava/util/Random;Lnet/minecraft/class_1799;IZ)Ljava/util/List;\n+\t\tCOMMENT Generate the enchantments for enchanting the {@code stack}.\n \t\tARG 0 random\n \t\tARG 1 stack\n \t\tARG 2 level\n-\t\tARG 3 hasTreasure\n-\tMETHOD method_8231 remove (Ljava/util/List;Lnet/minecraft/class_1889;)V\n-\t\tARG 0 infos\n-\t\tARG 1 info\n+\t\tARG 3 treasureAllowed\n+\tMETHOD method_8231 removeConflicts (Ljava/util/List;Lnet/minecraft/class_1889;)V\n+\t\tCOMMENT Remove entries conflicting with the picked entry from the possible\n+\t\tCOMMENT entries.\n+\t\tARG 0 possibleEntries\n+\t\t\tCOMMENT the possible entries\n+\t\tARG 1 pickedEntry\n+\t\t\tCOMMENT the picked entry\n \tMETHOD method_8232 getDepthStrider (Lnet/minecraft/class_1309;)I\n \t\tARG 0 entity\n \tMETHOD method_8233 enchant (Ljava/util/Random;Lnet/minecraft/class_1799;IZ)Lnet/minecraft/class_1799;\n+\t\tCOMMENT Enchants the {@code target} item stack and returns it.\n \t\tARG 0 random\n+\t\t\tCOMMENT the seed", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f2e8d27600c5d5538a5d26a368221c757c0493d"}, "originalPosition": 136}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjU2NTk0Mg==", "bodyText": "Perhaps use the singular EnchantmentEntry instead?", "url": "https://github.com/FabricMC/yarn/pull/1182#discussion_r392565942", "createdAt": "2020-03-14T07:49:24Z", "author": {"login": "Earthcomputer"}, "path": "mappings/net/minecraft/enchantment/EnchantmentsEntry.mapping", "diffHunk": "@@ -0,0 +1,12 @@\n+CLASS net/minecraft/class_1889 net/minecraft/enchantment/EnchantmentsEntry", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f2e8d27600c5d5538a5d26a368221c757c0493d"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a541c27dcc2726e8db7eb14edefc271d7d98ff43", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/a541c27dcc2726e8db7eb14edefc271d7d98ff43", "committedDate": "2020-03-14T15:56:18Z", "message": "Good suggestions earthcomputer\n\nSigned-off-by: liach <liach@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0NzM4Mjk1", "url": "https://github.com/FabricMC/yarn/pull/1182#pullrequestreview-374738295", "createdAt": "2020-03-14T16:36:21Z", "commit": {"oid": "a541c27dcc2726e8db7eb14edefc271d7d98ff43"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0NzUzMzQ0", "url": "https://github.com/FabricMC/yarn/pull/1182#pullrequestreview-374753344", "createdAt": "2020-03-14T20:53:19Z", "commit": {"oid": "a541c27dcc2726e8db7eb14edefc271d7d98ff43"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9517c35cdfa06024e423182f2097b43008ac2403", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/9517c35cdfa06024e423182f2097b43008ac2403", "committedDate": "2020-03-14T21:20:47Z", "message": "Suggested EnchantmentLevelEntry\n\nSigned-off-by: liach <liach@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0NzU3NDIx", "url": "https://github.com/FabricMC/yarn/pull/1182#pullrequestreview-374757421", "createdAt": "2020-03-14T22:12:52Z", "commit": {"oid": "9517c35cdfa06024e423182f2097b43008ac2403"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0NzgzMDMx", "url": "https://github.com/FabricMC/yarn/pull/1182#pullrequestreview-374783031", "createdAt": "2020-03-15T09:20:47Z", "commit": {"oid": "9517c35cdfa06024e423182f2097b43008ac2403"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0ODA0MTk2", "url": "https://github.com/FabricMC/yarn/pull/1182#pullrequestreview-374804196", "createdAt": "2020-03-15T14:31:28Z", "commit": {"oid": "9517c35cdfa06024e423182f2097b43008ac2403"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNVQxNDozMToyOVrOF2fPdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNVQxNDozMToyOVrOF2fPdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY3OTI4NQ==", "bodyText": "I don't think defining immutability has anything to do with hashCode and equals.", "url": "https://github.com/FabricMC/yarn/pull/1182#discussion_r392679285", "createdAt": "2020-03-15T14:31:29Z", "author": {"login": "Juuxel"}, "path": "mappings/net/minecraft/enchantment/EnchantmentLevelEntry.mapping", "diffHunk": "@@ -0,0 +1,16 @@\n+CLASS net/minecraft/class_1889 net/minecraft/enchantment/EnchantmentLevelEntry\n+\tCOMMENT Represents an entry in an enchantments array, i.e. a pair between\n+\tCOMMENT enchantment and level. This is also a weighted entry and is available\n+\tCOMMENT for the weighted picker to pick from a list.\n+\tCOMMENT\n+\tCOMMENT <p>This is usually used where multiple enchantment to level mappings can\n+\tCOMMENT exist, such as in enchanting logic. In other cases, vanilla prefers\n+\tCOMMENT {@code Map<Enchantment, Integer>} over {@code List<EnchantmentLevelEntry>}.\n+\tCOMMENT\n+\tCOMMENT <p>This class, though effectively immutable, does not override hashCode\n+\tCOMMENT or equals.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9517c35cdfa06024e423182f2097b43008ac2403"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0ODA4NjQ4", "url": "https://github.com/FabricMC/yarn/pull/1182#pullrequestreview-374808648", "createdAt": "2020-03-15T15:25:31Z", "commit": {"oid": "9517c35cdfa06024e423182f2097b43008ac2403"}, "state": "COMMENTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNVQxNToyNTozMlrOF2fisA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNVQxNTozNTozMFrOF2fmgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY4NDIwOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tCOMMENT Loads enchantments from a list named binary tag.\n          \n          \n            \n            \t\tCOMMENT Loads enchantments from a NBT list.\n          \n      \n    \n    \n  \n\nI initially read \"a list named binary tag\" as \"a list named 'binary tag'\"", "url": "https://github.com/FabricMC/yarn/pull/1182#discussion_r392684208", "createdAt": "2020-03-15T15:25:32Z", "author": {"login": "Pyrofab"}, "path": "mappings/net/minecraft/enchantment/EnchantmentHelper.mapping", "diffHunk": "@@ -1,9 +1,22 @@\n CLASS net/minecraft/class_1890 net/minecraft/enchantment/EnchantmentHelper\n \tMETHOD method_17884 (Ljava/util/Map;Lnet/minecraft/class_2487;Lnet/minecraft/class_1887;)V\n \t\tARG 2 enchantment\n-\tMETHOD method_22445 getEnchantments (Lnet/minecraft/class_2499;)Ljava/util/Map;\n+\tMETHOD method_22445 fromTag (Lnet/minecraft/class_2499;)Ljava/util/Map;\n+\t\tCOMMENT Loads enchantments from a list named binary tag.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9517c35cdfa06024e423182f2097b43008ac2403"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY4NDM2Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tMETHOD method_24365 chooseEquipmentWith (Lnet/minecraft/class_1887;Lnet/minecraft/class_1309;Ljava/util/function/Predicate;)Ljava/util/Map$Entry;\n          \n          \n            \n            \tMETHOD method_24365 findEquipmentWith (Lnet/minecraft/class_1887;Lnet/minecraft/class_1309;Ljava/util/function/Predicate;)Ljava/util/Map$Entry;\n          \n      \n    \n    \n  \n\nI think find is more appropriate than choose here.", "url": "https://github.com/FabricMC/yarn/pull/1182#discussion_r392684367", "createdAt": "2020-03-15T15:26:49Z", "author": {"login": "Pyrofab"}, "path": "mappings/net/minecraft/enchantment/EnchantmentHelper.mapping", "diffHunk": "@@ -1,9 +1,22 @@\n CLASS net/minecraft/class_1890 net/minecraft/enchantment/EnchantmentHelper\n \tMETHOD method_17884 (Ljava/util/Map;Lnet/minecraft/class_2487;Lnet/minecraft/class_1887;)V\n \t\tARG 2 enchantment\n-\tMETHOD method_22445 getEnchantments (Lnet/minecraft/class_2499;)Ljava/util/Map;\n+\tMETHOD method_22445 fromTag (Lnet/minecraft/class_2499;)Ljava/util/Map;\n+\t\tCOMMENT Loads enchantments from a list named binary tag.\n \t\tARG 0 tag\n-\tMETHOD method_24365 getMatchingEnchantedEquipment (Lnet/minecraft/class_1887;Lnet/minecraft/class_1309;Ljava/util/function/Predicate;)Ljava/util/Map$Entry;\n+\tMETHOD method_24365 chooseEquipmentWith (Lnet/minecraft/class_1887;Lnet/minecraft/class_1309;Ljava/util/function/Predicate;)Ljava/util/Map$Entry;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9517c35cdfa06024e423182f2097b43008ac2403"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY4NDQxMg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tMETHOD method_8204 chooseEquipmentWith (Lnet/minecraft/class_1887;Lnet/minecraft/class_1309;)Ljava/util/Map$Entry;\n          \n          \n            \n            \tMETHOD method_8204 findEquipmentWith (Lnet/minecraft/class_1887;Lnet/minecraft/class_1309;)Ljava/util/Map$Entry;", "url": "https://github.com/FabricMC/yarn/pull/1182#discussion_r392684412", "createdAt": "2020-03-15T15:27:28Z", "author": {"login": "Pyrofab"}, "path": "mappings/net/minecraft/enchantment/EnchantmentHelper.mapping", "diffHunk": "@@ -18,15 +31,28 @@ CLASS net/minecraft/class_1890 net/minecraft/enchantment/EnchantmentHelper\n \tMETHOD method_8202 getRiptide (Lnet/minecraft/class_1799;)I\n \t\tARG 0 stack\n \tMETHOD method_8203 getEquipmentLevel (Lnet/minecraft/class_1887;Lnet/minecraft/class_1309;)I\n-\t\tARG 0 ench\n+\t\tCOMMENT Returns the highest level of the passed enchantment in the enchantment's\n+\t\tCOMMENT applicable equipment slots' item stacks.\n+\t\tARG 0 enchantment\n+\t\t\tCOMMENT the enchantment\n+\t\tARG 1 entity\n+\t\t\tCOMMENT the entity whose equipment slots are checked\n+\tMETHOD method_8204 chooseEquipmentWith (Lnet/minecraft/class_1887;Lnet/minecraft/class_1309;)Ljava/util/Map$Entry;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9517c35cdfa06024e423182f2097b43008ac2403"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY4NDYzMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tMETHOD method_8209 forEach (Lnet/minecraft/class_1890$class_1891;Ljava/lang/Iterable;)V\n          \n          \n            \n            \tMETHOD method_8209 forEachEnchantment (Lnet/minecraft/class_1890$class_1891;Ljava/lang/Iterable;)V\n          \n      \n    \n    \n  \n\nThis method is basically applying an action to every enchantment of every stack in the list.", "url": "https://github.com/FabricMC/yarn/pull/1182#discussion_r392684633", "createdAt": "2020-03-15T15:29:52Z", "author": {"login": "Pyrofab"}, "path": "mappings/net/minecraft/enchantment/EnchantmentHelper.mapping", "diffHunk": "@@ -18,15 +31,28 @@ CLASS net/minecraft/class_1890 net/minecraft/enchantment/EnchantmentHelper\n \tMETHOD method_8202 getRiptide (Lnet/minecraft/class_1799;)I\n \t\tARG 0 stack\n \tMETHOD method_8203 getEquipmentLevel (Lnet/minecraft/class_1887;Lnet/minecraft/class_1309;)I\n-\t\tARG 0 ench\n+\t\tCOMMENT Returns the highest level of the passed enchantment in the enchantment's\n+\t\tCOMMENT applicable equipment slots' item stacks.\n+\t\tARG 0 enchantment\n+\t\t\tCOMMENT the enchantment\n+\t\tARG 1 entity\n+\t\t\tCOMMENT the entity whose equipment slots are checked\n+\tMETHOD method_8204 chooseEquipmentWith (Lnet/minecraft/class_1887;Lnet/minecraft/class_1309;)Ljava/util/Map$Entry;\n+\t\tCOMMENT Returns a pair of an equipment slot and the item stack in the supplied\n+\t\tCOMMENT entity's slot, indicating the item stack has the enchantment supplied.\n+\t\tCOMMENT\n+\t\tCOMMENT <p>If multiple equipment slots' item stacks are valid, a random pair is\n+\t\tCOMMENT returned.\n+\t\tARG 0 enchantment\n+\t\t\tCOMMENT the enchantment the equipped item stack must have\n \t\tARG 1 entity\n-\tMETHOD method_8204 getRandomEnchantedEquipment (Lnet/minecraft/class_1887;Lnet/minecraft/class_1309;)Ljava/util/Map$Entry;\n+\t\t\tCOMMENT the entity to choose equipments from\n \tMETHOD method_8205 getKnockback (Lnet/minecraft/class_1309;)I\n \t\tARG 0 entity\n \tMETHOD method_8206 getLoyalty (Lnet/minecraft/class_1799;)I\n \t\tARG 0 stack\n-\tMETHOD method_8209 accept (Lnet/minecraft/class_1890$class_1891;Ljava/lang/Iterable;)V\n-\t\tARG 0 enchantmentHandler\n+\tMETHOD method_8209 forEach (Lnet/minecraft/class_1890$class_1891;Ljava/lang/Iterable;)V", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9517c35cdfa06024e423182f2097b43008ac2403"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY4NDc5Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tMETHOD method_8220 process (Lnet/minecraft/class_1890$class_1891;Lnet/minecraft/class_1799;)V\n          \n          \n            \n            \tMETHOD method_8220 forEachEnchantment (Lnet/minecraft/class_1890$class_1891;Lnet/minecraft/class_1799;)V\n          \n      \n    \n    \n  \n\nThis method is quite similar to the one above, applying an action to every enchantment on the stack.", "url": "https://github.com/FabricMC/yarn/pull/1182#discussion_r392684796", "createdAt": "2020-03-15T15:31:10Z", "author": {"login": "Pyrofab"}, "path": "mappings/net/minecraft/enchantment/EnchantmentHelper.mapping", "diffHunk": "@@ -51,48 +81,71 @@ CLASS net/minecraft/class_1890 net/minecraft/enchantment/EnchantmentHelper\n \tMETHOD method_8219 getProtectionAmount (Ljava/lang/Iterable;Lnet/minecraft/class_1282;)I\n \t\tARG 0 equipment\n \t\tARG 1 source\n-\tMETHOD method_8220 accept (Lnet/minecraft/class_1890$class_1891;Lnet/minecraft/class_1799;)V\n-\t\tARG 0 enchantmentHandler\n+\tMETHOD method_8220 process (Lnet/minecraft/class_1890$class_1891;Lnet/minecraft/class_1799;)V", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9517c35cdfa06024e423182f2097b43008ac2403"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY4NDk0Ng==", "bodyText": "Not sure about this change. EnchantmentHelper.get(stack) does not make it immediately clear that we are getting the enchantments on the stack.", "url": "https://github.com/FabricMC/yarn/pull/1182#discussion_r392684946", "createdAt": "2020-03-15T15:32:39Z", "author": {"login": "Pyrofab"}, "path": "mappings/net/minecraft/enchantment/EnchantmentHelper.mapping", "diffHunk": "@@ -51,48 +81,71 @@ CLASS net/minecraft/class_1890 net/minecraft/enchantment/EnchantmentHelper\n \tMETHOD method_8219 getProtectionAmount (Ljava/lang/Iterable;Lnet/minecraft/class_1282;)I\n \t\tARG 0 equipment\n \t\tARG 1 source\n-\tMETHOD method_8220 accept (Lnet/minecraft/class_1890$class_1891;Lnet/minecraft/class_1799;)V\n-\t\tARG 0 enchantmentHandler\n+\tMETHOD method_8220 process (Lnet/minecraft/class_1890$class_1891;Lnet/minecraft/class_1799;)V\n+\t\tARG 0 action\n \t\tARG 1 stack\n \tMETHOD method_8221 hasVanishingCurse (Lnet/minecraft/class_1799;)Z\n \t\tARG 0 stack\n-\tMETHOD method_8222 getEnchantments (Lnet/minecraft/class_1799;)Ljava/util/Map;\n+\tMETHOD method_8222 get (Lnet/minecraft/class_1799;)Ljava/util/Map;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9517c35cdfa06024e423182f2097b43008ac2403"}, "originalPosition": 81}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjY4NTE4NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tCOMMENT <p>For enchanted books, it retrieves from the item stack's stored than\n          \n          \n            \n            \t\tCOMMENT regular enchantments.\n          \n          \n            \n            \t\tCOMMENT <p>For enchanted books, it retrieves from the stack's stored enchantments\n          \n          \n            \n            \t\tCOMMENT rather than from the regular enchantments data.\n          \n          \n            \n            \t\tCOMMENT @see EnchantedBookItem#getEnchantmentTag", "url": "https://github.com/FabricMC/yarn/pull/1182#discussion_r392685185", "createdAt": "2020-03-15T15:35:30Z", "author": {"login": "Pyrofab"}, "path": "mappings/net/minecraft/enchantment/EnchantmentHelper.mapping", "diffHunk": "@@ -51,48 +81,71 @@ CLASS net/minecraft/class_1890 net/minecraft/enchantment/EnchantmentHelper\n \tMETHOD method_8219 getProtectionAmount (Ljava/lang/Iterable;Lnet/minecraft/class_1282;)I\n \t\tARG 0 equipment\n \t\tARG 1 source\n-\tMETHOD method_8220 accept (Lnet/minecraft/class_1890$class_1891;Lnet/minecraft/class_1799;)V\n-\t\tARG 0 enchantmentHandler\n+\tMETHOD method_8220 process (Lnet/minecraft/class_1890$class_1891;Lnet/minecraft/class_1799;)V\n+\t\tARG 0 action\n \t\tARG 1 stack\n \tMETHOD method_8221 hasVanishingCurse (Lnet/minecraft/class_1799;)Z\n \t\tARG 0 stack\n-\tMETHOD method_8222 getEnchantments (Lnet/minecraft/class_1799;)Ljava/util/Map;\n+\tMETHOD method_8222 get (Lnet/minecraft/class_1799;)Ljava/util/Map;\n+\t\tCOMMENT Gets the enchantments on an item stack.\n+\t\tCOMMENT\n+\t\tCOMMENT <p>For enchanted books, it retrieves from the item stack's stored than\n+\t\tCOMMENT regular enchantments.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9517c35cdfa06024e423182f2097b43008ac2403"}, "originalPosition": 85}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0ODM1ODQ1", "url": "https://github.com/FabricMC/yarn/pull/1182#pullrequestreview-374835845", "createdAt": "2020-03-15T21:34:03Z", "commit": {"oid": "9517c35cdfa06024e423182f2097b43008ac2403"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f412e94ae25a600919b5fc8d54169055b6b386c0", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/f412e94ae25a600919b5fc8d54169055b6b386c0", "committedDate": "2020-03-16T05:38:05Z", "message": "Selected changes for enchantment helper"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb757bf80eb1d16b85a456bcfbad23ac6a00aac2", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/bb757bf80eb1d16b85a456bcfbad23ac6a00aac2", "committedDate": "2020-03-16T05:38:58Z", "message": "Rephrase to make it less confusing per juuz"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1MDQ1ODUx", "url": "https://github.com/FabricMC/yarn/pull/1182#pullrequestreview-375045851", "createdAt": "2020-03-16T09:42:19Z", "commit": {"oid": "bb757bf80eb1d16b85a456bcfbad23ac6a00aac2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2MzYwMzMx", "url": "https://github.com/FabricMC/yarn/pull/1182#pullrequestreview-376360331", "createdAt": "2020-03-17T19:57:34Z", "commit": {"oid": "bb757bf80eb1d16b85a456bcfbad23ac6a00aac2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2Mzc5MDE2", "url": "https://github.com/FabricMC/yarn/pull/1182#pullrequestreview-376379016", "createdAt": "2020-03-17T20:26:04Z", "commit": {"oid": "bb757bf80eb1d16b85a456bcfbad23ac6a00aac2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3693, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}