{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ1MDMzOTgy", "number": 1934, "title": "Switch to mappingpoet 0.2.0", "bodyText": "Goal\n\nIntegrate mappingpoet 0.2.0\n\nNow includes mapping information on javadoc generated. Would support type annotations if mojang add them.\n\n\nRemoved mappingpoet from build.gradle dependencies. Now only used when generating fake source/javadoc\nUses gradle 6.7 toolchain feature so running ./gradlew javadoc -Dorg.gradle.java.home=\"C:/Program Files/Java/jdk1.8.0_211\" (using java 8 to run gradle buildscript) would work even though poet now depends on java 11\nEnables doclint and adds the 3 JDK command line taglets.\n\nFixed places in mappings where it does not comply with the doclint standards.\n\n\n\nNon Goals\n\nDoes not set up the buildscript for FabricMC/Enigma#321.\n\nThe commands need to be moved over from direct method calls to javaexec tasks individually.", "createdAt": "2020-12-23T21:19:49Z", "url": "https://github.com/FabricMC/yarn/pull/1934", "merged": true, "mergeCommit": {"oid": "256df6a630bde9a2687542d0893e4f77d25b3cc4"}, "closed": true, "closedAt": "2021-01-21T18:44:56Z", "author": {"login": "liach"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdpHSQCABqjQxNDU3MzQ1MTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdyQbcFAFqTU3MzA5MjY2MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ca4f31c1c331c10c8fc8933c7b80ca2b4bfea0b1", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/ca4f31c1c331c10c8fc8933c7b80ca2b4bfea0b1", "committedDate": "2020-12-23T21:14:22Z", "message": "Switch to mappingpoet 0.2.0\n\nNow includes obf name in javadoc. Though it takes longer to generate\n\nSigned-off-by: liach <liach@users.noreply.github.com>"}, "afterCommit": {"oid": "dabda29a22fc3f05b3c03ca7d6761678584e97d9", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/dabda29a22fc3f05b3c03ca7d6761678584e97d9", "committedDate": "2020-12-23T22:57:14Z", "message": "Switch to mappingpoet 0.2.0\n\nNow includes obf name in javadoc. Though it takes longer to generate\n\nSigned-off-by: liach <liach@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4MzA2NjQ3", "url": "https://github.com/FabricMC/yarn/pull/1934#pullrequestreview-558306647", "createdAt": "2020-12-24T02:26:10Z", "commit": {"oid": "dabda29a22fc3f05b3c03ca7d6761678584e97d9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwMjoyNjoxMFrOIK82Fg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwMjoyNjoxMFrOIK82Fg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODM1MzU1OA==", "bodyText": "I think this is good for now, we can look at enforcing java 11 in a while, possibly along with engima.", "url": "https://github.com/FabricMC/yarn/pull/1934#discussion_r548353558", "createdAt": "2020-12-24T02:26:10Z", "author": {"login": "modmuss50"}, "path": "build.gradle", "diffHunk": "@@ -23,6 +22,30 @@ plugins {\n \tid 'java' // for jd gen\n }\n \n+def toolchainLanguageVersion = JavaLanguageVersion.of(11)\n+\n+if (!JavaVersion.current().isCompatibleWith(JavaVersion.toVersion(toolchainLanguageVersion))) {\n+\tlogger.warn \":The current Java Version ${JavaVersion.current()} is too old.\"\n+\tlogger.warn \":Gradle may download newer Java online and the build may be slower.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dabda29a22fc3f05b3c03ca7d6761678584e97d9"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4MzA2ODUy", "url": "https://github.com/FabricMC/yarn/pull/1934#pullrequestreview-558306852", "createdAt": "2020-12-24T02:27:04Z", "commit": {"oid": "dabda29a22fc3f05b3c03ca7d6761678584e97d9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4MzA3MTYx", "url": "https://github.com/FabricMC/yarn/pull/1934#pullrequestreview-558307161", "createdAt": "2020-12-24T02:28:28Z", "commit": {"oid": "dabda29a22fc3f05b3c03ca7d6761678584e97d9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwMjoyODoyOFrOIK84Bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQwMjoyODoyOFrOIK84Bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODM1NDA1NQ==", "bodyText": "This does use java 11 when using 15 for example, might be worth moving this to only apply when running on java versions bellow 11 (same time as the warning).", "url": "https://github.com/FabricMC/yarn/pull/1934#discussion_r548354055", "createdAt": "2020-12-24T02:28:28Z", "author": {"login": "modmuss50"}, "path": "build.gradle", "diffHunk": "@@ -23,6 +22,30 @@ plugins {\n \tid 'java' // for jd gen\n }\n \n+def toolchainLanguageVersion = JavaLanguageVersion.of(11)\n+\n+if (!JavaVersion.current().isCompatibleWith(JavaVersion.toVersion(toolchainLanguageVersion))) {\n+\tlogger.warn \":The current Java Version ${JavaVersion.current()} is too old.\"\n+\tlogger.warn \":Gradle may download newer Java online and the build may be slower.\"\n+}\n+\n+java.toolchain { // defined in JavaPluginExtension\n+\tlanguageVersion = toolchainLanguageVersion\n+}\n+\n+// currently gradle does not yet propagate that version above, so\n+tasks.withType(JavaExec) {\n+\tjavaLauncher = javaToolchains.launcherFor {\n+\t\tlanguageVersion = toolchainLanguageVersion\n+\t}\n+}\n+\n+tasks.withType(Javadoc) {\n+\tjavadocTool = javaToolchains.javadocToolFor {\n+\t\tlanguageVersion = toolchainLanguageVersion\n+\t}\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dabda29a22fc3f05b3c03ca7d6761678584e97d9"}, "originalPosition": 34}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dabda29a22fc3f05b3c03ca7d6761678584e97d9", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/dabda29a22fc3f05b3c03ca7d6761678584e97d9", "committedDate": "2020-12-23T22:57:14Z", "message": "Switch to mappingpoet 0.2.0\n\nNow includes obf name in javadoc. Though it takes longer to generate\n\nSigned-off-by: liach <liach@users.noreply.github.com>"}, "afterCommit": {"oid": "545a4a15d0e0c7789d46ad7a98fcb2fa3949028d", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/545a4a15d0e0c7789d46ad7a98fcb2fa3949028d", "committedDate": "2020-12-24T05:19:20Z", "message": "Switch to mappingpoet 0.2.0\n\nNow includes obf name in javadoc. Though it takes longer to generate\n\nSigned-off-by: liach <liach@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4NTA1Njcz", "url": "https://github.com/FabricMC/yarn/pull/1934#pullrequestreview-558505673", "createdAt": "2020-12-24T13:29:28Z", "commit": {"oid": "545a4a15d0e0c7789d46ad7a98fcb2fa3949028d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4NjUxNzQ3", "url": "https://github.com/FabricMC/yarn/pull/1934#pullrequestreview-558651747", "createdAt": "2020-12-24T15:20:57Z", "commit": {"oid": "545a4a15d0e0c7789d46ad7a98fcb2fa3949028d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a242a29e7434fd0e12042d37950f52469f3c3545", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/a242a29e7434fd0e12042d37950f52469f3c3545", "committedDate": "2020-12-24T23:52:16Z", "message": "Update and require java 15\n\nSigned-off-by: liach <liach@users.noreply.github.com>"}, "afterCommit": {"oid": "688f6fb58626d51750ca6d5cc60bfc4ec0bb3072", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/688f6fb58626d51750ca6d5cc60bfc4ec0bb3072", "committedDate": "2021-01-08T07:41:43Z", "message": "Move copy on click js to yarn\n\nSigned-off-by: liach <liach@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c68c290e3eb8d4ffa257f49cd4b611e89153727", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/4c68c290e3eb8d4ffa257f49cd4b611e89153727", "committedDate": "2021-01-20T20:06:57Z", "message": "Switch to mappingpoet 0.2.0\n\nNow includes obf name in javadoc. Though it takes longer to generate\n\nSigned-off-by: liach <liach@users.noreply.github.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8c508914508a20a7f5b5aa022cb0c05e23280e83", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/8c508914508a20a7f5b5aa022cb0c05e23280e83", "committedDate": "2021-01-10T03:55:29Z", "message": "Move js and header to poet and poll from the jar\nMake sure poet is only resolved lazily\n\nSigned-off-by: liach <liach@users.noreply.github.com>"}, "afterCommit": {"oid": "cd9b41fe8fd27bd5f0adb348f1ecd0e8eca99007", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/cd9b41fe8fd27bd5f0adb348f1ecd0e8eca99007", "committedDate": "2021-01-20T23:24:51Z", "message": "removed the global toolchain version requirement\n\nenable a few superstrict doclints (won't fail build) and we are now compliant!\n\nSigned-off-by: liach <liach@users.noreply.github.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cd9b41fe8fd27bd5f0adb348f1ecd0e8eca99007", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/cd9b41fe8fd27bd5f0adb348f1ecd0e8eca99007", "committedDate": "2021-01-20T23:24:51Z", "message": "removed the global toolchain version requirement\n\nenable a few superstrict doclints (won't fail build) and we are now compliant!\n\nSigned-off-by: liach <liach@users.noreply.github.com>"}, "afterCommit": {"oid": "e2412bf09cb07743eae39be929df2efe0f315496", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/e2412bf09cb07743eae39be929df2efe0f315496", "committedDate": "2021-01-20T23:26:00Z", "message": "removed the global toolchain version requirement\n\nenable a few superstrict doclints (won't fail build) and we are now compliant!\n\nSigned-off-by: liach <liach@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2412bf09cb07743eae39be929df2efe0f315496", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/e2412bf09cb07743eae39be929df2efe0f315496", "committedDate": "2021-01-20T23:26:00Z", "message": "removed the global toolchain version requirement\n\nenable a few superstrict doclints (won't fail build) and we are now compliant!\n\nSigned-off-by: liach <liach@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTczMDkyNjYx", "url": "https://github.com/FabricMC/yarn/pull/1934#pullrequestreview-573092661", "createdAt": "2021-01-21T08:41:54Z", "commit": {"oid": "e2412bf09cb07743eae39be929df2efe0f315496"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4113, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}