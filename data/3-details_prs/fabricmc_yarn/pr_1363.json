{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4OTU3OTAw", "number": 1363, "title": "onBlockRemoved -> onStateReplaced", "bodyText": "Currently WorldChunk.setBlockState():\n\nSets the state\nIf new state equals old state does nothing\nOtherwise it updates lighting, heightmaps and calls onBlockRemoved\nIf the block at said position equals block that is being set, then it calls onBlockAdded\n\nThat's ignoring BlockEntity refreshing code\nonBlockRemoved is being called on any state replacement, not only when the block is removed (replaced with air). Vanilla implementations explicitly check for removal\nOther suggested name is onStateRemoved, but that also implies that state is being replaced with air", "createdAt": "2020-05-16T11:56:52Z", "url": "https://github.com/FabricMC/yarn/pull/1363", "merged": true, "mergeCommit": {"oid": "9ae9f240a7087050da8c56ee1f0dba53d1650aff"}, "closed": true, "closedAt": "2020-05-19T00:44:25Z", "author": {"login": "falseresync"}, "timelineItems": {"totalCount": 22, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABch1UL6AH2gAyNDE4OTU3OTAwOmVhOTJhNWY1YTc3NmQ2YWM3MWFhMTNiM2YwYjJlNzNmMjZhNDBmNjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcipi2kgFqTQxNDAyNzAxNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ea92a5f5a776d6ac71aa13b3f0b2e73f26a40f65", "author": {"user": {"login": "falseresync", "name": "Mikhail Oleynikov"}}, "url": "https://github.com/FabricMC/yarn/commit/ea92a5f5a776d6ac71aa13b3f0b2e73f26a40f65", "committedDate": "2020-05-16T11:52:36Z", "message": "onBlockRemoved -> onStateReplaced"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMDcyMTU0", "url": "https://github.com/FabricMC/yarn/pull/1363#pullrequestreview-413072154", "createdAt": "2020-05-16T12:13:54Z", "commit": {"oid": "ea92a5f5a776d6ac71aa13b3f0b2e73f26a40f65"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMDczNDI4", "url": "https://github.com/FabricMC/yarn/pull/1363#pullrequestreview-413073428", "createdAt": "2020-05-16T12:35:21Z", "commit": {"oid": "ea92a5f5a776d6ac71aa13b3f0b2e73f26a40f65"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8d948a6eded4668b93d4451e107d9cb5c841bf78", "author": {"user": {"login": "falseresync", "name": "Mikhail Oleynikov"}}, "url": "https://github.com/FabricMC/yarn/commit/8d948a6eded4668b93d4451e107d9cb5c841bf78", "committedDate": "2020-05-16T13:26:47Z", "message": "onStateReplaced Javadoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMDkwMTQ2", "url": "https://github.com/FabricMC/yarn/pull/1363#pullrequestreview-413090146", "createdAt": "2020-05-16T16:34:10Z", "commit": {"oid": "8d948a6eded4668b93d4451e107d9cb5c841bf78"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMDkxNzIz", "url": "https://github.com/FabricMC/yarn/pull/1363#pullrequestreview-413091723", "createdAt": "2020-05-16T16:55:20Z", "commit": {"oid": "8d948a6eded4668b93d4451e107d9cb5c841bf78"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMDk3MzQ5", "url": "https://github.com/FabricMC/yarn/pull/1363#pullrequestreview-413097349", "createdAt": "2020-05-16T18:15:14Z", "commit": {"oid": "8d948a6eded4668b93d4451e107d9cb5c841bf78"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMDk3Njk4", "url": "https://github.com/FabricMC/yarn/pull/1363#pullrequestreview-413097698", "createdAt": "2020-05-16T18:20:10Z", "commit": {"oid": "8d948a6eded4668b93d4451e107d9cb5c841bf78"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMTAwNjY2", "url": "https://github.com/FabricMC/yarn/pull/1363#pullrequestreview-413100666", "createdAt": "2020-05-16T19:03:33Z", "commit": {"oid": "8d948a6eded4668b93d4451e107d9cb5c841bf78"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNlQxOTowMzozM1rOGWcDSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNlQxOTowMzozM1rOGWcDSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjE4MTQ0OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tCOMMENT Check if block is removed and perform cleaning operations here. Drop inventories here. Don't forget to call parent when you're done\n          \n          \n            \n            \t\tCOMMENT Check if block is removed and perform cleaning operations here. Drop inventories here. Don't forget to call super when you're done.", "url": "https://github.com/FabricMC/yarn/pull/1363#discussion_r426181448", "createdAt": "2020-05-16T19:03:33Z", "author": {"login": "Juuxel"}, "path": "mappings/net/minecraft/block/AbstractBlock.mapping", "diffHunk": "@@ -91,7 +91,8 @@ CLASS net/minecraft/class_4970 net/minecraft/block/AbstractBlock\n \tMETHOD method_9535 getRenderingSeed (Lnet/minecraft/class_2680;Lnet/minecraft/class_2338;)J\n \t\tARG 1 state\n \t\tARG 2 pos\n-\tMETHOD method_9536 onBlockRemoved (Lnet/minecraft/class_2680;Lnet/minecraft/class_1937;Lnet/minecraft/class_2338;Lnet/minecraft/class_2680;Z)V\n+\tMETHOD method_9536 onStateReplaced (Lnet/minecraft/class_2680;Lnet/minecraft/class_1937;Lnet/minecraft/class_2338;Lnet/minecraft/class_2680;Z)V\n+\t\tCOMMENT Check if block is removed and perform cleaning operations here. Drop inventories here. Don't forget to call parent when you're done", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d948a6eded4668b93d4451e107d9cb5c841bf78"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e27066528d9544927280c34a84b75e55d7686f60", "author": {"user": {"login": "falseresync", "name": "Mikhail Oleynikov"}}, "url": "https://github.com/FabricMC/yarn/commit/e27066528d9544927280c34a84b75e55d7686f60", "committedDate": "2020-05-16T19:16:03Z", "message": "parent -> super style change\n\nCo-authored-by: Juuxel <6596629+Juuxel@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMTAzMzQx", "url": "https://github.com/FabricMC/yarn/pull/1363#pullrequestreview-413103341", "createdAt": "2020-05-16T19:42:58Z", "commit": {"oid": "e27066528d9544927280c34a84b75e55d7686f60"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMTU4Njcz", "url": "https://github.com/FabricMC/yarn/pull/1363#pullrequestreview-413158673", "createdAt": "2020-05-17T12:41:03Z", "commit": {"oid": "e27066528d9544927280c34a84b75e55d7686f60"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMTU5MDQx", "url": "https://github.com/FabricMC/yarn/pull/1363#pullrequestreview-413159041", "createdAt": "2020-05-17T12:45:23Z", "commit": {"oid": "e27066528d9544927280c34a84b75e55d7686f60"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xN1QxMjo0NToyNFrOGWgr2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xN1QxMjo0NToyNFrOGWgr2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjI1NzM2OA==", "bodyText": "Could possibly improve this doc tbh, its not a turtorial.", "url": "https://github.com/FabricMC/yarn/pull/1363#discussion_r426257368", "createdAt": "2020-05-17T12:45:24Z", "author": {"login": "modmuss50"}, "path": "mappings/net/minecraft/block/AbstractBlock.mapping", "diffHunk": "@@ -91,7 +91,8 @@ CLASS net/minecraft/class_4970 net/minecraft/block/AbstractBlock\n \tMETHOD method_9535 getRenderingSeed (Lnet/minecraft/class_2680;Lnet/minecraft/class_2338;)J\n \t\tARG 1 state\n \t\tARG 2 pos\n-\tMETHOD method_9536 onBlockRemoved (Lnet/minecraft/class_2680;Lnet/minecraft/class_1937;Lnet/minecraft/class_2338;Lnet/minecraft/class_2680;Z)V\n+\tMETHOD method_9536 onStateReplaced (Lnet/minecraft/class_2680;Lnet/minecraft/class_1937;Lnet/minecraft/class_2338;Lnet/minecraft/class_2680;Z)V\n+\t\tCOMMENT Check if block is removed and perform cleaning operations here. Drop inventories here. Don't forget to call super when you're done.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e27066528d9544927280c34a84b75e55d7686f60"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "641f4118d8e1f47e1aa7740483905884b413d0cd", "author": {"user": {"login": "falseresync", "name": "Mikhail Oleynikov"}}, "url": "https://github.com/FabricMC/yarn/commit/641f4118d8e1f47e1aa7740483905884b413d0cd", "committedDate": "2020-05-17T15:47:12Z", "message": "Tweak onStateReplaced Javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bd4aac810f5d6fef3496bbe1d7789529e741d2b7", "author": {"user": {"login": "falseresync", "name": "Mikhail Oleynikov"}}, "url": "https://github.com/FabricMC/yarn/commit/bd4aac810f5d6fef3496bbe1d7789529e741d2b7", "committedDate": "2020-05-17T15:49:15Z", "message": "Fix remote"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzOTkyNDE2", "url": "https://github.com/FabricMC/yarn/pull/1363#pullrequestreview-413992416", "createdAt": "2020-05-18T22:59:18Z", "commit": {"oid": "bd4aac810f5d6fef3496bbe1d7789529e741d2b7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQyMjo1OToxOFrOGXKKbA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQyMjo1OToxOFrOGXKKbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjkzNjk0MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tCOMMENT Called in setBlockState() if newState is different from state. Vanilla blocks perform removal cleanups here.\n          \n          \n            \n            \t\tCOMMENT Called in {@link World#setBlockState()} if {@code newState} is different from {@code state}. Vanilla blocks perform removal cleanups here.", "url": "https://github.com/FabricMC/yarn/pull/1363#discussion_r426936940", "createdAt": "2020-05-18T22:59:18Z", "author": {"login": "liach"}, "path": "mappings/net/minecraft/block/AbstractBlock.mapping", "diffHunk": "@@ -91,7 +91,8 @@ CLASS net/minecraft/class_4970 net/minecraft/block/AbstractBlock\n \tMETHOD method_9535 getRenderingSeed (Lnet/minecraft/class_2680;Lnet/minecraft/class_2338;)J\n \t\tARG 1 state\n \t\tARG 2 pos\n-\tMETHOD method_9536 onBlockRemoved (Lnet/minecraft/class_2680;Lnet/minecraft/class_1937;Lnet/minecraft/class_2338;Lnet/minecraft/class_2680;Z)V\n+\tMETHOD method_9536 onStateReplaced (Lnet/minecraft/class_2680;Lnet/minecraft/class_1937;Lnet/minecraft/class_2338;Lnet/minecraft/class_2680;Z)V\n+\t\tCOMMENT Called in setBlockState() if newState is different from state. Vanilla blocks perform removal cleanups here.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bd4aac810f5d6fef3496bbe1d7789529e741d2b7"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e44c193c1e239ff49855c711b129a3f8b084aa4", "author": {"user": {"login": "falseresync", "name": "Mikhail Oleynikov"}}, "url": "https://github.com/FabricMC/yarn/commit/1e44c193c1e239ff49855c711b129a3f8b084aa4", "committedDate": "2020-05-18T23:01:24Z", "message": "Update mappings/net/minecraft/block/AbstractBlock.mapping\n\nCo-authored-by: liach <7806504+liach@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzOTkzODYw", "url": "https://github.com/FabricMC/yarn/pull/1363#pullrequestreview-413993860", "createdAt": "2020-05-18T23:02:46Z", "commit": {"oid": "1e44c193c1e239ff49855c711b129a3f8b084aa4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzOTk4MTY5", "url": "https://github.com/FabricMC/yarn/pull/1363#pullrequestreview-413998169", "createdAt": "2020-05-18T23:14:17Z", "commit": {"oid": "1e44c193c1e239ff49855c711b129a3f8b084aa4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQyMzoxNDoxN1rOGXKdYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQyMzoxNDoxN1rOGXKdYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk0MTc5NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tCOMMENT Called in {@link World#setBlockState()} if {@code newState} is different from {@code state}. Vanilla blocks perform removal cleanups here.\n          \n          \n            \n            \t\tCOMMENT Called in {@link net.minecraft.world.chunk.WorldChunk#setBlockState(BlockPos, BlockState, boolean)} if {@code newState} is different from {@code state}. Vanilla blocks perform removal cleanups here.\n          \n      \n    \n    \n  \n\nSorry, my bad! https://travis-ci.com/github/FabricMC/yarn/jobs/336377975#L365\nThose classes should've been imported in block class' method descriptors, so guess don't need fully qualified names", "url": "https://github.com/FabricMC/yarn/pull/1363#discussion_r426941795", "createdAt": "2020-05-18T23:14:17Z", "author": {"login": "liach"}, "path": "mappings/net/minecraft/block/AbstractBlock.mapping", "diffHunk": "@@ -91,7 +91,8 @@ CLASS net/minecraft/class_4970 net/minecraft/block/AbstractBlock\n \tMETHOD method_9535 getRenderingSeed (Lnet/minecraft/class_2680;Lnet/minecraft/class_2338;)J\n \t\tARG 1 state\n \t\tARG 2 pos\n-\tMETHOD method_9536 onBlockRemoved (Lnet/minecraft/class_2680;Lnet/minecraft/class_1937;Lnet/minecraft/class_2338;Lnet/minecraft/class_2680;Z)V\n+\tMETHOD method_9536 onStateReplaced (Lnet/minecraft/class_2680;Lnet/minecraft/class_1937;Lnet/minecraft/class_2338;Lnet/minecraft/class_2680;Z)V\n+\t\tCOMMENT Called in {@link World#setBlockState()} if {@code newState} is different from {@code state}. Vanilla blocks perform removal cleanups here.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e44c193c1e239ff49855c711b129a3f8b084aa4"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b8888ea3708656204290014dfc966e770db59877", "author": {"user": {"login": "falseresync", "name": "Mikhail Oleynikov"}}, "url": "https://github.com/FabricMC/yarn/commit/b8888ea3708656204290014dfc966e770db59877", "committedDate": "2020-05-18T23:22:25Z", "message": "Update mappings/net/minecraft/block/AbstractBlock.mapping\n\nCo-authored-by: liach <7806504+liach@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0MDAzMTI3", "url": "https://github.com/FabricMC/yarn/pull/1363#pullrequestreview-414003127", "createdAt": "2020-05-18T23:28:05Z", "commit": {"oid": "b8888ea3708656204290014dfc966e770db59877"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0MDI3MDE0", "url": "https://github.com/FabricMC/yarn/pull/1363#pullrequestreview-414027014", "createdAt": "2020-05-19T00:43:41Z", "commit": {"oid": "b8888ea3708656204290014dfc966e770db59877"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4008, "cost": 1, "resetAt": "2021-10-28T18:54:27Z"}}}