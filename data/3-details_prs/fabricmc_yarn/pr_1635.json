{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4OTY2NTk3", "number": 1635, "title": "Text-related refactors & new text things", "bodyText": "may be very controversial\n\nChange StringRenderable to StringVisitable (it is no longer used for rendering, currently an intermediary until being turned to \"OrderedText\")\nOrderedText (I don't know about this but I can't think of a better one tbh, I'll throw in some more: CharacterVisitable, OrderedString, OrderedTextProvider)\nReorderingUtils\nTextReorderingProcessor\n\nSigned-off-by: shedaniel daniel@shedaniel.me", "createdAt": "2020-07-30T08:25:49Z", "url": "https://github.com/FabricMC/yarn/pull/1635", "merged": true, "mergeCommit": {"oid": "96ce5a1fcd5780dd7b27beefaecb469f41c00b10"}, "closed": true, "closedAt": "2020-08-02T08:34:46Z", "author": {"login": "shedaniel"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc57R4rAH2gAyNDU4OTY2NTk3OjA0N2VkYmYyNDMwMTMxNDBmMTIxOTI5MjQ4ZTNjMTQ1NWU5NmExOGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc6mGUXgFqTQ1OTU2ODg1OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "047edbf243013140f121929248e3c1455e96a18e", "author": {"user": {"login": "shedaniel", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/047edbf243013140f121929248e3c1455e96a18e", "committedDate": "2020-07-30T08:23:42Z", "message": "may be very controversial\n- Change StringRenderable to StringVisitable\n- OrderedText (I don't know about this but I can't think of a better one tbh, I'll throw in some more: CharacterVisitable, OrderedString, OrderedTextProvider)\n- ReorderingUtils\n- TextReorderingProcessor\n\nSigned-off-by: shedaniel <daniel@shedaniel.me>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4MzExMDU5", "url": "https://github.com/FabricMC/yarn/pull/1635#pullrequestreview-458311059", "createdAt": "2020-07-30T11:23:50Z", "commit": {"oid": "047edbf243013140f121929248e3c1455e96a18e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMToyMzo1MVrOG5e8rA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMTozMDowN1rOG5fIdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjkyOTA2OA==", "bodyText": "Maybe this should be ReorderingUtil? See #1108", "url": "https://github.com/FabricMC/yarn/pull/1635#discussion_r462929068", "createdAt": "2020-07-30T11:23:51Z", "author": {"login": "Juuxel"}, "path": "mappings/net/minecraft/client/resource/language/ReorderingUtils.mapping", "diffHunk": "@@ -0,0 +1,6 @@\n+CLASS net/minecraft/class_5491 net/minecraft/client/resource/language/ReorderingUtils", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "047edbf243013140f121929248e3c1455e96a18e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjkzMDI3MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tMETHOD method_30937 getOrderedText ()Lnet/minecraft/class_5481;\n          \n          \n            \n            \tMETHOD method_30937 asOrderedText ()Lnet/minecraft/class_5481;\n          \n      \n    \n    \n  \n\nto match asString, asTruncatedString and similar conversion methods in other classes", "url": "https://github.com/FabricMC/yarn/pull/1635#discussion_r462930271", "createdAt": "2020-07-30T11:26:25Z", "author": {"login": "Juuxel"}, "path": "mappings/net/minecraft/text/Text.mapping", "diffHunk": "@@ -42,6 +42,7 @@ CLASS net/minecraft/class_2561 net/minecraft/text/Text\n \t\tCOMMENT <p>A shallow copy is made for the siblings.</p>\n \tMETHOD method_27662 copy ()Lnet/minecraft/class_5250;\n \t\tCOMMENT Copies the text itself, excluding the styles or siblings.\n+\tMETHOD method_30937 getOrderedText ()Lnet/minecraft/class_5481;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "047edbf243013140f121929248e3c1455e96a18e"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjkzMDUzOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tARG 0 renderable\n          \n          \n            \n            \t\tARG 0 visitable\n          \n      \n    \n    \n  \n\nTo match StringVisitable. (This could possibly also be just text?)", "url": "https://github.com/FabricMC/yarn/pull/1635#discussion_r462930539", "createdAt": "2020-07-30T11:26:55Z", "author": {"login": "Juuxel"}, "path": "mappings/net/minecraft/client/resource/language/ReorderingUtils.mapping", "diffHunk": "@@ -0,0 +1,6 @@\n+CLASS net/minecraft/class_5491 net/minecraft/client/resource/language/ReorderingUtils\n+\tMETHOD method_30921 shapeArabic (Ljava/lang/String;)Ljava/lang/String;\n+\t\tARG 0 string\n+\tMETHOD method_30922 reorder (Lnet/minecraft/class_5348;Z)Lnet/minecraft/class_5481;\n+\t\tARG 0 renderable", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "047edbf243013140f121929248e3c1455e96a18e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjkzMTU4Nw==", "bodyText": "The mapper parameters are a bit unclear on the non-map methods. Maybe codePointMapper would be better since it maps code points?", "url": "https://github.com/FabricMC/yarn/pull/1635#discussion_r462931587", "createdAt": "2020-07-30T11:29:05Z", "author": {"login": "Juuxel"}, "path": "mappings/net/minecraft/text/OrderedText.mapping", "diffHunk": "@@ -0,0 +1,32 @@\n+CLASS net/minecraft/class_5481 net/minecraft/text/OrderedText", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "047edbf243013140f121929248e3c1455e96a18e"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjkzMTY1NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tARG 2 visiter\n          \n          \n            \n            \t\tARG 2 visitor", "url": "https://github.com/FabricMC/yarn/pull/1635#discussion_r462931655", "createdAt": "2020-07-30T11:29:13Z", "author": {"login": "Juuxel"}, "path": "mappings/net/minecraft/text/OrderedText.mapping", "diffHunk": "@@ -0,0 +1,32 @@\n+CLASS net/minecraft/class_5481 net/minecraft/text/OrderedText\n+\tFIELD field_26385 EMPTY Lnet/minecraft/class_5481;\n+\tMETHOD accept (Lnet/minecraft/class_5224;)Z\n+\t\tARG 1 visitor\n+\tMETHOD method_30741 styled (ILnet/minecraft/class_2583;)Lnet/minecraft/class_5481;\n+\t\tARG 0 codePoint\n+\t\tARG 1 style\n+\tMETHOD method_30742 concat (Lnet/minecraft/class_5481;Lnet/minecraft/class_5481;)Lnet/minecraft/class_5481;\n+\t\tARG 0 first\n+\t\tARG 1 second\n+\tMETHOD method_30745 map (Lnet/minecraft/class_5224;Lit/unimi/dsi/fastutil/ints/Int2IntFunction;)Lnet/minecraft/class_5224;\n+\t\tARG 0 visitor\n+\t\tARG 1 mapper\n+\tMETHOD method_30746 (Lnet/minecraft/class_5224;Lit/unimi/dsi/fastutil/ints/Int2IntFunction;ILnet/minecraft/class_2583;I)Z\n+\t\tARG 2 charIndex\n+\t\tARG 3 style\n+\t\tARG 4 charPoint\n+\tMETHOD method_30747 styledString (Ljava/lang/String;Lnet/minecraft/class_2583;)Lnet/minecraft/class_5481;\n+\t\tARG 0 string\n+\t\tARG 1 style\n+\tMETHOD method_30748 (Ljava/lang/String;Lnet/minecraft/class_2583;Lit/unimi/dsi/fastutil/ints/Int2IntFunction;Lnet/minecraft/class_5224;)Z\n+\t\tARG 3 visitor\n+\tMETHOD method_30749 concat (Ljava/util/List;)Lnet/minecraft/class_5481;\n+\t\tARG 0 visitables\n+\tMETHOD method_30751 (Lnet/minecraft/class_2583;ILnet/minecraft/class_5224;)Z\n+\t\tARG 2 visitor\n+\tMETHOD method_30753 (Ljava/lang/String;Lnet/minecraft/class_2583;Lnet/minecraft/class_5224;)Z\n+\t\tARG 2 visiter", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "047edbf243013140f121929248e3c1455e96a18e"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjkzMjA4NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tARG 1 renderables\n          \n          \n            \n            \tMETHOD method_30934 reorder (Lnet/minecraft/class_5348;)Lnet/minecraft/class_5481;\n          \n          \n            \n            \t\tARG 1 renderable\n          \n          \n            \n            \t\tARG 1 visitables\n          \n          \n            \n            \tMETHOD method_30934 reorder (Lnet/minecraft/class_5348;)Lnet/minecraft/class_5481;\n          \n          \n            \n            \t\tARG 1 visitable", "url": "https://github.com/FabricMC/yarn/pull/1635#discussion_r462932084", "createdAt": "2020-07-30T11:30:07Z", "author": {"login": "Juuxel"}, "path": "mappings/net/minecraft/util/Language.mapping", "diffHunk": "@@ -11,6 +11,10 @@ CLASS net/minecraft/class_2477 net/minecraft/util/Language\n \t\tARG 0 language\n \tMETHOD method_29428 isRightToLeft ()Z\n \tMETHOD method_29429 create ()Lnet/minecraft/class_2477;\n+\tMETHOD method_30933 reorder (Ljava/util/List;)Ljava/util/List;\n+\t\tARG 1 renderables\n+\tMETHOD method_30934 reorder (Lnet/minecraft/class_5348;)Lnet/minecraft/class_5481;\n+\t\tARG 1 renderable", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "047edbf243013140f121929248e3c1455e96a18e"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38870ec471e80bc47cc3298562600c38e571e393", "author": {"user": {"login": "shedaniel", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/38870ec471e80bc47cc3298562600c38e571e393", "committedDate": "2020-07-30T15:50:01Z", "message": "improvements\n\nSigned-off-by: shedaniel <daniel@shedaniel.me>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3079da92e258a60b5ed132f33a147ca32b8c9da4", "author": {"user": {"login": "shedaniel", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/3079da92e258a60b5ed132f33a147ca32b8c9da4", "committedDate": "2020-07-30T16:14:20Z", "message": "improvements\n\nSigned-off-by: shedaniel <daniel@shedaniel.me>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4NzI2Nzky", "url": "https://github.com/FabricMC/yarn/pull/1635#pullrequestreview-458726792", "createdAt": "2020-07-30T20:19:54Z", "commit": {"oid": "38870ec471e80bc47cc3298562600c38e571e393"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQyMDoxOTo1NVrOG5yalQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQyMDoxOTo1NVrOG5yalQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzI0ODAyMQ==", "bodyText": "Is this a static method? concat should be enough. If this is not static this should be like append", "url": "https://github.com/FabricMC/yarn/pull/1635#discussion_r463248021", "createdAt": "2020-07-30T20:19:55Z", "author": {"login": "liach"}, "path": "mappings/net/minecraft/text/OrderedText.mapping", "diffHunk": "@@ -21,12 +23,19 @@ CLASS net/minecraft/class_5481 net/minecraft/text/OrderedText\n \tMETHOD method_30748 (Ljava/lang/String;Lnet/minecraft/class_2583;Lit/unimi/dsi/fastutil/ints/Int2IntFunction;Lnet/minecraft/class_5224;)Z\n \t\tARG 3 visitor\n \tMETHOD method_30749 concat (Ljava/util/List;)Lnet/minecraft/class_5481;\n-\t\tARG 0 visitables\n+\t\tARG 0 texts\n+\tMETHOD method_30750 (Ljava/util/List;Lnet/minecraft/class_5224;)Z\n+\t\tARG 1 visitor\n \tMETHOD method_30751 (Lnet/minecraft/class_2583;ILnet/minecraft/class_5224;)Z\n \t\tARG 2 visitor\n+\tMETHOD method_30752 concatTwo (Lnet/minecraft/class_5481;Lnet/minecraft/class_5481;)Lnet/minecraft/class_5481;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "38870ec471e80bc47cc3298562600c38e571e393"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a97b84e02e65b19e43bf908ea02662ef27b5417e", "author": {"user": {"login": "shedaniel", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/a97b84e02e65b19e43bf908ea02662ef27b5417e", "committedDate": "2020-07-31T07:17:13Z", "message": "innerConcat\n\nSigned-off-by: shedaniel <daniel@shedaniel.me>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5Mjg0Mjk2", "url": "https://github.com/FabricMC/yarn/pull/1635#pullrequestreview-459284296", "createdAt": "2020-07-31T15:56:54Z", "commit": {"oid": "a97b84e02e65b19e43bf908ea02662ef27b5417e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5MzUyMzA3", "url": "https://github.com/FabricMC/yarn/pull/1635#pullrequestreview-459352307", "createdAt": "2020-07-31T17:47:25Z", "commit": {"oid": "a97b84e02e65b19e43bf908ea02662ef27b5417e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NDIzNTQz", "url": "https://github.com/FabricMC/yarn/pull/1635#pullrequestreview-459423543", "createdAt": "2020-07-31T19:46:41Z", "commit": {"oid": "a97b84e02e65b19e43bf908ea02662ef27b5417e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32e694537e2df636e0b2eb26967d8063f81dcc24", "author": {"user": {"login": "shedaniel", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/32e694537e2df636e0b2eb26967d8063f81dcc24", "committedDate": "2020-08-01T07:53:44Z", "message": "Merge remote-tracking branch 'upstream/1.16.2-pre1' into 1.16.2-pre1\n\n# Conflicts:\n#\tmappings/net/minecraft/text/Text.mapping"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NTY4ODU4", "url": "https://github.com/FabricMC/yarn/pull/1635#pullrequestreview-459568858", "createdAt": "2020-08-01T10:16:59Z", "commit": {"oid": "32e694537e2df636e0b2eb26967d8063f81dcc24"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4376, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}