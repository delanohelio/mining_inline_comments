{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2NTczMzE4", "number": 1566, "title": "TypeConsumer is actually a visitor", "bodyText": "Per discussion with Player about the game rule api, he noticed that the TypeConsumer is actually a visitor. So here is a PR.\nAnd map that one bootstrap method that uses the visitor", "createdAt": "2020-07-09T02:05:47Z", "url": "https://github.com/FabricMC/yarn/pull/1566", "merged": true, "mergeCommit": {"oid": "283dee7b3335e625e8e239f07ff682f228747233"}, "closed": true, "closedAt": "2020-07-10T11:59:26Z", "author": {"login": "i509VCB"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczFRPzgH2gAyNDQ2NTczMzE4OmY0NjU3ODlkNjg1YTNmZDAxODZmZmY4NzM2NzIwYjRmNzE3MTYyZTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcziYFfAFqTQ0NjM0MzYyOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f465789d685a3fd0186fff8736720b4f717162e2", "author": {"user": {"login": "i509VCB", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/f465789d685a3fd0186fff8736720b4f717162e2", "committedDate": "2020-07-09T02:04:35Z", "message": "TypeConsumer is actually a visitor\n\nAnd map that one bootstrap method that uses the visitor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MjQzNzUy", "url": "https://github.com/FabricMC/yarn/pull/1566#pullrequestreview-445243752", "createdAt": "2020-07-09T02:11:29Z", "commit": {"oid": "f465789d685a3fd0186fff8736720b4f717162e2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MjQ5OTU4", "url": "https://github.com/FabricMC/yarn/pull/1566#pullrequestreview-445249958", "createdAt": "2020-07-09T02:32:50Z", "commit": {"oid": "f465789d685a3fd0186fff8736720b4f717162e2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQwMjozMjo1MFrOGu_lVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQwMjozNjoyMFrOGu_o1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTkyOTQyOA==", "bodyText": "I would name this accept or acceptAll, elements typically use accept(visitor) to call visitor.visitXY(element).", "url": "https://github.com/FabricMC/yarn/pull/1566#discussion_r451929428", "createdAt": "2020-07-09T02:32:50Z", "author": {"login": "sfPlayer1"}, "path": "mappings/net/minecraft/world/GameRules.mapping", "diffHunk": "@@ -38,8 +38,9 @@ CLASS net/minecraft/class_1928 net/minecraft/world/GameRules\n \tFIELD field_9197 RULE_TYPES Ljava/util/Map;\n \tMETHOD <init> (Ljava/util/Map;)V\n \t\tARG 1 rules\n-\tMETHOD method_20744 forEachType (Lnet/minecraft/class_1928$class_4311;)V\n-\t\tARG 0 action\n+\tMETHOD method_20744 visit (Lnet/minecraft/class_1928$class_4311;)V", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f465789d685a3fd0186fff8736720b4f717162e2"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTkzMDMyNw==", "bodyText": "This needs to be passive form, the visitor is visiting, not GameRules. Something like Make the visitor visit all game rules.\\n\\n<p>The visitation involves calling both visitor.accept() and visitor.acceptX() for every game rule, where X is the current rule's concrete type such as Boolean.", "url": "https://github.com/FabricMC/yarn/pull/1566#discussion_r451930327", "createdAt": "2020-07-09T02:36:20Z", "author": {"login": "sfPlayer1"}, "path": "mappings/net/minecraft/world/GameRules.mapping", "diffHunk": "@@ -38,8 +38,9 @@ CLASS net/minecraft/class_1928 net/minecraft/world/GameRules\n \tFIELD field_9197 RULE_TYPES Ljava/util/Map;\n \tMETHOD <init> (Ljava/util/Map;)V\n \t\tARG 1 rules\n-\tMETHOD method_20744 forEachType (Lnet/minecraft/class_1928$class_4311;)V\n-\t\tARG 0 action\n+\tMETHOD method_20744 visit (Lnet/minecraft/class_1928$class_4311;)V\n+\t\tCOMMENT Visits all registered game rules using the supplied visitor.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f465789d685a3fd0186fff8736720b4f717162e2"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa8800cc3b139e4773940b43f4255fb19a29b509", "author": {"user": {"login": "i509VCB", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/fa8800cc3b139e4773940b43f4255fb19a29b509", "committedDate": "2020-07-09T02:46:21Z", "message": "Use a more passive form, use accept and use \"visit\" name in the right spots.\n\nAnd fix it to be standard with naming."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fdee0f27b9b96a4106838b050d1e79e665b1a7c7", "author": {"user": {"login": "i509VCB", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/fdee0f27b9b96a4106838b050d1e79e665b1a7c7", "committedDate": "2020-07-09T04:03:05Z", "message": "Indentation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MjgxNDY4", "url": "https://github.com/FabricMC/yarn/pull/1566#pullrequestreview-445281468", "createdAt": "2020-07-09T04:28:48Z", "commit": {"oid": "fdee0f27b9b96a4106838b050d1e79e665b1a7c7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1Mjk0MzQ1", "url": "https://github.com/FabricMC/yarn/pull/1566#pullrequestreview-445294345", "createdAt": "2020-07-09T05:14:49Z", "commit": {"oid": "fdee0f27b9b96a4106838b050d1e79e665b1a7c7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1NDYwOTkx", "url": "https://github.com/FabricMC/yarn/pull/1566#pullrequestreview-445460991", "createdAt": "2020-07-09T09:50:17Z", "commit": {"oid": "fdee0f27b9b96a4106838b050d1e79e665b1a7c7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2MDE4MTA1", "url": "https://github.com/FabricMC/yarn/pull/1566#pullrequestreview-446018105", "createdAt": "2020-07-09T22:47:11Z", "commit": {"oid": "fdee0f27b9b96a4106838b050d1e79e665b1a7c7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQyMjo0NzoxMVrOGvkR3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQyMjo0NzoxMVrOGvkR3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjUzMDY1NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\tCOMMENT <p>Note {@link #accept(GameRules.Key, GameRules.Type)} will be called before this method is visited.\n          \n          \n            \n            \t\t\tCOMMENT <p>Note {@link #accept(GameRules.Key, GameRules.Type)} will be called before this method.", "url": "https://github.com/FabricMC/yarn/pull/1566#discussion_r452530655", "createdAt": "2020-07-09T22:47:11Z", "author": {"login": "shartte"}, "path": "mappings/net/minecraft/world/GameRules.mapping", "diffHunk": "@@ -104,14 +107,24 @@ CLASS net/minecraft/class_1928 net/minecraft/world/GameRules\n \t\tMETHOD method_20760 create (ZLjava/util/function/BiConsumer;)Lnet/minecraft/class_1928$class_4314;\n \t\t\tARG 0 initialValue\n \t\t\tARG 1 changeCallback\n-\tCLASS class_4311 TypeConsumer\n-\t\tMETHOD method_20762 accept (Lnet/minecraft/class_1928$class_4313;Lnet/minecraft/class_1928$class_4314;)V\n+\tCLASS class_4311 Visitor\n+\t\tCOMMENT A visitor used to visit all game rules.\n+\t\tMETHOD method_20762 visit (Lnet/minecraft/class_1928$class_4313;Lnet/minecraft/class_1928$class_4314;)V\n+\t\t\tCOMMENT Visit a game rule.\n+\t\t\tCOMMENT\n+\t\t\tCOMMENT <p>It is expected all game rules regardless of type will be visited using this method.\n \t\t\tARG 1 key\n \t\t\tARG 2 type\n-\t\tMETHOD method_27329 acceptBoolean (Lnet/minecraft/class_1928$class_4313;Lnet/minecraft/class_1928$class_4314;)V\n+\t\tMETHOD method_27329 visitBoolean (Lnet/minecraft/class_1928$class_4313;Lnet/minecraft/class_1928$class_4314;)V\n+\t\t\tCOMMENT Visit a boolean rule.\n+\t\t\tCOMMENT\n+\t\t\tCOMMENT <p>Note {@link #accept(GameRules.Key, GameRules.Type)} will be called before this method is visited.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fdee0f27b9b96a4106838b050d1e79e665b1a7c7"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2MDE4MTc5", "url": "https://github.com/FabricMC/yarn/pull/1566#pullrequestreview-446018179", "createdAt": "2020-07-09T22:47:23Z", "commit": {"oid": "fdee0f27b9b96a4106838b050d1e79e665b1a7c7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQyMjo0NzoyM1rOGvkSKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQyMjo0NzoyM1rOGvkSKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjUzMDczMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\tCOMMENT <p>Note {@link #accept(GameRules.Key, GameRules.Type)} will be called before this method is visited.\n          \n          \n            \n            \t\t\tCOMMENT <p>Note {@link #accept(GameRules.Key, GameRules.Type)} will be called before this method.", "url": "https://github.com/FabricMC/yarn/pull/1566#discussion_r452530731", "createdAt": "2020-07-09T22:47:23Z", "author": {"login": "shartte"}, "path": "mappings/net/minecraft/world/GameRules.mapping", "diffHunk": "@@ -104,14 +107,24 @@ CLASS net/minecraft/class_1928 net/minecraft/world/GameRules\n \t\tMETHOD method_20760 create (ZLjava/util/function/BiConsumer;)Lnet/minecraft/class_1928$class_4314;\n \t\t\tARG 0 initialValue\n \t\t\tARG 1 changeCallback\n-\tCLASS class_4311 TypeConsumer\n-\t\tMETHOD method_20762 accept (Lnet/minecraft/class_1928$class_4313;Lnet/minecraft/class_1928$class_4314;)V\n+\tCLASS class_4311 Visitor\n+\t\tCOMMENT A visitor used to visit all game rules.\n+\t\tMETHOD method_20762 visit (Lnet/minecraft/class_1928$class_4313;Lnet/minecraft/class_1928$class_4314;)V\n+\t\t\tCOMMENT Visit a game rule.\n+\t\t\tCOMMENT\n+\t\t\tCOMMENT <p>It is expected all game rules regardless of type will be visited using this method.\n \t\t\tARG 1 key\n \t\t\tARG 2 type\n-\t\tMETHOD method_27329 acceptBoolean (Lnet/minecraft/class_1928$class_4313;Lnet/minecraft/class_1928$class_4314;)V\n+\t\tMETHOD method_27329 visitBoolean (Lnet/minecraft/class_1928$class_4313;Lnet/minecraft/class_1928$class_4314;)V\n+\t\t\tCOMMENT Visit a boolean rule.\n+\t\t\tCOMMENT\n+\t\t\tCOMMENT <p>Note {@link #accept(GameRules.Key, GameRules.Type)} will be called before this method is visited.\n \t\t\tARG 1 key\n \t\t\tARG 2 type\n-\t\tMETHOD method_27330 acceptInt (Lnet/minecraft/class_1928$class_4313;Lnet/minecraft/class_1928$class_4314;)V\n+\t\tMETHOD method_27330 visitInt (Lnet/minecraft/class_1928$class_4313;Lnet/minecraft/class_1928$class_4314;)V\n+\t\t\tCOMMENT Visit an integer rule.\n+\t\t\tCOMMENT\n+\t\t\tCOMMENT <p>Note {@link #accept(GameRules.Key, GameRules.Type)} will be called before this method is visited.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fdee0f27b9b96a4106838b050d1e79e665b1a7c7"}, "originalPosition": 39}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fae0cc4de832d9faf3bc6baeab747ed0ef299188", "author": {"user": {"login": "i509VCB", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/fae0cc4de832d9faf3bc6baeab747ed0ef299188", "committedDate": "2020-07-09T22:47:44Z", "message": "Update mappings/net/minecraft/world/GameRules.mapping\n\nCo-authored-by: shartte <shartte@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24a8550784df141c255bd2d3d39b050340b0f812", "author": {"user": {"login": "i509VCB", "name": null}}, "url": "https://github.com/FabricMC/yarn/commit/24a8550784df141c255bd2d3d39b050340b0f812", "committedDate": "2020-07-09T22:47:52Z", "message": "Update mappings/net/minecraft/world/GameRules.mapping\n\nCo-authored-by: shartte <shartte@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2MDE4NDAw", "url": "https://github.com/FabricMC/yarn/pull/1566#pullrequestreview-446018400", "createdAt": "2020-07-09T22:48:02Z", "commit": {"oid": "fdee0f27b9b96a4106838b050d1e79e665b1a7c7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2MzQzNjI5", "url": "https://github.com/FabricMC/yarn/pull/1566#pullrequestreview-446343629", "createdAt": "2020-07-10T11:59:18Z", "commit": {"oid": "24a8550784df141c255bd2d3d39b050340b0f812"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4677, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}