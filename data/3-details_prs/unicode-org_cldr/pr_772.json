{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAxMjg1MTUy", "number": 772, "title": "CLDR-13300 fix tests for cldr-staging", "bodyText": "Checklist\n\n Issue filed: https://unicode-org.atlassian.net/browse/CLDR-13300\n Updated PR title and link in previous line to include Issue number", "createdAt": "2020-10-12T04:19:51Z", "url": "https://github.com/unicode-org/cldr/pull/772", "merged": true, "mergeCommit": {"oid": "03dd48e88892d3aa4de1e7eca270df51a03c6166"}, "closed": true, "closedAt": "2020-10-12T04:54:20Z", "author": {"login": "macchiati"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdRsIdwgH2gAyNTAxMjg1MTUyOjVhYTllMzUwNGQ0NmVjNWM4NjczYjFmNjNjZTVmMzg4M2RkNzQ1YjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdR2V4HgFqTUwNjc1MjQzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5aa9e3504d46ec5c8673b1f63ce5f3883dd745b5", "author": {"user": {"login": "macchiati", "name": "Mark Davis"}}, "url": "https://github.com/unicode-org/cldr/commit/5aa9e3504d46ec5c8673b1f63ce5f3883dd745b5", "committedDate": "2020-10-12T04:19:01Z", "message": "CLDR-13300 fix tests for cldr-staging"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MjkwOTg5", "url": "https://github.com/unicode-org/cldr/pull/772#pullrequestreview-506290989", "createdAt": "2020-10-12T04:53:51Z", "commit": {"oid": "5aa9e3504d46ec5c8673b1f63ce5f3883dd745b5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2NzUyMDY3", "url": "https://github.com/unicode-org/cldr/pull/772#pullrequestreview-506752067", "createdAt": "2020-10-12T16:12:09Z", "commit": {"oid": "5aa9e3504d46ec5c8673b1f63ce5f3883dd745b5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxNjoxMjowOVrOHgE-Aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxNjoxMjowOVrOHgE-Aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzM5Nzg5MQ==", "bodyText": "I like your fix, I had to do similar in the 'move sandbox to mul' PR #757", "url": "https://github.com/unicode-org/cldr/pull/772#discussion_r503397891", "createdAt": "2020-10-12T16:12:09Z", "author": {"login": "srl295"}, "path": "tools/cldr-unittest/src/org/unicode/cldr/unittest/TestInheritance.java", "diffHunk": "@@ -247,18 +247,18 @@ public void TestLikelyAndDefaultConsistency() {\n         // find multiscript locales\n         Relation<String, String> base2scripts = Relation.of(\n             new TreeMap<String, Set<String>>(), TreeSet.class);\n-        Map<String, String> parent2default = new TreeMap<String, String>();\n-        Map<String, String> default2parent = new TreeMap<String, String>();\n+        Map<String, String> parent2default = new TreeMap<>();\n+        Map<String, String> default2parent = new TreeMap<>();\n         Relation<String, String> base2locales = Relation.of(\n             new TreeMap<String, Set<String>>(), TreeSet.class);\n \n-        Set<String> knownMultiScriptLanguages = new HashSet<String>(Arrays.asList(\"bm\", \"ha\"));\n+        Set<String> knownMultiScriptLanguages = new HashSet<>(Arrays.asList(\"bm\", \"ha\"));\n         // get multiscript locales\n         for (String localeID : availableLocales) {\n             String script = ltp.set(localeID).getScript();\n             final String base = ltp.getLanguage();\n-            if (!availableLocales.contains(base)) {\n-                errln(\"Missing base locale for: \" + localeID);\n+            if (!availableLocales.contains(base) && !base.equals(\"und\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5aa9e3504d46ec5c8673b1f63ce5f3883dd745b5"}, "originalPosition": 46}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2NzUyNDM4", "url": "https://github.com/unicode-org/cldr/pull/772#pullrequestreview-506752438", "createdAt": "2020-10-12T16:12:43Z", "commit": {"oid": "5aa9e3504d46ec5c8673b1f63ce5f3883dd745b5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxNjoxMjo0M1rOHgE_Ng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxNjoxMjo0M1rOHgE_Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzM5ODE5OA==", "bodyText": "in #757 I made sure to print out the base locale also, because that's actually the one that's missing (not localeID)", "url": "https://github.com/unicode-org/cldr/pull/772#discussion_r503398198", "createdAt": "2020-10-12T16:12:43Z", "author": {"login": "srl295"}, "path": "tools/cldr-unittest/src/org/unicode/cldr/unittest/TestInheritance.java", "diffHunk": "@@ -247,18 +247,18 @@ public void TestLikelyAndDefaultConsistency() {\n         // find multiscript locales\n         Relation<String, String> base2scripts = Relation.of(\n             new TreeMap<String, Set<String>>(), TreeSet.class);\n-        Map<String, String> parent2default = new TreeMap<String, String>();\n-        Map<String, String> default2parent = new TreeMap<String, String>();\n+        Map<String, String> parent2default = new TreeMap<>();\n+        Map<String, String> default2parent = new TreeMap<>();\n         Relation<String, String> base2locales = Relation.of(\n             new TreeMap<String, Set<String>>(), TreeSet.class);\n \n-        Set<String> knownMultiScriptLanguages = new HashSet<String>(Arrays.asList(\"bm\", \"ha\"));\n+        Set<String> knownMultiScriptLanguages = new HashSet<>(Arrays.asList(\"bm\", \"ha\"));\n         // get multiscript locales\n         for (String localeID : availableLocales) {\n             String script = ltp.set(localeID).getScript();\n             final String base = ltp.getLanguage();\n-            if (!availableLocales.contains(base)) {\n-                errln(\"Missing base locale for: \" + localeID);\n+            if (!availableLocales.contains(base) && !base.equals(\"und\")) {\n+                errln(\"Missing lang-subtag for: \" + localeID);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5aa9e3504d46ec5c8673b1f63ce5f3883dd745b5"}, "originalPosition": 47}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1883, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}