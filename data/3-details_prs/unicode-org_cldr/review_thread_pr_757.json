{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3MTQzNjQ4", "number": 757, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQyMToyOToyMFrOEp9C3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo0Nzo0MVrOEtE8xw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNDI3MjI5OnYy", "diffSide": "RIGHT", "path": "tools/cldr-apps/src/main/webapp/js/CldrSurveyVettingLoader.js", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQyMToyOToyMFrOHb8HMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQyMToyOToyMFrOHb8HMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA1ODQ4Mw==", "bodyText": "this is a fallback, for non-locale pages (such as the home screen)", "url": "https://github.com/unicode-org/cldr/pull/757#discussion_r499058483", "createdAt": "2020-10-02T21:29:20Z", "author": {"login": "srl295"}, "path": "tools/cldr-apps/src/main/webapp/js/CldrSurveyVettingLoader.js", "diffHunk": "@@ -1876,7 +1876,7 @@ function showV() {\n \n \t\t\t\t\tvar theLocale = surveyCurrentLocale;\n \t\t\t\t\tif (surveyCurrentLocale === null || surveyCurrentLocale == '') {\n-\t\t\t\t\t\ttheLocale = 'und';\n+\t\t\t\t\t\ttheLocale = 'root';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78041ab9d7959f5f77de8e1f32c60b59fc6b0f21"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNDI3Mzk3OnYy", "diffSide": "RIGHT", "path": "tools/cldr-apps/src/main/java/org/unicode/cldr/web/UserRegistry.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQyMTozMDowMFrOHb8IRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQyMTozMDowMFrOHb8IRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTA1ODc1Nw==", "bodyText": "we actually could have multiple sandbox locales\u2026\u00a0i.e. different scripts, etc\u2026\u00a0without needing to revisit this code.", "url": "https://github.com/unicode-org/cldr/pull/757#discussion_r499058757", "createdAt": "2020-10-02T21:30:00Z", "author": {"login": "srl295"}, "path": "tools/cldr-apps/src/main/java/org/unicode/cldr/web/UserRegistry.java", "diffHunk": "@@ -1793,8 +1794,8 @@ private static Object userCanAccessForumWhy(User u, CLDRLocale locale) {\n             return null; // Admin can modify all\n         if (userIsTC(u))\n             return null; // TC can modify all\n-        if (locale.getLanguage().equals(\"und\")) { // all user accounts can write\n-            // to und.\n+        if (SpecialLocales.getType(locale) == SpecialLocales.Type.scratch) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78041ab9d7959f5f77de8e1f32c60b59fc6b0f21"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NjcxMzU2OnYy", "diffSide": "RIGHT", "path": "common/supplemental/likelySubtags.xml", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxMzo0NjowMlrOHgnkvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QyMTo0MzowN1rOHg6j3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzk2NDg2Mw==", "bodyText": "Is it appropriate/intentional for this \"testing\" block to be added?", "url": "https://github.com/unicode-org/cldr/pull/757#discussion_r503964863", "createdAt": "2020-10-13T13:46:02Z", "author": {"login": "btangmu"}, "path": "common/supplemental/likelySubtags.xml", "diffHunk": "@@ -3730,5 +3730,8 @@ not be patched by hand, as any changes made in that fashion may be lost.\n \t\t<!--{ ?; Yi; ? } => { Sichuan Yi; Yi; China }-->\n \t\t<likelySubtag from=\"und_Zanb\" to=\"cmg_Zanb_MN\"/>\n \t\t<!--{ ?; Zanabazar Square; ? } => { Classical Mongolian; Zanabazar Square; Mongolia }-->\n+\n+\t\t<!-- testing -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a1a735c951f2ea0c575546cf116cfd9fe0e536f"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAxNzk4OQ==", "bodyText": "If so maybe the comment \"testing\" could be expanded a bit", "url": "https://github.com/unicode-org/cldr/pull/757#discussion_r504017989", "createdAt": "2020-10-13T14:52:13Z", "author": {"login": "btangmu"}, "path": "common/supplemental/likelySubtags.xml", "diffHunk": "@@ -3730,5 +3730,8 @@ not be patched by hand, as any changes made in that fashion may be lost.\n \t\t<!--{ ?; Yi; ? } => { Sichuan Yi; Yi; China }-->\n \t\t<likelySubtag from=\"und_Zanb\" to=\"cmg_Zanb_MN\"/>\n \t\t<!--{ ?; Zanabazar Square; ? } => { Classical Mongolian; Zanabazar Square; Mongolia }-->\n+\n+\t\t<!-- testing -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzk2NDg2Mw=="}, "originalCommit": {"oid": "3a1a735c951f2ea0c575546cf116cfd9fe0e536f"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDI3MzEzNw==", "bodyText": "Hm.  @macchiati I see the \"not to be patched by hand\". Is there a better solution for this file?", "url": "https://github.com/unicode-org/cldr/pull/757#discussion_r504273137", "createdAt": "2020-10-13T21:37:00Z", "author": {"login": "srl295"}, "path": "common/supplemental/likelySubtags.xml", "diffHunk": "@@ -3730,5 +3730,8 @@ not be patched by hand, as any changes made in that fashion may be lost.\n \t\t<!--{ ?; Yi; ? } => { Sichuan Yi; Yi; China }-->\n \t\t<likelySubtag from=\"und_Zanb\" to=\"cmg_Zanb_MN\"/>\n \t\t<!--{ ?; Zanabazar Square; ? } => { Classical Mongolian; Zanabazar Square; Mongolia }-->\n+\n+\t\t<!-- testing -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzk2NDg2Mw=="}, "originalCommit": {"oid": "3a1a735c951f2ea0c575546cf116cfd9fe0e536f"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDI3NDQ0NQ==", "bodyText": "This file is generated, so the tool needs to be modified for it. However, it would be best to avoid adding \"test only\" locales to this. Is there a way to avoid adding \"mul\" here?", "url": "https://github.com/unicode-org/cldr/pull/757#discussion_r504274445", "createdAt": "2020-10-13T21:39:53Z", "author": {"login": "macchiati"}, "path": "common/supplemental/likelySubtags.xml", "diffHunk": "@@ -3730,5 +3730,8 @@ not be patched by hand, as any changes made in that fashion may be lost.\n \t\t<!--{ ?; Yi; ? } => { Sichuan Yi; Yi; China }-->\n \t\t<likelySubtag from=\"und_Zanb\" to=\"cmg_Zanb_MN\"/>\n \t\t<!--{ ?; Zanabazar Square; ? } => { Classical Mongolian; Zanabazar Square; Mongolia }-->\n+\n+\t\t<!-- testing -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzk2NDg2Mw=="}, "originalCommit": {"oid": "3a1a735c951f2ea0c575546cf116cfd9fe0e536f"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDI3NTkzNQ==", "bodyText": "@macchiati Now that these locales don't exist when tests are run, we might be able to get away with just not mentioning them in likely subtag.  Is there any other machinery that would break  (in checks, etc) if likely subtags aren't present? Worst case I would add exclusions to any such tests.\nI'll try this.", "url": "https://github.com/unicode-org/cldr/pull/757#discussion_r504275935", "createdAt": "2020-10-13T21:43:07Z", "author": {"login": "srl295"}, "path": "common/supplemental/likelySubtags.xml", "diffHunk": "@@ -3730,5 +3730,8 @@ not be patched by hand, as any changes made in that fashion may be lost.\n \t\t<!--{ ?; Yi; ? } => { Sichuan Yi; Yi; China }-->\n \t\t<likelySubtag from=\"und_Zanb\" to=\"cmg_Zanb_MN\"/>\n \t\t<!--{ ?; Zanabazar Square; ? } => { Classical Mongolian; Zanabazar Square; Mongolia }-->\n+\n+\t\t<!-- testing -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzk2NDg2Mw=="}, "originalCommit": {"oid": "3a1a735c951f2ea0c575546cf116cfd9fe0e536f"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1Njg1ODAxOnYy", "diffSide": "RIGHT", "path": "tools/cldr-apps/.classpath", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDoxNDoyNlrOHgo9Zg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxNjoxMzo0NlrOHhazgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzk4NzU1OA==", "bodyText": "We've discussed putting .classpath and maybe .settings in .gitignore. This has been a problem since the Maven migration, since I can't run ST in eclipse without changing them. But I haven't checked in my changed versions. Is there any obstacle to adding them to .gitignore?", "url": "https://github.com/unicode-org/cldr/pull/757#discussion_r503987558", "createdAt": "2020-10-13T14:14:26Z", "author": {"login": "btangmu"}, "path": "tools/cldr-apps/.classpath", "diffHunk": "@@ -1,6 +1,8 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\"?>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a1a735c951f2ea0c575546cf116cfd9fe0e536f"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDI3MjkwNA==", "bodyText": "I planned to .gitignore them when the maven migration is done, when eclipse will no longer use the project files as is.", "url": "https://github.com/unicode-org/cldr/pull/757#discussion_r504272904", "createdAt": "2020-10-13T21:36:28Z", "author": {"login": "srl295"}, "path": "tools/cldr-apps/.classpath", "diffHunk": "@@ -1,6 +1,8 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\"?>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzk4NzU1OA=="}, "originalCommit": {"oid": "3a1a735c951f2ea0c575546cf116cfd9fe0e536f"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDgwNDIyNg==", "bodyText": "Sounds good. In the meantime I need to figure out a better way to deal with the versions of those files that I need locally -- I'm wasting so much time between git and eclipse", "url": "https://github.com/unicode-org/cldr/pull/757#discussion_r504804226", "createdAt": "2020-10-14T16:13:46Z", "author": {"login": "btangmu"}, "path": "tools/cldr-apps/.classpath", "diffHunk": "@@ -1,6 +1,8 @@\n <?xml version=\"1.0\" encoding=\"UTF-8\"?>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzk4NzU1OA=="}, "originalCommit": {"oid": "3a1a735c951f2ea0c575546cf116cfd9fe0e536f"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1Njk0MTQ4OnYy", "diffSide": "RIGHT", "path": "tools/cldr-apps/src/main/java/org/unicode/cldr/util/SandboxLocales.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDozMDo0N1rOHgpxgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQyMjozMzowNVrOHhoYww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAwMDg5Nw==", "bodyText": "Could these be private?", "url": "https://github.com/unicode-org/cldr/pull/757#discussion_r504000897", "createdAt": "2020-10-13T14:30:47Z", "author": {"login": "btangmu"}, "path": "tools/cldr-apps/src/main/java/org/unicode/cldr/util/SandboxLocales.java", "diffHunk": "@@ -0,0 +1,166 @@\n+package org.unicode.cldr.util;\n+\n+import java.io.File;\n+import java.io.FileNotFoundException;\n+import java.io.FileOutputStream;\n+import java.io.IOException;\n+import java.io.OutputStreamWriter;\n+import java.io.PrintWriter;\n+import java.io.UnsupportedEncodingException;\n+import java.util.Iterator;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.TreeMap;\n+\n+import org.unicode.cldr.util.XPathParts.Comments;\n+\n+public class SandboxLocales {\n+    File base;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a1a735c951f2ea0c575546cf116cfd9fe0e536f"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTAyNjc1NQ==", "bodyText": "done", "url": "https://github.com/unicode-org/cldr/pull/757#discussion_r505026755", "createdAt": "2020-10-14T22:33:05Z", "author": {"login": "srl295"}, "path": "tools/cldr-apps/src/main/java/org/unicode/cldr/util/SandboxLocales.java", "diffHunk": "@@ -0,0 +1,166 @@\n+package org.unicode.cldr.util;\n+\n+import java.io.File;\n+import java.io.FileNotFoundException;\n+import java.io.FileOutputStream;\n+import java.io.IOException;\n+import java.io.OutputStreamWriter;\n+import java.io.PrintWriter;\n+import java.io.UnsupportedEncodingException;\n+import java.util.Iterator;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.TreeMap;\n+\n+import org.unicode.cldr.util.XPathParts.Comments;\n+\n+public class SandboxLocales {\n+    File base;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAwMDg5Nw=="}, "originalCommit": {"oid": "3a1a735c951f2ea0c575546cf116cfd9fe0e536f"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzAyNDcxOnYy", "diffSide": "RIGHT", "path": "tools/cldr-apps/src/main/java/org/unicode/cldr/web/UserRegistry.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNDo0Nzo0MVrOHgqmew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQyMjoyOTo0MlrOHhoPJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAxNDQ1OQ==", "bodyText": "Ideally there might be a constant for the string literal \"mul\", referring to tr35 \"The content contains more than one language or text that is simultaneously in multiple languages (such as brand names).\"", "url": "https://github.com/unicode-org/cldr/pull/757#discussion_r504014459", "createdAt": "2020-10-13T14:47:41Z", "author": {"login": "btangmu"}, "path": "tools/cldr-apps/src/main/java/org/unicode/cldr/web/UserRegistry.java", "diffHunk": "@@ -1176,7 +1177,7 @@ String setLocales(WebContext ctx, int theirId, String theirEmail, String newLoca\n \n         if (!intLocs) {\n             newLocales = normalizeLocaleList(newLocales);\n-            if (newLocales.isEmpty()) newLocales = \"und\";\n+            if (newLocales.isEmpty()) newLocales = \"mul\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a1a735c951f2ea0c575546cf116cfd9fe0e536f"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDI3MjM1MQ==", "bodyText": "@btangmu this particular line is only for the user update - it's not related to \"multiple languages\" per se. Should it instead be instead a constant DEFAULT_LOCALE or something?", "url": "https://github.com/unicode-org/cldr/pull/757#discussion_r504272351", "createdAt": "2020-10-13T21:35:21Z", "author": {"login": "srl295"}, "path": "tools/cldr-apps/src/main/java/org/unicode/cldr/web/UserRegistry.java", "diffHunk": "@@ -1176,7 +1177,7 @@ String setLocales(WebContext ctx, int theirId, String theirEmail, String newLoca\n \n         if (!intLocs) {\n             newLocales = normalizeLocaleList(newLocales);\n-            if (newLocales.isEmpty()) newLocales = \"und\";\n+            if (newLocales.isEmpty()) newLocales = \"mul\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAxNDQ1OQ=="}, "originalCommit": {"oid": "3a1a735c951f2ea0c575546cf116cfd9fe0e536f"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDgwNzAwMA==", "bodyText": "Yes, maybe SpecialLocales.DEFAULT_LOCALE? Anything like that is an improvement for encapsulation", "url": "https://github.com/unicode-org/cldr/pull/757#discussion_r504807000", "createdAt": "2020-10-14T16:17:55Z", "author": {"login": "btangmu"}, "path": "tools/cldr-apps/src/main/java/org/unicode/cldr/web/UserRegistry.java", "diffHunk": "@@ -1176,7 +1177,7 @@ String setLocales(WebContext ctx, int theirId, String theirEmail, String newLoca\n \n         if (!intLocs) {\n             newLocales = normalizeLocaleList(newLocales);\n-            if (newLocales.isEmpty()) newLocales = \"und\";\n+            if (newLocales.isEmpty()) newLocales = \"mul\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAxNDQ1OQ=="}, "originalCommit": {"oid": "3a1a735c951f2ea0c575546cf116cfd9fe0e536f"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTAyNDI5NA==", "bodyText": "removed.", "url": "https://github.com/unicode-org/cldr/pull/757#discussion_r505024294", "createdAt": "2020-10-14T22:29:42Z", "author": {"login": "srl295"}, "path": "tools/cldr-apps/src/main/java/org/unicode/cldr/web/UserRegistry.java", "diffHunk": "@@ -1176,7 +1177,7 @@ String setLocales(WebContext ctx, int theirId, String theirEmail, String newLoca\n \n         if (!intLocs) {\n             newLocales = normalizeLocaleList(newLocales);\n-            if (newLocales.isEmpty()) newLocales = \"und\";\n+            if (newLocales.isEmpty()) newLocales = \"mul\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAxNDQ1OQ=="}, "originalCommit": {"oid": "3a1a735c951f2ea0c575546cf116cfd9fe0e536f"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 311, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}