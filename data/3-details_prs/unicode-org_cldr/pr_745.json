{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0NDY2Mjk5", "number": 745, "title": "CLDR-11585 maven: single jar assembly, mysql, cleanup", "bodyText": "CLDR-11585\n\n\ncreate an uber-jar for cldr.jar with:\nmvn -pl java package assembly:single -DskipTests=true\n\n\nfix a comment in TestShim.java (missed in #741)\n\n\nrun Maven test against MySQL\n(this is an update to CLDR-8383 CI against mysql (#705) and\ncorrects 6adc82b which introduced\nMaven CI against Derby)\n\n\nMove more pluginDependencies up from cldr-apps/pom.xml to tools/pom.xml\n\n\nNo plugin versions are specified in sub-poms now.\n\nNote: This unblocks CLDR-8383 from a code perspective.  The only thing holding us to Derby is\nuser docs / dev environment setup!", "createdAt": "2020-09-29T00:10:09Z", "url": "https://github.com/unicode-org/cldr/pull/745", "merged": true, "mergeCommit": {"oid": "afbd4a9da7b3b759a23eaffb2c6a0c495fd08f4e"}, "closed": true, "closedAt": "2020-09-29T16:56:21Z", "author": {"login": "srl295"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNcugBgH2gAyNDk0NDY2Mjk5OjgwNGVkNDY4MWViYzIyYjRhMGExZDkxNDFjNTYyMTFiMGMxMzFjNDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdNrK6IgFqTQ5ODY5NDA5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "804ed4681ebc22b4a0a1d9141c56211b0c131c40", "author": {"user": {"login": "srl295", "name": "Steven R. Loomis"}}, "url": "https://github.com/unicode-org/cldr/commit/804ed4681ebc22b4a0a1d9141c56211b0c131c40", "committedDate": "2020-09-29T00:06:23Z", "message": "CLDR-11585 maven: single jar assembly, mysql, cleanup\n\n- create an uber-jar for cldr.jar with:\n\n    mvn -pl java package assembly:single -DskipTests=true\n\n- fix a comment in TestShim.java (missed in #741)\n\n- run Maven test against MySQL\n(this is an update to CLDR-8383 CI against mysql (#705) and\ncorrects 6adc82b6b6116bb67e046ec129adb66f4aa6aac4 which introduced\nMaven CI against Derby)\n\n- Move more pluginDependencies up from cldr-apps/pom.xml to tools/pom.xml\n\nNo plugin versions are specified in sub-poms now."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4NjgyNTU5", "url": "https://github.com/unicode-org/cldr/pull/745#pullrequestreview-498682559", "createdAt": "2020-09-29T16:41:45Z", "commit": {"oid": "804ed4681ebc22b4a0a1d9141c56211b0c131c40"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNjo0MTo0NVrOHZ3gGg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNjo0MTo0NVrOHZ3gGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njg4NTc4Ng==", "bodyText": "What's VbrB3LFCr6A!\n?", "url": "https://github.com/unicode-org/cldr/pull/745#discussion_r496885786", "createdAt": "2020-09-29T16:41:45Z", "author": {"login": "btangmu"}, "path": ".github/workflows/maven.yml", "diffHunk": "@@ -27,11 +27,21 @@ jobs:\n           restore-keys: |\n             ${{ runner.os }}-maven-\n       - name: Build with Maven\n-        run: mvn -s .github/workflows/mvn-settings.xml -B package --file tools/pom.xml -DskipTests=true\n+        run: >\n+          mvn -s .github/workflows/mvn-settings.xml -B package --file tools/pom.xml\n+          -DskipTests=true\n         env:\n           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n+      - name: Setup MySQL\n+        run: |\n+          sudo systemctl start mysql.service\n+          sleep 3\n+          mysql --user=root --password=root < tools/cldr-apps/test-setup.sql\n       - name: Test with maven\n-        run: mvn -s .github/workflows/mvn-settings.xml -B test --file tools/pom.xml\n+        run: >\n+          mvn -s .github/workflows/mvn-settings.xml -B test --file tools/pom.xml\n+          '-Dorg.unicode.cldr.unittest.web.jdbcurl=jdbc:mysql://cldrtest:VbrB3LFCr6A!@localhost/cldrtest?useJDBCCompliantTimezoneShift=true&useLegacyDatetimeCode=false&serverTimezone=UTC'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "804ed4681ebc22b4a0a1d9141c56211b0c131c40"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4NjkyNzEz", "url": "https://github.com/unicode-org/cldr/pull/745#pullrequestreview-498692713", "createdAt": "2020-09-29T16:54:21Z", "commit": {"oid": "804ed4681ebc22b4a0a1d9141c56211b0c131c40"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNjo1NDoyMlrOHZ4AdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxNjo1NDoyMlrOHZ4AdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Njg5NDA2OQ==", "bodyText": "Here it's version 3.2.2, while in cldr-apps/pom.xml the version is removed above. Why the difference? In general if version is omitted would we get the most recent?", "url": "https://github.com/unicode-org/cldr/pull/745#discussion_r496894069", "createdAt": "2020-09-29T16:54:22Z", "author": {"login": "btangmu"}, "path": "tools/pom.xml", "diffHunk": "@@ -237,6 +236,10 @@\n \t\t\t\t\t<artifactId>maven-jar-plugin</artifactId>\n \t\t\t\t\t<version>3.0.2</version>\n \t\t\t\t</plugin>\n+\t\t\t\t<plugin>\n+\t\t\t\t\t<artifactId>maven-war-plugin</artifactId>\n+\t\t\t\t\t<version>3.2.2</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "804ed4681ebc22b4a0a1d9141c56211b0c131c40"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4Njk0MDk5", "url": "https://github.com/unicode-org/cldr/pull/745#pullrequestreview-498694099", "createdAt": "2020-09-29T16:56:05Z", "commit": {"oid": "804ed4681ebc22b4a0a1d9141c56211b0c131c40"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1861, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}