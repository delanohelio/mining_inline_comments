{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0OTIxNDI0", "number": 795, "title": "CLDR-13973 restructure UTF-8, XML Reader", "bodyText": "CLDR-13973\n\nremove uses of unnecessary Charset.forName(\"UTF-8\")\nre-enable the ability to take in BOM in XML (for compat)\nuse InputSource / InputStream instead of Reader input.\nother simplifications", "createdAt": "2020-10-16T15:17:11Z", "url": "https://github.com/unicode-org/cldr/pull/795", "merged": true, "mergeCommit": {"oid": "8ab23cc72d3cdee92a756ae526180c2e5e7eaa83"}, "closed": true, "closedAt": "2020-10-16T21:18:33Z", "author": {"login": "srl295"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdTIifzgBqjM4ODcxMDAwODQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdTM56ngFqTUxMDc5NzM1Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "88edcb332b80b36e45c680235abf981c8aa42cd6", "author": {"user": {"login": "srl295", "name": "Steven R. Loomis"}}, "url": "https://github.com/unicode-org/cldr/commit/88edcb332b80b36e45c680235abf981c8aa42cd6", "committedDate": "2020-10-16T15:15:01Z", "message": "CLDR-13973 restructure UTF-8, XML Reader\n\n- remove uses of unnecessary Charset.forName(\"UTF-8\")\n- re-enable the ability to take in BOM in XML (for compat)\n- use InputSource / InputStream instead of Reader input.\n- other simplifications"}, "afterCommit": {"oid": "220df8ed8e793d77f06e1fcdad777fb1425b9ca7", "author": {"user": {"login": "srl295", "name": "Steven R. Loomis"}}, "url": "https://github.com/unicode-org/cldr/commit/220df8ed8e793d77f06e1fcdad777fb1425b9ca7", "committedDate": "2020-10-16T15:58:30Z", "message": "CLDR-13973 restructure UTF-8, XML Reader\n\n- remove uses of unnecessary Charset.forName(\"UTF-8\")\n- re-enable the ability to take in BOM in XML (for compat)\n- use InputSource / InputStream instead of Reader input.\n- other simplifications"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwNjA4ODM2", "url": "https://github.com/unicode-org/cldr/pull/795#pullrequestreview-510608836", "createdAt": "2020-10-16T16:07:24Z", "commit": {"oid": "220df8ed8e793d77f06e1fcdad777fb1425b9ca7"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwNjcwNjg5", "url": "https://github.com/unicode-org/cldr/pull/795#pullrequestreview-510670689", "createdAt": "2020-10-16T17:32:28Z", "commit": {"oid": "220df8ed8e793d77f06e1fcdad777fb1425b9ca7"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38a7dd586a1ad945dc3faf5504d14f24b9f18594", "author": {"user": {"login": "srl295", "name": "Steven R. Loomis"}}, "url": "https://github.com/unicode-org/cldr/commit/38a7dd586a1ad945dc3faf5504d14f24b9f18594", "committedDate": "2020-10-16T20:30:47Z", "message": "CLDR-13973 restructure UTF-8, XML Reader\n\n- remove uses of unnecessary Charset.forName(\"UTF-8\")\n- re-enable the ability to take in BOM in XML (for compat)\n- use InputSource / InputStream instead of Reader input where possible\n(the Reader interface with explicit UTF-8 cannot be used with\nXML files containing a BOM.)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "220df8ed8e793d77f06e1fcdad777fb1425b9ca7", "author": {"user": {"login": "srl295", "name": "Steven R. Loomis"}}, "url": "https://github.com/unicode-org/cldr/commit/220df8ed8e793d77f06e1fcdad777fb1425b9ca7", "committedDate": "2020-10-16T15:58:30Z", "message": "CLDR-13973 restructure UTF-8, XML Reader\n\n- remove uses of unnecessary Charset.forName(\"UTF-8\")\n- re-enable the ability to take in BOM in XML (for compat)\n- use InputSource / InputStream instead of Reader input.\n- other simplifications"}, "afterCommit": {"oid": "38a7dd586a1ad945dc3faf5504d14f24b9f18594", "author": {"user": {"login": "srl295", "name": "Steven R. Loomis"}}, "url": "https://github.com/unicode-org/cldr/commit/38a7dd586a1ad945dc3faf5504d14f24b9f18594", "committedDate": "2020-10-16T20:30:47Z", "message": "CLDR-13973 restructure UTF-8, XML Reader\n\n- remove uses of unnecessary Charset.forName(\"UTF-8\")\n- re-enable the ability to take in BOM in XML (for compat)\n- use InputSource / InputStream instead of Reader input where possible\n(the Reader interface with explicit UTF-8 cannot be used with\nXML files containing a BOM.)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwNzg1NTI2", "url": "https://github.com/unicode-org/cldr/pull/795#pullrequestreview-510785526", "createdAt": "2020-10-16T20:41:05Z", "commit": {"oid": "38a7dd586a1ad945dc3faf5504d14f24b9f18594"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQyMDo0MTowNVrOHjPLrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQyMDo0MTowNVrOHjPLrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjcxMDk1OQ==", "bodyText": "I thought you were going to add a comment here (if I understand what you said previously) since this is an important change.", "url": "https://github.com/unicode-org/cldr/pull/795#discussion_r506710959", "createdAt": "2020-10-16T20:41:05Z", "author": {"login": "hagbard"}, "path": "tools/java/org/unicode/cldr/util/CLDRFile.java", "diffHunk": "@@ -331,9 +329,8 @@ private static CLDRFile load(String fileName, String localeName, InputStream fis\n      */\n     public CLDRFile loadFromInputStream(String fileName, String localeName, InputStream fis, DraftStatus minimalDraftStatus) {\n         CLDRFile cldrFile = this;\n-        InputStreamReader reader = new InputStreamReader(fis, Charset.forName(\"UTF-8\"));\n         MyDeclHandler DEFAULT_DECLHANDLER = new MyDeclHandler(cldrFile, minimalDraftStatus);\n-        XMLFileReader.read(fileName, reader, -1, true, DEFAULT_DECLHANDLER);\n+        XMLFileReader.read(fileName, fis, -1, true, DEFAULT_DECLHANDLER);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "38a7dd586a1ad945dc3faf5504d14f24b9f18594"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwNzkzMTkw", "url": "https://github.com/unicode-org/cldr/pull/795#pullrequestreview-510793190", "createdAt": "2020-10-16T20:55:57Z", "commit": {"oid": "38a7dd586a1ad945dc3faf5504d14f24b9f18594"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEwNzk3MzUz", "url": "https://github.com/unicode-org/cldr/pull/795#pullrequestreview-510797353", "createdAt": "2020-10-16T21:03:55Z", "commit": {"oid": "38a7dd586a1ad945dc3faf5504d14f24b9f18594"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1902, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}