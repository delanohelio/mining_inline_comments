{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0MjY2OTA1", "number": 791, "title": "CLDR-14220 Azure migration: set st.unicode.org hostname", "bodyText": "-This is required for sending email from the production server\n-New Ansible playbook: hostname-playbook, imported from setup-playbook\n-Move other details of setup-playbook to new server-playbook, packages-playbook, certbot-playbook\n\nChecklist\n\n Issue filed: https://unicode-org.atlassian.net/browse/CLDR-14220\n Updated PR title and link in previous line to include Issue number", "createdAt": "2020-10-15T17:34:03Z", "url": "https://github.com/unicode-org/cldr/pull/791", "merged": true, "mergeCommit": {"oid": "69eb8e4782e23d0ae156e892bfedf521e7bd8c11"}, "closed": true, "closedAt": "2020-10-16T00:17:11Z", "author": {"login": "btangmu"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdS1Q8igH2gAyNTA0MjY2OTA1OmYwY2VmYTUyOGZkMzE2NjMxYjIyNzgyZTM2NmY4MDI4MGJhYWRjNjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdS63fzgFqTUwOTkwMjg1Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f0cefa528fd316631b22782e366f80280baadc63", "author": {"user": {"login": "btangmu", "name": "Tom Bishop"}}, "url": "https://github.com/unicode-org/cldr/commit/f0cefa528fd316631b22782e366f80280baadc63", "committedDate": "2020-10-15T17:31:21Z", "message": "CLDR-14220 Azure migration: set st.unicode.org hostname\n\n-This is required for sending email from the production server\n\n-New Ansible playbook: hostname-playbook, imported from setup-playbook\n\n-Move other details of setup-playbook to new server-playbook, packages-playbook, certbot-playbook"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5OTAyNDA4", "url": "https://github.com/unicode-org/cldr/pull/791#pullrequestreview-509902408", "createdAt": "2020-10-16T00:01:44Z", "commit": {"oid": "f0cefa528fd316631b22782e366f80280baadc63"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwMDowMTo0NVrOHifgjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwMDowMTo0NVrOHifgjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTkyOTg2OA==", "bodyText": "should this be {{ inventory_hostname }} instead?", "url": "https://github.com/unicode-org/cldr/pull/791#discussion_r505929868", "createdAt": "2020-10-16T00:01:45Z", "author": {"login": "srl295"}, "path": "tools/scripts/ansible/hostname-playbook.yml", "diffHunk": "@@ -0,0 +1,6 @@\n+- hosts: prod\n+  become: yes\n+  tasks:\n+    - name: Set the hostname\n+      hostname:\n+         name: st.unicode.org", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0cefa528fd316631b22782e366f80280baadc63"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5OTAyODU2", "url": "https://github.com/unicode-org/cldr/pull/791#pullrequestreview-509902856", "createdAt": "2020-10-16T00:02:15Z", "commit": {"oid": "f0cefa528fd316631b22782e366f80280baadc63"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwMDowMjoxNlrOHifhDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwMDowMjoxNlrOHifhDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTkyOTk5Nw==", "bodyText": "nginx-exporter wasn't in the ubuntu version we have yet.", "url": "https://github.com/unicode-org/cldr/pull/791#discussion_r505929997", "createdAt": "2020-10-16T00:02:16Z", "author": {"login": "srl295"}, "path": "tools/scripts/ansible/server-playbook.yml", "diffHunk": "@@ -0,0 +1,180 @@\n+- hosts: surveytool\n+  become: yes\n+  vars_files:\n+    - vars/main.yml\n+    - local-vars/local.yml\n+  roles:\n+    - { role: geerlingguy.mysql }\n+    - { role: geerlingguy.nginx }\n+  tasks:\n+    - name: Install server packages\n+      apt:\n+        pkg:\n+          - tomcat8\n+          - tomcat8-admin # needed for deploy\n+          - unzip # needed for deploy\n+          # for monitoring\n+          - prometheus-mysqld-exporter\n+          # - prometheus-nginx-exporter # (not there yet)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0cefa528fd316631b22782e366f80280baadc63"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1899, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}