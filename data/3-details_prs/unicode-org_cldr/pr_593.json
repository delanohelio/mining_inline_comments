{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4MjM1Mjg5", "number": 593, "title": "CLDR-13771 Ansible playbook and docs for setup of Survey Tool.", "bodyText": "CLDR-13771\n\nFor now, this targets cldr-ref which is a test machine.\nadd a lint step", "createdAt": "2020-07-29T06:54:38Z", "url": "https://github.com/unicode-org/cldr/pull/593", "merged": true, "mergeCommit": {"oid": "d32a87d148460f63f3eea90f5b51d8c9727db3af"}, "closed": true, "closedAt": "2020-08-03T17:10:00Z", "author": {"login": "srl295"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5xYVzABqjM2MDA4MDU4ODg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc61DfKAFqTQ1OTYxNzYxMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "172e5d017190fb09fc1f0ea8e2b56a20a9fe4210", "author": {"user": {"login": "srl295", "name": "Steven R. Loomis"}}, "url": "https://github.com/unicode-org/cldr/commit/172e5d017190fb09fc1f0ea8e2b56a20a9fe4210", "committedDate": "2020-07-29T20:41:41Z", "message": "fix lint"}, "afterCommit": {"oid": "f711b8078ba6ea6364920755120bc671fd3d7246", "author": {"user": {"login": "srl295", "name": "Steven R. Loomis"}}, "url": "https://github.com/unicode-org/cldr/commit/f711b8078ba6ea6364920755120bc671fd3d7246", "committedDate": "2020-07-29T20:50:39Z", "message": "CLDR-13771 Ansible playbook and docs for setup of Survey Tool.\n\n- For now, this targets cldr-ref which is a test machine.\n- add a lint step which tests the build with vagrant"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f711b8078ba6ea6364920755120bc671fd3d7246", "author": {"user": {"login": "srl295", "name": "Steven R. Loomis"}}, "url": "https://github.com/unicode-org/cldr/commit/f711b8078ba6ea6364920755120bc671fd3d7246", "committedDate": "2020-07-29T20:50:39Z", "message": "CLDR-13771 Ansible playbook and docs for setup of Survey Tool.\n\n- For now, this targets cldr-ref which is a test machine.\n- add a lint step which tests the build with vagrant"}, "afterCommit": {"oid": "80161de442966dd54e3b0208ed1522b00a9fe9e4", "author": {"user": {"login": "srl295", "name": "Steven R. Loomis"}}, "url": "https://github.com/unicode-org/cldr/commit/80161de442966dd54e3b0208ed1522b00a9fe9e4", "committedDate": "2020-07-29T21:06:08Z", "message": "CLDR-13771 Ansible playbook and docs for setup of Survey Tool.\n\n- For now, this targets cldr-ref which is a test machine.\n- add a lint step which tests the build with vagrant"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8c9f182c662da34f241ddeb62bb6832c98c9280f", "author": {"user": {"login": "srl295", "name": "Steven R. Loomis"}}, "url": "https://github.com/unicode-org/cldr/commit/8c9f182c662da34f241ddeb62bb6832c98c9280f", "committedDate": "2020-07-29T23:32:12Z", "message": "fixup! add local vars for test"}, "afterCommit": {"oid": "f442cb5822a8a1bf7e3cb883d185e7d5cf2acfac", "author": {"user": {"login": "srl295", "name": "Steven R. Loomis"}}, "url": "https://github.com/unicode-org/cldr/commit/f442cb5822a8a1bf7e3cb883d185e7d5cf2acfac", "committedDate": "2020-07-29T23:44:40Z", "message": "CLDR-13771 Ansible playbook and docs for setup of Survey Tool.\n\n- For now, this targets cldr-ref which is a test machine.\n- add a lint step which tests the build with vagrant"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4NTYzODUy", "url": "https://github.com/unicode-org/cldr/pull/593#pullrequestreview-458563852", "createdAt": "2020-07-30T16:26:38Z", "commit": {"oid": "f442cb5822a8a1bf7e3cb883d185e7d5cf2acfac"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNjoyNjozOFrOG5qoDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNjoyNjozOFrOG5qoDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzEyMDM5OQ==", "bodyText": "Does the build job depend on the lint job succeeding, or are they independent?  Asking b/c I don't know Ansible, so I can't say if linting is more like validation / error-prone checking or if it is more like formatting style.\nIf it linting is more than just strongly recommended (ex: in the ICU4X case, we treat warnings like errors), then you could make the build job depend on the lint job.\nBut if the the build job or lint job take a long time, and/or one job's input does not necessarily depend on the success of output of the other job, then it makes sense to keep them un-linked as deps.", "url": "https://github.com/unicode-org/cldr/pull/593#discussion_r463120399", "createdAt": "2020-07-30T16:26:38Z", "author": {"login": "echeran"}, "path": ".github/workflows/ansible-lint.yml", "diffHunk": "@@ -0,0 +1,30 @@\n+name: Ansible Lint\n+\n+on: [push, pull_request]\n+\n+jobs:\n+  lint:\n+    runs-on: ubuntu-latest\n+    steps:\n+    - uses: actions/checkout@v2\n+      with:\n+        lfs: false # not needed currently\n+    - name: Lint Ansible Playbook\n+      uses: ansible/ansible-lint-action@master\n+      with:\n+        targets: |\n+          tools/scripts/ansible/setup-playbook.yml\n+        override-deps: |\n+          ansible==2.9\n+          ansible-lint==4.2.0\n+        args: \"\"\n+  build:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f442cb5822a8a1bf7e3cb883d185e7d5cf2acfac"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4Njc1MDMy", "url": "https://github.com/unicode-org/cldr/pull/593#pullrequestreview-458675032", "createdAt": "2020-07-30T19:00:25Z", "commit": {"oid": "f442cb5822a8a1bf7e3cb883d185e7d5cf2acfac"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxOTowMDoyNVrOG5v8FQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxOTowMDoyNVrOG5v8FQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzIwNzQ0NQ==", "bodyText": "Would the comment still make sense if it were reworded as \"not needed for this job\"?  If so, that might be clearer, and then ditto for line 26.", "url": "https://github.com/unicode-org/cldr/pull/593#discussion_r463207445", "createdAt": "2020-07-30T19:00:25Z", "author": {"login": "echeran"}, "path": ".github/workflows/ansible-lint.yml", "diffHunk": "@@ -0,0 +1,30 @@\n+name: Ansible Lint\n+\n+on: [push, pull_request]\n+\n+jobs:\n+  lint:\n+    runs-on: ubuntu-latest\n+    steps:\n+    - uses: actions/checkout@v2\n+      with:\n+        lfs: false # not needed currently", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f442cb5822a8a1bf7e3cb883d185e7d5cf2acfac"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7db077e7f059c012e9f6217cb8c21c04f06b308e", "author": {"user": {"login": "srl295", "name": "Steven R. Loomis"}}, "url": "https://github.com/unicode-org/cldr/commit/7db077e7f059c012e9f6217cb8c21c04f06b308e", "committedDate": "2020-07-30T19:06:48Z", "message": "CLDR-13771 Ansible playbook and docs for setup of Survey Tool.\n\n- For now, this targets cldr-ref which is a test machine.\n- add a lint step which tests the build with vagrant"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f442cb5822a8a1bf7e3cb883d185e7d5cf2acfac", "author": {"user": {"login": "srl295", "name": "Steven R. Loomis"}}, "url": "https://github.com/unicode-org/cldr/commit/f442cb5822a8a1bf7e3cb883d185e7d5cf2acfac", "committedDate": "2020-07-29T23:44:40Z", "message": "CLDR-13771 Ansible playbook and docs for setup of Survey Tool.\n\n- For now, this targets cldr-ref which is a test machine.\n- add a lint step which tests the build with vagrant"}, "afterCommit": {"oid": "7db077e7f059c012e9f6217cb8c21c04f06b308e", "author": {"user": {"login": "srl295", "name": "Steven R. Loomis"}}, "url": "https://github.com/unicode-org/cldr/commit/7db077e7f059c012e9f6217cb8c21c04f06b308e", "committedDate": "2020-07-30T19:06:48Z", "message": "CLDR-13771 Ansible playbook and docs for setup of Survey Tool.\n\n- For now, this targets cldr-ref which is a test machine.\n- add a lint step which tests the build with vagrant"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4NjkzOTIw", "url": "https://github.com/unicode-org/cldr/pull/593#pullrequestreview-458693920", "createdAt": "2020-07-30T19:29:35Z", "commit": {"oid": "7db077e7f059c012e9f6217cb8c21c04f06b308e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4NzU2OTk0", "url": "https://github.com/unicode-org/cldr/pull/593#pullrequestreview-458756994", "createdAt": "2020-07-30T21:06:46Z", "commit": {"oid": "7db077e7f059c012e9f6217cb8c21c04f06b308e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQyMTowNjo0NlrOG5z2SQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQyMTowNjo0NlrOG5z2SQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzI3MTQ5Nw==", "bodyText": "Nitpick: do we really want *-latest?\nSure, I can see pros and cons...\nBut on the other side the ansible version is fixed (in override-deps)\nSo do we want to be on the latest and greatest everywhere, or nowhere?\nI would make everything latest, or everything stable, but not a mixture.\nNote: in my comments I tag with \"Nitpick\" stuff that I don't feel strongly about.\nNothing is wrong, it is just a personal opinion.\nImplement if you like it, ignore if you don't (there is no need to explain why not :-)\nDisclaimer: I know nothing about Ansible", "url": "https://github.com/unicode-org/cldr/pull/593#discussion_r463271497", "createdAt": "2020-07-30T21:06:46Z", "author": {"login": "mihnita"}, "path": ".github/workflows/ansible-lint.yml", "diffHunk": "@@ -0,0 +1,30 @@\n+name: Ansible Lint\n+\n+on: [push, pull_request]\n+\n+jobs:\n+  lint:\n+    runs-on: ubuntu-latest", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7db077e7f059c012e9f6217cb8c21c04f06b308e"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4NzU4Nzk0", "url": "https://github.com/unicode-org/cldr/pull/593#pullrequestreview-458758794", "createdAt": "2020-07-30T21:09:46Z", "commit": {"oid": "7db077e7f059c012e9f6217cb8c21c04f06b308e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NjE3NjEy", "url": "https://github.com/unicode-org/cldr/pull/593#pullrequestreview-459617612", "createdAt": "2020-08-02T03:42:28Z", "commit": {"oid": "7db077e7f059c012e9f6217cb8c21c04f06b308e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2018, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}