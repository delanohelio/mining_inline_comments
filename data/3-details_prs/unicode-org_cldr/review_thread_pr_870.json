{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMzOTQ2MzUx", "number": 870, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMTowNTozN1rOFB_KVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMTowODoyOFrOFB_OyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3NjI3NzMyOnYy", "diffSide": "RIGHT", "path": "tools/cldr-apps/src/main/java/org/unicode/cldr/web/UserRegistry.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMTowNTozN1rOIA6qww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMTowNTozN1rOIA6qww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzgzMjEzMQ==", "bodyText": "DENY_PHASE_FINAL_TESTING is new; the rest is just reformatted", "url": "https://github.com/unicode-org/cldr/pull/870#discussion_r537832131", "createdAt": "2020-12-07T21:05:37Z", "author": {"login": "btangmu"}, "path": "tools/cldr-apps/src/main/java/org/unicode/cldr/web/UserRegistry.java", "diffHunk": "@@ -1760,10 +1760,15 @@ static boolean localeMatchesLocaleList(String localeList, CLDRLocale locale) {\n     }\n \n     public enum ModifyDenial {\n-        DENY_NULL_USER(\"No user specified\"), DENY_LOCALE_READONLY(\"Locale is read-only\"), DENY_PHASE_READONLY(\n-            \"SurveyTool is in read-only mode\"), DENY_ALIASLOCALE(\"Locale is an alias\"), DENY_DEFAULTCONTENT(\n-                \"Locale is the Default Content for another locale\"), DENY_PHASE_CLOSED(\"SurveyTool is in 'closed' phase\"), DENY_NO_RIGHTS(\n-                    \"User does not have any voting rights\"), DENY_LOCALE_LIST(\"User does not have rights to vote for this locale\");\n+        DENY_NULL_USER(\"No user specified\"),\n+        DENY_LOCALE_READONLY(\"Locale is read-only\"),\n+        DENY_PHASE_READONLY(\"SurveyTool is in read-only mode\"),\n+        DENY_ALIASLOCALE(\"Locale is an alias\"),\n+        DENY_DEFAULTCONTENT(\"Locale is the Default Content for another locale\"),\n+        DENY_PHASE_CLOSED(\"SurveyTool is in 'closed' phase\"),\n+        DENY_NO_RIGHTS(\"User does not have any voting rights\"),\n+        DENY_LOCALE_LIST(\"User does not have rights to vote for this locale\"),\n+        DENY_PHASE_FINAL_TESTING(\"SurveyTool is in the 'final testing' phase\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7391c01de262c861ba09e1409c7596c15038e01"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3NjI4MTE5OnYy", "diffSide": "RIGHT", "path": "tools/cldr-apps/src/main/java/org/unicode/cldr/web/UserRegistry.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMTowNjozMVrOIA6s5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMTowNjozMVrOIA6s5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzgzMjY3OQ==", "bodyText": "This fixes a compiler warning -- unrelated to this ticket but same file and too small for its own ticket", "url": "https://github.com/unicode-org/cldr/pull/870#discussion_r537832679", "createdAt": "2020-12-07T21:06:31Z", "author": {"login": "btangmu"}, "path": "tools/cldr-apps/src/main/java/org/unicode/cldr/web/UserRegistry.java", "diffHunk": "@@ -2453,6 +2461,7 @@ int writeUserFile(SurveyMain sm, String ourDate, boolean obscured, File outFile)\n                 rs = ps.executeQuery();\n                 if (rs == null) {\n                     out.println(\"\\t<!-- No results -->\");\n+                    out.close();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7391c01de262c861ba09e1409c7596c15038e01"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3NjI4NjMxOnYy", "diffSide": "RIGHT", "path": "tools/cldr-apps/src/main/webapp/WEB-INF/tmpl/manage.jsp", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMTowNzo0NlrOIA6v4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMTowNzo0NlrOIA6v4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzgzMzQ0Mg==", "bodyText": "This is the most essential addition. The other changes in this file fix compiler warnings or delete dead (\"if false\") code", "url": "https://github.com/unicode-org/cldr/pull/870#discussion_r537833442", "createdAt": "2020-12-07T21:07:46Z", "author": {"login": "btangmu"}, "path": "tools/cldr-apps/src/main/webapp/WEB-INF/tmpl/manage.jsp", "diffHunk": "@@ -55,9 +52,11 @@ String helpName = subCtx.getString(\"helpName\");\n                 subCtx.println(\"<br> (Note: in the Vetting phase, you may not submit new data.) \");\n             } else if(SurveyMain.isPhaseClosed() && !UserRegistry.userIsTC(subCtx.session.user)) {\n                 subCtx.println(\"<br>(SurveyTool is closed to vetting and data submissions.)\");\n+            } else if (SurveyMain.isPhaseFinalTesting() && !UserRegistry.userIsTC(subCtx.session.user)) {\n+                subCtx.println(\"(SurveyTool is in the Final Testing phase; you may not vote.)\");\n             }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7391c01de262c861ba09e1409c7596c15038e01"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3NjI4ODczOnYy", "diffSide": "RIGHT", "path": "tools/scripts/ansible/templates/cldr-properties.j2", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMTowODoyOFrOIA6xYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QyMTowODoyOFrOIA6xYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzgzMzgyNA==", "bodyText": "Somehow this template had \"CLDR_PHASE=BETA\" twice but only needs it once", "url": "https://github.com/unicode-org/cldr/pull/870#discussion_r537833824", "createdAt": "2020-12-07T21:08:28Z", "author": {"login": "btangmu"}, "path": "tools/scripts/ansible/templates/cldr-properties.j2", "diffHunk": "@@ -22,9 +22,6 @@ CLDR_OLDVERSION={{ surveytooldeploy.oldversion }}\n ## 'new'  version\n CLDR_NEWVERSION={{ surveytooldeploy.newversion }}\n \n-## Current SurveyTool phase \n-CLDR_PHASE=BETA\n-\n ## CLDR trunk. Default value shown", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7391c01de262c861ba09e1409c7596c15038e01"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 285, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}