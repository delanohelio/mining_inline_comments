{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYwNjM3NzIw", "number": 604, "title": "CLDR-6746 TestPaths to include seed and exemplars", "bodyText": "CLDR-6746\n\nTestPaths needed to include seed and exemplars\ntwo files had deprecate formats, fixed.\n\nI moved the normalization mode out of the deprecated options, and removed the deprecated draftiness on RBNF.\n\n Open Q for @macchiati in Jira, should the test enforce deprecation on the deprecated postalcode elements? (could be a separate PR)", "createdAt": "2020-08-01T00:15:28Z", "url": "https://github.com/unicode-org/cldr/pull/604", "merged": true, "mergeCommit": {"oid": "90a4ab33bb98233b38794442e854fe45ef6eece7"}, "closed": true, "closedAt": "2020-08-18T18:07:33Z", "author": {"login": "srl295"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc60715gFqTQ1OTYxNzMxNw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-sNHSAFqTQ2NzI4NzE1Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NjE3MzE3", "url": "https://github.com/unicode-org/cldr/pull/604#pullrequestreview-459617317", "createdAt": "2020-08-02T03:33:54Z", "commit": {"oid": "c9da4184c4ca6dad39b65848a185be26d9b3aac9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMlQwMzozMzo1NFrOG6h6yg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMlQwMzozMzo1NFrOG6h6yg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDAyNjMxNA==", "bodyText": "The better choice is to add rulesetGrouping to DtdData.DRAFT_ON_NON_LEAF_ALLOWED", "url": "https://github.com/unicode-org/cldr/pull/604#discussion_r464026314", "createdAt": "2020-08-02T03:33:54Z", "author": {"login": "macchiati"}, "path": "seed/rbnf/nci.xml", "diffHunk": "@@ -11,7 +11,7 @@ For terms of use, see http://www.unicode.org/copyright.html\n         <language type=\"nci\"/>\n     </identity>\n     <rbnf>\n-        <rulesetGrouping type=\"SpelloutRules\" draft=\"unconfirmed\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c9da4184c4ca6dad39b65848a185be26d9b3aac9"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NjE3NDIz", "url": "https://github.com/unicode-org/cldr/pull/604#pullrequestreview-459617423", "createdAt": "2020-08-02T03:37:12Z", "commit": {"oid": "c9da4184c4ca6dad39b65848a185be26d9b3aac9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMlQwMzozNzoxMlrOG6h7pQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMlQwMzozNzoxMlrOG6h7pQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDAyNjUzMw==", "bodyText": "Wherever the test message is surfacing, we should add a pointer to DtdData.DRAFT_ON_NON_LEAF_ALLOWED, but with a caution that it should only be expanded if we are certain that it is ok to have draft on a non-leaf (should be rare).", "url": "https://github.com/unicode-org/cldr/pull/604#discussion_r464026533", "createdAt": "2020-08-02T03:37:12Z", "author": {"login": "macchiati"}, "path": "seed/rbnf/nci.xml", "diffHunk": "@@ -11,7 +11,7 @@ For terms of use, see http://www.unicode.org/copyright.html\n         <language type=\"nci\"/>\n     </identity>\n     <rbnf>\n-        <rulesetGrouping type=\"SpelloutRules\" draft=\"unconfirmed\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDAyNjMxNA=="}, "originalCommit": {"oid": "c9da4184c4ca6dad39b65848a185be26d9b3aac9"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c9da4184c4ca6dad39b65848a185be26d9b3aac9", "author": {"user": {"login": "srl295", "name": "Steven R. Loomis"}}, "url": "https://github.com/unicode-org/cldr/commit/c9da4184c4ca6dad39b65848a185be26d9b3aac9", "committedDate": "2020-08-01T00:13:40Z", "message": "CLDR-6746 TestPaths to include seed and exemplars\n\n- TestPaths needed to include seed and exemplars\n- two files had deprecate formats, fixed."}, "afterCommit": {"oid": "1fcdb2bccdbb222ee610c1abb1914c075ff7c088", "author": {"user": {"login": "srl295", "name": "Steven R. Loomis"}}, "url": "https://github.com/unicode-org/cldr/commit/1fcdb2bccdbb222ee610c1abb1914c075ff7c088", "committedDate": "2020-08-03T18:14:57Z", "message": "CLDR-6746 TestPaths to include seed and exemplars\n\n- TestPaths needed to include seed and exemplars\n- fix DtdData to include rulesetGrouping\n- fix DtdData parsing to allow draft on non-leaf nodes where DRAFT_ON_NON_LEAF_ALLOWED was set\n- update TestPaths to print a more helpful message\n- update sa collation to not use a deprecated attribute"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwMzU0NDEy", "url": "https://github.com/unicode-org/cldr/pull/604#pullrequestreview-460354412", "createdAt": "2020-08-03T21:31:03Z", "commit": {"oid": "1fcdb2bccdbb222ee610c1abb1914c075ff7c088"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMTozMTowNFrOG7JYrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMTozMTowNFrOG7JYrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDY3Mjk0MA==", "bodyText": "For the others (\"collation\", \"transform\", \"unitPreferenceData\") I think we explicitly removed the @deprecated on the element, which is cleaner than having this special test.\n(There is no particular value to distinguishing the \"with-children\" case from the \"without children\" case.)", "url": "https://github.com/unicode-org/cldr/pull/604#discussion_r464672940", "createdAt": "2020-08-03T21:31:04Z", "author": {"login": "macchiati"}, "path": "tools/java/org/unicode/cldr/util/DtdData.java", "diffHunk": "@@ -224,7 +224,10 @@ public void addComment(String commentIn) {\n                     attributeStatus = AttributeStatus.value;\n                     break;\n                 case \"@DEPRECATED\":\n-                    isDeprecatedAttribute = true;\n+                    if (!name.equals(\"draft\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1fcdb2bccdbb222ee610c1abb1914c075ff7c088"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db5fced207da6367660e5c356cd34f6c8c4b47ad", "author": {"user": {"login": "srl295", "name": "Steven R. Loomis"}}, "url": "https://github.com/unicode-org/cldr/commit/db5fced207da6367660e5c356cd34f6c8c4b47ad", "committedDate": "2020-08-14T01:25:00Z", "message": "CLDR-6746 TestPaths to include seed and exemplars\n\nDTD/Tools\n- fix the DTD to not deprecate draft= on rulesetGrouping\n- fix DtdData to include rulesetGrouping in DRAFT_ON_NON_LEAF_ALLOWED\n\nTest changes:\n- TestPaths needed to include seed and exemplars\n- update TestPaths to print a more helpful message\n\nData changes: (seed)\n- update sa collation to not use a deprecated attribute"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1fcdb2bccdbb222ee610c1abb1914c075ff7c088", "author": {"user": {"login": "srl295", "name": "Steven R. Loomis"}}, "url": "https://github.com/unicode-org/cldr/commit/1fcdb2bccdbb222ee610c1abb1914c075ff7c088", "committedDate": "2020-08-03T18:14:57Z", "message": "CLDR-6746 TestPaths to include seed and exemplars\n\n- TestPaths needed to include seed and exemplars\n- fix DtdData to include rulesetGrouping\n- fix DtdData parsing to allow draft on non-leaf nodes where DRAFT_ON_NON_LEAF_ALLOWED was set\n- update TestPaths to print a more helpful message\n- update sa collation to not use a deprecated attribute"}, "afterCommit": {"oid": "db5fced207da6367660e5c356cd34f6c8c4b47ad", "author": {"user": {"login": "srl295", "name": "Steven R. Loomis"}}, "url": "https://github.com/unicode-org/cldr/commit/db5fced207da6367660e5c356cd34f6c8c4b47ad", "committedDate": "2020-08-14T01:25:00Z", "message": "CLDR-6746 TestPaths to include seed and exemplars\n\nDTD/Tools\n- fix the DTD to not deprecate draft= on rulesetGrouping\n- fix DtdData to include rulesetGrouping in DRAFT_ON_NON_LEAF_ALLOWED\n\nTest changes:\n- TestPaths needed to include seed and exemplars\n- update TestPaths to print a more helpful message\n\nData changes: (seed)\n- update sa collation to not use a deprecated attribute"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3Mjg3MTU2", "url": "https://github.com/unicode-org/cldr/pull/604#pullrequestreview-467287156", "createdAt": "2020-08-14T03:39:32Z", "commit": {"oid": "db5fced207da6367660e5c356cd34f6c8c4b47ad"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2026, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}