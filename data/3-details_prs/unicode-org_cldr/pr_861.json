{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5NzUwMjI3", "number": 861, "title": "CLDR-11771 Add unit test for VettingViewer.getMissingStatus", "bodyText": "-New method TestUtilities.TestMissingStatus\n-Delete some dead code\n-Comments\n\nChecklist\n\n Issue filed: https://unicode-org.atlassian.net/browse/CLDR-11771\n Updated PR title and link in previous line to include Issue number", "createdAt": "2020-11-30T19:06:24Z", "url": "https://github.com/unicode-org/cldr/pull/861", "merged": true, "mergeCommit": {"oid": "8f9656af520c4cf5c9b255e7ebf1bdce94fbba3c"}, "closed": true, "closedAt": "2020-12-01T16:05:38Z", "author": {"login": "btangmu"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhqLZkAH2gAyNTI5NzUwMjI3OmQ0ODZhMzFiZDdjZjdjZjEwZjFkNTFhOTA4MTA5MDk5YWZkMDkxY2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdht87kgFqTU0MTM3NDc2MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d486a31bd7cf7cf10f1d51a908109099afd091ca", "author": {"user": {"login": "btangmu", "name": "Tom Bishop"}}, "url": "https://github.com/unicode-org/cldr/commit/d486a31bd7cf7cf10f1d51a908109099afd091ca", "committedDate": "2020-11-30T19:05:12Z", "message": "CLDR-11771 Add unit test for VettingViewer.getMissingStatus\n\n-New method TestUtilities.TestMissingStatus\n\n-Delete some dead code\n\n-Comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxMjQ1NDky", "url": "https://github.com/unicode-org/cldr/pull/861#pullrequestreview-541245492", "createdAt": "2020-11-30T19:54:02Z", "commit": {"oid": "d486a31bd7cf7cf10f1d51a908109099afd091ca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxOTo1NDowMlrOH8LcPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxOTo1NDowMlrOH8LcPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2NDA2Mw==", "bodyText": "How could we test for MissingStatus.DISPUTED? It would require the kind of CLDRFile that reflects voting in progress; do we have a way to set that up in the context of cldr-unittest TestAll?", "url": "https://github.com/unicode-org/cldr/pull/861#discussion_r532864063", "createdAt": "2020-11-30T19:54:02Z", "author": {"login": "btangmu"}, "path": "tools/cldr-code/src/test/java/org/unicode/cldr/unittest/TestUtilities.java", "diffHunk": "@@ -1409,4 +1372,20 @@ public void TestBulkUploadHtml() {\n         assertEquals(\"writeBulkInfoHtml\", expected, out.toString());\n     }\n \n+    /**\n+     * Verify that VettingViewer.getMissingStatus returns MissingStatus.PRESENT\n+     * for a typical path in a well-populated locale\n+     *\n+     * Ideally we should also test for MissingStatus.DISPUTED, etc.; that's more difficult\n+     */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d486a31bd7cf7cf10f1d51a908109099afd091ca"}, "originalPosition": 98}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxMzc0NzYw", "url": "https://github.com/unicode-org/cldr/pull/861#pullrequestreview-541374760", "createdAt": "2020-11-30T23:24:59Z", "commit": {"oid": "d486a31bd7cf7cf10f1d51a908109099afd091ca"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMzoyNDo1OVrOH8R2mg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQyMzoyODo1MFrOH8R8xA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk2OTExNA==", "bodyText": "One way would be to leverage the TestSTFactory which already sets up vetters, disputes, etc. It actually creates a STFactory though which has a DB backing.\nBut all you need is a UsersChoice<Organization> subclass - VettingViewer.main() constructs one which includes disputed values, which looks quite suitable for a test case.", "url": "https://github.com/unicode-org/cldr/pull/861#discussion_r532969114", "createdAt": "2020-11-30T23:24:59Z", "author": {"login": "srl295"}, "path": "tools/cldr-code/src/test/java/org/unicode/cldr/unittest/TestUtilities.java", "diffHunk": "@@ -1409,4 +1372,20 @@ public void TestBulkUploadHtml() {\n         assertEquals(\"writeBulkInfoHtml\", expected, out.toString());\n     }\n \n+    /**\n+     * Verify that VettingViewer.getMissingStatus returns MissingStatus.PRESENT\n+     * for a typical path in a well-populated locale\n+     *\n+     * Ideally we should also test for MissingStatus.DISPUTED, etc.; that's more difficult\n+     */", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2NDA2Mw=="}, "originalCommit": {"oid": "d486a31bd7cf7cf10f1d51a908109099afd091ca"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjk3MDY5Mg==", "bodyText": "actually, getMissingStatus() will never return disputed, but member function getErrorOnPath() will.", "url": "https://github.com/unicode-org/cldr/pull/861#discussion_r532970692", "createdAt": "2020-11-30T23:28:50Z", "author": {"login": "srl295"}, "path": "tools/cldr-code/src/test/java/org/unicode/cldr/unittest/TestUtilities.java", "diffHunk": "@@ -1409,4 +1372,20 @@ public void TestBulkUploadHtml() {\n         assertEquals(\"writeBulkInfoHtml\", expected, out.toString());\n     }\n \n+    /**\n+     * Verify that VettingViewer.getMissingStatus returns MissingStatus.PRESENT\n+     * for a typical path in a well-populated locale\n+     *\n+     * Ideally we should also test for MissingStatus.DISPUTED, etc.; that's more difficult\n+     */", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjg2NDA2Mw=="}, "originalCommit": {"oid": "d486a31bd7cf7cf10f1d51a908109099afd091ca"}, "originalPosition": 98}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1823, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}