{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg5NDMxMDY2", "number": 712, "title": "CLDR-14176 change plural rule regeneration to have exponent samples", "bodyText": "A test failure in ICU exposed that the samples were being generated incorrectly for the new French 'many' plural rule. This should fix that problem, although ICU may now need some changes to recognize syntax like \"1.2e6\", and as being different than 1200000.\n\nChecklist\n\n Issue filed: https://unicode-org.atlassian.net/browse/CLDR-14176\n Updated PR title and link in previous line to include Issue number", "createdAt": "2020-09-18T16:51:51Z", "url": "https://github.com/unicode-org/cldr/pull/712", "merged": true, "mergeCommit": {"oid": "89a27f98077f636aed8fbf67b65bec68ab3ee8be"}, "closed": true, "closedAt": "2020-09-18T18:27:17Z", "author": {"login": "macchiati"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdKIafNgH2gAyNDg5NDMxMDY2OjlkNThlODRkZTg1NWJhNmNkY2U5N2I3YWNjMWUzZDlmNDU4OThkZDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdKJvFRgFqTQ5MTY4NTM3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9d58e84de855ba6cdce97b7acc1e3d9f45898dd6", "author": {"user": {"login": "macchiati", "name": "Mark Davis"}}, "url": "https://github.com/unicode-org/cldr/commit/9d58e84de855ba6cdce97b7acc1e3d9f45898dd6", "committedDate": "2020-09-18T16:44:39Z", "message": "CLDR-14176 change generation to have exponent samples"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNjMwMjM1", "url": "https://github.com/unicode-org/cldr/pull/712#pullrequestreview-491630235", "createdAt": "2020-09-18T16:52:22Z", "commit": {"oid": "9d58e84de855ba6cdce97b7acc1e3d9f45898dd6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjo1MjoyMlrOHUUxtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjo1MjoyMlrOHUUxtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA3Mzk3Mg==", "bodyText": "The sample generation changed, this is just a minor byproduct", "url": "https://github.com/unicode-org/cldr/pull/712#discussion_r491073972", "createdAt": "2020-09-18T16:52:22Z", "author": {"login": "macchiati"}, "path": "common/supplemental/ordinals.xml", "diffHunk": "@@ -61,7 +61,7 @@ For terms of use, see http://www.unicode.org/copyright.html\n             <pluralRule count=\"other\"> @integer 0~7, 9, 10, 12~17, 100, 1000, 10000, 100000, 1000000, \u2026</pluralRule>\n         </pluralRules>\n         <pluralRules locales=\"lij\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d58e84de855ba6cdce97b7acc1e3d9f45898dd6"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNjMwNTQ2", "url": "https://github.com/unicode-org/cldr/pull/712#pullrequestreview-491630546", "createdAt": "2020-09-18T16:52:51Z", "commit": {"oid": "9d58e84de855ba6cdce97b7acc1e3d9f45898dd6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjo1Mjo1MVrOHUUynw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjo1Mjo1MVrOHUUynw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA3NDIwNw==", "bodyText": "the rules changed position (more forms), and adds exponent samples", "url": "https://github.com/unicode-org/cldr/pull/712#discussion_r491074207", "createdAt": "2020-09-18T16:52:51Z", "author": {"login": "macchiati"}, "path": "common/supplemental/plurals.xml", "diffHunk": "@@ -116,6 +111,14 @@ For terms of use, see http://www.unicode.org/copyright.html\n             <pluralRule count=\"other\"> @integer 0, 5~19, 100, 1000, 10000, 100000, 1000000, \u2026 @decimal 0.0, 0.5~1.0, 1.5~2.0, 2.5~2.7, 10.0, 100.0, 1000.0, 10000.0, 100000.0, 1000000.0, \u2026</pluralRule>\n         </pluralRules>\n \n+        <!-- 3: one,many,other -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d58e84de855ba6cdce97b7acc1e3d9f45898dd6"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNjMwNzU5", "url": "https://github.com/unicode-org/cldr/pull/712#pullrequestreview-491630759", "createdAt": "2020-09-18T16:53:10Z", "commit": {"oid": "9d58e84de855ba6cdce97b7acc1e3d9f45898dd6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjo1MzoxMFrOHUUzOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjo1MzoxMFrOHUUzOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA3NDM2Mg==", "bodyText": "another harmless byproduct", "url": "https://github.com/unicode-org/cldr/pull/712#discussion_r491074362", "createdAt": "2020-09-18T16:53:10Z", "author": {"login": "macchiati"}, "path": "common/supplemental/plurals.xml", "diffHunk": "@@ -191,7 +194,7 @@ For terms of use, see http://www.unicode.org/copyright.html\n             <pluralRule count=\"one\">n % 10 = 1 and n % 100 != 11,71,91 @integer 1, 21, 31, 41, 51, 61, 81, 101, 1001, \u2026 @decimal 1.0, 21.0, 31.0, 41.0, 51.0, 61.0, 81.0, 101.0, 1001.0, \u2026</pluralRule>\n             <pluralRule count=\"two\">n % 10 = 2 and n % 100 != 12,72,92 @integer 2, 22, 32, 42, 52, 62, 82, 102, 1002, \u2026 @decimal 2.0, 22.0, 32.0, 42.0, 52.0, 62.0, 82.0, 102.0, 1002.0, \u2026</pluralRule>\n             <pluralRule count=\"few\">n % 10 = 3..4,9 and n % 100 != 10..19,70..79,90..99 @integer 3, 4, 9, 23, 24, 29, 33, 34, 39, 43, 44, 49, 103, 1003, \u2026 @decimal 3.0, 4.0, 9.0, 23.0, 24.0, 29.0, 33.0, 34.0, 103.0, 1003.0, \u2026</pluralRule>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d58e84de855ba6cdce97b7acc1e3d9f45898dd6"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNjMxMjg3", "url": "https://github.com/unicode-org/cldr/pull/712#pullrequestreview-491631287", "createdAt": "2020-09-18T16:53:55Z", "commit": {"oid": "9d58e84de855ba6cdce97b7acc1e3d9f45898dd6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjo1Mzo1NVrOHUU0vQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjo1Mzo1NVrOHUU0vQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA3NDc0OQ==", "bodyText": "Introduced a new EFixedDecimal for generating exponent samples; here are tests.", "url": "https://github.com/unicode-org/cldr/pull/712#discussion_r491074749", "createdAt": "2020-09-18T16:53:55Z", "author": {"login": "macchiati"}, "path": "tools/cldr-unittest/src/org/unicode/cldr/unittest/TestPluralRuleGeneration.java", "diffHunk": "@@ -89,4 +93,52 @@ public void TestAtoms() {\n         }\n \n     }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d58e84de855ba6cdce97b7acc1e3d9f45898dd6"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNjMxNTcy", "url": "https://github.com/unicode-org/cldr/pull/712#pullrequestreview-491631572", "createdAt": "2020-09-18T16:54:21Z", "commit": {"oid": "9d58e84de855ba6cdce97b7acc1e3d9f45898dd6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjo1NDoyMlrOHUU1rA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjo1NDoyMlrOHUU1rA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA3NDk4OA==", "bodyText": "Introduced a new EFixedDecimal for generating exponent samples. Basically just adds the 'e' feature. I tried to use the non-deprecated ICU classes for this instead, but the access to those is too limited.", "url": "https://github.com/unicode-org/cldr/pull/712#discussion_r491074988", "createdAt": "2020-09-18T16:54:22Z", "author": {"login": "macchiati"}, "path": "tools/java/org/unicode/cldr/tool/EFixedDecimal.java", "diffHunk": "@@ -0,0 +1,82 @@\n+package org.unicode.cldr.tool;\n+\n+import com.ibm.icu.text.PluralRules.FixedDecimal;\n+import com.ibm.icu.text.PluralRules.IFixedDecimal;\n+import com.ibm.icu.text.PluralRules.Operand;\n+import com.ibm.icu.text.UnicodeSet;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d58e84de855ba6cdce97b7acc1e3d9f45898dd6"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNjMyMjky", "url": "https://github.com/unicode-org/cldr/pull/712#pullrequestreview-491632292", "createdAt": "2020-09-18T16:55:23Z", "commit": {"oid": "9d58e84de855ba6cdce97b7acc1e3d9f45898dd6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjo1NToyM1rOHUU3-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjo1NToyM1rOHUU3-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA3NTU3Ng==", "bodyText": "Modified this so that the temp files can be removed if there is an exception. Avoids muddying the directories.", "url": "https://github.com/unicode-org/cldr/pull/712#discussion_r491075576", "createdAt": "2020-09-18T16:55:23Z", "author": {"login": "macchiati"}, "path": "tools/java/org/unicode/cldr/util/TempPrintWriter.java", "diffHunk": "@@ -22,6 +22,7 @@\n     final PrintWriter tempPrintWriter;\n     final String tempName;\n     final String filename;\n+    boolean noReplace = false;\n \n \n     public static TempPrintWriter openUTF8Writer(String filename) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d58e84de855ba6cdce97b7acc1e3d9f45898dd6"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNjMzNTE1", "url": "https://github.com/unicode-org/cldr/pull/712#pullrequestreview-491633515", "createdAt": "2020-09-18T16:57:09Z", "commit": {"oid": "9d58e84de855ba6cdce97b7acc1e3d9f45898dd6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjo1NzoxMFrOHUU7nA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjo1NzoxMFrOHUU7nA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA3NjUwOA==", "bodyText": "Here are the main changes, moving to EFixedPoint. Had to break out the samples into different groups. I first tried to merge with the range notation, but that got to be really ugly.", "url": "https://github.com/unicode-org/cldr/pull/712#discussion_r491076508", "createdAt": "2020-09-18T16:57:10Z", "author": {"login": "macchiati"}, "path": "tools/java/org/unicode/cldr/tool/GeneratedPluralSamples.java", "diffHunk": "@@ -28,7 +28,6 @@\n import com.google.common.base.Joiner;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d58e84de855ba6cdce97b7acc1e3d9f45898dd6"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNjg1Mzc4", "url": "https://github.com/unicode-org/cldr/pull/712#pullrequestreview-491685378", "createdAt": "2020-09-18T18:17:03Z", "commit": {"oid": "9d58e84de855ba6cdce97b7acc1e3d9f45898dd6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1950, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}