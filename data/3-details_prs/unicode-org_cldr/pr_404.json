{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkyOTgzNjg5", "number": 404, "title": "CLDR-13636 Make ExampleGenerator faster, clear cache less", "bodyText": "-New RecordingCLDRFile.java, ExampleDependencies.java, ExampleCache.java\n-TestExampleGeneratorDependencies: use RecordingCLDRFile, write ExampleDependencies\n-ExampleGenerator: use ExampleCache, ExampleCacheItem\n-ExampleGenerator: replace INHERITANCE_MARKER with Bailey before get cache, not after\n-ExampleGenerator: move some code to new subroutine constructExampleHtml\n-ExampleCache: use starredPath for cache key; AVOID_CLEARING_CACHE = true\n-Prevent some NullPointerExceptions, do not just catch and ignore them; make SHOW_ERROR true\n-Call notifyListeners only if the winning value changed\n-Call notifyListeners from voteForValue, not from setValueFromResolver\n-Delete unused code: WHAT_DELETE, WHAT_VERIFY, deleteValue, internalDeleteValue\n-Clean-up\n-Comments\n\nChecklist\n\n Issue filed: https://unicode-org.atlassian.net/browse/CLDR-13636\n Updated PR title and link in previous line to include Issue number", "createdAt": "2020-03-24T13:15:25Z", "url": "https://github.com/unicode-org/cldr/pull/404", "merged": true, "mergeCommit": {"oid": "0323f7ce9161080ef31e51da44ca26c7dc39e868"}, "closed": true, "closedAt": "2020-03-29T18:47:12Z", "author": {"login": "btangmu"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQythpgH2gAyMzkyOTgzNjg5OmZmNzdhZjAzNzlmOGRjMGVlODQ3MDFjYTdhNGQ0Y2Q3Zjc5Zjk1YmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcSXNfKAFqTM4MzM5NDI0OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ff77af0379f8dc0ee84701ca7a4d4cd7f79f95bc", "author": {"user": {"login": "btangmu", "name": "Tom Bishop"}}, "url": "https://github.com/unicode-org/cldr/commit/ff77af0379f8dc0ee84701ca7a4d4cd7f79f95bc", "committedDate": "2020-03-24T13:13:51Z", "message": "CLDR-13636 Make ExampleGenerator faster, clear cache less\n\n-New RecordingCLDRFile.java, ExampleDependencies.java, ExampleCache.java\n\n-TestExampleGeneratorDependencies: use RecordingCLDRFile, write ExampleDependencies\n\n-ExampleGenerator: use ExampleCache, ExampleCacheItem\n\n-ExampleGenerator: replace INHERITANCE_MARKER with Bailey before get cache, not after\n\n-ExampleGenerator: move some code to new subroutine constructExampleHtml\n\n-ExampleCache: use starredPath for cache key; AVOID_CLEARING_CACHE = true\n\n-Prevent some NullPointerExceptions, do not just catch and ignore them; make SHOW_ERROR true\n\n-Call notifyListeners only if the winning value changed\n\n-Call notifyListeners from voteForValue, not from setValueFromResolver\n\n-Delete unused code: WHAT_DELETE, WHAT_VERIFY, deleteValue, internalDeleteValue\n\n-Clean-up\n\n-Comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMzk0MjQ4", "url": "https://github.com/unicode-org/cldr/pull/404#pullrequestreview-383394248", "createdAt": "2020-03-29T10:15:56Z", "commit": {"oid": "ff77af0379f8dc0ee84701ca7a4d4cd7f79f95bc"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQxMDoxNTo1N1rOF9QYHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQxMDoxNjozNVrOF9QYWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTc3NTc3Mw==", "bodyText": "looks like this is unused except when newVal != null, so put under that condition.", "url": "https://github.com/unicode-org/cldr/pull/404#discussion_r399775773", "createdAt": "2020-03-29T10:15:57Z", "author": {"login": "macchiati"}, "path": "tools/cldr-apps/src/org/unicode/cldr/web/STFactory.java", "diffHunk": "@@ -1143,7 +1144,12 @@ public synchronized void voteForValue(User user, String distinguishingXpath, Str\n                 }\n             }\n \n+            String oldVal = xmlsource.getValueAtDPath(distinguishingXpath);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ff77af0379f8dc0ee84701ca7a4d4cd7f79f95bc"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTc3NTgzNQ==", "bodyText": "Is this unused? Please explain in a comment on the PR.", "url": "https://github.com/unicode-org/cldr/pull/404#discussion_r399775835", "createdAt": "2020-03-29T10:16:35Z", "author": {"login": "macchiati"}, "path": "tools/cldr-apps/src/org/unicode/cldr/web/STFactory.java", "diffHunk": "@@ -1293,84 +1304,6 @@ private void internalSetVoteForValue(User user, String distinguishingXpath, Stri\n             stamp.next();\n         }\n \n-        @Override", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ff77af0379f8dc0ee84701ca7a4d4cd7f79f95bc"}, "originalPosition": 46}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2139, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}