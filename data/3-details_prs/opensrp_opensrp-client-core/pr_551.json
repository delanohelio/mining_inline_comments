{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxMTY2MzA3", "number": 551, "title": "Support sync progress metrics", "bodyText": "Resolve #543\nDepends on #548", "createdAt": "2020-06-08T14:08:34Z", "url": "https://github.com/opensrp/opensrp-client-core/pull/551", "merged": true, "mergeCommit": {"oid": "673ca60240c7f663393d408db6ae40998914c636"}, "closed": true, "closedAt": "2020-07-17T09:06:42Z", "author": {"login": "Rkareko"}, "timelineItems": {"totalCount": 36, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcn8kURAH2gAyNDMxMTY2MzA3OjIzNDFhNTIyZmExYzE0NTAzNTM0OTYxMzVjYTA4OThlNTk0MjZjNzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1wF4SAFqTQ1MDQ5NTU0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2341a522fa1c1450353496135ca0898e59426c75", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/2341a522fa1c1450353496135ca0898e59426c75", "committedDate": "2020-06-04T11:43:06Z", "message": "Get total records to be synced count from response header"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75f8b934cf0f90fe6dab3d03a6f26a92936d5027", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/75f8b934cf0f90fe6dab3d03a6f26a92936d5027", "committedDate": "2020-06-04T17:06:35Z", "message": "Added sync progress broadcast receiver"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ecb134f78d4bf8cbe75e119575045bb53a6e24c", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/0ecb134f78d4bf8cbe75e119575045bb53a6e24c", "committedDate": "2020-06-04T17:24:11Z", "message": "Move function for sending sync progress broadcast to base class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c7173907e3436b1142ca64e70753f6d10409465", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/9c7173907e3436b1142ca64e70753f6d10409465", "committedDate": "2020-06-04T18:06:38Z", "message": "send sync progress broadcast dring plan sync"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aae920ae64f4ed978da57dfbd1d70e39fae4d45c", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/aae920ae64f4ed978da57dfbd1d70e39fae4d45c", "committedDate": "2020-06-04T18:09:15Z", "message": "Send progress broadcast during location and structure sync"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d157da76d2dbbde0b99e79b98f440cdfec747a61", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/d157da76d2dbbde0b99e79b98f440cdfec747a61", "committedDate": "2020-06-05T04:30:00Z", "message": "Added utility method for calculating percentage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e0cb8b90f625716703f094353866e3e31378795", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/4e0cb8b90f625716703f094353866e3e31378795", "committedDate": "2020-06-05T05:36:18Z", "message": "Use local broadcast manger to send broadcast"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6bf183e07170cde5fe24166290e263e6a3cc0e6f", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/6bf183e07170cde5fe24166290e263e6a3cc0e6f", "committedDate": "2020-06-05T09:05:00Z", "message": "Merge branch 'master' of github.com:OpenSRP/opensrp-client-core into support-sync-progress-metrics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87ca42c18d4133613481027da5deda36d635b9b4", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/87ca42c18d4133613481027da5deda36d635b9b4", "committedDate": "2020-06-05T10:53:49Z", "message": "Send sync progress broadcast for events"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87928ea741a190e4762756eb8990c44832784eac", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/87928ea741a190e4762756eb8990c44832784eac", "committedDate": "2020-06-10T08:25:00Z", "message": "Merge branch 'master' into support-sync-progress-metrics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60ecd8c460ca352bc5bc48ef0ace2b293082ba44", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/60ecd8c460ca352bc5bc48ef0ace2b293082ba44", "committedDate": "2020-06-12T04:35:54Z", "message": "Merge branch 'master' into support-sync-progress-metrics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5245bfbdd91d01884b1da96994ec94d586709f6", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/a5245bfbdd91d01884b1da96994ec94d586709f6", "committedDate": "2020-06-18T12:10:06Z", "message": "Merge branch 'master' into support-sync-progress-metrics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21efa9e84c28590649fd114547a5ddab2cf4c518", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/21efa9e84c28590649fd114547a5ddab2cf4c518", "committedDate": "2020-06-22T07:40:56Z", "message": "Merge branch 'master' into support-sync-progress-metrics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bca0f8337e18ed009c9b19efed34301c521a72e3", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/bca0f8337e18ed009c9b19efed34301c521a72e3", "committedDate": "2020-06-22T13:49:37Z", "message": "Merge branch 'master' into support-sync-progress-metrics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2d52c8782586c2bd8064164a77cee8a46528671", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/a2d52c8782586c2bd8064164a77cee8a46528671", "committedDate": "2020-06-24T08:14:19Z", "message": "Merge branch 'master' into support-sync-progress-metrics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c893a43b417c02ef0bf240544465e0920fd7ae5", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/7c893a43b417c02ef0bf240544465e0920fd7ae5", "committedDate": "2020-06-29T08:53:35Z", "message": "Merge master into support-sync-progress-metrics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e860d2586020fb57b597dfbf69828bcf136ad3a4", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/e860d2586020fb57b597dfbf69828bcf136ad3a4", "committedDate": "2020-06-29T09:57:31Z", "message": "Fix failing test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a84f72763a3c36bab9e6cac7752eb313533187b", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/3a84f72763a3c36bab9e6cac7752eb313533187b", "committedDate": "2020-06-29T10:42:55Z", "message": "Trigger travis"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e389c1dfb44bc5d109cb18438d4a697506844bd", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/8e389c1dfb44bc5d109cb18438d4a697506844bd", "committedDate": "2020-06-29T14:48:08Z", "message": "Merge branch 'master' into support-sync-progress-metrics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4423e3dc65749b1437859a3689a59717e47d7c2d", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/4423e3dc65749b1437859a3689a59717e47d7c2d", "committedDate": "2020-06-30T06:02:07Z", "message": "Rename sync progress constants"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b28e89dc1f1a4fee9afd9993f108a861c41a662", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/3b28e89dc1f1a4fee9afd9993f108a861c41a662", "committedDate": "2020-06-30T06:06:19Z", "message": "Merge branch 'support-sync-progress-metrics' of github.com:OpenSRP/opensrp-client-core into support-sync-progress-metrics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c63548680056765935b67d2e7ed6ca12ffc9ac6", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/7c63548680056765935b67d2e7ed6ca12ffc9ac6", "committedDate": "2020-07-07T07:20:08Z", "message": "Merge branch 'master' into support-sync-progress-metrics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "075759f7d963655070bbc1d0b5752ff952746116", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/075759f7d963655070bbc1d0b5752ff952746116", "committedDate": "2020-07-07T11:31:02Z", "message": "Merge branch 'master' into support-sync-progress-metrics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac31f2c5e3ea32e568fc821d53f065e9cae0cece", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/ac31f2c5e3ea32e568fc821d53f065e9cae0cece", "committedDate": "2020-07-07T14:11:24Z", "message": "Merge branch 'master' into support-sync-progress-metrics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cea860f346df290ecd09b54fa235b48cc61f8194", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/cea860f346df290ecd09b54fa235b48cc61f8194", "committedDate": "2020-07-07T14:40:37Z", "message": "Merge branch 'master' into support-sync-progress-metrics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37e86713b8d459c56a00429aaa8be357c5ac7410", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/37e86713b8d459c56a00429aaa8be357c5ac7410", "committedDate": "2020-07-08T06:58:09Z", "message": "Merge branch 'master' into support-sync-progress-metrics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7914577a7fb35d6a2d349c7f3d42ce4cae66d5c", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/a7914577a7fb35d6a2d349c7f3d42ce4cae66d5c", "committedDate": "2020-07-08T07:19:29Z", "message": "Update fetch tasks from server test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0ODU2ODIx", "url": "https://github.com/opensrp/opensrp-client-core/pull/551#pullrequestreview-444856821", "createdAt": "2020-07-08T15:02:19Z", "commit": {"oid": "a7914577a7fb35d6a2d349c7f3d42ce4cae66d5c"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxNTowMjoxOVrOGusWoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxNTowMjoxOVrOGusWoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTYxNDM2OA==", "bodyText": "Nice catch", "url": "https://github.com/opensrp/opensrp-client-core/pull/551#discussion_r451614368", "createdAt": "2020-07-08T15:02:19Z", "author": {"login": "ekigamba"}, "path": "opensrp-app/src/main/java/org/smartregister/util/Utils.java", "diffHunk": "@@ -888,4 +888,22 @@ private static PackageInfo getPackageInfo(@NonNull Context context) {\n         }\n     }\n \n+    public static Long tryParseLong(String value, long defaultValue) {\n+        try {\n+            return Long.parseLong(value);\n+        } catch (NumberFormatException e) {\n+            return defaultValue;\n+        }\n+    }\n+\n+    public static int calculatePercentage(long totalCount, long partialCount){\n+        if (totalCount < 1) {\n+            return 100;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a7914577a7fb35d6a2d349c7f3d42ce4cae66d5c"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31b56f0016ca21ee46469e037130aa025036b0fb", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/31b56f0016ca21ee46469e037130aa025036b0fb", "committedDate": "2020-07-13T08:28:12Z", "message": "Remove unused import"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53bf5e15f46157f13de8569781ce6c5fe155ae6c", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/53bf5e15f46157f13de8569781ce6c5fe155ae6c", "committedDate": "2020-07-16T16:04:44Z", "message": "Merge branch 'master' into support-sync-progress-metrics"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b0630ade196e402887132b1c0b9454c6d961227", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/4b0630ade196e402887132b1c0b9454c6d961227", "committedDate": "2020-07-16T16:24:29Z", "message": "Bump up version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7c5856199c05f43d7aa1953b61a6a9bfee06fb3", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/b7c5856199c05f43d7aa1953b61a6a9bfee06fb3", "committedDate": "2020-07-16T16:55:23Z", "message": "Refactor fetchRetry function to reduce n-path complexity"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db440a1a37f979aaaf2fb8546b6d86fa397a624f", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/db440a1a37f979aaaf2fb8546b6d86fa397a624f", "committedDate": "2020-07-17T07:30:59Z", "message": "Added plan intent service helper unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1118637e71cd49194c713373e74a661549ff9b7d", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/1118637e71cd49194c713373e74a661549ff9b7d", "committedDate": "2020-07-17T07:37:18Z", "message": "Use explicit scoping for variables"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66535356bd26fea86502fedad1318b9ce9b63ae0", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/66535356bd26fea86502fedad1318b9ce9b63ae0", "committedDate": "2020-07-17T08:07:31Z", "message": "Move logic for getting base url to own method"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNDk1NTQ2", "url": "https://github.com/opensrp/opensrp-client-core/pull/551#pullrequestreview-450495546", "createdAt": "2020-07-17T09:05:56Z", "commit": {"oid": "66535356bd26fea86502fedad1318b9ce9b63ae0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2593, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}