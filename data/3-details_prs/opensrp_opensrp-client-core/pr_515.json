{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1ODg5OTky", "number": 515, "title": "Issue283", "bodyText": "Switch to Account Manager for client authentication Issue283\n\n\nSupport OAuth2 Authentication on client side Issue 452\n\n\nMultimedia download and upload Use Bearer Authentication Issue 519\n\n\nEncrypt with a salt the password (Password Hash only) Issue 354\n\n\nSupport migration of Encryption keys for device database #605", "createdAt": "2020-05-11T06:11:20Z", "url": "https://github.com/opensrp/opensrp-client-core/pull/515", "merged": true, "mergeCommit": {"oid": "ae8f7bafd2ddf667495f22b63bb9cda122fa436d"}, "closed": true, "closedAt": "2020-09-01T09:08:44Z", "author": {"login": "ndegwamartin"}, "timelineItems": {"totalCount": 116, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCSXjVAH2gAyNDE1ODg5OTkyOmY4ODcyNjY1ZDdiNDdjZTBjZGZmM2UyOWQxM2UwZWE2YWI0MjE5NTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdEjrepAFqTQ3OTU0Mjg2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f8872665d7b47ce0cdff3e29d13e0ea6ab421953", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/f8872665d7b47ce0cdff3e29d13e0ea6ab421953", "committedDate": "2020-08-25T07:49:06Z", "message": "Merge branch 'master' into issue283"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9a75b443aeddb39c339da582e1b52c3611a91625", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/9a75b443aeddb39c339da582e1b52c3611a91625", "committedDate": "2020-08-25T12:44:54Z", "message": "Fix failing unit tests :check_mark:"}, "afterCommit": {"oid": "fd2e9847fb55f23b0d5c59058d3b79b9616d8b92", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/fd2e9847fb55f23b0d5c59058d3b79b9616d8b92", "committedDate": "2020-08-25T14:40:42Z", "message": "Fix failing unit tests :check_mark:\nCode clean up"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fd2e9847fb55f23b0d5c59058d3b79b9616d8b92", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/fd2e9847fb55f23b0d5c59058d3b79b9616d8b92", "committedDate": "2020-08-25T14:40:42Z", "message": "Fix failing unit tests :check_mark:\nCode clean up"}, "afterCommit": {"oid": "791f186beb222e9eba52e564103dfc016460b5d4", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/791f186beb222e9eba52e564103dfc016460b5d4", "committedDate": "2020-08-25T14:45:45Z", "message": "Fix failing unit tests :check_mark:\nCode clean up"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "791f186beb222e9eba52e564103dfc016460b5d4", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/791f186beb222e9eba52e564103dfc016460b5d4", "committedDate": "2020-08-25T14:45:45Z", "message": "Fix failing unit tests :check_mark:\nCode clean up"}, "afterCommit": {"oid": "69a534f7f62d218878b95624e5dd1e259db3fd72", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/69a534f7f62d218878b95624e5dd1e259db3fd72", "committedDate": "2020-08-25T14:46:44Z", "message": "Fix failing unit tests :white_check_mark:\nCode clean up"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "69a534f7f62d218878b95624e5dd1e259db3fd72", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/69a534f7f62d218878b95624e5dd1e259db3fd72", "committedDate": "2020-08-25T14:46:44Z", "message": "Fix failing unit tests :white_check_mark:\nCode clean up"}, "afterCommit": {"oid": "b306ed9ee8ab385f37298f1afb8b0b69ea6a3217", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/b306ed9ee8ab385f37298f1afb8b0b69ea6a3217", "committedDate": "2020-08-25T15:42:31Z", "message": "Fix failing unit tests :white_check_mark:\nCode clean up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "695e2ee0d1f930c895b64b55f30ac40341141440", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/695e2ee0d1f930c895b64b55f30ac40341141440", "committedDate": "2020-08-25T16:16:27Z", "message": "Fix failing unit tests :white_check_mark:\nCode clean up"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b306ed9ee8ab385f37298f1afb8b0b69ea6a3217", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/b306ed9ee8ab385f37298f1afb8b0b69ea6a3217", "committedDate": "2020-08-25T15:42:31Z", "message": "Fix failing unit tests :white_check_mark:\nCode clean up"}, "afterCommit": {"oid": "695e2ee0d1f930c895b64b55f30ac40341141440", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/695e2ee0d1f930c895b64b55f30ac40341141440", "committedDate": "2020-08-25T16:16:27Z", "message": "Fix failing unit tests :white_check_mark:\nCode clean up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "064a5f52c9bf9614a330c163ebecaeda75412128", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/064a5f52c9bf9614a330c163ebecaeda75412128", "committedDate": "2020-08-26T15:52:29Z", "message": "Fix bug :bug:\n- Error After Cancelling Log in by user from a Different Team"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1933811f87f3c793eefc75f6e2d89628c1b2f1c7", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/1933811f87f3c793eefc75f6e2d89628c1b2f1c7", "committedDate": "2020-08-27T09:45:35Z", "message": "Fix bug :bug:\n- Login fails for different team provider login on the first time\n- Incorrect provider info shown on different team p authentication dialog\n- Fix failing tests :white_check_mark:"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35be648327500eab45bf68d7f3a39e56235aac82", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/35be648327500eab45bf68d7f3a39e56235aac82", "committedDate": "2020-08-27T15:05:16Z", "message": "Fix tests + build :white_check_mark: :green_heart:"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bffe1fe066d7a2266a03563010d9705b533ac43b", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/bffe1fe066d7a2266a03563010d9705b533ac43b", "committedDate": "2020-08-27T14:54:43Z", "message": "Fix tests + build :white_check_mark: :green_heart:"}, "afterCommit": {"oid": "35be648327500eab45bf68d7f3a39e56235aac82", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/35be648327500eab45bf68d7f3a39e56235aac82", "committedDate": "2020-08-27T15:05:16Z", "message": "Fix tests + build :white_check_mark: :green_heart:"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c15dedf9f3d4c97d287c2b8b32bcae10a5125c23", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/c15dedf9f3d4c97d287c2b8b32bcae10a5125c23", "committedDate": "2020-08-31T13:41:12Z", "message": "Merge branch 'master' into issue283"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5NDM5OTYx", "url": "https://github.com/opensrp/opensrp-client-core/pull/515#pullrequestreview-479439961", "createdAt": "2020-09-01T06:40:13Z", "commit": {"oid": "c15dedf9f3d4c97d287c2b8b32bcae10a5125c23"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQwNjo0MDoxM1rOHKmluQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQwNjo0MDoxM1rOHKmluQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDg4MDA1Nw==", "bodyText": "Add the params documentation that were provided before", "url": "https://github.com/opensrp/opensrp-client-core/pull/515#discussion_r480880057", "createdAt": "2020-09-01T06:40:13Z", "author": {"login": "githengi"}, "path": "opensrp-app/src/main/java/org/smartregister/service/HTTPAgent.java", "diffHunk": "@@ -78,107 +98,154 @@\n \n     private int connectTimeout = 60000;\n     private int readTimeout = 60000;\n+    private Gson gson;\n \n-    public HTTPAgent(Context context, AllSettings settings, AllSharedPreferences\n+    private static final String DETAILS_URL = \"/user-details?anm-id=\";\n+\n+\n+    public HTTPAgent(Context context, AllSharedPreferences\n             allSharedPreferences, DristhiConfiguration configuration) {\n         this.context = context;\n-        this.settings = settings;\n         this.allSharedPreferences = allSharedPreferences;\n         this.configuration = configuration;\n-        gzipCompression= new GZIPCompression();\n+        gson = new Gson();\n+        gzipCompression = new GZIPCompression();\n     }\n \n     /**\n-     * @author  Rodgers Andati\n-     * @since   2019-04-25\n      * This method initializes httpurlconnection\n-     * @param requestURLPath This is the url to be open http connection to.\n-     * @param useBasicAuth This is whether to set up basic authentication or not.\n-     * @return HttpURLConnection This returns the http connection to opensrp server.\n      */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c15dedf9f3d4c97d287c2b8b32bcae10a5125c23"}, "originalPosition": 97}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5df6c4cdc0088428f37fb18ac68db3554d479f7", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/f5df6c4cdc0088428f37fb18ac68db3554d479f7", "committedDate": "2020-09-01T08:33:02Z", "message": "Update java docs :pencil:\n- Update java docs for HTTPAgent.initializeHttp"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bab97eaa14e4c58a1d97cb800a06c0631a33a89f", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/bab97eaa14e4c58a1d97cb800a06c0631a33a89f", "committedDate": "2020-09-01T07:53:12Z", "message": "Update java docs :pencil:\n- Update java docs for HTTPAgent.initializeHttp"}, "afterCommit": {"oid": "f5df6c4cdc0088428f37fb18ac68db3554d479f7", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/f5df6c4cdc0088428f37fb18ac68db3554d479f7", "committedDate": "2020-09-01T08:33:02Z", "message": "Update java docs :pencil:\n- Update java docs for HTTPAgent.initializeHttp"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5NTQyODYy", "url": "https://github.com/opensrp/opensrp-client-core/pull/515#pullrequestreview-479542862", "createdAt": "2020-09-01T09:07:06Z", "commit": {"oid": "f5df6c4cdc0088428f37fb18ac68db3554d479f7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cde6c47a5c7b918394bbcb216c7f933b4b3b8cb5", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/cde6c47a5c7b918394bbcb216c7f933b4b3b8cb5", "committedDate": "2020-05-11T06:10:32Z", "message": "autoload for xml config"}, "afterCommit": {"oid": "fb93c3550569c08d6ef2759984a57eedbbee80fb", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/fb93c3550569c08d6ef2759984a57eedbbee80fb", "committedDate": "2020-05-11T06:12:31Z", "message": "autoload for xml config"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fb93c3550569c08d6ef2759984a57eedbbee80fb", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/fb93c3550569c08d6ef2759984a57eedbbee80fb", "committedDate": "2020-05-11T06:12:31Z", "message": "autoload for xml config"}, "afterCommit": {"oid": "0336e7054a3d73059a25233988b38f4993f3397f", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/0336e7054a3d73059a25233988b38f4993f3397f", "committedDate": "2020-05-11T08:56:19Z", "message": "Refactor HTTPAgent\nFix failing unit tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6095a96d4bdbad7cf9ab775772130b95b5ca2dd7", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/6095a96d4bdbad7cf9ab775772130b95b5ca2dd7", "committedDate": "2020-05-26T06:47:16Z", "message": "Refactor retry mechanism"}, "afterCommit": {"oid": "d695a9a18ff96ea50d33190af138c7f8f5361ea5", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/d695a9a18ff96ea50d33190af138c7f8f5361ea5", "committedDate": "2020-05-26T06:49:16Z", "message": "Refactor retry mechanism"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bcb902fdde95509e1d195779edb575f7040e8606", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/bcb902fdde95509e1d195779edb575f7040e8606", "committedDate": "2020-05-26T14:14:55Z", "message": "Refactor refresh token and verify login logic"}, "afterCommit": {"oid": "b813ab6b4ea83937fbc78a341f8aae46fea77475", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/b813ab6b4ea83937fbc78a341f8aae46fea77475", "committedDate": "2020-05-29T06:54:03Z", "message": "Fix profile image loading\nAdd add http request header param enums"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0685d798612549e2ad64777e9f076124d52b6d93", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/0685d798612549e2ad64777e9f076124d52b6d93", "committedDate": "2020-06-02T05:56:17Z", "message": "Optimization, Refactor and unit testing\n- Optimize upstream data processing for file uploads\n- Refactor for maintainability\n- Unit testing"}, "afterCommit": {"oid": "d4f2b6112cf46d433d52cc2957c3a1e3a470e6e3", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/d4f2b6112cf46d433d52cc2957c3a1e3a470e6e3", "committedDate": "2020-06-02T06:36:44Z", "message": "Optimization, Refactor and unit testing\n- Optimize upstream data processing for file uploads\n- Refactor for maintainability\n- Unit testing"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8c3ac5ae1719f79e0231cb7a16dd8dd73f126568", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/8c3ac5ae1719f79e0231cb7a16dd8dd73f126568", "committedDate": "2020-06-02T07:37:28Z", "message": "Account Helper Unit test"}, "afterCommit": {"oid": "9ce6e735099f2b80bee533419c84bafa93f74a74", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/9ce6e735099f2b80bee533419c84bafa93f74a74", "committedDate": "2020-06-02T11:11:08Z", "message": "Account Helper Unit test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b59b3d82bc4e845822a9d33c55ddd8b1f40f3a17", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/b59b3d82bc4e845822a9d33c55ddd8b1f40f3a17", "committedDate": "2020-06-03T12:32:53Z", "message": "Merge pull request #544 from OpenSRP/ndegwa-tt-06\n\nNdegwa tt 06"}, "afterCommit": {"oid": "b3466e5d42e4358b74fc3b236ab2d0fe877d79fc", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/b3466e5d42e4358b74fc3b236ab2d0fe877d79fc", "committedDate": "2020-06-03T12:41:52Z", "message": "Refactor to remove duplicate code : DRY"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b3466e5d42e4358b74fc3b236ab2d0fe877d79fc", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/b3466e5d42e4358b74fc3b236ab2d0fe877d79fc", "committedDate": "2020-06-03T12:41:52Z", "message": "Refactor to remove duplicate code : DRY"}, "afterCommit": {"oid": "399f53a22347ccd0c1ab8d6cc4b4d84eb4504122", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/399f53a22347ccd0c1ab8d6cc4b4d84eb4504122", "committedDate": "2020-06-08T19:37:29Z", "message": "Refactor client core : Remove password type String\n- Remove type String for password processing to mitigates against the heap dump attack vector exposed by Java String type\n- Fix unit tests\n\nSigned-off-by: Martin Ndegwa <ndegwamartin@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7d242c438b8a54d34059694f805befe3651069ff", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/7d242c438b8a54d34059694f805befe3651069ff", "committedDate": "2020-06-09T07:46:42Z", "message": "Fix unit test"}, "afterCommit": {"oid": "ce6f91b632b126cecc98a777e2d5312245abec87", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/ce6f91b632b126cecc98a777e2d5312245abec87", "committedDate": "2020-06-12T06:09:29Z", "message": "Update Arabic and French translations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "326ae5df4bcfdf39ecb71cb51adf351d822f7e10", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/326ae5df4bcfdf39ecb71cb51adf351d822f7e10", "committedDate": "2020-06-15T11:47:43Z", "message": "Refactor local login\n- Refactor local login to run in backgroud\n- Fixes UI freeze during offline Authentication"}, "afterCommit": {"oid": "00a38a30dde28ee9ab6f6aec5900fba8c9b53c09", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/00a38a30dde28ee9ab6f6aec5900fba8c9b53c09", "committedDate": "2020-06-15T12:26:10Z", "message": "Support for local Multi-tenancy\n- Refactor offline multi tenancy implementation for same Team Members\n- Adds support for No need to remotely authenticate if all team members had logged in device previously"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "353524af32a174d0570871688f97504e8fa6f305", "author": {"user": {"login": "qiarie", "name": "Simon Kiarie"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/353524af32a174d0570871688f97504e8fa6f305", "committedDate": "2020-07-03T09:56:52Z", "message": "Merge pull request #587 from OpenSRP/issue577\n\nAdd support for key-value pairs for start JSON form"}, "afterCommit": {"oid": "afa552cabf40cccca0808cc2b5f2013c6050a97f", "author": {"user": {"login": "qiarie", "name": "Simon Kiarie"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/afa552cabf40cccca0808cc2b5f2013c6050a97f", "committedDate": "2020-07-03T10:58:16Z", "message": "Add unit tests for\n- getAllowedLevels\n- getDefaultLocationLevel\n- getOpenMrsLocationHierarchy"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "afa552cabf40cccca0808cc2b5f2013c6050a97f", "author": {"user": {"login": "qiarie", "name": "Simon Kiarie"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/afa552cabf40cccca0808cc2b5f2013c6050a97f", "committedDate": "2020-07-03T10:58:16Z", "message": "Add unit tests for\n- getAllowedLevels\n- getDefaultLocationLevel\n- getOpenMrsLocationHierarchy"}, "afterCommit": {"oid": "c03a62dd8328766d106b7c966112f93bfc8a7e4f", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/c03a62dd8328766d106b7c966112f93bfc8a7e4f", "committedDate": "2020-07-07T07:52:37Z", "message": "Clean up"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c03a62dd8328766d106b7c966112f93bfc8a7e4f", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/c03a62dd8328766d106b7c966112f93bfc8a7e4f", "committedDate": "2020-07-07T07:52:37Z", "message": "Clean up"}, "afterCommit": {"oid": "6ba95b32067d677b3a997857a2096bebd96c4105", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/6ba95b32067d677b3a997857a2096bebd96c4105", "committedDate": "2020-07-07T09:10:58Z", "message": "Clean up"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6ba95b32067d677b3a997857a2096bebd96c4105", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/6ba95b32067d677b3a997857a2096bebd96c4105", "committedDate": "2020-07-07T09:10:58Z", "message": "Clean up"}, "afterCommit": {"oid": "a6c4c6839f0e090d72021d74b7b271d17fb1a5ef", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/a6c4c6839f0e090d72021d74b7b271d17fb1a5ef", "committedDate": "2020-07-07T09:27:28Z", "message": "Fix failing build\n- Fix failing tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a6c4c6839f0e090d72021d74b7b271d17fb1a5ef", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/a6c4c6839f0e090d72021d74b7b271d17fb1a5ef", "committedDate": "2020-07-07T09:27:28Z", "message": "Fix failing build\n- Fix failing tests"}, "afterCommit": {"oid": "e9d776810a1d11c4f36272089cdb854110488ad6", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/e9d776810a1d11c4f36272089cdb854110488ad6", "committedDate": "2020-07-07T14:24:23Z", "message": "Fix failing build\n- Fix unit tests\n- Downgrade travis config to Android API 27"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e9d776810a1d11c4f36272089cdb854110488ad6", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/e9d776810a1d11c4f36272089cdb854110488ad6", "committedDate": "2020-07-07T14:24:23Z", "message": "Fix failing build\n- Fix unit tests\n- Downgrade travis config to Android API 27"}, "afterCommit": {"oid": "844065f13cb9b62ab3c145662ca7ee9f7d045af1", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/844065f13cb9b62ab3c145662ca7ee9f7d045af1", "committedDate": "2020-07-07T14:30:38Z", "message": "Fix failing build\n- Fix unit tests\n- Downgrade travis config to Android API 27"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "844065f13cb9b62ab3c145662ca7ee9f7d045af1", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/844065f13cb9b62ab3c145662ca7ee9f7d045af1", "committedDate": "2020-07-07T14:30:38Z", "message": "Fix failing build\n- Fix unit tests\n- Downgrade travis config to Android API 27"}, "afterCommit": {"oid": "0a9617512e14de9013978d4819e802860fda12fd", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/0a9617512e14de9013978d4819e802860fda12fd", "committedDate": "2020-07-07T14:31:44Z", "message": "Fix failing build\n- Fix unit tests\n- Downgrade travis config to Android API 27"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5MDU0OTkw", "url": "https://github.com/opensrp/opensrp-client-core/pull/515#pullrequestreview-449054990", "createdAt": "2020-07-15T15:08:10Z", "commit": {"oid": "0a9617512e14de9013978d4819e802860fda12fd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNTowODoxMFrOGyCuMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNTowODoxMFrOGyCuMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTEyNjU3OQ==", "bodyText": "Is this a refresh token, can the the variable name be changed if so", "url": "https://github.com/opensrp/opensrp-client-core/pull/515#discussion_r455126579", "createdAt": "2020-07-15T15:08:10Z", "author": {"login": "githengi"}, "path": "opensrp-app/src/main/java/org/smartregister/account/AccountAuthenticator.java", "diffHunk": "@@ -0,0 +1,129 @@\n+package org.smartregister.account;\n+\n+import android.accounts.AbstractAccountAuthenticator;\n+import android.accounts.Account;\n+import android.accounts.AccountAuthenticatorResponse;\n+import android.accounts.AccountManager;\n+import android.accounts.NetworkErrorException;\n+import android.content.Context;\n+import android.content.Intent;\n+import android.os.Bundle;\n+import android.text.TextUtils;\n+\n+import org.apache.http.HttpStatus;\n+import org.smartregister.CoreLibrary;\n+\n+import timber.log.Timber;\n+\n+/**\n+ * Created by ndegwamartin on 2020-04-27.\n+ */\n+public class AccountAuthenticator extends AbstractAccountAuthenticator {\n+\n+    private final Context mContext;\n+\n+    public AccountAuthenticator(Context context) {\n+        super(context);\n+\n+        this.mContext = context;\n+    }\n+\n+    @Override\n+    public Bundle addAccount(AccountAuthenticatorResponse response, String accountType, String authTokenType, String[] requiredFeatures, Bundle options) throws NetworkErrorException {\n+\n+        final Intent intent = new Intent(mContext, CoreLibrary.getInstance().getSyncConfiguration().getAuthenticationActivity());\n+        intent.putExtra(AccountHelper.INTENT_KEY.ACCOUNT_TYPE, accountType);\n+        intent.putExtra(AccountHelper.INTENT_KEY.AUTH_TYPE, authTokenType);\n+        intent.putExtra(AccountHelper.INTENT_KEY.IS_NEW_ACCOUNT, true);\n+        intent.putExtra(AccountManager.KEY_ACCOUNT_AUTHENTICATOR_RESPONSE, response);\n+\n+        final Bundle bundle = new Bundle();\n+        bundle.putParcelable(AccountManager.KEY_INTENT, intent);\n+        return bundle;\n+    }\n+\n+    @Override\n+    public Bundle getAuthToken(AccountAuthenticatorResponse response, Account account, String authTokenType, Bundle options) throws NetworkErrorException {\n+\n+        Timber.d(\"getAuthToken\");\n+\n+        AccountManager accountManager = CoreLibrary.getInstance().getAccountManager();\n+\n+        String authToken = accountManager.peekAuthToken(account, authTokenType);\n+        String refreshToken = \"\";\n+        Timber.d(\"peekAuthToken \" + authToken);\n+\n+        if (TextUtils.isEmpty(authToken)) {\n+            final String password = accountManager.getPassword(account);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0a9617512e14de9013978d4819e802860fda12fd"}, "originalPosition": 57}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5MDYxOTcx", "url": "https://github.com/opensrp/opensrp-client-core/pull/515#pullrequestreview-449061971", "createdAt": "2020-07-15T15:16:04Z", "commit": {"oid": "0a9617512e14de9013978d4819e802860fda12fd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNToxNjowNFrOGyDCyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNToxNjowNFrOGyDCyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTEzMTg1MA==", "bodyText": "Can we change and pass a static error, e.g Error failed during server login instead of the actual message", "url": "https://github.com/opensrp/opensrp-client-core/pull/515#discussion_r455131850", "createdAt": "2020-07-15T15:16:04Z", "author": {"login": "githengi"}, "path": "opensrp-app/src/main/java/org/smartregister/login/task/RemoteLoginTask.java", "diffHunk": "@@ -43,37 +59,98 @@ protected void onPreExecute() {\n \n     @Override\n     protected LoginResponse doInBackground(Void... params) {\n-        LoginResponse loginResponse = getOpenSRPContext().userService().isValidRemoteLogin(mUsername, mPassword);\n-        if (loginResponse != null && loginResponse.equals(LoginResponse.SUCCESS) && getOpenSRPContext().userService().getGroupId(mUsername) != null && CoreLibrary.getInstance().getSyncConfiguration().isSyncSettings()) {\n \n+        LoginResponse loginResponse;\n+        try {\n+\n+            AccountConfiguration accountConfiguration = CoreLibrary.getInstance().context().getHttpAgent().fetchOAuthConfiguration();\n+\n+            boolean isKeycloakConfigured = accountConfiguration != null;\n+\n+            if (!isKeycloakConfigured) {\n+                accountConfiguration = new AccountConfiguration();\n+                accountConfiguration.setGrantTypesSupported(Arrays.asList(AccountHelper.OAUTH.GRANT_TYPE.PASSWORD));\n+                accountConfiguration.setTokenEndpoint(CoreLibrary.getInstance().context().configuration().dristhiBaseURL() + AccountHelper.OAUTH.TOKEN_ENDPOINT);\n+                accountConfiguration.setAuthorizationEndpoint(\"\");\n+                accountConfiguration.setIssuerEndpoint(\"\");\n+            }\n+\n+            if (accountConfiguration != null) {\n+\n+                if (!accountConfiguration.getGrantTypesSupported().contains(AccountHelper.OAUTH.GRANT_TYPE.PASSWORD))\n+                    throw new AccountsException(\"OAuth configuration DOES NOT support the Password Grant Type\");\n+\n+                //Persist config resources\n+                SharedPreferences.Editor sharedPrefEditor = CoreLibrary.getInstance().context().allSharedPreferences().getPreferences().edit();\n+\n+                sharedPrefEditor.putString(AccountHelper.CONFIGURATION_CONSTANTS.TOKEN_ENDPOINT_URL, accountConfiguration.getTokenEndpoint());\n+                sharedPrefEditor.putString(AccountHelper.CONFIGURATION_CONSTANTS.AUTHORIZATION_ENDPOINT_URL, accountConfiguration.getAuthorizationEndpoint());\n+                sharedPrefEditor.putString(AccountHelper.CONFIGURATION_CONSTANTS.ISSUER_ENDPOINT_URL, accountConfiguration.getIssuerEndpoint());\n+                sharedPrefEditor.putString(AccountHelper.CONFIGURATION_CONSTANTS.USERINFO_ENDPOINT_URL, accountConfiguration.getUserinfoEndpoint());\n+                sharedPrefEditor.apply();\n+\n+                AccountResponse response = CoreLibrary.getInstance().context().getHttpAgent().oauth2authenticate(mUsername, mPassword, AccountHelper.OAUTH.GRANT_TYPE.PASSWORD, accountConfiguration.getTokenEndpoint());\n+\n+                AccountManager mAccountManager = CoreLibrary.getInstance().getAccountManager();\n+\n+                final Account account = new Account(mUsername, mAccountAuthenticatorXml.getAccountType());\n \n-            publishProgress(R.string.loading_client_settings);\n+                loginResponse = getOpenSRPContext().userService().fetchUserDetails(response.getAccessToken());\n \n-            SyncSettingsServiceHelper syncSettingsServiceHelper = new SyncSettingsServiceHelper(getOpenSRPContext().configuration().dristhiBaseURL(), getOpenSRPContext().getHttpAgent());\n-            syncSettingsServiceHelper.setUsername(mUsername);\n-            syncSettingsServiceHelper.setPassword(mPassword);\n+                if (loginResponse != null && loginResponse.equals(LoginResponse.SUCCESS)) {\n \n-            try {\n-                JSONArray settings = syncSettingsServiceHelper.pullSettingsFromServer(Utils.getFilterValue(loginResponse, CoreLibrary.getInstance().getSyncConfiguration().getSyncFilterParam()));\n+                    Bundle userData = getOpenSRPContext().userService().saveUserGroup(mUsername, mPassword, loginResponse.payload());\n \n-                JSONObject data = new JSONObject();\n-                data.put(AllConstants.PREF_KEY.SETTINGS, settings);\n-                loginResponse.setRawData(data);\n+                    mAccountManager.addAccountExplicitly(account, response.getRefreshToken(), userData);\n+                    mAccountManager.setAuthToken(account, mLoginView.getAuthTokenType(), response.getAccessToken());\n+                    mAccountManager.setPassword(account, response.getRefreshToken());\n+                    mAccountManager.setUserData(account, AccountHelper.INTENT_KEY.ACCOUNT_GROUP_ID, userData.getString(AccountHelper.INTENT_KEY.ACCOUNT_GROUP_ID));\n+                    mAccountManager.setUserData(account, AccountHelper.INTENT_KEY.ACCOUNT_NAME, userData.getString(AccountHelper.INTENT_KEY.ACCOUNT_NAME));\n+                    mAccountManager.setUserData(account, AccountHelper.INTENT_KEY.ACCOUNT_PASSWORD, userData.getString(AccountHelper.INTENT_KEY.ACCOUNT_PASSWORD));\n+                    mAccountManager.setUserData(account, AccountHelper.INTENT_KEY.ACCOUNT_PASSWORD_SALT, userData.getString(AccountHelper.INTENT_KEY.ACCOUNT_PASSWORD_SALT));\n \n-            } catch (JSONException e) {\n-                Timber.e(e);\n+                    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {\n+                        mAccountManager.notifyAccountAuthenticated(account);\n+                    }\n+\n+                    if (getOpenSRPContext().userService().getGroupId(mUsername) != null && CoreLibrary.getInstance().getSyncConfiguration().isSyncSettings()) {\n+\n+\n+                        publishProgress(R.string.loading_client_settings);\n+\n+                        SyncSettingsServiceHelper syncSettingsServiceHelper = new SyncSettingsServiceHelper(getOpenSRPContext().configuration().dristhiBaseURL(), getOpenSRPContext().getHttpAgent());\n+\n+                        try {\n+                            JSONArray settings = syncSettingsServiceHelper.pullSettingsFromServer(Utils.getFilterValue(loginResponse, CoreLibrary.getInstance().getSyncConfiguration().getSyncFilterParam()), response.getAccessToken());\n+\n+                            JSONObject prefSettingsData = new JSONObject();\n+                            prefSettingsData.put(AllConstants.PREF_KEY.SETTINGS, settings);\n+                            loginResponse.setRawData(prefSettingsData);\n+\n+                        } catch (JSONException e) {\n+                            Timber.e(e);\n+                        }\n+\n+                    }\n+                }\n+\n+            } else {\n+                throw new AccountsException(\"Could not fetch OAuth Configuration\");\n             }\n \n+        } catch (Exception e) {\n+\n+            loginResponse = CUSTOM_SERVER_RESPONSE.withMessage(e.getMessage());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0a9617512e14de9013978d4819e802860fda12fd"}, "originalPosition": 153}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5MDYzOTY3", "url": "https://github.com/opensrp/opensrp-client-core/pull/515#pullrequestreview-449063967", "createdAt": "2020-07-15T15:18:24Z", "commit": {"oid": "0a9617512e14de9013978d4819e802860fda12fd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNToxODoyNFrOGyDJgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNToxODoyNFrOGyDJgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTEzMzU3MA==", "bodyText": "We shouldn't be storing password now not sure where this is used", "url": "https://github.com/opensrp/opensrp-client-core/pull/515#discussion_r455133570", "createdAt": "2020-07-15T15:18:24Z", "author": {"login": "githengi"}, "path": "opensrp-app/src/main/java/org/smartregister/security/PasswordHash.java", "diffHunk": "@@ -0,0 +1,23 @@\n+package org.smartregister.security;\n+\n+/**\n+ * Created by ndegwamartin on 13/06/2020.\n+ */\n+public class PasswordHash {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0a9617512e14de9013978d4819e802860fda12fd"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5MDY0NjM5", "url": "https://github.com/opensrp/opensrp-client-core/pull/515#pullrequestreview-449064639", "createdAt": "2020-07-15T15:19:08Z", "commit": {"oid": "0a9617512e14de9013978d4819e802860fda12fd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNToxOTowOFrOGyDLsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNToxOTowOFrOGyDLsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTEzNDEyOQ==", "bodyText": "We shouldn't be saving the passwords now, so not sure we need these methods", "url": "https://github.com/opensrp/opensrp-client-core/pull/515#discussion_r455134129", "createdAt": "2020-07-15T15:19:08Z", "author": {"login": "githengi"}, "path": "opensrp-app/src/main/java/org/smartregister/security/SecurityHelper.java", "diffHunk": "@@ -0,0 +1,173 @@\n+package org.smartregister.security;\n+\n+import android.os.Build;\n+import android.text.Editable;\n+import android.util.Base64;\n+\n+import org.apache.commons.codec.CharEncoding;\n+import org.apache.commons.lang3.StringUtils;\n+\n+import java.nio.ByteBuffer;\n+import java.nio.CharBuffer;\n+import java.nio.charset.CharacterCodingException;\n+import java.nio.charset.Charset;\n+import java.nio.charset.CharsetEncoder;\n+import java.security.NoSuchAlgorithmException;\n+import java.security.SecureRandom;\n+import java.security.spec.InvalidKeySpecException;\n+import java.security.spec.KeySpec;\n+import java.util.Arrays;\n+\n+import javax.crypto.SecretKeyFactory;\n+import javax.crypto.spec.PBEKeySpec;\n+\n+/**\n+ * Created by ndegwamartin on 04/06/2020.\n+ */\n+public class SecurityHelper {\n+\n+    private static final Charset CHARSET = Charset.forName(CharEncoding.UTF_8);\n+    public static final int ITERATION_COUNT = 200048;\n+\n+    /**\n+     * This method ensures that sensitive info can be collected for the edit text in a safer way\n+     */\n+    public static char[] readValue(Editable editable) {\n+\n+        char[] chars = new char[editable.length()];\n+        editable.getChars(0, editable.length(), chars, 0);\n+\n+        editable.clear();\n+\n+        return chars;\n+    }\n+\n+    /**\n+     * This method allows us to overwrite byte array data\n+     *\n+     * @param array character array\n+     */\n+    public static void clearArray(byte[] array) {\n+        if (array != null) {\n+            Arrays.fill(array, (byte) 0);\n+        }\n+    }\n+\n+    /**\n+     * This method allows us to overwrite byte array data thus removing original values from memory\n+     *\n+     * @param array character array\n+     */\n+    public static void clearArray(char[] array) {\n+        if (array != null) {\n+            Arrays.fill(array, '*');\n+        }\n+    }\n+\n+    /**\n+     * This method converts characters in the string buffer to byte array without creating a String object\n+     *\n+     * @param stringBuffer\n+     * @return an array of bytes , a conversion from the string buffer\n+     */\n+\n+    public static byte[] toBytes(StringBuffer stringBuffer) throws CharacterCodingException {\n+\n+        CharsetEncoder encoder = CHARSET.newEncoder();\n+\n+        CharBuffer buffer = CharBuffer.wrap(stringBuffer);\n+\n+        ByteBuffer bytesBuffer = encoder.encode(buffer);\n+\n+        byte[] bytes = bytesBuffer.array();\n+\n+        clearArray(bytesBuffer.array());\n+\n+        clearStringBuffer(stringBuffer);\n+\n+        return bytes;\n+    }\n+\n+    private static void clearStringBuffer(StringBuffer stringBuffer) {\n+        stringBuffer.setLength(0);\n+        stringBuffer.append(\"*\");\n+    }\n+\n+    /**\n+     * This method converts characters in the char array buffer to a byte array\n+     *\n+     * @param chars array\n+     * @return an array of bytes, a conversion from the chars array\n+     */\n+    public static byte[] toBytes(char[] chars) {\n+        CharBuffer charBuffer = CharBuffer.wrap(chars);\n+\n+        ByteBuffer byteBuffer = CHARSET.encode(charBuffer);\n+\n+        byte[] bytes = Arrays.copyOfRange(byteBuffer.array(), byteBuffer.position(), byteBuffer.limit());\n+\n+        clearArray(byteBuffer.array());\n+\n+        return bytes;\n+\n+    }\n+\n+    /**\n+     * This method converts characters in the byte array buffer to a char array\n+     *\n+     * @param bytes array\n+     * @return an array of chars, a conversion from the bytes array\n+     */\n+    public static char[] toChars(byte[] bytes) {\n+\n+        char[] convertedChar = new char[bytes.length];\n+        for (int i = 0; i < bytes.length; i++) {\n+            convertedChar[i] = (char) bytes[i];\n+        }\n+\n+        return convertedChar;\n+    }\n+\n+    /**\n+     * @param password password to hash\n+     * @return Password Hash object containing the bytes of the salt and the hashed password\n+     * @throws NoSuchAlgorithmException when the Android API level doesn't support the specified Algorithm\n+     * @throws InvalidKeySpecException  when the Key used for generation has an invalid configuration\n+     */\n+    public static PasswordHash getPasswordHash(char[] password) throws NoSuchAlgorithmException, InvalidKeySpecException {\n+\n+        byte[] salt = new byte[128];\n+\n+        SecureRandom secureRandom = new SecureRandom();\n+        secureRandom.nextBytes(salt);\n+\n+        return new PasswordHash(salt, hashPassword(password, salt));\n+    }\n+\n+    /**\n+     * @param password password to hash\n+     * @return byte array of the bytes of the salt and the hashed password\n+     */\n+    public static byte[] hashPassword(char[] password, byte[] salt) throws NoSuchAlgorithmException, InvalidKeySpecException {\n+\n+        int keyLength = Build.VERSION.SDK_INT >= Build.VERSION_CODES.O ? 256 : 160;\n+\n+        SecretKeyFactory secretKeyFactory = SecretKeyFactory.getInstance(Build.VERSION.SDK_INT >= Build.VERSION_CODES.O ? \"PBKDF2withHmacSHA256\" : \"PBKDF2WithHmacSHA1\");\n+\n+        KeySpec pbKeySpec = new PBEKeySpec(password, salt, ITERATION_COUNT, keyLength);\n+\n+        return secretKeyFactory.generateSecret(pbKeySpec).getEncoded();\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0a9617512e14de9013978d4819e802860fda12fd"}, "originalPosition": 160}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5MDcxNTQ1", "url": "https://github.com/opensrp/opensrp-client-core/pull/515#pullrequestreview-449071545", "createdAt": "2020-07-15T15:27:07Z", "commit": {"oid": "0a9617512e14de9013978d4819e802860fda12fd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNToyNzowN1rOGyDkGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNToyNzowN1rOGyDkGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTE0MDM3OQ==", "bodyText": "You could use Timber string formatting e.g Timber.e(\"Image %s\",path)\"", "url": "https://github.com/opensrp/opensrp-client-core/pull/515#discussion_r455140379", "createdAt": "2020-07-15T15:27:07Z", "author": {"login": "githengi"}, "path": "opensrp-app/src/main/java/org/smartregister/service/ImageUploadSyncService.java", "diffHunk": "@@ -40,6 +42,8 @@ protected void onHandleIntent(Intent intent) {\n                                 + AllConstants.PROFILE_IMAGES_UPLOAD_PATH, profileImages.get(i));\n                 if (response.contains(\"success\")) {\n                     imageRepo.close(profileImages.get(i).getImageid());\n+                } else {\n+                    Timber.e(new StringBuilder(\"Image Upload: could NOT upload image ID: \").append(profileImages.get(i).getImageid()).append(\" PATH: \").append(profileImages.get(i).getFilepath()).toString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0a9617512e14de9013978d4819e802860fda12fd"}, "originalPosition": 14}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0a9617512e14de9013978d4819e802860fda12fd", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/0a9617512e14de9013978d4819e802860fda12fd", "committedDate": "2020-07-07T14:31:44Z", "message": "Fix failing build\n- Fix unit tests\n- Downgrade travis config to Android API 27"}, "afterCommit": {"oid": "87f9bcb85c2ba18faac3bca188c7c4855fbdf6af", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/87f9bcb85c2ba18faac3bca188c7c4855fbdf6af", "committedDate": "2020-07-15T18:50:16Z", "message": "Fix bug :bug:\n- Fix bug with verify authorization causing premature return when\nprocessing"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "87f9bcb85c2ba18faac3bca188c7c4855fbdf6af", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/87f9bcb85c2ba18faac3bca188c7c4855fbdf6af", "committedDate": "2020-07-15T18:50:16Z", "message": "Fix bug :bug:\n- Fix bug with verify authorization causing premature return when\nprocessing"}, "afterCommit": {"oid": "399439ce7071cf3ff5e684f963c0da7dd00fcf06", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/399439ce7071cf3ff5e684f963c0da7dd00fcf06", "committedDate": "2020-07-17T09:35:26Z", "message": "Code clean up\n- Clean up Authentication logic classes\n- Fix failing tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0b2070e86eb15221734dda9d9ee763ae63542493", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/0b2070e86eb15221734dda9d9ee763ae63542493", "committedDate": "2020-07-20T15:35:18Z", "message": "Refactor authentication logic\n- Separate local device authentication from database encryption/authentication\n- Refactor all password refs to byte array\n- Fix tests\n\nSigned-off-by: Martin Ndegwa <ndegwamartin@gmail.com>"}, "afterCommit": {"oid": "2b8d0f31294f398a818a85bb762a2025bb9a6142", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/2b8d0f31294f398a818a85bb762a2025bb9a6142", "committedDate": "2020-07-20T15:45:53Z", "message": "Refactor authentication logic\n- Separate local device authentication from database encryption/authentication\n- Refactor all password refs to byte array\n- Fix tests\n\nSigned-off-by: Martin Ndegwa <ndegwamartin@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyNDQwODU3", "url": "https://github.com/opensrp/opensrp-client-core/pull/515#pullrequestreview-452440857", "createdAt": "2020-07-21T13:14:18Z", "commit": {"oid": "1a41f749e4d12d2c248d05abe953b06b1bd7b01e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMzoxNDoxOFrOG03UvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMzoxNDoxOFrOG03UvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODA4NTU2NQ==", "bodyText": "This is duplicate library definition", "url": "https://github.com/opensrp/opensrp-client-core/pull/515#discussion_r458085565", "createdAt": "2020-07-21T13:14:18Z", "author": {"login": "githengi"}, "path": "opensrp-app/build.gradle", "diffHunk": "@@ -176,6 +177,7 @@ dependencies {\n         transitive = true\n     }\n \n+    implementation 'org.smartregister:opensrp-plan-evaluator:0.0.19-SNAPSHOT'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a41f749e4d12d2c248d05abe953b06b1bd7b01e"}, "originalPosition": 12}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fef3852b96b660cc5d5b75134a0cf0d701e20277", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/fef3852b96b660cc5d5b75134a0cf0d701e20277", "committedDate": "2020-07-21T13:55:10Z", "message": "Clean up code\n- Codacy issues\n- Clean up encryption migration"}, "afterCommit": {"oid": "40c9be6fb5ea224cc6993d76b677943037ebdb69", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/40c9be6fb5ea224cc6993d76b677943037ebdb69", "committedDate": "2020-07-21T13:57:50Z", "message": ":sparkles: Add database encryption migration\n- Add support for migrating database encryption keys\n- Add support to handle account removal gracefully by logging out user\n- Clean up code"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "85f34f9d44004fc90ba98ee4840eb9f9fb0b907f", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/85f34f9d44004fc90ba98ee4840eb9f9fb0b907f", "committedDate": "2020-07-23T05:13:07Z", "message": "Fix failing build white_check_mark\n- Fix tests"}, "afterCommit": {"oid": "974a4d7ce878492fe1c53e7d3da7fc625dd7a259", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/974a4d7ce878492fe1c53e7d3da7fc625dd7a259", "committedDate": "2020-07-23T06:19:18Z", "message": "Fix failing build white_check_mark\n- Fix tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "974a4d7ce878492fe1c53e7d3da7fc625dd7a259", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/974a4d7ce878492fe1c53e7d3da7fc625dd7a259", "committedDate": "2020-07-23T06:19:18Z", "message": "Fix failing build white_check_mark\n- Fix tests"}, "afterCommit": {"oid": "64c4a151cfa2256fc30b43ca8677172ecb444ce9", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/64c4a151cfa2256fc30b43ca8677172ecb444ce9", "committedDate": "2020-07-23T06:21:13Z", "message": "Fix failing build :white_check_mark:\n- Fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "246694544c105d0388afb9894203a90e6faeb6d2", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/246694544c105d0388afb9894203a90e6faeb6d2", "committedDate": "2020-08-05T07:06:18Z", "message": "Clean up unused file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abd54bd799f0f0876f03a251c07bd84ff808ed0d", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/abd54bd799f0f0876f03a251c07bd84ff808ed0d", "committedDate": "2020-08-05T07:06:18Z", "message": "Implement account authenticator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75e54a7981fafd8adc12268dd452d9fef40b2740", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/75e54a7981fafd8adc12268dd452d9fef40b2740", "committedDate": "2020-08-05T07:06:18Z", "message": "Implement account service and helpers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd3d2da96e01cd97760f3a441e415e7ce6c7175c", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/dd3d2da96e01cd97760f3a441e415e7ce6c7175c", "committedDate": "2020-08-05T07:06:53Z", "message": "Migrate login\nMigrate login to oauth2\nImplement configuration helpers\nUpdate Manifest and properties configs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0b858934a0bc165fec2575bf7d67c4755a11104", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/c0b858934a0bc165fec2575bf7d67c4755a11104", "committedDate": "2020-08-05T07:06:53Z", "message": "Migrate user service\nClean up update utils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d9c7755afe16bdbc90523489e990ea30d275276", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/3d9c7755afe16bdbc90523489e990ea30d275276", "committedDate": "2020-08-05T07:06:53Z", "message": "Implement login demo via sample app for oauth"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8382b2ab111640dddb25b969fc2e50ce9e08e2c", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/e8382b2ab111640dddb25b969fc2e50ce9e08e2c", "committedDate": "2020-08-05T07:06:53Z", "message": "Refactor HTTPAgent\nFix failing unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "721420632c4e2d097074b390ea117706214f8f98", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/721420632c4e2d097074b390ea117706214f8f98", "committedDate": "2020-08-05T07:06:53Z", "message": "Code clean up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75290cf10f76b59957c48a8ae4f4486ddcbb90fd", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/75290cf10f76b59957c48a8ae4f4486ddcbb90fd", "committedDate": "2020-08-05T07:06:53Z", "message": "Refactor authentication mechanism to work for Keycloak"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1eeee1d6ac9d9f7644fe3766cb6f87351d6d138", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/b1eeee1d6ac9d9f7644fe3766cb6f87351d6d138", "committedDate": "2020-08-05T07:06:53Z", "message": "Remove all stored password references"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60a1c78fccc227261316e351057b94c8c4c5e9c2", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/60a1c78fccc227261316e351057b94c8c4c5e9c2", "committedDate": "2020-08-05T07:06:53Z", "message": "Fix error dialog rendering multiple times at a go"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e2823378363582c6595ac425e43625297a61cd7", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/4e2823378363582c6595ac425e43625297a61cd7", "committedDate": "2020-08-05T07:06:53Z", "message": "Fix bug missing tag level on location hierarchy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "47ffabfeeeb9df0d17b2d3c5650f3cba776eaafe", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/47ffabfeeeb9df0d17b2d3c5650f3cba776eaafe", "committedDate": "2020-08-05T07:06:53Z", "message": "Update OAuth implementation\n- Refactor refresh token and verify login logic\n- Add support for Spring OAuth Fallback if keycloak not supported"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "428792a34c0d13d3d7b8c0867956edae0703298e", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/428792a34c0d13d3d7b8c0867956edae0703298e", "committedDate": "2020-08-05T07:07:31Z", "message": "Fix profile image loading\nAdd add http request header param enums"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba23de2dd455fa9716bb1fa6445558f94f09c0f6", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/ba23de2dd455fa9716bb1fa6445558f94f09c0f6", "committedDate": "2020-08-05T07:07:31Z", "message": "Optimization, Refactor and unit testing\n- Optimize upstream data processing for file uploads\n- Refactor for maintainability\n- Unit testing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7477ef0323ef65934cd9df5a54254b7ec1657c0", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/a7477ef0323ef65934cd9df5a54254b7ec1657c0", "committedDate": "2020-08-05T07:07:31Z", "message": "Account Helper Unit test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9de9d9410c57ae743de96e3809ac93d603c45cfc", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/9de9d9410c57ae743de96e3809ac93d603c45cfc", "committedDate": "2020-08-05T07:07:31Z", "message": "HTTPAgent Unit tests\n- Add more unit test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f91d166537991efd386cc9d5a64272f181f2e25f", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/f91d166537991efd386cc9d5a64272f181f2e25f", "committedDate": "2020-08-05T07:07:31Z", "message": "CI Configuration updates\n- Add codacy configuration file\n- Rename test case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63a7ca66f80253b5fd8157489b551f45f466f1d9", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/63a7ca66f80253b5fd8157489b551f45f466f1d9", "committedDate": "2020-08-05T07:07:31Z", "message": "Fixed/Implment code review change requests on HTTP Agent test\n- Renamed test case\n- Refactored test case logic"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa29df3ea93cae8f064df26d146cf3c13e6a8dc0", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/fa29df3ea93cae8f064df26d146cf3c13e6a8dc0", "committedDate": "2020-08-05T07:07:31Z", "message": "Remove unused imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a9e592cc63b1aa1489dd445e11e9b8d457849ccb", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/a9e592cc63b1aa1489dd445e11e9b8d457849ccb", "committedDate": "2020-08-05T07:07:31Z", "message": "Refactor to remove duplicate code : DRY"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "599b4c297881030dad9f38a6f29c13bcc95f8bc9", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/599b4c297881030dad9f38a6f29c13bcc95f8bc9", "committedDate": "2020-08-05T07:07:31Z", "message": "Add unit tests\n- Add unit tests for HTTPAgent.downloadFormUrl"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9c4a0df78c261f17a269aa253bb48cb43e18d95", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/c9c4a0df78c261f17a269aa253bb48cb43e18d95", "committedDate": "2020-08-05T07:08:46Z", "message": "Refactor client core : Remove password type String\n- Remove type String for password processing to mitigates against the heap dump attack vector exposed by Java String type\n- Fix unit tests\n\nSigned-off-by: Martin Ndegwa <ndegwamartin@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b09d8613fc02fec023ee63634ac5b78e43501e71", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/b09d8613fc02fec023ee63634ac5b78e43501e71", "committedDate": "2020-08-05T07:08:46Z", "message": "Fix unit test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "658aef8e2b4a61f2563a329e6252347327abc472", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/658aef8e2b4a61f2563a329e6252347327abc472", "committedDate": "2020-08-05T07:08:46Z", "message": "HTTP Agent unit tests - Testing Tuesday\n- Add unit test for http image post/ upload"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8d011445cb24bc0418f70c18335824392a7c112", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/c8d011445cb24bc0418f70c18335824392a7c112", "committedDate": "2020-08-05T07:12:04Z", "message": "Refactor Verify Authorization\n- Add support for verifying if account disabled by Admin\n- Update logout"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c2bbcc546fd46ef0326f4143f8f977e81911f696", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/c2bbcc546fd46ef0326f4143f8f977e81911f696", "committedDate": "2020-08-05T07:12:04Z", "message": "Update Verify Authorization\n- Add backward compatibility for legacy implementation\n- Add unit tests\n- Fix codacy issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34c14a876e4d3a786fff18e134c0068bded65a9a", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/34c14a876e4d3a786fff18e134c0068bded65a9a", "committedDate": "2020-08-05T07:12:25Z", "message": "Update artifact to correct version"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0de5f3580c9a2747e90c97317e1e59d82fc4c50e", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/0de5f3580c9a2747e90c97317e1e59d82fc4c50e", "committedDate": "2020-08-05T07:12:25Z", "message": "Update Arabic and French translations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "090bb32c53e407d6a68c72536bc19a1ee6dc690c", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/090bb32c53e407d6a68c72536bc19a1ee6dc690c", "committedDate": "2020-08-05T07:12:25Z", "message": "Location picker show location tag\n- Add support for configurability of showing location tags alongside\nlocations on picker tree\n- Documentation and tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6b98cbb85699f2f65619a207b9c612230115714", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/b6b98cbb85699f2f65619a207b9c612230115714", "committedDate": "2020-08-05T07:12:25Z", "message": "reset android manifest config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8bbf545e7a0ec711a3206006ae4b9146a42da51b", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/8bbf545e7a0ec711a3206006ae4b9146a42da51b", "committedDate": "2020-08-05T07:12:26Z", "message": "Fix clear app settings bug\n- Fix app crashes on login after app manually reset"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56b13f8fa40a83973093d99d2cbdf725ac111370", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/56b13f8fa40a83973093d99d2cbdf725ac111370", "committedDate": "2020-08-05T07:12:26Z", "message": "Update Manifest configuration\n- Add explicit permissions for declared components"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d4e6e43c0c024878288ff66240a3c3ce0d4e173", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/1d4e6e43c0c024878288ff66240a3c3ce0d4e173", "committedDate": "2020-08-05T07:13:04Z", "message": "Fix build error\n- Remove multidex declaration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd93e8acff40c94c78b6e72c41eda5566b4f0879", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/cd93e8acff40c94c78b6e72c41eda5566b4f0879", "committedDate": "2020-08-05T07:13:04Z", "message": "Support for local Multi-tenancy\n- Refactor offline multi tenancy implementation for same Team Members\n- Adds support for No need to remotely authenticate if all team members had logged in device previously"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75cded41ec3d2589fe0be69ed1caf434526ebcf4", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/75cded41ec3d2589fe0be69ed1caf434526ebcf4", "committedDate": "2020-08-05T07:13:04Z", "message": "Refactor forced logout re-authentication\n- Refactor Re-Authentication to use Account manager\n- For clean up/Maintainalibility"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd367d9594ae4a46530bcabb642786e97b7ce5e1", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/dd367d9594ae4a46530bcabb642786e97b7ce5e1", "committedDate": "2020-08-05T07:13:04Z", "message": "Implement password hashing\n- Implement password salting and hashing for offline authentication"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e3ca2b498b15a2d37fee12e0a3d49c96874589a8", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/e3ca2b498b15a2d37fee12e0a3d49c96874589a8", "committedDate": "2020-08-05T07:13:04Z", "message": "Migrate Sample app to new core library"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d03f352b3cf4c8a35ebeb85a972426b1eba46fe8", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/d03f352b3cf4c8a35ebeb85a972426b1eba46fe8", "committedDate": "2020-08-05T07:13:04Z", "message": "Refactor local login\n- Refactor local login to run in backgroud\n- Fixes UI freeze during offline Authentication"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5aee185c2b11a5d63b608b3617d40d2c2f16e61", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/d5aee185c2b11a5d63b608b3617d40d2c2f16e61", "committedDate": "2020-08-05T07:13:04Z", "message": "Support for local Multi-tenancy\n- Refactor offline multi tenancy implementation for same Team Members\n- Adds support for No need to remotely authenticate if all team members had logged in device previously"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2172f350c579c3d4ab033e215f295b90ab41fcf5", "author": {"user": {"login": "qiarie", "name": "Simon Kiarie"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/2172f350c579c3d4ab033e215f295b90ab41fcf5", "committedDate": "2020-08-05T07:13:04Z", "message": "Support for specifying key-value metadata map when launching form\n- Add support for key-value pairs for start JSON form - overload startFormActivity\n- Refactor LocationHelper to use List interface instead of ArrayList\n- Expose AllowedLevels and DefaultLocationId fields on LocationHelper\n\nCo-authored-by: Martin Ndegwa <ndegwamartin@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8db5c2d92cc1beff5c1bff8f2e7fd50caff02d7e", "author": {"user": {"login": "qiarie", "name": "Simon Kiarie"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/8db5c2d92cc1beff5c1bff8f2e7fd50caff02d7e", "committedDate": "2020-08-05T07:13:04Z", "message": "Add unit tests\n- Add unit tests for startFormActivity with map metadata params\n- Refactor tests to use List interface instead of ArrayList class\n\nCo-authored-by: Martin Ndegwa <ndegwamartin@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b18d628a2b29f8599dbfd8ed08782b6cfa313ce", "author": {"user": {"login": "qiarie", "name": "Simon Kiarie"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/4b18d628a2b29f8599dbfd8ed08782b6cfa313ce", "committedDate": "2020-08-05T07:13:04Z", "message": "Fix Codacy issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3538c87f9fd708e700048c609ea63fd3350e82e", "author": {"user": {"login": "qiarie", "name": "Simon Kiarie"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/f3538c87f9fd708e700048c609ea63fd3350e82e", "committedDate": "2020-08-05T07:13:04Z", "message": "Add unit tests for\n- getAllowedLevels\n- getDefaultLocationLevel\n- getOpenMrsLocationHierarchy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e64270da54c0d6d492654f2390f2fcbaf7a176e", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/4e64270da54c0d6d492654f2390f2fcbaf7a176e", "committedDate": "2020-08-05T07:13:29Z", "message": "Fix failing build\n- Fix failing tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ecdc70c5e12a39bd933e083c1563c4721c7f6be", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/4ecdc70c5e12a39bd933e083c1563c4721c7f6be", "committedDate": "2020-08-05T07:13:29Z", "message": "Codacy clean up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7c511bce976962b8e0d01c601a12e87ed8cb0c2", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/e7c511bce976962b8e0d01c601a12e87ed8cb0c2", "committedDate": "2020-08-05T07:13:29Z", "message": "Fix failing build\n- Fix unit tests\n- Downgrade travis config to Android API 27"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2632c19442feb4f203859bd97fa52da4a3e2a0b", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/f2632c19442feb4f203859bd97fa52da4a3e2a0b", "committedDate": "2020-08-05T07:13:29Z", "message": "Fix bug :bug:\n- Fix bug with verify authorization causing premature return when\nprocessing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2ae820c03a52d4b063b0d001a70853a7da0ab95", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/e2ae820c03a52d4b063b0d001a70853a7da0ab95", "committedDate": "2020-08-05T07:14:53Z", "message": "Authentication with oauth2 credentials\n- Add conditional for sending client id and secret depending on whether\nkeycloak is configured or not\n- Fix HTTPAgent unit tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "366ecc9ecba2376fa3510604733d7e9ed54cbd10", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/366ecc9ecba2376fa3510604733d7e9ed54cbd10", "committedDate": "2020-08-05T07:14:53Z", "message": "Login Activity clean up\n- Remove deprecated LoginActivity class and dependencies"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "adf7b83575b714003bebdeb176285230d4bfb1fe", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/adf7b83575b714003bebdeb176285230d4bfb1fe", "committedDate": "2020-08-05T07:14:53Z", "message": "Code clean up\n- Clean up Authentication logic classes\n- Fix failing tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef043839aa298e481a3430cd6b31ece8ff81edab", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/ef043839aa298e481a3430cd6b31ece8ff81edab", "committedDate": "2020-08-05T07:15:49Z", "message": "Fix local authentication bug\n- Fix issue local login not working for team and location auth config types\n- Refactor to use bytes for all password refs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "326e5e3d460842c675ce0a76b0dfbc50ecc21526", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/326e5e3d460842c675ce0a76b0dfbc50ecc21526", "committedDate": "2020-08-05T08:09:44Z", "message": "Refactor authentication logic\n- Separate local device authentication from database encryption/authentication\n- Refactor all password refs to byte array\n- Fix tests\n\nSigned-off-by: Martin Ndegwa <ndegwamartin@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95cf026eff890437a2845935d96151f47c3aca6e", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/95cf026eff890437a2845935d96151f47c3aca6e", "committedDate": "2020-08-05T08:09:44Z", "message": "Fix failing test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "624da51115736d0596f212341e7477ed1ffa85e3", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/624da51115736d0596f212341e7477ed1ffa85e3", "committedDate": "2020-08-05T08:11:58Z", "message": ":bug: Fix verify authorization bug\n- Legacy Verify authorization shows disable user message prematurely\n- Refactor getEncryptedValue method name\n- Clean up unused method/tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8fbe3485aff72ae6f129577e51759af2ab3361d", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/e8fbe3485aff72ae6f129577e51759af2ab3361d", "committedDate": "2020-08-05T08:12:28Z", "message": ":sparkles: Add database encryption migration\n- Add support for migrating database encryption keys\n- Add support to handle account removal gracefully by logging out user\n- Clean up code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee673a71de8ae75a60aa388b4a48ffda08986c68", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/ee673a71de8ae75a60aa388b4a48ffda08986c68", "committedDate": "2020-08-05T08:12:28Z", "message": "Fix failing build\n- Migrate to newer version of plan evaluator library"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "962abac5324c961c84fe551ca268a9c640c680a0", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/962abac5324c961c84fe551ca268a9c640c680a0", "committedDate": "2020-08-05T08:12:28Z", "message": ":bug: Fix crash on fresh install\n- Fix app crashing for fresh installs\n`"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "23832d0ca755d2479325cbcd572a97e37a84a0f3", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/23832d0ca755d2479325cbcd572a97e37a84a0f3", "committedDate": "2020-08-05T08:12:50Z", "message": "Refactor authentication logic\n- Move credentials helper methods to helper class\n- Fix automatic logout an Account Manager account removal"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "abeacd7dc1148b96bd576e07f6453e5f187c8763", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/abeacd7dc1148b96bd576e07f6453e5f187c8763", "committedDate": "2020-08-05T08:13:09Z", "message": "DB Encryption migration feature :sparkles:\n- Add feature to support migration of DB encryption for devices in use\n- Unit tests\n- Fix bug: auto-logout inconsistent on account removal from account manager\n- Update autolog out alert message rendering"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f58d9f74f653432d4b29b4adea6deaa5545b871", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/1f58d9f74f653432d4b29b4adea6deaa5545b871", "committedDate": "2020-08-05T08:13:16Z", "message": "Codacy clean up :recycle:"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "64c4a151cfa2256fc30b43ca8677172ecb444ce9", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/64c4a151cfa2256fc30b43ca8677172ecb444ce9", "committedDate": "2020-07-23T06:21:13Z", "message": "Fix failing build :white_check_mark:\n- Fix tests"}, "afterCommit": {"oid": "f9506d78530ed04aa47fe2a33f5a31d69278c099", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/f9506d78530ed04aa47fe2a33f5a31d69278c099", "committedDate": "2020-08-05T10:29:02Z", "message": "Fix failing build :white_check_mark:\n- Fix tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f9506d78530ed04aa47fe2a33f5a31d69278c099", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/f9506d78530ed04aa47fe2a33f5a31d69278c099", "committedDate": "2020-08-05T10:29:02Z", "message": "Fix failing build :white_check_mark:\n- Fix tests"}, "afterCommit": {"oid": "7032990e01ec8d40ab9e4d181a5641de8fe2e16e", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/7032990e01ec8d40ab9e4d181a5641de8fe2e16e", "committedDate": "2020-08-05T10:45:28Z", "message": "Fix failing build :white_check_mark:\n- Fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "065a4731d04bea1aedd5896c0df04e421ccaf897", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/065a4731d04bea1aedd5896c0df04e421ccaf897", "committedDate": "2020-08-05T11:42:38Z", "message": "Fix failing build :white_check_mark:\n- Fix tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7032990e01ec8d40ab9e4d181a5641de8fe2e16e", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/7032990e01ec8d40ab9e4d181a5641de8fe2e16e", "committedDate": "2020-08-05T10:45:28Z", "message": "Fix failing build :white_check_mark:\n- Fix tests"}, "afterCommit": {"oid": "065a4731d04bea1aedd5896c0df04e421ccaf897", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/065a4731d04bea1aedd5896c0df04e421ccaf897", "committedDate": "2020-08-05T11:42:38Z", "message": "Fix failing build :white_check_mark:\n- Fix tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d2159548420f3f49b48071ebd76e7532c239a111", "author": {"user": {"login": "qiarie", "name": "Simon Kiarie"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/d2159548420f3f49b48071ebd76e7532c239a111", "committedDate": "2020-08-14T18:06:49Z", "message": "Add support for downloading all locations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92b6ad6c15bccc1786f91d0f80361963ee32a05d", "author": {"user": {"login": "qiarie", "name": "Simon Kiarie"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/92b6ad6c15bccc1786f91d0f80361963ee32a05d", "committedDate": "2020-08-14T18:07:11Z", "message": "Bump version up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "530d7abc901dd2e1a466b4eab7b5bc3ee7a2cf4e", "author": {"user": {"login": "qiarie", "name": "Simon Kiarie"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/530d7abc901dd2e1a466b4eab7b5bc3ee7a2cf4e", "committedDate": "2020-08-18T14:12:20Z", "message": "Merge pull request #627 from OpenSRP/issue625-fetch-all-locations\n\nAdd Sync for All Locations to Device"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5bd9d59428fa92f1f794cd5d2a9b08520ba9c27", "author": {"user": {"login": "githengi", "name": "Samuel Githengi"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/e5bd9d59428fa92f1f794cd5d2a9b08520ba9c27", "committedDate": "2020-08-19T08:05:34Z", "message": "Merge branch 'master' into issue283"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38beb07cef3ed740d1b7b51d61cfd03ae15bad87", "author": {"user": {"login": "ndegwamartin", "name": "Martin Ndegwa"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/38beb07cef3ed740d1b7b51d61cfd03ae15bad87", "committedDate": "2020-08-19T08:52:48Z", "message": "Fix build :green_heart:"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwMjIwNjY1", "url": "https://github.com/opensrp/opensrp-client-core/pull/515#pullrequestreview-470220665", "createdAt": "2020-08-19T08:07:44Z", "commit": {"oid": "e5bd9d59428fa92f1f794cd5d2a9b08520ba9c27"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwODowNzo0NFrOHC7w8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQwODowNzo0NFrOHC7w8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjgzODM4NQ==", "bodyText": "The libraries have been imported twice", "url": "https://github.com/opensrp/opensrp-client-core/pull/515#discussion_r472838385", "createdAt": "2020-08-19T08:07:44Z", "author": {"login": "githengi"}, "path": "opensrp-app/build.gradle", "diffHunk": "@@ -205,6 +206,36 @@ dependencies {\n \n     implementation 'org.smartregister:opensrp-client-utils:0.0.2-SNAPSHOT'\n \n+    implementation 'org.smartregister:opensrp-plan-evaluator:0.0.19-SNAPSHOT'\n+    implementation('ch.acra:acra:4.5.0') {\n+        exclude group: 'org.json', module: 'json'\n+    }\n+\n+    implementation 'com.github.ybq:Android-SpinKit:1.2.0'\n+    implementation 'com.mcxiaoke.volley:library:1.0.19'\n+\n+    implementation fileTree(include: ['*.jar'], dir: 'libs')\n+    annotationProcessor fileTree(include: ['butterknife*.jar'], dir: 'libs')\n+\n+    implementation 'com.cloudant:cloudant-http:2.7.0'\n+    implementation 'com.android.support:recyclerview-v7:28.0.0'\n+\n+    implementation('com.android.support:design:28.0.0') {\n+        exclude group: 'com.android.support', module: 'recyclerview-v7'\n+    }\n+\n+    implementation 'com.evernote:android-job:1.2.6'\n+    implementation group: 'commons-validator', name: 'commons-validator', version: '1.6'\n+    implementation 'de.hdodenhof:circleimageview:2.2.0'\n+\n+    implementation('org.smartregister:android-p2p-sync:0.3.6-SNAPSHOT') {\n+        exclude group: 'com.android.support', module: 'support-v4'\n+        exclude group: 'com.android.support', module: 'appcompat-v7'\n+        exclude group: 'android.arch.core', module: 'runtime'\n+    }\n+\n+    implementation 'org.smartregister:opensrp-client-utils:0.0.2-SNAPSHOT'\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e5bd9d59428fa92f1f794cd5d2a9b08520ba9c27"}, "originalPosition": 41}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2563, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}