{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMwNzQzMTkz", "number": 708, "title": "Custom firebase performance logging for entities during sync", "bodyText": "", "createdAt": "2020-12-02T04:48:02Z", "url": "https://github.com/opensrp/opensrp-client-core/pull/708", "merged": true, "mergeCommit": {"oid": "806f26a02b77630ae06374aaabb56fb7f37927ec"}, "closed": true, "closedAt": "2021-02-03T06:58:03Z", "author": {"login": "Rkareko"}, "timelineItems": {"totalCount": 36, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcd-j52gH2gAyNTMwNzQzMTkzOmI0NGUxNTQwY2MxNjkxZDczMTU5ZDg0Y2VmOTA5MWEwNWM3Y2NmNjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABd2au5VAFqTU4MjA1MTc3Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b44e1540cc1691d73159d84cef9091a05c7ccf68", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/b44e1540cc1691d73159d84cef9091a05c7ccf68", "committedDate": "2020-05-04T12:23:13Z", "message": "Import firebase performance lib"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ca2b6e2f9a21fa87e63172bfbdbe6898b245ae4", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/6ca2b6e2f9a21fa87e63172bfbdbe6898b245ae4", "committedDate": "2020-05-05T07:20:15Z", "message": "Add custom logging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0ba5cac4ac93224cf9df97a073db07a51848046", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/d0ba5cac4ac93224cf9df97a073db07a51848046", "committedDate": "2020-05-06T12:49:57Z", "message": "Add custom logging when fetchng and pushing data to/from the server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2cb0e655aafe0c30fd4bc6a94d452ad839ac5ae8", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/2cb0e655aafe0c30fd4bc6a94d452ad839ac5ae8", "committedDate": "2020-06-18T12:53:20Z", "message": "Merger master into sync-logging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "370f957f06249001a7658107be3c65f2dd6db47f", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/370f957f06249001a7658107be3c65f2dd6db47f", "committedDate": "2020-06-18T13:01:29Z", "message": "Fix merge conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d03e9d8e95971458c6a639a7061fd120cfd8f773", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/d03e9d8e95971458c6a639a7061fd120cfd8f773", "committedDate": "2020-06-21T11:13:25Z", "message": "Merge branch 'master' of github.com:OpenSRP/opensrp-client-core into sync-logging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df6e5445ebd040158782b944615c05542ef9d3df", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/df6e5445ebd040158782b944615c05542ef9d3df", "committedDate": "2020-06-22T08:25:00Z", "message": "Refactor sync trace logic for locations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29824dcec361e09883375ab705dd6ab0a276045b", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/29824dcec361e09883375ab705dd6ab0a276045b", "committedDate": "2020-06-22T10:23:27Z", "message": "Refactor task trace logic"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0d6dca7f6caed2cbd62ca626c7a50bd4788ab695", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/0d6dca7f6caed2cbd62ca626c7a50bd4788ab695", "committedDate": "2020-06-22T10:35:39Z", "message": "Refactor trace logic for events"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "524721e903c0b9f306bc5e069f40ad0ea731e8c2", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/524721e903c0b9f306bc5e069f40ad0ea731e8c2", "committedDate": "2020-06-22T10:52:12Z", "message": "Refactor trace loggic for plans"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f71fbd1d5d96f016dd94a53898473c1f3578ee39", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/f71fbd1d5d96f016dd94a53898473c1f3578ee39", "committedDate": "2020-12-02T04:44:33Z", "message": " Merge master into sync-logging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93178f6761f8edf2e805bc53e0d639350c372df9", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/93178f6761f8edf2e805bc53e0d639350c372df9", "committedDate": "2021-01-04T06:40:52Z", "message": "Merge branch 'master' into sync-logging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3383d10dadf332ffcc48459b2402348fa767d7e", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/c3383d10dadf332ffcc48459b2402348fa767d7e", "committedDate": "2021-01-25T05:13:50Z", "message": "Merge branch 'master' into sync-logging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75fe0cd493bcdfe5716c65158daecbacc1334c6f", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/75fe0cd493bcdfe5716c65158daecbacc1334c6f", "committedDate": "2021-01-25T11:44:29Z", "message": "Add config for using firebase performance monitoring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d03efbf9b9cece9fae0ebdeb9c892e064f733aa", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/7d03efbf9b9cece9fae0ebdeb9c892e064f733aa", "committedDate": "2021-01-25T11:45:09Z", "message": "Add performance monitoring utils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "063dac6418249a72a7e5dadaab66624fcdbb4028", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/063dac6418249a72a7e5dadaab66624fcdbb4028", "committedDate": "2021-01-25T11:46:08Z", "message": "Refactor SyncIntentService to use utils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "488eee240135e7812673684a0d902f7cddd534ca", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/488eee240135e7812673684a0d902f7cddd534ca", "committedDate": "2021-01-25T12:06:22Z", "message": "Refactor PlanIntentServiceHelper to use utils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "383ce2b8da7a9de191b31102778a6ebc3d4493ef", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/383ce2b8da7a9de191b31102778a6ebc3d4493ef", "committedDate": "2021-01-25T12:11:38Z", "message": "Refactor TaskServiceHelper to use perf monitorig utils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8a1dfbb35df4281a752d747bc11a2c16969203f", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/e8a1dfbb35df4281a752d747bc11a2c16969203f", "committedDate": "2021-01-25T12:18:51Z", "message": "Refactor LocationServiceHelper to use perf monitoring utils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a684e476306f2cd1654c5f1c5c60b917db36b50", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/4a684e476306f2cd1654c5f1c5c60b917db36b50", "committedDate": "2021-01-25T13:13:02Z", "message": "Move initialization of traces to utils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c4507deb14c732843f7bd5cf6bc045c9886635a", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/1c4507deb14c732843f7bd5cf6bc045c9886635a", "committedDate": "2021-01-28T09:27:59Z", "message": "Merge branch 'master' into sync-logging"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTc5MDIwMzM0", "url": "https://github.com/opensrp/opensrp-client-core/pull/708#pullrequestreview-579020334", "createdAt": "2021-01-29T08:08:38Z", "commit": {"oid": "1c4507deb14c732843f7bd5cf6bc045c9886635a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yOVQwODowODozOFrOIcZJxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yOVQwODowODozOFrOIcZJxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NjY0MzE0MA==", "bodyText": "Sync trace should be stopped here boolean isSaved = ecSyncUpdater.saveAllClientsAndEvents(jsonObject);\nWe  should add another trace on this line  processClient(serverVersionPair); This will allow to know how much client processing takes", "url": "https://github.com/opensrp/opensrp-client-core/pull/708#discussion_r566643140", "createdAt": "2021-01-29T08:08:38Z", "author": {"login": "githengi"}, "path": "opensrp-app/src/main/java/org/smartregister/sync/intent/SyncIntentService.java", "diffHunk": "@@ -213,6 +236,8 @@ private void processFetchedEvents(Response resp, ECSyncHelper ecSyncUpdater, fin\n             }\n             sendSyncProgressBroadcast(eCount);\n             fetchRetry(0, false);\n+            addAttribute(eventSyncTrace, COUNT, String.valueOf(eCount));\n+            stopTrace(eventSyncTrace);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c4507deb14c732843f7bd5cf6bc045c9886635a"}, "originalPosition": 77}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88d6e883e8b390828a1c7f43d8a821228ab2bafe", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/88d6e883e8b390828a1c7f43d8a821228ab2bafe", "committedDate": "2021-01-29T09:20:00Z", "message": "Add custom trace for client processing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "848dbbe3352df22090865b1c3be61406800120f2", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/848dbbe3352df22090865b1c3be61406800120f2", "committedDate": "2021-01-29T09:25:22Z", "message": "Update version"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTc5MDk2NTY4", "url": "https://github.com/opensrp/opensrp-client-core/pull/708#pullrequestreview-579096568", "createdAt": "2021-01-29T09:51:54Z", "commit": {"oid": "848dbbe3352df22090865b1c3be61406800120f2"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "820732029019ca23531c57725042bba5b8326c52", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/820732029019ca23531c57725042bba5b8326c52", "committedDate": "2021-01-29T10:13:25Z", "message": "Increase maxHeapSize to 4g"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b7c46c554b8bd5780374ecb4070e4c35c1b6302", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/4b7c46c554b8bd5780374ecb4070e4c35c1b6302", "committedDate": "2021-01-29T11:01:19Z", "message": "Increase maxheapSize to 6g"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a8ff1e6867c32b226b41129ecb56930fb5b38d8", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/2a8ff1e6867c32b226b41129ecb56930fb5b38d8", "committedDate": "2021-01-29T13:14:43Z", "message": "Fix failing tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f3485852f57ad4b4cbb5597bd62b452854ad309", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/4f3485852f57ad4b4cbb5597bd62b452854ad309", "committedDate": "2021-02-02T11:44:47Z", "message": "Merge branch 'master' into sync-logging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96cddf96dd64080cd5b45c8bd0e2d6d70f160f7e", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/96cddf96dd64080cd5b45c8bd0e2d6d70f160f7e", "committedDate": "2021-02-02T11:51:58Z", "message": "Update version"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTgxMzE3MjM1", "url": "https://github.com/opensrp/opensrp-client-core/pull/708#pullrequestreview-581317235", "createdAt": "2021-02-02T13:01:37Z", "commit": {"oid": "96cddf96dd64080cd5b45c8bd0e2d6d70f160f7e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTgxMzE3OTYw", "url": "https://github.com/opensrp/opensrp-client-core/pull/708#pullrequestreview-581317960", "createdAt": "2021-02-02T13:02:28Z", "commit": {"oid": "96cddf96dd64080cd5b45c8bd0e2d6d70f160f7e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wMlQxMzowMjoyOFrOIePmPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wMlQxMzowMjoyOFrOIePmPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2ODU4Mzc0MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (StringUtils.isNotBlank(CoreLibrary.getInstance().context().configuration().appName()) && CoreLibrary.getInstance().context().configuration().appName().equals(APP_NAME_INDONESIA)) {\n          \n          \n            \n                    if (APP_NAME_INDONESIA.equals(CoreLibrary.getInstance().context().configuration().appName()) {", "url": "https://github.com/opensrp/opensrp-client-core/pull/708#discussion_r568583740", "createdAt": "2021-02-02T13:02:28Z", "author": {"login": "githengi"}, "path": "opensrp-app/src/main/java/org/smartregister/repository/FormDataRepository.java", "diffHunk": "@@ -64,7 +65,7 @@ public FormDataRepository() {\n                 .put(MotherRepository.MOTHER_TABLE_NAME, MotherRepository.MOTHER_TABLE_COLUMNS);\n         TABLE_COLUMN_MAP.put(ChildRepository.CHILD_TABLE_NAME, ChildRepository.CHILD_TABLE_COLUMNS);\n \n-        if (CoreLibrary.getInstance().context().configuration().appName().equals(APP_NAME_INDONESIA)) {\n+        if (StringUtils.isNotBlank(CoreLibrary.getInstance().context().configuration().appName()) && CoreLibrary.getInstance().context().configuration().appName().equals(APP_NAME_INDONESIA)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "96cddf96dd64080cd5b45c8bd0e2d6d70f160f7e"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fdc5e869ae16bf52db2adfe3c06d672baae104e4", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/fdc5e869ae16bf52db2adfe3c06d672baae104e4", "committedDate": "2021-02-02T15:18:03Z", "message": "Update opensrp-app/src/main/java/org/smartregister/repository/FormDataRepository.java\n\nCo-authored-by: Samuel Githengi <samuel.githengi@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9758f425b0344e87dea9364abc2a33e010d9177", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/d9758f425b0344e87dea9364abc2a33e010d9177", "committedDate": "2021-02-02T16:02:07Z", "message": "Fix buidl error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fdfce8af93897974e2bb38a75260044d01fb110f", "author": {"user": {"login": "Rkareko", "name": null}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/fdfce8af93897974e2bb38a75260044d01fb110f", "committedDate": "2021-02-03T06:38:29Z", "message": "Remove unused imports"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTgyMDUxNzc3", "url": "https://github.com/opensrp/opensrp-client-core/pull/708#pullrequestreview-582051777", "createdAt": "2021-02-03T06:57:54Z", "commit": {"oid": "fdfce8af93897974e2bb38a75260044d01fb110f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2533, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}