{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1Mjg2NDMx", "number": 716, "title": "add findPlanDefinitionSearchByPlanId", "bodyText": "", "createdAt": "2020-12-09T16:04:08Z", "url": "https://github.com/opensrp/opensrp-client-core/pull/716", "merged": true, "mergeCommit": {"oid": "f3439b8339884098b2d27ec7329a743ef096fa25"}, "closed": true, "closedAt": "2020-12-10T12:05:11Z", "author": {"login": "bennsimon"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkg-LPgH2gAyNTM1Mjg2NDMxOjgxOWY2MWQ3NGI3NDk3NWYxNDdlZWIxOWY3MGZmZWY1MjZkZTI5ZTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkwXWBgFqTU0OTAyNzgzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "819f61d74b74975f147eeb19f70ffef526de29e2", "author": {"user": {"login": "bennsimon", "name": "Benn Simon"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/819f61d74b74975f147eeb19f70ffef526de29e2", "committedDate": "2020-12-09T16:03:23Z", "message": "add findPlanDefinitionSearchByPlanId"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4MzU0MTYy", "url": "https://github.com/opensrp/opensrp-client-core/pull/716#pullrequestreview-548354162", "createdAt": "2020-12-09T16:17:19Z", "commit": {"oid": "819f61d74b74975f147eeb19f70ffef526de29e2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxNjoxNzoxOVrOICdG5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQxNjoxNzoxOVrOICdG5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTQ0NDk2NA==", "bodyText": "Since you are using format, can you remove the string concatenation", "url": "https://github.com/opensrp/opensrp-client-core/pull/716#discussion_r539444964", "createdAt": "2020-12-09T16:17:19Z", "author": {"login": "githengi"}, "path": "opensrp-app/src/main/java/org/smartregister/repository/PlanDefinitionSearchRepository.java", "diffHunk": "@@ -86,6 +94,33 @@ public void addOrUpdate(PlanDefinition planDefinition, String jurisdiction) {\n         return getPlanDefinitionRepository().findPlanDefinitionByIds(planIds);\n     }\n \n+    public List<PlanDefinitionSearch> findPlanDefinitionSearchByPlanId(@NonNull String planId) {\n+        List<PlanDefinitionSearch> planDefinitionSearchSet = new ArrayList<>();\n+        String query = String.format(\"SELECT \" + StringUtils.join(COLUMNS, \",\") + \" FROM %s \" +\n+                \"WHERE %s=? \", PLAN_DEFINITION_SEARCH_TABLE, PLAN_ID);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "819f61d74b74975f147eeb19f70ffef526de29e2"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b632bf95a14ce0496693157eeba84e341a0f25f", "author": {"user": {"login": "bennsimon", "name": "Benn Simon"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/5b632bf95a14ce0496693157eeba84e341a0f25f", "committedDate": "2020-12-10T08:09:07Z", "message": "code cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce4a62c2eb5dec7d71a3d2da615e2555ef7235b4", "author": {"user": {"login": "bennsimon", "name": "Benn Simon"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/ce4a62c2eb5dec7d71a3d2da615e2555ef7235b4", "committedDate": "2020-12-10T09:32:59Z", "message": "Merge branch 'master' into add-plandefinitionsearch"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "faa848050191ad90ea85860b8c715de65881c95c", "author": {"user": {"login": "bennsimon", "name": "Benn Simon"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/faa848050191ad90ea85860b8c715de65881c95c", "committedDate": "2020-12-10T09:34:46Z", "message": "update snapshot version"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MDI0NDU5", "url": "https://github.com/opensrp/opensrp-client-core/pull/716#pullrequestreview-549024459", "createdAt": "2020-12-10T09:55:35Z", "commit": {"oid": "faa848050191ad90ea85860b8c715de65881c95c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQwOTo1NTozNVrOIDAwMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQwOTo1NTozNVrOIDAwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDAyODk3Ng==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    String query = String.format(\"SELECT %s FROM %s \" +\n          \n          \n            \n                            \"WHERE %s=? \", StringUtils.join(COLUMNS, \",\"), PLAN_DEFINITION_SEARCH_TABLE, PLAN_ID);\n          \n          \n            \n                    String query = String.format(\"SELECT %s FROM %s WHERE %s=? \", \n          \n          \n            \n                    StringUtils.join(COLUMNS, \",\"), PLAN_DEFINITION_SEARCH_TABLE, PLAN_ID);", "url": "https://github.com/opensrp/opensrp-client-core/pull/716#discussion_r540028976", "createdAt": "2020-12-10T09:55:35Z", "author": {"login": "githengi"}, "path": "opensrp-app/src/main/java/org/smartregister/repository/PlanDefinitionSearchRepository.java", "diffHunk": "@@ -86,6 +94,33 @@ public void addOrUpdate(PlanDefinition planDefinition, String jurisdiction) {\n         return getPlanDefinitionRepository().findPlanDefinitionByIds(planIds);\n     }\n \n+    public List<PlanDefinitionSearch> findPlanDefinitionSearchByPlanId(@NonNull String planId) {\n+        List<PlanDefinitionSearch> planDefinitionSearchSet = new ArrayList<>();\n+        String query = String.format(\"SELECT %s FROM %s \" +\n+                \"WHERE %s=? \", StringUtils.join(COLUMNS, \",\"), PLAN_DEFINITION_SEARCH_TABLE, PLAN_ID);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "faa848050191ad90ea85860b8c715de65881c95c"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aef9e7e07760cb40e6915703070ea60584ed813c", "author": {"user": {"login": "bennsimon", "name": "Benn Simon"}}, "url": "https://github.com/opensrp/opensrp-client-core/commit/aef9e7e07760cb40e6915703070ea60584ed813c", "committedDate": "2020-12-10T09:57:26Z", "message": "Update opensrp-app/src/main/java/org/smartregister/repository/PlanDefinitionSearchRepository.java\n\nCo-authored-by: Samuel Githengi <samuel.githengi@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MDI3ODM4", "url": "https://github.com/opensrp/opensrp-client-core/pull/716#pullrequestreview-549027838", "createdAt": "2020-12-10T09:59:27Z", "commit": {"oid": "aef9e7e07760cb40e6915703070ea60584ed813c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2450, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}