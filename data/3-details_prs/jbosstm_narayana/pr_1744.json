{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM4OTQzODQx", "number": 1744, "title": "JBTM 3407 (backport of JBTM-3406 and JBTM-3407 to the 4.17 branch)", "bodyText": "https://issues.redhat.com/browse/JBTM-3406\nhttps://issues.redhat.com/browse/JBTM-3407\nbackport of JBTM-3406 and JBTM-3407 to the 4.17  branch\nQA_JTS_JACORB QA_JTA MAIN QA_JTS_JDKORB !XTS", "createdAt": "2020-12-13T12:31:29Z", "url": "https://github.com/jbosstm/narayana/pull/1744", "merged": true, "mergeCommit": {"oid": "2a57211c30f2720562786d7c5ff0b12c45b0e91d"}, "closed": true, "closedAt": "2020-12-15T14:10:49Z", "author": {"login": "mmusgrov"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdlKIi2gH2gAyNTM4OTQzODQxOmJiNWFmMDA2NTZkY2FiYmI0MTRiYmIyOTA2NzY4NzQ3Y2NhZTZkYjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmYJkkAFqTU1MjMzMDU0NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bb5af00656dcabbb414bbb2906768747ccae6db8", "author": {"user": {"login": "jhalliday", "name": "Jonathan Halliday"}}, "url": "https://github.com/jbosstm/narayana/commit/bb5af00656dcabbb414bbb2906768747ccae6db8", "committedDate": "2020-12-11T16:00:49Z", "message": "[JBTM-3406] InboundBridge should recover only local tx"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxMjI3MjUx", "url": "https://github.com/jbosstm/narayana/pull/1744#pullrequestreview-551227251", "createdAt": "2020-12-14T10:19:53Z", "commit": {"oid": "3c6a3d15dd8bde837c159df72ae7fdcc86d6ccc0"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxMjI4NjQ2", "url": "https://github.com/jbosstm/narayana/pull/1744#pullrequestreview-551228646", "createdAt": "2020-12-14T10:21:28Z", "commit": {"oid": "3c6a3d15dd8bde837c159df72ae7fdcc86d6ccc0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMDoyMToyOFrOIFJitw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMDoyMToyOFrOIFJitw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjI3MDEzNQ==", "bodyText": "Maybe, it would  be good to close the ByteArrayOutputStream in finally block in fact.", "url": "https://github.com/jbosstm/narayana/pull/1744#discussion_r542270135", "createdAt": "2020-12-14T10:21:28Z", "author": {"login": "ochaloup"}, "path": "XTS/WSTX/classes/com/arjuna/mw/wstx/logging/wstxLogger.java", "diffHunk": "@@ -33,9 +33,35 @@\n \n import org.jboss.logging.Logger;\n \n+import javax.xml.soap.SOAPException;\n+import javax.xml.soap.SOAPMessage;\n+import javax.xml.ws.handler.MessageContext;\n+import javax.xml.ws.handler.soap.SOAPMessageContext;\n+import java.io.ByteArrayOutputStream;\n+import java.io.IOException;\n+\n \n public class wstxLogger\n {\n     public static final Logger logger = Logger.getLogger(\"com.arjuna.mw.wstx\");\n     public static final wstxI18NLogger i18NLogger = Logger.getMessageLogger(wstxI18NLogger.class, \"com.arjuna.mw.wstx\");\n+\n+    /**\n+     * Print the content of the SOAP message.\n+     *\n+     * @param soapMessageContext  SOAP message context to extract and log the message content from\n+     */\n+    public static final void traceMessage(SOAPMessageContext soapMessageContext) {\n+        SOAPMessage soapMessage = ((SOAPMessageContext) soapMessageContext).getMessage();\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+\n+        try {\n+            soapMessage.writeTo(baos);\n+            logger.trace(baos);\n+        } catch (IOException e) {\n+            logger.trace(\"Failure on logging content of the SOAP message \" + soapMessage, e);\n+        } catch (SOAPException e) {\n+            logger.trace(\"Failure on logging content of the SOAP message \" + soapMessage, e);\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c6a3d15dd8bde837c159df72ae7fdcc86d6ccc0"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38f36831234ef879c2878fc7caf7a94b5799e0bc", "author": {"user": {"login": "ochaloup", "name": "chalda"}}, "url": "https://github.com/jbosstm/narayana/commit/38f36831234ef879c2878fc7caf7a94b5799e0bc", "committedDate": "2020-12-14T17:06:51Z", "message": "[JBTM-3407] additional logging of XTS SOAP processing"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3c6a3d15dd8bde837c159df72ae7fdcc86d6ccc0", "author": {"user": {"login": "ochaloup", "name": "chalda"}}, "url": "https://github.com/jbosstm/narayana/commit/3c6a3d15dd8bde837c159df72ae7fdcc86d6ccc0", "committedDate": "2020-12-13T12:24:28Z", "message": "[JBTM-3407] additional logging of XTS SOAP processing"}, "afterCommit": {"oid": "38f36831234ef879c2878fc7caf7a94b5799e0bc", "author": {"user": {"login": "ochaloup", "name": "chalda"}}, "url": "https://github.com/jbosstm/narayana/commit/38f36831234ef879c2878fc7caf7a94b5799e0bc", "committedDate": "2020-12-14T17:06:51Z", "message": "[JBTM-3407] additional logging of XTS SOAP processing"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUyMzMwNTQ1", "url": "https://github.com/jbosstm/narayana/pull/1744#pullrequestreview-552330545", "createdAt": "2020-12-15T10:54:32Z", "commit": {"oid": "38f36831234ef879c2878fc7caf7a94b5799e0bc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4412, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}