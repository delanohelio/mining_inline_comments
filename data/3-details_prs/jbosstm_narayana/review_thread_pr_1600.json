{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA0Mjg1Nzk2", "number": 1600, "reviewThreads": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxMzo1Mjo1OVrODyg1NQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNDowNzoxN1rODy6mtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0MjkzMzAxOnYy", "diffSide": "RIGHT", "path": "ArjunaJTA/jta/classes/com/arjuna/ats/jta/recovery/RecoveryRequired.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxMzo1Mjo1OVrOGGmZYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxNDo0OTo1MFrOGGpIwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU3MzcyOA==", "bodyText": "I think an AtomicBoolean should be sufficient.", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r409573728", "createdAt": "2020-04-16T13:52:59Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/classes/com/arjuna/ats/jta/recovery/RecoveryRequired.java", "diffHunk": "@@ -0,0 +1,24 @@\n+package com.arjuna.ats.jta.recovery;\n+\n+import java.util.concurrent.locks.ReentrantReadWriteLock;\n+\n+public class RecoveryRequired {\n+\n+    private static ReentrantReadWriteLock lock = new ReentrantReadWriteLock();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "258c410930811626a1e973f5cc02908d327af481"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYxODYyNA==", "bodyText": "I will remove this class and add the AtomicBoolean to XARecoveryModule.java", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r409618624", "createdAt": "2020-04-16T14:49:50Z", "author": {"login": "mayankkunwar"}, "path": "ArjunaJTA/jta/classes/com/arjuna/ats/jta/recovery/RecoveryRequired.java", "diffHunk": "@@ -0,0 +1,24 @@\n+package com.arjuna.ats.jta.recovery;\n+\n+import java.util.concurrent.locks.ReentrantReadWriteLock;\n+\n+public class RecoveryRequired {\n+\n+    private static ReentrantReadWriteLock lock = new ReentrantReadWriteLock();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU3MzcyOA=="}, "originalCommit": {"oid": "258c410930811626a1e973f5cc02908d327af481"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0Mjk2MDAwOnYy", "diffSide": "RIGHT", "path": "ArjunaJTA/jta/classes/com/arjuna/ats/internal/jta/recovery/arjunacore/XARecoveryModule.java", "isResolved": false, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxMzo1ODozNVrOGGmqPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNzoxNToyOFrOGI2TFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU3ODA0NA==", "bodyText": "We can avoid the new RecoveryRequired class and just add an AtomicBoolean to this class instead.", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r409578044", "createdAt": "2020-04-16T13:58:35Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/classes/com/arjuna/ats/internal/jta/recovery/arjunacore/XARecoveryModule.java", "diffHunk": "@@ -59,14 +59,8 @@\n import com.arjuna.ats.internal.arjuna.common.UidHelper;\n import com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord;\n import com.arjuna.ats.jta.common.jtaPropertyManager;\n-import com.arjuna.ats.jta.logging.RecoveryRequired;\n import com.arjuna.ats.jta.logging.jtaLogger;\n-import com.arjuna.ats.jta.recovery.SerializableXAResourceDeserializer;\n-import com.arjuna.ats.jta.recovery.XARecoveryResource;\n-import com.arjuna.ats.jta.recovery.XARecoveryResourceManager;\n-import com.arjuna.ats.jta.recovery.XAResourceOrphanFilter;\n-import com.arjuna.ats.jta.recovery.XAResourceRecovery;\n-import com.arjuna.ats.jta.recovery.XAResourceRecoveryHelper;\n+import com.arjuna.ats.jta.recovery.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "258c410930811626a1e973f5cc02908d327af481"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYwMjE1Mw==", "bodyText": "We have a checkstyle plugin which is skipped by default because we have a lot of old files, that we don't want to change, which would fail the compilation. But on new code we do encourage/advise that it should follow our checkstyle rules.\nTo see if your code follows our style guide you have two options:\n\n\nEnable the checkstyle plugin via the pom file, or\n\n\nReference the rule file from your IDE settings (for Intelij that would be Settings -> Other Settings -> Checkstyle) and we use the wildfly rule set.", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r409602153", "createdAt": "2020-04-16T14:28:58Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/classes/com/arjuna/ats/internal/jta/recovery/arjunacore/XARecoveryModule.java", "diffHunk": "@@ -59,14 +59,8 @@\n import com.arjuna.ats.internal.arjuna.common.UidHelper;\n import com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord;\n import com.arjuna.ats.jta.common.jtaPropertyManager;\n-import com.arjuna.ats.jta.logging.RecoveryRequired;\n import com.arjuna.ats.jta.logging.jtaLogger;\n-import com.arjuna.ats.jta.recovery.SerializableXAResourceDeserializer;\n-import com.arjuna.ats.jta.recovery.XARecoveryResource;\n-import com.arjuna.ats.jta.recovery.XARecoveryResourceManager;\n-import com.arjuna.ats.jta.recovery.XAResourceOrphanFilter;\n-import com.arjuna.ats.jta.recovery.XAResourceRecovery;\n-import com.arjuna.ats.jta.recovery.XAResourceRecoveryHelper;\n+import com.arjuna.ats.jta.recovery.*;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU3ODA0NA=="}, "originalCommit": {"oid": "258c410930811626a1e973f5cc02908d327af481"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYxNjU4NA==", "bodyText": "We can avoid the new RecoveryRequired class and just add an AtomicBoolean to this class instead.\n\nOkay, I will remove the new RecoveryRequired class and add AtomicBoolean", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r409616584", "createdAt": "2020-04-16T14:47:17Z", "author": {"login": "mayankkunwar"}, "path": "ArjunaJTA/jta/classes/com/arjuna/ats/internal/jta/recovery/arjunacore/XARecoveryModule.java", "diffHunk": "@@ -59,14 +59,8 @@\n import com.arjuna.ats.internal.arjuna.common.UidHelper;\n import com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord;\n import com.arjuna.ats.jta.common.jtaPropertyManager;\n-import com.arjuna.ats.jta.logging.RecoveryRequired;\n import com.arjuna.ats.jta.logging.jtaLogger;\n-import com.arjuna.ats.jta.recovery.SerializableXAResourceDeserializer;\n-import com.arjuna.ats.jta.recovery.XARecoveryResource;\n-import com.arjuna.ats.jta.recovery.XARecoveryResourceManager;\n-import com.arjuna.ats.jta.recovery.XAResourceOrphanFilter;\n-import com.arjuna.ats.jta.recovery.XAResourceRecovery;\n-import com.arjuna.ats.jta.recovery.XAResourceRecoveryHelper;\n+import com.arjuna.ats.jta.recovery.*;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU3ODA0NA=="}, "originalCommit": {"oid": "258c410930811626a1e973f5cc02908d327af481"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYxNzU1OQ==", "bodyText": "We have a checkstyle plugin which is skipped by default because we have a lot of old files, that we don't want to change, which would fail the compilation. But on new code we do encourage/advise that it should follow our checkstyle rules.\nTo see if your code follows our style guide you have two options:\n\nEnable the checkstyle plugin via the pom file, or\nReference the rule file from your IDE settings (for Intelij that would be Settings -> Other Settings -> Checkstyle) and we use the wildfly rule set.\n\n\nMaybe checkstyle changes can be done on separate PR?", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r409617559", "createdAt": "2020-04-16T14:48:30Z", "author": {"login": "mayankkunwar"}, "path": "ArjunaJTA/jta/classes/com/arjuna/ats/internal/jta/recovery/arjunacore/XARecoveryModule.java", "diffHunk": "@@ -59,14 +59,8 @@\n import com.arjuna.ats.internal.arjuna.common.UidHelper;\n import com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord;\n import com.arjuna.ats.jta.common.jtaPropertyManager;\n-import com.arjuna.ats.jta.logging.RecoveryRequired;\n import com.arjuna.ats.jta.logging.jtaLogger;\n-import com.arjuna.ats.jta.recovery.SerializableXAResourceDeserializer;\n-import com.arjuna.ats.jta.recovery.XARecoveryResource;\n-import com.arjuna.ats.jta.recovery.XARecoveryResourceManager;\n-import com.arjuna.ats.jta.recovery.XAResourceOrphanFilter;\n-import com.arjuna.ats.jta.recovery.XAResourceRecovery;\n-import com.arjuna.ats.jta.recovery.XAResourceRecoveryHelper;\n+import com.arjuna.ats.jta.recovery.*;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU3ODA0NA=="}, "originalCommit": {"oid": "258c410930811626a1e973f5cc02908d327af481"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDIxNzUxMA==", "bodyText": "The checkstyle issue I commented on was introduced as part of this PR so a separate PR would not make sense.\nI admit that having to manually run the checkstyle plugin is not optimal. But I do not see an alternative to the reason I gave:\n\nWe have a checkstyle plugin which is skipped by default because we have a lot of old files, that we don't want to change, which would fail the compilation. But on new code we do encourage/advise that it should follow our checkstyle rules.\n\n@ochaloup We have had this problem of  skipping the checkstyle plugin on two PRs this week, it mainly affects new/occasional contributors. Do you have any thoughts on how we could improve it (other than fixing all of the historical code).", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410217510", "createdAt": "2020-04-17T13:21:23Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/classes/com/arjuna/ats/internal/jta/recovery/arjunacore/XARecoveryModule.java", "diffHunk": "@@ -59,14 +59,8 @@\n import com.arjuna.ats.internal.arjuna.common.UidHelper;\n import com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord;\n import com.arjuna.ats.jta.common.jtaPropertyManager;\n-import com.arjuna.ats.jta.logging.RecoveryRequired;\n import com.arjuna.ats.jta.logging.jtaLogger;\n-import com.arjuna.ats.jta.recovery.SerializableXAResourceDeserializer;\n-import com.arjuna.ats.jta.recovery.XARecoveryResource;\n-import com.arjuna.ats.jta.recovery.XARecoveryResourceManager;\n-import com.arjuna.ats.jta.recovery.XAResourceOrphanFilter;\n-import com.arjuna.ats.jta.recovery.XAResourceRecovery;\n-import com.arjuna.ats.jta.recovery.XAResourceRecoveryHelper;\n+import com.arjuna.ats.jta.recovery.*;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU3ODA0NA=="}, "originalCommit": {"oid": "258c410930811626a1e973f5cc02908d327af481"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0MDAzOQ==", "bodyText": "I see that your latest push has fixed the checkstyle problem I reported.\nBut I will not mark the conversation as resolved yet since I have an outstanding question for Ondra.", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410240039", "createdAt": "2020-04-17T13:56:36Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/classes/com/arjuna/ats/internal/jta/recovery/arjunacore/XARecoveryModule.java", "diffHunk": "@@ -59,14 +59,8 @@\n import com.arjuna.ats.internal.arjuna.common.UidHelper;\n import com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord;\n import com.arjuna.ats.jta.common.jtaPropertyManager;\n-import com.arjuna.ats.jta.logging.RecoveryRequired;\n import com.arjuna.ats.jta.logging.jtaLogger;\n-import com.arjuna.ats.jta.recovery.SerializableXAResourceDeserializer;\n-import com.arjuna.ats.jta.recovery.XARecoveryResource;\n-import com.arjuna.ats.jta.recovery.XARecoveryResourceManager;\n-import com.arjuna.ats.jta.recovery.XAResourceOrphanFilter;\n-import com.arjuna.ats.jta.recovery.XAResourceRecovery;\n-import com.arjuna.ats.jta.recovery.XAResourceRecoveryHelper;\n+import com.arjuna.ats.jta.recovery.*;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU3ODA0NA=="}, "originalCommit": {"oid": "258c410930811626a1e973f5cc02908d327af481"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTkzMTQxNQ==", "bodyText": "Sorry for not reacting this sooner I wanted but I haven't got to this. I can see the discussion was moved to chat. I replied there.", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r411931415", "createdAt": "2020-04-21T07:15:28Z", "author": {"login": "ochaloup"}, "path": "ArjunaJTA/jta/classes/com/arjuna/ats/internal/jta/recovery/arjunacore/XARecoveryModule.java", "diffHunk": "@@ -59,14 +59,8 @@\n import com.arjuna.ats.internal.arjuna.common.UidHelper;\n import com.arjuna.ats.internal.jta.resources.arjunacore.XAResourceRecord;\n import com.arjuna.ats.jta.common.jtaPropertyManager;\n-import com.arjuna.ats.jta.logging.RecoveryRequired;\n import com.arjuna.ats.jta.logging.jtaLogger;\n-import com.arjuna.ats.jta.recovery.SerializableXAResourceDeserializer;\n-import com.arjuna.ats.jta.recovery.XARecoveryResource;\n-import com.arjuna.ats.jta.recovery.XARecoveryResourceManager;\n-import com.arjuna.ats.jta.recovery.XAResourceOrphanFilter;\n-import com.arjuna.ats.jta.recovery.XAResourceRecovery;\n-import com.arjuna.ats.jta.recovery.XAResourceRecoveryHelper;\n+import com.arjuna.ats.jta.recovery.*;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU3ODA0NA=="}, "originalCommit": {"oid": "258c410930811626a1e973f5cc02908d327af481"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0MzA3NjM5OnYy", "diffSide": "RIGHT", "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxNDoyMjoyNlrOGGnzpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxMzoyNTowMlrOGHN1Cw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU5NjgzOQ==", "bodyText": "Where is this used?", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r409596839", "createdAt": "2020-04-16T14:22:26Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest.java", "diffHunk": "@@ -28,8 +28,8 @@\n import com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule;\n import com.arjuna.ats.jta.common.jtaPropertyManager;\n import com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple;\n-import com.arjuna.ats.jta.logging.RecoveryRequired;\n import com.arjuna.ats.jta.logging.jtaLogger;\n+import com.arjuna.ats.jta.recovery.RecoveryRequired;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "258c410930811626a1e973f5cc02908d327af481"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYxODcxNA==", "bodyText": "line no. 84", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r409618714", "createdAt": "2020-04-16T14:49:57Z", "author": {"login": "mayankkunwar"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest.java", "diffHunk": "@@ -28,8 +28,8 @@\n import com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule;\n import com.arjuna.ats.jta.common.jtaPropertyManager;\n import com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple;\n-import com.arjuna.ats.jta.logging.RecoveryRequired;\n import com.arjuna.ats.jta.logging.jtaLogger;\n+import com.arjuna.ats.jta.recovery.RecoveryRequired;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU5NjgzOQ=="}, "originalCommit": {"oid": "258c410930811626a1e973f5cc02908d327af481"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDIxOTc4Nw==", "bodyText": "Line 84 reads\n       } finally {", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410219787", "createdAt": "2020-04-17T13:25:02Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest.java", "diffHunk": "@@ -28,8 +28,8 @@\n import com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule;\n import com.arjuna.ats.jta.common.jtaPropertyManager;\n import com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple;\n-import com.arjuna.ats.jta.logging.RecoveryRequired;\n import com.arjuna.ats.jta.logging.jtaLogger;\n+import com.arjuna.ats.jta.recovery.RecoveryRequired;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTU5NjgzOQ=="}, "originalCommit": {"oid": "258c410930811626a1e973f5cc02908d327af481"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0MzExNTkxOnYy", "diffSide": "RIGHT", "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest2.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxNDozMDoyMVrOGGoM5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNDoxOTo0MlrOGHP9XQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYwMzMwMA==", "bodyText": "Where is this used?", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r409603300", "createdAt": "2020-04-16T14:30:21Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest2.java", "diffHunk": "@@ -27,8 +27,8 @@\n import com.arjuna.ats.arjuna.tools.RecoveryMonitor;\n import com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule;\n import com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple;\n-import com.arjuna.ats.jta.logging.RecoveryRequired;\n import com.arjuna.ats.jta.logging.jtaLogger;\n+import com.arjuna.ats.jta.recovery.RecoveryRequired;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "258c410930811626a1e973f5cc02908d327af481"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYxODgyNQ==", "bodyText": "line no. 126", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r409618825", "createdAt": "2020-04-16T14:50:03Z", "author": {"login": "mayankkunwar"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest2.java", "diffHunk": "@@ -27,8 +27,8 @@\n import com.arjuna.ats.arjuna.tools.RecoveryMonitor;\n import com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule;\n import com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple;\n-import com.arjuna.ats.jta.logging.RecoveryRequired;\n import com.arjuna.ats.jta.logging.jtaLogger;\n+import com.arjuna.ats.jta.recovery.RecoveryRequired;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYwMzMwMA=="}, "originalCommit": {"oid": "258c410930811626a1e973f5cc02908d327af481"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDIyMTQwNQ==", "bodyText": "Line 126 reads as follows:\n            assertFalse(!xaRecoveryModule.isPeriodicWorkSuccessful());", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410221405", "createdAt": "2020-04-17T13:27:44Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest2.java", "diffHunk": "@@ -27,8 +27,8 @@\n import com.arjuna.ats.arjuna.tools.RecoveryMonitor;\n import com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule;\n import com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple;\n-import com.arjuna.ats.jta.logging.RecoveryRequired;\n import com.arjuna.ats.jta.logging.jtaLogger;\n+import com.arjuna.ats.jta.recovery.RecoveryRequired;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYwMzMwMA=="}, "originalCommit": {"oid": "258c410930811626a1e973f5cc02908d327af481"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0OTc2Nw==", "bodyText": "Your latest push has resolved this so I will mark it as resolved.", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410249767", "createdAt": "2020-04-17T14:11:44Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest2.java", "diffHunk": "@@ -27,8 +27,8 @@\n import com.arjuna.ats.arjuna.tools.RecoveryMonitor;\n import com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule;\n import com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple;\n-import com.arjuna.ats.jta.logging.RecoveryRequired;\n import com.arjuna.ats.jta.logging.jtaLogger;\n+import com.arjuna.ats.jta.recovery.RecoveryRequired;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYwMzMwMA=="}, "originalCommit": {"oid": "258c410930811626a1e973f5cc02908d327af481"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI1NDY4NQ==", "bodyText": "Now I have deleted RecoveryRequired class and introduced new class variable, so line 126 is using some other class instance xaRecoveryModule to access recovery status.", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410254685", "createdAt": "2020-04-17T14:19:42Z", "author": {"login": "mayankkunwar"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest2.java", "diffHunk": "@@ -27,8 +27,8 @@\n import com.arjuna.ats.arjuna.tools.RecoveryMonitor;\n import com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule;\n import com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple;\n-import com.arjuna.ats.jta.logging.RecoveryRequired;\n import com.arjuna.ats.jta.logging.jtaLogger;\n+import com.arjuna.ats.jta.recovery.RecoveryRequired;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYwMzMwMA=="}, "originalCommit": {"oid": "258c410930811626a1e973f5cc02908d327af481"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0MzExNjc1OnYy", "diffSide": "RIGHT", "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryScanTest.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxNDozMDozMFrOGGoNaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxMzo1NzoxNlrOGHPFqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYwMzQzNQ==", "bodyText": "Where is this used?", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r409603435", "createdAt": "2020-04-16T14:30:30Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryScanTest.java", "diffHunk": "@@ -28,8 +28,8 @@\n import com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule;\n import com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple;\n import com.arjuna.ats.jta.common.jtaPropertyManager;\n-import com.arjuna.ats.jta.logging.RecoveryRequired;\n import com.arjuna.ats.jta.logging.jtaLogger;\n+import com.arjuna.ats.jta.recovery.RecoveryRequired;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "258c410930811626a1e973f5cc02908d327af481"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYxODkwMw==", "bodyText": "line no. 95", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r409618903", "createdAt": "2020-04-16T14:50:10Z", "author": {"login": "mayankkunwar"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryScanTest.java", "diffHunk": "@@ -28,8 +28,8 @@\n import com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule;\n import com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple;\n import com.arjuna.ats.jta.common.jtaPropertyManager;\n-import com.arjuna.ats.jta.logging.RecoveryRequired;\n import com.arjuna.ats.jta.logging.jtaLogger;\n+import com.arjuna.ats.jta.recovery.RecoveryRequired;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYwMzQzNQ=="}, "originalCommit": {"oid": "258c410930811626a1e973f5cc02908d327af481"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDIyMjU3MQ==", "bodyText": "Line 95 is a blank line.", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410222571", "createdAt": "2020-04-17T13:29:34Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryScanTest.java", "diffHunk": "@@ -28,8 +28,8 @@\n import com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule;\n import com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple;\n import com.arjuna.ats.jta.common.jtaPropertyManager;\n-import com.arjuna.ats.jta.logging.RecoveryRequired;\n import com.arjuna.ats.jta.logging.jtaLogger;\n+import com.arjuna.ats.jta.recovery.RecoveryRequired;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYwMzQzNQ=="}, "originalCommit": {"oid": "258c410930811626a1e973f5cc02908d327af481"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0MDQyNg==", "bodyText": "I see that your latest push has fixed this so marking as resolved.", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410240426", "createdAt": "2020-04-17T13:57:16Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryScanTest.java", "diffHunk": "@@ -28,8 +28,8 @@\n import com.arjuna.ats.internal.jta.recovery.arjunacore.XARecoveryModule;\n import com.arjuna.ats.internal.jta.transaction.arjunacore.TransactionImple;\n import com.arjuna.ats.jta.common.jtaPropertyManager;\n-import com.arjuna.ats.jta.logging.RecoveryRequired;\n import com.arjuna.ats.jta.logging.jtaLogger;\n+import com.arjuna.ats.jta.recovery.RecoveryRequired;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTYwMzQzNQ=="}, "originalCommit": {"oid": "258c410930811626a1e973f5cc02908d327af481"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0MzY4MDI1OnYy", "diffSide": "RIGHT", "path": "ArjunaJTA/jta/classes/com/arjuna/ats/internal/jta/recovery/arjunacore/XARecoveryModule.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxNjozNjo0MFrOGGt0Rw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QwNDo1MzoyMFrOGG_6kA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY5NTMwMw==", "bodyText": "why this needs to be static? I'm asking this question as I'm interested if there is some reasons behind this decision.\nI assume the approach should be to not use the static when it's not particularly needed. The API which the behaviour exposing to outer world - aka API that was used is the call to XARecoveryModule.isPeriodcWorkSuccesful.\nThis one is then consumed by WorkerService (https://github.com/jbosstm/narayana/blob/5.10.4.Final/ArjunaCore/arjuna/classes/com/arjuna/ats/internal/arjuna/recovery/WorkerService.java#L114) to inform about issue on recovery process when verbose output is demanded.", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r409695303", "createdAt": "2020-04-16T16:36:40Z", "author": {"login": "ochaloup"}, "path": "ArjunaJTA/jta/classes/com/arjuna/ats/internal/jta/recovery/arjunacore/XARecoveryModule.java", "diffHunk": "@@ -78,6 +78,16 @@\n \n public class XARecoveryModule implements ExtendedRecoveryModule\n {\n+\tprivate static AtomicBoolean recoveryProblems = new AtomicBoolean(false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "824af4910d4d0e94a432c6dcecc5b69106567c72"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTk5MTgyNA==", "bodyText": "Oh! sorry, I missed to see that XARecoveryModule.isPeriodcWorkSuccesful is already available, in order to expose the recovery state. I will remove static keyword. Thanks", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r409991824", "createdAt": "2020-04-17T04:53:20Z", "author": {"login": "mayankkunwar"}, "path": "ArjunaJTA/jta/classes/com/arjuna/ats/internal/jta/recovery/arjunacore/XARecoveryModule.java", "diffHunk": "@@ -78,6 +78,16 @@\n \n public class XARecoveryModule implements ExtendedRecoveryModule\n {\n+\tprivate static AtomicBoolean recoveryProblems = new AtomicBoolean(false);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY5NTMwMw=="}, "originalCommit": {"oid": "824af4910d4d0e94a432c6dcecc5b69106567c72"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0MzY4MTkxOnYy", "diffSide": "RIGHT", "path": "ArjunaJTA/jta/classes/com/arjuna/ats/internal/jta/recovery/arjunacore/XARecoveryModule.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxNjozNzowOFrOGGt1Yg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QwNDo1MzoxNVrOGG_6fQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY5NTU4Ng==", "bodyText": "if there is no particular reason to make anything public then it should be private (or package-private in case)", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r409695586", "createdAt": "2020-04-16T16:37:08Z", "author": {"login": "ochaloup"}, "path": "ArjunaJTA/jta/classes/com/arjuna/ats/internal/jta/recovery/arjunacore/XARecoveryModule.java", "diffHunk": "@@ -78,6 +78,16 @@\n \n public class XARecoveryModule implements ExtendedRecoveryModule\n {\n+\tprivate static AtomicBoolean recoveryProblems = new AtomicBoolean(false);\n+\n+\tpublic static boolean isRecoveryProblems() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "824af4910d4d0e94a432c6dcecc5b69106567c72"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTk5MTgwNQ==", "bodyText": "I will remove public access modifier.", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r409991805", "createdAt": "2020-04-17T04:53:15Z", "author": {"login": "mayankkunwar"}, "path": "ArjunaJTA/jta/classes/com/arjuna/ats/internal/jta/recovery/arjunacore/XARecoveryModule.java", "diffHunk": "@@ -78,6 +78,16 @@\n \n public class XARecoveryModule implements ExtendedRecoveryModule\n {\n+\tprivate static AtomicBoolean recoveryProblems = new AtomicBoolean(false);\n+\n+\tpublic static boolean isRecoveryProblems() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY5NTU4Ng=="}, "originalCommit": {"oid": "824af4910d4d0e94a432c6dcecc5b69106567c72"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0MzY5MzM3OnYy", "diffSide": "RIGHT", "path": "ArjunaJTA/jta/classes/com/arjuna/ats/jta/logging/jtaI18NLogger.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNlQxNjozOTo1NlrOGGt8xw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QwNDo1MzowOVrOGG_6Yg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY5NzQ3OQ==", "bodyText": "We don't need this comment anymore. If you couple the functionality of the recovery problem reporting into the one place which is  the XARecoveryModule here then it's the responsibility of the person updating that class to consider it.\nFrom my perspective there is no need to expose this responsibility to somebody adding a warn log message.", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r409697479", "createdAt": "2020-04-16T16:39:56Z", "author": {"login": "ochaloup"}, "path": "ArjunaJTA/jta/classes/com/arjuna/ats/jta/logging/jtaI18NLogger.java", "diffHunk": "@@ -45,6 +45,9 @@\n /**\n  * i18n log messages for the jta module.\n  *\n+ * For jtaI18NLogger, if any method, prefixed with <b>\"warn_recovery\"</b> is called then,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "824af4910d4d0e94a432c6dcecc5b69106567c72"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTk5MTc3OA==", "bodyText": "okay", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r409991778", "createdAt": "2020-04-17T04:53:09Z", "author": {"login": "mayankkunwar"}, "path": "ArjunaJTA/jta/classes/com/arjuna/ats/jta/logging/jtaI18NLogger.java", "diffHunk": "@@ -45,6 +45,9 @@\n /**\n  * i18n log messages for the jta module.\n  *\n+ * For jtaI18NLogger, if any method, prefixed with <b>\"warn_recovery\"</b> is called then,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTY5NzQ3OQ=="}, "originalCommit": {"oid": "824af4910d4d0e94a432c6dcecc5b69106567c72"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0NzEzMDMwOnYy", "diffSide": "LEFT", "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNDowMDo0M1rOGHPOqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNDo1Mjo1OVrOGHRRrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0MjcyOQ==", "bodyText": "We have a policy of only making changes that are relevant to the issue being fixed. This change seems unrelated.", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410242729", "createdAt": "2020-04-17T14:00:43Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest.java", "diffHunk": "@@ -66,8 +65,8 @@ public void testRecoveryMonitorWithFailure() throws Exception {\n         recoveryEnvironmentBean.setRecoveryListener(true); // configure the RecoveryMonitor\n \n         RecoveryManager manager = RecoveryManager.manager(RecoveryManager.DIRECT_MANAGEMENT);\n-\n-        manager.addModule(new XARecoveryModule()); // we only need to test the XARecoveryModule", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf17d29a0690b7a65ce433ea7da32db1a49d5c86"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI1NzQ4NQ==", "bodyText": "Actually, change is related because as I have introduce new class variable in XARecoveryModule class to maintain recovery state, therefore in order to access the value of recovery state in test, I needed XARecoveryModule reference.", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410257485", "createdAt": "2020-04-17T14:23:57Z", "author": {"login": "mayankkunwar"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest.java", "diffHunk": "@@ -66,8 +65,8 @@ public void testRecoveryMonitorWithFailure() throws Exception {\n         recoveryEnvironmentBean.setRecoveryListener(true); // configure the RecoveryMonitor\n \n         RecoveryManager manager = RecoveryManager.manager(RecoveryManager.DIRECT_MANAGEMENT);\n-\n-        manager.addModule(new XARecoveryModule()); // we only need to test the XARecoveryModule", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0MjcyOQ=="}, "originalCommit": {"oid": "bf17d29a0690b7a65ce433ea7da32db1a49d5c86"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI3NjI2OQ==", "bodyText": "Ah okay, apologies for not checking", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410276269", "createdAt": "2020-04-17T14:52:59Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest.java", "diffHunk": "@@ -66,8 +65,8 @@ public void testRecoveryMonitorWithFailure() throws Exception {\n         recoveryEnvironmentBean.setRecoveryListener(true); // configure the RecoveryMonitor\n \n         RecoveryManager manager = RecoveryManager.manager(RecoveryManager.DIRECT_MANAGEMENT);\n-\n-        manager.addModule(new XARecoveryModule()); // we only need to test the XARecoveryModule", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0MjcyOQ=="}, "originalCommit": {"oid": "bf17d29a0690b7a65ce433ea7da32db1a49d5c86"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0NzEzMTQxOnYy", "diffSide": "LEFT", "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest2.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNDowMTowMVrOGHPPUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNDo1NDo0NVrOGHRV6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0Mjg5OQ==", "bodyText": "Same comment here (the change is unrelated to the issue)", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410242899", "createdAt": "2020-04-17T14:01:01Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest2.java", "diffHunk": "@@ -109,7 +108,8 @@ public void start(Xid xid, int i) throws XAException {\n \n         RecoveryManager manager = RecoveryManager.manager(RecoveryManager.DIRECT_MANAGEMENT);\n \n-        manager.addModule(new XARecoveryModule()); // we only need to test the XARecoveryModule", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf17d29a0690b7a65ce433ea7da32db1a49d5c86"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI1NzkzNA==", "bodyText": "same comment as above (changes are related to this issue)", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410257934", "createdAt": "2020-04-17T14:24:36Z", "author": {"login": "mayankkunwar"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest2.java", "diffHunk": "@@ -109,7 +108,8 @@ public void start(Xid xid, int i) throws XAException {\n \n         RecoveryManager manager = RecoveryManager.manager(RecoveryManager.DIRECT_MANAGEMENT);\n \n-        manager.addModule(new XARecoveryModule()); // we only need to test the XARecoveryModule", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0Mjg5OQ=="}, "originalCommit": {"oid": "bf17d29a0690b7a65ce433ea7da32db1a49d5c86"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI3NjM5NA==", "bodyText": "Thanks", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410276394", "createdAt": "2020-04-17T14:53:12Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest2.java", "diffHunk": "@@ -109,7 +108,8 @@ public void start(Xid xid, int i) throws XAException {\n \n         RecoveryManager manager = RecoveryManager.manager(RecoveryManager.DIRECT_MANAGEMENT);\n \n-        manager.addModule(new XARecoveryModule()); // we only need to test the XARecoveryModule", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0Mjg5OQ=="}, "originalCommit": {"oid": "bf17d29a0690b7a65ce433ea7da32db1a49d5c86"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI3NzM1Mw==", "bodyText": "Apologies for not checking. Thanks", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410277353", "createdAt": "2020-04-17T14:54:45Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest2.java", "diffHunk": "@@ -109,7 +108,8 @@ public void start(Xid xid, int i) throws XAException {\n \n         RecoveryManager manager = RecoveryManager.manager(RecoveryManager.DIRECT_MANAGEMENT);\n \n-        manager.addModule(new XARecoveryModule()); // we only need to test the XARecoveryModule", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0Mjg5OQ=="}, "originalCommit": {"oid": "bf17d29a0690b7a65ce433ea7da32db1a49d5c86"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0NzEzNTcyOnYy", "diffSide": "RIGHT", "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest2.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNDowMjowMVrOGHPR8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNDoyNDo1MVrOGHQKtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0MzU3MQ==", "bodyText": "assertTrue(xaRecoveryModule.isPeriodicWorkSuccessful());\navoids the double negative.", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410243571", "createdAt": "2020-04-17T14:02:01Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest2.java", "diffHunk": "@@ -123,7 +123,7 @@ public void start(Xid xid, int i) throws XAException {\n             // check the output of the scan\n             assertEquals(\"DONE\", RecoveryMonitor.getResponse());\n             assertEquals(\"DONE\", RecoveryMonitor.getSystemOutput());\n-            assertFalse(RecoveryRequired.isRecoveryProblems());\n+            assertFalse(!xaRecoveryModule.isPeriodicWorkSuccessful());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf17d29a0690b7a65ce433ea7da32db1a49d5c86"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI1ODEwMA==", "bodyText": "okay", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410258100", "createdAt": "2020-04-17T14:24:51Z", "author": {"login": "mayankkunwar"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest2.java", "diffHunk": "@@ -123,7 +123,7 @@ public void start(Xid xid, int i) throws XAException {\n             // check the output of the scan\n             assertEquals(\"DONE\", RecoveryMonitor.getResponse());\n             assertEquals(\"DONE\", RecoveryMonitor.getSystemOutput());\n-            assertFalse(RecoveryRequired.isRecoveryProblems());\n+            assertFalse(!xaRecoveryModule.isPeriodicWorkSuccessful());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0MzU3MQ=="}, "originalCommit": {"oid": "bf17d29a0690b7a65ce433ea7da32db1a49d5c86"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0NzEzOTg3OnYy", "diffSide": "LEFT", "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryScanTest.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNDowMzowOFrOGHPUig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNDo1NTowOVrOGHRW5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0NDIzNA==", "bodyText": "Same comment here (the change is unrelated to the issue)", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410244234", "createdAt": "2020-04-17T14:03:08Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryScanTest.java", "diffHunk": "@@ -66,7 +66,8 @@ public static void beforeClass() throws Exception {\n \n         manager = RecoveryManager.manager(RecoveryManager.DIRECT_MANAGEMENT);\n \n-        manager.addModule(new XARecoveryModule()); // we only need to test the XARecoveryModule", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf17d29a0690b7a65ce433ea7da32db1a49d5c86"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI1ODMyMw==", "bodyText": "Changes are related(as explained in above comments)", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410258323", "createdAt": "2020-04-17T14:25:10Z", "author": {"login": "mayankkunwar"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryScanTest.java", "diffHunk": "@@ -66,7 +66,8 @@ public static void beforeClass() throws Exception {\n \n         manager = RecoveryManager.manager(RecoveryManager.DIRECT_MANAGEMENT);\n \n-        manager.addModule(new XARecoveryModule()); // we only need to test the XARecoveryModule", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0NDIzNA=="}, "originalCommit": {"oid": "bf17d29a0690b7a65ce433ea7da32db1a49d5c86"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI3NzYwNA==", "bodyText": "Thanks", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410277604", "createdAt": "2020-04-17T14:55:09Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryScanTest.java", "diffHunk": "@@ -66,7 +66,8 @@ public static void beforeClass() throws Exception {\n \n         manager = RecoveryManager.manager(RecoveryManager.DIRECT_MANAGEMENT);\n \n-        manager.addModule(new XARecoveryModule()); // we only need to test the XARecoveryModule", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0NDIzNA=="}, "originalCommit": {"oid": "bf17d29a0690b7a65ce433ea7da32db1a49d5c86"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0NzE1MDUzOnYy", "diffSide": "RIGHT", "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNDowNTo1MlrOGHPbdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNDoyNTozNlrOGHQMpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0NjAwNQ==", "bodyText": "assertFalse(xaRecoveryModule.isPeriodicWorkSuccessful());\nis easier to read", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410246005", "createdAt": "2020-04-17T14:05:52Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest.java", "diffHunk": "@@ -81,7 +80,7 @@ public void testRecoveryMonitorWithFailure() throws Exception {\n             // check the output of the scan\n             assertEquals(\"ERROR\", RecoveryMonitor.getResponse());\n             assertEquals(\"ERROR\", RecoveryMonitor.getSystemOutput());\n-            assertTrue(RecoveryRequired.isRecoveryProblems());\n+            assertTrue(!xaRecoveryModule.isPeriodicWorkSuccessful());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf17d29a0690b7a65ce433ea7da32db1a49d5c86"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI1ODU5Ng==", "bodyText": "okay", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410258596", "createdAt": "2020-04-17T14:25:36Z", "author": {"login": "mayankkunwar"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest.java", "diffHunk": "@@ -81,7 +80,7 @@ public void testRecoveryMonitorWithFailure() throws Exception {\n             // check the output of the scan\n             assertEquals(\"ERROR\", RecoveryMonitor.getResponse());\n             assertEquals(\"ERROR\", RecoveryMonitor.getSystemOutput());\n-            assertTrue(RecoveryRequired.isRecoveryProblems());\n+            assertTrue(!xaRecoveryModule.isPeriodicWorkSuccessful());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0NjAwNQ=="}, "originalCommit": {"oid": "bf17d29a0690b7a65ce433ea7da32db1a49d5c86"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0NzE1MTczOnYy", "diffSide": "RIGHT", "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest2.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNDowNjoxMVrOGHPcQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNDoyNTo0NlrOGHQNGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0NjIwOQ==", "bodyText": "Same comment here", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410246209", "createdAt": "2020-04-17T14:06:11Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest2.java", "diffHunk": "@@ -123,7 +123,7 @@ public void start(Xid xid, int i) throws XAException {\n             // check the output of the scan\n             assertEquals(\"DONE\", RecoveryMonitor.getResponse());\n             assertEquals(\"DONE\", RecoveryMonitor.getSystemOutput());\n-            assertFalse(RecoveryRequired.isRecoveryProblems());\n+            assertFalse(!xaRecoveryModule.isPeriodicWorkSuccessful());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf17d29a0690b7a65ce433ea7da32db1a49d5c86"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI1ODcxNQ==", "bodyText": "okay", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410258715", "createdAt": "2020-04-17T14:25:46Z", "author": {"login": "mayankkunwar"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryMonitorTest2.java", "diffHunk": "@@ -123,7 +123,7 @@ public void start(Xid xid, int i) throws XAException {\n             // check the output of the scan\n             assertEquals(\"DONE\", RecoveryMonitor.getResponse());\n             assertEquals(\"DONE\", RecoveryMonitor.getSystemOutput());\n-            assertFalse(RecoveryRequired.isRecoveryProblems());\n+            assertFalse(!xaRecoveryModule.isPeriodicWorkSuccessful());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0NjIwOQ=="}, "originalCommit": {"oid": "bf17d29a0690b7a65ce433ea7da32db1a49d5c86"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0NzE1NDQ0OnYy", "diffSide": "RIGHT", "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryScanTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNDowNjo1M1rOGHPeAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNDoyNTo1M1rOGHQNWQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0NjY1Nw==", "bodyText": "assertFalse ... is easier to read", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410246657", "createdAt": "2020-04-17T14:06:53Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryScanTest.java", "diffHunk": "@@ -92,7 +93,7 @@ public void testRecoveryMonitorWithFailure() throws Exception {\n \n         manager.scan();\n \n-        assertTrue(RecoveryRequired.isRecoveryProblems());\n+        assertTrue(!xaRecoveryModule.isPeriodicWorkSuccessful());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf17d29a0690b7a65ce433ea7da32db1a49d5c86"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI1ODc3Nw==", "bodyText": "okay", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410258777", "createdAt": "2020-04-17T14:25:53Z", "author": {"login": "mayankkunwar"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryScanTest.java", "diffHunk": "@@ -92,7 +93,7 @@ public void testRecoveryMonitorWithFailure() throws Exception {\n \n         manager.scan();\n \n-        assertTrue(RecoveryRequired.isRecoveryProblems());\n+        assertTrue(!xaRecoveryModule.isPeriodicWorkSuccessful());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0NjY1Nw=="}, "originalCommit": {"oid": "bf17d29a0690b7a65ce433ea7da32db1a49d5c86"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU0NzE1NTc1OnYy", "diffSide": "RIGHT", "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryScanTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNDowNzoxN1rOGHPe0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xN1QxNDoyNjowM1rOGHQNyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0Njg2NA==", "bodyText": "assertTrue avoids the double negative", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410246864", "createdAt": "2020-04-17T14:07:17Z", "author": {"login": "mmusgrov"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryScanTest.java", "diffHunk": "@@ -157,7 +158,7 @@ public void start(Xid xid, int i) throws XAException {\n \n         manager.scan();\n \n-        assertFalse(RecoveryRequired.isRecoveryProblems());\n+        assertFalse(!xaRecoveryModule.isPeriodicWorkSuccessful());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf17d29a0690b7a65ce433ea7da32db1a49d5c86"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI1ODg5MQ==", "bodyText": "okay", "url": "https://github.com/jbosstm/narayana/pull/1600#discussion_r410258891", "createdAt": "2020-04-17T14:26:03Z", "author": {"login": "mayankkunwar"}, "path": "ArjunaJTA/jta/tests/classes/com/hp/mwtests/ts/jta/recovery/RecoveryScanTest.java", "diffHunk": "@@ -157,7 +158,7 @@ public void start(Xid xid, int i) throws XAException {\n \n         manager.scan();\n \n-        assertFalse(RecoveryRequired.isRecoveryProblems());\n+        assertFalse(!xaRecoveryModule.isPeriodicWorkSuccessful());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDI0Njg2NA=="}, "originalCommit": {"oid": "bf17d29a0690b7a65ce433ea7da32db1a49d5c86"}, "originalPosition": 40}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1305, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}