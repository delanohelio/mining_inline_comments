{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4MjA5NDc2", "number": 1587, "title": "Get 4.17 branch working", "bodyText": "\u2026the app server\nThanks for submitting your Pull Request!\nPlease make sure your PR meets the following requirements:\n\n Pull Request title is properly formatted: JBTM-XYZ Subject\n Pull Request contains link to the JIRA issue(s)\n\nThe build axis can be controlled by prefixing a ! on the following as appropriate.\n!MAIN TOMCAT AS_TESTS RTS JACOCO XTS !QA_JTA !QA_JTS_JACORB !QA_JTS_JDKORB QA_JTS_OPENJDKORB BLACKTIE !PERF LRA NO_WIN DB_TESTS mysql db2 postgres oracle", "createdAt": "2020-04-03T14:33:06Z", "url": "https://github.com/jbosstm/narayana/pull/1587", "merged": true, "mergeCommit": {"oid": "b9961bb0de8941711b2091c0ac353cf74cd4d0d9"}, "closed": true, "closedAt": "2020-04-16T12:14:35Z", "author": {"login": "tomjenkinson"}, "timelineItems": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcUDNXggBqjMxOTcwNTc0MjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcYIGPHgFqTM5NDM5MTY0MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2570d694779f6434dc7f5ca0910fb8c0f1289cc2", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/2570d694779f6434dc7f5ca0910fb8c0f1289cc2", "committedDate": "2020-04-03T14:31:46Z", "message": "CI SCRIPT: Use the version of Maven in the Narayana repo rather than the app server"}, "afterCommit": {"oid": "eb76e81a73b0a41849796ce255dbeae8eb3aa683", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/eb76e81a73b0a41849796ce255dbeae8eb3aa683", "committedDate": "2020-04-03T16:08:42Z", "message": "CI SCRIPT: Use the version of Maven in the Narayana repo rather than the app server"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3Njg5NTQ1", "url": "https://github.com/jbosstm/narayana/pull/1587#pullrequestreview-387689545", "createdAt": "2020-04-04T11:00:01Z", "commit": {"oid": "eb76e81a73b0a41849796ce255dbeae8eb3aa683"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3402115b96a15520e70543d064dfb5d7c910913f", "author": {"user": {"login": "mmusgrov", "name": "Michael Musgrove"}}, "url": "https://github.com/jbosstm/narayana/commit/3402115b96a15520e70543d064dfb5d7c910913f", "committedDate": "2020-04-07T11:33:56Z", "message": "Fix javadoc errors when compiling with JDK 1.8"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50443fabc4bb7cf0092230a7e9e1b3e814d6d816", "author": {"user": {"login": "mmusgrov", "name": "Michael Musgrove"}}, "url": "https://github.com/jbosstm/narayana/commit/50443fabc4bb7cf0092230a7e9e1b3e814d6d816", "committedDate": "2020-04-07T13:41:53Z", "message": "4.17 use -Dhttps.protocols=TLSv1.2"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyODkwMzI5", "url": "https://github.com/jbosstm/narayana/pull/1587#pullrequestreview-392890329", "createdAt": "2020-04-14T12:46:14Z", "commit": {"oid": "eb76e81a73b0a41849796ce255dbeae8eb3aa683"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b658add60699775965766001e3ecff4394e85d8f", "author": {"user": {"login": "mmusgrov", "name": "Michael Musgrove"}}, "url": "https://github.com/jbosstm/narayana/commit/b658add60699775965766001e3ecff4394e85d8f", "committedDate": "2020-04-14T12:55:38Z", "message": "Fix javadoc errors when compiling with JDK 1.8"}, "afterCommit": {"oid": "dbe988b50bcac96ed9a09fd5dde5f405a674e709", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/dbe988b50bcac96ed9a09fd5dde5f405a674e709", "committedDate": "2020-04-14T12:57:36Z", "message": "CI SCRIPT: Use the version of Maven in the Narayana repo rather than the app server"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dbe988b50bcac96ed9a09fd5dde5f405a674e709", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/dbe988b50bcac96ed9a09fd5dde5f405a674e709", "committedDate": "2020-04-14T12:57:36Z", "message": "CI SCRIPT: Use the version of Maven in the Narayana repo rather than the app server"}, "afterCommit": {"oid": "abc82f43926b892ab2501ddccdbc4d3816f9cbf1", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/abc82f43926b892ab2501ddccdbc4d3816f9cbf1", "committedDate": "2020-04-14T12:59:19Z", "message": "CI SCRIPT: Use the version of Maven in the Narayana repo rather than the app server"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b895f1575f8e07d5430c4d6f4f6d6c13a68a884", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/4b895f1575f8e07d5430c4d6f4f6d6c13a68a884", "committedDate": "2020-04-14T13:43:20Z", "message": "CI SCRIPT: Use the version of Maven in the Narayana repo rather than the app server"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "abc82f43926b892ab2501ddccdbc4d3816f9cbf1", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/abc82f43926b892ab2501ddccdbc4d3816f9cbf1", "committedDate": "2020-04-14T12:59:19Z", "message": "CI SCRIPT: Use the version of Maven in the Narayana repo rather than the app server"}, "afterCommit": {"oid": "4b895f1575f8e07d5430c4d6f4f6d6c13a68a884", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/4b895f1575f8e07d5430c4d6f4f6d6c13a68a884", "committedDate": "2020-04-14T13:43:20Z", "message": "CI SCRIPT: Use the version of Maven in the Narayana repo rather than the app server"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyOTUxODE0", "url": "https://github.com/jbosstm/narayana/pull/1587#pullrequestreview-392951814", "createdAt": "2020-04-14T13:56:31Z", "commit": {"oid": "4b895f1575f8e07d5430c4d6f4f6d6c13a68a884"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMzo1NjozMVrOGFP4Ng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNFQxMzo1NjozMVrOGFP4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODE1NjIxNA==", "bodyText": "I forgot to delete this line.", "url": "https://github.com/jbosstm/narayana/pull/1587#discussion_r408156214", "createdAt": "2020-04-14T13:56:31Z", "author": {"login": "mmusgrov"}, "path": "scripts/hudson/narayana.sh", "diffHunk": "@@ -316,6 +316,17 @@ function qa_tests {\n   [ $ok1 = 0 -a $ok2 = 0 ] || fatal \"some qa tests failed\"\n }\n \n+# when building on JDK 7 we get the error\n+#   \"Sonatype no longer supports TLSv1.1 and below (effective, June 18th, 2018).\n+# There are two fixes: upgrade the JDK or use -Dhttps.protocols=TLSv1.2 when starting java\n+JAVA_VER=$(java -version 2>&1 | sed -n ';s/.* version \"\\(.*\\)\\.\\(.*\\)\\..*\"/\\1\\2/p;')\n+if [ \"$JAVA_VER\" -lt 18 ]; then\n+  echo \"JDK version < 18 - setting -Dhttps.protocols=TLSv1.2\"\n+  AS_XARGS=\"-Dhttps.protocols=TLSv1.2\"\n+else\n+  AS_XARGS=\"-Dhttps.protocols=TLSv1.2\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b895f1575f8e07d5430c4d6f4f6d6c13a68a884"}, "originalPosition": 39}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "600c0bada125eba58ea678de99c9b7486d14b204", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/600c0bada125eba58ea678de99c9b7486d14b204", "committedDate": "2020-04-14T14:04:35Z", "message": "Do not set https.protocol for JDK version 18 or later"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "149b2141231331cc82735d065502b096d013e295", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/149b2141231331cc82735d065502b096d013e295", "committedDate": "2020-04-14T15:04:20Z", "message": "BUILD AND CI SCRIPTS: Updated to allow the overiding of MAVEN_OPTS by a calling script and use that to set Xmx for the AS build"}, "afterCommit": {"oid": "71abb1cdff9360d53a0638ea7d09bf6f332f4d8c", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/71abb1cdff9360d53a0638ea7d09bf6f332f4d8c", "committedDate": "2020-04-14T16:01:12Z", "message": "BUILD AND CI SCRIPTS: Updated to allow the overiding of MAVEN_OPTS by a calling script and use that to set Xmx for the AS build"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "71abb1cdff9360d53a0638ea7d09bf6f332f4d8c", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/71abb1cdff9360d53a0638ea7d09bf6f332f4d8c", "committedDate": "2020-04-14T16:01:12Z", "message": "BUILD AND CI SCRIPTS: Updated to allow the overiding of MAVEN_OPTS by a calling script and use that to set Xmx for the AS build"}, "afterCommit": {"oid": "7130b1908f0c00b52fadea8559bb4c19a6dd1882", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/7130b1908f0c00b52fadea8559bb4c19a6dd1882", "committedDate": "2020-04-15T08:12:37Z", "message": "BUILD AND CI SCRIPTS: Updated to allow the overiding of MAVEN_OPTS by a calling script and use that to set Xmx for the AS build"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7130b1908f0c00b52fadea8559bb4c19a6dd1882", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/7130b1908f0c00b52fadea8559bb4c19a6dd1882", "committedDate": "2020-04-15T08:12:37Z", "message": "BUILD AND CI SCRIPTS: Updated to allow the overiding of MAVEN_OPTS by a calling script and use that to set Xmx for the AS build"}, "afterCommit": {"oid": "02467301b7541b91d0cd7c092e4cc502ddebc341", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/02467301b7541b91d0cd7c092e4cc502ddebc341", "committedDate": "2020-04-15T09:26:17Z", "message": "BUILD AND CI SCRIPTS: Updated to allow the overiding of MAVEN_OPTS by a calling script and use that to set Xmx for the AS build"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "02467301b7541b91d0cd7c092e4cc502ddebc341", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/02467301b7541b91d0cd7c092e4cc502ddebc341", "committedDate": "2020-04-15T09:26:17Z", "message": "BUILD AND CI SCRIPTS: Updated to allow the overiding of MAVEN_OPTS by a calling script and use that to set Xmx for the AS build"}, "afterCommit": {"oid": "afb8939f38ac38289af4a507bdd9b8bef79d96d8", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/afb8939f38ac38289af4a507bdd9b8bef79d96d8", "committedDate": "2020-04-15T09:41:18Z", "message": "BUILD AND CI SCRIPTS: Updated to allow the overiding of MAVEN_OPTS by a calling script and use that to set Xmx for the AS build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d9497ef91af715a434fb7d598a359ef8e120498", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/7d9497ef91af715a434fb7d598a359ef8e120498", "committedDate": "2020-04-15T09:50:41Z", "message": "BUILD AND CI SCRIPTS: Updated to allow the overiding of MAVEN_OPTS by a calling script and use that to set Xmx for the AS build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a88eea27e75a737cefc67ce5d22d8baf5161cfb", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/0a88eea27e75a737cefc67ce5d22d8baf5161cfb", "committedDate": "2020-04-15T09:51:11Z", "message": "CI SCRIPT: Properly override the version of XTS being used"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "afb8939f38ac38289af4a507bdd9b8bef79d96d8", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/afb8939f38ac38289af4a507bdd9b8bef79d96d8", "committedDate": "2020-04-15T09:41:18Z", "message": "BUILD AND CI SCRIPTS: Updated to allow the overiding of MAVEN_OPTS by a calling script and use that to set Xmx for the AS build"}, "afterCommit": {"oid": "0a88eea27e75a737cefc67ce5d22d8baf5161cfb", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/0a88eea27e75a737cefc67ce5d22d8baf5161cfb", "committedDate": "2020-04-15T09:51:11Z", "message": "CI SCRIPT: Properly override the version of XTS being used"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8cc82f1bfabc96cd529384b49f777b8de5f8301e", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/8cc82f1bfabc96cd529384b49f777b8de5f8301e", "committedDate": "2020-04-15T11:24:19Z", "message": "CI SCRIPT: Update the version of the help plugin in JBoss to work with updated Maven"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6cbb3350faf73c472449d063b6424b393e92a0a5", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/6cbb3350faf73c472449d063b6424b393e92a0a5", "committedDate": "2020-04-15T11:23:12Z", "message": "CI SCRIPT: Update the version of the help plugin"}, "afterCommit": {"oid": "8cc82f1bfabc96cd529384b49f777b8de5f8301e", "author": {"user": {"login": "tomjenkinson", "name": "Tom Jenkinson"}}, "url": "https://github.com/jbosstm/narayana/commit/8cc82f1bfabc96cd529384b49f777b8de5f8301e", "committedDate": "2020-04-15T11:24:19Z", "message": "CI SCRIPT: Update the version of the help plugin in JBoss to work with updated Maven"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk0MzkxNjQw", "url": "https://github.com/jbosstm/narayana/pull/1587#pullrequestreview-394391640", "createdAt": "2020-04-16T08:06:19Z", "commit": {"oid": "8cc82f1bfabc96cd529384b49f777b8de5f8301e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4557, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}