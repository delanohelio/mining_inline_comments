{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM4OTQzODQx", "number": 1744, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMDoyMToyOFrOFE6JqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMDoyMToyOFrOFE6JqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQwNjkxMzY4OnYy", "diffSide": "RIGHT", "path": "XTS/WSTX/classes/com/arjuna/mw/wstx/logging/wstxLogger.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMDoyMToyOFrOIFJitw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQxMDoyMToyOFrOIFJitw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjI3MDEzNQ==", "bodyText": "Maybe, it would  be good to close the ByteArrayOutputStream in finally block in fact.", "url": "https://github.com/jbosstm/narayana/pull/1744#discussion_r542270135", "createdAt": "2020-12-14T10:21:28Z", "author": {"login": "ochaloup"}, "path": "XTS/WSTX/classes/com/arjuna/mw/wstx/logging/wstxLogger.java", "diffHunk": "@@ -33,9 +33,35 @@\n \n import org.jboss.logging.Logger;\n \n+import javax.xml.soap.SOAPException;\n+import javax.xml.soap.SOAPMessage;\n+import javax.xml.ws.handler.MessageContext;\n+import javax.xml.ws.handler.soap.SOAPMessageContext;\n+import java.io.ByteArrayOutputStream;\n+import java.io.IOException;\n+\n \n public class wstxLogger\n {\n     public static final Logger logger = Logger.getLogger(\"com.arjuna.mw.wstx\");\n     public static final wstxI18NLogger i18NLogger = Logger.getMessageLogger(wstxI18NLogger.class, \"com.arjuna.mw.wstx\");\n+\n+    /**\n+     * Print the content of the SOAP message.\n+     *\n+     * @param soapMessageContext  SOAP message context to extract and log the message content from\n+     */\n+    public static final void traceMessage(SOAPMessageContext soapMessageContext) {\n+        SOAPMessage soapMessage = ((SOAPMessageContext) soapMessageContext).getMessage();\n+        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n+\n+        try {\n+            soapMessage.writeTo(baos);\n+            logger.trace(baos);\n+        } catch (IOException e) {\n+            logger.trace(\"Failure on logging content of the SOAP message \" + soapMessage, e);\n+        } catch (SOAPException e) {\n+            logger.trace(\"Failure on logging content of the SOAP message \" + soapMessage, e);\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3c6a3d15dd8bde837c159df72ae7fdcc86d6ccc0"}, "originalPosition": 33}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1163, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}