{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMwODYxMjMx", "number": 1735, "title": "JDK6 changes to run on CI testing (4.17)", "bodyText": "!QA_JTA !QA_JTS_JDKORB !QA_JTS_OPENJDKORB !QA_JTS_JACORB\nI need to provide few more changes in 4.17 branch as not all axes work fine on JDK6 and AMS CI.\nI ran jobs with this additional set of changes and with them it all seems should be working finally now.", "createdAt": "2020-12-02T09:01:19Z", "url": "https://github.com/jbosstm/narayana/pull/1735", "merged": true, "mergeCommit": {"oid": "7870b85074c6d18ad6fdb6de4e167dd4f3e01825"}, "closed": true, "closedAt": "2020-12-02T11:03:50Z", "author": {"login": "ochaloup"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdh6n48AH2gAyNTMwODYxMjMxOjAxMWIzMjEwMzk3NThmMGFhNWI1ZTNiZWJiM2E5ZWIyODhiMDU1ZTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdiLrkIAFqTU0MjY3ODA3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "011b321039758f0aa5b5e3bebb3a9eb288b055e4", "author": {"user": {"login": "ochaloup", "name": "chalda"}}, "url": "https://github.com/jbosstm/narayana/commit/011b321039758f0aa5b5e3bebb3a9eb288b055e4", "committedDate": "2020-12-01T14:14:48Z", "message": "[SCRIPTS ONLY] adding arq profile for building to get downloaded all dependencies on build time"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyNjQ0NzU1", "url": "https://github.com/jbosstm/narayana/pull/1735#pullrequestreview-542644755", "createdAt": "2020-12-02T09:29:31Z", "commit": {"oid": "48d6a3d6554c34c2c3d6553502a36a7af00b50de"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwOToyOTozMVrOH9R23g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwOToyOTozMVrOH9R23g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDAxNzc1OA==", "bodyText": "Yes I agree with Tom. This command will fail every time since NonExistentTests don't exist.", "url": "https://github.com/jbosstm/narayana/pull/1735#discussion_r534017758", "createdAt": "2020-12-02T09:29:31Z", "author": {"login": "mmusgrov"}, "path": "scripts/hudson/narayana.sh", "diffHunk": "@@ -208,11 +208,25 @@ function build_as {\n   sed -i \"s/2.1.1/2.2/g\" testsuite/pom.xml\n   sed -i \"s/2.1.1/2.2/g\" testsuite/integration/pom.xml\n \n+  # JAVA_HOME_FOR_BUILD can be used in environment if JDK needs to be different from one which runs e.g. tests.\n+  # This env property is used to build with JDK 1.7 as we need JDK 1.6 has issues to download from SSL\n+  if [ -n \"$JAVA_HOME_FOR_BUILD\" ]; then\n+    local pathOriginal=\"$PATH\"\n+    local javaHomeOriginal=\"$JAVA_HOME\"\n+    export JAVA_HOME=\"$JAVA_HOME_FOR_BUILD\"\n+    export PATH=\"$JAVA_HOME/bin:$PATH\"\n+  fi\n+\n   export MAVEN_OPTS=\"$MAVEN_OPTS -Xms2048m -Xmx2048m -XX:MaxPermSize=1024m\"\n   export JAVA_OPTS=\"$JAVA_OPTS -Xms1303m -Xmx1303m -XX:MaxPermSize=512m\"\n-  (cd .. && ./build.sh -f jboss-as/pom.xml -B clean install -DskipTests -Dts.smoke=false $IPV6_OPTS -Drelease=true -Dversion.org.jboss.jboss-transaction-spi=7.1.0.SP2 -Dversion.org.jboss.jbossts.jbossjts=4.17.44.Final-SNAPSHOT -Dversion.org.jboss.jbossts.jbossjts-integration=4.17.44.Final-SNAPSHOT -Dversion.org.jboss.jbossts.jbossxts=4.17.44.Final-SNAPSHOT -Dversion.org.jboss.jbossts=4.17.44.Final-SNAPSHOT $AS_XARGS)\n+  (cd .. && ./build.sh -f jboss-as/pom.xml -B clean install -Dtest=NonExistentTest -DfailIfNoTests=false -Dts.smoke=false $IPV6_OPTS -Drelease=true -Dversion.org.jboss.jboss-transaction-spi=7.1.0.SP2 -Dversion.org.jboss.jbossts.jbossjts=4.17.44.Final-SNAPSHOT -Dversion.org.jboss.jbossts.jbossjts-integration=4.17.44.Final-SNAPSHOT -Dversion.org.jboss.jbossts.jbossxts=4.17.44.Final-SNAPSHOT -Dversion.org.jboss.jbossts=4.17.44.Final-SNAPSHOT $AS_XARGS)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "48d6a3d6554c34c2c3d6553502a36a7af00b50de"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2625abde8236569ad51ec7bb66578c36685088a2", "author": {"user": {"login": "ochaloup", "name": "chalda"}}, "url": "https://github.com/jbosstm/narayana/commit/2625abde8236569ad51ec7bb66578c36685088a2", "committedDate": "2020-12-02T09:49:05Z", "message": "[JDK6 compatibility] txframework to download right maven artifacts versions when running on JDK6"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "48d6a3d6554c34c2c3d6553502a36a7af00b50de", "author": {"user": {"login": "ochaloup", "name": "chalda"}}, "url": "https://github.com/jbosstm/narayana/commit/48d6a3d6554c34c2c3d6553502a36a7af00b50de", "committedDate": "2020-12-02T08:57:10Z", "message": "[JDK6 compatibility] txframework to download right maven artifacts versions when running on JDK6"}, "afterCommit": {"oid": "2625abde8236569ad51ec7bb66578c36685088a2", "author": {"user": {"login": "ochaloup", "name": "chalda"}}, "url": "https://github.com/jbosstm/narayana/commit/2625abde8236569ad51ec7bb66578c36685088a2", "committedDate": "2020-12-02T09:49:05Z", "message": "[JDK6 compatibility] txframework to download right maven artifacts versions when running on JDK6"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyNjc3Mjg5", "url": "https://github.com/jbosstm/narayana/pull/1735#pullrequestreview-542677289", "createdAt": "2020-12-02T10:06:16Z", "commit": {"oid": "2625abde8236569ad51ec7bb66578c36685088a2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyNjc4MDc2", "url": "https://github.com/jbosstm/narayana/pull/1735#pullrequestreview-542678076", "createdAt": "2020-12-02T10:07:13Z", "commit": {"oid": "2625abde8236569ad51ec7bb66578c36685088a2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4404, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}