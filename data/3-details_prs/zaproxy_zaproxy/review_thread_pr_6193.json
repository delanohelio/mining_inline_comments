{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxNzA0Nzkz", "number": 6193, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMTozMjo0MlrOEmiQmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMTo1OTo0MVrOEmjLDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4ODQyNjQ4OnYy", "diffSide": "RIGHT", "path": "zap/src/main/resources/org/zaproxy/zap/resources/Messages.properties", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMTozMjo0MlrOHWnm-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMTo1MjowNVrOHWopqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQ3OTY3Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            brk.checkBox.fixLength            = Fix content length\n          \n          \n            \n            brk.checkBox.fixLength            = Fix Content Length", "url": "https://github.com/zaproxy/zaproxy/pull/6193#discussion_r493479672", "createdAt": "2020-09-23T11:32:42Z", "author": {"login": "kingthorin"}, "path": "zap/src/main/resources/org/zaproxy/zap/resources/Messages.properties", "diffHunk": "@@ -860,6 +860,7 @@ brk.add.title                     = Add breakpoint\n brk.alwaysOnTop.message\t\t\t  = By default ZAP will remain on top of all other windows when a breakpoint is hit.\\n\\\n Press 'Cancel' to disable this feature.\\n\\\n This option can changed via Tools/Breakpoints\n+brk.checkBox.fixLength            = Fix content length", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d628a1a4a7d967891392d67f8b240b30493bce85"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQ5Njc0NA==", "bodyText": "Could it be called \"update\" rather than \"fix\"?", "url": "https://github.com/zaproxy/zaproxy/pull/6193#discussion_r493496744", "createdAt": "2020-09-23T11:52:05Z", "author": {"login": "thc202"}, "path": "zap/src/main/resources/org/zaproxy/zap/resources/Messages.properties", "diffHunk": "@@ -860,6 +860,7 @@ brk.add.title                     = Add breakpoint\n brk.alwaysOnTop.message\t\t\t  = By default ZAP will remain on top of all other windows when a breakpoint is hit.\\n\\\n Press 'Cancel' to disable this feature.\\n\\\n This option can changed via Tools/Breakpoints\n+brk.checkBox.fixLength            = Fix content length", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQ3OTY3Mg=="}, "originalCommit": {"oid": "d628a1a4a7d967891392d67f8b240b30493bce85"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4ODQyNzcwOnYy", "diffSide": "RIGHT", "path": "zap/src/main/resources/org/zaproxy/zap/resources/Messages.properties", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMTozMjo1OFrOHWnnwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMTozMjo1OFrOHWnnwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQ3OTg3Mg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            manReq.checkBox.fixLength      = Fix content length\n          \n          \n            \n            manReq.checkBox.fixLength      = Fix Content Length", "url": "https://github.com/zaproxy/zaproxy/pull/6193#discussion_r493479872", "createdAt": "2020-09-23T11:32:58Z", "author": {"login": "kingthorin"}, "path": "zap/src/main/resources/org/zaproxy/zap/resources/Messages.properties", "diffHunk": "@@ -1958,6 +1959,7 @@ log4j.tools.menu.gc         = Run the Garbage Collector\n \n manReq.name = Manual Request Editor Extension\n manReq.button.send             = Send\n+manReq.checkBox.fixLength      = Fix content length", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d628a1a4a7d967891392d67f8b240b30493bce85"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4ODU0NjI3OnYy", "diffSide": "RIGHT", "path": "zap/src/main/java/org/zaproxy/zap/extension/brk/BreakPanel.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMTo1NDozOFrOHWozSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMTo1NDozOFrOHWozSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQ5OTIxMA==", "bodyText": "setVisible?", "url": "https://github.com/zaproxy/zaproxy/pull/6193#discussion_r493499210", "createdAt": "2020-09-23T11:54:38Z", "author": {"login": "thc202"}, "path": "zap/src/main/java/org/zaproxy/zap/extension/brk/BreakPanel.java", "diffHunk": "@@ -328,6 +343,7 @@ public void run() {\n                                 responsePanel.setEditable(true);\n                                 cl.show(panelContent, RESPONSE_PANEL);\n                             }\n+                            getButtonFixContentLength().setEnabled(msg instanceof HttpMessage);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d628a1a4a7d967891392d67f8b240b30493bce85"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4ODU0NjQ2OnYy", "diffSide": "RIGHT", "path": "zap/src/main/java/org/zaproxy/zap/extension/brk/BreakPanel.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMTo1NDo0MFrOHWozbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwOTo1ODo0NVrOHZlo8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQ5OTI0Ng==", "bodyText": "Needs equivalent in/for the response.", "url": "https://github.com/zaproxy/zaproxy/pull/6193#discussion_r493499246", "createdAt": "2020-09-23T11:54:40Z", "author": {"login": "thc202"}, "path": "zap/src/main/java/org/zaproxy/zap/extension/brk/BreakPanel.java", "diffHunk": "@@ -356,6 +372,12 @@ public void run() {\n \n                             if (isRequest) {\n                                 requestPanel.saveData();\n+                                Message msg = getMessage();\n+                                if (msg instanceof HttpMessage", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d628a1a4a7d967891392d67f8b240b30493bce85"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjU5MzEzNw==", "bodyText": "The option is not being shown for the response.", "url": "https://github.com/zaproxy/zaproxy/pull/6193#discussion_r496593137", "createdAt": "2020-09-29T09:58:45Z", "author": {"login": "thc202"}, "path": "zap/src/main/java/org/zaproxy/zap/extension/brk/BreakPanel.java", "diffHunk": "@@ -356,6 +372,12 @@ public void run() {\n \n                             if (isRequest) {\n                                 requestPanel.saveData();\n+                                Message msg = getMessage();\n+                                if (msg instanceof HttpMessage", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzQ5OTI0Ng=="}, "originalCommit": {"oid": "d628a1a4a7d967891392d67f8b240b30493bce85"}, "originalPosition": 57}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4ODU3NDU3OnYy", "diffSide": "LEFT", "path": "zap/src/test/java/org/zaproxy/zap/extension/httppanel/view/impl/models/http/BodyByteHttpPanelViewModelTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMTo1OToyNlrOHWpEzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwOTo1OToyM1rOHZlqhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzUwMzY5Mw==", "bodyText": "Worth verifying that the header is not changed at all.", "url": "https://github.com/zaproxy/zaproxy/pull/6193#discussion_r493503693", "createdAt": "2020-09-23T11:59:26Z", "author": {"login": "thc202"}, "path": "zap/src/test/java/org/zaproxy/zap/extension/httppanel/view/impl/models/http/BodyByteHttpPanelViewModelTest.java", "diffHunk": "@@ -122,7 +122,6 @@ void shouldSetDataIntoBody() {\n         model.setData(otherBodyContent);\n         // Then\n         verify(body).setBody(otherBodyContent);\n-        verify(header).setContentLength(otherBodyContent.length);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9ae6b8cd57a3a638bd3d81078b236b07975d80f"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjU5MzU0Mw==", "bodyText": "Was suggesting e.g. verify(header, times(0)).setContentLength(anyInt()); and in all places that was checking the header before.", "url": "https://github.com/zaproxy/zaproxy/pull/6193#discussion_r496593543", "createdAt": "2020-09-29T09:59:23Z", "author": {"login": "thc202"}, "path": "zap/src/test/java/org/zaproxy/zap/extension/httppanel/view/impl/models/http/BodyByteHttpPanelViewModelTest.java", "diffHunk": "@@ -122,7 +122,6 @@ void shouldSetDataIntoBody() {\n         model.setData(otherBodyContent);\n         // Then\n         verify(body).setBody(otherBodyContent);\n-        verify(header).setContentLength(otherBodyContent.length);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzUwMzY5Mw=="}, "originalCommit": {"oid": "d9ae6b8cd57a3a638bd3d81078b236b07975d80f"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4ODU3NjEzOnYy", "diffSide": "RIGHT", "path": "zap/src/main/java/org/zaproxy/zap/extension/brk/BreakPanel.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMTo1OTo0MlrOHWpFwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxMTo1OTo0MlrOHWpFwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzUwMzkzNw==", "bodyText": "Should use this class.", "url": "https://github.com/zaproxy/zaproxy/pull/6193#discussion_r493503937", "createdAt": "2020-09-23T11:59:42Z", "author": {"login": "thc202"}, "path": "zap/src/main/java/org/zaproxy/zap/extension/brk/BreakPanel.java", "diffHunk": "@@ -509,6 +532,21 @@ public void setButtonMode(int mode) {\n         responseBreakButtons.setButtonMode(mode);\n     }\n \n+    private ZapToggleButton getButtonFixContentLength() {\n+        if (fixContentLength == null) {\n+            fixContentLength =\n+                    new ZapToggleButton(\n+                            DisplayUtils.getScaledIcon(\n+                                    new ImageIcon(\n+                                            HttpPanelSender.class.getResource(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9ae6b8cd57a3a638bd3d81078b236b07975d80f"}, "originalPosition": 83}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 637, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}