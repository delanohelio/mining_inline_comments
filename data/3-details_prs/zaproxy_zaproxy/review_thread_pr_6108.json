{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyMjc4MzI5", "number": 6108, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxODowNjoyOFrOEUtMZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxODoyMTowNFrOEUtfIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMTQ3NDI4OnYy", "diffSide": "RIGHT", "path": "docker/Dockerfile-bare", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxODowNjoyOFrOG7DlXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwOToxMjoyMFrOG7YAyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU3Nzg4NQ==", "bodyText": "This image does not use the Python scripts, does no harm either.", "url": "https://github.com/zaproxy/zaproxy/pull/6108#discussion_r464577885", "createdAt": "2020-08-03T18:06:28Z", "author": {"login": "thc202"}, "path": "docker/Dockerfile-bare", "diffHunk": "@@ -33,5 +33,6 @@ ENV PATH $JAVA_HOME/bin:/zap/:$PATH\n ENV ZAP_PATH /zap/zap.sh\n ENV HOME /home/zap/\n ENV ZAP_PORT 8080\n+ENV IS_CONTAINERIZED true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50e8143491e3860ce906923913752ffdfe2bdd24"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDkxMjU4Nw==", "bodyText": "Ah right, good catch \ud83d\udc4d", "url": "https://github.com/zaproxy/zaproxy/pull/6108#discussion_r464912587", "createdAt": "2020-08-04T09:12:20Z", "author": {"login": "J12934"}, "path": "docker/Dockerfile-bare", "diffHunk": "@@ -33,5 +33,6 @@ ENV PATH $JAVA_HOME/bin:/zap/:$PATH\n ENV ZAP_PATH /zap/zap.sh\n ENV HOME /home/zap/\n ENV ZAP_PORT 8080\n+ENV IS_CONTAINERIZED true", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU3Nzg4NQ=="}, "originalCommit": {"oid": "50e8143491e3860ce906923913752ffdfe2bdd24"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMTUyMjI1OnYy", "diffSide": "RIGHT", "path": "docker/zap_common.py", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxODoyMTowNFrOG7ECVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQwOToxNTo1NVrOG7YJEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU4NTMwMg==", "bodyText": "Should this actually check the value? Can anyone foresee a scenario where someone might purposefully set it to false or some value other than true?", "url": "https://github.com/zaproxy/zaproxy/pull/6108#discussion_r464585302", "createdAt": "2020-08-03T18:21:04Z", "author": {"login": "kingthorin"}, "path": "docker/zap_common.py", "diffHunk": "@@ -244,7 +244,7 @@ def cp_to_docker(cid, file, dir):\n \n \n def running_in_docker():\n-    return os.path.exists('/.dockerenv') or os.path.exists('/run/.containerenv')\n+    return os.path.exists('/.dockerenv') or os.path.exists('/run/.containerenv') or os.environ.get(\"IS_CONTAINERIZED\") is not None", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50e8143491e3860ce906923913752ffdfe2bdd24"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDkxNDcwNg==", "bodyText": "Good point. I've added an actual check on the value. Just to be sure that its always used consistently.\nAt the moment there is no real use to setting it to false as it would be overwritten by the path checks. Might be possible to extend this in the future when needed.", "url": "https://github.com/zaproxy/zaproxy/pull/6108#discussion_r464914706", "createdAt": "2020-08-04T09:15:55Z", "author": {"login": "J12934"}, "path": "docker/zap_common.py", "diffHunk": "@@ -244,7 +244,7 @@ def cp_to_docker(cid, file, dir):\n \n \n def running_in_docker():\n-    return os.path.exists('/.dockerenv') or os.path.exists('/run/.containerenv')\n+    return os.path.exists('/.dockerenv') or os.path.exists('/run/.containerenv') or os.environ.get(\"IS_CONTAINERIZED\") is not None", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU4NTMwMg=="}, "originalCommit": {"oid": "50e8143491e3860ce906923913752ffdfe2bdd24"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 630, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}