{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0NzQ3OTA4", "number": 6278, "title": "Add Alert reference field", "bodyText": "Add new alertRef field to alerts.\nThis is to allow us to tell the difference between different alerts raised by the same rule. By default is will be the plugin id - rules will need to be changed to append a qualifier for each of the alerts they raise.\nSigned-off-by: Simon Bennetts psiinon@gmail.com", "createdAt": "2020-11-03T13:51:48Z", "url": "https://github.com/zaproxy/zaproxy/pull/6278", "merged": true, "mergeCommit": {"oid": "247d22a9b159476a00d7690c045e4b8f1fa8dd30"}, "closed": true, "closedAt": "2020-11-04T11:19:01Z", "author": {"login": "psiinon"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdY5t9CABqjM5NTMwMzcwMzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZL7DcAFqTUyMzI2NzUyNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cbbff69cfd69962d1f9bd5be633ee72a0d697ed6", "author": {"user": {"login": "psiinon", "name": "Simon Bennetts"}}, "url": "https://github.com/zaproxy/zaproxy/commit/cbbff69cfd69962d1f9bd5be633ee72a0d697ed6", "committedDate": "2020-11-03T13:46:02Z", "message": "Add Alert reference field\n\nAdd new alertRef field to alerts.\nThis is to allow us to tell the difference between different alerts\nraised by the same rule. By default is will be the plugin id - rules\nwill need to be changed to append a qualifier for each of the alerts\nthey raise.\n\nSigned-off-by: Simon Bennetts <psiinon@gmail.com>"}, "afterCommit": {"oid": "86481c3d37da04501068ff2b4fcc70313484dded", "author": {"user": {"login": "psiinon", "name": "Simon Bennetts"}}, "url": "https://github.com/zaproxy/zaproxy/commit/86481c3d37da04501068ff2b4fcc70313484dded", "committedDate": "2020-11-03T14:06:02Z", "message": "Add Alert reference field\n\nAdd new alertRef field to alerts.\nThis is to allow us to tell the difference between different alerts\nraised by the same rule. By default is will be the plugin id - rules\nwill need to be changed to append a qualifier for each of the alerts\nthey raise.\n\nSigned-off-by: Simon Bennetts <psiinon@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyNTQ5MjU5", "url": "https://github.com/zaproxy/zaproxy/pull/6278#pullrequestreview-522549259", "createdAt": "2020-11-03T14:28:50Z", "commit": {"oid": "86481c3d37da04501068ff2b4fcc70313484dded"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxNDoyODo1MVrOHsxScg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QxNDozNzo0OVrOHsxvlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcwNjkzMA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * one type of alert but they should all have different alert references.\n          \n          \n            \n                 * one type of alert and they should all have different alert references.", "url": "https://github.com/zaproxy/zaproxy/pull/6278#discussion_r516706930", "createdAt": "2020-11-03T14:28:51Z", "author": {"login": "kingthorin"}, "path": "zap/src/main/java/org/parosproxy/paros/core/scanner/Alert.java", "diffHunk": "@@ -921,6 +942,49 @@ public void setSource(Source source) {\n         this.source = source;\n     }\n \n+    /**\n+     * Gets the alert reference.\n+     *\n+     * <p>This is a unique identifier for the type of alert raised. A scan rule may raise more that\n+     * one type of alert but they should all have different alert references.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "86481c3d37da04501068ff2b4fcc70313484dded"}, "originalPosition": 92}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjcxNDM5MA==", "bodyText": "Should we also update the core reporting? (Or separate issue/PR?)", "url": "https://github.com/zaproxy/zaproxy/pull/6278#discussion_r516714390", "createdAt": "2020-11-03T14:37:49Z", "author": {"login": "kingthorin"}, "path": "zap/src/main/java/org/zaproxy/zap/extension/alert/AlertAPI.java", "diffHunk": "@@ -474,6 +474,7 @@ private void processAlerts(\n         Map<String, String> map = new HashMap<>();\n         map.put(\"id\", String.valueOf(alert.getAlertId()));\n         map.put(\"pluginId\", String.valueOf(alert.getPluginId()));\n+        map.put(\"alertRef\", alert.getAlertRef());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "86481c3d37da04501068ff2b4fcc70313484dded"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "86481c3d37da04501068ff2b4fcc70313484dded", "author": {"user": {"login": "psiinon", "name": "Simon Bennetts"}}, "url": "https://github.com/zaproxy/zaproxy/commit/86481c3d37da04501068ff2b4fcc70313484dded", "committedDate": "2020-11-03T14:06:02Z", "message": "Add Alert reference field\n\nAdd new alertRef field to alerts.\nThis is to allow us to tell the difference between different alerts\nraised by the same rule. By default is will be the plugin id - rules\nwill need to be changed to append a qualifier for each of the alerts\nthey raise.\n\nSigned-off-by: Simon Bennetts <psiinon@gmail.com>"}, "afterCommit": {"oid": "099b8d7c7e6df4e69c8e561d631b3e57f92ce9ec", "author": {"user": {"login": "psiinon", "name": "Simon Bennetts"}}, "url": "https://github.com/zaproxy/zaproxy/commit/099b8d7c7e6df4e69c8e561d631b3e57f92ce9ec", "committedDate": "2020-11-03T15:03:24Z", "message": "Add Alert reference field\n\nAdd new alertRef field to alerts.\nThis is to allow us to tell the difference between different alerts\nraised by the same rule. By default is will be the plugin id - rules\nwill need to be changed to append a qualifier for each of the alerts\nthey raise.\n\nSigned-off-by: Simon Bennetts <psiinon@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "099b8d7c7e6df4e69c8e561d631b3e57f92ce9ec", "author": {"user": {"login": "psiinon", "name": "Simon Bennetts"}}, "url": "https://github.com/zaproxy/zaproxy/commit/099b8d7c7e6df4e69c8e561d631b3e57f92ce9ec", "committedDate": "2020-11-03T15:03:24Z", "message": "Add Alert reference field\n\nAdd new alertRef field to alerts.\nThis is to allow us to tell the difference between different alerts\nraised by the same rule. By default is will be the plugin id - rules\nwill need to be changed to append a qualifier for each of the alerts\nthey raise.\n\nSigned-off-by: Simon Bennetts <psiinon@gmail.com>"}, "afterCommit": {"oid": "4ff76362592fd173b54bbba512eedb6db24c2900", "author": {"user": {"login": "psiinon", "name": "Simon Bennetts"}}, "url": "https://github.com/zaproxy/zaproxy/commit/4ff76362592fd173b54bbba512eedb6db24c2900", "committedDate": "2020-11-03T16:17:28Z", "message": "Add Alert reference field\n\nAdd new alertRef field to alerts.\nThis is to allow us to tell the difference between different alerts\nraised by the same rule. By default is will be the plugin id - rules\nwill need to be changed to append a qualifier for each of the alerts\nthey raise.\n\nSigned-off-by: Simon Bennetts <psiinon@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90ede663b0d97ca06c3e6dc90f542c3912a2e348", "author": {"user": {"login": "psiinon", "name": "Simon Bennetts"}}, "url": "https://github.com/zaproxy/zaproxy/commit/90ede663b0d97ca06c3e6dc90f542c3912a2e348", "committedDate": "2020-11-03T16:33:03Z", "message": "Add Alert reference field\n\nAdd new alertRef field to alerts.\nThis is to allow us to tell the difference between different alerts\nraised by the same rule. By default is will be the plugin id - rules\nwill need to be changed to append a qualifier for each of the alerts\nthey raise.\n\nSigned-off-by: Simon Bennetts <psiinon@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4ff76362592fd173b54bbba512eedb6db24c2900", "author": {"user": {"login": "psiinon", "name": "Simon Bennetts"}}, "url": "https://github.com/zaproxy/zaproxy/commit/4ff76362592fd173b54bbba512eedb6db24c2900", "committedDate": "2020-11-03T16:17:28Z", "message": "Add Alert reference field\n\nAdd new alertRef field to alerts.\nThis is to allow us to tell the difference between different alerts\nraised by the same rule. By default is will be the plugin id - rules\nwill need to be changed to append a qualifier for each of the alerts\nthey raise.\n\nSigned-off-by: Simon Bennetts <psiinon@gmail.com>"}, "afterCommit": {"oid": "90ede663b0d97ca06c3e6dc90f542c3912a2e348", "author": {"user": {"login": "psiinon", "name": "Simon Bennetts"}}, "url": "https://github.com/zaproxy/zaproxy/commit/90ede663b0d97ca06c3e6dc90f542c3912a2e348", "committedDate": "2020-11-03T16:33:03Z", "message": "Add Alert reference field\n\nAdd new alertRef field to alerts.\nThis is to allow us to tell the difference between different alerts\nraised by the same rule. By default is will be the plugin id - rules\nwill need to be changed to append a qualifier for each of the alerts\nthey raise.\n\nSigned-off-by: Simon Bennetts <psiinon@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyNjc3ODcz", "url": "https://github.com/zaproxy/zaproxy/pull/6278#pullrequestreview-522677873", "createdAt": "2020-11-03T16:35:13Z", "commit": {"oid": "90ede663b0d97ca06c3e6dc90f542c3912a2e348"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzMjY3NTI3", "url": "https://github.com/zaproxy/zaproxy/pull/6278#pullrequestreview-523267527", "createdAt": "2020-11-04T11:18:48Z", "commit": {"oid": "90ede663b0d97ca06c3e6dc90f542c3912a2e348"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 142, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}