{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzODQ2Mjc2", "number": 6310, "title": "CustomPages: Add core isSuccess Method(s)", "bodyText": "Add isSuccess(HttpMessage) in AbstractPlugin and PassiveScanData.\nAdd Unit Tests for the new method.\nTweak javadoc for isClientError(HttpMessage) and isServerError(HttpMessage) in both classes as well.\n\nRelated to #9", "createdAt": "2020-11-19T10:40:28Z", "url": "https://github.com/zaproxy/zaproxy/pull/6310", "merged": true, "mergeCommit": {"oid": "0188d0507b0ad1b349d04fc862af566dd9caf3af"}, "closed": true, "closedAt": "2020-11-19T11:40:28Z", "author": {"login": "kingthorin"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdeAYBUABqjQwMTUxNDc4OTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdeBOLIgFqTUzNDM0MDQzNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e57318637e8be9ba83768934068846b4991be806", "author": {"user": {"login": "kingthorin", "name": "Rick M"}}, "url": "https://github.com/zaproxy/zaproxy/commit/e57318637e8be9ba83768934068846b4991be806", "committedDate": "2020-11-19T10:39:36Z", "message": "CustomPages: Add core isSuccess Method(s)\n\n- Add `isSuccess(HttpMessage)` in `AbstractPlugin` and\n`PassiveScanData`.\n- Add Unit Tests for the new method.\n- Tweak javadoc for `isClientError(HttpMessage)` and\n`isServerError(HttpMessage)` in both classes as well."}, "afterCommit": {"oid": "46e1ba8e4e3f8488dce8dc4b6da8430d7de5d48e", "author": {"user": {"login": "kingthorin", "name": "Rick M"}}, "url": "https://github.com/zaproxy/zaproxy/commit/46e1ba8e4e3f8488dce8dc4b6da8430d7de5d48e", "committedDate": "2020-11-19T10:41:00Z", "message": "CustomPages: Add core isSuccess Method(s)\n\n- Add `isSuccess(HttpMessage)` in `AbstractPlugin` and\n`PassiveScanData`.\n- Add Unit Tests for the new method.\n- Tweak javadoc for `isClientError(HttpMessage)` and\n`isServerError(HttpMessage)` in both classes as well.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0MzA1ODc0", "url": "https://github.com/zaproxy/zaproxy/pull/6310#pullrequestreview-534305874", "createdAt": "2020-11-19T11:02:33Z", "commit": {"oid": "46e1ba8e4e3f8488dce8dc4b6da8430d7de5d48e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxMTowMjozM1rOH2XwBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQxMTowMjozM1rOH2XwBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjc3NDI3Ng==", "bodyText": "Remove?", "url": "https://github.com/zaproxy/zaproxy/pull/6310#discussion_r526774276", "createdAt": "2020-11-19T11:02:33Z", "author": {"login": "thc202"}, "path": "zap/src/main/java/org/zaproxy/zap/extension/pscan/PassiveScanData.java", "diffHunk": "@@ -247,8 +247,31 @@ public boolean isPageOther(HttpMessage msg) {\n     }\n \n     /**\n-     * Tells whether or not the response has a status code between 400 and 499 (inclusive). Falls\n-     * back to check {@code CustomPage.Type.NOTFOUND_404}. Checks if the message matches {@code\n+     * Tells whether or not the response has a status code between 200 and 299 (inclusive), or\n+     * {@code CustomPage.Type.OK_200}. Checks if the message matches {@code\n+     * CustomPage.Type.NOTFOUND_404} or {@code CusotmPage.Type.ERROR_500} first, in case the user is\n+     * trying to override something.\n+     *\n+     * @param msg the message that will be checked\n+     * @return {@code true} if the message matches, {@code false} otherwise\n+     * @since TODO Add version\n+     */\n+    public boolean isSuccess(HttpMessage msg) {\n+        if (isCustomPage(msg, CustomPage.Type.NOTFOUND_404)\n+                || isCustomPage(msg, CustomPage.Type.ERROR_500)) {\n+            return false;\n+        }\n+        if (isCustomPage(msg, CustomPage.Type.OK_200)) {\n+            return true;\n+        }\n+        return HttpStatusCode.isSuccess(\n+                msg.getResponseHeader()\n+                        .getStatusCode()); // TODO JavaDoc and dbl check then UnitTests.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "46e1ba8e4e3f8488dce8dc4b6da8430d7de5d48e"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70977eeb729cedbfcdda1b50e4ea40b6ac75d9f7", "author": {"user": {"login": "kingthorin", "name": "Rick M"}}, "url": "https://github.com/zaproxy/zaproxy/commit/70977eeb729cedbfcdda1b50e4ea40b6ac75d9f7", "committedDate": "2020-11-19T11:05:53Z", "message": "CustomPages: Add core isSuccess Method(s)\n\n- Add `isSuccess(HttpMessage)` in `AbstractPlugin` and\n`PassiveScanData`.\n- Add Unit Tests for the new method.\n- Tweak javadoc for `isClientError(HttpMessage)` and\n`isServerError(HttpMessage)` in both classes as well.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "46e1ba8e4e3f8488dce8dc4b6da8430d7de5d48e", "author": {"user": {"login": "kingthorin", "name": "Rick M"}}, "url": "https://github.com/zaproxy/zaproxy/commit/46e1ba8e4e3f8488dce8dc4b6da8430d7de5d48e", "committedDate": "2020-11-19T10:41:00Z", "message": "CustomPages: Add core isSuccess Method(s)\n\n- Add `isSuccess(HttpMessage)` in `AbstractPlugin` and\n`PassiveScanData`.\n- Add Unit Tests for the new method.\n- Tweak javadoc for `isClientError(HttpMessage)` and\n`isServerError(HttpMessage)` in both classes as well.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>"}, "afterCommit": {"oid": "70977eeb729cedbfcdda1b50e4ea40b6ac75d9f7", "author": {"user": {"login": "kingthorin", "name": "Rick M"}}, "url": "https://github.com/zaproxy/zaproxy/commit/70977eeb729cedbfcdda1b50e4ea40b6ac75d9f7", "committedDate": "2020-11-19T11:05:53Z", "message": "CustomPages: Add core isSuccess Method(s)\n\n- Add `isSuccess(HttpMessage)` in `AbstractPlugin` and\n`PassiveScanData`.\n- Add Unit Tests for the new method.\n- Tweak javadoc for `isClientError(HttpMessage)` and\n`isServerError(HttpMessage)` in both classes as well.\n\nSigned-off-by: kingthorin <kingthorin@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0MzA5MTAw", "url": "https://github.com/zaproxy/zaproxy/pull/6310#pullrequestreview-534309100", "createdAt": "2020-11-19T11:06:43Z", "commit": {"oid": "70977eeb729cedbfcdda1b50e4ea40b6ac75d9f7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM0MzQwNDM0", "url": "https://github.com/zaproxy/zaproxy/pull/6310#pullrequestreview-534340434", "createdAt": "2020-11-19T11:40:21Z", "commit": {"oid": "70977eeb729cedbfcdda1b50e4ea40b6ac75d9f7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 156, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}