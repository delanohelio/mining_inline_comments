{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU4NTIzOTQ5", "number": 5803, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMTo1MDozM1rODVpIEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMTo1Mzo0MFrODVpJzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MDIwNDk3OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/jabref/gui/collab/ChangeDisplayDialog.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMTo1MDozM1rOFZ-mFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMTo1MDozM1rOFZ-mFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjc4NDI3OA==", "bodyText": "I think there is a selectFirst method.", "url": "https://github.com/JabRef/jabref/pull/5803#discussion_r362784278", "createdAt": "2020-01-03T11:50:33Z", "author": {"login": "tobiasdiez"}, "path": "src/main/java/org/jabref/gui/collab/ChangeDisplayDialog.java", "diffHunk": "@@ -21,47 +25,68 @@\n \n class ChangeDisplayDialog extends BaseDialog<Boolean> {\n \n-    private final ListView<DatabaseChangeViewModel> tree;\n+    private final ListView<DatabaseChangeViewModel> changesList;\n     private final BorderPane infoPanel = new BorderPane();\n     private final CheckBox cb = new CheckBox(Localization.lang(\"Accept change\"));\n \n     public ChangeDisplayDialog(BibDatabaseContext database, List<DatabaseChangeViewModel> changes) {\n         this.setTitle(Localization.lang(\"External changes\"));\n         this.getDialogPane().setPrefSize(800, 600);\n \n-        tree = new ListView<>(FXCollections.observableArrayList(changes));\n-        tree.setPrefWidth(160);\n-        EasyBind.subscribe(tree.getSelectionModel().selectedItemProperty(), this::selectedChangeChanged);\n+        changesList = new ListView<>(FXCollections.observableArrayList(changes));\n+        changesList.setPrefWidth(200);\n+        EasyBind.subscribe(changesList.getSelectionModel().selectedItemProperty(), this::selectedChangeChanged);\n \n         SplitPane pane = new SplitPane();\n         pane.setDividerPositions(0.2);\n-        ScrollPane scroll = new ScrollPane(tree);\n-        scroll.setFitToHeight(true);\n-        scroll.setFitToWidth(true);\n-        pane.getItems().addAll(scroll, infoPanel);\n-        pane.setResizableWithParent(scroll, false);\n \n-        getDialogPane().setContent(pane);\n+        Button selectAllChangesFromDisk = new Button(Localization.lang(\"Mark all changes as accepted\"));\n+        selectAllChangesFromDisk.setMinWidth(Region.USE_PREF_SIZE);\n+        selectAllChangesFromDisk.setOnAction(evt -> {\n+            for (DatabaseChangeViewModel change : changes) {\n+                change.setAccepted(true);\n+            }\n+        });\n+        Button unselectAllAcceptChanges = new Button(Localization.lang(\"Unmark all changes\"));\n+        unselectAllAcceptChanges.setOnAction(evt -> {\n+            for (DatabaseChangeViewModel change : changes) {\n+                change.setAccepted(false);\n+            }\n+        });\n \n+        VBox leftContent = new VBox(changesList,\n+                                    selectAllChangesFromDisk,\n+                                    unselectAllAcceptChanges);\n+\n+        ScrollPane leftScroll = new ScrollPane(leftContent);\n+        leftScroll.setFitToHeight(true);\n+        leftScroll.setFitToWidth(true);\n+\n+        pane.getItems().addAll(leftScroll, infoPanel);\n+        pane.setResizableWithParent(leftScroll, false);\n+\n+        getDialogPane().setContent(pane);\n \n         Label rootInfo = new Label(Localization.lang(\"Select the tree nodes to view and accept or reject changes\") + '.');\n         infoPanel.setCenter(rootInfo);\n-        tree.getSelectionModel().select(0);\n+        changesList.getSelectionModel().select(0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ff973f7556ea8e3e1001fc3cbaa8ec46f1974d5"}, "originalPosition": 78}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MDIwOTQzOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/jabref/gui/collab/EntryChangeViewModel.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxMTo1Mzo0MFrOFZ-onQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QxNDoxODo0MVrOFaA-8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjc4NDkyNQ==", "bodyText": "This is no longer needed now, right?", "url": "https://github.com/JabRef/jabref/pull/5803#discussion_r362784925", "createdAt": "2020-01-03T11:53:40Z", "author": {"login": "tobiasdiez"}, "path": "src/main/java/org/jabref/gui/collab/EntryChangeViewModel.java", "diffHunk": "@@ -39,6 +41,19 @@ public EntryChangeViewModel(BibEntry entry, BibEntry newEntry, BibDatabaseContex\n \n     }\n \n+    /**\n+     *   We override this here to select the radio buttons accordingly\n+     */\n+    @Override\n+    public void setAccepted(boolean accepted) {\n+        super.setAccepted(accepted);\n+        if (accepted) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ff973f7556ea8e3e1001fc3cbaa8ec46f1974d5"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MjgyMzQwOQ==", "bodyText": "Nope, this is still needed. It ensures that when you click on \"mark all changes\" that the radio buttons on the right are selected and the merge entry will be the correct one.", "url": "https://github.com/JabRef/jabref/pull/5803#discussion_r362823409", "createdAt": "2020-01-03T14:18:41Z", "author": {"login": "Siedlerchr"}, "path": "src/main/java/org/jabref/gui/collab/EntryChangeViewModel.java", "diffHunk": "@@ -39,6 +41,19 @@ public EntryChangeViewModel(BibEntry entry, BibEntry newEntry, BibDatabaseContex\n \n     }\n \n+    /**\n+     *   We override this here to select the radio buttons accordingly\n+     */\n+    @Override\n+    public void setAccepted(boolean accepted) {\n+        super.setAccepted(accepted);\n+        if (accepted) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjc4NDkyNQ=="}, "originalCommit": {"oid": "0ff973f7556ea8e3e1001fc3cbaa8ec46f1974d5"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2073, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}