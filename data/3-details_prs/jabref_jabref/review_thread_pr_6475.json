{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3MzcyMTA0", "number": 6475, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOToxMzoxNlrOD8ZF0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOToxMzoxNlrOD8ZF0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NjUyMjQyOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/jabref/gui/JabRefFrame.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOToxMzoxNlrOGVTQug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMFQxNTozMDo1OFrOGcz7NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDk4ODg1OA==", "bodyText": "Another option would be to reuse the existing pop over and only change the content. That is:\nif (existedProgressViewPopOver == null) {\n   existedProgressViewPopOver = new ...\n} else {\n   existedProgressViewPopOver.setContentNode(taskProgressView).\n}\n\nThis should be a slightly better user experience as there is no flicker of hiding/showing a new pop over.\nThen you can also rename the global variable to progressViewPopOver", "url": "https://github.com/JabRef/jabref/pull/6475#discussion_r424988858", "createdAt": "2020-05-14T09:13:16Z", "author": {"login": "tobiasdiez"}, "path": "src/main/java/org/jabref/gui/JabRefFrame.java", "diffHunk": "@@ -988,10 +989,14 @@ hide it and clip it to a square of (width x width) each time width is updated.\n             taskProgressView.setGraphicFactory(BackgroundTask::getIcon);\n \n             PopOver progressViewPopOver = new PopOver(taskProgressView);\n+            if (this.existedProgressViewPopOver == null) {\n+                this.existedProgressViewPopOver = progressViewPopOver;\n+            }\n             progressViewPopOver.setTitle(Localization.lang(\"Background Tasks\"));\n             progressViewPopOver.setArrowLocation(PopOver.ArrowLocation.RIGHT_TOP);\n-\n+            this.existedProgressViewPopOver.hide();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c18f92885a9f8dde451979b9c52669c76f066d47"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE1MDg3NA==", "bodyText": "In this context, it would be nice if the progress button serves as a toggle: if the pop over is currently shown, and the button is clicked again then the pop over should be hidden.", "url": "https://github.com/JabRef/jabref/pull/6475#discussion_r425150874", "createdAt": "2020-05-14T13:48:33Z", "author": {"login": "tobiasdiez"}, "path": "src/main/java/org/jabref/gui/JabRefFrame.java", "diffHunk": "@@ -988,10 +989,14 @@ hide it and clip it to a square of (width x width) each time width is updated.\n             taskProgressView.setGraphicFactory(BackgroundTask::getIcon);\n \n             PopOver progressViewPopOver = new PopOver(taskProgressView);\n+            if (this.existedProgressViewPopOver == null) {\n+                this.existedProgressViewPopOver = progressViewPopOver;\n+            }\n             progressViewPopOver.setTitle(Localization.lang(\"Background Tasks\"));\n             progressViewPopOver.setArrowLocation(PopOver.ArrowLocation.RIGHT_TOP);\n-\n+            this.existedProgressViewPopOver.hide();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDk4ODg1OA=="}, "originalCommit": {"oid": "c18f92885a9f8dde451979b9c52669c76f066d47"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjg2NDA1Mw==", "bodyText": "Yes, that's great! I have made the change, it works.", "url": "https://github.com/JabRef/jabref/pull/6475#discussion_r432864053", "createdAt": "2020-05-30T15:30:58Z", "author": {"login": "chenyuheng"}, "path": "src/main/java/org/jabref/gui/JabRefFrame.java", "diffHunk": "@@ -988,10 +989,14 @@ hide it and clip it to a square of (width x width) each time width is updated.\n             taskProgressView.setGraphicFactory(BackgroundTask::getIcon);\n \n             PopOver progressViewPopOver = new PopOver(taskProgressView);\n+            if (this.existedProgressViewPopOver == null) {\n+                this.existedProgressViewPopOver = progressViewPopOver;\n+            }\n             progressViewPopOver.setTitle(Localization.lang(\"Background Tasks\"));\n             progressViewPopOver.setArrowLocation(PopOver.ArrowLocation.RIGHT_TOP);\n-\n+            this.existedProgressViewPopOver.hide();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDk4ODg1OA=="}, "originalCommit": {"oid": "c18f92885a9f8dde451979b9c52669c76f066d47"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1832, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}