{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3MjUxNDg5", "number": 6833, "title": "Fix/use format conversion for all imports", "bodyText": "This PR adds conversion of entries into the desired format for all imports.\nFixes #6532.\n\n Change in CHANGELOG.md described (if applicable)\n Tests created for changes (if applicable)\n Manually tested changed features in running JabRef (always required)\n Screenshots added in PR description (for UI changes)\n Checked documentation: Is the information available and up to date? If not created an issue at https://github.com/JabRef/user-documentation/issues or, even better, submitted a pull request to the documentation repository.", "createdAt": "2020-09-01T18:17:28Z", "url": "https://github.com/JabRef/jabref/pull/6833", "merged": true, "mergeCommit": {"oid": "18491baa5cbc345ab18921172c606e0a6c6b4bb9"}, "closed": true, "closedAt": "2020-09-02T18:51:56Z", "author": {"login": "DominikVoigt"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc6fLcngH2gAyNDc3MjUxNDg5OmM4ZWJjOTFkNDc5OWU1OTUxOGFjODg3ZjY5ZTU4NDA0MGNmMjk5OTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdE7WBTgH2gAyNDc3MjUxNDg5OjI4MjRlYjVkZWZjY2M2MmY2ZGJlOGNlYzI3MmY1ZjIwNDNlMzFkNGI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c8ebc91d4799e59518ac887f69e584040cf29994", "author": {"user": null}, "url": "https://github.com/JabRef/jabref/commit/c8ebc91d4799e59518ac887f69e584040cf29994", "committedDate": "2020-08-01T02:13:15Z", "message": "Squashed 'src/main/resources/csl-styles/' changes from bf698acec7..827b986621\n\n827b986621 add DOI preprint to american-society-for-microbiology.csl (#4946)\n7cab2f7d8a Create depro-ufs.csl (#4947)\n2fcda1fe03 Create journal-of-sport-science-and-medicine.csl (#4949)\ncd457d4bce Update american-marketing-association.csl (#4945)\ncacc4eefbd Create nejm-catalyst.csl (#4943)\nbd769b91da Update and rename dependent/chinese-medical-journal.csl to chinese-me\u2026 (#4941)\n1f706cda6c Update health-services-research.csl (#4939)\n76bcd1d9d7 Update journal-of-the-royal-society-of-western-australia.csl (#4932)\ne79640e74d Create afro-asia.csl (#4934)\nc601aa4e0f Update lancaster-university-harvard.csl (#4938)\n184fd90210 Update collection-du-centre-jean-berard.csl (#4936)\n82f9aec90f fix et-al & add DOI thyroid.csl (#4937)\n4af169fc11 Create universidade-estadual-de-alagoas-uneal-abnt (#4885)\n47165b3d5a Update and rename medical-physics.csl to dependent/medical-physics.csl (AMA) (#4905)\n3cab27dc1a Update thieme-german.csl (#4931)\neb2c9776e0 Create zeitschrift-fur-zahnarztliche-implantologie.csl (#4925)\n4adb1ea0be Create karstenia.csl (#4929)\n530a136786 Fix author substitute in Universita Cattolica\n\ngit-subtree-dir: src/main/resources/csl-styles\ngit-subtree-split: 827b986621348627f8e894d1b7f11191f905a8e2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5f02cf3ced81d19b74844b770abc1dba0b61fa1", "author": {"user": null}, "url": "https://github.com/JabRef/jabref/commit/f5f02cf3ced81d19b74844b770abc1dba0b61fa1", "committedDate": "2020-08-01T02:13:15Z", "message": "Merge commit 'c8ebc91d4799e59518ac887f69e584040cf29994'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37c2d64e449ef617bb98c0ad3b39a903d8f3d886", "author": {"user": null}, "url": "https://github.com/JabRef/jabref/commit/37c2d64e449ef617bb98c0ad3b39a903d8f3d886", "committedDate": "2020-08-15T02:17:10Z", "message": "Squashed 'src/main/resources/csl-styles/' changes from 827b986621..eb0d37e0ff\n\neb0d37e0ff Create natbib-plainnat-author-dat.csl (#4967)\nfb1592a1cd Update journal-of-fish-biology.csl (#4969)\nf6876cbe0f Update .travis.yml (#4970)\nd6d400b207 Create london-review-of-international-law.csl (#4966)\nd2a5ae1b16 Update harvard-stellenbosch-university.csl (#4965)\n9c62141a40 Create phytopathologia-mediterranea.csl (#4964)\n8ca2ea1a9c Update historical-materialism.csl (#4960)\n80456dc749 Update historical-materialism.csl\nbe2d91090c Update historical-materialism.csl\n1d1cf095a6 Create atlande.csl (#4930)\n89f41d404d Create juristische-zitierweise-oeffentliches-recht.csl (#4944)\n8c677a08c5 Create korean-journal-of-gastroenterology.csl (#4954)\neadb9508dd Create historical-materialism.csl (#4955)\n5553dcdc9c Create revista-materia.csl (#4957)\nd23a3abd79 Bug fix in APA 6 original publication macro (#4959)\n66f9974980 Always print publisher in APA 6th edition (#4899)\n868809c063 Create agora.csl (#4940)\n99c19c397e Update anthropologie-et-societes.csl (#4952)\nee17423a93 Create critical-reviews-in-solid-state-and-materials-science.csl (#4951)\n7a13a7d59e Create korean-journal-of-internal-medicine.csl (#4953)\n\ngit-subtree-dir: src/main/resources/csl-styles\ngit-subtree-split: eb0d37e0ff253e7c6d256b619e4831af306a28cf"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b85ebe3e3f9b956f1ab56ef24bf2a1cd0b03d632", "author": {"user": null}, "url": "https://github.com/JabRef/jabref/commit/b85ebe3e3f9b956f1ab56ef24bf2a1cd0b03d632", "committedDate": "2020-08-15T02:17:10Z", "message": "Merge commit '37c2d64e449ef617bb98c0ad3b39a903d8f3d886' into master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f10ea5f1d86aed42a29b38d5b4683f60cb964c1c", "author": {"user": {"login": "DominikVoigt", "name": "Dominik Voigt"}}, "url": "https://github.com/JabRef/jabref/commit/f10ea5f1d86aed42a29b38d5b4683f60cb964c1c", "committedDate": "2020-08-25T19:10:13Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a96efde697023c5b5f6c2f2b7f17629f526e59ab", "author": {"user": {"login": "DominikVoigt", "name": "Dominik Voigt"}}, "url": "https://github.com/JabRef/jabref/commit/a96efde697023c5b5f6c2f2b7f17629f526e59ab", "committedDate": "2020-08-29T13:36:06Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f23aadedf198fea69d859dd3f1fab9eda8a991d2", "author": {"user": {"login": "DominikVoigt", "name": "Dominik Voigt"}}, "url": "https://github.com/JabRef/jabref/commit/f23aadedf198fea69d859dd3f1fab9eda8a991d2", "committedDate": "2020-08-31T11:35:11Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "586b3cf9f9db8b6ec7bde5a902bb1930102d8a80", "author": {"user": {"login": "DominikVoigt", "name": "Dominik Voigt"}}, "url": "https://github.com/JabRef/jabref/commit/586b3cf9f9db8b6ec7bde5a902bb1930102d8a80", "committedDate": "2020-08-31T11:48:59Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ae9b4bc81693ab60fe498f532bbec51ecf6f0f8", "author": {"user": {"login": "DominikVoigt", "name": "Dominik Voigt"}}, "url": "https://github.com/JabRef/jabref/commit/5ae9b4bc81693ab60fe498f532bbec51ecf6f0f8", "committedDate": "2020-09-01T16:19:26Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d10583ab1ccad7d4899b0a72e9d92559e5f85ceb", "author": {"user": {"login": "DominikVoigt", "name": "Dominik Voigt"}}, "url": "https://github.com/JabRef/jabref/commit/d10583ab1ccad7d4899b0a72e9d92559e5f85ceb", "committedDate": "2020-09-01T18:14:24Z", "message": "Add entry formatter between fetchers and imports\n\nSigned-off-by: Dominik Voigt <dominik.ingo.voigt@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwMTUzMzIx", "url": "https://github.com/JabRef/jabref/pull/6833#pullrequestreview-480153321", "createdAt": "2020-09-01T22:12:43Z", "commit": {"oid": "d10583ab1ccad7d4899b0a72e9d92559e5f85ceb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMjoxMjo0M1rOHLKD0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQyMjoxMzowN1rOHLKEhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTQ2MTIwMg==", "bodyText": "Doesn't the BasePanel (panel) know the mode? Shouldn't that mode be used instead of guessing?", "url": "https://github.com/JabRef/jabref/pull/6833#discussion_r481461202", "createdAt": "2020-09-01T22:12:43Z", "author": {"login": "koppor"}, "path": "src/main/java/org/jabref/gui/mergeentries/FetchAndMergeEntry.java", "diffHunk": "@@ -64,6 +67,8 @@ public void fetchAndMerge(BibEntry entry, List<Field> fields) {\n                 if (fetcher.isPresent()) {\n                     BackgroundTask.wrap(() -> fetcher.get().performSearchById(fieldContent.get()))\n                                   .onSuccess(fetchedEntry -> {\n+                                      ImportCleanup cleanup = new ImportCleanup(BibDatabaseModeDetection.inferMode(new BibDatabase(List.of(entry))));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d10583ab1ccad7d4899b0a72e9d92559e5f85ceb"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTQ2MTM4MQ==", "bodyText": "See above", "url": "https://github.com/JabRef/jabref/pull/6833#discussion_r481461381", "createdAt": "2020-09-01T22:13:07Z", "author": {"login": "koppor"}, "path": "src/main/java/org/jabref/gui/mergeentries/FetchAndMergeEntry.java", "diffHunk": "@@ -147,6 +152,8 @@ public void fetchAndMerge(BibEntry entry, EntryBasedFetcher fetcher) {\n         BackgroundTask.wrap(() -> fetcher.performSearch(entry).stream().findFirst())\n                       .onSuccess(fetchedEntry -> {\n                           if (fetchedEntry.isPresent()) {\n+                              ImportCleanup cleanup = new ImportCleanup(BibDatabaseModeDetection.inferMode(new BibDatabase(List.of(entry))));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d10583ab1ccad7d4899b0a72e9d92559e5f85ceb"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "004f8befa029170ed549fecaf9efa43d80a6dd21", "author": {"user": {"login": "DominikVoigt", "name": "Dominik Voigt"}}, "url": "https://github.com/JabRef/jabref/commit/004f8befa029170ed549fecaf9efa43d80a6dd21", "committedDate": "2020-09-02T12:37:39Z", "message": "Merge remote-tracking branch 'upstream/master' into fix/use-format-conversion-for-all-imports"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2824eb5defccc62f6dbe8cec272f5f2043e31d4b", "author": {"user": {"login": "DominikVoigt", "name": "Dominik Voigt"}}, "url": "https://github.com/JabRef/jabref/commit/2824eb5defccc62f6dbe8cec272f5f2043e31d4b", "committedDate": "2020-09-02T12:41:23Z", "message": "Integrate change requests\n\nSigned-off-by: Dominik Voigt <dominik.ingo.voigt@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 133, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}