{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4NjM4Nzgw", "number": 6240, "reviewThreads": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQxMjo0NTowM1rODu35Fg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwNTowNTo1MlrOD76P-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNDc2ODIyOnYy", "diffSide": "RIGHT", "path": "src/test/java/org/jabref/logic/integrity/IntegrityCheckTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQxMjo0NTowM1rOGA_thA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNVQxMjo0NTowM1rOGA_thA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzY5NzAyOA==", "bodyText": "I would move all these tests to TitleCheckerTest and just keep one subtitle tests here.\nThis test class here is only for an integration test (TitleChecker is integrated in the IntegrityCheck) - the \"real\" functionality is in org.jabref.logic.integrity.TitleChecker.\nWhen you are on it, you could fix the capitalization in TitleCheckerTest:", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r403697028", "createdAt": "2020-04-05T12:45:03Z", "author": {"login": "koppor"}, "path": "src/test/java/org/jabref/logic/integrity/IntegrityCheckTest.java", "diffHunk": "@@ -186,6 +292,17 @@ void testTitleChecks() {\n         assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a {Title}\"), BibDatabaseMode.BIBTEX));\n         assertCorrect(withMode(createContext(StandardField.TITLE, \"{C}urrent {C}hronicle\"), BibDatabaseMode.BIBTEX));\n         assertCorrect(withMode(createContext(StandardField.TITLE, \"{A Model-Driven Approach for Monitoring {ebBP} BusinessTransactions}\"), BibDatabaseMode.BIBTEX));\n+        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: This is a sub title 2\"), BibDatabaseMode.BIBTEX));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b37a9213b36a0d52df74b710948c67ae0db536e1"}, "originalPosition": 178}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2NDMxOTk2OnYy", "diffSide": "RIGHT", "path": "src/test/java/org/jabref/logic/integrity/ASCIICharacterCheckerTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQwNDoyNjo1N1rOGJix-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQwNDoyNjo1N1rOGJix-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjY2MDIxNw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                void fieldAcceptsASCIICharacters() {\n          \n          \n            \n                void fieldAcceptsAsciiCharacters() {\n          \n      \n    \n    \n  \n\nEven not conform with current JabRef classes, please use defined camel case - see https://google.github.io/styleguide/javaguide.html#s5.3-camel-case for details.", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r412660217", "createdAt": "2020-04-22T04:26:57Z", "author": {"login": "koppor"}, "path": "src/test/java/org/jabref/logic/integrity/ASCIICharacterCheckerTest.java", "diffHunk": "@@ -0,0 +1,24 @@\n+package org.jabref.logic.integrity;\n+\n+import org.jabref.model.entry.field.StandardField;\n+\n+import org.junit.jupiter.api.Test;\n+\n+public class ASCIICharacterCheckerTest {\n+\n+    @Test\n+    void fieldAcceptsASCIICharacters() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0595351cdb5c84555f0f42188d9082a1ec309f4f"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2NDMyNDYwOnYy", "diffSide": "RIGHT", "path": "src/test/java/org/jabref/logic/integrity/AbbreviationCheckerTest.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQwNDoyOTowMlrOGJi0cA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxOTo1NjowM1rOGK5k3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjY2MDg0OA==", "bodyText": "Please use checker.checkValue instead of IntegrityCheckTest.... Reason: Keep the tests focused in the test subject.\nSee the name \"AbbreviationCheckerTest\"? It tests the class \"AbbreviationChecker\". This class is instantiated in line 25.\nAlso applies for the other checks you added. Could you please rework?", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r412660848", "createdAt": "2020-04-22T04:29:02Z", "author": {"login": "koppor"}, "path": "src/test/java/org/jabref/logic/integrity/AbbreviationCheckerTest.java", "diffHunk": "@@ -32,4 +35,25 @@ void checkValueDoesNotComplainAboutJournalNameThatHasSameAbbreviation() {\n         abbreviationRepository.addEntry(new Abbreviation(\"Journal\", \"Journal\"));\n         assertEquals(Optional.empty(), checker.checkValue(\"Journal\"));\n     }\n+\n+    @Test\n+    void journalNameAcceptsFullForm() {\n+        for (Field field : Arrays.asList(StandardField.BOOKTITLE, StandardField.JOURNAL)) {\n+            IntegrityCheckTest.assertCorrect(IntegrityCheckTest.createContext(field, \"IEEE Software\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0595351cdb5c84555f0f42188d9082a1ec309f4f"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzcxMTM3NA==", "bodyText": "@koppor I changed every class that has a checkValue method. But some of them like ASCIICharacterChecker.java has a different method(public List check(BibEntry entry)). Do you want me to change those tests too? If yes can you suggest me something? Because it is like IntegrityCheck.java and you haven't made any comments on my test class.", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r413711374", "createdAt": "2020-04-23T10:46:15Z", "author": {"login": "dimitra-karadima"}, "path": "src/test/java/org/jabref/logic/integrity/AbbreviationCheckerTest.java", "diffHunk": "@@ -32,4 +35,25 @@ void checkValueDoesNotComplainAboutJournalNameThatHasSameAbbreviation() {\n         abbreviationRepository.addEntry(new Abbreviation(\"Journal\", \"Journal\"));\n         assertEquals(Optional.empty(), checker.checkValue(\"Journal\"));\n     }\n+\n+    @Test\n+    void journalNameAcceptsFullForm() {\n+        for (Field field : Arrays.asList(StandardField.BOOKTITLE, StandardField.JOURNAL)) {\n+            IntegrityCheckTest.assertCorrect(IntegrityCheckTest.createContext(field, \"IEEE Software\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjY2MDg0OA=="}, "originalCommit": {"oid": "0595351cdb5c84555f0f42188d9082a1ec309f4f"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDA4MjI2OQ==", "bodyText": "No errors: assertEquals(Collections.emptyList(), assciCharacterChecker.check(entry));\nErrors: assertEquals(List.of(new IntegrityCheckMessage(\"...text\", StandardFields.DOI)), assciCharacterChecker.check(entry));). This way, the real error message is checked. And if someone changes something in the checker, it is also noted in the tests. See our long disucssions at #6300 (which are also caused by failing tests - and we were forced to think about the intended behavior more deeply).", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r414082269", "createdAt": "2020-04-23T19:56:03Z", "author": {"login": "koppor"}, "path": "src/test/java/org/jabref/logic/integrity/AbbreviationCheckerTest.java", "diffHunk": "@@ -32,4 +35,25 @@ void checkValueDoesNotComplainAboutJournalNameThatHasSameAbbreviation() {\n         abbreviationRepository.addEntry(new Abbreviation(\"Journal\", \"Journal\"));\n         assertEquals(Optional.empty(), checker.checkValue(\"Journal\"));\n     }\n+\n+    @Test\n+    void journalNameAcceptsFullForm() {\n+        for (Field field : Arrays.asList(StandardField.BOOKTITLE, StandardField.JOURNAL)) {\n+            IntegrityCheckTest.assertCorrect(IntegrityCheckTest.createContext(field, \"IEEE Software\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjY2MDg0OA=="}, "originalCommit": {"oid": "0595351cdb5c84555f0f42188d9082a1ec309f4f"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyMTcxNzA1OnYy", "diffSide": "RIGHT", "path": "src/test/java/org/jabref/logic/integrity/BooktitleCheckerTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMzowMjowNVrOGRobqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMzowMjowNVrOGRobqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTE0MTQxOA==", "bodyText": "No need for the @BeforeEach here. Just initialize the checker in line 13. --> One SLOC insted of 6 for the same functionality. -- JUnit initializes the class on each run.\nPlease check the other (modified) classes, too.", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r421141418", "createdAt": "2020-05-06T23:02:05Z", "author": {"login": "koppor"}, "path": "src/test/java/org/jabref/logic/integrity/BooktitleCheckerTest.java", "diffHunk": "@@ -0,0 +1,30 @@\n+package org.jabref.logic.integrity;\n+\n+import java.util.Optional;\n+\n+import org.junit.jupiter.api.BeforeEach;\n+import org.junit.jupiter.api.Test;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertNotEquals;\n+\n+public class BooktitleCheckerTest {\n+\n+    private BooktitleChecker checker;\n+\n+    @BeforeEach\n+    public void setUp() {\n+        checker = new BooktitleChecker();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3933821379bfa8958829310fdac9e143d60cdb2c"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyMTcxOTMxOnYy", "diffSide": "RIGHT", "path": "src/test/java/org/jabref/logic/integrity/EditionCheckerTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMzowMzowMVrOGRoc7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMzowMzowMVrOGRoc7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTE0MTc0MQ==", "bodyText": "Here, the @BeforeEach is OK, because there is more happening than just creating objects.", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r421141741", "createdAt": "2020-05-06T23:03:01Z", "author": {"login": "koppor"}, "path": "src/test/java/org/jabref/logic/integrity/EditionCheckerTest.java", "diffHunk": "@@ -3,15 +3,35 @@\n import java.util.Optional;\n \n import org.jabref.model.database.BibDatabaseContext;\n-\n+import org.jabref.model.database.BibDatabaseMode;\n+import org.jabref.model.entry.BibEntry;\n+import org.junit.jupiter.api.BeforeEach;\n import org.junit.jupiter.api.Test;\n \n import static org.junit.jupiter.api.Assertions.assertEquals;\n import static org.junit.jupiter.api.Assertions.assertFalse;\n+import static org.junit.jupiter.api.Assertions.assertNotEquals;\n import static org.junit.jupiter.api.Assertions.assertTrue;\n \n public class EditionCheckerTest {\n \n+    private EditionChecker checker;\n+    private EditionChecker checkerb;\n+    private BibEntry entry;\n+    private BibDatabaseContext bibtex;\n+    private BibDatabaseContext biblatex;\n+\n+    @BeforeEach\n+    void setUp() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3933821379bfa8958829310fdac9e143d60cdb2c"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyMTcxOTk5OnYy", "diffSide": "RIGHT", "path": "src/test/java/org/jabref/logic/integrity/FileCheckerTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMzowMzoyNFrOGRodVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMzowMzoyNFrOGRodVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTE0MTg0NQ==", "bodyText": "Why is here commented code?", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r421141845", "createdAt": "2020-05-06T23:03:24Z", "author": {"login": "koppor"}, "path": "src/test/java/org/jabref/logic/integrity/FileCheckerTest.java", "diffHunk": "@@ -0,0 +1,58 @@\n+package org.jabref.logic.integrity;\n+\n+import java.util.List;\n+import java.util.Optional;\n+\n+import org.jabref.model.database.BibDatabaseContext;\n+import org.jabref.model.database.BibDatabaseMode;\n+import org.jabref.model.entry.BibEntry;\n+import org.jabref.model.metadata.FilePreferences;\n+import org.jabref.model.metadata.MetaData;\n+import org.junit.jupiter.api.BeforeEach;\n+import org.junit.jupiter.api.Test;\n+import org.mockito.Mockito;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertNotEquals;\n+import static org.mockito.ArgumentMatchers.any;\n+import static org.mockito.Mockito.mock;\n+\n+public class FileCheckerTest {\n+\n+    private FileChecker checker;\n+    private BibEntry entry;\n+    private BibDatabaseContext bibDatabaseContext;\n+    private List<IntegrityMessage> messages;\n+    MetaData metaData = mock(MetaData.class);\n+    //private FilePreferences f;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3933821379bfa8958829310fdac9e143d60cdb2c"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyMTcyNTI5OnYy", "diffSide": "RIGHT", "path": "src/test/java/org/jabref/logic/integrity/IntegrityCheckTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMzowNTozM1rOGRogXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMzowMzo0MlrOGR9fJg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTE0MjYyMA==", "bodyText": "Why was the modifier changed? Is this method used outside of this class? It should be private. Adding static is OK for me.", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r421142620", "createdAt": "2020-05-06T23:05:33Z", "author": {"login": "koppor"}, "path": "src/test/java/org/jabref/logic/integrity/IntegrityCheckTest.java", "diffHunk": "@@ -390,21 +84,21 @@ private BibDatabaseContext createContext(Field field, String value, EntryType ty\n         return new BibDatabaseContext(bibDatabase);\n     }\n \n-    private BibDatabaseContext createContext(Field field, String value, MetaData metaData) {\n+    protected static BibDatabaseContext createContext(Field field, String value, MetaData metaData) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3933821379bfa8958829310fdac9e143d60cdb2c"}, "originalPosition": 373}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTQ4NjM3NA==", "bodyText": "@koppor yes it was used outside of the class. I changed it now so all classes are independent. And I think I covered all the issues mentioned with my new commits. Please check it out and let me know what you think!", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r421486374", "createdAt": "2020-05-07T13:03:42Z", "author": {"login": "dimitra-karadima"}, "path": "src/test/java/org/jabref/logic/integrity/IntegrityCheckTest.java", "diffHunk": "@@ -390,21 +84,21 @@ private BibDatabaseContext createContext(Field field, String value, EntryType ty\n         return new BibDatabaseContext(bibDatabase);\n     }\n \n-    private BibDatabaseContext createContext(Field field, String value, MetaData metaData) {\n+    protected static BibDatabaseContext createContext(Field field, String value, MetaData metaData) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTE0MjYyMA=="}, "originalCommit": {"oid": "3933821379bfa8958829310fdac9e143d60cdb2c"}, "originalPosition": 373}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyMTczMDk2OnYy", "diffSide": "RIGHT", "path": "src/test/java/org/jabref/logic/integrity/FileCheckerTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMzowNzo1OFrOGRojmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMzowNzo1OFrOGRojmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTE0MzQ1MQ==", "bodyText": "I don't find this commented code in the old IntegrityCheck Test. Why is it here?", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r421143451", "createdAt": "2020-05-06T23:07:58Z", "author": {"login": "koppor"}, "path": "src/test/java/org/jabref/logic/integrity/FileCheckerTest.java", "diffHunk": "@@ -0,0 +1,58 @@\n+package org.jabref.logic.integrity;\n+\n+import java.util.List;\n+import java.util.Optional;\n+\n+import org.jabref.model.database.BibDatabaseContext;\n+import org.jabref.model.database.BibDatabaseMode;\n+import org.jabref.model.entry.BibEntry;\n+import org.jabref.model.metadata.FilePreferences;\n+import org.jabref.model.metadata.MetaData;\n+import org.junit.jupiter.api.BeforeEach;\n+import org.junit.jupiter.api.Test;\n+import org.mockito.Mockito;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertNotEquals;\n+import static org.mockito.ArgumentMatchers.any;\n+import static org.mockito.Mockito.mock;\n+\n+public class FileCheckerTest {\n+\n+    private FileChecker checker;\n+    private BibEntry entry;\n+    private BibDatabaseContext bibDatabaseContext;\n+    private List<IntegrityMessage> messages;\n+    MetaData metaData = mock(MetaData.class);\n+    //private FilePreferences f;\n+    //Map<Field, String> hash;\n+\n+    @BeforeEach\n+    void setUp() {\n+        //hash.put(StandardField.ABSTRACT, \"\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3933821379bfa8958829310fdac9e143d60cdb2c"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyMTc0Mjk2OnYy", "diffSide": "RIGHT", "path": "src/test/java/org/jabref/logic/integrity/FileCheckerTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMzoxMzowNFrOGRoqag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQyMzoxMzowNFrOGRoqag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTE0NTE5NA==", "bodyText": "Is this checker ever used in this class?\nI would propose to\na) remove this unused code\nb) readd the test void testFileChecks() { in the IntegrityCheck class as the DIFFERENCE to this test is that the FILE field is checked - and this coudl have some side effects.\nMore background:\nI wondered why metaData has to be mocked. The only reason can be the special treatment of the file field. I think, we should keep this code. The code can be left in the IntegrityCheckerTest class - if we don't come up with some better place.", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r421145194", "createdAt": "2020-05-06T23:13:04Z", "author": {"login": "koppor"}, "path": "src/test/java/org/jabref/logic/integrity/FileCheckerTest.java", "diffHunk": "@@ -0,0 +1,58 @@\n+package org.jabref.logic.integrity;\n+\n+import java.util.List;\n+import java.util.Optional;\n+\n+import org.jabref.model.database.BibDatabaseContext;\n+import org.jabref.model.database.BibDatabaseMode;\n+import org.jabref.model.entry.BibEntry;\n+import org.jabref.model.metadata.FilePreferences;\n+import org.jabref.model.metadata.MetaData;\n+import org.junit.jupiter.api.BeforeEach;\n+import org.junit.jupiter.api.Test;\n+import org.mockito.Mockito;\n+\n+import static org.junit.jupiter.api.Assertions.assertEquals;\n+import static org.junit.jupiter.api.Assertions.assertNotEquals;\n+import static org.mockito.ArgumentMatchers.any;\n+import static org.mockito.Mockito.mock;\n+\n+public class FileCheckerTest {\n+\n+    private FileChecker checker;\n+    private BibEntry entry;\n+    private BibDatabaseContext bibDatabaseContext;\n+    private List<IntegrityMessage> messages;\n+    MetaData metaData = mock(MetaData.class);\n+    //private FilePreferences f;\n+    //Map<Field, String> hash;\n+\n+    @BeforeEach\n+    void setUp() {\n+        //hash.put(StandardField.ABSTRACT, \"\");\n+        //f = new FilePreferences(\"\", hash, true, \"\", \"\");\n+        bibDatabaseContext = new BibDatabaseContext();\n+        checker = new FileChecker(bibDatabaseContext, mock(FilePreferences.class));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3933821379bfa8958829310fdac9e143d60cdb2c"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyOTg0MDQ3OnYy", "diffSide": "LEFT", "path": "src/test/java/org/jabref/logic/integrity/IntegrityCheckTest.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQyMjozODo1N1rOGS1rZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNDoyNzozN1rOGT1nlA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQwNzAxMg==", "bodyText": "I don't find this for loop in the new code. Was it deleted completely or did I just not find it? If it was deleted, please re-add it. -- Maybe: Is the test already existing somewhere else?", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r422407012", "createdAt": "2020-05-08T22:38:57Z", "author": {"login": "koppor"}, "path": "src/test/java/org/jabref/logic/integrity/IntegrityCheckTest.java", "diffHunk": "@@ -39,197 +37,23 @@\n class IntegrityCheckTest {\n \n     @Test\n-    void testEntryTypeChecks() {\n+    void bibTexAcceptsStandardEntryType() {\n         assertCorrect(withMode(createContext(StandardField.TITLE, \"sometitle\", StandardEntryType.Article), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.TITLE, \"sometitle\", IEEETranEntryType.Patent), BibDatabaseMode.BIBTEX));\n-        assertCorrect((withMode(createContext(StandardField.TITLE, \"sometitle\", IEEETranEntryType.Patent), BibDatabaseMode.BIBLATEX)));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"sometitle\", StandardEntryType.Article), BibDatabaseMode.BIBLATEX));\n-    }\n-\n-    @Test\n-    void testUrlChecks() {\n-        assertCorrect(createContext(StandardField.URL, \"http://www.google.com\"));\n-        assertCorrect(createContext(StandardField.URL, \"file://c:/asdf/asdf\"));\n-        assertCorrect(createContext(StandardField.URL, \"http://scikit-learn.org/stable/modules/ensemble.html#random-forests\"));\n-\n-        assertWrong(createContext(StandardField.URL, \"www.google.com\"));\n-        assertWrong(createContext(StandardField.URL, \"google.com\"));\n-        assertWrong(createContext(StandardField.URL, \"c:/asdf/asdf\"));\n-    }\n-\n-    @Test\n-    void testYearChecks() {\n-        assertCorrect(createContext(StandardField.YEAR, \"2014\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"around 1986\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"(around 1986)\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986,\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986}%\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986(){},.;!?<>%&$\"));\n-        assertWrong(createContext(StandardField.YEAR, \"abc\"));\n-        assertWrong(createContext(StandardField.YEAR, \"86\"));\n-        assertWrong(createContext(StandardField.YEAR, \"204\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986a\"));\n-        assertWrong(createContext(StandardField.YEAR, \"(1986a)\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986a,\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986}a%\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986a(){},.;!?<>%&$\"));\n-    }\n-\n-    @Test\n-    void testEditionChecks() {\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Second\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Third\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"second\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"2\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"2\"), BibDatabaseMode.BIBTEX), true);\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"2nd\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"10\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Third, revised and expanded edition\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Edition 2000\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"2nd\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"1\"), BibDatabaseMode.BIBTEX));\n-    }\n-\n-    @Test\n-    void testNoteChecks() {\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"Lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"Lorem ipsum? 10\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.NOTE, \"lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"Lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"\\\\url{someurl}\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n-    }\n-\n-    @Test\n-    void testHowpublishedChecks() {\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"Lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"Lorem ipsum? 10\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.HOWPUBLISHED, \"lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"\\\\url{someurl}\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"Lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n     }\n \n     @Test\n-    void testMonthChecks() {\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"#mar#\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"#dec#\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"#bla#\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"Dec\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"December\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"Lorem\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"10\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"1\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"10\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"#jan#\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"jan\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"january\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"January\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"Lorem\"), BibDatabaseMode.BIBLATEX));\n-    }\n-\n-    @Test\n-    void testJournaltitleChecks() {\n-        assertWrong(withMode(createContext(StandardField.JOURNALTITLE, \"A journal\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.JOURNAL, \"A journal\"), BibDatabaseMode.BIBTEX));\n-    }\n-\n-    @Test\n-    void testBibtexkeyChecks() {\n-        final BibDatabaseContext correctContext = createContext(InternalField.KEY_FIELD, \"Knuth2014\");\n-        correctContext.getDatabase().getEntries().get(0).setField(StandardField.AUTHOR, \"Knuth\");\n-        correctContext.getDatabase().getEntries().get(0).setField(StandardField.YEAR, \"2014\");\n-        assertCorrect(correctContext);\n-\n-        final BibDatabaseContext wrongContext = createContext(InternalField.KEY_FIELD, \"Knuth2014a\");\n-        wrongContext.getDatabase().getEntries().get(0).setField(StandardField.AUTHOR, \"Knuth\");\n-        wrongContext.getDatabase().getEntries().get(0).setField(StandardField.YEAR, \"2014\");\n-        assertWrong(wrongContext);\n-    }\n-\n-    @Test\n-    void testBracketChecks() {\n-        assertCorrect(createContext(StandardField.TITLE, \"x\"));\n-        assertCorrect(createContext(StandardField.TITLE, \"{x}\"));\n-        assertCorrect(createContext(StandardField.TITLE, \"{x}x{}x{{}}\"));\n-        assertWrong(createContext(StandardField.TITLE, \"{x}x{}}x{{}}\"));\n-        assertWrong(createContext(StandardField.TITLE, \"}\"));\n-        assertWrong(createContext(StandardField.TITLE, \"{\"));\n-    }\n-\n-    @Test\n-    void testAuthorNameChecks() {\n-        for (Field field : FieldFactory.getPersonNameFields()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16129ca2777001e367473c0a73add01a7fe22e10"}, "originalPosition": 143}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ3NDA4Nw==", "bodyText": "@koppor I placed these tests in the PersonNamesCheckerTest. Do you want me to add the for loops in all the added tests there?", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r422474087", "createdAt": "2020-05-09T09:22:01Z", "author": {"login": "dimitra-karadima"}, "path": "src/test/java/org/jabref/logic/integrity/IntegrityCheckTest.java", "diffHunk": "@@ -39,197 +37,23 @@\n class IntegrityCheckTest {\n \n     @Test\n-    void testEntryTypeChecks() {\n+    void bibTexAcceptsStandardEntryType() {\n         assertCorrect(withMode(createContext(StandardField.TITLE, \"sometitle\", StandardEntryType.Article), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.TITLE, \"sometitle\", IEEETranEntryType.Patent), BibDatabaseMode.BIBTEX));\n-        assertCorrect((withMode(createContext(StandardField.TITLE, \"sometitle\", IEEETranEntryType.Patent), BibDatabaseMode.BIBLATEX)));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"sometitle\", StandardEntryType.Article), BibDatabaseMode.BIBLATEX));\n-    }\n-\n-    @Test\n-    void testUrlChecks() {\n-        assertCorrect(createContext(StandardField.URL, \"http://www.google.com\"));\n-        assertCorrect(createContext(StandardField.URL, \"file://c:/asdf/asdf\"));\n-        assertCorrect(createContext(StandardField.URL, \"http://scikit-learn.org/stable/modules/ensemble.html#random-forests\"));\n-\n-        assertWrong(createContext(StandardField.URL, \"www.google.com\"));\n-        assertWrong(createContext(StandardField.URL, \"google.com\"));\n-        assertWrong(createContext(StandardField.URL, \"c:/asdf/asdf\"));\n-    }\n-\n-    @Test\n-    void testYearChecks() {\n-        assertCorrect(createContext(StandardField.YEAR, \"2014\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"around 1986\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"(around 1986)\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986,\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986}%\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986(){},.;!?<>%&$\"));\n-        assertWrong(createContext(StandardField.YEAR, \"abc\"));\n-        assertWrong(createContext(StandardField.YEAR, \"86\"));\n-        assertWrong(createContext(StandardField.YEAR, \"204\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986a\"));\n-        assertWrong(createContext(StandardField.YEAR, \"(1986a)\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986a,\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986}a%\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986a(){},.;!?<>%&$\"));\n-    }\n-\n-    @Test\n-    void testEditionChecks() {\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Second\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Third\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"second\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"2\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"2\"), BibDatabaseMode.BIBTEX), true);\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"2nd\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"10\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Third, revised and expanded edition\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Edition 2000\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"2nd\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"1\"), BibDatabaseMode.BIBTEX));\n-    }\n-\n-    @Test\n-    void testNoteChecks() {\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"Lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"Lorem ipsum? 10\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.NOTE, \"lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"Lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"\\\\url{someurl}\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n-    }\n-\n-    @Test\n-    void testHowpublishedChecks() {\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"Lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"Lorem ipsum? 10\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.HOWPUBLISHED, \"lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"\\\\url{someurl}\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"Lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n     }\n \n     @Test\n-    void testMonthChecks() {\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"#mar#\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"#dec#\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"#bla#\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"Dec\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"December\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"Lorem\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"10\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"1\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"10\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"#jan#\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"jan\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"january\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"January\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"Lorem\"), BibDatabaseMode.BIBLATEX));\n-    }\n-\n-    @Test\n-    void testJournaltitleChecks() {\n-        assertWrong(withMode(createContext(StandardField.JOURNALTITLE, \"A journal\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.JOURNAL, \"A journal\"), BibDatabaseMode.BIBTEX));\n-    }\n-\n-    @Test\n-    void testBibtexkeyChecks() {\n-        final BibDatabaseContext correctContext = createContext(InternalField.KEY_FIELD, \"Knuth2014\");\n-        correctContext.getDatabase().getEntries().get(0).setField(StandardField.AUTHOR, \"Knuth\");\n-        correctContext.getDatabase().getEntries().get(0).setField(StandardField.YEAR, \"2014\");\n-        assertCorrect(correctContext);\n-\n-        final BibDatabaseContext wrongContext = createContext(InternalField.KEY_FIELD, \"Knuth2014a\");\n-        wrongContext.getDatabase().getEntries().get(0).setField(StandardField.AUTHOR, \"Knuth\");\n-        wrongContext.getDatabase().getEntries().get(0).setField(StandardField.YEAR, \"2014\");\n-        assertWrong(wrongContext);\n-    }\n-\n-    @Test\n-    void testBracketChecks() {\n-        assertCorrect(createContext(StandardField.TITLE, \"x\"));\n-        assertCorrect(createContext(StandardField.TITLE, \"{x}\"));\n-        assertCorrect(createContext(StandardField.TITLE, \"{x}x{}x{{}}\"));\n-        assertWrong(createContext(StandardField.TITLE, \"{x}x{}}x{{}}\"));\n-        assertWrong(createContext(StandardField.TITLE, \"}\"));\n-        assertWrong(createContext(StandardField.TITLE, \"{\"));\n-    }\n-\n-    @Test\n-    void testAuthorNameChecks() {\n-        for (Field field : FieldFactory.getPersonNameFields()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQwNzAxMg=="}, "originalCommit": {"oid": "16129ca2777001e367473c0a73add01a7fe22e10"}, "originalPosition": 143}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzIzMzMyOA==", "bodyText": "I just checked. Did not find assertCorrect(withMode(createContext(field, \"\"), BibDatabaseMode.BIBLATEX)) there. Could you do a double check for commit and push, please?\nFor the for loop, please use @MethodSource as described at https://www.baeldung.com/parameterized-tests-junit-5#6-method.", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r423233328", "createdAt": "2020-05-11T18:24:48Z", "author": {"login": "koppor"}, "path": "src/test/java/org/jabref/logic/integrity/IntegrityCheckTest.java", "diffHunk": "@@ -39,197 +37,23 @@\n class IntegrityCheckTest {\n \n     @Test\n-    void testEntryTypeChecks() {\n+    void bibTexAcceptsStandardEntryType() {\n         assertCorrect(withMode(createContext(StandardField.TITLE, \"sometitle\", StandardEntryType.Article), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.TITLE, \"sometitle\", IEEETranEntryType.Patent), BibDatabaseMode.BIBTEX));\n-        assertCorrect((withMode(createContext(StandardField.TITLE, \"sometitle\", IEEETranEntryType.Patent), BibDatabaseMode.BIBLATEX)));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"sometitle\", StandardEntryType.Article), BibDatabaseMode.BIBLATEX));\n-    }\n-\n-    @Test\n-    void testUrlChecks() {\n-        assertCorrect(createContext(StandardField.URL, \"http://www.google.com\"));\n-        assertCorrect(createContext(StandardField.URL, \"file://c:/asdf/asdf\"));\n-        assertCorrect(createContext(StandardField.URL, \"http://scikit-learn.org/stable/modules/ensemble.html#random-forests\"));\n-\n-        assertWrong(createContext(StandardField.URL, \"www.google.com\"));\n-        assertWrong(createContext(StandardField.URL, \"google.com\"));\n-        assertWrong(createContext(StandardField.URL, \"c:/asdf/asdf\"));\n-    }\n-\n-    @Test\n-    void testYearChecks() {\n-        assertCorrect(createContext(StandardField.YEAR, \"2014\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"around 1986\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"(around 1986)\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986,\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986}%\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986(){},.;!?<>%&$\"));\n-        assertWrong(createContext(StandardField.YEAR, \"abc\"));\n-        assertWrong(createContext(StandardField.YEAR, \"86\"));\n-        assertWrong(createContext(StandardField.YEAR, \"204\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986a\"));\n-        assertWrong(createContext(StandardField.YEAR, \"(1986a)\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986a,\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986}a%\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986a(){},.;!?<>%&$\"));\n-    }\n-\n-    @Test\n-    void testEditionChecks() {\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Second\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Third\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"second\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"2\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"2\"), BibDatabaseMode.BIBTEX), true);\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"2nd\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"10\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Third, revised and expanded edition\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Edition 2000\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"2nd\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"1\"), BibDatabaseMode.BIBTEX));\n-    }\n-\n-    @Test\n-    void testNoteChecks() {\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"Lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"Lorem ipsum? 10\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.NOTE, \"lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"Lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"\\\\url{someurl}\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n-    }\n-\n-    @Test\n-    void testHowpublishedChecks() {\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"Lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"Lorem ipsum? 10\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.HOWPUBLISHED, \"lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"\\\\url{someurl}\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"Lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n     }\n \n     @Test\n-    void testMonthChecks() {\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"#mar#\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"#dec#\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"#bla#\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"Dec\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"December\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"Lorem\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"10\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"1\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"10\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"#jan#\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"jan\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"january\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"January\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"Lorem\"), BibDatabaseMode.BIBLATEX));\n-    }\n-\n-    @Test\n-    void testJournaltitleChecks() {\n-        assertWrong(withMode(createContext(StandardField.JOURNALTITLE, \"A journal\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.JOURNAL, \"A journal\"), BibDatabaseMode.BIBTEX));\n-    }\n-\n-    @Test\n-    void testBibtexkeyChecks() {\n-        final BibDatabaseContext correctContext = createContext(InternalField.KEY_FIELD, \"Knuth2014\");\n-        correctContext.getDatabase().getEntries().get(0).setField(StandardField.AUTHOR, \"Knuth\");\n-        correctContext.getDatabase().getEntries().get(0).setField(StandardField.YEAR, \"2014\");\n-        assertCorrect(correctContext);\n-\n-        final BibDatabaseContext wrongContext = createContext(InternalField.KEY_FIELD, \"Knuth2014a\");\n-        wrongContext.getDatabase().getEntries().get(0).setField(StandardField.AUTHOR, \"Knuth\");\n-        wrongContext.getDatabase().getEntries().get(0).setField(StandardField.YEAR, \"2014\");\n-        assertWrong(wrongContext);\n-    }\n-\n-    @Test\n-    void testBracketChecks() {\n-        assertCorrect(createContext(StandardField.TITLE, \"x\"));\n-        assertCorrect(createContext(StandardField.TITLE, \"{x}\"));\n-        assertCorrect(createContext(StandardField.TITLE, \"{x}x{}x{{}}\"));\n-        assertWrong(createContext(StandardField.TITLE, \"{x}x{}}x{{}}\"));\n-        assertWrong(createContext(StandardField.TITLE, \"}\"));\n-        assertWrong(createContext(StandardField.TITLE, \"{\"));\n-    }\n-\n-    @Test\n-    void testAuthorNameChecks() {\n-        for (Field field : FieldFactory.getPersonNameFields()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQwNzAxMg=="}, "originalCommit": {"oid": "16129ca2777001e367473c0a73add01a7fe22e10"}, "originalPosition": 143}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzMyODYxMg==", "bodyText": "@koppor I will use the @MethodSource as you suggested but the line you mentioned have been replaced because the methods used are declared in the IntegrityCheckTest and we want all the test classes to be interdependent.", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r423328612", "createdAt": "2020-05-11T21:24:12Z", "author": {"login": "dimitra-karadima"}, "path": "src/test/java/org/jabref/logic/integrity/IntegrityCheckTest.java", "diffHunk": "@@ -39,197 +37,23 @@\n class IntegrityCheckTest {\n \n     @Test\n-    void testEntryTypeChecks() {\n+    void bibTexAcceptsStandardEntryType() {\n         assertCorrect(withMode(createContext(StandardField.TITLE, \"sometitle\", StandardEntryType.Article), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.TITLE, \"sometitle\", IEEETranEntryType.Patent), BibDatabaseMode.BIBTEX));\n-        assertCorrect((withMode(createContext(StandardField.TITLE, \"sometitle\", IEEETranEntryType.Patent), BibDatabaseMode.BIBLATEX)));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"sometitle\", StandardEntryType.Article), BibDatabaseMode.BIBLATEX));\n-    }\n-\n-    @Test\n-    void testUrlChecks() {\n-        assertCorrect(createContext(StandardField.URL, \"http://www.google.com\"));\n-        assertCorrect(createContext(StandardField.URL, \"file://c:/asdf/asdf\"));\n-        assertCorrect(createContext(StandardField.URL, \"http://scikit-learn.org/stable/modules/ensemble.html#random-forests\"));\n-\n-        assertWrong(createContext(StandardField.URL, \"www.google.com\"));\n-        assertWrong(createContext(StandardField.URL, \"google.com\"));\n-        assertWrong(createContext(StandardField.URL, \"c:/asdf/asdf\"));\n-    }\n-\n-    @Test\n-    void testYearChecks() {\n-        assertCorrect(createContext(StandardField.YEAR, \"2014\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"around 1986\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"(around 1986)\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986,\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986}%\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986(){},.;!?<>%&$\"));\n-        assertWrong(createContext(StandardField.YEAR, \"abc\"));\n-        assertWrong(createContext(StandardField.YEAR, \"86\"));\n-        assertWrong(createContext(StandardField.YEAR, \"204\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986a\"));\n-        assertWrong(createContext(StandardField.YEAR, \"(1986a)\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986a,\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986}a%\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986a(){},.;!?<>%&$\"));\n-    }\n-\n-    @Test\n-    void testEditionChecks() {\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Second\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Third\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"second\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"2\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"2\"), BibDatabaseMode.BIBTEX), true);\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"2nd\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"10\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Third, revised and expanded edition\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Edition 2000\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"2nd\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"1\"), BibDatabaseMode.BIBTEX));\n-    }\n-\n-    @Test\n-    void testNoteChecks() {\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"Lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"Lorem ipsum? 10\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.NOTE, \"lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"Lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"\\\\url{someurl}\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n-    }\n-\n-    @Test\n-    void testHowpublishedChecks() {\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"Lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"Lorem ipsum? 10\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.HOWPUBLISHED, \"lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"\\\\url{someurl}\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"Lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n     }\n \n     @Test\n-    void testMonthChecks() {\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"#mar#\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"#dec#\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"#bla#\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"Dec\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"December\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"Lorem\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"10\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"1\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"10\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"#jan#\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"jan\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"january\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"January\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"Lorem\"), BibDatabaseMode.BIBLATEX));\n-    }\n-\n-    @Test\n-    void testJournaltitleChecks() {\n-        assertWrong(withMode(createContext(StandardField.JOURNALTITLE, \"A journal\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.JOURNAL, \"A journal\"), BibDatabaseMode.BIBTEX));\n-    }\n-\n-    @Test\n-    void testBibtexkeyChecks() {\n-        final BibDatabaseContext correctContext = createContext(InternalField.KEY_FIELD, \"Knuth2014\");\n-        correctContext.getDatabase().getEntries().get(0).setField(StandardField.AUTHOR, \"Knuth\");\n-        correctContext.getDatabase().getEntries().get(0).setField(StandardField.YEAR, \"2014\");\n-        assertCorrect(correctContext);\n-\n-        final BibDatabaseContext wrongContext = createContext(InternalField.KEY_FIELD, \"Knuth2014a\");\n-        wrongContext.getDatabase().getEntries().get(0).setField(StandardField.AUTHOR, \"Knuth\");\n-        wrongContext.getDatabase().getEntries().get(0).setField(StandardField.YEAR, \"2014\");\n-        assertWrong(wrongContext);\n-    }\n-\n-    @Test\n-    void testBracketChecks() {\n-        assertCorrect(createContext(StandardField.TITLE, \"x\"));\n-        assertCorrect(createContext(StandardField.TITLE, \"{x}\"));\n-        assertCorrect(createContext(StandardField.TITLE, \"{x}x{}x{{}}\"));\n-        assertWrong(createContext(StandardField.TITLE, \"{x}x{}}x{{}}\"));\n-        assertWrong(createContext(StandardField.TITLE, \"}\"));\n-        assertWrong(createContext(StandardField.TITLE, \"{\"));\n-    }\n-\n-    @Test\n-    void testAuthorNameChecks() {\n-        for (Field field : FieldFactory.getPersonNameFields()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQwNzAxMg=="}, "originalCommit": {"oid": "16129ca2777001e367473c0a73add01a7fe22e10"}, "originalPosition": 143}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQ1NDYxMg==", "bodyText": "Good step forward. Note to self:\n\nCheck for FieldFactory.getPersonNameFields() in PersonNamesCheckerTest.\nCheck for Stream.of(Arguments.of in the new code (as this was linked to from https://www.baeldung.com/parameterized-tests-junit-5#6-method)\n\nAfter thinking longer, the first aspect cannot be made in PersonChecker.\nThus, please rewrite the test here to provide a Field from FieldFactory.getPersonNameFields() as source: Split the asserts up and have field as paramter. Thus, each assertCorrect and each assertWrong will become a separate @Test.\n(The alternative is to provide two parameters to a  @Test as you did in PersonNamesCheckerTest).", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r423454612", "createdAt": "2020-05-12T04:27:37Z", "author": {"login": "koppor"}, "path": "src/test/java/org/jabref/logic/integrity/IntegrityCheckTest.java", "diffHunk": "@@ -39,197 +37,23 @@\n class IntegrityCheckTest {\n \n     @Test\n-    void testEntryTypeChecks() {\n+    void bibTexAcceptsStandardEntryType() {\n         assertCorrect(withMode(createContext(StandardField.TITLE, \"sometitle\", StandardEntryType.Article), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.TITLE, \"sometitle\", IEEETranEntryType.Patent), BibDatabaseMode.BIBTEX));\n-        assertCorrect((withMode(createContext(StandardField.TITLE, \"sometitle\", IEEETranEntryType.Patent), BibDatabaseMode.BIBLATEX)));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"sometitle\", StandardEntryType.Article), BibDatabaseMode.BIBLATEX));\n-    }\n-\n-    @Test\n-    void testUrlChecks() {\n-        assertCorrect(createContext(StandardField.URL, \"http://www.google.com\"));\n-        assertCorrect(createContext(StandardField.URL, \"file://c:/asdf/asdf\"));\n-        assertCorrect(createContext(StandardField.URL, \"http://scikit-learn.org/stable/modules/ensemble.html#random-forests\"));\n-\n-        assertWrong(createContext(StandardField.URL, \"www.google.com\"));\n-        assertWrong(createContext(StandardField.URL, \"google.com\"));\n-        assertWrong(createContext(StandardField.URL, \"c:/asdf/asdf\"));\n-    }\n-\n-    @Test\n-    void testYearChecks() {\n-        assertCorrect(createContext(StandardField.YEAR, \"2014\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"around 1986\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"(around 1986)\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986,\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986}%\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986(){},.;!?<>%&$\"));\n-        assertWrong(createContext(StandardField.YEAR, \"abc\"));\n-        assertWrong(createContext(StandardField.YEAR, \"86\"));\n-        assertWrong(createContext(StandardField.YEAR, \"204\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986a\"));\n-        assertWrong(createContext(StandardField.YEAR, \"(1986a)\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986a,\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986}a%\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986a(){},.;!?<>%&$\"));\n-    }\n-\n-    @Test\n-    void testEditionChecks() {\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Second\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Third\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"second\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"2\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"2\"), BibDatabaseMode.BIBTEX), true);\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"2nd\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"10\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Third, revised and expanded edition\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Edition 2000\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"2nd\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"1\"), BibDatabaseMode.BIBTEX));\n-    }\n-\n-    @Test\n-    void testNoteChecks() {\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"Lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"Lorem ipsum? 10\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.NOTE, \"lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"Lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"\\\\url{someurl}\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n-    }\n-\n-    @Test\n-    void testHowpublishedChecks() {\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"Lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"Lorem ipsum? 10\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.HOWPUBLISHED, \"lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"\\\\url{someurl}\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"Lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n     }\n \n     @Test\n-    void testMonthChecks() {\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"#mar#\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"#dec#\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"#bla#\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"Dec\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"December\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"Lorem\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"10\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"1\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"10\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"#jan#\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"jan\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"january\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"January\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"Lorem\"), BibDatabaseMode.BIBLATEX));\n-    }\n-\n-    @Test\n-    void testJournaltitleChecks() {\n-        assertWrong(withMode(createContext(StandardField.JOURNALTITLE, \"A journal\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.JOURNAL, \"A journal\"), BibDatabaseMode.BIBTEX));\n-    }\n-\n-    @Test\n-    void testBibtexkeyChecks() {\n-        final BibDatabaseContext correctContext = createContext(InternalField.KEY_FIELD, \"Knuth2014\");\n-        correctContext.getDatabase().getEntries().get(0).setField(StandardField.AUTHOR, \"Knuth\");\n-        correctContext.getDatabase().getEntries().get(0).setField(StandardField.YEAR, \"2014\");\n-        assertCorrect(correctContext);\n-\n-        final BibDatabaseContext wrongContext = createContext(InternalField.KEY_FIELD, \"Knuth2014a\");\n-        wrongContext.getDatabase().getEntries().get(0).setField(StandardField.AUTHOR, \"Knuth\");\n-        wrongContext.getDatabase().getEntries().get(0).setField(StandardField.YEAR, \"2014\");\n-        assertWrong(wrongContext);\n-    }\n-\n-    @Test\n-    void testBracketChecks() {\n-        assertCorrect(createContext(StandardField.TITLE, \"x\"));\n-        assertCorrect(createContext(StandardField.TITLE, \"{x}\"));\n-        assertCorrect(createContext(StandardField.TITLE, \"{x}x{}x{{}}\"));\n-        assertWrong(createContext(StandardField.TITLE, \"{x}x{}}x{{}}\"));\n-        assertWrong(createContext(StandardField.TITLE, \"}\"));\n-        assertWrong(createContext(StandardField.TITLE, \"{\"));\n-    }\n-\n-    @Test\n-    void testAuthorNameChecks() {\n-        for (Field field : FieldFactory.getPersonNameFields()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQwNzAxMg=="}, "originalCommit": {"oid": "16129ca2777001e367473c0a73add01a7fe22e10"}, "originalPosition": 143}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyOTg0MjM5OnYy", "diffSide": "LEFT", "path": "src/test/java/org/jabref/logic/integrity/IntegrityCheckTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQyMjozOTo1M1rOGS1sjw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOVQwOTo0MToyMVrOGS54wA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQwNzMxMQ==", "bodyText": "I did not find this test in the diff. Is the test already existing somewhere else?", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r422407311", "createdAt": "2020-05-08T22:39:53Z", "author": {"login": "koppor"}, "path": "src/test/java/org/jabref/logic/integrity/IntegrityCheckTest.java", "diffHunk": "@@ -39,197 +37,23 @@\n class IntegrityCheckTest {\n \n     @Test\n-    void testEntryTypeChecks() {\n+    void bibTexAcceptsStandardEntryType() {\n         assertCorrect(withMode(createContext(StandardField.TITLE, \"sometitle\", StandardEntryType.Article), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.TITLE, \"sometitle\", IEEETranEntryType.Patent), BibDatabaseMode.BIBTEX));\n-        assertCorrect((withMode(createContext(StandardField.TITLE, \"sometitle\", IEEETranEntryType.Patent), BibDatabaseMode.BIBLATEX)));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"sometitle\", StandardEntryType.Article), BibDatabaseMode.BIBLATEX));\n-    }\n-\n-    @Test\n-    void testUrlChecks() {\n-        assertCorrect(createContext(StandardField.URL, \"http://www.google.com\"));\n-        assertCorrect(createContext(StandardField.URL, \"file://c:/asdf/asdf\"));\n-        assertCorrect(createContext(StandardField.URL, \"http://scikit-learn.org/stable/modules/ensemble.html#random-forests\"));\n-\n-        assertWrong(createContext(StandardField.URL, \"www.google.com\"));\n-        assertWrong(createContext(StandardField.URL, \"google.com\"));\n-        assertWrong(createContext(StandardField.URL, \"c:/asdf/asdf\"));\n-    }\n-\n-    @Test\n-    void testYearChecks() {\n-        assertCorrect(createContext(StandardField.YEAR, \"2014\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"around 1986\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"(around 1986)\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986,\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986}%\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986(){},.;!?<>%&$\"));\n-        assertWrong(createContext(StandardField.YEAR, \"abc\"));\n-        assertWrong(createContext(StandardField.YEAR, \"86\"));\n-        assertWrong(createContext(StandardField.YEAR, \"204\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986a\"));\n-        assertWrong(createContext(StandardField.YEAR, \"(1986a)\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986a,\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986}a%\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986a(){},.;!?<>%&$\"));\n-    }\n-\n-    @Test\n-    void testEditionChecks() {\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Second\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Third\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"second\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"2\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"2\"), BibDatabaseMode.BIBTEX), true);\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"2nd\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"10\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Third, revised and expanded edition\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Edition 2000\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"2nd\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"1\"), BibDatabaseMode.BIBTEX));\n-    }\n-\n-    @Test\n-    void testNoteChecks() {\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"Lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"Lorem ipsum? 10\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.NOTE, \"lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"Lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"\\\\url{someurl}\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n-    }\n-\n-    @Test\n-    void testHowpublishedChecks() {\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"Lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"Lorem ipsum? 10\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.HOWPUBLISHED, \"lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"\\\\url{someurl}\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"Lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n     }\n \n     @Test\n-    void testMonthChecks() {\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"#mar#\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"#dec#\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"#bla#\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"Dec\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"December\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"Lorem\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"10\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"1\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"10\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"#jan#\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"jan\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"january\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"January\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"Lorem\"), BibDatabaseMode.BIBLATEX));\n-    }\n-\n-    @Test\n-    void testJournaltitleChecks() {\n-        assertWrong(withMode(createContext(StandardField.JOURNALTITLE, \"A journal\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.JOURNAL, \"A journal\"), BibDatabaseMode.BIBTEX));\n-    }\n-\n-    @Test\n-    void testBibtexkeyChecks() {\n-        final BibDatabaseContext correctContext = createContext(InternalField.KEY_FIELD, \"Knuth2014\");\n-        correctContext.getDatabase().getEntries().get(0).setField(StandardField.AUTHOR, \"Knuth\");\n-        correctContext.getDatabase().getEntries().get(0).setField(StandardField.YEAR, \"2014\");\n-        assertCorrect(correctContext);\n-\n-        final BibDatabaseContext wrongContext = createContext(InternalField.KEY_FIELD, \"Knuth2014a\");\n-        wrongContext.getDatabase().getEntries().get(0).setField(StandardField.AUTHOR, \"Knuth\");\n-        wrongContext.getDatabase().getEntries().get(0).setField(StandardField.YEAR, \"2014\");\n-        assertWrong(wrongContext);\n-    }\n-\n-    @Test\n-    void testBracketChecks() {\n-        assertCorrect(createContext(StandardField.TITLE, \"x\"));\n-        assertCorrect(createContext(StandardField.TITLE, \"{x}\"));\n-        assertCorrect(createContext(StandardField.TITLE, \"{x}x{}x{{}}\"));\n-        assertWrong(createContext(StandardField.TITLE, \"{x}x{}}x{{}}\"));\n-        assertWrong(createContext(StandardField.TITLE, \"}\"));\n-        assertWrong(createContext(StandardField.TITLE, \"{\"));\n-    }\n-\n-    @Test\n-    void testAuthorNameChecks() {\n-        for (Field field : FieldFactory.getPersonNameFields()) {\n-            // getPersonNameFields returns fields that are available in biblatex only\n-            // if run without mode, the NoBibtexFieldChecker will complain that \"afterword\" is a biblatex only field\n-            assertCorrect(withMode(createContext(field, \"\"), BibDatabaseMode.BIBLATEX));\n-            assertCorrect(withMode(createContext(field, \"Knuth\"), BibDatabaseMode.BIBLATEX));\n-            assertWrong(withMode(createContext(field, \"   Knuth, Donald E. \"), BibDatabaseMode.BIBLATEX));\n-            assertWrong(withMode(createContext(field, \"Knuth, Donald E. and Kurt Cobain and A. Einstein\"), BibDatabaseMode.BIBLATEX));\n-            assertCorrect(withMode(createContext(field, \"Donald E. Knuth and Kurt Cobain and A. Einstein\"), BibDatabaseMode.BIBLATEX));\n-            assertWrong(withMode(createContext(field, \", and Kurt Cobain and A. Einstein\"), BibDatabaseMode.BIBLATEX));\n-            assertWrong(withMode(createContext(field, \"Donald E. Knuth and Kurt Cobain and ,\"), BibDatabaseMode.BIBLATEX));\n-            assertWrong(withMode(createContext(field, \"and Kurt Cobain and A. Einstein\"), BibDatabaseMode.BIBLATEX));\n-            assertWrong(withMode(createContext(field, \"Donald E. Knuth and Kurt Cobain and\"), BibDatabaseMode.BIBLATEX));\n-        }\n-    }\n-\n-    @Test\n-    void testTitleChecks() {\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a title\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.TITLE, \"This is a Title\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a {T}itle\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"{This is a Title}\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a {Title}\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"{C}urrent {C}hronicle\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"{A Model-Driven Approach for Monitoring {ebBP} BusinessTransactions}\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: This is a sub title 2\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: this is a sub title 2\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: This is A sub title 2\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: this is A sub title 2\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: This is {A} sub title 2\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: this is {A} sub title 2\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1...This is a sub title 2\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.TITLE, \"This is a sub title 1... this is a sub Title 2\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is; A sub title 1.... This is a sub title 2\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This!is!!A!Title??\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.TITLE, \"This!is!!A!TitlE??\"), BibDatabaseMode.BIBTEX));\n-\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a title\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a Title\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a {T}itle\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"{This is a Title}\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a {Title}\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"{C}urrent {C}hronicle\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"{A Model-Driven Approach for Monitoring {ebBP} BusinessTransactions}\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: This is a sub title 2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: this is a sub title 2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: This is A sub title 2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: this is A sub title 2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: This is {A} sub title 2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: this is {A} sub title 2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1...This is a sub title 2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1... this is a sub Title 2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is; A sub title 1.... This is a sub title 2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This!is!!A!Title??\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This!is!!A!TitlE??\"), BibDatabaseMode.BIBLATEX));\n+    void bibTexDoesNotAcceptIEEETranEntryType() {\n+        assertWrong(withMode(createContext(StandardField.TITLE, \"sometitle\", IEEETranEntryType.Patent), BibDatabaseMode.BIBTEX));\n     }\n \n     @Test\n-    void testAbbreviationChecks() {\n-        for (Field field : Arrays.asList(StandardField.BOOKTITLE, StandardField.JOURNAL)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16129ca2777001e367473c0a73add01a7fe22e10"}, "originalPosition": 203}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQ3NTk2OA==", "bodyText": "@koppor I thought that these tests were covered in the AbbreviationCheckerTest.  Do you want me to re-add these tests here?", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r422475968", "createdAt": "2020-05-09T09:41:21Z", "author": {"login": "dimitra-karadima"}, "path": "src/test/java/org/jabref/logic/integrity/IntegrityCheckTest.java", "diffHunk": "@@ -39,197 +37,23 @@\n class IntegrityCheckTest {\n \n     @Test\n-    void testEntryTypeChecks() {\n+    void bibTexAcceptsStandardEntryType() {\n         assertCorrect(withMode(createContext(StandardField.TITLE, \"sometitle\", StandardEntryType.Article), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.TITLE, \"sometitle\", IEEETranEntryType.Patent), BibDatabaseMode.BIBTEX));\n-        assertCorrect((withMode(createContext(StandardField.TITLE, \"sometitle\", IEEETranEntryType.Patent), BibDatabaseMode.BIBLATEX)));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"sometitle\", StandardEntryType.Article), BibDatabaseMode.BIBLATEX));\n-    }\n-\n-    @Test\n-    void testUrlChecks() {\n-        assertCorrect(createContext(StandardField.URL, \"http://www.google.com\"));\n-        assertCorrect(createContext(StandardField.URL, \"file://c:/asdf/asdf\"));\n-        assertCorrect(createContext(StandardField.URL, \"http://scikit-learn.org/stable/modules/ensemble.html#random-forests\"));\n-\n-        assertWrong(createContext(StandardField.URL, \"www.google.com\"));\n-        assertWrong(createContext(StandardField.URL, \"google.com\"));\n-        assertWrong(createContext(StandardField.URL, \"c:/asdf/asdf\"));\n-    }\n-\n-    @Test\n-    void testYearChecks() {\n-        assertCorrect(createContext(StandardField.YEAR, \"2014\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"around 1986\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"(around 1986)\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986,\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986}%\"));\n-        assertCorrect(createContext(StandardField.YEAR, \"1986(){},.;!?<>%&$\"));\n-        assertWrong(createContext(StandardField.YEAR, \"abc\"));\n-        assertWrong(createContext(StandardField.YEAR, \"86\"));\n-        assertWrong(createContext(StandardField.YEAR, \"204\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986a\"));\n-        assertWrong(createContext(StandardField.YEAR, \"(1986a)\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986a,\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986}a%\"));\n-        assertWrong(createContext(StandardField.YEAR, \"1986a(){},.;!?<>%&$\"));\n-    }\n-\n-    @Test\n-    void testEditionChecks() {\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Second\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Third\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"second\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"2\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"2\"), BibDatabaseMode.BIBTEX), true);\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"2nd\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"10\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Third, revised and expanded edition\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.EDITION, \"Edition 2000\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"2nd\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.EDITION, \"1\"), BibDatabaseMode.BIBTEX));\n-    }\n-\n-    @Test\n-    void testNoteChecks() {\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"Lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"Lorem ipsum? 10\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.NOTE, \"lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"Lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"\\\\url{someurl}\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.NOTE, \"lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n-    }\n-\n-    @Test\n-    void testHowpublishedChecks() {\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"Lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"Lorem ipsum? 10\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.HOWPUBLISHED, \"lorem ipsum\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"\\\\url{someurl}\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"Lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.HOWPUBLISHED, \"lorem ipsum\"), BibDatabaseMode.BIBLATEX));\n     }\n \n     @Test\n-    void testMonthChecks() {\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"#mar#\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"#dec#\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"#bla#\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"Dec\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"December\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"Lorem\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"10\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"1\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"10\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.MONTH, \"#jan#\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"jan\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"january\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"January\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.MONTH, \"Lorem\"), BibDatabaseMode.BIBLATEX));\n-    }\n-\n-    @Test\n-    void testJournaltitleChecks() {\n-        assertWrong(withMode(createContext(StandardField.JOURNALTITLE, \"A journal\"), BibDatabaseMode.BIBLATEX));\n-        assertWrong(withMode(createContext(StandardField.JOURNAL, \"A journal\"), BibDatabaseMode.BIBTEX));\n-    }\n-\n-    @Test\n-    void testBibtexkeyChecks() {\n-        final BibDatabaseContext correctContext = createContext(InternalField.KEY_FIELD, \"Knuth2014\");\n-        correctContext.getDatabase().getEntries().get(0).setField(StandardField.AUTHOR, \"Knuth\");\n-        correctContext.getDatabase().getEntries().get(0).setField(StandardField.YEAR, \"2014\");\n-        assertCorrect(correctContext);\n-\n-        final BibDatabaseContext wrongContext = createContext(InternalField.KEY_FIELD, \"Knuth2014a\");\n-        wrongContext.getDatabase().getEntries().get(0).setField(StandardField.AUTHOR, \"Knuth\");\n-        wrongContext.getDatabase().getEntries().get(0).setField(StandardField.YEAR, \"2014\");\n-        assertWrong(wrongContext);\n-    }\n-\n-    @Test\n-    void testBracketChecks() {\n-        assertCorrect(createContext(StandardField.TITLE, \"x\"));\n-        assertCorrect(createContext(StandardField.TITLE, \"{x}\"));\n-        assertCorrect(createContext(StandardField.TITLE, \"{x}x{}x{{}}\"));\n-        assertWrong(createContext(StandardField.TITLE, \"{x}x{}}x{{}}\"));\n-        assertWrong(createContext(StandardField.TITLE, \"}\"));\n-        assertWrong(createContext(StandardField.TITLE, \"{\"));\n-    }\n-\n-    @Test\n-    void testAuthorNameChecks() {\n-        for (Field field : FieldFactory.getPersonNameFields()) {\n-            // getPersonNameFields returns fields that are available in biblatex only\n-            // if run without mode, the NoBibtexFieldChecker will complain that \"afterword\" is a biblatex only field\n-            assertCorrect(withMode(createContext(field, \"\"), BibDatabaseMode.BIBLATEX));\n-            assertCorrect(withMode(createContext(field, \"Knuth\"), BibDatabaseMode.BIBLATEX));\n-            assertWrong(withMode(createContext(field, \"   Knuth, Donald E. \"), BibDatabaseMode.BIBLATEX));\n-            assertWrong(withMode(createContext(field, \"Knuth, Donald E. and Kurt Cobain and A. Einstein\"), BibDatabaseMode.BIBLATEX));\n-            assertCorrect(withMode(createContext(field, \"Donald E. Knuth and Kurt Cobain and A. Einstein\"), BibDatabaseMode.BIBLATEX));\n-            assertWrong(withMode(createContext(field, \", and Kurt Cobain and A. Einstein\"), BibDatabaseMode.BIBLATEX));\n-            assertWrong(withMode(createContext(field, \"Donald E. Knuth and Kurt Cobain and ,\"), BibDatabaseMode.BIBLATEX));\n-            assertWrong(withMode(createContext(field, \"and Kurt Cobain and A. Einstein\"), BibDatabaseMode.BIBLATEX));\n-            assertWrong(withMode(createContext(field, \"Donald E. Knuth and Kurt Cobain and\"), BibDatabaseMode.BIBLATEX));\n-        }\n-    }\n-\n-    @Test\n-    void testTitleChecks() {\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a title\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.TITLE, \"This is a Title\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a {T}itle\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"{This is a Title}\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a {Title}\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"{C}urrent {C}hronicle\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"{A Model-Driven Approach for Monitoring {ebBP} BusinessTransactions}\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: This is a sub title 2\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: this is a sub title 2\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: This is A sub title 2\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: this is A sub title 2\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: This is {A} sub title 2\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: this is {A} sub title 2\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1...This is a sub title 2\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.TITLE, \"This is a sub title 1... this is a sub Title 2\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is; A sub title 1.... This is a sub title 2\"), BibDatabaseMode.BIBTEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This!is!!A!Title??\"), BibDatabaseMode.BIBTEX));\n-        assertWrong(withMode(createContext(StandardField.TITLE, \"This!is!!A!TitlE??\"), BibDatabaseMode.BIBTEX));\n-\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a title\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a Title\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a {T}itle\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"{This is a Title}\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a {Title}\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"{C}urrent {C}hronicle\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"{A Model-Driven Approach for Monitoring {ebBP} BusinessTransactions}\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: This is a sub title 2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: this is a sub title 2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: This is A sub title 2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: this is A sub title 2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: This is {A} sub title 2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1: this is {A} sub title 2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1...This is a sub title 2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is a sub title 1... this is a sub Title 2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This is; A sub title 1.... This is a sub title 2\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This!is!!A!Title??\"), BibDatabaseMode.BIBLATEX));\n-        assertCorrect(withMode(createContext(StandardField.TITLE, \"This!is!!A!TitlE??\"), BibDatabaseMode.BIBLATEX));\n+    void bibTexDoesNotAcceptIEEETranEntryType() {\n+        assertWrong(withMode(createContext(StandardField.TITLE, \"sometitle\", IEEETranEntryType.Patent), BibDatabaseMode.BIBTEX));\n     }\n \n     @Test\n-    void testAbbreviationChecks() {\n-        for (Field field : Arrays.asList(StandardField.BOOKTITLE, StandardField.JOURNAL)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjQwNzMxMQ=="}, "originalCommit": {"oid": "16129ca2777001e367473c0a73add01a7fe22e10"}, "originalPosition": 203}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNzAxOTYxOnYy", "diffSide": "RIGHT", "path": "src/test/java/org/jabref/logic/integrity/PersonNamesCheckerTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNDoyODo0NlrOGT1otQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNDoyODo0NlrOGT1otQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQ1NDkwMQ==", "bodyText": "This is a good step forward.\nThe aspect of a field check is missing. To keep that in IntegrityCheckTest is a good idea. See my comments there.\nThe inputs will be duplicated, but that is OK.", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r423454901", "createdAt": "2020-05-12T04:28:46Z", "author": {"login": "koppor"}, "path": "src/test/java/org/jabref/logic/integrity/PersonNamesCheckerTest.java", "diffHunk": "@@ -62,4 +69,29 @@ public void validCorporateNameAndPerson() throws Exception {\n         assertEquals(Optional.empty(), checker.checkValue(\"{JabRef} and Stefan Kolb\"));\n         assertEquals(Optional.empty(), checker.checkValue(\"{JabRef} and Kolb, Stefan\"));\n     }\n+\n+    @ParameterizedTest\n+    @MethodSource(\"provideCorrectFormats\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "193d420b7ea3e72b5e59082d0ff932d1c80a5a33"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNzA2MTE4OnYy", "diffSide": "RIGHT", "path": "src/test/java/org/jabref/logic/integrity/IntegrityCheckTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNDo1NDoyN1rOGT2BzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNDo1NDoyN1rOGT2BzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQ2MTMyNA==", "bodyText": "I think, a JavaDoc should be added explaning the difference between this test and the CheckerTests. Here a proposal:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            class IntegrityCheckTest {\n          \n          \n            \n            /**\n          \n          \n            \n             * This class tests the Integrity Checker as a whole. Aspects are: selected fields, issues arising in a complete BibTeX entry, ... When testing a checker works with a certain input, this test has to go to a test belonging to the respective checker. See PersonNamesCheckerTest for an example test.\n          \n          \n            \n             */\n          \n          \n            \n            class IntegrityCheckTest {", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r423461324", "createdAt": "2020-05-12T04:54:27Z", "author": {"login": "koppor"}, "path": "src/test/java/org/jabref/logic/integrity/IntegrityCheckTest.java", "diffHunk": "@@ -39,197 +37,23 @@\n class IntegrityCheckTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "193d420b7ea3e72b5e59082d0ff932d1c80a5a33"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNzA2NTgxOnYy", "diffSide": "RIGHT", "path": "src/test/java/org/jabref/logic/integrity/PersonNamesCheckerTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNDo1NzoyMFrOGT2Eow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNDo1NzoyMFrOGT2Eow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQ2MjA1MQ==", "bodyText": "Since a single String string is required at each test, please use following code:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    String[] data = new String[] {\"\", \"Knuth\", \"Donald E. Knuth and Kurt Cobain and A. Einstein\"};\n          \n          \n            \n                    return Stream.of(\"\", \"Knuth\", \"Donald E. Knuth and Kurt Cobain and A. Einstein\");\n          \n      \n    \n    \n  \n\nThis is more readble than String[]. The return type will be Stream<String>.", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r423462051", "createdAt": "2020-05-12T04:57:20Z", "author": {"login": "koppor"}, "path": "src/test/java/org/jabref/logic/integrity/PersonNamesCheckerTest.java", "diffHunk": "@@ -62,4 +69,29 @@ public void validCorporateNameAndPerson() throws Exception {\n         assertEquals(Optional.empty(), checker.checkValue(\"{JabRef} and Stefan Kolb\"));\n         assertEquals(Optional.empty(), checker.checkValue(\"{JabRef} and Kolb, Stefan\"));\n     }\n+\n+    @ParameterizedTest\n+    @MethodSource(\"provideCorrectFormats\")\n+    public void authorNameInCorrectFormatsShouldNotComplain(String input) {\n+        assertEquals(Optional.empty(), checkerb.checkValue(input));\n+    }\n+\n+    @ParameterizedTest\n+    @MethodSource(\"provideIncorrectFormats\")\n+    public void authorNameInIncorrectFormatsShouldComplain(String input) {\n+        assertNotEquals(Optional.empty(), checkerb.checkValue(input));\n+    }\n+\n+    private static String[] provideCorrectFormats() {\n+        String[] data = new String[] {\"\", \"Knuth\", \"Donald E. Knuth and Kurt Cobain and A. Einstein\"};", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "193d420b7ea3e72b5e59082d0ff932d1c80a5a33"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYzNzA2NjgwOnYy", "diffSide": "RIGHT", "path": "src/test/java/org/jabref/logic/integrity/PersonNamesCheckerTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNDo1Nzo1NlrOGT2FNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwNDo1Nzo1NlrOGT2FNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzQ2MjE5OA==", "bodyText": "See above --> Stream.of(...).", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r423462198", "createdAt": "2020-05-12T04:57:56Z", "author": {"login": "koppor"}, "path": "src/test/java/org/jabref/logic/integrity/PersonNamesCheckerTest.java", "diffHunk": "@@ -62,4 +69,29 @@ public void validCorporateNameAndPerson() throws Exception {\n         assertEquals(Optional.empty(), checker.checkValue(\"{JabRef} and Stefan Kolb\"));\n         assertEquals(Optional.empty(), checker.checkValue(\"{JabRef} and Kolb, Stefan\"));\n     }\n+\n+    @ParameterizedTest\n+    @MethodSource(\"provideCorrectFormats\")\n+    public void authorNameInCorrectFormatsShouldNotComplain(String input) {\n+        assertEquals(Optional.empty(), checkerb.checkValue(input));\n+    }\n+\n+    @ParameterizedTest\n+    @MethodSource(\"provideIncorrectFormats\")\n+    public void authorNameInIncorrectFormatsShouldComplain(String input) {\n+        assertNotEquals(Optional.empty(), checkerb.checkValue(input));\n+    }\n+\n+    private static String[] provideCorrectFormats() {\n+        String[] data = new String[] {\"\", \"Knuth\", \"Donald E. Knuth and Kurt Cobain and A. Einstein\"};\n+        return data;\n+    }\n+\n+    private static String[] provideIncorrectFormats() {\n+        String[] data = new String[] {\"   Knuth, Donald E. \", \"Knuth, Donald E. and Kurt Cobain and A. Einstein\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "193d420b7ea3e72b5e59082d0ff932d1c80a5a33"}, "originalPosition": 49}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0MTQ2OTM4OnYy", "diffSide": "RIGHT", "path": "src/test/java/org/jabref/logic/integrity/IntegrityCheckTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwNTowNTo1MlrOGUhjwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwNTowNTo1MlrOGUhjwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDE3NDUyOQ==", "bodyText": "No empty line between JavaDoc and code.", "url": "https://github.com/JabRef/jabref/pull/6240#discussion_r424174529", "createdAt": "2020-05-13T05:05:52Z", "author": {"login": "koppor"}, "path": "src/test/java/org/jabref/logic/integrity/IntegrityCheckTest.java", "diffHunk": "@@ -27,13 +28,21 @@\n \n import org.junit.jupiter.api.Test;\n import org.junit.jupiter.api.io.TempDir;\n+import org.junit.jupiter.params.ParameterizedTest;\n+import org.junit.jupiter.params.provider.MethodSource;\n import org.mockito.Mockito;\n \n import static org.junit.jupiter.api.Assertions.assertEquals;\n import static org.junit.jupiter.api.Assertions.assertNotEquals;\n import static org.mockito.Matchers.any;\n import static org.mockito.Mockito.mock;\n \n+/**\n+ * This class tests the Integrity Checker as a whole.\n+ * Aspects are: selected fields, issues arising in a complete BibTeX entry, ... When testing a checker works with a certain input,\n+ * this test has to go to a test belonging to the respective checker. See PersonNamesCheckerTest for an example test.\n+ */\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4eae95ae5d25df72c0579a1868733d7a452e351a"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1884, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}