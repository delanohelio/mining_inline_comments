{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkyMDU5MjIy", "number": 6938, "title": "Fix for some Unicode characters in citation keys", "bodyText": "Fixes #6583 . Some unicode characters can be encoded in multiple ways, and the mapping that StringUtil#replaceSpecialCharacters relies on does not contain all cases. The proposed solution uses NFC to re-encode the characters so that these characters can be found.\nThere exists more information on Unicode normalization in the Java API.\nMy subjective opinion is that most people expect Unicode to work similar to NFC, i.e., if characters looks the same, it is likely that they are equivalent. Hence, if someone debugs issues in the UNICODE_CHAR_MAP, they will expect NFC.\nA more holistic approach should likely start with the compatibility equivalence, which will require larger changes, and there does not seem to be any bugs/issues that requires these larger changes.\n\n\n Change in CHANGELOG.md described (if applicable)\n Tests created for changes (if applicable)\n Manually tested changed features in running JabRef (always required)\n Screenshots added in PR description (for UI changes)\n Checked documentation: Is the information available and up to date? If not created an issue at https://github.com/JabRef/user-documentation/issues or, even better, submitted a pull request to the documentation repository.", "createdAt": "2020-09-23T21:50:49Z", "url": "https://github.com/JabRef/jabref/pull/6938", "merged": true, "mergeCommit": {"oid": "47edbbd26af40b12a3af17f123c58d0580493f05"}, "closed": true, "closedAt": "2020-09-26T15:56:08Z", "author": {"login": "k3KAW8Pnf7mkmdSMPHz27"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLzv8uAH2gAyNDkyMDU5MjIyOjVmM2NkNGIzZDM5ZjEwYjQzYTAxNWRjNWMxN2FmNzM5MzRmNzRhOGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdMsTPfAFqTQ5NzAxMjk4OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5f3cd4b3d39f10b43a015dc5c17af73934f74a8d", "author": {"user": {"login": "k3KAW8Pnf7mkmdSMPHz27", "name": "Jonatan Asketorp"}}, "url": "https://github.com/JabRef/jabref/commit/5f3cd4b3d39f10b43a015dc5c17af73934f74a8d", "committedDate": "2020-09-23T21:47:56Z", "message": "Add test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e87fdce5824016e32c7e4310eaae3040ef5420d5", "author": {"user": {"login": "k3KAW8Pnf7mkmdSMPHz27", "name": "Jonatan Asketorp"}}, "url": "https://github.com/JabRef/jabref/commit/e87fdce5824016e32c7e4310eaae3040ef5420d5", "committedDate": "2020-09-23T21:48:49Z", "message": "Fix normalization of unicode text"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2MTI5Mjgy", "url": "https://github.com/JabRef/jabref/pull/6938#pullrequestreview-496129282", "createdAt": "2020-09-25T05:58:42Z", "commit": {"oid": "e87fdce5824016e32c7e4310eaae3040ef5420d5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwNTo1ODo0MlrOHX1_IA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwNTo1ODo0MlrOHX1_IA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDc2MzgwOA==", "bodyText": "I believe the issue does not need to be linked as the comment, but can be found via git log and blame... @koppor ?", "url": "https://github.com/JabRef/jabref/pull/6938#discussion_r494763808", "createdAt": "2020-09-25T05:58:42Z", "author": {"login": "calixtus"}, "path": "src/test/java/org/jabref/logic/citationkeypattern/CitationKeyGeneratorTest.java", "diffHunk": "@@ -1094,4 +1094,12 @@ void generateKeyCorrectKeyLengthWithAuthNofMthAndUnicode() {\n \n         assertEquals(4, generateKey(bibEntry, \"[auth4_1]\").length());\n     }\n+\n+    @Test\n+    void generateKeyWithNonNormalizedUnicode() {\n+        // https://github.com/JabRef/jabref/issues/6583", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e87fdce5824016e32c7e4310eaae3040ef5420d5"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2ODc3Mzg0", "url": "https://github.com/JabRef/jabref/pull/6938#pullrequestreview-496877384", "createdAt": "2020-09-25T21:35:04Z", "commit": {"oid": "e87fdce5824016e32c7e4310eaae3040ef5420d5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "983613ee7e95280da8a532bcef005d3fcb17d744", "author": {"user": {"login": "k3KAW8Pnf7mkmdSMPHz27", "name": "Jonatan Asketorp"}}, "url": "https://github.com/JabRef/jabref/commit/983613ee7e95280da8a532bcef005d3fcb17d744", "committedDate": "2020-09-26T14:38:20Z", "message": "Fix code style and comments in test cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7aef566e23cb8d47d983b09f64500343e92ca02", "author": {"user": {"login": "koppor", "name": "Oliver Kopp"}}, "url": "https://github.com/JabRef/jabref/commit/c7aef566e23cb8d47d983b09f64500343e92ca02", "committedDate": "2020-09-26T15:39:54Z", "message": "Add comments into code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3MDEyOTg4", "url": "https://github.com/JabRef/jabref/pull/6938#pullrequestreview-497012988", "createdAt": "2020-09-26T15:41:10Z", "commit": {"oid": "983613ee7e95280da8a532bcef005d3fcb17d744"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4995, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}