{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3NjYzMDIx", "number": 5879, "title": "Fixes making paths of linked files relative (web urls will not be touched anymore)", "bodyText": "Fixes #5861\nDescription:\n\n\nCleaning up entries with \"Make paths of linked files relative (if possible)\" broke web URLs and resulted in various other issues subsequently. This PR fixes this issue.\nIt has been tested for local files and web urls.\n\n\n Change in CHANGELOG.md described (if applicable)\n\n\n Manually tested changed features in running JabRef (always required)\n\n\n Checked documentation: Is the information available and up to date? If not: Issue created at https://github.com/JabRef/user-documentation/issues.", "createdAt": "2020-01-27T19:28:00Z", "url": "https://github.com/JabRef/jabref/pull/5879", "merged": true, "mergeCommit": {"oid": "eb988b6ead6beae3d64b95aa8827567adf8b81df"}, "closed": true, "closedAt": "2020-01-29T12:18:23Z", "author": {"login": "systemoperator"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb-hdPDAH2gAyMzY3NjYzMDIxOjhhZDZmMjMzZTY0N2EwZDZkMjQ2Y2UwNDRjNjc2MGZlOGFiNzM4MTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb-4ARigH2gAyMzY3NjYzMDIxOjRhZGZkYzViMDgzM2UyZjNhNGExMzFkMGMzZWMxMTA4N2QyMDhiZDg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8ad6f233e647a0d6d246ce044c6760fe8ab73818", "author": {"user": null}, "url": "https://github.com/JabRef/jabref/commit/8ad6f233e647a0d6d246ce044c6760fe8ab73818", "committedDate": "2020-01-27T18:57:02Z", "message": "Fixes #5861\nDescription:\n- Cleanup entries: \"Make paths of linked files relative (if possible)\" broke web URLs and resulted in various other issues subsequently. This PR fixes this issue.\nIt has been tested for local files and web urls."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4OTQ2NzQ1", "url": "https://github.com/JabRef/jabref/pull/5879#pullrequestreview-348946745", "createdAt": "2020-01-27T20:17:23Z", "commit": {"oid": "8ad6f233e647a0d6d246ce044c6760fe8ab73818"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f033dbfbba9d04165577493b2ad0ac9aaca30e37", "author": {"user": null}, "url": "https://github.com/JabRef/jabref/commit/f033dbfbba9d04165577493b2ad0ac9aaca30e37", "committedDate": "2020-01-28T10:38:50Z", "message": "changelog updated"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5NTE4NDY3", "url": "https://github.com/JabRef/jabref/pull/5879#pullrequestreview-349518467", "createdAt": "2020-01-28T16:28:47Z", "commit": {"oid": "f033dbfbba9d04165577493b2ad0ac9aaca30e37"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQxNjoyODo0N1rOFirwxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQxNjoyODo0N1rOFirwxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTkxMjkwMQ==", "bodyText": "The class LinkedFile already contains a method that does this job:\n\n  \n    \n      jabref/src/main/java/org/jabref/model/entry/LinkedFile.java\n    \n    \n        Lines 162 to 164\n      in\n      8520833\n    \n    \n    \n    \n\n        \n          \n           public boolean isOnlineLink() { \n        \n\n        \n          \n               return isOnlineLink(link.get()); \n        \n\n        \n          \n           } \n        \n    \n  \n\n\nCan you please use it. I would also suggest to add the normalization trim().toLowerCase() there, which I find a nice addition.", "url": "https://github.com/JabRef/jabref/pull/5879#discussion_r371912901", "createdAt": "2020-01-28T16:28:47Z", "author": {"login": "tobiasdiez"}, "path": "src/main/java/org/jabref/logic/cleanup/RelativePathsCleanup.java", "diffHunk": "@@ -57,4 +64,21 @@ public RelativePathsCleanup(BibDatabaseContext databaseContext, FilePreferences\n         return Collections.emptyList();\n     }\n \n+    /**\n+     * Checks, if the given file path is a well-formed web url\n+     *\n+     * @param filePath file path to check\n+     * @return <code>true</code>, if the given file path is a web url, <code>false</code> otherwise\n+     */\n+    private static boolean isWebUrl(String filePath)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f033dbfbba9d04165577493b2ad0ac9aaca30e37"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4adfdc5b0833e2f3a4a131d0c3ec11087d208bd8", "author": {"user": null}, "url": "https://github.com/JabRef/jabref/commit/4adfdc5b0833e2f3a4a131d0c3ec11087d208bd8", "committedDate": "2020-01-28T21:13:13Z", "message": "refactoring: use existing method isOnlineLink() for checking whether a file link is an online link; improving isOnlineLink()"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 455, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}