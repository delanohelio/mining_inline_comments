{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5NjIzOTI0", "number": 7040, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwOTo0NDowNFrOEx0liw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwOTo0NjozNlrOEx0pbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwNjc3MjU5OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/jabref/model/entry/event/FieldChangedEvent.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwOTo0NDowNFrOHoHsdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMDowMToyMVrOHoIWMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTgzMTE1Ng==", "bodyText": "why not newValue.length() == oldValue.length() ?", "url": "https://github.com/JabRef/jabref/pull/7040#discussion_r511831156", "createdAt": "2020-10-26T09:44:04Z", "author": {"login": "tobiasdiez"}, "path": "src/main/java/org/jabref/model/entry/event/FieldChangedEvent.java", "diffHunk": "@@ -61,10 +61,12 @@ public FieldChangedEvent(FieldChange fieldChange) {\n     private int computeDelta(String oldValue, String newValue) {\n         if (oldValue == newValue) {\n             return 0;\n-        } else if (oldValue == null && newValue != null) {\n+        } else if ((oldValue == null) && (newValue != null)) {\n             return newValue.length();\n-        } else if (newValue == null && oldValue != null) {\n+        } else if ((newValue == null) && (oldValue != null)) {\n             return oldValue.length();\n+        } else if ((Math.abs(newValue.length() - oldValue.length()) == 0) && !oldValue.equals(newValue)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18805b1429759a306948a5206394cfb212e50aae"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTg0MTg0Mg==", "bodyText": "Yeah, that makes sense", "url": "https://github.com/JabRef/jabref/pull/7040#discussion_r511841842", "createdAt": "2020-10-26T10:01:21Z", "author": {"login": "Siedlerchr"}, "path": "src/main/java/org/jabref/model/entry/event/FieldChangedEvent.java", "diffHunk": "@@ -61,10 +61,12 @@ public FieldChangedEvent(FieldChange fieldChange) {\n     private int computeDelta(String oldValue, String newValue) {\n         if (oldValue == newValue) {\n             return 0;\n-        } else if (oldValue == null && newValue != null) {\n+        } else if ((oldValue == null) && (newValue != null)) {\n             return newValue.length();\n-        } else if (newValue == null && oldValue != null) {\n+        } else if ((newValue == null) && (oldValue != null)) {\n             return oldValue.length();\n+        } else if ((Math.abs(newValue.length() - oldValue.length()) == 0) && !oldValue.equals(newValue)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTgzMTE1Ng=="}, "originalCommit": {"oid": "18805b1429759a306948a5206394cfb212e50aae"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwNjc4MjU1OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/jabref/model/entry/event/FieldChangedEvent.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwOTo0NjozNlrOHoHydg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQyMDozNDoyMFrOHohTSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTgzMjY5NA==", "bodyText": "How is the delta value used? Maybe we need to calculate the actual difference between the strings here? I.e. the delta of aaaa and aabb is 2 and not 4", "url": "https://github.com/JabRef/jabref/pull/7040#discussion_r511832694", "createdAt": "2020-10-26T09:46:36Z", "author": {"login": "tobiasdiez"}, "path": "src/main/java/org/jabref/model/entry/event/FieldChangedEvent.java", "diffHunk": "@@ -61,10 +61,12 @@ public FieldChangedEvent(FieldChange fieldChange) {\n     private int computeDelta(String oldValue, String newValue) {\n         if (oldValue == newValue) {\n             return 0;\n-        } else if (oldValue == null && newValue != null) {\n+        } else if ((oldValue == null) && (newValue != null)) {\n             return newValue.length();\n-        } else if (newValue == null && oldValue != null) {\n+        } else if ((newValue == null) && (oldValue != null)) {\n             return oldValue.length();\n+        } else if ((Math.abs(newValue.length() - oldValue.length()) == 0) && !oldValue.equals(newValue)) {\n+            return newValue.length();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18805b1429759a306948a5206394cfb212e50aae"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjE4NDIzOA==", "bodyText": "@tobiasdiez  The delta value is only used here to check if it's >1, so we can use any value >0\n\n  \n    \n      jabref/src/main/java/org/jabref/logic/util/CoarseChangeFilter.java\n    \n    \n        Lines 49 to 51\n      in\n      a0ca875\n    \n    \n    \n    \n\n        \n          \n           boolean isMajorChange = fieldChange.getDelta() > 1; \n        \n\n        \n          \n            \n        \n\n        \n          \n           fieldChange.setFilteredOut(!(isEditChanged || isMajorChange));", "url": "https://github.com/JabRef/jabref/pull/7040#discussion_r512184238", "createdAt": "2020-10-26T18:35:54Z", "author": {"login": "Siedlerchr"}, "path": "src/main/java/org/jabref/model/entry/event/FieldChangedEvent.java", "diffHunk": "@@ -61,10 +61,12 @@ public FieldChangedEvent(FieldChange fieldChange) {\n     private int computeDelta(String oldValue, String newValue) {\n         if (oldValue == newValue) {\n             return 0;\n-        } else if (oldValue == null && newValue != null) {\n+        } else if ((oldValue == null) && (newValue != null)) {\n             return newValue.length();\n-        } else if (newValue == null && oldValue != null) {\n+        } else if ((newValue == null) && (oldValue != null)) {\n             return oldValue.length();\n+        } else if ((Math.abs(newValue.length() - oldValue.length()) == 0) && !oldValue.equals(newValue)) {\n+            return newValue.length();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTgzMjY5NA=="}, "originalCommit": {"oid": "18805b1429759a306948a5206394cfb212e50aae"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjI1MDY5Nw==", "bodyText": "Ok, thanks for looking this up. Then I would propose to replace delta by isMajorChange.", "url": "https://github.com/JabRef/jabref/pull/7040#discussion_r512250697", "createdAt": "2020-10-26T20:34:20Z", "author": {"login": "tobiasdiez"}, "path": "src/main/java/org/jabref/model/entry/event/FieldChangedEvent.java", "diffHunk": "@@ -61,10 +61,12 @@ public FieldChangedEvent(FieldChange fieldChange) {\n     private int computeDelta(String oldValue, String newValue) {\n         if (oldValue == newValue) {\n             return 0;\n-        } else if (oldValue == null && newValue != null) {\n+        } else if ((oldValue == null) && (newValue != null)) {\n             return newValue.length();\n-        } else if (newValue == null && oldValue != null) {\n+        } else if ((newValue == null) && (oldValue != null)) {\n             return oldValue.length();\n+        } else if ((Math.abs(newValue.length() - oldValue.length()) == 0) && !oldValue.equals(newValue)) {\n+            return newValue.length();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTgzMjY5NA=="}, "originalCommit": {"oid": "18805b1429759a306948a5206394cfb212e50aae"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2171, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}