{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwMTM1Njk5", "number": 6928, "title": "Changed default value of \"search and store files relative to bibtex file\" to true", "bodyText": "Fixes #6863\nI think the problem was: If isBibLocationAsPrimary is not set, the bib file dir has not been added to the list of searcheable directories at all. If set, it should be the first one to look up, if not, the last.\nSee #6928 (comment)\n\n Change in CHANGELOG.md described (if applicable)\n Tests created for changes (if applicable)\n Manually tested changed features in running JabRef (always required)\n Screenshots added in PR description (for UI changes)\n Checked documentation: Is the information available and up to date? If not created an issue at https://github.com/JabRef/user-documentation/issues or, even better, submitted a pull request to the documentation repository.", "createdAt": "2020-09-21T08:38:29Z", "url": "https://github.com/JabRef/jabref/pull/6928", "merged": true, "mergeCommit": {"oid": "3123090b6cf44e853eceae42854d49e78e81be2a"}, "closed": true, "closedAt": "2020-09-25T21:39:51Z", "author": {"login": "calixtus"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdK-7jBAH2gAyNDkwMTM1Njk5OmJmNzg0NDU2ZDZlZjczY2NmYWRmMTJkM2ZjYzEzZWZjMDRkMzhlZjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdMc1FXgFqTQ5Njg3OTMwMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bf784456d6ef73ccfadf12d3fcc13efc04d38ef1", "author": {"user": {"login": "calixtus", "name": "Carl Christian Snethlage"}}, "url": "https://github.com/JabRef/jabref/commit/bf784456d6ef73ccfadf12d3fcc13efc04d38ef1", "committedDate": "2020-09-21T08:15:38Z", "message": "Fixes #6863"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd01dc5dcb48e3dc5dd0b58311db082fa9e9cb61", "author": {"user": {"login": "calixtus", "name": "Carl Christian Snethlage"}}, "url": "https://github.com/JabRef/jabref/commit/cd01dc5dcb48e3dc5dd0b58311db082fa9e9cb61", "committedDate": "2020-09-21T08:36:16Z", "message": "CHANGELOG.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyNDIzNzA3", "url": "https://github.com/JabRef/jabref/pull/6928#pullrequestreview-492423707", "createdAt": "2020-09-21T09:35:26Z", "commit": {"oid": "cd01dc5dcb48e3dc5dd0b58311db082fa9e9cb61"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "87caea85de935515fd3b522d54f454e47a9a23be", "author": {"user": {"login": "calixtus", "name": "Carl Christian Snethlage"}}, "url": "https://github.com/JabRef/jabref/commit/87caea85de935515fd3b522d54f454e47a9a23be", "committedDate": "2020-09-23T20:01:34Z", "message": "Reworded bibLocationAsPrimary to reflect real meaning of the preference setting, changed default val to true"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a32e679676898b4e8dc1639dc431b920a64c4d05", "author": {"user": {"login": "calixtus", "name": "Carl Christian Snethlage"}}, "url": "https://github.com/JabRef/jabref/commit/a32e679676898b4e8dc1639dc431b920a64c4d05", "committedDate": "2020-09-23T21:59:12Z", "message": "Cleanup of deprecated methods LinkedFiles(String, String, String) and List<String> getFileDirectories(...)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1MzI1MDY0", "url": "https://github.com/JabRef/jabref/pull/6928#pullrequestreview-495325064", "createdAt": "2020-09-24T08:15:50Z", "commit": {"oid": "a32e679676898b4e8dc1639dc431b920a64c4d05"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1MzQzNjUx", "url": "https://github.com/JabRef/jabref/pull/6928#pullrequestreview-495343651", "createdAt": "2020-09-24T08:38:04Z", "commit": {"oid": "a32e679676898b4e8dc1639dc431b920a64c4d05"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwODozODowNFrOHXP1vQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwODozODowNFrOHXP1vQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDEzODgxMw==", "bodyText": "Be careful! This can have unintended consequences, a Linked File \"link\" can also be an online link!", "url": "https://github.com/JabRef/jabref/pull/6928#discussion_r494138813", "createdAt": "2020-09-24T08:38:04Z", "author": {"login": "Siedlerchr"}, "path": "src/main/java/org/jabref/gui/filelist/FileListEntry.java", "diffHunk": "@@ -48,7 +49,7 @@ public String toString() {\n     }\n \n     public LinkedFile toParsedFileField() {\n-        return new LinkedFile(getDescription(), getLink(), getType().isPresent() ? getType().get().getName() : \"\");\n+        return new LinkedFile(getDescription(), Path.of(getLink()), getType().isPresent() ? getType().get().getName() : \"\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a32e679676898b4e8dc1639dc431b920a64c4d05"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1MzQ2NTk4", "url": "https://github.com/JabRef/jabref/pull/6928#pullrequestreview-495346598", "createdAt": "2020-09-24T08:41:10Z", "commit": {"oid": "a32e679676898b4e8dc1639dc431b920a64c4d05"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwODo0MToxMFrOHXP_xQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwODo0MToxMFrOHXP_xQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDE0MTM4MQ==", "bodyText": "I doubt this change will work. You are trying to resolve a http url as local path object.\n\nThe Path is obtained by invoking the getPath method of the default FileSystem.\nhttps://docs.oracle.com/en/java/javase/13/docs/api/java.base/java/nio/file/Path.html#of(java.lang.String,java.lang.String...)", "url": "https://github.com/JabRef/jabref/pull/6928#discussion_r494141381", "createdAt": "2020-09-24T08:41:10Z", "author": {"login": "Siedlerchr"}, "path": "src/main/java/org/jabref/logic/importer/fetcher/SpringerFetcher.java", "diffHunk": "@@ -118,7 +119,7 @@ public static BibEntry parseSpringerJSONtoBibtex(JSONObject springerJsonEntry) {\n                 urls.forEach(data -> {\n                     JSONObject url = (JSONObject) data;\n                     if (url.optString(\"format\").equalsIgnoreCase(\"pdf\")) {\n-                        entry.addFile(new LinkedFile(\"online\", url.optString(\"value\"), \"PDF\"));\n+                        entry.addFile(new LinkedFile(\"online\", Path.of(url.optString(\"value\")), \"PDF\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a32e679676898b4e8dc1639dc431b920a64c4d05"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "696f884a5b27a1c92cc0c6ed065a306a9ded36b4", "author": {"user": {"login": "calixtus", "name": "Carl Christian Snethlage"}}, "url": "https://github.com/JabRef/jabref/commit/696f884a5b27a1c92cc0c6ed065a306a9ded36b4", "committedDate": "2020-09-25T17:18:47Z", "message": "Reworded package filelist to linkedfile"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1924c6ffa98835e2ed4bf04c5978641f85be8adb", "author": {"user": {"login": "calixtus", "name": "Carl Christian Snethlage"}}, "url": "https://github.com/JabRef/jabref/commit/1924c6ffa98835e2ed4bf04c5978641f85be8adb", "committedDate": "2020-09-25T17:27:33Z", "message": "Fixed SpringerFetcher"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2ODc5MzAx", "url": "https://github.com/JabRef/jabref/pull/6928#pullrequestreview-496879301", "createdAt": "2020-09-25T21:39:39Z", "commit": {"oid": "1924c6ffa98835e2ed4bf04c5978641f85be8adb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4983, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}