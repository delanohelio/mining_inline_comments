{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0NTcwMjc4", "number": 7232, "title": "Add a more descriptive path when Directory cannot be found", "bodyText": "Issue problem: When you try to download a pdf (Lookup -> Search full documents online ) and you don't have a file directory set, an alert tells you that you should follow a path to set your file directory: Preference -> File. But that path is not correct because to set the file directory you need to follow this path: Options -> Preference -> Linked Files -> Main File Directory\nSuggested changes: change the message to: Main file directory not set! Check the Preferences (Linked files) or the Library properties.\nScreenshots:\n\nFixes #7197\n\n\n Change in CHANGELOG.md described (if applicable)\n Tests created for changes (if applicable)\n Manually tested changed features in running JabRef (always required)\n Screenshots added in PR description (for UI changes)\n Checked documentation: Is the information available and up to date? If not created an issue at https://github.com/JabRef/user-documentation/issues or, even better, submitted a pull request to the documentation repository.", "createdAt": "2020-12-23T05:01:29Z", "url": "https://github.com/JabRef/jabref/pull/7232", "merged": true, "mergeCommit": {"oid": "54f27e94bc1108f5c6cb485bb2daac938f0ec573"}, "closed": true, "closedAt": "2021-01-11T18:45:41Z", "author": {"login": "devjuliet"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdo333IAH2gAyNTQ0NTcwMjc4OmFlMTA5ZjkxNzY1ZTY0ZTY4ZjY0OWNhMzNhNDQ5NmE2ODQzZmQwZGU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdvLAeYgFqTU2NTYzNjkyNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ae109f91765e64e68f649ca33a4496a6843fd0de", "author": {"user": {"login": "devjuliet", "name": "Julieta Navarro"}}, "url": "https://github.com/JabRef/jabref/commit/ae109f91765e64e68f649ca33a4496a6843fd0de", "committedDate": "2020-12-23T05:00:00Z", "message": "added more descriptive path when Directory not found"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8aa35ba49cdd3899c114eae3458aa4c8a6133003", "author": {"user": {"login": "devjuliet", "name": "Julieta Navarro"}}, "url": "https://github.com/JabRef/jabref/commit/8aa35ba49cdd3899c114eae3458aa4c8a6133003", "committedDate": "2020-12-24T02:29:04Z", "message": "change the message of propmt to: Main file directory not set"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e56896f113b31deb7c897063dc086d91f1d14081", "author": {"user": {"login": "devjuliet", "name": "Julieta Navarro"}}, "url": "https://github.com/JabRef/jabref/commit/e56896f113b31deb7c897063dc086d91f1d14081", "committedDate": "2020-12-24T03:00:53Z", "message": "Changed message propmt"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4NDkyNjUy", "url": "https://github.com/JabRef/jabref/pull/7232#pullrequestreview-558492652", "createdAt": "2020-12-24T12:41:25Z", "commit": {"oid": "e56896f113b31deb7c897063dc086d91f1d14081"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQxMjo0MToyNVrOILG97Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNFQxMjo0MToyNVrOILG97Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODUxOTQwNQ==", "bodyText": "It's better and easier for the translators if you put this in one string. See https://devdocs.jabref.org/getting-into-the-code/code-howtos#using-localization-correctly", "url": "https://github.com/JabRef/jabref/pull/7232#discussion_r548519405", "createdAt": "2020-12-24T12:41:25Z", "author": {"login": "Siedlerchr"}, "path": "src/main/java/org/jabref/gui/externalfiles/DownloadFullTextAction.java", "diffHunk": "@@ -112,9 +112,9 @@ private void downloadFullTexts(Map<BibEntry, Optional<URL>> downloads, BibDataba\n                 Optional<Path> dir = databaseContext.getFirstExistingFileDir(Globals.prefs.getFilePreferences());\n                 if (dir.isEmpty()) {\n                     dialogService.showErrorDialogAndWait(Localization.lang(\"Directory not found\"),\n-                            Localization.lang(\"Main file directory not set!\") + \" \"\n-                                    + Localization.lang(\"Preferences\")\n-                                    + \" -> \" + Localization.lang(\"File\"));\n+                            Localization.lang(\"Main file directory not set!\\n\")\n+                                    + Localization.lang(\"Check the Preferences (Linked files)\")\n+                                    + Localization.lang(\" or the Library properties.\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e56896f113b31deb7c897063dc086d91f1d14081"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2038ec68c598e5cf2fd4b6ec61627b9988007d72", "author": {"user": {"login": "devjuliet", "name": "Julieta Navarro"}}, "url": "https://github.com/JabRef/jabref/commit/2038ec68c598e5cf2fd4b6ec61627b9988007d72", "committedDate": "2020-12-28T17:56:54Z", "message": "Message in prompt changed to one string"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "636088863fd445de1bdad96f1b21ce041f867121", "author": {"user": {"login": "devjuliet", "name": "Julieta Navarro"}}, "url": "https://github.com/JabRef/jabref/commit/636088863fd445de1bdad96f1b21ce041f867121", "committedDate": "2020-12-29T19:45:25Z", "message": "Deleted new line break in message propmpt due to error"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22e12b6adda8f85d61241b6fc36622484e6fa520", "author": {"user": {"login": "devjuliet", "name": "Julieta Navarro"}}, "url": "https://github.com/JabRef/jabref/commit/22e12b6adda8f85d61241b6fc36622484e6fa520", "committedDate": "2020-12-29T19:45:50Z", "message": "Added message in JabRef_en.properties"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5NjkyMzk5", "url": "https://github.com/JabRef/jabref/pull/7232#pullrequestreview-559692399", "createdAt": "2020-12-29T20:39:52Z", "commit": {"oid": "22e12b6adda8f85d61241b6fc36622484e6fa520"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMDozOTo1M1rOIMXkxg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yOVQyMDozOTo1M1rOIMXkxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTg0MDA3MA==", "bodyText": "I think the first argument \"Localization.lang(\"Directory not found\")\" should still be there, so that the error dialog gets a nice header.", "url": "https://github.com/JabRef/jabref/pull/7232#discussion_r549840070", "createdAt": "2020-12-29T20:39:53Z", "author": {"login": "tobiasdiez"}, "path": "src/main/java/org/jabref/gui/externalfiles/DownloadFullTextAction.java", "diffHunk": "@@ -111,10 +111,7 @@ private void downloadFullTexts(Map<BibEntry, Optional<URL>> downloads, BibDataba\n             if (result.isPresent()) {\n                 Optional<Path> dir = databaseContext.getFirstExistingFileDir(Globals.prefs.getFilePreferences());\n                 if (dir.isEmpty()) {\n-                    dialogService.showErrorDialogAndWait(Localization.lang(\"Directory not found\"),\n-                            Localization.lang(\"Main file directory not set!\") + \" \"\n-                                    + Localization.lang(\"Preferences\")\n-                                    + \" -> \" + Localization.lang(\"File\"));\n+                    dialogService.showErrorDialogAndWait(Localization.lang(\"Main file directory not set. Check the preferences (linked files) or the library properties.\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "22e12b6adda8f85d61241b6fc36622484e6fa520"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fbb413395da2e9bf7b10f2cd62ce622de25c32b5", "author": {"user": {"login": "devjuliet", "name": "Julieta Navarro"}}, "url": "https://github.com/JabRef/jabref/commit/fbb413395da2e9bf7b10f2cd62ce622de25c32b5", "committedDate": "2020-12-30T23:24:48Z", "message": "Added header to error propmt dialog"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMzI4NDg2", "url": "https://github.com/JabRef/jabref/pull/7232#pullrequestreview-560328486", "createdAt": "2020-12-31T11:20:39Z", "commit": {"oid": "fbb413395da2e9bf7b10f2cd62ce622de25c32b5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMzI4NjMw", "url": "https://github.com/JabRef/jabref/pull/7232#pullrequestreview-560328630", "createdAt": "2020-12-31T11:21:30Z", "commit": {"oid": "fbb413395da2e9bf7b10f2cd62ce622de25c32b5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQxMToyMTozMVrOIM9hqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMVQxMToyMTozMVrOIM9hqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDQ2MTg2NQ==", "bodyText": "I think you have now one extra brace here that is not necessary", "url": "https://github.com/JabRef/jabref/pull/7232#discussion_r550461865", "createdAt": "2020-12-31T11:21:31Z", "author": {"login": "Siedlerchr"}, "path": "src/main/java/org/jabref/gui/externalfiles/DownloadFullTextAction.java", "diffHunk": "@@ -112,9 +112,7 @@ private void downloadFullTexts(Map<BibEntry, Optional<URL>> downloads, BibDataba\n                 Optional<Path> dir = databaseContext.getFirstExistingFileDir(Globals.prefs.getFilePreferences());\n                 if (dir.isEmpty()) {\n                     dialogService.showErrorDialogAndWait(Localization.lang(\"Directory not found\"),\n-                            Localization.lang(\"Main file directory not set!\") + \" \"\n-                                    + Localization.lang(\"Preferences\")\n-                                    + \" -> \" + Localization.lang(\"File\"));\n+                            (Localization.lang(\"Main file directory not set. Check the preferences (linked files) or the library properties.\")));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fbb413395da2e9bf7b10f2cd62ce622de25c32b5"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a74c4cbf5a2d6c8ee36d65287ad9996be6be97a1", "author": {"user": {"login": "devjuliet", "name": "Julieta Navarro"}}, "url": "https://github.com/JabRef/jabref/commit/a74c4cbf5a2d6c8ee36d65287ad9996be6be97a1", "committedDate": "2021-01-04T00:40:44Z", "message": "deleted extra brace"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY1NjM2OTI0", "url": "https://github.com/JabRef/jabref/pull/7232#pullrequestreview-565636924", "createdAt": "2021-01-11T18:41:09Z", "commit": {"oid": "a74c4cbf5a2d6c8ee36d65287ad9996be6be97a1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4845, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}