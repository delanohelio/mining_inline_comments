{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1NzA2MDA2", "number": 6315, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOVQyMDo1NzozN1rODzdxsw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNlQyMDoxMTo1MFrOD2ZCxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1MjkxODI3OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/jabref/model/entry/field/FieldFactory.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOVQyMDo1NzozN1rOGH80mg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOVQyMDo1NzozN1rOGH80mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDk4OTcyMg==", "bodyText": "I don't understand the reference to FieldContentFormatter which doesn't seem to be used.", "url": "https://github.com/JabRef/jabref/pull/6315#discussion_r410989722", "createdAt": "2020-04-19T20:57:37Z", "author": {"login": "tobiasdiez"}, "path": "src/main/java/org/jabref/model/entry/field/FieldFactory.java", "diffHunk": "@@ -139,13 +139,10 @@ public static boolean isInternalField(Field field) {\n         return defaultGeneralFields;\n     }\n \n-    // TODO: Move somewhere more appropriate and make user-configurable\n-    public static boolean isSingleLineField(final Field field) {\n-        if (field.equals(StandardField.ABSTRACT) || field.equals(StandardField.COMMENT)) {\n-            return false;\n-        }\n \n+    public static boolean isMultiLineField(final Field field, List<Field> nonWrappableFields) {\n         // Treat unknown fields as multi-line fields\n-        return !(field instanceof UnknownField);\n+        // FieldContentFormatter provides us with the addtional field abstract, comment and review", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b39116fee9819c5bc0bd32246ed7c5a0fe091fb"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1MjkyMDI5OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/jabref/model/entry/field/FieldFactory.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOVQyMDo1ODo0NFrOGH81gQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xOVQyMDo1ODo0NFrOGH81gQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMDk4OTk1Mw==", "bodyText": "I think the todo still makes sense: this should be configurable and should be moved somewhere else in the future.", "url": "https://github.com/JabRef/jabref/pull/6315#discussion_r410989953", "createdAt": "2020-04-19T20:58:44Z", "author": {"login": "tobiasdiez"}, "path": "src/main/java/org/jabref/model/entry/field/FieldFactory.java", "diffHunk": "@@ -139,13 +139,10 @@ public static boolean isInternalField(Field field) {\n         return defaultGeneralFields;\n     }\n \n-    // TODO: Move somewhere more appropriate and make user-configurable\n-    public static boolean isSingleLineField(final Field field) {\n-        if (field.equals(StandardField.ABSTRACT) || field.equals(StandardField.COMMENT)) {\n-            return false;\n-        }\n \n+    public static boolean isMultiLineField(final Field field, List<Field> nonWrappableFields) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b39116fee9819c5bc0bd32246ed7c5a0fe091fb"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2NTI4MDMyOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/jabref/preferences/JabRefPreferences.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQwODo1Njo1N1rOGJrXKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQwODo1Njo1N1rOGJrXKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjgwMDgxMQ==", "bodyText": "Is the additional ; intended?\nDoes getStringList() return an additional empty list item then?", "url": "https://github.com/JabRef/jabref/pull/6315#discussion_r412800811", "createdAt": "2020-04-22T08:56:57Z", "author": {"login": "calixtus"}, "path": "src/main/java/org/jabref/preferences/JabRefPreferences.java", "diffHunk": "@@ -571,7 +571,7 @@ private JabRefPreferences() {\n         defaults.put(DEFAULT_BIBTEX_KEY_PATTERN, \"[auth][year]\");\n         defaults.put(DO_NOT_RESOLVE_STRINGS_FOR, StandardField.URL.getName());\n         defaults.put(RESOLVE_STRINGS_ALL_FIELDS, Boolean.FALSE);\n-        defaults.put(NON_WRAPPABLE_FIELDS, \"pdf;ps;url;doi;file;isbn;issn\");\n+        defaults.put(NON_WRAPPABLE_FIELDS, \"pdf;ps;url;doi;file;isbn;issn;\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b39116fee9819c5bc0bd32246ed7c5a0fe091fb"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU4MzU5ODM2OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/jabref/gui/fieldeditors/FieldEditors.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNlQyMDoxMTowOFrOGMJbQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxNzowMDozNlrOGMt2rg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTM5MDUyOQ==", "bodyText": "Can we use an enum here? I really don't like the booleans - and we see changing the flag from singleLine to multiLine was necessary of readability. (Otherweise, the variable would be kept to flag singleLine - and negation would be used)\nI propose to use a boolean enum as proposed at https://stackoverflow.com/a/12713550/873282\nenum USED_LINES {\n    MULTI(true), SINGLE(false);\n...\nMaybe, just a simple enum would also be OK. Then, the construction from boolean would be a bit more tricky though.", "url": "https://github.com/JabRef/jabref/pull/6315#discussion_r415390529", "createdAt": "2020-04-26T20:11:08Z", "author": {"login": "koppor"}, "path": "src/main/java/org/jabref/gui/fieldeditors/FieldEditors.java", "diffHunk": "@@ -52,10 +51,10 @@ public static FieldEditorFX getForField(final Field field,\n                 preferences.getBoolean(JabRefPreferences.ENFORCE_LEGAL_BIBTEX_KEY),\n                 preferences.getBoolean(JabRefPreferences.ALLOW_INTEGER_EDITION_BIBTEX));\n \n-        final boolean isSingleLine = FieldFactory.isSingleLineField(field);\n+         boolean isMultiLine = FieldFactory.isMultiLineField(field, preferences.getFieldContentParserPreferences().getNonWrappableFields());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7d21e0614cd7653a5b448c7ebce718b43ba605ba"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTQwOTE2Mg==", "bodyText": "If you want to go in this direction, an enum FieldType with Text and TextLong would make the most sense and conveys the semantics. Can then be extended in the future to include Keywords, Numeric etc.", "url": "https://github.com/JabRef/jabref/pull/6315#discussion_r415409162", "createdAt": "2020-04-26T21:51:27Z", "author": {"login": "tobiasdiez"}, "path": "src/main/java/org/jabref/gui/fieldeditors/FieldEditors.java", "diffHunk": "@@ -52,10 +51,10 @@ public static FieldEditorFX getForField(final Field field,\n                 preferences.getBoolean(JabRefPreferences.ENFORCE_LEGAL_BIBTEX_KEY),\n                 preferences.getBoolean(JabRefPreferences.ALLOW_INTEGER_EDITION_BIBTEX));\n \n-        final boolean isSingleLine = FieldFactory.isSingleLineField(field);\n+         boolean isMultiLine = FieldFactory.isMultiLineField(field, preferences.getFieldContentParserPreferences().getNonWrappableFields());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTM5MDUyOQ=="}, "originalCommit": {"oid": "7d21e0614cd7653a5b448c7ebce718b43ba605ba"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTk4NzM3NA==", "bodyText": "I really would like to leave it for the moment and implement a more generic solution in a follow up PR. I think about integrating it in the custom entry types dialog.", "url": "https://github.com/JabRef/jabref/pull/6315#discussion_r415987374", "createdAt": "2020-04-27T17:00:36Z", "author": {"login": "Siedlerchr"}, "path": "src/main/java/org/jabref/gui/fieldeditors/FieldEditors.java", "diffHunk": "@@ -52,10 +51,10 @@ public static FieldEditorFX getForField(final Field field,\n                 preferences.getBoolean(JabRefPreferences.ENFORCE_LEGAL_BIBTEX_KEY),\n                 preferences.getBoolean(JabRefPreferences.ALLOW_INTEGER_EDITION_BIBTEX));\n \n-        final boolean isSingleLine = FieldFactory.isSingleLineField(field);\n+         boolean isMultiLine = FieldFactory.isMultiLineField(field, preferences.getFieldContentParserPreferences().getNonWrappableFields());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTM5MDUyOQ=="}, "originalCommit": {"oid": "7d21e0614cd7653a5b448c7ebce718b43ba605ba"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU4MzYwMDA2OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/jabref/gui/fieldeditors/PersonsEditor.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNlQyMDoxMTo1MFrOGMJcBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNlQyMDoxMTo1MFrOGMJcBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTM5MDcyNA==", "bodyText": "Not that the true/false branches were just be wrapped. Another indicator for an enum!", "url": "https://github.com/JabRef/jabref/pull/6315#discussion_r415390724", "createdAt": "2020-04-26T20:11:50Z", "author": {"login": "koppor"}, "path": "src/main/java/org/jabref/gui/fieldeditors/PersonsEditor.java", "diffHunk": "@@ -23,12 +23,10 @@ public PersonsEditor(final Field field,\n                          final SuggestionProvider<?> suggestionProvider,\n                          final JabRefPreferences preferences,\n                          final FieldCheckers fieldCheckers,\n-                         final boolean isSingleLine) {\n+                         final boolean isMultiLine) {\n         this.viewModel = new PersonsEditorViewModel(field, suggestionProvider, preferences.getAutoCompletePreferences(), fieldCheckers);\n \n-        textInput = isSingleLine\n-                ? new EditorTextField()\n-                : new EditorTextArea();\n+        textInput = isMultiLine ? new EditorTextArea() : new EditorTextField();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7d21e0614cd7653a5b448c7ebce718b43ba605ba"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1929, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}