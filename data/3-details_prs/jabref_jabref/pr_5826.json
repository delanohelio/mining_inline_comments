{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxODUwNDI2", "number": 5826, "title": "Conversion of group dialog to mvvm-pattern", "bodyText": "A first approach to convert the add/edit group dialog to the mvvm-pattern and a step forwards to implement the changes @MartinKarim supposed in #4684 .\nStill some problems and things to talk about.\nThe most obvious one is: GroupDescription. I really don't know what to do with this. Personally I think, this description stuff shuld go into the help page. It's a wild mesh-up of error messages, validation messages for the regex and some hints about the group...\nThe next thing are the different group types. @MartinKarim supposed to merge most of them, as they mostly intersect each other. But if we do this, we need to provide migrations for the old groups too. This would probably go far beyond this PR.\nScreenshot below\nThe old labels of the checkboxes a displayed as a tooltip now. But they should be better placed in the help page.\nI have some problems with the validators. Somehow if i bind the disableProperty of the ok button to validProperty of the validator, Java throws a NPE. If I don't get this working, I need to think about a workaround.\nI need to stop procrastinating now and get back to studying.\n\n Change in CHANGELOG.md described (if applicable)\n Tests created for changes (if applicable)\n Manually tested changed features in running JabRef (always required)\n Screenshots added in PR description (for bigger UI changes)\n Checked documentation: Is the information available and up to date? If not: Issue created at https://github.com/JabRef/user-documentation/issues.", "createdAt": "2020-01-12T17:05:10Z", "url": "https://github.com/JabRef/jabref/pull/5826", "merged": true, "mergeCommit": {"oid": "eccfb577b7dc29e55ece8acbfe02bf6895408e39"}, "closed": true, "closedAt": "2020-01-26T00:01:12Z", "author": {"login": "calixtus"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb5GIdcgH2gAyMzYxODUwNDI2OjViNDA1MDhjM2IwM2UzOGE5MDE2YWRhM2FkNWZiZWJiOTk2ZmM1ODg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb9784-gFqTM0ODM1MDE0MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5b40508c3b03e38a9016ada3ad5fbebb996fc588", "author": {"user": {"login": "calixtus", "name": "Carl Christian Snethlage"}}, "url": "https://github.com/JabRef/jabref/commit/5b40508c3b03e38a9016ada3ad5fbebb996fc588", "committedDate": "2020-01-10T22:17:17Z", "message": "Converted GroupDialog to mvvm pattern"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8351736a6d4afb27909e86d7a6b2e4362798bb38", "author": {"user": {"login": "calixtus", "name": "Carl Christian Snethlage"}}, "url": "https://github.com/JabRef/jabref/commit/8351736a6d4afb27909e86d7a6b2e4362798bb38", "committedDate": "2020-01-12T16:15:08Z", "message": "Added hintTextFlow, some rewording and changed the hierarchicalContext RadioButtons to a ComboBox"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c77cd42d27b7793dc5f030b0bdedaab88812de66", "author": {"user": {"login": "calixtus", "name": "Carl Christian Snethlage"}}, "url": "https://github.com/JabRef/jabref/commit/c77cd42d27b7793dc5f030b0bdedaab88812de66", "committedDate": "2020-01-12T16:45:47Z", "message": "Moved GroupDescription-stuff to proper class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c89eeeaca2ba3f0dadb865813fe11c2d33a3eb9c", "author": {"user": {"login": "calixtus", "name": "Carl Christian Snethlage"}}, "url": "https://github.com/JabRef/jabref/commit/c89eeeaca2ba3f0dadb865813fe11c2d33a3eb9c", "committedDate": "2020-01-12T16:47:25Z", "message": "Merge remote-tracking branch 'upstream/master' into group_dialog_mvvm\n\n# Conflicts:\n#\tsrc/main/java/module-info.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bdfc99af09c6d362d35e28a2c40ca1b0fff15dce", "author": {"user": {"login": "calixtus", "name": "Carl Christian Snethlage"}}, "url": "https://github.com/JabRef/jabref/commit/bdfc99af09c6d362d35e28a2c40ca1b0fff15dce", "committedDate": "2020-01-18T18:41:53Z", "message": "Removed description, fixed ok button and added some minor improvements"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2c07bac4d5f4cbe26280026eff6e7b0680c5b00", "author": {"user": {"login": "calixtus", "name": "Carl Christian Snethlage"}}, "url": "https://github.com/JabRef/jabref/commit/a2c07bac4d5f4cbe26280026eff6e7b0680c5b00", "committedDate": "2020-01-18T18:45:21Z", "message": "Merge remote-tracking branch 'upstream/master' into group_dialog_mvvm\n\n# Conflicts:\n#\tsrc/main/resources/l10n/JabRef_en.properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84bece2a2a60c1f4d42816cb80bde92583a5336c", "author": {"user": {"login": "calixtus", "name": "Carl Christian Snethlage"}}, "url": "https://github.com/JabRef/jabref/commit/84bece2a2a60c1f4d42816cb80bde92583a5336c", "committedDate": "2020-01-18T23:07:27Z", "message": "Minor visual adjustments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3579f6e71acd757b12acb691c30fa29b2528e136", "author": {"user": {"login": "calixtus", "name": "Carl Christian Snethlage"}}, "url": "https://github.com/JabRef/jabref/commit/3579f6e71acd757b12acb691c30fa29b2528e136", "committedDate": "2020-01-18T23:18:43Z", "message": "forgotten l10n resources"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1MDE4ODAz", "url": "https://github.com/JabRef/jabref/pull/5826#pullrequestreview-345018803", "createdAt": "2020-01-19T18:45:50Z", "commit": {"oid": "3579f6e71acd757b12acb691c30fa29b2528e136"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOVQxODo0NTo1MVrOFfQESw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOVQxODo0NTo1MVrOFfQESw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODMxMzQxOQ==", "bodyText": "I'm not entirely sure if this helps, but maybe worth a try:  In the shared database dialog I initialized this Composite Validator in the ctor and immediately added all validators and that worked without any NPE\n   formValidator = new CompositeValidator();\n    formValidator.addValidators(databaseValidator, hostValidator, portValidator, userValidator);", "url": "https://github.com/JabRef/jabref/pull/5826#discussion_r368313419", "createdAt": "2020-01-19T18:45:51Z", "author": {"login": "Siedlerchr"}, "path": "src/main/java/org/jabref/gui/groups/GroupDialogViewModel.java", "diffHunk": "@@ -0,0 +1,469 @@\n+package org.jabref.gui.groups;\n+\n+import java.io.IOException;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Optional;\n+import java.util.regex.Pattern;\n+import java.util.regex.PatternSyntaxException;\n+\n+import javafx.beans.property.BooleanProperty;\n+import javafx.beans.property.ListProperty;\n+import javafx.beans.property.ObjectProperty;\n+import javafx.beans.property.SimpleBooleanProperty;\n+import javafx.beans.property.SimpleListProperty;\n+import javafx.beans.property.SimpleObjectProperty;\n+import javafx.beans.property.SimpleStringProperty;\n+import javafx.beans.property.StringProperty;\n+import javafx.collections.FXCollections;\n+import javafx.scene.control.ButtonType;\n+import javafx.scene.paint.Color;\n+\n+import org.jabref.Globals;\n+import org.jabref.gui.BasePanel;\n+import org.jabref.gui.DialogService;\n+import org.jabref.gui.help.HelpAction;\n+import org.jabref.gui.icon.IconTheme;\n+import org.jabref.gui.util.FileDialogConfiguration;\n+import org.jabref.logic.auxparser.DefaultAuxParser;\n+import org.jabref.logic.help.HelpFile;\n+import org.jabref.logic.l10n.Localization;\n+import org.jabref.logic.util.StandardFileType;\n+import org.jabref.logic.util.io.FileUtil;\n+import org.jabref.model.database.BibDatabase;\n+import org.jabref.model.entry.field.FieldFactory;\n+import org.jabref.model.groups.AbstractGroup;\n+import org.jabref.model.groups.AutomaticGroup;\n+import org.jabref.model.groups.AutomaticKeywordGroup;\n+import org.jabref.model.groups.AutomaticPersonsGroup;\n+import org.jabref.model.groups.ExplicitGroup;\n+import org.jabref.model.groups.GroupHierarchyType;\n+import org.jabref.model.groups.GroupTreeNode;\n+import org.jabref.model.groups.RegexKeywordGroup;\n+import org.jabref.model.groups.SearchGroup;\n+import org.jabref.model.groups.TexGroup;\n+import org.jabref.model.groups.WordKeywordGroup;\n+import org.jabref.model.metadata.MetaData;\n+import org.jabref.model.strings.StringUtil;\n+import org.jabref.preferences.JabRefPreferences;\n+\n+import de.saxsys.mvvmfx.utils.validation.CompositeValidator;\n+import de.saxsys.mvvmfx.utils.validation.FunctionBasedValidator;\n+import de.saxsys.mvvmfx.utils.validation.ValidationMessage;\n+import de.saxsys.mvvmfx.utils.validation.ValidationStatus;\n+import de.saxsys.mvvmfx.utils.validation.Validator;\n+\n+public class GroupDialogViewModel {\n+\n+    // Basic Settings\n+    private final StringProperty nameProperty = new SimpleStringProperty(\"\");\n+    private final StringProperty descriptionProperty = new SimpleStringProperty(\"\");\n+    private final StringProperty iconProperty = new SimpleStringProperty(\"\");\n+    private final ObjectProperty<Color> colorProperty = new SimpleObjectProperty<>();\n+    private final ListProperty<GroupHierarchyType> groupHierarchyListProperty = new SimpleListProperty<>();\n+    private final ObjectProperty<GroupHierarchyType> groupHierarchySelectedProperty = new SimpleObjectProperty<>();\n+\n+    // Type\n+    private final BooleanProperty typeExplicitProperty = new SimpleBooleanProperty();\n+    private final BooleanProperty typeKeywordsProperty = new SimpleBooleanProperty();\n+    private final BooleanProperty typeSearchProperty = new SimpleBooleanProperty();\n+    private final BooleanProperty typeAutoProperty = new SimpleBooleanProperty();\n+    private final BooleanProperty typeTexProperty = new SimpleBooleanProperty();\n+\n+    // Option Groups\n+    private final StringProperty keywordGroupSearchTermProperty = new SimpleStringProperty(\"\");\n+    private final StringProperty keywordGroupSearchFieldProperty = new SimpleStringProperty(\"\");\n+    private final BooleanProperty keywordGroupCaseSensitiveProperty = new SimpleBooleanProperty();\n+    private final BooleanProperty keywordGroupRegexProperty = new SimpleBooleanProperty();\n+\n+    private final StringProperty searchGroupSearchTermProperty = new SimpleStringProperty(\"\");\n+    private final BooleanProperty searchGroupCaseSensitiveProperty = new SimpleBooleanProperty();\n+    private final BooleanProperty searchGroupRegexProperty = new SimpleBooleanProperty();\n+\n+    private final BooleanProperty autoGroupKeywordsOptionProperty = new SimpleBooleanProperty();\n+    private final StringProperty autoGroupKeywordsFieldProperty = new SimpleStringProperty(\"\");\n+    private final StringProperty autoGroupKeywordsDelimiterProperty = new SimpleStringProperty(\"\");\n+    private final StringProperty autoGroupKeywordsHierarchicalDelimiterProperty = new SimpleStringProperty(\"\");\n+    private final BooleanProperty autoGroupPersonsOptionProperty = new SimpleBooleanProperty();\n+    private final StringProperty autoGroupPersonsFieldProperty = new SimpleStringProperty(\"\");\n+\n+    private final StringProperty texGroupFilePathProperty = new SimpleStringProperty(\"\");\n+\n+    private Validator nameValidator;\n+    private Validator nameContainsDelimiterValidator;\n+    private Validator sameNameValidator;\n+    private Validator keywordRegexValidator;\n+    private Validator keywordSearchTermEmptyValidator;\n+    private Validator searchRegexValidator;\n+    private Validator searchSearchTermEmptyValidator;\n+    private CompositeValidator validator = new CompositeValidator();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3579f6e71acd757b12acb691c30fa29b2528e136"}, "originalPosition": 101}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1MDIyNDcy", "url": "https://github.com/JabRef/jabref/pull/5826#pullrequestreview-345022472", "createdAt": "2020-01-19T20:00:15Z", "commit": {"oid": "3579f6e71acd757b12acb691c30fa29b2528e136"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOVQyMDowMDoxN1rOFfQVmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOVQyMDowMDoxN1rOFfQVmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODMxNzg1MA==", "bodyText": "You already pass the JabRefPreferences as parameter", "url": "https://github.com/JabRef/jabref/pull/5826#discussion_r368317850", "createdAt": "2020-01-19T20:00:17Z", "author": {"login": "Siedlerchr"}, "path": "src/main/java/org/jabref/gui/groups/GroupDialogViewModel.java", "diffHunk": "@@ -0,0 +1,469 @@\n+package org.jabref.gui.groups;\n+\n+import java.io.IOException;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Optional;\n+import java.util.regex.Pattern;\n+import java.util.regex.PatternSyntaxException;\n+\n+import javafx.beans.property.BooleanProperty;\n+import javafx.beans.property.ListProperty;\n+import javafx.beans.property.ObjectProperty;\n+import javafx.beans.property.SimpleBooleanProperty;\n+import javafx.beans.property.SimpleListProperty;\n+import javafx.beans.property.SimpleObjectProperty;\n+import javafx.beans.property.SimpleStringProperty;\n+import javafx.beans.property.StringProperty;\n+import javafx.collections.FXCollections;\n+import javafx.scene.control.ButtonType;\n+import javafx.scene.paint.Color;\n+\n+import org.jabref.Globals;\n+import org.jabref.gui.BasePanel;\n+import org.jabref.gui.DialogService;\n+import org.jabref.gui.help.HelpAction;\n+import org.jabref.gui.icon.IconTheme;\n+import org.jabref.gui.util.FileDialogConfiguration;\n+import org.jabref.logic.auxparser.DefaultAuxParser;\n+import org.jabref.logic.help.HelpFile;\n+import org.jabref.logic.l10n.Localization;\n+import org.jabref.logic.util.StandardFileType;\n+import org.jabref.logic.util.io.FileUtil;\n+import org.jabref.model.database.BibDatabase;\n+import org.jabref.model.entry.field.FieldFactory;\n+import org.jabref.model.groups.AbstractGroup;\n+import org.jabref.model.groups.AutomaticGroup;\n+import org.jabref.model.groups.AutomaticKeywordGroup;\n+import org.jabref.model.groups.AutomaticPersonsGroup;\n+import org.jabref.model.groups.ExplicitGroup;\n+import org.jabref.model.groups.GroupHierarchyType;\n+import org.jabref.model.groups.GroupTreeNode;\n+import org.jabref.model.groups.RegexKeywordGroup;\n+import org.jabref.model.groups.SearchGroup;\n+import org.jabref.model.groups.TexGroup;\n+import org.jabref.model.groups.WordKeywordGroup;\n+import org.jabref.model.metadata.MetaData;\n+import org.jabref.model.strings.StringUtil;\n+import org.jabref.preferences.JabRefPreferences;\n+\n+import de.saxsys.mvvmfx.utils.validation.CompositeValidator;\n+import de.saxsys.mvvmfx.utils.validation.FunctionBasedValidator;\n+import de.saxsys.mvvmfx.utils.validation.ValidationMessage;\n+import de.saxsys.mvvmfx.utils.validation.ValidationStatus;\n+import de.saxsys.mvvmfx.utils.validation.Validator;\n+\n+public class GroupDialogViewModel {\n+\n+    // Basic Settings\n+    private final StringProperty nameProperty = new SimpleStringProperty(\"\");\n+    private final StringProperty descriptionProperty = new SimpleStringProperty(\"\");\n+    private final StringProperty iconProperty = new SimpleStringProperty(\"\");\n+    private final ObjectProperty<Color> colorProperty = new SimpleObjectProperty<>();\n+    private final ListProperty<GroupHierarchyType> groupHierarchyListProperty = new SimpleListProperty<>();\n+    private final ObjectProperty<GroupHierarchyType> groupHierarchySelectedProperty = new SimpleObjectProperty<>();\n+\n+    // Type\n+    private final BooleanProperty typeExplicitProperty = new SimpleBooleanProperty();\n+    private final BooleanProperty typeKeywordsProperty = new SimpleBooleanProperty();\n+    private final BooleanProperty typeSearchProperty = new SimpleBooleanProperty();\n+    private final BooleanProperty typeAutoProperty = new SimpleBooleanProperty();\n+    private final BooleanProperty typeTexProperty = new SimpleBooleanProperty();\n+\n+    // Option Groups\n+    private final StringProperty keywordGroupSearchTermProperty = new SimpleStringProperty(\"\");\n+    private final StringProperty keywordGroupSearchFieldProperty = new SimpleStringProperty(\"\");\n+    private final BooleanProperty keywordGroupCaseSensitiveProperty = new SimpleBooleanProperty();\n+    private final BooleanProperty keywordGroupRegexProperty = new SimpleBooleanProperty();\n+\n+    private final StringProperty searchGroupSearchTermProperty = new SimpleStringProperty(\"\");\n+    private final BooleanProperty searchGroupCaseSensitiveProperty = new SimpleBooleanProperty();\n+    private final BooleanProperty searchGroupRegexProperty = new SimpleBooleanProperty();\n+\n+    private final BooleanProperty autoGroupKeywordsOptionProperty = new SimpleBooleanProperty();\n+    private final StringProperty autoGroupKeywordsFieldProperty = new SimpleStringProperty(\"\");\n+    private final StringProperty autoGroupKeywordsDelimiterProperty = new SimpleStringProperty(\"\");\n+    private final StringProperty autoGroupKeywordsHierarchicalDelimiterProperty = new SimpleStringProperty(\"\");\n+    private final BooleanProperty autoGroupPersonsOptionProperty = new SimpleBooleanProperty();\n+    private final StringProperty autoGroupPersonsFieldProperty = new SimpleStringProperty(\"\");\n+\n+    private final StringProperty texGroupFilePathProperty = new SimpleStringProperty(\"\");\n+\n+    private Validator nameValidator;\n+    private Validator nameContainsDelimiterValidator;\n+    private Validator sameNameValidator;\n+    private Validator keywordRegexValidator;\n+    private Validator keywordSearchTermEmptyValidator;\n+    private Validator searchRegexValidator;\n+    private Validator searchSearchTermEmptyValidator;\n+    private CompositeValidator validator = new CompositeValidator();\n+\n+    private final DialogService dialogService;\n+    private final JabRefPreferences preferences;\n+    private final BasePanel basePanel;\n+    private final AbstractGroup editedGroup;\n+\n+    private final Character keywordDelimiter;\n+\n+    public GroupDialogViewModel(DialogService dialogService, BasePanel basePanel, JabRefPreferences preferences, AbstractGroup editedGroup) {\n+        this.dialogService = dialogService;\n+        this.preferences = preferences;\n+        this.basePanel = basePanel;\n+        this.editedGroup = editedGroup;\n+\n+        this.keywordDelimiter = Globals.prefs.getKeywordDelimiter();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3579f6e71acd757b12acb691c30fa29b2528e136"}, "originalPosition": 116}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9968373199ec4fb1d14ef74f49a15d3f980ee3ee", "author": {"user": {"login": "calixtus", "name": "Carl Christian Snethlage"}}, "url": "https://github.com/JabRef/jabref/commit/9968373199ec4fb1d14ef74f49a15d3f980ee3ee", "committedDate": "2020-01-21T11:08:53Z", "message": "Merge remote-tracking branch 'upstream/master' into group_dialog_mvvm\n\n# Conflicts:\n#\tsrc/main/resources/l10n/JabRef_en.properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64c3c6e9a91713fd7198a12376bc98bbafa080a0", "author": {"user": {"login": "calixtus", "name": "Carl Christian Snethlage"}}, "url": "https://github.com/JabRef/jabref/commit/64c3c6e9a91713fd7198a12376bc98bbafa080a0", "committedDate": "2020-01-21T11:12:41Z", "message": "Minor refactoring, and changed comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4MzM0MTk3", "url": "https://github.com/JabRef/jabref/pull/5826#pullrequestreview-348334197", "createdAt": "2020-01-25T16:45:15Z", "commit": {"oid": "64c3c6e9a91713fd7198a12376bc98bbafa080a0"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNVQxNjo0NToxNVrOFhwkmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNVQxNjo0NToxNVrOFhwkmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDk0MzEzMQ==", "bodyText": "Can you please inline these constructors that use global variables (let the caller care where to get them).", "url": "https://github.com/JabRef/jabref/pull/5826#discussion_r370943131", "createdAt": "2020-01-25T16:45:15Z", "author": {"login": "tobiasdiez"}, "path": "src/main/java/org/jabref/gui/groups/GroupDialogView.java", "diffHunk": "@@ -0,0 +1,184 @@\n+package org.jabref.gui.groups;\n+\n+import javafx.application.Platform;\n+import javafx.fxml.FXML;\n+import javafx.scene.control.ButtonType;\n+import javafx.scene.control.CheckBox;\n+import javafx.scene.control.ColorPicker;\n+import javafx.scene.control.ComboBox;\n+import javafx.scene.control.RadioButton;\n+import javafx.scene.control.TextField;\n+\n+import org.jabref.Globals;\n+import org.jabref.JabRefGUI;\n+import org.jabref.gui.BasePanel;\n+import org.jabref.gui.DialogService;\n+import org.jabref.gui.util.BaseDialog;\n+import org.jabref.gui.util.IconValidationDecorator;\n+import org.jabref.gui.util.ViewModelListCellFactory;\n+import org.jabref.logic.l10n.Localization;\n+import org.jabref.model.groups.AbstractGroup;\n+import org.jabref.model.groups.GroupHierarchyType;\n+import org.jabref.preferences.JabRefPreferences;\n+\n+import com.airhacks.afterburner.views.ViewLoader;\n+import de.saxsys.mvvmfx.utils.validation.visualization.ControlsFxVisualizer;\n+\n+public class GroupDialogView extends BaseDialog<AbstractGroup> {\n+\n+    // Basic Settings\n+    @FXML private TextField nameField;\n+    @FXML private TextField descriptionField;\n+    @FXML private TextField iconField;\n+    @FXML private ColorPicker colorField;\n+    @FXML private ComboBox<GroupHierarchyType> hierarchicalContextCombo;\n+\n+    // Type\n+    @FXML private RadioButton explicitRadioButton;\n+    @FXML private RadioButton keywordsRadioButton;\n+    @FXML private RadioButton searchRadioButton;\n+    @FXML private RadioButton autoRadioButton;\n+    @FXML private RadioButton texRadioButton;\n+\n+    // Option Groups\n+    @FXML private TextField keywordGroupSearchTerm;\n+    @FXML private TextField keywordGroupSearchField;\n+    @FXML private CheckBox keywordGroupCaseSensitive;\n+    @FXML private CheckBox keywordGroupRegex;\n+\n+    @FXML private TextField searchGroupSearchTerm;\n+    @FXML private CheckBox searchGroupCaseSensitive;\n+    @FXML private CheckBox searchGroupRegex;\n+\n+    @FXML private RadioButton autoGroupKeywordsOption;\n+    @FXML private TextField autoGroupKeywordsField;\n+    @FXML private TextField autoGroupKeywordsDeliminator;\n+    @FXML private TextField autoGroupKeywordsHierarchicalDeliminator;\n+    @FXML private RadioButton autoGroupPersonsOption;\n+    @FXML private TextField autoGroupPersonsField;\n+\n+    @FXML private TextField texGroupFilePath;\n+\n+    private final ControlsFxVisualizer validationVisualizer = new ControlsFxVisualizer();\n+    private final GroupDialogViewModel viewModel;\n+\n+    public GroupDialogView(DialogService dialogService, BasePanel basePanel, JabRefPreferences prefs, AbstractGroup editedGroup) {\n+        viewModel = new GroupDialogViewModel(dialogService, basePanel, prefs, editedGroup);\n+\n+        ViewLoader.view(this)\n+                  .load()\n+                  .setAsDialogPane(this);\n+\n+        if (editedGroup == null) {\n+            this.setTitle(Localization.lang(\"Add subgroup\"));\n+        } else {\n+            this.setTitle(Localization.lang(\"Edit group\") + \" \" + editedGroup.getName());\n+        }\n+\n+        setResultConverter(viewModel::resultConverter);\n+\n+        getDialogPane().getButtonTypes().setAll(ButtonType.OK, ButtonType.CANCEL);\n+\n+        getDialogPane().getScene().getWindow().sizeToScene();\n+    }\n+\n+    public GroupDialogView(DialogService dialogService, AbstractGroup editedGroup) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64c3c6e9a91713fd7198a12376bc98bbafa080a0"}, "originalPosition": 85}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7db26ee64b178e359d69be7bc676b709b0d46b8", "author": {"user": {"login": "calixtus", "name": "Carl Christian Snethlage"}}, "url": "https://github.com/JabRef/jabref/commit/a7db26ee64b178e359d69be7bc676b709b0d46b8", "committedDate": "2020-01-25T20:40:37Z", "message": "Refactored constructors, PreferencesService and some minor improvements."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd2f2ed6c98793ac8ce8d5eae0f044c9e1f19e2d", "author": {"user": {"login": "calixtus", "name": "Carl Christian Snethlage"}}, "url": "https://github.com/JabRef/jabref/commit/fd2f2ed6c98793ac8ce8d5eae0f044c9e1f19e2d", "committedDate": "2020-01-25T20:43:23Z", "message": "Merge remote-tracking branch 'upstream/master' into group_dialog_mvvm\n\n# Conflicts:\n#\tsrc/main/resources/l10n/JabRef_en.properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "584abaca4f72a11dd02f07cbdc3312b92e7dd661", "author": {"user": {"login": "calixtus", "name": "Carl Christian Snethlage"}}, "url": "https://github.com/JabRef/jabref/commit/584abaca4f72a11dd02f07cbdc3312b92e7dd661", "committedDate": "2020-01-25T20:56:27Z", "message": "Fixed Test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4MzUwMTQw", "url": "https://github.com/JabRef/jabref/pull/5826#pullrequestreview-348350140", "createdAt": "2020-01-25T23:15:13Z", "commit": {"oid": "584abaca4f72a11dd02f07cbdc3312b92e7dd661"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 522, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}