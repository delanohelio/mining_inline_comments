{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwODUzMDc4", "number": 6643, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QxOToxNTozMVrOEJX9AQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QxOToxNTozMVrOEJX9AQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MjY1MDg5OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/jabref/gui/customizefields/CustomizeGeneralFieldsDialogViewModel.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QxOToxNTozMVrOGp3viw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QyMDozNToxN1rOGp4KbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU1ODA5MQ==", "bodyText": "Please use the unwanted chars from the preferences", "url": "https://github.com/JabRef/jabref/pull/6643#discussion_r446558091", "createdAt": "2020-06-27T19:15:31Z", "author": {"login": "Siedlerchr"}, "path": "src/main/java/org/jabref/gui/customizefields/CustomizeGeneralFieldsDialogViewModel.java", "diffHunk": "@@ -58,8 +58,9 @@ public void saveFields() {\n                 return;\n             }\n \n-            String testString = CitationKeyGenerator.cleanKey(parts[1], preferences.getUnwantedCharacters());\n-            if (!testString.equals(parts[1]) || (parts[1].indexOf('&') >= 0)) {\n+            String unwantedChars = \"#{}()~,^&-\\\"'`\u02b9\\\\\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "30d56b4be62b2cf06067f5f6cce711073bed4f09"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU1ODQ1NQ==", "bodyText": "I thought the problem was that the list of unwanted chars from the preferences did not correspond to the unwanted characters for this particular case. I.e. the characters in the log message below are not the same that are stored in preferences. For example, ';' character is fine in this case because it's used to separate fields, but it is on the list of unwanted characters in preferences", "url": "https://github.com/JabRef/jabref/pull/6643#discussion_r446558455", "createdAt": "2020-06-27T19:19:27Z", "author": {"login": "alex-petrov-vt"}, "path": "src/main/java/org/jabref/gui/customizefields/CustomizeGeneralFieldsDialogViewModel.java", "diffHunk": "@@ -58,8 +58,9 @@ public void saveFields() {\n                 return;\n             }\n \n-            String testString = CitationKeyGenerator.cleanKey(parts[1], preferences.getUnwantedCharacters());\n-            if (!testString.equals(parts[1]) || (parts[1].indexOf('&') >= 0)) {\n+            String unwantedChars = \"#{}()~,^&-\\\"'`\u02b9\\\\\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU1ODA5MQ=="}, "originalCommit": {"oid": "30d56b4be62b2cf06067f5f6cce711073bed4f09"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU2NDIyNQ==", "bodyText": "Ah okay, thanks for clarifying this.", "url": "https://github.com/JabRef/jabref/pull/6643#discussion_r446564225", "createdAt": "2020-06-27T20:26:46Z", "author": {"login": "Siedlerchr"}, "path": "src/main/java/org/jabref/gui/customizefields/CustomizeGeneralFieldsDialogViewModel.java", "diffHunk": "@@ -58,8 +58,9 @@ public void saveFields() {\n                 return;\n             }\n \n-            String testString = CitationKeyGenerator.cleanKey(parts[1], preferences.getUnwantedCharacters());\n-            if (!testString.equals(parts[1]) || (parts[1].indexOf('&') >= 0)) {\n+            String unwantedChars = \"#{}()~,^&-\\\"'`\u02b9\\\\\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU1ODA5MQ=="}, "originalCommit": {"oid": "30d56b4be62b2cf06067f5f6cce711073bed4f09"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU2NDM2Mw==", "bodyText": "Please also add a changelog entry (the checkstyle issue is not related)", "url": "https://github.com/JabRef/jabref/pull/6643#discussion_r446564363", "createdAt": "2020-06-27T20:28:18Z", "author": {"login": "Siedlerchr"}, "path": "src/main/java/org/jabref/gui/customizefields/CustomizeGeneralFieldsDialogViewModel.java", "diffHunk": "@@ -58,8 +58,9 @@ public void saveFields() {\n                 return;\n             }\n \n-            String testString = CitationKeyGenerator.cleanKey(parts[1], preferences.getUnwantedCharacters());\n-            if (!testString.equals(parts[1]) || (parts[1].indexOf('&') >= 0)) {\n+            String unwantedChars = \"#{}()~,^&-\\\"'`\u02b9\\\\\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU1ODA5MQ=="}, "originalCommit": {"oid": "30d56b4be62b2cf06067f5f6cce711073bed4f09"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU2NDk3Mw==", "bodyText": "Okay, I'll do later on tonight", "url": "https://github.com/JabRef/jabref/pull/6643#discussion_r446564973", "createdAt": "2020-06-27T20:35:17Z", "author": {"login": "alex-petrov-vt"}, "path": "src/main/java/org/jabref/gui/customizefields/CustomizeGeneralFieldsDialogViewModel.java", "diffHunk": "@@ -58,8 +58,9 @@ public void saveFields() {\n                 return;\n             }\n \n-            String testString = CitationKeyGenerator.cleanKey(parts[1], preferences.getUnwantedCharacters());\n-            if (!testString.equals(parts[1]) || (parts[1].indexOf('&') >= 0)) {\n+            String unwantedChars = \"#{}()~,^&-\\\"'`\u02b9\\\\\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU1ODA5MQ=="}, "originalCommit": {"oid": "30d56b4be62b2cf06067f5f6cce711073bed4f09"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1766, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}