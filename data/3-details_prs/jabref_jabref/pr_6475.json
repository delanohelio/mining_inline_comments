{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3MzcyMTA0", "number": 6475, "title": "Fixed #6472 that multiple background task popups stacked over each other", "bodyText": "Fixed #6472\nI added a globle PopOver variable to hide existed PopOver(if any).\nIf a pop over is showing and I clicked on the background tasks button, the showing pop over will hide first, then the new pop over will show. The pop overs won't stack over.\n\n\n\n Change in CHANGELOG.md described (if applicable)\n Tests created for changes (if applicable)\n Manually tested changed features in running JabRef (always required)\n Screenshots added in PR description (for UI changes)\n Checked documentation: Is the information available and up to date? If not created an issue at https://github.com/JabRef/user-documentation/issues or, even better, submitted a pull request to the documentation repository.", "createdAt": "2020-05-13T13:43:39Z", "url": "https://github.com/JabRef/jabref/pull/6475", "merged": true, "mergeCommit": {"oid": "455ed8b82ff856b9adaaa0d545ccd628714ce13d"}, "closed": true, "closedAt": "2020-05-31T17:02:00Z", "author": {"login": "chenyuheng"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcfGOEgAH2gAyNDE3MzcyMTA0OmEwNWNiYmRmYjY4NzNjMTdjNGIyMjhkNWNhMDI4OTlhMWI1NWNlYTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcmuusDAFqTQyMTUxMTQyMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a05cbbdfb6873c17c4b228d5ca02899a1b55cea7", "author": {"user": {"login": "chenyuheng", "name": "Yuheng"}}, "url": "https://github.com/JabRef/jabref/commit/a05cbbdfb6873c17c4b228d5ca02899a1b55cea7", "committedDate": "2020-05-07T23:52:32Z", "message": "fix https://github.com/JabRef/jabref/issues/6127\n\nadd concise tips when SaveException happend"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1409dff18287c3be2dddff2334bb919f3d5fbe0f", "author": {"user": {"login": "chenyuheng", "name": "Yuheng"}}, "url": "https://github.com/JabRef/jabref/commit/1409dff18287c3be2dddff2334bb919f3d5fbe0f", "committedDate": "2020-05-07T23:59:50Z", "message": "Update SaveDatabaseAction.java\n\nadd space..."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac009e6c465fe5efda7b893b9e98df6356c85048", "author": {"user": {"login": "chenyuheng", "name": "Yuheng"}}, "url": "https://github.com/JabRef/jabref/commit/ac009e6c465fe5efda7b893b9e98df6356c85048", "committedDate": "2020-05-13T11:36:19Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c995fb92ce082c1acd092cbfc66bcecbcedd16b8", "author": {"user": {"login": "chenyuheng", "name": "Yuheng"}}, "url": "https://github.com/JabRef/jabref/commit/c995fb92ce082c1acd092cbfc66bcecbcedd16b8", "committedDate": "2020-05-13T13:33:29Z", "message": "fixed https://github.com/JabRef/jabref/issues/6472\n\nfixed the problem that multiple background task popups stacked over each other.\n\nAdded a globle PopOver variable to hide existed PopOver(if any)."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86684fb9b1ee9a7fd0515960cd629443e4b1f034", "author": {"user": {"login": "chenyuheng", "name": "Yuheng"}}, "url": "https://github.com/JabRef/jabref/commit/86684fb9b1ee9a7fd0515960cd629443e4b1f034", "committedDate": "2020-05-13T13:43:50Z", "message": "Update CHANGELOG.md"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c18f92885a9f8dde451979b9c52669c76f066d47", "author": {"user": {"login": "chenyuheng", "name": "Yuheng"}}, "url": "https://github.com/JabRef/jabref/commit/c18f92885a9f8dde451979b9c52669c76f066d47", "committedDate": "2020-05-13T13:55:12Z", "message": "checkstyle fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNjEzNDM4", "url": "https://github.com/JabRef/jabref/pull/6475#pullrequestreview-411613438", "createdAt": "2020-05-14T09:13:15Z", "commit": {"oid": "c18f92885a9f8dde451979b9c52669c76f066d47"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOToxMzoxNlrOGVTQug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwOToxMzoxNlrOGVTQug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDk4ODg1OA==", "bodyText": "Another option would be to reuse the existing pop over and only change the content. That is:\nif (existedProgressViewPopOver == null) {\n   existedProgressViewPopOver = new ...\n} else {\n   existedProgressViewPopOver.setContentNode(taskProgressView).\n}\n\nThis should be a slightly better user experience as there is no flicker of hiding/showing a new pop over.\nThen you can also rename the global variable to progressViewPopOver", "url": "https://github.com/JabRef/jabref/pull/6475#discussion_r424988858", "createdAt": "2020-05-14T09:13:16Z", "author": {"login": "tobiasdiez"}, "path": "src/main/java/org/jabref/gui/JabRefFrame.java", "diffHunk": "@@ -988,10 +989,14 @@ hide it and clip it to a square of (width x width) each time width is updated.\n             taskProgressView.setGraphicFactory(BackgroundTask::getIcon);\n \n             PopOver progressViewPopOver = new PopOver(taskProgressView);\n+            if (this.existedProgressViewPopOver == null) {\n+                this.existedProgressViewPopOver = progressViewPopOver;\n+            }\n             progressViewPopOver.setTitle(Localization.lang(\"Background Tasks\"));\n             progressViewPopOver.setArrowLocation(PopOver.ArrowLocation.RIGHT_TOP);\n-\n+            this.existedProgressViewPopOver.hide();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c18f92885a9f8dde451979b9c52669c76f066d47"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a58c67eb93810633094c0cd4c3ae701df56a66e3", "author": {"user": {"login": "chenyuheng", "name": "Yuheng"}}, "url": "https://github.com/JabRef/jabref/commit/a58c67eb93810633094c0cd4c3ae701df56a66e3", "committedDate": "2020-05-30T15:26:08Z", "message": "make the progress button a toggle\n\nAs tobiasdiez suggests in https://github.com/JabRef/jabref/pull/6475"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ba67c5b09f28e9daaf4847a724d8f719a64d45d7", "author": {"user": {"login": "chenyuheng", "name": "Yuheng"}}, "url": "https://github.com/JabRef/jabref/commit/ba67c5b09f28e9daaf4847a724d8f719a64d45d7", "committedDate": "2020-05-30T15:27:22Z", "message": "Merge branch 'master' into master"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d88f3a42dbb658c33246f7502ddb9ca332ad07f", "author": {"user": {"login": "chenyuheng", "name": "Yuheng"}}, "url": "https://github.com/JabRef/jabref/commit/4d88f3a42dbb658c33246f7502ddb9ca332ad07f", "committedDate": "2020-05-30T15:59:48Z", "message": "remove unneeded comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNTEwNDA4", "url": "https://github.com/JabRef/jabref/pull/6475#pullrequestreview-421510408", "createdAt": "2020-05-31T16:47:49Z", "commit": {"oid": "4d88f3a42dbb658c33246f7502ddb9ca332ad07f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNTExNDIx", "url": "https://github.com/JabRef/jabref/pull/6475#pullrequestreview-421511421", "createdAt": "2020-05-31T17:01:50Z", "commit": {"oid": "4d88f3a42dbb658c33246f7502ddb9ca332ad07f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 266, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}