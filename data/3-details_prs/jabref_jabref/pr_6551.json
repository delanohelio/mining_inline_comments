{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0OTkyOTM2", "number": 6551, "title": "Add more menu items to library context menu", "bodyText": "Fixes #6527\nBefore fixed:\n\nAfter fixed:\n\nThe following are relative codes. I just add some menu items and some relative action classes to perform actions.\nhttps://github.com/Hollyqqqqq/jabref/blob/cd2fc42237242773685a3b38c2021e07cdbade39/src/main/java/org/jabref/gui/JabRefFrame.java#L1085-L1099\n\n\n Change in CHANGELOG.md described (if applicable)\n Tests created for changes (if applicable)\n Manually tested changed features in running JabRef (always required)\n Screenshots added in PR description (for UI changes)\n Checked documentation: Is the information available and up to date? If not created an issue at https://github.com/JabRef/user-documentation/issues or, even better, submitted a pull request to the documentation repository.", "createdAt": "2020-05-29T09:29:16Z", "url": "https://github.com/JabRef/jabref/pull/6551", "merged": true, "mergeCommit": {"oid": "41a3d081e2e4d9b4f48477f5dcb74018d56a420f"}, "closed": true, "closedAt": "2020-06-01T04:55:06Z", "author": {"login": "Hollyqqqqq"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcl9rCjAH2gAyNDI0OTkyOTM2OjcwZGE3ZmVhNzkwNzhmYWU3Y2YyYjk5OGY1MzVkYzg4MzMyZTA0NDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcm4vHWgH2gAyNDI0OTkyOTM2OmQ0ZTAzYmY2OTNkNDQ4YmQ0ZWQxYWIwZjdmYzllY2U5YTYyMDg5Y2M=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "70da7fea79078fae7cf2b998f535dc88332e0440", "author": {"user": null}, "url": "https://github.com/JabRef/jabref/commit/70da7fea79078fae7cf2b998f535dc88332e0440", "committedDate": "2020-05-29T07:52:30Z", "message": "add context menu"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "612255252d9ac1de47ba9dd2984ffbf6790612ef", "author": {"user": null}, "url": "https://github.com/JabRef/jabref/commit/612255252d9ac1de47ba9dd2984ffbf6790612ef", "committedDate": "2020-05-29T07:53:12Z", "message": "add test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d407607729effb81dede2efcc72f721b80cbac71", "author": {"user": null}, "url": "https://github.com/JabRef/jabref/commit/d407607729effb81dede2efcc72f721b80cbac71", "committedDate": "2020-05-29T09:07:35Z", "message": "delete jabRefFrameTest"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwODM0ODUx", "url": "https://github.com/JabRef/jabref/pull/6551#pullrequestreview-420834851", "createdAt": "2020-05-29T10:28:47Z", "commit": {"oid": "d407607729effb81dede2efcc72f721b80cbac71"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQxMDoyODo0OFrOGcXZLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQxMDoyODo0OFrOGcXZLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjM5NjU5MQ==", "bodyText": "Maybe you can add a utility method in ActionHelper to check if there are multiple databases present? In that case the entry for this could be disabled if not.", "url": "https://github.com/JabRef/jabref/pull/6551#discussion_r432396591", "createdAt": "2020-05-29T10:28:48Z", "author": {"login": "calixtus"}, "path": "src/main/java/org/jabref/gui/JabRefFrame.java", "diffHunk": "@@ -1316,6 +1323,31 @@ public void execute() {\n         }\n     }\n \n+    private class CloseOthersDatabaseAction extends SimpleCommand {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d407607729effb81dede2efcc72f721b80cbac71"}, "originalPosition": 34}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwOTEzMzIw", "url": "https://github.com/JabRef/jabref/pull/6551#pullrequestreview-420913320", "createdAt": "2020-05-29T12:40:14Z", "commit": {"oid": "d407607729effb81dede2efcc72f721b80cbac71"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQxMjo0MDoxNFrOGca-wg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQxMjo0MDoxNFrOGca-wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjQ1NTM2Mg==", "bodyText": "I wouldn't add the \"Manage cite key pattern\". It's not that important and also not directly concerned with the library.", "url": "https://github.com/JabRef/jabref/pull/6551#discussion_r432455362", "createdAt": "2020-05-29T12:40:14Z", "author": {"login": "tobiasdiez"}, "path": "src/main/java/org/jabref/gui/JabRefFrame.java", "diffHunk": "@@ -1079,11 +1079,18 @@ public void updateAllTabTitles() {\n         }\n     }\n \n-    private static ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository, BasePanel panel, StateManager stateManager) {\n+    private ContextMenu createTabContextMenu(KeyBindingRepository keyBindingRepository) {\n         ContextMenu contextMenu = new ContextMenu();\n         ActionFactory factory = new ActionFactory(keyBindingRepository);\n \n-        contextMenu.getItems().add(factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(panel.frame(), stateManager)));\n+        contextMenu.getItems().addAll(\n+                factory.createMenuItem(StandardActions.CLOSE_LIBRARY, new CloseDatabaseAction()),\n+                factory.createMenuItem(StandardActions.CLOSE_OTHER_LIBRARIES, new CloseOthersDatabaseAction()),\n+                factory.createMenuItem(StandardActions.CLOSE_ALL_LIBRARIES, new CloseAllDatabaseAction()),\n+                new SeparatorMenuItem(),\n+                factory.createMenuItem(StandardActions.LIBRARY_PROPERTIES, new LibraryPropertiesAction(this, stateManager)),\n+                factory.createMenuItem(StandardActions.MANAGE_CITE_KEY_PATTERNS, new BibtexKeyPatternAction(this, stateManager))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d407607729effb81dede2efcc72f721b80cbac71"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1982c0be187a6a6e61766ab9b01d0d1ba82f5d0", "author": {"user": null}, "url": "https://github.com/JabRef/jabref/commit/b1982c0be187a6a6e61766ab9b01d0d1ba82f5d0", "committedDate": "2020-05-30T06:53:35Z", "message": "Merge remote-tracking branch 'upstream/master' into fix-for-issue-6527"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd2fc42237242773685a3b38c2021e07cdbade39", "author": {"user": null}, "url": "https://github.com/JabRef/jabref/commit/cd2fc42237242773685a3b38c2021e07cdbade39", "committedDate": "2020-05-31T00:15:54Z", "message": "update"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNTEwOTM5", "url": "https://github.com/JabRef/jabref/pull/6551#pullrequestreview-421510939", "createdAt": "2020-05-31T16:55:27Z", "commit": {"oid": "cd2fc42237242773685a3b38c2021e07cdbade39"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNTExMjA0", "url": "https://github.com/JabRef/jabref/pull/6551#pullrequestreview-421511204", "createdAt": "2020-05-31T16:58:51Z", "commit": {"oid": "cd2fc42237242773685a3b38c2021e07cdbade39"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "937cc8c9236858b3173ee89cca6ac21fc24fb8f0", "author": {"user": null}, "url": "https://github.com/JabRef/jabref/commit/937cc8c9236858b3173ee89cca6ac21fc24fb8f0", "committedDate": "2020-06-01T00:19:34Z", "message": "checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c10d73cc492e36829f85773cf1e7f898f87ac9f", "author": {"user": {"login": "tobiasdiez", "name": "Tobias Diez"}}, "url": "https://github.com/JabRef/jabref/commit/6c10d73cc492e36829f85773cf1e7f898f87ac9f", "committedDate": "2020-06-01T04:40:02Z", "message": "Update JabRef_en.properties"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4e03bf693d448bd4ed1ab0f7fc9ece9a62089cc", "author": {"user": {"login": "tobiasdiez", "name": "Tobias Diez"}}, "url": "https://github.com/JabRef/jabref/commit/d4e03bf693d448bd4ed1ab0f7fc9ece9a62089cc", "committedDate": "2020-06-01T04:41:21Z", "message": "Update JabRef_en.properties"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 293, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}