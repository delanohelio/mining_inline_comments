{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4ODcyODMz", "number": 6637, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQwNDozNzowNFrOEIm8Lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMDowODozNFrOEJFCFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3NDYyMDYyOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/jabref/JabRefGUI.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQwNDozNzowNFrOGorEew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQyMzo0Mzo0N1rOGpPWoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTMwMTg4Mw==", "bodyText": "Please use Localization.lang. See https://devdocs.jabref.org/getting-into-the-code/code-howtos#using-localization-correctly.", "url": "https://github.com/JabRef/jabref/pull/6637#discussion_r445301883", "createdAt": "2020-06-25T04:37:04Z", "author": {"login": "koppor"}, "path": "src/main/java/org/jabref/JabRefGUI.java", "diffHunk": "@@ -104,6 +104,13 @@ private void openWindow(Stage mainStage) {\n             }\n         });\n         Platform.runLater(this::openDatabases);\n+\n+        if(!(Globals.getFileUpdateMonitor().isActive())) {\n+            this.getMainFrame().getDialogService()\n+                    .showErrorDialogAndWait(\"Unable to monitor file changes. Please close files \" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63dabffe4ef99a715c60429e2c676c780f406042"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTg5NjM1Mw==", "bodyText": "JabRef/user-documentation#286", "url": "https://github.com/JabRef/jabref/pull/6637#discussion_r445896353", "createdAt": "2020-06-25T23:43:47Z", "author": null, "path": "src/main/java/org/jabref/JabRefGUI.java", "diffHunk": "@@ -104,6 +104,13 @@ private void openWindow(Stage mainStage) {\n             }\n         });\n         Platform.runLater(this::openDatabases);\n+\n+        if(!(Globals.getFileUpdateMonitor().isActive())) {\n+            this.getMainFrame().getDialogService()\n+                    .showErrorDialogAndWait(\"Unable to monitor file changes. Please close files \" +", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTMwMTg4Mw=="}, "originalCommit": {"oid": "63dabffe4ef99a715c60429e2c676c780f406042"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3NDYyMzgzOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/jabref/gui/util/DefaultFileUpdateMonitor.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQwNDozOTozMVrOGorGkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNToxMDoxNFrOGpzXIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTMwMjQxOA==", "bodyText": "I think, it's OK to store the exception (for future work).", "url": "https://github.com/JabRef/jabref/pull/6637#discussion_r445302418", "createdAt": "2020-06-25T04:39:31Z", "author": {"login": "koppor"}, "path": "src/main/java/org/jabref/gui/util/DefaultFileUpdateMonitor.java", "diffHunk": "@@ -29,11 +31,14 @@\n \n     private final Multimap<Path, FileUpdateListener> listeners = ArrayListMultimap.create(20, 4);\n     private WatchService watcher;\n+    private Optional<JabRefException> filesystemMonitorFailure;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "63dabffe4ef99a715c60429e2c676c780f406042"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTg1NTI3Mw==", "bodyText": "What do you mean? I am not sure what the code change is that you are requesting.", "url": "https://github.com/JabRef/jabref/pull/6637#discussion_r445855273", "createdAt": "2020-06-25T21:43:01Z", "author": null, "path": "src/main/java/org/jabref/gui/util/DefaultFileUpdateMonitor.java", "diffHunk": "@@ -29,11 +31,14 @@\n \n     private final Multimap<Path, FileUpdateListener> listeners = ArrayListMultimap.create(20, 4);\n     private WatchService watcher;\n+    private Optional<JabRefException> filesystemMonitorFailure;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTMwMjQxOA=="}, "originalCommit": {"oid": "63dabffe4ef99a715c60429e2c676c780f406042"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA5MTA3Nw==", "bodyText": "This was more a comment to a second reviewer.", "url": "https://github.com/JabRef/jabref/pull/6637#discussion_r446091077", "createdAt": "2020-06-26T10:03:18Z", "author": {"login": "koppor"}, "path": "src/main/java/org/jabref/gui/util/DefaultFileUpdateMonitor.java", "diffHunk": "@@ -29,11 +31,14 @@\n \n     private final Multimap<Path, FileUpdateListener> listeners = ArrayListMultimap.create(20, 4);\n     private WatchService watcher;\n+    private Optional<JabRefException> filesystemMonitorFailure;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTMwMjQxOA=="}, "originalCommit": {"oid": "63dabffe4ef99a715c60429e2c676c780f406042"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ4NjMwNQ==", "bodyText": "JabRef/user-documentation#286", "url": "https://github.com/JabRef/jabref/pull/6637#discussion_r446486305", "createdAt": "2020-06-27T05:10:14Z", "author": null, "path": "src/main/java/org/jabref/gui/util/DefaultFileUpdateMonitor.java", "diffHunk": "@@ -29,11 +31,14 @@\n \n     private final Multimap<Path, FileUpdateListener> listeners = ArrayListMultimap.create(20, 4);\n     private WatchService watcher;\n+    private Optional<JabRefException> filesystemMonitorFailure;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTMwMjQxOA=="}, "originalCommit": {"oid": "63dabffe4ef99a715c60429e2c676c780f406042"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3OTU0NTM2OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/jabref/model/util/DummyFileUpdateMonitor.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMDowNjoyNVrOGpbU7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMDowNjoyNVrOGpbU7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA5MjUyNw==", "bodyText": "The exception was removed here, but not in the interface. I think, it should also be removed here (and the JavaDoc be adapted).\nWith the current implementation, it does not throw an exception if the file does not exist.", "url": "https://github.com/JabRef/jabref/pull/6637#discussion_r446092527", "createdAt": "2020-06-26T10:06:25Z", "author": {"login": "koppor"}, "path": "src/main/java/org/jabref/model/util/DummyFileUpdateMonitor.java", "diffHunk": "@@ -9,12 +8,17 @@\n  */\n public class DummyFileUpdateMonitor implements FileUpdateMonitor {\n     @Override\n-    public void addListenerForFile(Path file, FileUpdateListener listener) throws IOException {\n+    public void addListenerForFile(Path file, FileUpdateListener listener) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "53ae78f88aae49c2112dcc16f70207e78ca55585"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3OTU1MDk0OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/jabref/JabRefGUI.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNlQxMDowODozNFrOGpbYtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxNDo0ODo0MlrOGrpNtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA5MzQ5NQ==", "bodyText": "I think, this has to go in one line so that the localization consistency check works. --> We have all keys in Localiazation_en.properties and a check checking all .java files whether the key set in the property file matches the language keys used in the code.", "url": "https://github.com/JabRef/jabref/pull/6637#discussion_r446093495", "createdAt": "2020-06-26T10:08:34Z", "author": {"login": "koppor"}, "path": "src/main/java/org/jabref/JabRefGUI.java", "diffHunk": "@@ -104,6 +104,13 @@ private void openWindow(Stage mainStage) {\n             }\n         });\n         Platform.runLater(this::openDatabases);\n+\n+        if (!(Globals.getFileUpdateMonitor().isActive())) {\n+            this.getMainFrame().getDialogService()\n+                    .showErrorDialogAndWait(Localization.lang(\"Unable to monitor file changes. Please close files \" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "53ae78f88aae49c2112dcc16f70207e78ca55585"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA5NjM4MQ==", "bodyText": "Just run LocalizationConsistencyTest under l10n", "url": "https://github.com/JabRef/jabref/pull/6637#discussion_r446096381", "createdAt": "2020-06-26T10:14:49Z", "author": {"login": "Siedlerchr"}, "path": "src/main/java/org/jabref/JabRefGUI.java", "diffHunk": "@@ -104,6 +104,13 @@ private void openWindow(Stage mainStage) {\n             }\n         });\n         Platform.runLater(this::openDatabases);\n+\n+        if (!(Globals.getFileUpdateMonitor().isActive())) {\n+            this.getMainFrame().getDialogService()\n+                    .showErrorDialogAndWait(Localization.lang(\"Unable to monitor file changes. Please close files \" +", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA5MzQ5NQ=="}, "originalCommit": {"oid": "53ae78f88aae49c2112dcc16f70207e78ca55585"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODQxNzIwNA==", "bodyText": "I added this to Localization_en.properties and LocalizationConsistencyTest passes all 49 checks.", "url": "https://github.com/JabRef/jabref/pull/6637#discussion_r448417204", "createdAt": "2020-07-01T14:48:42Z", "author": null, "path": "src/main/java/org/jabref/JabRefGUI.java", "diffHunk": "@@ -104,6 +104,13 @@ private void openWindow(Stage mainStage) {\n             }\n         });\n         Platform.runLater(this::openDatabases);\n+\n+        if (!(Globals.getFileUpdateMonitor().isActive())) {\n+            this.getMainFrame().getDialogService()\n+                    .showErrorDialogAndWait(Localization.lang(\"Unable to monitor file changes. Please close files \" +", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjA5MzQ5NQ=="}, "originalCommit": {"oid": "53ae78f88aae49c2112dcc16f70207e78ca55585"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1753, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}