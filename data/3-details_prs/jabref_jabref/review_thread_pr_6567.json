{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1NTg1NzQ4", "number": 6567, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxMTowMjo1OFrOEBLFag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNjo0Mjo1NFrOEB1Hmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5NjY1NjQyOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/jabref/logic/xmp/XmpUtilReader.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxMTowMjo1OFrOGc4Q5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxMTozMzowNlrOGc4aaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjkzNTE0Mw==", "bodyText": "It returns an empty list, not an optional. Please adjust thar javadoc comment\nOtherwise looks good", "url": "https://github.com/JabRef/jabref/pull/6567#discussion_r432935143", "createdAt": "2020-05-31T11:02:58Z", "author": {"login": "Siedlerchr"}, "path": "src/main/java/org/jabref/logic/xmp/XmpUtilReader.java", "diffHunk": "@@ -104,7 +104,7 @@ private XmpUtilReader() {\n      * <p/>\n      *\n      *\n-     * @return empty Optional if no metadata has been found\n+     * @return empty Optional if no metadata has been found, or cannot properly find start or end tag in metadata", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9f9a55cb337662186d911e6ec6d3e9de36c31a70"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjkzNzU3Nw==", "bodyText": "Got it", "url": "https://github.com/JabRef/jabref/pull/6567#discussion_r432937577", "createdAt": "2020-05-31T11:33:06Z", "author": {"login": "ZhouSky"}, "path": "src/main/java/org/jabref/logic/xmp/XmpUtilReader.java", "diffHunk": "@@ -104,7 +104,7 @@ private XmpUtilReader() {\n      * <p/>\n      *\n      *\n-     * @return empty Optional if no metadata has been found\n+     * @return empty Optional if no metadata has been found, or cannot properly find start or end tag in metadata", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjkzNTE0Mw=="}, "originalCommit": {"oid": "9f9a55cb337662186d911e6ec6d3e9de36c31a70"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwMzU0MzMxOnYy", "diffSide": "RIGHT", "path": "src/test/java/org/jabref/logic/xmp/XmpUtilReaderTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNjo0Mjo1NFrOGd6lbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQxNzowMzoyNVrOGd7XAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAyMTc0MQ==", "bodyText": "You don't need reflection, the method getMetadata is implicitly caleld, you you can simple do this two lines:\n   List<BibEntry> entries = XmpUtilReader.readXmp(Path.of(XmpUtilShared.class.getResource(\"no_description_metadata.pdf\").toURI()), xmpPreferences);\n        assertEquals(Collections.emptyList(), entries);", "url": "https://github.com/JabRef/jabref/pull/6567#discussion_r434021741", "createdAt": "2020-06-02T16:42:54Z", "author": {"login": "Siedlerchr"}, "path": "src/test/java/org/jabref/logic/xmp/XmpUtilReaderTest.java", "diffHunk": "@@ -109,4 +112,16 @@ void testReadPDMetadata() throws IOException, URISyntaxException, ParseException\n \n         assertEquals(entryFromBibFile.get(), entries.get(0));\n     }\n+\n+    /**\n+     * Tests an pdf file with metadata which has no description section.\n+     */\n+    @Test\n+    void testGetXmpMetadataWithNoDescription() throws IOException, URISyntaxException, NoSuchMethodException, InvocationTargetException, IllegalAccessException {\n+        Method method = XmpUtilReader.class.getDeclaredMethod(\"getXmpMetadata\", PDDocument.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2291a76032c572970c924e4ffcd96a6e903c5193"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAzNDQzNA==", "bodyText": "Got it. Thanks.", "url": "https://github.com/JabRef/jabref/pull/6567#discussion_r434034434", "createdAt": "2020-06-02T17:03:25Z", "author": {"login": "ZhouSky"}, "path": "src/test/java/org/jabref/logic/xmp/XmpUtilReaderTest.java", "diffHunk": "@@ -109,4 +112,16 @@ void testReadPDMetadata() throws IOException, URISyntaxException, ParseException\n \n         assertEquals(entryFromBibFile.get(), entries.get(0));\n     }\n+\n+    /**\n+     * Tests an pdf file with metadata which has no description section.\n+     */\n+    @Test\n+    void testGetXmpMetadataWithNoDescription() throws IOException, URISyntaxException, NoSuchMethodException, InvocationTargetException, IllegalAccessException {\n+        Method method = XmpUtilReader.class.getDeclaredMethod(\"getXmpMetadata\", PDDocument.class);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDAyMTc0MQ=="}, "originalCommit": {"oid": "2291a76032c572970c924e4ffcd96a6e903c5193"}, "originalPosition": 27}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1740, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}