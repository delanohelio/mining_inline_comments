{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwNTM4NTk5", "number": 157, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwNzoyOTo0NFrOD3ggxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwOTo1NzoxOVrOD3jo5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NTMwOTQ4OnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwNzoyOTo0NFrOGNy2-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwNzoyOTo0NFrOGNy2-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzExNzk0Ng==", "bodyText": "wait until kernel and multi-tenancy release", "url": "https://github.com/wso2/identity-api-server/pull/157#discussion_r417117946", "createdAt": "2020-04-29T07:29:44Z", "author": {"login": "nilasini"}, "path": "pom.xml", "diffHunk": "@@ -524,8 +524,8 @@\n         <identity.inbound.saml2.version>5.7.6</identity.inbound.saml2.version>\n         <commons.beanutils.version>1.9.4</commons.beanutils.version>\n         <mavan.findbugsplugin.exclude.file>findbugs-exclude-filter.xml</mavan.findbugsplugin.exclude.file>\n-        <carbon.kernel.version>4.6.1-m3</carbon.kernel.version>\n-        <carbon.multitenancy.version>4.8.4</carbon.multitenancy.version>\n+        <carbon.kernel.version>4.6.1-m4</carbon.kernel.version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "579e54e93e00cf54690e3707bc7b87094c28234c"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NTgxMDYyOnYy", "diffSide": "RIGHT", "path": "components/org.wso2.carbon.identity.api.server.tenant.management/org.wso2.carbon.identity.api.server.tenant.management.v1/src/main/java/org/wso2/carbon/identity/api/server/tenant/management/v1/core/ServerTenantManagementService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwOTo1NDowN1rOGN3rtg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwOTo1NDowN1rOGN3rtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzE5Njk4Mg==", "bodyText": "extract to a constant", "url": "https://github.com/wso2/identity-api-server/pull/157#discussion_r417196982", "createdAt": "2020-04-29T09:54:07Z", "author": {"login": "IsuraD"}, "path": "components/org.wso2.carbon.identity.api.server.tenant.management/org.wso2.carbon.identity.api.server.tenant.management.v1/src/main/java/org/wso2/carbon/identity/api/server/tenant/management/v1/core/ServerTenantManagementService.java", "diffHunk": "@@ -196,6 +197,24 @@ private Tenant createTenantInfoBean(TenantModel tenantModel) throws TenantManage\n             tenant.setAdminFirstName(tenantModel.getOwners().get(0).getFirstname());\n             tenant.setAdminLastName(tenantModel.getOwners().get(0).getLastname());\n             tenant.setEmail(tenantModel.getOwners().get(0).getEmail());\n+            String provisioningMethod = tenantModel.getOwners().get(0).getProvisioningMethod();\n+            if (INLINE.equalsIgnoreCase(provisioningMethod) || \"invite-via-email\".", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "579e54e93e00cf54690e3707bc7b87094c28234c"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NTgyMDM0OnYy", "diffSide": "RIGHT", "path": "components/org.wso2.carbon.identity.api.server.tenant.management/org.wso2.carbon.identity.api.server.tenant.management.v1/src/main/java/org/wso2/carbon/identity/api/server/tenant/management/v1/core/ServerTenantManagementService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwOTo1Njo1NFrOGN3xuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwOTo1Njo1NFrOGN3xuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzE5ODUyMQ==", "bodyText": "provisioningMethod should be extensible. We better not limit to INLINE and invite-via-email. We don't need to check this and throw an error. we can write customizations based on the parameter value.", "url": "https://github.com/wso2/identity-api-server/pull/157#discussion_r417198521", "createdAt": "2020-04-29T09:56:54Z", "author": {"login": "IsuraD"}, "path": "components/org.wso2.carbon.identity.api.server.tenant.management/org.wso2.carbon.identity.api.server.tenant.management.v1/src/main/java/org/wso2/carbon/identity/api/server/tenant/management/v1/core/ServerTenantManagementService.java", "diffHunk": "@@ -196,6 +197,24 @@ private Tenant createTenantInfoBean(TenantModel tenantModel) throws TenantManage\n             tenant.setAdminFirstName(tenantModel.getOwners().get(0).getFirstname());\n             tenant.setAdminLastName(tenantModel.getOwners().get(0).getLastname());\n             tenant.setEmail(tenantModel.getOwners().get(0).getEmail());\n+            String provisioningMethod = tenantModel.getOwners().get(0).getProvisioningMethod();\n+            if (INLINE.equalsIgnoreCase(provisioningMethod) || \"invite-via-email\".\n+                    equalsIgnoreCase(provisioningMethod)) {\n+                if (INLINE.equalsIgnoreCase(provisioningMethod)) {\n+                    String password = tenantModel.getOwners().get(0).getPassword();\n+                    if (StringUtils.isBlank(password)) {\n+                        throw new TenantManagementClientException(TenantConstants.ErrorMessage.\n+                                ERROR_CODE_MISSING_REQUIRED_PARAMETER.getCode(),\n+                                String.format(TenantConstants.ErrorMessage.\n+                                        ERROR_CODE_MISSING_REQUIRED_PARAMETER.getMessage(), \"password\"));\n+                    }\n+                    tenant.setAdminPassword(password);\n+                }\n+                tenant.setProvisioningMethod(provisioningMethod);\n+            } else {\n+                throw new TenantManagementClientException(TenantConstants.ErrorMessage.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "579e54e93e00cf54690e3707bc7b87094c28234c"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5NTgyMTgzOnYy", "diffSide": "RIGHT", "path": "components/org.wso2.carbon.identity.api.server.tenant.management/org.wso2.carbon.identity.api.server.tenant.management.v1/src/main/resources/tenant-management.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwOTo1NzoxOVrOGN3yvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwOTo1NzoxOVrOGN3yvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzE5ODc4MQ==", "bodyText": "lets put the sample as inline", "url": "https://github.com/wso2/identity-api-server/pull/157#discussion_r417198781", "createdAt": "2020-04-29T09:57:19Z", "author": {"login": "IsuraD"}, "path": "components/org.wso2.carbon.identity.api.server.tenant.management/org.wso2.carbon.identity.api.server.tenant.management.v1/src/main/resources/tenant-management.yaml", "diffHunk": "@@ -451,6 +457,10 @@ components:\n           type: string\n           example: kim\n           description: Last name of the owner.\n+        provisioningMethod:\n+          type: string\n+          example: invite-via-email", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "579e54e93e00cf54690e3707bc7b87094c28234c"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1478, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}