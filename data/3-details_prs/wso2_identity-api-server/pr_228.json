{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE3OTYyOTAw", "number": 228, "title": "Add 'access' attribute to define the user authorization level for an application.", "bodyText": "Purpose\n\nAdd 'access' attribute to define the user authorization level for an application.\nThis will have the value, either \"READ\" or \"WRITE\" based on the user authorization level for that application.", "createdAt": "2020-11-09T18:42:47Z", "url": "https://github.com/wso2/identity-api-server/pull/228", "merged": true, "mergeCommit": {"oid": "91521e27a69ea1eeb669343414f88e3c5ce0b95e"}, "closed": true, "closedAt": "2020-11-11T06:56:43Z", "author": {"login": "thanujalk"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdbMk4SABqjM5ODAwMzQxMzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdbXkO7gFqTUyNzg4MjYzOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7e88bc4aad476e4cc1fb47f7f0b8b7a10f6989f5", "author": {"user": {"login": "thanujalk", "name": "Thanuja Lakmal"}}, "url": "https://github.com/wso2/identity-api-server/commit/7e88bc4aad476e4cc1fb47f7f0b8b7a10f6989f5", "committedDate": "2020-11-09T18:36:34Z", "message": "Add 'access' attribute to define the user authorizatio level for an application."}, "afterCommit": {"oid": "694a720a27d078498468886aec9fa9b1abd911c3", "author": {"user": {"login": "thanujalk", "name": "Thanuja Lakmal"}}, "url": "https://github.com/wso2/identity-api-server/commit/694a720a27d078498468886aec9fa9b1abd911c3", "committedDate": "2020-11-10T17:11:43Z", "message": "Add 'access' attribute to define the user authorization level for an application."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "694a720a27d078498468886aec9fa9b1abd911c3", "author": {"user": {"login": "thanujalk", "name": "Thanuja Lakmal"}}, "url": "https://github.com/wso2/identity-api-server/commit/694a720a27d078498468886aec9fa9b1abd911c3", "committedDate": "2020-11-10T17:11:43Z", "message": "Add 'access' attribute to define the user authorization level for an application."}, "afterCommit": {"oid": "2d2838857fa2f3d9d736d52b3e1c666fd7110e01", "author": {"user": {"login": "thanujalk", "name": "Thanuja Lakmal"}}, "url": "https://github.com/wso2/identity-api-server/commit/2d2838857fa2f3d9d736d52b3e1c666fd7110e01", "committedDate": "2020-11-11T04:28:13Z", "message": "Add 'access' attribute to define the user authorization level for an application."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3ODU5MTg3", "url": "https://github.com/wso2/identity-api-server/pull/228#pullrequestreview-527859187", "createdAt": "2020-11-11T04:45:30Z", "commit": {"oid": "2d2838857fa2f3d9d736d52b3e1c666fd7110e01"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQwNDo0NTozMVrOHw-Efw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQwNDo0NTozMVrOHw-Efw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTExMDY1NQ==", "bodyText": "Don't we need to check the ignorecase?", "url": "https://github.com/wso2/identity-api-server/pull/228#discussion_r521110655", "createdAt": "2020-11-11T04:45:31Z", "author": {"login": "IsuraD"}, "path": "components/org.wso2.carbon.identity.api.server.application.management/org.wso2.carbon.identity.api.server.application.management.v1/src/main/java/org/wso2/carbon/identity/api/server/application/management/v1/core/functions/application/ApplicationBasicInfoToApiModel.java", "diffHunk": "@@ -46,4 +61,24 @@ private String getApplicationLocation(String resourceId) {\n         return ContextLoader.buildURIForBody(\n                 Constants.V1_API_PATH_COMPONENT + APPLICATION_MANAGEMENT_PATH_COMPONENT + \"/\" + resourceId).toString();\n     }\n+\n+    private ApplicationListItem.AccessEnum getAccess(String applicationName) {\n+\n+        String username = ContextLoader.getUsernameFromContext();\n+        String tenantDomain = ContextLoader.getTenantDomainFromContext();\n+\n+        try {\n+            if (ApplicationConstants.LOCAL_SP.equals(applicationName) ||\n+                    (MultitenantConstants.SUPER_TENANT_DOMAIN_NAME.equals(tenantDomain)\n+                            && systemApplications != null && systemApplications.contains(applicationName)) ||", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d2838857fa2f3d9d736d52b3e1c666fd7110e01"}, "originalPosition": 54}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f311ab8288a1c679d5774265d5e207fcbe23ce1e", "author": {"user": {"login": "thanujalk", "name": "Thanuja Lakmal"}}, "url": "https://github.com/wso2/identity-api-server/commit/f311ab8288a1c679d5774265d5e207fcbe23ce1e", "committedDate": "2020-11-11T05:18:45Z", "message": "Add 'access' attribute to define the user authorization level for an application."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2d2838857fa2f3d9d736d52b3e1c666fd7110e01", "author": {"user": {"login": "thanujalk", "name": "Thanuja Lakmal"}}, "url": "https://github.com/wso2/identity-api-server/commit/2d2838857fa2f3d9d736d52b3e1c666fd7110e01", "committedDate": "2020-11-11T04:28:13Z", "message": "Add 'access' attribute to define the user authorization level for an application."}, "afterCommit": {"oid": "f311ab8288a1c679d5774265d5e207fcbe23ce1e", "author": {"user": {"login": "thanujalk", "name": "Thanuja Lakmal"}}, "url": "https://github.com/wso2/identity-api-server/commit/f311ab8288a1c679d5774265d5e207fcbe23ce1e", "committedDate": "2020-11-11T05:18:45Z", "message": "Add 'access' attribute to define the user authorization level for an application."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3ODgyNjM5", "url": "https://github.com/wso2/identity-api-server/pull/228#pullrequestreview-527882639", "createdAt": "2020-11-11T06:00:35Z", "commit": {"oid": "f311ab8288a1c679d5774265d5e207fcbe23ce1e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1326, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}