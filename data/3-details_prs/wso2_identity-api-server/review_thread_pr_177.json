{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4MjYwMjYy", "number": 177, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwNjowNToxNVrOEH0zcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMDowMzozMFrOEPedpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NjQwNjI2OnYy", "diffSide": "RIGHT", "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.v1/src/gen/java/org/wso2/carbon/identity/api/server/configs/v1/model/ServerConfig.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwNjowNToxNVrOGnafSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QwNTo0Nzo1M1rOGwcObw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzk4MTY0Mg==", "bodyText": "Shall we remove this comment if it is not required?", "url": "https://github.com/wso2/identity-api-server/pull/177#discussion_r443981642", "createdAt": "2020-06-23T06:05:15Z", "author": {"login": "ShanChathusanda93"}, "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.v1/src/gen/java/org/wso2/carbon/identity/api/server/configs/v1/model/ServerConfig.java", "diffHunk": "@@ -151,6 +154,32 @@ public ServerConfig addAuthenticatorsItem(AuthenticatorListItem authenticatorsIt\n         return this;\n     }\n \n+        /**", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0fab3079dcf8a8d33e735cd71117c034966ffb55"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQ0NzI3OQ==", "bodyText": "since this is auto-generated, IMO we don't have to remove this.", "url": "https://github.com/wso2/identity-api-server/pull/177#discussion_r453447279", "createdAt": "2020-07-13T05:47:53Z", "author": {"login": "dewniMW"}, "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.v1/src/gen/java/org/wso2/carbon/identity/api/server/configs/v1/model/ServerConfig.java", "diffHunk": "@@ -151,6 +154,32 @@ public ServerConfig addAuthenticatorsItem(AuthenticatorListItem authenticatorsIt\n         return this;\n     }\n \n+        /**", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mzk4MTY0Mg=="}, "originalCommit": {"oid": "0fab3079dcf8a8d33e735cd71117c034966ffb55"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyODU4NjU4OnYy", "diffSide": "RIGHT", "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.v1/src/main/resources/configs.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMDoxODo1NlrOGwiVyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxMDoxODo1NlrOGwiVyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzU0NzQ2Nw==", "bodyText": "I think better to remove this.", "url": "https://github.com/wso2/identity-api-server/pull/177#discussion_r453547467", "createdAt": "2020-07-13T10:18:56Z", "author": {"login": "ashensw"}, "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.v1/src/main/resources/configs.yaml", "diffHunk": "@@ -253,7 +253,156 @@ paths:\n             application/json:\n               schema:\n                 $ref: '#/components/schemas/Error'\n+  /configs/cors:\n+    get:\n+      tags:\n+        - CORS Configs\n+      summary: Retrieve the tenant CORS configuration.\n+      operationId: getCORSConfiguration\n+      description: Retrieve the tenant CORS configuration.\n+      responses:\n+        '200':\n+          description: Successful Response\n+          content:\n+            application/json:\n+              schema:\n+                $ref: '#/components/schemas/CORSConfig'\n+        '400':\n+          description: Bad Request\n+          content:\n+            application/json:\n+              schema:\n+                $ref: '#/components/schemas/Error'\n+        '401':\n+          description: Unauthorized\n+        '403':\n+          description: Forbidden\n+        '404':\n+          description: Not Found\n+          content:\n+            application/json:\n+              schema:\n+                $ref: '#/components/schemas/Error'\n+        '500':\n+          description: Server Error\n+          content:\n+            application/json:\n+              schema:\n+                $ref: '#/components/schemas/Error'\n+    patch:\n+      tags:\n+        - CORS Configs\n+      summary: Patch the tenant CORS configuration.\n+      operationId: patchCORSConfiguration\n+      description: A JSONPatch as defined by RFC 6902.\n+      requestBody:\n+        content:\n+          application/json:\n+            schema:\n+              $ref: '#/components/schemas/CORSPatchRequest'\n+        required: true\n+      responses:\n+        '200':\n+          description: Successful Response\n+        '400':\n+          description: Bad Request\n+          content:\n+            application/json:\n+              schema:\n+                $ref: '#/components/schemas/Error'\n+        '401':\n+          description: Unauthorized\n+        '403':\n+          description: Forbidden\n+        '404':\n+          description: Not Found\n+          content:\n+            application/json:\n+              schema:\n+                $ref: '#/components/schemas/Error'\n+        '500':\n+          description: Server Error\n+          content:\n+            application/json:\n+              schema:\n+                $ref: '#/components/schemas/Error'\n+  /configs/cors-origins:\n+    get:\n+      tags:\n+        - Tenant CORS origins\n+      summary: Retrieve the tenant CORS origins.\n+      operationId: getCORSOrigins\n+      description: Retrieve the tenant CORS origins.\n+      responses:\n+        '200':\n+          description: Successful Response\n+          content:\n+            application/json:\n+              schema:\n+                $ref: '#/components/schemas/CORSOriginsGetResponse'\n+        '400':\n+          description: Bad Request\n+          content:\n+            application/json:\n+              schema:\n+                $ref: '#/components/schemas/Error'\n+        '401':\n+          description: Unauthorized\n+        '403':\n+          description: Forbidden\n+        '404':\n+          description: Not Found\n+          content:\n+            application/json:\n+              schema:\n+                $ref: '#/components/schemas/Error'\n+        '500':\n+          description: Server Error\n+          content:\n+            application/json:\n+              schema:\n+                $ref: '#/components/schemas/Error'\n+    patch:\n+      tags:\n+        - Tenant CORS origins\n+      summary: Patch the tenant CORS origins.\n+      operationId: patchCORSOrigins\n+      description: A JSONPatch as defined by RFC 6902.\n+      requestBody:\n+        content:\n+          application/json:\n+            schema:\n+              $ref: '#/components/schemas/CORSOriginPatchRequest'\n+        required: true\n+      responses:\n+        '200':\n+          description: Successful Response\n+        '400':\n+          description: Bad Request\n+          content:\n+            application/json:\n+              schema:\n+                $ref: '#/components/schemas/Error'\n+        '401':\n+          description: Unauthorized\n+        '403':\n+          description: Forbidden\n+        '404':\n+          description: Not Found\n+          content:\n+            application/json:\n+              schema:\n+                $ref: '#/components/schemas/Error'\n+        '500':\n+          description: Server Error\n+          content:\n+            application/json:\n+              schema:\n+                $ref: '#/components/schemas/Error'\n servers:\n+  # Added by API Auto Mocking Plugin\n+  - description: SwaggerHub API Auto Mocking\n+    url: https://virtserver.swaggerhub.com/ivantha/wso2-cors-api/1.0.0", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f909d93866c8bb7457b723f7c5624b5b71eb891"}, "originalPosition": 170}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyOTM5ODc3OnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNDowMjoyOFrOGwp_Fg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNDowMjoyOFrOGwp_Fg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzY3MjcyNg==", "bodyText": "Shall we update the version?", "url": "https://github.com/wso2/identity-api-server/pull/177#discussion_r453672726", "createdAt": "2020-07-13T14:02:28Z", "author": {"login": "ashensw"}, "path": "pom.xml", "diffHunk": "@@ -510,7 +515,8 @@\n         <maven.buildnumber.plugin.version>1.4</maven.buildnumber.plugin.version>\n         <org.apache.felix.annotations.version>1.2.4</org.apache.felix.annotations.version>\n         <identity.governance.version>1.3.15</identity.governance.version>\n-        <carbon.identity.framework.version>5.18.0</carbon.identity.framework.version>\n+        <!--TODO-->\n+        <carbon.identity.framework.version>5.18.18-SNAPSHOT</carbon.identity.framework.version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6f909d93866c8bb7457b723f7c5624b5b71eb891"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NjYwMTA2OnYy", "diffSide": "RIGHT", "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.common/src/main/java/org/wso2/carbon/identity/api/server/configs/common/Constants.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwOTo1NDozOVrOGzM9fw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwOTo1NDozOVrOGzM9fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM0MjkxMQ==", "bodyText": "shall we define only the code here similar to the other error enums defined above? PREFIX can be defined in a constant.", "url": "https://github.com/wso2/identity-api-server/pull/177#discussion_r456342911", "createdAt": "2020-07-17T09:54:39Z", "author": {"login": "emswbandara"}, "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.common/src/main/java/org/wso2/carbon/identity/api/server/configs/common/Constants.java", "diffHunk": "@@ -46,13 +62,34 @@ private Constants() {\n         ERROR_CODE_ERROR_RETRIEVING_AUTHENTICATOR(\"65003\",\n                 \"Unable to retrieve authenticator.\",\n                 \"Server encountered an error while retrieving the authenticator for the identifier %s.\"),\n-        ERROR_CODE_AUTHENTICATOR_NOT_FOUND(\"60002\", \"Resource not found.\",\n+        ERROR_CODE_AUTHENTICATOR_NOT_FOUND(\"60002\",\n+                \"Resource not found.\",\n                 \"Unable to find a resource matching the provided authenticator identifier %s.\"),\n-        ERROR_CODE_INVALID_INPUT(\"60003\", \"Invalid input.\", \"One of the given inputs is invalid. %s.\"),\n-        ERROR_CODE_ERROR_UPDATING_CONFIGS(\"65004\", \"Unable to update server configs.\", \"Server encountered an \" +\n+        ERROR_CODE_INVALID_INPUT(\"60003\",\n+                \"Invalid input.\",\n+                \"One of the given inputs is invalid. %s.\"),\n+        ERROR_CODE_ERROR_UPDATING_CONFIGS(\"65004\",\n+                \"Unable to update server configs.\",\n+                \"Server encountered an \" +\n                 \"error while updating the server configs.\"),\n-        ERROR_CODE_ERROR_RETRIEVING_CONFIGS(\"65005\", \"Unable to retrieve server configs.\", \"Server encountered an \" +\n-                \"error while retrieving the server configs.\");\n+        ERROR_CODE_ERROR_RETRIEVING_CONFIGS(\"65005\",\n+                \"Unable to retrieve server configs.\",\n+                \"Server encountered an \" +\n+                \"error while retrieving the server configs.\"),\n+\n+        //TODO: What should be the error prefix?\n+        ERROR_CODE_CORS_CONFIG_RETRIEVE(\"RST-65001\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6837a3ba4ecfe205e4be67c83c815ee3a3611fa0"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NjYwNDYwOnYy", "diffSide": "RIGHT", "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.common/src/main/java/org/wso2/carbon/identity/api/server/configs/common/Constants.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwOTo1NTozMlrOGzM_mg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMDowOTozOFrOGzNbfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM0MzQ1MA==", "bodyText": "inline 77 and 78", "url": "https://github.com/wso2/identity-api-server/pull/177#discussion_r456343450", "createdAt": "2020-07-17T09:55:32Z", "author": {"login": "emswbandara"}, "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.common/src/main/java/org/wso2/carbon/identity/api/server/configs/common/Constants.java", "diffHunk": "@@ -46,13 +62,34 @@ private Constants() {\n         ERROR_CODE_ERROR_RETRIEVING_AUTHENTICATOR(\"65003\",\n                 \"Unable to retrieve authenticator.\",\n                 \"Server encountered an error while retrieving the authenticator for the identifier %s.\"),\n-        ERROR_CODE_AUTHENTICATOR_NOT_FOUND(\"60002\", \"Resource not found.\",\n+        ERROR_CODE_AUTHENTICATOR_NOT_FOUND(\"60002\",\n+                \"Resource not found.\",\n                 \"Unable to find a resource matching the provided authenticator identifier %s.\"),\n-        ERROR_CODE_INVALID_INPUT(\"60003\", \"Invalid input.\", \"One of the given inputs is invalid. %s.\"),\n-        ERROR_CODE_ERROR_UPDATING_CONFIGS(\"65004\", \"Unable to update server configs.\", \"Server encountered an \" +\n+        ERROR_CODE_INVALID_INPUT(\"60003\",\n+                \"Invalid input.\",\n+                \"One of the given inputs is invalid. %s.\"),\n+        ERROR_CODE_ERROR_UPDATING_CONFIGS(\"65004\",\n+                \"Unable to update server configs.\",\n+                \"Server encountered an \" +\n                 \"error while updating the server configs.\"),\n-        ERROR_CODE_ERROR_RETRIEVING_CONFIGS(\"65005\", \"Unable to retrieve server configs.\", \"Server encountered an \" +\n-                \"error while retrieving the server configs.\");\n+        ERROR_CODE_ERROR_RETRIEVING_CONFIGS(\"65005\",\n+                \"Unable to retrieve server configs.\",\n+                \"Server encountered an \" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6837a3ba4ecfe205e4be67c83c815ee3a3611fa0"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM1MDU5MQ==", "bodyText": "Here some messages can be inlined and some cannot. This way all the constants have a bit of formatting consistency and a little easy on the eyes. WDYT?", "url": "https://github.com/wso2/identity-api-server/pull/177#discussion_r456350591", "createdAt": "2020-07-17T10:09:38Z", "author": {"login": "ivantha"}, "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.common/src/main/java/org/wso2/carbon/identity/api/server/configs/common/Constants.java", "diffHunk": "@@ -46,13 +62,34 @@ private Constants() {\n         ERROR_CODE_ERROR_RETRIEVING_AUTHENTICATOR(\"65003\",\n                 \"Unable to retrieve authenticator.\",\n                 \"Server encountered an error while retrieving the authenticator for the identifier %s.\"),\n-        ERROR_CODE_AUTHENTICATOR_NOT_FOUND(\"60002\", \"Resource not found.\",\n+        ERROR_CODE_AUTHENTICATOR_NOT_FOUND(\"60002\",\n+                \"Resource not found.\",\n                 \"Unable to find a resource matching the provided authenticator identifier %s.\"),\n-        ERROR_CODE_INVALID_INPUT(\"60003\", \"Invalid input.\", \"One of the given inputs is invalid. %s.\"),\n-        ERROR_CODE_ERROR_UPDATING_CONFIGS(\"65004\", \"Unable to update server configs.\", \"Server encountered an \" +\n+        ERROR_CODE_INVALID_INPUT(\"60003\",\n+                \"Invalid input.\",\n+                \"One of the given inputs is invalid. %s.\"),\n+        ERROR_CODE_ERROR_UPDATING_CONFIGS(\"65004\",\n+                \"Unable to update server configs.\",\n+                \"Server encountered an \" +\n                 \"error while updating the server configs.\"),\n-        ERROR_CODE_ERROR_RETRIEVING_CONFIGS(\"65005\", \"Unable to retrieve server configs.\", \"Server encountered an \" +\n-                \"error while retrieving the server configs.\");\n+        ERROR_CODE_ERROR_RETRIEVING_CONFIGS(\"65005\",\n+                \"Unable to retrieve server configs.\",\n+                \"Server encountered an \" +", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM0MzQ1MA=="}, "originalCommit": {"oid": "6837a3ba4ecfe205e4be67c83c815ee3a3611fa0"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NjYwNjgwOnYy", "diffSide": "RIGHT", "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.common/src/main/java/org/wso2/carbon/identity/api/server/configs/common/Constants.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwOTo1NjoxOFrOGzNA9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMDoxMTo0MFrOGzNfAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM0Mzc5OA==", "bodyText": "can't we inline 77 and 78?", "url": "https://github.com/wso2/identity-api-server/pull/177#discussion_r456343798", "createdAt": "2020-07-17T09:56:18Z", "author": {"login": "dewniMW"}, "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.common/src/main/java/org/wso2/carbon/identity/api/server/configs/common/Constants.java", "diffHunk": "@@ -46,13 +62,34 @@ private Constants() {\n         ERROR_CODE_ERROR_RETRIEVING_AUTHENTICATOR(\"65003\",\n                 \"Unable to retrieve authenticator.\",\n                 \"Server encountered an error while retrieving the authenticator for the identifier %s.\"),\n-        ERROR_CODE_AUTHENTICATOR_NOT_FOUND(\"60002\", \"Resource not found.\",\n+        ERROR_CODE_AUTHENTICATOR_NOT_FOUND(\"60002\",\n+                \"Resource not found.\",\n                 \"Unable to find a resource matching the provided authenticator identifier %s.\"),\n-        ERROR_CODE_INVALID_INPUT(\"60003\", \"Invalid input.\", \"One of the given inputs is invalid. %s.\"),\n-        ERROR_CODE_ERROR_UPDATING_CONFIGS(\"65004\", \"Unable to update server configs.\", \"Server encountered an \" +\n+        ERROR_CODE_INVALID_INPUT(\"60003\",\n+                \"Invalid input.\",\n+                \"One of the given inputs is invalid. %s.\"),\n+        ERROR_CODE_ERROR_UPDATING_CONFIGS(\"65004\",\n+                \"Unable to update server configs.\",\n+                \"Server encountered an \" +\n                 \"error while updating the server configs.\"),\n-        ERROR_CODE_ERROR_RETRIEVING_CONFIGS(\"65005\", \"Unable to retrieve server configs.\", \"Server encountered an \" +\n-                \"error while retrieving the server configs.\");\n+        ERROR_CODE_ERROR_RETRIEVING_CONFIGS(\"65005\",\n+                \"Unable to retrieve server configs.\",\n+                \"Server encountered an \" +\n+                \"error while retrieving the server configs.\"),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6837a3ba4ecfe205e4be67c83c815ee3a3611fa0"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM1MTQ5MQ==", "bodyText": "#177 (comment)", "url": "https://github.com/wso2/identity-api-server/pull/177#discussion_r456351491", "createdAt": "2020-07-17T10:11:40Z", "author": {"login": "ivantha"}, "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.common/src/main/java/org/wso2/carbon/identity/api/server/configs/common/Constants.java", "diffHunk": "@@ -46,13 +62,34 @@ private Constants() {\n         ERROR_CODE_ERROR_RETRIEVING_AUTHENTICATOR(\"65003\",\n                 \"Unable to retrieve authenticator.\",\n                 \"Server encountered an error while retrieving the authenticator for the identifier %s.\"),\n-        ERROR_CODE_AUTHENTICATOR_NOT_FOUND(\"60002\", \"Resource not found.\",\n+        ERROR_CODE_AUTHENTICATOR_NOT_FOUND(\"60002\",\n+                \"Resource not found.\",\n                 \"Unable to find a resource matching the provided authenticator identifier %s.\"),\n-        ERROR_CODE_INVALID_INPUT(\"60003\", \"Invalid input.\", \"One of the given inputs is invalid. %s.\"),\n-        ERROR_CODE_ERROR_UPDATING_CONFIGS(\"65004\", \"Unable to update server configs.\", \"Server encountered an \" +\n+        ERROR_CODE_INVALID_INPUT(\"60003\",\n+                \"Invalid input.\",\n+                \"One of the given inputs is invalid. %s.\"),\n+        ERROR_CODE_ERROR_UPDATING_CONFIGS(\"65004\",\n+                \"Unable to update server configs.\",\n+                \"Server encountered an \" +\n                 \"error while updating the server configs.\"),\n-        ERROR_CODE_ERROR_RETRIEVING_CONFIGS(\"65005\", \"Unable to retrieve server configs.\", \"Server encountered an \" +\n-                \"error while retrieving the server configs.\");\n+        ERROR_CODE_ERROR_RETRIEVING_CONFIGS(\"65005\",\n+                \"Unable to retrieve server configs.\",\n+                \"Server encountered an \" +\n+                \"error while retrieving the server configs.\"),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM0Mzc5OA=="}, "originalCommit": {"oid": "6837a3ba4ecfe205e4be67c83c815ee3a3611fa0"}, "originalPosition": 45}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NjYwODcyOnYy", "diffSide": "RIGHT", "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.common/src/main/java/org/wso2/carbon/identity/api/server/configs/common/Constants.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwOTo1Njo1MlrOGzNCGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMDowNjo0MVrOGzNWXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM0NDA5MQ==", "bodyText": "Is this TODO still needed?", "url": "https://github.com/wso2/identity-api-server/pull/177#discussion_r456344091", "createdAt": "2020-07-17T09:56:52Z", "author": {"login": "dewniMW"}, "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.common/src/main/java/org/wso2/carbon/identity/api/server/configs/common/Constants.java", "diffHunk": "@@ -46,13 +62,34 @@ private Constants() {\n         ERROR_CODE_ERROR_RETRIEVING_AUTHENTICATOR(\"65003\",\n                 \"Unable to retrieve authenticator.\",\n                 \"Server encountered an error while retrieving the authenticator for the identifier %s.\"),\n-        ERROR_CODE_AUTHENTICATOR_NOT_FOUND(\"60002\", \"Resource not found.\",\n+        ERROR_CODE_AUTHENTICATOR_NOT_FOUND(\"60002\",\n+                \"Resource not found.\",\n                 \"Unable to find a resource matching the provided authenticator identifier %s.\"),\n-        ERROR_CODE_INVALID_INPUT(\"60003\", \"Invalid input.\", \"One of the given inputs is invalid. %s.\"),\n-        ERROR_CODE_ERROR_UPDATING_CONFIGS(\"65004\", \"Unable to update server configs.\", \"Server encountered an \" +\n+        ERROR_CODE_INVALID_INPUT(\"60003\",\n+                \"Invalid input.\",\n+                \"One of the given inputs is invalid. %s.\"),\n+        ERROR_CODE_ERROR_UPDATING_CONFIGS(\"65004\",\n+                \"Unable to update server configs.\",\n+                \"Server encountered an \" +\n                 \"error while updating the server configs.\"),\n-        ERROR_CODE_ERROR_RETRIEVING_CONFIGS(\"65005\", \"Unable to retrieve server configs.\", \"Server encountered an \" +\n-                \"error while retrieving the server configs.\");\n+        ERROR_CODE_ERROR_RETRIEVING_CONFIGS(\"65005\",\n+                \"Unable to retrieve server configs.\",\n+                \"Server encountered an \" +\n+                \"error while retrieving the server configs.\"),\n+\n+        //TODO: What should be the error prefix?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6837a3ba4ecfe205e4be67c83c815ee3a3611fa0"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM0OTI3Nw==", "bodyText": "The prefix for the error messages should be decided before merging.", "url": "https://github.com/wso2/identity-api-server/pull/177#discussion_r456349277", "createdAt": "2020-07-17T10:06:41Z", "author": {"login": "ivantha"}, "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.common/src/main/java/org/wso2/carbon/identity/api/server/configs/common/Constants.java", "diffHunk": "@@ -46,13 +62,34 @@ private Constants() {\n         ERROR_CODE_ERROR_RETRIEVING_AUTHENTICATOR(\"65003\",\n                 \"Unable to retrieve authenticator.\",\n                 \"Server encountered an error while retrieving the authenticator for the identifier %s.\"),\n-        ERROR_CODE_AUTHENTICATOR_NOT_FOUND(\"60002\", \"Resource not found.\",\n+        ERROR_CODE_AUTHENTICATOR_NOT_FOUND(\"60002\",\n+                \"Resource not found.\",\n                 \"Unable to find a resource matching the provided authenticator identifier %s.\"),\n-        ERROR_CODE_INVALID_INPUT(\"60003\", \"Invalid input.\", \"One of the given inputs is invalid. %s.\"),\n-        ERROR_CODE_ERROR_UPDATING_CONFIGS(\"65004\", \"Unable to update server configs.\", \"Server encountered an \" +\n+        ERROR_CODE_INVALID_INPUT(\"60003\",\n+                \"Invalid input.\",\n+                \"One of the given inputs is invalid. %s.\"),\n+        ERROR_CODE_ERROR_UPDATING_CONFIGS(\"65004\",\n+                \"Unable to update server configs.\",\n+                \"Server encountered an \" +\n                 \"error while updating the server configs.\"),\n-        ERROR_CODE_ERROR_RETRIEVING_CONFIGS(\"65005\", \"Unable to retrieve server configs.\", \"Server encountered an \" +\n-                \"error while retrieving the server configs.\");\n+        ERROR_CODE_ERROR_RETRIEVING_CONFIGS(\"65005\",\n+                \"Unable to retrieve server configs.\",\n+                \"Server encountered an \" +\n+                \"error while retrieving the server configs.\"),\n+\n+        //TODO: What should be the error prefix?", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM0NDA5MQ=="}, "originalCommit": {"oid": "6837a3ba4ecfe205e4be67c83c815ee3a3611fa0"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NjYxNjY3OnYy", "diffSide": "RIGHT", "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.v1/src/main/java/org/wso2/carbon/identity/api/server/configs/v1/core/ServerConfigManagementService.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwOTo1OToyNlrOGzNHNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMTo0ODoxNVrOG1e3Ag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM0NTM5OQ==", "bodyText": "can path be null here?", "url": "https://github.com/wso2/identity-api-server/pull/177#discussion_r456345399", "createdAt": "2020-07-17T09:59:26Z", "author": {"login": "dewniMW"}, "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.v1/src/main/java/org/wso2/carbon/identity/api/server/configs/v1/core/ServerConfigManagementService.java", "diffHunk": "@@ -246,6 +262,192 @@ public void updateInboundScimConfigs(ScimConfig scimConfig) {\n         }\n     }\n \n+    /**\n+     * Get a list of CORS origins allowed by the tenant.\n+     *\n+     * @return List of CORSOriginGetObject.\n+     */\n+    public List<CORSOriginGetObject> getCORSOrigins() {\n+\n+        try {\n+            String tenantDomain = ContextLoader.getTenantDomainFromContext();\n+            List<CORSOrigin> corsOriginList = ConfigsServiceHolder.getInstance().getCorsManagementService()\n+                    .getTenantCORSOrigins(tenantDomain);\n+            return corsOriginList.stream().map(new CORSOriginToCORSOriginGetObject()).collect(Collectors.toList());\n+        } catch (CORSManagementServiceException e) {\n+            throw handleCORSException(e, Constants.ErrorMessage.ERROR_CODE_CORS_RETRIEVE, null);\n+        }\n+    }\n+\n+    /**\n+     * Patch CORS origins. Patch 'REPLACE', 'ADD', 'REMOVE' operations have been supported for primary attributes in\n+     * CORSOrigin model.\n+     *\n+     * @param patchRequest Patch request in Json Patch notation See\n+     *                     <a href=\"https://tools.ietf.org/html/rfc6902\">https://tools.ietf\n+     *                     .org/html/rfc6902</a>.\n+     */\n+    public void patchCORSOrigins(List<CORSOriginsPatch> patchRequest) {\n+\n+        if (CollectionUtils.isEmpty(patchRequest)) {\n+            return;\n+        }\n+\n+        String tenantDomain = ContextLoader.getTenantDomainFromContext();\n+\n+        for (CORSOriginsPatch corsOriginsPatch : patchRequest) {\n+            String path = corsOriginsPatch.getPath();\n+            CORSOriginsPatch.OperationEnum operation = corsOriginsPatch.getOperation();\n+            CORSOriginPatchObject corsOriginPatchObject = corsOriginsPatch.getValue();\n+\n+            try {\n+                // We support only 'REPLACE', 'ADD' and 'REMOVE' patch operations.\n+                if (operation == CORSOriginsPatch.OperationEnum.REPLACE) {\n+                    if (path.matches(Constants.CORS_ORIGIN_PATH_REGEX)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6837a3ba4ecfe205e4be67c83c815ee3a3611fa0"}, "originalPosition": 95}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODczMzMxNA==", "bodyText": "It can't.", "url": "https://github.com/wso2/identity-api-server/pull/177#discussion_r458733314", "createdAt": "2020-07-22T11:48:15Z", "author": {"login": "ivantha"}, "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.v1/src/main/java/org/wso2/carbon/identity/api/server/configs/v1/core/ServerConfigManagementService.java", "diffHunk": "@@ -246,6 +262,192 @@ public void updateInboundScimConfigs(ScimConfig scimConfig) {\n         }\n     }\n \n+    /**\n+     * Get a list of CORS origins allowed by the tenant.\n+     *\n+     * @return List of CORSOriginGetObject.\n+     */\n+    public List<CORSOriginGetObject> getCORSOrigins() {\n+\n+        try {\n+            String tenantDomain = ContextLoader.getTenantDomainFromContext();\n+            List<CORSOrigin> corsOriginList = ConfigsServiceHolder.getInstance().getCorsManagementService()\n+                    .getTenantCORSOrigins(tenantDomain);\n+            return corsOriginList.stream().map(new CORSOriginToCORSOriginGetObject()).collect(Collectors.toList());\n+        } catch (CORSManagementServiceException e) {\n+            throw handleCORSException(e, Constants.ErrorMessage.ERROR_CODE_CORS_RETRIEVE, null);\n+        }\n+    }\n+\n+    /**\n+     * Patch CORS origins. Patch 'REPLACE', 'ADD', 'REMOVE' operations have been supported for primary attributes in\n+     * CORSOrigin model.\n+     *\n+     * @param patchRequest Patch request in Json Patch notation See\n+     *                     <a href=\"https://tools.ietf.org/html/rfc6902\">https://tools.ietf\n+     *                     .org/html/rfc6902</a>.\n+     */\n+    public void patchCORSOrigins(List<CORSOriginsPatch> patchRequest) {\n+\n+        if (CollectionUtils.isEmpty(patchRequest)) {\n+            return;\n+        }\n+\n+        String tenantDomain = ContextLoader.getTenantDomainFromContext();\n+\n+        for (CORSOriginsPatch corsOriginsPatch : patchRequest) {\n+            String path = corsOriginsPatch.getPath();\n+            CORSOriginsPatch.OperationEnum operation = corsOriginsPatch.getOperation();\n+            CORSOriginPatchObject corsOriginPatchObject = corsOriginsPatch.getValue();\n+\n+            try {\n+                // We support only 'REPLACE', 'ADD' and 'REMOVE' patch operations.\n+                if (operation == CORSOriginsPatch.OperationEnum.REPLACE) {\n+                    if (path.matches(Constants.CORS_ORIGIN_PATH_REGEX)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM0NTM5OQ=="}, "originalCommit": {"oid": "6837a3ba4ecfe205e4be67c83c815ee3a3611fa0"}, "originalPosition": 95}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NjYzMjA0OnYy", "diffSide": "RIGHT", "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.v1/src/main/java/org/wso2/carbon/identity/api/server/configs/v1/function/CORSOriginToCORSOriginGetObject.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMDowMzozMFrOGzNQHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxMDowMzozMFrOGzNQHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjM0NzY3OQ==", "bodyText": "remove unnecessary new line", "url": "https://github.com/wso2/identity-api-server/pull/177#discussion_r456347679", "createdAt": "2020-07-17T10:03:30Z", "author": {"login": "emswbandara"}, "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.v1/src/main/java/org/wso2/carbon/identity/api/server/configs/v1/function/CORSOriginToCORSOriginGetObject.java", "diffHunk": "@@ -0,0 +1,42 @@\n+/*\n+ * Copyright (c) 2020, WSO2 Inc. (http://www.wso2.org) All Rights Reserved.\n+ *\n+ * WSO2 Inc. licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except\n+ * in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ * http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied. See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6837a3ba4ecfe205e4be67c83c815ee3a3611fa0"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1487, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}