{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0ODU3ODY2", "number": 193, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQwNToxMDozOVrOEWqCwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwNzowNTo1NFrOEjc5yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkyMTkyOTYyOnYy", "diffSide": "RIGHT", "path": "components/org.wso2.carbon.identity.api.server.application.management/org.wso2.carbon.identity.api.server.application.management.v1/src/main/java/org/wso2/carbon/identity/api/server/application/management/v1/core/ServerApplicationManagementService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQwNToxMDozOVrOG-BjIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQwNToxMDozOVrOG-BjIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzY5MDI3NA==", "bodyText": "Can we remove this additional line?", "url": "https://github.com/wso2/identity-api-server/pull/193#discussion_r467690274", "createdAt": "2020-08-10T05:10:39Z", "author": {"login": "mevan-karu"}, "path": "components/org.wso2.carbon.identity.api.server.application.management/org.wso2.carbon.identity.api.server.application.management.v1/src/main/java/org/wso2/carbon/identity/api/server/application/management/v1/core/ServerApplicationManagementService.java", "diffHunk": "@@ -812,6 +804,34 @@ private void deleteInbound(String applicationId, String inboundType) {\n             appToUpdate.getInboundAuthenticationConfig().setInboundAuthenticationRequestConfigs(filteredInbounds);\n             updateServiceProvider(applicationId, appToUpdate);\n         }\n+\n+        // Delete the associated CORS origins if the inboundType is oauth2.\n+        if (inboundType.equals(OAUTH2)) {\n+            String tenantDomain = PrivilegedCarbonContext.getThreadLocalCarbonContext().getTenantDomain();\n+            int tenantId = IdentityTenantUtil.getTenantId(tenantDomain);\n+            CORSOriginDAO corsOriginDAO = new CORSOriginDAOImpl();\n+            List<CORSOrigin> existingCORSOrigins = null;\n+            ApplicationBasicInfo applicationBasicInfo = null;\n+            try {\n+                applicationBasicInfo = ApplicationManagementService.getInstance()\n+                        .getApplicationBasicInfoByResourceId(applicationId, tenantDomain);\n+                existingCORSOrigins = corsOriginDAO.getCORSOriginsByApplicationId(\n+                        applicationBasicInfo.getApplicationId(), tenantId);\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "de6822a45e37eede172bf0ec8abc469324c57170"}, "originalPosition": 97}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1NjA5MTYzOnYy", "diffSide": "RIGHT", "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.v1/src/gen/java/org/wso2/carbon/identity/api/server/configs/v1/model/CORSConfig.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwNzowNTo1NFrOHRzptA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwMzoyMTo0MVrOHWU7RQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQzNDEwMA==", "bodyText": "Fix character length", "url": "https://github.com/wso2/identity-api-server/pull/193#discussion_r488434100", "createdAt": "2020-09-15T07:05:54Z", "author": {"login": "jeradrutnam"}, "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.v1/src/gen/java/org/wso2/carbon/identity/api/server/configs/v1/model/CORSConfig.java", "diffHunk": "@@ -239,13 +219,12 @@ public boolean equals(java.lang.Object o) {\n             Objects.equals(this.supportedHeaders, coRSConfig.supportedHeaders) &&\n             Objects.equals(this.exposedHeaders, coRSConfig.exposedHeaders) &&\n             Objects.equals(this.supportsCredentials, coRSConfig.supportsCredentials) &&\n-            Objects.equals(this.maxAge, coRSConfig.maxAge) &&\n-            Objects.equals(this.tagRequests, coRSConfig.tagRequests);\n+            Objects.equals(this.maxAge, coRSConfig.maxAge);\n     }\n \n     @Override\n     public int hashCode() {\n-        return Objects.hash(allowGenericHttpRequests, allowSubdomains, supportedMethods, supportedHeaders, exposedHeaders, supportsCredentials, maxAge, tagRequests);\n+        return Objects.hash(allowGenericHttpRequests, allowSubdomains, supportedMethods, supportedHeaders, exposedHeaders, supportsCredentials, maxAge);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df6828dbadeca0cab87d81f8334b02d8556b5697"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzE3MzU3Mw==", "bodyText": "This is a generated class.", "url": "https://github.com/wso2/identity-api-server/pull/193#discussion_r493173573", "createdAt": "2020-09-23T03:21:41Z", "author": {"login": "ivantha"}, "path": "components/org.wso2.carbon.identity.api.server.configs/org.wso2.carbon.identity.api.server.configs.v1/src/gen/java/org/wso2/carbon/identity/api/server/configs/v1/model/CORSConfig.java", "diffHunk": "@@ -239,13 +219,12 @@ public boolean equals(java.lang.Object o) {\n             Objects.equals(this.supportedHeaders, coRSConfig.supportedHeaders) &&\n             Objects.equals(this.exposedHeaders, coRSConfig.exposedHeaders) &&\n             Objects.equals(this.supportsCredentials, coRSConfig.supportsCredentials) &&\n-            Objects.equals(this.maxAge, coRSConfig.maxAge) &&\n-            Objects.equals(this.tagRequests, coRSConfig.tagRequests);\n+            Objects.equals(this.maxAge, coRSConfig.maxAge);\n     }\n \n     @Override\n     public int hashCode() {\n-        return Objects.hash(allowGenericHttpRequests, allowSubdomains, supportedMethods, supportedHeaders, exposedHeaders, supportsCredentials, maxAge, tagRequests);\n+        return Objects.hash(allowGenericHttpRequests, allowSubdomains, supportedMethods, supportedHeaders, exposedHeaders, supportsCredentials, maxAge);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODQzNDEwMA=="}, "originalCommit": {"oid": "df6828dbadeca0cab87d81f8334b02d8556b5697"}, "originalPosition": 46}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1495, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}