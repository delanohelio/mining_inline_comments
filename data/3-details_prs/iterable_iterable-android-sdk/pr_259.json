{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzNzc2NjUx", "number": 259, "title": "[MOB-1910] Resolve channel name as a string resource without logging warnings", "bodyText": "Fixes #250.\ngetString was logging warnings when a string resource was provided via android:resource. This changes the code a bit so we don't call getString/getInt. The logic is still the same.", "createdAt": "2020-08-06T04:41:36Z", "url": "https://github.com/Iterable/iterable-android-sdk/pull/259", "merged": true, "mergeCommit": {"oid": "12c1aed97adce8af051a0bebd161e53ba094f7d6"}, "closed": true, "closedAt": "2020-08-06T18:11:33Z", "author": {"login": "vbabenkoru"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8IRWoAH2gAyNDYzNzc2NjUxOmFlNDA2YmJkZjNiOGZlODQyMWVjZGI2YzIzNTM0M2IyMjljOWZhZWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8TpcSAFqTQ2Mjc1MDI1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ae406bbdf3b8fe8421ecdb6c235343b229c9faeb", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/ae406bbdf3b8fe8421ecdb6c235343b229c9faeb", "committedDate": "2020-08-06T04:39:44Z", "message": "Resolve channel name as a string resource without logging warnings"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNzUwMjAx", "url": "https://github.com/Iterable/iterable-android-sdk/pull/259#pullrequestreview-462750201", "createdAt": "2020-08-06T17:54:56Z", "commit": {"oid": "ae406bbdf3b8fe8421ecdb6c235343b229c9faeb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNzo1NDo1NlrOG8-PRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxNzo1NDo1NlrOG8-PRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjU4NzQ2Mw==", "bodyText": "I hope after all this, channelName never turns out null \ud83d\ude05", "url": "https://github.com/Iterable/iterable-android-sdk/pull/259#discussion_r466587463", "createdAt": "2020-08-06T17:54:56Z", "author": {"login": "Ayyanchira"}, "path": "iterableapi/src/main/java/com/iterable/iterableapi/IterableNotificationHelper.java", "diffHunk": "@@ -275,13 +275,16 @@ private String getChannelName(Context context) {\n             try {\n                 ApplicationInfo info = context.getPackageManager().getApplicationInfo(context.getPackageName(), PackageManager.GET_META_DATA);\n                 if (info.metaData != null) {\n-                    // Literal string value\n-                    channelName = info.metaData.getString(IterableConstants.NOTIFICATION_CHANNEL_NAME);\n-\n-                    // Try to read from a string resource\n-                    int stringId = info.metaData.getInt(IterableConstants.NOTIFICATION_CHANNEL_NAME);\n-                    if (channelName == null && stringId != 0) {\n-                        channelName = context.getString(stringId);\n+                    Object channelNameMetaData = info.metaData.get(IterableConstants.NOTIFICATION_CHANNEL_NAME);\n+                    if (channelNameMetaData instanceof String) {\n+                        // Literal string value\n+                        channelName = (String) channelNameMetaData;\n+                    } else if (channelNameMetaData instanceof Integer) {\n+                        // Try to read from a string resource\n+                        int stringId = (Integer) channelNameMetaData;\n+                        if (stringId != 0) {\n+                            channelName = context.getString(stringId);\n+                        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae406bbdf3b8fe8421ecdb6c235343b229c9faeb"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNzUwMjUy", "url": "https://github.com/Iterable/iterable-android-sdk/pull/259#pullrequestreview-462750252", "createdAt": "2020-08-06T17:55:00Z", "commit": {"oid": "ae406bbdf3b8fe8421ecdb6c235343b229c9faeb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 659, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}