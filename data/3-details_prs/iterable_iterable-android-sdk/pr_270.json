{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAyNTEzOTIx", "number": 270, "title": "Fixed the check for string equality by DT", "bodyText": "Doesn't call login logic if the auth token has not changed", "createdAt": "2020-10-13T16:06:23Z", "url": "https://github.com/Iterable/iterable-android-sdk/pull/270", "merged": true, "mergeCommit": {"oid": "f35040c00e35e7450a6b40b63fdccd52dc2219af"}, "closed": true, "closedAt": "2020-10-13T21:43:34Z", "author": {"login": "Ayyanchira"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdR3hZIAH2gAyNTAyNTEzOTIxOmFkMTcxYjljMjQ4MTU4NTFiZTQzZDFjYWU5N2JiNDIyNzE1ZjU3Nzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdSOiIAgH2gAyNTAyNTEzOTIxOjI2NTQ3MzFjYzFjNTY5MGQ1OTc5MjcwOGEzNDFkNDkzMWYxN2JiYTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ad171b9c24815851be43d1cae97bb422715f5779", "author": {"user": {"login": "davidtruong", "name": "David Truong"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/ad171b9c24815851be43d1cae97bb422715f5779", "committedDate": "2020-10-12T17:35:12Z", "message": "Fixed the check for string equality\nDoesn't call login logic if the auth token has not changed"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3Njc2OTE2", "url": "https://github.com/Iterable/iterable-android-sdk/pull/270#pullrequestreview-507676916", "createdAt": "2020-10-13T17:32:52Z", "commit": {"oid": "ad171b9c24815851be43d1cae97bb422715f5779"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNzozMjo1MlrOHgyBQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNzozMjo1MlrOHgyBQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDEzNjAwMQ==", "bodyText": "I think we can just leave the first part of the check (authToken != null && !authToken.equalsIgnoreCase(_authToken)).\nIt will return true if the new token is not null and is different from the current one. The second condition enables one case: when the new token is null and the old token is not null. I'm not sure when we could encounter that and not sure if we want to run login in that case.", "url": "https://github.com/Iterable/iterable-android-sdk/pull/270#discussion_r504136001", "createdAt": "2020-10-13T17:32:52Z", "author": {"login": "vbabenkoru"}, "path": "iterableapi/src/main/java/com/iterable/iterableapi/IterableApi.java", "diffHunk": "@@ -221,11 +221,11 @@ void setNotificationData(IterableNotificationData data) {\n \n     void setAuthToken(String authToken) {\n         if (isInitialized()) {\n-            if (_authToken != authToken) {\n+            if ((authToken != null && !authToken.equalsIgnoreCase(_authToken)) || (_authToken != null && !_authToken.equalsIgnoreCase(authToken))) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad171b9c24815851be43d1cae97bb422715f5779"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3NzQzMDQ4", "url": "https://github.com/Iterable/iterable-android-sdk/pull/270#pullrequestreview-507743048", "createdAt": "2020-10-13T19:01:57Z", "commit": {"oid": "ad171b9c24815851be43d1cae97bb422715f5779"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2654731cc1c5690d59792708a341d4931f17bba6", "author": {"user": {"login": "davidtruong", "name": "David Truong"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/2654731cc1c5690d59792708a341d4931f17bba6", "committedDate": "2020-10-13T20:23:49Z", "message": "calls login if the auth handler is not implemented."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 536, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}