{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1MDQxMDU0", "number": 286, "title": "[MOB-1012] Migrate to Github Actions", "bodyText": "", "createdAt": "2020-11-21T02:17:46Z", "url": "https://github.com/Iterable/iterable-android-sdk/pull/286", "merged": true, "mergeCommit": {"oid": "b1fea6b9fa08fecc45bd4ed8eda1d6db74ad9801"}, "closed": true, "closedAt": "2020-11-24T22:52:00Z", "author": {"login": "vbabenkoru"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdeiZZ2gBqjQwMjMzNjk5Mzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfk62agBqjQwMzEyOTA5MDg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d8e67555f6463b758ef780ead5585a96fd9fde06", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/d8e67555f6463b758ef780ead5585a96fd9fde06", "committedDate": "2020-11-21T02:17:08Z", "message": "Test"}, "afterCommit": {"oid": "d2d398b3a376dd13a100af6cb2b0b2f84e1fde95", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/d2d398b3a376dd13a100af6cb2b0b2f84e1fde95", "committedDate": "2020-11-21T02:19:21Z", "message": "Test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d2d398b3a376dd13a100af6cb2b0b2f84e1fde95", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/d2d398b3a376dd13a100af6cb2b0b2f84e1fde95", "committedDate": "2020-11-21T02:19:21Z", "message": "Test"}, "afterCommit": {"oid": "fba4dded1261bc48e9c91a728190e43c30fa7592", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/fba4dded1261bc48e9c91a728190e43c30fa7592", "committedDate": "2020-11-21T02:22:19Z", "message": "Test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fba4dded1261bc48e9c91a728190e43c30fa7592", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/fba4dded1261bc48e9c91a728190e43c30fa7592", "committedDate": "2020-11-21T02:22:19Z", "message": "Test"}, "afterCommit": {"oid": "f6fc6438b1f01274e8a42f85764d720d0f490fb7", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/f6fc6438b1f01274e8a42f85764d720d0f490fb7", "committedDate": "2020-11-21T02:27:13Z", "message": "Test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f6fc6438b1f01274e8a42f85764d720d0f490fb7", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/f6fc6438b1f01274e8a42f85764d720d0f490fb7", "committedDate": "2020-11-21T02:27:13Z", "message": "Test"}, "afterCommit": {"oid": "abf04227854883fa3654448109f19492525e21dc", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/abf04227854883fa3654448109f19492525e21dc", "committedDate": "2020-11-21T02:35:39Z", "message": "Test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "abf04227854883fa3654448109f19492525e21dc", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/abf04227854883fa3654448109f19492525e21dc", "committedDate": "2020-11-21T02:35:39Z", "message": "Test"}, "afterCommit": {"oid": "3b74306fbac40b5d92020acc895fcf819ee12505", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/3b74306fbac40b5d92020acc895fcf819ee12505", "committedDate": "2020-11-21T02:39:07Z", "message": "Test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3b74306fbac40b5d92020acc895fcf819ee12505", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/3b74306fbac40b5d92020acc895fcf819ee12505", "committedDate": "2020-11-21T02:39:07Z", "message": "Test"}, "afterCommit": {"oid": "892abb9e49ce1f5443b2126c9bfbacf97016dfcf", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/892abb9e49ce1f5443b2126c9bfbacf97016dfcf", "committedDate": "2020-11-21T04:14:02Z", "message": "Test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c08158403a52d700e2f589f8b8254affe1be626", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/6c08158403a52d700e2f589f8b8254affe1be626", "committedDate": "2020-11-21T04:15:59Z", "message": "Set up Github Actions CI"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "892abb9e49ce1f5443b2126c9bfbacf97016dfcf", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/892abb9e49ce1f5443b2126c9bfbacf97016dfcf", "committedDate": "2020-11-21T04:14:02Z", "message": "Test"}, "afterCommit": {"oid": "6c08158403a52d700e2f589f8b8254affe1be626", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/6c08158403a52d700e2f589f8b8254affe1be626", "committedDate": "2020-11-21T04:15:59Z", "message": "Set up Github Actions CI"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "971363caf186c7b45ccda62649bc751512d555a4", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/971363caf186c7b45ccda62649bc751512d555a4", "committedDate": "2020-11-21T05:18:32Z", "message": "Set up code coverage reporting"}, "afterCommit": {"oid": "65c58638e9cbd5cd45bf926c0dfc42dd11c02d2a", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/65c58638e9cbd5cd45bf926c0dfc42dd11c02d2a", "committedDate": "2020-11-24T01:18:19Z", "message": "Set up code coverage reporting"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "65c58638e9cbd5cd45bf926c0dfc42dd11c02d2a", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/65c58638e9cbd5cd45bf926c0dfc42dd11c02d2a", "committedDate": "2020-11-24T01:18:19Z", "message": "Set up code coverage reporting"}, "afterCommit": {"oid": "18aea682dce1f81e3c2b9bcf6a6e3052a0a2d150", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/18aea682dce1f81e3c2b9bcf6a6e3052a0a2d150", "committedDate": "2020-11-24T01:34:04Z", "message": "Set up code coverage reporting"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "18aea682dce1f81e3c2b9bcf6a6e3052a0a2d150", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/18aea682dce1f81e3c2b9bcf6a6e3052a0a2d150", "committedDate": "2020-11-24T01:34:04Z", "message": "Set up code coverage reporting"}, "afterCommit": {"oid": "1044fa5796efadf0e8335e65ab714935a5db635c", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/1044fa5796efadf0e8335e65ab714935a5db635c", "committedDate": "2020-11-24T02:04:18Z", "message": "Set up code coverage reporting"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3MDI4OTc4", "url": "https://github.com/Iterable/iterable-android-sdk/pull/286#pullrequestreview-537028978", "createdAt": "2020-11-24T02:26:31Z", "commit": {"oid": "1044fa5796efadf0e8335e65ab714935a5db635c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwMjoyNjozMVrOH4o6rg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwMjoyNjozMVrOH4o6rg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTE1MjY4Ng==", "bodyText": "I've disabled CodeClimate reporting for now.. Codecov works though.", "url": "https://github.com/Iterable/iterable-android-sdk/pull/286#discussion_r529152686", "createdAt": "2020-11-24T02:26:31Z", "author": {"login": "vbabenkoru"}, "path": ".github/workflows/build.yml", "diffHunk": "@@ -0,0 +1,119 @@\n+name: Build and Test\n+on:\n+  push:\n+    branches:\n+      - master\n+  pull_request:\n+jobs:\n+  check:\n+    name: Check\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: Checkout\n+        uses: actions/checkout@v2\n+\n+      - name: Validate Gradle Wrapper\n+        uses: gradle/wrapper-validation-action@v1\n+\n+      - name: Configure JDK\n+        uses: actions/setup-java@v1\n+        with:\n+            java-version: 1.8\n+\n+      - run: touch local.properties\n+\n+      - name: Test\n+        run: ./gradlew :iterableapi:checkstyle :iterableapi-ui:assembleDebug :iterableapi:javadoc :iterableapi-ui:javadoc\n+\n+  unit-tests:\n+    name: Unit tests\n+    runs-on: ubuntu-latest\n+    steps:\n+      - name: Checkout\n+        uses: actions/checkout@v2\n+\n+      - name: Validate Gradle Wrapper\n+        uses: gradle/wrapper-validation-action@v1\n+\n+      - name: Configure JDK\n+        uses: actions/setup-java@v1\n+        with:\n+            java-version: 1.8\n+\n+      - run: touch local.properties\n+\n+      - name: Test\n+        run: ./gradlew :iterableapi:jacocoTestDebugUnitTestReport :app:jacocoDebugTestReport\n+\n+      - name: Upload coverage data\n+        uses: actions/upload-artifact@v2\n+        with:\n+          name: unit-tests\n+          path: |\n+            ./**/build/**/jacoco*.xml\n+            ./**/build/**/report.xml\n+\n+  instrumentation-tests:\n+    name: Instrumentation tests\n+    runs-on: macos-latest\n+    steps:\n+      - name: Checkout\n+        uses: actions/checkout@v2\n+\n+      - name: Validate Gradle Wrapper\n+        uses: gradle/wrapper-validation-action@v1\n+\n+      - name: Configure JDK\n+        uses: actions/setup-java@v1\n+        with:\n+            java-version: 1.8\n+\n+      - run: touch local.properties\n+\n+      - name: Test\n+        uses: reactivecircus/android-emulator-runner@v2\n+        with:\n+          api-level: 28\n+          script: ./gradlew :iterableapi:connectedCheck :app:jacocoDebugAndroidTestReport\n+\n+      - name: Upload coverage data\n+        uses: actions/upload-artifact@v2\n+        with:\n+          name: instrumentation-tests\n+          path: |\n+            ./**/build/**/jacoco*.xml\n+            ./**/build/**/report.xml\n+\n+  report-coverage:\n+    name: Report coverage\n+    runs-on: ubuntu-latest\n+    needs: [unit-tests, instrumentation-tests]\n+    steps:\n+      - name: Checkout\n+        uses: actions/checkout@v2\n+\n+      - name: Configure JDK\n+        uses: actions/setup-java@v1\n+        with:\n+            java-version: 1.8\n+\n+      - run: curl -L https://codeclimate.com/downloads/test-reporter/test-reporter-latest-linux-amd64 > ./cc-test-reporter\n+      - run: chmod +x ./cc-test-reporter\n+      #- run: ./cc-test-reporter before-build\n+\n+      - name: Download unit tests coverage\n+        uses: actions/download-artifact@v2\n+        with:\n+          name: unit-tests\n+\n+      - name: Download instrumentation tests coverage\n+        uses: actions/download-artifact@v2\n+        with:\n+          name: instrumentation-tests\n+\n+      - run: bash <(curl -s https://codecov.io/bash)\n+      #- run: ./cc-test-reporter format-coverage app/build/reports/jacoco/jacocoDebugTestReport/jacocoDebugTestReport.xml --input-type jacoco -d", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1044fa5796efadf0e8335e65ab714935a5db635c"}, "originalPosition": 115}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1044fa5796efadf0e8335e65ab714935a5db635c", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/1044fa5796efadf0e8335e65ab714935a5db635c", "committedDate": "2020-11-24T02:04:18Z", "message": "Set up code coverage reporting"}, "afterCommit": {"oid": "5da69f186ac5fbf97a993bd90eb78db8badc7ee6", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/5da69f186ac5fbf97a993bd90eb78db8badc7ee6", "committedDate": "2020-11-24T07:32:13Z", "message": "Set up code coverage reporting"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5da69f186ac5fbf97a993bd90eb78db8badc7ee6", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/5da69f186ac5fbf97a993bd90eb78db8badc7ee6", "committedDate": "2020-11-24T07:32:13Z", "message": "Set up code coverage reporting"}, "afterCommit": {"oid": "94808deacdcb42994d47579a946644341c46d3fb", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/94808deacdcb42994d47579a946644341c46d3fb", "committedDate": "2020-11-24T07:33:46Z", "message": "Set up code coverage reporting"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "220f674979841460ae4e793923172e33799279b2", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/220f674979841460ae4e793923172e33799279b2", "committedDate": "2020-11-24T07:49:36Z", "message": "Set up code coverage reporting"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "94808deacdcb42994d47579a946644341c46d3fb", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/94808deacdcb42994d47579a946644341c46d3fb", "committedDate": "2020-11-24T07:33:46Z", "message": "Set up code coverage reporting"}, "afterCommit": {"oid": "220f674979841460ae4e793923172e33799279b2", "author": {"user": {"login": "vbabenkoru", "name": "Victor Babenko"}}, "url": "https://github.com/Iterable/iterable-android-sdk/commit/220f674979841460ae4e793923172e33799279b2", "committedDate": "2020-11-24T07:49:36Z", "message": "Set up code coverage reporting"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 556, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}