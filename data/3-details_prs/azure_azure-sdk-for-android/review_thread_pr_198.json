{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4NTY1MzUy", "number": 198, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwMToyNjoyNVrODlQt_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQwODo1NzoyNlrODnYTSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwMzk3ODIzOnYy", "diffSide": "RIGHT", "path": "build.gradle", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwMToyNjoyNVrOFyDh7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQwMDowNzoxMVrOFz9Xeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODAzMDk1OQ==", "bodyText": "Why can't we use ThreeTenApb in the tests?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/198#discussion_r388030959", "createdAt": "2020-03-05T01:26:25Z", "author": {"login": "bsiegel"}, "path": "build.gradle", "diffHunk": "@@ -122,6 +122,7 @@ allprojects {\n         retrofitVersion = \"2.6.2\"\n         staxApiVersion = \"1.0-2\"\n         threeTenAbpVersion = \"1.2.1\"\n+        threeTenBpVersion = \"1.4.0\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac07ce7a59a083bcacedb6a5dd34ef1ff3ab76d3"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODYyMjc4Nw==", "bodyText": "In short, because it uses Android APIs to obtain timezone data and we cannot make use of them when running unit tests. The README explains a bit more about it.\nIn case you want to see where I found about this solution, refer to this thread in the ThreeTenABP repository.", "url": "https://github.com/Azure/azure-sdk-for-android/pull/198#discussion_r388622787", "createdAt": "2020-03-05T23:20:28Z", "author": {"login": "vcolin7"}, "path": "build.gradle", "diffHunk": "@@ -122,6 +122,7 @@ allprojects {\n         retrofitVersion = \"2.6.2\"\n         staxApiVersion = \"1.0-2\"\n         threeTenAbpVersion = \"1.2.1\"\n+        threeTenBpVersion = \"1.4.0\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODAzMDk1OQ=="}, "originalCommit": {"oid": "ac07ce7a59a083bcacedb6a5dd34ef1ff3ab76d3"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODY0MjkxOA==", "bodyText": "Thanks - that makes sense. How hard would it be to just stick with java.util.Date & co? We could make some utility functions that accept ThreeTenABP instances and convert them to work with Date. I know that API sucks but if it's not a TON of work it might be nice to avoid adding this dep (even if it's only for test).", "url": "https://github.com/Azure/azure-sdk-for-android/pull/198#discussion_r388642918", "createdAt": "2020-03-06T00:27:47Z", "author": {"login": "bsiegel"}, "path": "build.gradle", "diffHunk": "@@ -122,6 +122,7 @@ allprojects {\n         retrofitVersion = \"2.6.2\"\n         staxApiVersion = \"1.0-2\"\n         threeTenAbpVersion = \"1.2.1\"\n+        threeTenBpVersion = \"1.4.0\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODAzMDk1OQ=="}, "originalCommit": {"oid": "ac07ce7a59a083bcacedb6a5dd34ef1ff3ab76d3"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDAyNzEzMA==", "bodyText": "I don't think it would be too hard but we have some classes like DateTimeRfc1123 the where we still probably need to import this dependency for testing, which is what I'm doing right now on this PR.", "url": "https://github.com/Azure/azure-sdk-for-android/pull/198#discussion_r390027130", "createdAt": "2020-03-10T00:07:11Z", "author": {"login": "vcolin7"}, "path": "build.gradle", "diffHunk": "@@ -122,6 +122,7 @@ allprojects {\n         retrofitVersion = \"2.6.2\"\n         staxApiVersion = \"1.0-2\"\n         threeTenAbpVersion = \"1.2.1\"\n+        threeTenBpVersion = \"1.4.0\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODAzMDk1OQ=="}, "originalCommit": {"oid": "ac07ce7a59a083bcacedb6a5dd34ef1ff3ab76d3"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyNjE5MjA5OnYy", "diffSide": "LEFT", "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/AddDateInterceptor.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQwODo1NzoyNlrOF1V5ww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQwODo1NzoyNlrOF1V5ww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTQ3NzY5OQ==", "bodyText": "We shouldn't unhide fields just so we can access them from tests. It ends up with our tests knowing too much about our internal structure of the code under test. When writing tests, it's okay to have some duplication rather than having to DRY up everything.", "url": "https://github.com/Azure/azure-sdk-for-android/pull/198#discussion_r391477699", "createdAt": "2020-03-12T08:57:26Z", "author": {"login": "bsiegel"}, "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/http/interceptor/AddDateInterceptor.java", "diffHunk": "@@ -20,12 +20,13 @@\n  * HTTP request.\n  */\n public class AddDateInterceptor implements Interceptor {\n-    private static final String DATE_HEADER = \"Date\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c8832746092e3b73ffd26021fb78d1f09ef01ff1"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2333, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}