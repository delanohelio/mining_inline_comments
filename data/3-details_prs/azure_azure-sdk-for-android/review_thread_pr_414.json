{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3MDkwNTky", "number": 414, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQyMTowNDowNFrOEwfAJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMToyMDoxMVrOEyjy7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5Mjc1MDQ1OnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQyMTowNDowNFrOHmFUMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMTowNToyNVrOHmzzhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTY5NTAyNQ==", "bodyText": "I wonder why we would prefer to throw this as a RuntimeException instead of the original type.", "url": "https://github.com/Azure/azure-sdk-for-android/pull/414#discussion_r509695025", "createdAt": "2020-10-21T21:04:04Z", "author": {"login": "vcolin7"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -1839,6 +1848,18 @@ private BlockBlobsStageBlockResponse stageBlockWithRestResponseIntern(String con\n         }\n         //\n         final String comp = \"block\";\n+\n+        if (computeMd5) {\n+            if (transactionalContentMD5 != null) {\n+                throw new IllegalArgumentException(\"'transactionalContentMD5' can not be set when 'computeMd5' is true.\");\n+            }\n+            try {\n+                transactionalContentMD5 = MessageDigest.getInstance(\"MD5\").digest(blockContent);\n+            } catch (NoSuchAlgorithmException e) {\n+                throw new RuntimeException(e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66270a9b4d0a4d6f1667057de1218359fc59bbc"}, "originalPosition": 77}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDMxMzg1Mw==", "bodyText": "This is what we do in Java usually. I think its just a remnant of some logging deficiency that used to exist and Im still not used to keeping the original type. Let me change to just throw the original exception.", "url": "https://github.com/Azure/azure-sdk-for-android/pull/414#discussion_r510313853", "createdAt": "2020-10-22T16:52:19Z", "author": {"login": "gapra-msft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -1839,6 +1848,18 @@ private BlockBlobsStageBlockResponse stageBlockWithRestResponseIntern(String con\n         }\n         //\n         final String comp = \"block\";\n+\n+        if (computeMd5) {\n+            if (transactionalContentMD5 != null) {\n+                throw new IllegalArgumentException(\"'transactionalContentMD5' can not be set when 'computeMd5' is true.\");\n+            }\n+            try {\n+                transactionalContentMD5 = MessageDigest.getInstance(\"MD5\").digest(blockContent);\n+            } catch (NoSuchAlgorithmException e) {\n+                throw new RuntimeException(e);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTY5NTAyNQ=="}, "originalCommit": {"oid": "c66270a9b4d0a4d6f1667057de1218359fc59bbc"}, "originalPosition": 77}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDMxNDYxOA==", "bodyText": "Hmm if I change it to just throw its mad that Im not declaring the exception as part of the method type.", "url": "https://github.com/Azure/azure-sdk-for-android/pull/414#discussion_r510314618", "createdAt": "2020-10-22T16:53:34Z", "author": {"login": "gapra-msft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -1839,6 +1848,18 @@ private BlockBlobsStageBlockResponse stageBlockWithRestResponseIntern(String con\n         }\n         //\n         final String comp = \"block\";\n+\n+        if (computeMd5) {\n+            if (transactionalContentMD5 != null) {\n+                throw new IllegalArgumentException(\"'transactionalContentMD5' can not be set when 'computeMd5' is true.\");\n+            }\n+            try {\n+                transactionalContentMD5 = MessageDigest.getInstance(\"MD5\").digest(blockContent);\n+            } catch (NoSuchAlgorithmException e) {\n+                throw new RuntimeException(e);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTY5NTAyNQ=="}, "originalCommit": {"oid": "c66270a9b4d0a4d6f1667057de1218359fc59bbc"}, "originalPosition": 77}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQ1NjcxMQ==", "bodyText": "Ok, let's leave it like this for now :)", "url": "https://github.com/Azure/azure-sdk-for-android/pull/414#discussion_r510456711", "createdAt": "2020-10-22T21:05:25Z", "author": {"login": "vcolin7"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -1839,6 +1848,18 @@ private BlockBlobsStageBlockResponse stageBlockWithRestResponseIntern(String con\n         }\n         //\n         final String comp = \"block\";\n+\n+        if (computeMd5) {\n+            if (transactionalContentMD5 != null) {\n+                throw new IllegalArgumentException(\"'transactionalContentMD5' can not be set when 'computeMd5' is true.\");\n+            }\n+            try {\n+                transactionalContentMD5 = MessageDigest.getInstance(\"MD5\").digest(blockContent);\n+            } catch (NoSuchAlgorithmException e) {\n+                throw new RuntimeException(e);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTY5NTAyNQ=="}, "originalCommit": {"oid": "c66270a9b4d0a4d6f1667057de1218359fc59bbc"}, "originalPosition": 77}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5Mjc1NTkxOnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/transfer/UploadRequest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQyMTowNToxMFrOHmFX0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQyMTowODozMFrOHmFhZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTY5NTk1NA==", "bodyText": "These two Javadoc entries should be swapped.", "url": "https://github.com/Azure/azure-sdk-for-android/pull/414#discussion_r509695954", "createdAt": "2020-10-21T21:05:10Z", "author": {"login": "vcolin7"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/transfer/UploadRequest.java", "diffHunk": "@@ -63,14 +67,23 @@ String getContainerName() {\n     }\n \n     /**\n-     * Get the name of the target blob holding uploaded file.\n+     * Get whether or not the library should calculate the md5 and send it for the service to verify.\n      *\n-     * @return The blob name.\n+     * @return Whether or not the library should calculate the md5 and send it for the service to verify.\n      */\n     String getBlobName() {\n         return this.blobName;\n     }\n \n+    /**\n+     * Get the name of the target blob holding uploaded file.\n+     *\n+     * @return The blob name.\n+     */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66270a9b4d0a4d6f1667057de1218359fc59bbc"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTY5ODQwNA==", "bodyText": "Whoops thanks for catching that", "url": "https://github.com/Azure/azure-sdk-for-android/pull/414#discussion_r509698404", "createdAt": "2020-10-21T21:08:30Z", "author": {"login": "gapra-msft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/transfer/UploadRequest.java", "diffHunk": "@@ -63,14 +67,23 @@ String getContainerName() {\n     }\n \n     /**\n-     * Get the name of the target blob holding uploaded file.\n+     * Get whether or not the library should calculate the md5 and send it for the service to verify.\n      *\n-     * @return The blob name.\n+     * @return Whether or not the library should calculate the md5 and send it for the service to verify.\n      */\n     String getBlobName() {\n         return this.blobName;\n     }\n \n+    /**\n+     * Get the name of the target blob holding uploaded file.\n+     *\n+     * @return The blob name.\n+     */", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTY5NTk1NA=="}, "originalCommit": {"oid": "c66270a9b4d0a4d6f1667057de1218359fc59bbc"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxNDUwNzMzOnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMToyMDoxMVrOHpRceQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMTozNjoyMlrOHpR7Fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzAzOTQ4MQ==", "bodyText": "I wonder if this should be a Boolean instead of boolean?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/414#discussion_r513039481", "createdAt": "2020-10-27T21:20:11Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -2197,6 +2205,7 @@ private BlockBlobsStageBlockResponse stageBlockWithRestResponseIntern(String con\n                                                                           byte[] blockContent,\n                                                                           byte[] transactionalContentMD5,\n                                                                           byte[] transactionalContentCrc64,\n+                                                                          boolean computeMd5,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "db753c2de4f8df1310628d205ae71a6c94fdf5d9"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzAzOTkxNQ==", "bodyText": "True, I think Boolean is easier for people", "url": "https://github.com/Azure/azure-sdk-for-android/pull/414#discussion_r513039915", "createdAt": "2020-10-27T21:21:05Z", "author": {"login": "gapra-msft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -2197,6 +2205,7 @@ private BlockBlobsStageBlockResponse stageBlockWithRestResponseIntern(String con\n                                                                           byte[] blockContent,\n                                                                           byte[] transactionalContentMD5,\n                                                                           byte[] transactionalContentCrc64,\n+                                                                          boolean computeMd5,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzAzOTQ4MQ=="}, "originalCommit": {"oid": "db753c2de4f8df1310628d205ae71a6c94fdf5d9"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzA0NzMxOQ==", "bodyText": "Fixed", "url": "https://github.com/Azure/azure-sdk-for-android/pull/414#discussion_r513047319", "createdAt": "2020-10-27T21:36:22Z", "author": {"login": "gapra-msft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -2197,6 +2205,7 @@ private BlockBlobsStageBlockResponse stageBlockWithRestResponseIntern(String con\n                                                                           byte[] blockContent,\n                                                                           byte[] transactionalContentMD5,\n                                                                           byte[] transactionalContentCrc64,\n+                                                                          boolean computeMd5,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzAzOTQ4MQ=="}, "originalCommit": {"oid": "db753c2de4f8df1310628d205ae71a6c94fdf5d9"}, "originalPosition": 61}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2313, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}