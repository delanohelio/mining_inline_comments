{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg2OTU4NDcy", "number": 340, "title": "Adding callbackWithHeader and updating callback signature to include Response", "bodyText": "As agreed during the guideline/review meeting, updating the Callback type to always provide raw Response (okhttp) along with the value. Adding CallbackWithHeader for APIs with a custom header.\nAdditionally, changes align the hand-written storage protocol layer to more look like a future auto-generated layer.", "createdAt": "2020-09-15T00:24:37Z", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340", "merged": true, "mergeCommit": {"oid": "8c7babc862d9b9a81d57d98b31ae5e09702dbacf"}, "closed": true, "closedAt": "2020-09-15T19:03:25Z", "author": {"login": "anuchandy"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdI8d4HAH2gAyNDg2OTU4NDcyOjljYWJmY2M2OTM3MTJjMjM4ZmJiODg1MmI0OTIxNTgxMjQ2YTM4NTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdJMk_UgFqTQ4ODk4MDk5MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9cabfcc693712c238fbb8852b4921581246a3857", "author": {"user": {"login": "anuchandy", "name": "Anu Thomas Chandy"}}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/9cabfcc693712c238fbb8852b4921581246a3857", "committedDate": "2020-09-15T00:15:34Z", "message": "Adding callbackWithHeader and updating callback signature to include Response"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4MjQ2MTI0", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#pullrequestreview-488246124", "createdAt": "2020-09-15T00:42:06Z", "commit": {"oid": "9cabfcc693712c238fbb8852b4921581246a3857"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwMDo0MjowN1rOHRsXFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwMDo1Nzo0M1rOHRsovw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMxNDY0NA==", "bodyText": "It is not clear H is a single or a collection. Consider making it clear. Single will be less useful, IMHO. If this can only be retrofit headers, make it clear, i.e., use the concrete rather than abstraction. Notice that okhttp3.Response already contains headers, what this additional H is meant for? Adding headers? but that doesn't make much sense in the response context (request maybe). I must be missing something", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#discussion_r488314644", "createdAt": "2020-09-15T00:42:07Z", "author": {"login": "JianpingChen"}, "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/http/CallbackWithHeader.java", "diffHunk": "@@ -0,0 +1,29 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.android.core.http;\n+\n+/**\n+ * Callback to receive a service operation result.\n+ *\n+ * @param <T> The type of the result.\n+ * @param <T> The type of the header.\n+ */\n+public interface CallbackWithHeader<T, H> {\n+    /**\n+     * The method to call on a successful result.\n+     *\n+     * @param result   The result.\n+     * @param header   The custom header value.\n+     * @param response The response.\n+     */\n+    void onSuccess(T result, H header, okhttp3.Response response);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cabfcc693712c238fbb8852b4921581246a3857"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMxODU0NQ==", "bodyText": "Check nullness?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#discussion_r488318545", "createdAt": "2020-09-15T00:55:27Z", "author": {"login": "JianpingChen"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/models/BlobsPage.java", "diffHunk": "@@ -0,0 +1,28 @@\n+package com.azure.android.storage.blob.models;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+public class BlobsPage {\n+    private final List<BlobItem> items;\n+    private final String pageId;\n+    private final String nextPageId;\n+\n+    public BlobsPage(List<BlobItem> items, String pageId, String nextPageId) {\n+        this.items = items == null ? new ArrayList<>() : items;\n+        this.pageId = pageId;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cabfcc693712c238fbb8852b4921581246a3857"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMxOTE2Nw==", "bodyText": "Fix annotation", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#discussion_r488319167", "createdAt": "2020-09-15T00:57:43Z", "author": {"login": "JianpingChen"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/models/ListBlobFlatSegmentHeaders.java", "diffHunk": "@@ -13,7 +13,7 @@\n  * Defines headers for ListBlobFlatSegment operation.\n  */\n @JacksonXmlRootElement(localName = \"Container-ListBlobFlatSegment-Headers\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cabfcc693712c238fbb8852b4921581246a3857"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4MjQ1MDc0", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#pullrequestreview-488245074", "createdAt": "2020-09-15T00:38:42Z", "commit": {"oid": "9cabfcc693712c238fbb8852b4921581246a3857"}, "state": "COMMENTED", "comments": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQwMDozODo0MlrOHRsTPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxODoyNjowN1rOHSOmMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMxMzY2Mg==", "bodyText": "nit\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * @param response  The response, if available for the failure.\n          \n          \n            \n                 * @param response  The response for the failure, if available.", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#discussion_r488313662", "createdAt": "2020-09-15T00:38:42Z", "author": {"login": "vcolin7"}, "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/http/Callback.java", "diffHunk": "@@ -12,14 +12,16 @@\n     /**\n      * The method to call on a successful result.\n      *\n+     * @param result   The result.\n      * @param response The response.\n      */\n-    void onResponse(T response);\n+    void onSuccess(T result, okhttp3.Response response);\n \n     /**\n      * The method to call on failure.\n      *\n-     * @param t A throwable with the failure details.\n+     * @param throwable A throwable with the failure details.\n+     * @param response  The response, if available for the failure.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cabfcc693712c238fbb8852b4921581246a3857"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMxMzkyOQ==", "bodyText": "nit\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * @param response  The response, if available for the failure.\n          \n          \n            \n                 * @param response  The response for the failure, if available.", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#discussion_r488313929", "createdAt": "2020-09-15T00:39:38Z", "author": {"login": "vcolin7"}, "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/http/CallbackWithHeader.java", "diffHunk": "@@ -0,0 +1,29 @@\n+// Copyright (c) Microsoft Corporation. All rights reserved.\n+// Licensed under the MIT License.\n+\n+package com.azure.android.core.http;\n+\n+/**\n+ * Callback to receive a service operation result.\n+ *\n+ * @param <T> The type of the result.\n+ * @param <T> The type of the header.\n+ */\n+public interface CallbackWithHeader<T, H> {\n+    /**\n+     * The method to call on a successful result.\n+     *\n+     * @param result   The result.\n+     * @param header   The custom header value.\n+     * @param response The response.\n+     */\n+    void onSuccess(T result, H header, okhttp3.Response response);\n+\n+    /**\n+     * The method to call on failure.\n+     *\n+     * @param throwable A throwable with the failure details.\n+     * @param response  The response, if available for the failure.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cabfcc693712c238fbb8852b4921581246a3857"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMxOTc2MA==", "bodyText": "Maybe this is a little outside of the scope of this PR but I was thinking it might make more sense to name this operation listBlobs()?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#discussion_r488319760", "createdAt": "2020-09-15T00:59:43Z", "author": {"login": "vcolin7"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java", "diffHunk": "@@ -244,11 +248,24 @@ public void cancel(Context context, long transferId) {\n     public void getBlobsInPage(String pageId,\n                                String containerName,\n                                ListBlobsOptions options,\n-                               Callback<List<BlobItem>> callback) {\n-        this.storageBlobServiceClient.getBlobsInPage(pageId,\n+                               Callback<BlobsPage> callback) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cabfcc693712c238fbb8852b4921581246a3857"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMxOTg1Mg==", "bodyText": "Same comment about naming this listBlobs()?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#discussion_r488319852", "createdAt": "2020-09-15T01:00:01Z", "author": {"login": "vcolin7"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java", "diffHunk": "@@ -266,24 +283,37 @@ public void getBlobsInPage(String pageId,\n      * @param callback          Callback that receives the response.\n      * @param cancellationToken The token to request cancellation.\n      */\n-    public void getBlobsInPageWithRestResponse(String pageId,\n-                                               String containerName,\n-                                               String prefix,\n-                                               Integer maxResults,\n-                                               List<ListBlobsIncludeItem> include,\n-                                               Integer timeout,\n-                                               String requestId,\n-                                               CancellationToken cancellationToken,\n-                                               Callback<ContainersListBlobFlatSegmentResponse> callback) {\n-        this.storageBlobServiceClient.getBlobsInPageWithRestResponse(pageId,\n+    public void getBlobsInPage(String pageId,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cabfcc693712c238fbb8852b4921581246a3857"}, "originalPosition": 91}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMyMDEzOA==", "bodyText": "I think list operations should use plurals.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    this.storageBlobServiceClient.listBlobFlatSegment(pageId,\n          \n          \n            \n                    this.storageBlobServiceClient.listBlobFlatSegments(pageId,", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#discussion_r488320138", "createdAt": "2020-09-15T01:01:11Z", "author": {"login": "vcolin7"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java", "diffHunk": "@@ -266,24 +283,37 @@ public void getBlobsInPage(String pageId,\n      * @param callback          Callback that receives the response.\n      * @param cancellationToken The token to request cancellation.\n      */\n-    public void getBlobsInPageWithRestResponse(String pageId,\n-                                               String containerName,\n-                                               String prefix,\n-                                               Integer maxResults,\n-                                               List<ListBlobsIncludeItem> include,\n-                                               Integer timeout,\n-                                               String requestId,\n-                                               CancellationToken cancellationToken,\n-                                               Callback<ContainersListBlobFlatSegmentResponse> callback) {\n-        this.storageBlobServiceClient.getBlobsInPageWithRestResponse(pageId,\n+    public void getBlobsInPage(String pageId,\n+                               String containerName,\n+                               String prefix,\n+                               Integer maxResults,\n+                               List<ListBlobsIncludeItem> include,\n+                               Integer timeout,\n+                               String requestId,\n+                               CancellationToken cancellationToken,\n+                               Callback<BlobsPage> callback) {\n+        this.storageBlobServiceClient.listBlobFlatSegment(pageId,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cabfcc693712c238fbb8852b4921581246a3857"}, "originalPosition": 100}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMyMDUzOQ==", "bodyText": "Is it ListBlobsFlatSegment, ListBlobFlatSegments or ListBlobFlatSegment?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#discussion_r488320539", "createdAt": "2020-09-15T01:02:28Z", "author": {"login": "vcolin7"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java", "diffHunk": "@@ -266,24 +283,37 @@ public void getBlobsInPage(String pageId,\n      * @param callback          Callback that receives the response.\n      * @param cancellationToken The token to request cancellation.\n      */\n-    public void getBlobsInPageWithRestResponse(String pageId,\n-                                               String containerName,\n-                                               String prefix,\n-                                               Integer maxResults,\n-                                               List<ListBlobsIncludeItem> include,\n-                                               Integer timeout,\n-                                               String requestId,\n-                                               CancellationToken cancellationToken,\n-                                               Callback<ContainersListBlobFlatSegmentResponse> callback) {\n-        this.storageBlobServiceClient.getBlobsInPageWithRestResponse(pageId,\n+    public void getBlobsInPage(String pageId,\n+                               String containerName,\n+                               String prefix,\n+                               Integer maxResults,\n+                               List<ListBlobsIncludeItem> include,\n+                               Integer timeout,\n+                               String requestId,\n+                               CancellationToken cancellationToken,\n+                               Callback<BlobsPage> callback) {\n+        this.storageBlobServiceClient.listBlobFlatSegment(pageId,\n             containerName,\n             prefix,\n             maxResults,\n             include,\n             timeout,\n             requestId,\n             cancellationToken,\n-            callback);\n+            new CallbackWithHeader<ListBlobsFlatSegmentResponse, ListBlobFlatSegmentHeaders>() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cabfcc693712c238fbb8852b4921581246a3857"}, "originalPosition": 109}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMyMTkwNg==", "bodyText": "nit: To avoid code duplication we can have this method define the callback and call the overload that includes all optional arguments (the one below).", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#discussion_r488321906", "createdAt": "2020-09-15T01:07:13Z", "author": {"login": "vcolin7"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java", "diffHunk": "@@ -244,11 +248,24 @@ public void cancel(Context context, long transferId) {\n     public void getBlobsInPage(String pageId,\n                                String containerName,\n                                ListBlobsOptions options,\n-                               Callback<List<BlobItem>> callback) {\n-        this.storageBlobServiceClient.getBlobsInPage(pageId,\n+                               Callback<BlobsPage> callback) {\n+        this.storageBlobServiceClient.listBlobFlatSegment(pageId,\n             containerName,\n             options,\n-            callback);\n+            new CallbackWithHeader<ListBlobsFlatSegmentResponse, ListBlobFlatSegmentHeaders>() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cabfcc693712c238fbb8852b4921581246a3857"}, "originalPosition": 60}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMyMzU4MQ==", "bodyText": "This can either be listBlobs() or the following:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    this.storageBlobServiceClient.listBlobFlatSegment(pageId,\n          \n          \n            \n                    this.storageBlobServiceClient.listBlobFlatSegments(pageId,", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#discussion_r488323581", "createdAt": "2020-09-15T01:13:49Z", "author": {"login": "vcolin7"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java", "diffHunk": "@@ -244,11 +248,24 @@ public void cancel(Context context, long transferId) {\n     public void getBlobsInPage(String pageId,\n                                String containerName,\n                                ListBlobsOptions options,\n-                               Callback<List<BlobItem>> callback) {\n-        this.storageBlobServiceClient.getBlobsInPage(pageId,\n+                               Callback<BlobsPage> callback) {\n+        this.storageBlobServiceClient.listBlobFlatSegment(pageId,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cabfcc693712c238fbb8852b4921581246a3857"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMyMzczNg==", "bodyText": "Do we need to name this rawDownload() if there is no other form of download in the impl client?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#discussion_r488323736", "createdAt": "2020-09-15T01:14:25Z", "author": {"login": "vcolin7"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java", "diffHunk": "@@ -398,23 +428,23 @@ public void rawDownload(String containerName,\n      * @param cancellationToken     The token to request cancellation.\n      * @param callback              Callback that receives the response.\n      */\n-    public void rawDownloadWithRestResponse(String containerName,\n-                                            String blobName,\n-                                            String snapshot,\n-                                            Integer timeout,\n-                                            BlobRange range,\n-                                            BlobRequestConditions blobRequestConditions,\n-                                            Boolean getRangeContentMd5,\n-                                            Boolean getRangeContentCrc64,\n-                                            String version,\n-                                            String requestId,\n-                                            CpkInfo cpkInfo,\n-                                            CancellationToken cancellationToken,\n-                                            Callback<BlobDownloadResponse> callback) {\n+    public void rawDownload(String containerName,\n+                            String blobName,\n+                            String snapshot,\n+                            Integer timeout,\n+                            BlobRange range,\n+                            BlobRequestConditions blobRequestConditions,\n+                            Boolean getRangeContentMd5,\n+                            Boolean getRangeContentCrc64,\n+                            String version,\n+                            String requestId,\n+                            CpkInfo cpkInfo,\n+                            CancellationToken cancellationToken,\n+                            CallbackWithHeader<ResponseBody, BlobDownloadHeaders> callback) {\n         range = range == null ? new BlobRange(0) : range;\n         blobRequestConditions = blobRequestConditions == null ? new BlobRequestConditions() : blobRequestConditions;\n \n-        storageBlobServiceClient.downloadWithRestResponse(containerName,\n+        storageBlobServiceClient.rawDownload(containerName,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cabfcc693712c238fbb8852b4921581246a3857"}, "originalPosition": 209}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODMyNjI2MA==", "bodyText": "The same comments about naming from the async client apply to this client.", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#discussion_r488326260", "createdAt": "2020-09-15T01:23:32Z", "author": {"login": "vcolin7"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobClient.java", "diffHunk": "@@ -6,6 +6,7 @@\n import android.content.Context;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cabfcc693712c238fbb8852b4921581246a3857"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODg3MTgxMg==", "bodyText": "nit\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public List<BlobItem>  getItems() {\n          \n          \n            \n                public List<BlobItem> getItems() {", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#discussion_r488871812", "createdAt": "2020-09-15T18:19:19Z", "author": {"login": "vcolin7"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/models/BlobsPage.java", "diffHunk": "@@ -0,0 +1,28 @@\n+package com.azure.android.storage.blob.models;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+public class BlobsPage {\n+    private final List<BlobItem> items;\n+    private final String pageId;\n+    private final String nextPageId;\n+\n+    public BlobsPage(List<BlobItem> items, String pageId, String nextPageId) {\n+        this.items = items == null ? new ArrayList<>() : items;\n+        this.pageId = pageId;\n+        this.nextPageId = nextPageId;\n+    }\n+\n+    public List<BlobItem>  getItems() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cabfcc693712c238fbb8852b4921581246a3857"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODg3MjYxOA==", "bodyText": "Naming: Is this going to be ListBlobFlatSegmentHeaders, ListBlobFlatSegmentsHeaders or ListBlobsHeaders?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#discussion_r488872618", "createdAt": "2020-09-15T18:20:47Z", "author": {"login": "vcolin7"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/models/ListBlobFlatSegmentHeaders.java", "diffHunk": "@@ -13,7 +13,7 @@\n  * Defines headers for ListBlobFlatSegment operation.\n  */\n @JacksonXmlRootElement(localName = \"Container-ListBlobFlatSegment-Headers\")\n-public final class ContainerListBlobFlatSegmentHeaders {\n+public final class ListBlobFlatSegmentHeaders {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cabfcc693712c238fbb8852b4921581246a3857"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODg3MzU4MQ==", "bodyText": "nit: I don't think we need to have a new line here.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    assertNotEquals(0, blobsPage.getItems()\n          \n          \n            \n                        .size());\n          \n          \n            \n                    assertNotEquals(0, blobsPage.getItems().size());", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#discussion_r488873581", "createdAt": "2020-09-15T18:22:40Z", "author": {"login": "vcolin7"}, "path": "sdk/storage/azure-storage-blob/src/test/java/com/azure/android/storage/blob/StorageBlobClientTest.java", "diffHunk": "@@ -85,14 +90,15 @@ public void getBlobsInPage() {\n \n         mockWebServer.enqueue(mockResponse);\n \n-        List<BlobItem> blobItems = storageBlobClient.getBlobsInPage(null,\n+        BlobsPage blobsPage = storageBlobClient.getBlobsInPage(null,\n             \"testContainer\",\n             null);\n \n         // Then a list containing the details of the blobs will be returned by the service and converted to BlobItem\n         // objects by the client.\n-        assertNotEquals(0, blobItems.size());\n-        assertEquals(\"test.jpg\", blobItems.get(0).getName());\n+        assertNotEquals(0, blobsPage.getItems()\n+            .size());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cabfcc693712c238fbb8852b4921581246a3857"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODg3NDQwMA==", "bodyText": "listBlobs maybe?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#discussion_r488874400", "createdAt": "2020-09-15T18:24:07Z", "author": {"login": "vcolin7"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -75,12 +73,12 @@\n         this.serializerAdapter = serviceClient.getSerializerAdapter();\n     }\n \n-    List<BlobItem> getBlobsInPage(String pageId,\n-                                  String containerName,\n-                                  ListBlobsOptions options) {\n+    ListBlobsFlatSegmentResponse listBlobFlatSegment(String pageId,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cabfcc693712c238fbb8852b4921581246a3857"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODg3NTU2OA==", "bodyText": "If there's no other type of download, do we really need to name this rawDownload()?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#discussion_r488875568", "createdAt": "2020-09-15T18:26:07Z", "author": {"login": "vcolin7"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -445,23 +407,23 @@ BlobDownloadResponse downloadWithRestResponse(String containerName,\n      * @param cpkInfo              Additional parameters for the operation.\n      * @param callback             Callback that receives the response.\n      */\n-    void downloadWithRestResponse(String containerName,\n-                                  String blobName,\n-                                  String snapshot,\n-                                  Integer timeout,\n-                                  String range,\n-                                  String leaseId,\n-                                  Boolean rangeGetContentMD5,\n-                                  Boolean rangeGetContentCRC64,\n-                                  OffsetDateTime ifModifiedSince,\n-                                  OffsetDateTime ifUnmodifiedSince,\n-                                  String ifMatch,\n-                                  String ifNoneMatch,\n-                                  String version,\n-                                  String requestId,\n-                                  CpkInfo cpkInfo,\n-                                  CancellationToken cancellationToken,\n-                                  Callback<BlobDownloadResponse> callback) {\n+    void rawDownload(String containerName,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9cabfcc693712c238fbb8852b4921581246a3857"}, "originalPosition": 254}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6706d3bbb99e9271d605d78c2aa475f6d27993c2", "author": {"user": {"login": "anuchandy", "name": "Anu Thomas Chandy"}}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/6706d3bbb99e9271d605d78c2aa475f6d27993c2", "committedDate": "2020-09-15T18:47:12Z", "message": "applying azure-core suggestions\n\nCo-authored-by: vcolin7 <vicolina@microsoft.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4OTc5NjQw", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#pullrequestreview-488979640", "createdAt": "2020-09-15T18:59:53Z", "commit": {"oid": "6706d3bbb99e9271d605d78c2aa475f6d27993c2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4OTgwOTkw", "url": "https://github.com/Azure/azure-sdk-for-android/pull/340#pullrequestreview-488980990", "createdAt": "2020-09-15T19:01:49Z", "commit": {"oid": "6706d3bbb99e9271d605d78c2aa475f6d27993c2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1219, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}