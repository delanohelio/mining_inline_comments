{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg4MTQ1MTU0", "number": 218, "title": "Unit testing serializer", "bodyText": "Thanks for taking the time to contribute. Please take a moment to fill out the information below.\nPartially addresses #189.\nChanges Proposed in this pull request:\n\nCreated unit tests for classes in the com.azure.android.core.util.serializer package.", "createdAt": "2020-03-14T04:10:33Z", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218", "merged": true, "mergeCommit": {"oid": "9aadb4c8bf974d6d57efe12be358dead367b37ca"}, "closed": true, "closedAt": "2020-03-18T21:37:13Z", "author": {"login": "vcolin7"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcOnBGJgFqTM3NjIyNjg2OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcO-OU1gBqjMxNDMyMzk5Nzc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2MjI2ODY5", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#pullrequestreview-376226869", "createdAt": "2020-03-17T16:57:36Z", "commit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "state": "COMMENTED", "comments": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxNjo1NzozNlrOF3la6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QxODoxODowM1rOF3ohAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzgyOTA5Nw==", "bodyText": "Duration.ofMillis(0) could be made a constant, no need to instantiate an instance each time this needs to be checked.", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#discussion_r393829097", "createdAt": "2020-03-17T16:57:36Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/internal/util/serializer/DurationSerializer.java", "diffHunk": "@@ -46,14 +46,14 @@ public static String toString(Duration duration) {\n         String result = null;\n \n         if (duration != null) {\n-            if (duration.get(ChronoUnit.MILLIS) == 0) {\n+            if (duration == Duration.ofMillis(0)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzgzMDUxNA==", "bodyText": "Does Duration.get(ChronoUnit) and Duration.toX result in the same thing? Reading the documentation for this class is a bit unclear on whether a duration of 1 year and 7 days will result in both being the same.", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#discussion_r393830514", "createdAt": "2020-03-17T16:59:39Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/internal/util/serializer/DurationSerializer.java", "diffHunk": "@@ -46,14 +46,14 @@ public static String toString(Duration duration) {\n         String result = null;\n \n         if (duration != null) {\n-            if (duration.get(ChronoUnit.MILLIS) == 0) {\n+            if (duration == Duration.ofMillis(0)) {\n                 result = \"PT0S\";\n             } else {\n                 final StringBuilder builder = new StringBuilder();\n \n                 builder.append('P');\n \n-                final long days = duration.get(ChronoUnit.DAYS);\n+                final long days = duration.toDays();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzgzMTg2OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    if (!iterator.hasNext()) {\n          \n          \n            \n                        return \"\";\n          \n          \n            \n                    }\n          \n          \n            \n            \n          \n          \n            \n                    final StringBuilder stringBuilder = new StringBuilder();\n          \n          \n            \n                    stringBuilder.append(iterator.next());\n          \n          \n            \n            \n          \n          \n            \n                    while (iterator.hasNext()) {\n          \n          \n            \n                        stringBuilder.append(delimiter);\n          \n          \n            \n                        stringBuilder.append(iterator.next());\n          \n          \n            \n                    }\n          \n          \n            \n            \n          \n          \n            \n                    return stringBuilder.toString();\n          \n          \n            \n                    final StringBuilder stringBuilder = new StringBuilder();\n          \n          \n            \n                    \n          \n          \n            \n                    while (iterator.hasNext()) {\n          \n          \n            \n                        stringBuilder.append(delimiter);\n          \n          \n            \n                        stringBuilder.append(iterator.next());\n          \n          \n            \n                    }\n          \n          \n            \n            \n          \n          \n            \n                    return stringBuilder.toString();", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#discussion_r393831868", "createdAt": "2020-03-17T17:01:38Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/internal/util/serializer/JacksonAdapter.java", "diffHunk": "@@ -309,4 +302,22 @@ private String serializeRaw(Object object) {\n             return null;\n         }\n     }\n+\n+    private static String join(@NonNull CharSequence delimiter, @NonNull Iterable tokens) {\n+        final Iterator<?> iterator = tokens.iterator();\n+\n+        if (!iterator.hasNext()) {\n+            return \"\";\n+        }\n+\n+        final StringBuilder stringBuilder = new StringBuilder();\n+        stringBuilder.append(iterator.next());\n+\n+        while (iterator.hasNext()) {\n+            stringBuilder.append(delimiter);\n+            stringBuilder.append(iterator.next());\n+        }\n+\n+        return stringBuilder.toString();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzgzMjU5MA==", "bodyText": "Any reason this was made into a local version instead of using TextUtils?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#discussion_r393832590", "createdAt": "2020-03-17T17:02:43Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/internal/util/serializer/JacksonAdapter.java", "diffHunk": "@@ -309,4 +302,22 @@ private String serializeRaw(Object object) {\n             return null;\n         }\n     }\n+\n+    private static String join(@NonNull CharSequence delimiter, @NonNull Iterable tokens) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzgzNTYzNw==", "bodyText": "Does this class need the copyright header?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#discussion_r393835637", "createdAt": "2020-03-17T17:07:26Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/test/java/com/azure/android/core/http/interceptor/LoggingInterceptorTest.java", "diffHunk": "@@ -1,6 +1,7 @@\n package com.azure.android.core.http.interceptor;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzgzNTczOA==", "bodyText": "Does this class need the copyright header?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#discussion_r393835738", "createdAt": "2020-03-17T17:07:37Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/main/java/com/azure/android/core/internal/util/serializer/JacksonAdapter.java", "diffHunk": "@@ -1,8 +1,9 @@\n package com.azure.android.core.internal.util.serializer;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzgzNTgxOQ==", "bodyText": "Does this class need the copyright header?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#discussion_r393835819", "createdAt": "2020-03-17T17:07:44Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/test/java/com/azure/android/core/internal/util/serializer/Base64UrlSerializerTest.java", "diffHunk": "@@ -0,0 +1,50 @@\n+package com.azure.android.core.internal.util.serializer;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzgzNTkwMg==", "bodyText": "Does this class need the copyright header?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#discussion_r393835902", "createdAt": "2020-03-17T17:07:50Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/test/java/com/azure/android/core/internal/util/serializer/ByteArraySerializerTest.java", "diffHunk": "@@ -0,0 +1,40 @@\n+package com.azure.android.core.internal.util.serializer;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzgzNTk5Mw==", "bodyText": "Does this class need the copyright header?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#discussion_r393835993", "createdAt": "2020-03-17T17:07:58Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/test/java/com/azure/android/core/internal/util/serializer/DateTimeRfc1123SerializerTest.java", "diffHunk": "@@ -0,0 +1,46 @@\n+package com.azure.android.core.internal.util.serializer;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzgzNjA0Nw==", "bodyText": "Does this class need the copyright header?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#discussion_r393836047", "createdAt": "2020-03-17T17:08:04Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/test/java/com/azure/android/core/internal/util/serializer/DateTimeSerializerTest.java", "diffHunk": "@@ -0,0 +1,183 @@\n+package com.azure.android.core.internal.util.serializer;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzgzNjE0OQ==", "bodyText": "Does this class need the copyright header?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#discussion_r393836149", "createdAt": "2020-03-17T17:08:13Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/test/java/com/azure/android/core/internal/util/serializer/DurationSerializerTest.java", "diffHunk": "@@ -0,0 +1,74 @@\n+package com.azure.android.core.internal.util.serializer;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzgzNjIxOQ==", "bodyText": "Does this class need the copyright header?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#discussion_r393836219", "createdAt": "2020-03-17T17:08:20Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/test/java/com/azure/android/core/internal/util/serializer/JacksonAdapterTest.java", "diffHunk": "@@ -0,0 +1,215 @@\n+package com.azure.android.core.internal.util.serializer;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzgzNjkyMg==", "bodyText": "Does this class need the copyright header?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#discussion_r393836922", "createdAt": "2020-03-17T17:09:28Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/test/java/com/azure/android/core/internal/util/serializer/SerializerFormatTest.java", "diffHunk": "@@ -0,0 +1,46 @@\n+package com.azure.android.core.internal.util.serializer;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzgzNjk5Mw==", "bodyText": "Does this class need the copyright header?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#discussion_r393836993", "createdAt": "2020-03-17T17:09:35Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/test/java/com/azure/android/core/internal/util/serializer/StringBuilderOutputStream.java", "diffHunk": "@@ -0,0 +1,16 @@\n+package com.azure.android.core.internal.util.serializer;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzgzNzA2NQ==", "bodyText": "Does this class need the copyright header?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#discussion_r393837065", "createdAt": "2020-03-17T17:09:40Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/test/java/com/azure/android/core/internal/util/serializer/TestHeaders.java", "diffHunk": "@@ -0,0 +1,73 @@\n+package com.azure.android.core.internal.util.serializer;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzgzNzEzNQ==", "bodyText": "Does this class need the copyright header?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#discussion_r393837135", "createdAt": "2020-03-17T17:09:47Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/test/java/com/azure/android/core/internal/util/serializer/TestModel.java", "diffHunk": "@@ -0,0 +1,64 @@\n+package com.azure.android.core.internal.util.serializer;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzg3NDE1MA==", "bodyText": "Does this need to be the object type of byte?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#discussion_r393874150", "createdAt": "2020-03-17T18:08:43Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/test/java/com/azure/android/core/internal/util/serializer/ByteArraySerializerTest.java", "diffHunk": "@@ -0,0 +1,40 @@\n+package com.azure.android.core.internal.util.serializer;\n+\n+import com.fasterxml.jackson.core.JsonFactory;\n+import com.fasterxml.jackson.core.JsonGenerator;\n+import com.fasterxml.jackson.databind.module.SimpleModule;\n+\n+import org.junit.Test;\n+\n+import java.io.ByteArrayOutputStream;\n+import java.io.IOException;\n+\n+import static org.junit.Assert.assertArrayEquals;\n+import static org.junit.Assert.assertNotNull;\n+\n+public class ByteArraySerializerTest {\n+\n+    @Test\n+    public void test_getModule() {\n+        SimpleModule module = ByteArraySerializer.getModule();\n+\n+        assertNotNull(module);\n+    }\n+\n+    @Test\n+    public void test_serialize() throws IOException {\n+        Byte[] byteObjects = new Byte[] { 84, 101, 115, 116, 32, 115, 116, 114, 105, 110, 103 };", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzg3NTQ5MQ==", "bodyText": "Mind putting a comment on the byte arrays that mentions their UTF-8 string representation? It'll make the tests more understandable, right now I can't really make heads or tails on whether this is correct since it is just sequences of numbers.", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#discussion_r393875491", "createdAt": "2020-03-17T18:10:52Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/test/java/com/azure/android/core/internal/util/serializer/ByteArraySerializerTest.java", "diffHunk": "@@ -0,0 +1,40 @@\n+package com.azure.android.core.internal.util.serializer;\n+\n+import com.fasterxml.jackson.core.JsonFactory;\n+import com.fasterxml.jackson.core.JsonGenerator;\n+import com.fasterxml.jackson.databind.module.SimpleModule;\n+\n+import org.junit.Test;\n+\n+import java.io.ByteArrayOutputStream;\n+import java.io.IOException;\n+\n+import static org.junit.Assert.assertArrayEquals;\n+import static org.junit.Assert.assertNotNull;\n+\n+public class ByteArraySerializerTest {\n+\n+    @Test\n+    public void test_getModule() {\n+        SimpleModule module = ByteArraySerializer.getModule();\n+\n+        assertNotNull(module);\n+    }\n+\n+    @Test\n+    public void test_serialize() throws IOException {\n+        Byte[] byteObjects = new Byte[] { 84, 101, 115, 116, 32, 115, 116, 114, 105, 110, 103 };", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzg3NjY0MQ==", "bodyText": "Mind adding a test for non-DateTimeRfc1123 or malformed representations being passed into this serializer? Would it be able to handle an ISO8601 date? What happens if GMT is missing from the date string? Could it handle a different time zone offset?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#discussion_r393876641", "createdAt": "2020-03-17T18:12:53Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/test/java/com/azure/android/core/internal/util/serializer/DateTimeRfc1123SerializerTest.java", "diffHunk": "@@ -0,0 +1,46 @@\n+package com.azure.android.core.internal.util.serializer;\n+\n+import com.azure.android.core.util.DateTimeRfc1123;\n+import com.fasterxml.jackson.core.JsonFactory;\n+import com.fasterxml.jackson.core.JsonGenerator;\n+import com.fasterxml.jackson.databind.module.SimpleModule;\n+\n+import org.junit.Test;\n+import org.threeten.bp.LocalDateTime;\n+import org.threeten.bp.OffsetDateTime;\n+import org.threeten.bp.ZoneId;\n+import org.threeten.bp.ZoneOffset;\n+import org.threeten.bp.format.DateTimeFormatter;\n+\n+import java.io.IOException;\n+import java.util.Locale;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertNotNull;\n+\n+public class DateTimeRfc1123SerializerTest {\n+    public static final DateTimeFormatter RFC1123_DATE_TIME_FORMATTER =\n+        DateTimeFormatter.ofPattern(\"EEE, dd MMM yyyy HH:mm:ss 'GMT'\").withZone(ZoneId.of(\"UTC\")).withLocale(Locale.US);\n+\n+    @Test\n+    public void test_getModule() {\n+        SimpleModule module = DateTimeRfc1123Serializer.getModule();\n+\n+        assertNotNull(module);\n+    }\n+\n+    @Test\n+    public void serializeDateTimeRfc1123() throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzg3NzY1OQ==", "bodyText": "This appears to be duplicated", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#discussion_r393877659", "createdAt": "2020-03-17T18:14:32Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/test/java/com/azure/android/core/internal/util/serializer/DateTimeSerializerTest.java", "diffHunk": "@@ -0,0 +1,183 @@\n+package com.azure.android.core.internal.util.serializer;\n+\n+import com.fasterxml.jackson.annotation.ObjectIdGenerator;\n+import com.fasterxml.jackson.core.Base64Variants;\n+import com.fasterxml.jackson.core.JsonFactory;\n+import com.fasterxml.jackson.core.JsonGenerator;\n+import com.fasterxml.jackson.databind.JsonMappingException;\n+import com.fasterxml.jackson.databind.JsonSerializer;\n+import com.fasterxml.jackson.databind.SerializationConfig;\n+import com.fasterxml.jackson.databind.SerializationFeature;\n+import com.fasterxml.jackson.databind.SerializerProvider;\n+import com.fasterxml.jackson.databind.cfg.BaseSettings;\n+import com.fasterxml.jackson.databind.cfg.ConfigOverrides;\n+import com.fasterxml.jackson.databind.introspect.Annotated;\n+import com.fasterxml.jackson.databind.introspect.BasicClassIntrospector;\n+import com.fasterxml.jackson.databind.introspect.BeanPropertyDefinition;\n+import com.fasterxml.jackson.databind.introspect.JacksonAnnotationIntrospector;\n+import com.fasterxml.jackson.databind.introspect.SimpleMixInResolver;\n+import com.fasterxml.jackson.databind.jsontype.impl.StdSubtypeResolver;\n+import com.fasterxml.jackson.databind.module.SimpleModule;\n+import com.fasterxml.jackson.databind.ser.SerializerFactory;\n+import com.fasterxml.jackson.databind.ser.impl.WritableObjectId;\n+import com.fasterxml.jackson.databind.type.TypeFactory;\n+import com.fasterxml.jackson.databind.util.RootNameLookup;\n+import com.fasterxml.jackson.databind.util.StdDateFormat;\n+\n+import org.junit.Test;\n+import org.threeten.bp.LocalDateTime;\n+import org.threeten.bp.OffsetDateTime;\n+import org.threeten.bp.ZoneId;\n+import org.threeten.bp.ZoneOffset;\n+import org.threeten.bp.format.DateTimeFormatter;\n+\n+import java.io.IOException;\n+import java.util.Locale;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertNotNull;\n+\n+public class DateTimeSerializerTest {\n+    private static final DateTimeFormatter RFC1123_DATE_TIME_FORMATTER =\n+        DateTimeFormatter.ofPattern(\"EEE, dd MMM yyyy HH:mm:ss 'GMT'\").withZone(ZoneId.of(\"UTC\")).withLocale(Locale.US);\n+\n+    @Test\n+    public void test_getModule() {\n+        SimpleModule module = DateTimeSerializer.getModule();\n+\n+        assertNotNull(module);\n+    }\n+\n+    @Test\n+    public void serializeDateTime_asNumber() throws IOException {\n+        // DateTime\n+        String testDate = \"Tue, 25 Feb 2020 00:59:22 GMT\";\n+        OffsetDateTime dateTime =\n+            OffsetDateTime.of(LocalDateTime.parse(testDate, RFC1123_DATE_TIME_FORMATTER), ZoneOffset.UTC);\n+\n+        // JsonGenerator and target OutputStream\n+        StringBuilderOutputStream outputStream = new StringBuilderOutputStream();\n+        JsonGenerator jsonGenerator = new JsonFactory().createGenerator(outputStream);\n+\n+        // SerializerProvider\n+        BaseSettings baseSettings = new BaseSettings(null, new JacksonAnnotationIntrospector(), null,\n+            TypeFactory.defaultInstance(), null, StdDateFormat.instance, null, Locale.getDefault(), null,\n+            Base64Variants.getDefaultVariant());\n+        SerializationConfig serializationConfig = new SerializationConfig(\n+            baseSettings.withClassIntrospector(new BasicClassIntrospector()), new StdSubtypeResolver(),\n+            new SimpleMixInResolver(null), new RootNameLookup(), new ConfigOverrides());\n+        SerializerProvider serializerProvider = new SerializerProvider() {\n+            @Override\n+            public WritableObjectId findObjectId(Object forPojo, ObjectIdGenerator<?> generatorType) {\n+                return null;\n+            }\n+\n+            @Override\n+            public JsonSerializer<Object> serializerInstance(Annotated annotated, Object serDef) throws JsonMappingException {\n+                return null;\n+            }\n+\n+            @Override\n+            public Object includeFilterInstance(BeanPropertyDefinition forProperty, Class<?> filterClass) throws JsonMappingException {\n+                return null;\n+            }\n+\n+            @Override\n+            public boolean includeFilterSuppressNulls(Object filter) throws JsonMappingException {\n+                return false;\n+            }\n+        };\n+        SerializerProvider serializerProviderStub =\n+            new SerializerProviderStub(serializerProvider, serializationConfig, null);\n+\n+        // Actual serialization\n+        new DateTimeSerializer().serialize(dateTime, jsonGenerator, serializerProviderStub);\n+        jsonGenerator.flush();\n+\n+        assertEquals(\"1582592362000\", outputStream.toString());\n+    }\n+\n+    @Test\n+    public void serializeDateTime_asString() throws IOException {\n+        //DateTime\n+        String testDate = \"Tue, 25 Feb 2020 00:59:22 GMT\";\n+        OffsetDateTime dateTime =\n+            OffsetDateTime.of(LocalDateTime.parse(testDate, RFC1123_DATE_TIME_FORMATTER), ZoneOffset.UTC);\n+\n+        // JsonGenerator and target OutputStream\n+        StringBuilderOutputStream outputStream = new StringBuilderOutputStream();\n+        JsonGenerator jsonGenerator = new JsonFactory().createGenerator(outputStream);\n+\n+        // SerializerProvider\n+        BaseSettings baseSettings = new BaseSettings(null, new JacksonAnnotationIntrospector(), null,\n+            TypeFactory.defaultInstance(), null, StdDateFormat.instance, null, Locale.getDefault(), null,\n+            Base64Variants.getDefaultVariant());\n+        SerializationConfig serializationConfig = new SerializationConfig(\n+            baseSettings.withClassIntrospector(new BasicClassIntrospector()), new StdSubtypeResolver(),\n+            new SimpleMixInResolver(null), new RootNameLookup(), new ConfigOverrides());\n+        serializationConfig = serializationConfig.without(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS);\n+        SerializerProvider serializerProvider = new SerializerProvider() {\n+            @Override\n+            public WritableObjectId findObjectId(Object forPojo, ObjectIdGenerator<?> generatorType) {\n+                return null;\n+            }\n+\n+            @Override\n+            public JsonSerializer<Object> serializerInstance(Annotated annotated, Object serDef) throws JsonMappingException {\n+                return null;\n+            }\n+\n+            @Override\n+            public Object includeFilterInstance(BeanPropertyDefinition forProperty, Class<?> filterClass) throws JsonMappingException {\n+                return null;\n+            }\n+\n+            @Override\n+            public boolean includeFilterSuppressNulls(Object filter) throws JsonMappingException {\n+                return false;\n+            }\n+        };", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "originalPosition": 139}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5Mzg3OTgwOQ==", "bodyText": "Are there tests for a duration deserializer?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#discussion_r393879809", "createdAt": "2020-03-17T18:18:03Z", "author": {"login": "alzimmermsft"}, "path": "sdk/core/azure-core/src/test/java/com/azure/android/core/internal/util/serializer/DurationSerializerTest.java", "diffHunk": "@@ -0,0 +1,74 @@\n+package com.azure.android.core.internal.util.serializer;\n+\n+import com.fasterxml.jackson.core.JsonFactory;\n+import com.fasterxml.jackson.core.JsonGenerator;\n+import com.fasterxml.jackson.databind.module.SimpleModule;\n+\n+import org.junit.Test;\n+import org.threeten.bp.Duration;\n+\n+import java.io.IOException;\n+\n+import static org.junit.Assert.assertEquals;\n+import static org.junit.Assert.assertNotNull;\n+\n+public class DurationSerializerTest {\n+    @Test\n+    public void test_getModule() {\n+        SimpleModule module = DurationSerializer.getModule();\n+\n+        assertNotNull(module);\n+    }\n+\n+    @Test\n+    public void serializeDuration() throws IOException {\n+        StringBuilderOutputStream outputStream = new StringBuilderOutputStream();\n+        JsonGenerator jsonGenerator = new JsonFactory().createGenerator(outputStream);\n+        DurationSerializer durationSerializer = new DurationSerializer();\n+\n+        durationSerializer.serialize(Duration.ofDays(3), jsonGenerator, null);\n+        jsonGenerator.flush();\n+\n+        assertEquals(\"\\\"P3D\\\"\", outputStream.toString());\n+    }\n+\n+    @Test\n+    public void duration_ofDays_toString() {\n+        assertEquals(\"P5D\", DurationSerializer.toString(Duration.ofDays(5)));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63b20c9b079f5e2f3157d557db0b7c179fb9001"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3MTY2MjEy", "url": "https://github.com/Azure/azure-sdk-for-android/pull/218#pullrequestreview-377166212", "createdAt": "2020-03-18T19:20:18Z", "commit": {"oid": "8cb7bc321ab12237c3e246462f3cd836102b3cc8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f580d6a0cc744a940d1d55ab167cd1196b3d464e", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/f580d6a0cc744a940d1d55ab167cd1196b3d464e", "committedDate": "2020-03-18T21:29:50Z", "message": "Created test classes for Base64UrlSerializer, ByteArraySerializer & SerializerFormat."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06df068b67cc74059233da8cddb7fad0a6eed5cb", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/06df068b67cc74059233da8cddb7fad0a6eed5cb", "committedDate": "2020-03-18T21:29:52Z", "message": "Made slight changes in Base64UrlSerializerTest to avoid hard-coded strings in some places."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "202186014bc25551bbec86ff05b175cf653b0e03", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/202186014bc25551bbec86ff05b175cf653b0e03", "committedDate": "2020-03-18T21:30:03Z", "message": "Created test classes for DateTimeRfc1123Serializer, DateTimeSerializer & DurationSerializer. Fixed DurationSerializer.toString()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "19a8552e72535de449a98003e4ec9e671650ce25", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/19a8552e72535de449a98003e4ec9e671650ce25", "committedDate": "2020-03-18T21:30:06Z", "message": "Created a test class for JacksonAdapter, as well as a two other helper classes for it."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2cae72f51633a58c078c352399f13afe16109eba", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/2cae72f51633a58c078c352399f13afe16109eba", "committedDate": "2020-03-18T21:30:09Z", "message": "redesigned and refactored some tests to get rid of the PowerMock dependency."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db4a79064a7e98996ca058ba30499da092a72401", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/db4a79064a7e98996ca058ba30499da092a72401", "committedDate": "2020-03-18T21:30:09Z", "message": "Fixed a couple test cases that wouldn't succeed because we were building the request url wrong."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6792400a025914851897ed9176c4c1fe3667e07a", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/6792400a025914851897ed9176c4c1fe3667e07a", "committedDate": "2020-03-18T21:30:09Z", "message": "Made a small change to DurationSerializer suggested by @alzimmermsft. Made a test in ByteArraySerializer easier to read by including the string representation of the byte arrays being compared. Refactored some tests in DateTimeSerializer to make them easier to read. Added copyright header to all serializer test classes."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8cb7bc321ab12237c3e246462f3cd836102b3cc8", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/8cb7bc321ab12237c3e246462f3cd836102b3cc8", "committedDate": "2020-03-17T21:32:09Z", "message": "Made a small change to DurationSerializer suggested by @alzimmermsft. Made a test in ByteArraySerializer easier to read by including the string representation of the byte arrays being compared. Refactored some tests in DateTimeSerializer to make them easier to read. Added copyright header to all serializer test classes."}, "afterCommit": {"oid": "6792400a025914851897ed9176c4c1fe3667e07a", "author": {"user": {"login": "vcolin7", "name": null}}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/6792400a025914851897ed9176c4c1fe3667e07a", "committedDate": "2020-03-18T21:30:09Z", "message": "Made a small change to DurationSerializer suggested by @alzimmermsft. Made a test in ByteArraySerializer easier to read by including the string representation of the byte arrays being compared. Refactored some tests in DateTimeSerializer to make them easier to read. Added copyright header to all serializer test classes."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1298, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}