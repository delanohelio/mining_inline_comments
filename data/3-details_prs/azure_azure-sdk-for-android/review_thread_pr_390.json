{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5NDQ0ODk1", "number": 390, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNzowNzoxM1rOErtSyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQyMjowMjowMlrOEwglqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MjY2MzEzOnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNzowNzoxM1rOHeoLNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNzowNzo1MVrOHeoMmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg3NzU1OA==", "bodyText": "nit. formatting", "url": "https://github.com/Azure/azure-sdk-for-android/pull/390#discussion_r501877558", "createdAt": "2020-10-08T17:07:13Z", "author": {"login": "gapra-msft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java", "diffHunk": "@@ -374,6 +375,61 @@ public void getBlobProperties(String containerName,\n             callback);\n     }\n \n+    /**\n+     * Changes a blob's metadata. The specified metadata in this method will replace existing metadata. If old values\n+     * must be preserved, they must be downloaded and included in the call to this method.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param metadata      Metadata to associate with the blob.\n+     * @param callback      Callback that receives the response.\n+     */\n+    public void setBlobMetadata(String containerName,\n+                                String blobName,\n+                                Map<String, String> metadata,\n+                                CallbackWithHeader<Void, BlobSetMetadataHeaders> callback) {\n+        storageBlobServiceClient.setBlobMetadata(containerName, blobName, metadata, callback);\n+    }\n+\n+    /**\n+     * Changes a blob's metadata. The specified metadata in this method will replace existing metadata. If old values\n+     * must be preserved, they must be downloaded and included in the call to this method.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param timeout           The timeout parameter is expressed in seconds. For more information, see", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bd94e742484e1b56ede506332bcf6ee5e98e5f36"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg3NzkxNA==", "bodyText": "I think you can just do Ctrl + Alt + L to format the whole file", "url": "https://github.com/Azure/azure-sdk-for-android/pull/390#discussion_r501877914", "createdAt": "2020-10-08T17:07:51Z", "author": {"login": "gapra-msft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java", "diffHunk": "@@ -374,6 +375,61 @@ public void getBlobProperties(String containerName,\n             callback);\n     }\n \n+    /**\n+     * Changes a blob's metadata. The specified metadata in this method will replace existing metadata. If old values\n+     * must be preserved, they must be downloaded and included in the call to this method.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param metadata      Metadata to associate with the blob.\n+     * @param callback      Callback that receives the response.\n+     */\n+    public void setBlobMetadata(String containerName,\n+                                String blobName,\n+                                Map<String, String> metadata,\n+                                CallbackWithHeader<Void, BlobSetMetadataHeaders> callback) {\n+        storageBlobServiceClient.setBlobMetadata(containerName, blobName, metadata, callback);\n+    }\n+\n+    /**\n+     * Changes a blob's metadata. The specified metadata in this method will replace existing metadata. If old values\n+     * must be preserved, they must be downloaded and included in the call to this method.\n+     *\n+     * @param containerName The container name.\n+     * @param blobName      The blob name.\n+     * @param timeout           The timeout parameter is expressed in seconds. For more information, see", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg3NzU1OA=="}, "originalCommit": {"oid": "bd94e742484e1b56ede506332bcf6ee5e98e5f36"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MjY3NzMzOnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNzoxMTowNFrOHeoUGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNzoxMTowNFrOHeoUGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTg3OTgzMw==", "bodyText": "I think here we may want an extra - so like x-ms-meta-", "url": "https://github.com/Azure/azure-sdk-for-android/pull/390#discussion_r501879833", "createdAt": "2020-10-08T17:11:04Z", "author": {"login": "gapra-msft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -1580,6 +1772,25 @@ private static String readAsString(ResponseBody body) {\n                                      @Header(\"x-ms-encryption-key-sha256\") String encryptionKeySha256,\n                                      @Header(\"x-ms-encryption-algorithm\") EncryptionAlgorithmType encryptionAlgorithm);\n \n+        @PUT(\"{containerName}/{blob}\")\n+        Call<ResponseBody> setBlobMetadata(@Path(\"containerName\") String containerName,\n+                                              @Path(\"blob\") String blob,\n+                                              @Query(\"timeout\") Integer timeout,\n+                                              @Header(\"x-ms-meta\") Map<String, String> metadata, // TODO: Maybe use @HeaderMap annotation?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bd94e742484e1b56ede506332bcf6ee5e98e5f36"}, "originalPosition": 223}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5MzAwMjQ4OnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQyMjowMDoyOFrOHmH82Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQyMjowMDoyOFrOHmH82Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTczODIwMQ==", "bodyText": "I don't know why the PR includes all a ton of other things, I guess I should just ignore them? I assume this PR only introduces the setBlobMetadata operations, correct?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/390#discussion_r509738201", "createdAt": "2020-10-21T22:00:28Z", "author": {"login": "vcolin7"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobAsyncClient.java", "diffHunk": "@@ -236,6 +244,140 @@ public void cancel(Context context, long transferId) {\n             .cancel(transferId);\n     }\n \n+    /**\n+     * Creates a new container within a storage account. If a container with the same name already exists, the operation\n+     * fails.\n+     *\n+     * @param containerName The container name.\n+     * @param callback      Callback that receives the response.\n+     */\n+    public void createContainer(String containerName,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24ca63233f4d80ab6e22bb41bb63e70758b650b2"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5MzAxMDM1OnYy", "diffSide": "RIGHT", "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQyMjowMjowMlrOHmIB5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQyMjowMjowMlrOHmIB5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTczOTQ5Mg==", "bodyText": "nit; Indentation.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                void setBlobMetadata(String containerName,\n          \n          \n            \n                                        String blobName,\n          \n          \n            \n                                        Map<String, String> metadata,\n          \n          \n            \n                                        CallbackWithHeader<Void, BlobSetMetadataHeaders> callback) {\n          \n          \n            \n                void setBlobMetadata(String containerName,\n          \n          \n            \n                                     String blobName,\n          \n          \n            \n                                     Map<String, String> metadata,\n          \n          \n            \n                                     CallbackWithHeader<Void, BlobSetMetadataHeaders> callback) {", "url": "https://github.com/Azure/azure-sdk-for-android/pull/390#discussion_r509739492", "createdAt": "2020-10-21T22:02:02Z", "author": {"login": "vcolin7"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -260,6 +475,107 @@ void getBlobProperties(String containerName,\n             callback);\n     }\n \n+    Void setBlobMetadata(String containerName,\n+                         String blobName,\n+                         Map<String, String> metadata) {\n+        BlobSetMetadataResponse blobSetHttpHeadersResponse = setBlobMetadataWithRestResponse(containerName,\n+            blobName,\n+            null,\n+            null,\n+            null,\n+            metadata,\n+            null,\n+            null,\n+            CancellationToken.NONE);\n+\n+        return blobSetHttpHeadersResponse.getValue();\n+    }\n+\n+    void setBlobMetadata(String containerName,\n+                            String blobName,\n+                            Map<String, String> metadata,\n+                            CallbackWithHeader<Void, BlobSetMetadataHeaders> callback) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24ca63233f4d80ab6e22bb41bb63e70758b650b2"}, "originalPosition": 286}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2297, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}