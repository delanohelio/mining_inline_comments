{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3MDkwNTky", "number": 414, "title": "Added support to automatically compute Md5", "bodyText": "I think the best way to test the transfer client computeMd5 functionality might be an instrumentation test.", "createdAt": "2020-10-20T20:55:06Z", "url": "https://github.com/Azure/azure-sdk-for-android/pull/414", "merged": true, "mergeCommit": {"oid": "b7a2567cf6f0dda2941a806aeb48081e4458dfc2"}, "closed": true, "closedAt": "2020-10-27T23:15:41Z", "author": {"login": "gapra-msft"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUfKG0gH2gAyNTA3MDkwNTkyOmQyNDkyMDBjYjA3OGQwZGQxMzM1MTllM2VkZmJiMGUyZTdiNjRiNTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWxUamgH2gAyNTA3MDkwNTkyOmZlYWJlMGVjNGJmM2Q3NzhjMWU4ZGIwZTMzMzRiNGVkMDMxNzUzYjY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d249200cb078d0dd133519e3edfbb0e2e7b64b53", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/d249200cb078d0dd133519e3edfbb0e2e7b64b53", "committedDate": "2020-10-20T20:53:49Z", "message": "Added support to automatically compute Md5"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "933b83a078180d3d101525c2e279a3f9ada90808", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/933b83a078180d3d101525c2e279a3f9ada90808", "committedDate": "2020-10-20T20:55:41Z", "message": "Ignore tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a9fc99b7b2bac6108e982eda3cdd1e03108c2eb", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/6a9fc99b7b2bac6108e982eda3cdd1e03108c2eb", "committedDate": "2020-10-20T20:56:17Z", "message": "reverted change to enable fiddler"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c66270a9b4d0a4d6f1667057de1218359fc59bbc", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/c66270a9b4d0a4d6f1667057de1218359fc59bbc", "committedDate": "2020-10-20T21:23:18Z", "message": "Added support to specify if a user wants the library to compute md5"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "18849828b3a07521a66ee99b09d549929658b3e3", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/18849828b3a07521a66ee99b09d549929658b3e3", "committedDate": "2020-10-20T22:37:30Z", "message": "Added ability to set compute md5. TODO: write instrumentation test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0MTg0Mjg3", "url": "https://github.com/Azure/azure-sdk-for-android/pull/414#pullrequestreview-514184287", "createdAt": "2020-10-21T21:04:04Z", "commit": {"oid": "c66270a9b4d0a4d6f1667057de1218359fc59bbc"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQyMTowNDowNFrOHmFUMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQyMTowNToxMFrOHmFX0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTY5NTAyNQ==", "bodyText": "I wonder why we would prefer to throw this as a RuntimeException instead of the original type.", "url": "https://github.com/Azure/azure-sdk-for-android/pull/414#discussion_r509695025", "createdAt": "2020-10-21T21:04:04Z", "author": {"login": "vcolin7"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -1839,6 +1848,18 @@ private BlockBlobsStageBlockResponse stageBlockWithRestResponseIntern(String con\n         }\n         //\n         final String comp = \"block\";\n+\n+        if (computeMd5) {\n+            if (transactionalContentMD5 != null) {\n+                throw new IllegalArgumentException(\"'transactionalContentMD5' can not be set when 'computeMd5' is true.\");\n+            }\n+            try {\n+                transactionalContentMD5 = MessageDigest.getInstance(\"MD5\").digest(blockContent);\n+            } catch (NoSuchAlgorithmException e) {\n+                throw new RuntimeException(e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66270a9b4d0a4d6f1667057de1218359fc59bbc"}, "originalPosition": 77}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTY5NTk1NA==", "bodyText": "These two Javadoc entries should be swapped.", "url": "https://github.com/Azure/azure-sdk-for-android/pull/414#discussion_r509695954", "createdAt": "2020-10-21T21:05:10Z", "author": {"login": "vcolin7"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/transfer/UploadRequest.java", "diffHunk": "@@ -63,14 +67,23 @@ String getContainerName() {\n     }\n \n     /**\n-     * Get the name of the target blob holding uploaded file.\n+     * Get whether or not the library should calculate the md5 and send it for the service to verify.\n      *\n-     * @return The blob name.\n+     * @return Whether or not the library should calculate the md5 and send it for the service to verify.\n      */\n     String getBlobName() {\n         return this.blobName;\n     }\n \n+    /**\n+     * Get the name of the target blob holding uploaded file.\n+     *\n+     * @return The blob name.\n+     */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66270a9b4d0a4d6f1667057de1218359fc59bbc"}, "originalPosition": 47}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3c337a79fbb36caf4bd76cbd5a5dc36dcd2e0c5", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/c3c337a79fbb36caf4bd76cbd5a5dc36dcd2e0c5", "committedDate": "2020-10-22T16:51:03Z", "message": "Swapped javadoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1MTE4OTc2", "url": "https://github.com/Azure/azure-sdk-for-android/pull/414#pullrequestreview-515118976", "createdAt": "2020-10-22T21:06:20Z", "commit": {"oid": "c3c337a79fbb36caf4bd76cbd5a5dc36dcd2e0c5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84cbd521caa3b02fecc5d8c5077dd1a338eb3ad9", "author": {"user": {"login": "gapra-msft", "name": "Gauri Prasad"}}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/84cbd521caa3b02fecc5d8c5077dd1a338eb3ad9", "committedDate": "2020-10-27T16:24:02Z", "message": "Merge branch 'master' into storage/stageBlockMd5"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db753c2de4f8df1310628d205ae71a6c94fdf5d9", "author": {"user": {"login": "gapra-msft", "name": "Gauri Prasad"}}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/db753c2de4f8df1310628d205ae71a6c94fdf5d9", "committedDate": "2020-10-27T21:13:33Z", "message": "Merge branch 'master' into storage/stageBlockMd5"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4MTU5OTQw", "url": "https://github.com/Azure/azure-sdk-for-android/pull/414#pullrequestreview-518159940", "createdAt": "2020-10-27T21:20:10Z", "commit": {"oid": "db753c2de4f8df1310628d205ae71a6c94fdf5d9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMToyMDoxMVrOHpRceQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QyMToyMDoxMVrOHpRceQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzAzOTQ4MQ==", "bodyText": "I wonder if this should be a Boolean instead of boolean?", "url": "https://github.com/Azure/azure-sdk-for-android/pull/414#discussion_r513039481", "createdAt": "2020-10-27T21:20:11Z", "author": {"login": "rickle-msft"}, "path": "sdk/storage/azure-storage-blob/src/main/java/com/azure/android/storage/blob/StorageBlobServiceImpl.java", "diffHunk": "@@ -2197,6 +2205,7 @@ private BlockBlobsStageBlockResponse stageBlockWithRestResponseIntern(String con\n                                                                           byte[] blockContent,\n                                                                           byte[] transactionalContentMD5,\n                                                                           byte[] transactionalContentCrc64,\n+                                                                          boolean computeMd5,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "db753c2de4f8df1310628d205ae71a6c94fdf5d9"}, "originalPosition": 61}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "838fa67d653b82db7aee1ef5c9e68f62ffafe9a1", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/838fa67d653b82db7aee1ef5c9e68f62ffafe9a1", "committedDate": "2020-10-27T21:28:17Z", "message": "Changed computeMd5 to object boolean"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd39ba9151c2c5c1274057dc8fb51e06e5f27fb5", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/cd39ba9151c2c5c1274057dc8fb51e06e5f27fb5", "committedDate": "2020-10-27T21:38:37Z", "message": "Changed another boolean to object"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4MjA3MDA4", "url": "https://github.com/Azure/azure-sdk-for-android/pull/414#pullrequestreview-518207008", "createdAt": "2020-10-27T22:47:07Z", "commit": {"oid": "db753c2de4f8df1310628d205ae71a6c94fdf5d9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6253e6d044c33b9749a88cebd0979711ed0c4c64", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/6253e6d044c33b9749a88cebd0979711ed0c4c64", "committedDate": "2020-10-27T23:05:29Z", "message": "Added another test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "feabe0ec4bf3d778c1e8db0e3334b4ed031753b6", "author": {"user": null}, "url": "https://github.com/Azure/azure-sdk-for-android/commit/feabe0ec4bf3d778c1e8db0e3334b4ed031753b6", "committedDate": "2020-10-27T23:11:13Z", "message": "Added tests to a diff method"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1271, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}