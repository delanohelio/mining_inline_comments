{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5MDg4NzEw", "number": 2419, "title": "fix #2410 Add serialized wrappers for Sinks.Empty/Sinks.One", "bodyText": "", "createdAt": "2020-10-07T08:51:30Z", "url": "https://github.com/reactor/reactor-core/pull/2419", "merged": true, "mergeCommit": {"oid": "c9700ad627c8e723818ce56dfee28e7485bf9efe"}, "closed": true, "closedAt": "2020-10-08T13:19:31Z", "author": {"login": "aneveu"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQJf0-ABqjM4NDk1MDM3NDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQhby3gFqTUwNDc3MDg4OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9abb2d2e3cb27c5b6e64335e0d27781ae39e1090", "author": {"user": null}, "url": "https://github.com/reactor/reactor-core/commit/9abb2d2e3cb27c5b6e64335e0d27781ae39e1090", "committedDate": "2020-10-07T08:50:34Z", "message": "fix# 2410 Add serialized wrappers to SinkEmpty and SinkOne"}, "afterCommit": {"oid": "29d12dd0cfe0439316d8a6a8c9ae75b688438470", "author": {"user": null}, "url": "https://github.com/reactor/reactor-core/commit/29d12dd0cfe0439316d8a6a8c9ae75b688438470", "committedDate": "2020-10-07T09:23:44Z", "message": "fix# 2410 Add serialized wrappers to SinkEmpty and SinkOne"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzODkxNjQx", "url": "https://github.com/reactor/reactor-core/pull/2419#pullrequestreview-503891641", "createdAt": "2020-10-07T13:42:07Z", "commit": {"oid": "2382ef72a73cec91870c7b823f370bc3abd18fc0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxMzo0MjowN1rOHdz9Eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxMzo0MjowN1rOHdz9Eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTAyMTk3MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tfinal SinkOneSerializedStressTest.TargetSink<Object> stressSink = new SinkOneSerializedStressTest.TargetSink<>();\n          \n          \n            \n            \tfinal TargetSink<Object> stressSink = new TargetSink<>();", "url": "https://github.com/reactor/reactor-core/pull/2419#discussion_r501021970", "createdAt": "2020-10-07T13:42:07Z", "author": {"login": "bsideup"}, "path": "reactor-core/src/jcstress/java/reactor/core/publisher/SinkOneSerializedStressTest.java", "diffHunk": "@@ -0,0 +1,74 @@\n+/*\n+ * Copyright (c) 2020-Present VMware Inc. or its affiliates, All Rights Reserved.\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *        https://www.apache.org/licenses/LICENSE-2.0\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package reactor.core.publisher;\n+\n+import org.openjdk.jcstress.annotations.*;\n+import org.openjdk.jcstress.infra.results.LLI_Result;\n+import reactor.util.context.Context;\n+\n+import java.util.concurrent.atomic.AtomicInteger;\n+import java.util.concurrent.locks.LockSupport;\n+\n+import static org.openjdk.jcstress.annotations.Expect.ACCEPTABLE;\n+\n+public class SinkOneSerializedStressTest {\n+\n+\tfinal SinkOneSerializedStressTest.TargetSink<Object> stressSink = new SinkOneSerializedStressTest.TargetSink<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2382ef72a73cec91870c7b823f370bc3abd18fc0"}, "originalPosition": 27}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzOTM3OTc5", "url": "https://github.com/reactor/reactor-core/pull/2419#pullrequestreview-503937979", "createdAt": "2020-10-07T14:25:17Z", "commit": {"oid": "82f8e2e424273ac95a652200022bbf60fbbed925"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxNDoyNToxOFrOHd2CkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxNDoyNToxOFrOHd2CkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA1NjE0NA==", "bodyText": "I am wondering why IDEA renamed this class :D I think we should rename it back to keep the inner class names shorter", "url": "https://github.com/reactor/reactor-core/pull/2419#discussion_r501056144", "createdAt": "2020-10-07T14:25:18Z", "author": {"login": "bsideup"}, "path": "reactor-core/src/jcstress/java/reactor/core/publisher/SinkManySerializedStressTest.java", "diffHunk": "@@ -45,7 +45,7 @@\n \t@Outcome(id = {\"FAIL_NON_SERIALIZED, OK, 1\"}, expect = ACCEPTABLE, desc = \"second wins\")\n \t@Outcome(id = {\"OK, OK, 2\"}, expect = ACCEPTABLE, desc = \"one after another\")\n \t@State\n-\tpublic static class TryEmitNextStressTest extends SerializedManySinkStressTest {\n+\tpublic static class TryEmitNextManySerializedStressTest extends SinkManySerializedStressTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "82f8e2e424273ac95a652200022bbf60fbbed925"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzOTQ0MzA2", "url": "https://github.com/reactor/reactor-core/pull/2419#pullrequestreview-503944306", "createdAt": "2020-10-07T14:30:59Z", "commit": {"oid": "82f8e2e424273ac95a652200022bbf60fbbed925"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzOTk1NDIy", "url": "https://github.com/reactor/reactor-core/pull/2419#pullrequestreview-503995422", "createdAt": "2020-10-07T15:19:12Z", "commit": {"oid": "82f8e2e424273ac95a652200022bbf60fbbed925"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxNToxOToxMlrOHd4obw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxNToxOToxNFrOHd4ogQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA5ODYwNw==", "bodyText": "to clarify, this should indeed be renamed back to TryEmitNextStressTest", "url": "https://github.com/reactor/reactor-core/pull/2419#discussion_r501098607", "createdAt": "2020-10-07T15:19:12Z", "author": {"login": "simonbasle"}, "path": "reactor-core/src/jcstress/java/reactor/core/publisher/SinkManySerializedStressTest.java", "diffHunk": "@@ -45,7 +45,7 @@\n \t@Outcome(id = {\"FAIL_NON_SERIALIZED, OK, 1\"}, expect = ACCEPTABLE, desc = \"second wins\")\n \t@Outcome(id = {\"OK, OK, 2\"}, expect = ACCEPTABLE, desc = \"one after another\")\n \t@State\n-\tpublic static class TryEmitNextStressTest extends SerializedManySinkStressTest {\n+\tpublic static class TryEmitNextManySerializedStressTest extends SinkManySerializedStressTest {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA1NjE0NA=="}, "originalCommit": {"oid": "82f8e2e424273ac95a652200022bbf60fbbed925"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTA5ODYyNQ==", "bodyText": "same as in above @bsideup comment: rename back to TerminatedVsOnNextStressTest", "url": "https://github.com/reactor/reactor-core/pull/2419#discussion_r501098625", "createdAt": "2020-10-07T15:19:14Z", "author": {"login": "simonbasle"}, "path": "reactor-core/src/jcstress/java/reactor/core/publisher/SinkManySerializedStressTest.java", "diffHunk": "@@ -69,7 +69,7 @@ public void arbiter(LLI_Result r) {\n \t@Outcome(id = {\"FAIL_TERMINATED, OK, 1\"}, expect = ACCEPTABLE, desc = \"onNext after onComplete\")\n \t@Outcome(id = {\"OK, OK, 1\"}, expect = ACCEPTABLE, desc = \"onComplete after onNext\")\n \t@State\n-\tpublic static class TerminatedVsOnNextStressTest extends SerializedManySinkStressTest {\n+\tpublic static class TerminatedVsOnNextManySerializedStressTest extends SinkManySerializedStressTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "82f8e2e424273ac95a652200022bbf60fbbed925"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0NTU5MTI4", "url": "https://github.com/reactor/reactor-core/pull/2419#pullrequestreview-504559128", "createdAt": "2020-10-08T08:46:47Z", "commit": {"oid": "62c943594ec0b7b39b52083cd0bbd07415da4160"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "62c943594ec0b7b39b52083cd0bbd07415da4160", "author": {"user": null}, "url": "https://github.com/reactor/reactor-core/commit/62c943594ec0b7b39b52083cd0bbd07415da4160", "committedDate": "2020-10-08T08:29:57Z", "message": "properly renamed stressTest cases"}, "afterCommit": {"oid": "edbfce83278e885a10a6bf1c1b356601e2574806", "author": {"user": null}, "url": "https://github.com/reactor/reactor-core/commit/edbfce83278e885a10a6bf1c1b356601e2574806", "committedDate": "2020-10-08T08:49:01Z", "message": "properly renamed stressTest cases"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f5d125b4a306e9e332727e81ae90b25550f39e4", "author": {"user": null}, "url": "https://github.com/reactor/reactor-core/commit/3f5d125b4a306e9e332727e81ae90b25550f39e4", "committedDate": "2020-10-08T13:13:23Z", "message": "fix# 2410 Add serialized wrappers to SinkEmpty and SinkOne"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be92b976de930d7c769d52efbf3e20256de015a1", "author": {"user": null}, "url": "https://github.com/reactor/reactor-core/commit/be92b976de930d7c769d52efbf3e20256de015a1", "committedDate": "2020-10-08T13:13:23Z", "message": "extract SerializedSink as an abstract class and make SerializedOne and SerializedEmpty extend from it"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "af79de27c626e850f7cf55303559e3191c8f8731", "author": {"user": null}, "url": "https://github.com/reactor/reactor-core/commit/af79de27c626e850f7cf55303559e3191c8f8731", "committedDate": "2020-10-08T13:13:23Z", "message": "extract and rename SinkManySerialized"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00ebd4d492a5426852ede703e7ac8b24ca959254", "author": {"user": null}, "url": "https://github.com/reactor/reactor-core/commit/00ebd4d492a5426852ede703e7ac8b24ca959254", "committedDate": "2020-10-08T13:13:23Z", "message": "rename SinkManySerializedStressTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "836ab91d154a2494b7290ae788509d481473f78d", "author": {"user": null}, "url": "https://github.com/reactor/reactor-core/commit/836ab91d154a2494b7290ae788509d481473f78d", "committedDate": "2020-10-08T13:13:23Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed60fca38f783f90c60ab395473ba10a7b69a359", "author": {"user": null}, "url": "https://github.com/reactor/reactor-core/commit/ed60fca38f783f90c60ab395473ba10a7b69a359", "committedDate": "2020-10-08T13:13:23Z", "message": "remove unnecessary qualifier"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7815674fee46ef9010c9fb6b605f0354466a8770", "author": {"user": null}, "url": "https://github.com/reactor/reactor-core/commit/7815674fee46ef9010c9fb6b605f0354466a8770", "committedDate": "2020-10-08T13:13:23Z", "message": "properly renamed stressTest cases"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "edbfce83278e885a10a6bf1c1b356601e2574806", "author": {"user": null}, "url": "https://github.com/reactor/reactor-core/commit/edbfce83278e885a10a6bf1c1b356601e2574806", "committedDate": "2020-10-08T08:49:01Z", "message": "properly renamed stressTest cases"}, "afterCommit": {"oid": "7815674fee46ef9010c9fb6b605f0354466a8770", "author": {"user": null}, "url": "https://github.com/reactor/reactor-core/commit/7815674fee46ef9010c9fb6b605f0354466a8770", "committedDate": "2020-10-08T13:13:23Z", "message": "properly renamed stressTest cases"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0NzcwODg4", "url": "https://github.com/reactor/reactor-core/pull/2419#pullrequestreview-504770888", "createdAt": "2020-10-08T13:17:15Z", "commit": {"oid": "7815674fee46ef9010c9fb6b605f0354466a8770"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2643, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}