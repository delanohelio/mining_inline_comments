{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzOTY5NDMz", "number": 2441, "title": "fix #2436 Polish some 3.2 JUnit5 tests and compiler options", "bodyText": "", "createdAt": "2020-10-15T09:44:44Z", "url": "https://github.com/reactor/reactor-core/pull/2441", "merged": true, "mergeCommit": {"oid": "65eca6cd6f258323ccfa667cf5e50bea065e1dc7"}, "closed": true, "closedAt": "2020-10-15T12:56:12Z", "author": {"login": "simonbasle"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSuXsTgH2gAyNTAzOTY5NDMzOmI0MDU0ZjNmZjg4ZDIxY2I2MTY5NzIwMzdlZDY5MjVjNzE3ODcyYTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdSwuU7gFqTUwOTMxMTc3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b4054f3ff88d21cb616972037ed6925c717872a0", "author": {"user": {"login": "simonbasle", "name": "Simon Basl\u00e9"}}, "url": "https://github.com/reactor/reactor-core/commit/b4054f3ff88d21cb616972037ed6925c717872a0", "committedDate": "2020-10-15T09:29:23Z", "message": "fix #2436 Polish some 3.2 JUnit5 tests and compiler options\n\nThis commit is a follow-up to #2344 / #2395, polishing things on 3.2.x."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5MjA3ODM0", "url": "https://github.com/reactor/reactor-core/pull/2441#pullrequestreview-509207834", "createdAt": "2020-10-15T09:51:56Z", "commit": {"oid": "b4054f3ff88d21cb616972037ed6925c717872a0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5MjAzNzQ3", "url": "https://github.com/reactor/reactor-core/pull/2441#pullrequestreview-509203747", "createdAt": "2020-10-15T09:46:52Z", "commit": {"oid": "b4054f3ff88d21cb616972037ed6925c717872a0"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwOTo0Njo1MlrOHh_sQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQwOTo0ODo0OFrOHh_yMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQwODU3Nw==", "bodyText": "Not needed since each test gets a new instance", "url": "https://github.com/reactor/reactor-core/pull/2441#discussion_r505408577", "createdAt": "2020-10-15T09:46:52Z", "author": {"login": "ericbottard"}, "path": "reactor-core/src/test/java/reactor/core/ExceptionsTest.java", "diffHunk": "@@ -38,6 +39,16 @@\n  */\n public class ExceptionsTest {\n \n+\t//used for two addThrowableXxx tests lower in the class\n+\tvolatile @Nullable Throwable addThrowable;\n+\tstatic final AtomicReferenceFieldUpdater<ExceptionsTest, Throwable> ADD_THROWABLE =\n+\t\t\tAtomicReferenceFieldUpdater.newUpdater(ExceptionsTest.class, Throwable.class, \"addThrowable\");\n+\n+\t@BeforeEach\n+\tpublic void resetAddThrowable() {\n+\t\taddThrowable = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b4054f3ff88d21cb616972037ed6925c717872a0"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQwOTEwNg==", "bodyText": "Not needed as each test gets a new instance of FluxReplayTest", "url": "https://github.com/reactor/reactor-core/pull/2441#discussion_r505409106", "createdAt": "2020-10-15T09:47:31Z", "author": {"login": "ericbottard"}, "path": "reactor-core/src/test/java/reactor/core/publisher/FluxReplayTest.java", "diffHunk": "@@ -41,6 +41,22 @@\n \n public class FluxReplayTest extends FluxOperatorTest<String, String> {\n \n+\tVirtualTimeScheduler vts;\n+\n+\t@BeforeEach\n+\tpublic void vtsStart() {\n+\t\t//delayElements (notably) now uses parallel() so VTS must be enabled everywhere\n+\t\tvts = VirtualTimeScheduler.getOrSet();\n+\t}\n+\n+\t@AfterEach\n+\tpublic void vtsStop() {\n+\t\tvts = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b4054f3ff88d21cb616972037ed6925c717872a0"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTQxMDA5OA==", "bodyText": "I assume N was unused?", "url": "https://github.com/reactor/reactor-core/pull/2441#discussion_r505410098", "createdAt": "2020-10-15T09:48:48Z", "author": {"login": "ericbottard"}, "path": "reactor-core/src/test/java/reactor/core/scheduler/SchedulersTest.java", "diffHunk": "@@ -623,10 +624,6 @@ public void assertRejectingScheduler(Scheduler scheduler) {\n \t\t}\n \t}\n \n-\t//private final int             BUFFER_SIZE     = 8;\n-\tprivate final AtomicReference<Throwable> exceptionThrown = new AtomicReference<>();\n-\tprivate final int                        N               = 17;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b4054f3ff88d21cb616972037ed6925c717872a0"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "719553ab8f62a938d986bef2880bb7be2b138ab0", "author": {"user": {"login": "simonbasle", "name": "Simon Basl\u00e9"}}, "url": "https://github.com/reactor/reactor-core/commit/719553ab8f62a938d986bef2880bb7be2b138ab0", "committedDate": "2020-10-15T10:15:40Z", "message": "fix review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5MzExNzc2", "url": "https://github.com/reactor/reactor-core/pull/2441#pullrequestreview-509311776", "createdAt": "2020-10-15T12:13:56Z", "commit": {"oid": "719553ab8f62a938d986bef2880bb7be2b138ab0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2659, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}