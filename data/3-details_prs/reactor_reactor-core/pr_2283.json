{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1MTE5NTgz", "number": 2283, "title": "fix #2279 Introduce ContextView (read only API for Context)", "bodyText": "deferWithContext and Signal#getContext now use the ContextView", "createdAt": "2020-07-22T13:28:06Z", "url": "https://github.com/reactor/reactor-core/pull/2283", "merged": true, "mergeCommit": {"oid": "32786785c1c0ea3a729a30afca5267f90a2e0066"}, "closed": true, "closedAt": "2020-07-23T12:33:29Z", "author": {"login": "simonbasle"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3a-RcAFqTQ1MzMyNDc4Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3uKFhAFqTQ1NDA2MDEzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMzI0Nzgy", "url": "https://github.com/reactor/reactor-core/pull/2283#pullrequestreview-453324782", "createdAt": "2020-07-22T13:37:28Z", "commit": {"oid": "4b56c2ef9bc5a4c6b28ed8c27df99958e8b86b10"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzozNzoyOFrOG1ixRg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzozNzoyOFrOG1ixRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc5NzM4Mg==", "bodyText": "just leaving a comment to make this TODO a part of the review :)", "url": "https://github.com/reactor/reactor-core/pull/2283#discussion_r458797382", "createdAt": "2020-07-22T13:37:28Z", "author": {"login": "bsideup"}, "path": "docs/asciidoc/advancedFeatures.adoc", "diffHunk": "@@ -833,6 +842,8 @@ using a `Context`.\n We first look back at our simple example from the introduction in a bit more detail, as\n the following example shows:\n \n+//TODO change the examples", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b56c2ef9bc5a4c6b28ed8c27df99958e8b86b10"}, "originalPosition": 50}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMzI3NzA3", "url": "https://github.com/reactor/reactor-core/pull/2283#pullrequestreview-453327707", "createdAt": "2020-07-22T13:40:38Z", "commit": {"oid": "4b56c2ef9bc5a4c6b28ed8c27df99958e8b86b10"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzo0MDozOFrOG1i5zQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzo0MDozOFrOG1i5zQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc5OTU2NQ==", "bodyText": "Perhaps we should not add such method. One can still do the empty().putAll() trick, but adding the method would help with the following wrong pattern that we should discourage:\nMono.deferWithContext(ctx -> {\n    Context.fromReadOnly(ctx).put(\"I have\", \"no idea what I am doing\");\n    return Mono.just(\"foo\");\n});", "url": "https://github.com/reactor/reactor-core/pull/2283#discussion_r458799565", "createdAt": "2020-07-22T13:40:38Z", "author": {"login": "bsideup"}, "path": "reactor-core/src/main/java/reactor/util/context/Context.java", "diffHunk": "@@ -191,32 +190,21 @@ static Context of(Map<?, ?> map) {\n \t}\n \n \t/**\n-\t * Resolve a value given a key that exists within the {@link Context}, or throw\n-\t * a {@link NoSuchElementException} if the key is not present.\n+\t * Create a {@link Context} out of a {@link ContextView}, enabling write API on top of\n+\t * the read-only view. If the {@link ContextView} is already a {@link Context}, return\n+\t * the same instance.\n \t *\n-\t * @param key a lookup key to resolve the value within the context\n-\t * @param <T> an unchecked casted generic for fluent typing convenience\n-\t *\n-\t * @return the value resolved for this key (throws if key not found)\n-\t * @throws NoSuchElementException when the given key is not present\n-\t * @see #getOrDefault(Object, Object)\n-\t * @see #getOrEmpty(Object)\n-\t * @see #hasKey(Object)\n+\t * @param contextView the {@link ContextView} to convert (or cast) to {@link Context}\n+\t * @return the converted {@link Context} for further modifications\n \t */\n-\t<T> T get(Object key);\n+\tstatic Context fromReadOnly(ContextView contextView) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b56c2ef9bc5a4c6b28ed8c27df99958e8b86b10"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMzI4ODM1", "url": "https://github.com/reactor/reactor-core/pull/2283#pullrequestreview-453328835", "createdAt": "2020-07-22T13:41:45Z", "commit": {"oid": "4b56c2ef9bc5a4c6b28ed8c27df99958e8b86b10"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzo0MTo0NVrOG1i9Aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzo0MTo0NVrOG1i9Aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODgwMDM4Nw==", "bodyText": "I believe this belongs to ContextView", "url": "https://github.com/reactor/reactor-core/pull/2283#discussion_r458800387", "createdAt": "2020-07-22T13:41:45Z", "author": {"login": "bsideup"}, "path": "reactor-core/src/main/java/reactor/util/context/Context.java", "diffHunk": "@@ -243,36 +223,26 @@ static Context of(Map<?, ?> map) {\n \t\treturn get(key);\n \t}\n \n-\t/**\n-\t * Resolve a value given a key within the {@link Context}.\n-\t *\n-\t * @param key a lookup key to resolve the value within the context\n-\t *\n-\t * @return an {@link Optional} of the value for that key.\n-\t */\n+\t@Override\n \tdefault <T> Optional<T> getOrEmpty(Object key){\n \t\tif(hasKey(key)) {\n \t\t\treturn Optional.of(get(key));\n \t\t}\n \t\treturn Optional.empty();\n \t}\n \n-\t/**\n-\t * Return true if a particular key resolves to a value within the {@link Context}.\n-\t *\n-\t * @param key a lookup key to test for\n-\t *\n-\t * @return true if this context contains the given key\n-\t */\n-\tboolean hasKey(Object key);\n+\t@Override\n+\tdefault boolean isEmpty() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b56c2ef9bc5a4c6b28ed8c27df99958e8b86b10"}, "originalPosition": 107}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMzI5MDQ1", "url": "https://github.com/reactor/reactor-core/pull/2283#pullrequestreview-453329045", "createdAt": "2020-07-22T13:42:02Z", "commit": {"oid": "4b56c2ef9bc5a4c6b28ed8c27df99958e8b86b10"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzo0MjowMlrOG1i9tQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMzo0MjowMlrOG1i9tQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODgwMDU2NQ==", "bodyText": "What's the reason to keep this method here and not move it to ContextView?", "url": "https://github.com/reactor/reactor-core/pull/2283#discussion_r458800565", "createdAt": "2020-07-22T13:42:02Z", "author": {"login": "bsideup"}, "path": "reactor-core/src/main/java/reactor/util/context/Context.java", "diffHunk": "@@ -243,36 +223,26 @@ static Context of(Map<?, ?> map) {\n \t\treturn get(key);\n \t}\n \n-\t/**\n-\t * Resolve a value given a key within the {@link Context}.\n-\t *\n-\t * @param key a lookup key to resolve the value within the context\n-\t *\n-\t * @return an {@link Optional} of the value for that key.\n-\t */\n+\t@Override\n \tdefault <T> Optional<T> getOrEmpty(Object key){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4b56c2ef9bc5a4c6b28ed8c27df99958e8b86b10"}, "originalPosition": 91}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea5f97a1ca214f90464fad9fe0f3d686d84aff2c", "author": {"user": {"login": "simonbasle", "name": "Simon Basl\u00e9"}}, "url": "https://github.com/reactor/reactor-core/commit/ea5f97a1ca214f90464fad9fe0f3d686d84aff2c", "committedDate": "2020-07-22T16:24:49Z", "message": "fix #2279 Introduce ContextView (read only API for Context)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14e1d8f3c07dc0d66d966f8c6a96ebc933815c8a", "author": {"user": {"login": "simonbasle", "name": "Simon Basl\u00e9"}}, "url": "https://github.com/reactor/reactor-core/commit/14e1d8f3c07dc0d66d966f8c6a96ebc933815c8a", "committedDate": "2020-07-22T16:24:49Z", "message": "move default read methods to ContextView"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36ea049c5b96e057bd48a523042d71314be001b8", "author": {"user": {"login": "simonbasle", "name": "Simon Basl\u00e9"}}, "url": "https://github.com/reactor/reactor-core/commit/36ea049c5b96e057bd48a523042d71314be001b8", "committedDate": "2020-07-22T16:24:49Z", "message": "Add ContextView class documentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c07db52fb20472c604d074431c67b146788fa79d", "author": {"user": {"login": "simonbasle", "name": "Simon Basl\u00e9"}}, "url": "https://github.com/reactor/reactor-core/commit/c07db52fb20472c604d074431c67b146788fa79d", "committedDate": "2020-07-22T16:24:49Z", "message": "Amend the reference documentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "697cd5e14ea9b9283f08eca328e825ad3c837f6b", "author": {"user": {"login": "simonbasle", "name": "Simon Basl\u00e9"}}, "url": "https://github.com/reactor/reactor-core/commit/697cd5e14ea9b9283f08eca328e825ad3c837f6b", "committedDate": "2020-07-22T16:24:50Z", "message": "Rename fromReadonly to of, add null check and split ContextView tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "94c0b644629dc23bafb0ec6a64222774f08ac094", "author": {"user": {"login": "simonbasle", "name": "Simon Basl\u00e9"}}, "url": "https://github.com/reactor/reactor-core/commit/94c0b644629dc23bafb0ec6a64222774f08ac094", "committedDate": "2020-07-22T16:27:56Z", "message": "Add japicmp exclusions"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b0f11d11dae6ba9beac6cde653a83343ecfe369d", "author": {"user": {"login": "simonbasle", "name": "Simon Basl\u00e9"}}, "url": "https://github.com/reactor/reactor-core/commit/b0f11d11dae6ba9beac6cde653a83343ecfe369d", "committedDate": "2020-07-22T16:16:41Z", "message": "Add japicmp exclusions"}, "afterCommit": {"oid": "94c0b644629dc23bafb0ec6a64222774f08ac094", "author": {"user": {"login": "simonbasle", "name": "Simon Basl\u00e9"}}, "url": "https://github.com/reactor/reactor-core/commit/94c0b644629dc23bafb0ec6a64222774f08ac094", "committedDate": "2020-07-22T16:27:56Z", "message": "Add japicmp exclusions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzOTI4MTc4", "url": "https://github.com/reactor/reactor-core/pull/2283#pullrequestreview-453928178", "createdAt": "2020-07-23T08:28:54Z", "commit": {"oid": "94c0b644629dc23bafb0ec6a64222774f08ac094"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwODoyODo1NFrOG2A7Kw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwODoyODo1NFrOG2A7Kw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI5MTQzNQ==", "bodyText": "I think this recommendation makes very little sense, since the same can be done with:\n.flatMap(it -> Mono.deferWithContext(ctx -> doSomething(it, ctx)));\n(not to mention even more optimal transformWithContext", "url": "https://github.com/reactor/reactor-core/pull/2283#discussion_r459291435", "createdAt": "2020-07-23T08:28:54Z", "author": {"login": "bsideup"}, "path": "docs/asciidoc/advancedFeatures.adoc", "diffHunk": "@@ -815,15 +817,24 @@ completely different instance, although it is really not recommended (doing so m\n impact third-party libraries that depend on the `Context`).\n \n [[context.read]]\n-=== Reading a `Context`\n+=== Reading a `Context`, through the `ContextView`\n \n-Once you haved populated a `Context`, you can retrieve that data.\n+Once you have populated a `Context`, you may want to peek into it at runtime.\n Most of the time, the responsibility of putting information into the `Context`\n is on the end user's side, while exploiting that information is on the third-party library's side,\n as such libraries are usually upstream of the client code.\n \n-The tool for reading data from the context is the static `Mono.subscriberContext()`\n-method.\n+The read oriented operators allow to obtain data from the `Context` in a chain of operators by exposing\n+its `ContextView`:\n+\n+ - to access the context from a source-like operator, use `deferWithContext` factory method\n+ - to access the context from data signals, use `doOnEach` and `Signal#getContext()`\n+ - alternatively, when dealing with an inner sequence (like inside a `flatMap`), the `ContextView`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94c0b644629dc23bafb0ec6a64222774f08ac094"}, "originalPosition": 57}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzOTI4NTA5", "url": "https://github.com/reactor/reactor-core/pull/2283#pullrequestreview-453928509", "createdAt": "2020-07-23T08:29:23Z", "commit": {"oid": "94c0b644629dc23bafb0ec6a64222774f08ac094"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwODoyOToyM1rOG2A8XA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwODoyOToyM1rOG2A8XA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI5MTc0MA==", "bodyText": "so we're not deprecating Signal#getContext?", "url": "https://github.com/reactor/reactor-core/pull/2283#discussion_r459291740", "createdAt": "2020-07-23T08:29:23Z", "author": {"login": "bsideup"}, "path": "docs/asciidoc/advancedFeatures.adoc", "diffHunk": "@@ -815,15 +817,24 @@ completely different instance, although it is really not recommended (doing so m\n impact third-party libraries that depend on the `Context`).\n \n [[context.read]]\n-=== Reading a `Context`\n+=== Reading a `Context`, through the `ContextView`\n \n-Once you haved populated a `Context`, you can retrieve that data.\n+Once you have populated a `Context`, you may want to peek into it at runtime.\n Most of the time, the responsibility of putting information into the `Context`\n is on the end user's side, while exploiting that information is on the third-party library's side,\n as such libraries are usually upstream of the client code.\n \n-The tool for reading data from the context is the static `Mono.subscriberContext()`\n-method.\n+The read oriented operators allow to obtain data from the `Context` in a chain of operators by exposing\n+its `ContextView`:\n+\n+ - to access the context from a source-like operator, use `deferWithContext` factory method\n+ - to access the context from data signals, use `doOnEach` and `Signal#getContext()`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94c0b644629dc23bafb0ec6a64222774f08ac094"}, "originalPosition": 56}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzOTI5NTQw", "url": "https://github.com/reactor/reactor-core/pull/2283#pullrequestreview-453929540", "createdAt": "2020-07-23T08:30:51Z", "commit": {"oid": "94c0b644629dc23bafb0ec6a64222774f08ac094"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwODozMDo1MVrOG2A_pw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwODozMDo1MVrOG2A_pw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI5MjU4Mw==", "bodyText": "Since this section is \"simple Context examples\", I'd suggest to use more... errr... \"modern\" way of accessing Context :D\nThis example can at least be rewritten as:\n.flatMap(s -> Mono.deferWithContext(ctx -> Mono.just(s + \" \" + ctx.get(key))));", "url": "https://github.com/reactor/reactor-core/pull/2283#discussion_r459292583", "createdAt": "2020-07-23T08:30:51Z", "author": {"login": "bsideup"}, "path": "docs/asciidoc/advancedFeatures.adoc", "diffHunk": "@@ -838,8 +849,8 @@ the following example shows:\n ----\n String key = \"message\";\n Mono<String> r = Mono.just(\"Hello\")\n-                .flatMap( s -> Mono.subscriberContext() //<2>\n-                                   .map( ctx -> s + \" \" + ctx.get(key))) //<3>\n+                .flatMap( s -> Mono.deferWithContext(Mono::just) //<2>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94c0b644629dc23bafb0ec6a64222774f08ac094"}, "originalPosition": 72}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzOTI5NzYx", "url": "https://github.com/reactor/reactor-core/pull/2283#pullrequestreview-453929761", "createdAt": "2020-07-23T08:31:12Z", "commit": {"oid": "94c0b644629dc23bafb0ec6a64222774f08ac094"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwODozMToxMlrOG2BAZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwODozMToxMlrOG2BAZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI5Mjc3Mw==", "bodyText": "same as previous comment about deferWithContext(Mono::just)", "url": "https://github.com/reactor/reactor-core/pull/2283#discussion_r459292773", "createdAt": "2020-07-23T08:31:12Z", "author": {"login": "bsideup"}, "path": "docs/asciidoc/advancedFeatures.adoc", "diffHunk": "@@ -870,8 +881,8 @@ the following example:\n String key = \"message\";\n Mono<String> r = Mono.just(\"Hello\")\n                      .subscriberContext(ctx -> ctx.put(key, \"World\")) //<1>\n-                     .flatMap( s -> Mono.subscriberContext()\n-                                        .map( ctx -> s + \" \" + ctx.getOrDefault(key, \"Stranger\")));  //<2>\n+                     .flatMap( s -> Mono.deferWithContext(Mono::just)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94c0b644629dc23bafb0ec6a64222774f08ac094"}, "originalPosition": 92}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzOTU5NzQ4", "url": "https://github.com/reactor/reactor-core/pull/2283#pullrequestreview-453959748", "createdAt": "2020-07-23T09:15:03Z", "commit": {"oid": "94c0b644629dc23bafb0ec6a64222774f08ac094"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwOToxNTowM1rOG2Ceig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwOToxNTowM1rOG2Ceig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTMxNjg3NA==", "bodyText": "nit: could use some auto-formatting of methods' implementations", "url": "https://github.com/reactor/reactor-core/pull/2283#discussion_r459316874", "createdAt": "2020-07-23T09:15:03Z", "author": {"login": "bsideup"}, "path": "reactor-core/src/main/java/reactor/util/context/ContextView.java", "diffHunk": "@@ -0,0 +1,136 @@\n+/*\n+ * Copyright (c) 2011-Present VMware Inc. or its affiliates, All Rights Reserved.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *        https://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package reactor.util.context;\n+\n+import java.util.Map;\n+import java.util.NoSuchElementException;\n+import java.util.Optional;\n+import java.util.stream.Stream;\n+\n+import reactor.util.annotation.Nullable;\n+\n+/**\n+ * A read-only view of a collection of key/value pairs that is propagated between components\n+ * such as operators via the context protocol. Contexts are ideal to transport orthogonal\n+ * information such as tracing or security tokens.\n+ * <p>\n+ * {@link Context} is an immutable variant of the same key/value pairs structure which exposes\n+ * a write API that returns new instances on each write.\n+ *\n+ * @author Simon Basl\u00e9\n+ */\n+public interface ContextView {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94c0b644629dc23bafb0ec6a64222774f08ac094"}, "originalPosition": 36}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "244f07ab18fa13b6d27370bf1698d44210389d14", "author": {"user": {"login": "simonbasle", "name": "Simon Basl\u00e9"}}, "url": "https://github.com/reactor/reactor-core/commit/244f07ab18fa13b6d27370bf1698d44210389d14", "committedDate": "2020-07-23T10:46:03Z", "message": "Improve defer->map pattern, do smaller copiable indentation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab0b3f05ee66e566c58eb91b28c5b139e8314843", "author": {"user": {"login": "simonbasle", "name": "Simon Basl\u00e9"}}, "url": "https://github.com/reactor/reactor-core/commit/ab0b3f05ee66e566c58eb91b28c5b139e8314843", "committedDate": "2020-07-23T10:46:32Z", "message": "mention doing more work in Mono.deferWithContext"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aae6abca7711d151e8bebe8dc3a7fed1948fe77a", "author": {"user": {"login": "simonbasle", "name": "Simon Basl\u00e9"}}, "url": "https://github.com/reactor/reactor-core/commit/aae6abca7711d151e8bebe8dc3a7fed1948fe77a", "committedDate": "2020-07-23T10:47:48Z", "message": "Apply reactor format to ContextView file"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0MDYwMTM4", "url": "https://github.com/reactor/reactor-core/pull/2283#pullrequestreview-454060138", "createdAt": "2020-07-23T11:58:34Z", "commit": {"oid": "aae6abca7711d151e8bebe8dc3a7fed1948fe77a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2794, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}