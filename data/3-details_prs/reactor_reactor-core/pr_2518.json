{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5NTkwNjQ3", "number": 2518, "title": "Say from which operator the asserted Context was taken", "bodyText": "", "createdAt": "2020-11-30T14:35:10Z", "url": "https://github.com/reactor/reactor-core/pull/2518", "merged": true, "mergeCommit": {"oid": "6d5656f4e4d65ddcf15cc6c4af8c81dc10229fd6"}, "closed": true, "closedAt": "2020-12-03T15:20:38Z", "author": {"login": "bsideup"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhmTaeAH2gAyNTI5NTkwNjQ3OjQwNWNjYTBiMTMwZGVlNWExZjI5NzRiNjdmNTY0YjJjM2RmOWI3M2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdiktWxgFqTU0NDA1OTA4Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "405cca0b130dee5a1f2974b67f564b2c3df9b73e", "author": {"user": {"login": "bsideup", "name": "Sergei Egorov"}}, "url": "https://github.com/reactor/reactor-core/commit/405cca0b130dee5a1f2974b67f564b2c3df9b73e", "committedDate": "2020-11-30T14:34:20Z", "message": "Add captured operator to the Context assertion message"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwOTczNzkz", "url": "https://github.com/reactor/reactor-core/pull/2518#pullrequestreview-540973793", "createdAt": "2020-11-30T14:44:04Z", "commit": {"oid": "405cca0b130dee5a1f2974b67f564b2c3df9b73e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxNDo0NDowNVrOH7-QIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQxNDo0NDowNVrOH7-QIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjY0Nzk3MQ==", "bodyText": "would it make sense / demonstrate additional value to make the transformation / tested chain the same in both capturedOperator and capturedOperatorWithDebug?", "url": "https://github.com/reactor/reactor-core/pull/2518#discussion_r532647971", "createdAt": "2020-11-30T14:44:05Z", "author": {"login": "simonbasle"}, "path": "reactor-test/src/test/java/reactor/test/DefaultContextExpectationsTest.java", "diffHunk": "@@ -292,7 +321,27 @@ public void notMatchesWithDescriptionAndScenarioName() {\n \t\t\t\t\t\tbase.matches(Objects::isNull, \"someDescription\")\n \t\t\t\t\t\t    .then()\n \t\t\t\t\t\t    .expectNextCount(10)::verifyComplete)\n-\t\t\t\t.withMessage(\"[scenario] Context Context1{foo=bar} doesn't match predicate someDescription\");\n+\t\t\t\t.withMessageStartingWith(\"\" +\n+\t\t\t\t\t\t\"[scenario] Context doesn't match predicate someDescription\\n\" +\n+\t\t\t\t\t\t\"Context: Context1{foo=bar}\"\n+\t\t\t\t);\n+\t}\n+\n+\t@Test\n+\tpublic void capturedOperator() {\n+\t\tassertContextExpectationFails(\n+\t\t\t\ts -> s.doOnEach(__ -> {}),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "405cca0b130dee5a1f2974b67f564b2c3df9b73e"}, "originalPosition": 173}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "236bf3bf49b3f4dc78c31636ee8190e789ed729f", "author": {"user": {"login": "bsideup", "name": "Sergei Egorov"}}, "url": "https://github.com/reactor/reactor-core/commit/236bf3bf49b3f4dc78c31636ee8190e789ed729f", "committedDate": "2020-12-03T14:34:55Z", "message": "make \"context at\" consistent with the debug mode"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0MDUzODc4", "url": "https://github.com/reactor/reactor-core/pull/2518#pullrequestreview-544053878", "createdAt": "2020-12-03T15:12:04Z", "commit": {"oid": "236bf3bf49b3f4dc78c31636ee8190e789ed729f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNToxMjowNFrOH-hK4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNToxMjowNFrOH-hK4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTMxNzIxNw==", "bodyText": "wait, do we still need that? now the subscriber could be null and none of the Consumer<CoreSubscriber> have been amended to fix that :(", "url": "https://github.com/reactor/reactor-core/pull/2518#discussion_r535317217", "createdAt": "2020-12-03T15:12:04Z", "author": {"login": "simonbasle"}, "path": "reactor-test/src/main/java/reactor/test/DefaultStepVerifierBuilder.java", "diffHunk": "@@ -2525,7 +2525,7 @@ static String formatFusionMode(int m) {\n \t\t\t\tScannable lowest = Scannable.from(s);\n \n \t\t\t\t//attempt to go back to the leftmost parent to check the Context from its perspective\n-\t\t\t\tContext c = Flux.<Scannable>\n+\t\t\t\tCoreSubscriber<?> subscriber = Flux.<Scannable>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "236bf3bf49b3f4dc78c31636ee8190e789ed729f"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0MDU5MDgy", "url": "https://github.com/reactor/reactor-core/pull/2518#pullrequestreview-544059082", "createdAt": "2020-12-03T15:16:47Z", "commit": {"oid": "236bf3bf49b3f4dc78c31636ee8190e789ed729f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2721, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}