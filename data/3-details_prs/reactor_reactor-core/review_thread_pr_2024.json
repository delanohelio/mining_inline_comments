{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3NDc2MTU0", "number": 2024, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QxMzoxOTo1MVrODa359A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QxMzoyMjo1MlrODa39uA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5NTA1NTI0OnYy", "diffSide": "RIGHT", "path": "reactor-core/src/main/java/reactor/core/publisher/Flux.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QxMzoxOTo1MVrOFiCWTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QxMzozMDo1MlrOFiCrbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTIzNDM4Mg==", "bodyText": "@simonbasle I believe a single fromCallable is better than just + map and easier to follow. WDYT?", "url": "https://github.com/reactor/reactor-core/pull/2024#discussion_r371234382", "createdAt": "2020-01-27T13:19:51Z", "author": {"login": "bsideup"}, "path": "reactor-core/src/main/java/reactor/core/publisher/Flux.java", "diffHunk": "@@ -3184,23 +3184,25 @@ public final T blockLast(Duration timeout) {\n \t\t\t\tcatch (Exception e) {\n \t\t\t\t\treturn Mono.error(e);\n \t\t\t\t}\n-\t\t\t\tif (v == null) {\n-\t\t\t\t\treturn Mono.onAssembly(new MonoSupplier<>(listSupplier()));\n-\t\t\t\t}\n-\t\t\t\treturn Mono.just(v).map(u -> {\n+\t\t\t\treturn Mono.fromCallable(() -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "97e6c585de34f2e38dd2356283df0b02b57370bf"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTIzOTc4OQ==", "bodyText": "yeah that works for me", "url": "https://github.com/reactor/reactor-core/pull/2024#discussion_r371239789", "createdAt": "2020-01-27T13:30:52Z", "author": {"login": "simonbasle"}, "path": "reactor-core/src/main/java/reactor/core/publisher/Flux.java", "diffHunk": "@@ -3184,23 +3184,25 @@ public final T blockLast(Duration timeout) {\n \t\t\t\tcatch (Exception e) {\n \t\t\t\t\treturn Mono.error(e);\n \t\t\t\t}\n-\t\t\t\tif (v == null) {\n-\t\t\t\t\treturn Mono.onAssembly(new MonoSupplier<>(listSupplier()));\n-\t\t\t\t}\n-\t\t\t\treturn Mono.just(v).map(u -> {\n+\t\t\t\treturn Mono.fromCallable(() -> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTIzNDM4Mg=="}, "originalCommit": {"oid": "97e6c585de34f2e38dd2356283df0b02b57370bf"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5NTA2NDg4OnYy", "diffSide": "RIGHT", "path": "reactor-core/src/main/java/reactor/core/publisher/Flux.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QxMzoyMjo1MlrOFiCcAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QxMzoyMjo1MlrOFiCcAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTIzNTg0Mw==", "bodyText": "I would suggest to use the form onAssembly(new MonoCallable<>(...)) here and below, so that there is no additional step in the backtrace that corresponds to the fromCallable call.", "url": "https://github.com/reactor/reactor-core/pull/2024#discussion_r371235843", "createdAt": "2020-01-27T13:22:52Z", "author": {"login": "simonbasle"}, "path": "reactor-core/src/main/java/reactor/core/publisher/Flux.java", "diffHunk": "@@ -3184,23 +3184,25 @@ public final T blockLast(Duration timeout) {\n \t\t\t\tcatch (Exception e) {\n \t\t\t\t\treturn Mono.error(e);\n \t\t\t\t}\n-\t\t\t\tif (v == null) {\n-\t\t\t\t\treturn Mono.onAssembly(new MonoSupplier<>(listSupplier()));\n-\t\t\t\t}\n-\t\t\t\treturn Mono.just(v).map(u -> {\n+\t\t\t\treturn Mono.fromCallable(() -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "97e6c585de34f2e38dd2356283df0b02b57370bf"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 986, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}