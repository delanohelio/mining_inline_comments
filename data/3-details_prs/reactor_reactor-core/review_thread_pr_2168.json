{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwODIxNzY5", "number": 2168, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwODoxNDo0NFrOD_kadQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwODoxNDo0NFrOD_kadQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3OTgzNDc3OnYy", "diffSide": "RIGHT", "path": "reactor-core/src/test/java/reactor/core/publisher/FluxMetricsTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwODoxNDo0NFrOGaTawQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQwODoxNDo0NFrOGaTawQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDIzNDMwNQ==", "bodyText": "the Duration in the verify method is an upper bound after which the test times out. 1ms is a bit short, as it could hiccup (eg. on CI machines). I suggest you raise it to Duration.ofSeconds(1) everywhere just to be on the safe side", "url": "https://github.com/reactor/reactor-core/pull/2168#discussion_r430234305", "createdAt": "2020-05-26T08:14:44Z", "author": {"login": "simonbasle"}, "path": "reactor-core/src/test/java/reactor/core/publisher/FluxMetricsTest.java", "diffHunk": "@@ -456,4 +459,29 @@ public void flowDurationTagsConsistency() {\n \n \t\tassertThat(uniqueTagKeySets).hasSize(1);\n \t}\n+\n+\t@Test\n+\tpublic void ensureFuseablePropagateOnComplete_inCaseOfAsyncFusion() {\n+\t\tFlux.fromIterable(Arrays.asList(1, 2, 3))\n+\t\t    .metrics()\n+\t\t    .flatMapIterable(Arrays::asList)\n+\t\t    .as(StepVerifier::create)\n+\t\t    .expectNext(1, 2, 3)\n+\t\t    .expectComplete()\n+\t\t    .verify(Duration.ofMillis(1));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70a66530371b1a269a579d3963babc9f3f4f3713"}, "originalPosition": 33}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1057, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}