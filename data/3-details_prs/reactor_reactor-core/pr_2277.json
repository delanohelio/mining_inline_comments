{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUzNTQ0MDI3", "number": 2277, "title": "Remove previously deprecated methods and types", "bodyText": "", "createdAt": "2020-07-20T15:07:35Z", "url": "https://github.com/reactor/reactor-core/pull/2277", "merged": true, "mergeCommit": {"oid": "5ab176ba952968b8d609c35f8dd2a84698c63fa7"}, "closed": true, "closedAt": "2020-07-22T10:18:35Z", "author": {"login": "bsideup"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc2zDS4gH2gAyNDUzNTQ0MDI3OjIwNGJjZDEyMWM3MWNkMGM1OGM1NmYxMzk0MzFlOTM2NmQyYTViNzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3XKBmgFqTQ1MzEzNTU3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "204bcd121c71cd0c58c56f139431e9366d2a5b78", "author": {"user": {"login": "bsideup", "name": "Sergei Egorov"}}, "url": "https://github.com/reactor/reactor-core/commit/204bcd121c71cd0c58c56f139431e9366d2a5b78", "committedDate": "2020-07-20T15:06:45Z", "message": "Remove previously deprecated methods and types"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNzc0OTgy", "url": "https://github.com/reactor/reactor-core/pull/2277#pullrequestreview-451774982", "createdAt": "2020-07-20T16:36:29Z", "commit": {"oid": "204bcd121c71cd0c58c56f139431e9366d2a5b78"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxNjozNjoyOVrOG0WTgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQxNjo1MDozNlrOG0W1Rw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzU0NDU3OA==", "bodyText": "actually, I don't think this one should be removed :( It looks like it was deprecated by mistake, because ultimately the one we'd want removed is the one with a Consumer<Subscription> (see the TODO on subscribe variant with such a Consumer below)", "url": "https://github.com/reactor/reactor-core/pull/2277#discussion_r457544578", "createdAt": "2020-07-20T16:36:29Z", "author": {"login": "simonbasle"}, "path": "reactor-core/src/main/java/reactor/core/publisher/ParallelFlux.java", "diffHunk": "@@ -1052,25 +1025,6 @@ public final Disposable subscribe(\n \t\treturn this.subscribe(onNext, onError, onComplete, onSubscribe, null);\n \t}\n \n-\t/**\n-\t * Subscribes to this {@link ParallelFlux} by providing an onNext, onError and\n-\t * onComplete callback as well as an initial {@link Context}, then trigger the execution chain for all\n-\t * 'rails'.\n-\t *\n-\t * @param onNext consumer of onNext signals\n-\t * @param onError consumer of error signal\n-\t * @param onComplete callback on completion signal\n-\t * @param initialContext {@link Context} for the rails\n-\t */\n-\t@Deprecated", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "204bcd121c71cd0c58c56f139431e9366d2a5b78"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzU0NjY2OA==", "bodyText": "please revert the removal of that method, and delete the @Deprecated instead \ud83d\ude47", "url": "https://github.com/reactor/reactor-core/pull/2277#discussion_r457546668", "createdAt": "2020-07-20T16:39:54Z", "author": {"login": "simonbasle"}, "path": "reactor-core/src/main/java/reactor/core/publisher/ParallelFlux.java", "diffHunk": "@@ -1052,25 +1025,6 @@ public final Disposable subscribe(\n \t\treturn this.subscribe(onNext, onError, onComplete, onSubscribe, null);\n \t}\n \n-\t/**\n-\t * Subscribes to this {@link ParallelFlux} by providing an onNext, onError and\n-\t * onComplete callback as well as an initial {@link Context}, then trigger the execution chain for all\n-\t * 'rails'.\n-\t *\n-\t * @param onNext consumer of onNext signals\n-\t * @param onError consumer of error signal\n-\t * @param onComplete callback on completion signal\n-\t * @param initialContext {@link Context} for the rails\n-\t */\n-\t@Deprecated", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzU0NDU3OA=="}, "originalCommit": {"oid": "204bcd121c71cd0c58c56f139431e9366d2a5b78"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzU0ODM2Ng==", "bodyText": "The implementation FluxRetryPredicate can most likely also be deleted. Please double check remaining relevant tests are either kept in this test class or moved to FluxRetryWhenTest as a @Nested test maybe?", "url": "https://github.com/reactor/reactor-core/pull/2277#discussion_r457548366", "createdAt": "2020-07-20T16:42:39Z", "author": {"login": "simonbasle"}, "path": "reactor-core/src/test/java/reactor/core/publisher/FluxRetryPredicateTest.java", "diffHunk": "@@ -41,19 +42,13 @@ public void sourceNull() {\n \t\tnew FluxRetryPredicate<>(null, e -> true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "204bcd121c71cd0c58c56f139431e9366d2a5b78"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzU0OTA2Mg==", "bodyText": "same as for FluxRetryPredicate", "url": "https://github.com/reactor/reactor-core/pull/2277#discussion_r457549062", "createdAt": "2020-07-20T16:43:49Z", "author": {"login": "simonbasle"}, "path": "reactor-core/src/test/java/reactor/core/publisher/MonoRetryPredicateTest.java", "diffHunk": "@@ -34,14 +36,14 @@ public void twoRetryNormalSupplier() {\n \n \t\tStepVerifier.create(Mono.fromCallable(i::incrementAndGet)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "204bcd121c71cd0c58c56f139431e9366d2a5b78"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzU1MzIyMw==", "bodyText": "there was no \"to be removed\" even though this one has been deprecated since 3.3.1... I wonder if there could be anybody out there testing that no onSubscribe happens for a given duration (which would be a legitimate-ish verification). Can restore it for now and open an issue for that specific case to remove the method and add a suitable alternative in a follow-up PR ?", "url": "https://github.com/reactor/reactor-core/pull/2277#discussion_r457553223", "createdAt": "2020-07-20T16:50:36Z", "author": {"login": "simonbasle"}, "path": "reactor-test/src/main/java/reactor/test/StepVerifier.java", "diffHunk": "@@ -1021,28 +1021,6 @@ default Duration verifyTimeout(Duration duration) {\n \t\t */\n \t\tStep<T> expectNoFusionSupport();\n \n-\t\t/**", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "204bcd121c71cd0c58c56f139431e9366d2a5b78"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20f13a54b28f4fa94d04326c9a3c8e86a23cab9b", "author": {"user": {"login": "bsideup", "name": "Sergei Egorov"}}, "url": "https://github.com/reactor/reactor-core/commit/20f13a54b28f4fa94d04326c9a3c8e86a23cab9b", "committedDate": "2020-07-21T12:36:03Z", "message": "un-deprecate some methods, remove unused classes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3fb770635717078e33c4a63643d1697c60effd1", "author": {"user": {"login": "bsideup", "name": "Sergei Egorov"}}, "url": "https://github.com/reactor/reactor-core/commit/f3fb770635717078e33c4a63643d1697c60effd1", "committedDate": "2020-07-21T12:36:18Z", "message": "add japicmp exclusions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62f227d2e32d4a3db9cb5ff579179b74a7b92243", "author": {"user": {"login": "bsideup", "name": "Sergei Egorov"}}, "url": "https://github.com/reactor/reactor-core/commit/62f227d2e32d4a3db9cb5ff579179b74a7b92243", "committedDate": "2020-07-21T12:56:43Z", "message": "exclude `onLastAssembly` from japicmp"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa5b06a17df01bee1dbe5ae8b15fc2eef2302875", "author": {"user": {"login": "bsideup", "name": "Sergei Egorov"}}, "url": "https://github.com/reactor/reactor-core/commit/aa5b06a17df01bee1dbe5ae8b15fc2eef2302875", "committedDate": "2020-07-21T13:24:51Z", "message": "remove `expectNoEvent`"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyNDc0MTM0", "url": "https://github.com/reactor/reactor-core/pull/2277#pullrequestreview-452474134", "createdAt": "2020-07-21T13:47:35Z", "commit": {"oid": "aa5b06a17df01bee1dbe5ae8b15fc2eef2302875"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMzo0NzozNVrOG04y7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMzo0OTowN1rOG043kw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODEwOTY3Nw==", "bodyText": "the tests of removed retry operators should either be moved to xxxRetryWhenTest or there should be a comment in that test class pointing to xxxRetryPredicateTest. also there are SuppressWarnings(\"deprecation\") in these tests that are not necessary anymore", "url": "https://github.com/reactor/reactor-core/pull/2277#discussion_r458109677", "createdAt": "2020-07-21T13:47:35Z", "author": {"login": "simonbasle"}, "path": "reactor-core/src/test/java/reactor/core/publisher/MonoRetryPredicateTest.java", "diffHunk": "@@ -34,14 +36,14 @@ public void twoRetryNormalSupplier() {\n \n \t\tStepVerifier.create(Mono.fromCallable(i::incrementAndGet)\n \t\t                        .doOnNext(v -> {\n-\t\t                        \tif(v < 4) {\n+\t\t\t                        if (v < 4) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa5b06a17df01bee1dbe5ae8b15fc2eef2302875"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODExMDg2Nw==", "bodyText": "IIRC we're stuck in 0.2.6 because newest japicmp by default reject introducing new default method()s (which we need in 3.4), and the gradle plugin doesn't let us disable that feature.\ndid you have a strong need for 0.2.8 ?", "url": "https://github.com/reactor/reactor-core/pull/2277#discussion_r458110867", "createdAt": "2020-07-21T13:49:07Z", "author": {"login": "simonbasle"}, "path": "build.gradle", "diffHunk": "@@ -28,7 +28,7 @@ buildscript {\n plugins {\n \tid \"com.github.johnrengelman.shadow\" version \"4.0.2\"\n \tid 'org.asciidoctor.convert' version '1.5.11'\n-\tid \"me.champeau.gradle.japicmp\" version \"0.2.6\"\n+\tid \"me.champeau.gradle.japicmp\" version \"0.2.8\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa5b06a17df01bee1dbe5ae8b15fc2eef2302875"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b02c0f1d6657209beb232a2c8c1f29fceef11532", "author": {"user": {"login": "bsideup", "name": "Sergei Egorov"}}, "url": "https://github.com/reactor/reactor-core/commit/b02c0f1d6657209beb232a2c8c1f29fceef11532", "committedDate": "2020-07-21T14:57:55Z", "message": "downgrade to japicmp 0.2.6"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "097b0484531902dbca3a54968e9359e71b893e60", "author": {"user": {"login": "bsideup", "name": "Sergei Egorov"}}, "url": "https://github.com/reactor/reactor-core/commit/097b0484531902dbca3a54968e9359e71b893e60", "committedDate": "2020-07-21T14:58:48Z", "message": "merge `{Flux,Mono}{RetryPredicate,When}Test`s"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e77722ece874ae386cc8edec272c2de256a9fcd", "author": {"user": {"login": "bsideup", "name": "Sergei Egorov"}}, "url": "https://github.com/reactor/reactor-core/commit/2e77722ece874ae386cc8edec272c2de256a9fcd", "committedDate": "2020-07-21T16:30:18Z", "message": "remove html japicmp reports"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzMTM1NTc2", "url": "https://github.com/reactor/reactor-core/pull/2277#pullrequestreview-453135576", "createdAt": "2020-07-22T09:10:41Z", "commit": {"oid": "2e77722ece874ae386cc8edec272c2de256a9fcd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2788, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}