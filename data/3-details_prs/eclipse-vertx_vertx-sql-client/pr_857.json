{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQwNzgzNjQx", "number": 857, "title": "Fix the incorrect hostname of proxy server in connection auto retry testsuite", "bodyText": "PgConnectionAutoRetryTest connects to the proxy using the\nhostname returned by ContainerPgRule.\nThis differs from localhost in some CI environments, see #854 and\nhttps://www.testcontainers.org/features/networking/#getting-the-container-host\nThis needs to be changed to localhost, the proxy hostname,\nto make the tests succeed.\nConnectionAutoRetryTestBase connects to the database using\nlocalhost as hostname. The hostname of the database differs\nfrom localhost in some CI environments.\nUse the hostname returned by ContainerPgRule to make the tests succeed.\nFixes #854", "createdAt": "2020-12-15T23:30:33Z", "url": "https://github.com/eclipse-vertx/vertx-sql-client/pull/857", "merged": true, "mergeCommit": {"oid": "e3773a3f523407e13a7ece2c909f0a893c752c55"}, "closed": true, "closedAt": "2020-12-17T16:07:13Z", "author": {"login": "julianladisch"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdmifd5AH2gAyNTQwNzgzNjQxOmMyMjVmMjU0OGU5M2M0OTdiY2RhOGIwYTc2NDM0NDY0ZWI5ZjQ2NDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdnFy_RAFqTU1NDc1MTA0NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c225f2548e93c497bcda8b0a76434464eb9f4640", "author": {"user": {"login": "julianladisch", "name": null}}, "url": "https://github.com/eclipse-vertx/vertx-sql-client/commit/c225f2548e93c497bcda8b0a76434464eb9f4640", "committedDate": "2020-12-15T22:57:30Z", "message": "Fix hostname when connecting to proxy and postgres\n\nPgConnectionAutoRetryTest connects to the proxy using the\nhostname returned by ContainerPgRule.\nThis differs from `localhost` in some CI environments, see #854 and\nhttps://www.testcontainers.org/features/networking/#getting-the-container-host\nThis needs to be changed to `localhost`, the proxy hostname,\nto make the tests succeed.\n\nConnectionAutoRetryTestBase connects to the database using\n`localhost` as hostname. The hostname of the database differs\nfrom `localhost` in some CI environments.\nUse the hostname returned by ContainerPgRule to make the tests succeed.\n\nFixes #854\n\nSigned-off-by: Julian Ladisch <julianladisch@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUzMjc5NDMx", "url": "https://github.com/eclipse-vertx/vertx-sql-client/pull/857#pullrequestreview-553279431", "createdAt": "2020-12-16T01:47:15Z", "commit": {"oid": "c225f2548e93c497bcda8b0a76434464eb9f4640"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQwMTo0NzoxNlrOIGn7Vw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNlQwMTo0NzoxNlrOIGn7Vw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MzgxNjUzNQ==", "bodyText": "can you update other auto retry tests(they all extends ConnectionAutoRetryTestBase) in this project as well?", "url": "https://github.com/eclipse-vertx/vertx-sql-client/pull/857#discussion_r543816535", "createdAt": "2020-12-16T01:47:16Z", "author": {"login": "BillyYccc"}, "path": "vertx-pg-client/src/test/java/io/vertx/pgclient/tck/PgConnectionAutoRetryTest.java", "diffHunk": "@@ -42,6 +42,7 @@ public void tearDown(TestContext ctx) {\n   protected void initialConnector(int proxyPort) {\n     SqlConnectOptions proxyOptions = new PgConnectOptions(options);\n     proxyOptions.setPort(proxyPort);\n+    proxyOptions.setHost(\"localhost\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c225f2548e93c497bcda8b0a76434464eb9f4640"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02ac50f78e42c0f3ce6a1e894da6720e341b88ea", "author": {"user": {"login": "julianladisch", "name": null}}, "url": "https://github.com/eclipse-vertx/vertx-sql-client/commit/02ac50f78e42c0f3ce6a1e894da6720e341b88ea", "committedDate": "2020-12-17T15:10:07Z", "message": "Fix proxy hostname for DB2, MSSQL, MySQL\n\nSigned-off-by: Julian Ladisch <julianladisch@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NzUxMDQ1", "url": "https://github.com/eclipse-vertx/vertx-sql-client/pull/857#pullrequestreview-554751045", "createdAt": "2020-12-17T16:05:30Z", "commit": {"oid": "02ac50f78e42c0f3ce6a1e894da6720e341b88ea"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1544, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}