{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE2OTg5NjE4", "number": 1675, "title": "fix: change to use a single RUN and change deprecated command in lieu of a label", "bodyText": "Signed-off-by: Paul Bastide pbastide@us.ibm.com", "createdAt": "2020-11-06T21:31:33Z", "url": "https://github.com/IBM/FHIR/pull/1675", "merged": true, "mergeCommit": {"oid": "033b492101158e597012ce328e96d0d72b34ef61"}, "closed": true, "closedAt": "2020-11-09T15:18:28Z", "author": {"login": "prb112"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZ936EgH2gAyNTE2OTg5NjE4OjAzMDc2Yzk3NDJkNDMyNmY0ZTc4YWFlNDRhNmU0YTYxMzA5YjY1MjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABda05EkAH2gAyNTE2OTg5NjE4OmM5NWQwZDJjMzhkNWY0YTE2MTk2NjQxMWZlZWJkYmNjMTdjOGUwMmQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "03076c9742d4326f4e78aae44a6e4a61309b6523", "author": {"user": {"login": "prb112", "name": "Paul Bastide"}}, "url": "https://github.com/IBM/FHIR/commit/03076c9742d4326f4e78aae44a6e4a61309b6523", "committedDate": "2020-11-06T21:30:37Z", "message": "fix: change to use a single RUN and change deprecated command in lieu of a label\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "251a493cb43bacd33b93952076a378b2c1a51b70", "author": {"user": {"login": "prb112", "name": "Paul Bastide"}}, "url": "https://github.com/IBM/FHIR/commit/251a493cb43bacd33b93952076a378b2c1a51b70", "committedDate": "2020-11-06T21:33:54Z", "message": "fix: add a yum clean all\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI1ODQ5MTA1", "url": "https://github.com/IBM/FHIR/pull/1675#pullrequestreview-525849105", "createdAt": "2020-11-08T21:59:11Z", "commit": {"oid": "251a493cb43bacd33b93952076a378b2c1a51b70"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOFQyMTo1OToxMVrOHvatrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOFQyMTo1OToxMVrOHvatrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTQ4Mjc5Ng==", "bodyText": "I'd be fine to totally drop this line...similar to how we decied now to include the @author tag on the source files", "url": "https://github.com/IBM/FHIR/pull/1675#discussion_r519482796", "createdAt": "2020-11-08T21:59:11Z", "author": {"login": "lmsurpre"}, "path": "fhir-install/Dockerfile", "diffHunk": "@@ -23,7 +23,7 @@ RUN unzip -qq /tmp/fhir-server-distribution.zip -d /tmp && \\\n FROM openliberty/open-liberty:20.0.0.9-full-java8-openj9-ubi\n COPY --chown=1001:0 --from=base /opt/ol/wlp /opt/ol/wlp\n \n-MAINTAINER Lee Surprenant <lmsurpre@us.ibm.com>\n+LABEL MAINTAINER=\"Lee Surprenant <lmsurpre@us.ibm.com>\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "251a493cb43bacd33b93952076a378b2c1a51b70"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI1ODQ5MjMw", "url": "https://github.com/IBM/FHIR/pull/1675#pullrequestreview-525849230", "createdAt": "2020-11-08T22:00:33Z", "commit": {"oid": "251a493cb43bacd33b93952076a378b2c1a51b70"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOFQyMjowMDozM1rOHvaubQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOFQyMjowMDozM1rOHvaubQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTQ4Mjk4OQ==", "bodyText": "we don't do anything with yum in here at the moment...are you thinking to add a yum update too?", "url": "https://github.com/IBM/FHIR/pull/1675#discussion_r519482989", "createdAt": "2020-11-08T22:00:33Z", "author": {"login": "lmsurpre"}, "path": "fhir-install/Dockerfile", "diffHunk": "@@ -36,15 +36,16 @@ ENV WLP_OUTPUT_DIR=/opt/ol/wlp/usr/servers\n # Tell liberty not to worry about a keystore since we provide our own at a different path\n ENV KEYSTORE_REQUIRED \"false\"\n \n-# Replace links to defaultServer with links to fhir-server\n+# Replace links to defaultServer with links to fhir-server and \n+# create the configDropins directories for the fhir-server\n USER root\n RUN ln -sfn ${FHIR} /output && \\\n     ln -sfn ${FHIR} /config && \\\n     rm -rf /opt/ol/wlp/output && \\\n-    rm -rf /opt/ol/wlp/usr/servers/defaultServer\n+    rm -rf /opt/ol/wlp/usr/servers/defaultServer && \\\n+    mkdir -p /config/configDropins/defaults /config/configDropins/overrides && \\\n+    chown -R 1001:1001 /config/configDropins/ && \\\n+    yum clean all", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "251a493cb43bacd33b93952076a378b2c1a51b70"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI1ODQ5Mzc3", "url": "https://github.com/IBM/FHIR/pull/1675#pullrequestreview-525849377", "createdAt": "2020-11-08T22:02:04Z", "commit": {"oid": "251a493cb43bacd33b93952076a378b2c1a51b70"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c95d0d2c38d5f4a161966411feebdbcc17c8e02d", "author": {"user": {"login": "prb112", "name": "Paul Bastide"}}, "url": "https://github.com/IBM/FHIR/commit/c95d0d2c38d5f4a161966411feebdbcc17c8e02d", "committedDate": "2020-11-09T13:36:40Z", "message": "fix: update per review and added yum update\n\nSigned-off-by: Paul Bastide <pbastide@us.ibm.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 755, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}