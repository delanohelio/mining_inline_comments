{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3MTM1NDcy", "number": 1467, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNzowMTozMVrOEe_9zw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxODowNDozN1rOEfBUdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwOTQwNzUxOnYy", "diffSide": "RIGHT", "path": "fhir-examples-generator/src/main/java/com/ibm/fhir/examples/DataCreatorBase.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNzowMTozMVrOHLAE0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxOToxODo1OFrOHLE3Gg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTI5NzYxNw==", "bodyText": "because our object are immutable, you could actually \"cheat\" and re-use the same one in multiple places.\nstill, thats an optimization that probably isn't needed in the example generator, just wanted to make you aware of the possibility", "url": "https://github.com/IBM/FHIR/pull/1467#discussion_r481297617", "createdAt": "2020-09-01T17:01:31Z", "author": {"login": "lmsurpre"}, "path": "fhir-examples-generator/src/main/java/com/ibm/fhir/examples/DataCreatorBase.java", "diffHunk": "@@ -237,6 +239,16 @@ protected Object createArgument(Class<?> owningClass, Method builderMethod, Clas\n         return builder.extension(e);\n     }\n \n+    protected CodeableConcept.Builder setDataAbsentReasonCoding(CodeableConcept.Builder builder) {\n+        Coding coding = Coding.builder()\n+                .extension(Extension.builder()\n+                .url(\"http://hl7.org/fhir/StructureDefinition/data-absent-reason\")\n+                .value(Code.of(\"unknown\"))\n+                .build())\n+                .build();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c110f88085895e9e2a4c79a01b1e59c055ad1be"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM3NjAyNg==", "bodyText": "thanks for the tip!", "url": "https://github.com/IBM/FHIR/pull/1467#discussion_r481376026", "createdAt": "2020-09-01T19:18:58Z", "author": {"login": "michaelwschroeder"}, "path": "fhir-examples-generator/src/main/java/com/ibm/fhir/examples/DataCreatorBase.java", "diffHunk": "@@ -237,6 +239,16 @@ protected Object createArgument(Class<?> owningClass, Method builderMethod, Clas\n         return builder.extension(e);\n     }\n \n+    protected CodeableConcept.Builder setDataAbsentReasonCoding(CodeableConcept.Builder builder) {\n+        Coding coding = Coding.builder()\n+                .extension(Extension.builder()\n+                .url(\"http://hl7.org/fhir/StructureDefinition/data-absent-reason\")\n+                .value(Code.of(\"unknown\"))\n+                .build())\n+                .build();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTI5NzYxNw=="}, "originalCommit": {"oid": "1c110f88085895e9e2a4c79a01b1e59c055ad1be"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwOTUyMDAwOnYy", "diffSide": "RIGHT", "path": "fhir-model/src/main/java/com/ibm/fhir/model/config/FHIRModelConfig.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNzozMzoyMFrOHLBLlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxOToxOTozNFrOHLE4VQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMxNTczNA==", "bodyText": "does it also control whether we do syntax-based validation of UCUM and Language valuesets?", "url": "https://github.com/IBM/FHIR/pull/1467#discussion_r481315734", "createdAt": "2020-09-01T17:33:20Z", "author": {"login": "lmsurpre"}, "path": "fhir-model/src/main/java/com/ibm/fhir/model/config/FHIRModelConfig.java", "diffHunk": "@@ -39,10 +39,16 @@\n      */\n     public static final String PROPERTY_CHECK_REFERENCE_TYPES = \"com.ibm.fhir.model.checkReferenceTypes\";\n \n+    /**\n+     * Used to determine whether CodeableConcepts that don't contain both system and code are checked during object construction\n+     */\n+    public static final String PROPERTY_ADVANCED_CODEABLE_CONCEPT_VALIDATION = \"com.ibm.fhir.model.advancedCodeableConcepValidation\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c110f88085895e9e2a4c79a01b1e59c055ad1be"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM3NjM0MQ==", "bodyText": "Yes. I've updated the prologue to reflect that.", "url": "https://github.com/IBM/FHIR/pull/1467#discussion_r481376341", "createdAt": "2020-09-01T19:19:34Z", "author": {"login": "michaelwschroeder"}, "path": "fhir-model/src/main/java/com/ibm/fhir/model/config/FHIRModelConfig.java", "diffHunk": "@@ -39,10 +39,16 @@\n      */\n     public static final String PROPERTY_CHECK_REFERENCE_TYPES = \"com.ibm.fhir.model.checkReferenceTypes\";\n \n+    /**\n+     * Used to determine whether CodeableConcepts that don't contain both system and code are checked during object construction\n+     */\n+    public static final String PROPERTY_ADVANCED_CODEABLE_CONCEPT_VALIDATION = \"com.ibm.fhir.model.advancedCodeableConcepValidation\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMxNTczNA=="}, "originalCommit": {"oid": "1c110f88085895e9e2a4c79a01b1e59c055ad1be"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwOTUzNTk0OnYy", "diffSide": "LEFT", "path": "fhir-model/src/main/java/com/ibm/fhir/model/util/ValidationSupport.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxNzozODowNVrOHLBV6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxOToxODozN1rOHLE2dQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMxODM3OQ==", "bodyText": "This is a breaking change for this Java API. fhir-model is the one module where we are trying to keep some backwards-compatibility (e.g. see the project README at https://github.com/IBM/FHIR).\nCan we deprecate that old method and add the new one instead of the replace?", "url": "https://github.com/IBM/FHIR/pull/1467#discussion_r481318379", "createdAt": "2020-09-01T17:38:05Z", "author": {"login": "lmsurpre"}, "path": "fhir-model/src/main/java/com/ibm/fhir/model/util/ValidationSupport.java", "diffHunk": "@@ -604,19 +408,166 @@ public static void prohibited(Element element, String elementName) {\n     }\n \n     /**\n-     * @throws IllegalStateExeption if the codeableConcept has coding elements that do not include codes from the required binding\n+     * Check that the specified list of elements contain a code that is a member of the specified value set.\n+     * \n+     * @param elements\n+     *     the list of elements for which to check codes\n+     * @param elementName\n+     *     the name of the element\n+     * @param valueSet\n+     *     the URL of the value set to check membership against\n+     * @param system\n+     *     the value set system\n+     * @param codes\n+     *     the value set codes\n+     * @throws IllegalStateExeption if each element in the list does not include a code from the required value set\n      */\n-    public static void checkCodeableConcept(CodeableConcept codeableConcept, String elementName, String valueSet, String system, String... codes) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c110f88085895e9e2a4c79a01b1e59c055ad1be"}, "originalPosition": 254}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTM3NTg2MQ==", "bodyText": "Done.", "url": "https://github.com/IBM/FHIR/pull/1467#discussion_r481375861", "createdAt": "2020-09-01T19:18:37Z", "author": {"login": "michaelwschroeder"}, "path": "fhir-model/src/main/java/com/ibm/fhir/model/util/ValidationSupport.java", "diffHunk": "@@ -604,19 +408,166 @@ public static void prohibited(Element element, String elementName) {\n     }\n \n     /**\n-     * @throws IllegalStateExeption if the codeableConcept has coding elements that do not include codes from the required binding\n+     * Check that the specified list of elements contain a code that is a member of the specified value set.\n+     * \n+     * @param elements\n+     *     the list of elements for which to check codes\n+     * @param elementName\n+     *     the name of the element\n+     * @param valueSet\n+     *     the URL of the value set to check membership against\n+     * @param system\n+     *     the value set system\n+     * @param codes\n+     *     the value set codes\n+     * @throws IllegalStateExeption if each element in the list does not include a code from the required value set\n      */\n-    public static void checkCodeableConcept(CodeableConcept codeableConcept, String elementName, String valueSet, String system, String... codes) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMxODM3OQ=="}, "originalCommit": {"oid": "1c110f88085895e9e2a4c79a01b1e59c055ad1be"}, "originalPosition": 254}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwOTYyODg3OnYy", "diffSide": "LEFT", "path": "fhir-model/src/main/java/com/ibm/fhir/model/util/ValidationSupport.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxODowNDoyOVrOHLCQmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxODowNDoyOVrOHLCQmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMzMzQwMw==", "bodyText": "this method was never included in a release, so i think its fine to delete", "url": "https://github.com/IBM/FHIR/pull/1467#discussion_r481333403", "createdAt": "2020-09-01T18:04:29Z", "author": {"login": "lmsurpre"}, "path": "fhir-model/src/main/java/com/ibm/fhir/model/util/ValidationSupport.java", "diffHunk": "@@ -204,207 +209,6 @@ public static void checkUri(String s) {\n         }\n     }\n \n-    /**\n-     * Checks that each language code in the list has a valid BCP-47 syntax.\n-     * @param language the language code list\n-     * @param elementName the element name\n-     * @throws IllegalStateException if the passed language code list is not valid\n-     */\n-    public static void checkLanguageCodes(List<Code> languages, String elementName) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c110f88085895e9e2a4c79a01b1e59c055ad1be"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwOTYyOTM1OnYy", "diffSide": "LEFT", "path": "fhir-model/src/main/java/com/ibm/fhir/model/util/ValidationSupport.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxODowNDozN1rOHLCQ8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMVQxODowNDozN1rOHLCQ8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTMzMzQ4OA==", "bodyText": "this method was never included in a release, so i think its fine to delete", "url": "https://github.com/IBM/FHIR/pull/1467#discussion_r481333488", "createdAt": "2020-09-01T18:04:37Z", "author": {"login": "lmsurpre"}, "path": "fhir-model/src/main/java/com/ibm/fhir/model/util/ValidationSupport.java", "diffHunk": "@@ -204,207 +209,6 @@ public static void checkUri(String s) {\n         }\n     }\n \n-    /**\n-     * Checks that each language code in the list has a valid BCP-47 syntax.\n-     * @param language the language code list\n-     * @param elementName the element name\n-     * @throws IllegalStateException if the passed language code list is not valid\n-     */\n-    public static void checkLanguageCodes(List<Code> languages, String elementName) {\n-        if (languages != null) {\n-            for (Code language : languages) {\n-                checkLanguageCode(language, elementName);\n-            }\n-        }\n-    }\n-    \n-    /**\n-     * Checks that the language code has a valid BCP-47 syntax.\n-     * @param language the language code\n-     * @param elementName the element name\n-     * @throws IllegalStateException if the passed language code is not valid\n-     */\n-    public static void checkLanguageCode(Code language, String elementName) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1c110f88085895e9e2a4c79a01b1e59c055ad1be"}, "originalPosition": 51}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4819, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}