{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEyMjI2OTcw", "number": 1012, "title": "Issue #1011 - fixed bug in exists function", "bodyText": "Signed-off-by: John T.E. Timm johntimm@us.ibm.com", "createdAt": "2020-05-01T17:42:24Z", "url": "https://github.com/IBM/FHIR/pull/1012", "merged": true, "mergeCommit": {"oid": "d58face10dfdb831adde2d1ef31b8e733c2a0b66"}, "closed": true, "closedAt": "2020-05-01T18:14:03Z", "author": {"login": "JohnTimm"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcdFUwcgH2gAyNDEyMjI2OTcwOmIyOWJiNmE4ODVmZDA0ZGM3MTQwMDFjZGE0YmJjMDJhZDFlYWEzMWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcdFxx3gFqTQwNDMxNDE4NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b29bb6a885fd04dc714001cda4bbc02ad1eaa31c", "author": {"user": {"login": "JohnTimm", "name": "John T.E. Timm"}}, "url": "https://github.com/IBM/FHIR/commit/b29bb6a885fd04dc714001cda4bbc02ad1eaa31c", "committedDate": "2020-05-01T17:42:05Z", "message": "Issue #1011 - fixed bug in exists function\n\nSigned-off-by: John T.E. Timm <johntimm@us.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffd02795a04420f09385510d859d98730bab3b61", "author": {"user": {"login": "JohnTimm", "name": "John T.E. Timm"}}, "url": "https://github.com/IBM/FHIR/commit/ffd02795a04420f09385510d859d98730bab3b61", "committedDate": "2020-05-01T17:46:11Z", "message": "Issue #1011 - minor tweak in unit test\n\nSigned-off-by: John T.E. Timm <johntimm@us.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0MzAwNDI3", "url": "https://github.com/IBM/FHIR/pull/1012#pullrequestreview-404300427", "createdAt": "2020-05-01T17:49:13Z", "commit": {"oid": "ffd02795a04420f09385510d859d98730bab3b61"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxNzo0OToxM1rOGPQumg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxNzo0OToxM1rOGPQumg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODY1NTg5OA==", "bodyText": "So this is consistent with the where function?\nWhat is the result if the argument is non-empty and non-boolean?", "url": "https://github.com/IBM/FHIR/pull/1012#discussion_r418655898", "createdAt": "2020-05-01T17:49:13Z", "author": {"login": "lmsurpre"}, "path": "fhir-path/src/main/java/com/ibm/fhir/path/evaluator/FHIRPathEvaluator.java", "diffHunk": "@@ -367,8 +367,10 @@ private void reset() {\n             if (arguments.size() < 0 || arguments.size() > 1) {\n                 throw unexpectedNumberOfArguments(arguments.size(), \"exists\");\n             }\n-            Collection<FHIRPathNode> nodes = arguments.isEmpty() ? getCurrentContext() : visit(arguments.get(0));\n-            return !nodes.isEmpty() ? SINGLETON_TRUE : SINGLETON_FALSE;\n+            if (arguments.isEmpty()) {\n+                return !getCurrentContext().isEmpty() ? SINGLETON_TRUE : SINGLETON_FALSE;\n+            }\n+            return isTrue(visit(arguments.get(0))) ? SINGLETON_TRUE : SINGLETON_FALSE;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ffd02795a04420f09385510d859d98730bab3b61"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0MzE0MTg1", "url": "https://github.com/IBM/FHIR/pull/1012#pullrequestreview-404314185", "createdAt": "2020-05-01T18:13:47Z", "commit": {"oid": "ffd02795a04420f09385510d859d98730bab3b61"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 427, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}