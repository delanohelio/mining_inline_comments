{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5Nzc1MjE1", "number": 1119, "title": "Minor swagger definition changes", "bodyText": "Bruno reported that he's still seeing a \"MAX DEPTH\" issue in the examples generated by IBM API Connect...this was supposed to have been fixed by #863 but I think I know why it didn't work...\nBruno to confirm ASAP so we can possibly try squeezing this in for 4.2.2.\nAdditionally, I moved the list of required fields for each object down one level in the hierarchy as requested by a potential user of the tool.\nSigned-off-by: Lee Surprenant lmsurpre@us.ibm.com", "createdAt": "2020-05-18T22:33:01Z", "url": "https://github.com/IBM/FHIR/pull/1119", "merged": true, "mergeCommit": {"oid": "be53c880cf2f73c0e3a0cc62fe964f6db39abbef"}, "closed": true, "closedAt": "2020-05-19T15:08:10Z", "author": {"login": "lmsurpre"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcinqbigH2gAyNDE5Nzc1MjE1OmU3ZjYwMGI2YzcxYTNiYzAwNmExOGU3NjNhNTM4MjRjYmNiYzZhOTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABci1oeSgFqTQxNDUyNTYwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e7f600b6c71a3bc006a18e763a53824cbcbc6a90", "author": {"user": {"login": "lmsurpre", "name": "Lee Surprenant"}}, "url": "https://github.com/IBM/FHIR/commit/e7f600b6c71a3bc006a18e763a53824cbcbc6a90", "committedDate": "2020-05-18T22:32:09Z", "message": "move extension array example up one level in the tree\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0MDI2ODk3", "url": "https://github.com/IBM/FHIR/pull/1119#pullrequestreview-414026897", "createdAt": "2020-05-19T00:43:18Z", "commit": {"oid": "e7f600b6c71a3bc006a18e763a53824cbcbc6a90"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwMDo0MzoxOFrOGXL-rA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwMDo0MzoxOFrOGXL-rA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk2NjcwMA==", "bodyText": "Is this always false?", "url": "https://github.com/IBM/FHIR/pull/1119#discussion_r426966700", "createdAt": "2020-05-19T00:43:18Z", "author": {"login": "albertwang-ibm"}, "path": "fhir-swagger-generator/src/main/java/com/ibm/fhir/openapi/generator/FHIROpenApiGenerator.java", "diffHunk": "@@ -1286,8 +1288,14 @@ private static void generateProperty(StructureDefinition structureDefinition, Cl\n             JsonObjectBuilder wrapper = factory.createObjectBuilder();\n             wrapper.add(\"type\", \"array\");\n             wrapper.add(\"items\", property);\n+            if (example != null) {\n+                wrapper.add(\"example\", example);\n+            }\n             properties.add(elementName, wrapper);\n         } else {\n+            if (example != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e7f600b6c71a3bc006a18e763a53824cbcbc6a90"}, "originalPosition": 38}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0MDI3MjQw", "url": "https://github.com/IBM/FHIR/pull/1119#pullrequestreview-414027240", "createdAt": "2020-05-19T00:44:27Z", "commit": {"oid": "e7f600b6c71a3bc006a18e763a53824cbcbc6a90"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwMDo0NDoyN1rOGXL_sQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwMDo0NDoyN1rOGXL_sQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk2Njk2MQ==", "bodyText": "is this always false?", "url": "https://github.com/IBM/FHIR/pull/1119#discussion_r426966961", "createdAt": "2020-05-19T00:44:27Z", "author": {"login": "albertwang-ibm"}, "path": "fhir-swagger-generator/src/main/java/com/ibm/fhir/swagger/generator/FHIRSwaggerGenerator.java", "diffHunk": "@@ -1018,8 +1021,14 @@ private static void generateProperty(StructureDefinition structureDefinition, Cl\n             JsonObjectBuilder wrapper = factory.createObjectBuilder();\n             wrapper.add(\"type\", \"array\");\n             wrapper.add(\"items\", property);\n+            if (example != null) {\n+                wrapper.add(\"example\", example);\n+            }\n             properties.add(elementName, wrapper);\n         } else {\n+            if (example != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e7f600b6c71a3bc006a18e763a53824cbcbc6a90"}, "originalPosition": 40}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e65d15c8a277c61ca2714070efd6d4e5c8b5f447", "author": {"user": {"login": "lmsurpre", "name": "Lee Surprenant"}}, "url": "https://github.com/IBM/FHIR/commit/e65d15c8a277c61ca2714070efd6d4e5c8b5f447", "committedDate": "2020-05-19T02:09:27Z", "message": "move required fields down one level in the hierarchy\n\nThis makes the object definitions slightly more composable and also\nworks a little better in Rational Software Architect.\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0NDIxNDE1", "url": "https://github.com/IBM/FHIR/pull/1119#pullrequestreview-414421415", "createdAt": "2020-05-19T13:03:08Z", "commit": {"oid": "e65d15c8a277c61ca2714070efd6d4e5c8b5f447"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMzowMzowOFrOGXfWdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxMzowMzowOFrOGXfWdQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzI4NDA4NQ==", "bodyText": "So, looks like these following lines are the key of the fix. the old codes didn't really add the example. correct?", "url": "https://github.com/IBM/FHIR/pull/1119#discussion_r427284085", "createdAt": "2020-05-19T13:03:08Z", "author": {"login": "albertwang-ibm"}, "path": "fhir-swagger-generator/src/main/java/com/ibm/fhir/openapi/generator/FHIROpenApiGenerator.java", "diffHunk": "@@ -1286,8 +1291,14 @@ private static void generateProperty(StructureDefinition structureDefinition, Cl\n             JsonObjectBuilder wrapper = factory.createObjectBuilder();\n             wrapper.add(\"type\", \"array\");\n             wrapper.add(\"items\", property);\n+            if (example != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e65d15c8a277c61ca2714070efd6d4e5c8b5f447"}, "originalPosition": 67}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa188f8932334f919d415c50735b8654371700f8", "author": {"user": {"login": "lmsurpre", "name": "Lee Surprenant"}}, "url": "https://github.com/IBM/FHIR/commit/aa188f8932334f919d415c50735b8654371700f8", "committedDate": "2020-05-19T13:17:28Z", "message": "Remove extension and indentifier examples from the inner level\n\nI meant to move them to the outer level before, but I accidentally just\nadded them a second time...this commit fixes that.\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0NTExMTMz", "url": "https://github.com/IBM/FHIR/pull/1119#pullrequestreview-414511133", "createdAt": "2020-05-19T14:35:08Z", "commit": {"oid": "aa188f8932334f919d415c50735b8654371700f8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0NTI1NjA1", "url": "https://github.com/IBM/FHIR/pull/1119#pullrequestreview-414525605", "createdAt": "2020-05-19T14:48:41Z", "commit": {"oid": "aa188f8932334f919d415c50735b8654371700f8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 226, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}