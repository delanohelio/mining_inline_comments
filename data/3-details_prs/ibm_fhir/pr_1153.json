{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzMzg4MzIx", "number": 1153, "title": "issue #943 change isExportPublic etc to tenant specific", "bodyText": "Changed these following bulkdata configurations to tenant specific:\n- fhirServer/bulkdata/isExportPublic\n- fhirServer/bulkdata/cosFileMaxResources\n- fhirServer/bulkdata/cosFileMaxSize\nSigned-off-by: Albert Wang xuwang@us.ibm.com", "createdAt": "2020-05-26T18:48:09Z", "url": "https://github.com/IBM/FHIR/pull/1153", "merged": true, "mergeCommit": {"oid": "fbcd95de8e2e2d18294f9b41aaed427f539a92c8"}, "closed": true, "closedAt": "2020-05-27T12:17:04Z", "author": {"login": "albertwang-ibm"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclJOJugH2gAyNDIzMzg4MzIxOmU0ZTA4NDUzODY1ZjdiZGQ4MDg1MTkxMWRjYWU1OTc5ZGU1NTE1ODA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABclYQcpAFqTQxOTEzMjM5Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e4e08453865f7bdd80851911dcae5979de551580", "author": {"user": {"login": "albertwang-ibm", "name": "Albert(Xu) Wang"}}, "url": "https://github.com/IBM/FHIR/commit/e4e08453865f7bdd80851911dcae5979de551580", "committedDate": "2020-05-26T18:45:53Z", "message": "issue #943 change isExportPublic etc to tenant specific\n\nSigned-off-by: Albert Wang <xuwang@us.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NjAyODAz", "url": "https://github.com/IBM/FHIR/pull/1153#pullrequestreview-418602803", "createdAt": "2020-05-26T19:19:45Z", "commit": {"oid": "e4e08453865f7bdd80851911dcae5979de551580"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxOToxOTo0NVrOGaswlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxOToxOTo0NVrOGaswlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDY0OTQ5NQ==", "bodyText": "WE could pass this in as a part of the job parameters", "url": "https://github.com/IBM/FHIR/pull/1153#discussion_r430649495", "createdAt": "2020-05-26T19:19:45Z", "author": {"login": "prb112"}, "path": "fhir-bulkimportexport-webapp/src/main/java/com/ibm/fhir/bulkexport/system/ChunkWriter.java", "diffHunk": "@@ -200,4 +201,11 @@ public void writeItems(List<java.lang.Object> arg0) throws Exception {\n             }\n         }\n     }\n+\n+    @Override\n+    public void open(Serializable checkpoint) throws Exception\n+    {\n+        isExportPublic = FHIRConfigHelper.getBooleanProperty(FHIRConfiguration.PROPERTY_BULKDATA_BATCHJOB_ISEXPORTPUBLIC, true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4e08453865f7bdd80851911dcae5979de551580"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NjAzMDI2", "url": "https://github.com/IBM/FHIR/pull/1153#pullrequestreview-418603026", "createdAt": "2020-05-26T19:20:06Z", "commit": {"oid": "e4e08453865f7bdd80851911dcae5979de551580"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxOToyMDowNlrOGasxVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxOToyMDowNlrOGasxVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDY0OTY4Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void open(Serializable checkpoint) throws Exception\n          \n          \n            \n                {\n          \n          \n            \n                public void open(Serializable checkpoint) throws Exception  {", "url": "https://github.com/IBM/FHIR/pull/1153#discussion_r430649687", "createdAt": "2020-05-26T19:20:06Z", "author": {"login": "prb112"}, "path": "fhir-bulkimportexport-webapp/src/main/java/com/ibm/fhir/bulkexport/system/ChunkWriter.java", "diffHunk": "@@ -200,4 +201,11 @@ public void writeItems(List<java.lang.Object> arg0) throws Exception {\n             }\n         }\n     }\n+\n+    @Override\n+    public void open(Serializable checkpoint) throws Exception\n+    {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4e08453865f7bdd80851911dcae5979de551580"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE4NjAzMzE4", "url": "https://github.com/IBM/FHIR/pull/1153#pullrequestreview-418603318", "createdAt": "2020-05-26T19:20:32Z", "commit": {"oid": "e4e08453865f7bdd80851911dcae5979de551580"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxOToyMDozMlrOGasyVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxOToyMDozMlrOGasyVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDY0OTk0MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        int cosFileMaxSize = FHIRConfigHelper.getIntProperty(FHIRConfiguration.PROPERTY_BULKDATA_BATCHJOB_COSFILEMAXSIZE  , Constants.DEFAULT_COSFILE_MAX_SIZE);\n          \n          \n            \n                        int cosFileMaxSize = FHIRConfigHelper.getIntProperty(FHIRConfiguration.PROPERTY_BULKDATA_BATCHJOB_COSFILEMAXSIZE , Constants.DEFAULT_COSFILE_MAX_SIZE);", "url": "https://github.com/IBM/FHIR/pull/1153#discussion_r430649940", "createdAt": "2020-05-26T19:20:32Z", "author": {"login": "prb112"}, "path": "fhir-bulkimportexport-webapp/src/main/java/com/ibm/fhir/bulkexport/common/CheckPointAlgorithm.java", "diffHunk": "@@ -53,38 +51,28 @@ public CheckPointAlgorithm() {\n      // Nothing to do here at present\n     }\n \n-    /**\n-     * @see CheckpointAlgorithm#checkpointTimeout()\n-     */\n     @Override\n     public int checkpointTimeout() {\n         return 0;\n     }\n \n-    /**\n-     * @see CheckpointAlgorithm#endCheckpoint()\n-     */\n     @Override\n     public void endCheckpoint() {\n         // Nothing to do here at present\n     }\n \n-    /**\n-     * @see CheckpointAlgorithm#beginCheckpoint()\n-     */\n     @Override\n     public void beginCheckpoint() {\n         // Nothing to do here at present\n     }\n \n-    /**\n-     * @see CheckpointAlgorithm#isReadyToCheckpoint()\n-     */\n     @Override\n     public boolean isReadyToCheckpoint() {\n         TransientUserData chunkData = (TransientUserData) stepCtx.getTransientUserData();\n \n         if (chunkData != null) {\n+            int cosFileMaxResources = FHIRConfigHelper.getIntProperty(FHIRConfiguration.PROPERTY_BULKDATA_BATCHJOB_COSFILEMAXRESOURCES, Constants.DEFAULT_COSFILE_MAX_RESOURCESNUMBER);\n+            int cosFileMaxSize = FHIRConfigHelper.getIntProperty(FHIRConfiguration.PROPERTY_BULKDATA_BATCHJOB_COSFILEMAXSIZE  , Constants.DEFAULT_COSFILE_MAX_SIZE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e4e08453865f7bdd80851911dcae5979de551580"}, "originalPosition": 46}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a56d2f40afc3daf7c6b11b917c47c77fa35c9990", "author": {"user": {"login": "albertwang-ibm", "name": "Albert(Xu) Wang"}}, "url": "https://github.com/IBM/FHIR/commit/a56d2f40afc3daf7c6b11b917c47c77fa35c9990", "committedDate": "2020-05-26T19:33:18Z", "message": "Apply suggestions from code review\r\n\r\nSigned-off-by: Albert Wang <xuwang@us.ibm.com>\n\nCo-authored-by: Paul Bastide <pbastide@us.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5MTMyMzk2", "url": "https://github.com/IBM/FHIR/pull/1153#pullrequestreview-419132396", "createdAt": "2020-05-27T12:16:58Z", "commit": {"oid": "a56d2f40afc3daf7c6b11b917c47c77fa35c9990"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 238, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}