{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ1Njg3NTE3", "number": 1320, "title": "Issue #1319 - conditional update where new resource has no id", "bodyText": "Signed-off-by: John T.E. Timm johntimm@us.ibm.com", "createdAt": "2020-07-07T21:16:46Z", "url": "https://github.com/IBM/FHIR/pull/1320", "merged": true, "mergeCommit": {"oid": "6373d23c21ac755bdb1b818df49f52013ddd42b8"}, "closed": true, "closedAt": "2020-07-07T22:26:12Z", "author": {"login": "JohnTimm"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcysjCFgH2gAyNDQ1Njg3NTE3OmU2MzdiZTJhOTI1MDEwNTcyZWQzNTVhZjk1MjI4M2UwZmM0ZjAwZjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcyteRGgFqTQ0NDI5MDIzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e637be2a925010572ed355af952283e0fc4f00f5", "author": {"user": {"login": "JohnTimm", "name": "John T.E. Timm"}}, "url": "https://github.com/IBM/FHIR/commit/e637be2a925010572ed355af952283e0fc4f00f5", "committedDate": "2020-07-07T21:16:23Z", "message": "Issue #1319 - conditional update where new resource has no id\n\nSigned-off-by: John T.E. Timm <johntimm@us.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c7ddcd692bf150b5fac51bdadbc88e0916319d7d", "author": {"user": {"login": "JohnTimm", "name": "John T.E. Timm"}}, "url": "https://github.com/IBM/FHIR/commit/c7ddcd692bf150b5fac51bdadbc88e0916319d7d", "committedDate": "2020-07-07T21:32:12Z", "message": "Issue #1319 - add \"currentSchema\" property to config templates\n\nSigned-off-by: John T.E. Timm <johntimm@us.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0MjY3ODM0", "url": "https://github.com/IBM/FHIR/pull/1320#pullrequestreview-444267834", "createdAt": "2020-07-07T21:36:32Z", "commit": {"oid": "c7ddcd692bf150b5fac51bdadbc88e0916319d7d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMTozNjozMlrOGuQfow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMTozNjozMlrOGuQfow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE1NzkyMw==", "bodyText": "do we consistently ignore case when working with id values?", "url": "https://github.com/IBM/FHIR/pull/1320#discussion_r451157923", "createdAt": "2020-07-07T21:36:32Z", "author": {"login": "punktilious"}, "path": "fhir-server/src/main/java/com/ibm/fhir/server/util/FHIRRestHelper.java", "diffHunk": "@@ -338,11 +338,11 @@ private FHIRRestOperationResponse doPatchOrUpdate(String type, String id, FHIRPa\n \n                     // If the id of the input resource is different from the id of the search result,\n                     // then throw exception.\n-                    if (newResource.getId() != null && newResource.getId() != null\n-                            && !newResource.getId().equalsIgnoreCase(id)) {\n+                    if (newResource.getId() != null && id != null && !newResource.getId().equalsIgnoreCase(id)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7ddcd692bf150b5fac51bdadbc88e0916319d7d"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0MjY4NTkx", "url": "https://github.com/IBM/FHIR/pull/1320#pullrequestreview-444268591", "createdAt": "2020-07-07T21:38:02Z", "commit": {"oid": "c7ddcd692bf150b5fac51bdadbc88e0916319d7d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMTozODowMlrOGuQiAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMTozODowMlrOGuQiAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE1ODUzMA==", "bodyText": "Did you intend to leave this commented out? Should probably remove it.", "url": "https://github.com/IBM/FHIR/pull/1320#discussion_r451158530", "createdAt": "2020-07-07T21:38:02Z", "author": {"login": "punktilious"}, "path": "fhir-server/src/main/java/com/ibm/fhir/server/util/FHIRRestHelper.java", "diffHunk": "@@ -1324,11 +1324,13 @@ private void methodValidation(HTTPVerb method, Resource resource) throws FHIRPer\n                         \"Bundle.Entry.resource is required for BundleEntry with PUT method.\";\n                 throw buildRestException(msg, IssueType.INVALID);\n             }\n+            /*", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7ddcd692bf150b5fac51bdadbc88e0916319d7d"}, "originalPosition": 72}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "59e5ce5e46b8f1c7fdca28c1da5a9fd4aefbb1dc", "author": {"user": {"login": "JohnTimm", "name": "John T.E. Timm"}}, "url": "https://github.com/IBM/FHIR/commit/59e5ce5e46b8f1c7fdca28c1da5a9fd4aefbb1dc", "committedDate": "2020-07-07T21:42:11Z", "message": "Issue #1319 - made id comparison case sensitive\n\nSigned-off-by: John T.E. Timm <johntimm@us.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55a61efe3a20aef7e17d2817e90e6686f8188ac3", "author": {"user": {"login": "JohnTimm", "name": "John T.E. Timm"}}, "url": "https://github.com/IBM/FHIR/commit/55a61efe3a20aef7e17d2817e90e6686f8188ac3", "committedDate": "2020-07-07T21:43:55Z", "message": "Issue #1319 - removed commented out code\n\nSigned-off-by: John T.E. Timm <johntimm@us.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0Mjg0Njkx", "url": "https://github.com/IBM/FHIR/pull/1320#pullrequestreview-444284691", "createdAt": "2020-07-07T22:09:23Z", "commit": {"oid": "55a61efe3a20aef7e17d2817e90e6686f8188ac3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0MjkwMjM2", "url": "https://github.com/IBM/FHIR/pull/1320#pullrequestreview-444290236", "createdAt": "2020-07-07T22:21:05Z", "commit": {"oid": "55a61efe3a20aef7e17d2817e90e6686f8188ac3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1332, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}