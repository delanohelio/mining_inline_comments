{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyMTU1Njk4", "number": 685, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQxNDowMTo1NlrODedsGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQxNDoxNToxN1rODed-mA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzMjcwMjk5OnYy", "diffSide": "RIGHT", "path": "fhir-path/src/main/java/com/ibm/fhir/path/patch/FHIRPathPatch.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQxNDowMTo1NlrOFnnGrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQxNzowMToyMVrOFnuAdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzA3OTQ2OQ==", "bodyText": "Is there a constant for this defined somewhere?", "url": "https://github.com/IBM/FHIR/pull/685#discussion_r377079469", "createdAt": "2020-02-10T14:01:56Z", "author": {"login": "bfelaco"}, "path": "fhir-path/src/main/java/com/ibm/fhir/path/patch/FHIRPathPatch.java", "diffHunk": "@@ -17,33 +16,189 @@\n import com.ibm.fhir.model.resource.Parameters;\n import com.ibm.fhir.model.resource.Parameters.Parameter;\n import com.ibm.fhir.model.resource.Resource;\n+import com.ibm.fhir.model.type.Code;\n+import com.ibm.fhir.model.type.Element;\n \n public class FHIRPathPatch implements FHIRPatch {\n-    private List<FHIRPathPatchOperation> operations;\n+    private final List<FHIRPathPatchOperation> operations;\n \n+    private FHIRPathPatch(Builder builder) {\n+        this.operations = Collections.unmodifiableList(builder.operations);\n+    }\n+    \n+    @Override\n+    public <T extends Resource> T apply(T resource) throws FHIRPatchException {\n+        for (FHIRPathPatchOperation fhirPathPatchOperation : operations) {\n+            resource = fhirPathPatchOperation.apply(resource);\n+        }\n+        return resource;\n+    }\n+    \n     /**\n+     * Convert the FHIRPathPatch to a FHIR Parameters resource\n+     */\n+    public Parameters toParameters() {\n+        Parameters.Builder builder = Parameters.builder();\n+        for (FHIRPathPatchOperation operation : operations) {\n+            builder.parameter(operation.toParameter());\n+        }\n+        return builder.build();\n+    }\n+    \n+    public Builder toBuilder() {\n+        return new Builder().from(this);\n+    }\n+    \n+    public static Builder builder() {\n+        return new Builder();\n+    }\n+    \n+    public static class Builder { \n+        private List<FHIRPathPatchOperation> operations = new ArrayList<>(3);\n+        \n+        private Builder() {\n+            // hidden constructor\n+        }\n+    \n+        public Builder add(String path, String elementName, Element element) {\n+            operations.add(new FHIRPathPatchAdd(path, elementName, element));\n+            return this;\n+        }\n+        \n+        public Builder delete(String path) {\n+            operations.add(new FHIRPathPatchDelete(path));\n+            return this;\n+        }\n+        \n+        public Builder insert(String path, Element element, Integer index) {\n+            operations.add(new FHIRPathPatchInsert(path, element, index));\n+            return this;\n+        }\n+        \n+        public Builder move(String path, Integer source, Integer destination) {\n+            operations.add(new FHIRPathPatchMove(path, source, destination));\n+            return this;\n+        }\n+        \n+        public Builder replace(String path, Element element) {\n+            operations.add(new FHIRPathPatchReplace(path, element));\n+            return this;\n+        }\n+        \n+        /**\n+         * Build the {@link FHIRPathPatch}\n+         * \n+         * @return\n+         *     An immutable object of type {@link FHIRPathPatch}\n+         */\n+        public FHIRPathPatch build() {\n+            return new FHIRPathPatch(this);\n+        }\n+\n+        protected Builder from(FHIRPathPatch patch) {\n+            operations.addAll(patch.operations);\n+            return this;\n+        }\n+    }\n+    \n+    /**\n+     * Parse a FHIRPathPatch from a FHIR Parameters resource\n+     * \n      * @throws IllegalArgumentException if the Parameters object does not satisfy the requirements of a FHIRPath Patch\n      */\n-    public FHIRPathPatch(Parameters params) {\n+    public static FHIRPathPatch from(Parameters params) {\n         Objects.requireNonNull(params);\n-        operations = new ArrayList<FHIRPathPatchOperation>(2);\n+        Builder builder = FHIRPathPatch.builder();\n+        \n         for (Parameter param : params.getParameter()) {\n             if (!\"operation\".equals(param.getName().getValue())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "546abc236816a27d57b04fe1e45adad4b7cae91d"}, "originalPosition": 110}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzE5MjU2NA==", "bodyText": "yeah, good catch\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        if (!\"operation\".equals(param.getName().getValue())) {\n          \n          \n            \n                        if (!FHIRPathPatchOperation.OPERATION.equals(param.getName().getValue())) {", "url": "https://github.com/IBM/FHIR/pull/685#discussion_r377192564", "createdAt": "2020-02-10T17:01:21Z", "author": {"login": "lmsurpre"}, "path": "fhir-path/src/main/java/com/ibm/fhir/path/patch/FHIRPathPatch.java", "diffHunk": "@@ -17,33 +16,189 @@\n import com.ibm.fhir.model.resource.Parameters;\n import com.ibm.fhir.model.resource.Parameters.Parameter;\n import com.ibm.fhir.model.resource.Resource;\n+import com.ibm.fhir.model.type.Code;\n+import com.ibm.fhir.model.type.Element;\n \n public class FHIRPathPatch implements FHIRPatch {\n-    private List<FHIRPathPatchOperation> operations;\n+    private final List<FHIRPathPatchOperation> operations;\n \n+    private FHIRPathPatch(Builder builder) {\n+        this.operations = Collections.unmodifiableList(builder.operations);\n+    }\n+    \n+    @Override\n+    public <T extends Resource> T apply(T resource) throws FHIRPatchException {\n+        for (FHIRPathPatchOperation fhirPathPatchOperation : operations) {\n+            resource = fhirPathPatchOperation.apply(resource);\n+        }\n+        return resource;\n+    }\n+    \n     /**\n+     * Convert the FHIRPathPatch to a FHIR Parameters resource\n+     */\n+    public Parameters toParameters() {\n+        Parameters.Builder builder = Parameters.builder();\n+        for (FHIRPathPatchOperation operation : operations) {\n+            builder.parameter(operation.toParameter());\n+        }\n+        return builder.build();\n+    }\n+    \n+    public Builder toBuilder() {\n+        return new Builder().from(this);\n+    }\n+    \n+    public static Builder builder() {\n+        return new Builder();\n+    }\n+    \n+    public static class Builder { \n+        private List<FHIRPathPatchOperation> operations = new ArrayList<>(3);\n+        \n+        private Builder() {\n+            // hidden constructor\n+        }\n+    \n+        public Builder add(String path, String elementName, Element element) {\n+            operations.add(new FHIRPathPatchAdd(path, elementName, element));\n+            return this;\n+        }\n+        \n+        public Builder delete(String path) {\n+            operations.add(new FHIRPathPatchDelete(path));\n+            return this;\n+        }\n+        \n+        public Builder insert(String path, Element element, Integer index) {\n+            operations.add(new FHIRPathPatchInsert(path, element, index));\n+            return this;\n+        }\n+        \n+        public Builder move(String path, Integer source, Integer destination) {\n+            operations.add(new FHIRPathPatchMove(path, source, destination));\n+            return this;\n+        }\n+        \n+        public Builder replace(String path, Element element) {\n+            operations.add(new FHIRPathPatchReplace(path, element));\n+            return this;\n+        }\n+        \n+        /**\n+         * Build the {@link FHIRPathPatch}\n+         * \n+         * @return\n+         *     An immutable object of type {@link FHIRPathPatch}\n+         */\n+        public FHIRPathPatch build() {\n+            return new FHIRPathPatch(this);\n+        }\n+\n+        protected Builder from(FHIRPathPatch patch) {\n+            operations.addAll(patch.operations);\n+            return this;\n+        }\n+    }\n+    \n+    /**\n+     * Parse a FHIRPathPatch from a FHIR Parameters resource\n+     * \n      * @throws IllegalArgumentException if the Parameters object does not satisfy the requirements of a FHIRPath Patch\n      */\n-    public FHIRPathPatch(Parameters params) {\n+    public static FHIRPathPatch from(Parameters params) {\n         Objects.requireNonNull(params);\n-        operations = new ArrayList<FHIRPathPatchOperation>(2);\n+        Builder builder = FHIRPathPatch.builder();\n+        \n         for (Parameter param : params.getParameter()) {\n             if (!\"operation\".equals(param.getName().getValue())) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzA3OTQ2OQ=="}, "originalCommit": {"oid": "546abc236816a27d57b04fe1e45adad4b7cae91d"}, "originalPosition": 110}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzMjc1MDMyOnYy", "diffSide": "RIGHT", "path": "fhir-path/src/main/java/com/ibm/fhir/path/patch/FHIRPathPatch.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQxNDoxNToxN1rOFnnjeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQxNzo1MzowOVrOFnvuMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzA4Njg0MA==", "bodyText": "Is the intention of making this an instance method to support inter-mixing other patches with manually added operations like this?\n     FHIRPathPatch.builder()\n          .add(...)\n          .move(...)\n          .from(someExistingPatch)\n          .from(someOtherPatch)\n          .build();\nOr were you only thinking of the simple case of just wanting to mutate a single existing immutable FHIRPathPatch?\nIf you want to allow/support the former, then you should make this method public so anyone can do it. If not, then I'd suggest changing this to an additional private ctor which can only be used by the toBuilder() method of the outer class.", "url": "https://github.com/IBM/FHIR/pull/685#discussion_r377086840", "createdAt": "2020-02-10T14:15:17Z", "author": {"login": "bfelaco"}, "path": "fhir-path/src/main/java/com/ibm/fhir/path/patch/FHIRPathPatch.java", "diffHunk": "@@ -17,33 +16,189 @@\n import com.ibm.fhir.model.resource.Parameters;\n import com.ibm.fhir.model.resource.Parameters.Parameter;\n import com.ibm.fhir.model.resource.Resource;\n+import com.ibm.fhir.model.type.Code;\n+import com.ibm.fhir.model.type.Element;\n \n public class FHIRPathPatch implements FHIRPatch {\n-    private List<FHIRPathPatchOperation> operations;\n+    private final List<FHIRPathPatchOperation> operations;\n \n+    private FHIRPathPatch(Builder builder) {\n+        this.operations = Collections.unmodifiableList(builder.operations);\n+    }\n+    \n+    @Override\n+    public <T extends Resource> T apply(T resource) throws FHIRPatchException {\n+        for (FHIRPathPatchOperation fhirPathPatchOperation : operations) {\n+            resource = fhirPathPatchOperation.apply(resource);\n+        }\n+        return resource;\n+    }\n+    \n     /**\n+     * Convert the FHIRPathPatch to a FHIR Parameters resource\n+     */\n+    public Parameters toParameters() {\n+        Parameters.Builder builder = Parameters.builder();\n+        for (FHIRPathPatchOperation operation : operations) {\n+            builder.parameter(operation.toParameter());\n+        }\n+        return builder.build();\n+    }\n+    \n+    public Builder toBuilder() {\n+        return new Builder().from(this);\n+    }\n+    \n+    public static Builder builder() {\n+        return new Builder();\n+    }\n+    \n+    public static class Builder { \n+        private List<FHIRPathPatchOperation> operations = new ArrayList<>(3);\n+        \n+        private Builder() {\n+            // hidden constructor\n+        }\n+    \n+        public Builder add(String path, String elementName, Element element) {\n+            operations.add(new FHIRPathPatchAdd(path, elementName, element));\n+            return this;\n+        }\n+        \n+        public Builder delete(String path) {\n+            operations.add(new FHIRPathPatchDelete(path));\n+            return this;\n+        }\n+        \n+        public Builder insert(String path, Element element, Integer index) {\n+            operations.add(new FHIRPathPatchInsert(path, element, index));\n+            return this;\n+        }\n+        \n+        public Builder move(String path, Integer source, Integer destination) {\n+            operations.add(new FHIRPathPatchMove(path, source, destination));\n+            return this;\n+        }\n+        \n+        public Builder replace(String path, Element element) {\n+            operations.add(new FHIRPathPatchReplace(path, element));\n+            return this;\n+        }\n+        \n+        /**\n+         * Build the {@link FHIRPathPatch}\n+         * \n+         * @return\n+         *     An immutable object of type {@link FHIRPathPatch}\n+         */\n+        public FHIRPathPatch build() {\n+            return new FHIRPathPatch(this);\n+        }\n+\n+        protected Builder from(FHIRPathPatch patch) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "546abc236816a27d57b04fe1e45adad4b7cae91d"}, "originalPosition": 92}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzE4ODUxNA==", "bodyText": "Is the intention of making this an instance method to support inter-mixing other patches with manually added operations like this?\n\nNo, although I did consider something like that for supporting combining of disparate patches into a single patch.  I don't think it would be hard to add, but since presently it just naively applies them one-at-a-time, it doesn't make a difference whether you combine them into a single patch or just execute them one-after-another.\n\nOr were you only thinking of the simple case of just wanting to mutate a single existing immutable FHIRPathPatch?\n\nthis\nI just followed the precedent set in our generated model.  For example, see\nhttps://github.com/IBM/FHIR/blob/master/fhir-model/src/main/java/com/ibm/fhir/model/resource/Account.java#L1381\nI think an overloaded [protected] constructor is another option, but I think it just comes down to preference.  @JohnTimm any thoughts on this?", "url": "https://github.com/IBM/FHIR/pull/685#discussion_r377188514", "createdAt": "2020-02-10T16:54:52Z", "author": {"login": "lmsurpre"}, "path": "fhir-path/src/main/java/com/ibm/fhir/path/patch/FHIRPathPatch.java", "diffHunk": "@@ -17,33 +16,189 @@\n import com.ibm.fhir.model.resource.Parameters;\n import com.ibm.fhir.model.resource.Parameters.Parameter;\n import com.ibm.fhir.model.resource.Resource;\n+import com.ibm.fhir.model.type.Code;\n+import com.ibm.fhir.model.type.Element;\n \n public class FHIRPathPatch implements FHIRPatch {\n-    private List<FHIRPathPatchOperation> operations;\n+    private final List<FHIRPathPatchOperation> operations;\n \n+    private FHIRPathPatch(Builder builder) {\n+        this.operations = Collections.unmodifiableList(builder.operations);\n+    }\n+    \n+    @Override\n+    public <T extends Resource> T apply(T resource) throws FHIRPatchException {\n+        for (FHIRPathPatchOperation fhirPathPatchOperation : operations) {\n+            resource = fhirPathPatchOperation.apply(resource);\n+        }\n+        return resource;\n+    }\n+    \n     /**\n+     * Convert the FHIRPathPatch to a FHIR Parameters resource\n+     */\n+    public Parameters toParameters() {\n+        Parameters.Builder builder = Parameters.builder();\n+        for (FHIRPathPatchOperation operation : operations) {\n+            builder.parameter(operation.toParameter());\n+        }\n+        return builder.build();\n+    }\n+    \n+    public Builder toBuilder() {\n+        return new Builder().from(this);\n+    }\n+    \n+    public static Builder builder() {\n+        return new Builder();\n+    }\n+    \n+    public static class Builder { \n+        private List<FHIRPathPatchOperation> operations = new ArrayList<>(3);\n+        \n+        private Builder() {\n+            // hidden constructor\n+        }\n+    \n+        public Builder add(String path, String elementName, Element element) {\n+            operations.add(new FHIRPathPatchAdd(path, elementName, element));\n+            return this;\n+        }\n+        \n+        public Builder delete(String path) {\n+            operations.add(new FHIRPathPatchDelete(path));\n+            return this;\n+        }\n+        \n+        public Builder insert(String path, Element element, Integer index) {\n+            operations.add(new FHIRPathPatchInsert(path, element, index));\n+            return this;\n+        }\n+        \n+        public Builder move(String path, Integer source, Integer destination) {\n+            operations.add(new FHIRPathPatchMove(path, source, destination));\n+            return this;\n+        }\n+        \n+        public Builder replace(String path, Element element) {\n+            operations.add(new FHIRPathPatchReplace(path, element));\n+            return this;\n+        }\n+        \n+        /**\n+         * Build the {@link FHIRPathPatch}\n+         * \n+         * @return\n+         *     An immutable object of type {@link FHIRPathPatch}\n+         */\n+        public FHIRPathPatch build() {\n+            return new FHIRPathPatch(this);\n+        }\n+\n+        protected Builder from(FHIRPathPatch patch) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzA4Njg0MA=="}, "originalCommit": {"oid": "546abc236816a27d57b04fe1e45adad4b7cae91d"}, "originalPosition": 92}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzE5NDgzMg==", "bodyText": "Looking at it some more, I guess it wouldn't hurt to just flip this to public...then it could serve both use cases.  I can't think of a downside...", "url": "https://github.com/IBM/FHIR/pull/685#discussion_r377194832", "createdAt": "2020-02-10T17:05:28Z", "author": {"login": "lmsurpre"}, "path": "fhir-path/src/main/java/com/ibm/fhir/path/patch/FHIRPathPatch.java", "diffHunk": "@@ -17,33 +16,189 @@\n import com.ibm.fhir.model.resource.Parameters;\n import com.ibm.fhir.model.resource.Parameters.Parameter;\n import com.ibm.fhir.model.resource.Resource;\n+import com.ibm.fhir.model.type.Code;\n+import com.ibm.fhir.model.type.Element;\n \n public class FHIRPathPatch implements FHIRPatch {\n-    private List<FHIRPathPatchOperation> operations;\n+    private final List<FHIRPathPatchOperation> operations;\n \n+    private FHIRPathPatch(Builder builder) {\n+        this.operations = Collections.unmodifiableList(builder.operations);\n+    }\n+    \n+    @Override\n+    public <T extends Resource> T apply(T resource) throws FHIRPatchException {\n+        for (FHIRPathPatchOperation fhirPathPatchOperation : operations) {\n+            resource = fhirPathPatchOperation.apply(resource);\n+        }\n+        return resource;\n+    }\n+    \n     /**\n+     * Convert the FHIRPathPatch to a FHIR Parameters resource\n+     */\n+    public Parameters toParameters() {\n+        Parameters.Builder builder = Parameters.builder();\n+        for (FHIRPathPatchOperation operation : operations) {\n+            builder.parameter(operation.toParameter());\n+        }\n+        return builder.build();\n+    }\n+    \n+    public Builder toBuilder() {\n+        return new Builder().from(this);\n+    }\n+    \n+    public static Builder builder() {\n+        return new Builder();\n+    }\n+    \n+    public static class Builder { \n+        private List<FHIRPathPatchOperation> operations = new ArrayList<>(3);\n+        \n+        private Builder() {\n+            // hidden constructor\n+        }\n+    \n+        public Builder add(String path, String elementName, Element element) {\n+            operations.add(new FHIRPathPatchAdd(path, elementName, element));\n+            return this;\n+        }\n+        \n+        public Builder delete(String path) {\n+            operations.add(new FHIRPathPatchDelete(path));\n+            return this;\n+        }\n+        \n+        public Builder insert(String path, Element element, Integer index) {\n+            operations.add(new FHIRPathPatchInsert(path, element, index));\n+            return this;\n+        }\n+        \n+        public Builder move(String path, Integer source, Integer destination) {\n+            operations.add(new FHIRPathPatchMove(path, source, destination));\n+            return this;\n+        }\n+        \n+        public Builder replace(String path, Element element) {\n+            operations.add(new FHIRPathPatchReplace(path, element));\n+            return this;\n+        }\n+        \n+        /**\n+         * Build the {@link FHIRPathPatch}\n+         * \n+         * @return\n+         *     An immutable object of type {@link FHIRPathPatch}\n+         */\n+        public FHIRPathPatch build() {\n+            return new FHIRPathPatch(this);\n+        }\n+\n+        protected Builder from(FHIRPathPatch patch) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzA4Njg0MA=="}, "originalCommit": {"oid": "546abc236816a27d57b04fe1e45adad4b7cae91d"}, "originalPosition": 92}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzIyMDY1OA==", "bodyText": "done", "url": "https://github.com/IBM/FHIR/pull/685#discussion_r377220658", "createdAt": "2020-02-10T17:53:09Z", "author": {"login": "lmsurpre"}, "path": "fhir-path/src/main/java/com/ibm/fhir/path/patch/FHIRPathPatch.java", "diffHunk": "@@ -17,33 +16,189 @@\n import com.ibm.fhir.model.resource.Parameters;\n import com.ibm.fhir.model.resource.Parameters.Parameter;\n import com.ibm.fhir.model.resource.Resource;\n+import com.ibm.fhir.model.type.Code;\n+import com.ibm.fhir.model.type.Element;\n \n public class FHIRPathPatch implements FHIRPatch {\n-    private List<FHIRPathPatchOperation> operations;\n+    private final List<FHIRPathPatchOperation> operations;\n \n+    private FHIRPathPatch(Builder builder) {\n+        this.operations = Collections.unmodifiableList(builder.operations);\n+    }\n+    \n+    @Override\n+    public <T extends Resource> T apply(T resource) throws FHIRPatchException {\n+        for (FHIRPathPatchOperation fhirPathPatchOperation : operations) {\n+            resource = fhirPathPatchOperation.apply(resource);\n+        }\n+        return resource;\n+    }\n+    \n     /**\n+     * Convert the FHIRPathPatch to a FHIR Parameters resource\n+     */\n+    public Parameters toParameters() {\n+        Parameters.Builder builder = Parameters.builder();\n+        for (FHIRPathPatchOperation operation : operations) {\n+            builder.parameter(operation.toParameter());\n+        }\n+        return builder.build();\n+    }\n+    \n+    public Builder toBuilder() {\n+        return new Builder().from(this);\n+    }\n+    \n+    public static Builder builder() {\n+        return new Builder();\n+    }\n+    \n+    public static class Builder { \n+        private List<FHIRPathPatchOperation> operations = new ArrayList<>(3);\n+        \n+        private Builder() {\n+            // hidden constructor\n+        }\n+    \n+        public Builder add(String path, String elementName, Element element) {\n+            operations.add(new FHIRPathPatchAdd(path, elementName, element));\n+            return this;\n+        }\n+        \n+        public Builder delete(String path) {\n+            operations.add(new FHIRPathPatchDelete(path));\n+            return this;\n+        }\n+        \n+        public Builder insert(String path, Element element, Integer index) {\n+            operations.add(new FHIRPathPatchInsert(path, element, index));\n+            return this;\n+        }\n+        \n+        public Builder move(String path, Integer source, Integer destination) {\n+            operations.add(new FHIRPathPatchMove(path, source, destination));\n+            return this;\n+        }\n+        \n+        public Builder replace(String path, Element element) {\n+            operations.add(new FHIRPathPatchReplace(path, element));\n+            return this;\n+        }\n+        \n+        /**\n+         * Build the {@link FHIRPathPatch}\n+         * \n+         * @return\n+         *     An immutable object of type {@link FHIRPathPatch}\n+         */\n+        public FHIRPathPatch build() {\n+            return new FHIRPathPatch(this);\n+        }\n+\n+        protected Builder from(FHIRPathPatch patch) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzA4Njg0MA=="}, "originalCommit": {"oid": "546abc236816a27d57b04fe1e45adad4b7cae91d"}, "originalPosition": 92}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 252, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}