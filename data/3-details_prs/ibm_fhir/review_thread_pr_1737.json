{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI0MDk5MTk2", "number": 1737, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMTowOTozMlrOE7fy7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMToxMjo0MlrOE7f3LA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwODIyMzgyOnYy", "diffSide": "LEFT", "path": "fhir-search/src/main/java/com/ibm/fhir/search/util/SearchUtil.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMTowOTozMlrOH3LXkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMzo0MDo0OFrOH3QD1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYxOTk4Nw==", "bodyText": "I noticed we lost a couple TODOs in the scope of these changes.  We should probably talk about these and possibly open an enhancement request so that we don't lose this thought.\nThe idea is to include a OperationOutcome with an Issue of type warning with information about the ignored parameter.  However, I think that clients would only receive that OperationOutcome if either:\nA. they specify a \"return preference\" of OperationOutcome (via the Prefer header); or\nB. something else goes wrong causing us to return an OperationOutcome\nFor search, we would need to set the Bundle.entry.search.mode value of this OperationOutcome entry to outcome.", "url": "https://github.com/IBM/FHIR/pull/1737#discussion_r527619987", "createdAt": "2020-11-20T11:09:32Z", "author": {"login": "lmsurpre"}, "path": "fhir-search/src/main/java/com/ibm/fhir/search/util/SearchUtil.java", "diffHunk": "@@ -700,14 +700,8 @@ public static FHIRSearchContext parseQueryParameters(Class<?> resourceType,\n                         if (ModelSupport.isResourceType(resType)) {\n                             resourceTypes.add(resType);\n                         } else {\n-                            String msg = \"_type search parameter has invalid resource type:\" + resType;\n-                            if (lenient) {\n-                                // TODO add this to the list of supplemental warnings?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6eb13ece972d324e95a0de18d08414f9e869fac3"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY5Njg1Mg==", "bodyText": "I think this makes sense. I assume it would apply to all instances where we're in lenient mode and we ignore a parameter. Are there other cases where we ignore parameters?", "url": "https://github.com/IBM/FHIR/pull/1737#discussion_r527696852", "createdAt": "2020-11-20T13:40:48Z", "author": {"login": "michaelwschroeder"}, "path": "fhir-search/src/main/java/com/ibm/fhir/search/util/SearchUtil.java", "diffHunk": "@@ -700,14 +700,8 @@ public static FHIRSearchContext parseQueryParameters(Class<?> resourceType,\n                         if (ModelSupport.isResourceType(resType)) {\n                             resourceTypes.add(resType);\n                         } else {\n-                            String msg = \"_type search parameter has invalid resource type:\" + resType;\n-                            if (lenient) {\n-                                // TODO add this to the list of supplemental warnings?", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYxOTk4Nw=="}, "originalCommit": {"oid": "6eb13ece972d324e95a0de18d08414f9e869fac3"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwODIzNDY4OnYy", "diffSide": "RIGHT", "path": "fhir-search/src/test/java/com/ibm/fhir/search/test/InclusionParameterParseTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMToxMjo0MlrOH3Ld5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMzozNjo1MFrOH3P7Fg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYyMTYwNQ==", "bodyText": "Once we went open source, we decided to remove @author tags from the code, but rather than all at once we just remove them as we find them.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             *\n          \n          \n            \n             * @author markd\n          \n          \n            \n             * @author pbastide", "url": "https://github.com/IBM/FHIR/pull/1737#discussion_r527621605", "createdAt": "2020-11-20T11:12:42Z", "author": {"login": "lmsurpre"}, "path": "fhir-search/src/test/java/com/ibm/fhir/search/test/InclusionParameterParseTest.java", "diffHunk": "@@ -34,7 +34,7 @@\n /**\n  * This TestNG test class contains methods that test the parsing of search result inclusion parameters (_include and\n  * _revinclude) in the SearchUtil class.\n- * \n+ *\n  * @author markd\n  * @author pbastide", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6eb13ece972d324e95a0de18d08414f9e869fac3"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzY5NDYxNA==", "bodyText": "done", "url": "https://github.com/IBM/FHIR/pull/1737#discussion_r527694614", "createdAt": "2020-11-20T13:36:50Z", "author": {"login": "michaelwschroeder"}, "path": "fhir-search/src/test/java/com/ibm/fhir/search/test/InclusionParameterParseTest.java", "diffHunk": "@@ -34,7 +34,7 @@\n /**\n  * This TestNG test class contains methods that test the parsing of search result inclusion parameters (_include and\n  * _revinclude) in the SearchUtil class.\n- * \n+ *\n  * @author markd\n  * @author pbastide", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYyMTYwNQ=="}, "originalCommit": {"oid": "6eb13ece972d324e95a0de18d08414f9e869fac3"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4633, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}