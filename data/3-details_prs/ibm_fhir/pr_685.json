{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyMTU1Njk4", "number": 685, "title": "Refactored FHIRPathPatch into builder pattern", "bodyText": "Also:\n\nadded toParameters() to set up use from the client\nremoved hacky logic for retrieving the element name from a path\nIt turns out that our FHIRPathNode object already exposes the element\nname from a selected node.\nThis works for all cases other than inserting an element at position 0\nof an empty list, and its not clear from the spec whether that should be\nsupported or not. Now we throw UnsupportedOperationException in that\ncase.\nreduced the visibility of all the patch visitors, added null\nchecks, and improved documentation of both the visitors and select\nmethods in the FHIRPath model.\nfixed major issue caused by use of parent identity in the fhirpathpatch visitors\n\nSigned-off-by: Lee Surprenant lmsurpre@us.ibm.com", "createdAt": "2020-02-06T23:05:28Z", "url": "https://github.com/IBM/FHIR/pull/685", "merged": true, "mergeCommit": {"oid": "ceb6a4c62d4c850dd473ffe44530ead77815f34b"}, "closed": true, "closedAt": "2020-02-10T19:08:38Z", "author": {"login": "lmsurpre"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBzB0UgBqjMwMTU4MDg1NDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDB_BmAFqTM1NjE4NzkyNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0a7e6758965525451e66d1cbcfefdd00405b2b86", "author": {"user": {"login": "lmsurpre", "name": "Lee Surprenant"}}, "url": "https://github.com/IBM/FHIR/commit/0a7e6758965525451e66d1cbcfefdd00405b2b86", "committedDate": "2020-02-06T23:04:29Z", "message": "Refactored FHIRPathPatch into builder pattern\n\nalso added `toParameters()` to set up use from the client\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>"}, "afterCommit": {"oid": "4be6b9c6839059f5ccff8fa6585d1203722f92a8", "author": {"user": {"login": "lmsurpre", "name": "Lee Surprenant"}}, "url": "https://github.com/IBM/FHIR/commit/4be6b9c6839059f5ccff8fa6585d1203722f92a8", "committedDate": "2020-02-06T23:07:01Z", "message": "Refactored FHIRPathPatch into builder pattern\n\nalso added `toParameters()` to set up use from the client\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2bc1730890a55b883d6c65b947eb1da6c621f11e", "author": {"user": {"login": "lmsurpre", "name": "Lee Surprenant"}}, "url": "https://github.com/IBM/FHIR/commit/2bc1730890a55b883d6c65b947eb1da6c621f11e", "committedDate": "2020-02-07T03:39:12Z", "message": "Refactored FHIRPathPatch into builder pattern\n\nalso added `toParameters()` to set up use from the client\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4be6b9c6839059f5ccff8fa6585d1203722f92a8", "author": {"user": {"login": "lmsurpre", "name": "Lee Surprenant"}}, "url": "https://github.com/IBM/FHIR/commit/4be6b9c6839059f5ccff8fa6585d1203722f92a8", "committedDate": "2020-02-06T23:07:01Z", "message": "Refactored FHIRPathPatch into builder pattern\n\nalso added `toParameters()` to set up use from the client\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>"}, "afterCommit": {"oid": "2bc1730890a55b883d6c65b947eb1da6c621f11e", "author": {"user": {"login": "lmsurpre", "name": "Lee Surprenant"}}, "url": "https://github.com/IBM/FHIR/commit/2bc1730890a55b883d6c65b947eb1da6c621f11e", "committedDate": "2020-02-07T03:39:12Z", "message": "Refactored FHIRPathPatch into builder pattern\n\nalso added `toParameters()` to set up use from the client\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8557f024ca677b373c6cbc6325d82efd71b3d895", "author": {"user": {"login": "lmsurpre", "name": "Lee Surprenant"}}, "url": "https://github.com/IBM/FHIR/commit/8557f024ca677b373c6cbc6325d82efd71b3d895", "committedDate": "2020-02-07T17:47:36Z", "message": "Remove hacky logic for retrieving the element name from a path\n\nIt turns out that our FHIRPathNode object already exposes the element\nname from a selected node.\nThis works for all cases other than inserting an element at position 0\nof an empty list, and its not clear from the spec whether that should be\nsupported or not. Now we throw UnsupportedOperationException in that\ncase.\n\nI also reduced the visibility of all the patch visitors, added null\nchecks, and improved documentation of both the visitors and a few select\nmethods in the FHIRPath model.\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>"}, "afterCommit": {"oid": "33ae76cdb1c9923f97d9984cc8375087c6fc4ed2", "author": {"user": {"login": "lmsurpre", "name": "Lee Surprenant"}}, "url": "https://github.com/IBM/FHIR/commit/33ae76cdb1c9923f97d9984cc8375087c6fc4ed2", "committedDate": "2020-02-07T17:55:35Z", "message": "Remove hacky logic for retrieving the element name from a path\n\nIt turns out that our FHIRPathNode object already exposes the element\nname from a selected node.\nThis works for all cases other than inserting an element at position 0\nof an empty list, and its not clear from the spec whether that should be\nsupported or not. Now we throw UnsupportedOperationException in that\ncase.\n\nI also reduced the visibility of all the patch visitors, added null\nchecks, and improved documentation of both the visitors and a few select\nmethods in the FHIRPath model.\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "33ae76cdb1c9923f97d9984cc8375087c6fc4ed2", "author": {"user": {"login": "lmsurpre", "name": "Lee Surprenant"}}, "url": "https://github.com/IBM/FHIR/commit/33ae76cdb1c9923f97d9984cc8375087c6fc4ed2", "committedDate": "2020-02-07T17:55:35Z", "message": "Remove hacky logic for retrieving the element name from a path\n\nIt turns out that our FHIRPathNode object already exposes the element\nname from a selected node.\nThis works for all cases other than inserting an element at position 0\nof an empty list, and its not clear from the spec whether that should be\nsupported or not. Now we throw UnsupportedOperationException in that\ncase.\n\nI also reduced the visibility of all the patch visitors, added null\nchecks, and improved documentation of both the visitors and a few select\nmethods in the FHIRPath model.\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>"}, "afterCommit": {"oid": "16ddc236037f696aaabbcd7a105f88cdf98fef44", "author": {"user": {"login": "lmsurpre", "name": "Lee Surprenant"}}, "url": "https://github.com/IBM/FHIR/commit/16ddc236037f696aaabbcd7a105f88cdf98fef44", "committedDate": "2020-02-07T21:48:35Z", "message": "Remove hacky logic for retrieving the element name from a path\n\nIt turns out that our FHIRPathNode object already exposes the element\nname from a selected node.\nThis works for all cases other than inserting an element at position 0\nof an empty list, and its not clear from the spec whether that should be\nsupported or not. Now we throw UnsupportedOperationException in that\ncase.\n\nI also reduced the visibility of all the patch visitors, added null\nchecks, and improved documentation of both the visitors and a few select\nmethods in the FHIRPath model.\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ddc202cc8c6433a50daa7a09d96bae7c8ddc6b1", "author": {"user": {"login": "lmsurpre", "name": "Lee Surprenant"}}, "url": "https://github.com/IBM/FHIR/commit/7ddc202cc8c6433a50daa7a09d96bae7c8ddc6b1", "committedDate": "2020-02-07T21:51:53Z", "message": "Remove hacky logic for retrieving the element name from a path\n\nIt turns out that our FHIRPathNode object already exposes the element\nname from a selected node.\nThis works for all cases other than inserting an element at position 0\nof an empty list, and its not clear from the spec whether that should be\nsupported or not. Now we throw UnsupportedOperationException in that\ncase.\n\nI also reduced the visibility of all the patch visitors, added null\nchecks, and improved documentation of both the visitors and a few select\nmethods in the FHIRPath model.\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "16ddc236037f696aaabbcd7a105f88cdf98fef44", "author": {"user": {"login": "lmsurpre", "name": "Lee Surprenant"}}, "url": "https://github.com/IBM/FHIR/commit/16ddc236037f696aaabbcd7a105f88cdf98fef44", "committedDate": "2020-02-07T21:48:35Z", "message": "Remove hacky logic for retrieving the element name from a path\n\nIt turns out that our FHIRPathNode object already exposes the element\nname from a selected node.\nThis works for all cases other than inserting an element at position 0\nof an empty list, and its not clear from the spec whether that should be\nsupported or not. Now we throw UnsupportedOperationException in that\ncase.\n\nI also reduced the visibility of all the patch visitors, added null\nchecks, and improved documentation of both the visitors and a few select\nmethods in the FHIRPath model.\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>"}, "afterCommit": {"oid": "7ddc202cc8c6433a50daa7a09d96bae7c8ddc6b1", "author": {"user": {"login": "lmsurpre", "name": "Lee Surprenant"}}, "url": "https://github.com/IBM/FHIR/commit/7ddc202cc8c6433a50daa7a09d96bae7c8ddc6b1", "committedDate": "2020-02-07T21:51:53Z", "message": "Remove hacky logic for retrieving the element name from a path\n\nIt turns out that our FHIRPathNode object already exposes the element\nname from a selected node.\nThis works for all cases other than inserting an element at position 0\nof an empty list, and its not clear from the spec whether that should be\nsupported or not. Now we throw UnsupportedOperationException in that\ncase.\n\nI also reduced the visibility of all the patch visitors, added null\nchecks, and improved documentation of both the visitors and a few select\nmethods in the FHIRPath model.\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56877783c0f449872ce150536286f3bed39d86ea", "author": {"user": {"login": "lmsurpre", "name": "Lee Surprenant"}}, "url": "https://github.com/IBM/FHIR/commit/56877783c0f449872ce150536286f3bed39d86ea", "committedDate": "2020-02-07T23:23:48Z", "message": "Added FHIRPathPatchBuilderTest and fixed bug in AddingVisitor\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "546abc236816a27d57b04fe1e45adad4b7cae91d", "author": {"user": {"login": "lmsurpre", "name": "Lee Surprenant"}}, "url": "https://github.com/IBM/FHIR/commit/546abc236816a27d57b04fe1e45adad4b7cae91d", "committedDate": "2020-02-08T22:29:15Z", "message": "issue #679 - fixed major issue caused by use of parent identity\n\nThe previous approach failed in certain cases when the Visitable tree\ncontains the exact same object in multiple different places (e.g. adding\nto a name when that same name object is repeated twice in teh same\nlist).\n\nWith this change, the CopyingVisitor now keeps its own pathStack and we\nuse the normalized path of FHIRPath nodes and/or their parent to ensure\nwe're only modifying the proper paths in the tree.\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8ab77ded9498b479747622a3cc61ae43787ee305", "author": {"user": {"login": "lmsurpre", "name": "Lee Surprenant"}}, "url": "https://github.com/IBM/FHIR/commit/8ab77ded9498b479747622a3cc61ae43787ee305", "committedDate": "2020-02-08T19:36:35Z", "message": "issue #679 - fixed major issue caused by use of parent identity\n\nThe previous approach failed in certain cases when the Visitable tree\ncontains the exact same object in multiple different places (e.g. adding\nto a name when that same name object is repeated twice in teh same\nlist).\n\nWith this change, the CopyingVisitor now keeps its own pathStack and we\nuse the normalized path of FHIRPath nodes and/or their parent to ensure\nwe're only modifying the proper paths in the tree.\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>"}, "afterCommit": {"oid": "546abc236816a27d57b04fe1e45adad4b7cae91d", "author": {"user": {"login": "lmsurpre", "name": "Lee Surprenant"}}, "url": "https://github.com/IBM/FHIR/commit/546abc236816a27d57b04fe1e45adad4b7cae91d", "committedDate": "2020-02-08T22:29:15Z", "message": "issue #679 - fixed major issue caused by use of parent identity\n\nThe previous approach failed in certain cases when the Visitable tree\ncontains the exact same object in multiple different places (e.g. adding\nto a name when that same name object is repeated twice in teh same\nlist).\n\nWith this change, the CopyingVisitor now keeps its own pathStack and we\nuse the normalized path of FHIRPath nodes and/or their parent to ensure\nwe're only modifying the proper paths in the tree.\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1OTU3NDg1", "url": "https://github.com/IBM/FHIR/pull/685#pullrequestreview-355957485", "createdAt": "2020-02-10T14:01:56Z", "commit": {"oid": "546abc236816a27d57b04fe1e45adad4b7cae91d"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQxNDowMTo1NlrOFnnGrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQxNDoxNToxN1rOFnnjeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzA3OTQ2OQ==", "bodyText": "Is there a constant for this defined somewhere?", "url": "https://github.com/IBM/FHIR/pull/685#discussion_r377079469", "createdAt": "2020-02-10T14:01:56Z", "author": {"login": "bfelaco"}, "path": "fhir-path/src/main/java/com/ibm/fhir/path/patch/FHIRPathPatch.java", "diffHunk": "@@ -17,33 +16,189 @@\n import com.ibm.fhir.model.resource.Parameters;\n import com.ibm.fhir.model.resource.Parameters.Parameter;\n import com.ibm.fhir.model.resource.Resource;\n+import com.ibm.fhir.model.type.Code;\n+import com.ibm.fhir.model.type.Element;\n \n public class FHIRPathPatch implements FHIRPatch {\n-    private List<FHIRPathPatchOperation> operations;\n+    private final List<FHIRPathPatchOperation> operations;\n \n+    private FHIRPathPatch(Builder builder) {\n+        this.operations = Collections.unmodifiableList(builder.operations);\n+    }\n+    \n+    @Override\n+    public <T extends Resource> T apply(T resource) throws FHIRPatchException {\n+        for (FHIRPathPatchOperation fhirPathPatchOperation : operations) {\n+            resource = fhirPathPatchOperation.apply(resource);\n+        }\n+        return resource;\n+    }\n+    \n     /**\n+     * Convert the FHIRPathPatch to a FHIR Parameters resource\n+     */\n+    public Parameters toParameters() {\n+        Parameters.Builder builder = Parameters.builder();\n+        for (FHIRPathPatchOperation operation : operations) {\n+            builder.parameter(operation.toParameter());\n+        }\n+        return builder.build();\n+    }\n+    \n+    public Builder toBuilder() {\n+        return new Builder().from(this);\n+    }\n+    \n+    public static Builder builder() {\n+        return new Builder();\n+    }\n+    \n+    public static class Builder { \n+        private List<FHIRPathPatchOperation> operations = new ArrayList<>(3);\n+        \n+        private Builder() {\n+            // hidden constructor\n+        }\n+    \n+        public Builder add(String path, String elementName, Element element) {\n+            operations.add(new FHIRPathPatchAdd(path, elementName, element));\n+            return this;\n+        }\n+        \n+        public Builder delete(String path) {\n+            operations.add(new FHIRPathPatchDelete(path));\n+            return this;\n+        }\n+        \n+        public Builder insert(String path, Element element, Integer index) {\n+            operations.add(new FHIRPathPatchInsert(path, element, index));\n+            return this;\n+        }\n+        \n+        public Builder move(String path, Integer source, Integer destination) {\n+            operations.add(new FHIRPathPatchMove(path, source, destination));\n+            return this;\n+        }\n+        \n+        public Builder replace(String path, Element element) {\n+            operations.add(new FHIRPathPatchReplace(path, element));\n+            return this;\n+        }\n+        \n+        /**\n+         * Build the {@link FHIRPathPatch}\n+         * \n+         * @return\n+         *     An immutable object of type {@link FHIRPathPatch}\n+         */\n+        public FHIRPathPatch build() {\n+            return new FHIRPathPatch(this);\n+        }\n+\n+        protected Builder from(FHIRPathPatch patch) {\n+            operations.addAll(patch.operations);\n+            return this;\n+        }\n+    }\n+    \n+    /**\n+     * Parse a FHIRPathPatch from a FHIR Parameters resource\n+     * \n      * @throws IllegalArgumentException if the Parameters object does not satisfy the requirements of a FHIRPath Patch\n      */\n-    public FHIRPathPatch(Parameters params) {\n+    public static FHIRPathPatch from(Parameters params) {\n         Objects.requireNonNull(params);\n-        operations = new ArrayList<FHIRPathPatchOperation>(2);\n+        Builder builder = FHIRPathPatch.builder();\n+        \n         for (Parameter param : params.getParameter()) {\n             if (!\"operation\".equals(param.getName().getValue())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "546abc236816a27d57b04fe1e45adad4b7cae91d"}, "originalPosition": 110}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzA4Njg0MA==", "bodyText": "Is the intention of making this an instance method to support inter-mixing other patches with manually added operations like this?\n     FHIRPathPatch.builder()\n          .add(...)\n          .move(...)\n          .from(someExistingPatch)\n          .from(someOtherPatch)\n          .build();\nOr were you only thinking of the simple case of just wanting to mutate a single existing immutable FHIRPathPatch?\nIf you want to allow/support the former, then you should make this method public so anyone can do it. If not, then I'd suggest changing this to an additional private ctor which can only be used by the toBuilder() method of the outer class.", "url": "https://github.com/IBM/FHIR/pull/685#discussion_r377086840", "createdAt": "2020-02-10T14:15:17Z", "author": {"login": "bfelaco"}, "path": "fhir-path/src/main/java/com/ibm/fhir/path/patch/FHIRPathPatch.java", "diffHunk": "@@ -17,33 +16,189 @@\n import com.ibm.fhir.model.resource.Parameters;\n import com.ibm.fhir.model.resource.Parameters.Parameter;\n import com.ibm.fhir.model.resource.Resource;\n+import com.ibm.fhir.model.type.Code;\n+import com.ibm.fhir.model.type.Element;\n \n public class FHIRPathPatch implements FHIRPatch {\n-    private List<FHIRPathPatchOperation> operations;\n+    private final List<FHIRPathPatchOperation> operations;\n \n+    private FHIRPathPatch(Builder builder) {\n+        this.operations = Collections.unmodifiableList(builder.operations);\n+    }\n+    \n+    @Override\n+    public <T extends Resource> T apply(T resource) throws FHIRPatchException {\n+        for (FHIRPathPatchOperation fhirPathPatchOperation : operations) {\n+            resource = fhirPathPatchOperation.apply(resource);\n+        }\n+        return resource;\n+    }\n+    \n     /**\n+     * Convert the FHIRPathPatch to a FHIR Parameters resource\n+     */\n+    public Parameters toParameters() {\n+        Parameters.Builder builder = Parameters.builder();\n+        for (FHIRPathPatchOperation operation : operations) {\n+            builder.parameter(operation.toParameter());\n+        }\n+        return builder.build();\n+    }\n+    \n+    public Builder toBuilder() {\n+        return new Builder().from(this);\n+    }\n+    \n+    public static Builder builder() {\n+        return new Builder();\n+    }\n+    \n+    public static class Builder { \n+        private List<FHIRPathPatchOperation> operations = new ArrayList<>(3);\n+        \n+        private Builder() {\n+            // hidden constructor\n+        }\n+    \n+        public Builder add(String path, String elementName, Element element) {\n+            operations.add(new FHIRPathPatchAdd(path, elementName, element));\n+            return this;\n+        }\n+        \n+        public Builder delete(String path) {\n+            operations.add(new FHIRPathPatchDelete(path));\n+            return this;\n+        }\n+        \n+        public Builder insert(String path, Element element, Integer index) {\n+            operations.add(new FHIRPathPatchInsert(path, element, index));\n+            return this;\n+        }\n+        \n+        public Builder move(String path, Integer source, Integer destination) {\n+            operations.add(new FHIRPathPatchMove(path, source, destination));\n+            return this;\n+        }\n+        \n+        public Builder replace(String path, Element element) {\n+            operations.add(new FHIRPathPatchReplace(path, element));\n+            return this;\n+        }\n+        \n+        /**\n+         * Build the {@link FHIRPathPatch}\n+         * \n+         * @return\n+         *     An immutable object of type {@link FHIRPathPatch}\n+         */\n+        public FHIRPathPatch build() {\n+            return new FHIRPathPatch(this);\n+        }\n+\n+        protected Builder from(FHIRPathPatch patch) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "546abc236816a27d57b04fe1e45adad4b7cae91d"}, "originalPosition": 92}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e37f7a61a8ff3a518ed92826d4a1eeded1f51696", "author": {"user": {"login": "lmsurpre", "name": "Lee Surprenant"}}, "url": "https://github.com/IBM/FHIR/commit/e37f7a61a8ff3a518ed92826d4a1eeded1f51696", "committedDate": "2020-02-10T17:02:53Z", "message": "Update fhir-path/src/main/java/com/ibm/fhir/path/patch/FHIRPathPatch.java\r\n\r\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fc6945124fe3cd6cb93b2ed0f442dac86c2ecfe", "author": {"user": {"login": "lmsurpre", "name": "Lee Surprenant"}}, "url": "https://github.com/IBM/FHIR/commit/7fc6945124fe3cd6cb93b2ed0f442dac86c2ecfe", "committedDate": "2020-02-10T17:52:48Z", "message": "Convert from to public and add javadoc to FHIRPathPatch builder setters\n\nBy converting `FHIRPathPatch.Builder.from(FHIRPathPatch)` to public, its\nnow possible to combine multiple FHIRPathPatch objects into a single\nFHIRPathPatch.\n\nSigned-off-by: Lee Surprenant <lmsurpre@us.ibm.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2MTY1MDAz", "url": "https://github.com/IBM/FHIR/pull/685#pullrequestreview-356165003", "createdAt": "2020-02-10T18:31:43Z", "commit": {"oid": "7fc6945124fe3cd6cb93b2ed0f442dac86c2ecfe"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU2MTg3OTI1", "url": "https://github.com/IBM/FHIR/pull/685#pullrequestreview-356187925", "createdAt": "2020-02-10T19:06:37Z", "commit": {"oid": "7fc6945124fe3cd6cb93b2ed0f442dac86c2ecfe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 688, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}