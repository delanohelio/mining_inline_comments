{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4MDY3NzEw", "number": 836, "reviewThreads": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQyMDozOToyMlrOEHuMwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMzoyMjo0OFrOEIKpjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NTMyNDE4OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQyMDozOToyMlrOGnQLaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNzoyMTo1N1rOGnzJ3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgxMjcxMg==", "bodyText": "Should be a Secret since it contains keys. Use stringData instead of data for secret", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r443812712", "createdAt": "2020-06-22T20:39:22Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM4NTc1Nw==", "bodyText": "Changed to Secret and utilized stringData", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r444385757", "createdAt": "2020-06-23T17:21:57Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgxMjcxMg=="}, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NTMzMDA4OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQyMDo0MDo1OVrOGnQO6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNzoyMjowM1rOGnzKIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgxMzYxMQ==", "bodyText": "Shouldn't use always for checked in manifests. Can remove as it defaults to IfNotPresent", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r443813611", "createdAt": "2020-06-22T20:40:59Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+    spec:\n+      restartPolicy: Never\n+      containers:\n+        - image: gcr.io/mirrornode/hedera-mirror-test:0.13.0-rc1\n+          imagePullPolicy: Always", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM4NTgyNw==", "bodyText": "Removed. Left over from frequent pre-master merge pushes", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r444385827", "createdAt": "2020-06-23T17:22:03Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+    spec:\n+      restartPolicy: Never\n+      containers:\n+        - image: gcr.io/mirrornode/hedera-mirror-test:0.13.0-rc1\n+          imagePullPolicy: Always", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgxMzYxMQ=="}, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NTM0MTI5OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQyMDo0NDoyN1rOGnQV4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNzoyMjowNlrOGnzKRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgxNTM5NQ==", "bodyText": "Should add pod anti affinity rules to schedule pods on different nodes:\naffinity:\n  podAntiAffinity:\n    preferredDuringSchedulingIgnoredDuringExecution:\n      - weight: 100\n        podAffinityTerm:\n          topologyKey: kubernetes.io/hostname\n          labelSelector:\n            matchLabels:\n              app.kubernetes.io/name: test", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r443815395", "createdAt": "2020-06-22T20:44:27Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+    spec:\n+      restartPolicy: Never", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM4NTg2Mw==", "bodyText": "Added", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r444385863", "createdAt": "2020-06-23T17:22:06Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+    spec:\n+      restartPolicy: Never", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgxNTM5NQ=="}, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NTM2MzkyOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQyMDo1MTo0OFrOGnQkNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxOToyOToyMVrOGn3hgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgxOTA2MA==", "bodyText": "Should add pod label app.kubernetes.io/name: test for use with affinity to spec.template.metadata.labels.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r443819060", "createdAt": "2020-06-22T20:51:48Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDQ1NzM0NA==", "bodyText": "Added", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r444457344", "createdAt": "2020-06-23T19:29:21Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgxOTA2MA=="}, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NTM2NjE5OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQyMDo1MjozMVrOGnQlrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNzoyMjozNVrOGnzLpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgxOTQzNg==", "bodyText": "Does replacer replace this version?", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r443819436", "createdAt": "2020-06-22T20:52:31Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+    spec:\n+      restartPolicy: Never\n+      containers:\n+        - image: gcr.io/mirrornode/hedera-mirror-test:0.13.0-rc1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM4NjIxNQ==", "bodyText": "Updated the pom to include these files.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r444386215", "createdAt": "2020-06-23T17:22:35Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+    spec:\n+      restartPolicy: Never\n+      containers:\n+        - image: gcr.io/mirrornode/hedera-mirror-test:0.13.0-rc1", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgxOTQzNg=="}, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NTM2NjU3OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQyMDo1MjozOVrOGnQl4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMDoyNzowOFrOGn5UpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgxOTQ5MA==", "bodyText": "0.13.2", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r443819490", "createdAt": "2020-06-22T20:52:39Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+    spec:\n+      restartPolicy: Never\n+      containers:\n+        - image: gcr.io/mirrornode/hedera-mirror-test:0.13.0-rc1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDQ4NjgyMQ==", "bodyText": "Updated", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r444486821", "createdAt": "2020-06-23T20:27:08Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+    spec:\n+      restartPolicy: Never\n+      containers:\n+        - image: gcr.io/mirrornode/hedera-mirror-test:0.13.0-rc1", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgxOTQ5MA=="}, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NTM4ODUxOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQyMDo1OTo0OVrOGnQz6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNzoyMjo0NlrOGnzMEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgyMzA4Mg==", "bodyText": "Container name can be simpler like test since that's easier to remember and it's already within the context of job/pod name.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r443823082", "createdAt": "2020-06-22T20:59:49Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+    spec:\n+      restartPolicy: Never\n+      containers:\n+        - image: gcr.io/mirrornode/hedera-mirror-test:0.13.0-rc1\n+          imagePullPolicy: Always\n+          name: publish-test-img", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM4NjMyMg==", "bodyText": "Updated", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r444386322", "createdAt": "2020-06-23T17:22:46Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+    spec:\n+      restartPolicy: Never\n+      containers:\n+        - image: gcr.io/mirrornode/hedera-mirror-test:0.13.0-rc1\n+          imagePullPolicy: Always\n+          name: publish-test-img", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgyMzA4Mg=="}, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NTM5NTc1OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQyMTowMjowN1rOGnQ4hw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNzoyMzoxMlrOGnzNKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgyNDI2Mw==", "bodyText": "This is a bit strange. Does an application.yaml pick up if you put it in /usr/etc/hedera-mirror-node/hedera-mirror-test/ instead? Placing file within codebase seems wrong. Consider using SPRING_CONFIG_ADDITIONAL_LOCATION env variable to configure path outside of codebase.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r443824263", "createdAt": "2020-06-22T21:02:07Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+    spec:\n+      restartPolicy: Never\n+      containers:\n+        - image: gcr.io/mirrornode/hedera-mirror-test:0.13.0-rc1\n+          imagePullPolicy: Always\n+          name: publish-test-img\n+          env:\n+            - name: testProfile\n+              value: \"acceptance\"\n+            - name: cucumberFlags\n+              value: \"@PublishOnly\"\n+          volumeMounts:\n+            - name: publish-config-volume\n+              mountPath: /usr/etc/hedera-mirror-node/hedera-mirror-test/src/test/resources/application-default.yml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM4NjYwMw==", "bodyText": "Moved to /usr/etc/hedera-mirror-node/hedera-mirror-test/ and utilized SPRING_CONFIG_ADDITIONAL_LOCATION", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r444386603", "createdAt": "2020-06-23T17:23:12Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+    spec:\n+      restartPolicy: Never\n+      containers:\n+        - image: gcr.io/mirrornode/hedera-mirror-test:0.13.0-rc1\n+          imagePullPolicy: Always\n+          name: publish-test-img\n+          env:\n+            - name: testProfile\n+              value: \"acceptance\"\n+            - name: cucumberFlags\n+              value: \"@PublishOnly\"\n+          volumeMounts:\n+            - name: publish-config-volume\n+              mountPath: /usr/etc/hedera-mirror-node/hedera-mirror-test/src/test/resources/application-default.yml", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgyNDI2Mw=="}, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NTM5Njg4OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQyMTowMjozMFrOGnQ5LA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNzoyMzozOFrOGnzOAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgyNDQyOA==", "bodyText": "Name the key in ConfigMap as application-default.yaml then you don't need this items section and subPath in volumeMounts", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r443824428", "createdAt": "2020-06-22T21:02:30Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+    spec:\n+      restartPolicy: Never\n+      containers:\n+        - image: gcr.io/mirrornode/hedera-mirror-test:0.13.0-rc1\n+          imagePullPolicy: Always\n+          name: publish-test-img\n+          env:\n+            - name: testProfile\n+              value: \"acceptance\"\n+            - name: cucumberFlags\n+              value: \"@PublishOnly\"\n+          volumeMounts:\n+            - name: publish-config-volume\n+              mountPath: /usr/etc/hedera-mirror-node/hedera-mirror-test/src/test/resources/application-default.yml\n+              subPath: application-default.yml\n+      volumes:\n+        - name: publish-config-volume\n+          configMap:\n+            defaultMode: 0555\n+            name: hcs-perf-publish-config\n+            items:\n+              - key: application-yaml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM4NjgxOQ==", "bodyText": "Made the key change and removed the items section. Removing subPath under volumeMounts causes properties file not to be found by spring on test run", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r444386819", "createdAt": "2020-06-23T17:23:38Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+    spec:\n+      restartPolicy: Never\n+      containers:\n+        - image: gcr.io/mirrornode/hedera-mirror-test:0.13.0-rc1\n+          imagePullPolicy: Always\n+          name: publish-test-img\n+          env:\n+            - name: testProfile\n+              value: \"acceptance\"\n+            - name: cucumberFlags\n+              value: \"@PublishOnly\"\n+          volumeMounts:\n+            - name: publish-config-volume\n+              mountPath: /usr/etc/hedera-mirror-node/hedera-mirror-test/src/test/resources/application-default.yml\n+              subPath: application-default.yml\n+      volumes:\n+        - name: publish-config-volume\n+          configMap:\n+            defaultMode: 0555\n+            name: hcs-perf-publish-config\n+            items:\n+              - key: application-yaml", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgyNDQyOA=="}, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NTQwNjk0OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQyMTowNTo0N1rOGnQ_ZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNzoyMzo0MVrOGnzOKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgyNjAyMQ==", "bodyText": "420 would be more appropriate", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r443826021", "createdAt": "2020-06-22T21:05:47Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+    spec:\n+      restartPolicy: Never\n+      containers:\n+        - image: gcr.io/mirrornode/hedera-mirror-test:0.13.0-rc1\n+          imagePullPolicy: Always\n+          name: publish-test-img\n+          env:\n+            - name: testProfile\n+              value: \"acceptance\"\n+            - name: cucumberFlags\n+              value: \"@PublishOnly\"\n+          volumeMounts:\n+            - name: publish-config-volume\n+              mountPath: /usr/etc/hedera-mirror-node/hedera-mirror-test/src/test/resources/application-default.yml\n+              subPath: application-default.yml\n+      volumes:\n+        - name: publish-config-volume\n+          configMap:\n+            defaultMode: 0555", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDM4Njg1OA==", "bodyText": "Changed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r444386858", "createdAt": "2020-06-23T17:23:41Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+    spec:\n+      restartPolicy: Never\n+      containers:\n+        - image: gcr.io/mirrornode/hedera-mirror-test:0.13.0-rc1\n+          imagePullPolicy: Always\n+          name: publish-test-img\n+          env:\n+            - name: testProfile\n+              value: \"acceptance\"\n+            - name: cucumberFlags\n+              value: \"@PublishOnly\"\n+          volumeMounts:\n+            - name: publish-config-volume\n+              mountPath: /usr/etc/hedera-mirror-node/hedera-mirror-test/src/test/resources/application-default.yml\n+              subPath: application-default.yml\n+      volumes:\n+        - name: publish-config-volume\n+          configMap:\n+            defaultMode: 0555", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgyNjAyMQ=="}, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NTQxMDIyOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQyMTowNjo1OVrOGnRBgQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwODowMzoxMVrOGoHT_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgyNjU2MQ==", "bodyText": "A container level securityContext would be good so we're not running as root (same level as env):\nsecurityContext:\n  capabilities:\n    drop: [ALL]\n  readOnlyRootFilesystem: true\n  runAsGroup: 1000\n  runAsNonRoot: true\n  runAsUser: 1000", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r443826561", "createdAt": "2020-06-22T21:06:59Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+    spec:\n+      restartPolicy: Never\n+      containers:\n+        - image: gcr.io/mirrornode/hedera-mirror-test:0.13.0-rc1\n+          imagePullPolicy: Always\n+          name: publish-test-img\n+          env:\n+            - name: testProfile\n+              value: \"acceptance\"\n+            - name: cucumberFlags\n+              value: \"@PublishOnly\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDQ1NzQ5NA==", "bodyText": "Tried, but seems to cause Exception in thread \"main\" java.io.FileNotFoundException: ?/.m2/wrapper/dists/apache-maven-3.6.3-bin/1iopthnavndlasol9gbrbg6bf2/apache-maven-3.6.3-bin.zip.part (No such file or directory)\nCan come back to it", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r444457494", "createdAt": "2020-06-23T19:29:38Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+    spec:\n+      restartPolicy: Never\n+      containers:\n+        - image: gcr.io/mirrornode/hedera-mirror-test:0.13.0-rc1\n+          imagePullPolicy: Always\n+          name: publish-test-img\n+          env:\n+            - name: testProfile\n+              value: \"acceptance\"\n+            - name: cucumberFlags\n+              value: \"@PublishOnly\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgyNjU2MQ=="}, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDQ3OTU4NQ==", "bodyText": "Can remove readOnlyRootFilesystem to overcome that", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r444479585", "createdAt": "2020-06-23T20:12:52Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+    spec:\n+      restartPolicy: Never\n+      containers:\n+        - image: gcr.io/mirrornode/hedera-mirror-test:0.13.0-rc1\n+          imagePullPolicy: Always\n+          name: publish-test-img\n+          env:\n+            - name: testProfile\n+              value: \"acceptance\"\n+            - name: cucumberFlags\n+              value: \"@PublishOnly\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgyNjU2MQ=="}, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxNjAyOA==", "bodyText": "As discussed offline I'll be leaving this out for now as it doesn't provide the expected results. We can come back to it in the future", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r444716028", "createdAt": "2020-06-24T08:03:11Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,52 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-publish-config\n+data:\n+  application-yaml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+    spec:\n+      restartPolicy: Never\n+      containers:\n+        - image: gcr.io/mirrornode/hedera-mirror-test:0.13.0-rc1\n+          imagePullPolicy: Always\n+          name: publish-test-img\n+          env:\n+            - name: testProfile\n+              value: \"acceptance\"\n+            - name: cucumberFlags\n+              value: \"@PublishOnly\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgyNjU2MQ=="}, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NTQxOTczOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-subscribe-test.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQyMToxMDoxMlrOGnRHfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxOTozMDoxNFrOGn3jZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgyODA5Mw==", "bodyText": "All the same comments to hcs-perf-publish-test.yml apply to this file as well.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r443828093", "createdAt": "2020-06-22T21:10:12Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-subscribe-test.yml", "diffHunk": "@@ -0,0 +1,56 @@\n+apiVersion: v1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDQ1NzgzMA==", "bodyText": "Applied, except kept the ConfigMap for the subscribe side", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r444457830", "createdAt": "2020-06-23T19:30:14Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-subscribe-test.yml", "diffHunk": "@@ -0,0 +1,56 @@\n+apiVersion: v1", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgyODA5Mw=="}, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2NTQyNTc5OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-test/README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQyMToxMjowN1rOGnRLQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMDowNjozN1rOGn4sLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgyOTA1OQ==", "bodyText": "I don't think this file is useful. It's not runnable as is and is quite a bit of config to get right. Would be better to just keep the concrete test cases that need minor tweaking to IPs, keys, etc.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r443829059", "createdAt": "2020-06-22T21:12:07Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-test/README.md", "diffHunk": "@@ -181,25 +209,96 @@ The initial jmx test plan files under `hedera-mirror-test/src/test/jmeter/` foll\n 4.  DB_Cleanup_Sampler - Cleans up the db\n     -   (See DB_Setup_Sampler options)\n \n+> **_Note:_** Subscribe_Only tests only cover section 3. No db operations are carried out.\n+\n+\n # 3 Containerized Run\n \n The hedera-mirror-test module offers a containerized distribution of the [acceptance](#acceptance-test-execution) and [performance](#performance-test-execution) tests.\n \n-## Image creation\n+## Kubernetes Cluster Run\n+\n+The repo provides a default Kubernetes [Job](https://kubernetes.io/docs/concepts/workloads/controllers/job/) and [ConfigMap](https://kubernetes.io/docs/concepts/configuration/configmap/) spec template in a single file under `hedera-mirror-test/src/test/resources/k8s/run-test.yml`\n+Running this file as follows will deploy a Kubernetes [pod](https://kubernetes.io/docs/concepts/workloads/pods/pod/) with a container that runs the acceptance or performance tests in the cloud.\n+\n+    kubectl apply -f hedera-mirror-test/src/test/resources/k8s/run-test.yml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDQ3NjQ2Mg==", "bodyText": "Agreed. Removed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r444476462", "createdAt": "2020-06-23T20:06:37Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-test/README.md", "diffHunk": "@@ -181,25 +209,96 @@ The initial jmx test plan files under `hedera-mirror-test/src/test/jmeter/` foll\n 4.  DB_Cleanup_Sampler - Cleans up the db\n     -   (See DB_Setup_Sampler options)\n \n+> **_Note:_** Subscribe_Only tests only cover section 3. No db operations are carried out.\n+\n+\n # 3 Containerized Run\n \n The hedera-mirror-test module offers a containerized distribution of the [acceptance](#acceptance-test-execution) and [performance](#performance-test-execution) tests.\n \n-## Image creation\n+## Kubernetes Cluster Run\n+\n+The repo provides a default Kubernetes [Job](https://kubernetes.io/docs/concepts/workloads/controllers/job/) and [ConfigMap](https://kubernetes.io/docs/concepts/configuration/configmap/) spec template in a single file under `hedera-mirror-test/src/test/resources/k8s/run-test.yml`\n+Running this file as follows will deploy a Kubernetes [pod](https://kubernetes.io/docs/concepts/workloads/pods/pod/) with a container that runs the acceptance or performance tests in the cloud.\n+\n+    kubectl apply -f hedera-mirror-test/src/test/resources/k8s/run-test.yml", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzgyOTA1OQ=="}, "originalCommit": {"oid": "9bc5461ba80312aed3b083b1b56cdfe221f99dc9"}, "originalPosition": 67}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2OTYzNzEwOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-subscribe-test.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMTowMToxN1rOGn6f4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwODowMjoxNlrOGoHSMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDUwNjA4Mg==", "bodyText": "This label does not match the label in the affinity, making affinity non-effective. This one should be app.kubernetes.io/name as it is the standard label.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r444506082", "createdAt": "2020-06-23T21:01:17Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-subscribe-test.yml", "diffHunk": "@@ -0,0 +1,68 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-subscribe-config\n+data:\n+  user-props: |-\n+    hedera.mirror.test.performance.host=hcs.testnet.mirrornode.hedera.com\n+    hedera.mirror.test.performance.port=5600\n+    hedera.mirror.test.performance.clientCount=1\n+    hedera.mirror.test.performance.sharedChannel=false\n+    hedera.mirror.test.performance.clientTopicId[0]=47020\n+    hedera.mirror.test.performance.clientStartTime[0]=\n+    hedera.mirror.test.performance.clientEndTime[0]=0\n+    hedera.mirror.test.performance.clientLimit[0]=0\n+    hedera.mirror.test.performance.clientRealmNum[0]=0\n+    hedera.mirror.test.performance.clientHistoricMessagesCount[0]=0\n+    hedera.mirror.test.performance.clientIncomingMessageCount[0]=10\n+    hedera.mirror.test.performance.clientSubscribeTimeoutSeconds[0]=60\n+    hedera.mirror.test.performance.clientMilliSecWaitBefore[0]=0\n+    hedera.mirror.test.performance.clientUseMAPI[0]=true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-subscribe-test\n+  labels:\n+    app.kubernetes.io/name: test\n+spec:\n+  completions: 3\n+  parallelism: 3\n+  template:\n+    metadata:\n+      name: hcs-perf-subscribe-test\n+      labels:\n+        app: test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1cac6e99c57d2e5e0bb2ee5b3ee58c5ae8a8822f"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxNTU2OQ==", "bodyText": "Fixed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r444715569", "createdAt": "2020-06-24T08:02:16Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-subscribe-test.yml", "diffHunk": "@@ -0,0 +1,68 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-subscribe-config\n+data:\n+  user-props: |-\n+    hedera.mirror.test.performance.host=hcs.testnet.mirrornode.hedera.com\n+    hedera.mirror.test.performance.port=5600\n+    hedera.mirror.test.performance.clientCount=1\n+    hedera.mirror.test.performance.sharedChannel=false\n+    hedera.mirror.test.performance.clientTopicId[0]=47020\n+    hedera.mirror.test.performance.clientStartTime[0]=\n+    hedera.mirror.test.performance.clientEndTime[0]=0\n+    hedera.mirror.test.performance.clientLimit[0]=0\n+    hedera.mirror.test.performance.clientRealmNum[0]=0\n+    hedera.mirror.test.performance.clientHistoricMessagesCount[0]=0\n+    hedera.mirror.test.performance.clientIncomingMessageCount[0]=10\n+    hedera.mirror.test.performance.clientSubscribeTimeoutSeconds[0]=60\n+    hedera.mirror.test.performance.clientMilliSecWaitBefore[0]=0\n+    hedera.mirror.test.performance.clientUseMAPI[0]=true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-subscribe-test\n+  labels:\n+    app.kubernetes.io/name: test\n+spec:\n+  completions: 3\n+  parallelism: 3\n+  template:\n+    metadata:\n+      name: hcs-perf-subscribe-test\n+      labels:\n+        app: test", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDUwNjA4Mg=="}, "originalCommit": {"oid": "1cac6e99c57d2e5e0bb2ee5b3ee58c5ae8a8822f"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2OTY3NDA5OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMToxMjo0OVrOGn62WQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwODowMTowNlrOGoHP3g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDUxMTgzMw==", "bodyText": "This label does not match the label in the affinity, making affinity non-effective. This one should be app.kubernetes.io/name as it is the standard label.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r444511833", "createdAt": "2020-06-23T21:12:49Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,63 @@\n+apiVersion: v1\n+kind: Secret\n+metadata:\n+  name: hcs-perf-publish-secret\n+stringData:\n+  application-default.yml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+  labels:\n+    app.kubernetes.io/name: test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+      labels:\n+        app: test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1cac6e99c57d2e5e0bb2ee5b3ee58c5ae8a8822f"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxNDk3NA==", "bodyText": "Fixed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r444714974", "createdAt": "2020-06-24T08:01:06Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-publish-test.yml", "diffHunk": "@@ -0,0 +1,63 @@\n+apiVersion: v1\n+kind: Secret\n+metadata:\n+  name: hcs-perf-publish-secret\n+stringData:\n+  application-default.yml: |-\n+    hedera:\n+      mirror:\n+        test:\n+          acceptance:\n+            messageTimeout: 60s\n+            nodeId: 0.0.3\n+            nodeAddress: testnet\n+            mirrornodeAddress: hcs.testnet.mirrornode.hedera.com:5600\n+            operatorid:\n+            operatorkey:\n+            existingTopicNum:\n+            emitBackgroundMessages: true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-publish-test\n+  labels:\n+    app.kubernetes.io/name: test\n+spec:\n+  completions: 1\n+  parallelism: 1\n+  template:\n+    metadata:\n+      name: hcs-perf-publish-test\n+      labels:\n+        app: test", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDUxMTgzMw=="}, "originalCommit": {"oid": "1cac6e99c57d2e5e0bb2ee5b3ee58c5ae8a8822f"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2OTk4NTQwOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-subscribe-test.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMzoyMjo0OFrOGn92RQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQwODowMTo1MVrOGoHRVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDU2MDk2NQ==", "bodyText": "As mentioned, you don't need items. Just name your key in secret as user.properties. Likewise you don't need subpath in mount as by default it will mount all files in secret in dir:\nvolumeMounts:\n- name: subscribe-config-volume\n  mountPath: /usr/etc/hedera-mirror-test", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r444560965", "createdAt": "2020-06-23T23:22:48Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-subscribe-test.yml", "diffHunk": "@@ -0,0 +1,68 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-subscribe-config\n+data:\n+  user-props: |-\n+    hedera.mirror.test.performance.host=hcs.testnet.mirrornode.hedera.com\n+    hedera.mirror.test.performance.port=5600\n+    hedera.mirror.test.performance.clientCount=1\n+    hedera.mirror.test.performance.sharedChannel=false\n+    hedera.mirror.test.performance.clientTopicId[0]=47020\n+    hedera.mirror.test.performance.clientStartTime[0]=\n+    hedera.mirror.test.performance.clientEndTime[0]=0\n+    hedera.mirror.test.performance.clientLimit[0]=0\n+    hedera.mirror.test.performance.clientRealmNum[0]=0\n+    hedera.mirror.test.performance.clientHistoricMessagesCount[0]=0\n+    hedera.mirror.test.performance.clientIncomingMessageCount[0]=10\n+    hedera.mirror.test.performance.clientSubscribeTimeoutSeconds[0]=60\n+    hedera.mirror.test.performance.clientMilliSecWaitBefore[0]=0\n+    hedera.mirror.test.performance.clientUseMAPI[0]=true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-subscribe-test\n+  labels:\n+    app.kubernetes.io/name: test\n+spec:\n+  completions: 3\n+  parallelism: 3\n+  template:\n+    metadata:\n+      name: hcs-perf-subscribe-test\n+      labels:\n+        app: test\n+    spec:\n+      affinity:\n+        podAntiAffinity:\n+          preferredDuringSchedulingIgnoredDuringExecution:\n+            - weight: 100\n+              podAffinityTerm:\n+                topologyKey: kubernetes.io/hostname\n+                labelSelector:\n+                  matchLabels:\n+                    app.kubernetes.io/name: test\n+      restartPolicy: Never\n+      containers:\n+        - image: gcr.io/mirrornode/hedera-mirror-test:0.13.2\n+          name: test\n+          env:\n+            - name: testProfile\n+              value: \"performance\"\n+            - name: subscribeThreadCount\n+              value: \"4\"\n+            - name: jmeter.test\n+              value: \"E2E_Subscribe_Only.jmx\"\n+          volumeMounts:\n+            - name: subscribe-config-volume\n+              mountPath: /usr/etc/hedera-mirror-node/hedera-mirror-test/user.properties\n+              subPath: user.properties\n+      volumes:\n+        - name: subscribe-config-volume\n+          configMap:\n+            defaultMode: 420\n+            name: hcs-perf-subscribe-config\n+            items:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1cac6e99c57d2e5e0bb2ee5b3ee58c5ae8a8822f"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDcxNTM1MA==", "bodyText": "Fixed. My issue was not using a directory outside of the repo source", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/836#discussion_r444715350", "createdAt": "2020-06-24T08:01:51Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-test/src/test/resources/k8s/hcs-perf-subscribe-test.yml", "diffHunk": "@@ -0,0 +1,68 @@\n+apiVersion: v1\n+kind: ConfigMap\n+metadata:\n+  name: hcs-perf-subscribe-config\n+data:\n+  user-props: |-\n+    hedera.mirror.test.performance.host=hcs.testnet.mirrornode.hedera.com\n+    hedera.mirror.test.performance.port=5600\n+    hedera.mirror.test.performance.clientCount=1\n+    hedera.mirror.test.performance.sharedChannel=false\n+    hedera.mirror.test.performance.clientTopicId[0]=47020\n+    hedera.mirror.test.performance.clientStartTime[0]=\n+    hedera.mirror.test.performance.clientEndTime[0]=0\n+    hedera.mirror.test.performance.clientLimit[0]=0\n+    hedera.mirror.test.performance.clientRealmNum[0]=0\n+    hedera.mirror.test.performance.clientHistoricMessagesCount[0]=0\n+    hedera.mirror.test.performance.clientIncomingMessageCount[0]=10\n+    hedera.mirror.test.performance.clientSubscribeTimeoutSeconds[0]=60\n+    hedera.mirror.test.performance.clientMilliSecWaitBefore[0]=0\n+    hedera.mirror.test.performance.clientUseMAPI[0]=true\n+---\n+apiVersion: batch/v1\n+kind: Job\n+metadata:\n+  name: hcs-perf-subscribe-test\n+  labels:\n+    app.kubernetes.io/name: test\n+spec:\n+  completions: 3\n+  parallelism: 3\n+  template:\n+    metadata:\n+      name: hcs-perf-subscribe-test\n+      labels:\n+        app: test\n+    spec:\n+      affinity:\n+        podAntiAffinity:\n+          preferredDuringSchedulingIgnoredDuringExecution:\n+            - weight: 100\n+              podAffinityTerm:\n+                topologyKey: kubernetes.io/hostname\n+                labelSelector:\n+                  matchLabels:\n+                    app.kubernetes.io/name: test\n+      restartPolicy: Never\n+      containers:\n+        - image: gcr.io/mirrornode/hedera-mirror-test:0.13.2\n+          name: test\n+          env:\n+            - name: testProfile\n+              value: \"performance\"\n+            - name: subscribeThreadCount\n+              value: \"4\"\n+            - name: jmeter.test\n+              value: \"E2E_Subscribe_Only.jmx\"\n+          volumeMounts:\n+            - name: subscribe-config-volume\n+              mountPath: /usr/etc/hedera-mirror-node/hedera-mirror-test/user.properties\n+              subPath: user.properties\n+      volumes:\n+        - name: subscribe-config-volume\n+          configMap:\n+            defaultMode: 420\n+            name: hcs-perf-subscribe-config\n+            items:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDU2MDk2NQ=="}, "originalCommit": {"oid": "1cac6e99c57d2e5e0bb2ee5b3ee58c5ae8a8822f"}, "originalPosition": 66}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1109, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}