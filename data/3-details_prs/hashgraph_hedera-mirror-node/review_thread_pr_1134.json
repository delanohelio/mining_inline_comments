{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0NDExNzg3", "number": 1134, "reviewThreads": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNzoyMjoyMVrOEva6-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQyMTo0Mjo0MFrOEvg-vg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MTU5NjExOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/client/hts/TokenTransferPublishAndRetrieveClient.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNzoyMjoyMVrOHkZK2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQyMzoxMDowNFrOHkk0OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzkyMzE2Mw==", "bodyText": "Missing license info", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r507923163", "createdAt": "2020-10-19T17:22:21Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/client/hts/TokenTransferPublishAndRetrieveClient.java", "diffHunk": "@@ -0,0 +1,167 @@\n+package com.hedera.mirror.grpc.jmeter.client.hts;\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODExMzk3Nw==", "bodyText": "License info should now be on all new classes thus far, I'll keep it in mind to add it as I refactor some of these into smaller classes.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r508113977", "createdAt": "2020-10-19T23:10:04Z", "author": {"login": "ijungmann"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/client/hts/TokenTransferPublishAndRetrieveClient.java", "diffHunk": "@@ -0,0 +1,167 @@\n+package com.hedera.mirror.grpc.jmeter.client.hts;\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzkyMzE2Mw=="}, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MTYyNzU1OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/client/hts/TokenTransferPublishClient.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNzozMDo0MFrOHkZfBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMDowMjoyM1rOHkl0mA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzkyODMyNA==", "bodyText": "Update comment\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    // read in nodes list, topic id, number of messages, message size\n          \n          \n            \n                    // read in nodes list, token id, number of transfers", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r507928324", "createdAt": "2020-10-19T17:30:40Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/client/hts/TokenTransferPublishClient.java", "diffHunk": "@@ -0,0 +1,160 @@\n+package com.hedera.mirror.grpc.jmeter.client.hts;\n+\n+import com.google.common.base.Stopwatch;\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.concurrent.Executors;\n+import java.util.concurrent.ScheduledExecutorService;\n+import java.util.concurrent.TimeUnit;\n+import java.util.stream.Collectors;\n+import lombok.extern.log4j.Log4j2;\n+import org.apache.jmeter.config.Arguments;\n+import org.apache.jmeter.protocol.java.sampler.AbstractJavaSamplerClient;\n+import org.apache.jmeter.protocol.java.sampler.JavaSamplerContext;\n+import org.apache.jmeter.samplers.SampleResult;\n+\n+import com.hedera.hashgraph.sdk.TransactionId;\n+import com.hedera.hashgraph.sdk.account.AccountId;\n+import com.hedera.hashgraph.sdk.crypto.ed25519.Ed25519PrivateKey;\n+import com.hedera.hashgraph.sdk.token.TokenId;\n+import com.hedera.mirror.grpc.jmeter.handler.PropertiesHandler;\n+import com.hedera.mirror.grpc.jmeter.handler.SDKClientHandler;\n+import com.hedera.mirror.grpc.jmeter.props.hts.TokenTransferRequest;\n+import com.hedera.mirror.grpc.jmeter.sampler.hts.TokenTransfersPublishSampler;\n+import com.hedera.mirror.grpc.jmeter.sampler.result.TransactionSubmissionResult;\n+\n+@Log4j2\n+public class TokenTransferPublishClient extends AbstractJavaSamplerClient {\n+    public static final String TRANSACTION_IDS_PROPERTY = \"transactionIds\";\n+    private PropertiesHandler propHandler;\n+    private List<SDKClientHandler> clientList;\n+    private TokenId tokenId;\n+    private int messagesPerBatchCount;\n+    private AccountId operatorId;\n+    private Ed25519PrivateKey operatorPrivateKey;\n+    private AccountId recipientId;\n+    private long transferAmount;\n+    private long publishTimeout;\n+    private long publishInterval;\n+    private boolean verifyTransactions;\n+    private long printStatusInterval;\n+\n+    @Override\n+    public void setupTest(JavaSamplerContext javaSamplerContext) {\n+        propHandler = new PropertiesHandler(javaSamplerContext);\n+\n+        // read in nodes list, topic id, number of messages, message size", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEzMDQ1Ng==", "bodyText": "All comments should be up to date now, I looked for anything mentioning messages, topics, or hcs and changed them accordingly", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r508130456", "createdAt": "2020-10-20T00:02:23Z", "author": {"login": "ijungmann"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/client/hts/TokenTransferPublishClient.java", "diffHunk": "@@ -0,0 +1,160 @@\n+package com.hedera.mirror.grpc.jmeter.client.hts;\n+\n+import com.google.common.base.Stopwatch;\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.concurrent.Executors;\n+import java.util.concurrent.ScheduledExecutorService;\n+import java.util.concurrent.TimeUnit;\n+import java.util.stream.Collectors;\n+import lombok.extern.log4j.Log4j2;\n+import org.apache.jmeter.config.Arguments;\n+import org.apache.jmeter.protocol.java.sampler.AbstractJavaSamplerClient;\n+import org.apache.jmeter.protocol.java.sampler.JavaSamplerContext;\n+import org.apache.jmeter.samplers.SampleResult;\n+\n+import com.hedera.hashgraph.sdk.TransactionId;\n+import com.hedera.hashgraph.sdk.account.AccountId;\n+import com.hedera.hashgraph.sdk.crypto.ed25519.Ed25519PrivateKey;\n+import com.hedera.hashgraph.sdk.token.TokenId;\n+import com.hedera.mirror.grpc.jmeter.handler.PropertiesHandler;\n+import com.hedera.mirror.grpc.jmeter.handler.SDKClientHandler;\n+import com.hedera.mirror.grpc.jmeter.props.hts.TokenTransferRequest;\n+import com.hedera.mirror.grpc.jmeter.sampler.hts.TokenTransfersPublishSampler;\n+import com.hedera.mirror.grpc.jmeter.sampler.result.TransactionSubmissionResult;\n+\n+@Log4j2\n+public class TokenTransferPublishClient extends AbstractJavaSamplerClient {\n+    public static final String TRANSACTION_IDS_PROPERTY = \"transactionIds\";\n+    private PropertiesHandler propHandler;\n+    private List<SDKClientHandler> clientList;\n+    private TokenId tokenId;\n+    private int messagesPerBatchCount;\n+    private AccountId operatorId;\n+    private Ed25519PrivateKey operatorPrivateKey;\n+    private AccountId recipientId;\n+    private long transferAmount;\n+    private long publishTimeout;\n+    private long publishInterval;\n+    private boolean verifyTransactions;\n+    private long printStatusInterval;\n+\n+    @Override\n+    public void setupTest(JavaSamplerContext javaSamplerContext) {\n+        propHandler = new PropertiesHandler(javaSamplerContext);\n+\n+        // read in nodes list, topic id, number of messages, message size", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzkyODMyNA=="}, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MTYzMTk3OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/client/hts/TokenTransferPublishClient.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNzozMTozOFrOHkZh1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMjozODo0OFrOHkociw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzkyOTA0Nw==", "bodyText": "Potential other name\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                private int messagesPerBatchCount;\n          \n          \n            \n                private int transfersPerBatchCount;", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r507929047", "createdAt": "2020-10-19T17:31:38Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/client/hts/TokenTransferPublishClient.java", "diffHunk": "@@ -0,0 +1,160 @@\n+package com.hedera.mirror.grpc.jmeter.client.hts;\n+\n+import com.google.common.base.Stopwatch;\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.concurrent.Executors;\n+import java.util.concurrent.ScheduledExecutorService;\n+import java.util.concurrent.TimeUnit;\n+import java.util.stream.Collectors;\n+import lombok.extern.log4j.Log4j2;\n+import org.apache.jmeter.config.Arguments;\n+import org.apache.jmeter.protocol.java.sampler.AbstractJavaSamplerClient;\n+import org.apache.jmeter.protocol.java.sampler.JavaSamplerContext;\n+import org.apache.jmeter.samplers.SampleResult;\n+\n+import com.hedera.hashgraph.sdk.TransactionId;\n+import com.hedera.hashgraph.sdk.account.AccountId;\n+import com.hedera.hashgraph.sdk.crypto.ed25519.Ed25519PrivateKey;\n+import com.hedera.hashgraph.sdk.token.TokenId;\n+import com.hedera.mirror.grpc.jmeter.handler.PropertiesHandler;\n+import com.hedera.mirror.grpc.jmeter.handler.SDKClientHandler;\n+import com.hedera.mirror.grpc.jmeter.props.hts.TokenTransferRequest;\n+import com.hedera.mirror.grpc.jmeter.sampler.hts.TokenTransfersPublishSampler;\n+import com.hedera.mirror.grpc.jmeter.sampler.result.TransactionSubmissionResult;\n+\n+@Log4j2\n+public class TokenTransferPublishClient extends AbstractJavaSamplerClient {\n+    public static final String TRANSACTION_IDS_PROPERTY = \"transactionIds\";\n+    private PropertiesHandler propHandler;\n+    private List<SDKClientHandler> clientList;\n+    private TokenId tokenId;\n+    private int messagesPerBatchCount;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEzMTA4MQ==", "bodyText": "I've made this change, however do you want me to update/add the property it pulls from as well?  I tried to reuse the existing hcs publisher properties so that the .properties file doesn't grow out of control, I'm starting to wonder if putting a new .hts.* set of properties would be better because they're going to be entangled otherwise.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r508131081", "createdAt": "2020-10-20T00:04:46Z", "author": {"login": "ijungmann"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/client/hts/TokenTransferPublishClient.java", "diffHunk": "@@ -0,0 +1,160 @@\n+package com.hedera.mirror.grpc.jmeter.client.hts;\n+\n+import com.google.common.base.Stopwatch;\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.concurrent.Executors;\n+import java.util.concurrent.ScheduledExecutorService;\n+import java.util.concurrent.TimeUnit;\n+import java.util.stream.Collectors;\n+import lombok.extern.log4j.Log4j2;\n+import org.apache.jmeter.config.Arguments;\n+import org.apache.jmeter.protocol.java.sampler.AbstractJavaSamplerClient;\n+import org.apache.jmeter.protocol.java.sampler.JavaSamplerContext;\n+import org.apache.jmeter.samplers.SampleResult;\n+\n+import com.hedera.hashgraph.sdk.TransactionId;\n+import com.hedera.hashgraph.sdk.account.AccountId;\n+import com.hedera.hashgraph.sdk.crypto.ed25519.Ed25519PrivateKey;\n+import com.hedera.hashgraph.sdk.token.TokenId;\n+import com.hedera.mirror.grpc.jmeter.handler.PropertiesHandler;\n+import com.hedera.mirror.grpc.jmeter.handler.SDKClientHandler;\n+import com.hedera.mirror.grpc.jmeter.props.hts.TokenTransferRequest;\n+import com.hedera.mirror.grpc.jmeter.sampler.hts.TokenTransfersPublishSampler;\n+import com.hedera.mirror.grpc.jmeter.sampler.result.TransactionSubmissionResult;\n+\n+@Log4j2\n+public class TokenTransferPublishClient extends AbstractJavaSamplerClient {\n+    public static final String TRANSACTION_IDS_PROPERTY = \"transactionIds\";\n+    private PropertiesHandler propHandler;\n+    private List<SDKClientHandler> clientList;\n+    private TokenId tokenId;\n+    private int messagesPerBatchCount;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzkyOTA0Nw=="}, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODE3MzQ1MQ==", "bodyText": "Let's reuse. I saw you made it transactionsPerBatchCount which makes sense.\nIf we ever get into a case where we want to publish multiple transaction types at different rates then we can add that property or think of an easier way to do it.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r508173451", "createdAt": "2020-10-20T02:38:48Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/client/hts/TokenTransferPublishClient.java", "diffHunk": "@@ -0,0 +1,160 @@\n+package com.hedera.mirror.grpc.jmeter.client.hts;\n+\n+import com.google.common.base.Stopwatch;\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.concurrent.Executors;\n+import java.util.concurrent.ScheduledExecutorService;\n+import java.util.concurrent.TimeUnit;\n+import java.util.stream.Collectors;\n+import lombok.extern.log4j.Log4j2;\n+import org.apache.jmeter.config.Arguments;\n+import org.apache.jmeter.protocol.java.sampler.AbstractJavaSamplerClient;\n+import org.apache.jmeter.protocol.java.sampler.JavaSamplerContext;\n+import org.apache.jmeter.samplers.SampleResult;\n+\n+import com.hedera.hashgraph.sdk.TransactionId;\n+import com.hedera.hashgraph.sdk.account.AccountId;\n+import com.hedera.hashgraph.sdk.crypto.ed25519.Ed25519PrivateKey;\n+import com.hedera.hashgraph.sdk.token.TokenId;\n+import com.hedera.mirror.grpc.jmeter.handler.PropertiesHandler;\n+import com.hedera.mirror.grpc.jmeter.handler.SDKClientHandler;\n+import com.hedera.mirror.grpc.jmeter.props.hts.TokenTransferRequest;\n+import com.hedera.mirror.grpc.jmeter.sampler.hts.TokenTransfersPublishSampler;\n+import com.hedera.mirror.grpc.jmeter.sampler.result.TransactionSubmissionResult;\n+\n+@Log4j2\n+public class TokenTransferPublishClient extends AbstractJavaSamplerClient {\n+    public static final String TRANSACTION_IDS_PROPERTY = \"transactionIds\";\n+    private PropertiesHandler propHandler;\n+    private List<SDKClientHandler> clientList;\n+    private TokenId tokenId;\n+    private int messagesPerBatchCount;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzkyOTA0Nw=="}, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MTY1MTQ2OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/client/hts/TokenTransferRESTBatchClient.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNzozNjoxOFrOHkZuLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMDowNDo1NlrOHkl3QQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzkzMjIwNg==", "bodyText": "Update comment", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r507932206", "createdAt": "2020-10-19T17:36:18Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/client/hts/TokenTransferRESTBatchClient.java", "diffHunk": "@@ -0,0 +1,105 @@\n+package com.hedera.mirror.grpc.jmeter.client.hts;\n+\n+import static com.hedera.mirror.grpc.jmeter.client.hts.TokenTransferPublishClient.TRANSACTION_IDS_PROPERTY;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.concurrent.ExecutorService;\n+import java.util.concurrent.Executors;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.atomic.AtomicInteger;\n+import lombok.extern.log4j.Log4j2;\n+import org.apache.jmeter.config.Arguments;\n+import org.apache.jmeter.protocol.java.sampler.AbstractJavaSamplerClient;\n+import org.apache.jmeter.protocol.java.sampler.JavaSamplerContext;\n+import org.apache.jmeter.samplers.SampleResult;\n+\n+import com.hedera.hashgraph.sdk.TransactionId;\n+import com.hedera.mirror.grpc.jmeter.handler.PropertiesHandler;\n+import com.hedera.mirror.grpc.jmeter.props.hts.TokenTransferGetRequest;\n+import com.hedera.mirror.grpc.jmeter.sampler.hts.TokenTransferRESTBatchSampler;\n+\n+@Log4j2\n+public class TokenTransferRESTBatchClient extends AbstractJavaSamplerClient {\n+    private PropertiesHandler propHandler;\n+    private List<String> formattedTransactionIds;\n+    private String restBaseUrl;\n+    private int expectedTransactionCount;\n+    private int restMaxRetry;\n+    private int restRetryBackoffMs;\n+    private int batchRestTimeoutSeconds;\n+\n+    @Override\n+    public void setupTest(JavaSamplerContext javaSamplerContext) {\n+        propHandler = new PropertiesHandler(javaSamplerContext);\n+\n+        // read in nodes list, topic id, number of messages, message size\n+        restBaseUrl = propHandler.getTestParam(\"restBaseUrl\", \"localhost:5551\");\n+        expectedTransactionCount = propHandler.getIntTestParam(\"expectedTransactionCount\", 0);\n+        restMaxRetry = propHandler.getIntTestParam(\"restMaxRetry\", 1000);\n+        restRetryBackoffMs = propHandler.getIntTestParam(\"restRetryBackoffMs\", 50);\n+        batchRestTimeoutSeconds = propHandler.getIntTestParam(\"batchRestTimeoutSeconds\", 10);\n+\n+        // node info expected in comma separated list of <node_IP>:<node_accountId>:<node_port>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEzMTEzNw==", "bodyText": "Updated", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r508131137", "createdAt": "2020-10-20T00:04:56Z", "author": {"login": "ijungmann"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/client/hts/TokenTransferRESTBatchClient.java", "diffHunk": "@@ -0,0 +1,105 @@\n+package com.hedera.mirror.grpc.jmeter.client.hts;\n+\n+import static com.hedera.mirror.grpc.jmeter.client.hts.TokenTransferPublishClient.TRANSACTION_IDS_PROPERTY;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.concurrent.ExecutorService;\n+import java.util.concurrent.Executors;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.atomic.AtomicInteger;\n+import lombok.extern.log4j.Log4j2;\n+import org.apache.jmeter.config.Arguments;\n+import org.apache.jmeter.protocol.java.sampler.AbstractJavaSamplerClient;\n+import org.apache.jmeter.protocol.java.sampler.JavaSamplerContext;\n+import org.apache.jmeter.samplers.SampleResult;\n+\n+import com.hedera.hashgraph.sdk.TransactionId;\n+import com.hedera.mirror.grpc.jmeter.handler.PropertiesHandler;\n+import com.hedera.mirror.grpc.jmeter.props.hts.TokenTransferGetRequest;\n+import com.hedera.mirror.grpc.jmeter.sampler.hts.TokenTransferRESTBatchSampler;\n+\n+@Log4j2\n+public class TokenTransferRESTBatchClient extends AbstractJavaSamplerClient {\n+    private PropertiesHandler propHandler;\n+    private List<String> formattedTransactionIds;\n+    private String restBaseUrl;\n+    private int expectedTransactionCount;\n+    private int restMaxRetry;\n+    private int restRetryBackoffMs;\n+    private int batchRestTimeoutSeconds;\n+\n+    @Override\n+    public void setupTest(JavaSamplerContext javaSamplerContext) {\n+        propHandler = new PropertiesHandler(javaSamplerContext);\n+\n+        // read in nodes list, topic id, number of messages, message size\n+        restBaseUrl = propHandler.getTestParam(\"restBaseUrl\", \"localhost:5551\");\n+        expectedTransactionCount = propHandler.getIntTestParam(\"expectedTransactionCount\", 0);\n+        restMaxRetry = propHandler.getIntTestParam(\"restMaxRetry\", 1000);\n+        restRetryBackoffMs = propHandler.getIntTestParam(\"restRetryBackoffMs\", 50);\n+        batchRestTimeoutSeconds = propHandler.getIntTestParam(\"batchRestTimeoutSeconds\", 10);\n+\n+        // node info expected in comma separated list of <node_IP>:<node_accountId>:<node_port>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzkzMjIwNg=="}, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MTY2NTUyOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/handler/SDKClientHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNzozOToyNFrOHkZ3TQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMDowNTo1MlrOHkl4dQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzkzNDU0MQ==", "bodyText": "TransactionId contains the accountId and validStart, you could use those to create the desired String transactionId format\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    return transactionId;\n          \n          \n            \n                    return transactionId.accountId.toString() + \"-\" + transactionId.validStart\n          \n          \n            \n                            .getEpochSecond() + \"-\" + transactionId.validStart.getNano();", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r507934541", "createdAt": "2020-10-19T17:39:24Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/handler/SDKClientHandler.java", "diffHunk": "@@ -120,6 +123,18 @@ public TransactionId submitCryptoTransfer(AccountId operatorId, AccountId recipi\n         return transactionId;\n     }\n \n+    public TransactionId submitTokenTransfer(TokenId tokenId, AccountId operatorId, AccountId recipientId,\n+                                             long transferAmount) throws HederaStatusException {\n+        TransactionId transactionId = new TokenTransferTransaction()\n+                .addSender(tokenId, operatorId, transferAmount)\n+                .addRecipient(tokenId, recipientId, transferAmount)\n+                .setMaxTransactionFee(1_000_000)\n+                .setTransactionMemo(\"Token Transfer_\" + Instant.now())\n+                .execute(client);\n+\n+        return transactionId;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEzMTQ0NQ==", "bodyText": "I've kept the code the same here as it later can use the TransactionId object to do validation with the receipt, but I have turned this logic into a method later on down the line, thanks.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r508131445", "createdAt": "2020-10-20T00:05:52Z", "author": {"login": "ijungmann"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/handler/SDKClientHandler.java", "diffHunk": "@@ -120,6 +123,18 @@ public TransactionId submitCryptoTransfer(AccountId operatorId, AccountId recipi\n         return transactionId;\n     }\n \n+    public TransactionId submitTokenTransfer(TokenId tokenId, AccountId operatorId, AccountId recipientId,\n+                                             long transferAmount) throws HederaStatusException {\n+        TransactionId transactionId = new TokenTransferTransaction()\n+                .addSender(tokenId, operatorId, transferAmount)\n+                .addRecipient(tokenId, recipientId, transferAmount)\n+                .setMaxTransactionFee(1_000_000)\n+                .setTransactionMemo(\"Token Transfer_\" + Instant.now())\n+                .execute(client);\n+\n+        return transactionId;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzkzNDU0MQ=="}, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MTY4NDEwOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/client/hts/TokenTransferRESTBatchClient.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNzo0MTo1OVrOHkaC2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMDowNjoxM1rOHkl41A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzkzNzQ5OQ==", "bodyText": "I made a suggestion in submitTokenTransfer\nAssuming it doesn't impact the submission performance that's one way.\nAnother way would be to do the same over here instead\nformattedTransactionIds.add(transactionId.accountId.toString() + \"-\" + transactionId.validStart\n                .getEpochSecond() + \"-\" + transactionId.validStart.getNano());", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r507937499", "createdAt": "2020-10-19T17:41:59Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/client/hts/TokenTransferRESTBatchClient.java", "diffHunk": "@@ -0,0 +1,105 @@\n+package com.hedera.mirror.grpc.jmeter.client.hts;\n+\n+import static com.hedera.mirror.grpc.jmeter.client.hts.TokenTransferPublishClient.TRANSACTION_IDS_PROPERTY;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.concurrent.ExecutorService;\n+import java.util.concurrent.Executors;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.atomic.AtomicInteger;\n+import lombok.extern.log4j.Log4j2;\n+import org.apache.jmeter.config.Arguments;\n+import org.apache.jmeter.protocol.java.sampler.AbstractJavaSamplerClient;\n+import org.apache.jmeter.protocol.java.sampler.JavaSamplerContext;\n+import org.apache.jmeter.samplers.SampleResult;\n+\n+import com.hedera.hashgraph.sdk.TransactionId;\n+import com.hedera.mirror.grpc.jmeter.handler.PropertiesHandler;\n+import com.hedera.mirror.grpc.jmeter.props.hts.TokenTransferGetRequest;\n+import com.hedera.mirror.grpc.jmeter.sampler.hts.TokenTransferRESTBatchSampler;\n+\n+@Log4j2\n+public class TokenTransferRESTBatchClient extends AbstractJavaSamplerClient {\n+    private PropertiesHandler propHandler;\n+    private List<String> formattedTransactionIds;\n+    private String restBaseUrl;\n+    private int expectedTransactionCount;\n+    private int restMaxRetry;\n+    private int restRetryBackoffMs;\n+    private int batchRestTimeoutSeconds;\n+\n+    @Override\n+    public void setupTest(JavaSamplerContext javaSamplerContext) {\n+        propHandler = new PropertiesHandler(javaSamplerContext);\n+\n+        // read in nodes list, topic id, number of messages, message size\n+        restBaseUrl = propHandler.getTestParam(\"restBaseUrl\", \"localhost:5551\");\n+        expectedTransactionCount = propHandler.getIntTestParam(\"expectedTransactionCount\", 0);\n+        restMaxRetry = propHandler.getIntTestParam(\"restMaxRetry\", 1000);\n+        restRetryBackoffMs = propHandler.getIntTestParam(\"restRetryBackoffMs\", 50);\n+        batchRestTimeoutSeconds = propHandler.getIntTestParam(\"batchRestTimeoutSeconds\", 10);\n+\n+        // node info expected in comma separated list of <node_IP>:<node_accountId>:<node_port>\n+        List<TransactionId> transactionIds = (List<TransactionId>) javaSamplerContext.getJMeterVariables()\n+                .getObject(TRANSACTION_IDS_PROPERTY);\n+        formattedTransactionIds = new ArrayList<>();\n+        for (TransactionId transactionId : transactionIds) {\n+            //TODO There has to be a better way to do this", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzkzOTM3Mg==", "bodyText": "Or just make a method of it\npublic String getRESTCompliantTransactionIdString(TransactionId transactionId) {\n  return transactionId.accountId.toString() + \"-\" + transactionId.validStart\n                .getEpochSecond() + \"-\" + transactionId.validStart.getNano();\n}\n\nTake your pick of whichever works best for you", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r507939372", "createdAt": "2020-10-19T17:43:44Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/client/hts/TokenTransferRESTBatchClient.java", "diffHunk": "@@ -0,0 +1,105 @@\n+package com.hedera.mirror.grpc.jmeter.client.hts;\n+\n+import static com.hedera.mirror.grpc.jmeter.client.hts.TokenTransferPublishClient.TRANSACTION_IDS_PROPERTY;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.concurrent.ExecutorService;\n+import java.util.concurrent.Executors;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.atomic.AtomicInteger;\n+import lombok.extern.log4j.Log4j2;\n+import org.apache.jmeter.config.Arguments;\n+import org.apache.jmeter.protocol.java.sampler.AbstractJavaSamplerClient;\n+import org.apache.jmeter.protocol.java.sampler.JavaSamplerContext;\n+import org.apache.jmeter.samplers.SampleResult;\n+\n+import com.hedera.hashgraph.sdk.TransactionId;\n+import com.hedera.mirror.grpc.jmeter.handler.PropertiesHandler;\n+import com.hedera.mirror.grpc.jmeter.props.hts.TokenTransferGetRequest;\n+import com.hedera.mirror.grpc.jmeter.sampler.hts.TokenTransferRESTBatchSampler;\n+\n+@Log4j2\n+public class TokenTransferRESTBatchClient extends AbstractJavaSamplerClient {\n+    private PropertiesHandler propHandler;\n+    private List<String> formattedTransactionIds;\n+    private String restBaseUrl;\n+    private int expectedTransactionCount;\n+    private int restMaxRetry;\n+    private int restRetryBackoffMs;\n+    private int batchRestTimeoutSeconds;\n+\n+    @Override\n+    public void setupTest(JavaSamplerContext javaSamplerContext) {\n+        propHandler = new PropertiesHandler(javaSamplerContext);\n+\n+        // read in nodes list, topic id, number of messages, message size\n+        restBaseUrl = propHandler.getTestParam(\"restBaseUrl\", \"localhost:5551\");\n+        expectedTransactionCount = propHandler.getIntTestParam(\"expectedTransactionCount\", 0);\n+        restMaxRetry = propHandler.getIntTestParam(\"restMaxRetry\", 1000);\n+        restRetryBackoffMs = propHandler.getIntTestParam(\"restRetryBackoffMs\", 50);\n+        batchRestTimeoutSeconds = propHandler.getIntTestParam(\"batchRestTimeoutSeconds\", 10);\n+\n+        // node info expected in comma separated list of <node_IP>:<node_accountId>:<node_port>\n+        List<TransactionId> transactionIds = (List<TransactionId>) javaSamplerContext.getJMeterVariables()\n+                .getObject(TRANSACTION_IDS_PROPERTY);\n+        formattedTransactionIds = new ArrayList<>();\n+        for (TransactionId transactionId : transactionIds) {\n+            //TODO There has to be a better way to do this", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzkzNzQ5OQ=="}, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEzMTU0MA==", "bodyText": "Good call, I've turned this into a method and moved it into a new Utility class, if it would be better suited elsewhere let me know.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r508131540", "createdAt": "2020-10-20T00:06:13Z", "author": {"login": "ijungmann"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/client/hts/TokenTransferRESTBatchClient.java", "diffHunk": "@@ -0,0 +1,105 @@\n+package com.hedera.mirror.grpc.jmeter.client.hts;\n+\n+import static com.hedera.mirror.grpc.jmeter.client.hts.TokenTransferPublishClient.TRANSACTION_IDS_PROPERTY;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.concurrent.ExecutorService;\n+import java.util.concurrent.Executors;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.atomic.AtomicInteger;\n+import lombok.extern.log4j.Log4j2;\n+import org.apache.jmeter.config.Arguments;\n+import org.apache.jmeter.protocol.java.sampler.AbstractJavaSamplerClient;\n+import org.apache.jmeter.protocol.java.sampler.JavaSamplerContext;\n+import org.apache.jmeter.samplers.SampleResult;\n+\n+import com.hedera.hashgraph.sdk.TransactionId;\n+import com.hedera.mirror.grpc.jmeter.handler.PropertiesHandler;\n+import com.hedera.mirror.grpc.jmeter.props.hts.TokenTransferGetRequest;\n+import com.hedera.mirror.grpc.jmeter.sampler.hts.TokenTransferRESTBatchSampler;\n+\n+@Log4j2\n+public class TokenTransferRESTBatchClient extends AbstractJavaSamplerClient {\n+    private PropertiesHandler propHandler;\n+    private List<String> formattedTransactionIds;\n+    private String restBaseUrl;\n+    private int expectedTransactionCount;\n+    private int restMaxRetry;\n+    private int restRetryBackoffMs;\n+    private int batchRestTimeoutSeconds;\n+\n+    @Override\n+    public void setupTest(JavaSamplerContext javaSamplerContext) {\n+        propHandler = new PropertiesHandler(javaSamplerContext);\n+\n+        // read in nodes list, topic id, number of messages, message size\n+        restBaseUrl = propHandler.getTestParam(\"restBaseUrl\", \"localhost:5551\");\n+        expectedTransactionCount = propHandler.getIntTestParam(\"expectedTransactionCount\", 0);\n+        restMaxRetry = propHandler.getIntTestParam(\"restMaxRetry\", 1000);\n+        restRetryBackoffMs = propHandler.getIntTestParam(\"restRetryBackoffMs\", 50);\n+        batchRestTimeoutSeconds = propHandler.getIntTestParam(\"batchRestTimeoutSeconds\", 10);\n+\n+        // node info expected in comma separated list of <node_IP>:<node_accountId>:<node_port>\n+        List<TransactionId> transactionIds = (List<TransactionId>) javaSamplerContext.getJMeterVariables()\n+                .getObject(TRANSACTION_IDS_PROPERTY);\n+        formattedTransactionIds = new ArrayList<>();\n+        for (TransactionId transactionId : transactionIds) {\n+            //TODO There has to be a better way to do this", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzkzNzQ5OQ=="}, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MTY5ODU0OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/handler/SDKClientHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNzo0NDozOVrOHkaMlA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMDowNzozMFrOHkl6TQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzkzOTk4OA==", "bodyText": "remove\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            //        AtomicInteger counter = new AtomicInteger(0);", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r507939988", "createdAt": "2020-10-19T17:44:39Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/handler/SDKClientHandler.java", "diffHunk": "@@ -140,4 +155,27 @@ public int getValidTransactionsCount(List<TransactionId> transactionIds) {\n         log.debug(\"{} out of {} transactions returned a Success status\", counter.get(), transactionIds.size());\n         return counter.get();\n     }\n+\n+    public List<TransactionId> getValidTransactions(List<TransactionId> transactionIds) {\n+        log.debug(\"Verify Transactions {}\", transactionIds.size());\n+//        AtomicInteger counter = new AtomicInteger(0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEzMTkxNw==", "bodyText": "Removed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r508131917", "createdAt": "2020-10-20T00:07:30Z", "author": {"login": "ijungmann"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/handler/SDKClientHandler.java", "diffHunk": "@@ -140,4 +155,27 @@ public int getValidTransactionsCount(List<TransactionId> transactionIds) {\n         log.debug(\"{} out of {} transactions returned a Success status\", counter.get(), transactionIds.size());\n         return counter.get();\n     }\n+\n+    public List<TransactionId> getValidTransactions(List<TransactionId> transactionIds) {\n+        log.debug(\"Verify Transactions {}\", transactionIds.size());\n+//        AtomicInteger counter = new AtomicInteger(0);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzkzOTk4OA=="}, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MTcwNTUyOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/props/hts/TokenTransferGetRequest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNzo0NjoxMlrOHkaQvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMjo1NjoyNFrOHkoveQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk0MTA1NQ==", "bodyText": "This seems generic and could be applied to other existing and future entities.\nShould we rename it more generically?", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r507941055", "createdAt": "2020-10-19T17:46:12Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/props/hts/TokenTransferGetRequest.java", "diffHunk": "@@ -0,0 +1,15 @@\n+package com.hedera.mirror.grpc.jmeter.props.hts;\n+\n+import java.util.List;\n+import lombok.Builder;\n+import lombok.Value;\n+\n+@Value\n+@Builder\n+public class TokenTransferGetRequest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODE3ODI5Nw==", "bodyText": "I ended up breaking this down even farther, I made a REST Request and then a REST getByIds Request extending that, a Publish Request and a TokenTransferPublishRequest extending that, and finally a composite class of those two to be used for the GetAndRetrieve test.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r508178297", "createdAt": "2020-10-20T02:56:24Z", "author": {"login": "ijungmann"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/props/hts/TokenTransferGetRequest.java", "diffHunk": "@@ -0,0 +1,15 @@\n+package com.hedera.mirror.grpc.jmeter.props.hts;\n+\n+import java.util.List;\n+import lombok.Builder;\n+import lombok.Value;\n+\n+@Value\n+@Builder\n+public class TokenTransferGetRequest {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk0MTA1NQ=="}, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MTcxNTg0OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/props/hts/TokenTransferRequest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNzo0Nzo0N1rOHkaXZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMjo1NjozOFrOHkovuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk0Mjc1OQ==", "bodyText": "You should have TokenTransferRequest inherit from the generic class noted above.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r507942759", "createdAt": "2020-10-19T17:47:47Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/props/hts/TokenTransferRequest.java", "diffHunk": "@@ -0,0 +1,24 @@\n+package com.hedera.mirror.grpc.jmeter.props.hts;\n+\n+import lombok.Builder;\n+import lombok.Data;\n+import lombok.extern.log4j.Log4j2;\n+\n+import com.hedera.hashgraph.sdk.account.AccountId;\n+import com.hedera.hashgraph.sdk.token.TokenId;\n+\n+@Data\n+@Builder\n+@Log4j2\n+public class TokenTransferRequest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODE3ODM2MQ==", "bodyText": "See above note.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r508178361", "createdAt": "2020-10-20T02:56:38Z", "author": {"login": "ijungmann"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/props/hts/TokenTransferRequest.java", "diffHunk": "@@ -0,0 +1,24 @@\n+package com.hedera.mirror.grpc.jmeter.props.hts;\n+\n+import lombok.Builder;\n+import lombok.Data;\n+import lombok.extern.log4j.Log4j2;\n+\n+import com.hedera.hashgraph.sdk.account.AccountId;\n+import com.hedera.hashgraph.sdk.token.TokenId;\n+\n+@Data\n+@Builder\n+@Log4j2\n+public class TokenTransferRequest {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk0Mjc1OQ=="}, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MTc1NTY5OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/hts/TokenTransferRESTBatchSampler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNzo1NDoyMFrOHkaycA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMDowODoxN1rOHkl7LA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk0OTY4MA==", "bodyText": "I used similar logic in my acceptance tests and Steven had noted better to use the  UriBuilder feature in WebClient.\nIf not too much overhead, could be applicable here also", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r507949680", "createdAt": "2020-10-19T17:54:20Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/hts/TokenTransferRESTBatchSampler.java", "diffHunk": "@@ -0,0 +1,52 @@\n+package com.hedera.mirror.grpc.jmeter.sampler.hts;\n+\n+import com.google.common.base.Stopwatch;\n+import java.time.Duration;\n+import java.util.List;\n+import java.util.concurrent.TimeUnit;\n+import lombok.extern.log4j.Log4j2;\n+import org.springframework.web.reactive.function.client.WebClient;\n+import reactor.core.publisher.Flux;\n+import reactor.core.publisher.Mono;\n+import reactor.core.scheduler.Schedulers;\n+import reactor.util.retry.Retry;\n+\n+import com.hedera.mirror.grpc.jmeter.props.hts.TokenTransferGetRequest;\n+\n+@Log4j2\n+public class TokenTransferRESTBatchSampler {\n+    private final TokenTransferGetRequest tokenTransferGetRequest;\n+    private final WebClient webClient;\n+    private Stopwatch stopwatch;\n+    private static final String REST_PATH = \"/api/v1/transactions/\";\n+\n+    public TokenTransferRESTBatchSampler(TokenTransferGetRequest tokenTransferGetRequest) {\n+        this.tokenTransferGetRequest = tokenTransferGetRequest;\n+        webClient = WebClient.create(tokenTransferGetRequest.getRestBaseUrl());\n+    }\n+\n+    public int retrieveTransaction() {\n+        stopwatch = Stopwatch.createStarted();\n+        List<String> transactions = Flux.fromIterable(tokenTransferGetRequest.getTransactionIds())\n+                //TODO this may be overkill.\n+                .parallel()\n+                .runOn(Schedulers.parallel())\n+                .flatMap(transactionId -> getTransaction(transactionId).onErrorResume(ex -> {\n+                    log.info(\"Failed to retrieve transaction {}: {}\", transactionId, ex);\n+                    return Mono.empty();\n+                }))\n+                .sequential()\n+                .collectList()\n+                .block();\n+\n+        log.info(\"Retrieved {} transactions in {} ms\", transactions.size(), stopwatch.elapsed(TimeUnit.MILLISECONDS));\n+        return transactions.size();\n+    }\n+\n+    private Mono<String> getTransaction(String transactionId) {\n+        return webClient.get().uri(REST_PATH + transactionId).retrieve()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEzMjE0MA==", "bodyText": "Cool, didn't know about that, I've made this change", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r508132140", "createdAt": "2020-10-20T00:08:17Z", "author": {"login": "ijungmann"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/hts/TokenTransferRESTBatchSampler.java", "diffHunk": "@@ -0,0 +1,52 @@\n+package com.hedera.mirror.grpc.jmeter.sampler.hts;\n+\n+import com.google.common.base.Stopwatch;\n+import java.time.Duration;\n+import java.util.List;\n+import java.util.concurrent.TimeUnit;\n+import lombok.extern.log4j.Log4j2;\n+import org.springframework.web.reactive.function.client.WebClient;\n+import reactor.core.publisher.Flux;\n+import reactor.core.publisher.Mono;\n+import reactor.core.scheduler.Schedulers;\n+import reactor.util.retry.Retry;\n+\n+import com.hedera.mirror.grpc.jmeter.props.hts.TokenTransferGetRequest;\n+\n+@Log4j2\n+public class TokenTransferRESTBatchSampler {\n+    private final TokenTransferGetRequest tokenTransferGetRequest;\n+    private final WebClient webClient;\n+    private Stopwatch stopwatch;\n+    private static final String REST_PATH = \"/api/v1/transactions/\";\n+\n+    public TokenTransferRESTBatchSampler(TokenTransferGetRequest tokenTransferGetRequest) {\n+        this.tokenTransferGetRequest = tokenTransferGetRequest;\n+        webClient = WebClient.create(tokenTransferGetRequest.getRestBaseUrl());\n+    }\n+\n+    public int retrieveTransaction() {\n+        stopwatch = Stopwatch.createStarted();\n+        List<String> transactions = Flux.fromIterable(tokenTransferGetRequest.getTransactionIds())\n+                //TODO this may be overkill.\n+                .parallel()\n+                .runOn(Schedulers.parallel())\n+                .flatMap(transactionId -> getTransaction(transactionId).onErrorResume(ex -> {\n+                    log.info(\"Failed to retrieve transaction {}: {}\", transactionId, ex);\n+                    return Mono.empty();\n+                }))\n+                .sequential()\n+                .collectList()\n+                .block();\n+\n+        log.info(\"Retrieved {} transactions in {} ms\", transactions.size(), stopwatch.elapsed(TimeUnit.MILLISECONDS));\n+        return transactions.size();\n+    }\n+\n+    private Mono<String> getTransaction(String transactionId) {\n+        return webClient.get().uri(REST_PATH + transactionId).retrieve()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk0OTY4MA=="}, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MTc3NzcxOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/hts/TokenTransfersPublishAndRetrieveSampler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNzo1NzozM1rOHkbAyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMDoxMTo0M1rOHkl_EA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk1MzM1NA==", "bodyText": "See method suggestion of TransactionId to compliant rest transaction Id noted earlier", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r507953354", "createdAt": "2020-10-19T17:57:33Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/hts/TokenTransfersPublishAndRetrieveSampler.java", "diffHunk": "@@ -0,0 +1,117 @@\n+package com.hedera.mirror.grpc.jmeter.sampler.hts;\n+\n+import com.google.common.base.Stopwatch;\n+import java.time.Duration;\n+import java.time.Instant;\n+import java.util.HashMap;\n+import java.util.Map;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.atomic.AtomicInteger;\n+import lombok.SneakyThrows;\n+import lombok.extern.log4j.Log4j2;\n+import org.apache.commons.math3.stat.descriptive.DescriptiveStatistics;\n+import org.json.JSONObject;\n+import org.springframework.web.reactive.function.client.WebClient;\n+import reactor.util.retry.Retry;\n+\n+import com.hedera.hashgraph.sdk.HederaNetworkException;\n+import com.hedera.hashgraph.sdk.HederaPrecheckStatusException;\n+import com.hedera.hashgraph.sdk.Status;\n+import com.hedera.hashgraph.sdk.TransactionId;\n+import com.hedera.mirror.grpc.jmeter.handler.SDKClientHandler;\n+import com.hedera.mirror.grpc.jmeter.props.hts.TokenTransferRequest;\n+import com.hedera.mirror.grpc.jmeter.sampler.result.hts.TokenTransferPublishAndRetrieveResult;\n+\n+@Log4j2\n+public class TokenTransfersPublishAndRetrieveSampler {\n+    private final TokenTransferRequest request;\n+    private final SDKClientHandler sdkClient;\n+    private final DescriptiveStatistics publishTokenTransferLatencyStats = new DescriptiveStatistics();\n+    private Stopwatch publishStopwatch;\n+    private final WebClient webClient;\n+    private static final String REST_PATH = \"/api/v1/transactions/\";\n+\n+    public TokenTransfersPublishAndRetrieveSampler(TokenTransferRequest request,\n+                                                   SDKClientHandler sdkClient) {\n+        this.request = request;\n+        this.sdkClient = sdkClient;\n+        this.webClient = WebClient.create(request.getRestBaseUrl());\n+    }\n+\n+    @SneakyThrows\n+    public long submitTokenTransferTransactions() {\n+        TokenTransferPublishAndRetrieveResult result = new TokenTransferPublishAndRetrieveResult(sdkClient.getNodeInfo()\n+                .getNodeId());\n+        AtomicInteger networkFailures = new AtomicInteger();\n+        AtomicInteger unknownFailures = new AtomicInteger();\n+        Map<Status, Integer> hederaResponseCodeEx = new HashMap<>();\n+\n+        // publish MessagesPerBatchCount number of messages to the noted topic id\n+        log.trace(\"Submit transaction to {}, tokenTransferPublisher: {}\", sdkClient\n+                .getNodeInfo(), request);\n+\n+        for (int i = 0; i < request.getMessagesPerBatchCount(); i++) {\n+\n+            try {\n+                publishStopwatch = Stopwatch.createStarted();\n+                TransactionId transactionId = sdkClient\n+                        .submitTokenTransfer(request.getTokenId(), request.getOperatorId(), request\n+                                .getRecipientId(), request.getTransferAmount());\n+                publishTokenTransferLatencyStats.addValue(publishStopwatch.elapsed(TimeUnit.MILLISECONDS));\n+                String retrievedTransaction = getTransaction(convertTransactionId(transactionId.toString()));\n+                Instant received = Instant.now();\n+                //TODO Having trouble wrangling the result object into a POJO, this is a workaround.\n+                JSONObject obj = new JSONObject(retrievedTransaction).getJSONArray(\"transactions\")\n+                        .getJSONObject(0);\n+                //TODO Make sure the valid start time is equivalent of publish time for metrics\n+                result.onNext(obj.getString(\"consensus_timestamp\"),\n+                        obj.getString(\"valid_start_timestamp\"), received);\n+            } catch (HederaPrecheckStatusException preEx) {\n+                hederaResponseCodeEx.compute(preEx.status, (key, val) -> (val == null) ? 1 : val + 1);\n+            } catch (HederaNetworkException preEx) {\n+                networkFailures.incrementAndGet();\n+            } catch (Exception ex) {\n+                unknownFailures.incrementAndGet();\n+                log.error(\"Unexpected exception publishing message {} to {}: {}\", i,\n+                        sdkClient.getNodeInfo().getNodeId(), ex);\n+            }\n+        }\n+        printPublishStats();\n+        result.onComplete();\n+        return result.getTransactionCount();\n+    }\n+\n+    private void printPublishStats() {\n+        // Compute some statistics\n+        double min = publishTokenTransferLatencyStats.getMin();\n+        double max = publishTokenTransferLatencyStats.getMax();\n+        double mean = publishTokenTransferLatencyStats.getMean();\n+        double median = publishTokenTransferLatencyStats.getPercentile(50);\n+        double seventyFifthPercentile = publishTokenTransferLatencyStats.getPercentile(75);\n+        double ninetyFifthPercentile = publishTokenTransferLatencyStats.getPercentile(95);\n+\n+        log.info(\"Token Transfer publish node {}: stats, min: {} ms, max: {} ms, avg: {} ms, median: {} ms, 75th\" +\n+                        \" percentile: {} ms,\" +\n+                        \" 95th percentile: {} ms\", sdkClient.getNodeInfo().getNodeId(), String.format(\"%.03f\", min),\n+                String.format(\"%.03f\", max), String.format(\"%.03f\", mean), String.format(\"%.03f\", median),\n+                String.format(\"%.03f\", seventyFifthPercentile), String.format(\"%.03f\", ninetyFifthPercentile));\n+    }\n+\n+    //TODO Is there a better way of doing this?\n+    private String convertTransactionId(String transactionId) {\n+        int indexOfBadPeriod = transactionId.lastIndexOf(\".\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 102}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEzMzEzNg==", "bodyText": "Made the necessary change as noted above.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r508133136", "createdAt": "2020-10-20T00:11:43Z", "author": {"login": "ijungmann"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/hts/TokenTransfersPublishAndRetrieveSampler.java", "diffHunk": "@@ -0,0 +1,117 @@\n+package com.hedera.mirror.grpc.jmeter.sampler.hts;\n+\n+import com.google.common.base.Stopwatch;\n+import java.time.Duration;\n+import java.time.Instant;\n+import java.util.HashMap;\n+import java.util.Map;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.atomic.AtomicInteger;\n+import lombok.SneakyThrows;\n+import lombok.extern.log4j.Log4j2;\n+import org.apache.commons.math3.stat.descriptive.DescriptiveStatistics;\n+import org.json.JSONObject;\n+import org.springframework.web.reactive.function.client.WebClient;\n+import reactor.util.retry.Retry;\n+\n+import com.hedera.hashgraph.sdk.HederaNetworkException;\n+import com.hedera.hashgraph.sdk.HederaPrecheckStatusException;\n+import com.hedera.hashgraph.sdk.Status;\n+import com.hedera.hashgraph.sdk.TransactionId;\n+import com.hedera.mirror.grpc.jmeter.handler.SDKClientHandler;\n+import com.hedera.mirror.grpc.jmeter.props.hts.TokenTransferRequest;\n+import com.hedera.mirror.grpc.jmeter.sampler.result.hts.TokenTransferPublishAndRetrieveResult;\n+\n+@Log4j2\n+public class TokenTransfersPublishAndRetrieveSampler {\n+    private final TokenTransferRequest request;\n+    private final SDKClientHandler sdkClient;\n+    private final DescriptiveStatistics publishTokenTransferLatencyStats = new DescriptiveStatistics();\n+    private Stopwatch publishStopwatch;\n+    private final WebClient webClient;\n+    private static final String REST_PATH = \"/api/v1/transactions/\";\n+\n+    public TokenTransfersPublishAndRetrieveSampler(TokenTransferRequest request,\n+                                                   SDKClientHandler sdkClient) {\n+        this.request = request;\n+        this.sdkClient = sdkClient;\n+        this.webClient = WebClient.create(request.getRestBaseUrl());\n+    }\n+\n+    @SneakyThrows\n+    public long submitTokenTransferTransactions() {\n+        TokenTransferPublishAndRetrieveResult result = new TokenTransferPublishAndRetrieveResult(sdkClient.getNodeInfo()\n+                .getNodeId());\n+        AtomicInteger networkFailures = new AtomicInteger();\n+        AtomicInteger unknownFailures = new AtomicInteger();\n+        Map<Status, Integer> hederaResponseCodeEx = new HashMap<>();\n+\n+        // publish MessagesPerBatchCount number of messages to the noted topic id\n+        log.trace(\"Submit transaction to {}, tokenTransferPublisher: {}\", sdkClient\n+                .getNodeInfo(), request);\n+\n+        for (int i = 0; i < request.getMessagesPerBatchCount(); i++) {\n+\n+            try {\n+                publishStopwatch = Stopwatch.createStarted();\n+                TransactionId transactionId = sdkClient\n+                        .submitTokenTransfer(request.getTokenId(), request.getOperatorId(), request\n+                                .getRecipientId(), request.getTransferAmount());\n+                publishTokenTransferLatencyStats.addValue(publishStopwatch.elapsed(TimeUnit.MILLISECONDS));\n+                String retrievedTransaction = getTransaction(convertTransactionId(transactionId.toString()));\n+                Instant received = Instant.now();\n+                //TODO Having trouble wrangling the result object into a POJO, this is a workaround.\n+                JSONObject obj = new JSONObject(retrievedTransaction).getJSONArray(\"transactions\")\n+                        .getJSONObject(0);\n+                //TODO Make sure the valid start time is equivalent of publish time for metrics\n+                result.onNext(obj.getString(\"consensus_timestamp\"),\n+                        obj.getString(\"valid_start_timestamp\"), received);\n+            } catch (HederaPrecheckStatusException preEx) {\n+                hederaResponseCodeEx.compute(preEx.status, (key, val) -> (val == null) ? 1 : val + 1);\n+            } catch (HederaNetworkException preEx) {\n+                networkFailures.incrementAndGet();\n+            } catch (Exception ex) {\n+                unknownFailures.incrementAndGet();\n+                log.error(\"Unexpected exception publishing message {} to {}: {}\", i,\n+                        sdkClient.getNodeInfo().getNodeId(), ex);\n+            }\n+        }\n+        printPublishStats();\n+        result.onComplete();\n+        return result.getTransactionCount();\n+    }\n+\n+    private void printPublishStats() {\n+        // Compute some statistics\n+        double min = publishTokenTransferLatencyStats.getMin();\n+        double max = publishTokenTransferLatencyStats.getMax();\n+        double mean = publishTokenTransferLatencyStats.getMean();\n+        double median = publishTokenTransferLatencyStats.getPercentile(50);\n+        double seventyFifthPercentile = publishTokenTransferLatencyStats.getPercentile(75);\n+        double ninetyFifthPercentile = publishTokenTransferLatencyStats.getPercentile(95);\n+\n+        log.info(\"Token Transfer publish node {}: stats, min: {} ms, max: {} ms, avg: {} ms, median: {} ms, 75th\" +\n+                        \" percentile: {} ms,\" +\n+                        \" 95th percentile: {} ms\", sdkClient.getNodeInfo().getNodeId(), String.format(\"%.03f\", min),\n+                String.format(\"%.03f\", max), String.format(\"%.03f\", mean), String.format(\"%.03f\", median),\n+                String.format(\"%.03f\", seventyFifthPercentile), String.format(\"%.03f\", ninetyFifthPercentile));\n+    }\n+\n+    //TODO Is there a better way of doing this?\n+    private String convertTransactionId(String transactionId) {\n+        int indexOfBadPeriod = transactionId.lastIndexOf(\".\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk1MzM1NA=="}, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 102}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MTc4Mzc2OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/hts/TokenTransfersPublishSampler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNzo1ODoxOVrOHkbE2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMDoxMTo1N1rOHkl_WA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk1NDM5Mw==", "bodyText": "Here and in other places comments still refer to topic instead of tokens", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r507954393", "createdAt": "2020-10-19T17:58:19Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/hts/TokenTransfersPublishSampler.java", "diffHunk": "@@ -0,0 +1,98 @@\n+package com.hedera.mirror.grpc.jmeter.sampler.hts;\n+\n+import com.google.common.base.Stopwatch;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.atomic.AtomicInteger;\n+import lombok.RequiredArgsConstructor;\n+import lombok.SneakyThrows;\n+import lombok.extern.log4j.Log4j2;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apache.commons.math3.stat.descriptive.DescriptiveStatistics;\n+\n+import com.hedera.hashgraph.sdk.HederaNetworkException;\n+import com.hedera.hashgraph.sdk.HederaPrecheckStatusException;\n+import com.hedera.hashgraph.sdk.Status;\n+import com.hedera.hashgraph.sdk.TransactionId;\n+import com.hedera.mirror.grpc.jmeter.handler.SDKClientHandler;\n+import com.hedera.mirror.grpc.jmeter.props.hts.TokenTransferRequest;\n+import com.hedera.mirror.grpc.jmeter.sampler.result.TransactionSubmissionResult;\n+\n+@Log4j2\n+@RequiredArgsConstructor\n+public class TokenTransfersPublishSampler {\n+    private final TokenTransferRequest tokenTransferRequest;\n+    private final SDKClientHandler sdkClient;\n+    private final boolean verifyTransactions;\n+    private final DescriptiveStatistics publishTokenTransferLatencyStats = new DescriptiveStatistics();\n+    private Stopwatch publishStopwatch;\n+\n+    @SneakyThrows\n+    public List<TransactionId> submitTokenTransferTransactions() {\n+        TransactionSubmissionResult result = new TransactionSubmissionResult();\n+        Stopwatch totalStopwatch = Stopwatch.createStarted();\n+        AtomicInteger networkFailures = new AtomicInteger();\n+        AtomicInteger unknownFailures = new AtomicInteger();\n+        Map<Status, Integer> hederaResponseCodeEx = new HashMap<>();\n+\n+        // publish MessagesPerBatchCount number of messages to the noted topic id", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEzMzIwOA==", "bodyText": "Comments should now be updated.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r508133208", "createdAt": "2020-10-20T00:11:57Z", "author": {"login": "ijungmann"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/hts/TokenTransfersPublishSampler.java", "diffHunk": "@@ -0,0 +1,98 @@\n+package com.hedera.mirror.grpc.jmeter.sampler.hts;\n+\n+import com.google.common.base.Stopwatch;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.atomic.AtomicInteger;\n+import lombok.RequiredArgsConstructor;\n+import lombok.SneakyThrows;\n+import lombok.extern.log4j.Log4j2;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apache.commons.math3.stat.descriptive.DescriptiveStatistics;\n+\n+import com.hedera.hashgraph.sdk.HederaNetworkException;\n+import com.hedera.hashgraph.sdk.HederaPrecheckStatusException;\n+import com.hedera.hashgraph.sdk.Status;\n+import com.hedera.hashgraph.sdk.TransactionId;\n+import com.hedera.mirror.grpc.jmeter.handler.SDKClientHandler;\n+import com.hedera.mirror.grpc.jmeter.props.hts.TokenTransferRequest;\n+import com.hedera.mirror.grpc.jmeter.sampler.result.TransactionSubmissionResult;\n+\n+@Log4j2\n+@RequiredArgsConstructor\n+public class TokenTransfersPublishSampler {\n+    private final TokenTransferRequest tokenTransferRequest;\n+    private final SDKClientHandler sdkClient;\n+    private final boolean verifyTransactions;\n+    private final DescriptiveStatistics publishTokenTransferLatencyStats = new DescriptiveStatistics();\n+    private Stopwatch publishStopwatch;\n+\n+    @SneakyThrows\n+    public List<TransactionId> submitTokenTransferTransactions() {\n+        TransactionSubmissionResult result = new TransactionSubmissionResult();\n+        Stopwatch totalStopwatch = Stopwatch.createStarted();\n+        AtomicInteger networkFailures = new AtomicInteger();\n+        AtomicInteger unknownFailures = new AtomicInteger();\n+        Map<Status, Integer> hederaResponseCodeEx = new HashMap<>();\n+\n+        // publish MessagesPerBatchCount number of messages to the noted topic id", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk1NDM5Mw=="}, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MTc5MDAwOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/hts/TokenTransfersPublishSampler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxNzo1OTo0M1rOHkbJOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMjoxNTo0OFrOHkoEqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk1NTUxMg==", "bodyText": "Should we consider moving this to a shared class, so all *PublishSampler classes can utilize it and other shared sampler logic?", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r507955512", "createdAt": "2020-10-19T17:59:43Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/hts/TokenTransfersPublishSampler.java", "diffHunk": "@@ -0,0 +1,98 @@\n+package com.hedera.mirror.grpc.jmeter.sampler.hts;\n+\n+import com.google.common.base.Stopwatch;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.atomic.AtomicInteger;\n+import lombok.RequiredArgsConstructor;\n+import lombok.SneakyThrows;\n+import lombok.extern.log4j.Log4j2;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apache.commons.math3.stat.descriptive.DescriptiveStatistics;\n+\n+import com.hedera.hashgraph.sdk.HederaNetworkException;\n+import com.hedera.hashgraph.sdk.HederaPrecheckStatusException;\n+import com.hedera.hashgraph.sdk.Status;\n+import com.hedera.hashgraph.sdk.TransactionId;\n+import com.hedera.mirror.grpc.jmeter.handler.SDKClientHandler;\n+import com.hedera.mirror.grpc.jmeter.props.hts.TokenTransferRequest;\n+import com.hedera.mirror.grpc.jmeter.sampler.result.TransactionSubmissionResult;\n+\n+@Log4j2\n+@RequiredArgsConstructor\n+public class TokenTransfersPublishSampler {\n+    private final TokenTransferRequest tokenTransferRequest;\n+    private final SDKClientHandler sdkClient;\n+    private final boolean verifyTransactions;\n+    private final DescriptiveStatistics publishTokenTransferLatencyStats = new DescriptiveStatistics();\n+    private Stopwatch publishStopwatch;\n+\n+    @SneakyThrows\n+    public List<TransactionId> submitTokenTransferTransactions() {\n+        TransactionSubmissionResult result = new TransactionSubmissionResult();\n+        Stopwatch totalStopwatch = Stopwatch.createStarted();\n+        AtomicInteger networkFailures = new AtomicInteger();\n+        AtomicInteger unknownFailures = new AtomicInteger();\n+        Map<Status, Integer> hederaResponseCodeEx = new HashMap<>();\n+\n+        // publish MessagesPerBatchCount number of messages to the noted topic id\n+        log.trace(\"Submit transaction to {}, tokenTransferPublisher: {}\", sdkClient\n+                .getNodeInfo(), tokenTransferRequest);\n+\n+        for (int i = 0; i < tokenTransferRequest.getMessagesPerBatchCount(); i++) {\n+\n+            try {\n+                publishStopwatch = Stopwatch.createStarted();\n+                TransactionId transactionId = sdkClient\n+                        .submitTokenTransfer(tokenTransferRequest.getTokenId(), tokenTransferRequest\n+                                .getOperatorId(), tokenTransferRequest\n+                                .getRecipientId(), tokenTransferRequest.getTransferAmount());\n+                publishTokenTransferLatencyStats.addValue(publishStopwatch.elapsed(TimeUnit.MILLISECONDS));\n+                result.onNext(transactionId);\n+            } catch (HederaPrecheckStatusException preEx) {\n+                hederaResponseCodeEx.compute(preEx.status, (key, val) -> (val == null) ? 1 : val + 1);\n+            } catch (HederaNetworkException preEx) {\n+                networkFailures.incrementAndGet();\n+            } catch (Exception ex) {\n+                unknownFailures.incrementAndGet();\n+                log.error(\"Unexpected exception publishing message {} to {}: {}\", i,\n+                        sdkClient.getNodeInfo().getNodeId(), ex);\n+            }\n+        }\n+\n+        log.info(\"Submitted {} token transfers for token {} from {} to {} in {} on node {}. {} preCheckErrors, {} \" +\n+                        \"networkErrors, {} unknown errors\", tokenTransferRequest\n+                        .getMessagesPerBatchCount(), tokenTransferRequest.getTokenId(),\n+                tokenTransferRequest\n+                        .getOperatorId(), tokenTransferRequest.getRecipientId(), totalStopwatch,\n+                sdkClient.getNodeInfo().getNodeId(),\n+                StringUtils.join(hederaResponseCodeEx), networkFailures.get(), unknownFailures.get());\n+        printPublishStats();\n+        result.onComplete();\n+\n+        // verify transactions\n+        if (verifyTransactions) {\n+            return sdkClient.getValidTransactions(result.getTransactionIdList());\n+        }\n+\n+        return result.getTransactionIdList();\n+    }\n+\n+    private void printPublishStats() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 83}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODE2NzMzOQ==", "bodyText": "That seems like a good move, I've created a PublishSampler that has that method and allows for a custom message at the front and the three Publish samplers are extending it now", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r508167339", "createdAt": "2020-10-20T02:15:48Z", "author": {"login": "ijungmann"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/hts/TokenTransfersPublishSampler.java", "diffHunk": "@@ -0,0 +1,98 @@\n+package com.hedera.mirror.grpc.jmeter.sampler.hts;\n+\n+import com.google.common.base.Stopwatch;\n+import java.util.HashMap;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.atomic.AtomicInteger;\n+import lombok.RequiredArgsConstructor;\n+import lombok.SneakyThrows;\n+import lombok.extern.log4j.Log4j2;\n+import org.apache.commons.lang3.StringUtils;\n+import org.apache.commons.math3.stat.descriptive.DescriptiveStatistics;\n+\n+import com.hedera.hashgraph.sdk.HederaNetworkException;\n+import com.hedera.hashgraph.sdk.HederaPrecheckStatusException;\n+import com.hedera.hashgraph.sdk.Status;\n+import com.hedera.hashgraph.sdk.TransactionId;\n+import com.hedera.mirror.grpc.jmeter.handler.SDKClientHandler;\n+import com.hedera.mirror.grpc.jmeter.props.hts.TokenTransferRequest;\n+import com.hedera.mirror.grpc.jmeter.sampler.result.TransactionSubmissionResult;\n+\n+@Log4j2\n+@RequiredArgsConstructor\n+public class TokenTransfersPublishSampler {\n+    private final TokenTransferRequest tokenTransferRequest;\n+    private final SDKClientHandler sdkClient;\n+    private final boolean verifyTransactions;\n+    private final DescriptiveStatistics publishTokenTransferLatencyStats = new DescriptiveStatistics();\n+    private Stopwatch publishStopwatch;\n+\n+    @SneakyThrows\n+    public List<TransactionId> submitTokenTransferTransactions() {\n+        TransactionSubmissionResult result = new TransactionSubmissionResult();\n+        Stopwatch totalStopwatch = Stopwatch.createStarted();\n+        AtomicInteger networkFailures = new AtomicInteger();\n+        AtomicInteger unknownFailures = new AtomicInteger();\n+        Map<Status, Integer> hederaResponseCodeEx = new HashMap<>();\n+\n+        // publish MessagesPerBatchCount number of messages to the noted topic id\n+        log.trace(\"Submit transaction to {}, tokenTransferPublisher: {}\", sdkClient\n+                .getNodeInfo(), tokenTransferRequest);\n+\n+        for (int i = 0; i < tokenTransferRequest.getMessagesPerBatchCount(); i++) {\n+\n+            try {\n+                publishStopwatch = Stopwatch.createStarted();\n+                TransactionId transactionId = sdkClient\n+                        .submitTokenTransfer(tokenTransferRequest.getTokenId(), tokenTransferRequest\n+                                .getOperatorId(), tokenTransferRequest\n+                                .getRecipientId(), tokenTransferRequest.getTransferAmount());\n+                publishTokenTransferLatencyStats.addValue(publishStopwatch.elapsed(TimeUnit.MILLISECONDS));\n+                result.onNext(transactionId);\n+            } catch (HederaPrecheckStatusException preEx) {\n+                hederaResponseCodeEx.compute(preEx.status, (key, val) -> (val == null) ? 1 : val + 1);\n+            } catch (HederaNetworkException preEx) {\n+                networkFailures.incrementAndGet();\n+            } catch (Exception ex) {\n+                unknownFailures.incrementAndGet();\n+                log.error(\"Unexpected exception publishing message {} to {}: {}\", i,\n+                        sdkClient.getNodeInfo().getNodeId(), ex);\n+            }\n+        }\n+\n+        log.info(\"Submitted {} token transfers for token {} from {} to {} in {} on node {}. {} preCheckErrors, {} \" +\n+                        \"networkErrors, {} unknown errors\", tokenTransferRequest\n+                        .getMessagesPerBatchCount(), tokenTransferRequest.getTokenId(),\n+                tokenTransferRequest\n+                        .getOperatorId(), tokenTransferRequest.getRecipientId(), totalStopwatch,\n+                sdkClient.getNodeInfo().getNodeId(),\n+                StringUtils.join(hederaResponseCodeEx), networkFailures.get(), unknownFailures.get());\n+        printPublishStats();\n+        result.onComplete();\n+\n+        // verify transactions\n+        if (verifyTransactions) {\n+            return sdkClient.getValidTransactions(result.getTransactionIdList());\n+        }\n+\n+        return result.getTransactionIdList();\n+    }\n+\n+    private void printPublishStats() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzk1NTUxMg=="}, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 83}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4MjU4ODc4OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/hts/TokenTransfersPublishAndRetrieveSampler.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQyMTo0Mjo0MFrOHkiu2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQwMDoyMToyMVrOHkmJlg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODA3OTgzNQ==", "bodyText": "Don't use DescriptiveStatistics as it keeps all values in memory and has resulted in memory leaks in the past. Use SummaryStatistics instead even though we miss out on percentiles. Can you change everywhere else using  DescriptiveStatistics including existing classes?", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r508079835", "createdAt": "2020-10-19T21:42:40Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/hts/TokenTransfersPublishAndRetrieveSampler.java", "diffHunk": "@@ -0,0 +1,117 @@\n+package com.hedera.mirror.grpc.jmeter.sampler.hts;\n+\n+import com.google.common.base.Stopwatch;\n+import java.time.Duration;\n+import java.time.Instant;\n+import java.util.HashMap;\n+import java.util.Map;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.atomic.AtomicInteger;\n+import lombok.SneakyThrows;\n+import lombok.extern.log4j.Log4j2;\n+import org.apache.commons.math3.stat.descriptive.DescriptiveStatistics;\n+import org.json.JSONObject;\n+import org.springframework.web.reactive.function.client.WebClient;\n+import reactor.util.retry.Retry;\n+\n+import com.hedera.hashgraph.sdk.HederaNetworkException;\n+import com.hedera.hashgraph.sdk.HederaPrecheckStatusException;\n+import com.hedera.hashgraph.sdk.Status;\n+import com.hedera.hashgraph.sdk.TransactionId;\n+import com.hedera.mirror.grpc.jmeter.handler.SDKClientHandler;\n+import com.hedera.mirror.grpc.jmeter.props.hts.TokenTransferRequest;\n+import com.hedera.mirror.grpc.jmeter.sampler.result.hts.TokenTransferPublishAndRetrieveResult;\n+\n+@Log4j2\n+public class TokenTransfersPublishAndRetrieveSampler {\n+    private final TokenTransferRequest request;\n+    private final SDKClientHandler sdkClient;\n+    private final DescriptiveStatistics publishTokenTransferLatencyStats = new DescriptiveStatistics();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEzNTgzMA==", "bodyText": "Sure, the only other place was the HCS Topic Message Publisher, all instances should now be converted to Summary.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1134#discussion_r508135830", "createdAt": "2020-10-20T00:21:21Z", "author": {"login": "ijungmann"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/hts/TokenTransfersPublishAndRetrieveSampler.java", "diffHunk": "@@ -0,0 +1,117 @@\n+package com.hedera.mirror.grpc.jmeter.sampler.hts;\n+\n+import com.google.common.base.Stopwatch;\n+import java.time.Duration;\n+import java.time.Instant;\n+import java.util.HashMap;\n+import java.util.Map;\n+import java.util.concurrent.TimeUnit;\n+import java.util.concurrent.atomic.AtomicInteger;\n+import lombok.SneakyThrows;\n+import lombok.extern.log4j.Log4j2;\n+import org.apache.commons.math3.stat.descriptive.DescriptiveStatistics;\n+import org.json.JSONObject;\n+import org.springframework.web.reactive.function.client.WebClient;\n+import reactor.util.retry.Retry;\n+\n+import com.hedera.hashgraph.sdk.HederaNetworkException;\n+import com.hedera.hashgraph.sdk.HederaPrecheckStatusException;\n+import com.hedera.hashgraph.sdk.Status;\n+import com.hedera.hashgraph.sdk.TransactionId;\n+import com.hedera.mirror.grpc.jmeter.handler.SDKClientHandler;\n+import com.hedera.mirror.grpc.jmeter.props.hts.TokenTransferRequest;\n+import com.hedera.mirror.grpc.jmeter.sampler.result.hts.TokenTransferPublishAndRetrieveResult;\n+\n+@Log4j2\n+public class TokenTransfersPublishAndRetrieveSampler {\n+    private final TokenTransferRequest request;\n+    private final SDKClientHandler sdkClient;\n+    private final DescriptiveStatistics publishTokenTransferLatencyStats = new DescriptiveStatistics();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODA3OTgzNQ=="}, "originalCommit": {"oid": "ad507ae1c1c4f7e1b9a22c3580000a4fc94c0a57"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1554, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}