{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxMDg2Nzkx", "number": 1072, "title": "Fix memory leak in performance tests", "bodyText": "Detailed description:\n\nFix memory leak in SDK by bumping version to 1.2.2\nFix memory leak in subscriber by switching from DescriptiveStatistics to SummaryStatistics which doesn't store every time value. Unfortunately we lose percentiles/median as a result.\nFix non-SDK code (e.g. clientUseMAPI=false) not working for subscriptions\n\nWhich issue(s) this PR fixes:\nSpecial notes for your reviewer:\nChecklist\n\n Documentation added\n Tests updated", "createdAt": "2020-09-22T17:22:54Z", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1072", "merged": true, "mergeCommit": {"oid": "116b4b448d4f2e26f68838a66c9fa7f569f044cb"}, "closed": true, "closedAt": "2020-09-22T17:44:17Z", "author": {"login": "steven-sheehy"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLbTmjgH2gAyNDkxMDg2NzkxOmI5NDY4MTc0MWY2Mjc1ZGJiYjhiZmVjZDA0ZGQxMzVlNGY4MTBmNzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLbn8UAFqTQ5MzcwMDgyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b94681741f6275dbbb8bfecd04dd135e4f810f76", "author": {"user": {"login": "steven-sheehy", "name": "Steven Sheehy"}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/b94681741f6275dbbb8bfecd04dd135e4f810f76", "committedDate": "2020-09-22T17:19:15Z", "message": "Fix memory leak in performance tests\n\nSigned-off-by: Steven Sheehy <steven.sheehy@hedera.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzNjg4ODI2", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1072#pullrequestreview-493688826", "createdAt": "2020-09-22T17:25:27Z", "commit": {"oid": "b94681741f6275dbbb8bfecd04dd135e4f810f76"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNzoyNToyN1rOHWE0Ew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQxNzoyNToyN1rOHWE0Ew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjkwOTU4Nw==", "bodyText": "Can we make this configurable? i.e. default to use SummaryStatistics but when desired use DescriptiveStatistics to get the percentiles.\nDoesn't have to be DescriptiveStatistics but something that gives us those numbers when we want to get a run with them.\nMight be important when we want to get stats on long running tests and see how all users are affected.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1072#discussion_r492909587", "createdAt": "2020-09-22T17:25:27Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/result/HCSSamplerResult.java", "diffHunk": "@@ -51,12 +51,12 @@\n     private boolean success = true;\n     private boolean historical = true;\n     private boolean calculateLatencies = true;\n-    private DescriptiveStatistics e2eLatencyStats = new DescriptiveStatistics();\n-    private DescriptiveStatistics publishToConsensusLatencyStats = new DescriptiveStatistics();\n-    private DescriptiveStatistics consensusToDeliveryLatencyStats = new DescriptiveStatistics();\n-    private final DescriptiveStatistics e2eLatencyTotalStats = new DescriptiveStatistics();\n-    private final DescriptiveStatistics publishToConsensusLatencyTotalStats = new DescriptiveStatistics();\n-    private final DescriptiveStatistics consensusToDeliveryLatencyTotalStats = new DescriptiveStatistics();\n+    private SummaryStatistics e2eLatencyStats = new SummaryStatistics();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b94681741f6275dbbb8bfecd04dd135e4f810f76"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41f40b7e25f1aa28ebb6a5243a23a2771c69f003", "author": {"user": {"login": "steven-sheehy", "name": "Steven Sheehy"}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/41f40b7e25f1aa28ebb6a5243a23a2771c69f003", "committedDate": "2020-09-22T17:32:39Z", "message": "Fix build\n\nSigned-off-by: Steven Sheehy <steven.sheehy@hedera.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzNzAwODI2", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1072#pullrequestreview-493700826", "createdAt": "2020-09-22T17:41:28Z", "commit": {"oid": "41f40b7e25f1aa28ebb6a5243a23a2771c69f003"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3546, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}