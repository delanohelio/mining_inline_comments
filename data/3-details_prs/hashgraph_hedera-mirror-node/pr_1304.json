{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMwNjI0MDQ1", "number": 1304, "title": "Correct Transaction Suppliers having default values overwritten, and add validation", "bodyText": "Detailed description:\nThe Transaction Suppliers are not being created correctly by the monitor because they are created through the ObjectMapper, which does not make use of the Lombok builder.  This causes the class-defined default values to be overwritten by the primitive default values.  Because these two do not seem to work well together, we are removing the Builder logic from the Transaction Suppliers.  In addition, we are adding validation logic to the monitor so we can detect these issues quicker.\n\nRemove Lombok @Builder support from Transaction Suppliers and add getters/setters to all fields\nAdd validation logic to the monitor and validation annotations to the Transaction Suppliers\n\nWhich issue(s) this PR fixes:\nFixes #1303\nSpecial notes for your reviewer:\nChecklist\n\n Documentation added\n Tests updated", "createdAt": "2020-12-01T22:52:17Z", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1304", "merged": true, "mergeCommit": {"oid": "c5a9a5d2ea68f3be259cb5205159fff838f6673c"}, "closed": true, "closedAt": "2020-12-02T14:52:17Z", "author": {"login": "ijungmann"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdiAeT1AH2gAyNTMwNjI0MDQ1OmJjMmE0Nzg5MGViZmE0Y2JkMzA3ZDM3YTcwZWJkZTQxNDFjOTVhODQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdiHHqfAFqTU0MjQ5NjIxNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bc2a47890ebfa4cbd307d37a70ebde4141c95a84", "author": {"user": {"login": "ijungmann", "name": "Ian Jungmann"}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/bc2a47890ebfa4cbd307d37a70ebde4141c95a84", "committedDate": "2020-12-01T21:03:46Z", "message": "Remove builders from suppliers and add support for getters and setters\n\nSigned-off-by: Ian Jungmann <ian.jungmann@hedera.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea134586dfa2ee4efe282aec9fb06d7919ed7aad", "author": {"user": {"login": "ijungmann", "name": "Ian Jungmann"}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/ea134586dfa2ee4efe282aec9fb06d7919ed7aad", "committedDate": "2020-12-01T22:21:57Z", "message": "Add initial bean validation support\n\nSigned-off-by: Ian Jungmann <ian.jungmann@hedera.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "345f0c0446541242b5d1953a2a6b09dc3845a782", "author": {"user": {"login": "ijungmann", "name": "Ian Jungmann"}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/345f0c0446541242b5d1953a2a6b09dc3845a782", "committedDate": "2020-12-01T22:32:15Z", "message": "Validation for crypto suppliers\n\nSigned-off-by: Ian Jungmann <ian.jungmann@hedera.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "54864520bad666716ce1ab5ca4b72bca42c648c1", "author": {"user": {"login": "ijungmann", "name": "Ian Jungmann"}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/54864520bad666716ce1ab5ca4b72bca42c648c1", "committedDate": "2020-12-01T22:39:09Z", "message": "HCS suppliers validation\n\nSigned-off-by: Ian Jungmann <ian.jungmann@hedera.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d64f6be81c6fee5c183b31c6c693ea12fa0f0179", "author": {"user": {"login": "ijungmann", "name": "Ian Jungmann"}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/d64f6be81c6fee5c183b31c6c693ea12fa0f0179", "committedDate": "2020-12-01T22:43:54Z", "message": "HTS Supplier validation\n\nSigned-off-by: Ian Jungmann <ian.jungmann@hedera.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "339bd92fa0d3e34d8c271a43aea6f5f2d1ca1f19", "author": {"user": {"login": "ijungmann", "name": "Ian Jungmann"}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/339bd92fa0d3e34d8c271a43aea6f5f2d1ca1f19", "committedDate": "2020-12-01T23:08:32Z", "message": "Code smells\n\nSigned-off-by: Ian Jungmann <ian.jungmann@hedera.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyMzcxMTg0", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1304#pullrequestreview-542371184", "createdAt": "2020-12-01T23:05:35Z", "commit": {"oid": "d64f6be81c6fee5c183b31c6c693ea12fa0f0179"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQyMzowNTozNlrOH9Dd9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQyMzoxMzo1N1rOH9DrlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzc4MjAwNg==", "bodyText": "I think you can remove the Required/Optional comments now and re-sort all the fields. It should be self documenting what's required from the validation annotations", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1304#discussion_r533782006", "createdAt": "2020-12-01T23:05:36Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-datagenerator/src/main/java/com/hedera/datagenerator/sdk/supplier/account/AccountUpdateTransactionSupplier.java", "diffHunk": "@@ -37,30 +38,28 @@\n import com.hedera.hashgraph.sdk.account.AccountUpdateTransaction;\n import com.hedera.hashgraph.sdk.crypto.ed25519.Ed25519PublicKey;\n \n-@Builder\n-@Value\n-@Log4j2\n+@Data\n public class AccountUpdateTransactionSupplier implements TransactionSupplier<AccountUpdateTransaction> {\n \n     private static final List<String> requiredFields = Arrays.asList(\"accountId\");\n \n     //Required", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d64f6be81c6fee5c183b31c6c693ea12fa0f0179"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzc4MzM4MA==", "bodyText": "You shouldn't need this dependency, just the org.glassfish:javax.el.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1304#discussion_r533783380", "createdAt": "2020-12-01T23:08:58Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-monitor/pom.xml", "diffHunk": "@@ -82,6 +82,16 @@\n             <artifactId>commons-math3</artifactId>\n             <version>3.6.1</version>\n         </dependency>\n+        <dependency>\n+            <groupId>javax.el</groupId>\n+            <artifactId>javax.el-api</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d64f6be81c6fee5c183b31c6c693ea12fa0f0179"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzc4MzQ2OQ==", "bodyText": "Move to property", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1304#discussion_r533783469", "createdAt": "2020-12-01T23:09:08Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-monitor/pom.xml", "diffHunk": "@@ -82,6 +82,16 @@\n             <artifactId>commons-math3</artifactId>\n             <version>3.6.1</version>\n         </dependency>\n+        <dependency>\n+            <groupId>javax.el</groupId>\n+            <artifactId>javax.el-api</artifactId>\n+            <version>3.0.0</version>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.glassfish</groupId>\n+            <artifactId>javax.el</artifactId>\n+            <version>3.0.0</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d64f6be81c6fee5c183b31c6c693ea12fa0f0179"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzc4NTI5Mg==", "bodyText": "Should remove this and the manual validation checks.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1304#discussion_r533785292", "createdAt": "2020-12-01T23:13:24Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-datagenerator/src/main/java/com/hedera/datagenerator/sdk/supplier/account/AccountUpdateTransactionSupplier.java", "diffHunk": "@@ -37,30 +38,28 @@\n import com.hedera.hashgraph.sdk.account.AccountUpdateTransaction;\n import com.hedera.hashgraph.sdk.crypto.ed25519.Ed25519PublicKey;\n \n-@Builder\n-@Value\n-@Log4j2\n+@Data\n public class AccountUpdateTransactionSupplier implements TransactionSupplier<AccountUpdateTransaction> {\n \n     private static final List<String> requiredFields = Arrays.asList(\"accountId\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d64f6be81c6fee5c183b31c6c693ea12fa0f0179"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzc4NTQ5Mw==", "bodyText": "nit: Would look more consistent if two newlines between all fields since the annotated fields already do so.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1304#discussion_r533785493", "createdAt": "2020-12-01T23:13:57Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-datagenerator/src/main/java/com/hedera/datagenerator/sdk/supplier/account/AccountUpdateTransactionSupplier.java", "diffHunk": "@@ -37,30 +38,28 @@\n import com.hedera.hashgraph.sdk.account.AccountUpdateTransaction;\n import com.hedera.hashgraph.sdk.crypto.ed25519.Ed25519PublicKey;\n \n-@Builder\n-@Value\n-@Log4j2\n+@Data\n public class AccountUpdateTransactionSupplier implements TransactionSupplier<AccountUpdateTransaction> {\n \n     private static final List<String> requiredFields = Arrays.asList(\"accountId\");\n \n     //Required\n-    private final String accountId;\n+    @NotBlank\n+    private String accountId;\n \n     //Optional\n-    @Builder.Default\n-    private final Duration autoRenewPeriod = Duration.ofSeconds(8000000);\n+    @NotNull\n+    private Duration autoRenewPeriod = Duration.ofSeconds(8000000);\n \n-    @Builder.Default\n-    private final Instant expirationTime = Instant.now().plus(120, ChronoUnit.DAYS);\n+    @NotNull\n+    private Instant expirationTime = Instant.now().plus(120, ChronoUnit.DAYS);\n \n-    @Builder.Default\n-    private final long maxTransactionFee = 1_000_000_000;\n-    private final String proxyAccountId;\n-    private final String publicKey;\n+    @Min(1)\n+    private long maxTransactionFee = 1_000_000_000;\n \n-    @Builder.Default\n-    private final boolean receiverSignatureRequired = false;\n+    private String proxyAccountId;\n+    private String publicKey;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d64f6be81c6fee5c183b31c6c693ea12fa0f0179"}, "originalPosition": 52}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyMzc2OTE0", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1304#pullrequestreview-542376914", "createdAt": "2020-12-01T23:16:25Z", "commit": {"oid": "339bd92fa0d3e34d8c271a43aea6f5f2d1ca1f19"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQyMzoxNjoyNVrOH9Dw0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQyMzoxNjoyNVrOH9Dw0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzc4NjgzMg==", "bodyText": "Use @DurationMin/Max as well for this and other duration fields", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1304#discussion_r533786832", "createdAt": "2020-12-01T23:16:25Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-datagenerator/src/main/java/com/hedera/datagenerator/sdk/supplier/account/AccountUpdateTransactionSupplier.java", "diffHunk": "@@ -37,30 +38,28 @@\n import com.hedera.hashgraph.sdk.account.AccountUpdateTransaction;\n import com.hedera.hashgraph.sdk.crypto.ed25519.Ed25519PublicKey;\n \n-@Builder\n-@Value\n-@Log4j2\n+@Data\n public class AccountUpdateTransactionSupplier implements TransactionSupplier<AccountUpdateTransaction> {\n \n     private static final List<String> requiredFields = Arrays.asList(\"accountId\");\n \n     //Required\n-    private final String accountId;\n+    @NotBlank\n+    private String accountId;\n \n     //Optional\n-    @Builder.Default\n-    private final Duration autoRenewPeriod = Duration.ofSeconds(8000000);\n+    @NotNull\n+    private Duration autoRenewPeriod = Duration.ofSeconds(8000000);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "339bd92fa0d3e34d8c271a43aea6f5f2d1ca1f19"}, "originalPosition": 35}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f2cb72031cb70cb91890461fd36020e0e11a7db", "author": {"user": {"login": "ijungmann", "name": "Ian Jungmann"}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/9f2cb72031cb70cb91890461fd36020e0e11a7db", "committedDate": "2020-12-01T23:25:47Z", "message": "Fix spacing\n\nSigned-off-by: Ian Jungmann <ian.jungmann@hedera.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9549ff461e7ac05706dc963e012f4f754a013e09", "author": {"user": {"login": "ijungmann", "name": "Ian Jungmann"}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/9549ff461e7ac05706dc963e012f4f754a013e09", "committedDate": "2020-12-02T00:02:18Z", "message": "Pom fixes\n\nSigned-off-by: Ian Jungmann <ian.jungmann@hedera.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "197577fb1ae51f0989a8315fe0e64c64df50960e", "author": {"user": {"login": "ijungmann", "name": "Ian Jungmann"}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/197577fb1ae51f0989a8315fe0e64c64df50960e", "committedDate": "2020-12-02T00:08:16Z", "message": "Remove manual validation\n\nSigned-off-by: Ian Jungmann <ian.jungmann@hedera.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2548124be924c12f2ca522e523ddf33c6a8a9fc", "author": {"user": {"login": "ijungmann", "name": "Ian Jungmann"}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/e2548124be924c12f2ca522e523ddf33c6a8a9fc", "committedDate": "2020-12-02T00:17:41Z", "message": "Remove required and optional comments and realphabetize\n\nSigned-off-by: Ian Jungmann <ian.jungmann@hedera.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c62dab3010a21501446b21217a4f23486d24ce3", "author": {"user": {"login": "ijungmann", "name": "Ian Jungmann"}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/6c62dab3010a21501446b21217a4f23486d24ce3", "committedDate": "2020-12-02T00:44:43Z", "message": "Add better validation for durations and instants\n\nSigned-off-by: Ian Jungmann <ian.jungmann@hedera.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e28cd8efa5f8c9af60270d2de931ae37cc4c24dd", "author": {"user": {"login": "ijungmann", "name": "Ian Jungmann"}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/e28cd8efa5f8c9af60270d2de931ae37cc4c24dd", "committedDate": "2020-12-02T00:47:28Z", "message": "Remove unused Supplier Exception\n\nSigned-off-by: Ian Jungmann <ian.jungmann@hedera.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80629c5bccceb1eed1a655abd3c9998a5c15966e", "author": {"user": {"login": "ijungmann", "name": "Ian Jungmann"}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/80629c5bccceb1eed1a655abd3c9998a5c15966e", "committedDate": "2020-12-02T00:54:57Z", "message": "Fix test that checked for now deleted exception\n\nSigned-off-by: Ian Jungmann <ian.jungmann@hedera.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyNDY2NTUz", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1304#pullrequestreview-542466553", "createdAt": "2020-12-02T03:12:44Z", "commit": {"oid": "80629c5bccceb1eed1a655abd3c9998a5c15966e"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyNDgyODcw", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1304#pullrequestreview-542482870", "createdAt": "2020-12-02T04:03:32Z", "commit": {"oid": "80629c5bccceb1eed1a655abd3c9998a5c15966e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwNDowMzozMlrOH9Jlag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwNDowNjoyOVrOH9Jo6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzg4MjIxOA==", "bodyText": "Later, not part of this PR, we can consider creating a custom annotation and validator for these ID fields. Either that or use a wrapper object to validate.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1304#discussion_r533882218", "createdAt": "2020-12-02T04:03:32Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-datagenerator/src/main/java/com/hedera/datagenerator/sdk/supplier/account/CryptoTransferTransactionSupplier.java", "diffHunk": "@@ -20,45 +20,37 @@\n  * \u200d\n  */\n \n-import java.util.Arrays;\n-import java.util.List;\n-import lombok.Builder;\n-import lombok.Value;\n+import javax.validation.constraints.Min;\n+import javax.validation.constraints.NotBlank;\n+import lombok.Data;\n import org.apache.commons.lang3.StringUtils;\n \n import com.hedera.datagenerator.common.Utility;\n import com.hedera.datagenerator.sdk.supplier.TransactionSupplier;\n-import com.hedera.datagenerator.sdk.supplier.TransactionSupplierException;\n import com.hedera.hashgraph.sdk.account.AccountId;\n import com.hedera.hashgraph.sdk.account.TransferTransaction;\n import com.hedera.hashgraph.sdk.token.TokenId;\n \n-@Builder\n-@Value\n+@Data\n public class CryptoTransferTransactionSupplier implements TransactionSupplier<TransferTransaction> {\n \n-    private static final List<String> requiredFields = Arrays.asList(\"recipientAccountId\", \"senderAccountId\");\n+    @Min(1)\n+    private long amount = 1;\n \n-    //Required\n-    private final String recipientAccountId;\n-    private final String senderAccountId;\n+    @Min(1)\n+    private long maxTransactionFee = 1_000_000;\n \n-    //Optional\n-    @Builder.Default\n-    private final long amount = 1;\n+    @NotBlank\n+    private String recipientAccountId;\n \n-    @Builder.Default\n-    private final long maxTransactionFee = 1_000_000;\n+    @NotBlank\n+    private String senderAccountId;\n \n-    private final String tokenId;\n+    private String tokenId;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80629c5bccceb1eed1a655abd3c9998a5c15966e"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzg4MjU0Mg==", "bodyText": "You need to keep @NotNull as @DurationMin still allows null.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1304#discussion_r533882542", "createdAt": "2020-12-02T04:04:32Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-datagenerator/src/main/java/com/hedera/datagenerator/sdk/supplier/consensus/ConsensusUpdateTopicTransactionSupplier.java", "diffHunk": "@@ -23,49 +23,41 @@\n import java.time.Duration;\n import java.time.Instant;\n import java.time.temporal.ChronoUnit;\n-import java.util.Arrays;\n-import java.util.List;\n-import lombok.Builder;\n-import lombok.Value;\n-import org.apache.commons.lang3.StringUtils;\n+import javax.validation.constraints.Future;\n+import javax.validation.constraints.Min;\n+import javax.validation.constraints.NotBlank;\n+import lombok.Data;\n+import org.hibernate.validator.constraints.time.DurationMin;\n \n import com.hedera.datagenerator.common.Utility;\n import com.hedera.datagenerator.sdk.supplier.TransactionSupplier;\n-import com.hedera.datagenerator.sdk.supplier.TransactionSupplierException;\n import com.hedera.hashgraph.sdk.account.AccountId;\n import com.hedera.hashgraph.sdk.consensus.ConsensusTopicId;\n import com.hedera.hashgraph.sdk.consensus.ConsensusTopicUpdateTransaction;\n import com.hedera.hashgraph.sdk.crypto.ed25519.Ed25519PublicKey;\n \n-@Builder\n-@Value\n+@Data\n public class ConsensusUpdateTopicTransactionSupplier implements TransactionSupplier<ConsensusTopicUpdateTransaction> {\n \n-    private static final List<String> requiredFields = Arrays.asList(\"topicId\");\n+    private String adminKey;\n \n-    //Required\n-    private final String topicId;\n+    private String autoRenewAccountId;\n \n-    //Optional\n-    private final String adminKey;\n-    private final String autoRenewAccountId;\n+    @DurationMin(seconds = 1)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80629c5bccceb1eed1a655abd3c9998a5c15966e"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzg4MzExNA==", "bodyText": "Same for @Future", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1304#discussion_r533883114", "createdAt": "2020-12-02T04:06:29Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-datagenerator/src/main/java/com/hedera/datagenerator/sdk/supplier/consensus/ConsensusUpdateTopicTransactionSupplier.java", "diffHunk": "@@ -23,49 +23,41 @@\n import java.time.Duration;\n import java.time.Instant;\n import java.time.temporal.ChronoUnit;\n-import java.util.Arrays;\n-import java.util.List;\n-import lombok.Builder;\n-import lombok.Value;\n-import org.apache.commons.lang3.StringUtils;\n+import javax.validation.constraints.Future;\n+import javax.validation.constraints.Min;\n+import javax.validation.constraints.NotBlank;\n+import lombok.Data;\n+import org.hibernate.validator.constraints.time.DurationMin;\n \n import com.hedera.datagenerator.common.Utility;\n import com.hedera.datagenerator.sdk.supplier.TransactionSupplier;\n-import com.hedera.datagenerator.sdk.supplier.TransactionSupplierException;\n import com.hedera.hashgraph.sdk.account.AccountId;\n import com.hedera.hashgraph.sdk.consensus.ConsensusTopicId;\n import com.hedera.hashgraph.sdk.consensus.ConsensusTopicUpdateTransaction;\n import com.hedera.hashgraph.sdk.crypto.ed25519.Ed25519PublicKey;\n \n-@Builder\n-@Value\n+@Data\n public class ConsensusUpdateTopicTransactionSupplier implements TransactionSupplier<ConsensusTopicUpdateTransaction> {\n \n-    private static final List<String> requiredFields = Arrays.asList(\"topicId\");\n+    private String adminKey;\n \n-    //Required\n-    private final String topicId;\n+    private String autoRenewAccountId;\n \n-    //Optional\n-    private final String adminKey;\n-    private final String autoRenewAccountId;\n+    @DurationMin(seconds = 1)\n+    private Duration autoRenewPeriod = Duration.ofSeconds(8000000);\n \n-    @Builder.Default\n-    private final Duration autoRenewPeriod = Duration.ofSeconds(8000000);\n+    @Future", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80629c5bccceb1eed1a655abd3c9998a5c15966e"}, "originalPosition": 43}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff7d7ef334ab612a7cf6724ce3e95fa6015dfa92", "author": {"user": {"login": "ijungmann", "name": "Ian Jungmann"}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/ff7d7ef334ab612a7cf6724ce3e95fa6015dfa92", "committedDate": "2020-12-02T04:37:07Z", "message": "Put back @NotNull on Duration and Instant\n\nSigned-off-by: Ian Jungmann <ian.jungmann@hedera.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyNDk2MjE2", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1304#pullrequestreview-542496216", "createdAt": "2020-12-02T04:48:22Z", "commit": {"oid": "ff7d7ef334ab612a7cf6724ce3e95fa6015dfa92"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3382, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}