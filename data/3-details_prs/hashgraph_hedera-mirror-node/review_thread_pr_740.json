{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0MjA1MDcy", "number": 740, "reviewThreads": {"totalCount": 61, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxODo1NDo1NlrOD6YL-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQyMDozODo0NFrOD99r5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNTQwMjgzOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/Dockerfile", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxODo1NDo1NlrOGSL8HA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QyMTozMDo1NVrOGSRBsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTcyMzE2NA==", "bodyText": "nit: hedera-mirror-node.tar.gz", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r421723164", "createdAt": "2020-05-07T18:54:56Z", "author": {"login": "apeksharma"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart, swap values file and archive chart\n+ADD chart /tmp/chart\n+RUN mv /tmp/chart/values-gcp-marketplace.yaml /tmp/chart/values.yaml\n+RUN cd /tmp && tar -czvf /tmp/hedera-mirror.tar.gz chart", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTgwNjUxMw==", "bodyText": "True, left over from before name discussion. Will change", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r421806513", "createdAt": "2020-05-07T21:30:55Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart, swap values file and archive chart\n+ADD chart /tmp/chart\n+RUN mv /tmp/chart/values-gcp-marketplace.yaml /tmp/chart/values.yaml\n+RUN cd /tmp && tar -czvf /tmp/hedera-mirror.tar.gz chart", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTcyMzE2NA=="}, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNTQwMzg4OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/Dockerfile", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxODo1NToxMVrOGSL8tw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QyMjo0MDoxMFrOGVF-_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTcyMzMxOQ==", "bodyText": "remove unused code here and below", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r421723319", "createdAt": "2020-05-07T18:55:11Z", "author": {"login": "apeksharma"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart, swap values file and archive chart\n+ADD chart /tmp/chart\n+RUN mv /tmp/chart/values-gcp-marketplace.yaml /tmp/chart/values.yaml\n+RUN cd /tmp && tar -czvf /tmp/hedera-mirror.tar.gz chart\n+\n+##ADD apptest/deployer/hedera-mirror /tmp/test/chart", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTgwNzE1NA==", "bodyText": "Left in here as next step would be that and the file paths are pretty standard.\nWas just gonna leave it to make whoever does that tasks job easier, but I can I remove it as lots of repos show the same logic as examples", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r421807154", "createdAt": "2020-05-07T21:32:16Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart, swap values file and archive chart\n+ADD chart /tmp/chart\n+RUN mv /tmp/chart/values-gcp-marketplace.yaml /tmp/chart/values.yaml\n+RUN cd /tmp && tar -czvf /tmp/hedera-mirror.tar.gz chart\n+\n+##ADD apptest/deployer/hedera-mirror /tmp/test/chart", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTcyMzMxOQ=="}, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc3MTMyNA==", "bodyText": "Removed, left one line for the schema test commented as I don't wanna forget it once everything is working in this PR", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r424771324", "createdAt": "2020-05-13T22:40:10Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart, swap values file and archive chart\n+ADD chart /tmp/chart\n+RUN mv /tmp/chart/values-gcp-marketplace.yaml /tmp/chart/values.yaml\n+RUN cd /tmp && tar -czvf /tmp/hedera-mirror.tar.gz chart\n+\n+##ADD apptest/deployer/hedera-mirror /tmp/test/chart", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTcyMzMxOQ=="}, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNTQxNDE4OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/Dockerfile", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxODo1ODoyNlrOGSMDnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QyMTo0NDoyMlrOGVEnPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTcyNTA4NQ==", "bodyText": "couldn't find REGISTRY in schema.yaml. what am i missing?", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r421725085", "createdAt": "2020-05-07T18:58:26Z", "author": {"login": "apeksharma"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart, swap values file and archive chart\n+ADD chart /tmp/chart\n+RUN mv /tmp/chart/values-gcp-marketplace.yaml /tmp/chart/values.yaml\n+RUN cd /tmp && tar -czvf /tmp/hedera-mirror.tar.gz chart\n+\n+##ADD apptest/deployer/hedera-mirror /tmp/test/chart\n+##RUN cd /tmp/test \\\n+##    && tar -czvf /tmp/test/hedera-mirror.tar.gz chart/\n+\n+ADD schema.yaml /tmp/schema.yaml\n+\n+ARG REGISTRY\n+ARG TAG\n+\n+RUN cat /tmp/schema.yaml \\\n+    | env -i \"REGISTRY=$REGISTRY\" \"TAG=$TAG\" envsubst \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc0ODg2Mw==", "bodyText": "Removed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r424748863", "createdAt": "2020-05-13T21:44:22Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart, swap values file and archive chart\n+ADD chart /tmp/chart\n+RUN mv /tmp/chart/values-gcp-marketplace.yaml /tmp/chart/values.yaml\n+RUN cd /tmp && tar -czvf /tmp/hedera-mirror.tar.gz chart\n+\n+##ADD apptest/deployer/hedera-mirror /tmp/test/chart\n+##RUN cd /tmp/test \\\n+##    && tar -czvf /tmp/test/hedera-mirror.tar.gz chart/\n+\n+ADD schema.yaml /tmp/schema.yaml\n+\n+ARG REGISTRY\n+ARG TAG\n+\n+RUN cat /tmp/schema.yaml \\\n+    | env -i \"REGISTRY=$REGISTRY\" \"TAG=$TAG\" envsubst \\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTcyNTA4NQ=="}, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNTQyNzk2OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxOTowMjoxM1rOGSML8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QyMTo0NDo1N1rOGVEoXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTcyNzIxOQ==", "bodyText": "remove.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r421727219", "createdAt": "2020-05-07T19:02:13Z", "author": {"login": "apeksharma"}, "path": "hedera-mirror-gcp-marketplace/pom.xml", "diffHunk": "@@ -0,0 +1,87 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\n+    <artifactId>hedera-mirror-gcp-marketplace</artifactId>\n+    <description>Google Cloud Platform Marketplace solution for the Hedera Mirror Node</description>\n+    <modelVersion>4.0.0</modelVersion>\n+    <name>Hedera Mirror Node GCP Marketplace</name>\n+    <packaging>pom</packaging>\n+\n+    <parent>\n+        <groupId>com.hedera</groupId>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <version>0.11.0-rc1</version>\n+    </parent>\n+\n+    <properties>\n+        <docker.buildArg.registry>${docker.push.repository}/hedera-mirror-node</docker.buildArg.registry>\n+        <docker.buildArg.tag>${gmp.track}</docker.buildArg.tag>\n+    </properties>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <artifactId>maven-resources-plugin</artifactId>\n+                <version>3.1.0</version>\n+                <executions>\n+                    <execution>\n+                        <id>copy-chart</id>\n+                        <!-- here the phase you need -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc0OTE1MQ==", "bodyText": "Removed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r424749151", "createdAt": "2020-05-13T21:44:57Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/pom.xml", "diffHunk": "@@ -0,0 +1,87 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\n+    <artifactId>hedera-mirror-gcp-marketplace</artifactId>\n+    <description>Google Cloud Platform Marketplace solution for the Hedera Mirror Node</description>\n+    <modelVersion>4.0.0</modelVersion>\n+    <name>Hedera Mirror Node GCP Marketplace</name>\n+    <packaging>pom</packaging>\n+\n+    <parent>\n+        <groupId>com.hedera</groupId>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <version>0.11.0-rc1</version>\n+    </parent>\n+\n+    <properties>\n+        <docker.buildArg.registry>${docker.push.repository}/hedera-mirror-node</docker.buildArg.registry>\n+        <docker.buildArg.tag>${gmp.track}</docker.buildArg.tag>\n+    </properties>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <artifactId>maven-resources-plugin</artifactId>\n+                <version>3.1.0</version>\n+                <executions>\n+                    <execution>\n+                        <id>copy-chart</id>\n+                        <!-- here the phase you need -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTcyNzIxOQ=="}, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNTQ3NTg4OnYy", "diffSide": "RIGHT", "path": "charts/hedera-mirror/values-gcp-marketplace.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxOToxNTo1OVrOGSMppg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QyMTozNDowOFrOGSRHlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTczNDgyMg==", "bodyText": "can be removed?", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r421734822", "createdAt": "2020-05-07T19:15:59Z", "author": {"login": "apeksharma"}, "path": "charts/hedera-mirror/values-gcp-marketplace.yaml", "diffHunk": "@@ -0,0 +1,86 @@\n+#properties:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTgwODAyMQ==", "bodyText": "Already removed, yet to push. Will probably also merge this file in with the one Steven created since he got in first", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r421808021", "createdAt": "2020-05-07T21:34:08Z", "author": {"login": "Nana-EC"}, "path": "charts/hedera-mirror/values-gcp-marketplace.yaml", "diffHunk": "@@ -0,0 +1,86 @@\n+#properties:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTczNDgyMg=="}, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNTUxNTE4OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxOToyNzowOVrOGSNBbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QyMTozNDo0N1rOGSRInw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTc0MDkwOQ==", "bodyText": "properties (global scope) are not good way, please use plugin's configuration to pass args to the docker build.\nhttps://dmp.fabric8.io/#build-buildargs", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r421740909", "createdAt": "2020-05-07T19:27:09Z", "author": {"login": "apeksharma"}, "path": "hedera-mirror-gcp-marketplace/pom.xml", "diffHunk": "@@ -0,0 +1,87 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\n+    <artifactId>hedera-mirror-gcp-marketplace</artifactId>\n+    <description>Google Cloud Platform Marketplace solution for the Hedera Mirror Node</description>\n+    <modelVersion>4.0.0</modelVersion>\n+    <name>Hedera Mirror Node GCP Marketplace</name>\n+    <packaging>pom</packaging>\n+\n+    <parent>\n+        <groupId>com.hedera</groupId>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <version>0.11.0-rc1</version>\n+    </parent>\n+\n+    <properties>\n+        <docker.buildArg.registry>${docker.push.repository}/hedera-mirror-node</docker.buildArg.registry>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTgwODI4Nw==", "bodyText": "Was working around what I thought was a bug. Turns out buildings are case sensitive so I can switch back to the plugin config way", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r421808287", "createdAt": "2020-05-07T21:34:47Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/pom.xml", "diffHunk": "@@ -0,0 +1,87 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\n+    <artifactId>hedera-mirror-gcp-marketplace</artifactId>\n+    <description>Google Cloud Platform Marketplace solution for the Hedera Mirror Node</description>\n+    <modelVersion>4.0.0</modelVersion>\n+    <name>Hedera Mirror Node GCP Marketplace</name>\n+    <packaging>pom</packaging>\n+\n+    <parent>\n+        <groupId>com.hedera</groupId>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <version>0.11.0-rc1</version>\n+    </parent>\n+\n+    <properties>\n+        <docker.buildArg.registry>${docker.push.repository}/hedera-mirror-node</docker.buildArg.registry>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTc0MDkwOQ=="}, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNTUyMTU0OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/schema.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxOToyODo1OFrOGSNFUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QyMTozNTo1NVrOGSRKfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTc0MTkwNA==", "bodyText": "We should keep all marketplace related files in single place. schema.yaml here and values-....yaml in other folder should be in single place.\nWe can keep them both in charts/mirror-node/marketplace/....", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r421741904", "createdAt": "2020-05-07T19:28:58Z", "author": {"login": "apeksharma"}, "path": "hedera-mirror-gcp-marketplace/schema.yaml", "diffHunk": "@@ -0,0 +1,89 @@\n+x-google-marketplace:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTgwODc2NA==", "bodyText": "It's separate files due to a marketplace requirement when deploying. You have to have the Schema.yam file and they expect values.yaml to fill in as desired", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r421808764", "createdAt": "2020-05-07T21:35:55Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/schema.yaml", "diffHunk": "@@ -0,0 +1,89 @@\n+x-google-marketplace:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTc0MTkwNA=="}, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNTUyNzA4OnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxOTozMDozOFrOGSNItw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QyMjozOTowMFrOGVF9MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTc0Mjc3NQ==", "bodyText": "what's the significance of this?\nAlso, not used in multiple poms, please move it to the single pom using it.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r421742775", "createdAt": "2020-05-07T19:30:38Z", "author": {"login": "apeksharma"}, "path": "pom.xml", "diffHunk": "@@ -57,6 +58,7 @@\n         <docker.push.repository>gcr.io/mirrornode</docker.push.repository>\n         <docker.tag.version>${project.version}</docker.tag.version>\n         <docker.tag.latest>latest</docker.tag.latest>\n+        <gmp.track>0.11</gmp.track>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTgxMDM4MQ==", "bodyText": "marketplace enforces a TRACK concept of versioning.\nSo you can say track 1.0 and your solution can range across all 1.x.y values so far as they are backward compatible.\nSee https://cloud.google.com/marketplace/docs/partners/kubernetes-solutions/set-up-environment#organize-releases\nAll images have to have this track value as a tag, hence putting it in here. Will be updating gate poms to also tag there on importer, grpc and rest for releases", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r421810381", "createdAt": "2020-05-07T21:39:35Z", "author": {"login": "Nana-EC"}, "path": "pom.xml", "diffHunk": "@@ -57,6 +58,7 @@\n         <docker.push.repository>gcr.io/mirrornode</docker.push.repository>\n         <docker.tag.version>${project.version}</docker.tag.version>\n         <docker.tag.latest>latest</docker.tag.latest>\n+        <gmp.track>0.11</gmp.track>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTc0Mjc3NQ=="}, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTgzMDEyNA==", "bodyText": "What you say is true, but the version in the schema.yaml should be the specific unique release tag, not the track ID. Thus you don't need to store this and pass it through to the Dockerfile, can just use ${project.version}. The track ID will just be used to tag the latest for that track.  We can use some oneliner to convert x.y.z to x.y in circleci.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r421830124", "createdAt": "2020-05-07T22:26:19Z", "author": {"login": "steven-sheehy"}, "path": "pom.xml", "diffHunk": "@@ -57,6 +58,7 @@\n         <docker.push.repository>gcr.io/mirrornode</docker.push.repository>\n         <docker.tag.version>${project.version}</docker.tag.version>\n         <docker.tag.latest>latest</docker.tag.latest>\n+        <gmp.track>0.11</gmp.track>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTc0Mjc3NQ=="}, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc3MDg2NA==", "bodyText": "Updated build arg to use the docker.tag.version like the other projects. This allows for build time version sets.\nLeft the <gap.track> around since all the images need this as a tag also.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r424770864", "createdAt": "2020-05-13T22:39:00Z", "author": {"login": "Nana-EC"}, "path": "pom.xml", "diffHunk": "@@ -57,6 +58,7 @@\n         <docker.push.repository>gcr.io/mirrornode</docker.push.repository>\n         <docker.tag.version>${project.version}</docker.tag.version>\n         <docker.tag.latest>latest</docker.tag.latest>\n+        <gmp.track>0.11</gmp.track>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTc0Mjc3NQ=="}, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNTU1OTE4OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/Dockerfile", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxOTozOTo1N1rOGSNceg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QyMTo1NzoyMFrOGSRw4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTc0NzgzNA==", "bodyText": "Use COPY\nhttps://docs.docker.com/develop/develop-images/dockerfile_best-practices/#add-or-copy", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r421747834", "createdAt": "2020-05-07T19:39:57Z", "author": {"login": "apeksharma"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart, swap values file and archive chart\n+ADD chart /tmp/chart", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTgxODU5Mg==", "bodyText": "Good point. Changing", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r421818592", "createdAt": "2020-05-07T21:57:20Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart, swap values file and archive chart\n+ADD chart /tmp/chart", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTc0NzgzNA=="}, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNTU2ODE0OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/pom.xml", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxOTo0MjozMFrOGSNh8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMDoxNTowOFrOGVslgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTc0OTIzNA==", "bodyText": "no need of this plugin just to copy dir.\nPass ${project.basedir}/../charts/hedera-mirror as arg srcChartDir to docker builder, and in Dockerfile use COPY ${srcChartDir} <to>", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r421749234", "createdAt": "2020-05-07T19:42:30Z", "author": {"login": "apeksharma"}, "path": "hedera-mirror-gcp-marketplace/pom.xml", "diffHunk": "@@ -0,0 +1,87 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\n+    <artifactId>hedera-mirror-gcp-marketplace</artifactId>\n+    <description>Google Cloud Platform Marketplace solution for the Hedera Mirror Node</description>\n+    <modelVersion>4.0.0</modelVersion>\n+    <name>Hedera Mirror Node GCP Marketplace</name>\n+    <packaging>pom</packaging>\n+\n+    <parent>\n+        <groupId>com.hedera</groupId>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <version>0.11.0-rc1</version>\n+    </parent>\n+\n+    <properties>\n+        <docker.buildArg.registry>${docker.push.repository}/hedera-mirror-node</docker.buildArg.registry>\n+        <docker.buildArg.tag>${gmp.track}</docker.buildArg.tag>\n+    </properties>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <artifactId>maven-resources-plugin</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTgxNzk1Mg==", "bodyText": "Was dealing with docker build context issues previous. Trying to copy from files above the Dockerfile level created issues liked forbidden errors and then the fact that going up ends up increasing the build context memory and hit copy issues because the /target file is within the same context.\nWas fighting with this for a few hours yesterday. I can revisit this later is it works but as of now I'm still seeing the forbidden our of build context issue and I'd prefer not to necessarily increase the build context that is then put in a temporary tar", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r421817952", "createdAt": "2020-05-07T21:55:47Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/pom.xml", "diffHunk": "@@ -0,0 +1,87 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\n+    <artifactId>hedera-mirror-gcp-marketplace</artifactId>\n+    <description>Google Cloud Platform Marketplace solution for the Hedera Mirror Node</description>\n+    <modelVersion>4.0.0</modelVersion>\n+    <name>Hedera Mirror Node GCP Marketplace</name>\n+    <packaging>pom</packaging>\n+\n+    <parent>\n+        <groupId>com.hedera</groupId>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <version>0.11.0-rc1</version>\n+    </parent>\n+\n+    <properties>\n+        <docker.buildArg.registry>${docker.push.repository}/hedera-mirror-node</docker.buildArg.registry>\n+        <docker.buildArg.tag>${gmp.track}</docker.buildArg.tag>\n+    </properties>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <artifactId>maven-resources-plugin</artifactId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTc0OTIzNA=="}, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgwMTk4MA==", "bodyText": "I was thinking of something like this 1351c54  if you guys okay with keeping all marketplace stuff (values and schema) together in charts/marketplace/...", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r424801980", "createdAt": "2020-05-14T00:16:50Z", "author": {"login": "apeksharma"}, "path": "hedera-mirror-gcp-marketplace/pom.xml", "diffHunk": "@@ -0,0 +1,87 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\n+    <artifactId>hedera-mirror-gcp-marketplace</artifactId>\n+    <description>Google Cloud Platform Marketplace solution for the Hedera Mirror Node</description>\n+    <modelVersion>4.0.0</modelVersion>\n+    <name>Hedera Mirror Node GCP Marketplace</name>\n+    <packaging>pom</packaging>\n+\n+    <parent>\n+        <groupId>com.hedera</groupId>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <version>0.11.0-rc1</version>\n+    </parent>\n+\n+    <properties>\n+        <docker.buildArg.registry>${docker.push.repository}/hedera-mirror-node</docker.buildArg.registry>\n+        <docker.buildArg.tag>${gmp.track}</docker.buildArg.tag>\n+    </properties>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <artifactId>maven-resources-plugin</artifactId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTc0OTIzNA=="}, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMwNjMwOQ==", "bodyText": "I like this idea. I'm not a fan of a new submodule that then has to have access to other folders outside its project to complete its task. Might as well just have charts/marketplace and add extra docker-maven-plugin in root pom.xml", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425306309", "createdAt": "2020-05-14T17:22:16Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-gcp-marketplace/pom.xml", "diffHunk": "@@ -0,0 +1,87 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\n+    <artifactId>hedera-mirror-gcp-marketplace</artifactId>\n+    <description>Google Cloud Platform Marketplace solution for the Hedera Mirror Node</description>\n+    <modelVersion>4.0.0</modelVersion>\n+    <name>Hedera Mirror Node GCP Marketplace</name>\n+    <packaging>pom</packaging>\n+\n+    <parent>\n+        <groupId>com.hedera</groupId>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <version>0.11.0-rc1</version>\n+    </parent>\n+\n+    <properties>\n+        <docker.buildArg.registry>${docker.push.repository}/hedera-mirror-node</docker.buildArg.registry>\n+        <docker.buildArg.tag>${gmp.track}</docker.buildArg.tag>\n+    </properties>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <artifactId>maven-resources-plugin</artifactId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTc0OTIzNA=="}, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQwMzc3Ng==", "bodyText": "Gotcha, working on this.\nWill remove the module and move schema.yaml etc to /charts/marketplace/gcp\nWill also update parent pom to house the build logic", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425403776", "createdAt": "2020-05-14T20:15:08Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/pom.xml", "diffHunk": "@@ -0,0 +1,87 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\n+    <artifactId>hedera-mirror-gcp-marketplace</artifactId>\n+    <description>Google Cloud Platform Marketplace solution for the Hedera Mirror Node</description>\n+    <modelVersion>4.0.0</modelVersion>\n+    <name>Hedera Mirror Node GCP Marketplace</name>\n+    <packaging>pom</packaging>\n+\n+    <parent>\n+        <groupId>com.hedera</groupId>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <version>0.11.0-rc1</version>\n+    </parent>\n+\n+    <properties>\n+        <docker.buildArg.registry>${docker.push.repository}/hedera-mirror-node</docker.buildArg.registry>\n+        <docker.buildArg.tag>${gmp.track}</docker.buildArg.tag>\n+    </properties>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <artifactId>maven-resources-plugin</artifactId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTc0OTIzNA=="}, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYyNjExNzU4OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QyMjo0MTozNVrOGSSynw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QyMjozNzoyNFrOGVF62Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTgzNTQyMw==", "bodyText": "share common parts of this plugin with Rest module by adding to pluginManagement in root pom.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r421835423", "createdAt": "2020-05-07T22:41:35Z", "author": {"login": "apeksharma"}, "path": "hedera-mirror-gcp-marketplace/pom.xml", "diffHunk": "@@ -0,0 +1,87 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\n+    <artifactId>hedera-mirror-gcp-marketplace</artifactId>\n+    <description>Google Cloud Platform Marketplace solution for the Hedera Mirror Node</description>\n+    <modelVersion>4.0.0</modelVersion>\n+    <name>Hedera Mirror Node GCP Marketplace</name>\n+    <packaging>pom</packaging>\n+\n+    <parent>\n+        <groupId>com.hedera</groupId>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <version>0.11.0-rc1</version>\n+    </parent>\n+\n+    <properties>\n+        <docker.buildArg.registry>${docker.push.repository}/hedera-mirror-node</docker.buildArg.registry>\n+        <docker.buildArg.tag>${gmp.track}</docker.buildArg.tag>\n+    </properties>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <artifactId>maven-resources-plugin</artifactId>\n+                <version>3.1.0</version>\n+                <executions>\n+                    <execution>\n+                        <id>copy-chart</id>\n+                        <!-- here the phase you need -->\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>copy-resources</goal>\n+                        </goals>\n+                        <configuration>\n+                            <outputDirectory>${basedir}/chart</outputDirectory>\n+                            <resources>\n+                                <resource>\n+                                    <directory>${project.basedir}/../charts/hedera-mirror</directory>\n+                                    <filtering>true</filtering>\n+                                </resource>\n+                            </resources>\n+                        </configuration>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+            <plugin>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc3MDI2NQ==", "bodyText": "Good suggestion. Done", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r424770265", "createdAt": "2020-05-13T22:37:24Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/pom.xml", "diffHunk": "@@ -0,0 +1,87 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\n+    <artifactId>hedera-mirror-gcp-marketplace</artifactId>\n+    <description>Google Cloud Platform Marketplace solution for the Hedera Mirror Node</description>\n+    <modelVersion>4.0.0</modelVersion>\n+    <name>Hedera Mirror Node GCP Marketplace</name>\n+    <packaging>pom</packaging>\n+\n+    <parent>\n+        <groupId>com.hedera</groupId>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <version>0.11.0-rc1</version>\n+    </parent>\n+\n+    <properties>\n+        <docker.buildArg.registry>${docker.push.repository}/hedera-mirror-node</docker.buildArg.registry>\n+        <docker.buildArg.tag>${gmp.track}</docker.buildArg.tag>\n+    </properties>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <artifactId>maven-resources-plugin</artifactId>\n+                <version>3.1.0</version>\n+                <executions>\n+                    <execution>\n+                        <id>copy-chart</id>\n+                        <!-- here the phase you need -->\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>copy-resources</goal>\n+                        </goals>\n+                        <configuration>\n+                            <outputDirectory>${basedir}/chart</outputDirectory>\n+                            <resources>\n+                                <resource>\n+                                    <directory>${project.basedir}/../charts/hedera-mirror</directory>\n+                                    <filtering>true</filtering>\n+                                </resource>\n+                            </resources>\n+                        </configuration>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+            <plugin>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTgzNTQyMw=="}, "originalCommit": {"oid": "6da318eacde516514e59b7a3718269e04fc97197"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NTI2MjY0OnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QyMzozMjoyMFrOGVHDYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNTo0NTo0MFrOGVikqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc4ODgzNQ==", "bodyText": "not being used anywhere?", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r424788835", "createdAt": "2020-05-13T23:32:20Z", "author": {"login": "apeksharma"}, "path": "pom.xml", "diffHunk": "@@ -59,7 +60,9 @@\n         <docker.resources>${project.build.directory}/container</docker.resources>\n         <docker.tag.version>${project.version}</docker.tag.version>\n         <docker.tag.latest>latest</docker.tag.latest>\n+        <gmp.track>0.11.0</gmp.track>\n         <grpc.version>1.29.0</grpc.version>\n+        <guava.version>28.2-jre</guava.version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc40842a466cb7ca3f1d04f65445babaae652db1"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTIzOTcyMA==", "bodyText": "Might be a merge issue when I rebased. Not a part of my changes. I can remove it since I see it specified in the importer.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425239720", "createdAt": "2020-05-14T15:45:40Z", "author": {"login": "Nana-EC"}, "path": "pom.xml", "diffHunk": "@@ -59,7 +60,9 @@\n         <docker.resources>${project.build.directory}/container</docker.resources>\n         <docker.tag.version>${project.version}</docker.tag.version>\n         <docker.tag.latest>latest</docker.tag.latest>\n+        <gmp.track>0.11.0</gmp.track>\n         <grpc.version>1.29.0</grpc.version>\n+        <guava.version>28.2-jre</guava.version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDc4ODgzNQ=="}, "originalCommit": {"oid": "cc40842a466cb7ca3f1d04f65445babaae652db1"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NTM0NzA4OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwMDoxNzowNlrOGVH3BA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzo0Mjo0MVrOGVnYqQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgwMjA1Mg==", "bodyText": "no need to specify dockerFile if it's directly under contextDir", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r424802052", "createdAt": "2020-05-14T00:17:06Z", "author": {"login": "apeksharma"}, "path": "hedera-mirror-gcp-marketplace/pom.xml", "diffHunk": "@@ -0,0 +1,65 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\n+    <artifactId>hedera-mirror-gcp-marketplace</artifactId>\n+    <description>Google Cloud Platform Marketplace solution for the Hedera Mirror Node</description>\n+    <modelVersion>4.0.0</modelVersion>\n+    <name>Hedera Mirror Node GCP Marketplace</name>\n+    <packaging>pom</packaging>\n+\n+    <parent>\n+        <groupId>com.hedera</groupId>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <version>0.11.0-rc1</version>\n+    </parent>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <artifactId>maven-resources-plugin</artifactId>\n+                <version>3.1.0</version>\n+                <executions>\n+                    <execution>\n+                        <id>copy-chart</id>\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>copy-resources</goal>\n+                        </goals>\n+                        <configuration>\n+                            <outputDirectory>${basedir}/chart</outputDirectory>\n+                            <resources>\n+                                <resource>\n+                                    <directory>${project.basedir}/../charts/hedera-mirror</directory>\n+                                </resource>\n+                            </resources>\n+                        </configuration>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+            <plugin>\n+                <groupId>io.fabric8</groupId>\n+                <artifactId>docker-maven-plugin</artifactId>\n+                <configuration>\n+                    <images>\n+                        <image>\n+                            <build>\n+                                <contextDir>${project.basedir}/</contextDir>\n+                                <dockerFile>${project.basedir}/Dockerfile</dockerFile>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc40842a466cb7ca3f1d04f65445babaae652db1"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMxODU2OQ==", "bodyText": "Removed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425318569", "createdAt": "2020-05-14T17:42:41Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/pom.xml", "diffHunk": "@@ -0,0 +1,65 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\n+    <artifactId>hedera-mirror-gcp-marketplace</artifactId>\n+    <description>Google Cloud Platform Marketplace solution for the Hedera Mirror Node</description>\n+    <modelVersion>4.0.0</modelVersion>\n+    <name>Hedera Mirror Node GCP Marketplace</name>\n+    <packaging>pom</packaging>\n+\n+    <parent>\n+        <groupId>com.hedera</groupId>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <version>0.11.0-rc1</version>\n+    </parent>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <artifactId>maven-resources-plugin</artifactId>\n+                <version>3.1.0</version>\n+                <executions>\n+                    <execution>\n+                        <id>copy-chart</id>\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>copy-resources</goal>\n+                        </goals>\n+                        <configuration>\n+                            <outputDirectory>${basedir}/chart</outputDirectory>\n+                            <resources>\n+                                <resource>\n+                                    <directory>${project.basedir}/../charts/hedera-mirror</directory>\n+                                </resource>\n+                            </resources>\n+                        </configuration>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+            <plugin>\n+                <groupId>io.fabric8</groupId>\n+                <artifactId>docker-maven-plugin</artifactId>\n+                <configuration>\n+                    <images>\n+                        <image>\n+                            <build>\n+                                <contextDir>${project.basedir}/</contextDir>\n+                                <dockerFile>${project.basedir}/Dockerfile</dockerFile>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgwMjA1Mg=="}, "originalCommit": {"oid": "cc40842a466cb7ca3f1d04f65445babaae652db1"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NTM0OTc5OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/Dockerfile", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwMDoxODozOFrOGVH4og==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzozNToxOVrOGVnIAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgwMjQ2Ng==", "bodyText": "delete /tmp dir in the end", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r424802466", "createdAt": "2020-05-14T00:18:38Z", "author": {"login": "apeksharma"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart\n+COPY chart /tmp/chart\n+\n+# get yq and merge values files\n+RUN apt-get update \\\n+    && apt-get install -y --no-install-recommends software-properties-common \\\n+    && add-apt-repository ppa:rmescandon/yq\n+RUN apt update && apt install -y --no-install-recommends yq\n+RUN yq m -x /tmp/chart/values.yaml /tmp/chart/values-marketplace.yaml > /tmp/chart/values-merged.yaml\n+\n+# helm template to render and verify templates\n+RUN helm template /tmp/chart -f /tmp/chart/values-merged.yaml\n+\n+# overwrite values file and archive\n+RUN mv /tmp/chart/values-merged.yaml /tmp/chart/values.yaml\n+RUN cd /tmp && tar -czvf /tmp/hedera-mirror-node.tar.gz chart/\n+\n+# Pull in and update schema for marketplace deployer\n+ARG tag\n+COPY schema.yaml /tmp/schema.yaml\n+RUN cat /tmp/schema.yaml \\\n+    | env -i \"TAG=$tag\" envsubst \\\n+    > /tmp/schema.yaml.new \\\n+    && mv /tmp/schema.yaml.new /tmp/schema.yaml\n+\n+# move chart and schema to expected /data folder structure\n+RUN mv /tmp/hedera-mirror-node.tar.gz /data/chart/\n+RUN mv /tmp/schema.yaml /data/schema.yaml\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc40842a466cb7ca3f1d04f65445babaae652db1"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMxNDMwNQ==", "bodyText": "Will do", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425314305", "createdAt": "2020-05-14T17:35:19Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart\n+COPY chart /tmp/chart\n+\n+# get yq and merge values files\n+RUN apt-get update \\\n+    && apt-get install -y --no-install-recommends software-properties-common \\\n+    && add-apt-repository ppa:rmescandon/yq\n+RUN apt update && apt install -y --no-install-recommends yq\n+RUN yq m -x /tmp/chart/values.yaml /tmp/chart/values-marketplace.yaml > /tmp/chart/values-merged.yaml\n+\n+# helm template to render and verify templates\n+RUN helm template /tmp/chart -f /tmp/chart/values-merged.yaml\n+\n+# overwrite values file and archive\n+RUN mv /tmp/chart/values-merged.yaml /tmp/chart/values.yaml\n+RUN cd /tmp && tar -czvf /tmp/hedera-mirror-node.tar.gz chart/\n+\n+# Pull in and update schema for marketplace deployer\n+ARG tag\n+COPY schema.yaml /tmp/schema.yaml\n+RUN cat /tmp/schema.yaml \\\n+    | env -i \"TAG=$tag\" envsubst \\\n+    > /tmp/schema.yaml.new \\\n+    && mv /tmp/schema.yaml.new /tmp/schema.yaml\n+\n+# move chart and schema to expected /data folder structure\n+RUN mv /tmp/hedera-mirror-node.tar.gz /data/chart/\n+RUN mv /tmp/schema.yaml /data/schema.yaml\n+", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgwMjQ2Ng=="}, "originalCommit": {"oid": "cc40842a466cb7ca3f1d04f65445babaae652db1"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NTM1NDA5OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/Dockerfile", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwMDoyMDo1OFrOGVH7MQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzozNzoxNlrOGVnMbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgwMzEyMQ==", "bodyText": "Why not directly write to /data/schema.yml rather than write to x, move to y, then move to z.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r424803121", "createdAt": "2020-05-14T00:20:58Z", "author": {"login": "apeksharma"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart\n+COPY chart /tmp/chart\n+\n+# get yq and merge values files\n+RUN apt-get update \\\n+    && apt-get install -y --no-install-recommends software-properties-common \\\n+    && add-apt-repository ppa:rmescandon/yq\n+RUN apt update && apt install -y --no-install-recommends yq\n+RUN yq m -x /tmp/chart/values.yaml /tmp/chart/values-marketplace.yaml > /tmp/chart/values-merged.yaml\n+\n+# helm template to render and verify templates\n+RUN helm template /tmp/chart -f /tmp/chart/values-merged.yaml\n+\n+# overwrite values file and archive\n+RUN mv /tmp/chart/values-merged.yaml /tmp/chart/values.yaml\n+RUN cd /tmp && tar -czvf /tmp/hedera-mirror-node.tar.gz chart/\n+\n+# Pull in and update schema for marketplace deployer\n+ARG tag\n+COPY schema.yaml /tmp/schema.yaml\n+RUN cat /tmp/schema.yaml \\\n+    | env -i \"TAG=$tag\" envsubst \\\n+    > /tmp/schema.yaml.new \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc40842a466cb7ca3f1d04f65445babaae652db1"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMxNTQzOQ==", "bodyText": "Doesn't seem to work for in place writing with the current logic. Looked into it a little and I believe it's because the pipes are asynchronous. When writing the files contents it'll clear it if the file already exists. So recommended practice is to use a temporary file to avoid any such issues.\nSome explanations of it here https://stackoverflow.com/questions/35078753/can-envsubst-not-do-in-place-substitution\nhttps://stackoverflow.com/questions/47081507/why-does-rewriting-a-file-with-envsubst-file-file-leave-it-empty", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425315439", "createdAt": "2020-05-14T17:37:16Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart\n+COPY chart /tmp/chart\n+\n+# get yq and merge values files\n+RUN apt-get update \\\n+    && apt-get install -y --no-install-recommends software-properties-common \\\n+    && add-apt-repository ppa:rmescandon/yq\n+RUN apt update && apt install -y --no-install-recommends yq\n+RUN yq m -x /tmp/chart/values.yaml /tmp/chart/values-marketplace.yaml > /tmp/chart/values-merged.yaml\n+\n+# helm template to render and verify templates\n+RUN helm template /tmp/chart -f /tmp/chart/values-merged.yaml\n+\n+# overwrite values file and archive\n+RUN mv /tmp/chart/values-merged.yaml /tmp/chart/values.yaml\n+RUN cd /tmp && tar -czvf /tmp/hedera-mirror-node.tar.gz chart/\n+\n+# Pull in and update schema for marketplace deployer\n+ARG tag\n+COPY schema.yaml /tmp/schema.yaml\n+RUN cat /tmp/schema.yaml \\\n+    | env -i \"TAG=$tag\" envsubst \\\n+    > /tmp/schema.yaml.new \\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgwMzEyMQ=="}, "originalCommit": {"oid": "cc40842a466cb7ca3f1d04f65445babaae652db1"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NTM1OTQ4OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/pom.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwMDoyNDoxNFrOGVH-oA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzozNTozNFrOGVnIog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgwNDAwMA==", "bodyText": "'tag' is very overloaded right now.\nWe can rename just the arg to its purpose - 'publishedVersion' or something more specific.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r424804000", "createdAt": "2020-05-14T00:24:14Z", "author": {"login": "apeksharma"}, "path": "hedera-mirror-gcp-marketplace/pom.xml", "diffHunk": "@@ -0,0 +1,65 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\n+    <artifactId>hedera-mirror-gcp-marketplace</artifactId>\n+    <description>Google Cloud Platform Marketplace solution for the Hedera Mirror Node</description>\n+    <modelVersion>4.0.0</modelVersion>\n+    <name>Hedera Mirror Node GCP Marketplace</name>\n+    <packaging>pom</packaging>\n+\n+    <parent>\n+        <groupId>com.hedera</groupId>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <version>0.11.0-rc1</version>\n+    </parent>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <artifactId>maven-resources-plugin</artifactId>\n+                <version>3.1.0</version>\n+                <executions>\n+                    <execution>\n+                        <id>copy-chart</id>\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>copy-resources</goal>\n+                        </goals>\n+                        <configuration>\n+                            <outputDirectory>${basedir}/chart</outputDirectory>\n+                            <resources>\n+                                <resource>\n+                                    <directory>${project.basedir}/../charts/hedera-mirror</directory>\n+                                </resource>\n+                            </resources>\n+                        </configuration>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+            <plugin>\n+                <groupId>io.fabric8</groupId>\n+                <artifactId>docker-maven-plugin</artifactId>\n+                <configuration>\n+                    <images>\n+                        <image>\n+                            <build>\n+                                <contextDir>${project.basedir}/</contextDir>\n+                                <dockerFile>${project.basedir}/Dockerfile</dockerFile>\n+                                <nocache>true</nocache>\n+                                <assembly>\n+                                    <exportTargetDir>false</exportTargetDir>\n+                                </assembly>\n+                                <args>\n+                                    <tag>${docker.tag.version}</tag>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc40842a466cb7ca3f1d04f65445babaae652db1"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMxNDQ2Ng==", "bodyText": "Agreed tag can be overloaded but in this case it is indeed a tag on the image. What is it being confused for?\nThe qualifier after says what the tag represents.\nDid you want me to rename the existing .version to .publishedVersion", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425314466", "createdAt": "2020-05-14T17:35:34Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/pom.xml", "diffHunk": "@@ -0,0 +1,65 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\n+    <artifactId>hedera-mirror-gcp-marketplace</artifactId>\n+    <description>Google Cloud Platform Marketplace solution for the Hedera Mirror Node</description>\n+    <modelVersion>4.0.0</modelVersion>\n+    <name>Hedera Mirror Node GCP Marketplace</name>\n+    <packaging>pom</packaging>\n+\n+    <parent>\n+        <groupId>com.hedera</groupId>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <version>0.11.0-rc1</version>\n+    </parent>\n+\n+    <build>\n+        <plugins>\n+            <plugin>\n+                <artifactId>maven-resources-plugin</artifactId>\n+                <version>3.1.0</version>\n+                <executions>\n+                    <execution>\n+                        <id>copy-chart</id>\n+                        <phase>install</phase>\n+                        <goals>\n+                            <goal>copy-resources</goal>\n+                        </goals>\n+                        <configuration>\n+                            <outputDirectory>${basedir}/chart</outputDirectory>\n+                            <resources>\n+                                <resource>\n+                                    <directory>${project.basedir}/../charts/hedera-mirror</directory>\n+                                </resource>\n+                            </resources>\n+                        </configuration>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+            <plugin>\n+                <groupId>io.fabric8</groupId>\n+                <artifactId>docker-maven-plugin</artifactId>\n+                <configuration>\n+                    <images>\n+                        <image>\n+                            <build>\n+                                <contextDir>${project.basedir}/</contextDir>\n+                                <dockerFile>${project.basedir}/Dockerfile</dockerFile>\n+                                <nocache>true</nocache>\n+                                <assembly>\n+                                    <exportTargetDir>false</exportTargetDir>\n+                                </assembly>\n+                                <args>\n+                                    <tag>${docker.tag.version}</tag>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgwNDAwMA=="}, "originalCommit": {"oid": "cc40842a466cb7ca3f1d04f65445babaae652db1"}, "originalPosition": 54}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NTM2NTM2OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/.maven-dockerignore", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQwMDoyNzoyM1rOGVICMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzo0Mjo1OVrOGVnZXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgwNDkxMw==", "bodyText": "remove Dockerfile from ignore list. let it be sent with the context.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r424804913", "createdAt": "2020-05-14T00:27:23Z", "author": {"login": "apeksharma"}, "path": "hedera-mirror-gcp-marketplace/.maven-dockerignore", "diffHunk": "@@ -0,0 +1,2 @@\n+Dockerfile", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc40842a466cb7ca3f1d04f65445babaae652db1"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMxODc0OQ==", "bodyText": "Done", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425318749", "createdAt": "2020-05-14T17:42:59Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/.maven-dockerignore", "diffHunk": "@@ -0,0 +1,2 @@\n+Dockerfile", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDgwNDkxMw=="}, "originalCommit": {"oid": "cc40842a466cb7ca3f1d04f65445babaae652db1"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0Nzc2ODQ3OnYy", "diffSide": "RIGHT", "path": "charts/hedera-mirror/templates/NOTES.txt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNDo0MzozNVrOGVfr8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMDoxNzo0N1rOGVsq7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE5MjQzNQ==", "bodyText": "This if should be around the export SERVICE_IP and grafana sections as well", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425192435", "createdAt": "2020-05-14T14:43:35Z", "author": {"login": "steven-sheehy"}, "path": "charts/hedera-mirror/templates/NOTES.txt", "diffHunk": "@@ -3,11 +3,13 @@ Hedera Mirror Node {{ .Chart.AppVersion }} successfully installed.\n To get the load balancer IP:\n   export SERVICE_IP=$(kubectl get svc -n {{ include \"hedera-mirror.namespace\" . }} {{ .Values.traefik.fullnameOverride }} -o jsonpath=\"{.status.loadBalancer.ingress[0].ip}\")\n \n+{{ if and .Values.traefik.enabled -}}\n To access the GRPC API:\n   grpcurl -plaintext ${SERVICE_IP}:{{ .Values.traefik.ports.web.exposedPort }} list\n \n To access the REST API:\n   curl -s \"http://${SERVICE_IP}:{{ .Values.traefik.ports.web.exposedPort }}/api/v1/transactions?limit=1\"\n+{{- end -}}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQwNTE2Nw==", "bodyText": "Will expand", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425405167", "createdAt": "2020-05-14T20:17:47Z", "author": {"login": "Nana-EC"}, "path": "charts/hedera-mirror/templates/NOTES.txt", "diffHunk": "@@ -3,11 +3,13 @@ Hedera Mirror Node {{ .Chart.AppVersion }} successfully installed.\n To get the load balancer IP:\n   export SERVICE_IP=$(kubectl get svc -n {{ include \"hedera-mirror.namespace\" . }} {{ .Values.traefik.fullnameOverride }} -o jsonpath=\"{.status.loadBalancer.ingress[0].ip}\")\n \n+{{ if and .Values.traefik.enabled -}}\n To access the GRPC API:\n   grpcurl -plaintext ${SERVICE_IP}:{{ .Values.traefik.ports.web.exposedPort }} list\n \n To access the REST API:\n   curl -s \"http://${SERVICE_IP}:{{ .Values.traefik.ports.web.exposedPort }}/api/v1/transactions?limit=1\"\n+{{- end -}}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE5MjQzNQ=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0Nzc3MDcyOnYy", "diffSide": "RIGHT", "path": "charts/hedera-mirror/templates/application.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNDo0NDowOVrOGVfthw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQwNTo0ODozOVrOGV3TOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE5MjgzOQ==", "bodyText": "This can probably stay {{ include \"hedera-mirror.namespace\" . }}", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425192839", "createdAt": "2020-05-14T14:44:09Z", "author": {"login": "steven-sheehy"}, "path": "charts/hedera-mirror/templates/application.yaml", "diffHunk": "@@ -4,40 +4,34 @@ kind: Application\n metadata:\n   annotations:\n     kubernetes-engine.cloud.google.com/icon: data:image/png;base64,{{ .Files.Get \"logo.png\" | b64enc }}\n-    marketplace.cloud.google.com/deploy-info: |-\n-      {\n-        partner_id: {{ .Values.applicationResource.partnerId | quote }},\n-        partner_name: {{ .Values.applicationResource.partnerName | quote }},\n-        product_id: {{ .Values.applicationResource.productId | quote }}\n-      }\n+    marketplace.cloud.google.com/deploy-info: '{ \"partner_id\": \"hederaPartnerId\", \"partner_name\": \"partner_name\", \"product_id\": \"hederaMirrorSolutionId\" }'\n   labels:\n     {{- include \"hedera-mirror.labels\" . | nindent 4 }}\n-  name: {{ include \"hedera-mirror.fullname\" . }}\n-  namespace: {{ include \"hedera-mirror.namespace\" . }}\n+    app.kubernetes.io/name: {{ .Release.Name }}\n+  name: {{ .Release.Name }}\n+  namespace: {{ .Release.Namespace }}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTU3OTMyMA==", "bodyText": "Reverted", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425579320", "createdAt": "2020-05-15T05:48:39Z", "author": {"login": "Nana-EC"}, "path": "charts/hedera-mirror/templates/application.yaml", "diffHunk": "@@ -4,40 +4,34 @@ kind: Application\n metadata:\n   annotations:\n     kubernetes-engine.cloud.google.com/icon: data:image/png;base64,{{ .Files.Get \"logo.png\" | b64enc }}\n-    marketplace.cloud.google.com/deploy-info: |-\n-      {\n-        partner_id: {{ .Values.applicationResource.partnerId | quote }},\n-        partner_name: {{ .Values.applicationResource.partnerName | quote }},\n-        product_id: {{ .Values.applicationResource.productId | quote }}\n-      }\n+    marketplace.cloud.google.com/deploy-info: '{ \"partner_id\": \"hederaPartnerId\", \"partner_name\": \"partner_name\", \"product_id\": \"hederaMirrorSolutionId\" }'\n   labels:\n     {{- include \"hedera-mirror.labels\" . | nindent 4 }}\n-  name: {{ include \"hedera-mirror.fullname\" . }}\n-  namespace: {{ include \"hedera-mirror.namespace\" . }}\n+    app.kubernetes.io/name: {{ .Release.Name }}\n+  name: {{ .Release.Name }}\n+  namespace: {{ .Release.Namespace }}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE5MjgzOQ=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0Nzc4MDYxOnYy", "diffSide": "LEFT", "path": "hedera-mirror-rest/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNDo0NjoxM1rOGVfz-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQwNTo0OToxMFrOGV3T1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE5NDQ4OQ==", "bodyText": "All of the plugin declaration in child pom can be removed except the groupId and artifactId", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425194489", "createdAt": "2020-05-14T14:46:13Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-rest/pom.xml", "diffHunk": "@@ -37,13 +37,6 @@\n                 <configuration>\n                     <images>\n                         <image>\n-                            <build>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTU3OTQ3OQ==", "bodyText": "Reverted back", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425579479", "createdAt": "2020-05-15T05:49:10Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-rest/pom.xml", "diffHunk": "@@ -37,13 +37,6 @@\n                 <configuration>\n                     <images>\n                         <image>\n-                            <build>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE5NDQ4OQ=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODExOTY4OnYy", "diffSide": "RIGHT", "path": "charts/hedera-mirror/templates/application.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNTo1ODo1MlrOGVjK7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNTo1ODo1MlrOGVjK7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI0OTUxNg==", "bodyText": "Will figure out how to not have to hard code this.\nThe json parser marketplace uses wouldn't accept {{ .Values }} so I did this as a work around. Lots of other solution also hard code these as they don't change often.\nWill come back to it", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425249516", "createdAt": "2020-05-14T15:58:52Z", "author": {"login": "Nana-EC"}, "path": "charts/hedera-mirror/templates/application.yaml", "diffHunk": "@@ -4,40 +4,34 @@ kind: Application\n metadata:\n   annotations:\n     kubernetes-engine.cloud.google.com/icon: data:image/png;base64,{{ .Files.Get \"logo.png\" | b64enc }}\n-    marketplace.cloud.google.com/deploy-info: |-\n-      {\n-        partner_id: {{ .Values.applicationResource.partnerId | quote }},\n-        partner_name: {{ .Values.applicationResource.partnerName | quote }},\n-        product_id: {{ .Values.applicationResource.productId | quote }}\n-      }\n+    marketplace.cloud.google.com/deploy-info: '{ \"partner_id\": \"hederaPartnerId\", \"partner_name\": \"partner_name\", \"product_id\": \"hederaMirrorSolutionId\" }'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODE2MDY1OnYy", "diffSide": "RIGHT", "path": "charts/hedera-mirror/values.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNjowODoxNlrOGVjk3g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMDoyNzo0MVrOGVs_bg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI1NjE1OA==", "bodyText": "Rest of file is sorted. Would prefer new elements sorted as well.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425256158", "createdAt": "2020-05-14T16:08:16Z", "author": {"login": "steven-sheehy"}, "path": "charts/hedera-mirror/values.yaml", "diffHunk": "@@ -350,3 +350,6 @@ traefik:\n     - name: traefik\n       mountPath: /etc/traefik/\n       type: configMap\n+\n+priorityClass:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQxMDQxNA==", "bodyText": "Can do", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425410414", "createdAt": "2020-05-14T20:27:41Z", "author": {"login": "Nana-EC"}, "path": "charts/hedera-mirror/values.yaml", "diffHunk": "@@ -350,3 +350,6 @@ traefik:\n     - name: traefik\n       mountPath: /etc/traefik/\n       type: configMap\n+\n+priorityClass:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI1NjE1OA=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODE3MTAyOnYy", "diffSide": "RIGHT", "path": "charts/hedera-mirror/templates/application.yaml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNjoxMDo0N1rOGVjrqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMDoyNjo0M1rOGVs9mA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI1Nzg5OQ==", "bodyText": "These should be templated", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425257899", "createdAt": "2020-05-14T16:10:47Z", "author": {"login": "steven-sheehy"}, "path": "charts/hedera-mirror/templates/application.yaml", "diffHunk": "@@ -4,40 +4,34 @@ kind: Application\n metadata:\n   annotations:\n     kubernetes-engine.cloud.google.com/icon: data:image/png;base64,{{ .Files.Get \"logo.png\" | b64enc }}\n-    marketplace.cloud.google.com/deploy-info: |-\n-      {\n-        partner_id: {{ .Values.applicationResource.partnerId | quote }},\n-        partner_name: {{ .Values.applicationResource.partnerName | quote }},\n-        product_id: {{ .Values.applicationResource.productId | quote }}\n-      }\n+    marketplace.cloud.google.com/deploy-info: '{ \"partner_id\": \"hederaPartnerId\", \"partner_name\": \"partner_name\", \"product_id\": \"hederaMirrorSolutionId\" }'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQwOTk0NA==", "bodyText": "Made a comment on this above regarding the mpdev json parser complaining when it was.\nI intend to come back to it once everything is sorted.\nSome projects even leave it as hard coded given it is unlikely o change but agreed that it should be templated", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425409944", "createdAt": "2020-05-14T20:26:43Z", "author": {"login": "Nana-EC"}, "path": "charts/hedera-mirror/templates/application.yaml", "diffHunk": "@@ -4,40 +4,34 @@ kind: Application\n metadata:\n   annotations:\n     kubernetes-engine.cloud.google.com/icon: data:image/png;base64,{{ .Files.Get \"logo.png\" | b64enc }}\n-    marketplace.cloud.google.com/deploy-info: |-\n-      {\n-        partner_id: {{ .Values.applicationResource.partnerId | quote }},\n-        partner_name: {{ .Values.applicationResource.partnerName | quote }},\n-        product_id: {{ .Values.applicationResource.productId | quote }}\n-      }\n+    marketplace.cloud.google.com/deploy-info: '{ \"partner_id\": \"hederaPartnerId\", \"partner_name\": \"partner_name\", \"product_id\": \"hederaMirrorSolutionId\" }'", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI1Nzg5OQ=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODE3NzM5OnYy", "diffSide": "RIGHT", "path": "charts/hedera-mirror/values-marketplace.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNjoxMjoyMlrOGVjv6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMDoyODozM1rOGVtBNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI1ODk4NA==", "bodyText": "This is already the value in values.yaml, no need to duplicate", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425258984", "createdAt": "2020-05-14T16:12:22Z", "author": {"login": "steven-sheehy"}, "path": "charts/hedera-mirror/values-marketplace.yaml", "diffHunk": "@@ -9,28 +30,66 @@ grpc:\n     create: false\n   serviceMonitor:\n     enabled: false\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node/grpc\n+    <<: *versiontag\n+  service:\n+    type: LoadBalancer\n+\n importer:\n   podMonitor:\n     enabled: false\n+  priorityClassName: \"\"\n   rbac:\n     enabled: false\n   replicas: 1\n   serviceAccount:\n     create: false\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node/importer\n+    <<: *versiontag\n+\n+labels: {}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQxMDg3MQ==", "bodyText": "Left over from temporary merge. Missed it in cleanup. Will remove", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425410871", "createdAt": "2020-05-14T20:28:33Z", "author": {"login": "Nana-EC"}, "path": "charts/hedera-mirror/values-marketplace.yaml", "diffHunk": "@@ -9,28 +30,66 @@ grpc:\n     create: false\n   serviceMonitor:\n     enabled: false\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node/grpc\n+    <<: *versiontag\n+  service:\n+    type: LoadBalancer\n+\n importer:\n   podMonitor:\n     enabled: false\n+  priorityClassName: \"\"\n   rbac:\n     enabled: false\n   replicas: 1\n   serviceAccount:\n     create: false\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node/importer\n+    <<: *versiontag\n+\n+labels: {}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI1ODk4NA=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 49}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODE3NzkzOnYy", "diffSide": "RIGHT", "path": "charts/hedera-mirror/values-marketplace.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNjoxMjozMVrOGVjwPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMDoyOToyNFrOGVtDLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI1OTA2OQ==", "bodyText": "This is already the value in values.yaml, no need to duplicate", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425259069", "createdAt": "2020-05-14T16:12:31Z", "author": {"login": "steven-sheehy"}, "path": "charts/hedera-mirror/values-marketplace.yaml", "diffHunk": "@@ -9,28 +30,66 @@ grpc:\n     create: false\n   serviceMonitor:\n     enabled: false\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node/grpc\n+    <<: *versiontag\n+  service:\n+    type: LoadBalancer\n+\n importer:\n   podMonitor:\n     enabled: false\n+  priorityClassName: \"\"\n   rbac:\n     enabled: false\n   replicas: 1\n   serviceAccount:\n     create: false\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node/importer\n+    <<: *versiontag\n+\n+labels: {}\n+\n loki:\n   enabled: false\n+\n+networkPolicy:\n+  enabled: false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQxMTM3Mg==", "bodyText": "Same as labels. Will remove", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425411372", "createdAt": "2020-05-14T20:29:24Z", "author": {"login": "Nana-EC"}, "path": "charts/hedera-mirror/values-marketplace.yaml", "diffHunk": "@@ -9,28 +30,66 @@ grpc:\n     create: false\n   serviceMonitor:\n     enabled: false\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node/grpc\n+    <<: *versiontag\n+  service:\n+    type: LoadBalancer\n+\n importer:\n   podMonitor:\n     enabled: false\n+  priorityClassName: \"\"\n   rbac:\n     enabled: false\n   replicas: 1\n   serviceAccount:\n     create: false\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node/importer\n+    <<: *versiontag\n+\n+labels: {}\n+\n loki:\n   enabled: false\n+\n+networkPolicy:\n+  enabled: false", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI1OTA2OQ=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 55}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODE5MTEwOnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNjoxNTozM1rOGVj4dg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMDozMzo1N1rOGVtMWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI2MTE3NA==", "bodyText": "Don't like the name gmp.track. Also, tagging latest minor version has value even for non marketplace deployments. Would suggest docker.tag.minor", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425261174", "createdAt": "2020-05-14T16:15:33Z", "author": {"login": "steven-sheehy"}, "path": "pom.xml", "diffHunk": "@@ -59,7 +60,9 @@\n         <docker.resources>${project.build.directory}/container</docker.resources>\n         <docker.tag.version>${project.version}</docker.tag.version>\n         <docker.tag.latest>latest</docker.tag.latest>\n+        <gmp.track>0.11.0</gmp.track>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQxMzcyMg==", "bodyText": "Can change.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425413722", "createdAt": "2020-05-14T20:33:57Z", "author": {"login": "Nana-EC"}, "path": "pom.xml", "diffHunk": "@@ -59,7 +60,9 @@\n         <docker.resources>${project.build.directory}/container</docker.resources>\n         <docker.tag.version>${project.version}</docker.tag.version>\n         <docker.tag.latest>latest</docker.tag.latest>\n+        <gmp.track>0.11.0</gmp.track>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI2MTE3NA=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODE5NDQ3OnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNjoxNjoxNVrOGVj6kw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQyMjo0MjowMFrOGXJzAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI2MTcxNQ==", "bodyText": "How would this value get handled for master tags?", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425261715", "createdAt": "2020-05-14T16:16:15Z", "author": {"login": "steven-sheehy"}, "path": "pom.xml", "diffHunk": "@@ -185,6 +188,7 @@\n                             <tags>\n                                 <tag>${docker.tag.latest}</tag>\n                                 <tag>${docker.tag.version}</tag>\n+                                <tag>${gmp.track}</tag>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQxNTI0Mw==", "bodyText": "It would be added even for master images. Is there a downside other than the extra tag on an image?", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425415243", "createdAt": "2020-05-14T20:36:57Z", "author": {"login": "Nana-EC"}, "path": "pom.xml", "diffHunk": "@@ -185,6 +188,7 @@\n                             <tags>\n                                 <tag>${docker.tag.latest}</tag>\n                                 <tag>${docker.tag.version}</tag>\n+                                <tag>${gmp.track}</tag>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI2MTcxNQ=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQxODE3Mg==", "bodyText": "0.x tags should point to latest tagged release, not latest master. This is the standard on how every docker tag works on docker hub. See postgres for an example.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425418172", "createdAt": "2020-05-14T20:42:40Z", "author": {"login": "steven-sheehy"}, "path": "pom.xml", "diffHunk": "@@ -185,6 +188,7 @@\n                             <tags>\n                                 <tag>${docker.tag.latest}</tag>\n                                 <tag>${docker.tag.version}</tag>\n+                                <tag>${gmp.track}</tag>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI2MTcxNQ=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTU4MDM3Mg==", "bodyText": "I can update the circle ci logic to set docker.tag.latest to the minor value in this case. Will look into it and remove this so it's not done all the time", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425580372", "createdAt": "2020-05-15T05:51:49Z", "author": {"login": "Nana-EC"}, "path": "pom.xml", "diffHunk": "@@ -185,6 +188,7 @@\n                             <tags>\n                                 <tag>${docker.tag.latest}</tag>\n                                 <tag>${docker.tag.version}</tag>\n+                                <tag>${gmp.track}</tag>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI2MTcxNQ=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjkzMDk0Ng==", "bodyText": "Fixed this. Circle CI will not add -Ddocker.tags.0=. on release builds. All other branches won't see this", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r426930946", "createdAt": "2020-05-18T22:42:00Z", "author": {"login": "Nana-EC"}, "path": "pom.xml", "diffHunk": "@@ -185,6 +188,7 @@\n                             <tags>\n                                 <tag>${docker.tag.latest}</tag>\n                                 <tag>${docker.tag.version}</tag>\n+                                <tag>${gmp.track}</tag>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI2MTcxNQ=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODI0MTk4OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/schema.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNjoyNTo0N1rOGVkZKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxNjoyNzozN1rOGW-yzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI2OTU0Nw==", "bodyText": "Shouldn't this be separated into pgpool and postgresql image sections?", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425269547", "createdAt": "2020-05-14T16:25:47Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-gcp-marketplace/schema.yaml", "diffHunk": "@@ -0,0 +1,80 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      A mirror-node update.\n+    # releaseTypes list is optional. Feature | BugFix | Security\n+    # \"Security\" should only be used if this is an important update to patch\n+    # an existing vulnerability, as such updates will display more prominently for users.\n+    releaseTypes:\n+      - Feature\n+    # If \"recommended\" is \"true\", users using older releases are encouraged\n+    # to update as soon as possible. This is useful if, for example, this release\n+    # fixes a critical issue.\n+    recommended: false\n+\n+  # images for subcharts. Primary image is importer\n+  images:\n+    '':\n+      properties:\n+        mirrornode.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        mirrornode.image.tag:\n+          type: TAG\n+    grpc:\n+      properties:\n+        grpc.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        grpc.image.tag:\n+          type: TAG\n+    rest:\n+      properties:\n+        rest.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        rest.image.tag:\n+          type: TAG\n+    postgresql:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjc1MDY2OQ==", "bodyText": "Yes, you are right. This helped move me forward a bit. Thanks", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r426750669", "createdAt": "2020-05-18T16:27:37Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/schema.yaml", "diffHunk": "@@ -0,0 +1,80 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      A mirror-node update.\n+    # releaseTypes list is optional. Feature | BugFix | Security\n+    # \"Security\" should only be used if this is an important update to patch\n+    # an existing vulnerability, as such updates will display more prominently for users.\n+    releaseTypes:\n+      - Feature\n+    # If \"recommended\" is \"true\", users using older releases are encouraged\n+    # to update as soon as possible. This is useful if, for example, this release\n+    # fixes a critical issue.\n+    recommended: false\n+\n+  # images for subcharts. Primary image is importer\n+  images:\n+    '':\n+      properties:\n+        mirrornode.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        mirrornode.image.tag:\n+          type: TAG\n+    grpc:\n+      properties:\n+        grpc.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        grpc.image.tag:\n+          type: TAG\n+    rest:\n+      properties:\n+        rest.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        rest.image.tag:\n+          type: TAG\n+    postgresql:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI2OTU0Nw=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODI1MDc4OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/schema.yaml", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNjoyNzoyNFrOGVkezQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQwNTo1NTozOVrOGV3b5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI3MDk4OQ==", "bodyText": "Initial release of the Hedera Mirror Node", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425270989", "createdAt": "2020-05-14T16:27:24Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-gcp-marketplace/schema.yaml", "diffHunk": "@@ -0,0 +1,80 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      A mirror-node update.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQxNjExNA==", "bodyText": "Eventually it won't be the initial so figured update was more fitting but I can change it. Saw some projects with version > 2.x.y but still said initial, lol", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425416114", "createdAt": "2020-05-14T20:38:35Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/schema.yaml", "diffHunk": "@@ -0,0 +1,80 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      A mirror-node update.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI3MDk4OQ=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQxODcyNQ==", "bodyText": "I think the intent is that this gets replaced every release with a blurb about what's changed. Otherwise we should just not provide it if it's always going to be static as that's not helpful", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425418725", "createdAt": "2020-05-14T20:43:45Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-gcp-marketplace/schema.yaml", "diffHunk": "@@ -0,0 +1,80 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      A mirror-node update.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI3MDk4OQ=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTU4MTU0Mw==", "bodyText": "Can come back to it. If is is static will remove", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425581543", "createdAt": "2020-05-15T05:55:39Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/schema.yaml", "diffHunk": "@@ -0,0 +1,80 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      A mirror-node update.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI3MDk4OQ=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODI2MjE3OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/schema.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNjozMDowMVrOGVklrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxNjoyODoxNlrOGW-0ag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI3Mjc0OA==", "bodyText": "We should also expose replicas property and passwords for all components. Replicas default to 1 but passwords should be empty and require input.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425272748", "createdAt": "2020-05-14T16:30:01Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-gcp-marketplace/schema.yaml", "diffHunk": "@@ -0,0 +1,80 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      A mirror-node update.\n+    # releaseTypes list is optional. Feature | BugFix | Security\n+    # \"Security\" should only be used if this is an important update to patch\n+    # an existing vulnerability, as such updates will display more prominently for users.\n+    releaseTypes:\n+      - Feature\n+    # If \"recommended\" is \"true\", users using older releases are encouraged\n+    # to update as soon as possible. This is useful if, for example, this release\n+    # fixes a critical issue.\n+    recommended: false\n+\n+  # images for subcharts. Primary image is importer\n+  images:\n+    '':\n+      properties:\n+        mirrornode.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        mirrornode.image.tag:\n+          type: TAG\n+    grpc:\n+      properties:\n+        grpc.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        grpc.image.tag:\n+          type: TAG\n+    rest:\n+      properties:\n+        rest.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        rest.image.tag:\n+          type: TAG\n+    postgresql:\n+      properties:\n+        postgresql.postgresqlImage.registry:\n+          type: REGISTRY\n+        postgresql.postgresqlImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.postgresqlImage.tag:\n+          type: TAG\n+        postgresql.pgpoolImage.registry:\n+          type: REGISTRY\n+        postgresql.pgpoolImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.pgpoolImage.tag:\n+          type: TAG\n+\n+  # Other fields, like clusterConstraints, can be included here.\n+\n+  # The Properties and Required sections of v2 are structured the same as those of v1.\n+  # IMPORTANT: These IDs must match your listing ID in Marketplace.\n+  partnerId: hederaPartnerId\n+  solutionId: hederaMirrorSolutionId\n+\n+properties:\n+  name:\n+    type: string\n+    x-google-marketplace:\n+      type: NAME\n+  namespace:\n+    type: string\n+    x-google-marketplace:\n+      type: NAMESPACE\n+  deployer.image:\n+    type: string\n+    x-google-marketplace:\n+      type: DEPLOYER_IMAGE", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjc1MTA4Mg==", "bodyText": "Can do", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r426751082", "createdAt": "2020-05-18T16:28:16Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/schema.yaml", "diffHunk": "@@ -0,0 +1,80 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      A mirror-node update.\n+    # releaseTypes list is optional. Feature | BugFix | Security\n+    # \"Security\" should only be used if this is an important update to patch\n+    # an existing vulnerability, as such updates will display more prominently for users.\n+    releaseTypes:\n+      - Feature\n+    # If \"recommended\" is \"true\", users using older releases are encouraged\n+    # to update as soon as possible. This is useful if, for example, this release\n+    # fixes a critical issue.\n+    recommended: false\n+\n+  # images for subcharts. Primary image is importer\n+  images:\n+    '':\n+      properties:\n+        mirrornode.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        mirrornode.image.tag:\n+          type: TAG\n+    grpc:\n+      properties:\n+        grpc.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        grpc.image.tag:\n+          type: TAG\n+    rest:\n+      properties:\n+        rest.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        rest.image.tag:\n+          type: TAG\n+    postgresql:\n+      properties:\n+        postgresql.postgresqlImage.registry:\n+          type: REGISTRY\n+        postgresql.postgresqlImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.postgresqlImage.tag:\n+          type: TAG\n+        postgresql.pgpoolImage.registry:\n+          type: REGISTRY\n+        postgresql.pgpoolImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.pgpoolImage.tag:\n+          type: TAG\n+\n+  # Other fields, like clusterConstraints, can be included here.\n+\n+  # The Properties and Required sections of v2 are structured the same as those of v1.\n+  # IMPORTANT: These IDs must match your listing ID in Marketplace.\n+  partnerId: hederaPartnerId\n+  solutionId: hederaMirrorSolutionId\n+\n+properties:\n+  name:\n+    type: string\n+    x-google-marketplace:\n+      type: NAME\n+  namespace:\n+    type: string\n+    x-google-marketplace:\n+      type: NAMESPACE\n+  deployer.image:\n+    type: string\n+    x-google-marketplace:\n+      type: DEPLOYER_IMAGE", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI3Mjc0OA=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 75}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODMxMTA4OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/Dockerfile", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNjo0MjozMlrOGVlFXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMTo0NDozNVrOGVvU4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI4MDg2Mw==", "bodyText": "Combine these two lines. Move add-apt-repository as first then you can install all in one command", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425280863", "createdAt": "2020-05-14T16:42:32Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart\n+COPY chart /tmp/chart\n+\n+# get yq and merge values files\n+RUN apt-get update \\\n+    && apt-get install -y --no-install-recommends software-properties-common \\\n+    && add-apt-repository ppa:rmescandon/yq\n+RUN apt update && apt install -y --no-install-recommends yq", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ0ODY3Mw==", "bodyText": "In most cases add-apt-repository isn't available. Since it's a utility in the software-properties-common package you have to install that first or else you get a\nadd-apt-repository: not found\nLet me see if I can work around that though", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425448673", "createdAt": "2020-05-14T21:44:35Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart\n+COPY chart /tmp/chart\n+\n+# get yq and merge values files\n+RUN apt-get update \\\n+    && apt-get install -y --no-install-recommends software-properties-common \\\n+    && add-apt-repository ppa:rmescandon/yq\n+RUN apt update && apt install -y --no-install-recommends yq", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI4MDg2Mw=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODMxMzQ5OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/Dockerfile", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNjo0MzowNFrOGVlG1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNjo0MzowNFrOGVlG1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI4MTIzNg==", "bodyText": "Nice!", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425281236", "createdAt": "2020-05-14T16:43:04Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart\n+COPY chart /tmp/chart\n+\n+# get yq and merge values files\n+RUN apt-get update \\\n+    && apt-get install -y --no-install-recommends software-properties-common \\\n+    && add-apt-repository ppa:rmescandon/yq\n+RUN apt update && apt install -y --no-install-recommends yq\n+RUN yq m -x /tmp/chart/values.yaml /tmp/chart/values-marketplace.yaml > /tmp/chart/values-merged.yaml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODM2NTcxOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/Dockerfile", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNjo1NjoyMVrOGVloBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMjo1MTozMlrOGVw2Vw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI4OTczNQ==", "bodyText": "This command is not necessary if you just merge two files above directly to values.yaml", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425289735", "createdAt": "2020-05-14T16:56:21Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart\n+COPY chart /tmp/chart\n+\n+# get yq and merge values files\n+RUN apt-get update \\\n+    && apt-get install -y --no-install-recommends software-properties-common \\\n+    && add-apt-repository ppa:rmescandon/yq\n+RUN apt update && apt install -y --no-install-recommends yq\n+RUN yq m -x /tmp/chart/values.yaml /tmp/chart/values-marketplace.yaml > /tmp/chart/values-merged.yaml\n+\n+# helm template to render and verify templates\n+RUN helm template /tmp/chart -f /tmp/chart/values-merged.yaml\n+\n+# overwrite values file and archive\n+RUN mv /tmp/chart/values-merged.yaml /tmp/chart/values.yaml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ3MzYyMw==", "bodyText": "Yep yq m -i --overwrite will do it", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425473623", "createdAt": "2020-05-14T22:51:32Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart\n+COPY chart /tmp/chart\n+\n+# get yq and merge values files\n+RUN apt-get update \\\n+    && apt-get install -y --no-install-recommends software-properties-common \\\n+    && add-apt-repository ppa:rmescandon/yq\n+RUN apt update && apt install -y --no-install-recommends yq\n+RUN yq m -x /tmp/chart/values.yaml /tmp/chart/values-marketplace.yaml > /tmp/chart/values-merged.yaml\n+\n+# helm template to render and verify templates\n+RUN helm template /tmp/chart -f /tmp/chart/values-merged.yaml\n+\n+# overwrite values file and archive\n+RUN mv /tmp/chart/values-merged.yaml /tmp/chart/values.yaml", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI4OTczNQ=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODQxMjM4OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/Dockerfile", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzowODoxM1rOGVmGCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMjo1Mjo1MlrOGVw4Ow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI5NzQxNw==", "bodyText": "This should be a multi-stage build so that all the prebuild utilities and folders don't get carried over.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425297417", "createdAt": "2020-05-14T17:08:13Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart\n+COPY chart /tmp/chart\n+\n+# get yq and merge values files\n+RUN apt-get update \\\n+    && apt-get install -y --no-install-recommends software-properties-common \\\n+    && add-apt-repository ppa:rmescandon/yq\n+RUN apt update && apt install -y --no-install-recommends yq\n+RUN yq m -x /tmp/chart/values.yaml /tmp/chart/values-marketplace.yaml > /tmp/chart/values-merged.yaml\n+\n+# helm template to render and verify templates\n+RUN helm template /tmp/chart -f /tmp/chart/values-merged.yaml\n+\n+# overwrite values file and archive\n+RUN mv /tmp/chart/values-merged.yaml /tmp/chart/values.yaml\n+RUN cd /tmp && tar -czvf /tmp/hedera-mirror-node.tar.gz chart/\n+\n+# Pull in and update schema for marketplace deployer\n+ARG tag\n+COPY schema.yaml /tmp/schema.yaml\n+RUN cat /tmp/schema.yaml \\\n+    | env -i \"TAG=$tag\" envsubst \\\n+    > /tmp/schema.yaml.new \\\n+    && mv /tmp/schema.yaml.new /tmp/schema.yaml\n+\n+# move chart and schema to expected /data folder structure", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ3NDEwNw==", "bodyText": "Good suggestion", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425474107", "createdAt": "2020-05-14T22:52:52Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart\n+COPY chart /tmp/chart\n+\n+# get yq and merge values files\n+RUN apt-get update \\\n+    && apt-get install -y --no-install-recommends software-properties-common \\\n+    && add-apt-repository ppa:rmescandon/yq\n+RUN apt update && apt install -y --no-install-recommends yq\n+RUN yq m -x /tmp/chart/values.yaml /tmp/chart/values-marketplace.yaml > /tmp/chart/values-merged.yaml\n+\n+# helm template to render and verify templates\n+RUN helm template /tmp/chart -f /tmp/chart/values-merged.yaml\n+\n+# overwrite values file and archive\n+RUN mv /tmp/chart/values-merged.yaml /tmp/chart/values.yaml\n+RUN cd /tmp && tar -czvf /tmp/hedera-mirror-node.tar.gz chart/\n+\n+# Pull in and update schema for marketplace deployer\n+ARG tag\n+COPY schema.yaml /tmp/schema.yaml\n+RUN cat /tmp/schema.yaml \\\n+    | env -i \"TAG=$tag\" envsubst \\\n+    > /tmp/schema.yaml.new \\\n+    && mv /tmp/schema.yaml.new /tmp/schema.yaml\n+\n+# move chart and schema to expected /data folder structure", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTI5NzQxNw=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODQ0MTc3OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzoxNToxOFrOGVmY4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQwNTo1Njo0N1rOGV3dNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMwMjI0MQ==", "bodyText": "Add mpdev", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425302241", "createdAt": "2020-05-14T17:15:18Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-gcp-marketplace/README.md", "diffHunk": "@@ -0,0 +1,31 @@\n+# Overview\n+\n+This submodule contains logic to support the development and deployment of the Hedera Mirror Node in a Kubernetes cluster in GCP Marketplace.\n+\n+The module takes in the wrapper hedera-mirror Helm chart and bundles it into the required deployer image which is built and pushed to GCR repo on maven deploy.\n+\n+# Setup\n+\n+## Prerequisites\n+\n+### Command line tools\n+\n+- [gcloud](https://cloud.google.com/sdk/gcloud/)\n+- [kubectl](https://kubernetes.io/docs/tasks/tools/install-kubectl/)\n+- [docker](https://docs.docker.com/install/)\n+- [helm](https://helm.sh/docs/using_helm/#installing-helm)\n+- [git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTU4MTg3Ng==", "bodyText": "Done", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425581876", "createdAt": "2020-05-15T05:56:47Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/README.md", "diffHunk": "@@ -0,0 +1,31 @@\n+# Overview\n+\n+This submodule contains logic to support the development and deployment of the Hedera Mirror Node in a Kubernetes cluster in GCP Marketplace.\n+\n+The module takes in the wrapper hedera-mirror Helm chart and bundles it into the required deployer image which is built and pushed to GCR repo on maven deploy.\n+\n+# Setup\n+\n+## Prerequisites\n+\n+### Command line tools\n+\n+- [gcloud](https://cloud.google.com/sdk/gcloud/)\n+- [kubectl](https://kubernetes.io/docs/tasks/tools/install-kubectl/)\n+- [docker](https://docs.docker.com/install/)\n+- [helm](https://helm.sh/docs/using_helm/#installing-helm)\n+- [git](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMwMjI0MQ=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODQ0NTUzOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/Dockerfile", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzoxNjoxMVrOGVmbJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMjo1NDozMlrOGVw6Yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMwMjgyMQ==", "bodyText": "Can remove", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425302821", "createdAt": "2020-05-14T17:16:11Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart\n+COPY chart /tmp/chart\n+\n+# get yq and merge values files\n+RUN apt-get update \\\n+    && apt-get install -y --no-install-recommends software-properties-common \\\n+    && add-apt-repository ppa:rmescandon/yq\n+RUN apt update && apt install -y --no-install-recommends yq\n+RUN yq m -x /tmp/chart/values.yaml /tmp/chart/values-marketplace.yaml > /tmp/chart/values-merged.yaml\n+\n+# helm template to render and verify templates\n+RUN helm template /tmp/chart -f /tmp/chart/values-merged.yaml\n+\n+# overwrite values file and archive\n+RUN mv /tmp/chart/values-merged.yaml /tmp/chart/values.yaml\n+RUN cd /tmp && tar -czvf /tmp/hedera-mirror-node.tar.gz chart/\n+\n+# Pull in and update schema for marketplace deployer\n+ARG tag\n+COPY schema.yaml /tmp/schema.yaml\n+RUN cat /tmp/schema.yaml \\\n+    | env -i \"TAG=$tag\" envsubst \\\n+    > /tmp/schema.yaml.new \\\n+    && mv /tmp/schema.yaml.new /tmp/schema.yaml\n+\n+# move chart and schema to expected /data folder structure\n+RUN mv /tmp/hedera-mirror-node.tar.gz /data/chart/\n+RUN mv /tmp/schema.yaml /data/schema.yaml\n+\n+#RUN cp /data/schema.yaml /data-test/schema.yaml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ3NDY1OQ==", "bodyText": "Added a comment in my own review that I had hoped to add a schema-test.yaml file that you can use for testing purposes. Left uncommented so I wouldn't forget.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425474659", "createdAt": "2020-05-14T22:54:32Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/Dockerfile", "diffHunk": "@@ -0,0 +1,32 @@\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+## pull in chart\n+COPY chart /tmp/chart\n+\n+# get yq and merge values files\n+RUN apt-get update \\\n+    && apt-get install -y --no-install-recommends software-properties-common \\\n+    && add-apt-repository ppa:rmescandon/yq\n+RUN apt update && apt install -y --no-install-recommends yq\n+RUN yq m -x /tmp/chart/values.yaml /tmp/chart/values-marketplace.yaml > /tmp/chart/values-merged.yaml\n+\n+# helm template to render and verify templates\n+RUN helm template /tmp/chart -f /tmp/chart/values-merged.yaml\n+\n+# overwrite values file and archive\n+RUN mv /tmp/chart/values-merged.yaml /tmp/chart/values.yaml\n+RUN cd /tmp && tar -czvf /tmp/hedera-mirror-node.tar.gz chart/\n+\n+# Pull in and update schema for marketplace deployer\n+ARG tag\n+COPY schema.yaml /tmp/schema.yaml\n+RUN cat /tmp/schema.yaml \\\n+    | env -i \"TAG=$tag\" envsubst \\\n+    > /tmp/schema.yaml.new \\\n+    && mv /tmp/schema.yaml.new /tmp/schema.yaml\n+\n+# move chart and schema to expected /data folder structure\n+RUN mv /tmp/hedera-mirror-node.tar.gz /data/chart/\n+RUN mv /tmp/schema.yaml /data/schema.yaml\n+\n+#RUN cp /data/schema.yaml /data-test/schema.yaml", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMwMjgyMQ=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODQ3MTk2OnYy", "diffSide": "RIGHT", "path": "charts/hedera-mirror/values-marketplace.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzoyMzo1NFrOGVmsoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQyMzowMToyMlrOGVxCiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMwNzI5Ng==", "bodyText": "We don't need to override pullSecrets since [] is already default", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425307296", "createdAt": "2020-05-14T17:23:54Z", "author": {"login": "steven-sheehy"}, "path": "charts/hedera-mirror/values-marketplace.yaml", "diffHunk": "@@ -9,28 +30,66 @@ grpc:\n     create: false\n   serviceMonitor:\n     enabled: false\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node/grpc\n+    <<: *versiontag\n+  service:\n+    type: LoadBalancer\n+\n importer:\n   podMonitor:\n     enabled: false\n+  priorityClassName: \"\"\n   rbac:\n     enabled: false\n   replicas: 1\n   serviceAccount:\n     create: false\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node/importer\n+    <<: *versiontag\n+\n+labels: {}\n+\n loki:\n   enabled: false\n+\n+networkPolicy:\n+  enabled: false\n+\n postgresql:\n   metrics:\n     enabled: false\n   pgpool:\n+    priorityClassName: \"\"\n     replicaCount: 1\n+  postgresqlImage:\n+    registry: gcr.io\n+    repository: mirrornode/hedera-mirror-node/postgresql\n+    <<: *tracktag\n+    pullSecrets: []", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTQ3Njc0NA==", "bodyText": "Will remove. Was hitting issues on non defined pullSecrets previous to adding the merge logic, hence adding it.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425476744", "createdAt": "2020-05-14T23:01:22Z", "author": {"login": "Nana-EC"}, "path": "charts/hedera-mirror/values-marketplace.yaml", "diffHunk": "@@ -9,28 +30,66 @@ grpc:\n     create: false\n   serviceMonitor:\n     enabled: false\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node/grpc\n+    <<: *versiontag\n+  service:\n+    type: LoadBalancer\n+\n importer:\n   podMonitor:\n     enabled: false\n+  priorityClassName: \"\"\n   rbac:\n     enabled: false\n   replicas: 1\n   serviceAccount:\n     create: false\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node/importer\n+    <<: *versiontag\n+\n+labels: {}\n+\n loki:\n   enabled: false\n+\n+networkPolicy:\n+  enabled: false\n+\n postgresql:\n   metrics:\n     enabled: false\n   pgpool:\n+    priorityClassName: \"\"\n     replicaCount: 1\n+  postgresqlImage:\n+    registry: gcr.io\n+    repository: mirrornode/hedera-mirror-node/postgresql\n+    <<: *tracktag\n+    pullSecrets: []", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMwNzI5Ng=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 67}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODQ3NTIyOnYy", "diffSide": "RIGHT", "path": "charts/hedera-mirror/values-marketplace.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzoyNDo1MlrOGVmu0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQwNTo1NzowOVrOGV3duQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMwNzg1Ng==", "bodyText": "There is no metrics section in values.yaml. This can be removed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425307856", "createdAt": "2020-05-14T17:24:52Z", "author": {"login": "steven-sheehy"}, "path": "charts/hedera-mirror/values-marketplace.yaml", "diffHunk": "@@ -41,5 +100,21 @@ rest:\n     create: false\n   serviceMonitor:\n     enabled: false\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node/rest\n+    <<: *versiontag\n+  service:\n+    type: LoadBalancer\n+\n traefik:\n   enabled: false\n+  ports:\n+    web:\n+\n+metrics:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 108}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTU4MjAwOQ==", "bodyText": "Removed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425582009", "createdAt": "2020-05-15T05:57:09Z", "author": {"login": "Nana-EC"}, "path": "charts/hedera-mirror/values-marketplace.yaml", "diffHunk": "@@ -41,5 +100,21 @@ rest:\n     create: false\n   serviceMonitor:\n     enabled: false\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node/rest\n+    <<: *versiontag\n+  service:\n+    type: LoadBalancer\n+\n traefik:\n   enabled: false\n+  ports:\n+    web:\n+\n+metrics:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMwNzg1Ng=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 108}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODQ4MTkyOnYy", "diffSide": "RIGHT", "path": "charts/hedera-mirror/values-marketplace.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzoyNjozNlrOGVmzAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxNjowODoxMFrOGWLCPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMwODkyOQ==", "bodyText": "I don't think this section is necessary anymore now that you merge the yamls", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425308929", "createdAt": "2020-05-14T17:26:36Z", "author": {"login": "steven-sheehy"}, "path": "charts/hedera-mirror/values-marketplace.yaml", "diffHunk": "@@ -9,28 +30,66 @@ grpc:\n     create: false\n   serviceMonitor:\n     enabled: false\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node/grpc\n+    <<: *versiontag\n+  service:\n+    type: LoadBalancer\n+\n importer:\n   podMonitor:\n     enabled: false\n+  priorityClassName: \"\"\n   rbac:\n     enabled: false\n   replicas: 1\n   serviceAccount:\n     create: false\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node/importer\n+    <<: *versiontag\n+\n+labels: {}\n+\n loki:\n   enabled: false\n+\n+networkPolicy:\n+  enabled: false\n+\n postgresql:\n   metrics:\n     enabled: false\n   pgpool:\n+    priorityClassName: \"\"\n     replicaCount: 1\n+  postgresqlImage:\n+    registry: gcr.io\n+    repository: mirrornode/hedera-mirror-node/postgresql\n+    <<: *tracktag\n+    pullSecrets: []\n   postgresql:\n+    priorityClassName: \"\"\n     replicaCount: 1\n+  pgpoolImage:\n+    registry: gcr.io\n+    repository: mirrornode/hedera-mirror-node/pgpool\n+    <<: *tracktag\n+    pullSecrets: []\n+\n prometheus-adapter:\n   enabled: false\n+\n prometheus:\n   enabled: false\n+  grafana:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 82}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTkwMjY1Mw==", "bodyText": "Removed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425902653", "createdAt": "2020-05-15T16:08:10Z", "author": {"login": "Nana-EC"}, "path": "charts/hedera-mirror/values-marketplace.yaml", "diffHunk": "@@ -9,28 +30,66 @@ grpc:\n     create: false\n   serviceMonitor:\n     enabled: false\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node/grpc\n+    <<: *versiontag\n+  service:\n+    type: LoadBalancer\n+\n importer:\n   podMonitor:\n     enabled: false\n+  priorityClassName: \"\"\n   rbac:\n     enabled: false\n   replicas: 1\n   serviceAccount:\n     create: false\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node/importer\n+    <<: *versiontag\n+\n+labels: {}\n+\n loki:\n   enabled: false\n+\n+networkPolicy:\n+  enabled: false\n+\n postgresql:\n   metrics:\n     enabled: false\n   pgpool:\n+    priorityClassName: \"\"\n     replicaCount: 1\n+  postgresqlImage:\n+    registry: gcr.io\n+    repository: mirrornode/hedera-mirror-node/postgresql\n+    <<: *tracktag\n+    pullSecrets: []\n   postgresql:\n+    priorityClassName: \"\"\n     replicaCount: 1\n+  pgpoolImage:\n+    registry: gcr.io\n+    repository: mirrornode/hedera-mirror-node/pgpool\n+    <<: *tracktag\n+    pullSecrets: []\n+\n prometheus-adapter:\n   enabled: false\n+\n prometheus:\n   enabled: false\n+  grafana:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMwODkyOQ=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 82}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODQ5NTI2OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-gcp-marketplace/schema.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzoyOTo0MFrOGVm7DA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQwNTo1NzoyMFrOGV3d7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMxMDk4OA==", "bodyText": "This should be importer.image.repository. Same for next", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425310988", "createdAt": "2020-05-14T17:29:40Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-gcp-marketplace/schema.yaml", "diffHunk": "@@ -0,0 +1,80 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      A mirror-node update.\n+    # releaseTypes list is optional. Feature | BugFix | Security\n+    # \"Security\" should only be used if this is an important update to patch\n+    # an existing vulnerability, as such updates will display more prominently for users.\n+    releaseTypes:\n+      - Feature\n+    # If \"recommended\" is \"true\", users using older releases are encouraged\n+    # to update as soon as possible. This is useful if, for example, this release\n+    # fixes a critical issue.\n+    recommended: false\n+\n+  # images for subcharts. Primary image is importer\n+  images:\n+    '':\n+      properties:\n+        mirrornode.image.repository:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTU4MjA2Mg==", "bodyText": "Updated", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425582062", "createdAt": "2020-05-15T05:57:20Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-gcp-marketplace/schema.yaml", "diffHunk": "@@ -0,0 +1,80 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      A mirror-node update.\n+    # releaseTypes list is optional. Feature | BugFix | Security\n+    # \"Security\" should only be used if this is an important update to patch\n+    # an existing vulnerability, as such updates will display more prominently for users.\n+    releaseTypes:\n+      - Feature\n+    # If \"recommended\" is \"true\", users using older releases are encouraged\n+    # to update as soon as possible. This is useful if, for example, this release\n+    # fixes a critical issue.\n+    recommended: false\n+\n+  # images for subcharts. Primary image is importer\n+  images:\n+    '':\n+      properties:\n+        mirrornode.image.repository:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMxMDk4OA=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODQ5NjU2OnYy", "diffSide": "RIGHT", "path": "charts/hedera-mirror/values-marketplace.yaml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzoyOTo1OVrOGVm71w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNDozNToxOFrOGXjhJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMxMTE5MQ==", "bodyText": "This section can be removed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425311191", "createdAt": "2020-05-14T17:29:59Z", "author": {"login": "steven-sheehy"}, "path": "charts/hedera-mirror/values-marketplace.yaml", "diffHunk": "@@ -1,4 +1,25 @@\n+applicationResource:\n+  enabled: true\n+  partnerId: hederaPartnerId\n+  partnerName: partner_name\n+  projectId: hederaMirrorSolutionId\n+\n+track-tag: &tracktag\n+  tag: 0.11.0\n+\n+version-tag: &versiontag\n+  tag: 0.11.0-rc1\n+\n+mirrornode:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTU4MjE5MA==", "bodyText": "Removed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425582190", "createdAt": "2020-05-15T05:57:44Z", "author": {"login": "Nana-EC"}, "path": "charts/hedera-mirror/values-marketplace.yaml", "diffHunk": "@@ -1,4 +1,25 @@\n+applicationResource:\n+  enabled: true\n+  partnerId: hederaPartnerId\n+  partnerName: partner_name\n+  projectId: hederaMirrorSolutionId\n+\n+track-tag: &tracktag\n+  tag: 0.11.0\n+\n+version-tag: &versiontag\n+  tag: 0.11.0-rc1\n+\n+mirrornode:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMxMTE5MQ=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM1MjM1Ng==", "bodyText": "Not removed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427352356", "createdAt": "2020-05-19T14:35:18Z", "author": {"login": "steven-sheehy"}, "path": "charts/hedera-mirror/values-marketplace.yaml", "diffHunk": "@@ -1,4 +1,25 @@\n+applicationResource:\n+  enabled: true\n+  partnerId: hederaPartnerId\n+  partnerName: partner_name\n+  projectId: hederaMirrorSolutionId\n+\n+track-tag: &tracktag\n+  tag: 0.11.0\n+\n+version-tag: &versiontag\n+  tag: 0.11.0-rc1\n+\n+mirrornode:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMxMTE5MQ=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODUwNTMyOnYy", "diffSide": "RIGHT", "path": "charts/hedera-mirror/values-marketplace.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzozMjozNFrOGVnBtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQwNTo1Nzo1N1rOGV3eyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMxMjY5NQ==", "bodyText": "You shouldn't use track tags for image versions. Needs to be full version for all components.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425312695", "createdAt": "2020-05-14T17:32:34Z", "author": {"login": "steven-sheehy"}, "path": "charts/hedera-mirror/values-marketplace.yaml", "diffHunk": "@@ -1,4 +1,25 @@\n+applicationResource:\n+  enabled: true\n+  partnerId: hederaPartnerId\n+  partnerName: partner_name\n+  projectId: hederaMirrorSolutionId\n+\n+track-tag: &tracktag", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTU4MjI4Mg==", "bodyText": "Removed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425582282", "createdAt": "2020-05-15T05:57:57Z", "author": {"login": "Nana-EC"}, "path": "charts/hedera-mirror/values-marketplace.yaml", "diffHunk": "@@ -1,4 +1,25 @@\n+applicationResource:\n+  enabled: true\n+  partnerId: hederaPartnerId\n+  partnerName: partner_name\n+  projectId: hederaMirrorSolutionId\n+\n+track-tag: &tracktag", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMxMjY5NQ=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODUxMDQwOnYy", "diffSide": "RIGHT", "path": "charts/hedera-mirror/values-marketplace.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzozNDowMFrOGVnFFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQwNTo1ODowNlrOGV3e8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMxMzU1OA==", "bodyText": "Not necessary with other changes", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425313558", "createdAt": "2020-05-14T17:34:00Z", "author": {"login": "steven-sheehy"}, "path": "charts/hedera-mirror/values-marketplace.yaml", "diffHunk": "@@ -41,5 +100,21 @@ rest:\n     create: false\n   serviceMonitor:\n     enabled: false\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node/rest\n+    <<: *versiontag\n+  service:\n+    type: LoadBalancer\n+\n traefik:\n   enabled: false\n+  ports:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 105}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTU4MjMyMg==", "bodyText": "Removed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425582322", "createdAt": "2020-05-15T05:58:06Z", "author": {"login": "Nana-EC"}, "path": "charts/hedera-mirror/values-marketplace.yaml", "diffHunk": "@@ -41,5 +100,21 @@ rest:\n     create: false\n   serviceMonitor:\n     enabled: false\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node/rest\n+    <<: *versiontag\n+  service:\n+    type: LoadBalancer\n+\n traefik:\n   enabled: false\n+  ports:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMxMzU1OA=="}, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 105}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODU2MTQxOnYy", "diffSide": "RIGHT", "path": "charts/hedera-mirror/values-marketplace.yaml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzo0NzowNlrOGVnnqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzo0NzowNlrOGVnnqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMyMjQxMQ==", "bodyText": "These are already the default versions, not need to respecify them again in this file. Main thing is just that schema.yaml can override them, which you have. The only exception is postgresql as its version would differ from default", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r425322411", "createdAt": "2020-05-14T17:47:06Z", "author": {"login": "steven-sheehy"}, "path": "charts/hedera-mirror/values-marketplace.yaml", "diffHunk": "@@ -1,4 +1,25 @@\n+applicationResource:\n+  enabled: true\n+  partnerId: hederaPartnerId\n+  partnerName: partner_name\n+  projectId: hederaMirrorSolutionId\n+\n+track-tag: &tracktag\n+  tag: 0.11.0\n+\n+version-tag: &versiontag\n+  tag: 0.11.0-rc1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6189a45010b22513865d2f7aaf4ab6f30646311f"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1OTA3NzAyOnYy", "diffSide": "RIGHT", "path": "charts/marketplace/gcp/schema.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQyMzo1MTo0MFrOGXLItg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNjozMDozNFrOGXovOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk1Mjg4Ng==", "bodyText": "Misspelled here and other places", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r426952886", "createdAt": "2020-05-18T23:51:40Z", "author": {"login": "steven-sheehy"}, "path": "charts/marketplace/gcp/schema.yaml", "diffHunk": "@@ -0,0 +1,141 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      Initial release of the Hedera Mirror Node\n+    # releaseTypes list is optional. Feature | BugFix | Security\n+    # \"Security\" should only be used if this is an important update to patch\n+    # an existing vulnerability, as such updates will display more prominently for users.\n+    releaseTypes:\n+      - Feature\n+    # If \"recommended\" is \"true\", users using older releases are encouraged\n+    # to update as soon as possible. This is useful if, for example, this release\n+    # fixes a critical issue.\n+    recommended: false\n+\n+  # images for subcharts. Primary image is importer\n+  images:\n+    '':\n+      properties:\n+        mirrornode.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        mirrornode.image.tag:\n+          type: TAG\n+    grpc:\n+      properties:\n+        grpc.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        grpc.image.tag:\n+          type: TAG\n+    rest:\n+      properties:\n+        rest.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        rest.image.tag:\n+          type: TAG\n+    postgresql:\n+      properties:\n+        postgresql.postgresqlImage.registry:\n+          type: REGISTRY\n+        postgresql.postgresqlImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.postgresqlImage.tag:\n+          type: TAG\n+    pgpool:\n+      properties:\n+        postgresql.pgpoolImage.registry:\n+          type: REGISTRY\n+        postgresql.pgpoolImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.pgpoolImage.tag:\n+          type: TAG\n+\n+  # Other fields, like clusterConstraints, can be included here.\n+\n+  # The Properties and Required sections of v2 are structured the same as those of v1.\n+  # IMPORTANT: These IDs must match your listing ID in Marketplace.\n+  partnerId: hederaPartnerId\n+  solutionId: hederaMirrorSolutionId\n+\n+properties:\n+  name:\n+    type: string\n+    x-google-marketplace:\n+      type: NAME\n+  namespace:\n+    type: string\n+    x-google-marketplace:\n+      type: NAMESPACE\n+  deployer.image:\n+    type: string\n+    x-google-marketplace:\n+      type: DEPLOYER_IMAGE\n+  grpc.config.hedera.mirror.grpc.db.password:\n+    type: string\n+    default: ''\n+    description: The grpc user password\n+    title: grpc user password\n+    x-google-marketplace:\n+      type: MASKED_FIELD\n+  grpc.replicas:\n+    type: integer\n+    default: 1\n+    description: Number of grpc node replicas\n+    title: gRPC replicas\n+    minimun: 1\n+    maximum: 10\n+  importer.config.hedera.mirror.importer.db.password:\n+    type: string\n+    default: ''\n+    description: The importer user password\n+    title: importer user password\n+    x-google-marketplace:\n+      type: MASKED_FIELD\n+  importer.replicas:\n+    type: integer\n+    default: 1\n+    description: Number of importer node replicas\n+    title: importer replicas\n+    minimun: 1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f009612b2d0bda6ed7038abb74541f641f6cd620"}, "originalPosition": 104}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQzNzg4MQ==", "bodyText": "Fixed thanks", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427437881", "createdAt": "2020-05-19T16:30:34Z", "author": {"login": "Nana-EC"}, "path": "charts/marketplace/gcp/schema.yaml", "diffHunk": "@@ -0,0 +1,141 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      Initial release of the Hedera Mirror Node\n+    # releaseTypes list is optional. Feature | BugFix | Security\n+    # \"Security\" should only be used if this is an important update to patch\n+    # an existing vulnerability, as such updates will display more prominently for users.\n+    releaseTypes:\n+      - Feature\n+    # If \"recommended\" is \"true\", users using older releases are encouraged\n+    # to update as soon as possible. This is useful if, for example, this release\n+    # fixes a critical issue.\n+    recommended: false\n+\n+  # images for subcharts. Primary image is importer\n+  images:\n+    '':\n+      properties:\n+        mirrornode.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        mirrornode.image.tag:\n+          type: TAG\n+    grpc:\n+      properties:\n+        grpc.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        grpc.image.tag:\n+          type: TAG\n+    rest:\n+      properties:\n+        rest.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        rest.image.tag:\n+          type: TAG\n+    postgresql:\n+      properties:\n+        postgresql.postgresqlImage.registry:\n+          type: REGISTRY\n+        postgresql.postgresqlImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.postgresqlImage.tag:\n+          type: TAG\n+    pgpool:\n+      properties:\n+        postgresql.pgpoolImage.registry:\n+          type: REGISTRY\n+        postgresql.pgpoolImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.pgpoolImage.tag:\n+          type: TAG\n+\n+  # Other fields, like clusterConstraints, can be included here.\n+\n+  # The Properties and Required sections of v2 are structured the same as those of v1.\n+  # IMPORTANT: These IDs must match your listing ID in Marketplace.\n+  partnerId: hederaPartnerId\n+  solutionId: hederaMirrorSolutionId\n+\n+properties:\n+  name:\n+    type: string\n+    x-google-marketplace:\n+      type: NAME\n+  namespace:\n+    type: string\n+    x-google-marketplace:\n+      type: NAMESPACE\n+  deployer.image:\n+    type: string\n+    x-google-marketplace:\n+      type: DEPLOYER_IMAGE\n+  grpc.config.hedera.mirror.grpc.db.password:\n+    type: string\n+    default: ''\n+    description: The grpc user password\n+    title: grpc user password\n+    x-google-marketplace:\n+      type: MASKED_FIELD\n+  grpc.replicas:\n+    type: integer\n+    default: 1\n+    description: Number of grpc node replicas\n+    title: gRPC replicas\n+    minimun: 1\n+    maximum: 10\n+  importer.config.hedera.mirror.importer.db.password:\n+    type: string\n+    default: ''\n+    description: The importer user password\n+    title: importer user password\n+    x-google-marketplace:\n+      type: MASKED_FIELD\n+  importer.replicas:\n+    type: integer\n+    default: 1\n+    description: Number of importer node replicas\n+    title: importer replicas\n+    minimun: 1", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk1Mjg4Ng=="}, "originalCommit": {"oid": "f009612b2d0bda6ed7038abb74541f641f6cd620"}, "originalPosition": 104}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1OTA3ODM5OnYy", "diffSide": "RIGHT", "path": "charts/marketplace/gcp/schema.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQyMzo1MjoyN1rOGXLJmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNjozMDo0NFrOGXovnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk1MzExMg==", "bodyText": "We should probably allow 0 min for rest and grpc replicas", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r426953112", "createdAt": "2020-05-18T23:52:27Z", "author": {"login": "steven-sheehy"}, "path": "charts/marketplace/gcp/schema.yaml", "diffHunk": "@@ -0,0 +1,141 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      Initial release of the Hedera Mirror Node\n+    # releaseTypes list is optional. Feature | BugFix | Security\n+    # \"Security\" should only be used if this is an important update to patch\n+    # an existing vulnerability, as such updates will display more prominently for users.\n+    releaseTypes:\n+      - Feature\n+    # If \"recommended\" is \"true\", users using older releases are encouraged\n+    # to update as soon as possible. This is useful if, for example, this release\n+    # fixes a critical issue.\n+    recommended: false\n+\n+  # images for subcharts. Primary image is importer\n+  images:\n+    '':\n+      properties:\n+        mirrornode.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        mirrornode.image.tag:\n+          type: TAG\n+    grpc:\n+      properties:\n+        grpc.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        grpc.image.tag:\n+          type: TAG\n+    rest:\n+      properties:\n+        rest.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        rest.image.tag:\n+          type: TAG\n+    postgresql:\n+      properties:\n+        postgresql.postgresqlImage.registry:\n+          type: REGISTRY\n+        postgresql.postgresqlImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.postgresqlImage.tag:\n+          type: TAG\n+    pgpool:\n+      properties:\n+        postgresql.pgpoolImage.registry:\n+          type: REGISTRY\n+        postgresql.pgpoolImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.pgpoolImage.tag:\n+          type: TAG\n+\n+  # Other fields, like clusterConstraints, can be included here.\n+\n+  # The Properties and Required sections of v2 are structured the same as those of v1.\n+  # IMPORTANT: These IDs must match your listing ID in Marketplace.\n+  partnerId: hederaPartnerId\n+  solutionId: hederaMirrorSolutionId\n+\n+properties:\n+  name:\n+    type: string\n+    x-google-marketplace:\n+      type: NAME\n+  namespace:\n+    type: string\n+    x-google-marketplace:\n+      type: NAMESPACE\n+  deployer.image:\n+    type: string\n+    x-google-marketplace:\n+      type: DEPLOYER_IMAGE\n+  grpc.config.hedera.mirror.grpc.db.password:\n+    type: string\n+    default: ''\n+    description: The grpc user password\n+    title: grpc user password\n+    x-google-marketplace:\n+      type: MASKED_FIELD\n+  grpc.replicas:\n+    type: integer\n+    default: 1\n+    description: Number of grpc node replicas\n+    title: gRPC replicas\n+    minimun: 1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f009612b2d0bda6ed7038abb74541f641f6cd620"}, "originalPosition": 90}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQzNzk4MQ==", "bodyText": "Good point.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427437981", "createdAt": "2020-05-19T16:30:44Z", "author": {"login": "Nana-EC"}, "path": "charts/marketplace/gcp/schema.yaml", "diffHunk": "@@ -0,0 +1,141 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      Initial release of the Hedera Mirror Node\n+    # releaseTypes list is optional. Feature | BugFix | Security\n+    # \"Security\" should only be used if this is an important update to patch\n+    # an existing vulnerability, as such updates will display more prominently for users.\n+    releaseTypes:\n+      - Feature\n+    # If \"recommended\" is \"true\", users using older releases are encouraged\n+    # to update as soon as possible. This is useful if, for example, this release\n+    # fixes a critical issue.\n+    recommended: false\n+\n+  # images for subcharts. Primary image is importer\n+  images:\n+    '':\n+      properties:\n+        mirrornode.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        mirrornode.image.tag:\n+          type: TAG\n+    grpc:\n+      properties:\n+        grpc.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        grpc.image.tag:\n+          type: TAG\n+    rest:\n+      properties:\n+        rest.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        rest.image.tag:\n+          type: TAG\n+    postgresql:\n+      properties:\n+        postgresql.postgresqlImage.registry:\n+          type: REGISTRY\n+        postgresql.postgresqlImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.postgresqlImage.tag:\n+          type: TAG\n+    pgpool:\n+      properties:\n+        postgresql.pgpoolImage.registry:\n+          type: REGISTRY\n+        postgresql.pgpoolImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.pgpoolImage.tag:\n+          type: TAG\n+\n+  # Other fields, like clusterConstraints, can be included here.\n+\n+  # The Properties and Required sections of v2 are structured the same as those of v1.\n+  # IMPORTANT: These IDs must match your listing ID in Marketplace.\n+  partnerId: hederaPartnerId\n+  solutionId: hederaMirrorSolutionId\n+\n+properties:\n+  name:\n+    type: string\n+    x-google-marketplace:\n+      type: NAME\n+  namespace:\n+    type: string\n+    x-google-marketplace:\n+      type: NAMESPACE\n+  deployer.image:\n+    type: string\n+    x-google-marketplace:\n+      type: DEPLOYER_IMAGE\n+  grpc.config.hedera.mirror.grpc.db.password:\n+    type: string\n+    default: ''\n+    description: The grpc user password\n+    title: grpc user password\n+    x-google-marketplace:\n+      type: MASKED_FIELD\n+  grpc.replicas:\n+    type: integer\n+    default: 1\n+    description: Number of grpc node replicas\n+    title: gRPC replicas\n+    minimun: 1", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk1MzExMg=="}, "originalCommit": {"oid": "f009612b2d0bda6ed7038abb74541f641f6cd620"}, "originalPosition": 90}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MTUzMjQ3OnYy", "diffSide": "RIGHT", "path": ".gitignore", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNDoyNjoyN1rOGXjFHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNjozMToxNFrOGXow5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM0NTE4Mw==", "bodyText": "Can be removed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427345183", "createdAt": "2020-05-19T14:26:27Z", "author": {"login": "steven-sheehy"}, "path": ".gitignore", "diffHunk": "@@ -39,6 +39,7 @@ hedera-mirror-*/application.yml\n /db/\n *.log\n !/charts/**/*.tgz\n+hedera-mirror-gcp-marketplace/chart/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQzODMwOA==", "bodyText": "Removed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427438308", "createdAt": "2020-05-19T16:31:14Z", "author": {"login": "Nana-EC"}, "path": ".gitignore", "diffHunk": "@@ -39,6 +39,7 @@ hedera-mirror-*/application.yml\n /db/\n *.log\n !/charts/**/*.tgz\n+hedera-mirror-gcp-marketplace/chart/", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM0NTE4Mw=="}, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MTUzNTQ5OnYy", "diffSide": "RIGHT", "path": "charts/hedera-mirror/templates/NOTES.txt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNDoyNzowNlrOGXjG_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNjozMTo0NVrOGXoyIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM0NTY2Mw==", "bodyText": "nit: Can remove and", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427345663", "createdAt": "2020-05-19T14:27:06Z", "author": {"login": "steven-sheehy"}, "path": "charts/hedera-mirror/templates/NOTES.txt", "diffHunk": "@@ -1,5 +1,6 @@\n Hedera Mirror Node {{ .Chart.AppVersion }} successfully installed.\n \n+{{ if and .Values.traefik.enabled -}}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQzODYyNg==", "bodyText": "Removed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427438626", "createdAt": "2020-05-19T16:31:45Z", "author": {"login": "Nana-EC"}, "path": "charts/hedera-mirror/templates/NOTES.txt", "diffHunk": "@@ -1,5 +1,6 @@\n Hedera Mirror Node {{ .Chart.AppVersion }} successfully installed.\n \n+{{ if and .Values.traefik.enabled -}}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM0NTY2Mw=="}, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MTYyNTk2OnYy", "diffSide": "RIGHT", "path": "charts/hedera-mirror/values-marketplace.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNDo0NDo1NFrOGXkAaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxOToxODoxNFrOGXvEtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM2MDM2Mw==", "bodyText": "It doesn't make sense to have the deployer image in the values file as it is the deployer image itself that's running and inspecting the schema.yaml and values yaml. Also, I don't think it needs to be in the schema.yaml either for the same reason and because users don't need to edit it. I see it in some of the click-to-deploy apps but not in others like nginx.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427360363", "createdAt": "2020-05-19T14:44:54Z", "author": {"login": "steven-sheehy"}, "path": "charts/hedera-mirror/values-marketplace.yaml", "diffHunk": "@@ -1,36 +1,76 @@\n+applicationResource:\n+  enabled: true\n+  partnerId: hederaPartnerId\n+  partnerName: partner_name\n+  projectId: hederaMirrorSolutionId\n+\n+mirrornode:\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node\n+\n+deployer:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU0MTY4Ng==", "bodyText": "Yeah as you saw some projects had it and others didn't. Did remove it though", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427541686", "createdAt": "2020-05-19T19:18:14Z", "author": {"login": "Nana-EC"}, "path": "charts/hedera-mirror/values-marketplace.yaml", "diffHunk": "@@ -1,36 +1,76 @@\n+applicationResource:\n+  enabled: true\n+  partnerId: hederaPartnerId\n+  partnerName: partner_name\n+  projectId: hederaMirrorSolutionId\n+\n+mirrornode:\n+  image:\n+    repository: gcr.io/mirrornode/hedera-mirror-node\n+\n+deployer:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM2MDM2Mw=="}, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MTY0Mjk4OnYy", "diffSide": "RIGHT", "path": "charts/marketplace/gcp/Dockerfile", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNDo0ODo0NlrOGXkLyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNjo1NzowOFrOGXpzug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM2MzI3NA==", "bodyText": "To reduce the number of base images to download, can you just use gcr.io/cloud-marketplace-tools/k8s/deployer_helm here as well?", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427363274", "createdAt": "2020-05-19T14:48:46Z", "author": {"login": "steven-sheehy"}, "path": "charts/marketplace/gcp/Dockerfile", "diffHunk": "@@ -0,0 +1,33 @@\n+FROM ubuntu:19.10 AS build", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ1NTQxOA==", "bodyText": "Will try this. Seeing issues pulling in yq as a result but will look into.\nMight have to get it via wget if it persists", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427455418", "createdAt": "2020-05-19T16:57:08Z", "author": {"login": "Nana-EC"}, "path": "charts/marketplace/gcp/Dockerfile", "diffHunk": "@@ -0,0 +1,33 @@\n+FROM ubuntu:19.10 AS build", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM2MzI3NA=="}, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MTY1NzQzOnYy", "diffSide": "RIGHT", "path": "charts/marketplace/gcp/Dockerfile", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNDo1MTo0MFrOGXkU_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxOToxOTowM1rOGXvGcw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM2NTYyOQ==", "bodyText": "These two commands should be in build stage. You should also only copy the tgz and schema.yaml from build container instead of a directory. Can remove rm -r chart", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427365629", "createdAt": "2020-05-19T14:51:40Z", "author": {"login": "steven-sheehy"}, "path": "charts/marketplace/gcp/Dockerfile", "diffHunk": "@@ -0,0 +1,33 @@\n+FROM ubuntu:19.10 AS build\n+\n+## pull in chart\n+COPY hedera-mirror /tmp/chart\n+\n+# get yq and merge values files\n+RUN apt-get update \\\n+    && apt-get install -y software-properties-common \\\n+    && add-apt-repository ppa:rmescandon/yq \\\n+    && apt-get install -y --no-install-recommends yq gettext-base\n+\n+RUN yq m -i --overwrite /tmp/chart/values.yaml /tmp/chart/values-marketplace.yaml\n+\n+# Pull in and update schema for marketplace deployer\n+ARG tag\n+COPY marketplace/gcp/schema.yaml /tmp/schema.yaml\n+RUN cat /tmp/schema.yaml \\\n+    | env -i \"TAG=$tag\" envsubst \\\n+    > /tmp/schema.yaml.new \\\n+    && mv /tmp/schema.yaml.new /tmp/schema.yaml\n+\n+# Setup marketplace structure on helm deployer image base\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm\n+COPY --from=build /tmp/ .\n+\n+# helm template to render and verify templates\n+RUN helm template chart -f chart/values.yaml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ1NDc1NQ==", "bodyText": "Yeah moved them here cause I didn't want to have to install helm on the build image but that was probably the better approach.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427454755", "createdAt": "2020-05-19T16:56:11Z", "author": {"login": "Nana-EC"}, "path": "charts/marketplace/gcp/Dockerfile", "diffHunk": "@@ -0,0 +1,33 @@\n+FROM ubuntu:19.10 AS build\n+\n+## pull in chart\n+COPY hedera-mirror /tmp/chart\n+\n+# get yq and merge values files\n+RUN apt-get update \\\n+    && apt-get install -y software-properties-common \\\n+    && add-apt-repository ppa:rmescandon/yq \\\n+    && apt-get install -y --no-install-recommends yq gettext-base\n+\n+RUN yq m -i --overwrite /tmp/chart/values.yaml /tmp/chart/values-marketplace.yaml\n+\n+# Pull in and update schema for marketplace deployer\n+ARG tag\n+COPY marketplace/gcp/schema.yaml /tmp/schema.yaml\n+RUN cat /tmp/schema.yaml \\\n+    | env -i \"TAG=$tag\" envsubst \\\n+    > /tmp/schema.yaml.new \\\n+    && mv /tmp/schema.yaml.new /tmp/schema.yaml\n+\n+# Setup marketplace structure on helm deployer image base\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm\n+COPY --from=build /tmp/ .\n+\n+# helm template to render and verify templates\n+RUN helm template chart -f chart/values.yaml", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM2NTYyOQ=="}, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU0MjEzMQ==", "bodyText": "Moved into build container", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427542131", "createdAt": "2020-05-19T19:19:03Z", "author": {"login": "Nana-EC"}, "path": "charts/marketplace/gcp/Dockerfile", "diffHunk": "@@ -0,0 +1,33 @@\n+FROM ubuntu:19.10 AS build\n+\n+## pull in chart\n+COPY hedera-mirror /tmp/chart\n+\n+# get yq and merge values files\n+RUN apt-get update \\\n+    && apt-get install -y software-properties-common \\\n+    && add-apt-repository ppa:rmescandon/yq \\\n+    && apt-get install -y --no-install-recommends yq gettext-base\n+\n+RUN yq m -i --overwrite /tmp/chart/values.yaml /tmp/chart/values-marketplace.yaml\n+\n+# Pull in and update schema for marketplace deployer\n+ARG tag\n+COPY marketplace/gcp/schema.yaml /tmp/schema.yaml\n+RUN cat /tmp/schema.yaml \\\n+    | env -i \"TAG=$tag\" envsubst \\\n+    > /tmp/schema.yaml.new \\\n+    && mv /tmp/schema.yaml.new /tmp/schema.yaml\n+\n+# Setup marketplace structure on helm deployer image base\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm\n+COPY --from=build /tmp/ .\n+\n+# helm template to render and verify templates\n+RUN helm template chart -f chart/values.yaml", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM2NTYyOQ=="}, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MTY3NjcyOnYy", "diffSide": "RIGHT", "path": "charts/marketplace/gcp/schema.yaml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNDo1NTo0NVrOGXkhww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQyMDoyNzowN1rOGXxWvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM2ODg5OQ==", "bodyText": "Mentioned before, but this has to be importer.image.* to override the values.yaml", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427368899", "createdAt": "2020-05-19T14:55:45Z", "author": {"login": "steven-sheehy"}, "path": "charts/marketplace/gcp/schema.yaml", "diffHunk": "@@ -0,0 +1,148 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      Initial release of the Hedera Mirror Node\n+    # releaseTypes list is optional. Feature | BugFix | Security\n+    # \"Security\" should only be used if this is an important update to patch\n+    # an existing vulnerability, as such updates will display more prominently for users.\n+    releaseTypes:\n+      - Feature\n+    # If \"recommended\" is \"true\", users using older releases are encouraged\n+    # to update as soon as possible. This is useful if, for example, this release\n+    # fixes a critical issue.\n+    recommended: false\n+\n+  # images for subcharts. Primary image is importer\n+  images:\n+    '':\n+      properties:\n+        mirrornode.image.repository:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ3MTk4OQ==", "bodyText": "Yeah, did change it and encountered an image pull issue on the pod. Left it as such to get through the other stuff. Was coming back to this.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427471989", "createdAt": "2020-05-19T17:24:01Z", "author": {"login": "Nana-EC"}, "path": "charts/marketplace/gcp/schema.yaml", "diffHunk": "@@ -0,0 +1,148 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      Initial release of the Hedera Mirror Node\n+    # releaseTypes list is optional. Feature | BugFix | Security\n+    # \"Security\" should only be used if this is an important update to patch\n+    # an existing vulnerability, as such updates will display more prominently for users.\n+    releaseTypes:\n+      - Feature\n+    # If \"recommended\" is \"true\", users using older releases are encouraged\n+    # to update as soon as possible. This is useful if, for example, this release\n+    # fixes a critical issue.\n+    recommended: false\n+\n+  # images for subcharts. Primary image is importer\n+  images:\n+    '':\n+      properties:\n+        mirrornode.image.repository:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM2ODg5OQ=="}, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU3OTA2OQ==", "bodyText": "Fixed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427579069", "createdAt": "2020-05-19T20:27:07Z", "author": {"login": "Nana-EC"}, "path": "charts/marketplace/gcp/schema.yaml", "diffHunk": "@@ -0,0 +1,148 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      Initial release of the Hedera Mirror Node\n+    # releaseTypes list is optional. Feature | BugFix | Security\n+    # \"Security\" should only be used if this is an important update to patch\n+    # an existing vulnerability, as such updates will display more prominently for users.\n+    releaseTypes:\n+      - Feature\n+    # If \"recommended\" is \"true\", users using older releases are encouraged\n+    # to update as soon as possible. This is useful if, for example, this release\n+    # fixes a critical issue.\n+    recommended: false\n+\n+  # images for subcharts. Primary image is importer\n+  images:\n+    '':\n+      properties:\n+        mirrornode.image.repository:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM2ODg5OQ=="}, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MTY3OTk0OnYy", "diffSide": "RIGHT", "path": "charts/marketplace/gcp/schema.yaml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNDo1NjoyNVrOGXkj7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNzozMDowMFrOGXrD3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM2OTQ1Mg==", "bodyText": "nit: Can remove comments", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427369452", "createdAt": "2020-05-19T14:56:25Z", "author": {"login": "steven-sheehy"}, "path": "charts/marketplace/gcp/schema.yaml", "diffHunk": "@@ -0,0 +1,148 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      Initial release of the Hedera Mirror Node\n+    # releaseTypes list is optional. Feature | BugFix | Security\n+    # \"Security\" should only be used if this is an important update to patch\n+    # an existing vulnerability, as such updates will display more prominently for users.\n+    releaseTypes:\n+      - Feature\n+    # If \"recommended\" is \"true\", users using older releases are encouraged\n+    # to update as soon as possible. This is useful if, for example, this release\n+    # fixes a critical issue.\n+    recommended: false\n+\n+  # images for subcharts. Primary image is importer\n+  images:\n+    '':\n+      properties:\n+        mirrornode.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        mirrornode.image.tag:\n+          type: TAG\n+    grpc:\n+      properties:\n+        grpc.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        grpc.image.tag:\n+          type: TAG\n+    rest:\n+      properties:\n+        rest.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        rest.image.tag:\n+          type: TAG\n+    postgresql:\n+      properties:\n+        postgresql.postgresqlImage.registry:\n+          type: REGISTRY\n+        postgresql.postgresqlImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.postgresqlImage.tag:\n+          type: TAG\n+    pgpool:\n+      properties:\n+        postgresql.pgpoolImage.registry:\n+          type: REGISTRY\n+        postgresql.pgpoolImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.pgpoolImage.tag:\n+          type: TAG\n+\n+  # Other fields, like clusterConstraints, can be included here.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ3NTkzMw==", "bodyText": "Removing unnecessary ones. Some comments contain good info to leave in there for reference", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427475933", "createdAt": "2020-05-19T17:30:00Z", "author": {"login": "Nana-EC"}, "path": "charts/marketplace/gcp/schema.yaml", "diffHunk": "@@ -0,0 +1,148 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      Initial release of the Hedera Mirror Node\n+    # releaseTypes list is optional. Feature | BugFix | Security\n+    # \"Security\" should only be used if this is an important update to patch\n+    # an existing vulnerability, as such updates will display more prominently for users.\n+    releaseTypes:\n+      - Feature\n+    # If \"recommended\" is \"true\", users using older releases are encouraged\n+    # to update as soon as possible. This is useful if, for example, this release\n+    # fixes a critical issue.\n+    recommended: false\n+\n+  # images for subcharts. Primary image is importer\n+  images:\n+    '':\n+      properties:\n+        mirrornode.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        mirrornode.image.tag:\n+          type: TAG\n+    grpc:\n+      properties:\n+        grpc.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        grpc.image.tag:\n+          type: TAG\n+    rest:\n+      properties:\n+        rest.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        rest.image.tag:\n+          type: TAG\n+    postgresql:\n+      properties:\n+        postgresql.postgresqlImage.registry:\n+          type: REGISTRY\n+        postgresql.postgresqlImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.postgresqlImage.tag:\n+          type: TAG\n+    pgpool:\n+      properties:\n+        postgresql.pgpoolImage.registry:\n+          type: REGISTRY\n+        postgresql.pgpoolImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.pgpoolImage.tag:\n+          type: TAG\n+\n+  # Other fields, like clusterConstraints, can be included here.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM2OTQ1Mg=="}, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 58}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MTY5MTg5OnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNDo1ODo1M1rOGXkryQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNzozMTowMlrOGXrGtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM3MTQ2NQ==", "bodyText": "Use docker-maven-plugin.version", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427371465", "createdAt": "2020-05-19T14:58:53Z", "author": {"login": "steven-sheehy"}, "path": "pom.xml", "diffHunk": "@@ -282,6 +277,44 @@\n                         </execution>\n                     </executions>\n                 </plugin>\n+                <plugin>\n+                    <groupId>io.fabric8</groupId>\n+                    <artifactId>docker-maven-plugin</artifactId>\n+                    <version>0.33.0</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ3NjY2MQ==", "bodyText": "Will updated", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427476661", "createdAt": "2020-05-19T17:31:02Z", "author": {"login": "Nana-EC"}, "path": "pom.xml", "diffHunk": "@@ -282,6 +277,44 @@\n                         </execution>\n                     </executions>\n                 </plugin>\n+                <plugin>\n+                    <groupId>io.fabric8</groupId>\n+                    <artifactId>docker-maven-plugin</artifactId>\n+                    <version>0.33.0</version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM3MTQ2NQ=="}, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MTcwNDM4OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-rest/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNTowMTozM1rOGXkzvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNzozMjo0OVrOGXrLTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM3MzUwMw==", "bodyText": "Can remove version if in parent pluginManagement", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427373503", "createdAt": "2020-05-19T15:01:33Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-rest/pom.xml", "diffHunk": "@@ -20,34 +20,6 @@\n                 <groupId>io.fabric8</groupId>\n                 <artifactId>docker-maven-plugin</artifactId>\n                 <version>${docker-maven-plugin.version}</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ3NzgzNg==", "bodyText": "Will remove", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427477836", "createdAt": "2020-05-19T17:32:49Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-rest/pom.xml", "diffHunk": "@@ -20,34 +20,6 @@\n                 <groupId>io.fabric8</groupId>\n                 <artifactId>docker-maven-plugin</artifactId>\n                 <version>${docker-maven-plugin.version}</version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM3MzUwMw=="}, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MTc4NTcwOnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNToxOToxMVrOGXloBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNzozMjo1OFrOGXrLrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM4Njg4NA==", "bodyText": "We do want to cache.  We build locally and don't want to have to re-download node_modules all the time.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427386884", "createdAt": "2020-05-19T15:19:11Z", "author": {"login": "steven-sheehy"}, "path": "pom.xml", "diffHunk": "@@ -282,6 +277,44 @@\n                         </execution>\n                     </executions>\n                 </plugin>\n+                <plugin>\n+                    <groupId>io.fabric8</groupId>\n+                    <artifactId>docker-maven-plugin</artifactId>\n+                    <version>0.33.0</version>\n+                    <executions>\n+                        <execution>\n+                            <id>dockerBuild</id>\n+                            <goals>\n+                                <goal>build</goal>\n+                            </goals>\n+                        </execution>\n+                        <execution>\n+                            <id>dockerPush</id>\n+                            <goals>\n+                                <goal>push</goal>\n+                            </goals>\n+                        </execution>\n+                    </executions>\n+                    <configuration>\n+                        <images>\n+                            <image>\n+                                <external>\n+                                    <type>properties</type>\n+                                    <prefix>docker</prefix>\n+                                    <mode>override</mode>\n+                                </external>\n+                                <build>\n+                                    <contextDir>${project.basedir}</contextDir>\n+                                    <assembly>\n+                                        <exportTargetDir>false</exportTargetDir>\n+                                    </assembly>\n+                                    <noCache>true</noCache>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ3NzkzMw==", "bodyText": "Gotcha, will revert", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427477933", "createdAt": "2020-05-19T17:32:58Z", "author": {"login": "Nana-EC"}, "path": "pom.xml", "diffHunk": "@@ -282,6 +277,44 @@\n                         </execution>\n                     </executions>\n                 </plugin>\n+                <plugin>\n+                    <groupId>io.fabric8</groupId>\n+                    <artifactId>docker-maven-plugin</artifactId>\n+                    <version>0.33.0</version>\n+                    <executions>\n+                        <execution>\n+                            <id>dockerBuild</id>\n+                            <goals>\n+                                <goal>build</goal>\n+                            </goals>\n+                        </execution>\n+                        <execution>\n+                            <id>dockerPush</id>\n+                            <goals>\n+                                <goal>push</goal>\n+                            </goals>\n+                        </execution>\n+                    </executions>\n+                    <configuration>\n+                        <images>\n+                            <image>\n+                                <external>\n+                                    <type>properties</type>\n+                                    <prefix>docker</prefix>\n+                                    <mode>override</mode>\n+                                </external>\n+                                <build>\n+                                    <contextDir>${project.basedir}</contextDir>\n+                                    <assembly>\n+                                        <exportTargetDir>false</exportTargetDir>\n+                                    </assembly>\n+                                    <noCache>true</noCache>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM4Njg4NA=="}, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 56}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MTc4OTI4OnYy", "diffSide": "RIGHT", "path": ".circleci/config.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNToxOTo1NFrOGXlqTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNzozNDozNFrOGXrP0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM4NzQ2OQ==", "bodyText": "docker.tag.latest was removed in pom. This needs to be adjusted somehow", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427387469", "createdAt": "2020-05-19T15:19:54Z", "author": {"login": "steven-sheehy"}, "path": ".circleci/config.yml", "diffHunk": "@@ -376,6 +376,13 @@ jobs:\n             if [ \"$CIRCLE_BRANCH\" = \"master\" ]; then\n                 DOCKER_TAG_OVERRIDE=\"-Ddocker.tag.version=${CIRCLE_BRANCH}-${CIRCLE_SHA1} -Ddocker.tag.latest=master\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 78}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzQ3ODk5Mg==", "bodyText": "Changing to -Ddocker.tags.0=master -Djib.to.tags=master\"", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427478992", "createdAt": "2020-05-19T17:34:34Z", "author": {"login": "Nana-EC"}, "path": ".circleci/config.yml", "diffHunk": "@@ -376,6 +376,13 @@ jobs:\n             if [ \"$CIRCLE_BRANCH\" = \"master\" ]; then\n                 DOCKER_TAG_OVERRIDE=\"-Ddocker.tag.version=${CIRCLE_BRANCH}-${CIRCLE_SHA1} -Ddocker.tag.latest=master\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM4NzQ2OQ=="}, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 78}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MTg1MTg5OnYy", "diffSide": "RIGHT", "path": "charts/marketplace/gcp/schema.yaml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxNTozMzoyOFrOGXmSVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQxOTozMDo1M1rOGXvgog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM5NzcxOA==", "bodyText": "Unfortunately, we also have to set importer.config.hedera.mirror.importer.db.restPassword. Is there a way to set multiple values from the same user input?", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427397718", "createdAt": "2020-05-19T15:33:28Z", "author": {"login": "steven-sheehy"}, "path": "charts/marketplace/gcp/schema.yaml", "diffHunk": "@@ -0,0 +1,148 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      Initial release of the Hedera Mirror Node\n+    # releaseTypes list is optional. Feature | BugFix | Security\n+    # \"Security\" should only be used if this is an important update to patch\n+    # an existing vulnerability, as such updates will display more prominently for users.\n+    releaseTypes:\n+      - Feature\n+    # If \"recommended\" is \"true\", users using older releases are encouraged\n+    # to update as soon as possible. This is useful if, for example, this release\n+    # fixes a critical issue.\n+    recommended: false\n+\n+  # images for subcharts. Primary image is importer\n+  images:\n+    '':\n+      properties:\n+        mirrornode.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        mirrornode.image.tag:\n+          type: TAG\n+    grpc:\n+      properties:\n+        grpc.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        grpc.image.tag:\n+          type: TAG\n+    rest:\n+      properties:\n+        rest.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        rest.image.tag:\n+          type: TAG\n+    postgresql:\n+      properties:\n+        postgresql.postgresqlImage.registry:\n+          type: REGISTRY\n+        postgresql.postgresqlImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.postgresqlImage.tag:\n+          type: TAG\n+    pgpool:\n+      properties:\n+        postgresql.pgpoolImage.registry:\n+          type: REGISTRY\n+        postgresql.pgpoolImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.pgpoolImage.tag:\n+          type: TAG\n+\n+  # Other fields, like clusterConstraints, can be included here.\n+\n+  # The Properties and Required sections of v2 are structured the same as those of v1.\n+  # IMPORTANT: These IDs must match your listing ID in Marketplace.\n+  partnerId: hederaPartnerId\n+  solutionId: hederaMirrorSolutionId\n+\n+properties:\n+  name:\n+    type: string\n+    x-google-marketplace:\n+      type: NAME\n+  namespace:\n+    type: string\n+    x-google-marketplace:\n+      type: NAMESPACE\n+  deployer.image:\n+    type: string\n+    x-google-marketplace:\n+      type: DEPLOYER_IMAGE\n+  grpc.config.hedera.mirror.grpc.db.password:\n+    type: string\n+    default: ''\n+    description: The grpc user password\n+    title: grpc user password\n+    x-google-marketplace:\n+      type: MASKED_FIELD\n+  grpc.replicas:\n+    type: integer\n+    default: 1\n+    description: Number of grpc node replicas\n+    title: gRPC replicas\n+    minimun: 1\n+    maximum: 10\n+  importer.config.hedera.mirror.importer.db.password:\n+    type: string\n+    default: ''\n+    description: The importer user password\n+    title: importer user password\n+    x-google-marketplace:\n+      type: MASKED_FIELD\n+  importer.replicas:\n+    type: integer\n+    default: 1\n+    description: Number of importer node replicas\n+    title: importer replicas\n+    minimun: 1\n+    maximum: 10\n+  postgresql.pgpool.replicaCount:\n+    type: integer\n+    default: 1\n+    description: Number of pgpool node replicas\n+    title: pgpool replicas\n+    minimun: 1\n+    maximum: 10\n+  postgresql.postgresql.replicaCount:\n+    type: integer\n+    default: 1\n+    description: Number of postgres node replicas\n+    title: pgpool replicas\n+    minimun: 1\n+    maximum: 10\n+  postgresql.postgresql.repmgrPassword:\n+    type: string\n+    default: ''\n+    description: The repmgr user password\n+    title: repmgr user password\n+    x-google-marketplace:\n+      type: MASKED_FIELD\n+  rest.config.hedera.mirror.rest.db.password:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 127}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzUyMTgwMA==", "bodyText": "Will set and look into if multiple values is possible", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427521800", "createdAt": "2020-05-19T18:44:05Z", "author": {"login": "Nana-EC"}, "path": "charts/marketplace/gcp/schema.yaml", "diffHunk": "@@ -0,0 +1,148 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      Initial release of the Hedera Mirror Node\n+    # releaseTypes list is optional. Feature | BugFix | Security\n+    # \"Security\" should only be used if this is an important update to patch\n+    # an existing vulnerability, as such updates will display more prominently for users.\n+    releaseTypes:\n+      - Feature\n+    # If \"recommended\" is \"true\", users using older releases are encouraged\n+    # to update as soon as possible. This is useful if, for example, this release\n+    # fixes a critical issue.\n+    recommended: false\n+\n+  # images for subcharts. Primary image is importer\n+  images:\n+    '':\n+      properties:\n+        mirrornode.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        mirrornode.image.tag:\n+          type: TAG\n+    grpc:\n+      properties:\n+        grpc.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        grpc.image.tag:\n+          type: TAG\n+    rest:\n+      properties:\n+        rest.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        rest.image.tag:\n+          type: TAG\n+    postgresql:\n+      properties:\n+        postgresql.postgresqlImage.registry:\n+          type: REGISTRY\n+        postgresql.postgresqlImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.postgresqlImage.tag:\n+          type: TAG\n+    pgpool:\n+      properties:\n+        postgresql.pgpoolImage.registry:\n+          type: REGISTRY\n+        postgresql.pgpoolImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.pgpoolImage.tag:\n+          type: TAG\n+\n+  # Other fields, like clusterConstraints, can be included here.\n+\n+  # The Properties and Required sections of v2 are structured the same as those of v1.\n+  # IMPORTANT: These IDs must match your listing ID in Marketplace.\n+  partnerId: hederaPartnerId\n+  solutionId: hederaMirrorSolutionId\n+\n+properties:\n+  name:\n+    type: string\n+    x-google-marketplace:\n+      type: NAME\n+  namespace:\n+    type: string\n+    x-google-marketplace:\n+      type: NAMESPACE\n+  deployer.image:\n+    type: string\n+    x-google-marketplace:\n+      type: DEPLOYER_IMAGE\n+  grpc.config.hedera.mirror.grpc.db.password:\n+    type: string\n+    default: ''\n+    description: The grpc user password\n+    title: grpc user password\n+    x-google-marketplace:\n+      type: MASKED_FIELD\n+  grpc.replicas:\n+    type: integer\n+    default: 1\n+    description: Number of grpc node replicas\n+    title: gRPC replicas\n+    minimun: 1\n+    maximum: 10\n+  importer.config.hedera.mirror.importer.db.password:\n+    type: string\n+    default: ''\n+    description: The importer user password\n+    title: importer user password\n+    x-google-marketplace:\n+      type: MASKED_FIELD\n+  importer.replicas:\n+    type: integer\n+    default: 1\n+    description: Number of importer node replicas\n+    title: importer replicas\n+    minimun: 1\n+    maximum: 10\n+  postgresql.pgpool.replicaCount:\n+    type: integer\n+    default: 1\n+    description: Number of pgpool node replicas\n+    title: pgpool replicas\n+    minimun: 1\n+    maximum: 10\n+  postgresql.postgresql.replicaCount:\n+    type: integer\n+    default: 1\n+    description: Number of postgres node replicas\n+    title: pgpool replicas\n+    minimun: 1\n+    maximum: 10\n+  postgresql.postgresql.repmgrPassword:\n+    type: string\n+    default: ''\n+    description: The repmgr user password\n+    title: repmgr user password\n+    x-google-marketplace:\n+      type: MASKED_FIELD\n+  rest.config.hedera.mirror.rest.db.password:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM5NzcxOA=="}, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 127}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU0ODgzNA==", "bodyText": "My understandings each of these shows up as a field in marketplace for customization.\nSo I don't think the intent is to have them ever combined in the same input\nI'm sure these guys would have loved to have grouped some properties\nhttps://github.com/GoogleCloudPlatform/click-to-deploy/blob/master/k8s/wordpress/schema.yaml\nhttps://github.com/Dynatrace/helm-charts/blob/master/dynatrace-oneagent-operator-google-marketplace/schema.yaml\nCan always come back and simplify it later if I find a way", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427548834", "createdAt": "2020-05-19T19:30:53Z", "author": {"login": "Nana-EC"}, "path": "charts/marketplace/gcp/schema.yaml", "diffHunk": "@@ -0,0 +1,148 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      Initial release of the Hedera Mirror Node\n+    # releaseTypes list is optional. Feature | BugFix | Security\n+    # \"Security\" should only be used if this is an important update to patch\n+    # an existing vulnerability, as such updates will display more prominently for users.\n+    releaseTypes:\n+      - Feature\n+    # If \"recommended\" is \"true\", users using older releases are encouraged\n+    # to update as soon as possible. This is useful if, for example, this release\n+    # fixes a critical issue.\n+    recommended: false\n+\n+  # images for subcharts. Primary image is importer\n+  images:\n+    '':\n+      properties:\n+        mirrornode.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        mirrornode.image.tag:\n+          type: TAG\n+    grpc:\n+      properties:\n+        grpc.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        grpc.image.tag:\n+          type: TAG\n+    rest:\n+      properties:\n+        rest.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        rest.image.tag:\n+          type: TAG\n+    postgresql:\n+      properties:\n+        postgresql.postgresqlImage.registry:\n+          type: REGISTRY\n+        postgresql.postgresqlImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.postgresqlImage.tag:\n+          type: TAG\n+    pgpool:\n+      properties:\n+        postgresql.pgpoolImage.registry:\n+          type: REGISTRY\n+        postgresql.pgpoolImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.pgpoolImage.tag:\n+          type: TAG\n+\n+  # Other fields, like clusterConstraints, can be included here.\n+\n+  # The Properties and Required sections of v2 are structured the same as those of v1.\n+  # IMPORTANT: These IDs must match your listing ID in Marketplace.\n+  partnerId: hederaPartnerId\n+  solutionId: hederaMirrorSolutionId\n+\n+properties:\n+  name:\n+    type: string\n+    x-google-marketplace:\n+      type: NAME\n+  namespace:\n+    type: string\n+    x-google-marketplace:\n+      type: NAMESPACE\n+  deployer.image:\n+    type: string\n+    x-google-marketplace:\n+      type: DEPLOYER_IMAGE\n+  grpc.config.hedera.mirror.grpc.db.password:\n+    type: string\n+    default: ''\n+    description: The grpc user password\n+    title: grpc user password\n+    x-google-marketplace:\n+      type: MASKED_FIELD\n+  grpc.replicas:\n+    type: integer\n+    default: 1\n+    description: Number of grpc node replicas\n+    title: gRPC replicas\n+    minimun: 1\n+    maximum: 10\n+  importer.config.hedera.mirror.importer.db.password:\n+    type: string\n+    default: ''\n+    description: The importer user password\n+    title: importer user password\n+    x-google-marketplace:\n+      type: MASKED_FIELD\n+  importer.replicas:\n+    type: integer\n+    default: 1\n+    description: Number of importer node replicas\n+    title: importer replicas\n+    minimun: 1\n+    maximum: 10\n+  postgresql.pgpool.replicaCount:\n+    type: integer\n+    default: 1\n+    description: Number of pgpool node replicas\n+    title: pgpool replicas\n+    minimun: 1\n+    maximum: 10\n+  postgresql.postgresql.replicaCount:\n+    type: integer\n+    default: 1\n+    description: Number of postgres node replicas\n+    title: pgpool replicas\n+    minimun: 1\n+    maximum: 10\n+  postgresql.postgresql.repmgrPassword:\n+    type: string\n+    default: ''\n+    description: The repmgr user password\n+    title: repmgr user password\n+    x-google-marketplace:\n+      type: MASKED_FIELD\n+  rest.config.hedera.mirror.rest.db.password:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzM5NzcxOA=="}, "originalCommit": {"oid": "81efbfd985ad501adffbe51698c0e70b25c58c90"}, "originalPosition": 127}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2Mjk4NjYzOnYy", "diffSide": "RIGHT", "path": "charts/marketplace/gcp/Dockerfile", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQyMDozMzozNlrOGXxj5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQyMDozMzozNlrOGXxj5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU4MjQzOA==", "bodyText": "Can move values-marketplace.yaml to charts/marketplace/gcp/values.yaml in follow up", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427582438", "createdAt": "2020-05-19T20:33:36Z", "author": {"login": "steven-sheehy"}, "path": "charts/marketplace/gcp/Dockerfile", "diffHunk": "@@ -0,0 +1,29 @@\n+# build image to format chart structure and verify templates\n+FROM gcr.io/cloud-marketplace-tools/k8s/deployer_helm AS build\n+\n+# pull in chart\n+COPY hedera-mirror /tmp/chart\n+\n+# get yq and merge values files\n+RUN wget https://github.com/mikefarah/yq/releases/download/2.4.0/yq_linux_386 \\\n+    && mv yq_linux_386 /usr/local/bin/yq \\\n+    && chmod +x /usr/local/bin/yq\n+\n+RUN yq m -i --overwrite /tmp/chart/values.yaml /tmp/chart/values-marketplace.yaml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "137a60e9c90d3986d6ab82ccac79b7c28bc47c70"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2Mjk5OTI2OnYy", "diffSide": "RIGHT", "path": "charts/marketplace/gcp/schema.yaml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQyMDozNzoyMlrOGXxruQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQyMDozNzoyMlrOGXxruQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU4NDQ0MQ==", "bodyText": "dc -> database", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427584441", "createdAt": "2020-05-19T20:37:22Z", "author": {"login": "steven-sheehy"}, "path": "charts/marketplace/gcp/schema.yaml", "diffHunk": "@@ -0,0 +1,152 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      Initial release of the Hedera Mirror Node\n+    # releaseTypes - Feature | BugFix | Security\n+    releaseTypes:\n+      - Feature\n+    # If \"recommended\" is \"true\", users using older releases are encouraged\n+    # to update as soon as possible. This is useful if, for example, this release\n+    # fixes a critical issue.\n+    recommended: false\n+\n+  # images for subcharts. Primary image is importer\n+  images:\n+    '':\n+      properties:\n+        importer.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        importer.image.tag:\n+          type: TAG\n+    grpc:\n+      properties:\n+        grpc.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        grpc.image.tag:\n+          type: TAG\n+    rest:\n+      properties:\n+        rest.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        rest.image.tag:\n+          type: TAG\n+    postgresql-repmgr:\n+      properties:\n+        postgresql.postgresqlImage.registry:\n+          type: REGISTRY\n+        postgresql.postgresqlImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.postgresqlImage.tag:\n+          type: TAG\n+    pgpool:\n+      properties:\n+        postgresql.pgpoolImage.registry:\n+          type: REGISTRY\n+        postgresql.pgpoolImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.pgpoolImage.tag:\n+          type: TAG\n+\n+  # Other fields, like clusterConstraints, can be included here.\n+\n+  # The Properties and Required sections of v2 are structured the same as those of v1.\n+  # IMPORTANT: These IDs must match your listing ID in Marketplace.\n+  partnerId: hederaPartnerId\n+  solutionId: hederaMirrorSolutionId\n+\n+properties:\n+  name:\n+    type: string\n+    x-google-marketplace:\n+      type: NAME\n+  namespace:\n+    type: string\n+    x-google-marketplace:\n+      type: NAMESPACE\n+  deployer.image:\n+    type: string\n+    x-google-marketplace:\n+      type: DEPLOYER_IMAGE\n+  grpc.config.hedera.mirror.grpc.db.password:\n+    type: string\n+    default: ''\n+    description: The grpc user password\n+    title: grpc user password\n+    x-google-marketplace:\n+      type: MASKED_FIELD\n+  grpc.replicas:\n+    type: integer\n+    default: 1\n+    description: Number of grpc node replicas\n+    title: gRPC replicas\n+    minimum: 0\n+    maximum: 10\n+  importer.config.hedera.mirror.importer.db.password:\n+    type: string\n+    default: ''\n+    description: The importer user password\n+    title: importer user password\n+    x-google-marketplace:\n+      type: MASKED_FIELD\n+  importer.config.hedera.mirror.importer.db.restPassword:\n+    type: string\n+    default: ''\n+    description: The importer dc rest user password", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "137a60e9c90d3986d6ab82ccac79b7c28bc47c70"}, "originalPosition": 100}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2MzAwMzg5OnYy", "diffSide": "RIGHT", "path": "charts/marketplace/gcp/schema.yaml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQyMDozODo0NFrOGXxujg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQyMDozODo0NFrOGXxujg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzU4NTE2Ng==", "bodyText": "Would like all these titles to use proper casing since it appears in front of users: REST API database password", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/740#discussion_r427585166", "createdAt": "2020-05-19T20:38:44Z", "author": {"login": "steven-sheehy"}, "path": "charts/marketplace/gcp/schema.yaml", "diffHunk": "@@ -0,0 +1,152 @@\n+x-google-marketplace:\n+  schemaVersion: v2\n+\n+  applicationApiVersion: v1beta1\n+\n+  # The release version, MUST match the release tag on the the deployer.\n+  publishedVersion: \"$TAG\"\n+  publishedVersionMetadata:\n+    releaseNote: >-\n+      Initial release of the Hedera Mirror Node\n+    # releaseTypes - Feature | BugFix | Security\n+    releaseTypes:\n+      - Feature\n+    # If \"recommended\" is \"true\", users using older releases are encouraged\n+    # to update as soon as possible. This is useful if, for example, this release\n+    # fixes a critical issue.\n+    recommended: false\n+\n+  # images for subcharts. Primary image is importer\n+  images:\n+    '':\n+      properties:\n+        importer.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        importer.image.tag:\n+          type: TAG\n+    grpc:\n+      properties:\n+        grpc.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        grpc.image.tag:\n+          type: TAG\n+    rest:\n+      properties:\n+        rest.image.repository:\n+          type: REPO_WITH_REGISTRY\n+        rest.image.tag:\n+          type: TAG\n+    postgresql-repmgr:\n+      properties:\n+        postgresql.postgresqlImage.registry:\n+          type: REGISTRY\n+        postgresql.postgresqlImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.postgresqlImage.tag:\n+          type: TAG\n+    pgpool:\n+      properties:\n+        postgresql.pgpoolImage.registry:\n+          type: REGISTRY\n+        postgresql.pgpoolImage.repository:\n+          type: REPO_WITHOUT_REGISTRY\n+        postgresql.pgpoolImage.tag:\n+          type: TAG\n+\n+  # Other fields, like clusterConstraints, can be included here.\n+\n+  # The Properties and Required sections of v2 are structured the same as those of v1.\n+  # IMPORTANT: These IDs must match your listing ID in Marketplace.\n+  partnerId: hederaPartnerId\n+  solutionId: hederaMirrorSolutionId\n+\n+properties:\n+  name:\n+    type: string\n+    x-google-marketplace:\n+      type: NAME\n+  namespace:\n+    type: string\n+    x-google-marketplace:\n+      type: NAMESPACE\n+  deployer.image:\n+    type: string\n+    x-google-marketplace:\n+      type: DEPLOYER_IMAGE\n+  grpc.config.hedera.mirror.grpc.db.password:\n+    type: string\n+    default: ''\n+    description: The grpc user password\n+    title: grpc user password\n+    x-google-marketplace:\n+      type: MASKED_FIELD\n+  grpc.replicas:\n+    type: integer\n+    default: 1\n+    description: Number of grpc node replicas\n+    title: gRPC replicas\n+    minimum: 0\n+    maximum: 10\n+  importer.config.hedera.mirror.importer.db.password:\n+    type: string\n+    default: ''\n+    description: The importer user password\n+    title: importer user password\n+    x-google-marketplace:\n+      type: MASKED_FIELD\n+  importer.config.hedera.mirror.importer.db.restPassword:\n+    type: string\n+    default: ''\n+    description: The importer dc rest user password\n+    title: importer db rest user password\n+    x-google-marketplace:\n+      type: MASKED_FIELD\n+  importer.replicas:\n+    type: integer\n+    default: 1\n+    description: Number of importer node replicas\n+    title: importer replicas\n+    minimum: 1\n+    maximum: 10\n+  postgresql.pgpool.replicaCount:\n+    type: integer\n+    default: 1\n+    description: Number of pgpool node replicas\n+    title: pgpool replicas\n+    minimum: 1\n+    maximum: 10\n+  postgresql.postgresql.replicaCount:\n+    type: integer\n+    default: 1\n+    description: Number of postgres node replicas\n+    title: pgpool replicas\n+    minimum: 1\n+    maximum: 10\n+  postgresql.postgresql.repmgrPassword:\n+    type: string\n+    default: ''\n+    description: The repmgr user password\n+    title: repmgr user password\n+    x-google-marketplace:\n+      type: MASKED_FIELD\n+  rest.config.hedera.mirror.rest.db.password:\n+    type: string\n+    default: ''\n+    description: The rest user password\n+    title: rest user password", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "137a60e9c90d3986d6ab82ccac79b7c28bc47c70"}, "originalPosition": 136}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1021, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}