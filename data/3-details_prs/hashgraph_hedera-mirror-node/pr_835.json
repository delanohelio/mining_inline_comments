{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM2NTYxOTg0", "number": 835, "title": "Backport fix shared poller OOM to 0.13", "bodyText": "Detailed description:\n\nBump versions for 0.13.2\nBackport following fixes from #833\n\nAdd ability to set log levels without restart (via curl, not persistent across restarts)\nFix Java max heap parameter not taking effect, causing the OOM\nFix not crashing on OOM so the process can recover\nFix async logging not enabled\nFix JPA Criteria based TopicMessageRepository.findByFilter() using literals for primitives instead of bind parameters, exploding Hibernate's and JDBC's query plan cache\nFix Hibernate storing topic messages in its session unnecessarily by marking queries as read-only\n\n\n\nWhich issue(s) this PR fixes:\nSpecial notes for your reviewer:\nChecklist\n\n Documentation added\n Tests updated", "createdAt": "2020-06-18T15:34:36Z", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/835", "merged": true, "mergeCommit": {"oid": "12476c5c0acb10e704191c3427859f3fdcc85d4b"}, "closed": true, "closedAt": "2020-06-18T16:32:17Z", "author": {"login": "steven-sheehy"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcsgFsiAH2gAyNDM2NTYxOTg0OmE5ZmFlMWVmNDdkY2U1ZTlmYjIwZWY3NTFiM2IzMzdjZDBkYmQ1MTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcshAfOgFqTQzMzQ0MDE1MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a9fae1ef47dce5e9fb20ef751b3b337cd0dbd512", "author": {"user": {"login": "steven-sheehy", "name": "Steven Sheehy"}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/a9fae1ef47dce5e9fb20ef751b3b337cd0dbd512", "committedDate": "2020-06-18T15:21:56Z", "message": "Backport fix shared poller OOM to 0.13\n\nSigned-off-by: Steven Sheehy <steven.sheehy@hedera.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "647fee464b8649ff6a5341273b457256bd8a2f41", "author": {"user": {"login": "steven-sheehy", "name": "Steven Sheehy"}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/647fee464b8649ff6a5341273b457256bd8a2f41", "committedDate": "2020-06-18T15:30:35Z", "message": "Bump versions for 0.13.2\n\nSigned-off-by: Steven Sheehy <steven.sheehy@hedera.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzNDQwMTUw", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/835#pullrequestreview-433440150", "createdAt": "2020-06-18T16:13:27Z", "commit": {"oid": "647fee464b8649ff6a5341273b457256bd8a2f41"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNjoxMzoyN1rOGl2hLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxNjoyNToyM1rOGl2-QQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM0MzcyNg==", "bodyText": "We should probably add documentation for this in the Operations.md", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/835#discussion_r442343726", "createdAt": "2020-06-18T16:13:27Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/scripts/hedera-mirror-grpc.service", "diffHunk": "@@ -3,7 +3,8 @@ After=syslog.target\n Description=Hedera Mirror Node GRPC API\n \n [Service]\n-ExecStart=/usr/bin/java -jar hedera-mirror-grpc.jar --spring.config.additional-location=file:/usr/etc/hedera-mirror-grpc/ -DLog4jContextSelector=org.apache.logging.log4j.core.async.AsyncLoggerContextSelector -Xmx10g\n+ExecStart=/usr/bin/java -Xms5g -Xmx12g -XX:+CrashOnOutOfMemoryError -DLog4jContextSelector=org.apache.logging.log4j.core.async.AsyncLoggerContextSelector -jar hedera-mirror-grpc.jar --spring.config.additional-location=file:/usr/etc/hedera-mirror-grpc/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "647fee464b8649ff6a5341273b457256bd8a2f41"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjM1MTE2OQ==", "bodyText": "Also add documentation for these config values in the Operations.md", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/835#discussion_r442351169", "createdAt": "2020-06-18T16:25:23Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-importer/scripts/hedera-mirror-importer.service", "diffHunk": "@@ -3,8 +3,7 @@ After=syslog.target\n Description=Hedera Mirror Importer\n \n [Service]\n-ExecStart=/usr/bin/java -jar hedera-mirror-importer.jar -Djavax.net.ssl.trustStorePassword=changeit -DLog4jContextSelector=org.apache.logging.log4j.core.async.AsyncLoggerContextSelector --spring.config.additional-location=file:/usr/etc/hedera-mirror-importer/\n-\n+ExecStart=/usr/bin/java -Xms2g -Xmx10g -XX:+CrashOnOutOfMemoryError -DLog4jContextSelector=org.apache.logging.log4j.core.async.AsyncLoggerContextSelector -jar hedera-mirror-importer.jar --spring.config.additional-location=file:/usr/etc/hedera-mirror-importer/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "647fee464b8649ff6a5341273b457256bd8a2f41"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3203, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}