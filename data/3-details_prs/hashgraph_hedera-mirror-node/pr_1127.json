{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAyNDI1Njkw", "number": 1127, "title": "Rosetta documentation", "bodyText": "Detailed description:\n\nHow to run Rosetta Service\nHow to run Unit Tests\nHow to run All-in-One Dockerfile\nHow to run Rosetta CLI Validation\n\nWhich issue(s) this PR fixes:\nCloses LimeChain#108\nChecklist\n\n Documentation added\n Tests updated", "createdAt": "2020-10-13T14:56:12Z", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1127", "merged": true, "mergeCommit": {"oid": "17fc0f73ae7aa1861d4931cfe862c77d595e9be7"}, "closed": true, "closedAt": "2020-10-14T15:57:35Z", "author": {"login": "failfmi"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSJ10SAH2gAyNTAyNDI1NjkwOjIxZjdkZDQ3ZDFiZTBhM2Y2MzIzMDc5NDliMzRhZTA0OTU2MmIwNmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdSfTI3AFqTUwODQ5NjUyNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "21f7dd47d1be0a3f632307949b34ae049562b06e", "author": {"user": {"login": "failfmi", "name": null}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/21f7dd47d1be0a3f632307949b34ae049562b06e", "committedDate": "2020-10-13T14:55:48Z", "message": "docs(hedera-mirror-rosetta): add docs/installation guides\n\nSigned-off-by: failfmi <oscurocalma@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3ODMwNzc3", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1127#pullrequestreview-507830777", "createdAt": "2020-10-13T21:09:37Z", "commit": {"oid": "21f7dd47d1be0a3f632307949b34ae049562b06e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QyMTowOTozOFrOHg5low==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QyMToxNzoxMFrOHg50Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDI2MDAwMw==", "bodyText": "nit: Would be better to directly link to the rosetta section of the configuration", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1127#discussion_r504260003", "createdAt": "2020-10-13T21:09:38Z", "author": {"login": "steven-sheehy"}, "path": "docs/installation.md", "diffHunk": "@@ -75,6 +75,109 @@ Run the unit tests using jest by using:\n npm test\n ```\n \n+### Rosetta API\n+\n+#### Prerequisites\n+``\n+Go 1.13+\n+``\n+\n+To start the Rosetta API ensure you have the necessary [configuration](configuration.md) populated and run:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21f7dd47d1be0a3f632307949b34ae049562b06e"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDI2MTM5NA==", "bodyText": "nit: Would prefer config properties and values use backticks instead of bold in this section.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1127#discussion_r504261394", "createdAt": "2020-10-13T21:12:27Z", "author": {"login": "steven-sheehy"}, "path": "docs/installation.md", "diffHunk": "@@ -75,6 +75,109 @@ Run the unit tests using jest by using:\n npm test\n ```\n \n+### Rosetta API\n+\n+#### Prerequisites\n+``\n+Go 1.13+\n+``\n+\n+To start the Rosetta API ensure you have the necessary [configuration](configuration.md) populated and run:\n+\n+```console\n+cd hedera-mirror-rosetta\n+go run cmd/*\n+```\n+\n+#### Unit Tests\n+\n+Run the unit tests by executing:\n+```console\n+cd hedera-mirror-rosetta\n+go test ./...\n+```\n+\n+#### Rosetta CLI Validation\n+\n+After you have started the Rosetta API, in another terminal run:\n+\n+```console\n+cd hedera-mirror-rosetta/validation\n+./run-validation.sh\n+```\n+\n+Currently, Rosetta CLI Validation supports only **DEMO** and **TESTNET**, where", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21f7dd47d1be0a3f632307949b34ae049562b06e"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDI2MTk4OQ==", "bodyText": "Need to mention Rosetta in list of docker compose components", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1127#discussion_r504261989", "createdAt": "2020-10-13T21:13:42Z", "author": {"login": "steven-sheehy"}, "path": "docs/installation.md", "diffHunk": "@@ -75,6 +75,109 @@ Run the unit tests using jest by using:\n npm test\n ```\n \n+### Rosetta API\n+\n+#### Prerequisites\n+``\n+Go 1.13+\n+``\n+\n+To start the Rosetta API ensure you have the necessary [configuration](configuration.md) populated and run:\n+\n+```console\n+cd hedera-mirror-rosetta\n+go run cmd/*\n+```\n+\n+#### Unit Tests\n+\n+Run the unit tests by executing:\n+```console\n+cd hedera-mirror-rosetta\n+go test ./...\n+```\n+\n+#### Rosetta CLI Validation\n+\n+After you have started the Rosetta API, in another terminal run:\n+\n+```console\n+cd hedera-mirror-rosetta/validation\n+./run-validation.sh\n+```\n+\n+Currently, Rosetta CLI Validation supports only **DEMO** and **TESTNET**, where\n+**DEMO** is default and **TESTNET** can be run via:\n+```console\n+./run-validation.sh testnet\n+```\n+\n+#### Rosetta All-in-One Dockerfile configuration\n+\n+The **All-in-One** configuration aggregates the **PostgreSQL**, **Importer** and **Rosetta** services in a single Dockerfile configuration.\n+Configuration is based on Rosetta specification, found [here](https://www.rosetta-api.org/docs/node_deployment.html).\n+Data Persistence is based on Rosetta specification as well, found [here](https://www.rosetta-api.org/docs/standard_storage_location.html).\n+Exposed ports are **5432** (PostgreSQL) and **5700** (Rosetta).\n+\n+To build the Dockerfile, run:\n+```console\n+cd hedera-mirror-rosetta/build\n+docker build .\n+```\n+\n+Image container can be run via:\n+```console\n+docker run <image>\n+```\n+\n+With a mounted volume:\n+```console\n+docker run -v <volume>:/data <image>\n+```\n+\n+The built Docker image can be run in **online** (default) and **offline** mode.\n+**Online** mode runs all the above specified services, where in **offline** - only the **Rosetta** service.\n+\n+To run in **offline** mode:\n+```console\n+docker run -e MODE=offline <image>\n+```\n+\n+You can override **Importer** and **Rosetta** services default configuration by passing\n+**environment variables**, specified [here](./configuration.md).\n+\n+For ease, an additional environment variable, called **NETWORK** is added, where you can both override\n+the **Importer** and **Rosetta** default network configuration:\n+```console\n+docker run -e NETWORK=TESTNET <image>\n+```\n+\n+In order **Importer** to sync data, different from default,\n+the following environment variables need to be overridden:\n+```console\n+HEDERA_MIRROR_IMPORTER_DOWNLOADER_ACCESSKEY=\n+HEDERA_MIRROR_IMPORTER_DOWNLOADER_BUCKETNAME=\n+HEDERA_MIRROR_IMPORTER_DOWNLOADER_CLOUDPROVIDER=\n+HEDERA_MIRROR_IMPORTER_DOWNLOADER_GCPPROJECTID=\n+HEDERA_MIRROR_IMPORTER_DOWNLOADER_SECRETKEY=\n+HEDERA_MIRROR_IMPORTER_START_DATE=\n+```\n+regardless of specified **NETWORK**.\n+\n+A full example for **testnet** network in **online** mode:\n+```console\n+docker run -e NETWORK=TESTNET \\\n+-e HEDERA_MIRROR_IMPORTER_DOWNLOADER_ACCESSKEY= \\\n+-e HEDERA_MIRROR_IMPORTER_DOWNLOADER_BUCKETNAME= \\\n+-e HEDERA_MIRROR_IMPORTER_DOWNLOADER_CLOUDPROVIDER= \\\n+-e HEDERA_MIRROR_IMPORTER_DOWNLOADER_GCPPROJECTID= \\\n+-e HEDERA_MIRROR_IMPORTER_DOWNLOADER_SECRETKEY= \\\n+-e HEDERA_MIRROR_IMPORTER_START_DATE= \\\n+-v <volume>:/data \\\n+-p 5700:5700 \\\n+<image>\n+```\n+\n ## Running via Docker Compose\n \n Docker Compose scripts are provided and run all the mirror node components:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21f7dd47d1be0a3f632307949b34ae049562b06e"}, "originalPosition": 109}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDI2MzczNA==", "bodyText": "Lots of random bolding in this section. I don't think component names need to be bolded (or backticked). While all the config key/values can be switched to backticks.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1127#discussion_r504263734", "createdAt": "2020-10-13T21:17:10Z", "author": {"login": "steven-sheehy"}, "path": "docs/installation.md", "diffHunk": "@@ -75,6 +75,109 @@ Run the unit tests using jest by using:\n npm test\n ```\n \n+### Rosetta API\n+\n+#### Prerequisites\n+``\n+Go 1.13+\n+``\n+\n+To start the Rosetta API ensure you have the necessary [configuration](configuration.md) populated and run:\n+\n+```console\n+cd hedera-mirror-rosetta\n+go run cmd/*\n+```\n+\n+#### Unit Tests\n+\n+Run the unit tests by executing:\n+```console\n+cd hedera-mirror-rosetta\n+go test ./...\n+```\n+\n+#### Rosetta CLI Validation\n+\n+After you have started the Rosetta API, in another terminal run:\n+\n+```console\n+cd hedera-mirror-rosetta/validation\n+./run-validation.sh\n+```\n+\n+Currently, Rosetta CLI Validation supports only **DEMO** and **TESTNET**, where\n+**DEMO** is default and **TESTNET** can be run via:\n+```console\n+./run-validation.sh testnet\n+```\n+\n+#### Rosetta All-in-One Dockerfile configuration\n+\n+The **All-in-One** configuration aggregates the **PostgreSQL**, **Importer** and **Rosetta** services in a single Dockerfile configuration.\n+Configuration is based on Rosetta specification, found [here](https://www.rosetta-api.org/docs/node_deployment.html).\n+Data Persistence is based on Rosetta specification as well, found [here](https://www.rosetta-api.org/docs/standard_storage_location.html).\n+Exposed ports are **5432** (PostgreSQL) and **5700** (Rosetta).\n+\n+To build the Dockerfile, run:\n+```console\n+cd hedera-mirror-rosetta/build\n+docker build .\n+```\n+\n+Image container can be run via:\n+```console\n+docker run <image>\n+```\n+\n+With a mounted volume:\n+```console\n+docker run -v <volume>:/data <image>\n+```\n+\n+The built Docker image can be run in **online** (default) and **offline** mode.\n+**Online** mode runs all the above specified services, where in **offline** - only the **Rosetta** service.\n+\n+To run in **offline** mode:\n+```console\n+docker run -e MODE=offline <image>\n+```\n+\n+You can override **Importer** and **Rosetta** services default configuration by passing\n+**environment variables**, specified [here](./configuration.md).\n+\n+For ease, an additional environment variable, called **NETWORK** is added, where you can both override", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21f7dd47d1be0a3f632307949b34ae049562b06e"}, "originalPosition": 75}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "78551836c3c9f8d5b0bbd06b546e14eb386a0fd5", "author": {"user": {"login": "failfmi", "name": null}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/78551836c3c9f8d5b0bbd06b546e14eb386a0fd5", "committedDate": "2020-10-14T06:41:49Z", "message": "style(rosetta-docs): bold -> backsticks, remove unwanted highlighting\n\nSigned-off-by: failfmi <oscurocalma@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4NDk2NTI1", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/1127#pullrequestreview-508496525", "createdAt": "2020-10-14T15:55:50Z", "commit": {"oid": "78551836c3c9f8d5b0bbd06b546e14eb386a0fd5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3591, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}