{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY1MzAxODAw", "number": 942, "title": "Bump grpc.version from 1.29.0 to 1.31.0", "bodyText": "Bumps grpc.version from 1.29.0 to 1.31.0.\nUpdates grpc-testing from 1.29.0 to 1.31.0\n\nRelease notes\nSourced from grpc-testing's releases.\n\nv1.31.0\nAPI Changes\n\napi: ManagedChannelBuilder.nameResolverFactory is now marked deprecated. It has long been our plan to remove the function, but was not communicated. Most usages should be able to globally register via the SPI mechanism or NameResolverRegistry.register(). There is a plan to add a method to ManagedChannelBuilder to specify the default target scheme for the channel. If your use-case is not covered, please inform us on #7133\n\nNew Features\n\nThe following new xDS functionality is added in this release:\n\nRequests matching based on path (prefix, full path and safe regex) and headers.\nRequests routing to multiple clusters based on weights.\nThe xDS features supported in a given release are documented here.\n\n\napi: Added LoadBalancer.Helper.createResolvingOobChannelBuilder(). It is similar to LoadBalancer.Helper.createResolvingOobChannel() except allows configuring the channel (#7136)\n\nBug Fixes\n\nnetty: return status code unavailable when netty channel has unresolved InetSocketAddress (#7023)\ncore: fix a bug that a call may hang when using manual flow control and gRPC retry is enabled (#6817)\n\nDocumentation\n\nstub: Documented more behavior of ClientCalls and ServerCalls, with regard to ClientResponseObserver, ClientCallStreamObserver, ServerCallStreamObserver, and exceptions\napi: Documented how Providers may be used in their respective class documentation. Previously you \u201cjust had to know\u201d the SPI mechanism was available\n\nDependencies\n\nUpdate guava to 29.0 (#7079)\n\nExamples\n\nexamples: Add client/server retrying example via service config #7111\n\nAcknowledgements\n@alexanderscott\n@AnarSultanov\n@cindyxue\n@d-reidenbach\n@elharo\n@gsharma\n@reggiemcdonald\nv1.30.2 patch release\nBug Fixes\n\nxds:  disable code for a future xds feature\n\nv1.30.1\nBug Fixes\n\nall: remove grpc-rls from grpc-all dependencies (#7118). grpc-rls is not intended to be published yet, projects depending on grpc-all gets a \"failed to collect dependencies at io.grpc:grpc-all:jar:1.30.0 -> io.grpc:grpc-rls:jar:1.30.0\" error. This is fixed here.\ncore: fix a bug that a call may hang when using manual flow control and gRPC retry is enabled. (#6817)\n\n\n\n\n\nCommits\n\nf96f845 Bump version to 1.31.0\nf5cb23c Update README etc to reference 1.31.0\n9390e75 xds: remove GRPC_XDS_EXPERIMENTAL_ROUTING flag\n7a78685 interop-testing: add path_matching and header_matching (#7254)\na95b3e0 interop-testing: add flags to xds test client\n0c59ce8 xds: routing policy should immediately update a picker that selects base on u...\n72de6ea xds: perform header matching on concatenated values (v1.31.x backport) (#7215...\n7047209 xds: add meshca.proto from Istio repo (#7213)\nbacd12e xds: delete deprecated xds-experimental scheme\n631e07f xds: fix lint (#7210)\nAdditional commits viewable in compare view\n\n\n\nUpdates grpc-protobuf from 1.29.0 to 1.31.0\n\nRelease notes\nSourced from grpc-protobuf's releases.\n\nv1.31.0\nAPI Changes\n\napi: ManagedChannelBuilder.nameResolverFactory is now marked deprecated. It has long been our plan to remove the function, but was not communicated. Most usages should be able to globally register via the SPI mechanism or NameResolverRegistry.register(). There is a plan to add a method to ManagedChannelBuilder to specify the default target scheme for the channel. If your use-case is not covered, please inform us on #7133\n\nNew Features\n\nThe following new xDS functionality is added in this release:\n\nRequests matching based on path (prefix, full path and safe regex) and headers.\nRequests routing to multiple clusters based on weights.\nThe xDS features supported in a given release are documented here.\n\n\napi: Added LoadBalancer.Helper.createResolvingOobChannelBuilder(). It is similar to LoadBalancer.Helper.createResolvingOobChannel() except allows configuring the channel (#7136)\n\nBug Fixes\n\nnetty: return status code unavailable when netty channel has unresolved InetSocketAddress (#7023)\ncore: fix a bug that a call may hang when using manual flow control and gRPC retry is enabled (#6817)\n\nDocumentation\n\nstub: Documented more behavior of ClientCalls and ServerCalls, with regard to ClientResponseObserver, ClientCallStreamObserver, ServerCallStreamObserver, and exceptions\napi: Documented how Providers may be used in their respective class documentation. Previously you \u201cjust had to know\u201d the SPI mechanism was available\n\nDependencies\n\nUpdate guava to 29.0 (#7079)\n\nExamples\n\nexamples: Add client/server retrying example via service config #7111\n\nAcknowledgements\n@alexanderscott\n@AnarSultanov\n@cindyxue\n@d-reidenbach\n@elharo\n@gsharma\n@reggiemcdonald\nv1.30.2 patch release\nBug Fixes\n\nxds:  disable code for a future xds feature\n\nv1.30.1\nBug Fixes\n\nall: remove grpc-rls from grpc-all dependencies (#7118). grpc-rls is not intended to be published yet, projects depending on grpc-all gets a \"failed to collect dependencies at io.grpc:grpc-all:jar:1.30.0 -> io.grpc:grpc-rls:jar:1.30.0\" error. This is fixed here.\ncore: fix a bug that a call may hang when using manual flow control and gRPC retry is enabled. (#6817)\n\n\n\n\n\nCommits\n\nf96f845 Bump version to 1.31.0\nf5cb23c Update README etc to reference 1.31.0\n9390e75 xds: remove GRPC_XDS_EXPERIMENTAL_ROUTING flag\n7a78685 interop-testing: add path_matching and header_matching (#7254)\na95b3e0 interop-testing: add flags to xds test client\n0c59ce8 xds: routing policy should immediately update a picker that selects base on u...\n72de6ea xds: perform header matching on concatenated values (v1.31.x backport) (#7215...\n7047209 xds: add meshca.proto from Istio repo (#7213)\nbacd12e xds: delete deprecated xds-experimental scheme\n631e07f xds: fix lint (#7210)\nAdditional commits viewable in compare view\n\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase.\n\n\nDependabot commands and options\n\nYou can trigger Dependabot actions by commenting on this PR:\n\n@dependabot rebase will rebase this PR\n@dependabot recreate will recreate this PR, overwriting any edits that have been made to it\n@dependabot merge will merge this PR after your CI passes on it\n@dependabot squash and merge will squash and merge this PR after your CI passes on it\n@dependabot cancel merge will cancel a previously requested merge and block automerging\n@dependabot reopen will reopen this PR if it is closed\n@dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n@dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n@dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n@dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)", "createdAt": "2020-08-10T06:20:15Z", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/942", "merged": true, "mergeCommit": {"oid": "2a07742d16a72a6dc4e0721a4b06c1d2f4b99968"}, "closed": true, "closedAt": "2020-08-13T00:02:41Z", "author": {"login": "dependabot"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc9cGwXgH2gAyNDY1MzAxODAwOmE4YTMzMmUzMzhlYzUxZjEyNWFhNWNlMGRiZDk4ZmUyNjhkZTNkZTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-UfQtAFqTQ2NjM1NDE1Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a8a332e338ec51f125aa5ce0dbd98fe268de3de4", "author": {"user": {"login": "dependabot[bot]", "name": null}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/a8a332e338ec51f125aa5ce0dbd98fe268de3de4", "committedDate": "2020-08-10T06:20:11Z", "message": "Bump grpc.version from 1.29.0 to 1.31.0\n\nBumps `grpc.version` from 1.29.0 to 1.31.0.\n\nUpdates `grpc-testing` from 1.29.0 to 1.31.0\n- [Release notes](https://github.com/grpc/grpc-java/releases)\n- [Commits](https://github.com/grpc/grpc-java/compare/v1.29.0...v1.31.0)\n\nUpdates `grpc-protobuf` from 1.29.0 to 1.31.0\n- [Release notes](https://github.com/grpc/grpc-java/releases)\n- [Commits](https://github.com/grpc/grpc-java/compare/v1.29.0...v1.31.0)\n\nSigned-off-by: dependabot[bot] <support@github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "feef5618edc3bd75cabe9571cb9b25d52fa19fea", "author": {"user": {"login": "ijungmann", "name": "Ian Jungmann"}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/feef5618edc3bd75cabe9571cb9b25d52fa19fea", "committedDate": "2020-08-10T20:17:01Z", "message": "Bump grpc.version from 1.29.0 to 1.31.0 (#942)\n\nRemoving config variable flowControlWindow due to behavior change in grpc v1.30.0\n - Removed flowControlWindow attribute in NettyProperties\n - The serverBuilder in GrpcConfiguration no longer sets flowControlWindow\n - Removed line mentioning flowControlWindow in configuration.md\n\nSigned-off-by: Ian Jungmann <ian.jungmann@hedera.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0NTc0NTQx", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/942#pullrequestreview-464574541", "createdAt": "2020-08-10T20:44:46Z", "commit": {"oid": "feef5618edc3bd75cabe9571cb9b25d52fa19fea"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQyMDo0NDo0NlrOG-fJTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQyMDo0NDo0NlrOG-fJTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODE3NTE4MA==", "bodyText": "Can you verify the acceptance and performance tests still run.\nI believe specifically the Cucumber acceptance tests were affected once in the past when we upgraded the grpc version\nSee https://github.com/hashgraph/hedera-mirror-node/tree/master/hedera-mirror-test for context  and below for some examples. Feel free to ping me for additional context\nAcceptance\n./mvnw clean integration-test --projects hedera-mirror-test/ -P=acceptance-tests  -Dcucumber.filter.tags=\"@Sanity\"  -Dspring.config.name=application-perf\nPerformance\n./mvnw clean integration-test --projects hedera-mirror-test/ -P=performance-tests -Djmeter.subscribeThreadCount=1", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/942#discussion_r468175180", "createdAt": "2020-08-10T20:44:46Z", "author": {"login": "Nana-EC"}, "path": "pom.xml", "diffHunk": "@@ -58,7 +58,7 @@\n         <docker.push.repository>gcr.io/mirrornode</docker.push.repository>\n         <docker.resources>${project.build.directory}/container</docker.resources>\n         <docker.tag.version>${project.version}</docker.tag.version>\n-        <grpc.version>1.29.0</grpc.version>\n+        <grpc.version>1.31.0</grpc.version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "feef5618edc3bd75cabe9571cb9b25d52fa19fea"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2MzI5OTQ5", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/942#pullrequestreview-466329949", "createdAt": "2020-08-12T22:52:57Z", "commit": {"oid": "feef5618edc3bd75cabe9571cb9b25d52fa19fea"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2MzU0MTUz", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/942#pullrequestreview-466354153", "createdAt": "2020-08-13T00:01:38Z", "commit": {"oid": "feef5618edc3bd75cabe9571cb9b25d52fa19fea"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3037, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}