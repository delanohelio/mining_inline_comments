{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA3NjEzMjE4", "number": 710, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwMjozMjozMlrOD1D2OA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwMjozMjozMlrOD1D2OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2OTY0MTUyOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-rest/server.js", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwMjozMjozMlrOGKT2Mw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QyMDowOToxNFrOGK6D0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQ2NDExNQ==", "bodyText": "When do we plan to remove '?' regex match?\nNo need for backward compatibility - that's the whole premise everyone agreed on when adding these apis. I intend to use it.\nThere should be only 2 users for these apis. Let's talk to atul, get in touch with these guys, notify them and remove '?' in 0.12.0.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/710#discussion_r413464115", "createdAt": "2020-04-23T02:32:32Z", "author": {"login": "apeksharma"}, "path": "hedera-mirror-rest/server.js", "diffHunk": "@@ -101,20 +101,21 @@ if (config.api.metrics.enabled) {\n \n let apiPrefix = '/api/v1';\n \n-// routes\n-app.getAsync(apiPrefix + '/transactions', transactions.getTransactions);\n-app.getAsync(apiPrefix + '/transactions/:id', transactions.getOneTransaction);\n-app.getAsync(apiPrefix + '/balances', balances.getBalances);\n+// accounts routes\n app.getAsync(apiPrefix + '/accounts', accounts.getAccounts);\n app.getAsync(apiPrefix + '/accounts/:id', accounts.getOneAccount);\n-app.getAsync(apiPrefix + '/topic/message/:consensusTimestamp', topicmessage.getMessageByConsensusTimestamp);\n \n-// support singular and plural resource naming for single topic message via id and sequence\n-app.getAsync(apiPrefix + '/topic/:id/message/:sequencenumber', topicmessage.getMessageByTopicAndSequenceRequest);\n-app.getAsync(apiPrefix + '/topics/:id/messages/:sequencenumber', topicmessage.getMessageByTopicAndSequenceRequest);\n+// balances routes\n+app.getAsync(apiPrefix + '/balances', balances.getBalances);\n+\n+// transactions routes\n+app.getAsync(apiPrefix + '/transactions', transactions.getTransactions);\n+app.getAsync(apiPrefix + '/transactions/:id', transactions.getOneTransaction);\n \n-app.getAsync(apiPrefix + '/topics/:id/messages', topicmessage.getTopicMessages);\n-app.getAsync(apiPrefix + '/topic/:id/messages', topicmessage.getTopicMessages);\n+// topics routes\n+app.getAsync(apiPrefix + '/topics/:id/messages?', topicmessage.getTopicMessages);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c25a9d15672fa1f7489d3366f1a1127613531353"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzgzMzQ2MQ==", "bodyText": "Agreed. I'm happy to not use '?' added it as @steven-sheehy had concerns of us breaking customers back to back.\nI like the option of removing in 0.12.0 after notifying the 2 users.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/710#discussion_r413833461", "createdAt": "2020-04-23T14:16:07Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-rest/server.js", "diffHunk": "@@ -101,20 +101,21 @@ if (config.api.metrics.enabled) {\n \n let apiPrefix = '/api/v1';\n \n-// routes\n-app.getAsync(apiPrefix + '/transactions', transactions.getTransactions);\n-app.getAsync(apiPrefix + '/transactions/:id', transactions.getOneTransaction);\n-app.getAsync(apiPrefix + '/balances', balances.getBalances);\n+// accounts routes\n app.getAsync(apiPrefix + '/accounts', accounts.getAccounts);\n app.getAsync(apiPrefix + '/accounts/:id', accounts.getOneAccount);\n-app.getAsync(apiPrefix + '/topic/message/:consensusTimestamp', topicmessage.getMessageByConsensusTimestamp);\n \n-// support singular and plural resource naming for single topic message via id and sequence\n-app.getAsync(apiPrefix + '/topic/:id/message/:sequencenumber', topicmessage.getMessageByTopicAndSequenceRequest);\n-app.getAsync(apiPrefix + '/topics/:id/messages/:sequencenumber', topicmessage.getMessageByTopicAndSequenceRequest);\n+// balances routes\n+app.getAsync(apiPrefix + '/balances', balances.getBalances);\n+\n+// transactions routes\n+app.getAsync(apiPrefix + '/transactions', transactions.getTransactions);\n+app.getAsync(apiPrefix + '/transactions/:id', transactions.getOneTransaction);\n \n-app.getAsync(apiPrefix + '/topics/:id/messages', topicmessage.getTopicMessages);\n-app.getAsync(apiPrefix + '/topic/:id/messages', topicmessage.getTopicMessages);\n+// topics routes\n+app.getAsync(apiPrefix + '/topics/:id/messages?', topicmessage.getTopicMessages);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQ2NDExNQ=="}, "originalCommit": {"oid": "c25a9d15672fa1f7489d3366f1a1127613531353"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDA5MDE5Mg==", "bodyText": "Reached out to customer and verified with logs usage of other endpoints. For now just support the concensustimestamp singular till v0.12.0", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/710#discussion_r414090192", "createdAt": "2020-04-23T20:09:14Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-rest/server.js", "diffHunk": "@@ -101,20 +101,21 @@ if (config.api.metrics.enabled) {\n \n let apiPrefix = '/api/v1';\n \n-// routes\n-app.getAsync(apiPrefix + '/transactions', transactions.getTransactions);\n-app.getAsync(apiPrefix + '/transactions/:id', transactions.getOneTransaction);\n-app.getAsync(apiPrefix + '/balances', balances.getBalances);\n+// accounts routes\n app.getAsync(apiPrefix + '/accounts', accounts.getAccounts);\n app.getAsync(apiPrefix + '/accounts/:id', accounts.getOneAccount);\n-app.getAsync(apiPrefix + '/topic/message/:consensusTimestamp', topicmessage.getMessageByConsensusTimestamp);\n \n-// support singular and plural resource naming for single topic message via id and sequence\n-app.getAsync(apiPrefix + '/topic/:id/message/:sequencenumber', topicmessage.getMessageByTopicAndSequenceRequest);\n-app.getAsync(apiPrefix + '/topics/:id/messages/:sequencenumber', topicmessage.getMessageByTopicAndSequenceRequest);\n+// balances routes\n+app.getAsync(apiPrefix + '/balances', balances.getBalances);\n+\n+// transactions routes\n+app.getAsync(apiPrefix + '/transactions', transactions.getTransactions);\n+app.getAsync(apiPrefix + '/transactions/:id', transactions.getOneTransaction);\n \n-app.getAsync(apiPrefix + '/topics/:id/messages', topicmessage.getTopicMessages);\n-app.getAsync(apiPrefix + '/topic/:id/messages', topicmessage.getTopicMessages);\n+// topics routes\n+app.getAsync(apiPrefix + '/topics/:id/messages?', topicmessage.getTopicMessages);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzQ2NDExNQ=="}, "originalCommit": {"oid": "c25a9d15672fa1f7489d3366f1a1127613531353"}, "originalPosition": 26}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 996, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}