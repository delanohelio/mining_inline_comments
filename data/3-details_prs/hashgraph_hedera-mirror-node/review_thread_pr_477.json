{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU4ODAwNzk2", "number": 477, "reviewThreads": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMDoxNzoxNVrODVvjGg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMzowNDoxOVrODVxNbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTI1NzIyOnYy", "diffSide": "RIGHT", "path": ".circleci/config.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMDoxNzoxNVrOFaIhrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQyMTo0NTozMVrOFaqJ-w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk0Njk4OA==", "bodyText": "Renaming exec jar is now accomplished differently for importer. Please use that approach", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r362946988", "createdAt": "2020-01-03T20:17:15Z", "author": {"login": "steven-sheehy"}, "path": ".circleci/config.yml", "diffHunk": "@@ -75,7 +75,9 @@ jobs:\n             NAME=hedera-mirror-grpc-${VERSION_TAG:-b$CIRCLE_BUILD_NUM}\n             WORKSPACE=/tmp/workspace\n             mkdir -p ${WORKSPACE}/${NAME}\n-            mv hedera-mirror-grpc/target/hedera-mirror-grpc-*.jar ${WORKSPACE}/${NAME}/${NAME}.jar\n+            # Truncate '-exec' from jar name", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1ab81c9da45934011a61390fb38d6b587624a95"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQ5Nzk3OQ==", "bodyText": "Done", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r363497979", "createdAt": "2020-01-06T21:45:31Z", "author": {"login": "Nana-EC"}, "path": ".circleci/config.yml", "diffHunk": "@@ -75,7 +75,9 @@ jobs:\n             NAME=hedera-mirror-grpc-${VERSION_TAG:-b$CIRCLE_BUILD_NUM}\n             WORKSPACE=/tmp/workspace\n             mkdir -p ${WORKSPACE}/${NAME}\n-            mv hedera-mirror-grpc/target/hedera-mirror-grpc-*.jar ${WORKSPACE}/${NAME}/${NAME}.jar\n+            # Truncate '-exec' from jar name", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk0Njk4OA=="}, "originalCommit": {"oid": "d1ab81c9da45934011a61390fb38d6b587624a95"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTMwNjM2OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMDo0MjoxNlrOFaI_eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQyMjo0MDozM1rOFarWNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk1NDYxOA==", "bodyText": "test", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r362954618", "createdAt": "2020-01-03T20:42:16Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-grpc/pom.xml", "diffHunk": "@@ -119,6 +119,18 @@\n             <version>${testcontainers.version}</version>\n             <scope>test</scope>\n         </dependency>\n+        <dependency>\n+            <groupId>org.apache.jmeter</groupId>\n+            <artifactId>ApacheJMeter_core</artifactId>\n+            <version>5.1.1</version>\n+            <scope>compile</scope>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1ab81c9da45934011a61390fb38d6b587624a95"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzUxNzQ5Mw==", "bodyText": "Changed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r363517493", "createdAt": "2020-01-06T22:40:33Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/pom.xml", "diffHunk": "@@ -119,6 +119,18 @@\n             <version>${testcontainers.version}</version>\n             <scope>test</scope>\n         </dependency>\n+        <dependency>\n+            <groupId>org.apache.jmeter</groupId>\n+            <artifactId>ApacheJMeter_core</artifactId>\n+            <version>5.1.1</version>\n+            <scope>compile</scope>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk1NDYxOA=="}, "originalCommit": {"oid": "d1ab81c9da45934011a61390fb38d6b587624a95"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTMwNjUxOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMDo0MjoyMVrOFaI_jg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQyMjo0MDoyOFrOFarWIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk1NDYzOA==", "bodyText": "test", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r362954638", "createdAt": "2020-01-03T20:42:21Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-grpc/pom.xml", "diffHunk": "@@ -119,6 +119,18 @@\n             <version>${testcontainers.version}</version>\n             <scope>test</scope>\n         </dependency>\n+        <dependency>\n+            <groupId>org.apache.jmeter</groupId>\n+            <artifactId>ApacheJMeter_core</artifactId>\n+            <version>5.1.1</version>\n+            <scope>compile</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.jmeter</groupId>\n+            <artifactId>ApacheJMeter_java</artifactId>\n+            <version>5.1.1</version>\n+            <scope>compile</scope>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1ab81c9da45934011a61390fb38d6b587624a95"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzUxNzQ3Mg==", "bodyText": "Changed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r363517472", "createdAt": "2020-01-06T22:40:28Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/pom.xml", "diffHunk": "@@ -119,6 +119,18 @@\n             <version>${testcontainers.version}</version>\n             <scope>test</scope>\n         </dependency>\n+        <dependency>\n+            <groupId>org.apache.jmeter</groupId>\n+            <artifactId>ApacheJMeter_core</artifactId>\n+            <version>5.1.1</version>\n+            <scope>compile</scope>\n+        </dependency>\n+        <dependency>\n+            <groupId>org.apache.jmeter</groupId>\n+            <artifactId>ApacheJMeter_java</artifactId>\n+            <version>5.1.1</version>\n+            <scope>compile</scope>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk1NDYzOA=="}, "originalCommit": {"oid": "d1ab81c9da45934011a61390fb38d6b587624a95"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTMxMTA2OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMDo0NTowNFrOFaJCOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQyMjo0MDowOFrOFarVvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk1NTMyMA==", "bodyText": "This should be removed. If this is just a task that needs to run once, just use the command line flags and document it in the readme. Something like ../mvnw dependency:copy-dependencies -DincludeScope=test ...", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r362955320", "createdAt": "2020-01-03T20:45:04Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-grpc/pom.xml", "diffHunk": "@@ -146,7 +158,53 @@\n             <plugin>\n                 <groupId>org.springframework.boot</groupId>\n                 <artifactId>spring-boot-maven-plugin</artifactId>\n+                <executions>\n+                    <execution>\n+                        <id>repackage</id>\n+                        <goals>\n+                            <goal>repackage</goal>\n+                        </goals>\n+                        <configuration>\n+                            <classifier>exec</classifier>\n+                        </configuration>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+            <!-- Create test case jar to allow jmeter to utilize samplers -->\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-jar-plugin</artifactId>\n+                <version>3.2.0</version>\n+                <executions>\n+                    <execution>\n+                        <goals>\n+                            <goal>test-jar</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n             </plugin>\n+        <!-- Use to gather dependency files that may need to be copied to jMeter -->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1ab81c9da45934011a61390fb38d6b587624a95"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzUxNzM3Mw==", "bodyText": "Removed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r363517373", "createdAt": "2020-01-06T22:40:08Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/pom.xml", "diffHunk": "@@ -146,7 +158,53 @@\n             <plugin>\n                 <groupId>org.springframework.boot</groupId>\n                 <artifactId>spring-boot-maven-plugin</artifactId>\n+                <executions>\n+                    <execution>\n+                        <id>repackage</id>\n+                        <goals>\n+                            <goal>repackage</goal>\n+                        </goals>\n+                        <configuration>\n+                            <classifier>exec</classifier>\n+                        </configuration>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+            <!-- Create test case jar to allow jmeter to utilize samplers -->\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-jar-plugin</artifactId>\n+                <version>3.2.0</version>\n+                <executions>\n+                    <execution>\n+                        <goals>\n+                            <goal>test-jar</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n             </plugin>\n+        <!-- Use to gather dependency files that may need to be copied to jMeter -->", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk1NTMyMA=="}, "originalCommit": {"oid": "d1ab81c9da45934011a61390fb38d6b587624a95"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTMxMjc0OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/ConnectionHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMDo0NTo1NlrOFaJDNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQyMjo0MDowMVrOFarVlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk1NTU3NQ==", "bodyText": "insertTopicMessage", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r362955575", "createdAt": "2020-01-03T20:45:56Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/ConnectionHandler.java", "diffHunk": "@@ -0,0 +1,180 @@\n+package com.hedera.mirror.grpc.jmeter;\n+\n+/*-\n+ * \u200c\n+ * Hedera Mirror Node\n+ * \u200b\n+ * Copyright (C) 2019 Hedera Hashgraph, LLC\n+ * \u200b\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \u200d\n+ */\n+\n+import io.r2dbc.postgresql.PostgresqlConnectionConfiguration;\n+import io.r2dbc.postgresql.PostgresqlConnectionFactory;\n+import io.r2dbc.postgresql.api.PostgresqlConnection;\n+import io.r2dbc.postgresql.api.PostgresqlStatement;\n+import java.time.Instant;\n+import java.time.temporal.ChronoUnit;\n+import java.util.concurrent.CountDownLatch;\n+import lombok.extern.log4j.Log4j2;\n+import org.springframework.data.r2dbc.core.DatabaseClient;\n+import org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy;\n+import org.springframework.data.r2dbc.dialect.PostgresDialect;\n+\n+import com.hedera.mirror.grpc.converter.InstantToLongConverter;\n+\n+@Log4j2\n+public class ConnectionHandler {\n+    private final InstantToLongConverter itlc = new InstantToLongConverter();\n+    private final PostgresqlConnection connection;\n+    private final String host;\n+    private final int port;\n+    private final String dbName;\n+    private final String dbUser;\n+    private final String dbPassword;\n+\n+    public ConnectionHandler(String hst, int prt, String dbn, String dbu, String dbp) {\n+        host = hst;\n+        port = prt;\n+        dbName = dbn;\n+        dbUser = dbu;\n+        dbPassword = dbp;\n+\n+        connection = getConnection();\n+    }\n+\n+    public PostgresqlConnectionFactory getConnectionFactory() {\n+        log.trace(\"Initialize connectionFactory\");\n+        PostgresqlConnectionFactory connectionFactory = new PostgresqlConnectionFactory(\n+                PostgresqlConnectionConfiguration.builder()\n+                        .host(host)\n+                        .port(port)\n+                        .username(dbUser)\n+                        .password(dbPassword)\n+                        .database(dbName)\n+                        .build());\n+\n+        return connectionFactory;\n+    }\n+\n+    public DatabaseClient getDatabaseClient() {\n+        log.trace(\"InitializedatabaseClient\");\n+        PostgresqlConnectionFactory connectionFactory = getConnectionFactory();\n+\n+        return DatabaseClient.builder()\n+                .connectionFactory(connectionFactory)\n+                .dataAccessStrategy(new DefaultReactiveDataAccessStrategy(PostgresDialect.INSTANCE))\n+                .build();\n+    }\n+\n+    public PostgresqlConnection getConnection() {\n+        log.info(\"Initialize PostgresqlConnection\");\n+        PostgresqlConnectionFactory connectionFactory = getConnectionFactory();\n+\n+        return connectionFactory.create().block();\n+    }\n+\n+    public void InsertTopicMessage(int newTopicsMessageCount, long tpcnm, Instant instantref, CountDownLatch latch,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1ab81c9da45934011a61390fb38d6b587624a95"}, "originalPosition": 88}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzUxNzMzMw==", "bodyText": "Updated", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r363517333", "createdAt": "2020-01-06T22:40:01Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/ConnectionHandler.java", "diffHunk": "@@ -0,0 +1,180 @@\n+package com.hedera.mirror.grpc.jmeter;\n+\n+/*-\n+ * \u200c\n+ * Hedera Mirror Node\n+ * \u200b\n+ * Copyright (C) 2019 Hedera Hashgraph, LLC\n+ * \u200b\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \u200d\n+ */\n+\n+import io.r2dbc.postgresql.PostgresqlConnectionConfiguration;\n+import io.r2dbc.postgresql.PostgresqlConnectionFactory;\n+import io.r2dbc.postgresql.api.PostgresqlConnection;\n+import io.r2dbc.postgresql.api.PostgresqlStatement;\n+import java.time.Instant;\n+import java.time.temporal.ChronoUnit;\n+import java.util.concurrent.CountDownLatch;\n+import lombok.extern.log4j.Log4j2;\n+import org.springframework.data.r2dbc.core.DatabaseClient;\n+import org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy;\n+import org.springframework.data.r2dbc.dialect.PostgresDialect;\n+\n+import com.hedera.mirror.grpc.converter.InstantToLongConverter;\n+\n+@Log4j2\n+public class ConnectionHandler {\n+    private final InstantToLongConverter itlc = new InstantToLongConverter();\n+    private final PostgresqlConnection connection;\n+    private final String host;\n+    private final int port;\n+    private final String dbName;\n+    private final String dbUser;\n+    private final String dbPassword;\n+\n+    public ConnectionHandler(String hst, int prt, String dbn, String dbu, String dbp) {\n+        host = hst;\n+        port = prt;\n+        dbName = dbn;\n+        dbUser = dbu;\n+        dbPassword = dbp;\n+\n+        connection = getConnection();\n+    }\n+\n+    public PostgresqlConnectionFactory getConnectionFactory() {\n+        log.trace(\"Initialize connectionFactory\");\n+        PostgresqlConnectionFactory connectionFactory = new PostgresqlConnectionFactory(\n+                PostgresqlConnectionConfiguration.builder()\n+                        .host(host)\n+                        .port(port)\n+                        .username(dbUser)\n+                        .password(dbPassword)\n+                        .database(dbName)\n+                        .build());\n+\n+        return connectionFactory;\n+    }\n+\n+    public DatabaseClient getDatabaseClient() {\n+        log.trace(\"InitializedatabaseClient\");\n+        PostgresqlConnectionFactory connectionFactory = getConnectionFactory();\n+\n+        return DatabaseClient.builder()\n+                .connectionFactory(connectionFactory)\n+                .dataAccessStrategy(new DefaultReactiveDataAccessStrategy(PostgresDialect.INSTANCE))\n+                .build();\n+    }\n+\n+    public PostgresqlConnection getConnection() {\n+        log.info(\"Initialize PostgresqlConnection\");\n+        PostgresqlConnectionFactory connectionFactory = getConnectionFactory();\n+\n+        return connectionFactory.create().block();\n+    }\n+\n+    public void InsertTopicMessage(int newTopicsMessageCount, long tpcnm, Instant instantref, CountDownLatch latch,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk1NTU3NQ=="}, "originalCommit": {"oid": "d1ab81c9da45934011a61390fb38d6b587624a95"}, "originalPosition": 88}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTMxNDQyOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/ConnectionHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMDo0NzowMVrOFaJESA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQwMDoxNjozOVrOFbnwCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk1NTg0OA==", "bodyText": "tpcnm? Please spell out variables. instantref should just be instant or something descriptive like startTime.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r362955848", "createdAt": "2020-01-03T20:47:01Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/ConnectionHandler.java", "diffHunk": "@@ -0,0 +1,180 @@\n+package com.hedera.mirror.grpc.jmeter;\n+\n+/*-\n+ * \u200c\n+ * Hedera Mirror Node\n+ * \u200b\n+ * Copyright (C) 2019 Hedera Hashgraph, LLC\n+ * \u200b\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \u200d\n+ */\n+\n+import io.r2dbc.postgresql.PostgresqlConnectionConfiguration;\n+import io.r2dbc.postgresql.PostgresqlConnectionFactory;\n+import io.r2dbc.postgresql.api.PostgresqlConnection;\n+import io.r2dbc.postgresql.api.PostgresqlStatement;\n+import java.time.Instant;\n+import java.time.temporal.ChronoUnit;\n+import java.util.concurrent.CountDownLatch;\n+import lombok.extern.log4j.Log4j2;\n+import org.springframework.data.r2dbc.core.DatabaseClient;\n+import org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy;\n+import org.springframework.data.r2dbc.dialect.PostgresDialect;\n+\n+import com.hedera.mirror.grpc.converter.InstantToLongConverter;\n+\n+@Log4j2\n+public class ConnectionHandler {\n+    private final InstantToLongConverter itlc = new InstantToLongConverter();\n+    private final PostgresqlConnection connection;\n+    private final String host;\n+    private final int port;\n+    private final String dbName;\n+    private final String dbUser;\n+    private final String dbPassword;\n+\n+    public ConnectionHandler(String hst, int prt, String dbn, String dbu, String dbp) {\n+        host = hst;\n+        port = prt;\n+        dbName = dbn;\n+        dbUser = dbu;\n+        dbPassword = dbp;\n+\n+        connection = getConnection();\n+    }\n+\n+    public PostgresqlConnectionFactory getConnectionFactory() {\n+        log.trace(\"Initialize connectionFactory\");\n+        PostgresqlConnectionFactory connectionFactory = new PostgresqlConnectionFactory(\n+                PostgresqlConnectionConfiguration.builder()\n+                        .host(host)\n+                        .port(port)\n+                        .username(dbUser)\n+                        .password(dbPassword)\n+                        .database(dbName)\n+                        .build());\n+\n+        return connectionFactory;\n+    }\n+\n+    public DatabaseClient getDatabaseClient() {\n+        log.trace(\"InitializedatabaseClient\");\n+        PostgresqlConnectionFactory connectionFactory = getConnectionFactory();\n+\n+        return DatabaseClient.builder()\n+                .connectionFactory(connectionFactory)\n+                .dataAccessStrategy(new DefaultReactiveDataAccessStrategy(PostgresDialect.INSTANCE))\n+                .build();\n+    }\n+\n+    public PostgresqlConnection getConnection() {\n+        log.info(\"Initialize PostgresqlConnection\");\n+        PostgresqlConnectionFactory connectionFactory = getConnectionFactory();\n+\n+        return connectionFactory.create().block();\n+    }\n+\n+    public void InsertTopicMessage(int newTopicsMessageCount, long tpcnm, Instant instantref, CountDownLatch latch,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1ab81c9da45934011a61390fb38d6b587624a95"}, "originalPosition": 88}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDUwNzE0Ng==", "bodyText": "Fixed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r364507146", "createdAt": "2020-01-09T00:16:39Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/ConnectionHandler.java", "diffHunk": "@@ -0,0 +1,180 @@\n+package com.hedera.mirror.grpc.jmeter;\n+\n+/*-\n+ * \u200c\n+ * Hedera Mirror Node\n+ * \u200b\n+ * Copyright (C) 2019 Hedera Hashgraph, LLC\n+ * \u200b\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \u200d\n+ */\n+\n+import io.r2dbc.postgresql.PostgresqlConnectionConfiguration;\n+import io.r2dbc.postgresql.PostgresqlConnectionFactory;\n+import io.r2dbc.postgresql.api.PostgresqlConnection;\n+import io.r2dbc.postgresql.api.PostgresqlStatement;\n+import java.time.Instant;\n+import java.time.temporal.ChronoUnit;\n+import java.util.concurrent.CountDownLatch;\n+import lombok.extern.log4j.Log4j2;\n+import org.springframework.data.r2dbc.core.DatabaseClient;\n+import org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy;\n+import org.springframework.data.r2dbc.dialect.PostgresDialect;\n+\n+import com.hedera.mirror.grpc.converter.InstantToLongConverter;\n+\n+@Log4j2\n+public class ConnectionHandler {\n+    private final InstantToLongConverter itlc = new InstantToLongConverter();\n+    private final PostgresqlConnection connection;\n+    private final String host;\n+    private final int port;\n+    private final String dbName;\n+    private final String dbUser;\n+    private final String dbPassword;\n+\n+    public ConnectionHandler(String hst, int prt, String dbn, String dbu, String dbp) {\n+        host = hst;\n+        port = prt;\n+        dbName = dbn;\n+        dbUser = dbu;\n+        dbPassword = dbp;\n+\n+        connection = getConnection();\n+    }\n+\n+    public PostgresqlConnectionFactory getConnectionFactory() {\n+        log.trace(\"Initialize connectionFactory\");\n+        PostgresqlConnectionFactory connectionFactory = new PostgresqlConnectionFactory(\n+                PostgresqlConnectionConfiguration.builder()\n+                        .host(host)\n+                        .port(port)\n+                        .username(dbUser)\n+                        .password(dbPassword)\n+                        .database(dbName)\n+                        .build());\n+\n+        return connectionFactory;\n+    }\n+\n+    public DatabaseClient getDatabaseClient() {\n+        log.trace(\"InitializedatabaseClient\");\n+        PostgresqlConnectionFactory connectionFactory = getConnectionFactory();\n+\n+        return DatabaseClient.builder()\n+                .connectionFactory(connectionFactory)\n+                .dataAccessStrategy(new DefaultReactiveDataAccessStrategy(PostgresDialect.INSTANCE))\n+                .build();\n+    }\n+\n+    public PostgresqlConnection getConnection() {\n+        log.info(\"Initialize PostgresqlConnection\");\n+        PostgresqlConnectionFactory connectionFactory = getConnectionFactory();\n+\n+        return connectionFactory.create().block();\n+    }\n+\n+    public void InsertTopicMessage(int newTopicsMessageCount, long tpcnm, Instant instantref, CountDownLatch latch,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk1NTg0OA=="}, "originalCommit": {"oid": "d1ab81c9da45934011a61390fb38d6b587624a95"}, "originalPosition": 88}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTMxNDk3OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/ConnectionHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMDo0NzoyMlrOFaJEow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQwMDoxNjo0NFrOFbnwJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk1NTkzOQ==", "bodyText": "Space", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r362955939", "createdAt": "2020-01-03T20:47:22Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/ConnectionHandler.java", "diffHunk": "@@ -0,0 +1,180 @@\n+package com.hedera.mirror.grpc.jmeter;\n+\n+/*-\n+ * \u200c\n+ * Hedera Mirror Node\n+ * \u200b\n+ * Copyright (C) 2019 Hedera Hashgraph, LLC\n+ * \u200b\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \u200d\n+ */\n+\n+import io.r2dbc.postgresql.PostgresqlConnectionConfiguration;\n+import io.r2dbc.postgresql.PostgresqlConnectionFactory;\n+import io.r2dbc.postgresql.api.PostgresqlConnection;\n+import io.r2dbc.postgresql.api.PostgresqlStatement;\n+import java.time.Instant;\n+import java.time.temporal.ChronoUnit;\n+import java.util.concurrent.CountDownLatch;\n+import lombok.extern.log4j.Log4j2;\n+import org.springframework.data.r2dbc.core.DatabaseClient;\n+import org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy;\n+import org.springframework.data.r2dbc.dialect.PostgresDialect;\n+\n+import com.hedera.mirror.grpc.converter.InstantToLongConverter;\n+\n+@Log4j2\n+public class ConnectionHandler {\n+    private final InstantToLongConverter itlc = new InstantToLongConverter();\n+    private final PostgresqlConnection connection;\n+    private final String host;\n+    private final int port;\n+    private final String dbName;\n+    private final String dbUser;\n+    private final String dbPassword;\n+\n+    public ConnectionHandler(String hst, int prt, String dbn, String dbu, String dbp) {\n+        host = hst;\n+        port = prt;\n+        dbName = dbn;\n+        dbUser = dbu;\n+        dbPassword = dbp;\n+\n+        connection = getConnection();\n+    }\n+\n+    public PostgresqlConnectionFactory getConnectionFactory() {\n+        log.trace(\"Initialize connectionFactory\");\n+        PostgresqlConnectionFactory connectionFactory = new PostgresqlConnectionFactory(\n+                PostgresqlConnectionConfiguration.builder()\n+                        .host(host)\n+                        .port(port)\n+                        .username(dbUser)\n+                        .password(dbPassword)\n+                        .database(dbName)\n+                        .build());\n+\n+        return connectionFactory;\n+    }\n+\n+    public DatabaseClient getDatabaseClient() {\n+        log.trace(\"InitializedatabaseClient\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d1ab81c9da45934011a61390fb38d6b587624a95"}, "originalPosition": 72}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDUwNzE3Mg==", "bodyText": "Changed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r364507172", "createdAt": "2020-01-09T00:16:44Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/ConnectionHandler.java", "diffHunk": "@@ -0,0 +1,180 @@\n+package com.hedera.mirror.grpc.jmeter;\n+\n+/*-\n+ * \u200c\n+ * Hedera Mirror Node\n+ * \u200b\n+ * Copyright (C) 2019 Hedera Hashgraph, LLC\n+ * \u200b\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \u200d\n+ */\n+\n+import io.r2dbc.postgresql.PostgresqlConnectionConfiguration;\n+import io.r2dbc.postgresql.PostgresqlConnectionFactory;\n+import io.r2dbc.postgresql.api.PostgresqlConnection;\n+import io.r2dbc.postgresql.api.PostgresqlStatement;\n+import java.time.Instant;\n+import java.time.temporal.ChronoUnit;\n+import java.util.concurrent.CountDownLatch;\n+import lombok.extern.log4j.Log4j2;\n+import org.springframework.data.r2dbc.core.DatabaseClient;\n+import org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy;\n+import org.springframework.data.r2dbc.dialect.PostgresDialect;\n+\n+import com.hedera.mirror.grpc.converter.InstantToLongConverter;\n+\n+@Log4j2\n+public class ConnectionHandler {\n+    private final InstantToLongConverter itlc = new InstantToLongConverter();\n+    private final PostgresqlConnection connection;\n+    private final String host;\n+    private final int port;\n+    private final String dbName;\n+    private final String dbUser;\n+    private final String dbPassword;\n+\n+    public ConnectionHandler(String hst, int prt, String dbn, String dbu, String dbp) {\n+        host = hst;\n+        port = prt;\n+        dbName = dbn;\n+        dbUser = dbu;\n+        dbPassword = dbp;\n+\n+        connection = getConnection();\n+    }\n+\n+    public PostgresqlConnectionFactory getConnectionFactory() {\n+        log.trace(\"Initialize connectionFactory\");\n+        PostgresqlConnectionFactory connectionFactory = new PostgresqlConnectionFactory(\n+                PostgresqlConnectionConfiguration.builder()\n+                        .host(host)\n+                        .port(port)\n+                        .username(dbUser)\n+                        .password(dbPassword)\n+                        .database(dbName)\n+                        .build());\n+\n+        return connectionFactory;\n+    }\n+\n+    public DatabaseClient getDatabaseClient() {\n+        log.trace(\"InitializedatabaseClient\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk1NTkzOQ=="}, "originalCommit": {"oid": "d1ab81c9da45934011a61390fb38d6b587624a95"}, "originalPosition": 72}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTM1Mzk0OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-perf/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMToxMDowM1rOFaJdPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQyMjoyMzozN1rOFblr1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk2MjIzOA==", "bodyText": "Remove", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r362962238", "createdAt": "2020-01-03T21:10:03Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-perf/pom.xml", "diffHunk": "@@ -0,0 +1,150 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <groupId>com.hedera</groupId>\n+        <version>0.5.0</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>hedera-mirror-perf</artifactId>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>com.hedera</groupId>\n+            <artifactId>hedera-mirror-grpc</artifactId>\n+            <version>${project.version}</version>\n+        </dependency>\n+    </dependencies>\n+\n+    <build>\n+        <extensions>\n+            <extension>\n+                <groupId>kr.motd.maven</groupId>\n+                <artifactId>os-maven-plugin</artifactId>\n+                <version>1.6.2</version>\n+            </extension>\n+        </extensions>\n+        <plugins>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-install-plugin</artifactId>\n+                <configuration>\n+                    <groupId>com.hedera</groupId>\n+                    <artifactId>hedera-mirror-grpc-sampler</artifactId>\n+                    <version>${project.version}</version>\n+                    <packaging>jar</packaging>\n+                    <file>${project.basedir}/../hedera-mirror-grpc/target/hedera-mirror-grpc-${project.version}-tests.jar\n+                    </file>\n+                    <generatePom>true</generatePom>\n+                </configuration>\n+                <executions>\n+                    <execution>\n+                        <id>install-jar-lib</id>\n+                        <goals>\n+                            <goal>install-file</goal>\n+                        </goals>\n+                        <phase>validate</phase>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+            <plugin>\n+                <groupId>com.google.cloud.tools</groupId>\n+                <artifactId>jib-maven-plugin</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDQ3MzMwMQ==", "bodyText": "Removed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r364473301", "createdAt": "2020-01-08T22:23:37Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-perf/pom.xml", "diffHunk": "@@ -0,0 +1,150 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <groupId>com.hedera</groupId>\n+        <version>0.5.0</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>hedera-mirror-perf</artifactId>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>com.hedera</groupId>\n+            <artifactId>hedera-mirror-grpc</artifactId>\n+            <version>${project.version}</version>\n+        </dependency>\n+    </dependencies>\n+\n+    <build>\n+        <extensions>\n+            <extension>\n+                <groupId>kr.motd.maven</groupId>\n+                <artifactId>os-maven-plugin</artifactId>\n+                <version>1.6.2</version>\n+            </extension>\n+        </extensions>\n+        <plugins>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-install-plugin</artifactId>\n+                <configuration>\n+                    <groupId>com.hedera</groupId>\n+                    <artifactId>hedera-mirror-grpc-sampler</artifactId>\n+                    <version>${project.version}</version>\n+                    <packaging>jar</packaging>\n+                    <file>${project.basedir}/../hedera-mirror-grpc/target/hedera-mirror-grpc-${project.version}-tests.jar\n+                    </file>\n+                    <generatePom>true</generatePom>\n+                </configuration>\n+                <executions>\n+                    <execution>\n+                        <id>install-jar-lib</id>\n+                        <goals>\n+                            <goal>install-file</goal>\n+                        </goals>\n+                        <phase>validate</phase>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+            <plugin>\n+                <groupId>com.google.cloud.tools</groupId>\n+                <artifactId>jib-maven-plugin</artifactId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk2MjIzOA=="}, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 55}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTM1NDMyOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-perf/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMToxMDoxOFrOFaJddA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQyMjoyMzoyNFrOFblrkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk2MjI5Mg==", "bodyText": "Is jmeter plugin really using this?", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r362962292", "createdAt": "2020-01-03T21:10:18Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-perf/pom.xml", "diffHunk": "@@ -0,0 +1,150 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <groupId>com.hedera</groupId>\n+        <version>0.5.0</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>hedera-mirror-perf</artifactId>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>com.hedera</groupId>\n+            <artifactId>hedera-mirror-grpc</artifactId>\n+            <version>${project.version}</version>\n+        </dependency>\n+    </dependencies>\n+\n+    <build>\n+        <extensions>\n+            <extension>\n+                <groupId>kr.motd.maven</groupId>\n+                <artifactId>os-maven-plugin</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDQ3MzIzMw==", "bodyText": "Nope. Will remove.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r364473233", "createdAt": "2020-01-08T22:23:24Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-perf/pom.xml", "diffHunk": "@@ -0,0 +1,150 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <groupId>com.hedera</groupId>\n+        <version>0.5.0</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>hedera-mirror-perf</artifactId>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>com.hedera</groupId>\n+            <artifactId>hedera-mirror-grpc</artifactId>\n+            <version>${project.version}</version>\n+        </dependency>\n+    </dependencies>\n+\n+    <build>\n+        <extensions>\n+            <extension>\n+                <groupId>kr.motd.maven</groupId>\n+                <artifactId>os-maven-plugin</artifactId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk2MjI5Mg=="}, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTM2MDA4OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-perf/README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMToxMzozOVrOFaJg_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQwMDoxMzo0NFrOFbntMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk2MzE5Nw==", "bodyText": "Remove remainder of file contents", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r362963197", "createdAt": "2020-01-03T21:13:39Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-perf/README.md", "diffHunk": "@@ -0,0 +1,47 @@\n+# Load Testing of Hedera Mirror Node\n+\n+This code runs performance load tests against Mirror Node Modules.\n+\n+## Overview\n+\n+## jMeter\n+\n+#### gRPC Load Testing:\n+\n+Java based ...\n+\n+-   Build hedera-miror-grpc module\n+-   Copy hedera-mirror-grpc-hcs-0.1.0-rc1-tests.jar to jmeter /lib/ext folder. In my case i installed jmeter using brew and it could be found under /usr/local/Cellar/jmeter/5.2.1/libexec/lib/ext\n+-   Copy the following external dependencies\n+-           whatalokation-grpc-client.jar, r2dbc-spi-0.8.0.RELEASE.jar, spring-data-r2dbc-1.0.0.RELEASE.jar, spring-data-relational-1.1.1.RELEASE.jar\n+-   Open jMeter with 'open /usr/local/bin/jmeter' from terminal\n+-   Add a Thread Group and then a Java Request in jMeter. Following this select the test jar loaded and specify desired test params. Logic follow - https://jmeter.apache.org/usermanual/component_reference.html#Java_Request\n+-   Save test and copy resulting .jmx file to hedera-mirror-perf/src/test/jmeter/ location\n+-   Startup database and grpc modules, either thorugh docker-compose or through spring-boot\n+-   Run 'mvn -U clean verify' under hedera-mirror-perf/ module to kickoff the verify stage in the perf module where the performance tests are run\n+\n+#### gRPC Load Testing Using Gatling:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDUwNjQxOA==", "bodyText": "Done", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r364506418", "createdAt": "2020-01-09T00:13:44Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-perf/README.md", "diffHunk": "@@ -0,0 +1,47 @@\n+# Load Testing of Hedera Mirror Node\n+\n+This code runs performance load tests against Mirror Node Modules.\n+\n+## Overview\n+\n+## jMeter\n+\n+#### gRPC Load Testing:\n+\n+Java based ...\n+\n+-   Build hedera-miror-grpc module\n+-   Copy hedera-mirror-grpc-hcs-0.1.0-rc1-tests.jar to jmeter /lib/ext folder. In my case i installed jmeter using brew and it could be found under /usr/local/Cellar/jmeter/5.2.1/libexec/lib/ext\n+-   Copy the following external dependencies\n+-           whatalokation-grpc-client.jar, r2dbc-spi-0.8.0.RELEASE.jar, spring-data-r2dbc-1.0.0.RELEASE.jar, spring-data-relational-1.1.1.RELEASE.jar\n+-   Open jMeter with 'open /usr/local/bin/jmeter' from terminal\n+-   Add a Thread Group and then a Java Request in jMeter. Following this select the test jar loaded and specify desired test params. Logic follow - https://jmeter.apache.org/usermanual/component_reference.html#Java_Request\n+-   Save test and copy resulting .jmx file to hedera-mirror-perf/src/test/jmeter/ location\n+-   Startup database and grpc modules, either thorugh docker-compose or through spring-boot\n+-   Run 'mvn -U clean verify' under hedera-mirror-perf/ module to kickoff the verify stage in the perf module where the performance tests are run\n+\n+#### gRPC Load Testing Using Gatling:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk2MzE5Nw=="}, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTM3NzM0OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-perf/README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMToyNDoxNlrOFaJr9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQwMDoxNjo1OVrOFbnwZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk2NjAwNw==", "bodyText": "Convert this to actual sequence of commands:\n$ ./mvnw clean package -DskipTests\n$ cp hedera-mirror-grpc/target/...\nOr separate commands with comments between", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r362966007", "createdAt": "2020-01-03T21:24:16Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-perf/README.md", "diffHunk": "@@ -0,0 +1,47 @@\n+# Load Testing of Hedera Mirror Node\n+\n+This code runs performance load tests against Mirror Node Modules.\n+\n+## Overview\n+\n+## jMeter\n+\n+#### gRPC Load Testing:\n+\n+Java based ...\n+\n+-   Build hedera-miror-grpc module", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDUwNzIzOQ==", "bodyText": "Done", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r364507239", "createdAt": "2020-01-09T00:16:59Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-perf/README.md", "diffHunk": "@@ -0,0 +1,47 @@\n+# Load Testing of Hedera Mirror Node\n+\n+This code runs performance load tests against Mirror Node Modules.\n+\n+## Overview\n+\n+## jMeter\n+\n+#### gRPC Load Testing:\n+\n+Java based ...\n+\n+-   Build hedera-miror-grpc module", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk2NjAwNw=="}, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTM3NzgwOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-perf/README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMToyNDozNVrOFaJsQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQyMjoyMTo1OVrOFblpew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk2NjA4MA==", "bodyText": "Performance Testing", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r362966080", "createdAt": "2020-01-03T21:24:35Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-perf/README.md", "diffHunk": "@@ -0,0 +1,47 @@\n+# Load Testing of Hedera Mirror Node", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDQ3MjY5OQ==", "bodyText": "Changed", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r364472699", "createdAt": "2020-01-08T22:21:59Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-perf/README.md", "diffHunk": "@@ -0,0 +1,47 @@\n+# Load Testing of Hedera Mirror Node", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk2NjA4MA=="}, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTUxNTE5OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-perf/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMjo1MzowOFrOFaK_Jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQyMjowNDo0NlrOFblQGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4NzMwMw==", "bodyText": "These are not maintainable. There's already some spring versions in here that are 5.2.2 and other 5.2.0. At a minimum, use the properties provided by Spring Boot to keep versions in sync. Second, there should be a way to not have to declare transitive dependencies.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r362987303", "createdAt": "2020-01-03T22:53:08Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-perf/pom.xml", "diffHunk": "@@ -0,0 +1,150 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <groupId>com.hedera</groupId>\n+        <version>0.5.0</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>hedera-mirror-perf</artifactId>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>com.hedera</groupId>\n+            <artifactId>hedera-mirror-grpc</artifactId>\n+            <version>${project.version}</version>\n+        </dependency>\n+    </dependencies>\n+\n+    <build>\n+        <extensions>\n+            <extension>\n+                <groupId>kr.motd.maven</groupId>\n+                <artifactId>os-maven-plugin</artifactId>\n+                <version>1.6.2</version>\n+            </extension>\n+        </extensions>\n+        <plugins>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-install-plugin</artifactId>\n+                <configuration>\n+                    <groupId>com.hedera</groupId>\n+                    <artifactId>hedera-mirror-grpc-sampler</artifactId>\n+                    <version>${project.version}</version>\n+                    <packaging>jar</packaging>\n+                    <file>${project.basedir}/../hedera-mirror-grpc/target/hedera-mirror-grpc-${project.version}-tests.jar\n+                    </file>\n+                    <generatePom>true</generatePom>\n+                </configuration>\n+                <executions>\n+                    <execution>\n+                        <id>install-jar-lib</id>\n+                        <goals>\n+                            <goal>install-file</goal>\n+                        </goals>\n+                        <phase>validate</phase>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+            <plugin>\n+                <groupId>com.google.cloud.tools</groupId>\n+                <artifactId>jib-maven-plugin</artifactId>\n+            </plugin>\n+            <plugin>\n+                <groupId>com.lazerycode.jmeter</groupId>\n+                <artifactId>jmeter-maven-plugin</artifactId>\n+                <version>3.0.0</version>\n+                <executions>\n+                    <!-- Generate JMeter configuration -->\n+                    <execution>\n+                        <id>configuration</id>\n+                        <goals>\n+                            <goal>configure</goal>\n+                        </goals>\n+                    </execution>\n+                    <!-- Run JMeter tests -->\n+                    <execution>\n+                        <id>jmeter-tests</id>\n+                        <phase>verify</phase>\n+                        <goals>\n+                            <goal>jmeter</goal>\n+                        </goals>\n+                    </execution>\n+                    <!-- Fail build on errors in test -->\n+                    <execution>\n+                        <id>jmeter-check-results</id>\n+                        <goals>\n+                            <goal>results</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n+                <configuration>\n+                    <generateReports>true</generateReports>\n+                    <errorRateThresholdInPercent>25</errorRateThresholdInPercent>\n+                    <jmeterExtensions>\n+                        <artifact>kg.apc:jmeter-plugins-json:jar:2.6</artifact>\n+                        <artifact>kg.apc:jmeter-plugins-manager:0.19</artifact>\n+                        <artifact>kg.apc:jmeter-plugins-extras-libs:1.4.0</artifact>\n+                        <artifact>kg.apc:jmeter-plugins-casutg:2.6</artifact>\n+                        <artifact>io.opencensus:opencensus-api:0.24.0</artifact>\n+                        <artifact>io.opencensus:opencensus-contrib-grpc-metrics:0.24.0</artifact>\n+                        <artifact>io.grpc:grpc-core:${grpc.version}</artifact>\n+                        <artifact>io.grpc:grpc-api:${grpc.version}</artifact>\n+                        <artifact>io.grpc:grpc-netty:${grpc.version}</artifact>\n+                        <artifact>io.grpc:grpc-protobuf:${grpc.version}</artifact>\n+                        <artifact>io.grpc:grpc-stub:${grpc.version}</artifact>\n+                        <artifact>io.grpc:grpc-protobuf-lite:${grpc.version}</artifact>\n+                        <artifact>io.grpc:grpc-context:${grpc.version}</artifact>\n+                        <artifact>io.netty:netty-all:4.1.25.Final</artifact>\n+                        <artifact>com.google.guava:guava:28.1-jre</artifact>\n+                        <artifact>com.google.protobuf:protobuf-java:3.11.1</artifact>\n+                        <artifact>org.apache.jmeter:ApacheJMeter_core:5.2.1</artifact>\n+                        <artifact>io.perfmark:perfmark-api:0.20.1</artifact>\n+                        <artifact>org.reactivestreams:reactive-streams:1.0.3</artifact>\n+                        <artifact>org.projectlombok:lombok:1.18.10</artifact>\n+                        <artifact>io.r2dbc:r2dbc-spi:0.8.0.RELEASE</artifact>\n+                        <artifact>io.r2dbc:r2dbc-postgresql:0.8.0.RELEASE</artifact>\n+                        <artifact>org.springframework.data:spring-data-r2dbc:1.0.0.RELEASE</artifact>\n+                        <artifact>org.springframework.data:spring-data-relational:1.1.3.RELEASE</artifact>\n+                        <artifact>org.springframework.data:spring-data-commons:2.2.3.RELEASE</artifact>\n+                        <artifact>org.springframework:spring-core:5.2.2.RELEASE</artifact>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 114}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDQ2NjIwMw==", "bodyText": "Agreed, will version the spring ones as I did with the GRPC ones.\nI'll look to see if I can remove a lot of these and look more into something that gets all the transitive dependencies. It was a costing process to figure them all out so I'd prefer a ticket to come back to this later.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r364466203", "createdAt": "2020-01-08T22:04:46Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-perf/pom.xml", "diffHunk": "@@ -0,0 +1,150 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <groupId>com.hedera</groupId>\n+        <version>0.5.0</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>hedera-mirror-perf</artifactId>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>com.hedera</groupId>\n+            <artifactId>hedera-mirror-grpc</artifactId>\n+            <version>${project.version}</version>\n+        </dependency>\n+    </dependencies>\n+\n+    <build>\n+        <extensions>\n+            <extension>\n+                <groupId>kr.motd.maven</groupId>\n+                <artifactId>os-maven-plugin</artifactId>\n+                <version>1.6.2</version>\n+            </extension>\n+        </extensions>\n+        <plugins>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-install-plugin</artifactId>\n+                <configuration>\n+                    <groupId>com.hedera</groupId>\n+                    <artifactId>hedera-mirror-grpc-sampler</artifactId>\n+                    <version>${project.version}</version>\n+                    <packaging>jar</packaging>\n+                    <file>${project.basedir}/../hedera-mirror-grpc/target/hedera-mirror-grpc-${project.version}-tests.jar\n+                    </file>\n+                    <generatePom>true</generatePom>\n+                </configuration>\n+                <executions>\n+                    <execution>\n+                        <id>install-jar-lib</id>\n+                        <goals>\n+                            <goal>install-file</goal>\n+                        </goals>\n+                        <phase>validate</phase>\n+                    </execution>\n+                </executions>\n+            </plugin>\n+            <plugin>\n+                <groupId>com.google.cloud.tools</groupId>\n+                <artifactId>jib-maven-plugin</artifactId>\n+            </plugin>\n+            <plugin>\n+                <groupId>com.lazerycode.jmeter</groupId>\n+                <artifactId>jmeter-maven-plugin</artifactId>\n+                <version>3.0.0</version>\n+                <executions>\n+                    <!-- Generate JMeter configuration -->\n+                    <execution>\n+                        <id>configuration</id>\n+                        <goals>\n+                            <goal>configure</goal>\n+                        </goals>\n+                    </execution>\n+                    <!-- Run JMeter tests -->\n+                    <execution>\n+                        <id>jmeter-tests</id>\n+                        <phase>verify</phase>\n+                        <goals>\n+                            <goal>jmeter</goal>\n+                        </goals>\n+                    </execution>\n+                    <!-- Fail build on errors in test -->\n+                    <execution>\n+                        <id>jmeter-check-results</id>\n+                        <goals>\n+                            <goal>results</goal>\n+                        </goals>\n+                    </execution>\n+                </executions>\n+                <configuration>\n+                    <generateReports>true</generateReports>\n+                    <errorRateThresholdInPercent>25</errorRateThresholdInPercent>\n+                    <jmeterExtensions>\n+                        <artifact>kg.apc:jmeter-plugins-json:jar:2.6</artifact>\n+                        <artifact>kg.apc:jmeter-plugins-manager:0.19</artifact>\n+                        <artifact>kg.apc:jmeter-plugins-extras-libs:1.4.0</artifact>\n+                        <artifact>kg.apc:jmeter-plugins-casutg:2.6</artifact>\n+                        <artifact>io.opencensus:opencensus-api:0.24.0</artifact>\n+                        <artifact>io.opencensus:opencensus-contrib-grpc-metrics:0.24.0</artifact>\n+                        <artifact>io.grpc:grpc-core:${grpc.version}</artifact>\n+                        <artifact>io.grpc:grpc-api:${grpc.version}</artifact>\n+                        <artifact>io.grpc:grpc-netty:${grpc.version}</artifact>\n+                        <artifact>io.grpc:grpc-protobuf:${grpc.version}</artifact>\n+                        <artifact>io.grpc:grpc-stub:${grpc.version}</artifact>\n+                        <artifact>io.grpc:grpc-protobuf-lite:${grpc.version}</artifact>\n+                        <artifact>io.grpc:grpc-context:${grpc.version}</artifact>\n+                        <artifact>io.netty:netty-all:4.1.25.Final</artifact>\n+                        <artifact>com.google.guava:guava:28.1-jre</artifact>\n+                        <artifact>com.google.protobuf:protobuf-java:3.11.1</artifact>\n+                        <artifact>org.apache.jmeter:ApacheJMeter_core:5.2.1</artifact>\n+                        <artifact>io.perfmark:perfmark-api:0.20.1</artifact>\n+                        <artifact>org.reactivestreams:reactive-streams:1.0.3</artifact>\n+                        <artifact>org.projectlombok:lombok:1.18.10</artifact>\n+                        <artifact>io.r2dbc:r2dbc-spi:0.8.0.RELEASE</artifact>\n+                        <artifact>io.r2dbc:r2dbc-postgresql:0.8.0.RELEASE</artifact>\n+                        <artifact>org.springframework.data:spring-data-r2dbc:1.0.0.RELEASE</artifact>\n+                        <artifact>org.springframework.data:spring-data-relational:1.1.3.RELEASE</artifact>\n+                        <artifact>org.springframework.data:spring-data-commons:2.2.3.RELEASE</artifact>\n+                        <artifact>org.springframework:spring-core:5.2.2.RELEASE</artifact>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4NzMwMw=="}, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 114}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTUxODkxOnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMjo1NjowOFrOFaLBgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQyMzo1NzoxNVrOFbncxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4NzkwNA==", "bodyText": "I would prefer hedera-mirror-test. We could maybe consolidate datagenerator to it in the future or maybe put non-performance cross-module tests in here too later.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r362987904", "createdAt": "2020-01-03T22:56:08Z", "author": {"login": "steven-sheehy"}, "path": "pom.xml", "diffHunk": "@@ -37,6 +37,7 @@\n         <module>hedera-mirror-importer</module>\n         <module>hedera-mirror-protobuf</module>\n         <module>hedera-mirror-rest</module>\n+        <module>hedera-mirror-perf</module>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDQ2NjUyNQ==", "bodyText": "Test seems too general to me. You'd name a module that if it was responsible for say unit or component testing other modules. In this case it's specifically for performance scenarios i.e. large data loads, stress tests. Performance seems like the right umbrella.\nHowever, I do agree we could consolidate data generator with this since again it touches on performance testing", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r364466525", "createdAt": "2020-01-08T22:05:43Z", "author": {"login": "Nana-EC"}, "path": "pom.xml", "diffHunk": "@@ -37,6 +37,7 @@\n         <module>hedera-mirror-importer</module>\n         <module>hedera-mirror-protobuf</module>\n         <module>hedera-mirror-rest</module>\n+        <module>hedera-mirror-perf</module>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4NzkwNA=="}, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDQ3NjI2MQ==", "bodyText": "The name suites the current perf only tests, but what about if we add system tests here?", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r364476261", "createdAt": "2020-01-08T22:31:56Z", "author": {"login": "steven-sheehy"}, "path": "pom.xml", "diffHunk": "@@ -37,6 +37,7 @@\n         <module>hedera-mirror-importer</module>\n         <module>hedera-mirror-protobuf</module>\n         <module>hedera-mirror-rest</module>\n+        <module>hedera-mirror-perf</module>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4NzkwNA=="}, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDUwMjIxNA==", "bodyText": "Fair enough, will rename to hedera-mirror-test", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r364502214", "createdAt": "2020-01-08T23:57:15Z", "author": {"login": "Nana-EC"}, "path": "pom.xml", "diffHunk": "@@ -37,6 +37,7 @@\n         <module>hedera-mirror-importer</module>\n         <module>hedera-mirror-protobuf</module>\n         <module>hedera-mirror-rest</module>\n+        <module>hedera-mirror-perf</module>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4NzkwNA=="}, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTUyMDA4OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-perf/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMjo1Njo1NlrOFaLCGg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOFQyMjoxODo0MlrOFblkqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4ODA1OA==", "bodyText": "This shouldn't be needed. Just declare a dependency on hedera-mirror-grpc with a classifier of tests", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r362988058", "createdAt": "2020-01-03T22:56:56Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-perf/pom.xml", "diffHunk": "@@ -0,0 +1,150 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <groupId>com.hedera</groupId>\n+        <version>0.5.0</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>hedera-mirror-perf</artifactId>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>com.hedera</groupId>\n+            <artifactId>hedera-mirror-grpc</artifactId>\n+            <version>${project.version}</version>\n+        </dependency>\n+    </dependencies>\n+\n+    <build>\n+        <extensions>\n+            <extension>\n+                <groupId>kr.motd.maven</groupId>\n+                <artifactId>os-maven-plugin</artifactId>\n+                <version>1.6.2</version>\n+            </extension>\n+        </extensions>\n+        <plugins>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-install-plugin</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDQ3MTQ2NA==", "bodyText": "Agreed however, the artifact under jmeterExtensions doesn't seem to be able to pick that up. Will come back to this along with the artifact props below", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r364471464", "createdAt": "2020-01-08T22:18:42Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-perf/pom.xml", "diffHunk": "@@ -0,0 +1,150 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+         xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+    <parent>\n+        <artifactId>hedera-mirror-node</artifactId>\n+        <groupId>com.hedera</groupId>\n+        <version>0.5.0</version>\n+    </parent>\n+    <modelVersion>4.0.0</modelVersion>\n+\n+    <artifactId>hedera-mirror-perf</artifactId>\n+\n+    <dependencies>\n+        <dependency>\n+            <groupId>com.hedera</groupId>\n+            <artifactId>hedera-mirror-grpc</artifactId>\n+            <version>${project.version}</version>\n+        </dependency>\n+    </dependencies>\n+\n+    <build>\n+        <extensions>\n+            <extension>\n+                <groupId>kr.motd.maven</groupId>\n+                <artifactId>os-maven-plugin</artifactId>\n+                <version>1.6.2</version>\n+            </extension>\n+        </extensions>\n+        <plugins>\n+            <plugin>\n+                <groupId>org.apache.maven.plugins</groupId>\n+                <artifactId>maven-install-plugin</artifactId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4ODA1OA=="}, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTUyMDczOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-perf/README.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMjo1NzoyN1rOFaLChQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQyMjozOTo1NlrOFarVfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4ODE2NQ==", "bodyText": "These sections should be simplified to 2 sections: test creation and test execution. I don't think it needs to be GRPC specific as we'll eventually run all modules with a single command", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r362988165", "createdAt": "2020-01-03T22:57:27Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-perf/README.md", "diffHunk": "@@ -0,0 +1,47 @@\n+# Load Testing of Hedera Mirror Node\n+\n+This code runs performance load tests against Mirror Node Modules.\n+\n+## Overview", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzUxNzMwOA==", "bodyText": "Updated.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r363517308", "createdAt": "2020-01-06T22:39:56Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-perf/README.md", "diffHunk": "@@ -0,0 +1,47 @@\n+# Load Testing of Hedera Mirror Node\n+\n+This code runs performance load tests against Mirror Node Modules.\n+\n+## Overview", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4ODE2NQ=="}, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTUyMjk2OnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/TopicMessageGeneratorSampler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMjo1OTowN1rOFaLD0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQyMDoxNzowNFrOFaoHlA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4ODQ5Ng==", "bodyText": "Spell out variables. Use this.threadNum = threadNum; for assignments", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r362988496", "createdAt": "2020-01-03T22:59:07Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/TopicMessageGeneratorSampler.java", "diffHunk": "@@ -0,0 +1,102 @@\n+package com.hedera.mirror.grpc.jmeter.sampler;\n+\n+/*-\n+ * \u200c\n+ * Hedera Mirror Node\n+ * \u200b\n+ * Copyright (C) 2019 Hedera Hashgraph, LLC\n+ * \u200b\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \u200d\n+ */\n+\n+import java.time.Instant;\n+import java.time.temporal.ChronoUnit;\n+import java.util.concurrent.CountDownLatch;\n+import lombok.extern.log4j.Log4j2;\n+\n+import com.hedera.mirror.grpc.jmeter.ConnectionHandler;\n+\n+@Log4j2\n+public class TopicMessageGeneratorSampler {\n+    private final ConnectionHandler connectionHandler;\n+    private final int threadNum;\n+\n+    public TopicMessageGeneratorSampler(ConnectionHandler connectionHndler, int thrdNum) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQ2NDU5Ng==", "bodyText": "Done", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r363464596", "createdAt": "2020-01-06T20:17:04Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/TopicMessageGeneratorSampler.java", "diffHunk": "@@ -0,0 +1,102 @@\n+package com.hedera.mirror.grpc.jmeter.sampler;\n+\n+/*-\n+ * \u200c\n+ * Hedera Mirror Node\n+ * \u200b\n+ * Copyright (C) 2019 Hedera Hashgraph, LLC\n+ * \u200b\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \u200d\n+ */\n+\n+import java.time.Instant;\n+import java.time.temporal.ChronoUnit;\n+import java.util.concurrent.CountDownLatch;\n+import lombok.extern.log4j.Log4j2;\n+\n+import com.hedera.mirror.grpc.jmeter.ConnectionHandler;\n+\n+@Log4j2\n+public class TopicMessageGeneratorSampler {\n+    private final ConnectionHandler connectionHandler;\n+    private final int threadNum;\n+\n+    public TopicMessageGeneratorSampler(ConnectionHandler connectionHndler, int thrdNum) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4ODQ5Ng=="}, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTUyNDAxOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/TopicMessageGeneratorSampler.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMjo1OTo0NFrOFaLEZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQyMDoxNzoyNlrOFaoIEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4ODY0Nw==", "bodyText": "What's THRD? Thread name/num should already be printed by log4j2.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r362988647", "createdAt": "2020-01-03T22:59:44Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/TopicMessageGeneratorSampler.java", "diffHunk": "@@ -0,0 +1,102 @@\n+package com.hedera.mirror.grpc.jmeter.sampler;\n+\n+/*-\n+ * \u200c\n+ * Hedera Mirror Node\n+ * \u200b\n+ * Copyright (C) 2019 Hedera Hashgraph, LLC\n+ * \u200b\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \u200d\n+ */\n+\n+import java.time.Instant;\n+import java.time.temporal.ChronoUnit;\n+import java.util.concurrent.CountDownLatch;\n+import lombok.extern.log4j.Log4j2;\n+\n+import com.hedera.mirror.grpc.jmeter.ConnectionHandler;\n+\n+@Log4j2\n+public class TopicMessageGeneratorSampler {\n+    private final ConnectionHandler connectionHandler;\n+    private final int threadNum;\n+\n+    public TopicMessageGeneratorSampler(ConnectionHandler connectionHndler, int thrdNum) {\n+        connectionHandler = connectionHndler;\n+        threadNum = thrdNum;\n+    }\n+\n+    public String populateTopicMessages(long topicNum, int historicalMessageCount, int futureMessageCount,\n+                                        long newTopicsMessageDelay, long delSeqFrom) throws InterruptedException {\n+        log.info(\"THRD {} : Running TopicMessageGenerator Sampler populateTopicMessages topicNum : {}, \" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzE4MDA0Mw==", "bodyText": "Just a shorted version of \"Thread\". jMeter has it's own logic to create logs, the Log4j2 pattern isn't honoured. You have to programmatically get the thread name if you want it.\nThis helps differentiate the log details amongst thread in the test results .log file.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r363180043", "createdAt": "2020-01-06T07:11:17Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/TopicMessageGeneratorSampler.java", "diffHunk": "@@ -0,0 +1,102 @@\n+package com.hedera.mirror.grpc.jmeter.sampler;\n+\n+/*-\n+ * \u200c\n+ * Hedera Mirror Node\n+ * \u200b\n+ * Copyright (C) 2019 Hedera Hashgraph, LLC\n+ * \u200b\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \u200d\n+ */\n+\n+import java.time.Instant;\n+import java.time.temporal.ChronoUnit;\n+import java.util.concurrent.CountDownLatch;\n+import lombok.extern.log4j.Log4j2;\n+\n+import com.hedera.mirror.grpc.jmeter.ConnectionHandler;\n+\n+@Log4j2\n+public class TopicMessageGeneratorSampler {\n+    private final ConnectionHandler connectionHandler;\n+    private final int threadNum;\n+\n+    public TopicMessageGeneratorSampler(ConnectionHandler connectionHndler, int thrdNum) {\n+        connectionHandler = connectionHndler;\n+        threadNum = thrdNum;\n+    }\n+\n+    public String populateTopicMessages(long topicNum, int historicalMessageCount, int futureMessageCount,\n+                                        long newTopicsMessageDelay, long delSeqFrom) throws InterruptedException {\n+        log.info(\"THRD {} : Running TopicMessageGenerator Sampler populateTopicMessages topicNum : {}, \" +", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4ODY0Nw=="}, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQ2NDcyMQ==", "bodyText": "Changed to [thread-x]", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r363464721", "createdAt": "2020-01-06T20:17:26Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/TopicMessageGeneratorSampler.java", "diffHunk": "@@ -0,0 +1,102 @@\n+package com.hedera.mirror.grpc.jmeter.sampler;\n+\n+/*-\n+ * \u200c\n+ * Hedera Mirror Node\n+ * \u200b\n+ * Copyright (C) 2019 Hedera Hashgraph, LLC\n+ * \u200b\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \u200d\n+ */\n+\n+import java.time.Instant;\n+import java.time.temporal.ChronoUnit;\n+import java.util.concurrent.CountDownLatch;\n+import lombok.extern.log4j.Log4j2;\n+\n+import com.hedera.mirror.grpc.jmeter.ConnectionHandler;\n+\n+@Log4j2\n+public class TopicMessageGeneratorSampler {\n+    private final ConnectionHandler connectionHandler;\n+    private final int threadNum;\n+\n+    public TopicMessageGeneratorSampler(ConnectionHandler connectionHndler, int thrdNum) {\n+        connectionHandler = connectionHndler;\n+        threadNum = thrdNum;\n+    }\n+\n+    public String populateTopicMessages(long topicNum, int historicalMessageCount, int futureMessageCount,\n+                                        long newTopicsMessageDelay, long delSeqFrom) throws InterruptedException {\n+        log.info(\"THRD {} : Running TopicMessageGenerator Sampler populateTopicMessages topicNum : {}, \" +", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4ODY0Nw=="}, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTUyNjQzOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/TopicMessageGeneratorSampler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMzowMTo0MlrOFaLF9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQyMDoxNzozN1rOFaoIUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4OTA0Nw==", "bodyText": "Push if statement into ConnectionHandler. Then this method can be deleted and logic is encapsulated.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r362989047", "createdAt": "2020-01-03T23:01:42Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/TopicMessageGeneratorSampler.java", "diffHunk": "@@ -0,0 +1,102 @@\n+package com.hedera.mirror.grpc.jmeter.sampler;\n+\n+/*-\n+ * \u200c\n+ * Hedera Mirror Node\n+ * \u200b\n+ * Copyright (C) 2019 Hedera Hashgraph, LLC\n+ * \u200b\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \u200d\n+ */\n+\n+import java.time.Instant;\n+import java.time.temporal.ChronoUnit;\n+import java.util.concurrent.CountDownLatch;\n+import lombok.extern.log4j.Log4j2;\n+\n+import com.hedera.mirror.grpc.jmeter.ConnectionHandler;\n+\n+@Log4j2\n+public class TopicMessageGeneratorSampler {\n+    private final ConnectionHandler connectionHandler;\n+    private final int threadNum;\n+\n+    public TopicMessageGeneratorSampler(ConnectionHandler connectionHndler, int thrdNum) {\n+        connectionHandler = connectionHndler;\n+        threadNum = thrdNum;\n+    }\n+\n+    public String populateTopicMessages(long topicNum, int historicalMessageCount, int futureMessageCount,\n+                                        long newTopicsMessageDelay, long delSeqFrom) throws InterruptedException {\n+        log.info(\"THRD {} : Running TopicMessageGenerator Sampler populateTopicMessages topicNum : {}, \" +\n+                        \"historicalMessageCount :\" +\n+                        \" {}, futureMessageCount : {}, \" +\n+                        \"newTopicsMessageDelay : {}, delSeqFrom : {}\",\n+                threadNum, topicNum, historicalMessageCount, futureMessageCount, newTopicsMessageDelay,\n+                delSeqFrom);\n+\n+        CountDownLatch historicMessagesLatch = new CountDownLatch(historicalMessageCount);\n+        CountDownLatch incomingMessagesLatch = new CountDownLatch(futureMessageCount);\n+\n+        topicNum = topicNum == -1 ? connectionHandler.getNextAvailableTopicID() : topicNum;\n+\n+        populateHistoricalMessages(topicNum, historicalMessageCount, historicMessagesLatch);\n+\n+        generateIncomingMessages(topicNum, futureMessageCount, incomingMessagesLatch, newTopicsMessageDelay);\n+\n+        deleteMessagesFromTopic(topicNum, delSeqFrom);\n+\n+        return \"Success\";\n+    }\n+\n+    private void populateHistoricalMessages(long topicNum, int historicalMessageCount,\n+                                            CountDownLatch historicMessagesLatch) {\n+        if (historicalMessageCount > 0) {\n+            Instant pastInstant = Instant.now().minus(7, ChronoUnit.DAYS);\n+            connectionHandler\n+                    .InsertTopicMessage(historicalMessageCount, topicNum, pastInstant, historicMessagesLatch, -1);\n+        }\n+    }\n+\n+    private void generateIncomingMessages(long topicNum, int futureMessageCount, CountDownLatch incomingMessagesLatch\n+            , long delay) throws InterruptedException {\n+        if (futureMessageCount > 0) {\n+            Instant incomingInstant;\n+            if (delay == 0) {\n+                incomingInstant = Instant.now();\n+                connectionHandler\n+                        .InsertTopicMessage(futureMessageCount, topicNum, incomingInstant, incomingMessagesLatch, -1);\n+            } else {\n+                // prevent sleep of more than 10 secs\n+                if (delay > 10) {\n+                    log.warn(\"Capping delay to 10 seconds. We don't want long living threads.\");\n+                    delay = 10;\n+                }\n+\n+                for (int i = 0; i < futureMessageCount; i++) {\n+                    incomingInstant = Instant.now();\n+                    connectionHandler\n+                            .InsertTopicMessage(1, topicNum, incomingInstant, incomingMessagesLatch, -1);\n+                    Thread.sleep(delay * 1000);\n+                }\n+            }\n+        }\n+    }\n+\n+    private void deleteMessagesFromTopic(long topicId, long seqNumFrom) {\n+        if (topicId >= 0 && seqNumFrom >= 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzQ2NDc4NA==", "bodyText": "Done", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r363464784", "createdAt": "2020-01-06T20:17:37Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/sampler/TopicMessageGeneratorSampler.java", "diffHunk": "@@ -0,0 +1,102 @@\n+package com.hedera.mirror.grpc.jmeter.sampler;\n+\n+/*-\n+ * \u200c\n+ * Hedera Mirror Node\n+ * \u200b\n+ * Copyright (C) 2019 Hedera Hashgraph, LLC\n+ * \u200b\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \u200d\n+ */\n+\n+import java.time.Instant;\n+import java.time.temporal.ChronoUnit;\n+import java.util.concurrent.CountDownLatch;\n+import lombok.extern.log4j.Log4j2;\n+\n+import com.hedera.mirror.grpc.jmeter.ConnectionHandler;\n+\n+@Log4j2\n+public class TopicMessageGeneratorSampler {\n+    private final ConnectionHandler connectionHandler;\n+    private final int threadNum;\n+\n+    public TopicMessageGeneratorSampler(ConnectionHandler connectionHndler, int thrdNum) {\n+        connectionHandler = connectionHndler;\n+        threadNum = thrdNum;\n+    }\n+\n+    public String populateTopicMessages(long topicNum, int historicalMessageCount, int futureMessageCount,\n+                                        long newTopicsMessageDelay, long delSeqFrom) throws InterruptedException {\n+        log.info(\"THRD {} : Running TopicMessageGenerator Sampler populateTopicMessages topicNum : {}, \" +\n+                        \"historicalMessageCount :\" +\n+                        \" {}, futureMessageCount : {}, \" +\n+                        \"newTopicsMessageDelay : {}, delSeqFrom : {}\",\n+                threadNum, topicNum, historicalMessageCount, futureMessageCount, newTopicsMessageDelay,\n+                delSeqFrom);\n+\n+        CountDownLatch historicMessagesLatch = new CountDownLatch(historicalMessageCount);\n+        CountDownLatch incomingMessagesLatch = new CountDownLatch(futureMessageCount);\n+\n+        topicNum = topicNum == -1 ? connectionHandler.getNextAvailableTopicID() : topicNum;\n+\n+        populateHistoricalMessages(topicNum, historicalMessageCount, historicMessagesLatch);\n+\n+        generateIncomingMessages(topicNum, futureMessageCount, incomingMessagesLatch, newTopicsMessageDelay);\n+\n+        deleteMessagesFromTopic(topicNum, delSeqFrom);\n+\n+        return \"Success\";\n+    }\n+\n+    private void populateHistoricalMessages(long topicNum, int historicalMessageCount,\n+                                            CountDownLatch historicMessagesLatch) {\n+        if (historicalMessageCount > 0) {\n+            Instant pastInstant = Instant.now().minus(7, ChronoUnit.DAYS);\n+            connectionHandler\n+                    .InsertTopicMessage(historicalMessageCount, topicNum, pastInstant, historicMessagesLatch, -1);\n+        }\n+    }\n+\n+    private void generateIncomingMessages(long topicNum, int futureMessageCount, CountDownLatch incomingMessagesLatch\n+            , long delay) throws InterruptedException {\n+        if (futureMessageCount > 0) {\n+            Instant incomingInstant;\n+            if (delay == 0) {\n+                incomingInstant = Instant.now();\n+                connectionHandler\n+                        .InsertTopicMessage(futureMessageCount, topicNum, incomingInstant, incomingMessagesLatch, -1);\n+            } else {\n+                // prevent sleep of more than 10 secs\n+                if (delay > 10) {\n+                    log.warn(\"Capping delay to 10 seconds. We don't want long living threads.\");\n+                    delay = 10;\n+                }\n+\n+                for (int i = 0; i < futureMessageCount; i++) {\n+                    incomingInstant = Instant.now();\n+                    connectionHandler\n+                            .InsertTopicMessage(1, topicNum, incomingInstant, incomingMessagesLatch, -1);\n+                    Thread.sleep(delay * 1000);\n+                }\n+            }\n+        }\n+    }\n+\n+    private void deleteMessagesFromTopic(long topicId, long seqNumFrom) {\n+        if (topicId >= 0 && seqNumFrom >= 0) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4OTA0Nw=="}, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 98}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI0MTUyOTQzOnYy", "diffSide": "RIGHT", "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/ConnectionHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMzowNDoxOVrOFaLH2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQwNjo0Nzo0MVrOFaWeqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4OTUzMA==", "bodyText": "Is it not possible to use domain and repositories here because of JMeter?", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r362989530", "createdAt": "2020-01-03T23:04:19Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/ConnectionHandler.java", "diffHunk": "@@ -0,0 +1,180 @@\n+package com.hedera.mirror.grpc.jmeter;\n+\n+/*-\n+ * \u200c\n+ * Hedera Mirror Node\n+ * \u200b\n+ * Copyright (C) 2019 Hedera Hashgraph, LLC\n+ * \u200b\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \u200d\n+ */\n+\n+import io.r2dbc.postgresql.PostgresqlConnectionConfiguration;\n+import io.r2dbc.postgresql.PostgresqlConnectionFactory;\n+import io.r2dbc.postgresql.api.PostgresqlConnection;\n+import io.r2dbc.postgresql.api.PostgresqlStatement;\n+import java.time.Instant;\n+import java.time.temporal.ChronoUnit;\n+import java.util.concurrent.CountDownLatch;\n+import lombok.extern.log4j.Log4j2;\n+import org.springframework.data.r2dbc.core.DatabaseClient;\n+import org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy;\n+import org.springframework.data.r2dbc.dialect.PostgresDialect;\n+\n+import com.hedera.mirror.grpc.converter.InstantToLongConverter;\n+\n+@Log4j2\n+public class ConnectionHandler {\n+    private final InstantToLongConverter itlc = new InstantToLongConverter();\n+    private final PostgresqlConnection connection;\n+    private final String host;\n+    private final int port;\n+    private final String dbName;\n+    private final String dbUser;\n+    private final String dbPassword;\n+\n+    public ConnectionHandler(String hst, int prt, String dbn, String dbu, String dbp) {\n+        host = hst;\n+        port = prt;\n+        dbName = dbn;\n+        dbUser = dbu;\n+        dbPassword = dbp;\n+\n+        connection = getConnection();\n+    }\n+\n+    public PostgresqlConnectionFactory getConnectionFactory() {\n+        log.trace(\"Initialize connectionFactory\");\n+        PostgresqlConnectionFactory connectionFactory = new PostgresqlConnectionFactory(\n+                PostgresqlConnectionConfiguration.builder()\n+                        .host(host)\n+                        .port(port)\n+                        .username(dbUser)\n+                        .password(dbPassword)\n+                        .database(dbName)\n+                        .build());\n+\n+        return connectionFactory;\n+    }\n+\n+    public DatabaseClient getDatabaseClient() {\n+        log.trace(\"InitializedatabaseClient\");\n+        PostgresqlConnectionFactory connectionFactory = getConnectionFactory();\n+\n+        return DatabaseClient.builder()\n+                .connectionFactory(connectionFactory)\n+                .dataAccessStrategy(new DefaultReactiveDataAccessStrategy(PostgresDialect.INSTANCE))\n+                .build();\n+    }\n+\n+    public PostgresqlConnection getConnection() {\n+        log.info(\"Initialize PostgresqlConnection\");\n+        PostgresqlConnectionFactory connectionFactory = getConnectionFactory();\n+\n+        return connectionFactory.create().block();\n+    }\n+\n+    public void InsertTopicMessage(int newTopicsMessageCount, long tpcnm, Instant instantref, CountDownLatch latch,\n+                                   long seqStart) {\n+\n+        if (newTopicsMessageCount == 0) {\n+            // no messages to create, abort and db logic\n+            return;\n+        }\n+\n+        // insert some new messages\n+        long nextSequenceNum = seqStart == -1 ? getNextAvailableSequenceNumber(tpcnm) : seqStart;\n+        for (int i = 0; i < newTopicsMessageCount; i++) {\n+            Instant temp = instantref.plus(i, ChronoUnit.SECONDS);\n+            Long instalong = itlc.convert(temp);\n+            long sequenceNum = nextSequenceNum + i;\n+            log.info(\"Emitting new topic message for topicNum {}, Time: {}, count: {}, seq : {}\", tpcnm,\n+                    instalong, i, sequenceNum);\n+\n+            String topicMessageInsertSql = \"insert into topic_message\"\n+                    + \" (consensus_timestamp, realm_num, topic_num, message, running_hash, sequence_number)\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 106}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzE3NTU5NA==", "bodyText": "Yes, per my understanding that's correct. The Jmeter application is essentially running the entire flow. Everything else serves as dependencies for mostly class information. Spring features don't seem to work.", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/477#discussion_r363175594", "createdAt": "2020-01-06T06:47:41Z", "author": {"login": "Nana-EC"}, "path": "hedera-mirror-grpc/src/test/java/com/hedera/mirror/grpc/jmeter/ConnectionHandler.java", "diffHunk": "@@ -0,0 +1,180 @@\n+package com.hedera.mirror.grpc.jmeter;\n+\n+/*-\n+ * \u200c\n+ * Hedera Mirror Node\n+ * \u200b\n+ * Copyright (C) 2019 Hedera Hashgraph, LLC\n+ * \u200b\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ * \u200d\n+ */\n+\n+import io.r2dbc.postgresql.PostgresqlConnectionConfiguration;\n+import io.r2dbc.postgresql.PostgresqlConnectionFactory;\n+import io.r2dbc.postgresql.api.PostgresqlConnection;\n+import io.r2dbc.postgresql.api.PostgresqlStatement;\n+import java.time.Instant;\n+import java.time.temporal.ChronoUnit;\n+import java.util.concurrent.CountDownLatch;\n+import lombok.extern.log4j.Log4j2;\n+import org.springframework.data.r2dbc.core.DatabaseClient;\n+import org.springframework.data.r2dbc.core.DefaultReactiveDataAccessStrategy;\n+import org.springframework.data.r2dbc.dialect.PostgresDialect;\n+\n+import com.hedera.mirror.grpc.converter.InstantToLongConverter;\n+\n+@Log4j2\n+public class ConnectionHandler {\n+    private final InstantToLongConverter itlc = new InstantToLongConverter();\n+    private final PostgresqlConnection connection;\n+    private final String host;\n+    private final int port;\n+    private final String dbName;\n+    private final String dbUser;\n+    private final String dbPassword;\n+\n+    public ConnectionHandler(String hst, int prt, String dbn, String dbu, String dbp) {\n+        host = hst;\n+        port = prt;\n+        dbName = dbn;\n+        dbUser = dbu;\n+        dbPassword = dbp;\n+\n+        connection = getConnection();\n+    }\n+\n+    public PostgresqlConnectionFactory getConnectionFactory() {\n+        log.trace(\"Initialize connectionFactory\");\n+        PostgresqlConnectionFactory connectionFactory = new PostgresqlConnectionFactory(\n+                PostgresqlConnectionConfiguration.builder()\n+                        .host(host)\n+                        .port(port)\n+                        .username(dbUser)\n+                        .password(dbPassword)\n+                        .database(dbName)\n+                        .build());\n+\n+        return connectionFactory;\n+    }\n+\n+    public DatabaseClient getDatabaseClient() {\n+        log.trace(\"InitializedatabaseClient\");\n+        PostgresqlConnectionFactory connectionFactory = getConnectionFactory();\n+\n+        return DatabaseClient.builder()\n+                .connectionFactory(connectionFactory)\n+                .dataAccessStrategy(new DefaultReactiveDataAccessStrategy(PostgresDialect.INSTANCE))\n+                .build();\n+    }\n+\n+    public PostgresqlConnection getConnection() {\n+        log.info(\"Initialize PostgresqlConnection\");\n+        PostgresqlConnectionFactory connectionFactory = getConnectionFactory();\n+\n+        return connectionFactory.create().block();\n+    }\n+\n+    public void InsertTopicMessage(int newTopicsMessageCount, long tpcnm, Instant instantref, CountDownLatch latch,\n+                                   long seqStart) {\n+\n+        if (newTopicsMessageCount == 0) {\n+            // no messages to create, abort and db logic\n+            return;\n+        }\n+\n+        // insert some new messages\n+        long nextSequenceNum = seqStart == -1 ? getNextAvailableSequenceNumber(tpcnm) : seqStart;\n+        for (int i = 0; i < newTopicsMessageCount; i++) {\n+            Instant temp = instantref.plus(i, ChronoUnit.SECONDS);\n+            Long instalong = itlc.convert(temp);\n+            long sequenceNum = nextSequenceNum + i;\n+            log.info(\"Emitting new topic message for topicNum {}, Time: {}, count: {}, seq : {}\", tpcnm,\n+                    instalong, i, sequenceNum);\n+\n+            String topicMessageInsertSql = \"insert into topic_message\"\n+                    + \" (consensus_timestamp, realm_num, topic_num, message, running_hash, sequence_number)\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk4OTUzMA=="}, "originalCommit": {"oid": "5a5795e5aaec22cc36a9bf16fd1d7a6d04c986f2"}, "originalPosition": 106}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1114, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}