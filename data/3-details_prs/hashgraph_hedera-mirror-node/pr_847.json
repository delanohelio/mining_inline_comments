{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQxMTY0Mzkz", "number": 847, "title": "Add Latency Metrics to Performance Tests", "bodyText": "Detailed description:\nAdd latency measurement for HCS E2E flow\nWhich issue(s) this PR fixes:\nFixes #\nSpecial notes for your reviewer:\nChecklist\n\n Documentation added\n Tests updated", "createdAt": "2020-06-29T02:45:35Z", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/847", "merged": true, "mergeCommit": {"oid": "4aa35f76d9dc37a710a0b88d79667bf7b2ba1159"}, "closed": true, "closedAt": "2020-07-02T19:42:41Z", "author": {"login": "Nana-EC"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcvjzDlAH2gAyNDQxMTY0MzkzOjg5MjdmMTYyMGFhMGI5Mzg3NThlNmRiNTc0Yzc0YzczNTQ1OGIxNDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcxAJxtgFqTQ0MTc1MjQ4Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8927f1620aa0b938758e6db574c74c735458b145", "author": {"user": {"login": "Nana-EC", "name": null}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/8927f1620aa0b938758e6db574c74c735458b145", "committedDate": "2020-06-28T03:22:58Z", "message": "Add Latency stats to aceptance and performance subscribe logs\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c5978c49b907e8860377458c7e231315078bc9f", "author": {"user": {"login": "Nana-EC", "name": null}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/4c5978c49b907e8860377458c7e231315078bc9f", "committedDate": "2020-06-28T22:05:40Z", "message": "Updated to print total stats and k8s job\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e0f703f6d774ede19c15f25ad35ad70836bc469", "author": {"user": {"login": "Nana-EC", "name": null}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/0e0f703f6d774ede19c15f25ad35ad70836bc469", "committedDate": "2020-06-29T23:24:47Z", "message": "Update acceptance tests to use first 8 bytes of message for transaction publish time\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b70214d19b2e0dd95225710e75d99d4f3734ff1d", "author": {"user": {"login": "Nana-EC", "name": null}}, "url": "https://github.com/hashgraph/hedera-mirror-node/commit/b70214d19b2e0dd95225710e75d99d4f3734ff1d", "committedDate": "2020-07-01T14:25:45Z", "message": "Cleaned up a bit\n\nSigned-off-by: Nana-EC <56320167+Nana-EC@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxNzUyNDgz", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/847#pullrequestreview-441752483", "createdAt": "2020-07-02T14:48:56Z", "commit": {"oid": "b70214d19b2e0dd95225710e75d99d4f3734ff1d"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNDo0ODo1NlrOGsQRig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNDo0ODo1NlrOGsQRig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTA1NzE2Mg==", "bodyText": "Longs.toByteArray(). But more importantly, why are we converting the long to bytes and then to string? What's wrong with instantRef.toEpochMilli().toString()?", "url": "https://github.com/hashgraph/hedera-mirror-node/pull/847#discussion_r449057162", "createdAt": "2020-07-02T14:48:56Z", "author": {"login": "steven-sheehy"}, "path": "hedera-mirror-test/src/test/java/com/hedera/mirror/test/e2e/acceptance/client/TopicClient.java", "diffHunk": "@@ -120,10 +121,12 @@ public TransactionReceipt deleteTopic(ConsensusTopicId topicId) throws HederaSta\n                                                            int numMessages, boolean verify) throws HederaStatusException\n             , InterruptedException {\n         log.debug(\"Publishing {} message(s) to topicId : {}.\", numMessages, topicId);\n-        Instant refInstant = Instant.now();\n         List<TransactionReceipt> transactionReceiptList = new ArrayList<>();\n         for (int i = 0; i < numMessages; i++) {\n-            String message = baseMessage + \"_\" + refInstant + \"_\" + i + 1;\n+            Instant instantRef = Instant.now();\n+            byte[] byteArray = ByteBuffer.allocate(8).putLong(instantRef.toEpochMilli()).array();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b70214d19b2e0dd95225710e75d99d4f3734ff1d"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4052, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}