{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyMDM5ODgy", "number": 7718, "title": "Issue #7661: Update doc for SuperClone", "bodyText": "Resolve #7661\n\nOuput of default example\n$ cat config.xml\n<?xml version=\"1.0\"?>\n<!DOCTYPE module PUBLIC\n          \"-//Puppy Crawl//DTD Check Configuration 1.3//EN\"\n          \"https://checkstyle.org/dtds/configuration_1_3.dtd\">\n\n<module name=\"Checker\">\n    <property name=\"charset\" value=\"UTF-8\"/>\n    <module name=\"TreeWalker\">\n\t\t<module name=\"SuperClone\"/>\n\t</module>\n</module>\n$ cat Test.java\nclass A {\n\n public Object clone() { // OK\n  return super.clone();\n }\n}\n\nclass B {\nprivate int b;\n\n public B clone() { // violation, does not call super.clone()\n  B other = new B();\n  other.b = -1;\n  return other;\n }\n}\n\nclass C {\n\n public C clone() {  // OK\n  return (C) super.clone();\n }\n}\n$ java -jar checkstyle-8.29-all.jar -c config.xml Test.java\nStarting audit...\n[ERROR] /var/tmp/Test.java:11:11: Method 'clone' should call 'super.clone'. [SuperClone]\nAudit done.\nCheckstyle ends with 1 errors.\n\nOuput of non-default example\nThis check doesn't provide any configurable property.", "createdAt": "2020-03-01T12:48:53Z", "url": "https://github.com/checkstyle/checkstyle/pull/7718", "merged": true, "mergeCommit": {"oid": "e35c28e97b5174e272a3b7fad90e0d07fe8b405a"}, "closed": true, "closedAt": "2020-03-11T21:58:59Z", "author": {"login": "wilcoln"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcJbwkKgFqTM2Njg3MDY0OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcMubBHgFqTM3MzE1MzYyMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2ODcwNjQ5", "url": "https://github.com/checkstyle/checkstyle/pull/7718#pullrequestreview-366870649", "createdAt": "2020-03-01T16:31:53Z", "commit": {"oid": "dde14d088d389beed350032fae32ce604eb8783b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3NDE4MDY2", "url": "https://github.com/checkstyle/checkstyle/pull/7718#pullrequestreview-367418066", "createdAt": "2020-03-02T18:16:59Z", "commit": {"oid": "dde14d088d389beed350032fae32ce604eb8783b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODoxNzowMFrOFwp9CQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxODoyMToyMlrOFwqFuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU2MzMzNw==", "bodyText": "The xdoc has the methods indented but the javadoc does not. Please make them similar so it is also easier to read in the Javadoc. The methods should be similarly indented.\n@strkkk Please keep an eye out for these type of things.", "url": "https://github.com/checkstyle/checkstyle/pull/7718#discussion_r386563337", "createdAt": "2020-03-02T18:17:00Z", "author": {"login": "rnveach"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/coding/SuperCloneCheck.java", "diffHunk": "@@ -37,7 +37,20 @@\n  * <pre>\n  * &lt;module name=&quot;SuperClone&quot;/&gt;\n  * </pre>\n+ * <p>Example: </p>\n+ * <pre>\n+ * public class Foo {\n+ *\n+ * public Object clone() {return null;} // violation, does not call super.clone()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dde14d088d389beed350032fae32ce604eb8783b"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU2MzQ5Mw==", "bodyText": "Extra space is not needed after the :.", "url": "https://github.com/checkstyle/checkstyle/pull/7718#discussion_r386563493", "createdAt": "2020-03-02T18:17:16Z", "author": {"login": "rnveach"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/coding/SuperCloneCheck.java", "diffHunk": "@@ -37,7 +37,20 @@\n  * <pre>\n  * &lt;module name=&quot;SuperClone&quot;/&gt;\n  * </pre>\n+ * <p>Example: </p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dde14d088d389beed350032fae32ce604eb8783b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU2NTU2MQ==", "bodyText": "It is not valid java code to have all these clones in 1 single method. Also the examples are not very creative in that they all look very similar.\nWhat about an example where super clone is not called in the return. Like it is assigned to a variable, with some more modifications and then returned.\nclone can't have any parameters and can't be native.\nLook at the source code of the check to get an idea of some other examples that users may not think of beyond the basics.https://github.com/checkstyle/checkstyle/blob/bd45909e6345b2d3ef5c5472d35a3ad926a31eb9/src/main/java/com/puppycrawl/tools/checkstyle/checks/coding/AbstractSuperCheck.java", "url": "https://github.com/checkstyle/checkstyle/pull/7718#discussion_r386565561", "createdAt": "2020-03-02T18:21:22Z", "author": {"login": "rnveach"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/coding/SuperCloneCheck.java", "diffHunk": "@@ -37,7 +37,20 @@\n  * <pre>\n  * &lt;module name=&quot;SuperClone&quot;/&gt;\n  * </pre>\n+ * <p>Example: </p>\n+ * <pre>\n+ * public class Foo {\n+ *\n+ * public Object clone() {return null;} // violation, does not call super.clone()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dde14d088d389beed350032fae32ce604eb8783b"}, "originalPosition": 8}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dde14d088d389beed350032fae32ce604eb8783b", "author": {"user": {"login": "wilcoln", "name": "Wilfried L. Bounsi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/dde14d088d389beed350032fae32ce604eb8783b", "committedDate": "2020-03-01T12:44:49Z", "message": "Issue #7661: Update doc for SuperClone"}, "afterCommit": {"oid": "82c3aaef8e2d998fb251a545ddd9e6ada382f297", "author": {"user": {"login": "wilcoln", "name": "Wilfried L. Bounsi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/82c3aaef8e2d998fb251a545ddd9e6ada382f297", "committedDate": "2020-03-05T16:13:13Z", "message": "Issue #7661: Update doc for SuperClone"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5OTQzNzcx", "url": "https://github.com/checkstyle/checkstyle/pull/7718#pullrequestreview-369943771", "createdAt": "2020-03-05T21:55:33Z", "commit": {"oid": "82c3aaef8e2d998fb251a545ddd9e6ada382f297"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQyMTo1NTozM1rOFylp_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQyMTo1NTozM1rOFylp_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODU5MDA3Ng==", "bodyText": "violation is on method, not code, so the comment should be on the method. Please update the others.", "url": "https://github.com/checkstyle/checkstyle/pull/7718#discussion_r388590076", "createdAt": "2020-03-05T21:55:33Z", "author": {"login": "rnveach"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/coding/SuperCloneCheck.java", "diffHunk": "@@ -37,7 +37,45 @@\n  * <pre>\n  * &lt;module name=&quot;SuperClone&quot;/&gt;\n  * </pre>\n+ * <p>Example:</p>\n+ * <pre>\n+ * class Foo {\n+ *  protected int f;\n+ *\n+ *  public Foo() {};\n+ *  public Foo(int f) {\n+ *     this.f = f;\n+ *  }\n+ *  public Object clone() {\n+ *    Foo other = new Foo(); // violation, does not call super.clone()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "82c3aaef8e2d998fb251a545ddd9e6ada382f297"}, "originalPosition": 14}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "82c3aaef8e2d998fb251a545ddd9e6ada382f297", "author": {"user": {"login": "wilcoln", "name": "Wilfried L. Bounsi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/82c3aaef8e2d998fb251a545ddd9e6ada382f297", "committedDate": "2020-03-05T16:13:13Z", "message": "Issue #7661: Update doc for SuperClone"}, "afterCommit": {"oid": "cf48b853230d5e9a391cd108b5aca6a839be25d6", "author": {"user": {"login": "wilcoln", "name": "Wilfried L. Bounsi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/cf48b853230d5e9a391cd108b5aca6a839be25d6", "committedDate": "2020-03-06T05:45:11Z", "message": "Issue #7661: Update doc for SuperClone"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwMjgwODA0", "url": "https://github.com/checkstyle/checkstyle/pull/7718#pullrequestreview-370280804", "createdAt": "2020-03-06T12:17:30Z", "commit": {"oid": "cf48b853230d5e9a391cd108b5aca6a839be25d6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxMjoxNzozMFrOFy20lw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxMjoxNzozMFrOFy20lw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODg3MTMxOQ==", "bodyText": "Why can't comment go on end of line? Violation is on the method, not before or after it.", "url": "https://github.com/checkstyle/checkstyle/pull/7718#discussion_r388871319", "createdAt": "2020-03-06T12:17:30Z", "author": {"login": "rnveach"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/coding/SuperCloneCheck.java", "diffHunk": "@@ -37,7 +37,48 @@\n  * <pre>\n  * &lt;module name=&quot;SuperClone&quot;/&gt;\n  * </pre>\n+ * <p>Example:</p>\n+ * <pre>\n+ * class Foo {\n+ *  protected int f;\n+ *\n+ *  public Foo() {};\n+ *  public Foo(int f) {\n+ *     this.f = f;\n+ *  }\n+ *  // violation, does not call super.clone()\n+ *  public Object clone() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cf48b853230d5e9a391cd108b5aca6a839be25d6"}, "originalPosition": 14}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cf48b853230d5e9a391cd108b5aca6a839be25d6", "author": {"user": {"login": "wilcoln", "name": "Wilfried L. Bounsi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/cf48b853230d5e9a391cd108b5aca6a839be25d6", "committedDate": "2020-03-06T05:45:11Z", "message": "Issue #7661: Update doc for SuperClone"}, "afterCommit": {"oid": "342f9bdfe0820d67b745e9445d949e64fdedf9d7", "author": {"user": {"login": "wilcoln", "name": "Wilfried L. Bounsi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/342f9bdfe0820d67b745e9445d949e64fdedf9d7", "committedDate": "2020-03-06T13:44:09Z", "message": "Issue #7661: Update doc for SuperClone"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNzgzNzQ1", "url": "https://github.com/checkstyle/checkstyle/pull/7718#pullrequestreview-370783745", "createdAt": "2020-03-07T19:14:16Z", "commit": {"oid": "342f9bdfe0820d67b745e9445d949e64fdedf9d7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QxOToxNDoxN1rOFzRTVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wN1QxOToxODo1N1rOFzRUgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMwNTE3NQ==", "bodyText": "Please remove extra fields , Check do not care about them.", "url": "https://github.com/checkstyle/checkstyle/pull/7718#discussion_r389305175", "createdAt": "2020-03-07T19:14:17Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/coding/SuperCloneCheck.java", "diffHunk": "@@ -37,7 +37,45 @@\n  * <pre>\n  * &lt;module name=&quot;SuperClone&quot;/&gt;\n  * </pre>\n+ * <p>Example:</p>\n+ * <pre>\n+ * class Foo {\n+ *  protected int f;\n+ *\n+ *  public Foo() {};\n+ *  public Foo(int f) {\n+ *     this.f = f;\n+ *  }\n+ *  public Object clone() { // violation, does not call super.clone()\n+ *    Foo other = new Foo();\n+ *    other.f = this.f;\n+ *    return other;\n+ *  }\n+ * }\n+ *\n+ * class FooA extends Foo {\n+ *  private static int countA = 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "342f9bdfe0820d67b745e9445d949e64fdedf9d7"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMwNTMzNA==", "bodyText": "Please extend some class from jdk, Check do not care about any hierarchy, we should not give use false feeling that consider hierarchy. All classes have such cline method to override.", "url": "https://github.com/checkstyle/checkstyle/pull/7718#discussion_r389305334", "createdAt": "2020-03-07T19:16:41Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/coding/SuperCloneCheck.java", "diffHunk": "@@ -37,7 +37,45 @@\n  * <pre>\n  * &lt;module name=&quot;SuperClone&quot;/&gt;\n  * </pre>\n+ * <p>Example:</p>\n+ * <pre>\n+ * class Foo {\n+ *  protected int f;\n+ *\n+ *  public Foo() {};\n+ *  public Foo(int f) {\n+ *     this.f = f;\n+ *  }\n+ *  public Object clone() { // violation, does not call super.clone()\n+ *    Foo other = new Foo();\n+ *    other.f = this.f;\n+ *    return other;\n+ *  }\n+ * }\n+ *\n+ * class FooA extends Foo {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "342f9bdfe0820d67b745e9445d949e64fdedf9d7"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMwNTQ3NA==", "bodyText": "Please show example of clone method that return exact class ( FooB ).\nPlease read #7553 (comment) and articles we reference.", "url": "https://github.com/checkstyle/checkstyle/pull/7718#discussion_r389305474", "createdAt": "2020-03-07T19:18:57Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/coding/SuperCloneCheck.java", "diffHunk": "@@ -37,7 +37,45 @@\n  * <pre>\n  * &lt;module name=&quot;SuperClone&quot;/&gt;\n  * </pre>\n+ * <p>Example:</p>\n+ * <pre>\n+ * class Foo {\n+ *  protected int f;\n+ *\n+ *  public Foo() {};\n+ *  public Foo(int f) {\n+ *     this.f = f;\n+ *  }\n+ *  public Object clone() { // violation, does not call super.clone()\n+ *    Foo other = new Foo();\n+ *    other.f = this.f;\n+ *    return other;\n+ *  }\n+ * }\n+ *\n+ * class FooA extends Foo {\n+ *  private static int countA = 0;\n+ *  private int a;\n  *\n+ *  public Object clone() { // OK\n+ *   FooA other = (FooA) super.clone();\n+ *   other.a = ++countA;\n+ *   return other;\n+ *  }\n+ * }\n+ *\n+ * class FooB extends Foo {\n+ *  private static int countB = 0;\n+ *  private int b;\n+ *\n+ *  public Object clone() { // violation, does not call super.clone()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "342f9bdfe0820d67b745e9445d949e64fdedf9d7"}, "originalPosition": 35}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "342f9bdfe0820d67b745e9445d949e64fdedf9d7", "author": {"user": {"login": "wilcoln", "name": "Wilfried L. Bounsi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/342f9bdfe0820d67b745e9445d949e64fdedf9d7", "committedDate": "2020-03-06T13:44:09Z", "message": "Issue #7661: Update doc for SuperClone"}, "afterCommit": {"oid": "0f903185cafaaa69c0574940f161c8465422e6b7", "author": {"user": {"login": "wilcoln", "name": "Wilfried L. Bounsi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/0f903185cafaaa69c0574940f161c8465422e6b7", "committedDate": "2020-03-07T20:32:42Z", "message": "Issue #7661: Update doc for SuperClone"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNzk4NTAw", "url": "https://github.com/checkstyle/checkstyle/pull/7718#pullrequestreview-370798500", "createdAt": "2020-03-08T01:30:15Z", "commit": {"oid": "0f903185cafaaa69c0574940f161c8465422e6b7"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwMTozMDoxNVrOFzSk4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwMTozMDoxNVrOFzSk4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMyNjA1MQ==", "bodyText": "Violation comment is misplaced, move it to previy line. Same for other comments.", "url": "https://github.com/checkstyle/checkstyle/pull/7718#discussion_r389326051", "createdAt": "2020-03-08T01:30:15Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/coding/SuperCloneCheck.java", "diffHunk": "@@ -37,7 +37,32 @@\n  * <pre>\n  * &lt;module name=&quot;SuperClone&quot;/&gt;\n  * </pre>\n+ * <p>Example:</p>\n+ * <pre>\n+ * class A {\n+ *\n+ *  public Object clone() {\n+ *   return super.clone(); // OK\n+ *  }\n+ * }\n+ *\n+ * class B {\n+ * private int b;\n  *\n+ *  public B clone() {\n+ *   B other = new B(); // violation, does not call super.clone()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0f903185cafaaa69c0574940f161c8465422e6b7"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "592026053751569824e20e22b1bf925b0e47524a", "author": {"user": {"login": "wilcoln", "name": "Wilfried L. Bounsi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/592026053751569824e20e22b1bf925b0e47524a", "committedDate": "2020-03-08T05:05:12Z", "message": "Issue #7661: Update doc for SuperClone"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0f903185cafaaa69c0574940f161c8465422e6b7", "author": {"user": {"login": "wilcoln", "name": "Wilfried L. Bounsi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/0f903185cafaaa69c0574940f161c8465422e6b7", "committedDate": "2020-03-07T20:32:42Z", "message": "Issue #7661: Update doc for SuperClone"}, "afterCommit": {"oid": "592026053751569824e20e22b1bf925b0e47524a", "author": {"user": {"login": "wilcoln", "name": "Wilfried L. Bounsi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/592026053751569824e20e22b1bf925b0e47524a", "committedDate": "2020-03-08T05:05:12Z", "message": "Issue #7661: Update doc for SuperClone"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyODU5NjM3", "url": "https://github.com/checkstyle/checkstyle/pull/7718#pullrequestreview-372859637", "createdAt": "2020-03-11T15:19:05Z", "commit": {"oid": "592026053751569824e20e22b1bf925b0e47524a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczMTUzNjIz", "url": "https://github.com/checkstyle/checkstyle/pull/7718#pullrequestreview-373153623", "createdAt": "2020-03-11T21:58:20Z", "commit": {"oid": "592026053751569824e20e22b1bf925b0e47524a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1075, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}