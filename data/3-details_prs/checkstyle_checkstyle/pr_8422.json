{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2NDI2OTE2", "number": 8422, "title": "Issue #8267: Implement full records support", "bodyText": "Issue #8267: Implement full records support\nThis PR will add full support for the Java 14 records syntax.\nFrom JEP:\nJava Grammar\nRecordDeclaration:\n{ClassModifier} record TypeIdentifier [TypeParameters]\nRecordHeader [SuperInterfaces] RecordBody\nRecordHeader:\n( [RecordComponentList] )\nRecordComponentList:\nRecordComponent { , RecordComponent}\nRecordComponent:\n{Annotation} UnannType Identifier\nVariableArityRecordComponent\nVariableArityRecordComponent:\n{Annotation} UnannType {Annotation} ... Identifier\nRecordBody:\n{ {RecordBodyDeclaration} }\nRecordBodyDeclaration:\nClassBodyDeclaration\nCompactConstructorDeclaration\nCompactConstructorDeclaration:\n{Annotation} {ConstructorModifier} SimpleTypeName ConstructorBody\nNote that I've taken some liberties with the java grammar, in order to reuse existing code and reduce extraneous rules in the grammar file.\nReviewers, please note that the commits from #8293 are temporarily on this PR, since I built from them. Once #8293 is merged, I will rebase.", "createdAt": "2020-07-08T18:59:50Z", "url": "https://github.com/checkstyle/checkstyle/pull/8422", "merged": true, "mergeCommit": {"oid": "534a1669d67f62f1e64e879899fbeafaec41d364"}, "closed": true, "closedAt": "2020-07-27T19:24:55Z", "author": {"login": "nmancus1"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcy_f9CgBqjM1MjY2NzY2Nzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc5G7h0gFqTQ1NjA2ODgxMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e62e5f39d21ec458c4b07d1e72fad122a7ca1658", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/e62e5f39d21ec458c4b07d1e72fad122a7ca1658", "committedDate": "2020-07-08T19:10:33Z", "message": "Issue #8267: Implement full records support"}, "afterCommit": {"oid": "9456694dc58017d723ae8ff0ca90c4ef57c675c9", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/9456694dc58017d723ae8ff0ca90c4ef57c675c9", "committedDate": "2020-07-08T19:21:03Z", "message": "Issue #8267: Implement full records support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9456694dc58017d723ae8ff0ca90c4ef57c675c9", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/9456694dc58017d723ae8ff0ca90c4ef57c675c9", "committedDate": "2020-07-08T19:21:03Z", "message": "Issue #8267: Implement full records support"}, "afterCommit": {"oid": "577e0233229eac52d48ed36891725bb26de841d2", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/577e0233229eac52d48ed36891725bb26de841d2", "committedDate": "2020-07-08T19:52:49Z", "message": "Issue #8267: Implement full records support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "577e0233229eac52d48ed36891725bb26de841d2", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/577e0233229eac52d48ed36891725bb26de841d2", "committedDate": "2020-07-08T19:52:49Z", "message": "Issue #8267: Implement full records support"}, "afterCommit": {"oid": "cf8500939e68836a8d0f3c3fe051166b5e5a45c0", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/cf8500939e68836a8d0f3c3fe051166b5e5a45c0", "committedDate": "2020-07-08T21:51:18Z", "message": "Issue #8267: Implement full records support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cf8500939e68836a8d0f3c3fe051166b5e5a45c0", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/cf8500939e68836a8d0f3c3fe051166b5e5a45c0", "committedDate": "2020-07-08T21:51:18Z", "message": "Issue #8267: Implement full records support"}, "afterCommit": {"oid": "d52227b25d08ab6bbc004c3520f006e45dab687f", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/d52227b25d08ab6bbc004c3520f006e45dab687f", "committedDate": "2020-07-09T10:27:41Z", "message": "Issue #8267: Implement full records support"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2NjQ4NDg3", "url": "https://github.com/checkstyle/checkstyle/pull/8422#pullrequestreview-446648487", "createdAt": "2020-07-10T19:22:29Z", "commit": {"oid": "d52227b25d08ab6bbc004c3520f006e45dab687f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2ODMxNTQ4", "url": "https://github.com/checkstyle/checkstyle/pull/8422#pullrequestreview-446831548", "createdAt": "2020-07-11T21:58:16Z", "commit": {"oid": "d52227b25d08ab6bbc004c3520f006e45dab687f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d52227b25d08ab6bbc004c3520f006e45dab687f", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/d52227b25d08ab6bbc004c3520f006e45dab687f", "committedDate": "2020-07-09T10:27:41Z", "message": "Issue #8267: Implement full records support"}, "afterCommit": {"oid": "d6ef3bcaa0405d5a565d8326416f1de562d09f7a", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/d6ef3bcaa0405d5a565d8326416f1de562d09f7a", "committedDate": "2020-07-26T16:08:46Z", "message": "Issue #8267: Implement full records support"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1Mzc3MDQ3", "url": "https://github.com/checkstyle/checkstyle/pull/8422#pullrequestreview-455377047", "createdAt": "2020-07-26T16:14:38Z", "commit": {"oid": "d6ef3bcaa0405d5a565d8326416f1de562d09f7a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxNjoxNDozOFrOG3NdwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxNjoxNDozOFrOG3NdwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU0NTQ3Mg==", "bodyText": "@romani how's this?", "url": "https://github.com/checkstyle/checkstyle/pull/8422#discussion_r460545472", "createdAt": "2020-07-26T16:14:38Z", "author": {"login": "nmancus1"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/api/TokenTypes.java", "diffHunk": "@@ -3590,12 +3593,136 @@\n      * |--MODIFIERS\n      * |   `--LITERAL_PUBLIC (public)\n      * |--LITERAL_RECORD (record)\n-     *  `--IDENT (myRecord)\n+     * |--IDENT (myRecord)\n+     * |--LPAREN (()\n+     * |--RECORD_COMPONENTS\n+     * |--RPAREN ())\n+     * `--OBJBLOCK\n+     *     |--LCURLY ({)\n+     *      `--RCURLY (})\n      * </pre>\n+     *\n+     * @since 8.35\n      */\n     public static final int RECORD_DEF =\n             GeneratedJavaTokenTypes.RECORD_DEF;\n \n+    /**\n+     * Record components are a (possibly empty) list containing the components of a record, which\n+     * are the variables that make up its state.\n+     *\n+     * <p>For example:</p>\n+     * <pre>\n+     * public record myRecord (Comp x, Comp y) { }\n+     * </pre>\n+     * <p>parses as:</p>\n+     * <pre>\n+     * RECORD_DEF\n+     * |--MODIFIERS\n+     * |   `--LITERAL_PUBLIC (public)\n+     * |--LITERAL_RECORD (record)\n+     * |--IDENT (myRecord)\n+     * |--LPAREN (()\n+     * |--RECORD_COMPONENTS\n+     * |   |--RECORD_COMPONENT_DEF\n+     * |   |   |--ANNOTATIONS\n+     * |   |   |--TYPE\n+     * |   |   |   `--IDENT (Comp)\n+     * |   |   `--IDENT (x)\n+     * |   |--COMMA (,)\n+     * |   `--RECORD_COMPONENT_DEF\n+     * |       |--ANNOTATIONS\n+     * |       |--TYPE\n+     * |       |   `--IDENT (Comp)\n+     * |       `--IDENT (y)\n+     * |--RPAREN ())\n+     * `--OBJBLOCK\n+     *      |--LCURLY ({)\n+     *       `--RCURLY (})\n+     * </pre>\n+     *\n+     * @since 8.36", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6ef3bcaa0405d5a565d8326416f1de562d09f7a"}, "originalPosition": 72}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98bc4c05f57fccc11148c6b01ddc76331282d7fc", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/98bc4c05f57fccc11148c6b01ddc76331282d7fc", "committedDate": "2020-07-27T15:48:47Z", "message": "Issue #8267: Implement full records support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d6ef3bcaa0405d5a565d8326416f1de562d09f7a", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/d6ef3bcaa0405d5a565d8326416f1de562d09f7a", "committedDate": "2020-07-26T16:08:46Z", "message": "Issue #8267: Implement full records support"}, "afterCommit": {"oid": "98bc4c05f57fccc11148c6b01ddc76331282d7fc", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/98bc4c05f57fccc11148c6b01ddc76331282d7fc", "committedDate": "2020-07-27T15:48:47Z", "message": "Issue #8267: Implement full records support"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2MDExMTA4", "url": "https://github.com/checkstyle/checkstyle/pull/8422#pullrequestreview-456011108", "createdAt": "2020-07-27T17:58:58Z", "commit": {"oid": "98bc4c05f57fccc11148c6b01ddc76331282d7fc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2MDI3NDk5", "url": "https://github.com/checkstyle/checkstyle/pull/8422#pullrequestreview-456027499", "createdAt": "2020-07-27T18:22:31Z", "commit": {"oid": "98bc4c05f57fccc11148c6b01ddc76331282d7fc"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxODoyMjozMlrOG3uQqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxODoyMjozMlrOG3uQqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTA4Mjc5NA==", "bodyText": "8.35 was just released so this needs to be upped to 36", "url": "https://github.com/checkstyle/checkstyle/pull/8422#discussion_r461082794", "createdAt": "2020-07-27T18:22:32Z", "author": {"login": "rnveach"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/api/TokenTypes.java", "diffHunk": "@@ -3572,13 +3572,16 @@\n     /**\n      * The {@code record} keyword.  This element appears\n      * as part of a record declaration.\n+     *\n+     * @since 8.35", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "98bc4c05f57fccc11148c6b01ddc76331282d7fc"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2MDY4ODEy", "url": "https://github.com/checkstyle/checkstyle/pull/8422#pullrequestreview-456068812", "createdAt": "2020-07-27T19:24:13Z", "commit": {"oid": "98bc4c05f57fccc11148c6b01ddc76331282d7fc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 457, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}