{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ1NjIyMDIz", "number": 9129, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQxODo1MjoyNFrOFJLbZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQxODo1NzozMlrOFJLc9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1MTY4NzQyOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/AvoidEscapedUnicodeCharactersCheck.java", "isResolved": true, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQxODo1MjoyNFrOILeT6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNlQyMzozNzo1N1rOILm63g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODkwMTg2Ng==", "bodyText": "Isn't \\\\\\\\b mean we are looking for the text string \\{binary character}?\nWon't putting this directly into [] mean we change the search from the above to looking for the text string \\ or the {binary character} and not the combination of the 2?\nImagine if this was just \\\\n. It is looking for the text string \\n not the line control.", "url": "https://github.com/checkstyle/checkstyle/pull/9129#discussion_r548901866", "createdAt": "2020-12-25T18:52:24Z", "author": {"login": "rnveach"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/AvoidEscapedUnicodeCharactersCheck.java", "diffHunk": "@@ -179,15 +179,7 @@\n \n     /** Regular expression for all escaped chars. */\n     private static final Pattern ALL_ESCAPED_CHARS = Pattern.compile(\"^((\\\\\\\\u)[a-fA-F0-9]{4}\"\n-            + \"|\\\"\"\n-            + \"|'\"\n-            + \"|\\\\\\\\\"\n-            + \"|\\\\\\\\b\"\n-            + \"|\\\\\\\\f\"\n-            + \"|\\\\\\\\n\"\n-            + \"|\\\\\\\\r\"\n-            + \"|\\\\\\\\t\"\n-            + \")+$\");\n+            + \"|[\\\"'\\\\\\\\\\\\\\\\b\\\\\\\\f\\\\\\\\n\\\\\\\\r\\\\\\\\t])+$\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66b275e80148c7327a09db6fc1c99c22f97e5bef"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODkwMjA0Nw==", "bodyText": "We should have a test case to cover this.", "url": "https://github.com/checkstyle/checkstyle/pull/9129#discussion_r548902047", "createdAt": "2020-12-25T18:55:09Z", "author": {"login": "rnveach"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/AvoidEscapedUnicodeCharactersCheck.java", "diffHunk": "@@ -179,15 +179,7 @@\n \n     /** Regular expression for all escaped chars. */\n     private static final Pattern ALL_ESCAPED_CHARS = Pattern.compile(\"^((\\\\\\\\u)[a-fA-F0-9]{4}\"\n-            + \"|\\\"\"\n-            + \"|'\"\n-            + \"|\\\\\\\\\"\n-            + \"|\\\\\\\\b\"\n-            + \"|\\\\\\\\f\"\n-            + \"|\\\\\\\\n\"\n-            + \"|\\\\\\\\r\"\n-            + \"|\\\\\\\\t\"\n-            + \")+$\");\n+            + \"|[\\\"'\\\\\\\\\\\\\\\\b\\\\\\\\f\\\\\\\\n\\\\\\\\r\\\\\\\\t])+$\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODkwMTg2Ng=="}, "originalCommit": {"oid": "66b275e80148c7327a09db6fc1c99c22f97e5bef"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTAxMjYzMw==", "bodyText": "I do not understand what is \\b at all .\nit was added at 39f40e5 without any specific reason.", "url": "https://github.com/checkstyle/checkstyle/pull/9129#discussion_r549012633", "createdAt": "2020-12-26T17:20:31Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/AvoidEscapedUnicodeCharactersCheck.java", "diffHunk": "@@ -179,15 +179,7 @@\n \n     /** Regular expression for all escaped chars. */\n     private static final Pattern ALL_ESCAPED_CHARS = Pattern.compile(\"^((\\\\\\\\u)[a-fA-F0-9]{4}\"\n-            + \"|\\\"\"\n-            + \"|'\"\n-            + \"|\\\\\\\\\"\n-            + \"|\\\\\\\\b\"\n-            + \"|\\\\\\\\f\"\n-            + \"|\\\\\\\\n\"\n-            + \"|\\\\\\\\r\"\n-            + \"|\\\\\\\\t\"\n-            + \")+$\");\n+            + \"|[\\\"'\\\\\\\\\\\\\\\\b\\\\\\\\f\\\\\\\\n\\\\\\\\r\\\\\\\\t])+$\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODkwMTg2Ng=="}, "originalCommit": {"oid": "66b275e80148c7327a09db6fc1c99c22f97e5bef"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTAxNTI1MA==", "bodyText": "ok it is \\b | Insert a backspace in the text at this point.\nhttps://docs.oracle.com/javase/tutorial/java/data/characters.html", "url": "https://github.com/checkstyle/checkstyle/pull/9129#discussion_r549015250", "createdAt": "2020-12-26T17:53:17Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/AvoidEscapedUnicodeCharactersCheck.java", "diffHunk": "@@ -179,15 +179,7 @@\n \n     /** Regular expression for all escaped chars. */\n     private static final Pattern ALL_ESCAPED_CHARS = Pattern.compile(\"^((\\\\\\\\u)[a-fA-F0-9]{4}\"\n-            + \"|\\\"\"\n-            + \"|'\"\n-            + \"|\\\\\\\\\"\n-            + \"|\\\\\\\\b\"\n-            + \"|\\\\\\\\f\"\n-            + \"|\\\\\\\\n\"\n-            + \"|\\\\\\\\r\"\n-            + \"|\\\\\\\\t\"\n-            + \")+$\");\n+            + \"|[\\\"'\\\\\\\\\\\\\\\\b\\\\\\\\f\\\\\\\\n\\\\\\\\r\\\\\\\\t])+$\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODkwMTg2Ng=="}, "originalCommit": {"oid": "66b275e80148c7327a09db6fc1c99c22f97e5bef"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTAxNTY5Ng==", "bodyText": "@rnveach , I do not see problem here\n$ javac Test.java \n$ cat Test.java \npublic class Test {\n  String value = \"\\u03bc\\b\"; // ok\n}\n\n$ cat config.xml \n<?xml version=\"1.0\"?>\n<!DOCTYPE module PUBLIC\n          \"-//Puppy Crawl//DTD Check Configuration 1.3//EN\"\n          \"http://www.puppycrawl.com/dtds/configuration_1_3.dtd\">\n\n<module name=\"Checker\">\n    <property name=\"charset\" value=\"UTF-8\"/>\n\n    <module name=\"TreeWalker\">\n      <module name=\"AvoidEscapedUnicodeCharacters\">\n        <property name=\"allowIfAllCharactersEscaped\" value=\"true\"/>\n      </module>\n\n    </module>\n</module>\n\n$ java -jar checkstyle-8.38-all.jar -c config.xml Test.java\nStarting audit...\nAudit done.\n\n$ cat config.xml \n<?xml version=\"1.0\"?>\n<!DOCTYPE module PUBLIC\n          \"-//Puppy Crawl//DTD Check Configuration 1.3//EN\"\n          \"http://www.puppycrawl.com/dtds/configuration_1_3.dtd\">\n\n<module name=\"Checker\">\n    <property name=\"charset\" value=\"UTF-8\"/>\n\n    <module name=\"TreeWalker\">\n      <module name=\"AvoidEscapedUnicodeCharacters\">\n      </module>\n\n    </module>\n</module>\n\n$ java -jar checkstyle-8.38-all.jar -c config.xml Test.java\nStarting audit...\n[ERROR] /var/tmp/Test.java:2:18: Unicode escape(s) usage should be avoided. [AvoidEscapedUnicodeCharacters]\nAudit done.\nCheckstyle ends with 1 errors.", "url": "https://github.com/checkstyle/checkstyle/pull/9129#discussion_r549015696", "createdAt": "2020-12-26T17:58:01Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/AvoidEscapedUnicodeCharactersCheck.java", "diffHunk": "@@ -179,15 +179,7 @@\n \n     /** Regular expression for all escaped chars. */\n     private static final Pattern ALL_ESCAPED_CHARS = Pattern.compile(\"^((\\\\\\\\u)[a-fA-F0-9]{4}\"\n-            + \"|\\\"\"\n-            + \"|'\"\n-            + \"|\\\\\\\\\"\n-            + \"|\\\\\\\\b\"\n-            + \"|\\\\\\\\f\"\n-            + \"|\\\\\\\\n\"\n-            + \"|\\\\\\\\r\"\n-            + \"|\\\\\\\\t\"\n-            + \")+$\");\n+            + \"|[\\\"'\\\\\\\\\\\\\\\\b\\\\\\\\f\\\\\\\\n\\\\\\\\r\\\\\\\\t])+$\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODkwMTg2Ng=="}, "originalCommit": {"oid": "66b275e80148c7327a09db6fc1c99c22f97e5bef"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTAyMDY3MQ==", "bodyText": "Master:\n$ cat TestClass.java\npublic class Test {\n  String value = \"b\\u03bc\"; // ok\n}\n\n$ cat TestConfig.xml\n<?xml version=\"1.0\"?>\n<!DOCTYPE module PUBLIC\n          \"-//Puppy Crawl//DTD Check Configuration 1.3//EN\"\n          \"https://checkstyle.org/dtds/configuration_1_3.dtd\">\n\n<module name=\"Checker\">\n    <property name=\"charset\" value=\"UTF-8\"/>\n\n    <module name=\"TreeWalker\">\n      <module name=\"AvoidEscapedUnicodeCharacters\">\n<property name=\"allowIfAllCharactersEscaped\" value=\"true\" />\n      </module>\n\n    </module>\n</module>\n\n$ java -jar checkstyle-8.38-all.jar -c TestConfig.xml TestClass.java\nStarting audit...\n[ERROR] TestClass.java:2:18: Unicode escape(s) usage should be avoided. [AvoidEscapedUnicodeCharacters]\nAudit done.\nCheckstyle ends with 1 errors.\n\nPR:\n$ cat TestClass.java\npublic class Test {\n  String value = \"b\\u03bc\"; // ok\n}\n\n$ cat TestConfig.xml\n<?xml version=\"1.0\"?>\n<!DOCTYPE module PUBLIC\n          \"-//Puppy Crawl//DTD Check Configuration 1.3//EN\"\n          \"https://checkstyle.org/dtds/configuration_1_3.dtd\">\n\n<module name=\"Checker\">\n    <property name=\"charset\" value=\"UTF-8\"/>\n\n    <module name=\"TreeWalker\">\n      <module name=\"AvoidEscapedUnicodeCharacters\">\n<property name=\"allowIfAllCharactersEscaped\" value=\"true\" />\n      </module>\n\n    </module>\n</module>\n\n$ java -jar checkstyle-checkstyle-pr-sonarregexpstackoverflow2-2020-12-26-all.jar -c TestConfig.xml TestClass.java\nStarting audit...\nAudit done.\n\nShort Answer: You can't use []s here.", "url": "https://github.com/checkstyle/checkstyle/pull/9129#discussion_r549020671", "createdAt": "2020-12-26T19:00:18Z", "author": {"login": "rnveach"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/AvoidEscapedUnicodeCharactersCheck.java", "diffHunk": "@@ -179,15 +179,7 @@\n \n     /** Regular expression for all escaped chars. */\n     private static final Pattern ALL_ESCAPED_CHARS = Pattern.compile(\"^((\\\\\\\\u)[a-fA-F0-9]{4}\"\n-            + \"|\\\"\"\n-            + \"|'\"\n-            + \"|\\\\\\\\\"\n-            + \"|\\\\\\\\b\"\n-            + \"|\\\\\\\\f\"\n-            + \"|\\\\\\\\n\"\n-            + \"|\\\\\\\\r\"\n-            + \"|\\\\\\\\t\"\n-            + \")+$\");\n+            + \"|[\\\"'\\\\\\\\\\\\\\\\b\\\\\\\\f\\\\\\\\n\\\\\\\\r\\\\\\\\t])+$\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODkwMTg2Ng=="}, "originalCommit": {"oid": "66b275e80148c7327a09db6fc1c99c22f97e5bef"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTA0MjkxMA==", "bodyText": "thanks a lot!\nUTs are extended to cover this case.\nI will mark Sonar issue as false positive after merge, for some reason it showing different violation now.", "url": "https://github.com/checkstyle/checkstyle/pull/9129#discussion_r549042910", "createdAt": "2020-12-26T23:37:57Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/AvoidEscapedUnicodeCharactersCheck.java", "diffHunk": "@@ -179,15 +179,7 @@\n \n     /** Regular expression for all escaped chars. */\n     private static final Pattern ALL_ESCAPED_CHARS = Pattern.compile(\"^((\\\\\\\\u)[a-fA-F0-9]{4}\"\n-            + \"|\\\"\"\n-            + \"|'\"\n-            + \"|\\\\\\\\\"\n-            + \"|\\\\\\\\b\"\n-            + \"|\\\\\\\\f\"\n-            + \"|\\\\\\\\n\"\n-            + \"|\\\\\\\\r\"\n-            + \"|\\\\\\\\t\"\n-            + \")+$\");\n+            + \"|[\\\"'\\\\\\\\\\\\\\\\b\\\\\\\\f\\\\\\\\n\\\\\\\\r\\\\\\\\t])+$\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODkwMTg2Ng=="}, "originalCommit": {"oid": "66b275e80148c7327a09db6fc1c99c22f97e5bef"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1MTY5MTQyOnYy", "diffSide": "LEFT", "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/AvoidEscapedUnicodeCharactersCheck.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQxODo1NzozMlrOILeVnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNlQwNToyOToxM1rOILhAMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODkwMjMwMA==", "bodyText": "not related to this issue but related to this check: JEP 368 adds a new escape to java: \\s.", "url": "https://github.com/checkstyle/checkstyle/pull/9129#discussion_r548902300", "createdAt": "2020-12-25T18:57:32Z", "author": {"login": "pbludov"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/AvoidEscapedUnicodeCharactersCheck.java", "diffHunk": "@@ -179,15 +179,7 @@\n \n     /** Regular expression for all escaped chars. */\n     private static final Pattern ALL_ESCAPED_CHARS = Pattern.compile(\"^((\\\\\\\\u)[a-fA-F0-9]{4}\"\n-            + \"|\\\"\"\n-            + \"|'\"\n-            + \"|\\\\\\\\\"\n-            + \"|\\\\\\\\b\"\n-            + \"|\\\\\\\\f\"\n-            + \"|\\\\\\\\n\"\n-            + \"|\\\\\\\\r\"\n-            + \"|\\\\\\\\t\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66b275e80148c7327a09db6fc1c99c22f97e5bef"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODkzNjIyNg==", "bodyText": "@pbludov , bingo ! .... we missed it in grammar support.\n#9132", "url": "https://github.com/checkstyle/checkstyle/pull/9129#discussion_r548936226", "createdAt": "2020-12-26T03:07:00Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/AvoidEscapedUnicodeCharactersCheck.java", "diffHunk": "@@ -179,15 +179,7 @@\n \n     /** Regular expression for all escaped chars. */\n     private static final Pattern ALL_ESCAPED_CHARS = Pattern.compile(\"^((\\\\\\\\u)[a-fA-F0-9]{4}\"\n-            + \"|\\\"\"\n-            + \"|'\"\n-            + \"|\\\\\\\\\"\n-            + \"|\\\\\\\\b\"\n-            + \"|\\\\\\\\f\"\n-            + \"|\\\\\\\\n\"\n-            + \"|\\\\\\\\r\"\n-            + \"|\\\\\\\\t\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODkwMjMwMA=="}, "originalCommit": {"oid": "66b275e80148c7327a09db6fc1c99c22f97e5bef"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODkzNzAxNA==", "bodyText": "I postponing fix for Check till #9133", "url": "https://github.com/checkstyle/checkstyle/pull/9129#discussion_r548937014", "createdAt": "2020-12-26T03:19:22Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/AvoidEscapedUnicodeCharactersCheck.java", "diffHunk": "@@ -179,15 +179,7 @@\n \n     /** Regular expression for all escaped chars. */\n     private static final Pattern ALL_ESCAPED_CHARS = Pattern.compile(\"^((\\\\\\\\u)[a-fA-F0-9]{4}\"\n-            + \"|\\\"\"\n-            + \"|'\"\n-            + \"|\\\\\\\\\"\n-            + \"|\\\\\\\\b\"\n-            + \"|\\\\\\\\f\"\n-            + \"|\\\\\\\\n\"\n-            + \"|\\\\\\\\r\"\n-            + \"|\\\\\\\\t\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODkwMjMwMA=="}, "originalCommit": {"oid": "66b275e80148c7327a09db6fc1c99c22f97e5bef"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODk0NTk3MQ==", "bodyText": "#9134", "url": "https://github.com/checkstyle/checkstyle/pull/9129#discussion_r548945971", "createdAt": "2020-12-26T05:29:13Z", "author": {"login": "nmancus1"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/AvoidEscapedUnicodeCharactersCheck.java", "diffHunk": "@@ -179,15 +179,7 @@\n \n     /** Regular expression for all escaped chars. */\n     private static final Pattern ALL_ESCAPED_CHARS = Pattern.compile(\"^((\\\\\\\\u)[a-fA-F0-9]{4}\"\n-            + \"|\\\"\"\n-            + \"|'\"\n-            + \"|\\\\\\\\\"\n-            + \"|\\\\\\\\b\"\n-            + \"|\\\\\\\\f\"\n-            + \"|\\\\\\\\n\"\n-            + \"|\\\\\\\\r\"\n-            + \"|\\\\\\\\t\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODkwMjMwMA=="}, "originalCommit": {"oid": "66b275e80148c7327a09db6fc1c99c22f97e5bef"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1595, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}