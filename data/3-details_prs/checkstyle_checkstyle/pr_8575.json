{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4MTM5OTIx", "number": 8575, "title": "Issue #8505: Records Support check update for JavaNCSSCheck", "bodyText": "Issue #8505: Records Support check update for JavaNCSSCheck\nDiff Regression projects: https://gist.githubusercontent.com/nmancus1/e3988f8092d919b5cbe70f5359c4d9e8/raw/a0f6f5860f8025c19868061dee6e0e40960b992f/projects-to-test-on.properties\nDiff Regression config: https://gist.githubusercontent.com/nmancus1/ffc09aff638f88f32ef97514432b0a8b/raw/f66215404c0ae82f14dd1ed304282258f4d1ad36/javaancssbase.xml\nDiff Regression patch config: https://gist.githubusercontent.com/nmancus1/8ed0d8354f0f97bd94dd6a8956b3af80/raw/4f176909a2e38f3bdaad51bbe44be721fc869001/javancss.xml", "createdAt": "2020-07-29T01:26:41Z", "url": "https://github.com/checkstyle/checkstyle/pull/8575", "merged": true, "mergeCommit": {"oid": "228313a77fd5a3d1a1c56cd2df18a7b71e770001"}, "closed": true, "closedAt": "2020-08-12T06:18:06Z", "author": {"login": "nmancus1"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5g10rgFqTQ1NzEzNTAxMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc93le9gFqTQ2NTExNjgxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MTM1MDEy", "url": "https://github.com/checkstyle/checkstyle/pull/8575#pullrequestreview-457135012", "createdAt": "2020-07-29T01:30:21Z", "commit": {"oid": "45580ff0a4952cbae2968e2e000c3ab56e95e358"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwMTozMDoyMVrOG4lVzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwMTozNToxNFrOG4lazA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTk4NTIzMA==", "bodyText": "I chose 500 somewhat arbitrarily;  if anyone objects we can just set it to 1500, which is the max for classes.  In my mind, a record should be more brief than a class, so it made sense to set the default at one-third the length of a class.", "url": "https://github.com/checkstyle/checkstyle/pull/8575#discussion_r461985230", "createdAt": "2020-07-29T01:30:21Z", "author": {"login": "nmancus1"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/metrics/JavaNCSSCheck.java", "diffHunk": "@@ -211,6 +226,9 @@\n     /** Default constant for max file ncss. */\n     private static final int CLASS_MAX_NCSS = 1500;\n \n+    /** Default constant for max record ncss. */\n+    private static final int RECORD_MAX_NCSS = 500;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45580ff0a4952cbae2968e2e000c3ab56e95e358"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTk4NTY5Mg==", "bodyText": "I needed to create this to reduce cyclomatic complexity in the leaveToken() method, so I also used this method in the visitToken() method.", "url": "https://github.com/checkstyle/checkstyle/pull/8575#discussion_r461985692", "createdAt": "2020-07-29T01:32:13Z", "author": {"login": "nmancus1"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/metrics/JavaNCSSCheck.java", "diffHunk": "@@ -453,6 +495,18 @@ private static boolean isExpressionCountable(DetailAST ast) {\n         return countable;\n     }\n \n+    /**\n+     * Checks if a token is a method, constructor, or compact constructor definition.\n+     *\n+     * @param tokenType the type of token we are checking\n+     * @return true if token type is method or ctor definition, false otherwise\n+     */\n+    private static boolean isMethodOrCtorDefinition(int tokenType) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45580ff0a4952cbae2968e2e000c3ab56e95e358"}, "originalPosition": 137}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTk4NjUwOA==", "bodyText": "I ran all of these messages through google translate, and checked them against the messages for classes. I'm not sure what the normal translation protocol is, and the \"creating your own check\" documentation didn't specify a translation source.", "url": "https://github.com/checkstyle/checkstyle/pull/8575#discussion_r461986508", "createdAt": "2020-07-29T01:35:14Z", "author": {"login": "nmancus1"}, "path": "src/main/resources/com/puppycrawl/tools/checkstyle/checks/metrics/messages_ja.properties", "diffHunk": "@@ -5,4 +5,5 @@ cyclomaticComplexity=\u5faa\u74b0\u7684\u8907\u96d1\u5ea6\u304c {0,number,integer} \uff08\u6700\u5927 {1,numbe\n ncss.class=\u3053\u306e\u30af\u30e9\u30b9\u306eNCSS\u304c {0,number,integer} \uff08\u6700\u5927 {1,number,integer} \u307e\u3067\uff09\u3067\u3059\u3002\n ncss.file=\u3053\u306e\u30d5\u30a1\u30a4\u30eb\u306eNCSS\u304c {0,number,integer} \uff08\u6700\u5927 {1,number,integer} \u307e\u3067\uff09\u3067\u3059\u3002\n ncss.method=\u3053\u306e\u30e1\u30bd\u30c3\u30c9\u306eNCSS\u304c {0,number,integer} \uff08\u6700\u5927 {1,number,integer} \u307e\u3067\uff09\u3067\u3059\u3002\n+ncss.record=\u3053\u306e\u30ec\u30b3\u30fc\u30c9\u306eNCSS {0,number,integer} \uff08\u6700\u5927 {1,number,integer} \u307e\u3067\uff09\u3067\u3059\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45580ff0a4952cbae2968e2e000c3ab56e95e358"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "45580ff0a4952cbae2968e2e000c3ab56e95e358", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/45580ff0a4952cbae2968e2e000c3ab56e95e358", "committedDate": "2020-07-29T01:22:02Z", "message": "Issue #8505: Records Support check update for JavaNCSSCheck"}, "afterCommit": {"oid": "b689d2408e2fd035703b4b20b2947893ae25c87f", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/b689d2408e2fd035703b4b20b2947893ae25c87f", "committedDate": "2020-07-29T01:38:56Z", "message": "Issue #8505: Records Support check update for JavaNCSSCheck"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b689d2408e2fd035703b4b20b2947893ae25c87f", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/b689d2408e2fd035703b4b20b2947893ae25c87f", "committedDate": "2020-07-29T01:38:56Z", "message": "Issue #8505: Records Support check update for JavaNCSSCheck"}, "afterCommit": {"oid": "1780148ac60e16e56d3b8a38285c61982f0f4a81", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/1780148ac60e16e56d3b8a38285c61982f0f4a81", "committedDate": "2020-07-29T02:04:31Z", "message": "Issue #8505: Records Support check update for JavaNCSSCheck"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3MjEzNjUw", "url": "https://github.com/checkstyle/checkstyle/pull/8575#pullrequestreview-457213650", "createdAt": "2020-07-29T05:54:49Z", "commit": {"oid": "1780148ac60e16e56d3b8a38285c61982f0f4a81"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNTo1NDo0OVrOG4plvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQwNjoxNToyMFrOG4qBrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA1NDg0Ng==", "bodyText": "Why not move all five tokens here? Compact ctor's are more like \"instance init\" than methods.", "url": "https://github.com/checkstyle/checkstyle/pull/8575#discussion_r462054846", "createdAt": "2020-07-29T05:54:49Z", "author": {"login": "pbludov"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/metrics/JavaNCSSCheck.java", "diffHunk": "@@ -453,6 +495,18 @@ private static boolean isExpressionCountable(DetailAST ast) {\n         return countable;\n     }\n \n+    /**\n+     * Checks if a token is a method, constructor, or compact constructor definition.\n+     *\n+     * @param tokenType the type of token we are checking\n+     * @return true if token type is method or ctor definition, false otherwise\n+     */\n+    private static boolean isMethodOrCtorDefinition(int tokenType) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTk4NTY5Mg=="}, "originalCommit": {"oid": "45580ff0a4952cbae2968e2e000c3ab56e95e358"}, "originalPosition": 137}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA1OTUyMA==", "bodyText": "I have no idea why all other messages in Finnish have \"NCS\" instead of \"NCSS\".\nLooks like a bug. I played with the google/microsoft/yandex translators a bit and it looks like there should be \"NCSS\" here after all.", "url": "https://github.com/checkstyle/checkstyle/pull/8575#discussion_r462059520", "createdAt": "2020-07-29T06:08:35Z", "author": {"login": "pbludov"}, "path": "src/main/resources/com/puppycrawl/tools/checkstyle/checks/metrics/messages_fi.properties", "diffHunk": "@@ -5,4 +5,5 @@ cyclomaticComplexity=Syklomaattinen monimutkaisuus on {0,number,integer} (max sa\n ncss.class=S\u00e4vy\u00e4 NCS t\u00e4m\u00e4n luokan on {0, number,integer} (max sallittu on {1, number,integer}).\n ncss.file=S\u00e4vy\u00e4 NCS T\u00e4m\u00e4n tiedoston on {0, number,integer} (max sallittu on {1, number,integer}).\n ncss.method=S\u00e4vy\u00e4 NCS T\u00e4m\u00e4n menetelm\u00e4n on {0, number,integer} (max sallittu on {1, number,integer}).\n+ncss.record=S\u00e4vy\u00e4 NCSS t\u00e4m\u00e4n enn\u00e4tys on {0, number,integer} (max sallittu on {1, number,integer}).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1780148ac60e16e56d3b8a38285c61982f0f4a81"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA2MDg3Ng==", "bodyText": "More likely it is \"Bu kayd\u0131n a\u00e7\u0131klama olmayan kaynak kod sat\u0131r\u0131 (NCSS) say\u0131s\u0131\"", "url": "https://github.com/checkstyle/checkstyle/pull/8575#discussion_r462060876", "createdAt": "2020-07-29T06:12:23Z", "author": {"login": "pbludov"}, "path": "src/main/resources/com/puppycrawl/tools/checkstyle/checks/metrics/messages_tr.properties", "diffHunk": "@@ -11,5 +11,5 @@ cyclomaticComplexity = Cyclomatic Complexity de\u011feri {0,number,integer} {0,numbe\n ncss.class  = Bu s\u0131n\u0131f\u0131n a\u00e7\u0131klama olmayan kaynak kod sat\u0131r\u0131 (NCSS) say\u0131s\u0131  {0,number,integer} (maksimum izin verilen de\u011fer {1,number,integer}).\n ncss.file   = Bu dosyan\u0131n a\u00e7\u0131klama olmayan kaynak kod sat\u0131r\u0131 (NCSS) say\u0131s\u0131  {0,number,integer} (maksimum izin verilen de\u011fer {1,number,integer}).\n ncss.method = Bu metodun a\u00e7\u0131klama olmayan kaynak kod sat\u0131r\u0131 (NCSS) say\u0131s\u0131  {0,number,integer} (maksimum izin verilen de\u011fer {1,number,integer}).\n-\n+ncss.record=A\u00e7\u0131klama olmadan bu kayd\u0131n kaynak kodu sat\u0131r\u0131 (NCSS) say\u0131s\u0131  {0,number,integer} (maksimum izin verilen de\u011fer {1,number,integer}).\n npathComplexity = NPath Complexity de\u011feri {0,number,integer} (maksimum izin verilen de\u011fer {1,number,integer}). (NPath Complexity: Bir metodun m\u00fcmk\u00fcn olan t\u00fcm ger\u00e7eklenme yollar\u0131n\u0131n say\u0131s\u0131)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1780148ac60e16e56d3b8a38285c61982f0f4a81"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjA2MTk5OA==", "bodyText": "I agree. 150 is a more reasonable limit.", "url": "https://github.com/checkstyle/checkstyle/pull/8575#discussion_r462061998", "createdAt": "2020-07-29T06:15:20Z", "author": {"login": "pbludov"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/metrics/JavaNCSSCheck.java", "diffHunk": "@@ -211,6 +226,9 @@\n     /** Default constant for max file ncss. */\n     private static final int CLASS_MAX_NCSS = 1500;\n \n+    /** Default constant for max record ncss. */\n+    private static final int RECORD_MAX_NCSS = 500;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTk4NTIzMA=="}, "originalCommit": {"oid": "45580ff0a4952cbae2968e2e000c3ab56e95e358"}, "originalPosition": 41}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1780148ac60e16e56d3b8a38285c61982f0f4a81", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/1780148ac60e16e56d3b8a38285c61982f0f4a81", "committedDate": "2020-07-29T02:04:31Z", "message": "Issue #8505: Records Support check update for JavaNCSSCheck"}, "afterCommit": {"oid": "08ba501c910aa0893bcb91a8da9f1816becf1177", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/08ba501c910aa0893bcb91a8da9f1816becf1177", "committedDate": "2020-07-29T16:01:22Z", "message": "Issue #8505: Records Support check update for JavaNCSSCheck"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3ODk0MzUx", "url": "https://github.com/checkstyle/checkstyle/pull/8575#pullrequestreview-457894351", "createdAt": "2020-07-29T21:01:24Z", "commit": {"oid": "08ba501c910aa0893bcb91a8da9f1816becf1177"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4MDcxNzAx", "url": "https://github.com/checkstyle/checkstyle/pull/8575#pullrequestreview-458071701", "createdAt": "2020-07-30T05:00:02Z", "commit": {"oid": "08ba501c910aa0893bcb91a8da9f1816becf1177"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "08ba501c910aa0893bcb91a8da9f1816becf1177", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/08ba501c910aa0893bcb91a8da9f1816becf1177", "committedDate": "2020-07-29T16:01:22Z", "message": "Issue #8505: Records Support check update for JavaNCSSCheck"}, "afterCommit": {"oid": "11eceab27050c539160e0e040b27cdc3ed458ed2", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/11eceab27050c539160e0e040b27cdc3ed458ed2", "committedDate": "2020-08-06T16:41:21Z", "message": "Issue #8505: Records Support check update for JavaNCSSCheck"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "11eceab27050c539160e0e040b27cdc3ed458ed2", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/11eceab27050c539160e0e040b27cdc3ed458ed2", "committedDate": "2020-08-06T16:41:21Z", "message": "Issue #8505: Records Support check update for JavaNCSSCheck"}, "afterCommit": {"oid": "f261005ec08ba568b49c0e7d4f305673f774b6f8", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/f261005ec08ba568b49c0e7d4f305673f774b6f8", "committedDate": "2020-08-07T01:45:16Z", "message": "Issue #8505: Records Support check update for JavaNCSSCheck"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzOTA4MDk1", "url": "https://github.com/checkstyle/checkstyle/pull/8575#pullrequestreview-463908095", "createdAt": "2020-08-09T22:26:21Z", "commit": {"oid": "f261005ec08ba568b49c0e7d4f305673f774b6f8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wOVQyMjoyNjoyMVrOG9-O2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wOVQyMjoyNjoyMVrOG9-O2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzYzNTkzMQ==", "bodyText": "are you sure we need this ? we suppose to not run any other Checks over inputs.", "url": "https://github.com/checkstyle/checkstyle/pull/8575#discussion_r467635931", "createdAt": "2020-08-09T22:26:21Z", "author": {"login": "romani"}, "path": "src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/metrics/javancss/InputJavaNCSSRecordsAndCompactCtors.java", "diffHunk": "@@ -0,0 +1,180 @@\n+//non-compiled with javac: Compilable with Java14\n+package com.puppycrawl.tools.checkstyle.checks.metrics.javancss; // violation for file\n+\n+import java.time.LocalDateTime;\n+\n+/* Config:\n+ * methodMaximum = 7\n+ * classMaximum = 3\n+ * fileMaximum = 2\n+ * recordMaximum = 4\n+ */\n+// -@cs[AbbreviationAsWordInName] We can not change it as,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f261005ec08ba568b49c0e7d4f305673f774b6f8"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00746ee82666c019c9154f825e643805c72d8598", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/00746ee82666c019c9154f825e643805c72d8598", "committedDate": "2020-08-11T13:17:15Z", "message": "Issue #8505: Records Support check update for JavaNCSSCheck"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f261005ec08ba568b49c0e7d4f305673f774b6f8", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/f261005ec08ba568b49c0e7d4f305673f774b6f8", "committedDate": "2020-08-07T01:45:16Z", "message": "Issue #8505: Records Support check update for JavaNCSSCheck"}, "afterCommit": {"oid": "00746ee82666c019c9154f825e643805c72d8598", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/00746ee82666c019c9154f825e643805c72d8598", "committedDate": "2020-08-11T13:17:15Z", "message": "Issue #8505: Records Support check update for JavaNCSSCheck"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1MTE2ODE5", "url": "https://github.com/checkstyle/checkstyle/pull/8575#pullrequestreview-465116819", "createdAt": "2020-08-11T14:21:11Z", "commit": {"oid": "00746ee82666c019c9154f825e643805c72d8598"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1152, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}