{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkwMjI4MzM4", "number": 7893, "title": "Issue #7636: Update doc for DefaultComesLast", "bodyText": "fixes #7636\n\n\nOutput for default example\nkaustubh@dxtk:~$ cat Test.xml\n<?xml version=\"1.0\"?>\n<!DOCTYPE module PUBLIC\n          \"-//Puppy Crawl//DTD Check Configuration 1.3//EN\"\n          \"http://www.puppycrawl.com/dtds/configuration_1_3.dtd\">\n\n<module name=\"Checker\">\n<property name=\"charset\" value=\"UTF-8\"/>\n<module name=\"TreeWalker\">\n<module name=\"DefaultComesLast\">\n\n</module>\n</module>\n</module>\nkaustubh@dxtk:~$ cat Test.java\npublic class Test {\n  void method(int i) {\n    switch (i) {\n      case 1:\n        break;\n      case 2:\n        break;\n      default: // OK\n        break; \n    }\n\n     switch (i) {\n      case 1:\n        break;\n      case 2:\n        break; // OK, no default\n    }\n\n     switch (i) {\n      case 1:\n        break;\n      default: // violation, 'default' before 'case'\n        break;\n      case 2:\n        break;\n    }\n\n     switch (i) {\n      case 1:\n      default: // violation, 'default' before 'case'\n        break;\n      case 2:\n        break;\n    }\n  }\n}\nkaustubh@dxtk:~$ java -jar checkstyle-8.30-all.jar -c Test.xml Test.java\nStarting audit...\n[ERROR] /home/kaustubh/Test.java:22:7: Default should be last label in the switch. [DefaultComesLast]\n[ERROR] /home/kaustubh/Test.java:30:7: Default should be last label in the switch. [DefaultComesLast]\nAudit done.\nCheckstyle ends with 2 errors.\n\nOutput for configuration\nkaustubh@dxtk:~$ cat Test.xml\n<?xml version=\"1.0\"?>\n<!DOCTYPE module PUBLIC\n          \"-//Puppy Crawl//DTD Check Configuration 1.3//EN\"\n          \"http://www.puppycrawl.com/dtds/configuration_1_3.dtd\">\n\n<module name=\"Checker\">\n    <property name=\"charset\" value=\"UTF-8\"/>\n<module name=\"TreeWalker\">\n<module name=\"DefaultComesLast\">\n  <property name=\"skipIfLastAndSharedWithCase\" value=\"true\"/>\n</module>\n</module>\n</module>\nkaustubh@dxtk:~$ cat Test.java\npublic class Test {\n  void method(int i) {\n   switch (i) {\n     case 1:\n       break;\n     case 2:\n     default: // OK\n       break;\n     case 3:\n       break;\n   }\n   switch (i) {\n     case 1:\n       break;\n     default: // violation\n     case 2:\n       break;\n   }  \n }\n}\nkaustubh@dxtk:~$ java -jar checkstyle-8.30-all.jar -c Test.xml Test.java\nStarting audit...\n[ERROR] /home/kaustubh/Test.java:15:6: Default should be last label in the case group. [DefaultComesLast]\nAudit done.\nCheckstyle ends with 1 errors.\n\n@strkkk please review.", "createdAt": "2020-03-18T05:35:39Z", "url": "https://github.com/checkstyle/checkstyle/pull/7893", "merged": true, "mergeCommit": {"oid": "0077a3928a0e524288999b02a0acd59e9a7fc955"}, "closed": true, "closedAt": "2020-03-19T10:40:55Z", "author": {"login": "DXTkastb"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcOwllXgBqjMxNDAwMjI3MTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcPJhUUgFqTM3NzYwMTM5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6797142840b58caca817729e73c111a95cd663d7", "author": {"user": {"login": "DXTkastb", "name": "Kaustubh Dixit"}}, "url": "https://github.com/checkstyle/checkstyle/commit/6797142840b58caca817729e73c111a95cd663d7", "committedDate": "2020-03-18T05:32:31Z", "message": "Issue #7636: Update doc for DefaultComesLast"}, "afterCommit": {"oid": "72d4d6a7819631343d8361b41bdaf22a853bf070", "author": {"user": {"login": "DXTkastb", "name": "Kaustubh Dixit"}}, "url": "https://github.com/checkstyle/checkstyle/commit/72d4d6a7819631343d8361b41bdaf22a853bf070", "committedDate": "2020-03-18T05:36:55Z", "message": "Issue #7636: Update doc for DefaultComesLast"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc2NjU4NDkz", "url": "https://github.com/checkstyle/checkstyle/pull/7893#pullrequestreview-376658493", "createdAt": "2020-03-18T08:43:29Z", "commit": {"oid": "72d4d6a7819631343d8361b41bdaf22a853bf070"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwODo0MzoyOVrOF37A8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOFQwODo0NTo1MFrOF37F7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDE4Mjg5OA==", "bodyText": "violation is on \"default\" token, please move ok comment on the line with \"default\"", "url": "https://github.com/checkstyle/checkstyle/pull/7893#discussion_r394182898", "createdAt": "2020-03-18T08:43:29Z", "author": {"login": "strkkk"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/coding/DefaultComesLastCheck.java", "diffHunk": "@@ -47,31 +47,64 @@\n  * <pre>\n  * &lt;module name=&quot;DefaultComesLast&quot;/&gt;\n  * </pre>\n- * <p>\n- * To configure the check for skipIfLastAndSharedWithCase:\n+ * <p>Example:</p>\n+ * <pre>\n+ * switch (i) {\n+ *   case 1:\n+ *     break;\n+ *   case 2:\n+ *     break;\n+ *   default:\n+ *     break; // OK", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72d4d6a7819631343d8361b41bdaf22a853bf070"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDE4MzUzNw==", "bodyText": ", with the new option is expected this can be removed", "url": "https://github.com/checkstyle/checkstyle/pull/7893#discussion_r394183537", "createdAt": "2020-03-18T08:44:41Z", "author": {"login": "strkkk"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/coding/DefaultComesLastCheck.java", "diffHunk": "@@ -47,31 +47,64 @@\n  * <pre>\n  * &lt;module name=&quot;DefaultComesLast&quot;/&gt;\n  * </pre>\n- * <p>\n- * To configure the check for skipIfLastAndSharedWithCase:\n+ * <p>Example:</p>\n+ * <pre>\n+ * switch (i) {\n+ *   case 1:\n+ *     break;\n+ *   case 2:\n+ *     break;\n+ *   default:\n+ *     break; // OK\n+ * }\n+ *\n+ * switch (i) {\n+ *   case 1:\n+ *     break;\n+ *   case 2:\n+ *     break; // OK, no default\n+ * }\n+ *\n+ * switch (i) {\n+ *   case 1:\n+ *     break;\n+ *   default: // violation, 'default' before 'case'\n+ *     break;\n+ *   case 2:\n+ *     break;\n+ * }\n+ *\n+ * switch (i) {\n+ *   case 1:\n+ *   default: // violation, 'default' before 'case'\n+ *     break;\n+ *   case 2:\n+ *     break;\n+ * }\n+ * </pre>\n+ * <p>To configure the check to allow default label to be not last if it is shared with case:\n  * </p>\n  * <pre>\n  * &lt;module name=&quot;DefaultComesLast&quot;&gt;\n  *   &lt;property name=&quot;skipIfLastAndSharedWithCase&quot; value=&quot;true&quot;/&gt;\n  * &lt;/module&gt;\n  * </pre>\n- * <p>\n- * Example when skipIfLastAndSharedWithCase is set to true.\n- * </p>\n+ * <p>Example:</p>\n  * <pre>\n  * switch (i) {\n  *   case 1:\n  *     break;\n  *   case 2:\n- *   default: // No violation with the new option is expected\n+ *   default: // OK\n  *     break;\n  *   case 3:\n  *     break;\n  * }\n+ *\n  * switch (i) {\n  *   case 1:\n  *     break;\n- *   default: // violation with the new option is expected\n+ *   default: // violation, with the new option is expected", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72d4d6a7819631343d8361b41bdaf22a853bf070"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDE4Mzg3OQ==", "bodyText": "please make indentation = 2 spaces", "url": "https://github.com/checkstyle/checkstyle/pull/7893#discussion_r394183879", "createdAt": "2020-03-18T08:45:21Z", "author": {"login": "strkkk"}, "path": "src/xdocs/config_coding.xml", "diffHunk": "@@ -751,30 +751,68 @@ class K {\n &lt;module name=&quot;DefaultComesLast&quot;/&gt;\n         </source>\n         <p>\n-            To configure the check for skipIfLastAndSharedWithCase:\n+            Example:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72d4d6a7819631343d8361b41bdaf22a853bf070"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDE4Mzk4MQ==", "bodyText": "here too", "url": "https://github.com/checkstyle/checkstyle/pull/7893#discussion_r394183981", "createdAt": "2020-03-18T08:45:31Z", "author": {"login": "strkkk"}, "path": "src/xdocs/config_coding.xml", "diffHunk": "@@ -751,30 +751,68 @@ class K {\n &lt;module name=&quot;DefaultComesLast&quot;/&gt;\n         </source>\n         <p>\n-            To configure the check for skipIfLastAndSharedWithCase:\n+            Example:\n+        </p>\n+        <source>\n+switch (i) {\n+  case 1:\n+    break;\n+  case 2:\n+    break;\n+  default:\n+    break; // OK\n+}\n+\n+switch (i) {\n+  case 1:\n+    break;\n+  case 2:\n+    break; // OK, no default\n+}\n+\n+switch (i) {\n+  case 1:\n+    break;\n+  default: // violation, 'default' before 'case'\n+    break;\n+  case 2:\n+    break;\n+}\n+\n+switch (i) {\n+  case 1:\n+  default: // violation, 'default' before 'case'\n+    break;\n+  case 2:\n+    break;\n+}\n+        </source>\n+        <p>\n+            To configure the check to allow default label to be not last if it is shared with case:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72d4d6a7819631343d8361b41bdaf22a853bf070"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NDE4NDE3Mg==", "bodyText": "here too", "url": "https://github.com/checkstyle/checkstyle/pull/7893#discussion_r394184172", "createdAt": "2020-03-18T08:45:50Z", "author": {"login": "strkkk"}, "path": "src/xdocs/config_coding.xml", "diffHunk": "@@ -751,30 +751,68 @@ class K {\n &lt;module name=&quot;DefaultComesLast&quot;/&gt;\n         </source>\n         <p>\n-            To configure the check for skipIfLastAndSharedWithCase:\n+            Example:\n+        </p>\n+        <source>\n+switch (i) {\n+  case 1:\n+    break;\n+  case 2:\n+    break;\n+  default:\n+    break; // OK\n+}\n+\n+switch (i) {\n+  case 1:\n+    break;\n+  case 2:\n+    break; // OK, no default\n+}\n+\n+switch (i) {\n+  case 1:\n+    break;\n+  default: // violation, 'default' before 'case'\n+    break;\n+  case 2:\n+    break;\n+}\n+\n+switch (i) {\n+  case 1:\n+  default: // violation, 'default' before 'case'\n+    break;\n+  case 2:\n+    break;\n+}\n+        </source>\n+        <p>\n+            To configure the check to allow default label to be not last if it is shared with case:\n         </p>\n         <source>\n &lt;module name=&quot;DefaultComesLast&quot;&gt;\n   &lt;property name=&quot;skipIfLastAndSharedWithCase&quot; value=&quot;true&quot;/&gt;\n &lt;/module&gt;\n         </source>\n         <p>\n-            Example when skipIfLastAndSharedWithCase is set to true.\n+            Example:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72d4d6a7819631343d8361b41bdaf22a853bf070"}, "originalPosition": 51}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "52660daf5fc8525749cd9b52d12536e8d991d19d", "author": {"user": {"login": "DXTkastb", "name": "Kaustubh Dixit"}}, "url": "https://github.com/checkstyle/checkstyle/commit/52660daf5fc8525749cd9b52d12536e8d991d19d", "committedDate": "2020-03-18T18:55:14Z", "message": "Issue #7636: Update doc for DefaultComesLast"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "72d4d6a7819631343d8361b41bdaf22a853bf070", "author": {"user": {"login": "DXTkastb", "name": "Kaustubh Dixit"}}, "url": "https://github.com/checkstyle/checkstyle/commit/72d4d6a7819631343d8361b41bdaf22a853bf070", "committedDate": "2020-03-18T05:36:55Z", "message": "Issue #7636: Update doc for DefaultComesLast"}, "afterCommit": {"oid": "52660daf5fc8525749cd9b52d12536e8d991d19d", "author": {"user": {"login": "DXTkastb", "name": "Kaustubh Dixit"}}, "url": "https://github.com/checkstyle/checkstyle/commit/52660daf5fc8525749cd9b52d12536e8d991d19d", "committedDate": "2020-03-18T18:55:14Z", "message": "Issue #7636: Update doc for DefaultComesLast"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3NjAxMzk5", "url": "https://github.com/checkstyle/checkstyle/pull/7893#pullrequestreview-377601399", "createdAt": "2020-03-19T10:40:29Z", "commit": {"oid": "52660daf5fc8525749cd9b52d12536e8d991d19d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 884, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}