{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM4OTY2NzIw", "number": 9102, "title": "Issue #5820: fix stack overflow error in ElementNode ctor", "bodyText": "Issue #5820\nCtors shouldn't call any methods unless it is completely unavoidable. Especially, methods that may do a lot of (unnecessary) work.\nFields children and attributeNode now with lazy initialization. Field text is removed. It just a call to TokenUtil.getTokenName(detailAst.getType()) which is TOKEN_VALUE_TO_NAME[id]. This is too simple to cache this value.\nDiff Regression projects: https://gist.githubusercontent.com/nmancus1/32ddbff9e69986ac2fcbbeff7def2f80/raw/8480445657f1d215e683dbb6b14c1577bbd44e6b/projects-to-test-on.properties\nCommits:\n\nfix stack overflow in ParenPad\nfix stack overflow in SingleSpaceSeparator\nfix stack overflow error in ElementNode ctor\nthree minors for AbstractNode, ElementNode and XpathUtil", "createdAt": "2020-12-13T15:11:29Z", "url": "https://github.com/checkstyle/checkstyle/pull/9102", "merged": true, "mergeCommit": {"oid": "e122e7efb43838fbc25cfb3440c2a0187ed24b8e"}, "closed": true, "closedAt": "2020-12-27T09:47:02Z", "author": {"login": "pbludov"}, "timelineItems": {"totalCount": 27, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdmMbV6gBqjQxMTEzNjk1MDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdqM29qgBqjQxNTAwOTk2NTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "df990f5f5a2f656d4f979ff5fac5f9d8028bfcb4", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/df990f5f5a2f656d4f979ff5fac5f9d8028bfcb4", "committedDate": "2020-12-13T15:05:50Z", "message": "Issue #9101: fix stack overflow error in ElementNode ctor"}, "afterCommit": {"oid": "2441d02bbcb3d4da85c2ee0f5f72d7a62cf383cc", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/2441d02bbcb3d4da85c2ee0f5f72d7a62cf383cc", "committedDate": "2020-12-14T21:14:29Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2441d02bbcb3d4da85c2ee0f5f72d7a62cf383cc", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/2441d02bbcb3d4da85c2ee0f5f72d7a62cf383cc", "committedDate": "2020-12-14T21:14:29Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}, "afterCommit": {"oid": "6986eb31a06a33d94e842c82134df07be646e7b0", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/6986eb31a06a33d94e842c82134df07be646e7b0", "committedDate": "2020-12-14T21:20:33Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6986eb31a06a33d94e842c82134df07be646e7b0", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/6986eb31a06a33d94e842c82134df07be646e7b0", "committedDate": "2020-12-14T21:20:33Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}, "afterCommit": {"oid": "2d486fc9b613339d8c18d09afafc8950301fba36", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/2d486fc9b613339d8c18d09afafc8950301fba36", "committedDate": "2020-12-14T21:41:49Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2d486fc9b613339d8c18d09afafc8950301fba36", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/2d486fc9b613339d8c18d09afafc8950301fba36", "committedDate": "2020-12-14T21:41:49Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}, "afterCommit": {"oid": "ff4ad6883d2dd49bf694319c69890b67562d48b7", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/ff4ad6883d2dd49bf694319c69890b67562d48b7", "committedDate": "2020-12-15T04:35:58Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ff4ad6883d2dd49bf694319c69890b67562d48b7", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/ff4ad6883d2dd49bf694319c69890b67562d48b7", "committedDate": "2020-12-15T04:35:58Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}, "afterCommit": {"oid": "a8cae3823ab7f9fd47628b074224402011c1a425", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/a8cae3823ab7f9fd47628b074224402011c1a425", "committedDate": "2020-12-15T05:29:24Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a8cae3823ab7f9fd47628b074224402011c1a425", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/a8cae3823ab7f9fd47628b074224402011c1a425", "committedDate": "2020-12-15T05:29:24Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}, "afterCommit": {"oid": "532e46923d7a6f455770cfc6f93ccd92e7cc66bb", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/532e46923d7a6f455770cfc6f93ccd92e7cc66bb", "committedDate": "2020-12-15T05:57:43Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "532e46923d7a6f455770cfc6f93ccd92e7cc66bb", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/532e46923d7a6f455770cfc6f93ccd92e7cc66bb", "committedDate": "2020-12-15T05:57:43Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}, "afterCommit": {"oid": "f7c5cb9d27ef23b9598d9961e29158dcfbacfb5e", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/f7c5cb9d27ef23b9598d9961e29158dcfbacfb5e", "committedDate": "2020-12-17T07:03:11Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0ODI3Nzc3", "url": "https://github.com/checkstyle/checkstyle/pull/9102#pullrequestreview-554827777", "createdAt": "2020-12-17T17:30:11Z", "commit": {"oid": "f7c5cb9d27ef23b9598d9961e29158dcfbacfb5e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2ODgwMjc4", "url": "https://github.com/checkstyle/checkstyle/pull/9102#pullrequestreview-556880278", "createdAt": "2020-12-22T07:48:31Z", "commit": {"oid": "f7c5cb9d27ef23b9598d9961e29158dcfbacfb5e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3MDEwMzA5", "url": "https://github.com/checkstyle/checkstyle/pull/9102#pullrequestreview-557010309", "createdAt": "2020-12-22T11:26:34Z", "commit": {"oid": "f7c5cb9d27ef23b9598d9961e29158dcfbacfb5e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3Mjk5MTgz", "url": "https://github.com/checkstyle/checkstyle/pull/9102#pullrequestreview-557299183", "createdAt": "2020-12-22T18:59:47Z", "commit": {"oid": "f7c5cb9d27ef23b9598d9961e29158dcfbacfb5e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxODo1OTo0N1rOIKFv4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMlQxOToxOTo0OVrOIKGUSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzQ1MDg0OQ==", "bodyText": "can we move this update out of this commit ?\nlooks like not related.", "url": "https://github.com/checkstyle/checkstyle/pull/9102#discussion_r547450849", "createdAt": "2020-12-22T18:59:47Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/utils/XpathUtil.java", "diffHunk": "@@ -98,9 +99,10 @@\n      * Only these tokens support text attribute because they make our xpath queries more accurate.\n      * These token types are listed below.\n      * */\n-    private static final List<Integer> TOKEN_TYPES_WITH_TEXT_ATTRIBUTE = Arrays.asList(\n+    private static final Set<Integer> TOKEN_TYPES_WITH_TEXT_ATTRIBUTE = Stream.of(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7c5cb9d27ef23b9598d9961e29158dcfbacfb5e"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzQ1MTAyMg==", "bodyText": "in separate commit please", "url": "https://github.com/checkstyle/checkstyle/pull/9102#discussion_r547451022", "createdAt": "2020-12-22T19:00:13Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/AbstractNode.java", "diffHunk": "@@ -40,18 +39,14 @@\n \n /**\n  * Represents general class for {@code ElementNode}, {@code RootNode} and {@code AttributeNode}.\n- *", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7c5cb9d27ef23b9598d9961e29158dcfbacfb5e"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzQ1MjA2Nw==", "bodyText": "getChildren() always create a collection now.\nis it reasonable to avoid this creation in internal implementations ?", "url": "https://github.com/checkstyle/checkstyle/pull/9102#discussion_r547452067", "createdAt": "2020-12-22T19:02:43Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/AbstractNode.java", "diffHunk": "@@ -150,7 +128,7 @@ public String getURI() {\n      */\n     @Override\n     public boolean hasChildNodes() {\n-        return !children.isEmpty();\n+        return !getChildren().isEmpty();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7c5cb9d27ef23b9598d9961e29158dcfbacfb5e"}, "originalPosition": 82}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzQ1MjQ4NA==", "bodyText": "probably better to say \"throws unsupported exception\"", "url": "https://github.com/checkstyle/checkstyle/pull/9102#discussion_r547452484", "createdAt": "2020-12-22T19:03:43Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/AttributeNode.java", "diffHunk": "@@ -182,6 +184,27 @@ public DetailAST getUnderlyingNode() {\n         throw throwUnsupportedOperationException();\n     }\n \n+    /**\n+     * Creates nodes for children. Attribute node has no children, so\n+     * this method throws {@code UnsupportedOperationException}.\n+     *\n+     * @return never", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7c5cb9d27ef23b9598d9961e29158dcfbacfb5e"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzQ1MzUwOQ==", "bodyText": "can we cache text value ? we can do getTokenName ones.", "url": "https://github.com/checkstyle/checkstyle/pull/9102#discussion_r547453509", "createdAt": "2020-12-22T19:05:57Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/ElementNode.java", "diffHunk": "@@ -163,7 +175,7 @@ public String getAttributeValue(String namespace, String localPart) {\n      */\n     @Override\n     public String getLocalPart() {\n-        return text;\n+        return TokenUtil.getTokenName(detailAst.getType());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7c5cb9d27ef23b9598d9961e29158dcfbacfb5e"}, "originalPosition": 153}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzQ1NzU1NQ==", "bodyText": "is this update required to fix stackoverflow ? if this is not related better to move to separate commit of the same PR.", "url": "https://github.com/checkstyle/checkstyle/pull/9102#discussion_r547457555", "createdAt": "2020-12-22T19:15:03Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/ElementNode.java", "diffHunk": "@@ -91,44 +96,54 @@ public ElementNode(AbstractNode root, AbstractNode parent, DetailAST detailAst)\n     @Override\n     public int compareOrder(NodeInfo other) {\n         int result = 0;\n-        if (other instanceof AbstractNode) {\n-            result = getDepth() - ((AbstractNode) other).getDepth();\n+        if (other instanceof ElementNode) {\n+            result = Integer.compare(depth, ((ElementNode) other).depth);\n             if (result == 0) {\n-                final ElementNode[] children = getCommonAncestorChildren(other);\n-                result = children[0].indexAmongSiblings - children[1].indexAmongSiblings;\n+                result = compareCommonAncestorChildrenOrder(this, other);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7c5cb9d27ef23b9598d9961e29158dcfbacfb5e"}, "originalPosition": 73}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzQ2MDE2OA==", "bodyText": "I saw this code twice in this xpath group of classes, is it reasonable to move it to util ?", "url": "https://github.com/checkstyle/checkstyle/pull/9102#discussion_r547460168", "createdAt": "2020-12-22T19:19:49Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/RootNode.java", "diffHunk": "@@ -74,14 +75,20 @@ public int compareOrder(NodeInfo nodeInfo) {\n     /**\n      * Iterates siblings of the current node and\n      * recursively creates new Xpath-nodes.\n+     *\n+     * @return children list\n      */\n-    private void createChildren() {\n+    @Override\n+    protected List<AbstractNode> createChildren() {\n         DetailAST currentChild = detailAst;\n+        final List<AbstractNode> result = new ArrayList<>();\n         while (currentChild != null) {\n-            final ElementNode child = new ElementNode(this, this, currentChild);\n-            addChild(child);\n+            final int index = result.size();\n+            final ElementNode child = new ElementNode(this, this, currentChild, 0, index);\n+            result.add(child);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7c5cb9d27ef23b9598d9961e29158dcfbacfb5e"}, "originalPosition": 36}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f7c5cb9d27ef23b9598d9961e29158dcfbacfb5e", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/f7c5cb9d27ef23b9598d9961e29158dcfbacfb5e", "committedDate": "2020-12-17T07:03:11Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}, "afterCommit": {"oid": "fbadc40c8a5fc030bbef0b44cec1d18f6e7799d1", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/fbadc40c8a5fc030bbef0b44cec1d18f6e7799d1", "committedDate": "2020-12-23T05:56:37Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fbadc40c8a5fc030bbef0b44cec1d18f6e7799d1", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/fbadc40c8a5fc030bbef0b44cec1d18f6e7799d1", "committedDate": "2020-12-23T05:56:37Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}, "afterCommit": {"oid": "b8add8d8cd4926c41678facbf248802dd47fd500", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/b8add8d8cd4926c41678facbf248802dd47fd500", "committedDate": "2020-12-23T07:03:48Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b8add8d8cd4926c41678facbf248802dd47fd500", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/b8add8d8cd4926c41678facbf248802dd47fd500", "committedDate": "2020-12-23T07:03:48Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}, "afterCommit": {"oid": "34f9f003ab67aaac1910905f20ccefc61ef76d35", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/34f9f003ab67aaac1910905f20ccefc61ef76d35", "committedDate": "2020-12-24T05:06:49Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "34f9f003ab67aaac1910905f20ccefc61ef76d35", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/34f9f003ab67aaac1910905f20ccefc61ef76d35", "committedDate": "2020-12-24T05:06:49Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}, "afterCommit": {"oid": "5be78283f247591f8fcc52690dd9e72922a9f0d6", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/5be78283f247591f8fcc52690dd9e72922a9f0d6", "committedDate": "2020-12-24T05:38:44Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5be78283f247591f8fcc52690dd9e72922a9f0d6", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/5be78283f247591f8fcc52690dd9e72922a9f0d6", "committedDate": "2020-12-24T05:38:44Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}, "afterCommit": {"oid": "0515435d7d04c69a12e1fd11a15c2fb5e998f07b", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/0515435d7d04c69a12e1fd11a15c2fb5e998f07b", "committedDate": "2020-12-24T07:05:53Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0515435d7d04c69a12e1fd11a15c2fb5e998f07b", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/0515435d7d04c69a12e1fd11a15c2fb5e998f07b", "committedDate": "2020-12-24T07:05:53Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}, "afterCommit": {"oid": "168371541c41e766d37c6d117997d369169c4496", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/168371541c41e766d37c6d117997d369169c4496", "committedDate": "2020-12-24T07:43:09Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "168371541c41e766d37c6d117997d369169c4496", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/168371541c41e766d37c6d117997d369169c4496", "committedDate": "2020-12-24T07:43:09Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}, "afterCommit": {"oid": "0c2e7a5b59203f133955ef82c47e7dce73cf30ff", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/0c2e7a5b59203f133955ef82c47e7dce73cf30ff", "committedDate": "2020-12-24T07:51:10Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4ODk4NzEy", "url": "https://github.com/checkstyle/checkstyle/pull/9102#pullrequestreview-558898712", "createdAt": "2020-12-27T01:33:38Z", "commit": {"oid": "0c2e7a5b59203f133955ef82c47e7dce73cf30ff"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yN1QwMTozMzozOVrOILnarw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yN1QwMTozMzozOVrOILnarw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0OTA1MTA1NQ==", "bodyText": "we need to think on what approach for exception validation is better for us\nhttps://www.baeldung.com/junit-assert-exception\nusage is Rule is good, junit5 approach also looks interesting but still creates nesting blocks.\n@strkkk , @rnveach , @nmancus1 , what is more preferable way of exception validation for you.", "url": "https://github.com/checkstyle/checkstyle/pull/9102#discussion_r549051055", "createdAt": "2020-12-27T01:33:39Z", "author": {"login": "romani"}, "path": "src/test/java/com/puppycrawl/tools/checkstyle/xpath/AttributeNodeTest.java", "diffHunk": "@@ -49,6 +50,27 @@ public void testCompareOrder() {\n         }\n     }\n \n+    @Test\n+    public void testGetDepth() {\n+        try {\n+            attributeNode.getDepth();\n+            fail(\"Exception is excepted\");\n+        }\n+        catch (UnsupportedOperationException ex) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c2e7a5b59203f133955ef82c47e7dce73cf30ff"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4ODk5NjI3", "url": "https://github.com/checkstyle/checkstyle/pull/9102#pullrequestreview-558899627", "createdAt": "2020-12-27T02:06:34Z", "commit": {"oid": "4d7185789e83df399f8970ea73b689a93fd89dd4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90c9d40765e56573e572ec5708d9afe59ce45e33", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/90c9d40765e56573e572ec5708d9afe59ce45e33", "committedDate": "2020-12-27T08:00:28Z", "message": "Issue #5820: fix stack overflow in ParenPad"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4088284d0f22ac261d8767f872c04915dfe6129", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/f4088284d0f22ac261d8767f872c04915dfe6129", "committedDate": "2020-12-27T08:00:28Z", "message": "Issue #5820: fix stack overflow in SingleSpaceSeparator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83167ed7e8b4769bc25cd2e01c67403bb1b3a2f7", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/83167ed7e8b4769bc25cd2e01c67403bb1b3a2f7", "committedDate": "2020-12-27T08:00:28Z", "message": "Issue #5820: fix stack overflow error in ElementNode ctor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48c4fdcf63733567efe7f5f8ddcac4aff5847969", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/48c4fdcf63733567efe7f5f8ddcac4aff5847969", "committedDate": "2020-12-27T08:00:28Z", "message": "minor: use Set in XpathUtil.TOKEN_TYPES_WITH_TEXT_ATTRIBUTE"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c96adc8c0b96abee464543db6b6caf647e4bf99c", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/c96adc8c0b96abee464543db6b6caf647e4bf99c", "committedDate": "2020-12-27T08:00:28Z", "message": "minor: removal of empty line from AbstractNode javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ca557ce847d1758ba07d43c2007f6bcb11c2e3a", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/6ca557ce847d1758ba07d43c2007f6bcb11c2e3a", "committedDate": "2020-12-27T08:00:28Z", "message": "minor: refactoring in compareOrder method of ElementNode"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4d7185789e83df399f8970ea73b689a93fd89dd4", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/4d7185789e83df399f8970ea73b689a93fd89dd4", "committedDate": "2020-12-24T10:38:58Z", "message": "Issue #5820: optimizations in ElementNode and XpathUtil"}, "afterCommit": {"oid": "6ca557ce847d1758ba07d43c2007f6bcb11c2e3a", "author": {"user": {"login": "pbludov", "name": "Pavel Bludov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/6ca557ce847d1758ba07d43c2007f6bcb11c2e3a", "committedDate": "2020-12-27T08:00:28Z", "message": "minor: refactoring in compareOrder method of ElementNode"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1313, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}