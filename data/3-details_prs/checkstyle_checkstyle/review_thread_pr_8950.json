{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEzNjA1Mjc1", "number": 8950, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMVQxNDo0MTo1M1rOE0JsHg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMVQyMDoyNDowNVrOE0LhaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzMTIwMTU4OnYy", "diffSide": "RIGHT", "path": ".semaphore/semaphore.yml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMVQxNDo0MTo1M1rOHrvlaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMVQxNDo1NDozMVrOHrvqfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTYzMDQ0MQ==", "bodyText": "check-missing-pitests was assigned priority 10 originally, and no-error-pmd was assigned 80. Now, priority assignment will be automatic from semaphore. Out of all these tests, no-error-pmd is the most frequently failed one for me, so I think that it made sense for it to have higher priority so that the build fails faster and not waste time/resources. I am not sure how many builds we can run in parallel, and if this even matters, but I thought it would be good to mention.", "url": "https://github.com/checkstyle/checkstyle/pull/8950#discussion_r515630441", "createdAt": "2020-11-01T14:41:53Z", "author": {"login": "nmancus1"}, "path": ".semaphore/semaphore.yml", "diffHunk": "@@ -56,34 +34,22 @@ blocks:\n             - sem-version java 8 # NonDex only supports Java 8\n             - .ci/validation.sh nondex\n \n-        - name: No error test on pmd\n-          priority:\n-            - value: 80\n-              when: true\n-          commands:\n-            - mvn -e install -Pno-validations\n-            - .ci/validation.sh no-error-pmd\n-\n-        - name: No error test on Configurate\n-          priority:\n-            - value: 80\n-              when: true\n-          commands:\n-            - sem-version java 14\n-            - mvn -e install -Pno-validations\n-            - .ci/validation.sh no-violation-test-configurate\n-\n-        - name: No violation testing on josm\n-          commands:\n-            - mvn -e install -Pno-validations\n-            - .ci/validation.sh no-violation-test-josm\n-\n-        - name: No exception test\n+        - name: Validation (openjdk11)\n           matrix:\n-            - env_var: PROJECT\n+            - env_var: CMD\n               values:\n-                - guava-with-google-checks\n-                - guava-with-sun-checks\n-          commands:\n-            - mvn -e install -Pno-validations\n-            - .ci/no-exception-test.sh $PROJECT\n+                - .ci/no-exception-test.sh guava-with-google-checks\n+                - .ci/no-exception-test.sh guava-with-sun-checks\n+                - .ci/validation.sh all-sevntu-checks\n+                - .ci/validation.sh check-missing-pitests\n+                - .ci/validation.sh eclipse-static-analysis\n+                - .ci/validation.sh no-error-pmd", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2cccc21e3c75018e793a4740477a81a56cb118d1"}, "originalPosition": 78}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTYzMTc0MQ==", "bodyText": "Makes sense. I'll make two jobs: one with high priority, another with default priority", "url": "https://github.com/checkstyle/checkstyle/pull/8950#discussion_r515631741", "createdAt": "2020-11-01T14:54:31Z", "author": {"login": "pbludov"}, "path": ".semaphore/semaphore.yml", "diffHunk": "@@ -56,34 +34,22 @@ blocks:\n             - sem-version java 8 # NonDex only supports Java 8\n             - .ci/validation.sh nondex\n \n-        - name: No error test on pmd\n-          priority:\n-            - value: 80\n-              when: true\n-          commands:\n-            - mvn -e install -Pno-validations\n-            - .ci/validation.sh no-error-pmd\n-\n-        - name: No error test on Configurate\n-          priority:\n-            - value: 80\n-              when: true\n-          commands:\n-            - sem-version java 14\n-            - mvn -e install -Pno-validations\n-            - .ci/validation.sh no-violation-test-configurate\n-\n-        - name: No violation testing on josm\n-          commands:\n-            - mvn -e install -Pno-validations\n-            - .ci/validation.sh no-violation-test-josm\n-\n-        - name: No exception test\n+        - name: Validation (openjdk11)\n           matrix:\n-            - env_var: PROJECT\n+            - env_var: CMD\n               values:\n-                - guava-with-google-checks\n-                - guava-with-sun-checks\n-          commands:\n-            - mvn -e install -Pno-validations\n-            - .ci/no-exception-test.sh $PROJECT\n+                - .ci/no-exception-test.sh guava-with-google-checks\n+                - .ci/no-exception-test.sh guava-with-sun-checks\n+                - .ci/validation.sh all-sevntu-checks\n+                - .ci/validation.sh check-missing-pitests\n+                - .ci/validation.sh eclipse-static-analysis\n+                - .ci/validation.sh no-error-pmd", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTYzMDQ0MQ=="}, "originalCommit": {"oid": "2cccc21e3c75018e793a4740477a81a56cb118d1"}, "originalPosition": 78}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIzMTUwMTg1OnYy", "diffSide": "RIGHT", "path": ".semaphore/semaphore.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMVQyMDoyNDowNVrOHrx2IQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wMVQyMDoyOTo1NFrOHrx4zA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTY2NzQ4OQ==", "bodyText": "put fast in front... it will also group them a better  to read way\nmake it like:\n                - .ci/validation.sh all-sevntu-checks\n                - .ci/validation.sh check-missing-pitests\n                - .ci/validation.sh eclipse-static-analysis\n                - mvn -e clean install -Pno-validations\n                    && .ci/no-exception-test.sh guava-with-google-checks\n                - mvn -e clean install -Pno-validations\n                    && .ci/no-exception-test.sh guava-with-sun-checks\n                - mvn -e clean install -Pno-validations\n                    && .ci/validation.sh no-violation-test-josm", "url": "https://github.com/checkstyle/checkstyle/pull/8950#discussion_r515667489", "createdAt": "2020-11-01T20:24:05Z", "author": {"login": "romani"}, "path": ".semaphore/semaphore.yml", "diffHunk": "@@ -27,63 +27,55 @@ blocks:\n               cache store m2 $HOME/.m2\n             fi\n       jobs:\n-        - name: Check for missing pitests\n-          priority:\n-            - value: 10\n-              when: true\n-          commands:\n-            - .ci/validation.sh check-missing-pitests\n-\n-        - name: Eclipse static analysis\n-          priority:\n-            - value: 10\n-              when: true\n-          commands:\n-            - .ci/validation.sh eclipse-static-analysis\n-\n-        - name: Ensure that all Sevntu check are used\n-          priority:\n-            - value: 10\n-              when: true\n-          commands:\n-            - .ci/validation.sh all-sevntu-checks\n-\n         - name: NonDex (openjdk8)\n           priority:\n-            - value: 80\n+            - value: 90\n               when: true\n+          matrix:\n+            - env_var: CMD\n+              values:\n+                - .ci/validation.sh nondex\n           commands:\n             - sem-version java 8 # NonDex only supports Java 8\n-            - .ci/validation.sh nondex\n-\n-        - name: No error test on pmd\n-          priority:\n-            - value: 80\n-              when: true\n-          commands:\n-            - mvn -e install -Pno-validations\n-            - .ci/validation.sh no-error-pmd\n+            - echo \"eval of CMD is starting\";\n+            - echo \"CMD=$CMD\";\n+            - eval $CMD;\n+            - echo \"eval of CMD is completed\";\n \n-        - name: No error test on Configurate\n+        - name: Validation (openjdk11, slow pool)\n           priority:\n             - value: 80\n               when: true\n+          matrix:\n+            - env_var: CMD\n+              values:\n+                - mvn -e clean install -Pno-validations\n+                    && .ci/validation.sh no-error-pmd\n+                - mvn -e clean install -Pno-validations\n+                    && .ci/validation.sh no-violation-test-configurate\n           commands:\n-            - sem-version java 14\n-            - mvn -e install -Pno-validations\n-            - .ci/validation.sh no-violation-test-configurate\n-\n-        - name: No violation testing on josm\n-          commands:\n-            - mvn -e install -Pno-validations\n-            - .ci/validation.sh no-violation-test-josm\n+            - sem-version java 11\n+            - echo \"eval of CMD is starting\";\n+            - echo \"CMD=$CMD\";\n+            - eval $CMD;\n+            - echo \"eval of CMD is completed\";\n \n-        - name: No exception test\n+        - name: Validation (openjdk11, fast pool)\n           matrix:\n-            - env_var: PROJECT\n+            - env_var: CMD\n               values:\n-                - guava-with-google-checks\n-                - guava-with-sun-checks\n+                - mvn -e clean install -Pno-validations\n+                    && .ci/no-exception-test.sh guava-with-google-checks\n+                - mvn -e clean install -Pno-validations\n+                    && .ci/no-exception-test.sh guava-with-sun-checks\n+                - .ci/validation.sh all-sevntu-checks\n+                - .ci/validation.sh check-missing-pitests\n+                - .ci/validation.sh eclipse-static-analysis\n+                - mvn -e clean install -Pno-validations", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dfe962d0e32b56000d5f35925cbef1ccb062372c"}, "originalPosition": 101}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTY2ODE3Mg==", "bodyText": "done", "url": "https://github.com/checkstyle/checkstyle/pull/8950#discussion_r515668172", "createdAt": "2020-11-01T20:29:54Z", "author": {"login": "pbludov"}, "path": ".semaphore/semaphore.yml", "diffHunk": "@@ -27,63 +27,55 @@ blocks:\n               cache store m2 $HOME/.m2\n             fi\n       jobs:\n-        - name: Check for missing pitests\n-          priority:\n-            - value: 10\n-              when: true\n-          commands:\n-            - .ci/validation.sh check-missing-pitests\n-\n-        - name: Eclipse static analysis\n-          priority:\n-            - value: 10\n-              when: true\n-          commands:\n-            - .ci/validation.sh eclipse-static-analysis\n-\n-        - name: Ensure that all Sevntu check are used\n-          priority:\n-            - value: 10\n-              when: true\n-          commands:\n-            - .ci/validation.sh all-sevntu-checks\n-\n         - name: NonDex (openjdk8)\n           priority:\n-            - value: 80\n+            - value: 90\n               when: true\n+          matrix:\n+            - env_var: CMD\n+              values:\n+                - .ci/validation.sh nondex\n           commands:\n             - sem-version java 8 # NonDex only supports Java 8\n-            - .ci/validation.sh nondex\n-\n-        - name: No error test on pmd\n-          priority:\n-            - value: 80\n-              when: true\n-          commands:\n-            - mvn -e install -Pno-validations\n-            - .ci/validation.sh no-error-pmd\n+            - echo \"eval of CMD is starting\";\n+            - echo \"CMD=$CMD\";\n+            - eval $CMD;\n+            - echo \"eval of CMD is completed\";\n \n-        - name: No error test on Configurate\n+        - name: Validation (openjdk11, slow pool)\n           priority:\n             - value: 80\n               when: true\n+          matrix:\n+            - env_var: CMD\n+              values:\n+                - mvn -e clean install -Pno-validations\n+                    && .ci/validation.sh no-error-pmd\n+                - mvn -e clean install -Pno-validations\n+                    && .ci/validation.sh no-violation-test-configurate\n           commands:\n-            - sem-version java 14\n-            - mvn -e install -Pno-validations\n-            - .ci/validation.sh no-violation-test-configurate\n-\n-        - name: No violation testing on josm\n-          commands:\n-            - mvn -e install -Pno-validations\n-            - .ci/validation.sh no-violation-test-josm\n+            - sem-version java 11\n+            - echo \"eval of CMD is starting\";\n+            - echo \"CMD=$CMD\";\n+            - eval $CMD;\n+            - echo \"eval of CMD is completed\";\n \n-        - name: No exception test\n+        - name: Validation (openjdk11, fast pool)\n           matrix:\n-            - env_var: PROJECT\n+            - env_var: CMD\n               values:\n-                - guava-with-google-checks\n-                - guava-with-sun-checks\n+                - mvn -e clean install -Pno-validations\n+                    && .ci/no-exception-test.sh guava-with-google-checks\n+                - mvn -e clean install -Pno-validations\n+                    && .ci/no-exception-test.sh guava-with-sun-checks\n+                - .ci/validation.sh all-sevntu-checks\n+                - .ci/validation.sh check-missing-pitests\n+                - .ci/validation.sh eclipse-static-analysis\n+                - mvn -e clean install -Pno-validations", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTY2NzQ4OQ=="}, "originalCommit": {"oid": "dfe962d0e32b56000d5f35925cbef1ccb062372c"}, "originalPosition": 101}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1652, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}