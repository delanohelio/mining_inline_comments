{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM0NDgxOTc4", "number": 8317, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMFQxOTozNToyNlrOEHUF4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQwMDowNzo1NVrOEJf0dw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2MTA0Njc1OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/puppycrawl/tools/checkstyle/gui/TreeTable.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMFQxOTozNToyNlrOGmoAoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMVQwNjowOToyMlrOGmp50Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE1NDU5Mw==", "bodyText": "fix typo, Travis complain about this.", "url": "https://github.com/checkstyle/checkstyle/pull/8317#discussion_r443154593", "createdAt": "2020-06-20T19:35:26Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/gui/TreeTable.java", "diffHunk": "@@ -143,6 +155,32 @@ private void makeCodeSelection() {\n         new CodeSelector(tree.getLastSelectedPathComponent(), editor, linePositionMap).select();\n     }\n \n+    /**\n+     * Generate Xpath.\n+     */\n+    private void generateXpath() {\n+        if (tree.getLastSelectedPathComponent() instanceof DetailAST) {\n+            try {\n+                final FileText fileText = new FileText(file, StandardCharsets.UTF_8.name());\n+                final DetailAST rootAST = (DetailAST) tree.getModel().getRoot();\n+                final DetailAST ast = (DetailAST) tree.getLastSelectedPathComponent();\n+                final int defaultTabWidth = 4;\n+\n+                final XpathQueryGenerator queryGenerator = new XpathQueryGenerator(rootAST,\n+                    ast.getLineNo(), ast.getColumnNo(),\n+                    fileText, defaultTabWidth);\n+\n+                xpathEditor.setText(queryGenerator.generateXpathQuery(ast));\n+            }\n+            catch (IOException ex) {\n+                xpathEditor.setText(ex.getMessage());\n+            }\n+        }\n+        else {\n+            xpathEditor.setText(\"Xpath is not supported yet forr javadoc nodes\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d6a223832c3ec22b0dcaeeb29e5b508930a5ac6"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE4NTYxNw==", "bodyText": "Done", "url": "https://github.com/checkstyle/checkstyle/pull/8317#discussion_r443185617", "createdAt": "2020-06-21T06:09:22Z", "author": {"login": "developerhb"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/gui/TreeTable.java", "diffHunk": "@@ -143,6 +155,32 @@ private void makeCodeSelection() {\n         new CodeSelector(tree.getLastSelectedPathComponent(), editor, linePositionMap).select();\n     }\n \n+    /**\n+     * Generate Xpath.\n+     */\n+    private void generateXpath() {\n+        if (tree.getLastSelectedPathComponent() instanceof DetailAST) {\n+            try {\n+                final FileText fileText = new FileText(file, StandardCharsets.UTF_8.name());\n+                final DetailAST rootAST = (DetailAST) tree.getModel().getRoot();\n+                final DetailAST ast = (DetailAST) tree.getLastSelectedPathComponent();\n+                final int defaultTabWidth = 4;\n+\n+                final XpathQueryGenerator queryGenerator = new XpathQueryGenerator(rootAST,\n+                    ast.getLineNo(), ast.getColumnNo(),\n+                    fileText, defaultTabWidth);\n+\n+                xpathEditor.setText(queryGenerator.generateXpathQuery(ast));\n+            }\n+            catch (IOException ex) {\n+                xpathEditor.setText(ex.getMessage());\n+            }\n+        }\n+        else {\n+            xpathEditor.setText(\"Xpath is not supported yet forr javadoc nodes\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE1NDU5Mw=="}, "originalCommit": {"oid": "9d6a223832c3ec22b0dcaeeb29e5b508930a5ac6"}, "originalPosition": 68}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2MTA0NzIxOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/puppycrawl/tools/checkstyle/gui/TreeTable.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMFQxOTozNjoxOFrOGmoA2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMVQwNjowOTozMVrOGmp50w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE1NDY0OQ==", "bodyText": "please catch all exceptions here, we should print problem if any exception happen.", "url": "https://github.com/checkstyle/checkstyle/pull/8317#discussion_r443154649", "createdAt": "2020-06-20T19:36:18Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/gui/TreeTable.java", "diffHunk": "@@ -143,6 +155,32 @@ private void makeCodeSelection() {\n         new CodeSelector(tree.getLastSelectedPathComponent(), editor, linePositionMap).select();\n     }\n \n+    /**\n+     * Generate Xpath.\n+     */\n+    private void generateXpath() {\n+        if (tree.getLastSelectedPathComponent() instanceof DetailAST) {\n+            try {\n+                final FileText fileText = new FileText(file, StandardCharsets.UTF_8.name());\n+                final DetailAST rootAST = (DetailAST) tree.getModel().getRoot();\n+                final DetailAST ast = (DetailAST) tree.getLastSelectedPathComponent();\n+                final int defaultTabWidth = 4;\n+\n+                final XpathQueryGenerator queryGenerator = new XpathQueryGenerator(rootAST,\n+                    ast.getLineNo(), ast.getColumnNo(),\n+                    fileText, defaultTabWidth);\n+\n+                xpathEditor.setText(queryGenerator.generateXpathQuery(ast));\n+            }\n+            catch (IOException ex) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d6a223832c3ec22b0dcaeeb29e5b508930a5ac6"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE4NTYxOQ==", "bodyText": "Done", "url": "https://github.com/checkstyle/checkstyle/pull/8317#discussion_r443185619", "createdAt": "2020-06-21T06:09:31Z", "author": {"login": "developerhb"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/gui/TreeTable.java", "diffHunk": "@@ -143,6 +155,32 @@ private void makeCodeSelection() {\n         new CodeSelector(tree.getLastSelectedPathComponent(), editor, linePositionMap).select();\n     }\n \n+    /**\n+     * Generate Xpath.\n+     */\n+    private void generateXpath() {\n+        if (tree.getLastSelectedPathComponent() instanceof DetailAST) {\n+            try {\n+                final FileText fileText = new FileText(file, StandardCharsets.UTF_8.name());\n+                final DetailAST rootAST = (DetailAST) tree.getModel().getRoot();\n+                final DetailAST ast = (DetailAST) tree.getLastSelectedPathComponent();\n+                final int defaultTabWidth = 4;\n+\n+                final XpathQueryGenerator queryGenerator = new XpathQueryGenerator(rootAST,\n+                    ast.getLineNo(), ast.getColumnNo(),\n+                    fileText, defaultTabWidth);\n+\n+                xpathEditor.setText(queryGenerator.generateXpathQuery(ast));\n+            }\n+            catch (IOException ex) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE1NDY0OQ=="}, "originalCommit": {"oid": "9d6a223832c3ec22b0dcaeeb29e5b508930a5ac6"}, "originalPosition": 63}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MzkzOTc1OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/puppycrawl/tools/checkstyle/gui/TreeTable.java", "isResolved": true, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQwMDowNzo1NVrOGqBZVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQwMzoxMDoxNlrOGtHkvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjcxNjI0NQ==", "bodyText": "it is better to make new ctor\nfinal XpathQueryGenerator queryGenerator = new XpathQueryGenerator(rootAST);\nas we need only root AST to do queryGenerator.generateXpathQuery(ast)", "url": "https://github.com/checkstyle/checkstyle/pull/8317#discussion_r446716245", "createdAt": "2020-06-29T00:07:55Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/gui/TreeTable.java", "diffHunk": "@@ -143,6 +154,33 @@ private void makeCodeSelection() {\n         new CodeSelector(tree.getLastSelectedPathComponent(), editor, linePositionMap).select();\n     }\n \n+    /**\n+     * Generate Xpath.\n+     */\n+    private void generateXpath() {\n+        if (tree.getLastSelectedPathComponent() instanceof DetailAST) {\n+            try {\n+                final FileText fileText = new FileText(file, StandardCharsets.UTF_8.name());\n+                final DetailAST rootAST = (DetailAST) tree.getModel().getRoot();\n+                final DetailAST ast = (DetailAST) tree.getLastSelectedPathComponent();\n+                final int defaultTabWidth = 4;\n+\n+                final XpathQueryGenerator queryGenerator = new XpathQueryGenerator(rootAST,\n+                    ast.getLineNo(), ast.getColumnNo(),\n+                    fileText, defaultTabWidth);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a9463e63b3913621f5d89510eb00559387d3ee2"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njc0Njc0MQ==", "bodyText": "I don't think it will work because, the function I have used is generateXpathQuery(ast). This function uses a number of other methods from the class XpathQueryGenerator. It might happen that those method use the other member variables from the existing constructor.", "url": "https://github.com/checkstyle/checkstyle/pull/8317#discussion_r446746741", "createdAt": "2020-06-29T03:00:47Z", "author": {"login": "developerhb"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/gui/TreeTable.java", "diffHunk": "@@ -143,6 +154,33 @@ private void makeCodeSelection() {\n         new CodeSelector(tree.getLastSelectedPathComponent(), editor, linePositionMap).select();\n     }\n \n+    /**\n+     * Generate Xpath.\n+     */\n+    private void generateXpath() {\n+        if (tree.getLastSelectedPathComponent() instanceof DetailAST) {\n+            try {\n+                final FileText fileText = new FileText(file, StandardCharsets.UTF_8.name());\n+                final DetailAST rootAST = (DetailAST) tree.getModel().getRoot();\n+                final DetailAST ast = (DetailAST) tree.getLastSelectedPathComponent();\n+                final int defaultTabWidth = 4;\n+\n+                final XpathQueryGenerator queryGenerator = new XpathQueryGenerator(rootAST,\n+                    ast.getLineNo(), ast.getColumnNo(),\n+                    fileText, defaultTabWidth);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjcxNjI0NQ=="}, "originalCommit": {"oid": "8a9463e63b3913621f5d89510eb00559387d3ee2"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODM2OTU4MQ==", "bodyText": "private static String generateXpathQuery(DetailAST ast) it is static, it means it does not use fields of class, please try.", "url": "https://github.com/checkstyle/checkstyle/pull/8317#discussion_r448369581", "createdAt": "2020-07-01T13:38:46Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/gui/TreeTable.java", "diffHunk": "@@ -143,6 +154,33 @@ private void makeCodeSelection() {\n         new CodeSelector(tree.getLastSelectedPathComponent(), editor, linePositionMap).select();\n     }\n \n+    /**\n+     * Generate Xpath.\n+     */\n+    private void generateXpath() {\n+        if (tree.getLastSelectedPathComponent() instanceof DetailAST) {\n+            try {\n+                final FileText fileText = new FileText(file, StandardCharsets.UTF_8.name());\n+                final DetailAST rootAST = (DetailAST) tree.getModel().getRoot();\n+                final DetailAST ast = (DetailAST) tree.getLastSelectedPathComponent();\n+                final int defaultTabWidth = 4;\n+\n+                final XpathQueryGenerator queryGenerator = new XpathQueryGenerator(rootAST,\n+                    ast.getLineNo(), ast.getColumnNo(),\n+                    fileText, defaultTabWidth);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjcxNjI0NQ=="}, "originalCommit": {"oid": "8a9463e63b3913621f5d89510eb00559387d3ee2"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODc0NTUzNw==", "bodyText": "@romani\nThank you for drawing my attention to this. We don't even need the rootAST, since the method is static. We just need the node of which we want to find the xpath.\nSo, we don't need new constructor.\nI have made the method generateXpathQuery static again.", "url": "https://github.com/checkstyle/checkstyle/pull/8317#discussion_r448745537", "createdAt": "2020-07-02T04:43:58Z", "author": {"login": "developerhb"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/gui/TreeTable.java", "diffHunk": "@@ -143,6 +154,33 @@ private void makeCodeSelection() {\n         new CodeSelector(tree.getLastSelectedPathComponent(), editor, linePositionMap).select();\n     }\n \n+    /**\n+     * Generate Xpath.\n+     */\n+    private void generateXpath() {\n+        if (tree.getLastSelectedPathComponent() instanceof DetailAST) {\n+            try {\n+                final FileText fileText = new FileText(file, StandardCharsets.UTF_8.name());\n+                final DetailAST rootAST = (DetailAST) tree.getModel().getRoot();\n+                final DetailAST ast = (DetailAST) tree.getLastSelectedPathComponent();\n+                final int defaultTabWidth = 4;\n+\n+                final XpathQueryGenerator queryGenerator = new XpathQueryGenerator(rootAST,\n+                    ast.getLineNo(), ast.getColumnNo(),\n+                    fileText, defaultTabWidth);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjcxNjI0NQ=="}, "originalCommit": {"oid": "8a9463e63b3913621f5d89510eb00559387d3ee2"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODc2NjU4NQ==", "bodyText": "@romani\nI would also like to ask that I introduced try catch block as I was using FileText class constructor which throws an IO exception. Now that it is removed I think I should also remove try catch block. Should I remove it?", "url": "https://github.com/checkstyle/checkstyle/pull/8317#discussion_r448766585", "createdAt": "2020-07-02T06:03:34Z", "author": {"login": "developerhb"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/gui/TreeTable.java", "diffHunk": "@@ -143,6 +154,33 @@ private void makeCodeSelection() {\n         new CodeSelector(tree.getLastSelectedPathComponent(), editor, linePositionMap).select();\n     }\n \n+    /**\n+     * Generate Xpath.\n+     */\n+    private void generateXpath() {\n+        if (tree.getLastSelectedPathComponent() instanceof DetailAST) {\n+            try {\n+                final FileText fileText = new FileText(file, StandardCharsets.UTF_8.name());\n+                final DetailAST rootAST = (DetailAST) tree.getModel().getRoot();\n+                final DetailAST ast = (DetailAST) tree.getLastSelectedPathComponent();\n+                final int defaultTabWidth = 4;\n+\n+                final XpathQueryGenerator queryGenerator = new XpathQueryGenerator(rootAST,\n+                    ast.getLineNo(), ast.getColumnNo(),\n+                    fileText, defaultTabWidth);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjcxNjI0NQ=="}, "originalCommit": {"oid": "8a9463e63b3913621f5d89510eb00559387d3ee2"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTYwOTAyMQ==", "bodyText": "yes, please remove non required code. The less code the better.", "url": "https://github.com/checkstyle/checkstyle/pull/8317#discussion_r449609021", "createdAt": "2020-07-03T14:24:51Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/gui/TreeTable.java", "diffHunk": "@@ -143,6 +154,33 @@ private void makeCodeSelection() {\n         new CodeSelector(tree.getLastSelectedPathComponent(), editor, linePositionMap).select();\n     }\n \n+    /**\n+     * Generate Xpath.\n+     */\n+    private void generateXpath() {\n+        if (tree.getLastSelectedPathComponent() instanceof DetailAST) {\n+            try {\n+                final FileText fileText = new FileText(file, StandardCharsets.UTF_8.name());\n+                final DetailAST rootAST = (DetailAST) tree.getModel().getRoot();\n+                final DetailAST ast = (DetailAST) tree.getLastSelectedPathComponent();\n+                final int defaultTabWidth = 4;\n+\n+                final XpathQueryGenerator queryGenerator = new XpathQueryGenerator(rootAST,\n+                    ast.getLineNo(), ast.getColumnNo(),\n+                    fileText, defaultTabWidth);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjcxNjI0NQ=="}, "originalCommit": {"oid": "8a9463e63b3913621f5d89510eb00559387d3ee2"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTk2MzE5OA==", "bodyText": "Done", "url": "https://github.com/checkstyle/checkstyle/pull/8317#discussion_r449963198", "createdAt": "2020-07-06T03:10:16Z", "author": {"login": "developerhb"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/gui/TreeTable.java", "diffHunk": "@@ -143,6 +154,33 @@ private void makeCodeSelection() {\n         new CodeSelector(tree.getLastSelectedPathComponent(), editor, linePositionMap).select();\n     }\n \n+    /**\n+     * Generate Xpath.\n+     */\n+    private void generateXpath() {\n+        if (tree.getLastSelectedPathComponent() instanceof DetailAST) {\n+            try {\n+                final FileText fileText = new FileText(file, StandardCharsets.UTF_8.name());\n+                final DetailAST rootAST = (DetailAST) tree.getModel().getRoot();\n+                final DetailAST ast = (DetailAST) tree.getLastSelectedPathComponent();\n+                final int defaultTabWidth = 4;\n+\n+                final XpathQueryGenerator queryGenerator = new XpathQueryGenerator(rootAST,\n+                    ast.getLineNo(), ast.getColumnNo(),\n+                    fileText, defaultTabWidth);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjcxNjI0NQ=="}, "originalCommit": {"oid": "8a9463e63b3913621f5d89510eb00559387d3ee2"}, "originalPosition": 58}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 833, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}