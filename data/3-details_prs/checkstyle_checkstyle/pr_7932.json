{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxODg2MjYx", "number": 7932, "title": "Issue #6192: New module RequireEmptyLineBeforeBlockTagGroup to ensure there is an empty line before javadoc tag like @param", "bodyText": "Resolves Issue #6192\nContribution PR: checkstyle/contribution#478\nDiff Regression projects: https://gist.githubusercontent.com/josephmate/a39a39b4c60aa11929aee4574aa90220/raw/6cff315508233d6056dc37debcb8737e4c031fd5/projects-to-test-on.properties\nDiff Regression config: https://gist.githubusercontent.com/josephmate/a39a39b4c60aa11929aee4574aa90220/raw/6cff315508233d6056dc37debcb8737e4c031fd5/my_check_base.xml\nDiff Regression patch config: https://gist.githubusercontent.com/josephmate/a39a39b4c60aa11929aee4574aa90220/raw/6cff315508233d6056dc37debcb8737e4c031fd5/my_check_patch.xml\nHow the functional change works:\n\nonly inspect nodes of type JavadocTokenTypes.JAVADOC_TAG\nignore if there is already an at-clause before the current at-clause. an empty line is only needed before the first at-clause\nignore if the at-clause is the only thing in the javadoc. for some reason, a developer might only want the at-clause inside the javadoc with nothing else. it would be strange to recommend an empty like before it\ncheck that there are enough empty lines before it", "createdAt": "2020-03-21T17:20:18Z", "url": "https://github.com/checkstyle/checkstyle/pull/7932", "merged": true, "mergeCommit": {"oid": "3b3b187bb8981dbb0a496575d43b01ed4cc2e584"}, "closed": true, "closedAt": "2020-08-23T17:13:46Z", "author": {"login": "josephmate"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcSD1IWAFqTM4MzMwNTg5OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdBww6tAFqTQ3MzAyNTU0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMzA1ODk4", "url": "https://github.com/checkstyle/checkstyle/pull/7932#pullrequestreview-383305898", "createdAt": "2020-03-28T11:42:43Z", "commit": {"oid": "13fcfdc3c395fda0f54c737845442fde7d15532d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOFQxMTo0Mjo0M1rOF9I3rA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOFQxMTo0Mjo0M1rOF9I3rA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTY1Mjc4MA==", "bodyText": "Double '' required", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r399652780", "createdAt": "2020-03-28T11:42:43Z", "author": {"login": "bmarwell"}, "path": "src/main/resources/com/puppycrawl/tools/checkstyle/checks/javadoc/messages_fr.properties", "diffHunk": "@@ -21,6 +21,7 @@ javadoc.paragraph.redundant.paragraph=Balise <p> redondante.\n javadoc.paragraph.tag.after=Une ligne vide doit \u00eatre suivie par une balise <p> sur la ligne suivante.\n javadoc.parse.rule.error=Le commentaire Javadoc \u00e0 la colonne {0} ne peut \u00eatre analys\u00e9. D\u00e9tails : {1} lors de l''analyse {2}\n javadoc.return.expected=Balise Javadoc @return manquante.\n+javadoc.tag.line.before=Javadoc @-clause {0} doit \u00eatre pr\u00e9c\u00e9d\u00e9 d'une ligne vide.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13fcfdc3c395fda0f54c737845442fde7d15532d"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NzMxNTY1", "url": "https://github.com/checkstyle/checkstyle/pull/7932#pullrequestreview-438731565", "createdAt": "2020-06-27T23:50:50Z", "commit": {"oid": "a82b781202a860fd07ab44f21447386d7a1f876d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QyMzo1MDo1MFrOGp5FmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QyMzo1MDo1MFrOGp5FmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjU4MDEyMQ==", "bodyText": "please move this to separate PR to let me merge it immediately and reduce this PR, this will help maintainers to focus on details and nuances of it.", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r446580121", "createdAt": "2020-06-27T23:50:50Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/javadoc/JavadocParagraphCheck.java", "diffHunk": "@@ -262,6 +266,7 @@ private static boolean isFirstParagraph(DetailNode paragraphTag) {\n \n     /**\n      * Finds and returns nearest empty line in javadoc.\n+     *", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82b781202a860fd07ab44f21447386d7a1f876d"}, "originalPosition": 54}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMTcyNDcy", "url": "https://github.com/checkstyle/checkstyle/pull/7932#pullrequestreview-451172472", "createdAt": "2020-07-19T23:24:47Z", "commit": {"oid": "be8b6e035db8680672b3a38f3c9260fa8e9ef940"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOVQyMzoyNDo0N1rOGzzKBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xOVQyMzoyOTowNFrOGzzLlA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk2ODcxMA==", "bodyText": "Please add example for valid javadoc, to show user what is good", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r456968710", "createdAt": "2020-07-19T23:24:47Z", "author": {"login": "romani"}, "path": "src/xdocs/config_javadoc.xml", "diffHunk": "@@ -2912,6 +2911,110 @@ class DatabaseConfiguration {}\n       </subsection>\n     </section>\n \n+    <section name=\"RequireEmptyLineBeforeAtClauseBlock\">\n+      <p>Since Checkstyle 8.35</p>\n+      <subsection name=\"Description\" id=\"RequireEmptyLineBeforeAtClauseBlock_Description\">\n+        <p>\n+          Checks that one blank line before the at-clauses block if it is present in Javadoc.\n+        </p>\n+      </subsection>\n+      <subsection name=\"Properties\" id=\"RequireEmptyLineBeforeAtClauseBlock_Properties\">\n+        <div class=\"wrapper\">\n+          <table>\n+            <tr>\n+              <th>name</th>\n+              <th>description</th>\n+              <th>type</th>\n+              <th>default value</th>\n+              <th>since</th>\n+            </tr>\n+            <tr>\n+              <td>violateExecutionOnNonTightHtml</td>\n+              <td>\n+                Control when to print violations if the Javadoc being examined by this check\n+                violates the tight html rules defined at\n+                <a href=\"writingjavadocchecks.html#Tight-HTML_rules\">Tight-HTML Rules</a>.</td>\n+              <td><a href=\"property_types.html#boolean\">boolean</a></td>\n+              <td><code>false</code></td>\n+              <td>8.3</td>\n+            </tr>\n+          </table>\n+        </div>\n+      </subsection>\n+\n+      <subsection name=\"Examples\" id=\"RequireEmptyLineBeforeAtClauseBlock_Examples\">\n+        <p>\n+          To configure the check:\n+        </p>\n+        <source>\n+&lt;module name=&quot;RequireEmptyLineBeforeAtClauseBlock&quot;/&gt;\n+        </source>\n+        <p>\n+          By default, the check will report a violation if there is no blank line before the\n+          at-clause.\n+        </p>\n+        <source>\n+&#47;**\n+ * testMethod's javadoc.\n+ * &#64;return something (violation)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be8b6e035db8680672b3a38f3c9260fa8e9ef940"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Njk2OTEwOA==", "bodyText": "If something force you to reference all messages ?", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r456969108", "createdAt": "2020-07-19T23:29:04Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/javadoc/RequireEmptyLineBeforeAtClauseBlockCheck.java", "diffHunk": "@@ -0,0 +1,184 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks.javadoc;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailNode;\n+import com.puppycrawl.tools.checkstyle.api.JavadocTokenTypes;\n+import com.puppycrawl.tools.checkstyle.utils.JavadocUtil;\n+\n+/**\n+ * <p>\n+ * Checks that one blank line before the at-clauses block if it is present in Javadoc.\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * Property {@code violateExecutionOnNonTightHtml} - Control when to print violations\n+ * if the Javadoc being examined by this check violates the tight html rules defined at\n+ * <a href=\"https://checkstyle.org/writingjavadocchecks.html#Tight-HTML_rules\">\n+ * Tight-HTML Rules</a>.\n+ * Type is {@code boolean}. Default value is {@code false}.\n+ * </li>\n+ * </ul>\n+ * <p>\n+ * To configure the check:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=&quot;RequireEmptyLineBeforeAtClauseBlock&quot;/&gt;\n+ * </pre>\n+ * <p>\n+ * By default, the check will report a violation if there is no blank line before the at-clause.\n+ * </p>\n+ * <pre>\n+ * &#47;**\n+ *  * testMethod's javadoc.\n+ *  * &#64;return something (violation)\n+ *  *&#47;\n+ * public boolean testMethod() {\n+ * }\n+ * </pre>\n+ * <p>\n+ * Parent is {@code com.puppycrawl.tools.checkstyle.TreeWalker}\n+ * </p>\n+ * <p>\n+ * Violation Message Keys:\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * {@code javadoc.missed.html.close}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.parse.rule.error}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "be8b6e035db8680672b3a38f3c9260fa8e9ef940"}, "originalPosition": 68}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzODY0MTcw", "url": "https://github.com/checkstyle/checkstyle/pull/7932#pullrequestreview-453864170", "createdAt": "2020-07-23T06:32:23Z", "commit": {"oid": "636e38e964d94089c00f2a1049044baea9741b59"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwNjozMjoyM1rOG19vuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QwNjozNjozMVrOG191YA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTIzOTM1Mw==", "bodyText": "Please inline content of this method, we try to keep log methods in visit method.", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r459239353", "createdAt": "2020-07-23T06:32:23Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/javadoc/RequireEmptyLineBeforeAtClauseBlockCheck.java", "diffHunk": "@@ -0,0 +1,201 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks.javadoc;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailNode;\n+import com.puppycrawl.tools.checkstyle.api.JavadocTokenTypes;\n+import com.puppycrawl.tools.checkstyle.utils.JavadocUtil;\n+\n+/**\n+ * <p>\n+ * Checks that one blank line before the at-clauses block if it is present in Javadoc.\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * Property {@code violateExecutionOnNonTightHtml} - Control when to print violations\n+ * if the Javadoc being examined by this check violates the tight html rules defined at\n+ * <a href=\"https://checkstyle.org/writingjavadocchecks.html#Tight-HTML_rules\">\n+ * Tight-HTML Rules</a>.\n+ * Type is {@code boolean}. Default value is {@code false}.\n+ * </li>\n+ * </ul>\n+ * <p>\n+ * To configure the check:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=&quot;RequireEmptyLineBeforeAtClauseBlock&quot;/&gt;\n+ * </pre>\n+ * <p>\n+ * By default, the check will report a violation if there is no blank line before the at-clause,\n+ * like in the example below.\n+ * </p>\n+ * <pre>\n+ * &#47;**\n+ *  * testMethod's javadoc.\n+ *  * &#64;return something (violation)\n+ *  *&#47;\n+ * public boolean testMethod() {\n+ *     return false;\n+ * }\n+ * </pre>\n+ * <p>\n+ *  Valid javadoc should have a blank line separating the parameters, return, throw, or\n+ *  other at-clauses like in the example below.\n+ *  </p>\n+ *  <pre>\n+ *  &#47;**\n+ *  * testMethod's javadoc.\n+ *  *\n+ *  * &#64;param firstParam\n+ *  * &#64;return something\n+ *  *&#47;\n+ *  public boolean testMethod(int firstParam) {\n+ *      return false;\n+ *  }\n+ *  </pre>\n+ * <p>\n+ * Parent is {@code com.puppycrawl.tools.checkstyle.TreeWalker}\n+ * </p>\n+ * <p>\n+ * Violation Message Keys:\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * {@code javadoc.missed.html.close}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.parse.rule.error}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.tag.line.before}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.wrong.singleton.html.tag}\n+ * </li>\n+ * </ul>\n+ *\n+ * @since 8.35\n+ */\n+@StatelessCheck\n+public class RequireEmptyLineBeforeAtClauseBlockCheck extends AbstractJavadocCheck {\n+\n+    /**\n+     * The key in \"messages.properties\" for the message that describes an at-clause in javadoc\n+     * requiring an empty line before it.\n+     */\n+    public static final String MSG_JAVADOC_TAG_LINE_BEFORE = \"javadoc.tag.line.before\";\n+\n+    /**\n+     * When javadoc has only a javadoc tag like {@literal @} in it, the JAVADOC_TAG in a JAVADOC\n+     * detail node will always have 3 siblings before it. The parse tree looks like:\n+     * <pre>\n+     * JAVADOC\n+     * \\\n+     *  -- NEWLINE\n+     *  -- LEADING_ASTERISK\n+     *  -- WS\n+     *  -- JAVADOC_TAG\n+     * </pre>\n+     */\n+    private static final int NUM_OF_SIBLINGS_BEFORE_ONLY_JAVADOC_TAG = 3;\n+\n+    @Override\n+    public int[] getDefaultJavadocTokens() {\n+        return new int[] {\n+            JavadocTokenTypes.JAVADOC_TAG,\n+        };\n+    }\n+\n+    @Override\n+    public int[] getRequiredJavadocTokens() {\n+        return getAcceptableJavadocTokens();\n+    }\n+\n+    @Override\n+    public void visitJavadocToken(DetailNode ast) {\n+        // No need to filter token because overridden getDefaultJavadocTokens ensures that we only\n+        // receive JAVADOC_TAG DetailNode.\n+        checkAtClause(ast);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "636e38e964d94089c00f2a1049044baea9741b59"}, "originalPosition": 136}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI0MDIwMg==", "bodyText": "Please indent this and following lines further to right, to visually show nested expression.", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r459240202", "createdAt": "2020-07-23T06:34:51Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/javadoc/RequireEmptyLineBeforeAtClauseBlockCheck.java", "diffHunk": "@@ -0,0 +1,201 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks.javadoc;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailNode;\n+import com.puppycrawl.tools.checkstyle.api.JavadocTokenTypes;\n+import com.puppycrawl.tools.checkstyle.utils.JavadocUtil;\n+\n+/**\n+ * <p>\n+ * Checks that one blank line before the at-clauses block if it is present in Javadoc.\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * Property {@code violateExecutionOnNonTightHtml} - Control when to print violations\n+ * if the Javadoc being examined by this check violates the tight html rules defined at\n+ * <a href=\"https://checkstyle.org/writingjavadocchecks.html#Tight-HTML_rules\">\n+ * Tight-HTML Rules</a>.\n+ * Type is {@code boolean}. Default value is {@code false}.\n+ * </li>\n+ * </ul>\n+ * <p>\n+ * To configure the check:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=&quot;RequireEmptyLineBeforeAtClauseBlock&quot;/&gt;\n+ * </pre>\n+ * <p>\n+ * By default, the check will report a violation if there is no blank line before the at-clause,\n+ * like in the example below.\n+ * </p>\n+ * <pre>\n+ * &#47;**\n+ *  * testMethod's javadoc.\n+ *  * &#64;return something (violation)\n+ *  *&#47;\n+ * public boolean testMethod() {\n+ *     return false;\n+ * }\n+ * </pre>\n+ * <p>\n+ *  Valid javadoc should have a blank line separating the parameters, return, throw, or\n+ *  other at-clauses like in the example below.\n+ *  </p>\n+ *  <pre>\n+ *  &#47;**\n+ *  * testMethod's javadoc.\n+ *  *\n+ *  * &#64;param firstParam\n+ *  * &#64;return something\n+ *  *&#47;\n+ *  public boolean testMethod(int firstParam) {\n+ *      return false;\n+ *  }\n+ *  </pre>\n+ * <p>\n+ * Parent is {@code com.puppycrawl.tools.checkstyle.TreeWalker}\n+ * </p>\n+ * <p>\n+ * Violation Message Keys:\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * {@code javadoc.missed.html.close}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.parse.rule.error}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.tag.line.before}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.wrong.singleton.html.tag}\n+ * </li>\n+ * </ul>\n+ *\n+ * @since 8.35\n+ */\n+@StatelessCheck\n+public class RequireEmptyLineBeforeAtClauseBlockCheck extends AbstractJavadocCheck {\n+\n+    /**\n+     * The key in \"messages.properties\" for the message that describes an at-clause in javadoc\n+     * requiring an empty line before it.\n+     */\n+    public static final String MSG_JAVADOC_TAG_LINE_BEFORE = \"javadoc.tag.line.before\";\n+\n+    /**\n+     * When javadoc has only a javadoc tag like {@literal @} in it, the JAVADOC_TAG in a JAVADOC\n+     * detail node will always have 3 siblings before it. The parse tree looks like:\n+     * <pre>\n+     * JAVADOC\n+     * \\\n+     *  -- NEWLINE\n+     *  -- LEADING_ASTERISK\n+     *  -- WS\n+     *  -- JAVADOC_TAG\n+     * </pre>\n+     */\n+    private static final int NUM_OF_SIBLINGS_BEFORE_ONLY_JAVADOC_TAG = 3;\n+\n+    @Override\n+    public int[] getDefaultJavadocTokens() {\n+        return new int[] {\n+            JavadocTokenTypes.JAVADOC_TAG,\n+        };\n+    }\n+\n+    @Override\n+    public int[] getRequiredJavadocTokens() {\n+        return getAcceptableJavadocTokens();\n+    }\n+\n+    @Override\n+    public void visitJavadocToken(DetailNode ast) {\n+        // No need to filter token because overridden getDefaultJavadocTokens ensures that we only\n+        // receive JAVADOC_TAG DetailNode.\n+        checkAtClause(ast);\n+    }\n+\n+    /**\n+     * Logs when there is no empty line before the at clause.\n+     *\n+     * @param atClause the at clause to check for an empty space before it.\n+     */\n+    private void checkAtClause(DetailNode atClause) {\n+        if (!isAnotherAtClauseBefore(atClause)\n+                && !isOnlyAtClauseNothingElse(atClause)\n+                && insufficientConsecutiveNewlines(atClause)) {\n+            log(atClause.getLineNumber(),\n+                    MSG_JAVADOC_TAG_LINE_BEFORE,\n+                    atClause.getChildren()[0].getText());\n+        }\n+    }\n+\n+    private static boolean isAnotherAtClauseBefore(DetailNode atClause) {\n+        boolean found = false;\n+        DetailNode currentClause = JavadocUtil.getPreviousSibling(atClause);\n+        while (currentClause != null) {\n+            if (currentClause.getType() == JavadocTokenTypes.JAVADOC_TAG) {\n+                found = true;\n+                break;\n+            }\n+            currentClause = JavadocUtil.getPreviousSibling(currentClause);\n+        }\n+        return found;\n+    }\n+\n+    private static boolean isOnlyAtClauseNothingElse(DetailNode atClause) {\n+        int count = 0;\n+        DetailNode currentClause = JavadocUtil.getPreviousSibling(atClause);\n+        while (currentClause != null) {\n+            count++;\n+            currentClause = JavadocUtil.getPreviousSibling(currentClause);\n+        }\n+        return count == NUM_OF_SIBLINGS_BEFORE_ONLY_JAVADOC_TAG;\n+    }\n+\n+    /**\n+     * Iterates through the previous siblings of the atClause looking for empty lines until\n+     * there are no more siblings or it hits something other than asterisk, whitespace or newline.\n+     * If it finds at least one empty line, return true. Return false otherwise.\n+     *\n+     * @param atClause the atClause to check if there are sufficient empty lines before it.\n+     * @return true if there are enough empty lines before the atClause.\n+     */\n+    private static boolean insufficientConsecutiveNewlines(DetailNode atClause) {\n+        int count = 0;\n+        DetailNode currentClause = JavadocUtil.getPreviousSibling(atClause);\n+        while (currentClause != null\n+                && count <= 1\n+                && (currentClause.getType() == JavadocTokenTypes.NEWLINE\n+                || currentClause.getType() == JavadocTokenTypes.WS", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "636e38e964d94089c00f2a1049044baea9741b59"}, "originalPosition": 191}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTI0MDgwMA==", "bodyText": "Please make it first expression, to bring null check close to getType block.", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r459240800", "createdAt": "2020-07-23T06:36:31Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/javadoc/RequireEmptyLineBeforeAtClauseBlockCheck.java", "diffHunk": "@@ -0,0 +1,201 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks.javadoc;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailNode;\n+import com.puppycrawl.tools.checkstyle.api.JavadocTokenTypes;\n+import com.puppycrawl.tools.checkstyle.utils.JavadocUtil;\n+\n+/**\n+ * <p>\n+ * Checks that one blank line before the at-clauses block if it is present in Javadoc.\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * Property {@code violateExecutionOnNonTightHtml} - Control when to print violations\n+ * if the Javadoc being examined by this check violates the tight html rules defined at\n+ * <a href=\"https://checkstyle.org/writingjavadocchecks.html#Tight-HTML_rules\">\n+ * Tight-HTML Rules</a>.\n+ * Type is {@code boolean}. Default value is {@code false}.\n+ * </li>\n+ * </ul>\n+ * <p>\n+ * To configure the check:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=&quot;RequireEmptyLineBeforeAtClauseBlock&quot;/&gt;\n+ * </pre>\n+ * <p>\n+ * By default, the check will report a violation if there is no blank line before the at-clause,\n+ * like in the example below.\n+ * </p>\n+ * <pre>\n+ * &#47;**\n+ *  * testMethod's javadoc.\n+ *  * &#64;return something (violation)\n+ *  *&#47;\n+ * public boolean testMethod() {\n+ *     return false;\n+ * }\n+ * </pre>\n+ * <p>\n+ *  Valid javadoc should have a blank line separating the parameters, return, throw, or\n+ *  other at-clauses like in the example below.\n+ *  </p>\n+ *  <pre>\n+ *  &#47;**\n+ *  * testMethod's javadoc.\n+ *  *\n+ *  * &#64;param firstParam\n+ *  * &#64;return something\n+ *  *&#47;\n+ *  public boolean testMethod(int firstParam) {\n+ *      return false;\n+ *  }\n+ *  </pre>\n+ * <p>\n+ * Parent is {@code com.puppycrawl.tools.checkstyle.TreeWalker}\n+ * </p>\n+ * <p>\n+ * Violation Message Keys:\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * {@code javadoc.missed.html.close}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.parse.rule.error}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.tag.line.before}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.wrong.singleton.html.tag}\n+ * </li>\n+ * </ul>\n+ *\n+ * @since 8.35\n+ */\n+@StatelessCheck\n+public class RequireEmptyLineBeforeAtClauseBlockCheck extends AbstractJavadocCheck {\n+\n+    /**\n+     * The key in \"messages.properties\" for the message that describes an at-clause in javadoc\n+     * requiring an empty line before it.\n+     */\n+    public static final String MSG_JAVADOC_TAG_LINE_BEFORE = \"javadoc.tag.line.before\";\n+\n+    /**\n+     * When javadoc has only a javadoc tag like {@literal @} in it, the JAVADOC_TAG in a JAVADOC\n+     * detail node will always have 3 siblings before it. The parse tree looks like:\n+     * <pre>\n+     * JAVADOC\n+     * \\\n+     *  -- NEWLINE\n+     *  -- LEADING_ASTERISK\n+     *  -- WS\n+     *  -- JAVADOC_TAG\n+     * </pre>\n+     */\n+    private static final int NUM_OF_SIBLINGS_BEFORE_ONLY_JAVADOC_TAG = 3;\n+\n+    @Override\n+    public int[] getDefaultJavadocTokens() {\n+        return new int[] {\n+            JavadocTokenTypes.JAVADOC_TAG,\n+        };\n+    }\n+\n+    @Override\n+    public int[] getRequiredJavadocTokens() {\n+        return getAcceptableJavadocTokens();\n+    }\n+\n+    @Override\n+    public void visitJavadocToken(DetailNode ast) {\n+        // No need to filter token because overridden getDefaultJavadocTokens ensures that we only\n+        // receive JAVADOC_TAG DetailNode.\n+        checkAtClause(ast);\n+    }\n+\n+    /**\n+     * Logs when there is no empty line before the at clause.\n+     *\n+     * @param atClause the at clause to check for an empty space before it.\n+     */\n+    private void checkAtClause(DetailNode atClause) {\n+        if (!isAnotherAtClauseBefore(atClause)\n+                && !isOnlyAtClauseNothingElse(atClause)\n+                && insufficientConsecutiveNewlines(atClause)) {\n+            log(atClause.getLineNumber(),\n+                    MSG_JAVADOC_TAG_LINE_BEFORE,\n+                    atClause.getChildren()[0].getText());\n+        }\n+    }\n+\n+    private static boolean isAnotherAtClauseBefore(DetailNode atClause) {\n+        boolean found = false;\n+        DetailNode currentClause = JavadocUtil.getPreviousSibling(atClause);\n+        while (currentClause != null) {\n+            if (currentClause.getType() == JavadocTokenTypes.JAVADOC_TAG) {\n+                found = true;\n+                break;\n+            }\n+            currentClause = JavadocUtil.getPreviousSibling(currentClause);\n+        }\n+        return found;\n+    }\n+\n+    private static boolean isOnlyAtClauseNothingElse(DetailNode atClause) {\n+        int count = 0;\n+        DetailNode currentClause = JavadocUtil.getPreviousSibling(atClause);\n+        while (currentClause != null) {\n+            count++;\n+            currentClause = JavadocUtil.getPreviousSibling(currentClause);\n+        }\n+        return count == NUM_OF_SIBLINGS_BEFORE_ONLY_JAVADOC_TAG;\n+    }\n+\n+    /**\n+     * Iterates through the previous siblings of the atClause looking for empty lines until\n+     * there are no more siblings or it hits something other than asterisk, whitespace or newline.\n+     * If it finds at least one empty line, return true. Return false otherwise.\n+     *\n+     * @param atClause the atClause to check if there are sufficient empty lines before it.\n+     * @return true if there are enough empty lines before the atClause.\n+     */\n+    private static boolean insufficientConsecutiveNewlines(DetailNode atClause) {\n+        int count = 0;\n+        DetailNode currentClause = JavadocUtil.getPreviousSibling(atClause);\n+        while (currentClause != null\n+                && count <= 1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "636e38e964d94089c00f2a1049044baea9741b59"}, "originalPosition": 189}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1Mjg3MDk5", "url": "https://github.com/checkstyle/checkstyle/pull/7932#pullrequestreview-455287099", "createdAt": "2020-07-25T14:05:35Z", "commit": {"oid": "9fe81cbc338289b6f8dc5733d0fd960c809cb984"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNVQxNDowNTozNVrOG3FFhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNVQxNDoxMzoyMFrOG3FH1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQwODE5OQ==", "bodyText": "After a bit of think on this number ... I still think it is bit non-reliable approach.\nplease\n\nmove whole javadoc of this field to isOnlyAtClauseNothingElse.\nplease format tree to follow our style as at https://checkstyle.sourceforge.io/apidocs/com/puppycrawl/tools/checkstyle/api/JavadocTokenTypes.html#JAVADOC\nplease avoid NUM_OF_SIBLINGS_BEFORE_ONLY_JAVADOC_TAG as constant and let use logic like:\n\nprevSibling = getPrevSibling\nif (prevSibling != null && prevSibling.getType=WS) {\n  prevSibling = getPrevSibling\n  if (prevSibling != null && prevSibling.getType=LEADING_ASTERISK) {\n\n(or something similar)", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r460408199", "createdAt": "2020-07-25T14:05:35Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/javadoc/RequireEmptyLineBeforeAtClauseBlockCheck.java", "diffHunk": "@@ -0,0 +1,197 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks.javadoc;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailNode;\n+import com.puppycrawl.tools.checkstyle.api.JavadocTokenTypes;\n+import com.puppycrawl.tools.checkstyle.utils.JavadocUtil;\n+\n+/**\n+ * <p>\n+ * Checks that one blank line before the at-clauses block if it is present in Javadoc.\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * Property {@code violateExecutionOnNonTightHtml} - Control when to print violations\n+ * if the Javadoc being examined by this check violates the tight html rules defined at\n+ * <a href=\"https://checkstyle.org/writingjavadocchecks.html#Tight-HTML_rules\">\n+ * Tight-HTML Rules</a>.\n+ * Type is {@code boolean}. Default value is {@code false}.\n+ * </li>\n+ * </ul>\n+ * <p>\n+ * To configure the check:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=&quot;RequireEmptyLineBeforeAtClauseBlock&quot;/&gt;\n+ * </pre>\n+ * <p>\n+ * By default, the check will report a violation if there is no blank line before the at-clause,\n+ * like in the example below.\n+ * </p>\n+ * <pre>\n+ * &#47;**\n+ *  * testMethod's javadoc.\n+ *  * &#64;return something (violation)\n+ *  *&#47;\n+ * public boolean testMethod() {\n+ *     return false;\n+ * }\n+ * </pre>\n+ * <p>\n+ *  Valid javadoc should have a blank line separating the parameters, return, throw, or\n+ *  other at-clauses like in the example below.\n+ *  </p>\n+ *  <pre>\n+ *  &#47;**\n+ *  * testMethod's javadoc.\n+ *  *\n+ *  * &#64;param firstParam\n+ *  * &#64;return something\n+ *  *&#47;\n+ *  public boolean testMethod(int firstParam) {\n+ *      return false;\n+ *  }\n+ *  </pre>\n+ * <p>\n+ * Parent is {@code com.puppycrawl.tools.checkstyle.TreeWalker}\n+ * </p>\n+ * <p>\n+ * Violation Message Keys:\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * {@code javadoc.missed.html.close}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.parse.rule.error}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.tag.line.before}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.wrong.singleton.html.tag}\n+ * </li>\n+ * </ul>\n+ *\n+ * @since 8.35\n+ */\n+@StatelessCheck\n+public class RequireEmptyLineBeforeAtClauseBlockCheck extends AbstractJavadocCheck {\n+\n+    /**\n+     * The key in \"messages.properties\" for the message that describes an at-clause in javadoc\n+     * requiring an empty line before it.\n+     */\n+    public static final String MSG_JAVADOC_TAG_LINE_BEFORE = \"javadoc.tag.line.before\";\n+\n+    /**\n+     * When javadoc has only a javadoc tag like {@literal @} in it, the JAVADOC_TAG in a JAVADOC\n+     * detail node will always have 3 siblings before it. The parse tree looks like:\n+     * <pre>\n+     * JAVADOC\n+     * \\\n+     *  -- NEWLINE\n+     *  -- LEADING_ASTERISK\n+     *  -- WS\n+     *  -- JAVADOC_TAG\n+     * </pre>\n+     */\n+    private static final int NUM_OF_SIBLINGS_BEFORE_ONLY_JAVADOC_TAG = 3;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9fe81cbc338289b6f8dc5733d0fd960c809cb984"}, "originalPosition": 118}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQwODI5MQ==", "bodyText": "isOnlyAtClauseInWholeJavadoc", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r460408291", "createdAt": "2020-07-25T14:06:43Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/javadoc/RequireEmptyLineBeforeAtClauseBlockCheck.java", "diffHunk": "@@ -0,0 +1,197 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks.javadoc;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailNode;\n+import com.puppycrawl.tools.checkstyle.api.JavadocTokenTypes;\n+import com.puppycrawl.tools.checkstyle.utils.JavadocUtil;\n+\n+/**\n+ * <p>\n+ * Checks that one blank line before the at-clauses block if it is present in Javadoc.\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * Property {@code violateExecutionOnNonTightHtml} - Control when to print violations\n+ * if the Javadoc being examined by this check violates the tight html rules defined at\n+ * <a href=\"https://checkstyle.org/writingjavadocchecks.html#Tight-HTML_rules\">\n+ * Tight-HTML Rules</a>.\n+ * Type is {@code boolean}. Default value is {@code false}.\n+ * </li>\n+ * </ul>\n+ * <p>\n+ * To configure the check:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=&quot;RequireEmptyLineBeforeAtClauseBlock&quot;/&gt;\n+ * </pre>\n+ * <p>\n+ * By default, the check will report a violation if there is no blank line before the at-clause,\n+ * like in the example below.\n+ * </p>\n+ * <pre>\n+ * &#47;**\n+ *  * testMethod's javadoc.\n+ *  * &#64;return something (violation)\n+ *  *&#47;\n+ * public boolean testMethod() {\n+ *     return false;\n+ * }\n+ * </pre>\n+ * <p>\n+ *  Valid javadoc should have a blank line separating the parameters, return, throw, or\n+ *  other at-clauses like in the example below.\n+ *  </p>\n+ *  <pre>\n+ *  &#47;**\n+ *  * testMethod's javadoc.\n+ *  *\n+ *  * &#64;param firstParam\n+ *  * &#64;return something\n+ *  *&#47;\n+ *  public boolean testMethod(int firstParam) {\n+ *      return false;\n+ *  }\n+ *  </pre>\n+ * <p>\n+ * Parent is {@code com.puppycrawl.tools.checkstyle.TreeWalker}\n+ * </p>\n+ * <p>\n+ * Violation Message Keys:\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * {@code javadoc.missed.html.close}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.parse.rule.error}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.tag.line.before}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.wrong.singleton.html.tag}\n+ * </li>\n+ * </ul>\n+ *\n+ * @since 8.35\n+ */\n+@StatelessCheck\n+public class RequireEmptyLineBeforeAtClauseBlockCheck extends AbstractJavadocCheck {\n+\n+    /**\n+     * The key in \"messages.properties\" for the message that describes an at-clause in javadoc\n+     * requiring an empty line before it.\n+     */\n+    public static final String MSG_JAVADOC_TAG_LINE_BEFORE = \"javadoc.tag.line.before\";\n+\n+    /**\n+     * When javadoc has only a javadoc tag like {@literal @} in it, the JAVADOC_TAG in a JAVADOC\n+     * detail node will always have 3 siblings before it. The parse tree looks like:\n+     * <pre>\n+     * JAVADOC\n+     * \\\n+     *  -- NEWLINE\n+     *  -- LEADING_ASTERISK\n+     *  -- WS\n+     *  -- JAVADOC_TAG\n+     * </pre>\n+     */\n+    private static final int NUM_OF_SIBLINGS_BEFORE_ONLY_JAVADOC_TAG = 3;\n+\n+    @Override\n+    public int[] getDefaultJavadocTokens() {\n+        return new int[] {\n+            JavadocTokenTypes.JAVADOC_TAG,\n+        };\n+    }\n+\n+    @Override\n+    public int[] getRequiredJavadocTokens() {\n+        return getAcceptableJavadocTokens();\n+    }\n+\n+    /**\n+     * Logs when there is no empty line before the at clause.\n+     *\n+     * @param atClause the at at-clause node to check for an empty space before it.\n+     */\n+    @Override\n+    public void visitJavadocToken(DetailNode atClause) {\n+        // No need to filter token because overridden getDefaultJavadocTokens ensures that we only\n+        // receive JAVADOC_TAG DetailNode.\n+        if (!isAnotherAtClauseBefore(atClause)\n+                && !isOnlyAtClauseNothingElse(atClause)\n+                && insufficientConsecutiveNewlines(atClause)) {\n+            log(atClause.getLineNumber(),\n+                    MSG_JAVADOC_TAG_LINE_BEFORE,\n+                    atClause.getChildren()[0].getText());\n+        }\n+    }\n+\n+    private static boolean isAnotherAtClauseBefore(DetailNode atClause) {\n+        boolean found = false;\n+        DetailNode currentClause = JavadocUtil.getPreviousSibling(atClause);\n+        while (currentClause != null) {\n+            if (currentClause.getType() == JavadocTokenTypes.JAVADOC_TAG) {\n+                found = true;\n+                break;\n+            }\n+            currentClause = JavadocUtil.getPreviousSibling(currentClause);\n+        }\n+        return found;\n+    }\n+\n+    private static boolean isOnlyAtClauseNothingElse(DetailNode atClause) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9fe81cbc338289b6f8dc5733d0fd960c809cb984"}, "originalPosition": 163}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQwODc4OA==", "bodyText": "please rename all atClause to tag in method names also.\nInternally we call it tag https://checkstyle.sourceforge.io/apidocs/com/puppycrawl/tools/checkstyle/api/JavadocTokenTypes.html#JAVADOC_TAG , so implementation should use same terminology.\nI will review later if we need to change name Check  of Check, it is could be more user friendly, I need to refresh my mind on when at-clause is better to use.", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r460408788", "createdAt": "2020-07-25T14:13:20Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/javadoc/RequireEmptyLineBeforeAtClauseBlockCheck.java", "diffHunk": "@@ -0,0 +1,197 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks.javadoc;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailNode;\n+import com.puppycrawl.tools.checkstyle.api.JavadocTokenTypes;\n+import com.puppycrawl.tools.checkstyle.utils.JavadocUtil;\n+\n+/**\n+ * <p>\n+ * Checks that one blank line before the at-clauses block if it is present in Javadoc.\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * Property {@code violateExecutionOnNonTightHtml} - Control when to print violations\n+ * if the Javadoc being examined by this check violates the tight html rules defined at\n+ * <a href=\"https://checkstyle.org/writingjavadocchecks.html#Tight-HTML_rules\">\n+ * Tight-HTML Rules</a>.\n+ * Type is {@code boolean}. Default value is {@code false}.\n+ * </li>\n+ * </ul>\n+ * <p>\n+ * To configure the check:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=&quot;RequireEmptyLineBeforeAtClauseBlock&quot;/&gt;\n+ * </pre>\n+ * <p>\n+ * By default, the check will report a violation if there is no blank line before the at-clause,\n+ * like in the example below.\n+ * </p>\n+ * <pre>\n+ * &#47;**\n+ *  * testMethod's javadoc.\n+ *  * &#64;return something (violation)\n+ *  *&#47;\n+ * public boolean testMethod() {\n+ *     return false;\n+ * }\n+ * </pre>\n+ * <p>\n+ *  Valid javadoc should have a blank line separating the parameters, return, throw, or\n+ *  other at-clauses like in the example below.\n+ *  </p>\n+ *  <pre>\n+ *  &#47;**\n+ *  * testMethod's javadoc.\n+ *  *\n+ *  * &#64;param firstParam\n+ *  * &#64;return something\n+ *  *&#47;\n+ *  public boolean testMethod(int firstParam) {\n+ *      return false;\n+ *  }\n+ *  </pre>\n+ * <p>\n+ * Parent is {@code com.puppycrawl.tools.checkstyle.TreeWalker}\n+ * </p>\n+ * <p>\n+ * Violation Message Keys:\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * {@code javadoc.missed.html.close}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.parse.rule.error}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.tag.line.before}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.wrong.singleton.html.tag}\n+ * </li>\n+ * </ul>\n+ *\n+ * @since 8.35\n+ */\n+@StatelessCheck\n+public class RequireEmptyLineBeforeAtClauseBlockCheck extends AbstractJavadocCheck {\n+\n+    /**\n+     * The key in \"messages.properties\" for the message that describes an at-clause in javadoc\n+     * requiring an empty line before it.\n+     */\n+    public static final String MSG_JAVADOC_TAG_LINE_BEFORE = \"javadoc.tag.line.before\";\n+\n+    /**\n+     * When javadoc has only a javadoc tag like {@literal @} in it, the JAVADOC_TAG in a JAVADOC\n+     * detail node will always have 3 siblings before it. The parse tree looks like:\n+     * <pre>\n+     * JAVADOC\n+     * \\\n+     *  -- NEWLINE\n+     *  -- LEADING_ASTERISK\n+     *  -- WS\n+     *  -- JAVADOC_TAG\n+     * </pre>\n+     */\n+    private static final int NUM_OF_SIBLINGS_BEFORE_ONLY_JAVADOC_TAG = 3;\n+\n+    @Override\n+    public int[] getDefaultJavadocTokens() {\n+        return new int[] {\n+            JavadocTokenTypes.JAVADOC_TAG,\n+        };\n+    }\n+\n+    @Override\n+    public int[] getRequiredJavadocTokens() {\n+        return getAcceptableJavadocTokens();\n+    }\n+\n+    /**\n+     * Logs when there is no empty line before the at clause.\n+     *\n+     * @param atClause the at at-clause node to check for an empty space before it.\n+     */\n+    @Override\n+    public void visitJavadocToken(DetailNode atClause) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9fe81cbc338289b6f8dc5733d0fd960c809cb984"}, "originalPosition": 138}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1OTg2MDk4", "url": "https://github.com/checkstyle/checkstyle/pull/7932#pullrequestreview-465986098", "createdAt": "2020-08-12T14:42:36Z", "commit": {"oid": "9644dc435a99d57bdf65fb6a907693b2c1629b07"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxNDo0MjozN1rOG_kiKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxNDo0MzowMFrOG_kjHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMxMjA0Mg==", "bodyText": "lets do not use \"clause\" at all.", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r469312042", "createdAt": "2020-08-12T14:42:37Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/javadoc/RequireEmptyLineBeforeBlockTagsGroupCheck.java", "diffHunk": "@@ -0,0 +1,243 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks.javadoc;\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.List;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailNode;\n+import com.puppycrawl.tools.checkstyle.api.JavadocTokenTypes;\n+import com.puppycrawl.tools.checkstyle.utils.JavadocUtil;\n+\n+/**\n+ * <p>\n+ * Checks that one blank line before the tag block if it is present in Javadoc.\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * Property {@code violateExecutionOnNonTightHtml} - Control when to print violations\n+ * if the Javadoc being examined by this check violates the tight html rules defined at\n+ * <a href=\"https://checkstyle.org/writingjavadocchecks.html#Tight-HTML_rules\">\n+ * Tight-HTML Rules</a>.\n+ * Type is {@code boolean}. Default value is {@code false}.\n+ * </li>\n+ * </ul>\n+ * <p>\n+ * To configure the check:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=&quot;RequireEmptyLineBeforeBlockTagsGroup&quot;/&gt;\n+ * </pre>\n+ * <p>\n+ * By default, the check will report a violation if there is no blank line before the tag block,\n+ * like in the example below.\n+ * </p>\n+ * <pre>\n+ * &#47;**\n+ *  * testMethod's javadoc.\n+ *  * &#64;return something (violation)\n+ *  *&#47;\n+ * public boolean testMethod() {\n+ *     return false;\n+ * }\n+ * </pre>\n+ * <p>\n+ *  Valid javadoc should have a blank line separating the parameters, return, throw, or\n+ *  other tags like in the example below.\n+ *  </p>\n+ *  <pre>\n+ *  &#47;**\n+ *  * testMethod's javadoc.\n+ *  *\n+ *  * &#64;param firstParam\n+ *  * &#64;return something\n+ *  *&#47;\n+ *  public boolean testMethod(int firstParam) {\n+ *      return false;\n+ *  }\n+ *  </pre>\n+ * <p>\n+ * Parent is {@code com.puppycrawl.tools.checkstyle.TreeWalker}\n+ * </p>\n+ * <p>\n+ * Violation Message Keys:\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * {@code javadoc.missed.html.close}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.parse.rule.error}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.tag.line.before}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.wrong.singleton.html.tag}\n+ * </li>\n+ * </ul>\n+ *\n+ * @since 8.36\n+ */\n+@StatelessCheck\n+public class RequireEmptyLineBeforeBlockTagsGroupCheck extends AbstractJavadocCheck {\n+\n+    /**\n+     * The key in \"messages.properties\" for the message that describes a tag in javadoc\n+     * requiring an empty line before it.\n+     */\n+    public static final String MSG_JAVADOC_TAG_LINE_BEFORE = \"javadoc.tag.line.before\";\n+\n+    /**\n+     * Case when space separates the tag and the asterisk like in the below example.\n+     * <pre>\n+     *  /**\n+     *   * &#64;param noSpace there is no space here\n+     * </pre>\n+     */\n+    private static final List<Integer> ONLY_TAG_VARIATION_1 = Arrays.asList(\n+            JavadocTokenTypes.WS,\n+            JavadocTokenTypes.LEADING_ASTERISK,\n+            JavadocTokenTypes.NEWLINE);\n+\n+    /**\n+     * Case when no space separates the tag and the asterisk like in the below example.\n+     * <pre>\n+     *  /**\n+     *   *&#64;param noSpace there is no space here\n+     * </pre>\n+     */\n+    private static final List<Integer> ONLY_TAG_VARIATION_2 = Arrays.asList(\n+            JavadocTokenTypes.LEADING_ASTERISK,\n+            JavadocTokenTypes.NEWLINE);\n+\n+    @Override\n+    public int[] getDefaultJavadocTokens() {\n+        return new int[] {\n+            JavadocTokenTypes.JAVADOC_TAG,\n+        };\n+    }\n+\n+    @Override\n+    public int[] getRequiredJavadocTokens() {\n+        return getAcceptableJavadocTokens();\n+    }\n+\n+    /**\n+     * Logs when there is no empty line before the tag.\n+     *\n+     * @param tagNode the at tag node to check for an empty space before it.\n+     */\n+    @Override\n+    public void visitJavadocToken(DetailNode tagNode) {\n+        // No need to filter token because overridden getDefaultJavadocTokens ensures that we only\n+        // receive JAVADOC_TAG DetailNode.\n+        if (!isAnotherTagBefore(tagNode)\n+                && !isOnlyTagInWholeJavadoc(tagNode)\n+                && insufficientConsecutiveNewlines(tagNode)) {\n+            log(tagNode.getLineNumber(),\n+                    MSG_JAVADOC_TAG_LINE_BEFORE,\n+                    tagNode.getChildren()[0].getText());\n+        }\n+    }\n+\n+    private static boolean isAnotherTagBefore(DetailNode tagNode) {\n+        boolean found = false;\n+        DetailNode currentClause = JavadocUtil.getPreviousSibling(tagNode);\n+        while (currentClause != null) {\n+            if (currentClause.getType() == JavadocTokenTypes.JAVADOC_TAG) {\n+                found = true;\n+                break;\n+            }\n+            currentClause = JavadocUtil.getPreviousSibling(currentClause);\n+        }\n+        return found;\n+    }\n+\n+    /**\n+     * When javadoc has only a javadoc tag like {@literal @} in it, the JAVADOC_TAG in a JAVADOC\n+     * detail node will always have 2 or 3 siblings before it. The parse tree looks like:\n+     * <pre>\n+     * JAVADOC[3x0]\n+     * |--NEWLINE[3x0] : [\\n]\n+     * |--LEADING_ASTERISK[4x0] : [ *]\n+     * |--WS[4x2] : [ ]\n+     * |--JAVADOC_TAG[4x3] : [@param T The bar.\\n ]\n+     * </pre>\n+     * Or it can also look like:\n+     * <pre>\n+     * JAVADOC[3x0]\n+     * |--NEWLINE[3x0] : [\\n]\n+     * |--LEADING_ASTERISK[4x0] : [ *]\n+     * |--JAVADOC_TAG[4x3] : [@param T The bar.\\n ]\n+     * </pre>\n+     * We do not include the variation\n+     * <pre>\n+     *  /**&#64;param noSpace there is no space here\n+     * </pre>\n+     * which results in the tree\n+     * <pre>\n+     * JAVADOC[3x0]\n+     * |--JAVADOC_TAG[4x3] : [@param noSpace there is no space here\\n ]\n+     * </pre>\n+     * because this one is invalid. We must recommend placing a blank line to separate &#64;param\n+     * from the first javadoc asterisks.\n+     *\n+     * @param tagNode the at tag node to check if there is nothing before it.\n+     * @return true if there no text before the tagNode.\n+     */\n+    private static boolean isOnlyTagInWholeJavadoc(DetailNode tagNode) {\n+        final List<Integer> previousNodeTypes = new ArrayList<>();\n+        DetailNode currentClause = JavadocUtil.getPreviousSibling(tagNode);\n+        while (currentClause != null) {\n+            previousNodeTypes.add(currentClause.getType());\n+            currentClause = JavadocUtil.getPreviousSibling(currentClause);\n+        }\n+        return ONLY_TAG_VARIATION_1.equals(previousNodeTypes)\n+                || ONLY_TAG_VARIATION_2.equals(previousNodeTypes);\n+    }\n+\n+    /**\n+     * Iterates through the previous siblings of the tagNode looking for empty lines until\n+     * there are no more siblings or it hits something other than asterisk, whitespace or newline.\n+     * If it finds at least one empty line, return true. Return false otherwise.\n+     *\n+     * @param tagNode the tagNode to check if there are sufficient empty lines before it.\n+     * @return true if there are enough empty lines before the tagNode.\n+     */\n+    private static boolean insufficientConsecutiveNewlines(DetailNode tagNode) {\n+        int count = 0;\n+        DetailNode currentClause = JavadocUtil.getPreviousSibling(tagNode);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9644dc435a99d57bdf65fb6a907693b2c1629b07"}, "originalPosition": 229}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMxMjE3OQ==", "bodyText": "lets do not use \"clause\" at all.", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r469312179", "createdAt": "2020-08-12T14:42:49Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/javadoc/RequireEmptyLineBeforeBlockTagsGroupCheck.java", "diffHunk": "@@ -0,0 +1,243 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks.javadoc;\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.List;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailNode;\n+import com.puppycrawl.tools.checkstyle.api.JavadocTokenTypes;\n+import com.puppycrawl.tools.checkstyle.utils.JavadocUtil;\n+\n+/**\n+ * <p>\n+ * Checks that one blank line before the tag block if it is present in Javadoc.\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * Property {@code violateExecutionOnNonTightHtml} - Control when to print violations\n+ * if the Javadoc being examined by this check violates the tight html rules defined at\n+ * <a href=\"https://checkstyle.org/writingjavadocchecks.html#Tight-HTML_rules\">\n+ * Tight-HTML Rules</a>.\n+ * Type is {@code boolean}. Default value is {@code false}.\n+ * </li>\n+ * </ul>\n+ * <p>\n+ * To configure the check:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=&quot;RequireEmptyLineBeforeBlockTagsGroup&quot;/&gt;\n+ * </pre>\n+ * <p>\n+ * By default, the check will report a violation if there is no blank line before the tag block,\n+ * like in the example below.\n+ * </p>\n+ * <pre>\n+ * &#47;**\n+ *  * testMethod's javadoc.\n+ *  * &#64;return something (violation)\n+ *  *&#47;\n+ * public boolean testMethod() {\n+ *     return false;\n+ * }\n+ * </pre>\n+ * <p>\n+ *  Valid javadoc should have a blank line separating the parameters, return, throw, or\n+ *  other tags like in the example below.\n+ *  </p>\n+ *  <pre>\n+ *  &#47;**\n+ *  * testMethod's javadoc.\n+ *  *\n+ *  * &#64;param firstParam\n+ *  * &#64;return something\n+ *  *&#47;\n+ *  public boolean testMethod(int firstParam) {\n+ *      return false;\n+ *  }\n+ *  </pre>\n+ * <p>\n+ * Parent is {@code com.puppycrawl.tools.checkstyle.TreeWalker}\n+ * </p>\n+ * <p>\n+ * Violation Message Keys:\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * {@code javadoc.missed.html.close}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.parse.rule.error}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.tag.line.before}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.wrong.singleton.html.tag}\n+ * </li>\n+ * </ul>\n+ *\n+ * @since 8.36\n+ */\n+@StatelessCheck\n+public class RequireEmptyLineBeforeBlockTagsGroupCheck extends AbstractJavadocCheck {\n+\n+    /**\n+     * The key in \"messages.properties\" for the message that describes a tag in javadoc\n+     * requiring an empty line before it.\n+     */\n+    public static final String MSG_JAVADOC_TAG_LINE_BEFORE = \"javadoc.tag.line.before\";\n+\n+    /**\n+     * Case when space separates the tag and the asterisk like in the below example.\n+     * <pre>\n+     *  /**\n+     *   * &#64;param noSpace there is no space here\n+     * </pre>\n+     */\n+    private static final List<Integer> ONLY_TAG_VARIATION_1 = Arrays.asList(\n+            JavadocTokenTypes.WS,\n+            JavadocTokenTypes.LEADING_ASTERISK,\n+            JavadocTokenTypes.NEWLINE);\n+\n+    /**\n+     * Case when no space separates the tag and the asterisk like in the below example.\n+     * <pre>\n+     *  /**\n+     *   *&#64;param noSpace there is no space here\n+     * </pre>\n+     */\n+    private static final List<Integer> ONLY_TAG_VARIATION_2 = Arrays.asList(\n+            JavadocTokenTypes.LEADING_ASTERISK,\n+            JavadocTokenTypes.NEWLINE);\n+\n+    @Override\n+    public int[] getDefaultJavadocTokens() {\n+        return new int[] {\n+            JavadocTokenTypes.JAVADOC_TAG,\n+        };\n+    }\n+\n+    @Override\n+    public int[] getRequiredJavadocTokens() {\n+        return getAcceptableJavadocTokens();\n+    }\n+\n+    /**\n+     * Logs when there is no empty line before the tag.\n+     *\n+     * @param tagNode the at tag node to check for an empty space before it.\n+     */\n+    @Override\n+    public void visitJavadocToken(DetailNode tagNode) {\n+        // No need to filter token because overridden getDefaultJavadocTokens ensures that we only\n+        // receive JAVADOC_TAG DetailNode.\n+        if (!isAnotherTagBefore(tagNode)\n+                && !isOnlyTagInWholeJavadoc(tagNode)\n+                && insufficientConsecutiveNewlines(tagNode)) {\n+            log(tagNode.getLineNumber(),\n+                    MSG_JAVADOC_TAG_LINE_BEFORE,\n+                    tagNode.getChildren()[0].getText());\n+        }\n+    }\n+\n+    private static boolean isAnotherTagBefore(DetailNode tagNode) {\n+        boolean found = false;\n+        DetailNode currentClause = JavadocUtil.getPreviousSibling(tagNode);\n+        while (currentClause != null) {\n+            if (currentClause.getType() == JavadocTokenTypes.JAVADOC_TAG) {\n+                found = true;\n+                break;\n+            }\n+            currentClause = JavadocUtil.getPreviousSibling(currentClause);\n+        }\n+        return found;\n+    }\n+\n+    /**\n+     * When javadoc has only a javadoc tag like {@literal @} in it, the JAVADOC_TAG in a JAVADOC\n+     * detail node will always have 2 or 3 siblings before it. The parse tree looks like:\n+     * <pre>\n+     * JAVADOC[3x0]\n+     * |--NEWLINE[3x0] : [\\n]\n+     * |--LEADING_ASTERISK[4x0] : [ *]\n+     * |--WS[4x2] : [ ]\n+     * |--JAVADOC_TAG[4x3] : [@param T The bar.\\n ]\n+     * </pre>\n+     * Or it can also look like:\n+     * <pre>\n+     * JAVADOC[3x0]\n+     * |--NEWLINE[3x0] : [\\n]\n+     * |--LEADING_ASTERISK[4x0] : [ *]\n+     * |--JAVADOC_TAG[4x3] : [@param T The bar.\\n ]\n+     * </pre>\n+     * We do not include the variation\n+     * <pre>\n+     *  /**&#64;param noSpace there is no space here\n+     * </pre>\n+     * which results in the tree\n+     * <pre>\n+     * JAVADOC[3x0]\n+     * |--JAVADOC_TAG[4x3] : [@param noSpace there is no space here\\n ]\n+     * </pre>\n+     * because this one is invalid. We must recommend placing a blank line to separate &#64;param\n+     * from the first javadoc asterisks.\n+     *\n+     * @param tagNode the at tag node to check if there is nothing before it.\n+     * @return true if there no text before the tagNode.\n+     */\n+    private static boolean isOnlyTagInWholeJavadoc(DetailNode tagNode) {\n+        final List<Integer> previousNodeTypes = new ArrayList<>();\n+        DetailNode currentClause = JavadocUtil.getPreviousSibling(tagNode);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9644dc435a99d57bdf65fb6a907693b2c1629b07"}, "originalPosition": 210}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTMxMjI4NQ==", "bodyText": "lets do not use \"clause\" at all.", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r469312285", "createdAt": "2020-08-12T14:43:00Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/javadoc/RequireEmptyLineBeforeBlockTagsGroupCheck.java", "diffHunk": "@@ -0,0 +1,243 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks.javadoc;\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.List;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailNode;\n+import com.puppycrawl.tools.checkstyle.api.JavadocTokenTypes;\n+import com.puppycrawl.tools.checkstyle.utils.JavadocUtil;\n+\n+/**\n+ * <p>\n+ * Checks that one blank line before the tag block if it is present in Javadoc.\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * Property {@code violateExecutionOnNonTightHtml} - Control when to print violations\n+ * if the Javadoc being examined by this check violates the tight html rules defined at\n+ * <a href=\"https://checkstyle.org/writingjavadocchecks.html#Tight-HTML_rules\">\n+ * Tight-HTML Rules</a>.\n+ * Type is {@code boolean}. Default value is {@code false}.\n+ * </li>\n+ * </ul>\n+ * <p>\n+ * To configure the check:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=&quot;RequireEmptyLineBeforeBlockTagsGroup&quot;/&gt;\n+ * </pre>\n+ * <p>\n+ * By default, the check will report a violation if there is no blank line before the tag block,\n+ * like in the example below.\n+ * </p>\n+ * <pre>\n+ * &#47;**\n+ *  * testMethod's javadoc.\n+ *  * &#64;return something (violation)\n+ *  *&#47;\n+ * public boolean testMethod() {\n+ *     return false;\n+ * }\n+ * </pre>\n+ * <p>\n+ *  Valid javadoc should have a blank line separating the parameters, return, throw, or\n+ *  other tags like in the example below.\n+ *  </p>\n+ *  <pre>\n+ *  &#47;**\n+ *  * testMethod's javadoc.\n+ *  *\n+ *  * &#64;param firstParam\n+ *  * &#64;return something\n+ *  *&#47;\n+ *  public boolean testMethod(int firstParam) {\n+ *      return false;\n+ *  }\n+ *  </pre>\n+ * <p>\n+ * Parent is {@code com.puppycrawl.tools.checkstyle.TreeWalker}\n+ * </p>\n+ * <p>\n+ * Violation Message Keys:\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * {@code javadoc.missed.html.close}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.parse.rule.error}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.tag.line.before}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.wrong.singleton.html.tag}\n+ * </li>\n+ * </ul>\n+ *\n+ * @since 8.36\n+ */\n+@StatelessCheck\n+public class RequireEmptyLineBeforeBlockTagsGroupCheck extends AbstractJavadocCheck {\n+\n+    /**\n+     * The key in \"messages.properties\" for the message that describes a tag in javadoc\n+     * requiring an empty line before it.\n+     */\n+    public static final String MSG_JAVADOC_TAG_LINE_BEFORE = \"javadoc.tag.line.before\";\n+\n+    /**\n+     * Case when space separates the tag and the asterisk like in the below example.\n+     * <pre>\n+     *  /**\n+     *   * &#64;param noSpace there is no space here\n+     * </pre>\n+     */\n+    private static final List<Integer> ONLY_TAG_VARIATION_1 = Arrays.asList(\n+            JavadocTokenTypes.WS,\n+            JavadocTokenTypes.LEADING_ASTERISK,\n+            JavadocTokenTypes.NEWLINE);\n+\n+    /**\n+     * Case when no space separates the tag and the asterisk like in the below example.\n+     * <pre>\n+     *  /**\n+     *   *&#64;param noSpace there is no space here\n+     * </pre>\n+     */\n+    private static final List<Integer> ONLY_TAG_VARIATION_2 = Arrays.asList(\n+            JavadocTokenTypes.LEADING_ASTERISK,\n+            JavadocTokenTypes.NEWLINE);\n+\n+    @Override\n+    public int[] getDefaultJavadocTokens() {\n+        return new int[] {\n+            JavadocTokenTypes.JAVADOC_TAG,\n+        };\n+    }\n+\n+    @Override\n+    public int[] getRequiredJavadocTokens() {\n+        return getAcceptableJavadocTokens();\n+    }\n+\n+    /**\n+     * Logs when there is no empty line before the tag.\n+     *\n+     * @param tagNode the at tag node to check for an empty space before it.\n+     */\n+    @Override\n+    public void visitJavadocToken(DetailNode tagNode) {\n+        // No need to filter token because overridden getDefaultJavadocTokens ensures that we only\n+        // receive JAVADOC_TAG DetailNode.\n+        if (!isAnotherTagBefore(tagNode)\n+                && !isOnlyTagInWholeJavadoc(tagNode)\n+                && insufficientConsecutiveNewlines(tagNode)) {\n+            log(tagNode.getLineNumber(),\n+                    MSG_JAVADOC_TAG_LINE_BEFORE,\n+                    tagNode.getChildren()[0].getText());\n+        }\n+    }\n+\n+    private static boolean isAnotherTagBefore(DetailNode tagNode) {\n+        boolean found = false;\n+        DetailNode currentClause = JavadocUtil.getPreviousSibling(tagNode);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9644dc435a99d57bdf65fb6a907693b2c1629b07"}, "originalPosition": 165}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4MDAxOTk5", "url": "https://github.com/checkstyle/checkstyle/pull/7932#pullrequestreview-468001999", "createdAt": "2020-08-15T15:59:42Z", "commit": {"oid": "8b1379921be33ba135fa5ac9299174e426854fc8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4ODk4MDU4", "url": "https://github.com/checkstyle/checkstyle/pull/7932#pullrequestreview-468898058", "createdAt": "2020-08-17T23:33:53Z", "commit": {"oid": "8b1379921be33ba135fa5ac9299174e426854fc8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QyMzozMzo1NFrOHB-QAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QyMzo1MzoyOFrOHB-mLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTgzMDUzMA==", "bodyText": "shouldn't tag be singular?", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r471830530", "createdAt": "2020-08-17T23:33:54Z", "author": {"login": "rnveach"}, "path": "config/checkstyle_checks.xml", "diffHunk": "@@ -545,6 +545,7 @@\n     <module name=\"SingleLineJavadoc\"/>\n     <module name=\"WriteTag\"/>\n     <module name=\"SummaryJavadoc\"/>\n+    <module name=\"RequireEmptyLineBeforeBlockTagsGroup\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b1379921be33ba135fa5ac9299174e426854fc8"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTgzMjgyMg==", "bodyText": "If we remove variation 1, won't 2 always match? If we have to match the entire line or up to the asterisk, isn't it fast to check a size of 2 and the last 2 items are the ones we want?", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r471832822", "createdAt": "2020-08-17T23:41:40Z", "author": {"login": "rnveach"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/javadoc/RequireEmptyLineBeforeBlockTagsGroupCheck.java", "diffHunk": "@@ -0,0 +1,243 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks.javadoc;\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.List;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailNode;\n+import com.puppycrawl.tools.checkstyle.api.JavadocTokenTypes;\n+import com.puppycrawl.tools.checkstyle.utils.JavadocUtil;\n+\n+/**\n+ * <p>\n+ * Checks that one blank line before the tag block if it is present in Javadoc.\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * Property {@code violateExecutionOnNonTightHtml} - Control when to print violations\n+ * if the Javadoc being examined by this check violates the tight html rules defined at\n+ * <a href=\"https://checkstyle.org/writingjavadocchecks.html#Tight-HTML_rules\">\n+ * Tight-HTML Rules</a>.\n+ * Type is {@code boolean}. Default value is {@code false}.\n+ * </li>\n+ * </ul>\n+ * <p>\n+ * To configure the check:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=&quot;RequireEmptyLineBeforeBlockTagsGroup&quot;/&gt;\n+ * </pre>\n+ * <p>\n+ * By default, the check will report a violation if there is no blank line before the tag block,\n+ * like in the example below.\n+ * </p>\n+ * <pre>\n+ * &#47;**\n+ *  * testMethod's javadoc.\n+ *  * &#64;return something (violation)\n+ *  *&#47;\n+ * public boolean testMethod() {\n+ *     return false;\n+ * }\n+ * </pre>\n+ * <p>\n+ *  Valid javadoc should have a blank line separating the parameters, return, throw, or\n+ *  other tags like in the example below.\n+ *  </p>\n+ *  <pre>\n+ *  &#47;**\n+ *  * testMethod's javadoc.\n+ *  *\n+ *  * &#64;param firstParam\n+ *  * &#64;return something\n+ *  *&#47;\n+ *  public boolean testMethod(int firstParam) {\n+ *      return false;\n+ *  }\n+ *  </pre>\n+ * <p>\n+ * Parent is {@code com.puppycrawl.tools.checkstyle.TreeWalker}\n+ * </p>\n+ * <p>\n+ * Violation Message Keys:\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * {@code javadoc.missed.html.close}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.parse.rule.error}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.tag.line.before}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.wrong.singleton.html.tag}\n+ * </li>\n+ * </ul>\n+ *\n+ * @since 8.36\n+ */\n+@StatelessCheck\n+public class RequireEmptyLineBeforeBlockTagsGroupCheck extends AbstractJavadocCheck {\n+\n+    /**\n+     * The key in \"messages.properties\" for the message that describes a tag in javadoc\n+     * requiring an empty line before it.\n+     */\n+    public static final String MSG_JAVADOC_TAG_LINE_BEFORE = \"javadoc.tag.line.before\";\n+\n+    /**\n+     * Case when space separates the tag and the asterisk like in the below example.\n+     * <pre>\n+     *  /**\n+     *   * &#64;param noSpace there is no space here\n+     * </pre>\n+     */\n+    private static final List<Integer> ONLY_TAG_VARIATION_1 = Arrays.asList(\n+            JavadocTokenTypes.WS,\n+            JavadocTokenTypes.LEADING_ASTERISK,\n+            JavadocTokenTypes.NEWLINE);\n+\n+    /**\n+     * Case when no space separates the tag and the asterisk like in the below example.\n+     * <pre>\n+     *  /**\n+     *   *&#64;param noSpace there is no space here\n+     * </pre>\n+     */\n+    private static final List<Integer> ONLY_TAG_VARIATION_2 = Arrays.asList(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b1379921be33ba135fa5ac9299174e426854fc8"}, "originalPosition": 129}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTgzMzAzNg==", "bodyText": "boolean methods should start with something like is, has, etc...", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r471833036", "createdAt": "2020-08-17T23:42:19Z", "author": {"login": "rnveach"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/javadoc/RequireEmptyLineBeforeBlockTagsGroupCheck.java", "diffHunk": "@@ -0,0 +1,243 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks.javadoc;\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.List;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailNode;\n+import com.puppycrawl.tools.checkstyle.api.JavadocTokenTypes;\n+import com.puppycrawl.tools.checkstyle.utils.JavadocUtil;\n+\n+/**\n+ * <p>\n+ * Checks that one blank line before the tag block if it is present in Javadoc.\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * Property {@code violateExecutionOnNonTightHtml} - Control when to print violations\n+ * if the Javadoc being examined by this check violates the tight html rules defined at\n+ * <a href=\"https://checkstyle.org/writingjavadocchecks.html#Tight-HTML_rules\">\n+ * Tight-HTML Rules</a>.\n+ * Type is {@code boolean}. Default value is {@code false}.\n+ * </li>\n+ * </ul>\n+ * <p>\n+ * To configure the check:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=&quot;RequireEmptyLineBeforeBlockTagsGroup&quot;/&gt;\n+ * </pre>\n+ * <p>\n+ * By default, the check will report a violation if there is no blank line before the tag block,\n+ * like in the example below.\n+ * </p>\n+ * <pre>\n+ * &#47;**\n+ *  * testMethod's javadoc.\n+ *  * &#64;return something (violation)\n+ *  *&#47;\n+ * public boolean testMethod() {\n+ *     return false;\n+ * }\n+ * </pre>\n+ * <p>\n+ *  Valid javadoc should have a blank line separating the parameters, return, throw, or\n+ *  other tags like in the example below.\n+ *  </p>\n+ *  <pre>\n+ *  &#47;**\n+ *  * testMethod's javadoc.\n+ *  *\n+ *  * &#64;param firstParam\n+ *  * &#64;return something\n+ *  *&#47;\n+ *  public boolean testMethod(int firstParam) {\n+ *      return false;\n+ *  }\n+ *  </pre>\n+ * <p>\n+ * Parent is {@code com.puppycrawl.tools.checkstyle.TreeWalker}\n+ * </p>\n+ * <p>\n+ * Violation Message Keys:\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * {@code javadoc.missed.html.close}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.parse.rule.error}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.tag.line.before}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.wrong.singleton.html.tag}\n+ * </li>\n+ * </ul>\n+ *\n+ * @since 8.36\n+ */\n+@StatelessCheck\n+public class RequireEmptyLineBeforeBlockTagsGroupCheck extends AbstractJavadocCheck {\n+\n+    /**\n+     * The key in \"messages.properties\" for the message that describes a tag in javadoc\n+     * requiring an empty line before it.\n+     */\n+    public static final String MSG_JAVADOC_TAG_LINE_BEFORE = \"javadoc.tag.line.before\";\n+\n+    /**\n+     * Case when space separates the tag and the asterisk like in the below example.\n+     * <pre>\n+     *  /**\n+     *   * &#64;param noSpace there is no space here\n+     * </pre>\n+     */\n+    private static final List<Integer> ONLY_TAG_VARIATION_1 = Arrays.asList(\n+            JavadocTokenTypes.WS,\n+            JavadocTokenTypes.LEADING_ASTERISK,\n+            JavadocTokenTypes.NEWLINE);\n+\n+    /**\n+     * Case when no space separates the tag and the asterisk like in the below example.\n+     * <pre>\n+     *  /**\n+     *   *&#64;param noSpace there is no space here\n+     * </pre>\n+     */\n+    private static final List<Integer> ONLY_TAG_VARIATION_2 = Arrays.asList(\n+            JavadocTokenTypes.LEADING_ASTERISK,\n+            JavadocTokenTypes.NEWLINE);\n+\n+    @Override\n+    public int[] getDefaultJavadocTokens() {\n+        return new int[] {\n+            JavadocTokenTypes.JAVADOC_TAG,\n+        };\n+    }\n+\n+    @Override\n+    public int[] getRequiredJavadocTokens() {\n+        return getAcceptableJavadocTokens();\n+    }\n+\n+    /**\n+     * Logs when there is no empty line before the tag.\n+     *\n+     * @param tagNode the at tag node to check for an empty space before it.\n+     */\n+    @Override\n+    public void visitJavadocToken(DetailNode tagNode) {\n+        // No need to filter token because overridden getDefaultJavadocTokens ensures that we only\n+        // receive JAVADOC_TAG DetailNode.\n+        if (!isAnotherTagBefore(tagNode)\n+                && !isOnlyTagInWholeJavadoc(tagNode)\n+                && insufficientConsecutiveNewlines(tagNode)) {\n+            log(tagNode.getLineNumber(),\n+                    MSG_JAVADOC_TAG_LINE_BEFORE,\n+                    tagNode.getChildren()[0].getText());\n+        }\n+    }\n+\n+    private static boolean isAnotherTagBefore(DetailNode tagNode) {\n+        boolean found = false;\n+        DetailNode currentNode = JavadocUtil.getPreviousSibling(tagNode);\n+        while (currentNode != null) {\n+            if (currentNode.getType() == JavadocTokenTypes.JAVADOC_TAG) {\n+                found = true;\n+                break;\n+            }\n+            currentNode = JavadocUtil.getPreviousSibling(currentNode);\n+        }\n+        return found;\n+    }\n+\n+    /**\n+     * When javadoc has only a javadoc tag like {@literal @} in it, the JAVADOC_TAG in a JAVADOC\n+     * detail node will always have 2 or 3 siblings before it. The parse tree looks like:\n+     * <pre>\n+     * JAVADOC[3x0]\n+     * |--NEWLINE[3x0] : [\\n]\n+     * |--LEADING_ASTERISK[4x0] : [ *]\n+     * |--WS[4x2] : [ ]\n+     * |--JAVADOC_TAG[4x3] : [@param T The bar.\\n ]\n+     * </pre>\n+     * Or it can also look like:\n+     * <pre>\n+     * JAVADOC[3x0]\n+     * |--NEWLINE[3x0] : [\\n]\n+     * |--LEADING_ASTERISK[4x0] : [ *]\n+     * |--JAVADOC_TAG[4x3] : [@param T The bar.\\n ]\n+     * </pre>\n+     * We do not include the variation\n+     * <pre>\n+     *  /**&#64;param noSpace there is no space here\n+     * </pre>\n+     * which results in the tree\n+     * <pre>\n+     * JAVADOC[3x0]\n+     * |--JAVADOC_TAG[4x3] : [@param noSpace there is no space here\\n ]\n+     * </pre>\n+     * because this one is invalid. We must recommend placing a blank line to separate &#64;param\n+     * from the first javadoc asterisks.\n+     *\n+     * @param tagNode the at tag node to check if there is nothing before it.\n+     * @return true if there no text before the tagNode.\n+     */\n+    private static boolean isOnlyTagInWholeJavadoc(DetailNode tagNode) {\n+        final List<Integer> previousNodeTypes = new ArrayList<>();\n+        DetailNode currentNode = JavadocUtil.getPreviousSibling(tagNode);\n+        while (currentNode != null) {\n+            previousNodeTypes.add(currentNode.getType());\n+            currentNode = JavadocUtil.getPreviousSibling(currentNode);\n+        }\n+        return ONLY_TAG_VARIATION_1.equals(previousNodeTypes)\n+                || ONLY_TAG_VARIATION_2.equals(previousNodeTypes);\n+    }\n+\n+    /**\n+     * Iterates through the previous siblings of the tagNode looking for empty lines until\n+     * there are no more siblings or it hits something other than asterisk, whitespace or newline.\n+     * If it finds at least one empty line, return true. Return false otherwise.\n+     *\n+     * @param tagNode the tagNode to check if there are sufficient empty lines before it.\n+     * @return true if there are enough empty lines before the tagNode.\n+     */\n+    private static boolean insufficientConsecutiveNewlines(DetailNode tagNode) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b1379921be33ba135fa5ac9299174e426854fc8"}, "originalPosition": 227}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTgzMzc2Ng==", "bodyText": "First sentence of the javadoc is the most important and says what it is doing for the user calling it. Javadoc printers will only show it for summaries. First sentence is pretty long and 2nd and 3rd still say what its doing. Can we redo the first sentence so it gives a clear informaition and leave further sentences to be implementation specific?", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r471833766", "createdAt": "2020-08-17T23:44:48Z", "author": {"login": "rnveach"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/javadoc/RequireEmptyLineBeforeBlockTagsGroupCheck.java", "diffHunk": "@@ -0,0 +1,243 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks.javadoc;\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.List;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailNode;\n+import com.puppycrawl.tools.checkstyle.api.JavadocTokenTypes;\n+import com.puppycrawl.tools.checkstyle.utils.JavadocUtil;\n+\n+/**\n+ * <p>\n+ * Checks that one blank line before the tag block if it is present in Javadoc.\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * Property {@code violateExecutionOnNonTightHtml} - Control when to print violations\n+ * if the Javadoc being examined by this check violates the tight html rules defined at\n+ * <a href=\"https://checkstyle.org/writingjavadocchecks.html#Tight-HTML_rules\">\n+ * Tight-HTML Rules</a>.\n+ * Type is {@code boolean}. Default value is {@code false}.\n+ * </li>\n+ * </ul>\n+ * <p>\n+ * To configure the check:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=&quot;RequireEmptyLineBeforeBlockTagsGroup&quot;/&gt;\n+ * </pre>\n+ * <p>\n+ * By default, the check will report a violation if there is no blank line before the tag block,\n+ * like in the example below.\n+ * </p>\n+ * <pre>\n+ * &#47;**\n+ *  * testMethod's javadoc.\n+ *  * &#64;return something (violation)\n+ *  *&#47;\n+ * public boolean testMethod() {\n+ *     return false;\n+ * }\n+ * </pre>\n+ * <p>\n+ *  Valid javadoc should have a blank line separating the parameters, return, throw, or\n+ *  other tags like in the example below.\n+ *  </p>\n+ *  <pre>\n+ *  &#47;**\n+ *  * testMethod's javadoc.\n+ *  *\n+ *  * &#64;param firstParam\n+ *  * &#64;return something\n+ *  *&#47;\n+ *  public boolean testMethod(int firstParam) {\n+ *      return false;\n+ *  }\n+ *  </pre>\n+ * <p>\n+ * Parent is {@code com.puppycrawl.tools.checkstyle.TreeWalker}\n+ * </p>\n+ * <p>\n+ * Violation Message Keys:\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * {@code javadoc.missed.html.close}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.parse.rule.error}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.tag.line.before}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.wrong.singleton.html.tag}\n+ * </li>\n+ * </ul>\n+ *\n+ * @since 8.36\n+ */\n+@StatelessCheck\n+public class RequireEmptyLineBeforeBlockTagsGroupCheck extends AbstractJavadocCheck {\n+\n+    /**\n+     * The key in \"messages.properties\" for the message that describes a tag in javadoc\n+     * requiring an empty line before it.\n+     */\n+    public static final String MSG_JAVADOC_TAG_LINE_BEFORE = \"javadoc.tag.line.before\";\n+\n+    /**\n+     * Case when space separates the tag and the asterisk like in the below example.\n+     * <pre>\n+     *  /**\n+     *   * &#64;param noSpace there is no space here\n+     * </pre>\n+     */\n+    private static final List<Integer> ONLY_TAG_VARIATION_1 = Arrays.asList(\n+            JavadocTokenTypes.WS,\n+            JavadocTokenTypes.LEADING_ASTERISK,\n+            JavadocTokenTypes.NEWLINE);\n+\n+    /**\n+     * Case when no space separates the tag and the asterisk like in the below example.\n+     * <pre>\n+     *  /**\n+     *   *&#64;param noSpace there is no space here\n+     * </pre>\n+     */\n+    private static final List<Integer> ONLY_TAG_VARIATION_2 = Arrays.asList(\n+            JavadocTokenTypes.LEADING_ASTERISK,\n+            JavadocTokenTypes.NEWLINE);\n+\n+    @Override\n+    public int[] getDefaultJavadocTokens() {\n+        return new int[] {\n+            JavadocTokenTypes.JAVADOC_TAG,\n+        };\n+    }\n+\n+    @Override\n+    public int[] getRequiredJavadocTokens() {\n+        return getAcceptableJavadocTokens();\n+    }\n+\n+    /**\n+     * Logs when there is no empty line before the tag.\n+     *\n+     * @param tagNode the at tag node to check for an empty space before it.\n+     */\n+    @Override\n+    public void visitJavadocToken(DetailNode tagNode) {\n+        // No need to filter token because overridden getDefaultJavadocTokens ensures that we only\n+        // receive JAVADOC_TAG DetailNode.\n+        if (!isAnotherTagBefore(tagNode)\n+                && !isOnlyTagInWholeJavadoc(tagNode)\n+                && insufficientConsecutiveNewlines(tagNode)) {\n+            log(tagNode.getLineNumber(),\n+                    MSG_JAVADOC_TAG_LINE_BEFORE,\n+                    tagNode.getChildren()[0].getText());\n+        }\n+    }\n+\n+    private static boolean isAnotherTagBefore(DetailNode tagNode) {\n+        boolean found = false;\n+        DetailNode currentNode = JavadocUtil.getPreviousSibling(tagNode);\n+        while (currentNode != null) {\n+            if (currentNode.getType() == JavadocTokenTypes.JAVADOC_TAG) {\n+                found = true;\n+                break;\n+            }\n+            currentNode = JavadocUtil.getPreviousSibling(currentNode);\n+        }\n+        return found;\n+    }\n+\n+    /**\n+     * When javadoc has only a javadoc tag like {@literal @} in it, the JAVADOC_TAG in a JAVADOC\n+     * detail node will always have 2 or 3 siblings before it. The parse tree looks like:\n+     * <pre>\n+     * JAVADOC[3x0]\n+     * |--NEWLINE[3x0] : [\\n]\n+     * |--LEADING_ASTERISK[4x0] : [ *]\n+     * |--WS[4x2] : [ ]\n+     * |--JAVADOC_TAG[4x3] : [@param T The bar.\\n ]\n+     * </pre>\n+     * Or it can also look like:\n+     * <pre>\n+     * JAVADOC[3x0]\n+     * |--NEWLINE[3x0] : [\\n]\n+     * |--LEADING_ASTERISK[4x0] : [ *]\n+     * |--JAVADOC_TAG[4x3] : [@param T The bar.\\n ]\n+     * </pre>\n+     * We do not include the variation\n+     * <pre>\n+     *  /**&#64;param noSpace there is no space here\n+     * </pre>\n+     * which results in the tree\n+     * <pre>\n+     * JAVADOC[3x0]\n+     * |--JAVADOC_TAG[4x3] : [@param noSpace there is no space here\\n ]\n+     * </pre>\n+     * because this one is invalid. We must recommend placing a blank line to separate &#64;param\n+     * from the first javadoc asterisks.\n+     *\n+     * @param tagNode the at tag node to check if there is nothing before it.\n+     * @return true if there no text before the tagNode.\n+     */\n+    private static boolean isOnlyTagInWholeJavadoc(DetailNode tagNode) {\n+        final List<Integer> previousNodeTypes = new ArrayList<>();\n+        DetailNode currentNode = JavadocUtil.getPreviousSibling(tagNode);\n+        while (currentNode != null) {\n+            previousNodeTypes.add(currentNode.getType());\n+            currentNode = JavadocUtil.getPreviousSibling(currentNode);\n+        }\n+        return ONLY_TAG_VARIATION_1.equals(previousNodeTypes)\n+                || ONLY_TAG_VARIATION_2.equals(previousNodeTypes);\n+    }\n+\n+    /**\n+     * Iterates through the previous siblings of the tagNode looking for empty lines until\n+     * there are no more siblings or it hits something other than asterisk, whitespace or newline.\n+     * If it finds at least one empty line, return true. Return false otherwise.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b1379921be33ba135fa5ac9299174e426854fc8"}, "originalPosition": 222}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTgzNDE3OA==", "bodyText": "same.", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r471834178", "createdAt": "2020-08-17T23:46:11Z", "author": {"login": "rnveach"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/javadoc/RequireEmptyLineBeforeBlockTagsGroupCheck.java", "diffHunk": "@@ -0,0 +1,243 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks.javadoc;\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.List;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailNode;\n+import com.puppycrawl.tools.checkstyle.api.JavadocTokenTypes;\n+import com.puppycrawl.tools.checkstyle.utils.JavadocUtil;\n+\n+/**\n+ * <p>\n+ * Checks that one blank line before the tag block if it is present in Javadoc.\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * Property {@code violateExecutionOnNonTightHtml} - Control when to print violations\n+ * if the Javadoc being examined by this check violates the tight html rules defined at\n+ * <a href=\"https://checkstyle.org/writingjavadocchecks.html#Tight-HTML_rules\">\n+ * Tight-HTML Rules</a>.\n+ * Type is {@code boolean}. Default value is {@code false}.\n+ * </li>\n+ * </ul>\n+ * <p>\n+ * To configure the check:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=&quot;RequireEmptyLineBeforeBlockTagsGroup&quot;/&gt;\n+ * </pre>\n+ * <p>\n+ * By default, the check will report a violation if there is no blank line before the tag block,\n+ * like in the example below.\n+ * </p>\n+ * <pre>\n+ * &#47;**\n+ *  * testMethod's javadoc.\n+ *  * &#64;return something (violation)\n+ *  *&#47;\n+ * public boolean testMethod() {\n+ *     return false;\n+ * }\n+ * </pre>\n+ * <p>\n+ *  Valid javadoc should have a blank line separating the parameters, return, throw, or\n+ *  other tags like in the example below.\n+ *  </p>\n+ *  <pre>\n+ *  &#47;**\n+ *  * testMethod's javadoc.\n+ *  *\n+ *  * &#64;param firstParam\n+ *  * &#64;return something\n+ *  *&#47;\n+ *  public boolean testMethod(int firstParam) {\n+ *      return false;\n+ *  }\n+ *  </pre>\n+ * <p>\n+ * Parent is {@code com.puppycrawl.tools.checkstyle.TreeWalker}\n+ * </p>\n+ * <p>\n+ * Violation Message Keys:\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * {@code javadoc.missed.html.close}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.parse.rule.error}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.tag.line.before}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.wrong.singleton.html.tag}\n+ * </li>\n+ * </ul>\n+ *\n+ * @since 8.36\n+ */\n+@StatelessCheck\n+public class RequireEmptyLineBeforeBlockTagsGroupCheck extends AbstractJavadocCheck {\n+\n+    /**\n+     * The key in \"messages.properties\" for the message that describes a tag in javadoc\n+     * requiring an empty line before it.\n+     */\n+    public static final String MSG_JAVADOC_TAG_LINE_BEFORE = \"javadoc.tag.line.before\";\n+\n+    /**\n+     * Case when space separates the tag and the asterisk like in the below example.\n+     * <pre>\n+     *  /**\n+     *   * &#64;param noSpace there is no space here\n+     * </pre>\n+     */\n+    private static final List<Integer> ONLY_TAG_VARIATION_1 = Arrays.asList(\n+            JavadocTokenTypes.WS,\n+            JavadocTokenTypes.LEADING_ASTERISK,\n+            JavadocTokenTypes.NEWLINE);\n+\n+    /**\n+     * Case when no space separates the tag and the asterisk like in the below example.\n+     * <pre>\n+     *  /**\n+     *   *&#64;param noSpace there is no space here\n+     * </pre>\n+     */\n+    private static final List<Integer> ONLY_TAG_VARIATION_2 = Arrays.asList(\n+            JavadocTokenTypes.LEADING_ASTERISK,\n+            JavadocTokenTypes.NEWLINE);\n+\n+    @Override\n+    public int[] getDefaultJavadocTokens() {\n+        return new int[] {\n+            JavadocTokenTypes.JAVADOC_TAG,\n+        };\n+    }\n+\n+    @Override\n+    public int[] getRequiredJavadocTokens() {\n+        return getAcceptableJavadocTokens();\n+    }\n+\n+    /**\n+     * Logs when there is no empty line before the tag.\n+     *\n+     * @param tagNode the at tag node to check for an empty space before it.\n+     */\n+    @Override\n+    public void visitJavadocToken(DetailNode tagNode) {\n+        // No need to filter token because overridden getDefaultJavadocTokens ensures that we only\n+        // receive JAVADOC_TAG DetailNode.\n+        if (!isAnotherTagBefore(tagNode)\n+                && !isOnlyTagInWholeJavadoc(tagNode)\n+                && insufficientConsecutiveNewlines(tagNode)) {\n+            log(tagNode.getLineNumber(),\n+                    MSG_JAVADOC_TAG_LINE_BEFORE,\n+                    tagNode.getChildren()[0].getText());\n+        }\n+    }\n+\n+    private static boolean isAnotherTagBefore(DetailNode tagNode) {\n+        boolean found = false;\n+        DetailNode currentNode = JavadocUtil.getPreviousSibling(tagNode);\n+        while (currentNode != null) {\n+            if (currentNode.getType() == JavadocTokenTypes.JAVADOC_TAG) {\n+                found = true;\n+                break;\n+            }\n+            currentNode = JavadocUtil.getPreviousSibling(currentNode);\n+        }\n+        return found;\n+    }\n+\n+    /**\n+     * When javadoc has only a javadoc tag like {@literal @} in it, the JAVADOC_TAG in a JAVADOC\n+     * detail node will always have 2 or 3 siblings before it. The parse tree looks like:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b1379921be33ba135fa5ac9299174e426854fc8"}, "originalPosition": 178}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTgzNDM0Nw==", "bodyText": "@romani Shouldn't this method be required to have a javadoc?", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r471834347", "createdAt": "2020-08-17T23:46:45Z", "author": {"login": "rnveach"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/javadoc/RequireEmptyLineBeforeBlockTagsGroupCheck.java", "diffHunk": "@@ -0,0 +1,243 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks.javadoc;\n+\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.List;\n+\n+import com.puppycrawl.tools.checkstyle.StatelessCheck;\n+import com.puppycrawl.tools.checkstyle.api.DetailNode;\n+import com.puppycrawl.tools.checkstyle.api.JavadocTokenTypes;\n+import com.puppycrawl.tools.checkstyle.utils.JavadocUtil;\n+\n+/**\n+ * <p>\n+ * Checks that one blank line before the tag block if it is present in Javadoc.\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * Property {@code violateExecutionOnNonTightHtml} - Control when to print violations\n+ * if the Javadoc being examined by this check violates the tight html rules defined at\n+ * <a href=\"https://checkstyle.org/writingjavadocchecks.html#Tight-HTML_rules\">\n+ * Tight-HTML Rules</a>.\n+ * Type is {@code boolean}. Default value is {@code false}.\n+ * </li>\n+ * </ul>\n+ * <p>\n+ * To configure the check:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=&quot;RequireEmptyLineBeforeBlockTagsGroup&quot;/&gt;\n+ * </pre>\n+ * <p>\n+ * By default, the check will report a violation if there is no blank line before the tag block,\n+ * like in the example below.\n+ * </p>\n+ * <pre>\n+ * &#47;**\n+ *  * testMethod's javadoc.\n+ *  * &#64;return something (violation)\n+ *  *&#47;\n+ * public boolean testMethod() {\n+ *     return false;\n+ * }\n+ * </pre>\n+ * <p>\n+ *  Valid javadoc should have a blank line separating the parameters, return, throw, or\n+ *  other tags like in the example below.\n+ *  </p>\n+ *  <pre>\n+ *  &#47;**\n+ *  * testMethod's javadoc.\n+ *  *\n+ *  * &#64;param firstParam\n+ *  * &#64;return something\n+ *  *&#47;\n+ *  public boolean testMethod(int firstParam) {\n+ *      return false;\n+ *  }\n+ *  </pre>\n+ * <p>\n+ * Parent is {@code com.puppycrawl.tools.checkstyle.TreeWalker}\n+ * </p>\n+ * <p>\n+ * Violation Message Keys:\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * {@code javadoc.missed.html.close}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.parse.rule.error}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.tag.line.before}\n+ * </li>\n+ * <li>\n+ * {@code javadoc.wrong.singleton.html.tag}\n+ * </li>\n+ * </ul>\n+ *\n+ * @since 8.36\n+ */\n+@StatelessCheck\n+public class RequireEmptyLineBeforeBlockTagsGroupCheck extends AbstractJavadocCheck {\n+\n+    /**\n+     * The key in \"messages.properties\" for the message that describes a tag in javadoc\n+     * requiring an empty line before it.\n+     */\n+    public static final String MSG_JAVADOC_TAG_LINE_BEFORE = \"javadoc.tag.line.before\";\n+\n+    /**\n+     * Case when space separates the tag and the asterisk like in the below example.\n+     * <pre>\n+     *  /**\n+     *   * &#64;param noSpace there is no space here\n+     * </pre>\n+     */\n+    private static final List<Integer> ONLY_TAG_VARIATION_1 = Arrays.asList(\n+            JavadocTokenTypes.WS,\n+            JavadocTokenTypes.LEADING_ASTERISK,\n+            JavadocTokenTypes.NEWLINE);\n+\n+    /**\n+     * Case when no space separates the tag and the asterisk like in the below example.\n+     * <pre>\n+     *  /**\n+     *   *&#64;param noSpace there is no space here\n+     * </pre>\n+     */\n+    private static final List<Integer> ONLY_TAG_VARIATION_2 = Arrays.asList(\n+            JavadocTokenTypes.LEADING_ASTERISK,\n+            JavadocTokenTypes.NEWLINE);\n+\n+    @Override\n+    public int[] getDefaultJavadocTokens() {\n+        return new int[] {\n+            JavadocTokenTypes.JAVADOC_TAG,\n+        };\n+    }\n+\n+    @Override\n+    public int[] getRequiredJavadocTokens() {\n+        return getAcceptableJavadocTokens();\n+    }\n+\n+    /**\n+     * Logs when there is no empty line before the tag.\n+     *\n+     * @param tagNode the at tag node to check for an empty space before it.\n+     */\n+    @Override\n+    public void visitJavadocToken(DetailNode tagNode) {\n+        // No need to filter token because overridden getDefaultJavadocTokens ensures that we only\n+        // receive JAVADOC_TAG DetailNode.\n+        if (!isAnotherTagBefore(tagNode)\n+                && !isOnlyTagInWholeJavadoc(tagNode)\n+                && insufficientConsecutiveNewlines(tagNode)) {\n+            log(tagNode.getLineNumber(),\n+                    MSG_JAVADOC_TAG_LINE_BEFORE,\n+                    tagNode.getChildren()[0].getText());\n+        }\n+    }\n+\n+    private static boolean isAnotherTagBefore(DetailNode tagNode) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b1379921be33ba135fa5ac9299174e426854fc8"}, "originalPosition": 163}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTgzNDg4Ng==", "bodyText": "Add example where previous line is empty, but it also has no *.", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r471834886", "createdAt": "2020-08-17T23:48:46Z", "author": {"login": "rnveach"}, "path": "src/test/resources/com/puppycrawl/tools/checkstyle/checks/javadoc/requireemptylinebeforeblocktagsgroup/InputRequireEmptyLineBeforeBlockTagsGroupCorrect.java", "diffHunk": "@@ -0,0 +1,47 @@\n+package com.puppycrawl.tools.checkstyle.checks.javadoc.requireemptylinebeforeblocktagsgroup;\n+\n+/**\n+ * Config: default\n+ * Some Javadoc.\n+ *\n+ * @since 8.35 // ok\n+ */\n+class InputRequireEmptyLineBeforeBlockTagsGroupCorrect {\n+\n+    /**\n+     * This javadoc does not have a tag. There should be no violations.\n+     */\n+    public static final byte NO_TAG = 0;\n+\n+    /**\n+     * This javadoc does has one tag, with an empty line. There should be no violations.\n+     *\n+     * @since 8.0 // ok\n+     */\n+    public static final byte ONE_TAG = 0;\n+\n+    /**\n+     * This javadoc has multiple tags, with an empty line before the. There should be no\n+     * violations.\n+     *\n+     * @param input this is the first tag. // ok", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b1379921be33ba135fa5ac9299174e426854fc8"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTgzNTc0Mw==", "bodyText": "Show some form of example that has 2 blank lines.", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r471835743", "createdAt": "2020-08-17T23:51:39Z", "author": {"login": "rnveach"}, "path": "src/test/resources/com/puppycrawl/tools/checkstyle/checks/javadoc/requireemptylinebeforeblocktagsgroup/InputRequireEmptyLineBeforeBlockTagsGroupCorrect.java", "diffHunk": "@@ -0,0 +1,47 @@\n+package com.puppycrawl.tools.checkstyle.checks.javadoc.requireemptylinebeforeblocktagsgroup;\n+\n+/**\n+ * Config: default\n+ * Some Javadoc.\n+ *\n+ * @since 8.35 // ok\n+ */\n+class InputRequireEmptyLineBeforeBlockTagsGroupCorrect {\n+\n+    /**\n+     * This javadoc does not have a tag. There should be no violations.\n+     */\n+    public static final byte NO_TAG = 0;\n+\n+    /**\n+     * This javadoc does has one tag, with an empty line. There should be no violations.\n+     *\n+     * @since 8.0 // ok", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b1379921be33ba135fa5ac9299174e426854fc8"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTgzNjA4Ng==", "bodyText": "tag block => block tag.", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r471836086", "createdAt": "2020-08-17T23:52:58Z", "author": {"login": "rnveach"}, "path": "src/xdocs/config_javadoc.xml", "diffHunk": "@@ -2922,6 +2921,128 @@ class DatabaseConfiguration {}\n       </subsection>\n     </section>\n \n+    <section name=\"RequireEmptyLineBeforeBlockTagsGroup\">\n+      <p>Since Checkstyle 8.36</p>\n+      <subsection name=\"Description\" id=\"RequireEmptyLineBeforeBlockTagsGroup_Description\">\n+        <p>\n+          Checks that one blank line before the tag block if it is present in Javadoc.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b1379921be33ba135fa5ac9299174e426854fc8"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTgzNjEyMw==", "bodyText": "Same.", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r471836123", "createdAt": "2020-08-17T23:53:08Z", "author": {"login": "rnveach"}, "path": "src/xdocs/checks.xml", "diffHunk": "@@ -816,6 +816,13 @@\n               Checks that a Javadoc block can fit in a single line and doesn't contain\n               at-clauses.</td>\n           </tr>\n+          <tr>\n+            <td><a href=\"config_javadoc.html#RequireEmptyLineBeforeBlockTagsGroup\">\n+              RequireEmptyLineBeforeBlockTagsGroup</a></td>\n+            <td>\n+              Checks that one blank line before the tag block if it is present in Javadoc.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b1379921be33ba135fa5ac9299174e426854fc8"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTgzNjIwNg==", "bodyText": "Missing the 6.", "url": "https://github.com/checkstyle/checkstyle/pull/7932#discussion_r471836206", "createdAt": "2020-08-17T23:53:28Z", "author": {"login": "rnveach"}, "path": "src/xdocs/config_javadoc.xml", "diffHunk": "@@ -2922,6 +2921,128 @@ class DatabaseConfiguration {}\n       </subsection>\n     </section>\n \n+    <section name=\"RequireEmptyLineBeforeBlockTagsGroup\">\n+      <p>Since Checkstyle 8.36</p>\n+      <subsection name=\"Description\" id=\"RequireEmptyLineBeforeBlockTagsGroup_Description\">\n+        <p>\n+          Checks that one blank line before the tag block if it is present in Javadoc.\n+        </p>\n+      </subsection>\n+      <subsection name=\"Properties\" id=\"RequireEmptyLineBeforeBlockTagsGroup_Properties\">\n+        <div class=\"wrapper\">\n+          <table>\n+            <tr>\n+              <th>name</th>\n+              <th>description</th>\n+              <th>type</th>\n+              <th>default value</th>\n+              <th>since</th>\n+            </tr>\n+            <tr>\n+              <td>violateExecutionOnNonTightHtml</td>\n+              <td>\n+                Control when to print violations if the Javadoc being examined by this check\n+                violates the tight html rules defined at\n+                <a href=\"writingjavadocchecks.html#Tight-HTML_rules\">Tight-HTML Rules</a>.\n+              </td>\n+              <td><a href=\"property_types.html#boolean\">boolean</a></td>\n+              <td><code>false</code></td>\n+              <td>8.3</td>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b1379921be33ba135fa5ac9299174e426854fc8"}, "originalPosition": 40}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7caeada2f5e8011cffcf277d934980370148a2b", "author": {"user": {"login": "josephmate", "name": "Joseph Mate"}}, "url": "https://github.com/checkstyle/checkstyle/commit/a7caeada2f5e8011cffcf277d934980370148a2b", "committedDate": "2020-08-23T14:31:35Z", "message": "Issue #6192: New module RequireEmptyLineBeforeBlockTagGroup to ensure there is an empty line before javadoc tag like @param"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMDI1NTQ2", "url": "https://github.com/checkstyle/checkstyle/pull/7932#pullrequestreview-473025546", "createdAt": "2020-08-23T16:40:02Z", "commit": {"oid": "a7caeada2f5e8011cffcf277d934980370148a2b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 938, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}