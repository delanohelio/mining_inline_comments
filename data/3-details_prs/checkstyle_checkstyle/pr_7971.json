{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0Mjc3MDEx", "number": 7971, "title": "Issue #7589: Update doc for NewlineAtEndOfFile", "bodyText": "Fixes issue #7589\nScreenshot\n\n\nCLI Test Results\n\nCheck with default config\n\ngauravpunjabi@Gauravs-MacBook-Pro:~/Coding/Open Source/checkstyle$ cat conifg.xml\n<?xml version=\"1.0\"?>\n<!DOCTYPE module PUBLIC\n        \"-//Checkstyle//DTD Checkstyle Configuration 1.3//EN\"\n        \"https://checkstyle.org/dtds/configuration_1_3.dtd\">\n<module name=\"Checker\">\n    <module name=\"NewlineAtEndOfFile\"/>\n</module>gauravpunjabi@Gauravs-MacBook-Pro:~/Coding/Open Source/checkstyle$ java -jar target/checkstyle-8.31-SNAPSHOT-all.jar -c conifg.xml Test.java\nStarting audit...\n[ERROR] /Users/gauravpunjabi/Coding/Open Source/checkstyle/Test.java:1: File does not end with a newline. [NewlineAtEndOfFile]\nAudit done.\nCheckstyle ends with 1 errors.\n\n\nCheck with lineSeparator config\n\ngauravpunjabi@Gauravs-MacBook-Pro:~/Coding/Open Source/checkstyle$ cat conifg.xml\n<?xml version=\"1.0\"?>\n<!DOCTYPE module PUBLIC\n        \"-//Checkstyle//DTD Checkstyle Configuration 1.3//EN\"\n        \"https://checkstyle.org/dtds/configuration_1_3.dtd\">\n<module name=\"Checker\">\n    <module name=\"NewlineAtEndOfFile\">\n        <property name=\"lineSeparator\" value=\"lf\"/>\n    </module>\n</module>gauravpunjabi@Gauravs-MacBook-Pro:~/Coding/Open Source/checkstyle$ java -jar target/checkstyle-8.31-SNAPSHOT-all.jar -c conifg.xml Test.java\nStarting audit...\n[ERROR] /Users/gauravpunjabi/Coding/Open Source/checkstyle/Test.java:1: File does not end with a newline. [NewlineAtEndOfFile]\nAudit done.\nCheckstyle ends with 1 errors.\n\n\nCheck with fileExtension configuration\n\ngauravpunjabi@Gauravs-MacBook-Pro:~/Coding/Open Source/checkstyle$ cat conifg.xml\n<?xml version=\"1.0\"?>\n<!DOCTYPE module PUBLIC\n        \"-//Checkstyle//DTD Checkstyle Configuration 1.3//EN\"\n        \"https://checkstyle.org/dtds/configuration_1_3.dtd\">\n<module name=\"Checker\">\n    <module name=\"NewlineAtEndOfFile\">\n        <property name=\"fileExtensions\" value=\"java, xml, py\"/>\n    </module>\n</module>gauravpunjabi@Gauravs-MacBook-Pro:~/Coding/Open Source/checkstyle$ java -jar target/checkstyle-8.31-SNAPSHOT-all.jar -c conifg.xml Test.java\nStarting audit...\n[ERROR] /Users/gauravpunjabi/Coding/Open Source/checkstyle/Test.java:1: File does not end with a newline. [NewlineAtEndOfFile]\nAudit done.\nCheckstyle ends with 1 errors.", "createdAt": "2020-03-26T16:26:17Z", "url": "https://github.com/checkstyle/checkstyle/pull/7971", "merged": true, "mergeCommit": {"oid": "8d697e778eb6ac4ee4acf4f93bbadfafaf62f6e5"}, "closed": true, "closedAt": "2020-03-31T10:30:41Z", "author": {"login": "Gaurav-Punjabi"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRqLpqAFqTM4MjU5Mzk4OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcSuH9pgBqjMxNzg1MDY5NjA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNTkzOTg5", "url": "https://github.com/checkstyle/checkstyle/pull/7971#pullrequestreview-382593989", "createdAt": "2020-03-27T05:49:16Z", "commit": {"oid": "40d16f561c908da783dd00a030fae9153987f226"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QwNTo0OToxNlrOF8j9Sw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QwNTo1MTowN1rOF8j_GA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTA0ODAxMQ==", "bodyText": "Please add symbol \u2936 to the end of the each line (\\u2936) to make it clear.", "url": "https://github.com/checkstyle/checkstyle/pull/7971#discussion_r399048011", "createdAt": "2020-03-27T05:49:16Z", "author": {"login": "pbludov"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/NewlineAtEndOfFileCheck.java", "diffHunk": "@@ -88,6 +88,19 @@\n  * <pre>\n  * &lt;module name=&quot;NewlineAtEndOfFile&quot;/&gt;\n  * </pre>\n+ * <p>Example:</p>\n+ * <pre>\n+ * // File ending with a new line\n+ * public class Test {\n+ *\n+ * }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "40d16f561c908da783dd00a030fae9153987f226"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTA0ODQ3Mg==", "bodyText": "Please add another case\n * public class Test1 {\u2936\n *\u2936\n * }\u2936\n// violation, the file ends with a new line, but not in the requested format", "url": "https://github.com/checkstyle/checkstyle/pull/7971#discussion_r399048472", "createdAt": "2020-03-27T05:51:07Z", "author": {"login": "pbludov"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/NewlineAtEndOfFileCheck.java", "diffHunk": "@@ -88,6 +88,19 @@\n  * <pre>\n  * &lt;module name=&quot;NewlineAtEndOfFile&quot;/&gt;\n  * </pre>\n+ * <p>Example:</p>\n+ * <pre>\n+ * // File ending with a new line\n+ * public class Test {\n+ *\n+ * }\n+ * // ok\n+ *\n+ * // File ending without a new line\n+ * public class Test1 {\n+ *\n+ * } // violation, the file does not end with a new line", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "40d16f561c908da783dd00a030fae9153987f226"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNTk1MjI0", "url": "https://github.com/checkstyle/checkstyle/pull/7971#pullrequestreview-382595224", "createdAt": "2020-03-27T05:53:42Z", "commit": {"oid": "40d16f561c908da783dd00a030fae9153987f226"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "40d16f561c908da783dd00a030fae9153987f226", "author": {"user": {"login": "Gaurav-Punjabi", "name": "Gaurav Punjabi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/40d16f561c908da783dd00a030fae9153987f226", "committedDate": "2020-03-26T16:22:50Z", "message": "Issue #7589: Update doc for NewlineAtEndOfFile"}, "afterCommit": {"oid": "4c535ec23d40427d8313fd180ce7317d5ab553f5", "author": {"user": {"login": "Gaurav-Punjabi", "name": "Gaurav Punjabi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/4c535ec23d40427d8313fd180ce7317d5ab553f5", "committedDate": "2020-03-28T17:40:48Z", "message": "Issue #7589: Update doc for NewlineAtEndOfFile"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMzgxMDgz", "url": "https://github.com/checkstyle/checkstyle/pull/7971#pullrequestreview-383381083", "createdAt": "2020-03-29T07:20:06Z", "commit": {"oid": "4c535ec23d40427d8313fd180ce7317d5ab553f5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQwNzoyMDowNlrOF9PRKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQwNzoyMjo1MVrOF9PSKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTc1NzYxMQ==", "bodyText": "Same here. There should be no \u2936 symbol on the last line. It is assumed that the file ends immediately after the }' character.", "url": "https://github.com/checkstyle/checkstyle/pull/7971#discussion_r399757611", "createdAt": "2020-03-29T07:20:06Z", "author": {"login": "pbludov"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/NewlineAtEndOfFileCheck.java", "diffHunk": "@@ -88,6 +88,19 @@\n  * <pre>\n  * &lt;module name=&quot;NewlineAtEndOfFile&quot;/&gt;\n  * </pre>\n+ * <p>Example:</p>\n+ * <pre>\n+ * // File ending with a new line\n+ * public class Test {\u2936\n+ * \u2936\n+ * }\u2936\n+ * \u2936// ok\n+ *\n+ * // File ending without a new line\n+ * public class Test1 {\u2936\n+ * \u2936\n+ * }\u2936 // violation, the file does not end with a new line", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c535ec23d40427d8313fd180ce7317d5ab553f5"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTc1Nzg2NA==", "bodyText": "This file ends with two \u2936 symbols. It should be simple\n }\u2936// ok\n\nFor clarity, please add a note like\nThe // ok comment is \"virtual\", not actually present in the file.", "url": "https://github.com/checkstyle/checkstyle/pull/7971#discussion_r399757864", "createdAt": "2020-03-29T07:22:51Z", "author": {"login": "pbludov"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/NewlineAtEndOfFileCheck.java", "diffHunk": "@@ -88,6 +88,19 @@\n  * <pre>\n  * &lt;module name=&quot;NewlineAtEndOfFile&quot;/&gt;\n  * </pre>\n+ * <p>Example:</p>\n+ * <pre>\n+ * // File ending with a new line\n+ * public class Test {\u2936\n+ * \u2936\n+ * }\u2936\n+ * \u2936// ok", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c535ec23d40427d8313fd180ce7317d5ab553f5"}, "originalPosition": 10}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4c535ec23d40427d8313fd180ce7317d5ab553f5", "author": {"user": {"login": "Gaurav-Punjabi", "name": "Gaurav Punjabi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/4c535ec23d40427d8313fd180ce7317d5ab553f5", "committedDate": "2020-03-28T17:40:48Z", "message": "Issue #7589: Update doc for NewlineAtEndOfFile"}, "afterCommit": {"oid": "cdf74d3686962a085eea74f988e72321c4312d23", "author": {"user": {"login": "Gaurav-Punjabi", "name": "Gaurav Punjabi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/cdf74d3686962a085eea74f988e72321c4312d23", "committedDate": "2020-03-29T08:44:03Z", "message": "Issue #7589: Update doc for NewlineAtEndOfFile"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNDM2MDY3", "url": "https://github.com/checkstyle/checkstyle/pull/7971#pullrequestreview-383436067", "createdAt": "2020-03-29T17:39:14Z", "commit": {"oid": "cdf74d3686962a085eea74f988e72321c4312d23"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNjM1OTkw", "url": "https://github.com/checkstyle/checkstyle/pull/7971#pullrequestreview-383635990", "createdAt": "2020-03-30T08:33:18Z", "commit": {"oid": "cdf74d3686962a085eea74f988e72321c4312d23"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwODozMzoxOFrOF9e_gQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMFQwODozMzoxOFrOF9e_gQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDAxNTIzMw==", "bodyText": "The violation message for this case is Expected line ending for file is LF(\\\\n), but CRLF(\\\\r\\\\n) is detected, please change description to reflect that here line separator is different, no LF", "url": "https://github.com/checkstyle/checkstyle/pull/7971#discussion_r400015233", "createdAt": "2020-03-30T08:33:18Z", "author": {"login": "strkkk"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/NewlineAtEndOfFileCheck.java", "diffHunk": "@@ -96,6 +109,19 @@\n  *   &lt;property name=&quot;lineSeparator&quot; value=&quot;lf&quot;/&gt;\n  * &lt;/module&gt;\n  * </pre>\n+ * <p>Example:</p>\n+ * <pre>\n+ * // File ending with a new line\n+ * public class Test {\u2936\n+ * \u2936\n+ * }\u2936 // ok\n+ * Note: The comment // ok is a virtual, not actually present in the file\n+ *\n+ * // File ending without a new line\n+ * public class Test1 {\u2936\n+ * \u2936\n+ * }\u240d\u2936 // violation, the file must end with LF only", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cdf74d3686962a085eea74f988e72321c4312d23"}, "originalPosition": 35}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cdf74d3686962a085eea74f988e72321c4312d23", "author": {"user": {"login": "Gaurav-Punjabi", "name": "Gaurav Punjabi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/cdf74d3686962a085eea74f988e72321c4312d23", "committedDate": "2020-03-29T08:44:03Z", "message": "Issue #7589: Update doc for NewlineAtEndOfFile"}, "afterCommit": {"oid": "de43ca2c3546621d09593c91ae4204e18eeb235b", "author": {"user": {"login": "Gaurav-Punjabi", "name": "Gaurav Punjabi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/de43ca2c3546621d09593c91ae4204e18eeb235b", "committedDate": "2020-03-30T11:07:05Z", "message": "Issue #7589: Update doc for NewlineAtEndOfFile"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "de43ca2c3546621d09593c91ae4204e18eeb235b", "author": {"user": {"login": "Gaurav-Punjabi", "name": "Gaurav Punjabi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/de43ca2c3546621d09593c91ae4204e18eeb235b", "committedDate": "2020-03-30T11:07:05Z", "message": "Issue #7589: Update doc for NewlineAtEndOfFile"}, "afterCommit": {"oid": "da4d8dbe9f4bc7d4e580b461afa651e38deb0cb1", "author": {"user": {"login": "Gaurav-Punjabi", "name": "Gaurav Punjabi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/da4d8dbe9f4bc7d4e580b461afa651e38deb0cb1", "committedDate": "2020-03-30T11:09:09Z", "message": "Issue #7589: Update doc for NewlineAtEndOfFile"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzNzgwNjY5", "url": "https://github.com/checkstyle/checkstyle/pull/7971#pullrequestreview-383780669", "createdAt": "2020-03-30T11:57:01Z", "commit": {"oid": "da4d8dbe9f4bc7d4e580b461afa651e38deb0cb1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c84187dc26a7be35de6bb5666019c8317afbbd0", "author": {"user": {"login": "Gaurav-Punjabi", "name": "Gaurav Punjabi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/7c84187dc26a7be35de6bb5666019c8317afbbd0", "committedDate": "2020-03-30T13:00:32Z", "message": "Issue #7589: Update doc for NewlineAtEndOfFile"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "da4d8dbe9f4bc7d4e580b461afa651e38deb0cb1", "author": {"user": {"login": "Gaurav-Punjabi", "name": "Gaurav Punjabi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/da4d8dbe9f4bc7d4e580b461afa651e38deb0cb1", "committedDate": "2020-03-30T11:09:09Z", "message": "Issue #7589: Update doc for NewlineAtEndOfFile"}, "afterCommit": {"oid": "7c84187dc26a7be35de6bb5666019c8317afbbd0", "author": {"user": {"login": "Gaurav-Punjabi", "name": "Gaurav Punjabi"}}, "url": "https://github.com/checkstyle/checkstyle/commit/7c84187dc26a7be35de6bb5666019c8317afbbd0", "committedDate": "2020-03-30T13:00:32Z", "message": "Issue #7589: Update doc for NewlineAtEndOfFile"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 999, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}