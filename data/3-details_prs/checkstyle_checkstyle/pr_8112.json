{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA0NzUxMTI0", "number": 8112, "title": "Issue #7469: Use ArchUnit library to control source code", "bodyText": "Resolves #7469", "createdAt": "2020-04-16T21:28:08Z", "url": "https://github.com/checkstyle/checkstyle/pull/8112", "merged": true, "mergeCommit": {"oid": "e62c3418bfd806bc839431d328d485149ca8dbdf"}, "closed": true, "closedAt": "2020-05-31T20:56:21Z", "author": {"login": "gaurabdg"}, "timelineItems": {"totalCount": 29, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcYVhG5ABqjMyNDIyNzkyMTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcmyFQeAFqTQyMTUyNjk3MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7e3e36583f26399e651a6dcc1dd44555301edbe1", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/7e3e36583f26399e651a6dcc1dd44555301edbe1", "committedDate": "2020-04-16T21:26:16Z", "message": "Issue #7469: Use ArchUnit library to control source code"}, "afterCommit": {"oid": "49c2b70d36288d128309fc4e32b954b45977fa35", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/49c2b70d36288d128309fc4e32b954b45977fa35", "committedDate": "2020-04-16T23:43:52Z", "message": "Issue #7469: Use ArchUnit library to control source code"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "49c2b70d36288d128309fc4e32b954b45977fa35", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/49c2b70d36288d128309fc4e32b954b45977fa35", "committedDate": "2020-04-16T23:43:52Z", "message": "Issue #7469: Use ArchUnit library to control source code"}, "afterCommit": {"oid": "f57f9fb15adafb25e68e4a956fbaf9d72a184db4", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/f57f9fb15adafb25e68e4a956fbaf9d72a184db4", "committedDate": "2020-04-17T08:38:15Z", "message": "Issue #7469: Use ArchUnit library to control source code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwNTE2NTA4", "url": "https://github.com/checkstyle/checkstyle/pull/8112#pullrequestreview-400516508", "createdAt": "2020-04-26T15:26:14Z", "commit": {"oid": "f57f9fb15adafb25e68e4a956fbaf9d72a184db4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNlQxNToyNjoxNFrOGMGBoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNlQxNToyNzoyNVrOGMGCoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTMzNDgxNw==", "bodyText": "remove this folder from target of validation - https://github.com/checkstyle/checkstyle/blob/master/config/ant-phase-verify.xml#L34 .\nPlease try to configure archunit plugin to make such folder in target folder.", "url": "https://github.com/checkstyle/checkstyle/pull/8112#discussion_r415334817", "createdAt": "2020-04-26T15:26:14Z", "author": {"login": "romani"}, "path": "config/checkstyle_non_main_files_suppressions.xml", "diffHunk": "@@ -104,4 +104,8 @@\n     <suppress checks=\"RegexpSingleline\"\n               files=\"src[\\\\/]test[\\\\/]resources[\\\\/].*[\\\\/]checks[\\\\/]metrics[\\\\/]classfanoutcomplexity[\\\\/]InputClassFanOutComplexityPackageName.*\\.java\"/>\n \n+    <!-- to suppress archunit ViolationStore and Rules files -->\n+    <suppress checks=\"NewlineAtEndOfFile\" files=\"[\\\\/]archunit_store\"/>\n+    <suppress checks=\"RegexpSingleline\" files=\"[\\\\/]archunit_store\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f57f9fb15adafb25e68e4a956fbaf9d72a184db4"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTMzNDg4OA==", "bodyText": "it is not ok.", "url": "https://github.com/checkstyle/checkstyle/pull/8112#discussion_r415334888", "createdAt": "2020-04-26T15:26:27Z", "author": {"login": "romani"}, "path": "config/intellij-idea-inspections.properties", "diffHunk": "@@ -8,5 +8,6 @@ idea.exclude.patterns=.idea/**;\\\n               src/site/resources/js/google-analytics.js;\\\n               src/test/java/com/puppycrawl/tools/checkstyle/checks/javadoc/ParseTreeBuilder.java;\\\n               src/test/java/com/puppycrawl/tools/checkstyle/grammar/javadoc/ParseTreeBuilder.java;\\\n+              src/test/java/com/puppycrawl/tools/checkstyle/internal/ArchUnitTest.java;\\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f57f9fb15adafb25e68e4a956fbaf9d72a184db4"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTMzNTA3Mg==", "bodyText": "what it will be if we avoid this file creation ?", "url": "https://github.com/checkstyle/checkstyle/pull/8112#discussion_r415335072", "createdAt": "2020-04-26T15:27:25Z", "author": {"login": "romani"}, "path": "src/test/resources/archunit.properties", "diffHunk": "@@ -0,0 +1 @@\n+freeze.store.default.allowStoreCreation=true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f57f9fb15adafb25e68e4a956fbaf9d72a184db4"}, "originalPosition": 1}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f57f9fb15adafb25e68e4a956fbaf9d72a184db4", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/f57f9fb15adafb25e68e4a956fbaf9d72a184db4", "committedDate": "2020-04-17T08:38:15Z", "message": "Issue #7469: Use ArchUnit library to control source code"}, "afterCommit": {"oid": "e753fa2a29855e97246329aec2c343f6f4657ca1", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/e753fa2a29855e97246329aec2c343f6f4657ca1", "committedDate": "2020-04-27T23:26:59Z", "message": "Issue #7469: Use ArchUnit library to control source code"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e753fa2a29855e97246329aec2c343f6f4657ca1", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/e753fa2a29855e97246329aec2c343f6f4657ca1", "committedDate": "2020-04-27T23:26:59Z", "message": "Issue #7469: Use ArchUnit library to control source code"}, "afterCommit": {"oid": "a2a2cb79b447538bb9c694cfee92ae4d9bc91c79", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/a2a2cb79b447538bb9c694cfee92ae4d9bc91c79", "committedDate": "2020-04-28T10:32:21Z", "message": "Issue #7469: Use ArchUnit library to control source code"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a2a2cb79b447538bb9c694cfee92ae4d9bc91c79", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/a2a2cb79b447538bb9c694cfee92ae4d9bc91c79", "committedDate": "2020-04-28T10:32:21Z", "message": "Issue #7469: Use ArchUnit library to control source code"}, "afterCommit": {"oid": "4c5a8b86f4ae909034c3c6a0d46d521fb53ebdd0", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/4c5a8b86f4ae909034c3c6a0d46d521fb53ebdd0", "committedDate": "2020-04-29T00:09:42Z", "message": "Issue #7469: Use ArchUnit library to control source code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMzQ4NTY5", "url": "https://github.com/checkstyle/checkstyle/pull/8112#pullrequestreview-402348569", "createdAt": "2020-04-29T03:48:28Z", "commit": {"oid": "4c5a8b86f4ae909034c3c6a0d46d521fb53ebdd0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwMzo0ODoyOFrOGNuzNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQwMzo0ODoyOFrOGNuzNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzA1MTQ0NQ==", "bodyText": "Shouldn't this scope be test too?", "url": "https://github.com/checkstyle/checkstyle/pull/8112#discussion_r417051445", "createdAt": "2020-04-29T03:48:28Z", "author": {"login": "rnveach"}, "path": "pom.xml", "diffHunk": "@@ -223,6 +223,17 @@\n   </properties>\n \n   <dependencies>\n+    <dependency>\n+      <groupId>com.tngtech.archunit</groupId>\n+      <artifactId>archunit-junit5</artifactId>\n+      <version>0.13.1</version>\n+      <scope>test</scope>\n+    </dependency>\n+    <dependency>\n+      <groupId>io.github.java-diff-utils</groupId>\n+      <artifactId>java-diff-utils</artifactId>\n+      <version>4.5</version>\n+    </dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c5a8b86f4ae909034c3c6a0d46d521fb53ebdd0"}, "originalPosition": 14}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4c5a8b86f4ae909034c3c6a0d46d521fb53ebdd0", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/4c5a8b86f4ae909034c3c6a0d46d521fb53ebdd0", "committedDate": "2020-04-29T00:09:42Z", "message": "Issue #7469: Use ArchUnit library to control source code"}, "afterCommit": {"oid": "3191ccfb1a1cb7a6f55006981e42f1d5fd8a12e6", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/3191ccfb1a1cb7a6f55006981e42f1d5fd8a12e6", "committedDate": "2020-04-29T10:13:31Z", "message": "Issue #7469: Use ArchUnit library to control source code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyNjUxODgx", "url": "https://github.com/checkstyle/checkstyle/pull/8112#pullrequestreview-402651881", "createdAt": "2020-04-29T13:14:22Z", "commit": {"oid": "3191ccfb1a1cb7a6f55006981e42f1d5fd8a12e6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMzoxNDoyMlrOGN-MuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMzoxNDoyMlrOGN-MuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzMwMzczNg==", "bodyText": "please explain why https://www.archunit.org/userguide/html/000_Index.html#_ignoring_violations does not work for us.", "url": "https://github.com/checkstyle/checkstyle/pull/8112#discussion_r417303736", "createdAt": "2020-04-29T13:14:22Z", "author": {"login": "romani"}, "path": "src/test/java/com/puppycrawl/tools/checkstyle/internal/ArchUnitTest.java", "diffHunk": "@@ -0,0 +1,111 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.internal;\n+\n+import static com.tngtech.archunit.lang.syntax.ArchRuleDefinition.methods;\n+import static com.tngtech.archunit.library.dependencies.SlicesRuleDefinition.slices;\n+import static java.nio.file.Files.lines;\n+import static org.junit.Assert.assertEquals;\n+\n+import java.io.IOException;\n+import java.nio.file.Paths;\n+import java.util.Arrays;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.stream.Collectors;\n+\n+import org.junit.jupiter.api.Test;\n+\n+import com.github.difflib.DiffUtils;\n+import com.github.difflib.UnifiedDiffUtils;\n+import com.github.difflib.algorithm.DiffException;\n+import com.github.difflib.patch.Patch;\n+import com.tngtech.archunit.core.domain.JavaClasses;\n+import com.tngtech.archunit.core.importer.ClassFileImporter;\n+import com.tngtech.archunit.core.importer.ImportOption;\n+import com.tngtech.archunit.lang.ArchRule;\n+\n+public class ArchUnitTest {\n+\n+    /**\n+     * Test contains asserts in callstack, but idea does not see them.\n+     *\n+     * @noinspection JUnitTestMethodWithNoAssertions\n+     */\n+    @Test\n+    public void packageCyclicDependencyTest() throws Exception {\n+        final JavaClasses importedClasses = new ClassFileImporter()\n+                .withImportOption(ImportOption.Predefined.DO_NOT_INCLUDE_TESTS)\n+                .importPackages(\"com.puppycrawl.tools.checkstyle\");\n+\n+        final ArchRule cyclicPackageRule = slices()\n+                .matching(\"com.puppycrawl.tools.checkstyle.(**)..\")\n+            .should().beFreeOfCycles();\n+        try {\n+            cyclicPackageRule.check(importedClasses);\n+        }\n+        catch (AssertionError assertionError) {\n+            processDiff(assertionError.getMessage());\n+        }\n+    }\n+\n+    /**\n+     * Test contains asserts in callstack, but idea does not see them.\n+     *\n+     * @noinspection JUnitTestMethodWithNoAssertions\n+     */\n+    @Test\n+    public void nonProtectedCheckMethodsTest() {\n+        final JavaClasses importedClasses = new ClassFileImporter()\n+                .withImportOption(ImportOption.Predefined.DO_NOT_INCLUDE_TESTS)\n+                .importPackages(\"com.puppycrawl.tools.checkstyle.checks\");\n+\n+        final ArchRule checkMethodsShouldNotBeProtectedRule = methods().that()\n+            .areDeclaredInClassesThat().haveNameMatching(\"^(Abstract).*Check\")\n+            .should().notBeProtected();\n+\n+        checkMethodsShouldNotBeProtectedRule.check(importedClasses);\n+    }\n+\n+    private static void processDiff(String errorMsg) throws IOException, DiffException {\n+        final List<String> prevSuppresions = lines(Paths.get(\"archunit_suppressions.txt\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3191ccfb1a1cb7a6f55006981e42f1d5fd8a12e6"}, "originalPosition": 88}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3191ccfb1a1cb7a6f55006981e42f1d5fd8a12e6", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/3191ccfb1a1cb7a6f55006981e42f1d5fd8a12e6", "committedDate": "2020-04-29T10:13:31Z", "message": "Issue #7469: Use ArchUnit library to control source code"}, "afterCommit": {"oid": "4dc27d4b3a75a9ee7c620c9677963ef2187ec95c", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/4dc27d4b3a75a9ee7c620c9677963ef2187ec95c", "committedDate": "2020-04-29T14:17:49Z", "message": "Issue #7469: Use ArchUnit library to control source code"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4dc27d4b3a75a9ee7c620c9677963ef2187ec95c", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/4dc27d4b3a75a9ee7c620c9677963ef2187ec95c", "committedDate": "2020-04-29T14:17:49Z", "message": "Issue #7469: Use ArchUnit library to control source code"}, "afterCommit": {"oid": "79b7728992d2359fd7a822366c767b43b93ff840", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/79b7728992d2359fd7a822366c767b43b93ff840", "committedDate": "2020-04-29T18:07:12Z", "message": "Issue #7469: Use ArchUnit library to control source code"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "79b7728992d2359fd7a822366c767b43b93ff840", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/79b7728992d2359fd7a822366c767b43b93ff840", "committedDate": "2020-04-29T18:07:12Z", "message": "Issue #7469: Use ArchUnit library to control source code"}, "afterCommit": {"oid": "d9d4a7dfa53f28459016db4e3a0369bffa002050", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/d9d4a7dfa53f28459016db4e3a0369bffa002050", "committedDate": "2020-04-30T18:56:28Z", "message": "Issue #7469: Use ArchUnit library to control source code"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d9d4a7dfa53f28459016db4e3a0369bffa002050", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/d9d4a7dfa53f28459016db4e3a0369bffa002050", "committedDate": "2020-04-30T18:56:28Z", "message": "Issue #7469: Use ArchUnit library to control source code"}, "afterCommit": {"oid": "fb39e0fc7c3c2e4d769ba4bf70e4d7599ab590dc", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/fb39e0fc7c3c2e4d769ba4bf70e4d7599ab590dc", "committedDate": "2020-05-02T15:15:48Z", "message": "Issue #7469: Use ArchUnit library to control source code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0NjYzMzQw", "url": "https://github.com/checkstyle/checkstyle/pull/8112#pullrequestreview-404663340", "createdAt": "2020-05-03T22:26:29Z", "commit": {"oid": "fb39e0fc7c3c2e4d769ba4bf70e4d7599ab590dc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5NTM0MTg2", "url": "https://github.com/checkstyle/checkstyle/pull/8112#pullrequestreview-409534186", "createdAt": "2020-05-11T21:11:36Z", "commit": {"oid": "fb39e0fc7c3c2e4d769ba4bf70e4d7599ab590dc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQyMToxMTozN1rOGTtjAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMVQyMToxMTozN1rOGTtjAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzMyMjM2OA==", "bodyText": "#7469 (comment)\n\nChecks should not have protected methods or fields.\n\nBy the name matching \"^(Abstract), isn't this only checking that methods in classes named \"Abstract\" are not allowed to have protected methods? If that is the case, shouldn't that result in a failure as the whole point of abstract classes is to have protected methods.\nExample: \n  \n    \n      checkstyle/src/main/java/com/puppycrawl/tools/checkstyle/checks/coding/AbstractSuperCheck.java\n    \n    \n         Line 55\n      in\n      2e8c277\n    \n    \n    \n    \n\n        \n          \n           protected abstract String getMethodName(); \n        \n    \n  \n\n\nEven for protected methods in final classes, we will have some that are overridden from the super class. Do we need to distinguish between these?", "url": "https://github.com/checkstyle/checkstyle/pull/8112#discussion_r423322368", "createdAt": "2020-05-11T21:11:37Z", "author": {"login": "rnveach"}, "path": "src/test/java/com/puppycrawl/tools/checkstyle/internal/ArchUnitTest.java", "diffHunk": "@@ -0,0 +1,50 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.internal;\n+\n+import static com.tngtech.archunit.lang.syntax.ArchRuleDefinition.methods;\n+\n+import org.junit.jupiter.api.Test;\n+\n+import com.tngtech.archunit.core.domain.JavaClasses;\n+import com.tngtech.archunit.core.importer.ClassFileImporter;\n+import com.tngtech.archunit.core.importer.ImportOption;\n+import com.tngtech.archunit.lang.ArchRule;\n+\n+public class ArchUnitTest {\n+\n+    /**\n+     * Test contains asserts in callstack, but idea does not see them.\n+     *\n+     * @noinspection JUnitTestMethodWithNoAssertions\n+     */\n+    @Test\n+    public void nonProtectedCheckMethodsTest() {\n+        final JavaClasses importedClasses = new ClassFileImporter()\n+                .withImportOption(ImportOption.Predefined.DO_NOT_INCLUDE_TESTS)\n+                .importPackages(\"com.puppycrawl.tools.checkstyle.checks\");\n+\n+        final ArchRule checkMethodsShouldNotBeProtectedRule = methods().that()\n+            .areDeclaredInClassesThat().haveNameMatching(\"^(Abstract).*Check\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fb39e0fc7c3c2e4d769ba4bf70e4d7599ab590dc"}, "originalPosition": 45}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fb39e0fc7c3c2e4d769ba4bf70e4d7599ab590dc", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/fb39e0fc7c3c2e4d769ba4bf70e4d7599ab590dc", "committedDate": "2020-05-02T15:15:48Z", "message": "Issue #7469: Use ArchUnit library to control source code"}, "afterCommit": {"oid": "832909679689b858edf647eab99ce0381074d84b", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/832909679689b858edf647eab99ce0381074d84b", "committedDate": "2020-05-20T22:12:18Z", "message": "Issue #7469: Use ArchUnit library to control source code"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "832909679689b858edf647eab99ce0381074d84b", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/832909679689b858edf647eab99ce0381074d84b", "committedDate": "2020-05-20T22:12:18Z", "message": "Issue #7469: Use ArchUnit library to control source code"}, "afterCommit": {"oid": "2ae84cb908883015c9e4c5a29fa9b5313aaae9db", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/2ae84cb908883015c9e4c5a29fa9b5313aaae9db", "committedDate": "2020-05-21T14:23:25Z", "message": "Issue #7469: Use ArchUnit library to control source code"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2ae84cb908883015c9e4c5a29fa9b5313aaae9db", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/2ae84cb908883015c9e4c5a29fa9b5313aaae9db", "committedDate": "2020-05-21T14:23:25Z", "message": "Issue #7469: Use ArchUnit library to control source code"}, "afterCommit": {"oid": "41d1196af2e755314f8eef141aa92a84bb90b2ec", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/41d1196af2e755314f8eef141aa92a84bb90b2ec", "committedDate": "2020-05-21T15:01:40Z", "message": "Issue #7469: Use ArchUnit library to control source code"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "41d1196af2e755314f8eef141aa92a84bb90b2ec", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/41d1196af2e755314f8eef141aa92a84bb90b2ec", "committedDate": "2020-05-21T15:01:40Z", "message": "Issue #7469: Use ArchUnit library to control source code"}, "afterCommit": {"oid": "9b7eae89add35f5d8bc5d4bbb7e31db714692c02", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/9b7eae89add35f5d8bc5d4bbb7e31db714692c02", "committedDate": "2020-05-23T20:06:04Z", "message": "Issue #7469: Use ArchUnit library to control source code"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9b7eae89add35f5d8bc5d4bbb7e31db714692c02", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/9b7eae89add35f5d8bc5d4bbb7e31db714692c02", "committedDate": "2020-05-23T20:06:04Z", "message": "Issue #7469: Use ArchUnit library to control source code"}, "afterCommit": {"oid": "f754ac13a8569ba6c574b5f9030ab4e73c5200d5", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/f754ac13a8569ba6c574b5f9030ab4e73c5200d5", "committedDate": "2020-05-23T23:01:24Z", "message": "Issue #7469: Use ArchUnit library to control source code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3NzIxMDky", "url": "https://github.com/checkstyle/checkstyle/pull/8112#pullrequestreview-417721092", "createdAt": "2020-05-25T13:45:26Z", "commit": {"oid": "f754ac13a8569ba6c574b5f9030ab4e73c5200d5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQxMzo0NToyNlrOGaBpqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNVQxMzo0NToyNlrOGaBpqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTk0MzIxMQ==", "bodyText": "please add as first sentence:\nThe goal is to ensure all classes of a specific name pattern have non-protected methods, except for those which are annotated with Override. In the bytecode there is no trace anymore if this method was annotated with @Override or not (limitation of Archunit), eventually we need to make checkstyle's Check on this.", "url": "https://github.com/checkstyle/checkstyle/pull/8112#discussion_r429943211", "createdAt": "2020-05-25T13:45:26Z", "author": {"login": "romani"}, "path": "src/test/java/com/puppycrawl/tools/checkstyle/internal/ArchUnitTest.java", "diffHunk": "@@ -0,0 +1,64 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.internal;\n+\n+import static com.tngtech.archunit.lang.syntax.ArchRuleDefinition.methods;\n+\n+import org.junit.jupiter.api.Test;\n+\n+import com.tngtech.archunit.core.domain.JavaClasses;\n+import com.tngtech.archunit.core.domain.JavaModifier;\n+import com.tngtech.archunit.core.importer.ClassFileImporter;\n+import com.tngtech.archunit.core.importer.ImportOption;\n+import com.tngtech.archunit.lang.ArchRule;\n+\n+public class ArchUnitTest {\n+    /**\n+     * Test contains asserts in callstack, but idea does not see them.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f754ac13a8569ba6c574b5f9030ab4e73c5200d5"}, "originalPosition": 34}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f754ac13a8569ba6c574b5f9030ab4e73c5200d5", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/f754ac13a8569ba6c574b5f9030ab4e73c5200d5", "committedDate": "2020-05-23T23:01:24Z", "message": "Issue #7469: Use ArchUnit library to control source code"}, "afterCommit": {"oid": "69b83046cd5b395d18b784925ff0ac904583838d", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/69b83046cd5b395d18b784925ff0ac904583838d", "committedDate": "2020-05-25T23:34:41Z", "message": "Issue #7469: Use ArchUnit library to control source code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3OTQ1OTE4", "url": "https://github.com/checkstyle/checkstyle/pull/8112#pullrequestreview-417945918", "createdAt": "2020-05-26T03:16:52Z", "commit": {"oid": "69b83046cd5b395d18b784925ff0ac904583838d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "69b83046cd5b395d18b784925ff0ac904583838d", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/69b83046cd5b395d18b784925ff0ac904583838d", "committedDate": "2020-05-25T23:34:41Z", "message": "Issue #7469: Use ArchUnit library to control source code"}, "afterCommit": {"oid": "8be5055aed0285ce1dae1a82ea11e676767f9dcd", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/8be5055aed0285ce1dae1a82ea11e676767f9dcd", "committedDate": "2020-05-26T14:13:53Z", "message": "Issue #7469: Use ArchUnit library to control source code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwNzc0MjIy", "url": "https://github.com/checkstyle/checkstyle/pull/8112#pullrequestreview-420774222", "createdAt": "2020-05-29T08:59:11Z", "commit": {"oid": "8be5055aed0285ce1dae1a82ea11e676767f9dcd"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQwODo1OToxMVrOGcUlPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQwOTowMTowMFrOGcUpgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjM1MDUyNw==", "bodyText": "which are annotated with Override\nwas annotated with @Override\ndoc should be consistent.\nAlso, to avoid some reporting of some tools that @Override is not a valid tag, please use {@code blablabla} or {@literal @}", "url": "https://github.com/checkstyle/checkstyle/pull/8112#discussion_r432350527", "createdAt": "2020-05-29T08:59:11Z", "author": {"login": "strkkk"}, "path": "src/test/java/com/puppycrawl/tools/checkstyle/internal/ArchUnitTest.java", "diffHunk": "@@ -0,0 +1,68 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.internal;\n+\n+import static com.tngtech.archunit.lang.syntax.ArchRuleDefinition.methods;\n+\n+import org.junit.jupiter.api.Test;\n+\n+import com.tngtech.archunit.core.domain.JavaClasses;\n+import com.tngtech.archunit.core.domain.JavaModifier;\n+import com.tngtech.archunit.core.importer.ClassFileImporter;\n+import com.tngtech.archunit.core.importer.ImportOption;\n+import com.tngtech.archunit.lang.ArchRule;\n+\n+public class ArchUnitTest {\n+    /**\n+     * The goal is to ensure all classes of a specific name pattern have non-protected methods,\n+     * except for those which are annotated with Override. In the bytecode there is no trace anymore\n+     * if this method was annotated with @Override or not (limitation of Archunit), eventually we", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8be5055aed0285ce1dae1a82ea11e676767f9dcd"}, "originalPosition": 36}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjM1MTYxNg==", "bodyText": "contains asserts -> contains assertions\nbut idea does not see them - > it is not idea, it is teamcity inspection", "url": "https://github.com/checkstyle/checkstyle/pull/8112#discussion_r432351616", "createdAt": "2020-05-29T09:01:00Z", "author": {"login": "strkkk"}, "path": "src/test/java/com/puppycrawl/tools/checkstyle/internal/ArchUnitTest.java", "diffHunk": "@@ -0,0 +1,68 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.internal;\n+\n+import static com.tngtech.archunit.lang.syntax.ArchRuleDefinition.methods;\n+\n+import org.junit.jupiter.api.Test;\n+\n+import com.tngtech.archunit.core.domain.JavaClasses;\n+import com.tngtech.archunit.core.domain.JavaModifier;\n+import com.tngtech.archunit.core.importer.ClassFileImporter;\n+import com.tngtech.archunit.core.importer.ImportOption;\n+import com.tngtech.archunit.lang.ArchRule;\n+\n+public class ArchUnitTest {\n+    /**\n+     * The goal is to ensure all classes of a specific name pattern have non-protected methods,\n+     * except for those which are annotated with Override. In the bytecode there is no trace anymore\n+     * if this method was annotated with @Override or not (limitation of Archunit), eventually we\n+     * need to make checkstyle's Check on this.\n+     * Test contains asserts in callstack, but idea does not see them.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8be5055aed0285ce1dae1a82ea11e676767f9dcd"}, "originalPosition": 38}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8be5055aed0285ce1dae1a82ea11e676767f9dcd", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/8be5055aed0285ce1dae1a82ea11e676767f9dcd", "committedDate": "2020-05-26T14:13:53Z", "message": "Issue #7469: Use ArchUnit library to control source code"}, "afterCommit": {"oid": "b2b47b0b5b794e6e828bf7210ec5105f1cf2eb3c", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/b2b47b0b5b794e6e828bf7210ec5105f1cf2eb3c", "committedDate": "2020-05-30T16:19:02Z", "message": "Issue #7469: Use ArchUnit library to control source code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74ed295ddb49d7b7f97247812c41e44cbdf988b5", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/74ed295ddb49d7b7f97247812c41e44cbdf988b5", "committedDate": "2020-05-30T16:24:21Z", "message": "Issue #7469: Use ArchUnit library to control source code"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b2b47b0b5b794e6e828bf7210ec5105f1cf2eb3c", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/b2b47b0b5b794e6e828bf7210ec5105f1cf2eb3c", "committedDate": "2020-05-30T16:19:02Z", "message": "Issue #7469: Use ArchUnit library to control source code"}, "afterCommit": {"oid": "74ed295ddb49d7b7f97247812c41e44cbdf988b5", "author": {"user": {"login": "gaurabdg", "name": "Gaurab Dasgupta"}}, "url": "https://github.com/checkstyle/checkstyle/commit/74ed295ddb49d7b7f97247812c41e44cbdf988b5", "committedDate": "2020-05-30T16:24:21Z", "message": "Issue #7469: Use ArchUnit library to control source code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNTI2OTcx", "url": "https://github.com/checkstyle/checkstyle/pull/8112#pullrequestreview-421526971", "createdAt": "2020-05-31T20:56:12Z", "commit": {"oid": "74ed295ddb49d7b7f97247812c41e44cbdf988b5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 788, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}