{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM0NDgxOTc4", "number": 8317, "title": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath - Generate Xpath Query", "bodyText": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath.\nThis PR depends on PR #8247\nThe first commit is not be reviewed. It is of PR #8247.\nThis PR adds the functionality of generating Xpath Query when a node is selected from tree.\nPreview.", "createdAt": "2020-06-15T11:40:55Z", "url": "https://github.com/checkstyle/checkstyle/pull/8317", "merged": true, "mergeCommit": {"oid": "9144b5f2edb9ee98ed1874f2446b669b14ec0305"}, "closed": true, "closedAt": "2020-07-09T14:35:09Z", "author": {"login": "developerhb"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcruNZ5ABqjM0NDcyNDIzOTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABczLE92AFqTQ0NTQxNTIxNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "17b91831be7ebc2913eaa599dbb206f3b627801e", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/17b91831be7ebc2913eaa599dbb206f3b627801e", "committedDate": "2020-06-15T11:27:08Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}, "afterCommit": {"oid": "9d6a223832c3ec22b0dcaeeb29e5b508930a5ac6", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/9d6a223832c3ec22b0dcaeeb29e5b508930a5ac6", "committedDate": "2020-06-16T05:13:20Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0NDQ5MjM3", "url": "https://github.com/checkstyle/checkstyle/pull/8317#pullrequestreview-434449237", "createdAt": "2020-06-20T19:35:26Z", "commit": {"oid": "9d6a223832c3ec22b0dcaeeb29e5b508930a5ac6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMFQxOTozNToyNlrOGmoAoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMFQxOTozNjoxOFrOGmoA2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE1NDU5Mw==", "bodyText": "fix typo, Travis complain about this.", "url": "https://github.com/checkstyle/checkstyle/pull/8317#discussion_r443154593", "createdAt": "2020-06-20T19:35:26Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/gui/TreeTable.java", "diffHunk": "@@ -143,6 +155,32 @@ private void makeCodeSelection() {\n         new CodeSelector(tree.getLastSelectedPathComponent(), editor, linePositionMap).select();\n     }\n \n+    /**\n+     * Generate Xpath.\n+     */\n+    private void generateXpath() {\n+        if (tree.getLastSelectedPathComponent() instanceof DetailAST) {\n+            try {\n+                final FileText fileText = new FileText(file, StandardCharsets.UTF_8.name());\n+                final DetailAST rootAST = (DetailAST) tree.getModel().getRoot();\n+                final DetailAST ast = (DetailAST) tree.getLastSelectedPathComponent();\n+                final int defaultTabWidth = 4;\n+\n+                final XpathQueryGenerator queryGenerator = new XpathQueryGenerator(rootAST,\n+                    ast.getLineNo(), ast.getColumnNo(),\n+                    fileText, defaultTabWidth);\n+\n+                xpathEditor.setText(queryGenerator.generateXpathQuery(ast));\n+            }\n+            catch (IOException ex) {\n+                xpathEditor.setText(ex.getMessage());\n+            }\n+        }\n+        else {\n+            xpathEditor.setText(\"Xpath is not supported yet forr javadoc nodes\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d6a223832c3ec22b0dcaeeb29e5b508930a5ac6"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE1NDY0OQ==", "bodyText": "please catch all exceptions here, we should print problem if any exception happen.", "url": "https://github.com/checkstyle/checkstyle/pull/8317#discussion_r443154649", "createdAt": "2020-06-20T19:36:18Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/gui/TreeTable.java", "diffHunk": "@@ -143,6 +155,32 @@ private void makeCodeSelection() {\n         new CodeSelector(tree.getLastSelectedPathComponent(), editor, linePositionMap).select();\n     }\n \n+    /**\n+     * Generate Xpath.\n+     */\n+    private void generateXpath() {\n+        if (tree.getLastSelectedPathComponent() instanceof DetailAST) {\n+            try {\n+                final FileText fileText = new FileText(file, StandardCharsets.UTF_8.name());\n+                final DetailAST rootAST = (DetailAST) tree.getModel().getRoot();\n+                final DetailAST ast = (DetailAST) tree.getLastSelectedPathComponent();\n+                final int defaultTabWidth = 4;\n+\n+                final XpathQueryGenerator queryGenerator = new XpathQueryGenerator(rootAST,\n+                    ast.getLineNo(), ast.getColumnNo(),\n+                    fileText, defaultTabWidth);\n+\n+                xpathEditor.setText(queryGenerator.generateXpathQuery(ast));\n+            }\n+            catch (IOException ex) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d6a223832c3ec22b0dcaeeb29e5b508930a5ac6"}, "originalPosition": 63}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9d6a223832c3ec22b0dcaeeb29e5b508930a5ac6", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/9d6a223832c3ec22b0dcaeeb29e5b508930a5ac6", "committedDate": "2020-06-16T05:13:20Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}, "afterCommit": {"oid": "f45aee7c172361e97426acf52fe86221d2e4e1db", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/f45aee7c172361e97426acf52fe86221d2e4e1db", "committedDate": "2020-06-20T23:08:14Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f45aee7c172361e97426acf52fe86221d2e4e1db", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/f45aee7c172361e97426acf52fe86221d2e4e1db", "committedDate": "2020-06-20T23:08:14Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}, "afterCommit": {"oid": "1eae4e8780dde70305a1e71563074304e7f6ede6", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/1eae4e8780dde70305a1e71563074304e7f6ede6", "committedDate": "2020-06-24T02:57:32Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1eae4e8780dde70305a1e71563074304e7f6ede6", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/1eae4e8780dde70305a1e71563074304e7f6ede6", "committedDate": "2020-06-24T02:57:32Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}, "afterCommit": {"oid": "48a74f00806165f76b77b5ae5d72c7d78185785b", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/48a74f00806165f76b77b5ae5d72c7d78185785b", "committedDate": "2020-06-26T13:03:24Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "48a74f00806165f76b77b5ae5d72c7d78185785b", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/48a74f00806165f76b77b5ae5d72c7d78185785b", "committedDate": "2020-06-26T13:03:24Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}, "afterCommit": {"oid": "62598e5ec362ec0a9b20d31a7e322c9fa277aa1b", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/62598e5ec362ec0a9b20d31a7e322c9fa277aa1b", "committedDate": "2020-06-27T17:23:01Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "62598e5ec362ec0a9b20d31a7e322c9fa277aa1b", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/62598e5ec362ec0a9b20d31a7e322c9fa277aa1b", "committedDate": "2020-06-27T17:23:01Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}, "afterCommit": {"oid": "8a9463e63b3913621f5d89510eb00559387d3ee2", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/8a9463e63b3913621f5d89510eb00559387d3ee2", "committedDate": "2020-06-28T14:22:43Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4ODI2ODU5", "url": "https://github.com/checkstyle/checkstyle/pull/8317#pullrequestreview-438826859", "createdAt": "2020-06-29T00:07:55Z", "commit": {"oid": "8a9463e63b3913621f5d89510eb00559387d3ee2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQwMDowNzo1NVrOGqBZVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQwMDowNzo1NVrOGqBZVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjcxNjI0NQ==", "bodyText": "it is better to make new ctor\nfinal XpathQueryGenerator queryGenerator = new XpathQueryGenerator(rootAST);\nas we need only root AST to do queryGenerator.generateXpathQuery(ast)", "url": "https://github.com/checkstyle/checkstyle/pull/8317#discussion_r446716245", "createdAt": "2020-06-29T00:07:55Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/gui/TreeTable.java", "diffHunk": "@@ -143,6 +154,33 @@ private void makeCodeSelection() {\n         new CodeSelector(tree.getLastSelectedPathComponent(), editor, linePositionMap).select();\n     }\n \n+    /**\n+     * Generate Xpath.\n+     */\n+    private void generateXpath() {\n+        if (tree.getLastSelectedPathComponent() instanceof DetailAST) {\n+            try {\n+                final FileText fileText = new FileText(file, StandardCharsets.UTF_8.name());\n+                final DetailAST rootAST = (DetailAST) tree.getModel().getRoot();\n+                final DetailAST ast = (DetailAST) tree.getLastSelectedPathComponent();\n+                final int defaultTabWidth = 4;\n+\n+                final XpathQueryGenerator queryGenerator = new XpathQueryGenerator(rootAST,\n+                    ast.getLineNo(), ast.getColumnNo(),\n+                    fileText, defaultTabWidth);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a9463e63b3913621f5d89510eb00559387d3ee2"}, "originalPosition": 58}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8a9463e63b3913621f5d89510eb00559387d3ee2", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/8a9463e63b3913621f5d89510eb00559387d3ee2", "committedDate": "2020-06-28T14:22:43Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}, "afterCommit": {"oid": "b6aacbf326bd738d808447f37744b588b1702d84", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/b6aacbf326bd738d808447f37744b588b1702d84", "committedDate": "2020-07-01T03:06:47Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b6aacbf326bd738d808447f37744b588b1702d84", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/b6aacbf326bd738d808447f37744b588b1702d84", "committedDate": "2020-07-01T03:06:47Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}, "afterCommit": {"oid": "28ebc6eaa035fe4fbbbe4c10526c5871b4de571f", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/28ebc6eaa035fe4fbbbe4c10526c5871b4de571f", "committedDate": "2020-07-01T07:45:08Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "28ebc6eaa035fe4fbbbe4c10526c5871b4de571f", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/28ebc6eaa035fe4fbbbe4c10526c5871b4de571f", "committedDate": "2020-07-01T07:45:08Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}, "afterCommit": {"oid": "abcf937751cb775f20c08b801977070e43126269", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/abcf937751cb775f20c08b801977070e43126269", "committedDate": "2020-07-02T04:37:18Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "abcf937751cb775f20c08b801977070e43126269", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/abcf937751cb775f20c08b801977070e43126269", "committedDate": "2020-07-02T04:37:18Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}, "afterCommit": {"oid": "94d49161e1820e828bc0ea8d7ff92dc0cba7f958", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/94d49161e1820e828bc0ea8d7ff92dc0cba7f958", "committedDate": "2020-07-05T06:23:32Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "94d49161e1820e828bc0ea8d7ff92dc0cba7f958", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/94d49161e1820e828bc0ea8d7ff92dc0cba7f958", "committedDate": "2020-07-05T06:23:32Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}, "afterCommit": {"oid": "e321d3d867a258771413d7129bcabad712bf68e0", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/e321d3d867a258771413d7129bcabad712bf68e0", "committedDate": "2020-07-07T03:04:50Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e321d3d867a258771413d7129bcabad712bf68e0", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/e321d3d867a258771413d7129bcabad712bf68e0", "committedDate": "2020-07-07T03:04:50Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}, "afterCommit": {"oid": "98e2adb435b4c49cee89e3b2d7cc0da3204c2d83", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/98e2adb435b4c49cee89e3b2d7cc0da3204c2d83", "committedDate": "2020-07-08T17:28:46Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a868b79d7cac5f900c3559dc549b52a82d50d66", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/8a868b79d7cac5f900c3559dc549b52a82d50d66", "committedDate": "2020-07-08T18:06:17Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "98e2adb435b4c49cee89e3b2d7cc0da3204c2d83", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/98e2adb435b4c49cee89e3b2d7cc0da3204c2d83", "committedDate": "2020-07-08T17:28:46Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}, "afterCommit": {"oid": "8a868b79d7cac5f900c3559dc549b52a82d50d66", "author": {"user": {"login": "developerhb", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/8a868b79d7cac5f900c3559dc549b52a82d50d66", "committedDate": "2020-07-08T18:06:17Z", "message": "Issue #4944: Extend Checkstyle GUI tool to work with Xpath"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MzA1NjM0", "url": "https://github.com/checkstyle/checkstyle/pull/8317#pullrequestreview-445305634", "createdAt": "2020-07-09T05:49:10Z", "commit": {"oid": "8a868b79d7cac5f900c3559dc549b52a82d50d66"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1NDE1MjE0", "url": "https://github.com/checkstyle/checkstyle/pull/8317#pullrequestreview-445415214", "createdAt": "2020-07-09T08:50:36Z", "commit": {"oid": "8a868b79d7cac5f900c3559dc549b52a82d50d66"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 401, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}