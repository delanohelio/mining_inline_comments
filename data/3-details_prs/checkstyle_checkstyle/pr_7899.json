{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkwODAwOTYw", "number": 7899, "title": "Issue #5969: Respect and expect tab width in column number check for lambda indentations", "bodyText": "\u2026lambda indentations\nFixes #5969 and closes #7675\n\nI just hope to live a happy life of Minecraft modding. Thank you for this great checkstyle! https://github.com/FabricMC/fabric/pull/518/files#diff-23a850fe9b00699c6f6cd295e8ef341d", "createdAt": "2020-03-19T05:11:48Z", "url": "https://github.com/checkstyle/checkstyle/pull/7899", "merged": true, "mergeCommit": {"oid": "dabbebac4b52591a8689b6f2e1b81d98e58d0a8e"}, "closed": true, "closedAt": "2020-03-27T06:40:13Z", "author": {"login": "liach"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcPFtvdABqjMxNDQyMDA1NzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRq3w5gFqTM4MjYwOTUyNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8a56d7d9a66badc62cfc1a09e84e37ebf51445a6", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/8a56d7d9a66badc62cfc1a09e84e37ebf51445a6", "committedDate": "2020-03-19T06:13:27Z", "message": "Line too long"}, "afterCommit": {"oid": "759f0db7f48a56bdef86eaa9416fbc9411cc8701", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/759f0db7f48a56bdef86eaa9416fbc9411cc8701", "committedDate": "2020-03-19T06:14:08Z", "message": "Issue #5969: Respect and expect tab width in column number check for lambda indentations"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4NjA5MDky", "url": "https://github.com/checkstyle/checkstyle/pull/7899#pullrequestreview-378609092", "createdAt": "2020-03-20T15:57:53Z", "commit": {"oid": "759f0db7f48a56bdef86eaa9416fbc9411cc8701"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxNTo1Nzo1M1rOF5Zo4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQxNTo1OTo0NFrOF5Ztqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTczMzIxOQ==", "bodyText": "Please ensure we have cases where there will be a violation and the violation shows the correct information.", "url": "https://github.com/checkstyle/checkstyle/pull/7899#discussion_r395733219", "createdAt": "2020-03-20T15:57:53Z", "author": {"login": "rnveach"}, "path": "src/test/java/com/puppycrawl/tools/checkstyle/checks/indentation/IndentationCheckTest.java", "diffHunk": "@@ -1759,6 +1759,16 @@ public void testLambda2() throws Exception {\n         verifyWarns(checkConfig, getPath(\"InputIndentationLambda2.java\"), expected);\n     }\n \n+    @Test\n+    public void testLambda3() throws Exception {\n+        final DefaultConfiguration checkConfig = createModuleConfig(IndentationCheck.class);\n+        checkConfig.addAttribute(\"tabWidth\", \"4\");\n+        checkConfig.addAttribute(\"basicOffset\", \"4\");\n+        checkConfig.addAttribute(\"lineWrappingIndentation\", \"8\");\n+        final String[] expected = CommonUtil.EMPTY_STRING_ARRAY;\n+        verifyWarns(checkConfig, getPath(\"InputIndentationLambda3.java\"), expected);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "759f0db7f48a56bdef86eaa9416fbc9411cc8701"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTczNDQ0Mw==", "bodyText": "Change looks good but from #7675 (comment) :\n\nLambda does not start the line and should not have been the one reporting the problem if the indentation was wrong.\n\nWas my initial analysis wrong and we are already ensuring the AST we are checking does start the line? One way to check this would be to turn on forceStrictCondition.", "url": "https://github.com/checkstyle/checkstyle/pull/7899#discussion_r395734443", "createdAt": "2020-03-20T15:59:44Z", "author": {"login": "rnveach"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/indentation/LambdaHandler.java", "diffHunk": "@@ -66,7 +66,7 @@ protected IndentLevel getIndentImpl() {\n         // If the start of the lambda is the first element on the line;\n         // assume line wrapping with respect to its parent.\n         final DetailAST firstChild = getMainAst().getFirstChild();\n-        if (getLineStart(firstChild) == firstChild.getColumnNo()) {\n+        if (getLineStart(firstChild) == expandedTabsColumnNo(firstChild)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "759f0db7f48a56bdef86eaa9416fbc9411cc8701"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "759f0db7f48a56bdef86eaa9416fbc9411cc8701", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/759f0db7f48a56bdef86eaa9416fbc9411cc8701", "committedDate": "2020-03-19T06:14:08Z", "message": "Issue #5969: Respect and expect tab width in column number check for lambda indentations"}, "afterCommit": {"oid": "30fc8a2d01521583958642fa937e7681e7fe9a98", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/30fc8a2d01521583958642fa937e7681e7fe9a98", "committedDate": "2020-03-20T16:46:26Z", "message": "Issue #5969: Respect and expect tab width in column number check for lambda indentations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "30fc8a2d01521583958642fa937e7681e7fe9a98", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/30fc8a2d01521583958642fa937e7681e7fe9a98", "committedDate": "2020-03-20T16:46:26Z", "message": "Issue #5969: Respect and expect tab width in column number check for lambda indentations"}, "afterCommit": {"oid": "c5141fb76eb546f2fe6ff9356685292029d310c9", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/c5141fb76eb546f2fe6ff9356685292029d310c9", "committedDate": "2020-03-20T16:56:22Z", "message": "Issue #5969: Respect and expect tab width in column number check for lambda indentations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c5141fb76eb546f2fe6ff9356685292029d310c9", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/c5141fb76eb546f2fe6ff9356685292029d310c9", "committedDate": "2020-03-20T16:56:22Z", "message": "Issue #5969: Respect and expect tab width in column number check for lambda indentations"}, "afterCommit": {"oid": "e0e6419d86d14ef5cad8a4d02d4bd203eb4f0610", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/e0e6419d86d14ef5cad8a4d02d4bd203eb4f0610", "committedDate": "2020-03-20T17:04:19Z", "message": "Issue #5969: Respect and expect tab width in column number check for lambda indentations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e0e6419d86d14ef5cad8a4d02d4bd203eb4f0610", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/e0e6419d86d14ef5cad8a4d02d4bd203eb4f0610", "committedDate": "2020-03-20T17:04:19Z", "message": "Issue #5969: Respect and expect tab width in column number check for lambda indentations"}, "afterCommit": {"oid": "ba8b4bd8dc3b24692b88e92f6925127195cda472", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/ba8b4bd8dc3b24692b88e92f6925127195cda472", "committedDate": "2020-03-25T03:15:38Z", "message": "Issue #5969: Respect and expect tab width in column number check for lambda indentations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa8e0eedad4d36e5ebd458492a42d431628c53c8", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/fa8e0eedad4d36e5ebd458492a42d431628c53c8", "committedDate": "2020-03-25T15:24:28Z", "message": "Issue #5969: Respect and expect tab width in column number check for lambda indentations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ba8b4bd8dc3b24692b88e92f6925127195cda472", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/ba8b4bd8dc3b24692b88e92f6925127195cda472", "committedDate": "2020-03-25T03:15:38Z", "message": "Issue #5969: Respect and expect tab width in column number check for lambda indentations"}, "afterCommit": {"oid": "fa8e0eedad4d36e5ebd458492a42d431628c53c8", "author": {"user": {"login": "liach", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/fa8e0eedad4d36e5ebd458492a42d431628c53c8", "committedDate": "2020-03-25T15:24:28Z", "message": "Issue #5969: Respect and expect tab width in column number check for lambda indentations"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxNjQyODM1", "url": "https://github.com/checkstyle/checkstyle/pull/7899#pullrequestreview-381642835", "createdAt": "2020-03-26T01:16:56Z", "commit": {"oid": "fa8e0eedad4d36e5ebd458492a42d431628c53c8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyMjE3MTYw", "url": "https://github.com/checkstyle/checkstyle/pull/7899#pullrequestreview-382217160", "createdAt": "2020-03-26T17:01:34Z", "commit": {"oid": "fa8e0eedad4d36e5ebd458492a42d431628c53c8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNjA5NTI0", "url": "https://github.com/checkstyle/checkstyle/pull/7899#pullrequestreview-382609524", "createdAt": "2020-03-27T06:39:44Z", "commit": {"oid": "fa8e0eedad4d36e5ebd458492a42d431628c53c8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 898, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}