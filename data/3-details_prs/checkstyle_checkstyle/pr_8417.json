{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ1NzY1OTA3", "number": 8417, "title": "Issue #8407: new Check: PatternVariableName", "bodyText": "Issue #8407: new Check: PatternVariableName\nWe are introducing this check to ensure that pattern variable names conform to a predefined pattern.  Since I could not find mention of pattern variables in the sun or google style guides, I have omitted this check from those configurations.  I have added the check to checkstyle_checks.xml, using the default pattern ^[a-z][a-zA-Z0-9]*$.\nCheck regression report : https://checkstyle-reports-java14.s3.amazonaws.com/reports/diff_check_patternvariablename/index.html\nContribution PR: checkstyle/contribution#492", "createdAt": "2020-07-07T23:33:14Z", "url": "https://github.com/checkstyle/checkstyle/pull/8417", "merged": true, "mergeCommit": {"oid": "ade141b8c1778c79b8be5806224ca3c27816997e"}, "closed": true, "closedAt": "2020-07-26T19:43:23Z", "author": {"login": "nmancus1"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcyux2tgBqjM1MjI3NTU4Mjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc4ymYYgFqTQ1NTM5MDIwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e14e8707354ade8553553aa95ab40cf2541c5cfb", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/e14e8707354ade8553553aa95ab40cf2541c5cfb", "committedDate": "2020-07-07T23:24:29Z", "message": "Issue #8407: new Check: PatternVariableName"}, "afterCommit": {"oid": "9abd5c4a54cf5d1f46845b0506317c9d23197aba", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/9abd5c4a54cf5d1f46845b0506317c9d23197aba", "committedDate": "2020-07-07T23:51:26Z", "message": "Issue #8407: new Check: PatternVariableName"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9abd5c4a54cf5d1f46845b0506317c9d23197aba", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/9abd5c4a54cf5d1f46845b0506317c9d23197aba", "committedDate": "2020-07-07T23:51:26Z", "message": "Issue #8407: new Check: PatternVariableName"}, "afterCommit": {"oid": "8e263e714ec0cfd3b6a382b0d66b82cf5addec9a", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/8e263e714ec0cfd3b6a382b0d66b82cf5addec9a", "committedDate": "2020-07-08T01:23:50Z", "message": "Issue #8407: new Check: PatternVariableName"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8e263e714ec0cfd3b6a382b0d66b82cf5addec9a", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/8e263e714ec0cfd3b6a382b0d66b82cf5addec9a", "committedDate": "2020-07-08T01:23:50Z", "message": "Issue #8407: new Check: PatternVariableName"}, "afterCommit": {"oid": "95a6d60f3d83041d9fe84e89d6e8021af825693a", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/95a6d60f3d83041d9fe84e89d6e8021af825693a", "committedDate": "2020-07-08T01:25:25Z", "message": "Issue #8407: new Check: PatternVariableName"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "95a6d60f3d83041d9fe84e89d6e8021af825693a", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/95a6d60f3d83041d9fe84e89d6e8021af825693a", "committedDate": "2020-07-08T01:25:25Z", "message": "Issue #8407: new Check: PatternVariableName"}, "afterCommit": {"oid": "5117caf158dc65ce0e5e0aca61af581d046db275", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/5117caf158dc65ce0e5e0aca61af581d046db275", "committedDate": "2020-07-08T01:34:09Z", "message": "Issue #8407: new Check: PatternVariableName"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2ODMyODc4", "url": "https://github.com/checkstyle/checkstyle/pull/8417#pullrequestreview-446832878", "createdAt": "2020-07-11T22:29:37Z", "commit": {"oid": "5117caf158dc65ce0e5e0aca61af581d046db275"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQyMjoyOTozOFrOGwPqYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQyMjo0MzowOFrOGwPuQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI0MTQ0Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                /** Creates a new {@code PatternVariableName} instance. */\n          \n          \n            \n                /** Creates a new {@code PatternVariableNameCheck} instance. */", "url": "https://github.com/checkstyle/checkstyle/pull/8417#discussion_r453241443", "createdAt": "2020-07-11T22:29:38Z", "author": {"login": "esilkensen"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/naming/PatternVariableNameCheck.java", "diffHunk": "@@ -0,0 +1,129 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks.naming;\n+\n+import com.puppycrawl.tools.checkstyle.api.DetailAST;\n+import com.puppycrawl.tools.checkstyle.api.TokenTypes;\n+\n+/**\n+ * <p>\n+ * Checks that pattern variable names conform to a specified pattern.\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * Property {@code format} - Specifies valid identifiers. Default value is\n+ * {@code \"^[a-z][a-zA-Z0-9]*$\"}.\n+ * </li>\n+ * </ul>\n+ * <p>\n+ * An example of how to configure the check is:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=\"PatternVariableName\"/&gt;\n+ * </pre>\n+ * <p>Code Example:</p>\n+ * <pre>\n+ * class MyClass {\n+ *     {\n+ *         Object o1 = null;\n+ *         if (o1 instanceof String STRING) { // violation, name 'STRING' must\n+ *                                            // match pattern '^[a-z][a-zA-Z0-9]*$'\n+ *         }\n+ *         if (o1 instanceof Integer num) { // OK\n+ *         }\n+ *     }\n+ * }\n+ * </pre>\n+ * <p>\n+ * An example of how to configure the check for names that begin with a lower\n+ * case letter, followed by letters, digits, and underscores is:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=\"PatternVariableName\"&gt;\n+ *   &lt;property name=\"format\" value=\"^[a-z](_?[a-zA-Z0-9]+)*$\"/&gt;\n+ * &lt;/module&gt;\n+ * </pre>\n+ * <p>Code Example:</p>\n+ * <pre>\n+ * class MyClass {\n+ *     {\n+ *         Object o1 = null;\n+ *         if (o1 instanceof String STR) { // violation, name 'STR' must\n+ *                                         // match pattern '^[a-z](_?[a-zA-Z0-9]+)*$'\n+ *         }\n+ *         if (o1 instanceof Integer num) { // OK\n+ *         }\n+ *         if (o1 instanceof Integer num_1) { // OK\n+ *         }\n+ *     }\n+ * }\n+ * </pre>\n+ * <p>\n+ * An example of how to configure the check to that all variables have 3 or more chars in name:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=\"PatternVariableName\"&gt;\n+ *   &lt;property name=\"format\" value=\"^[a-z][_a-zA-Z0-9]{2,}$\"/&gt;\n+ * &lt;/module&gt;\n+ * </pre>\n+ * <p>Code Example:</p>\n+ * <pre>\n+ * class MyClass {\n+ *     {\n+ *         Object o1 = null;\n+ *         if (o1 instanceof String s) { // violation, name 's' must\n+ *                                       // match pattern '^[a-z][_a-zA-Z0-9]{2,}$'\n+ *         }\n+ *         if (o1 instanceof Integer num) { // OK\n+ *         }\n+ *     }\n+ * }\n+ * </pre>\n+ * @since 8.35\n+ */\n+public class PatternVariableNameCheck extends AbstractNameCheck {\n+\n+    /** Creates a new {@code PatternVariableName} instance. */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5117caf158dc65ce0e5e0aca61af581d046db275"}, "originalPosition": 103}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI0MTU1OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    //Violation, s doesn't match ^[a-z][a-zA-Z0-9]+$\n          \n          \n            \n                    // Violation, s doesn't match ^[a-z][a-zA-Z0-9]+$\n          \n      \n    \n    \n  \n\nMeta comment: do we typically list \"violation\" and \"ok\" comments in test inputs that are used in multiple test configurations? I was just thinking it's potentially a little confusing reading this file to see references to different patterns.", "url": "https://github.com/checkstyle/checkstyle/pull/8417#discussion_r453241558", "createdAt": "2020-07-11T22:30:41Z", "author": {"login": "esilkensen"}, "path": "src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/naming/patternvariablename/InputPatternVariableNameEnhancedInstanceof.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//non-compiled with javac: Compilable with Java14\n+package com.puppycrawl.tools.checkstyle.checks.naming.patternvariablename;\n+\n+import java.util.ArrayList;\n+import java.util.Locale;\n+\n+public class InputPatternVariableNameEnhancedInstanceof {\n+    private Object obj;\n+\n+    static boolean doStuff(Object obj) {\n+        // Violation, OTHER doesn't match ^[a-z][a-zA-Z0-9]*$\n+        return obj instanceof Integer OTHER && OTHER > 0;\n+    }\n+\n+    static {\n+        Object o = \"\";\n+        //Violation, s doesn't match ^[a-z][a-zA-Z0-9]+$", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5117caf158dc65ce0e5e0aca61af581d046db275"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI0MTYyNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    //Violation, s doesn't match ^[a-z][a-zA-Z0-9]+$\n          \n          \n            \n                    // Violation, s doesn't match ^[a-z][a-zA-Z0-9]+$", "url": "https://github.com/checkstyle/checkstyle/pull/8417#discussion_r453241625", "createdAt": "2020-07-11T22:31:40Z", "author": {"login": "esilkensen"}, "path": "src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/naming/patternvariablename/InputPatternVariableNameEnhancedInstanceof.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//non-compiled with javac: Compilable with Java14\n+package com.puppycrawl.tools.checkstyle.checks.naming.patternvariablename;\n+\n+import java.util.ArrayList;\n+import java.util.Locale;\n+\n+public class InputPatternVariableNameEnhancedInstanceof {\n+    private Object obj;\n+\n+    static boolean doStuff(Object obj) {\n+        // Violation, OTHER doesn't match ^[a-z][a-zA-Z0-9]*$\n+        return obj instanceof Integer OTHER && OTHER > 0;\n+    }\n+\n+    static {\n+        Object o = \"\";\n+        //Violation, s doesn't match ^[a-z][a-zA-Z0-9]+$\n+        if (o instanceof String s) {\n+            System.out.println(s.toLowerCase(Locale.forLanguageTag(s)));\n+            boolean stringCheck = \"test\".equals(s);\n+        }\n+\n+        // Violation, Count doesn't match ^[a-z][a-zA-Z0-9]*$\n+        if (o instanceof Integer Count) {\n+            int value = Count.byteValue();\n+            if (Count.equals(value)) {\n+                value = 25;\n+            }\n+        }\n+    }\n+\n+    interface VoidPredicate {\n+        public boolean get();\n+    }\n+\n+    public void t(Object o1, Object o2) {\n+        Object b;\n+        Object c;\n+        // Violation, STRING doesn't match ^[a-z][a-zA-Z0-9]*$\n+        if (!(o1 instanceof String S) && (o2 instanceof String STRING)) {\n+        }\n+        // Violation, STRING doesn't match ^[a-z][a-zA-Z0-9]*$\n+        // Check two on the same line\n+        if (o1 instanceof String STRING || !(o2 instanceof String STRING)) {\n+        }\n+        //Violation, s doesn't match ^[a-z][a-zA-Z0-9]+$", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5117caf158dc65ce0e5e0aca61af581d046db275"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI0MTY4NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    //Violation, a doesn't match ^[a-z][a-zA-Z0-9]+$ (x3)\n          \n          \n            \n                    // Violation, a doesn't match ^[a-z][a-zA-Z0-9]+$ (x3)", "url": "https://github.com/checkstyle/checkstyle/pull/8417#discussion_r453241685", "createdAt": "2020-07-11T22:32:42Z", "author": {"login": "esilkensen"}, "path": "src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/naming/patternvariablename/InputPatternVariableNameEnhancedInstanceof.java", "diffHunk": "@@ -0,0 +1,88 @@\n+//non-compiled with javac: Compilable with Java14\n+package com.puppycrawl.tools.checkstyle.checks.naming.patternvariablename;\n+\n+import java.util.ArrayList;\n+import java.util.Locale;\n+\n+public class InputPatternVariableNameEnhancedInstanceof {\n+    private Object obj;\n+\n+    static boolean doStuff(Object obj) {\n+        // Violation, OTHER doesn't match ^[a-z][a-zA-Z0-9]*$\n+        return obj instanceof Integer OTHER && OTHER > 0;\n+    }\n+\n+    static {\n+        Object o = \"\";\n+        //Violation, s doesn't match ^[a-z][a-zA-Z0-9]+$\n+        if (o instanceof String s) {\n+            System.out.println(s.toLowerCase(Locale.forLanguageTag(s)));\n+            boolean stringCheck = \"test\".equals(s);\n+        }\n+\n+        // Violation, Count doesn't match ^[a-z][a-zA-Z0-9]*$\n+        if (o instanceof Integer Count) {\n+            int value = Count.byteValue();\n+            if (Count.equals(value)) {\n+                value = 25;\n+            }\n+        }\n+    }\n+\n+    interface VoidPredicate {\n+        public boolean get();\n+    }\n+\n+    public void t(Object o1, Object o2) {\n+        Object b;\n+        Object c;\n+        // Violation, STRING doesn't match ^[a-z][a-zA-Z0-9]*$\n+        if (!(o1 instanceof String S) && (o2 instanceof String STRING)) {\n+        }\n+        // Violation, STRING doesn't match ^[a-z][a-zA-Z0-9]*$\n+        // Check two on the same line\n+        if (o1 instanceof String STRING || !(o2 instanceof String STRING)) {\n+        }\n+        //Violation, s doesn't match ^[a-z][a-zA-Z0-9]+$\n+        b = ((VoidPredicate) () -> o1 instanceof String s).get();\n+\n+        ArrayList<Integer> arrayList = new ArrayList<Integer>();\n+        if (arrayList instanceof ArrayList<Integer> ai) {\n+            System.out.println(\"Blah\");\n+        }\n+\n+        //Violation, a doesn't match ^[a-z][a-zA-Z0-9]+$ (x3)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5117caf158dc65ce0e5e0aca61af581d046db275"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI0MjI0Nw==", "bodyText": "Should be 8.35?", "url": "https://github.com/checkstyle/checkstyle/pull/8417#discussion_r453242247", "createdAt": "2020-07-11T22:40:35Z", "author": {"login": "esilkensen"}, "path": "src/xdocs/config_naming.xml", "diffHunk": "@@ -2293,6 +2293,135 @@ class MyClass {\n       </subsection>\n     </section>\n \n+    <section name=\"PatternVariableName\">\n+          <p>Since Checkstyle 8.35</p>\n+          <subsection name=\"Description\" id=\"PatternVariableName_Description\">\n+              <p>\n+                  Checks that pattern variable names conform to a specified pattern.\n+              </p>\n+          </subsection>\n+\n+          <subsection name=\"Properties\" id=\"PatternVariableName_Properties\">\n+              <div class=\"wrapper\">\n+                  <table>\n+                      <tr>\n+                          <th>name</th>\n+                          <th>description</th>\n+                          <th>type</th>\n+                          <th>default value</th>\n+                          <th>since</th>\n+                      </tr>\n+                      <tr>\n+                          <td>format</td>\n+                          <td>Specifies valid identifiers.</td>\n+                          <td><a href=\"property_types.html#regexp\">Pattern</a></td>\n+                          <td><code>\"^[a-z][a-zA-Z0-9]*$\"</code></td>\n+                          <td>3.0</td>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5117caf158dc65ce0e5e0aca61af581d046db275"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzI0MjQzMg==", "bodyText": "These examples look a little strange - indentation, and curious if there's a reason the code here (and in the xpath example files) is in a block like this and not a constructor or method?", "url": "https://github.com/checkstyle/checkstyle/pull/8417#discussion_r453242432", "createdAt": "2020-07-11T22:43:08Z", "author": {"login": "esilkensen"}, "path": "src/xdocs/config_naming.xml", "diffHunk": "@@ -2293,6 +2293,135 @@ class MyClass {\n       </subsection>\n     </section>\n \n+    <section name=\"PatternVariableName\">\n+          <p>Since Checkstyle 8.35</p>\n+          <subsection name=\"Description\" id=\"PatternVariableName_Description\">\n+              <p>\n+                  Checks that pattern variable names conform to a specified pattern.\n+              </p>\n+          </subsection>\n+\n+          <subsection name=\"Properties\" id=\"PatternVariableName_Properties\">\n+              <div class=\"wrapper\">\n+                  <table>\n+                      <tr>\n+                          <th>name</th>\n+                          <th>description</th>\n+                          <th>type</th>\n+                          <th>default value</th>\n+                          <th>since</th>\n+                      </tr>\n+                      <tr>\n+                          <td>format</td>\n+                          <td>Specifies valid identifiers.</td>\n+                          <td><a href=\"property_types.html#regexp\">Pattern</a></td>\n+                          <td><code>\"^[a-z][a-zA-Z0-9]*$\"</code></td>\n+                          <td>3.0</td>\n+                      </tr>\n+                  </table>\n+              </div>\n+          </subsection>\n+\n+          <subsection name=\"Examples\" id=\"PatternVariableName_Examples\">\n+              <p>\n+                  An example of how to configure the check is:\n+              </p>\n+\n+              <source>\n+                  &lt;module name=\"PatternVariableName\"/&gt;\n+              </source>\n+              <p>Code Example:</p>\n+              <source>\n+                  class MyClass {\n+                  {\n+                  Object o1 = null;\n+                  if (o1 instanceof String STRING) { // violation, name 'STRING' must\n+                  // match pattern '^[a-z][a-zA-Z0-9]*$'\n+                  }\n+                  if (o1 instanceof Integer num) { // OK\n+                  }\n+                  }\n+                  }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5117caf158dc65ce0e5e0aca61af581d046db275"}, "originalPosition": 52}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5117caf158dc65ce0e5e0aca61af581d046db275", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/5117caf158dc65ce0e5e0aca61af581d046db275", "committedDate": "2020-07-08T01:34:09Z", "message": "Issue #8407: new Check: PatternVariableName"}, "afterCommit": {"oid": "74d3dbc0b7a286c732fb877d925ac18e427dae7c", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/74d3dbc0b7a286c732fb877d925ac18e427dae7c", "committedDate": "2020-07-13T04:52:50Z", "message": "Issue #8407: new Check: PatternVariableName"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2OTgyOTU2", "url": "https://github.com/checkstyle/checkstyle/pull/8417#pullrequestreview-446982956", "createdAt": "2020-07-13T05:04:37Z", "commit": {"oid": "74d3dbc0b7a286c732fb877d925ac18e427dae7c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3ODIxMzc2", "url": "https://github.com/checkstyle/checkstyle/pull/8417#pullrequestreview-447821376", "createdAt": "2020-07-14T06:27:37Z", "commit": {"oid": "74d3dbc0b7a286c732fb877d925ac18e427dae7c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwNjoyNzozN1rOGxF8OA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwNjo0MDoxN1rOGxGQKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDEzMDc0NA==", "bodyText": "Why not com.puppycrawl.tools.checkstyle.checks.naming.PatternVariableNameCheck*?", "url": "https://github.com/checkstyle/checkstyle/pull/8417#discussion_r454130744", "createdAt": "2020-07-14T06:27:37Z", "author": {"login": "pbludov"}, "path": "pom.xml", "diffHunk": "@@ -1857,6 +1857,9 @@\n                 <param>com.puppycrawl.tools.checkstyle.checks.NoCodeInFileCheck*</param>\n                 <param>com.puppycrawl.tools.checkstyle.checks.OrderedPropertiesCheck*</param>\n                 <param>com.puppycrawl.tools.checkstyle.checks.OuterTypeFilenameCheck*</param>\n+                <param>\n+                  com.puppycrawl.tools.checkstyle.checks.naming.PatternVariableNameCheck", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74d3dbc0b7a286c732fb877d925ac18e427dae7c"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDEzNTg0OA==", "bodyText": "Actually, this is a pattern for \"a lower case letter, followed by letters and digits, optionally separated by underscore\".\nThese variable names: foo_, foo___bar do not match the pattern, although they are \"begin with a lower\ncase letter, followed by letters, digits, and underscores\". Please update either the pattern or the description.", "url": "https://github.com/checkstyle/checkstyle/pull/8417#discussion_r454135848", "createdAt": "2020-07-14T06:40:17Z", "author": {"login": "pbludov"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/checks/naming/PatternVariableNameCheck.java", "diffHunk": "@@ -0,0 +1,140 @@\n+////////////////////////////////////////////////////////////////////////////////\n+// checkstyle: Checks Java source code for adherence to a set of rules.\n+// Copyright (C) 2001-2020 the original author or authors.\n+//\n+// This library is free software; you can redistribute it and/or\n+// modify it under the terms of the GNU Lesser General Public\n+// License as published by the Free Software Foundation; either\n+// version 2.1 of the License, or (at your option) any later version.\n+//\n+// This library is distributed in the hope that it will be useful,\n+// but WITHOUT ANY WARRANTY; without even the implied warranty of\n+// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+// Lesser General Public License for more details.\n+//\n+// You should have received a copy of the GNU Lesser General Public\n+// License along with this library; if not, write to the Free Software\n+// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n+////////////////////////////////////////////////////////////////////////////////\n+\n+package com.puppycrawl.tools.checkstyle.checks.naming;\n+\n+import com.puppycrawl.tools.checkstyle.api.DetailAST;\n+import com.puppycrawl.tools.checkstyle.api.TokenTypes;\n+\n+/**\n+ * <p>\n+ * Checks that pattern variable names conform to a specified pattern.\n+ * </p>\n+ * <ul>\n+ * <li>\n+ * Property {@code format} - Specifies valid identifiers. Type is {@code java.util.regex.Pattern}.\n+ * Default value is {@code \"^[a-z][a-zA-Z0-9]*$\"}.\n+ * </li>\n+ * </ul>\n+ * <p>\n+ * An example of how to configure the check is:\n+ * </p>\n+ * <pre>\n+ * &lt;module name=\"PatternVariableName\"/&gt;\n+ * </pre>\n+ * <p>Code Example:</p>\n+ * <pre>\n+ * class MyClass {\n+ *     {\n+ *         Object o1 = null;\n+ *         if (o1 instanceof String STRING) { // violation, name 'STRING' must\n+ *                                            // match pattern '^[a-z][a-zA-Z0-9]*$'\n+ *         }\n+ *         if (o1 instanceof Integer num) { // OK\n+ *         }\n+ *     }\n+ * }\n+ * </pre>\n+ * <p>\n+ * An example of how to configure the check for names that begin with a lower\n+ * case letter, followed by letters, digits, and underscores is:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "74d3dbc0b7a286c732fb877d925ac18e427dae7c"}, "originalPosition": 56}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "74d3dbc0b7a286c732fb877d925ac18e427dae7c", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/74d3dbc0b7a286c732fb877d925ac18e427dae7c", "committedDate": "2020-07-13T04:52:50Z", "message": "Issue #8407: new Check: PatternVariableName"}, "afterCommit": {"oid": "bb9f315cb0afbd18bd549e8cd60b74735a9b8112", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/bb9f315cb0afbd18bd549e8cd60b74735a9b8112", "committedDate": "2020-07-15T00:34:33Z", "message": "Issue #8407: new Check: PatternVariableName"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwODc2NjI4", "url": "https://github.com/checkstyle/checkstyle/pull/8417#pullrequestreview-450876628", "createdAt": "2020-07-17T18:35:48Z", "commit": {"oid": "bb9f315cb0afbd18bd549e8cd60b74735a9b8112"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxMTAwMDI5", "url": "https://github.com/checkstyle/checkstyle/pull/8417#pullrequestreview-451100029", "createdAt": "2020-07-19T05:28:16Z", "commit": {"oid": "bb9f315cb0afbd18bd549e8cd60b74735a9b8112"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bb9f315cb0afbd18bd549e8cd60b74735a9b8112", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/bb9f315cb0afbd18bd549e8cd60b74735a9b8112", "committedDate": "2020-07-15T00:34:33Z", "message": "Issue #8407: new Check: PatternVariableName"}, "afterCommit": {"oid": "302954a7da5819fc7314c33e43f0aed32421706b", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/302954a7da5819fc7314c33e43f0aed32421706b", "committedDate": "2020-07-26T12:10:59Z", "message": "Issue #8407: new Check: PatternVariableName"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MzY1MDQy", "url": "https://github.com/checkstyle/checkstyle/pull/8417#pullrequestreview-455365042", "createdAt": "2020-07-26T13:34:56Z", "commit": {"oid": "302954a7da5819fc7314c33e43f0aed32421706b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxMzozNDo1NlrOG3McLg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxMzozNDo1NlrOG3McLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDUyODY4Ng==", "bodyText": "remove config from google inputs, it is not required as config is single.\nWe have rule for embedded config only for UTs, where we have numerous configs.\nGoogle is single config, so copy of config will not do very good job, as google style is also changing periodically.", "url": "https://github.com/checkstyle/checkstyle/pull/8417#discussion_r460528686", "createdAt": "2020-07-26T13:34:56Z", "author": {"login": "romani"}, "path": "src/it/resources-noncompilable/com/google/checkstyle/test/chapter5naming/rule527localvariablenames/InputPatternVariableNameEnhancedInstanceofTestDefault.java", "diffHunk": "@@ -0,0 +1,83 @@\n+//non-compiled with javac: Compilable with Java14\n+package com.google.checkstyle.test.chapter5naming.rule527localvariablenames;\n+\n+import java.util.ArrayList;\n+import java.util.Locale;\n+/*\n+ * Config:\n+ * tokens = PATTERN_VARIABLE_DEF\n+ * format = \"^[a-z][a-zA-Z0-9]*$\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "302954a7da5819fc7314c33e43f0aed32421706b"}, "originalPosition": 9}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "302954a7da5819fc7314c33e43f0aed32421706b", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/302954a7da5819fc7314c33e43f0aed32421706b", "committedDate": "2020-07-26T12:10:59Z", "message": "Issue #8407: new Check: PatternVariableName"}, "afterCommit": {"oid": "e167e84b9a3a955a07e9dbb49dc17e9978d5cd70", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/e167e84b9a3a955a07e9dbb49dc17e9978d5cd70", "committedDate": "2020-07-26T13:48:52Z", "message": "Issue #8407: new Check: PatternVariableName"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MzczNjg5", "url": "https://github.com/checkstyle/checkstyle/pull/8417#pullrequestreview-455373689", "createdAt": "2020-07-26T15:26:22Z", "commit": {"oid": "e167e84b9a3a955a07e9dbb49dc17e9978d5cd70"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxNToyNjoyMlrOG3NKRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQxNToyNjoyMlrOG3NKRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDU0MDQ4Nw==", "bodyText": "8.36", "url": "https://github.com/checkstyle/checkstyle/pull/8417#discussion_r460540487", "createdAt": "2020-07-26T15:26:22Z", "author": {"login": "romani"}, "path": "src/xdocs/config_naming.xml", "diffHunk": "@@ -2296,6 +2296,136 @@ class MyClass {\n       </subsection>\n     </section>\n \n+    <section name=\"PatternVariableName\">\n+          <p>Since Checkstyle 8.35</p>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e167e84b9a3a955a07e9dbb49dc17e9978d5cd70"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c374bce02506428cad75d6c2de89c0d0e5d04745", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/c374bce02506428cad75d6c2de89c0d0e5d04745", "committedDate": "2020-07-26T16:02:49Z", "message": "Issue #8407: new Check: PatternVariableName"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e167e84b9a3a955a07e9dbb49dc17e9978d5cd70", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/e167e84b9a3a955a07e9dbb49dc17e9978d5cd70", "committedDate": "2020-07-26T13:48:52Z", "message": "Issue #8407: new Check: PatternVariableName"}, "afterCommit": {"oid": "c374bce02506428cad75d6c2de89c0d0e5d04745", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/c374bce02506428cad75d6c2de89c0d0e5d04745", "committedDate": "2020-07-26T16:02:49Z", "message": "Issue #8407: new Check: PatternVariableName"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MzkwMjA1", "url": "https://github.com/checkstyle/checkstyle/pull/8417#pullrequestreview-455390205", "createdAt": "2020-07-26T19:43:01Z", "commit": {"oid": "c374bce02506428cad75d6c2de89c0d0e5d04745"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 446, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}