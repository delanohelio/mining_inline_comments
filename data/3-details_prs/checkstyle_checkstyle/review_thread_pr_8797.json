{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgwNzg0Mzkw", "number": 8797, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxNzo1MDo1OFrOEhyjyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNDoxNToyNFrOEjKJDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAzODY2ODI3OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/ElementNode.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxNzo1MDo1OFrOHPTTgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQyMDoyMTo1MlrOHPY79A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTgwNjk3OQ==", "bodyText": "This looks confusing. This method should return a closed iterator?\nI understand that this is done to suppress the warning about unclosed resources and that the method EmptyIterator::close() actually does nothing.\nThe violation itself is inappropriate here. If a method returns a closable resource, the resource shouldn't be closed.\nThis approach may cause problems in the future. Some check might once break the build with a \" Hey! You are touching a closed resource!\"\nWhat if we just suppress this warning as here?", "url": "https://github.com/checkstyle/checkstyle/pull/8797#discussion_r485806979", "createdAt": "2020-09-09T17:50:58Z", "author": {"login": "pbludov"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/ElementNode.java", "diffHunk": "@@ -230,7 +230,9 @@ public AxisIterator iterateAxis(byte axisNumber) {\n                     }\n                 }\n                 else {\n-                    result = EmptyIterator.OfNodes.THE_INSTANCE;\n+                    try (AxisIterator iterator = EmptyIterator.ofNodes()) {\n+                        result = iterator;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fe9bc4591cc87e558dd9ab0f9c89ed8955c1d885"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTg5OTI1Mg==", "bodyText": "good point, thanks\nrewrote all try-with-resources statements, please check", "url": "https://github.com/checkstyle/checkstyle/pull/8797#discussion_r485899252", "createdAt": "2020-09-09T20:21:52Z", "author": {"login": "timurt"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/ElementNode.java", "diffHunk": "@@ -230,7 +230,9 @@ public AxisIterator iterateAxis(byte axisNumber) {\n                     }\n                 }\n                 else {\n-                    result = EmptyIterator.OfNodes.THE_INSTANCE;\n+                    try (AxisIterator iterator = EmptyIterator.ofNodes()) {\n+                        result = iterator;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTgwNjk3OQ=="}, "originalCommit": {"oid": "fe9bc4591cc87e558dd9ab0f9c89ed8955c1d885"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0MjA4MDk2OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/RootNode.java", "isResolved": true, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMFQxMzoyNzo1N1rOHPzjoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwNjoxNDoxM1rOHRFLOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjMzNTM5Mg==", "bodyText": "Please explain reason of suppression in javadoc", "url": "https://github.com/checkstyle/checkstyle/pull/8797#discussion_r486335392", "createdAt": "2020-09-10T13:27:57Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/RootNode.java", "diffHunk": "@@ -143,9 +143,11 @@ public NodeInfo getRoot() {\n      *\n      * @param axisNumber element from {@code AxisInfo}\n      * @return {@code AxisIterator} object\n+     * @noinspection resource, IOResourceOpenedButNotSafelyClosed", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f785d3476e396875cd3c7f95259f31a8154f2bd"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzQwNTEzMA==", "bodyText": "@timurt there is a bug in the eclipse compiler related to this issue:\nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id=383965\nPlease note this in the method Javadoc.", "url": "https://github.com/checkstyle/checkstyle/pull/8797#discussion_r487405130", "createdAt": "2020-09-12T12:32:11Z", "author": {"login": "pbludov"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/RootNode.java", "diffHunk": "@@ -143,9 +143,11 @@ public NodeInfo getRoot() {\n      *\n      * @param axisNumber element from {@code AxisInfo}\n      * @return {@code AxisIterator} object\n+     * @noinspection resource, IOResourceOpenedButNotSafelyClosed", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjMzNTM5Mg=="}, "originalCommit": {"oid": "1f785d3476e396875cd3c7f95259f31a8154f2bd"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzU1MzA0Ng==", "bodyText": "@romani done", "url": "https://github.com/checkstyle/checkstyle/pull/8797#discussion_r487553046", "createdAt": "2020-09-13T17:05:27Z", "author": {"login": "timurt"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/RootNode.java", "diffHunk": "@@ -143,9 +143,11 @@ public NodeInfo getRoot() {\n      *\n      * @param axisNumber element from {@code AxisInfo}\n      * @return {@code AxisIterator} object\n+     * @noinspection resource, IOResourceOpenedButNotSafelyClosed", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjMzNTM5Mg=="}, "originalCommit": {"oid": "1f785d3476e396875cd3c7f95259f31a8154f2bd"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzU1MzExNg==", "bodyText": "@pbludov do I really need to specify this bug in javadoc, isn't it CI/CD problem?", "url": "https://github.com/checkstyle/checkstyle/pull/8797#discussion_r487553116", "createdAt": "2020-09-13T17:06:11Z", "author": {"login": "timurt"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/RootNode.java", "diffHunk": "@@ -143,9 +143,11 @@ public NodeInfo getRoot() {\n      *\n      * @param axisNumber element from {@code AxisInfo}\n      * @return {@code AxisIterator} object\n+     * @noinspection resource, IOResourceOpenedButNotSafelyClosed", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjMzNTM5Mg=="}, "originalCommit": {"oid": "1f785d3476e396875cd3c7f95259f31a8154f2bd"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzY3MjYzNA==", "bodyText": "My point is that there is no need for suppression. But due to bugs, some ci tools reports a violation here. One day these bugs will be fixed and the suppression will become redundant. So I suggested mentioning the bug here.", "url": "https://github.com/checkstyle/checkstyle/pull/8797#discussion_r487672634", "createdAt": "2020-09-14T06:14:13Z", "author": {"login": "pbludov"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/RootNode.java", "diffHunk": "@@ -143,9 +143,11 @@ public NodeInfo getRoot() {\n      *\n      * @param axisNumber element from {@code AxisInfo}\n      * @return {@code AxisIterator} object\n+     * @noinspection resource, IOResourceOpenedButNotSafelyClosed", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NjMzNTM5Mg=="}, "originalCommit": {"oid": "1f785d3476e396875cd3c7f95259f31a8154f2bd"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0ODk5NjkzOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/ElementNode.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQxMjozMjo1MFrOHQ02fw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xM1QxNzowNjoxN1rOHQ94aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzQwNTE4Mw==", "bodyText": "same here please", "url": "https://github.com/checkstyle/checkstyle/pull/8797#discussion_r487405183", "createdAt": "2020-09-12T12:32:50Z", "author": {"login": "pbludov"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/ElementNode.java", "diffHunk": "@@ -330,7 +310,9 @@ public DetailAST getUnderlyingNode() {\n     private AxisIterator getPrecedingSiblingsIterator() {\n         final AxisIterator result;\n         if (indexAmongSiblings == 0) {\n-            result = EmptyIterator.OfNodes.THE_INSTANCE;\n+            try (AxisIterator iterator = EmptyIterator.ofNodes()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f785d3476e396875cd3c7f95259f31a8154f2bd"}, "originalPosition": 104}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzU1MzEzMQ==", "bodyText": "done", "url": "https://github.com/checkstyle/checkstyle/pull/8797#discussion_r487553131", "createdAt": "2020-09-13T17:06:17Z", "author": {"login": "timurt"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/ElementNode.java", "diffHunk": "@@ -330,7 +310,9 @@ public DetailAST getUnderlyingNode() {\n     private AxisIterator getPrecedingSiblingsIterator() {\n         final AxisIterator result;\n         if (indexAmongSiblings == 0) {\n-            result = EmptyIterator.OfNodes.THE_INSTANCE;\n+            try (AxisIterator iterator = EmptyIterator.ofNodes()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzQwNTE4Mw=="}, "originalCommit": {"oid": "1f785d3476e396875cd3c7f95259f31a8154f2bd"}, "originalPosition": 104}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA0ODk5NzAwOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/ElementNode.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xMlQxMjozMzowN1rOHQ02iw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xM1QxNzowNjoyMlrOHQ94cA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzQwNTE5NQ==", "bodyText": "and here too", "url": "https://github.com/checkstyle/checkstyle/pull/8797#discussion_r487405195", "createdAt": "2020-09-12T12:33:07Z", "author": {"login": "pbludov"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/ElementNode.java", "diffHunk": "@@ -349,7 +331,9 @@ private AxisIterator getPrecedingSiblingsIterator() {\n     private AxisIterator getFollowingSiblingsIterator() {\n         final AxisIterator result;\n         if (indexAmongSiblings == parent.getChildren().size() - 1) {\n-            result = EmptyIterator.OfNodes.THE_INSTANCE;\n+            try (AxisIterator iterator = EmptyIterator.ofNodes()) {\n+                result = iterator;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f785d3476e396875cd3c7f95259f31a8154f2bd"}, "originalPosition": 116}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzU1MzEzNg==", "bodyText": "done", "url": "https://github.com/checkstyle/checkstyle/pull/8797#discussion_r487553136", "createdAt": "2020-09-13T17:06:22Z", "author": {"login": "timurt"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/ElementNode.java", "diffHunk": "@@ -349,7 +331,9 @@ private AxisIterator getPrecedingSiblingsIterator() {\n     private AxisIterator getFollowingSiblingsIterator() {\n         final AxisIterator result;\n         if (indexAmongSiblings == parent.getChildren().size() - 1) {\n-            result = EmptyIterator.OfNodes.THE_INSTANCE;\n+            try (AxisIterator iterator = EmptyIterator.ofNodes()) {\n+                result = iterator;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NzQwNTE5NQ=="}, "originalCommit": {"oid": "1f785d3476e396875cd3c7f95259f31a8154f2bd"}, "originalPosition": 116}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1MzAxNzc0OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/ElementNode.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQxNDoxNToyNFrOHRW6oA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOVQxNjowMDo1N1rOHUs2gA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzk2MzI5Ng==", "bodyText": "on this method we do not suppress anything, please remove this comment.", "url": "https://github.com/checkstyle/checkstyle/pull/8797#discussion_r487963296", "createdAt": "2020-09-14T14:15:24Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/ElementNode.java", "diffHunk": "@@ -200,65 +200,51 @@ public NodeInfo getRoot() {\n      * Determines axis iteration algorithm. Throws {@code UnsupportedOperationException} in case,\n      * when there is no axis iterator for given axisNumber.\n      *\n+     * Suppresses resource, IOResourceOpenedButNotSafelyClosed: {@link AxisIterator} implements\n+     * {@link java.io.Closeable} interface, but none of the subclasses of the {@link AxisIterator}\n+     * class has non-empty {@code close()} method.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7073f991c08acf598f6651fdd927ef91f6187e8e"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA3NzUyNA==", "bodyText": "done,\nI was referring to your previous comment \"Please explain reason of suppression in javadoc\", how should I explain this IDEA suppressions?", "url": "https://github.com/checkstyle/checkstyle/pull/8797#discussion_r491077524", "createdAt": "2020-09-18T16:59:17Z", "author": {"login": "timurt"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/ElementNode.java", "diffHunk": "@@ -200,65 +200,51 @@ public NodeInfo getRoot() {\n      * Determines axis iteration algorithm. Throws {@code UnsupportedOperationException} in case,\n      * when there is no axis iterator for given axisNumber.\n      *\n+     * Suppresses resource, IOResourceOpenedButNotSafelyClosed: {@link AxisIterator} implements\n+     * {@link java.io.Closeable} interface, but none of the subclasses of the {@link AxisIterator}\n+     * class has non-empty {@code close()} method.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzk2MzI5Ng=="}, "originalCommit": {"oid": "7073f991c08acf598f6651fdd927ef91f6187e8e"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTQ2ODQxNg==", "bodyText": "I pushed a change", "url": "https://github.com/checkstyle/checkstyle/pull/8797#discussion_r491468416", "createdAt": "2020-09-19T16:00:57Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/xpath/ElementNode.java", "diffHunk": "@@ -200,65 +200,51 @@ public NodeInfo getRoot() {\n      * Determines axis iteration algorithm. Throws {@code UnsupportedOperationException} in case,\n      * when there is no axis iterator for given axisNumber.\n      *\n+     * Suppresses resource, IOResourceOpenedButNotSafelyClosed: {@link AxisIterator} implements\n+     * {@link java.io.Closeable} interface, but none of the subclasses of the {@link AxisIterator}\n+     * class has non-empty {@code close()} method.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzk2MzI5Ng=="}, "originalCommit": {"oid": "7073f991c08acf598f6651fdd927ef91f6187e8e"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 676, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}