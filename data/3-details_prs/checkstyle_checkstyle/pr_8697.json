{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY4MzM4NTg4", "number": 8697, "title": "Issue #8662: Switch expression syntax check update for EmptyBlockCheck", "bodyText": "Issue #8662: Switch expression syntax check update for EmptyBlockCheck\nDiff Regression projects: https://gist.githubusercontent.com/nmancus1/e3988f8092d919b5cbe70f5359c4d9e8/raw/a0f6f5860f8025c19868061dee6e0e40960b992f/projects-to-test-on.properties\nDiff Regression config: https://gist.githubusercontent.com/nmancus1/658282e07a843a40b8136e75c3e95ecc/raw/a0fe890093bb0512ec3f833533da90ce6c8212b8/EmptyBlock.xml", "createdAt": "2020-08-15T16:26:16Z", "url": "https://github.com/checkstyle/checkstyle/pull/8697", "merged": true, "mergeCommit": {"oid": "621f7ffc116613fc595adef4c5805bfb58e952c0"}, "closed": true, "closedAt": "2020-08-21T13:24:55Z", "author": {"login": "nmancus1"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc_N-K5gFqTQ2ODAxMTg1Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdBExbTAFqTQ3MjQ4NDQ0OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4MDExODU2", "url": "https://github.com/checkstyle/checkstyle/pull/8697#pullrequestreview-468011856", "createdAt": "2020-08-15T18:59:59Z", "commit": {"oid": "bbb6b3fe1606351eaa06fcf3fa317f269128026e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4MDM3Mjcy", "url": "https://github.com/checkstyle/checkstyle/pull/8697#pullrequestreview-468037272", "createdAt": "2020-08-16T06:27:08Z", "commit": {"oid": "bbb6b3fe1606351eaa06fcf3fa317f269128026e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNlQwNjoyNzowOFrOHBP-iA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xNlQwNjoyNzowOFrOHBP-iA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTA3MjM5Mg==", "bodyText": "One interesting case is missing here:\n            case ONE -> { break; } // OK\n            case TWO, THREE -> {} // violation\n            case FOUR -> {\n               // this block was intentionally left empty\n            } // OK when BlockOption == text\nBut I'm not sure about that. The code  { break; } looks a bit weird. And we already have an exception for the switch case:\n        switch (k) {\n            case ONE: {} // OK\n            case TWO:\n              break;\n          }\nThis behavior is (poorly) documented, let's leave it as it is. @nmancus1 please add a test case here:\n    case TWO, THREE -> {} // OK, empty blocks are allowed for cases", "url": "https://github.com/checkstyle/checkstyle/pull/8697#discussion_r471072392", "createdAt": "2020-08-16T06:27:08Z", "author": {"login": "pbludov"}, "path": "src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/blocks/emptyblock/InputEmptyBlockSwitchExpressions.java", "diffHunk": "@@ -0,0 +1,114 @@\n+//non-compiled with javac: Compilable with Java14\n+package com.puppycrawl.tools.checkstyle.checks.blocks.emptyblock;\n+\n+/* Config:\n+ *\n+ * tokens = {LITERAL_WHILE , LITERAL_TRY , LITERAL_CATCH , LITERAL_FINALLY ,\n+ *  LITERAL_DO , LITERAL_IF , LITERAL_ELSE , LITERAL_FOR , INSTANCE_INIT ,\n+ *  STATIC_INIT , LITERAL_SWITCH , LITERAL_SYNCHRONIZED , LITERAL_CASE ,\n+ *  LITERAL_DEFAULT , ARRAY_INIT}\n+ * BlockOption = statement\n+ */\n+public class InputEmptyBlockSwitchExpressions {\n+    void howMany1(Nums k) {\n+        switch (k) {\n+            case ONE:\n+                System.out.println(\"case two\");\n+            case TWO, THREE: { // violation\n+\n+            }\n+\n+            case FOUR: {\n+                System.out.println(\"case three\");\n+            }\n+\n+            default:\n+                throw new IllegalStateException(\"Not a nums\");\n+        }\n+    }\n+\n+    void howMany2(Nums k) {\n+        switch (k) {\n+            case ONE ->\n+                    System.out.println(\"case one\");\n+\n+            case TWO, THREE ->", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bbb6b3fe1606351eaa06fcf3fa317f269128026e"}, "originalPosition": 35}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9758a940ae2e02aafaaf52a04d675236b115f786", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/9758a940ae2e02aafaaf52a04d675236b115f786", "committedDate": "2020-08-16T12:51:30Z", "message": "Issue #8662: Switch expression syntax check update for EmptyBlockCheck"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bbb6b3fe1606351eaa06fcf3fa317f269128026e", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/bbb6b3fe1606351eaa06fcf3fa317f269128026e", "committedDate": "2020-08-15T16:25:19Z", "message": "Issue #8662: Switch expression syntax check update for EmptyBlockCheck"}, "afterCommit": {"oid": "9758a940ae2e02aafaaf52a04d675236b115f786", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/9758a940ae2e02aafaaf52a04d675236b115f786", "committedDate": "2020-08-16T12:51:30Z", "message": "Issue #8662: Switch expression syntax check update for EmptyBlockCheck"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4MDc0MDQy", "url": "https://github.com/checkstyle/checkstyle/pull/8697#pullrequestreview-468074042", "createdAt": "2020-08-16T15:39:25Z", "commit": {"oid": "9758a940ae2e02aafaaf52a04d675236b115f786"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyNDg0NDQ5", "url": "https://github.com/checkstyle/checkstyle/pull/8697#pullrequestreview-472484449", "createdAt": "2020-08-21T13:24:46Z", "commit": {"oid": "9758a940ae2e02aafaaf52a04d675236b115f786"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 363, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}