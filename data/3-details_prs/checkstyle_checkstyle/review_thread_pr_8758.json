{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcyMTg5NjUz", "number": 8758, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQwNDoyNDoxNVrOEb45YQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxOTowMDozMlrOEcNBlA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3Njc5MjAxOnYy", "diffSide": "RIGHT", "path": ".ci/travis/travis.sh", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQwNDoyNDoxNVrOHGGGJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQwNDozMjoxNVrOHGGc8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjE1MzM4MQ==", "bodyText": "right code , but wrong place\nplease move it to\n\n  \n    \n      checkstyle/.travis.yml\n    \n    \n         Line 72\n      in\n      09f7644\n    \n    \n    \n    \n\n        \n          \n           - CMD=\"export MAVEN_OPTS='-Xmx2000m' && mvn -e clean test-compile pmd:check spotbugs:check\" \n        \n    \n  \n\n\nthis update will require to move such commands to travis.sh - please do.", "url": "https://github.com/checkstyle/checkstyle/pull/8758#discussion_r476153381", "createdAt": "2020-08-25T04:24:15Z", "author": {"login": "romani"}, "path": ".ci/travis/travis.sh", "diffHunk": "@@ -494,8 +495,13 @@ no-error-pmd)\n   git clone https://github.com/pmd/pmd.git\n   cd pmd\n   mvn -e install checkstyle:check -Dcheckstyle.version=${CS_POM_VERSION}\n+  grep \"Processing_Errors\" $CHECKSTYLE_DIR/target/site/pmd.html | cat > errors.log\n+  echo \"PMD Processing Errors: \"\n+  RESULT=$(cat errors.log | wc -l)\n+  cat errors.log", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f792f3b4e2134505195a82b25d080627db6d4662"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjE1OTIxNw==", "bodyText": "Ok, I wanted this build to fail first, then I will add  the link to failing travis in comment, then push the fix.", "url": "https://github.com/checkstyle/checkstyle/pull/8758#discussion_r476159217", "createdAt": "2020-08-25T04:32:15Z", "author": {"login": "nmancus1"}, "path": ".ci/travis/travis.sh", "diffHunk": "@@ -494,8 +495,13 @@ no-error-pmd)\n   git clone https://github.com/pmd/pmd.git\n   cd pmd\n   mvn -e install checkstyle:check -Dcheckstyle.version=${CS_POM_VERSION}\n+  grep \"Processing_Errors\" $CHECKSTYLE_DIR/target/site/pmd.html | cat > errors.log\n+  echo \"PMD Processing Errors: \"\n+  RESULT=$(cat errors.log | wc -l)\n+  cat errors.log", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjE1MzM4MQ=="}, "originalCommit": {"oid": "f792f3b4e2134505195a82b25d080627db6d4662"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3ODQzNTkzOnYy", "diffSide": "RIGHT", "path": ".travis.yml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxMjoyOTo1MlrOHGVw4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNTo0NzozOFrOHGea1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQxMDA4Mg==", "bodyText": "please update 2 same executions below.", "url": "https://github.com/checkstyle/checkstyle/pull/8758#discussion_r476410082", "createdAt": "2020-08-25T12:29:52Z", "author": {"login": "romani"}, "path": ".travis.yml", "diffHunk": "@@ -69,7 +69,7 @@ jobs:\n     - jdk: openjdk8\n       env:\n         - DESC=\"spotbugs,pmd\"\n-        - CMD=\"export MAVEN_OPTS='-Xmx2000m' && mvn -e clean test-compile pmd:check spotbugs:check\"\n+        - CMD=\"./.ci/travis/travis.sh spotbugs-and-pmd\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b5f03d50728d0713c34227bbfcb9ce83bf3d9ed"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU1MTg5Mw==", "bodyText": "Done.", "url": "https://github.com/checkstyle/checkstyle/pull/8758#discussion_r476551893", "createdAt": "2020-08-25T15:47:38Z", "author": {"login": "nmancus1"}, "path": ".travis.yml", "diffHunk": "@@ -69,7 +69,7 @@ jobs:\n     - jdk: openjdk8\n       env:\n         - DESC=\"spotbugs,pmd\"\n-        - CMD=\"export MAVEN_OPTS='-Xmx2000m' && mvn -e clean test-compile pmd:check spotbugs:check\"\n+        - CMD=\"./.ci/travis/travis.sh spotbugs-and-pmd\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQxMDA4Mg=="}, "originalCommit": {"oid": "6b5f03d50728d0713c34227bbfcb9ce83bf3d9ed"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk3ODQ3MTY2OnYy", "diffSide": "RIGHT", "path": ".ci/travis/travis.sh", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxMjozOToxMVrOHGWGEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxNjoxMDo1NFrOHGfZ0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQxNTUwNw==", "bodyText": "it is better to grep as I suggested by \"Processing Errors\".\nin case of good build, there is no such section in report\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  42.580 s\n[INFO] Finished at: 2020-08-25T0:35:46-07:00\n[INFO] ------------------------------------------------------------------------\n\u2714 ~/java/github/romani/checkstyle [nmancus1/pmd-config-patch L|\u271a 1] \n$ firefox target/site/pmd.html \n\u2714 ~/java/github/romani/checkstyle [nmancus1/pmd-config-patch L|\u271a 1] \n$ cat target/site/pmd.html \n<!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\">\n<!-- Generated by Apache Maven Doxia Site Renderer 1.7 at 2020-08-25 -->\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xml:lang=\"en\" lang=\"en\">\n  <head>\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\n    <title>PMD Results</title>\n    <style type=\"text/css\" media=\"all\">\n      @import url(\"./css/maven-base.css\");\n      @import url(\"./css/maven-theme.css\");\n      @import url(\"./css/site.css\");\n    </style>\n    <link rel=\"stylesheet\" href=\"./css/print.css\" type=\"text/css\" media=\"print\" />\n    <meta name=\"Date-Revision-yyyymmdd\" content=\"20200825\" />\n    <meta http-equiv=\"Content-Language\" content=\"en\" />\n        \n        </head>\n  <body class=\"composite\">\n    <div id=\"banner\">\n                      <div class=\"clear\">\n        <hr/>\n      </div>\n    </div>\n    <div id=\"breadcrumbs\">\n          \n                <div class=\"xleft\">\n        <span id=\"publishDate\">Last Published: 2020-08-25</span>\n                  &nbsp;| <span id=\"projectVersion\">Version: 8.36-SNAPSHOT</span>\n                      </div>\n            <div class=\"xright\">      \n      </div>\n      <div class=\"clear\">\n        <hr/>\n      </div>\n    </div>\n    <div id=\"leftColumn\">\n      <div id=\"navcolumn\">\n           \n                                      <a href=\"http://maven.apache.org/\" title=\"Built by Maven\" class=\"poweredBy\">\n        <img class=\"poweredBy\" alt=\"Built by Maven\" src=\"./images/logos/maven-feather.png\" />\n      </a>\n                 \n            </div>\n    </div>\n    <div id=\"bodyColumn\">\n      <div id=\"contentBox\">\n        <div class=\"section\">\n<h2><a name=\"PMD_Results\"></a>PMD Results</h2>\n<p>The following document contains the results of <a class=\"externalLink\" href=\"https://pmd.github.io\">PMD</a> 6.26.0.</p></div>\n<p>PMD found no problems in your source code.</p>\n      </div>\n    </div>\n    <div class=\"clear\">\n      <hr/>\n    </div>\n    <div id=\"footer\">\n      <div class=\"xright\">\n              Copyright &#169;                   2001&#x2013;2020.\n          All rights reserved.    \n                  </div>\n      <div class=\"clear\">\n        <hr/>\n      </div>\n    </div>\n  </body>\n</html>", "url": "https://github.com/checkstyle/checkstyle/pull/8758#discussion_r476415507", "createdAt": "2020-08-25T12:39:11Z", "author": {"login": "romani"}, "path": ".ci/travis/travis.sh", "diffHunk": "@@ -710,6 +710,16 @@ checkstyle-cli-run-openjdk14)\n   exit $RESULT\n   ;;\n \n+spotbugs-and-pmd)\n+  export MAVEN_OPTS='-Xmx2000m'\n+  mvn -e clean test-compile pmd:check spotbugs:check\n+  grep \"Caused by:\" target/site/pmd.html | cat > errors.log", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b5f03d50728d0713c34227bbfcb9ce83bf3d9ed"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQxNjU0NQ==", "bodyText": "Ok, no problem.  Are we concerned about printing any errors that do occur, or do we just want to fail the build?", "url": "https://github.com/checkstyle/checkstyle/pull/8758#discussion_r476416545", "createdAt": "2020-08-25T12:40:53Z", "author": {"login": "nmancus1"}, "path": ".ci/travis/travis.sh", "diffHunk": "@@ -710,6 +710,16 @@ checkstyle-cli-run-openjdk14)\n   exit $RESULT\n   ;;\n \n+spotbugs-and-pmd)\n+  export MAVEN_OPTS='-Xmx2000m'\n+  mvn -e clean test-compile pmd:check spotbugs:check\n+  grep \"Caused by:\" target/site/pmd.html | cat > errors.log", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQxNTUwNw=="}, "originalCommit": {"oid": "6b5f03d50728d0713c34227bbfcb9ce83bf3d9ed"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQ0MjE2Mw==", "bodyText": "please just fail a build with message \"Erros are detected in  target/site/pmd.html \"", "url": "https://github.com/checkstyle/checkstyle/pull/8758#discussion_r476442163", "createdAt": "2020-08-25T13:20:11Z", "author": {"login": "romani"}, "path": ".ci/travis/travis.sh", "diffHunk": "@@ -710,6 +710,16 @@ checkstyle-cli-run-openjdk14)\n   exit $RESULT\n   ;;\n \n+spotbugs-and-pmd)\n+  export MAVEN_OPTS='-Xmx2000m'\n+  mvn -e clean test-compile pmd:check spotbugs:check\n+  grep \"Caused by:\" target/site/pmd.html | cat > errors.log", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQxNTUwNw=="}, "originalCommit": {"oid": "6b5f03d50728d0713c34227bbfcb9ce83bf3d9ed"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjU2ODAxNg==", "bodyText": "Done.", "url": "https://github.com/checkstyle/checkstyle/pull/8758#discussion_r476568016", "createdAt": "2020-08-25T16:10:54Z", "author": {"login": "nmancus1"}, "path": ".ci/travis/travis.sh", "diffHunk": "@@ -710,6 +710,16 @@ checkstyle-cli-run-openjdk14)\n   exit $RESULT\n   ;;\n \n+spotbugs-and-pmd)\n+  export MAVEN_OPTS='-Xmx2000m'\n+  mvn -e clean test-compile pmd:check spotbugs:check\n+  grep \"Caused by:\" target/site/pmd.html | cat > errors.log", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQxNTUwNw=="}, "originalCommit": {"oid": "6b5f03d50728d0713c34227bbfcb9ce83bf3d9ed"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4MDA4OTgwOnYy", "diffSide": "RIGHT", "path": ".ci/travis/travis.sh", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxOTowMDozMlrOHGltpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxOToyNToyM1rOHGmivA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY3MTM5Ng==", "bodyText": "do sleep 5s before false.\nto let Travis flush message to log before container is failed and destroyed\nplease print echo \"Errors are detected in target/site/pmd.html.\" in IF.", "url": "https://github.com/checkstyle/checkstyle/pull/8758#discussion_r476671396", "createdAt": "2020-08-25T19:00:32Z", "author": {"login": "romani"}, "path": ".ci/travis/travis.sh", "diffHunk": "@@ -710,6 +710,16 @@ checkstyle-cli-run-openjdk14)\n   exit $RESULT\n   ;;\n \n+spotbugs-and-pmd)\n+  export MAVEN_OPTS='-Xmx2000m'\n+  mvn -e clean test-compile pmd:check spotbugs:check\n+  grep \"Processing_Errors\" target/site/pmd.html | cat > errors.log\n+  echo \"Errors are detected in target/site/pmd.html.\"\n+  RESULT=$(cat errors.log | wc -l)\n+  cat errors.log\n+  if [[ $RESULT != 0 ]]; then false; fi", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b8b439dec39af8c41c436f64670611276d094a4f"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY4NDk4OA==", "bodyText": "Fixed.", "url": "https://github.com/checkstyle/checkstyle/pull/8758#discussion_r476684988", "createdAt": "2020-08-25T19:25:23Z", "author": {"login": "nmancus1"}, "path": ".ci/travis/travis.sh", "diffHunk": "@@ -710,6 +710,16 @@ checkstyle-cli-run-openjdk14)\n   exit $RESULT\n   ;;\n \n+spotbugs-and-pmd)\n+  export MAVEN_OPTS='-Xmx2000m'\n+  mvn -e clean test-compile pmd:check spotbugs:check\n+  grep \"Processing_Errors\" target/site/pmd.html | cat > errors.log\n+  echo \"Errors are detected in target/site/pmd.html.\"\n+  RESULT=$(cat errors.log | wc -l)\n+  cat errors.log\n+  if [[ $RESULT != 0 ]]; then false; fi", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjY3MTM5Ng=="}, "originalCommit": {"oid": "b8b439dec39af8c41c436f64670611276d094a4f"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 654, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}