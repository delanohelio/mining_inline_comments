{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA3ODU2NzQz", "number": 8913, "title": "Issue #8895: FinalLocalVariable: NPE in records", "bodyText": "Fix #8895\nAs described here, adding && astTraverse.getType() != TokenTypes.COMPACT_CTOR_DEF solves the problem.\nDiff Regression config: https://gist.githubusercontent.com/anhminhtran235/c74908614e3465fade5de3c1d33fad5e/raw/ec75fe33dd75befe6b23185b9521c93cebb1c18b/check.xml\nDiff Regression projects: https://gist.githubusercontent.com/romani/cbc85ed26b809064dc260a246666743a/raw/a515faeb85836d1bb9987855cadc23fd3b63abfc/gistfile1.txt", "createdAt": "2020-10-21T20:52:22Z", "url": "https://github.com/checkstyle/checkstyle/pull/8913", "merged": true, "mergeCommit": {"oid": "8472c8f69259230e8e66b4405940aea77310a12d"}, "closed": true, "closedAt": "2020-10-26T07:00:03Z", "author": {"login": "anhminhtran235"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdU0G9RgBqjM5MDYwMDM1ODc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWOzTygFqTUxNjUwNDA4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5fba81abfaabde085f663aad83538174b0592907", "author": {"user": {"login": "anhminhtran235", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/5fba81abfaabde085f663aad83538174b0592907", "committedDate": "2020-10-21T20:50:16Z", "message": "Issue #8895: FinalLocalVariable: NPE in records"}, "afterCommit": {"oid": "ed32255a4e30adf9f41dd29b0e070cbc8d84419d", "author": {"user": {"login": "anhminhtran235", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/ed32255a4e30adf9f41dd29b0e070cbc8d84419d", "committedDate": "2020-10-21T21:17:42Z", "message": "Issue #8895: FinalLocalVariable: NPE in records"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ed32255a4e30adf9f41dd29b0e070cbc8d84419d", "author": {"user": {"login": "anhminhtran235", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/ed32255a4e30adf9f41dd29b0e070cbc8d84419d", "committedDate": "2020-10-21T21:17:42Z", "message": "Issue #8895: FinalLocalVariable: NPE in records"}, "afterCommit": {"oid": "b51a239404f549bf22981fc59bb3701be017f775", "author": {"user": {"login": "anhminhtran235", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/b51a239404f549bf22981fc59bb3701be017f775", "committedDate": "2020-10-21T21:19:13Z", "message": "Issue #8895: FinalLocalVariable: NPE in records"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b51a239404f549bf22981fc59bb3701be017f775", "author": {"user": {"login": "anhminhtran235", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/b51a239404f549bf22981fc59bb3701be017f775", "committedDate": "2020-10-21T21:19:13Z", "message": "Issue #8895: FinalLocalVariable: NPE in records"}, "afterCommit": {"oid": "b6dad2ab55ff03416e7549a8afcc77f589b2d5a3", "author": {"user": {"login": "anhminhtran235", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/b6dad2ab55ff03416e7549a8afcc77f589b2d5a3", "committedDate": "2020-10-21T21:34:15Z", "message": "Issue #8895: FinalLocalVariable: NPE in records"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b6dad2ab55ff03416e7549a8afcc77f589b2d5a3", "author": {"user": {"login": "anhminhtran235", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/b6dad2ab55ff03416e7549a8afcc77f589b2d5a3", "committedDate": "2020-10-21T21:34:15Z", "message": "Issue #8895: FinalLocalVariable: NPE in records"}, "afterCommit": {"oid": "2f42360a2a59f4c71480659ebddf86648ab993d1", "author": {"user": {"login": "anhminhtran235", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/2f42360a2a59f4c71480659ebddf86648ab993d1", "committedDate": "2020-10-21T22:06:48Z", "message": "Issue #8895: FinalLocalVariable: NPE in records"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2f42360a2a59f4c71480659ebddf86648ab993d1", "author": {"user": {"login": "anhminhtran235", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/2f42360a2a59f4c71480659ebddf86648ab993d1", "committedDate": "2020-10-21T22:06:48Z", "message": "Issue #8895: FinalLocalVariable: NPE in records"}, "afterCommit": {"oid": "b701a8ae3e14ec769c6dad22baeaaa24cf59cade", "author": {"user": {"login": "anhminhtran235", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/b701a8ae3e14ec769c6dad22baeaaa24cf59cade", "committedDate": "2020-10-21T22:07:52Z", "message": "Issue #8895: FinalLocalVariable: NPE in records"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b701a8ae3e14ec769c6dad22baeaaa24cf59cade", "author": {"user": {"login": "anhminhtran235", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/b701a8ae3e14ec769c6dad22baeaaa24cf59cade", "committedDate": "2020-10-21T22:07:52Z", "message": "Issue #8895: FinalLocalVariable: NPE in records"}, "afterCommit": {"oid": "baa22dc793c3450665bc77066c85f2107029ce22", "author": {"user": {"login": "anhminhtran235", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/baa22dc793c3450665bc77066c85f2107029ce22", "committedDate": "2020-10-22T00:14:06Z", "message": "Issue #8895: FinalLocalVariable: NPE in records"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2MTc3ODQ4", "url": "https://github.com/checkstyle/checkstyle/pull/8913#pullrequestreview-516177848", "createdAt": "2020-10-24T07:29:03Z", "commit": {"oid": "baa22dc793c3450665bc77066c85f2107029ce22"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNFQwNzoyOTowM1rOHnpPhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNFQwNzoyOTozOFrOHnpPxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTMzMjIyOA==", "bodyText": "Please add a positive test case, something like inner record with\n    record bad(int i) {\n        public bad {\n            int a = 0; // violation\n        }\n    }", "url": "https://github.com/checkstyle/checkstyle/pull/8913#discussion_r511332228", "createdAt": "2020-10-24T07:29:03Z", "author": {"login": "pbludov"}, "path": "src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/coding/finallocalvariable/InputFinalLocalVariableCheckRecords.java", "diffHunk": "@@ -0,0 +1,12 @@\n+//non-compiled with javac: Compilable with Java14\n+package com.puppycrawl.tools.checkstyle.checks.coding.finallocalvariable;\n+\n+/* Config:\n+ * None\n+ */\n+public record InputFinalLocalVariableCheckRecords(boolean t, boolean f) {\n+    public InputFinalLocalVariableCheckRecords { // ok\n+        int a = 0;\n+        a = 1;\n+    }\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "baa22dc793c3450665bc77066c85f2107029ce22"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTMzMjI5NA==", "bodyText": "None -> default", "url": "https://github.com/checkstyle/checkstyle/pull/8913#discussion_r511332294", "createdAt": "2020-10-24T07:29:38Z", "author": {"login": "pbludov"}, "path": "src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/coding/finallocalvariable/InputFinalLocalVariableCheckRecords.java", "diffHunk": "@@ -0,0 +1,12 @@\n+//non-compiled with javac: Compilable with Java14\n+package com.puppycrawl.tools.checkstyle.checks.coding.finallocalvariable;\n+\n+/* Config:\n+ * None", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "baa22dc793c3450665bc77066c85f2107029ce22"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "baa22dc793c3450665bc77066c85f2107029ce22", "author": {"user": {"login": "anhminhtran235", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/baa22dc793c3450665bc77066c85f2107029ce22", "committedDate": "2020-10-22T00:14:06Z", "message": "Issue #8895: FinalLocalVariable: NPE in records"}, "afterCommit": {"oid": "5b11c640400aa06205574101966a54d89ef8dc6b", "author": {"user": {"login": "anhminhtran235", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/5b11c640400aa06205574101966a54d89ef8dc6b", "committedDate": "2020-10-24T17:26:47Z", "message": "Issue #8895: FinalLocalVariable: NPE in records"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5b11c640400aa06205574101966a54d89ef8dc6b", "author": {"user": {"login": "anhminhtran235", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/5b11c640400aa06205574101966a54d89ef8dc6b", "committedDate": "2020-10-24T17:26:47Z", "message": "Issue #8895: FinalLocalVariable: NPE in records"}, "afterCommit": {"oid": "6e7e288f157b58aa83ccddf0bcf0c9bfd9ca52d9", "author": {"user": {"login": "anhminhtran235", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/6e7e288f157b58aa83ccddf0bcf0c9bfd9ca52d9", "committedDate": "2020-10-24T17:28:09Z", "message": "Issue #8895: FinalLocalVariable: NPE in records"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2MjkzOTU5", "url": "https://github.com/checkstyle/checkstyle/pull/8913#pullrequestreview-516293959", "createdAt": "2020-10-24T17:33:18Z", "commit": {"oid": "6e7e288f157b58aa83ccddf0bcf0c9bfd9ca52d9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNFQxNzozMzoxOFrOHnzMbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNFQxNzozMzoxOFrOHnzMbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTQ5NTI3OQ==", "bodyText": "The test expects violation at  \"15:17\", please move // violation comment to line 15", "url": "https://github.com/checkstyle/checkstyle/pull/8913#discussion_r511495279", "createdAt": "2020-10-24T17:33:18Z", "author": {"login": "pbludov"}, "path": "src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/checks/coding/finallocalvariable/InputFinalLocalVariableCheckRecords.java", "diffHunk": "@@ -0,0 +1,19 @@\n+//non-compiled with javac: Compilable with Java14\n+package com.puppycrawl.tools.checkstyle.checks.coding.finallocalvariable;\n+\n+/* Config:\n+ * default\n+ */\n+public record InputFinalLocalVariableCheckRecords(boolean t, boolean f) {\n+    public InputFinalLocalVariableCheckRecords {\n+        int a = 0; // ok\n+        a = 1;\n+    }\n+\n+    record bad(int i) {\n+        public bad {\n+            int b = 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e7e288f157b58aa83ccddf0bcf0c9bfd9ca52d9"}, "originalPosition": 15}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6e7e288f157b58aa83ccddf0bcf0c9bfd9ca52d9", "author": {"user": {"login": "anhminhtran235", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/6e7e288f157b58aa83ccddf0bcf0c9bfd9ca52d9", "committedDate": "2020-10-24T17:28:09Z", "message": "Issue #8895: FinalLocalVariable: NPE in records"}, "afterCommit": {"oid": "c214d31f5dfd6a2ab5580b94d058e0b1a9ab8b3d", "author": {"user": {"login": "anhminhtran235", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/c214d31f5dfd6a2ab5580b94d058e0b1a9ab8b3d", "committedDate": "2020-10-24T18:18:48Z", "message": "Issue #8895: FinalLocalVariable: NPE in records"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9013ba1d2d5051ff83dc07439b60957f14824a77", "author": {"user": {"login": "anhminhtran235", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/9013ba1d2d5051ff83dc07439b60957f14824a77", "committedDate": "2020-10-24T18:20:06Z", "message": "Issue #8895: FinalLocalVariable: NPE in records"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c214d31f5dfd6a2ab5580b94d058e0b1a9ab8b3d", "author": {"user": {"login": "anhminhtran235", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/c214d31f5dfd6a2ab5580b94d058e0b1a9ab8b3d", "committedDate": "2020-10-24T18:18:48Z", "message": "Issue #8895: FinalLocalVariable: NPE in records"}, "afterCommit": {"oid": "9013ba1d2d5051ff83dc07439b60957f14824a77", "author": {"user": {"login": "anhminhtran235", "name": null}}, "url": "https://github.com/checkstyle/checkstyle/commit/9013ba1d2d5051ff83dc07439b60957f14824a77", "committedDate": "2020-10-24T18:20:06Z", "message": "Issue #8895: FinalLocalVariable: NPE in records"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2Mjk3MjE3", "url": "https://github.com/checkstyle/checkstyle/pull/8913#pullrequestreview-516297217", "createdAt": "2020-10-24T18:22:22Z", "commit": {"oid": "9013ba1d2d5051ff83dc07439b60957f14824a77"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NDA4NDU4", "url": "https://github.com/checkstyle/checkstyle/pull/8913#pullrequestreview-516408458", "createdAt": "2020-10-25T23:25:16Z", "commit": {"oid": "9013ba1d2d5051ff83dc07439b60957f14824a77"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NTA0MDg2", "url": "https://github.com/checkstyle/checkstyle/pull/8913#pullrequestreview-516504086", "createdAt": "2020-10-26T06:58:17Z", "commit": {"oid": "9013ba1d2d5051ff83dc07439b60957f14824a77"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1370, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}