{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwMTM0OTM3", "number": 8491, "title": "Issue #8447: add ability to create single report", "bodyText": "Issue: #8447\nUpdate diff_report.yml file: added the ability to create report only for patch branch (for example, for new checks).\nIf issue comment is \"diff report\", then a basic difference report will be generated.\nIf issue comment is \"single report\", then a basic single report will be generated.\nExample: OvchinnikovNV#2", "createdAt": "2020-07-16T11:52:11Z", "url": "https://github.com/checkstyle/checkstyle/pull/8491", "merged": true, "mergeCommit": {"oid": "d091b676e7729ce5f4d73372d83f0664726da45c"}, "closed": true, "closedAt": "2020-07-17T06:40:17Z", "author": {"login": "OvchinnikovNV"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc1eCk1AFqTQ0OTc3NjI3OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1uAYVgFqTQ1MDQwNzY5Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5Nzc2Mjc4", "url": "https://github.com/checkstyle/checkstyle/pull/8491#pullrequestreview-449776278", "createdAt": "2020-07-16T11:56:22Z", "commit": {"oid": "57db587492131b66bf698d71f7f7bd035eadb6e9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxMTo1NjoyMlrOGynolw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxMjowMzo0MVrOGyn23A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTczMTM1MQ==", "bodyText": "Please indent it on same level as github.event.comment.body == 'diff report'", "url": "https://github.com/checkstyle/checkstyle/pull/8491#discussion_r455731351", "createdAt": "2020-07-16T11:56:22Z", "author": {"login": "strkkk"}, "path": ".github/workflows/diff_report.yml", "diffHunk": "@@ -22,7 +22,8 @@ on:\n jobs:\n # Parse PR Body, search for links to .properties and .xml files\n   parse_body:\n-    if: github.event.comment.body == 'report'\n+    if: github.event.comment.body == 'diff report' ||\n+      github.event.comment.body == 'single report'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57db587492131b66bf698d71f7f7bd035eadb6e9"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTczNDYyNw==", "bodyText": "sudo apt install groovy\nThis can be moved to previous step \"Relocate .xml and .properties \". And \"Relocate .xml and .properties\" can be changed to \"Prepare environment\" or something like this", "url": "https://github.com/checkstyle/checkstyle/pull/8491#discussion_r455734627", "createdAt": "2020-07-16T12:02:51Z", "author": {"login": "strkkk"}, "path": ".github/workflows/diff_report.yml", "diffHunk": "@@ -94,14 +95,25 @@ jobs:\n          mv config.xml ./contribution/checkstyle-tester/\n          mv project.properties ./contribution/checkstyle-tester/\n          \n-     - name: Generate report\n+     - name: Generate basic difference report\n+       if: github.event.comment.body == 'diff report'\n        run: |\n+         sudo apt install groovy\n+         cd contribution/checkstyle-tester\n          bash\n          REF=\"origin/${{needs.parse_body.outputs.branch}}\"\n          REPO=\"../../checkstyle\"\n-         cd contribution/checkstyle-tester\n-         sudo apt install groovy\n          groovy diff.groovy -r $REPO -b master -p $REF -c config.xml -l project.properties\n+         \n+     - name: Generate basic single report\n+       if: github.event.comment.body == 'single report'\n+       run: |\n+         sudo apt install groovy", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57db587492131b66bf698d71f7f7bd035eadb6e9"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTczNDkwMg==", "bodyText": "REF=\"origin/${{needs.parse_body.outputs.branch}}\"\nIt looks like this one can be extracted, because it is constant.", "url": "https://github.com/checkstyle/checkstyle/pull/8491#discussion_r455734902", "createdAt": "2020-07-16T12:03:28Z", "author": {"login": "strkkk"}, "path": ".github/workflows/diff_report.yml", "diffHunk": "@@ -94,14 +95,25 @@ jobs:\n          mv config.xml ./contribution/checkstyle-tester/\n          mv project.properties ./contribution/checkstyle-tester/\n          \n-     - name: Generate report\n+     - name: Generate basic difference report\n+       if: github.event.comment.body == 'diff report'\n        run: |\n+         sudo apt install groovy\n+         cd contribution/checkstyle-tester\n          bash\n          REF=\"origin/${{needs.parse_body.outputs.branch}}\"\n          REPO=\"../../checkstyle\"\n-         cd contribution/checkstyle-tester\n-         sudo apt install groovy\n          groovy diff.groovy -r $REPO -b master -p $REF -c config.xml -l project.properties\n+         \n+     - name: Generate basic single report\n+       if: github.event.comment.body == 'single report'\n+       run: |\n+         sudo apt install groovy\n+         cd contribution/checkstyle-tester\n+         bash\n+         REF=\"origin/${{needs.parse_body.outputs.branch}}\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57db587492131b66bf698d71f7f7bd035eadb6e9"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTczNTAwNA==", "bodyText": "this one as well", "url": "https://github.com/checkstyle/checkstyle/pull/8491#discussion_r455735004", "createdAt": "2020-07-16T12:03:41Z", "author": {"login": "strkkk"}, "path": ".github/workflows/diff_report.yml", "diffHunk": "@@ -94,14 +95,25 @@ jobs:\n          mv config.xml ./contribution/checkstyle-tester/\n          mv project.properties ./contribution/checkstyle-tester/\n          \n-     - name: Generate report\n+     - name: Generate basic difference report\n+       if: github.event.comment.body == 'diff report'\n        run: |\n+         sudo apt install groovy\n+         cd contribution/checkstyle-tester\n          bash\n          REF=\"origin/${{needs.parse_body.outputs.branch}}\"\n          REPO=\"../../checkstyle\"\n-         cd contribution/checkstyle-tester\n-         sudo apt install groovy\n          groovy diff.groovy -r $REPO -b master -p $REF -c config.xml -l project.properties\n+         \n+     - name: Generate basic single report\n+       if: github.event.comment.body == 'single report'\n+       run: |\n+         sudo apt install groovy\n+         cd contribution/checkstyle-tester\n+         bash\n+         REF=\"origin/${{needs.parse_body.outputs.branch}}\"\n+         REPO=\"../../checkstyle\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57db587492131b66bf698d71f7f7bd035eadb6e9"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2db7a9ebd4afa7ddd951d0478381f6e474ed529", "author": {"user": {"login": "OvchinnikovNV", "name": "Ovchinnikov Nikita"}}, "url": "https://github.com/checkstyle/checkstyle/commit/b2db7a9ebd4afa7ddd951d0478381f6e474ed529", "committedDate": "2020-07-16T20:54:57Z", "message": "Issue #8447: add ability to create single report"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwNDA3Njky", "url": "https://github.com/checkstyle/checkstyle/pull/8491#pullrequestreview-450407692", "createdAt": "2020-07-17T06:40:07Z", "commit": {"oid": "b2db7a9ebd4afa7ddd951d0478381f6e474ed529"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 486, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}