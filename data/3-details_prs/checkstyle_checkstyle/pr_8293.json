{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2MTc0NDk1", "number": 8293, "title": "Issue #8023: Update grammar for initial record support", "bodyText": "Issue #8023: Update grammar for initial record support\nTO DO:\n\n\n Unit tests (including ASTRegressionTest after #8290 is merged)\n\n\n Modify grammar to avoid \"record\" in variable declaration:\n\n  \n    \n      checkstyle/src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/grammar/java14/InputJava14Records.java\n    \n    \n        Lines 103 to 104\n      in\n      2c33bb0\n    \n    \n    \n    \n\n        \n          \n           LogRecord record; \n        \n\n        \n          \n           record = new LogRecord(Level.ALL, \"abc\"); \n        \n    \n  \n\n\n\n\n Modify grammar to handle no arg record constructor:\n\n  \n    \n      checkstyle/src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/grammar/java14/InputJava14Records.java\n    \n    \n        Lines 46 to 49\n      in\n      2c33bb0\n    \n    \n    \n    \n\n        \n          \n           public Thing { \n        \n\n        \n          \n               Objects.requireNonNull(name1); \n        \n\n        \n          \n               Objects.requireNonNull(name2); \n        \n\n        \n          \n           } \n        \n    \n  \n\n\n\n\nMentors, please feel free to edit this post to add more items in TODO, or reply and I will add them.", "createdAt": "2020-06-01T19:37:14Z", "url": "https://github.com/checkstyle/checkstyle/pull/8293", "merged": true, "mergeCommit": {"oid": "84f33ead7a46af04a190a4f9d3b6434687da862d"}, "closed": true, "closedAt": "2020-07-09T07:18:53Z", "author": {"login": "nmancus1"}, "timelineItems": {"totalCount": 44, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcnw7LygBqjM0MDQyNTIyNzY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABczJw1FAFqTQ0NTM0ODgxOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "010cc5fae18db4ca101a542d3e3dfabc09419e4f", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/010cc5fae18db4ca101a542d3e3dfabc09419e4f", "committedDate": "2020-06-01T19:27:44Z", "message": "Issue #8023: Update grammar for initial record support"}, "afterCommit": {"oid": "eb9a4c0a667913c60b0a6006c4ce83f38efa085e", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/eb9a4c0a667913c60b0a6006c4ce83f38efa085e", "committedDate": "2020-06-03T22:08:47Z", "message": "Issue #8023: Update grammar for initial record support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "eb9a4c0a667913c60b0a6006c4ce83f38efa085e", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/eb9a4c0a667913c60b0a6006c4ce83f38efa085e", "committedDate": "2020-06-03T22:08:47Z", "message": "Issue #8023: Update grammar for initial record support"}, "afterCommit": {"oid": "4e65c03460cea3180f5bd9c88238840b0203e82e", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/4e65c03460cea3180f5bd9c88238840b0203e82e", "committedDate": "2020-06-03T22:50:43Z", "message": "Issue #8023: Update grammar for initial record support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4e65c03460cea3180f5bd9c88238840b0203e82e", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/4e65c03460cea3180f5bd9c88238840b0203e82e", "committedDate": "2020-06-03T22:50:43Z", "message": "Issue #8023: Update grammar for initial record support"}, "afterCommit": {"oid": "fc5fece89ff4596184c5e0ee4eba942f059715a6", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/fc5fece89ff4596184c5e0ee4eba942f059715a6", "committedDate": "2020-06-04T21:26:32Z", "message": "Issue #8023: Update grammar for initial record support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fc5fece89ff4596184c5e0ee4eba942f059715a6", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/fc5fece89ff4596184c5e0ee4eba942f059715a6", "committedDate": "2020-06-04T21:26:32Z", "message": "Issue #8023: Update grammar for initial record support"}, "afterCommit": {"oid": "314a91e19ce90761c152cfcca9470cfae208f138", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/314a91e19ce90761c152cfcca9470cfae208f138", "committedDate": "2020-06-04T21:36:29Z", "message": "Issue #8023: Update grammar for initial record support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "314a91e19ce90761c152cfcca9470cfae208f138", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/314a91e19ce90761c152cfcca9470cfae208f138", "committedDate": "2020-06-04T21:36:29Z", "message": "Issue #8023: Update grammar for initial record support"}, "afterCommit": {"oid": "7a9bf1da1e40f12acea7ea269790da8a80f1cf35", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/7a9bf1da1e40f12acea7ea269790da8a80f1cf35", "committedDate": "2020-06-05T00:03:29Z", "message": "Issue #8023: Update grammar for initial record support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7a9bf1da1e40f12acea7ea269790da8a80f1cf35", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/7a9bf1da1e40f12acea7ea269790da8a80f1cf35", "committedDate": "2020-06-05T00:03:29Z", "message": "Issue #8023: Update grammar for initial record support"}, "afterCommit": {"oid": "d2d7fa74397c87daae9682e5e53ac7e4a25220fd", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/d2d7fa74397c87daae9682e5e53ac7e4a25220fd", "committedDate": "2020-06-05T16:18:22Z", "message": "Issue #8023: Update grammar for initial record support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d2d7fa74397c87daae9682e5e53ac7e4a25220fd", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/d2d7fa74397c87daae9682e5e53ac7e4a25220fd", "committedDate": "2020-06-05T16:18:22Z", "message": "Issue #8023: Update grammar for initial record support"}, "afterCommit": {"oid": "cba7fc26255174ed31e04c7e619ffb8811bb4f06", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/cba7fc26255174ed31e04c7e619ffb8811bb4f06", "committedDate": "2020-06-05T17:48:37Z", "message": "Issue #8023: Update grammar for initial record support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cba7fc26255174ed31e04c7e619ffb8811bb4f06", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/cba7fc26255174ed31e04c7e619ffb8811bb4f06", "committedDate": "2020-06-05T17:48:37Z", "message": "Issue #8023: Update grammar for initial record support"}, "afterCommit": {"oid": "dd5d03712ef0f935d7b27af4bfbc884f27e59f84", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/dd5d03712ef0f935d7b27af4bfbc884f27e59f84", "committedDate": "2020-06-05T19:31:19Z", "message": "Issue #8023: Update grammar for initial record support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dd5d03712ef0f935d7b27af4bfbc884f27e59f84", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/dd5d03712ef0f935d7b27af4bfbc884f27e59f84", "committedDate": "2020-06-05T19:31:19Z", "message": "Issue #8023: Update grammar for initial record support"}, "afterCommit": {"oid": "d77d8dc20f39e2eab8bfd74afecca39a50788ae8", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/d77d8dc20f39e2eab8bfd74afecca39a50788ae8", "committedDate": "2020-06-05T20:14:59Z", "message": "Issue #8023: Update grammar for initial record support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d77d8dc20f39e2eab8bfd74afecca39a50788ae8", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/d77d8dc20f39e2eab8bfd74afecca39a50788ae8", "committedDate": "2020-06-05T20:14:59Z", "message": "Issue #8023: Update grammar for initial record support"}, "afterCommit": {"oid": "6e12ca720c8c8ed871c382b7a5deef972f359728", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/6e12ca720c8c8ed871c382b7a5deef972f359728", "committedDate": "2020-06-06T12:20:11Z", "message": "Issue #8023: Update grammar for initial record support"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2NzA5Njc4", "url": "https://github.com/checkstyle/checkstyle/pull/8293#pullrequestreview-426709678", "createdAt": "2020-06-09T00:28:12Z", "commit": {"oid": "6e12ca720c8c8ed871c382b7a5deef972f359728"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwMDoyODoxMlrOGg0vdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQwMDo1MDoyM1rOGg1E-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzA3MTczMg==", "bodyText": "looks like this record's indentation got off (I assume unintentionally?)", "url": "https://github.com/checkstyle/checkstyle/pull/8293#discussion_r437071732", "createdAt": "2020-06-09T00:28:12Z", "author": {"login": "esilkensen"}, "path": "src/test/resources-noncompilable/com/puppycrawl/tools/checkstyle/grammar/java14/InputJava14Records.java", "diffHunk": "@@ -24,15 +35,15 @@ public record AnnotatedBinaryNode(@NonNull1 Node left, @NonNull1 Node right) { }\n \n     //Implements interface\n     public record Polar(double r, double theta) implements Coords {\n-        @Override\n-        public double x() {\n-            return r * Math.cos(theta);\n-        }\n+    @Override", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e12ca720c8c8ed871c382b7a5deef972f359728"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzA3NzI0MQ==", "bodyText": "I wondered about an approach like this as well -- I think it may be hard to catch all the cases, though (e.g. record[], record ->, record<T>, etc.), or to really decide keyword vs. identifier in the lexer (what about class record extends Object), and seems like it could be difficult to maintain.\nIt makes me wonder again about leaving record as an IDENT as far as the lexer is concerned, and just trying to deal with it in the grammar rule. I know you have already been down multiple paths with predicates -- I will take a look myself a little later tonight and see if anything strikes me...", "url": "https://github.com/checkstyle/checkstyle/pull/8293#discussion_r437077241", "createdAt": "2020-06-09T00:50:23Z", "author": {"login": "esilkensen"}, "path": "src/main/resources/com/puppycrawl/tools/checkstyle/grammar/java.g", "diffHunk": "@@ -1966,6 +2014,17 @@ IDENT\n             if (mTreatEnumAsKeyword && \"enum\".equals($getText)) {\n                 $setType(ENUM);\n             }\n+            // records must not be in literal list, else legacy usage of records\n+            // i.e. \"LogRecord record = log();\" as a variable and method name\n+            // cause false positives. The 'keyword as identifier' problem.\n+            if (mTreatRecordAsKeyword\n+                && \"record\".equals($getText)\n+                && LA(2) != '=' && LA(1) != ';'\n+                && LA(1) != ')' && LA(1) != '.'\n+                && LA(1) != ',' && LA(1) != '('\n+                && LA(2) != ':') {\n+                $setType(RECORD);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e12ca720c8c8ed871c382b7a5deef972f359728"}, "originalPosition": 100}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6e12ca720c8c8ed871c382b7a5deef972f359728", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/6e12ca720c8c8ed871c382b7a5deef972f359728", "committedDate": "2020-06-06T12:20:11Z", "message": "Issue #8023: Update grammar for initial record support"}, "afterCommit": {"oid": "114bc18f85e96ac1645668ecf930f050f45bc772", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/114bc18f85e96ac1645668ecf930f050f45bc772", "committedDate": "2020-06-10T21:27:17Z", "message": "Issue #8023: Update grammar for initial record support"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "114bc18f85e96ac1645668ecf930f050f45bc772", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/114bc18f85e96ac1645668ecf930f050f45bc772", "committedDate": "2020-06-10T21:27:17Z", "message": "Issue #8023: Update grammar for initial record support"}, "afterCommit": {"oid": "0449997102639d5a55a6de5bc25873b34aa23120", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/0449997102639d5a55a6de5bc25873b34aa23120", "committedDate": "2020-06-11T16:23:33Z", "message": "minor: lower coverage minimum for GeneratedJavaLexer.java (#8023)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0449997102639d5a55a6de5bc25873b34aa23120", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/0449997102639d5a55a6de5bc25873b34aa23120", "committedDate": "2020-06-11T16:23:33Z", "message": "minor: lower coverage minimum for GeneratedJavaLexer.java (#8023)"}, "afterCommit": {"oid": "4ed97924681a515317830afd3406520cfb480741", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/4ed97924681a515317830afd3406520cfb480741", "committedDate": "2020-06-11T17:24:56Z", "message": "minor: lower coverage minimum for GeneratedJavaLexer.java (#8023)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4ed97924681a515317830afd3406520cfb480741", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/4ed97924681a515317830afd3406520cfb480741", "committedDate": "2020-06-11T17:24:56Z", "message": "minor: lower coverage minimum for GeneratedJavaLexer.java (#8023)"}, "afterCommit": {"oid": "af2bd54772e77ab7f9b3311f2736944cb5d03924", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/af2bd54772e77ab7f9b3311f2736944cb5d03924", "committedDate": "2020-06-12T14:37:17Z", "message": "minor: lower coverage minimum for GeneratedJavaLexer.java (#8023)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5ODEzNTI5", "url": "https://github.com/checkstyle/checkstyle/pull/8293#pullrequestreview-429813529", "createdAt": "2020-06-12T14:59:45Z", "commit": {"oid": "af2bd54772e77ab7f9b3311f2736944cb5d03924"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNDo1OTo0NVrOGjHQ1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQxNDo1OTo0NVrOGjHQ1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTQ3MjM0Mw==", "bodyText": "nit: looks like the commit message references the wrong file (Lexer instead of Recognizer)", "url": "https://github.com/checkstyle/checkstyle/pull/8293#discussion_r439472343", "createdAt": "2020-06-12T14:59:45Z", "author": {"login": "esilkensen"}, "path": "pom.xml", "diffHunk": "@@ -906,7 +906,7 @@\n                     <limit>\n                       <counter>BRANCH</counter>\n                       <value>COVEREDRATIO</value>\n-                      <minimum>0.73</minimum>\n+                      <minimum>0.72</minimum>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "af2bd54772e77ab7f9b3311f2736944cb5d03924"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "af2bd54772e77ab7f9b3311f2736944cb5d03924", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/af2bd54772e77ab7f9b3311f2736944cb5d03924", "committedDate": "2020-06-12T14:37:17Z", "message": "minor: lower coverage minimum for GeneratedJavaLexer.java (#8023)"}, "afterCommit": {"oid": "4ea08c672a18154d44f393758bc4ce67ea18440b", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/4ea08c672a18154d44f393758bc4ce67ea18440b", "committedDate": "2020-06-12T15:05:08Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4ea08c672a18154d44f393758bc4ce67ea18440b", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/4ea08c672a18154d44f393758bc4ce67ea18440b", "committedDate": "2020-06-12T15:05:08Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}, "afterCommit": {"oid": "b6631dbf417ac4a5b4c3d7fb67073883054c05f3", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/b6631dbf417ac4a5b4c3d7fb67073883054c05f3", "committedDate": "2020-06-14T15:15:01Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b6631dbf417ac4a5b4c3d7fb67073883054c05f3", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/b6631dbf417ac4a5b4c3d7fb67073883054c05f3", "committedDate": "2020-06-14T15:15:01Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}, "afterCommit": {"oid": "a6ae552a0470add65fb752effcc84997757532ac", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/a6ae552a0470add65fb752effcc84997757532ac", "committedDate": "2020-06-15T14:32:19Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a6ae552a0470add65fb752effcc84997757532ac", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/a6ae552a0470add65fb752effcc84997757532ac", "committedDate": "2020-06-15T14:32:19Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}, "afterCommit": {"oid": "20015f723d5fa4203178208d18f706ea4156c3d0", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/20015f723d5fa4203178208d18f706ea4156c3d0", "committedDate": "2020-06-15T14:40:07Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyMTM0MDU4", "url": "https://github.com/checkstyle/checkstyle/pull/8293#pullrequestreview-432134058", "createdAt": "2020-06-17T07:35:58Z", "commit": {"oid": "20015f723d5fa4203178208d18f706ea4156c3d0"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwNzozNTo1OFrOGk5Xcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QwNzo0MzowN1rOGk5njQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM0MTgxMA==", "bodyText": "What do you think about naming this recordDefinition to fit in with enumDefinition, annotationDefinition, etc.? (If you think that makes sense, no need to rerun reports just for that renaming)", "url": "https://github.com/checkstyle/checkstyle/pull/8293#discussion_r441341810", "createdAt": "2020-06-17T07:35:58Z", "author": {"login": "esilkensen"}, "path": "src/main/resources/com/puppycrawl/tools/checkstyle/grammar/java.g", "diffHunk": "@@ -254,6 +257,7 @@ typeDefinitionInternal[AST modifiers]\n     | interfaceDefinition[#modifiers]\n     | enumDefinition[#modifiers]\n     | annotationDefinition[#modifiers]\n+    | recordDeclaration[#modifiers]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20015f723d5fa4203178208d18f706ea4156c3d0"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM0MjAxNA==", "bodyText": "intentional?", "url": "https://github.com/checkstyle/checkstyle/pull/8293#discussion_r441342014", "createdAt": "2020-06-17T07:36:17Z", "author": {"login": "esilkensen"}, "path": "src/main/resources/com/puppycrawl/tools/checkstyle/grammar/java.g", "diffHunk": "@@ -543,9 +547,60 @@ annotationExpression\n         {#annotationExpression = #(#[EXPR,\"EXPR\"],#annotationExpression);}\n     ;\n \n+\n+recordDeclaration![AST modifiers]\n+    :   r:\"record\" id:id\n+        (tp:typeParameters)?\n+        rc:recordComponentsList\n+        ic:implementsClause\n+        rb:recordBodyDeclaration\n+        {#recordDeclaration = #(#[RECORD_DEF, \"RECORD_DEF\"],\n+                              modifiers, r, id, rc);}\n+    ;\n+\n+// Build no AST for below rules until full records support\n+recordComponentsList!\n+    :   LPAREN recordComponents RPAREN\n+    ;\n+\n+recordComponents!\n+    // Taken from parameterDeclarationList\n+    :   (   ( recordComponent )=> recordComponent\n+            ( options {warnWhenFollowAmbig=false;} :\n+                ( COMMA recordComponent ) => COMMA recordComponent )*\n+            ( COMMA recordComponentVariableLength )?\n+        |\n+            recordComponentVariableLength\n+        )?\n+    ;\n+\n+recordComponentVariableLength!\n+    :   parameterModifier t:variableLengthParameterTypeSpec ELLIPSIS id\n+        declaratorBrackets[#t]\n+    ;\n+\n+recordComponent!\n+    :   annotations typeSpec[false] id\n+    ;\n+\n+recordBodyDeclaration!\n+    :   LCURLY\n+        (   (compactConstructorDeclaration)=> compactConstructorDeclaration\n+        |   field\n+        |   SEMI\n+        )*\n+        RCURLY\n+    ;\n+\n+compactConstructorDeclaration!\n+    :    annotations modifiers id\n+            constructorBody\n+    ;\n+//", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20015f723d5fa4203178208d18f706ea4156c3d0"}, "originalPosition": 121}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTM0NTkzMw==", "bodyText": "Could potentially link to #8267", "url": "https://github.com/checkstyle/checkstyle/pull/8293#discussion_r441345933", "createdAt": "2020-06-17T07:43:07Z", "author": {"login": "esilkensen"}, "path": "src/main/resources/com/puppycrawl/tools/checkstyle/grammar/java.g", "diffHunk": "@@ -543,9 +547,60 @@ annotationExpression\n         {#annotationExpression = #(#[EXPR,\"EXPR\"],#annotationExpression);}\n     ;\n \n+\n+recordDeclaration![AST modifiers]\n+    :   r:\"record\" id:id\n+        (tp:typeParameters)?\n+        rc:recordComponentsList\n+        ic:implementsClause\n+        rb:recordBodyDeclaration\n+        {#recordDeclaration = #(#[RECORD_DEF, \"RECORD_DEF\"],\n+                              modifiers, r, id, rc);}\n+    ;\n+\n+// Build no AST for below rules until full records support", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20015f723d5fa4203178208d18f706ea4156c3d0"}, "originalPosition": 83}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "20015f723d5fa4203178208d18f706ea4156c3d0", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/20015f723d5fa4203178208d18f706ea4156c3d0", "committedDate": "2020-06-15T14:40:07Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}, "afterCommit": {"oid": "9851538ea5142b1bf3021e7bdc80589b12c89851", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/9851538ea5142b1bf3021e7bdc80589b12c89851", "committedDate": "2020-06-18T05:55:08Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzMzA2MDE2", "url": "https://github.com/checkstyle/checkstyle/pull/8293#pullrequestreview-433306016", "createdAt": "2020-06-18T13:53:21Z", "commit": {"oid": "9851538ea5142b1bf3021e7bdc80589b12c89851"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxMzo1MzoyMlrOGlwYbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQxMzo1MzoyMlrOGlwYbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjI0MzE4Mw==", "bodyText": "This blank line has a pair on line 1668 (1732). Please remove both of them or none of them.", "url": "https://github.com/checkstyle/checkstyle/pull/8293#discussion_r442243183", "createdAt": "2020-06-18T13:53:22Z", "author": {"login": "pbludov"}, "path": "src/main/resources/com/puppycrawl/tools/checkstyle/grammar/java.g", "diffHunk": "@@ -1693,7 +1757,6 @@ options {\n     {\n         mTreatEnumAsKeyword = aTreatAsKeyword;\n     }\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9851538ea5142b1bf3021e7bdc80589b12c89851"}, "originalPosition": 404}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9851538ea5142b1bf3021e7bdc80589b12c89851", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/9851538ea5142b1bf3021e7bdc80589b12c89851", "committedDate": "2020-06-18T05:55:08Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}, "afterCommit": {"oid": "899a3dfd19f20b9e7d9cc58b879dab454524f1ee", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/899a3dfd19f20b9e7d9cc58b879dab454524f1ee", "committedDate": "2020-06-18T14:28:28Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMzMzY0MjI0", "url": "https://github.com/checkstyle/checkstyle/pull/8293#pullrequestreview-433364224", "createdAt": "2020-06-18T14:51:01Z", "commit": {"oid": "899a3dfd19f20b9e7d9cc58b879dab454524f1ee"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "899a3dfd19f20b9e7d9cc58b879dab454524f1ee", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/899a3dfd19f20b9e7d9cc58b879dab454524f1ee", "committedDate": "2020-06-18T14:28:28Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}, "afterCommit": {"oid": "71258d83ab21e5aa5e6f69a792e5abefc28bf9a2", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/71258d83ab21e5aa5e6f69a792e5abefc28bf9a2", "committedDate": "2020-06-21T12:54:04Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3MDMyMTEz", "url": "https://github.com/checkstyle/checkstyle/pull/8293#pullrequestreview-437032113", "createdAt": "2020-06-24T21:51:05Z", "commit": {"oid": "71258d83ab21e5aa5e6f69a792e5abefc28bf9a2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQyMTo1MTowNVrOGokYBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQyMTo1MTowNVrOGokYBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE5MjE5OA==", "bodyText": "@rnveach\n\nAlso I notice this isn't full record support. Is there another issue defined that will house the full record support?\n\nHere is a link to the issue for full record support", "url": "https://github.com/checkstyle/checkstyle/pull/8293#discussion_r445192198", "createdAt": "2020-06-24T21:51:05Z", "author": {"login": "esilkensen"}, "path": "src/main/resources/com/puppycrawl/tools/checkstyle/grammar/java.g", "diffHunk": "@@ -543,9 +547,61 @@ annotationExpression\n         {#annotationExpression = #(#[EXPR,\"EXPR\"],#annotationExpression);}\n     ;\n \n+\n+recordDefinition![AST modifiers]\n+    :   r:\"record\" id:id\n+        (tp:typeParameters)?\n+        rc:recordComponentsList\n+        ic:implementsClause\n+        rb:recordBodyDeclaration\n+        {#recordDefinition = #(#[RECORD_DEF, \"RECORD_DEF\"],\n+                              modifiers, r, id, rc);}\n+    ;\n+\n+// Build no AST for other record rules until\n+// https://github.com/checkstyle/checkstyle/issues/8267", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71258d83ab21e5aa5e6f69a792e5abefc28bf9a2"}, "originalPosition": 84}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "71258d83ab21e5aa5e6f69a792e5abefc28bf9a2", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/71258d83ab21e5aa5e6f69a792e5abefc28bf9a2", "committedDate": "2020-06-21T12:54:04Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}, "afterCommit": {"oid": "aaaf9d51304f780516e3dc0b3043e298a9687098", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/aaaf9d51304f780516e3dc0b3043e298a9687098", "committedDate": "2020-06-25T14:14:10Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aaaf9d51304f780516e3dc0b3043e298a9687098", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/aaaf9d51304f780516e3dc0b3043e298a9687098", "committedDate": "2020-06-25T14:14:10Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}, "afterCommit": {"oid": "1b9932d1a9cd447ac2b3daa67e9cd203b15180b6", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/1b9932d1a9cd447ac2b3daa67e9cd203b15180b6", "committedDate": "2020-06-26T01:28:41Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1b9932d1a9cd447ac2b3daa67e9cd203b15180b6", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/1b9932d1a9cd447ac2b3daa67e9cd203b15180b6", "committedDate": "2020-06-26T01:28:41Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}, "afterCommit": {"oid": "1d7ea67b55928b8f7448f4f58dce725559b5507d", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/1d7ea67b55928b8f7448f4f58dce725559b5507d", "committedDate": "2020-06-26T04:03:41Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwOTg1MDE0", "url": "https://github.com/checkstyle/checkstyle/pull/8293#pullrequestreview-440985014", "createdAt": "2020-07-01T15:37:55Z", "commit": {"oid": "1d7ea67b55928b8f7448f4f58dce725559b5507d"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxNTozNzo1NVrOGrrNqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQxNjowODozM1rOGrsXBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODQ0OTk2MA==", "bodyText": "I am not sure I would make a bland statement like all Java 14 will be here as we are forced to add new tokens to the end. If some other token needs to be added, java 14 will have to be split between it.", "url": "https://github.com/checkstyle/checkstyle/pull/8293#discussion_r448449960", "createdAt": "2020-07-01T15:37:55Z", "author": {"login": "rnveach"}, "path": "src/main/resources/com/puppycrawl/tools/checkstyle/grammar/java.g", "diffHunk": "@@ -116,6 +116,9 @@ tokens {\n     BINARY_DIGIT; ID_START; ID_PART; INT_LITERAL; LONG_LITERAL;\n     FLOAT_LITERAL; DOUBLE_LITERAL; HEX_FLOAT_LITERAL; HEX_DOUBLE_LITERAL;\n     SIGNED_INTEGER; BINARY_EXPONENT;\n+\n+    //Start Java14 syntax here", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d7ea67b55928b8f7448f4f58dce725559b5507d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODQ1MDM4Mg==", "bodyText": "Why text \"record\" and not LITERAL_record?", "url": "https://github.com/checkstyle/checkstyle/pull/8293#discussion_r448450382", "createdAt": "2020-07-01T15:38:39Z", "author": {"login": "rnveach"}, "path": "src/main/resources/com/puppycrawl/tools/checkstyle/grammar/java.g", "diffHunk": "@@ -543,6 +547,58 @@ annotationExpression\n         {#annotationExpression = #(#[EXPR,\"EXPR\"],#annotationExpression);}\n     ;\n \n+\n+recordDefinition![AST modifiers]\n+    :   r:\"record\" id:id", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d7ea67b55928b8f7448f4f58dce725559b5507d"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODQ1OTQ0NA==", "bodyText": "Is there no ClassBodyDeclaration because of limited record support?", "url": "https://github.com/checkstyle/checkstyle/pull/8293#discussion_r448459444", "createdAt": "2020-07-01T15:53:03Z", "author": {"login": "rnveach"}, "path": "src/main/resources/com/puppycrawl/tools/checkstyle/grammar/java.g", "diffHunk": "@@ -543,6 +547,58 @@ annotationExpression\n         {#annotationExpression = #(#[EXPR,\"EXPR\"],#annotationExpression);}\n     ;\n \n+\n+recordDefinition![AST modifiers]\n+    :   r:\"record\" id:id\n+        (tp:typeParameters)?\n+        rc:recordComponentsList\n+        ic:implementsClause\n+        rb:recordBodyDeclaration\n+        {#recordDefinition = #(#[RECORD_DEF, \"RECORD_DEF\"],\n+                              modifiers, r, id, rc);}\n+    ;\n+\n+// Build no AST for other record rules until\n+// https://github.com/checkstyle/checkstyle/issues/8267\n+recordComponentsList!\n+    :   LPAREN recordComponents RPAREN\n+    ;\n+\n+recordComponents!\n+    // Taken from parameterDeclarationList\n+    :   (   ( recordComponent )=> recordComponent\n+            ( options {warnWhenFollowAmbig=false;} :\n+                ( COMMA recordComponent ) => COMMA recordComponent )*\n+            ( COMMA recordComponentVariableLength )?\n+        |\n+            recordComponentVariableLength\n+        )?\n+    ;\n+\n+recordComponentVariableLength!\n+    :   parameterModifier t:variableLengthParameterTypeSpec ELLIPSIS id\n+        declaratorBrackets[#t]\n+    ;\n+\n+recordComponent!\n+    :   annotations typeSpec[false] id\n+    ;\n+\n+recordBodyDeclaration!\n+    :   LCURLY\n+        (   (compactConstructorDeclaration)=> compactConstructorDeclaration\n+        |   field\n+        |   SEMI", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d7ea67b55928b8f7448f4f58dce725559b5507d"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODQ2ODc0Mw==", "bodyText": "we not adding tp, ic rb because it is incomplete? I noticed the grammar print had nothing.", "url": "https://github.com/checkstyle/checkstyle/pull/8293#discussion_r448468743", "createdAt": "2020-07-01T16:08:33Z", "author": {"login": "rnveach"}, "path": "src/main/resources/com/puppycrawl/tools/checkstyle/grammar/java.g", "diffHunk": "@@ -543,6 +547,58 @@ annotationExpression\n         {#annotationExpression = #(#[EXPR,\"EXPR\"],#annotationExpression);}\n     ;\n \n+\n+recordDefinition![AST modifiers]\n+    :   r:\"record\" id:id\n+        (tp:typeParameters)?\n+        rc:recordComponentsList\n+        ic:implementsClause\n+        rb:recordBodyDeclaration\n+        {#recordDefinition = #(#[RECORD_DEF, \"RECORD_DEF\"],\n+                              modifiers, r, id, rc);}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1d7ea67b55928b8f7448f4f58dce725559b5507d"}, "originalPosition": 30}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1d7ea67b55928b8f7448f4f58dce725559b5507d", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/1d7ea67b55928b8f7448f4f58dce725559b5507d", "committedDate": "2020-06-26T04:03:41Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}, "afterCommit": {"oid": "d3c25d66e74713ec813a52872c2b091622b66ec3", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/d3c25d66e74713ec813a52872c2b091622b66ec3", "committedDate": "2020-07-02T11:56:35Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d3c25d66e74713ec813a52872c2b091622b66ec3", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/d3c25d66e74713ec813a52872c2b091622b66ec3", "committedDate": "2020-07-02T11:56:35Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}, "afterCommit": {"oid": "d9dd24dc259cf9984aa609128b89770dafe5385a", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/d9dd24dc259cf9984aa609128b89770dafe5385a", "committedDate": "2020-07-02T13:21:39Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxNjg0MjI0", "url": "https://github.com/checkstyle/checkstyle/pull/8293#pullrequestreview-441684224", "createdAt": "2020-07-02T13:35:35Z", "commit": {"oid": "d9dd24dc259cf9984aa609128b89770dafe5385a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxNzEwNTk1", "url": "https://github.com/checkstyle/checkstyle/pull/8293#pullrequestreview-441710595", "createdAt": "2020-07-02T14:04:25Z", "commit": {"oid": "d9dd24dc259cf9984aa609128b89770dafe5385a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNDowNDoyNVrOGsOYOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQxNDowNToxMFrOGsOaOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTAyNjEwNQ==", "bodyText": "I do not see myString in AST example.\nPlease modify code example to be minimalistic, AST should be same by structure as our CLI is printing it.", "url": "https://github.com/checkstyle/checkstyle/pull/8293#discussion_r449026105", "createdAt": "2020-07-02T14:04:25Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/api/TokenTypes.java", "diffHunk": "@@ -3540,6 +3540,34 @@\n     public static final int COMMENT_CONTENT =\n             GeneratedJavaTokenTypes.COMMENT_CONTENT;\n \n+    /**\n+     * The {@code record} keyword.  This element appears\n+     * as part of a record declaration.\n+     **/\n+    public static final int LITERAL_RECORD =\n+            GeneratedJavaTokenTypes.LITERAL_record;\n+\n+    /**\n+     * A record declaration.\n+     *\n+     * <p>For example:</p>\n+     * <pre>\n+     * public record myRecord (String myString, String myOtherString) {}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9dd24dc259cf9984aa609128b89770dafe5385a"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTAyNjYxNg==", "bodyText": "// until ... space after //", "url": "https://github.com/checkstyle/checkstyle/pull/8293#discussion_r449026616", "createdAt": "2020-07-02T14:05:10Z", "author": {"login": "romani"}, "path": "src/main/resources/com/puppycrawl/tools/checkstyle/grammar/java.g", "diffHunk": "@@ -543,6 +546,59 @@ annotationExpression\n         {#annotationExpression = #(#[EXPR,\"EXPR\"],#annotationExpression);}\n     ;\n \n+// Java 14 record definition. We will not completely build this AST\n+// until https://github.com/checkstyle/checkstyle/issues/8267\n+recordDefinition![AST modifiers]\n+    :   r:LITERAL_record id:id\n+        (tp:typeParameters)?        //until #8267", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9dd24dc259cf9984aa609128b89770dafe5385a"}, "originalPosition": 25}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d9dd24dc259cf9984aa609128b89770dafe5385a", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/d9dd24dc259cf9984aa609128b89770dafe5385a", "committedDate": "2020-07-02T13:21:39Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}, "afterCommit": {"oid": "bef4f038879fb4d6d2ac5f9bea8fbb47df9c51a5", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/bef4f038879fb4d6d2ac5f9bea8fbb47df9c51a5", "committedDate": "2020-07-02T14:24:29Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzODcxNTIz", "url": "https://github.com/checkstyle/checkstyle/pull/8293#pullrequestreview-443871523", "createdAt": "2020-07-07T13:08:07Z", "commit": {"oid": "bef4f038879fb4d6d2ac5f9bea8fbb47df9c51a5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMzowODowOFrOGt9sEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxMzowODowOFrOGt9sEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDg0OTgwOA==", "bodyText": "as we skip ``--OBJBLOCK -> OBJBLOCKin AST, lets updateA record declaration` to `A record declaration, this implementation is just to avoid parse errors, full support will be at #8267`", "url": "https://github.com/checkstyle/checkstyle/pull/8293#discussion_r450849808", "createdAt": "2020-07-07T13:08:08Z", "author": {"login": "romani"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/api/TokenTypes.java", "diffHunk": "@@ -3540,6 +3540,32 @@\n     public static final int COMMENT_CONTENT =\n             GeneratedJavaTokenTypes.COMMENT_CONTENT;\n \n+    /**\n+     * The {@code record} keyword.  This element appears\n+     * as part of a record declaration.\n+     **/\n+    public static final int LITERAL_RECORD =\n+            GeneratedJavaTokenTypes.LITERAL_record;\n+\n+    /**\n+     * A record declaration.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bef4f038879fb4d6d2ac5f9bea8fbb47df9c51a5"}, "originalPosition": 12}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bef4f038879fb4d6d2ac5f9bea8fbb47df9c51a5", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/bef4f038879fb4d6d2ac5f9bea8fbb47df9c51a5", "committedDate": "2020-07-02T14:24:29Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}, "afterCommit": {"oid": "7cc4ed518a69e86c7b2a5f3da1a8101c84c486b1", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/7cc4ed518a69e86c7b2a5f3da1a8101c84c486b1", "committedDate": "2020-07-07T15:17:48Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0ODM3MzM5", "url": "https://github.com/checkstyle/checkstyle/pull/8293#pullrequestreview-444837339", "createdAt": "2020-07-08T14:42:49Z", "commit": {"oid": "7cc4ed518a69e86c7b2a5f3da1a8101c84c486b1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7cc4ed518a69e86c7b2a5f3da1a8101c84c486b1", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/7cc4ed518a69e86c7b2a5f3da1a8101c84c486b1", "committedDate": "2020-07-07T15:17:48Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}, "afterCommit": {"oid": "73deaaa0aedca7faa8419d5527a0e473a2c6dc69", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/73deaaa0aedca7faa8419d5527a0e473a2c6dc69", "committedDate": "2020-07-08T14:57:44Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7bc777d9d5052ffa5ad46615d801f58f7fe8741", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/d7bc777d9d5052ffa5ad46615d801f58f7fe8741", "committedDate": "2020-07-08T15:10:56Z", "message": "Issue #8023: Update grammar for initial record support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "153d9692d929a3b3a58e45612d6e86bba57c9779", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/153d9692d929a3b3a58e45612d6e86bba57c9779", "committedDate": "2020-07-08T15:10:56Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "73deaaa0aedca7faa8419d5527a0e473a2c6dc69", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/73deaaa0aedca7faa8419d5527a0e473a2c6dc69", "committedDate": "2020-07-08T14:57:44Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}, "afterCommit": {"oid": "153d9692d929a3b3a58e45612d6e86bba57c9779", "author": {"user": {"login": "nmancus1", "name": "Nick Mancuso"}}, "url": "https://github.com/checkstyle/checkstyle/commit/153d9692d929a3b3a58e45612d6e86bba57c9779", "committedDate": "2020-07-08T15:10:56Z", "message": "minor: lower coverage minimum for GeneratedJavaRecognizer.java (#8023)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MzQ4ODE4", "url": "https://github.com/checkstyle/checkstyle/pull/8293#pullrequestreview-445348818", "createdAt": "2020-07-09T07:18:42Z", "commit": {"oid": "153d9692d929a3b3a58e45612d6e86bba57c9779"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 378, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}