{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyMzQ5NTEw", "number": 7471, "title": "Issue #7458: 'ThreadLocal' variables should be cleaned up when no longer used", "bodyText": "Issue #7458\nwe need to recheck PR validation on sonar to make sure violations gone.", "createdAt": "2020-01-13T22:18:33Z", "url": "https://github.com/checkstyle/checkstyle/pull/7471", "merged": true, "mergeCommit": {"oid": "62f8f162e98cffaaac49d2d029697f3df7ba46bf"}, "closed": true, "closedAt": "2020-01-17T15:08:24Z", "author": {"login": "romani"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6FdIigFqTM0MjIxOTM5Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb69VhNgH2gAyMzYyMzQ5NTEwOmQ4OWM4Yzk5YWEyNTk0ZTY0NWJkOTFkNDA3ZTBhY2ZiN2M5MjhiZDc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyMjE5Mzky", "url": "https://github.com/checkstyle/checkstyle/pull/7471#pullrequestreview-342219392", "createdAt": "2020-01-14T00:01:26Z", "commit": {"oid": "ec49fdfc9295332f1a370a9e099ecc3b1c587ae1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwMDowMToyN1rOFdIhdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwMDowMToyN1rOFdIhdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjA5MjY2Mw==", "bodyText": "Isn't this considered a breaking change? Before this change, you could override destroy in an implementing class and not need to call the super class.\nLook at our own implementation checks like RegexpOnFilename.\nhttps://github.com/checkstyle/checkstyle/blob/master/src/main/java/com/puppycrawl/tools/checkstyle/checks/regexp/RegexpOnFilenameCheck.java#L247\nWe override init method but never call super init.", "url": "https://github.com/checkstyle/checkstyle/pull/7471#discussion_r366092663", "createdAt": "2020-01-14T00:01:27Z", "author": {"login": "rnveach"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/api/AbstractCheck.java", "diffHunk": "@@ -125,7 +125,7 @@ public void init() {\n      * Destroy the check. It is being retired from service.\n      */\n     public void destroy() {\n-        // No code by default, should be overridden only by demand at subclasses\n+        context.remove();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ec49fdfc9295332f1a370a9e099ecc3b1c587ae1"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyNzY1MDgz", "url": "https://github.com/checkstyle/checkstyle/pull/7471#pullrequestreview-342765083", "createdAt": "2020-01-14T18:59:32Z", "commit": {"oid": "c01e376b888fb9e7af37152df93d2d2cd720b214"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQxODo1OTozMlrOFdiXZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQxODo1OTozMlrOFdiXZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjUxNjA2OQ==", "bodyText": "But the destroy methods does do something now. That was the point of me saying it was a breaking change.", "url": "https://github.com/checkstyle/checkstyle/pull/7471#discussion_r366516069", "createdAt": "2020-01-14T18:59:32Z", "author": {"login": "rnveach"}, "path": "pom.xml", "diffHunk": "@@ -1866,6 +1866,13 @@\n                 <!-- needed for SuppressWarningsFilter -->\n                 <param>com.puppycrawl.tools.checkstyle.filters.SuppressWarningsFilterTest</param>\n               </targetTests>\n+              <excludedMethods>\n+                <!-- destroy method was added in case module had to free up resources\n+                before ending, but currently it does nothing, so we cannot check it.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c01e376b888fb9e7af37152df93d2d2cd720b214"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzNTA5Mzc1", "url": "https://github.com/checkstyle/checkstyle/pull/7471#pullrequestreview-343509375", "createdAt": "2020-01-15T20:45:36Z", "commit": {"oid": "93783623a82e83780ea68b338b0ab5cf6f233b3f"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQyMDo0NTozN1rOFeF4ug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQyMDo0NTozN1rOFeF4ug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzA5ODA0Mg==", "bodyText": "Is it possible to make a check to verify that either this method is not overridden, or it is overridden and calls the base class method of the same name?", "url": "https://github.com/checkstyle/checkstyle/pull/7471#discussion_r367098042", "createdAt": "2020-01-15T20:45:37Z", "author": {"login": "pbludov"}, "path": "src/main/java/com/puppycrawl/tools/checkstyle/api/AbstractCheck.java", "diffHunk": "@@ -125,7 +125,7 @@ public void init() {\n      * Destroy the check. It is being retired from service.\n      */\n     public void destroy() {\n-        // No code by default, should be overridden only by demand at subclasses\n+        context.remove();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjA5MjY2Mw=="}, "originalCommit": {"oid": "ec49fdfc9295332f1a370a9e099ecc3b1c587ae1"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d89c8c99aa2594e645bd91d407e0acfb7c928bd7", "author": {"user": {"login": "romani", "name": "Roman Ivanov"}}, "url": "https://github.com/checkstyle/checkstyle/commit/d89c8c99aa2594e645bd91d407e0acfb7c928bd7", "committedDate": "2020-01-16T17:10:15Z", "message": "Issue #7458: 'ThreadLocal' variables should be cleaned up when no longer used"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1210, "cost": 1, "resetAt": "2021-11-01T13:07:16Z"}}}