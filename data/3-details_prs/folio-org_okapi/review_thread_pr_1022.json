{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEwNjcwNjIy", "number": 1022, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNTo1Nzo0NFrOEybVBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNTo1ODoxOFrOEybWPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxMzEyMDA0OnYy", "diffSide": "RIGHT", "path": "okapi-core/src/main/java/org/folio/okapi/bean/InterfaceDescriptor.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNTo1Nzo0NFrOHpD6mQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxODoxNjo1OFrOHpKecA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjgxNzgxNw==", "bodyText": "Missing Java doc for logger", "url": "https://github.com/folio-org/okapi/pull/1022#discussion_r512817817", "createdAt": "2020-10-27T15:57:44Z", "author": {"login": "hjiebsco"}, "path": "okapi-core/src/main/java/org/folio/okapi/bean/InterfaceDescriptor.java", "diffHunk": "@@ -197,11 +197,11 @@ public void setHandlers(RoutingEntry[] handlers) {\n    * @param section \"provides\" or \"requires\" - the rules differ\n    * @return \"\" if ok, or a simple error message\n    */\n-  public String validate(ProxyContext pc, String section, String mod) {\n+  public String validate(Logger logger, String section, String mod) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29bb9ae8f16f9f419de8407845fc97268cabc625"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjkyNTI5Ng==", "bodyText": "ok", "url": "https://github.com/folio-org/okapi/pull/1022#discussion_r512925296", "createdAt": "2020-10-27T18:16:58Z", "author": {"login": "adamdickmeiss"}, "path": "okapi-core/src/main/java/org/folio/okapi/bean/InterfaceDescriptor.java", "diffHunk": "@@ -197,11 +197,11 @@ public void setHandlers(RoutingEntry[] handlers) {\n    * @param section \"provides\" or \"requires\" - the rules differ\n    * @return \"\" if ok, or a simple error message\n    */\n-  public String validate(ProxyContext pc, String section, String mod) {\n+  public String validate(Logger logger, String section, String mod) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjgxNzgxNw=="}, "originalCommit": {"oid": "29bb9ae8f16f9f419de8407845fc97268cabc625"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxMzEyMTQxOnYy", "diffSide": "RIGHT", "path": "okapi-core/src/main/java/org/folio/okapi/managers/TenantManager.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNTo1Nzo1OFrOHpD7eA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxODoyMDoxMVrOHpKm9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjgxODA0MA==", "bodyText": "Would this work logger.debug(\"Loading permissions for {}\", mdTo.getName()?", "url": "https://github.com/folio-org/okapi/pull/1022#discussion_r512818040", "createdAt": "2020-10-27T15:57:58Z", "author": {"login": "hjiebsco"}, "path": "okapi-core/src/main/java/org/folio/okapi/managers/TenantManager.java", "diffHunk": "@@ -544,7 +545,7 @@ private void fireTimer(Tenant tenant, ModuleDescriptor md, RoutingEntry re, Stri\n   private Future<Void> invokePermissionsForModule(Tenant tenant, ModuleDescriptor mdTo,\n                                                   ModuleDescriptor permsModule, ProxyContext pc) {\n \n-    pc.debug(\"Loading permissions for \" + mdTo.getName()\n+    logger.debug(\"Loading permissions for {}\", () -> mdTo.getName()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29bb9ae8f16f9f419de8407845fc97268cabc625"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjkyNTkxOA==", "bodyText": "Yes. The question is what is fastest. In this particular case, since the getName is a fast operation, using a lambda is probably overkill.", "url": "https://github.com/folio-org/okapi/pull/1022#discussion_r512925918", "createdAt": "2020-10-27T18:17:50Z", "author": {"login": "adamdickmeiss"}, "path": "okapi-core/src/main/java/org/folio/okapi/managers/TenantManager.java", "diffHunk": "@@ -544,7 +545,7 @@ private void fireTimer(Tenant tenant, ModuleDescriptor md, RoutingEntry re, Stri\n   private Future<Void> invokePermissionsForModule(Tenant tenant, ModuleDescriptor mdTo,\n                                                   ModuleDescriptor permsModule, ProxyContext pc) {\n \n-    pc.debug(\"Loading permissions for \" + mdTo.getName()\n+    logger.debug(\"Loading permissions for {}\", () -> mdTo.getName()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjgxODA0MA=="}, "originalCommit": {"oid": "29bb9ae8f16f9f419de8407845fc97268cabc625"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjkyNzQ3OA==", "bodyText": "I'll change it to normal.. By the way.. the following line is a mess.", "url": "https://github.com/folio-org/okapi/pull/1022#discussion_r512927478", "createdAt": "2020-10-27T18:20:11Z", "author": {"login": "adamdickmeiss"}, "path": "okapi-core/src/main/java/org/folio/okapi/managers/TenantManager.java", "diffHunk": "@@ -544,7 +545,7 @@ private void fireTimer(Tenant tenant, ModuleDescriptor md, RoutingEntry re, Stri\n   private Future<Void> invokePermissionsForModule(Tenant tenant, ModuleDescriptor mdTo,\n                                                   ModuleDescriptor permsModule, ProxyContext pc) {\n \n-    pc.debug(\"Loading permissions for \" + mdTo.getName()\n+    logger.debug(\"Loading permissions for {}\", () -> mdTo.getName()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjgxODA0MA=="}, "originalCommit": {"oid": "29bb9ae8f16f9f419de8407845fc97268cabc625"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxMzEyMTgyOnYy", "diffSide": "RIGHT", "path": "okapi-core/src/main/java/org/folio/okapi/managers/TenantManager.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNTo1ODowM1rOHpD7yg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxODoyOTo0NVrOHpK-qA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjgxODEyMg==", "bodyText": "Would this work logger.debug(\"tenantPerms Req: {}\", pljson);?", "url": "https://github.com/folio-org/okapi/pull/1022#discussion_r512818122", "createdAt": "2020-10-27T15:58:03Z", "author": {"login": "hjiebsco"}, "path": "okapi-core/src/main/java/org/folio/okapi/managers/TenantManager.java", "diffHunk": "@@ -555,7 +556,7 @@ private void fireTimer(Tenant tenant, ModuleDescriptor md, RoutingEntry re, Stri\n       pl = new PermissionList(moduleTo, mdTo.getExpandedPermissionSets());\n     }\n     String pljson = Json.encodePrettily(pl);\n-    pc.debug(\"tenantPerms Req: \" + pljson);\n+    logger.debug(\"tenantPerms Req: {}\", () -> pljson);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29bb9ae8f16f9f419de8407845fc97268cabc625"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjkzMzU0NA==", "bodyText": "yes. Since it's a simple string - probably no need to.", "url": "https://github.com/folio-org/okapi/pull/1022#discussion_r512933544", "createdAt": "2020-10-27T18:29:45Z", "author": {"login": "adamdickmeiss"}, "path": "okapi-core/src/main/java/org/folio/okapi/managers/TenantManager.java", "diffHunk": "@@ -555,7 +556,7 @@ private void fireTimer(Tenant tenant, ModuleDescriptor md, RoutingEntry re, Stri\n       pl = new PermissionList(moduleTo, mdTo.getExpandedPermissionSets());\n     }\n     String pljson = Json.encodePrettily(pl);\n-    pc.debug(\"tenantPerms Req: \" + pljson);\n+    logger.debug(\"tenantPerms Req: {}\", () -> pljson);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjgxODEyMg=="}, "originalCommit": {"oid": "29bb9ae8f16f9f419de8407845fc97268cabc625"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxMzEyMjE0OnYy", "diffSide": "RIGHT", "path": "okapi-core/src/main/java/org/folio/okapi/managers/TenantManager.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNTo1ODowN1rOHpD7_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxODozMDo0NVrOHpLBTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjgxODE3Mw==", "bodyText": "Would this work logger.debug(\"tenantPerms: {} and {}\", permsModule.getId(), permPath);?", "url": "https://github.com/folio-org/okapi/pull/1022#discussion_r512818173", "createdAt": "2020-10-27T15:58:07Z", "author": {"login": "hjiebsco"}, "path": "okapi-core/src/main/java/org/folio/okapi/managers/TenantManager.java", "diffHunk": "@@ -572,11 +573,11 @@ private void fireTimer(Tenant tenant, ModuleDescriptor md, RoutingEntry re, Stri\n           \"Bad _tenantPermissions interface in module \" + permsModule.getId()\n               + \". No path to POST to\"));\n     }\n-    pc.debug(\"tenantPerms: \" + permsModule.getId() + \" and \" + permPath);\n+    logger.debug(\"tenantPerms: {} and {}\", (Supplier<?>) () -> permsModule.getId(), permPath);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29bb9ae8f16f9f419de8407845fc97268cabc625"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjkzNDIyMQ==", "bodyText": "yes.", "url": "https://github.com/folio-org/okapi/pull/1022#discussion_r512934221", "createdAt": "2020-10-27T18:30:45Z", "author": {"login": "adamdickmeiss"}, "path": "okapi-core/src/main/java/org/folio/okapi/managers/TenantManager.java", "diffHunk": "@@ -572,11 +573,11 @@ private void fireTimer(Tenant tenant, ModuleDescriptor md, RoutingEntry re, Stri\n           \"Bad _tenantPermissions interface in module \" + permsModule.getId()\n               + \". No path to POST to\"));\n     }\n-    pc.debug(\"tenantPerms: \" + permsModule.getId() + \" and \" + permPath);\n+    logger.debug(\"tenantPerms: {} and {}\", (Supplier<?>) () -> permsModule.getId(), permPath);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjgxODE3Mw=="}, "originalCommit": {"oid": "29bb9ae8f16f9f419de8407845fc97268cabc625"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxMzEyMzE2OnYy", "diffSide": "RIGHT", "path": "okapi-core/src/main/java/org/folio/okapi/managers/TenantManager.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNTo1ODoxOFrOHpD8qA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxODozMTozNVrOHpLDZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjgxODM0NA==", "bodyText": "Would this work logger.debug(\"tenantPerms request to {} succeeded for module {} and tenant {}\", permsModule.getId(), moduleTo, tenant.getId());?", "url": "https://github.com/folio-org/okapi/pull/1022#discussion_r512818344", "createdAt": "2020-10-27T15:58:18Z", "author": {"login": "hjiebsco"}, "path": "okapi-core/src/main/java/org/folio/okapi/managers/TenantManager.java", "diffHunk": "@@ -572,11 +573,11 @@ private void fireTimer(Tenant tenant, ModuleDescriptor md, RoutingEntry re, Stri\n           \"Bad _tenantPermissions interface in module \" + permsModule.getId()\n               + \". No path to POST to\"));\n     }\n-    pc.debug(\"tenantPerms: \" + permsModule.getId() + \" and \" + permPath);\n+    logger.debug(\"tenantPerms: {} and {}\", (Supplier<?>) () -> permsModule.getId(), permPath);\n     return proxyService.callSystemInterface(tenant, permInst, pljson, pc).compose(cres -> {\n       pc.passOkapiTraceHeaders(cres);\n-      pc.debug(\"tenantPerms request to \" + permsModule.getName()\n-          + \" succeeded for module \" + moduleTo + \" and tenant \" + tenant.getId());\n+      logger.debug(\"tenantPerms request to {} succeeded for module {} and tenant {}\",\n+          () -> permsModule.getId(), () -> moduleTo, () -> tenant.getId());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "29bb9ae8f16f9f419de8407845fc97268cabc625"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjkzNDc1Ng==", "bodyText": "yes", "url": "https://github.com/folio-org/okapi/pull/1022#discussion_r512934756", "createdAt": "2020-10-27T18:31:35Z", "author": {"login": "adamdickmeiss"}, "path": "okapi-core/src/main/java/org/folio/okapi/managers/TenantManager.java", "diffHunk": "@@ -572,11 +573,11 @@ private void fireTimer(Tenant tenant, ModuleDescriptor md, RoutingEntry re, Stri\n           \"Bad _tenantPermissions interface in module \" + permsModule.getId()\n               + \". No path to POST to\"));\n     }\n-    pc.debug(\"tenantPerms: \" + permsModule.getId() + \" and \" + permPath);\n+    logger.debug(\"tenantPerms: {} and {}\", (Supplier<?>) () -> permsModule.getId(), permPath);\n     return proxyService.callSystemInterface(tenant, permInst, pljson, pc).compose(cres -> {\n       pc.passOkapiTraceHeaders(cres);\n-      pc.debug(\"tenantPerms request to \" + permsModule.getName()\n-          + \" succeeded for module \" + moduleTo + \" and tenant \" + tenant.getId());\n+      logger.debug(\"tenantPerms request to {} succeeded for module {} and tenant {}\",\n+          () -> permsModule.getId(), () -> moduleTo, () -> tenant.getId());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjgxODM0NA=="}, "originalCommit": {"oid": "29bb9ae8f16f9f419de8407845fc97268cabc625"}, "originalPosition": 37}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 181, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}