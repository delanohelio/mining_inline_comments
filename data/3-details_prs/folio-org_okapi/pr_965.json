{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc2MjE1MDMw", "number": 965, "title": "OKAPI-882, OKAPI-884: Password in log, variable expansion", "bodyText": "Okapi passes environment variables like DB_PASSWORD=mysecret\nto Docker to deploy a module. These variables should be\nsuppressed in the log. (OKAPI-882)\nOkapi expands the %p and %c variables in the complete JSON.\nIt should expand %p in exec, cmdlineStart and dockerArgs only,\nand expand %c in dockerArgs only. (OKAPI-884)\nFor dockerArgs introduce %% to allow literal %.", "createdAt": "2020-08-31T10:46:19Z", "url": "https://github.com/folio-org/okapi/pull/965", "merged": true, "mergeCommit": {"oid": "603fbf0a66f9b5a03e83d677a06a76e9640326a2"}, "closed": true, "closedAt": "2020-09-03T12:14:06Z", "author": {"login": "julianladisch"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdEQZHngH2gAyNDc2MjE1MDMwOmE4NzI3OTAzNzEwZjg1YjIzZDkzMDRmNzQ1NDI4MzNjZmYyMmEzYWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdE3F6RAFqTQ4MDU2MzI0MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a8727903710f85b23d9304f74542833cff22a3ab", "author": {"user": {"login": "julianladisch", "name": null}}, "url": "https://github.com/folio-org/okapi/commit/a8727903710f85b23d9304f74542833cff22a3ab", "committedDate": "2020-08-31T10:38:51Z", "message": "OKAPI-882, OKAPI-884: Password in log, variable expansion\n\nOkapi passes environment variables like DB_PASSWORD=mysecret\nto Docker to deploy a module. These variables should be\nsuppressed in the log. (OKAPI-882)\n\nOkapi expands the %p and %c variables in the complete JSON.\nIt should expand %p in exec, cmdlineStart and dockerArgs only,\nand expand %c in dockerArgs only. (OKAPI-884)\n\nFor dockerArgs introduce %% to allow literal %."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4NzAxMzYz", "url": "https://github.com/folio-org/okapi/pull/965#pullrequestreview-478701363", "createdAt": "2020-08-31T15:11:07Z", "commit": {"oid": "a8727903710f85b23d9304f74542833cff22a3ab"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxNToxMTowN1rOHJ81ww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxNToxMTowN1rOHJ81ww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE5NjAzNQ==", "bodyText": "Looks redundant to me. There's already a descriptor in descriptors/ModuleDescriptor-template.json , target/ModuleDescriptor.json", "url": "https://github.com/folio-org/okapi/pull/965#discussion_r480196035", "createdAt": "2020-08-31T15:11:07Z", "author": {"login": "adamdickmeiss"}, "path": "okapi-test-module/ModuleDescriptor.json", "diffHunk": "@@ -0,0 +1,21 @@\n+{\n+  \"id\": \"test-basic-1.0.0\",\n+  \"name\": \"Okapi test module\",\n+  \"provides\": [\n+    {\n+      \"id\": \"test-basic\",\n+      \"version\": \"2.2\",\n+      \"handlers\": [\n+        {\n+          \"methods\": [ \"GET\", \"POST\" ],\n+          \"pathPattern\": \"/testb\",\n+          \"permissionsRequired\": [ \"test-basic.get.list\" ]\n+        }\n+      ]\n+    }\n+  ],\n+  \"requires\": [],\n+  \"launchDescriptor\": {\n+    \"dockerImage\": \"okapi-test-module\"\n+  }\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a8727903710f85b23d9304f74542833cff22a3ab"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1b57e7a15e177317bd86a6c6e16b89ad749c02e", "author": {"user": {"login": "julianladisch", "name": null}}, "url": "https://github.com/folio-org/okapi/commit/c1b57e7a15e177317bd86a6c6e16b89ad749c02e", "committedDate": "2020-09-01T19:34:10Z", "message": "Move docker descriptor to descriptors/ModuleDescriptor-dockerImage.json"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNTYzMjQw", "url": "https://github.com/folio-org/okapi/pull/965#pullrequestreview-480563240", "createdAt": "2020-09-02T07:44:10Z", "commit": {"oid": "c1b57e7a15e177317bd86a6c6e16b89ad749c02e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2824, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}