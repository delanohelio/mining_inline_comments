{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyMDg2NzI3", "number": 257, "title": "Extend the use of argFile and pathing Jar across all tasks.", "bodyText": "Provide a easy to use config to enable argFile across all tasks.", "createdAt": "2020-04-10T22:09:08Z", "url": "https://github.com/linkedin/rest.li/pull/257", "merged": true, "mergeCommit": {"oid": "0e6dcf2f86d77eaf4ebf1bbe4c5f1eb883484abb"}, "closed": true, "closedAt": "2020-04-11T00:32:23Z", "author": {"login": "karthikbalasub"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcWYwfRAH2gAyNDAyMDg2NzI3OmNlMTIzYjJiYmZjOGYzYjNmYTM0ZjBhN2EwZjJmMWFkOTFiYzgzNzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcWadWEAH2gAyNDAyMDg2NzI3OmQ5MjcxZjFhMDFmZDJiNGNhN2E3ZGNjNTc4MmRkMGM4MGY4MDIyYjA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ce123b2bbfc8f3b3fa34f0a7a0f2f1ad91bc8378", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/ce123b2bbfc8f3b3fa34f0a7a0f2f1ad91bc8378", "committedDate": "2020-04-10T22:23:06Z", "message": "Extend the use of argFile and pathing Jar across all tasks.\nProvide a easy to use config to enable argFile across all tasks."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "40234ecc94b1e3ce29d2089341c42807c199e548", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/40234ecc94b1e3ce29d2089341c42807c199e548", "committedDate": "2020-04-10T21:51:22Z", "message": "Extend the use of argFile and pathing Jar across all tasks.\nProvide a easy to use config to enable argFile across all tasks."}, "afterCommit": {"oid": "ce123b2bbfc8f3b3fa34f0a7a0f2f1ad91bc8378", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/ce123b2bbfc8f3b3fa34f0a7a0f2f1ad91bc8378", "committedDate": "2020-04-10T22:23:06Z", "message": "Extend the use of argFile and pathing Jar across all tasks.\nProvide a easy to use config to enable argFile across all tasks."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNjkyMTEx", "url": "https://github.com/linkedin/rest.li/pull/257#pullrequestreview-391692111", "createdAt": "2020-04-10T22:31:29Z", "commit": {"oid": "ce123b2bbfc8f3b3fa34f0a7a0f2f1ad91bc8378"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMjozMToyOVrOGEHcOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMjozMToyOVrOGEHcOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk2OTQwMg==", "bodyText": "This is sort of a general question, but I always wonder if having properties like this could collide with other properties in other plugins. Do you think it would make sense to prefix our properties with pegasus.?", "url": "https://github.com/linkedin/rest.li/pull/257#discussion_r406969402", "createdAt": "2020-04-10T22:31:29Z", "author": {"login": "evanw555"}, "path": "gradle-plugins/src/main/java/com/linkedin/pegasus/gradle/PegasusPlugin.java", "diffHunk": "@@ -561,6 +561,8 @@\n       \"dataTemplateGenerator\", \"restTools\", \"avroSchemaGenerator\");\n   // Directory in the dataTemplate jar that holds schemas translated from PDL to PDSC.\n   private static final String TRANSLATED_SCHEMAS_DIR = \"legacyPegasusSchemas\";\n+  // Enable the use of argFiles for the tasks that support them\n+  private static final String ENABLE_ARG_FILE = \"enableArgFile\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce123b2bbfc8f3b3fa34f0a7a0f2f1ad91bc8378"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a786d57f0ac5bbcd3c1d30bdee3b7b5026a2c8a3", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/a786d57f0ac5bbcd3c1d30bdee3b7b5026a2c8a3", "committedDate": "2020-04-10T22:47:17Z", "message": "Address review comments."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNjk4NDc5", "url": "https://github.com/linkedin/rest.li/pull/257#pullrequestreview-391698479", "createdAt": "2020-04-10T22:58:01Z", "commit": {"oid": "a786d57f0ac5bbcd3c1d30bdee3b7b5026a2c8a3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNjk4OTYw", "url": "https://github.com/linkedin/rest.li/pull/257#pullrequestreview-391698960", "createdAt": "2020-04-10T23:00:08Z", "commit": {"oid": "a786d57f0ac5bbcd3c1d30bdee3b7b5026a2c8a3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMzowMDowOFrOGEH1dw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMzowMDowOFrOGEH1dw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk3NTg2Mw==", "bodyText": "I know I just approved, but I just realized this code is a duplicate of RestLiToolsUtils#readArgFromFileIfNeeded, right?", "url": "https://github.com/linkedin/rest.li/pull/257#discussion_r406975863", "createdAt": "2020-04-10T23:00:08Z", "author": {"login": "evanw555"}, "path": "data-avro-generator/src/main/java/com/linkedin/data/avro/generator/AvroSchemaGenerator.java", "diffHunk": "@@ -112,7 +113,14 @@ public static void main(String[] args) throws IOException\n       System.exit(1);\n     }\n \n-    run(System.getProperty(GENERATOR_RESOLVER_PATH),\n+    String resolverPath = System.getProperty(AbstractGenerator.GENERATOR_RESOLVER_PATH);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a786d57f0ac5bbcd3c1d30bdee3b7b5026a2c8a3"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNjk1NTg4", "url": "https://github.com/linkedin/rest.li/pull/257#pullrequestreview-391695588", "createdAt": "2020-04-10T22:45:42Z", "commit": {"oid": "ce123b2bbfc8f3b3fa34f0a7a0f2f1ad91bc8378"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMjo0NTo0MlrOGEHpWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMjo0NTo0MlrOGEHpWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk3Mjc2Mw==", "bodyText": "nit : the brace should be in the next line", "url": "https://github.com/linkedin/rest.li/pull/257#discussion_r406972763", "createdAt": "2020-04-10T22:45:42Z", "author": {"login": "nickibi"}, "path": "gradle-plugins/src/main/java/com/linkedin/pegasus/gradle/tasks/GenerateRestModelTask.java", "diffHunk": "@@ -219,9 +237,15 @@ private void executeSnapshotExporter(String name, List<String> inputDirs, List<S\n                                        boolean additionalDocProviders)\n   {\n     getProject().javaexec(javaExecSpec -> {\n+      String resolverPathArg = _resolverPath.getAsPath();\n+      if (isEnableArgFile()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce123b2bbfc8f3b3fa34f0a7a0f2f1ad91bc8378"}, "originalPosition": 61}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "afa7c3ce0d706ccf30a03062d722e38c41343afb", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/afa7c3ce0d706ccf30a03062d722e38c41343afb", "committedDate": "2020-04-10T23:21:01Z", "message": "Fix style issues"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNzA1MzIy", "url": "https://github.com/linkedin/rest.li/pull/257#pullrequestreview-391705322", "createdAt": "2020-04-10T23:23:25Z", "commit": {"oid": "afa7c3ce0d706ccf30a03062d722e38c41343afb"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMzoyMzoyNVrOGEIJlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMzoyMzozNFrOGEIJxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4MTAxNQ==", "bodyText": "here", "url": "https://github.com/linkedin/rest.li/pull/257#discussion_r406981015", "createdAt": "2020-04-10T23:23:25Z", "author": {"login": "nickibi"}, "path": "restli-tools/src/main/java/com/linkedin/restli/internal/tools/RestLiToolsUtils.java", "diffHunk": "@@ -106,4 +109,26 @@ public static boolean isParameterOptional(ParameterSchema param)\n     boolean optional = param.isOptional() == null ? false : param.isOptional();\n     return optional || param.hasDefault();\n   }\n+\n+  /**\n+   * Reads and returns the resolver path from system property {@link AbstractGenerator#GENERATOR_RESOLVER_PATH}.\n+   * If the value points to an arg file, reads the contents of the file and returns it.\n+   */\n+  public static String getResolverPathFromSystemProperty() throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "afa7c3ce0d706ccf30a03062d722e38c41343afb"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4MTA2Mw==", "bodyText": "here", "url": "https://github.com/linkedin/rest.li/pull/257#discussion_r406981063", "createdAt": "2020-04-10T23:23:34Z", "author": {"login": "nickibi"}, "path": "restli-tools/src/main/java/com/linkedin/restli/internal/tools/RestLiToolsUtils.java", "diffHunk": "@@ -106,4 +109,26 @@ public static boolean isParameterOptional(ParameterSchema param)\n     boolean optional = param.isOptional() == null ? false : param.isOptional();\n     return optional || param.hasDefault();\n   }\n+\n+  /**\n+   * Reads and returns the resolver path from system property {@link AbstractGenerator#GENERATOR_RESOLVER_PATH}.\n+   * If the value points to an arg file, reads the contents of the file and returns it.\n+   */\n+  public static String getResolverPathFromSystemProperty() throws IOException {\n+    String resolverPath = System.getProperty(AbstractGenerator.GENERATOR_RESOLVER_PATH);\n+    return readArgFromFileIfNeeded(resolverPath);\n+  }\n+\n+  /**\n+   * If argValue points to an arg file, reads the contents of the file and returns it.\n+   */\n+  public static String readArgFromFileIfNeeded(String argValue) throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "afa7c3ce0d706ccf30a03062d722e38c41343afb"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f80421dc0055872b198bc07c0354a7914b62a75", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/1f80421dc0055872b198bc07c0354a7914b62a75", "committedDate": "2020-04-10T23:25:27Z", "message": "Fix more style issues!"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a49a0b13d7fca653540cee61311fe3a1aba5f652", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/a49a0b13d7fca653540cee61311fe3a1aba5f652", "committedDate": "2020-04-10T23:30:46Z", "message": "Release 28.2.5"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9271f1a01fd2b4ca7a7dcc5782dd0c80f8022b0", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/d9271f1a01fd2b4ca7a7dcc5782dd0c80f8022b0", "committedDate": "2020-04-11T00:22:00Z", "message": "Merge branch 'master' into feature/arg_too_long"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 47, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}