{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5NzcyNzMw", "number": 300, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwMjo0MDo0MlrOD9nd8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwMjo0MDo0MlrOD9nd8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1OTM2MzcwOnYy", "diffSide": "LEFT", "path": "data/src/main/java/com/linkedin/data/schema/JsonBuilder.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwMjo0MDo0MlrOGXN2kQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOVQwNDowODoyMlrOGXPJTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk5NzM5Mw==", "bodyText": "@karthikbalasub do you know what is the intension to disable INTERNING in the first place?", "url": "https://github.com/linkedin/rest.li/pull/300#discussion_r426997393", "createdAt": "2020-05-19T02:40:42Z", "author": {"login": "seliang"}, "path": "data/src/main/java/com/linkedin/data/schema/JsonBuilder.java", "diffHunk": "@@ -310,12 +337,12 @@ public void writeDataTemplate(DataTemplate<?> template, Boolean order) throws IO\n     _jacksonDataTemplateCodec.dataTemplateToJsonGenerator(template, _jsonGenerator, order);\n   }\n \n-  private final StringWriter _writer;\n+  private final Writer _writer;\n   private final JsonGenerator _jsonGenerator;\n-  private final JacksonDataCodec _jacksonDataCodec = new JacksonDataCodec();\n-  private final JacksonDataTemplateCodec _jacksonDataTemplateCodec = new JacksonDataTemplateCodec();\n \n-  private static final JsonFactory _jsonFactory = new JsonFactory().disable(JsonFactory.Feature.INTERN_FIELD_NAMES);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d4501fc55d92f5dd43df820b789faf433bb7fb2"}, "originalPosition": 95}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzAwMjE1OA==", "bodyText": "We disabled Jackson string interning to avoid OOM from PermGen space in 2013. String interning stopped using PermGen space starting from some intermediate update version of JDK 7. We should have removed this config long way back.", "url": "https://github.com/linkedin/rest.li/pull/300#discussion_r427002158", "createdAt": "2020-05-19T02:59:56Z", "author": {"login": "nickibi"}, "path": "data/src/main/java/com/linkedin/data/schema/JsonBuilder.java", "diffHunk": "@@ -310,12 +337,12 @@ public void writeDataTemplate(DataTemplate<?> template, Boolean order) throws IO\n     _jacksonDataTemplateCodec.dataTemplateToJsonGenerator(template, _jsonGenerator, order);\n   }\n \n-  private final StringWriter _writer;\n+  private final Writer _writer;\n   private final JsonGenerator _jsonGenerator;\n-  private final JacksonDataCodec _jacksonDataCodec = new JacksonDataCodec();\n-  private final JacksonDataTemplateCodec _jacksonDataTemplateCodec = new JacksonDataTemplateCodec();\n \n-  private static final JsonFactory _jsonFactory = new JsonFactory().disable(JsonFactory.Feature.INTERN_FIELD_NAMES);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk5NzM5Mw=="}, "originalCommit": {"oid": "9d4501fc55d92f5dd43df820b789faf433bb7fb2"}, "originalPosition": 95}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzAxODU3Mw==", "bodyText": "In JacksonSmileStreamDataCodec, we have disable INTERNING, not sure if there is special reason? @karthikrg But in JacksonStreamDataCodec, we have started all using default value (enabled) and reuse JsonFactory based on https://github.com/FasterXML/jackson-docs/wiki/Presentation:-Jackson-Performance", "url": "https://github.com/linkedin/rest.li/pull/300#discussion_r427018573", "createdAt": "2020-05-19T04:08:22Z", "author": {"login": "mchen07"}, "path": "data/src/main/java/com/linkedin/data/schema/JsonBuilder.java", "diffHunk": "@@ -310,12 +337,12 @@ public void writeDataTemplate(DataTemplate<?> template, Boolean order) throws IO\n     _jacksonDataTemplateCodec.dataTemplateToJsonGenerator(template, _jsonGenerator, order);\n   }\n \n-  private final StringWriter _writer;\n+  private final Writer _writer;\n   private final JsonGenerator _jsonGenerator;\n-  private final JacksonDataCodec _jacksonDataCodec = new JacksonDataCodec();\n-  private final JacksonDataTemplateCodec _jacksonDataTemplateCodec = new JacksonDataTemplateCodec();\n \n-  private static final JsonFactory _jsonFactory = new JsonFactory().disable(JsonFactory.Feature.INTERN_FIELD_NAMES);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjk5NzM5Mw=="}, "originalCommit": {"oid": "9d4501fc55d92f5dd43df820b789faf433bb7fb2"}, "originalPosition": 95}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 453, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}