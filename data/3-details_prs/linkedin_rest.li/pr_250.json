{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk4Mzg2NTM1", "number": 250, "title": "Add support for custom properties on anonymous complex schemas.", "bodyText": "", "createdAt": "2020-04-03T21:06:40Z", "url": "https://github.com/linkedin/rest.li/pull/250", "merged": true, "mergeCommit": {"oid": "2313dce94bd202631de6911636fe4a94b68da397"}, "closed": true, "closedAt": "2020-04-07T20:12:52Z", "author": {"login": "karthikbalasub"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcUHgf6ABqjMxOTgwMTY3Mzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVYLBRgFqTM4OTQxMDgyOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "484c1778aec591bdcfaffdd9a446024fa843b9c6", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/484c1778aec591bdcfaffdd9a446024fa843b9c6", "committedDate": "2020-04-03T21:03:02Z", "message": "Add support for custom properties on anonymous complex schemas."}, "afterCommit": {"oid": "dee9d18c97b4e39ab54c916aced8e7bc9aa7ea09", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/dee9d18c97b4e39ab54c916aced8e7bc9aa7ea09", "committedDate": "2020-04-03T21:09:08Z", "message": "Add support for custom properties on anonymous complex schemas."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3NTkxNDQ4", "url": "https://github.com/linkedin/rest.li/pull/250#pullrequestreview-387591448", "createdAt": "2020-04-03T21:28:20Z", "commit": {"oid": "dee9d18c97b4e39ab54c916aced8e7bc9aa7ea09"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QyMToyODoyMFrOGAqOhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wM1QyMToyODoyMFrOGAqOhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzM0NTAzMQ==", "bodyText": "can setDocAndProperties reuse this?", "url": "https://github.com/linkedin/rest.li/pull/250#discussion_r403345031", "createdAt": "2020-04-03T21:28:20Z", "author": {"login": "junchuanwang"}, "path": "data/src/main/java/com/linkedin/data/schema/grammar/PdlSchemaParser.java", "diffHunk": "@@ -756,6 +760,26 @@ private RecordDataSchema parseRecord(\n     return properties;\n   }\n \n+  /**\n+   * Sets properties on the provided {@link ComplexDataSchema} using data parsed from the provided\n+   * {@link AnonymousTypeDeclarationContext}.\n+   *\n+   * @param source source to read properties from\n+   * @param target target on which to set properties\n+   */\n+  private void setProperties(AnonymousTypeDeclarationContext source, ComplexDataSchema target)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dee9d18c97b4e39ab54c916aced8e7bc9aa7ea09"}, "originalPosition": 49}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3NTkzMjgx", "url": "https://github.com/linkedin/rest.li/pull/250#pullrequestreview-387593281", "createdAt": "2020-04-03T21:32:15Z", "commit": {"oid": "dee9d18c97b4e39ab54c916aced8e7bc9aa7ea09"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3NjcwNzgz", "url": "https://github.com/linkedin/rest.li/pull/250#pullrequestreview-387670783", "createdAt": "2020-04-04T05:45:00Z", "commit": {"oid": "dee9d18c97b4e39ab54c916aced8e7bc9aa7ea09"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQwNTo0NTowMFrOGAvYew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQwNTo0ODoxN1rOGAvZYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQyOTQ5OQ==", "bodyText": "Might be overkill, but I'd test to make sure the fields themselves have no properties.", "url": "https://github.com/linkedin/rest.li/pull/250#discussion_r403429499", "createdAt": "2020-04-04T05:45:00Z", "author": {"login": "evanw555"}, "path": "data/src/test/java/com/linkedin/data/schema/grammar/TestPdlSchemaParser.java", "diffHunk": "@@ -237,6 +236,32 @@ public void testNamedDataSchemaWithAliases()\n \n   }\n \n+  @Test\n+  public void testComplexTypeWithProperties()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dee9d18c97b4e39ab54c916aced8e7bc9aa7ea09"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQyOTcyOQ==", "bodyText": "@junchuanwang No, since AnonymousTypeDeclarationContext and NamedTypeDeclarationContext are separate classes with no inheritance relationship. The only other option would be to pass in the parent TypeDeclarationContext object, but that would still require that the anonymous and named types have their properties extracted separately.", "url": "https://github.com/linkedin/rest.li/pull/250#discussion_r403429729", "createdAt": "2020-04-04T05:48:17Z", "author": {"login": "evanw555"}, "path": "data/src/main/java/com/linkedin/data/schema/grammar/PdlSchemaParser.java", "diffHunk": "@@ -756,6 +760,26 @@ private RecordDataSchema parseRecord(\n     return properties;\n   }\n \n+  /**\n+   * Sets properties on the provided {@link ComplexDataSchema} using data parsed from the provided\n+   * {@link AnonymousTypeDeclarationContext}.\n+   *\n+   * @param source source to read properties from\n+   * @param target target on which to set properties\n+   */\n+  private void setProperties(AnonymousTypeDeclarationContext source, ComplexDataSchema target)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzM0NTAzMQ=="}, "originalCommit": {"oid": "dee9d18c97b4e39ab54c916aced8e7bc9aa7ea09"}, "originalPosition": 49}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ed3f765aaaf506f31e16a83094f405dda385bf5", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/6ed3f765aaaf506f31e16a83094f405dda385bf5", "committedDate": "2020-04-07T05:31:36Z", "message": "Add support for custom properties on anonymous complex schemas."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "81caf2b5a59eb9fb2e21e1b324bfbecf60b67192", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/81caf2b5a59eb9fb2e21e1b324bfbecf60b67192", "committedDate": "2020-04-07T05:35:12Z", "message": "Address review comments"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dee9d18c97b4e39ab54c916aced8e7bc9aa7ea09", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/dee9d18c97b4e39ab54c916aced8e7bc9aa7ea09", "committedDate": "2020-04-03T21:09:08Z", "message": "Add support for custom properties on anonymous complex schemas."}, "afterCommit": {"oid": "81caf2b5a59eb9fb2e21e1b324bfbecf60b67192", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/81caf2b5a59eb9fb2e21e1b324bfbecf60b67192", "committedDate": "2020-04-07T05:35:12Z", "message": "Address review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5NDEwODI5", "url": "https://github.com/linkedin/rest.li/pull/250#pullrequestreview-389410829", "createdAt": "2020-04-07T19:08:15Z", "commit": {"oid": "81caf2b5a59eb9fb2e21e1b324bfbecf60b67192"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 35, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}