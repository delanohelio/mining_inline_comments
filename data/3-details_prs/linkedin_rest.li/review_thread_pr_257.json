{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyMDg2NzI3", "number": 257, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMjozMToyOVrODw4H4A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMzoyMzozNFrODw4mvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNTc3NzYwOnYy", "diffSide": "RIGHT", "path": "gradle-plugins/src/main/java/com/linkedin/pegasus/gradle/PegasusPlugin.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMjozMToyOVrOGEHcOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMjo0ODowN1rOGEHreA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk2OTQwMg==", "bodyText": "This is sort of a general question, but I always wonder if having properties like this could collide with other properties in other plugins. Do you think it would make sense to prefix our properties with pegasus.?", "url": "https://github.com/linkedin/rest.li/pull/257#discussion_r406969402", "createdAt": "2020-04-10T22:31:29Z", "author": {"login": "evanw555"}, "path": "gradle-plugins/src/main/java/com/linkedin/pegasus/gradle/PegasusPlugin.java", "diffHunk": "@@ -561,6 +561,8 @@\n       \"dataTemplateGenerator\", \"restTools\", \"avroSchemaGenerator\");\n   // Directory in the dataTemplate jar that holds schemas translated from PDL to PDSC.\n   private static final String TRANSLATED_SCHEMAS_DIR = \"legacyPegasusSchemas\";\n+  // Enable the use of argFiles for the tasks that support them\n+  private static final String ENABLE_ARG_FILE = \"enableArgFile\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce123b2bbfc8f3b3fa34f0a7a0f2f1ad91bc8378"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk3MzMwNA==", "bodyText": "Good point, prefixed with pegasusPlugin", "url": "https://github.com/linkedin/rest.li/pull/257#discussion_r406973304", "createdAt": "2020-04-10T22:48:07Z", "author": {"login": "karthikbalasub"}, "path": "gradle-plugins/src/main/java/com/linkedin/pegasus/gradle/PegasusPlugin.java", "diffHunk": "@@ -561,6 +561,8 @@\n       \"dataTemplateGenerator\", \"restTools\", \"avroSchemaGenerator\");\n   // Directory in the dataTemplate jar that holds schemas translated from PDL to PDSC.\n   private static final String TRANSLATED_SCHEMAS_DIR = \"legacyPegasusSchemas\";\n+  // Enable the use of argFiles for the tasks that support them\n+  private static final String ENABLE_ARG_FILE = \"enableArgFile\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk2OTQwMg=="}, "originalCommit": {"oid": "ce123b2bbfc8f3b3fa34f0a7a0f2f1ad91bc8378"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNTgwMDU0OnYy", "diffSide": "RIGHT", "path": "gradle-plugins/src/main/java/com/linkedin/pegasus/gradle/tasks/GenerateRestModelTask.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMjo0NTo0MlrOGEHpWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMzoyMzoyOVrOGEIJsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk3Mjc2Mw==", "bodyText": "nit : the brace should be in the next line", "url": "https://github.com/linkedin/rest.li/pull/257#discussion_r406972763", "createdAt": "2020-04-10T22:45:42Z", "author": {"login": "nickibi"}, "path": "gradle-plugins/src/main/java/com/linkedin/pegasus/gradle/tasks/GenerateRestModelTask.java", "diffHunk": "@@ -219,9 +237,15 @@ private void executeSnapshotExporter(String name, List<String> inputDirs, List<S\n                                        boolean additionalDocProviders)\n   {\n     getProject().javaexec(javaExecSpec -> {\n+      String resolverPathArg = _resolverPath.getAsPath();\n+      if (isEnableArgFile()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce123b2bbfc8f3b3fa34f0a7a0f2f1ad91bc8378"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4MTA0MA==", "bodyText": "fixed", "url": "https://github.com/linkedin/rest.li/pull/257#discussion_r406981040", "createdAt": "2020-04-10T23:23:29Z", "author": {"login": "karthikbalasub"}, "path": "gradle-plugins/src/main/java/com/linkedin/pegasus/gradle/tasks/GenerateRestModelTask.java", "diffHunk": "@@ -219,9 +237,15 @@ private void executeSnapshotExporter(String name, List<String> inputDirs, List<S\n                                        boolean additionalDocProviders)\n   {\n     getProject().javaexec(javaExecSpec -> {\n+      String resolverPathArg = _resolverPath.getAsPath();\n+      if (isEnableArgFile()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk3Mjc2Mw=="}, "originalCommit": {"oid": "ce123b2bbfc8f3b3fa34f0a7a0f2f1ad91bc8378"}, "originalPosition": 61}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNTgyMTYzOnYy", "diffSide": "RIGHT", "path": "data-avro-generator/src/main/java/com/linkedin/data/avro/generator/AvroSchemaGenerator.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMzowMDowOFrOGEH1dw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMVQwMDoxOTowOFrOGEIxSg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk3NTg2Mw==", "bodyText": "I know I just approved, but I just realized this code is a duplicate of RestLiToolsUtils#readArgFromFileIfNeeded, right?", "url": "https://github.com/linkedin/rest.li/pull/257#discussion_r406975863", "createdAt": "2020-04-10T23:00:08Z", "author": {"login": "evanw555"}, "path": "data-avro-generator/src/main/java/com/linkedin/data/avro/generator/AvroSchemaGenerator.java", "diffHunk": "@@ -112,7 +113,14 @@ public static void main(String[] args) throws IOException\n       System.exit(1);\n     }\n \n-    run(System.getProperty(GENERATOR_RESOLVER_PATH),\n+    String resolverPath = System.getProperty(AbstractGenerator.GENERATOR_RESOLVER_PATH);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a786d57f0ac5bbcd3c1d30bdee3b7b5026a2c8a3"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk3NjE2OQ==", "bodyText": "Yes, but this is in a different module, so I didn't want to add dependency to restli-tools here.", "url": "https://github.com/linkedin/rest.li/pull/257#discussion_r406976169", "createdAt": "2020-04-10T23:01:45Z", "author": {"login": "karthikbalasub"}, "path": "data-avro-generator/src/main/java/com/linkedin/data/avro/generator/AvroSchemaGenerator.java", "diffHunk": "@@ -112,7 +113,14 @@ public static void main(String[] args) throws IOException\n       System.exit(1);\n     }\n \n-    run(System.getProperty(GENERATOR_RESOLVER_PATH),\n+    String resolverPath = System.getProperty(AbstractGenerator.GENERATOR_RESOLVER_PATH);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk3NTg2Mw=="}, "originalCommit": {"oid": "a786d57f0ac5bbcd3c1d30bdee3b7b5026a2c8a3"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk5MTE3OA==", "bodyText": "Makes sense", "url": "https://github.com/linkedin/rest.li/pull/257#discussion_r406991178", "createdAt": "2020-04-11T00:19:08Z", "author": {"login": "evanw555"}, "path": "data-avro-generator/src/main/java/com/linkedin/data/avro/generator/AvroSchemaGenerator.java", "diffHunk": "@@ -112,7 +113,14 @@ public static void main(String[] args) throws IOException\n       System.exit(1);\n     }\n \n-    run(System.getProperty(GENERATOR_RESOLVER_PATH),\n+    String resolverPath = System.getProperty(AbstractGenerator.GENERATOR_RESOLVER_PATH);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk3NTg2Mw=="}, "originalCommit": {"oid": "a786d57f0ac5bbcd3c1d30bdee3b7b5026a2c8a3"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNTg1NjI3OnYy", "diffSide": "RIGHT", "path": "restli-tools/src/main/java/com/linkedin/restli/internal/tools/RestLiToolsUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMzoyMzoyNVrOGEIJlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMzoyMzoyNVrOGEIJlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4MTAxNQ==", "bodyText": "here", "url": "https://github.com/linkedin/rest.li/pull/257#discussion_r406981015", "createdAt": "2020-04-10T23:23:25Z", "author": {"login": "nickibi"}, "path": "restli-tools/src/main/java/com/linkedin/restli/internal/tools/RestLiToolsUtils.java", "diffHunk": "@@ -106,4 +109,26 @@ public static boolean isParameterOptional(ParameterSchema param)\n     boolean optional = param.isOptional() == null ? false : param.isOptional();\n     return optional || param.hasDefault();\n   }\n+\n+  /**\n+   * Reads and returns the resolver path from system property {@link AbstractGenerator#GENERATOR_RESOLVER_PATH}.\n+   * If the value points to an arg file, reads the contents of the file and returns it.\n+   */\n+  public static String getResolverPathFromSystemProperty() throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "afa7c3ce0d706ccf30a03062d722e38c41343afb"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyNTg1NjYwOnYy", "diffSide": "RIGHT", "path": "restli-tools/src/main/java/com/linkedin/restli/internal/tools/RestLiToolsUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMzoyMzozNFrOGEIJxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMzoyMzozNFrOGEIJxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk4MTA2Mw==", "bodyText": "here", "url": "https://github.com/linkedin/rest.li/pull/257#discussion_r406981063", "createdAt": "2020-04-10T23:23:34Z", "author": {"login": "nickibi"}, "path": "restli-tools/src/main/java/com/linkedin/restli/internal/tools/RestLiToolsUtils.java", "diffHunk": "@@ -106,4 +109,26 @@ public static boolean isParameterOptional(ParameterSchema param)\n     boolean optional = param.isOptional() == null ? false : param.isOptional();\n     return optional || param.hasDefault();\n   }\n+\n+  /**\n+   * Reads and returns the resolver path from system property {@link AbstractGenerator#GENERATOR_RESOLVER_PATH}.\n+   * If the value points to an arg file, reads the contents of the file and returns it.\n+   */\n+  public static String getResolverPathFromSystemProperty() throws IOException {\n+    String resolverPath = System.getProperty(AbstractGenerator.GENERATOR_RESOLVER_PATH);\n+    return readArgFromFileIfNeeded(resolverPath);\n+  }\n+\n+  /**\n+   * If argValue points to an arg file, reads the contents of the file and returns it.\n+   */\n+  public static String readArgFromFileIfNeeded(String argValue) throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "afa7c3ce0d706ccf30a03062d722e38c41343afb"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 670, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}