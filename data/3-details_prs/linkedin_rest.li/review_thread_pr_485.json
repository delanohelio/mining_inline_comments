{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1MDkwNjEy", "number": 485, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QwOTozNzo0MVrOE8Io_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QwOTozNzo0MVrOE8Io_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxNDkxNTgzOnYy", "diffSide": "RIGHT", "path": "restli-tools/src/main/java/com/linkedin/restli/tools/symbol/RestLiSymbolTableProvider.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QwOTozNzo0MVrOH4FcCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxODowMToxNVrOH4ZRDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU3MTQwMA==", "bodyText": "shouldn't requestUri will always start with uriPrefix?\nreason for adding d2 check was for HTTP(s) prefixes adding /serviceName/resources or something else might be different from where symbol table endpoint is hosted since we are using zk serverNodeUri to construct symbol table API endpoint", "url": "https://github.com/linkedin/rest.li/pull/485#discussion_r528571400", "createdAt": "2020-11-23T09:37:41Z", "author": {"login": "aman1309"}, "path": "restli-tools/src/main/java/com/linkedin/restli/tools/symbol/RestLiSymbolTableProvider.java", "diffHunk": "@@ -220,13 +221,21 @@ public SymbolTable getSymbolTable(String symbolTableName)\n   @Override\n   public SymbolTable getRequestSymbolTable(URI requestUri)\n   {\n+    // If the URI prefix doesn't match, return null.\n+    if (!requestUri.toString().startsWith(_uriPrefix))\n+    {\n+      return null;\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33285f904f39985b3c316b00fe12b699ac6753bf"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODg5NjI2OA==", "bodyText": "There is currently no guarantee that request URI has to start with uriPrefix. This check just ensures that.\nYes, practically it is going to be d2 or http(s) but the contract of this class itself makes no assumptions about that. Hence, its safer to code it this way.", "url": "https://github.com/linkedin/rest.li/pull/485#discussion_r528896268", "createdAt": "2020-11-23T18:01:15Z", "author": {"login": "karthikrg"}, "path": "restli-tools/src/main/java/com/linkedin/restli/tools/symbol/RestLiSymbolTableProvider.java", "diffHunk": "@@ -220,13 +221,21 @@ public SymbolTable getSymbolTable(String symbolTableName)\n   @Override\n   public SymbolTable getRequestSymbolTable(URI requestUri)\n   {\n+    // If the URI prefix doesn't match, return null.\n+    if (!requestUri.toString().startsWith(_uriPrefix))\n+    {\n+      return null;\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU3MTQwMA=="}, "originalCommit": {"oid": "33285f904f39985b3c316b00fe12b699ac6753bf"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 281, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}