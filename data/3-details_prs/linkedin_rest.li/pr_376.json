{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY2NTg3NzIz", "number": 376, "title": "Fix the non-deterministic issue", "bodyText": "Previous fix didn't take care the schema type of Map and Array etc. The non-consistency problem happens in the following scenario:\nSuppose there are 3 PDL files,\nFoo1.pdl which has a field of array with type Bar\nFoo2.pdl which also has a field of array with type Bar\nThis 3 schema file will generate Foo1.java Foo2.java and Bar.java and also BarArray.java\nIt is the annotation in the BarArray.java appeared to have non-consistency in terms appearing to have 2 different generated-by files. Sometimes it is Foo1.pdl, sometimes it is Foo2.pdl.\nThe solution can be multiple:\n\nJust add \"pushSchemaLocation\" calls to put Bar.pdl location in the BarArray generated class. But this is wrong since the BarArray class should be generated by Foo1 or Foo2\n\n2nd solution is to have the input always sorted. This is way we take little hit on build-time performance, but we gain consistency where once we build, the following many times we can rely on build cache.", "createdAt": "2020-08-12T07:48:25Z", "url": "https://github.com/linkedin/rest.li/pull/376", "merged": true, "mergeCommit": {"oid": "a7c95c0381e65f1da035906ceb90f885c6f8ade3"}, "closed": true, "closedAt": "2020-08-14T00:12:06Z", "author": {"login": "BrianPin"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-GYcbgH2gAyNDY2NTg3NzIzOmUxNjQ4YmU5YTRlMzlmZmJmNmM3NWNjZjBiZDM1N2JlMzhmMjA3OGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-odiRgH2gAyNDY2NTg3NzIzOjIzNGY3Yjg5NzUxYjM5ZGU5NjM1YTczMzlmYjFiMjk1ZjllODY0NWI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e1648be9a4e39ffbf6c75ccf0bd357be38f2078f", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/e1648be9a4e39ffbf6c75ccf0bd357be38f2078f", "committedDate": "2020-08-12T07:35:31Z", "message": "Fix the non-deterministic issue"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1NjkyODY1", "url": "https://github.com/linkedin/rest.li/pull/376#pullrequestreview-465692865", "createdAt": "2020-08-12T08:21:08Z", "commit": {"oid": "e1648be9a4e39ffbf6c75ccf0bd357be38f2078f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2MDkxMDQ5", "url": "https://github.com/linkedin/rest.li/pull/376#pullrequestreview-466091049", "createdAt": "2020-08-12T16:41:49Z", "commit": {"oid": "e1648be9a4e39ffbf6c75ccf0bd357be38f2078f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2MTE3MjE2", "url": "https://github.com/linkedin/rest.li/pull/376#pullrequestreview-466117216", "createdAt": "2020-08-12T17:16:52Z", "commit": {"oid": "e1648be9a4e39ffbf6c75ccf0bd357be38f2078f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxNzoxNjo1MlrOG_q6eA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQxNzoxNjo1MlrOG_q6eA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTQxNjU2OA==", "bodyText": "nit: Typically if there are no changes in a file, i would not do any whitespace fixes.", "url": "https://github.com/linkedin/rest.li/pull/376#discussion_r469416568", "createdAt": "2020-08-12T17:16:52Z", "author": {"login": "Astro03"}, "path": "generator/src/main/java/com/linkedin/pegasus/generator/TemplateSpecGenerator.java", "diffHunk": "@@ -602,7 +602,6 @@ private MapTemplateSpec generateMap(MapDataSchema schema, ClassTemplateSpec encl\n \n     final MapTemplateSpec mapClass = (MapTemplateSpec) classInfo.definedClass;\n     registerClassTemplateSpec(schema, mapClass);\n-", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1648be9a4e39ffbf6c75ccf0bd357be38f2078f"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2MTE5NjMy", "url": "https://github.com/linkedin/rest.li/pull/376#pullrequestreview-466119632", "createdAt": "2020-08-12T17:20:00Z", "commit": {"oid": "e1648be9a4e39ffbf6c75ccf0bd357be38f2078f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8306472fc7bd8933bb934342f1f4c32f572a298", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/d8306472fc7bd8933bb934342f1f4c32f572a298", "committedDate": "2020-08-13T23:00:39Z", "message": "Merge branch 'master' into bug/nonDeterministicGeneratedDataTemplate2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "234f7b89751b39de9635a7339fb1b295f9e8645b", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/234f7b89751b39de9635a7339fb1b295f9e8645b", "committedDate": "2020-08-13T23:17:51Z", "message": "remove uncessary changes"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4603, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}