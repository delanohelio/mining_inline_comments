{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE2MzMwNTE5", "number": 470, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQyMDo1MTo0OFrOE11vHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQyMDo1NTozOFrOE110Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0ODkwMzk5OnYy", "diffSide": "RIGHT", "path": "gradle-plugins/src/main/java/com/linkedin/pegasus/gradle/PegasusPlugin.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQyMDo1MTo0OFrOHuV_5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQyMDo1Njo0OVrOHuWKKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODM1Njk2NA==", "bodyText": "Does changing the ordering here fix the problem we talked about earlier (related to the wrong pegasus version being picked up in the schema annotation handler configuration)?", "url": "https://github.com/linkedin/rest.li/pull/470#discussion_r518356964", "createdAt": "2020-11-05T20:51:48Z", "author": {"login": "evanw555"}, "path": "gradle-plugins/src/main/java/com/linkedin/pegasus/gradle/PegasusPlugin.java", "diffHunk": "@@ -1441,8 +1447,8 @@ protected void configurePegasusSchemaSnapshotGeneration(Project project, SourceS\n           task.dependsOn(generatePegasusSchemaSnapshot);\n           task.setCurrentSnapshotDirectory(publishablePegasusSchemaSnapshotDir.toFile());\n           task.setPreviousSnapshotDirectory(pegasusSchemaSnapshotDir);\n-          task.setCodegenClasspath(project.getConfigurations() .getByName(SCHEMA_ANNOTATION_HANDLER_CONFIGURATION)\n-              .plus(project.getConfigurations().getByName(PEGASUS_PLUGIN_CONFIGURATION))\n+          task.setCodegenClasspath(project.getConfigurations().getByName(PEGASUS_PLUGIN_CONFIGURATION)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e24f1138bf9dab9052a157edb575130e01b9cf8"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODM1OTU5NQ==", "bodyText": "Yes, it fixes the problem", "url": "https://github.com/linkedin/rest.li/pull/470#discussion_r518359595", "createdAt": "2020-11-05T20:56:49Z", "author": {"login": "nickibi"}, "path": "gradle-plugins/src/main/java/com/linkedin/pegasus/gradle/PegasusPlugin.java", "diffHunk": "@@ -1441,8 +1447,8 @@ protected void configurePegasusSchemaSnapshotGeneration(Project project, SourceS\n           task.dependsOn(generatePegasusSchemaSnapshot);\n           task.setCurrentSnapshotDirectory(publishablePegasusSchemaSnapshotDir.toFile());\n           task.setPreviousSnapshotDirectory(pegasusSchemaSnapshotDir);\n-          task.setCodegenClasspath(project.getConfigurations() .getByName(SCHEMA_ANNOTATION_HANDLER_CONFIGURATION)\n-              .plus(project.getConfigurations().getByName(PEGASUS_PLUGIN_CONFIGURATION))\n+          task.setCodegenClasspath(project.getConfigurations().getByName(PEGASUS_PLUGIN_CONFIGURATION)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODM1Njk2NA=="}, "originalCommit": {"oid": "3e24f1138bf9dab9052a157edb575130e01b9cf8"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0ODkxNzAyOnYy", "diffSide": "RIGHT", "path": "gradle-plugins/src/main/java/com/linkedin/pegasus/gradle/PegasusPlugin.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQyMDo1NTozOFrOHuWH0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQyMDo1NTozOFrOHuWH0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODM1ODk5Mg==", "bodyText": "Looking at other methods like configureRestClientConfiguration, this sort of conditional check is done inside the method. I'd suggest making it consistent.", "url": "https://github.com/linkedin/rest.li/pull/470#discussion_r518358992", "createdAt": "2020-11-05T20:55:38Z", "author": {"login": "evanw555"}, "path": "gradle-plugins/src/main/java/com/linkedin/pegasus/gradle/PegasusPlugin.java", "diffHunk": "@@ -850,7 +850,13 @@ public void apply(Project project)\n         configurePegasusSchemaSnapshotGeneration(project, sourceSet, false);\n       }\n \n-      configurePegasusSchemaSnapshotGeneration(project, sourceSet, true);\n+      // Do compatibility check if there are extension schemas.\n+      if (!SharedFileUtils.getSuffixedFiles(project,  project.file(getExtensionSchemaPath(project, sourceSet)),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3e24f1138bf9dab9052a157edb575130e01b9cf8"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 415, "cost": 1, "resetAt": "2021-11-12T20:44:06Z"}}}