{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxMTAzODk0", "number": 254, "title": "Update ExtensionSchemaValidation task", "bodyText": "Update extension schema validation task to check extension schema annotation.\nManual test.", "createdAt": "2020-04-08T22:04:45Z", "url": "https://github.com/linkedin/rest.li/pull/254", "merged": true, "mergeCommit": {"oid": "1856837a5edc66592470f0779c528d85b59e0105"}, "closed": true, "closedAt": "2020-07-20T23:32:36Z", "author": {"login": "nickibi"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcV0tpkgFqTM5MDQ2NjEzMA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc26NDwgFqTQ1MjAyNTgxMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwNDY2MTMw", "url": "https://github.com/linkedin/rest.li/pull/254#pullrequestreview-390466130", "createdAt": "2020-04-09T03:20:31Z", "commit": {"oid": "2fc719edbacfc6fe2a5158d9a0d4817b7ab90156"}, "state": "COMMENTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwMzoyMDozMVrOGDIPIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNDoyMjoyM1rOGDJGjw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTkzMzg1OA==", "bodyText": "can you help fixing this by adding \"_\" to the prefix? Thanks!", "url": "https://github.com/linkedin/rest.li/pull/254#discussion_r405933858", "createdAt": "2020-04-09T03:20:31Z", "author": {"login": "junchuanwang"}, "path": "data/src/main/java/com/linkedin/data/schema/annotation/SchemaAnnotationHandler.java", "diffHunk": "@@ -279,6 +280,8 @@ public void addMessages(Collection<? extends Message> messages)\n     DataSchema _dataSchema;\n     // the pathSpec component list to the dataSchema whose resolved annotation needs to be validated.\n     ArrayDeque<String> pathToSchema;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2fc719edbacfc6fe2a5158d9a0d4817b7ab90156"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTkzOTQ4NA==", "bodyText": "Please add JavaDoc for this constructor", "url": "https://github.com/linkedin/rest.li/pull/254#discussion_r405939484", "createdAt": "2020-04-09T03:44:57Z", "author": {"login": "junchuanwang"}, "path": "data/src/main/java/com/linkedin/data/schema/annotation/SchemaAnnotationValidationVisitor.java", "diffHunk": "@@ -36,11 +36,19 @@\n   private final SchemaAnnotationHandler _schemaAnnotationHandler;\n   private static final Logger LOGGER = LoggerFactory.getLogger(SchemaAnnotationValidationVisitor.class);\n \n+  private boolean _useProperties;\n+\n   public SchemaAnnotationValidationVisitor(SchemaAnnotationHandler schemaAnnotationHandler)\n   {\n     _schemaAnnotationHandler = schemaAnnotationHandler;\n   }\n \n+  public SchemaAnnotationValidationVisitor(SchemaAnnotationHandler schemaAnnotationHandler, boolean useProperties)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2fc719edbacfc6fe2a5158d9a0d4817b7ab90156"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTkzOTcwOA==", "bodyText": "A bit messy, can you re-organize? Probably using help of parenthesis", "url": "https://github.com/linkedin/rest.li/pull/254#discussion_r405939708", "createdAt": "2020-04-09T03:46:02Z", "author": {"login": "junchuanwang"}, "path": "data/src/main/java/com/linkedin/data/schema/annotation/SchemaAnnotationValidationVisitor.java", "diffHunk": "@@ -53,8 +61,14 @@ public void callbackOnContext(TraverserContext context, DataSchemaTraverse.Order\n     SchemaAnnotationHandler.ValidationMetaData metaData = new SchemaAnnotationHandler.ValidationMetaData();\n     metaData.setDataSchema(context.getCurrentSchema());\n     metaData.setPathToSchema(context.getTraversePath());\n-    AnnotationValidationResult annotationValidationResult = _schemaAnnotationHandler.validate(schema.getResolvedProperties(),\n-                                                                                              metaData);\n+    metaData.setEnclosingField(context.getEnclosingField());\n+\n+    // Pass the enclosingField's properties in the validate(), if useProperies flag is on for extension schema annotation case.\n+    AnnotationValidationResult annotationValidationResult = _useProperties\n+        ? _schemaAnnotationHandler.validate(context.getEnclosingField() != null", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2fc719edbacfc6fe2a5158d9a0d4817b7ab90156"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTk0MjYxOA==", "bodyText": "JavaDoc;\nUse captalized class name;\nAlso can you rename this class? There is already one with same name", "url": "https://github.com/linkedin/rest.li/pull/254#discussion_r405942618", "createdAt": "2020-04-09T03:58:31Z", "author": {"login": "junchuanwang"}, "path": "restli-tools/src/main/java/com/linkedin/restli/tools/annotation/schemaAnnotationHandlerUtil.java", "diffHunk": "@@ -0,0 +1,78 @@\n+/*\n+   Copyright (c) 2020 LinkedIn Corp.\n+\n+   Licensed under the Apache License, Version 2.0 (the \"License\");\n+   you may not use this file except in compliance with the License.\n+   You may obtain a copy of the License at\n+\n+       http://www.apache.org/licenses/LICENSE-2.0\n+\n+   Unless required by applicable law or agreed to in writing, software\n+   distributed under the License is distributed on an \"AS IS\" BASIS,\n+   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+   See the License for the specific language governing permissions and\n+   limitations under the License.\n+*/\n+package com.linkedin.restli.tools.annotation;\n+\n+import com.linkedin.data.schema.annotation.SchemaAnnotationHandler;\n+import java.net.URL;\n+import java.net.URLClassLoader;\n+import java.nio.file.Paths;\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Objects;\n+import java.util.StringTokenizer;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import static com.linkedin.data.schema.resolver.FileDataSchemaResolver.*;\n+\n+\n+public class schemaAnnotationHandlerUtil", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2fc719edbacfc6fe2a5158d9a0d4817b7ab90156"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTk0MzMyOQ==", "bodyText": "I feel manual test for these is not enough. Can you find a way to write test cases for this line of logic?", "url": "https://github.com/linkedin/rest.li/pull/254#discussion_r405943329", "createdAt": "2020-04-09T04:01:32Z", "author": {"login": "junchuanwang"}, "path": "restli-tools/src/main/java/com/linkedin/restli/tools/data/ExtensionSchemaValidationCmdLineApp.java", "diffHunk": "@@ -132,7 +139,29 @@ private static void parseAndValidateExtensionSchemas(String resolverPath, File i\n           .stream()\n           .filter(f -> !((RecordDataSchema) topLevelDataSchema).isFieldFromIncludes(f))\n           .collect(Collectors.toList());\n-      // TODO : Call annotation process to validate each field's annotation, need to create schemaVisitor and handler for extension annotation.\n+\n+      for (RecordDataSchema.Field field : extensionSchemaFields) {\n+        Map<String, Object> properties = field.getProperties();\n+\n+        if (properties.isEmpty() || properties.keySet().size() != 1 || !properties.containsKey(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2fc719edbacfc6fe2a5158d9a0d4817b7ab90156"}, "originalPosition": 73}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTk0Mzc2NA==", "bodyText": "In your case, should we reword to \"annotation validation\" instead of \"annotation processing\"?", "url": "https://github.com/linkedin/rest.li/pull/254#discussion_r405943764", "createdAt": "2020-04-09T04:03:06Z", "author": {"login": "junchuanwang"}, "path": "restli-tools/src/main/java/com/linkedin/restli/tools/data/ExtensionSchemaValidationCmdLineApp.java", "diffHunk": "@@ -132,7 +139,29 @@ private static void parseAndValidateExtensionSchemas(String resolverPath, File i\n           .stream()\n           .filter(f -> !((RecordDataSchema) topLevelDataSchema).isFieldFromIncludes(f))\n           .collect(Collectors.toList());\n-      // TODO : Call annotation process to validate each field's annotation, need to create schemaVisitor and handler for extension annotation.\n+\n+      for (RecordDataSchema.Field field : extensionSchemaFields) {\n+        Map<String, Object> properties = field.getProperties();\n+\n+        if (properties.isEmpty() || properties.keySet().size() != 1 || !properties.containsKey(\n+            _extension_annotation_namespace)) {\n+          _logger.error(\"The field [{}] of extension schema must and only be annotated with 'extension'\", field.getName());\n+          System.exit(1);\n+        }\n+      }\n+\n+      // Using annotation framework to check the annotations of fields in extension schema.\n+      List<SchemaAnnotationHandler> handlers = schemaAnnotationHandlerUtil.getSchemaAnnotationHandlers(handlerJarPaths, handlerClassNames);\n+\n+      SchemaAnnotationProcessor.SchemaAnnotationProcessResult result =\n+          SchemaAnnotationProcessor.process(handlers, topLevelDataSchema, new SchemaAnnotationProcessor.AnnotationProcessOption());\n+      if (result.hasError())\n+      {\n+        _logger.error(\"Annotation processing for schema [{}] failed, detailed error: \\n\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2fc719edbacfc6fe2a5158d9a0d4817b7ab90156"}, "originalPosition": 87}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTk0ODA0Nw==", "bodyText": "From my experience, exception won't be enough, you probably will  have to add \"Error\" as well", "url": "https://github.com/linkedin/rest.li/pull/254#discussion_r405948047", "createdAt": "2020-04-09T04:22:23Z", "author": {"login": "junchuanwang"}, "path": "restli-tools/src/main/java/com/linkedin/restli/tools/annotation/schemaAnnotationHandlerUtil.java", "diffHunk": "@@ -0,0 +1,78 @@\n+/*\n+   Copyright (c) 2020 LinkedIn Corp.\n+\n+   Licensed under the Apache License, Version 2.0 (the \"License\");\n+   you may not use this file except in compliance with the License.\n+   You may obtain a copy of the License at\n+\n+       http://www.apache.org/licenses/LICENSE-2.0\n+\n+   Unless required by applicable law or agreed to in writing, software\n+   distributed under the License is distributed on an \"AS IS\" BASIS,\n+   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+   See the License for the specific language governing permissions and\n+   limitations under the License.\n+*/\n+package com.linkedin.restli.tools.annotation;\n+\n+import com.linkedin.data.schema.annotation.SchemaAnnotationHandler;\n+import java.net.URL;\n+import java.net.URLClassLoader;\n+import java.nio.file.Paths;\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Objects;\n+import java.util.StringTokenizer;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import static com.linkedin.data.schema.resolver.FileDataSchemaResolver.*;\n+\n+\n+public class schemaAnnotationHandlerUtil\n+{\n+  private static final Logger _logger = LoggerFactory.getLogger(schemaAnnotationHandlerUtil.class);\n+\n+  public static List<SchemaAnnotationHandler> getSchemaAnnotationHandlers(String handlerJarPaths, String handlerClassNames) {\n+    List<SchemaAnnotationHandler> handlers = new ArrayList<>();\n+\n+    List<String> handlerJarPathsArray = parsePaths(handlerJarPaths);\n+    // Use Jar Paths to initiate URL class loaders.\n+    ClassLoader classLoader = new URLClassLoader(handlerJarPathsArray.stream().map(str -> {\n+      try {\n+        return Paths.get(str).toUri().toURL();\n+      } catch (Exception e) {\n+        _logger.error(\"URL {} parsing failed\", str, e);\n+      }\n+      return null;\n+    }).filter(Objects::nonNull).toArray(URL[]::new));\n+\n+    for (String className : parsePaths(handlerClassNames)) {\n+      try {\n+        Class<?> handlerClass = Class.forName(className, false, classLoader);\n+        SchemaAnnotationHandler handler = (SchemaAnnotationHandler) handlerClass.newInstance();\n+        handlers.add(handler);\n+        _logger.info(\"added handler {} for annotation namespace \\\"{}\\\"\", className, handler.getAnnotationNamespace());\n+      } catch (Exception e) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2fc719edbacfc6fe2a5158d9a0d4817b7ab90156"}, "originalPosition": 56}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fe89e47633eedde708cbcc548f58358dbd8e133d", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/fe89e47633eedde708cbcc548f58358dbd8e133d", "committedDate": "2020-04-10T05:33:45Z", "message": "Address review feedback"}, "afterCommit": {"oid": "40149838329eed5c8120b11fa42acf6de0195721", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/40149838329eed5c8120b11fa42acf6de0195721", "committedDate": "2020-04-11T20:35:51Z", "message": "Update the ExtensionSchemaValidationCmdLineApp to add extensionSchemaField check"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "40149838329eed5c8120b11fa42acf6de0195721", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/40149838329eed5c8120b11fa42acf6de0195721", "committedDate": "2020-04-11T20:35:51Z", "message": "Update the ExtensionSchemaValidationCmdLineApp to add extensionSchemaField check"}, "afterCommit": {"oid": "6a28deda31bd4a0f8506a4a742368116cd2cb288", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/6a28deda31bd4a0f8506a4a742368116cd2cb288", "committedDate": "2020-04-11T20:41:19Z", "message": "Update the ExtensionSchemaValidationCmdLineApp to add extensionSchemaField check"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6a28deda31bd4a0f8506a4a742368116cd2cb288", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/6a28deda31bd4a0f8506a4a742368116cd2cb288", "committedDate": "2020-04-11T20:41:19Z", "message": "Update the ExtensionSchemaValidationCmdLineApp to add extensionSchemaField check"}, "afterCommit": {"oid": "a79d474a548303a8bbdb0feb1eaf1d187a28e29e", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/a79d474a548303a8bbdb0feb1eaf1d187a28e29e", "committedDate": "2020-04-11T20:50:19Z", "message": "Update the ExtensionSchemaValidationCmdLineApp to add extensionSchemaField check"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a79d474a548303a8bbdb0feb1eaf1d187a28e29e", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/a79d474a548303a8bbdb0feb1eaf1d187a28e29e", "committedDate": "2020-04-11T20:50:19Z", "message": "Update the ExtensionSchemaValidationCmdLineApp to add extensionSchemaField check"}, "afterCommit": {"oid": "3d6a0012c85a7d723eef2a6a3d609ccbb8d63b14", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/3d6a0012c85a7d723eef2a6a3d609ccbb8d63b14", "committedDate": "2020-04-11T20:55:44Z", "message": "Update the ExtensionSchemaValidationCmdLineApp to add extensionSchemaField check"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3d6a0012c85a7d723eef2a6a3d609ccbb8d63b14", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/3d6a0012c85a7d723eef2a6a3d609ccbb8d63b14", "committedDate": "2020-04-11T20:55:44Z", "message": "Update the ExtensionSchemaValidationCmdLineApp to add extensionSchemaField check"}, "afterCommit": {"oid": "d34a2d8e5742ff572ec118010f0d5e41cb748a78", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/d34a2d8e5742ff572ec118010f0d5e41cb748a78", "committedDate": "2020-04-12T02:39:40Z", "message": "Update the ExtensionSchemaValidationCmdLineApp to add extensionSchemaField check"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkzNDk0MTM2", "url": "https://github.com/linkedin/rest.li/pull/254#pullrequestreview-393494136", "createdAt": "2020-04-15T06:43:21Z", "commit": {"oid": "d34a2d8e5742ff572ec118010f0d5e41cb748a78"}, "state": "COMMENTED", "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNjo0MzoyMlrOGFr1JA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQwNzoxMDoyM1rOGFskdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYxNDE4MA==", "bodyText": "{ to newline :)", "url": "https://github.com/linkedin/rest.li/pull/254#discussion_r408614180", "createdAt": "2020-04-15T06:43:22Z", "author": {"login": "karthikbalasub"}, "path": "gradle-plugins/src/main/java/com/linkedin/pegasus/gradle/SchemaAnnotationHandlerClassUtil.java", "diffHunk": "@@ -0,0 +1,181 @@\n+/*\n+ * Copyright (c) 2020 LinkedIn Corp.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.linkedin.pegasus.gradle;\n+\n+import java.io.File;\n+import java.io.FileNotFoundException;\n+import java.io.IOException;\n+import java.io.InputStream;\n+import java.lang.annotation.Annotation;\n+import java.net.URL;\n+import java.net.URLClassLoader;\n+import java.util.ArrayList;\n+import java.util.Arrays;\n+import java.util.HashSet;\n+import java.util.List;\n+import java.util.Set;\n+import java.util.jar.JarEntry;\n+import java.util.jar.JarInputStream;\n+import org.gradle.api.GradleException;\n+import org.gradle.api.file.FileCollection;\n+import org.gradle.api.logging.Logger;\n+import org.gradle.api.logging.Logging;\n+\n+/**\n+ * A utility for getting SchemaAnnotationHandler classes.\n+ */\n+public class SchemaAnnotationHandlerClassUtil\n+{\n+  private final static Logger LOGGER = Logging.getLogger(SchemaAnnotationHandlerClassUtil.class);\n+  private static final String SCHEMA_HANDLER_JAVA_ANNOTATION = \"RestLiSchemaAnnotationHandler\";\n+  private static final char FILE_SEPARATOR = File.separatorChar;\n+  private static final char UNIX_FILE_SEPARATOR = '/';\n+  private static final char PACKAGE_SEPARATOR = '.';\n+  private static final String CLASS_SUFFIX = \".class\";\n+  private static ClassLoader _classLoader;\n+\n+  /**\n+   * Based on the handlerJarPath, provide a list of schema annotation handler names.\n+   * @param handlerJarPath FileCollection\n+   * @param expectedHandlersNumber int\n+   * @param taskClassLoader ClassLoader\n+   * @return list of schema annotation handler names.\n+   * @throws IOException\n+   */\n+  public static List<String> getSchemaAnnotationHandlerClassNames(FileCollection handlerJarPath, int expectedHandlersNumber, ClassLoader taskClassLoader)\n+      throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d34a2d8e5742ff572ec118010f0d5e41cb748a78"}, "originalPosition": 60}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYxNjU2NQ==", "bodyText": "Use pdl?\nWe would have to migrate PDSCs in pegasus that are used to represent entities like ResourceSchema etc. We can do it after you merge this PR..", "url": "https://github.com/linkedin/rest.li/pull/254#discussion_r408616565", "createdAt": "2020-04-15T06:48:57Z", "author": {"login": "karthikbalasub"}, "path": "restli-common/src/main/pegasus/com/linkedin/restli/common/ExtensionSchemaAnnotation.pdsc", "diffHunk": "@@ -0,0 +1,28 @@\n+{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d34a2d8e5742ff572ec118010f0d5e41cb748a78"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYyMTIxMQ==", "bodyText": "Specified only for one to many...", "url": "https://github.com/linkedin/rest.li/pull/254#discussion_r408621211", "createdAt": "2020-04-15T06:59:20Z", "author": {"login": "karthikbalasub"}, "path": "restli-common/src/main/pegasus/com/linkedin/restli/common/ExtensionSchemaAnnotation.pdsc", "diffHunk": "@@ -0,0 +1,28 @@\n+{\n+  \"type\": \"record\",\n+  \"name\": \"ExtensionSchemaAnnotation\",\n+  \"namespace\": \"com.linkedin.restli.common\",\n+  \"doc\": \"Specifies the extension schema annotation configuration for defining the entity relationship among entities.\",\n+  \"fields\": [\n+    {\n+      \"name\": \"resource\",\n+      \"type\": \"string\",\n+      \"doc\": \"Specifies resource name to avoid the ambiguity in multi-version scenario.\"\n+    },\n+    {\n+      \"name\": \"using\",\n+      \"type\": \"string\",\n+      \"doc\": \"Specified one to many relationship. It can use either GET_ALL(\\\"get_all\\\") or a FINDER(\\\"finder:<method name>\\\").\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d34a2d8e5742ff572ec118010f0d5e41cb748a78"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYyMjM1Ng==", "bodyText": "I'm thinking we should move ResoureKey annotation definition also here: https://jarvis.corp.linkedin.com/codesearch/result/?path=resource-identity%2Fresource-identity-urn%2Fsrc%2Fmain%2Fpegasus%2Fcom%2Flinkedin%2Fresourceidentity%2Furn&reponame=multiproducts%2Fresource-identity&name=ResourceKey.pdl\nAs this annotation itself doesn't provide all details needed for the injection. It would be good to keep them both in one place. What do you think?\nWe can do it in a follow-up PR.", "url": "https://github.com/linkedin/rest.li/pull/254#discussion_r408622356", "createdAt": "2020-04-15T07:01:58Z", "author": {"login": "karthikbalasub"}, "path": "restli-common/src/main/pegasus/com/linkedin/restli/common/ExtensionSchemaAnnotation.pdsc", "diffHunk": "@@ -0,0 +1,28 @@\n+{\n+  \"type\": \"record\",\n+  \"name\": \"ExtensionSchemaAnnotation\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d34a2d8e5742ff572ec118010f0d5e41cb748a78"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYyMzEyMA==", "bodyText": "This only specifies how parameters if any are specified (or for finders). The actual specification to fetch the entity comes from resource key for GET.", "url": "https://github.com/linkedin/rest.li/pull/254#discussion_r408623120", "createdAt": "2020-04-15T07:03:44Z", "author": {"login": "karthikbalasub"}, "path": "restli-common/src/main/pegasus/com/linkedin/restli/common/ExtensionSchemaAnnotation.pdsc", "diffHunk": "@@ -0,0 +1,28 @@\n+{\n+  \"type\": \"record\",\n+  \"name\": \"ExtensionSchemaAnnotation\",\n+  \"namespace\": \"com.linkedin.restli.common\",\n+  \"doc\": \"Specifies the extension schema annotation configuration for defining the entity relationship among entities.\",\n+  \"fields\": [\n+    {\n+      \"name\": \"resource\",\n+      \"type\": \"string\",\n+      \"doc\": \"Specifies resource name to avoid the ambiguity in multi-version scenario.\"\n+    },\n+    {\n+      \"name\": \"using\",\n+      \"type\": \"string\",\n+      \"doc\": \"Specified one to many relationship. It can use either GET_ALL(\\\"get_all\\\") or a FINDER(\\\"finder:<method name>\\\").\",\n+      \"optional\": true\n+    },\n+    {\n+      \"name\": \"params\",\n+      \"type\": {\n+        \"type\": \"map\",\n+        \"values\": \"string\"\n+      },\n+      \"doc\": \"Specifies how the injected entity can be fetched using the extendedEntity's fields.\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d34a2d8e5742ff572ec118010f0d5e41cb748a78"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYyMzMzMA==", "bodyText": "Should this be optional then?", "url": "https://github.com/linkedin/rest.li/pull/254#discussion_r408623330", "createdAt": "2020-04-15T07:04:09Z", "author": {"login": "karthikbalasub"}, "path": "restli-common/src/main/pegasus/com/linkedin/restli/common/ExtensionSchemaAnnotation.pdsc", "diffHunk": "@@ -0,0 +1,28 @@\n+{\n+  \"type\": \"record\",\n+  \"name\": \"ExtensionSchemaAnnotation\",\n+  \"namespace\": \"com.linkedin.restli.common\",\n+  \"doc\": \"Specifies the extension schema annotation configuration for defining the entity relationship among entities.\",\n+  \"fields\": [\n+    {\n+      \"name\": \"resource\",\n+      \"type\": \"string\",\n+      \"doc\": \"Specifies resource name to avoid the ambiguity in multi-version scenario.\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d34a2d8e5742ff572ec118010f0d5e41cb748a78"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYyNDcyNQ==", "bodyText": "Why is this duplicated? Can't you just use SchemaAnnotationHandlerClassUtil?", "url": "https://github.com/linkedin/rest.li/pull/254#discussion_r408624725", "createdAt": "2020-04-15T07:07:13Z", "author": {"login": "karthikbalasub"}, "path": "restli-tools/src/main/java/com/linkedin/restli/tools/annotation/SchemaAnnotationHandlerUtil.java", "diffHunk": "@@ -0,0 +1,96 @@\n+/*\n+   Copyright (c) 2020 LinkedIn Corp.\n+\n+   Licensed under the Apache License, Version 2.0 (the \"License\");\n+   you may not use this file except in compliance with the License.\n+   You may obtain a copy of the License at\n+\n+       http://www.apache.org/licenses/LICENSE-2.0\n+\n+   Unless required by applicable law or agreed to in writing, software\n+   distributed under the License is distributed on an \"AS IS\" BASIS,\n+   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+   See the License for the specific language governing permissions and\n+   limitations under the License.\n+*/\n+package com.linkedin.restli.tools.annotation;\n+\n+import com.linkedin.data.schema.annotation.SchemaAnnotationHandler;\n+import java.net.URL;\n+import java.net.URLClassLoader;\n+import java.nio.file.Paths;\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.Objects;\n+import java.util.StringTokenizer;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import static com.linkedin.data.schema.resolver.FileDataSchemaResolver.*;\n+\n+\n+/**\n+ * Schema Annotation Handler utility\n+ */\n+public class SchemaAnnotationHandlerUtil", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d34a2d8e5742ff572ec118010f0d5e41cb748a78"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYyNTgzOQ==", "bodyText": "Why only typerefs? Wouldn't checking for resourceKey annotation be enough?", "url": "https://github.com/linkedin/rest.li/pull/254#discussion_r408625839", "createdAt": "2020-04-15T07:09:32Z", "author": {"login": "karthikbalasub"}, "path": "restli-tools/src/main/java/com/linkedin/restli/tools/data/ExtensionSchemaValidationCmdLineApp.java", "diffHunk": "@@ -41,11 +50,24 @@\n import org.slf4j.LoggerFactory;\n \n \n+/**\n+ * This class is used to validate extension schema, the validation covers following parts:\n+ * 1. The extension schema is a validate schema.\n+ * 2. The extension schema's fields should only be annotated by \"extension\" namespace.\n+ * 3. The extension schema's fields annotations should be {@link ExtensionSchemaAnnotation}.\n+ * 4. The extension schema's field's schema should only be typeRef or array of typeRef.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d34a2d8e5742ff572ec118010f0d5e41cb748a78"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODYyNjI5Mg==", "bodyText": "static constants should be ALL_CAPS", "url": "https://github.com/linkedin/rest.li/pull/254#discussion_r408626292", "createdAt": "2020-04-15T07:10:23Z", "author": {"login": "karthikbalasub"}, "path": "restli-tools/src/main/java/com/linkedin/restli/tools/data/ExtensionSchemaValidationCmdLineApp.java", "diffHunk": "@@ -41,11 +50,24 @@\n import org.slf4j.LoggerFactory;\n \n \n+/**\n+ * This class is used to validate extension schema, the validation covers following parts:\n+ * 1. The extension schema is a validate schema.\n+ * 2. The extension schema's fields should only be annotated by \"extension\" namespace.\n+ * 3. The extension schema's fields annotations should be {@link ExtensionSchemaAnnotation}.\n+ * 4. The extension schema's field's schema should only be typeRef or array of typeRef.\n+ * 5. The extension schema's field's schema only be annotated by \"resourceKey\" namespace.\n+ *\n+ *\n+ * @author Yingjie Bi\n+ */\n public class ExtensionSchemaValidationCmdLineApp\n {\n   private static final Logger _logger = LoggerFactory.getLogger(ExtensionSchemaValidationCmdLineApp.class);\n   private static final Options _options = new Options();\n   private static final String _pdl = \"pdl\";\n+  private static final String _extension_annotation_namespace = \"extension\";\n+  private static final String _resourceKey_annotation_namespace = \"resourceKey\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d34a2d8e5742ff572ec118010f0d5e41cb748a78"}, "originalPosition": 51}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d34a2d8e5742ff572ec118010f0d5e41cb748a78", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/d34a2d8e5742ff572ec118010f0d5e41cb748a78", "committedDate": "2020-04-12T02:39:40Z", "message": "Update the ExtensionSchemaValidationCmdLineApp to add extensionSchemaField check"}, "afterCommit": {"oid": "e7575986ce60a0f851030165900e9a9bcc213109", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/e7575986ce60a0f851030165900e9a9bcc213109", "committedDate": "2020-04-17T23:34:41Z", "message": "Update the ExtensionSchemaValidationCmdLineApp to add extensionSchemaField check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9d7a5f5eee4d5064e7104e175bb3251f921e9f8", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/f9d7a5f5eee4d5064e7104e175bb3251f921e9f8", "committedDate": "2020-07-15T02:36:21Z", "message": "Update annotation processing framework to support ER annotation and update ER validation task"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d922a3c7391f497b5b67edbef0aac0bbf48f2a44", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/d922a3c7391f497b5b67edbef0aac0bbf48f2a44", "committedDate": "2020-07-15T02:36:21Z", "message": "Fix usingProperties flag mistake"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e90efe9d486a3443baa36a5ce01a47c66fc64d9c", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/e90efe9d486a3443baa36a5ce01a47c66fc64d9c", "committedDate": "2020-07-15T02:36:21Z", "message": "Fix property null issue"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44b4c20c48bc8e6657144ad60d502a1aa6ffa617", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/44b4c20c48bc8e6657144ad60d502a1aa6ffa617", "committedDate": "2020-07-15T02:36:21Z", "message": "Add ExtensionSchemaAnnoation schema"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "30bf3b4e155bde47701bfef7396e0af490de62cc", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/30bf3b4e155bde47701bfef7396e0af490de62cc", "committedDate": "2020-07-15T02:36:21Z", "message": "Address review feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80d874283224e9b01ebc53049083d0382ec01b86", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/80d874283224e9b01ebc53049083d0382ec01b86", "committedDate": "2020-07-15T02:36:21Z", "message": "Update the ExtensionSchemaValidationCmdLineApp to add extensionSchemaField check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92c6fe06f54477a071e5aef690091c6cb8b7d317", "author": {"user": {"login": "nickibi", "name": "Yingjie Bi"}}, "url": "https://github.com/linkedin/rest.li/commit/92c6fe06f54477a071e5aef690091c6cb8b7d317", "committedDate": "2020-07-16T01:21:38Z", "message": "remove SchemaAnnotationHandlerClassUtil and SchemaAnnotationHandlerUtil since they are not used"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e7575986ce60a0f851030165900e9a9bcc213109", "author": {"user": null}, "url": "https://github.com/linkedin/rest.li/commit/e7575986ce60a0f851030165900e9a9bcc213109", "committedDate": "2020-04-17T23:34:41Z", "message": "Update the ExtensionSchemaValidationCmdLineApp to add extensionSchemaField check"}, "afterCommit": {"oid": "92c6fe06f54477a071e5aef690091c6cb8b7d317", "author": {"user": {"login": "nickibi", "name": "Yingjie Bi"}}, "url": "https://github.com/linkedin/rest.li/commit/92c6fe06f54477a071e5aef690091c6cb8b7d317", "committedDate": "2020-07-16T01:21:38Z", "message": "remove SchemaAnnotationHandlerClassUtil and SchemaAnnotationHandlerUtil since they are not used"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUwOTYxOTQ2", "url": "https://github.com/linkedin/rest.li/pull/254#pullrequestreview-450961946", "createdAt": "2020-07-17T21:15:53Z", "commit": {"oid": "92c6fe06f54477a071e5aef690091c6cb8b7d317"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QyMToxNTo1M1rOGzhadw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QyMTo1MToxNlrOGziGlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjY3ODAwNw==", "bodyText": "Nit. Capitalize, same as line 189", "url": "https://github.com/linkedin/rest.li/pull/254#discussion_r456678007", "createdAt": "2020-07-17T21:15:53Z", "author": {"login": "junchuanwang"}, "path": "restli-tools/src/main/java/com/linkedin/restli/tools/data/ExtensionSchemaValidationCmdLineApp.java", "diffHunk": "@@ -134,10 +155,75 @@ private static void parseAndValidateExtensionSchemas(String resolverPath, File i\n           .stream()\n           .filter(f -> !((RecordDataSchema) topLevelDataSchema).isFieldFromIncludes(f))\n           .collect(Collectors.toList());\n-      // TODO : Call annotation process to validate each field's annotation, need to create schemaVisitor and handler for extension annotation.\n+\n+      checkExtensionSchemaFields(extensionSchemaFields);\n+    }\n+  }\n+\n+  private static void checkExtensionSchemaFields(List<RecordDataSchema.Field> extensionSchemaFields)\n+  {\n+    for (RecordDataSchema.Field field : extensionSchemaFields)\n+    {\n+      // check extension schema field annotation\n+      Map<String, Object> properties = field.getProperties();\n+      if (properties.isEmpty() || properties.keySet().size() != 1 || !properties.containsKey(EXTENSION_ANNOTATION_NAMESPACE))\n+      {\n+        _logger.error(\"The field [{}] of extension schema must and only be annotated with 'extension'\", field.getName());\n+        System.exit(1);\n+      }\n+      Object dataElement = properties.get(EXTENSION_ANNOTATION_NAMESPACE);\n+\n+      ValidationOptions validationOptions =\n+          new ValidationOptions(RequiredMode.MUST_BE_PRESENT, CoercionMode.STRING_TO_PRIMITIVE, UnrecognizedFieldMode.DISALLOW);\n+      try\n+      {\n+        if (!(dataElement instanceof DataMap))\n+        {\n+          _logger.error(\"extension schema annotation is not a datamap!\");\n+          System.exit(1);\n+        }\n+        DataSchema extensionSchemaAnnotationSchema = new ExtensionSchemaAnnotation().schema();\n+        ValidationResult result = ValidateDataAgainstSchema.validate(dataElement, extensionSchemaAnnotationSchema, validationOptions);\n+        if (!result.isValid())\n+        {\n+          _logger.error(\"extension schema annotation is not valid: \" + result.getMessages());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "92c6fe06f54477a071e5aef690091c6cb8b7d317"}, "originalPosition": 100}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjY4ODk3Ng==", "bodyText": "Would think it better to remove \"IS\" in the name: isArrayAndItemsAnnotatedWithResourceKey", "url": "https://github.com/linkedin/rest.li/pull/254#discussion_r456688976", "createdAt": "2020-07-17T21:50:13Z", "author": {"login": "junchuanwang"}, "path": "restli-tools/src/main/java/com/linkedin/restli/tools/data/ExtensionSchemaValidationCmdLineApp.java", "diffHunk": "@@ -134,10 +155,75 @@ private static void parseAndValidateExtensionSchemas(String resolverPath, File i\n           .stream()\n           .filter(f -> !((RecordDataSchema) topLevelDataSchema).isFieldFromIncludes(f))\n           .collect(Collectors.toList());\n-      // TODO : Call annotation process to validate each field's annotation, need to create schemaVisitor and handler for extension annotation.\n+\n+      checkExtensionSchemaFields(extensionSchemaFields);\n+    }\n+  }\n+\n+  private static void checkExtensionSchemaFields(List<RecordDataSchema.Field> extensionSchemaFields)\n+  {\n+    for (RecordDataSchema.Field field : extensionSchemaFields)\n+    {\n+      // check extension schema field annotation\n+      Map<String, Object> properties = field.getProperties();\n+      if (properties.isEmpty() || properties.keySet().size() != 1 || !properties.containsKey(EXTENSION_ANNOTATION_NAMESPACE))\n+      {\n+        _logger.error(\"The field [{}] of extension schema must and only be annotated with 'extension'\", field.getName());\n+        System.exit(1);\n+      }\n+      Object dataElement = properties.get(EXTENSION_ANNOTATION_NAMESPACE);\n+\n+      ValidationOptions validationOptions =\n+          new ValidationOptions(RequiredMode.MUST_BE_PRESENT, CoercionMode.STRING_TO_PRIMITIVE, UnrecognizedFieldMode.DISALLOW);\n+      try\n+      {\n+        if (!(dataElement instanceof DataMap))\n+        {\n+          _logger.error(\"extension schema annotation is not a datamap!\");\n+          System.exit(1);\n+        }\n+        DataSchema extensionSchemaAnnotationSchema = new ExtensionSchemaAnnotation().schema();\n+        ValidationResult result = ValidateDataAgainstSchema.validate(dataElement, extensionSchemaAnnotationSchema, validationOptions);\n+        if (!result.isValid())\n+        {\n+          _logger.error(\"extension schema annotation is not valid: \" + result.getMessages());\n+          System.exit(1);\n+        }\n+      }\n+      catch (Exception e)\n+      {\n+        _logger.error(\"Error while checking extension schema field annotation: \" + e.getMessage());\n+        System.exit(1);\n+      }\n+      checkExtensionSchemaFieldSchema(field.getType());\n     }\n   }\n \n+  private static void checkExtensionSchemaFieldSchema(DataSchema fieldSchema)\n+  {\n+    if (!isAnnotatedWithResourceKey(fieldSchema) && !isArrayAndItemIsAnnotatedWithResourceKey(fieldSchema))\n+    {\n+        _logger.error(\"Field schema: [{}] is not annotated with 'resourceKey'\", fieldSchema.toString());\n+        System.exit(1);\n+    }\n+  }\n+\n+  private static boolean isArrayAndItemIsAnnotatedWithResourceKey(DataSchema schema)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "92c6fe06f54477a071e5aef690091c6cb8b7d317"}, "originalPosition": 122}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjY4OTMwMQ==", "bodyText": "Seems this line can be combined into the try catch clause. I personally would try to minimize the number of exit path (the statement System.exit(1))", "url": "https://github.com/linkedin/rest.li/pull/254#discussion_r456689301", "createdAt": "2020-07-17T21:51:16Z", "author": {"login": "junchuanwang"}, "path": "restli-tools/src/main/java/com/linkedin/restli/tools/data/ExtensionSchemaValidationCmdLineApp.java", "diffHunk": "@@ -134,10 +155,75 @@ private static void parseAndValidateExtensionSchemas(String resolverPath, File i\n           .stream()\n           .filter(f -> !((RecordDataSchema) topLevelDataSchema).isFieldFromIncludes(f))\n           .collect(Collectors.toList());\n-      // TODO : Call annotation process to validate each field's annotation, need to create schemaVisitor and handler for extension annotation.\n+\n+      checkExtensionSchemaFields(extensionSchemaFields);\n+    }\n+  }\n+\n+  private static void checkExtensionSchemaFields(List<RecordDataSchema.Field> extensionSchemaFields)\n+  {\n+    for (RecordDataSchema.Field field : extensionSchemaFields)\n+    {\n+      // check extension schema field annotation\n+      Map<String, Object> properties = field.getProperties();\n+      if (properties.isEmpty() || properties.keySet().size() != 1 || !properties.containsKey(EXTENSION_ANNOTATION_NAMESPACE))\n+      {\n+        _logger.error(\"The field [{}] of extension schema must and only be annotated with 'extension'\", field.getName());\n+        System.exit(1);\n+      }\n+      Object dataElement = properties.get(EXTENSION_ANNOTATION_NAMESPACE);\n+\n+      ValidationOptions validationOptions =\n+          new ValidationOptions(RequiredMode.MUST_BE_PRESENT, CoercionMode.STRING_TO_PRIMITIVE, UnrecognizedFieldMode.DISALLOW);\n+      try\n+      {\n+        if (!(dataElement instanceof DataMap))\n+        {\n+          _logger.error(\"extension schema annotation is not a datamap!\");\n+          System.exit(1);\n+        }\n+        DataSchema extensionSchemaAnnotationSchema = new ExtensionSchemaAnnotation().schema();\n+        ValidationResult result = ValidateDataAgainstSchema.validate(dataElement, extensionSchemaAnnotationSchema, validationOptions);\n+        if (!result.isValid())\n+        {\n+          _logger.error(\"extension schema annotation is not valid: \" + result.getMessages());\n+          System.exit(1);\n+        }\n+      }\n+      catch (Exception e)\n+      {\n+        _logger.error(\"Error while checking extension schema field annotation: \" + e.getMessage());\n+        System.exit(1);\n+      }\n+      checkExtensionSchemaFieldSchema(field.getType());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "92c6fe06f54477a071e5aef690091c6cb8b7d317"}, "originalPosition": 109}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6585951e1f303f4807e3396eb60bafb10dbbf62", "author": {"user": {"login": "nickibi", "name": "Yingjie Bi"}}, "url": "https://github.com/linkedin/rest.li/commit/b6585951e1f303f4807e3396eb60bafb10dbbf62", "committedDate": "2020-07-19T22:26:12Z", "message": "Address review feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc66c86c60f933a7925e524d60886dbf28d564f7", "author": {"user": {"login": "nickibi", "name": "Yingjie Bi"}}, "url": "https://github.com/linkedin/rest.li/commit/cc66c86c60f933a7925e524d60886dbf28d564f7", "committedDate": "2020-07-20T22:25:12Z", "message": "Update CHANGELOG"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMDI1ODEw", "url": "https://github.com/linkedin/rest.li/pull/254#pullrequestreview-452025810", "createdAt": "2020-07-20T23:26:45Z", "commit": {"oid": "cc66c86c60f933a7925e524d60886dbf28d564f7"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 39, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}