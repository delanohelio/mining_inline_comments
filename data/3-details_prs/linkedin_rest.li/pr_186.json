{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc5MjQ2NjU0", "number": 186, "title": "Fix prepare-release script so that tag is deleted on failed push", "bodyText": "When the prepare-release script fails to push the locally created\nrelease tag, it should delete the tag locally so as not to confuse\nthe developer.", "createdAt": "2020-02-24T21:44:04Z", "url": "https://github.com/linkedin/rest.li/pull/186", "merged": true, "mergeCommit": {"oid": "4f64163143fa85a46750d527c03723cd43478928"}, "closed": true, "closedAt": "2020-02-25T00:27:45Z", "author": {"login": "evanw555"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcHks0GgFqTM2MzcyNTY5OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHm9-JAFqTM2Mzc5NjIzNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNzI1Njk5", "url": "https://github.com/linkedin/rest.li/pull/186#pullrequestreview-363725699", "createdAt": "2020-02-24T21:48:44Z", "commit": {"oid": "d10a6a51249697a35fcd50d10ad368983385eed7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQyMTo0ODo0NFrOFtxG5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNFQyMTo0ODo0NFrOFtxG5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzUzNDgyMw==", "bodyText": "tag will be locally deleted -> clearing tag from the local repo", "url": "https://github.com/linkedin/rest.li/pull/186#discussion_r383534823", "createdAt": "2020-02-24T21:48:44Z", "author": {"login": "karthikbalasub"}, "path": "prepare-release", "diffHunk": "@@ -44,3 +44,10 @@ fi\n # Push release tag\n echo \"Pushing tag $TAG_NAME...\"\n git push $REMOTE $TAG_NAME\n+\n+if [ $? -ne 0 ]\n+then\n+  echo 'Push failed, tag will be locally deleted.'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d10a6a51249697a35fcd50d10ad368983385eed7"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "052d830b041601ca5d34cc36c5a6583a1203fa99", "author": {"user": {"login": "evanw555", "name": "Evan Williams"}}, "url": "https://github.com/linkedin/rest.li/commit/052d830b041601ca5d34cc36c5a6583a1203fa99", "committedDate": "2020-02-25T00:01:34Z", "message": "Fix prepare-release script so that tag is deleted on failed push\n\nWhen the prepare-release script fails to push the locally created\nrelease tag, it should delete the tag locally so as not to confuse\nthe developer."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d10a6a51249697a35fcd50d10ad368983385eed7", "author": {"user": {"login": "evanw555", "name": "Evan Williams"}}, "url": "https://github.com/linkedin/rest.li/commit/d10a6a51249697a35fcd50d10ad368983385eed7", "committedDate": "2020-02-24T21:43:30Z", "message": "Fix prepare-release script so that tag is deleted on failed push\n\nWhen the prepare-release script fails to push the locally created\nrelease tag, it should delete the tag locally so as not to confuse\nthe developer."}, "afterCommit": {"oid": "052d830b041601ca5d34cc36c5a6583a1203fa99", "author": {"user": {"login": "evanw555", "name": "Evan Williams"}}, "url": "https://github.com/linkedin/rest.li/commit/052d830b041601ca5d34cc36c5a6583a1203fa99", "committedDate": "2020-02-25T00:01:34Z", "message": "Fix prepare-release script so that tag is deleted on failed push\n\nWhen the prepare-release script fails to push the locally created\nrelease tag, it should delete the tag locally so as not to confuse\nthe developer."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzNzk2MjM3", "url": "https://github.com/linkedin/rest.li/pull/186#pullrequestreview-363796237", "createdAt": "2020-02-25T00:27:38Z", "commit": {"oid": "052d830b041601ca5d34cc36c5a6583a1203fa99"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4946, "cost": 1, "resetAt": "2021-11-01T16:37:27Z"}}}