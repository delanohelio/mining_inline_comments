{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0ODk2MzEy", "number": 4204, "title": "Lint fixes", "bodyText": "Only the first commit is the dependency stuff, the rest are lints.\n- Update okhttp 3.12.10 -> 3.12.12 (changelog)", "createdAt": "2020-05-29T05:37:31Z", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204", "merged": true, "mergeCommit": {"oid": "2a1dabf6029ac0f2f67fbc6c8ed1418e18bff671"}, "closed": true, "closedAt": "2020-07-16T09:31:28Z", "author": {"login": "TacoTheDank"}, "timelineItems": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcl9unEAFqTQyMDcyMTg3Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1bVT9gH2gAyNDI0ODk2MzEyOjVhMDE5MmYzYzhhN2I2MGUwNjhjNDUyODdlZWU0NTg3YjAwOTZmMWU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwNzIxODcz", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#pullrequestreview-420721873", "createdAt": "2020-05-29T07:41:45Z", "commit": {"oid": "56a4f79b410099868e9d1bc16e3ab0f9fb7ceb7b"}, "state": "COMMENTED", "comments": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQwNzo0MTo0NVrOGcSGtg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQwNzo1NTo1OFrOGcSi2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMwOTk0Mg==", "bodyText": "Please remove the dependency updates. They currently work fine and (unless there is a known bug) I do not want to upgrade, especially because we are already in the beta stage. The last dependency update PR caused me some trouble with new bugs.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#discussion_r432309942", "createdAt": "2020-05-29T07:41:45Z", "author": {"login": "ByteHamster"}, "path": "app/build.gradle", "diffHunk": "@@ -170,7 +170,7 @@ dependencies {\n     implementation \"com.github.AntennaPod:AntennaPod-AudioPlayer:$audioPlayerVersion\"\n     implementation 'com.github.mfietz:fyydlin:v0.5.0'\n     implementation 'com.github.ByteHamster:SearchPreference:v2.0.0'\n-    implementation 'com.github.skydoves:balloon:1.1.5'\n+    implementation 'com.github.skydoves:balloon:1.1.7'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56a4f79b410099868e9d1bc16e3ab0f9fb7ceb7b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMxMDQyNA==", "bodyText": "I think the lines got too long here. You can view details on the CI output.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#discussion_r432310424", "createdAt": "2020-05-29T07:42:38Z", "author": {"login": "ByteHamster"}, "path": "app/src/androidTest/java/de/test/antennapod/EspressoTestUtils.java", "diffHunk": "@@ -116,38 +116,38 @@ public void perform(UiController uiController, View view) {\n      * Clear all app databases\n      */\n     public static void clearPreferences() {\n-        File root = InstrumentationRegistry.getTargetContext().getFilesDir().getParentFile();\n+        File root = InstrumentationRegistry.getInstrumentation().getTargetContext().getFilesDir().getParentFile();\n         String[] sharedPreferencesFileNames = new File(root, \"shared_prefs\").list();\n         for (String fileName : sharedPreferencesFileNames) {\n             System.out.println(\"Cleared database: \" + fileName);\n-            InstrumentationRegistry.getTargetContext().getSharedPreferences(\n+            InstrumentationRegistry.getInstrumentation().getTargetContext().getSharedPreferences(\n                     fileName.replace(\".xml\", \"\"), Context.MODE_PRIVATE).edit().clear().commit();\n         }\n \n-        InstrumentationRegistry.getTargetContext().getSharedPreferences(MainActivity.PREF_NAME, Context.MODE_PRIVATE)\n+        InstrumentationRegistry.getInstrumentation().getTargetContext().getSharedPreferences(MainActivity.PREF_NAME, Context.MODE_PRIVATE)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56a4f79b410099868e9d1bc16e3ab0f9fb7ceb7b"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMxMDk1Nw==", "bodyText": "The expected result should be added to the front.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#discussion_r432310957", "createdAt": "2020-05-29T07:43:30Z", "author": {"login": "ByteHamster"}, "path": "app/src/androidTest/java/de/test/antennapod/service/download/HttpDownloaderTest.java", "diffHunk": "@@ -82,7 +82,7 @@ private Downloader download(String url, String title, boolean expectedResult, bo\n         downloader.call();\n         DownloadStatus status = downloader.getResult();\n         assertNotNull(status);\n-        assertTrue(status.isSuccessful() == expectedResult);\n+        assertEquals(status.isSuccessful(), expectedResult);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56a4f79b410099868e9d1bc16e3ab0f9fb7ceb7b"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMxMjE0NA==", "bodyText": "I think re-organizing the imports throughout the whole project creates too much noise. I will add a checkstyle rule for import order etc at some point but at the moment, this is not too important.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#discussion_r432312144", "createdAt": "2020-05-29T07:45:54Z", "author": {"login": "ByteHamster"}, "path": "app/src/androidTest/java/de/test/antennapod/ui/PreferencesTest.java", "diffHunk": "@@ -46,7 +45,6 @@\n import static de.test.antennapod.EspressoTestUtils.waitForView;\n import static java.util.concurrent.TimeUnit.MILLISECONDS;\n import static junit.framework.TestCase.assertTrue;\n-import static org.hamcrest.Matchers.allOf;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56a4f79b410099868e9d1bc16e3ab0f9fb7ceb7b"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMxMjU3Ng==", "bodyText": "This is unused. The activity does not have an options menu, so it can be removed completely.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#discussion_r432312576", "createdAt": "2020-05-29T07:46:50Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/activity/OnlineFeedViewActivity.java", "diffHunk": "@@ -227,15 +227,14 @@ public void finish() {\n \n     @Override\n     public boolean onOptionsItemSelected(MenuItem item) {\n-        switch (item.getItemId()) {\n-            case android.R.id.home:\n-                Intent destIntent = new Intent(this, MainActivity.class);\n-                if (NavUtils.shouldUpRecreateTask(this, destIntent)) {\n-                    startActivity(destIntent);\n-                } else {\n-                    NavUtils.navigateUpFromSameTask(this);\n-                }\n-                return true;\n+        if (item.getItemId() == android.R.id.home) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56a4f79b410099868e9d1bc16e3ab0f9fb7ceb7b"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMxMzcyMQ==", "bodyText": "Please add a comment that this is a deliberate fall-through", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#discussion_r432313721", "createdAt": "2020-05-29T07:49:10Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/fragment/QueueFragment.java", "diffHunk": "@@ -136,6 +135,7 @@ public void onEventMainThread(QueueEvent event) {\n                 recyclerAdapter.notifyItemInserted(event.position);\n                 break;\n             case SET_QUEUE:\n+            case SORTED:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56a4f79b410099868e9d1bc16e3ab0f9fb7ceb7b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMxNDk3Mg==", "bodyText": "Please do not reformat xml files. They are pretty inconsistent and I do not want to generate noise until we have decided for a consistent format that is enforced using checkstyle.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#discussion_r432314972", "createdAt": "2020-05-29T07:51:40Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/res/layout/empty_view_layout.xml", "diffHunk": "@@ -1,14 +1,13 @@\n <?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n <LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n-              xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n-              android:layout_width=\"match_parent\"\r\n-              android:layout_height=\"match_parent\"\r\n-              android:orientation=\"vertical\"\r\n-              android:gravity=\"center\"\r\n-              android:layout_centerInParent=\"true\"\r\n-              android:paddingLeft=\"40dp\"\r\n-              android:paddingRight=\"40dp\"\r\n-              xmlns:tools=\"http://schemas.android.com/tools\">\r\n+    android:layout_width=\"match_parent\"\r\n+    android:layout_height=\"match_parent\"\r\n+    android:orientation=\"vertical\"\r\n+    android:gravity=\"center\"\r\n+    android:layout_centerInParent=\"true\"\r\n+    android:paddingLeft=\"40dp\"\r\n+    android:paddingRight=\"40dp\"\r\n+    xmlns:tools=\"http://schemas.android.com/tools\">\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56a4f79b410099868e9d1bc16e3ab0f9fb7ceb7b"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMxNTYxNA==", "bodyText": "I think this is harder to read. It breaks the symmetry of the items that are compared and makes nextPageLink a special case. Same for the other compare functions.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#discussion_r432315614", "createdAt": "2020-05-29T07:53:01Z", "author": {"login": "ByteHamster"}, "path": "core/src/main/java/de/danoeh/antennapod/core/feed/Feed.java", "diffHunk": "@@ -341,10 +341,7 @@ public boolean compareWithOther(Feed other) {\n         if (other.isPaged() && !this.isPaged()) {\n             return true;\n         }\n-        if (!TextUtils.equals(other.getNextPageLink(), this.getNextPageLink())) {\n-            return true;\n-        }\n-        return false;\n+        return !TextUtils.equals(other.getNextPageLink(), this.getNextPageLink());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56a4f79b410099868e9d1bc16e3ab0f9fb7ceb7b"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMxNjA5MA==", "bodyText": "Please add a comment that this is a deliberate fall-through", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#discussion_r432316090", "createdAt": "2020-05-29T07:53:55Z", "author": {"login": "ByteHamster"}, "path": "core/src/main/java/de/danoeh/antennapod/core/preferences/UserPreferences.java", "diffHunk": "@@ -826,8 +826,8 @@ public static void stereoToMono(boolean enable) {\n     public static VideoBackgroundBehavior getVideoBackgroundBehavior() {\n         switch (prefs.getString(PREF_VIDEO_BEHAVIOR, \"pip\")) {\n             case \"stop\": return VideoBackgroundBehavior.STOP;\n-            case \"pip\": return VideoBackgroundBehavior.PICTURE_IN_PICTURE;\n             case \"continue\": return VideoBackgroundBehavior.CONTINUE_PLAYING;\n+            case \"pip\":", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56a4f79b410099868e9d1bc16e3ab0f9fb7ceb7b"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMxNzE0NQ==", "bodyText": "Long.compare was added in API 19 but we support API 16+", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#discussion_r432317145", "createdAt": "2020-05-29T07:55:58Z", "author": {"login": "ByteHamster"}, "path": "core/src/main/java/de/danoeh/antennapod/core/util/comparator/ChapterStartTimeComparator.java", "diffHunk": "@@ -8,13 +8,7 @@\n \n \t@Override\n \tpublic int compare(Chapter lhs, Chapter rhs) {\n-\t\tif (lhs.getStart() == rhs.getStart()) {\n-\t\t\treturn 0;\n-\t\t} else if (lhs.getStart() < rhs.getStart()) {\n-\t\t\treturn -1;\n-\t\t} else {\n-\t\t\treturn 1;\n-\t\t}\n+\t\treturn Long.compare(lhs.getStart(), rhs.getStart());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56a4f79b410099868e9d1bc16e3ab0f9fb7ceb7b"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2Nzg5MTA4", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#pullrequestreview-446789108", "createdAt": "2020-07-11T08:47:55Z", "commit": {"oid": "4f110605a4be2d01630407b38957bef05735f861"}, "state": "COMMENTED", "comments": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQwODo0Nzo1NVrOGwLgfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMVQwOToyMjo1NlrOGwLrRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE3MzM3NQ==", "bodyText": "I think this is now harder to read than before. Before, you can directly see that there are two separate things happening. After, they are more interwoven, so you have to read more code to understand what is going on. Additionally, the intent name is no longer correct.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#discussion_r453173375", "createdAt": "2020-07-11T08:47:55Z", "author": {"login": "ByteHamster"}, "path": "core/src/main/java/de/danoeh/antennapod/core/service/playback/PlaybackServiceNotificationBuilder.java", "diffHunk": "@@ -177,21 +177,21 @@ private void addActions(NotificationCompat.Builder notification, MediaSessionCom\n         }\n         numActions++;\n \n+        PendingIntent pauseButtonPendingIntent;\n         if (playerStatus == PlayerStatus.PLAYING) {\n-            PendingIntent pauseButtonPendingIntent = getPendingIntentForMediaAction(\n+            pauseButtonPendingIntent = getPendingIntentForMediaAction(\n                     KeyEvent.KEYCODE_MEDIA_PAUSE, numActions);\n             notification.addAction(R.drawable.ic_notification_pause, //pause action\n                     context.getString(R.string.pause_label),\n                     pauseButtonPendingIntent);\n-            compactActionList.add(numActions++);\n         } else {\n-            PendingIntent playButtonPendingIntent = getPendingIntentForMediaAction(\n+            pauseButtonPendingIntent = getPendingIntentForMediaAction(\n                     KeyEvent.KEYCODE_MEDIA_PLAY, numActions);\n             notification.addAction(R.drawable.ic_notification_play, //play action\n                     context.getString(R.string.play_label),\n-                    playButtonPendingIntent);\n-            compactActionList.add(numActions++);\n+                    pauseButtonPendingIntent);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4f110605a4be2d01630407b38957bef05735f861"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE3MzU0OQ==", "bodyText": "This will cause a merge conflict with #4244. Please do not change this file.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#discussion_r453173549", "createdAt": "2020-07-11T08:50:22Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/fragment/DownloadLogFragment.java", "diffHunk": "@@ -174,13 +174,11 @@ public void onPrepareOptionsMenu(Menu menu) {\n     @Override\n     public boolean onOptionsItemSelected(MenuItem item) {\n         if (!super.onOptionsItemSelected(item)) {\n-            switch (item.getItemId()) {\n-                case R.id.clear_history_item:\n-                    DBWriter.clearDownloadLog();\n-                    return true;\n-                default:\n-                    return false;\n+            if (item.getItemId() == R.id.clear_history_item) {\n+                DBWriter.clearDownloadLog();\n+                return true;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33dd793aec517ada633213b15ead44140e248a31"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE3MzgwOQ==", "bodyText": "I'm not 100% sure but I think this should be the other way around. feeds.size() seems to be the expected value. This problem is also present in other tests.\nBefore, a failing test just showed something about a failed assertion. Now it shows actual value and expected value, so it is misleading if they are exchanged.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#discussion_r453173809", "createdAt": "2020-07-11T08:54:14Z", "author": {"login": "ByteHamster"}, "path": "app/src/androidTest/java/de/test/antennapod/storage/DBReaderTest.java", "diffHunk": "@@ -91,7 +91,7 @@ public void testFeedListDownloadUrls() {\n         List<Feed> feeds = saveFeedlist(10, 0, false);\n         List<String> urls = DBReader.getFeedListDownloadUrls();\n         assertNotNull(urls);\n-        assertTrue(urls.size() == feeds.size());\n+        assertEquals(urls.size(), feeds.size());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aedc602f16f647bf9af5e26024ffd5e9ce9374ce"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE3NDI1NA==", "bodyText": "This would be easier to read if it was a single line. I think the line length should be enough to make Checkstyle happy. Same applies to other changes in the same commit.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#discussion_r453174254", "createdAt": "2020-07-11T08:59:45Z", "author": {"login": "ByteHamster"}, "path": "app/src/androidTest/java/de/test/antennapod/service/download/DownloadServiceTest.java", "diffHunk": "@@ -106,9 +106,8 @@ private void doTestEventsGeneratedCaseMediaDownloadSuccess(boolean enqueueDownlo\n         // OPEN: Ideally, I'd like the download time long enough so that multiple in-progress DownloadEvents\n         // are generated (to simulate typical download), but it'll make download time quite long (1-2 seconds)\n         // to do so\n-        DownloadService.setDownloaderFactory(new StubDownloaderFactory(50, downloadStatus -> {\n-            downloadStatus.setSuccessful();\n-        }));\n+        DownloadService.setDownloaderFactory(new StubDownloaderFactory(50,\n+                DownloadStatus::setSuccessful));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "36c6b200d1858ffd6c59dfc71913ea0757446f53"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE3NDYzOA==", "bodyText": "Collections.emptyList is already unmodifiable. There is no need to wrap it again.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#discussion_r453174638", "createdAt": "2020-07-11T09:04:41Z", "author": {"login": "ByteHamster"}, "path": "core/src/test/java/de/danoeh/antennapod/core/storage/ItemEnqueuePositionCalculatorTest.java", "diffHunk": "@@ -249,7 +249,8 @@ static void doAddToQueueAndAssertResult(String message,\n         assertEquals(message, idsExpected, getIdList(queue));\n     }\n \n-    static final List<FeedItem> QUEUE_EMPTY = Collections.unmodifiableList(Arrays.asList());\n+    static final List<FeedItem> QUEUE_EMPTY = Collections.unmodifiableList(\n+            Collections.emptyList());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bcb82b2ca71fb4c7e02b84f039f729d2c8cae7b3"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE3NTE5Mg==", "bodyText": "Have you tested this change on emulators with different API versions? Does it increase the apk size by shipping vector drawables as png?", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#discussion_r453175192", "createdAt": "2020-07-11T09:11:11Z", "author": {"login": "ByteHamster"}, "path": "core/build.gradle", "diffHunk": "@@ -8,6 +8,7 @@ android {\n         targetSdkVersion rootProject.ext.targetSdkVersion\n \n         multiDexEnabled false\n+        vectorDrawables.useSupportLibrary true", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "959e3a6ef76a355b11b6d6157568c3fee0d6c469"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE3NTQwMw==", "bodyText": "I think the line break is not needed here. Checkstyle should be happy without the line break and I think it makes the code harder to read. The same applies to other changes in this commit.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#discussion_r453175403", "createdAt": "2020-07-11T09:13:56Z", "author": {"login": "ByteHamster"}, "path": "app/src/androidTest/java/de/test/antennapod/handler/FeedParserTestBase.java", "diffHunk": "@@ -38,7 +38,8 @@\n \n     @Before\n     public void setUp() throws Exception {\n-        Context context = InstrumentationRegistry.getInstrumentation().getTargetContext();\n+        Context context = InstrumentationRegistry\n+                .getInstrumentation().getTargetContext();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45441698e641678237c3df170dc94b1fa651d82b"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE3NTY3Mg==", "bodyText": "What is the reason for adding the activity as a parameter? Can't it just call getActivity() here? The method is located directly in the fragment, just like the calling ones.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#discussion_r453175672", "createdAt": "2020-07-11T09:16:50Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/dialog/EpisodesApplyActionFragment.java", "diffHunk": "@@ -407,13 +408,13 @@ private void refreshTitles() {\n         mAdapter.notifyDataSetChanged();\n     }\n \n-    private void refreshCheckboxes() {\n+    private void refreshCheckboxes(Activity activity) {\n         for (int i = 0; i < episodes.size(); i++) {\n             FeedItem episode = episodes.get(i);\n             boolean checked = checkedIds.contains(episode.getId());\n             mListView.setItemChecked(i, checked);\n         }\n-        ActivityCompat.invalidateOptionsMenu(EpisodesApplyActionFragment.this.getActivity());\n+        activity.invalidateOptionsMenu();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45441698e641678237c3df170dc94b1fa651d82b"}, "originalPosition": 106}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE3NTgyNA==", "bodyText": "This does not work. It returns something like ClipData{...}.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#discussion_r453175824", "createdAt": "2020-07-11T09:19:07Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/fragment/AddFeedFragment.java", "diffHunk": "@@ -79,7 +79,7 @@ private void showAddViaUrlDialog() {\n         EditText editText = content.findViewById(R.id.text);\n         editText.setHint(R.string.add_podcast_by_url_hint);\n         ClipboardManager clipboard = (ClipboardManager) getContext().getSystemService(Context.CLIPBOARD_SERVICE);\n-        String clipboardContent = clipboard.getText() != null ? clipboard.getText().toString() : \"\";\n+        String clipboardContent = clipboard.getPrimaryClip() != null ? clipboard.getPrimaryClip().toString() : \"\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45441698e641678237c3df170dc94b1fa651d82b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE3NTg3Mw==", "bodyText": "Why parent and not child fragment manager? As I understood the fragment manager, this (and some others in this commit) should use the child fragment manager. I have not tried it, though.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#discussion_r453175873", "createdAt": "2020-07-11T09:19:36Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/fragment/AudioPlayerFragment.java", "diffHunk": "@@ -491,11 +491,11 @@ public boolean onMenuItemClick(MenuItem item) {\n         switch (item.getItemId()) {\n             case R.id.disable_sleeptimer_item: // Fall-through\n             case R.id.set_sleeptimer_item:\n-                new SleepTimerDialog().show(getFragmentManager(), \"SleepTimerDialog\");\n+                new SleepTimerDialog().show(getParentFragmentManager(), \"SleepTimerDialog\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45441698e641678237c3df170dc94b1fa651d82b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzE3NjEzNA==", "bodyText": "What is the reason for this change?", "url": "https://github.com/AntennaPod/AntennaPod/pull/4204#discussion_r453176134", "createdAt": "2020-07-11T09:22:56Z", "author": {"login": "ByteHamster"}, "path": "core/src/test/java/de/danoeh/antennapod/core/feed/VolumeAdaptionSettingTest.java", "diffHunk": "@@ -5,7 +5,7 @@\n import static org.hamcrest.Matchers.equalTo;\n import static org.hamcrest.Matchers.is;\n import static org.junit.Assert.assertEquals;\n-import static org.junit.Assert.assertThat;\n+import static org.hamcrest.MatcherAssert.assertThat;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45441698e641678237c3df170dc94b1fa651d82b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ecb551c9713adc22549fc068c3f114eccafc75ec", "author": {"user": {"login": "TacoTheDank", "name": "Taco"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/ecb551c9713adc22549fc068c3f114eccafc75ec", "committedDate": "2020-07-11T23:04:48Z", "message": "Replace fragment tag with FragmentContainerView"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cbea32684652c8b1f4b3302056ce476f383d1de1", "author": {"user": {"login": "TacoTheDank", "name": "Taco"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/cbea32684652c8b1f4b3302056ce476f383d1de1", "committedDate": "2020-07-11T23:11:18Z", "message": "Extract common parts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eea832ad2c84e8a18ece3beb9885851a8713b257", "author": {"user": {"login": "TacoTheDank", "name": "Taco"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/eea832ad2c84e8a18ece3beb9885851a8713b257", "committedDate": "2020-07-11T23:15:55Z", "message": "Replace switch statements with too few case labels with ifs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4857892b05e372073ceba1b51fe0fce62dab3c60", "author": {"user": {"login": "TacoTheDank", "name": "Taco"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/4857892b05e372073ceba1b51fe0fce62dab3c60", "committedDate": "2020-07-11T23:16:07Z", "message": "Convert wrapper types to primitives"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e0e27d442c9825dbafce95e8f37d0d5ccb22bd40", "author": {"user": {"login": "TacoTheDank", "name": "Taco"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/e0e27d442c9825dbafce95e8f37d0d5ccb22bd40", "committedDate": "2020-07-11T23:49:35Z", "message": "Simplify junit assertions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa30bc5447498d928a2ec3508ef93f2bb7c4821e", "author": {"user": {"login": "TacoTheDank", "name": "Taco"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/fa30bc5447498d928a2ec3508ef93f2bb7c4821e", "committedDate": "2020-07-11T23:51:07Z", "message": "Convert try finally into try with resources"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "002ba1753df3307861dfc1fa26abde314d6e39b8", "author": {"user": {"login": "TacoTheDank", "name": "Taco"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/002ba1753df3307861dfc1fa26abde314d6e39b8", "committedDate": "2020-07-12T00:01:57Z", "message": "Fix lambdas"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14064cbe6faac61ec2a79f6b9c888aeb70969a37", "author": {"user": {"login": "TacoTheDank", "name": "Taco"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/14064cbe6faac61ec2a79f6b9c888aeb70969a37", "committedDate": "2020-07-12T00:02:35Z", "message": "Use Long.compare in ChapterStartTimeComparator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "62ca1dfccc8303f0417f7333e3edf71c12ad23a6", "author": {"user": {"login": "TacoTheDank", "name": "Taco"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/62ca1dfccc8303f0417f7333e3edf71c12ad23a6", "committedDate": "2020-07-12T00:04:48Z", "message": "Simplify Arrays.asList with too few arguments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71373d055d8265bf15c48cf0d6b6130317e8eb0b", "author": {"user": {"login": "TacoTheDank", "name": "Taco"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/71373d055d8265bf15c48cf0d6b6130317e8eb0b", "committedDate": "2020-07-12T00:05:35Z", "message": "Replace addAlls with parametrized constructor calls"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24f734f1b60e29d28c03f245e4db26867c2d1a64", "author": {"user": {"login": "TacoTheDank", "name": "Taco"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/24f734f1b60e29d28c03f245e4db26867c2d1a64", "committedDate": "2020-07-12T00:05:47Z", "message": "Fix redundant initializers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a17f24912f262c79d1822e3df389ab08d4cb0273", "author": {"user": {"login": "TacoTheDank", "name": "Taco"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/a17f24912f262c79d1822e3df389ab08d4cb0273", "committedDate": "2020-07-12T00:06:03Z", "message": "Remove unnecessary conditions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37f9c08fd9d6a605bfcc393fe74a31a596671596", "author": {"user": {"login": "TacoTheDank", "name": "Taco"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/37f9c08fd9d6a605bfcc393fe74a31a596671596", "committedDate": "2020-07-12T00:06:19Z", "message": "Fix duplicate branches"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cfac6a3631bf1c25b779fa8214bc075f74b8f9eb", "author": {"user": {"login": "TacoTheDank", "name": "Taco"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/cfac6a3631bf1c25b779fa8214bc075f74b8f9eb", "committedDate": "2020-07-12T00:06:36Z", "message": "Fix manual math calculations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03f3c10bf9adebe50848d3a9621819e77a38432a", "author": {"user": {"login": "TacoTheDank", "name": "Taco"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/03f3c10bf9adebe50848d3a9621819e77a38432a", "committedDate": "2020-07-12T00:06:43Z", "message": "Remove unneeded return statement"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2289a482674ee70017f0fdc314296eaa19d5dba2", "author": {"user": {"login": "TacoTheDank", "name": "Taco"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/2289a482674ee70017f0fdc314296eaa19d5dba2", "committedDate": "2020-07-12T00:09:28Z", "message": "Delete obsolete version check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "078f97e609c2471dfe66c654810dc507ca656109", "author": {"user": {"login": "TacoTheDank", "name": "Taco"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/078f97e609c2471dfe66c654810dc507ca656109", "committedDate": "2020-07-12T00:14:19Z", "message": "Delete unused xml declarations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "24656936c70bc73443119b4e1bb492feeac6dd85", "author": {"user": {"login": "TacoTheDank", "name": "Taco"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/24656936c70bc73443119b4e1bb492feeac6dd85", "committedDate": "2020-07-13T04:49:35Z", "message": "Fix a bunch of deprecations"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a0192f3c8a7b60e068c45287eee4587b0096f1e", "author": {"user": {"login": "ByteHamster", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/5a0192f3c8a7b60e068c45287eee4587b0096f1e", "committedDate": "2020-07-16T08:54:47Z", "message": "Merge branch 'develop' into develop"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2773, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}