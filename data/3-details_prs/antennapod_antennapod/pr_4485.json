{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2MzU3MzUx", "number": 4485, "title": "Mini player when playing a video podcast do not have pause button", "bodyText": "Closes #4223", "createdAt": "2020-10-01T15:39:00Z", "url": "https://github.com/AntennaPod/AntennaPod/pull/4485", "merged": true, "mergeCommit": {"oid": "77b12fa23139bd5e504209d2d8f76fe783148756"}, "closed": true, "closedAt": "2020-10-09T06:59:26Z", "author": {"login": "heyyviv"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOTOCLAH2gAyNDk2MzU3MzUxOjE0NTk2NDFmMTNjODhjMzJhMjQ2ZTk2ZDBmNTA0ZTdhMjBiZjNjNDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdQirP1AH2gAyNDk2MzU3MzUxOjViNmQ1NTI5NzZkODIzZTFkMDIwOTZjZTRkYWFlMDNhZGRmMDA3ZDg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1459641f13c88c32a246e96d0f504e7a20bf3c46", "author": {"user": {"login": "heyyviv", "name": "Vivek Das"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/1459641f13c88c32a246e96d0f504e7a20bf3c46", "committedDate": "2020-10-01T15:35:42Z", "message": "Mini player when playing a video podcast do not have pause button #4223"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e60b250c189c9761fecd432e582ce98d61ae74ce", "author": {"user": {"login": "heyyviv", "name": "Vivek Das"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/e60b250c189c9761fecd432e582ce98d61ae74ce", "committedDate": "2020-10-02T06:47:20Z", "message": "Mini player when playing a video podcast do not have pause button #4223"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwODk0OTI5", "url": "https://github.com/AntennaPod/AntennaPod/pull/4485#pullrequestreview-500894929", "createdAt": "2020-10-02T06:54:48Z", "commit": {"oid": "e60b250c189c9761fecd432e582ce98d61ae74ce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQwNjo1NDo0OVrOHbi0zw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQwNjo1NDo0OVrOHbi0zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODY0NDE3NQ==", "bodyText": "i have removed this line  because whenever a video is played in AntennaPod this line was making play button invisible", "url": "https://github.com/AntennaPod/AntennaPod/pull/4485#discussion_r498644175", "createdAt": "2020-10-02T06:54:49Z", "author": {"login": "heyyviv"}, "path": "app/src/main/java/de/danoeh/antennapod/fragment/ExternalPlayerFragment.java", "diffHunk": "@@ -200,7 +200,6 @@ private void updateUi(Playable media) {\n                 .into(imgvCover);\n \n         if (controller != null && controller.isPlayingVideoLocally()) {\n-            butPlay.setVisibility(View.GONE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e60b250c189c9761fecd432e582ce98d61ae74ce"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxMjYxOTgx", "url": "https://github.com/AntennaPod/AntennaPod/pull/4485#pullrequestreview-501261981", "createdAt": "2020-10-02T16:03:20Z", "commit": {"oid": "e60b250c189c9761fecd432e582ce98d61ae74ce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNjowMzoyMFrOHbzMUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNjowMzoyMFrOHbzMUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkxMjMzNg==", "bodyText": "Please do not change the indention of the file. Keep untouched lines like they were before.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4485#discussion_r498912336", "createdAt": "2020-10-02T16:03:20Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/res/layout/external_player_fragment.xml", "diffHunk": "@@ -58,15 +58,16 @@\n \n \n         <ImageButton\n-                android:id=\"@+id/butPlay\"\n-                android:layout_width=\"52dp\"\n-                android:layout_height=\"match_parent\"\n-                android:contentDescription=\"@string/pause_label\"\n-                android:background=\"?attr/selectableItemBackground\"\n-                app:srcCompat=\"?attr/av_play\"\n-                android:scaleType=\"fitCenter\"\n-                android:padding=\"8dp\"\n-                tools:src=\"@drawable/ic_av_play_white_48dp\"/>\n+            android:id=\"@+id/butPlay\"\n+            android:layout_width=\"52dp\"\n+            android:layout_height=\"match_parent\"\n+            android:contentDescription=\"@string/pause_label\"\n+            android:background=\"?attr/selectableItemBackground\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e60b250c189c9761fecd432e582ce98d61ae74ce"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "614501cf101fe7081cb79db3cc54a868f5dd9856", "author": {"user": {"login": "heyyviv", "name": "Vivek Das"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/614501cf101fe7081cb79db3cc54a868f5dd9856", "committedDate": "2020-10-05T12:51:51Z", "message": "Mini player when playing a video podcast do not have pause button #4223"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ada73c518e85adaeccf62cf0ea9d0f6afc54f432", "author": {"user": {"login": "heyyviv", "name": "Vivek Das"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/ada73c518e85adaeccf62cf0ea9d0f6afc54f432", "committedDate": "2020-10-05T12:59:42Z", "message": "xml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAzMjczNDM5", "url": "https://github.com/AntennaPod/AntennaPod/pull/4485#pullrequestreview-503273439", "createdAt": "2020-10-06T19:03:52Z", "commit": {"oid": "ada73c518e85adaeccf62cf0ea9d0f6afc54f432"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxOTowMzo1MlrOHdV-cA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxOTowMzo1MlrOHdV-cA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDUzMDgwMA==", "bodyText": "Something like the following ensures that there is no race condition where calling playPause and getting the player status interfere.\nif (controller != null) {\n    if (video and not playing) {\n        playPause() // Do not call before checking player status but not after starting activity\n        start activity\n    } else {\n        playPause();\n    }\n}", "url": "https://github.com/AntennaPod/AntennaPod/pull/4485#discussion_r500530800", "createdAt": "2020-10-06T19:03:52Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/fragment/ExternalPlayerFragment.java", "diffHunk": "@@ -78,7 +79,12 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container,\n     public void onActivityCreated(Bundle savedInstanceState) {\n         super.onActivityCreated(savedInstanceState);\n         butPlay.setOnClickListener(v -> {\n-            if (controller != null) {\n+            if (controller != null && controller.getMedia().getMediaType() == MediaType.VIDEO) {\n+                controller.playPause();\n+                if(controller.getStatus() != PlayerStatus.PLAYING) {\n+                    getContext().startActivity(PlaybackService.getPlayerActivityIntent(getContext(),controller.getMedia()));\n+                }\n+            }else if (controller != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ada73c518e85adaeccf62cf0ea9d0f6afc54f432"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffafc611552596b46e1d51cfbcc32827c051e385", "author": {"user": {"login": "heyyviv", "name": "Vivek Das"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/ffafc611552596b46e1d51cfbcc32827c051e385", "committedDate": "2020-10-08T14:27:52Z", "message": "Mini player when playing a video podcast do not have pause button #4485"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "996ff8a2775c50d4100fa463241eb06df4fca49f", "author": {"user": {"login": "heyyviv", "name": "Vivek Das"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/996ff8a2775c50d4100fa463241eb06df4fca49f", "committedDate": "2020-10-08T14:38:07Z", "message": "Mini player when playing a video podcast do not have pause button #4485"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b6d552976d823e1d02096ce4daae03addf007d8", "author": {"user": {"login": "heyyviv", "name": "Vivek Das"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/5b6d552976d823e1d02096ce4daae03addf007d8", "committedDate": "2020-10-08T14:44:02Z", "message": "Mini player when playing a video podcast do not have pause button #4485"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2702, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}