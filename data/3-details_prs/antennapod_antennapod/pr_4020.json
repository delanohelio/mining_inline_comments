{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAwODEzMzI1", "number": 4020, "title": "Adopt the project with ViewPager2 ", "bodyText": "ViewPager2 is a recently added component to fix different issues of ViewPager which is itself built upon RecyclerView (though we haven't used this property of it here).\nThe specific thing that has motivated me to adopt the project with ViewPager2 is lack of RTL languages support on ViewPager which now is supported by ViewPager2, most annoying thing for me when I use the app with a device that uses Persian for its UI, see this for example,\n\nThis patch turns it into: (which is the correct scrolling for touch screens)\n\nSo the scrolling won't be confusing for RTL languages users anymore. I've fixed minor things which will explain as comment for the patch.\nThanks!", "createdAt": "2020-04-08T12:17:37Z", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020", "merged": true, "mergeCommit": {"oid": "b870c233eed3e2ea085d41daf4c099f20b9794d4"}, "closed": true, "closedAt": "2020-05-01T10:40:04Z", "author": {"login": "ebraminio"}, "timelineItems": {"totalCount": 52, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcVm8h-AFqTM4OTkyMDE4OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcc-pniAFqTQwNDA5NDI2MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5OTIwMTg4", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#pullrequestreview-389920188", "createdAt": "2020-04-08T12:21:00Z", "commit": {"oid": "daf062bbd1d1ec349e10ace47e44e3dab4684dce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxMjoyMTowMFrOGCsohA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxMjoyMTowMFrOGCsohA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTQ4MTYwNA==", "bodyText": "Had to upgrade material version to use TabLayoutMediator which is added in 1.1.0.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#discussion_r405481604", "createdAt": "2020-04-08T12:21:00Z", "author": {"login": "ebraminio"}, "path": "app/build.gradle", "diffHunk": "@@ -143,8 +143,9 @@ dependencies {\n     implementation \"androidx.recyclerview:recyclerview:1.0.0\"\n     implementation \"androidx.coordinatorlayout:coordinatorlayout:1.1.0\"\n     implementation \"androidx.media:media:1.1.0\"\n+    implementation \"androidx.viewpager2:viewpager2:1.0.0\"\n     implementation \"android.arch.work:work-runtime:$workManagerVersion\"\n-    implementation \"com.google.android.material:material:1.0.0\"\n+    implementation \"com.google.android.material:material:1.1.0\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "daf062bbd1d1ec349e10ace47e44e3dab4684dce"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5OTIyNzQ1", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#pullrequestreview-389922745", "createdAt": "2020-04-08T12:24:36Z", "commit": {"oid": "daf062bbd1d1ec349e10ace47e44e3dab4684dce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxMjoyNDozN1rOGCswmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxMjoyNDozN1rOGCswmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTQ4MzY3NQ==", "bodyText": "It didn't build with the change and androidx one is apparently declared for internal use of the package.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#discussion_r405483675", "createdAt": "2020-04-08T12:24:37Z", "author": {"login": "ebraminio"}, "path": "app/src/main/java/de/danoeh/antennapod/view/PagerIndicatorView.java", "diffHunk": "@@ -1,15 +1,17 @@\n package de.danoeh.antennapod.view;\n \n+import android.animation.ArgbEvaluator;\n import android.content.Context;\n import android.content.res.TypedArray;\n-import android.database.DataSetObserver;\n import android.graphics.Canvas;\n import android.graphics.Paint;\n import android.util.AttributeSet;\n import android.view.View;\n+\n import androidx.annotation.Nullable;\n-import androidx.vectordrawable.graphics.drawable.ArgbEvaluator;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "daf062bbd1d1ec349e10ace47e44e3dab4684dce"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5OTI0MTU4", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#pullrequestreview-389924158", "createdAt": "2020-04-08T12:26:31Z", "commit": {"oid": "daf062bbd1d1ec349e10ace47e44e3dab4684dce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxMjoyNjozMVrOGCs0wA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxMjoyNjozMVrOGCs0wA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTQ4NDczNg==", "bodyText": "Flips the pager dots for RTL languages, it can't be done once for the view as direction isn't specified at that time and should be done when the view is attached.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#discussion_r405484736", "createdAt": "2020-04-08T12:26:31Z", "author": {"login": "ebraminio"}, "path": "app/src/main/java/de/danoeh/antennapod/view/PagerIndicatorView.java", "diffHunk": "@@ -38,26 +40,29 @@ private void setup() {\n         paint.setAntiAlias(true);\n         paint.setStyle(Paint.Style.FILL);\n \n-        int[] colorAttrs = new int[] { android.R.attr.textColorSecondary };\n+        int[] colorAttrs = new int[]{android.R.attr.textColorSecondary};\n         TypedArray a = getContext().obtainStyledAttributes(colorAttrs);\n         circleColorHighlight = a.getColor(0, 0xffffffff);\n         circleColor = (Integer) new ArgbEvaluator().evaluate(0.8f, 0x00ffffff, circleColorHighlight);\n         a.recycle();\n     }\n \n-    public void setViewPager(ViewPager pager) {\n-        numPages = pager.getAdapter().getCount();\n-        pager.getAdapter().registerDataSetObserver(new DataSetObserver() {\n+    public void setViewPager(ViewPager2 pager) {\n+        numPages = pager.getAdapter().getItemCount();\n+        pager.getAdapter().registerAdapterDataObserver(new RecyclerView.AdapterDataObserver() {\n             @Override\n             public void onChanged() {\n-                numPages = pager.getAdapter().getCount();\n+                numPages = pager.getAdapter().getItemCount();\n                 invalidate();\n             }\n         });\n-        pager.addOnPageChangeListener(new ViewPager.SimpleOnPageChangeListener() {\n+        pager.registerOnPageChangeCallback(new ViewPager2.OnPageChangeCallback() {\n             @Override\n             public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) {\n                 PagerIndicatorView.this.position = position + positionOffset;\n+                if (ViewCompat.getLayoutDirection(pager) == ViewCompat.LAYOUT_DIRECTION_RTL) {\n+                    PagerIndicatorView.this.position = numPages - 1 - PagerIndicatorView.this.position;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "daf062bbd1d1ec349e10ace47e44e3dab4684dce"}, "originalPosition": 52}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg5OTI1MDU0", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#pullrequestreview-389925054", "createdAt": "2020-04-08T12:27:45Z", "commit": {"oid": "daf062bbd1d1ec349e10ace47e44e3dab4684dce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxMjoyNzo0NVrOGCs3gQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQxMjoyNzo0NVrOGCs3gQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTQ4NTQ0MQ==", "bodyText": "It was causing\n\n(note \u06f5\u06f0 at the end of the query)\nA bug that was there before my changes but had to fix so can see the view.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#discussion_r405485441", "createdAt": "2020-04-08T12:27:45Z", "author": {"login": "ebraminio"}, "path": "core/src/main/java/de/danoeh/antennapod/core/storage/PodDBAdapter.java", "diffHunk": "@@ -1031,7 +1032,7 @@ public final Cursor getCompletedMediaCursor(int limit) {\n \n         return db.query(TABLE_NAME_FEED_MEDIA, null,\n                 KEY_PLAYBACK_COMPLETION_DATE + \" > 0\", null, null,\n-                null, String.format(\"%s DESC LIMIT %d\", KEY_PLAYBACK_COMPLETION_DATE, limit));\n+                null, String.format(Locale.US, \"%s DESC LIMIT %d\", KEY_PLAYBACK_COMPLETION_DATE, limit));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "daf062bbd1d1ec349e10ace47e44e3dab4684dce"}, "originalPosition": 13}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "089f931f4c10752acd9f672d41e616c1cec60686", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/089f931f4c10752acd9f672d41e616c1cec60686", "committedDate": "2020-04-08T12:50:15Z", "message": "Localize in queue episodes number"}, "afterCommit": {"oid": "3117ca2d6ad3df71424285e457320efaf90f195c", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/3117ca2d6ad3df71424285e457320efaf90f195c", "committedDate": "2020-04-08T13:09:36Z", "message": "Minor improvements on Persian translations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bcb529e49e77de18b5d8e6d1d8f58c9cbec23cfb", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/bcb529e49e77de18b5d8e6d1d8f58c9cbec23cfb", "committedDate": "2020-04-08T18:21:58Z", "message": "Use locale digits on more places"}, "afterCommit": {"oid": "be3a8c3d85dbbacdc1411b69b76302cf66a6eed5", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/be3a8c3d85dbbacdc1411b69b76302cf66a6eed5", "committedDate": "2020-04-09T13:48:22Z", "message": "Remove remained references of ViewPager"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "905b0cf6d6d072c46f0e55d184e8a749cf80b6bd", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/905b0cf6d6d072c46f0e55d184e8a749cf80b6bd", "committedDate": "2020-04-09T14:35:13Z", "message": "Use a local copy of TabLayoutMediator instead upgrading material"}, "afterCommit": {"oid": "98277da26b79c8ab7cb8f348ecf4424d72c7e7cd", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/98277da26b79c8ab7cb8f348ecf4424d72c7e7cd", "committedDate": "2020-04-09T15:07:46Z", "message": "Use a local copy of TabLayoutMediator instead upgrading material"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxMDc4NTE2", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#pullrequestreview-391078516", "createdAt": "2020-04-09T19:39:12Z", "commit": {"oid": "98277da26b79c8ab7cb8f348ecf4424d72c7e7cd"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxOTozOToxMlrOGDmulw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxOTo1NDo1MVrOGDnOng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjQzMzQzMQ==", "bodyText": "Is this no longer supported? Without this, using ViewPager1, the views are recycled and getChildAt in ViewPagerBottomSheetBehavior returns the wrong page when looking for the currently active page.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#discussion_r406433431", "createdAt": "2020-04-09T19:39:12Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/fragment/AudioPlayerFragment.java", "diffHunk": "@@ -127,11 +130,10 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle sa\n         sbPosition.setOnSeekBarChangeListener(this);\n \n         pager = root.findViewById(R.id.pager);\n-        AudioPlayerPagerAdapter pagerAdapter = new AudioPlayerPagerAdapter(getChildFragmentManager());\n-        pager.setAdapter(pagerAdapter);\n+        pager.setAdapter(new AudioPlayerPagerAdapter(this));\n         // Required for getChildAt(int) in ViewPagerBottomSheetBehavior to return the correct page\n-        pager.setOffscreenPageLimit(NUM_CONTENT_FRAGMENTS);\n-        pager.addOnPageChangeListener(new ViewPager.SimpleOnPageChangeListener() {\n+        // pager.setOffscreenPageLimit(NUM_CONTENT_FRAGMENTS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "98277da26b79c8ab7cb8f348ecf4424d72c7e7cd"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjQ0MTYzMA==", "bodyText": "Hmm. I want to keep the amount of code that we need to take care of as small as possible. At some point, we have to upgrade the dependencies. We already use 64,945 out of 65,536 methods, so we can not go much longer without multidex, anyway.\nI will play around with ProGuard to see if we can get a bit more room for new methods without enabling MultiDex. I mean, even big apps like WhatsApp work without MultiDex. Something seems to waste methods...", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#discussion_r406441630", "createdAt": "2020-04-09T19:54:51Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/com/google/android/material/tabs/TabLayoutMediator.java", "diffHunk": "@@ -0,0 +1,309 @@\n+/*\n+ * Copyright 2018 The Android Open Source Project\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.google.android.material.tabs;\n+\n+import static androidx.viewpager2.widget.ViewPager2.SCROLL_STATE_DRAGGING;\n+import static androidx.viewpager2.widget.ViewPager2.SCROLL_STATE_IDLE;\n+import static androidx.viewpager2.widget.ViewPager2.SCROLL_STATE_SETTLING;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.recyclerview.widget.RecyclerView;\n+import androidx.viewpager2.widget.ViewPager2;\n+import java.lang.ref.WeakReference;\n+\n+/**\n+ * A mediator to link a TabLayout with a ViewPager2. The mediator will synchronize the ViewPager2's\n+ * position with the selected tab when a tab is selected, and the TabLayout's scroll position when\n+ * the user drags the ViewPager2. TabLayoutMediator will listen to ViewPager2's OnPageChangeCallback\n+ * to adjust tab when ViewPager2 moves. TabLayoutMediator listens to TabLayout's\n+ * OnTabSelectedListener to adjust VP2 when tab moves. TabLayoutMediator listens to RecyclerView's\n+ * AdapterDataObserver to recreate tab content when dataset changes.\n+ *\n+ * <p>Establish the link by creating an instance of this class, make sure the ViewPager2 has an\n+ * adapter and then call {@link #attach()} on it. Instantiating a TabLayoutMediator will only create\n+ * the mediator object, {@link #attach()} will link the TabLayout and the ViewPager2 together. When\n+ * creating an instance of this class, you must supply an implementation of {@link\n+ * TabConfigurationStrategy} in which you set the text of the tab, and/or perform any styling of the\n+ * tabs that you require. Changing ViewPager2's adapter will require a {@link #detach()} followed by\n+ * {@link #attach()} call. Changing the ViewPager2 or TabLayout will require a new instantiation of\n+ * TabLayoutMediator.\n+ */\n+public final class TabLayoutMediator {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "98277da26b79c8ab7cb8f348ecf4424d72c7e7cd"}, "originalPosition": 46}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b30fae76b1f9fd4a4ccea53942513353e08acae0", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/b30fae76b1f9fd4a4ccea53942513353e08acae0", "committedDate": "2020-04-09T20:49:42Z", "message": "Bring back AudioPlayerFragment pager's setOffscreenPageLimit\n\nAnd supress the faulty lint check."}, "afterCommit": {"oid": "ace47d019e2bda795eb8ec75c8355db98402dbdd", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/ace47d019e2bda795eb8ec75c8355db98402dbdd", "committedDate": "2020-04-10T09:34:06Z", "message": "Bring back AudioPlayerFragment pager's setOffscreenPageLimit\n\nAnd suppress the faulty lint check."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ace47d019e2bda795eb8ec75c8355db98402dbdd", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/ace47d019e2bda795eb8ec75c8355db98402dbdd", "committedDate": "2020-04-10T09:34:06Z", "message": "Bring back AudioPlayerFragment pager's setOffscreenPageLimit\n\nAnd suppress the faulty lint check."}, "afterCommit": {"oid": "3b1737e2958ec0f2b748274f7f6ca9b5da05ead7", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/3b1737e2958ec0f2b748274f7f6ca9b5da05ead7", "committedDate": "2020-04-10T09:39:31Z", "message": "Bring back AudioPlayerFragment pager's setOffscreenPageLimit\n\nAnd suppress the faulty lint check."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxMzYxODQ3", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#pullrequestreview-391361847", "createdAt": "2020-04-10T09:46:47Z", "commit": {"oid": "3b1737e2958ec0f2b748274f7f6ca9b5da05ead7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQwOTo0Njo0N1rOGD2PEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQwOTo0Njo0N1rOGD2PEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjY4NzUwNQ==", "bodyText": "Not in scope of this change but weird that NUM_PAGES is 2 but we have three pages here. Guess better to fix it after the PR.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#discussion_r406687505", "createdAt": "2020-04-10T09:46:47Z", "author": {"login": "ebraminio"}, "path": "app/src/main/java/de/danoeh/antennapod/fragment/gpodnet/GpodnetMainFragment.java", "diffHunk": "@@ -26,63 +35,59 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle sa\n         toolbar.setTitle(R.string.gpodnet_main_label);\n         ((AppCompatActivity) getActivity()).setSupportActionBar(toolbar);\n \n-        ViewPager viewPager = root.findViewById(R.id.viewpager);\n-        GpodnetPagerAdapter pagerAdapter = new GpodnetPagerAdapter(getChildFragmentManager());\n+        ViewPager2 viewPager = root.findViewById(R.id.viewpager);\n+        GpodnetPagerAdapter pagerAdapter = new GpodnetPagerAdapter(this);\n         viewPager.setAdapter(pagerAdapter);\n \n         // Give the TabLayout the ViewPager\n         TabLayout tabLayout = root.findViewById(R.id.sliding_tabs);\n-        tabLayout.setupWithViewPager(viewPager);\n+\n+        new TabLayoutMediator(tabLayout, viewPager, (tab, position) -> {\n+            switch (position) {\n+                case POS_TAGS:\n+                    tab.setText(R.string.gpodnet_taglist_header);\n+                    break;\n+                case POS_TOPLIST:\n+                    tab.setText(R.string.gpodnet_toplist_header);\n+                    break;\n+                default:\n+                case POS_SUGGESTIONS:\n+                    tab.setText(R.string.gpodnet_suggestions_header);\n+                    break;\n+            }\n+        }).attach();\n \n         return root;\n     }\n \n-    public class GpodnetPagerAdapter extends FragmentPagerAdapter {\n-        private static final int NUM_PAGES = 2;\n-        private static final int POS_TOPLIST = 0;\n-        private static final int POS_TAGS = 1;\n-        private static final int POS_SUGGESTIONS = 2;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b1737e2958ec0f2b748274f7f6ca9b5da05ead7"}, "originalPosition": 69}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c885431034e1a8dc1c354d9c0f492d9559fdf236", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/c885431034e1a8dc1c354d9c0f492d9559fdf236", "committedDate": "2020-04-10T09:48:40Z", "message": "Use constants instead hardcoded numbers in EpisodesFragment"}, "afterCommit": {"oid": "53b51de4693d94c77c651ec2c87221452b44d933", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/53b51de4693d94c77c651ec2c87221452b44d933", "committedDate": "2020-04-10T09:52:35Z", "message": "Use constants instead hardcoded numbers in view pagers adapters"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "53b51de4693d94c77c651ec2c87221452b44d933", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/53b51de4693d94c77c651ec2c87221452b44d933", "committedDate": "2020-04-10T09:52:35Z", "message": "Use constants instead hardcoded numbers in view pagers adapters"}, "afterCommit": {"oid": "24fc4c2410b04ac08cf59a0810bd19bbf84dd506", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/24fc4c2410b04ac08cf59a0810bd19bbf84dd506", "committedDate": "2020-04-10T12:04:51Z", "message": "Bring back AudioPlayerFragment pager's setOffscreenPageLimit\n\nThe reason needs cast: https://issuetracker.google.com/issues/144669596"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNDEwNDY2", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#pullrequestreview-391410466", "createdAt": "2020-04-10T12:10:49Z", "commit": {"oid": "24fc4c2410b04ac08cf59a0810bd19bbf84dd506"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxMjoxMDo0OVrOGD42AQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxMjoxMDo0OVrOGD42AQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjczMDI0MQ==", "bodyText": "Applied another solution based on https://issuetracker.google.com/issues/144669596", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#discussion_r406730241", "createdAt": "2020-04-10T12:10:49Z", "author": {"login": "ebraminio"}, "path": "app/src/main/java/de/danoeh/antennapod/fragment/AudioPlayerFragment.java", "diffHunk": "@@ -132,7 +132,7 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle sa\n         pager = root.findViewById(R.id.pager);\n         pager.setAdapter(new AudioPlayerPagerAdapter(this));\n         // Required for getChildAt(int) in ViewPagerBottomSheetBehavior to return the correct page\n-        // pager.setOffscreenPageLimit(NUM_CONTENT_FRAGMENTS);\n+        pager.setOffscreenPageLimit((int) NUM_CONTENT_FRAGMENTS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "24fc4c2410b04ac08cf59a0810bd19bbf84dd506"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "24fc4c2410b04ac08cf59a0810bd19bbf84dd506", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/24fc4c2410b04ac08cf59a0810bd19bbf84dd506", "committedDate": "2020-04-10T12:04:51Z", "message": "Bring back AudioPlayerFragment pager's setOffscreenPageLimit\n\nThe reason needs cast: https://issuetracker.google.com/issues/144669596"}, "afterCommit": {"oid": "ea415f40e451bcdc7008e6357892dd2645a26c8e", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/ea415f40e451bcdc7008e6357892dd2645a26c8e", "committedDate": "2020-04-10T13:38:45Z", "message": "Bring back AudioPlayerFragment pager's setOffscreenPageLimit\n\nThe reason needs cast: https://issuetracker.google.com/issues/144669596"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ea415f40e451bcdc7008e6357892dd2645a26c8e", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/ea415f40e451bcdc7008e6357892dd2645a26c8e", "committedDate": "2020-04-10T13:38:45Z", "message": "Bring back AudioPlayerFragment pager's setOffscreenPageLimit\n\nThe reason needs cast: https://issuetracker.google.com/issues/144669596"}, "afterCommit": {"oid": "accc97ee9ef52d7a9dc6767d466c550dd71e815a", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/accc97ee9ef52d7a9dc6767d466c550dd71e815a", "committedDate": "2020-04-10T13:40:24Z", "message": "Bring back AudioPlayerFragment pager's setOffscreenPageLimit\n\nThe reason needs cast: https://issuetracker.google.com/issues/144669596"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "accc97ee9ef52d7a9dc6767d466c550dd71e815a", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/accc97ee9ef52d7a9dc6767d466c550dd71e815a", "committedDate": "2020-04-10T13:40:24Z", "message": "Bring back AudioPlayerFragment pager's setOffscreenPageLimit\n\nThe reason needs cast: https://issuetracker.google.com/issues/144669596"}, "afterCommit": {"oid": "0416230a0f076d02c5519220d5ec837ebcb722af", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/0416230a0f076d02c5519220d5ec837ebcb722af", "committedDate": "2020-04-10T13:42:57Z", "message": "Bring back AudioPlayerFragment pager's setOffscreenPageLimit\n\nThe reason needs cast: https://issuetracker.google.com/issues/144669596"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNDg3ODYw", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#pullrequestreview-391487860", "createdAt": "2020-04-10T14:58:54Z", "commit": {"oid": "0416230a0f076d02c5519220d5ec837ebcb722af"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNDo1ODo1NFrOGD82aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQxNTowMjowM1rOGD87sQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc5NTg4Mw==", "bodyText": "With your changes, it is no longer possible to scroll up in the chapters list and the shownotes list (because every time when scrolling up, the slide-up sheet is closed). Something like the following helps. Maybe you could even use recycler.findViewHolderForAdapterPosition, so that we no longer need to rely on setOffscreenPageLimit. I am not really happy about getChildAt(0), so maybe you have another idea about that, too (IDs?).\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        ViewPager2 viewPager = (ViewPager2) view;\n          \n          \n            \n                        View currentViewPagerChild = viewPager.getChildAt(viewPager.getCurrentItem());\n          \n          \n            \n                        ViewPager2 viewPager = (ViewPager2) view;\n          \n          \n            \n                        RecyclerView recycler = (RecyclerView) viewPager.getChildAt(0);\n          \n          \n            \n                        View currentViewPagerChild = recycler.getChildAt(viewPager.getCurrentItem());", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#discussion_r406795883", "createdAt": "2020-04-10T14:58:54Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/com/google/android/material/bottomsheet/ViewPagerBottomSheetBehavior.java", "diffHunk": "@@ -31,8 +32,8 @@ View findScrollingChild(View view) {\n             return view;\n         }\n \n-        if (view instanceof ViewPager) {\n-            ViewPager viewPager = (ViewPager) view;\n+        if (view instanceof ViewPager2) {\n+            ViewPager2 viewPager = (ViewPager2) view;\n             View currentViewPagerChild = viewPager.getChildAt(viewPager.getCurrentItem());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0416230a0f076d02c5519220d5ec837ebcb722af"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjc5NzIzMw==", "bodyText": "When clicking an episode (not the first one in the list), I now see an animation scrolling through the pages of other episodes. Not sure what to do about that.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#discussion_r406797233", "createdAt": "2020-04-10T15:02:03Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/fragment/ItemPagerFragment.java", "diffHunk": "@@ -76,31 +77,21 @@ public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup c\n         feedItems = getArguments().getLongArray(ARG_FEEDITEMS);\n         int feedItemPos = getArguments().getInt(ARG_FEEDITEM_POS);\n \n-        ViewPager pager = layout.findViewById(R.id.pager);\n+        ViewPager2 pager = layout.findViewById(R.id.pager);\n         // FragmentStatePagerAdapter documentation:\n         // > When using FragmentStatePagerAdapter the host ViewPager must have a valid ID set.\n         // When opening multiple ItemPagerFragments by clicking \"item\" -> \"visit podcast\" -> \"item\" -> etc,\n         // the ID is no longer unique and FragmentStatePagerAdapter does not display any pages.\n         int newId = ViewCompat.generateViewId();\n         pager.setId(newId);\n-        pager.setAdapter(new ItemPagerAdapter());\n+        pager.setAdapter(new ItemPagerAdapter(this));\n         pager.setCurrentItem(feedItemPos);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0416230a0f076d02c5519220d5ec837ebcb722af"}, "originalPosition": 61}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c9feff77315f3451ecb5f2cac1c9de428ab21696", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/c9feff77315f3451ecb5f2cac1c9de428ab21696", "committedDate": "2020-04-12T07:34:44Z", "message": "Fix menu items duplication in episodes fragment for ViewPager2\n\nCalls setHasOptionsMenu in better place"}, "afterCommit": {"oid": "b37b052d9113fec48169d76b2196a51f1ee9b07e", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/b37b052d9113fec48169d76b2196a51f1ee9b07e", "committedDate": "2020-04-12T07:50:45Z", "message": "Fix menu items duplication in episodes and downloads fragment\n\nAs ViewPager2 different lifecycle apparently setHasOptionsMenu\nneeds to be called in a better place."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b37b052d9113fec48169d76b2196a51f1ee9b07e", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/b37b052d9113fec48169d76b2196a51f1ee9b07e", "committedDate": "2020-04-12T07:50:45Z", "message": "Fix menu items duplication in episodes and downloads fragment\n\nAs ViewPager2 different lifecycle apparently setHasOptionsMenu\nneeds to be called in a better place."}, "afterCommit": {"oid": "5d2d8773234839a05ca7ee17cb96c6a97b2f5f62", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/5d2d8773234839a05ca7ee17cb96c6a97b2f5f62", "committedDate": "2020-04-12T08:18:30Z", "message": "Fix menu items duplication in episodes and downloads fragment\n\nAs ViewPager2 different lifecycle apparently setHasOptionsMenu\nneeds to be called from onResume() from now on."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1dda535c56541dcdfc2b01de9d63350279a78c00", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/1dda535c56541dcdfc2b01de9d63350279a78c00", "committedDate": "2020-04-12T09:40:51Z", "message": "Use more optimized way to detect direction in PagerIndicatorView"}, "afterCommit": {"oid": "15cf4ee5c7019fdbad443660d73ca8341fc7fa6b", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/15cf4ee5c7019fdbad443660d73ca8341fc7fa6b", "committedDate": "2020-04-12T11:35:04Z", "message": "Use more optimized way to detect direction in PagerIndicatorView"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1a59d16ccfc5b00f5ee3a994ae676fe67ebf1cf9", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/1a59d16ccfc5b00f5ee3a994ae676fe67ebf1cf9", "committedDate": "2020-04-12T14:09:45Z", "message": "Wrap scrollable childs of viewpager in NestedScrollableHost"}, "afterCommit": {"oid": "06a6f50beab55648c7de914da52bf9d2987399c3", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/06a6f50beab55648c7de914da52bf9d2987399c3", "committedDate": "2020-04-12T14:16:12Z", "message": "Wrap scrollable childs of viewpager in NestedScrollableHost"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "06a6f50beab55648c7de914da52bf9d2987399c3", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/06a6f50beab55648c7de914da52bf9d2987399c3", "committedDate": "2020-04-12T14:16:12Z", "message": "Wrap scrollable childs of viewpager in NestedScrollableHost"}, "afterCommit": {"oid": "1e741c516d902898843b5da5e2eb07f4eb201a0c", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/1e741c516d902898843b5da5e2eb07f4eb201a0c", "committedDate": "2020-04-12T14:23:17Z", "message": "Wrap scrollable childs of viewpager in NestedScrollableHost"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxODk4MzM4", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#pullrequestreview-391898338", "createdAt": "2020-04-12T21:58:29Z", "commit": {"oid": "1e741c516d902898843b5da5e2eb07f4eb201a0c"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMlQyMTo1ODoyOVrOGEZAfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMlQyMjowOTozOVrOGEZFAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzI1NzIxNQ==", "bodyText": "I think a better location would be de.danoeh.antennapod.view", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#discussion_r407257215", "createdAt": "2020-04-12T21:58:29Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/androidx/viewpager2/integration/NestedScrollableHost.java", "diffHunk": "@@ -0,0 +1,133 @@\n+/*\n+ * Copyright 2019 The Android Open Source Project\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ *\n+ * Source: https://github.com/android/views-widgets-samples/blob/87e58d1/ViewPager2/app/src/main/java/androidx/viewpager2/integration/testapp/NestedScrollableHost.kt\n+ */\n+\n+package androidx.viewpager2.integration;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e741c516d902898843b5da5e2eb07f4eb201a0c"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzI1ODM2OQ==", "bodyText": "Scrolling generally works fine now but it sometimes feels a bit strange.\n\nIt is really easy to accidentally switch to another page when trying to scroll up/down. I think the sensitivity should be inverted: It should be easy to scroll up/down and harder to switch the page. Not sure how that would work, I have not looked at the code too closely yet.\nSometimes, flinging (move finger fast, then lift and the view continues to scroll) does not work. This might be caused by the thing above.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#discussion_r407258369", "createdAt": "2020-04-12T22:09:39Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/androidx/viewpager2/integration/NestedScrollableHost.java", "diffHunk": "@@ -0,0 +1,133 @@\n+/*\n+ * Copyright 2019 The Android Open Source Project\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ *\n+ * Source: https://github.com/android/views-widgets-samples/blob/87e58d1/ViewPager2/app/src/main/java/androidx/viewpager2/integration/testapp/NestedScrollableHost.kt\n+ */\n+\n+package androidx.viewpager2.integration;\n+\n+import android.content.Context;\n+import android.util.AttributeSet;\n+import android.view.MotionEvent;\n+import android.view.View;\n+import android.view.ViewConfiguration;\n+import android.widget.FrameLayout;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.viewpager2.widget.ViewPager2;\n+\n+import static androidx.viewpager2.widget.ViewPager2.ORIENTATION_HORIZONTAL;\n+\n+/**\n+ * Layout to wrap a scrollable component inside a ViewPager2. Provided as a solution to the problem\n+ * where pages of ViewPager2 have nested scrollable elements that scroll in the same direction as\n+ * ViewPager2. The scrollable element needs to be the immediate and only child of this host layout.\n+ *\n+ * <p>This solution has limitations when using multiple levels of nested scrollable elements\n+ * (e.g. a horizontal RecyclerView in a vertical RecyclerView in a horizontal ViewPager2).</p>\n+ */\n+class NestedScrollableHost extends FrameLayout {\n+\n+    public NestedScrollableHost(@NonNull Context context) {\n+        super(context);\n+        touchSlop = ViewConfiguration.get(context).getScaledTouchSlop();\n+    }\n+\n+    public NestedScrollableHost(@NonNull Context context, @Nullable AttributeSet attrs) {\n+        super(context, attrs);\n+        touchSlop = ViewConfiguration.get(context).getScaledTouchSlop();\n+    }\n+\n+    private int touchSlop = 0;\n+    private float initialX = 0f;\n+    private float initialY = 0f;\n+\n+    private ViewPager2 getParentViewPager() {\n+        View v = (View) getParent();\n+        while (v != null && !(v instanceof ViewPager2)) {\n+            v = (View) v.getParent();\n+        }\n+        return v == null ? null : (ViewPager2) v;\n+    }\n+\n+    private View getChild() {\n+        return getChildCount() > 0 ? getChildAt(0) : null;\n+    }\n+\n+    private boolean canChildScroll(int orientation, float delta) {\n+        int direction = (int) -Math.copySign(1, delta);\n+        View child = getChild();\n+        if (child == null) {\n+            return false;\n+        }\n+        switch (orientation) {\n+            case 0:\n+                return child.canScrollHorizontally(direction);\n+            case 1:\n+                return child.canScrollVertically(direction);\n+            default:\n+                return false;\n+        }\n+    }\n+\n+    public boolean onInterceptTouchEvent(MotionEvent e) {\n+        handleInterceptTouchEvent(e);\n+        return super.onInterceptTouchEvent(e);\n+    }\n+\n+    private void handleInterceptTouchEvent(MotionEvent e) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e741c516d902898843b5da5e2eb07f4eb201a0c"}, "originalPosition": 91}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1e741c516d902898843b5da5e2eb07f4eb201a0c", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/1e741c516d902898843b5da5e2eb07f4eb201a0c", "committedDate": "2020-04-12T14:23:17Z", "message": "Wrap scrollable childs of viewpager in NestedScrollableHost"}, "afterCommit": {"oid": "fec8563640374c098d0bb23b7210b412d6cba1ed", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/fec8563640374c098d0bb23b7210b412d6cba1ed", "committedDate": "2020-04-13T06:18:17Z", "message": "Wrap scrollable childs of viewpager in NestedScrollableHost"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fec8563640374c098d0bb23b7210b412d6cba1ed", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/fec8563640374c098d0bb23b7210b412d6cba1ed", "committedDate": "2020-04-13T06:18:17Z", "message": "Wrap scrollable childs of viewpager in NestedScrollableHost"}, "afterCommit": {"oid": "5e4118ceafa9a6a96915b9c658a70de08d94c269", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/5e4118ceafa9a6a96915b9c658a70de08d94c269", "committedDate": "2020-04-15T12:04:11Z", "message": "Wrap scrollable childs of viewpager in NestedScrollableHost"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "39f3869b3939346b062488420d244080616175e9", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/39f3869b3939346b062488420d244080616175e9", "committedDate": "2020-04-15T12:53:24Z", "message": "Revert ViewPager2 use in ItemPagerFragment"}, "afterCommit": {"oid": "a225ec07e1ac1d329ac487b4720a2e1422a7ae06", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/a225ec07e1ac1d329ac487b4720a2e1422a7ae06", "committedDate": "2020-04-15T12:55:00Z", "message": "Revert ViewPager2 use in ItemPagerFragment\n\nBecause of \"accidentally switch to another page when trying to scroll up/down\"\nViewPager2 use was creating,\nhttps://github.com/AntennaPod/AntennaPod/pull/4020#discussion_r407258369\n\nWill revert this once we reached to a solution for it."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a225ec07e1ac1d329ac487b4720a2e1422a7ae06", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/a225ec07e1ac1d329ac487b4720a2e1422a7ae06", "committedDate": "2020-04-15T12:55:00Z", "message": "Revert ViewPager2 use in ItemPagerFragment\n\nBecause of \"accidentally switch to another page when trying to scroll up/down\"\nViewPager2 use was creating,\nhttps://github.com/AntennaPod/AntennaPod/pull/4020#discussion_r407258369\n\nWill revert this once we reached to a solution for it."}, "afterCommit": {"oid": "829b75f87cdcd08499582ef1099a27f78b46e929", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/829b75f87cdcd08499582ef1099a27f78b46e929", "committedDate": "2020-04-15T12:58:40Z", "message": "Revert ViewPager2 use in ItemPagerFragment\n\nBecause of \"accidentally switch to another page when trying to scroll up/down\"\nhttps://github.com/AntennaPod/AntennaPod/pull/4020#discussion_r407258369\n\nWill revert this once we reached to a solution for it."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "829b75f87cdcd08499582ef1099a27f78b46e929", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/829b75f87cdcd08499582ef1099a27f78b46e929", "committedDate": "2020-04-15T12:58:40Z", "message": "Revert ViewPager2 use in ItemPagerFragment\n\nBecause of \"accidentally switch to another page when trying to scroll up/down\"\nhttps://github.com/AntennaPod/AntennaPod/pull/4020#discussion_r407258369\n\nWill revert this once we reached to a solution for it."}, "afterCommit": {"oid": "0d43d97285a62f18a208a4d7cdb34767990af480", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/0d43d97285a62f18a208a4d7cdb34767990af480", "committedDate": "2020-04-21T14:55:53Z", "message": "Modify NestedScrollableHost to suit our need\n\nNow manages nested child scrolling when the orientation is perpendicular"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cedfb27ccaef74d954bb3a8f0ea471be63a1375c", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/cedfb27ccaef74d954bb3a8f0ea471be63a1375c", "committedDate": "2020-04-21T15:00:16Z", "message": "Port AudioPlayer's viewpager to ViewPager2, improve RTL support"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "417c66d73a2c732372a1526979d1195c06a13192", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/417c66d73a2c732372a1526979d1195c06a13192", "committedDate": "2020-04-21T15:00:16Z", "message": "Adopt StatisticsFragment with ViewPager2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8166a7f7f162440ca05fa829cf2f78d73293492", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/e8166a7f7f162440ca05fa829cf2f78d73293492", "committedDate": "2020-04-21T15:00:17Z", "message": "Port pager_fragment users to ViewPager2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "74ec3b1e4a9f81cc23ffd17ea4867a25dd8d7f04", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/74ec3b1e4a9f81cc23ffd17ea4867a25dd8d7f04", "committedDate": "2020-04-21T15:00:17Z", "message": "Port ItemPagerFragment to ViewPager2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79e85363fb350687580d8f592916293f5e1fe217", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/79e85363fb350687580d8f592916293f5e1fe217", "committedDate": "2020-04-21T15:00:17Z", "message": "Match pager_fragment's pager height with its parent"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a11f2842bb991bdf9f86345f5005cd7194a55b2", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/3a11f2842bb991bdf9f86345f5005cd7194a55b2", "committedDate": "2020-04-21T15:00:17Z", "message": "Remove remained references of ViewPager"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "965fc5c27dff8d9478a4069886896aaeb93a80d0", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/965fc5c27dff8d9478a4069886896aaeb93a80d0", "committedDate": "2020-04-21T15:00:17Z", "message": "Add default cases for switches lack them"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75e9ee9e0da4cf930a424f0edf61f2ca37a7ca54", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/75e9ee9e0da4cf930a424f0edf61f2ca37a7ca54", "committedDate": "2020-04-21T15:00:17Z", "message": "Use constants instead hardcoded numbers in view pagers adapters"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "260d7ee9446258508a2b9145267bfe858a0e9540", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/260d7ee9446258508a2b9145267bfe858a0e9540", "committedDate": "2020-04-21T15:00:17Z", "message": "Bring back AudioPlayerFragment pager's setOffscreenPageLimit\n\nThe reason needs cast: https://issuetracker.google.com/issues/144669596"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "292afd7d309c02cfb760a5722affcec274ed935c", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/292afd7d309c02cfb760a5722affcec274ed935c", "committedDate": "2020-04-21T15:00:17Z", "message": "Disable bringing episode animation\n\nAs was requested in https://github.com/AntennaPod/AntennaPod/pull/4020#discussion_r406797233"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77dc78dfe8acf5ce72eafbf15a657338769edc42", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/77dc78dfe8acf5ce72eafbf15a657338769edc42", "committedDate": "2020-04-21T15:00:17Z", "message": "Fix view pager scrolling of bottom sheet\n\nAs was suggested in https://github.com/AntennaPod/AntennaPod/pull/4020#discussion_r406795883"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b9937c2bee33d23e8a7f93ac0e7bfae0a47ddbb", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/1b9937c2bee33d23e8a7f93ac0e7bfae0a47ddbb", "committedDate": "2020-04-21T15:00:17Z", "message": "Restore current tab right after downloads and episodes views creation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c88336f17fc3e234319405bb70841ce5237d0626", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/c88336f17fc3e234319405bb70841ce5237d0626", "committedDate": "2020-04-21T15:00:17Z", "message": "Disable downloads and episodes view tab position restore animation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "430e0d403e5f9c88dc4fc045077cad546220def8", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/430e0d403e5f9c88dc4fc045077cad546220def8", "committedDate": "2020-04-21T15:00:17Z", "message": "Fix menu items duplication in episodes and downloads fragment\n\nAs ViewPager2 different lifecycle apparently setHasOptionsMenu\nneeds to be called from onResume() from now on."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17962b57a052593827628d2db9932318ce2cb514", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/17962b57a052593827628d2db9932318ce2cb514", "committedDate": "2020-04-21T15:00:17Z", "message": "Use more optimized way to detect direction in PagerIndicatorView"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6f74af75920cabf33c16b08bce1d4297687e8d08", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/6f74af75920cabf33c16b08bce1d4297687e8d08", "committedDate": "2020-04-21T15:00:17Z", "message": "Wrap scrollable childs of viewpager in NestedScrollableHost"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0d43d97285a62f18a208a4d7cdb34767990af480", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/0d43d97285a62f18a208a4d7cdb34767990af480", "committedDate": "2020-04-21T14:55:53Z", "message": "Modify NestedScrollableHost to suit our need\n\nNow manages nested child scrolling when the orientation is perpendicular"}, "afterCommit": {"oid": "46b22dc9c0b1ad8354abf491ab47be7fcec6f1d8", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/46b22dc9c0b1ad8354abf491ab47be7fcec6f1d8", "committedDate": "2020-04-21T15:07:32Z", "message": "Modify NestedScrollableHost to suit our need\n\nNow manages nested child scrolling when the orientation is perpendicular"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "85f6fc9a785a0f0ee4644350390fcef2d3f564ae", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/85f6fc9a785a0f0ee4644350390fcef2d3f564ae", "committedDate": "2020-04-21T15:59:15Z", "message": "Modify NestedScrollableHost to suit our need\n\nNow manages nested child scrolling when the orientation is perpendicular"}, "afterCommit": {"oid": "d813e0c864f7c85209ceeed04b7336eb9896a9ba", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/d813e0c864f7c85209ceeed04b7336eb9896a9ba", "committedDate": "2020-04-21T16:09:27Z", "message": "Modify NestedScrollableHost to suit our need\n\nNow manages nested child scrolling when the orientation is perpendicular"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d813e0c864f7c85209ceeed04b7336eb9896a9ba", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/d813e0c864f7c85209ceeed04b7336eb9896a9ba", "committedDate": "2020-04-21T16:09:27Z", "message": "Modify NestedScrollableHost to suit our need\n\nNow manages nested child scrolling when the orientation is perpendicular"}, "afterCommit": {"oid": "cd9343554f9c3fca414ca1b13227abd362bdd256", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/cd9343554f9c3fca414ca1b13227abd362bdd256", "committedDate": "2020-04-21T16:27:57Z", "message": "Modify NestedScrollableHost to suit our need\n\nNow manages nested child scrolling when the orientation is perpendicular"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cd9343554f9c3fca414ca1b13227abd362bdd256", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/cd9343554f9c3fca414ca1b13227abd362bdd256", "committedDate": "2020-04-21T16:27:57Z", "message": "Modify NestedScrollableHost to suit our need\n\nNow manages nested child scrolling when the orientation is perpendicular"}, "afterCommit": {"oid": "885f333ae3ed45ee10098ae5edea1dcbefafa5c8", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/885f333ae3ed45ee10098ae5edea1dcbefafa5c8", "committedDate": "2020-04-21T17:05:24Z", "message": "Modify NestedScrollableHost to suit our need\n\nNow manages nested child scrolling when the orientation isn't perpendicular"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7bdacf8fdebbf38ecdc797d2b67506e3eeffb5a6", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/7bdacf8fdebbf38ecdc797d2b67506e3eeffb5a6", "committedDate": "2020-04-21T17:10:04Z", "message": "Modify NestedScrollableHost to suit our need\n\nNow manages nested child scrolling when the orientation isn't perpendicular"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "885f333ae3ed45ee10098ae5edea1dcbefafa5c8", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/885f333ae3ed45ee10098ae5edea1dcbefafa5c8", "committedDate": "2020-04-21T17:05:24Z", "message": "Modify NestedScrollableHost to suit our need\n\nNow manages nested child scrolling when the orientation isn't perpendicular"}, "afterCommit": {"oid": "7bdacf8fdebbf38ecdc797d2b67506e3eeffb5a6", "author": {"user": {"login": "ebraminio", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/7bdacf8fdebbf38ecdc797d2b67506e3eeffb5a6", "committedDate": "2020-04-21T17:10:04Z", "message": "Modify NestedScrollableHost to suit our need\n\nNow manages nested child scrolling when the orientation isn't perpendicular"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0MDk0MjYx", "url": "https://github.com/AntennaPod/AntennaPod/pull/4020#pullrequestreview-404094261", "createdAt": "2020-05-01T09:55:32Z", "commit": {"oid": "7bdacf8fdebbf38ecdc797d2b67506e3eeffb5a6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2837, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}