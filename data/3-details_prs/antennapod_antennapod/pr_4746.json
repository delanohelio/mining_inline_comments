{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM0OTMyNjU2", "number": 4746, "title": "add rewind, ff, skip button and layout for extra info in Widget", "bodyText": "fix #3835\n\n Show preview of buttons during the configuration of the widget\n\nadd rewind, fast forward and skip in the widget.   I decided to also redo the layout so we can see the entire title.\n\nI have made the buttons configurable\nWhen the user only chooses the play button, I use the original layout\nWhen the user chooses play and another button, I am using the new layout (cleaned up a bit)\nconfiguration screen\n\n\nMultiple layouts, the original one and a new layout for more than 1 button\n\nFirst version", "createdAt": "2020-12-09T06:12:36Z", "url": "https://github.com/AntennaPod/AntennaPod/pull/4746", "merged": true, "mergeCommit": {"oid": "08d1400951ed107cba14691f6657be32538a5c38"}, "closed": true, "closedAt": "2021-01-13T17:38:17Z", "author": {"login": "tonytamsf"}, "timelineItems": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkYdpogH2gAyNTM0OTMyNjU2OjkwMjNiMWQ4ODJiNmQzYWM3NmM2ZGRmYjVlOGRhMjhjN2ZkZWEyZDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdvsyapAH2gAyNTM0OTMyNjU2OmQ3OTRhYTM4YjkyMDJlMjlhNDNhNDRjZTQ0NWI4MTkxNjhjMGY1YTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9023b1d882b6d3ac76c6ddfb5e8da28c7fdea2d7", "author": {"user": {"login": "tonytamsf", "name": "Tony Tam"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/9023b1d882b6d3ac76c6ddfb5e8da28c7fdea2d7", "committedDate": "2020-12-09T06:08:37Z", "message": "add rewind, ff, skip button and layout for extra info"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8065e9ec8985cdcb3757c5c8dba1a4b7dc13c224", "author": {"user": {"login": "tonytamsf", "name": "Tony Tam"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/8065e9ec8985cdcb3757c5c8dba1a4b7dc13c224", "committedDate": "2020-12-09T06:15:36Z", "message": "make clicking on title open the app"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ac854f03fbffb6df23c3dbb535a5d26f66ae928", "author": {"user": {"login": "tonytamsf", "name": "Tony Tam"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/8ac854f03fbffb6df23c3dbb535a5d26f66ae928", "committedDate": "2020-12-09T06:35:38Z", "message": "cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a006418b3bbac11c9c02c6529a70ae507b903e9", "author": {"user": {"login": "tonytamsf", "name": "Tony Tam"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/2a006418b3bbac11c9c02c6529a70ae507b903e9", "committedDate": "2020-12-09T06:47:52Z", "message": "checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "67928fd1c7ee6736c66db871b4cfd0d242955eb0", "author": {"user": {"login": "tonytamsf", "name": "Tony Tam"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/67928fd1c7ee6736c66db871b4cfd0d242955eb0", "committedDate": "2020-12-30T19:15:53Z", "message": "checkpoint - buttons work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e1884f20c4da214ca644a7328e368b2587c37b4", "author": {"user": {"login": "tonytamsf", "name": "Tony Tam"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/4e1884f20c4da214ca644a7328e368b2587c37b4", "committedDate": "2020-12-30T20:18:15Z", "message": "2 seprate layouts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d075611ef720f0a994dd7de912f60e626c0c341", "author": {"user": {"login": "tonytamsf", "name": "Tony Tam"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/2d075611ef720f0a994dd7de912f60e626c0c341", "committedDate": "2020-12-30T20:24:21Z", "message": "Layout for more than just a play button"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76e9859f9e5fe6bf8f1503d0111c2431f71923fc", "author": {"user": {"login": "tonytamsf", "name": "Tony Tam"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/76e9859f9e5fe6bf8f1503d0111c2431f71923fc", "committedDate": "2020-12-30T20:38:42Z", "message": "layout"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "deb2f0c4051f6c858eba8c6e369a660d59b1e663", "author": {"user": {"login": "tonytamsf", "name": "Tony Tam"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/deb2f0c4051f6c858eba8c6e369a660d59b1e663", "committedDate": "2020-12-30T20:44:46Z", "message": "no need for extra layout"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMTk2NzA4", "url": "https://github.com/AntennaPod/AntennaPod/pull/4746#pullrequestreview-560196708", "createdAt": "2020-12-30T20:50:57Z", "commit": {"oid": "deb2f0c4051f6c858eba8c6e369a660d59b1e663"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMDo1MDo1N1rOIM1FZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMDo1MDo1N1rOIM1FZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDMyMzU1OA==", "bodyText": "There isn't a lot of changes to the code, just wrapping it into a for loop", "url": "https://github.com/AntennaPod/AntennaPod/pull/4746#discussion_r550323558", "createdAt": "2020-12-30T20:50:57Z", "author": {"login": "tonytamsf"}, "path": "core/src/main/java/de/danoeh/antennapod/core/service/PlayerWidgetJobService.java", "diffHunk": "@@ -102,111 +102,131 @@ private void updateViews() {\n         ComponentName playerWidget = new ComponentName(this, PlayerWidget.class);\n         AppWidgetManager manager = AppWidgetManager.getInstance(this);\n         int[] widgetIds = manager.getAppWidgetIds(playerWidget);\n-        RemoteViews views = new RemoteViews(getPackageName(), R.layout.player_widget);\n-        final PendingIntent startMediaPlayer = PendingIntent.getActivity(this, R.id.pending_intent_player_activity,\n-                PlaybackService.getPlayerActivityIntent(this), PendingIntent.FLAG_UPDATE_CURRENT);\n \n-        boolean nothingPlaying = false;\n-        Playable media;\n-        PlayerStatus status;\n-        if (playbackService != null) {\n-            media = playbackService.getPlayable();\n-            status = playbackService.getStatus();\n-        } else {\n-            media = Playable.PlayableUtils.createInstanceFromPreferences(getApplicationContext());\n-            status = PlayerStatus.STOPPED;\n-        }\n-\n-        if (media != null) {\n-            views.setOnClickPendingIntent(R.id.layout_left, startMediaPlayer);\n-\n-            try {\n-                Bitmap icon;\n-                int iconSize = getResources().getDimensionPixelSize(android.R.dimen.app_icon_size);\n-                icon = Glide.with(PlayerWidgetJobService.this)\n-                        .asBitmap()\n-                        .load(ImageResourceUtils.getImageLocation(media))\n-                        .apply(RequestOptions.diskCacheStrategyOf(ApGlideSettings.AP_DISK_CACHE_STRATEGY))\n-                        .submit(iconSize, iconSize)\n-                        .get(500, TimeUnit.MILLISECONDS);\n-                views.setImageViewBitmap(R.id.imgvCover, icon);\n-            } catch (Throwable tr) {\n-                Log.e(TAG, \"Error loading the media icon for the widget\", tr);\n-                views.setImageViewResource(R.id.imgvCover, R.mipmap.ic_launcher_round);\n+        for (int id : widgetIds) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "deb2f0c4051f6c858eba8c6e369a660d59b1e663"}, "originalPosition": 35}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a2b6c619e6cd9a8c87ea46152cb1ba1d1379da3", "author": {"user": {"login": "tonytamsf", "name": "Tony Tam"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/1a2b6c619e6cd9a8c87ea46152cb1ba1d1379da3", "committedDate": "2020-12-30T20:55:47Z", "message": "checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e7031114f00ac404cc49dc14f239f5b2d95189f9", "author": {"user": {"login": "tonytamsf", "name": "Tony Tam"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/e7031114f00ac404cc49dc14f239f5b2d95189f9", "committedDate": "2020-12-30T20:59:32Z", "message": "whitespace"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "816fe1b8b0014808dca6cfef81fabed466315c6b", "author": {"user": {"login": "tonytamsf", "name": "Tony Tam"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/816fe1b8b0014808dca6cfef81fabed466315c6b", "committedDate": "2021-01-03T01:57:43Z", "message": "preview of the configuration show buttons"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY1NTEwMzI4", "url": "https://github.com/AntennaPod/AntennaPod/pull/4746#pullrequestreview-565510328", "createdAt": "2021-01-11T16:10:29Z", "commit": {"oid": "816fe1b8b0014808dca6cfef81fabed466315c6b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMVQxNjoxMDozMFrOIRcfcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMVQxNjoxMDozMFrOIRcfcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTE2MzUwNQ==", "bodyText": "Is there a case where it actually is null?", "url": "https://github.com/AntennaPod/AntennaPod/pull/4746#discussion_r555163505", "createdAt": "2021-01-11T16:10:30Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/activity/WidgetConfigActivity.java", "diffHunk": "@@ -63,6 +76,9 @@ public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\n                 opacityTextView.setText(seekBar.getProgress() + \"%\");\n                 int color = getColorWithAlpha(PlayerWidget.DEFAULT_COLOR, opacitySeekBar.getProgress());\n                 widgetPreview.setBackgroundColor(color);\n+                if (widgetMorePreview != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "816fe1b8b0014808dca6cfef81fabed466315c6b"}, "originalPosition": 40}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTY1NTE4ODAw", "url": "https://github.com/AntennaPod/AntennaPod/pull/4746#pullrequestreview-565518800", "createdAt": "2021-01-11T16:19:17Z", "commit": {"oid": "816fe1b8b0014808dca6cfef81fabed466315c6b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMVQxNjoxOToxN1rOIRc4Aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMVQxNjoxOToxN1rOIRc4Aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTE2OTc5NQ==", "bodyText": "I'm not completely happy about the name More, to be honest. How about Extended?", "url": "https://github.com/AntennaPod/AntennaPod/pull/4746#discussion_r555169795", "createdAt": "2021-01-11T16:19:17Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/activity/WidgetConfigActivity.java", "diffHunk": "@@ -54,7 +64,10 @@ protected void onCreate(Bundle savedInstanceState) {\n         displayDeviceBackground();\n         opacityTextView = findViewById(R.id.widget_opacity_textView);\n         opacitySeekBar = findViewById(R.id.widget_opacity_seekBar);\n-        widgetPreview = findViewById(R.id.widgetLayout);\n+        previewLayout = findViewById(R.id.widget_config_preview);\n+        widgetPreview = previewLayout.findViewById(R.id.widgetLayout);\n+        widgetMorePreview = findViewById(R.id.widgetMoreLayout);\n+        previewMoreLayout = findViewById(R.id.widget_config_more_preview);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "816fe1b8b0014808dca6cfef81fabed466315c6b"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eed0db3cc674276e19f589499f2058cb6e3d2843", "author": {"user": {"login": "tonytamsf", "name": "Tony Tam"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/eed0db3cc674276e19f589499f2058cb6e3d2843", "committedDate": "2021-01-12T06:39:27Z", "message": "fix layout"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da2da916d77e0cb7d36c740688b3cc7d57eec7b2", "author": {"user": {"login": "tonytamsf", "name": "Tony Tam"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/da2da916d77e0cb7d36c740688b3cc7d57eec7b2", "committedDate": "2021-01-12T06:40:33Z", "message": "newline"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48c6b2ac0d1c4e8a09d6dc444979b40190b2d9aa", "author": {"user": {"login": "ByteHamster", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/48c6b2ac0d1c4e8a09d6dc444979b40190b2d9aa", "committedDate": "2021-01-12T12:04:30Z", "message": "Simplified widget layout files"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffd78efae621f879666e8362ce87ce09850a2ff0", "author": {"user": {"login": "tonytamsf", "name": "Tony Tam"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/ffd78efae621f879666e8362ce87ce09850a2ff0", "committedDate": "2021-01-13T07:26:11Z", "message": "Trigger Build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dc58152ec98b42f68eaa2552d4dce6cb455d9174", "author": {"user": {"login": "tonytamsf", "name": "Tony Tam"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/dc58152ec98b42f68eaa2552d4dce6cb455d9174", "committedDate": "2021-01-13T08:14:58Z", "message": "resync"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d794aa38b9202e29a43a44ce445b819168c0f5a6", "author": {"user": {"login": "ByteHamster", "name": null}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/d794aa38b9202e29a43a44ce445b819168c0f5a6", "committedDate": "2021-01-13T10:02:34Z", "message": "Merge branch 'develop' into widget3"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2666, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}