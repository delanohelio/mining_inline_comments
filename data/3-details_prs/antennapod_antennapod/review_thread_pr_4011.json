{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk5MzY4NDI3", "number": 4011, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwNzo1NDo0M1rODvAlqQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwNzo1NzowOVrODvAo9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNjE5MzA1OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/de/danoeh/antennapod/fragment/preferences/ImportExportPreferencesFragment.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwNzo1NDo0M1rOGBLyYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwNzo1NDo0M1rOGBLyYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzg5NDg4Mw==", "bodyText": "Please use a R.string resource, so the text can be translated", "url": "https://github.com/AntennaPod/AntennaPod/pull/4011#discussion_r403894883", "createdAt": "2020-04-06T07:54:43Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/fragment/preferences/ImportExportPreferencesFragment.java", "diffHunk": "@@ -173,16 +174,30 @@ private void exportDatabase() {\n     }\n \n     private void importDatabase() {\n-        if (Build.VERSION.SDK_INT >= 19) {\n-            Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n-            intent.setType(\"*/*\");\n-            startActivityForResult(intent, REQUEST_CODE_RESTORE_DATABASE);\n-        } else {\n-            Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n-            intent.setType(\"*/*\");\n-            startActivityForResult(Intent.createChooser(intent,\n-                    getString(R.string.import_select_file)), REQUEST_CODE_RESTORE_DATABASE);\n-        }\n+        // setup the alert builder\n+        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n+        builder.setTitle(R.string.database_import_label);\n+        builder.setMessage(R.string.database_import_warning);\n+\n+        // add a button\n+        builder.setNegativeButton(\"NO\", null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7bd259f59ae87bb14ad6079a1cdfbde2f859a89a"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNjE5NDYxOnYy", "diffSide": "RIGHT", "path": "app/src/main/AndroidManifest.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwNzo1NTowNVrOGBLzTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwNzo1NTowNVrOGBLzTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzg5NTExNw==", "bodyText": "This seems to come from a different branch", "url": "https://github.com/AntennaPod/AntennaPod/pull/4011#discussion_r403895117", "createdAt": "2020-04-06T07:55:05Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/AndroidManifest.xml", "diffHunk": "@@ -73,6 +73,7 @@\n         <activity\n             android:name=\".activity.MainActivity\"\n             android:configChanges=\"keyboardHidden|orientation|screenSize\"\n+            android:windowSoftInputMode=\"stateHidden\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7bd259f59ae87bb14ad6079a1cdfbde2f859a89a"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNjE5ODMzOnYy", "diffSide": "RIGHT", "path": "core/src/main/res/values/strings.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwNzo1NjoxNFrOGBL1lQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwNzo1NjoxNFrOGBL1lQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzg5NTcwMQ==", "bodyText": "You added two space characters after the full stop characters, here.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4011#discussion_r403895701", "createdAt": "2020-04-06T07:56:14Z", "author": {"login": "ByteHamster"}, "path": "core/src/main/res/values/strings.xml", "diffHunk": "@@ -561,6 +561,7 @@\n     <string name=\"html_export_label\">HTML export</string>\n     <string name=\"database_export_label\">Database export</string>\n     <string name=\"database_import_label\">Database import</string>\n+    <string name=\"database_import_warning\">Importing a database will replace all of your current subscriptions and playing history.  You should export your current database as a backup.  Do you want to replace?</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7bd259f59ae87bb14ad6079a1cdfbde2f859a89a"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUwNjIwMTUwOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/de/danoeh/antennapod/fragment/preferences/ImportExportPreferencesFragment.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwNzo1NzowOVrOGBL3mA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNlQwNzo1NzowOVrOGBL3mA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzg5NjIxNg==", "bodyText": "You can directly call builder.show without creating a dialog object", "url": "https://github.com/AntennaPod/AntennaPod/pull/4011#discussion_r403896216", "createdAt": "2020-04-06T07:57:09Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/fragment/preferences/ImportExportPreferencesFragment.java", "diffHunk": "@@ -173,16 +174,30 @@ private void exportDatabase() {\n     }\n \n     private void importDatabase() {\n-        if (Build.VERSION.SDK_INT >= 19) {\n-            Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n-            intent.setType(\"*/*\");\n-            startActivityForResult(intent, REQUEST_CODE_RESTORE_DATABASE);\n-        } else {\n-            Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n-            intent.setType(\"*/*\");\n-            startActivityForResult(Intent.createChooser(intent,\n-                    getString(R.string.import_select_file)), REQUEST_CODE_RESTORE_DATABASE);\n-        }\n+        // setup the alert builder\n+        AlertDialog.Builder builder = new AlertDialog.Builder(getActivity());\n+        builder.setTitle(R.string.database_import_label);\n+        builder.setMessage(R.string.database_import_warning);\n+\n+        // add a button\n+        builder.setNegativeButton(\"NO\", null);\n+        builder.setPositiveButton(\"Replace\", (dialog, which) -> {\n+                    if (Build.VERSION.SDK_INT >= 19) {\n+                        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT);\n+                        intent.setType(\"*/*\");\n+                        startActivityForResult(intent, REQUEST_CODE_RESTORE_DATABASE);\n+                    } else {\n+                        Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n+                        intent.setType(\"*/*\");\n+                        startActivityForResult(Intent.createChooser(intent,\n+                                getString(R.string.import_select_file)), REQUEST_CODE_RESTORE_DATABASE);\n+                    }\n+                }\n+        );\n+\n+        // create and show the alert dialog\n+        AlertDialog dialog = builder.create();\n+        dialog.show();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7bd259f59ae87bb14ad6079a1cdfbde2f859a89a"}, "originalPosition": 45}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4765, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}