{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2MzU3MzUx", "number": 4485, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQwNjo1NDo0OVrOEptVBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxOTowMzo1MlrOEq4eUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMTY5NzM1OnYy", "diffSide": "LEFT", "path": "app/src/main/java/de/danoeh/antennapod/fragment/ExternalPlayerFragment.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQwNjo1NDo0OVrOHbi0zw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQwNjo1NDo0OVrOHbi0zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODY0NDE3NQ==", "bodyText": "i have removed this line  because whenever a video is played in AntennaPod this line was making play button invisible", "url": "https://github.com/AntennaPod/AntennaPod/pull/4485#discussion_r498644175", "createdAt": "2020-10-02T06:54:49Z", "author": {"login": "heyyviv"}, "path": "app/src/main/java/de/danoeh/antennapod/fragment/ExternalPlayerFragment.java", "diffHunk": "@@ -200,7 +200,6 @@ private void updateUi(Playable media) {\n                 .into(imgvCover);\n \n         if (controller != null && controller.isPlayingVideoLocally()) {\n-            butPlay.setVisibility(View.GONE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e60b250c189c9761fecd432e582ce98d61ae74ce"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyMzM2ODQzOnYy", "diffSide": "RIGHT", "path": "app/src/main/res/layout/external_player_fragment.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNjowMzoyMFrOHbzMUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxNjowMzoyMFrOHbzMUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODkxMjMzNg==", "bodyText": "Please do not change the indention of the file. Keep untouched lines like they were before.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4485#discussion_r498912336", "createdAt": "2020-10-02T16:03:20Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/res/layout/external_player_fragment.xml", "diffHunk": "@@ -58,15 +58,16 @@\n \n \n         <ImageButton\n-                android:id=\"@+id/butPlay\"\n-                android:layout_width=\"52dp\"\n-                android:layout_height=\"match_parent\"\n-                android:contentDescription=\"@string/pause_label\"\n-                android:background=\"?attr/selectableItemBackground\"\n-                app:srcCompat=\"?attr/av_play\"\n-                android:scaleType=\"fitCenter\"\n-                android:padding=\"8dp\"\n-                tools:src=\"@drawable/ic_av_play_white_48dp\"/>\n+            android:id=\"@+id/butPlay\"\n+            android:layout_width=\"52dp\"\n+            android:layout_height=\"match_parent\"\n+            android:contentDescription=\"@string/pause_label\"\n+            android:background=\"?attr/selectableItemBackground\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e60b250c189c9761fecd432e582ce98d61ae74ce"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNDAwOTEzOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/de/danoeh/antennapod/fragment/ExternalPlayerFragment.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxOTowMzo1MlrOHdV-cA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNlQxOTowMzo1MlrOHdV-cA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDUzMDgwMA==", "bodyText": "Something like the following ensures that there is no race condition where calling playPause and getting the player status interfere.\nif (controller != null) {\n    if (video and not playing) {\n        playPause() // Do not call before checking player status but not after starting activity\n        start activity\n    } else {\n        playPause();\n    }\n}", "url": "https://github.com/AntennaPod/AntennaPod/pull/4485#discussion_r500530800", "createdAt": "2020-10-06T19:03:52Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/fragment/ExternalPlayerFragment.java", "diffHunk": "@@ -78,7 +79,12 @@ public View onCreateView(LayoutInflater inflater, ViewGroup container,\n     public void onActivityCreated(Bundle savedInstanceState) {\n         super.onActivityCreated(savedInstanceState);\n         butPlay.setOnClickListener(v -> {\n-            if (controller != null) {\n+            if (controller != null && controller.getMedia().getMediaType() == MediaType.VIDEO) {\n+                controller.playPause();\n+                if(controller.getStatus() != PlayerStatus.PLAYING) {\n+                    getContext().startActivity(PlaybackService.getPlayerActivityIntent(getContext(),controller.getMedia()));\n+                }\n+            }else if (controller != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ada73c518e85adaeccf62cf0ea9d0f6afc54f432"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4666, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}