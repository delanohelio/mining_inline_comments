{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwMTUyNzkx", "number": 3739, "title": "Support for \"Subscribe on Android\" ", "bodyText": "This PR introduces initial support for subscribeonandroid.com URLs.\nFixes #2297\nHowever, I'm not really happy with the way URLs are parsed now. In particular the RegEx I hacked together.\nOther than that I'm not sure how to handle the http(s) part of the URL. If an user tries to subscribe to an subscribeonandroid.com URL served via https while the original only being available via plan http the subscription is probably going to fail.\nLet me know your thoughts.", "createdAt": "2020-01-07T20:10:56Z", "url": "https://github.com/AntennaPod/AntennaPod/pull/3739", "merged": true, "mergeCommit": {"oid": "5011d5847c654443c08cd25b089926fde3ee5a8f"}, "closed": true, "closedAt": "2020-01-09T16:01:43Z", "author": {"login": "txtd"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb4FID0gH2gAyMzYwMTUyNzkxOjQ2MzZjMDFkNzM4NzMxZjY3YTIzZTZkNTA2MmE1ZjdlMTQxNjdjYjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb4IHezAH2gAyMzYwMTUyNzkxOjIyNzk3ZmQ3YjJlOGVlMDE1MjZkNzQyYWNlYzFiM2FkOTk0YjllMzA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4636c01d738731f67a23e6d5062a5f7e14167cb5", "author": {"user": {"login": "txtd", "name": "schlich"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/4636c01d738731f67a23e6d5062a5f7e14167cb5", "committedDate": "2020-01-07T18:33:01Z", "message": "Add intent filters for subscribeonandroid.com to manifest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f363540fbae4df6f7501b5623a991a41323b780", "author": {"user": {"login": "txtd", "name": "schlich"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/9f363540fbae4df6f7501b5623a991a41323b780", "committedDate": "2020-01-07T20:01:29Z", "message": "Properly parse subscribeonandroid.com URLs when subscribing to a feed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "852090059751973e11de0c9806a79fd857cadde2", "author": {"user": {"login": "txtd", "name": "schlich"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/852090059751973e11de0c9806a79fd857cadde2", "committedDate": "2020-01-07T21:02:18Z", "message": "Use replaceFirst() rather than replaceAll() when parsing subscribe on android URLs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5NTIwMjEz", "url": "https://github.com/AntennaPod/AntennaPod/pull/3739#pullrequestreview-339520213", "createdAt": "2020-01-07T21:31:49Z", "commit": {"oid": "852090059751973e11de0c9806a79fd857cadde2"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QyMTozMTo0OVrOFbGZ0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wN1QyMTozNTo1NlrOFbGgOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzk2MDc4NQ==", "bodyText": "Please remove", "url": "https://github.com/AntennaPod/AntennaPod/pull/3739#discussion_r363960785", "createdAt": "2020-01-07T21:31:49Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/AndroidManifest.xml", "diffHunk": "@@ -339,6 +357,8 @@\n             </intent-filter>\n         </receiver>\n \n+\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "852090059751973e11de0c9806a79fd857cadde2"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzk2MTAwNQ==", "bodyText": "Please remove the empty lines above.", "url": "https://github.com/AntennaPod/AntennaPod/pull/3739#discussion_r363961005", "createdAt": "2020-01-07T21:32:23Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/AndroidManifest.xml", "diffHunk": "@@ -297,6 +297,24 @@\n                 <data android:scheme=\"antennapod-subscribe\"/>\n             </intent-filter>\n \n+            <!--Support for subscribeonandroid.com URLS-->\n+\n+            <intent-filter>\n+                <action android:name=\"android.intent.action.VIEW\" />\n+\n+                <category android:name=\"android.intent.category.DEFAULT\" />\n+                <category android:name=\"android.intent.category.BROWSABLE\" />\n+\n+                <data android:pathPattern=\".*\\\\..*/.*\" />\n+                <data android:host=\"subscribeonandroid.com\" />\n+                <data android:host=\"www.subscribeonandroid.com\" />\n+                <data android:host=\"*subscribeonandroid.com\" />\n+                <data android:scheme=\"http\" />\n+                <data android:scheme=\"https\" />\n+\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "852090059751973e11de0c9806a79fd857cadde2"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzk2MTA2Nw==", "bodyText": "Please remove the empty line above.", "url": "https://github.com/AntennaPod/AntennaPod/pull/3739#discussion_r363961067", "createdAt": "2020-01-07T21:32:34Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/AndroidManifest.xml", "diffHunk": "@@ -297,6 +297,24 @@\n                 <data android:scheme=\"antennapod-subscribe\"/>\n             </intent-filter>\n \n+            <!--Support for subscribeonandroid.com URLS-->\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "852090059751973e11de0c9806a79fd857cadde2"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mzk2MjQyNA==", "bodyText": "Please use the Google java code style. Basically, add more space characters like in the statements below. Next to method arguments and curly braces. This is currently not checked on CI because it is too inconsistent in the code base but I would prefer new code to be consistent.", "url": "https://github.com/AntennaPod/AntennaPod/pull/3739#discussion_r363962424", "createdAt": "2020-01-07T21:35:56Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/activity/OnlineFeedViewActivity.java", "diffHunk": "@@ -134,6 +134,10 @@ protected void onCreate(Bundle savedInstanceState) {\n         } else {\n             Log.d(TAG, \"Activity was started with url \" + feedUrl);\n             setLoadingLayout();\n+            //Remove subscribeonandroid.com from feed URL in order to subscribe to the actual feed URL\n+            if(feedUrl.contains(\"subscribeonandroid.com\")){\n+                feedUrl = feedUrl.replaceFirst(\"((www.)?(subscribeonandroid.com/))\",\"\");\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "852090059751973e11de0c9806a79fd857cadde2"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22797fd7b2e8ee01526d742acec1b3ad994b9e30", "author": {"user": {"login": "txtd", "name": "schlich"}}, "url": "https://github.com/AntennaPod/AntennaPod/commit/22797fd7b2e8ee01526d742acec1b3ad994b9e30", "committedDate": "2020-01-07T22:02:06Z", "message": "Cleanup code"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2877, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}