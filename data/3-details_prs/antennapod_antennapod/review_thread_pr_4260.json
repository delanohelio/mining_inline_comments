{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4ODU3MTU2", "number": 4260, "reviewThreads": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNzozMDoxMFrOEJU1Bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQwNzoyOTozM1rOENK8JA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MjEzODk1OnYy", "diffSide": "RIGHT", "path": "app/src/androidTest/java/de/test/antennapod/ui/DialogsTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNzozMDoxMFrOGp0ATw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxOToxNzoxOFrOGp_pGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5Njg0Nw==", "bodyText": "I would move this to a dialogs package and name the class ShareDialogTest, so it is more modular", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r446496847", "createdAt": "2020-06-27T07:30:10Z", "author": {"login": "ByteHamster"}, "path": "app/src/androidTest/java/de/test/antennapod/ui/DialogsTest.java", "diffHunk": "@@ -0,0 +1,98 @@\n+package de.test.antennapod.ui;\n+\n+import android.content.Intent;\n+import android.view.View;\n+import androidx.test.espresso.Espresso;\n+import androidx.test.espresso.contrib.RecyclerViewActions;\n+import androidx.test.espresso.intent.rule.IntentsTestRule;\n+import androidx.test.runner.AndroidJUnit4;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.activity.MainActivity;\n+import de.danoeh.antennapod.fragment.AddFeedFragment;\n+import de.danoeh.antennapod.fragment.DownloadsFragment;\n+import de.danoeh.antennapod.fragment.QueueFragment;\n+import de.danoeh.antennapod.fragment.SubscriptionFragment;\n+import de.test.antennapod.EspressoTestUtils;\n+import org.hamcrest.Matcher;\n+import org.hamcrest.Matchers;\n+import org.junit.Before;\n+import org.junit.Rule;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+import static androidx.test.espresso.Espresso.onView;\n+import static androidx.test.espresso.action.ViewActions.clearText;\n+import static androidx.test.espresso.action.ViewActions.click;\n+import static androidx.test.espresso.action.ViewActions.closeSoftKeyboard;\n+import static androidx.test.espresso.action.ViewActions.scrollTo;\n+import static androidx.test.espresso.action.ViewActions.typeText;\n+import static androidx.test.espresso.assertion.ViewAssertions.matches;\n+import static androidx.test.espresso.matcher.RootMatchers.isDialog;\n+import static androidx.test.espresso.matcher.ViewMatchers.isDescendantOfA;\n+import static androidx.test.espresso.matcher.ViewMatchers.isDisplayed;\n+import static androidx.test.espresso.matcher.ViewMatchers.isRoot;\n+import static androidx.test.espresso.matcher.ViewMatchers.withClassName;\n+import static androidx.test.espresso.matcher.ViewMatchers.withContentDescription;\n+import static androidx.test.espresso.matcher.ViewMatchers.withId;\n+import static androidx.test.espresso.matcher.ViewMatchers.withText;\n+import static de.test.antennapod.EspressoTestUtils.waitForView;\n+import static de.test.antennapod.NthMatcher.first;\n+import static org.hamcrest.CoreMatchers.allOf;\n+import static org.hamcrest.CoreMatchers.endsWith;\n+\n+/**\n+ * User interface tests for queue fragment.\n+ */\n+@RunWith(AndroidJUnit4.class)\n+public class DialogsTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY4NzUxNQ==", "bodyText": "yes, you're right. I'm gonna fix it.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r446687515", "createdAt": "2020-06-28T19:17:18Z", "author": {"login": "gerardolgvr"}, "path": "app/src/androidTest/java/de/test/antennapod/ui/DialogsTest.java", "diffHunk": "@@ -0,0 +1,98 @@\n+package de.test.antennapod.ui;\n+\n+import android.content.Intent;\n+import android.view.View;\n+import androidx.test.espresso.Espresso;\n+import androidx.test.espresso.contrib.RecyclerViewActions;\n+import androidx.test.espresso.intent.rule.IntentsTestRule;\n+import androidx.test.runner.AndroidJUnit4;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.activity.MainActivity;\n+import de.danoeh.antennapod.fragment.AddFeedFragment;\n+import de.danoeh.antennapod.fragment.DownloadsFragment;\n+import de.danoeh.antennapod.fragment.QueueFragment;\n+import de.danoeh.antennapod.fragment.SubscriptionFragment;\n+import de.test.antennapod.EspressoTestUtils;\n+import org.hamcrest.Matcher;\n+import org.hamcrest.Matchers;\n+import org.junit.Before;\n+import org.junit.Rule;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+import static androidx.test.espresso.Espresso.onView;\n+import static androidx.test.espresso.action.ViewActions.clearText;\n+import static androidx.test.espresso.action.ViewActions.click;\n+import static androidx.test.espresso.action.ViewActions.closeSoftKeyboard;\n+import static androidx.test.espresso.action.ViewActions.scrollTo;\n+import static androidx.test.espresso.action.ViewActions.typeText;\n+import static androidx.test.espresso.assertion.ViewAssertions.matches;\n+import static androidx.test.espresso.matcher.RootMatchers.isDialog;\n+import static androidx.test.espresso.matcher.ViewMatchers.isDescendantOfA;\n+import static androidx.test.espresso.matcher.ViewMatchers.isDisplayed;\n+import static androidx.test.espresso.matcher.ViewMatchers.isRoot;\n+import static androidx.test.espresso.matcher.ViewMatchers.withClassName;\n+import static androidx.test.espresso.matcher.ViewMatchers.withContentDescription;\n+import static androidx.test.espresso.matcher.ViewMatchers.withId;\n+import static androidx.test.espresso.matcher.ViewMatchers.withText;\n+import static de.test.antennapod.EspressoTestUtils.waitForView;\n+import static de.test.antennapod.NthMatcher.first;\n+import static org.hamcrest.CoreMatchers.allOf;\n+import static org.hamcrest.CoreMatchers.endsWith;\n+\n+/**\n+ * User interface tests for queue fragment.\n+ */\n+@RunWith(AndroidJUnit4.class)\n+public class DialogsTest {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5Njg0Nw=="}, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MjEzOTkwOnYy", "diffSide": "RIGHT", "path": "app/src/androidTest/java/de/test/antennapod/ui/DialogsTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNzozMTo0OVrOGp0AvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxOToyNzowMlrOGp_sxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5Njk1Ng==", "bodyText": "We already have a class UITestUtils that automatically adds and hosts a podcast. I would prefer that over a real podcast because it makes us less dependent on somebody else. See PlaybackTest for example usage.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r446496956", "createdAt": "2020-06-27T07:31:49Z", "author": {"login": "ByteHamster"}, "path": "app/src/androidTest/java/de/test/antennapod/ui/DialogsTest.java", "diffHunk": "@@ -0,0 +1,98 @@\n+package de.test.antennapod.ui;\n+\n+import android.content.Intent;\n+import android.view.View;\n+import androidx.test.espresso.Espresso;\n+import androidx.test.espresso.contrib.RecyclerViewActions;\n+import androidx.test.espresso.intent.rule.IntentsTestRule;\n+import androidx.test.runner.AndroidJUnit4;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.activity.MainActivity;\n+import de.danoeh.antennapod.fragment.AddFeedFragment;\n+import de.danoeh.antennapod.fragment.DownloadsFragment;\n+import de.danoeh.antennapod.fragment.QueueFragment;\n+import de.danoeh.antennapod.fragment.SubscriptionFragment;\n+import de.test.antennapod.EspressoTestUtils;\n+import org.hamcrest.Matcher;\n+import org.hamcrest.Matchers;\n+import org.junit.Before;\n+import org.junit.Rule;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+import static androidx.test.espresso.Espresso.onView;\n+import static androidx.test.espresso.action.ViewActions.clearText;\n+import static androidx.test.espresso.action.ViewActions.click;\n+import static androidx.test.espresso.action.ViewActions.closeSoftKeyboard;\n+import static androidx.test.espresso.action.ViewActions.scrollTo;\n+import static androidx.test.espresso.action.ViewActions.typeText;\n+import static androidx.test.espresso.assertion.ViewAssertions.matches;\n+import static androidx.test.espresso.matcher.RootMatchers.isDialog;\n+import static androidx.test.espresso.matcher.ViewMatchers.isDescendantOfA;\n+import static androidx.test.espresso.matcher.ViewMatchers.isDisplayed;\n+import static androidx.test.espresso.matcher.ViewMatchers.isRoot;\n+import static androidx.test.espresso.matcher.ViewMatchers.withClassName;\n+import static androidx.test.espresso.matcher.ViewMatchers.withContentDescription;\n+import static androidx.test.espresso.matcher.ViewMatchers.withId;\n+import static androidx.test.espresso.matcher.ViewMatchers.withText;\n+import static de.test.antennapod.EspressoTestUtils.waitForView;\n+import static de.test.antennapod.NthMatcher.first;\n+import static org.hamcrest.CoreMatchers.allOf;\n+import static org.hamcrest.CoreMatchers.endsWith;\n+\n+/**\n+ * User interface tests for queue fragment.\n+ */\n+@RunWith(AndroidJUnit4.class)\n+public class DialogsTest {\n+\n+    @Rule\n+    public IntentsTestRule<MainActivity> activityRule = new IntentsTestRule<>(MainActivity.class, false, false);\n+\n+    @Before\n+    public void setUp() throws InterruptedException {\n+        EspressoTestUtils.clearPreferences();\n+        EspressoTestUtils.clearDatabase();\n+        EspressoTestUtils.setLastNavFragment(AddFeedFragment.TAG);\n+        activityRule.launchActivity(new Intent());\n+\n+        String url = \"https://omny.fm/shows/silence-is-not-an-option/why-not-being-racist-is-not-enough\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY4ODQ1NA==", "bodyText": "I'm gonna have a look in that to update the tests :)", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r446688454", "createdAt": "2020-06-28T19:27:02Z", "author": {"login": "gerardolgvr"}, "path": "app/src/androidTest/java/de/test/antennapod/ui/DialogsTest.java", "diffHunk": "@@ -0,0 +1,98 @@\n+package de.test.antennapod.ui;\n+\n+import android.content.Intent;\n+import android.view.View;\n+import androidx.test.espresso.Espresso;\n+import androidx.test.espresso.contrib.RecyclerViewActions;\n+import androidx.test.espresso.intent.rule.IntentsTestRule;\n+import androidx.test.runner.AndroidJUnit4;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.activity.MainActivity;\n+import de.danoeh.antennapod.fragment.AddFeedFragment;\n+import de.danoeh.antennapod.fragment.DownloadsFragment;\n+import de.danoeh.antennapod.fragment.QueueFragment;\n+import de.danoeh.antennapod.fragment.SubscriptionFragment;\n+import de.test.antennapod.EspressoTestUtils;\n+import org.hamcrest.Matcher;\n+import org.hamcrest.Matchers;\n+import org.junit.Before;\n+import org.junit.Rule;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+import static androidx.test.espresso.Espresso.onView;\n+import static androidx.test.espresso.action.ViewActions.clearText;\n+import static androidx.test.espresso.action.ViewActions.click;\n+import static androidx.test.espresso.action.ViewActions.closeSoftKeyboard;\n+import static androidx.test.espresso.action.ViewActions.scrollTo;\n+import static androidx.test.espresso.action.ViewActions.typeText;\n+import static androidx.test.espresso.assertion.ViewAssertions.matches;\n+import static androidx.test.espresso.matcher.RootMatchers.isDialog;\n+import static androidx.test.espresso.matcher.ViewMatchers.isDescendantOfA;\n+import static androidx.test.espresso.matcher.ViewMatchers.isDisplayed;\n+import static androidx.test.espresso.matcher.ViewMatchers.isRoot;\n+import static androidx.test.espresso.matcher.ViewMatchers.withClassName;\n+import static androidx.test.espresso.matcher.ViewMatchers.withContentDescription;\n+import static androidx.test.espresso.matcher.ViewMatchers.withId;\n+import static androidx.test.espresso.matcher.ViewMatchers.withText;\n+import static de.test.antennapod.EspressoTestUtils.waitForView;\n+import static de.test.antennapod.NthMatcher.first;\n+import static org.hamcrest.CoreMatchers.allOf;\n+import static org.hamcrest.CoreMatchers.endsWith;\n+\n+/**\n+ * User interface tests for queue fragment.\n+ */\n+@RunWith(AndroidJUnit4.class)\n+public class DialogsTest {\n+\n+    @Rule\n+    public IntentsTestRule<MainActivity> activityRule = new IntentsTestRule<>(MainActivity.class, false, false);\n+\n+    @Before\n+    public void setUp() throws InterruptedException {\n+        EspressoTestUtils.clearPreferences();\n+        EspressoTestUtils.clearDatabase();\n+        EspressoTestUtils.setLastNavFragment(AddFeedFragment.TAG);\n+        activityRule.launchActivity(new Intent());\n+\n+        String url = \"https://omny.fm/shows/silence-is-not-an-option/why-not-being-racist-is-not-enough\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5Njk1Ng=="}, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 59}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MjE0MTAzOnYy", "diffSide": "RIGHT", "path": "app/src/androidTest/java/de/test/antennapod/ui/DialogsTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNzozMzozOVrOGp0BTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQyMTo0Mzo1MFrOGqAhIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5NzEwMw==", "bodyText": "Explicit sleep calls are usually not good for tests. It either makes them slow or it makes them fast but fails sometimes. Espresso should theoretically wait for the UI thread automatically.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r446497103", "createdAt": "2020-06-27T07:33:39Z", "author": {"login": "ByteHamster"}, "path": "app/src/androidTest/java/de/test/antennapod/ui/DialogsTest.java", "diffHunk": "@@ -0,0 +1,98 @@\n+package de.test.antennapod.ui;\n+\n+import android.content.Intent;\n+import android.view.View;\n+import androidx.test.espresso.Espresso;\n+import androidx.test.espresso.contrib.RecyclerViewActions;\n+import androidx.test.espresso.intent.rule.IntentsTestRule;\n+import androidx.test.runner.AndroidJUnit4;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.activity.MainActivity;\n+import de.danoeh.antennapod.fragment.AddFeedFragment;\n+import de.danoeh.antennapod.fragment.DownloadsFragment;\n+import de.danoeh.antennapod.fragment.QueueFragment;\n+import de.danoeh.antennapod.fragment.SubscriptionFragment;\n+import de.test.antennapod.EspressoTestUtils;\n+import org.hamcrest.Matcher;\n+import org.hamcrest.Matchers;\n+import org.junit.Before;\n+import org.junit.Rule;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+import static androidx.test.espresso.Espresso.onView;\n+import static androidx.test.espresso.action.ViewActions.clearText;\n+import static androidx.test.espresso.action.ViewActions.click;\n+import static androidx.test.espresso.action.ViewActions.closeSoftKeyboard;\n+import static androidx.test.espresso.action.ViewActions.scrollTo;\n+import static androidx.test.espresso.action.ViewActions.typeText;\n+import static androidx.test.espresso.assertion.ViewAssertions.matches;\n+import static androidx.test.espresso.matcher.RootMatchers.isDialog;\n+import static androidx.test.espresso.matcher.ViewMatchers.isDescendantOfA;\n+import static androidx.test.espresso.matcher.ViewMatchers.isDisplayed;\n+import static androidx.test.espresso.matcher.ViewMatchers.isRoot;\n+import static androidx.test.espresso.matcher.ViewMatchers.withClassName;\n+import static androidx.test.espresso.matcher.ViewMatchers.withContentDescription;\n+import static androidx.test.espresso.matcher.ViewMatchers.withId;\n+import static androidx.test.espresso.matcher.ViewMatchers.withText;\n+import static de.test.antennapod.EspressoTestUtils.waitForView;\n+import static de.test.antennapod.NthMatcher.first;\n+import static org.hamcrest.CoreMatchers.allOf;\n+import static org.hamcrest.CoreMatchers.endsWith;\n+\n+/**\n+ * User interface tests for queue fragment.\n+ */\n+@RunWith(AndroidJUnit4.class)\n+public class DialogsTest {\n+\n+    @Rule\n+    public IntentsTestRule<MainActivity> activityRule = new IntentsTestRule<>(MainActivity.class, false, false);\n+\n+    @Before\n+    public void setUp() throws InterruptedException {\n+        EspressoTestUtils.clearPreferences();\n+        EspressoTestUtils.clearDatabase();\n+        EspressoTestUtils.setLastNavFragment(AddFeedFragment.TAG);\n+        activityRule.launchActivity(new Intent());\n+\n+        String url = \"https://omny.fm/shows/silence-is-not-an-option/why-not-being-racist-is-not-enough\";\n+\n+        onView(withId(R.id.btn_add_via_url)).perform(scrollTo()).perform(click());\n+        onView(withId(R.id.text)).perform(clearText(), typeText(url));\n+        onView(withText(R.string.confirm_label)).inRoot(isDialog())\n+                .check(matches(isDisplayed()))\n+                .perform(closeSoftKeyboard())\n+                .perform(scrollTo())\n+                .perform(click());\n+        Thread.sleep(5000);\n+        onView(withId(R.id.butSubscribe)).perform(click());\n+        Thread.sleep(5000);\n+        onView(withId(R.id.recyclerView))\n+                .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\n+        Thread.sleep(3000);\n+        onView(first(EspressoTestUtils.actionBarOverflow())).perform(click());\n+    }\n+\n+    @Test\n+    public void testShareDialogDisplayed() {\n+        onView(withText(R.string.share_label)).perform(scrollTo()).perform(click());\n+        onView(allOf(isDisplayed(), withText(R.string.share_episode_label)));\n+    }\n+\n+    @Test\n+    public void testShareDialogShareButton() throws InterruptedException {\n+        onView(withText(R.string.share_label)).perform(scrollTo()).perform(click());\n+        onView(allOf(isDisplayed(), withText(R.string.share_label)));\n+        Thread.sleep(1000);\n+        onView(withText(R.string.share_episode_positive_label_button)).perform(scrollTo()).perform(click());\n+        Thread.sleep(2000);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 89}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjcwMTg1OA==", "bodyText": "thanks I updated the tests :)", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r446701858", "createdAt": "2020-06-28T21:43:50Z", "author": {"login": "gerardolgvr"}, "path": "app/src/androidTest/java/de/test/antennapod/ui/DialogsTest.java", "diffHunk": "@@ -0,0 +1,98 @@\n+package de.test.antennapod.ui;\n+\n+import android.content.Intent;\n+import android.view.View;\n+import androidx.test.espresso.Espresso;\n+import androidx.test.espresso.contrib.RecyclerViewActions;\n+import androidx.test.espresso.intent.rule.IntentsTestRule;\n+import androidx.test.runner.AndroidJUnit4;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.activity.MainActivity;\n+import de.danoeh.antennapod.fragment.AddFeedFragment;\n+import de.danoeh.antennapod.fragment.DownloadsFragment;\n+import de.danoeh.antennapod.fragment.QueueFragment;\n+import de.danoeh.antennapod.fragment.SubscriptionFragment;\n+import de.test.antennapod.EspressoTestUtils;\n+import org.hamcrest.Matcher;\n+import org.hamcrest.Matchers;\n+import org.junit.Before;\n+import org.junit.Rule;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+import static androidx.test.espresso.Espresso.onView;\n+import static androidx.test.espresso.action.ViewActions.clearText;\n+import static androidx.test.espresso.action.ViewActions.click;\n+import static androidx.test.espresso.action.ViewActions.closeSoftKeyboard;\n+import static androidx.test.espresso.action.ViewActions.scrollTo;\n+import static androidx.test.espresso.action.ViewActions.typeText;\n+import static androidx.test.espresso.assertion.ViewAssertions.matches;\n+import static androidx.test.espresso.matcher.RootMatchers.isDialog;\n+import static androidx.test.espresso.matcher.ViewMatchers.isDescendantOfA;\n+import static androidx.test.espresso.matcher.ViewMatchers.isDisplayed;\n+import static androidx.test.espresso.matcher.ViewMatchers.isRoot;\n+import static androidx.test.espresso.matcher.ViewMatchers.withClassName;\n+import static androidx.test.espresso.matcher.ViewMatchers.withContentDescription;\n+import static androidx.test.espresso.matcher.ViewMatchers.withId;\n+import static androidx.test.espresso.matcher.ViewMatchers.withText;\n+import static de.test.antennapod.EspressoTestUtils.waitForView;\n+import static de.test.antennapod.NthMatcher.first;\n+import static org.hamcrest.CoreMatchers.allOf;\n+import static org.hamcrest.CoreMatchers.endsWith;\n+\n+/**\n+ * User interface tests for queue fragment.\n+ */\n+@RunWith(AndroidJUnit4.class)\n+public class DialogsTest {\n+\n+    @Rule\n+    public IntentsTestRule<MainActivity> activityRule = new IntentsTestRule<>(MainActivity.class, false, false);\n+\n+    @Before\n+    public void setUp() throws InterruptedException {\n+        EspressoTestUtils.clearPreferences();\n+        EspressoTestUtils.clearDatabase();\n+        EspressoTestUtils.setLastNavFragment(AddFeedFragment.TAG);\n+        activityRule.launchActivity(new Intent());\n+\n+        String url = \"https://omny.fm/shows/silence-is-not-an-option/why-not-being-racist-is-not-enough\";\n+\n+        onView(withId(R.id.btn_add_via_url)).perform(scrollTo()).perform(click());\n+        onView(withId(R.id.text)).perform(clearText(), typeText(url));\n+        onView(withText(R.string.confirm_label)).inRoot(isDialog())\n+                .check(matches(isDisplayed()))\n+                .perform(closeSoftKeyboard())\n+                .perform(scrollTo())\n+                .perform(click());\n+        Thread.sleep(5000);\n+        onView(withId(R.id.butSubscribe)).perform(click());\n+        Thread.sleep(5000);\n+        onView(withId(R.id.recyclerView))\n+                .perform(RecyclerViewActions.actionOnItemAtPosition(0, click()));\n+        Thread.sleep(3000);\n+        onView(first(EspressoTestUtils.actionBarOverflow())).perform(click());\n+    }\n+\n+    @Test\n+    public void testShareDialogDisplayed() {\n+        onView(withText(R.string.share_label)).perform(scrollTo()).perform(click());\n+        onView(allOf(isDisplayed(), withText(R.string.share_episode_label)));\n+    }\n+\n+    @Test\n+    public void testShareDialogShareButton() throws InterruptedException {\n+        onView(withText(R.string.share_label)).perform(scrollTo()).perform(click());\n+        onView(allOf(isDisplayed(), withText(R.string.share_label)));\n+        Thread.sleep(1000);\n+        onView(withText(R.string.share_episode_positive_label_button)).perform(scrollTo()).perform(click());\n+        Thread.sleep(2000);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5NzEwMw=="}, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 89}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MjE0MzI3OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNzozNjo1OVrOGp0CVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxOToyNTo1M1rOGp_sWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5NzM2NA==", "bodyText": "Please use a preference store specifically for the dialog. This reduces the probability of name collisions. ctx.getSharedPreferences (SHARE_DIALOG_PREFS, Context.MODE_PRIVATE)", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r446497364", "createdAt": "2020-06-27T07:36:59Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "diffHunk": "@@ -0,0 +1,121 @@\n+package de.danoeh.antennapod.dialog;\n+\n+import android.app.Dialog;\n+import android.content.Context;\n+import android.content.DialogInterface;\n+import android.content.SharedPreferences;\n+import android.os.Bundle;\n+import android.preference.PreferenceManager;\n+import android.view.View;\n+import android.widget.RadioButton;\n+import android.widget.RadioGroup;\n+import android.widget.Switch;\n+import android.widget.Toast;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.DialogFragment;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.core.feed.FeedItem;\n+import de.danoeh.antennapod.core.preferences.UserPreferences;\n+import de.danoeh.antennapod.core.util.ShareUtils;\n+\n+public class ShareDialog extends DialogFragment {\n+\n+    private static final String TAG = \"ShareDialog\";\n+    private final Context ctx;\n+    private FeedItem item;\n+\n+    private RadioGroup radioGroup;\n+    private RadioButton radioEpisodeWebsite;\n+    private RadioButton radioMediaFile;\n+    private Switch switchStartAt;\n+    private SharedPreferences prefs;\n+\n+    public ShareDialog(Context ctx, FeedItem item) {\n+        this.ctx = ctx;\n+        this.item = item;\n+        prefs = PreferenceManager.getDefaultSharedPreferences(ctx);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY4ODM0NA==", "bodyText": "fixed for the next commit :)", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r446688344", "createdAt": "2020-06-28T19:25:53Z", "author": {"login": "gerardolgvr"}, "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "diffHunk": "@@ -0,0 +1,121 @@\n+package de.danoeh.antennapod.dialog;\n+\n+import android.app.Dialog;\n+import android.content.Context;\n+import android.content.DialogInterface;\n+import android.content.SharedPreferences;\n+import android.os.Bundle;\n+import android.preference.PreferenceManager;\n+import android.view.View;\n+import android.widget.RadioButton;\n+import android.widget.RadioGroup;\n+import android.widget.Switch;\n+import android.widget.Toast;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.DialogFragment;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.core.feed.FeedItem;\n+import de.danoeh.antennapod.core.preferences.UserPreferences;\n+import de.danoeh.antennapod.core.util.ShareUtils;\n+\n+public class ShareDialog extends DialogFragment {\n+\n+    private static final String TAG = \"ShareDialog\";\n+    private final Context ctx;\n+    private FeedItem item;\n+\n+    private RadioGroup radioGroup;\n+    private RadioButton radioEpisodeWebsite;\n+    private RadioButton radioMediaFile;\n+    private Switch switchStartAt;\n+    private SharedPreferences prefs;\n+\n+    public ShareDialog(Context ctx, FeedItem item) {\n+        this.ctx = ctx;\n+        this.item = item;\n+        prefs = PreferenceManager.getDefaultSharedPreferences(ctx);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5NzM2NA=="}, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MjE0MzkwOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNzozNzo0OFrOGp0Cmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxOToyNToyNlrOGp_sKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5NzQzNA==", "bodyText": "Please decouple this from the UserPreferences class (that class is already huge). Just create the constants here -- they are not needed globally.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r446497434", "createdAt": "2020-06-27T07:37:48Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "diffHunk": "@@ -0,0 +1,121 @@\n+package de.danoeh.antennapod.dialog;\n+\n+import android.app.Dialog;\n+import android.content.Context;\n+import android.content.DialogInterface;\n+import android.content.SharedPreferences;\n+import android.os.Bundle;\n+import android.preference.PreferenceManager;\n+import android.view.View;\n+import android.widget.RadioButton;\n+import android.widget.RadioGroup;\n+import android.widget.Switch;\n+import android.widget.Toast;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.DialogFragment;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.core.feed.FeedItem;\n+import de.danoeh.antennapod.core.preferences.UserPreferences;\n+import de.danoeh.antennapod.core.util.ShareUtils;\n+\n+public class ShareDialog extends DialogFragment {\n+\n+    private static final String TAG = \"ShareDialog\";\n+    private final Context ctx;\n+    private FeedItem item;\n+\n+    private RadioGroup radioGroup;\n+    private RadioButton radioEpisodeWebsite;\n+    private RadioButton radioMediaFile;\n+    private Switch switchStartAt;\n+    private SharedPreferences prefs;\n+\n+    public ShareDialog(Context ctx, FeedItem item) {\n+        this.ctx = ctx;\n+        this.item = item;\n+        prefs = PreferenceManager.getDefaultSharedPreferences(ctx);\n+    }\n+\n+    @NonNull\n+    @Override\n+    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n+        View content = View.inflate(ctx, R.layout.share_episode_dialog, null);\n+        AlertDialog.Builder builder = new AlertDialog.Builder(ctx);\n+        builder.setTitle(R.string.share_episode_label);\n+        builder.setView(content);\n+\n+        radioGroup = content.findViewById(R.id.share_dialog_radio_group);\n+        radioEpisodeWebsite = content.findViewById(R.id.share_episode_website_radio);\n+        radioMediaFile = content.findViewById(R.id.share_media_file_radio);\n+        switchStartAt = content.findViewById(R.id.share_start_at_timer_dialog);\n+\n+        setupOptions();\n+\n+        builder\n+                .setPositiveButton(R.string.share_episode_positive_label_button, new DialogInterface.OnClickListener() {\n+                    @Override\n+                    public void onClick(DialogInterface dialog, int id) {\n+                        if (radioEpisodeWebsite.isChecked()) {\n+                            if (switchStartAt.isChecked()) {\n+                                ShareUtils.shareFeedItemLink(ctx, item, true);\n+                                prefs.edit().putBoolean(UserPreferences.PREF_SHARE_EPISODE_START_AT, true).apply();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY4ODI5OA==", "bodyText": "perfect, I have already update this for the next commit. Thanks", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r446688298", "createdAt": "2020-06-28T19:25:26Z", "author": {"login": "gerardolgvr"}, "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "diffHunk": "@@ -0,0 +1,121 @@\n+package de.danoeh.antennapod.dialog;\n+\n+import android.app.Dialog;\n+import android.content.Context;\n+import android.content.DialogInterface;\n+import android.content.SharedPreferences;\n+import android.os.Bundle;\n+import android.preference.PreferenceManager;\n+import android.view.View;\n+import android.widget.RadioButton;\n+import android.widget.RadioGroup;\n+import android.widget.Switch;\n+import android.widget.Toast;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.DialogFragment;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.core.feed.FeedItem;\n+import de.danoeh.antennapod.core.preferences.UserPreferences;\n+import de.danoeh.antennapod.core.util.ShareUtils;\n+\n+public class ShareDialog extends DialogFragment {\n+\n+    private static final String TAG = \"ShareDialog\";\n+    private final Context ctx;\n+    private FeedItem item;\n+\n+    private RadioGroup radioGroup;\n+    private RadioButton radioEpisodeWebsite;\n+    private RadioButton radioMediaFile;\n+    private Switch switchStartAt;\n+    private SharedPreferences prefs;\n+\n+    public ShareDialog(Context ctx, FeedItem item) {\n+        this.ctx = ctx;\n+        this.item = item;\n+        prefs = PreferenceManager.getDefaultSharedPreferences(ctx);\n+    }\n+\n+    @NonNull\n+    @Override\n+    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n+        View content = View.inflate(ctx, R.layout.share_episode_dialog, null);\n+        AlertDialog.Builder builder = new AlertDialog.Builder(ctx);\n+        builder.setTitle(R.string.share_episode_label);\n+        builder.setView(content);\n+\n+        radioGroup = content.findViewById(R.id.share_dialog_radio_group);\n+        radioEpisodeWebsite = content.findViewById(R.id.share_episode_website_radio);\n+        radioMediaFile = content.findViewById(R.id.share_media_file_radio);\n+        switchStartAt = content.findViewById(R.id.share_start_at_timer_dialog);\n+\n+        setupOptions();\n+\n+        builder\n+                .setPositiveButton(R.string.share_episode_positive_label_button, new DialogInterface.OnClickListener() {\n+                    @Override\n+                    public void onClick(DialogInterface dialog, int id) {\n+                        if (radioEpisodeWebsite.isChecked()) {\n+                            if (switchStartAt.isChecked()) {\n+                                ShareUtils.shareFeedItemLink(ctx, item, true);\n+                                prefs.edit().putBoolean(UserPreferences.PREF_SHARE_EPISODE_START_AT, true).apply();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5NzQzNA=="}, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 64}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MjE0NTYwOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNzo0MDo0MFrOGp0DaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxOToyNDo0OVrOGp_r2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5NzY0MA==", "bodyText": "Can you please shorten this? These checks look pretty big and I think they can be simplified, eg. something like this:\nShareUtils.shareFeedItemDownloadLink(ctx, item, switchStartAt.isChecked());\nprefs.edit().putBoolean(UserPreferences.PREF_SHARE_EPISODE_START_AT, switchStartAt.isChecked()).apply();", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r446497640", "createdAt": "2020-06-27T07:40:40Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "diffHunk": "@@ -0,0 +1,121 @@\n+package de.danoeh.antennapod.dialog;\n+\n+import android.app.Dialog;\n+import android.content.Context;\n+import android.content.DialogInterface;\n+import android.content.SharedPreferences;\n+import android.os.Bundle;\n+import android.preference.PreferenceManager;\n+import android.view.View;\n+import android.widget.RadioButton;\n+import android.widget.RadioGroup;\n+import android.widget.Switch;\n+import android.widget.Toast;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.DialogFragment;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.core.feed.FeedItem;\n+import de.danoeh.antennapod.core.preferences.UserPreferences;\n+import de.danoeh.antennapod.core.util.ShareUtils;\n+\n+public class ShareDialog extends DialogFragment {\n+\n+    private static final String TAG = \"ShareDialog\";\n+    private final Context ctx;\n+    private FeedItem item;\n+\n+    private RadioGroup radioGroup;\n+    private RadioButton radioEpisodeWebsite;\n+    private RadioButton radioMediaFile;\n+    private Switch switchStartAt;\n+    private SharedPreferences prefs;\n+\n+    public ShareDialog(Context ctx, FeedItem item) {\n+        this.ctx = ctx;\n+        this.item = item;\n+        prefs = PreferenceManager.getDefaultSharedPreferences(ctx);\n+    }\n+\n+    @NonNull\n+    @Override\n+    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n+        View content = View.inflate(ctx, R.layout.share_episode_dialog, null);\n+        AlertDialog.Builder builder = new AlertDialog.Builder(ctx);\n+        builder.setTitle(R.string.share_episode_label);\n+        builder.setView(content);\n+\n+        radioGroup = content.findViewById(R.id.share_dialog_radio_group);\n+        radioEpisodeWebsite = content.findViewById(R.id.share_episode_website_radio);\n+        radioMediaFile = content.findViewById(R.id.share_media_file_radio);\n+        switchStartAt = content.findViewById(R.id.share_start_at_timer_dialog);\n+\n+        setupOptions();\n+\n+        builder\n+                .setPositiveButton(R.string.share_episode_positive_label_button, new DialogInterface.OnClickListener() {\n+                    @Override\n+                    public void onClick(DialogInterface dialog, int id) {\n+                        if (radioEpisodeWebsite.isChecked()) {\n+                            if (switchStartAt.isChecked()) {\n+                                ShareUtils.shareFeedItemLink(ctx, item, true);\n+                                prefs.edit().putBoolean(UserPreferences.PREF_SHARE_EPISODE_START_AT, true).apply();\n+                            } else {\n+                                ShareUtils.shareFeedItemLink(ctx, item);\n+                                prefs.edit().putBoolean(UserPreferences.PREF_SHARE_EPISODE_START_AT, false).apply();\n+                            }\n+                            prefs.edit().putBoolean(UserPreferences.PREF_SHARE_EPISODE_WEBSITE, true).apply();\n+                            prefs.edit().putBoolean(UserPreferences.PREF_SHARE_EPISODE_MEDIA, false).apply();\n+                        } else {\n+                            if (switchStartAt.isChecked()) {\n+                                ShareUtils.shareFeedItemDownloadLink(ctx, item, true);\n+                                prefs.edit().putBoolean(UserPreferences.PREF_SHARE_EPISODE_START_AT, true).apply();\n+                            } else {\n+                                ShareUtils.shareFeedItemDownloadLink(ctx, item);\n+                                prefs.edit().putBoolean(UserPreferences.PREF_SHARE_EPISODE_START_AT, false).apply();\n+                            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 78}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY4ODIxNw==", "bodyText": "sure, I have already update this for the next commit. Thanks for this observation", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r446688217", "createdAt": "2020-06-28T19:24:49Z", "author": {"login": "gerardolgvr"}, "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "diffHunk": "@@ -0,0 +1,121 @@\n+package de.danoeh.antennapod.dialog;\n+\n+import android.app.Dialog;\n+import android.content.Context;\n+import android.content.DialogInterface;\n+import android.content.SharedPreferences;\n+import android.os.Bundle;\n+import android.preference.PreferenceManager;\n+import android.view.View;\n+import android.widget.RadioButton;\n+import android.widget.RadioGroup;\n+import android.widget.Switch;\n+import android.widget.Toast;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.DialogFragment;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.core.feed.FeedItem;\n+import de.danoeh.antennapod.core.preferences.UserPreferences;\n+import de.danoeh.antennapod.core.util.ShareUtils;\n+\n+public class ShareDialog extends DialogFragment {\n+\n+    private static final String TAG = \"ShareDialog\";\n+    private final Context ctx;\n+    private FeedItem item;\n+\n+    private RadioGroup radioGroup;\n+    private RadioButton radioEpisodeWebsite;\n+    private RadioButton radioMediaFile;\n+    private Switch switchStartAt;\n+    private SharedPreferences prefs;\n+\n+    public ShareDialog(Context ctx, FeedItem item) {\n+        this.ctx = ctx;\n+        this.item = item;\n+        prefs = PreferenceManager.getDefaultSharedPreferences(ctx);\n+    }\n+\n+    @NonNull\n+    @Override\n+    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n+        View content = View.inflate(ctx, R.layout.share_episode_dialog, null);\n+        AlertDialog.Builder builder = new AlertDialog.Builder(ctx);\n+        builder.setTitle(R.string.share_episode_label);\n+        builder.setView(content);\n+\n+        radioGroup = content.findViewById(R.id.share_dialog_radio_group);\n+        radioEpisodeWebsite = content.findViewById(R.id.share_episode_website_radio);\n+        radioMediaFile = content.findViewById(R.id.share_media_file_radio);\n+        switchStartAt = content.findViewById(R.id.share_start_at_timer_dialog);\n+\n+        setupOptions();\n+\n+        builder\n+                .setPositiveButton(R.string.share_episode_positive_label_button, new DialogInterface.OnClickListener() {\n+                    @Override\n+                    public void onClick(DialogInterface dialog, int id) {\n+                        if (radioEpisodeWebsite.isChecked()) {\n+                            if (switchStartAt.isChecked()) {\n+                                ShareUtils.shareFeedItemLink(ctx, item, true);\n+                                prefs.edit().putBoolean(UserPreferences.PREF_SHARE_EPISODE_START_AT, true).apply();\n+                            } else {\n+                                ShareUtils.shareFeedItemLink(ctx, item);\n+                                prefs.edit().putBoolean(UserPreferences.PREF_SHARE_EPISODE_START_AT, false).apply();\n+                            }\n+                            prefs.edit().putBoolean(UserPreferences.PREF_SHARE_EPISODE_WEBSITE, true).apply();\n+                            prefs.edit().putBoolean(UserPreferences.PREF_SHARE_EPISODE_MEDIA, false).apply();\n+                        } else {\n+                            if (switchStartAt.isChecked()) {\n+                                ShareUtils.shareFeedItemDownloadLink(ctx, item, true);\n+                                prefs.edit().putBoolean(UserPreferences.PREF_SHARE_EPISODE_START_AT, true).apply();\n+                            } else {\n+                                ShareUtils.shareFeedItemDownloadLink(ctx, item);\n+                                prefs.edit().putBoolean(UserPreferences.PREF_SHARE_EPISODE_START_AT, false).apply();\n+                            }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5NzY0MA=="}, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 78}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MjE0Njc0OnYy", "diffSide": "RIGHT", "path": "core/src/main/res/values/strings.xml", "isResolved": true, "comments": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNzo0MjoxNlrOGp0D8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwMzo0ODo0MlrOGrV0Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5Nzc3Ng==", "bodyText": "What about Playback position?", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r446497776", "createdAt": "2020-06-27T07:42:16Z", "author": {"login": "ByteHamster"}, "path": "core/src/main/res/values/strings.xml", "diffHunk": "@@ -765,6 +765,14 @@\n     <string name=\"rating_later_label\">Remind me later</string>\n     <string name=\"rating_now_label\">Sure, let\\'s do this!</string>\n \n+    <!-- Share episode dialog -->\n+    <string name=\"share_episode_label\">Share\u2026</string>\n+    <string name=\"share_episode_positive_label_button\">Share</string>\n+    <string name=\"share_dialog_include_label\">Include:</string>\n+    <string name=\"share_start_at_timer_dialog_label\">Start at (timer)</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY4ODE0Nw==", "bodyText": "are you refering to rename \"share_start_at_timer_dialog_label\"  for \"share_playback_position_dialog_label\"?\nSorry , I don't catch this comment. Can you explain a little more please :)", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r446688147", "createdAt": "2020-06-28T19:24:04Z", "author": {"login": "gerardolgvr"}, "path": "core/src/main/res/values/strings.xml", "diffHunk": "@@ -765,6 +765,14 @@\n     <string name=\"rating_later_label\">Remind me later</string>\n     <string name=\"rating_now_label\">Sure, let\\'s do this!</string>\n \n+    <!-- Share episode dialog -->\n+    <string name=\"share_episode_label\">Share\u2026</string>\n+    <string name=\"share_episode_positive_label_button\">Share</string>\n+    <string name=\"share_dialog_include_label\">Include:</string>\n+    <string name=\"share_start_at_timer_dialog_label\">Start at (timer)</string>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5Nzc3Ng=="}, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY5MDQ4NA==", "bodyText": "Sorry, my comments are getting shorter and shorter in the past few weeks. That has lead to some issues with another PR already. I'm pretty busy and try to squeeze in some AntennaPod work.\nI meant the text of the string that is shown to the user. I think that \"Playback position\" might be easier to understand than \"Start at (timer)\". Not completely sure, though. I think the word \"timer\" is only used for the sleep timer currently. How does YouTube name that? I think they also use something like \"Include position\" or \"Include timestamp\"", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r446690484", "createdAt": "2020-06-28T19:48:20Z", "author": {"login": "ByteHamster"}, "path": "core/src/main/res/values/strings.xml", "diffHunk": "@@ -765,6 +765,14 @@\n     <string name=\"rating_later_label\">Remind me later</string>\n     <string name=\"rating_now_label\">Sure, let\\'s do this!</string>\n \n+    <!-- Share episode dialog -->\n+    <string name=\"share_episode_label\">Share\u2026</string>\n+    <string name=\"share_episode_positive_label_button\">Share</string>\n+    <string name=\"share_dialog_include_label\">Include:</string>\n+    <string name=\"share_start_at_timer_dialog_label\">Start at (timer)</string>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5Nzc3Ng=="}, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY5NDgyOQ==", "bodyText": "Thanks, don't worry.\nYouTube just called it \"Start at\" (without 'timer' word) if you prefer I can delete the word 'timer' or just use \"Playback position\". I like the last one , I agree, it is pretty easy to understand too", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r446694829", "createdAt": "2020-06-28T20:31:39Z", "author": {"login": "gerardolgvr"}, "path": "core/src/main/res/values/strings.xml", "diffHunk": "@@ -765,6 +765,14 @@\n     <string name=\"rating_later_label\">Remind me later</string>\n     <string name=\"rating_now_label\">Sure, let\\'s do this!</string>\n \n+    <!-- Share episode dialog -->\n+    <string name=\"share_episode_label\">Share\u2026</string>\n+    <string name=\"share_episode_positive_label_button\">Share</string>\n+    <string name=\"share_dialog_include_label\">Include:</string>\n+    <string name=\"share_start_at_timer_dialog_label\">Start at (timer)</string>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5Nzc3Ng=="}, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzg4ODMwMA==", "bodyText": "Good point mentioning YouTube. I think we are in a bit different situation here, though. Just including the position with AntennaPod does not automatically mean that the episode is actually played from that position. I have a feeling that it is probably not done in most cases. So \"Playback position\" could be the better choice, here, I think.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r447888300", "createdAt": "2020-06-30T18:18:33Z", "author": {"login": "ByteHamster"}, "path": "core/src/main/res/values/strings.xml", "diffHunk": "@@ -765,6 +765,14 @@\n     <string name=\"rating_later_label\">Remind me later</string>\n     <string name=\"rating_now_label\">Sure, let\\'s do this!</string>\n \n+    <!-- Share episode dialog -->\n+    <string name=\"share_episode_label\">Share\u2026</string>\n+    <string name=\"share_episode_positive_label_button\">Share</string>\n+    <string name=\"share_dialog_include_label\">Include:</string>\n+    <string name=\"share_start_at_timer_dialog_label\">Start at (timer)</string>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5Nzc3Ng=="}, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk3Njk0OQ==", "bodyText": "You mentioned YouTube first, @ByteHamster ;)\nI'd put my vote to 'Playback position'", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r447976949", "createdAt": "2020-06-30T21:02:22Z", "author": {"login": "keunes"}, "path": "core/src/main/res/values/strings.xml", "diffHunk": "@@ -765,6 +765,14 @@\n     <string name=\"rating_later_label\">Remind me later</string>\n     <string name=\"rating_now_label\">Sure, let\\'s do this!</string>\n \n+    <!-- Share episode dialog -->\n+    <string name=\"share_episode_label\">Share\u2026</string>\n+    <string name=\"share_episode_positive_label_button\">Share</string>\n+    <string name=\"share_dialog_include_label\">Include:</string>\n+    <string name=\"share_start_at_timer_dialog_label\">Start at (timer)</string>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5Nzc3Ng=="}, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Nzk4NDc3Mg==", "bodyText": "You mentioned YouTube first, @ByteHamster ;)\n\nOops \ud83d\ude04 I currently have a few other things in mind and somehow completely forgot that...", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r447984772", "createdAt": "2020-06-30T21:17:50Z", "author": {"login": "ByteHamster"}, "path": "core/src/main/res/values/strings.xml", "diffHunk": "@@ -765,6 +765,14 @@\n     <string name=\"rating_later_label\">Remind me later</string>\n     <string name=\"rating_now_label\">Sure, let\\'s do this!</string>\n \n+    <!-- Share episode dialog -->\n+    <string name=\"share_episode_label\">Share\u2026</string>\n+    <string name=\"share_episode_positive_label_button\">Share</string>\n+    <string name=\"share_dialog_include_label\">Include:</string>\n+    <string name=\"share_start_at_timer_dialog_label\">Start at (timer)</string>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5Nzc3Ng=="}, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODA5OTM3OA==", "bodyText": "no problem. I like \"Playback position\". I have added it :)", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r448099378", "createdAt": "2020-07-01T03:48:42Z", "author": {"login": "gerardolgvr"}, "path": "core/src/main/res/values/strings.xml", "diffHunk": "@@ -765,6 +765,14 @@\n     <string name=\"rating_later_label\">Remind me later</string>\n     <string name=\"rating_now_label\">Sure, let\\'s do this!</string>\n \n+    <!-- Share episode dialog -->\n+    <string name=\"share_episode_label\">Share\u2026</string>\n+    <string name=\"share_episode_positive_label_button\">Share</string>\n+    <string name=\"share_dialog_include_label\">Include:</string>\n+    <string name=\"share_start_at_timer_dialog_label\">Start at (timer)</string>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5Nzc3Ng=="}, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MjE0NzQ1OnYy", "diffSide": "RIGHT", "path": "core/src/main/res/values/strings.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNzo0MzozNFrOGp0ESQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQyMjoxMjo1N1rOGqAsDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5Nzg2NQ==", "bodyText": "Is there a string that already contains this text? If so, please use the old one instead. This reduces inconsistency when translators translate them differently.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r446497865", "createdAt": "2020-06-27T07:43:34Z", "author": {"login": "ByteHamster"}, "path": "core/src/main/res/values/strings.xml", "diffHunk": "@@ -765,6 +765,14 @@\n     <string name=\"rating_later_label\">Remind me later</string>\n     <string name=\"rating_now_label\">Sure, let\\'s do this!</string>\n \n+    <!-- Share episode dialog -->\n+    <string name=\"share_episode_label\">Share\u2026</string>\n+    <string name=\"share_episode_positive_label_button\">Share</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjcwNDY1NQ==", "bodyText": "Yes, there was a \"Share...\" string. I updated and I deleted the extra I created before", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r446704655", "createdAt": "2020-06-28T22:12:57Z", "author": {"login": "gerardolgvr"}, "path": "core/src/main/res/values/strings.xml", "diffHunk": "@@ -765,6 +765,14 @@\n     <string name=\"rating_later_label\">Remind me later</string>\n     <string name=\"rating_now_label\">Sure, let\\'s do this!</string>\n \n+    <!-- Share episode dialog -->\n+    <string name=\"share_episode_label\">Share\u2026</string>\n+    <string name=\"share_episode_positive_label_button\">Share</string>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5Nzg2NQ=="}, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MjE0OTE5OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/de/danoeh/antennapod/menuhandler/FeedItemMenuHandler.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNzo0NjowNVrOGp0FEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOFQxOToxODoyN1rOGp_pfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5ODA2NQ==", "bodyText": "Please change the type of context instead of casting (fragment.getActivity()?). I fear that this could lead to runtime crashes otherwise.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r446498065", "createdAt": "2020-06-27T07:46:05Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/menuhandler/FeedItemMenuHandler.java", "diffHunk": "@@ -243,20 +235,9 @@ public static boolean onMenuItemClicked(@NonNull Fragment fragment, int menuItem\n             case R.id.visit_website_item:\n                 IntentUtils.openInBrowser(context, FeedItemUtil.getLinkWithFallback(selectedItem));\n                 break;\n-            case R.id.share_link_item:\n-                ShareUtils.shareFeedItemLink(context, selectedItem);\n-                break;\n-            case R.id.share_download_url_item:\n-                ShareUtils.shareFeedItemDownloadLink(context, selectedItem);\n-                break;\n-            case R.id.share_link_with_position_item:\n-                ShareUtils.shareFeedItemLink(context, selectedItem, true);\n-                break;\n-            case R.id.share_download_url_with_position_item:\n-                ShareUtils.shareFeedItemDownloadLink(context, selectedItem, true);\n-                break;\n-            case R.id.share_file:\n-                ShareUtils.shareFeedItemFile(context, selectedItem.getMedia());\n+            case R.id.share_item:\n+                new ShareDialog(context, selectedItem)\n+                        .show(((AppCompatActivity) context).getSupportFragmentManager(), \"ShareEpisodeDialog\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjY4NzYxNQ==", "bodyText": "thanks, I'm gonna update it. For the next commit", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r446687615", "createdAt": "2020-06-28T19:18:27Z", "author": {"login": "gerardolgvr"}, "path": "app/src/main/java/de/danoeh/antennapod/menuhandler/FeedItemMenuHandler.java", "diffHunk": "@@ -243,20 +235,9 @@ public static boolean onMenuItemClicked(@NonNull Fragment fragment, int menuItem\n             case R.id.visit_website_item:\n                 IntentUtils.openInBrowser(context, FeedItemUtil.getLinkWithFallback(selectedItem));\n                 break;\n-            case R.id.share_link_item:\n-                ShareUtils.shareFeedItemLink(context, selectedItem);\n-                break;\n-            case R.id.share_download_url_item:\n-                ShareUtils.shareFeedItemDownloadLink(context, selectedItem);\n-                break;\n-            case R.id.share_link_with_position_item:\n-                ShareUtils.shareFeedItemLink(context, selectedItem, true);\n-                break;\n-            case R.id.share_download_url_with_position_item:\n-                ShareUtils.shareFeedItemDownloadLink(context, selectedItem, true);\n-                break;\n-            case R.id.share_file:\n-                ShareUtils.shareFeedItemFile(context, selectedItem.getMedia());\n+            case R.id.share_item:\n+                new ShareDialog(context, selectedItem)\n+                        .show(((AppCompatActivity) context).getSupportFragmentManager(), \"ShareEpisodeDialog\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ5ODA2NQ=="}, "originalCommit": {"oid": "5363b09f0067a61db5451b4c794c9a3ab919ece6"}, "originalPosition": 68}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwODUyOTk5OnYy", "diffSide": "RIGHT", "path": "app/src/androidTest/java/de/test/antennapod/dialogs/ShareDialogTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMTowMTo1OFrOGtnABg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQwMDoyMDo1M1rOGvl-Wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ3ODA4Ng==", "bodyText": "The comment is wrong :)", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r450478086", "createdAt": "2020-07-06T21:01:58Z", "author": {"login": "ByteHamster"}, "path": "app/src/androidTest/java/de/test/antennapod/dialogs/ShareDialogTest.java", "diffHunk": "@@ -0,0 +1,94 @@\n+package de.test.antennapod.dialogs;\n+\n+import android.content.Context;\n+import android.content.Intent;\n+import android.view.View;\n+\n+import org.hamcrest.Description;\n+import org.hamcrest.Matcher;\n+import org.hamcrest.Matchers;\n+import org.hamcrest.TypeSafeMatcher;\n+import org.junit.Before;\n+import org.junit.Rule;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+import java.util.List;\n+\n+import androidx.test.espresso.intent.rule.IntentsTestRule;\n+import androidx.test.platform.app.InstrumentationRegistry;\n+import androidx.test.runner.AndroidJUnit4;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.activity.MainActivity;\n+import de.danoeh.antennapod.core.feed.FeedItem;\n+import de.danoeh.antennapod.core.storage.DBReader;\n+import de.danoeh.antennapod.fragment.EpisodesFragment;\n+import de.test.antennapod.EspressoTestUtils;\n+import de.test.antennapod.ui.UITestUtils;\n+\n+import static androidx.test.espresso.Espresso.onView;\n+import static androidx.test.espresso.action.ViewActions.click;\n+import static androidx.test.espresso.action.ViewActions.scrollTo;\n+import static androidx.test.espresso.assertion.ViewAssertions.matches;\n+import static androidx.test.espresso.contrib.RecyclerViewActions.actionOnItemAtPosition;\n+import static androidx.test.espresso.matcher.ViewMatchers.hasMinimumChildCount;\n+import static androidx.test.espresso.matcher.ViewMatchers.isDisplayed;\n+import static androidx.test.espresso.matcher.ViewMatchers.isRoot;\n+import static androidx.test.espresso.matcher.ViewMatchers.withId;\n+import static androidx.test.espresso.matcher.ViewMatchers.withText;\n+import static de.test.antennapod.EspressoTestUtils.onDrawerItem;\n+import static de.test.antennapod.EspressoTestUtils.openNavDrawer;\n+import static de.test.antennapod.EspressoTestUtils.waitForView;\n+import static de.test.antennapod.NthMatcher.first;\n+import static org.hamcrest.CoreMatchers.allOf;\n+\n+/**\n+ * User interface tests for queue fragment.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cb17304e719789655ab252cc45b251561773214"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjU1ODQyNg==", "bodyText": "fixed :) , thanks for the observation", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r452558426", "createdAt": "2020-07-10T00:20:53Z", "author": {"login": "gerardolgvr"}, "path": "app/src/androidTest/java/de/test/antennapod/dialogs/ShareDialogTest.java", "diffHunk": "@@ -0,0 +1,94 @@\n+package de.test.antennapod.dialogs;\n+\n+import android.content.Context;\n+import android.content.Intent;\n+import android.view.View;\n+\n+import org.hamcrest.Description;\n+import org.hamcrest.Matcher;\n+import org.hamcrest.Matchers;\n+import org.hamcrest.TypeSafeMatcher;\n+import org.junit.Before;\n+import org.junit.Rule;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+import java.util.List;\n+\n+import androidx.test.espresso.intent.rule.IntentsTestRule;\n+import androidx.test.platform.app.InstrumentationRegistry;\n+import androidx.test.runner.AndroidJUnit4;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.activity.MainActivity;\n+import de.danoeh.antennapod.core.feed.FeedItem;\n+import de.danoeh.antennapod.core.storage.DBReader;\n+import de.danoeh.antennapod.fragment.EpisodesFragment;\n+import de.test.antennapod.EspressoTestUtils;\n+import de.test.antennapod.ui.UITestUtils;\n+\n+import static androidx.test.espresso.Espresso.onView;\n+import static androidx.test.espresso.action.ViewActions.click;\n+import static androidx.test.espresso.action.ViewActions.scrollTo;\n+import static androidx.test.espresso.assertion.ViewAssertions.matches;\n+import static androidx.test.espresso.contrib.RecyclerViewActions.actionOnItemAtPosition;\n+import static androidx.test.espresso.matcher.ViewMatchers.hasMinimumChildCount;\n+import static androidx.test.espresso.matcher.ViewMatchers.isDisplayed;\n+import static androidx.test.espresso.matcher.ViewMatchers.isRoot;\n+import static androidx.test.espresso.matcher.ViewMatchers.withId;\n+import static androidx.test.espresso.matcher.ViewMatchers.withText;\n+import static de.test.antennapod.EspressoTestUtils.onDrawerItem;\n+import static de.test.antennapod.EspressoTestUtils.openNavDrawer;\n+import static de.test.antennapod.EspressoTestUtils.waitForView;\n+import static de.test.antennapod.NthMatcher.first;\n+import static org.hamcrest.CoreMatchers.allOf;\n+\n+/**\n+ * User interface tests for queue fragment.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ3ODA4Ng=="}, "originalCommit": {"oid": "0cb17304e719789655ab252cc45b251561773214"}, "originalPosition": 46}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwODU0MTU5OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMTowNTo1OVrOGtnHDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQwNDo1MTo1OFrOGvpyEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ3OTg4Ng==", "bodyText": "Instead of passing parameters, please use arguments (see https://stackoverflow.com/a/15459259/4193263). This prevents issues when the system recreates the fragment (after the app was in background, for example). We use the newInstance pattern in other parts of the app, too, so this would also be consistent.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r450479886", "createdAt": "2020-07-06T21:05:59Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "diffHunk": "@@ -0,0 +1,117 @@\n+package de.danoeh.antennapod.dialog;\n+\n+import android.app.Dialog;\n+import android.content.Context;\n+import android.content.DialogInterface;\n+import android.content.SharedPreferences;\n+import android.os.Bundle;\n+import android.preference.PreferenceManager;\n+import android.view.View;\n+import android.widget.RadioButton;\n+import android.widget.RadioGroup;\n+import android.widget.Switch;\n+import android.widget.Toast;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.DialogFragment;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.core.feed.FeedItem;\n+import de.danoeh.antennapod.core.preferences.UserPreferences;\n+import de.danoeh.antennapod.core.util.ShareUtils;\n+\n+public class ShareDialog extends DialogFragment {\n+\n+    private static final String TAG = \"ShareDialog\";\n+    private final Context ctx;\n+    private FeedItem item;\n+\n+    private static final String PREF_SHARE_EPISODE_WEBSITE = \"prefShareEpisodeWebsite\";\n+    private static final String PREF_SHARE_EPISODE_MEDIA = \"prefShareEpisodeMedia\";\n+    private static final String PREF_SHARE_EPISODE_START_AT = \"prefShareEpisodeStartAt\";\n+\n+    private RadioGroup radioGroup;\n+    private RadioButton radioEpisodeWebsite;\n+    private RadioButton radioMediaFile;\n+    private Switch switchStartAt;\n+    private SharedPreferences prefs;\n+\n+    public ShareDialog(Context ctx, FeedItem item) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cb17304e719789655ab252cc45b251561773214"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjYyMDgxOQ==", "bodyText": "thanks, updated it.\nI didn't notice this. I was using SleepTimerDialog as example. I have updated it", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r452620819", "createdAt": "2020-07-10T04:51:58Z", "author": {"login": "gerardolgvr"}, "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "diffHunk": "@@ -0,0 +1,117 @@\n+package de.danoeh.antennapod.dialog;\n+\n+import android.app.Dialog;\n+import android.content.Context;\n+import android.content.DialogInterface;\n+import android.content.SharedPreferences;\n+import android.os.Bundle;\n+import android.preference.PreferenceManager;\n+import android.view.View;\n+import android.widget.RadioButton;\n+import android.widget.RadioGroup;\n+import android.widget.Switch;\n+import android.widget.Toast;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.DialogFragment;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.core.feed.FeedItem;\n+import de.danoeh.antennapod.core.preferences.UserPreferences;\n+import de.danoeh.antennapod.core.util.ShareUtils;\n+\n+public class ShareDialog extends DialogFragment {\n+\n+    private static final String TAG = \"ShareDialog\";\n+    private final Context ctx;\n+    private FeedItem item;\n+\n+    private static final String PREF_SHARE_EPISODE_WEBSITE = \"prefShareEpisodeWebsite\";\n+    private static final String PREF_SHARE_EPISODE_MEDIA = \"prefShareEpisodeMedia\";\n+    private static final String PREF_SHARE_EPISODE_START_AT = \"prefShareEpisodeStartAt\";\n+\n+    private RadioGroup radioGroup;\n+    private RadioButton radioEpisodeWebsite;\n+    private RadioButton radioMediaFile;\n+    private Switch switchStartAt;\n+    private SharedPreferences prefs;\n+\n+    public ShareDialog(Context ctx, FeedItem item) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ3OTg4Ng=="}, "originalCommit": {"oid": "0cb17304e719789655ab252cc45b251561773214"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwODU1MTY0OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMTowOTo1MVrOGtnNow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQwNDowMDoxN1rOGvpH5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ4MTU3MQ==", "bodyText": "Please use ShareDialog for the name. This is more consistent with the other preference files.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r450481571", "createdAt": "2020-07-06T21:09:51Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "diffHunk": "@@ -0,0 +1,117 @@\n+package de.danoeh.antennapod.dialog;\n+\n+import android.app.Dialog;\n+import android.content.Context;\n+import android.content.DialogInterface;\n+import android.content.SharedPreferences;\n+import android.os.Bundle;\n+import android.preference.PreferenceManager;\n+import android.view.View;\n+import android.widget.RadioButton;\n+import android.widget.RadioGroup;\n+import android.widget.Switch;\n+import android.widget.Toast;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.DialogFragment;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.core.feed.FeedItem;\n+import de.danoeh.antennapod.core.preferences.UserPreferences;\n+import de.danoeh.antennapod.core.util.ShareUtils;\n+\n+public class ShareDialog extends DialogFragment {\n+\n+    private static final String TAG = \"ShareDialog\";\n+    private final Context ctx;\n+    private FeedItem item;\n+\n+    private static final String PREF_SHARE_EPISODE_WEBSITE = \"prefShareEpisodeWebsite\";\n+    private static final String PREF_SHARE_EPISODE_MEDIA = \"prefShareEpisodeMedia\";\n+    private static final String PREF_SHARE_EPISODE_START_AT = \"prefShareEpisodeStartAt\";\n+\n+    private RadioGroup radioGroup;\n+    private RadioButton radioEpisodeWebsite;\n+    private RadioButton radioMediaFile;\n+    private Switch switchStartAt;\n+    private SharedPreferences prefs;\n+\n+    public ShareDialog(Context ctx, FeedItem item) {\n+        this.ctx = ctx;\n+        this.item = item;\n+        prefs = ctx.getSharedPreferences(\"SHARE_DIALOG_PREFS\", Context.MODE_PRIVATE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cb17304e719789655ab252cc45b251561773214"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjYxMDAyMw==", "bodyText": "added :)", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r452610023", "createdAt": "2020-07-10T04:00:17Z", "author": {"login": "gerardolgvr"}, "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "diffHunk": "@@ -0,0 +1,117 @@\n+package de.danoeh.antennapod.dialog;\n+\n+import android.app.Dialog;\n+import android.content.Context;\n+import android.content.DialogInterface;\n+import android.content.SharedPreferences;\n+import android.os.Bundle;\n+import android.preference.PreferenceManager;\n+import android.view.View;\n+import android.widget.RadioButton;\n+import android.widget.RadioGroup;\n+import android.widget.Switch;\n+import android.widget.Toast;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.DialogFragment;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.core.feed.FeedItem;\n+import de.danoeh.antennapod.core.preferences.UserPreferences;\n+import de.danoeh.antennapod.core.util.ShareUtils;\n+\n+public class ShareDialog extends DialogFragment {\n+\n+    private static final String TAG = \"ShareDialog\";\n+    private final Context ctx;\n+    private FeedItem item;\n+\n+    private static final String PREF_SHARE_EPISODE_WEBSITE = \"prefShareEpisodeWebsite\";\n+    private static final String PREF_SHARE_EPISODE_MEDIA = \"prefShareEpisodeMedia\";\n+    private static final String PREF_SHARE_EPISODE_START_AT = \"prefShareEpisodeStartAt\";\n+\n+    private RadioGroup radioGroup;\n+    private RadioButton radioEpisodeWebsite;\n+    private RadioButton radioMediaFile;\n+    private Switch switchStartAt;\n+    private SharedPreferences prefs;\n+\n+    public ShareDialog(Context ctx, FeedItem item) {\n+        this.ctx = ctx;\n+        this.item = item;\n+        prefs = ctx.getSharedPreferences(\"SHARE_DIALOG_PREFS\", Context.MODE_PRIVATE);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ4MTU3MQ=="}, "originalCommit": {"oid": "0cb17304e719789655ab252cc45b251561773214"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwODU1ODgyOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMToxMjoyM1rOGtnSFQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQwNDo1NzoyM1rOGvp2wA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ4MjcwOQ==", "bodyText": "Could you please remove the newline between builder and setPositiveButton and move the indentation of the listener to the left? I think checkstyle should be happy then, too, and it uses less horizontal space.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r450482709", "createdAt": "2020-07-06T21:12:23Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "diffHunk": "@@ -0,0 +1,117 @@\n+package de.danoeh.antennapod.dialog;\n+\n+import android.app.Dialog;\n+import android.content.Context;\n+import android.content.DialogInterface;\n+import android.content.SharedPreferences;\n+import android.os.Bundle;\n+import android.preference.PreferenceManager;\n+import android.view.View;\n+import android.widget.RadioButton;\n+import android.widget.RadioGroup;\n+import android.widget.Switch;\n+import android.widget.Toast;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.DialogFragment;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.core.feed.FeedItem;\n+import de.danoeh.antennapod.core.preferences.UserPreferences;\n+import de.danoeh.antennapod.core.util.ShareUtils;\n+\n+public class ShareDialog extends DialogFragment {\n+\n+    private static final String TAG = \"ShareDialog\";\n+    private final Context ctx;\n+    private FeedItem item;\n+\n+    private static final String PREF_SHARE_EPISODE_WEBSITE = \"prefShareEpisodeWebsite\";\n+    private static final String PREF_SHARE_EPISODE_MEDIA = \"prefShareEpisodeMedia\";\n+    private static final String PREF_SHARE_EPISODE_START_AT = \"prefShareEpisodeStartAt\";\n+\n+    private RadioGroup radioGroup;\n+    private RadioButton radioEpisodeWebsite;\n+    private RadioButton radioMediaFile;\n+    private Switch switchStartAt;\n+    private SharedPreferences prefs;\n+\n+    public ShareDialog(Context ctx, FeedItem item) {\n+        this.ctx = ctx;\n+        this.item = item;\n+        prefs = ctx.getSharedPreferences(\"SHARE_DIALOG_PREFS\", Context.MODE_PRIVATE);\n+    }\n+\n+    @NonNull\n+    @Override\n+    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n+        View content = View.inflate(ctx, R.layout.share_episode_dialog, null);\n+        AlertDialog.Builder builder = new AlertDialog.Builder(ctx);\n+        builder.setTitle(R.string.share_label);\n+        builder.setView(content);\n+\n+        radioGroup = content.findViewById(R.id.share_dialog_radio_group);\n+        radioEpisodeWebsite = content.findViewById(R.id.share_episode_website_radio);\n+        radioMediaFile = content.findViewById(R.id.share_media_file_radio);\n+        switchStartAt = content.findViewById(R.id.share_start_at_timer_dialog);\n+\n+        setupOptions();\n+\n+        builder\n+                .setPositiveButton(R.string.share_label, new DialogInterface.OnClickListener() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cb17304e719789655ab252cc45b251561773214"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjYyMjAxNg==", "bodyText": "yup, at the beginning I moved to a new line because I was worried about the length but I checked at the length of the line is 96, then I updated it . :)", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r452622016", "createdAt": "2020-07-10T04:57:23Z", "author": {"login": "gerardolgvr"}, "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "diffHunk": "@@ -0,0 +1,117 @@\n+package de.danoeh.antennapod.dialog;\n+\n+import android.app.Dialog;\n+import android.content.Context;\n+import android.content.DialogInterface;\n+import android.content.SharedPreferences;\n+import android.os.Bundle;\n+import android.preference.PreferenceManager;\n+import android.view.View;\n+import android.widget.RadioButton;\n+import android.widget.RadioGroup;\n+import android.widget.Switch;\n+import android.widget.Toast;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.DialogFragment;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.core.feed.FeedItem;\n+import de.danoeh.antennapod.core.preferences.UserPreferences;\n+import de.danoeh.antennapod.core.util.ShareUtils;\n+\n+public class ShareDialog extends DialogFragment {\n+\n+    private static final String TAG = \"ShareDialog\";\n+    private final Context ctx;\n+    private FeedItem item;\n+\n+    private static final String PREF_SHARE_EPISODE_WEBSITE = \"prefShareEpisodeWebsite\";\n+    private static final String PREF_SHARE_EPISODE_MEDIA = \"prefShareEpisodeMedia\";\n+    private static final String PREF_SHARE_EPISODE_START_AT = \"prefShareEpisodeStartAt\";\n+\n+    private RadioGroup radioGroup;\n+    private RadioButton radioEpisodeWebsite;\n+    private RadioButton radioMediaFile;\n+    private Switch switchStartAt;\n+    private SharedPreferences prefs;\n+\n+    public ShareDialog(Context ctx, FeedItem item) {\n+        this.ctx = ctx;\n+        this.item = item;\n+        prefs = ctx.getSharedPreferences(\"SHARE_DIALOG_PREFS\", Context.MODE_PRIVATE);\n+    }\n+\n+    @NonNull\n+    @Override\n+    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n+        View content = View.inflate(ctx, R.layout.share_episode_dialog, null);\n+        AlertDialog.Builder builder = new AlertDialog.Builder(ctx);\n+        builder.setTitle(R.string.share_label);\n+        builder.setView(content);\n+\n+        radioGroup = content.findViewById(R.id.share_dialog_radio_group);\n+        radioEpisodeWebsite = content.findViewById(R.id.share_episode_website_radio);\n+        radioMediaFile = content.findViewById(R.id.share_media_file_radio);\n+        switchStartAt = content.findViewById(R.id.share_start_at_timer_dialog);\n+\n+        setupOptions();\n+\n+        builder\n+                .setPositiveButton(R.string.share_label, new DialogInterface.OnClickListener() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ4MjcwOQ=="}, "originalCommit": {"oid": "0cb17304e719789655ab252cc45b251561773214"}, "originalPosition": 62}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwODU2MTg0OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMToxMzo0MlrOGtnUDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQwNTo0NToyNFrOGvqkkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ4MzIxMw==", "bodyText": "Are those two preferences exclusive? If yes, it could be better to only store one preference.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r450483213", "createdAt": "2020-07-06T21:13:42Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "diffHunk": "@@ -0,0 +1,117 @@\n+package de.danoeh.antennapod.dialog;\n+\n+import android.app.Dialog;\n+import android.content.Context;\n+import android.content.DialogInterface;\n+import android.content.SharedPreferences;\n+import android.os.Bundle;\n+import android.preference.PreferenceManager;\n+import android.view.View;\n+import android.widget.RadioButton;\n+import android.widget.RadioGroup;\n+import android.widget.Switch;\n+import android.widget.Toast;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.DialogFragment;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.core.feed.FeedItem;\n+import de.danoeh.antennapod.core.preferences.UserPreferences;\n+import de.danoeh.antennapod.core.util.ShareUtils;\n+\n+public class ShareDialog extends DialogFragment {\n+\n+    private static final String TAG = \"ShareDialog\";\n+    private final Context ctx;\n+    private FeedItem item;\n+\n+    private static final String PREF_SHARE_EPISODE_WEBSITE = \"prefShareEpisodeWebsite\";\n+    private static final String PREF_SHARE_EPISODE_MEDIA = \"prefShareEpisodeMedia\";\n+    private static final String PREF_SHARE_EPISODE_START_AT = \"prefShareEpisodeStartAt\";\n+\n+    private RadioGroup radioGroup;\n+    private RadioButton radioEpisodeWebsite;\n+    private RadioButton radioMediaFile;\n+    private Switch switchStartAt;\n+    private SharedPreferences prefs;\n+\n+    public ShareDialog(Context ctx, FeedItem item) {\n+        this.ctx = ctx;\n+        this.item = item;\n+        prefs = ctx.getSharedPreferences(\"SHARE_DIALOG_PREFS\", Context.MODE_PRIVATE);\n+    }\n+\n+    @NonNull\n+    @Override\n+    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n+        View content = View.inflate(ctx, R.layout.share_episode_dialog, null);\n+        AlertDialog.Builder builder = new AlertDialog.Builder(ctx);\n+        builder.setTitle(R.string.share_label);\n+        builder.setView(content);\n+\n+        radioGroup = content.findViewById(R.id.share_dialog_radio_group);\n+        radioEpisodeWebsite = content.findViewById(R.id.share_episode_website_radio);\n+        radioMediaFile = content.findViewById(R.id.share_media_file_radio);\n+        switchStartAt = content.findViewById(R.id.share_start_at_timer_dialog);\n+\n+        setupOptions();\n+\n+        builder\n+                .setPositiveButton(R.string.share_label, new DialogInterface.OnClickListener() {\n+                    @Override\n+                    public void onClick(DialogInterface dialog, int id) {\n+                        if (radioEpisodeWebsite.isChecked()) {\n+                            ShareUtils.shareFeedItemLink(ctx, item, switchStartAt.isChecked());\n+                            prefs.edit().putBoolean(PREF_SHARE_EPISODE_START_AT, switchStartAt.isChecked()).apply();\n+\n+                            prefs.edit().putBoolean(PREF_SHARE_EPISODE_WEBSITE, true).apply();\n+                            prefs.edit().putBoolean(PREF_SHARE_EPISODE_MEDIA, false).apply();\n+                        } else {\n+                            ShareUtils.shareFeedItemLink(ctx, item, switchStartAt.isChecked());\n+                            prefs.edit().putBoolean(PREF_SHARE_EPISODE_START_AT, switchStartAt.isChecked()).apply();\n+\n+                            prefs.edit().putBoolean(PREF_SHARE_EPISODE_WEBSITE, false).apply();\n+                            prefs.edit().putBoolean(PREF_SHARE_EPISODE_MEDIA, true).apply();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cb17304e719789655ab252cc45b251561773214"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjYzMzc0NQ==", "bodyText": "I decided to use a String instead of use 2 booleans, in this way I only have to check the value of the string and then activate or desactived the radio buttons :) . The code now is more clear and easy to understand. I'm gonna add the new commit", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r452633745", "createdAt": "2020-07-10T05:45:24Z", "author": {"login": "gerardolgvr"}, "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "diffHunk": "@@ -0,0 +1,117 @@\n+package de.danoeh.antennapod.dialog;\n+\n+import android.app.Dialog;\n+import android.content.Context;\n+import android.content.DialogInterface;\n+import android.content.SharedPreferences;\n+import android.os.Bundle;\n+import android.preference.PreferenceManager;\n+import android.view.View;\n+import android.widget.RadioButton;\n+import android.widget.RadioGroup;\n+import android.widget.Switch;\n+import android.widget.Toast;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.DialogFragment;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.core.feed.FeedItem;\n+import de.danoeh.antennapod.core.preferences.UserPreferences;\n+import de.danoeh.antennapod.core.util.ShareUtils;\n+\n+public class ShareDialog extends DialogFragment {\n+\n+    private static final String TAG = \"ShareDialog\";\n+    private final Context ctx;\n+    private FeedItem item;\n+\n+    private static final String PREF_SHARE_EPISODE_WEBSITE = \"prefShareEpisodeWebsite\";\n+    private static final String PREF_SHARE_EPISODE_MEDIA = \"prefShareEpisodeMedia\";\n+    private static final String PREF_SHARE_EPISODE_START_AT = \"prefShareEpisodeStartAt\";\n+\n+    private RadioGroup radioGroup;\n+    private RadioButton radioEpisodeWebsite;\n+    private RadioButton radioMediaFile;\n+    private Switch switchStartAt;\n+    private SharedPreferences prefs;\n+\n+    public ShareDialog(Context ctx, FeedItem item) {\n+        this.ctx = ctx;\n+        this.item = item;\n+        prefs = ctx.getSharedPreferences(\"SHARE_DIALOG_PREFS\", Context.MODE_PRIVATE);\n+    }\n+\n+    @NonNull\n+    @Override\n+    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n+        View content = View.inflate(ctx, R.layout.share_episode_dialog, null);\n+        AlertDialog.Builder builder = new AlertDialog.Builder(ctx);\n+        builder.setTitle(R.string.share_label);\n+        builder.setView(content);\n+\n+        radioGroup = content.findViewById(R.id.share_dialog_radio_group);\n+        radioEpisodeWebsite = content.findViewById(R.id.share_episode_website_radio);\n+        radioMediaFile = content.findViewById(R.id.share_media_file_radio);\n+        switchStartAt = content.findViewById(R.id.share_start_at_timer_dialog);\n+\n+        setupOptions();\n+\n+        builder\n+                .setPositiveButton(R.string.share_label, new DialogInterface.OnClickListener() {\n+                    @Override\n+                    public void onClick(DialogInterface dialog, int id) {\n+                        if (radioEpisodeWebsite.isChecked()) {\n+                            ShareUtils.shareFeedItemLink(ctx, item, switchStartAt.isChecked());\n+                            prefs.edit().putBoolean(PREF_SHARE_EPISODE_START_AT, switchStartAt.isChecked()).apply();\n+\n+                            prefs.edit().putBoolean(PREF_SHARE_EPISODE_WEBSITE, true).apply();\n+                            prefs.edit().putBoolean(PREF_SHARE_EPISODE_MEDIA, false).apply();\n+                        } else {\n+                            ShareUtils.shareFeedItemLink(ctx, item, switchStartAt.isChecked());\n+                            prefs.edit().putBoolean(PREF_SHARE_EPISODE_START_AT, switchStartAt.isChecked()).apply();\n+\n+                            prefs.edit().putBoolean(PREF_SHARE_EPISODE_WEBSITE, false).apply();\n+                            prefs.edit().putBoolean(PREF_SHARE_EPISODE_MEDIA, true).apply();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ4MzIxMw=="}, "originalCommit": {"oid": "0cb17304e719789655ab252cc45b251561773214"}, "originalPosition": 76}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwODU3NDIwOnYy", "diffSide": "RIGHT", "path": "core/src/main/res/values/strings.xml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMToxODoyOFrOGtnbqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQwMzo0ODoxNlrOGvo9sA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ4NTE2MA==", "bodyText": "I think it would be better to have 2 strings here. One with the dots and one without. Menu items with sub menus usually have dots in their title but the dialog title and button are better without dots. Let's wait for a reply by @keunes first. @keunes, what do you think?", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r450485160", "createdAt": "2020-07-06T21:18:28Z", "author": {"login": "ByteHamster"}, "path": "core/src/main/res/values/strings.xml", "diffHunk": "@@ -136,12 +136,12 @@\n     <string name=\"feed_settings_label\">Podcast settings</string>\n     <string name=\"rename_feed_label\">Rename podcast</string>\n     <string name=\"remove_feed_label\">Remove podcast</string>\n-    <string name=\"share_label\">Share&#8230;</string>\n+    <string name=\"share_label\">Share</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cb17304e719789655ab252cc45b251561773214"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDUwODY3Mg==", "bodyText": "Yup, agreed.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r450508672", "createdAt": "2020-07-06T22:18:37Z", "author": {"login": "keunes"}, "path": "core/src/main/res/values/strings.xml", "diffHunk": "@@ -136,12 +136,12 @@\n     <string name=\"feed_settings_label\">Podcast settings</string>\n     <string name=\"rename_feed_label\">Rename podcast</string>\n     <string name=\"remove_feed_label\">Remove podcast</string>\n-    <string name=\"share_label\">Share&#8230;</string>\n+    <string name=\"share_label\">Share</string>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ4NTE2MA=="}, "originalCommit": {"oid": "0cb17304e719789655ab252cc45b251561773214"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjYwNzQwOA==", "bodyText": "Yup, I like the idea too", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r452607408", "createdAt": "2020-07-10T03:48:16Z", "author": {"login": "gerardolgvr"}, "path": "core/src/main/res/values/strings.xml", "diffHunk": "@@ -136,12 +136,12 @@\n     <string name=\"feed_settings_label\">Podcast settings</string>\n     <string name=\"rename_feed_label\">Rename podcast</string>\n     <string name=\"remove_feed_label\">Remove podcast</string>\n-    <string name=\"share_label\">Share&#8230;</string>\n+    <string name=\"share_label\">Share</string>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ4NTE2MA=="}, "originalCommit": {"oid": "0cb17304e719789655ab252cc45b251561773214"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwODU3OTc0OnYy", "diffSide": "RIGHT", "path": "app/src/main/res/layout/share_episode_dialog.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMToyMDozMVrOGtnfDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQwMzowMzoxMVrOGvoWbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ4NjAyOA==", "bodyText": "If you set the width to match_parent, the buttons get easier to tap (while looking exactly the same).", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r450486028", "createdAt": "2020-07-06T21:20:31Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/res/layout/share_episode_dialog.xml", "diffHunk": "@@ -0,0 +1,40 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    android:orientation=\"vertical\"\n+    android:layout_width=\"match_parent\"\n+    android:layout_height=\"match_parent\"\n+    android:gravity=\"center\"\n+    android:padding=\"16dp\">\n+\n+    <RadioGroup\n+        android:id=\"@+id/share_dialog_radio_group\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:layout_marginBottom=\"16dp\"\n+        android:orientation=\"vertical\">\n+\n+        <RadioButton android:id=\"@+id/share_episode_website_radio\"\n+            android:layout_width=\"wrap_content\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cb17304e719789655ab252cc45b251561773214"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjU5NzM1Ng==", "bodyText": "Added :)", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r452597356", "createdAt": "2020-07-10T03:03:11Z", "author": {"login": "gerardolgvr"}, "path": "app/src/main/res/layout/share_episode_dialog.xml", "diffHunk": "@@ -0,0 +1,40 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    android:orientation=\"vertical\"\n+    android:layout_width=\"match_parent\"\n+    android:layout_height=\"match_parent\"\n+    android:gravity=\"center\"\n+    android:padding=\"16dp\">\n+\n+    <RadioGroup\n+        android:id=\"@+id/share_dialog_radio_group\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:layout_marginBottom=\"16dp\"\n+        android:orientation=\"vertical\">\n+\n+        <RadioButton android:id=\"@+id/share_episode_website_radio\"\n+            android:layout_width=\"wrap_content\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ4NjAyOA=="}, "originalCommit": {"oid": "0cb17304e719789655ab252cc45b251561773214"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwODU4NTE3OnYy", "diffSide": "RIGHT", "path": "app/src/main/res/layout/share_episode_dialog.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMToyMjozMVrOGtniUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQwMDoyNDoyM1rOGvmBmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ4Njg2NQ==", "bodyText": "I think the dialog could look more balanced if this was a CheckBox instead of a Switch. Then all the blue elements line up on the left. I am not completely sure, though. What do you think?", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r450486865", "createdAt": "2020-07-06T21:22:31Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/res/layout/share_episode_dialog.xml", "diffHunk": "@@ -0,0 +1,40 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    android:orientation=\"vertical\"\n+    android:layout_width=\"match_parent\"\n+    android:layout_height=\"match_parent\"\n+    android:gravity=\"center\"\n+    android:padding=\"16dp\">\n+\n+    <RadioGroup\n+        android:id=\"@+id/share_dialog_radio_group\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:layout_marginBottom=\"16dp\"\n+        android:orientation=\"vertical\">\n+\n+        <RadioButton android:id=\"@+id/share_episode_website_radio\"\n+            android:layout_width=\"wrap_content\"\n+            android:layout_height=\"wrap_content\"\n+            android:text=\"@string/share_dialog_episode_website_label\"\n+            android:checked=\"true\"\n+            />\n+        <RadioButton android:id=\"@+id/share_media_file_radio\"\n+            android:layout_width=\"wrap_content\"\n+            android:layout_height=\"wrap_content\"\n+            android:text=\"@string/share_dialog_media_file_label\"\n+            />\n+    </RadioGroup>\n+\n+    <TextView\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"match_parent\"\n+        android:text=\"@string/share_dialog_include_label\"/>\n+\n+    <Switch\n+        android:id=\"@+id/share_start_at_timer_dialog\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:text=\"@string/share_playback_position_dialog_label\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cb17304e719789655ab252cc45b251561773214"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjU1OTI1OQ==", "bodyText": "Yes I agree, I will try to update it.", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r452559259", "createdAt": "2020-07-10T00:24:23Z", "author": {"login": "gerardolgvr"}, "path": "app/src/main/res/layout/share_episode_dialog.xml", "diffHunk": "@@ -0,0 +1,40 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    android:orientation=\"vertical\"\n+    android:layout_width=\"match_parent\"\n+    android:layout_height=\"match_parent\"\n+    android:gravity=\"center\"\n+    android:padding=\"16dp\">\n+\n+    <RadioGroup\n+        android:id=\"@+id/share_dialog_radio_group\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:layout_marginBottom=\"16dp\"\n+        android:orientation=\"vertical\">\n+\n+        <RadioButton android:id=\"@+id/share_episode_website_radio\"\n+            android:layout_width=\"wrap_content\"\n+            android:layout_height=\"wrap_content\"\n+            android:text=\"@string/share_dialog_episode_website_label\"\n+            android:checked=\"true\"\n+            />\n+        <RadioButton android:id=\"@+id/share_media_file_radio\"\n+            android:layout_width=\"wrap_content\"\n+            android:layout_height=\"wrap_content\"\n+            android:text=\"@string/share_dialog_media_file_label\"\n+            />\n+    </RadioGroup>\n+\n+    <TextView\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"match_parent\"\n+        android:text=\"@string/share_dialog_include_label\"/>\n+\n+    <Switch\n+        android:id=\"@+id/share_start_at_timer_dialog\"\n+        android:layout_width=\"match_parent\"\n+        android:layout_height=\"wrap_content\"\n+        android:text=\"@string/share_playback_position_dialog_label\" />", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ4Njg2NQ=="}, "originalCommit": {"oid": "0cb17304e719789655ab252cc45b251561773214"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwODU5ODc0OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wNlQyMToyNzoyOVrOGtnqiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQwNDo1ODo1MlrOGvp38A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ4ODk3MQ==", "bodyText": "I think this shares the same link regardless of the checkbox now. Copy-paste error?\nswitchStartAt.isChecked() is called quite a few times. What about adding a variable boolean includePosition = switchStartAt.isChecked()?", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r450488971", "createdAt": "2020-07-06T21:27:29Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "diffHunk": "@@ -0,0 +1,117 @@\n+package de.danoeh.antennapod.dialog;\n+\n+import android.app.Dialog;\n+import android.content.Context;\n+import android.content.DialogInterface;\n+import android.content.SharedPreferences;\n+import android.os.Bundle;\n+import android.preference.PreferenceManager;\n+import android.view.View;\n+import android.widget.RadioButton;\n+import android.widget.RadioGroup;\n+import android.widget.Switch;\n+import android.widget.Toast;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.DialogFragment;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.core.feed.FeedItem;\n+import de.danoeh.antennapod.core.preferences.UserPreferences;\n+import de.danoeh.antennapod.core.util.ShareUtils;\n+\n+public class ShareDialog extends DialogFragment {\n+\n+    private static final String TAG = \"ShareDialog\";\n+    private final Context ctx;\n+    private FeedItem item;\n+\n+    private static final String PREF_SHARE_EPISODE_WEBSITE = \"prefShareEpisodeWebsite\";\n+    private static final String PREF_SHARE_EPISODE_MEDIA = \"prefShareEpisodeMedia\";\n+    private static final String PREF_SHARE_EPISODE_START_AT = \"prefShareEpisodeStartAt\";\n+\n+    private RadioGroup radioGroup;\n+    private RadioButton radioEpisodeWebsite;\n+    private RadioButton radioMediaFile;\n+    private Switch switchStartAt;\n+    private SharedPreferences prefs;\n+\n+    public ShareDialog(Context ctx, FeedItem item) {\n+        this.ctx = ctx;\n+        this.item = item;\n+        prefs = ctx.getSharedPreferences(\"SHARE_DIALOG_PREFS\", Context.MODE_PRIVATE);\n+    }\n+\n+    @NonNull\n+    @Override\n+    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n+        View content = View.inflate(ctx, R.layout.share_episode_dialog, null);\n+        AlertDialog.Builder builder = new AlertDialog.Builder(ctx);\n+        builder.setTitle(R.string.share_label);\n+        builder.setView(content);\n+\n+        radioGroup = content.findViewById(R.id.share_dialog_radio_group);\n+        radioEpisodeWebsite = content.findViewById(R.id.share_episode_website_radio);\n+        radioMediaFile = content.findViewById(R.id.share_media_file_radio);\n+        switchStartAt = content.findViewById(R.id.share_start_at_timer_dialog);\n+\n+        setupOptions();\n+\n+        builder\n+                .setPositiveButton(R.string.share_label, new DialogInterface.OnClickListener() {\n+                    @Override\n+                    public void onClick(DialogInterface dialog, int id) {\n+                        if (radioEpisodeWebsite.isChecked()) {\n+                            ShareUtils.shareFeedItemLink(ctx, item, switchStartAt.isChecked());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0cb17304e719789655ab252cc45b251561773214"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjYyMjMyMA==", "bodyText": "Sure! You're right. I have added it to the new commit. :)", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r452622320", "createdAt": "2020-07-10T04:58:52Z", "author": {"login": "gerardolgvr"}, "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "diffHunk": "@@ -0,0 +1,117 @@\n+package de.danoeh.antennapod.dialog;\n+\n+import android.app.Dialog;\n+import android.content.Context;\n+import android.content.DialogInterface;\n+import android.content.SharedPreferences;\n+import android.os.Bundle;\n+import android.preference.PreferenceManager;\n+import android.view.View;\n+import android.widget.RadioButton;\n+import android.widget.RadioGroup;\n+import android.widget.Switch;\n+import android.widget.Toast;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.DialogFragment;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.core.feed.FeedItem;\n+import de.danoeh.antennapod.core.preferences.UserPreferences;\n+import de.danoeh.antennapod.core.util.ShareUtils;\n+\n+public class ShareDialog extends DialogFragment {\n+\n+    private static final String TAG = \"ShareDialog\";\n+    private final Context ctx;\n+    private FeedItem item;\n+\n+    private static final String PREF_SHARE_EPISODE_WEBSITE = \"prefShareEpisodeWebsite\";\n+    private static final String PREF_SHARE_EPISODE_MEDIA = \"prefShareEpisodeMedia\";\n+    private static final String PREF_SHARE_EPISODE_START_AT = \"prefShareEpisodeStartAt\";\n+\n+    private RadioGroup radioGroup;\n+    private RadioButton radioEpisodeWebsite;\n+    private RadioButton radioMediaFile;\n+    private Switch switchStartAt;\n+    private SharedPreferences prefs;\n+\n+    public ShareDialog(Context ctx, FeedItem item) {\n+        this.ctx = ctx;\n+        this.item = item;\n+        prefs = ctx.getSharedPreferences(\"SHARE_DIALOG_PREFS\", Context.MODE_PRIVATE);\n+    }\n+\n+    @NonNull\n+    @Override\n+    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n+        View content = View.inflate(ctx, R.layout.share_episode_dialog, null);\n+        AlertDialog.Builder builder = new AlertDialog.Builder(ctx);\n+        builder.setTitle(R.string.share_label);\n+        builder.setView(content);\n+\n+        radioGroup = content.findViewById(R.id.share_dialog_radio_group);\n+        radioEpisodeWebsite = content.findViewById(R.id.share_episode_website_radio);\n+        radioMediaFile = content.findViewById(R.id.share_media_file_radio);\n+        switchStartAt = content.findViewById(R.id.share_start_at_timer_dialog);\n+\n+        setupOptions();\n+\n+        builder\n+                .setPositiveButton(R.string.share_label, new DialogInterface.OnClickListener() {\n+                    @Override\n+                    public void onClick(DialogInterface dialog, int id) {\n+                        if (radioEpisodeWebsite.isChecked()) {\n+                            ShareUtils.shareFeedItemLink(ctx, item, switchStartAt.isChecked());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDQ4ODk3MQ=="}, "originalCommit": {"oid": "0cb17304e719789655ab252cc45b251561773214"}, "originalPosition": 66}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMjQ1Mjk5OnYy", "diffSide": "RIGHT", "path": "app/src/main/res/menu/mediaplayer.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQwNzoyNjoyOVrOGvszOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxNjo0Mjo1OFrOGv-LRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjY3MDI2NA==", "bodyText": "I would use share_label_with_ellipses here", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r452670264", "createdAt": "2020-07-10T07:26:29Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/res/menu/mediaplayer.xml", "diffHunk": "@@ -63,27 +63,5 @@\n         android:menuCategory=\"container\"\n         custom:showAsAction=\"never\"\n         android:title=\"@string/share_label\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df19ca27410f35e65b51a7648ff64212499a2aca"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk1NDk1MA==", "bodyText": "yup, adde it", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r452954950", "createdAt": "2020-07-10T16:42:58Z", "author": {"login": "gerardolgvr"}, "path": "app/src/main/res/menu/mediaplayer.xml", "diffHunk": "@@ -63,27 +63,5 @@\n         android:menuCategory=\"container\"\n         custom:showAsAction=\"never\"\n         android:title=\"@string/share_label\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjY3MDI2NA=="}, "originalCommit": {"oid": "df19ca27410f35e65b51a7648ff64212499a2aca"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMjQ1MzYyOnYy", "diffSide": "RIGHT", "path": "app/src/main/res/menu/feeditem_options.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQwNzoyNjozOVrOGvszlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxNjo0MzoyMVrOGv-MEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjY3MDM1OA==", "bodyText": "I would use share_label_with_ellipses here", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r452670358", "createdAt": "2020-07-10T07:26:39Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/res/menu/feeditem_options.xml", "diffHunk": "@@ -72,28 +72,6 @@\n         android:id=\"@+id/share_item\"\n         android:menuCategory=\"container\"\n         android:title=\"@string/share_label\">", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df19ca27410f35e65b51a7648ff64212499a2aca"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk1NTE1NA==", "bodyText": "yup, I forgot update this . Thanks", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r452955154", "createdAt": "2020-07-10T16:43:21Z", "author": {"login": "gerardolgvr"}, "path": "app/src/main/res/menu/feeditem_options.xml", "diffHunk": "@@ -72,28 +72,6 @@\n         android:id=\"@+id/share_item\"\n         android:menuCategory=\"container\"\n         android:title=\"@string/share_label\">", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjY3MDM1OA=="}, "originalCommit": {"oid": "df19ca27410f35e65b51a7648ff64212499a2aca"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyMjQ2MTgwOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQwNzoyOTozM1rOGvs4yQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xMFQxNjo0Mzo0N1rOGv-M7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjY3MTY4OQ==", "bodyText": "Checkstyle complains here. If you just remove the line break between ) and ., it is happy :)", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r452671689", "createdAt": "2020-07-10T07:29:33Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "diffHunk": "@@ -0,0 +1,121 @@\n+package de.danoeh.antennapod.dialog;\n+\n+import android.app.Dialog;\n+import android.content.Context;\n+import android.content.DialogInterface;\n+import android.content.SharedPreferences;\n+import android.os.Bundle;\n+import android.view.View;\n+import android.widget.CheckBox;\n+import android.widget.RadioButton;\n+import android.widget.RadioGroup;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.DialogFragment;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.core.feed.FeedItem;\n+import de.danoeh.antennapod.core.util.ShareUtils;\n+\n+public class ShareDialog extends DialogFragment {\n+\n+    private static final String ARGUMENT_FEED_ITEM = \"feedItem\";\n+\n+    private static final String TAG = \"ShareDialog\";\n+    private Context ctx;\n+    private FeedItem item;\n+\n+    private static final String PREF_SHARE_DIALOG_OPTION = \"prefShareDialogOption\";\n+    private static final String PREF_SHARE_EPISODE_START_AT = \"prefShareEpisodeStartAt\";\n+\n+    private RadioGroup radioGroup;\n+    private RadioButton radioEpisodeWebsite;\n+    private RadioButton radioMediaFile;\n+    private CheckBox checkBoxStartAt;\n+    private SharedPreferences prefs;\n+\n+    public ShareDialog() {\n+        // Empty constructor required for DialogFragment\n+    }\n+\n+    public static ShareDialog newInstance(FeedItem item) {\n+        Bundle arguments = new Bundle();\n+        arguments.putSerializable(ARGUMENT_FEED_ITEM, item);\n+        ShareDialog dialog = new ShareDialog();\n+        dialog.setArguments(arguments);\n+        return dialog;\n+    }\n+\n+    @NonNull\n+    @Override\n+    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n+        if (getArguments() != null) {\n+            ctx = getActivity();\n+            item = (FeedItem) getArguments().getSerializable(ARGUMENT_FEED_ITEM);\n+            prefs = getActivity().getSharedPreferences(\"ShareDialog\", Context.MODE_PRIVATE);\n+        }\n+\n+        View content = View.inflate(ctx, R.layout.share_episode_dialog, null);\n+        AlertDialog.Builder builder = new AlertDialog.Builder(ctx);\n+        builder.setTitle(R.string.share_label);\n+        builder.setView(content);\n+\n+        radioGroup = content.findViewById(R.id.share_dialog_radio_group);\n+        radioEpisodeWebsite = content.findViewById(R.id.share_episode_website_radio);\n+        radioMediaFile = content.findViewById(R.id.share_media_file_radio);\n+        checkBoxStartAt = content.findViewById(R.id.share_start_at_timer_dialog);\n+\n+        setupOptions();\n+\n+        builder.setPositiveButton(R.string.share_label, new DialogInterface.OnClickListener() {\n+            @Override\n+            public void onClick(DialogInterface dialog, int id) {\n+                boolean includePlaybackPosition = checkBoxStartAt.isChecked();\n+                if (radioEpisodeWebsite.isChecked()) {\n+                    ShareUtils.shareFeedItemLink(ctx, item, includePlaybackPosition);\n+                    prefs.edit().putString(PREF_SHARE_DIALOG_OPTION, \"website\").apply();\n+                } else {\n+                    ShareUtils.shareFeedItemDownloadLink(ctx, item, includePlaybackPosition);\n+                    prefs.edit().putString(PREF_SHARE_DIALOG_OPTION, \"media\").apply();\n+                }\n+                prefs.edit().putBoolean(PREF_SHARE_EPISODE_START_AT, includePlaybackPosition).apply();\n+            }\n+        })\n+        .setNegativeButton(R.string.cancel_label, new DialogInterface.OnClickListener() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "df19ca27410f35e65b51a7648ff64212499a2aca"}, "originalPosition": 85}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mjk1NTM3Mg==", "bodyText": "fixed :)", "url": "https://github.com/AntennaPod/AntennaPod/pull/4260#discussion_r452955372", "createdAt": "2020-07-10T16:43:47Z", "author": {"login": "gerardolgvr"}, "path": "app/src/main/java/de/danoeh/antennapod/dialog/ShareDialog.java", "diffHunk": "@@ -0,0 +1,121 @@\n+package de.danoeh.antennapod.dialog;\n+\n+import android.app.Dialog;\n+import android.content.Context;\n+import android.content.DialogInterface;\n+import android.content.SharedPreferences;\n+import android.os.Bundle;\n+import android.view.View;\n+import android.widget.CheckBox;\n+import android.widget.RadioButton;\n+import android.widget.RadioGroup;\n+\n+import androidx.annotation.NonNull;\n+import androidx.annotation.Nullable;\n+import androidx.appcompat.app.AlertDialog;\n+import androidx.fragment.app.DialogFragment;\n+import de.danoeh.antennapod.R;\n+import de.danoeh.antennapod.core.feed.FeedItem;\n+import de.danoeh.antennapod.core.util.ShareUtils;\n+\n+public class ShareDialog extends DialogFragment {\n+\n+    private static final String ARGUMENT_FEED_ITEM = \"feedItem\";\n+\n+    private static final String TAG = \"ShareDialog\";\n+    private Context ctx;\n+    private FeedItem item;\n+\n+    private static final String PREF_SHARE_DIALOG_OPTION = \"prefShareDialogOption\";\n+    private static final String PREF_SHARE_EPISODE_START_AT = \"prefShareEpisodeStartAt\";\n+\n+    private RadioGroup radioGroup;\n+    private RadioButton radioEpisodeWebsite;\n+    private RadioButton radioMediaFile;\n+    private CheckBox checkBoxStartAt;\n+    private SharedPreferences prefs;\n+\n+    public ShareDialog() {\n+        // Empty constructor required for DialogFragment\n+    }\n+\n+    public static ShareDialog newInstance(FeedItem item) {\n+        Bundle arguments = new Bundle();\n+        arguments.putSerializable(ARGUMENT_FEED_ITEM, item);\n+        ShareDialog dialog = new ShareDialog();\n+        dialog.setArguments(arguments);\n+        return dialog;\n+    }\n+\n+    @NonNull\n+    @Override\n+    public Dialog onCreateDialog(@Nullable Bundle savedInstanceState) {\n+        if (getArguments() != null) {\n+            ctx = getActivity();\n+            item = (FeedItem) getArguments().getSerializable(ARGUMENT_FEED_ITEM);\n+            prefs = getActivity().getSharedPreferences(\"ShareDialog\", Context.MODE_PRIVATE);\n+        }\n+\n+        View content = View.inflate(ctx, R.layout.share_episode_dialog, null);\n+        AlertDialog.Builder builder = new AlertDialog.Builder(ctx);\n+        builder.setTitle(R.string.share_label);\n+        builder.setView(content);\n+\n+        radioGroup = content.findViewById(R.id.share_dialog_radio_group);\n+        radioEpisodeWebsite = content.findViewById(R.id.share_episode_website_radio);\n+        radioMediaFile = content.findViewById(R.id.share_media_file_radio);\n+        checkBoxStartAt = content.findViewById(R.id.share_start_at_timer_dialog);\n+\n+        setupOptions();\n+\n+        builder.setPositiveButton(R.string.share_label, new DialogInterface.OnClickListener() {\n+            @Override\n+            public void onClick(DialogInterface dialog, int id) {\n+                boolean includePlaybackPosition = checkBoxStartAt.isChecked();\n+                if (radioEpisodeWebsite.isChecked()) {\n+                    ShareUtils.shareFeedItemLink(ctx, item, includePlaybackPosition);\n+                    prefs.edit().putString(PREF_SHARE_DIALOG_OPTION, \"website\").apply();\n+                } else {\n+                    ShareUtils.shareFeedItemDownloadLink(ctx, item, includePlaybackPosition);\n+                    prefs.edit().putString(PREF_SHARE_DIALOG_OPTION, \"media\").apply();\n+                }\n+                prefs.edit().putBoolean(PREF_SHARE_EPISODE_START_AT, includePlaybackPosition).apply();\n+            }\n+        })\n+        .setNegativeButton(R.string.cancel_label, new DialogInterface.OnClickListener() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MjY3MTY4OQ=="}, "originalCommit": {"oid": "df19ca27410f35e65b51a7648ff64212499a2aca"}, "originalPosition": 85}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4730, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}