{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM0OTMyNjU2", "number": 4746, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMDo1MDo1N1rOFKK3gg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMVQxNjoxOToxN1rOFNTrgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ2MjA4MTMwOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/de/danoeh/antennapod/core/service/PlayerWidgetJobService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMDo1MDo1N1rOIM1FZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0zMFQyMDo1MDo1N1rOIM1FZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MDMyMzU1OA==", "bodyText": "There isn't a lot of changes to the code, just wrapping it into a for loop", "url": "https://github.com/AntennaPod/AntennaPod/pull/4746#discussion_r550323558", "createdAt": "2020-12-30T20:50:57Z", "author": {"login": "tonytamsf"}, "path": "core/src/main/java/de/danoeh/antennapod/core/service/PlayerWidgetJobService.java", "diffHunk": "@@ -102,111 +102,131 @@ private void updateViews() {\n         ComponentName playerWidget = new ComponentName(this, PlayerWidget.class);\n         AppWidgetManager manager = AppWidgetManager.getInstance(this);\n         int[] widgetIds = manager.getAppWidgetIds(playerWidget);\n-        RemoteViews views = new RemoteViews(getPackageName(), R.layout.player_widget);\n-        final PendingIntent startMediaPlayer = PendingIntent.getActivity(this, R.id.pending_intent_player_activity,\n-                PlaybackService.getPlayerActivityIntent(this), PendingIntent.FLAG_UPDATE_CURRENT);\n \n-        boolean nothingPlaying = false;\n-        Playable media;\n-        PlayerStatus status;\n-        if (playbackService != null) {\n-            media = playbackService.getPlayable();\n-            status = playbackService.getStatus();\n-        } else {\n-            media = Playable.PlayableUtils.createInstanceFromPreferences(getApplicationContext());\n-            status = PlayerStatus.STOPPED;\n-        }\n-\n-        if (media != null) {\n-            views.setOnClickPendingIntent(R.id.layout_left, startMediaPlayer);\n-\n-            try {\n-                Bitmap icon;\n-                int iconSize = getResources().getDimensionPixelSize(android.R.dimen.app_icon_size);\n-                icon = Glide.with(PlayerWidgetJobService.this)\n-                        .asBitmap()\n-                        .load(ImageResourceUtils.getImageLocation(media))\n-                        .apply(RequestOptions.diskCacheStrategyOf(ApGlideSettings.AP_DISK_CACHE_STRATEGY))\n-                        .submit(iconSize, iconSize)\n-                        .get(500, TimeUnit.MILLISECONDS);\n-                views.setImageViewBitmap(R.id.imgvCover, icon);\n-            } catch (Throwable tr) {\n-                Log.e(TAG, \"Error loading the media icon for the widget\", tr);\n-                views.setImageViewResource(R.id.imgvCover, R.mipmap.ic_launcher_round);\n+        for (int id : widgetIds) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "deb2f0c4051f6c858eba8c6e369a660d59b1e663"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ5NDk0MjQ3OnYy", "diffSide": "RIGHT", "path": "app/src/main/java/de/danoeh/antennapod/activity/WidgetConfigActivity.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMVQxNjoxMDozMFrOIRcfcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMlQwNjowNjo0M1rOIRzD7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTE2MzUwNQ==", "bodyText": "Is there a case where it actually is null?", "url": "https://github.com/AntennaPod/AntennaPod/pull/4746#discussion_r555163505", "createdAt": "2021-01-11T16:10:30Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/activity/WidgetConfigActivity.java", "diffHunk": "@@ -63,6 +76,9 @@ public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\n                 opacityTextView.setText(seekBar.getProgress() + \"%\");\n                 int color = getColorWithAlpha(PlayerWidget.DEFAULT_COLOR, opacitySeekBar.getProgress());\n                 widgetPreview.setBackgroundColor(color);\n+                if (widgetMorePreview != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "816fe1b8b0014808dca6cfef81fabed466315c6b"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTUzMzI5Mg==", "bodyText": "nope, removed", "url": "https://github.com/AntennaPod/AntennaPod/pull/4746#discussion_r555533292", "createdAt": "2021-01-12T06:06:43Z", "author": {"login": "tonytamsf"}, "path": "app/src/main/java/de/danoeh/antennapod/activity/WidgetConfigActivity.java", "diffHunk": "@@ -63,6 +76,9 @@ public void onProgressChanged(SeekBar seekBar, int i, boolean b) {\n                 opacityTextView.setText(seekBar.getProgress() + \"%\");\n                 int color = getColorWithAlpha(PlayerWidget.DEFAULT_COLOR, opacitySeekBar.getProgress());\n                 widgetPreview.setBackgroundColor(color);\n+                if (widgetMorePreview != null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTE2MzUwNQ=="}, "originalCommit": {"oid": "816fe1b8b0014808dca6cfef81fabed466315c6b"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ5NDk4MjQyOnYy", "diffSide": "RIGHT", "path": "app/src/main/java/de/danoeh/antennapod/activity/WidgetConfigActivity.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMVQxNjoxOToxN1rOIRc4Aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMlQwNjowMTo0OFrOIRy-Kw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTE2OTc5NQ==", "bodyText": "I'm not completely happy about the name More, to be honest. How about Extended?", "url": "https://github.com/AntennaPod/AntennaPod/pull/4746#discussion_r555169795", "createdAt": "2021-01-11T16:19:17Z", "author": {"login": "ByteHamster"}, "path": "app/src/main/java/de/danoeh/antennapod/activity/WidgetConfigActivity.java", "diffHunk": "@@ -54,7 +64,10 @@ protected void onCreate(Bundle savedInstanceState) {\n         displayDeviceBackground();\n         opacityTextView = findViewById(R.id.widget_opacity_textView);\n         opacitySeekBar = findViewById(R.id.widget_opacity_seekBar);\n-        widgetPreview = findViewById(R.id.widgetLayout);\n+        previewLayout = findViewById(R.id.widget_config_preview);\n+        widgetPreview = previewLayout.findViewById(R.id.widgetLayout);\n+        widgetMorePreview = findViewById(R.id.widgetMoreLayout);\n+        previewMoreLayout = findViewById(R.id.widget_config_more_preview);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "816fe1b8b0014808dca6cfef81fabed466315c6b"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTUzMTgxOQ==", "bodyText": "done", "url": "https://github.com/AntennaPod/AntennaPod/pull/4746#discussion_r555531819", "createdAt": "2021-01-12T06:01:48Z", "author": {"login": "tonytamsf"}, "path": "app/src/main/java/de/danoeh/antennapod/activity/WidgetConfigActivity.java", "diffHunk": "@@ -54,7 +64,10 @@ protected void onCreate(Bundle savedInstanceState) {\n         displayDeviceBackground();\n         opacityTextView = findViewById(R.id.widget_opacity_textView);\n         opacitySeekBar = findViewById(R.id.widget_opacity_seekBar);\n-        widgetPreview = findViewById(R.id.widgetLayout);\n+        previewLayout = findViewById(R.id.widget_config_preview);\n+        widgetPreview = previewLayout.findViewById(R.id.widgetLayout);\n+        widgetMorePreview = findViewById(R.id.widgetMoreLayout);\n+        previewMoreLayout = findViewById(R.id.widget_config_more_preview);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTE2OTc5NQ=="}, "originalCommit": {"oid": "816fe1b8b0014808dca6cfef81fabed466315c6b"}, "originalPosition": 32}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4630, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}