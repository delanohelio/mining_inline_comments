{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0Mzk0NTI1", "number": 1518, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwNTozNTowM1rOEWFaCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwNjoxNDo0MVrOEWF30g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNTkyNzE1OnYy", "diffSide": "RIGHT", "path": "exporters/otlp/src/main/java/io/opentelemetry/exporters/otlp/OtlpGrpcSpanExporter.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwNTozNTowM1rOG9NEKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwNjoxMzozMVrOG9NvRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjgzMDM3Nw==", "bodyText": "Should we also add trimResults omitEmptyStrings? These are HTTP headers so at least keys cannot have spaces or be empty. I'm less sure about trimming the values or the key only, but I think usually a trailing space on a value will be a bug not a feature.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1518#discussion_r466830377", "createdAt": "2020-08-07T05:35:03Z", "author": {"login": "anuraaga"}, "path": "exporters/otlp/src/main/java/io/opentelemetry/exporters/otlp/OtlpGrpcSpanExporter.java", "diffHunk": "@@ -291,7 +291,7 @@ protected Builder fromConfigMap(\n       String metadataValue = getStringProperty(KEY_METADATA, configMap);\n       if (metadataValue != null) {\n         for (String keyValueString : Splitter.on(';').split(metadataValue)) {\n-          final List<String> keyValue = Splitter.on('=').splitToList(keyValueString);\n+          final List<String> keyValue = Splitter.on('=').limit(2).splitToList(keyValueString);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7aa6fb4b7e267b99185fe332ab92f356211ed5d2"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njg0MTQxMg==", "bodyText": "added", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1518#discussion_r466841412", "createdAt": "2020-08-07T06:13:31Z", "author": {"login": "malafeev"}, "path": "exporters/otlp/src/main/java/io/opentelemetry/exporters/otlp/OtlpGrpcSpanExporter.java", "diffHunk": "@@ -291,7 +291,7 @@ protected Builder fromConfigMap(\n       String metadataValue = getStringProperty(KEY_METADATA, configMap);\n       if (metadataValue != null) {\n         for (String keyValueString : Splitter.on(';').split(metadataValue)) {\n-          final List<String> keyValue = Splitter.on('=').splitToList(keyValueString);\n+          final List<String> keyValue = Splitter.on('=').limit(2).splitToList(keyValueString);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjgzMDM3Nw=="}, "originalCommit": {"oid": "7aa6fb4b7e267b99185fe332ab92f356211ed5d2"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNjAwMzM4OnYy", "diffSide": "RIGHT", "path": "exporters/otlp/src/main/java/io/opentelemetry/exporters/otlp/OtlpGrpcSpanExporter.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwNjoxNDo0MVrOG9NwxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QwNjoyMTowNlrOG9N5XQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njg0MTc5Ng==", "bodyText": "Thanks! If you can add two more test cases, one with trimmed results and one with empty strings, that'd be great.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1518#discussion_r466841796", "createdAt": "2020-08-07T06:14:41Z", "author": {"login": "anuraaga"}, "path": "exporters/otlp/src/main/java/io/opentelemetry/exporters/otlp/OtlpGrpcSpanExporter.java", "diffHunk": "@@ -291,7 +291,8 @@ protected Builder fromConfigMap(\n       String metadataValue = getStringProperty(KEY_METADATA, configMap);\n       if (metadataValue != null) {\n         for (String keyValueString : Splitter.on(';').split(metadataValue)) {\n-          final List<String> keyValue = Splitter.on('=').splitToList(keyValueString);\n+          final List<String> keyValue = Splitter.on('=').limit(2).trimResults().omitEmptyStrings()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18076692b2da4a4f228e9a5ade0c36761190677a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njg0Mzk5Nw==", "bodyText": "added", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1518#discussion_r466843997", "createdAt": "2020-08-07T06:21:06Z", "author": {"login": "malafeev"}, "path": "exporters/otlp/src/main/java/io/opentelemetry/exporters/otlp/OtlpGrpcSpanExporter.java", "diffHunk": "@@ -291,7 +291,8 @@ protected Builder fromConfigMap(\n       String metadataValue = getStringProperty(KEY_METADATA, configMap);\n       if (metadataValue != null) {\n         for (String keyValueString : Splitter.on(';').split(metadataValue)) {\n-          final List<String> keyValue = Splitter.on('=').splitToList(keyValueString);\n+          final List<String> keyValue = Splitter.on('=').limit(2).trimResults().omitEmptyStrings()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Njg0MTc5Ng=="}, "originalCommit": {"oid": "18076692b2da4a4f228e9a5ade0c36761190677a"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1316, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}