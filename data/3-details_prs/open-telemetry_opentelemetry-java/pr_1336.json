{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM0NjcxMTI3", "number": 1336, "title": "Introduce an ReadableAttributes interface, with 2 implementations", "bodyText": "This interface is used for the export pipeline via SpanData, with 2 separate implementations, depending on the state of the attributes.", "createdAt": "2020-06-15T17:19:33Z", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1336", "merged": true, "mergeCommit": {"oid": "f1f5975d5c590c6e60ebaf7f1319b69faf3842b3"}, "closed": true, "closedAt": "2020-06-17T16:29:53Z", "author": {"login": "jkwatson"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcrnT0LAFqTQzMDk5NzU4Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcsMdYPAFqTQzMjU3MjUyMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwOTk3NTg2", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1336#pullrequestreview-430997586", "createdAt": "2020-06-15T21:12:46Z", "commit": {"oid": "7a31a9be90d2a74ecf503441623a82941ce929e1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQyMToxMjo0NlrOGkC8qQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQyMToxMjo0NlrOGkC8qQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDQ1MDIxNw==", "bodyText": "*A read-only", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1336#discussion_r440450217", "createdAt": "2020-06-15T21:12:46Z", "author": {"login": "carlosalberto"}, "path": "api/src/main/java/io/opentelemetry/common/Attributes.java", "diffHunk": "@@ -16,225 +16,28 @@\n \n package io.opentelemetry.common;\n \n-import static io.opentelemetry.common.AttributeValue.arrayAttributeValue;\n-import static io.opentelemetry.common.AttributeValue.booleanAttributeValue;\n-import static io.opentelemetry.common.AttributeValue.doubleAttributeValue;\n-import static io.opentelemetry.common.AttributeValue.longAttributeValue;\n-import static io.opentelemetry.common.AttributeValue.stringAttributeValue;\n-\n-import com.google.auto.value.AutoValue;\n-import java.util.ArrayList;\n-import java.util.List;\n-import javax.annotation.concurrent.Immutable;\n+import javax.annotation.Nullable;\n \n /**\n- * An immutable container for attributes.\n+ * An read-only container for String-keyed attributes.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a31a9be90d2a74ecf503441623a82941ce929e1"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxMTMwMTA2", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1336#pullrequestreview-431130106", "createdAt": "2020-06-16T03:12:21Z", "commit": {"oid": "8fd40667016b2427d5bfc01bd339fe5a4e79d38c"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMzoxMjoyMlrOGkJtKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQwMzoxMjoyMlrOGkJtKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDU2MDkzOA==", "bodyText": "Think we can remove this warning now. Seems too scary for what it actually is", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1336#discussion_r440560938", "createdAt": "2020-06-16T03:12:22Z", "author": {"login": "anuraaga"}, "path": "api/src/main/java/io/opentelemetry/common/ReadableAttributes.java", "diffHunk": "@@ -0,0 +1,44 @@\n+/*\n+ * Copyright 2020, OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.common;\n+\n+import javax.annotation.Nullable;\n+\n+/**\n+ * A read-only container for String-keyed attributes.\n+ *\n+ * <p>See {@link Attributes} for the public API implementation.\n+ */\n+public interface ReadableAttributes {\n+  /** The number of attributes contained in this. */\n+  int size();\n+\n+  /** Whether there are any attributes contained in this. */\n+  boolean isEmpty();\n+\n+  /** Iterates over all the key-value pairs of attributes contained by this instance. */\n+  void forEach(KeyValueConsumer<AttributeValue> consumer);\n+\n+  /**\n+   * Returns the value of the given key, or null if the key does not exist.\n+   *\n+   * <p>Warning: currently may be implemented via a linear search, depending on implementation, so", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8fd40667016b2427d5bfc01bd339fe5a4e79d38c"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxMTc0OTAw", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1336#pullrequestreview-431174900", "createdAt": "2020-06-16T05:43:11Z", "commit": {"oid": "8fd40667016b2427d5bfc01bd339fe5a4e79d38c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxNTQ0OTUz", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1336#pullrequestreview-431544953", "createdAt": "2020-06-16T14:09:15Z", "commit": {"oid": "8fd40667016b2427d5bfc01bd339fe5a4e79d38c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxNDowOToxNVrOGkdNdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxNDowOToxNVrOGkdNdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDg4MDUwMw==", "bodyText": "This should stay as AttributesTest, no?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1336#discussion_r440880503", "createdAt": "2020-06-16T14:09:15Z", "author": {"login": "carlosalberto"}, "path": "api/src/test/java/io/opentelemetry/common/ImmutableAttributesTest.java", "diffHunk": "@@ -31,7 +31,7 @@\n import org.junit.rules.ExpectedException;\n \n /** Unit tests for {@link Attributes}s. */\n-public class AttributesTest {\n+public class ImmutableAttributesTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8fd40667016b2427d5bfc01bd339fe5a4e79d38c"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxNTQ1NTI1", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1336#pullrequestreview-431545525", "createdAt": "2020-06-16T14:09:51Z", "commit": {"oid": "8fd40667016b2427d5bfc01bd339fe5a4e79d38c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxNDowOTo1MVrOGkdPDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNlQxNDowOTo1MVrOGkdPDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDg4MDkwOQ==", "bodyText": "How did this end up here? ;)", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1336#discussion_r440880909", "createdAt": "2020-06-16T14:09:51Z", "author": {"login": "carlosalberto"}, "path": "examples/metrics/src/main/java/io/opentelemetry/example/metrics/LongValueObserverExample.java", "diffHunk": "@@ -21,9 +21,9 @@ public static void main(String[] args) {\n         .build();\n \n     observer.setCallback(\n-        new LongValueObserver.Callback<LongValueObserver.ResultLongValueObserver>() {\n+        new LongValueObserver.Callback<LongResult>() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8fd40667016b2427d5bfc01bd339fe5a4e79d38c"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMxNzM3MDE3", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1336#pullrequestreview-431737017", "createdAt": "2020-06-16T17:31:58Z", "commit": {"oid": "7a1ee21bee45b3c906fba744335b52463bb6c6b4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3457747e8572f23e4f1f4d86e0b8d1fa257d66bf", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/3457747e8572f23e4f1f4d86e0b8d1fa257d66bf", "committedDate": "2020-06-17T15:02:37Z", "message": "Introduce an Attributes interface and have ImmutableAttributes and the AttributesMap implement it."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3508fce4e3aa0ab2d403d5b470968eba82d6f126", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/3508fce4e3aa0ab2d403d5b470968eba82d6f126", "committedDate": "2020-06-17T15:02:39Z", "message": "make the attribute limiting a little clearer."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "095c70f115ecce280e3918db4bbb0a64516bfd3f", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/095c70f115ecce280e3918db4bbb0a64516bfd3f", "committedDate": "2020-06-17T15:02:40Z", "message": "tiny javadoc fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4b8b2a7d04a344c911bb7c825fac553068f2add", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/f4b8b2a7d04a344c911bb7c825fac553068f2add", "committedDate": "2020-06-17T15:03:18Z", "message": "Rework to restore the Attributes class, and introduce a ReadableAttributes interface"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33480edd00998c44d2062a08215f4d62feea793c", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/33480edd00998c44d2062a08215f4d62feea793c", "committedDate": "2020-06-17T15:03:20Z", "message": "polish the javadoc a bit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "608a4566a5b5ffdff7ced0cde2a47a46c45100a5", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/608a4566a5b5ffdff7ced0cde2a47a46c45100a5", "committedDate": "2020-06-17T15:03:20Z", "message": "fix some broken javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "841238830d7e5ebb3235695cf8429da688d89d37", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/841238830d7e5ebb3235695cf8429da688d89d37", "committedDate": "2020-06-17T15:03:34Z", "message": "revert example change; revert test name change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e6b296edc4627de422b9102d8a99ed8bcdef760", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/4e6b296edc4627de422b9102d8a99ed8bcdef760", "committedDate": "2020-06-17T15:03:37Z", "message": "javadoc de-escalation"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7a1ee21bee45b3c906fba744335b52463bb6c6b4", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/7a1ee21bee45b3c906fba744335b52463bb6c6b4", "committedDate": "2020-06-16T15:09:29Z", "message": "javadoc de-escalation"}, "afterCommit": {"oid": "4e6b296edc4627de422b9102d8a99ed8bcdef760", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/4e6b296edc4627de422b9102d8a99ed8bcdef760", "committedDate": "2020-06-17T15:03:37Z", "message": "javadoc de-escalation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7894ee9b88040393e666a3b1fa2d754e0dfb6c97", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/7894ee9b88040393e666a3b1fa2d754e0dfb6c97", "committedDate": "2020-06-17T15:14:55Z", "message": "fix bad merge"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyNTcyNTIz", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1336#pullrequestreview-432572523", "createdAt": "2020-06-17T16:29:42Z", "commit": {"oid": "7894ee9b88040393e666a3b1fa2d754e0dfb6c97"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2462, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}