{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI3NzIwMzc4", "number": 2138, "title": "Convert TraceState to be an interface", "bodyText": "This also gets rid of the un-needed Entry objects.\nI wonder if we should do some renaming to prefix with W3C : W3CTraceState and W3CTraceStateBuilder.", "createdAt": "2020-11-25T22:25:58Z", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2138", "merged": true, "mergeCommit": {"oid": "036f7f14772eb4a0f2cceac84a3c4a3a70b927b2"}, "closed": true, "closedAt": "2020-12-01T16:21:37Z", "author": {"login": "jkwatson"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdgI51CgFqTUzODkzNzEwMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdhuQP5gFqTU0MTM4NTU4OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4OTM3MTAx", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2138#pullrequestreview-538937101", "createdAt": "2020-11-26T01:31:32Z", "commit": {"oid": "bac3d1b4109325b9c7ed378d1a62e9c3538c6034"}, "state": "COMMENTED", "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQwMTozMTozMlrOH6IyKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQwMTo0NTowN1rOH6I_7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDcyMzM2OQ==", "bodyText": "Move this to a package private field in ArrayBasedTraceState so it's not public", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2138#discussion_r530723369", "createdAt": "2020-11-26T01:31:32Z", "author": {"login": "anuraaga"}, "path": "api/src/main/java/io/opentelemetry/api/trace/TraceState.java", "diffHunk": "@@ -24,21 +21,40 @@\n  *\n  * <p>Value is opaque string up to 256 characters printable ASCII RFC0020 characters (i.e., the\n  * range 0x20 to 0x7E) except comma , and =.\n+ *\n+ * <p>Implementations of this interface *must* be immutable and have well-defined value-based\n+ * equals/hashCode implementations. If an implementation does not strictly conform to these\n+ * requirements, behavior of the OpenTelemetry APIs and default SDK cannot be guaranteed.\n+ *\n+ * <p>Implementations of this interface that do not conform to the W3C specification risk\n+ * incompatibility with W3C-compatible implementations.\n+ *\n+ * <p>For these reasons, it is strongly suggested that you use the implementation that is provided\n+ * here via the {@link TraceStateBuilder}.\n  */\n @Immutable\n-@AutoValue\n-public abstract class TraceState {\n-  private static final TraceState DEFAULT = TraceState.builder().build();\n+public interface TraceState {\n+\n+  TraceState DEFAULT = new TraceStateBuilder().build();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bac3d1b4109325b9c7ed378d1a62e9c3538c6034"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDcyMzUxMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              /**\n          \n          \n            \n               * Returns a {@code Builder} based on an empty {@code TraceState}.\n          \n          \n            \n               *\n          \n          \n            \n               * @return a {@code Builder} based on an empty {@code TraceState}.\n          \n          \n            \n               */\n          \n          \n            \n              /**\n          \n          \n            \n               * Returns an empty {@code TraceStateBuilder}.\n          \n          \n            \n               */", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2138#discussion_r530723511", "createdAt": "2020-11-26T01:32:05Z", "author": {"login": "anuraaga"}, "path": "api/src/main/java/io/opentelemetry/api/trace/TraceState.java", "diffHunk": "@@ -24,21 +21,40 @@\n  *\n  * <p>Value is opaque string up to 256 characters printable ASCII RFC0020 characters (i.e., the\n  * range 0x20 to 0x7E) except comma , and =.\n+ *\n+ * <p>Implementations of this interface *must* be immutable and have well-defined value-based\n+ * equals/hashCode implementations. If an implementation does not strictly conform to these\n+ * requirements, behavior of the OpenTelemetry APIs and default SDK cannot be guaranteed.\n+ *\n+ * <p>Implementations of this interface that do not conform to the W3C specification risk\n+ * incompatibility with W3C-compatible implementations.\n+ *\n+ * <p>For these reasons, it is strongly suggested that you use the implementation that is provided\n+ * here via the {@link TraceStateBuilder}.\n  */\n @Immutable\n-@AutoValue\n-public abstract class TraceState {\n-  private static final TraceState DEFAULT = TraceState.builder().build();\n+public interface TraceState {\n+\n+  TraceState DEFAULT = new TraceStateBuilder().build();\n \n   /**\n    * Returns the default {@code TraceState} with no entries.\n    *\n    * @return the default {@code TraceState}.\n    */\n-  public static TraceState getDefault() {\n+  static TraceState getDefault() {\n     return DEFAULT;\n   }\n \n+  /**\n+   * Returns a {@code Builder} based on an empty {@code TraceState}.\n+   *\n+   * @return a {@code Builder} based on an empty {@code TraceState}.\n+   */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bac3d1b4109325b9c7ed378d1a62e9c3538c6034"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDcyMzU4Nw==", "bodyText": "I pondered a bit on whether this needs to return an interface too - but since it's static guess not", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2138#discussion_r530723587", "createdAt": "2020-11-26T01:32:23Z", "author": {"login": "anuraaga"}, "path": "api/src/main/java/io/opentelemetry/api/trace/TraceState.java", "diffHunk": "@@ -24,21 +21,40 @@\n  *\n  * <p>Value is opaque string up to 256 characters printable ASCII RFC0020 characters (i.e., the\n  * range 0x20 to 0x7E) except comma , and =.\n+ *\n+ * <p>Implementations of this interface *must* be immutable and have well-defined value-based\n+ * equals/hashCode implementations. If an implementation does not strictly conform to these\n+ * requirements, behavior of the OpenTelemetry APIs and default SDK cannot be guaranteed.\n+ *\n+ * <p>Implementations of this interface that do not conform to the W3C specification risk\n+ * incompatibility with W3C-compatible implementations.\n+ *\n+ * <p>For these reasons, it is strongly suggested that you use the implementation that is provided\n+ * here via the {@link TraceStateBuilder}.\n  */\n @Immutable\n-@AutoValue\n-public abstract class TraceState {\n-  private static final TraceState DEFAULT = TraceState.builder().build();\n+public interface TraceState {\n+\n+  TraceState DEFAULT = new TraceStateBuilder().build();\n \n   /**\n    * Returns the default {@code TraceState} with no entries.\n    *\n    * @return the default {@code TraceState}.\n    */\n-  public static TraceState getDefault() {\n+  static TraceState getDefault() {\n     return DEFAULT;\n   }\n \n+  /**\n+   * Returns a {@code Builder} based on an empty {@code TraceState}.\n+   *\n+   * @return a {@code Builder} based on an empty {@code TraceState}.\n+   */\n+  static TraceStateBuilder builder() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bac3d1b4109325b9c7ed378d1a62e9c3538c6034"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDcyMzY3MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * here via the {@link TraceStateBuilder}.\n          \n          \n            \n             * here via the {@link TraceState#builder}.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2138#discussion_r530723671", "createdAt": "2020-11-26T01:32:43Z", "author": {"login": "anuraaga"}, "path": "api/src/main/java/io/opentelemetry/api/trace/TraceState.java", "diffHunk": "@@ -24,21 +21,40 @@\n  *\n  * <p>Value is opaque string up to 256 characters printable ASCII RFC0020 characters (i.e., the\n  * range 0x20 to 0x7E) except comma , and =.\n+ *\n+ * <p>Implementations of this interface *must* be immutable and have well-defined value-based\n+ * equals/hashCode implementations. If an implementation does not strictly conform to these\n+ * requirements, behavior of the OpenTelemetry APIs and default SDK cannot be guaranteed.\n+ *\n+ * <p>Implementations of this interface that do not conform to the W3C specification risk\n+ * incompatibility with W3C-compatible implementations.\n+ *\n+ * <p>For these reasons, it is strongly suggested that you use the implementation that is provided\n+ * here via the {@link TraceStateBuilder}.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bac3d1b4109325b9c7ed378d1a62e9c3538c6034"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDcyNDExOA==", "bodyText": "Thinking about your question about w3c prefix, it's a bit weird. The w3c'ness is only in this builder, not the TraceState, not sure how best to deal with that. I wonder if we should remove the validation from this class and do it in the propagator?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2138#discussion_r530724118", "createdAt": "2020-11-26T01:34:43Z", "author": {"login": "anuraaga"}, "path": "api/src/main/java/io/opentelemetry/api/trace/TraceStateBuilder.java", "diffHunk": "@@ -10,27 +10,31 @@\n import java.util.Objects;\n import javax.annotation.Nullable;\n \n-/** A builder of {@link TraceState}. */\n+/**\n+ * A builder of {@link TraceState}. This implementation does full validation of the keys and values", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bac3d1b4109325b9c7ed378d1a62e9c3538c6034"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDcyNTUzMQ==", "bodyText": "This loop has a lot of shadiness :) Relies on entries.size() being invoked on every loop iteration (true in every language, but not something people expect to matter I think), and two calls to the same entries.remove(i) ouch. Let's use ListIterator.remove instead.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2138#discussion_r530725531", "createdAt": "2020-11-26T01:39:52Z", "author": {"login": "anuraaga"}, "path": "api/src/main/java/io/opentelemetry/api/trace/TraceStateBuilder.java", "diffHunk": "@@ -50,20 +54,21 @@ public TraceStateBuilder set(String key, String value) {\n       return this;\n     }\n     // Initially create the Entry to validate input.\n-    TraceState.Entry entry = TraceState.Entry.create(key, value);\n     if (entries == null) {\n       // Copy entries from the parent.\n       entries = new ArrayList<>(parent.getEntries());\n     }\n-    for (int i = 0; i < entries.size(); i++) {\n-      if (entries.get(i).getKey().equals(entry.getKey())) {\n+    for (int i = 0; i < entries.size(); i += 2) {\n+      if (entries.get(i).equals(key)) {\n+        entries.remove(i);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bac3d1b4109325b9c7ed378d1a62e9c3538c6034"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDcyNjY0NQ==", "bodyText": "Inserting at the head of ArrayList looks like lots of overhead for the standard case of having no dupes, etc. Can we instead build up in opposite order and Collections.reverse in build? We'd need to reverse when copying from parent.getEntries() but I guess that's just a couple more lines of code.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2138#discussion_r530726645", "createdAt": "2020-11-26T01:44:08Z", "author": {"login": "anuraaga"}, "path": "api/src/main/java/io/opentelemetry/api/trace/TraceStateBuilder.java", "diffHunk": "@@ -50,20 +54,21 @@ public TraceStateBuilder set(String key, String value) {\n       return this;\n     }\n     // Initially create the Entry to validate input.\n-    TraceState.Entry entry = TraceState.Entry.create(key, value);\n     if (entries == null) {\n       // Copy entries from the parent.\n       entries = new ArrayList<>(parent.getEntries());\n     }\n-    for (int i = 0; i < entries.size(); i++) {\n-      if (entries.get(i).getKey().equals(entry.getKey())) {\n+    for (int i = 0; i < entries.size(); i += 2) {\n+      if (entries.get(i).equals(key)) {\n+        entries.remove(i);\n         entries.remove(i);\n         // Exit now because the entries list cannot contain duplicates.\n         break;\n       }\n     }\n     // Inserts the element at the front of this list.\n-    entries.add(0, entry);\n+    entries.add(0, key);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bac3d1b4109325b9c7ed378d1a62e9c3538c6034"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDcyNjY5OA==", "bodyText": "Looks like we can extract a private doRemove type of method that's used in both set and remove", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2138#discussion_r530726698", "createdAt": "2020-11-26T01:44:25Z", "author": {"login": "anuraaga"}, "path": "api/src/main/java/io/opentelemetry/api/trace/TraceStateBuilder.java", "diffHunk": "@@ -81,8 +86,9 @@ public TraceStateBuilder remove(String key) {\n       // Copy entries from the parent.\n       entries = new ArrayList<>(parent.getEntries());\n     }\n-    for (int i = 0; i < entries.size(); i++) {\n-      if (entries.get(i).getKey().equals(key)) {\n+    for (int i = 0; i < entries.size(); i += 2) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bac3d1b4109325b9c7ed378d1a62e9c3538c6034"}, "originalPosition": 69}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDcyNjg5Mw==", "bodyText": "Ok ok, let me get asMap in soon :P", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2138#discussion_r530726893", "createdAt": "2020-11-26T01:45:07Z", "author": {"login": "anuraaga"}, "path": "api/src/test/java/io/opentelemetry/api/trace/TraceStateTest.java", "diffHunk": "@@ -217,11 +217,11 @@ void addAndUpdateEntry() {\n             firstTraceState.toBuilder()\n                 .set(FIRST_KEY, SECOND_VALUE) // update the existing entry\n                 .set(SECOND_KEY, FIRST_VALUE) // add a new entry\n-                .build()\n-                .getEntries())\n-        .containsExactly(\n-            TraceState.Entry.create(SECOND_KEY, FIRST_VALUE),\n-            TraceState.Entry.create(FIRST_KEY, SECOND_VALUE));\n+                .build())\n+        .asInstanceOf(type(ArrayBasedTraceState.class))\n+        .extracting(ArrayBasedTraceState::getEntries)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bac3d1b4109325b9c7ed378d1a62e9c3538c6034"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM4OTUyODkx", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2138#pullrequestreview-538952891", "createdAt": "2020-11-26T02:26:44Z", "commit": {"oid": "34da2fd3c3a3d5ff42e45d7042159d4491fdbbd7"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQwMjoyNjo0NFrOH6Jrpg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQwMjoyNzoyM1rOH6JsSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDczODA4Ng==", "bodyText": "I think I'd leave it as is then - the builder of TraceState being TraceStateBuilder seems clearer even with the w3c caveats.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2138#discussion_r530738086", "createdAt": "2020-11-26T02:26:44Z", "author": {"login": "anuraaga"}, "path": "api/src/main/java/io/opentelemetry/api/trace/TraceStateBuilder.java", "diffHunk": "@@ -10,27 +10,31 @@\n import java.util.Objects;\n import javax.annotation.Nullable;\n \n-/** A builder of {@link TraceState}. */\n+/**\n+ * A builder of {@link TraceState}. This implementation does full validation of the keys and values", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDcyNDExOA=="}, "originalCommit": {"oid": "bac3d1b4109325b9c7ed378d1a62e9c3538c6034"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDczODI1MQ==", "bodyText": "Thought a bit more and realized the suggestion doesn't make much sense. Hmm - let's at least add comments if nothing comes to mind to clean up in this PR.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2138#discussion_r530738251", "createdAt": "2020-11-26T02:27:23Z", "author": {"login": "anuraaga"}, "path": "api/src/main/java/io/opentelemetry/api/trace/TraceStateBuilder.java", "diffHunk": "@@ -50,20 +54,21 @@ public TraceStateBuilder set(String key, String value) {\n       return this;\n     }\n     // Initially create the Entry to validate input.\n-    TraceState.Entry entry = TraceState.Entry.create(key, value);\n     if (entries == null) {\n       // Copy entries from the parent.\n       entries = new ArrayList<>(parent.getEntries());\n     }\n-    for (int i = 0; i < entries.size(); i++) {\n-      if (entries.get(i).getKey().equals(entry.getKey())) {\n+    for (int i = 0; i < entries.size(); i += 2) {\n+      if (entries.get(i).equals(key)) {\n+        entries.remove(i);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDcyNTUzMQ=="}, "originalCommit": {"oid": "bac3d1b4109325b9c7ed378d1a62e9c3538c6034"}, "originalPosition": 50}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6b084f8d1401679d1949054d5eeea345fa17986", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/e6b084f8d1401679d1949054d5eeea345fa17986", "committedDate": "2020-11-30T20:42:35Z", "message": "convert TraceState to an interface"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3477bb322b0759d2223b4818f1f8572f418e7d65", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/3477bb322b0759d2223b4818f1f8572f418e7d65", "committedDate": "2020-11-30T20:42:35Z", "message": "don't expose the impl"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df182a80bbf84a3bab8802a6bd295a09e3df63c3", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/df182a80bbf84a3bab8802a6bd295a09e3df63c3", "committedDate": "2020-11-30T20:42:35Z", "message": "Remove the un-needed TraceState Entry objects."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b209649657de3600b2fc496daa45e01d9f57dd7f", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/b209649657de3600b2fc496daa45e01d9f57dd7f", "committedDate": "2020-11-30T20:42:35Z", "message": "Add additional javadoc documenting requirements for interface implementors."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4d07f7c651c72fdddbba3c6f9f0f10059a1c155c", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/4d07f7c651c72fdddbba3c6f9f0f10059a1c155c", "committedDate": "2020-11-30T20:42:35Z", "message": "make the implementation non-public"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a53cda2d52a5ae5fe67908b8e851412263344190", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/a53cda2d52a5ae5fe67908b8e851412263344190", "committedDate": "2020-11-30T20:42:35Z", "message": "remove un-needed test docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "be8e3896d5a74705fd3ab6358036c40a5b511cb8", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/be8e3896d5a74705fd3ab6358036c40a5b511cb8", "committedDate": "2020-11-30T20:42:35Z", "message": "Update api/src/main/java/io/opentelemetry/api/trace/TraceState.java\n\nCo-authored-by: Anuraag Agrawal <anuraaga@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "25eed34a4ceccb0ed960af5a287b2a96bdce990d", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/25eed34a4ceccb0ed960af5a287b2a96bdce990d", "committedDate": "2020-11-30T20:42:35Z", "message": "Update api/src/main/java/io/opentelemetry/api/trace/TraceState.java\n\nCo-authored-by: Anuraag Agrawal <anuraaga@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd996376fd66c081df0317bfd441fb650a1605ae", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/dd996376fd66c081df0317bfd441fb650a1605ae", "committedDate": "2020-11-30T20:42:35Z", "message": "formatting fix"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b58a5cad6423602f795f662316e3e71e0338d219", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/b58a5cad6423602f795f662316e3e71e0338d219", "committedDate": "2020-11-30T16:13:51Z", "message": "formatting fix"}, "afterCommit": {"oid": "dd996376fd66c081df0317bfd441fb650a1605ae", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/dd996376fd66c081df0317bfd441fb650a1605ae", "committedDate": "2020-11-30T20:42:35Z", "message": "formatting fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4a00c6cfc33882c258ef969313e45a5a067a9e0", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/f4a00c6cfc33882c258ef969313e45a5a067a9e0", "committedDate": "2020-11-30T21:14:49Z", "message": "Convert the TraceStateBuilder into an interface."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98108e6d17f8084ed408cabb25f4de506bb4d671", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/98108e6d17f8084ed408cabb25f4de506bb4d671", "committedDate": "2020-11-30T21:40:35Z", "message": "Introduce an intermediate class to get around classloading cycles."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f86f96444c6a9bb2203c05b3f77bf9f3539145d1", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/f86f96444c6a9bb2203c05b3f77bf9f3539145d1", "committedDate": "2020-11-30T22:07:46Z", "message": "extract a method to remove an entry from the builder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e457116728b0b0cce0963d6aacb8a8c11625fca6", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/e457116728b0b0cce0963d6aacb8a8c11625fca6", "committedDate": "2020-11-30T22:15:19Z", "message": "add a comment about the possible inefficiency in the implementation"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxMzg1NTg4", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2138#pullrequestreview-541385588", "createdAt": "2020-11-30T23:50:07Z", "commit": {"oid": "e457116728b0b0cce0963d6aacb8a8c11625fca6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3778, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}