{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyMzUwNTk4", "number": 751, "title": "Clean up the external interface for the RecordEventsReadableSpan", "bodyText": "This is intended to resolve #719 .\nNote: there were a few used-only-in-testing attributes on the RERS. I removed them, since they were never used anywhere in the system aside from tests. If we end up needing them in the future, we can add them back.", "createdAt": "2020-01-13T22:21:53Z", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/751", "merged": true, "mergeCommit": {"oid": "5517dcb55da9dcea5e17b692473d6e28875495a4"}, "closed": true, "closedAt": "2020-01-14T22:20:09Z", "author": {"login": "jkwatson"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6D23ngH2gAyMzYyMzUwNTk4OjgwODM4MDQzMDczMWM4NDJjODEwMWY0OWUxOGY2MTZkNDAxZGZhYjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb6YkalAFqTM0Mjg3Nzc4Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "808380430731c842c8101f49e18f616d401dfab4", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/808380430731c842c8101f49e18f616d401dfab4", "committedDate": "2020-01-13T22:12:11Z", "message": "WIP on cleaning up the testing-only accessors."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "759a3d2f0a440d67624c0d7317808b9bceb945d0", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/759a3d2f0a440d67624c0d7317808b9bceb945d0", "committedDate": "2020-01-13T22:12:11Z", "message": "more WIP on cleanup of the RERSpan"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyMjUzOTQ4", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/751#pullrequestreview-342253948", "createdAt": "2020-01-14T02:03:58Z", "commit": {"oid": "759a3d2f0a440d67624c0d7317808b9bceb945d0"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwMjowNDo0NVrOFdKS-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQwMjowNzo0MVrOFdKVgQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjEyMTcyMw==", "bodyText": "This should be used in the SpanData.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/751#discussion_r366121723", "createdAt": "2020-01-14T02:04:45Z", "author": {"login": "bogdandrutu"}, "path": "sdk/src/main/java/io/opentelemetry/sdk/trace/RecordEventsReadableSpan.java", "diffHunk": "@@ -59,8 +58,6 @@\n   // The displayed name of the span.\n   // List of recorded links to parent and child spans.\n   private final List<Link> links;\n-  // Number of links recorded.\n-  private final int totalRecordedLinks;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "759a3d2f0a440d67624c0d7317808b9bceb945d0"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjEyMjEyNw==", "bodyText": "This should be used in the SpanData see https://github.com/open-telemetry/opentelemetry-proto/blob/master/opentelemetry/proto/trace/v1/trace.proto#L35 for where in the SpanData is used.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/751#discussion_r366122127", "createdAt": "2020-01-14T02:06:47Z", "author": {"login": "bogdandrutu"}, "path": "sdk/src/main/java/io/opentelemetry/sdk/trace/RecordEventsReadableSpan.java", "diffHunk": "@@ -83,12 +80,6 @@\n   // List of recorded events.\n   @GuardedBy(\"lock\")\n   private final EvictingQueue<TimedEvent> events;\n-  // Number of events recorded.\n-  @GuardedBy(\"lock\")\n-  private int totalRecordedEvents = 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "759a3d2f0a440d67624c0d7317808b9bceb945d0"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjEyMjM2OQ==", "bodyText": "We should use this if we don't already.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/751#discussion_r366122369", "createdAt": "2020-01-14T02:07:41Z", "author": {"login": "bogdandrutu"}, "path": "sdk/src/main/java/io/opentelemetry/sdk/trace/RecordEventsReadableSpan.java", "diffHunk": "@@ -83,12 +80,6 @@\n   // List of recorded events.\n   @GuardedBy(\"lock\")\n   private final EvictingQueue<TimedEvent> events;\n-  // Number of events recorded.\n-  @GuardedBy(\"lock\")\n-  private int totalRecordedEvents = 0;\n-  // The number of children.\n-  @GuardedBy(\"lock\")\n-  private int numberOfChildren;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "759a3d2f0a440d67624c0d7317808b9bceb945d0"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac5c95f406e49b2344469450fae706a7d6c53da1", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/ac5c95f406e49b2344469450fae706a7d6c53da1", "committedDate": "2020-01-14T21:52:05Z", "message": "re-add the 3 attributes and put them onto the SpanData"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1857c61d7b1de1990a6232ab4c519c70afd4afab", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/1857c61d7b1de1990a6232ab4c519c70afd4afab", "committedDate": "2020-01-14T21:54:22Z", "message": "reformat"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyODY0ODE3", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/751#pullrequestreview-342864817", "createdAt": "2020-01-14T21:55:10Z", "commit": {"oid": "ac5c95f406e49b2344469450fae706a7d6c53da1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQyMTo1NToxMFrOFdnD4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQyMTo1NToxMFrOFdnD4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjU5Mjk5Mw==", "bodyText": "Why do we remove these tests?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/751#discussion_r366592993", "createdAt": "2020-01-14T21:55:10Z", "author": {"login": "bogdandrutu"}, "path": "sdk/src/test/java/io/opentelemetry/sdk/trace/SpanBuilderSdkTest.java", "diffHunk": "@@ -420,40 +420,12 @@ public void parent_invalidContext() {\n             tracerSdk.spanBuilder(SPAN_NAME).setParent(parent.getContext()).startSpan();\n     try {\n       assertThat(span.getContext().getTraceId()).isNotEqualTo(parent.getContext().getTraceId());\n-      assertFalse(span.getParentSpanId().isValid());\n+      assertFalse(span.toSpanData().getParentSpanId().isValid());\n     } finally {\n       span.end();\n     }\n   }\n \n-  @Test\n-  public void parent_timestampConverter() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac5c95f406e49b2344469450fae706a7d6c53da1"}, "originalPosition": 89}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd69dc2eff3e488aa0022b63f98570ca8bd1e3c5", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/cd69dc2eff3e488aa0022b63f98570ca8bd1e3c5", "committedDate": "2020-01-14T22:11:57Z", "message": "re-add and clean up the clock inheritance tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQyODc3Nzgy", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/751#pullrequestreview-342877782", "createdAt": "2020-01-14T22:20:02Z", "commit": {"oid": "cd69dc2eff3e488aa0022b63f98570ca8bd1e3c5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3442, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}