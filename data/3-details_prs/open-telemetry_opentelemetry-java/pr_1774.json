{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwMDI0NTY3", "number": 1774, "title": "Serialize the entire trace flags not only the sample bit", "bodyText": "Signed-off-by: Bogdan Drutu bogdandrutu@gmail.com", "createdAt": "2020-10-08T15:53:13Z", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1774", "merged": true, "mergeCommit": {"oid": "185d10e3958e91c69db392f2463c291788df263b"}, "closed": true, "closedAt": "2020-10-23T04:33:42Z", "author": {"login": "bogdandrutu"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQkx78gFqTUwNDk5NDU1OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdVO7wRgFqTUxNTI3OTE5OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0OTk0NTU4", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1774#pullrequestreview-504994558", "createdAt": "2020-10-08T17:11:09Z", "commit": {"oid": "55d34103fa71cd6f67e7548713da7a7091cc09a1"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "55d34103fa71cd6f67e7548713da7a7091cc09a1", "author": {"user": {"login": "bogdandrutu", "name": "Bogdan Drutu"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/55d34103fa71cd6f67e7548713da7a7091cc09a1", "committedDate": "2020-10-08T15:52:42Z", "message": "Serialize the entire trace flags not only the sample bit\n\nSigned-off-by: Bogdan Drutu <bogdandrutu@gmail.com>"}, "afterCommit": {"oid": "237b9e18e9a32976b61a38dfbb0af16fb1926a6a", "author": {"user": {"login": "bogdandrutu", "name": "Bogdan Drutu"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/237b9e18e9a32976b61a38dfbb0af16fb1926a6a", "committedDate": "2020-10-22T15:41:14Z", "message": "Add test for more than just sampling bit in the context\n\nSigned-off-by: Bogdan Drutu <bogdandrutu@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b39744b76ce8e906d6752f3c1043276087ee120", "author": {"user": {"login": "bogdandrutu", "name": "Bogdan Drutu"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/8b39744b76ce8e906d6752f3c1043276087ee120", "committedDate": "2020-10-22T15:42:14Z", "message": "Serialize the entire trace flags not only the sample bit\n\nSigned-off-by: Bogdan Drutu <bogdandrutu@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "755c644a4c38b8e3c3b2ac8a78f2a07c8861b2d0", "author": {"user": {"login": "bogdandrutu", "name": "Bogdan Drutu"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/755c644a4c38b8e3c3b2ac8a78f2a07c8861b2d0", "committedDate": "2020-10-22T15:42:57Z", "message": "Add test for more than just sampling bit in the context\n\nSigned-off-by: Bogdan Drutu <bogdandrutu@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "237b9e18e9a32976b61a38dfbb0af16fb1926a6a", "author": {"user": {"login": "bogdandrutu", "name": "Bogdan Drutu"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/237b9e18e9a32976b61a38dfbb0af16fb1926a6a", "committedDate": "2020-10-22T15:41:14Z", "message": "Add test for more than just sampling bit in the context\n\nSigned-off-by: Bogdan Drutu <bogdandrutu@gmail.com>"}, "afterCommit": {"oid": "755c644a4c38b8e3c3b2ac8a78f2a07c8861b2d0", "author": {"user": {"login": "bogdandrutu", "name": "Bogdan Drutu"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/755c644a4c38b8e3c3b2ac8a78f2a07c8861b2d0", "committedDate": "2020-10-22T15:42:57Z", "message": "Add test for more than just sampling bit in the context\n\nSigned-off-by: Bogdan Drutu <bogdandrutu@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0OTI4NDI4", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1774#pullrequestreview-514928428", "createdAt": "2020-10-22T16:48:25Z", "commit": {"oid": "755c644a4c38b8e3c3b2ac8a78f2a07c8861b2d0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNjo0ODoyNVrOHmq76A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQxNjo0ODoyNVrOHmq76A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDMxMTQwMA==", "bodyText": "tiny spelling nit: this should be ingestCarrier injectCarrier.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1774#discussion_r510311400", "createdAt": "2020-10-22T16:48:25Z", "author": {"login": "jkwatson"}, "path": "api/src/test/java/io/opentelemetry/trace/propagation/HttpTraceContextTest.java", "diffHunk": "@@ -177,6 +177,17 @@ void extract_NullCarrier() {\n                 TRACE_ID_BASE16, SPAN_ID_BASE16, SAMPLED_TRACE_OPTIONS, TRACE_STATE_DEFAULT));\n   }\n \n+  @Test\n+  void extractAndInject_MoreFlags() {\n+    String traceParent = \"00-\" + TRACE_ID_BASE16 + \"-\" + SPAN_ID_BASE16 + \"-03\";\n+    Map<String, String> extractCarrier = new LinkedHashMap<>();\n+    extractCarrier.put(TRACE_PARENT, traceParent);\n+    Context context = httpTraceContext.extract(Context.current(), extractCarrier, getter);\n+    Map<String, String> injestCarrier = new LinkedHashMap<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "755c644a4c38b8e3c3b2ac8a78f2a07c8861b2d0"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0OTI5NjIw", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1774#pullrequestreview-514929620", "createdAt": "2020-10-22T16:49:49Z", "commit": {"oid": "755c644a4c38b8e3c3b2ac8a78f2a07c8861b2d0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE0OTUzNzgx", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1774#pullrequestreview-514953781", "createdAt": "2020-10-22T17:19:07Z", "commit": {"oid": "755c644a4c38b8e3c3b2ac8a78f2a07c8861b2d0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1MjY0MDY5", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1774#pullrequestreview-515264069", "createdAt": "2020-10-23T04:15:29Z", "commit": {"oid": "755c644a4c38b8e3c3b2ac8a78f2a07c8861b2d0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwNDoxNToyOVrOHm7jhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QwNDoxNToyOVrOHm7jhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDU4MzY4NQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                Map<String, String> injestCarrier = new LinkedHashMap<>();\n          \n          \n            \n                httpTraceContext.inject(context, injestCarrier, setter);\n          \n          \n            \n                assertThat(extractCarrier).isEqualTo(injestCarrier);\n          \n          \n            \n                Map<String, String> injectCarrier = new LinkedHashMap<>();\n          \n          \n            \n                httpTraceContext.inject(context, injectCarrier, setter);\n          \n          \n            \n                assertThat(extractCarrier).isEqualTo(injectCarrier);", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1774#discussion_r510583685", "createdAt": "2020-10-23T04:15:29Z", "author": {"login": "anuraaga"}, "path": "api/src/test/java/io/opentelemetry/trace/propagation/HttpTraceContextTest.java", "diffHunk": "@@ -177,6 +177,17 @@ void extract_NullCarrier() {\n                 TRACE_ID_BASE16, SPAN_ID_BASE16, SAMPLED_TRACE_OPTIONS, TRACE_STATE_DEFAULT));\n   }\n \n+  @Test\n+  void extractAndInject_MoreFlags() {\n+    String traceParent = \"00-\" + TRACE_ID_BASE16 + \"-\" + SPAN_ID_BASE16 + \"-03\";\n+    Map<String, String> extractCarrier = new LinkedHashMap<>();\n+    extractCarrier.put(TRACE_PARENT, traceParent);\n+    Context context = httpTraceContext.extract(Context.current(), extractCarrier, getter);\n+    Map<String, String> injestCarrier = new LinkedHashMap<>();\n+    httpTraceContext.inject(context, injestCarrier, setter);\n+    assertThat(extractCarrier).isEqualTo(injestCarrier);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "755c644a4c38b8e3c3b2ac8a78f2a07c8861b2d0"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84bfc5146aabb60b6fc03701b79a4c50030f6733", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/84bfc5146aabb60b6fc03701b79a4c50030f6733", "committedDate": "2020-10-23T04:15:44Z", "message": "Update api/src/test/java/io/opentelemetry/trace/propagation/HttpTraceContextTest.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE1Mjc5MTk4", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1774#pullrequestreview-515279198", "createdAt": "2020-10-23T04:33:35Z", "commit": {"oid": "84bfc5146aabb60b6fc03701b79a4c50030f6733"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2241, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}