{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg4MTgxNzE0", "number": 1656, "title": "Reverse the precedence on Labels and Attributes to prefer the last one added, rather than the first.", "bodyText": "resolves #1642\nNote: this necessitated changing the way Resources were merged, and the way recordException was implemented.\nAlso, this adds an addAll method to the Attributes.Builder to support efficient addition of attributes from existing attributes.", "createdAt": "2020-09-16T18:51:44Z", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1656", "merged": true, "mergeCommit": {"oid": "4f613da552306e207ecbf0cda5918254fce6ee16"}, "closed": true, "closedAt": "2020-09-21T22:58:04Z", "author": {"login": "jkwatson"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdJpHJWAFqTQ5MDIzMDI4Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLLPZ3gBqjM3OTA4MzYwMzE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMjMwMjg2", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1656#pullrequestreview-490230286", "createdAt": "2020-09-17T04:14:11Z", "commit": {"oid": "8b7f923fbf7eb060386ebed705cfc99f276275fa"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwNDoxNDoxMVrOHTQpPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwNDoxNjoxOFrOHTQuaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTk1NzY5NA==", "bodyText": "You're the metric expert :) But at a glance it seems like order is supposed to matter here?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1656#discussion_r489957694", "createdAt": "2020-09-17T04:14:11Z", "author": {"login": "anuraaga"}, "path": "exporters/otlp/src/test/java/io/opentelemetry/exporters/otlp/MetricAdapterTest.java", "diffHunk": "@@ -52,7 +52,7 @@ void toProtoLabels() {\n     assertThat(MetricAdapter.toProtoLabels(Labels.of(\"k\", \"v\")))\n         .containsExactly(StringKeyValue.newBuilder().setKey(\"k\").setValue(\"v\").build());\n     assertThat(MetricAdapter.toProtoLabels(Labels.of(\"k1\", \"v1\", \"k2\", \"v2\")))\n-        .containsExactly(\n+        .containsExactlyInAnyOrder(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b7f923fbf7eb060386ebed705cfc99f276275fa"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTk1OTAxNg==", "bodyText": "Not a big deal, but surprised by the change since looks like only one link :)", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1656#discussion_r489959016", "createdAt": "2020-09-17T04:16:18Z", "author": {"login": "anuraaga"}, "path": "sdk/tracing/src/test/java/io/opentelemetry/sdk/trace/SpanBuilderSdkTest.java", "diffHunk": "@@ -139,7 +139,7 @@ void truncateLinkAttributes() {\n     RecordEventsReadableSpan span = (RecordEventsReadableSpan) spanBuilder.startSpan();\n     try {\n       assertThat(span.toSpanData().getLinks())\n-          .containsExactly(\n+          .containsExactlyInAnyOrder(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8b7f923fbf7eb060386ebed705cfc99f276275fa"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwNDk5NDg0", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1656#pullrequestreview-490499484", "createdAt": "2020-09-17T11:34:11Z", "commit": {"oid": "8b7f923fbf7eb060386ebed705cfc99f276275fa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "90d274ce63f422a8de71d3d108cd4a2b8126b649", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/90d274ce63f422a8de71d3d108cd4a2b8126b649", "committedDate": "2020-09-17T14:56:47Z", "message": "revert 2 unneeded assertion changes"}, "afterCommit": {"oid": "79b310335724afb4d986bdd8b2dc451626839ea6", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/79b310335724afb4d986bdd8b2dc451626839ea6", "committedDate": "2020-09-17T15:00:29Z", "message": "revert 2 unneeded assertion changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33d9ed24fd4bc51a8268b44e23a3ee5f4d449e53", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/33d9ed24fd4bc51a8268b44e23a3ee5f4d449e53", "committedDate": "2020-09-21T22:18:32Z", "message": "Reverse the precedence on Labels and Attributes to prefer the last one added, rather than the first.\n\nNote: this necessitated changing the way Resources were merged, and the way recordException was implemented.\nAdded an addAll method to the builder to support efficiently addition of attributes from existing attributes."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29591b69fd4746b6923055051e11c212a90fe017", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/29591b69fd4746b6923055051e11c212a90fe017", "committedDate": "2020-09-21T22:18:35Z", "message": "run the formatter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c3856658986c9ebcd76a5bba4979ff75dfedc67b", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/c3856658986c9ebcd76a5bba4979ff75dfedc67b", "committedDate": "2020-09-21T22:18:41Z", "message": "revert 2 unneeded assertion changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83d457ec4720a782148ebbba962be3976e0d95f3", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/83d457ec4720a782148ebbba962be3976e0d95f3", "committedDate": "2020-09-21T22:35:58Z", "message": "Update from rebase"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "79b310335724afb4d986bdd8b2dc451626839ea6", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/79b310335724afb4d986bdd8b2dc451626839ea6", "committedDate": "2020-09-17T15:00:29Z", "message": "revert 2 unneeded assertion changes"}, "afterCommit": {"oid": "83d457ec4720a782148ebbba962be3976e0d95f3", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/83d457ec4720a782148ebbba962be3976e0d95f3", "committedDate": "2020-09-21T22:35:58Z", "message": "Update from rebase"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3435, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}