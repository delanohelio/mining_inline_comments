{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyMzgyMzk2", "number": 753, "title": "Optimize SpanBuilderSdk link memory", "bodyText": "resolves #709", "createdAt": "2020-01-14T00:08:01Z", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/753", "merged": true, "mergeCommit": {"oid": "564a3234da0450a95cc93e5460cc4dab496dca91"}, "closed": true, "closedAt": "2020-01-17T23:15:15Z", "author": {"login": "jkwatson"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6YlkzAH2gAyMzYyMzgyMzk2OmQ2ZjM0ODdkYzM3MzY1ODVjNjVjZGZmMjA1MmJiODQzMWVhYTEyMmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb7XJ8GAFqTM0NDg4OTkyMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d6f3487dc3736585c65cdff2052bb8431eaa122a", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/d6f3487dc3736585c65cdff2052bb8431eaa122a", "committedDate": "2020-01-14T22:21:18Z", "message": "ignore links beyond the limit, rather than waiting until the end to truncate on span creation."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf86f36641954ea6c3aaf7626e914f9b8e4b2929", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/cf86f36641954ea6c3aaf7626e914f9b8e4b2929", "committedDate": "2020-01-14T22:49:38Z", "message": "update for changes from upstream"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "098a2fd462200af9c2ad8d204125200de6cb07a0", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/098a2fd462200af9c2ad8d204125200de6cb07a0", "committedDate": "2020-01-14T00:06:37Z", "message": "remove the counter for total recorded links"}, "afterCommit": {"oid": "cf86f36641954ea6c3aaf7626e914f9b8e4b2929", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/cf86f36641954ea6c3aaf7626e914f9b8e4b2929", "committedDate": "2020-01-14T22:49:38Z", "message": "update for changes from upstream"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0MDMxOTU3", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/753#pullrequestreview-344031957", "createdAt": "2020-01-16T16:10:27Z", "commit": {"oid": "cf86f36641954ea6c3aaf7626e914f9b8e4b2929"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxNjoxMDoyN1rOFee85g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxNjoxMToxMVrOFee-rQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUwODcxMA==", "bodyText": "It is better to drop the earliest in general.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/753#discussion_r367508710", "createdAt": "2020-01-16T16:10:27Z", "author": {"login": "bogdandrutu"}, "path": "sdk/src/main/java/io/opentelemetry/sdk/trace/SpanBuilderSdk.java", "diffHunk": "@@ -127,10 +128,18 @@\n   @Override\n   public Span.Builder addLink(Link link) {\n     Utils.checkNotNull(link, \"link\");\n+    totalNumberOfLinksAdded++;\n+    // don't bother doing anything with any links beyond the max.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cf86f36641954ea6c3aaf7626e914f9b8e4b2929"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUwOTE2NQ==", "bodyText": "I think this makes more sense to be an issue for all dropped things (attributes, links, events).", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/753#discussion_r367509165", "createdAt": "2020-01-16T16:11:11Z", "author": {"login": "bogdandrutu"}, "path": "sdk/src/main/java/io/opentelemetry/sdk/trace/SpanBuilderSdk.java", "diffHunk": "@@ -127,10 +128,18 @@\n   @Override\n   public Span.Builder addLink(Link link) {\n     Utils.checkNotNull(link, \"link\");\n+    totalNumberOfLinksAdded++;\n+    // don't bother doing anything with any links beyond the max.\n+    // todo: generate a metric for dropped links", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cf86f36641954ea6c3aaf7626e914f9b8e4b2929"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0MDg5NTA3", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/753#pullrequestreview-344089507", "createdAt": "2020-01-16T17:30:07Z", "commit": {"oid": "cf86f36641954ea6c3aaf7626e914f9b8e4b2929"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxNzozMDowN1rOFehqdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNlQxNzozMDowN1rOFehqdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzU1MzE0MA==", "bodyText": "so suggestion is to remove the todo and create an issue to discuss and make a decision on what to do with the dropped things.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/753#discussion_r367553140", "createdAt": "2020-01-16T17:30:07Z", "author": {"login": "bogdandrutu"}, "path": "sdk/src/main/java/io/opentelemetry/sdk/trace/SpanBuilderSdk.java", "diffHunk": "@@ -127,10 +128,18 @@\n   @Override\n   public Span.Builder addLink(Link link) {\n     Utils.checkNotNull(link, \"link\");\n+    totalNumberOfLinksAdded++;\n+    // don't bother doing anything with any links beyond the max.\n+    // todo: generate a metric for dropped links", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzUwOTE2NQ=="}, "originalCommit": {"oid": "cf86f36641954ea6c3aaf7626e914f9b8e4b2929"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f208b80ade5ffbb855160b6221cbb78a3c3f54c", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/5f208b80ade5ffbb855160b6221cbb78a3c3f54c", "committedDate": "2020-01-17T15:38:54Z", "message": "remove the todo; replaced with https://github.com/open-telemetry/opentelemetry-java/issues/766"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0ODg5OTIw", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/753#pullrequestreview-344889920", "createdAt": "2020-01-17T23:15:08Z", "commit": {"oid": "5f208b80ade5ffbb855160b6221cbb78a3c3f54c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3444, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}