{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0NDQyOTM4", "number": 1044, "title": "Update release instructions.", "bodyText": "Signed-off-by: Bogdan Drutu bogdandrutu@gmail.com", "createdAt": "2020-03-26T21:53:01Z", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1044", "merged": true, "mergeCommit": {"oid": "0111714ca7307ff1c8f7cd16d2299d98b7fcbfaf"}, "closed": true, "closedAt": "2020-03-27T00:18:40Z", "author": {"login": "bogdandrutu"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRjTiqgH2gAyMzk0NDQyOTM4OmMxZjZlOWY5ZDExNzIxMTQxNTExNWY5MzI0NTg5M2I0YjMzMzVkNzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRlAOuAFqTM4MjQ5NjAwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c1f6e9f9d117211415115f93245893b4b3335d75", "author": {"user": {"login": "bogdandrutu", "name": "Bogdan Drutu"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/c1f6e9f9d117211415115f93245893b4b3335d75", "committedDate": "2020-03-26T21:50:49Z", "message": "Update release instructions.\n\nSigned-off-by: Bogdan Drutu <bogdandrutu@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNDk0MDUw", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1044#pullrequestreview-382494050", "createdAt": "2020-03-26T23:43:45Z", "commit": {"oid": "c1f6e9f9d117211415115f93245893b4b3335d75"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMzo0Mzo0NlrOF8eXpg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMzo0Mzo0NlrOF8eXpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk1NjQ1NA==", "bodyText": "This sounds great to me, and it sounds we might use the same pattern on other languages, btw (as a recommendation, and if it applies, of course).", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1044#discussion_r398956454", "createdAt": "2020-03-26T23:43:46Z", "author": {"login": "carlosalberto"}, "path": "RELEASING.md", "diffHunk": "@@ -0,0 +1,148 @@\n+# OpenTelemetry Release Process\n+\n+## Tagging the Release\n+\n+The first step in the release process is to create a release branch, bump versions, and create a tag\n+for the release. Our release branches follow the naming convention of v<major>.<minor>.x, while the\n+tags include the patch version v<major>.<minor>.<patch>. For example, the same branch v0.3.x would\n+be used to create all v0.3.* tags (e.g. v0.3.0, v0.3.1).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1f6e9f9d117211415115f93245893b4b3335d75"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNDk1NDk4", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1044#pullrequestreview-382495498", "createdAt": "2020-03-26T23:48:03Z", "commit": {"oid": "c1f6e9f9d117211415115f93245893b4b3335d75"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMzo0ODowM1rOF8ec4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMzo0ODowM1rOF8ec4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk1Nzc5Mw==", "bodyText": "I still think we should have the version change more automated (without the deployment part). In Maven there's a plugin to update all artifact versions, which doesn't seem to be the case for Gradle (that I know). Should we create an issue for this?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1044#discussion_r398957793", "createdAt": "2020-03-26T23:48:03Z", "author": {"login": "carlosalberto"}, "path": "RELEASING.md", "diffHunk": "@@ -0,0 +1,148 @@\n+# OpenTelemetry Release Process\n+\n+## Tagging the Release\n+\n+The first step in the release process is to create a release branch, bump versions, and create a tag\n+for the release. Our release branches follow the naming convention of v<major>.<minor>.x, while the\n+tags include the patch version v<major>.<minor>.<patch>. For example, the same branch v0.3.x would\n+be used to create all v0.3.* tags (e.g. v0.3.0, v0.3.1).\n+\n+In this section upstream repository refers to the main opentelemetry-java github repository.\n+\n+Before any push to the upstream repository you need to create a\n+[personal access token](https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line).\n+\n+1.  Create the release branch and push it to GitHub:\n+\n+    ```bash\n+    $ MAJOR=0 MINOR=4 PATCH=0 # Set appropriately for new release\n+    $ VERSION_FILES=(\n+      build.gradle\n+      )\n+    $ git checkout -b v$MAJOR.$MINOR.x master\n+    $ git push upstream v$MAJOR.$MINOR.x\n+    ```\n+    The branch will be automatically protected by the GitHub branch protection rule for release\n+    branches.\n+\n+2.  For `master` branch:\n+\n+    -   Change root build files to the next minor snapshot (e.g.\n+        `0.4.0-SNAPSHOT`).\n+\n+    ```bash\n+    $ git checkout -b bump-version master\n+    # Change version to next minor (and keep -SNAPSHOT)\n+    $ sed -i 's/[0-9]\\+\\.[0-9]\\+\\.[0-9]\\+\\(.*CURRENT_OPEN_TELEMETRY_VERSION\\)/'$MAJOR.$((MINOR+1)).0'\\1/' \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1f6e9f9d117211415115f93245893b4b3335d75"}, "originalPosition": 36}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNDk1Njgw", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1044#pullrequestreview-382495680", "createdAt": "2020-03-26T23:48:33Z", "commit": {"oid": "c1f6e9f9d117211415115f93245893b4b3335d75"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMzo0ODozM1rOF8ediw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMzo0ODozM1rOF8ediw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk1Nzk2Mw==", "bodyText": "+1", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1044#discussion_r398957963", "createdAt": "2020-03-26T23:48:33Z", "author": {"login": "carlosalberto"}, "path": "RELEASING.md", "diffHunk": "@@ -0,0 +1,148 @@\n+# OpenTelemetry Release Process\n+\n+## Tagging the Release\n+\n+The first step in the release process is to create a release branch, bump versions, and create a tag\n+for the release. Our release branches follow the naming convention of v<major>.<minor>.x, while the\n+tags include the patch version v<major>.<minor>.<patch>. For example, the same branch v0.3.x would\n+be used to create all v0.3.* tags (e.g. v0.3.0, v0.3.1).\n+\n+In this section upstream repository refers to the main opentelemetry-java github repository.\n+\n+Before any push to the upstream repository you need to create a\n+[personal access token](https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line).\n+\n+1.  Create the release branch and push it to GitHub:\n+\n+    ```bash\n+    $ MAJOR=0 MINOR=4 PATCH=0 # Set appropriately for new release\n+    $ VERSION_FILES=(\n+      build.gradle\n+      )\n+    $ git checkout -b v$MAJOR.$MINOR.x master\n+    $ git push upstream v$MAJOR.$MINOR.x\n+    ```\n+    The branch will be automatically protected by the GitHub branch protection rule for release\n+    branches.\n+\n+2.  For `master` branch:\n+\n+    -   Change root build files to the next minor snapshot (e.g.\n+        `0.4.0-SNAPSHOT`).\n+\n+    ```bash\n+    $ git checkout -b bump-version master\n+    # Change version to next minor (and keep -SNAPSHOT)\n+    $ sed -i 's/[0-9]\\+\\.[0-9]\\+\\.[0-9]\\+\\(.*CURRENT_OPEN_TELEMETRY_VERSION\\)/'$MAJOR.$((MINOR+1)).0'\\1/' \\\n+      \"${VERSION_FILES[@]}\"\n+    $ ./gradlew build\n+    $ git commit -a -m \"Start $MAJOR.$((MINOR+1)).0 development cycle\"\n+    ```\n+\n+    -   Go through PR review and push the master branch to GitHub.\n+       \n+3.  For `vMajor.Minor.x` branch:\n+\n+    -   Change root build files to remove \"-SNAPSHOT\" for the next release\n+        version (e.g. `0.3.0`). Commit the result and make a tag:\n+\n+    ```bash\n+    $ git checkout -b release v$MAJOR.$MINOR.x\n+    # Change version to remove -SNAPSHOT\n+    $ sed -i 's/-SNAPSHOT\\(.*CURRENT_OPEN_TELEMETRY_VERSION\\)/\\1/' \"${VERSION_FILES[@]}\"\n+    $ ./gradlew build\n+    $ git commit -a -m \"Bump version to $MAJOR.$MINOR.$PATCH\"\n+    $ git tag -a v$MAJOR.$MINOR.$PATCH -m \"Version $MAJOR.$MINOR.$PATCH\"\n+    ```\n+\n+    -   Change root build files to the next snapshot version (e.g.\n+        `0.3.1-SNAPSHOT`). Commit the result:\n+\n+    ```bash\n+    # Change version to next patch and add -SNAPSHOT\n+    $ sed -i 's/[0-9]\\+\\.[0-9]\\+\\.[0-9]\\+\\(.*CURRENT_OPEN_TELEMETRY_VERSION\\)/'$MAJOR.$MINOR.$((PATCH+1))-SNAPSHOT'\\1/' \\\n+     \"${VERSION_FILES[@]}\"\n+    $ ./gradlew build\n+    $ git commit -a -m \"Bump version to $MAJOR.$MINOR.$((PATCH+1))-SNAPSHOT\"\n+    ```\n+\n+    -   Go through PR review and push the release tag and updated release branch\n+        to GitHub (note: do not squash the commits when you merge otherwise you\n+        will lose the release tag):\n+\n+    ```bash\n+    $ git checkout v$MAJOR.$MINOR.x\n+    $ git merge --ff-only release", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1f6e9f9d117211415115f93245893b4b3335d75"}, "originalPosition": 75}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNDk1Nzc0", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1044#pullrequestreview-382495774", "createdAt": "2020-03-26T23:48:50Z", "commit": {"oid": "c1f6e9f9d117211415115f93245893b4b3335d75"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMzo0ODo1MFrOF8ed0Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMzo0ODo1MFrOF8ed0Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODk1ODAzMw==", "bodyText": "+1", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1044#discussion_r398958033", "createdAt": "2020-03-26T23:48:50Z", "author": {"login": "carlosalberto"}, "path": "RELEASING.md", "diffHunk": "@@ -0,0 +1,148 @@\n+# OpenTelemetry Release Process\n+\n+## Tagging the Release\n+\n+The first step in the release process is to create a release branch, bump versions, and create a tag\n+for the release. Our release branches follow the naming convention of v<major>.<minor>.x, while the\n+tags include the patch version v<major>.<minor>.<patch>. For example, the same branch v0.3.x would\n+be used to create all v0.3.* tags (e.g. v0.3.0, v0.3.1).\n+\n+In this section upstream repository refers to the main opentelemetry-java github repository.\n+\n+Before any push to the upstream repository you need to create a\n+[personal access token](https://help.github.com/en/github/authenticating-to-github/creating-a-personal-access-token-for-the-command-line).\n+\n+1.  Create the release branch and push it to GitHub:\n+\n+    ```bash\n+    $ MAJOR=0 MINOR=4 PATCH=0 # Set appropriately for new release\n+    $ VERSION_FILES=(\n+      build.gradle\n+      )\n+    $ git checkout -b v$MAJOR.$MINOR.x master\n+    $ git push upstream v$MAJOR.$MINOR.x\n+    ```\n+    The branch will be automatically protected by the GitHub branch protection rule for release\n+    branches.\n+\n+2.  For `master` branch:\n+\n+    -   Change root build files to the next minor snapshot (e.g.\n+        `0.4.0-SNAPSHOT`).\n+\n+    ```bash\n+    $ git checkout -b bump-version master\n+    # Change version to next minor (and keep -SNAPSHOT)\n+    $ sed -i 's/[0-9]\\+\\.[0-9]\\+\\.[0-9]\\+\\(.*CURRENT_OPEN_TELEMETRY_VERSION\\)/'$MAJOR.$((MINOR+1)).0'\\1/' \\\n+      \"${VERSION_FILES[@]}\"\n+    $ ./gradlew build\n+    $ git commit -a -m \"Start $MAJOR.$((MINOR+1)).0 development cycle\"\n+    ```\n+\n+    -   Go through PR review and push the master branch to GitHub.\n+       \n+3.  For `vMajor.Minor.x` branch:\n+\n+    -   Change root build files to remove \"-SNAPSHOT\" for the next release\n+        version (e.g. `0.3.0`). Commit the result and make a tag:\n+\n+    ```bash\n+    $ git checkout -b release v$MAJOR.$MINOR.x\n+    # Change version to remove -SNAPSHOT\n+    $ sed -i 's/-SNAPSHOT\\(.*CURRENT_OPEN_TELEMETRY_VERSION\\)/\\1/' \"${VERSION_FILES[@]}\"\n+    $ ./gradlew build\n+    $ git commit -a -m \"Bump version to $MAJOR.$MINOR.$PATCH\"\n+    $ git tag -a v$MAJOR.$MINOR.$PATCH -m \"Version $MAJOR.$MINOR.$PATCH\"\n+    ```\n+\n+    -   Change root build files to the next snapshot version (e.g.\n+        `0.3.1-SNAPSHOT`). Commit the result:\n+\n+    ```bash\n+    # Change version to next patch and add -SNAPSHOT\n+    $ sed -i 's/[0-9]\\+\\.[0-9]\\+\\.[0-9]\\+\\(.*CURRENT_OPEN_TELEMETRY_VERSION\\)/'$MAJOR.$MINOR.$((PATCH+1))-SNAPSHOT'\\1/' \\\n+     \"${VERSION_FILES[@]}\"\n+    $ ./gradlew build\n+    $ git commit -a -m \"Bump version to $MAJOR.$MINOR.$((PATCH+1))-SNAPSHOT\"\n+    ```\n+\n+    -   Go through PR review and push the release tag and updated release branch\n+        to GitHub (note: do not squash the commits when you merge otherwise you\n+        will lose the release tag):\n+\n+    ```bash\n+    $ git checkout v$MAJOR.$MINOR.x\n+    $ git merge --ff-only release\n+    $ git push upstream v$MAJOR.$MINOR.$PATCH\n+    $ git push upstream v$MAJOR.$MINOR.x\n+    ```\n+\n+## Announcement\n+   \n+Once deployment is done by Circle CI (controlled by the Bintray plugin) , go to Github [release\n+page](https://github.com/open-telemetry/opentelemetry-java/releases), press\n+`Draft a new release` to write release notes about the new release.\n+\n+You can use `git log upstream/v$MAJOR.$((MINOR-1)).x..upstream/v$MAJOR.$MINOR.x --graph --first-parent`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1f6e9f9d117211415115f93245893b4b3335d75"}, "originalPosition": 86}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNDk2MDAy", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1044#pullrequestreview-382496002", "createdAt": "2020-03-26T23:49:32Z", "commit": {"oid": "c1f6e9f9d117211415115f93245893b4b3335d75"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2871, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}