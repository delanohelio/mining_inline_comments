{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEyNjU1MDU4", "number": 1927, "title": "start up the test zpages server on a random port", "bodyText": "and be sure to shut it down at the end of the test\nI had a local failure since I was running something else on the non-random port.", "createdAt": "2020-10-29T23:55:04Z", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1927", "merged": true, "mergeCommit": {"oid": "66a4c42f57920b918b0db5a5b1e697196a82daec"}, "closed": true, "closedAt": "2020-10-30T00:06:31Z", "author": {"login": "jkwatson"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdXbH8AAH2gAyNTEyNjU1MDU4OmY0NzVlNmU1YmJlNTRhZWU1ZTZiMjA5NDkzMTgwYWNkZDRkOGI3NjM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXbP7uAH2gAyNTEyNjU1MDU4OmI5NGQxNDVlNDkyYmFhYWJlOWEwNmRjZDM4Y2QwZmJkM2Y0OTg2YTI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f475e6e5bbe54aee5e6b209493180acdd4d8b763", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/f475e6e5bbe54aee5e6b209493180acdd4d8b763", "committedDate": "2020-10-29T23:53:36Z", "message": "start up the test zpages server on a random port and shut it down"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwMTcyODAz", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1927#pullrequestreview-520172803", "createdAt": "2020-10-29T23:58:24Z", "commit": {"oid": "f475e6e5bbe54aee5e6b209493180acdd4d8b763"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQyMzo1ODoyNFrOHqyvSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQyMzo1ODoyNFrOHqyvSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDYzMzU0Nw==", "bodyText": "Doesn't port 0 work?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1927#discussion_r514633547", "createdAt": "2020-10-29T23:58:24Z", "author": {"login": "anuraaga"}, "path": "sdk_extensions/zpages/src/test/java/io/opentelemetry/sdk/extensions/zpages/ZPageServerTest.java", "diffHunk": "@@ -18,9 +19,16 @@\n   void tracezSpanProcessorOnlyAddedOnce() throws IOException {\n     // tracezSpanProcessor is not added yet\n     assertThat(ZPageServer.getIsTracezSpanProcesserAdded()).isFalse();\n-    HttpServer server = HttpServer.create(new InetSocketAddress(8888), 5);\n-    ZPageServer.registerAllPagesToHttpServer(server);\n-    // tracezSpanProcessor is added\n-    assertThat(ZPageServer.getIsTracezSpanProcesserAdded()).isTrue();\n+    HttpServer server = null;\n+    try {\n+      server = HttpServer.create(new InetSocketAddress(new Random().nextInt(1000) + 2000), 5);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f475e6e5bbe54aee5e6b209493180acdd4d8b763"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b94d145e492baaabe9a06dcd38cd0fbd3f4986a2", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/b94d145e492baaabe9a06dcd38cd0fbd3f4986a2", "committedDate": "2020-10-30T00:02:20Z", "message": "have the jvm pick a random port for us"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4195, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}