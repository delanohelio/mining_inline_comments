{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxMjE2MDQ2", "number": 1682, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwMDo1NzoyOVrOEmUK1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwMDo1NzoyOVrOEmUK1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4NjExNzk5OnYy", "diffSide": "RIGHT", "path": "api/src/main/java/io/opentelemetry/common/AttributeKeyImpl.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwMDo1NzoyOVrOHWRSPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwNDoyOTo0MVrOHWV8rw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzExMzkxNw==", "bodyText": "But can't key() return null?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1682#discussion_r493113917", "createdAt": "2020-09-23T00:57:29Z", "author": {"login": "anuraaga"}, "path": "api/src/main/java/io/opentelemetry/common/AttributeKeyImpl.java", "diffHunk": "@@ -17,15 +17,24 @@\n package io.opentelemetry.common;\n \n import com.google.auto.value.AutoValue;\n+import javax.annotation.Nullable;\n \n @SuppressWarnings(\"rawtypes\")\n @AutoValue\n abstract class AttributeKeyImpl<T> implements AttributeKey<T> {\n \n   static <T> AttributeKeyImpl<T> create(String key, AttributeType type) {\n-    return new AutoValue_AttributeKeyImpl<>(key, type);\n+    return new AutoValue_AttributeKeyImpl<>(type, key);\n   }\n \n+  @Override\n+  public String getKey() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "14c8e3c18c2df719b6e40e24324070232753ff9b"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzE2MzA5Ng==", "bodyText": "It can, but I really want the public API to have the getKey() be non-nullable. We can't have the API blow up with null keys, but we really want the API to signal that it should never be null. I'm open to other suggestions to solve this one.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1682#discussion_r493163096", "createdAt": "2020-09-23T02:39:19Z", "author": {"login": "jkwatson"}, "path": "api/src/main/java/io/opentelemetry/common/AttributeKeyImpl.java", "diffHunk": "@@ -17,15 +17,24 @@\n package io.opentelemetry.common;\n \n import com.google.auto.value.AutoValue;\n+import javax.annotation.Nullable;\n \n @SuppressWarnings(\"rawtypes\")\n @AutoValue\n abstract class AttributeKeyImpl<T> implements AttributeKey<T> {\n \n   static <T> AttributeKeyImpl<T> create(String key, AttributeType type) {\n-    return new AutoValue_AttributeKeyImpl<>(key, type);\n+    return new AutoValue_AttributeKeyImpl<>(type, key);\n   }\n \n+  @Override\n+  public String getKey() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzExMzkxNw=="}, "originalCommit": {"oid": "14c8e3c18c2df719b6e40e24324070232753ff9b"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzE3OTY1Nw==", "bodyText": "Got it - yeah that's a corner case I've ran into before too. I wasn't sure that was the intention but makes sense to me. If we ever add nullness checking (want to!) we'll need some \"nullness casts\" for these cases, just as a future food for thought.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1682#discussion_r493179657", "createdAt": "2020-09-23T03:46:30Z", "author": {"login": "anuraaga"}, "path": "api/src/main/java/io/opentelemetry/common/AttributeKeyImpl.java", "diffHunk": "@@ -17,15 +17,24 @@\n package io.opentelemetry.common;\n \n import com.google.auto.value.AutoValue;\n+import javax.annotation.Nullable;\n \n @SuppressWarnings(\"rawtypes\")\n @AutoValue\n abstract class AttributeKeyImpl<T> implements AttributeKey<T> {\n \n   static <T> AttributeKeyImpl<T> create(String key, AttributeType type) {\n-    return new AutoValue_AttributeKeyImpl<>(key, type);\n+    return new AutoValue_AttributeKeyImpl<>(type, key);\n   }\n \n+  @Override\n+  public String getKey() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzExMzkxNw=="}, "originalCommit": {"oid": "14c8e3c18c2df719b6e40e24324070232753ff9b"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzE5MDMxOQ==", "bodyText": "Right now, we drop null keys, I believe, so this seems like a decent compromise. You can put null in there, but you'll never actually see a null-keyed attribute anywhere, since we throw them away.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1682#discussion_r493190319", "createdAt": "2020-09-23T04:29:41Z", "author": {"login": "jkwatson"}, "path": "api/src/main/java/io/opentelemetry/common/AttributeKeyImpl.java", "diffHunk": "@@ -17,15 +17,24 @@\n package io.opentelemetry.common;\n \n import com.google.auto.value.AutoValue;\n+import javax.annotation.Nullable;\n \n @SuppressWarnings(\"rawtypes\")\n @AutoValue\n abstract class AttributeKeyImpl<T> implements AttributeKey<T> {\n \n   static <T> AttributeKeyImpl<T> create(String key, AttributeType type) {\n-    return new AutoValue_AttributeKeyImpl<>(key, type);\n+    return new AutoValue_AttributeKeyImpl<>(type, key);\n   }\n \n+  @Override\n+  public String getKey() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzExMzkxNw=="}, "originalCommit": {"oid": "14c8e3c18c2df719b6e40e24324070232753ff9b"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1206, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}