{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg3OTU4MTQw", "number": 1653, "title": "Add w3c context propagation tests", "bodyText": "It's already done for Python and JS.\nAlthough most of the tests pass there are some which fail.\nBecause execution of the tests is not part of the circleci workflow it doesn't affect build.\n----------------------------------------------------------------------\nRan 40 tests in 1.220s\n\nFAILED (failures=3, skipped=6)", "createdAt": "2020-09-16T12:36:17Z", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1653", "merged": true, "mergeCommit": {"oid": "f8725333b854f6ffed56ef961ad1610bad651fbd"}, "closed": true, "closedAt": "2020-09-23T15:26:39Z", "author": {"login": "malafeev"}, "timelineItems": {"totalCount": 26, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdJbo9qAH2gAyNDg3OTU4MTQwOjA5MDc4NThlYWQwYjViZGJmNDZmZmFhZTljOGVjYzQ1OTkxOTc3MjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLsfaQAH2gAyNDg3OTU4MTQwOjM2YTgzZTgzZWI0MWEzZjBhODVhMjZiOTA3NGE2ODlmNjI5NGNlZGQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0907858ead0b5bdbf46ffaae9c8ecc4599197720", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/0907858ead0b5bdbf46ffaae9c8ecc4599197720", "committedDate": "2020-09-16T12:34:44Z", "message": "Add w3c context propagation tests\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05d0e717753f83a4de4426cbd1fd298d9deac236", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/05d0e717753f83a4de4426cbd1fd298d9deac236", "committedDate": "2020-09-16T13:13:17Z", "message": "add sleep for printing test results\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg5ODAzNjEz", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1653#pullrequestreview-489803613", "createdAt": "2020-09-16T16:34:11Z", "commit": {"oid": "05d0e717753f83a4de4426cbd1fd298d9deac236"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxNjozNDoxMVrOHS5HlQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQxNjozNDoxMVrOHS5HlQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTU3MjI0NQ==", "bodyText": "Can you add some notes in here about the environmental requirements to have this be runnable? It looks like you'll need to be on some sort of system that supports a bourne shell, and have python3/pip3 installed.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1653#discussion_r489572245", "createdAt": "2020-09-16T16:34:11Z", "author": {"login": "jkwatson"}, "path": "integration_tests/tracecontext/README.md", "diffHunk": "@@ -0,0 +1,7 @@\n+# OpenTelemetry W3C Context Propagation tests", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "05d0e717753f83a4de4426cbd1fd298d9deac236"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9139d78c5a997be2a2e0462475f294a2615916e9", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/9139d78c5a997be2a2e0462475f294a2615916e9", "committedDate": "2020-09-18T13:48:15Z", "message": "add Environmental requirements\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e782131e30d290e749bdb6af31670a4f652ac86", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/6e782131e30d290e749bdb6af31670a4f652ac86", "committedDate": "2020-09-18T13:48:42Z", "message": "use far jar to run\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7a2471a9d3cf95b181c454a6d37a8ca26e7022e9", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/7a2471a9d3cf95b181c454a6d37a8ca26e7022e9", "committedDate": "2020-09-18T13:50:05Z", "message": "run integration tests in circleci\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb390bdd7ac38180b3f8352d0d0fd132d6852953", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/bb390bdd7ac38180b3f8352d0d0fd132d6852953", "committedDate": "2020-09-18T14:04:12Z", "message": "change image\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a85282151fe1077f61235c13e3bfa6961c071a46", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/a85282151fe1077f61235c13e3bfa6961c071a46", "committedDate": "2020-09-18T14:07:36Z", "message": "reformat\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8c443a8bff38c237176636e0e9f81f2f1701a5e", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/f8c443a8bff38c237176636e0e9f81f2f1701a5e", "committedDate": "2020-09-18T14:14:41Z", "message": "pip3 to pip\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "695eeb66738a56563123e266aac8ee5edb7983de", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/695eeb66738a56563123e266aac8ee5edb7983de", "committedDate": "2020-09-18T14:18:27Z", "message": "upgrade pip\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "33c53562683850b83a73503c90c9fed3facdc796", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/33c53562683850b83a73503c90c9fed3facdc796", "committedDate": "2020-09-18T14:20:20Z", "message": "missing colon\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e223dfb83373cc97463030208fa226574a28b30", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/6e223dfb83373cc97463030208fa226574a28b30", "committedDate": "2020-09-18T14:31:02Z", "message": "install pip3\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4656244798b123c96201228e5d27d791f877443", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/d4656244798b123c96201228e5d27d791f877443", "committedDate": "2020-09-18T14:38:41Z", "message": "do not install pip3\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNTI3MjMw", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1653#pullrequestreview-491527230", "createdAt": "2020-09-18T14:39:14Z", "commit": {"oid": "d4656244798b123c96201228e5d27d791f877443"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNDozOToxNVrOHUQAGw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNDozOToxNVrOHUQAGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDk5NTczOQ==", "bodyText": "If we have failing tests, won't this fail every build until we get them fixed?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1653#discussion_r490995739", "createdAt": "2020-09-18T14:39:15Z", "author": {"login": "jkwatson"}, "path": ".circleci/config.yml", "diffHunk": "@@ -107,13 +107,36 @@ jobs:\n           paths:\n             - ~/.gradle\n           key: gradle-{{ checksum \"build.gradle\" }}\n+# Integration tests\n+  integration-tests:\n+    environment:\n+      # Configure the JVM and Gradle to avoid OOM errors\n+      _JAVA_OPTIONS: \"-Xmx1g\"\n+      GRADLE_OPTS: \"-Dorg.gradle.daemon=false -Dorg.gradle.workers.max=2\"\n+    docker:\n+      - image: openkbs/jdk-mvn-py3\n+    steps:\n+      - checkout\n+      - restore_cache:\n+          keys:\n+            - gradle-w3c-{{ checksum \"build.gradle\" }}\n+      - run:\n+          name: Integration Tests\n+          command: cd integration_tests/tracecontext && ./tracecontext-integration-test.sh\n+      - run:\n+          <<: *publish_snapshots_task\n+      - save_cache:\n+          paths:\n+            - ~/.gradle\n+          key: gradle-w3c-{{ checksum \"build.gradle\" }}\n \n workflows:\n   version: 2\n   build_and_test:\n     jobs:\n       - build\n       - java11\n+      - integration-tests", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4656244798b123c96201228e5d27d791f877443"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98c21171a996d69b5a76934f34e7c9b76e98eb53", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/98c21171a996d69b5a76934f34e7c9b76e98eb53", "committedDate": "2020-09-18T15:01:13Z", "message": "install python 3 and pip3\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7197a01da57bccf80d02db45825ea69f65b819a6", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/7197a01da57bccf80d02db45825ea69f65b819a6", "committedDate": "2020-09-18T15:02:48Z", "message": "install python 3 and pip3\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "259e741f31356dfc9825886844c0f0a51ac67541", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/259e741f31356dfc9825886844c0f0a51ac67541", "committedDate": "2020-09-18T15:09:51Z", "message": "install python 3 and pip3\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dffa0833f14d1bcd690be366d61a3438e6b6939f", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/dffa0833f14d1bcd690be366d61a3438e6b6939f", "committedDate": "2020-09-18T15:11:53Z", "message": "install python 3 and pip3\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cdaaeffe4c5ca33f45f88a4b1f4c25599ba72916", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/cdaaeffe4c5ca33f45f88a4b1f4c25599ba72916", "committedDate": "2020-09-18T15:22:12Z", "message": "install python 3 and pip3\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c1d4a481e544afaf78b95192d267b9dc71cd184b", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/c1d4a481e544afaf78b95192d267b9dc71cd184b", "committedDate": "2020-09-18T16:09:33Z", "message": "install python 3 and pip3\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNjA2MzUw", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1653#pullrequestreview-491606350", "createdAt": "2020-09-18T16:17:07Z", "commit": {"oid": "c1d4a481e544afaf78b95192d267b9dc71cd184b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjoxNzowN1rOHUTpKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjoxNzowN1rOHUTpKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA1NTQwMA==", "bodyText": "this docker image has pip3, but output shows that pip3 not found.\nhow it's possible?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1653#discussion_r491055400", "createdAt": "2020-09-18T16:17:07Z", "author": {"login": "malafeev"}, "path": ".circleci/config.yml", "diffHunk": "@@ -107,13 +107,36 @@ jobs:\n           paths:\n             - ~/.gradle\n           key: gradle-{{ checksum \"build.gradle\" }}\n+# Integration tests\n+  integration-tests:\n+    environment:\n+      # Configure the JVM and Gradle to avoid OOM errors\n+      _JAVA_OPTIONS: \"-Xmx1g\"\n+      GRADLE_OPTS: \"-Dorg.gradle.daemon=false -Dorg.gradle.workers.max=2\"\n+    docker:\n+      - image: openkbs/jdk-mvn-py3", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c1d4a481e544afaf78b95192d267b9dc71cd184b"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd2d9d02137ccadcf987cf924f349657a8849914", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/cd2d9d02137ccadcf987cf924f349657a8849914", "committedDate": "2020-09-21T06:23:32Z", "message": "add /usr/local/bin to PATH\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "090e0326c211e05af5b02757c0352e29c4ca4e1b", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/090e0326c211e05af5b02757c0352e29c4ca4e1b", "committedDate": "2020-09-21T06:29:06Z", "message": "call /usr/local/bin/pip3 to PATH\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e2d48dcd1473a2b317dd9f7d60c89f829c7626d", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/5e2d48dcd1473a2b317dd9f7d60c89f829c7626d", "committedDate": "2020-09-21T06:32:04Z", "message": "get rid of automation\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzNTk4NTcx", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1653#pullrequestreview-493598571", "createdAt": "2020-09-22T15:39:30Z", "commit": {"oid": "5e2d48dcd1473a2b317dd9f7d60c89f829c7626d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36a83e83eb41a3f0a85a26b9074a689f6294cedd", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/36a83e83eb41a3f0a85a26b9074a689f6294cedd", "committedDate": "2020-09-23T13:20:32Z", "message": "refactor extractor to pass more tests\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3430, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}