{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4NDEzMzEz", "number": 2146, "title": "Replace SpanData.hasRemoteParent/getParentSpanId with getParentSpanContext", "bodyText": "Fixes #987\nFrom what I can tell, @Oberon00's concern is addressed by now since we have Context everywhere. added getParentSpanContext to keep the existing functionality while also being able to remove more methods.\nSince this is export-side, I just deleted it but let me know if it's worth doing @Deprecated first.", "createdAt": "2020-11-27T06:06:16Z", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2146", "merged": true, "mergeCommit": {"oid": "ca3714053fd7249e34ca61fb73ffa3edd059bad3"}, "closed": true, "closedAt": "2020-12-01T17:50:12Z", "author": {"login": "anuraaga"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdghN47gH2gAyNTI4NDEzMzEzOmJkZWI2Y2FjMWZiYWExZTExNTRkYmUyODhiY2MxMmQzMWJiYWNlYmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdhzkkLAH2gAyNTI4NDEzMzEzOmE1NmI4OTJjNjlmMzgzYzgzNzg5OGQxNTcxNTYzNTY0NDBiY2VkNWM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bdeb6cac1fbaa1e1154dbe288bcc12d31bbaceba", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/bdeb6cac1fbaa1e1154dbe288bcc12d31bbaceba", "committedDate": "2020-11-27T06:04:51Z", "message": "Remove SpanData.hasRemoteParent"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5NzU0MzAz", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2146#pullrequestreview-539754303", "createdAt": "2020-11-27T07:26:32Z", "commit": {"oid": "bdeb6cac1fbaa1e1154dbe288bcc12d31bbaceba"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "600b6ab87b3675f5fd30231dba92d4316f696257", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/600b6ab87b3675f5fd30231dba92d4316f696257", "committedDate": "2020-11-27T08:53:07Z", "message": "Replace parentSpanId with parentSpanContext"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5ODQ1Mzkw", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2146#pullrequestreview-539845390", "createdAt": "2020-11-27T09:55:22Z", "commit": {"oid": "600b6ab87b3675f5fd30231dba92d4316f696257"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QwOTo1NToyMlrOH634Qw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QwOTo1NzowNVrOH638Vg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTQ5NDk3OQ==", "bodyText": "I don't know if we even want to deprecate that. So far, it seems exporters have only needed this, so it seems OK to keep it as convenience shortcut.\nI'm fine with deprecating/removing it though, just a thought.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2146#discussion_r531494979", "createdAt": "2020-11-27T09:55:22Z", "author": {"login": "Oberon00"}, "path": "sdk/trace/src/main/java/io/opentelemetry/sdk/trace/data/SpanData.java", "diffHunk": "@@ -50,13 +50,36 @@\n    */\n   TraceState getTraceState();\n \n+  /**\n+   * Returns the parent {@link SpanContext}. If the span is a root span, the {@link SpanContext}\n+   * returned will be invalid.\n+   */\n+  SpanContext getParentSpanContext();\n+\n   /**\n    * Returns the parent {@code SpanId}. If the {@code Span} is a root {@code Span}, the SpanId\n    * returned will be invalid..\n    *\n    * @return the parent {@code SpanId} or an invalid SpanId if this is a root {@code Span}.\n+   * @deprecated Use {@link #getParentSpanContext()}\n    */\n-  String getParentSpanId();\n+  @Deprecated", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "600b6ab87b3675f5fd30231dba92d4316f696257"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTQ5NjAyMg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               * @param parentSpanContext the span_id of the parent span, or {@code Span.INVALID} if the new\n          \n          \n            \n               * @param parentSpanContext the parent span context, or {@link SpanContext#getInvalid()} if this", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2146#discussion_r531496022", "createdAt": "2020-11-27T09:57:05Z", "author": {"login": "Oberon00"}, "path": "sdk/trace/src/main/java/io/opentelemetry/sdk/trace/RecordEventsReadableSpan.java", "diffHunk": "@@ -135,10 +131,8 @@ private RecordEventsReadableSpan(\n    * @param context supplies the trace_id and span_id for the newly started span.\n    * @param name the displayed name for the new span.\n    * @param kind the span kind.\n-   * @param parentSpanId the span_id of the parent span, or {@code Span.INVALID} if the new span is\n-   *     a root span.\n-   * @param hasRemoteParent {@code true} if the parentContext is remote. {@code false} if this is a\n-   *     root span.\n+   * @param parentSpanContext the span_id of the parent span, or {@code Span.INVALID} if the new", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "600b6ab87b3675f5fd30231dba92d4316f696257"}, "originalPosition": 41}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxMDgxMDYz", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2146#pullrequestreview-541081063", "createdAt": "2020-11-30T16:31:52Z", "commit": {"oid": "600b6ab87b3675f5fd30231dba92d4316f696257"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8bae0df50f35e7eabcedaad95801548d4ef86be5", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/8bae0df50f35e7eabcedaad95801548d4ef86be5", "committedDate": "2020-12-01T00:14:36Z", "message": "Update sdk/trace/src/main/java/io/opentelemetry/sdk/trace/RecordEventsReadableSpan.java\n\nCo-authored-by: Christian Neum\u00fcller <christian+github@neumueller.me>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc06bd800751c4a3bb0c5780fd8f33a43f234ea6", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/cc06bd800751c4a3bb0c5780fd8f33a43f234ea6", "committedDate": "2020-12-01T04:31:25Z", "message": "Merge branch 'master' of github.com:open-telemetry/opentelemetry-java into remove-hasremoteparent"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8cab905918a39f12d904c1296dbd1097436ba26a", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/8cab905918a39f12d904c1296dbd1097436ba26a", "committedDate": "2020-12-01T04:36:06Z", "message": "Keep parentId"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aaf3bd43baa37221460482a910d574c941fa1c5a", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/aaf3bd43baa37221460482a910d574c941fa1c5a", "committedDate": "2020-12-01T04:36:18Z", "message": "Merge branch 'remove-hasremoteparent' of github.com:anuraaga/opentelemetry-java into remove-hasremoteparent"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a56b892c69f383c837898d157156356440bced5c", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/a56b892c69f383c837898d157156356440bced5c", "committedDate": "2020-12-01T06:01:50Z", "message": "Merge branch 'master' of github.com:open-telemetry/opentelemetry-java into remove-hasremoteparent"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3794, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}