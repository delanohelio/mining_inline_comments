{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1MjU1MTI3", "number": 1449, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxODoyMzo0NFrOERKowA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxODoyNDoyMFrOERKpkQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2NDM1NTIwOnYy", "diffSide": "RIGHT", "path": "sdk/src/main/java/io/opentelemetry/sdk/trace/Samplers.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxODoyMzo0NFrOG1uzqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxODoyMzo0NFrOG1uzqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODk5NDYwMA==", "bodyText": "Should we deprecate this? Maybe a followup PR, for the moment just create an issue to not forget about?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1449#discussion_r458994600", "createdAt": "2020-07-22T18:23:44Z", "author": {"login": "bogdandrutu"}, "path": "sdk/src/main/java/io/opentelemetry/sdk/trace/Samplers.java", "diffHunk": "@@ -259,39 +279,44 @@ public final String getDescription() {\n \n   @Immutable\n   @AutoValue\n-  abstract static class DecisionImpl implements Decision {\n+  abstract static class SamplingResultImpl implements SamplingResult {\n     /**\n-     * Creates sampling decision with probability attribute.\n+     * Creates sampling result with probability attribute.\n      *\n-     * @param decision sampling decision\n-     * @param probability the probability that was used for the decision.\n+     * @param decision the decision on sampling and recording\n+     * @param probability the probability that was used for the samplingResult.\n      */\n-    static Decision createWithProbability(boolean decision, double probability) {\n-      return new AutoValue_Samplers_DecisionImpl(\n+    static SamplingResult createWithProbability(Decision decision, double probability) {\n+      return new AutoValue_Samplers_SamplingResultImpl(\n           decision, Attributes.of(SAMPLING_PROBABILITY.key(), doubleAttributeValue(probability)));\n     }\n \n     /**\n-     * Creates sampling decision without attributes.\n+     * Creates sampling result without attributes.\n      *\n-     * @param decision sampling decision\n+     * @param decision sampling samplingResult\n      */\n-    static Decision createWithoutAttributes(boolean decision) {\n-      return new AutoValue_Samplers_DecisionImpl(decision, Attributes.empty());\n+    static SamplingResult createWithoutAttributes(Decision decision) {\n+      return new AutoValue_Samplers_SamplingResultImpl(decision, Attributes.empty());\n     }\n \n     /**\n-     * Creates sampling decision with the given attributes.\n+     * Creates sampling result with the given attributes.\n      *\n-     * @param decision sampling decision\n+     * @param decision sampling decisionq\n      * @param attributes attributes. Will not be copied, so do not modify afterwards.\n      */\n-    static Decision create(boolean decision, Attributes attributes) {\n-      return new AutoValue_Samplers_DecisionImpl(decision, attributes);\n+    static SamplingResult create(Decision decision, Attributes attributes) {\n+      return new AutoValue_Samplers_SamplingResultImpl(decision, attributes);\n     }\n \n     @Override\n-    public abstract boolean isSampled();\n+    public abstract Decision getDecision();\n+\n+    @Override\n+    public boolean isSampled() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3382504e857d9cf367876fa20948e4f1ea486966"}, "originalPosition": 285}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2NDM1NzI5OnYy", "diffSide": "RIGHT", "path": "sdk/src/main/java/io/opentelemetry/sdk/trace/Sampler.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxODoyNDoyMFrOG1u07g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxODoyODo0NVrOG1u-mQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODk5NDkyNg==", "bodyText": "Can we remove this?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1449#discussion_r458994926", "createdAt": "2020-07-22T18:24:20Z", "author": {"login": "bogdandrutu"}, "path": "sdk/src/main/java/io/opentelemetry/sdk/trace/Sampler.java", "diffHunk": "@@ -68,27 +68,36 @@ Decision shouldSample(\n    */\n   String getDescription();\n \n+  /** A decision on whether a span should be recorded, recorded and sampled or not recorded. */\n+  enum Decision {\n+    NOT_RECORD,\n+    RECORD,\n+    RECORD_AND_SAMPLED,\n+  }\n+\n   /**\n-   * Sampling decision returned by {@link Sampler#shouldSample(SpanContext, TraceId, String, Kind,\n+   * Sampling result returned by {@link Sampler#shouldSample(SpanContext, TraceId, String, Kind,\n    * ReadableAttributes, List)}.\n    *\n    * @since 0.1.0\n    */\n-  interface Decision {\n+  interface SamplingResult {\n \n     /**\n-     * Return sampling decision whether span should be sampled or not.\n+     * Return decision on whether a span should be recorded, recorded and sampled or not recorded.\n      *\n-     * @return sampling decision.\n-     * @since 0.1.0\n+     * @return sampling result.\n+     * @since 0.7.0\n      */\n+    Decision getDecision();\n+\n     boolean isSampled();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3382504e857d9cf367876fa20948e4f1ea486966"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODk5NzQwMQ==", "bodyText": "It's no longer required in the spec so it would seem like yes\nhttps://github.com/open-telemetry/opentelemetry-specification/blob/master/specification/trace/sdk.md#sampler", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1449#discussion_r458997401", "createdAt": "2020-07-22T18:28:45Z", "author": {"login": "ptravers"}, "path": "sdk/src/main/java/io/opentelemetry/sdk/trace/Sampler.java", "diffHunk": "@@ -68,27 +68,36 @@ Decision shouldSample(\n    */\n   String getDescription();\n \n+  /** A decision on whether a span should be recorded, recorded and sampled or not recorded. */\n+  enum Decision {\n+    NOT_RECORD,\n+    RECORD,\n+    RECORD_AND_SAMPLED,\n+  }\n+\n   /**\n-   * Sampling decision returned by {@link Sampler#shouldSample(SpanContext, TraceId, String, Kind,\n+   * Sampling result returned by {@link Sampler#shouldSample(SpanContext, TraceId, String, Kind,\n    * ReadableAttributes, List)}.\n    *\n    * @since 0.1.0\n    */\n-  interface Decision {\n+  interface SamplingResult {\n \n     /**\n-     * Return sampling decision whether span should be sampled or not.\n+     * Return decision on whether a span should be recorded, recorded and sampled or not recorded.\n      *\n-     * @return sampling decision.\n-     * @since 0.1.0\n+     * @return sampling result.\n+     * @since 0.7.0\n      */\n+    Decision getDecision();\n+\n     boolean isSampled();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODk5NDkyNg=="}, "originalCommit": {"oid": "3382504e857d9cf367876fa20948e4f1ea486966"}, "originalPosition": 54}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1519, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}