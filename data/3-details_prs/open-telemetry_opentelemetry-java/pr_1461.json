{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2NDk5NjE2", "number": 1461, "title": "Fix Jaeger exporter system property config", "bodyText": "Currently, the Jaeger exporter uses system property names that look like env vars JAEGER_ENDPOINT / JAEGER_SERVICE_NAME, which has caused confusion for a couple of opentelemetry-javaagent users.\nThis fixes that by using the now standard ConfigBuilder for JaegerGrpcSpanExporter.Builder (and following the conventions from ZipkinSpanExporter).\nCloses #1408", "createdAt": "2020-07-24T21:32:27Z", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1461", "merged": true, "mergeCommit": {"oid": "84571612b300ab9cbe893658e1209583d4866a18"}, "closed": true, "closedAt": "2020-07-25T20:46:41Z", "author": {"login": "trask"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc4K9PbgH2gAyNDU2NDk5NjE2OmNhNDEzZmUwOTBmYjM0OGE4ZWRhMDhiYmI0ODRkOWI3Mzk3NTVhM2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc4WX-CAFqTQ1NTI3Nzk1NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ca413fe090fb348a8eda08bbb484d9b739755a3b", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/ca413fe090fb348a8eda08bbb484d9b739755a3b", "committedDate": "2020-07-24T21:31:47Z", "message": "Fix Jaeger exporter system property config"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MjAwNDQ3", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1461#pullrequestreview-455200447", "createdAt": "2020-07-24T21:41:26Z", "commit": {"oid": "ca413fe090fb348a8eda08bbb484d9b739755a3b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQyMTo0MToyNlrOG2-giQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQyMTo0MToyNlrOG2-giQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDMwMDQyNQ==", "bodyText": "I would not create the channel here. I would set the default endpoint in the ctor of the builder. Then in build() will check if the channel was set externally otherwise would create a new channel from \"endpoint\".\nIt feels to my more natural.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1461#discussion_r460300425", "createdAt": "2020-07-24T21:41:26Z", "author": {"login": "bogdandrutu"}, "path": "exporters/jaeger/src/main/java/io/opentelemetry/exporters/jaeger/JaegerGrpcSpanExporter.java", "diffHunk": "@@ -192,6 +193,19 @@ public Builder setChannel(ManagedChannel channel) {\n       return this;\n     }\n \n+    /**\n+     * Sets the jaeger endpoint. This will use the endpoint to assign a {@link ManagedChannel}\n+     * instance to this builder.\n+     *\n+     * @param endpoint The Jaeger endpoint URL, ex. \"jaegerhost:14250\".\n+     * @return this.\n+     * @since 0.7.0\n+     */\n+    public Builder setEndpoint(String endpoint) {\n+      setChannel(createChannel(endpoint));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ca413fe090fb348a8eda08bbb484d9b739755a3b"}, "originalPosition": 52}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4c3f2c6a910a54550d8eed38275f107af0273e95", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/4c3f2c6a910a54550d8eed38275f107af0273e95", "committedDate": "2020-07-24T22:27:37Z", "message": "Address feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MjUyMjcx", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1461#pullrequestreview-455252271", "createdAt": "2020-07-25T02:01:59Z", "commit": {"oid": "4c3f2c6a910a54550d8eed38275f107af0273e95"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNVQwMjowMjowMFrOG3BlHw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNVQwMjowMjo0M1rOG3BlWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDM1MDc1MQ==", "bodyText": "Does it make sense to validate this point in build?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1461#discussion_r460350751", "createdAt": "2020-07-25T02:02:00Z", "author": {"login": "anuraaga"}, "path": "exporters/jaeger/src/main/java/io/opentelemetry/exporters/jaeger/JaegerGrpcSpanExporter.java", "diffHunk": "@@ -182,7 +184,10 @@ public Builder setServiceName(String serviceName) {\n     }\n \n     /**\n-     * Sets the managed chanel to use when communicating with the backend. Required.\n+     * Sets the managed chanel to use when communicating with the backend.\n+     *\n+     * <p>Should use only one of {@link #setChannel(ManagedChannel)} or {@link", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c3f2c6a910a54550d8eed38275f107af0273e95"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDM1MDgxMA==", "bodyText": "Think we should validate that endpoint is set to provide a better error message, guessing otherwise it's an NPE.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1461#discussion_r460350810", "createdAt": "2020-07-25T02:02:43Z", "author": {"login": "anuraaga"}, "path": "exporters/jaeger/src/main/java/io/opentelemetry/exporters/jaeger/JaegerGrpcSpanExporter.java", "diffHunk": "@@ -223,27 +251,12 @@ public static Builder fromEnv() {\n      * @return a new exporter's instance.\n      */\n     public JaegerGrpcSpanExporter build() {\n+      if (channel == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4c3f2c6a910a54550d8eed38275f107af0273e95"}, "originalPosition": 113}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27b7ee32332aac4e9afa75eadcd0ae7fcf4b029b", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/27b7ee32332aac4e9afa75eadcd0ae7fcf4b029b", "committedDate": "2020-07-25T04:40:55Z", "message": "feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed143f479c564eccea251bb569debe6ee6fdbf81", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/ed143f479c564eccea251bb569debe6ee6fdbf81", "committedDate": "2020-07-25T04:50:50Z", "message": "oops"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MjYxMzY5", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1461#pullrequestreview-455261369", "createdAt": "2020-07-25T04:55:40Z", "commit": {"oid": "ed143f479c564eccea251bb569debe6ee6fdbf81"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "90ebfb369ffdab72e765cddbb25d30e9ab75fe71", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/90ebfb369ffdab72e765cddbb25d30e9ab75fe71", "committedDate": "2020-07-25T05:08:53Z", "message": "javadoc"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d6e721c2cc60303fb0e7920f9a98a08dd82bf53", "author": {"user": {"login": "trask", "name": "Trask Stalnaker"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/7d6e721c2cc60303fb0e7920f9a98a08dd82bf53", "committedDate": "2020-07-25T05:11:50Z", "message": "javadoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MjY0NTYw", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1461#pullrequestreview-455264560", "createdAt": "2020-07-25T06:04:35Z", "commit": {"oid": "7d6e721c2cc60303fb0e7920f9a98a08dd82bf53"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1Mjc3OTU0", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1461#pullrequestreview-455277954", "createdAt": "2020-07-25T10:49:56Z", "commit": {"oid": "7d6e721c2cc60303fb0e7920f9a98a08dd82bf53"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2637, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}