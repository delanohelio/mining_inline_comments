{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0NDAzNTA4", "number": 1723, "title": "Expose a new TracerSdkManagement interface on the OpenTelemetrySdk class.", "bodyText": "Rather than expose the TracerSdkProvider directly, this introduces a new interface for managing the Tracing SDK. This will make it more obvious that the OpenTelemetrySdk access methods are not to be used for instrumentation purposes, but for operating the SDK itself.\nThis is a draft of how to resolve #1635 .\nNote: this only covers the Tracing side of the house. Metrics and Baggage probably want the same treatment, but I wanted to keep this relatively limited to make sure we're ok with moving in this direction.", "createdAt": "2020-09-28T21:09:18Z", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1723", "merged": true, "mergeCommit": {"oid": "0746ddbf688f6409e9aba6649ae6e512a641731e"}, "closed": true, "closedAt": "2020-10-02T01:39:08Z", "author": {"login": "jkwatson"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNZjrjgH2gAyNDk0NDAzNTA4OjlkZTg5Y2FkOGU5MTVjMjUxYWVhOGE3ZDFiYjcxODlkZWFlZjEyNWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdOZybcgH2gAyNDk0NDAzNTA4OjllMGQwMWYyODc1NDAwNmFkMTU5ODQ3ZDgzYzRhNmQ3MjY3MzliMzk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "9de89cad8e915c251aea8a7d1bb7189deaef125b", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/9de89cad8e915c251aea8a7d1bb7189deaef125b", "committedDate": "2020-09-28T20:24:51Z", "message": "have the TracerSdkProvider return the public interface, rather than a package-access class."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec47da24158304d7ebad95f415e603b2841ea738", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/ec47da24158304d7ebad95f415e603b2841ea738", "committedDate": "2020-09-28T20:58:32Z", "message": "change the OpenTelemetrySdk to return a management interface, rather than the SDK implementation class directly."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8972bc5abc5db15e0a7547cd93d522fecc1a58f4", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/8972bc5abc5db15e0a7547cd93d522fecc1a58f4", "committedDate": "2020-09-28T21:20:35Z", "message": "formatting fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4MTE5NDkz", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1723#pullrequestreview-498119493", "createdAt": "2020-09-29T06:05:11Z", "commit": {"oid": "8972bc5abc5db15e0a7547cd93d522fecc1a58f4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNjowNToxMVrOHZcJMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNjowNToxMVrOHZcJMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjQzNzU1NA==", "bodyText": "Does the new interface allow this to be private? And then maybe we don't need to change the return types", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1723#discussion_r496437554", "createdAt": "2020-09-29T06:05:11Z", "author": {"login": "anuraaga"}, "path": "sdk/tracing/src/main/java/io/opentelemetry/sdk/trace/TracerSdkProvider.java", "diffHunk": "@@ -36,7 +36,7 @@\n  * io.opentelemetry.OpenTelemetry}. However, if you need a custom implementation of the factory, you\n  * can create one as needed.\n  */\n-public class TracerSdkProvider implements TracerProvider {\n+public class TracerSdkProvider implements TracerProvider, TracerSdkManagement {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8972bc5abc5db15e0a7547cd93d522fecc1a58f4"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4MTUzMjUx", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1723#pullrequestreview-498153251", "createdAt": "2020-09-29T07:07:32Z", "commit": {"oid": "8972bc5abc5db15e0a7547cd93d522fecc1a58f4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNzowNzozMlrOHZdyOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNzowNzozMlrOHZdyOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjQ2NDQ0MA==", "bodyText": "Methods names should be changed too, shouldn't they?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1723#discussion_r496464440", "createdAt": "2020-09-29T07:07:32Z", "author": {"login": "iNikem"}, "path": "exporters/inmemory/src/main/java/io/opentelemetry/exporters/inmemory/InMemoryTracing.java", "diffHunk": "@@ -57,7 +58,7 @@\n    * @return the {@code TracerSdkProvider} passed during construction.\n    * @since 0.1.0\n    */\n-  abstract TracerSdkProvider getTracerProvider();\n+  abstract TracerSdkManagement getTracerProvider();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8972bc5abc5db15e0a7547cd93d522fecc1a58f4"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dd84bfcda7b9afe70cb4e3f7ec50583de7544380", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/dd84bfcda7b9afe70cb4e3f7ec50583de7544380", "committedDate": "2020-09-29T15:59:52Z", "message": "rename methods/parameters for the new interface\nget rid of almost all production-code references to the TracerSdkProvider"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5MDI0MTQ5", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1723#pullrequestreview-499024149", "createdAt": "2020-09-30T01:12:11Z", "commit": {"oid": "dd84bfcda7b9afe70cb4e3f7ec50583de7544380"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQwMToxMjoxMVrOHaKC0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQwMToxMjoxMVrOHaKC0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzE4OTU4Nw==", "bodyText": "I feel like moving the SPI implementation into this package is a win, less API is nice - I would say SPI package usually defines an SPI interface, but doesn't have to or even should define an SPI implementation. Doesn't have to be in this PR though.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1723#discussion_r497189587", "createdAt": "2020-09-30T01:12:11Z", "author": {"login": "anuraaga"}, "path": "sdk/tracing/src/main/java/io/opentelemetry/sdk/trace/TracerSdkProvider.java", "diffHunk": "@@ -36,7 +36,7 @@\n  * io.opentelemetry.OpenTelemetry}. However, if you need a custom implementation of the factory, you\n  * can create one as needed.\n  */\n-public class TracerSdkProvider implements TracerProvider {\n+public class TracerSdkProvider implements TracerProvider, TracerSdkManagement {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjQzNzU1NA=="}, "originalCommit": {"oid": "8972bc5abc5db15e0a7547cd93d522fecc1a58f4"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAwMDU1MDY0", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1723#pullrequestreview-500055064", "createdAt": "2020-10-01T06:57:29Z", "commit": {"oid": "dd84bfcda7b9afe70cb4e3f7ec50583de7544380"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e0d01f28754006ad159847d83c4a6d726739b39", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/9e0d01f28754006ad159847d83c4a6d726739b39", "committedDate": "2020-10-01T23:14:53Z", "message": "update some docs that still refer to using the old method/class"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3521, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}