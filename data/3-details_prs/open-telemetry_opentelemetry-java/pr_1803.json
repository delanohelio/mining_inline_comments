{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzNjM2NjA1", "number": 1803, "title": "Move the stress test code to being a TestContainers-based test.", "bodyText": "Also:\n\nUpgrade testcontainers version to work with the latest docker-for-mac.\nAdd metrics in the OTLP exporter, to record success/failure of export.\nUse the TestContainers annotation to disable those tests when docker isn't present.\n\nThe only part I'm leery about here, is adding metrics to the exporter. I did find them super useful to gain insight into what the exporter thought had been exported, vs what the collector actually received, during network flakiness tests. I'd be happy to revert that piece for now, but I definitely think it could be a very useful addition that could help when debugging real-world issues.", "createdAt": "2020-10-14T20:56:35Z", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1803", "merged": true, "mergeCommit": {"oid": "fa1e876df20910ca5ec3d43a788f2bcf35013d68"}, "closed": true, "closedAt": "2020-10-16T02:30:39Z", "author": {"login": "jkwatson"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSldhGAFqTUwODgzMTM2Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdS6keCAH2gAyNTAzNjM2NjA1OjJhZGFmMjMyOWYxOTY2Y2JmYjRkODg0NjZkMDI2ODEyYWJiYjA2ZTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4ODMxMzYz", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1803#pullrequestreview-508831363", "createdAt": "2020-10-14T23:06:36Z", "commit": {"oid": "0bc4bc58d788f288e68a3b58655e953acefc07d7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQyMzowNjozNlrOHhp09Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQyMzowNjozNlrOHhp09Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTA1MDM1Nw==", "bodyText": "Due to a bug in the RC of testcontainers, you need to add :latest here or notice the broken CI (it downloads every tag for the image ever right now...) Can you add :lastest to all the testcontainers untagged images?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1803#discussion_r505050357", "createdAt": "2020-10-14T23:06:36Z", "author": {"login": "anuraaga"}, "path": "integration_tests/src/test/java/io/opentelemetry/JaegerExporterIntegrationTest.java", "diffHunk": "@@ -58,7 +59,7 @@\n   @SuppressWarnings(\"rawtypes\")\n   @Container\n   public static GenericContainer jaegerExampleAppContainer =\n-      new GenericContainer(\"adoptopenjdk/openjdk8\")\n+      new GenericContainer(DockerImageName.parse(\"adoptopenjdk/openjdk8\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bc4bc58d788f288e68a3b58655e953acefc07d7"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA4OTEyMTYy", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1803#pullrequestreview-508912162", "createdAt": "2020-10-15T03:29:48Z", "commit": {"oid": "fc49323d484c5bf45da9aa6272506a4306e2b05b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2bdb493b4cab74d15c7bb248f0c59d4da5004385", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/2bdb493b4cab74d15c7bb248f0c59d4da5004385", "committedDate": "2020-10-15T23:08:43Z", "message": "Move the stress test code to being a TestContainers-based test.\nUpgrade testcontainers version to work with the latest docker-for-mac.\nAdd metrics in the OTLP exporter, to record success/failure of export.\nUse the TestContainers annotation to disable those tests when docker isn't present."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "155649515c49863331b9788c3a0b9a292224b38c", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/155649515c49863331b9788c3a0b9a292224b38c", "committedDate": "2020-10-15T23:08:45Z", "message": "remove a bunch of commented out stuff that shouldn't have been added"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df177ea2b834e13ee5445c3793103833e944e722", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/df177ea2b834e13ee5445c3793103833e944e722", "committedDate": "2020-10-15T23:08:45Z", "message": "disable the test without docker"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a06080227e27813347368bc228abc475c50574e", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/6a06080227e27813347368bc228abc475c50574e", "committedDate": "2020-10-15T23:08:45Z", "message": "use specific docker image tags to keep testcontainers from downloading the world"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a50000db761b3536e82c01a35af7dd73a55f29a8", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/a50000db761b3536e82c01a35af7dd73a55f29a8", "committedDate": "2020-10-15T23:08:45Z", "message": "delete unneeded file"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fc49323d484c5bf45da9aa6272506a4306e2b05b", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/fc49323d484c5bf45da9aa6272506a4306e2b05b", "committedDate": "2020-10-15T01:56:13Z", "message": "delete unneeded file"}, "afterCommit": {"oid": "a50000db761b3536e82c01a35af7dd73a55f29a8", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/a50000db761b3536e82c01a35af7dd73a55f29a8", "committedDate": "2020-10-15T23:08:45Z", "message": "delete unneeded file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2adaf2329f1966cbfb4d88466d026812abbb06e7", "author": {"user": {"login": "jkwatson", "name": "John Watson"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/2adaf2329f1966cbfb4d88466d026812abbb06e7", "committedDate": "2020-10-15T23:42:12Z", "message": "fix from upstream change"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4245, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}