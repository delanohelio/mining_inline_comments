{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1NjI2NTIw", "number": 2258, "title": "Change bound factory to accept Aggregator", "bodyText": "", "createdAt": "2020-12-10T04:21:01Z", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2258", "merged": true, "mergeCommit": {"oid": "252f8f385fa1e6161fe6dbc6b84e634b4a671333"}, "closed": true, "closedAt": "2020-12-10T16:21:17Z", "author": {"login": "bogdandrutu"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkrp7_ABqjQwOTMxMjAyOTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdk1ygxgFqTU0OTM2NjEyNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e6c0b6ad57811b9e6789d0c741887628738c320d", "author": {"user": {"login": "bogdandrutu", "name": "Bogdan Drutu"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/e6c0b6ad57811b9e6789d0c741887628738c320d", "committedDate": "2020-12-10T04:20:11Z", "message": "Change bound factory to accept Aggregator\n\nSigned-off-by: Bogdan Drutu <bogdandrutu@gmail.com>"}, "afterCommit": {"oid": "c89fab89e2bac6e5c073b6fcfbf7da7a7bf314a6", "author": {"user": {"login": "bogdandrutu", "name": "Bogdan Drutu"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/c89fab89e2bac6e5c073b6fcfbf7da7a7bf314a6", "committedDate": "2020-12-10T04:30:04Z", "message": "Change bound factory to accept Aggregator\n\nSigned-off-by: Bogdan Drutu <bogdandrutu@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ef9345341af562f72fe124fe01e2fedab36e12b", "author": {"user": {"login": "bogdandrutu", "name": "Bogdan Drutu"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/0ef9345341af562f72fe124fe01e2fedab36e12b", "committedDate": "2020-12-10T04:35:44Z", "message": "Change bound factory to accept Aggregator\n\nSigned-off-by: Bogdan Drutu <bogdandrutu@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c89fab89e2bac6e5c073b6fcfbf7da7a7bf314a6", "author": {"user": {"login": "bogdandrutu", "name": "Bogdan Drutu"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/c89fab89e2bac6e5c073b6fcfbf7da7a7bf314a6", "committedDate": "2020-12-10T04:30:04Z", "message": "Change bound factory to accept Aggregator\n\nSigned-off-by: Bogdan Drutu <bogdandrutu@gmail.com>"}, "afterCommit": {"oid": "0ef9345341af562f72fe124fe01e2fedab36e12b", "author": {"user": {"login": "bogdandrutu", "name": "Bogdan Drutu"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/0ef9345341af562f72fe124fe01e2fedab36e12b", "committedDate": "2020-12-10T04:35:44Z", "message": "Change bound factory to accept Aggregator\n\nSigned-off-by: Bogdan Drutu <bogdandrutu@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ4ODEyODEw", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2258#pullrequestreview-548812810", "createdAt": "2020-12-10T04:37:26Z", "commit": {"oid": "0ef9345341af562f72fe124fe01e2fedab36e12b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQwNDozNzoyNlrOIC1Kuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQwNDozNzoyNlrOIC1Kuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTgzOTE2Mw==", "bodyText": "@jkwatson see what I mentioned in the previous PR :)", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2258#discussion_r539839163", "createdAt": "2020-12-10T04:37:26Z", "author": {"login": "bogdandrutu"}, "path": "sdk/metrics/src/main/java/io/opentelemetry/sdk/metrics/DoubleCounterSdk.java", "diffHunk": "@@ -37,8 +38,8 @@ public void add(double increment) {\n   static final class BoundInstrument extends AbstractBoundInstrument\n       implements DoubleCounter.BoundDoubleCounter {\n \n-    BoundInstrument(InstrumentProcessor instrumentProcessor) {\n-      super(instrumentProcessor.getAggregator());\n+    BoundInstrument(Aggregator aggregator) {\n+      super(aggregator);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ef9345341af562f72fe124fe01e2fedab36e12b"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MzY1ODMz", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2258#pullrequestreview-549365833", "createdAt": "2020-12-10T16:18:21Z", "commit": {"oid": "0ef9345341af562f72fe124fe01e2fedab36e12b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNjoxODoyMlrOIDRbrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxNjoxODoyMlrOIDRbrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDMwMjI1Mg==", "bodyText": "interesting that the coupling is the reverse of what is in @jmacd's design in the spec. I don't think it's necessarily a problem, but it might point at some tweaks to the SDK spec being necessary.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2258#discussion_r540302252", "createdAt": "2020-12-10T16:18:22Z", "author": {"login": "jkwatson"}, "path": "sdk/metrics/src/main/java/io/opentelemetry/sdk/metrics/AbstractSynchronousInstrument.java", "diffHunk": "@@ -41,7 +42,7 @@ public B bind(Labels labels) {\n     }\n \n     // Missing entry or no longer mapped, try to add a new entry.\n-    binding = boundFactory.apply(instrumentProcessor);\n+    binding = boundFactory.apply(instrumentProcessor.getAggregator());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ef9345341af562f72fe124fe01e2fedab36e12b"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MzY2MTI0", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2258#pullrequestreview-549366124", "createdAt": "2020-12-10T16:18:39Z", "commit": {"oid": "0ef9345341af562f72fe124fe01e2fedab36e12b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3627, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}