{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY5NTM2NTE1", "number": 1550, "title": "Document TraceConfig", "bodyText": "fix #1496", "createdAt": "2020-08-18T14:29:14Z", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1550", "merged": true, "mergeCommit": {"oid": "750707b89cc79b243919299be99adac9573d056d"}, "closed": true, "closedAt": "2020-08-19T12:35:35Z", "author": {"login": "malafeev"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdAH48TAH2gAyNDY5NTM2NTE1OmM3OWQ1NTc1MTQzNTNkZWY4YzBkNzA5ZjUzNjQyZjdiNDJmODU4YTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAVq5nAFqTQ3MDE2MDMxMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c79d557514353def8c0d709f53642f7b42f858a1", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/c79d557514353def8c0d709f53642f7b42f858a1", "committedDate": "2020-08-18T14:28:46Z", "message": "#1496 Document TraceConfig\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5adeb6d02e996b7a4f8fadab812e0688a3a0166", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/e5adeb6d02e996b7a4f8fadab812e0688a3a0166", "committedDate": "2020-08-18T14:39:06Z", "message": "fix missing character\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5NTM0NzIz", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1550#pullrequestreview-469534723", "createdAt": "2020-08-18T14:51:11Z", "commit": {"oid": "e5adeb6d02e996b7a4f8fadab812e0688a3a0166"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxNDo1MToxMVrOHCYTiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxNDo1MTo0MlrOHCYVJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjI1NzQxOQ==", "bodyText": "extra } after Link", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1550#discussion_r472257419", "createdAt": "2020-08-18T14:51:11Z", "author": {"login": "iNikem"}, "path": "QUICKSTART.md", "diffHunk": "@@ -402,6 +403,43 @@ tracerProvider.addSpanProcessor(BatchSpanProcessor.newBuilder(\n ).build());\n ```\n \n+### TraceConfig\n+\n+`TraceConfig` associated with `TracerSdkProvider` can be updated via system properties, \n+environment variables and builder `set*` methods.  \n+\n+```java\n+// Get TraceConfig associated with TracerSdkProvider \n+TraceConfig traceConfig = OpenTelemetrySdk.getTracerProvider().getActiveTraceConfig();\n+\n+// Get TraceConfig Builder\n+Builder builder = traceConfig.toBuilder();\n+\n+// Read configuration options from system properties\n+builder.readSystemProperties();\n+\n+// Read configuration options from environment variables\n+builder.readEnvironmentVariables()\n+\n+// Set options via builder.set* methods, e.g.\n+builder.setMaxNumberOfLinks(10);\n+\n+// Update the resulting TraceConfig instance\n+OpenTelemetrySdk.getTracerProvider().updateActiveTraceConfig(builder.build());\n+```\n+\n+Supported system properties and environment variables:\n+\n+| System property                  | Environment variable             | Purpose                                            | \n+|----------------------------------|----------------------------------|----------------------------------------------------|       \n+| otel.config.sampler.probability  | OTEL_CONFIG_SAMPLER_PROBABILITY  | Sampler which is used when constructing a new span |                        \n+| otel.config.max.attrs            | OTEL_CONFIG_MAX_ATTRS            | Max number of attributes per span                  |                        \n+| otel.config.max.events           | OTEL_CONFIG_MAX_EVENTS           | Max number of Events per span                      |                        \n+| otel.config.max.links            | OTEL_CONFIG_MAX_LINKS            | Max number of Link} entries per span               |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e5adeb6d02e996b7a4f8fadab812e0688a3a0166"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjI1NzgzMQ==", "bodyText": "For all MAX attributes it would be useful to say what happens if that limit is exceeded.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1550#discussion_r472257831", "createdAt": "2020-08-18T14:51:42Z", "author": {"login": "iNikem"}, "path": "QUICKSTART.md", "diffHunk": "@@ -402,6 +403,43 @@ tracerProvider.addSpanProcessor(BatchSpanProcessor.newBuilder(\n ).build());\n ```\n \n+### TraceConfig\n+\n+`TraceConfig` associated with `TracerSdkProvider` can be updated via system properties, \n+environment variables and builder `set*` methods.  \n+\n+```java\n+// Get TraceConfig associated with TracerSdkProvider \n+TraceConfig traceConfig = OpenTelemetrySdk.getTracerProvider().getActiveTraceConfig();\n+\n+// Get TraceConfig Builder\n+Builder builder = traceConfig.toBuilder();\n+\n+// Read configuration options from system properties\n+builder.readSystemProperties();\n+\n+// Read configuration options from environment variables\n+builder.readEnvironmentVariables()\n+\n+// Set options via builder.set* methods, e.g.\n+builder.setMaxNumberOfLinks(10);\n+\n+// Update the resulting TraceConfig instance\n+OpenTelemetrySdk.getTracerProvider().updateActiveTraceConfig(builder.build());\n+```\n+\n+Supported system properties and environment variables:\n+\n+| System property                  | Environment variable             | Purpose                                            | \n+|----------------------------------|----------------------------------|----------------------------------------------------|       \n+| otel.config.sampler.probability  | OTEL_CONFIG_SAMPLER_PROBABILITY  | Sampler which is used when constructing a new span |                        \n+| otel.config.max.attrs            | OTEL_CONFIG_MAX_ATTRS            | Max number of attributes per span                  |                        ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e5adeb6d02e996b7a4f8fadab812e0688a3a0166"}, "originalPosition": 42}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "782a61bb045fdacf0481d586bb8379f75e1f41a9", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/782a61bb045fdacf0481d586bb8379f75e1f41a9", "committedDate": "2020-08-18T15:02:05Z", "message": "get rid of }\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b20aa2e9915a0c164404c7ad184e6a4a4fce1477", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/b20aa2e9915a0c164404c7ad184e6a4a4fce1477", "committedDate": "2020-08-18T15:17:06Z", "message": "for all MAX attributes added what happens if that limit is exceeded.\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5NzMzMjg3", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1550#pullrequestreview-469733287", "createdAt": "2020-08-18T18:51:01Z", "commit": {"oid": "b20aa2e9915a0c164404c7ad184e6a4a4fce1477"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxODo1MTowMlrOHChmow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxODo1MTowMlrOHChmow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQwOTc2Mw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            `TraceConfig` associated with `TracerSdkProvider` can be updated via system properties, \n          \n          \n            \n            The `TraceConfig` associated with a `TracerSdkProvider` can be updated via system properties,", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1550#discussion_r472409763", "createdAt": "2020-08-18T18:51:02Z", "author": {"login": "jkwatson"}, "path": "QUICKSTART.md", "diffHunk": "@@ -402,6 +403,43 @@ tracerProvider.addSpanProcessor(BatchSpanProcessor.newBuilder(\n ).build());\n ```\n \n+### TraceConfig\n+\n+`TraceConfig` associated with `TracerSdkProvider` can be updated via system properties, ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b20aa2e9915a0c164404c7ad184e6a4a4fce1477"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY5NzM0MjA1", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1550#pullrequestreview-469734205", "createdAt": "2020-08-18T18:52:19Z", "commit": {"oid": "b20aa2e9915a0c164404c7ad184e6a4a4fce1477"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a28297daf8fd44453e442a66b8a15b935eccbca5", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/a28297daf8fd44453e442a66b8a15b935eccbca5", "committedDate": "2020-08-19T01:29:43Z", "message": "add defaults and rewording\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwMTAyMTI4", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1550#pullrequestreview-470102128", "createdAt": "2020-08-19T03:38:14Z", "commit": {"oid": "a28297daf8fd44453e442a66b8a15b935eccbca5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwMTYwMzEw", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1550#pullrequestreview-470160310", "createdAt": "2020-08-19T06:32:06Z", "commit": {"oid": "a28297daf8fd44453e442a66b8a15b935eccbca5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2356, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}