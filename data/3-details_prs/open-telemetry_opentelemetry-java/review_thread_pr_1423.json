{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwMzQyODMx", "number": 1423, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNjo1ODo0MVrOEPOAZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwMDoyMjo1OFrOEPWdfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0MzkzNTc1OnYy", "diffSide": "RIGHT", "path": "sdk_extensions/zpages/src/main/java/io/opentelemetry/sdk/extensions/zpages/ZPageServer.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNjo1ODo0MVrOGy0A_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQxNzowNzoyOFrOGy0VXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkzNDIwNQ==", "bodyText": "nit: this should end with .", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1423#discussion_r455934205", "createdAt": "2020-07-16T16:58:41Z", "author": {"login": "LinghanX"}, "path": "sdk_extensions/zpages/src/main/java/io/opentelemetry/sdk/extensions/zpages/ZPageServer.java", "diffHunk": "@@ -59,7 +60,7 @@\n  */\n @ThreadSafe\n public final class ZPageServer {\n-  // The maximum number of queued incoming connections allowed on the HttpServer listening socket.\n+  // The maximum number of queued incoming connections allowed on the HttpServer listening socket", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d8a6a82a45372150ddaebba3a3de0efd4f44e31"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkzNTUxNA==", "bodyText": "Should all comments end with .?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1423#discussion_r455935514", "createdAt": "2020-07-16T17:00:49Z", "author": {"login": "wtyanan"}, "path": "sdk_extensions/zpages/src/main/java/io/opentelemetry/sdk/extensions/zpages/ZPageServer.java", "diffHunk": "@@ -59,7 +60,7 @@\n  */\n @ThreadSafe\n public final class ZPageServer {\n-  // The maximum number of queued incoming connections allowed on the HttpServer listening socket.\n+  // The maximum number of queued incoming connections allowed on the HttpServer listening socket", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkzNDIwNQ=="}, "originalCommit": {"oid": "4d8a6a82a45372150ddaebba3a3de0efd4f44e31"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkzOTQyMQ==", "bodyText": "I don't think we need to end them all with period, especially since this isn't actually a sentence. :)", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1423#discussion_r455939421", "createdAt": "2020-07-16T17:07:28Z", "author": {"login": "jkwatson"}, "path": "sdk_extensions/zpages/src/main/java/io/opentelemetry/sdk/extensions/zpages/ZPageServer.java", "diffHunk": "@@ -59,7 +60,7 @@\n  */\n @ThreadSafe\n public final class ZPageServer {\n-  // The maximum number of queued incoming connections allowed on the HttpServer listening socket.\n+  // The maximum number of queued incoming connections allowed on the HttpServer listening socket", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTkzNDIwNQ=="}, "originalCommit": {"oid": "4d8a6a82a45372150ddaebba3a3de0efd4f44e31"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NDYyNDMwOnYy", "diffSide": "RIGHT", "path": "sdk_extensions/zpages/src/main/java/io/opentelemetry/sdk/extensions/zpages/IndexZPageHandler.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMDowMDoyNVrOGy6seg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMDowMDoyNVrOGy6seg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjA0MzY0Mg==", "bodyText": "I wish the font were slightly bigger in the text on the page, but that's a very minor issue.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1423#discussion_r456043642", "createdAt": "2020-07-16T20:00:25Z", "author": {"login": "jkwatson"}, "path": "sdk_extensions/zpages/src/main/java/io/opentelemetry/sdk/extensions/zpages/IndexZPageHandler.java", "diffHunk": "@@ -0,0 +1,108 @@\n+/*\n+ * Copyright 2020, OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.sdk.extensions.zpages;\n+\n+import java.io.OutputStream;\n+import java.io.PrintStream;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.logging.Level;\n+import java.util.logging.Logger;\n+import javax.annotation.Nullable;\n+\n+final class IndexZPageHandler extends ZPageHandler {\n+  private static final String INDEX_URL = \"/\";\n+  private static final String INDEX_NAME = \"Index\";\n+  private static final String INDEX_DESCRITION = \"Index page of zPages\";\n+  private static final Logger logger = Logger.getLogger(IndexZPageHandler.class.getName());\n+  @Nullable private final List<ZPageHandler> availableHandlers;\n+\n+  IndexZPageHandler(@Nullable List<ZPageHandler> availableHandlers) {\n+    this.availableHandlers = availableHandlers;\n+  }\n+\n+  @Override\n+  public String getUrlPath() {\n+    return INDEX_URL;\n+  }\n+\n+  @Override\n+  public String getPageName() {\n+    return INDEX_NAME;\n+  }\n+\n+  @Override\n+  public String getPageDescription() {\n+    return INDEX_DESCRITION;\n+  }\n+\n+  private static void emitPageLinkAndInfo(PrintStream out, ZPageHandler handler) {\n+    out.print(\"<a href=\\\"\" + handler.getUrlPath() + \"\\\">\");\n+    out.print(\"<h2 style=\\\"text-align: left;\\\">\" + handler.getPageName() + \"</h2>\");\n+    out.print(\"</a>\");\n+    out.print(\"<p>\" + handler.getPageDescription() + \"</p>\");\n+  }\n+\n+  @Override\n+  public void emitHtml(Map<String, String> queryMap, OutputStream outputStream) {\n+    // PrintStream for emiting HTML contents\n+    try (PrintStream out = new PrintStream(outputStream, /* autoFlush= */ false, \"UTF-8\")) {\n+      out.print(\"<!DOCTYPE html>\");\n+      out.print(\"<html lang=\\\"en\\\">\");\n+      out.print(\"<head>\");\n+      out.print(\"<meta charset=\\\"UTF-8\\\">\");\n+      out.print(\n+          \"<link rel=\\\"shortcut icon\\\" href=\\\"data:image/png;base64,\"\n+              + ZPageLogo.getFaviconBase64()\n+              + \"\\\" type=\\\"image/png\\\">\");\n+      out.print(\n+          \"<link href=\\\"https://fonts.googleapis.com/css?family=Open+Sans:300\\\"\"\n+              + \"rel=\\\"stylesheet\\\">\");\n+      out.print(\n+          \"<link href=\\\"https://fonts.googleapis.com/css?family=Roboto\\\" rel=\\\"stylesheet\\\">\");\n+      out.print(\"<title>zPages</title>\");\n+      out.print(\"<style>\");\n+      out.print(ZPageStyle.style);\n+      out.print(\"</style>\");\n+      out.print(\"</head>\");\n+      out.print(\"<body>\");\n+      out.print(\n+          \"<a href=\\\"/\\\"><img style=\\\"height: 90px;\\\" src=\\\"data:image/png;base64,\"\n+              + ZPageLogo.getLogoBase64()\n+              + \"\\\" /></a>\");\n+      out.print(\"<h1 style=\\\"text-align: left;\\\">zPages</h1>\");\n+      out.print(\n+          \"<p>OpenTelemetry provides in-process web pages that display collected data from\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4d8a6a82a45372150ddaebba3a3de0efd4f44e31"}, "originalPosition": 89}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NTMyMDk1OnYy", "diffSide": "RIGHT", "path": "sdk_extensions/zpages/src/main/java/io/opentelemetry/sdk/extensions/zpages/IndexZPageHandler.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QwMDoyMjo1OFrOGzBLOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QxNDo0MTozMVrOGzVsFg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE0OTgxOA==", "bodyText": "We should almost never have a nullable container, if there are no handlers the caller would just pass empty", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1423#discussion_r456149818", "createdAt": "2020-07-17T00:22:58Z", "author": {"login": "anuraaga"}, "path": "sdk_extensions/zpages/src/main/java/io/opentelemetry/sdk/extensions/zpages/IndexZPageHandler.java", "diffHunk": "@@ -0,0 +1,108 @@\n+/*\n+ * Copyright 2020, OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.sdk.extensions.zpages;\n+\n+import java.io.OutputStream;\n+import java.io.PrintStream;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.logging.Level;\n+import java.util.logging.Logger;\n+import javax.annotation.Nullable;\n+\n+final class IndexZPageHandler extends ZPageHandler {\n+  private static final String INDEX_URL = \"/\";\n+  private static final String INDEX_NAME = \"Index\";\n+  private static final String INDEX_DESCRITION = \"Index page of zPages\";\n+  private static final Logger logger = Logger.getLogger(IndexZPageHandler.class.getName());\n+  @Nullable private final List<ZPageHandler> availableHandlers;\n+\n+  IndexZPageHandler(@Nullable List<ZPageHandler> availableHandlers) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3bf2bab05d5cf0d743278832cfc0287bf25cca63"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQ0OTgyMA==", "bodyText": "Should I make adjustment and open another PR?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1423#discussion_r456449820", "createdAt": "2020-07-17T13:41:44Z", "author": {"login": "wtyanan"}, "path": "sdk_extensions/zpages/src/main/java/io/opentelemetry/sdk/extensions/zpages/IndexZPageHandler.java", "diffHunk": "@@ -0,0 +1,108 @@\n+/*\n+ * Copyright 2020, OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.sdk.extensions.zpages;\n+\n+import java.io.OutputStream;\n+import java.io.PrintStream;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.logging.Level;\n+import java.util.logging.Logger;\n+import javax.annotation.Nullable;\n+\n+final class IndexZPageHandler extends ZPageHandler {\n+  private static final String INDEX_URL = \"/\";\n+  private static final String INDEX_NAME = \"Index\";\n+  private static final String INDEX_DESCRITION = \"Index page of zPages\";\n+  private static final Logger logger = Logger.getLogger(IndexZPageHandler.class.getName());\n+  @Nullable private final List<ZPageHandler> availableHandlers;\n+\n+  IndexZPageHandler(@Nullable List<ZPageHandler> availableHandlers) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE0OTgxOA=="}, "originalCommit": {"oid": "3bf2bab05d5cf0d743278832cfc0287bf25cca63"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjQ4NTkxMA==", "bodyText": "Yeah I think that'd be nice :)", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1423#discussion_r456485910", "createdAt": "2020-07-17T14:41:31Z", "author": {"login": "anuraaga"}, "path": "sdk_extensions/zpages/src/main/java/io/opentelemetry/sdk/extensions/zpages/IndexZPageHandler.java", "diffHunk": "@@ -0,0 +1,108 @@\n+/*\n+ * Copyright 2020, OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.sdk.extensions.zpages;\n+\n+import java.io.OutputStream;\n+import java.io.PrintStream;\n+import java.util.List;\n+import java.util.Map;\n+import java.util.logging.Level;\n+import java.util.logging.Logger;\n+import javax.annotation.Nullable;\n+\n+final class IndexZPageHandler extends ZPageHandler {\n+  private static final String INDEX_URL = \"/\";\n+  private static final String INDEX_NAME = \"Index\";\n+  private static final String INDEX_DESCRITION = \"Index page of zPages\";\n+  private static final Logger logger = Logger.getLogger(IndexZPageHandler.class.getName());\n+  @Nullable private final List<ZPageHandler> availableHandlers;\n+\n+  IndexZPageHandler(@Nullable List<ZPageHandler> availableHandlers) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjE0OTgxOA=="}, "originalCommit": {"oid": "3bf2bab05d5cf0d743278832cfc0287bf25cca63"}, "originalPosition": 34}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1485, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}