{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0Mjk3NDI4", "number": 771, "title": "Ignore null or blank string-valued span attributes.", "bodyText": "resolves #765", "createdAt": "2020-01-17T20:00:25Z", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/771", "merged": true, "mergeCommit": {"oid": "42bff3e9223181af800c76186744472c13499b0a"}, "closed": true, "closedAt": "2020-01-17T23:10:16Z", "author": {"login": "jkwatson"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb7UV5ogH2gAyMzY0Mjk3NDI4OmZmYjFmYjRhZjRhZTA4YjdkOTg4ZGY2ZWFiMjI5NjdkNWFmZGQxODc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb7XFGhgFqTM0NDg4ODUzMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ffb1fb4af4ae08b7d988df6eab22967d5afdd187", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/ffb1fb4af4ae08b7d988df6eab22967d5afdd187", "committedDate": "2020-01-17T19:58:29Z", "message": "Ignore null or blank string-valued span attributes."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71b9b77da949061995cb35e24fd90b3f05fcc903", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/71b9b77da949061995cb35e24fd90b3f05fcc903", "committedDate": "2020-01-17T21:10:31Z", "message": "also ignore null & blank strings on active span attributes."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0ODYzMDMz", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/771#pullrequestreview-344863033", "createdAt": "2020-01-17T21:56:12Z", "commit": {"oid": "71b9b77da949061995cb35e24fd90b3f05fcc903"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QyMTo1NjoxMlrOFfGQjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QyMTo1NjoxMlrOFfGQjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE1MjcxNw==", "bodyText": "Do we want to count this as dropped or we simply ignore?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/771#discussion_r368152717", "createdAt": "2020-01-17T21:56:12Z", "author": {"login": "bogdandrutu"}, "path": "sdk/src/main/java/io/opentelemetry/sdk/trace/SpanBuilderSdk.java", "diffHunk": "@@ -137,6 +138,9 @@\n \n   @Override\n   public Span.Builder setAttribute(String key, String value) {\n+    if (StringUtils.isNullOrBlank(value)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71b9b77da949061995cb35e24fd90b3f05fcc903"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0ODY2NDEz", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/771#pullrequestreview-344866413", "createdAt": "2020-01-17T22:04:33Z", "commit": {"oid": "71b9b77da949061995cb35e24fd90b3f05fcc903"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QyMjowNDozM1rOFfGa8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QyMjowNTowMlrOFfGbfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE1NTM3Ng==", "bodyText": "What is the behavior for AttributeValue.stringAttributeValue(value) in case a null string is passed?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/771#discussion_r368155376", "createdAt": "2020-01-17T22:04:33Z", "author": {"login": "bogdandrutu"}, "path": "sdk/src/main/java/io/opentelemetry/sdk/trace/SpanBuilderSdk.java", "diffHunk": "@@ -137,6 +138,9 @@\n \n   @Override\n   public Span.Builder setAttribute(String key, String value) {\n+    if (StringUtils.isNullOrBlank(value)) {\n+      return this;\n+    }\n     return setAttribute(key, AttributeValue.stringAttributeValue(value));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71b9b77da949061995cb35e24fd90b3f05fcc903"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE1NTUxNg==", "bodyText": "Fine with this for the moment, may be unexpected for users especially for empty.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/771#discussion_r368155516", "createdAt": "2020-01-17T22:05:02Z", "author": {"login": "bogdandrutu"}, "path": "sdk/src/main/java/io/opentelemetry/sdk/trace/SpanBuilderSdk.java", "diffHunk": "@@ -137,6 +138,9 @@\n \n   @Override\n   public Span.Builder setAttribute(String key, String value) {\n+    if (StringUtils.isNullOrBlank(value)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODE1MjcxNw=="}, "originalCommit": {"oid": "71b9b77da949061995cb35e24fd90b3f05fcc903"}, "originalPosition": 12}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e77fcb292510ff2ea9979757e2e3a9c0735e56d", "author": {"user": null}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/0e77fcb292510ff2ea9979757e2e3a9c0735e56d", "committedDate": "2020-01-17T22:30:09Z", "message": "change to ignore at the AttributeValue level, rather than above"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0ODg2NTk3", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/771#pullrequestreview-344886597", "createdAt": "2020-01-17T23:02:59Z", "commit": {"oid": "0e77fcb292510ff2ea9979757e2e3a9c0735e56d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0ODg4NTMy", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/771#pullrequestreview-344888532", "createdAt": "2020-01-17T23:09:51Z", "commit": {"oid": "0e77fcb292510ff2ea9979757e2e3a9c0735e56d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3256, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}