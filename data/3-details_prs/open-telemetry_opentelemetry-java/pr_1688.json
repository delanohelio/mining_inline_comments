{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxODM2MDMy", "number": 1688, "title": "validate version from traceparent according to spec", "bodyText": "fix #1674\nspec: https://www.w3.org/TR/trace-context/#version", "createdAt": "2020-09-23T14:47:16Z", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1688", "merged": true, "mergeCommit": {"oid": "5498ab2b82fd7c54bb08acbfdd1968ae742870cc"}, "closed": true, "closedAt": "2020-09-25T00:05:31Z", "author": {"login": "malafeev"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLtuCegH2gAyNDkxODM2MDMyOjExOGU4N2U4YjNkOWYzZmYzNDM0MmRiYjEzODU3YjBjODdiZTY5YzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdMKUHegFqTQ5NjAyNzI3Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "118e87e8b3d9f3ff34342dbb13857b0c87be69c1", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/118e87e8b3d9f3ff34342dbb13857b0c87be69c1", "committedDate": "2020-09-23T14:46:25Z", "message": "#1674 validate version from traceparent according to spec\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NzUxMDY1", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1688#pullrequestreview-494751065", "createdAt": "2020-09-23T14:55:21Z", "commit": {"oid": "118e87e8b3d9f3ff34342dbb13857b0c87be69c1"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NzU5MTgx", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1688#pullrequestreview-494759181", "createdAt": "2020-09-23T15:02:45Z", "commit": {"oid": "118e87e8b3d9f3ff34342dbb13857b0c87be69c1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NzU5NjQx", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1688#pullrequestreview-494759641", "createdAt": "2020-09-23T15:03:10Z", "commit": {"oid": "118e87e8b3d9f3ff34342dbb13857b0c87be69c1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNTowMzoxMVrOHWzDsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNTowMzoxMVrOHWzDsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzY2NzI0OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            public class TraceVersion {\n          \n          \n            \n            final class TraceVersion {", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1688#discussion_r493667249", "createdAt": "2020-09-23T15:03:11Z", "author": {"login": "Oberon00"}, "path": "api/src/main/java/io/opentelemetry/trace/TraceVersion.java", "diffHunk": "@@ -0,0 +1,34 @@\n+/*\n+ * Copyright 2020, OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.trace;\n+\n+public class TraceVersion {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "118e87e8b3d9f3ff34342dbb13857b0c87be69c1"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NzYwMzM5", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1688#pullrequestreview-494760339", "createdAt": "2020-09-23T15:03:51Z", "commit": {"oid": "118e87e8b3d9f3ff34342dbb13857b0c87be69c1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNTowMzo1MVrOHWzFrw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNTowMzo1MVrOHWzFrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzY2Nzc1OQ==", "bodyText": "Shouldn't we check whether there is a trailing - too? What does W3C say?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1688#discussion_r493667759", "createdAt": "2020-09-23T15:03:51Z", "author": {"login": "Oberon00"}, "path": "api/src/main/java/io/opentelemetry/trace/propagation/HttpTraceContext.java", "diffHunk": "@@ -198,6 +199,11 @@ private static SpanContext extractContextFromTraceParent(String traceparent) {\n     }\n \n     try {\n+      String version = traceparent.substring(0, 2);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "118e87e8b3d9f3ff34342dbb13857b0c87be69c1"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0NzY5Nzcy", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1688#pullrequestreview-494769772", "createdAt": "2020-09-23T15:13:13Z", "commit": {"oid": "118e87e8b3d9f3ff34342dbb13857b0c87be69c1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNToxMzoxNFrOHWziBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QxNToxMzoxNFrOHWziBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzY3NTAxMw==", "bodyText": "I'm not sure we need a whole class just for one method. Could this just be a method on the HttpTraceContext itself?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1688#discussion_r493675013", "createdAt": "2020-09-23T15:13:14Z", "author": {"login": "jkwatson"}, "path": "api/src/main/java/io/opentelemetry/trace/TraceVersion.java", "diffHunk": "@@ -0,0 +1,34 @@\n+/*\n+ * Copyright 2020, OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.trace;\n+\n+public class TraceVersion {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "118e87e8b3d9f3ff34342dbb13857b0c87be69c1"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa6be04b6dc45144db89d5a3f0c8d832cab45a4f", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/fa6be04b6dc45144db89d5a3f0c8d832cab45a4f", "committedDate": "2020-09-23T15:24:07Z", "message": "add test\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "534e85c1ac34576c3e1d3cdd588b9d28b80fff1a", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/534e85c1ac34576c3e1d3cdd588b9d28b80fff1a", "committedDate": "2020-09-23T15:41:10Z", "message": "add test\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e886d45291717b061cc00f7afac3fd29eaa024e2", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/e886d45291717b061cc00f7afac3fd29eaa024e2", "committedDate": "2020-09-24T12:23:11Z", "message": "rename TraceVersion to WireFormatUtils\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a839709e562f80f767f25195a7664b96c71c8c9", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/0a839709e562f80f767f25195a7664b96c71c8c9", "committedDate": "2020-09-24T12:23:47Z", "message": "rename test method\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1NjM1NzIy", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1688#pullrequestreview-495635722", "createdAt": "2020-09-24T14:30:16Z", "commit": {"oid": "0a839709e562f80f767f25195a7664b96c71c8c9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNDozMDoxNlrOHXdxSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxNDozMDoxNlrOHXdxSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDM2NzA0OA==", "bodyText": "This is a sort of strange public API - not clear what wire format or version this is referring to, and pretty narrow use case. I think this was added because of the visibility of BigEndianEncoding but how about my suggestion of just precomputing the possible valid values and comparing to avoid needing this?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1688#discussion_r494367048", "createdAt": "2020-09-24T14:30:16Z", "author": {"login": "anuraaga"}, "path": "api/src/main/java/io/opentelemetry/trace/WireFormatUtils.java", "diffHunk": "@@ -0,0 +1,34 @@\n+/*\n+ * Copyright 2020, OpenTelemetry Authors\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package io.opentelemetry.trace;\n+\n+public class WireFormatUtils {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0a839709e562f80f767f25195a7664b96c71c8c9"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01cec21e2ecd3edde3d3ee856e11863f9b341a29", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/01cec21e2ecd3edde3d3ee856e11863f9b341a29", "committedDate": "2020-09-24T15:52:45Z", "message": "use precalculated versions\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d33d18ce74de49f7dcd23fab8303cae173b3d7c", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/5d33d18ce74de49f7dcd23fab8303cae173b3d7c", "committedDate": "2020-09-24T15:53:23Z", "message": "get rid of unneded class\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26cf783d6571bbe61a889a3e3c7ea5e849f991a4", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/26cf783d6571bbe61a889a3e3c7ea5e849f991a4", "committedDate": "2020-09-24T15:54:06Z", "message": "get rid of empty lines\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ff024d65996dc8704e44ab6da6e7ffe0c8f4e32", "author": {"user": {"login": "malafeev", "name": "Sergei Malafeev"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/0ff024d65996dc8704e44ab6da6e7ffe0c8f4e32", "committedDate": "2020-09-24T16:04:27Z", "message": "fix style\n\nSigned-off-by: Sergei Malafeev <sergei@malafeev.org>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1ODM3MjE3", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1688#pullrequestreview-495837217", "createdAt": "2020-09-24T18:17:51Z", "commit": {"oid": "0ff024d65996dc8704e44ab6da6e7ffe0c8f4e32"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk2MDI3Mjcz", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1688#pullrequestreview-496027273", "createdAt": "2020-09-25T00:05:21Z", "commit": {"oid": "0ff024d65996dc8704e44ab6da6e7ffe0c8f4e32"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3479, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}