{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM0MTQ2ODM2", "number": 2223, "title": "Allow adding span processors when building a tracer provider.", "bodyText": "Similar to how we added to OpenTelemetrySdk.Builder I think we should have it here for symmetry and for users that only interact with the tracer-sdk.", "createdAt": "2020-12-08T06:02:42Z", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2223", "merged": true, "mergeCommit": {"oid": "fb5b497986c208a0dd7b3cb4d4149595fefbebd0"}, "closed": true, "closedAt": "2020-12-18T21:04:25Z", "author": {"login": "anuraaga"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkDtcwAH2gAyNTM0MTQ2ODM2OjUwZjgwNTQxODhmODAwMWE4YmI1ZTg4MjkxMmIyN2M3Y2M2M2RmNDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdneq7DgFqTU1NTgxMjY0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "50f8054188f8001a8bb5e882912b27c7cc63df46", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/50f8054188f8001a8bb5e882912b27c7cc63df46", "committedDate": "2020-12-08T05:57:52Z", "message": "Allow adding span processors when building a tracer provider."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5d1b8bfcd39626af5cd4a6fa56cc7e48203b1bb", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/a5d1b8bfcd39626af5cd4a6fa56cc7e48203b1bb", "committedDate": "2020-12-08T06:54:46Z", "message": "Drift"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3NDcyOTcw", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2223#pullrequestreview-547472970", "createdAt": "2020-12-08T17:40:16Z", "commit": {"oid": "a5d1b8bfcd39626af5cd4a6fa56cc7e48203b1bb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0MDoxNlrOIBsbCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0MDoxNlrOIBsbCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY0NzMwNA==", "bodyText": "the downside about removing this is that now we won't be adding span processors to a pre-configured SDK. Not sure if we're ok with that or not. I know we've chatted about removing the ability to provide the fully configured SDK altogether, which would make this (obviously) just fine.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2223#discussion_r538647304", "createdAt": "2020-12-08T17:40:16Z", "author": {"login": "jkwatson"}, "path": "sdk/all/src/main/java/io/opentelemetry/sdk/OpenTelemetrySdk.java", "diffHunk": "@@ -216,10 +216,6 @@ public OpenTelemetrySdk build() {\n       MeterProvider meterProvider = buildMeterProvider();\n       TracerSdkProvider tracerProvider = buildTracerProvider();\n \n-      for (SpanProcessor spanProcessor : spanProcessors) {\n-        tracerProvider.addSpanProcessor(spanProcessor);\n-      }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a5d1b8bfcd39626af5cd4a6fa56cc7e48203b1bb"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3NDc4NjUw", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2223#pullrequestreview-547478650", "createdAt": "2020-12-08T17:47:16Z", "commit": {"oid": "a5d1b8bfcd39626af5cd4a6fa56cc7e48203b1bb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0NzoxNlrOIBs33A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOFQxNzo0NzoxNlrOIBs33A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY1NDY4NA==", "bodyText": "should we also do this up on line 236 to preserve backward compatibility? I was very surprised that there wasn't a unit test that verified this.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2223#discussion_r538654684", "createdAt": "2020-12-08T17:47:16Z", "author": {"login": "jkwatson"}, "path": "sdk/all/src/main/java/io/opentelemetry/sdk/OpenTelemetrySdk.java", "diffHunk": "@@ -252,6 +248,7 @@ private TracerSdkProvider buildTracerProvider() {\n       if (traceConfig != null) {\n         tracerProviderBuilder.setTraceConfig(traceConfig);\n       }\n+      spanProcessors.forEach(tracerProviderBuilder::addSpanProcessor);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a5d1b8bfcd39626af5cd4a6fa56cc7e48203b1bb"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3NjMwMzc0", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2223#pullrequestreview-547630374", "createdAt": "2020-12-08T21:04:05Z", "commit": {"oid": "a5d1b8bfcd39626af5cd4a6fa56cc7e48203b1bb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4dab61a0ee89bb2b24b4c1e43840a616381b417", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/f4dab61a0ee89bb2b24b4c1e43840a616381b417", "committedDate": "2020-12-09T02:21:32Z", "message": "Mutate provided providers too for now."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3Nzg1OTE1", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2223#pullrequestreview-547785915", "createdAt": "2020-12-09T02:20:03Z", "commit": {"oid": "a5d1b8bfcd39626af5cd4a6fa56cc7e48203b1bb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwMjoyMDowM1rOIB_Iuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwMjoyMDowM1rOIB_Iuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODk1MzkxNQ==", "bodyText": "Thanks, didn't notice / intend the change in behavior.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2223#discussion_r538953915", "createdAt": "2020-12-09T02:20:03Z", "author": {"login": "anuraaga"}, "path": "sdk/all/src/main/java/io/opentelemetry/sdk/OpenTelemetrySdk.java", "diffHunk": "@@ -252,6 +248,7 @@ private TracerSdkProvider buildTracerProvider() {\n       if (traceConfig != null) {\n         tracerProviderBuilder.setTraceConfig(traceConfig);\n       }\n+      spanProcessors.forEach(tracerProviderBuilder::addSpanProcessor);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzODY1NDY4NA=="}, "originalCommit": {"oid": "a5d1b8bfcd39626af5cd4a6fa56cc7e48203b1bb"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "108b948eb43cf45e39390df17ff2d09c28cf3141", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/108b948eb43cf45e39390df17ff2d09c28cf3141", "committedDate": "2020-12-15T06:01:09Z", "message": "Merge branch 'master' of github.com:open-telemetry/opentelemetry-java into tracer-sdk-builder-addspanprocessor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f02469fda92a6d335355310ef766ed6a4cec82e", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/9f02469fda92a6d335355310ef766ed6a4cec82e", "committedDate": "2020-12-17T02:12:13Z", "message": "Merge branch 'master' of github.com:open-telemetry/opentelemetry-java into tracer-sdk-builder-addspanprocessor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1aebbb7c47c03bb6ef9667b12182293e444001a", "author": {"user": {"login": "anuraaga", "name": "Anuraag Agrawal"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/b1aebbb7c47c03bb6ef9667b12182293e444001a", "committedDate": "2020-12-17T02:15:05Z", "message": "Spot"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NzY2Mzk2", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2223#pullrequestreview-554766396", "createdAt": "2020-12-17T16:21:49Z", "commit": {"oid": "b1aebbb7c47c03bb6ef9667b12182293e444001a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1ODEyNjQ2", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2223#pullrequestreview-555812646", "createdAt": "2020-12-18T21:04:19Z", "commit": {"oid": "b1aebbb7c47c03bb6ef9667b12182293e444001a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3580, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}