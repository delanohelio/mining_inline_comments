{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3MDUzOTM3", "number": 1210, "title": "Add API for UpDownCounter", "bodyText": "", "createdAt": "2020-05-13T01:04:31Z", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1210", "merged": true, "mergeCommit": {"oid": "e67fe84c600a4f0a63222a704a9e7f59c79db06e"}, "closed": true, "closedAt": "2020-05-13T17:00:10Z", "author": {"login": "bogdandrutu"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgywwZAFqTQxMDYwMjY1Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcg7qACABqjMzMzI5NjUyMzU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwNjAyNjU3", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1210#pullrequestreview-410602657", "createdAt": "2020-05-13T05:44:13Z", "commit": {"oid": "d30995119efead02328049a878574bb827dda756"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwNTo0NDoxNFrOGUiNDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwNTo0NDoxNFrOGUiNDQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDE4NTEwMQ==", "bodyText": "Following open-telemetry/community#113 (comment), should we stop reporting the year?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1210#discussion_r424185101", "createdAt": "2020-05-13T05:44:14Z", "author": {"login": "thisthat"}, "path": "api/src/main/java/io/opentelemetry/metrics/DoubleUpDownCounter.java", "diffHunk": "@@ -0,0 +1,108 @@\n+/*\n+ * Copyright 2019, OpenTelemetry Authors", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d30995119efead02328049a878574bb827dda756"}, "originalPosition": 2}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExMDE4OTcw", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1210#pullrequestreview-411018970", "createdAt": "2020-05-13T15:03:49Z", "commit": {"oid": "d30995119efead02328049a878574bb827dda756"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxNTowMzo0OVrOGU2Dag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxNTowMzo0OVrOGU2Dag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDUxMDMxNA==", "bodyText": "This implementation is different from the one above. You could move it up out of the inner classes and put it one level higher so it doesn't need to be repeated.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1210#discussion_r424510314", "createdAt": "2020-05-13T15:03:49Z", "author": {"login": "jkwatson"}, "path": "api/src/main/java/io/opentelemetry/metrics/DefaultMeter.java", "diffHunk": "@@ -150,21 +174,31 @@ public DoubleCounter build() {\n     private NoopLongCounter() {}\n \n     @Override\n-    public void add(long increment, String... labelKeyValuePairs) {}\n+    public void add(long increment, String... labelKeyValuePairs) {\n+      Utils.validateLabelPairs(labelKeyValuePairs);\n+      verifyIncrement(increment);\n+    }\n \n     @Override\n     public NoopBoundLongCounter bind(String... labelKeyValuePairs) {\n       Utils.validateLabelPairs(labelKeyValuePairs);\n       return NoopBoundLongCounter.INSTANCE;\n     }\n \n+    // Similar to add but does not verify labels.\n+    private static void verifyIncrement(long increment) {\n+      Utils.checkArgument(increment >= 0, \"Counters can only increase\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d30995119efead02328049a878574bb827dda756"}, "originalPosition": 80}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExMDMwNTY1", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1210#pullrequestreview-411030565", "createdAt": "2020-05-13T15:15:30Z", "commit": {"oid": "d30995119efead02328049a878574bb827dda756"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32e8fab3aa57ab378e36f2f4e7dd29db4a76b600", "author": {"user": {"login": "bogdandrutu", "name": "Bogdan Drutu"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/32e8fab3aa57ab378e36f2f4e7dd29db4a76b600", "committedDate": "2020-05-13T16:41:43Z", "message": "Add API for UpDownCounter\n\nSigned-off-by: Bogdan Drutu <bogdandrutu@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d30995119efead02328049a878574bb827dda756", "author": {"user": {"login": "bogdandrutu", "name": "Bogdan Drutu"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/d30995119efead02328049a878574bb827dda756", "committedDate": "2020-05-13T01:04:14Z", "message": "Add API for UpDownCounter\n\nSigned-off-by: Bogdan Drutu <bogdandrutu@gmail.com>"}, "afterCommit": {"oid": "32e8fab3aa57ab378e36f2f4e7dd29db4a76b600", "author": {"user": {"login": "bogdandrutu", "name": "Bogdan Drutu"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/32e8fab3aa57ab378e36f2f4e7dd29db4a76b600", "committedDate": "2020-05-13T16:41:43Z", "message": "Add API for UpDownCounter\n\nSigned-off-by: Bogdan Drutu <bogdandrutu@gmail.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2701, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}