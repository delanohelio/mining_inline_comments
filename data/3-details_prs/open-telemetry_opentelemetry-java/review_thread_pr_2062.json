{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5MzQxOTk2", "number": 2062, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQxNzozNjo1NFrOE3zjTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQxNzo0Njo0OVrOE3zxuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2OTUxNzU3OnYy", "diffSide": "RIGHT", "path": "api/src/main/java/io/opentelemetry/api/trace/SpanBuilder.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQxNzozNjo1NFrOHxXZaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQxNzozNjo1NFrOHxXZaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTUyNTYwOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             *   private static final Tracer tracer = OpenTelemetry.get().getTracer(\"com.anyco.rpc\");\n          \n          \n            \n             *   private static final Tracer tracer = OpenTelemetry.get().getTracer(\"com.example.rpc\");\n          \n      \n    \n    \n  \n\nThis would be the reserved domain by IANA for such purposes.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2062#discussion_r521525609", "createdAt": "2020-11-11T17:36:54Z", "author": {"login": "arminru"}, "path": "api/src/main/java/io/opentelemetry/api/trace/SpanBuilder.java", "diffHunk": "@@ -44,20 +45,20 @@\n  *\n  * <pre>{@code\n  * class MyRpcServerInterceptorListener implements RpcServerInterceptor.Listener {\n- *   private static final Tracer tracer = OpenTelemetry.getTracer();\n+ *   private static final Tracer tracer = OpenTelemetry.get().getTracer(\"com.anyco.rpc\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "95a2a1a5092a6d9a2260a354ea06912330654433"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2OTUzNDY2OnYy", "diffSide": "RIGHT", "path": "sdk/tracing/src/main/java/io/opentelemetry/sdk/trace/data/SpanData.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQxNzo0MTowMFrOHxXkEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQxODo1Mzo1OVrOHxaH2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTUyODMzOA==", "bodyText": "I think we currently still have enough other breaking changes that it is OK to completely remove this. It's just a renaming, right?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2062#discussion_r521528338", "createdAt": "2020-11-11T17:41:00Z", "author": {"login": "Oberon00"}, "path": "sdk/tracing/src/main/java/io/opentelemetry/sdk/trace/data/SpanData.java", "diffHunk": "@@ -340,12 +340,19 @@ static Status create(StatusCode code, @Nullable String description) {\n       return ImmutableStatus.create(code, description);\n     }\n \n+    /** Returns the status code. */\n+    StatusCode getStatusCode();\n+\n     /**\n-     * Returns the canonical status code.\n+     * Returns the status code.\n      *\n-     * @return the canonical status code.\n+     * @deprecated Please use {@link #getStatusCode()}. This method will be removed in the next\n+     *     release.\n      */\n-    StatusCode getCanonicalCode();\n+    @Deprecated", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "95a2a1a5092a6d9a2260a354ea06912330654433"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTU3MDI2NA==", "bodyText": "I've started thinking that since we're moving to a 2-week release cycle, that it would be more friendly to end users to introduce deprecations that are then deleted in the following release. We discussed this at the SIG meeting this morning, and it was generally agreed to.  This seemed like a easy way to ease into the practice. :)", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2062#discussion_r521570264", "createdAt": "2020-11-11T18:53:59Z", "author": {"login": "jkwatson"}, "path": "sdk/tracing/src/main/java/io/opentelemetry/sdk/trace/data/SpanData.java", "diffHunk": "@@ -340,12 +340,19 @@ static Status create(StatusCode code, @Nullable String description) {\n       return ImmutableStatus.create(code, description);\n     }\n \n+    /** Returns the status code. */\n+    StatusCode getStatusCode();\n+\n     /**\n-     * Returns the canonical status code.\n+     * Returns the status code.\n      *\n-     * @return the canonical status code.\n+     * @deprecated Please use {@link #getStatusCode()}. This method will be removed in the next\n+     *     release.\n      */\n-    StatusCode getCanonicalCode();\n+    @Deprecated", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTUyODMzOA=="}, "originalCommit": {"oid": "95a2a1a5092a6d9a2260a354ea06912330654433"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2OTUzNTUyOnYy", "diffSide": "RIGHT", "path": "sdk/tracing/src/test/java/io/opentelemetry/sdk/trace/testbed/errorreporting/ErrorReportingTest.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQxNzo0MToxNlrOHxXkoQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQyMDozMjowOVrOHxdPFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTUyODQ4MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                assertThat(spans.get(0).getStatus().getStatusCode()).isEqualTo(StatusCode.ERROR);\n          \n          \n            \n                assertThat(spans.get(0).getStatus().getStatusCode()).isEqualTo(StatusCode.ERROR);\n          \n          \n            \n                assertThat(spans.get(0).getStatus().getCanonicalCode()).isEqualTo(StatusCode.ERROR);\n          \n      \n    \n    \n  \n\nI'd also add tests assuring that the deprecated method still works and doesn't throw until it's removed.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2062#discussion_r521528481", "createdAt": "2020-11-11T17:41:16Z", "author": {"login": "arminru"}, "path": "sdk/tracing/src/test/java/io/opentelemetry/sdk/trace/testbed/errorreporting/ErrorReportingTest.java", "diffHunk": "@@ -50,7 +50,7 @@ void testSimpleError() {\n \n     List<SpanData> spans = otelTesting.getSpans();\n     assertThat(spans).hasSize(1);\n-    assertThat(spans.get(0).getStatus().getCanonicalCode()).isEqualTo(StatusCode.ERROR);\n+    assertThat(spans.get(0).getStatus().getStatusCode()).isEqualTo(StatusCode.ERROR);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "95a2a1a5092a6d9a2260a354ea06912330654433"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTU3MjM5Ng==", "bodyText": "fair enough. will add.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2062#discussion_r521572396", "createdAt": "2020-11-11T18:57:55Z", "author": {"login": "jkwatson"}, "path": "sdk/tracing/src/test/java/io/opentelemetry/sdk/trace/testbed/errorreporting/ErrorReportingTest.java", "diffHunk": "@@ -50,7 +50,7 @@ void testSimpleError() {\n \n     List<SpanData> spans = otelTesting.getSpans();\n     assertThat(spans).hasSize(1);\n-    assertThat(spans.get(0).getStatus().getCanonicalCode()).isEqualTo(StatusCode.ERROR);\n+    assertThat(spans.get(0).getStatus().getStatusCode()).isEqualTo(StatusCode.ERROR);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTUyODQ4MQ=="}, "originalCommit": {"oid": "95a2a1a5092a6d9a2260a354ea06912330654433"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTYyMTI3MQ==", "bodyText": "done!", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2062#discussion_r521621271", "createdAt": "2020-11-11T20:32:09Z", "author": {"login": "jkwatson"}, "path": "sdk/tracing/src/test/java/io/opentelemetry/sdk/trace/testbed/errorreporting/ErrorReportingTest.java", "diffHunk": "@@ -50,7 +50,7 @@ void testSimpleError() {\n \n     List<SpanData> spans = otelTesting.getSpans();\n     assertThat(spans).hasSize(1);\n-    assertThat(spans.get(0).getStatus().getCanonicalCode()).isEqualTo(StatusCode.ERROR);\n+    assertThat(spans.get(0).getStatus().getStatusCode()).isEqualTo(StatusCode.ERROR);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTUyODQ4MQ=="}, "originalCommit": {"oid": "95a2a1a5092a6d9a2260a354ea06912330654433"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2OTU1Mjg4OnYy", "diffSide": "RIGHT", "path": "api/src/main/java/io/opentelemetry/api/trace/SpanBuilder.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQxNzo0NjoxOFrOHxXvYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQxNzo0NjoxOFrOHxXvYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTUzMTIzMw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             *   private static final Tracer tracer = OpenTelemetry.get().getTracer(\"com.anyco.rpc\");\n          \n          \n            \n             *   private static final Tracer tracer = OpenTelemetry.get().getTracer(\"com.example.rpc\");", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2062#discussion_r521531233", "createdAt": "2020-11-11T17:46:18Z", "author": {"login": "arminru"}, "path": "api/src/main/java/io/opentelemetry/api/trace/SpanBuilder.java", "diffHunk": "@@ -84,10 +85,12 @@\n  *\n  * <pre>{@code\n  * class MyClass {\n- *   private static final Tracer tracer = OpenTelemetry.getTracer();\n- *   void DoWork(Span parent) {\n+ *   private static final Tracer tracer = OpenTelemetry.get().getTracer(\"com.anyco.rpc\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "95a2a1a5092a6d9a2260a354ea06912330654433"}, "originalPosition": 57}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2OTU1NDUxOnYy", "diffSide": "RIGHT", "path": "api/src/main/java/io/opentelemetry/api/trace/SpanBuilder.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQxNzo0Njo0OVrOHxXwZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMVQxNzo0Njo0OVrOHxXwZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMTUzMTQ5NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n               *   private static final Tracer tracer = OpenTelemetry.get().getTracer(\"com.anyco.rpc\");\n          \n          \n            \n               *   private static final Tracer tracer = OpenTelemetry.get().getTracer(\"com.example.rpc\");", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/2062#discussion_r521531495", "createdAt": "2020-11-11T17:46:49Z", "author": {"login": "arminru"}, "path": "api/src/main/java/io/opentelemetry/api/trace/SpanBuilder.java", "diffHunk": "@@ -290,10 +292,11 @@ default SpanBuilder setStartTimestamp(Instant startTimestamp) {\n    *\n    * <pre>{@code\n    * class MyClass {\n-   *   private static final Tracer tracer = OpenTelemetry.getTracer();\n-   *   void DoWork(Span parent) {\n+   *   private static final Tracer tracer = OpenTelemetry.get().getTracer(\"com.anyco.rpc\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "95a2a1a5092a6d9a2260a354ea06912330654433"}, "originalPosition": 83}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1935, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}