{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcxOTc5ODk1", "number": 1578, "title": "Create a static method on Attributes to create an Attributes builder from ReadableAttributes", "bodyText": "closes #1553", "createdAt": "2020-08-22T12:15:13Z", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1578", "merged": true, "mergeCommit": {"oid": "bea5492e6d34ad37f18b7c065acc0f8d47c98961"}, "closed": true, "closedAt": "2020-08-24T14:47:56Z", "author": {"login": "dengliming"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdBYWatAH2gAyNDcxOTc5ODk1OmVhOTJhYTJkMTBlYjExNDUwMDlhOWU0Njc0N2RlOGNlYWEwYzRkZmU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdB7QlCAFqTQ3MzExODg1OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ea92aa2d10eb1145009a9e46747de8ceaa0c4dfe", "author": {"user": {"login": "dengliming", "name": null}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/ea92aa2d10eb1145009a9e46747de8ceaa0c4dfe", "committedDate": "2020-08-22T12:13:22Z", "message": "Create a static method on Attributes to create an Attributes builder from ReadableAttributes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyOTM0NzAz", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1578#pullrequestreview-472934703", "createdAt": "2020-08-22T15:50:20Z", "commit": {"oid": "ea92aa2d10eb1145009a9e46747de8ceaa0c4dfe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMlQxNTo1MDoyMFrOHFGATA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMlQxNTo1MDoyMFrOHFGATA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTEwMzMwOA==", "bodyText": "I'd rather just copy in the internal data(), rather than use the forEach for this builder. I think it's a bit more direct and clear that way (and avoids the allocation of an extra consumer instance).", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1578#discussion_r475103308", "createdAt": "2020-08-22T15:50:20Z", "author": {"login": "jkwatson"}, "path": "api/src/main/java/io/opentelemetry/common/Attributes.java", "diffHunk": "@@ -133,6 +133,19 @@ public static Builder newBuilder() {\n     return new Builder();\n   }\n \n+  /** Returns a new {@link Builder} instance from ReadableAttributes. */\n+  public static Builder newBuilder(ReadableAttributes attributes) {\n+    final Builder builder = new Builder();\n+    attributes.forEach(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ea92aa2d10eb1145009a9e46747de8ceaa0c4dfe"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyOTYxMjM2", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1578#pullrequestreview-472961236", "createdAt": "2020-08-22T20:47:43Z", "commit": {"oid": "ea92aa2d10eb1145009a9e46747de8ceaa0c4dfe"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyOTg1Mjc1", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1578#pullrequestreview-472985275", "createdAt": "2020-08-23T06:49:24Z", "commit": {"oid": "ea92aa2d10eb1145009a9e46747de8ceaa0c4dfe"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yM1QwNjo0OToyNFrOHFKshA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yM1QwNjo0OToyNFrOHFKshA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTE4MDE2NA==", "bodyText": "Can you also add a test to make sure the original attributes isn't mutated?", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1578#discussion_r475180164", "createdAt": "2020-08-23T06:49:24Z", "author": {"login": "anuraaga"}, "path": "api/src/test/java/io/opentelemetry/common/AttributesTest.java", "diffHunk": "@@ -138,6 +138,17 @@ void builder() {\n                 \"long\", longAttributeValue(100),\n                 \"double\", doubleAttributeValue(33.44),\n                 \"boolean\", booleanAttributeValue(false)));\n+\n+    Attributes.Builder newAttributes = Attributes.newBuilder(attributes);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ea92aa2d10eb1145009a9e46747de8ceaa0c4dfe"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e78a9b8260fc7e72a0eeb78c4329dbed4961106", "author": {"user": {"login": "dengliming", "name": null}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/7e78a9b8260fc7e72a0eeb78c4329dbed4961106", "committedDate": "2020-08-23T08:43:19Z", "message": "Fix review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcyOTkyNzM4", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1578#pullrequestreview-472992738", "createdAt": "2020-08-23T08:45:24Z", "commit": {"oid": "7e78a9b8260fc7e72a0eeb78c4329dbed4961106"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMDI2NTg5", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1578#pullrequestreview-473026589", "createdAt": "2020-08-23T16:54:29Z", "commit": {"oid": "7e78a9b8260fc7e72a0eeb78c4329dbed4961106"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMTE4ODU5", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1578#pullrequestreview-473118859", "createdAt": "2020-08-24T04:53:40Z", "commit": {"oid": "7e78a9b8260fc7e72a0eeb78c4329dbed4961106"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2394, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}