{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxMTExOTk0", "number": 1259, "title": "Copy map attributes always to avoid unexpected changes", "bodyText": "", "createdAt": "2020-05-21T02:22:41Z", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1259", "merged": true, "mergeCommit": {"oid": "aa77435a9e9ef0c9b29f880ed41f88677209ea80"}, "closed": true, "closedAt": "2020-05-21T19:26:34Z", "author": {"login": "bogdandrutu"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcjdUf0AFqTQxNjEyNTczMA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcjijF4AFqTQxNjQxNTg1OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2MTI1NzMw", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1259#pullrequestreview-416125730", "createdAt": "2020-05-21T13:03:04Z", "commit": {"oid": "13f35afd4ca6ed305952393f8b0df00c7087e8ef"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2MzIzMjky", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1259#pullrequestreview-416323292", "createdAt": "2020-05-21T16:56:26Z", "commit": {"oid": "13f35afd4ca6ed305952393f8b0df00c7087e8ef"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNjo1NjoyNlrOGY64vQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMVQxNjo1NjoyNlrOGY64vQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODc4MzgwNQ==", "bodyText": "Since this method is also used elsewhere, I'd rather see it moved to a separate utility class, rather than leave it in here.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1259#discussion_r428783805", "createdAt": "2020-05-21T16:56:26Z", "author": {"login": "jkwatson"}, "path": "sdk/src/main/java/io/opentelemetry/sdk/trace/RecordEventsReadableSpan.java", "diffHunk": "@@ -387,24 +397,24 @@ public void addEvent(io.opentelemetry.trace.Event event, long timestamp) {\n     addTimedEvent(TimedEvent.create(timestamp, event));\n   }\n \n-  private Map<String, AttributeValue> limitEventAttributes(Map<String, AttributeValue> attributes) {\n-    if (attributes.size() <= this.maxNumberOfAttributesPerEvent) {\n-      return attributes;\n+  static Map<String, AttributeValue> copyAndLimitAttributes(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "13f35afd4ca6ed305952393f8b0df00c7087e8ef"}, "originalPosition": 100}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42c7868f95644d859a71e10195916054156d8d2e", "author": {"user": {"login": "bogdandrutu", "name": "Bogdan Drutu"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/42c7868f95644d859a71e10195916054156d8d2e", "committedDate": "2020-05-21T18:04:39Z", "message": "Copy map attributes always to avoid unexpected changes\n\nSigned-off-by: Bogdan Drutu <bogdandrutu@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "13f35afd4ca6ed305952393f8b0df00c7087e8ef", "author": {"user": {"login": "bogdandrutu", "name": "Bogdan Drutu"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/13f35afd4ca6ed305952393f8b0df00c7087e8ef", "committedDate": "2020-05-21T02:22:19Z", "message": "Copy map attributes always to avoid unexpected changes\n\nSigned-off-by: Bogdan Drutu <bogdandrutu@gmail.com>"}, "afterCommit": {"oid": "42c7868f95644d859a71e10195916054156d8d2e", "author": {"user": {"login": "bogdandrutu", "name": "Bogdan Drutu"}}, "url": "https://github.com/open-telemetry/opentelemetry-java/commit/42c7868f95644d859a71e10195916054156d8d2e", "committedDate": "2020-05-21T18:04:39Z", "message": "Copy map attributes always to avoid unexpected changes\n\nSigned-off-by: Bogdan Drutu <bogdandrutu@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2NDE1ODU4", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1259#pullrequestreview-416415858", "createdAt": "2020-05-21T19:08:32Z", "commit": {"oid": "42c7868f95644d859a71e10195916054156d8d2e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2767, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}