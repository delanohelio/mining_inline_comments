{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQzMjk3MTYw", "number": 1393, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwNjozMDo0MFrOEKw0BA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwODo1MzoyMlrOEKzqHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NzIwOTY0OnYy", "diffSide": "RIGHT", "path": "exporters/inmemory/src/main/java/io/opentelemetry/exporters/inmemory/InMemoryMetricExporter.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwNjozMDo0MFrOGr_IiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwNjozMDo0MFrOGr_IiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODc3NjMyOA==", "bodyText": "Please, add the copyright", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1393#discussion_r448776328", "createdAt": "2020-07-02T06:30:40Z", "author": {"login": "thisthat"}, "path": "exporters/inmemory/src/main/java/io/opentelemetry/exporters/inmemory/InMemoryMetricExporter.java", "diffHunk": "@@ -0,0 +1,83 @@\n+package io.opentelemetry.exporters.inmemory;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f85de029312edbbf5832ff3a6c1655318ee9f954"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NzIxMDMxOnYy", "diffSide": "RIGHT", "path": "exporters/inmemory/src/test/java/io/opentelemetry/exporters/inmemory/InMemoryMetricExporterTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwNjozMDo1N1rOGr_I6Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwNjozMDo1N1rOGr_I6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODc3NjQyNQ==", "bodyText": "Also here the copyright header is missing", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1393#discussion_r448776425", "createdAt": "2020-07-02T06:30:57Z", "author": {"login": "thisthat"}, "path": "exporters/inmemory/src/test/java/io/opentelemetry/exporters/inmemory/InMemoryMetricExporterTest.java", "diffHunk": "@@ -0,0 +1,100 @@\n+package io.opentelemetry.exporters.inmemory;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f85de029312edbbf5832ff3a6c1655318ee9f954"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NzIxNjE5OnYy", "diffSide": "RIGHT", "path": "exporters/inmemory/src/main/java/io/opentelemetry/exporters/inmemory/InMemoryMetricExporter.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwNjozMzoxMFrOGr_MVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwNjozMzoxMFrOGr_MVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODc3NzMwMg==", "bodyText": "Please, add some code in the Javadoc to show the usage of this exporter", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1393#discussion_r448777302", "createdAt": "2020-07-02T06:33:10Z", "author": {"login": "thisthat"}, "path": "exporters/inmemory/src/main/java/io/opentelemetry/exporters/inmemory/InMemoryMetricExporter.java", "diffHunk": "@@ -0,0 +1,83 @@\n+package io.opentelemetry.exporters.inmemory;\n+\n+import io.opentelemetry.sdk.metrics.data.MetricData;\n+import io.opentelemetry.sdk.metrics.export.MetricExporter;\n+import java.util.ArrayList;\n+import java.util.Collection;\n+import java.util.Collections;\n+import java.util.List;\n+import java.util.Queue;\n+import java.util.concurrent.LinkedBlockingQueue;\n+\n+/**\n+ * A {@link MetricExporter} implementation that can be used to test OpenTelemetry integration.\n+ */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f85de029312edbbf5832ff3a6c1655318ee9f954"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NzY1ODQ3OnYy", "diffSide": "RIGHT", "path": "exporters/inmemory/src/main/java/io/opentelemetry/exporters/inmemory/InMemoryMetricExporter.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwODo0ODo0OFrOGsDg-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwODo0ODo0OFrOGsDg-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODg0ODEyMg==", "bodyText": "nit: 2020", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1393#discussion_r448848122", "createdAt": "2020-07-02T08:48:48Z", "author": {"login": "thisthat"}, "path": "exporters/inmemory/src/main/java/io/opentelemetry/exporters/inmemory/InMemoryMetricExporter.java", "diffHunk": "@@ -1,3 +1,19 @@\n+/*\n+ * Copyright 2019, OpenTelemetry Authors", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e61b37b0ba1ed575b4705c69970eae71a540c8e3"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NzY2Mjc1OnYy", "diffSide": "RIGHT", "path": "exporters/inmemory/src/test/java/io/opentelemetry/exporters/inmemory/InMemoryMetricExporterTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwODo1MDowMlrOGsDjww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwODo1MDowMlrOGsDjww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODg0ODgzNQ==", "bodyText": "nit: 2020", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1393#discussion_r448848835", "createdAt": "2020-07-02T08:50:02Z", "author": {"login": "thisthat"}, "path": "exporters/inmemory/src/test/java/io/opentelemetry/exporters/inmemory/InMemoryMetricExporterTest.java", "diffHunk": "@@ -1,5 +1,23 @@\n+/*\n+ * Copyright 2019, OpenTelemetry Authors", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e61b37b0ba1ed575b4705c69970eae71a540c8e3"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NzY3NTgxOnYy", "diffSide": "RIGHT", "path": "exporters/inmemory/src/main/java/io/opentelemetry/exporters/inmemory/InMemoryMetricExporter.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwODo1MzoyMlrOGsDsJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwODo1MzoyMlrOGsDsJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODg1MDk4Mw==", "bodyText": "I would just inline all methods, but setup() and use a single meter. The idea is to have just a minimal example to showcase the usage.", "url": "https://github.com/open-telemetry/opentelemetry-java/pull/1393#discussion_r448850983", "createdAt": "2020-07-02T08:53:22Z", "author": {"login": "thisthat"}, "path": "exporters/inmemory/src/main/java/io/opentelemetry/exporters/inmemory/InMemoryMetricExporter.java", "diffHunk": "@@ -11,11 +27,68 @@\n \n /**\n  * A {@link MetricExporter} implementation that can be used to test OpenTelemetry integration.\n+ *\n+ * <p>Can be created using {@code InMemoryMetricExporter.create()}\n+ *\n+ * <p>Example usage:\n+ *\n+ * <pre><code>\n+ * public class InMemoryMetricExporterExample {\n+ *\n+ *   // creating InMemoryMetricExporter\n+ *   private final InMemoryMetricExporter exporter = InMemoryMetricExporter.create();\n+ *   private final MeterSdkProvider meterSdkProvider = OpenTelemetrySdk.getMeterProvider();\n+ *   private final Meter meter = meterSdkProvider.get(\"InMemoryMetricExporterExample\");\n+ *   private IntervalMetricReader intervalMetricReader;\n+ *\n+ *   void setup() {\n+ *     intervalMetricReader =\n+ *         IntervalMetricReader.builder()\n+ *             .setMetricExporter(exporter)\n+ *             .setMetricProducers(Collections.singletonList(meterSdkProvider.getMetricProducer()))\n+ *             .setExportIntervalMillis(1000)\n+ *             .build();\n+ *   }\n+ *\n+ *   List&lt;MetricData&gt; readExportedMetrics() {\n+ *     return exporter.getFinishedMetricItems();\n+ *   }\n+ *\n+ *   void shutdown() {\n+ *     intervalMetricReader.shutdown();\n+ *   }\n+ *\n+ *   LongCounter generateLongMeter(String name) {\n+ *     return meter.longCounterBuilder(name).setDescription(\"Sample LongCounter\").build();\n+ *   }\n+ *\n+ *   DoubleCounter generateDoubleMeter(String name) {\n+ *     return meter.doubleCounterBuilder(name).setDescription(\"Sample DoubleCounter\").build();\n+ *   }\n+ *\n+ *\n+ *   public static void main(String[] args) throws InterruptedException {\n+ *     InMemoryMetricExporterExample example = new InMemoryMetricExporterExample();\n+ *\n+ *     example.setup();\n+ *     example.generateLongMeter(\"counter-1\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e61b37b0ba1ed575b4705c69970eae71a540c8e3"}, "originalPosition": 68}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1469, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}