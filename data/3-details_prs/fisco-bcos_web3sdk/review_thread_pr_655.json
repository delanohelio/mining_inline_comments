{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwODM3Njk3", "number": 655, "reviewThreads": {"totalCount": 26, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoxOVrOEJTKFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNToyNjoyMVrOEJUWHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTg2NTE2OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoxOVrOGpx_Wg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoxOVrOGpx_Wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2MzgzNA==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463834", "createdAt": "2020-06-27T00:53:19Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -115,8 +119,10 @@\n         ECPoint s =\n                 calculateS(\n                         new BigInteger(pbX, 16), new BigInteger(pbY, 16), new BigInteger(pvk, 16));\n-        BigInteger x2 = s.getX().toBigInteger();\n-        BigInteger y2 = s.getY().toBigInteger();\n+\n+        ECPoint ecPoint = s.normalize();\n+        BigInteger x2 = ecPoint.getAffineXCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f17a11e763bdf78ae5da765a612ad7a0423fedcf"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTg2NTIyOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMFrOGpx_Xw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMFrOGpx_Xw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2MzgzOQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463839", "createdAt": "2020-06-27T00:53:20Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -115,8 +119,10 @@\n         ECPoint s =\n                 calculateS(\n                         new BigInteger(pbX, 16), new BigInteger(pbY, 16), new BigInteger(pvk, 16));\n-        BigInteger x2 = s.getX().toBigInteger();\n-        BigInteger y2 = s.getY().toBigInteger();\n+\n+        ECPoint ecPoint = s.normalize();\n+        BigInteger x2 = ecPoint.getAffineXCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f17a11e763bdf78ae5da765a612ad7a0423fedcf"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTg2NTI0OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMFrOGpx_YQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMFrOGpx_YQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg0MQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463841", "createdAt": "2020-06-27T00:53:20Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -115,8 +119,10 @@\n         ECPoint s =\n                 calculateS(\n                         new BigInteger(pbX, 16), new BigInteger(pbY, 16), new BigInteger(pvk, 16));\n-        BigInteger x2 = s.getX().toBigInteger();\n-        BigInteger y2 = s.getY().toBigInteger();\n+\n+        ECPoint ecPoint = s.normalize();\n+        BigInteger x2 = ecPoint.getAffineXCoord().toBigInteger();\n+        BigInteger y2 = ecPoint.getAffineYCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f17a11e763bdf78ae5da765a612ad7a0423fedcf"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTg2NTI3OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMFrOGpx_ZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMFrOGpx_ZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg0NA==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463844", "createdAt": "2020-06-27T00:53:20Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -115,8 +119,10 @@\n         ECPoint s =\n                 calculateS(\n                         new BigInteger(pbX, 16), new BigInteger(pbY, 16), new BigInteger(pvk, 16));\n-        BigInteger x2 = s.getX().toBigInteger();\n-        BigInteger y2 = s.getY().toBigInteger();\n+\n+        ECPoint ecPoint = s.normalize();\n+        BigInteger x2 = ecPoint.getAffineXCoord().toBigInteger();\n+        BigInteger y2 = ecPoint.getAffineYCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f17a11e763bdf78ae5da765a612ad7a0423fedcf"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTg2NTI5OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMFrOGpx_Zg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMFrOGpx_Zg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg0Ng==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463846", "createdAt": "2020-06-27T00:53:20Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -185,12 +191,14 @@ private static ECPoint calculateS(BigInteger x1, BigInteger y1, BigInteger k) {\n      */\n     @SuppressWarnings(\"deprecation\")\n     private static BigInteger calculateX2(ECPoint s) {\n-        return s.getX().toBigInteger();\n+        ECPoint ecPoint = s.normalize();\n+        return ecPoint.getAffineXCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f17a11e763bdf78ae5da765a612ad7a0423fedcf"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTg2NTMyOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMFrOGpx_aQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMFrOGpx_aQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg0OQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463849", "createdAt": "2020-06-27T00:53:20Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -185,12 +191,14 @@ private static ECPoint calculateS(BigInteger x1, BigInteger y1, BigInteger k) {\n      */\n     @SuppressWarnings(\"deprecation\")\n     private static BigInteger calculateX2(ECPoint s) {\n-        return s.getX().toBigInteger();\n+        ECPoint ecPoint = s.normalize();\n+        return ecPoint.getAffineXCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f17a11e763bdf78ae5da765a612ad7a0423fedcf"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTg2NTM0OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMFrOGpx_aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMFrOGpx_aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg1MQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463851", "createdAt": "2020-06-27T00:53:20Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -185,12 +191,14 @@ private static ECPoint calculateS(BigInteger x1, BigInteger y1, BigInteger k) {\n      */\n     @SuppressWarnings(\"deprecation\")\n     private static BigInteger calculateX2(ECPoint s) {\n-        return s.getX().toBigInteger();\n+        ECPoint ecPoint = s.normalize();\n+        return ecPoint.getAffineXCoord().toBigInteger();\n     }\n \n     @SuppressWarnings(\"deprecation\")\n     private static BigInteger calculateY2(ECPoint s) {\n-        return s.getY().toBigInteger();\n+        ECPoint ecPoint = s.normalize();\n+        return ecPoint.getAffineYCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f17a11e763bdf78ae5da765a612ad7a0423fedcf"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTg2NTM2OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMFrOGpx_bQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMFrOGpx_bQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg1Mw==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463853", "createdAt": "2020-06-27T00:53:20Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -185,12 +191,14 @@ private static ECPoint calculateS(BigInteger x1, BigInteger y1, BigInteger k) {\n      */\n     @SuppressWarnings(\"deprecation\")\n     private static BigInteger calculateX2(ECPoint s) {\n-        return s.getX().toBigInteger();\n+        ECPoint ecPoint = s.normalize();\n+        return ecPoint.getAffineXCoord().toBigInteger();\n     }\n \n     @SuppressWarnings(\"deprecation\")\n     private static BigInteger calculateY2(ECPoint s) {\n-        return s.getY().toBigInteger();\n+        ECPoint ecPoint = s.normalize();\n+        return ecPoint.getAffineYCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f17a11e763bdf78ae5da765a612ad7a0423fedcf"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTg2NTM5OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMVrOGpx_cQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMVrOGpx_cQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg1Nw==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463857", "createdAt": "2020-06-27T00:53:21Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -273,8 +281,9 @@ private static BigInteger calculateY2(ECPoint s) {\n     private static byte[] getC(ECPoint c1, byte[] c3, byte[] c2) {\n         byte[] c = new byte[64 + c3.length + c2.length];\n \n-        byte[] c1xBuf = padding(c1.getX().toBigInteger().toByteArray());\n-        byte[] c1yBuf = padding(c1.getY().toBigInteger().toByteArray());\n+        ECPoint ecPoint = c1.normalize();\n+        byte[] c1xBuf = padding(ecPoint.getAffineXCoord().toBigInteger().toByteArray());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f17a11e763bdf78ae5da765a612ad7a0423fedcf"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTg2NTQxOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMVrOGpx_cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMVrOGpx_cw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg1OQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463859", "createdAt": "2020-06-27T00:53:21Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -273,8 +281,9 @@ private static BigInteger calculateY2(ECPoint s) {\n     private static byte[] getC(ECPoint c1, byte[] c3, byte[] c2) {\n         byte[] c = new byte[64 + c3.length + c2.length];\n \n-        byte[] c1xBuf = padding(c1.getX().toBigInteger().toByteArray());\n-        byte[] c1yBuf = padding(c1.getY().toBigInteger().toByteArray());\n+        ECPoint ecPoint = c1.normalize();\n+        byte[] c1xBuf = padding(ecPoint.getAffineXCoord().toBigInteger().toByteArray());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f17a11e763bdf78ae5da765a612ad7a0423fedcf"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTg2NTQyOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMVrOGpx_dQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMVrOGpx_dQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg2MQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463861", "createdAt": "2020-06-27T00:53:21Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -273,8 +281,9 @@ private static BigInteger calculateY2(ECPoint s) {\n     private static byte[] getC(ECPoint c1, byte[] c3, byte[] c2) {\n         byte[] c = new byte[64 + c3.length + c2.length];\n \n-        byte[] c1xBuf = padding(c1.getX().toBigInteger().toByteArray());\n-        byte[] c1yBuf = padding(c1.getY().toBigInteger().toByteArray());\n+        ECPoint ecPoint = c1.normalize();\n+        byte[] c1xBuf = padding(ecPoint.getAffineXCoord().toBigInteger().toByteArray());\n+        byte[] c1yBuf = padding(ecPoint.getAffineYCoord().toBigInteger().toByteArray());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f17a11e763bdf78ae5da765a612ad7a0423fedcf"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTg2NTQ0OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMVrOGpx_dw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMVrOGpx_dw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg2Mw==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463863", "createdAt": "2020-06-27T00:53:21Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -273,8 +281,9 @@ private static BigInteger calculateY2(ECPoint s) {\n     private static byte[] getC(ECPoint c1, byte[] c3, byte[] c2) {\n         byte[] c = new byte[64 + c3.length + c2.length];\n \n-        byte[] c1xBuf = padding(c1.getX().toBigInteger().toByteArray());\n-        byte[] c1yBuf = padding(c1.getY().toBigInteger().toByteArray());\n+        ECPoint ecPoint = c1.normalize();\n+        byte[] c1xBuf = padding(ecPoint.getAffineXCoord().toBigInteger().toByteArray());\n+        byte[] c1yBuf = padding(ecPoint.getAffineYCoord().toBigInteger().toByteArray());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f17a11e763bdf78ae5da765a612ad7a0423fedcf"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTg2NTQ1OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMVrOGpx_eA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMVrOGpx_eA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg2NA==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463864", "createdAt": "2020-06-27T00:53:21Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -371,7 +380,8 @@ private static boolean isEmpty(byte[] t) {\n             do {\n                 k = createRandom();\n                 kp = g256.multiply(k);\n-                r = e.add(kp.getX().toBigInteger());\n+                ECPoint ecPoint = kp.normalize();\n+                r = e.add(ecPoint.getAffineXCoord().toBigInteger());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f17a11e763bdf78ae5da765a612ad7a0423fedcf"}, "originalPosition": 61}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTg2NTQ2OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMlrOGpx_eQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMlrOGpx_eQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg2NQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463865", "createdAt": "2020-06-27T00:53:22Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -371,7 +380,8 @@ private static boolean isEmpty(byte[] t) {\n             do {\n                 k = createRandom();\n                 kp = g256.multiply(k);\n-                r = e.add(kp.getX().toBigInteger());\n+                ECPoint ecPoint = kp.normalize();\n+                r = e.add(ecPoint.getAffineXCoord().toBigInteger());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f17a11e763bdf78ae5da765a612ad7a0423fedcf"}, "originalPosition": 61}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTg2NTQ3OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMlrOGpx_eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMlrOGpx_eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg2Ng==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463866", "createdAt": "2020-06-27T00:53:22Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -419,8 +429,9 @@ private static boolean verify(byte[] msg, byte[] signData, BigInteger biX, BigIn\n         BigInteger t = r.add(s).mod(n);\n         if (t.equals(BigInteger.ZERO)) return false;\n         ECPoint x1y1 = g256.multiply(s);\n+        ECPoint ecPoint = x1y1.normalize();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f17a11e763bdf78ae5da765a612ad7a0423fedcf"}, "originalPosition": 69}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTg2NTQ4OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMlrOGpx_ew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMlrOGpx_ew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg2Nw==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463867", "createdAt": "2020-06-27T00:53:22Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -419,8 +429,9 @@ private static boolean verify(byte[] msg, byte[] signData, BigInteger biX, BigIn\n         BigInteger t = r.add(s).mod(n);\n         if (t.equals(BigInteger.ZERO)) return false;\n         ECPoint x1y1 = g256.multiply(s);\n+        ECPoint ecPoint = x1y1.normalize();\n         x1y1 = x1y1.add(userKey.multiply(t));\n-        BigInteger R = e.add(x1y1.getX().toBigInteger()).mod(n);\n+        BigInteger R = e.add(ecPoint.getAffineXCoord().toBigInteger()).mod(n);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f17a11e763bdf78ae5da765a612ad7a0423fedcf"}, "originalPosition": 72}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTg2NTQ5OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMlrOGpx_fA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMlrOGpx_fA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg2OA==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463868", "createdAt": "2020-06-27T00:53:22Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -419,8 +429,9 @@ private static boolean verify(byte[] msg, byte[] signData, BigInteger biX, BigIn\n         BigInteger t = r.add(s).mod(n);\n         if (t.equals(BigInteger.ZERO)) return false;\n         ECPoint x1y1 = g256.multiply(s);\n+        ECPoint ecPoint = x1y1.normalize();\n         x1y1 = x1y1.add(userKey.multiply(t));\n-        BigInteger R = e.add(x1y1.getX().toBigInteger()).mod(n);\n+        BigInteger R = e.add(ecPoint.getAffineXCoord().toBigInteger()).mod(n);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f17a11e763bdf78ae5da765a612ad7a0423fedcf"}, "originalPosition": 72}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTg2NTUwOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMlrOGpx_fQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMlrOGpx_fQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg2OQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463869", "createdAt": "2020-06-27T00:53:22Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -464,8 +475,10 @@ private static boolean checkValidateK(BigInteger k) { // k \u2208[1,n-1]\n         sm3BlockUpdate(sm3, getEncoded(b));\n         sm3BlockUpdate(sm3, getEncoded(gx));\n         sm3BlockUpdate(sm3, getEncoded(gy));\n-        sm3BlockUpdate(sm3, getEncoded(publicKey.getX().toBigInteger()));\n-        sm3BlockUpdate(sm3, getEncoded(publicKey.getY().toBigInteger()));\n+\n+        ECPoint ecPoint = publicKey.normalize();\n+        sm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineXCoord().toBigInteger()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f17a11e763bdf78ae5da765a612ad7a0423fedcf"}, "originalPosition": 84}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTg2NTUxOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMlrOGpx_fg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMlrOGpx_fg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg3MA==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463870", "createdAt": "2020-06-27T00:53:22Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -464,8 +475,10 @@ private static boolean checkValidateK(BigInteger k) { // k \u2208[1,n-1]\n         sm3BlockUpdate(sm3, getEncoded(b));\n         sm3BlockUpdate(sm3, getEncoded(gx));\n         sm3BlockUpdate(sm3, getEncoded(gy));\n-        sm3BlockUpdate(sm3, getEncoded(publicKey.getX().toBigInteger()));\n-        sm3BlockUpdate(sm3, getEncoded(publicKey.getY().toBigInteger()));\n+\n+        ECPoint ecPoint = publicKey.normalize();\n+        sm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineXCoord().toBigInteger()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f17a11e763bdf78ae5da765a612ad7a0423fedcf"}, "originalPosition": 84}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTg2NTUyOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMlrOGpx_fw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyMlrOGpx_fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg3MQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463871", "createdAt": "2020-06-27T00:53:22Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -464,8 +475,10 @@ private static boolean checkValidateK(BigInteger k) { // k \u2208[1,n-1]\n         sm3BlockUpdate(sm3, getEncoded(b));\n         sm3BlockUpdate(sm3, getEncoded(gx));\n         sm3BlockUpdate(sm3, getEncoded(gy));\n-        sm3BlockUpdate(sm3, getEncoded(publicKey.getX().toBigInteger()));\n-        sm3BlockUpdate(sm3, getEncoded(publicKey.getY().toBigInteger()));\n+\n+        ECPoint ecPoint = publicKey.normalize();\n+        sm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineXCoord().toBigInteger()));\n+        sm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineYCoord().toBigInteger()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f17a11e763bdf78ae5da765a612ad7a0423fedcf"}, "originalPosition": 85}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MTg2NTUzOnYy", "diffSide": "RIGHT", "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyM1rOGpx_gQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMDo1MzoyM1rOGpx_gQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ2Mzg3Mw==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446463873", "createdAt": "2020-06-27T00:53:23Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/crypto/gm/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -464,8 +475,10 @@ private static boolean checkValidateK(BigInteger k) { // k \u2208[1,n-1]\n         sm3BlockUpdate(sm3, getEncoded(b));\n         sm3BlockUpdate(sm3, getEncoded(gx));\n         sm3BlockUpdate(sm3, getEncoded(gy));\n-        sm3BlockUpdate(sm3, getEncoded(publicKey.getX().toBigInteger()));\n-        sm3BlockUpdate(sm3, getEncoded(publicKey.getY().toBigInteger()));\n+\n+        ECPoint ecPoint = publicKey.normalize();\n+        sm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineXCoord().toBigInteger()));\n+        sm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineYCoord().toBigInteger()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f17a11e763bdf78ae5da765a612ad7a0423fedcf"}, "originalPosition": 85}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MjA1OTc0OnYy", "diffSide": "RIGHT", "path": "src/test/java/org/fisco/bcos/channel/test/contract/PerformanceOkDSync.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNToyNjoyMFrOGpzcAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNToyNjoyMFrOGpzcAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ4NzU1Mw==", "bodyText": "[PMD Java] Avoid using Literals in Conditional Statements (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nAvoidLiteralsInIfCondition\nError Prone\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_errorprone.html#avoidliteralsinifcondition\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446487553", "createdAt": "2020-06-27T05:26:20Z", "author": {"login": "sider"}, "path": "src/test/java/org/fisco/bcos/channel/test/contract/PerformanceOkDSync.java", "diffHunk": "@@ -38,13 +37,13 @@ public static void main(String[] args) throws Exception {\n \n             ChannelEthereumService channelEthereumService = new ChannelEthereumService();\n             channelEthereumService.setChannelService(service);\n-            \n-            if(args.length > 4) {\n-            \tInteger threadPoolSize = Integer.parseInt(args[4]);\n-            \tAsync async = new Async(Executors.newFixedThreadPool(threadPoolSize));\n+\n+            if (args.length > 4) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb806236b6ed28cf44f9f35365209b9bf2b33a58"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MjA1OTc2OnYy", "diffSide": "RIGHT", "path": "src/test/java/org/fisco/bcos/channel/test/contract/PerformanceOkDSync.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNToyNjoyMFrOGpzcAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNToyNjoyMFrOGpzcAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ4NzU1NQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446487555", "createdAt": "2020-06-27T05:26:20Z", "author": {"login": "sider"}, "path": "src/test/java/org/fisco/bcos/channel/test/contract/PerformanceOkDSync.java", "diffHunk": "@@ -38,13 +37,13 @@ public static void main(String[] args) throws Exception {\n \n             ChannelEthereumService channelEthereumService = new ChannelEthereumService();\n             channelEthereumService.setChannelService(service);\n-            \n-            if(args.length > 4) {\n-            \tInteger threadPoolSize = Integer.parseInt(args[4]);\n-            \tAsync async = new Async(Executors.newFixedThreadPool(threadPoolSize));\n+\n+            if (args.length > 4) {\n+                Integer threadPoolSize = Integer.parseInt(args[4]);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb806236b6ed28cf44f9f35365209b9bf2b33a58"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MjA1OTc4OnYy", "diffSide": "RIGHT", "path": "src/test/java/org/fisco/bcos/channel/test/contract/PerformanceOkDSync.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNToyNjoyMFrOGpzcBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNToyNjoyMFrOGpzcBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ4NzU1Nw==", "bodyText": "[PMD Java] Found 'DU'-anomaly for variable 'async' (lines '43'-'138'). (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nDataflowAnomalyAnalysis\nError Prone\n5\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_errorprone.html#dataflowanomalyanalysis\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446487557", "createdAt": "2020-06-27T05:26:20Z", "author": {"login": "sider"}, "path": "src/test/java/org/fisco/bcos/channel/test/contract/PerformanceOkDSync.java", "diffHunk": "@@ -38,13 +37,13 @@ public static void main(String[] args) throws Exception {\n \n             ChannelEthereumService channelEthereumService = new ChannelEthereumService();\n             channelEthereumService.setChannelService(service);\n-            \n-            if(args.length > 4) {\n-            \tInteger threadPoolSize = Integer.parseInt(args[4]);\n-            \tAsync async = new Async(Executors.newFixedThreadPool(threadPoolSize));\n+\n+            if (args.length > 4) {\n+                Integer threadPoolSize = Integer.parseInt(args[4]);\n+                Async async = new Async(Executors.newFixedThreadPool(threadPoolSize));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb806236b6ed28cf44f9f35365209b9bf2b33a58"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MjA1OTc5OnYy", "diffSide": "RIGHT", "path": "src/test/java/org/fisco/bcos/channel/test/contract/PerformanceOkDSync.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNToyNjoyMFrOGpzcBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNToyNjoyMFrOGpzcBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ4NzU1OA==", "bodyText": "[PMD Java] Avoid unused local variables such as 'async'. (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nUnusedLocalVariable\nBest Practices\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_bestpractices.html#unusedlocalvariable\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446487558", "createdAt": "2020-06-27T05:26:20Z", "author": {"login": "sider"}, "path": "src/test/java/org/fisco/bcos/channel/test/contract/PerformanceOkDSync.java", "diffHunk": "@@ -38,13 +37,13 @@ public static void main(String[] args) throws Exception {\n \n             ChannelEthereumService channelEthereumService = new ChannelEthereumService();\n             channelEthereumService.setChannelService(service);\n-            \n-            if(args.length > 4) {\n-            \tInteger threadPoolSize = Integer.parseInt(args[4]);\n-            \tAsync async = new Async(Executors.newFixedThreadPool(threadPoolSize));\n+\n+            if (args.length > 4) {\n+                Integer threadPoolSize = Integer.parseInt(args[4]);\n+                Async async = new Async(Executors.newFixedThreadPool(threadPoolSize));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb806236b6ed28cf44f9f35365209b9bf2b33a58"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4MjA1OTgxOnYy", "diffSide": "RIGHT", "path": "src/test/java/org/fisco/bcos/channel/test/contract/PerformanceOkDSync.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNToyNjoyMVrOGpzcCA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwNToyNjoyMVrOGpzcCA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ4NzU2MA==", "bodyText": "[PMD Java] Dont create instances of already existing BigInteger and BigDecimal (ZERO, ONE, TEN) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nBigIntegerInstantiation\nPerformance\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_performance.html#bigintegerinstantiation\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/655#discussion_r446487560", "createdAt": "2020-06-27T05:26:21Z", "author": {"login": "sider"}, "path": "src/test/java/org/fisco/bcos/channel/test/contract/PerformanceOkDSync.java", "diffHunk": "@@ -104,9 +103,12 @@ public void run() {\n                                 PerformanceOkCallback callback = new PerformanceOkCallback();\n                                 callback.setCollector(collector);\n                                 try {\n-                                    TransactionReceipt receipt = ok.trans(\n-                                            String.valueOf(random.nextLong()),\n-                                            new BigInteger(\"1\")).sendAsync().get();\n+                                    TransactionReceipt receipt =\n+                                            ok.trans(\n+                                                            String.valueOf(random.nextLong()),\n+                                                            new BigInteger(\"1\"))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cb806236b6ed28cf44f9f35365209b9bf2b33a58"}, "originalPosition": 46}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 537, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}