{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0MzIyNTc0", "number": 524, "title": "remove test cache code for SM2Signer", "bodyText": "", "createdAt": "2020-03-05T14:54:58Z", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/524", "merged": true, "mergeCommit": {"oid": "755a555ed8c5ee61ba34a2657289349f53d317a5"}, "closed": true, "closedAt": "2020-03-06T01:37:15Z", "author": {"login": "ywy2090"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKtCf_gH2gAyMzg0MzIyNTc0Ojg2ODJkM2ExZGEyMDcwMjA0Mjk1NWMwZDZkNTZjNTA1ZjdkMzJjNTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKt9w9gFqTM2OTcxMjI0NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8682d3a1da20702042955c0d6d56c505f7d32c51", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/8682d3a1da20702042955c0d6d56c505f7d32c51", "committedDate": "2020-03-05T15:13:47Z", "message": "remove test cache code for SM2Signer"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2557b83dc8376b0db1331a5c9a5adcd59e489c77", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/2557b83dc8376b0db1331a5c9a5adcd59e489c77", "committedDate": "2020-03-05T14:53:10Z", "message": "remove test cache code for SM2Signer"}, "afterCommit": {"oid": "8682d3a1da20702042955c0d6d56c505f7d32c51", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/8682d3a1da20702042955c0d6d56c505f7d32c51", "committedDate": "2020-03-05T15:13:47Z", "message": "remove test cache code for SM2Signer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08476ab2e960e31682d07f68fbf8701c8b0c527c", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/08476ab2e960e31682d07f68fbf8701c8b0c527c", "committedDate": "2020-03-05T16:05:45Z", "message": "close writer stream when PerformanceTest"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5NzAyMzU4", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/524#pullrequestreview-369702358", "createdAt": "2020-03-05T16:07:15Z", "commit": {"oid": "08476ab2e960e31682d07f68fbf8701c8b0c527c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjowNzoxNVrOFyZxdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjowNzoxNVrOFyZxdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM5NTM4Mg==", "bodyText": "[PMD] Found 'DU'-anomaly for variable 'writer' (lines '561'-'684'). (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nDataflowAnomalyAnalysis\nError Prone\n5\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.21.0/pmd_rules_java_errorprone.html#dataflowanomalyanalysis\n\nYou can mark this issue as closed if you should not tackle it. (see our document about issues)", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/524#discussion_r388395382", "createdAt": "2020-03-05T16:07:15Z", "author": {"login": "sider"}, "path": "src/test/java/org/fisco/bcos/channel/test/parallel/precompile/PerformanceDTTest.java", "diffHunk": "@@ -386,53 +385,47 @@\n                         + \" ,sps = \"\n                         + (totalSignedTxCount.intValue() / elapsed));\n \n-        System.out.println(\"\");\n-\n-        if (SM2Sign.isOpenSM2SignerCache()) {\n-            System.out.println(\"SM2Signer Object Count => \" + SM2Sign.getsM2SignerCache().size());\n-        }\n-\n         System.exit(0);\n     }\n \n~    public void userTransferTest(BigInteger count, BigInteger qps, BigInteger deci) {\n~        System.out.println(\"Start UserTransfer test...\");\n~        System.out.println(\"===================================================================\");\n~\n~        String dirName = \"./.signed_transactions\";\n~        File dir = new File(dirName);\n~        if (dir.exists()) {\n~            File[] fileList = dir.listFiles();\n~            for (File file : fileList) {\n~                if (!file.delete()) {\n~                    System.out.printf(\"Can't clean %s%n\", dirName);\n~                    System.exit(0);\n~                }\n~            }\n~        } else {\n~            if (!dir.mkdir()) {\n~                System.out.printf(\"Can't create directory %s%n\", dirName);\n~                System.exit(0);\n~            }\n~        }\n~\n~        try {\n~            System.out.println(dateFormat.format(new Date()) + \" Querying account state...\");\n~", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08476ab2e960e31682d07f68fbf8701c8b0c527c"}, "originalPosition": 44}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5NzAyMzcy", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/524#pullrequestreview-369702372", "createdAt": "2020-03-05T16:07:16Z", "commit": {"oid": "08476ab2e960e31682d07f68fbf8701c8b0c527c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjowNzoxNlrOFyZxfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjowNzoxNlrOFyZxfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM5NTM5MA==", "bodyText": "[PMD] Assigning an Object to null is a code smell.  Consider refactoring. (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nNullAssignment\nError Prone\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.21.0/pmd_rules_java_errorprone.html#nullassignment\n\nYou can mark this issue as closed if you should not tackle it. (see our document about issues)", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/524#discussion_r388395390", "createdAt": "2020-03-05T16:07:16Z", "author": {"login": "sider"}, "path": "src/test/java/org/fisco/bcos/channel/test/parallel/precompile/PerformanceDTTest.java", "diffHunk": "@@ -386,53 +385,47 @@\n                         + \" ,sps = \"\n                         + (totalSignedTxCount.intValue() / elapsed));\n \n-        System.out.println(\"\");\n-\n-        if (SM2Sign.isOpenSM2SignerCache()) {\n-            System.out.println(\"SM2Signer Object Count => \" + SM2Sign.getsM2SignerCache().size());\n-        }\n-\n         System.exit(0);\n     }\n \n~    public void userTransferTest(BigInteger count, BigInteger qps, BigInteger deci) {\n~        System.out.println(\"Start UserTransfer test...\");\n~        System.out.println(\"===================================================================\");\n~\n~        String dirName = \"./.signed_transactions\";\n~        File dir = new File(dirName);\n~        if (dir.exists()) {\n~            File[] fileList = dir.listFiles();\n~            for (File file : fileList) {\n~                if (!file.delete()) {\n~                    System.out.printf(\"Can't clean %s%n\", dirName);\n~                    System.exit(0);\n~                }\n~            }\n~        } else {\n~            if (!dir.mkdir()) {\n~                System.out.printf(\"Can't create directory %s%n\", dirName);\n~                System.exit(0);\n~            }\n~        }\n~\n~        try {\n~            System.out.println(dateFormat.format(new Date()) + \" Querying account state...\");\n~", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08476ab2e960e31682d07f68fbf8701c8b0c527c"}, "originalPosition": 44}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5NzAyMzg2", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/524#pullrequestreview-369702386", "createdAt": "2020-03-05T16:07:17Z", "commit": {"oid": "08476ab2e960e31682d07f68fbf8701c8b0c527c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjowNzoxN1rOFyZxiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjowNzoxN1rOFyZxiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM5NTQwMw==", "bodyText": "[PMD] Avoid instantiating new objects inside loops (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nAvoidInstantiatingObjectsInLoops\nPerformance\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.21.0/pmd_rules_java_performance.html#avoidinstantiatingobjectsinloops\n\nYou can mark this issue as closed if you should not tackle it. (see our document about issues)", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/524#discussion_r388395403", "createdAt": "2020-03-05T16:07:17Z", "author": {"login": "sider"}, "path": "src/test/java/org/fisco/bcos/channel/test/parallel/precompile/PerformanceDTTest.java", "diffHunk": "@@ -386,53 +385,47 @@\n                         + \" ,sps = \"\n                         + (totalSignedTxCount.intValue() / elapsed));\n \n-        System.out.println(\"\");\n-\n-        if (SM2Sign.isOpenSM2SignerCache()) {\n-            System.out.println(\"SM2Signer Object Count => \" + SM2Sign.getsM2SignerCache().size());\n-        }\n-\n         System.exit(0);\n     }\n \n~    public void userTransferTest(BigInteger count, BigInteger qps, BigInteger deci) {\n~        System.out.println(\"Start UserTransfer test...\");\n~        System.out.println(\"===================================================================\");\n~\n~        String dirName = \"./.signed_transactions\";\n~        File dir = new File(dirName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08476ab2e960e31682d07f68fbf8701c8b0c527c"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5NzAyNDEz", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/524#pullrequestreview-369702413", "createdAt": "2020-03-05T16:07:18Z", "commit": {"oid": "08476ab2e960e31682d07f68fbf8701c8b0c527c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjowNzoxOFrOFyZxmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjowNzoxOFrOFyZxmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM5NTQxNg==", "bodyText": "[PMD] Found 'DD'-anomaly for variable 'writer' (lines '561'-'484'). (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nDataflowAnomalyAnalysis\nError Prone\n5\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.21.0/pmd_rules_java_errorprone.html#dataflowanomalyanalysis\n\nYou can mark this issue as closed if you should not tackle it. (see our document about issues)", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/524#discussion_r388395416", "createdAt": "2020-03-05T16:07:18Z", "author": {"login": "sider"}, "path": "src/test/java/org/fisco/bcos/channel/test/parallel/precompile/PerformanceDTTest.java", "diffHunk": "@@ -386,53 +385,47 @@\n                         + \" ,sps = \"\n                         + (totalSignedTxCount.intValue() / elapsed));\n \n-        System.out.println(\"\");\n-\n-        if (SM2Sign.isOpenSM2SignerCache()) {\n-            System.out.println(\"SM2Signer Object Count => \" + SM2Sign.getsM2SignerCache().size());\n-        }\n-\n         System.exit(0);\n     }\n \n~    public void userTransferTest(BigInteger count, BigInteger qps, BigInteger deci) {\n~        System.out.println(\"Start UserTransfer test...\");\n~        System.out.println(\"===================================================================\");\n~\n~        String dirName = \"./.signed_transactions\";\n~        File dir = new File(dirName);\n~        if (dir.exists()) {\n~            File[] fileList = dir.listFiles();\n~            for (File file : fileList) {\n~                if (!file.delete()) {\n~                    System.out.printf(\"Can't clean %s%n\", dirName);\n~                    System.exit(0);\n~                }\n~            }\n~        } else {\n~            if (!dir.mkdir()) {\n~                System.out.printf(\"Can't create directory %s%n\", dirName);\n~                System.exit(0);\n~            }\n~        }\n~\n~        try {\n~            System.out.println(dateFormat.format(new Date()) + \" Querying account state...\");\n~", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08476ab2e960e31682d07f68fbf8701c8b0c527c"}, "originalPosition": 44}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5NzA5OTUy", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/524#pullrequestreview-369709952", "createdAt": "2020-03-05T16:15:54Z", "commit": {"oid": "08476ab2e960e31682d07f68fbf8701c8b0c527c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5NzEyMjQ0", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/524#pullrequestreview-369712244", "createdAt": "2020-03-05T16:18:31Z", "commit": {"oid": "08476ab2e960e31682d07f68fbf8701c8b0c527c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2032, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}