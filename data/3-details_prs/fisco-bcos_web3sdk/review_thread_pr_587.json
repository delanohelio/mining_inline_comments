{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4NTE0MjE0", "number": 587, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMDo0MTowNVrOD80nTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMDo0MTowNlrOD80nUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1MTAzMTgyOnYy", "diffSide": "RIGHT", "path": "src/test/java/org/fisco/bcos/channel/test/parallel/parallelok/PerformanceDTTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMDo0MTowNVrOGV_uXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMDo0MTowNVrOGV_uXg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTcxNzM0Mg==", "bodyText": "[PMD] Found 'DU'-anomaly for variable 'limiter' (lines '97'-'154'). (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nDataflowAnomalyAnalysis\nError Prone\n5\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_errorprone.html#dataflowanomalyanalysis\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/587#discussion_r425717342", "createdAt": "2020-05-15T10:41:05Z", "author": {"login": "sider"}, "path": "src/test/java/org/fisco/bcos/channel/test/parallel/parallelok/PerformanceDTTest.java", "diffHunk": "@@ -94,7 +94,7 @@ public void veryTransferData(ThreadPoolTaskExecutor threadPool) {\n         AtomicInteger verify_failed = new AtomicInteger(0);\n \n         allUser = dagUserMgr.getUserList();\n-\n+        RateLimiter limiter = RateLimiter.create(qps.intValue());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1fb217f5adc966a173462ac66f1999aecdbb7643"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY1MTAzMTg1OnYy", "diffSide": "RIGHT", "path": "src/test/java/org/fisco/bcos/channel/test/parallel/precompile/PerformanceDTTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMDo0MTowNlrOGV_uZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxMDo0MTowNlrOGV_uZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTcxNzM0OA==", "bodyText": "[PMD] Found 'DU'-anomaly for variable 'limiter' (lines '106'-'175'). (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nDataflowAnomalyAnalysis\nError Prone\n5\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_errorprone.html#dataflowanomalyanalysis\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/587#discussion_r425717348", "createdAt": "2020-05-15T10:41:06Z", "author": {"login": "sider"}, "path": "src/test/java/org/fisco/bcos/channel/test/parallel/precompile/PerformanceDTTest.java", "diffHunk": "@@ -95,15 +95,15 @@ public void setCollector(PerformanceDTCollector collector) {\n         this.collector = collector;\n     }\n \n-    public void veryTransferData(ThreadPoolTaskExecutor threadPool) {\n+    public void veryTransferData(ThreadPoolTaskExecutor threadPool, BigInteger qps) {\n         List<DagTransferUser> allUser = dagUserMgr.getUserList();\n         Integer total_user = allUser.size();\n \n         AtomicInteger verify_success = new AtomicInteger(0);\n         AtomicInteger verify_failed = new AtomicInteger(0);\n \n         allUser = dagUserMgr.getUserList();\n-\n+        RateLimiter limiter = RateLimiter.create(qps.intValue());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1fb217f5adc966a173462ac66f1999aecdbb7643"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 666, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}