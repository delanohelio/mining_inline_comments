{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxMDUxODEw", "number": 594, "title": "remove fastjson code", "bodyText": "", "createdAt": "2020-06-08T11:01:10Z", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594", "merged": true, "mergeCommit": {"oid": "f1d75d38c513c08ae3a3ffad5d6d120755bce08b"}, "closed": true, "closedAt": "2020-06-09T17:11:50Z", "author": {"login": "ywy2090"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpOYHFgFqTQyNjEyMjU3Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpkMB9ABqjM0MjQ2MjEwNTk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2MTIyNTcy", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#pullrequestreview-426122572", "createdAt": "2020-06-08T11:01:58Z", "commit": {"oid": "bcc59dfdc8802dba019626d742b7b9ec0df735fb"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMTowMTo1OVrOGgY5aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMTowMTo1OVrOGgY5bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjYxNTUzMQ==", "bodyText": "[PMD Java] System.out.println is used (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nSystemPrintln\nBest Practices\n2\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436615531", "createdAt": "2020-06-08T11:01:59Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/console/Web3RpcApi.java", "diffHunk": "@@ -129,9 +128,9 @@ public static void main(String[] args)  {\n         \t\t}\r\n \t\t\t\ttransactionIndex = new BigInteger(args[2]);\r\n \t\t\t\ttransaction=web3j.ethGetTransactionByBlockHashAndIndex(args[1], transactionIndex).send().getResult();\r\n-\t\t\t\t\r\n-\t\t\t\tString transactionJson1=JSONObject.toJSONString(transaction);\r\n-\t\t\t\tSystem.out.println(transactionJson1);\r\n+\r\n+\t\t\t\t// String transactionJson1=JSONObject.toJSONString(transaction);\r\n+\t\t\t\tSystem.out.println(transaction);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bcc59dfdc8802dba019626d742b7b9ec0df735fb"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjYxNTUzMw==", "bodyText": "[PMD Java] System.out.println is used (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nSystemPrintln\nBest Practices\n2\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436615533", "createdAt": "2020-06-08T11:01:59Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/console/Web3RpcApi.java", "diffHunk": "@@ -142,15 +141,15 @@ public static void main(String[] args)  {\n \t\t\t\tbigBlockHeight = new BigInteger(args[1]);\r\n \t\t\t\ttransactionIndex = new BigInteger(args[2]);\r\n \t\t\t\ttransaction =web3j.ethGetTransactionByBlockNumberAndIndex(DefaultBlockParameter.valueOf(bigBlockHeight), transactionIndex).send().getResult();\r\n-\t\t\t\tString transactionJson=JSONObject.toJSONString(transaction);\r\n-\t\t\t\tSystem.out.println(transactionJson);\r\n+\t\t\t\t// String transactionJson=JSONObject.toJSONString(transaction);\r\n+\t\t\t\tSystem.out.println(transaction);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bcc59dfdc8802dba019626d742b7b9ec0df735fb"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjYxNTUzNQ==", "bodyText": "[PMD Java] System.out.println is used (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nSystemPrintln\nBest Practices\n2\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436615535", "createdAt": "2020-06-08T11:01:59Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/console/Web3RpcApi.java", "diffHunk": "@@ -142,15 +141,15 @@ public static void main(String[] args)  {\n \t\t\t\tbigBlockHeight = new BigInteger(args[1]);\r\n \t\t\t\ttransactionIndex = new BigInteger(args[2]);\r\n \t\t\t\ttransaction =web3j.ethGetTransactionByBlockNumberAndIndex(DefaultBlockParameter.valueOf(bigBlockHeight), transactionIndex).send().getResult();\r\n-\t\t\t\tString transactionJson=JSONObject.toJSONString(transaction);\r\n-\t\t\t\tSystem.out.println(transactionJson);\r\n+\t\t\t\t// String transactionJson=JSONObject.toJSONString(transaction);\r\n+\t\t\t\tSystem.out.println(transaction);\r\n \t\t\t\tbreak;\r\n \t\t\t\t\r\n \t\t\tcase \"eth_getTransactionReceipt\":\t\r\n \t\t\t\t\r\n \t\t\t\tTransactionReceipt receipt = web3j.ethGetTransactionReceipt(args[1]).send().getResult();\r\n-\t\t\t\tString receiptJson=JSONObject.toJSONString(receipt);\r\n-\t\t\t\tSystem.out.println(receiptJson);\r\n+\t\t\t\t// String receiptJson=JSONObject.toJSONString(receipt);\r\n+\t\t\t\tSystem.out.println(receipt);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bcc59dfdc8802dba019626d742b7b9ec0df735fb"}, "originalPosition": 37}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bcc59dfdc8802dba019626d742b7b9ec0df735fb", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/bcc59dfdc8802dba019626d742b7b9ec0df735fb", "committedDate": "2020-06-08T10:53:19Z", "message": "remove fastjson code"}, "afterCommit": {"oid": "f3e4683bf9949e1612cd2539125caeb13bffbdfb", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/f3e4683bf9949e1612cd2539125caeb13bffbdfb", "committedDate": "2020-06-08T11:08:31Z", "message": "remove fastjson code"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f3e4683bf9949e1612cd2539125caeb13bffbdfb", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/f3e4683bf9949e1612cd2539125caeb13bffbdfb", "committedDate": "2020-06-08T11:08:31Z", "message": "remove fastjson code"}, "afterCommit": {"oid": "8920969a504f75a10a4bb70a5fb893fbb7418ae3", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/8920969a504f75a10a4bb70a5fb893fbb7418ae3", "committedDate": "2020-06-08T11:15:09Z", "message": "remove fastjson code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2MTMxMjEy", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#pullrequestreview-426131212", "createdAt": "2020-06-08T11:16:10Z", "commit": {"oid": "8920969a504f75a10a4bb70a5fb893fbb7418ae3"}, "state": "COMMENTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMToxNjoxMFrOGgZSdQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMToxNjoxMVrOGgZShQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjYyMTk0MQ==", "bodyText": "[PMD Java] Avoid unused imports such as 'com.fasterxml.jackson.databind.ObjectMapper' (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nUnusedImports\nBest Practices\n4\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#unusedimports\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436621941", "createdAt": "2020-06-08T11:16:10Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/console/Web3RpcApi.java", "diffHunk": "@@ -2,9 +2,11 @@\n \r\n import java.math.BigInteger;\r\n import java.util.List;\r\n+\r\n+import com.fasterxml.jackson.databind.ObjectMapper;\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8920969a504f75a10a4bb70a5fb893fbb7418ae3"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjYyMTk0Nw==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436621947", "createdAt": "2020-06-08T11:16:10Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/console/Web3RpcApi.java", "diffHunk": "@@ -129,9 +131,10 @@ public static void main(String[] args)  {\n         \t\t}\r\n \t\t\t\ttransactionIndex = new BigInteger(args[2]);\r\n \t\t\t\ttransaction=web3j.ethGetTransactionByBlockHashAndIndex(args[1], transactionIndex).send().getResult();\r\n-\t\t\t\t\r\n-\t\t\t\tString transactionJson1=JSONObject.toJSONString(transaction);\r\n-\t\t\t\tSystem.out.println(transactionJson1);\r\n+\r\n+\t\t\t\tString transactionJson = ObjectMapperFactory.getObjectMapper().writeValueAsString(transaction);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8920969a504f75a10a4bb70a5fb893fbb7418ae3"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjYyMTk0OQ==", "bodyText": "[PMD Java] System.out.println is used (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nSystemPrintln\nBest Practices\n2\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436621949", "createdAt": "2020-06-08T11:16:10Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/console/Web3RpcApi.java", "diffHunk": "@@ -129,9 +131,10 @@ public static void main(String[] args)  {\n         \t\t}\r\n \t\t\t\ttransactionIndex = new BigInteger(args[2]);\r\n \t\t\t\ttransaction=web3j.ethGetTransactionByBlockHashAndIndex(args[1], transactionIndex).send().getResult();\r\n-\t\t\t\t\r\n-\t\t\t\tString transactionJson1=JSONObject.toJSONString(transaction);\r\n-\t\t\t\tSystem.out.println(transactionJson1);\r\n+\r\n+\t\t\t\tString transactionJson = ObjectMapperFactory.getObjectMapper().writeValueAsString(transaction);\r\n+\t\t\t\t// String transactionJson=JSONObject.toJSONString(transaction);\r\n+\t\t\t\tSystem.out.println(transactionJson);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8920969a504f75a10a4bb70a5fb893fbb7418ae3"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjYyMTk1MQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436621951", "createdAt": "2020-06-08T11:16:10Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/console/Web3RpcApi.java", "diffHunk": "@@ -142,14 +145,16 @@ public static void main(String[] args)  {\n \t\t\t\tbigBlockHeight = new BigInteger(args[1]);\r\n \t\t\t\ttransactionIndex = new BigInteger(args[2]);\r\n \t\t\t\ttransaction =web3j.ethGetTransactionByBlockNumberAndIndex(DefaultBlockParameter.valueOf(bigBlockHeight), transactionIndex).send().getResult();\r\n-\t\t\t\tString transactionJson=JSONObject.toJSONString(transaction);\r\n-\t\t\t\tSystem.out.println(transactionJson);\r\n+\t\t\t\tString transactionJson1 = ObjectMapperFactory.getObjectMapper().writeValueAsString(transaction);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8920969a504f75a10a4bb70a5fb893fbb7418ae3"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjYyMTk1NQ==", "bodyText": "[PMD Java] System.out.println is used (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nSystemPrintln\nBest Practices\n2\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436621955", "createdAt": "2020-06-08T11:16:11Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/console/Web3RpcApi.java", "diffHunk": "@@ -142,14 +145,16 @@ public static void main(String[] args)  {\n \t\t\t\tbigBlockHeight = new BigInteger(args[1]);\r\n \t\t\t\ttransactionIndex = new BigInteger(args[2]);\r\n \t\t\t\ttransaction =web3j.ethGetTransactionByBlockNumberAndIndex(DefaultBlockParameter.valueOf(bigBlockHeight), transactionIndex).send().getResult();\r\n-\t\t\t\tString transactionJson=JSONObject.toJSONString(transaction);\r\n-\t\t\t\tSystem.out.println(transactionJson);\r\n+\t\t\t\tString transactionJson1 = ObjectMapperFactory.getObjectMapper().writeValueAsString(transaction);\r\n+\t\t\t\t// String transactionJson=JSONObject.toJSONString(transaction);\r\n+\t\t\t\tSystem.out.println(transactionJson1);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8920969a504f75a10a4bb70a5fb893fbb7418ae3"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjYyMTk1Nw==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436621957", "createdAt": "2020-06-08T11:16:11Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/console/Web3RpcApi.java", "diffHunk": "@@ -142,14 +145,16 @@ public static void main(String[] args)  {\n \t\t\t\tbigBlockHeight = new BigInteger(args[1]);\r\n \t\t\t\ttransactionIndex = new BigInteger(args[2]);\r\n \t\t\t\ttransaction =web3j.ethGetTransactionByBlockNumberAndIndex(DefaultBlockParameter.valueOf(bigBlockHeight), transactionIndex).send().getResult();\r\n-\t\t\t\tString transactionJson=JSONObject.toJSONString(transaction);\r\n-\t\t\t\tSystem.out.println(transactionJson);\r\n+\t\t\t\tString transactionJson1 = ObjectMapperFactory.getObjectMapper().writeValueAsString(transaction);\r\n+\t\t\t\t// String transactionJson=JSONObject.toJSONString(transaction);\r\n+\t\t\t\tSystem.out.println(transactionJson1);\r\n \t\t\t\tbreak;\r\n \t\t\t\t\r\n \t\t\tcase \"eth_getTransactionReceipt\":\t\r\n \t\t\t\t\r\n \t\t\t\tTransactionReceipt receipt = web3j.ethGetTransactionReceipt(args[1]).send().getResult();\r\n-\t\t\t\tString receiptJson=JSONObject.toJSONString(receipt);\r\n+\t\t\t\tString receiptJson = ObjectMapperFactory.getObjectMapper().writeValueAsString(receipt);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8920969a504f75a10a4bb70a5fb893fbb7418ae3"}, "originalPosition": 42}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8920969a504f75a10a4bb70a5fb893fbb7418ae3", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/8920969a504f75a10a4bb70a5fb893fbb7418ae3", "committedDate": "2020-06-08T11:15:09Z", "message": "remove fastjson code"}, "afterCommit": {"oid": "f0f09c99e9b41edbbef5d77c5cd23379122fd1d9", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/f0f09c99e9b41edbbef5d77c5cd23379122fd1d9", "committedDate": "2020-06-08T11:17:33Z", "message": "remove fastjson code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2MTMyNTI5", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#pullrequestreview-426132529", "createdAt": "2020-06-08T11:18:22Z", "commit": {"oid": "f0f09c99e9b41edbbef5d77c5cd23379122fd1d9"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMToxODoyMlrOGgZWLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMToxODoyMlrOGgZWOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjYyMjg5NQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436622895", "createdAt": "2020-06-08T11:18:22Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/console/Web3RpcApi.java", "diffHunk": "@@ -129,9 +130,10 @@ public static void main(String[] args)  {\n         \t\t}\r\n \t\t\t\ttransactionIndex = new BigInteger(args[2]);\r\n \t\t\t\ttransaction=web3j.ethGetTransactionByBlockHashAndIndex(args[1], transactionIndex).send().getResult();\r\n-\t\t\t\t\r\n-\t\t\t\tString transactionJson1=JSONObject.toJSONString(transaction);\r\n-\t\t\t\tSystem.out.println(transactionJson1);\r\n+\r\n+\t\t\t\tString transactionJson = ObjectMapperFactory.getObjectMapper().writeValueAsString(transaction);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0f09c99e9b41edbbef5d77c5cd23379122fd1d9"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjYyMjg5Nw==", "bodyText": "[PMD Java] System.out.println is used (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nSystemPrintln\nBest Practices\n2\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436622897", "createdAt": "2020-06-08T11:18:22Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/console/Web3RpcApi.java", "diffHunk": "@@ -129,9 +130,10 @@ public static void main(String[] args)  {\n         \t\t}\r\n \t\t\t\ttransactionIndex = new BigInteger(args[2]);\r\n \t\t\t\ttransaction=web3j.ethGetTransactionByBlockHashAndIndex(args[1], transactionIndex).send().getResult();\r\n-\t\t\t\t\r\n-\t\t\t\tString transactionJson1=JSONObject.toJSONString(transaction);\r\n-\t\t\t\tSystem.out.println(transactionJson1);\r\n+\r\n+\t\t\t\tString transactionJson = ObjectMapperFactory.getObjectMapper().writeValueAsString(transaction);\r\n+\t\t\t\t// String transactionJson=JSONObject.toJSONString(transaction);\r\n+\t\t\t\tSystem.out.println(transactionJson);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0f09c99e9b41edbbef5d77c5cd23379122fd1d9"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjYyMjkwMA==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436622900", "createdAt": "2020-06-08T11:18:22Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/console/Web3RpcApi.java", "diffHunk": "@@ -142,14 +144,16 @@ public static void main(String[] args)  {\n \t\t\t\tbigBlockHeight = new BigInteger(args[1]);\r\n \t\t\t\ttransactionIndex = new BigInteger(args[2]);\r\n \t\t\t\ttransaction =web3j.ethGetTransactionByBlockNumberAndIndex(DefaultBlockParameter.valueOf(bigBlockHeight), transactionIndex).send().getResult();\r\n-\t\t\t\tString transactionJson=JSONObject.toJSONString(transaction);\r\n-\t\t\t\tSystem.out.println(transactionJson);\r\n+\t\t\t\tString transactionJson1 = ObjectMapperFactory.getObjectMapper().writeValueAsString(transaction);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0f09c99e9b41edbbef5d77c5cd23379122fd1d9"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjYyMjkwMQ==", "bodyText": "[PMD Java] System.out.println is used (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nSystemPrintln\nBest Practices\n2\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#systemprintln\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436622901", "createdAt": "2020-06-08T11:18:22Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/console/Web3RpcApi.java", "diffHunk": "@@ -142,14 +144,16 @@ public static void main(String[] args)  {\n \t\t\t\tbigBlockHeight = new BigInteger(args[1]);\r\n \t\t\t\ttransactionIndex = new BigInteger(args[2]);\r\n \t\t\t\ttransaction =web3j.ethGetTransactionByBlockNumberAndIndex(DefaultBlockParameter.valueOf(bigBlockHeight), transactionIndex).send().getResult();\r\n-\t\t\t\tString transactionJson=JSONObject.toJSONString(transaction);\r\n-\t\t\t\tSystem.out.println(transactionJson);\r\n+\t\t\t\tString transactionJson1 = ObjectMapperFactory.getObjectMapper().writeValueAsString(transaction);\r\n+\t\t\t\t// String transactionJson=JSONObject.toJSONString(transaction);\r\n+\t\t\t\tSystem.out.println(transactionJson1);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0f09c99e9b41edbbef5d77c5cd23379122fd1d9"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjYyMjkwNA==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436622904", "createdAt": "2020-06-08T11:18:22Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/console/Web3RpcApi.java", "diffHunk": "@@ -142,14 +144,16 @@ public static void main(String[] args)  {\n \t\t\t\tbigBlockHeight = new BigInteger(args[1]);\r\n \t\t\t\ttransactionIndex = new BigInteger(args[2]);\r\n \t\t\t\ttransaction =web3j.ethGetTransactionByBlockNumberAndIndex(DefaultBlockParameter.valueOf(bigBlockHeight), transactionIndex).send().getResult();\r\n-\t\t\t\tString transactionJson=JSONObject.toJSONString(transaction);\r\n-\t\t\t\tSystem.out.println(transactionJson);\r\n+\t\t\t\tString transactionJson1 = ObjectMapperFactory.getObjectMapper().writeValueAsString(transaction);\r\n+\t\t\t\t// String transactionJson=JSONObject.toJSONString(transaction);\r\n+\t\t\t\tSystem.out.println(transactionJson1);\r\n \t\t\t\tbreak;\r\n \t\t\t\t\r\n \t\t\tcase \"eth_getTransactionReceipt\":\t\r\n \t\t\t\t\r\n \t\t\t\tTransactionReceipt receipt = web3j.ethGetTransactionReceipt(args[1]).send().getResult();\r\n-\t\t\t\tString receiptJson=JSONObject.toJSONString(receipt);\r\n+\t\t\t\tString receiptJson = ObjectMapperFactory.getObjectMapper().writeValueAsString(receipt);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f0f09c99e9b41edbbef5d77c5cd23379122fd1d9"}, "originalPosition": 41}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f0f09c99e9b41edbbef5d77c5cd23379122fd1d9", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/f0f09c99e9b41edbbef5d77c5cd23379122fd1d9", "committedDate": "2020-06-08T11:17:33Z", "message": "remove fastjson code"}, "afterCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/9dcb3b714c906d818e11fb9d4c412a49542d03a5", "committedDate": "2020-06-08T13:12:40Z", "message": "remove fastjson and update deps version."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2MjIwMTQw", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#pullrequestreview-426220140", "createdAt": "2020-06-08T13:13:44Z", "commit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "state": "COMMENTED", "comments": {"totalCount": 24, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMzoxMzo0NVrOGgdR-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMzoxMzo1MVrOGgdSZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzM1Mg==", "bodyText": "[PMD Java] Avoid unused imports such as 'com.google.gson.Gson' (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nUnusedImports\nBest Practices\n4\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#unusedimports\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687352", "createdAt": "2020-06-08T13:13:45Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/contract/tools/CNSCmdTool.java", "diffHunk": "@@ -2,25 +2,24 @@\n \n import java.io.BufferedReader;\n import java.io.File;\n-import java.io.FileInputStream;\n import java.io.IOException;\n import java.io.InputStreamReader;\n import java.math.BigInteger;\n import java.util.List;\n import java.util.concurrent.TimeUnit;\n \n+import com.fasterxml.jackson.databind.ObjectMapper;\n+import com.google.gson.Gson;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzM2MA==", "bodyText": "[PMD Java] This for loop can be replaced by a foreach loop (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nForLoopCanBeForeach\nBest Practices\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#forloopcanbeforeach\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687360", "createdAt": "2020-06-08T13:13:45Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/contract/tools/CNSCmdTool.java", "diffHunk": "@@ -83,16 +82,16 @@ public static String getAddr(String addrPath) throws IOException {\n \t */\n \tpublic static boolean isContractHasVersion(String abi) throws Exception {\n \t\ttry {\n-\t\t\tJSONArray a = JSON.parseArray(abi);\n-\t\t\tfor(int i=0;i<a.size();++i) {\n-\t\t\t\tJSONObject o = a.getJSONObject(i);\n-\t\t\t\t//if abi has function member getVersion , then maybe the contract has version\n-\t\t\t\tif(o.containsKey(\"name\") && o.getString(\"name\").equals(\"getVersion\")) {\n+\t\t\tObjectMapper objectMapper = ObjectMapperFactory.getObjectMapper();\n+\t\t\tAbiDefinition[] abiDefinition = objectMapper.readValue(abi, AbiDefinition[].class);\n+\n+\t\t\tfor (int i = 0; i < abiDefinition.length; i++) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzM2Nw==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687367", "createdAt": "2020-06-08T13:13:45Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/contract/tools/CNSCmdTool.java", "diffHunk": "@@ -83,16 +82,16 @@ public static String getAddr(String addrPath) throws IOException {\n \t */\n \tpublic static boolean isContractHasVersion(String abi) throws Exception {\n \t\ttry {\n-\t\t\tJSONArray a = JSON.parseArray(abi);\n-\t\t\tfor(int i=0;i<a.size();++i) {\n-\t\t\t\tJSONObject o = a.getJSONObject(i);\n-\t\t\t\t//if abi has function member getVersion , then maybe the contract has version\n-\t\t\t\tif(o.containsKey(\"name\") && o.getString(\"name\").equals(\"getVersion\")) {\n+\t\t\tObjectMapper objectMapper = ObjectMapperFactory.getObjectMapper();\n+\t\t\tAbiDefinition[] abiDefinition = objectMapper.readValue(abi, AbiDefinition[].class);\n+\n+\t\t\tfor (int i = 0; i < abiDefinition.length; i++) {\n+\t\t\t\tif (abiDefinition[i].getType().equals(\"function\") && abiDefinition[i].getName().equals(\"getVersion\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzM3Mg==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687372", "createdAt": "2020-06-08T13:13:46Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -107,8 +107,12 @@\n \t\tbyte[] c2 = KeyUtils.aschex_to_bcdhex(hexCipher.substring(192, hexCipher.length()));\n \t\t\n \t\tECPoint s = calculateS(new BigInteger(pbX, 16), new BigInteger(pbY, 16), new BigInteger(pvk, 16));\n-\t\tBigInteger x2 = s.getX().toBigInteger();\n-\t\tBigInteger y2 = s.getY().toBigInteger();\n+//\t\tBigInteger x2 = s.getX().toBigInteger();\n+//\t\tBigInteger y2 = s.getY().toBigInteger();\n+\n+\t\tECPoint ecPoint = s.normalize();\n+\t\tBigInteger x2 = ecPoint.getAffineXCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzM3Nw==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687377", "createdAt": "2020-06-08T13:13:46Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -107,8 +107,12 @@\n \t\tbyte[] c2 = KeyUtils.aschex_to_bcdhex(hexCipher.substring(192, hexCipher.length()));\n \t\t\n \t\tECPoint s = calculateS(new BigInteger(pbX, 16), new BigInteger(pbY, 16), new BigInteger(pvk, 16));\n-\t\tBigInteger x2 = s.getX().toBigInteger();\n-\t\tBigInteger y2 = s.getY().toBigInteger();\n+//\t\tBigInteger x2 = s.getX().toBigInteger();\n+//\t\tBigInteger y2 = s.getY().toBigInteger();\n+\n+\t\tECPoint ecPoint = s.normalize();\n+\t\tBigInteger x2 = ecPoint.getAffineXCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzM4NA==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687384", "createdAt": "2020-06-08T13:13:46Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -107,8 +107,12 @@\n \t\tbyte[] c2 = KeyUtils.aschex_to_bcdhex(hexCipher.substring(192, hexCipher.length()));\n \t\t\n \t\tECPoint s = calculateS(new BigInteger(pbX, 16), new BigInteger(pbY, 16), new BigInteger(pvk, 16));\n-\t\tBigInteger x2 = s.getX().toBigInteger();\n-\t\tBigInteger y2 = s.getY().toBigInteger();\n+//\t\tBigInteger x2 = s.getX().toBigInteger();\n+//\t\tBigInteger y2 = s.getY().toBigInteger();\n+\n+\t\tECPoint ecPoint = s.normalize();\n+\t\tBigInteger x2 = ecPoint.getAffineXCoord().toBigInteger();\n+\t\tBigInteger y2 = ecPoint.getAffineYCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzM4Nw==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687387", "createdAt": "2020-06-08T13:13:47Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -107,8 +107,12 @@\n \t\tbyte[] c2 = KeyUtils.aschex_to_bcdhex(hexCipher.substring(192, hexCipher.length()));\n \t\t\n \t\tECPoint s = calculateS(new BigInteger(pbX, 16), new BigInteger(pbY, 16), new BigInteger(pvk, 16));\n-\t\tBigInteger x2 = s.getX().toBigInteger();\n-\t\tBigInteger y2 = s.getY().toBigInteger();\n+//\t\tBigInteger x2 = s.getX().toBigInteger();\n+//\t\tBigInteger y2 = s.getY().toBigInteger();\n+\n+\t\tECPoint ecPoint = s.normalize();\n+\t\tBigInteger x2 = ecPoint.getAffineXCoord().toBigInteger();\n+\t\tBigInteger y2 = ecPoint.getAffineYCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzM5Mw==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687393", "createdAt": "2020-06-08T13:13:47Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -178,12 +182,14 @@ private static ECPoint calculateS(BigInteger x1, BigInteger y1, BigInteger k) {\n \t */\n \t@SuppressWarnings(\"deprecation\")\n \tprivate static BigInteger calculateX2(ECPoint s) {\n-\t\treturn s.getX().toBigInteger();\n+\t\tECPoint ecPoint = s.normalize();\n+\t\treturn ecPoint.getAffineXCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzM5Ng==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687396", "createdAt": "2020-06-08T13:13:47Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -178,12 +182,14 @@ private static ECPoint calculateS(BigInteger x1, BigInteger y1, BigInteger k) {\n \t */\n \t@SuppressWarnings(\"deprecation\")\n \tprivate static BigInteger calculateX2(ECPoint s) {\n-\t\treturn s.getX().toBigInteger();\n+\t\tECPoint ecPoint = s.normalize();\n+\t\treturn ecPoint.getAffineXCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzQwNA==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687404", "createdAt": "2020-06-08T13:13:48Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -178,12 +182,14 @@ private static ECPoint calculateS(BigInteger x1, BigInteger y1, BigInteger k) {\n \t */\n \t@SuppressWarnings(\"deprecation\")\n \tprivate static BigInteger calculateX2(ECPoint s) {\n-\t\treturn s.getX().toBigInteger();\n+\t\tECPoint ecPoint = s.normalize();\n+\t\treturn ecPoint.getAffineXCoord().toBigInteger();\n \t}\n \t\n \t@SuppressWarnings(\"deprecation\")\n \tprivate static BigInteger calculateY2(ECPoint s) {\n-\t\treturn s.getY().toBigInteger();\n+\t\tECPoint ecPoint = s.normalize();\n+\t\treturn ecPoint.getAffineYCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzQxMA==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687410", "createdAt": "2020-06-08T13:13:48Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -178,12 +182,14 @@ private static ECPoint calculateS(BigInteger x1, BigInteger y1, BigInteger k) {\n \t */\n \t@SuppressWarnings(\"deprecation\")\n \tprivate static BigInteger calculateX2(ECPoint s) {\n-\t\treturn s.getX().toBigInteger();\n+\t\tECPoint ecPoint = s.normalize();\n+\t\treturn ecPoint.getAffineXCoord().toBigInteger();\n \t}\n \t\n \t@SuppressWarnings(\"deprecation\")\n \tprivate static BigInteger calculateY2(ECPoint s) {\n-\t\treturn s.getY().toBigInteger();\n+\t\tECPoint ecPoint = s.normalize();\n+\t\treturn ecPoint.getAffineYCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzQyMA==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687420", "createdAt": "2020-06-08T13:13:48Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -265,9 +271,10 @@ private static BigInteger calculateY2(ECPoint s) {\n \t@SuppressWarnings(\"deprecation\")\n \tprivate static byte[] getC(ECPoint c1, byte[] c3, byte[] c2) {\n \t\tbyte[] c = new byte[64 + c3.length + c2.length];\n-\t\t\n-\t\tbyte[] c1xBuf = padding(c1.getX().toBigInteger().toByteArray());\n-\t\tbyte[] c1yBuf = padding(c1.getY().toBigInteger().toByteArray());\n+\n+\t\tECPoint ecPoint = c1.normalize();\n+\t\tbyte[] c1xBuf = padding(ecPoint.getAffineXCoord().toBigInteger().toByteArray());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzQyMw==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687423", "createdAt": "2020-06-08T13:13:49Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -265,9 +271,10 @@ private static BigInteger calculateY2(ECPoint s) {\n \t@SuppressWarnings(\"deprecation\")\n \tprivate static byte[] getC(ECPoint c1, byte[] c3, byte[] c2) {\n \t\tbyte[] c = new byte[64 + c3.length + c2.length];\n-\t\t\n-\t\tbyte[] c1xBuf = padding(c1.getX().toBigInteger().toByteArray());\n-\t\tbyte[] c1yBuf = padding(c1.getY().toBigInteger().toByteArray());\n+\n+\t\tECPoint ecPoint = c1.normalize();\n+\t\tbyte[] c1xBuf = padding(ecPoint.getAffineXCoord().toBigInteger().toByteArray());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzQyNw==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687427", "createdAt": "2020-06-08T13:13:49Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -265,9 +271,10 @@ private static BigInteger calculateY2(ECPoint s) {\n \t@SuppressWarnings(\"deprecation\")\n \tprivate static byte[] getC(ECPoint c1, byte[] c3, byte[] c2) {\n \t\tbyte[] c = new byte[64 + c3.length + c2.length];\n-\t\t\n-\t\tbyte[] c1xBuf = padding(c1.getX().toBigInteger().toByteArray());\n-\t\tbyte[] c1yBuf = padding(c1.getY().toBigInteger().toByteArray());\n+\n+\t\tECPoint ecPoint = c1.normalize();\n+\t\tbyte[] c1xBuf = padding(ecPoint.getAffineXCoord().toBigInteger().toByteArray());\n+\t\tbyte[] c1yBuf = padding(ecPoint.getAffineYCoord().toBigInteger().toByteArray());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzQzMg==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687432", "createdAt": "2020-06-08T13:13:49Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -265,9 +271,10 @@ private static BigInteger calculateY2(ECPoint s) {\n \t@SuppressWarnings(\"deprecation\")\n \tprivate static byte[] getC(ECPoint c1, byte[] c3, byte[] c2) {\n \t\tbyte[] c = new byte[64 + c3.length + c2.length];\n-\t\t\n-\t\tbyte[] c1xBuf = padding(c1.getX().toBigInteger().toByteArray());\n-\t\tbyte[] c1yBuf = padding(c1.getY().toBigInteger().toByteArray());\n+\n+\t\tECPoint ecPoint = c1.normalize();\n+\t\tbyte[] c1xBuf = padding(ecPoint.getAffineXCoord().toBigInteger().toByteArray());\n+\t\tbyte[] c1yBuf = padding(ecPoint.getAffineYCoord().toBigInteger().toByteArray());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzQzNg==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687436", "createdAt": "2020-06-08T13:13:49Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -363,7 +370,8 @@ private static boolean isEmpty(byte[] t) {\n             do {\n                 k = createRandom();\n                 kp = g256.multiply(k);\n-                r = e.add(kp.getX().toBigInteger());\n+\t\t\t\tECPoint ecPoint = kp.normalize();\n+                r = e.add(ecPoint.getAffineXCoord().toBigInteger());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzQzOQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687439", "createdAt": "2020-06-08T13:13:49Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -363,7 +370,8 @@ private static boolean isEmpty(byte[] t) {\n             do {\n                 k = createRandom();\n                 kp = g256.multiply(k);\n-                r = e.add(kp.getX().toBigInteger());\n+\t\t\t\tECPoint ecPoint = kp.normalize();\n+                r = e.add(ecPoint.getAffineXCoord().toBigInteger());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzQ0Mw==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687443", "createdAt": "2020-06-08T13:13:50Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -414,7 +422,9 @@ private static boolean verify(byte[] msg, byte[] signData, BigInteger biX,BigInt\n \t\t\treturn false;\n \t\tECPoint x1y1 = g256.multiply(s);\n \t\tx1y1 = x1y1.add(userKey.multiply(t));\n-\t\tBigInteger R = e.add(x1y1.getX().toBigInteger()).mod(n);\n+\n+\t\tECPoint ecPoint = x1y1.normalize();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzQ0NQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687445", "createdAt": "2020-06-08T13:13:50Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -414,7 +422,9 @@ private static boolean verify(byte[] msg, byte[] signData, BigInteger biX,BigInt\n \t\t\treturn false;\n \t\tECPoint x1y1 = g256.multiply(s);\n \t\tx1y1 = x1y1.add(userKey.multiply(t));\n-\t\tBigInteger R = e.add(x1y1.getX().toBigInteger()).mod(n);\n+\n+\t\tECPoint ecPoint = x1y1.normalize();\n+\t\tBigInteger R = e.add(ecPoint.getAffineXCoord().toBigInteger()).mod(n);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzQ0OQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687449", "createdAt": "2020-06-08T13:13:50Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -414,7 +422,9 @@ private static boolean verify(byte[] msg, byte[] signData, BigInteger biX,BigInt\n \t\t\treturn false;\n \t\tECPoint x1y1 = g256.multiply(s);\n \t\tx1y1 = x1y1.add(userKey.multiply(t));\n-\t\tBigInteger R = e.add(x1y1.getX().toBigInteger()).mod(n);\n+\n+\t\tECPoint ecPoint = x1y1.normalize();\n+\t\tBigInteger R = e.add(ecPoint.getAffineXCoord().toBigInteger()).mod(n);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzQ1MA==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687450", "createdAt": "2020-06-08T13:13:50Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -460,8 +470,10 @@ private static boolean checkValidateK(BigInteger k){//k \u2208[1,n-1]\n \t\tsm3BlockUpdate(sm3, getEncoded(b));\n \t\tsm3BlockUpdate(sm3, getEncoded(gx));\n \t\tsm3BlockUpdate(sm3, getEncoded(gy));\n-\t\tsm3BlockUpdate(sm3, getEncoded(publicKey.getX().toBigInteger()));\n-\t\tsm3BlockUpdate(sm3, getEncoded(publicKey.getY().toBigInteger()));\n+\n+\t\tECPoint ecPoint = publicKey.normalize();\n+\t\tsm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineXCoord().toBigInteger()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzQ1NQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687455", "createdAt": "2020-06-08T13:13:50Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -460,8 +470,10 @@ private static boolean checkValidateK(BigInteger k){//k \u2208[1,n-1]\n \t\tsm3BlockUpdate(sm3, getEncoded(b));\n \t\tsm3BlockUpdate(sm3, getEncoded(gx));\n \t\tsm3BlockUpdate(sm3, getEncoded(gy));\n-\t\tsm3BlockUpdate(sm3, getEncoded(publicKey.getX().toBigInteger()));\n-\t\tsm3BlockUpdate(sm3, getEncoded(publicKey.getY().toBigInteger()));\n+\n+\t\tECPoint ecPoint = publicKey.normalize();\n+\t\tsm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineXCoord().toBigInteger()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzQ1OA==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687458", "createdAt": "2020-06-08T13:13:50Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -460,8 +470,10 @@ private static boolean checkValidateK(BigInteger k){//k \u2208[1,n-1]\n \t\tsm3BlockUpdate(sm3, getEncoded(b));\n \t\tsm3BlockUpdate(sm3, getEncoded(gx));\n \t\tsm3BlockUpdate(sm3, getEncoded(gy));\n-\t\tsm3BlockUpdate(sm3, getEncoded(publicKey.getX().toBigInteger()));\n-\t\tsm3BlockUpdate(sm3, getEncoded(publicKey.getY().toBigInteger()));\n+\n+\t\tECPoint ecPoint = publicKey.normalize();\n+\t\tsm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineXCoord().toBigInteger()));\n+\t\tsm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineYCoord().toBigInteger()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY4NzQ2Mg==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436687462", "createdAt": "2020-06-08T13:13:51Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -460,8 +470,10 @@ private static boolean checkValidateK(BigInteger k){//k \u2208[1,n-1]\n \t\tsm3BlockUpdate(sm3, getEncoded(b));\n \t\tsm3BlockUpdate(sm3, getEncoded(gx));\n \t\tsm3BlockUpdate(sm3, getEncoded(gy));\n-\t\tsm3BlockUpdate(sm3, getEncoded(publicKey.getX().toBigInteger()));\n-\t\tsm3BlockUpdate(sm3, getEncoded(publicKey.getY().toBigInteger()));\n+\n+\t\tECPoint ecPoint = publicKey.normalize();\n+\t\tsm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineXCoord().toBigInteger()));\n+\t\tsm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineYCoord().toBigInteger()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5"}, "originalPosition": 76}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9dcb3b714c906d818e11fb9d4c412a49542d03a5", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/9dcb3b714c906d818e11fb9d4c412a49542d03a5", "committedDate": "2020-06-08T13:12:40Z", "message": "remove fastjson and update deps version."}, "afterCommit": {"oid": "ef8ebfd48d46fa3236821c6cf78f72fc0565f1a4", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/ef8ebfd48d46fa3236821c6cf78f72fc0565f1a4", "committedDate": "2020-06-08T13:16:45Z", "message": "remove fastjson and update deps version."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2MjIzNDA5", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#pullrequestreview-426223409", "createdAt": "2020-06-08T13:17:45Z", "commit": {"oid": "ef8ebfd48d46fa3236821c6cf78f72fc0565f1a4"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMzoxNzo0NVrOGgdgXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOFQxMzoxNzo0NlrOGgdgYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY5MTAzNg==", "bodyText": "[PMD Java] This for loop can be replaced by a foreach loop (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nForLoopCanBeForeach\nBest Practices\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_bestpractices.html#forloopcanbeforeach\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436691036", "createdAt": "2020-06-08T13:17:45Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/contract/tools/CNSCmdTool.java", "diffHunk": "@@ -83,16 +81,16 @@ public static String getAddr(String addrPath) throws IOException {\n \t */\n \tpublic static boolean isContractHasVersion(String abi) throws Exception {\n \t\ttry {\n-\t\t\tJSONArray a = JSON.parseArray(abi);\n-\t\t\tfor(int i=0;i<a.size();++i) {\n-\t\t\t\tJSONObject o = a.getJSONObject(i);\n-\t\t\t\t//if abi has function member getVersion , then maybe the contract has version\n-\t\t\t\tif(o.containsKey(\"name\") && o.getString(\"name\").equals(\"getVersion\")) {\n+\t\t\tObjectMapper objectMapper = ObjectMapperFactory.getObjectMapper();\n+\t\t\tAbiDefinition[] abiDefinition = objectMapper.readValue(abi, AbiDefinition[].class);\n+\n+\t\t\tfor (int i = 0; i < abiDefinition.length; i++) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef8ebfd48d46fa3236821c6cf78f72fc0565f1a4"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjY5MTA0MQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.23.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/594#discussion_r436691041", "createdAt": "2020-06-08T13:17:46Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/contract/tools/CNSCmdTool.java", "diffHunk": "@@ -83,16 +81,16 @@ public static String getAddr(String addrPath) throws IOException {\n \t */\n \tpublic static boolean isContractHasVersion(String abi) throws Exception {\n \t\ttry {\n-\t\t\tJSONArray a = JSON.parseArray(abi);\n-\t\t\tfor(int i=0;i<a.size();++i) {\n-\t\t\t\tJSONObject o = a.getJSONObject(i);\n-\t\t\t\t//if abi has function member getVersion , then maybe the contract has version\n-\t\t\t\tif(o.containsKey(\"name\") && o.getString(\"name\").equals(\"getVersion\")) {\n+\t\t\tObjectMapper objectMapper = ObjectMapperFactory.getObjectMapper();\n+\t\t\tAbiDefinition[] abiDefinition = objectMapper.readValue(abi, AbiDefinition[].class);\n+\n+\t\t\tfor (int i = 0; i < abiDefinition.length; i++) {\n+\t\t\t\tif (abiDefinition[i].getType().equals(\"function\") && abiDefinition[i].getName().equals(\"getVersion\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef8ebfd48d46fa3236821c6cf78f72fc0565f1a4"}, "originalPosition": 42}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ef8ebfd48d46fa3236821c6cf78f72fc0565f1a4", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/ef8ebfd48d46fa3236821c6cf78f72fc0565f1a4", "committedDate": "2020-06-08T13:16:45Z", "message": "remove fastjson and update deps version."}, "afterCommit": {"oid": "96016019e9dfbd6d038074753a935c6117fa58d1", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/96016019e9dfbd6d038074753a935c6117fa58d1", "committedDate": "2020-06-09T09:30:29Z", "message": "remove fastjson and update deps version."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f869ef75a18fe1c47d9bb20df6daba9b296bc5d", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/2f869ef75a18fe1c47d9bb20df6daba9b296bc5d", "committedDate": "2020-06-09T12:26:31Z", "message": "remove fastjson"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "96016019e9dfbd6d038074753a935c6117fa58d1", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/96016019e9dfbd6d038074753a935c6117fa58d1", "committedDate": "2020-06-09T09:30:29Z", "message": "remove fastjson and update deps version."}, "afterCommit": {"oid": "2f869ef75a18fe1c47d9bb20df6daba9b296bc5d", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/2f869ef75a18fe1c47d9bb20df6daba9b296bc5d", "committedDate": "2020-06-09T12:26:31Z", "message": "remove fastjson"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1954, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}