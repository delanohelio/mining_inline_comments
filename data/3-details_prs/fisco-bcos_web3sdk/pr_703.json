{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczMTg2ODEz", "number": 703, "title": "add async method for CRUD Service", "bodyText": "", "createdAt": "2020-08-25T12:58:54Z", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/703", "merged": true, "mergeCommit": {"oid": "5abdb0412f8628aed2753936aa5d04c8d24d5b11"}, "closed": true, "closedAt": "2020-08-26T03:02:48Z", "author": {"login": "ywy2090"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCWzu1AFqTQ3NDQ1NTA5OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdCYFSjgFqTQ3NDUzODkyNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0NDU1MDk4", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/703#pullrequestreview-474455098", "createdAt": "2020-08-25T12:59:28Z", "commit": {"oid": "59d2135be55aee3daddfd8fcc4a99058e3148fdc"}, "state": "COMMENTED", "comments": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxMjo1OToyOFrOHGW53g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxMjo1OTozMFrOHGW59A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQyODc2Ng==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.26.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/703#discussion_r476428766", "createdAt": "2020-08-25T12:59:28Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/precompile/crud/CRUDService.java", "diffHunk": "@@ -64,6 +70,21 @@ public int insert(Table table, Entry entry) throws Exception {\n         return PrecompiledCommon.handleTransactionReceiptForCRUD(receipt);\n     }\n \n+    public void insert(Table table, Entry entry, TransactionSucCallback callback) throws Exception {\n+\n+        if (table.getKey().length() > PrecompiledCommon.TABLE_KEY_MAX_LENGTH) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59d2135be55aee3daddfd8fcc4a99058e3148fdc"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQyODc3Mw==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.26.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/703#discussion_r476428773", "createdAt": "2020-08-25T12:59:28Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/precompile/crud/CRUDService.java", "diffHunk": "@@ -64,6 +70,21 @@ public int insert(Table table, Entry entry) throws Exception {\n         return PrecompiledCommon.handleTransactionReceiptForCRUD(receipt);\n     }\n \n+    public void insert(Table table, Entry entry, TransactionSucCallback callback) throws Exception {\n+\n+        if (table.getKey().length() > PrecompiledCommon.TABLE_KEY_MAX_LENGTH) {\n+            throw new PrecompileMessageException(\n+                    \"The value of the table key exceeds the maximum limit(\"\n+                            + PrecompiledCommon.TABLE_KEY_MAX_LENGTH\n+                            + \").\");\n+        }\n+        String entryJsonStr =\n+                ObjectMapperFactory.getObjectMapper().writeValueAsString(entry.getFields());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59d2135be55aee3daddfd8fcc4a99058e3148fdc"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQyODc3NQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.26.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/703#discussion_r476428775", "createdAt": "2020-08-25T12:59:29Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/precompile/crud/CRUDService.java", "diffHunk": "@@ -87,6 +108,30 @@ public int update(Table table, Entry entry, Condition condition) throws Exceptio\n         return PrecompiledCommon.handleTransactionReceiptForCRUD(receipt);\n     }\n \n+    public void update(\n+            Table table, Entry entry, Condition condition, TransactionSucCallback callback)\n+            throws Exception {\n+\n+        if (table.getKey().length() > PrecompiledCommon.TABLE_KEY_MAX_LENGTH) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59d2135be55aee3daddfd8fcc4a99058e3148fdc"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQyODc3Nw==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.26.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/703#discussion_r476428777", "createdAt": "2020-08-25T12:59:29Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/precompile/crud/CRUDService.java", "diffHunk": "@@ -87,6 +108,30 @@ public int update(Table table, Entry entry, Condition condition) throws Exceptio\n         return PrecompiledCommon.handleTransactionReceiptForCRUD(receipt);\n     }\n \n+    public void update(\n+            Table table, Entry entry, Condition condition, TransactionSucCallback callback)\n+            throws Exception {\n+\n+        if (table.getKey().length() > PrecompiledCommon.TABLE_KEY_MAX_LENGTH) {\n+            throw new PrecompileMessageException(\n+                    \"The value of the table key exceeds the maximum limit(\"\n+                            + PrecompiledCommon.TABLE_KEY_MAX_LENGTH\n+                            + \").\");\n+        }\n+        String entryJsonStr =\n+                ObjectMapperFactory.getObjectMapper().writeValueAsString(entry.getFields());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59d2135be55aee3daddfd8fcc4a99058e3148fdc"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQyODc4MA==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.26.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/703#discussion_r476428780", "createdAt": "2020-08-25T12:59:29Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/precompile/crud/CRUDService.java", "diffHunk": "@@ -87,6 +108,30 @@ public int update(Table table, Entry entry, Condition condition) throws Exceptio\n         return PrecompiledCommon.handleTransactionReceiptForCRUD(receipt);\n     }\n \n+    public void update(\n+            Table table, Entry entry, Condition condition, TransactionSucCallback callback)\n+            throws Exception {\n+\n+        if (table.getKey().length() > PrecompiledCommon.TABLE_KEY_MAX_LENGTH) {\n+            throw new PrecompileMessageException(\n+                    \"The value of the table key exceeds the maximum limit(\"\n+                            + PrecompiledCommon.TABLE_KEY_MAX_LENGTH\n+                            + \").\");\n+        }\n+        String entryJsonStr =\n+                ObjectMapperFactory.getObjectMapper().writeValueAsString(entry.getFields());\n+        String conditionStr =\n+                ObjectMapperFactory.getObjectMapper().writeValueAsString(condition.getConditions());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59d2135be55aee3daddfd8fcc4a99058e3148fdc"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQyODc4MQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.26.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/703#discussion_r476428781", "createdAt": "2020-08-25T12:59:29Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/precompile/crud/CRUDService.java", "diffHunk": "@@ -103,6 +148,22 @@ public int remove(Table table, Condition condition) throws Exception {\n         return PrecompiledCommon.handleTransactionReceiptForCRUD(receipt);\n     }\n \n+    public void remove(Table table, Condition condition, TransactionSucCallback callback)\n+            throws Exception {\n+\n+        if (table.getKey().length() > PrecompiledCommon.TABLE_KEY_MAX_LENGTH) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59d2135be55aee3daddfd8fcc4a99058e3148fdc"}, "originalPosition": 80}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQyODc4Mg==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.26.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/703#discussion_r476428782", "createdAt": "2020-08-25T12:59:29Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/precompile/crud/CRUDService.java", "diffHunk": "@@ -103,6 +148,22 @@ public int remove(Table table, Condition condition) throws Exception {\n         return PrecompiledCommon.handleTransactionReceiptForCRUD(receipt);\n     }\n \n+    public void remove(Table table, Condition condition, TransactionSucCallback callback)\n+            throws Exception {\n+\n+        if (table.getKey().length() > PrecompiledCommon.TABLE_KEY_MAX_LENGTH) {\n+            throw new PrecompileMessageException(\n+                    \"The value of the table key exceeds the maximum limit(\"\n+                            + PrecompiledCommon.TABLE_KEY_MAX_LENGTH\n+                            + \").\");\n+        }\n+        String conditionStr =\n+                ObjectMapperFactory.getObjectMapper().writeValueAsString(condition.getConditions());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59d2135be55aee3daddfd8fcc4a99058e3148fdc"}, "originalPosition": 87}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQyODc4Mw==", "bodyText": "[PMD Java] A method/constructor should not explicitly throw java.lang.Exception (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nSignatureDeclareThrowsException\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.26.0/pmd_rules_java_design.html#signaturedeclarethrowsexception\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/703#discussion_r476428783", "createdAt": "2020-08-25T12:59:29Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/precompile/crud/CRUDService.java", "diffHunk": "@@ -47,6 +48,11 @@ public int createTable(Table table) throws Exception {\n         return PrecompiledCommon.handleTransactionReceiptForCRUD(receipt);\n     }\n \n+    public void createTable(Table table, TransactionSucCallback callback) throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59d2135be55aee3daddfd8fcc4a99058e3148fdc"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQyODc4NA==", "bodyText": "[PMD Java] A method/constructor should not explicitly throw java.lang.Exception (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nSignatureDeclareThrowsException\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.26.0/pmd_rules_java_design.html#signaturedeclarethrowsexception\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/703#discussion_r476428784", "createdAt": "2020-08-25T12:59:29Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/precompile/crud/CRUDService.java", "diffHunk": "@@ -64,6 +70,21 @@ public int insert(Table table, Entry entry) throws Exception {\n         return PrecompiledCommon.handleTransactionReceiptForCRUD(receipt);\n     }\n \n+    public void insert(Table table, Entry entry, TransactionSucCallback callback) throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59d2135be55aee3daddfd8fcc4a99058e3148fdc"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQyODc4Nw==", "bodyText": "[PMD Java] A method/constructor should not explicitly throw java.lang.Exception (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nSignatureDeclareThrowsException\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.26.0/pmd_rules_java_design.html#signaturedeclarethrowsexception\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/703#discussion_r476428787", "createdAt": "2020-08-25T12:59:30Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/precompile/crud/CRUDService.java", "diffHunk": "@@ -87,6 +108,30 @@ public int update(Table table, Entry entry, Condition condition) throws Exceptio\n         return PrecompiledCommon.handleTransactionReceiptForCRUD(receipt);\n     }\n \n+    public void update(\n+            Table table, Entry entry, Condition condition, TransactionSucCallback callback)\n+            throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59d2135be55aee3daddfd8fcc4a99058e3148fdc"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjQyODc4OA==", "bodyText": "[PMD Java] A method/constructor should not explicitly throw java.lang.Exception (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nSignatureDeclareThrowsException\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.26.0/pmd_rules_java_design.html#signaturedeclarethrowsexception\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/703#discussion_r476428788", "createdAt": "2020-08-25T12:59:30Z", "author": {"login": "sider"}, "path": "src/main/java/org/fisco/bcos/web3j/precompile/crud/CRUDService.java", "diffHunk": "@@ -103,6 +148,22 @@ public int remove(Table table, Condition condition) throws Exception {\n         return PrecompiledCommon.handleTransactionReceiptForCRUD(receipt);\n     }\n \n+    public void remove(Table table, Condition condition, TransactionSucCallback callback)\n+            throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59d2135be55aee3daddfd8fcc4a99058e3148fdc"}, "originalPosition": 78}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "318e61f7a65fd9eea08062149de4aa3252f74570", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/318e61f7a65fd9eea08062149de4aa3252f74570", "committedDate": "2020-08-25T12:59:47Z", "message": "add async method for CRUD Service"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "59d2135be55aee3daddfd8fcc4a99058e3148fdc", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/59d2135be55aee3daddfd8fcc4a99058e3148fdc", "committedDate": "2020-08-25T12:39:17Z", "message": "add async method for CRUD Service"}, "afterCommit": {"oid": "318e61f7a65fd9eea08062149de4aa3252f74570", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/318e61f7a65fd9eea08062149de4aa3252f74570", "committedDate": "2020-08-25T12:59:47Z", "message": "add async method for CRUD Service"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0NDU4NTcw", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/703#pullrequestreview-474458570", "createdAt": "2020-08-25T13:03:35Z", "commit": {"oid": "318e61f7a65fd9eea08062149de4aa3252f74570"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0NTM4OTI0", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/703#pullrequestreview-474538924", "createdAt": "2020-08-25T14:28:35Z", "commit": {"oid": "318e61f7a65fd9eea08062149de4aa3252f74570"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1837, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}