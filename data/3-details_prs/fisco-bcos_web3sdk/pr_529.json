{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2NzY2ODM4", "number": 529, "title": "add ECCEncrypt ECCDecrypt.", "bodyText": "", "createdAt": "2020-03-11T15:40:33Z", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/529", "merged": true, "mergeCommit": {"oid": "6fab44c98050d691dea8c05adb09ac4fed476a9c"}, "closed": true, "closedAt": "2020-03-12T12:23:02Z", "author": {"login": "ywy2090"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMpAz5AH2gAyMzg2NzY2ODM4OjIxNmVkZWY0MDE4YjUwODgxZWQ3NzVmYTQ3ZWI2MTEyNGFmMTU3M2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcM3ezkAFqTM3MzM1NzQxMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "216edef4018b50881ed775fa47eb61124af1573a", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/216edef4018b50881ed775fa47eb61124af1573a", "committedDate": "2020-03-11T15:40:10Z", "message": "add encrypt/decrypt/verify method for ECKeyPair."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyODgxMzYx", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/529#pullrequestreview-372881361", "createdAt": "2020-03-11T15:41:08Z", "commit": {"oid": "216edef4018b50881ed775fa47eb61124af1573a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNTo0MTowOFrOF08wtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNTo0MTowOFrOF08wtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTA2NTc4MQ==", "bodyText": "[Misspell] \"encrpyt\" is a misspelling of \"encrypt\" (view)\n\n\n\n\nRule\n\n\n\n\n\"encrpyt\" is a misspelling of \"encrypt\"\n\n\n\nYou can mark this issue as closed if you should not tackle it. (see our document about issues)", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/529#discussion_r391065781", "createdAt": "2020-03-11T15:41:08Z", "author": {"login": "sider"}, "path": "src/test/java/org/fisco/bcos/web3j/crypto/ECKeyPairTest.java", "diffHunk": "@@ -0,0 +1,139 @@\n+package org.fisco.bcos.web3j.crypto;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+import org.fisco.bcos.channel.client.P12Manager;\n+import org.fisco.bcos.web3j.crypto.gm.GenCredential;\n+import org.junit.Test;\n+import org.springframework.context.ApplicationContext;\n+import org.springframework.context.support.ClassPathXmlApplicationContext;\n+\n+public class ECKeyPairTest {\n+\n+    @Test\n+    public void encryptECKeyPairTest() throws Exception {\n+        ECKeyPair ecKeyPair = Keys.createEcKeyPair();\n+        String message = \"ecc encrpyt test\";\n+        byte[] encryptData = ecKeyPair.encrypt(message.getBytes(\"utf-8\"));\n+        byte[] decryptData = ecKeyPair.decrypt(encryptData);\n+\n+        String decrpptMessage = new String(decryptData, \"utf-8\");\n+        assertEquals(message, decrpptMessage);\n+    }\n+\n+    @Test\n+    public void encryptECKeyPairTestEmptyString() throws Exception {\n+        Credentials credentials = GenCredential.create();\n+        ECKeyPair ecKeyPair = credentials.getEcKeyPair();\n+        String message = \"\";\n+        byte[] encryptData = ecKeyPair.encrypt(message.getBytes(\"utf-8\"));\n+        byte[] decryptData = ecKeyPair.decrypt(encryptData);\n+        assertEquals(message, new String(decryptData, \"utf-8\"));\n+    }\n+\n+    @Test\n+    public void encryptECKeyPairTestWithPem() throws Exception {\n+        ApplicationContext context =\n+                new ClassPathXmlApplicationContext(\n+                        \"classpath:applicationContext-keystore-sample.xml\");\n+        // test p12\n+        P12Manager p12 = context.getBean(P12Manager.class);\n+\n+        ECKeyPair ecKeyPair1 = p12.getECKeyPair();\n+\n+        String message = \"ecc encrpyt test\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "216edef4018b50881ed775fa47eb61124af1573a"}, "originalPosition": 44}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyODgxMzc2", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/529#pullrequestreview-372881376", "createdAt": "2020-03-11T15:41:09Z", "commit": {"oid": "216edef4018b50881ed775fa47eb61124af1573a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNTo0MTowOVrOF08wwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNTo0MTowOVrOF08wwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTA2NTc5Mg==", "bodyText": "[Misspell] \"encrpyt\" is a misspelling of \"encrypt\" (view)\n\n\n\n\nRule\n\n\n\n\n\"encrpyt\" is a misspelling of \"encrypt\"\n\n\n\nYou can mark this issue as closed if you should not tackle it. (see our document about issues)", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/529#discussion_r391065792", "createdAt": "2020-03-11T15:41:09Z", "author": {"login": "sider"}, "path": "src/test/java/org/fisco/bcos/web3j/crypto/ECKeyPairTest.java", "diffHunk": "@@ -0,0 +1,139 @@\n+package org.fisco.bcos.web3j.crypto;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+import org.fisco.bcos.channel.client.P12Manager;\n+import org.fisco.bcos.web3j.crypto.gm.GenCredential;\n+import org.junit.Test;\n+import org.springframework.context.ApplicationContext;\n+import org.springframework.context.support.ClassPathXmlApplicationContext;\n+\n+public class ECKeyPairTest {\n+\n+    @Test\n+    public void encryptECKeyPairTest() throws Exception {\n+        ECKeyPair ecKeyPair = Keys.createEcKeyPair();\n+        String message = \"ecc encrpyt test\";\n+        byte[] encryptData = ecKeyPair.encrypt(message.getBytes(\"utf-8\"));\n+        byte[] decryptData = ecKeyPair.decrypt(encryptData);\n+\n+        String decrpptMessage = new String(decryptData, \"utf-8\");\n+        assertEquals(message, decrpptMessage);\n+    }\n+\n+    @Test\n+    public void encryptECKeyPairTestEmptyString() throws Exception {\n+        Credentials credentials = GenCredential.create();\n+        ECKeyPair ecKeyPair = credentials.getEcKeyPair();\n+        String message = \"\";\n+        byte[] encryptData = ecKeyPair.encrypt(message.getBytes(\"utf-8\"));\n+        byte[] decryptData = ecKeyPair.decrypt(encryptData);\n+        assertEquals(message, new String(decryptData, \"utf-8\"));\n+    }\n+\n+    @Test\n+    public void encryptECKeyPairTestWithPem() throws Exception {\n+        ApplicationContext context =\n+                new ClassPathXmlApplicationContext(\n+                        \"classpath:applicationContext-keystore-sample.xml\");\n+        // test p12\n+        P12Manager p12 = context.getBean(P12Manager.class);\n+\n+        ECKeyPair ecKeyPair1 = p12.getECKeyPair();\n+\n+        String message = \"ecc encrpyt test\";\n+        byte[] encryptData = ecKeyPair1.encrypt(message.getBytes(\"utf-8\"));\n+        byte[] decryptData = ecKeyPair1.decrypt(encryptData);\n+        assertEquals(message, new String(decryptData, \"utf-8\"));\n+    }\n+\n+    @Test\n+    public void verifyECKeyPairTest() throws Exception {\n+        ECKeyPair ecKeyPair = Keys.createEcKeyPair();\n+        String message = \"verify test\";\n+        ECDSASignature signature = ecKeyPair.sign(message.getBytes());\n+        boolean verify = ecKeyPair.verify(message.getBytes(), signature);\n+\n+        assertEquals(verify, true);\n+    }\n+\n+    @Test\n+    public void verifyECKeyPairTestEmptyString() throws Exception {\n+        ECKeyPair ecKeyPair = Keys.createEcKeyPair();\n+        String message = \"\";\n+        ECDSASignature signature = ecKeyPair.sign(message.getBytes());\n+        boolean verify = ecKeyPair.verify(message.getBytes(), signature);\n+\n+        assertEquals(verify, true);\n+    }\n+\n+    @Test\n+    public void verifyECKeyPairTestWithPem() throws Exception {\n+        ApplicationContext context =\n+                new ClassPathXmlApplicationContext(\n+                        \"classpath:applicationContext-keystore-sample.xml\");\n+        // test p12\n+        P12Manager p12 = context.getBean(P12Manager.class);\n+\n+        ECKeyPair ecKeyPair = p12.getECKeyPair();\n+\n+        String message = \"ecc encrpyt test\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "216edef4018b50881ed775fa47eb61124af1573a"}, "originalPosition": 80}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyODgxMzg3", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/529#pullrequestreview-372881387", "createdAt": "2020-03-11T15:41:10Z", "commit": {"oid": "216edef4018b50881ed775fa47eb61124af1573a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNTo0MToxMFrOF08wyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNTo0MToxMFrOF08wyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTA2NTgwMw==", "bodyText": "[Misspell] \"encrpyt\" is a misspelling of \"encrypt\" (view)\n\n\n\n\nRule\n\n\n\n\n\"encrpyt\" is a misspelling of \"encrypt\"\n\n\n\nYou can mark this issue as closed if you should not tackle it. (see our document about issues)", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/529#discussion_r391065803", "createdAt": "2020-03-11T15:41:10Z", "author": {"login": "sider"}, "path": "src/test/java/org/fisco/bcos/web3j/crypto/ECKeyPairTest.java", "diffHunk": "@@ -0,0 +1,139 @@\n+package org.fisco.bcos.web3j.crypto;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+import org.fisco.bcos.channel.client.P12Manager;\n+import org.fisco.bcos.web3j.crypto.gm.GenCredential;\n+import org.junit.Test;\n+import org.springframework.context.ApplicationContext;\n+import org.springframework.context.support.ClassPathXmlApplicationContext;\n+\n+public class ECKeyPairTest {\n+\n+    @Test\n+    public void encryptECKeyPairTest() throws Exception {\n+        ECKeyPair ecKeyPair = Keys.createEcKeyPair();\n+        String message = \"ecc encrpyt test\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "216edef4018b50881ed775fa47eb61124af1573a"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fcb7901de6d381cbcdf47368cf96a49902b498ca", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/fcb7901de6d381cbcdf47368cf96a49902b498ca", "committedDate": "2020-03-12T01:33:05Z", "message": "update ECDSA encrpyt/decrypt"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczMjMxMzAx", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/529#pullrequestreview-373231301", "createdAt": "2020-03-12T01:47:43Z", "commit": {"oid": "fcb7901de6d381cbcdf47368cf96a49902b498ca"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dc9336247644fa6e4df20b4ed126a30138260522", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/dc9336247644fa6e4df20b4ed126a30138260522", "committedDate": "2020-03-12T03:45:38Z", "message": "add ECCEcrypt/ECCDecrpyt"}, "afterCommit": {"oid": "cdbf7accfa8d26f2f5da8a46107faf51c3714413", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/cdbf7accfa8d26f2f5da8a46107faf51c3714413", "committedDate": "2020-03-12T07:58:15Z", "message": "add ECCEcrypt/ECCDecrpyt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9bb03885720f8853c4fd17b16e8a250e163d549", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/d9bb03885720f8853c4fd17b16e8a250e163d549", "committedDate": "2020-03-12T08:02:48Z", "message": "add ECCEcrypt/ECCDecrpyt"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cdbf7accfa8d26f2f5da8a46107faf51c3714413", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/cdbf7accfa8d26f2f5da8a46107faf51c3714413", "committedDate": "2020-03-12T07:58:15Z", "message": "add ECCEcrypt/ECCDecrpyt"}, "afterCommit": {"oid": "d9bb03885720f8853c4fd17b16e8a250e163d549", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/d9bb03885720f8853c4fd17b16e8a250e163d549", "committedDate": "2020-03-12T08:02:48Z", "message": "add ECCEcrypt/ECCDecrpyt"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczMzU3NDEw", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/529#pullrequestreview-373357410", "createdAt": "2020-03-12T08:31:36Z", "commit": {"oid": "d9bb03885720f8853c4fd17b16e8a250e163d549"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1888, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}