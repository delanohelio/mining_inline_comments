{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwODQ0Njk0", "number": 661, "title": "update deps", "bodyText": "", "createdAt": "2020-06-27T01:53:23Z", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661", "merged": true, "mergeCommit": {"oid": "a454185e9f0556f1116b6405fcaed754f5deb0d5"}, "closed": true, "closedAt": "2020-06-27T05:55:05Z", "author": {"login": "ywy2090"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcvNeSLAH2gAyNDQwODQ0Njk0OmQ3ODQ4OTg3ODk1YzdjYjY2ZGM4NTVjMDg2YzE0OTY0ZWQ4YWEyNDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcvN7ZdAFqTQzODY2Mjk1MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247", "author": {"user": {"login": "ywy2090", "name": null}}, "url": "https://github.com/FISCO-BCOS/web3sdk/commit/d7848987895c7cb66dc855c086c14964ed8aa247", "committedDate": "2020-06-27T01:22:22Z", "message": "update deps"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM4NjYyOTUw", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#pullrequestreview-438662950", "createdAt": "2020-06-27T01:54:07Z", "commit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "state": "COMMENTED", "comments": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMTo1NDowN1rOGpyXsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yN1QwMTo1NDoxMFrOGpyXyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ3MDA2NQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#discussion_r446470065", "createdAt": "2020-06-27T01:54:07Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -107,8 +107,12 @@\n \t\tbyte[] c2 = KeyUtils.aschex_to_bcdhex(hexCipher.substring(192, hexCipher.length()));\n \t\t\n \t\tECPoint s = calculateS(new BigInteger(pbX, 16), new BigInteger(pbY, 16), new BigInteger(pvk, 16));\n-\t\tBigInteger x2 = s.getX().toBigInteger();\n-\t\tBigInteger y2 = s.getY().toBigInteger();\n+//\t\tBigInteger x2 = s.getX().toBigInteger();\n+//\t\tBigInteger y2 = s.getY().toBigInteger();\n+\n+\t\tECPoint ecPoint = s.normalize();\n+\t\tBigInteger x2 = ecPoint.getAffineXCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ3MDA2Ng==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#discussion_r446470066", "createdAt": "2020-06-27T01:54:07Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -107,8 +107,12 @@\n \t\tbyte[] c2 = KeyUtils.aschex_to_bcdhex(hexCipher.substring(192, hexCipher.length()));\n \t\t\n \t\tECPoint s = calculateS(new BigInteger(pbX, 16), new BigInteger(pbY, 16), new BigInteger(pvk, 16));\n-\t\tBigInteger x2 = s.getX().toBigInteger();\n-\t\tBigInteger y2 = s.getY().toBigInteger();\n+//\t\tBigInteger x2 = s.getX().toBigInteger();\n+//\t\tBigInteger y2 = s.getY().toBigInteger();\n+\n+\t\tECPoint ecPoint = s.normalize();\n+\t\tBigInteger x2 = ecPoint.getAffineXCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ3MDA2Nw==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#discussion_r446470067", "createdAt": "2020-06-27T01:54:07Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -107,8 +107,12 @@\n \t\tbyte[] c2 = KeyUtils.aschex_to_bcdhex(hexCipher.substring(192, hexCipher.length()));\n \t\t\n \t\tECPoint s = calculateS(new BigInteger(pbX, 16), new BigInteger(pbY, 16), new BigInteger(pvk, 16));\n-\t\tBigInteger x2 = s.getX().toBigInteger();\n-\t\tBigInteger y2 = s.getY().toBigInteger();\n+//\t\tBigInteger x2 = s.getX().toBigInteger();\n+//\t\tBigInteger y2 = s.getY().toBigInteger();\n+\n+\t\tECPoint ecPoint = s.normalize();\n+\t\tBigInteger x2 = ecPoint.getAffineXCoord().toBigInteger();\n+\t\tBigInteger y2 = ecPoint.getAffineYCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ3MDA2OA==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#discussion_r446470068", "createdAt": "2020-06-27T01:54:07Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -107,8 +107,12 @@\n \t\tbyte[] c2 = KeyUtils.aschex_to_bcdhex(hexCipher.substring(192, hexCipher.length()));\n \t\t\n \t\tECPoint s = calculateS(new BigInteger(pbX, 16), new BigInteger(pbY, 16), new BigInteger(pvk, 16));\n-\t\tBigInteger x2 = s.getX().toBigInteger();\n-\t\tBigInteger y2 = s.getY().toBigInteger();\n+//\t\tBigInteger x2 = s.getX().toBigInteger();\n+//\t\tBigInteger y2 = s.getY().toBigInteger();\n+\n+\t\tECPoint ecPoint = s.normalize();\n+\t\tBigInteger x2 = ecPoint.getAffineXCoord().toBigInteger();\n+\t\tBigInteger y2 = ecPoint.getAffineYCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ3MDA3MA==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#discussion_r446470070", "createdAt": "2020-06-27T01:54:08Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -178,12 +182,14 @@ private static ECPoint calculateS(BigInteger x1, BigInteger y1, BigInteger k) {\n \t */\n \t@SuppressWarnings(\"deprecation\")\n \tprivate static BigInteger calculateX2(ECPoint s) {\n-\t\treturn s.getX().toBigInteger();\n+\t\tECPoint ecPoint = s.normalize();\n+\t\treturn ecPoint.getAffineXCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ3MDA3MQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#discussion_r446470071", "createdAt": "2020-06-27T01:54:08Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -178,12 +182,14 @@ private static ECPoint calculateS(BigInteger x1, BigInteger y1, BigInteger k) {\n \t */\n \t@SuppressWarnings(\"deprecation\")\n \tprivate static BigInteger calculateX2(ECPoint s) {\n-\t\treturn s.getX().toBigInteger();\n+\t\tECPoint ecPoint = s.normalize();\n+\t\treturn ecPoint.getAffineXCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ3MDA3Mg==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#discussion_r446470072", "createdAt": "2020-06-27T01:54:08Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -178,12 +182,14 @@ private static ECPoint calculateS(BigInteger x1, BigInteger y1, BigInteger k) {\n \t */\n \t@SuppressWarnings(\"deprecation\")\n \tprivate static BigInteger calculateX2(ECPoint s) {\n-\t\treturn s.getX().toBigInteger();\n+\t\tECPoint ecPoint = s.normalize();\n+\t\treturn ecPoint.getAffineXCoord().toBigInteger();\n \t}\n \t\n \t@SuppressWarnings(\"deprecation\")\n \tprivate static BigInteger calculateY2(ECPoint s) {\n-\t\treturn s.getY().toBigInteger();\n+\t\tECPoint ecPoint = s.normalize();\n+\t\treturn ecPoint.getAffineYCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ3MDA3Mw==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#discussion_r446470073", "createdAt": "2020-06-27T01:54:08Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -178,12 +182,14 @@ private static ECPoint calculateS(BigInteger x1, BigInteger y1, BigInteger k) {\n \t */\n \t@SuppressWarnings(\"deprecation\")\n \tprivate static BigInteger calculateX2(ECPoint s) {\n-\t\treturn s.getX().toBigInteger();\n+\t\tECPoint ecPoint = s.normalize();\n+\t\treturn ecPoint.getAffineXCoord().toBigInteger();\n \t}\n \t\n \t@SuppressWarnings(\"deprecation\")\n \tprivate static BigInteger calculateY2(ECPoint s) {\n-\t\treturn s.getY().toBigInteger();\n+\t\tECPoint ecPoint = s.normalize();\n+\t\treturn ecPoint.getAffineYCoord().toBigInteger();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ3MDA3NA==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#discussion_r446470074", "createdAt": "2020-06-27T01:54:08Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -265,9 +271,10 @@ private static BigInteger calculateY2(ECPoint s) {\n \t@SuppressWarnings(\"deprecation\")\n \tprivate static byte[] getC(ECPoint c1, byte[] c3, byte[] c2) {\n \t\tbyte[] c = new byte[64 + c3.length + c2.length];\n-\t\t\n-\t\tbyte[] c1xBuf = padding(c1.getX().toBigInteger().toByteArray());\n-\t\tbyte[] c1yBuf = padding(c1.getY().toBigInteger().toByteArray());\n+\n+\t\tECPoint ecPoint = c1.normalize();\n+\t\tbyte[] c1xBuf = padding(ecPoint.getAffineXCoord().toBigInteger().toByteArray());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ3MDA3NQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#discussion_r446470075", "createdAt": "2020-06-27T01:54:08Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -265,9 +271,10 @@ private static BigInteger calculateY2(ECPoint s) {\n \t@SuppressWarnings(\"deprecation\")\n \tprivate static byte[] getC(ECPoint c1, byte[] c3, byte[] c2) {\n \t\tbyte[] c = new byte[64 + c3.length + c2.length];\n-\t\t\n-\t\tbyte[] c1xBuf = padding(c1.getX().toBigInteger().toByteArray());\n-\t\tbyte[] c1yBuf = padding(c1.getY().toBigInteger().toByteArray());\n+\n+\t\tECPoint ecPoint = c1.normalize();\n+\t\tbyte[] c1xBuf = padding(ecPoint.getAffineXCoord().toBigInteger().toByteArray());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ3MDA3Ng==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#discussion_r446470076", "createdAt": "2020-06-27T01:54:08Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -265,9 +271,10 @@ private static BigInteger calculateY2(ECPoint s) {\n \t@SuppressWarnings(\"deprecation\")\n \tprivate static byte[] getC(ECPoint c1, byte[] c3, byte[] c2) {\n \t\tbyte[] c = new byte[64 + c3.length + c2.length];\n-\t\t\n-\t\tbyte[] c1xBuf = padding(c1.getX().toBigInteger().toByteArray());\n-\t\tbyte[] c1yBuf = padding(c1.getY().toBigInteger().toByteArray());\n+\n+\t\tECPoint ecPoint = c1.normalize();\n+\t\tbyte[] c1xBuf = padding(ecPoint.getAffineXCoord().toBigInteger().toByteArray());\n+\t\tbyte[] c1yBuf = padding(ecPoint.getAffineYCoord().toBigInteger().toByteArray());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ3MDA3Nw==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#discussion_r446470077", "createdAt": "2020-06-27T01:54:09Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -265,9 +271,10 @@ private static BigInteger calculateY2(ECPoint s) {\n \t@SuppressWarnings(\"deprecation\")\n \tprivate static byte[] getC(ECPoint c1, byte[] c3, byte[] c2) {\n \t\tbyte[] c = new byte[64 + c3.length + c2.length];\n-\t\t\n-\t\tbyte[] c1xBuf = padding(c1.getX().toBigInteger().toByteArray());\n-\t\tbyte[] c1yBuf = padding(c1.getY().toBigInteger().toByteArray());\n+\n+\t\tECPoint ecPoint = c1.normalize();\n+\t\tbyte[] c1xBuf = padding(ecPoint.getAffineXCoord().toBigInteger().toByteArray());\n+\t\tbyte[] c1yBuf = padding(ecPoint.getAffineYCoord().toBigInteger().toByteArray());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ3MDA3OQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#discussion_r446470079", "createdAt": "2020-06-27T01:54:09Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -363,7 +370,8 @@ private static boolean isEmpty(byte[] t) {\n             do {\n                 k = createRandom();\n                 kp = g256.multiply(k);\n-                r = e.add(kp.getX().toBigInteger());\n+\t\t\t\tECPoint ecPoint = kp.normalize();\n+                r = e.add(ecPoint.getAffineXCoord().toBigInteger());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ3MDA4MA==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#discussion_r446470080", "createdAt": "2020-06-27T01:54:09Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -363,7 +370,8 @@ private static boolean isEmpty(byte[] t) {\n             do {\n                 k = createRandom();\n                 kp = g256.multiply(k);\n-                r = e.add(kp.getX().toBigInteger());\n+\t\t\t\tECPoint ecPoint = kp.normalize();\n+                r = e.add(ecPoint.getAffineXCoord().toBigInteger());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ3MDA4MQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#discussion_r446470081", "createdAt": "2020-06-27T01:54:09Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -414,7 +422,9 @@ private static boolean verify(byte[] msg, byte[] signData, BigInteger biX,BigInt\n \t\t\treturn false;\n \t\tECPoint x1y1 = g256.multiply(s);\n \t\tx1y1 = x1y1.add(userKey.multiply(t));\n-\t\tBigInteger R = e.add(x1y1.getX().toBigInteger()).mod(n);\n+\n+\t\tECPoint ecPoint = x1y1.normalize();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ3MDA4Mg==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#discussion_r446470082", "createdAt": "2020-06-27T01:54:09Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -414,7 +422,9 @@ private static boolean verify(byte[] msg, byte[] signData, BigInteger biX,BigInt\n \t\t\treturn false;\n \t\tECPoint x1y1 = g256.multiply(s);\n \t\tx1y1 = x1y1.add(userKey.multiply(t));\n-\t\tBigInteger R = e.add(x1y1.getX().toBigInteger()).mod(n);\n+\n+\t\tECPoint ecPoint = x1y1.normalize();\n+\t\tBigInteger R = e.add(ecPoint.getAffineXCoord().toBigInteger()).mod(n);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ3MDA4NA==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#discussion_r446470084", "createdAt": "2020-06-27T01:54:10Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -414,7 +422,9 @@ private static boolean verify(byte[] msg, byte[] signData, BigInteger biX,BigInt\n \t\t\treturn false;\n \t\tECPoint x1y1 = g256.multiply(s);\n \t\tx1y1 = x1y1.add(userKey.multiply(t));\n-\t\tBigInteger R = e.add(x1y1.getX().toBigInteger()).mod(n);\n+\n+\t\tECPoint ecPoint = x1y1.normalize();\n+\t\tBigInteger R = e.add(ecPoint.getAffineXCoord().toBigInteger()).mod(n);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "originalPosition": 63}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ3MDA4NQ==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#discussion_r446470085", "createdAt": "2020-06-27T01:54:10Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -460,8 +470,10 @@ private static boolean checkValidateK(BigInteger k){//k \u2208[1,n-1]\n \t\tsm3BlockUpdate(sm3, getEncoded(b));\n \t\tsm3BlockUpdate(sm3, getEncoded(gx));\n \t\tsm3BlockUpdate(sm3, getEncoded(gy));\n-\t\tsm3BlockUpdate(sm3, getEncoded(publicKey.getX().toBigInteger()));\n-\t\tsm3BlockUpdate(sm3, getEncoded(publicKey.getY().toBigInteger()));\n+\n+\t\tECPoint ecPoint = publicKey.normalize();\n+\t\tsm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineXCoord().toBigInteger()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ3MDA4Ng==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#discussion_r446470086", "createdAt": "2020-06-27T01:54:10Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -460,8 +470,10 @@ private static boolean checkValidateK(BigInteger k){//k \u2208[1,n-1]\n \t\tsm3BlockUpdate(sm3, getEncoded(b));\n \t\tsm3BlockUpdate(sm3, getEncoded(gx));\n \t\tsm3BlockUpdate(sm3, getEncoded(gy));\n-\t\tsm3BlockUpdate(sm3, getEncoded(publicKey.getX().toBigInteger()));\n-\t\tsm3BlockUpdate(sm3, getEncoded(publicKey.getY().toBigInteger()));\n+\n+\t\tECPoint ecPoint = publicKey.normalize();\n+\t\tsm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineXCoord().toBigInteger()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ3MDA4Nw==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (method chain calls) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#discussion_r446470087", "createdAt": "2020-06-27T01:54:10Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -460,8 +470,10 @@ private static boolean checkValidateK(BigInteger k){//k \u2208[1,n-1]\n \t\tsm3BlockUpdate(sm3, getEncoded(b));\n \t\tsm3BlockUpdate(sm3, getEncoded(gx));\n \t\tsm3BlockUpdate(sm3, getEncoded(gy));\n-\t\tsm3BlockUpdate(sm3, getEncoded(publicKey.getX().toBigInteger()));\n-\t\tsm3BlockUpdate(sm3, getEncoded(publicKey.getY().toBigInteger()));\n+\n+\t\tECPoint ecPoint = publicKey.normalize();\n+\t\tsm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineXCoord().toBigInteger()));\n+\t\tsm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineYCoord().toBigInteger()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "originalPosition": 76}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NjQ3MDA4OA==", "bodyText": "[PMD Java] Potential violation of Law of Demeter (object not created locally) (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nLawOfDemeter\nDesign\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.24.0/pmd_rules_java_design.html#lawofdemeter\n\nYou can close this issue if no need to fix it. Learn more.", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/661#discussion_r446470088", "createdAt": "2020-06-27T01:54:10Z", "author": {"login": "sider"}, "path": "src/main/java/org/bcos/web3j/crypto/sm2/crypto/asymmetric/SM2Algorithm.java", "diffHunk": "@@ -460,8 +470,10 @@ private static boolean checkValidateK(BigInteger k){//k \u2208[1,n-1]\n \t\tsm3BlockUpdate(sm3, getEncoded(b));\n \t\tsm3BlockUpdate(sm3, getEncoded(gx));\n \t\tsm3BlockUpdate(sm3, getEncoded(gy));\n-\t\tsm3BlockUpdate(sm3, getEncoded(publicKey.getX().toBigInteger()));\n-\t\tsm3BlockUpdate(sm3, getEncoded(publicKey.getY().toBigInteger()));\n+\n+\t\tECPoint ecPoint = publicKey.normalize();\n+\t\tsm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineXCoord().toBigInteger()));\n+\t\tsm3BlockUpdate(sm3, getEncoded(ecPoint.getAffineYCoord().toBigInteger()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7848987895c7cb66dc855c086c14964ed8aa247"}, "originalPosition": 76}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1750, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}