{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0MzIyNTc0", "number": 524, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjowNzoxNVrODle-Xg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjowNzoxOFrODle-cA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNjMxMzkwOnYy", "diffSide": "RIGHT", "path": "src/test/java/org/fisco/bcos/channel/test/parallel/precompile/PerformanceDTTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjowNzoxNVrOFyZxdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjowNzoxNVrOFyZxdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM5NTM4Mg==", "bodyText": "[PMD] Found 'DU'-anomaly for variable 'writer' (lines '561'-'684'). (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nDataflowAnomalyAnalysis\nError Prone\n5\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.21.0/pmd_rules_java_errorprone.html#dataflowanomalyanalysis\n\nYou can mark this issue as closed if you should not tackle it. (see our document about issues)", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/524#discussion_r388395382", "createdAt": "2020-03-05T16:07:15Z", "author": {"login": "sider"}, "path": "src/test/java/org/fisco/bcos/channel/test/parallel/precompile/PerformanceDTTest.java", "diffHunk": "@@ -386,53 +385,47 @@\n                         + \" ,sps = \"\n                         + (totalSignedTxCount.intValue() / elapsed));\n \n-        System.out.println(\"\");\n-\n-        if (SM2Sign.isOpenSM2SignerCache()) {\n-            System.out.println(\"SM2Signer Object Count => \" + SM2Sign.getsM2SignerCache().size());\n-        }\n-\n         System.exit(0);\n     }\n \n~    public void userTransferTest(BigInteger count, BigInteger qps, BigInteger deci) {\n~        System.out.println(\"Start UserTransfer test...\");\n~        System.out.println(\"===================================================================\");\n~\n~        String dirName = \"./.signed_transactions\";\n~        File dir = new File(dirName);\n~        if (dir.exists()) {\n~            File[] fileList = dir.listFiles();\n~            for (File file : fileList) {\n~                if (!file.delete()) {\n~                    System.out.printf(\"Can't clean %s%n\", dirName);\n~                    System.exit(0);\n~                }\n~            }\n~        } else {\n~            if (!dir.mkdir()) {\n~                System.out.printf(\"Can't create directory %s%n\", dirName);\n~                System.exit(0);\n~            }\n~        }\n~\n~        try {\n~            System.out.println(dateFormat.format(new Date()) + \" Querying account state...\");\n~", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08476ab2e960e31682d07f68fbf8701c8b0c527c"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNjMxMzk1OnYy", "diffSide": "RIGHT", "path": "src/test/java/org/fisco/bcos/channel/test/parallel/precompile/PerformanceDTTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjowNzoxNlrOFyZxfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjowNzoxNlrOFyZxfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM5NTM5MA==", "bodyText": "[PMD] Assigning an Object to null is a code smell.  Consider refactoring. (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nNullAssignment\nError Prone\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.21.0/pmd_rules_java_errorprone.html#nullassignment\n\nYou can mark this issue as closed if you should not tackle it. (see our document about issues)", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/524#discussion_r388395390", "createdAt": "2020-03-05T16:07:16Z", "author": {"login": "sider"}, "path": "src/test/java/org/fisco/bcos/channel/test/parallel/precompile/PerformanceDTTest.java", "diffHunk": "@@ -386,53 +385,47 @@\n                         + \" ,sps = \"\n                         + (totalSignedTxCount.intValue() / elapsed));\n \n-        System.out.println(\"\");\n-\n-        if (SM2Sign.isOpenSM2SignerCache()) {\n-            System.out.println(\"SM2Signer Object Count => \" + SM2Sign.getsM2SignerCache().size());\n-        }\n-\n         System.exit(0);\n     }\n \n~    public void userTransferTest(BigInteger count, BigInteger qps, BigInteger deci) {\n~        System.out.println(\"Start UserTransfer test...\");\n~        System.out.println(\"===================================================================\");\n~\n~        String dirName = \"./.signed_transactions\";\n~        File dir = new File(dirName);\n~        if (dir.exists()) {\n~            File[] fileList = dir.listFiles();\n~            for (File file : fileList) {\n~                if (!file.delete()) {\n~                    System.out.printf(\"Can't clean %s%n\", dirName);\n~                    System.exit(0);\n~                }\n~            }\n~        } else {\n~            if (!dir.mkdir()) {\n~                System.out.printf(\"Can't create directory %s%n\", dirName);\n~                System.exit(0);\n~            }\n~        }\n~\n~        try {\n~            System.out.println(dateFormat.format(new Date()) + \" Querying account state...\");\n~", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08476ab2e960e31682d07f68fbf8701c8b0c527c"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNjMxNDAzOnYy", "diffSide": "RIGHT", "path": "src/test/java/org/fisco/bcos/channel/test/parallel/precompile/PerformanceDTTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjowNzoxN1rOFyZxiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjowNzoxN1rOFyZxiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM5NTQwMw==", "bodyText": "[PMD] Avoid instantiating new objects inside loops (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nAvoidInstantiatingObjectsInLoops\nPerformance\n3\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.21.0/pmd_rules_java_performance.html#avoidinstantiatingobjectsinloops\n\nYou can mark this issue as closed if you should not tackle it. (see our document about issues)", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/524#discussion_r388395403", "createdAt": "2020-03-05T16:07:17Z", "author": {"login": "sider"}, "path": "src/test/java/org/fisco/bcos/channel/test/parallel/precompile/PerformanceDTTest.java", "diffHunk": "@@ -386,53 +385,47 @@\n                         + \" ,sps = \"\n                         + (totalSignedTxCount.intValue() / elapsed));\n \n-        System.out.println(\"\");\n-\n-        if (SM2Sign.isOpenSM2SignerCache()) {\n-            System.out.println(\"SM2Signer Object Count => \" + SM2Sign.getsM2SignerCache().size());\n-        }\n-\n         System.exit(0);\n     }\n \n~    public void userTransferTest(BigInteger count, BigInteger qps, BigInteger deci) {\n~        System.out.println(\"Start UserTransfer test...\");\n~        System.out.println(\"===================================================================\");\n~\n~        String dirName = \"./.signed_transactions\";\n~        File dir = new File(dirName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08476ab2e960e31682d07f68fbf8701c8b0c527c"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNjMxNDA4OnYy", "diffSide": "RIGHT", "path": "src/test/java/org/fisco/bcos/channel/test/parallel/precompile/PerformanceDTTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjowNzoxOFrOFyZxmA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjowNzoxOFrOFyZxmA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM5NTQxNg==", "bodyText": "[PMD] Found 'DD'-anomaly for variable 'writer' (lines '561'-'484'). (view)\n\n\n\n\nRule\nRuleset\nPriority\n\n\n\n\nDataflowAnomalyAnalysis\nError Prone\n5\n\n\n\nReferences:\n\nhttps://pmd.github.io/pmd-6.21.0/pmd_rules_java_errorprone.html#dataflowanomalyanalysis\n\nYou can mark this issue as closed if you should not tackle it. (see our document about issues)", "url": "https://github.com/FISCO-BCOS/web3sdk/pull/524#discussion_r388395416", "createdAt": "2020-03-05T16:07:18Z", "author": {"login": "sider"}, "path": "src/test/java/org/fisco/bcos/channel/test/parallel/precompile/PerformanceDTTest.java", "diffHunk": "@@ -386,53 +385,47 @@\n                         + \" ,sps = \"\n                         + (totalSignedTxCount.intValue() / elapsed));\n \n-        System.out.println(\"\");\n-\n-        if (SM2Sign.isOpenSM2SignerCache()) {\n-            System.out.println(\"SM2Signer Object Count => \" + SM2Sign.getsM2SignerCache().size());\n-        }\n-\n         System.exit(0);\n     }\n \n~    public void userTransferTest(BigInteger count, BigInteger qps, BigInteger deci) {\n~        System.out.println(\"Start UserTransfer test...\");\n~        System.out.println(\"===================================================================\");\n~\n~        String dirName = \"./.signed_transactions\";\n~        File dir = new File(dirName);\n~        if (dir.exists()) {\n~            File[] fileList = dir.listFiles();\n~            for (File file : fileList) {\n~                if (!file.delete()) {\n~                    System.out.printf(\"Can't clean %s%n\", dirName);\n~                    System.exit(0);\n~                }\n~            }\n~        } else {\n~            if (!dir.mkdir()) {\n~                System.out.printf(\"Can't create directory %s%n\", dirName);\n~                System.exit(0);\n~            }\n~        }\n~\n~        try {\n~            System.out.println(dateFormat.format(new Date()) + \" Querying account state...\");\n~", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08476ab2e960e31682d07f68fbf8701c8b0c527c"}, "originalPosition": 44}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 751, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}