{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQxNTc2NjE3", "number": 2554, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxNzoyMzozOVrOFG0YeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxNzoyMzozOVrOFG0YeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQyNjk0MDA4OnYy", "diffSide": "RIGHT", "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/Client.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxNzoyMzozOVrOIIAWNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xN1QxODozNzoxNFrOIIDXCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTI2NTIwNQ==", "bodyText": "No need for toString()", "url": "https://github.com/apache/hadoop/pull/2554#discussion_r545265205", "createdAt": "2020-12-17T17:23:39Z", "author": {"login": "goiri"}, "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/Client.java", "diffHunk": "@@ -1139,34 +1147,38 @@ private boolean monitorApplication(ApplicationId appId)\n       FinalApplicationStatus dsStatus = report.getFinalApplicationStatus();\n       if (YarnApplicationState.FINISHED == state) {\n         if (FinalApplicationStatus.SUCCEEDED == dsStatus) {\n-          LOG.info(\"Application has completed successfully. Breaking monitoring loop\");\n-          return true;        \n-        }\n-        else {\n-          LOG.info(\"Application did finished unsuccessfully.\"\n-              + \" YarnState=\" + state.toString() + \", DSFinalStatus=\" + dsStatus.toString()\n-              + \". Breaking monitoring loop\");\n-          return false;\n+          LOG.info(\"Application has completed successfully. \"\n+                  + \"Breaking monitoring loop\");\n+          res = true;\n+        } else {\n+          LOG.info(\"Application did finished unsuccessfully. \"\n+                  + \"YarnState={}, DSFinalStatus={}. Breaking monitoring loop\",\n+              state.toString(), dsStatus.toString());\n         }\n-      }\n-      else if (YarnApplicationState.KILLED == state\n+        break;\n+      } else if (YarnApplicationState.KILLED == state\n           || YarnApplicationState.FAILED == state) {\n-        LOG.info(\"Application did not finish.\"\n-            + \" YarnState=\" + state.toString() + \", DSFinalStatus=\" + dsStatus.toString()\n-            + \". Breaking monitoring loop\");\n-        return false;\n+        LOG.info(\"Application did not finish. YarnState={}, DSFinalStatus={}. \"\n+                + \"Breaking monitoring loop\",\n+            state.toString(), dsStatus.toString());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0c7b394c9fcbbe2e0dff61d8231f90dab540407"}, "originalPosition": 88}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTMxNDU2OQ==", "bodyText": "Thanks @goiri ! I added a commit to get rid of the \"toString()\".", "url": "https://github.com/apache/hadoop/pull/2554#discussion_r545314569", "createdAt": "2020-12-17T18:37:14Z", "author": {"login": "amahussein"}, "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-applications/hadoop-yarn-applications-distributedshell/src/main/java/org/apache/hadoop/yarn/applications/distributedshell/Client.java", "diffHunk": "@@ -1139,34 +1147,38 @@ private boolean monitorApplication(ApplicationId appId)\n       FinalApplicationStatus dsStatus = report.getFinalApplicationStatus();\n       if (YarnApplicationState.FINISHED == state) {\n         if (FinalApplicationStatus.SUCCEEDED == dsStatus) {\n-          LOG.info(\"Application has completed successfully. Breaking monitoring loop\");\n-          return true;        \n-        }\n-        else {\n-          LOG.info(\"Application did finished unsuccessfully.\"\n-              + \" YarnState=\" + state.toString() + \", DSFinalStatus=\" + dsStatus.toString()\n-              + \". Breaking monitoring loop\");\n-          return false;\n+          LOG.info(\"Application has completed successfully. \"\n+                  + \"Breaking monitoring loop\");\n+          res = true;\n+        } else {\n+          LOG.info(\"Application did finished unsuccessfully. \"\n+                  + \"YarnState={}, DSFinalStatus={}. Breaking monitoring loop\",\n+              state.toString(), dsStatus.toString());\n         }\n-      }\n-      else if (YarnApplicationState.KILLED == state\n+        break;\n+      } else if (YarnApplicationState.KILLED == state\n           || YarnApplicationState.FAILED == state) {\n-        LOG.info(\"Application did not finish.\"\n-            + \" YarnState=\" + state.toString() + \", DSFinalStatus=\" + dsStatus.toString()\n-            + \". Breaking monitoring loop\");\n-        return false;\n+        LOG.info(\"Application did not finish. YarnState={}, DSFinalStatus={}. \"\n+                + \"Breaking monitoring loop\",\n+            state.toString(), dsStatus.toString());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTI2NTIwNQ=="}, "originalCommit": {"oid": "c0c7b394c9fcbbe2e0dff61d8231f90dab540407"}, "originalPosition": 88}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3100, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}