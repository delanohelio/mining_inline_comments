{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2MTA5MjA5", "number": 1889, "title": "HDFS-15215 The Timestamp for longest write/read lock held log is wrong", "bodyText": "", "createdAt": "2020-03-10T12:39:00Z", "url": "https://github.com/apache/hadoop/pull/1889", "merged": true, "mergeCommit": {"oid": "d353b30baf6da5b70685cf837cf7095636f345e1"}, "closed": true, "closedAt": "2020-03-24T21:50:16Z", "author": {"login": "brfrn169"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMeVO3gBqjMxMTcxNjQwMDY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcNFAiygFqTM3Mzk3NzU2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b7ce5858af1d4e4b29453ec4f5a0faf0cff6f969", "author": {"user": {"login": "brfrn169", "name": "Toshihiro Suzuki"}}, "url": "https://github.com/apache/hadoop/commit/b7ce5858af1d4e4b29453ec4f5a0faf0cff6f969", "committedDate": "2020-03-10T12:37:35Z", "message": "HDFS-15215 The Timestamp for longest write/read lock held log is wrong"}, "afterCommit": {"oid": "981075818335587d3aa351b38625bdcba720272e", "author": {"user": {"login": "brfrn169", "name": "Toshihiro Suzuki"}}, "url": "https://github.com/apache/hadoop/commit/981075818335587d3aa351b38625bdcba720272e", "committedDate": "2020-03-11T03:13:04Z", "message": "HDFS-15215 The Timestamp for longest write/read lock held log is wrong"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08499172e0be6dcbd60509d5ff0f55ebe64b23bf", "author": {"user": {"login": "brfrn169", "name": "Toshihiro Suzuki"}}, "url": "https://github.com/apache/hadoop/commit/08499172e0be6dcbd60509d5ff0f55ebe64b23bf", "committedDate": "2020-03-11T08:57:50Z", "message": "HDFS-15215 The Timestamp for longest write/read lock held log is wrong"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "981075818335587d3aa351b38625bdcba720272e", "author": {"user": {"login": "brfrn169", "name": "Toshihiro Suzuki"}}, "url": "https://github.com/apache/hadoop/commit/981075818335587d3aa351b38625bdcba720272e", "committedDate": "2020-03-11T03:13:04Z", "message": "HDFS-15215 The Timestamp for longest write/read lock held log is wrong"}, "afterCommit": {"oid": "08499172e0be6dcbd60509d5ff0f55ebe64b23bf", "author": {"user": {"login": "brfrn169", "name": "Toshihiro Suzuki"}}, "url": "https://github.com/apache/hadoop/commit/08499172e0be6dcbd60509d5ff0f55ebe64b23bf", "committedDate": "2020-03-11T08:57:50Z", "message": "HDFS-15215 The Timestamp for longest write/read lock held log is wrong"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyOTQ3Njkw", "url": "https://github.com/apache/hadoop/pull/1889#pullrequestreview-372947690", "createdAt": "2020-03-11T16:55:52Z", "commit": {"oid": "08499172e0be6dcbd60509d5ff0f55ebe64b23bf"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNjo1NTo1MlrOF1ABBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxNjo1NTo1MlrOF1ABBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTExOTExMA==", "bodyText": "Can we leave the old behavior as it was and add a method to change the nowNanos so we only set it there?", "url": "https://github.com/apache/hadoop/pull/1889#discussion_r391119110", "createdAt": "2020-03-11T16:55:52Z", "author": {"login": "goiri"}, "path": "hadoop-common-project/hadoop-common/src/test/java/org/apache/hadoop/util/FakeTimer.java", "diffHunk": "@@ -29,17 +29,19 @@\n @InterfaceAudience.Private\n @InterfaceStability.Unstable\n public class FakeTimer extends Timer {\n+  private long now;\n   private long nowNanos;\n \n   /** Constructs a FakeTimer with a non-zero value */\n   public FakeTimer() {\n     // Initialize with a non-trivial value.\n+    now = 1577836800000L; // 2020-01-01 00:00:00,000+0000", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08499172e0be6dcbd60509d5ff0f55ebe64b23bf"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczOTc3NTYy", "url": "https://github.com/apache/hadoop/pull/1889#pullrequestreview-373977562", "createdAt": "2020-03-13T00:17:13Z", "commit": {"oid": "08499172e0be6dcbd60509d5ff0f55ebe64b23bf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4460, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}