{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3MTQzODcy", "number": 2016, "title": "HDFS-15202 Boost short circuit cache (rebase PR-1884)", "bodyText": "Added parameter dfs.client.short.circuit.num improving HDFS-client's massive reading performance by create few instances ShortCircuit caches instead of one. It helps avoid locks and lets CPU do job.", "createdAt": "2020-05-13T06:21:26Z", "url": "https://github.com/apache/hadoop/pull/2016", "merged": true, "mergeCommit": {"oid": "86e6aa8eec538e142044e2b6415ec1caff5e9cbd"}, "closed": true, "closedAt": "2020-05-18T14:04:04Z", "author": {"login": "pustota2009"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgyvt_AH2gAyNDE3MTQzODcyOjRlOTZmMTM1ZjE3YmE5N2Y1OTFiMDA3YjlmZGRlNThhZDgxNmYzZDA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABchxi2mAH2gAyNDE3MTQzODcyOjkxYzNhZjNhNzkwYzMzMzM0MGM4ZjBhNDFmMWFhNzNkZTEzNzIyNTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4e96f135f17ba97f591b007b9fdde58ad816f3d0", "author": {"user": {"login": "pustota2009", "name": null}}, "url": "https://github.com/apache/hadoop/commit/4e96f135f17ba97f591b007b9fdde58ad816f3d0", "committedDate": "2020-05-13T06:19:02Z", "message": "Added parameter dfs.client.short.circuit.num improving HDFS-client's massive reading performance by create few instances ShortCircuit caches instead of one. It helps avoid locks and lets CPU do job."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d723fcaba9ccf723c4df440cc9b84df9389c88e", "author": {"user": {"login": "pustota2009", "name": null}}, "url": "https://github.com/apache/hadoop/commit/7d723fcaba9ccf723c4df440cc9b84df9389c88e", "committedDate": "2020-05-13T10:30:48Z", "message": "Update DfsClientConf.java\n\nfixed codestyle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyODQ3OTY0", "url": "https://github.com/apache/hadoop/pull/2016#pullrequestreview-412847964", "createdAt": "2020-05-15T17:46:34Z", "commit": {"oid": "7d723fcaba9ccf723c4df440cc9b84df9389c88e"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxNzo0NjozNFrOGWOQGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNVQxNzo0NjozNFrOGWOQGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTk1NTM1Mw==", "bodyText": "A lot of test code changes are not needed if you add an overriding method runBlockReaderLocalTest(BlockReaderLocalTest test, boolean checksum, long readahead) that calls runBlockReaderLocalTest(test, checksum, readahead, 1);", "url": "https://github.com/apache/hadoop/pull/2016#discussion_r425955353", "createdAt": "2020-05-15T17:46:34Z", "author": {"login": "jojochuang"}, "path": "hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/client/impl/TestBlockReaderLocal.java", "diffHunk": "@@ -130,10 +130,14 @@ public void doTest(BlockReaderLocal reader, byte original[])\n         throws IOException {\n       // default: no-op\n     }\n-  }\n+    public void doTest(BlockReaderLocal reader, byte[] original, int shift)\n+            throws IOException {\n+      // default: no-op\n+    }  }\n \n   public void runBlockReaderLocalTest(BlockReaderLocalTest test,\n-      boolean checksum, long readahead) throws IOException {\n+      boolean checksum, long readahead, int shortCircuitCachesNum)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7d723fcaba9ccf723c4df440cc9b84df9389c88e"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a1b8c9488489d544be78bdb36946656fbca2978", "author": {"user": {"login": "pustota2009", "name": null}}, "url": "https://github.com/apache/hadoop/commit/5a1b8c9488489d544be78bdb36946656fbca2978", "committedDate": "2020-05-16T06:46:12Z", "message": "Update TestBlockReaderLocal.java\n\nrefacted tests decoration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91c3af3a790c333340c8f0a41f1aa73de1372255", "author": {"user": {"login": "pustota2009", "name": null}}, "url": "https://github.com/apache/hadoop/commit/91c3af3a790c333340c8f0a41f1aa73de1372255", "committedDate": "2020-05-16T07:29:00Z", "message": "Update TestBlockReaderLocal.java\n\nfinished decoration of tests"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4307, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}