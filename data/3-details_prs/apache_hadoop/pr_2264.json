{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc3MDExNDQ2", "number": 2264, "title": "HADOOP-17229. No updation of bytes received counter value after response failure occurs in ABFS", "bodyText": "After a response failure at the moment, there is an increment to the bytes_received counter value which shouldn't increment.\nTest-run: mvn -T 1C -Dparallel-tests=abfs clean verify\n[INFO] Results:\n[INFO]\n[INFO] Tests run: 87, Failures: 0, Errors: 0, Skipped: 0\n\n[INFO] Results:\n[INFO]\n[ERROR] Errors:\n[ERROR]   ITestAzureBlobFileSystemCheckAccess.<init>:82->setTestUserFs:104 \u00bb IllegalArgument\n[ERROR]   ITestAzureBlobFileSystemCheckAccess.<init>:82->setTestUserFs:104 \u00bb IllegalArgument\n[ERROR]   ITestAzureBlobFileSystemCheckAccess.<init>:82->setTestUserFs:104 \u00bb IllegalArgument\n[ERROR]   ITestAzureBlobFileSystemCheckAccess.<init>:82->setTestUserFs:104 \u00bb IllegalArgument\n[ERROR]   ITestAzureBlobFileSystemCheckAccess.<init>:82->setTestUserFs:104 \u00bb IllegalArgument\n[ERROR]   ITestAzureBlobFileSystemCheckAccess.<init>:82->setTestUserFs:104 \u00bb IllegalArgument\n[ERROR]   ITestAzureBlobFileSystemCheckAccess.<init>:82->setTestUserFs:104 \u00bb IllegalArgument\n[ERROR]   ITestAzureBlobFileSystemCheckAccess.<init>:82->setTestUserFs:104 \u00bb IllegalArgument\n[ERROR]   ITestAzureBlobFileSystemCheckAccess.<init>:82->setTestUserFs:104 \u00bb IllegalArgument\n[ERROR]   ITestAzureBlobFileSystemCheckAccess.<init>:82->setTestUserFs:104 \u00bb IllegalArgument\n[ERROR]   ITestAzureBlobFileSystemCheckAccess.<init>:82->setTestUserFs:104 \u00bb IllegalArgument\n[ERROR]   ITestAzureBlobFileSystemCheckAccess.<init>:82->setTestUserFs:104 \u00bb IllegalArgument\n[ERROR]   ITestAzureBlobFileSystemDelete.testDeleteIdempotencyTriggerHttp404:223 \u00bb NoSuchField\n[ERROR]   ITestAzureBlobFileSystemRename.testRenameIdempotencyTriggerHttpNotFound:225->testRenameIdempotencyTriggerChecks:236 \u00bb NoSuchField\n[INFO]\n[ERROR] Tests run: 452, Failures: 0, Errors: 14, Skipped: 61\n\n[INFO] Results:\n[INFO]\n[WARNING] Tests run: 206, Failures: 0, Errors: 0, Skipped: 29\n\nNot really sure about these two failures, seeing these in trunk as well.\n[ERROR]   ITestAzureBlobFileSystemDelete.testDeleteIdempotencyTriggerHttp404:223 \u00bb NoSuchField\n[ERROR]   ITestAzureBlobFileSystemRename.testRenameIdempotencyTriggerHttpNotFound:225->testRenameIdempotencyTriggerChecks:236 \u00bb NoSuchField\n\nOthers are already in a Jira: HADOOP-17203.", "createdAt": "2020-09-01T11:22:37Z", "url": "https://github.com/apache/hadoop/pull/2264", "merged": true, "mergeCommit": {"oid": "0d855159f0956af3070a1a173c8a6cb2c71a1ea3"}, "closed": true, "closedAt": "2020-09-08T09:14:23Z", "author": {"login": "mehakmeet"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdElllGAH2gAyNDc3MDExNDQ2OmFlNjg2NjVhMDNlMWMyMmZjN2I5YTgzOGZmNWM2ZWM0N2Q2MWMyZjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdFTTc9AH2gAyNDc3MDExNDQ2OmFjMzJmZmNjOWUyZmMwNTk5YTM3NzA5ZDE0NDY0N2ZmZWE2OTgxYjc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ae68665a03e1c22fc7b9a838ff5c6ec47d61c2f6", "author": {"user": null}, "url": "https://github.com/apache/hadoop/commit/ae68665a03e1c22fc7b9a838ff5c6ec47d61c2f6", "committedDate": "2020-09-01T11:20:28Z", "message": "HADOOP-17229. No updation of bytes recevied counter value after response failure occurs in ABFS"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgwNzIwMzg5", "url": "https://github.com/apache/hadoop/pull/2264#pullrequestreview-480720389", "createdAt": "2020-09-02T11:19:06Z", "commit": {"oid": "ae68665a03e1c22fc7b9a838ff5c6ec47d61c2f6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMToxOTowN1rOHLqeRA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQxMToxOTowN1rOHLqeRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTk5MjI2MA==", "bodyText": "== 200", "url": "https://github.com/apache/hadoop/pull/2264#discussion_r481992260", "createdAt": "2020-09-02T11:19:07Z", "author": {"login": "steveloughran"}, "path": "hadoop-tools/hadoop-azure/src/main/java/org/apache/hadoop/fs/azurebfs/services/AbfsRestOperation.java", "diffHunk": "@@ -248,8 +248,10 @@ private boolean executeHttpOperation(final int retryCount) throws AzureBlobFileS\n \n       httpOperation.processResponse(buffer, bufferOffset, bufferLength);\n       incrementCounter(AbfsStatistic.GET_RESPONSES, 1);\n-      incrementCounter(AbfsStatistic.BYTES_RECEIVED,\n-          httpOperation.getBytesReceived());\n+      if (httpOperation.getStatusCode() < HttpURLConnection.HTTP_BAD_REQUEST) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae68665a03e1c22fc7b9a838ff5c6ec47d61c2f6"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "888dca3ba068f458f6165fb91fc848d834bd3bdc", "author": {"user": null}, "url": "https://github.com/apache/hadoop/commit/888dca3ba068f458f6165fb91fc848d834bd3bdc", "committedDate": "2020-09-03T13:29:03Z", "message": "HADOOP-17229. Increment condition change"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac32ffcc9e2fc0599a37709d144647ffea6981b7", "author": {"user": null}, "url": "https://github.com/apache/hadoop/commit/ac32ffcc9e2fc0599a37709d144647ffea6981b7", "committedDate": "2020-09-03T16:36:18Z", "message": "HADOOP-17229. checkstyle fix"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3568, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}