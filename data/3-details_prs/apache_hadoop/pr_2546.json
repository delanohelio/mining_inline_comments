{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM5MTY0MDA4", "number": 2546, "title": "HADOOP-17432. [JDK 16] KerberosUtil#getOidInstance is broken by JEP 396", "bodyText": "JIRA: https://issues.apache.org/jira/browse/HADOOP-17432\n\nRemoved the use of JDK internal APIs\nDeprecated KerberosUtil#getOidInstance\nUse the default OID in Hadoop\n\nTestAltKerberosAuthenticationHandler passed in JDK 16-ea+28.\n[INFO] Running org.apache.hadoop.security.authentication.server.TestAltKerberosAuthenticationHandler\n[INFO] Tests run: 16, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 19.761 s - in org.apache.hadoop.security.authentication.server.TestAltKerberosAuthenticationHandler", "createdAt": "2020-12-14T06:06:04Z", "url": "https://github.com/apache/hadoop/pull/2546", "merged": true, "mergeCommit": {"oid": "52217fce3d2a553c8850b7a1886340ae5a092436"}, "closed": true, "closedAt": "2021-02-05T07:14:11Z", "author": {"login": "aajisaka"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdl_PTXAH2gAyNTM5MTY0MDA4OjMyY2NjN2VhNjAzMWQyYmVkOWZmZmI0NTBlMDJmNjIzZjc2YTA2ZWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABd2_yqTAH2gAyNTM5MTY0MDA4OmUyNjQ4YjRmYzVlN2I5Njk4NzljNGNmNzY3MTYzMzQ3YmM2OTVhZTY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "32ccc7ea6031d2bed9fffb450e02f623f76a06ed", "author": {"user": {"login": "aajisaka", "name": "Akira Ajisaka"}}, "url": "https://github.com/apache/hadoop/commit/32ccc7ea6031d2bed9fffb450e02f623f76a06ed", "committedDate": "2020-12-14T05:53:10Z", "message": "HADOOP-17432. [JDK 16] KerberosUtil#getOidInstance is broken by JEP 396"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f34592ec8d58da7dda72739287a6212780e29a1b", "author": {"user": {"login": "aajisaka", "name": "Akira Ajisaka"}}, "url": "https://github.com/apache/hadoop/commit/f34592ec8d58da7dda72739287a6212780e29a1b", "committedDate": "2020-12-14T10:26:30Z", "message": "Fixed javac and checkstyle warnings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ffe73392ff62be3b9d917ab51f0d542bfaf13ff2", "author": {"user": {"login": "aajisaka", "name": "Akira Ajisaka"}}, "url": "https://github.com/apache/hadoop/commit/ffe73392ff62be3b9d917ab51f0d542bfaf13ff2", "committedDate": "2020-12-14T10:28:26Z", "message": "Empty commit to kick Jenkins"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTgzNjQ5MjA4", "url": "https://github.com/apache/hadoop/pull/2546#pullrequestreview-583649208", "createdAt": "2021-02-04T17:38:34Z", "commit": {"oid": "ffe73392ff62be3b9d917ab51f0d542bfaf13ff2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wNFQxNzozODozNFrOIf_deQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wNFQxNzozODozNFrOIf_deQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MDQxNjUwNQ==", "bodyText": "can you put this directly above line 85?", "url": "https://github.com/apache/hadoop/pull/2546#discussion_r570416505", "createdAt": "2021-02-04T17:38:34Z", "author": {"login": "steveloughran"}, "path": "hadoop-common-project/hadoop-auth/src/main/java/org/apache/hadoop/security/authentication/util/KerberosUtil.java", "diffHunk": "@@ -73,21 +72,29 @@ private static Oid getNumericOidInstance(String oidName) {\n     }\n   }\n \n-  public static Oid getOidInstance(String oidName) \n-      throws ClassNotFoundException, GSSException, NoSuchFieldException,\n-      IllegalAccessException {\n-    Class<?> oidClass;\n-    if (IBM_JAVA) {\n-      if (\"NT_GSS_KRB5_PRINCIPAL\".equals(oidName)) {\n-        // IBM JDK GSSUtil class does not have field for krb5 principal oid\n-        return new Oid(\"1.2.840.113554.1.2.2.1\");\n-      }\n-      oidClass = Class.forName(\"com.ibm.security.jgss.GSSUtil\");\n-    } else {\n-      oidClass = Class.forName(\"sun.security.jgss.GSSUtil\");\n+  @Deprecated", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ffe73392ff62be3b9d917ab51f0d542bfaf13ff2"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e2648b4fc5e7b969879c4cf767163347bc695ae6", "author": {"user": {"login": "aajisaka", "name": "Akira Ajisaka"}}, "url": "https://github.com/apache/hadoop/commit/e2648b4fc5e7b969879c4cf767163347bc695ae6", "committedDate": "2021-02-05T02:08:30Z", "message": "Moved @Deprecated"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3414, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}