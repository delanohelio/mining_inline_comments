{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyNTMzNDA2", "number": 2564, "title": "YARN-10538: Add RECOMMISSIONING nodes to the list of updated nodes returned to the AM", "bodyText": "YARN-6483 introduced nodes that transitioned to DECCMISSIONING state to the list of updated nodes returned to the AM. This allows the Spark application master to gracefully decommission its containers on the decommissioning node.\nBut if the node were to be recommissioned, the Spark application master would not be aware of this. This PR adds the recommissioned node to the list of updated nodes sent to the AM when a recommission node transition occurs.", "createdAt": "2020-12-18T13:08:11Z", "url": "https://github.com/apache/hadoop/pull/2564", "merged": true, "mergeCommit": {"oid": "1b1791075a8a45ff8c7d25d52cb014d0ce858cc2"}, "closed": true, "closedAt": "2021-01-08T05:22:53Z", "author": {"login": "srinivasst"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdnXwODAH2gAyNTQyNTMzNDA2OmFiYzg5ZjEwMDgzNjRlYzQzOGMxNzhjZTVhNDNiZTIzZjBhMGRhMGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdtHFwZgFqTU2MTYxMzg2Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "abc89f1008364ec438c178ce5a43be23f0a0da0a", "author": {"user": {"login": "srinivasst", "name": null}}, "url": "https://github.com/apache/hadoop/commit/abc89f1008364ec438c178ce5a43be23f0a0da0a", "committedDate": "2020-12-18T13:00:46Z", "message": "YARN-10538: Add RECOMMISSIONING nodes to the list of updated nodes returned to the AM"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3b60124bfd57360588c02c4f5bab6a71874809bd", "author": {"user": {"login": "srinivasst", "name": null}}, "url": "https://github.com/apache/hadoop/commit/3b60124bfd57360588c02c4f5bab6a71874809bd", "committedDate": "2020-12-21T05:26:57Z", "message": "Fix checkstyle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MjY1MDY0", "url": "https://github.com/apache/hadoop/pull/2564#pullrequestreview-556265064", "createdAt": "2020-12-21T10:06:25Z", "commit": {"oid": "3b60124bfd57360588c02c4f5bab6a71874809bd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2NDUxMTkz", "url": "https://github.com/apache/hadoop/pull/2564#pullrequestreview-556451193", "createdAt": "2020-12-21T15:14:01Z", "commit": {"oid": "3b60124bfd57360588c02c4f5bab6a71874809bd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQxNToxNDowMlrOIJbqNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yMVQxNToxNDowMlrOIJbqNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0Njc2MTI2OA==", "bodyText": "Cosmetic:\nCan you add a comment maybe suggesting that you're marking recommissioning nodes as usable or maybe even why you're marking them as usable. Just a thought.", "url": "https://github.com/apache/hadoop/pull/2564#discussion_r546761268", "createdAt": "2020-12-21T15:14:02Z", "author": {"login": "surnaik"}, "path": "hadoop-yarn-project/hadoop-yarn/hadoop-yarn-server/hadoop-yarn-server-resourcemanager/src/main/java/org/apache/hadoop/yarn/server/resourcemanager/rmnode/RMNodeImpl.java", "diffHunk": "@@ -1325,6 +1325,10 @@ public void transition(RMNodeImpl rmNode, RMNodeEvent event) {\n           .handle(\n               new NodeResourceUpdateSchedulerEvent(rmNode, ResourceOption\n                   .newInstance(rmNode.totalCapability, 0)));\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3b60124bfd57360588c02c4f5bab6a71874809bd"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "efe342fcb5c876a2a54f9e14f5078a7638fb8d25", "author": {"user": {"login": "srinivasst", "name": null}}, "url": "https://github.com/apache/hadoop/commit/efe342fcb5c876a2a54f9e14f5078a7638fb8d25", "committedDate": "2020-12-23T06:11:03Z", "message": "Add comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3NzY4MjAw", "url": "https://github.com/apache/hadoop/pull/2564#pullrequestreview-557768200", "createdAt": "2020-12-23T10:05:48Z", "commit": {"oid": "efe342fcb5c876a2a54f9e14f5078a7638fb8d25"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYxNjEzODY2", "url": "https://github.com/apache/hadoop/pull/2564#pullrequestreview-561613866", "createdAt": "2021-01-05T08:59:28Z", "commit": {"oid": "efe342fcb5c876a2a54f9e14f5078a7638fb8d25"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3231, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}