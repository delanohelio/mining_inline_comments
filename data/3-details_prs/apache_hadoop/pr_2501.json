{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI5MjQwMjI2", "number": 2501, "title": "HDFS-15648. TestFileChecksum should be parameterized.", "bodyText": "https://issues.apache.org/jira/browse/HDFS-15648", "createdAt": "2020-11-30T02:45:17Z", "url": "https://github.com/apache/hadoop/pull/2501", "merged": true, "mergeCommit": {"oid": "2825d060cf902148eeecf2de1a1c3755b1b14389"}, "closed": true, "closedAt": "2021-01-04T05:00:57Z", "author": {"login": "iwasakims"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhcJLPAH2gAyNTI5MjQwMjI2OjM1Nzg4NDcwNGQ1YjlhZTlkY2Y4YTEyZmVlNjQzNjQ2NGM1ZmUxMmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdqzi-ggFqTU1OTM3OTAwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "357884704d5b9ae9dcf8a12fee6436464c5fe12c", "author": {"user": {"login": "iwasakims", "name": "Masatake Iwasaki"}}, "url": "https://github.com/apache/hadoop/commit/357884704d5b9ae9dcf8a12fee6436464c5fe12c", "committedDate": "2020-11-30T02:44:06Z", "message": "HDFS-15648. TestFileChecksum should be parameterized with a boolean flag."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyMDE0NzM3", "url": "https://github.com/apache/hadoop/pull/2501#pullrequestreview-542014737", "createdAt": "2020-12-01T15:26:55Z", "commit": {"oid": "357884704d5b9ae9dcf8a12fee6436464c5fe12c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxNToyNjo1NlrOH8yR9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQxNTozMDowN1rOH8ybsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzUwMDQwNA==", "bodyText": "Do we need three boolean fields? It seems that the three booleans have the same value.\nMaybe we should simplify the implementation by replacing the three fields by a single field (i.e., isCompositeCRC)", "url": "https://github.com/apache/hadoop/pull/2501#discussion_r533500404", "createdAt": "2020-12-01T15:26:56Z", "author": {"login": "amahussein"}, "path": "hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestFileChecksum.java", "diffHunk": "@@ -77,6 +81,31 @@\n   private String stripedFile2 = ecDir + \"/stripedFileChecksum2\";\n   private String replicatedFile = \"/replicatedFileChecksum\";\n \n+  private String checksumCombineMode;\n+  private boolean expectComparableStripedAndReplicatedFiles;\n+  private boolean expectComparableDifferentBlockSizeReplicatedFiles;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "357884704d5b9ae9dcf8a12fee6436464c5fe12c"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzUwMjg5OA==", "bodyText": "We could keep the methods which returns the isCompositeCRC flag. This will reduce the diff and make the implementation flexible and maintainable for future changes.", "url": "https://github.com/apache/hadoop/pull/2501#discussion_r533502898", "createdAt": "2020-12-01T15:30:07Z", "author": {"login": "amahussein"}, "path": "hadoop-hdfs-project/hadoop-hdfs/src/test/java/org/apache/hadoop/hdfs/TestFileChecksum.java", "diffHunk": "@@ -220,7 +217,7 @@ public void testStripedAndReplicatedFileChecksum() throws Exception {\n     FileChecksum replicatedFileChecksum = getFileChecksum(replicatedFile,\n         10, false);\n \n-    if (expectComparableStripedAndReplicatedFiles()) {\n+    if (expectComparableStripedAndReplicatedFiles) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "357884704d5b9ae9dcf8a12fee6436464c5fe12c"}, "originalPosition": 112}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e32f6dc2454b529a13b751d93facdd169d5283e3", "author": {"user": {"login": "iwasakims", "name": "Masatake Iwasaki"}}, "url": "https://github.com/apache/hadoop/commit/e32f6dc2454b529a13b751d93facdd169d5283e3", "committedDate": "2020-12-01T23:29:17Z", "message": "removed boolean params."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5Mzc5MDAw", "url": "https://github.com/apache/hadoop/pull/2501#pullrequestreview-559379000", "createdAt": "2020-12-29T05:05:25Z", "commit": {"oid": "e32f6dc2454b529a13b751d93facdd169d5283e3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3337, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}