{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxMDM2OTEz", "number": 2063, "title": "HADOOP-17020. Improving RawFileSystem Performance", "bodyText": "Contributed by: Mehakmeet Singh\nTested by: mvn -T 1C -Dparallel-tests -DtestsThreadCount=8 clean verify\nRegion: East US, West US", "createdAt": "2020-06-08T10:31:41Z", "url": "https://github.com/apache/hadoop/pull/2063", "merged": true, "mergeCommit": {"oid": "2bfb22840acc9f96a8bdec1ef82da37d06937da8"}, "closed": true, "closedAt": "2020-06-17T15:15:28Z", "author": {"login": "mehakmeet"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcpNgJDgH2gAyNDMxMDM2OTEzOmM5NjlhZjg1NDU1OWZmMzc5ODkxOTViNmMyNGFhYzg4OTQxYzk3MDI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqNDDSAH2gAyNDMxMDM2OTEzOjcwOTkwZDYwYzBlYWE2MDdkYWVhNTM3ZTdjZmU0NjFjOTRiZjhiYmI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c969af854559ff37989195b6c24aac88941c9702", "author": {"user": {"login": "rbalamohan", "name": null}}, "url": "https://github.com/apache/hadoop/commit/c969af854559ff37989195b6c24aac88941c9702", "committedDate": "2020-06-08T10:00:51Z", "message": "HADOOP-17020. RawFileSystem could localize default block size to avoid sync bottleneck in config\n\nContributed by : Mehakmeet Singh"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2OTkwMDU3", "url": "https://github.com/apache/hadoop/pull/2063#pullrequestreview-426990057", "createdAt": "2020-06-09T10:07:42Z", "commit": {"oid": "c969af854559ff37989195b6c24aac88941c9702"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMDowNzo0MlrOGhCY7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMDowNzo0MlrOGhCY7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI5NTM0Mw==", "bodyText": "must be absolute fs uri", "url": "https://github.com/apache/hadoop/pull/2063#discussion_r437295343", "createdAt": "2020-06-09T10:07:42Z", "author": {"login": "steveloughran"}, "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/RawLocalFileSystem.java", "diffHunk": "@@ -100,6 +101,7 @@ public File pathToFile(Path path) {\n   public void initialize(URI uri, Configuration conf) throws IOException {\n     super.initialize(uri, conf);\n     setConf(conf);\n+    defaultBlockSize = getDefaultBlockSize(new Path(\".\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c969af854559ff37989195b6c24aac88941c9702"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI2OTkwNTYx", "url": "https://github.com/apache/hadoop/pull/2063#pullrequestreview-426990561", "createdAt": "2020-06-09T10:08:19Z", "commit": {"oid": "c969af854559ff37989195b6c24aac88941c9702"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMDowODoxOVrOGhCaaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wOVQxMDowODoxOVrOGhCaaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNzI5NTcyMQ==", "bodyText": "is this a new method, or just an accidental patch quirk", "url": "https://github.com/apache/hadoop/pull/2063#discussion_r437295721", "createdAt": "2020-06-09T10:08:19Z", "author": {"login": "steveloughran"}, "path": "hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/fs/RawLocalFileSystem.java", "diffHunk": "@@ -518,7 +520,12 @@ public boolean delete(Path p, boolean recursive) throws IOException {\n     }\n     return new FileStatus[] {\n         new DeprecatedRawLocalFileStatus(localf,\n-        getDefaultBlockSize(f), this) };\n+        defaultBlockSize, this) };\n+  }\n+\n+  @Override\n+  public boolean exists(Path f) throws IOException {\n+    return pathToFile(f).exists();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c969af854559ff37989195b6c24aac88941c9702"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "70990d60c0eaa607daea537e7cfe461c94bf8bbb", "author": {"user": null}, "url": "https://github.com/apache/hadoop/commit/70990d60c0eaa607daea537e7cfe461c94bf8bbb", "committedDate": "2020-06-11T12:03:00Z", "message": "HADOOP-17020. used absolute fs uri as path"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3994, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}