{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI3MzIwODEx", "number": 2051, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQwNDo0ODo1MFrOEG_Vfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QwODo0NTo1MlrOENuCYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1NzY0NjA2OnYy", "diffSide": "RIGHT", "path": "BUILDING.txt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQwNDo0ODo1MFrOGmH6qQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQwNDo0ODo1MFrOGmH6qQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjYyODc3Nw==", "bodyText": "Would you add (if compiling native code), as well as Protocol Buffers, CMake, and so on?", "url": "https://github.com/apache/hadoop/pull/2051#discussion_r442628777", "createdAt": "2020-06-19T04:48:50Z", "author": {"login": "aajisaka"}, "path": "BUILDING.txt", "diffHunk": "@@ -6,6 +6,7 @@ Requirements:\n * Unix System\n * JDK 1.8\n * Maven 3.3 or later\n+* Boost 1.76", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fad8ff2a0e1b584496616440ca05cee4625649a"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1NzY0ODU4OnYy", "diffSide": "RIGHT", "path": "dev-support/docker/Dockerfile", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQwNDo1MDozN1rOGmH8Nw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQwNToxMzo0NFrOGmIQyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjYyOTE3NQ==", "bodyText": "The versions are not consistent. The comment says boost 1.76 but downloads boost 1.72.", "url": "https://github.com/apache/hadoop/pull/2051#discussion_r442629175", "createdAt": "2020-06-19T04:50:37Z", "author": {"login": "aajisaka"}, "path": "dev-support/docker/Dockerfile", "diffHunk": "@@ -86,6 +86,15 @@ RUN apt-get -q update \\\n     && apt-get clean \\\n     && rm -rf /var/lib/apt/lists/*\n \n+#######\n+# Boost 1.76 (1.65 ships with Bionic)\n+#######\n+WORKDIR /root/boost-library\n+RUN curl -L https://sourceforge.net/projects/boost/files/boost/1.72.0/boost_1_72_0.tar.bz2/download > boost_1_72_0.tar.bz2 \\\n+    && tar --bzip2 -xf boost_1_72_0.tar.bz2\n+WORKDIR /root/boost-library/boost_1_72_0", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6fad8ff2a0e1b584496616440ca05cee4625649a"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjYzMDUxNQ==", "bodyText": "Is there any specific reason to use the latest version of boost? If not, the version provided and maintained in Ubuntu Bionic is better.", "url": "https://github.com/apache/hadoop/pull/2051#discussion_r442630515", "createdAt": "2020-06-19T04:56:44Z", "author": {"login": "aajisaka"}, "path": "dev-support/docker/Dockerfile", "diffHunk": "@@ -86,6 +86,15 @@ RUN apt-get -q update \\\n     && apt-get clean \\\n     && rm -rf /var/lib/apt/lists/*\n \n+#######\n+# Boost 1.76 (1.65 ships with Bionic)\n+#######\n+WORKDIR /root/boost-library\n+RUN curl -L https://sourceforge.net/projects/boost/files/boost/1.72.0/boost_1_72_0.tar.bz2/download > boost_1_72_0.tar.bz2 \\\n+    && tar --bzip2 -xf boost_1_72_0.tar.bz2\n+WORKDIR /root/boost-library/boost_1_72_0", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjYyOTE3NQ=="}, "originalCommit": {"oid": "6fad8ff2a0e1b584496616440ca05cee4625649a"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjYzMzEzOQ==", "bodyText": "The versions are not consistent. The comment says boost 1.76 but downloads boost 1.72.\n\nThanks for the catch @aajisaka. I've rectified it.", "url": "https://github.com/apache/hadoop/pull/2051#discussion_r442633139", "createdAt": "2020-06-19T05:08:04Z", "author": {"login": "GauthamBanasandra"}, "path": "dev-support/docker/Dockerfile", "diffHunk": "@@ -86,6 +86,15 @@ RUN apt-get -q update \\\n     && apt-get clean \\\n     && rm -rf /var/lib/apt/lists/*\n \n+#######\n+# Boost 1.76 (1.65 ships with Bionic)\n+#######\n+WORKDIR /root/boost-library\n+RUN curl -L https://sourceforge.net/projects/boost/files/boost/1.72.0/boost_1_72_0.tar.bz2/download > boost_1_72_0.tar.bz2 \\\n+    && tar --bzip2 -xf boost_1_72_0.tar.bz2\n+WORKDIR /root/boost-library/boost_1_72_0", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjYyOTE3NQ=="}, "originalCommit": {"oid": "6fad8ff2a0e1b584496616440ca05cee4625649a"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjYzNDQ0MQ==", "bodyText": "Is there any specific reason to use the latest version of boost? If not, the version provided and maintained in Ubuntu Bionic is better.\n\nYes @aajisaka. As part of the upgrade, I needed to use boost::asio::system_executor - 4dcc89a#diff-365634cc5fad269ad19308bd99357403R43. It's available in Boost 1.72 but not in Boost 1.65.\n(Also, it saves us from having to upgrade from 1.65 to 1.7x in the future \ud83d\ude01)", "url": "https://github.com/apache/hadoop/pull/2051#discussion_r442634441", "createdAt": "2020-06-19T05:13:44Z", "author": {"login": "GauthamBanasandra"}, "path": "dev-support/docker/Dockerfile", "diffHunk": "@@ -86,6 +86,15 @@ RUN apt-get -q update \\\n     && apt-get clean \\\n     && rm -rf /var/lib/apt/lists/*\n \n+#######\n+# Boost 1.76 (1.65 ships with Bionic)\n+#######\n+WORKDIR /root/boost-library\n+RUN curl -L https://sourceforge.net/projects/boost/files/boost/1.72.0/boost_1_72_0.tar.bz2/download > boost_1_72_0.tar.bz2 \\\n+    && tar --bzip2 -xf boost_1_72_0.tar.bz2\n+WORKDIR /root/boost-library/boost_1_72_0", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MjYyOTE3NQ=="}, "originalCommit": {"oid": "6fad8ff2a0e1b584496616440ca05cee4625649a"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyODA1OTM0OnYy", "diffSide": "RIGHT", "path": "dev-support/docker/Dockerfile", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QwNzowMzo0OVrOGwdiLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNjo1OTozNlrOGwxbkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQ2ODcxNg==", "bodyText": "WORKDIR is /root in other places. Would you remove the overrides?", "url": "https://github.com/apache/hadoop/pull/2051#discussion_r453468716", "createdAt": "2020-07-13T07:03:49Z", "author": {"login": "aajisaka"}, "path": "dev-support/docker/Dockerfile", "diffHunk": "@@ -84,6 +84,16 @@ RUN apt-get -q update \\\n     && apt-get clean \\\n     && rm -rf /var/lib/apt/lists/*\n \n+#######\n+# Boost 1.72 (1.65 ships with Bionic)\n+#######\n+WORKDIR /root/boost-library", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "259f286879a7178a091bd17009de78756ff96ca2"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1Mzc5NDcwNg==", "bodyText": "Done @aajisaka. I've removed the WORKDIR overrides.", "url": "https://github.com/apache/hadoop/pull/2051#discussion_r453794706", "createdAt": "2020-07-13T16:59:36Z", "author": {"login": "GauthamBanasandra"}, "path": "dev-support/docker/Dockerfile", "diffHunk": "@@ -84,6 +84,16 @@ RUN apt-get -q update \\\n     && apt-get clean \\\n     && rm -rf /var/lib/apt/lists/*\n \n+#######\n+# Boost 1.72 (1.65 ships with Bionic)\n+#######\n+WORKDIR /root/boost-library", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQ2ODcxNg=="}, "originalCommit": {"oid": "259f286879a7178a091bd17009de78756ff96ca2"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgyODIxMjE5OnYy", "diffSide": "RIGHT", "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-nativetask/src/main/native/src/util/StringUtil.cc", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QwODo0NTo1MlrOGwe30A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xM1QxNToxMTo1NlrOGwtBGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQ5MDY0MA==", "bodyText": "I think these changes in the mapreduce module are not related to this issue.", "url": "https://github.com/apache/hadoop/pull/2051#discussion_r453490640", "createdAt": "2020-07-13T08:45:52Z", "author": {"login": "aajisaka"}, "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-nativetask/src/main/native/src/util/StringUtil.cc", "diffHunk": "@@ -36,19 +36,19 @@ string StringUtil::ToString(uint32_t v) {\n \n string StringUtil::ToString(int64_t v) {\n   char tmp[32];\n-  snprintf(tmp, 32, \"%\"PRId64, v);\n+  snprintf(tmp, 32, \"%\" PRId64, v);\n   return tmp;\n }\n \n string StringUtil::ToString(int64_t v, char pad, int64_t len) {\n   char tmp[32];\n-  snprintf(tmp, 32, \"%%%c%\"PRId64\"\"PRId64, pad, len);\n+  snprintf(tmp, 32, \"%%%c%\" PRId64 \"\" PRId64, pad, len);\n   return Format(tmp, v);\n }\n \n string StringUtil::ToString(uint64_t v) {\n   char tmp[32];\n-  snprintf(tmp, 32, \"%\"PRIu64, v);\n+  snprintf(tmp, 32, \"%\" PRIu64, v);\n   return tmp;\n }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "259f286879a7178a091bd17009de78756ff96ca2"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzcyMjM5NA==", "bodyText": "Done @aajisaka. I've removed these.", "url": "https://github.com/apache/hadoop/pull/2051#discussion_r453722394", "createdAt": "2020-07-13T15:11:56Z", "author": {"login": "GauthamBanasandra"}, "path": "hadoop-mapreduce-project/hadoop-mapreduce-client/hadoop-mapreduce-client-nativetask/src/main/native/src/util/StringUtil.cc", "diffHunk": "@@ -36,19 +36,19 @@ string StringUtil::ToString(uint32_t v) {\n \n string StringUtil::ToString(int64_t v) {\n   char tmp[32];\n-  snprintf(tmp, 32, \"%\"PRId64, v);\n+  snprintf(tmp, 32, \"%\" PRId64, v);\n   return tmp;\n }\n \n string StringUtil::ToString(int64_t v, char pad, int64_t len) {\n   char tmp[32];\n-  snprintf(tmp, 32, \"%%%c%\"PRId64\"\"PRId64, pad, len);\n+  snprintf(tmp, 32, \"%%%c%\" PRId64 \"\" PRId64, pad, len);\n   return Format(tmp, v);\n }\n \n string StringUtil::ToString(uint64_t v) {\n   char tmp[32];\n-  snprintf(tmp, 32, \"%\"PRIu64, v);\n+  snprintf(tmp, 32, \"%\" PRIu64, v);\n   return tmp;\n }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MzQ5MDY0MA=="}, "originalCommit": {"oid": "259f286879a7178a091bd17009de78756ff96ca2"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3582, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}