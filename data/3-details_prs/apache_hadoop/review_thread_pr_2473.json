{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzNDA2ODk5", "number": 2473, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNToyODo1MVrOE7X2dA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxMDo0NTo0MFrOE9K0GQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNjkyMjEyOnYy", "diffSide": "RIGHT", "path": "hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/AbstractS3ATestBase.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNToyODo1MVrOH2-lMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxNToyNTo0NFrOH4SbLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQxMDQ4MA==", "bodyText": "Looks like jira id is wrong.", "url": "https://github.com/apache/hadoop/pull/2473#discussion_r527410480", "createdAt": "2020-11-20T05:28:51Z", "author": {"login": "mukund-thakur"}, "path": "hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/AbstractS3ATestBase.java", "diffHunk": "@@ -60,6 +60,9 @@ public void setup() throws Exception {\n     // filesystems which add default configuration resources to do it before\n     // our tests start adding/removing options. See HADOOP-16626.\n     FileSystem.getLocal(new Configuration());\n+    // instantiate an S3A FS here here to force deprecated key load through the\n+    // static initializers. See: HADOOP-17835", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ebd8242f9b2068b4dd81d4e310db6eee67e31737"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODc4NDE3NA==", "bodyText": "thanks", "url": "https://github.com/apache/hadoop/pull/2473#discussion_r528784174", "createdAt": "2020-11-23T15:25:44Z", "author": {"login": "steveloughran"}, "path": "hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/AbstractS3ATestBase.java", "diffHunk": "@@ -60,6 +60,9 @@ public void setup() throws Exception {\n     // filesystems which add default configuration resources to do it before\n     // our tests start adding/removing options. See HADOOP-16626.\n     FileSystem.getLocal(new Configuration());\n+    // instantiate an S3A FS here here to force deprecated key load through the\n+    // static initializers. See: HADOOP-17835", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQxMDQ4MA=="}, "originalCommit": {"oid": "ebd8242f9b2068b4dd81d4e310db6eee67e31737"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNjkzNjExOnYy", "diffSide": "RIGHT", "path": "hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/AbstractS3ATestBase.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNTozMTo0MVrOH2-vYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxMDo0MDo1NFrOH3KbyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQxMzA5MA==", "bodyText": "typo: two here.", "url": "https://github.com/apache/hadoop/pull/2473#discussion_r527413090", "createdAt": "2020-11-20T05:31:41Z", "author": {"login": "mukund-thakur"}, "path": "hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/AbstractS3ATestBase.java", "diffHunk": "@@ -60,6 +60,9 @@ public void setup() throws Exception {\n     // filesystems which add default configuration resources to do it before\n     // our tests start adding/removing options. See HADOOP-16626.\n     FileSystem.getLocal(new Configuration());\n+    // instantiate an S3A FS here here to force deprecated key load through the", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ebd8242f9b2068b4dd81d4e310db6eee67e31737"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzYwNDY4MA==", "bodyText": "thx", "url": "https://github.com/apache/hadoop/pull/2473#discussion_r527604680", "createdAt": "2020-11-20T10:40:54Z", "author": {"login": "steveloughran"}, "path": "hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/AbstractS3ATestBase.java", "diffHunk": "@@ -60,6 +60,9 @@ public void setup() throws Exception {\n     // filesystems which add default configuration resources to do it before\n     // our tests start adding/removing options. See HADOOP-16626.\n     FileSystem.getLocal(new Configuration());\n+    // instantiate an S3A FS here here to force deprecated key load through the", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQxMzA5MA=="}, "originalCommit": {"oid": "ebd8242f9b2068b4dd81d4e310db6eee67e31737"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyNTc1NzY5OnYy", "diffSide": "RIGHT", "path": "hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/AbstractS3ATestBase.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxMDo0NTo0MFrOH5tg8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxMzowNzoxOVrOH5yprw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDI3NjU5Mg==", "bodyText": "I think it would be cleaner if we could run the static initializers instead of creating an object without storing the reference. I know that there's a comment there stating that this is required because of a jira, but I don't see the point why would we create an object just to trigger side effects.", "url": "https://github.com/apache/hadoop/pull/2473#discussion_r530276592", "createdAt": "2020-11-25T10:45:40Z", "author": {"login": "bgaborg"}, "path": "hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/AbstractS3ATestBase.java", "diffHunk": "@@ -60,6 +60,9 @@ public void setup() throws Exception {\n     // filesystems which add default configuration resources to do it before\n     // our tests start adding/removing options. See HADOOP-16626.\n     FileSystem.getLocal(new Configuration());\n+    // instantiate an S3A FS here here to force deprecated key load through the\n+    // static initializers. See: HADOOP-17385\n+    new S3AFileSystem();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57f30e3df348086aa9a0525638f8145206c2431c"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDM2MDc1MQ==", "bodyText": "I was about to say I don't know a way to trigger instantiation of static class initializers except by a new() call, but actually we can invoke any static method. How about I add a new static initializeClass() call and load it.\nFWIW, what I'd really like is to be able to disable forced reload of configs, but I can't see a way to do that which wouldn't run the risk of damage", "url": "https://github.com/apache/hadoop/pull/2473#discussion_r530360751", "createdAt": "2020-11-25T13:07:19Z", "author": {"login": "steveloughran"}, "path": "hadoop-tools/hadoop-aws/src/test/java/org/apache/hadoop/fs/s3a/AbstractS3ATestBase.java", "diffHunk": "@@ -60,6 +60,9 @@ public void setup() throws Exception {\n     // filesystems which add default configuration resources to do it before\n     // our tests start adding/removing options. See HADOOP-16626.\n     FileSystem.getLocal(new Configuration());\n+    // instantiate an S3A FS here here to force deprecated key load through the\n+    // static initializers. See: HADOOP-17385\n+    new S3AFileSystem();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDI3NjU5Mg=="}, "originalCommit": {"oid": "57f30e3df348086aa9a0525638f8145206c2431c"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3131, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}