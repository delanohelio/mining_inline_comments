{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI3MzUzNjkw", "number": 3422, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxMjoxMDoyNFrOE9MzQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDoyNzoyMlrOE9qFIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyNjA4MzIzOnYy", "diffSide": "RIGHT", "path": "facade/src/main/java/org/jboss/pnc/facade/providers/ProductVersionProviderImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxMjoxMDoyNFrOH5wkuw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxMjoxMDoyNFrOH5wkuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDMyNjcxNQ==", "bodyText": "use Product milestone mapper method to get id mapper to map the milestone id.", "url": "https://github.com/project-ncl/pnc/pull/3422#discussion_r530326715", "createdAt": "2020-11-25T12:10:24Z", "author": {"login": "janinko"}, "path": "facade/src/main/java/org/jboss/pnc/facade/providers/ProductVersionProviderImpl.java", "diffHunk": "@@ -158,6 +164,25 @@ private void validateGroupConfigsBeforeUpdating(String id, ProductVersion restEn\n         }\n     }\n \n+    private void validateMilestone(String id, ProductVersion entity) {\n+        if (entity.getCurrentProductMilestone() != null) {\n+            Integer newMilestoneId = Integer.parseInt(entity.getCurrentProductMilestone().getId());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f87e3492583c6a00baf6d9af1a5dc17e11209b99"}, "originalPosition": 49}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyNjA5NjY2OnYy", "diffSide": "RIGHT", "path": "facade/src/main/java/org/jboss/pnc/facade/providers/ProductVersionProviderImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxMjoxNDoyN1rOH5wtCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxMjoxNDoyN1rOH5wtCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDMyODg0Mw==", "bodyText": "newMilestoneId can't be null, because if entity.getCurrentProductMilestone().getId() is null, then you get NPE.", "url": "https://github.com/project-ncl/pnc/pull/3422#discussion_r530328843", "createdAt": "2020-11-25T12:14:27Z", "author": {"login": "janinko"}, "path": "facade/src/main/java/org/jboss/pnc/facade/providers/ProductVersionProviderImpl.java", "diffHunk": "@@ -158,6 +164,25 @@ private void validateGroupConfigsBeforeUpdating(String id, ProductVersion restEn\n         }\n     }\n \n+    private void validateMilestone(String id, ProductVersion entity) {\n+        if (entity.getCurrentProductMilestone() != null) {\n+            Integer newMilestoneId = Integer.parseInt(entity.getCurrentProductMilestone().getId());\n+            if (newMilestoneId != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f87e3492583c6a00baf6d9af1a5dc17e11209b99"}, "originalPosition": 50}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMyNjA5ODQ2OnYy", "diffSide": "RIGHT", "path": "facade/src/main/java/org/jboss/pnc/facade/providers/ProductVersionProviderImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxMjoxNDo1NVrOH5wuKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNVQxMjoxNDo1NVrOH5wuKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMDMyOTEzMQ==", "bodyText": "use Product version mapper method to get id mapper to map the product version id.", "url": "https://github.com/project-ncl/pnc/pull/3422#discussion_r530329131", "createdAt": "2020-11-25T12:14:55Z", "author": {"login": "janinko"}, "path": "facade/src/main/java/org/jboss/pnc/facade/providers/ProductVersionProviderImpl.java", "diffHunk": "@@ -158,6 +164,25 @@ private void validateGroupConfigsBeforeUpdating(String id, ProductVersion restEn\n         }\n     }\n \n+    private void validateMilestone(String id, ProductVersion entity) {\n+        if (entity.getCurrentProductMilestone() != null) {\n+            Integer newMilestoneId = Integer.parseInt(entity.getCurrentProductMilestone().getId());\n+            if (newMilestoneId != null) {\n+                org.jboss.pnc.model.ProductVersion productVersion = repository.queryById(Integer.parseInt(id));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f87e3492583c6a00baf6d9af1a5dc17e11209b99"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzMDg4MDM1OnYy", "diffSide": "RIGHT", "path": "facade/src/main/java/org/jboss/pnc/facade/providers/ProductVersionProviderImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNDoyNzoyMlrOH6dnZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxNjowMzo0M1rOH6hHiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTA2NDY3OQ==", "bodyText": "mapper is not ProductMilestoneMapper, is it?", "url": "https://github.com/project-ncl/pnc/pull/3422#discussion_r531064679", "createdAt": "2020-11-26T14:27:22Z", "author": {"login": "janinko"}, "path": "facade/src/main/java/org/jboss/pnc/facade/providers/ProductVersionProviderImpl.java", "diffHunk": "@@ -158,6 +164,23 @@ private void validateGroupConfigsBeforeUpdating(String id, ProductVersion restEn\n         }\n     }\n \n+    private void validateMilestone(String id, ProductVersion entity) {\n+        if (entity.getCurrentProductMilestone() != null) {\n+            Integer newMilestoneId = mapper.getIdMapper().toEntity(entity.getCurrentProductMilestone().getId());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7a543d98725d7584d572f2593c1c0de0ee90481b"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTEyMjA1Nw==", "bodyText": "depends on time when you look at it", "url": "https://github.com/project-ncl/pnc/pull/3422#discussion_r531122057", "createdAt": "2020-11-26T16:03:43Z", "author": {"login": "jomrazek"}, "path": "facade/src/main/java/org/jboss/pnc/facade/providers/ProductVersionProviderImpl.java", "diffHunk": "@@ -158,6 +164,23 @@ private void validateGroupConfigsBeforeUpdating(String id, ProductVersion restEn\n         }\n     }\n \n+    private void validateMilestone(String id, ProductVersion entity) {\n+        if (entity.getCurrentProductMilestone() != null) {\n+            Integer newMilestoneId = mapper.getIdMapper().toEntity(entity.getCurrentProductMilestone().getId());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTA2NDY3OQ=="}, "originalCommit": {"oid": "7a543d98725d7584d572f2593c1c0de0ee90481b"}, "originalPosition": 49}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1743, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}