{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg3OTI5NDM0", "number": 3313, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxMToxMjoyOFrOEk7KgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxMToxODo1N1rOEk7TLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3MTUzNTM2OnYy", "diffSide": "RIGHT", "path": "ui/app/common/components/pnc-admin-panel/pncAdminPanel.js", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxMToxMjoyOFrOHUIpvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxMToxMjoyOFrOHUIpvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg3NTMyNQ==", "bodyText": "use const instead of var", "url": "https://github.com/project-ncl/pnc/pull/3313#discussion_r490875325", "createdAt": "2020-09-18T11:12:28Z", "author": {"login": "matedo1"}, "path": "ui/app/common/components/pnc-admin-panel/pncAdminPanel.js", "diffHunk": "@@ -127,10 +137,17 @@\n \n \n     $ctrl.$onInit = function () {\n-      GenericSetting.inMaintenanceMode().then(function (res) {\n+      GenericSetting.inMaintenanceMode().then(res => {\n         changeMaintenanceSwitch(res.data);\n       });\n \n+      GenericSetting.getAnnouncementBanner().then(res => {\n+        var message = res.data.banner;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cfe88d8f566a8d635235da41e0432faec2f26472"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3MTU1MDU3OnYy", "diffSide": "RIGHT", "path": "ui/app/common/pnc-client/message-bus/messageBus.js", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxMToxNjo0NFrOHUIyTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxMToxNjo0NFrOHUIyTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg3NzUxNg==", "bodyText": "please let be more strict about formatting to keep the same indentations for the same levels", "url": "https://github.com/project-ncl/pnc/pull/3313#discussion_r490877516", "createdAt": "2020-09-18T11:16:44Z", "author": {"login": "matedo1"}, "path": "ui/app/common/pnc-client/message-bus/messageBus.js", "diffHunk": "@@ -61,6 +61,14 @@\n         }\n       });\n \n+      messageBus.onGenericSettingNewAnnouncement(notification => {\n+        if (notification.message) {\n+          let message = JSON.parse(notification.message);\n+            $rootScope.$broadcast(events.NEW_ANNOUNCEMENT, message);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cfe88d8f566a8d635235da41e0432faec2f26472"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3MTU1NzU4OnYy", "diffSide": "RIGHT", "path": "ui/app/common/components/pnc-admin-panel/pncAdminPanel.js", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxMToxODo1N1rOHUI2Vw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxMToxODo1N1rOHUI2Vw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDg3ODU1MQ==", "bodyText": "empty then() seems to be unnecessary", "url": "https://github.com/project-ncl/pnc/pull/3313#discussion_r490878551", "createdAt": "2020-09-18T11:18:57Z", "author": {"login": "matedo1"}, "path": "ui/app/common/components/pnc-admin-panel/pncAdminPanel.js", "diffHunk": "@@ -77,6 +79,13 @@\n       }\n     };\n \n+    /**\n+     * Update the Announcement banner\n+     */\n+    $ctrl.updateAnnouncement = function () {\n+        GenericSetting.setAnnouncementBanner($ctrl.message).then();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cfe88d8f566a8d635235da41e0432faec2f26472"}, "originalPosition": 17}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1768, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}