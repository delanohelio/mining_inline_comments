{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzMzM3NzA1", "number": 3348, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMzozMToyMlrOEtfExw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMzozNDowNFrOEtfJcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2MTMwNTAzOnYy", "diffSide": "RIGHT", "path": "datastore/src/main/java/org/jboss/pnc/datastore/repositories/BuildConfigurationAuditedRepositoryImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMzozMToyMlrOHhTI8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMzozNzoxMVrOHhTZLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDY3ODY0MA==", "bodyText": "shouldn't this be in the provider? Here I think it's in too deep level.", "url": "https://github.com/project-ncl/pnc/pull/3348#discussion_r504678640", "createdAt": "2020-10-14T13:31:22Z", "author": {"login": "janinko"}, "path": "datastore/src/main/java/org/jboss/pnc/datastore/repositories/BuildConfigurationAuditedRepositoryImpl.java", "diffHunk": "@@ -203,6 +205,8 @@ public BuildConfigurationAudited queryById(IdRev idRev) {\n \n     @Override\n     public List<IdRev> searchIdRevForBuildConfigurationName(String buildConfigurationName) {\n+        buildConfigurationName = buildConfigurationName.replaceAll(\"\\\\*\", \"%\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43f1fa3b40da912b60b2d924dac481c11f27eb9c"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDY4Mjc5OQ==", "bodyText": "I think it could be in both. I prefered it here as * is more common than % and wanted to hide the logic. It is described clearly in the javadoc", "url": "https://github.com/project-ncl/pnc/pull/3348#discussion_r504682799", "createdAt": "2020-10-14T13:37:11Z", "author": {"login": "jbartece"}, "path": "datastore/src/main/java/org/jboss/pnc/datastore/repositories/BuildConfigurationAuditedRepositoryImpl.java", "diffHunk": "@@ -203,6 +205,8 @@ public BuildConfigurationAudited queryById(IdRev idRev) {\n \n     @Override\n     public List<IdRev> searchIdRevForBuildConfigurationName(String buildConfigurationName) {\n+        buildConfigurationName = buildConfigurationName.replaceAll(\"\\\\*\", \"%\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDY3ODY0MA=="}, "originalCommit": {"oid": "43f1fa3b40da912b60b2d924dac481c11f27eb9c"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2MTMxNjk3OnYy", "diffSide": "RIGHT", "path": "facade/src/test/java/org/jboss/pnc/facade/providers/BuildProviderImplTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMzozNDowNFrOHhTQaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQxMzozNzoyMVrOHhTZzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDY4MDU1Mg==", "bodyText": "You missed an opportunity to name it \"VeryLongAndHardToRememberBcName\" \ud83d\ude04", "url": "https://github.com/project-ncl/pnc/pull/3348#discussion_r504680552", "createdAt": "2020-10-14T13:34:04Z", "author": {"login": "janinko"}, "path": "facade/src/test/java/org/jboss/pnc/facade/providers/BuildProviderImplTest.java", "diffHunk": "@@ -299,6 +300,44 @@ public void testFilterRunningBuildsByBuildConfigName() {\n         assertEquals(BuildMapper.idMapper.toDto(givenBT.getId()), it.next().getId());\n     }\n \n+    @Test\n+    public void testFilterLikeRunningBuildsByBuildConfigName() {\n+        // Given\n+        mockBuildRecord();\n+        mockBuildTask();\n+\n+        String givenBcName = \"VeryLongAndComplicatedBcName\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "43f1fa3b40da912b60b2d924dac481c11f27eb9c"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDY4Mjk1Nw==", "bodyText": ":-)", "url": "https://github.com/project-ncl/pnc/pull/3348#discussion_r504682957", "createdAt": "2020-10-14T13:37:21Z", "author": {"login": "jbartece"}, "path": "facade/src/test/java/org/jboss/pnc/facade/providers/BuildProviderImplTest.java", "diffHunk": "@@ -299,6 +300,44 @@ public void testFilterRunningBuildsByBuildConfigName() {\n         assertEquals(BuildMapper.idMapper.toDto(givenBT.getId()), it.next().getId());\n     }\n \n+    @Test\n+    public void testFilterLikeRunningBuildsByBuildConfigName() {\n+        // Given\n+        mockBuildRecord();\n+        mockBuildTask();\n+\n+        String givenBcName = \"VeryLongAndComplicatedBcName\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDY4MDU1Mg=="}, "originalCommit": {"oid": "43f1fa3b40da912b60b2d924dac481c11f27eb9c"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1787, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}