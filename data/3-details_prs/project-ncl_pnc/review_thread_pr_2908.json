{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2NTgzMDUz", "number": 2908, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMDo1NDoxN1rODnBquA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMjo1MTo0MlrODnD8Dw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMjQ4Mzc2OnYy", "diffSide": "RIGHT", "path": "facade/pom.xml", "isResolved": false, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMDo1NDoxN1rOF0x_8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QwODo0NToyNFrOF17lJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDg4OTQ1OA==", "bodyText": "Why is this needed?", "url": "https://github.com/project-ncl/pnc/pull/2908#discussion_r390889458", "createdAt": "2020-03-11T10:54:17Z", "author": {"login": "janinko"}, "path": "facade/pom.xml", "diffHunk": "@@ -139,6 +139,11 @@\n             <artifactId>hibernate-core</artifactId>\n             <scope>provided</scope>\n         </dependency>\n+        <dependency>\n+            <groupId>org.jboss.resteasy</groupId>\n+            <artifactId>resteasy-jaxrs</artifactId>\n+            <scope>provided</scope>\n+        </dependency>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf0c576c1120adb1b0fd991bd67c1cfe33c4f49c"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDg5MjgxMw==", "bodyText": "ClientErrorException", "url": "https://github.com/project-ncl/pnc/pull/2908#discussion_r390892813", "createdAt": "2020-03-11T11:00:27Z", "author": {"login": "jomrazek"}, "path": "facade/pom.xml", "diffHunk": "@@ -139,6 +139,11 @@\n             <artifactId>hibernate-core</artifactId>\n             <scope>provided</scope>\n         </dependency>\n+        <dependency>\n+            <groupId>org.jboss.resteasy</groupId>\n+            <artifactId>resteasy-jaxrs</artifactId>\n+            <scope>provided</scope>\n+        </dependency>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDg4OTQ1OA=="}, "originalCommit": {"oid": "bf0c576c1120adb1b0fd991bd67c1cfe33c4f49c"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk1MzY3MQ==", "bodyText": "Maybe throw different exception. Wrap it in the rest-new module or write exception mapper?", "url": "https://github.com/project-ncl/pnc/pull/2908#discussion_r390953671", "createdAt": "2020-03-11T13:03:07Z", "author": {"login": "michalovjan"}, "path": "facade/pom.xml", "diffHunk": "@@ -139,6 +139,11 @@\n             <artifactId>hibernate-core</artifactId>\n             <scope>provided</scope>\n         </dependency>\n+        <dependency>\n+            <groupId>org.jboss.resteasy</groupId>\n+            <artifactId>resteasy-jaxrs</artifactId>\n+            <scope>provided</scope>\n+        </dependency>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDg4OTQ1OA=="}, "originalCommit": {"oid": "bf0c576c1120adb1b0fd991bd67c1cfe33c4f49c"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU4ODMwMA==", "bodyText": "ClientErrorException should be in some javax.ws module (rs-api?)", "url": "https://github.com/project-ncl/pnc/pull/2908#discussion_r391588300", "createdAt": "2020-03-12T12:31:30Z", "author": {"login": "janinko"}, "path": "facade/pom.xml", "diffHunk": "@@ -139,6 +139,11 @@\n             <artifactId>hibernate-core</artifactId>\n             <scope>provided</scope>\n         </dependency>\n+        <dependency>\n+            <groupId>org.jboss.resteasy</groupId>\n+            <artifactId>resteasy-jaxrs</artifactId>\n+            <scope>provided</scope>\n+        </dependency>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDg4OTQ1OA=="}, "originalCommit": {"oid": "bf0c576c1120adb1b0fd991bd67c1cfe33c4f49c"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU5MTEyNA==", "bodyText": "any new dependency is completely removed in most recent version of PR", "url": "https://github.com/project-ncl/pnc/pull/2908#discussion_r391591124", "createdAt": "2020-03-12T12:36:52Z", "author": {"login": "jomrazek"}, "path": "facade/pom.xml", "diffHunk": "@@ -139,6 +139,11 @@\n             <artifactId>hibernate-core</artifactId>\n             <scope>provided</scope>\n         </dependency>\n+        <dependency>\n+            <groupId>org.jboss.resteasy</groupId>\n+            <artifactId>resteasy-jaxrs</artifactId>\n+            <scope>provided</scope>\n+        </dependency>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDg4OTQ1OA=="}, "originalCommit": {"oid": "bf0c576c1120adb1b0fd991bd67c1cfe33c4f49c"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjA5NTAxMw==", "bodyText": "@janinko WDYT? I am fine, with the changes.", "url": "https://github.com/project-ncl/pnc/pull/2908#discussion_r392095013", "createdAt": "2020-03-13T08:45:24Z", "author": {"login": "michalovjan"}, "path": "facade/pom.xml", "diffHunk": "@@ -139,6 +139,11 @@\n             <artifactId>hibernate-core</artifactId>\n             <scope>provided</scope>\n         </dependency>\n+        <dependency>\n+            <groupId>org.jboss.resteasy</groupId>\n+            <artifactId>resteasy-jaxrs</artifactId>\n+            <scope>provided</scope>\n+        </dependency>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDg4OTQ1OA=="}, "originalCommit": {"oid": "bf0c576c1120adb1b0fd991bd67c1cfe33c4f49c"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMjQ4OTIyOnYy", "diffSide": "RIGHT", "path": "facade/src/main/java/org/jboss/pnc/facade/impl/BrewPusherImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMDo1NTo1NFrOF0yDMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMDo1NTo1NFrOF0yDMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDg5MDI5MA==", "bodyText": "use the pushedResponse.get(0) before this if and everything will be much simpler.", "url": "https://github.com/project-ncl/pnc/pull/2908#discussion_r390890290", "createdAt": "2020-03-11T10:55:54Z", "author": {"login": "janinko"}, "path": "facade/src/main/java/org/jboss/pnc/facade/impl/BrewPusherImpl.java", "diffHunk": "@@ -121,6 +119,10 @@ public BuildPushResult brewPush(String id, BuildPushRequest buildPushRequest) th\n                                 .build())\n                 .collect(Collectors.toList());\n \n+        if (pushed.stream().anyMatch(r -> r.getMessage().contains(\"BLACKLISTED/DELETED\"))) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf0c576c1120adb1b0fd991bd67c1cfe33c4f49c"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMjQ5MzA2OnYy", "diffSide": "RIGHT", "path": "rest-api/src/main/java/org/jboss/pnc/rest/api/endpoints/BuildEndpoint.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMDo1NzowN1rOF0yFtg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMDo1NzowN1rOF0yFtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDg5MDkzNA==", "bodyText": "the schema is actually BuildPushResultPage", "url": "https://github.com/project-ncl/pnc/pull/2908#discussion_r390890934", "createdAt": "2020-03-11T10:57:07Z", "author": {"login": "janinko"}, "path": "rest-api/src/main/java/org/jboss/pnc/rest/api/endpoints/BuildEndpoint.java", "diffHunk": "@@ -328,6 +330,10 @@ void removeAttribute(\n                             responseCode = INVALID_CODE,\n                             description = INVALID_DESCRIPTION,\n                             content = @Content(schema = @Schema(implementation = ErrorResponse.class))),\n+                    @ApiResponse(\n+                            responseCode = FORBIDDEN_CODE,\n+                            description = FORBIDDEN_PUSH_DESCRIPTION,\n+                            content = @Content(schema = @Schema(implementation = ErrorResponse.class))),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bf0c576c1120adb1b0fd991bd67c1cfe33c4f49c"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyMjg1NTgzOnYy", "diffSide": "RIGHT", "path": "rest-api/src/main/java/org/jboss/pnc/rest/configuration/SwaggerConstants.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMjo1MTo0MlrOF01jYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMVQxMzozNDozMVrOF03FGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk0NzY4MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public static final String FORBIDDEN_PUSH_DESCRIPTION = \"Build contains artifacts of of insufficient quality\";\n          \n          \n            \n                public static final String FORBIDDEN_PUSH_DESCRIPTION = \"Build contains artifacts of insufficient quality\";", "url": "https://github.com/project-ncl/pnc/pull/2908#discussion_r390947680", "createdAt": "2020-03-11T12:51:42Z", "author": {"login": "michalovjan"}, "path": "rest-api/src/main/java/org/jboss/pnc/rest/configuration/SwaggerConstants.java", "diffHunk": "@@ -42,6 +42,7 @@\n     public static final String INVALID_CODE = \"400\";\n     public static final String FORBIDDEN_DESCRIPTION = \"User must be logged in.\";\n     public static final String FORBIDDEN_CODE = \"403\";\n+    public static final String FORBIDDEN_PUSH_DESCRIPTION = \"Build contains artifacts of of insufficient quality\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08a06a606691c92e42086c76abf09d6b499232cb"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk3MjY5OQ==", "bodyText": "eagle eye!", "url": "https://github.com/project-ncl/pnc/pull/2908#discussion_r390972699", "createdAt": "2020-03-11T13:34:31Z", "author": {"login": "jomrazek"}, "path": "rest-api/src/main/java/org/jboss/pnc/rest/configuration/SwaggerConstants.java", "diffHunk": "@@ -42,6 +42,7 @@\n     public static final String INVALID_CODE = \"400\";\n     public static final String FORBIDDEN_DESCRIPTION = \"User must be logged in.\";\n     public static final String FORBIDDEN_CODE = \"403\";\n+    public static final String FORBIDDEN_PUSH_DESCRIPTION = \"Build contains artifacts of of insufficient quality\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDk0NzY4MA=="}, "originalCommit": {"oid": "08a06a606691c92e42086c76abf09d6b499232cb"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1909, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}