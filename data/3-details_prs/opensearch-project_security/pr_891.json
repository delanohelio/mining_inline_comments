{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM5MTk1MDk1", "number": 891, "title": "Replace InjectedUser with User during serialization", "bodyText": "opendistro-for-elasticsearch/security pull request intake form\nPlease provide as much details as possible to get feedback/acceptance on your PR quickly\n\n\nCategory: bug fix\n\n\nGithub Issue # or roaddmap entry, if available:\n\n\nDescription of changes:\n\n\nWhy these changes are required? support for mixed cluster\n\n\nWhat is the old behavior before changes and new behavior after changes? (Please add any example/logs/screenshot if avaialble)\n\n\nTesting done: (Please provide details of testing done: Unit testing, integration testing and manaual testing)\n\n\nTO-DOs, if any: (_Please describe pending items and provide github issues# for each of them)\n\n\nIs it backport from master branch? (If yes, please add backport PR # and commits #)\n\n\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-12-14T06:58:26Z", "url": "https://github.com/opensearch-project/security/pull/891", "merged": true, "mergeCommit": {"oid": "df1e67200461ee27f32c68bde718d2497e420e22"}, "closed": true, "closedAt": "2020-12-19T03:38:39Z", "author": {"login": "vrozov"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdmAIP5AH2gAyNTM5MTk1MDk1OjVjYzE0NmJlMDY4YTZiZWFmMzMwNTdhYTcyMzQ2MWZhZTZlN2Y3OTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABd0JodTAFqTU3NzAwNDE5Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5cc146be068a6beaf33057aa723461fae6e7f790", "author": {"user": {"login": "vrozov", "name": "Vlad Rozov"}}, "url": "https://github.com/opensearch-project/security/commit/5cc146be068a6beaf33057aa723461fae6e7f790", "committedDate": "2020-12-14T06:55:22Z", "message": "Replace InjectedUser with User during serialization"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxOTA2Nzk0", "url": "https://github.com/opensearch-project/security/pull/891#pullrequestreview-551906794", "createdAt": "2020-12-14T21:27:05Z", "commit": {"oid": "5cc146be068a6beaf33057aa723461fae6e7f790"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1OTAyODIz", "url": "https://github.com/opensearch-project/security/pull/891#pullrequestreview-555902823", "createdAt": "2020-12-19T01:30:46Z", "commit": {"oid": "5cc146be068a6beaf33057aa723461fae6e7f790"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOVQwMTozMDo0NlrOII3oTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOVQwMTozMDo0NlrOII3oTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NjE3MDk1OQ==", "bodyText": "What is this function used for ?", "url": "https://github.com/opensearch-project/security/pull/891#discussion_r546170959", "createdAt": "2020-12-19T01:30:46Z", "author": {"login": "sujithvm"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/security/auth/UserInjector.java", "diffHunk": "@@ -66,13 +67,23 @@\n \n     }\n \n-    public static class InjectedUser extends User {\n+    static class InjectedUser extends User {\n         private transient TransportAddress transportAddress;\n \n         public InjectedUser(String name) {\n             super(name);\n         }\n \n+        private Object writeReplace() throws ObjectStreamException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5cc146be068a6beaf33057aa723461fae6e7f790"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1OTA3NDcz", "url": "https://github.com/opensearch-project/security/pull/891#pullrequestreview-555907473", "createdAt": "2020-12-19T02:17:50Z", "commit": {"oid": "5cc146be068a6beaf33057aa723461fae6e7f790"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTc3MDA0MTk2", "url": "https://github.com/opensearch-project/security/pull/891#pullrequestreview-577004196", "createdAt": "2021-01-27T05:54:38Z", "commit": {"oid": "5cc146be068a6beaf33057aa723461fae6e7f790"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yN1QwNTo1NDozOFrOIa3q0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0yN1QwNTo1NDozOFrOIa3q0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2NTA0NTk3MQ==", "bodyText": "@vrozov I understand this change has been merged. But out of curiosity, why was this class defined as a public? You removed \"public\" because it doesn't need to be public or being public could cause any side effect?", "url": "https://github.com/opensearch-project/security/pull/891#discussion_r565045971", "createdAt": "2021-01-27T05:54:38Z", "author": {"login": "cliu123"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/security/auth/UserInjector.java", "diffHunk": "@@ -66,13 +67,23 @@\n \n     }\n \n-    public static class InjectedUser extends User {\n+    static class InjectedUser extends User {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5cc146be068a6beaf33057aa723461fae6e7f790"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2699, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}