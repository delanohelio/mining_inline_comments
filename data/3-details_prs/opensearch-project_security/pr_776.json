{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA2MjA2MTEx", "number": 776, "title": "Demo Config : Adding AD Indices to system index and creating pre-defined roles", "bodyText": "Issue opendistro-for-elasticsearch/anomaly-detection#195\nDescription of changes:\nMoving AD indices to system index and defining pre-defined roles for Anomaly Detection plugin users.\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-10-19T18:49:02Z", "url": "https://github.com/opensearch-project/security/pull/776", "merged": true, "mergeCommit": {"oid": "61e2adbb23414e4e70b56a9e5fde7e128eb1db34"}, "closed": true, "closedAt": "2020-10-23T23:48:48Z", "author": {"login": "saratvemulapalli"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdUItO3AH2gAyNTA2MjA2MTExOjFmM2JmYWNmM2YyMzcyMGU2MGUyMTBhNmMwNjI4Y2U3ZGQ4YjQyNWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdVd00XgFqTUxNjAzMTI3NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1f3bfacf3f23720e60e210a6c0628ce7dd8b425a", "author": {"user": {"login": "saratvemulapalli", "name": "Sarat Vemulapalli"}}, "url": "https://github.com/opensearch-project/security/commit/1f3bfacf3f23720e60e210a6c0628ce7dd8b425a", "committedDate": "2020-10-19T18:44:22Z", "message": "Adding AD Indices to system index and creating pre-defined roles"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMjAxNzE1", "url": "https://github.com/opensearch-project/security/pull/776#pullrequestreview-512201715", "createdAt": "2020-10-19T22:22:36Z", "commit": {"oid": "1f3bfacf3f23720e60e210a6c0628ce7dd8b425a"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMjEyMTY4", "url": "https://github.com/opensearch-project/security/pull/776#pullrequestreview-512212168", "createdAt": "2020-10-19T22:45:47Z", "commit": {"oid": "1f3bfacf3f23720e60e210a6c0628ce7dd8b425a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQyMjo0NTo0N1rOHkkUKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQyMjo0NTo0N1rOHkkUKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEwNTc2OQ==", "bodyText": ".opendistro-anomaly-results -> .opendistro-anomaly-results* ?\n.opendistro-anomaly-detector* -> .opendistro-anomaly-detectors ?", "url": "https://github.com/opensearch-project/security/pull/776#discussion_r508105769", "createdAt": "2020-10-19T22:45:47Z", "author": {"login": "ylwu-amzn"}, "path": "tools/install_demo_configuration.sh", "diffHunk": "@@ -373,7 +373,7 @@ echo \"opendistro_security.enable_snapshot_restore_privilege: true\" | $SUDO_CMD t\n echo \"opendistro_security.check_snapshot_restore_write_privileges: true\" | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n echo 'opendistro_security.restapi.roles_enabled: [\"all_access\", \"security_rest_api_access\"]' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n echo 'opendistro_security.system_indices.enabled: true' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n-echo 'opendistro_security.system_indices.indices: [\".opendistro-alerting-config\", \".opendistro-alerting-alert*\"]' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n+echo 'opendistro_security.system_indices.indices: [\".opendistro-alerting-config\", \".opendistro-alerting-alert*\", \".opendistro-anomaly-results\", \".opendistro-anomaly-detector*\"]' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f3bfacf3f23720e60e210a6c0628ce7dd8b425a"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4dbb68b4521c93528ef2457a343b97c9eb540d61", "author": {"user": {"login": "saratvemulapalli", "name": "Sarat Vemulapalli"}}, "url": "https://github.com/opensearch-project/security/commit/4dbb68b4521c93528ef2457a343b97c9eb540d61", "committedDate": "2020-10-19T23:20:25Z", "message": "Adding all result indices to sytem index"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMjMwMjI0", "url": "https://github.com/opensearch-project/security/pull/776#pullrequestreview-512230224", "createdAt": "2020-10-19T23:33:13Z", "commit": {"oid": "4dbb68b4521c93528ef2457a343b97c9eb540d61"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyNDY1MTI3", "url": "https://github.com/opensearch-project/security/pull/776#pullrequestreview-512465127", "createdAt": "2020-10-20T08:37:50Z", "commit": {"oid": "4dbb68b4521c93528ef2457a343b97c9eb540d61"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyOTI5Nzk5", "url": "https://github.com/opensearch-project/security/pull/776#pullrequestreview-512929799", "createdAt": "2020-10-20T16:38:30Z", "commit": {"oid": "4dbb68b4521c93528ef2457a343b97c9eb540d61"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNjozODozMFrOHlHRRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNjozODozMFrOHlHRRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY3ODQ3MQ==", "bodyText": "ad -> anomaly", "url": "https://github.com/opensearch-project/security/pull/776#discussion_r508678471", "createdAt": "2020-10-20T16:38:30Z", "author": {"login": "vrozov"}, "path": "securityconfig/roles.yml", "diffHunk": "@@ -38,3 +38,25 @@ alerting_full_access:\n         - 'indices_monitor'\n         - 'indices:admin/aliases/get'\n         - 'indices:admin/mappings/get'\n+\n+# Allow users to read Anomaly Detection detectors and results\n+ad_read_access:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dbb68b4521c93528ef2457a343b97c9eb540d61"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e2f95da972b532cf7d8f3a8e72a65a7134c6451", "author": {"user": {"login": "saratvemulapalli", "name": "Sarat Vemulapalli"}}, "url": "https://github.com/opensearch-project/security/commit/2e2f95da972b532cf7d8f3a8e72a65a7134c6451", "committedDate": "2020-10-23T21:46:54Z", "message": "Addressing comments and adding new API permission"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2MDMwMTA1", "url": "https://github.com/opensearch-project/security/pull/776#pullrequestreview-516030105", "createdAt": "2020-10-23T21:51:32Z", "commit": {"oid": "2e2f95da972b532cf7d8f3a8e72a65a7134c6451"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2MDMxMjc0", "url": "https://github.com/opensearch-project/security/pull/776#pullrequestreview-516031274", "createdAt": "2020-10-23T21:54:35Z", "commit": {"oid": "2e2f95da972b532cf7d8f3a8e72a65a7134c6451"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2792, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}