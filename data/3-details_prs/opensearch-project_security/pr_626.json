{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyOTk3NDk3", "number": 626, "title": "Fix AccessControlException during HTTPSamlAuthenticator initialization.", "bodyText": "Issue #, if available: #617\nDescription of changes: call to com.onelogin.saml2.settings.SettingsBuilder.build() requires \"org.apache.xml.security.ignoreLineBreaks\" property write permission in OneLogin SAML Java toolkit since version 2.4.0\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-08-04T20:43:16Z", "url": "https://github.com/opensearch-project/security/pull/626", "merged": true, "mergeCommit": {"oid": "5be858c82cd175e5f10c02cdffe7e55e75208575"}, "closed": true, "closedAt": "2020-08-04T23:14:20Z", "author": {"login": "vrozov"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc7srOZgH2gAyNDYyOTk3NDk3OjA4NDU4NTdmMmMwODMzYWI5NjY5MDIxMjJiYzk0ZWMyMTUyMTk0OWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7u-q7AFqTQ2MTIzNjkwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0845857f2c0833ab966902122bc94ec21521949d", "author": {"user": {"login": "vrozov", "name": "Vlad Rozov"}}, "url": "https://github.com/opensearch-project/security/commit/0845857f2c0833ab966902122bc94ec21521949d", "committedDate": "2020-08-04T20:30:39Z", "message": "Fix AccessControlException during HTTPSamlAuthenticator initialization.\n\ncall to `com.onelogin.saml2.settings.SettingsBuilder.build()` requires \"org.apache.xml.security.ignoreLineBreaks\" property write permission in OneLogin SAML Java toolkit since version 2.4.0"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMjA0ODg1", "url": "https://github.com/opensearch-project/security/pull/626#pullrequestreview-461204885", "createdAt": "2020-08-04T22:01:55Z", "commit": {"oid": "0845857f2c0833ab966902122bc94ec21521949d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMjI4NjAz", "url": "https://github.com/opensearch-project/security/pull/626#pullrequestreview-461228603", "createdAt": "2020-08-04T22:50:06Z", "commit": {"oid": "0845857f2c0833ab966902122bc94ec21521949d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMjo1MDowNlrOG70IRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMjo1MDowNlrOG70IRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTM3MzI1Mw==", "bodyText": "This call will wrap all exceptions into PriviledgedActionException. Could you check if this method throws any exception and write code to propagate it correctly.\nExample: https://github.com/opendistro-for-elasticsearch/security/blob/d62ac5334609ea92b913caa5e73917efb8b29043/src/main/java/com/amazon/dlic/auth/ldap2/LDAPAuthenticationBackend2.java#L102", "url": "https://github.com/opensearch-project/security/pull/626#discussion_r465373253", "createdAt": "2020-08-04T22:50:06Z", "author": {"login": "dinusX"}, "path": "src/main/java/com/amazon/dlic/auth/http/saml/Saml2SettingsProvider.java", "diffHunk": "@@ -95,8 +99,8 @@ Saml2Settings get() throws SamlConfigException {\n             // TODO allow overriding of IdP metadata?\n             settingsBuilder.fromValues(configProperties);\n             settingsBuilder.fromValues(new SamlSettingsMap(this.esSettings));\n-\n-            return settingsBuilder.build();\n+            SpecialPermission.check();\n+            return AccessController.doPrivileged((PrivilegedAction<Saml2Settings>) () -> settingsBuilder.build());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0845857f2c0833ab966902122bc94ec21521949d"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMjM2OTAw", "url": "https://github.com/opensearch-project/security/pull/626#pullrequestreview-461236900", "createdAt": "2020-08-04T23:11:42Z", "commit": {"oid": "0845857f2c0833ab966902122bc94ec21521949d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2849, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}