{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA2MjA2MTEx", "number": 776, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQyMjo0NTo0N1rOEviB9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNjozODozMFrOEv4UeQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4Mjc2MDg3OnYy", "diffSide": "RIGHT", "path": "tools/install_demo_configuration.sh", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQyMjo0NTo0N1rOHkkUKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQyMzozNToxN1rOHklS-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEwNTc2OQ==", "bodyText": ".opendistro-anomaly-results -> .opendistro-anomaly-results* ?\n.opendistro-anomaly-detector* -> .opendistro-anomaly-detectors ?", "url": "https://github.com/opensearch-project/security/pull/776#discussion_r508105769", "createdAt": "2020-10-19T22:45:47Z", "author": {"login": "ylwu-amzn"}, "path": "tools/install_demo_configuration.sh", "diffHunk": "@@ -373,7 +373,7 @@ echo \"opendistro_security.enable_snapshot_restore_privilege: true\" | $SUDO_CMD t\n echo \"opendistro_security.check_snapshot_restore_write_privileges: true\" | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n echo 'opendistro_security.restapi.roles_enabled: [\"all_access\", \"security_rest_api_access\"]' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n echo 'opendistro_security.system_indices.enabled: true' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n-echo 'opendistro_security.system_indices.indices: [\".opendistro-alerting-config\", \".opendistro-alerting-alert*\"]' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n+echo 'opendistro_security.system_indices.indices: [\".opendistro-alerting-config\", \".opendistro-alerting-alert*\", \".opendistro-anomaly-results\", \".opendistro-anomaly-detector*\"]' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1f3bfacf3f23720e60e210a6c0628ce7dd8b425a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODExNjMzNA==", "bodyText": "Sure for results its makes sense as we have other history indices.\nfor .opendistro-anomaly-detector* it includes both  .opendistro-anomaly-detector-jobs and .opendistro-anomaly-detectors", "url": "https://github.com/opensearch-project/security/pull/776#discussion_r508116334", "createdAt": "2020-10-19T23:17:42Z", "author": {"login": "saratvemulapalli"}, "path": "tools/install_demo_configuration.sh", "diffHunk": "@@ -373,7 +373,7 @@ echo \"opendistro_security.enable_snapshot_restore_privilege: true\" | $SUDO_CMD t\n echo \"opendistro_security.check_snapshot_restore_write_privileges: true\" | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n echo 'opendistro_security.restapi.roles_enabled: [\"all_access\", \"security_rest_api_access\"]' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n echo 'opendistro_security.system_indices.enabled: true' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n-echo 'opendistro_security.system_indices.indices: [\".opendistro-alerting-config\", \".opendistro-alerting-alert*\"]' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n+echo 'opendistro_security.system_indices.indices: [\".opendistro-alerting-config\", \".opendistro-alerting-alert*\", \".opendistro-anomaly-results\", \".opendistro-anomaly-detector*\"]' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEwNTc2OQ=="}, "originalCommit": {"oid": "1f3bfacf3f23720e60e210a6c0628ce7dd8b425a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEyMTg0OA==", "bodyText": "Got it, make sense. Do we need to add the other two indices?\n.opendistro-anomaly-checkpoints\n.opendistro-anomaly-detection-state", "url": "https://github.com/opensearch-project/security/pull/776#discussion_r508121848", "createdAt": "2020-10-19T23:35:17Z", "author": {"login": "ylwu-amzn"}, "path": "tools/install_demo_configuration.sh", "diffHunk": "@@ -373,7 +373,7 @@ echo \"opendistro_security.enable_snapshot_restore_privilege: true\" | $SUDO_CMD t\n echo \"opendistro_security.check_snapshot_restore_write_privileges: true\" | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n echo 'opendistro_security.restapi.roles_enabled: [\"all_access\", \"security_rest_api_access\"]' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n echo 'opendistro_security.system_indices.enabled: true' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n-echo 'opendistro_security.system_indices.indices: [\".opendistro-alerting-config\", \".opendistro-alerting-alert*\"]' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null\n+echo 'opendistro_security.system_indices.indices: [\".opendistro-alerting-config\", \".opendistro-alerting-alert*\", \".opendistro-anomaly-results\", \".opendistro-anomaly-detector*\"]' | $SUDO_CMD tee -a \"$ES_CONF_FILE\" > /dev/null", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODEwNTc2OQ=="}, "originalCommit": {"oid": "1f3bfacf3f23720e60e210a6c0628ce7dd8b425a"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4NjQxMjczOnYy", "diffSide": "RIGHT", "path": "securityconfig/roles.yml", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNjozODozMFrOHlHRRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQyMDoyNTo0NFrOHmyhrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY3ODQ3MQ==", "bodyText": "ad -> anomaly", "url": "https://github.com/opensearch-project/security/pull/776#discussion_r508678471", "createdAt": "2020-10-20T16:38:30Z", "author": {"login": "vrozov"}, "path": "securityconfig/roles.yml", "diffHunk": "@@ -38,3 +38,25 @@ alerting_full_access:\n         - 'indices_monitor'\n         - 'indices:admin/aliases/get'\n         - 'indices:admin/mappings/get'\n+\n+# Allow users to read Anomaly Detection detectors and results\n+ad_read_access:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dbb68b4521c93528ef2457a343b97c9eb540d61"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODgyODU1MQ==", "bodyText": "yeah we internally use ad as anomaly detection, do you recommend expanding it?", "url": "https://github.com/opensearch-project/security/pull/776#discussion_r508828551", "createdAt": "2020-10-20T20:46:48Z", "author": {"login": "saratvemulapalli"}, "path": "securityconfig/roles.yml", "diffHunk": "@@ -38,3 +38,25 @@ alerting_full_access:\n         - 'indices_monitor'\n         - 'indices:admin/aliases/get'\n         - 'indices:admin/mappings/get'\n+\n+# Allow users to read Anomaly Detection detectors and results\n+ad_read_access:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY3ODQ3MQ=="}, "originalCommit": {"oid": "4dbb68b4521c93528ef2457a343b97c9eb540d61"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTgyOTE0NQ==", "bodyText": "yes, 'ad' is too short and may mean not only anomaly detection.", "url": "https://github.com/opensearch-project/security/pull/776#discussion_r509829145", "createdAt": "2020-10-22T01:38:48Z", "author": {"login": "vrozov"}, "path": "securityconfig/roles.yml", "diffHunk": "@@ -38,3 +38,25 @@ alerting_full_access:\n         - 'indices_monitor'\n         - 'indices:admin/aliases/get'\n         - 'indices:admin/mappings/get'\n+\n+# Allow users to read Anomaly Detection detectors and results\n+ad_read_access:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY3ODQ3MQ=="}, "originalCommit": {"oid": "4dbb68b4521c93528ef2457a343b97c9eb540d61"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDQzNTc1Nw==", "bodyText": "Sure will rename it do anomaly.", "url": "https://github.com/opensearch-project/security/pull/776#discussion_r510435757", "createdAt": "2020-10-22T20:25:44Z", "author": {"login": "saratvemulapalli"}, "path": "securityconfig/roles.yml", "diffHunk": "@@ -38,3 +38,25 @@ alerting_full_access:\n         - 'indices_monitor'\n         - 'indices:admin/aliases/get'\n         - 'indices:admin/mappings/get'\n+\n+# Allow users to read Anomaly Detection detectors and results\n+ad_read_access:", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY3ODQ3MQ=="}, "originalCommit": {"oid": "4dbb68b4521c93528ef2457a343b97c9eb540d61"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2331, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}