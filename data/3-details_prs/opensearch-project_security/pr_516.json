{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4MzQzODE4", "number": 516, "title": "Upgrade ES to 7.8.0", "bodyText": "Issue #, if available:\nDescription of changes:\nUpgrade ES version to 7.8.0 and plugin version to 1.9.0\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-06-23T06:13:45Z", "url": "https://github.com/opensearch-project/security/pull/516", "merged": true, "mergeCommit": {"oid": "3226dbb10f725f79edadcb53c492f6f2c3eb63ed"}, "closed": true, "closedAt": "2020-06-24T22:52:55Z", "author": {"login": "vrozov"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcuOvQQgBqjM0NzUyNjUxOTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcuh6p-AFqTQzNzA1Mjk1OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2MjY4Nzcy", "url": "https://github.com/opensearch-project/security/pull/516#pullrequestreview-436268772", "createdAt": "2020-06-24T01:44:46Z", "commit": null, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2OTY3NTQ0", "url": "https://github.com/opensearch-project/security/pull/516#pullrequestreview-436967544", "createdAt": "2020-06-24T20:06:11Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQyMDowNjoxMVrOGohQsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQyMDowNjoxMVrOGohQsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTE0MTE2OA==", "bodyText": "Should you have here both ? \"create\" and \"auto_create\" ?", "url": "https://github.com/opensearch-project/security/pull/516#discussion_r445141168", "createdAt": "2020-06-24T20:06:11Z", "author": {"login": "dinusX"}, "path": "src/test/resources/roles_bulk.yml", "diffHunk": "@@ -17,6 +17,6 @@ bulk:\n     allowed_actions:\n     - \"indices:data/write/index\"\n     - \"indices:admin/mapping/put\"\n-    - \"indices:admin/create\"\n+    - \"indices:admin/auto_create\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestCommit", "commit": {"oid": "4bfe1f2c920fab59380150571c0f2d6e3e3a4c54", "author": {"user": {"login": "vrozov", "name": "Vlad Rozov"}}, "url": "https://github.com/opensearch-project/security/commit/4bfe1f2c920fab59380150571c0f2d6e3e3a4c54", "committedDate": "2020-06-24T22:21:24Z", "message": "Support ES 7.8.0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3226dbb10f725f79edadcb53c492f6f2c3eb63ed", "author": {"user": {"login": "vrozov", "name": "Vlad Rozov"}}, "url": "https://github.com/opensearch-project/security/commit/3226dbb10f725f79edadcb53c492f6f2c3eb63ed", "committedDate": "2020-06-24T22:21:24Z", "message": "Change version to 1.9.0"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "3226dbb10f725f79edadcb53c492f6f2c3eb63ed", "author": {"user": {"login": "vrozov", "name": "Vlad Rozov"}}, "url": "https://github.com/opensearch-project/security/commit/3226dbb10f725f79edadcb53c492f6f2c3eb63ed", "committedDate": "2020-06-24T22:21:24Z", "message": "Change version to 1.9.0"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3MDQ5NTYz", "url": "https://github.com/opensearch-project/security/pull/516#pullrequestreview-437049563", "createdAt": "2020-06-24T22:28:17Z", "commit": {"oid": "3226dbb10f725f79edadcb53c492f6f2c3eb63ed"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3MDUyOTU5", "url": "https://github.com/opensearch-project/security/pull/516#pullrequestreview-437052959", "createdAt": "2020-06-24T22:36:08Z", "commit": {"oid": "3226dbb10f725f79edadcb53c492f6f2c3eb63ed"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQyMjozNjowOFrOGolazg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQyMjozNjowOFrOGolazg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTIwOTI5NA==", "bodyText": "nit: is ALIAS a string? .equals comparison may be better here.", "url": "https://github.com/opensearch-project/security/pull/516#discussion_r445209294", "createdAt": "2020-06-24T22:36:08Z", "author": {"login": "debjanibnrj"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/security/securityconf/ConfigModelV7.java", "diffHunk": "@@ -743,8 +745,10 @@ public String getUnresolvedIndexPattern(User user) {\n             WildcardMatcher matcher = WildcardMatcher.from(unresolved);\n             String[] resolved = null;\n             if (!(matcher instanceof WildcardMatcher.Exact)) {\n-                final String[] aliasesForPermittedPattern = cs.state().getMetaData().getAliasAndIndexLookup().entrySet().stream()\n-                        .filter(e -> e.getValue().isAlias()).filter(e -> matcher.test(e.getKey())).map(e -> e.getKey())\n+                final String[] aliasesForPermittedPattern = cs.state().getMetadata().getIndicesLookup().entrySet().stream()\n+                        .filter(e -> e.getValue().getType() == ALIAS)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3226dbb10f725f79edadcb53c492f6f2c3eb63ed"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2968, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}