{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcwNDIwMjk1", "number": 653, "title": "Remove cluster monitor check from audit transport check", "bodyText": "Issue #, if available:\nDescription of changes:\n\nRemoving hard coded check for transport cluster & index monitor actions\nRetaining internal actions to be ignored\nUpdated tests\n\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-08-19T19:55:13Z", "url": "https://github.com/opensearch-project/security/pull/653", "merged": true, "mergeCommit": {"oid": "a0691eb947f4e987d5bb108d6a36895f3c4283e6"}, "closed": true, "closedAt": "2020-08-20T00:36:37Z", "author": {"login": "sujithvm"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdAhJB_AH2gAyNDcwNDIwMjk1OjQwYzdiYzE0Mjg5NjBkOGQzMDAwNmM1M2U1YjI0OWJmZDhhNzU5NTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdAiuC1AFqTQ3MDk4NjcwNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "40c7bc1428960d8d30006c53e5b249bfd8a75950", "author": {"user": {"login": "sujithvm", "name": "Sujith Vadakkepat"}}, "url": "https://github.com/opensearch-project/security/commit/40c7bc1428960d8d30006c53e5b249bfd8a75950", "committedDate": "2020-08-19T19:53:58Z", "message": "Remove cluster monitor check from audit transport check"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwODYwNTg1", "url": "https://github.com/opensearch-project/security/pull/653#pullrequestreview-470860585", "createdAt": "2020-08-19T20:16:27Z", "commit": {"oid": "40c7bc1428960d8d30006c53e5b249bfd8a75950"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1beafcc7623a6c570740ea1b4ff02ecc2ef716c1", "author": {"user": {"login": "sujithvm", "name": "Sujith Vadakkepat"}}, "url": "https://github.com/opensearch-project/security/commit/1beafcc7623a6c570740ea1b4ff02ecc2ef716c1", "committedDate": "2020-08-19T20:35:19Z", "message": "Fix test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwOTY4Nzcx", "url": "https://github.com/opensearch-project/security/pull/653#pullrequestreview-470968771", "createdAt": "2020-08-19T21:12:43Z", "commit": {"oid": "1beafcc7623a6c570740ea1b4ff02ecc2ef716c1"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQyMToxMjo0M1rOHDZfxQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQyMToxMjo0M1rOHDZfxQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzMyNTUwOQ==", "bodyText": "What are the actions under internal: ?", "url": "https://github.com/opensearch-project/security/pull/653#discussion_r473325509", "createdAt": "2020-08-19T21:12:43Z", "author": {"login": "hardik-k-shah"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/security/auditlog/impl/AbstractAuditLog.java", "diffHunk": "@@ -646,19 +646,7 @@ boolean checkTransportFilter(final AuditCategory category, final String action,\n         }\n \n         //skip internals\n-        if(action != null\n-                &&\n-                ( action.startsWith(\"internal:\")\n-                        || action.startsWith(\"cluster:monitor\")\n-                        || action.startsWith(\"indices:monitor\")\n-                )\n-        ) {\n-\n-\n-            //if(log.isTraceEnabled()) {\n-            //    log.trace(\"Skipped audit log message due to category ({}) or action ({}) does not match\", category, action);\n-            //}\n-\n+        if (action != null && action.startsWith(\"internal:\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1beafcc7623a6c570740ea1b4ff02ecc2ef716c1"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcwOTg2NzA2", "url": "https://github.com/opensearch-project/security/pull/653#pullrequestreview-470986706", "createdAt": "2020-08-19T21:44:18Z", "commit": {"oid": "1beafcc7623a6c570740ea1b4ff02ecc2ef716c1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2720, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}