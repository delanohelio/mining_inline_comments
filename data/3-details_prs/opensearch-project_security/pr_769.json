{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAzMDEzOTM4", "number": 769, "title": "Create release drafter", "bodyText": "Issue #, if available:\nDescription of changes:\n\nIn order to save the effort and time going through all the merged PRs and generate release notes manually at the time of release, this PR is to introduce Release Drafter Github action into the workflow to keep track of all merged PRs and generate release notes.\nThe action will be triggered together with CI and CD, but the release note will be only generated upon merging PRs to master branch.\nAn example of the usage is here\n\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-10-14T00:12:24Z", "url": "https://github.com/opensearch-project/security/pull/769", "merged": true, "mergeCommit": {"oid": "bbe5e621442b6c1892bea8540652bf0978dc0528"}, "closed": true, "closedAt": "2020-10-19T19:23:59Z", "author": {"login": "cliu123"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSR9ZNgFqTUwNzkxMzcyMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUI4IIAFqTUxMjA2ODIyNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3OTEzNzIz", "url": "https://github.com/opensearch-project/security/pull/769#pullrequestreview-507913723", "createdAt": "2020-10-14T00:19:43Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwMDoxOTo0M1rOHg92Zw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwMDoyMzoxOVrOHg96aA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMyOTgzMQ==", "bodyText": "Remove changes not related to this PR", "url": "https://github.com/opensearch-project/security/pull/769#discussion_r504329831", "createdAt": "2020-10-14T00:19:43Z", "author": {"login": "sujithvm"}, "path": "pom.xml", "diffHunk": "@@ -525,6 +525,44 @@\n \n     <build>\n         <plugins>\n+            <plugin>", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMzMDEwOA==", "bodyText": "Can you verify these are the same labels we have?", "url": "https://github.com/opensearch-project/security/pull/769#discussion_r504330108", "createdAt": "2020-10-14T00:20:37Z", "author": {"login": "sujithvm"}, "path": ".github/release-drafter-config.yml", "diffHunk": "@@ -0,0 +1,23 @@\n+# Configuration for Release Drafter: https://github.com/toolmantim/release-drafter\n+template: |\n+  <!-- Optional: add a release summary here -->\n+  $CHANGES\n+\n+name-template: $NEXT_MINOR_VERSION\n+tag-template: $NEXT_MINOR_VERSION\n+# Uses a more common 2-digit versioning in Jenkins plugins. Can be replaced by semver: $MAJOR.$MINOR.$PATCH\n+version-template: $MAJOR.$MINOR\n+\n+# Emoji reference: https://gitmoji.carloscuesta.me/\n+categories:\n+  - title: \"Breaking changes\"\n+    label: \"breaking change\"\n+\n+  - title: \"Features\"\n+    label: \"feature\"\n+\n+  - title: \"Enhancements\"\n+    label: \"enhancements\"\n+\n+  - title: \"Bug Fixes\"\n+    labels: \"bug fix\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMzMDg1Ng==", "bodyText": "Can you confirm we need this trigger on pull_request? I don't see the requirement on the official docs or general usage as well.", "url": "https://github.com/opensearch-project/security/pull/769#discussion_r504330856", "createdAt": "2020-10-14T00:23:19Z", "author": {"login": "sujithvm"}, "path": ".github/workflows/release-drafter.yml", "diffHunk": "@@ -0,0 +1,18 @@\n+name: Release-drafter\n+\n+on:\n+  push:\n+    branches: [master]\n+  pull_request:\n+    branches: [master]", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA3OTE1NDg5", "url": "https://github.com/opensearch-project/security/pull/769#pullrequestreview-507915489", "createdAt": "2020-10-14T00:25:16Z", "commit": null, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwMDoyNToxNlrOHg98pA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwMDoyNjoxM1rOHg99iw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMzMTQyOA==", "bodyText": "Please refer to Alerting plugin https://github.com/opendistro-for-elasticsearch/alerting/blob/master/.github/draft-release-notes-config.yml so that we can have consistency across the release notes.", "url": "https://github.com/opensearch-project/security/pull/769#discussion_r504331428", "createdAt": "2020-10-14T00:25:16Z", "author": {"login": "sujithvm"}, "path": ".github/release-drafter-config.yml", "diffHunk": "@@ -0,0 +1,23 @@\n+# Configuration for Release Drafter: https://github.com/toolmantim/release-drafter\n+template: |", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDMzMTY1OQ==", "bodyText": "We don't follow this versioning style. We have 4 parts to semantic versioning.\nAlso remove any unnecessary comments", "url": "https://github.com/opensearch-project/security/pull/769#discussion_r504331659", "createdAt": "2020-10-14T00:26:13Z", "author": {"login": "sujithvm"}, "path": ".github/release-drafter-config.yml", "diffHunk": "@@ -0,0 +1,23 @@\n+# Configuration for Release Drafter: https://github.com/toolmantim/release-drafter\n+template: |\n+  <!-- Optional: add a release summary here -->\n+  $CHANGES\n+\n+name-template: $NEXT_MINOR_VERSION\n+tag-template: $NEXT_MINOR_VERSION\n+# Uses a more common 2-digit versioning in Jenkins plugins. Can be replaced by semver: $MAJOR.$MINOR.$PATCH\n+version-template: $MAJOR.$MINOR", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02264870b801c41438a22eb2e3294f1ab4d784ca", "author": {"user": null}, "url": "https://github.com/opensearch-project/security/commit/02264870b801c41438a22eb2e3294f1ab4d784ca", "committedDate": "2020-10-14T17:39:57Z", "message": "Add Release Drafter action to workflow AND add a configuration file for Release Drafter."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "02264870b801c41438a22eb2e3294f1ab4d784ca", "author": {"user": null}, "url": "https://github.com/opensearch-project/security/commit/02264870b801c41438a22eb2e3294f1ab4d784ca", "committedDate": "2020-10-14T17:39:57Z", "message": "Add Release Drafter action to workflow AND add a configuration file for Release Drafter."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eca3fe41aba8e6614503710f7664d06a9be49f78", "author": {"user": null}, "url": "https://github.com/opensearch-project/security/commit/eca3fe41aba8e6614503710f7664d06a9be49f78", "committedDate": "2020-10-14T18:18:34Z", "message": "Resolve code review comments."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5ODc0OTE3", "url": "https://github.com/opensearch-project/security/pull/769#pullrequestreview-509874917", "createdAt": "2020-10-15T23:24:45Z", "commit": {"oid": "eca3fe41aba8e6614503710f7664d06a9be49f78"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQyMzoyNDo0NVrOHie2yg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQyMzoyNDo0NVrOHie2yg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTkxOTE3OA==", "bodyText": "add <eol>", "url": "https://github.com/opensearch-project/security/pull/769#discussion_r505919178", "createdAt": "2020-10-15T23:24:45Z", "author": {"login": "vrozov"}, "path": ".github/workflows/release-drafter.yml", "diffHunk": "@@ -0,0 +1,18 @@\n+name: Release-drafter\n+\n+on:\n+  push:\n+    branches: [master]\n+  pull_request:\n+    branches: [master]\n+\n+jobs:\n+  update_release_draft:\n+    runs-on: ubuntu-latest\n+    steps:\n+      # Drafts the next Release notes as Pull Requests are merged into \"master\"\n+      - uses: release-drafter/release-drafter@v5\n+        with:\n+          config-name: release-drafter-config.yml\n+        env:\n+          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eca3fe41aba8e6614503710f7664d06a9be49f78"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5ODkyNzQx", "url": "https://github.com/opensearch-project/security/pull/769#pullrequestreview-509892741", "createdAt": "2020-10-15T23:51:15Z", "commit": {"oid": "eca3fe41aba8e6614503710f7664d06a9be49f78"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQyMzo1MToxNVrOHifU-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQyMzo1MToxNVrOHifU-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTkyNjkwNg==", "bodyText": "Is this a newly added label? I see two labels bug and bug fix.", "url": "https://github.com/opensearch-project/security/pull/769#discussion_r505926906", "createdAt": "2020-10-15T23:51:15Z", "author": {"login": "vrozov"}, "path": ".github/release-drafter-config.yml", "diffHunk": "@@ -0,0 +1,21 @@\n+# Configuration for Release Drafter: https://github.com/toolmantim/release-drafter\n+template: |\n+  Compatible with Elasticsearch (set version here).\n+  $CHANGES\n+\n+# Setting the formatting and sorting for the release notes body\n+name-template: Version (set version here)\n+change-template: '* $TITLE (#$NUMBER)'\n+sort-by: merged_at\n+sort-direction: ascending\n+\n+# Organizing the tagged PRs into unified ODFE categories\n+categories:\n+  - title: \"Enhancements\"\n+    labels: \"enhancement\"\n+\n+  - title: \"Bug fixes\"\n+    labels: \"bug fix\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eca3fe41aba8e6614503710f7664d06a9be49f78"}, "originalPosition": 18}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "eca3fe41aba8e6614503710f7664d06a9be49f78", "author": {"user": null}, "url": "https://github.com/opensearch-project/security/commit/eca3fe41aba8e6614503710f7664d06a9be49f78", "committedDate": "2020-10-14T18:18:34Z", "message": "Resolve code review comments."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "97047239b6c98f2482cde68f27259f6f455a3a26", "author": {"user": null}, "url": "https://github.com/opensearch-project/security/commit/97047239b6c98f2482cde68f27259f6f455a3a26", "committedDate": "2020-10-16T00:11:30Z", "message": "Add a new line at the end of file release-drafter.yml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5OTEzMzk5", "url": "https://github.com/opensearch-project/security/pull/769#pullrequestreview-509913399", "createdAt": "2020-10-16T00:14:43Z", "commit": {"oid": "97047239b6c98f2482cde68f27259f6f455a3a26"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwMDoxNDo0M1rOHifuAA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNlQwMDoxNDo0M1rOHifuAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTkzMzMxMg==", "bodyText": "rename to release-notes-drafter-config.yml", "url": "https://github.com/opensearch-project/security/pull/769#discussion_r505933312", "createdAt": "2020-10-16T00:14:43Z", "author": {"login": "vrozov"}, "path": ".github/workflows/release-drafter.yml", "diffHunk": "@@ -0,0 +1,18 @@\n+name: Release-drafter\n+\n+on:\n+  push:\n+    branches: [master]\n+  pull_request:\n+    branches: [master]\n+\n+jobs:\n+  update_release_draft:\n+    runs-on: ubuntu-latest\n+    steps:\n+      # Drafts the next Release notes as Pull Requests are merged into \"master\"\n+      - uses: release-drafter/release-drafter@v5\n+        with:\n+          config-name: release-drafter-config.yml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "97047239b6c98f2482cde68f27259f6f455a3a26"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e9ad91018c35f48e696cd11152f6370ada872ce9", "author": {"user": null}, "url": "https://github.com/opensearch-project/security/commit/e9ad91018c35f48e696cd11152f6370ada872ce9", "committedDate": "2020-10-16T00:27:43Z", "message": "Rename release-drafter-config.yml file to release-notes-drafter-config.yml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1feb6564b99e56938962e7882bf58e63ee40700", "author": {"user": null}, "url": "https://github.com/opensearch-project/security/commit/e1feb6564b99e56938962e7882bf58e63ee40700", "committedDate": "2020-10-16T21:02:38Z", "message": "Avoid triggering the Release Drafter action upon PR updates."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "e1feb6564b99e56938962e7882bf58e63ee40700", "author": {"user": null}, "url": "https://github.com/opensearch-project/security/commit/e1feb6564b99e56938962e7882bf58e63ee40700", "committedDate": "2020-10-16T21:02:38Z", "message": "Avoid triggering the Release Drafter action upon PR updates."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c2d1140e355c22ee70c40b1d156d9145653af44", "author": {"user": null}, "url": "https://github.com/opensearch-project/security/commit/9c2d1140e355c22ee70c40b1d156d9145653af44", "committedDate": "2020-10-16T22:35:31Z", "message": "Removing 'bug fix' label and using 'bug' label to categorize 'Bug fixes' PRs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExMzc5MDMz", "url": "https://github.com/opensearch-project/security/pull/769#pullrequestreview-511379033", "createdAt": "2020-10-19T02:44:17Z", "commit": {"oid": "9c2d1140e355c22ee70c40b1d156d9145653af44"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwMjo0NDoxN1rOHj4G-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQwMjo0NDoxN1rOHj4G-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzM4MTQ5Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            change-template: '* $TITLE (#$NUMBER)'\n          \n          \n            \n            change-template: '* $TITLE [#$NUMBER](https://github.com/opendistro-for-elasticsearch/security/pull/$NUMBER)'", "url": "https://github.com/opensearch-project/security/pull/769#discussion_r507381497", "createdAt": "2020-10-19T02:44:17Z", "author": {"login": "vrozov"}, "path": ".github/release-notes-drafter-config.yml", "diffHunk": "@@ -0,0 +1,21 @@\n+# Configuration for Release Drafter: https://github.com/toolmantim/release-drafter\n+template: |\n+  Compatible with Elasticsearch (set version here).\n+  $CHANGES\n+\n+# Setting the formatting and sorting for the release notes body\n+name-template: Version (set version here)\n+change-template: '* $TITLE (#$NUMBER)'", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9c2d1140e355c22ee70c40b1d156d9145653af44"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "673295b791c40d2c7e4e4a936d0294cf999638cf", "author": {"user": {"login": "cliu123", "name": "Chang Liu"}}, "url": "https://github.com/opensearch-project/security/commit/673295b791c40d2c7e4e4a936d0294cf999638cf", "committedDate": "2020-10-19T03:51:39Z", "message": "Update .github/release-notes-drafter-config.yml\r\n\r\nUpdate the \"change-template\" to include the link to the PR.\n\nCo-authored-by: Vlad Rozov <vrozov@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExOTQ4ODM0", "url": "https://github.com/opensearch-project/security/pull/769#pullrequestreview-511948834", "createdAt": "2020-10-19T16:32:39Z", "commit": {"oid": "673295b791c40d2c7e4e4a936d0294cf999638cf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMDY3NTYw", "url": "https://github.com/opensearch-project/security/pull/769#pullrequestreview-512067560", "createdAt": "2020-10-19T18:55:27Z", "commit": {"oid": "673295b791c40d2c7e4e4a936d0294cf999638cf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyMDY4MjI0", "url": "https://github.com/opensearch-project/security/pull/769#pullrequestreview-512068224", "createdAt": "2020-10-19T18:56:16Z", "commit": {"oid": "673295b791c40d2c7e4e4a936d0294cf999638cf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2787, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}