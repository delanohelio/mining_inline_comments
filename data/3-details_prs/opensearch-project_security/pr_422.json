{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4NzE2ODE4", "number": 422, "title": "Enable limited OpenSSL support", "bodyText": "Issue #, if available:\nDescription of changes:\nBy submitting this pull request, I confirm that you can use, modify, copy, and redistribute this contribution, under the terms of your choice.", "createdAt": "2020-04-24T19:05:01Z", "url": "https://github.com/opensearch-project/security/pull/422", "merged": true, "mergeCommit": {"oid": "663053a28aaebcd721b79318642a8131cb56dd01"}, "closed": true, "closedAt": "2020-04-30T23:28:28Z", "author": {"login": "vrozov"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABca2TQOgH2gAyNDA4NzE2ODE4Ojg1MTk1ODVlYzkxZDYxNzljYmM5MTA5ZTIzOWJjMzg0M2ZiZjYwM2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcb47TpAFqTQwMTQyMjc0Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8519585ec91d6179cbc9109e239bc3843fbf603b", "author": {"user": {"login": "vrozov", "name": "Vlad Rozov"}}, "url": "https://github.com/opensearch-project/security/commit/8519585ec91d6179cbc9109e239bc3843fbf603b", "committedDate": "2020-04-24T19:04:01Z", "message": "Enable limited OpenSSL support"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMzA1NjAx", "url": "https://github.com/opensearch-project/security/pull/422#pullrequestreview-400305601", "createdAt": "2020-04-24T22:28:10Z", "commit": {"oid": "8519585ec91d6179cbc9109e239bc3843fbf603b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMjoyODoxMFrOGLrWZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQyMjoyODoxMFrOGLrWZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDg5Nzc2NA==", "bodyText": "What does the es.unsafe.use_netty_default_allocator property do and why is it necessary for supporting node to node communication with OpenSSL?", "url": "https://github.com/opensearch-project/security/pull/422#discussion_r414897764", "createdAt": "2020-04-24T22:28:10Z", "author": {"login": "debjanibnrj"}, "path": "src/main/java/com/amazon/opendistroforelasticsearch/security/ssl/DefaultOpenDistroSecurityKeyStore.java", "diffHunk": "@@ -133,14 +133,11 @@ public DefaultOpenDistroSecurityKeyStore(final Settings settings, final Path con\n                 .getAsBoolean(SSLConfigConstants.OPENDISTRO_SECURITY_SSL_TRANSPORT_ENABLE_OPENSSL_IF_AVAILABLE, true);\n \n         if(!OpenDistroSecuritySSLPlugin.OPENSSL_SUPPORTED && OpenSsl.isAvailable() && (settings.getAsBoolean(SSLConfigConstants.OPENDISTRO_SECURITY_SSL_HTTP_ENABLE_OPENSSL_IF_AVAILABLE, true) || settings.getAsBoolean(SSLConfigConstants.OPENDISTRO_SECURITY_SSL_TRANSPORT_ENABLE_OPENSSL_IF_AVAILABLE, true) )) {\n-            String text = \"Support for OpenSSL has been removed from Open Distro Security since Elasticsearch 7.4.0. Use JDK SSL instead\\n\";\n-            if(Constants.JRE_IS_MINIMUM_JAVA11) {\n-                text += \"Since you are running Java \"+Constants.JAVA_VERSION+\" you should not experience any performance impact but maybe not all your ciphers are supported. If you experience problems upgrade to Java 11+\";\n+            if (PlatformDependent.javaVersion() < 12) {\n+                log.warn(\"Support for OpenSSL with Java 11 or prior versions require using Netty allocator. Set 'es.unsafe.use_netty_default_allocator' system property to true\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8519585ec91d6179cbc9109e239bc3843fbf603b"}, "originalPosition": 22}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAwMzQyNzM2", "url": "https://github.com/opensearch-project/security/pull/422#pullrequestreview-400342736", "createdAt": "2020-04-25T01:29:21Z", "commit": {"oid": "8519585ec91d6179cbc9109e239bc3843fbf603b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxNDIyNzQy", "url": "https://github.com/opensearch-project/security/pull/422#pullrequestreview-401422742", "createdAt": "2020-04-28T00:41:31Z", "commit": {"oid": "8519585ec91d6179cbc9109e239bc3843fbf603b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2901, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}