{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI3MzgwNzY4", "number": 1688, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QyMDowMToxM1rOECTTGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QyMzozMDoxN1rOECWxvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwODQ4NzkyOnYy", "diffSide": "RIGHT", "path": "fcrepo-kernel-api/src/main/java/org/fcrepo/kernel/api/utils/ContentDigest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QyMDowMToxM1rOGerWjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QyMDowMToxM1rOGerWjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDgyMDc0OA==", "bodyText": "Comments seems incorrect. We are defaulting to SHA512, no?", "url": "https://github.com/fcrepo/fcrepo/pull/1688#discussion_r434820748", "createdAt": "2020-06-03T20:01:13Z", "author": {"login": "awoods"}, "path": "fcrepo-kernel-api/src/main/java/org/fcrepo/kernel/api/utils/ContentDigest.java", "diffHunk": "@@ -38,20 +41,39 @@\n \n     private static final Logger LOGGER = getLogger(ContentDigest.class);\n \n+    private final static String DEFAULT_DIGEST_ALGORITHM_PROPERTY = \"fcrepo.persistence.defaultDigestAlgorithm\";\n+    public final static DIGEST_ALGORITHM DEFAULT_DIGEST_ALGORITHM;\n+\n+    static {\n+        // Establish the default digest algorithm for fedora, defaulting to SHA1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ead477d2c42738b6a87a62d89cd877c3350dbe69"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwOTA1NzkxOnYy", "diffSide": "RIGHT", "path": "fcrepo-kernel-api/src/main/java/org/fcrepo/kernel/api/utils/ContentDigest.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QyMzozMDoxN1rOGew6qA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQxNDoxNjozMFrOGfIKvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxMTkxMg==", "bodyText": "Thoughts on refactoring: \"fedoraconfig:defaultDigestAlgorithm\"?\nhttps://github.com/fcrepo4/fcrepo4/blob/master/fcrepo-kernel-api/src/main/java/org/fcrepo/kernel/api/FedoraTypes.java#L90\nOr... is there any reason to change the existing property, and the associated documentation?\nhttps://wiki.lyrasis.org/display/FEDORA4x/RESTful+HTTP+API+-+Fixity#RESTfulHTTPAPIFixity-DefaultFixityAlgorithm", "url": "https://github.com/fcrepo/fcrepo/pull/1688#discussion_r434911912", "createdAt": "2020-06-03T23:30:17Z", "author": {"login": "awoods"}, "path": "fcrepo-kernel-api/src/main/java/org/fcrepo/kernel/api/utils/ContentDigest.java", "diffHunk": "@@ -38,20 +41,39 @@\n \n     private static final Logger LOGGER = getLogger(ContentDigest.class);\n \n+    private final static String DEFAULT_DIGEST_ALGORITHM_PROPERTY = \"fcrepo.persistence.defaultDigestAlgorithm\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ead477d2c42738b6a87a62d89cd877c3350dbe69"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTIyMDMxOA==", "bodyText": "Based on your slack response from the other day, I was thinking we would end up pulling the fedoraconfig:defaultDigestAlgorithm since it seems unnecessary with the removal of fcr:fixity and emphasis on the Want-Digest header. I can do so now, and update the documentation if you'd like.\nOn the other hand, it might make sense to reimagine it as a way for clients to tell fedora what digest algorithm to use for content addressing in a particular ocfl object, allowing them to override the system wide DEFAULT_DIGEST_ALGORITHM. But that likely doesn't fit into this PR, since it would probably come with some twists in terms of allowing clients to change existing objects. From what peter was saying I had the impression that was an allowed ocfl operation, but I would expect it would require significant changes to the object.", "url": "https://github.com/fcrepo/fcrepo/pull/1688#discussion_r435220318", "createdAt": "2020-06-04T12:38:47Z", "author": {"login": "bbpennel"}, "path": "fcrepo-kernel-api/src/main/java/org/fcrepo/kernel/api/utils/ContentDigest.java", "diffHunk": "@@ -38,20 +41,39 @@\n \n     private static final Logger LOGGER = getLogger(ContentDigest.class);\n \n+    private final static String DEFAULT_DIGEST_ALGORITHM_PROPERTY = \"fcrepo.persistence.defaultDigestAlgorithm\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxMTkxMg=="}, "originalCommit": {"oid": "ead477d2c42738b6a87a62d89cd877c3350dbe69"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTI5Mjg2Mg==", "bodyText": "Thanks. Let's take a wait-and-see on fedoraconfig:defaultDigestAlgorithm.", "url": "https://github.com/fcrepo/fcrepo/pull/1688#discussion_r435292862", "createdAt": "2020-06-04T14:16:30Z", "author": {"login": "awoods"}, "path": "fcrepo-kernel-api/src/main/java/org/fcrepo/kernel/api/utils/ContentDigest.java", "diffHunk": "@@ -38,20 +41,39 @@\n \n     private static final Logger LOGGER = getLogger(ContentDigest.class);\n \n+    private final static String DEFAULT_DIGEST_ALGORITHM_PROPERTY = \"fcrepo.persistence.defaultDigestAlgorithm\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDkxMTkxMg=="}, "originalCommit": {"oid": "ead477d2c42738b6a87a62d89cd877c3350dbe69"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1835, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}