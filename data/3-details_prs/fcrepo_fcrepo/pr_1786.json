{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1MDY5Njc0", "number": 1786, "title": "Adds support for using a single configuration file to specify fedora \u2026", "bodyText": "\u2026properties as an alternative to command-line properties.\nJIRA Ticket: https://jira.lyrasis.org/browse/FCREPO-3504\n\nOther Relevant Links (Mailing list discussion, related pull requests, etc.)\n\nWhat does this Pull Request do?\nWith this update you may now  use  the -Dfcrepo.config.file=/path/to/config.properties file  in order to configure fedora as an alternative to using command-line( -Dparam.name=value).\nIf  you prefer not to pass the file via the command-line, fedora will look for a file this location:\n<cwd>/fcrepo-home/config/fcrepo.properties\nYou can override default values by placing them in the config file.  If you wish  to override values in the config file use the command line.\nSo to be clear, the precedence is as follows\n\nset default values  (defined in code)\napply overrides defined in /fcrepo-home/config/fcrepo.properties if exists\napply overrides defined by -Dfcrepo.config.file  (if file exists)\nfinally apply any -D parameters\n\nHow should this be tested?\nExperiment by adding a properties file via the commandline - ie via the  -Dfcrepo.config.file=/path/to/config.properties\nfor example:\nfcrepo.home=file_defined_home\n\nThen run fedora:\njava -Dfcrepo.config.file=/path/to/config.properties -jar fcrepo-webapp/target/fcrepo-webapp-6.0.0-SNAPSHOT-jetty-console.jar --headless\n\nVerify that the directory file_defined_home is present in your working directory.\nPerform the same test except copy the property file to /fcrepo-home/config/fcrepo.properties\nThen try overriding that value like this:\njava -Dfcrepo.home=overriden_fedora_home  -Dfcrepo.config-file=/path/to/config.properties -jar fcrepo-webapp/target/fcrepo-webapp-6.0.0-SNAPSHOT-jetty-console.jar --headless\n\nVerify that the directory overriden_fedora_home is present in your working directory.\nInterested parties\nTag (@ mention) interested parties or, if unsure, @fcrepo/committers", "createdAt": "2020-11-04T00:50:24Z", "url": "https://github.com/fcrepo/fcrepo/pull/1786", "merged": true, "mergeCommit": {"oid": "87d9e428669b89a3c41218aa8e46bad699b72c2a"}, "closed": true, "closedAt": "2020-11-10T14:20:14Z", "author": {"login": "dbernstein"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZhtS4gFqTUyNDIxODgwMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABda8YvyAFqTUyNjcwMTcwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0MjE4ODAy", "url": "https://github.com/fcrepo/fcrepo/pull/1786#pullrequestreview-524218802", "createdAt": "2020-11-05T12:38:18Z", "commit": {"oid": "f823d02c9447a34fcc75deba971edb98896b0ea3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxMjozODoxOFrOHuBYkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxMjozODoxOFrOHuBYkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODAxOTIxOQ==", "bodyText": "These variables are getting confused. Some of them are property names and some of them are default property values. They should be visually separate in the file.", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518019219", "createdAt": "2020-11-05T12:38:18Z", "author": {"login": "pwinckles"}, "path": "fcrepo-configs/src/main/java/org/fcrepo/config/FedoraPropsConfig.java", "diffHunk": "@@ -35,20 +36,54 @@\n  * @since 6.0.0\n  */\n @Configuration\n+@PropertySource (value = \"file:${\" + FedoraPropsConfig.FCREPO_CONFIG_FILE + \"}\", ignoreResourceNotFound = true)\n public class FedoraPropsConfig {\n \n     private static final Logger LOGGER = LoggerFactory.getLogger(FedoraPropsConfig.class);\n \n+    public static final String FCREPO_CONFIG_FILE = \"fcrepo.config-file\";\n     public static final String FCREPO_HOME = \"fcrepo.home\";\n-\n+    public static final String FCREPO_JMS_HOST = \"fcrepo.jms.host\";\n+    public static final String FCREPO_DYNAMIC_JMS_PORT = \"fcrepo.dynamic.jms.port\";\n+    public static final String FCREPO_DYNAMIC_STOMP_PORT = \"fcrepo.dynamic.stomp.port\";\n+    public static final String FCREPO_ACTIVEMQ_CONFIGURATION = \"fcrepo.activemq.configuration\";\n+    public static final String FCREPO_NAMESPACE_REGISTRY = \"fcrepo.namespace.registry\";\n+    public static final String FCREPO_EXTERNAL_CONTENT_ALLOWED = \"fcrepo.external.content.allowed\";\n     private static final String DATA_DIR = \"data\";\n+    private static final String ACTIVE_MQ_DIR = \"ActiveMQ/kahadb\";\n+    private static final String FCREPO_ACTIVEMQ_DIRECTORY = \"fcrepo.activemq.directory\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f823d02c9447a34fcc75deba971edb98896b0ea3"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0Mzk0MDE4", "url": "https://github.com/fcrepo/fcrepo/pull/1786#pullrequestreview-524394018", "createdAt": "2020-11-05T15:42:20Z", "commit": {"oid": "f823d02c9447a34fcc75deba971edb98896b0ea3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNTo0MjoyMFrOHuJaEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxNTo0MjoyMFrOHuJaEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODE1MDY3NA==", "bodyText": "For consistency, can we rename this property to not include a -. Maybe fcrepo.config.file or fcrepo.config or fcrepo.config.location... or something else?", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518150674", "createdAt": "2020-11-05T15:42:20Z", "author": {"login": "awoods"}, "path": "fcrepo-configs/src/main/java/org/fcrepo/config/FedoraPropsConfig.java", "diffHunk": "@@ -35,20 +36,54 @@\n  * @since 6.0.0\n  */\n @Configuration\n+@PropertySource (value = \"file:${\" + FedoraPropsConfig.FCREPO_CONFIG_FILE + \"}\", ignoreResourceNotFound = true)\n public class FedoraPropsConfig {\n \n     private static final Logger LOGGER = LoggerFactory.getLogger(FedoraPropsConfig.class);\n \n+    public static final String FCREPO_CONFIG_FILE = \"fcrepo.config-file\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f823d02c9447a34fcc75deba971edb98896b0ea3"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44d889cdfd7af9d12a6c39f637eceffafc0223a1", "author": {"user": {"login": "dbernstein", "name": "dbernstein"}}, "url": "https://github.com/fcrepo/fcrepo/commit/44d889cdfd7af9d12a6c39f637eceffafc0223a1", "committedDate": "2020-11-05T21:20:51Z", "message": "Adds support for using a single configuration file ( -Dfcrepo.config-file=/path/to/file.properties )\nto specify fedora properties as an alternative to command-line properties.\n\nResolves: https://jira.lyrasis.org/browse/FCREPO-3504"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a553bd74fc61bb30ceee3f37c918fcc57fb69c4", "author": {"user": {"login": "dbernstein", "name": "dbernstein"}}, "url": "https://github.com/fcrepo/fcrepo/commit/4a553bd74fc61bb30ceee3f37c918fcc57fb69c4", "committedDate": "2020-11-05T21:20:52Z", "message": "Changes  the config file parameter name to fcrepo.config.file"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "405c6b31cd85cf4f49120ea164ed009a352f6852", "author": {"user": {"login": "dbernstein", "name": "dbernstein"}}, "url": "https://github.com/fcrepo/fcrepo/commit/405c6b31cd85cf4f49120ea164ed009a352f6852", "committedDate": "2020-11-05T21:20:52Z", "message": "Reorganizes static declarations for clarity."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6c6e8686899e845efacf6f524f6ba2c16bab0ab9", "author": {"user": {"login": "dbernstein", "name": "dbernstein"}}, "url": "https://github.com/fcrepo/fcrepo/commit/6c6e8686899e845efacf6f524f6ba2c16bab0ab9", "committedDate": "2020-11-05T23:00:12Z", "message": "Adds a default properties path (<fcrepo.home>/config/fcrepo.properties) so user\nis not required to user a -Dfcrepo.config.file parameter to load a property override file."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "959cc8a973a493c7b00170272324680e32791e86", "author": {"user": {"login": "dbernstein", "name": "dbernstein"}}, "url": "https://github.com/fcrepo/fcrepo/commit/959cc8a973a493c7b00170272324680e32791e86", "committedDate": "2020-11-06T18:09:15Z", "message": "Consolidates remaining properties outside of property file control\nwith the exception of fcrepo.persistence.defaultDigestAlgorithm\nwhich will require some refactoring to fix."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f823d02c9447a34fcc75deba971edb98896b0ea3", "author": {"user": {"login": "dbernstein", "name": "dbernstein"}}, "url": "https://github.com/fcrepo/fcrepo/commit/f823d02c9447a34fcc75deba971edb98896b0ea3", "committedDate": "2020-11-04T00:16:23Z", "message": "Adds support for using a single configuration file ( -Dfcrepo.config-file=/path/to/file.properties )\nto specify fedora properties as an alternative to command-line properties.\n\nResolves: https://jira.lyrasis.org/browse/FCREPO-3504"}, "afterCommit": {"oid": "959cc8a973a493c7b00170272324680e32791e86", "author": {"user": {"login": "dbernstein", "name": "dbernstein"}}, "url": "https://github.com/fcrepo/fcrepo/commit/959cc8a973a493c7b00170272324680e32791e86", "committedDate": "2020-11-06T18:09:15Z", "message": "Consolidates remaining properties outside of property file control\nwith the exception of fcrepo.persistence.defaultDigestAlgorithm\nwhich will require some refactoring to fix."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI1NDA2MjAy", "url": "https://github.com/fcrepo/fcrepo/pull/1786#pullrequestreview-525406202", "createdAt": "2020-11-06T18:45:49Z", "commit": {"oid": "959cc8a973a493c7b00170272324680e32791e86"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxODo0NTo0OVrOHu5ecQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQxOToyODozM1rOHu6vww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODkzODIyNQ==", "bodyText": "Maybe remove the redundant DEFAULT, to:\nDEFAULT_FCREPO_CONFIG_FILE_PROP_SOURCE", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518938225", "createdAt": "2020-11-06T18:45:49Z", "author": {"login": "awoods"}, "path": "fcrepo-configs/src/main/java/org/fcrepo/config/BasePropsConfig.java", "diffHunk": "@@ -0,0 +1,41 @@\n+/*\n+ * Licensed to DuraSpace under one or more contributor license agreements.\n+ * See the NOTICE file distributed with this work for additional information\n+ * regarding copyright ownership.\n+ *\n+ * DuraSpace licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except in\n+ * compliance with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.fcrepo.config;\n+\n+import org.springframework.context.annotation.PropertySource;\n+import org.springframework.context.annotation.PropertySources;\n+\n+/**\n+ * A base class for property configs\n+ *\n+ * @author dbernstein\n+ * @since 6.0.0\n+ */\n+@PropertySources({\n+        @PropertySource(value = FedoraPropsConfig.DEFAULT_FCREPO_CONFIG_FILE_DEFAULT_PROP_SOURCE,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "959cc8a973a493c7b00170272324680e32791e86"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODkzOTQ4NA==", "bodyText": "It may be more clear to change these both to reference BasePropsConfig instead of FedoraPropsConfig.", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518939484", "createdAt": "2020-11-06T18:48:22Z", "author": {"login": "awoods"}, "path": "fcrepo-configs/src/main/java/org/fcrepo/config/BasePropsConfig.java", "diffHunk": "@@ -0,0 +1,41 @@\n+/*\n+ * Licensed to DuraSpace under one or more contributor license agreements.\n+ * See the NOTICE file distributed with this work for additional information\n+ * regarding copyright ownership.\n+ *\n+ * DuraSpace licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except in\n+ * compliance with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.fcrepo.config;\n+\n+import org.springframework.context.annotation.PropertySource;\n+import org.springframework.context.annotation.PropertySources;\n+\n+/**\n+ * A base class for property configs\n+ *\n+ * @author dbernstein\n+ * @since 6.0.0\n+ */\n+@PropertySources({\n+        @PropertySource(value = FedoraPropsConfig.DEFAULT_FCREPO_CONFIG_FILE_DEFAULT_PROP_SOURCE,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "959cc8a973a493c7b00170272324680e32791e86"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODk0MDcxNg==", "bodyText": "FedoraPropsConfig.FCREPO_CONFIG_FILE should probably be migrated here, to BasePropsConfig.java.", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518940716", "createdAt": "2020-11-06T18:50:47Z", "author": {"login": "awoods"}, "path": "fcrepo-configs/src/main/java/org/fcrepo/config/BasePropsConfig.java", "diffHunk": "@@ -0,0 +1,41 @@\n+/*\n+ * Licensed to DuraSpace under one or more contributor license agreements.\n+ * See the NOTICE file distributed with this work for additional information\n+ * regarding copyright ownership.\n+ *\n+ * DuraSpace licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except in\n+ * compliance with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.fcrepo.config;\n+\n+import org.springframework.context.annotation.PropertySource;\n+import org.springframework.context.annotation.PropertySources;\n+\n+/**\n+ * A base class for property configs\n+ *\n+ * @author dbernstein\n+ * @since 6.0.0\n+ */\n+@PropertySources({\n+        @PropertySource(value = FedoraPropsConfig.DEFAULT_FCREPO_CONFIG_FILE_DEFAULT_PROP_SOURCE,\n+                ignoreResourceNotFound = true),\n+        @PropertySource(value = FedoraPropsConfig.FCREPO_CONFIG_FILE_PROP_SOURCE, ignoreResourceNotFound = true)\n+})\n+abstract class BasePropsConfig {\n+\n+    public static final String DEFAULT_FCREPO_CONFIG_FILE_DEFAULT_PROP_SOURCE =\n+            \"file:fcrepo-home/config/fcrepo.properties\";\n+    public static final String FCREPO_CONFIG_FILE_PROP_SOURCE = \"file:${\" + FedoraPropsConfig.FCREPO_CONFIG_FILE + \"}\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "959cc8a973a493c7b00170272324680e32791e86"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODk0MjUxOA==", "bodyText": "It would make sense to expect that the fcrepo.properties file would be used regardless of where \"fcrepo home\" is configured. The way this is written, the default file is only found if the user defines \"fcrepo home\" as existing in the $cwd and named as fcrepo-home.", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518942518", "createdAt": "2020-11-06T18:54:17Z", "author": {"login": "awoods"}, "path": "fcrepo-configs/src/main/java/org/fcrepo/config/BasePropsConfig.java", "diffHunk": "@@ -0,0 +1,41 @@\n+/*\n+ * Licensed to DuraSpace under one or more contributor license agreements.\n+ * See the NOTICE file distributed with this work for additional information\n+ * regarding copyright ownership.\n+ *\n+ * DuraSpace licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except in\n+ * compliance with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.fcrepo.config;\n+\n+import org.springframework.context.annotation.PropertySource;\n+import org.springframework.context.annotation.PropertySources;\n+\n+/**\n+ * A base class for property configs\n+ *\n+ * @author dbernstein\n+ * @since 6.0.0\n+ */\n+@PropertySources({\n+        @PropertySource(value = FedoraPropsConfig.DEFAULT_FCREPO_CONFIG_FILE_DEFAULT_PROP_SOURCE,\n+                ignoreResourceNotFound = true),\n+        @PropertySource(value = FedoraPropsConfig.FCREPO_CONFIG_FILE_PROP_SOURCE, ignoreResourceNotFound = true)\n+})\n+abstract class BasePropsConfig {\n+\n+    public static final String DEFAULT_FCREPO_CONFIG_FILE_DEFAULT_PROP_SOURCE =\n+            \"file:fcrepo-home/config/fcrepo.properties\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "959cc8a973a493c7b00170272324680e32791e86"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODk1OTA0Mw==", "bodyText": "Of all of the following \"getters\", only getVelocityLog() appears to be used. Should the others be removed?", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518959043", "createdAt": "2020-11-06T19:28:33Z", "author": {"login": "awoods"}, "path": "fcrepo-configs/src/main/java/org/fcrepo/config/FedoraPropsConfig.java", "diffHunk": "@@ -94,4 +134,66 @@ public void setFedoraData(final Path fedoraData) {\n         this.fedoraData = fedoraData;\n     }\n \n+    /**\n+     * @return The JMS host\n+     */\n+    public String getJmsHost() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "959cc8a973a493c7b00170272324680e32791e86"}, "originalPosition": 71}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI1NDY1OTI1", "url": "https://github.com/fcrepo/fcrepo/pull/1786#pullrequestreview-525465925", "createdAt": "2020-11-06T20:15:52Z", "commit": {"oid": "959cc8a973a493c7b00170272324680e32791e86"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQyMDoxNTo1MlrOHu8QHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNlQyMDoxNTo1MlrOHu8QHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODk4MzcwOA==", "bodyText": "Is there a reason why the fcrepo.session.timeout has not be extracted into a static constant like the ones above?\nSame question for fcrepo.velocity.runtime.log below.", "url": "https://github.com/fcrepo/fcrepo/pull/1786#discussion_r518983708", "createdAt": "2020-11-06T20:15:52Z", "author": {"login": "awoods"}, "path": "fcrepo-configs/src/main/java/org/fcrepo/config/FedoraPropsConfig.java", "diffHunk": "@@ -35,20 +35,60 @@\n  * @since 6.0.0\n  */\n @Configuration\n-public class FedoraPropsConfig {\n+public class FedoraPropsConfig extends BasePropsConfig {\n \n     private static final Logger LOGGER = LoggerFactory.getLogger(FedoraPropsConfig.class);\n \n+    public static final String FCREPO_CONFIG_FILE = \"fcrepo.config.file\";\n     public static final String FCREPO_HOME = \"fcrepo.home\";\n+    public static final String FCREPO_JMS_HOST = \"fcrepo.jms.host\";\n+    public static final String FCREPO_DYNAMIC_JMS_PORT = \"fcrepo.dynamic.jms.port\";\n+    public static final String FCREPO_DYNAMIC_STOMP_PORT = \"fcrepo.dynamic.stomp.port\";\n+    public static final String FCREPO_ACTIVEMQ_CONFIGURATION = \"fcrepo.activemq.configuration\";\n+    public static final String FCREPO_NAMESPACE_REGISTRY = \"fcrepo.namespace.registry\";\n+    public static final String FCREPO_EXTERNAL_CONTENT_ALLOWED = \"fcrepo.external.content.allowed\";\n+    private static final String FCREPO_ACTIVEMQ_DIRECTORY = \"fcrepo.activemq.directory\";\n+\n+    private static final String DATA_DIR_DEFAULT_VALUE = \"data\";\n+    private static final String ACTIVE_MQ_DIR_DEFAULT_VALUE = \"ActiveMQ/kahadb\";\n \n-    private static final String DATA_DIR = \"data\";\n \n     @Value(\"${\" + FCREPO_HOME + \":fcrepo-home}\")\n     private Path fedoraHome;\n \n-    @Value(\"#{fedoraPropsConfig.fedoraHome.resolve('\" + DATA_DIR + \"')}\")\n+    @Value(\"#{fedoraPropsConfig.fedoraHome.resolve('\" + DATA_DIR_DEFAULT_VALUE + \"')}\")\n     private Path fedoraData;\n \n+    @Value(\"${\" + FCREPO_JMS_HOST + \":localhost}\")\n+    private String jmsHost;\n+\n+    @Value(\"${\" + FCREPO_DYNAMIC_JMS_PORT + \":61616}\")\n+    private String jmsPort;\n+\n+    @Value(\"${\" + FCREPO_DYNAMIC_STOMP_PORT + \":61613}\")\n+    private String stompPort;\n+\n+\n+    @Value(\"${\" + FCREPO_ACTIVEMQ_CONFIGURATION + \":classpath:/config/activemq.xml}\")\n+    private String activeMQConfiguration;\n+\n+    @Value(\"${\" + FCREPO_ACTIVEMQ_DIRECTORY + \":#{fedoraPropsConfig.fedoraData.resolve('\" +\n+            ACTIVE_MQ_DIR_DEFAULT_VALUE + \"').toAbsolutePath().toString()}}\")\n+    private String activeMqDirectory;\n+\n+    @Value(\"${\" + FCREPO_NAMESPACE_REGISTRY + \":classpath:/namespaces.yml}\")\n+    private String namespaceRegistry;\n+\n+    @Value(\"${\" + FCREPO_EXTERNAL_CONTENT_ALLOWED + \":#{null}}\")\n+    private String externalContentAllowed;\n+\n+    @Value(\"${fcrepo.session.timeout:180000}\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "959cc8a973a493c7b00170272324680e32791e86"}, "originalPosition": 54}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1dc67fff12344a704e150702038f45802c1afa99", "author": {"user": {"login": "dbernstein", "name": "dbernstein"}}, "url": "https://github.com/fcrepo/fcrepo/commit/1dc67fff12344a704e150702038f45802c1afa99", "committedDate": "2020-11-07T00:31:01Z", "message": "Addresses remaining issues raised in latest PR feedback."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64ded8cbd578ddfa2ca90e3de477ea0f85f05d9f", "author": {"user": {"login": "dbernstein", "name": "dbernstein"}}, "url": "https://github.com/fcrepo/fcrepo/commit/64ded8cbd578ddfa2ca90e3de477ea0f85f05d9f", "committedDate": "2020-11-09T21:00:40Z", "message": "Ensures that fedora first looks in <fcrepo.home>/config/fcrepo.properties for the default properties\nfile rather than <cwd>/fcrepo-home/config/fcrepo.properties."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2NzAxNzA3", "url": "https://github.com/fcrepo/fcrepo/pull/1786#pullrequestreview-526701707", "createdAt": "2020-11-09T22:20:36Z", "commit": {"oid": "64ded8cbd578ddfa2ca90e3de477ea0f85f05d9f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2991, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}