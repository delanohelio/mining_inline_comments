{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1OTAzODc2", "number": 1731, "title": "implemented new storage layout", "bodyText": "JIRA Ticket: https://jira.lyrasis.org/browse/FCREPO-3375\nWhat does this Pull Request do?\nUpdates the storage layout so that it's inline with this wiki: https://wiki.lyrasis.org/display/FF/Design+-+Fedora+OCFL+Object+Structure\nHow should this be tested?\nAll of the existing features should work the same. I would create a variety of different types of resources, to make sure the APIs still work as expected, and then verify the OCFL representations.\nThe easiest, in my biased opinion, way to do this is by using rocfl. To do this, install the utility, and then navigate to your ocfl storage root. From there, you can execute commands like:\n# List the objects\n$ rocfl ls\ninfo:fedora                               \ninfo:fedora/binary                        \ninfo:fedora/box                           \ninfo:fedora/box2 \n\n#List the contents of an object\n$ rocfl ls info:fedora/binary\n.fcrepo/fcr-root.json                     \n.fcrepo/fcr-root~fcr-desc.json            \nbinary                                    \nbinary~fcr-desc.nt\n\n#List an old version of an object\n$ rocfl ls -v1 info:fedora/box2\n.fcrepo/fcr-root.json                     \nfcr-container.nt\nAdditional information can be displayed using the -l and/or -p flags.\nInterested parties\n@fcrepo4/committers", "createdAt": "2020-07-23T19:15:04Z", "url": "https://github.com/fcrepo/fcrepo/pull/1731", "merged": true, "mergeCommit": {"oid": "8400780487eeb8190fe9b0f03f482c84f1479481"}, "closed": true, "closedAt": "2020-07-24T18:21:32Z", "author": {"login": "pwinckles"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc30Pz5gH2gAyNDU1OTAzODc2OjBhODg2N2YxYzU4MWQwNTUwZDFjYzA3NzcxYjlmZTI0ZWJlYjU0YTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc4IOrjgFqTQ1NTA5NTU3Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0a8867f1c581d0550d1cc07771b9fe24ebeb54a8", "author": {"user": {"login": "pwinckles", "name": "Peter Winckles"}}, "url": "https://github.com/fcrepo/fcrepo/commit/0a8867f1c581d0550d1cc07771b9fe24ebeb54a8", "committedDate": "2020-07-23T19:04:15Z", "message": "implemented new storage layout"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NDQwMzg5", "url": "https://github.com/fcrepo/fcrepo/pull/1731#pullrequestreview-454440389", "createdAt": "2020-07-23T19:40:13Z", "commit": {"oid": "0a8867f1c581d0550d1cc07771b9fe24ebeb54a8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxOTo0MDoxM1rOG2Y7BQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxOTo0MDoxM1rOG2Y7BQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTY4NDYxMw==", "bodyText": "I need to look into our checkstyle configuration... a public method with no javadoc should be flagged.", "url": "https://github.com/fcrepo/fcrepo/pull/1731#discussion_r459684613", "createdAt": "2020-07-23T19:40:13Z", "author": {"login": "awoods"}, "path": "fcrepo-persistence-common/src/main/java/org/fcrepo/persistence/common/ResourceHeadersImpl.java", "diffHunk": "@@ -274,4 +276,14 @@ public void setDeleted(final boolean deleted) {\n     public boolean isDeleted() {\n         return deleted;\n     }\n+\n+    @Override\n+    public String getContentPath() {\n+        return contentPath;\n+    }\n+\n+    public void setContentPath(final String contentPath) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0a8867f1c581d0550d1cc07771b9fe24ebeb54a8"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "004e805ae575fd509f9265fe44a90ec9f5aaec5c", "author": {"user": {"login": "pwinckles", "name": "Peter Winckles"}}, "url": "https://github.com/fcrepo/fcrepo/commit/004e805ae575fd509f9265fe44a90ec9f5aaec5c", "committedDate": "2020-07-24T12:40:53Z", "message": "added javadoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1MDk1NTcz", "url": "https://github.com/fcrepo/fcrepo/pull/1731#pullrequestreview-455095573", "createdAt": "2020-07-24T18:21:07Z", "commit": {"oid": "004e805ae575fd509f9265fe44a90ec9f5aaec5c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3177, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}