{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDExNzQwMTIz", "number": 1670, "title": "re-enable dynamic port selection for cli ITest", "bodyText": "JIRA Ticket: https://jira.lyrasis.org/browse/FCREPO-3281\nWhat does this Pull Request do?\nRe-enables dynamic port selection when the ITests are run from the CLI. ITests are still runnable using IDEs on port 8080.\nHow should this be tested?\n\nRun the ITests from the cli while another process has 8080 bound\nRun the ITests from Intellij or Eclipse\n\nAdditional Notes:\n\nbuild-helper-maven-plugin cannot override a default port value\nIntellij does not run build-helper-maven-plugin\n\nInterested parties\n@awoods @bbpennel", "createdAt": "2020-04-30T17:44:13Z", "url": "https://github.com/fcrepo/fcrepo/pull/1670", "merged": true, "mergeCommit": {"oid": "437bc719d55cb2794f58e89964bca11fd84d4da8"}, "closed": true, "closedAt": "2020-05-01T15:14:20Z", "author": {"login": "pwinckles"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccwp3aAH2gAyNDExNzQwMTIzOjZiMjVmM2IyMGYyZGE2ZTcxZWJhNjViZjA4MWI0ZGM4MWRmOWIwY2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcdA3oZgH2gAyNDExNzQwMTIzOjNkZWQ4ZTY2NTBmNWQ5MDEwNDM2ODBhOGQwNGE4MzA4ODg4MDMwYmI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6b25f3b20f2da6e71eba65bf081b4dc81df9b0ce", "author": {"user": {"login": "pwinckles", "name": "Peter Winckles"}}, "url": "https://github.com/fcrepo/fcrepo/commit/6b25f3b20f2da6e71eba65bf081b4dc81df9b0ce", "committedDate": "2020-04-30T17:37:08Z", "message": "re-enable dynamic port selection for cli ITest; while keeping IDE ITests working"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzNzY0NTMw", "url": "https://github.com/fcrepo/fcrepo/pull/1670#pullrequestreview-403764530", "createdAt": "2020-04-30T18:15:43Z", "commit": {"oid": "6b25f3b20f2da6e71eba65bf081b4dc81df9b0ce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxODoxNTo0M1rOGO05zw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxODoxNTo0M1rOGO05zw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODIwMDAxNQ==", "bodyText": "What purpose does looking for fcrepo.dynamic.test.port service, since you removed its being set in the pom.xml? https://github.com/fcrepo4/fcrepo4/pull/1670/files#diff-44094b67d49071d47bb32efe43678722L70", "url": "https://github.com/fcrepo/fcrepo/pull/1670#discussion_r418200015", "createdAt": "2020-04-30T18:15:43Z", "author": {"login": "awoods"}, "path": "fcrepo-auth-common/src/test/java/org/fcrepo/auth/integration/AbstractResourceIT.java", "diffHunk": "@@ -48,8 +52,8 @@ public void setLogger() {\n         logger = LoggerFactory.getLogger(this.getClass());\n     }\n \n-    private static final int SERVER_PORT = Integer.parseInt(System\n-            .getProperty(\"fcrepo.dynamic.test.port\", \"8080\"));\n+    private static final int SERVER_PORT = parseInt(Objects.requireNonNullElse(\n+            Strings.emptyToNull(System.getProperty(\"fcrepo.dynamic.test.port\")), \"8080\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6b25f3b20f2da6e71eba65bf081b4dc81df9b0ce"}, "originalPosition": 25}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0bfe522a01827dedfa5c05aa30bf60e588bef3f", "author": {"user": {"login": "pwinckles", "name": "Peter Winckles"}}, "url": "https://github.com/fcrepo/fcrepo/commit/c0bfe522a01827dedfa5c05aa30bf60e588bef3f", "committedDate": "2020-04-30T18:28:22Z", "message": "fix line length"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzODEwMTU3", "url": "https://github.com/fcrepo/fcrepo/pull/1670#pullrequestreview-403810157", "createdAt": "2020-04-30T19:21:06Z", "commit": {"oid": "c0bfe522a01827dedfa5c05aa30bf60e588bef3f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzODQ4NzE2", "url": "https://github.com/fcrepo/fcrepo/pull/1670#pullrequestreview-403848716", "createdAt": "2020-04-30T20:21:07Z", "commit": {"oid": "c0bfe522a01827dedfa5c05aa30bf60e588bef3f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ded8e6650f5d901043680a8d04a8308888030bb", "author": {"user": {"login": "pwinckles", "name": "Peter Winckles"}}, "url": "https://github.com/fcrepo/fcrepo/commit/3ded8e6650f5d901043680a8d04a8308888030bb", "committedDate": "2020-05-01T12:30:39Z", "message": "fix port when property is null"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3107, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}