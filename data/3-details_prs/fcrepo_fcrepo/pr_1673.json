{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEzMTU1Nzkw", "number": 1673, "title": "Adds support for continuous integration on travis by ensuring that ev\u2026", "bodyText": "\u2026ery untagged commit to master  is deployed to the sonatype snapshot repository.\nJIRA Ticket: https://jira.lyrasis.org/browse/FCREPO-3291\nHow should this be tested?\nSince this change involves updates to the .travis.yml file I believe the only way to be sure if it works is to merge it and see if the snapshot gets pushed to sonatype as expected.\nAdditional Notes:\nAny additional information that you think would be helpful when reviewing this PR.\nInterested parties\nTag (@ mention) interested parties or, if unsure, @fcrepo4/committers", "createdAt": "2020-05-04T20:02:14Z", "url": "https://github.com/fcrepo/fcrepo/pull/1673", "merged": true, "mergeCommit": {"oid": "0d1bf9e9274017514af8bcd10e80d43a4a1b6d89"}, "closed": true, "closedAt": "2020-05-07T16:17:12Z", "author": {"login": "dbernstein"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABceFu-tgFqTQwNTMzMzAwNw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcern1JAFqTQwNjgwNDQ2NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MzMzMDA3", "url": "https://github.com/fcrepo/fcrepo/pull/1673#pullrequestreview-405333007", "createdAt": "2020-05-04T20:44:39Z", "commit": {"oid": "280a53a7a43a5f9fd1921da085a715437254e75d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMDo0NDozOVrOGQRehw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQyMDo0NDozOVrOGQRehw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTcxNjc0Mw==", "bodyText": "I would these changes to live in: https://github.com/fcrepo4/fcrepo4/blob/master/fcrepo-parent/pom.xml", "url": "https://github.com/fcrepo/fcrepo/pull/1673#discussion_r419716743", "createdAt": "2020-05-04T20:44:39Z", "author": {"login": "awoods"}, "path": "pom.xml", "diffHunk": "@@ -76,6 +76,18 @@\n     <!-- default properties that can be altered on the command line -->\n     <fcrepo.test.context.path />\n   </properties>\n+\n+  <distributionManagement>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "280a53a7a43a5f9fd1921da085a715437254e75d"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "280a53a7a43a5f9fd1921da085a715437254e75d", "author": {"user": {"login": "dbernstein", "name": "dbernstein"}}, "url": "https://github.com/fcrepo/fcrepo/commit/280a53a7a43a5f9fd1921da085a715437254e75d", "committedDate": "2020-05-04T19:56:59Z", "message": "Adds support for continuous integration on travis by ensuring that every untagged commit to master  is\ndeployed to the sonatype snapshot repository.\n\nResolves the sonatype snapshot deployment part of  https://jira.lyrasis.org/browse/FCREPO-3291"}, "afterCommit": {"oid": "dfd1870eebad3bc03f6c1796e8371b9dc09e6891", "author": {"user": {"login": "dbernstein", "name": "dbernstein"}}, "url": "https://github.com/fcrepo/fcrepo/commit/dfd1870eebad3bc03f6c1796e8371b9dc09e6891", "committedDate": "2020-05-04T21:32:35Z", "message": "Adds support for continuous integration on travis by ensuring that every untagged commit to master  is\ndeployed to the sonatype snapshot repository.\n\nResolves the sonatype snapshot deployment part of  https://jira.lyrasis.org/browse/FCREPO-3291"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb0535bcdb5dc45cd0ede4c6eafa56a3e7ff351f", "author": {"user": {"login": "dbernstein", "name": "dbernstein"}}, "url": "https://github.com/fcrepo/fcrepo/commit/cb0535bcdb5dc45cd0ede4c6eafa56a3e7ff351f", "committedDate": "2020-05-04T21:47:25Z", "message": "Adds support for continuous integration on travis by ensuring that every untagged commit to master  is\ndeployed to the sonatype snapshot repository.\n\nResolves the sonatype snapshot deployment part of  https://jira.lyrasis.org/browse/FCREPO-3291"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dfd1870eebad3bc03f6c1796e8371b9dc09e6891", "author": {"user": {"login": "dbernstein", "name": "dbernstein"}}, "url": "https://github.com/fcrepo/fcrepo/commit/dfd1870eebad3bc03f6c1796e8371b9dc09e6891", "committedDate": "2020-05-04T21:32:35Z", "message": "Adds support for continuous integration on travis by ensuring that every untagged commit to master  is\ndeployed to the sonatype snapshot repository.\n\nResolves the sonatype snapshot deployment part of  https://jira.lyrasis.org/browse/FCREPO-3291"}, "afterCommit": {"oid": "cb0535bcdb5dc45cd0ede4c6eafa56a3e7ff351f", "author": {"user": {"login": "dbernstein", "name": "dbernstein"}}, "url": "https://github.com/fcrepo/fcrepo/commit/cb0535bcdb5dc45cd0ede4c6eafa56a3e7ff351f", "committedDate": "2020-05-04T21:47:25Z", "message": "Adds support for continuous integration on travis by ensuring that every untagged commit to master  is\ndeployed to the sonatype snapshot repository.\n\nResolves the sonatype snapshot deployment part of  https://jira.lyrasis.org/browse/FCREPO-3291"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1ODUxMDkx", "url": "https://github.com/fcrepo/fcrepo/pull/1673#pullrequestreview-405851091", "createdAt": "2020-05-05T14:35:28Z", "commit": {"oid": "cb0535bcdb5dc45cd0ede4c6eafa56a3e7ff351f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20520a066407778627cf8500b49d039fbd80599e", "author": {"user": {"login": "dbernstein", "name": "dbernstein"}}, "url": "https://github.com/fcrepo/fcrepo/commit/20520a066407778627cf8500b49d039fbd80599e", "committedDate": "2020-05-05T21:43:00Z", "message": "Moves pom.xml changes to fcrepo-parent/pom.xml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2MjM4ODAy", "url": "https://github.com/fcrepo/fcrepo/pull/1673#pullrequestreview-406238802", "createdAt": "2020-05-06T00:16:11Z", "commit": {"oid": "20520a066407778627cf8500b49d039fbd80599e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMDoxNjoxMVrOGRAJNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQwMDoyNDozMVrOGRASkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQ4MTMzMg==", "bodyText": "I would suggest using the existing distributionManagement block: https://github.com/fcrepo4/fcrepo4/blob/20520a066407778627cf8500b49d039fbd80599e/fcrepo-parent/pom.xml#L571-L586\n..and potentially align the serverId (https://github.com/fcrepo4/fcrepo4/pull/1673/files#diff-44094b67d49071d47bb32efe43678722R402).", "url": "https://github.com/fcrepo/fcrepo/pull/1673#discussion_r420481332", "createdAt": "2020-05-06T00:16:11Z", "author": {"login": "awoods"}, "path": "fcrepo-parent/pom.xml", "diffHunk": "@@ -69,6 +69,17 @@\n     <sonar.jacoco.itReportPath>${jacoco.outputDir}/${jacoco.out.it.file}</sonar.jacoco.itReportPath>\n   </properties>\n \n+  <distributionManagement>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20520a066407778627cf8500b49d039fbd80599e"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQ4MjY0MA==", "bodyText": "We already have this plugin: https://github.com/fcrepo4/fcrepo4/blob/master/fcrepo-parent/pom.xml#L497-L519", "url": "https://github.com/fcrepo/fcrepo/pull/1673#discussion_r420482640", "createdAt": "2020-05-06T00:20:38Z", "author": {"login": "awoods"}, "path": "fcrepo-parent/pom.xml", "diffHunk": "@@ -382,6 +393,33 @@\n           <artifactId>jacoco-maven-plugin</artifactId>\n           <version>${jacoco.plugin.version}</version>\n         </plugin>\n+        <plugin>\n+          <groupId>org.sonatype.plugins</groupId>\n+          <artifactId>nexus-staging-maven-plugin</artifactId>\n+          <version>1.6.8</version>\n+          <extensions>true</extensions>\n+          <configuration>\n+            <serverId>ossrh</serverId>\n+            <nexusUrl>https://oss.sonatype.org/</nexusUrl>\n+            <autoReleaseAfterClose>true</autoReleaseAfterClose>\n+          </configuration>\n+        </plugin>\n+\n+        <plugin>\n+          <groupId>org.apache.maven.plugins</groupId>\n+          <artifactId>maven-gpg-plugin</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20520a066407778627cf8500b49d039fbd80599e"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDQ4MzczMA==", "bodyText": "Can probably remove this file from this pull-request.", "url": "https://github.com/fcrepo/fcrepo/pull/1673#discussion_r420483730", "createdAt": "2020-05-06T00:24:31Z", "author": {"login": "awoods"}, "path": "pom.xml", "diffHunk": "@@ -76,6 +76,7 @@\n     <!-- default properties that can be altered on the command line -->\n     <fcrepo.test.context.path />\n   </properties>\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20520a066407778627cf8500b49d039fbd80599e"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "63202b8851be5ddd9bd160253c85a4bd86329ebb", "author": {"user": {"login": "dbernstein", "name": "dbernstein"}}, "url": "https://github.com/fcrepo/fcrepo/commit/63202b8851be5ddd9bd160253c85a4bd86329ebb", "committedDate": "2020-05-06T04:05:37Z", "message": "Removes duplicate plugin references\nRemoves remaining new line change from pom.xml\nRemovese duplicate distributionManagement section.\nAligns server id references."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61493199586c816533ff10fd4361825ce57b3cd9", "author": {"user": null}, "url": "https://github.com/fcrepo/fcrepo/commit/61493199586c816533ff10fd4361825ce57b3cd9", "committedDate": "2020-05-06T16:34:54Z", "message": "change order of lifecycle phases in .travis.yml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2ODA0NDY0", "url": "https://github.com/fcrepo/fcrepo/pull/1673#pullrequestreview-406804464", "createdAt": "2020-05-06T16:53:14Z", "commit": {"oid": "61493199586c816533ff10fd4361825ce57b3cd9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3113, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}