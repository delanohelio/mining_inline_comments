{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzMDc0MDkx", "number": 1698, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDoyNDozM1rOEEtRbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDo0NTo1NFrOEEt1Cw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMzcxNTAyOnYy", "diffSide": "RIGHT", "path": "fcrepo-configs/src/main/java/org/fcrepo/config/FedoraPropsConfig.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDoyNDozM1rOGifyJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNTowMjoxMFrOGihaUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgyNTUwOQ==", "bodyText": "Have you tested these with IntelliJ and Eclipse? It would be good to get @bbpennel 's sign-off.", "url": "https://github.com/fcrepo/fcrepo/pull/1698#discussion_r438825509", "createdAt": "2020-06-11T14:24:33Z", "author": {"login": "awoods"}, "path": "fcrepo-configs/src/main/java/org/fcrepo/config/FedoraPropsConfig.java", "diffHunk": "@@ -0,0 +1,87 @@\n+/*\n+ * Licensed to DuraSpace under one or more contributor license agreements.\n+ * See the NOTICE file distributed with this work for additional information\n+ * regarding copyright ownership.\n+ *\n+ * DuraSpace licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except in\n+ * compliance with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.fcrepo.config;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.beans.factory.annotation.Value;\n+import org.springframework.context.annotation.Configuration;\n+\n+import javax.annotation.PostConstruct;\n+import java.io.IOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+\n+/**\n+ * General Fedora properties\n+ */\n+@Configuration\n+public class FedoraPropsConfig {\n+\n+    private static final Logger LOGGER = LoggerFactory.getLogger(FedoraPropsConfig.class);\n+\n+    private static final String DATA_DIR = \"data\";\n+\n+    @Value(\"${fcrepo.home:fcrepo}\")\n+    private Path fedoraHome;\n+\n+    @Value(\"#{fedoraPropsConfig.fedoraHome.resolve('\" + DATA_DIR + \"')}\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3ff5fa7c0790358dd9b9e057869c20582ae09b9"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg1MjE3OA==", "bodyText": "Have not tested in Eclipse", "url": "https://github.com/fcrepo/fcrepo/pull/1698#discussion_r438852178", "createdAt": "2020-06-11T15:02:10Z", "author": {"login": "pwinckles"}, "path": "fcrepo-configs/src/main/java/org/fcrepo/config/FedoraPropsConfig.java", "diffHunk": "@@ -0,0 +1,87 @@\n+/*\n+ * Licensed to DuraSpace under one or more contributor license agreements.\n+ * See the NOTICE file distributed with this work for additional information\n+ * regarding copyright ownership.\n+ *\n+ * DuraSpace licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except in\n+ * compliance with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.fcrepo.config;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.beans.factory.annotation.Value;\n+import org.springframework.context.annotation.Configuration;\n+\n+import javax.annotation.PostConstruct;\n+import java.io.IOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+\n+/**\n+ * General Fedora properties\n+ */\n+@Configuration\n+public class FedoraPropsConfig {\n+\n+    private static final Logger LOGGER = LoggerFactory.getLogger(FedoraPropsConfig.class);\n+\n+    private static final String DATA_DIR = \"data\";\n+\n+    @Value(\"${fcrepo.home:fcrepo}\")\n+    private Path fedoraHome;\n+\n+    @Value(\"#{fedoraPropsConfig.fedoraHome.resolve('\" + DATA_DIR + \"')}\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgyNTUwOQ=="}, "originalCommit": {"oid": "e3ff5fa7c0790358dd9b9e057869c20582ae09b9"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMzcyNTAzOnYy", "diffSide": "RIGHT", "path": "fcrepo-configs/src/main/java/org/fcrepo/config/FedoraPropsConfig.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDoyNjo1MlrOGif4rw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNTo0NDoyNlrOGijcow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgyNzE4Mw==", "bodyText": "Please add @author javadoc... and ideally, @since 2020-06-11.\nOur checkstyle used to enforce the @author... not sure why that is no longer working, hmm.", "url": "https://github.com/fcrepo/fcrepo/pull/1698#discussion_r438827183", "createdAt": "2020-06-11T14:26:52Z", "author": {"login": "awoods"}, "path": "fcrepo-configs/src/main/java/org/fcrepo/config/FedoraPropsConfig.java", "diffHunk": "@@ -0,0 +1,87 @@\n+/*\n+ * Licensed to DuraSpace under one or more contributor license agreements.\n+ * See the NOTICE file distributed with this work for additional information\n+ * regarding copyright ownership.\n+ *\n+ * DuraSpace licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except in\n+ * compliance with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.fcrepo.config;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.beans.factory.annotation.Value;\n+import org.springframework.context.annotation.Configuration;\n+\n+import javax.annotation.PostConstruct;\n+import java.io.IOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+\n+/**\n+ * General Fedora properties\n+ */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3ff5fa7c0790358dd9b9e057869c20582ae09b9"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg2MjczMg==", "bodyText": "Also, I learned that @since is supposed to list the first version the class was added so you can tell when it became part of the codebase. I used to list date, but now am trying to stick @since 6.0.0 in new ones. \ud83e\udd37", "url": "https://github.com/fcrepo/fcrepo/pull/1698#discussion_r438862732", "createdAt": "2020-06-11T15:17:32Z", "author": {"login": "whikloj"}, "path": "fcrepo-configs/src/main/java/org/fcrepo/config/FedoraPropsConfig.java", "diffHunk": "@@ -0,0 +1,87 @@\n+/*\n+ * Licensed to DuraSpace under one or more contributor license agreements.\n+ * See the NOTICE file distributed with this work for additional information\n+ * regarding copyright ownership.\n+ *\n+ * DuraSpace licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except in\n+ * compliance with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.fcrepo.config;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.beans.factory.annotation.Value;\n+import org.springframework.context.annotation.Configuration;\n+\n+import javax.annotation.PostConstruct;\n+import java.io.IOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+\n+/**\n+ * General Fedora properties\n+ */", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgyNzE4Mw=="}, "originalCommit": {"oid": "e3ff5fa7c0790358dd9b9e057869c20582ae09b9"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg4NTUzOQ==", "bodyText": "done", "url": "https://github.com/fcrepo/fcrepo/pull/1698#discussion_r438885539", "createdAt": "2020-06-11T15:44:26Z", "author": {"login": "pwinckles"}, "path": "fcrepo-configs/src/main/java/org/fcrepo/config/FedoraPropsConfig.java", "diffHunk": "@@ -0,0 +1,87 @@\n+/*\n+ * Licensed to DuraSpace under one or more contributor license agreements.\n+ * See the NOTICE file distributed with this work for additional information\n+ * regarding copyright ownership.\n+ *\n+ * DuraSpace licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except in\n+ * compliance with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.fcrepo.config;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.beans.factory.annotation.Value;\n+import org.springframework.context.annotation.Configuration;\n+\n+import javax.annotation.PostConstruct;\n+import java.io.IOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+\n+/**\n+ * General Fedora properties\n+ */", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgyNzE4Mw=="}, "originalCommit": {"oid": "e3ff5fa7c0790358dd9b9e057869c20582ae09b9"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMzcyNTY5OnYy", "diffSide": "RIGHT", "path": "fcrepo-configs/src/main/java/org/fcrepo/config/OcflPropsConfig.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDoyNzowMlrOGif5Gg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNTo0NDozNVrOGijdDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgyNzI5MA==", "bodyText": "Please add @author javadoc... and ideally, @since 2020-06-11.", "url": "https://github.com/fcrepo/fcrepo/pull/1698#discussion_r438827290", "createdAt": "2020-06-11T14:27:02Z", "author": {"login": "awoods"}, "path": "fcrepo-configs/src/main/java/org/fcrepo/config/OcflPropsConfig.java", "diffHunk": "@@ -0,0 +1,110 @@\n+/*\n+ * Licensed to DuraSpace under one or more contributor license agreements.\n+ * See the NOTICE file distributed with this work for additional information\n+ * regarding copyright ownership.\n+ *\n+ * DuraSpace licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except in\n+ * compliance with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.fcrepo.config;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.beans.factory.annotation.Value;\n+import org.springframework.context.annotation.Configuration;\n+\n+import javax.annotation.PostConstruct;\n+import java.io.IOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+\n+/**\n+ * Fedora's OCFL related configuration properties", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3ff5fa7c0790358dd9b9e057869c20582ae09b9"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg4NTY0Ng==", "bodyText": "done", "url": "https://github.com/fcrepo/fcrepo/pull/1698#discussion_r438885646", "createdAt": "2020-06-11T15:44:35Z", "author": {"login": "pwinckles"}, "path": "fcrepo-configs/src/main/java/org/fcrepo/config/OcflPropsConfig.java", "diffHunk": "@@ -0,0 +1,110 @@\n+/*\n+ * Licensed to DuraSpace under one or more contributor license agreements.\n+ * See the NOTICE file distributed with this work for additional information\n+ * regarding copyright ownership.\n+ *\n+ * DuraSpace licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except in\n+ * compliance with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.fcrepo.config;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.beans.factory.annotation.Value;\n+import org.springframework.context.annotation.Configuration;\n+\n+import javax.annotation.PostConstruct;\n+import java.io.IOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+\n+/**\n+ * Fedora's OCFL related configuration properties", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgyNzI5MA=="}, "originalCommit": {"oid": "e3ff5fa7c0790358dd9b9e057869c20582ae09b9"}, "originalPosition": 32}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMzcyOTczOnYy", "diffSide": "RIGHT", "path": "fcrepo-configs/src/main/java/org/fcrepo/config/OcflPropsConfig.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDoyNzo1NFrOGif7oA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNTo0NDo0NFrOGijdfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgyNzkzNg==", "bodyText": "Normally I do not like the logs to be too chatty... but these three messages are important to see at startup.\nCan you change them to LOGGER.info()?", "url": "https://github.com/fcrepo/fcrepo/pull/1698#discussion_r438827936", "createdAt": "2020-06-11T14:27:54Z", "author": {"login": "awoods"}, "path": "fcrepo-configs/src/main/java/org/fcrepo/config/OcflPropsConfig.java", "diffHunk": "@@ -0,0 +1,110 @@\n+/*\n+ * Licensed to DuraSpace under one or more contributor license agreements.\n+ * See the NOTICE file distributed with this work for additional information\n+ * regarding copyright ownership.\n+ *\n+ * DuraSpace licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except in\n+ * compliance with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.fcrepo.config;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.beans.factory.annotation.Value;\n+import org.springframework.context.annotation.Configuration;\n+\n+import javax.annotation.PostConstruct;\n+import java.io.IOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+\n+/**\n+ * Fedora's OCFL related configuration properties\n+ */\n+@Configuration\n+public class OcflPropsConfig {\n+\n+    private static final Logger LOGGER = LoggerFactory.getLogger(OcflPropsConfig.class);\n+\n+    private static final String OCFL_STAGING = \"staging\";\n+    private static final String OCFL_ROOT = \"ocfl-root\";\n+    private static final String OCFL_TEMP = \"ocfl-temp\";\n+\n+    @Value(\"${fcrepo.ocfl.staging:#{fedoraPropsConfig.fedoraData.resolve('\" + OCFL_STAGING + \"')}}\")\n+    private Path fedoraOcflStaging;\n+\n+    @Value(\"${fcrepo.ocfl.root:#{fedoraPropsConfig.fedoraData.resolve('\" + OCFL_ROOT + \"')}}\")\n+    private Path ocflRepoRoot;\n+\n+    @Value(\"${fcrepo.ocfl.temp:#{fedoraPropsConfig.fedoraData.resolve('\" + OCFL_TEMP + \"')}}\")\n+    private Path ocflTemp;\n+\n+    @PostConstruct\n+    private void postConstruct() throws IOException {\n+        LOGGER.debug(\"Fedora staging: {}\", fedoraOcflStaging);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3ff5fa7c0790358dd9b9e057869c20582ae09b9"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg4NTc1Ng==", "bodyText": "done", "url": "https://github.com/fcrepo/fcrepo/pull/1698#discussion_r438885756", "createdAt": "2020-06-11T15:44:44Z", "author": {"login": "pwinckles"}, "path": "fcrepo-configs/src/main/java/org/fcrepo/config/OcflPropsConfig.java", "diffHunk": "@@ -0,0 +1,110 @@\n+/*\n+ * Licensed to DuraSpace under one or more contributor license agreements.\n+ * See the NOTICE file distributed with this work for additional information\n+ * regarding copyright ownership.\n+ *\n+ * DuraSpace licenses this file to you under the Apache License,\n+ * Version 2.0 (the \"License\"); you may not use this file except in\n+ * compliance with the License.  You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.fcrepo.config;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+import org.springframework.beans.factory.annotation.Value;\n+import org.springframework.context.annotation.Configuration;\n+\n+import javax.annotation.PostConstruct;\n+import java.io.IOException;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+\n+/**\n+ * Fedora's OCFL related configuration properties\n+ */\n+@Configuration\n+public class OcflPropsConfig {\n+\n+    private static final Logger LOGGER = LoggerFactory.getLogger(OcflPropsConfig.class);\n+\n+    private static final String OCFL_STAGING = \"staging\";\n+    private static final String OCFL_ROOT = \"ocfl-root\";\n+    private static final String OCFL_TEMP = \"ocfl-temp\";\n+\n+    @Value(\"${fcrepo.ocfl.staging:#{fedoraPropsConfig.fedoraData.resolve('\" + OCFL_STAGING + \"')}}\")\n+    private Path fedoraOcflStaging;\n+\n+    @Value(\"${fcrepo.ocfl.root:#{fedoraPropsConfig.fedoraData.resolve('\" + OCFL_ROOT + \"')}}\")\n+    private Path ocflRepoRoot;\n+\n+    @Value(\"${fcrepo.ocfl.temp:#{fedoraPropsConfig.fedoraData.resolve('\" + OCFL_TEMP + \"')}}\")\n+    private Path ocflTemp;\n+\n+    @PostConstruct\n+    private void postConstruct() throws IOException {\n+        LOGGER.debug(\"Fedora staging: {}\", fedoraOcflStaging);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgyNzkzNg=="}, "originalCommit": {"oid": "e3ff5fa7c0790358dd9b9e057869c20582ae09b9"}, "originalPosition": 54}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMzc0MzA3OnYy", "diffSide": "RIGHT", "path": "fcrepo-http-api/src/test/java/org/fcrepo/integration/http/api/RebuildIT.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDozMDo0OVrOGigERg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNTo0NDo1MlrOGijdzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgzMDE1MA==", "bodyText": "Would it make sense to define this constant statically on OcflPropsConfig.java?", "url": "https://github.com/fcrepo/fcrepo/pull/1698#discussion_r438830150", "createdAt": "2020-06-11T14:30:49Z", "author": {"login": "awoods"}, "path": "fcrepo-http-api/src/test/java/org/fcrepo/integration/http/api/RebuildIT.java", "diffHunk": "@@ -57,28 +54,20 @@\n \n     private static final Logger LOGGER = LoggerFactory.getLogger(RebuildIT.class);\n \n-    private static String origStorageRootDir;\n-    private static String origWorkDir;\n+    private static final String OCFL_ROOT_PROP = \"fcrepo.ocfl.root\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3ff5fa7c0790358dd9b9e057869c20582ae09b9"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg4NTgzNg==", "bodyText": "done", "url": "https://github.com/fcrepo/fcrepo/pull/1698#discussion_r438885836", "createdAt": "2020-06-11T15:44:52Z", "author": {"login": "pwinckles"}, "path": "fcrepo-http-api/src/test/java/org/fcrepo/integration/http/api/RebuildIT.java", "diffHunk": "@@ -57,28 +54,20 @@\n \n     private static final Logger LOGGER = LoggerFactory.getLogger(RebuildIT.class);\n \n-    private static String origStorageRootDir;\n-    private static String origWorkDir;\n+    private static final String OCFL_ROOT_PROP = \"fcrepo.ocfl.root\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgzMDE1MA=="}, "originalCommit": {"oid": "e3ff5fa7c0790358dd9b9e057869c20582ae09b9"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMzc0ODM5OnYy", "diffSide": "RIGHT", "path": "fcrepo-http-api/src/test/java/org/fcrepo/integration/http/api/RebuildIT.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDozMjowMVrOGigHjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNTowMzowN1rOGihc-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgzMDk4OQ==", "bodyText": "Is there a potential need to reset the value of this property to what it was before this test?", "url": "https://github.com/fcrepo/fcrepo/pull/1698#discussion_r438830989", "createdAt": "2020-06-11T14:32:01Z", "author": {"login": "awoods"}, "path": "fcrepo-http-api/src/test/java/org/fcrepo/integration/http/api/RebuildIT.java", "diffHunk": "@@ -57,28 +54,20 @@\n \n     private static final Logger LOGGER = LoggerFactory.getLogger(RebuildIT.class);\n \n-    private static String origStorageRootDir;\n-    private static String origWorkDir;\n+    private static final String OCFL_ROOT_PROP = \"fcrepo.ocfl.root\";\n \n     private OcflRepository ocflRepository;\n \n     private IndexBuilder indexBuilder;\n \n     @BeforeClass\n     public static void beforeClass() {\n-        // Save the pre-test System Property values\n-        origStorageRootDir = getProperty(OCFL_STORAGE_ROOT_DIR_KEY);\n-        origWorkDir = getProperty(OCFL_WORK_DIR_KEY);\n-\n-        System.setProperty(OCFL_STORAGE_ROOT_DIR_KEY, \"target/test-classes/test-rebuild-ocfl/ocfl-root\");\n-        System.setProperty(OCFL_WORK_DIR_KEY, \"target/test-classes/test-rebuild-ocfl/ocfl-work\");\n+        System.setProperty(OCFL_ROOT_PROP, \"target/test-classes/test-rebuild-ocfl/ocfl-root\");\n     }\n \n     @AfterClass\n     public static void afterClass() {\n-        // Restore pre-test System Property values\n-        System.setProperty(OCFL_STORAGE_ROOT_DIR_KEY, origStorageRootDir);\n-        System.setProperty(OCFL_WORK_DIR_KEY, origWorkDir);\n+        System.clearProperty(OCFL_ROOT_PROP);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3ff5fa7c0790358dd9b9e057869c20582ae09b9"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg1Mjg1Ng==", "bodyText": "Since the default is to NOT have that property set, any test that is setting the property should clear it when they're done.", "url": "https://github.com/fcrepo/fcrepo/pull/1698#discussion_r438852856", "createdAt": "2020-06-11T15:03:07Z", "author": {"login": "pwinckles"}, "path": "fcrepo-http-api/src/test/java/org/fcrepo/integration/http/api/RebuildIT.java", "diffHunk": "@@ -57,28 +54,20 @@\n \n     private static final Logger LOGGER = LoggerFactory.getLogger(RebuildIT.class);\n \n-    private static String origStorageRootDir;\n-    private static String origWorkDir;\n+    private static final String OCFL_ROOT_PROP = \"fcrepo.ocfl.root\";\n \n     private OcflRepository ocflRepository;\n \n     private IndexBuilder indexBuilder;\n \n     @BeforeClass\n     public static void beforeClass() {\n-        // Save the pre-test System Property values\n-        origStorageRootDir = getProperty(OCFL_STORAGE_ROOT_DIR_KEY);\n-        origWorkDir = getProperty(OCFL_WORK_DIR_KEY);\n-\n-        System.setProperty(OCFL_STORAGE_ROOT_DIR_KEY, \"target/test-classes/test-rebuild-ocfl/ocfl-root\");\n-        System.setProperty(OCFL_WORK_DIR_KEY, \"target/test-classes/test-rebuild-ocfl/ocfl-work\");\n+        System.setProperty(OCFL_ROOT_PROP, \"target/test-classes/test-rebuild-ocfl/ocfl-root\");\n     }\n \n     @AfterClass\n     public static void afterClass() {\n-        // Restore pre-test System Property values\n-        System.setProperty(OCFL_STORAGE_ROOT_DIR_KEY, origStorageRootDir);\n-        System.setProperty(OCFL_WORK_DIR_KEY, origWorkDir);\n+        System.clearProperty(OCFL_ROOT_PROP);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgzMDk4OQ=="}, "originalCommit": {"oid": "e3ff5fa7c0790358dd9b9e057869c20582ae09b9"}, "originalPosition": 45}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMzgwMDk0OnYy", "diffSide": "RIGHT", "path": "fcrepo-persistence-ocfl/src/main/java/org/fcrepo/persistence/ocfl/impl/DefaultOCFLObjectSessionFactory.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDo0NDo0NlrOGigp5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNTo0NTowM1rOGijebw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgzOTc4MA==", "bodyText": "Maybe reduce this logging to debug, in favor of the cleaner output of OcflPropsConfig.", "url": "https://github.com/fcrepo/fcrepo/pull/1698#discussion_r438839780", "createdAt": "2020-06-11T14:44:46Z", "author": {"login": "awoods"}, "path": "fcrepo-persistence-ocfl/src/main/java/org/fcrepo/persistence/ocfl/impl/DefaultOCFLObjectSessionFactory.java", "diffHunk": "@@ -52,39 +56,36 @@\n     @Value(\"${fcrepo.autoversioning.enabled:true}\")\n     private boolean autoVersioningEnabled;\n \n-    private File ocflStagingDir;\n+    private final Path ocflStagingDir;\n \n     @Inject\n     private MutableOcflRepository ocflRepository;\n \n-    /**\n-     * Default Constructor.  You can set the ocfl staging, storage root, and work directories by setting the following\n-     * system properties: fcrepo.ocfl.staging.dir, fcrepo.ocfl.storage.root.dir, and  fcrepo.ocfl.work.dir.  If these\n-     * are not set, default directories will be created in java.io.tmpdir.\n-     */\n-    public DefaultOCFLObjectSessionFactory() {\n-        this(new OCFLConstants().getStagingDir());\n-    }\n-\n     /**\n      * Constructor\n      *\n      * @param ocflStagingDir     The OCFL staging directory\n      */\n-    public DefaultOCFLObjectSessionFactory(final File ocflStagingDir) {\n+    @Autowired\n+    public DefaultOCFLObjectSessionFactory(\n+            @Value(\"#{ocflPropsConfig.fedoraOcflStaging}\")\n+            final Path ocflStagingDir) {\n         LOGGER.info(\"Fedora OCFL persistence staging directory:\\n- {}\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3ff5fa7c0790358dd9b9e057869c20582ae09b9"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg4NTk5OQ==", "bodyText": "done", "url": "https://github.com/fcrepo/fcrepo/pull/1698#discussion_r438885999", "createdAt": "2020-06-11T15:45:03Z", "author": {"login": "pwinckles"}, "path": "fcrepo-persistence-ocfl/src/main/java/org/fcrepo/persistence/ocfl/impl/DefaultOCFLObjectSessionFactory.java", "diffHunk": "@@ -52,39 +56,36 @@\n     @Value(\"${fcrepo.autoversioning.enabled:true}\")\n     private boolean autoVersioningEnabled;\n \n-    private File ocflStagingDir;\n+    private final Path ocflStagingDir;\n \n     @Inject\n     private MutableOcflRepository ocflRepository;\n \n-    /**\n-     * Default Constructor.  You can set the ocfl staging, storage root, and work directories by setting the following\n-     * system properties: fcrepo.ocfl.staging.dir, fcrepo.ocfl.storage.root.dir, and  fcrepo.ocfl.work.dir.  If these\n-     * are not set, default directories will be created in java.io.tmpdir.\n-     */\n-    public DefaultOCFLObjectSessionFactory() {\n-        this(new OCFLConstants().getStagingDir());\n-    }\n-\n     /**\n      * Constructor\n      *\n      * @param ocflStagingDir     The OCFL staging directory\n      */\n-    public DefaultOCFLObjectSessionFactory(final File ocflStagingDir) {\n+    @Autowired\n+    public DefaultOCFLObjectSessionFactory(\n+            @Value(\"#{ocflPropsConfig.fedoraOcflStaging}\")\n+            final Path ocflStagingDir) {\n         LOGGER.info(\"Fedora OCFL persistence staging directory:\\n- {}\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgzOTc4MA=="}, "originalCommit": {"oid": "e3ff5fa7c0790358dd9b9e057869c20582ae09b9"}, "originalPosition": 49}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMzgwNjE5OnYy", "diffSide": "RIGHT", "path": "fcrepo-persistence-ocfl/src/main/java/org/fcrepo/persistence/ocfl/impl/OCFLPersistentStorageUtils.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDo0NTo1NFrOGigtLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNTo0NToxMFrOGije5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg0MDYyMA==", "bodyText": "Maybe reduce this logging to debug, in favor of the cleaner output of OcflPropsConfig.", "url": "https://github.com/fcrepo/fcrepo/pull/1698#discussion_r438840620", "createdAt": "2020-06-11T14:45:54Z", "author": {"login": "awoods"}, "path": "fcrepo-persistence-ocfl/src/main/java/org/fcrepo/persistence/ocfl/impl/OCFLPersistentStorageUtils.java", "diffHunk": "@@ -385,15 +386,16 @@ public static String mintOCFLObjectId(final String fedoraIdentifier) {\n      * @param ocflWorkDir The ocfl work directory\n      * @return the repository\n      */\n-    public static MutableOcflRepository createRepository(final File ocflStorageRootDir, final File ocflWorkDir) {\n-        ocflStorageRootDir.mkdirs();\n-        ocflWorkDir.mkdirs();\n+    public static MutableOcflRepository createRepository(final Path ocflStorageRootDir, final Path ocflWorkDir)\n+            throws IOException {\n+        Files.createDirectories(ocflStorageRootDir);\n+        Files.createDirectories(ocflWorkDir);\n \n         log.info(\"Fedora OCFL persistence directories:\\n- {}\\n- {}\", ocflStorageRootDir, ocflWorkDir);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e3ff5fa7c0790358dd9b9e057869c20582ae09b9"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg4NjExOQ==", "bodyText": "done", "url": "https://github.com/fcrepo/fcrepo/pull/1698#discussion_r438886119", "createdAt": "2020-06-11T15:45:10Z", "author": {"login": "pwinckles"}, "path": "fcrepo-persistence-ocfl/src/main/java/org/fcrepo/persistence/ocfl/impl/OCFLPersistentStorageUtils.java", "diffHunk": "@@ -385,15 +386,16 @@ public static String mintOCFLObjectId(final String fedoraIdentifier) {\n      * @param ocflWorkDir The ocfl work directory\n      * @return the repository\n      */\n-    public static MutableOcflRepository createRepository(final File ocflStorageRootDir, final File ocflWorkDir) {\n-        ocflStorageRootDir.mkdirs();\n-        ocflWorkDir.mkdirs();\n+    public static MutableOcflRepository createRepository(final Path ocflStorageRootDir, final Path ocflWorkDir)\n+            throws IOException {\n+        Files.createDirectories(ocflStorageRootDir);\n+        Files.createDirectories(ocflWorkDir);\n \n         log.info(\"Fedora OCFL persistence directories:\\n- {}\\n- {}\", ocflStorageRootDir, ocflWorkDir);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODg0MDYyMA=="}, "originalCommit": {"oid": "e3ff5fa7c0790358dd9b9e057869c20582ae09b9"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1850, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}