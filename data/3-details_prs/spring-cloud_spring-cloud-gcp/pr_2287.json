{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk0NTIyNTY2", "number": 2287, "title": "Update trace docs now that the trace scheduler is hidden", "bodyText": "This is a leftover documentation task from #2016. After the trace scheduler bean was removed in #2158, this PR removes the following wording: \" This is especially a problem because our starter comes with an executor. To avoid this noise, please disable automatic instrumentation of executors via spring.sleuth.scheduled.enabled=false in your application configuration.\"\nI left the overall warning in place, though, because this will still be a problem when combined with any other starters (for example, our Pub/Sub starter) that add scheduler beans to context.\nI also updated the branding from Stackdriver to Cloud Trace where possible (per rebranding announcement). The code stays prefixed with Stackdriver.\nCloses #2016.", "createdAt": "2020-03-27T02:55:48Z", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2287", "merged": true, "mergeCommit": {"oid": "07d1a7d20f02e6f6065f55675cadeccc20a2dd93"}, "closed": true, "closedAt": "2020-03-27T21:52:57Z", "author": {"login": "elefeint"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRnjUOAH2gAyMzk0NTIyNTY2OjYxNDYwYWY4ZWE3MzZkNGRhMTQxYmVhYTRjMWM2Y2FlYzM3MDBmN2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcR3qQsAFqTM4MzIxMjgwOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "61460af8ea736d4da141beaa4c1c6caec3700f7b", "author": {"user": {"login": "elefeint", "name": "Elena Felder"}}, "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/61460af8ea736d4da141beaa4c1c6caec3700f7b", "committedDate": "2020-03-27T02:47:40Z", "message": "remove trace starter-specific mentions; replace Stackdriver with cloud trace where possible"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyOTA2MDMx", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2287#pullrequestreview-382906031", "createdAt": "2020-03-27T14:26:35Z", "commit": {"oid": "61460af8ea736d4da141beaa4c1c6caec3700f7b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxNDoyNjozNVrOF8zhBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QxNDoyNjozNVrOF8zhBQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTMwMjkxNw==", "bodyText": "Are we sure that the name is always async? Maybe just remove the warning altogether?\nIf we do keep this warning, can we mention how to disable them with spring.sleuth.scheduled.enabled=false?", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2287#discussion_r399302917", "createdAt": "2020-03-27T14:26:35Z", "author": {"login": "meltsufin"}, "path": "docs/src/main/asciidoc/trace.adoc", "diffHunk": "@@ -89,21 +89,21 @@ For example, when you are testing to see the traces are going through, you can s\n \n [source]\n ----\n-spring.sleuth.sampler.probability=1                     # Send 100% of the request traces to Stackdriver.\n+spring.sleuth.sampler.probability=1                     # Send 100% of the request traces to Cloud Trace.\n spring.sleuth.web.skipPattern=(^cleanup.*|.+favicon.*)  # Ignore some URL paths.\n spring.sleuth.scheduled.enabled=false                   # disable executor 'async' traces\n ----\n \n-WARNING: By default, Spring Cloud Sleuth auto-configuration instruments executor beans, which causes many traces with the name `async` to appear in Stackdriver Trace. This is especially a problem because our starter comes with an executor. To avoid this noise, please disable automatic instrumentation of executors via `spring.sleuth.scheduled.enabled=false` in your application configuration.\n+WARNING: By default, Spring Cloud Sleuth auto-configuration instruments executor beans, which may cause recurring traces with the name `async` to appear in Cloud Trace if your application or one of its dependencies introduces scheduler beans into Spring application context.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "61460af8ea736d4da141beaa4c1c6caec3700f7b"}, "originalPosition": 77}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "835808bd3ddedcd4e91922ffb5dcb77112df261f", "author": {"user": {"login": "elefeint", "name": "Elena Felder"}}, "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/835808bd3ddedcd4e91922ffb5dcb77112df261f", "committedDate": "2020-03-27T20:29:44Z", "message": "back out Stackdriver renaming, add back directions for removing noise"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3e639fb8a272ee9298061bd40d1ca44d807b009d", "author": {"user": {"login": "elefeint", "name": "Elena Felder"}}, "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/3e639fb8a272ee9298061bd40d1ca44d807b009d", "committedDate": "2020-03-27T20:30:41Z", "message": "missed one renaming"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMjEyODA5", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2287#pullrequestreview-383212809", "createdAt": "2020-03-27T21:33:44Z", "commit": {"oid": "3e639fb8a272ee9298061bd40d1ca44d807b009d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 586, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}