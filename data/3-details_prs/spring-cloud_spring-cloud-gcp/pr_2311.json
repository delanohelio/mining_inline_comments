{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyMDcyNDQ0", "number": 2311, "title": "Cleanup Secret Manager module organization", "bodyText": "Some cleanup for secret manager module.\n\nMove property source integration test from autoconfigure/ to secret-manager/\nChange to using Assert.hasText(...)", "createdAt": "2020-04-10T21:14:50Z", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2311", "merged": true, "mergeCommit": {"oid": "1db1071b996a3381f317a461c67bf1a8f86551a8"}, "closed": true, "closedAt": "2020-04-14T13:52:21Z", "author": {"login": "dzou"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcWXm_KgH2gAyNDAyMDcyNDQ0OmJiNmU2N2FiYWRhMGNhMmFlMjMyMmZkMmQxNjYwNmMyNzQ1ODZmODU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcXjz0WgFqTM5Mjk0NTEwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "bb6e67abada0ca2ae2322fd2d16606c274586f85", "author": {"user": {"login": "dzou", "name": "Daniel Zou"}}, "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/bb6e67abada0ca2ae2322fd2d16606c274586f85", "committedDate": "2020-04-10T21:02:49Z", "message": "Cleanup secret manager module"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d010fdc592c84374259e7d745931fe82eb5bf9c6", "author": {"user": {"login": "dzou", "name": "Daniel Zou"}}, "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/d010fdc592c84374259e7d745931fe82eb5bf9c6", "committedDate": "2020-04-10T21:11:57Z", "message": "rename it"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "305b3239b341a06d781b265585e67881b7a83e91", "author": {"user": {"login": "dzou", "name": "Daniel Zou"}}, "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/305b3239b341a06d781b265585e67881b7a83e91", "committedDate": "2020-04-10T21:13:16Z", "message": "revert SM test changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNjcyMTA0", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2311#pullrequestreview-391672104", "createdAt": "2020-04-10T21:27:32Z", "commit": {"oid": "305b3239b341a06d781b265585e67881b7a83e91"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMToyNzozMlrOGEGVFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xMFQyMTozNjoyOVrOGEGgKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk1MTE5MA==", "bodyText": "We're losing this test now.", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2311#discussion_r406951190", "createdAt": "2020-04-10T21:27:32Z", "author": {"login": "meltsufin"}, "path": "spring-cloud-gcp-secretmanager/src/test/java/org/springframework/cloud/gcp/secretmanager/it/SecretManagerPropertySourceIntegrationTests.java", "diffHunk": "@@ -101,28 +99,14 @@ public void testConfiguration() {\n \t\tassertThat(byteArraySecret).isEqualTo(\"the secret data.\".getBytes());\n \t}\n \n-\t@Test\n-\tpublic void testConfigurationDisabled() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "305b3239b341a06d781b265585e67881b7a83e91"}, "originalPosition": 53}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjk1NDAyNQ==", "bodyText": "Would it be possible to add the @Value test here as well like what we're doing in the other PR:\n\t@Test\n\tpublic void test() {\n\t\ttry (ConfigurableApplicationContext c = applicationBuilder.run()) {\n\t\t\tString secret = c.getBean(\"secret\", String.class);\n\t\t\tassertThat(secret).isEqualTo(\"hello\");\n\t\t}\n\t}\n\n\t@Configuration\n\tstatic class TestConfiguration {\n\n\t\t@Value(\"${sm://spring-cloud-gcp-it-secret\")\n\t\tprivate String secret;\n\n\t\t@Bean\n\t\tpublic String secret() {\n\t\t\treturn secret;\n\t\t}\n\t}", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2311#discussion_r406954025", "createdAt": "2020-04-10T21:36:29Z", "author": {"login": "meltsufin"}, "path": "spring-cloud-gcp-secretmanager/src/test/java/org/springframework/cloud/gcp/secretmanager/it/SecretManagerPropertySourceIntegrationTests.java", "diffHunk": "@@ -49,9 +47,9 @@\n import static org.assertj.core.api.Assumptions.assumeThat;\n import static org.awaitility.Awaitility.await;\n \n-public class SecretManagerIntegrationTests {\n+public class SecretManagerPropertySourceIntegrationTests {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "305b3239b341a06d781b265585e67881b7a83e91"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a583743964c58ab5f692b7883893de4c975da9d", "author": {"user": {"login": "dzou", "name": "Daniel Zou"}}, "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/3a583743964c58ab5f692b7883893de4c975da9d", "committedDate": "2020-04-13T14:55:49Z", "message": "Merge branch 'master' into sm-cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a83dff344b11dc8400f36b6a02bdd41bc2ada50", "author": {"user": {"login": "dzou", "name": "Daniel Zou"}}, "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/0a83dff344b11dc8400f36b6a02bdd41bc2ada50", "committedDate": "2020-04-13T17:21:59Z", "message": "PR Comments + test cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55d617866ce07c886b4154f1b4c76de42f94b47c", "author": {"user": {"login": "dzou", "name": "Daniel Zou"}}, "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/55d617866ce07c886b4154f1b4c76de42f94b47c", "committedDate": "2020-04-13T17:27:31Z", "message": "add additional version test case"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyOTQ1MTAw", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2311#pullrequestreview-392945100", "createdAt": "2020-04-14T13:49:37Z", "commit": {"oid": "55d617866ce07c886b4154f1b4c76de42f94b47c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 604, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}