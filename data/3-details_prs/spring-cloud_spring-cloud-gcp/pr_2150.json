{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY4OTk0MDIy", "number": 2150, "title": "Add @ConditionalOnProperty to GcpContextAutoConfiguration", "bodyText": "Add conditional property to GCP core auto configuration.\n\"spring.cloud.gcp.core.enabled\" property enables/disables the GCP core auto configuration.\nRelated document is updated. Unit tests are added.\nImplemented for #2147", "createdAt": "2020-01-30T10:25:54Z", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2150", "merged": true, "mergeCommit": {"oid": "26e9adf9e9a8f059979cf286160a3bfed7790132"}, "closed": true, "closedAt": "2020-01-30T15:51:21Z", "author": {"login": "ssoydan-strands"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_XxHGgH2gAyMzY4OTk0MDIyOmRhMTI5YzdjYjY2NDg3NjRjNDYxZTQ5MTZhNTFhYmQ2NzRkNmJhOTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_cllSgFqTM1MDkzMDgxMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "da129c7cb6648764c461e4916a51abd674d6ba92", "author": {"user": {"login": "ssoydan-strands", "name": "Serhat Soydan"}}, "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/da129c7cb6648764c461e4916a51abd674d6ba92", "committedDate": "2020-01-30T10:13:37Z", "message": "Add conditional property to GCP core auto configuration\n\nspring.cloud.gcp.core.enabled property enables/disables the auto configuration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwODU0OTk3", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2150#pullrequestreview-350854997", "createdAt": "2020-01-30T14:17:52Z", "commit": {"oid": "da129c7cb6648764c461e4916a51abd674d6ba92"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8cb7ed66571bafb0ee68c2f1da522638a1c00ef6", "author": {"user": {"login": "ssoydan-strands", "name": "Serhat Soydan"}}, "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/8cb7ed66571bafb0ee68c2f1da522638a1c00ef6", "committedDate": "2020-01-30T14:35:44Z", "message": "Revert formatting changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwODg0NTQx", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2150#pullrequestreview-350884541", "createdAt": "2020-01-30T14:55:14Z", "commit": {"oid": "8cb7ed66571bafb0ee68c2f1da522638a1c00ef6"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwODk5MTI1", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2150#pullrequestreview-350899125", "createdAt": "2020-01-30T15:12:53Z", "commit": {"oid": "8cb7ed66571bafb0ee68c2f1da522638a1c00ef6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNToxMjo1M1rOFjuj5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNToxNToxM1rOFjupyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzAwNzMzMw==", "bodyText": "Since we're adding this table, (which we should've always had), we should probably also list spring.cloud.gcp.credentials.location, spring.cloud.gcp.credentials.encoded-key, spring.cloud.gcp.project-id, and spring.cloud.gcp.credentials.scopes.\nI understand that's not the main focus of this PR. So, I would be OK with it being done in a separate PR.", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2150#discussion_r373007333", "createdAt": "2020-01-30T15:12:53Z", "author": {"login": "meltsufin"}, "path": "docs/src/main/asciidoc/core.adoc", "diffHunk": "@@ -24,6 +24,15 @@ dependencies {\n }\n ----\n \n+=== Configuration\n+\n+The following options may be configured with Spring Cloud core.\n+\n+|===========================================================================\n+| Name | Description | Required | Default value\n+| `spring.cloud.gcp.core.enabled` | Enables or disables GCP core auto configuration | No | `true`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8cb7ed66571bafb0ee68c2f1da522638a1c00ef6"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzAwODg0Mw==", "bodyText": "We should also add it to spring-cloud-gcp/spring-cloud-gcp-autoconfigure/src/main/resources/META-INF/additional-spring-configuration-metadata.json.", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2150#discussion_r373008843", "createdAt": "2020-01-30T15:15:13Z", "author": {"login": "meltsufin"}, "path": "spring-cloud-gcp-autoconfigure/src/main/java/org/springframework/cloud/gcp/autoconfigure/core/GcpContextAutoConfiguration.java", "diffHunk": "@@ -40,8 +41,10 @@\n  * @author Mike Eltsufin\n  * @author Elena Felder\n  * @author Chengyuan Zhao\n+ * @author Serhat Soydan\n  */\n @Configuration\n+@ConditionalOnProperty(name = \"spring.cloud.gcp.core.enabled\", havingValue = \"true\", matchIfMissing = true)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8cb7ed66571bafb0ee68c2f1da522638a1c00ef6"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6e463d3465fcf172190ef3de4a5678e02f3133f", "author": {"user": {"login": "ssoydan-strands", "name": "Serhat Soydan"}}, "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/c6e463d3465fcf172190ef3de4a5678e02f3133f", "committedDate": "2020-01-30T15:30:15Z", "message": "Add new property to additional spring config metadata\n\nspring.cloud.gcp.core.enabled is added"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwOTMwODEz", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2150#pullrequestreview-350930813", "createdAt": "2020-01-30T15:50:33Z", "commit": {"oid": "c6e463d3465fcf172190ef3de4a5678e02f3133f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 511, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}