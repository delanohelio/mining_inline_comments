{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1Mjk0MzYy", "number": 2473, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxOTo1Nzo0OVrOERMomQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMDowMjoyM1rOERMuvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2NDY4MjQ5OnYy", "diffSide": "RIGHT", "path": "spring-cloud-gcp-pubsub-stream-binder/src/main/java/org/springframework/cloud/gcp/stream/binder/pubsub/properties/PubSubProducerProperties.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxOTo1Nzo0OVrOG1yBCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMToyNjoyNlrOG101Bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA0NzE3OA==", "bodyText": "While uninitialized defaults to false for boolean, it might be nice to just have sync = false to be explicit on the defaults", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2473#discussion_r459047178", "createdAt": "2020-07-22T19:57:49Z", "author": {"login": "dzou"}, "path": "spring-cloud-gcp-pubsub-stream-binder/src/main/java/org/springframework/cloud/gcp/stream/binder/pubsub/properties/PubSubProducerProperties.java", "diffHunk": "@@ -24,4 +24,13 @@\n  * @author Chengyuan Zhao\n  */\n public class PubSubProducerProperties extends PubSubCommonProperties {\n+\tprivate boolean sync;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4e3f14904b60b45ab5eb8f379a180163225e919"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA5MzI1NQ==", "bodyText": "Will do.", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2473#discussion_r459093255", "createdAt": "2020-07-22T21:26:26Z", "author": {"login": "elefeint"}, "path": "spring-cloud-gcp-pubsub-stream-binder/src/main/java/org/springframework/cloud/gcp/stream/binder/pubsub/properties/PubSubProducerProperties.java", "diffHunk": "@@ -24,4 +24,13 @@\n  * @author Chengyuan Zhao\n  */\n public class PubSubProducerProperties extends PubSubCommonProperties {\n+\tprivate boolean sync;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA0NzE3OA=="}, "originalCommit": {"oid": "d4e3f14904b60b45ab5eb8f379a180163225e919"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg2NDY5ODIwOnYy", "diffSide": "RIGHT", "path": "spring-cloud-gcp-pubsub-stream-binder/src/test/java/org/springframework/cloud/gcp/stream/binder/pubsub/PubSubMessageChannelBinderTests.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMDowMjoyM1rOG1yK8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQwMTowMDo0NVrOG2gWpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA0OTcxNQ==", "bodyText": "If it's possible, I think it would be better to set the property via spring.cloud.stream.gcp.pubsub.default.producer.sync rather than set the setting through the property class directly. Mainly to verify that spring.cloud.stream.gcp.pubsub.default.producer.sync is indeed the correct format of the property name (as I am not sure what the correct form is myself).", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2473#discussion_r459049715", "createdAt": "2020-07-22T20:02:23Z", "author": {"login": "dzou"}, "path": "spring-cloud-gcp-pubsub-stream-binder/src/test/java/org/springframework/cloud/gcp/stream/binder/pubsub/PubSubMessageChannelBinderTests.java", "diffHunk": "@@ -71,4 +94,25 @@ public void testAfterUnbindConsumer() {\n \t\tverify(this.channelProvisioner).afterUnbindConsumer(this.consumerDestination);\n \t}\n \n+\t@Test\n+\tpublic void producerSyncPropertyFalseByDefault() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4e3f14904b60b45ab5eb8f379a180163225e919"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA5MzIwMQ==", "bodyText": "Yes, I've been getting increasingly uncomfortable with the amount of mocking in this test. I'll either move this into an integration test, or turn this test into a light integration test with only a mocked pubsub template.", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2473#discussion_r459093201", "createdAt": "2020-07-22T21:26:17Z", "author": {"login": "elefeint"}, "path": "spring-cloud-gcp-pubsub-stream-binder/src/test/java/org/springframework/cloud/gcp/stream/binder/pubsub/PubSubMessageChannelBinderTests.java", "diffHunk": "@@ -71,4 +94,25 @@ public void testAfterUnbindConsumer() {\n \t\tverify(this.channelProvisioner).afterUnbindConsumer(this.consumerDestination);\n \t}\n \n+\t@Test\n+\tpublic void producerSyncPropertyFalseByDefault() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA0OTcxNQ=="}, "originalCommit": {"oid": "d4e3f14904b60b45ab5eb8f379a180163225e919"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTgwNjM3NA==", "bodyText": "This is the best I could do without testing SCS implementation details. There is still one mocked transition from our properties into a SCS wrapper, but at least it tests the property mapping correctly.", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2473#discussion_r459806374", "createdAt": "2020-07-24T01:00:45Z", "author": {"login": "elefeint"}, "path": "spring-cloud-gcp-pubsub-stream-binder/src/test/java/org/springframework/cloud/gcp/stream/binder/pubsub/PubSubMessageChannelBinderTests.java", "diffHunk": "@@ -71,4 +94,25 @@ public void testAfterUnbindConsumer() {\n \t\tverify(this.channelProvisioner).afterUnbindConsumer(this.consumerDestination);\n \t}\n \n+\t@Test\n+\tpublic void producerSyncPropertyFalseByDefault() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA0OTcxNQ=="}, "originalCommit": {"oid": "d4e3f14904b60b45ab5eb8f379a180163225e919"}, "originalPosition": 56}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2186, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}