{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU1Mjk0MzYy", "number": 2473, "title": "Control sync/async publish in Spring Cloud Stream binder", "bodyText": "Expose the Spring Integration PubSubMessageHandler's sync property via extended binder properties. Turning async mode off is useful when errors must be exposed to sender.\nThere is currently no way to force synchronous sending through Cloud Pub/Sub Spring Cloud Stream binder.", "createdAt": "2020-07-22T18:53:36Z", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2473", "merged": true, "mergeCommit": {"oid": "8df7b52fcc5359dc7d45aa21db25f7c03f5d85c4"}, "closed": true, "closedAt": "2020-07-24T13:28:52Z", "author": {"login": "elefeint"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc3fUl8AH2gAyNDU1Mjk0MzYyOmQ0ZTNmMTQ5MDRiNjBiNDVhYjVlYjhmMzc5YTE4MDE2MzIyNWU5MTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc4D8_7gFqTQ1NDg4MDg1MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d4e3f14904b60b45ab5eb8f379a180163225e919", "author": {"user": {"login": "elefeint", "name": "Elena Felder"}}, "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/d4e3f14904b60b45ab5eb8f379a180163225e919", "committedDate": "2020-07-22T18:41:28Z", "message": "add property to control sync/async publish"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzNjM4NDMy", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2473#pullrequestreview-453638432", "createdAt": "2020-07-22T19:56:45Z", "commit": {"oid": "d4e3f14904b60b45ab5eb8f379a180163225e919"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUzNjM5MTY0", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2473#pullrequestreview-453639164", "createdAt": "2020-07-22T19:57:49Z", "commit": {"oid": "d4e3f14904b60b45ab5eb8f379a180163225e919"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxOTo1Nzo0OVrOG1yBCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQyMDowMjoyM1rOG1yK8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA0NzE3OA==", "bodyText": "While uninitialized defaults to false for boolean, it might be nice to just have sync = false to be explicit on the defaults", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2473#discussion_r459047178", "createdAt": "2020-07-22T19:57:49Z", "author": {"login": "dzou"}, "path": "spring-cloud-gcp-pubsub-stream-binder/src/main/java/org/springframework/cloud/gcp/stream/binder/pubsub/properties/PubSubProducerProperties.java", "diffHunk": "@@ -24,4 +24,13 @@\n  * @author Chengyuan Zhao\n  */\n public class PubSubProducerProperties extends PubSubCommonProperties {\n+\tprivate boolean sync;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4e3f14904b60b45ab5eb8f379a180163225e919"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTA0OTcxNQ==", "bodyText": "If it's possible, I think it would be better to set the property via spring.cloud.stream.gcp.pubsub.default.producer.sync rather than set the setting through the property class directly. Mainly to verify that spring.cloud.stream.gcp.pubsub.default.producer.sync is indeed the correct format of the property name (as I am not sure what the correct form is myself).", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2473#discussion_r459049715", "createdAt": "2020-07-22T20:02:23Z", "author": {"login": "dzou"}, "path": "spring-cloud-gcp-pubsub-stream-binder/src/test/java/org/springframework/cloud/gcp/stream/binder/pubsub/PubSubMessageChannelBinderTests.java", "diffHunk": "@@ -71,4 +94,25 @@ public void testAfterUnbindConsumer() {\n \t\tverify(this.channelProvisioner).afterUnbindConsumer(this.consumerDestination);\n \t}\n \n+\t@Test\n+\tpublic void producerSyncPropertyFalseByDefault() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4e3f14904b60b45ab5eb8f379a180163225e919"}, "originalPosition": 56}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6427799b33ef7e7d87141d7f2462215a04192f68", "author": {"user": {"login": "elefeint", "name": "Elena Felder"}}, "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/6427799b33ef7e7d87141d7f2462215a04192f68", "committedDate": "2020-07-23T22:59:03Z", "message": "set explicit default false value for sync property"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c4c8500f4f20dbf00d0a6c23c14f94f630030db", "author": {"user": {"login": "elefeint", "name": "Elena Felder"}}, "url": "https://github.com/spring-cloud/spring-cloud-gcp/commit/1c4c8500f4f20dbf00d0a6c23c14f94f630030db", "committedDate": "2020-07-24T00:59:06Z", "message": "update test to be closer to reality"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0NjE2NDQw", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2473#pullrequestreview-454616440", "createdAt": "2020-07-24T03:24:41Z", "commit": {"oid": "1c4c8500f4f20dbf00d0a6c23c14f94f630030db"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0ODgwODUx", "url": "https://github.com/spring-cloud/spring-cloud-gcp/pull/2473#pullrequestreview-454880851", "createdAt": "2020-07-24T13:22:11Z", "commit": {"oid": "1c4c8500f4f20dbf00d0a6c23c14f94f630030db"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 499, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}