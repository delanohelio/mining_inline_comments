{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ2NTEzMzA3", "number": 1179, "title": "HDDS-3765. Fluentd writing to secure Ozone S3 API fails with 500 Error.", "bodyText": "What changes were proposed in this pull request?\nWhile writing to secure Ozone s3 gateway, fluentd fails with 500 Error. This happens when there are extra slashes in the requested object path. (More details are in the JIRA)\nWhat is the link to the Apache JIRA\nhttps://issues.apache.org/jira/browse/HDDS-3765\nHow was this patch tested?\nManually tested with fluentd s3 plugin.\nAdded acceptance tests.", "createdAt": "2020-07-08T22:16:53Z", "url": "https://github.com/apache/ozone/pull/1179", "merged": true, "mergeCommit": {"oid": "d6c7f2836d2f2f06b2150299365311843eb58d08"}, "closed": true, "closedAt": "2020-07-15T17:56:23Z", "author": {"login": "avijayanhwx"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABczB-VwgH2gAyNDQ2NTEzMzA3OjVlNjAxZTI4NjMwMTFlYzM4ZTZkMDNkMzc2OTkyZDc0ZGNjZWQ5Njk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc1OWiCgFqTQ0OTE5MjY1MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5e601e2863011ec38e6d03d376992d74dcced969", "author": {"user": {"login": "avijayanhwx", "name": null}}, "url": "https://github.com/apache/ozone/commit/5e601e2863011ec38e6d03d376992d74dcced969", "committedDate": "2020-07-08T22:14:13Z", "message": "HDDS-3765. Fluentd writing to secure Ozone S3 API fails with 500 Error."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MjQ3NTQ4", "url": "https://github.com/apache/ozone/pull/1179#pullrequestreview-445247548", "createdAt": "2020-07-09T02:24:41Z", "commit": {"oid": "5e601e2863011ec38e6d03d376992d74dcced969"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQwMjoyNDo0MVrOGu_dEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOVQwMjoyNDo0MVrOGu_dEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTkyNzMxMg==", "bodyText": "should we add a test for key with leading '/' as well?", "url": "https://github.com/apache/ozone/pull/1179#discussion_r451927312", "createdAt": "2020-07-09T02:24:41Z", "author": {"login": "prasanthj"}, "path": "hadoop-ozone/dist/src/main/smoketest/security/ozone-secure-s3.robot", "diffHunk": "@@ -38,6 +40,16 @@ Secure S3 test Success\n     ${output} =         Execute          aws s3api --endpoint-url ${ENDPOINT_URL} list-buckets\n                         Should contain   ${output}         bucket-test123\n \n+Secure S3 put-object test\n+    ${testFilePath} =       Set Variable            ${TEMPDIR}/${TEST_FILE}\n+                            Copy File               ${TEST_FILE}            ${testFilePath}\n+    ${output} =             Execute                 aws s3api --endpoint ${ENDPOINT_URL} put-object --bucket=bucket-test123 --key=tmp1/tmp2/NOTICE.txt --body=${testFilePath}\n+    ${output} =             Execute                 aws s3api --endpoint ${ENDPOINT_URL} list-objects --bucket=bucket-test123\n+                            Should contain   ${output}         tmp1/tmp2/NOTICE.txt\n+    ${output} =             Execute                 aws s3api --endpoint ${ENDPOINT_URL} put-object --bucket=bucket-test123 --key=tmp3//tmp4/NOTICE.txt --body=${testFilePath}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5e601e2863011ec38e6d03d376992d74dcced969"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a28b07468b3fc369008efdd44baa62a18a7af7a", "author": {"user": {"login": "avijayanhwx", "name": null}}, "url": "https://github.com/apache/ozone/commit/3a28b07468b3fc369008efdd44baa62a18a7af7a", "committedDate": "2020-07-09T14:45:07Z", "message": "Add test case for leading '/'."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ2MDMzMzU5", "url": "https://github.com/apache/ozone/pull/1179#pullrequestreview-446033359", "createdAt": "2020-07-09T23:30:25Z", "commit": {"oid": "3a28b07468b3fc369008efdd44baa62a18a7af7a"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5MTkyNjUx", "url": "https://github.com/apache/ozone/pull/1179#pullrequestreview-449192651", "createdAt": "2020-07-15T17:47:21Z", "commit": {"oid": "3a28b07468b3fc369008efdd44baa62a18a7af7a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2819, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}