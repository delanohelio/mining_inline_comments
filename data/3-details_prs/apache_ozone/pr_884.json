{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwNTgyODUw", "number": 884, "title": "HDDS-2406. Ozone shell key get throws IllegalArgumentException if pipeline is empty.", "bodyText": "What changes were proposed in this pull request?\nIf we get exist key but pipeline's datanode is empty, it throws IllegalArgumentException.\nI add ResultCodes to Exception so that we can get more clearly message.\nWhat is the link to the Apache JIRA\nhttps://issues.apache.org/jira/browse/HDDS-2406\nHow was this patch tested?\nRun on docker", "createdAt": "2020-04-29T09:03:50Z", "url": "https://github.com/apache/ozone/pull/884", "merged": true, "mergeCommit": {"oid": "8ce8efa440c6535b43739e7912af8d7fdb361322"}, "closed": true, "closedAt": "2020-04-30T06:14:54Z", "author": {"login": "flirmnave"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccTCdvgH2gAyNDEwNTgyODUwOjM5MmY2MGJmMDgyOTJhYjU2MjAyNmM0ZDlhYWFhMjQ2ZjQzNjZiYWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABccm4STAFqTQwMzIyODYyOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "392f60bf08292ab562026c4d9aaaa246f4366bad", "author": {"user": {"login": "flirmnave", "name": "Huang-Mu Zheng"}}, "url": "https://github.com/apache/ozone/commit/392f60bf08292ab562026c4d9aaaa246f4366bad", "committedDate": "2020-04-29T07:06:51Z", "message": "HDDS-2406. Ozone shell key get throws IllegalArgumentException if pipeline is empty."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80b7c9b024d4e8cbe7a5f7293763fde4a47543da", "author": {"user": {"login": "flirmnave", "name": "Huang-Mu Zheng"}}, "url": "https://github.com/apache/ozone/commit/80b7c9b024d4e8cbe7a5f7293763fde4a47543da", "committedDate": "2020-04-29T07:23:40Z", "message": "Fix checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "38277be5f71f9d35088f65bf292fbf52cb814b17", "author": {"user": {"login": "flirmnave", "name": "Huang-Mu Zheng"}}, "url": "https://github.com/apache/ozone/commit/38277be5f71f9d35088f65bf292fbf52cb814b17", "committedDate": "2020-04-29T07:41:50Z", "message": "Fix unit test."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyNjIwMDE5", "url": "https://github.com/apache/ozone/pull/884#pullrequestreview-402620019", "createdAt": "2020-04-29T12:32:30Z", "commit": {"oid": "38277be5f71f9d35088f65bf292fbf52cb814b17"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMjozMjozMFrOGN8osw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMjozMjozMFrOGN8osw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzI3ODEzMQ==", "bodyText": "I think NO_REPLICA_FOUND would better reflect the situation.  There may be other, live datanodes, and \"healthy nodes\" seem more related to placement of new data.", "url": "https://github.com/apache/ozone/pull/884#discussion_r417278131", "createdAt": "2020-04-29T12:32:30Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/XceiverClientManager.java", "diffHunk": "@@ -168,7 +169,8 @@ private XceiverClientSpi acquireClient(Pipeline pipeline, boolean read)\n       throws IOException {\n     Preconditions.checkNotNull(pipeline);\n     Preconditions.checkArgument(pipeline.getNodes() != null);\n-    Preconditions.checkArgument(!pipeline.getNodes().isEmpty());\n+    Preconditions.checkArgument(!pipeline.getNodes().isEmpty(),\n+        FAILED_TO_FIND_HEALTHY_NODES);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "38277be5f71f9d35088f65bf292fbf52cb814b17"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6ed849228c825ddb01bb3ef5e68bb30b3e1ac8c", "author": {"user": {"login": "flirmnave", "name": "Huang-Mu Zheng"}}, "url": "https://github.com/apache/ozone/commit/c6ed849228c825ddb01bb3ef5e68bb30b3e1ac8c", "committedDate": "2020-04-30T05:02:38Z", "message": "Change Resultcode."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzMjI4NjI4", "url": "https://github.com/apache/ozone/pull/884#pullrequestreview-403228628", "createdAt": "2020-04-30T06:13:50Z", "commit": {"oid": "c6ed849228c825ddb01bb3ef5e68bb30b3e1ac8c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3209, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}