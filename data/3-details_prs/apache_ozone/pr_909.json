{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1NzMzMzc2", "number": 909, "title": "HDDS-3416. Enable TestSCMNodeManager#testScmStatsFromNodeReport", "bodyText": "What changes were proposed in this pull request?\nFixed and enabled this test method(TestSCMNodeManager#testScmStatsFromNodeReport).\nAdded the NodeReportEvent handler to get node reports from datanode.\nWhat is the link to the Apache JIRA\nhttps://issues.apache.org/jira/browse/HDDS-3416\nHow was this patch tested?\nRan UTs - Pass.", "createdAt": "2020-05-10T15:02:38Z", "url": "https://github.com/apache/ozone/pull/909", "merged": true, "mergeCommit": {"oid": "c7bda1a11cfd6dc62c59590539cace6fe836228f"}, "closed": true, "closedAt": "2020-05-28T09:47:52Z", "author": {"login": "cku328"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgtrRVgFqTQxMDUwOTEzMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABclqtuNAFqTQxOTk0ODAyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwNTA5MTMz", "url": "https://github.com/apache/ozone/pull/909#pullrequestreview-410509133", "createdAt": "2020-05-13T00:24:38Z", "commit": {"oid": "5a3fcc80a3acdd7555997c3bb5312b02d8446e90"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwMDoyNDozOFrOGUdZkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QwMDoyNDozOFrOGUdZkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDEwNjM4Nw==", "bodyText": "Shouldn't we find out why the existing NodeReportHandler that is part of the created SCM not getting triggered?", "url": "https://github.com/apache/ozone/pull/909#discussion_r424106387", "createdAt": "2020-05-13T00:24:38Z", "author": {"login": "avijayanhwx"}, "path": "hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/node/TestSCMNodeManager.java", "diffHunk": "@@ -855,6 +860,10 @@ public void testScmStatsFromNodeReport()\n         String storagePath = testDir.getAbsolutePath() + \"/\" + dnId;\n         StorageReportProto report = TestUtils\n             .createStorageReport(dnId, storagePath, capacity, used, free, null);\n+        NodeReportProto nodeReportProto = TestUtils.createNodeReport(report);\n+        nodeReportHandler.onMessage(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5a3fcc80a3acdd7555997c3bb5312b02d8446e90"}, "originalPosition": 55}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5a3fcc80a3acdd7555997c3bb5312b02d8446e90", "author": {"user": {"login": "cku328", "name": "Neo Yang"}}, "url": "https://github.com/apache/ozone/commit/5a3fcc80a3acdd7555997c3bb5312b02d8446e90", "committedDate": "2020-05-10T14:10:33Z", "message": "HDDS-3416. Enable TestSCMNodeManager#testScmStatsFromNodeReport"}, "afterCommit": {"oid": "d93e5d2189e617791cf4cec0df0c045abfacf8ad", "author": {"user": {"login": "cku328", "name": "Neo Yang"}}, "url": "https://github.com/apache/ozone/commit/d93e5d2189e617791cf4cec0df0c045abfacf8ad", "committedDate": "2020-05-13T08:37:59Z", "message": "modify process node report method"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE2MDQzMDE5", "url": "https://github.com/apache/ozone/pull/909#pullrequestreview-416043019", "createdAt": "2020-05-21T10:33:58Z", "commit": {"oid": "ee53534856c7ab63124272a2b829c64ce7b0f3e5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5edb4f950dc0b3e1806ac2a88d8dea6206021e5", "author": {"user": {"login": "cku328", "name": "Neo Yang"}}, "url": "https://github.com/apache/ozone/commit/c5edb4f950dc0b3e1806ac2a88d8dea6206021e5", "committedDate": "2020-05-23T18:41:53Z", "message": "HDDS-3416. Enable TestSCMNodeManager#testScmStatsFromNodeReport"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7347a86994772f6b2b0e3e44c604f7bc24dd6b06", "author": {"user": {"login": "cku328", "name": "Neo Yang"}}, "url": "https://github.com/apache/ozone/commit/7347a86994772f6b2b0e3e44c604f7bc24dd6b06", "committedDate": "2020-05-23T18:56:29Z", "message": "Modify code for node register"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ee53534856c7ab63124272a2b829c64ce7b0f3e5", "author": {"user": {"login": "cku328", "name": "Neo Yang"}}, "url": "https://github.com/apache/ozone/commit/ee53534856c7ab63124272a2b829c64ce7b0f3e5", "committedDate": "2020-05-13T08:48:47Z", "message": "fix checkstyle."}, "afterCommit": {"oid": "7347a86994772f6b2b0e3e44c604f7bc24dd6b06", "author": {"user": {"login": "cku328", "name": "Neo Yang"}}, "url": "https://github.com/apache/ozone/commit/7347a86994772f6b2b0e3e44c604f7bc24dd6b06", "committedDate": "2020-05-23T18:56:29Z", "message": "Modify code for node register"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bd2a4014463379f95751ec22e7453c293c03b63f", "author": {"user": {"login": "cku328", "name": "Neo Yang"}}, "url": "https://github.com/apache/ozone/commit/bd2a4014463379f95751ec22e7453c293c03b63f", "committedDate": "2020-05-23T19:15:54Z", "message": "fix checkstyle"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5OTQ4MDI2", "url": "https://github.com/apache/ozone/pull/909#pullrequestreview-419948026", "createdAt": "2020-05-28T09:47:14Z", "commit": {"oid": "bd2a4014463379f95751ec22e7453c293c03b63f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3239, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}