{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyODE5OTk3", "number": 1054, "title": "Hdds 3772. Add LOG to S3ErrorTable for easier problem locating. ", "bodyText": "https://issues.apache.org/jira/browse/HDDS-3772", "createdAt": "2020-06-11T03:43:29Z", "url": "https://github.com/apache/ozone/pull/1054", "merged": true, "mergeCommit": {"oid": "23034fbda62d7ee5abe0f664b58248cba6e1468e"}, "closed": true, "closedAt": "2020-06-14T07:56:28Z", "author": {"login": "ChenSammi"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqTHJLAFqTQyOTE5MjI0Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcrHUSLgFqTQzMDE5NjQwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5MTkyMjQ3", "url": "https://github.com/apache/ozone/pull/1054#pullrequestreview-429192247", "createdAt": "2020-06-11T18:46:33Z", "commit": {"oid": "06c521d02734ce7e5c3fd8f8a934184f696c838b"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxODo0NjozM1rOGiqUCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxOTowNjozN1rOGiq8pQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODk5ODAyNQ==", "bodyText": "Is there a particular reason to change from getGroups to getGroupNames(), the later involves list->array->list  conversion which can be expensive when large number of groups exist for the user.", "url": "https://github.com/apache/ozone/pull/1054#discussion_r438998025", "createdAt": "2020-06-11T18:46:33Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/helpers/OzoneAclUtil.java", "diffHunk": "@@ -53,15 +54,15 @@ private OzoneAclUtil(){\n    * @return list of OzoneAcls\n    * */\n   public static List<OzoneAcl> getAclList(String userName,\n-      List<String> userGroups, ACLType userRights, ACLType groupRights) {\n+      String[] userGroups, ACLType userRights, ACLType groupRights) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06c521d02734ce7e5c3fd8f8a934184f696c838b"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTAwODQyMQ==", "bodyText": "This seems to be the main part matching scope of the title. Should we use separate tickets to track other changes?", "url": "https://github.com/apache/ozone/pull/1054#discussion_r439008421", "createdAt": "2020-06-11T19:06:37Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/exception/S3ErrorTable.java", "diffHunk": "@@ -29,6 +31,9 @@\n  */\n public final class S3ErrorTable {\n \n+  private final static Logger LOG = LoggerFactory.getLogger(\n+      S3ErrorTable.class);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06c521d02734ce7e5c3fd8f8a934184f696c838b"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d3ff320f1e9258b014393e00023dd8920da9a85c", "author": {"user": {"login": "ChenSammi", "name": "Sammi Chen"}}, "url": "https://github.com/apache/ozone/commit/d3ff320f1e9258b014393e00023dd8920da9a85c", "committedDate": "2020-06-12T03:21:14Z", "message": "HDDS-3772. Add LOG to S3ErrorTable for easier problem locating."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "06c521d02734ce7e5c3fd8f8a934184f696c838b", "author": {"user": {"login": "ChenSammi", "name": "Sammi Chen"}}, "url": "https://github.com/apache/ozone/commit/06c521d02734ce7e5c3fd8f8a934184f696c838b", "committedDate": "2020-06-11T03:42:17Z", "message": "HDDS-3772. Add LOG to S3ErrorTable for easier problem locating."}, "afterCommit": {"oid": "d3ff320f1e9258b014393e00023dd8920da9a85c", "author": {"user": {"login": "ChenSammi", "name": "Sammi Chen"}}, "url": "https://github.com/apache/ozone/commit/d3ff320f1e9258b014393e00023dd8920da9a85c", "committedDate": "2020-06-12T03:21:14Z", "message": "HDDS-3772. Add LOG to S3ErrorTable for easier problem locating."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5NDY2OTky", "url": "https://github.com/apache/ozone/pull/1054#pullrequestreview-429466992", "createdAt": "2020-06-12T05:19:14Z", "commit": {"oid": "d3ff320f1e9258b014393e00023dd8920da9a85c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5NDY3MjQ1", "url": "https://github.com/apache/ozone/pull/1054#pullrequestreview-429467245", "createdAt": "2020-06-12T05:20:05Z", "commit": {"oid": "d3ff320f1e9258b014393e00023dd8920da9a85c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNToyMDowNVrOGi3W9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQwNToyMDowNVrOGi3W9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTIxMTc2NA==", "bodyText": "One comment:\nThis should be LOG.error", "url": "https://github.com/apache/ozone/pull/1054#discussion_r439211764", "createdAt": "2020-06-12T05:20:05Z", "author": {"login": "bharatviswa504"}, "path": "hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/exception/S3ErrorTable.java", "diffHunk": "@@ -106,6 +111,7 @@ public static OS3Exception newError(OS3Exception e, String resource) {\n     OS3Exception err =  new OS3Exception(e.getCode(), e.getErrorMessage(),\n         e.getHttpCode());\n     err.setResource(resource);\n+    LOG.info(err.toXml());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d3ff320f1e9258b014393e00023dd8920da9a85c"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI5NDY3MzQ2", "url": "https://github.com/apache/ozone/pull/1054#pullrequestreview-429467346", "createdAt": "2020-06-12T05:20:24Z", "commit": {"oid": "d3ff320f1e9258b014393e00023dd8920da9a85c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4340af58ad4daea2ef22e3fa21f9fc5c4e6ea888", "author": {"user": {"login": "ChenSammi", "name": "Sammi Chen"}}, "url": "https://github.com/apache/ozone/commit/4340af58ad4daea2ef22e3fa21f9fc5c4e6ea888", "committedDate": "2020-06-12T11:53:37Z", "message": "change log level to ERROR"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwMTk2NDA1", "url": "https://github.com/apache/ozone/pull/1054#pullrequestreview-430196405", "createdAt": "2020-06-14T07:56:19Z", "commit": {"oid": "4340af58ad4daea2ef22e3fa21f9fc5c4e6ea888"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3179, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}