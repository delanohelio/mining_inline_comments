{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4MTY3OTc5", "number": 1631, "title": "HDDS-4185. Disable IncrementalByteBuffer by default in Ozone Client", "bodyText": "What changes were proposed in this pull request?\nDisable (by default) the incremental byte buffer usage due to performance reasons and allocate full buffer in each steps.\nIn the previous PR we agreed with @bshashikant to use a configuration variable instead of removing it.\n#1374 (comment)\nWhat is the link to the Apache JIRA\nhttps://issues.apache.org/jira/browse/HDDS-4185\nHow was this patch tested?\nTested with local docker cluster and with CI.", "createdAt": "2020-11-26T16:09:15Z", "url": "https://github.com/apache/ozone/pull/1631", "merged": true, "mergeCommit": {"oid": "85abcafd47e870084daadf22f9435d385511071b"}, "closed": true, "closedAt": "2021-01-06T10:35:00Z", "author": {"login": "elek"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdgVNC4AH2gAyNTI4MTY3OTc5OmNmNWQwMzIwYTQ5ZmY5NDczMWQyNGUxZWExYmYyZmJlMmVlYTdmNTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmuSwwgFqTU1MzY0ODc2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cf5d0320a49ff94731d24e1ea1bf2fbe2eea7f58", "author": {"user": {"login": "elek", "name": "Elek, M\u00e1rton"}}, "url": "https://github.com/apache/ozone/commit/cf5d0320a49ff94731d24e1ea1bf2fbe2eea7f58", "committedDate": "2020-11-26T16:05:04Z", "message": "HDDS-4185. Disable IncrementalByteBuffer by default in Ozone Client"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5NTE2MDg3", "url": "https://github.com/apache/ozone/pull/1631#pullrequestreview-539516087", "createdAt": "2020-11-26T19:06:16Z", "commit": {"oid": "cf5d0320a49ff94731d24e1ea1bf2fbe2eea7f58"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxOTowNjoxNlrOH6ldXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNlQxOTowNjoxNlrOH6ldXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTE5MzE4MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  defaultValue = \"0\",\n          \n          \n            \n                  defaultValue = \"0B\",\n          \n      \n    \n    \n  \n\n(Unfortunately \"0\" is not valid for StorageSize).", "url": "https://github.com/apache/ozone/pull/1631#discussion_r531193181", "createdAt": "2020-11-26T19:06:16Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/client/src/main/java/org/apache/hadoop/hdds/scm/OzoneClientConfig.java", "diffHunk": "@@ -54,6 +54,18 @@\n       tags = ConfigTag.CLIENT)\n   private int streamBufferSize = 4 * 1024 * 1024;\n \n+  @Config(key = \"stream.buffer.increment\",\n+      defaultValue = \"0\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cf5d0320a49ff94731d24e1ea1bf2fbe2eea7f58"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d70554eac1b885b09c90079df68683ee4ad1652", "author": {"user": {"login": "elek", "name": "Elek, M\u00e1rton"}}, "url": "https://github.com/apache/ozone/commit/9d70554eac1b885b09c90079df68683ee4ad1652", "committedDate": "2020-11-30T13:57:33Z", "message": "fix default store size.\n\nCo-authored-by: Doroszlai, Attila <6454655+adoroszlai@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUzNjQ4NzY5", "url": "https://github.com/apache/ozone/pull/1631#pullrequestreview-553648769", "createdAt": "2020-12-16T12:42:29Z", "commit": {"oid": "9d70554eac1b885b09c90079df68683ee4ad1652"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1981, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}