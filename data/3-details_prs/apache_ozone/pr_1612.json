{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1OTQ0MjM5", "number": 1612, "title": "HDDS-4497. Recon File Size Count task throws SQL Exception.", "bodyText": "What changes were proposed in this pull request?\nFix JOOQ truncate call usage in Recon.\nWhat is the link to the Apache JIRA\nhttps://issues.apache.org/jira/browse/HDDS-4497\nHow was this patch tested?\nManually tested. Added unit tests.", "createdAt": "2020-11-23T19:23:07Z", "url": "https://github.com/apache/ozone/pull/1612", "merged": true, "mergeCommit": {"oid": "51ffc824413715c6afa66bc14899229e3ecbea34"}, "closed": true, "closedAt": "2020-11-24T00:05:48Z", "author": {"login": "avijayanhwx"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfaMgogH2gAyNTI1OTQ0MjM5OjFjYWY3NzhiZWM5NDVmMDU5YmJiNWMyYzNkMTcyOTQ2Yjk5M2JkMDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfeEllgFqTUzNjkzNDQ5OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1caf778bec945f059bbb5c2c3d172946b993bd01", "author": {"user": {"login": "avijayanhwx", "name": null}}, "url": "https://github.com/apache/ozone/commit/1caf778bec945f059bbb5c2c3d172946b993bd01", "committedDate": "2020-11-23T19:20:05Z", "message": "HDDS-4497. Recon File Size Count task throws SQL Exception."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5d34cadee644e4bb6b0d5dffcb1687aeea5701f6", "author": {"user": {"login": "avijayanhwx", "name": null}}, "url": "https://github.com/apache/ozone/commit/5d34cadee644e4bb6b0d5dffcb1687aeea5701f6", "committedDate": "2020-11-23T19:21:36Z", "message": "Checkstyle fix."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2ODI2NjEz", "url": "https://github.com/apache/ozone/pull/1612#pullrequestreview-536826613", "createdAt": "2020-11-23T20:37:28Z", "commit": {"oid": "5d34cadee644e4bb6b0d5dffcb1687aeea5701f6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMDozNzoyOFrOH4eb5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMDozNzoyOFrOH4eb5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODk4MDk2Ng==", "bodyText": "Why does truncate not work?", "url": "https://github.com/apache/ozone/pull/1612#discussion_r528980966", "createdAt": "2020-11-23T20:37:28Z", "author": {"login": "swagle"}, "path": "hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/FileSizeCountTask.java", "diffHunk": "@@ -96,7 +96,9 @@ private static int nextClosestPowerIndexOfTwo(long dataSize) {\n       return new ImmutablePair<>(getTaskName(), false);\n     }\n     // Truncate table before inserting new rows\n-    dslContext.truncate(FILE_COUNT_BY_SIZE);\n+    int execute = dslContext.delete(FILE_COUNT_BY_SIZE).execute();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d34cadee644e4bb6b0d5dffcb1687aeea5701f6"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2ODc0ODMz", "url": "https://github.com/apache/ozone/pull/1612#pullrequestreview-536874833", "createdAt": "2020-11-23T21:54:12Z", "commit": {"oid": "5d34cadee644e4bb6b0d5dffcb1687aeea5701f6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4225eefd11592d4a3bd91393d876037e20e25353", "author": {"user": {"login": "avijayanhwx", "name": null}}, "url": "https://github.com/apache/ozone/commit/4225eefd11592d4a3bd91393d876037e20e25353", "committedDate": "2020-11-23T22:25:06Z", "message": "trigger new CI check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "866c3c8f9a629e78bd2534f8d32d20467be07648", "author": {"user": {"login": "avijayanhwx", "name": null}}, "url": "https://github.com/apache/ozone/commit/866c3c8f9a629e78bd2534f8d32d20467be07648", "committedDate": "2020-11-23T22:26:59Z", "message": "Move Log line to generic class."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2OTM0NDk4", "url": "https://github.com/apache/ozone/pull/1612#pullrequestreview-536934498", "createdAt": "2020-11-23T23:51:03Z", "commit": {"oid": "866c3c8f9a629e78bd2534f8d32d20467be07648"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1946, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}