{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk3NzU5NTkw", "number": 760, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxOTowNTowNVrODuFywA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxOTowNTowNVrODuFywA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5NjU2MDAwOnYy", "diffSide": "RIGHT", "path": "hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/om/TestOzoneManagerHA.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxOTowNTowNVrOF_5djQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMlQxOToxNjozNVrOF_53hA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjU0NjA2MQ==", "bodyText": "Can we use lambdaTestUtils instead of sleep?\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                Thread.sleep(5000);\n          \n          \n            \n                LambdaTestUtils.await(6000, 2000, () -> (omFailoverProxyProvider.getCurrentProxyOMNodeId().equals(leaderOMNodeId)));", "url": "https://github.com/apache/ozone/pull/760#discussion_r402546061", "createdAt": "2020-04-02T19:05:05Z", "author": {"login": "vivekratnavel"}, "path": "hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/om/TestOzoneManagerHA.java", "diffHunk": "@@ -726,7 +726,7 @@ public void testOMProxyProviderFailoverToCurrentLeader() throws Exception {\n     // information must be returned via the response and a failover must\n     // happen to the leader proxy node.\n     createVolumeTest(true);\n-    Thread.sleep(2000);\n+    Thread.sleep(5000);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e45546d6f885dd633a1705d422618045697810b1"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjU0OTQ0Ng==", "bodyText": "Didn't realize till Bharat pointed out that this test is disabled. I ll revert the change to test and we can fix this when enabling TestOzoneManagerHA. That test was disabled as it was flaky and would need more work before it can be enabled.", "url": "https://github.com/apache/ozone/pull/760#discussion_r402549446", "createdAt": "2020-04-02T19:10:58Z", "author": {"login": "hanishakoneru"}, "path": "hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/om/TestOzoneManagerHA.java", "diffHunk": "@@ -726,7 +726,7 @@ public void testOMProxyProviderFailoverToCurrentLeader() throws Exception {\n     // information must be returned via the response and a failover must\n     // happen to the leader proxy node.\n     createVolumeTest(true);\n-    Thread.sleep(2000);\n+    Thread.sleep(5000);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjU0NjA2MQ=="}, "originalCommit": {"oid": "e45546d6f885dd633a1705d422618045697810b1"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjU1MjcwOA==", "bodyText": "Sounds good!", "url": "https://github.com/apache/ozone/pull/760#discussion_r402552708", "createdAt": "2020-04-02T19:16:35Z", "author": {"login": "vivekratnavel"}, "path": "hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/om/TestOzoneManagerHA.java", "diffHunk": "@@ -726,7 +726,7 @@ public void testOMProxyProviderFailoverToCurrentLeader() throws Exception {\n     // information must be returned via the response and a failover must\n     // happen to the leader proxy node.\n     createVolumeTest(true);\n-    Thread.sleep(2000);\n+    Thread.sleep(5000);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMjU0NjA2MQ=="}, "originalCommit": {"oid": "e45546d6f885dd633a1705d422618045697810b1"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4444, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}