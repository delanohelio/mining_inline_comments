{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxMjg2MzM0", "number": 799, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNTo0Mjo1MFrODwddyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNTo0Mjo1MFrODwddyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyMTQxMDAyOnYy", "diffSide": "RIGHT", "path": "hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/Handler.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNTo0Mjo1MFrOGDeejA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQyMzoxMDo0MVrOGGOwzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI5ODI1Mg==", "bodyText": "NIT: isApplicable is very generic, can this be more specific? when it return null (e.g., the user input miss some arguments), do we ensure context related help returned from the console output? Maybe we can add a negative case in the new acceptance test.", "url": "https://github.com/apache/ozone/pull/799#discussion_r406298252", "createdAt": "2020-04-09T15:42:50Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/Handler.java", "diffHunk": "@@ -58,15 +58,25 @@ public OzoneConfiguration createOzoneConfiguration() {\n     return parent.createOzoneConfiguration();\n   }\n \n-  protected abstract OzoneAddress getAddress() throws OzoneClientException;\n+  protected OzoneAddress getAddress() throws OzoneClientException {\n+    return new OzoneAddress();\n+  }\n \n   protected abstract void execute(OzoneClient client, OzoneAddress address)\n       throws IOException, OzoneClientException;\n \n+  protected boolean isApplicable() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c42707e3fbaba9d92a7795b314d6405d5e9d603a"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwODc1Mzg1Mg==", "bodyText": "Thanks @xiaoyuyao for the review.\n\nNIT: isApplicable is very generic, can this be more specific?\n\nHandler itself is very generic, at that level I don't think the method can be more specific.  Added javadoc for isApplicable to explain its intended usage.  Also changed few more classes to override it and got rid of their own explicit if check in execute.\n\nwhen it return null (e.g., the user input miss some arguments),\n\nNote that Void call() always returns null, it's not a sign of success/failure.\n\ndo we ensure context related help returned from the console output? Maybe we can add a negative case in the new acceptance test.\n\nI have added such negative test case for token operations.", "url": "https://github.com/apache/ozone/pull/799#discussion_r408753852", "createdAt": "2020-04-15T10:54:15Z", "author": {"login": "adoroszlai"}, "path": "hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/Handler.java", "diffHunk": "@@ -58,15 +58,25 @@ public OzoneConfiguration createOzoneConfiguration() {\n     return parent.createOzoneConfiguration();\n   }\n \n-  protected abstract OzoneAddress getAddress() throws OzoneClientException;\n+  protected OzoneAddress getAddress() throws OzoneClientException {\n+    return new OzoneAddress();\n+  }\n \n   protected abstract void execute(OzoneClient client, OzoneAddress address)\n       throws IOException, OzoneClientException;\n \n+  protected boolean isApplicable() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI5ODI1Mg=="}, "originalCommit": {"oid": "c42707e3fbaba9d92a7795b314d6405d5e9d603a"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTE4NjUwOA==", "bodyText": "LGTM, +1. Thanks for the update!", "url": "https://github.com/apache/ozone/pull/799#discussion_r409186508", "createdAt": "2020-04-15T23:10:41Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/Handler.java", "diffHunk": "@@ -58,15 +58,25 @@ public OzoneConfiguration createOzoneConfiguration() {\n     return parent.createOzoneConfiguration();\n   }\n \n-  protected abstract OzoneAddress getAddress() throws OzoneClientException;\n+  protected OzoneAddress getAddress() throws OzoneClientException {\n+    return new OzoneAddress();\n+  }\n \n   protected abstract void execute(OzoneClient client, OzoneAddress address)\n       throws IOException, OzoneClientException;\n \n+  protected boolean isApplicable() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI5ODI1Mg=="}, "originalCommit": {"oid": "c42707e3fbaba9d92a7795b314d6405d5e9d603a"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4371, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}