{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3NjM5MjQ5", "number": 571, "title": "HDDS-3042. Support running full Ratis pipeline from IDE (IntelliJ)", "bodyText": "What changes were proposed in this pull request?\nHDDS-1522 introduced a method to run full cluster in IntelliJ. The runner configurations can be copied with a shell script and a basic ozone-site.xml and log configuration to make it easy to run ozone from IDE.\nUnfortunately this setup supports only one Datanode and it's hard to debug full Ozone pipeline (3 datanodes) from IDE.\nThis patch provides 3 different configuration for 3 datanodes with different ports to make it possible to run them on the same host from the IDE.\nWhat is the link to the Apache JIRA\nhttps://issues.apache.org/jira/browse/HDDS-3042\nHow was this patch tested?\nCopy the scripts to the IntelliJ:\n./hadoop-ozone/dev-support/intellij/install-runconfigs.sh\n\nAnd run the following run Configuration (in this order)\n\nStorageContainerManagerInit\nStorageContainerManager\nOzoneManagerInit\nOzoneManager\nDatanode1\nDatanode2\nDatanode3\n\nYou can test the cluster with the OzoneShell runner (it creates a volume, but it can be adjusted to create a bucket and put a key)", "createdAt": "2020-02-20T09:19:38Z", "url": "https://github.com/apache/ozone/pull/571", "merged": true, "mergeCommit": {"oid": "efe08a2b619d089af5ddfcf4c00a5d414a8ea86b"}, "closed": true, "closedAt": "2020-03-18T19:07:26Z", "author": {"login": "elek"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcJspXEAH2gAyMzc3NjM5MjQ5OjU3MTliYTNkZjMxMDExOGVjODJjMWYzMjBlY2QwOTk3YjdiY2E4NTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcO6tSfgFqTM3NzA4MTk3Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5719ba3df310118ec82c1f320ecd0997b7bca852", "author": {"user": {"login": "elek", "name": "Elek, M\u00e1rton"}}, "url": "https://github.com/apache/ozone/commit/5719ba3df310118ec82c1f320ecd0997b7bca852", "committedDate": "2020-03-02T12:12:24Z", "message": "HDDS-3042. Support running full Ratis pipeline from IDE (IntelliJ)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d4b87a740c22c68a5a25ccd4db0a1b0025438e6", "author": {"user": {"login": "elek", "name": "Elek, M\u00e1rton"}}, "url": "https://github.com/apache/ozone/commit/1d4b87a740c22c68a5a25ccd4db0a1b0025438e6", "committedDate": "2020-03-02T12:12:24Z", "message": "rat fix"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9d55a37e10c2551c699247da4d2e708fd69f38c5", "author": {"user": {"login": "elek", "name": "Elek, M\u00e1rton"}}, "url": "https://github.com/apache/ozone/commit/9d55a37e10c2551c699247da4d2e708fd69f38c5", "committedDate": "2020-02-26T09:24:04Z", "message": "rat fix"}, "afterCommit": {"oid": "1d4b87a740c22c68a5a25ccd4db0a1b0025438e6", "author": {"user": {"login": "elek", "name": "Elek, M\u00e1rton"}}, "url": "https://github.com/apache/ozone/commit/1d4b87a740c22c68a5a25ccd4db0a1b0025438e6", "committedDate": "2020-03-02T12:12:24Z", "message": "rat fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4258de8c23f99979c1ae284c945a5f6c8bb6c7d4", "author": {"user": {"login": "elek", "name": "Elek, M\u00e1rton"}}, "url": "https://github.com/apache/ozone/commit/4258de8c23f99979c1ae284c945a5f6c8bb6c7d4", "committedDate": "2020-03-02T13:15:18Z", "message": "remove environment variable required for isolated tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "78766d738f053b6e873edbf50edcc23ce635556d", "author": {"user": {"login": "elek", "name": "Elek, M\u00e1rton"}}, "url": "https://github.com/apache/ozone/commit/78766d738f053b6e873edbf50edcc23ce635556d", "committedDate": "2020-03-04T16:20:07Z", "message": "fix rat again"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "72554d1912f2dec4ee2a1d0850779bd40656f2b1", "author": {"user": {"login": "elek", "name": "Elek, M\u00e1rton"}}, "url": "https://github.com/apache/ozone/commit/72554d1912f2dec4ee2a1d0850779bd40656f2b1", "committedDate": "2020-03-10T13:17:10Z", "message": "retrigger build with empty commit"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczNTMwMDk4", "url": "https://github.com/apache/ozone/pull/571#pullrequestreview-373530098", "createdAt": "2020-03-12T12:57:12Z", "commit": {"oid": "72554d1912f2dec4ee2a1d0850779bd40656f2b1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1Njc2NDM5", "url": "https://github.com/apache/ozone/pull/571#pullrequestreview-375676439", "createdAt": "2020-03-17T01:05:04Z", "commit": {"oid": "72554d1912f2dec4ee2a1d0850779bd40656f2b1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QwMTowNTowNFrOF3Krvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QwMTowNTowNFrOF3Krvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzM5MTAzOQ==", "bodyText": "Some setup may not have JRE 13. Should we keep JDK8 as a minimum supported Java version that is common on Mac Dev box?", "url": "https://github.com/apache/ozone/pull/571#discussion_r393391039", "createdAt": "2020-03-17T01:05:04Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-ozone/dev-support/intellij/runConfigurations/Datanode2.xml", "diffHunk": "@@ -0,0 +1,35 @@\n+<!--\n+   Licensed to the Apache Software Foundation (ASF) under one or more\n+   contributor license agreements.  See the NOTICE file distributed with\n+   this work for additional information regarding copyright ownership.\n+   The ASF licenses this file to You under the Apache License, Version 2.0\n+   (the \"License\"); you may not use this file except in compliance with\n+   the License.  You may obtain a copy of the License at\n+\n+       http://www.apache.org/licenses/LICENSE-2.0\n+\n+   Unless required by applicable law or agreed to in writing, software\n+   distributed under the License is distributed on an \"AS IS\" BASIS,\n+   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+   See the License for the specific language governing permissions and\n+   limitations under the License.\n+-->\n+<component name=\"ProjectRunConfigurationManager\">\n+  <configuration default=\"false\" name=\"Datanode2\" type=\"Application\" factoryName=\"Application\">\n+    <option name=\"ALTERNATIVE_JRE_PATH\" value=\"13\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72554d1912f2dec4ee2a1d0850779bd40656f2b1"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43a3a52d96a26d2b82b5d0d182c7993e7b7c3435", "author": {"user": {"login": "elek", "name": "Elek, M\u00e1rton"}}, "url": "https://github.com/apache/ozone/commit/43a3a52d96a26d2b82b5d0d182c7993e7b7c3435", "committedDate": "2020-03-18T16:18:57Z", "message": "remove JRE version entries"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20329a49da2b001a2f93d75c2428ace70c3a8b55", "author": {"user": {"login": "elek", "name": "Elek, M\u00e1rton"}}, "url": "https://github.com/apache/ozone/commit/20329a49da2b001a2f93d75c2428ace70c3a8b55", "committedDate": "2020-03-18T16:43:46Z", "message": "Merge remote-tracking branch 'elek/HDDS-3042' into HDDS-3042"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3MDgxOTcz", "url": "https://github.com/apache/ozone/pull/571#pullrequestreview-377081973", "createdAt": "2020-03-18T17:24:59Z", "commit": {"oid": "20329a49da2b001a2f93d75c2428ace70c3a8b55"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3601, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}