{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxMjkzNjAy", "number": 430, "title": "HDDS-2817. Fix listing buckets for setting --prefix equal to bucket name", "bodyText": "What changes were proposed in this pull request?\nThis PR was created to let --prefix work without excluding bucket name that is equal to prefix when listing buckets.\n\nFix.\nIn this line, we exclude the bucket name that is equal to --prefix when listing buckets for now.\nWe updated the > to >=, and this would include the bucket name that is equal to --prefix when listing buckets.\n\nWhat is the link to the Apache JIRA\nhttps://issues.apache.org/jira/browse/HDDS-2817\nHow was this patch tested?\nUT updated.\nGithub action passed.", "createdAt": "2020-01-10T06:17:09Z", "url": "https://github.com/apache/ozone/pull/430", "merged": true, "mergeCommit": {"oid": "876bec0130094b24472a7017fdb1fd81a65023bc"}, "closed": true, "closedAt": "2020-04-04T01:53:38Z", "author": {"login": "cxorm"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBuiqZAFqTM1NDY0NTQ1Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcULgX4gFqTM4NzY1NDkzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NjQ1NDU3", "url": "https://github.com/apache/ozone/pull/430#pullrequestreview-354645457", "createdAt": "2020-02-06T17:42:47Z", "commit": {"oid": "874571d3e8e3003dfff304a2d9d6aaa3ee185f62"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxNzo0Mjo0OFrOFmkPQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxNzo0Mjo0OFrOFmkPQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTk4MzkzNg==", "bodyText": "Should this be volumeBBucketsPrefixWithOzoneOwner.add instead? Otherwise this line is the same as line 70, adding the same element to a set won't do anything. :)", "url": "https://github.com/apache/ozone/pull/430#discussion_r375983936", "createdAt": "2020-02-06T17:42:48Z", "author": {"login": "smengcl"}, "path": "hadoop-ozone/ozone-manager/src/test/java/org/apache/hadoop/ozone/om/TestOmMetadataManager.java", "diffHunk": "@@ -83,7 +85,9 @@ public void testListBuckets() throws Exception {\n     TreeSet<String> volumeBBucketsPrefixWithOzoneOwner = new TreeSet<>();\n     TreeSet<String> volumeBBucketsPrefixWithHadoopOwner = new TreeSet<>();\n     TestOMRequestUtils.addVolumeToDB(volumeName2, omMetadataManager);\n-    for (int i=1; i<= 100; i++) {\n+    volumeABucketsPrefixWithOzoneOwner.add(prefixBucketNameWithOzoneOwner);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "874571d3e8e3003dfff304a2d9d6aaa3ee185f62"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwMjUwOTM4", "url": "https://github.com/apache/ozone/pull/430#pullrequestreview-360250938", "createdAt": "2020-02-18T11:06:24Z", "commit": {"oid": "874571d3e8e3003dfff304a2d9d6aaa3ee185f62"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7ebbee8b92b9e1b5bea8a38381dba1d996769ee", "author": {"user": {"login": "cxorm", "name": "Yi-Sheng Lien"}}, "url": "https://github.com/apache/ozone/commit/f7ebbee8b92b9e1b5bea8a38381dba1d996769ee", "committedDate": "2020-04-03T21:35:37Z", "message": "Fix --prefix bug"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "054747665a2a02b62dba65939d91d23dd3053c5b", "author": {"user": {"login": "cxorm", "name": "Yi-Sheng Lien"}}, "url": "https://github.com/apache/ozone/commit/054747665a2a02b62dba65939d91d23dd3053c5b", "committedDate": "2020-04-03T21:35:37Z", "message": "Update UT"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34ac832e648bd3a36a02e14d9a977837d0e0d124", "author": {"user": {"login": "cxorm", "name": "Yi-Sheng Lien"}}, "url": "https://github.com/apache/ozone/commit/34ac832e648bd3a36a02e14d9a977837d0e0d124", "committedDate": "2020-04-03T21:35:37Z", "message": "Address comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a8160ca79ec4f875d62b091d803551b052cf61fd", "author": {"user": {"login": "cxorm", "name": "Yi-Sheng Lien"}}, "url": "https://github.com/apache/ozone/commit/a8160ca79ec4f875d62b091d803551b052cf61fd", "committedDate": "2020-04-03T21:35:37Z", "message": "fix comments"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8c7b1b575089e51191bec17861ad6aa1c745391e", "author": {"user": {"login": "cxorm", "name": "Yi-Sheng Lien"}}, "url": "https://github.com/apache/ozone/commit/8c7b1b575089e51191bec17861ad6aa1c745391e", "committedDate": "2020-04-03T21:35:13Z", "message": "fix comments"}, "afterCommit": {"oid": "a8160ca79ec4f875d62b091d803551b052cf61fd", "author": {"user": {"login": "cxorm", "name": "Yi-Sheng Lien"}}, "url": "https://github.com/apache/ozone/commit/a8160ca79ec4f875d62b091d803551b052cf61fd", "committedDate": "2020-04-03T21:35:37Z", "message": "fix comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3NjU0OTM2", "url": "https://github.com/apache/ozone/pull/430#pullrequestreview-387654936", "createdAt": "2020-04-04T01:48:53Z", "commit": {"oid": "a8160ca79ec4f875d62b091d803551b052cf61fd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3915, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}