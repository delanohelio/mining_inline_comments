{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY2MDQzMjEx", "number": 1314, "title": "HDDS-3988: DN can distinguish SCMCommand from stale leader SCM", "bodyText": "What changes were proposed in this pull request?\nAs part of SCMCommand SCM will also send its current term, which will be used in Datanode to identify if the command was sent by the latest leader SCM.\n\u00a0\nDatanode will maintain the highest term that it has seen and compare it with the term that is received as part of SCMCommand.\nIf the term in the Datanode and SCMCommand are same, the command is added to the command queue for processing.\nIf the term in the Datanode is less than the term received in SCMCommand, Datanode will update its term and add the command to the command queue for processing.\nIf the term in the Datanode is greater than the term received in SCMCommand, Datanode will ignore the command.\nWhat is the link to the Apache JIRA\nhttps://issues.apache.org/jira/browse/HDDS-3988\nHow was this patch tested?\nCI", "createdAt": "2020-08-11T11:24:27Z", "url": "https://github.com/apache/ozone/pull/1314", "merged": true, "mergeCommit": {"oid": "0aa9ba3e354193855e43b488d325cd64137c5648"}, "closed": true, "closedAt": "2020-12-07T05:10:40Z", "author": {"login": "GlenGeng"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-CPlQgFqTQ2NTU1NDk1Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdih3o5AH2gAyNDY2MDQzMjExOjMzMmZkM2Q5MDRiY2QwZjRiNDA4YmI3ZTIzNDdkZGFlYWE5MzJlNWQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1NTU0OTU2", "url": "https://github.com/apache/ozone/pull/1314#pullrequestreview-465554956", "createdAt": "2020-08-12T02:46:13Z", "commit": {"oid": "8d780e7c6461880a509e8c48aaa2620238bd0202"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwMjo0NjoxM1rOG_P3Fw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwMjo0NjoxM1rOG_P3Fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODk3MzMzNQ==", "bodyText": "Can be a private method", "url": "https://github.com/apache/ozone/pull/1314#discussion_r468973335", "createdAt": "2020-08-12T02:46:13Z", "author": {"login": "timmylicheng"}, "path": "hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java", "diffHunk": "@@ -470,6 +484,65 @@ public void execute(ExecutorService service, long time, TimeUnit unit)\n     }\n   }\n \n+  /**\n+   * After startup, datanode needs detect latest leader SCM before handling\n+   * any SCMCommand, so that it won't be disturbed by stale leader SCM.\n+   *\n+   * The rule is: after majority SCMs are in HEARTBEAT state and has\n+   * heard from leader SCMs (commandQueue is not empty), datanode will init\n+   * termOfLeaderSCM with the max term found in commandQueue.\n+   *\n+   * The init process also works for non-HA mode. In that case, term of all\n+   * SCMCommands will be 0.\n+   */\n+  void initTermOfLeaderSCM() {\n+    // only init once\n+    if (termOfLeaderSCM.isPresent()) {\n+      return;\n+    }\n+\n+    AtomicInteger scmNum = new AtomicInteger(0);\n+    AtomicInteger activeScmNum = new AtomicInteger(0);\n+\n+    getParent().getConnectionManager().getValues()\n+        .forEach(endpoint -> {\n+          if (endpoint.isPassive()) {\n+            return;\n+          }\n+          scmNum.incrementAndGet();\n+          if (endpoint.getState()\n+              == EndpointStateMachine.EndPointStates.HEARTBEAT) {\n+            activeScmNum.incrementAndGet();\n+          }\n+        });\n+\n+    // majority SCMs should be in HEARTBEAT state.\n+    if (activeScmNum.get() < scmNum.get() / 2 + 1) {\n+      return;\n+    }\n+\n+    // if commandQueue is not empty, init termOfLeaderSCM\n+    // with the largest term found in commandQueue\n+    commandQueue.stream()\n+        .mapToLong(SCMCommand::getTerm)\n+        .max()\n+        .ifPresent(term -> termOfLeaderSCM = Optional.of(term));\n+  }\n+\n+  /**\n+   * monotonically increase termOfLeaderSCM.\n+   * Always record the latest term that has seen.\n+   */\n+  void updateTermOfLeaderSCM(SCMCommand<?> command) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d780e7c6461880a509e8c48aaa2620238bd0202"}, "originalPosition": 88}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY1NTU0OTgy", "url": "https://github.com/apache/ozone/pull/1314#pullrequestreview-465554982", "createdAt": "2020-08-12T02:46:20Z", "commit": {"oid": "8d780e7c6461880a509e8c48aaa2620238bd0202"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwMjo0NjoyMFrOG_P3LQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwMjo0NjoyMFrOG_P3LQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODk3MzM1Nw==", "bodyText": "Can be a private method", "url": "https://github.com/apache/ozone/pull/1314#discussion_r468973357", "createdAt": "2020-08-12T02:46:20Z", "author": {"login": "timmylicheng"}, "path": "hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java", "diffHunk": "@@ -470,6 +484,65 @@ public void execute(ExecutorService service, long time, TimeUnit unit)\n     }\n   }\n \n+  /**\n+   * After startup, datanode needs detect latest leader SCM before handling\n+   * any SCMCommand, so that it won't be disturbed by stale leader SCM.\n+   *\n+   * The rule is: after majority SCMs are in HEARTBEAT state and has\n+   * heard from leader SCMs (commandQueue is not empty), datanode will init\n+   * termOfLeaderSCM with the max term found in commandQueue.\n+   *\n+   * The init process also works for non-HA mode. In that case, term of all\n+   * SCMCommands will be 0.\n+   */\n+  void initTermOfLeaderSCM() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d780e7c6461880a509e8c48aaa2620238bd0202"}, "originalPosition": 50}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8d780e7c6461880a509e8c48aaa2620238bd0202", "author": {"user": {"login": "GlenGeng", "name": "Glen Geng"}}, "url": "https://github.com/apache/ozone/commit/8d780e7c6461880a509e8c48aaa2620238bd0202", "committedDate": "2020-08-11T11:21:42Z", "message": "HDDS-3988: DN can distinguish SCMCommand from stale leader SCM"}, "afterCommit": {"oid": "ea538f97370242c96462966cb760afc9444e047b", "author": {"user": {"login": "GlenGeng", "name": "Glen Geng"}}, "url": "https://github.com/apache/ozone/commit/ea538f97370242c96462966cb760afc9444e047b", "committedDate": "2020-08-18T11:24:02Z", "message": "HDDS-3988: DN can distinguish SCMCommand from stale leader SCM"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ea538f97370242c96462966cb760afc9444e047b", "author": {"user": {"login": "GlenGeng", "name": "Glen Geng"}}, "url": "https://github.com/apache/ozone/commit/ea538f97370242c96462966cb760afc9444e047b", "committedDate": "2020-08-18T11:24:02Z", "message": "HDDS-3988: DN can distinguish SCMCommand from stale leader SCM"}, "afterCommit": {"oid": "b0ed6364c9bd8421fdd027add93c110386dcac68", "author": {"user": {"login": "GlenGeng", "name": "Glen Geng"}}, "url": "https://github.com/apache/ozone/commit/b0ed6364c9bd8421fdd027add93c110386dcac68", "committedDate": "2020-08-19T02:00:01Z", "message": "HDDS-3988: DN can distinguish SCMCommand from stale leader SCM"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxNTM0MjUx", "url": "https://github.com/apache/ozone/pull/1314#pullrequestreview-471534251", "createdAt": "2020-08-20T12:14:32Z", "commit": {"oid": "b0ed6364c9bd8421fdd027add93c110386dcac68"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxMjoxNDozMlrOHD-CLA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxMjoxNDozMlrOHD-CLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzkyNDE0MA==", "bodyText": "Shall we use AtomicLong for termOfLeaderSCM?", "url": "https://github.com/apache/ozone/pull/1314#discussion_r473924140", "createdAt": "2020-08-20T12:14:32Z", "author": {"login": "timmylicheng"}, "path": "hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java", "diffHunk": "@@ -470,6 +484,65 @@ public void execute(ExecutorService service, long time, TimeUnit unit)\n     }\n   }\n \n+  /**\n+   * After startup, datanode needs detect latest leader SCM before handling\n+   * any SCMCommand, so that it won't be disturbed by stale leader SCM.\n+   *\n+   * The rule is: after majority SCMs are in HEARTBEAT state and has\n+   * heard from leader SCMs (commandQueue is not empty), datanode will init\n+   * termOfLeaderSCM with the max term found in commandQueue.\n+   *\n+   * The init process also works for non-HA mode. In that case, term of all\n+   * SCMCommands will be 0.\n+   */\n+  void initTermOfLeaderSCM() {\n+    // only init once\n+    if (termOfLeaderSCM.isPresent()) {\n+      return;\n+    }\n+\n+    AtomicInteger scmNum = new AtomicInteger(0);\n+    AtomicInteger activeScmNum = new AtomicInteger(0);\n+\n+    getParent().getConnectionManager().getValues()\n+        .forEach(endpoint -> {\n+          if (endpoint.isPassive()) {\n+            return;\n+          }\n+          scmNum.incrementAndGet();\n+          if (endpoint.getState()\n+              == EndpointStateMachine.EndPointStates.HEARTBEAT) {\n+            activeScmNum.incrementAndGet();\n+          }\n+        });\n+\n+    // majority SCMs should be in HEARTBEAT state.\n+    if (activeScmNum.get() < scmNum.get() / 2 + 1) {\n+      return;\n+    }\n+\n+    // if commandQueue is not empty, init termOfLeaderSCM\n+    // with the largest term found in commandQueue\n+    commandQueue.stream()\n+        .mapToLong(SCMCommand::getTerm)\n+        .max()\n+        .ifPresent(term -> termOfLeaderSCM = Optional.of(term));\n+  }\n+\n+  /**\n+   * monotonically increase termOfLeaderSCM.\n+   * Always record the latest term that has seen.\n+   */\n+  void updateTermOfLeaderSCM(SCMCommand<?> command) {\n+    if (!termOfLeaderSCM.isPresent()) {\n+      LOG.error(\"should init termOfLeaderSCM before update it.\");\n+      return;\n+    }\n+\n+    termOfLeaderSCM = Optional.of(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0ed6364c9bd8421fdd027add93c110386dcac68"}, "originalPosition": 94}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxNTQ4NDEz", "url": "https://github.com/apache/ozone/pull/1314#pullrequestreview-471548413", "createdAt": "2020-08-20T12:34:01Z", "commit": {"oid": "b0ed6364c9bd8421fdd027add93c110386dcac68"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxMjozNDowMlrOHD-tKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yMFQxMjozNDowMlrOHD-tKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzkzNTE0Ng==", "bodyText": "Any case SCMNodeManager would not require SCMHAManager?\nNote that PipelineManager will always rely on SCMHAManager", "url": "https://github.com/apache/ozone/pull/1314#discussion_r473935146", "createdAt": "2020-08-20T12:34:02Z", "author": {"login": "timmylicheng"}, "path": "hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java", "diffHunk": "@@ -130,6 +135,14 @@ public SCMNodeManager(OzoneConfiguration conf,\n     this.useHostname = conf.getBoolean(\n         DFSConfigKeysLegacy.DFS_DATANODE_USE_DN_HOSTNAME,\n         DFSConfigKeysLegacy.DFS_DATANODE_USE_DN_HOSTNAME_DEFAULT);\n+    this.scmhaManager = scmhaManager;\n+  }\n+\n+  public SCMNodeManager(OzoneConfiguration conf,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0ed6364c9bd8421fdd027add93c110386dcac68"}, "originalPosition": 42}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0Njk5MTc2", "url": "https://github.com/apache/ozone/pull/1314#pullrequestreview-484699176", "createdAt": "2020-09-09T06:35:23Z", "commit": {"oid": "b0ed6364c9bd8421fdd027add93c110386dcac68"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwNjozNToyM1rOHO4qMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwNjozNzoxMlrOHO4tDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTM3MDQxOA==", "bodyText": "I am confused on when termOfLeaderSCM is updated to the newest leader term. Is termOfLeaderSCM updated in during leader selection?", "url": "https://github.com/apache/ozone/pull/1314#discussion_r485370418", "createdAt": "2020-09-09T06:35:23Z", "author": {"login": "amaliujia"}, "path": "hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/statemachine/StateContext.java", "diffHunk": "@@ -478,7 +551,26 @@ public void execute(ExecutorService service, long time, TimeUnit unit)\n   public SCMCommand getNextCommand() {\n     lock.lock();\n     try {\n-      return commandQueue.poll();\n+      initTermOfLeaderSCM();\n+      if (!termOfLeaderSCM.isPresent()) {\n+        return null;      // not ready yet\n+      }\n+\n+      while (true) {\n+        SCMCommand<?> command = commandQueue.poll();\n+        if (command == null) {\n+          return null;\n+        }\n+\n+        updateTermOfLeaderSCM(command);\n+        if (command.getTerm() == termOfLeaderSCM.get()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0ed6364c9bd8421fdd027add93c110386dcac68"}, "originalPosition": 118}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTM3MTE1MA==", "bodyText": "another challenge is how to test such change. ideally we can have a minicluster setup with configurable nodes so we can simulate the scenario of split brian.", "url": "https://github.com/apache/ozone/pull/1314#discussion_r485371150", "createdAt": "2020-09-09T06:37:12Z", "author": {"login": "amaliujia"}, "path": "hadoop-hdds/server-scm/src/test/java/org/apache/hadoop/hdds/scm/ha/MockSCMHAManager.java", "diffHunk": "@@ -78,8 +79,8 @@ public void start() throws IOException {\n    * {@inheritDoc}\n    */\n   @Override\n-  public boolean isLeader() {\n-    return isLeader;\n+  public Optional<Long> isLeader() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0ed6364c9bd8421fdd027add93c110386dcac68"}, "originalPosition": 14}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b0ed6364c9bd8421fdd027add93c110386dcac68", "author": {"user": {"login": "GlenGeng", "name": "Glen Geng"}}, "url": "https://github.com/apache/ozone/commit/b0ed6364c9bd8421fdd027add93c110386dcac68", "committedDate": "2020-08-19T02:00:01Z", "message": "HDDS-3988: DN can distinguish SCMCommand from stale leader SCM"}, "afterCommit": {"oid": "d5c05a264a65eac9fcbb3fcff8f85f6e7d560588", "author": {"user": {"login": "GlenGeng", "name": "Glen Geng"}}, "url": "https://github.com/apache/ozone/commit/d5c05a264a65eac9fcbb3fcff8f85f6e7d560588", "committedDate": "2020-11-18T09:03:24Z", "message": "HDDS-3988: DN can distinguish SCMCommand from stale leader SCM"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d5c05a264a65eac9fcbb3fcff8f85f6e7d560588", "author": {"user": {"login": "GlenGeng", "name": "Glen Geng"}}, "url": "https://github.com/apache/ozone/commit/d5c05a264a65eac9fcbb3fcff8f85f6e7d560588", "committedDate": "2020-11-18T09:03:24Z", "message": "HDDS-3988: DN can distinguish SCMCommand from stale leader SCM"}, "afterCommit": {"oid": "2ecae8fe53d2ea83f5453ed40669b80f1917204f", "author": {"user": {"login": "GlenGeng", "name": "Glen Geng"}}, "url": "https://github.com/apache/ozone/commit/2ecae8fe53d2ea83f5453ed40669b80f1917204f", "committedDate": "2020-11-18T09:22:40Z", "message": "HDDS-3988: DN can distinguish SCMCommand from stale leader SCM"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2ecae8fe53d2ea83f5453ed40669b80f1917204f", "author": {"user": {"login": "GlenGeng", "name": "Glen Geng"}}, "url": "https://github.com/apache/ozone/commit/2ecae8fe53d2ea83f5453ed40669b80f1917204f", "committedDate": "2020-11-18T09:22:40Z", "message": "HDDS-3988: DN can distinguish SCMCommand from stale leader SCM"}, "afterCommit": {"oid": "6645cabbdd51cfff9522b3dd271f4ca65192bbd4", "author": {"user": {"login": "GlenGeng", "name": "Glen Geng"}}, "url": "https://github.com/apache/ozone/commit/6645cabbdd51cfff9522b3dd271f4ca65192bbd4", "committedDate": "2020-11-19T12:23:58Z", "message": "HDDS-3988: DN can distinguish SCMCommand from stale leader SCM."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92be0d6c391bfac3670014d16270a30d9456e470", "author": {"user": {"login": "GlenGeng", "name": "Glen Geng"}}, "url": "https://github.com/apache/ozone/commit/92be0d6c391bfac3670014d16270a30d9456e470", "committedDate": "2020-12-02T11:17:05Z", "message": "HDDS-3988: DN can distinguish SCMCommand from stale leader SCM."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6645cabbdd51cfff9522b3dd271f4ca65192bbd4", "author": {"user": {"login": "GlenGeng", "name": "Glen Geng"}}, "url": "https://github.com/apache/ozone/commit/6645cabbdd51cfff9522b3dd271f4ca65192bbd4", "committedDate": "2020-11-19T12:23:58Z", "message": "HDDS-3988: DN can distinguish SCMCommand from stale leader SCM."}, "afterCommit": {"oid": "92be0d6c391bfac3670014d16270a30d9456e470", "author": {"user": {"login": "GlenGeng", "name": "Glen Geng"}}, "url": "https://github.com/apache/ozone/commit/92be0d6c391bfac3670014d16270a30d9456e470", "committedDate": "2020-12-02T11:17:05Z", "message": "HDDS-3988: DN can distinguish SCMCommand from stale leader SCM."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQzODU3MTU1", "url": "https://github.com/apache/ozone/pull/1314#pullrequestreview-543857155", "createdAt": "2020-12-03T11:25:33Z", "commit": {"oid": "92be0d6c391bfac3670014d16270a30d9456e470"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMToyNTozM1rOH-VwQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxMToyNTozM1rOH-VwQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTEzMDE3Nw==", "bodyText": "Nit: Try not to list all the commands by name. It would be hard to maintain the correctness of the comments.", "url": "https://github.com/apache/ozone/pull/1314#discussion_r535130177", "createdAt": "2020-12-03T11:25:33Z", "author": {"login": "timmylicheng"}, "path": "hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/node/SCMNodeManager.java", "diffHunk": "@@ -656,8 +669,57 @@ public void setContainers(DatanodeDetails datanodeDetails,\n   // Since datanode commands are added through event queue, onMessage method\n   // should take care of adding commands to command queue.\n   // Refactor and remove all the usage of this method and delete this method.\n+  /**\n+   * Only leader SCM can send SCMCommand to datanode, and needs record its\n+   * term in the command so that datanode can distinguish commands from stale\n+   * leader SCM by comparing term.\n+   *\n+   * There are 7 SCMCommands:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "92be0d6c391bfac3670014d16270a30d9456e470"}, "originalPosition": 59}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "332fd3d904bcd0f4b408bb7e2347ddaeaa932e5d", "author": {"user": {"login": "GlenGeng", "name": "Glen Geng"}}, "url": "https://github.com/apache/ozone/commit/332fd3d904bcd0f4b408bb7e2347ddaeaa932e5d", "committedDate": "2020-12-03T11:58:18Z", "message": "HDDS-3988: fix comments"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2715, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}