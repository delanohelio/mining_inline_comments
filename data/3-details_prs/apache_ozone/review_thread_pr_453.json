{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYzOTA5OTU3", "number": 453, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QwODozMzo1MlrODYvvtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QwODozMzo1MlrODYvvtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI3Mjc0Njc2OnYy", "diffSide": "RIGHT", "path": "hadoop-ozone/dist/src/main/smoketest/security/ozone-secure-recon.robot", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QwODozMzo1MlrOFex5VQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xN1QxODo1OTo1OFrOFfCSsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgxOTA5Mw==", "bodyText": "The robot tests look good, but I think we could get rid of the duplication.  security/ozone-secure-recon.robot works in both secure and unsecure env.  So I propose:\n\nrename security/ozone-secure-recon.robot to recon/recon-api.robot (ie. get rid of the unsecure-only test, but keep its name and location)\nadd execute_robot_test recon recon in ozonesecure/test.sh, too\n\nThis way the same test would be executed in both secure and unsecure env, similar to eg. s3 tests:\nhttps://github.com/apache/hadoop-ozone/blob/1caf1e30865aa2b380a7fca6d87f5ae8034fee4e/hadoop-ozone/dist/src/main/compose/ozone/test.sh#L39\nhttps://github.com/apache/hadoop-ozone/blob/1caf1e30865aa2b380a7fca6d87f5ae8034fee4e/hadoop-ozone/dist/src/main/compose/ozonesecure/test.sh#L36", "url": "https://github.com/apache/ozone/pull/453#discussion_r367819093", "createdAt": "2020-01-17T08:33:52Z", "author": {"login": "adoroszlai"}, "path": "hadoop-ozone/dist/src/main/smoketest/security/ozone-secure-recon.robot", "diffHunk": "@@ -0,0 +1,30 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#     http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+*** Settings ***\n+Documentation       Smoke test to start cluster with docker-compose environments.\n+Library             OperatingSystem\n+Library             String\n+Library             BuiltIn\n+Resource            ../commonlib.robot\n+\n+*** Variables ***\n+${ENDPOINT_URL}     http://recon:9888\n+\n+*** Test Cases ***\n+Recon REST API\n+    Run Keyword if      '${SECURITY_ENABLED}' == 'true'     Kinit HTTP user\n+    ${result} =         Execute                             curl --negotiate -u : -v ${ENDPOINT_URL}/api/containers\n+                        Should contain      ${result}       containers", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "760e665c88ea0b267a42608932ded42ea9e4a76b"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODA4NzczMA==", "bodyText": "@adoroszlai Thank you for the suggestion. I have addressed it.", "url": "https://github.com/apache/ozone/pull/453#discussion_r368087730", "createdAt": "2020-01-17T18:59:58Z", "author": {"login": "avijayanhwx"}, "path": "hadoop-ozone/dist/src/main/smoketest/security/ozone-secure-recon.robot", "diffHunk": "@@ -0,0 +1,30 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#     http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+*** Settings ***\n+Documentation       Smoke test to start cluster with docker-compose environments.\n+Library             OperatingSystem\n+Library             String\n+Library             BuiltIn\n+Resource            ../commonlib.robot\n+\n+*** Variables ***\n+${ENDPOINT_URL}     http://recon:9888\n+\n+*** Test Cases ***\n+Recon REST API\n+    Run Keyword if      '${SECURITY_ENABLED}' == 'true'     Kinit HTTP user\n+    ${result} =         Execute                             curl --negotiate -u : -v ${ENDPOINT_URL}/api/containers\n+                        Should contain      ${result}       containers", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NzgxOTA5Mw=="}, "originalCommit": {"oid": "760e665c88ea0b267a42608932ded42ea9e4a76b"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4963, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}