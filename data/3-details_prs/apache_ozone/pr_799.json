{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxMjg2MzM0", "number": 799, "title": "HDDS-3360. Duplicate Ozone Client in renew/cancel token handlers", "bodyText": "What changes were proposed in this pull request?\n\nAvoid creating duplicate Ozone Client for token operations.\nMake URI optional for token get\n\nThis PR is based on top of #775, so that one should be merged first.  The only change here is 480b467.\nhttps://issues.apache.org/jira/browse/HDDS-3360\nHow was this patch tested?\nAdded smoke test for token operations.", "createdAt": "2020-04-09T08:32:35Z", "url": "https://github.com/apache/ozone/pull/799", "merged": true, "mergeCommit": {"oid": "57c9cc9ea7c486c031e95bab040ca5469511090a"}, "closed": true, "closedAt": "2020-04-17T08:39:40Z", "author": {"login": "adoroszlai"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcUl1UzAH2gAyNDAxMjg2MzM0OmEyNzE1ZjkzZmEwM2ZlODExODRkYmY3MmJjODk0MDliNDc2NDliODI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcX0TUHAH2gAyNDAxMjg2MzM0OmM5MWQ2YWJjMzY4NTQwZWYyOTUwNGVjYjYxYTZjYjFhZWI0ZTRkOWU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a2715f93fa03fe81184dbf72bc89409b47649b82", "author": {"user": {"login": "adoroszlai", "name": "Doroszlai, Attila"}}, "url": "https://github.com/apache/ozone/commit/a2715f93fa03fe81184dbf72bc89409b47649b82", "committedDate": "2020-04-05T08:29:18Z", "message": "HDDS-3340. Move Ozone Shell from ozone-manager to tools"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7dfa1d623624386c436a0166685133e75ddf6fa", "author": {"user": {"login": "adoroszlai", "name": "Doroszlai, Attila"}}, "url": "https://github.com/apache/ozone/commit/d7dfa1d623624386c436a0166685133e75ddf6fa", "committedDate": "2020-04-05T11:55:36Z", "message": "trigger new CI check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e35eeff54c9f519303bbb134087a068f8f65d03", "author": {"user": {"login": "adoroszlai", "name": "Doroszlai, Attila"}}, "url": "https://github.com/apache/ozone/commit/6e35eeff54c9f519303bbb134087a068f8f65d03", "committedDate": "2020-04-05T12:57:03Z", "message": "trigger new CI check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9b7de5d4c60f7a10a9c8b0b9f977e1ed6753908", "author": {"user": {"login": "adoroszlai", "name": "Doroszlai, Attila"}}, "url": "https://github.com/apache/ozone/commit/c9b7de5d4c60f7a10a9c8b0b9f977e1ed6753908", "committedDate": "2020-04-05T17:58:22Z", "message": "trigger new CI check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9bace72f298e66f27edf786f1898e0fab4fe2e4a", "author": {"user": {"login": "adoroszlai", "name": "Doroszlai, Attila"}}, "url": "https://github.com/apache/ozone/commit/9bace72f298e66f27edf786f1898e0fab4fe2e4a", "committedDate": "2020-04-07T09:43:04Z", "message": "Merge remote-tracking branch 'origin/master' into HDDS-3340"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1f2255b69fc3b40ff2062e9e041881f5adafdf12", "author": {"user": {"login": "adoroszlai", "name": "Doroszlai, Attila"}}, "url": "https://github.com/apache/ozone/commit/1f2255b69fc3b40ff2062e9e041881f5adafdf12", "committedDate": "2020-04-08T13:53:05Z", "message": "Merge remote-tracking branch 'origin/master' into HDDS-3340"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "480b467302ea1b6175b27c673c8f3ee6c8fbe2e5", "author": {"user": {"login": "adoroszlai", "name": "Doroszlai, Attila"}}, "url": "https://github.com/apache/ozone/commit/480b467302ea1b6175b27c673c8f3ee6c8fbe2e5", "committedDate": "2020-04-09T05:28:00Z", "message": "HDDS-3360. Duplicate Ozone Client in renew/cancel token handlers"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c42707e3fbaba9d92a7795b314d6405d5e9d603a", "author": {"user": {"login": "adoroszlai", "name": "Doroszlai, Attila"}}, "url": "https://github.com/apache/ozone/commit/c42707e3fbaba9d92a7795b314d6405d5e9d603a", "committedDate": "2020-04-09T06:31:36Z", "message": "trigger new CI check"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkwOTExMzE4", "url": "https://github.com/apache/ozone/pull/799#pullrequestreview-390911318", "createdAt": "2020-04-09T15:42:50Z", "commit": {"oid": "c42707e3fbaba9d92a7795b314d6405d5e9d603a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNTo0Mjo1MFrOGDeejA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNTo0Mjo1MFrOGDeejA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjI5ODI1Mg==", "bodyText": "NIT: isApplicable is very generic, can this be more specific? when it return null (e.g., the user input miss some arguments), do we ensure context related help returned from the console output? Maybe we can add a negative case in the new acceptance test.", "url": "https://github.com/apache/ozone/pull/799#discussion_r406298252", "createdAt": "2020-04-09T15:42:50Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-ozone/tools/src/main/java/org/apache/hadoop/ozone/shell/Handler.java", "diffHunk": "@@ -58,15 +58,25 @@ public OzoneConfiguration createOzoneConfiguration() {\n     return parent.createOzoneConfiguration();\n   }\n \n-  protected abstract OzoneAddress getAddress() throws OzoneClientException;\n+  protected OzoneAddress getAddress() throws OzoneClientException {\n+    return new OzoneAddress();\n+  }\n \n   protected abstract void execute(OzoneClient client, OzoneAddress address)\n       throws IOException, OzoneClientException;\n \n+  protected boolean isApplicable() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c42707e3fbaba9d92a7795b314d6405d5e9d603a"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b3f9c4f3e8c10f5a6bcb949ca4b158c0631b7b14", "author": {"user": {"login": "adoroszlai", "name": "Doroszlai, Attila"}}, "url": "https://github.com/apache/ozone/commit/b3f9c4f3e8c10f5a6bcb949ca4b158c0631b7b14", "committedDate": "2020-04-09T17:36:09Z", "message": "Merge remote-tracking branch 'origin/master' into HDDS-3360"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7abc58521d5931174b201f7fd2409eeac84fb61", "author": {"user": {"login": "adoroszlai", "name": "Doroszlai, Attila"}}, "url": "https://github.com/apache/ozone/commit/d7abc58521d5931174b201f7fd2409eeac84fb61", "committedDate": "2020-04-14T09:35:14Z", "message": "HDDS-3360. Use qualified name for securityEnabled"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5b8be133ac25ade73d746675e42c9c2e6472df7", "author": {"user": {"login": "adoroszlai", "name": "Doroszlai, Attila"}}, "url": "https://github.com/apache/ozone/commit/a5b8be133ac25ade73d746675e42c9c2e6472df7", "committedDate": "2020-04-14T09:40:17Z", "message": "HDDS-3360. Document isApplicable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "efbd54a1a773c2ef96452cc722eb46b3a1ed02cb", "author": {"user": {"login": "adoroszlai", "name": "Doroszlai, Attila"}}, "url": "https://github.com/apache/ozone/commit/efbd54a1a773c2ef96452cc722eb46b3a1ed02cb", "committedDate": "2020-04-14T11:45:11Z", "message": "HDDS-3360. Test token operations in both secure and unsecure environment"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "43297722f60904103432f5cf1b4aaa36bb587506", "author": {"user": {"login": "adoroszlai", "name": "Doroszlai, Attila"}}, "url": "https://github.com/apache/ozone/commit/43297722f60904103432f5cf1b4aaa36bb587506", "committedDate": "2020-04-15T07:58:35Z", "message": "trigger new CI check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c91d6abc368540ef29504ecb61a6cb1aeb4e4d9e", "author": {"user": {"login": "adoroszlai", "name": "Doroszlai, Attila"}}, "url": "https://github.com/apache/ozone/commit/c91d6abc368540ef29504ecb61a6cb1aeb4e4d9e", "committedDate": "2020-04-15T09:02:30Z", "message": "trigger new CI check"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3339, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}