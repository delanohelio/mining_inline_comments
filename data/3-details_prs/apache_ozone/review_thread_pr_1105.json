{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3ODQwMTM1", "number": 1105, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxMToyMDo1NlrOEHh9Fw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxMToyMDo1NlrOEHh9Fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2MzMxNzk5OnYy", "diffSide": "RIGHT", "path": "hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/ConfigurationSubCommand.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxMToyMDo1NlrOGm8cVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxMzo0NTo0M1rOGnBS9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzQ4OTM2Nw==", "bodyText": "Shouldn't it handle inherited fields, too?  I don't think we have such a configuration object hierarchy currently, but injection is prepared for it:\nhttps://github.com/apache/hadoop-ozone/blob/53549eea6f5dfc8e4cc9594583d7510b206a8acd/hadoop-hdds/config/src/main/java/org/apache/hadoop/hdds/conf/ConfigurationReflectionUtil.java#L37-L44", "url": "https://github.com/apache/ozone/pull/1105#discussion_r443489367", "createdAt": "2020-06-22T11:20:56Z", "author": {"login": "adoroszlai"}, "path": "hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/ConfigurationSubCommand.java", "diffHunk": "@@ -71,9 +71,9 @@ private void showConfig(Class clazz, Type type) {\n \n     String prefix = configGroup.prefix();\n \n-    for (Method method : clazz.getMethods()) {\n-      if (method.isAnnotationPresent(Config.class)) {\n-        Config config = method.getAnnotation(Config.class);\n+    for (Field field : clazz.getDeclaredFields()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "38e6259a12aaae32bab6736cc1bc2c8a7137e93f"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzU2ODg4NQ==", "bodyText": "Good point.\nBut I am afraid we need a unit test to here to prove if it works as it's a more complex logic. I added one to prove it work.", "url": "https://github.com/apache/ozone/pull/1105#discussion_r443568885", "createdAt": "2020-06-22T13:45:43Z", "author": {"login": "elek"}, "path": "hadoop-ozone/insight/src/main/java/org/apache/hadoop/ozone/insight/ConfigurationSubCommand.java", "diffHunk": "@@ -71,9 +71,9 @@ private void showConfig(Class clazz, Type type) {\n \n     String prefix = configGroup.prefix();\n \n-    for (Method method : clazz.getMethods()) {\n-      if (method.isAnnotationPresent(Config.class)) {\n-        Config config = method.getAnnotation(Config.class);\n+    for (Field field : clazz.getDeclaredFields()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzQ4OTM2Nw=="}, "originalCommit": {"oid": "38e6259a12aaae32bab6736cc1bc2c8a7137e93f"}, "originalPosition": 27}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4094, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}