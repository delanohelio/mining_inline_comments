{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0ODk0NTc2", "number": 990, "title": "HDDS-3653. Add documentation for Copy key command", "bodyText": "What changes were proposed in this pull request?\nAdd a documents for cp key command\nWhat is the link to the Apache JIRA\nhttps://issues.apache.org/jira/projects/HDDS/issues/HDDS-3653\nHow was this patch tested?\nJust documents debt. no need to test", "createdAt": "2020-05-29T05:31:19Z", "url": "https://github.com/apache/ozone/pull/990", "merged": true, "mergeCommit": {"oid": "3e36271c297424f33b47727e478fbb75bdaa3ef6"}, "closed": true, "closedAt": "2020-06-03T23:06:05Z", "author": {"login": "maobaolong"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcl7nEQgH2gAyNDI0ODk0NTc2Ojc4NjdkYmU1YTgwNzUwMjQzZjM4NDA2MDAzZDcwNzg0MmUxOWQwZWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcndj2aAFqTQyMzEyNTc0MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7867dbe5a80750243f38406003d707842e19d0ec", "author": {"user": {"login": "maobaolong", "name": "maobaolong"}}, "url": "https://github.com/apache/ozone/commit/7867dbe5a80750243f38406003d707842e19d0ec", "committedDate": "2020-05-29T05:28:21Z", "message": "HDDS-3653. Add documentation for Copy key command"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzMTI1NzQx", "url": "https://github.com/apache/ozone/pull/990#pullrequestreview-423125741", "createdAt": "2020-06-02T23:35:32Z", "commit": {"oid": "7867dbe5a80750243f38406003d707842e19d0ec"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQyMzozNTozMlrOGeHXTA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMlQyMzozNTozMlrOGeHXTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDIzMTExNg==", "bodyText": "The parameter is a bit different from hadoop cp comamnd. My understanding is that the uri is to help the OM HA but seems here we are restricted to under the same URI. Does it take full uri as from and to key parameters?", "url": "https://github.com/apache/ozone/pull/990#discussion_r434231116", "createdAt": "2020-06-02T23:35:32Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/docs/content/shell/KeyCommands.md", "diffHunk": "@@ -155,3 +156,22 @@ The `key cat` command displays the contents of a specific Ozone key to standard\n ozone sh key cat /hive/jan/hello.txt\n {{< /highlight >}}\n Displays the contents of the key hello.txt from the _/hive/jan_ bucket to standard output.\n+\n+### Cp\n+\n+The `key cp` command copies a key to another one in the specified bucket.\n+\n+***Params:***\n+\n+| Arguments                      |  Comment                                |\n+|--------------------------------|-----------------------------------------|\n+|  Uri                           | The name of the bucket in **/volume/bucket** format.\n+|  FromKey                       | The existing key to be copied\n+|  ToKey                         | The name of the new key\n+| -r, \\-\\-replication            | Optional, Number of copies, ONE or THREE are the options. Picks up the default from cluster configuration.\n+| -t, \\-\\-type                   | Optional, replication type of the new key. RATIS and STAND_ALONE are the options. Picks up the default from cluster configuration.\n+\n+{{< highlight bash >}}\n+ozone sh key cp /hive/jan sales.orc new_one.orc", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7867dbe5a80750243f38406003d707842e19d0ec"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3105, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}