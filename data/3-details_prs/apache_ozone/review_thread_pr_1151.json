{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyNDEwNTAw", "number": 1151, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMToxODoyNFrOEMPwFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMTozMTowNFrOEMP_aA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMjc2NDM4OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAConfiguration.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMToxODoyNFrOGuP9eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNzozMzoxNVrOGxeBjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE0OTE3OA==", "bodyText": "Is there a reason to change long to double here and force conversion later?", "url": "https://github.com/apache/ozone/pull/1151#discussion_r451149178", "createdAt": "2020-07-07T21:18:24Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAConfiguration.java", "diffHunk": "@@ -78,7 +78,7 @@\n       description = \"The size of the raft segment used by Apache Ratis on\" +\n           \" SCM. (16 KB by default)\"\n   )\n-  private long raftSegmentSize = 16L * 1024L;\n+  private double raftSegmentSize = 16L * 1024L;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78485ca9217e7c7372e83d87e081e1b88826ad7b"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTI1NjU4MA==", "bodyText": "you will see that ConfigType.SIZE will be reflected as StorageUnit, which need be double.\nrefer to ConfigurationReflectionUtil,\n          case SIZE:\n            forcedFieldSet(field, configuration,\n                from.getStorageSize(key, \"0B\", configAnnotation.sizeUnit()));\n            break;\n\nand ConfigurationSource\n  default double getStorageSize(String name, String defaultValue,\n      StorageUnit targetUnit)\n\nThis code is not reached before, so merged into HDDS-2823 without breaking CI.", "url": "https://github.com/apache/ozone/pull/1151#discussion_r451256580", "createdAt": "2020-07-08T03:09:31Z", "author": {"login": "GlenGeng"}, "path": "hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAConfiguration.java", "diffHunk": "@@ -78,7 +78,7 @@\n       description = \"The size of the raft segment used by Apache Ratis on\" +\n           \" SCM. (16 KB by default)\"\n   )\n-  private long raftSegmentSize = 16L * 1024L;\n+  private double raftSegmentSize = 16L * 1024L;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE0OTE3OA=="}, "originalCommit": {"oid": "78485ca9217e7c7372e83d87e081e1b88826ad7b"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDUyNTMyNQ==", "bodyText": "I see. Thanks for the details.", "url": "https://github.com/apache/ozone/pull/1151#discussion_r454525325", "createdAt": "2020-07-14T17:33:15Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/ha/SCMHAConfiguration.java", "diffHunk": "@@ -78,7 +78,7 @@\n       description = \"The size of the raft segment used by Apache Ratis on\" +\n           \" SCM. (16 KB by default)\"\n   )\n-  private long raftSegmentSize = 16L * 1024L;\n+  private double raftSegmentSize = 16L * 1024L;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE0OTE3OA=="}, "originalCommit": {"oid": "78485ca9217e7c7372e83d87e081e1b88826ad7b"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgxMjgwMzYwOnYy", "diffSide": "RIGHT", "path": "hadoop-ozone/recon/pom.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QyMTozMTowNFrOGuQVSg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQwMjo1OToyOFrOGuWXdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE1NTI3NA==", "bodyText": "This change seems unrelated. Can you merge it from master?", "url": "https://github.com/apache/ozone/pull/1151#discussion_r451155274", "createdAt": "2020-07-07T21:31:04Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-ozone/recon/pom.xml", "diffHunk": "@@ -108,6 +108,7 @@\n             </goals>\n             <configuration>\n               <arguments>pnpm config set store-dir ~/.pnpm-store</arguments>\n+              <npmInheritsProxyConfigFromMaven>false</npmInheritsProxyConfigFromMaven>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78485ca9217e7c7372e83d87e081e1b88826ad7b"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTI1NDEzNQ==", "bodyText": "Thanks for pointing out! Will drop this change.", "url": "https://github.com/apache/ozone/pull/1151#discussion_r451254135", "createdAt": "2020-07-08T02:59:28Z", "author": {"login": "GlenGeng"}, "path": "hadoop-ozone/recon/pom.xml", "diffHunk": "@@ -108,6 +108,7 @@\n             </goals>\n             <configuration>\n               <arguments>pnpm config set store-dir ~/.pnpm-store</arguments>\n+              <npmInheritsProxyConfigFromMaven>false</npmInheritsProxyConfigFromMaven>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTE1NTI3NA=="}, "originalCommit": {"oid": "78485ca9217e7c7372e83d87e081e1b88826ad7b"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4159, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}