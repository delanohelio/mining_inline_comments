{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk1NzI3NDM2", "number": 1463, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMzoxODoxNFrOEpPKhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMzoxODoxNFrOEpPKhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExNjc1NTI2OnYy", "diffSide": "RIGHT", "path": "hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/ha/OMFailoverProxyProvider.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMzoxODoxNFrOHayhCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQyMzozNTo0NFrOHay1Dg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg1MjY4Mw==", "bodyText": "This should be\nProxyInfo will not be set?", "url": "https://github.com/apache/ozone/pull/1463#discussion_r497852683", "createdAt": "2020-09-30T23:18:14Z", "author": {"login": "vivekratnavel"}, "path": "hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/ha/OMFailoverProxyProvider.java", "diffHunk": "@@ -141,15 +141,14 @@ protected void loadOMClientConfigs(ConfigurationSource config, String omSvcId)\n \n         if (omProxyInfo.getAddress() != null) {\n \n-          ProxyInfo<OzoneManagerProtocolPB> proxyInfo =\n-              new ProxyInfo(null, omProxyInfo.toString());\n \n           // For a non-HA OM setup, nodeId might be null. If so, we assign it\n           // a dummy value\n           if (nodeId == null) {\n             nodeId = OzoneConsts.OM_NODE_ID_DUMMY;\n           }\n-          omProxies.put(nodeId, proxyInfo);\n+          // ProxyInfo will be set during first time call to server.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c7119e0e63858b7a91634f821830b8b657a5dd02"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg1NDQyMg==", "bodyText": "It will be set when we make a first-time call to the server.\ngetProxy() is called when first-time submitRequest is called.", "url": "https://github.com/apache/ozone/pull/1463#discussion_r497854422", "createdAt": "2020-09-30T23:24:20Z", "author": {"login": "bharatviswa504"}, "path": "hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/ha/OMFailoverProxyProvider.java", "diffHunk": "@@ -141,15 +141,14 @@ protected void loadOMClientConfigs(ConfigurationSource config, String omSvcId)\n \n         if (omProxyInfo.getAddress() != null) {\n \n-          ProxyInfo<OzoneManagerProtocolPB> proxyInfo =\n-              new ProxyInfo(null, omProxyInfo.toString());\n \n           // For a non-HA OM setup, nodeId might be null. If so, we assign it\n           // a dummy value\n           if (nodeId == null) {\n             nodeId = OzoneConsts.OM_NODE_ID_DUMMY;\n           }\n-          omProxies.put(nodeId, proxyInfo);\n+          // ProxyInfo will be set during first time call to server.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg1MjY4Mw=="}, "originalCommit": {"oid": "c7119e0e63858b7a91634f821830b8b657a5dd02"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg1NzgwNg==", "bodyText": "Got it, thanks!", "url": "https://github.com/apache/ozone/pull/1463#discussion_r497857806", "createdAt": "2020-09-30T23:35:44Z", "author": {"login": "vivekratnavel"}, "path": "hadoop-ozone/common/src/main/java/org/apache/hadoop/ozone/om/ha/OMFailoverProxyProvider.java", "diffHunk": "@@ -141,15 +141,14 @@ protected void loadOMClientConfigs(ConfigurationSource config, String omSvcId)\n \n         if (omProxyInfo.getAddress() != null) {\n \n-          ProxyInfo<OzoneManagerProtocolPB> proxyInfo =\n-              new ProxyInfo(null, omProxyInfo.toString());\n \n           // For a non-HA OM setup, nodeId might be null. If so, we assign it\n           // a dummy value\n           if (nodeId == null) {\n             nodeId = OzoneConsts.OM_NODE_ID_DUMMY;\n           }\n-          omProxies.put(nodeId, proxyInfo);\n+          // ProxyInfo will be set during first time call to server.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Nzg1MjY4Mw=="}, "originalCommit": {"oid": "c7119e0e63858b7a91634f821830b8b657a5dd02"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4955, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}