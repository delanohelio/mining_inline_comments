{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0OTkwMzc0", "number": 648, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMjoxNTo1MFrODmezjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMjoyMDo1OFrODme34Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNjc3MTk2OnYy", "diffSide": "RIGHT", "path": "hadoop-ozone/dist/src/main/smoketest/recon/recon-api.robot", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMjoxNTo1MFrOFz7NuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMFQxODo0MjoxNlrOF0cOig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTk5MTg2NA==", "bodyText": "I'd rather avoid adding 2x1.5 minutes sleep to acceptance tests (one for secure, one for unsecure).", "url": "https://github.com/apache/ozone/pull/648#discussion_r389991864", "createdAt": "2020-03-09T22:15:50Z", "author": {"login": "adoroszlai"}, "path": "hadoop-ozone/dist/src/main/smoketest/recon/recon-api.robot", "diffHunk": "@@ -25,16 +25,26 @@ ${ENDPOINT_URL}       http://recon:9888\n ${API_ENDPOINT_URL}   http://recon:9888/api/v1\n \n *** Test Cases ***\n-Recon REST API\n+Recon OM APIs\n+    Run Keyword if      '${SECURITY_ENABLED}' == 'true'     Kinit test user     testuser     testuser.keytab\n+                        Execute                             ozone freon rk --numOfVolumes 1 --numOfBuckets 1 --numOfKeys 10 --keySize 1025\n+                        Sleep               90s", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "565508a0ae86cf4a9ff461c41c212b7bef38c63b"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTk5ODU5NQ==", "bodyText": "We could use Wait Until Keyword Succeeds - https://github.com/apache/hadoop-ozone/blob/master/hadoop-ozone/dist/src/main/smoketest/basic/basic.robot#L35", "url": "https://github.com/apache/ozone/pull/648#discussion_r389998595", "createdAt": "2020-03-09T22:34:32Z", "author": {"login": "vivekratnavel"}, "path": "hadoop-ozone/dist/src/main/smoketest/recon/recon-api.robot", "diffHunk": "@@ -25,16 +25,26 @@ ${ENDPOINT_URL}       http://recon:9888\n ${API_ENDPOINT_URL}   http://recon:9888/api/v1\n \n *** Test Cases ***\n-Recon REST API\n+Recon OM APIs\n+    Run Keyword if      '${SECURITY_ENABLED}' == 'true'     Kinit test user     testuser     testuser.keytab\n+                        Execute                             ozone freon rk --numOfVolumes 1 --numOfBuckets 1 --numOfKeys 10 --keySize 1025\n+                        Sleep               90s", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTk5MTg2NA=="}, "originalCommit": {"oid": "565508a0ae86cf4a9ff461c41c212b7bef38c63b"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MDUzMjc0Ng==", "bodyText": "Thanks for the suggestions. I have fixed this.", "url": "https://github.com/apache/ozone/pull/648#discussion_r390532746", "createdAt": "2020-03-10T18:42:16Z", "author": {"login": "avijayanhwx"}, "path": "hadoop-ozone/dist/src/main/smoketest/recon/recon-api.robot", "diffHunk": "@@ -25,16 +25,26 @@ ${ENDPOINT_URL}       http://recon:9888\n ${API_ENDPOINT_URL}   http://recon:9888/api/v1\n \n *** Test Cases ***\n-Recon REST API\n+Recon OM APIs\n+    Run Keyword if      '${SECURITY_ENABLED}' == 'true'     Kinit test user     testuser     testuser.keytab\n+                        Execute                             ozone freon rk --numOfVolumes 1 --numOfBuckets 1 --numOfKeys 10 --keySize 1025\n+                        Sleep               90s", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTk5MTg2NA=="}, "originalCommit": {"oid": "565508a0ae86cf4a9ff461c41c212b7bef38c63b"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNjc4MTczOnYy", "diffSide": "LEFT", "path": "hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/spi/impl/OzoneManagerServiceProviderImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMjoyMDoyNlrOFz7TuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMjoyMDoyNlrOFz7TuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTk5MzQwMA==", "bodyText": "Shouldn't interrupt() be kept for InterruptedException and avoided only for the rest?", "url": "https://github.com/apache/ozone/pull/648#discussion_r389993400", "createdAt": "2020-03-09T22:20:26Z", "author": {"login": "adoroszlai"}, "path": "hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/spi/impl/OzoneManagerServiceProviderImpl.java", "diffHunk": "@@ -350,8 +357,7 @@ public void syncDataFromOM() {\n         // Pass on DB update events to tasks that are listening.\n         reconTaskController.consumeOMEvents(new OMUpdateEventBatch(\n             omdbUpdatesHandler.getEvents()), omMetadataManager);\n-      } catch (IOException | InterruptedException | RocksDBException e) {\n-        Thread.currentThread().interrupt();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "565508a0ae86cf4a9ff461c41c212b7bef38c63b"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNjc4MzA1OnYy", "diffSide": "LEFT", "path": "hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/spi/impl/OzoneManagerServiceProviderImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMjoyMDo1OFrOFz7UgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQyMjoyMDo1OFrOFz7UgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTk5MzYwMA==", "bodyText": "I think this can be kept for the InterruptedException case.", "url": "https://github.com/apache/ozone/pull/648#discussion_r389993600", "createdAt": "2020-03-09T22:20:58Z", "author": {"login": "adoroszlai"}, "path": "hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/spi/impl/OzoneManagerServiceProviderImpl.java", "diffHunk": "@@ -374,9 +380,8 @@ public void syncDataFromOM() {\n           LOG.info(\"Calling reprocess on Recon tasks.\");\n           reconTaskController.reInitializeTasks(omMetadataManager);\n         }\n-      } catch (IOException | InterruptedException e) {\n-        Thread.currentThread().interrupt();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "565508a0ae86cf4a9ff461c41c212b7bef38c63b"}, "originalPosition": 38}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4957, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}