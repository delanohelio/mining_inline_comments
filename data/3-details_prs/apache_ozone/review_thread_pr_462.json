{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0Njk5MDEz", "number": 462, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxNzowMjoyN1rODZkU_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQyMjowODoyOVrODan9sQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4MTM2MTg4OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxNzowMjoyN1rOFgBtYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNlQxMzo1NTozOVrOFh0ENA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTEyNjc1NA==", "bodyText": "Can we change \"ozone.scm.pipeline.number.limit\" to \"ozone.scm.pipeline.limit\"?", "url": "https://github.com/apache/ozone/pull/462#discussion_r369126754", "createdAt": "2020-01-21T17:02:27Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java", "diffHunk": "@@ -322,17 +322,17 @@\n   public static final int OZONE_SCM_PIPELINE_OWNER_CONTAINER_COUNT_DEFAULT = 3;\n   // Pipeline placement policy:\n   // the max number of pipelines can a single datanode be engaged in.\n-  public static final String OZONE_DATANODE_MAX_PIPELINE_ENGAGEMENT =\n-          \"ozone.scm.datanode.max.pipeline.engagement\";\n+  public static final String OZONE_DATANODE_PIPELINE_LIMIT =\n+          \"ozone.datanode.pipeline.limit\";\n   // Setting to zero by default means this limit doesn't take effect.\n-  public static final int OZONE_DATANODE_MAX_PIPELINE_ENGAGEMENT_DEFAULT = 2;\n+  public static final int OZONE_DATANODE_PIPELINE_LIMIT_DEFAULT = 2;\n \n   // Upper limit for how many pipelines can be created.\n   // Only for test purpose now.\n-  public static final String OZONE_SCM_PIPELINE_NUMBER_LIMIT =\n+  public static final String OZONE_SCM_RATIS_PIPELINE_LIMIT =\n       \"ozone.scm.pipeline.number.limit\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b25939123e8f3a597e51d4a2955b9e495cd8911a"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTM5ODI5Mw==", "bodyText": "Shall I make it ozone.ratis.scm.pipeline.limit? I've added a new commit.", "url": "https://github.com/apache/ozone/pull/462#discussion_r369398293", "createdAt": "2020-01-22T07:09:39Z", "author": {"login": "timmylicheng"}, "path": "hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java", "diffHunk": "@@ -322,17 +322,17 @@\n   public static final int OZONE_SCM_PIPELINE_OWNER_CONTAINER_COUNT_DEFAULT = 3;\n   // Pipeline placement policy:\n   // the max number of pipelines can a single datanode be engaged in.\n-  public static final String OZONE_DATANODE_MAX_PIPELINE_ENGAGEMENT =\n-          \"ozone.scm.datanode.max.pipeline.engagement\";\n+  public static final String OZONE_DATANODE_PIPELINE_LIMIT =\n+          \"ozone.datanode.pipeline.limit\";\n   // Setting to zero by default means this limit doesn't take effect.\n-  public static final int OZONE_DATANODE_MAX_PIPELINE_ENGAGEMENT_DEFAULT = 2;\n+  public static final int OZONE_DATANODE_PIPELINE_LIMIT_DEFAULT = 2;\n \n   // Upper limit for how many pipelines can be created.\n   // Only for test purpose now.\n-  public static final String OZONE_SCM_PIPELINE_NUMBER_LIMIT =\n+  public static final String OZONE_SCM_RATIS_PIPELINE_LIMIT =\n       \"ozone.scm.pipeline.number.limit\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTEyNjc1NA=="}, "originalCommit": {"oid": "b25939123e8f3a597e51d4a2955b9e495cd8911a"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDIzNDM1Nw==", "bodyText": "How about ozone.scm.ratis.pipeline.limit?", "url": "https://github.com/apache/ozone/pull/462#discussion_r370234357", "createdAt": "2020-01-23T16:48:41Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java", "diffHunk": "@@ -322,17 +322,17 @@\n   public static final int OZONE_SCM_PIPELINE_OWNER_CONTAINER_COUNT_DEFAULT = 3;\n   // Pipeline placement policy:\n   // the max number of pipelines can a single datanode be engaged in.\n-  public static final String OZONE_DATANODE_MAX_PIPELINE_ENGAGEMENT =\n-          \"ozone.scm.datanode.max.pipeline.engagement\";\n+  public static final String OZONE_DATANODE_PIPELINE_LIMIT =\n+          \"ozone.datanode.pipeline.limit\";\n   // Setting to zero by default means this limit doesn't take effect.\n-  public static final int OZONE_DATANODE_MAX_PIPELINE_ENGAGEMENT_DEFAULT = 2;\n+  public static final int OZONE_DATANODE_PIPELINE_LIMIT_DEFAULT = 2;\n \n   // Upper limit for how many pipelines can be created.\n   // Only for test purpose now.\n-  public static final String OZONE_SCM_PIPELINE_NUMBER_LIMIT =\n+  public static final String OZONE_SCM_RATIS_PIPELINE_LIMIT =\n       \"ozone.scm.pipeline.number.limit\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTEyNjc1NA=="}, "originalCommit": {"oid": "b25939123e8f3a597e51d4a2955b9e495cd8911a"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAwMDM3Mg==", "bodyText": "Sure. I've just updated the name.", "url": "https://github.com/apache/ozone/pull/462#discussion_r371000372", "createdAt": "2020-01-26T13:55:39Z", "author": {"login": "timmylicheng"}, "path": "hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java", "diffHunk": "@@ -322,17 +322,17 @@\n   public static final int OZONE_SCM_PIPELINE_OWNER_CONTAINER_COUNT_DEFAULT = 3;\n   // Pipeline placement policy:\n   // the max number of pipelines can a single datanode be engaged in.\n-  public static final String OZONE_DATANODE_MAX_PIPELINE_ENGAGEMENT =\n-          \"ozone.scm.datanode.max.pipeline.engagement\";\n+  public static final String OZONE_DATANODE_PIPELINE_LIMIT =\n+          \"ozone.datanode.pipeline.limit\";\n   // Setting to zero by default means this limit doesn't take effect.\n-  public static final int OZONE_DATANODE_MAX_PIPELINE_ENGAGEMENT_DEFAULT = 2;\n+  public static final int OZONE_DATANODE_PIPELINE_LIMIT_DEFAULT = 2;\n \n   // Upper limit for how many pipelines can be created.\n   // Only for test purpose now.\n-  public static final String OZONE_SCM_PIPELINE_NUMBER_LIMIT =\n+  public static final String OZONE_SCM_RATIS_PIPELINE_LIMIT =\n       \"ozone.scm.pipeline.number.limit\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTEyNjc1NA=="}, "originalCommit": {"oid": "b25939123e8f3a597e51d4a2955b9e495cd8911a"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4MTM2NTE3OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxNzowMzoyOFrOFgBvjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQwNzoxMjoyMFrOFgSUjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTEyNzMwOQ==", "bodyText": "Can we update the comment here:\nUpper limit for how many pipelines can be created across the cluster nodes managed by SCM.", "url": "https://github.com/apache/ozone/pull/462#discussion_r369127309", "createdAt": "2020-01-21T17:03:28Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java", "diffHunk": "@@ -322,17 +322,17 @@\n   public static final int OZONE_SCM_PIPELINE_OWNER_CONTAINER_COUNT_DEFAULT = 3;\n   // Pipeline placement policy:\n   // the max number of pipelines can a single datanode be engaged in.\n-  public static final String OZONE_DATANODE_MAX_PIPELINE_ENGAGEMENT =\n-          \"ozone.scm.datanode.max.pipeline.engagement\";\n+  public static final String OZONE_DATANODE_PIPELINE_LIMIT =\n+          \"ozone.datanode.pipeline.limit\";\n   // Setting to zero by default means this limit doesn't take effect.\n-  public static final int OZONE_DATANODE_MAX_PIPELINE_ENGAGEMENT_DEFAULT = 2;\n+  public static final int OZONE_DATANODE_PIPELINE_LIMIT_DEFAULT = 2;\n \n   // Upper limit for how many pipelines can be created.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b25939123e8f3a597e51d4a2955b9e495cd8911a"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTM5ODkyNg==", "bodyText": "Yea I updated.", "url": "https://github.com/apache/ozone/pull/462#discussion_r369398926", "createdAt": "2020-01-22T07:12:20Z", "author": {"login": "timmylicheng"}, "path": "hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java", "diffHunk": "@@ -322,17 +322,17 @@\n   public static final int OZONE_SCM_PIPELINE_OWNER_CONTAINER_COUNT_DEFAULT = 3;\n   // Pipeline placement policy:\n   // the max number of pipelines can a single datanode be engaged in.\n-  public static final String OZONE_DATANODE_MAX_PIPELINE_ENGAGEMENT =\n-          \"ozone.scm.datanode.max.pipeline.engagement\";\n+  public static final String OZONE_DATANODE_PIPELINE_LIMIT =\n+          \"ozone.datanode.pipeline.limit\";\n   // Setting to zero by default means this limit doesn't take effect.\n-  public static final int OZONE_DATANODE_MAX_PIPELINE_ENGAGEMENT_DEFAULT = 2;\n+  public static final int OZONE_DATANODE_PIPELINE_LIMIT_DEFAULT = 2;\n \n   // Upper limit for how many pipelines can be created.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTEyNzMwOQ=="}, "originalCommit": {"oid": "b25939123e8f3a597e51d4a2955b9e495cd8911a"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI4MTM2ODIyOnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQxNzowNDoxOVrOFgBxWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQwNzoxMjoxMlrOFgSUbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTEyNzc3MQ==", "bodyText": "Can we update the comments to:\nUpper limit for how many pipelines a datanode can engage in?", "url": "https://github.com/apache/ozone/pull/462#discussion_r369127771", "createdAt": "2020-01-21T17:04:19Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java", "diffHunk": "@@ -322,17 +322,17 @@\n   public static final int OZONE_SCM_PIPELINE_OWNER_CONTAINER_COUNT_DEFAULT = 3;\n   // Pipeline placement policy:\n   // the max number of pipelines can a single datanode be engaged in.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b25939123e8f3a597e51d4a2955b9e495cd8911a"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTM5ODg5NA==", "bodyText": "Yea I updated.", "url": "https://github.com/apache/ozone/pull/462#discussion_r369398894", "createdAt": "2020-01-22T07:12:12Z", "author": {"login": "timmylicheng"}, "path": "hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java", "diffHunk": "@@ -322,17 +322,17 @@\n   public static final int OZONE_SCM_PIPELINE_OWNER_CONTAINER_COUNT_DEFAULT = 3;\n   // Pipeline placement policy:\n   // the max number of pipelines can a single datanode be engaged in.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTEyNzc3MQ=="}, "originalCommit": {"oid": "b25939123e8f3a597e51d4a2955b9e495cd8911a"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5MjQ0MzM3OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQyMjowODoyOVrOFhrwvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNlQxMzo1NjoxOVrOFh0EZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDg2NDMxOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  \"ozone.ratis.scm.pipeline.limit\";\n          \n          \n            \n                  \"ozone.scm.ratis.pipeline.limit\";", "url": "https://github.com/apache/ozone/pull/462#discussion_r370864319", "createdAt": "2020-01-24T22:08:29Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java", "diffHunk": "@@ -321,18 +321,18 @@\n       \"ozone.scm.pipeline.owner.container.count\";\n   public static final int OZONE_SCM_PIPELINE_OWNER_CONTAINER_COUNT_DEFAULT = 3;\n   // Pipeline placement policy:\n-  // the max number of pipelines can a single datanode be engaged in.\n-  public static final String OZONE_DATANODE_MAX_PIPELINE_ENGAGEMENT =\n-          \"ozone.scm.datanode.max.pipeline.engagement\";\n-  // Setting to zero by default means this limit doesn't take effect.\n-  public static final int OZONE_DATANODE_MAX_PIPELINE_ENGAGEMENT_DEFAULT = 2;\n+  // Upper limit for how many pipelines a datanode can engage in.\n+  public static final String OZONE_DATANODE_PIPELINE_LIMIT =\n+          \"ozone.datanode.pipeline.limit\";\n+  public static final int OZONE_DATANODE_PIPELINE_LIMIT_DEFAULT = 2;\n \n-  // Upper limit for how many pipelines can be created.\n+  // Upper limit for how many pipelines can be created\n+  // across the cluster nodes managed by SCM.\n   // Only for test purpose now.\n-  public static final String OZONE_SCM_PIPELINE_NUMBER_LIMIT =\n-      \"ozone.scm.pipeline.number.limit\";\n+  public static final String OZONE_SCM_RATIS_PIPELINE_LIMIT =\n+      \"ozone.ratis.scm.pipeline.limit\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a961d158374ea510b3b9140aa5aa4b6deb5b53c9"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTAwMDQyMg==", "bodyText": "I've updated the name. Thanks Xiaoyu", "url": "https://github.com/apache/ozone/pull/462#discussion_r371000422", "createdAt": "2020-01-26T13:56:19Z", "author": {"login": "timmylicheng"}, "path": "hadoop-hdds/common/src/main/java/org/apache/hadoop/hdds/scm/ScmConfigKeys.java", "diffHunk": "@@ -321,18 +321,18 @@\n       \"ozone.scm.pipeline.owner.container.count\";\n   public static final int OZONE_SCM_PIPELINE_OWNER_CONTAINER_COUNT_DEFAULT = 3;\n   // Pipeline placement policy:\n-  // the max number of pipelines can a single datanode be engaged in.\n-  public static final String OZONE_DATANODE_MAX_PIPELINE_ENGAGEMENT =\n-          \"ozone.scm.datanode.max.pipeline.engagement\";\n-  // Setting to zero by default means this limit doesn't take effect.\n-  public static final int OZONE_DATANODE_MAX_PIPELINE_ENGAGEMENT_DEFAULT = 2;\n+  // Upper limit for how many pipelines a datanode can engage in.\n+  public static final String OZONE_DATANODE_PIPELINE_LIMIT =\n+          \"ozone.datanode.pipeline.limit\";\n+  public static final int OZONE_DATANODE_PIPELINE_LIMIT_DEFAULT = 2;\n \n-  // Upper limit for how many pipelines can be created.\n+  // Upper limit for how many pipelines can be created\n+  // across the cluster nodes managed by SCM.\n   // Only for test purpose now.\n-  public static final String OZONE_SCM_PIPELINE_NUMBER_LIMIT =\n-      \"ozone.scm.pipeline.number.limit\";\n+  public static final String OZONE_SCM_RATIS_PIPELINE_LIMIT =\n+      \"ozone.ratis.scm.pipeline.limit\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDg2NDMxOQ=="}, "originalCommit": {"oid": "a961d158374ea510b3b9140aa5aa4b6deb5b53c9"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4969, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}