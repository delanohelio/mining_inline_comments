{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzNDE5NTc0", "number": 1066, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xM1QwMDo0Mjo0M1rOEFOEKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMVQwMDozNjozM1rOEHU2LQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczOTA4Nzc2OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/SCMContainerManager.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xM1QwMDo0Mjo0NFrOGjUqYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xM1QwMDo0Mjo0NFrOGjUqYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY5MTg3NA==", "bodyText": "Collections.emptySet() to avoid unnecessary allocation", "url": "https://github.com/apache/ozone/pull/1066#discussion_r439691874", "createdAt": "2020-06-13T00:42:44Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/SCMContainerManager.java", "diffHunk": "@@ -416,13 +417,12 @@ public void updateDeleteTransactionId(Map<Long, Long> deleteTransactionMap)\n    */\n   public ContainerInfo getMatchingContainer(final long sizeRequired,\n       String owner, Pipeline pipeline) {\n-    return getMatchingContainer(sizeRequired, owner, pipeline, Collections\n-        .emptyList());\n+    return getMatchingContainer(sizeRequired, owner, pipeline, new HashSet<>());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1efdc23a245662847c823f3e18c5f3bc013fdb28"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2MTE2OTYxOnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerManager.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMVQwMDozNDo1N1rOGmo90A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMVQwMDozNDo1N1rOGmo90A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE3MDI1Ng==", "bodyText": "Can we change here to Collection to make the interface neutral to implementation? The underlying can be List or Set.", "url": "https://github.com/apache/ozone/pull/1066#discussion_r443170256", "createdAt": "2020-06-21T00:34:57Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/container/ContainerManager.java", "diffHunk": "@@ -180,7 +180,7 @@ ContainerInfo getMatchingContainer(long size, String owner,\n    * @return ContainerInfo for the matching container.\n    */\n   ContainerInfo getMatchingContainer(long size, String owner,\n-      Pipeline pipeline, List<ContainerID> excludedContainerIDS);\n+      Pipeline pipeline, Set<ContainerID> excludedContainerIDS);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32627906002f0f76510bf7afc83af7fc739ea254"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2MTE3MDE1OnYy", "diffSide": "LEFT", "path": "hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelineManager.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMVQwMDozNjoxNFrOGmo-EQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMVQwMDozNjoxNFrOGmo-EQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE3MDMyMQ==", "bodyText": "Can we keep the existing one parameter as Collection which allows passing Set here?", "url": "https://github.com/apache/ozone/pull/1066#discussion_r443170321", "createdAt": "2020-06-21T00:36:14Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelineManager.java", "diffHunk": "@@ -61,8 +61,8 @@ Pipeline createPipeline(ReplicationType type, ReplicationFactor factor,\n       ReplicationFactor factor, Pipeline.PipelineState state);\n \n   List<Pipeline> getPipelines(ReplicationType type, ReplicationFactor factor,\n-      Pipeline.PipelineState state, Collection<DatanodeDetails> excludeDns,\n-      Collection<PipelineID> excludePipelines);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32627906002f0f76510bf7afc83af7fc739ea254"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2MTE3MDM3OnYy", "diffSide": "LEFT", "path": "hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelineStateManager.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMVQwMDozNjozM1rOGmo-KA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMVQwMDozNjozM1rOGmo-KA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE3MDM0NA==", "bodyText": "Same as above.", "url": "https://github.com/apache/ozone/pull/1066#discussion_r443170344", "createdAt": "2020-06-21T00:36:33Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/server-scm/src/main/java/org/apache/hadoop/hdds/scm/pipeline/PipelineStateManager.java", "diffHunk": "@@ -81,8 +81,8 @@ Pipeline getPipeline(PipelineID pipelineID) throws PipelineNotFoundException {\n   }\n \n   List<Pipeline> getPipelines(ReplicationType type, ReplicationFactor factor,\n-      PipelineState state, Collection<DatanodeDetails> excludeDns,\n-      Collection<PipelineID> excludePipelines) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32627906002f0f76510bf7afc83af7fc739ea254"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4253, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}