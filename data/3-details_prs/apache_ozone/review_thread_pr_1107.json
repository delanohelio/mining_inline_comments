{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4MDQzNTcw", "number": 1107, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwOToyOToyN1rOEKA5_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwOToyOToyN1rOEKA5_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc4OTM2MDYwOnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/XceiverServerSpi.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0zMFQwOToyOToyN1rOGq0AFg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxMDozMTo1MVrOGx4J9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzU0NTM2Ng==", "bodyText": "It seems to be a good time the remove XceiverServerSpi interface. Originally we had two separated implementation to connect to the datanode. Today we have only one. One interface is used between the client and the datanode, and the other one between datanode and ratis (datanode). As this example shows, the two interface shouldn't be the same.", "url": "https://github.com/apache/ozone/pull/1107#discussion_r447545366", "createdAt": "2020-06-30T09:29:27Z", "author": {"login": "elek"}, "path": "hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/XceiverServerSpi.java", "diffHunk": "@@ -83,4 +85,12 @@ default void removeGroup(HddsProtos.PipelineID pipelineId)\n    * @return list of report for each pipeline.\n    */\n   List<PipelineReport> getPipelineReport();\n+\n+  /**\n+   * Get storage report for the XceiverServer instance.\n+   * @return list of report for each storage location.\n+   */\n+  default List<MetadataStorageReportProto> getStorageReport() throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d012ff8e0d314cfbec263c850df6a3872200c2c"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDk1MzQ2Mg==", "bodyText": "Definitely, yes..\nFiled https://issues.apache.org/jira/browse/HDDS-3963 for the same", "url": "https://github.com/apache/ozone/pull/1107#discussion_r454953462", "createdAt": "2020-07-15T10:31:51Z", "author": {"login": "bshashikant"}, "path": "hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/common/transport/server/XceiverServerSpi.java", "diffHunk": "@@ -83,4 +85,12 @@ default void removeGroup(HddsProtos.PipelineID pipelineId)\n    * @return list of report for each pipeline.\n    */\n   List<PipelineReport> getPipelineReport();\n+\n+  /**\n+   * Get storage report for the XceiverServer instance.\n+   * @return list of report for each storage location.\n+   */\n+  default List<MetadataStorageReportProto> getStorageReport() throws IOException {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzU0NTM2Ng=="}, "originalCommit": {"oid": "2d012ff8e0d314cfbec263c850df6a3872200c2c"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4099, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}