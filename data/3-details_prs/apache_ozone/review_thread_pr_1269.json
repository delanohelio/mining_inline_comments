{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3ODExMjA5", "number": 1269, "reviewThreads": {"totalCount": 30, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwNzozOTowNVrOETkK4g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzo0NDoyNlrOET9j9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg4OTUxMDEwOnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/concept/Containers.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwNzozOTowNVrOG5XjKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQwNzozOTowNVrOG5XjKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjgwNzg0OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            summary: Description of the Containers, the replication unif ot Ozone.\n          \n          \n            \n            summary: Description of the Containers, the replication unit of Ozone.", "url": "https://github.com/apache/ozone/pull/1269#discussion_r462807848", "createdAt": "2020-07-30T07:39:05Z", "author": {"login": "cxorm"}, "path": "hadoop-hdds/docs/content/concept/Containers.md", "diffHunk": "@@ -0,0 +1,47 @@\n+---\n+title: Containers\n+weight: 5\n+menu: \n+  main:\n+     parent: Architecture\n+summary: Description of the Containers, the replication unif ot Ozone.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MTcxNzA5OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/concept/OzoneManager.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNzoyNzo1NFrOG5s1Pg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QwODo0ODozMlrOG6xP1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE1NjU0Mg==", "bodyText": "Should the caption here to be \"Ozone Manager\" instead of \"Write Path\"?", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463156542", "createdAt": "2020-07-30T17:27:54Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/docs/content/concept/OzoneManager.md", "diffHunk": "@@ -21,6 +24,8 @@ summary: Ozone Manager is the principal name space service of Ozone. OM manages\n   limitations under the License.\n -->\n \n+![Write Path](OzoneManager.png)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDI3NzQ2Mw==", "bodyText": "yes. thanks. fixed", "url": "https://github.com/apache/ozone/pull/1269#discussion_r464277463", "createdAt": "2020-08-03T08:48:32Z", "author": {"login": "elek"}, "path": "hadoop-hdds/docs/content/concept/OzoneManager.md", "diffHunk": "@@ -21,6 +24,8 @@ summary: Ozone Manager is the principal name space service of Ozone. OM manages\n   limitations under the License.\n -->\n \n+![Write Path](OzoneManager.png)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE1NjU0Mg=="}, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MTcyMzQ3OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/concept/StorageContainerManager.md", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNzoyOTo0OFrOG5s5Ug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNDoyMzowOFrOG9b3Wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE1NzU4Ng==", "bodyText": "Can you open a ticket to update zh version of the StroageContainerManger.zh.md update?", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463157586", "createdAt": "2020-07-30T17:29:48Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/docs/content/concept/StorageContainerManager.md", "diffHunk": "@@ -0,0 +1,104 @@\n+---\n+title: \"Storage Container Manager\"\n+date: \"2017-09-14\"\n+weight: 3\n+menu: \n+  main:\n+     parent: Architecture\n+summary:  Storage Container Manager or SCM is the core metadata service of Ozone. SCM provides a distributed block layer for Ozone.\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+Storage Container Manager (SCM) is the leader node of the *block space management*. The main responsibility is to create and manage [containers]({{<ref \"concept/Containers.md\">}}) which is the main replication unit of Ozone.\n+\n+\n+![Storage Container Manager](StorageContainerManager.png)\n+\n+## Main responsibilities\n+\n+Storage container manager provides multiple critical functions for the Ozone\n+cluster.  SCM acts as the cluster manager, Certificate authority, Block\n+manager and the Replica manager.\n+\n+SCM is in charge of creating an Ozone cluster. When an SCM is booted up via `init` command, SCM creates the cluster identity and root certificates needed for the SCM certificate authority. SCM manages the life cycle of a data node in the cluster.\n+\n+ 1. SCM is the block manager. SCM\n+allocates blocks and assigns them to data nodes. Clients\n+read and write these blocks directly.\n+\n+ 2. SCM keeps track of all the block\n+replicas. If there is a loss of data node or a disk, SCM\n+detects it and instructs data nodes make copies of the\n+missing blocks to ensure high availability.\n+\n+ 3. **SCM's Ceritificate authority** is in\n+charge of issuing identity certificates for each and every\n+service in the cluster. This certificate infrastructure makes\n+it easy to enable mTLS at network layer and the block\n+token infrastructure depends on this certificate infrastructure.\n+\n+## Main components\n+\n+For a detailed view of Storage Container Manager this section gives a quick overview about the provided network services and the stored persisted data.\n+\n+**Network services provided by Storage Container Manager:**", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDI4MjY3Ng==", "bodyText": "Sure, will create multiple new issues.\nWhat do you think about adding a warning to the zh pages when the English page is changed?\nWARNING: Information may not be up to date: the English version of this page is modified since the last translation. \n\nIf you like this approach, can you please translate this sentence (or something similar?).", "url": "https://github.com/apache/ozone/pull/1269#discussion_r464282676", "createdAt": "2020-08-03T08:57:52Z", "author": {"login": "elek"}, "path": "hadoop-hdds/docs/content/concept/StorageContainerManager.md", "diffHunk": "@@ -0,0 +1,104 @@\n+---\n+title: \"Storage Container Manager\"\n+date: \"2017-09-14\"\n+weight: 3\n+menu: \n+  main:\n+     parent: Architecture\n+summary:  Storage Container Manager or SCM is the core metadata service of Ozone. SCM provides a distributed block layer for Ozone.\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+Storage Container Manager (SCM) is the leader node of the *block space management*. The main responsibility is to create and manage [containers]({{<ref \"concept/Containers.md\">}}) which is the main replication unit of Ozone.\n+\n+\n+![Storage Container Manager](StorageContainerManager.png)\n+\n+## Main responsibilities\n+\n+Storage container manager provides multiple critical functions for the Ozone\n+cluster.  SCM acts as the cluster manager, Certificate authority, Block\n+manager and the Replica manager.\n+\n+SCM is in charge of creating an Ozone cluster. When an SCM is booted up via `init` command, SCM creates the cluster identity and root certificates needed for the SCM certificate authority. SCM manages the life cycle of a data node in the cluster.\n+\n+ 1. SCM is the block manager. SCM\n+allocates blocks and assigns them to data nodes. Clients\n+read and write these blocks directly.\n+\n+ 2. SCM keeps track of all the block\n+replicas. If there is a loss of data node or a disk, SCM\n+detects it and instructs data nodes make copies of the\n+missing blocks to ensure high availability.\n+\n+ 3. **SCM's Ceritificate authority** is in\n+charge of issuing identity certificates for each and every\n+service in the cluster. This certificate infrastructure makes\n+it easy to enable mTLS at network layer and the block\n+token infrastructure depends on this certificate infrastructure.\n+\n+## Main components\n+\n+For a detailed view of Storage Container Manager this section gives a quick overview about the provided network services and the stored persisted data.\n+\n+**Network services provided by Storage Container Manager:**", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE1NzU4Ng=="}, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjA4OTgyNg==", "bodyText": "I'm OK with that. Here is the draft message in Chinese.\n\u6ce8\u610f\uff1a\u672c\u9875\u9762\u7ffb\u8bd1\u7684\u4fe1\u606f\u53ef\u80fd\u6ede\u540e\uff0c\u6700\u65b0\u7684\u4fe1\u606f\u8bf7\u53c2\u770b\u82f1\u6587\u7248\u7684\u76f8\u5173\u9875\u9762\u3002", "url": "https://github.com/apache/ozone/pull/1269#discussion_r466089826", "createdAt": "2020-08-06T01:18:53Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/docs/content/concept/StorageContainerManager.md", "diffHunk": "@@ -0,0 +1,104 @@\n+---\n+title: \"Storage Container Manager\"\n+date: \"2017-09-14\"\n+weight: 3\n+menu: \n+  main:\n+     parent: Architecture\n+summary:  Storage Container Manager or SCM is the core metadata service of Ozone. SCM provides a distributed block layer for Ozone.\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+Storage Container Manager (SCM) is the leader node of the *block space management*. The main responsibility is to create and manage [containers]({{<ref \"concept/Containers.md\">}}) which is the main replication unit of Ozone.\n+\n+\n+![Storage Container Manager](StorageContainerManager.png)\n+\n+## Main responsibilities\n+\n+Storage container manager provides multiple critical functions for the Ozone\n+cluster.  SCM acts as the cluster manager, Certificate authority, Block\n+manager and the Replica manager.\n+\n+SCM is in charge of creating an Ozone cluster. When an SCM is booted up via `init` command, SCM creates the cluster identity and root certificates needed for the SCM certificate authority. SCM manages the life cycle of a data node in the cluster.\n+\n+ 1. SCM is the block manager. SCM\n+allocates blocks and assigns them to data nodes. Clients\n+read and write these blocks directly.\n+\n+ 2. SCM keeps track of all the block\n+replicas. If there is a loss of data node or a disk, SCM\n+detects it and instructs data nodes make copies of the\n+missing blocks to ensure high availability.\n+\n+ 3. **SCM's Ceritificate authority** is in\n+charge of issuing identity certificates for each and every\n+service in the cluster. This certificate infrastructure makes\n+it easy to enable mTLS at network layer and the block\n+token infrastructure depends on this certificate infrastructure.\n+\n+## Main components\n+\n+For a detailed view of Storage Container Manager this section gives a quick overview about the provided network services and the stored persisted data.\n+\n+**Network services provided by Storage Container Manager:**", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE1NzU4Ng=="}, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzA3Mjg1OA==", "bodyText": "Thanks a lot. I added the warning where the original page is updated and created jira issues for missing translations (for the new pages: (HDDS-4079,.....)", "url": "https://github.com/apache/ozone/pull/1269#discussion_r467072858", "createdAt": "2020-08-07T14:23:08Z", "author": {"login": "elek"}, "path": "hadoop-hdds/docs/content/concept/StorageContainerManager.md", "diffHunk": "@@ -0,0 +1,104 @@\n+---\n+title: \"Storage Container Manager\"\n+date: \"2017-09-14\"\n+weight: 3\n+menu: \n+  main:\n+     parent: Architecture\n+summary:  Storage Container Manager or SCM is the core metadata service of Ozone. SCM provides a distributed block layer for Ozone.\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+Storage Container Manager (SCM) is the leader node of the *block space management*. The main responsibility is to create and manage [containers]({{<ref \"concept/Containers.md\">}}) which is the main replication unit of Ozone.\n+\n+\n+![Storage Container Manager](StorageContainerManager.png)\n+\n+## Main responsibilities\n+\n+Storage container manager provides multiple critical functions for the Ozone\n+cluster.  SCM acts as the cluster manager, Certificate authority, Block\n+manager and the Replica manager.\n+\n+SCM is in charge of creating an Ozone cluster. When an SCM is booted up via `init` command, SCM creates the cluster identity and root certificates needed for the SCM certificate authority. SCM manages the life cycle of a data node in the cluster.\n+\n+ 1. SCM is the block manager. SCM\n+allocates blocks and assigns them to data nodes. Clients\n+read and write these blocks directly.\n+\n+ 2. SCM keeps track of all the block\n+replicas. If there is a loss of data node or a disk, SCM\n+detects it and instructs data nodes make copies of the\n+missing blocks to ensure high availability.\n+\n+ 3. **SCM's Ceritificate authority** is in\n+charge of issuing identity certificates for each and every\n+service in the cluster. This certificate infrastructure makes\n+it easy to enable mTLS at network layer and the block\n+token infrastructure depends on this certificate infrastructure.\n+\n+## Main components\n+\n+For a detailed view of Storage Container Manager this section gives a quick overview about the provided network services and the stored persisted data.\n+\n+**Network services provided by Storage Container Manager:**", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE1NzU4Ng=="}, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 59}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MTc1OTk1OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/concept/StorageContainerManager.md", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNzo0MDozN1rOG5tQYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QwODo0OTozMlrOG6xR2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE2MzQ5MA==", "bodyText": "can we remove \"List of nodes\" as it is not persisted.", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463163490", "createdAt": "2020-07-30T17:40:37Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/docs/content/concept/StorageContainerManager.md", "diffHunk": "@@ -0,0 +1,104 @@\n+---\n+title: \"Storage Container Manager\"\n+date: \"2017-09-14\"\n+weight: 3\n+menu: \n+  main:\n+     parent: Architecture\n+summary:  Storage Container Manager or SCM is the core metadata service of Ozone. SCM provides a distributed block layer for Ozone.\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+Storage Container Manager (SCM) is the leader node of the *block space management*. The main responsibility is to create and manage [containers]({{<ref \"concept/Containers.md\">}}) which is the main replication unit of Ozone.\n+\n+\n+![Storage Container Manager](StorageContainerManager.png)\n+\n+## Main responsibilities\n+\n+Storage container manager provides multiple critical functions for the Ozone\n+cluster.  SCM acts as the cluster manager, Certificate authority, Block\n+manager and the Replica manager.\n+\n+SCM is in charge of creating an Ozone cluster. When an SCM is booted up via `init` command, SCM creates the cluster identity and root certificates needed for the SCM certificate authority. SCM manages the life cycle of a data node in the cluster.\n+\n+ 1. SCM is the block manager. SCM\n+allocates blocks and assigns them to data nodes. Clients\n+read and write these blocks directly.\n+\n+ 2. SCM keeps track of all the block\n+replicas. If there is a loss of data node or a disk, SCM\n+detects it and instructs data nodes make copies of the\n+missing blocks to ensure high availability.\n+\n+ 3. **SCM's Ceritificate authority** is in\n+charge of issuing identity certificates for each and every\n+service in the cluster. This certificate infrastructure makes\n+it easy to enable mTLS at network layer and the block\n+token infrastructure depends on this certificate infrastructure.\n+\n+## Main components\n+\n+For a detailed view of Storage Container Manager this section gives a quick overview about the provided network services and the stored persisted data.\n+\n+**Network services provided by Storage Container Manager:**\n+\n+ * Pipelines: List/Delete/Activate/Deactivate\n+   * pipelines are set of datanodes to form replication groups\n+   * Raft groups are planned by SCM\n+ * Containers: Create / List / Delete containers\n+ * Admin related requests\n+  * Safemode status/modification\n+  * Replication manager start / stop \n+ * CA authority service\n+  * Required by other sever components\n+ * Datanode HeartBeat protocol\n+   * From Datanode to SCM (30 sec by default)\n+   * Datanodes report the status of containers, node...\n+   * SCM can add commands to the response\n+\n+Note: client doesn't connect directly to the SCM\n+\n+**Persisted state**\n+\n+\n+The following data is persisted in Storage Container Manager side in a specific RocksDB directory\n+\n+ * Pipelines\n+   * Replication group of servers. Maintained to find a group for new container/block allocations.\n+ * Containers\n+   * Containers are the replication units. Data is required to act in case of data under/over replicated.\n+ * Deleted blocks\n+   * Block data is deleted in the background. Need a list to follow the progress.\n+ * Valid cert, Revoked certs\n+  * Used by the internal Certificate Authority to authorize other Ozone services\n+ * List of nodes\n+   * It's reported by the Datanodes via HB. *Not persisted*", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 91}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDI3Nzk3OQ==", "bodyText": "sure", "url": "https://github.com/apache/ozone/pull/1269#discussion_r464277979", "createdAt": "2020-08-03T08:49:32Z", "author": {"login": "elek"}, "path": "hadoop-hdds/docs/content/concept/StorageContainerManager.md", "diffHunk": "@@ -0,0 +1,104 @@\n+---\n+title: \"Storage Container Manager\"\n+date: \"2017-09-14\"\n+weight: 3\n+menu: \n+  main:\n+     parent: Architecture\n+summary:  Storage Container Manager or SCM is the core metadata service of Ozone. SCM provides a distributed block layer for Ozone.\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+Storage Container Manager (SCM) is the leader node of the *block space management*. The main responsibility is to create and manage [containers]({{<ref \"concept/Containers.md\">}}) which is the main replication unit of Ozone.\n+\n+\n+![Storage Container Manager](StorageContainerManager.png)\n+\n+## Main responsibilities\n+\n+Storage container manager provides multiple critical functions for the Ozone\n+cluster.  SCM acts as the cluster manager, Certificate authority, Block\n+manager and the Replica manager.\n+\n+SCM is in charge of creating an Ozone cluster. When an SCM is booted up via `init` command, SCM creates the cluster identity and root certificates needed for the SCM certificate authority. SCM manages the life cycle of a data node in the cluster.\n+\n+ 1. SCM is the block manager. SCM\n+allocates blocks and assigns them to data nodes. Clients\n+read and write these blocks directly.\n+\n+ 2. SCM keeps track of all the block\n+replicas. If there is a loss of data node or a disk, SCM\n+detects it and instructs data nodes make copies of the\n+missing blocks to ensure high availability.\n+\n+ 3. **SCM's Ceritificate authority** is in\n+charge of issuing identity certificates for each and every\n+service in the cluster. This certificate infrastructure makes\n+it easy to enable mTLS at network layer and the block\n+token infrastructure depends on this certificate infrastructure.\n+\n+## Main components\n+\n+For a detailed view of Storage Container Manager this section gives a quick overview about the provided network services and the stored persisted data.\n+\n+**Network services provided by Storage Container Manager:**\n+\n+ * Pipelines: List/Delete/Activate/Deactivate\n+   * pipelines are set of datanodes to form replication groups\n+   * Raft groups are planned by SCM\n+ * Containers: Create / List / Delete containers\n+ * Admin related requests\n+  * Safemode status/modification\n+  * Replication manager start / stop \n+ * CA authority service\n+  * Required by other sever components\n+ * Datanode HeartBeat protocol\n+   * From Datanode to SCM (30 sec by default)\n+   * Datanodes report the status of containers, node...\n+   * SCM can add commands to the response\n+\n+Note: client doesn't connect directly to the SCM\n+\n+**Persisted state**\n+\n+\n+The following data is persisted in Storage Container Manager side in a specific RocksDB directory\n+\n+ * Pipelines\n+   * Replication group of servers. Maintained to find a group for new container/block allocations.\n+ * Containers\n+   * Containers are the replication units. Data is required to act in case of data under/over replicated.\n+ * Deleted blocks\n+   * Block data is deleted in the background. Need a list to follow the progress.\n+ * Valid cert, Revoked certs\n+  * Used by the internal Certificate Authority to authorize other Ozone services\n+ * List of nodes\n+   * It's reported by the Datanodes via HB. *Not persisted*", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE2MzQ5MA=="}, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 91}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MTc2NDk3OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/design/ec.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNzo0MjoxNFrOG5tTtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNzo0MjoxNFrOG5tTtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE2NDM0MQ==", "bodyText": "The summary \"Crypto key management to handle GDPR \"right to be forgotten\" feature\" seems to be copied from GDPR and should be rewritten for EC.", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463164341", "createdAt": "2020-07-30T17:42:14Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/docs/content/design/ec.md", "diffHunk": "@@ -0,0 +1,39 @@\n+---\n+title: Erasure Coding in Ozone \n+summary: Crypto key management to handle GDPR \"right to be forgotten\" feature", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MTc2Njg4OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/design/ec.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNzo0Mjo1MVrOG5tU8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNzo0Mjo1MVrOG5tU8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE2NDY1OA==", "bodyText": "NIT: The design doc describe two main method => The design doc describes two main methods", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463164658", "createdAt": "2020-07-30T17:42:51Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/docs/content/design/ec.md", "diffHunk": "@@ -0,0 +1,39 @@\n+---\n+title: Erasure Coding in Ozone \n+summary: Crypto key management to handle GDPR \"right to be forgotten\" feature\n+date: 2020-06-30\n+jira: HDDS-3816\n+status: draft\n+author: Uma Maheswara Rao Gangumalla, Marton Elek, Stephen O'Donnell \n+---\n+<!--\n+  Licensed under the Apache License, Version 2.0 (the \"License\");\n+  you may not use this file except in compliance with the License.\n+  You may obtain a copy of the License at\n+\n+   http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License. See accompanying LICENSE file.\n+-->\n+\n+# Abstract\n+\n+ Support Erasure Coding for read and write pipeline of Ozone.\n+  \n+# Status\n+\n+ The design doc describe two main method to implement EC:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MTc4ODA0OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/feature/HA.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNzo0ODo0OVrOG5tiag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxNzo0ODo0OVrOG5tiag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzE2ODEwNg==", "bodyText": "should the ref be \"scmha.md\"?", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463168106", "createdAt": "2020-07-30T17:48:49Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/docs/content/feature/HA.md", "diffHunk": "@@ -0,0 +1,115 @@\n+---\n+title: \"High Availability\"\n+weight: 1\n+menu:\n+   main:\n+      parent: Features\n+summary: HA setup for Ozone to avoid any single point of failure.\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+Ozone has two leader nodes (*Ozone Manager* for key space management and *Storage Container Management* for block space management) and storage nodes (Datanode). Data is replicated between datanodes with the help of RAFT consensus algorithm.\n+\n+To avoid any single point of failure the leader nodes also should have a HA setup.\n+\n+ 1. HA of Ozone Manager is implemented with the help of RAFT (Apache Ratis)\n+ 2. HA of Storage Container Manager is [under implementation]({{< ref \"omha.md\">}})", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzQzNTY4OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNjowMToxMFrOG588ZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNjowMToxMFrOG588ZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQyMDUxNw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n          \n          \n            \n            Ozone shell is the primary interface to interact with Ozone from the command line. Behind the scenes it uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463420517", "createdAt": "2020-07-31T06:01:10Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzQ0NDU4OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNjowNjoxNVrOG59Brw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNjowNjoxNVrOG59Brw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQyMTg3MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This will show all possible actions for volumes.\n          \n          \n            \n            \n          \n          \n            \n            or it can be invoked to explain a specific action like\n          \n          \n            \n            will show all possible actions for volumes.\n          \n          \n            \n            \n          \n          \n            \n            Or it can be invoked to explain a specific action like:", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463421871", "createdAt": "2020-07-31T06:06:15Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n+ \n+ There are some functionality which couldn't be accessed without using `ozone sh` commands. For example:\n+ \n+  1. Creating volumes with quota\n+  2. Managing internal ACLs\n+  3. Creating buckets with encryption key\n+  \n+All of these are one-time, administration tasks. Applications can use Ozone without this CLI using other interface like Hadoop Compatible File System (o3fs or ofs) or S3 interface.\n+\n+\n+Ozone shell help can be invoked at _object_ level or at _action_ level.\n+\n+For example:\n+\n+```bash\n+ozone sh volume --help\n+```\n+\n+This will show all possible actions for volumes.\n+\n+or it can be invoked to explain a specific action like", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzQ0NDk5OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNjowNjoyN1rOG59B7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNjowNjoyN1rOG59B7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQyMTkzNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            This command will give you command line options of the create command.\n          \n          \n            \n            which will print the command line options of the `create` command for volumes.", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463421934", "createdAt": "2020-07-31T06:06:27Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n+ \n+ There are some functionality which couldn't be accessed without using `ozone sh` commands. For example:\n+ \n+  1. Creating volumes with quota\n+  2. Managing internal ACLs\n+  3. Creating buckets with encryption key\n+  \n+All of these are one-time, administration tasks. Applications can use Ozone without this CLI using other interface like Hadoop Compatible File System (o3fs or ofs) or S3 interface.\n+\n+\n+Ozone shell help can be invoked at _object_ level or at _action_ level.\n+\n+For example:\n+\n+```bash\n+ozone sh volume --help\n+```\n+\n+This will show all possible actions for volumes.\n+\n+or it can be invoked to explain a specific action like\n+\n+```bash\n+ozone sh volume create --help\n+```\n+\n+This command will give you command line options of the create command.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 53}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzQ0NTk0OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNjowNjo1MVrOG59Cag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNjowNjo1MVrOG59Cag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQyMjA1OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The Ozone shell commands take the following format.\n          \n          \n            \n            Ozone shell commands take the following form:", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463422058", "createdAt": "2020-07-31T06:06:51Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n+ \n+ There are some functionality which couldn't be accessed without using `ozone sh` commands. For example:\n+ \n+  1. Creating volumes with quota\n+  2. Managing internal ACLs\n+  3. Creating buckets with encryption key\n+  \n+All of these are one-time, administration tasks. Applications can use Ozone without this CLI using other interface like Hadoop Compatible File System (o3fs or ofs) or S3 interface.\n+\n+\n+Ozone shell help can be invoked at _object_ level or at _action_ level.\n+\n+For example:\n+\n+```bash\n+ozone sh volume --help\n+```\n+\n+This will show all possible actions for volumes.\n+\n+or it can be invoked to explain a specific action like\n+\n+```bash\n+ozone sh volume create --help\n+```\n+\n+This command will give you command line options of the create command.\n+\n+## General Command Format\n+\n+The Ozone shell commands take the following format.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 57}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzQ2MjYzOnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNjoxNToxN1rOG59LoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNjoxNToxN1rOG59LoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQyNDQxNg==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Ozone URL can point to a volume, bucket or keys in the following format:\n          \n          \n            \n            Depending on the action, Ozone URL can point to a volume, bucket or key in the following format:", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463424416", "createdAt": "2020-07-31T06:15:17Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n+ \n+ There are some functionality which couldn't be accessed without using `ozone sh` commands. For example:\n+ \n+  1. Creating volumes with quota\n+  2. Managing internal ACLs\n+  3. Creating buckets with encryption key\n+  \n+All of these are one-time, administration tasks. Applications can use Ozone without this CLI using other interface like Hadoop Compatible File System (o3fs or ofs) or S3 interface.\n+\n+\n+Ozone shell help can be invoked at _object_ level or at _action_ level.\n+\n+For example:\n+\n+```bash\n+ozone sh volume --help\n+```\n+\n+This will show all possible actions for volumes.\n+\n+or it can be invoked to explain a specific action like\n+\n+```bash\n+ozone sh volume create --help\n+```\n+\n+This command will give you command line options of the create command.\n+\n+## General Command Format\n+\n+The Ozone shell commands take the following format.\n+\n+> _ozone sh object action url_\n+\n+**ozone** script is used to invoke all Ozone sub-commands. The ozone shell is\n+invoked via ```sh``` command.\n+\n+The object can be a volume, bucket or a key. The action is various verbs like\n+create, list, delete etc.\n+\n+Ozone URL can point to a volume, bucket or keys in the following format:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 67}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzYxNDY5OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzoyMzowMlrOG5-l0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzoyMzowMlrOG5-l0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ0NzUwNw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The object can be a volume, bucket or a key. The action is various verbs like\n          \n          \n            \n            Object can be volume, bucket or key. Actions are various verbs like", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463447507", "createdAt": "2020-07-31T07:23:02Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n+ \n+ There are some functionality which couldn't be accessed without using `ozone sh` commands. For example:\n+ \n+  1. Creating volumes with quota\n+  2. Managing internal ACLs\n+  3. Creating buckets with encryption key\n+  \n+All of these are one-time, administration tasks. Applications can use Ozone without this CLI using other interface like Hadoop Compatible File System (o3fs or ofs) or S3 interface.\n+\n+\n+Ozone shell help can be invoked at _object_ level or at _action_ level.\n+\n+For example:\n+\n+```bash\n+ozone sh volume --help\n+```\n+\n+This will show all possible actions for volumes.\n+\n+or it can be invoked to explain a specific action like\n+\n+```bash\n+ozone sh volume create --help\n+```\n+\n+This command will give you command line options of the create command.\n+\n+## General Command Format\n+\n+The Ozone shell commands take the following format.\n+\n+> _ozone sh object action url_\n+\n+**ozone** script is used to invoke all Ozone sub-commands. The ozone shell is\n+invoked via ```sh``` command.\n+\n+The object can be a volume, bucket or a key. The action is various verbs like", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 64}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzYxNjk0OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzoyMzo1MFrOG5-nFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzoyMzo1MFrOG5-nFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ0NzgzMQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Depending on the call, the volume/bucket/key names will be part of the URL.", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463447831", "createdAt": "2020-07-31T07:23:50Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n+ \n+ There are some functionality which couldn't be accessed without using `ozone sh` commands. For example:\n+ \n+  1. Creating volumes with quota\n+  2. Managing internal ACLs\n+  3. Creating buckets with encryption key\n+  \n+All of these are one-time, administration tasks. Applications can use Ozone without this CLI using other interface like Hadoop Compatible File System (o3fs or ofs) or S3 interface.\n+\n+\n+Ozone shell help can be invoked at _object_ level or at _action_ level.\n+\n+For example:\n+\n+```bash\n+ozone sh volume --help\n+```\n+\n+This will show all possible actions for volumes.\n+\n+or it can be invoked to explain a specific action like\n+\n+```bash\n+ozone sh volume create --help\n+```\n+\n+This command will give you command line options of the create command.\n+\n+## General Command Format\n+\n+The Ozone shell commands take the following format.\n+\n+> _ozone sh object action url_\n+\n+**ozone** script is used to invoke all Ozone sub-commands. The ozone shell is\n+invoked via ```sh``` command.\n+\n+The object can be a volume, bucket or a key. The action is various verbs like\n+create, list, delete etc.\n+\n+Ozone URL can point to a volume, bucket or keys in the following format:\n+\n+_\\[schema\\]\\[server:port\\]/volume/bucket/key_\n+\n+\n+Where,\n+\n+1. **Schema** - This should be `o3` which is the native RPC protocol to access\n+  Ozone API. The usage of the schema is optional.\n+\n+2. **Server:Port** - This is the address of the Ozone Manager. If the port is\n+omitted the default port from ozone-site.xml will be used.\n+\n+Depending on the call, the volume/bucket/key names will be part of the URL.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 80}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzYyNDg0OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzoyNjoyN1rOG5-rqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzoyNjoyN1rOG5-rqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ0OTAwMA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Volume is the top level element of the hierarchy and supposed to managed only by the administrators. Quota and the owner user can be defined.\n          \n          \n            \n            Volume is the top level element of the hierarchy, managed only by administrators. Optionally, quota and the owner user can be specified.", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463449000", "createdAt": "2020-07-31T07:26:27Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n+ \n+ There are some functionality which couldn't be accessed without using `ozone sh` commands. For example:\n+ \n+  1. Creating volumes with quota\n+  2. Managing internal ACLs\n+  3. Creating buckets with encryption key\n+  \n+All of these are one-time, administration tasks. Applications can use Ozone without this CLI using other interface like Hadoop Compatible File System (o3fs or ofs) or S3 interface.\n+\n+\n+Ozone shell help can be invoked at _object_ level or at _action_ level.\n+\n+For example:\n+\n+```bash\n+ozone sh volume --help\n+```\n+\n+This will show all possible actions for volumes.\n+\n+or it can be invoked to explain a specific action like\n+\n+```bash\n+ozone sh volume create --help\n+```\n+\n+This command will give you command line options of the create command.\n+\n+## General Command Format\n+\n+The Ozone shell commands take the following format.\n+\n+> _ozone sh object action url_\n+\n+**ozone** script is used to invoke all Ozone sub-commands. The ozone shell is\n+invoked via ```sh``` command.\n+\n+The object can be a volume, bucket or a key. The action is various verbs like\n+create, list, delete etc.\n+\n+Ozone URL can point to a volume, bucket or keys in the following format:\n+\n+_\\[schema\\]\\[server:port\\]/volume/bucket/key_\n+\n+\n+Where,\n+\n+1. **Schema** - This should be `o3` which is the native RPC protocol to access\n+  Ozone API. The usage of the schema is optional.\n+\n+2. **Server:Port** - This is the address of the Ozone Manager. If the port is\n+omitted the default port from ozone-site.xml will be used.\n+\n+Depending on the call, the volume/bucket/key names will be part of the URL.\n+Please see volume commands, bucket commands, and key commands section for more\n+detail.\n+\n+## Volume operation\n+\n+Volume is the top level element of the hierarchy and supposed to managed only by the administrators. Quota and the owner user can be defined.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 86}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzYzMjY2OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzoyOTozMlrOG5-wbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzoyOTozMlrOG5-wbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ1MDIyMQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            > ozone sh volume create /vol1\n          \n          \n            \n            $ ozone sh volume create /vol1", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463450221", "createdAt": "2020-07-31T07:29:32Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n+ \n+ There are some functionality which couldn't be accessed without using `ozone sh` commands. For example:\n+ \n+  1. Creating volumes with quota\n+  2. Managing internal ACLs\n+  3. Creating buckets with encryption key\n+  \n+All of these are one-time, administration tasks. Applications can use Ozone without this CLI using other interface like Hadoop Compatible File System (o3fs or ofs) or S3 interface.\n+\n+\n+Ozone shell help can be invoked at _object_ level or at _action_ level.\n+\n+For example:\n+\n+```bash\n+ozone sh volume --help\n+```\n+\n+This will show all possible actions for volumes.\n+\n+or it can be invoked to explain a specific action like\n+\n+```bash\n+ozone sh volume create --help\n+```\n+\n+This command will give you command line options of the create command.\n+\n+## General Command Format\n+\n+The Ozone shell commands take the following format.\n+\n+> _ozone sh object action url_\n+\n+**ozone** script is used to invoke all Ozone sub-commands. The ozone shell is\n+invoked via ```sh``` command.\n+\n+The object can be a volume, bucket or a key. The action is various verbs like\n+create, list, delete etc.\n+\n+Ozone URL can point to a volume, bucket or keys in the following format:\n+\n+_\\[schema\\]\\[server:port\\]/volume/bucket/key_\n+\n+\n+Where,\n+\n+1. **Schema** - This should be `o3` which is the native RPC protocol to access\n+  Ozone API. The usage of the schema is optional.\n+\n+2. **Server:Port** - This is the address of the Ozone Manager. If the port is\n+omitted the default port from ozone-site.xml will be used.\n+\n+Depending on the call, the volume/bucket/key names will be part of the URL.\n+Please see volume commands, bucket commands, and key commands section for more\n+detail.\n+\n+## Volume operation\n+\n+Volume is the top level element of the hierarchy and supposed to managed only by the administrators. Quota and the owner user can be defined.\n+\n+Example commands:\n+\n+```shell\n+> ozone sh volume create /vol1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 91}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzYzMzE1OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzoyOTo0MVrOG5-wtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzoyOTo0MVrOG5-wtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ1MDI5Mw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            bash-4.2$ ozone sh volume info /vol1\n          \n          \n            \n            $ ozone sh volume info /vol1", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463450293", "createdAt": "2020-07-31T07:29:41Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n+ \n+ There are some functionality which couldn't be accessed without using `ozone sh` commands. For example:\n+ \n+  1. Creating volumes with quota\n+  2. Managing internal ACLs\n+  3. Creating buckets with encryption key\n+  \n+All of these are one-time, administration tasks. Applications can use Ozone without this CLI using other interface like Hadoop Compatible File System (o3fs or ofs) or S3 interface.\n+\n+\n+Ozone shell help can be invoked at _object_ level or at _action_ level.\n+\n+For example:\n+\n+```bash\n+ozone sh volume --help\n+```\n+\n+This will show all possible actions for volumes.\n+\n+or it can be invoked to explain a specific action like\n+\n+```bash\n+ozone sh volume create --help\n+```\n+\n+This command will give you command line options of the create command.\n+\n+## General Command Format\n+\n+The Ozone shell commands take the following format.\n+\n+> _ozone sh object action url_\n+\n+**ozone** script is used to invoke all Ozone sub-commands. The ozone shell is\n+invoked via ```sh``` command.\n+\n+The object can be a volume, bucket or a key. The action is various verbs like\n+create, list, delete etc.\n+\n+Ozone URL can point to a volume, bucket or keys in the following format:\n+\n+_\\[schema\\]\\[server:port\\]/volume/bucket/key_\n+\n+\n+Where,\n+\n+1. **Schema** - This should be `o3` which is the native RPC protocol to access\n+  Ozone API. The usage of the schema is optional.\n+\n+2. **Server:Port** - This is the address of the Ozone Manager. If the port is\n+omitted the default port from ozone-site.xml will be used.\n+\n+Depending on the call, the volume/bucket/key names will be part of the URL.\n+Please see volume commands, bucket commands, and key commands section for more\n+detail.\n+\n+## Volume operation\n+\n+Volume is the top level element of the hierarchy and supposed to managed only by the administrators. Quota and the owner user can be defined.\n+\n+Example commands:\n+\n+```shell\n+> ozone sh volume create /vol1\n+```\n+\n+```shell\n+bash-4.2$ ozone sh volume info /vol1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 95}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzYzMzg4OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzoyOTo1M1rOG5-xFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzoyOTo1M1rOG5-xFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ1MDM5MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ozone sh volume list /\n          \n          \n            \n            $ ozone sh volume list /", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463450391", "createdAt": "2020-07-31T07:29:53Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n+ \n+ There are some functionality which couldn't be accessed without using `ozone sh` commands. For example:\n+ \n+  1. Creating volumes with quota\n+  2. Managing internal ACLs\n+  3. Creating buckets with encryption key\n+  \n+All of these are one-time, administration tasks. Applications can use Ozone without this CLI using other interface like Hadoop Compatible File System (o3fs or ofs) or S3 interface.\n+\n+\n+Ozone shell help can be invoked at _object_ level or at _action_ level.\n+\n+For example:\n+\n+```bash\n+ozone sh volume --help\n+```\n+\n+This will show all possible actions for volumes.\n+\n+or it can be invoked to explain a specific action like\n+\n+```bash\n+ozone sh volume create --help\n+```\n+\n+This command will give you command line options of the create command.\n+\n+## General Command Format\n+\n+The Ozone shell commands take the following format.\n+\n+> _ozone sh object action url_\n+\n+**ozone** script is used to invoke all Ozone sub-commands. The ozone shell is\n+invoked via ```sh``` command.\n+\n+The object can be a volume, bucket or a key. The action is various verbs like\n+create, list, delete etc.\n+\n+Ozone URL can point to a volume, bucket or keys in the following format:\n+\n+_\\[schema\\]\\[server:port\\]/volume/bucket/key_\n+\n+\n+Where,\n+\n+1. **Schema** - This should be `o3` which is the native RPC protocol to access\n+  Ozone API. The usage of the schema is optional.\n+\n+2. **Server:Port** - This is the address of the Ozone Manager. If the port is\n+omitted the default port from ozone-site.xml will be used.\n+\n+Depending on the call, the volume/bucket/key names will be part of the URL.\n+Please see volume commands, bucket commands, and key commands section for more\n+detail.\n+\n+## Volume operation\n+\n+Volume is the top level element of the hierarchy and supposed to managed only by the administrators. Quota and the owner user can be defined.\n+\n+Example commands:\n+\n+```shell\n+> ozone sh volume create /vol1\n+```\n+\n+```shell\n+bash-4.2$ ozone sh volume info /vol1\n+{\n+  \"metadata\" : { },\n+  \"name\" : \"vol1\",\n+  \"admin\" : \"hadoop\",\n+  \"owner\" : \"hadoop\",\n+  \"creationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"modificationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"acls\" : [ {\n+    \"type\" : \"USER\",\n+    \"name\" : \"hadoop\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  }, {\n+    \"type\" : \"GROUP\",\n+    \"name\" : \"users\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  } ],\n+  \"quota\" : 1152921504606846976\n+}\n+```\n+\n+```shell\n+ozone sh volume list /", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 119}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzYzNzYzOnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozMToyOVrOG5-zhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozMToyOVrOG5-zhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ1MTAxNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Bucket is the second level hierarchy, similar to the AWS S3 buckets. Users can create buckets in volumes with permissions.\n          \n          \n            \n            Bucket is the second level of the object hierarchy, and is similar to AWS S3 buckets. Users can create buckets in volumes, if they have the necessary permissions.", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463451014", "createdAt": "2020-07-31T07:31:29Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n+ \n+ There are some functionality which couldn't be accessed without using `ozone sh` commands. For example:\n+ \n+  1. Creating volumes with quota\n+  2. Managing internal ACLs\n+  3. Creating buckets with encryption key\n+  \n+All of these are one-time, administration tasks. Applications can use Ozone without this CLI using other interface like Hadoop Compatible File System (o3fs or ofs) or S3 interface.\n+\n+\n+Ozone shell help can be invoked at _object_ level or at _action_ level.\n+\n+For example:\n+\n+```bash\n+ozone sh volume --help\n+```\n+\n+This will show all possible actions for volumes.\n+\n+or it can be invoked to explain a specific action like\n+\n+```bash\n+ozone sh volume create --help\n+```\n+\n+This command will give you command line options of the create command.\n+\n+## General Command Format\n+\n+The Ozone shell commands take the following format.\n+\n+> _ozone sh object action url_\n+\n+**ozone** script is used to invoke all Ozone sub-commands. The ozone shell is\n+invoked via ```sh``` command.\n+\n+The object can be a volume, bucket or a key. The action is various verbs like\n+create, list, delete etc.\n+\n+Ozone URL can point to a volume, bucket or keys in the following format:\n+\n+_\\[schema\\]\\[server:port\\]/volume/bucket/key_\n+\n+\n+Where,\n+\n+1. **Schema** - This should be `o3` which is the native RPC protocol to access\n+  Ozone API. The usage of the schema is optional.\n+\n+2. **Server:Port** - This is the address of the Ozone Manager. If the port is\n+omitted the default port from ozone-site.xml will be used.\n+\n+Depending on the call, the volume/bucket/key names will be part of the URL.\n+Please see volume commands, bucket commands, and key commands section for more\n+detail.\n+\n+## Volume operation\n+\n+Volume is the top level element of the hierarchy and supposed to managed only by the administrators. Quota and the owner user can be defined.\n+\n+Example commands:\n+\n+```shell\n+> ozone sh volume create /vol1\n+```\n+\n+```shell\n+bash-4.2$ ozone sh volume info /vol1\n+{\n+  \"metadata\" : { },\n+  \"name\" : \"vol1\",\n+  \"admin\" : \"hadoop\",\n+  \"owner\" : \"hadoop\",\n+  \"creationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"modificationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"acls\" : [ {\n+    \"type\" : \"USER\",\n+    \"name\" : \"hadoop\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  }, {\n+    \"type\" : \"GROUP\",\n+    \"name\" : \"users\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  } ],\n+  \"quota\" : 1152921504606846976\n+}\n+```\n+\n+```shell\n+ozone sh volume list /\n+{\n+  \"metadata\" : { },\n+  \"name\" : \"s3v\",\n+  \"admin\" : \"hadoop\",\n+  \"owner\" : \"hadoop\",\n+  \"creationTime\" : \"2020-07-27T11:32:22.314Z\",\n+  \"modificationTime\" : \"2020-07-27T11:32:22.314Z\",\n+  \"acls\" : [ {\n+    \"type\" : \"USER\",\n+    \"name\" : \"hadoop\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  }, {\n+    \"type\" : \"GROUP\",\n+    \"name\" : \"users\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  } ],\n+  \"quota\" : 1152921504606846976\n+}\n+....\n+```\n+## Bucket operation\n+\n+Bucket is the second level hierarchy, similar to the AWS S3 buckets. Users can create buckets in volumes with permissions.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 144}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzYzODExOnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozMTozOVrOG5-zyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozMTozOVrOG5-zyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ1MTA4MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            > ozone sh bucket create /vol1/bucket1\n          \n          \n            \n            $ ozone sh bucket create /vol1/bucket1", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463451081", "createdAt": "2020-07-31T07:31:39Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n+ \n+ There are some functionality which couldn't be accessed without using `ozone sh` commands. For example:\n+ \n+  1. Creating volumes with quota\n+  2. Managing internal ACLs\n+  3. Creating buckets with encryption key\n+  \n+All of these are one-time, administration tasks. Applications can use Ozone without this CLI using other interface like Hadoop Compatible File System (o3fs or ofs) or S3 interface.\n+\n+\n+Ozone shell help can be invoked at _object_ level or at _action_ level.\n+\n+For example:\n+\n+```bash\n+ozone sh volume --help\n+```\n+\n+This will show all possible actions for volumes.\n+\n+or it can be invoked to explain a specific action like\n+\n+```bash\n+ozone sh volume create --help\n+```\n+\n+This command will give you command line options of the create command.\n+\n+## General Command Format\n+\n+The Ozone shell commands take the following format.\n+\n+> _ozone sh object action url_\n+\n+**ozone** script is used to invoke all Ozone sub-commands. The ozone shell is\n+invoked via ```sh``` command.\n+\n+The object can be a volume, bucket or a key. The action is various verbs like\n+create, list, delete etc.\n+\n+Ozone URL can point to a volume, bucket or keys in the following format:\n+\n+_\\[schema\\]\\[server:port\\]/volume/bucket/key_\n+\n+\n+Where,\n+\n+1. **Schema** - This should be `o3` which is the native RPC protocol to access\n+  Ozone API. The usage of the schema is optional.\n+\n+2. **Server:Port** - This is the address of the Ozone Manager. If the port is\n+omitted the default port from ozone-site.xml will be used.\n+\n+Depending on the call, the volume/bucket/key names will be part of the URL.\n+Please see volume commands, bucket commands, and key commands section for more\n+detail.\n+\n+## Volume operation\n+\n+Volume is the top level element of the hierarchy and supposed to managed only by the administrators. Quota and the owner user can be defined.\n+\n+Example commands:\n+\n+```shell\n+> ozone sh volume create /vol1\n+```\n+\n+```shell\n+bash-4.2$ ozone sh volume info /vol1\n+{\n+  \"metadata\" : { },\n+  \"name\" : \"vol1\",\n+  \"admin\" : \"hadoop\",\n+  \"owner\" : \"hadoop\",\n+  \"creationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"modificationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"acls\" : [ {\n+    \"type\" : \"USER\",\n+    \"name\" : \"hadoop\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  }, {\n+    \"type\" : \"GROUP\",\n+    \"name\" : \"users\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  } ],\n+  \"quota\" : 1152921504606846976\n+}\n+```\n+\n+```shell\n+ozone sh volume list /\n+{\n+  \"metadata\" : { },\n+  \"name\" : \"s3v\",\n+  \"admin\" : \"hadoop\",\n+  \"owner\" : \"hadoop\",\n+  \"creationTime\" : \"2020-07-27T11:32:22.314Z\",\n+  \"modificationTime\" : \"2020-07-27T11:32:22.314Z\",\n+  \"acls\" : [ {\n+    \"type\" : \"USER\",\n+    \"name\" : \"hadoop\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  }, {\n+    \"type\" : \"GROUP\",\n+    \"name\" : \"users\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  } ],\n+  \"quota\" : 1152921504606846976\n+}\n+....\n+```\n+## Bucket operation\n+\n+Bucket is the second level hierarchy, similar to the AWS S3 buckets. Users can create buckets in volumes with permissions.\n+\n+Command examples:\n+\n+```shell\n+> ozone sh bucket create /vol1/bucket1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 149}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzYzODQ3OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozMTo0N1rOG5-0BA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozMTo0N1rOG5-0BA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ1MTE0MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            > ozone sh bucket info /vol1/bucket1\n          \n          \n            \n            $ ozone sh bucket info /vol1/bucket1", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463451140", "createdAt": "2020-07-31T07:31:47Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n+ \n+ There are some functionality which couldn't be accessed without using `ozone sh` commands. For example:\n+ \n+  1. Creating volumes with quota\n+  2. Managing internal ACLs\n+  3. Creating buckets with encryption key\n+  \n+All of these are one-time, administration tasks. Applications can use Ozone without this CLI using other interface like Hadoop Compatible File System (o3fs or ofs) or S3 interface.\n+\n+\n+Ozone shell help can be invoked at _object_ level or at _action_ level.\n+\n+For example:\n+\n+```bash\n+ozone sh volume --help\n+```\n+\n+This will show all possible actions for volumes.\n+\n+or it can be invoked to explain a specific action like\n+\n+```bash\n+ozone sh volume create --help\n+```\n+\n+This command will give you command line options of the create command.\n+\n+## General Command Format\n+\n+The Ozone shell commands take the following format.\n+\n+> _ozone sh object action url_\n+\n+**ozone** script is used to invoke all Ozone sub-commands. The ozone shell is\n+invoked via ```sh``` command.\n+\n+The object can be a volume, bucket or a key. The action is various verbs like\n+create, list, delete etc.\n+\n+Ozone URL can point to a volume, bucket or keys in the following format:\n+\n+_\\[schema\\]\\[server:port\\]/volume/bucket/key_\n+\n+\n+Where,\n+\n+1. **Schema** - This should be `o3` which is the native RPC protocol to access\n+  Ozone API. The usage of the schema is optional.\n+\n+2. **Server:Port** - This is the address of the Ozone Manager. If the port is\n+omitted the default port from ozone-site.xml will be used.\n+\n+Depending on the call, the volume/bucket/key names will be part of the URL.\n+Please see volume commands, bucket commands, and key commands section for more\n+detail.\n+\n+## Volume operation\n+\n+Volume is the top level element of the hierarchy and supposed to managed only by the administrators. Quota and the owner user can be defined.\n+\n+Example commands:\n+\n+```shell\n+> ozone sh volume create /vol1\n+```\n+\n+```shell\n+bash-4.2$ ozone sh volume info /vol1\n+{\n+  \"metadata\" : { },\n+  \"name\" : \"vol1\",\n+  \"admin\" : \"hadoop\",\n+  \"owner\" : \"hadoop\",\n+  \"creationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"modificationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"acls\" : [ {\n+    \"type\" : \"USER\",\n+    \"name\" : \"hadoop\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  }, {\n+    \"type\" : \"GROUP\",\n+    \"name\" : \"users\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  } ],\n+  \"quota\" : 1152921504606846976\n+}\n+```\n+\n+```shell\n+ozone sh volume list /\n+{\n+  \"metadata\" : { },\n+  \"name\" : \"s3v\",\n+  \"admin\" : \"hadoop\",\n+  \"owner\" : \"hadoop\",\n+  \"creationTime\" : \"2020-07-27T11:32:22.314Z\",\n+  \"modificationTime\" : \"2020-07-27T11:32:22.314Z\",\n+  \"acls\" : [ {\n+    \"type\" : \"USER\",\n+    \"name\" : \"hadoop\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  }, {\n+    \"type\" : \"GROUP\",\n+    \"name\" : \"users\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  } ],\n+  \"quota\" : 1152921504606846976\n+}\n+....\n+```\n+## Bucket operation\n+\n+Bucket is the second level hierarchy, similar to the AWS S3 buckets. Users can create buckets in volumes with permissions.\n+\n+Command examples:\n+\n+```shell\n+> ozone sh bucket create /vol1/bucket1\n+```shell\n+\n+```shell\n+> ozone sh bucket info /vol1/bucket1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 153}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzYzOTk0OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozMjoyNlrOG5-0_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozMjoyNlrOG5-0_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ1MTM4OA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            Bucket is the level of the [Transparent Data Encryption]({{< ref \"security/SecuringTDE.md\" >}})\n          \n          \n            \n            [Transparent Data Encryption]({{< ref \"security/SecuringTDE.md\" >}}) can be enabled at the bucket level.", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463451388", "createdAt": "2020-07-31T07:32:26Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n+ \n+ There are some functionality which couldn't be accessed without using `ozone sh` commands. For example:\n+ \n+  1. Creating volumes with quota\n+  2. Managing internal ACLs\n+  3. Creating buckets with encryption key\n+  \n+All of these are one-time, administration tasks. Applications can use Ozone without this CLI using other interface like Hadoop Compatible File System (o3fs or ofs) or S3 interface.\n+\n+\n+Ozone shell help can be invoked at _object_ level or at _action_ level.\n+\n+For example:\n+\n+```bash\n+ozone sh volume --help\n+```\n+\n+This will show all possible actions for volumes.\n+\n+or it can be invoked to explain a specific action like\n+\n+```bash\n+ozone sh volume create --help\n+```\n+\n+This command will give you command line options of the create command.\n+\n+## General Command Format\n+\n+The Ozone shell commands take the following format.\n+\n+> _ozone sh object action url_\n+\n+**ozone** script is used to invoke all Ozone sub-commands. The ozone shell is\n+invoked via ```sh``` command.\n+\n+The object can be a volume, bucket or a key. The action is various verbs like\n+create, list, delete etc.\n+\n+Ozone URL can point to a volume, bucket or keys in the following format:\n+\n+_\\[schema\\]\\[server:port\\]/volume/bucket/key_\n+\n+\n+Where,\n+\n+1. **Schema** - This should be `o3` which is the native RPC protocol to access\n+  Ozone API. The usage of the schema is optional.\n+\n+2. **Server:Port** - This is the address of the Ozone Manager. If the port is\n+omitted the default port from ozone-site.xml will be used.\n+\n+Depending on the call, the volume/bucket/key names will be part of the URL.\n+Please see volume commands, bucket commands, and key commands section for more\n+detail.\n+\n+## Volume operation\n+\n+Volume is the top level element of the hierarchy and supposed to managed only by the administrators. Quota and the owner user can be defined.\n+\n+Example commands:\n+\n+```shell\n+> ozone sh volume create /vol1\n+```\n+\n+```shell\n+bash-4.2$ ozone sh volume info /vol1\n+{\n+  \"metadata\" : { },\n+  \"name\" : \"vol1\",\n+  \"admin\" : \"hadoop\",\n+  \"owner\" : \"hadoop\",\n+  \"creationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"modificationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"acls\" : [ {\n+    \"type\" : \"USER\",\n+    \"name\" : \"hadoop\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  }, {\n+    \"type\" : \"GROUP\",\n+    \"name\" : \"users\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  } ],\n+  \"quota\" : 1152921504606846976\n+}\n+```\n+\n+```shell\n+ozone sh volume list /\n+{\n+  \"metadata\" : { },\n+  \"name\" : \"s3v\",\n+  \"admin\" : \"hadoop\",\n+  \"owner\" : \"hadoop\",\n+  \"creationTime\" : \"2020-07-27T11:32:22.314Z\",\n+  \"modificationTime\" : \"2020-07-27T11:32:22.314Z\",\n+  \"acls\" : [ {\n+    \"type\" : \"USER\",\n+    \"name\" : \"hadoop\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  }, {\n+    \"type\" : \"GROUP\",\n+    \"name\" : \"users\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  } ],\n+  \"quota\" : 1152921504606846976\n+}\n+....\n+```\n+## Bucket operation\n+\n+Bucket is the second level hierarchy, similar to the AWS S3 buckets. Users can create buckets in volumes with permissions.\n+\n+Command examples:\n+\n+```shell\n+> ozone sh bucket create /vol1/bucket1\n+```shell\n+\n+```shell\n+> ozone sh bucket info /vol1/bucket1\n+{\n+  \"metadata\" : { },\n+  \"volumeName\" : \"vol1\",\n+  \"name\" : \"bucket1\",\n+  \"storageType\" : \"DISK\",\n+  \"versioning\" : false,\n+  \"creationTime\" : \"2020-07-28T13:14:45.091Z\",\n+  \"modificationTime\" : \"2020-07-28T13:14:45.091Z\",\n+  \"encryptionKeyName\" : null,\n+  \"sourceVolume\" : null,\n+  \"sourceBucket\" : null\n+}\n+```\n+\n+Bucket is the level of the [Transparent Data Encryption]({{< ref \"security/SecuringTDE.md\" >}})", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 168}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzY0MTIxOnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozMjo1MlrOG5-1qQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozMjo1MlrOG5-1qQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ1MTU2MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ## Key\n          \n          \n            \n            ## Key operations", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463451561", "createdAt": "2020-07-31T07:32:52Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n+ \n+ There are some functionality which couldn't be accessed without using `ozone sh` commands. For example:\n+ \n+  1. Creating volumes with quota\n+  2. Managing internal ACLs\n+  3. Creating buckets with encryption key\n+  \n+All of these are one-time, administration tasks. Applications can use Ozone without this CLI using other interface like Hadoop Compatible File System (o3fs or ofs) or S3 interface.\n+\n+\n+Ozone shell help can be invoked at _object_ level or at _action_ level.\n+\n+For example:\n+\n+```bash\n+ozone sh volume --help\n+```\n+\n+This will show all possible actions for volumes.\n+\n+or it can be invoked to explain a specific action like\n+\n+```bash\n+ozone sh volume create --help\n+```\n+\n+This command will give you command line options of the create command.\n+\n+## General Command Format\n+\n+The Ozone shell commands take the following format.\n+\n+> _ozone sh object action url_\n+\n+**ozone** script is used to invoke all Ozone sub-commands. The ozone shell is\n+invoked via ```sh``` command.\n+\n+The object can be a volume, bucket or a key. The action is various verbs like\n+create, list, delete etc.\n+\n+Ozone URL can point to a volume, bucket or keys in the following format:\n+\n+_\\[schema\\]\\[server:port\\]/volume/bucket/key_\n+\n+\n+Where,\n+\n+1. **Schema** - This should be `o3` which is the native RPC protocol to access\n+  Ozone API. The usage of the schema is optional.\n+\n+2. **Server:Port** - This is the address of the Ozone Manager. If the port is\n+omitted the default port from ozone-site.xml will be used.\n+\n+Depending on the call, the volume/bucket/key names will be part of the URL.\n+Please see volume commands, bucket commands, and key commands section for more\n+detail.\n+\n+## Volume operation\n+\n+Volume is the top level element of the hierarchy and supposed to managed only by the administrators. Quota and the owner user can be defined.\n+\n+Example commands:\n+\n+```shell\n+> ozone sh volume create /vol1\n+```\n+\n+```shell\n+bash-4.2$ ozone sh volume info /vol1\n+{\n+  \"metadata\" : { },\n+  \"name\" : \"vol1\",\n+  \"admin\" : \"hadoop\",\n+  \"owner\" : \"hadoop\",\n+  \"creationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"modificationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"acls\" : [ {\n+    \"type\" : \"USER\",\n+    \"name\" : \"hadoop\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  }, {\n+    \"type\" : \"GROUP\",\n+    \"name\" : \"users\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  } ],\n+  \"quota\" : 1152921504606846976\n+}\n+```\n+\n+```shell\n+ozone sh volume list /\n+{\n+  \"metadata\" : { },\n+  \"name\" : \"s3v\",\n+  \"admin\" : \"hadoop\",\n+  \"owner\" : \"hadoop\",\n+  \"creationTime\" : \"2020-07-27T11:32:22.314Z\",\n+  \"modificationTime\" : \"2020-07-27T11:32:22.314Z\",\n+  \"acls\" : [ {\n+    \"type\" : \"USER\",\n+    \"name\" : \"hadoop\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  }, {\n+    \"type\" : \"GROUP\",\n+    \"name\" : \"users\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  } ],\n+  \"quota\" : 1152921504606846976\n+}\n+....\n+```\n+## Bucket operation\n+\n+Bucket is the second level hierarchy, similar to the AWS S3 buckets. Users can create buckets in volumes with permissions.\n+\n+Command examples:\n+\n+```shell\n+> ozone sh bucket create /vol1/bucket1\n+```shell\n+\n+```shell\n+> ozone sh bucket info /vol1/bucket1\n+{\n+  \"metadata\" : { },\n+  \"volumeName\" : \"vol1\",\n+  \"name\" : \"bucket1\",\n+  \"storageType\" : \"DISK\",\n+  \"versioning\" : false,\n+  \"creationTime\" : \"2020-07-28T13:14:45.091Z\",\n+  \"modificationTime\" : \"2020-07-28T13:14:45.091Z\",\n+  \"encryptionKeyName\" : null,\n+  \"sourceVolume\" : null,\n+  \"sourceBucket\" : null\n+}\n+```\n+\n+Bucket is the level of the [Transparent Data Encryption]({{< ref \"security/SecuringTDE.md\" >}})\n+\n+## Key", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 170}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzY0MTU0OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozMzowMVrOG5-12Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozMzowMVrOG5-12Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ1MTYwOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ## Bucket operation\n          \n          \n            \n            ## Bucket operations", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463451609", "createdAt": "2020-07-31T07:33:01Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n+ \n+ There are some functionality which couldn't be accessed without using `ozone sh` commands. For example:\n+ \n+  1. Creating volumes with quota\n+  2. Managing internal ACLs\n+  3. Creating buckets with encryption key\n+  \n+All of these are one-time, administration tasks. Applications can use Ozone without this CLI using other interface like Hadoop Compatible File System (o3fs or ofs) or S3 interface.\n+\n+\n+Ozone shell help can be invoked at _object_ level or at _action_ level.\n+\n+For example:\n+\n+```bash\n+ozone sh volume --help\n+```\n+\n+This will show all possible actions for volumes.\n+\n+or it can be invoked to explain a specific action like\n+\n+```bash\n+ozone sh volume create --help\n+```\n+\n+This command will give you command line options of the create command.\n+\n+## General Command Format\n+\n+The Ozone shell commands take the following format.\n+\n+> _ozone sh object action url_\n+\n+**ozone** script is used to invoke all Ozone sub-commands. The ozone shell is\n+invoked via ```sh``` command.\n+\n+The object can be a volume, bucket or a key. The action is various verbs like\n+create, list, delete etc.\n+\n+Ozone URL can point to a volume, bucket or keys in the following format:\n+\n+_\\[schema\\]\\[server:port\\]/volume/bucket/key_\n+\n+\n+Where,\n+\n+1. **Schema** - This should be `o3` which is the native RPC protocol to access\n+  Ozone API. The usage of the schema is optional.\n+\n+2. **Server:Port** - This is the address of the Ozone Manager. If the port is\n+omitted the default port from ozone-site.xml will be used.\n+\n+Depending on the call, the volume/bucket/key names will be part of the URL.\n+Please see volume commands, bucket commands, and key commands section for more\n+detail.\n+\n+## Volume operation\n+\n+Volume is the top level element of the hierarchy and supposed to managed only by the administrators. Quota and the owner user can be defined.\n+\n+Example commands:\n+\n+```shell\n+> ozone sh volume create /vol1\n+```\n+\n+```shell\n+bash-4.2$ ozone sh volume info /vol1\n+{\n+  \"metadata\" : { },\n+  \"name\" : \"vol1\",\n+  \"admin\" : \"hadoop\",\n+  \"owner\" : \"hadoop\",\n+  \"creationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"modificationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"acls\" : [ {\n+    \"type\" : \"USER\",\n+    \"name\" : \"hadoop\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  }, {\n+    \"type\" : \"GROUP\",\n+    \"name\" : \"users\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  } ],\n+  \"quota\" : 1152921504606846976\n+}\n+```\n+\n+```shell\n+ozone sh volume list /\n+{\n+  \"metadata\" : { },\n+  \"name\" : \"s3v\",\n+  \"admin\" : \"hadoop\",\n+  \"owner\" : \"hadoop\",\n+  \"creationTime\" : \"2020-07-27T11:32:22.314Z\",\n+  \"modificationTime\" : \"2020-07-27T11:32:22.314Z\",\n+  \"acls\" : [ {\n+    \"type\" : \"USER\",\n+    \"name\" : \"hadoop\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  }, {\n+    \"type\" : \"GROUP\",\n+    \"name\" : \"users\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  } ],\n+  \"quota\" : 1152921504606846976\n+}\n+....\n+```\n+## Bucket operation", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 142}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzY0MTg2OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozMzowOFrOG5-2DQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozMzowOFrOG5-2DQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ1MTY2MQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            ## Volume operation\n          \n          \n            \n            ## Volume operations", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463451661", "createdAt": "2020-07-31T07:33:08Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n+ \n+ There are some functionality which couldn't be accessed without using `ozone sh` commands. For example:\n+ \n+  1. Creating volumes with quota\n+  2. Managing internal ACLs\n+  3. Creating buckets with encryption key\n+  \n+All of these are one-time, administration tasks. Applications can use Ozone without this CLI using other interface like Hadoop Compatible File System (o3fs or ofs) or S3 interface.\n+\n+\n+Ozone shell help can be invoked at _object_ level or at _action_ level.\n+\n+For example:\n+\n+```bash\n+ozone sh volume --help\n+```\n+\n+This will show all possible actions for volumes.\n+\n+or it can be invoked to explain a specific action like\n+\n+```bash\n+ozone sh volume create --help\n+```\n+\n+This command will give you command line options of the create command.\n+\n+## General Command Format\n+\n+The Ozone shell commands take the following format.\n+\n+> _ozone sh object action url_\n+\n+**ozone** script is used to invoke all Ozone sub-commands. The ozone shell is\n+invoked via ```sh``` command.\n+\n+The object can be a volume, bucket or a key. The action is various verbs like\n+create, list, delete etc.\n+\n+Ozone URL can point to a volume, bucket or keys in the following format:\n+\n+_\\[schema\\]\\[server:port\\]/volume/bucket/key_\n+\n+\n+Where,\n+\n+1. **Schema** - This should be `o3` which is the native RPC protocol to access\n+  Ozone API. The usage of the schema is optional.\n+\n+2. **Server:Port** - This is the address of the Ozone Manager. If the port is\n+omitted the default port from ozone-site.xml will be used.\n+\n+Depending on the call, the volume/bucket/key names will be part of the URL.\n+Please see volume commands, bucket commands, and key commands section for more\n+detail.\n+\n+## Volume operation", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 84}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzY0NTUxOnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozNDo0NVrOG5-4Tg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozNDo0NVrOG5-4Tg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ1MjIzOA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            >ozone sh key put /vol1/bucket1/README.md README.md\n          \n          \n            \n            $ ozone sh key put /vol1/bucket1/README.md README.md", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463452238", "createdAt": "2020-07-31T07:34:45Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n+ \n+ There are some functionality which couldn't be accessed without using `ozone sh` commands. For example:\n+ \n+  1. Creating volumes with quota\n+  2. Managing internal ACLs\n+  3. Creating buckets with encryption key\n+  \n+All of these are one-time, administration tasks. Applications can use Ozone without this CLI using other interface like Hadoop Compatible File System (o3fs or ofs) or S3 interface.\n+\n+\n+Ozone shell help can be invoked at _object_ level or at _action_ level.\n+\n+For example:\n+\n+```bash\n+ozone sh volume --help\n+```\n+\n+This will show all possible actions for volumes.\n+\n+or it can be invoked to explain a specific action like\n+\n+```bash\n+ozone sh volume create --help\n+```\n+\n+This command will give you command line options of the create command.\n+\n+## General Command Format\n+\n+The Ozone shell commands take the following format.\n+\n+> _ozone sh object action url_\n+\n+**ozone** script is used to invoke all Ozone sub-commands. The ozone shell is\n+invoked via ```sh``` command.\n+\n+The object can be a volume, bucket or a key. The action is various verbs like\n+create, list, delete etc.\n+\n+Ozone URL can point to a volume, bucket or keys in the following format:\n+\n+_\\[schema\\]\\[server:port\\]/volume/bucket/key_\n+\n+\n+Where,\n+\n+1. **Schema** - This should be `o3` which is the native RPC protocol to access\n+  Ozone API. The usage of the schema is optional.\n+\n+2. **Server:Port** - This is the address of the Ozone Manager. If the port is\n+omitted the default port from ozone-site.xml will be used.\n+\n+Depending on the call, the volume/bucket/key names will be part of the URL.\n+Please see volume commands, bucket commands, and key commands section for more\n+detail.\n+\n+## Volume operation\n+\n+Volume is the top level element of the hierarchy and supposed to managed only by the administrators. Quota and the owner user can be defined.\n+\n+Example commands:\n+\n+```shell\n+> ozone sh volume create /vol1\n+```\n+\n+```shell\n+bash-4.2$ ozone sh volume info /vol1\n+{\n+  \"metadata\" : { },\n+  \"name\" : \"vol1\",\n+  \"admin\" : \"hadoop\",\n+  \"owner\" : \"hadoop\",\n+  \"creationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"modificationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"acls\" : [ {\n+    \"type\" : \"USER\",\n+    \"name\" : \"hadoop\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  }, {\n+    \"type\" : \"GROUP\",\n+    \"name\" : \"users\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  } ],\n+  \"quota\" : 1152921504606846976\n+}\n+```\n+\n+```shell\n+ozone sh volume list /\n+{\n+  \"metadata\" : { },\n+  \"name\" : \"s3v\",\n+  \"admin\" : \"hadoop\",\n+  \"owner\" : \"hadoop\",\n+  \"creationTime\" : \"2020-07-27T11:32:22.314Z\",\n+  \"modificationTime\" : \"2020-07-27T11:32:22.314Z\",\n+  \"acls\" : [ {\n+    \"type\" : \"USER\",\n+    \"name\" : \"hadoop\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  }, {\n+    \"type\" : \"GROUP\",\n+    \"name\" : \"users\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  } ],\n+  \"quota\" : 1152921504606846976\n+}\n+....\n+```\n+## Bucket operation\n+\n+Bucket is the second level hierarchy, similar to the AWS S3 buckets. Users can create buckets in volumes with permissions.\n+\n+Command examples:\n+\n+```shell\n+> ozone sh bucket create /vol1/bucket1\n+```shell\n+\n+```shell\n+> ozone sh bucket info /vol1/bucket1\n+{\n+  \"metadata\" : { },\n+  \"volumeName\" : \"vol1\",\n+  \"name\" : \"bucket1\",\n+  \"storageType\" : \"DISK\",\n+  \"versioning\" : false,\n+  \"creationTime\" : \"2020-07-28T13:14:45.091Z\",\n+  \"modificationTime\" : \"2020-07-28T13:14:45.091Z\",\n+  \"encryptionKeyName\" : null,\n+  \"sourceVolume\" : null,\n+  \"sourceBucket\" : null\n+}\n+```\n+\n+Bucket is the level of the [Transparent Data Encryption]({{< ref \"security/SecuringTDE.md\" >}})\n+\n+## Key\n+\n+Key is the object which can store the data.\n+\n+```shell\n+>ozone sh key put /vol1/bucket1/README.md README.md", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 175}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzY1Nzk2OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozOToyOVrOG5-_6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozOToyOVrOG5-_6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ1NDE4Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The standard `ozone sh _object_type _action_ _url_` scheme can cause some confusion here as the parameter order is `ozone sh key put <DESTINATION> <SOURCE>` instead of the opposite. \n          \n          \n            \n            In this case the standard `ozone sh <object_type> <action> <url>` scheme may be a bit confusing at first, as it results in the syntax `ozone sh key put <destination> <source>` instead of the arguably more natural order of `<source> <destination>`.", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463454187", "createdAt": "2020-07-31T07:39:29Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n+ \n+ There are some functionality which couldn't be accessed without using `ozone sh` commands. For example:\n+ \n+  1. Creating volumes with quota\n+  2. Managing internal ACLs\n+  3. Creating buckets with encryption key\n+  \n+All of these are one-time, administration tasks. Applications can use Ozone without this CLI using other interface like Hadoop Compatible File System (o3fs or ofs) or S3 interface.\n+\n+\n+Ozone shell help can be invoked at _object_ level or at _action_ level.\n+\n+For example:\n+\n+```bash\n+ozone sh volume --help\n+```\n+\n+This will show all possible actions for volumes.\n+\n+or it can be invoked to explain a specific action like\n+\n+```bash\n+ozone sh volume create --help\n+```\n+\n+This command will give you command line options of the create command.\n+\n+## General Command Format\n+\n+The Ozone shell commands take the following format.\n+\n+> _ozone sh object action url_\n+\n+**ozone** script is used to invoke all Ozone sub-commands. The ozone shell is\n+invoked via ```sh``` command.\n+\n+The object can be a volume, bucket or a key. The action is various verbs like\n+create, list, delete etc.\n+\n+Ozone URL can point to a volume, bucket or keys in the following format:\n+\n+_\\[schema\\]\\[server:port\\]/volume/bucket/key_\n+\n+\n+Where,\n+\n+1. **Schema** - This should be `o3` which is the native RPC protocol to access\n+  Ozone API. The usage of the schema is optional.\n+\n+2. **Server:Port** - This is the address of the Ozone Manager. If the port is\n+omitted the default port from ozone-site.xml will be used.\n+\n+Depending on the call, the volume/bucket/key names will be part of the URL.\n+Please see volume commands, bucket commands, and key commands section for more\n+detail.\n+\n+## Volume operation\n+\n+Volume is the top level element of the hierarchy and supposed to managed only by the administrators. Quota and the owner user can be defined.\n+\n+Example commands:\n+\n+```shell\n+> ozone sh volume create /vol1\n+```\n+\n+```shell\n+bash-4.2$ ozone sh volume info /vol1\n+{\n+  \"metadata\" : { },\n+  \"name\" : \"vol1\",\n+  \"admin\" : \"hadoop\",\n+  \"owner\" : \"hadoop\",\n+  \"creationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"modificationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"acls\" : [ {\n+    \"type\" : \"USER\",\n+    \"name\" : \"hadoop\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  }, {\n+    \"type\" : \"GROUP\",\n+    \"name\" : \"users\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  } ],\n+  \"quota\" : 1152921504606846976\n+}\n+```\n+\n+```shell\n+ozone sh volume list /\n+{\n+  \"metadata\" : { },\n+  \"name\" : \"s3v\",\n+  \"admin\" : \"hadoop\",\n+  \"owner\" : \"hadoop\",\n+  \"creationTime\" : \"2020-07-27T11:32:22.314Z\",\n+  \"modificationTime\" : \"2020-07-27T11:32:22.314Z\",\n+  \"acls\" : [ {\n+    \"type\" : \"USER\",\n+    \"name\" : \"hadoop\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  }, {\n+    \"type\" : \"GROUP\",\n+    \"name\" : \"users\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  } ],\n+  \"quota\" : 1152921504606846976\n+}\n+....\n+```\n+## Bucket operation\n+\n+Bucket is the second level hierarchy, similar to the AWS S3 buckets. Users can create buckets in volumes with permissions.\n+\n+Command examples:\n+\n+```shell\n+> ozone sh bucket create /vol1/bucket1\n+```shell\n+\n+```shell\n+> ozone sh bucket info /vol1/bucket1\n+{\n+  \"metadata\" : { },\n+  \"volumeName\" : \"vol1\",\n+  \"name\" : \"bucket1\",\n+  \"storageType\" : \"DISK\",\n+  \"versioning\" : false,\n+  \"creationTime\" : \"2020-07-28T13:14:45.091Z\",\n+  \"modificationTime\" : \"2020-07-28T13:14:45.091Z\",\n+  \"encryptionKeyName\" : null,\n+  \"sourceVolume\" : null,\n+  \"sourceBucket\" : null\n+}\n+```\n+\n+Bucket is the level of the [Transparent Data Encryption]({{< ref \"security/SecuringTDE.md\" >}})\n+\n+## Key\n+\n+Key is the object which can store the data.\n+\n+```shell\n+>ozone sh key put /vol1/bucket1/README.md README.md\n+```\n+\n+<div class=\"alert alert-warning\" role=\"alert\">\n+\n+The standard `ozone sh _object_type _action_ _url_` scheme can cause some confusion here as the parameter order is `ozone sh key put <DESTINATION> <SOURCE>` instead of the opposite. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 180}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzY1ODI2OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozOTozN1rOG5_AGg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozOTozN1rOG5_AGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ1NDIzNA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            >ozone sh key info /vol1/bucket1/README.md\n          \n          \n            \n            $ ozone sh key info /vol1/bucket1/README.md", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463454234", "createdAt": "2020-07-31T07:39:37Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n+ \n+ There are some functionality which couldn't be accessed without using `ozone sh` commands. For example:\n+ \n+  1. Creating volumes with quota\n+  2. Managing internal ACLs\n+  3. Creating buckets with encryption key\n+  \n+All of these are one-time, administration tasks. Applications can use Ozone without this CLI using other interface like Hadoop Compatible File System (o3fs or ofs) or S3 interface.\n+\n+\n+Ozone shell help can be invoked at _object_ level or at _action_ level.\n+\n+For example:\n+\n+```bash\n+ozone sh volume --help\n+```\n+\n+This will show all possible actions for volumes.\n+\n+or it can be invoked to explain a specific action like\n+\n+```bash\n+ozone sh volume create --help\n+```\n+\n+This command will give you command line options of the create command.\n+\n+## General Command Format\n+\n+The Ozone shell commands take the following format.\n+\n+> _ozone sh object action url_\n+\n+**ozone** script is used to invoke all Ozone sub-commands. The ozone shell is\n+invoked via ```sh``` command.\n+\n+The object can be a volume, bucket or a key. The action is various verbs like\n+create, list, delete etc.\n+\n+Ozone URL can point to a volume, bucket or keys in the following format:\n+\n+_\\[schema\\]\\[server:port\\]/volume/bucket/key_\n+\n+\n+Where,\n+\n+1. **Schema** - This should be `o3` which is the native RPC protocol to access\n+  Ozone API. The usage of the schema is optional.\n+\n+2. **Server:Port** - This is the address of the Ozone Manager. If the port is\n+omitted the default port from ozone-site.xml will be used.\n+\n+Depending on the call, the volume/bucket/key names will be part of the URL.\n+Please see volume commands, bucket commands, and key commands section for more\n+detail.\n+\n+## Volume operation\n+\n+Volume is the top level element of the hierarchy and supposed to managed only by the administrators. Quota and the owner user can be defined.\n+\n+Example commands:\n+\n+```shell\n+> ozone sh volume create /vol1\n+```\n+\n+```shell\n+bash-4.2$ ozone sh volume info /vol1\n+{\n+  \"metadata\" : { },\n+  \"name\" : \"vol1\",\n+  \"admin\" : \"hadoop\",\n+  \"owner\" : \"hadoop\",\n+  \"creationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"modificationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"acls\" : [ {\n+    \"type\" : \"USER\",\n+    \"name\" : \"hadoop\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  }, {\n+    \"type\" : \"GROUP\",\n+    \"name\" : \"users\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  } ],\n+  \"quota\" : 1152921504606846976\n+}\n+```\n+\n+```shell\n+ozone sh volume list /\n+{\n+  \"metadata\" : { },\n+  \"name\" : \"s3v\",\n+  \"admin\" : \"hadoop\",\n+  \"owner\" : \"hadoop\",\n+  \"creationTime\" : \"2020-07-27T11:32:22.314Z\",\n+  \"modificationTime\" : \"2020-07-27T11:32:22.314Z\",\n+  \"acls\" : [ {\n+    \"type\" : \"USER\",\n+    \"name\" : \"hadoop\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  }, {\n+    \"type\" : \"GROUP\",\n+    \"name\" : \"users\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  } ],\n+  \"quota\" : 1152921504606846976\n+}\n+....\n+```\n+## Bucket operation\n+\n+Bucket is the second level hierarchy, similar to the AWS S3 buckets. Users can create buckets in volumes with permissions.\n+\n+Command examples:\n+\n+```shell\n+> ozone sh bucket create /vol1/bucket1\n+```shell\n+\n+```shell\n+> ozone sh bucket info /vol1/bucket1\n+{\n+  \"metadata\" : { },\n+  \"volumeName\" : \"vol1\",\n+  \"name\" : \"bucket1\",\n+  \"storageType\" : \"DISK\",\n+  \"versioning\" : false,\n+  \"creationTime\" : \"2020-07-28T13:14:45.091Z\",\n+  \"modificationTime\" : \"2020-07-28T13:14:45.091Z\",\n+  \"encryptionKeyName\" : null,\n+  \"sourceVolume\" : null,\n+  \"sourceBucket\" : null\n+}\n+```\n+\n+Bucket is the level of the [Transparent Data Encryption]({{< ref \"security/SecuringTDE.md\" >}})\n+\n+## Key\n+\n+Key is the object which can store the data.\n+\n+```shell\n+>ozone sh key put /vol1/bucket1/README.md README.md\n+```\n+\n+<div class=\"alert alert-warning\" role=\"alert\">\n+\n+The standard `ozone sh _object_type _action_ _url_` scheme can cause some confusion here as the parameter order is `ozone sh key put <DESTINATION> <SOURCE>` instead of the opposite. \n+</div>\n+\n+\n+\n+```shell\n+>ozone sh key info /vol1/bucket1/README.md", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 186}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzY1ODU4OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/Cli.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozOTo0OVrOG5_AUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzozOTo0OVrOG5_AUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ1NDI4OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            >ozone sh key get /vol1/bucket1/README.md /tmp/\n          \n          \n            \n            $ ozone sh key get /vol1/bucket1/README.md /tmp/", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463454289", "createdAt": "2020-07-31T07:39:49Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/content/interface/Cli.md", "diffHunk": "@@ -0,0 +1,209 @@\n+---\n+title: Command Line Interface\n+weight: 4\n+menu:\n+   main:\n+      parent: \"Client Interfaces\"\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\n+ Ozone  shell is the primary interface to interact with Ozone. It provides a command shell interface to work against Ozone. It uses the [Java API]({{< ref \"interface/JavaApi.md\">}}).\n+ \n+ There are some functionality which couldn't be accessed without using `ozone sh` commands. For example:\n+ \n+  1. Creating volumes with quota\n+  2. Managing internal ACLs\n+  3. Creating buckets with encryption key\n+  \n+All of these are one-time, administration tasks. Applications can use Ozone without this CLI using other interface like Hadoop Compatible File System (o3fs or ofs) or S3 interface.\n+\n+\n+Ozone shell help can be invoked at _object_ level or at _action_ level.\n+\n+For example:\n+\n+```bash\n+ozone sh volume --help\n+```\n+\n+This will show all possible actions for volumes.\n+\n+or it can be invoked to explain a specific action like\n+\n+```bash\n+ozone sh volume create --help\n+```\n+\n+This command will give you command line options of the create command.\n+\n+## General Command Format\n+\n+The Ozone shell commands take the following format.\n+\n+> _ozone sh object action url_\n+\n+**ozone** script is used to invoke all Ozone sub-commands. The ozone shell is\n+invoked via ```sh``` command.\n+\n+The object can be a volume, bucket or a key. The action is various verbs like\n+create, list, delete etc.\n+\n+Ozone URL can point to a volume, bucket or keys in the following format:\n+\n+_\\[schema\\]\\[server:port\\]/volume/bucket/key_\n+\n+\n+Where,\n+\n+1. **Schema** - This should be `o3` which is the native RPC protocol to access\n+  Ozone API. The usage of the schema is optional.\n+\n+2. **Server:Port** - This is the address of the Ozone Manager. If the port is\n+omitted the default port from ozone-site.xml will be used.\n+\n+Depending on the call, the volume/bucket/key names will be part of the URL.\n+Please see volume commands, bucket commands, and key commands section for more\n+detail.\n+\n+## Volume operation\n+\n+Volume is the top level element of the hierarchy and supposed to managed only by the administrators. Quota and the owner user can be defined.\n+\n+Example commands:\n+\n+```shell\n+> ozone sh volume create /vol1\n+```\n+\n+```shell\n+bash-4.2$ ozone sh volume info /vol1\n+{\n+  \"metadata\" : { },\n+  \"name\" : \"vol1\",\n+  \"admin\" : \"hadoop\",\n+  \"owner\" : \"hadoop\",\n+  \"creationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"modificationTime\" : \"2020-07-28T12:31:50.112Z\",\n+  \"acls\" : [ {\n+    \"type\" : \"USER\",\n+    \"name\" : \"hadoop\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  }, {\n+    \"type\" : \"GROUP\",\n+    \"name\" : \"users\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  } ],\n+  \"quota\" : 1152921504606846976\n+}\n+```\n+\n+```shell\n+ozone sh volume list /\n+{\n+  \"metadata\" : { },\n+  \"name\" : \"s3v\",\n+  \"admin\" : \"hadoop\",\n+  \"owner\" : \"hadoop\",\n+  \"creationTime\" : \"2020-07-27T11:32:22.314Z\",\n+  \"modificationTime\" : \"2020-07-27T11:32:22.314Z\",\n+  \"acls\" : [ {\n+    \"type\" : \"USER\",\n+    \"name\" : \"hadoop\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  }, {\n+    \"type\" : \"GROUP\",\n+    \"name\" : \"users\",\n+    \"aclScope\" : \"ACCESS\",\n+    \"aclList\" : [ \"ALL\" ]\n+  } ],\n+  \"quota\" : 1152921504606846976\n+}\n+....\n+```\n+## Bucket operation\n+\n+Bucket is the second level hierarchy, similar to the AWS S3 buckets. Users can create buckets in volumes with permissions.\n+\n+Command examples:\n+\n+```shell\n+> ozone sh bucket create /vol1/bucket1\n+```shell\n+\n+```shell\n+> ozone sh bucket info /vol1/bucket1\n+{\n+  \"metadata\" : { },\n+  \"volumeName\" : \"vol1\",\n+  \"name\" : \"bucket1\",\n+  \"storageType\" : \"DISK\",\n+  \"versioning\" : false,\n+  \"creationTime\" : \"2020-07-28T13:14:45.091Z\",\n+  \"modificationTime\" : \"2020-07-28T13:14:45.091Z\",\n+  \"encryptionKeyName\" : null,\n+  \"sourceVolume\" : null,\n+  \"sourceBucket\" : null\n+}\n+```\n+\n+Bucket is the level of the [Transparent Data Encryption]({{< ref \"security/SecuringTDE.md\" >}})\n+\n+## Key\n+\n+Key is the object which can store the data.\n+\n+```shell\n+>ozone sh key put /vol1/bucket1/README.md README.md\n+```\n+\n+<div class=\"alert alert-warning\" role=\"alert\">\n+\n+The standard `ozone sh _object_type _action_ _url_` scheme can cause some confusion here as the parameter order is `ozone sh key put <DESTINATION> <SOURCE>` instead of the opposite. \n+</div>\n+\n+\n+\n+```shell\n+>ozone sh key info /vol1/bucket1/README.md\n+{\n+  \"volumeName\" : \"vol1\",\n+  \"bucketName\" : \"bucket1\",\n+  \"name\" : \"README.md\",\n+  \"dataSize\" : 3841,\n+  \"creationTime\" : \"2020-07-28T13:17:20.749Z\",\n+  \"modificationTime\" : \"2020-07-28T13:17:21.979Z\",\n+  \"replicationType\" : \"RATIS\",\n+  \"replicationFactor\" : 1,\n+  \"ozoneKeyLocations\" : [ {\n+    \"containerID\" : 1,\n+    \"localID\" : 104591670688743424,\n+    \"length\" : 3841,\n+    \"offset\" : 0\n+  } ],\n+  \"metadata\" : { },\n+  \"fileEncryptionInfo\" : null\n+}\n+```\n+\n+```shell\n+>ozone sh key get /vol1/bucket1/README.md /tmp/", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 208}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MzY3MDI4OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/static/slides/.~lock.ozone.odp#", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzo0NDoyNlrOG5_HmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNzo0NDoyNlrOG5_HmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQ1NjE1Mw==", "bodyText": "This file should be omitted.", "url": "https://github.com/apache/ozone/pull/1269#discussion_r463456153", "createdAt": "2020-07-31T07:44:26Z", "author": {"login": "adoroszlai"}, "path": "hadoop-hdds/docs/static/slides/.~lock.ozone.odp#", "diffHunk": "@@ -0,0 +1 @@\n+,elek,om2,28.07.2020 14:45,file:///home/elek/dotfiles/mackup/.config/libreoffice/4;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9487b9500f8d26397dd3afbaae3ca4e134ec05f5"}, "originalPosition": 1}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4059, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}