{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3MDk3NTE3", "number": 491, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNVQwNzo1ODozM1rODaqRdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxOTo1MDo1OVrODcCi6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5MjgyMTY3OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/OzoneFS.zh.md", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNVQwNzo1ODozM1rOFhvMhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwODozNjo0OVrOFkEbjg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDkyMDU4MA==", "bodyText": "not sure how to translate FS statistics  here.", "url": "https://github.com/apache/ozone/pull/491#discussion_r370920580", "createdAt": "2020-01-25T07:58:33Z", "author": {"login": "iamabug"}, "path": "hadoop-hdds/docs/content/interface/OzoneFS.zh.md", "diffHunk": "@@ -0,0 +1,139 @@\n+---\n+title: Ozone \u6587\u4ef6\u7cfb\u7edf\n+date: 2017-09-14\n+weight: 2\n+summary: \u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u4f7f\u5f97\u4efb\u4f55\u4f7f\u7528\u7c7b HDFS \u63a5\u53e3\u7684\u5e94\u7528\u65e0\u9700\u4efb\u4f55\u4fee\u6539\u5c31\u53ef\u4ee5\u5728 Ozone \u4e0a\u5de5\u4f5c\uff0c\u6bd4\u5982 Apache Spark\u3001YARN \u548c Hive \u7b49\u6846\u67b6\u3002\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u63a5\u53e3\u53ef\u4ee5\u8ba9\u4efb\u610f\u50cf Ozone \u8fd9\u6837\u7684\u5b58\u50a8\u540e\u7aef\u8f7b\u677e\u5730\u6574\u5408\u8fdb Hadoop \u751f\u6001\u7cfb\u7edf\uff0cOzone \u6587\u4ef6\u7cfb\u7edf\u5c31\u662f\u4e00\u4e2a\u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u3002\n+\n+## \u642d\u5efa Ozone \u6587\u4ef6\u7cfb\u7edf\n+\n+\u8981\u521b\u5efa\u4e00\u4e2a ozone \u6587\u4ef6\u7cfb\u7edf\uff0c\u6211\u4eec\u9700\u8981\u5148\u4e3a\u5b83\u9009\u62e9\u4e00\u4e2a\u7528\u6765\u76db\u653e\u6570\u636e\u7684\u6876\uff0c\u8fd9\u4e2a\u6876\u4f1a\u88ab\u7528\u4f5c Ozone \u6587\u4ef6\u7cfb\u7edf\u7684\u540e\u7aef\u5b58\u50a8\uff0c\u6240\u6709\u7684\u6587\u4ef6\u548c\u76ee\u5f55\u90fd\u5b58\u50a8\u4e3a\u8fd9\u4e2a\u6876\u4e2d\u7684\u952e\u3002\n+\n+\u5982\u679c\u4f60\u8fd8\u6ca1\u6709\u53ef\u7528\u7684\u5377\u548c\u6876\u7684\u8bdd\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u521b\u5efa\uff1a\n+\n+{{< highlight bash >}}\n+ozone sh volume create /volume\n+ozone sh bucket create /volume/bucket\n+{{< /highlight >}}\n+\n+\u521b\u5efa\u4e4b\u540e\uff0c\u8bf7\u4f7f\u7528 _list volume_ \u6216 _list bucket_ \u547d\u4ee4\u6765\u786e\u8ba4\u6876\u5df2\u5b58\u5728\u3002\n+\n+\u8bf7\u5728 core-site.xml \u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u6761\u76ee\uff1a\n+\n+{{< highlight xml >}}\n+<property>\n+  <name>fs.o3fs.impl</name>\n+  <value>org.apache.hadoop.fs.ozone.OzoneFileSystem</value>\n+</property>\n+<property>\n+  <name>fs.AbstractFileSystem.o3fs.impl</name>\n+  <value>org.apache.hadoop.fs.ozone.OzFs</value>\n+</property>\n+<property>\n+  <name>fs.defaultFS</name>\n+  <value>o3fs://bucket.volume</value>\n+</property>\n+{{< /highlight >}}\n+\n+\u8fd9\u6837\u4f1a\u4f7f\u6307\u5b9a\u7684\u6876\u6210\u4e3a HDFS \u7684 dfs \u547d\u4ee4\u7684\u9ed8\u8ba4\u6587\u4ef6\u7cfb\u7edf\uff0c\u5e76\u4e14\u5c06\u5176\u6ce8\u518c\u4e3a\u4e86 o3fs \u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u3002\n+\n+\u4f60\u8fd8\u9700\u8981\u5c06 ozone-filesystem.jar \u6587\u4ef6\u52a0\u5165 classpath\uff1a\n+\n+{{< highlight bash >}}\n+export HADOOP_CLASSPATH=/opt/ozone/share/ozonefs/lib/hadoop-ozone-filesystem-lib-current*.jar:$HADOOP_CLASSPATH\n+{{< /highlight >}}\n+\n+\u5f53\u914d\u7f6e\u4e86\u9ed8\u8ba4\u7684\u6587\u4ef6\u7cfb\u7edf\u4e4b\u540e\uff0c\u7528\u6237\u53ef\u4ee5\u8fd0\u884c ls\u3001put\u3001mkdir \u7b49\u547d\u4ee4\uff0c\u6bd4\u5982\uff1a\n+\n+{{< highlight bash >}}\n+hdfs dfs -ls /\n+{{< /highlight >}}\n+\n+\u6216\n+\n+{{< highlight bash >}}\n+hdfs dfs -mkdir /users\n+{{< /highlight >}}\n+\n+\n+\u6216\u8005 put \u547d\u4ee4\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u6240\u6709\u50cf Hive\u3001Spark \u548c Distcp \u7684\u7a0b\u5e8f\u90fd\u4f1a\u5728\u8fd9\u4e2a\u6587\u4ef6\u7cfb\u7edf\u4e0a\u5de5\u4f5c\u3002\n+\u8bf7\u6ce8\u610f\uff0c\u5728\u8fd9\u4e2a\u6876\u91cc\u4f7f\u7528 Ozone \u6587\u4ef6\u7cfb\u7edf\u4ee5\u5916\u7684\u65b9\u6cd5\u6765\u8fdb\u884c\u952e\u7684\u521b\u5efa\u548c\u5220\u9664\u65f6\uff0c\u6700\u7ec8\u90fd\u4f1a\u4f53\u73b0\u4e3a Ozone \u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u76ee\u5f55\u548c\u6587\u4ef6\u7684\u521b\u5efa\u548c\u5220\u9664\u3002\n+\n+\u6ce8\u610f\uff1a\u6876\u540d\u548c\u5377\u540d\u4e0d\u53ef\u4ee5\u5305\u542b\u53e5\u70b9\u3002\n+\u6b64\u5916\uff0c\u6587\u4ef6\u7cfb\u7edf\u7684 URI \u53ef\u4ee5\u7531\u6876\u540d\u548c\u5377\u540d\u540e\u8ddf\u7740 OM \u4e3b\u673a\u7684 FQDN \u548c\u4e00\u4e2a\u53ef\u9009\u7684\u7aef\u53e3\u7ec4\u6210\uff0c\u6bd4\u5982\uff0c\u4f60\u53ef\u4ee5\u540c\u65f6\u6307\u5b9a\u4e3b\u673a\u548c\u7aef\u53e3\uff1a\n+\n+{{< highlight bash>}}\n+hdfs dfs -ls o3fs://bucket.volume.om-host.example.com:5678/key\n+{{< /highlight >}}\n+\n+\u5982\u679c\u672a\u6307\u5b9a\u7aef\u53e3\uff0c\u5c06\u4f1a\u5c1d\u8bd5\u4ece `ozone.om.address` \u914d\u7f6e\u4e2d\u83b7\u53d6\u7aef\u53e3\uff0c\u5982\u679c\u672a\u914d\u7f6e\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 `9862`\uff0c\u6bd4\u5982\uff0c\u6211\u4eec\u5728 `ozone-site.xml` \u4e2d\u914d\u7f6e `ozone.om.address` \u5982\u4e0b\uff1a\n+\n+{{< highlight xml >}}\n+  <property>\n+    <name>ozone.om.address</name>\n+    <value>0.0.0.0:6789</value>\n+  </property>\n+{{< /highlight >}}\n+\n+\u5f53\u6211\u4eec\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff1a\n+\n+{{< highlight bash>}}\n+hdfs dfs -ls o3fs://bucket.volume.om-host.example.com/key\n+{{< /highlight >}}\n+\n+\u5b83\u5176\u5b9e\u7b49\u4ef7\u4e8e\uff1a\n+\n+{{< highlight bash>}}\n+hdfs dfs -ls o3fs://bucket.volume.om-host.example.com:6789/key\n+{{< /highlight >}}\n+\n+\u6ce8\u610f\uff1a\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c`ozone.om.address` \u914d\u7f6e\u4e2d\u53ea\u6709\u7aef\u53e3\u53f7\u4f1a\u88ab\u7528\u5230\uff0c\u4e3b\u673a\u540d\u662f\u88ab\u5ffd\u7565\u7684\u3002\n+\n+\n+## \u517c\u5bb9\u65e7\u7248\u672c Hadoop\uff08Legacy jar \u548c BasicOzoneFilesystem\uff09\n+\n+Ozone \u6587\u4ef6\u7cfb\u7edf\u7684 jar \u5305\u6709\u4e24\u79cd\u7c7b\u578b\uff0c\u5b83\u4eec\u90fd\u5305\u542b\u4e86\u6240\u6709\u7684\u4f9d\u8d56\uff1a\n+\n+ * share/ozone/lib/hadoop-ozone-filesystem-lib-current-VERSION.jar\n+ * share/ozone/lib/hadoop-ozone-filesystem-lib-legacy-VERSION.jar\n+\n+\u7b2c\u4e00\u79cd jar \u5305\u5305\u542b\u4e86\u5728\u4e00\u4e2a\u7248\u672c\u517c\u5bb9\u7684 hadoop\uff08hadoop 3.2\uff09\u4e2d\u4f7f\u7528 Ozone \u6587\u4ef6\u7cfb\u7edf\u9700\u8981\u7684\u6240\u6709\u4f9d\u8d56\u3002\n+\n+\u7b2c\u4e8c\u79cd jar \u5305\u5c06\u6240\u6709\u4f9d\u8d56\u5355\u72ec\u653e\u5728\u4e00\u4e2a\u5185\u90e8\u7684\u76ee\u5f55\uff0c\u5e76\u4e14\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u7684\u7c7b\u4f1a\u7528\u4e00\u4e2a\u7279\u6b8a\u7684\u7c7b\u52a0\u8f7d\u5668\u6765\u52a0\u8f7d\u8fd9\u4e9b\u7c7b\u3002\u901a\u8fc7\u8fd9\u79cd\u65b9\u6cd5\uff0c\u65e7\u7248\u672c\u7684 hadoop \u5c31\u53ef\u4ee5\u4f7f\u7528 hadoop-ozone-filesystem-lib-legacy.jar\uff08\u6bd4\u5982hadoop 3.1\u3001hadoop 2.7 \u6216\u8005 spark+hadoop 2.7\uff09\u3002\n+\n+\u548c\u4f9d\u8d56\u7684 jar \u5305\u7c7b\u4f3c\uff0c OzoneFileSystem \u4e5f\u6709\u4e24\u79cd\u5b9e\u73b0\u3002\n+\n+\u5bf9\u4e8e Hadoop 3.0 \u4e4b\u540e\u7684\u7248\u672c\uff0c\u4f60\u5e94\u5f53\u4f7f\u7528 `org.apache.hadoop.fs.ozone.OzoneFileSystem`\uff0c\u5b83\u662f\u517c\u5bb9 Hadoop \u6587\u4ef6\u7cfb\u7edf API \u7684\u5b8c\u6574\u5b9e\u73b0\u3002\n+\n+\u5bf9\u4e8e Hadoop 2.x \u7684\u7248\u672c\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528\u57fa\u7840\u7248\u672c `org.apache.hadoop.fs.ozone.BasicOzoneFileSystem`\uff0c\u4e24\u8005\u5b9e\u73b0\u57fa\u672c\u76f8\u540c\uff0c\u4f46\u662f\u4e0d\u5305\u542b\u5728 Hadoop 3.0 \u4e2d\u5f15\u5165\u7684\u7279\u6027\u548c\u4f9d\u8d56\uff08\u6bd4\u5982 FS statistics\u3001\u52a0\u5bc6\u7a7a\u95f4\u7b49\uff09\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26f25242ee2d8460e8db81ae446fa6ff8028f4ad"}, "originalPosition": 126}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzA3OTAyNg==", "bodyText": "How about \"\u6587\u4ef6\u7cfb\u7edf\u7edf\u8ba1\u4fe1\u606f\u201c", "url": "https://github.com/apache/ozone/pull/491#discussion_r373079026", "createdAt": "2020-01-30T17:10:50Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/docs/content/interface/OzoneFS.zh.md", "diffHunk": "@@ -0,0 +1,139 @@\n+---\n+title: Ozone \u6587\u4ef6\u7cfb\u7edf\n+date: 2017-09-14\n+weight: 2\n+summary: \u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u4f7f\u5f97\u4efb\u4f55\u4f7f\u7528\u7c7b HDFS \u63a5\u53e3\u7684\u5e94\u7528\u65e0\u9700\u4efb\u4f55\u4fee\u6539\u5c31\u53ef\u4ee5\u5728 Ozone \u4e0a\u5de5\u4f5c\uff0c\u6bd4\u5982 Apache Spark\u3001YARN \u548c Hive \u7b49\u6846\u67b6\u3002\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u63a5\u53e3\u53ef\u4ee5\u8ba9\u4efb\u610f\u50cf Ozone \u8fd9\u6837\u7684\u5b58\u50a8\u540e\u7aef\u8f7b\u677e\u5730\u6574\u5408\u8fdb Hadoop \u751f\u6001\u7cfb\u7edf\uff0cOzone \u6587\u4ef6\u7cfb\u7edf\u5c31\u662f\u4e00\u4e2a\u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u3002\n+\n+## \u642d\u5efa Ozone \u6587\u4ef6\u7cfb\u7edf\n+\n+\u8981\u521b\u5efa\u4e00\u4e2a ozone \u6587\u4ef6\u7cfb\u7edf\uff0c\u6211\u4eec\u9700\u8981\u5148\u4e3a\u5b83\u9009\u62e9\u4e00\u4e2a\u7528\u6765\u76db\u653e\u6570\u636e\u7684\u6876\uff0c\u8fd9\u4e2a\u6876\u4f1a\u88ab\u7528\u4f5c Ozone \u6587\u4ef6\u7cfb\u7edf\u7684\u540e\u7aef\u5b58\u50a8\uff0c\u6240\u6709\u7684\u6587\u4ef6\u548c\u76ee\u5f55\u90fd\u5b58\u50a8\u4e3a\u8fd9\u4e2a\u6876\u4e2d\u7684\u952e\u3002\n+\n+\u5982\u679c\u4f60\u8fd8\u6ca1\u6709\u53ef\u7528\u7684\u5377\u548c\u6876\u7684\u8bdd\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u521b\u5efa\uff1a\n+\n+{{< highlight bash >}}\n+ozone sh volume create /volume\n+ozone sh bucket create /volume/bucket\n+{{< /highlight >}}\n+\n+\u521b\u5efa\u4e4b\u540e\uff0c\u8bf7\u4f7f\u7528 _list volume_ \u6216 _list bucket_ \u547d\u4ee4\u6765\u786e\u8ba4\u6876\u5df2\u5b58\u5728\u3002\n+\n+\u8bf7\u5728 core-site.xml \u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u6761\u76ee\uff1a\n+\n+{{< highlight xml >}}\n+<property>\n+  <name>fs.o3fs.impl</name>\n+  <value>org.apache.hadoop.fs.ozone.OzoneFileSystem</value>\n+</property>\n+<property>\n+  <name>fs.AbstractFileSystem.o3fs.impl</name>\n+  <value>org.apache.hadoop.fs.ozone.OzFs</value>\n+</property>\n+<property>\n+  <name>fs.defaultFS</name>\n+  <value>o3fs://bucket.volume</value>\n+</property>\n+{{< /highlight >}}\n+\n+\u8fd9\u6837\u4f1a\u4f7f\u6307\u5b9a\u7684\u6876\u6210\u4e3a HDFS \u7684 dfs \u547d\u4ee4\u7684\u9ed8\u8ba4\u6587\u4ef6\u7cfb\u7edf\uff0c\u5e76\u4e14\u5c06\u5176\u6ce8\u518c\u4e3a\u4e86 o3fs \u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u3002\n+\n+\u4f60\u8fd8\u9700\u8981\u5c06 ozone-filesystem.jar \u6587\u4ef6\u52a0\u5165 classpath\uff1a\n+\n+{{< highlight bash >}}\n+export HADOOP_CLASSPATH=/opt/ozone/share/ozonefs/lib/hadoop-ozone-filesystem-lib-current*.jar:$HADOOP_CLASSPATH\n+{{< /highlight >}}\n+\n+\u5f53\u914d\u7f6e\u4e86\u9ed8\u8ba4\u7684\u6587\u4ef6\u7cfb\u7edf\u4e4b\u540e\uff0c\u7528\u6237\u53ef\u4ee5\u8fd0\u884c ls\u3001put\u3001mkdir \u7b49\u547d\u4ee4\uff0c\u6bd4\u5982\uff1a\n+\n+{{< highlight bash >}}\n+hdfs dfs -ls /\n+{{< /highlight >}}\n+\n+\u6216\n+\n+{{< highlight bash >}}\n+hdfs dfs -mkdir /users\n+{{< /highlight >}}\n+\n+\n+\u6216\u8005 put \u547d\u4ee4\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u6240\u6709\u50cf Hive\u3001Spark \u548c Distcp \u7684\u7a0b\u5e8f\u90fd\u4f1a\u5728\u8fd9\u4e2a\u6587\u4ef6\u7cfb\u7edf\u4e0a\u5de5\u4f5c\u3002\n+\u8bf7\u6ce8\u610f\uff0c\u5728\u8fd9\u4e2a\u6876\u91cc\u4f7f\u7528 Ozone \u6587\u4ef6\u7cfb\u7edf\u4ee5\u5916\u7684\u65b9\u6cd5\u6765\u8fdb\u884c\u952e\u7684\u521b\u5efa\u548c\u5220\u9664\u65f6\uff0c\u6700\u7ec8\u90fd\u4f1a\u4f53\u73b0\u4e3a Ozone \u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u76ee\u5f55\u548c\u6587\u4ef6\u7684\u521b\u5efa\u548c\u5220\u9664\u3002\n+\n+\u6ce8\u610f\uff1a\u6876\u540d\u548c\u5377\u540d\u4e0d\u53ef\u4ee5\u5305\u542b\u53e5\u70b9\u3002\n+\u6b64\u5916\uff0c\u6587\u4ef6\u7cfb\u7edf\u7684 URI \u53ef\u4ee5\u7531\u6876\u540d\u548c\u5377\u540d\u540e\u8ddf\u7740 OM \u4e3b\u673a\u7684 FQDN \u548c\u4e00\u4e2a\u53ef\u9009\u7684\u7aef\u53e3\u7ec4\u6210\uff0c\u6bd4\u5982\uff0c\u4f60\u53ef\u4ee5\u540c\u65f6\u6307\u5b9a\u4e3b\u673a\u548c\u7aef\u53e3\uff1a\n+\n+{{< highlight bash>}}\n+hdfs dfs -ls o3fs://bucket.volume.om-host.example.com:5678/key\n+{{< /highlight >}}\n+\n+\u5982\u679c\u672a\u6307\u5b9a\u7aef\u53e3\uff0c\u5c06\u4f1a\u5c1d\u8bd5\u4ece `ozone.om.address` \u914d\u7f6e\u4e2d\u83b7\u53d6\u7aef\u53e3\uff0c\u5982\u679c\u672a\u914d\u7f6e\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 `9862`\uff0c\u6bd4\u5982\uff0c\u6211\u4eec\u5728 `ozone-site.xml` \u4e2d\u914d\u7f6e `ozone.om.address` \u5982\u4e0b\uff1a\n+\n+{{< highlight xml >}}\n+  <property>\n+    <name>ozone.om.address</name>\n+    <value>0.0.0.0:6789</value>\n+  </property>\n+{{< /highlight >}}\n+\n+\u5f53\u6211\u4eec\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff1a\n+\n+{{< highlight bash>}}\n+hdfs dfs -ls o3fs://bucket.volume.om-host.example.com/key\n+{{< /highlight >}}\n+\n+\u5b83\u5176\u5b9e\u7b49\u4ef7\u4e8e\uff1a\n+\n+{{< highlight bash>}}\n+hdfs dfs -ls o3fs://bucket.volume.om-host.example.com:6789/key\n+{{< /highlight >}}\n+\n+\u6ce8\u610f\uff1a\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c`ozone.om.address` \u914d\u7f6e\u4e2d\u53ea\u6709\u7aef\u53e3\u53f7\u4f1a\u88ab\u7528\u5230\uff0c\u4e3b\u673a\u540d\u662f\u88ab\u5ffd\u7565\u7684\u3002\n+\n+\n+## \u517c\u5bb9\u65e7\u7248\u672c Hadoop\uff08Legacy jar \u548c BasicOzoneFilesystem\uff09\n+\n+Ozone \u6587\u4ef6\u7cfb\u7edf\u7684 jar \u5305\u6709\u4e24\u79cd\u7c7b\u578b\uff0c\u5b83\u4eec\u90fd\u5305\u542b\u4e86\u6240\u6709\u7684\u4f9d\u8d56\uff1a\n+\n+ * share/ozone/lib/hadoop-ozone-filesystem-lib-current-VERSION.jar\n+ * share/ozone/lib/hadoop-ozone-filesystem-lib-legacy-VERSION.jar\n+\n+\u7b2c\u4e00\u79cd jar \u5305\u5305\u542b\u4e86\u5728\u4e00\u4e2a\u7248\u672c\u517c\u5bb9\u7684 hadoop\uff08hadoop 3.2\uff09\u4e2d\u4f7f\u7528 Ozone \u6587\u4ef6\u7cfb\u7edf\u9700\u8981\u7684\u6240\u6709\u4f9d\u8d56\u3002\n+\n+\u7b2c\u4e8c\u79cd jar \u5305\u5c06\u6240\u6709\u4f9d\u8d56\u5355\u72ec\u653e\u5728\u4e00\u4e2a\u5185\u90e8\u7684\u76ee\u5f55\uff0c\u5e76\u4e14\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u7684\u7c7b\u4f1a\u7528\u4e00\u4e2a\u7279\u6b8a\u7684\u7c7b\u52a0\u8f7d\u5668\u6765\u52a0\u8f7d\u8fd9\u4e9b\u7c7b\u3002\u901a\u8fc7\u8fd9\u79cd\u65b9\u6cd5\uff0c\u65e7\u7248\u672c\u7684 hadoop \u5c31\u53ef\u4ee5\u4f7f\u7528 hadoop-ozone-filesystem-lib-legacy.jar\uff08\u6bd4\u5982hadoop 3.1\u3001hadoop 2.7 \u6216\u8005 spark+hadoop 2.7\uff09\u3002\n+\n+\u548c\u4f9d\u8d56\u7684 jar \u5305\u7c7b\u4f3c\uff0c OzoneFileSystem \u4e5f\u6709\u4e24\u79cd\u5b9e\u73b0\u3002\n+\n+\u5bf9\u4e8e Hadoop 3.0 \u4e4b\u540e\u7684\u7248\u672c\uff0c\u4f60\u5e94\u5f53\u4f7f\u7528 `org.apache.hadoop.fs.ozone.OzoneFileSystem`\uff0c\u5b83\u662f\u517c\u5bb9 Hadoop \u6587\u4ef6\u7cfb\u7edf API \u7684\u5b8c\u6574\u5b9e\u73b0\u3002\n+\n+\u5bf9\u4e8e Hadoop 2.x \u7684\u7248\u672c\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528\u57fa\u7840\u7248\u672c `org.apache.hadoop.fs.ozone.BasicOzoneFileSystem`\uff0c\u4e24\u8005\u5b9e\u73b0\u57fa\u672c\u76f8\u540c\uff0c\u4f46\u662f\u4e0d\u5305\u542b\u5728 Hadoop 3.0 \u4e2d\u5f15\u5165\u7684\u7279\u6027\u548c\u4f9d\u8d56\uff08\u6bd4\u5982 FS statistics\u3001\u52a0\u5bc6\u7a7a\u95f4\u7b49\uff09\u3002", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDkyMDU4MA=="}, "originalCommit": {"oid": "26f25242ee2d8460e8db81ae446fa6ff8028f4ad"}, "originalPosition": 126}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzM2NTY0Ng==", "bodyText": "sounds about right.", "url": "https://github.com/apache/ozone/pull/491#discussion_r373365646", "createdAt": "2020-01-31T08:36:49Z", "author": {"login": "iamabug"}, "path": "hadoop-hdds/docs/content/interface/OzoneFS.zh.md", "diffHunk": "@@ -0,0 +1,139 @@\n+---\n+title: Ozone \u6587\u4ef6\u7cfb\u7edf\n+date: 2017-09-14\n+weight: 2\n+summary: \u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u4f7f\u5f97\u4efb\u4f55\u4f7f\u7528\u7c7b HDFS \u63a5\u53e3\u7684\u5e94\u7528\u65e0\u9700\u4efb\u4f55\u4fee\u6539\u5c31\u53ef\u4ee5\u5728 Ozone \u4e0a\u5de5\u4f5c\uff0c\u6bd4\u5982 Apache Spark\u3001YARN \u548c Hive \u7b49\u6846\u67b6\u3002\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u63a5\u53e3\u53ef\u4ee5\u8ba9\u4efb\u610f\u50cf Ozone \u8fd9\u6837\u7684\u5b58\u50a8\u540e\u7aef\u8f7b\u677e\u5730\u6574\u5408\u8fdb Hadoop \u751f\u6001\u7cfb\u7edf\uff0cOzone \u6587\u4ef6\u7cfb\u7edf\u5c31\u662f\u4e00\u4e2a\u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u3002\n+\n+## \u642d\u5efa Ozone \u6587\u4ef6\u7cfb\u7edf\n+\n+\u8981\u521b\u5efa\u4e00\u4e2a ozone \u6587\u4ef6\u7cfb\u7edf\uff0c\u6211\u4eec\u9700\u8981\u5148\u4e3a\u5b83\u9009\u62e9\u4e00\u4e2a\u7528\u6765\u76db\u653e\u6570\u636e\u7684\u6876\uff0c\u8fd9\u4e2a\u6876\u4f1a\u88ab\u7528\u4f5c Ozone \u6587\u4ef6\u7cfb\u7edf\u7684\u540e\u7aef\u5b58\u50a8\uff0c\u6240\u6709\u7684\u6587\u4ef6\u548c\u76ee\u5f55\u90fd\u5b58\u50a8\u4e3a\u8fd9\u4e2a\u6876\u4e2d\u7684\u952e\u3002\n+\n+\u5982\u679c\u4f60\u8fd8\u6ca1\u6709\u53ef\u7528\u7684\u5377\u548c\u6876\u7684\u8bdd\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u521b\u5efa\uff1a\n+\n+{{< highlight bash >}}\n+ozone sh volume create /volume\n+ozone sh bucket create /volume/bucket\n+{{< /highlight >}}\n+\n+\u521b\u5efa\u4e4b\u540e\uff0c\u8bf7\u4f7f\u7528 _list volume_ \u6216 _list bucket_ \u547d\u4ee4\u6765\u786e\u8ba4\u6876\u5df2\u5b58\u5728\u3002\n+\n+\u8bf7\u5728 core-site.xml \u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u6761\u76ee\uff1a\n+\n+{{< highlight xml >}}\n+<property>\n+  <name>fs.o3fs.impl</name>\n+  <value>org.apache.hadoop.fs.ozone.OzoneFileSystem</value>\n+</property>\n+<property>\n+  <name>fs.AbstractFileSystem.o3fs.impl</name>\n+  <value>org.apache.hadoop.fs.ozone.OzFs</value>\n+</property>\n+<property>\n+  <name>fs.defaultFS</name>\n+  <value>o3fs://bucket.volume</value>\n+</property>\n+{{< /highlight >}}\n+\n+\u8fd9\u6837\u4f1a\u4f7f\u6307\u5b9a\u7684\u6876\u6210\u4e3a HDFS \u7684 dfs \u547d\u4ee4\u7684\u9ed8\u8ba4\u6587\u4ef6\u7cfb\u7edf\uff0c\u5e76\u4e14\u5c06\u5176\u6ce8\u518c\u4e3a\u4e86 o3fs \u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u3002\n+\n+\u4f60\u8fd8\u9700\u8981\u5c06 ozone-filesystem.jar \u6587\u4ef6\u52a0\u5165 classpath\uff1a\n+\n+{{< highlight bash >}}\n+export HADOOP_CLASSPATH=/opt/ozone/share/ozonefs/lib/hadoop-ozone-filesystem-lib-current*.jar:$HADOOP_CLASSPATH\n+{{< /highlight >}}\n+\n+\u5f53\u914d\u7f6e\u4e86\u9ed8\u8ba4\u7684\u6587\u4ef6\u7cfb\u7edf\u4e4b\u540e\uff0c\u7528\u6237\u53ef\u4ee5\u8fd0\u884c ls\u3001put\u3001mkdir \u7b49\u547d\u4ee4\uff0c\u6bd4\u5982\uff1a\n+\n+{{< highlight bash >}}\n+hdfs dfs -ls /\n+{{< /highlight >}}\n+\n+\u6216\n+\n+{{< highlight bash >}}\n+hdfs dfs -mkdir /users\n+{{< /highlight >}}\n+\n+\n+\u6216\u8005 put \u547d\u4ee4\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u6240\u6709\u50cf Hive\u3001Spark \u548c Distcp \u7684\u7a0b\u5e8f\u90fd\u4f1a\u5728\u8fd9\u4e2a\u6587\u4ef6\u7cfb\u7edf\u4e0a\u5de5\u4f5c\u3002\n+\u8bf7\u6ce8\u610f\uff0c\u5728\u8fd9\u4e2a\u6876\u91cc\u4f7f\u7528 Ozone \u6587\u4ef6\u7cfb\u7edf\u4ee5\u5916\u7684\u65b9\u6cd5\u6765\u8fdb\u884c\u952e\u7684\u521b\u5efa\u548c\u5220\u9664\u65f6\uff0c\u6700\u7ec8\u90fd\u4f1a\u4f53\u73b0\u4e3a Ozone \u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u76ee\u5f55\u548c\u6587\u4ef6\u7684\u521b\u5efa\u548c\u5220\u9664\u3002\n+\n+\u6ce8\u610f\uff1a\u6876\u540d\u548c\u5377\u540d\u4e0d\u53ef\u4ee5\u5305\u542b\u53e5\u70b9\u3002\n+\u6b64\u5916\uff0c\u6587\u4ef6\u7cfb\u7edf\u7684 URI \u53ef\u4ee5\u7531\u6876\u540d\u548c\u5377\u540d\u540e\u8ddf\u7740 OM \u4e3b\u673a\u7684 FQDN \u548c\u4e00\u4e2a\u53ef\u9009\u7684\u7aef\u53e3\u7ec4\u6210\uff0c\u6bd4\u5982\uff0c\u4f60\u53ef\u4ee5\u540c\u65f6\u6307\u5b9a\u4e3b\u673a\u548c\u7aef\u53e3\uff1a\n+\n+{{< highlight bash>}}\n+hdfs dfs -ls o3fs://bucket.volume.om-host.example.com:5678/key\n+{{< /highlight >}}\n+\n+\u5982\u679c\u672a\u6307\u5b9a\u7aef\u53e3\uff0c\u5c06\u4f1a\u5c1d\u8bd5\u4ece `ozone.om.address` \u914d\u7f6e\u4e2d\u83b7\u53d6\u7aef\u53e3\uff0c\u5982\u679c\u672a\u914d\u7f6e\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 `9862`\uff0c\u6bd4\u5982\uff0c\u6211\u4eec\u5728 `ozone-site.xml` \u4e2d\u914d\u7f6e `ozone.om.address` \u5982\u4e0b\uff1a\n+\n+{{< highlight xml >}}\n+  <property>\n+    <name>ozone.om.address</name>\n+    <value>0.0.0.0:6789</value>\n+  </property>\n+{{< /highlight >}}\n+\n+\u5f53\u6211\u4eec\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff1a\n+\n+{{< highlight bash>}}\n+hdfs dfs -ls o3fs://bucket.volume.om-host.example.com/key\n+{{< /highlight >}}\n+\n+\u5b83\u5176\u5b9e\u7b49\u4ef7\u4e8e\uff1a\n+\n+{{< highlight bash>}}\n+hdfs dfs -ls o3fs://bucket.volume.om-host.example.com:6789/key\n+{{< /highlight >}}\n+\n+\u6ce8\u610f\uff1a\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c`ozone.om.address` \u914d\u7f6e\u4e2d\u53ea\u6709\u7aef\u53e3\u53f7\u4f1a\u88ab\u7528\u5230\uff0c\u4e3b\u673a\u540d\u662f\u88ab\u5ffd\u7565\u7684\u3002\n+\n+\n+## \u517c\u5bb9\u65e7\u7248\u672c Hadoop\uff08Legacy jar \u548c BasicOzoneFilesystem\uff09\n+\n+Ozone \u6587\u4ef6\u7cfb\u7edf\u7684 jar \u5305\u6709\u4e24\u79cd\u7c7b\u578b\uff0c\u5b83\u4eec\u90fd\u5305\u542b\u4e86\u6240\u6709\u7684\u4f9d\u8d56\uff1a\n+\n+ * share/ozone/lib/hadoop-ozone-filesystem-lib-current-VERSION.jar\n+ * share/ozone/lib/hadoop-ozone-filesystem-lib-legacy-VERSION.jar\n+\n+\u7b2c\u4e00\u79cd jar \u5305\u5305\u542b\u4e86\u5728\u4e00\u4e2a\u7248\u672c\u517c\u5bb9\u7684 hadoop\uff08hadoop 3.2\uff09\u4e2d\u4f7f\u7528 Ozone \u6587\u4ef6\u7cfb\u7edf\u9700\u8981\u7684\u6240\u6709\u4f9d\u8d56\u3002\n+\n+\u7b2c\u4e8c\u79cd jar \u5305\u5c06\u6240\u6709\u4f9d\u8d56\u5355\u72ec\u653e\u5728\u4e00\u4e2a\u5185\u90e8\u7684\u76ee\u5f55\uff0c\u5e76\u4e14\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u7684\u7c7b\u4f1a\u7528\u4e00\u4e2a\u7279\u6b8a\u7684\u7c7b\u52a0\u8f7d\u5668\u6765\u52a0\u8f7d\u8fd9\u4e9b\u7c7b\u3002\u901a\u8fc7\u8fd9\u79cd\u65b9\u6cd5\uff0c\u65e7\u7248\u672c\u7684 hadoop \u5c31\u53ef\u4ee5\u4f7f\u7528 hadoop-ozone-filesystem-lib-legacy.jar\uff08\u6bd4\u5982hadoop 3.1\u3001hadoop 2.7 \u6216\u8005 spark+hadoop 2.7\uff09\u3002\n+\n+\u548c\u4f9d\u8d56\u7684 jar \u5305\u7c7b\u4f3c\uff0c OzoneFileSystem \u4e5f\u6709\u4e24\u79cd\u5b9e\u73b0\u3002\n+\n+\u5bf9\u4e8e Hadoop 3.0 \u4e4b\u540e\u7684\u7248\u672c\uff0c\u4f60\u5e94\u5f53\u4f7f\u7528 `org.apache.hadoop.fs.ozone.OzoneFileSystem`\uff0c\u5b83\u662f\u517c\u5bb9 Hadoop \u6587\u4ef6\u7cfb\u7edf API \u7684\u5b8c\u6574\u5b9e\u73b0\u3002\n+\n+\u5bf9\u4e8e Hadoop 2.x \u7684\u7248\u672c\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528\u57fa\u7840\u7248\u672c `org.apache.hadoop.fs.ozone.BasicOzoneFileSystem`\uff0c\u4e24\u8005\u5b9e\u73b0\u57fa\u672c\u76f8\u540c\uff0c\u4f46\u662f\u4e0d\u5305\u542b\u5728 Hadoop 3.0 \u4e2d\u5f15\u5165\u7684\u7279\u6027\u548c\u4f9d\u8d56\uff08\u6bd4\u5982 FS statistics\u3001\u52a0\u5bc6\u7a7a\u95f4\u7b49\uff09\u3002", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDkyMDU4MA=="}, "originalCommit": {"oid": "26f25242ee2d8460e8db81ae446fa6ff8028f4ad"}, "originalPosition": 126}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNzE5MjIzOnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/OzoneFS.zh.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxOToyMTowNFrOFj27JA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxOToyMTowNFrOFj27JA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzE0NDM1Ng==", "bodyText": "\u6bd4\u5982 Apache Spark\u3001YARN \u548c Hive \u7b49\u6846\u67b6=>\u6bd4\u5982 \u57fa\u4e8eApache Spark\u3001YARN \u548c Hive \u7b49\u6846\u67b6\u7684\u5e94\u7528\u3002", "url": "https://github.com/apache/ozone/pull/491#discussion_r373144356", "createdAt": "2020-01-30T19:21:04Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/docs/content/interface/OzoneFS.zh.md", "diffHunk": "@@ -0,0 +1,139 @@\n+---\n+title: Ozone \u6587\u4ef6\u7cfb\u7edf\n+date: 2017-09-14\n+weight: 2\n+summary: \u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u4f7f\u5f97\u4efb\u4f55\u4f7f\u7528\u7c7b HDFS \u63a5\u53e3\u7684\u5e94\u7528\u65e0\u9700\u4efb\u4f55\u4fee\u6539\u5c31\u53ef\u4ee5\u5728 Ozone \u4e0a\u5de5\u4f5c\uff0c\u6bd4\u5982 Apache Spark\u3001YARN \u548c Hive \u7b49\u6846\u67b6\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26f25242ee2d8460e8db81ae446fa6ff8028f4ad"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNzE5NjQ5OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/OzoneFS.zh.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxOToyMjoyOVrOFj291Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxOToyMjoyOVrOFj291Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzE0NTA0NQ==", "bodyText": "\u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u4f7f\u5f97=\u300bHadoop \u6587\u4ef6\u7cfb\u7edf\u517c\u5bb9\u4f7f\u5f97", "url": "https://github.com/apache/ozone/pull/491#discussion_r373145045", "createdAt": "2020-01-30T19:22:29Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/docs/content/interface/OzoneFS.zh.md", "diffHunk": "@@ -0,0 +1,139 @@\n+---\n+title: Ozone \u6587\u4ef6\u7cfb\u7edf\n+date: 2017-09-14\n+weight: 2\n+summary: \u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u4f7f\u5f97\u4efb\u4f55\u4f7f\u7528\u7c7b HDFS \u63a5\u53e3\u7684\u5e94\u7528\u65e0\u9700\u4efb\u4f55\u4fee\u6539\u5c31\u53ef\u4ee5\u5728 Ozone \u4e0a\u5de5\u4f5c\uff0c\u6bd4\u5982 Apache Spark\u3001YARN \u548c Hive \u7b49\u6846\u67b6\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26f25242ee2d8460e8db81ae446fa6ff8028f4ad"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNzE5ODY4OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/OzoneFS.zh.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxOToyMzowNFrOFj2_OQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxOToyMzowNFrOFj2_OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzE0NTQwMQ==", "bodyText": "\u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u63a5\u53e3=\u300bHadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u63a5\u53e3\u517c\u5bb9", "url": "https://github.com/apache/ozone/pull/491#discussion_r373145401", "createdAt": "2020-01-30T19:23:04Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/docs/content/interface/OzoneFS.zh.md", "diffHunk": "@@ -0,0 +1,139 @@\n+---\n+title: Ozone \u6587\u4ef6\u7cfb\u7edf\n+date: 2017-09-14\n+weight: 2\n+summary: \u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u4f7f\u5f97\u4efb\u4f55\u4f7f\u7528\u7c7b HDFS \u63a5\u53e3\u7684\u5e94\u7528\u65e0\u9700\u4efb\u4f55\u4fee\u6539\u5c31\u53ef\u4ee5\u5728 Ozone \u4e0a\u5de5\u4f5c\uff0c\u6bd4\u5982 Apache Spark\u3001YARN \u548c Hive \u7b49\u6846\u67b6\u3002\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u63a5\u53e3\u53ef\u4ee5\u8ba9\u4efb\u610f\u50cf Ozone \u8fd9\u6837\u7684\u5b58\u50a8\u540e\u7aef\u8f7b\u677e\u5730\u6574\u5408\u8fdb Hadoop \u751f\u6001\u7cfb\u7edf\uff0cOzone \u6587\u4ef6\u7cfb\u7edf\u5c31\u662f\u4e00\u4e2a\u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26f25242ee2d8460e8db81ae446fa6ff8028f4ad"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNzIxMTczOnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/OzoneFS.zh.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxOToyNzowN1rOFj3HhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxOToyNzowN1rOFj3HhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzE0NzUyNA==", "bodyText": "\u76db\u653e-\u300b\u5b58\u653e", "url": "https://github.com/apache/ozone/pull/491#discussion_r373147524", "createdAt": "2020-01-30T19:27:07Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/docs/content/interface/OzoneFS.zh.md", "diffHunk": "@@ -0,0 +1,139 @@\n+---\n+title: Ozone \u6587\u4ef6\u7cfb\u7edf\n+date: 2017-09-14\n+weight: 2\n+summary: \u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u4f7f\u5f97\u4efb\u4f55\u4f7f\u7528\u7c7b HDFS \u63a5\u53e3\u7684\u5e94\u7528\u65e0\u9700\u4efb\u4f55\u4fee\u6539\u5c31\u53ef\u4ee5\u5728 Ozone \u4e0a\u5de5\u4f5c\uff0c\u6bd4\u5982 Apache Spark\u3001YARN \u548c Hive \u7b49\u6846\u67b6\u3002\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u63a5\u53e3\u53ef\u4ee5\u8ba9\u4efb\u610f\u50cf Ozone \u8fd9\u6837\u7684\u5b58\u50a8\u540e\u7aef\u8f7b\u677e\u5730\u6574\u5408\u8fdb Hadoop \u751f\u6001\u7cfb\u7edf\uff0cOzone \u6587\u4ef6\u7cfb\u7edf\u5c31\u662f\u4e00\u4e2a\u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u3002\n+\n+## \u642d\u5efa Ozone \u6587\u4ef6\u7cfb\u7edf\n+\n+\u8981\u521b\u5efa\u4e00\u4e2a ozone \u6587\u4ef6\u7cfb\u7edf\uff0c\u6211\u4eec\u9700\u8981\u5148\u4e3a\u5b83\u9009\u62e9\u4e00\u4e2a\u7528\u6765\u76db\u653e\u6570\u636e\u7684\u6876\uff0c\u8fd9\u4e2a\u6876\u4f1a\u88ab\u7528\u4f5c Ozone \u6587\u4ef6\u7cfb\u7edf\u7684\u540e\u7aef\u5b58\u50a8\uff0c\u6240\u6709\u7684\u6587\u4ef6\u548c\u76ee\u5f55\u90fd\u5b58\u50a8\u4e3a\u8fd9\u4e2a\u6876\u4e2d\u7684\u952e\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26f25242ee2d8460e8db81ae446fa6ff8028f4ad"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNzI0MzcwOnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/OzoneFS.zh.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxOTozNzowNVrOFj3blw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxOTozNzowNVrOFj3blw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzE1MjY2Mw==", "bodyText": "\u5982\u679c\u672a\u6307\u5b9a\u7aef\u53e3=\u300b\u5982\u679cURI\u672a\u6307\u5b9a\u7aef\u53e3", "url": "https://github.com/apache/ozone/pull/491#discussion_r373152663", "createdAt": "2020-01-30T19:37:05Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/docs/content/interface/OzoneFS.zh.md", "diffHunk": "@@ -0,0 +1,139 @@\n+---\n+title: Ozone \u6587\u4ef6\u7cfb\u7edf\n+date: 2017-09-14\n+weight: 2\n+summary: \u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u4f7f\u5f97\u4efb\u4f55\u4f7f\u7528\u7c7b HDFS \u63a5\u53e3\u7684\u5e94\u7528\u65e0\u9700\u4efb\u4f55\u4fee\u6539\u5c31\u53ef\u4ee5\u5728 Ozone \u4e0a\u5de5\u4f5c\uff0c\u6bd4\u5982 Apache Spark\u3001YARN \u548c Hive \u7b49\u6846\u67b6\u3002\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u63a5\u53e3\u53ef\u4ee5\u8ba9\u4efb\u610f\u50cf Ozone \u8fd9\u6837\u7684\u5b58\u50a8\u540e\u7aef\u8f7b\u677e\u5730\u6574\u5408\u8fdb Hadoop \u751f\u6001\u7cfb\u7edf\uff0cOzone \u6587\u4ef6\u7cfb\u7edf\u5c31\u662f\u4e00\u4e2a\u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u3002\n+\n+## \u642d\u5efa Ozone \u6587\u4ef6\u7cfb\u7edf\n+\n+\u8981\u521b\u5efa\u4e00\u4e2a ozone \u6587\u4ef6\u7cfb\u7edf\uff0c\u6211\u4eec\u9700\u8981\u5148\u4e3a\u5b83\u9009\u62e9\u4e00\u4e2a\u7528\u6765\u76db\u653e\u6570\u636e\u7684\u6876\uff0c\u8fd9\u4e2a\u6876\u4f1a\u88ab\u7528\u4f5c Ozone \u6587\u4ef6\u7cfb\u7edf\u7684\u540e\u7aef\u5b58\u50a8\uff0c\u6240\u6709\u7684\u6587\u4ef6\u548c\u76ee\u5f55\u90fd\u5b58\u50a8\u4e3a\u8fd9\u4e2a\u6876\u4e2d\u7684\u952e\u3002\n+\n+\u5982\u679c\u4f60\u8fd8\u6ca1\u6709\u53ef\u7528\u7684\u5377\u548c\u6876\u7684\u8bdd\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u521b\u5efa\uff1a\n+\n+{{< highlight bash >}}\n+ozone sh volume create /volume\n+ozone sh bucket create /volume/bucket\n+{{< /highlight >}}\n+\n+\u521b\u5efa\u4e4b\u540e\uff0c\u8bf7\u4f7f\u7528 _list volume_ \u6216 _list bucket_ \u547d\u4ee4\u6765\u786e\u8ba4\u6876\u5df2\u5b58\u5728\u3002\n+\n+\u8bf7\u5728 core-site.xml \u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u6761\u76ee\uff1a\n+\n+{{< highlight xml >}}\n+<property>\n+  <name>fs.o3fs.impl</name>\n+  <value>org.apache.hadoop.fs.ozone.OzoneFileSystem</value>\n+</property>\n+<property>\n+  <name>fs.AbstractFileSystem.o3fs.impl</name>\n+  <value>org.apache.hadoop.fs.ozone.OzFs</value>\n+</property>\n+<property>\n+  <name>fs.defaultFS</name>\n+  <value>o3fs://bucket.volume</value>\n+</property>\n+{{< /highlight >}}\n+\n+\u8fd9\u6837\u4f1a\u4f7f\u6307\u5b9a\u7684\u6876\u6210\u4e3a HDFS \u7684 dfs \u547d\u4ee4\u7684\u9ed8\u8ba4\u6587\u4ef6\u7cfb\u7edf\uff0c\u5e76\u4e14\u5c06\u5176\u6ce8\u518c\u4e3a\u4e86 o3fs \u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u3002\n+\n+\u4f60\u8fd8\u9700\u8981\u5c06 ozone-filesystem.jar \u6587\u4ef6\u52a0\u5165 classpath\uff1a\n+\n+{{< highlight bash >}}\n+export HADOOP_CLASSPATH=/opt/ozone/share/ozonefs/lib/hadoop-ozone-filesystem-lib-current*.jar:$HADOOP_CLASSPATH\n+{{< /highlight >}}\n+\n+\u5f53\u914d\u7f6e\u4e86\u9ed8\u8ba4\u7684\u6587\u4ef6\u7cfb\u7edf\u4e4b\u540e\uff0c\u7528\u6237\u53ef\u4ee5\u8fd0\u884c ls\u3001put\u3001mkdir \u7b49\u547d\u4ee4\uff0c\u6bd4\u5982\uff1a\n+\n+{{< highlight bash >}}\n+hdfs dfs -ls /\n+{{< /highlight >}}\n+\n+\u6216\n+\n+{{< highlight bash >}}\n+hdfs dfs -mkdir /users\n+{{< /highlight >}}\n+\n+\n+\u6216\u8005 put \u547d\u4ee4\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u6240\u6709\u50cf Hive\u3001Spark \u548c Distcp \u7684\u7a0b\u5e8f\u90fd\u4f1a\u5728\u8fd9\u4e2a\u6587\u4ef6\u7cfb\u7edf\u4e0a\u5de5\u4f5c\u3002\n+\u8bf7\u6ce8\u610f\uff0c\u5728\u8fd9\u4e2a\u6876\u91cc\u4f7f\u7528 Ozone \u6587\u4ef6\u7cfb\u7edf\u4ee5\u5916\u7684\u65b9\u6cd5\u6765\u8fdb\u884c\u952e\u7684\u521b\u5efa\u548c\u5220\u9664\u65f6\uff0c\u6700\u7ec8\u90fd\u4f1a\u4f53\u73b0\u4e3a Ozone \u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u76ee\u5f55\u548c\u6587\u4ef6\u7684\u521b\u5efa\u548c\u5220\u9664\u3002\n+\n+\u6ce8\u610f\uff1a\u6876\u540d\u548c\u5377\u540d\u4e0d\u53ef\u4ee5\u5305\u542b\u53e5\u70b9\u3002\n+\u6b64\u5916\uff0c\u6587\u4ef6\u7cfb\u7edf\u7684 URI \u53ef\u4ee5\u7531\u6876\u540d\u548c\u5377\u540d\u540e\u8ddf\u7740 OM \u4e3b\u673a\u7684 FQDN \u548c\u4e00\u4e2a\u53ef\u9009\u7684\u7aef\u53e3\u7ec4\u6210\uff0c\u6bd4\u5982\uff0c\u4f60\u53ef\u4ee5\u540c\u65f6\u6307\u5b9a\u4e3b\u673a\u548c\u7aef\u53e3\uff1a\n+\n+{{< highlight bash>}}\n+hdfs dfs -ls o3fs://bucket.volume.om-host.example.com:5678/key\n+{{< /highlight >}}\n+\n+\u5982\u679c\u672a\u6307\u5b9a\u7aef\u53e3\uff0c\u5c06\u4f1a\u5c1d\u8bd5\u4ece `ozone.om.address` \u914d\u7f6e\u4e2d\u83b7\u53d6\u7aef\u53e3\uff0c\u5982\u679c\u672a\u914d\u7f6e\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 `9862`\uff0c\u6bd4\u5982\uff0c\u6211\u4eec\u5728 `ozone-site.xml` \u4e2d\u914d\u7f6e `ozone.om.address` \u5982\u4e0b\uff1a", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26f25242ee2d8460e8db81ae446fa6ff8028f4ad"}, "originalPosition": 87}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNzI0NTQ0OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/OzoneFS.zh.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxOTozNzo0M1rOFj3czw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxOTozNzo0M1rOFj3czw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzE1Mjk3NQ==", "bodyText": "\u5982\u679c\u672a\u914d\u7f6e=\uff1f\u5982\u679cozone.om.address\u672a\u914d\u7f6e", "url": "https://github.com/apache/ozone/pull/491#discussion_r373152975", "createdAt": "2020-01-30T19:37:43Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/docs/content/interface/OzoneFS.zh.md", "diffHunk": "@@ -0,0 +1,139 @@\n+---\n+title: Ozone \u6587\u4ef6\u7cfb\u7edf\n+date: 2017-09-14\n+weight: 2\n+summary: \u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u4f7f\u5f97\u4efb\u4f55\u4f7f\u7528\u7c7b HDFS \u63a5\u53e3\u7684\u5e94\u7528\u65e0\u9700\u4efb\u4f55\u4fee\u6539\u5c31\u53ef\u4ee5\u5728 Ozone \u4e0a\u5de5\u4f5c\uff0c\u6bd4\u5982 Apache Spark\u3001YARN \u548c Hive \u7b49\u6846\u67b6\u3002\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u63a5\u53e3\u53ef\u4ee5\u8ba9\u4efb\u610f\u50cf Ozone \u8fd9\u6837\u7684\u5b58\u50a8\u540e\u7aef\u8f7b\u677e\u5730\u6574\u5408\u8fdb Hadoop \u751f\u6001\u7cfb\u7edf\uff0cOzone \u6587\u4ef6\u7cfb\u7edf\u5c31\u662f\u4e00\u4e2a\u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u3002\n+\n+## \u642d\u5efa Ozone \u6587\u4ef6\u7cfb\u7edf\n+\n+\u8981\u521b\u5efa\u4e00\u4e2a ozone \u6587\u4ef6\u7cfb\u7edf\uff0c\u6211\u4eec\u9700\u8981\u5148\u4e3a\u5b83\u9009\u62e9\u4e00\u4e2a\u7528\u6765\u76db\u653e\u6570\u636e\u7684\u6876\uff0c\u8fd9\u4e2a\u6876\u4f1a\u88ab\u7528\u4f5c Ozone \u6587\u4ef6\u7cfb\u7edf\u7684\u540e\u7aef\u5b58\u50a8\uff0c\u6240\u6709\u7684\u6587\u4ef6\u548c\u76ee\u5f55\u90fd\u5b58\u50a8\u4e3a\u8fd9\u4e2a\u6876\u4e2d\u7684\u952e\u3002\n+\n+\u5982\u679c\u4f60\u8fd8\u6ca1\u6709\u53ef\u7528\u7684\u5377\u548c\u6876\u7684\u8bdd\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u521b\u5efa\uff1a\n+\n+{{< highlight bash >}}\n+ozone sh volume create /volume\n+ozone sh bucket create /volume/bucket\n+{{< /highlight >}}\n+\n+\u521b\u5efa\u4e4b\u540e\uff0c\u8bf7\u4f7f\u7528 _list volume_ \u6216 _list bucket_ \u547d\u4ee4\u6765\u786e\u8ba4\u6876\u5df2\u5b58\u5728\u3002\n+\n+\u8bf7\u5728 core-site.xml \u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u6761\u76ee\uff1a\n+\n+{{< highlight xml >}}\n+<property>\n+  <name>fs.o3fs.impl</name>\n+  <value>org.apache.hadoop.fs.ozone.OzoneFileSystem</value>\n+</property>\n+<property>\n+  <name>fs.AbstractFileSystem.o3fs.impl</name>\n+  <value>org.apache.hadoop.fs.ozone.OzFs</value>\n+</property>\n+<property>\n+  <name>fs.defaultFS</name>\n+  <value>o3fs://bucket.volume</value>\n+</property>\n+{{< /highlight >}}\n+\n+\u8fd9\u6837\u4f1a\u4f7f\u6307\u5b9a\u7684\u6876\u6210\u4e3a HDFS \u7684 dfs \u547d\u4ee4\u7684\u9ed8\u8ba4\u6587\u4ef6\u7cfb\u7edf\uff0c\u5e76\u4e14\u5c06\u5176\u6ce8\u518c\u4e3a\u4e86 o3fs \u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u3002\n+\n+\u4f60\u8fd8\u9700\u8981\u5c06 ozone-filesystem.jar \u6587\u4ef6\u52a0\u5165 classpath\uff1a\n+\n+{{< highlight bash >}}\n+export HADOOP_CLASSPATH=/opt/ozone/share/ozonefs/lib/hadoop-ozone-filesystem-lib-current*.jar:$HADOOP_CLASSPATH\n+{{< /highlight >}}\n+\n+\u5f53\u914d\u7f6e\u4e86\u9ed8\u8ba4\u7684\u6587\u4ef6\u7cfb\u7edf\u4e4b\u540e\uff0c\u7528\u6237\u53ef\u4ee5\u8fd0\u884c ls\u3001put\u3001mkdir \u7b49\u547d\u4ee4\uff0c\u6bd4\u5982\uff1a\n+\n+{{< highlight bash >}}\n+hdfs dfs -ls /\n+{{< /highlight >}}\n+\n+\u6216\n+\n+{{< highlight bash >}}\n+hdfs dfs -mkdir /users\n+{{< /highlight >}}\n+\n+\n+\u6216\u8005 put \u547d\u4ee4\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u6240\u6709\u50cf Hive\u3001Spark \u548c Distcp \u7684\u7a0b\u5e8f\u90fd\u4f1a\u5728\u8fd9\u4e2a\u6587\u4ef6\u7cfb\u7edf\u4e0a\u5de5\u4f5c\u3002\n+\u8bf7\u6ce8\u610f\uff0c\u5728\u8fd9\u4e2a\u6876\u91cc\u4f7f\u7528 Ozone \u6587\u4ef6\u7cfb\u7edf\u4ee5\u5916\u7684\u65b9\u6cd5\u6765\u8fdb\u884c\u952e\u7684\u521b\u5efa\u548c\u5220\u9664\u65f6\uff0c\u6700\u7ec8\u90fd\u4f1a\u4f53\u73b0\u4e3a Ozone \u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u76ee\u5f55\u548c\u6587\u4ef6\u7684\u521b\u5efa\u548c\u5220\u9664\u3002\n+\n+\u6ce8\u610f\uff1a\u6876\u540d\u548c\u5377\u540d\u4e0d\u53ef\u4ee5\u5305\u542b\u53e5\u70b9\u3002\n+\u6b64\u5916\uff0c\u6587\u4ef6\u7cfb\u7edf\u7684 URI \u53ef\u4ee5\u7531\u6876\u540d\u548c\u5377\u540d\u540e\u8ddf\u7740 OM \u4e3b\u673a\u7684 FQDN \u548c\u4e00\u4e2a\u53ef\u9009\u7684\u7aef\u53e3\u7ec4\u6210\uff0c\u6bd4\u5982\uff0c\u4f60\u53ef\u4ee5\u540c\u65f6\u6307\u5b9a\u4e3b\u673a\u548c\u7aef\u53e3\uff1a\n+\n+{{< highlight bash>}}\n+hdfs dfs -ls o3fs://bucket.volume.om-host.example.com:5678/key\n+{{< /highlight >}}\n+\n+\u5982\u679c\u672a\u6307\u5b9a\u7aef\u53e3\uff0c\u5c06\u4f1a\u5c1d\u8bd5\u4ece `ozone.om.address` \u914d\u7f6e\u4e2d\u83b7\u53d6\u7aef\u53e3\uff0c\u5982\u679c\u672a\u914d\u7f6e\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 `9862`\uff0c\u6bd4\u5982\uff0c\u6211\u4eec\u5728 `ozone-site.xml` \u4e2d\u914d\u7f6e `ozone.om.address` \u5982\u4e0b\uff1a", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26f25242ee2d8460e8db81ae446fa6ff8028f4ad"}, "originalPosition": 87}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMwNzI4NDI3OnYy", "diffSide": "RIGHT", "path": "hadoop-hdds/docs/content/interface/OzoneFS.zh.md", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxOTo1MDo1OVrOFj315w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxOTo1MDo1OVrOFj315w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzE1OTM5OQ==", "bodyText": "\u52a0\u5bc6\u7a7a\u95f4=\u300b\u52a0\u5bc6\u6876", "url": "https://github.com/apache/ozone/pull/491#discussion_r373159399", "createdAt": "2020-01-30T19:50:59Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-hdds/docs/content/interface/OzoneFS.zh.md", "diffHunk": "@@ -0,0 +1,139 @@\n+---\n+title: Ozone \u6587\u4ef6\u7cfb\u7edf\n+date: 2017-09-14\n+weight: 2\n+summary: \u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u4f7f\u5f97\u4efb\u4f55\u4f7f\u7528\u7c7b HDFS \u63a5\u53e3\u7684\u5e94\u7528\u65e0\u9700\u4efb\u4f55\u4fee\u6539\u5c31\u53ef\u4ee5\u5728 Ozone \u4e0a\u5de5\u4f5c\uff0c\u6bd4\u5982 Apache Spark\u3001YARN \u548c Hive \u7b49\u6846\u67b6\u3002\n+---\n+<!---\n+  Licensed to the Apache Software Foundation (ASF) under one or more\n+  contributor license agreements.  See the NOTICE file distributed with\n+  this work for additional information regarding copyright ownership.\n+  The ASF licenses this file to You under the Apache License, Version 2.0\n+  (the \"License\"); you may not use this file except in compliance with\n+  the License.  You may obtain a copy of the License at\n+\n+      http://www.apache.org/licenses/LICENSE-2.0\n+\n+  Unless required by applicable law or agreed to in writing, software\n+  distributed under the License is distributed on an \"AS IS\" BASIS,\n+  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  See the License for the specific language governing permissions and\n+  limitations under the License.\n+-->\n+\n+\u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u63a5\u53e3\u53ef\u4ee5\u8ba9\u4efb\u610f\u50cf Ozone \u8fd9\u6837\u7684\u5b58\u50a8\u540e\u7aef\u8f7b\u677e\u5730\u6574\u5408\u8fdb Hadoop \u751f\u6001\u7cfb\u7edf\uff0cOzone \u6587\u4ef6\u7cfb\u7edf\u5c31\u662f\u4e00\u4e2a\u517c\u5bb9 Hadoop \u7684\u6587\u4ef6\u7cfb\u7edf\u3002\n+\n+## \u642d\u5efa Ozone \u6587\u4ef6\u7cfb\u7edf\n+\n+\u8981\u521b\u5efa\u4e00\u4e2a ozone \u6587\u4ef6\u7cfb\u7edf\uff0c\u6211\u4eec\u9700\u8981\u5148\u4e3a\u5b83\u9009\u62e9\u4e00\u4e2a\u7528\u6765\u76db\u653e\u6570\u636e\u7684\u6876\uff0c\u8fd9\u4e2a\u6876\u4f1a\u88ab\u7528\u4f5c Ozone \u6587\u4ef6\u7cfb\u7edf\u7684\u540e\u7aef\u5b58\u50a8\uff0c\u6240\u6709\u7684\u6587\u4ef6\u548c\u76ee\u5f55\u90fd\u5b58\u50a8\u4e3a\u8fd9\u4e2a\u6876\u4e2d\u7684\u952e\u3002\n+\n+\u5982\u679c\u4f60\u8fd8\u6ca1\u6709\u53ef\u7528\u7684\u5377\u548c\u6876\u7684\u8bdd\uff0c\u8bf7\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u521b\u5efa\uff1a\n+\n+{{< highlight bash >}}\n+ozone sh volume create /volume\n+ozone sh bucket create /volume/bucket\n+{{< /highlight >}}\n+\n+\u521b\u5efa\u4e4b\u540e\uff0c\u8bf7\u4f7f\u7528 _list volume_ \u6216 _list bucket_ \u547d\u4ee4\u6765\u786e\u8ba4\u6876\u5df2\u5b58\u5728\u3002\n+\n+\u8bf7\u5728 core-site.xml \u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u6761\u76ee\uff1a\n+\n+{{< highlight xml >}}\n+<property>\n+  <name>fs.o3fs.impl</name>\n+  <value>org.apache.hadoop.fs.ozone.OzoneFileSystem</value>\n+</property>\n+<property>\n+  <name>fs.AbstractFileSystem.o3fs.impl</name>\n+  <value>org.apache.hadoop.fs.ozone.OzFs</value>\n+</property>\n+<property>\n+  <name>fs.defaultFS</name>\n+  <value>o3fs://bucket.volume</value>\n+</property>\n+{{< /highlight >}}\n+\n+\u8fd9\u6837\u4f1a\u4f7f\u6307\u5b9a\u7684\u6876\u6210\u4e3a HDFS \u7684 dfs \u547d\u4ee4\u7684\u9ed8\u8ba4\u6587\u4ef6\u7cfb\u7edf\uff0c\u5e76\u4e14\u5c06\u5176\u6ce8\u518c\u4e3a\u4e86 o3fs \u6587\u4ef6\u7cfb\u7edf\u7c7b\u578b\u3002\n+\n+\u4f60\u8fd8\u9700\u8981\u5c06 ozone-filesystem.jar \u6587\u4ef6\u52a0\u5165 classpath\uff1a\n+\n+{{< highlight bash >}}\n+export HADOOP_CLASSPATH=/opt/ozone/share/ozonefs/lib/hadoop-ozone-filesystem-lib-current*.jar:$HADOOP_CLASSPATH\n+{{< /highlight >}}\n+\n+\u5f53\u914d\u7f6e\u4e86\u9ed8\u8ba4\u7684\u6587\u4ef6\u7cfb\u7edf\u4e4b\u540e\uff0c\u7528\u6237\u53ef\u4ee5\u8fd0\u884c ls\u3001put\u3001mkdir \u7b49\u547d\u4ee4\uff0c\u6bd4\u5982\uff1a\n+\n+{{< highlight bash >}}\n+hdfs dfs -ls /\n+{{< /highlight >}}\n+\n+\u6216\n+\n+{{< highlight bash >}}\n+hdfs dfs -mkdir /users\n+{{< /highlight >}}\n+\n+\n+\u6216\u8005 put \u547d\u4ee4\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u6240\u6709\u50cf Hive\u3001Spark \u548c Distcp \u7684\u7a0b\u5e8f\u90fd\u4f1a\u5728\u8fd9\u4e2a\u6587\u4ef6\u7cfb\u7edf\u4e0a\u5de5\u4f5c\u3002\n+\u8bf7\u6ce8\u610f\uff0c\u5728\u8fd9\u4e2a\u6876\u91cc\u4f7f\u7528 Ozone \u6587\u4ef6\u7cfb\u7edf\u4ee5\u5916\u7684\u65b9\u6cd5\u6765\u8fdb\u884c\u952e\u7684\u521b\u5efa\u548c\u5220\u9664\u65f6\uff0c\u6700\u7ec8\u90fd\u4f1a\u4f53\u73b0\u4e3a Ozone \u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u76ee\u5f55\u548c\u6587\u4ef6\u7684\u521b\u5efa\u548c\u5220\u9664\u3002\n+\n+\u6ce8\u610f\uff1a\u6876\u540d\u548c\u5377\u540d\u4e0d\u53ef\u4ee5\u5305\u542b\u53e5\u70b9\u3002\n+\u6b64\u5916\uff0c\u6587\u4ef6\u7cfb\u7edf\u7684 URI \u53ef\u4ee5\u7531\u6876\u540d\u548c\u5377\u540d\u540e\u8ddf\u7740 OM \u4e3b\u673a\u7684 FQDN \u548c\u4e00\u4e2a\u53ef\u9009\u7684\u7aef\u53e3\u7ec4\u6210\uff0c\u6bd4\u5982\uff0c\u4f60\u53ef\u4ee5\u540c\u65f6\u6307\u5b9a\u4e3b\u673a\u548c\u7aef\u53e3\uff1a\n+\n+{{< highlight bash>}}\n+hdfs dfs -ls o3fs://bucket.volume.om-host.example.com:5678/key\n+{{< /highlight >}}\n+\n+\u5982\u679c\u672a\u6307\u5b9a\u7aef\u53e3\uff0c\u5c06\u4f1a\u5c1d\u8bd5\u4ece `ozone.om.address` \u914d\u7f6e\u4e2d\u83b7\u53d6\u7aef\u53e3\uff0c\u5982\u679c\u672a\u914d\u7f6e\uff0c\u5219\u4f7f\u7528\u9ed8\u8ba4\u7aef\u53e3 `9862`\uff0c\u6bd4\u5982\uff0c\u6211\u4eec\u5728 `ozone-site.xml` \u4e2d\u914d\u7f6e `ozone.om.address` \u5982\u4e0b\uff1a\n+\n+{{< highlight xml >}}\n+  <property>\n+    <name>ozone.om.address</name>\n+    <value>0.0.0.0:6789</value>\n+  </property>\n+{{< /highlight >}}\n+\n+\u5f53\u6211\u4eec\u8fd0\u884c\u4e0b\u9762\u7684\u547d\u4ee4\uff1a\n+\n+{{< highlight bash>}}\n+hdfs dfs -ls o3fs://bucket.volume.om-host.example.com/key\n+{{< /highlight >}}\n+\n+\u5b83\u5176\u5b9e\u7b49\u4ef7\u4e8e\uff1a\n+\n+{{< highlight bash>}}\n+hdfs dfs -ls o3fs://bucket.volume.om-host.example.com:6789/key\n+{{< /highlight >}}\n+\n+\u6ce8\u610f\uff1a\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c`ozone.om.address` \u914d\u7f6e\u4e2d\u53ea\u6709\u7aef\u53e3\u53f7\u4f1a\u88ab\u7528\u5230\uff0c\u4e3b\u673a\u540d\u662f\u88ab\u5ffd\u7565\u7684\u3002\n+\n+\n+## \u517c\u5bb9\u65e7\u7248\u672c Hadoop\uff08Legacy jar \u548c BasicOzoneFilesystem\uff09\n+\n+Ozone \u6587\u4ef6\u7cfb\u7edf\u7684 jar \u5305\u6709\u4e24\u79cd\u7c7b\u578b\uff0c\u5b83\u4eec\u90fd\u5305\u542b\u4e86\u6240\u6709\u7684\u4f9d\u8d56\uff1a\n+\n+ * share/ozone/lib/hadoop-ozone-filesystem-lib-current-VERSION.jar\n+ * share/ozone/lib/hadoop-ozone-filesystem-lib-legacy-VERSION.jar\n+\n+\u7b2c\u4e00\u79cd jar \u5305\u5305\u542b\u4e86\u5728\u4e00\u4e2a\u7248\u672c\u517c\u5bb9\u7684 hadoop\uff08hadoop 3.2\uff09\u4e2d\u4f7f\u7528 Ozone \u6587\u4ef6\u7cfb\u7edf\u9700\u8981\u7684\u6240\u6709\u4f9d\u8d56\u3002\n+\n+\u7b2c\u4e8c\u79cd jar \u5305\u5c06\u6240\u6709\u4f9d\u8d56\u5355\u72ec\u653e\u5728\u4e00\u4e2a\u5185\u90e8\u7684\u76ee\u5f55\uff0c\u5e76\u4e14\u8fd9\u4e2a\u76ee\u5f55\u4e0b\u7684\u7c7b\u4f1a\u7528\u4e00\u4e2a\u7279\u6b8a\u7684\u7c7b\u52a0\u8f7d\u5668\u6765\u52a0\u8f7d\u8fd9\u4e9b\u7c7b\u3002\u901a\u8fc7\u8fd9\u79cd\u65b9\u6cd5\uff0c\u65e7\u7248\u672c\u7684 hadoop \u5c31\u53ef\u4ee5\u4f7f\u7528 hadoop-ozone-filesystem-lib-legacy.jar\uff08\u6bd4\u5982hadoop 3.1\u3001hadoop 2.7 \u6216\u8005 spark+hadoop 2.7\uff09\u3002\n+\n+\u548c\u4f9d\u8d56\u7684 jar \u5305\u7c7b\u4f3c\uff0c OzoneFileSystem \u4e5f\u6709\u4e24\u79cd\u5b9e\u73b0\u3002\n+\n+\u5bf9\u4e8e Hadoop 3.0 \u4e4b\u540e\u7684\u7248\u672c\uff0c\u4f60\u5e94\u5f53\u4f7f\u7528 `org.apache.hadoop.fs.ozone.OzoneFileSystem`\uff0c\u5b83\u662f\u517c\u5bb9 Hadoop \u6587\u4ef6\u7cfb\u7edf API \u7684\u5b8c\u6574\u5b9e\u73b0\u3002\n+\n+\u5bf9\u4e8e Hadoop 2.x \u7684\u7248\u672c\uff0c\u4f60\u5e94\u8be5\u4f7f\u7528\u57fa\u7840\u7248\u672c `org.apache.hadoop.fs.ozone.BasicOzoneFileSystem`\uff0c\u4e24\u8005\u5b9e\u73b0\u57fa\u672c\u76f8\u540c\uff0c\u4f46\u662f\u4e0d\u5305\u542b\u5728 Hadoop 3.0 \u4e2d\u5f15\u5165\u7684\u7279\u6027\u548c\u4f9d\u8d56\uff08\u6bd4\u5982 FS statistics\u3001\u52a0\u5bc6\u7a7a\u95f4\u7b49\uff09\u3002", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26f25242ee2d8460e8db81ae446fa6ff8028f4ad"}, "originalPosition": 126}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4996, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}