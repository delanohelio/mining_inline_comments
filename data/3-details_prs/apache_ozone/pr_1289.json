{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzMDkwNDY1", "number": 1289, "title": "HDDS-4039. Reduce the number of fields in hdds.proto to improve performance", "bodyText": "What changes were proposed in this pull request?\nReduce the number of fields in hdds.proto to improve performance. Because these fields are required only for Recon UI and don't have to be part of hdds.proto.\nRefer to #1226 (comment)\nWhat is the link to the Apache JIRA\nHDDS-4039\nHow was this patch tested?\nTest with docker-compose development enviroment and check the Recon UI works well.\nAlso test with npx pnpm run dev and check the UI is OK.\n\nAnd test by CI\nhttps://github.com/apache/hadoop-ozone/pull/1289/checks", "createdAt": "2020-08-05T01:24:08Z", "url": "https://github.com/apache/ozone/pull/1289", "merged": true, "mergeCommit": {"oid": "def697f21f01feb990ac2937a6ad351e454668fe"}, "closed": true, "closedAt": "2020-09-15T01:37:16Z", "author": {"login": "runitao"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc7w8xPABqjM2MjI2MTU5Mjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdI9oUwgFqTQ4ODI2Mjk5MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5d76bafb67357c78a6eab0454f0ddd2196c85d8f", "author": {"user": {"login": "runitao", "name": "HuangTao"}}, "url": "https://github.com/apache/ozone/commit/5d76bafb67357c78a6eab0454f0ddd2196c85d8f", "committedDate": "2020-08-05T01:21:38Z", "message": "HDDS-4039. Reduce the number of fields in hdds.proto to improve performance"}, "afterCommit": {"oid": "f5b018f05636c598264c5ebdbe5f60fc7c384a29", "author": {"user": {"login": "runitao", "name": "HuangTao"}}, "url": "https://github.com/apache/ozone/commit/f5b018f05636c598264c5ebdbe5f60fc7c384a29", "committedDate": "2020-08-05T01:28:36Z", "message": "HDDS-4039. Reduce the number of fields in hdds.proto to improve performance"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMjgwMTg1", "url": "https://github.com/apache/ozone/pull/1289#pullrequestreview-461280185", "createdAt": "2020-08-05T01:30:16Z", "commit": {"oid": "f5b018f05636c598264c5ebdbe5f60fc7c384a29"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMzcwNzky", "url": "https://github.com/apache/ozone/pull/1289#pullrequestreview-463370792", "createdAt": "2020-08-07T14:43:47Z", "commit": {"oid": "f5b018f05636c598264c5ebdbe5f60fc7c384a29"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNDo0Mzo0N1rOG9cpnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNDo0Mzo0N1rOG9cpnQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzA4NTcyNQ==", "bodyText": "@runitao Can we mark these fields as 'deprecated', and not set them in the code, rather than removing them. This will likely break backward compatibility when we have a case to add a new field in the future.", "url": "https://github.com/apache/ozone/pull/1289#discussion_r467085725", "createdAt": "2020-08-07T14:43:47Z", "author": {"login": "avijayanhwx"}, "path": "hadoop-hdds/interface-client/src/main/proto/hdds.proto", "diffHunk": "@@ -43,14 +43,22 @@ message DatanodeDetailsProto {\n     // network name, can be Ip address or host name, depends\n     optional string networkName = 6;\n     optional string networkLocation = 7; // Network topology location\n-    optional string version = 8;         // Datanode version", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5b018f05636c598264c5ebdbe5f60fc7c384a29"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f5b018f05636c598264c5ebdbe5f60fc7c384a29", "author": {"user": {"login": "runitao", "name": "HuangTao"}}, "url": "https://github.com/apache/ozone/commit/f5b018f05636c598264c5ebdbe5f60fc7c384a29", "committedDate": "2020-08-05T01:28:36Z", "message": "HDDS-4039. Reduce the number of fields in hdds.proto to improve performance"}, "afterCommit": {"oid": "7ad6f39008f5dca22ca6cd350eac837d941300cd", "author": {"user": {"login": "runitao", "name": "HuangTao"}}, "url": "https://github.com/apache/ozone/commit/7ad6f39008f5dca22ca6cd350eac837d941300cd", "committedDate": "2020-08-07T17:17:52Z", "message": "HDDS-4039. refactor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzMTIwNjI1", "url": "https://github.com/apache/ozone/pull/1289#pullrequestreview-483120625", "createdAt": "2020-09-06T07:51:29Z", "commit": {"oid": "ef4f0106c27f024fee7573146e40c8306550c9a6"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ef4f0106c27f024fee7573146e40c8306550c9a6", "author": {"user": {"login": "runitao", "name": "HuangTao"}}, "url": "https://github.com/apache/ozone/commit/ef4f0106c27f024fee7573146e40c8306550c9a6", "committedDate": "2020-08-12T06:35:28Z", "message": "HDDS-4039. Address the review"}, "afterCommit": {"oid": "79615220d036dca70f843162030122fdbedc914a", "author": {"user": {"login": "runitao", "name": "HuangTao"}}, "url": "https://github.com/apache/ozone/commit/79615220d036dca70f843162030122fdbedc914a", "committedDate": "2020-09-12T23:52:01Z", "message": "HDDS-4039. Address the review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1daa2c41a505359424cbb63e5c2443723c1fa877", "author": {"user": {"login": "runitao", "name": "HuangTao"}}, "url": "https://github.com/apache/ozone/commit/1daa2c41a505359424cbb63e5c2443723c1fa877", "committedDate": "2020-09-14T02:28:37Z", "message": "HDDS-4039. Reduce the number of fields in hdds.proto to improve performance"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff7b46c0bc1d40e4cd279c4c69b9e9132751fc2f", "author": {"user": {"login": "runitao", "name": "HuangTao"}}, "url": "https://github.com/apache/ozone/commit/ff7b46c0bc1d40e4cd279c4c69b9e9132751fc2f", "committedDate": "2020-09-14T02:28:37Z", "message": "HDDS-4039. refactor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d55c2645346b8511cb18c0965fe91ebbf837b9eb", "author": {"user": {"login": "runitao", "name": "HuangTao"}}, "url": "https://github.com/apache/ozone/commit/d55c2645346b8511cb18c0965fe91ebbf837b9eb", "committedDate": "2020-09-14T02:28:37Z", "message": "HDDS-4039. Revert the format of some lines"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5053e96d44a7b053e7f3062ea2e0ea3d90998675", "author": {"user": {"login": "runitao", "name": "HuangTao"}}, "url": "https://github.com/apache/ozone/commit/5053e96d44a7b053e7f3062ea2e0ea3d90998675", "committedDate": "2020-09-14T02:28:38Z", "message": "HDDS-4039. Fix checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1488792fe072037ed73394bd1fb627eee9ab60b7", "author": {"user": {"login": "runitao", "name": "HuangTao"}}, "url": "https://github.com/apache/ozone/commit/1488792fe072037ed73394bd1fb627eee9ab60b7", "committedDate": "2020-09-14T02:28:38Z", "message": "HDDS-4039. Fix unittest and review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d53419d8073e0cb519a78ae27825d19c11cf3fe", "author": {"user": {"login": "runitao", "name": "HuangTao"}}, "url": "https://github.com/apache/ozone/commit/9d53419d8073e0cb519a78ae27825d19c11cf3fe", "committedDate": "2020-09-14T02:28:38Z", "message": "HDDS-4039. Address the review"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "61df4ada8c285b26d18a4a072b956ff166879b66", "author": {"user": {"login": "runitao", "name": "HuangTao"}}, "url": "https://github.com/apache/ozone/commit/61df4ada8c285b26d18a4a072b956ff166879b66", "committedDate": "2020-09-14T02:29:00Z", "message": "trigger new CI check"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "79615220d036dca70f843162030122fdbedc914a", "author": {"user": {"login": "runitao", "name": "HuangTao"}}, "url": "https://github.com/apache/ozone/commit/79615220d036dca70f843162030122fdbedc914a", "committedDate": "2020-09-12T23:52:01Z", "message": "HDDS-4039. Address the review"}, "afterCommit": {"oid": "61df4ada8c285b26d18a4a072b956ff166879b66", "author": {"user": {"login": "runitao", "name": "HuangTao"}}, "url": "https://github.com/apache/ozone/commit/61df4ada8c285b26d18a4a072b956ff166879b66", "committedDate": "2020-09-14T02:29:00Z", "message": "trigger new CI check"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4MjYyOTkx", "url": "https://github.com/apache/ozone/pull/1289#pullrequestreview-488262991", "createdAt": "2020-09-15T01:36:53Z", "commit": {"oid": "61df4ada8c285b26d18a4a072b956ff166879b66"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2635, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}