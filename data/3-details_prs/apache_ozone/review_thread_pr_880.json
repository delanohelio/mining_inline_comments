{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwMTgxNjE3", "number": 880, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNzoyNDoyN1rOD3TUpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQyMDoyNToyOVrOD5kMzw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5MzE0ODUyOnYy", "diffSide": "RIGHT", "path": "hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/OzoneClientProducer.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNzoyNDoyN1rOGNe7fw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNzoyNDoyN1rOGNe7fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc5MTQyMw==", "bodyText": "Move this statement before if and use awsAccessId to check not null in if\nString awsAccessId = v4RequestParser.getAwsAccessId();\nif (awsAccessId != null) {", "url": "https://github.com/apache/ozone/pull/880#discussion_r416791423", "createdAt": "2020-04-28T17:24:27Z", "author": {"login": "vivekratnavel"}, "path": "hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/OzoneClientProducer.java", "diffHunk": "@@ -103,6 +107,13 @@ private OzoneClient getClient(OzoneConfiguration config) throws IOException {\n           throw S3_AUTHINFO_CREATION_ERROR;\n         }\n \n+      } else if (isAclenable) {\n+        if (v4RequestParser.getAwsAccessId() != null) {\n+          String awsAccessId = v4RequestParser.getAwsAccessId();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2d28b458712de4a2889aa5ddf7b4bc5a8a2756c"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU5MzE0ODc3OnYy", "diffSide": "RIGHT", "path": "hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/OzoneClientProducer.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNzoyNDozMlrOGNe7sQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNzoyNDozMlrOGNe7sQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjc5MTQ3Mw==", "bodyText": "Rename variable to isAclEnabled for consistency in casing.", "url": "https://github.com/apache/ozone/pull/880#discussion_r416791473", "createdAt": "2020-04-28T17:24:32Z", "author": {"login": "vivekratnavel"}, "path": "hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/OzoneClientProducer.java", "diffHunk": "@@ -76,6 +78,8 @@ public void destory() throws IOException {\n \n   private OzoneClient getClient(OzoneConfiguration config) throws IOException {\n     try {\n+      Boolean isAclenable = config.getBoolean(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b2d28b458712de4a2889aa5ddf7b4bc5a8a2756c"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxNjg4NDUyOnYy", "diffSide": "RIGHT", "path": "hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/OzoneClientProducer.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQyMDoyNToxN1rOGQ6Nbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQyMDoyNToxN1rOGQ6Nbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDM4NDExMA==", "bodyText": "Should we move the createRemoteUser, setLoginUser outside the if condition and addToken when security is enabled?", "url": "https://github.com/apache/ozone/pull/880#discussion_r420384110", "createdAt": "2020-05-05T20:25:17Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/OzoneClientProducer.java", "diffHunk": "@@ -103,6 +107,13 @@ private OzoneClient getClient(OzoneConfiguration config) throws IOException {\n           throw S3_AUTHINFO_CREATION_ERROR;\n         }\n \n+      } else {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6917de3a70945a2db7a5341b80038f943d3beb7d"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjYxNjg4NTI3OnYy", "diffSide": "RIGHT", "path": "hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/OzoneClientProducer.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQyMDoyNToyOVrOGQ6N2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQyMDoyNToyOVrOGQ6N2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDM4NDIxNg==", "bodyText": "Do we still need this?", "url": "https://github.com/apache/ozone/pull/880#discussion_r420384216", "createdAt": "2020-05-05T20:25:29Z", "author": {"login": "xiaoyuyao"}, "path": "hadoop-ozone/s3gateway/src/main/java/org/apache/hadoop/ozone/s3/OzoneClientProducer.java", "diffHunk": "@@ -76,6 +78,8 @@ public void destory() throws IOException {\n \n   private OzoneClient getClient(OzoneConfiguration config) throws IOException {\n     try {\n+      Boolean isAclEnable = config.getBoolean(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6917de3a70945a2db7a5341b80038f943d3beb7d"}, "originalPosition": 13}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4271, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}