{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYzMDkwNDY1", "number": 1289, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNDo0Mzo0N1rOEWPiXA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNDo0Mzo0N1rOEWPiXA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkxNzU4Njg0OnYy", "diffSide": "LEFT", "path": "hadoop-hdds/interface-client/src/main/proto/hdds.proto", "isResolved": true, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wN1QxNDo0Mzo0N1rOG9cpnQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMlQwNjozNjoxM1rOG_Tqgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzA4NTcyNQ==", "bodyText": "@runitao Can we mark these fields as 'deprecated', and not set them in the code, rather than removing them. This will likely break backward compatibility when we have a case to add a new field in the future.", "url": "https://github.com/apache/ozone/pull/1289#discussion_r467085725", "createdAt": "2020-08-07T14:43:47Z", "author": {"login": "avijayanhwx"}, "path": "hadoop-hdds/interface-client/src/main/proto/hdds.proto", "diffHunk": "@@ -43,14 +43,22 @@ message DatanodeDetailsProto {\n     // network name, can be Ip address or host name, depends\n     optional string networkName = 6;\n     optional string networkLocation = 7; // Network topology location\n-    optional string version = 8;         // Datanode version", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f5b018f05636c598264c5ebdbe5f60fc7c384a29"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzE3OTI0Mw==", "bodyText": "@avijayanhwx  Thanks for review. No problem. But I need to confirm.\nShould I only keep version and setupTime(these two fields added in 0.6.0) or keep these four fields?", "url": "https://github.com/apache/ozone/pull/1289#discussion_r467179243", "createdAt": "2020-08-07T17:39:18Z", "author": {"login": "runitao"}, "path": "hadoop-hdds/interface-client/src/main/proto/hdds.proto", "diffHunk": "@@ -43,14 +43,22 @@ message DatanodeDetailsProto {\n     // network name, can be Ip address or host name, depends\n     optional string networkName = 6;\n     optional string networkLocation = 7; // Network topology location\n-    optional string version = 8;         // Datanode version", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzA4NTcyNQ=="}, "originalCommit": {"oid": "f5b018f05636c598264c5ebdbe5f60fc7c384a29"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzIwMTc0NQ==", "bodyText": "@runitao When were the others fields added? Were they part of 0.6.0 release? The rule is if there is a released version with a proto field, then we should not change/remove it.", "url": "https://github.com/apache/ozone/pull/1289#discussion_r467201745", "createdAt": "2020-08-07T18:26:04Z", "author": {"login": "avijayanhwx"}, "path": "hadoop-hdds/interface-client/src/main/proto/hdds.proto", "diffHunk": "@@ -43,14 +43,22 @@ message DatanodeDetailsProto {\n     // network name, can be Ip address or host name, depends\n     optional string networkName = 6;\n     optional string networkLocation = 7; // Network topology location\n-    optional string version = 8;         // Datanode version", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzA4NTcyNQ=="}, "originalCommit": {"oid": "f5b018f05636c598264c5ebdbe5f60fc7c384a29"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzIwNTU0Nw==", "bodyText": "I got it, I will keep version and setupTime fields.", "url": "https://github.com/apache/ozone/pull/1289#discussion_r467205547", "createdAt": "2020-08-07T18:34:39Z", "author": {"login": "runitao"}, "path": "hadoop-hdds/interface-client/src/main/proto/hdds.proto", "diffHunk": "@@ -43,14 +43,22 @@ message DatanodeDetailsProto {\n     // network name, can be Ip address or host name, depends\n     optional string networkName = 6;\n     optional string networkLocation = 7; // Network topology location\n-    optional string version = 8;         // Datanode version", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzA4NTcyNQ=="}, "originalCommit": {"oid": "f5b018f05636c598264c5ebdbe5f60fc7c384a29"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzIyOTk1Mg==", "bodyText": "Fix that, PTAL @avijayanhwx, thanks.", "url": "https://github.com/apache/ozone/pull/1289#discussion_r467229952", "createdAt": "2020-08-07T19:29:00Z", "author": {"login": "runitao"}, "path": "hadoop-hdds/interface-client/src/main/proto/hdds.proto", "diffHunk": "@@ -43,14 +43,22 @@ message DatanodeDetailsProto {\n     // network name, can be Ip address or host name, depends\n     optional string networkName = 6;\n     optional string networkLocation = 7; // Network topology location\n-    optional string version = 8;         // Datanode version", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzA4NTcyNQ=="}, "originalCommit": {"oid": "f5b018f05636c598264c5ebdbe5f60fc7c384a29"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODA2NTg4Mg==", "bodyText": "@runitao HDDS-3798 is not a must fix for GA, and hence I will revert it in branch ozone-0.6.0. That way, you can use this patch to fix it cleanly. @ChenSammi Is that OK with you?", "url": "https://github.com/apache/ozone/pull/1289#discussion_r468065882", "createdAt": "2020-08-10T17:32:23Z", "author": {"login": "avijayanhwx"}, "path": "hadoop-hdds/interface-client/src/main/proto/hdds.proto", "diffHunk": "@@ -43,14 +43,22 @@ message DatanodeDetailsProto {\n     // network name, can be Ip address or host name, depends\n     optional string networkName = 6;\n     optional string networkLocation = 7; // Network topology location\n-    optional string version = 8;         // Datanode version", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzA4NTcyNQ=="}, "originalCommit": {"oid": "f5b018f05636c598264c5ebdbe5f60fc7c384a29"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2OTAzNTY1MA==", "bodyText": "@avijayanhwx Great. The code will be more clean, I have removed the four fields from DatanodeDetailsProto.", "url": "https://github.com/apache/ozone/pull/1289#discussion_r469035650", "createdAt": "2020-08-12T06:36:13Z", "author": {"login": "runitao"}, "path": "hadoop-hdds/interface-client/src/main/proto/hdds.proto", "diffHunk": "@@ -43,14 +43,22 @@ message DatanodeDetailsProto {\n     // network name, can be Ip address or host name, depends\n     optional string networkName = 6;\n     optional string networkLocation = 7; // Network topology location\n-    optional string version = 8;         // Datanode version", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzA4NTcyNQ=="}, "originalCommit": {"oid": "f5b018f05636c598264c5ebdbe5f60fc7c384a29"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4982, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}