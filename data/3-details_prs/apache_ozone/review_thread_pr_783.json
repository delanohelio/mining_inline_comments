{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAwNDA2MTQz", "number": 783, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxOTo0MTozN1rODvtpWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQwNTowNToyMVrODv1WhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMzU3NTMxOnYy", "diffSide": "RIGHT", "path": "hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconUtils.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxOTo0MTozN1rOGCTQCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNTo1MDozNVrOGDKc7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2NTczOQ==", "bodyText": "NIT: We can import java.net.URLConnection and java.net.URL", "url": "https://github.com/apache/ozone/pull/783#discussion_r405065739", "createdAt": "2020-04-07T19:41:37Z", "author": {"login": "vivekratnavel"}, "path": "hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconUtils.java", "diffHunk": "@@ -245,6 +246,16 @@ public InputStream makeHttpCall(CloseableHttpClient httpClient, String url)\n     }\n   }\n \n+  public InputStream makeHttpCall(URLConnectionFactory connectionFactory,\n+                                  String url)\n+      throws IOException {\n+\n+    java.net.URLConnection urlConnection =", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "947b8c51c03a56060a8fff0776dbdeed6bfbea90"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTk3MDE1Ng==", "bodyText": "Done", "url": "https://github.com/apache/ozone/pull/783#discussion_r405970156", "createdAt": "2020-04-09T05:50:35Z", "author": {"login": "prashantpogde"}, "path": "hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconUtils.java", "diffHunk": "@@ -245,6 +246,16 @@ public InputStream makeHttpCall(CloseableHttpClient httpClient, String url)\n     }\n   }\n \n+  public InputStream makeHttpCall(URLConnectionFactory connectionFactory,\n+                                  String url)\n+      throws IOException {\n+\n+    java.net.URLConnection urlConnection =", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2NTczOQ=="}, "originalCommit": {"oid": "947b8c51c03a56060a8fff0776dbdeed6bfbea90"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxMzU3NTUxOnYy", "diffSide": "RIGHT", "path": "hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconUtils.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxOTo0MTo0MlrOGCTQKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QxOTo0MTo0MlrOGCTQKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTA2NTc2OA==", "bodyText": "Can we remove the other makeHttpCall that accepts CloseableHttpClient if it is no longer used?", "url": "https://github.com/apache/ozone/pull/783#discussion_r405065768", "createdAt": "2020-04-07T19:41:42Z", "author": {"login": "vivekratnavel"}, "path": "hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/ReconUtils.java", "diffHunk": "@@ -245,6 +246,16 @@ public InputStream makeHttpCall(CloseableHttpClient httpClient, String url)\n     }\n   }\n \n+  public InputStream makeHttpCall(URLConnectionFactory connectionFactory,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "947b8c51c03a56060a8fff0776dbdeed6bfbea90"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUxNDgzNzgxOnYy", "diffSide": "RIGHT", "path": "hadoop-ozone/recon/src/test/java/org/apache/hadoop/ozone/recon/TestReconUtils.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOFQwNTowNToyMVrOGCfHuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQwNTo1MDo0NlrOGDKdJQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTI2MDIxNw==", "bodyText": "Can we modify the unit test to test the new makeHttpCall API?", "url": "https://github.com/apache/ozone/pull/783#discussion_r405260217", "createdAt": "2020-04-08T05:05:21Z", "author": {"login": "avijayanhwx"}, "path": "hadoop-ozone/recon/src/test/java/org/apache/hadoop/ozone/recon/TestReconUtils.java", "diffHunk": "@@ -166,9 +168,11 @@ public int read() throws IOException {\n       }\n     });\n \n-    InputStream inputStream = new ReconUtils()\n-        .makeHttpCall(httpClientMock, url);\n-    String contents = IOUtils.toString(inputStream, Charset.defaultCharset());\n+    String contents;\n+    try (InputStream inputStream = new ReconUtils()\n+        .makeHttpCall(httpClientMock, url)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "947b8c51c03a56060a8fff0776dbdeed6bfbea90"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTk3MDIxMw==", "bodyText": "Done", "url": "https://github.com/apache/ozone/pull/783#discussion_r405970213", "createdAt": "2020-04-09T05:50:46Z", "author": {"login": "prashantpogde"}, "path": "hadoop-ozone/recon/src/test/java/org/apache/hadoop/ozone/recon/TestReconUtils.java", "diffHunk": "@@ -166,9 +168,11 @@ public int read() throws IOException {\n       }\n     });\n \n-    InputStream inputStream = new ReconUtils()\n-        .makeHttpCall(httpClientMock, url);\n-    String contents = IOUtils.toString(inputStream, Charset.defaultCharset());\n+    String contents;\n+    try (InputStream inputStream = new ReconUtils()\n+        .makeHttpCall(httpClientMock, url)) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNTI2MDIxNw=="}, "originalCommit": {"oid": "947b8c51c03a56060a8fff0776dbdeed6bfbea90"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4358, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}