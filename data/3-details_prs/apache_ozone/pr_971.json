{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIzNTg2NTI5", "number": 971, "title": "HDDS-2566. Handle InterruptedException in ContainerDataScanner", "bodyText": "What changes were proposed in this pull request?\nHandled InterruptedException and addressed other Sonar code smells.\nWhat is the link to the Apache JIRA\nhttps://issues.apache.org/jira/browse/HDDS-2566\nHow was this patch tested?\nClean build, checkstyle, sonar in local.", "createdAt": "2020-05-27T03:36:40Z", "url": "https://github.com/apache/ozone/pull/971", "merged": true, "mergeCommit": {"oid": "b03d7b4287398ed10773b84290749790800e978e"}, "closed": true, "closedAt": "2020-05-27T21:25:45Z", "author": {"login": "dineshchitlangia"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclQygwAH2gAyNDIzNTg2NTI5Ojk1NGQ1NjljOGEwZGYyZGEyMWFiZmZmYTVlNzA2NjViMzMwNWUxYzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcleZrogH2gAyNDIzNTg2NTI5OmExMDZjY2E3NDVkMGViNGQwNWY4NDQ3ODk0OTQxNDFmYzUwYjJhMjI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "954d569c8a0df2da21abfffa5e70665b3305e1c3", "author": {"user": null}, "url": "https://github.com/apache/ozone/commit/954d569c8a0df2da21abfffa5e70665b3305e1c3", "committedDate": "2020-05-27T03:34:56Z", "message": "HDDS-2566. Handle InterruptedException in ContainerDataScanner"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5NTAzNjgx", "url": "https://github.com/apache/ozone/pull/971#pullrequestreview-419503681", "createdAt": "2020-05-27T18:35:01Z", "commit": {"oid": "954d569c8a0df2da21abfffa5e70665b3305e1c3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxODozNTowMlrOGbYEww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxODozODoxMlrOGbYLlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTM1OTE3MQ==", "bodyText": "Can we use String format here?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n              private static final String NAME = \"ContainerDataScanner(\";\n          \n          \n            \n              private static final String NAME_FORMAT = \"ContainerDataScanner(%s)\";", "url": "https://github.com/apache/ozone/pull/971#discussion_r431359171", "createdAt": "2020-05-27T18:35:02Z", "author": {"login": "vivekratnavel"}, "path": "hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/ContainerDataScanner.java", "diffHunk": "@@ -49,6 +49,7 @@\n   private final Canceler canceler;\n   private final ContainerDataScrubberMetrics metrics;\n   private final long dataScanInterval;\n+  private static final String NAME = \"ContainerDataScanner(\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "954d569c8a0df2da21abfffa5e70665b3305e1c3"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTM1OTgyNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                setName(NAME + volume + \")\");\n          \n          \n            \n                setName(String.format(NAME_FORMAT, volume));", "url": "https://github.com/apache/ozone/pull/971#discussion_r431359827", "createdAt": "2020-05-27T18:36:11Z", "author": {"login": "vivekratnavel"}, "path": "hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/ContainerDataScanner.java", "diffHunk": "@@ -66,7 +67,7 @@ public ContainerDataScanner(ContainerScrubberConfiguration conf,\n     throttler = new HddsDataTransferThrottler(conf.getBandwidthPerVolume());\n     canceler = new Canceler();\n     metrics = ContainerDataScrubberMetrics.create(volume.toString());\n-    setName(\"ContainerDataScanner(\" + volume + \")\");\n+    setName(NAME + volume + \")\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "954d569c8a0df2da21abfffa5e70665b3305e1c3"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTM2MDQ5NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                this.canceler.cancel(NAME + volume + \") is shutting down\");\n          \n          \n            \n                this.canceler.cancel(String.format(NAME_FORMAT, volume) + \" is shutting down\");", "url": "https://github.com/apache/ozone/pull/971#discussion_r431360494", "createdAt": "2020-05-27T18:37:22Z", "author": {"login": "vivekratnavel"}, "path": "hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/ContainerDataScanner.java", "diffHunk": "@@ -162,13 +165,14 @@ private static void logScanCompleted(\n \n   public synchronized void shutdown() {\n     this.stopping = true;\n-    this.canceler.cancel(\"ContainerDataScanner(\"+volume+\") is shutting down\");\n+    this.canceler.cancel(NAME + volume + \") is shutting down\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "954d569c8a0df2da21abfffa5e70665b3305e1c3"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTM2MDkxOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                return NAME + volume + \", \" + volume.getStorageID() + \")\";\n          \n          \n            \n                return String.format(NAME_FORMAT, volume + \", \" + volume.getStorageID());", "url": "https://github.com/apache/ozone/pull/971#discussion_r431360919", "createdAt": "2020-05-27T18:38:12Z", "author": {"login": "vivekratnavel"}, "path": "hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/ContainerDataScanner.java", "diffHunk": "@@ -179,8 +183,7 @@ public ContainerDataScrubberMetrics getMetrics() {\n \n   @Override\n   public String toString() {\n-    return \"ContainerDataScanner(\" + volume +\n-        \", \" + volume.getStorageID() + \")\";\n+    return NAME + volume + \", \" + volume.getStorageID() + \")\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "954d569c8a0df2da21abfffa5e70665b3305e1c3"}, "originalPosition": 57}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5a0cac20784c3071f2ba311a9e668bb92ec455c", "author": {"user": {"login": "dineshchitlangia", "name": "Dinesh Chitlangia"}}, "url": "https://github.com/apache/ozone/commit/d5a0cac20784c3071f2ba311a9e668bb92ec455c", "committedDate": "2020-05-27T18:40:15Z", "message": "Update hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/ContainerDataScanner.java\n\nCo-authored-by: Vivek Ratnavel Subramanian <vivekratnavel90@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7990798d024a16d5bcb69bd4849c30d872dba0c", "author": {"user": {"login": "dineshchitlangia", "name": "Dinesh Chitlangia"}}, "url": "https://github.com/apache/ozone/commit/b7990798d024a16d5bcb69bd4849c30d872dba0c", "committedDate": "2020-05-27T18:40:24Z", "message": "Update hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/ContainerDataScanner.java\n\nCo-authored-by: Vivek Ratnavel Subramanian <vivekratnavel90@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6679237038e68fd6b4dfc1c87dfe9814af6eaa18", "author": {"user": {"login": "dineshchitlangia", "name": "Dinesh Chitlangia"}}, "url": "https://github.com/apache/ozone/commit/6679237038e68fd6b4dfc1c87dfe9814af6eaa18", "committedDate": "2020-05-27T18:40:33Z", "message": "Update hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/ContainerDataScanner.java\n\nCo-authored-by: Vivek Ratnavel Subramanian <vivekratnavel90@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "64c602aa8689235aa9557a6e35601c98cb75cc7a", "author": {"user": {"login": "dineshchitlangia", "name": "Dinesh Chitlangia"}}, "url": "https://github.com/apache/ozone/commit/64c602aa8689235aa9557a6e35601c98cb75cc7a", "committedDate": "2020-05-27T18:40:39Z", "message": "Update hadoop-hdds/container-service/src/main/java/org/apache/hadoop/ozone/container/ozoneimpl/ContainerDataScanner.java\n\nCo-authored-by: Vivek Ratnavel Subramanian <vivekratnavel90@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a106cca745d0eb4d05f844789494141fc50b2a22", "author": {"user": null}, "url": "https://github.com/apache/ozone/commit/a106cca745d0eb4d05f844789494141fc50b2a22", "committedDate": "2020-05-27T19:26:29Z", "message": "fixed checkstyle"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3083, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}