{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyOTc2Mjgw", "number": 817, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwMToyMjowNVrODz_sDg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNDoyNTo1OVrOD0CSiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1ODQ3NDM4OnYy", "diffSide": "RIGHT", "path": "hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/om/TestOzoneManagerHA.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwMToyMjowNVrOGIuRwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwMToyNDo0M1rOGIuVTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTgwMDAwMA==", "bodyText": "NIT: Remove    4qa  wq\"", "url": "https://github.com/apache/ozone/pull/817#discussion_r411800000", "createdAt": "2020-04-21T01:22:05Z", "author": {"login": "bharatviswa504"}, "path": "hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/om/TestOzoneManagerHA.java", "diffHunk": "@@ -470,6 +468,7 @@ public void testCreateFile(OzoneBucket ozoneBucket, String keyName,\n     Assert.assertEquals(data, new String(fileContent));\n   }\n \n+  @Ignore(\"This test failing randomly and triggering HDDS-3465.     ` `4qa  wq\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f27adc51507d4d822e86cc29d524b844d8739665"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTgwMDkwOQ==", "bodyText": "Damn, somehow I pressed some unwanted chars before commit. I will change it.", "url": "https://github.com/apache/ozone/pull/817#discussion_r411800909", "createdAt": "2020-04-21T01:24:43Z", "author": {"login": "umamaheswararao"}, "path": "hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/om/TestOzoneManagerHA.java", "diffHunk": "@@ -470,6 +468,7 @@ public void testCreateFile(OzoneBucket ozoneBucket, String keyName,\n     Assert.assertEquals(data, new String(fileContent));\n   }\n \n+  @Ignore(\"This test failing randomly and triggering HDDS-3465.     ` `4qa  wq\")", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTgwMDAwMA=="}, "originalCommit": {"oid": "f27adc51507d4d822e86cc29d524b844d8739665"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1ODQ4MTU4OnYy", "diffSide": "RIGHT", "path": "hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/om/TestOzoneManagerHA.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwMToyNDo1NFrOGIuVhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwMTozMToxOFrOGIueIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTgwMDk2NQ==", "bodyText": "Minor NIT: Do not use *", "url": "https://github.com/apache/ozone/pull/817#discussion_r411800965", "createdAt": "2020-04-21T01:24:54Z", "author": {"login": "bharatviswa504"}, "path": "hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/om/TestOzoneManagerHA.java", "diffHunk": "@@ -93,8 +93,7 @@\n     .OZONE_CLIENT_FAILOVER_SLEEP_BASE_MILLIS_DEFAULT;\n import static org.apache.hadoop.ozone.OzoneConfigKeys\n     .OZONE_OPEN_KEY_EXPIRE_THRESHOLD_SECONDS;\n-import static org.apache.hadoop.ozone.om.exceptions.OMException.ResultCodes.FILE_ALREADY_EXISTS;\n-import static org.apache.hadoop.ozone.om.exceptions.OMException.ResultCodes.NOT_A_FILE;\n+import static org.apache.hadoop.ozone.om.exceptions.OMException.ResultCodes.*;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f27adc51507d4d822e86cc29d524b844d8739665"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTgwMzE3MA==", "bodyText": "I think that was done by Intellij auto.", "url": "https://github.com/apache/ozone/pull/817#discussion_r411803170", "createdAt": "2020-04-21T01:31:18Z", "author": {"login": "umamaheswararao"}, "path": "hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/om/TestOzoneManagerHA.java", "diffHunk": "@@ -93,8 +93,7 @@\n     .OZONE_CLIENT_FAILOVER_SLEEP_BASE_MILLIS_DEFAULT;\n import static org.apache.hadoop.ozone.OzoneConfigKeys\n     .OZONE_OPEN_KEY_EXPIRE_THRESHOLD_SECONDS;\n-import static org.apache.hadoop.ozone.om.exceptions.OMException.ResultCodes.FILE_ALREADY_EXISTS;\n-import static org.apache.hadoop.ozone.om.exceptions.OMException.ResultCodes.NOT_A_FILE;\n+import static org.apache.hadoop.ozone.om.exceptions.OMException.ResultCodes.*;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTgwMDk2NQ=="}, "originalCommit": {"oid": "f27adc51507d4d822e86cc29d524b844d8739665"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1ODg3MTE2OnYy", "diffSide": "RIGHT", "path": "hadoop-ozone/fault-injection-test/mini-chaos-tests/src/test/java/org/apache/hadoop/ozone/MiniOzoneChaosCluster.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNDoxMjo0NVrOGIxnbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNDoxMjo0NVrOGIxnbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTg1NDcwMQ==", "bodyText": "NIT: Only space change", "url": "https://github.com/apache/ozone/pull/817#discussion_r411854701", "createdAt": "2020-04-21T04:12:45Z", "author": {"login": "bharatviswa504"}, "path": "hadoop-ozone/fault-injection-test/mini-chaos-tests/src/test/java/org/apache/hadoop/ozone/MiniOzoneChaosCluster.java", "diffHunk": "@@ -383,6 +383,7 @@ public MiniOzoneChaosCluster build() throws IOException {\n \n       DefaultMetricsSystem.setMiniClusterMode(true);\n       initializeConfiguration();\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64da62569e30e2d357bbec2f801277eb610f7aa8"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1ODg3MjI2OnYy", "diffSide": "RIGHT", "path": "hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/fs/ozone/TestOzoneFsHAURLs.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNDoxMzoxM1rOGIxoBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNDoxMzoxM1rOGIxoBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTg1NDg1Mg==", "bodyText": "NIT: Can we move this to single line", "url": "https://github.com/apache/ozone/pull/817#discussion_r411854852", "createdAt": "2020-04-21T04:13:13Z", "author": {"login": "bharatviswa504"}, "path": "hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/fs/ozone/TestOzoneFsHAURLs.java", "diffHunk": "@@ -92,11 +89,8 @@ public void init() throws Exception {\n     final String path = GenericTestUtils.getTempPath(omId);\n     java.nio.file.Path metaDirPath = java.nio.file.Paths.get(path, \"om-meta\");\n     conf.set(HddsConfigKeys.OZONE_METADATA_DIRS, metaDirPath.toString());\n-    conf.set(ScmConfigKeys.OZONE_SCM_CLIENT_ADDRESS_KEY, \"127.0.0.1:0\");\n-    conf.setBoolean(OMConfigKeys.OZONE_OM_RATIS_ENABLE_KEY, true);\n-    conf.setTimeDuration(\n-        OMConfigKeys.OZONE_OM_LEADER_ELECTION_MINIMUM_TIMEOUT_DURATION_KEY,\n-        LEADER_ELECTION_TIMEOUT, TimeUnit.MILLISECONDS);\n+    conf.set(ScmConfigKeys.OZONE_SCM_CLIENT_ADDRESS_KEY, \"127.\" +", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64da62569e30e2d357bbec2f801277eb610f7aa8"}, "originalPosition": 26}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1ODkwMDU2OnYy", "diffSide": "RIGHT", "path": "hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/MiniOzoneHAClusterImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNDoyNTo1OVrOGIx3Gw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNDoyNTo1OVrOGIx3Gw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTg1ODcxNQ==", "bodyText": "Formatting is not proper here for these code lines, few of them can fit in a single line.", "url": "https://github.com/apache/ozone/pull/817#discussion_r411858715", "createdAt": "2020-04-21T04:25:59Z", "author": {"login": "bharatviswa504"}, "path": "hadoop-ozone/integration-test/src/test/java/org/apache/hadoop/ozone/MiniOzoneHAClusterImpl.java", "diffHunk": "@@ -314,16 +313,36 @@ public MiniOzoneCluster build() throws IOException {\n     protected void initOMRatisConf() {\n       conf.setBoolean(OMConfigKeys.OZONE_OM_RATIS_ENABLE_KEY, true);\n       conf.setInt(OMConfigKeys.OZONE_OM_HANDLER_COUNT_KEY, numOfOmHandlers);\n-      conf.setLong(\n-          OMConfigKeys.OZONE_OM_RATIS_SNAPSHOT_AUTO_TRIGGER_THRESHOLD_KEY,\n-          100L);\n-      conf.setLong(OMConfigKeys.OZONE_OM_RATIS_LOG_PURGE_GAP, 200L);\n-      conf.setTimeDuration(\n-          OMConfigKeys.OZONE_OM_LEADER_ELECTION_MINIMUM_TIMEOUT_DURATION_KEY,\n-          RATIS_LEADER_ELECTION_TIMEOUT, TimeUnit.MILLISECONDS);\n+      // If test change the following config values we will respect,\n+      // otherwise we will set lower timeout values.\n+      long defaultDuration = OMConfigKeys", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "64da62569e30e2d357bbec2f801277eb610f7aa8"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4393, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}