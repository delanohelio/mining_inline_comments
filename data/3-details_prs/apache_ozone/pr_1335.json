{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY4ODU0Nzk3", "number": 1335, "title": "HDDS-4127. Components with web interface should depend on hdds-docs.", "bodyText": "What changes were proposed in this pull request?\n@ChenSammi  reported the problem that the ozone-0.6.0 branch couldn't be compiled after changing the version to 1.0.0.\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-dependency-plugin:3.0.2:unpack (copy-common-html) on project hadoop-hdds-container-service: Unable to find/resolve artifact.: Could not find artifact org.apache.hadoop:hadoop-hdds-docs:jar:1.0.0 in apache.snapshots.https (https://repository.apache.org/content/repositories/snapshots) -> [Help 1]\n[ERROR]\n\nWeb components include the compiled docs (in case of hugo is on the path)\n  <plugin>\n        <groupId>org.apache.maven.plugins</groupId>\n        <artifactId>maven-dependency-plugin</artifactId>\n        <executions>\n          <execution>\n            <id>copy-common-html</id>\n            <phase>prepare-package</phase>\n            <goals>\n              <goal>unpack</goal>\n            </goals>\n            <configuration>\n              <artifactItems>\n                <artifactItem>\n                  <groupId>org.apache.hadoop</groupId>\n                  <artifactId>hadoop-hdds-server-framework</artifactId>\n                  <outputDirectory>${project.build.outputDirectory}\n                  </outputDirectory>\n                  <includes>webapps/static/**/*.*</includes>\n                </artifactItem>\n                <artifactItem>\n                  <groupId>org.apache.hadoop</groupId>\n                  <artifactId>hadoop-hdds-docs</artifactId>\n                  <outputDirectory>${project.build.outputDirectory}/webapps/ozoneManager</outputDirectory>\n                  <includes>docs/**/*.*</includes>\n                </artifactItem>\n              </artifactItems>\n              <overWriteSnapshots>true</overWriteSnapshots>\n            </configuration>\n          </execution>\n        </executions>\n      </plugin>\nBut the explicit dependency between the container-service and hdds-docs accidentally missing. With adding a provided dependency, it can be fixed (maven will compile hdds-docs first)\nWhat is the link to the Apache JIRA\nhttps://issues.apache.org/jira/browse/HDDS-4127\nHow was this patch tested?\ngit checkout ozone-0.6.0\nfind . -name pom.xml -type f | xargs sed -i 's/0.6.0-SNAPSHOT/1.0.0/g'\n# apply this patch\nmvn clean install -DskipTests", "createdAt": "2020-08-17T14:06:08Z", "url": "https://github.com/apache/ozone/pull/1335", "merged": true, "mergeCommit": {"oid": "59fc0bb7989caebd180f57d6f84be82107ab931a"}, "closed": true, "closedAt": "2020-08-18T11:20:51Z", "author": {"login": "elek"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc_y-iGAH2gAyNDY4ODU0Nzk3OmE0MzcwYzI4ZTM3YmZlNzc1OWMwZDRlZDY4MjUxYTU5NzBkMDZhNjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdABt5GAH2gAyNDY4ODU0Nzk3OjVkZThmYzkwNGFjNGNkNGRjYzRhMTgwM2IwODE5YTRhYWM5NjBmNzE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a4370c28e37bfe7759c0d4ed68251a5970d06a68", "author": {"user": {"login": "elek", "name": "Elek, M\u00e1rton"}}, "url": "https://github.com/apache/ozone/commit/a4370c28e37bfe7759c0d4ed68251a5970d06a68", "committedDate": "2020-08-17T14:06:52Z", "message": "fix"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b92adfa3c21edc674ea671d67ee50fd04713b1f3", "author": {"user": {"login": "elek", "name": "Elek, M\u00e1rton"}}, "url": "https://github.com/apache/ozone/commit/b92adfa3c21edc674ea671d67ee50fd04713b1f3", "committedDate": "2020-08-17T13:50:50Z", "message": "fix"}, "afterCommit": {"oid": "a4370c28e37bfe7759c0d4ed68251a5970d06a68", "author": {"user": {"login": "elek", "name": "Elek, M\u00e1rton"}}, "url": "https://github.com/apache/ozone/commit/a4370c28e37bfe7759c0d4ed68251a5970d06a68", "committedDate": "2020-08-17T14:06:52Z", "message": "fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4ODc4NjA5", "url": "https://github.com/apache/ozone/pull/1335#pullrequestreview-468878609", "createdAt": "2020-08-17T22:40:46Z", "commit": {"oid": "a4370c28e37bfe7759c0d4ed68251a5970d06a68"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QyMjo0MDo0N1rOHB9NUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QyMjo0MDo0N1rOHB9NUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTgxMzQ1OA==", "bodyText": "Repated again, it is already defined in L44", "url": "https://github.com/apache/ozone/pull/1335#discussion_r471813458", "createdAt": "2020-08-17T22:40:47Z", "author": {"login": "bharatviswa504"}, "path": "hadoop-ozone/ozone-manager/pom.xml", "diffHunk": "@@ -70,6 +71,12 @@ https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n       <artifactId>bcprov-jdk15on</artifactId>\n     </dependency>\n \n+    <dependency>\n+      <groupId>org.apache.hadoop</groupId>\n+      <artifactId>hadoop-hdds-docs</artifactId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a4370c28e37bfe7759c0d4ed68251a5970d06a68"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5de8fc904ac4cd4dcc4a1803b0819a4aac960f71", "author": {"user": {"login": "elek", "name": "Elek, M\u00e1rton"}}, "url": "https://github.com/apache/ozone/commit/5de8fc904ac4cd4dcc4a1803b0819a4aac960f71", "committedDate": "2020-08-18T07:17:16Z", "message": "remove duplicated dependency"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2734, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}