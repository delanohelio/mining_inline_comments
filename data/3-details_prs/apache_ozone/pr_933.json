{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5MTQ2MjIy", "number": 933, "title": "HDDS-3604. Use Ozone version of Hadoop Security/Token classes", "bodyText": "What changes were proposed in this pull request?\nAs described in Jira, this PR is to make preparations for upgrade to Hadoop-3.3, when released.\nThis wil remove direct depedency on Hadoop's internalyl used protobuf classes.\nHadoop 3.3 upgraded the internal protobuf usage to 3.7 and shades all protobuf classes.\nBecause of this change ozone compilation breaks.\n\nGenerating the SecurityProtos classes internal ozone, still keeping wire compatibility.\nBorrowed the utility/helper methods which have protobuf usage in signature, which changes in Hadoop now.\n\nWhat is the link to the Apache JIRA\nhttps://issues.apache.org/jira/browse/HDDS-3604\nHow was this patch tested?\nVerified manually in local and build ozone.", "createdAt": "2020-05-17T17:35:18Z", "url": "https://github.com/apache/ozone/pull/933", "merged": true, "mergeCommit": {"oid": "a84d5bc425c9bc2b1fcfd9c7c88e160c22fef253"}, "closed": true, "closedAt": "2020-07-06T10:44:54Z", "author": {"login": "vinayakumarb"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABciaYNegBqjMzNDU4NDE5MzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcyNGWkAH2gAyNDE5MTQ2MjIyOmI1ODk2MGU3MzMxMTU0NTZlYjlkOWQ1ODNiZDRjNjlhY2YwZmUwNDI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "72564895764d7b5349c6b502ac782f76789ee5d4", "author": {"user": {"login": "vinayakumarb", "name": "Vinayakumar B"}}, "url": "https://github.com/apache/ozone/commit/72564895764d7b5349c6b502ac782f76789ee5d4", "committedDate": "2020-05-17T17:26:17Z", "message": "HDDS-3604. Support for Hadoop-3.3+"}, "afterCommit": {"oid": "90a8b604971846e5e93e1842abf36a19af0b012c", "author": {"user": {"login": "vinayakumarb", "name": "Vinayakumar B"}}, "url": "https://github.com/apache/ozone/commit/90a8b604971846e5e93e1842abf36a19af0b012c", "committedDate": "2020-05-18T07:02:14Z", "message": "HDDS-3604. Support for Hadoop-3.3+"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3MTA1NTQy", "url": "https://github.com/apache/ozone/pull/933#pullrequestreview-417105542", "createdAt": "2020-05-22T18:22:06Z", "commit": {"oid": "90a8b604971846e5e93e1842abf36a19af0b012c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5OTA3Mjk0", "url": "https://github.com/apache/ozone/pull/933#pullrequestreview-419907294", "createdAt": "2020-05-28T08:53:38Z", "commit": {"oid": "90a8b604971846e5e93e1842abf36a19af0b012c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwODo1MzozOFrOGbr1JQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwODo1MzozOFrOGbr1JQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTY4Mjg1Mw==", "bodyText": "Is it required? I think it's already added to the parent pom and not required here...", "url": "https://github.com/apache/ozone/pull/933#discussion_r431682853", "createdAt": "2020-05-28T08:53:38Z", "author": {"login": "elek"}, "path": "hadoop-ozone/common/pom.xml", "diffHunk": "@@ -82,7 +82,43 @@ https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n         <filtering>true</filtering>\n       </resource>\n     </resources>\n+    <extensions>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90a8b604971846e5e93e1842abf36a19af0b012c"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5OTA5NjI5", "url": "https://github.com/apache/ozone/pull/933#pullrequestreview-419909629", "createdAt": "2020-05-28T08:56:33Z", "commit": {"oid": "90a8b604971846e5e93e1842abf36a19af0b012c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwODo1NjozM1rOGbr77Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwODo1NjozM1rOGbr77Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTY4NDU4OQ==", "bodyText": "Can you please help me to understand why is it safe to ignore this warning?", "url": "https://github.com/apache/ozone/pull/933#discussion_r431684589", "createdAt": "2020-05-28T08:56:33Z", "author": {"login": "elek"}, "path": "hadoop-ozone/common/dev-support/findbugsExcludeFile.xml", "diffHunk": "@@ -19,4 +19,10 @@\n   <Match>\n     <Package name=\"org.apache.hadoop.ozone.protocol.proto\"/>\n   </Match>\n+\n+  <Match>\n+    <Class name=\"org.apache.hadoop.ozone.protocolPB.OzonePBHelper\" />\n+    <Method name=\"getFixedByteString\" />\n+    <Bug pattern=\"AT_OPERATION_SEQUENCE_ON_CONCURRENT_ABSTRACTION\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90a8b604971846e5e93e1842abf36a19af0b012c"}, "originalPosition": 8}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "90a8b604971846e5e93e1842abf36a19af0b012c", "author": {"user": {"login": "vinayakumarb", "name": "Vinayakumar B"}}, "url": "https://github.com/apache/ozone/commit/90a8b604971846e5e93e1842abf36a19af0b012c", "committedDate": "2020-05-18T07:02:14Z", "message": "HDDS-3604. Support for Hadoop-3.3+"}, "afterCommit": {"oid": "4db39d0e9ed3e4602fbaa4fdd711d9ce1ec98889", "author": {"user": {"login": "vinayakumarb", "name": "Vinayakumar B"}}, "url": "https://github.com/apache/ozone/commit/4db39d0e9ed3e4602fbaa4fdd711d9ce1ec98889", "committedDate": "2020-06-03T09:32:45Z", "message": "HDDS-3604. Use Ozone version from Hadoop Sercurity/Token classes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4db39d0e9ed3e4602fbaa4fdd711d9ce1ec98889", "author": {"user": {"login": "vinayakumarb", "name": "Vinayakumar B"}}, "url": "https://github.com/apache/ozone/commit/4db39d0e9ed3e4602fbaa4fdd711d9ce1ec98889", "committedDate": "2020-06-03T09:32:45Z", "message": "HDDS-3604. Use Ozone version from Hadoop Sercurity/Token classes"}, "afterCommit": {"oid": "34e49eba79087b4ce55ecd807d8b8da0615d5c73", "author": {"user": {"login": "vinayakumarb", "name": "Vinayakumar B"}}, "url": "https://github.com/apache/ozone/commit/34e49eba79087b4ce55ecd807d8b8da0615d5c73", "committedDate": "2020-06-03T09:43:36Z", "message": "HDDS-3604. Use Ozone version from Hadoop Sercurity/Token classes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "34e49eba79087b4ce55ecd807d8b8da0615d5c73", "author": {"user": {"login": "vinayakumarb", "name": "Vinayakumar B"}}, "url": "https://github.com/apache/ozone/commit/34e49eba79087b4ce55ecd807d8b8da0615d5c73", "committedDate": "2020-06-03T09:43:36Z", "message": "HDDS-3604. Use Ozone version from Hadoop Sercurity/Token classes"}, "afterCommit": {"oid": "d186fc4e7f33af551a3946d5dd1b7ec1ce390e45", "author": {"user": {"login": "vinayakumarb", "name": "Vinayakumar B"}}, "url": "https://github.com/apache/ozone/commit/d186fc4e7f33af551a3946d5dd1b7ec1ce390e45", "committedDate": "2020-06-03T18:01:30Z", "message": "HDDS-3604. Use Ozone version from Hadoop Sercurity/Token classes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0ODQ0Mjg4", "url": "https://github.com/apache/ozone/pull/933#pullrequestreview-434844288", "createdAt": "2020-06-22T11:44:03Z", "commit": {"oid": "1a5c58351737cd2bf3df907eccb0b4bc6ede23ca"}, "state": "DISMISSED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f0011ac6df05488493db2908c99754d4116de4ba", "author": {"user": {"login": "vinayakumarb", "name": "Vinayakumar B"}}, "url": "https://github.com/apache/ozone/commit/f0011ac6df05488493db2908c99754d4116de4ba", "committedDate": "2020-07-05T15:11:12Z", "message": "HDDS-3604. Use Ozone version of Hadoop Security/Token classes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1a5c58351737cd2bf3df907eccb0b4bc6ede23ca", "author": {"user": {"login": "adoroszlai", "name": "Doroszlai, Attila"}}, "url": "https://github.com/apache/ozone/commit/1a5c58351737cd2bf3df907eccb0b4bc6ede23ca", "committedDate": "2020-06-04T07:32:25Z", "message": "trigger new CI check"}, "afterCommit": {"oid": "f0011ac6df05488493db2908c99754d4116de4ba", "author": {"user": {"login": "vinayakumarb", "name": "Vinayakumar B"}}, "url": "https://github.com/apache/ozone/commit/f0011ac6df05488493db2908c99754d4116de4ba", "committedDate": "2020-07-05T15:11:12Z", "message": "HDDS-3604. Use Ozone version of Hadoop Security/Token classes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04d390cd148552022877029fc86f765deed5a098", "author": {"user": {"login": "adoroszlai", "name": "Doroszlai, Attila"}}, "url": "https://github.com/apache/ozone/commit/04d390cd148552022877029fc86f765deed5a098", "committedDate": "2020-07-06T07:23:33Z", "message": "trigger new CI check"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b58960e733115456eb9d9d583bd4c69acf0fe042", "author": {"user": {"login": "adoroszlai", "name": "Doroszlai, Attila"}}, "url": "https://github.com/apache/ozone/commit/b58960e733115456eb9d9d583bd4c69acf0fe042", "committedDate": "2020-07-06T08:38:00Z", "message": "trigger new CI check"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3261, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}