{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1OTQ0MjM5", "number": 1612, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMDozNzoyOFrOE8Yv7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMDozNzoyOFrOE8Yv7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMxNzU1NTAwOnYy", "diffSide": "RIGHT", "path": "hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/FileSizeCountTask.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMDozNzoyOFrOH4eb5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QyMDo0NDoyNlrOH4eplQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODk4MDk2Ng==", "bodyText": "Why does truncate not work?", "url": "https://github.com/apache/ozone/pull/1612#discussion_r528980966", "createdAt": "2020-11-23T20:37:28Z", "author": {"login": "swagle"}, "path": "hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/FileSizeCountTask.java", "diffHunk": "@@ -96,7 +96,9 @@ private static int nextClosestPowerIndexOfTwo(long dataSize) {\n       return new ImmutablePair<>(getTaskName(), false);\n     }\n     // Truncate table before inserting new rows\n-    dslContext.truncate(FILE_COUNT_BY_SIZE);\n+    int execute = dslContext.delete(FILE_COUNT_BY_SIZE).execute();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d34cadee644e4bb6b0d5dffcb1687aeea5701f6"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODk4NDQ2OQ==", "bodyText": "From Jooq doc.\n  * Most dialects implement the <code>TRUNCATE</code> statement. If it is not * supported, it is emulated using an equivalent <code>DELETE</code> * statement. This is particularly true for these dialects: * <ul> * <li> {@link SQLDialect#FIREBIRD}</li> * <li> {@link SQLDialect#INGRES}</li> * <li> {@link SQLDialect#SQLITE}</li> * </ul>", "url": "https://github.com/apache/ozone/pull/1612#discussion_r528984469", "createdAt": "2020-11-23T20:44:26Z", "author": {"login": "avijayanhwx"}, "path": "hadoop-ozone/recon/src/main/java/org/apache/hadoop/ozone/recon/tasks/FileSizeCountTask.java", "diffHunk": "@@ -96,7 +96,9 @@ private static int nextClosestPowerIndexOfTwo(long dataSize) {\n       return new ImmutablePair<>(getTaskName(), false);\n     }\n     // Truncate table before inserting new rows\n-    dslContext.truncate(FILE_COUNT_BY_SIZE);\n+    int execute = dslContext.delete(FILE_COUNT_BY_SIZE).execute();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODk4MDk2Ng=="}, "originalCommit": {"oid": "5d34cadee644e4bb6b0d5dffcb1687aeea5701f6"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4506, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}