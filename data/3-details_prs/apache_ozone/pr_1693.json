{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM3Mzg2OTI0", "number": 1693, "title": "HDDS-4581. Cleanup usage of volumeArgs in KeyRequests.", "bodyText": "What changes were proposed in this pull request?\nCleanup usage of VolumeArgs in Request/Response classes in Key requests.\nWhat is the link to the Apache JIRA\nhttps://issues.apache.org/jira/browse/HDDS-4581\nHow was this patch tested?\nExisting tests.", "createdAt": "2020-12-11T20:46:44Z", "url": "https://github.com/apache/ozone/pull/1693", "merged": true, "mergeCommit": {"oid": "e0ce757e63888dadabead74dbfc3da0e040e3824"}, "closed": true, "closedAt": "2020-12-14T11:04:56Z", "author": {"login": "bharatviswa504"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdlONXPAH2gAyNTM3Mzg2OTI0OjU5NjI3MGE3ZTQ2YmZjNGJjZWVmMjQ0MDAzZTk3YTA4NjJlMDQyMTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmCaLvAFqTU1MTE4OTIwMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "596270a7e46bfc4bceef244003e97a0862e04212", "author": {"user": {"login": "bharatviswa504", "name": "Bharat Viswanadham"}}, "url": "https://github.com/apache/ozone/commit/596270a7e46bfc4bceef244003e97a0862e04212", "committedDate": "2020-12-11T20:45:42Z", "message": "HDDS-4581. Cleanup usage of volumeArgs in KeyRequests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82dd5d8fb96cb7c931d21490ed4b7013f5ff6de9", "author": {"user": {"login": "bharatviswa504", "name": "Bharat Viswanadham"}}, "url": "https://github.com/apache/ozone/commit/82dd5d8fb96cb7c931d21490ed4b7013f5ff6de9", "committedDate": "2020-12-11T21:16:29Z", "message": "fix compilation and cs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwODQxNzcy", "url": "https://github.com/apache/ozone/pull/1693#pullrequestreview-550841772", "createdAt": "2020-12-12T16:13:52Z", "commit": {"oid": "82dd5d8fb96cb7c931d21490ed4b7013f5ff6de9"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMlQxNjoxMzo1MlrOIEjT6A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMlQxNjoxNTowNVrOIEjWuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTY0Mzc1Mg==", "bodyText": "Why we not remove omVolumeArgs variable defined in this method?", "url": "https://github.com/apache/ozone/pull/1693#discussion_r541643752", "createdAt": "2020-12-12T16:13:52Z", "author": {"login": "linyiqun"}, "path": "hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileCreateRequest.java", "diffHunk": "@@ -279,7 +279,6 @@ public OMClientResponse validateAndUpdateCache(OzoneManager ozoneManager,\n           .collect(Collectors.toList());\n       omKeyInfo.appendNewBlocks(newLocationList, false);\n \n-      omVolumeArgs = getVolumeInfo(omMetadataManager, volumeName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "82dd5d8fb96cb7c931d21490ed4b7013f5ff6de9"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTY0NDQ3Mg==", "bodyText": "Same comment like above.", "url": "https://github.com/apache/ozone/pull/1693#discussion_r541644472", "createdAt": "2020-12-12T16:15:05Z", "author": {"login": "linyiqun"}, "path": "hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/key/OMKeyCommitRequest.java", "diffHunk": "@@ -193,7 +193,6 @@ public OMClientResponse validateAndUpdateCache(OzoneManager ozoneManager,\n \n       long scmBlockSize = ozoneManager.getScmBlockSize();\n       int factor = omKeyInfo.getFactor().getNumber();\n-      omVolumeArgs = getVolumeInfo(omMetadataManager, volumeName);\n       omBucketInfo = getBucketInfo(omMetadataManager, volumeName, bucketName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "82dd5d8fb96cb7c931d21490ed4b7013f5ff6de9"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c73b8df2b44a8f09f25e9c2b332810d8cc85996", "author": {"user": {"login": "bharatviswa504", "name": "Bharat Viswanadham"}}, "url": "https://github.com/apache/ozone/commit/3c73b8df2b44a8f09f25e9c2b332810d8cc85996", "committedDate": "2020-12-12T18:32:48Z", "message": "fix review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3bc6d0e7f7a28910d0478dd4b719bc0352abbb54", "author": {"user": {"login": "bharatviswa504", "name": "Bharat Viswanadham"}}, "url": "https://github.com/apache/ozone/commit/3bc6d0e7f7a28910d0478dd4b719bc0352abbb54", "committedDate": "2020-12-12T18:33:51Z", "message": "fix cs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUwODg3MDI4", "url": "https://github.com/apache/ozone/pull/1693#pullrequestreview-550887028", "createdAt": "2020-12-13T05:42:52Z", "commit": {"oid": "3bc6d0e7f7a28910d0478dd4b719bc0352abbb54"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xM1QwNTo0Mjo1M1rOIEv_aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xM1QwNTo0Mjo1M1rOIEv_aw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MTg1MTQ5OQ==", "bodyText": "All the use of the getVolumeInfo method has been removed, so getVolumeInfo should not be needed, we can delete it.", "url": "https://github.com/apache/ozone/pull/1693#discussion_r541851499", "createdAt": "2020-12-13T05:42:53Z", "author": {"login": "captainzmc"}, "path": "hadoop-ozone/ozone-manager/src/main/java/org/apache/hadoop/ozone/om/request/file/OMFileCreateRequest.java", "diffHunk": "@@ -279,7 +277,6 @@ public OMClientResponse validateAndUpdateCache(OzoneManager ozoneManager,\n           .collect(Collectors.toList());\n       omKeyInfo.appendNewBlocks(newLocationList, false);\n \n-      omVolumeArgs = getVolumeInfo(omMetadataManager, volumeName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3bc6d0e7f7a28910d0478dd4b719bc0352abbb54"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73023ba8c915b46941f3010d1b79187d0daaccae", "author": {"user": {"login": "bharatviswa504", "name": "Bharat Viswanadham"}}, "url": "https://github.com/apache/ozone/commit/73023ba8c915b46941f3010d1b79187d0daaccae", "committedDate": "2020-12-14T05:49:37Z", "message": "fix review comment"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxMTIxNzc5", "url": "https://github.com/apache/ozone/pull/1693#pullrequestreview-551121779", "createdAt": "2020-12-14T08:07:04Z", "commit": {"oid": "73023ba8c915b46941f3010d1b79187d0daaccae"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxMTg5MjAx", "url": "https://github.com/apache/ozone/pull/1693#pullrequestreview-551189201", "createdAt": "2020-12-14T09:34:46Z", "commit": {"oid": "73023ba8c915b46941f3010d1b79187d0daaccae"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2099, "cost": 1, "resetAt": "2021-10-28T18:00:02Z"}}}