{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3OTk3NDQy", "number": 8154, "title": "Ducktape Service Specs", "bodyText": "Specs for services (config, start command)\nInjecting specs from globals\nPrepare distribution for external usage", "createdAt": "2020-08-14T13:53:43Z", "url": "https://github.com/apache/ignite/pull/8154", "merged": true, "mergeCommit": {"oid": "5f3b0f18fa5aa6fa45b8cfb546414cf4c31dd3d0"}, "closed": true, "closedAt": "2020-08-17T12:15:55Z", "author": {"login": "timoninmaxim"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-0MwZgH2gAyNDY3OTk3NDQyOmI4YTM0NDUwZTg5ZjZkNDkyMWI3NmFlMzY3Mzc2ODBiYTc0MWEyZDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc_xU6VAH2gAyNDY3OTk3NDQyOmQwMzliZDg2YjJkYjg3MDI2MDkwN2IyNGVjOTMyYjU3NjA3OTIyZWU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b8a34450e89f6d4921b76ae36737680ba741a2d8", "author": {"user": {"login": "timoninmaxim", "name": "Maksim Timonin"}}, "url": "https://github.com/apache/ignite/commit/b8a34450e89f6d4921b76ae36737680ba741a2d8", "committedDate": "2020-08-14T12:58:23Z", "message": "INJECT"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e98457a7230097958bdf9cd515fdf5318562b3e2", "author": {"user": {"login": "timoninmaxim", "name": "Maksim Timonin"}}, "url": "https://github.com/apache/ignite/commit/e98457a7230097958bdf9cd515fdf5318562b3e2", "committedDate": "2020-08-14T13:48:46Z", "message": "Prepare ignitetest distribution for external usage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ffeae213d3904e61f4976ac5a83ea15c95c7edc", "author": {"user": {"login": "timoninmaxim", "name": "Maksim Timonin"}}, "url": "https://github.com/apache/ignite/commit/0ffeae213d3904e61f4976ac5a83ea15c95c7edc", "committedDate": "2020-08-17T07:41:21Z", "message": "fixup! INJECT"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6c766c13349f4c6a2a53d85f13993342344e5c9f", "author": {"user": {"login": "timoninmaxim", "name": "Maksim Timonin"}}, "url": "https://github.com/apache/ignite/commit/6c766c13349f4c6a2a53d85f13993342344e5c9f", "committedDate": "2020-08-17T06:37:06Z", "message": "fixup! INJECT"}, "afterCommit": {"oid": "0ffeae213d3904e61f4976ac5a83ea15c95c7edc", "author": {"user": {"login": "timoninmaxim", "name": "Maksim Timonin"}}, "url": "https://github.com/apache/ignite/commit/0ffeae213d3904e61f4976ac5a83ea15c95c7edc", "committedDate": "2020-08-17T07:41:21Z", "message": "fixup! INJECT"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4MjQ2NTgx", "url": "https://github.com/apache/ignite/pull/8154#pullrequestreview-468246581", "createdAt": "2020-08-17T07:59:24Z", "commit": {"oid": "0ffeae213d3904e61f4976ac5a83ea15c95c7edc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwNzo1OToyNFrOHBeSng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwNzo1OToyNFrOHBeSng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTMwNjkxMA==", "bodyText": "As for me, monotonic is install_required, and pytest and mock is not needed at all", "url": "https://github.com/apache/ignite/pull/8154#discussion_r471306910", "createdAt": "2020-08-17T07:59:24Z", "author": {"login": "ivandasch"}, "path": "modules/ducktests/tests/setup.py", "diffHunk": "@@ -14,46 +14,22 @@\n # limitations under the License.\n \n import re\n-import sys\n-\n from setuptools import find_packages, setup\n-from setuptools.command.test import test as TestCommand\n \n-version = ''\n+\n with open('ignitetest/__init__.py', 'r') as fd:\n     version = re.search(r'^__version__\\s*=\\s*[\\'\"]([^\\'\"]*)[\\'\"]', fd.read(), re.MULTILINE).group(1)\n \n \n-class PyTest(TestCommand):\n-    user_options = [('pytest-args=', 'a', \"Arguments to pass to py.test\")]\n-\n-    def initialize_options(self):\n-        TestCommand.initialize_options(self)\n-        self.pytest_args = []\n-\n-    def finalize_options(self):\n-        TestCommand.finalize_options(self)\n-        self.test_args = []\n-        self.test_suite = True\n-\n-    def run_tests(self):\n-        # import here, cause outside the eggs aren't loaded\n-        import pytest\n-        print(self.pytest_args)\n-        errno = pytest.main(self.pytest_args)\n-        sys.exit(errno)\n-\n-\n # Note: when changing the version of ducktape, also revise tests/docker/Dockerfile\n setup(name=\"ignitetest\",\n       version=version,\n       description=\"Apache Ignite System Tests\",\n       author=\"Apache Ignite\",\n       platforms=[\"any\"],\n       license=\"apache2.0\",\n-      packages=find_packages(),\n+      packages=find_packages(exclude=[\"ignitetest.tests\", \"ignitetest.tests.*\"]),\n       include_package_data=True,\n-      install_requires=[\"ducktape==0.7.8\", \"requests==2.20.0\"],\n-      tests_require=[\"pytest\", \"mock\", \"monotonic\"],\n-      cmdclass={'test': PyTest}\n+      install_requires=[\"ducktape==0.7.8\", \"requests==2.22.0\"],\n+      tests_require=[\"pytest\", \"mock\", \"monotonic\"]\n )", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ffeae213d3904e61f4976ac5a83ea15c95c7edc"}, "originalPosition": 50}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d039bd86b2db870260907b24ec932b57607922ee", "author": {"user": {"login": "timoninmaxim", "name": "Maksim Timonin"}}, "url": "https://github.com/apache/ignite/commit/d039bd86b2db870260907b24ec932b57607922ee", "committedDate": "2020-08-17T12:11:30Z", "message": "fixup! Prepare ignitetest distribution for external usage"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3236, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}