{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkxMDEzMjc4", "number": 8269, "title": "IGNITE-13459 Document new building process of Ignite C++ (CMake)", "bodyText": "Thank you for submitting the pull request to the Apache Ignite.\nIn order to streamline the review of the contribution\nwe ask you to ensure the following steps have been taken:\nThe Contribution Checklist\n\n There is a single JIRA ticket related to the pull request.\n The web-link to the pull request is attached to the JIRA ticket.\n The JIRA ticket has the Patch Available state.\n The pull request body describes changes that have been made.\nThe description explains WHAT and WHY was made instead of HOW.\n The pull request title is treated as the final commit message.\nThe following pattern must be used: IGNITE-XXXX Change summary where XXXX - number of JIRA issue.\n A reviewer has been mentioned through the JIRA comments\n(see the Maintainers list)\n The pull request has been checked by the Teamcity Bot and\nthe green visa attached to the JIRA ticket (see TC.Bot: Check PR)\n\nNotes\n\nHow to Contribute\nCoding abbreviation rules\nCoding Guidelines\nApache Ignite Teamcity Bot\n\nIf you need any help, please email dev@ignite.apache.org or ask an\u0443 advice on http://asf.slack.com #ignite channel.", "createdAt": "2020-09-22T15:13:25Z", "url": "https://github.com/apache/ignite/pull/8269", "merged": true, "mergeCommit": {"oid": "67db5ef43f9600b8ffdaf64c9a5389f619ee0439"}, "closed": true, "closedAt": "2020-09-24T19:06:42Z", "author": {"login": "ivandasch"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLZeYmgH2gAyNDkxMDEzMjc4OjY0M2E4NGJkMDNhYWYzN2RiN2NhZmMwY2NmM2VmYjFmOThmZjNhM2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdMCI9DgH2gAyNDkxMDEzMjc4OmRlYmJiOWY2ZGIyY2MzYzk4ODRmMzFkZjBkYTEyZWU5NDljNjkzNzE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "643a84bd03aaf37db7cafc0ccf3efb1f98ff3a3b", "author": {"user": {"login": "ivandasch", "name": "Ivan Daschinskiy"}}, "url": "https://github.com/apache/ignite/commit/643a84bd03aaf37db7cafc0ccf3efb1f98ff3a3b", "committedDate": "2020-09-22T15:11:13Z", "message": "IGNITE-13459 Document new build process on linux (CMake)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2eaccb626717506e751d79a1d445b520219c2abc", "author": {"user": {"login": "ivandasch", "name": "Ivan Daschinskiy"}}, "url": "https://github.com/apache/ignite/commit/2eaccb626717506e751d79a1d445b520219c2abc", "committedDate": "2020-09-22T15:11:45Z", "message": "WIP"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk1MDQyNDA4", "url": "https://github.com/apache/ignite/pull/8269#pullrequestreview-495042408", "createdAt": "2020-09-23T20:57:16Z", "commit": {"oid": "2eaccb626717506e751d79a1d445b520219c2abc"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QyMDo1NzoxNlrOHXAr-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QyMToxMjowOFrOHXBKAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzg5MDU1NQ==", "bodyText": "I would slightly rephrase the sentence:\n\nThe JDK is used only during the build process and not being by the ODBC driver itself\"", "url": "https://github.com/apache/ignite/pull/8269#discussion_r493890555", "createdAt": "2020-09-23T20:57:16Z", "author": {"login": "dmagda"}, "path": "docs/_docs/SQL/ODBC/odbc-driver.adoc", "diffHunk": "@@ -201,21 +201,38 @@ As a result, `ignite-odbc-amd64.msi` and `ignite-odbc-x86.msi` files should appe\n \n On a Linux-based operating system, you will need to install an ODBC Driver Manager of your choice to be able to build and use the Ignite ODBC Driver. The ODBC Driver has been tested with link:http://www.unixodbc.org[UnixODBC].\n \n-Additionally, you will need `GCC`, `G++`, and `make` to build the driver and its dependencies.\n+==== Prerequisites\n+include::includes/cpp-linux-build-prerequisites.adoc[]\n \n-Once all the above mentioned are installed, you can build the Ignite ODBC driver:\n+NOTE: JDK is needed currently only for building, odbc driver binary doesn't depend on it.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2eaccb626717506e751d79a1d445b520219c2abc"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzg5NDU2NQ==", "bodyText": "I would update the steps this way if you don't mind:\n\nCreate a build directory for CMake. We'll refer to it as to {CPP_BUILD_DIR}.\n(Optional) Select the prefix of the installation directory which defaults to /usr/local if nothing is set. We'll refer to this directory as to {CPP_INSTALL_DIR}.\nBuild and install the driver by executing the following commands:", "url": "https://github.com/apache/ignite/pull/8269#discussion_r493894565", "createdAt": "2020-09-23T21:05:00Z", "author": {"login": "dmagda"}, "path": "docs/_docs/SQL/ODBC/odbc-driver.adoc", "diffHunk": "@@ -201,21 +201,38 @@ As a result, `ignite-odbc-amd64.msi` and `ignite-odbc-x86.msi` files should appe\n \n On a Linux-based operating system, you will need to install an ODBC Driver Manager of your choice to be able to build and use the Ignite ODBC Driver. The ODBC Driver has been tested with link:http://www.unixodbc.org[UnixODBC].\n \n-Additionally, you will need `GCC`, `G++`, and `make` to build the driver and its dependencies.\n+==== Prerequisites\n+include::includes/cpp-linux-build-prerequisites.adoc[]\n \n-Once all the above mentioned are installed, you can build the Ignite ODBC driver:\n+NOTE: JDK is needed currently only for building, odbc driver binary doesn't depend on it.\n \n-[source,shell]\n+==== Building ODBC driver\n+- Create build directory for cmake. We'll refer to this as `{CPP_BUILD_DIR}`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2eaccb626717506e751d79a1d445b520219c2abc"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzg5NTc2OQ==", "bodyText": "\"Should\" or \"need to be\" (aka. must) installed?\nShould imply that something is optional.", "url": "https://github.com/apache/ignite/pull/8269#discussion_r493895769", "createdAt": "2020-09-23T21:07:19Z", "author": {"login": "dmagda"}, "path": "docs/_docs/includes/cpp-linux-build-prerequisites.adoc", "diffHunk": "@@ -0,0 +1,31 @@\n+The following packages should be installed:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2eaccb626717506e751d79a1d445b520219c2abc"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzg5NjYyMw==", "bodyText": "You can remove the \"a directory\". See how these installation steps are described here:\nhttps://ignite.apache.org/docs/2.9.0/installation/installing-using-zip#installing-using-zip-archive", "url": "https://github.com/apache/ignite/pull/8269#discussion_r493896623", "createdAt": "2020-09-23T21:09:04Z", "author": {"login": "dmagda"}, "path": "docs/_docs/quick-start/cpp.adoc", "diffHunk": "@@ -51,30 +44,62 @@ For information about the {cpp} thin client, see link:thin-clients/cpp-thin-clie\n On unix systems, you can use the command line to build and run the examples included in the Ignite distribution.\n \n === Prerequisites\n-The following packages should be installed:\n-- C++ compiler\n-- libssl\n-- autotools\n-- automake\n-- libtool\n+include::includes/cpp-linux-build-prerequisites.adoc[]\n \n === Building C++ Ignite\n \n-. Download and unzip the Ignite binary release into a directory. We'll refer to this as `{IGNITE_HOME}`.\n-. `cd {IGNITE_HOME}/platforms/cpp`\n-. `libtoolize && aclocal && autoheader && automake --add-missing && autoreconf`\n-. `./configure`\n-. `make`\n-\n-=== Running the Thick Client Example\n-\n-. `cd {IGNITE_HOME}/platforms/cpp/examples`\n-. `libtoolize && aclocal && autoheader && automake --add-missing && autoreconf`\n-. `./configure`\n-. `cd put-get-example`\n-. `make`\n-. `./ignite-put-get-example`\n-\n+- Download and unzip the Ignite binary release into a directory. We'll refer to this as `{IGNITE_HOME}`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2eaccb626717506e751d79a1d445b520219c2abc"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzg5Njc3MA==", "bodyText": "\"Create a build directory for CMake\"", "url": "https://github.com/apache/ignite/pull/8269#discussion_r493896770", "createdAt": "2020-09-23T21:09:21Z", "author": {"login": "dmagda"}, "path": "docs/_docs/quick-start/cpp.adoc", "diffHunk": "@@ -51,30 +44,62 @@ For information about the {cpp} thin client, see link:thin-clients/cpp-thin-clie\n On unix systems, you can use the command line to build and run the examples included in the Ignite distribution.\n \n === Prerequisites\n-The following packages should be installed:\n-- C++ compiler\n-- libssl\n-- autotools\n-- automake\n-- libtool\n+include::includes/cpp-linux-build-prerequisites.adoc[]\n \n === Building C++ Ignite\n \n-. Download and unzip the Ignite binary release into a directory. We'll refer to this as `{IGNITE_HOME}`.\n-. `cd {IGNITE_HOME}/platforms/cpp`\n-. `libtoolize && aclocal && autoheader && automake --add-missing && autoreconf`\n-. `./configure`\n-. `make`\n-\n-=== Running the Thick Client Example\n-\n-. `cd {IGNITE_HOME}/platforms/cpp/examples`\n-. `libtoolize && aclocal && autoheader && automake --add-missing && autoreconf`\n-. `./configure`\n-. `cd put-get-example`\n-. `make`\n-. `./ignite-put-get-example`\n-\n+- Download and unzip the Ignite binary release into a directory. We'll refer to this as `{IGNITE_HOME}`.\n+- Create build directory for cmake. We'll refer to this as `{CPP_BUILD_DIR}`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2eaccb626717506e751d79a1d445b520219c2abc"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzg5Nzg3MQ==", "bodyText": "\"Use the commands below to build and install Ignite C++\" - or you can use a shorter version. The point is that I would say that the reader needs to \"use the commands\" to do X.", "url": "https://github.com/apache/ignite/pull/8269#discussion_r493897871", "createdAt": "2020-09-23T21:11:27Z", "author": {"login": "dmagda"}, "path": "docs/_docs/quick-start/cpp.adoc", "diffHunk": "@@ -51,30 +44,62 @@ For information about the {cpp} thin client, see link:thin-clients/cpp-thin-clie\n On unix systems, you can use the command line to build and run the examples included in the Ignite distribution.\n \n === Prerequisites\n-The following packages should be installed:\n-- C++ compiler\n-- libssl\n-- autotools\n-- automake\n-- libtool\n+include::includes/cpp-linux-build-prerequisites.adoc[]\n \n === Building C++ Ignite\n \n-. Download and unzip the Ignite binary release into a directory. We'll refer to this as `{IGNITE_HOME}`.\n-. `cd {IGNITE_HOME}/platforms/cpp`\n-. `libtoolize && aclocal && autoheader && automake --add-missing && autoreconf`\n-. `./configure`\n-. `make`\n-\n-=== Running the Thick Client Example\n-\n-. `cd {IGNITE_HOME}/platforms/cpp/examples`\n-. `libtoolize && aclocal && autoheader && automake --add-missing && autoreconf`\n-. `./configure`\n-. `cd put-get-example`\n-. `make`\n-. `./ignite-put-get-example`\n-\n+- Download and unzip the Ignite binary release into a directory. We'll refer to this as `{IGNITE_HOME}`.\n+- Create build directory for cmake. We'll refer to this as `{CPP_BUILD_DIR}`\n+- Do the folowing:", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2eaccb626717506e751d79a1d445b520219c2abc"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5Mzg5ODI0Mw==", "bodyText": "Same feedback as above, you need to put articles in some places. Just adjust the way you would adjust the instructions above.", "url": "https://github.com/apache/ignite/pull/8269#discussion_r493898243", "createdAt": "2020-09-23T21:12:08Z", "author": {"login": "dmagda"}, "path": "docs/_docs/quick-start/cpp.adoc", "diffHunk": "@@ -51,30 +44,62 @@ For information about the {cpp} thin client, see link:thin-clients/cpp-thin-clie\n On unix systems, you can use the command line to build and run the examples included in the Ignite distribution.\n \n === Prerequisites\n-The following packages should be installed:\n-- C++ compiler\n-- libssl\n-- autotools\n-- automake\n-- libtool\n+include::includes/cpp-linux-build-prerequisites.adoc[]\n \n === Building C++ Ignite\n \n-. Download and unzip the Ignite binary release into a directory. We'll refer to this as `{IGNITE_HOME}`.\n-. `cd {IGNITE_HOME}/platforms/cpp`\n-. `libtoolize && aclocal && autoheader && automake --add-missing && autoreconf`\n-. `./configure`\n-. `make`\n-\n-=== Running the Thick Client Example\n-\n-. `cd {IGNITE_HOME}/platforms/cpp/examples`\n-. `libtoolize && aclocal && autoheader && automake --add-missing && autoreconf`\n-. `./configure`\n-. `cd put-get-example`\n-. `make`\n-. `./ignite-put-get-example`\n-\n+- Download and unzip the Ignite binary release into a directory. We'll refer to this as `{IGNITE_HOME}`.\n+- Create build directory for cmake. We'll refer to this as `{CPP_BUILD_DIR}`\n+- Do the folowing:\n+\n+[tabs]\n+--\n+tab:Ubuntu[]\n+[source,bash,subs=\"attributes,specialchars\"]\n+----\n+cd ${CPP_BUILD_DIR}\n+cmake -DCMAKE_BUILD_TYPE=Release -DWITH_ODBC=ON -DWITH_THIN_CLIENT=ON ${IGNITE_HOME}/platforms/cpp \n+make\n+sudo make install\n+----\n+\n+tab:CentOS/RHEL[]\n+[source,shell,subs=\"attributes,specialchars\"]\n+----\n+cd ${CPP_BUILD_DIR}\n+cmake3 -DCMAKE_BUILD_TYPE=Release -DWITH_ODBC=ON -DWITH_THIN_CLIENT=ON ${IGNITE_HOME}/platforms/cpp \n+make \n+sudo make install\n+----\n+\n+--\n+\n+\n+=== Building and running the Thick Client Example\n+- Create build directory for cmake. We'll refer to this as `{CPP_EXAMPLES_BUILD_DIR}`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2eaccb626717506e751d79a1d445b520219c2abc"}, "originalPosition": 73}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "44e48d316c8de33688ee46dcde4222b7cfd01834", "author": {"user": {"login": "ivandasch", "name": "Ivan Daschinskiy"}}, "url": "https://github.com/apache/ignite/commit/44e48d316c8de33688ee46dcde4222b7cfd01834", "committedDate": "2020-09-24T14:32:31Z", "message": "IGNITE-13459 Review fixes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "debbb9f6db2cc3c9884f31df0da12ee949c69371", "author": {"user": {"login": "ivandasch", "name": "Ivan Daschinskiy"}}, "url": "https://github.com/apache/ignite/commit/debbb9f6db2cc3c9884f31df0da12ee949c69371", "committedDate": "2020-09-24T14:33:55Z", "message": "IGNITE-13459 Review fixes"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3150, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}