{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkyOTQ5OTQ4", "number": 8280, "title": "KILL commands docs added.", "bodyText": "Thank you for submitting the pull request to the Apache Ignite.\nIn order to streamline the review of the contribution\nwe ask you to ensure the following steps have been taken:\nThe Contribution Checklist\n\n There is a single JIRA ticket related to the pull request.\n The web-link to the pull request is attached to the JIRA ticket.\n The JIRA ticket has the Patch Available state.\n The pull request body describes changes that have been made.\nThe description explains WHAT and WHY was made instead of HOW.\n The pull request title is treated as the final commit message.\nThe following pattern must be used: IGNITE-XXXX Change summary where XXXX - number of JIRA issue.\n A reviewer has been mentioned through the JIRA comments\n(see the Maintainers list)\n The pull request has been checked by the Teamcity Bot and\nthe green visa attached to the JIRA ticket (see TC.Bot: Check PR)\n\nNotes\n\nHow to Contribute\nCoding abbreviation rules\nCoding Guidelines\nApache Ignite Teamcity Bot\n\nIf you need any help, please email dev@ignite.apache.org or ask an\u0443 advice on http://asf.slack.com #ignite channel.", "createdAt": "2020-09-25T09:28:11Z", "url": "https://github.com/apache/ignite/pull/8280", "merged": true, "mergeCommit": {"oid": "78487e351a76945f167f110d8a4d112d4fcdd9c9"}, "closed": true, "closedAt": "2020-09-30T12:05:57Z", "author": {"login": "nizhikov"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdMSWoMAH2gAyNDkyOTQ5OTQ4OjJhYjQ2NTVlYWI2OGY1Y2FhNTMyNTI3ZWM0ODJlMDM2MzJhNGMwZDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdN7eOmAH2gAyNDkyOTQ5OTQ4Ojc1ZTRhZGM4OTY5ZDNiODk4MWUwN2QzODhkNTQyZWFiMzZmNWU1OWU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2ab4655eab68f5caa532527ec482e03632a4c0d4", "author": {"user": {"login": "nizhikov", "name": "Nikolay"}}, "url": "https://github.com/apache/ignite/commit/2ab4655eab68f5caa532527ec482e03632a4c0d4", "committedDate": "2020-09-25T09:27:20Z", "message": "KILL commands docs added."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk3ODk1NzI1", "url": "https://github.com/apache/ignite/pull/8280#pullrequestreview-497895725", "createdAt": "2020-09-28T21:06:03Z", "commit": {"oid": "2ab4655eab68f5caa532527ec482e03632a4c0d4"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQyMTowNjowNFrOHZPnrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOFQyMTowODowMVrOHZPrhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIzMjM2Ng==", "bodyText": "Could you please wrap this command example (and all others down below) up with the ascii [tabs] tag? Where the first tab shows the snipped for Unix systems (control.sh) while the second is dedicated for Windows users (control.bat)?\nHere is an example:\nhttps://github.com/apache/ignite/blame/IGNITE-7595/docs/_docs/includes/starting-node.adoc#L10", "url": "https://github.com/apache/ignite/pull/8280#discussion_r496232366", "createdAt": "2020-09-28T21:06:04Z", "author": {"login": "dmagda"}, "path": "docs/_docs/sql-reference/operational-commands.adoc", "diffHunk": "@@ -113,3 +113,120 @@ After executing the above command and *closing the JDBC connection*, all data wi\n image::images/set-streaming.png[]\n \n \n+== KILL QUERY\n+\n+The `KILL QUERY` command allows you to cancel a running query.\n+\n+[source,sql]\n+----\n+KILL QUERY {ASYNC} '<query_id>'\n+----\n+\n+=== Description\n+`ASYNC` is an optional parameter which returns control immediately without waiting for the cancellation to finish, and `query_id` can be retrieved via the `SQL_QUERIES` view.\n+\n+When a query cancelled via the `KILL` command, all parts of the query running on all other nodes are cancelled.\n+\n+This command available via JMX and CMD, also:\n+\n+- `QueryMXBean#cancelSQL`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ab4655eab68f5caa532527ec482e03632a4c0d4"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIzMjYxNQ==", "bodyText": "I would add a paragraph saying how to find the \"query_id\" parameter.", "url": "https://github.com/apache/ignite/pull/8280#discussion_r496232615", "createdAt": "2020-09-28T21:06:34Z", "author": {"login": "dmagda"}, "path": "docs/_docs/sql-reference/operational-commands.adoc", "diffHunk": "@@ -113,3 +113,120 @@ After executing the above command and *closing the JDBC connection*, all data wi\n image::images/set-streaming.png[]\n \n \n+== KILL QUERY\n+\n+The `KILL QUERY` command allows you to cancel a running query.\n+\n+[source,sql]\n+----\n+KILL QUERY {ASYNC} '<query_id>'\n+----\n+\n+=== Description\n+`ASYNC` is an optional parameter which returns control immediately without waiting for the cancellation to finish, and `query_id` can be retrieved via the `SQL_QUERIES` view.\n+\n+When a query cancelled via the `KILL` command, all parts of the query running on all other nodes are cancelled.\n+\n+This command available via JMX and CMD, also:\n+\n+- `QueryMXBean#cancelSQL`\n+- `./control.sh --kill SQL query_id`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ab4655eab68f5caa532527ec482e03632a4c0d4"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIzMjg1Mg==", "bodyText": "I would add an explanation on how to find the \"xid\" that needs to be passed into this command.", "url": "https://github.com/apache/ignite/pull/8280#discussion_r496232852", "createdAt": "2020-09-28T21:07:02Z", "author": {"login": "dmagda"}, "path": "docs/_docs/sql-reference/operational-commands.adoc", "diffHunk": "@@ -113,3 +113,120 @@ After executing the above command and *closing the JDBC connection*, all data wi\n image::images/set-streaming.png[]\n \n \n+== KILL QUERY\n+\n+The `KILL QUERY` command allows you to cancel a running query.\n+\n+[source,sql]\n+----\n+KILL QUERY {ASYNC} '<query_id>'\n+----\n+\n+=== Description\n+`ASYNC` is an optional parameter which returns control immediately without waiting for the cancellation to finish, and `query_id` can be retrieved via the `SQL_QUERIES` view.\n+\n+When a query cancelled via the `KILL` command, all parts of the query running on all other nodes are cancelled.\n+\n+This command available via JMX and CMD, also:\n+\n+- `QueryMXBean#cancelSQL`\n+- `./control.sh --kill SQL query_id`\n+\n+== KILL TRANSACTION\n+\n+The `KILL TRANSACTION` command allows you to cancel a running transaction.\n+\n+[source,sql]\n+----\n+KILL TRANSACTION 'xid'\n+----\n+\n+=== Description\n+`xid` of the transaction can be retrived via the `TRANSACTIONS` view.\n+\n+This command available via JMX and CMD, also:\n+\n+- `TransactionMXBean#cancel`\n+- `./control.sh --kill TRANSACTION xid`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ab4655eab68f5caa532527ec482e03632a4c0d4"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjIzMzM0OQ==", "bodyText": "Same here. Let's explain how to find the \"session_id\" and the \"routine_id\" for the continuous query-specific command below.", "url": "https://github.com/apache/ignite/pull/8280#discussion_r496233349", "createdAt": "2020-09-28T21:08:01Z", "author": {"login": "dmagda"}, "path": "docs/_docs/sql-reference/operational-commands.adoc", "diffHunk": "@@ -113,3 +113,120 @@ After executing the above command and *closing the JDBC connection*, all data wi\n image::images/set-streaming.png[]\n \n \n+== KILL QUERY\n+\n+The `KILL QUERY` command allows you to cancel a running query.\n+\n+[source,sql]\n+----\n+KILL QUERY {ASYNC} '<query_id>'\n+----\n+\n+=== Description\n+`ASYNC` is an optional parameter which returns control immediately without waiting for the cancellation to finish, and `query_id` can be retrieved via the `SQL_QUERIES` view.\n+\n+When a query cancelled via the `KILL` command, all parts of the query running on all other nodes are cancelled.\n+\n+This command available via JMX and CMD, also:\n+\n+- `QueryMXBean#cancelSQL`\n+- `./control.sh --kill SQL query_id`\n+\n+== KILL TRANSACTION\n+\n+The `KILL TRANSACTION` command allows you to cancel a running transaction.\n+\n+[source,sql]\n+----\n+KILL TRANSACTION 'xid'\n+----\n+\n+=== Description\n+`xid` of the transaction can be retrived via the `TRANSACTIONS` view.\n+\n+This command available via JMX and CMD, also:\n+\n+- `TransactionMXBean#cancel`\n+- `./control.sh --kill TRANSACTION xid`\n+\n+== KILL SCAN\n+\n+The `KILL SCAN` command allows you to cancel a running scan query.\n+\n+[source,sql]\n+----\n+KILL SCAN 'origin_node_id' 'cache_name' query_id\n+----\n+\n+=== Description\n+`origin_node_id`, `cache_name`, `query_id` parameters can be retrived via the `SCAN_QUERIES`.\n+\n+This command available via JMX and CMD, also:\n+\n+- `QueryMXBean#cancelScan`\n+- `./control.sh --kill SCAN origin_node_id cache_name query_id`\n+\n+=== Example\n+\n+[source,sql]\n+----\n+KILL SCAN '6fa749ee-7cf8-4635-be10-36a1c75267a7_54321' 'cache-name' 1\n+----\n+\n+== KILL COMPUTE\n+\n+The `KILL COMPUTE` command allows you to cancel a running compute.\n+\n+[source,sql]\n+----\n+KILL COMPUTE 'session_id'\n+----\n+\n+=== Description\n+`session_id` parameter can be retrived via the `TASKS` or `JOBS` view.\n+\n+This command available via JMX and CMD, also:\n+\n+- `ComputeMXBean#cancel`\n+- `./control.sh --kill COMPUTE session_id`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2ab4655eab68f5caa532527ec482e03632a4c0d4"}, "originalPosition": 79}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1fd1095354bb7deb8755020a8fd4e1957354a41", "author": {"user": {"login": "nizhikov", "name": "Nikolay"}}, "url": "https://github.com/apache/ignite/commit/b1fd1095354bb7deb8755020a8fd4e1957354a41", "committedDate": "2020-09-30T10:11:28Z", "message": "KILL commands docs added."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75e4adc8969d3b8981e07d388d542eab36f5e59e", "author": {"user": {"login": "nizhikov", "name": "Nikolay"}}, "url": "https://github.com/apache/ignite/commit/75e4adc8969d3b8981e07d388d542eab36f5e59e", "committedDate": "2020-09-30T11:55:40Z", "message": "Code review fixes."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3164, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}