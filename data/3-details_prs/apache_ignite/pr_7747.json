{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA5NjcwNDcz", "number": 7747, "title": "IGNITE-12925 Fixes flaky tests for continuous query metrics.", "bodyText": "", "createdAt": "2020-04-27T18:30:14Z", "url": "https://github.com/apache/ignite/pull/7747", "merged": true, "mergeCommit": {"oid": "50776f58a14486f5e2e8d2052515b4557a99453a"}, "closed": true, "closedAt": "2020-04-29T12:22:09Z", "author": {"login": "ololo3000"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcbzlyOAH2gAyNDA5NjcwNDczOjViNDcxMGM2MjExOTU2ZjFlZWMxNmEyZDY2ODVmOTI1MDM5NzQyODM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABccVs3_gFqTQwMjUzMjMwMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5b4710c6211956f1eec16a2d6685f92503974283", "author": {"user": {"login": "ololo3000", "name": "Mikhail Petrov "}}, "url": "https://github.com/apache/ignite/commit/5b4710c6211956f1eec16a2d6685f92503974283", "committedDate": "2020-04-27T18:28:28Z", "message": "IGNITE-12925 Fixes SystemViewSelfTest#testContinuousQuery flaky test."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "35e2bb50a4fa930730df45d542f3c2ef28b9267a", "author": {"user": {"login": "ololo3000", "name": "Mikhail Petrov "}}, "url": "https://github.com/apache/ignite/commit/35e2bb50a4fa930730df45d542f3c2ef28b9267a", "committedDate": "2020-04-27T18:53:15Z", "message": "IGNITE-12925 Fixes minor issues."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxMjQzNzgy", "url": "https://github.com/apache/ignite/pull/7747#pullrequestreview-401243782", "createdAt": "2020-04-27T19:05:16Z", "commit": {"oid": "35e2bb50a4fa930730df45d542f3c2ef28b9267a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxOTowNToxNlrOGMzLHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxOTowNToxNlrOGMzLHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjA3NDUyNQ==", "bodyText": "I suggesting fix all similar tests:\nSystemViewSelfTest#testContinuousQuery\nJmxExporterSpiTest#testContinuousQuery\nSqlViewExporterSpiTest#testContinuousQuery", "url": "https://github.com/apache/ignite/pull/7747#discussion_r416074525", "createdAt": "2020-04-27T19:05:16Z", "author": {"login": "NSAmelchev"}, "path": "modules/core/src/test/java/org/apache/ignite/internal/metric/SystemViewSelfTest.java", "diffHunk": "@@ -526,7 +526,7 @@ public void testContinuousQuery() throws Exception {\n             }\n \n             assertEquals(0, origQrys.size());\n-            assertEquals(0, remoteQrys.size());\n+            assertTrue(waitForCondition(() -> remoteQrys.size() == 0, getTestTimeout()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "35e2bb50a4fa930730df45d542f3c2ef28b9267a"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98e3189717c1945bcc2ca1268c1adf5bee14dbeb", "author": {"user": {"login": "ololo3000", "name": "Mikhail Petrov "}}, "url": "https://github.com/apache/ignite/commit/98e3189717c1945bcc2ca1268c1adf5bee14dbeb", "committedDate": "2020-04-27T19:30:10Z", "message": "IGNITE-12925 Fixes minor issues."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxMjc1NTI0", "url": "https://github.com/apache/ignite/pull/7747#pullrequestreview-401275524", "createdAt": "2020-04-27T19:50:46Z", "commit": {"oid": "98e3189717c1945bcc2ca1268c1adf5bee14dbeb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyNTMwOTI5", "url": "https://github.com/apache/ignite/pull/7747#pullrequestreview-402530929", "createdAt": "2020-04-29T10:10:48Z", "commit": {"oid": "98e3189717c1945bcc2ca1268c1adf5bee14dbeb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyNTMyMzAz", "url": "https://github.com/apache/ignite/pull/7747#pullrequestreview-402532303", "createdAt": "2020-04-29T10:12:58Z", "commit": {"oid": "98e3189717c1945bcc2ca1268c1adf5bee14dbeb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMDoxMjo1OVrOGN4TEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMDoxMjo1OVrOGN4TEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzIwNzA1OQ==", "bodyText": "Should we use the same waitForCondition as well?", "url": "https://github.com/apache/ignite/pull/7747#discussion_r417207059", "createdAt": "2020-04-29T10:12:59Z", "author": {"login": "Mmuzaf"}, "path": "modules/indexing/src/test/java/org/apache/ignite/internal/processors/cache/metric/SqlViewExporterSpiTest.java", "diffHunk": "@@ -560,7 +560,8 @@ public void testContinuousQuery() throws Exception {\n         }\n \n         assertTrue(execute(ignite0, \"SELECT * FROM SYS.CONTINUOUS_QUERIES\").isEmpty());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "98e3189717c1945bcc2ca1268c1adf5bee14dbeb"}, "originalPosition": 3}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2605, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}