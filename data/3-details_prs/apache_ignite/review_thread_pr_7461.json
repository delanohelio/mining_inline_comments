{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3OTkwOTk5", "number": 7461, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQwNzo1NjoxOFrODhytDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxMDoyOToyNVrODtC24Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM2NzYwMzMyOnYy", "diffSide": "RIGHT", "path": "modules/core/src/main/java/org/apache/ignite/internal/processors/query/schema/SchemaIndexCacheVisitorImpl.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQwNzo1NjoxOFrOFsuU7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQwNzo1NjoxOFrOFsuU7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjQ0MDY4NQ==", "bodyText": "Before the change we were waiting complete compound future, now we can skip it. It looks strange.", "url": "https://github.com/apache/ignite/pull/7461#discussion_r382440685", "createdAt": "2020-02-21T07:56:18Z", "author": {"login": "ygerzhedovich"}, "path": "modules/core/src/main/java/org/apache/ignite/internal/processors/query/schema/SchemaIndexCacheVisitorImpl.java", "diffHunk": "@@ -157,8 +171,55 @@ public SchemaIndexCacheVisitorImpl(GridCacheContext cctx, SchemaIndexCacheFilter\n             throw e;\n         }\n \n-        if (fut != null)\n-            fut.get();\n+        if (fut != null && stat != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "05da1511f529e282ad26eaa1571134ef94328526"}, "originalPosition": 73}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4NTU5MzI5OnYy", "diffSide": "RIGHT", "path": "modules/core/src/main/java/org/apache/ignite/internal/processors/query/schema/SchemaIndexCachePartitionWorker.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxMDoyOToyNVrOF-PTNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxMjo0NjowOVrOF-T_tQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDgwNjcwOA==", "bodyText": "Looks like all of these 3 params can be squashed into single closure right here.", "url": "https://github.com/apache/ignite/pull/7461#discussion_r400806708", "createdAt": "2020-03-31T10:29:25Z", "author": {"login": "AMashenkov"}, "path": "modules/core/src/main/java/org/apache/ignite/internal/processors/query/schema/SchemaIndexCachePartitionWorker.java", "diffHunk": "@@ -227,7 +237,7 @@ private void processKey(KeyCacheObject key) throws IgniteCheckedException {\n                 GridCacheEntryEx entry = cctx.cache().entryEx(key);\n \n                 try {\n-                    entry.updateIndex(rowFilter, clo);\n+                    entry.updateIndex(rowFilter, clo, indexCacheStat);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ad8238acfc5d7b029d5292adfbc73ad1519edd1"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDg4MzYzNw==", "bodyText": "Done", "url": "https://github.com/apache/ignite/pull/7461#discussion_r400883637", "createdAt": "2020-03-31T12:46:09Z", "author": {"login": "antonovsergey93"}, "path": "modules/core/src/main/java/org/apache/ignite/internal/processors/query/schema/SchemaIndexCachePartitionWorker.java", "diffHunk": "@@ -227,7 +237,7 @@ private void processKey(KeyCacheObject key) throws IgniteCheckedException {\n                 GridCacheEntryEx entry = cctx.cache().entryEx(key);\n \n                 try {\n-                    entry.updateIndex(rowFilter, clo);\n+                    entry.updateIndex(rowFilter, clo, indexCacheStat);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDgwNjcwOA=="}, "originalCommit": {"oid": "8ad8238acfc5d7b029d5292adfbc73ad1519edd1"}, "originalPosition": 70}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2559, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}