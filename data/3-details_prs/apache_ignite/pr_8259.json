{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwMjA0Mjc0", "number": 8259, "title": "IGNITE-13434 add assertion test", "bodyText": "Thank you for submitting the pull request to the Apache Ignite.\nIn order to streamline the review of the contribution\nwe ask you to ensure the following steps have been taken:\nThe Contribution Checklist\n\n There is a single JIRA ticket related to the pull request.\n The web-link to the pull request is attached to the JIRA ticket.\n The JIRA ticket has the Patch Available state.\n The pull request body describes changes that have been made.\nThe description explains WHAT and WHY was made instead of HOW.\n The pull request title is treated as the final commit message.\nThe following pattern must be used: IGNITE-XXXX Change summary where XXXX - number of JIRA issue.\n A reviewer has been mentioned through the JIRA comments\n(see the Maintainers list)\n The pull request has been checked by the Teamcity Bot and\nthe green visa attached to the JIRA ticket (see TC.Bot: Check PR)\n\nNotes\n\nHow to Contribute\nCoding abbreviation rules\nCoding Guidelines\nApache Ignite Teamcity Bot\n\nIf you need any help, please email dev@ignite.apache.org or ask an\u0443 advice on http://asf.slack.com #ignite channel.", "createdAt": "2020-09-21T10:46:45Z", "url": "https://github.com/apache/ignite/pull/8259", "merged": true, "mergeCommit": {"oid": "cb0b2475249c419bc720ca1d7c4b0c2b06565965"}, "closed": true, "closedAt": "2020-09-24T08:20:45Z", "author": {"login": "oleg-ostanin"}, "timelineItems": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdLBCTCgH2gAyNDkwMjA0Mjc0OjE5NzAxNzBiMjNkMzI5MmNlNDFiNDYyY2M4NWQ5YTgzZGM4NDFjM2Y=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdL7m2RAH2gAyNDkwMjA0Mjc0OmE0MWU0ZDRhM2ZmZTcxOWUxYzkwNDAwZTM1YmM5ODEyOGJmOGVhOWQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1970170b23d3292ce41b462cc85d9a83dc841c3f", "author": {"user": {"login": "oleg-ostanin", "name": null}}, "url": "https://github.com/apache/ignite/commit/1970170b23d3292ce41b462cc85d9a83dc841c3f", "committedDate": "2020-09-21T10:42:49Z", "message": "IGNITE-13434 add assertion test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4abf8332d7cea5f1b18e4b44986a95c923f5053c", "author": {"user": {"login": "oleg-ostanin", "name": null}}, "url": "https://github.com/apache/ignite/commit/4abf8332d7cea5f1b18e4b44986a95c923f5053c", "committedDate": "2020-09-21T13:58:58Z", "message": "IGNITE-13434 add timeout check"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzMTgwMzQx", "url": "https://github.com/apache/ignite/pull/8259#pullrequestreview-493180341", "createdAt": "2020-09-22T07:15:03Z", "commit": {"oid": "4abf8332d7cea5f1b18e4b44986a95c923f5053c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwNzoxNTowM1rOHVs9SA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODowMzo1OFrOHVuiMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjUxODcyOA==", "bodyText": "Please rename it as test suite with this name already exist. SmokeSelfTest for example.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492518728", "createdAt": "2020-09-22T07:15:03Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,73 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that services work\n+\"\"\"\n+\n+import datetime\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite import IgniteService\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration.discovery import from_ignite_cluster\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+\n+# pylint: disable=W0223\n+class SmokeServicesTest(IgniteTest):", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4abf8332d7cea5f1b18e4b44986a95c923f5053c"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjUzNTAwMQ==", "bodyText": "You can make it server and avoid using additional node.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492535001", "createdAt": "2020-09-22T07:47:13Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,73 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that services work\n+\"\"\"\n+\n+import datetime\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite import IgniteService\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration.discovery import from_ignite_cluster\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+\n+# pylint: disable=W0223\n+class SmokeServicesTest(IgniteTest):\n+    \"\"\"\n+    Tests services implementations\n+    \"\"\"\n+\n+    @cluster(num_nodes=2)\n+    @ignite_versions(str(DEV_BRANCH))\n+    def test_ignite_app_start_stop(self, ignite_version):\n+        \"\"\"\n+        Test to make sure Java assertions are converted to python exceptions\n+        \"\"\"\n+        server_configuration = IgniteConfiguration(version=IgniteVersion(ignite_version))\n+\n+        ignite = IgniteService(self.test_context, server_configuration, num_nodes=1)\n+\n+        client_configuration = server_configuration._replace(client_mode=True,\n+                                                             discovery_spi=from_ignite_cluster(ignite))\n+        app = IgniteApplicationService(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4abf8332d7cea5f1b18e4b44986a95c923f5053c"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjUzNzg4Mg==", "bodyText": "You don't need stop there, as exception is thrown due to start(). So move stop() to finally block.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492537882", "createdAt": "2020-09-22T07:52:22Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,73 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that services work\n+\"\"\"\n+\n+import datetime\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite import IgniteService\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration.discovery import from_ignite_cluster\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+\n+# pylint: disable=W0223\n+class SmokeServicesTest(IgniteTest):\n+    \"\"\"\n+    Tests services implementations\n+    \"\"\"\n+\n+    @cluster(num_nodes=2)\n+    @ignite_versions(str(DEV_BRANCH))\n+    def test_ignite_app_start_stop(self, ignite_version):\n+        \"\"\"\n+        Test to make sure Java assertions are converted to python exceptions\n+        \"\"\"\n+        server_configuration = IgniteConfiguration(version=IgniteVersion(ignite_version))\n+\n+        ignite = IgniteService(self.test_context, server_configuration, num_nodes=1)\n+\n+        client_configuration = server_configuration._replace(client_mode=True,\n+                                                             discovery_spi=from_ignite_cluster(ignite))\n+        app = IgniteApplicationService(\n+            self.test_context,\n+            client_configuration,\n+            java_class_name=\"org.apache.ignite.internal.ducktest.tests.smoke_test.AssertionApplication\")\n+\n+        ignite.start()\n+\n+        ts = int(round(datetime.datetime.now().timestamp() * 1000))\n+\n+        try:\n+            app.start()\n+            app.stop()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4abf8332d7cea5f1b18e4b44986a95c923f5053c"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU0MzcxOQ==", "bodyText": "Checking exception string with assertion is enough. Please remove check timestamps.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492543719", "createdAt": "2020-09-22T08:02:20Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,73 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that services work\n+\"\"\"\n+\n+import datetime\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite import IgniteService\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration.discovery import from_ignite_cluster\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+\n+# pylint: disable=W0223\n+class SmokeServicesTest(IgniteTest):\n+    \"\"\"\n+    Tests services implementations\n+    \"\"\"\n+\n+    @cluster(num_nodes=2)\n+    @ignite_versions(str(DEV_BRANCH))\n+    def test_ignite_app_start_stop(self, ignite_version):\n+        \"\"\"\n+        Test to make sure Java assertions are converted to python exceptions\n+        \"\"\"\n+        server_configuration = IgniteConfiguration(version=IgniteVersion(ignite_version))\n+\n+        ignite = IgniteService(self.test_context, server_configuration, num_nodes=1)\n+\n+        client_configuration = server_configuration._replace(client_mode=True,\n+                                                             discovery_spi=from_ignite_cluster(ignite))\n+        app = IgniteApplicationService(\n+            self.test_context,\n+            client_configuration,\n+            java_class_name=\"org.apache.ignite.internal.ducktest.tests.smoke_test.AssertionApplication\")\n+\n+        ignite.start()\n+\n+        ts = int(round(datetime.datetime.now().timestamp() * 1000))\n+\n+        try:\n+            app.start()\n+            app.stop()\n+        except Exception as e:\n+            assert str(e) == \"Java application execution failed. java.lang.AssertionError\"\n+\n+            \"\"\"\n+            Check the test timeout is not exceeded\n+            \"\"\"\n+            assert int(round(datetime.datetime.now().timestamp() * 1000)) - ts < IgniteTest.timeout()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4abf8332d7cea5f1b18e4b44986a95c923f5053c"}, "originalPosition": 69}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU0NDU2MA==", "bodyText": "Add markInitialized() after assertion, in case of \"-ea\" is disabled ducktape hungs while waiting service.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492544560", "createdAt": "2020-09-22T08:03:58Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/src/main/java/org/apache/ignite/internal/ducktest/tests/smoke_test/AssertionApplication.java", "diffHunk": "@@ -0,0 +1,35 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.ignite.internal.ducktest.tests.smoke_test;\n+\n+import com.fasterxml.jackson.databind.JsonNode;\n+import java.util.UUID;\n+import org.apache.ignite.IgniteCache;\n+import org.apache.ignite.internal.IgniteInterruptedCheckedException;\n+import org.apache.ignite.internal.ducktest.utils.IgniteAwareApplication;\n+import org.apache.ignite.internal.util.typedef.internal.U;\n+\n+/**\n+ * Simple application that used in smoke tests\n+ */\n+public class AssertionApplication extends IgniteAwareApplication {\n+    /** {@inheritDoc} */\n+    @Override public void run(JsonNode jsonNode) {\n+        assert false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4abf8332d7cea5f1b18e4b44986a95c923f5053c"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "11749d51aa2fafdff32afdd0d34bb4c8d14bc0bf", "author": {"user": {"login": "oleg-ostanin", "name": null}}, "url": "https://github.com/apache/ignite/commit/11749d51aa2fafdff32afdd0d34bb4c8d14bc0bf", "committedDate": "2020-09-22T08:47:50Z", "message": "IGNITE-13434 fix review issues"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzMjQ5MjAx", "url": "https://github.com/apache/ignite/pull/8259#pullrequestreview-493249201", "createdAt": "2020-09-22T08:49:59Z", "commit": {"oid": "11749d51aa2fafdff32afdd0d34bb4c8d14bc0bf"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODo1MDowMFrOHVwQcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODo1MDowMFrOHVwQcg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU3Mjc4Ng==", "bodyText": "You don't need IgniteService at all.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492572786", "createdAt": "2020-09-22T08:50:00Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,59 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that services work\n+\"\"\"\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite import IgniteService\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+# pylint: disable=W0223\n+class SmokeSelfTest(IgniteTest):\n+    \"\"\"\n+    Tests services implementations\n+    \"\"\"\n+\n+    @cluster(num_nodes=2)\n+    @ignite_versions(str(DEV_BRANCH))\n+    def test_ignite_app_start_stop(self, ignite_version):\n+        \"\"\"\n+        Test to make sure Java assertions are converted to python exceptions\n+        \"\"\"\n+        server_configuration = IgniteConfiguration(version=IgniteVersion(ignite_version))\n+\n+        ignite = IgniteService(self.test_context, server_configuration, num_nodes=1)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11749d51aa2fafdff32afdd0d34bb4c8d14bc0bf"}, "originalPosition": 43}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzMjQ5Mzc0", "url": "https://github.com/apache/ignite/pull/8259#pullrequestreview-493249374", "createdAt": "2020-09-22T08:50:12Z", "commit": {"oid": "11749d51aa2fafdff32afdd0d34bb4c8d14bc0bf"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODo1MDoxMlrOHVwRAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODo1MDoxMlrOHVwRAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU3MjkzMA==", "bodyText": "app.stop()?", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492572930", "createdAt": "2020-09-22T08:50:12Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,59 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that services work\n+\"\"\"\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite import IgniteService\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+# pylint: disable=W0223\n+class SmokeSelfTest(IgniteTest):\n+    \"\"\"\n+    Tests services implementations\n+    \"\"\"\n+\n+    @cluster(num_nodes=2)\n+    @ignite_versions(str(DEV_BRANCH))\n+    def test_ignite_app_start_stop(self, ignite_version):\n+        \"\"\"\n+        Test to make sure Java assertions are converted to python exceptions\n+        \"\"\"\n+        server_configuration = IgniteConfiguration(version=IgniteVersion(ignite_version))\n+\n+        ignite = IgniteService(self.test_context, server_configuration, num_nodes=1)\n+\n+        app = IgniteApplicationService(\n+            self.test_context,\n+            server_configuration,\n+            java_class_name=\"org.apache.ignite.internal.ducktest.tests.smoke_test.AssertionApplication\")\n+\n+        ignite.start()\n+\n+        try:\n+            app.start()\n+        except Exception as e:\n+            assert str(e) == \"Java application execution failed. java.lang.AssertionError\"\n+        else:\n+            assert False\n+        finally:\n+            ignite.stop()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11749d51aa2fafdff32afdd0d34bb4c8d14bc0bf"}, "originalPosition": 59}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkzMjQ5NTc0", "url": "https://github.com/apache/ignite/pull/8259#pullrequestreview-493249574", "createdAt": "2020-09-22T08:50:26Z", "commit": {"oid": "11749d51aa2fafdff32afdd0d34bb4c8d14bc0bf"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODo1MDoyNlrOHVwRfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODo1MDoyNlrOHVwRfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU3MzA1Mw==", "bodyText": "remote this method", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492573053", "createdAt": "2020-09-22T08:50:26Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/tests/ignitetest/utils/ignite_test.py", "diffHunk": "@@ -40,3 +40,7 @@ def monotonic():\n             so that only the difference between the results of consecutive calls is valid.\n         \"\"\"\n         return monotonic()\n+\n+    @staticmethod", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11749d51aa2fafdff32afdd0d34bb4c8d14bc0bf"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "40ee21f13ad5a61cb24cc4dee740fa1c2004bac3", "author": {"user": {"login": "oleg-ostanin", "name": null}}, "url": "https://github.com/apache/ignite/commit/40ee21f13ad5a61cb24cc4dee740fa1c2004bac3", "committedDate": "2020-09-22T09:26:51Z", "message": "IGNITE-13434 fix review issues again"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b70ca23924ef13a2dac2a4df144257ca31ed2c4d", "author": {"user": {"login": "oleg-ostanin", "name": null}}, "url": "https://github.com/apache/ignite/commit/b70ca23924ef13a2dac2a4df144257ca31ed2c4d", "committedDate": "2020-09-22T09:43:34Z", "message": "IGNITE-13434 fix review issues again"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a7143c20027a29c422089dfec23cdb8bb4d65431", "author": {"user": {"login": "oleg-ostanin", "name": null}}, "url": "https://github.com/apache/ignite/commit/a7143c20027a29c422089dfec23cdb8bb4d65431", "committedDate": "2020-09-22T10:14:13Z", "message": "IGNITE-13434 fix review issues again"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b24cdb3fca2e1ade983aa67ce7a9a1532f31496b", "author": {"user": {"login": "oleg-ostanin", "name": null}}, "url": "https://github.com/apache/ignite/commit/b24cdb3fca2e1ade983aa67ce7a9a1532f31496b", "committedDate": "2020-09-22T10:54:09Z", "message": "IGNITE-13434 add decorator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ece730f5c097c2183175b4efaa8dae139fbd3e4", "author": {"user": {"login": "oleg-ostanin", "name": null}}, "url": "https://github.com/apache/ignite/commit/7ece730f5c097c2183175b4efaa8dae139fbd3e4", "committedDate": "2020-09-22T13:45:47Z", "message": "IGNITE-13434 add cluster import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0MTc4ODY4", "url": "https://github.com/apache/ignite/pull/8259#pullrequestreview-494178868", "createdAt": "2020-09-23T05:50:48Z", "commit": {"oid": "7ece730f5c097c2183175b4efaa8dae139fbd3e4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwNTo1MDo0OFrOHWXVUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwNTo1MDo0OFrOHWXVUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzIxMzAxMA==", "bodyText": "Please, provide docs that related to this class.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r493213010", "createdAt": "2020-09-23T05:50:48Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,53 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that ducktape works as expected\n+\"\"\"\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+# pylint: disable=W0223\n+class SmokeSelfTest(IgniteTest):\n+    \"\"\"\n+    Tests services implementations", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ece730f5c097c2183175b4efaa8dae139fbd3e4"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0MTc5MzE0", "url": "https://github.com/apache/ignite/pull/8259#pullrequestreview-494179314", "createdAt": "2020-09-23T05:51:04Z", "commit": {"oid": "7ece730f5c097c2183175b4efaa8dae139fbd3e4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwNTo1MTowNFrOHWXVsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwNTo1MTowNFrOHWXVsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzIxMzEwNQ==", "bodyText": "Please, provide docs that related to this class", "url": "https://github.com/apache/ignite/pull/8259#discussion_r493213105", "createdAt": "2020-09-23T05:51:04Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/src/main/java/org/apache/ignite/internal/ducktest/tests/smoke_test/AssertionApplication.java", "diffHunk": "@@ -0,0 +1,35 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.ignite.internal.ducktest.tests.smoke_test;\n+\n+import com.fasterxml.jackson.databind.JsonNode;\n+import org.apache.ignite.internal.ducktest.utils.IgniteAwareApplication;\n+\n+/**\n+ * Simple application that used in smoke tests", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ece730f5c097c2183175b4efaa8dae139fbd3e4"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4510fed59a80c46ef4186462402cf257e3e0dac", "author": {"user": {"login": "oleg-ostanin", "name": null}}, "url": "https://github.com/apache/ignite/commit/d4510fed59a80c46ef4186462402cf257e3e0dac", "committedDate": "2020-09-23T06:07:16Z", "message": "IGNITE-13434 fix codestyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02fce3ff9dda856e9df71def7b9c0071e0f96e27", "author": {"user": {"login": "oleg-ostanin", "name": null}}, "url": "https://github.com/apache/ignite/commit/02fce3ff9dda856e9df71def7b9c0071e0f96e27", "committedDate": "2020-09-23T09:14:56Z", "message": "IGNITE-13434 fix codestyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5fa15d8bd3c6f2df39d99bd43b2d6ddae138a773", "author": {"user": {"login": "oleg-ostanin", "name": null}}, "url": "https://github.com/apache/ignite/commit/5fa15d8bd3c6f2df39d99bd43b2d6ddae138a773", "committedDate": "2020-09-23T10:02:17Z", "message": "IGNITE-13434 add new exception"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "145e104e781602c45a8bc17443e0153cc9783827", "author": {"user": {"login": "oleg-ostanin", "name": null}}, "url": "https://github.com/apache/ignite/commit/145e104e781602c45a8bc17443e0153cc9783827", "committedDate": "2020-09-23T12:19:34Z", "message": "IGNITE-13434 add docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d89878670bb3ba6addb641e103bdc8d110bff859", "author": {"user": {"login": "oleg-ostanin", "name": null}}, "url": "https://github.com/apache/ignite/commit/d89878670bb3ba6addb641e103bdc8d110bff859", "committedDate": "2020-09-23T14:12:59Z", "message": "IGNITE-13434 fix codestyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf0148674af546e4055c1f42487ed49b72ae09a8", "author": {"user": {"login": "oleg-ostanin", "name": null}}, "url": "https://github.com/apache/ignite/commit/cf0148674af546e4055c1f42487ed49b72ae09a8", "committedDate": "2020-09-23T14:34:38Z", "message": "IGNITE-13434 fix codestyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a41e4d4a3ffe719e1c90400e35bc98128bf8ea9d", "author": {"user": {"login": "oleg-ostanin", "name": null}}, "url": "https://github.com/apache/ignite/commit/a41e4d4a3ffe719e1c90400e35bc98128bf8ea9d", "committedDate": "2020-09-24T06:57:14Z", "message": "IGNITE-13434 fix comment"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3139, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}