{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE2NjQwMzI2", "number": 8430, "title": "IGNITE-13662 : Describe soLinger setting in TCP Discovery and SSL issues.", "bodyText": "Describes soLinger setting of TcpDiscoverySpi. Notes of known SSL issues of socket deadlock in the SSL configuraton.", "createdAt": "2020-11-06T10:07:11Z", "url": "https://github.com/apache/ignite/pull/8430", "merged": true, "mergeCommit": {"oid": "6b14606f227bd11f4a876f28cc023d7358eb7788"}, "closed": true, "closedAt": "2020-11-09T11:24:53Z", "author": {"login": "Vladsz83"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZz20xgH2gAyNTE2NjQwMzI2OmYxNjM1M2FjNjYzMmQwN2QyZGM3MmZiOTU0ZTJhMjQyOWRiODkyN2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABda4JCIgFqTUyNjQ3NDUwOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f16353ac6632d07d2dc72fb954e2a2429db8927c", "author": {"user": {"login": "Vladsz83", "name": "Vladimir Steshin"}}, "url": "https://github.com/apache/ignite/commit/f16353ac6632d07d2dc72fb954e2a2429db8927c", "committedDate": "2020-11-06T09:50:23Z", "message": "+ SSL issues note."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c4b9f816074e382c754548764f410192c5980802", "author": {"user": {"login": "Vladsz83", "name": "Vladimir Steshin"}}, "url": "https://github.com/apache/ignite/commit/c4b9f816074e382c754548764f410192c5980802", "committedDate": "2020-11-06T09:50:27Z", "message": "Merge branch 'master' into IGNITE-13662"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "085950338b4a91d6731d1142059635ae3b79f1c6", "author": {"user": {"login": "Vladsz83", "name": "Vladimir Steshin"}}, "url": "https://github.com/apache/ignite/commit/085950338b4a91d6731d1142059635ae3b79f1c6", "committedDate": "2020-11-06T09:53:52Z", "message": "doc fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI2NDc0NTA5", "url": "https://github.com/apache/ignite/pull/8430#pullrequestreview-526474509", "createdAt": "2020-11-09T17:12:43Z", "commit": {"oid": "085950338b4a91d6731d1142059635ae3b79f1c6"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxNzoxMjo0M1rOHv5Bag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxNzoyMzo0NVrOHv5eAw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTk3OTM3MA==", "bodyText": "I guess the SSL issue is not the only reason of why developers might want to tweak this flag. How about this description? It's enough to mention the SSL issue on the SSL page only and leave the description in this place generic.\nSpecifies a linger-on-close timeout. This option disables/enables immediate return from a close() of a TCP Socket. Setting the timeout to 0 closes the socket immediately. See the Javadoc for more details.", "url": "https://github.com/apache/ignite/pull/8430#discussion_r519979370", "createdAt": "2020-11-09T17:12:43Z", "author": {"login": "dmagda"}, "path": "docs/_docs/clustering/network-configuration.adoc", "diffHunk": "@@ -56,6 +56,7 @@ You can find the complete list of properties in the javadoc:org.apache.ignite.sp\n | `localPort`  | The port that the node binds to. If set to a non-default value, other cluster nodes must know this port to be able to discover the node. | `47500`\n | `localPortRange`| If the `localPort` is busy, the node attempts to bind to the next port (incremented by 1) and continues this process until it finds a free port. The `localPortRange` property defines the number of ports the node will try (starting from `localPort`).\n    | `100`\n+| `soLinger`| Setting linger-on-close can help with socket deadlocks of SSL issues like JDK-8219658. But costs longer detection of node failure. | `0`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "085950338b4a91d6731d1142059635ae3b79f1c6"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTk4NjY5MQ==", "bodyText": "I would put it this way:\nConsider setting the TcpDiscovery.soLinger parameter to X to avoid SSL-related deadlocks on certain versions of JRE. Alternatively, update your JRE version to the latest one.\nAnd do the following with this text:\n\nTurn the \"SSL-related deadlock\" phrase into an external link to the JDK ticket: https://github.com/apache/ignite/tree/master/docs#links-to-external-resources\nThe callout needs to be of the \"caution\" type: https://github.com/apache/ignite/tree/master/docs#callouts", "url": "https://github.com/apache/ignite/pull/8430#discussion_r519986691", "createdAt": "2020-11-09T17:23:45Z", "author": {"login": "dmagda"}, "path": "docs/_docs/security/ssl-tls.adoc", "diffHunk": "@@ -32,6 +32,12 @@ To enable SSL/TLS for cluster nodes, configure an `SSLContext` factory in the no\n You can use the `org.apache.ignite.ssl.SslContextFactory`, which is the default factory that uses a configurable keystore to initialize the SSL context.\n //You can also implement your own `SSLContext` factory.\n \n+[NOTE]\n+====", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "085950338b4a91d6731d1142059635ae3b79f1c6"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3101, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}