{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczMjEzNDU1", "number": 8187, "title": "IGNITE-13218 fixed. importComparator added to TreeSet to provide core\u2026", "bodyText": "imports order was incorrect because if default lexicographical comparator\n\"import org.apache.ignite.spi.systemview.view.ComputeJobView.ComputeJobState;\" is less \"import org.apache.ignite.spi.systemview.view.ComputeJobView;\"\nhowever if we remove semicolom uring comparing the problem is fixed\nso to fix the problem I've added custom comparator to \"imports\" TreeSet", "createdAt": "2020-08-25T13:42:48Z", "url": "https://github.com/apache/ignite/pull/8187", "merged": true, "mergeCommit": {"oid": "81dd397c2e3856546db30a09d8ad01d653dbb691"}, "closed": true, "closedAt": "2020-08-27T07:39:24Z", "author": {"login": "aleksey-kurinov"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCXS3_gH2gAyNDczMjEzNDU1OmQ1ZjkxYjlhZmEzOWNjOWQ0MTczNTI0ZTUzYjRlMTRjYzVkZTU5NGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdC7ZZCgFqTQ3NjQ2MDgwMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d5f91b9afa39cc9d4173524e53b4e14cc5de594a", "author": {"user": {"login": "aleksei-kurinov-elanco", "name": "Aleksei Kurinov"}}, "url": "https://github.com/apache/ignite/commit/d5f91b9afa39cc9d4173524e53b4e14cc5de594a", "committedDate": "2020-08-25T13:33:31Z", "message": "IGNITE-13218 fixed. importComparator added to TreeSet to provide corect order of packages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2ae0c6dfbe14906761c30bbd0722808f32b7be5", "author": {"user": {"login": "aleksei-kurinov-elanco", "name": "Aleksei Kurinov"}}, "url": "https://github.com/apache/ignite/commit/a2ae0c6dfbe14906761c30bbd0722808f32b7be5", "committedDate": "2020-08-26T05:10:01Z", "message": "code style fixed(empty line removed)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6124c9ccc1fec1b1ebfc170cbb2de3bfd7019cc5", "author": {"user": {"login": "aleksei-kurinov-elanco", "name": "Aleksei Kurinov"}}, "url": "https://github.com/apache/ignite/commit/6124c9ccc1fec1b1ebfc170cbb2de3bfd7019cc5", "committedDate": "2020-08-26T05:10:58Z", "message": "Merge branch 'master' into IGNITE-13218"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1ODMyMjY0", "url": "https://github.com/apache/ignite/pull/8187#pullrequestreview-475832264", "createdAt": "2020-08-26T20:25:20Z", "commit": {"oid": "6124c9ccc1fec1b1ebfc170cbb2de3bfd7019cc5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQyMDoyNToyMFrOHHccIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQyMDoyNToyMFrOHHccIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzU2ODAzMw==", "bodyText": "@aleksey-kurinov There is typo in the var name. There is no white space between parameters. (See CodingGuidelines)\nI suggest to pass comparator to the constructor parameter:\nnew TreeSet<>(Comparator.comparing(s -> s.replace(\";\", \"\")))", "url": "https://github.com/apache/ignite/pull/8187#discussion_r477568033", "createdAt": "2020-08-26T20:25:20Z", "author": {"login": "NSAmelchev"}, "path": "modules/codegen/src/main/java/org/apache/ignite/codegen/SystemViewRowAttributeWalkerGenerator.java", "diffHunk": "@@ -148,7 +148,8 @@ public static void main(String[] args) throws Exception {\n      */\n     private <T> Collection<String> generate(Class<T> clazz) {\n         final List<String> code = new ArrayList<>();\n-        final Set<String> imports = new TreeSet<>();\n+        Comparator<String> importComparatror = (s1, s2) -> s1.replace(\";\",\"\").compareTo(s2.replace(\";\",\"\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6124c9ccc1fec1b1ebfc170cbb2de3bfd7019cc5"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d2c1deeea9dddde8f78519435feb02851dbcfa9", "author": {"user": {"login": "aleksei-kurinov-elanco", "name": "Aleksei Kurinov"}}, "url": "https://github.com/apache/ignite/commit/6d2c1deeea9dddde8f78519435feb02851dbcfa9", "committedDate": "2020-08-27T06:53:54Z", "message": "code cleaned up. Comparator function replaced with Comparator.comparing in TreeSet constructor"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ffbc6336a95d685c71f4cedd52a520bcc0fb3c6", "author": {"user": {"login": "aleksei-kurinov-elanco", "name": "Aleksei Kurinov"}}, "url": "https://github.com/apache/ignite/commit/5ffbc6336a95d685c71f4cedd52a520bcc0fb3c6", "committedDate": "2020-08-27T06:54:57Z", "message": "Merge branch 'master' into IGNITE-13218"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2NDUxMjk4", "url": "https://github.com/apache/ignite/pull/8187#pullrequestreview-476451298", "createdAt": "2020-08-27T07:23:54Z", "commit": {"oid": "5ffbc6336a95d685c71f4cedd52a520bcc0fb3c6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc2NDYwODAz", "url": "https://github.com/apache/ignite/pull/8187#pullrequestreview-476460803", "createdAt": "2020-08-27T07:37:13Z", "commit": {"oid": "5ffbc6336a95d685c71f4cedd52a520bcc0fb3c6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3100, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}