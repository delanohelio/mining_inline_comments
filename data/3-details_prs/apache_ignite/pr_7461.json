{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3OTkwOTk5", "number": 7461, "title": "IGNITE-12710 Extension log in rebuild indexes to search problems.", "bodyText": "", "createdAt": "2020-02-20T21:47:31Z", "url": "https://github.com/apache/ignite/pull/7461", "merged": true, "mergeCommit": {"oid": "7f018a8034ffc5b41e029f3784d06e6e4a2b4411"}, "closed": true, "closedAt": "2020-04-02T08:58:21Z", "author": {"login": "antonovsergey93"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcGSRZJgH2gAyMzc3OTkwOTk5OjA0ZDJhNzkxNTcwNThiYmMzNmQ5ZDlmZjI0YTdkZGVmOTVkZmYzNGE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcToU__gFqTM4NjIyNDkxNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "04d2a79157058bbc36d9d9ff24a7ddef95dff34a", "author": {"user": {"login": "antonovsergey93", "name": "sergey antonov"}}, "url": "https://github.com/apache/ignite/commit/04d2a79157058bbc36d9d9ff24a7ddef95dff34a", "committedDate": "2020-02-20T21:46:55Z", "message": "IGNITE-12710 Extension log in rebuild indexes to search problems."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05da1511f529e282ad26eaa1571134ef94328526", "author": {"user": {"login": "antonovsergey93", "name": "sergey antonov"}}, "url": "https://github.com/apache/ignite/commit/05da1511f529e282ad26eaa1571134ef94328526", "committedDate": "2020-02-20T21:57:28Z", "message": "IGNITE-12710 Fix codestyle."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyNDUwNTM5", "url": "https://github.com/apache/ignite/pull/7461#pullrequestreview-362450539", "createdAt": "2020-02-21T07:56:18Z", "commit": {"oid": "05da1511f529e282ad26eaa1571134ef94328526"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQwNzo1NjoxOFrOFsuU7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQwNzo1NjoxOFrOFsuU7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjQ0MDY4NQ==", "bodyText": "Before the change we were waiting complete compound future, now we can skip it. It looks strange.", "url": "https://github.com/apache/ignite/pull/7461#discussion_r382440685", "createdAt": "2020-02-21T07:56:18Z", "author": {"login": "ygerzhedovich"}, "path": "modules/core/src/main/java/org/apache/ignite/internal/processors/query/schema/SchemaIndexCacheVisitorImpl.java", "diffHunk": "@@ -157,8 +171,55 @@ public SchemaIndexCacheVisitorImpl(GridCacheContext cctx, SchemaIndexCacheFilter\n             throw e;\n         }\n \n-        if (fut != null)\n-            fut.get();\n+        if (fut != null && stat != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "05da1511f529e282ad26eaa1571134ef94328526"}, "originalPosition": 73}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5aa697d8dbe440b8ddb56c04311b882480510c4", "author": {"user": {"login": "antonovsergey93", "name": "sergey antonov"}}, "url": "https://github.com/apache/ignite/commit/b5aa697d8dbe440b8ddb56c04311b882480510c4", "committedDate": "2020-03-27T17:59:44Z", "message": "Merge branch 'ai-master' into ignite-12710"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93bed1cbf6aa2558e05c1c6f6120b577667e1e0e", "author": {"user": {"login": "antonovsergey93", "name": "sergey antonov"}}, "url": "https://github.com/apache/ignite/commit/93bed1cbf6aa2558e05c1c6f6120b577667e1e0e", "committedDate": "2020-03-27T18:21:02Z", "message": "IGNITE-12710 Fix merge errors."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7accac1bcc0fb03ff91bd114f615c675e7710f9", "author": {"user": {"login": "antonovsergey93", "name": "sergey antonov"}}, "url": "https://github.com/apache/ignite/commit/b7accac1bcc0fb03ff91bd114f615c675e7710f9", "committedDate": "2020-03-27T18:30:40Z", "message": "IGNITE-12710 Fix merge errors."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a16f92d88856d696559999d3a3e8e23e9983c88", "author": {"user": {"login": "antonovsergey93", "name": "sergey antonov"}}, "url": "https://github.com/apache/ignite/commit/6a16f92d88856d696559999d3a3e8e23e9983c88", "committedDate": "2020-03-27T19:32:15Z", "message": "IGNITE-12710 WIP."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5762c4df36a8fb6455e4636f875ebe8973078b3a", "author": {"user": {"login": "antonovsergey93", "name": "sergey antonov"}}, "url": "https://github.com/apache/ignite/commit/5762c4df36a8fb6455e4636f875ebe8973078b3a", "committedDate": "2020-03-27T19:34:55Z", "message": "IGNITE-12710 Small fix."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "feedacc0414a96b22fb4e1bc4ff2e7a7066d5eb4", "author": {"user": {"login": "antonovsergey93", "name": "sergey antonov"}}, "url": "https://github.com/apache/ignite/commit/feedacc0414a96b22fb4e1bc4ff2e7a7066d5eb4", "committedDate": "2020-03-27T19:40:09Z", "message": "IGNITE-12710 Fix javadoc."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b45ee2acfda933f28ce7fd7bef3b08467fe5f7c7", "author": {"user": {"login": "antonovsergey93", "name": "sergey antonov"}}, "url": "https://github.com/apache/ignite/commit/b45ee2acfda933f28ce7fd7bef3b08467fe5f7c7", "committedDate": "2020-03-27T19:40:34Z", "message": "IGNITE-12710 Fix javadoc."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ad8238acfc5d7b029d5292adfbc73ad1519edd1", "author": {"user": {"login": "antonovsergey93", "name": "sergey antonov"}}, "url": "https://github.com/apache/ignite/commit/8ad8238acfc5d7b029d5292adfbc73ad1519edd1", "committedDate": "2020-03-27T19:44:25Z", "message": "IGNITE-12710 Fix type."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0NjAxNTg4", "url": "https://github.com/apache/ignite/pull/7461#pullrequestreview-384601588", "createdAt": "2020-03-31T10:29:25Z", "commit": {"oid": "8ad8238acfc5d7b029d5292adfbc73ad1519edd1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxMDoyOToyNVrOF-PTNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxMDoyOToyNVrOF-PTNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDgwNjcwOA==", "bodyText": "Looks like all of these 3 params can be squashed into single closure right here.", "url": "https://github.com/apache/ignite/pull/7461#discussion_r400806708", "createdAt": "2020-03-31T10:29:25Z", "author": {"login": "AMashenkov"}, "path": "modules/core/src/main/java/org/apache/ignite/internal/processors/query/schema/SchemaIndexCachePartitionWorker.java", "diffHunk": "@@ -227,7 +237,7 @@ private void processKey(KeyCacheObject key) throws IgniteCheckedException {\n                 GridCacheEntryEx entry = cctx.cache().entryEx(key);\n \n                 try {\n-                    entry.updateIndex(rowFilter, clo);\n+                    entry.updateIndex(rowFilter, clo, indexCacheStat);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8ad8238acfc5d7b029d5292adfbc73ad1519edd1"}, "originalPosition": 70}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e35adbaeb64ad5d7b5a79a4ff64aec544c6a106f", "author": {"user": {"login": "antonovsergey93", "name": "sergey antonov"}}, "url": "https://github.com/apache/ignite/commit/e35adbaeb64ad5d7b5a79a4ff64aec544c6a106f", "committedDate": "2020-03-31T12:45:48Z", "message": "IGNITE-12710. Code review fixes."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bbf62434ac6e3ae31451fe7d6963fdc0e2f7a914", "author": {"user": {"login": "antonovsergey93", "name": "sergey antonov"}}, "url": "https://github.com/apache/ignite/commit/bbf62434ac6e3ae31451fe7d6963fdc0e2f7a914", "committedDate": "2020-03-31T13:23:39Z", "message": "IGNITE-12710 Fix codestyle."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg2MjI0OTE3", "url": "https://github.com/apache/ignite/pull/7461#pullrequestreview-386224917", "createdAt": "2020-04-02T08:49:47Z", "commit": {"oid": "bbf62434ac6e3ae31451fe7d6963fdc0e2f7a914"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2832, "cost": 1, "resetAt": "2021-10-29T19:57:52Z"}}}