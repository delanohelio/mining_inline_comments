{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg2ODE1Mjcy", "number": 7514, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxMjozOTozNlrODncu8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNDo0NToyOVrODnfuhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyNjkxODI2OnYy", "diffSide": "RIGHT", "path": "modules/clients/src/test/java/org/apache/ignite/internal/processors/rest/ChangeStateCommandHandlerTest.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxMjozOTozNlrOF1c6Ig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNDowMToxOFrOF1f2Vw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU5MjQ4Mg==", "bodyText": "There is no cluster deactivation, forceDeactivation should be false.", "url": "https://github.com/apache/ignite/pull/7514#discussion_r391592482", "createdAt": "2020-03-12T12:39:36Z", "author": {"login": "NSAmelchev"}, "path": "modules/clients/src/test/java/org/apache/ignite/internal/processors/rest/ChangeStateCommandHandlerTest.java", "diffHunk": "@@ -87,23 +89,23 @@\n     public void testActivateDeActivate() throws GridClientException {\n         GridClientClusterState state = client.state();\n \n-        boolean active = state.active();\n+        boolean active = state.state() == ACTIVE;\n \n         assertTrue(active);\n \n-        state.active(false);\n+        state.state(INACTIVE, true);\n \n         IgniteEx ig1 = grid(0);\n         IgniteEx ig2 = grid(1);\n \n         assertFalse(ig1.active());\n         assertFalse(ig2.active());\n-        assertFalse(state.active());\n+        assertEquals(state.state(), INACTIVE);\n \n-        state.active(true);\n+        state.state(ACTIVE, true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7546f02209f332e5725fd36599abb977c38d68d"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTYwMjU5Ng==", "bodyText": "There is no cluster deactivation, forceDeactivation should be false.\n\nPrevious invocations were considered forced regardless of certain state. Shouldn't we do the same way?", "url": "https://github.com/apache/ignite/pull/7514#discussion_r391602596", "createdAt": "2020-03-12T12:58:40Z", "author": {"login": "Vladsz83"}, "path": "modules/clients/src/test/java/org/apache/ignite/internal/processors/rest/ChangeStateCommandHandlerTest.java", "diffHunk": "@@ -87,23 +89,23 @@\n     public void testActivateDeActivate() throws GridClientException {\n         GridClientClusterState state = client.state();\n \n-        boolean active = state.active();\n+        boolean active = state.state() == ACTIVE;\n \n         assertTrue(active);\n \n-        state.active(false);\n+        state.state(INACTIVE, true);\n \n         IgniteEx ig1 = grid(0);\n         IgniteEx ig2 = grid(1);\n \n         assertFalse(ig1.active());\n         assertFalse(ig2.active());\n-        assertFalse(state.active());\n+        assertEquals(state.state(), INACTIVE);\n \n-        state.active(true);\n+        state.state(ACTIVE, true);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU5MjQ4Mg=="}, "originalCommit": {"oid": "f7546f02209f332e5725fd36599abb977c38d68d"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY0MDY2Mw==", "bodyText": "Previous deprecated call was forced internally for both cases. I suggest do not forcing new public method call to cluster activation.", "url": "https://github.com/apache/ignite/pull/7514#discussion_r391640663", "createdAt": "2020-03-12T14:01:18Z", "author": {"login": "NSAmelchev"}, "path": "modules/clients/src/test/java/org/apache/ignite/internal/processors/rest/ChangeStateCommandHandlerTest.java", "diffHunk": "@@ -87,23 +89,23 @@\n     public void testActivateDeActivate() throws GridClientException {\n         GridClientClusterState state = client.state();\n \n-        boolean active = state.active();\n+        boolean active = state.state() == ACTIVE;\n \n         assertTrue(active);\n \n-        state.active(false);\n+        state.state(INACTIVE, true);\n \n         IgniteEx ig1 = grid(0);\n         IgniteEx ig2 = grid(1);\n \n         assertFalse(ig1.active());\n         assertFalse(ig2.active());\n-        assertFalse(state.active());\n+        assertEquals(state.state(), INACTIVE);\n \n-        state.active(true);\n+        state.state(ACTIVE, true);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU5MjQ4Mg=="}, "originalCommit": {"oid": "f7546f02209f332e5725fd36599abb977c38d68d"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyNjkyNzAwOnYy", "diffSide": "RIGHT", "path": "modules/clients/src/test/java/org/apache/ignite/jdbc/thin/MvccJdbcTransactionFinishOnDeactivatedClusterSelfTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxMjo0MjowMVrOF1c_TA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxMjo1OTo1NVrOF1dkRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU5MzgwNA==", "bodyText": "Can static import be used? like previuos test used", "url": "https://github.com/apache/ignite/pull/7514#discussion_r391593804", "createdAt": "2020-03-12T12:42:01Z", "author": {"login": "NSAmelchev"}, "path": "modules/clients/src/test/java/org/apache/ignite/jdbc/thin/MvccJdbcTransactionFinishOnDeactivatedClusterSelfTest.java", "diffHunk": "@@ -153,7 +154,7 @@ private void deactivateThroughClient() throws Exception {\n \n             log.info(\">>> Try to deactivate ...\");\n \n-            state.active(false);\n+            state.state(ClusterState.INACTIVE, true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7546f02209f332e5725fd36599abb977c38d68d"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTYwMzI2OA==", "bodyText": "Fixed.", "url": "https://github.com/apache/ignite/pull/7514#discussion_r391603268", "createdAt": "2020-03-12T12:59:55Z", "author": {"login": "Vladsz83"}, "path": "modules/clients/src/test/java/org/apache/ignite/jdbc/thin/MvccJdbcTransactionFinishOnDeactivatedClusterSelfTest.java", "diffHunk": "@@ -153,7 +154,7 @@ private void deactivateThroughClient() throws Exception {\n \n             log.info(\">>> Try to deactivate ...\");\n \n-            state.active(false);\n+            state.state(ClusterState.INACTIVE, true);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU5MzgwNA=="}, "originalCommit": {"oid": "f7546f02209f332e5725fd36599abb977c38d68d"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyNjkzMzI1OnYy", "diffSide": "LEFT", "path": "modules/core/src/main/java/org/apache/ignite/internal/client/impl/GridClientClusterStateImpl.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxMjo0Mzo0NFrOF1dDAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxMzowMzoxNFrOF1dq9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU5NDc1NA==", "bodyText": "GridClientConnection::currentState now unused. Seems can be removed too", "url": "https://github.com/apache/ignite/pull/7514#discussion_r391594754", "createdAt": "2020-03-12T12:43:44Z", "author": {"login": "NSAmelchev"}, "path": "modules/core/src/main/java/org/apache/ignite/internal/client/impl/GridClientClusterStateImpl.java", "diffHunk": "@@ -54,16 +53,6 @@ public GridClientClusterStateImpl(\n         super(client, nodes, filter, balancer);\n     }\n \n-    /** {@inheritDoc} */\n-    @Override public void active(final boolean active) throws GridClientException {\n-        state(active ? ACTIVE : INACTIVE, true);\n-    }\n-\n-    /** {@inheritDoc} */\n-    @Override public boolean active() throws GridClientException {\n-        return withReconnectHandling(GridClientConnection::currentState).get();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7546f02209f332e5725fd36599abb977c38d68d"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTYwNDk4Mg==", "bodyText": "Fixed.", "url": "https://github.com/apache/ignite/pull/7514#discussion_r391604982", "createdAt": "2020-03-12T13:03:14Z", "author": {"login": "Vladsz83"}, "path": "modules/core/src/main/java/org/apache/ignite/internal/client/impl/GridClientClusterStateImpl.java", "diffHunk": "@@ -54,16 +53,6 @@ public GridClientClusterStateImpl(\n         super(client, nodes, filter, balancer);\n     }\n \n-    /** {@inheritDoc} */\n-    @Override public void active(final boolean active) throws GridClientException {\n-        state(active ? ACTIVE : INACTIVE, true);\n-    }\n-\n-    /** {@inheritDoc} */\n-    @Override public boolean active() throws GridClientException {\n-        return withReconnectHandling(GridClientConnection::currentState).get();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU5NDc1NA=="}, "originalCommit": {"oid": "f7546f02209f332e5725fd36599abb977c38d68d"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyNjk0NDk0OnYy", "diffSide": "RIGHT", "path": "modules/core/src/main/java/org/apache/ignite/internal/cluster/IgniteClusterImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxMjo0NzoyNVrOF1dKWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxMzowNDo0NlrOF1duUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU5NjYzNA==", "bodyText": "Why forceDeactivation should be true for cluster activate?", "url": "https://github.com/apache/ignite/pull/7514#discussion_r391596634", "createdAt": "2020-03-12T12:47:25Z", "author": {"login": "NSAmelchev"}, "path": "modules/core/src/main/java/org/apache/ignite/internal/cluster/IgniteClusterImpl.java", "diffHunk": "@@ -313,7 +315,7 @@ public IgniteClusterImpl(GridKernalContext ctx) {\n         guard();\n \n         try {\n-            ctx.state().changeGlobalState(active, serverNodes(), false).get();\n+            ctx.state().changeGlobalState(active ? ACTIVE : INACTIVE, true, serverNodes(), false, false).get();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7546f02209f332e5725fd36599abb977c38d68d"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTYwNTg0Mw==", "bodyText": "All previous internal invocations were considered forced. I think we should not change it where not required. Not-forced call are considered only for user commands through command.sh/Rest .", "url": "https://github.com/apache/ignite/pull/7514#discussion_r391605843", "createdAt": "2020-03-12T13:04:46Z", "author": {"login": "Vladsz83"}, "path": "modules/core/src/main/java/org/apache/ignite/internal/cluster/IgniteClusterImpl.java", "diffHunk": "@@ -313,7 +315,7 @@ public IgniteClusterImpl(GridKernalContext ctx) {\n         guard();\n \n         try {\n-            ctx.state().changeGlobalState(active, serverNodes(), false).get();\n+            ctx.state().changeGlobalState(active ? ACTIVE : INACTIVE, true, serverNodes(), false, false).get();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU5NjYzNA=="}, "originalCommit": {"oid": "f7546f02209f332e5725fd36599abb977c38d68d"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyNjk1MDg0OnYy", "diffSide": "RIGHT", "path": "modules/core/src/main/java/org/apache/ignite/internal/commandline/ActivateCommand.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxMjo0OTowNVrOF1dN5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxMzowNToyNFrOF1dvjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU5NzU0Mg==", "bodyText": "Why forceDeactivation should be true for cluster activate?", "url": "https://github.com/apache/ignite/pull/7514#discussion_r391597542", "createdAt": "2020-03-12T12:49:05Z", "author": {"login": "NSAmelchev"}, "path": "modules/core/src/main/java/org/apache/ignite/internal/commandline/ActivateCommand.java", "diffHunk": "@@ -49,7 +50,7 @@\n         try (GridClient client = Command.startClient(cfg)) {\n             GridClientClusterState state = client.state();\n \n-            state.active(true);\n+            state.state(ACTIVE, true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7546f02209f332e5725fd36599abb977c38d68d"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTYwNjE1Ng==", "bodyText": "Same. Previous invocations were considered forced. I think we should not change it where not required.", "url": "https://github.com/apache/ignite/pull/7514#discussion_r391606156", "createdAt": "2020-03-12T13:05:24Z", "author": {"login": "Vladsz83"}, "path": "modules/core/src/main/java/org/apache/ignite/internal/commandline/ActivateCommand.java", "diffHunk": "@@ -49,7 +50,7 @@\n         try (GridClient client = Command.startClient(cfg)) {\n             GridClientClusterState state = client.state();\n \n-            state.active(true);\n+            state.state(ACTIVE, true);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTU5NzU0Mg=="}, "originalCommit": {"oid": "f7546f02209f332e5725fd36599abb977c38d68d"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyNzM3MjI2OnYy", "diffSide": "RIGHT", "path": "modules/clients/src/test/java/org/apache/ignite/internal/processors/rest/ChangeStateCommandHandlerTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNDozNzowMFrOF1hXGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNDo0MToyOFrOF1hi9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY2NTQzMw==", "bodyText": "Mixed up expected-actual", "url": "https://github.com/apache/ignite/pull/7514#discussion_r391665433", "createdAt": "2020-03-12T14:37:00Z", "author": {"login": "NSAmelchev"}, "path": "modules/clients/src/test/java/org/apache/ignite/internal/processors/rest/ChangeStateCommandHandlerTest.java", "diffHunk": "@@ -87,23 +89,23 @@\n     public void testActivateDeActivate() throws GridClientException {\n         GridClientClusterState state = client.state();\n \n-        boolean active = state.active();\n+        boolean active = state.state() == ACTIVE;\n \n         assertTrue(active);\n \n-        state.active(false);\n+        state.state(INACTIVE, true);\n \n         IgniteEx ig1 = grid(0);\n         IgniteEx ig2 = grid(1);\n \n         assertFalse(ig1.active());\n         assertFalse(ig2.active());\n-        assertFalse(state.active());\n+        assertEquals(state.state(), INACTIVE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "846e4c67d5f1e6bb772125df74d61ab2bff6ed03"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY2ODQ3MA==", "bodyText": "Fixed.", "url": "https://github.com/apache/ignite/pull/7514#discussion_r391668470", "createdAt": "2020-03-12T14:41:28Z", "author": {"login": "Vladsz83"}, "path": "modules/clients/src/test/java/org/apache/ignite/internal/processors/rest/ChangeStateCommandHandlerTest.java", "diffHunk": "@@ -87,23 +89,23 @@\n     public void testActivateDeActivate() throws GridClientException {\n         GridClientClusterState state = client.state();\n \n-        boolean active = state.active();\n+        boolean active = state.state() == ACTIVE;\n \n         assertTrue(active);\n \n-        state.active(false);\n+        state.state(INACTIVE, true);\n \n         IgniteEx ig1 = grid(0);\n         IgniteEx ig2 = grid(1);\n \n         assertFalse(ig1.active());\n         assertFalse(ig2.active());\n-        assertFalse(state.active());\n+        assertEquals(state.state(), INACTIVE);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY2NTQzMw=="}, "originalCommit": {"oid": "846e4c67d5f1e6bb772125df74d61ab2bff6ed03"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyNzM3MjY3OnYy", "diffSide": "RIGHT", "path": "modules/clients/src/test/java/org/apache/ignite/internal/processors/rest/ChangeStateCommandHandlerTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNDozNzowNVrOF1hXVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNDo0MToyMlrOF1hiwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY2NTQ5Mw==", "bodyText": "Mixed up expected-actual", "url": "https://github.com/apache/ignite/pull/7514#discussion_r391665493", "createdAt": "2020-03-12T14:37:05Z", "author": {"login": "NSAmelchev"}, "path": "modules/clients/src/test/java/org/apache/ignite/internal/processors/rest/ChangeStateCommandHandlerTest.java", "diffHunk": "@@ -87,23 +89,23 @@\n     public void testActivateDeActivate() throws GridClientException {\n         GridClientClusterState state = client.state();\n \n-        boolean active = state.active();\n+        boolean active = state.state() == ACTIVE;\n \n         assertTrue(active);\n \n-        state.active(false);\n+        state.state(INACTIVE, true);\n \n         IgniteEx ig1 = grid(0);\n         IgniteEx ig2 = grid(1);\n \n         assertFalse(ig1.active());\n         assertFalse(ig2.active());\n-        assertFalse(state.active());\n+        assertEquals(state.state(), INACTIVE);\n \n-        state.active(true);\n+        state.state(ACTIVE, false);\n \n         assertTrue(ig1.active());\n         assertTrue(ig2.active());\n-        assertTrue(state.active());\n+        assertEquals(state.state(), ACTIVE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "846e4c67d5f1e6bb772125df74d61ab2bff6ed03"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY2ODQxOA==", "bodyText": "Fixed.", "url": "https://github.com/apache/ignite/pull/7514#discussion_r391668418", "createdAt": "2020-03-12T14:41:22Z", "author": {"login": "Vladsz83"}, "path": "modules/clients/src/test/java/org/apache/ignite/internal/processors/rest/ChangeStateCommandHandlerTest.java", "diffHunk": "@@ -87,23 +89,23 @@\n     public void testActivateDeActivate() throws GridClientException {\n         GridClientClusterState state = client.state();\n \n-        boolean active = state.active();\n+        boolean active = state.state() == ACTIVE;\n \n         assertTrue(active);\n \n-        state.active(false);\n+        state.state(INACTIVE, true);\n \n         IgniteEx ig1 = grid(0);\n         IgniteEx ig2 = grid(1);\n \n         assertFalse(ig1.active());\n         assertFalse(ig2.active());\n-        assertFalse(state.active());\n+        assertEquals(state.state(), INACTIVE);\n \n-        state.active(true);\n+        state.state(ACTIVE, false);\n \n         assertTrue(ig1.active());\n         assertTrue(ig2.active());\n-        assertTrue(state.active());\n+        assertEquals(state.state(), ACTIVE);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY2NTQ5Mw=="}, "originalCommit": {"oid": "846e4c67d5f1e6bb772125df74d61ab2bff6ed03"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQyNzQwODY4OnYy", "diffSide": "RIGHT", "path": "modules/clients/src/test/java/org/apache/ignite/internal/processors/rest/ChangeStateCommandHandlerTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNDo0NToyOVrOF1ht_g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNDo1MzowOFrOF1iCsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY3MTI5NA==", "bodyText": "ClusterState.active(ClusterState state) was used.", "url": "https://github.com/apache/ignite/pull/7514#discussion_r391671294", "createdAt": "2020-03-12T14:45:29Z", "author": {"login": "NSAmelchev"}, "path": "modules/clients/src/test/java/org/apache/ignite/internal/processors/rest/ChangeStateCommandHandlerTest.java", "diffHunk": "@@ -87,23 +89,23 @@\n     public void testActivateDeActivate() throws GridClientException {\n         GridClientClusterState state = client.state();\n \n-        boolean active = state.active();\n+        boolean active = state.state() == ACTIVE;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "854df30c311f42b9b066a036d1ec30b79e42c635"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY3NjU5NA==", "bodyText": "ClusterState.active(ClusterState state) was used.\n\nGridClientClusterState.active() was used, no? Changed to GridClientClusterState.state(). Isn't is ok?", "url": "https://github.com/apache/ignite/pull/7514#discussion_r391676594", "createdAt": "2020-03-12T14:53:08Z", "author": {"login": "Vladsz83"}, "path": "modules/clients/src/test/java/org/apache/ignite/internal/processors/rest/ChangeStateCommandHandlerTest.java", "diffHunk": "@@ -87,23 +89,23 @@\n     public void testActivateDeActivate() throws GridClientException {\n         GridClientClusterState state = client.state();\n \n-        boolean active = state.active();\n+        boolean active = state.state() == ACTIVE;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY3MTI5NA=="}, "originalCommit": {"oid": "854df30c311f42b9b066a036d1ec30b79e42c635"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2524, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}