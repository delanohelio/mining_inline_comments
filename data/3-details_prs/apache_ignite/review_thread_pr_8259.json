{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkwMjA0Mjc0", "number": 8259, "reviewThreads": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwNzoxNTowM1rOEl86jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwNTo1MTowNFrOEmYTAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MjMwNzk5OnYy", "diffSide": "RIGHT", "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwNzoxNTowM1rOHVs9SA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODowNjo0M1rOHVuonA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjUxODcyOA==", "bodyText": "Please rename it as test suite with this name already exist. SmokeSelfTest for example.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492518728", "createdAt": "2020-09-22T07:15:03Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,73 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that services work\n+\"\"\"\n+\n+import datetime\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite import IgniteService\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration.discovery import from_ignite_cluster\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+\n+# pylint: disable=W0223\n+class SmokeServicesTest(IgniteTest):", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4abf8332d7cea5f1b18e4b44986a95c923f5053c"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU0NjIwNA==", "bodyText": "Done", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492546204", "createdAt": "2020-09-22T08:06:43Z", "author": {"login": "oleg-ostanin"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,73 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that services work\n+\"\"\"\n+\n+import datetime\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite import IgniteService\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration.discovery import from_ignite_cluster\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+\n+# pylint: disable=W0223\n+class SmokeServicesTest(IgniteTest):", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjUxODcyOA=="}, "originalCommit": {"oid": "4abf8332d7cea5f1b18e4b44986a95c923f5053c"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MjQxNDExOnYy", "diffSide": "RIGHT", "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwNzo0NzoxM1rOHVt82Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODoxMDozN1rOHVuxmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjUzNTAwMQ==", "bodyText": "You can make it server and avoid using additional node.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492535001", "createdAt": "2020-09-22T07:47:13Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,73 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that services work\n+\"\"\"\n+\n+import datetime\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite import IgniteService\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration.discovery import from_ignite_cluster\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+\n+# pylint: disable=W0223\n+class SmokeServicesTest(IgniteTest):\n+    \"\"\"\n+    Tests services implementations\n+    \"\"\"\n+\n+    @cluster(num_nodes=2)\n+    @ignite_versions(str(DEV_BRANCH))\n+    def test_ignite_app_start_stop(self, ignite_version):\n+        \"\"\"\n+        Test to make sure Java assertions are converted to python exceptions\n+        \"\"\"\n+        server_configuration = IgniteConfiguration(version=IgniteVersion(ignite_version))\n+\n+        ignite = IgniteService(self.test_context, server_configuration, num_nodes=1)\n+\n+        client_configuration = server_configuration._replace(client_mode=True,\n+                                                             discovery_spi=from_ignite_cluster(ignite))\n+        app = IgniteApplicationService(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4abf8332d7cea5f1b18e4b44986a95c923f5053c"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU0ODUwNg==", "bodyText": "Done.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492548506", "createdAt": "2020-09-22T08:10:37Z", "author": {"login": "oleg-ostanin"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,73 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that services work\n+\"\"\"\n+\n+import datetime\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite import IgniteService\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration.discovery import from_ignite_cluster\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+\n+# pylint: disable=W0223\n+class SmokeServicesTest(IgniteTest):\n+    \"\"\"\n+    Tests services implementations\n+    \"\"\"\n+\n+    @cluster(num_nodes=2)\n+    @ignite_versions(str(DEV_BRANCH))\n+    def test_ignite_app_start_stop(self, ignite_version):\n+        \"\"\"\n+        Test to make sure Java assertions are converted to python exceptions\n+        \"\"\"\n+        server_configuration = IgniteConfiguration(version=IgniteVersion(ignite_version))\n+\n+        ignite = IgniteService(self.test_context, server_configuration, num_nodes=1)\n+\n+        client_configuration = server_configuration._replace(client_mode=True,\n+                                                             discovery_spi=from_ignite_cluster(ignite))\n+        app = IgniteApplicationService(", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjUzNTAwMQ=="}, "originalCommit": {"oid": "4abf8332d7cea5f1b18e4b44986a95c923f5053c"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MjQzMjU4OnYy", "diffSide": "RIGHT", "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwNzo1MjoyMlrOHVuIGg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwOToxMzo1NlrOHVxJyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjUzNzg4Mg==", "bodyText": "You don't need stop there, as exception is thrown due to start(). So move stop() to finally block.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492537882", "createdAt": "2020-09-22T07:52:22Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,73 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that services work\n+\"\"\"\n+\n+import datetime\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite import IgniteService\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration.discovery import from_ignite_cluster\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+\n+# pylint: disable=W0223\n+class SmokeServicesTest(IgniteTest):\n+    \"\"\"\n+    Tests services implementations\n+    \"\"\"\n+\n+    @cluster(num_nodes=2)\n+    @ignite_versions(str(DEV_BRANCH))\n+    def test_ignite_app_start_stop(self, ignite_version):\n+        \"\"\"\n+        Test to make sure Java assertions are converted to python exceptions\n+        \"\"\"\n+        server_configuration = IgniteConfiguration(version=IgniteVersion(ignite_version))\n+\n+        ignite = IgniteService(self.test_context, server_configuration, num_nodes=1)\n+\n+        client_configuration = server_configuration._replace(client_mode=True,\n+                                                             discovery_spi=from_ignite_cluster(ignite))\n+        app = IgniteApplicationService(\n+            self.test_context,\n+            client_configuration,\n+            java_class_name=\"org.apache.ignite.internal.ducktest.tests.smoke_test.AssertionApplication\")\n+\n+        ignite.start()\n+\n+        ts = int(round(datetime.datetime.now().timestamp() * 1000))\n+\n+        try:\n+            app.start()\n+            app.stop()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4abf8332d7cea5f1b18e4b44986a95c923f5053c"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU1MTM2OQ==", "bodyText": "If I move app.stop() to finally block, the test fails on that line. So I simply removed app.stop() line.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492551369", "createdAt": "2020-09-22T08:15:26Z", "author": {"login": "oleg-ostanin"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,73 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that services work\n+\"\"\"\n+\n+import datetime\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite import IgniteService\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration.discovery import from_ignite_cluster\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+\n+# pylint: disable=W0223\n+class SmokeServicesTest(IgniteTest):\n+    \"\"\"\n+    Tests services implementations\n+    \"\"\"\n+\n+    @cluster(num_nodes=2)\n+    @ignite_versions(str(DEV_BRANCH))\n+    def test_ignite_app_start_stop(self, ignite_version):\n+        \"\"\"\n+        Test to make sure Java assertions are converted to python exceptions\n+        \"\"\"\n+        server_configuration = IgniteConfiguration(version=IgniteVersion(ignite_version))\n+\n+        ignite = IgniteService(self.test_context, server_configuration, num_nodes=1)\n+\n+        client_configuration = server_configuration._replace(client_mode=True,\n+                                                             discovery_spi=from_ignite_cluster(ignite))\n+        app = IgniteApplicationService(\n+            self.test_context,\n+            client_configuration,\n+            java_class_name=\"org.apache.ignite.internal.ducktest.tests.smoke_test.AssertionApplication\")\n+\n+        ignite.start()\n+\n+        ts = int(round(datetime.datetime.now().timestamp() * 1000))\n+\n+        try:\n+            app.start()\n+            app.stop()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjUzNzg4Mg=="}, "originalCommit": {"oid": "4abf8332d7cea5f1b18e4b44986a95c923f5053c"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU4NzQ2Nw==", "bodyText": "It's a bad solution. We should invoke app.stop() if test doesn't throw AssertionException.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492587467", "createdAt": "2020-09-22T09:13:56Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,73 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that services work\n+\"\"\"\n+\n+import datetime\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite import IgniteService\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration.discovery import from_ignite_cluster\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+\n+# pylint: disable=W0223\n+class SmokeServicesTest(IgniteTest):\n+    \"\"\"\n+    Tests services implementations\n+    \"\"\"\n+\n+    @cluster(num_nodes=2)\n+    @ignite_versions(str(DEV_BRANCH))\n+    def test_ignite_app_start_stop(self, ignite_version):\n+        \"\"\"\n+        Test to make sure Java assertions are converted to python exceptions\n+        \"\"\"\n+        server_configuration = IgniteConfiguration(version=IgniteVersion(ignite_version))\n+\n+        ignite = IgniteService(self.test_context, server_configuration, num_nodes=1)\n+\n+        client_configuration = server_configuration._replace(client_mode=True,\n+                                                             discovery_spi=from_ignite_cluster(ignite))\n+        app = IgniteApplicationService(\n+            self.test_context,\n+            client_configuration,\n+            java_class_name=\"org.apache.ignite.internal.ducktest.tests.smoke_test.AssertionApplication\")\n+\n+        ignite.start()\n+\n+        ts = int(round(datetime.datetime.now().timestamp() * 1000))\n+\n+        try:\n+            app.start()\n+            app.stop()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjUzNzg4Mg=="}, "originalCommit": {"oid": "4abf8332d7cea5f1b18e4b44986a95c923f5053c"}, "originalPosition": 62}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MjQ3MDc1OnYy", "diffSide": "RIGHT", "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODowMjoyMFrOHVue5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODoxODowMFrOHVvC2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU0MzcxOQ==", "bodyText": "Checking exception string with assertion is enough. Please remove check timestamps.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492543719", "createdAt": "2020-09-22T08:02:20Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,73 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that services work\n+\"\"\"\n+\n+import datetime\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite import IgniteService\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration.discovery import from_ignite_cluster\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+\n+# pylint: disable=W0223\n+class SmokeServicesTest(IgniteTest):\n+    \"\"\"\n+    Tests services implementations\n+    \"\"\"\n+\n+    @cluster(num_nodes=2)\n+    @ignite_versions(str(DEV_BRANCH))\n+    def test_ignite_app_start_stop(self, ignite_version):\n+        \"\"\"\n+        Test to make sure Java assertions are converted to python exceptions\n+        \"\"\"\n+        server_configuration = IgniteConfiguration(version=IgniteVersion(ignite_version))\n+\n+        ignite = IgniteService(self.test_context, server_configuration, num_nodes=1)\n+\n+        client_configuration = server_configuration._replace(client_mode=True,\n+                                                             discovery_spi=from_ignite_cluster(ignite))\n+        app = IgniteApplicationService(\n+            self.test_context,\n+            client_configuration,\n+            java_class_name=\"org.apache.ignite.internal.ducktest.tests.smoke_test.AssertionApplication\")\n+\n+        ignite.start()\n+\n+        ts = int(round(datetime.datetime.now().timestamp() * 1000))\n+\n+        try:\n+            app.start()\n+            app.stop()\n+        except Exception as e:\n+            assert str(e) == \"Java application execution failed. java.lang.AssertionError\"\n+\n+            \"\"\"\n+            Check the test timeout is not exceeded\n+            \"\"\"\n+            assert int(round(datetime.datetime.now().timestamp() * 1000)) - ts < IgniteTest.timeout()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4abf8332d7cea5f1b18e4b44986a95c923f5053c"}, "originalPosition": 69}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU1MjkyMg==", "bodyText": "Done.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492552922", "createdAt": "2020-09-22T08:18:00Z", "author": {"login": "oleg-ostanin"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,73 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that services work\n+\"\"\"\n+\n+import datetime\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite import IgniteService\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration.discovery import from_ignite_cluster\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+\n+# pylint: disable=W0223\n+class SmokeServicesTest(IgniteTest):\n+    \"\"\"\n+    Tests services implementations\n+    \"\"\"\n+\n+    @cluster(num_nodes=2)\n+    @ignite_versions(str(DEV_BRANCH))\n+    def test_ignite_app_start_stop(self, ignite_version):\n+        \"\"\"\n+        Test to make sure Java assertions are converted to python exceptions\n+        \"\"\"\n+        server_configuration = IgniteConfiguration(version=IgniteVersion(ignite_version))\n+\n+        ignite = IgniteService(self.test_context, server_configuration, num_nodes=1)\n+\n+        client_configuration = server_configuration._replace(client_mode=True,\n+                                                             discovery_spi=from_ignite_cluster(ignite))\n+        app = IgniteApplicationService(\n+            self.test_context,\n+            client_configuration,\n+            java_class_name=\"org.apache.ignite.internal.ducktest.tests.smoke_test.AssertionApplication\")\n+\n+        ignite.start()\n+\n+        ts = int(round(datetime.datetime.now().timestamp() * 1000))\n+\n+        try:\n+            app.start()\n+            app.stop()\n+        except Exception as e:\n+            assert str(e) == \"Java application execution failed. java.lang.AssertionError\"\n+\n+            \"\"\"\n+            Check the test timeout is not exceeded\n+            \"\"\"\n+            assert int(round(datetime.datetime.now().timestamp() * 1000)) - ts < IgniteTest.timeout()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU0MzcxOQ=="}, "originalCommit": {"oid": "4abf8332d7cea5f1b18e4b44986a95c923f5053c"}, "originalPosition": 69}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MjQ3NjEwOnYy", "diffSide": "RIGHT", "path": "modules/ducktests/src/main/java/org/apache/ignite/internal/ducktest/tests/smoke_test/AssertionApplication.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODowMzo1OFrOHVuiMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODo0OTozNVrOHVwPaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU0NDU2MA==", "bodyText": "Add markInitialized() after assertion, in case of \"-ea\" is disabled ducktape hungs while waiting service.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492544560", "createdAt": "2020-09-22T08:03:58Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/src/main/java/org/apache/ignite/internal/ducktest/tests/smoke_test/AssertionApplication.java", "diffHunk": "@@ -0,0 +1,35 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.ignite.internal.ducktest.tests.smoke_test;\n+\n+import com.fasterxml.jackson.databind.JsonNode;\n+import java.util.UUID;\n+import org.apache.ignite.IgniteCache;\n+import org.apache.ignite.internal.IgniteInterruptedCheckedException;\n+import org.apache.ignite.internal.ducktest.utils.IgniteAwareApplication;\n+import org.apache.ignite.internal.util.typedef.internal.U;\n+\n+/**\n+ * Simple application that used in smoke tests\n+ */\n+public class AssertionApplication extends IgniteAwareApplication {\n+    /** {@inheritDoc} */\n+    @Override public void run(JsonNode jsonNode) {\n+        assert false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4abf8332d7cea5f1b18e4b44986a95c923f5053c"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU0NjY4OA==", "bodyText": "And then markFinished(). To avoid waiting while app.stop() is running", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492546688", "createdAt": "2020-09-22T08:07:35Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/src/main/java/org/apache/ignite/internal/ducktest/tests/smoke_test/AssertionApplication.java", "diffHunk": "@@ -0,0 +1,35 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.ignite.internal.ducktest.tests.smoke_test;\n+\n+import com.fasterxml.jackson.databind.JsonNode;\n+import java.util.UUID;\n+import org.apache.ignite.IgniteCache;\n+import org.apache.ignite.internal.IgniteInterruptedCheckedException;\n+import org.apache.ignite.internal.ducktest.utils.IgniteAwareApplication;\n+import org.apache.ignite.internal.util.typedef.internal.U;\n+\n+/**\n+ * Simple application that used in smoke tests\n+ */\n+public class AssertionApplication extends IgniteAwareApplication {\n+    /** {@inheritDoc} */\n+    @Override public void run(JsonNode jsonNode) {\n+        assert false;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU0NDU2MA=="}, "originalCommit": {"oid": "4abf8332d7cea5f1b18e4b44986a95c923f5053c"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU3MjAwNw==", "bodyText": "Done.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492572007", "createdAt": "2020-09-22T08:48:47Z", "author": {"login": "oleg-ostanin"}, "path": "modules/ducktests/src/main/java/org/apache/ignite/internal/ducktest/tests/smoke_test/AssertionApplication.java", "diffHunk": "@@ -0,0 +1,35 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.ignite.internal.ducktest.tests.smoke_test;\n+\n+import com.fasterxml.jackson.databind.JsonNode;\n+import java.util.UUID;\n+import org.apache.ignite.IgniteCache;\n+import org.apache.ignite.internal.IgniteInterruptedCheckedException;\n+import org.apache.ignite.internal.ducktest.utils.IgniteAwareApplication;\n+import org.apache.ignite.internal.util.typedef.internal.U;\n+\n+/**\n+ * Simple application that used in smoke tests\n+ */\n+public class AssertionApplication extends IgniteAwareApplication {\n+    /** {@inheritDoc} */\n+    @Override public void run(JsonNode jsonNode) {\n+        assert false;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU0NDU2MA=="}, "originalCommit": {"oid": "4abf8332d7cea5f1b18e4b44986a95c923f5053c"}, "originalPosition": 33}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU3MjUyMA==", "bodyText": "markFinished?", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492572520", "createdAt": "2020-09-22T08:49:35Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/src/main/java/org/apache/ignite/internal/ducktest/tests/smoke_test/AssertionApplication.java", "diffHunk": "@@ -0,0 +1,35 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.ignite.internal.ducktest.tests.smoke_test;\n+\n+import com.fasterxml.jackson.databind.JsonNode;\n+import java.util.UUID;\n+import org.apache.ignite.IgniteCache;\n+import org.apache.ignite.internal.IgniteInterruptedCheckedException;\n+import org.apache.ignite.internal.ducktest.utils.IgniteAwareApplication;\n+import org.apache.ignite.internal.util.typedef.internal.U;\n+\n+/**\n+ * Simple application that used in smoke tests\n+ */\n+public class AssertionApplication extends IgniteAwareApplication {\n+    /** {@inheritDoc} */\n+    @Override public void run(JsonNode jsonNode) {\n+        assert false;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU0NDU2MA=="}, "originalCommit": {"oid": "4abf8332d7cea5f1b18e4b44986a95c923f5053c"}, "originalPosition": 33}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MjY2MDIxOnYy", "diffSide": "RIGHT", "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODo1MDowMFrOHVwQcg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwOToyNTozMFrOHVxlkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU3Mjc4Ng==", "bodyText": "You don't need IgniteService at all.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492572786", "createdAt": "2020-09-22T08:50:00Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,59 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that services work\n+\"\"\"\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite import IgniteService\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+# pylint: disable=W0223\n+class SmokeSelfTest(IgniteTest):\n+    \"\"\"\n+    Tests services implementations\n+    \"\"\"\n+\n+    @cluster(num_nodes=2)\n+    @ignite_versions(str(DEV_BRANCH))\n+    def test_ignite_app_start_stop(self, ignite_version):\n+        \"\"\"\n+        Test to make sure Java assertions are converted to python exceptions\n+        \"\"\"\n+        server_configuration = IgniteConfiguration(version=IgniteVersion(ignite_version))\n+\n+        ignite = IgniteService(self.test_context, server_configuration, num_nodes=1)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11749d51aa2fafdff32afdd0d34bb4c8d14bc0bf"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU5NDU3Ng==", "bodyText": "Removed.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492594576", "createdAt": "2020-09-22T09:25:30Z", "author": {"login": "oleg-ostanin"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,59 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that services work\n+\"\"\"\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite import IgniteService\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+# pylint: disable=W0223\n+class SmokeSelfTest(IgniteTest):\n+    \"\"\"\n+    Tests services implementations\n+    \"\"\"\n+\n+    @cluster(num_nodes=2)\n+    @ignite_versions(str(DEV_BRANCH))\n+    def test_ignite_app_start_stop(self, ignite_version):\n+        \"\"\"\n+        Test to make sure Java assertions are converted to python exceptions\n+        \"\"\"\n+        server_configuration = IgniteConfiguration(version=IgniteVersion(ignite_version))\n+\n+        ignite = IgniteService(self.test_context, server_configuration, num_nodes=1)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU3Mjc4Ng=="}, "originalCommit": {"oid": "11749d51aa2fafdff32afdd0d34bb4c8d14bc0bf"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MjY2MTE5OnYy", "diffSide": "RIGHT", "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODo1MDoxMlrOHVwRAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwOToyNToxNFrOHVxk6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU3MjkzMA==", "bodyText": "app.stop()?", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492572930", "createdAt": "2020-09-22T08:50:12Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,59 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that services work\n+\"\"\"\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite import IgniteService\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+# pylint: disable=W0223\n+class SmokeSelfTest(IgniteTest):\n+    \"\"\"\n+    Tests services implementations\n+    \"\"\"\n+\n+    @cluster(num_nodes=2)\n+    @ignite_versions(str(DEV_BRANCH))\n+    def test_ignite_app_start_stop(self, ignite_version):\n+        \"\"\"\n+        Test to make sure Java assertions are converted to python exceptions\n+        \"\"\"\n+        server_configuration = IgniteConfiguration(version=IgniteVersion(ignite_version))\n+\n+        ignite = IgniteService(self.test_context, server_configuration, num_nodes=1)\n+\n+        app = IgniteApplicationService(\n+            self.test_context,\n+            server_configuration,\n+            java_class_name=\"org.apache.ignite.internal.ducktest.tests.smoke_test.AssertionApplication\")\n+\n+        ignite.start()\n+\n+        try:\n+            app.start()\n+        except Exception as e:\n+            assert str(e) == \"Java application execution failed. java.lang.AssertionError\"\n+        else:\n+            assert False\n+        finally:\n+            ignite.stop()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11749d51aa2fafdff32afdd0d34bb4c8d14bc0bf"}, "originalPosition": 59}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU5NDQxMA==", "bodyText": "Removed app.stop() completely.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492594410", "createdAt": "2020-09-22T09:25:14Z", "author": {"login": "oleg-ostanin"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,59 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that services work\n+\"\"\"\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite import IgniteService\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+# pylint: disable=W0223\n+class SmokeSelfTest(IgniteTest):\n+    \"\"\"\n+    Tests services implementations\n+    \"\"\"\n+\n+    @cluster(num_nodes=2)\n+    @ignite_versions(str(DEV_BRANCH))\n+    def test_ignite_app_start_stop(self, ignite_version):\n+        \"\"\"\n+        Test to make sure Java assertions are converted to python exceptions\n+        \"\"\"\n+        server_configuration = IgniteConfiguration(version=IgniteVersion(ignite_version))\n+\n+        ignite = IgniteService(self.test_context, server_configuration, num_nodes=1)\n+\n+        app = IgniteApplicationService(\n+            self.test_context,\n+            server_configuration,\n+            java_class_name=\"org.apache.ignite.internal.ducktest.tests.smoke_test.AssertionApplication\")\n+\n+        ignite.start()\n+\n+        try:\n+            app.start()\n+        except Exception as e:\n+            assert str(e) == \"Java application execution failed. java.lang.AssertionError\"\n+        else:\n+            assert False\n+        finally:\n+            ignite.stop()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU3MjkzMA=="}, "originalCommit": {"oid": "11749d51aa2fafdff32afdd0d34bb4c8d14bc0bf"}, "originalPosition": 59}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4MjY2MTg0OnYy", "diffSide": "RIGHT", "path": "modules/ducktests/tests/ignitetest/utils/ignite_test.py", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwODo1MDoyNlrOHVwRfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMlQwOToyNjowMFrOHVxnDA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU3MzA1Mw==", "bodyText": "remote this method", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492573053", "createdAt": "2020-09-22T08:50:26Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/tests/ignitetest/utils/ignite_test.py", "diffHunk": "@@ -40,3 +40,7 @@ def monotonic():\n             so that only the difference between the results of consecutive calls is valid.\n         \"\"\"\n         return monotonic()\n+\n+    @staticmethod", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11749d51aa2fafdff32afdd0d34bb4c8d14bc0bf"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU5NDk1Ng==", "bodyText": "Removed.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r492594956", "createdAt": "2020-09-22T09:26:00Z", "author": {"login": "oleg-ostanin"}, "path": "modules/ducktests/tests/ignitetest/utils/ignite_test.py", "diffHunk": "@@ -40,3 +40,7 @@ def monotonic():\n             so that only the difference between the results of consecutive calls is valid.\n         \"\"\"\n         return monotonic()\n+\n+    @staticmethod", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjU3MzA1Mw=="}, "originalCommit": {"oid": "11749d51aa2fafdff32afdd0d34bb4c8d14bc0bf"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4Njc5MzY2OnYy", "diffSide": "RIGHT", "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwNTo1MDo0OFrOHWXVUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwODoxMjowN1rOHXO1BQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzIxMzAxMA==", "bodyText": "Please, provide docs that related to this class.", "url": "https://github.com/apache/ignite/pull/8259#discussion_r493213010", "createdAt": "2020-09-23T05:50:48Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,53 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that ducktape works as expected\n+\"\"\"\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+# pylint: disable=W0223\n+class SmokeSelfTest(IgniteTest):\n+    \"\"\"\n+    Tests services implementations", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ece730f5c097c2183175b4efaa8dae139fbd3e4"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDEyMjI0NQ==", "bodyText": "Done", "url": "https://github.com/apache/ignite/pull/8259#discussion_r494122245", "createdAt": "2020-09-24T08:12:07Z", "author": {"login": "oleg-ostanin"}, "path": "modules/ducktests/tests/ignitetest/tests/assertion_test.py", "diffHunk": "@@ -0,0 +1,53 @@\n+# Licensed to the Apache Software Foundation (ASF) under one or more\n+# contributor license agreements.  See the NOTICE file distributed with\n+# this work for additional information regarding copyright ownership.\n+# The ASF licenses this file to You under the Apache License, Version 2.0\n+# (the \"License\"); you may not use this file except in compliance with\n+# the License.  You may obtain a copy of the License at\n+#\n+#    http://www.apache.org/licenses/LICENSE-2.0\n+#\n+# Unless required by applicable law or agreed to in writing, software\n+# distributed under the License is distributed on an \"AS IS\" BASIS,\n+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+# See the License for the specific language governing permissions and\n+# limitations under the License.\n+\n+\"\"\"\n+This module contains smoke tests that checks that ducktape works as expected\n+\"\"\"\n+\n+from ducktape.mark.resource import cluster\n+\n+from ignitetest.services.ignite_app import IgniteApplicationService\n+from ignitetest.services.utils.ignite_configuration import IgniteConfiguration\n+from ignitetest.utils import ignite_versions\n+from ignitetest.utils.ignite_test import IgniteTest\n+from ignitetest.utils.version import DEV_BRANCH, IgniteVersion\n+\n+# pylint: disable=W0223\n+class SmokeSelfTest(IgniteTest):\n+    \"\"\"\n+    Tests services implementations", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzIxMzAxMA=="}, "originalCommit": {"oid": "7ece730f5c097c2183175b4efaa8dae139fbd3e4"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA4Njc5NDI2OnYy", "diffSide": "RIGHT", "path": "modules/ducktests/src/main/java/org/apache/ignite/internal/ducktest/tests/smoke_test/AssertionApplication.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yM1QwNTo1MTowNFrOHWXVsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwODoxMTo1M1rOHXO0dg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzIxMzEwNQ==", "bodyText": "Please, provide docs that related to this class", "url": "https://github.com/apache/ignite/pull/8259#discussion_r493213105", "createdAt": "2020-09-23T05:51:04Z", "author": {"login": "timoninmaxim"}, "path": "modules/ducktests/src/main/java/org/apache/ignite/internal/ducktest/tests/smoke_test/AssertionApplication.java", "diffHunk": "@@ -0,0 +1,35 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.ignite.internal.ducktest.tests.smoke_test;\n+\n+import com.fasterxml.jackson.databind.JsonNode;\n+import org.apache.ignite.internal.ducktest.utils.IgniteAwareApplication;\n+\n+/**\n+ * Simple application that used in smoke tests", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ece730f5c097c2183175b4efaa8dae139fbd3e4"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDEyMjEwMg==", "bodyText": "Done", "url": "https://github.com/apache/ignite/pull/8259#discussion_r494122102", "createdAt": "2020-09-24T08:11:53Z", "author": {"login": "oleg-ostanin"}, "path": "modules/ducktests/src/main/java/org/apache/ignite/internal/ducktest/tests/smoke_test/AssertionApplication.java", "diffHunk": "@@ -0,0 +1,35 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one or more\n+ * contributor license agreements.  See the NOTICE file distributed with\n+ * this work for additional information regarding copyright ownership.\n+ * The ASF licenses this file to You under the Apache License, Version 2.0\n+ * (the \"License\"); you may not use this file except in compliance with\n+ * the License.  You may obtain a copy of the License at\n+ *\n+ *      http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.apache.ignite.internal.ducktest.tests.smoke_test;\n+\n+import com.fasterxml.jackson.databind.JsonNode;\n+import org.apache.ignite.internal.ducktest.utils.IgniteAwareApplication;\n+\n+/**\n+ * Simple application that used in smoke tests", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzIxMzEwNQ=="}, "originalCommit": {"oid": "7ece730f5c097c2183175b4efaa8dae139fbd3e4"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2676, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}