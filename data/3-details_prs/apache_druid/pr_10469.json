{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3MTgyMTY5", "number": 10469, "title": "Test UI to trigger auto compaction", "bodyText": "Description\nIn the web console end-to-end tests, use the new UI to trigger auto compaction instead of calling the REST API directly so that the UI is covered by tests.\n\nThis PR has:\n\n been self-reviewed.\n added comments explaining the \"why\" and the intent of the code wherever would not be obvious for an unfamiliar reader.\n added end-to-end tests.", "createdAt": "2020-10-03T00:05:58Z", "url": "https://github.com/apache/druid/pull/10469", "merged": true, "mergeCommit": {"oid": "1c77491da691e774e5ce5ea1c7d2f398d9d1e3ba"}, "closed": true, "closedAt": "2020-10-04T07:06:08Z", "author": {"login": "ccaominh"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOvAefAH2gAyNDk3MTgyMTY5OjRlYTdkYzAwMjkzZTdiNjcxNjBhYWY2MDkyZGEyNjY0OGEyYWM4Zjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdPJud8AFqTUwMTU5NjYzOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4ea7dc00293e7b67160aaf6092da26648a2ac8f7", "author": {"user": {"login": "ccaominh", "name": "Chi Cao Minh"}}, "url": "https://github.com/apache/druid/commit/4ea7dc00293e7b67160aaf6092da26648a2ac8f7", "committedDate": "2020-10-02T23:58:14Z", "message": "Test UI to trigger auto compaction\n\nIn the web console E2E tests, Use the new UI to trigger auto compaction\ninstead of calling the REST API directly so that the UI is covered by\ntests."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNTUzNzcz", "url": "https://github.com/apache/druid/pull/10469#pullrequestreview-501553773", "createdAt": "2020-10-03T15:27:59Z", "commit": {"oid": "4ea7dc00293e7b67160aaf6092da26648a2ac8f7"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wM1QxNToyNzo1OVrOHcCI8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wM1QxNToyNzo1OVrOHcCI8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTE1NzIzNA==", "bodyText": "Do you think that we should make an allowance in the UI and have a 'testing' mode that zeroes out all the delays in all the popovers in the UI hoverCloseDelay={0} hoverOpenDelay={0}. I am imagining that you could evaluate some sort of enterTestingMode() function in the app context and it will do this and other things. Not for this PR but wanted to get your thoughts on it.", "url": "https://github.com/apache/druid/pull/10469#discussion_r499157234", "createdAt": "2020-10-03T15:27:59Z", "author": {"login": "vogievetsky"}, "path": "web-console/e2e-tests/component/datasources/overview.ts", "diffHunk": "@@ -116,6 +124,23 @@ export class DatasourcesOverview {\n \n     const editActions = await this.page.$$('span[icon=wrench]');\n     editActions[index].click();\n+    await this.waitForPopupMenu();\n+  }\n+\n+  private async waitForPopupMenu(): Promise<void> {\n+    await this.page.waitFor(1000); // https://blueprintjs.com/docs/#core/components/popover.testing", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4ea7dc00293e7b67160aaf6092da26648a2ac8f7"}, "originalPosition": 50}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ef609f1c0a1605b681ce79af9b944b6a2e28b38", "author": {"user": {"login": "ccaominh", "name": "Chi Cao Minh"}}, "url": "https://github.com/apache/druid/commit/3ef609f1c0a1605b681ce79af9b944b6a2e28b38", "committedDate": "2020-10-04T00:06:13Z", "message": "Merge remote-tracking branch 'upstream/master' into test-autocompaction-trigger-ui"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxNTk2NjM5", "url": "https://github.com/apache/druid/pull/10469#pullrequestreview-501596639", "createdAt": "2020-10-04T07:06:00Z", "commit": {"oid": "3ef609f1c0a1605b681ce79af9b944b6a2e28b38"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3327, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}