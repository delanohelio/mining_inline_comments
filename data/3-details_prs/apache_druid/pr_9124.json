{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5MTUzODk2", "number": 9124, "title": "Add avro dependency to parquet extension", "bodyText": "Description\nIf the parquet extension is loaded and an ingestionSpec uses the older format\nspecifying a 'parser' instead of using an 'inputFormat' the job fails\nwith the following error\njava.lang.TypeNotPresentException: Type org.apache.avro.generic.GenericRecord not present\nThis change removes the exclusion of the avro package so that the missing\nclass can be found.\n\nThis PR has:\n\n been self-reviewed.\n added integration tests.\n been tested in a test Druid cluster.", "createdAt": "2020-01-03T23:26:51Z", "url": "https://github.com/apache/druid/pull/9124", "merged": true, "mergeCommit": {"oid": "bdd0d0d8a50f0b27e5b54cd8c88596b3cffbbd9f"}, "closed": true, "closedAt": "2020-01-04T02:11:14Z", "author": {"login": "suneet-s"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb220HLAH2gAyMzU5MTUzODk2OjU5YWI1YWJjNTZjMWQzYzFlMWYzODZmMzAwYzhiOTQwYzZmZmVlNDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb25Q_NgFqTMzODMzMjMzMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "59ab5abc56c1d3c1e1f386f300c8b940c6ffee45", "author": {"user": {"login": "suneet-s", "name": "Suneet Saldanha"}}, "url": "https://github.com/apache/druid/commit/59ab5abc56c1d3c1e1f386f300c8b940c6ffee45", "committedDate": "2020-01-03T23:18:38Z", "message": "Add avro dependency to parquet extension\n\nIf the parquet extension is loaded and an ingestionSpec uses the older format\nspecifying a 'parser' instead of using an 'inputFormat' the job fails\nwith the following error\n\njava.lang.TypeNotPresentException: Type org.apache.avro.generic.GenericRecord not present\n\nThis change removes the exclusion of the avro package so that the missing\nclass can be found."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4MzE1Mzgw", "url": "https://github.com/apache/druid/pull/9124#pullrequestreview-338315380", "createdAt": "2020-01-03T23:30:19Z", "commit": {"oid": "59ab5abc56c1d3c1e1f386f300c8b940c6ffee45"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMzozMDoxOVrOFaLYlA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMzozMDoxOVrOFaLYlA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk5MzgxMg==", "bodyText": "See lines 83 - 86 there is another exclusion for this library. I'm not sure if that exclusion should be removed as well.", "url": "https://github.com/apache/druid/pull/9124#discussion_r362993812", "createdAt": "2020-01-03T23:30:19Z", "author": {"login": "suneet-s"}, "path": "extensions-core/parquet-extensions/pom.xml", "diffHunk": "@@ -209,10 +205,6 @@\n           <groupId>org.apache.yetus</groupId>\n           <artifactId>audience-annotations</artifactId>\n         </exclusion>\n-        <exclusion>\n-          <groupId>org.apache.avro</groupId>\n-          <artifactId>avro</artifactId>\n-        </exclusion>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59ab5abc56c1d3c1e1f386f300c8b940c6ffee45"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4MzE4MTM1", "url": "https://github.com/apache/druid/pull/9124#pullrequestreview-338318135", "createdAt": "2020-01-03T23:46:49Z", "commit": {"oid": "59ab5abc56c1d3c1e1f386f300c8b940c6ffee45"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMzo0Njo0OVrOFaLh7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wM1QyMzo0Njo0OVrOFaLh7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Mjk5NjIwNg==", "bodyText": "How about keeping this in, but without <scope>provided</scope>.\nIt seems like the dependency really is needed, but it is not provided, so it should have normal scope.", "url": "https://github.com/apache/druid/pull/9124#discussion_r362996206", "createdAt": "2020-01-03T23:46:49Z", "author": {"login": "gianm"}, "path": "extensions-core/parquet-extensions/pom.xml", "diffHunk": "@@ -411,11 +403,6 @@\n       <artifactId>api-util</artifactId>\n       <scope>provided</scope>\n     </dependency>\n-    <dependency>\n-      <groupId>org.apache.avro</groupId>\n-      <artifactId>avro</artifactId>\n-      <scope>provided</scope>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "59ab5abc56c1d3c1e1f386f300c8b940c6ffee45"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "592e311a0d6e21e2f5445cd14f5883fcb86278e0", "author": {"user": {"login": "suneet-s", "name": "Suneet Saldanha"}}, "url": "https://github.com/apache/druid/commit/592e311a0d6e21e2f5445cd14f5883fcb86278e0", "committedDate": "2020-01-04T00:22:37Z", "message": "Address review comments and add dependency version"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4MzMyMzMy", "url": "https://github.com/apache/druid/pull/9124#pullrequestreview-338332332", "createdAt": "2020-01-04T02:09:59Z", "commit": {"oid": "592e311a0d6e21e2f5445cd14f5883fcb86278e0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3839, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}