{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQzMDA5OTAw", "number": 10123, "title": "Fix UnknownComplexTypeColumn#makeVectorObjectSelector. Add a warning \u2026", "bodyText": "Follow up fix for #9422", "createdAt": "2020-07-01T21:50:38Z", "url": "https://github.com/apache/druid/pull/10123", "merged": true, "mergeCommit": {"oid": "e2c5bcc22d2c175bba51fbb2a9c90303ecdf6f44"}, "closed": true, "closedAt": "2020-07-02T03:06:24Z", "author": {"login": "samarthjain"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwxa4_AH2gAyNDQzMDA5OTAwOmQ5MDM5YjAwY2MwOTI2NTU1MzI1NzM2NzkwODZlNTFmYjJiMGMxYzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcw17azgH2gAyNDQzMDA5OTAwOjlkN2MyMzVkNjIyNzFjYTExYjAyNGRiNDA2MWFkNGE0ZTZkMzU5YmU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d9039b00cc092655532573679086e51fb2b0c1c2", "author": {"user": {"login": "samarthjain", "name": "Samarth Jain"}}, "url": "https://github.com/apache/druid/commit/d9039b00cc092655532573679086e51fb2b0c1c2", "committedDate": "2020-07-01T21:49:10Z", "message": "Fix UnknownComplexTypeColumn#makeVectorObjectSelector. Add a warning message to indicate failure in deserializing"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxMjIzOTk2", "url": "https://github.com/apache/druid/pull/10123#pullrequestreview-441223996", "createdAt": "2020-07-01T22:00:29Z", "commit": {"oid": "d9039b00cc092655532573679086e51fb2b0c1c2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxMjI4OTYx", "url": "https://github.com/apache/druid/pull/10123#pullrequestreview-441228961", "createdAt": "2020-07-01T22:11:46Z", "commit": {"oid": "d9039b00cc092655532573679086e51fb2b0c1c2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQyMjoxMTo0NlrOGr2-Xw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQyMjoxMTo0NlrOGr2-Xw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY0MjY1NQ==", "bodyText": "Sorry I just looked even closer, I now think the actual best place for this log is probably in ComplexColumnPartSerde, in the getDeserializer method if serde is null. This way you can include the 'typeName' of the missing type, which isn't available in SimpleColumnHolder, my bad.", "url": "https://github.com/apache/druid/pull/10123#discussion_r448642655", "createdAt": "2020-07-01T22:11:46Z", "author": {"login": "clintropolis"}, "path": "processing/src/main/java/org/apache/druid/segment/column/SimpleColumnHolder.java", "diffHunk": "@@ -61,6 +63,8 @@\n           capabilities.getType() == ValueType.COMPLEX,\n           \"Only complex column types can have nullable column suppliers\"\n       );\n+      log.warn(\"Null column supplier for a complex column was passed which indicates \"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9039b00cc092655532573679086e51fb2b0c1c2"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1171515d7b85f4a60496a67b34b31725278f2b2c", "author": {"user": {"login": "samarthjain", "name": "Samarth Jain"}}, "url": "https://github.com/apache/druid/commit/1171515d7b85f4a60496a67b34b31725278f2b2c", "committedDate": "2020-07-01T22:31:54Z", "message": "Improve and move warning message to ComplexColumnPartSerde"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxMjc0NTU5", "url": "https://github.com/apache/druid/pull/10123#pullrequestreview-441274559", "createdAt": "2020-07-02T00:26:44Z", "commit": {"oid": "1171515d7b85f4a60496a67b34b31725278f2b2c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwMDoyNjo0NFrOGr5bww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwMDoyNjo0NFrOGr5bww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY4Mjk0Nw==", "bodyText": "I think this is going to fail Travis for unused import", "url": "https://github.com/apache/druid/pull/10123#discussion_r448682947", "createdAt": "2020-07-02T00:26:44Z", "author": {"login": "clintropolis"}, "path": "processing/src/main/java/org/apache/druid/segment/column/SimpleColumnHolder.java", "diffHunk": "@@ -21,6 +21,7 @@\n \n import com.google.common.base.Preconditions;\n import com.google.common.base.Supplier;\n+import org.apache.druid.java.util.common.logger.Logger;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1171515d7b85f4a60496a67b34b31725278f2b2c"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c25f194fad593ea520812e943baf85fef720a93a", "author": {"user": {"login": "samarthjain", "name": "Samarth Jain"}}, "url": "https://github.com/apache/druid/commit/c25f194fad593ea520812e943baf85fef720a93a", "committedDate": "2020-07-02T00:31:54Z", "message": "Remove unused import"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxMzA0NzIx", "url": "https://github.com/apache/druid/pull/10123#pullrequestreview-441304721", "createdAt": "2020-07-02T02:13:51Z", "commit": {"oid": "c25f194fad593ea520812e943baf85fef720a93a"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwMjoxMzo1MVrOGr7FNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwMjoxMzo1MVrOGr7FNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODcwOTk0Mg==", "bodyText": "nit: chosing -> choosing", "url": "https://github.com/apache/druid/pull/10123#discussion_r448709942", "createdAt": "2020-07-02T02:13:51Z", "author": {"login": "clintropolis"}, "path": "processing/src/main/java/org/apache/druid/segment/serde/ComplexColumnPartSerde.java", "diffHunk": "@@ -33,11 +34,17 @@\n   @Nullable\n   private final ComplexMetricSerde serde;\n   private final Serializer serializer;\n+  private static final Logger log = new Logger(ComplexColumnPartSerde.class);\n \n   private ComplexColumnPartSerde(String typeName, Serializer serializer)\n   {\n     this.typeName = typeName;\n     this.serde = ComplexMetrics.getSerdeForType(typeName);\n+    if (this.serde == null) {\n+      // Not chosing to fail here since this gets handled as", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c25f194fad593ea520812e943baf85fef720a93a"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9d7c235d62271ca11b024db4061ad4a4e6d359be", "author": {"user": {"login": "samarthjain", "name": "Samarth Jain"}}, "url": "https://github.com/apache/druid/commit/9d7c235d62271ca11b024db4061ad4a4e6d359be", "committedDate": "2020-07-02T03:04:19Z", "message": "Fix typo"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2232, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}