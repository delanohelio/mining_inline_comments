{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyODMwODQz", "number": 10119, "title": "Combine InDimFilter, InFilter.", "bodyText": "There are two motivations:\n\nEnsure that when HashJoinSegmentStorageAdapter compares its Filter\nto the original one, and it is an \"in\" type, the comparison is by\nreference and does not need to check deep equality. This is useful\nwhen the \"in\" filter is very large.\nSimplify things. (There isn't a great reason for the DimFilter and\nFilter logic to be separate, and combining them reduces some\nduplication.)", "createdAt": "2020-07-01T17:13:02Z", "url": "https://github.com/apache/druid/pull/10119", "merged": true, "mergeCommit": {"oid": "170031744e8a2ed5fc4c06062df014bcfcfe2e1f"}, "closed": true, "closedAt": "2020-08-07T01:34:22Z", "author": {"login": "gianm"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwtdo-gH2gAyNDQyODMwODQzOjc1NGJkZTVlNGI4MDBhZDAxNWQwZGVjNGYyZTgzNzU5YjU1NDY0NDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8aLq4gFqTQ2Mjk3OTYzOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "754bde5e4b800ad015d0dec4f2e83759b5546447", "author": {"user": {"login": "gianm", "name": "Gian Merlino"}}, "url": "https://github.com/apache/druid/commit/754bde5e4b800ad015d0dec4f2e83759b5546447", "committedDate": "2020-07-01T17:12:33Z", "message": "Combine InDimFilter, InFilter.\n\nThere are two motivations:\n\n1. Ensure that when HashJoinSegmentStorageAdapter compares its Filter\n   to the original one, and it is an \"in\" type, the comparison is by\n   reference and does not need to check deep equality. This is useful\n   when the \"in\" filter is very large.\n2. Simplify things. (There isn't a great reason for the DimFilter and\n   Filter logic to be separate, and combining them reduces some\n   duplication.)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxMjcxODQ2", "url": "https://github.com/apache/druid/pull/10119#pullrequestreview-461271846", "createdAt": "2020-08-05T01:02:16Z", "commit": {"oid": "754bde5e4b800ad015d0dec4f2e83759b5546447"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwMTowMjoxNlrOG72f4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQwMTowMjoxNlrOG72f4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTQxMjA2NQ==", "bodyText": "Imagining a future world where DimFilter and Filter are combined, in the future can we rename this to InFilter instead of InDimFilter and drop all the DimFilter terminology?\nIs the place where the DimFilter implementations live org.apache.druid.query.filter more appropriate packaging than the place where the Filter implementations live org.apache.druid.segment.filter?", "url": "https://github.com/apache/druid/pull/10119#discussion_r465412065", "createdAt": "2020-08-05T01:02:16Z", "author": {"login": "clintropolis"}, "path": "processing/src/main/java/org/apache/druid/query/filter/InDimFilter.java", "diffHunk": "@@ -56,12 +69,14 @@\n import java.util.Collection;\n import java.util.Comparator;\n import java.util.HashSet;\n+import java.util.Iterator;\n import java.util.List;\n+import java.util.Map;\n import java.util.Objects;\n import java.util.Set;\n import java.util.stream.Collectors;\n \n-public class InDimFilter implements DimFilter\n+public class InDimFilter implements DimFilter, Filter", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "754bde5e4b800ad015d0dec4f2e83759b5546447"}, "originalPosition": 51}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "983e19f0d2daf926c1276959cb397671aca1baa9", "author": {"user": {"login": "gianm", "name": "Gian Merlino"}}, "url": "https://github.com/apache/druid/commit/983e19f0d2daf926c1276959cb397671aca1baa9", "committedDate": "2020-08-05T22:44:25Z", "message": "Merge branch 'master' into fix-comment-and-cache-in-filter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8ac3470059c639250a046efb6493c93be80365ae", "author": {"user": {"login": "gianm", "name": "Gian Merlino"}}, "url": "https://github.com/apache/druid/commit/8ac3470059c639250a046efb6493c93be80365ae", "committedDate": "2020-08-06T08:01:07Z", "message": "Fix test."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyOTc5NjM5", "url": "https://github.com/apache/druid/pull/10119#pullrequestreview-462979639", "createdAt": "2020-08-07T01:31:49Z", "commit": {"oid": "8ac3470059c639250a046efb6493c93be80365ae"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2224, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}