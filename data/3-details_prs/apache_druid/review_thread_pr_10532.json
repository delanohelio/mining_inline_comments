{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEwMzg5NDUz", "number": 10532, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxODoyNToyN1rOEyfoAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxNDoyMjozOVrOEy1iCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxMzgyNDAxOnYy", "diffSide": "RIGHT", "path": "docs/development/extensions-core/druid-basic-security.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxODoyNToyN1rOHpK0lA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxOTo0MzowN1rOHp6ofQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjkzMDk2NA==", "bodyText": "above 2 lines seems to be contradictory, first one says you must define it and 2nd mentions a default value.\nprobably, reword as - \"The authenticator uses metadata credentials validator by default which can be configured to metadata.\" Or similar wordings.", "url": "https://github.com/apache/druid/pull/10532#discussion_r512930964", "createdAt": "2020-10-27T18:25:27Z", "author": {"login": "nishantmonu51"}, "path": "docs/development/extensions-core/druid-basic-security.md", "diffHunk": "@@ -62,16 +69,16 @@ druid.auth.authenticator.MyBasicMetadataAuthenticator.authorizerName=MyBasicMeta\n ```\n \n To use the Basic authenticator, add an authenticator with type `basic` to the authenticatorChain.\n-The authenticator needs to also define a credentialsValidator with type 'metadata' or 'ldap'.\n-If credentialsValidator is not specified, type 'metadata' will be used as default.\n+The authenticator must define a credentials validator `credentialsValidator` with type 'metadata' or 'ldap'.\n+Otherwise the credentials validator defaults to `metadata` if you do not specify another type.", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzcxNDMwMQ==", "bodyText": "@nishantmonu51 , @suneet-s updated this to reflect that metadata is the default. And you only need to define one for LDAP. PTAL. Not sure if I've 100% got the nuance here.", "url": "https://github.com/apache/druid/pull/10532#discussion_r513714301", "createdAt": "2020-10-28T19:43:07Z", "author": {"login": "techdocsmith"}, "path": "docs/development/extensions-core/druid-basic-security.md", "diffHunk": "@@ -62,16 +69,16 @@ druid.auth.authenticator.MyBasicMetadataAuthenticator.authorizerName=MyBasicMeta\n ```\n \n To use the Basic authenticator, add an authenticator with type `basic` to the authenticatorChain.\n-The authenticator needs to also define a credentialsValidator with type 'metadata' or 'ldap'.\n-If credentialsValidator is not specified, type 'metadata' will be used as default.\n+The authenticator must define a credentials validator `credentialsValidator` with type 'metadata' or 'ldap'.\n+Otherwise the credentials validator defaults to `metadata` if you do not specify another type.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjkzMDk2NA=="}, "originalCommit": null, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxNzQxMzIxOnYy", "diffSide": "RIGHT", "path": "docs/development/extensions-core/druid-basic-security.md", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxNDoyMjozOVrOHpskWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxOTo0MTo1OVrOHp6mGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzQ4Mzg2Nw==", "bodyText": "The iterations impact all API calls, this title makes me think it only impacts query response time. Similar comment in the paragraph below. I don't have a better suggestion at this point", "url": "https://github.com/apache/druid/pull/10532#discussion_r513483867", "createdAt": "2020-10-28T14:22:39Z", "author": {"login": "suneet-s"}, "path": "docs/development/extensions-core/druid-basic-security.md", "diffHunk": "@@ -81,11 +88,17 @@ The authenticator configuration examples in the rest of this document will use \"\n |`druid.auth.authenticator.MyBasicMetadataAuthenticator.initialInternalClientPassword`|Initial [Password Provider](../../operations/password-provider.md) for the default internal system user, used for internal process communication. If no password is specified, the default internal system user will not be created. If the default internal system user already exists, setting this property will not affect its password.|null|No|\n |`druid.auth.authenticator.MyBasicMetadataAuthenticator.enableCacheNotifications`|If true, the Coordinator will notify Druid processes whenever a configuration change to this Authenticator occurs, allowing them to immediately update their state without waiting for polling.|true|No|\n |`druid.auth.authenticator.MyBasicMetadataAuthenticator.cacheNotificationTimeout`|The timeout in milliseconds for the cache notifications.|5000|No|\n-|`druid.auth.authenticator.MyBasicMetadataAuthenticator.credentialIterations`|Number of iterations to use for password hashing.|10000|No|\n+|`druid.auth.authenticator.MyBasicMetadataAuthenticator.credentialIterations`|Number of iterations to use for password hashing. See [Credential iterations and query times](#credential-iterations-and-query-times)|10000|No|\n |`druid.auth.authenticator.MyBasicMetadataAuthenticator.credentialsValidator.type`|The type of credentials store (metadata) to validate requests credentials.|metadata|No|\n |`druid.auth.authenticator.MyBasicMetadataAuthenticator.skipOnFailure`|If true and the request credential doesn't exists or isn't fully configured in the credentials store, the request will proceed to next Authenticator in the chain.|false|No|\n |`druid.auth.authenticator.MyBasicMetadataAuthenticator.authorizerName`|Authorizer that requests should be directed to|N/A|Yes|\n \n+##### Credential iterations and query times", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzcxMzY4OA==", "bodyText": "@suneet-s I have updated this to reflect that the impact is on all API calls, but in the first sentence mention \"including queries\"", "url": "https://github.com/apache/druid/pull/10532#discussion_r513713688", "createdAt": "2020-10-28T19:41:59Z", "author": {"login": "techdocsmith"}, "path": "docs/development/extensions-core/druid-basic-security.md", "diffHunk": "@@ -81,11 +88,17 @@ The authenticator configuration examples in the rest of this document will use \"\n |`druid.auth.authenticator.MyBasicMetadataAuthenticator.initialInternalClientPassword`|Initial [Password Provider](../../operations/password-provider.md) for the default internal system user, used for internal process communication. If no password is specified, the default internal system user will not be created. If the default internal system user already exists, setting this property will not affect its password.|null|No|\n |`druid.auth.authenticator.MyBasicMetadataAuthenticator.enableCacheNotifications`|If true, the Coordinator will notify Druid processes whenever a configuration change to this Authenticator occurs, allowing them to immediately update their state without waiting for polling.|true|No|\n |`druid.auth.authenticator.MyBasicMetadataAuthenticator.cacheNotificationTimeout`|The timeout in milliseconds for the cache notifications.|5000|No|\n-|`druid.auth.authenticator.MyBasicMetadataAuthenticator.credentialIterations`|Number of iterations to use for password hashing.|10000|No|\n+|`druid.auth.authenticator.MyBasicMetadataAuthenticator.credentialIterations`|Number of iterations to use for password hashing. See [Credential iterations and query times](#credential-iterations-and-query-times)|10000|No|\n |`druid.auth.authenticator.MyBasicMetadataAuthenticator.credentialsValidator.type`|The type of credentials store (metadata) to validate requests credentials.|metadata|No|\n |`druid.auth.authenticator.MyBasicMetadataAuthenticator.skipOnFailure`|If true and the request credential doesn't exists or isn't fully configured in the credentials store, the request will proceed to next Authenticator in the chain.|false|No|\n |`druid.auth.authenticator.MyBasicMetadataAuthenticator.authorizerName`|Authorizer that requests should be directed to|N/A|Yes|\n \n+##### Credential iterations and query times", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzQ4Mzg2Nw=="}, "originalCommit": null, "originalPosition": 67}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3068, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}