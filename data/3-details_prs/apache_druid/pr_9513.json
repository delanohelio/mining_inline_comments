{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg3OTI3ODY3", "number": 9513, "title": "Add the option to start Hadoop docker container when running integration tests", "bodyText": "Add the option to start Hadoop docker container when running integration tests\nHadoop docker container can easily be start when running any integration test by passing in the -Dstart.hadoop.docker=true\nBy default Hadoop container is not build nor start.\nHadoop docker container is build and setup by the same scripts that is use in our examples/quickstart/tutorial/hadoop/docker for the following reasons:\n\nOnly maintains one set of Hadoop docker build/setup/startup scripts.\nWe should be able to easily test against what we give Druid user in our docs/tutorial and make sure they always work to ensure a pleasant user experience.\n\nTested and verified to be working:\nUse the -Dstart.hadoop.docker=true when running mvn to bring the Hadoop container up (this will setup all the xml, env, hadoop-dependencies, etc.).\nOnce it is up, I can submit ingestion task to druid running in the other container which then submit map/reduce to the Hadoop container and ingest data successfully.\nThis PR has:\n\n been self-reviewed.\n added documentation for new or modified features or behaviors.\n added Javadocs for most classes and all non-trivial methods. Linked related entities via Javadoc links.\n added or updated version, license, or notice information in licenses.yaml\n added comments explaining the \"why\" and the intent of the code wherever would not be obvious for an unfamiliar reader.\n added unit tests or modified existing tests to cover new code paths.\n added integration tests.\n been tested in a test Druid cluster.", "createdAt": "2020-03-13T18:52:51Z", "url": "https://github.com/apache/druid/pull/9513", "merged": true, "mergeCommit": {"oid": "09600db8f2bedd6965f15d8d7fe81b39bcd89ac9"}, "closed": true, "closedAt": "2020-03-16T19:04:06Z", "author": {"login": "maytasm"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcNUwiggH2gAyMzg3OTI3ODY3OjZiNGYzYjNiNjZjNjUzYTMzOTc4NGFhOTk1YTQ2MzlhNTI3ZDFhODg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcOS7EfAFqTM3NTUwNzI1Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6b4f3b3b66c653a339784aa995a4639a527d1a88", "author": {"user": {"login": "maytasm", "name": "Maytas Monsereenusorn"}}, "url": "https://github.com/apache/druid/commit/6b4f3b3b66c653a339784aa995a4639a527d1a88", "committedDate": "2020-03-13T18:38:13Z", "message": "hadoop docker it"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a97d3aa7eb38ce8c0ef9bfc538db5680a2811da", "author": {"user": {"login": "maytasm", "name": "Maytas Monsereenusorn"}}, "url": "https://github.com/apache/druid/commit/8a97d3aa7eb38ce8c0ef9bfc538db5680a2811da", "committedDate": "2020-03-13T18:48:38Z", "message": "hadoop docker container it"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "082a1a120a24f0582a1cb02773cefb86b401608f", "author": {"user": {"login": "maytasm", "name": "Maytas Monsereenusorn"}}, "url": "https://github.com/apache/druid/commit/082a1a120a24f0582a1cb02773cefb86b401608f", "committedDate": "2020-03-14T02:44:48Z", "message": "fix hadoop container"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1NDg2OTIz", "url": "https://github.com/apache/druid/pull/9513#pullrequestreview-375486923", "createdAt": "2020-03-16T18:37:01Z", "commit": {"oid": "082a1a120a24f0582a1cb02773cefb86b401608f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxODozNzowMlrOF3BKow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xNlQxODozNzowMlrOF3BKow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzIzNTEwNw==", "bodyText": "Is this being used currently?", "url": "https://github.com/apache/druid/pull/9513#discussion_r393235107", "createdAt": "2020-03-16T18:37:02Z", "author": {"login": "jon-wei"}, "path": "integration-tests/docker/environment-configs/common", "diffHunk": "@@ -62,3 +62,4 @@ druid_zk_service_host=druid-zookeeper-kafka\n druid_auth_basic_common_maxSyncRetries=20\n druid_indexer_logs_directory=/shared/tasklogs\n druid_sql_enable=true\n+druid_extensions_hadoopDependenciesDir=/shared/hadoop-dependencies", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "082a1a120a24f0582a1cb02773cefb86b401608f"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1NTA3MjU3", "url": "https://github.com/apache/druid/pull/9513#pullrequestreview-375507257", "createdAt": "2020-03-16T19:03:50Z", "commit": {"oid": "082a1a120a24f0582a1cb02773cefb86b401608f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2639, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}