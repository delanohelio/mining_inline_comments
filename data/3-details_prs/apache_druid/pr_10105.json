{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQyMzEyNDg0", "number": 10105, "title": "Clarify change in behavior for druid.server.maxSize", "bodyText": "With #10070 , druid.server.maxSize is no longer just a soft limit on the total segment size that can be assigned to a historical. If this property is set to the default value of 0 for a historical, coordinator will no longer assign segments to it.\nThis doc change attempts to clarify this behavior.\nLong term, it would be useful to identify a more realistic default value for this property instead of zero.", "createdAt": "2020-06-30T21:43:42Z", "url": "https://github.com/apache/druid/pull/10105", "merged": true, "mergeCommit": {"oid": "367eaedbb412bdd1d5172e3a6e39649d2f246f24"}, "closed": true, "closedAt": "2020-07-02T05:22:18Z", "author": {"login": "a2l007"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcwckwOAH2gAyNDQyMzEyNDg0OjM1YmM1N2Q4YmM2ZjdlMTliMzU1NjFhNjRiZjI2NWI3ZjM0ZjU2NjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwhFAdgFqTQ0MDUxMTIzMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "35bc57d8bc6f7e19b35561a64bf265b7f34f5662", "author": {"user": null}, "url": "https://github.com/apache/druid/commit/35bc57d8bc6f7e19b35561a64bf265b7f34f5662", "committedDate": "2020-06-30T21:31:56Z", "message": "Clarify maxSize docs"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwNDg5NDg5", "url": "https://github.com/apache/druid/pull/10105#pullrequestreview-440489489", "createdAt": "2020-07-01T01:30:33Z", "commit": {"oid": "35bc57d8bc6f7e19b35561a64bf265b7f34f5662"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwMTozMDozM1rOGrT0QA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQwMTozMDozM1rOGrT0QA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODA2NjYyNA==", "bodyText": "Should this mention that this size should be equal(ish) to the sum of all segment cache location sizes? Ideally someday we can drop this property and just compute it from the segment cache config, but .. that day is not today, so maybe it is worth including.", "url": "https://github.com/apache/druid/pull/10105#discussion_r448066624", "createdAt": "2020-07-01T01:30:33Z", "author": {"login": "clintropolis"}, "path": "docs/configuration/index.md", "diffHunk": "@@ -1370,7 +1370,7 @@ These Historical configurations can be defined in the `historical/runtime.proper\n \n |Property|Description|Default|\n |--------|-----------|-------|\n-|`druid.server.maxSize`|The maximum number of bytes-worth of segments that the process wants assigned to it. This is not a limit that Historical processes actually enforces, just a value published to the Coordinator process so it can plan accordingly.|0|\n+|`druid.server.maxSize`|The maximum number of bytes-worth of segments that the process wants assigned to it. The Coordinator process will attempt to assign segments to a Historical process only if this property is greater than the total size of segments served by it. Since this property defines the upper limit on the total segment size that can be assigned to a Historical, it needs to be set to a value greater than zero.|0|", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "35bc57d8bc6f7e19b35561a64bf265b7f34f5662"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7752093ba2d7447238c278ea106591e68c51c3c4", "author": {"user": null}, "url": "https://github.com/apache/druid/commit/7752093ba2d7447238c278ea106591e68c51c3c4", "committedDate": "2020-07-01T02:20:04Z", "message": "Merge branch 'master' of https://github.com/druid-io/druid into maxsize_docs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1310044a161872b095cbb4b938667a4df9e7553", "author": {"user": null}, "url": "https://github.com/apache/druid/commit/f1310044a161872b095cbb4b938667a4df9e7553", "committedDate": "2020-07-01T02:36:03Z", "message": "Add info about maxSize"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwNTExMjMx", "url": "https://github.com/apache/druid/pull/10105#pullrequestreview-440511231", "createdAt": "2020-07-01T02:46:47Z", "commit": {"oid": "f1310044a161872b095cbb4b938667a4df9e7553"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2207, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}