{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzOTAyMjQ5", "number": 9567, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxODo1NzoyM1rODryjKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxOToyNjoyN1rODtrHtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ3MjQzNTYxOnYy", "diffSide": "RIGHT", "path": "web-console/src/views/load-data-view/load-data-view.tsx", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQxODo1NzoyM1rOF8V6BA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yN1QyMDoxMzowN1rOF9Abig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgxNzc5Ng==", "bodyText": "I think this should be newFilterValue || restFilter otherwise the filter disappears after you click Apply", "url": "https://github.com/apache/druid/pull/9567#discussion_r398817796", "createdAt": "2020-03-26T18:57:23Z", "author": {"login": "vogievetsky"}, "path": "web-console/src/views/load-data-view/load-data-view.tsx", "diffHunk": "@@ -2094,19 +2096,25 @@ export class LoadDataView extends React.PureComponent<LoadDataViewProps, LoadDat\n           />\n           <FormGroup label=\"Extra filter\">\n             <JsonInput\n-              value={restFilter}\n-              onChange={f => {\n+              value={newFilterValue}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ed24a2ec5fff3fdc9e300303c4af1843bb26186a"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTUxNDUwNg==", "bodyText": "I am manually clearing the filter by setting newFilter to undefined. I think I can just remove that.", "url": "https://github.com/apache/druid/pull/9567#discussion_r399514506", "createdAt": "2020-03-27T20:13:07Z", "author": {"login": "mcbrewster"}, "path": "web-console/src/views/load-data-view/load-data-view.tsx", "diffHunk": "@@ -2094,19 +2096,25 @@ export class LoadDataView extends React.PureComponent<LoadDataViewProps, LoadDat\n           />\n           <FormGroup label=\"Extra filter\">\n             <JsonInput\n-              value={restFilter}\n-              onChange={f => {\n+              value={newFilterValue}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODgxNzc5Ng=="}, "originalCommit": {"oid": "ed24a2ec5fff3fdc9e300303c4af1843bb26186a"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ5MjE4OTk2OnYy", "diffSide": "RIGHT", "path": "web-console/src/views/load-data-view/load-data-view.tsx", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxOToyNjoyN1rOF_PUXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQxOToyNjoyN1rOF_PUXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTg1NTU4MQ==", "bodyText": "you need to set this to restFilter from const { restFilter } = splitFilter", "url": "https://github.com/apache/druid/pull/9567#discussion_r401855581", "createdAt": "2020-04-01T19:26:27Z", "author": {"login": "vogievetsky"}, "path": "web-console/src/views/load-data-view/load-data-view.tsx", "diffHunk": "@@ -2116,7 +2123,12 @@ export class LoadDataView extends React.PureComponent<LoadDataViewProps, LoadDat\n         <FormGroup>\n           <Button\n             text={`${hasGlobalFilter ? 'Edit' : 'Add'} global filter`}\n-            onClick={() => this.setState({ showGlobalFilter: true })}\n+            onClick={() =>\n+              this.setState({\n+                showGlobalFilter: true,\n+                newFilterValue: deepGet(spec, 'spec.dataSchema.transformSpec.filter'),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "312ecfb23c28d1e71a03678680d31b48b703690a"}, "originalPosition": 63}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2675, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}