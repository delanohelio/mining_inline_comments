{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQxODc5Njkw", "number": 10688, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQwNjozNDo0OFrOFLkM3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xNVQwNjowOTowNFrOFO-BUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ3NjcxNzczOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/apache/druid/coordination/CommonCallback.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQwNjozNDo0OFrOIOzhqw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QwODoyMzowM1rOIPjA_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjM5NTE3OQ==", "bodyText": "Use a more meaningful name, like SegmentLazyLoadFailCallback", "url": "https://github.com/apache/druid/pull/10688#discussion_r552395179", "createdAt": "2021-01-06T06:34:48Z", "author": {"login": "kaijianding"}, "path": "core/src/main/java/org/apache/druid/coordination/CommonCallback.java", "diffHunk": "@@ -0,0 +1,26 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.apache.druid.coordination;\n+\n+public interface CommonCallback", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7775658a57209265762bc41e30b90d7774a3e362"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzE3MzI0NQ==", "bodyText": "done.", "url": "https://github.com/apache/druid/pull/10688#discussion_r553173245", "createdAt": "2021-01-07T08:23:03Z", "author": {"login": "zhangyue19921010"}, "path": "core/src/main/java/org/apache/druid/coordination/CommonCallback.java", "diffHunk": "@@ -0,0 +1,26 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.apache.druid.coordination;\n+\n+public interface CommonCallback", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjM5NTE3OQ=="}, "originalCommit": {"oid": "7775658a57209265762bc41e30b90d7774a3e362"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ3NjcyMDIyOnYy", "diffSide": "RIGHT", "path": "processing/src/main/java/org/apache/druid/segment/IndexIO.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQwNjozNjowMlrOIOzjFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QwODoyMzowOVrOIPjBNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjM5NTU0MA==", "bodyText": "add blank line here", "url": "https://github.com/apache/druid/pull/10688#discussion_r552395540", "createdAt": "2021-01-06T06:36:02Z", "author": {"login": "kaijianding"}, "path": "processing/src/main/java/org/apache/druid/segment/IndexIO.java", "diffHunk": "@@ -182,16 +183,16 @@ public void validateTwoSegments(final IndexableAdapter adapter1, final Indexable\n \n   public QueryableIndex loadIndex(File inDir) throws IOException\n   {\n-    return loadIndex(inDir, false);\n+    return loadIndex(inDir, false, CommonCallback.NOOP);\n   }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7775658a57209265762bc41e30b90d7774a3e362"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzE3MzMwMQ==", "bodyText": "done.", "url": "https://github.com/apache/druid/pull/10688#discussion_r553173301", "createdAt": "2021-01-07T08:23:09Z", "author": {"login": "zhangyue19921010"}, "path": "processing/src/main/java/org/apache/druid/segment/IndexIO.java", "diffHunk": "@@ -182,16 +183,16 @@ public void validateTwoSegments(final IndexableAdapter adapter1, final Indexable\n \n   public QueryableIndex loadIndex(File inDir) throws IOException\n   {\n-    return loadIndex(inDir, false);\n+    return loadIndex(inDir, false, CommonCallback.NOOP);\n   }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjM5NTU0MA=="}, "originalCommit": {"oid": "7775658a57209265762bc41e30b90d7774a3e362"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ3NjczMDY3OnYy", "diffSide": "RIGHT", "path": "processing/src/main/java/org/apache/druid/segment/IndexIO.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQwNjo0MTowNFrOIOzpAw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QwODoyMzo0MVrOIPjCOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjM5NzA1OQ==", "bodyText": "why RuntimeException here?", "url": "https://github.com/apache/druid/pull/10688#discussion_r552397059", "createdAt": "2021-01-06T06:41:04Z", "author": {"login": "kaijianding"}, "path": "processing/src/main/java/org/apache/druid/segment/IndexIO.java", "diffHunk": "@@ -644,7 +649,7 @@ public QueryableIndex load(File inDir, ObjectMapper mapper, boolean lazy) throws\n     }\n \n     private ColumnHolder deserializeColumn(ObjectMapper mapper, ByteBuffer byteBuffer, SmooshedFileMapper smooshedFiles)\n-        throws IOException\n+        throws IOException, RuntimeException", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7775658a57209265762bc41e30b90d7774a3e362"}, "originalPosition": 82}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzE3MzU2MA==", "bodyText": "No need actually. Remove now.", "url": "https://github.com/apache/druid/pull/10688#discussion_r553173560", "createdAt": "2021-01-07T08:23:41Z", "author": {"login": "zhangyue19921010"}, "path": "processing/src/main/java/org/apache/druid/segment/IndexIO.java", "diffHunk": "@@ -644,7 +649,7 @@ public QueryableIndex load(File inDir, ObjectMapper mapper, boolean lazy) throws\n     }\n \n     private ColumnHolder deserializeColumn(ObjectMapper mapper, ByteBuffer byteBuffer, SmooshedFileMapper smooshedFiles)\n-        throws IOException\n+        throws IOException, RuntimeException", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjM5NzA1OQ=="}, "originalCommit": {"oid": "7775658a57209265762bc41e30b90d7774a3e362"}, "originalPosition": 82}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ3Njc3ODMxOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/apache/druid/coordination/CommonCallback.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQwNzowNToxNFrOIO0EaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QwODoyMzo1MFrOIPjCdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjQwNDA3Mw==", "bodyText": "I guess this interface should be in org.apache.druid.segment, beside the IndexIO", "url": "https://github.com/apache/druid/pull/10688#discussion_r552404073", "createdAt": "2021-01-06T07:05:14Z", "author": {"login": "kaijianding"}, "path": "core/src/main/java/org/apache/druid/coordination/CommonCallback.java", "diffHunk": "@@ -0,0 +1,26 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.apache.druid.coordination;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7775658a57209265762bc41e30b90d7774a3e362"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzE3MzYyMw==", "bodyText": "done.", "url": "https://github.com/apache/druid/pull/10688#discussion_r553173623", "createdAt": "2021-01-07T08:23:50Z", "author": {"login": "zhangyue19921010"}, "path": "core/src/main/java/org/apache/druid/coordination/CommonCallback.java", "diffHunk": "@@ -0,0 +1,26 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.apache.druid.coordination;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjQwNDA3Mw=="}, "originalCommit": {"oid": "7775658a57209265762bc41e30b90d7774a3e362"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ3NjgwMjg3OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/apache/druid/coordination/CommonCallback.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQwNzoxNzozOVrOIO0SXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QwODoyNjo1OVrOIPjIJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjQwNzY0Ng==", "bodyText": "why not just use Runnable? There is even a Runnables.getNoopRunnable()", "url": "https://github.com/apache/druid/pull/10688#discussion_r552407646", "createdAt": "2021-01-06T07:17:39Z", "author": {"login": "clintropolis"}, "path": "core/src/main/java/org/apache/druid/coordination/CommonCallback.java", "diffHunk": "@@ -0,0 +1,26 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.apache.druid.coordination;\n+\n+public interface CommonCallback", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7775658a57209265762bc41e30b90d7774a3e362"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjQwOTg5NQ==", "bodyText": "I think a meaningful name is better for code readiness through the method arguments", "url": "https://github.com/apache/druid/pull/10688#discussion_r552409895", "createdAt": "2021-01-06T07:24:29Z", "author": {"login": "kaijianding"}, "path": "core/src/main/java/org/apache/druid/coordination/CommonCallback.java", "diffHunk": "@@ -0,0 +1,26 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.apache.druid.coordination;\n+\n+public interface CommonCallback", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjQwNzY0Ng=="}, "originalCommit": {"oid": "7775658a57209265762bc41e30b90d7774a3e362"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjQxNDc2OQ==", "bodyText": "I don't feel super strongly about this, while I find it pretty obvious what Runnable does and don't think a new interface adds much here, I can see your point as well.\nI would agree that if we insist on using a separate interface that it should have a better name more indicative of its function.", "url": "https://github.com/apache/druid/pull/10688#discussion_r552414769", "createdAt": "2021-01-06T07:39:16Z", "author": {"login": "clintropolis"}, "path": "core/src/main/java/org/apache/druid/coordination/CommonCallback.java", "diffHunk": "@@ -0,0 +1,26 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.apache.druid.coordination;\n+\n+public interface CommonCallback", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjQwNzY0Ng=="}, "originalCommit": {"oid": "7775658a57209265762bc41e30b90d7774a3e362"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzE3NTA3OQ==", "bodyText": "Change the name to SegmentLazyLoadFailCallback as you guys suggested. Thanks for review :)", "url": "https://github.com/apache/druid/pull/10688#discussion_r553175079", "createdAt": "2021-01-07T08:26:59Z", "author": {"login": "zhangyue19921010"}, "path": "core/src/main/java/org/apache/druid/coordination/CommonCallback.java", "diffHunk": "@@ -0,0 +1,26 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.apache.druid.coordination;\n+\n+public interface CommonCallback", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjQwNzY0Ng=="}, "originalCommit": {"oid": "7775658a57209265762bc41e30b90d7774a3e362"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ3NjgyNDg0OnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/apache/druid/server/SegmentManager.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNlQwNzoyNjo1MlrOIO0eiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wN1QwODoyNzowNFrOIPjITA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjQxMDc2Mw==", "bodyText": "add a new @param in the method comment", "url": "https://github.com/apache/druid/pull/10688#discussion_r552410763", "createdAt": "2021-01-06T07:26:52Z", "author": {"login": "kaijianding"}, "path": "server/src/main/java/org/apache/druid/server/SegmentManager.java", "diffHunk": "@@ -219,9 +220,9 @@ private TableDataSource getTableDataSource(DataSourceAnalysis analysis)\n    *\n    * @throws SegmentLoadingException if the segment cannot be loaded\n    */\n-  public boolean loadSegment(final DataSegment segment, boolean lazy) throws SegmentLoadingException\n+  public boolean loadSegment(final DataSegment segment, boolean lazy, CommonCallback loadFailed) throws SegmentLoadingException", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7775658a57209265762bc41e30b90d7774a3e362"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MzE3NTExNg==", "bodyText": "done", "url": "https://github.com/apache/druid/pull/10688#discussion_r553175116", "createdAt": "2021-01-07T08:27:04Z", "author": {"login": "zhangyue19921010"}, "path": "server/src/main/java/org/apache/druid/server/SegmentManager.java", "diffHunk": "@@ -219,9 +220,9 @@ private TableDataSource getTableDataSource(DataSourceAnalysis analysis)\n    *\n    * @throws SegmentLoadingException if the segment cannot be loaded\n    */\n-  public boolean loadSegment(final DataSegment segment, boolean lazy) throws SegmentLoadingException\n+  public boolean loadSegment(final DataSegment segment, boolean lazy, CommonCallback loadFailed) throws SegmentLoadingException", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjQxMDc2Mw=="}, "originalCommit": {"oid": "7775658a57209265762bc41e30b90d7774a3e362"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ5Njk4OTY2OnYy", "diffSide": "RIGHT", "path": "processing/src/main/java/org/apache/druid/segment/coordination/SegmentLazyLoadFailCallback.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMlQwMjo1NTo1OVrOIRvuLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xMlQwMjo1NTo1OVrOIRvuLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NTQ3ODU3NQ==", "bodyText": "I suggest this interface should be in org.apache.druid.segment, beside the IndexIO", "url": "https://github.com/apache/druid/pull/10688#discussion_r555478575", "createdAt": "2021-01-12T02:55:59Z", "author": {"login": "kaijianding"}, "path": "processing/src/main/java/org/apache/druid/segment/coordination/SegmentLazyLoadFailCallback.java", "diffHunk": "@@ -0,0 +1,26 @@\n+/*\n+ * Licensed to the Apache Software Foundation (ASF) under one\n+ * or more contributor license agreements.  See the NOTICE file\n+ * distributed with this work for additional information\n+ * regarding copyright ownership.  The ASF licenses this file\n+ * to you under the Apache License, Version 2.0 (the\n+ * \"License\"); you may not use this file except in compliance\n+ * with the License.  You may obtain a copy of the License at\n+ *\n+ *   http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing,\n+ * software distributed under the License is distributed on an\n+ * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n+ * KIND, either express or implied.  See the License for the\n+ * specific language governing permissions and limitations\n+ * under the License.\n+ */\n+\n+package org.apache.druid.segment.coordination;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f113ed3e803b1bc8e110190b86bf7362a1844c69"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzUxMjQwNTI4OnYy", "diffSide": "RIGHT", "path": ".travis.yml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xNVQwNjowOTowNFrOIUCanQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0xNVQwNjoyMjoxMFrOIUDA9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Nzg4MjAxMw==", "bodyText": "what is this change for?", "url": "https://github.com/apache/druid/pull/10688#discussion_r557882013", "createdAt": "2021-01-15T06:09:04Z", "author": {"login": "clintropolis"}, "path": ".travis.yml", "diffHunk": "@@ -154,7 +154,7 @@ jobs:\n         # Set MAVEN_OPTS for Surefire launcher. Skip remoteresources to avoid intermittent connection timeouts when\n         # resolving the SIGAR dependency.\n         - >\n-          MAVEN_OPTS='-Xmx800m' ${MVN} test -pl ${MAVEN_PROJECTS}\n+          MAVEN_OPTS='-Xmx1100m' ${MVN} test -pl ${MAVEN_PROJECTS}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fef72a7ad29c1a0937b7cc45f8f706c7e546b62a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Nzg4NDM0NQ==", "bodyText": "Current UTs don't cover load segment in a lazy way. This PR add a UT to test lazy loading which needs extra memory.", "url": "https://github.com/apache/druid/pull/10688#discussion_r557884345", "createdAt": "2021-01-15T06:12:22Z", "author": {"login": "zhangyue19921010"}, "path": ".travis.yml", "diffHunk": "@@ -154,7 +154,7 @@ jobs:\n         # Set MAVEN_OPTS for Surefire launcher. Skip remoteresources to avoid intermittent connection timeouts when\n         # resolving the SIGAR dependency.\n         - >\n-          MAVEN_OPTS='-Xmx800m' ${MVN} test -pl ${MAVEN_PROJECTS}\n+          MAVEN_OPTS='-Xmx1100m' ${MVN} test -pl ${MAVEN_PROJECTS}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Nzg4MjAxMw=="}, "originalCommit": {"oid": "fef72a7ad29c1a0937b7cc45f8f706c7e546b62a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Nzg5MTgzMQ==", "bodyText": "\ud83d\udc4d was just surprised how much more it needed, if travis passes then I assume the change is fine, was just curious mostly", "url": "https://github.com/apache/druid/pull/10688#discussion_r557891831", "createdAt": "2021-01-15T06:22:10Z", "author": {"login": "clintropolis"}, "path": ".travis.yml", "diffHunk": "@@ -154,7 +154,7 @@ jobs:\n         # Set MAVEN_OPTS for Surefire launcher. Skip remoteresources to avoid intermittent connection timeouts when\n         # resolving the SIGAR dependency.\n         - >\n-          MAVEN_OPTS='-Xmx800m' ${MVN} test -pl ${MAVEN_PROJECTS}\n+          MAVEN_OPTS='-Xmx1100m' ${MVN} test -pl ${MAVEN_PROJECTS}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1Nzg4MjAxMw=="}, "originalCommit": {"oid": "fef72a7ad29c1a0937b7cc45f8f706c7e546b62a"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2929, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}