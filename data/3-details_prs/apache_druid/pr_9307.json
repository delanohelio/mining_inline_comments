{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcwNTk2NTM3", "number": 9307, "title": "Get larger batch of input files when using native batch with google cloud", "bodyText": "Description\nBy default native batch ingestion was only getting a batch of 10\nfiles at a time when used with google cloud. The Default for other\ncloud providers is 1024, and should be similar for google cloud.\nThe low batch size was caused by mistype. This change updates the\nbatch size to 1024 when using google cloud.\n\nThis PR has:\n\n been self-reviewed.\n\n using the concurrency checklist (Remove this item if the PR doesn't have any relation to concurrency.)\n\n\n added documentation for new or modified features or behaviors.\n added Javadocs for most classes and all non-trivial methods. Linked related entities via Javadoc links.\n added or updated version, license, or notice information in licenses.yaml\n added comments explaining the \"why\" and the intent of the code wherever would not be obvious for an unfamiliar reader.\n added unit tests or modified existing tests to cover new code paths.\n added integration tests.\n been tested in a test Druid cluster.", "createdAt": "2020-02-04T01:02:09Z", "url": "https://github.com/apache/druid/pull/9307", "merged": true, "mergeCommit": {"oid": "768d60c7b405bca3ff71ac7fc062a0d0015fdb2d"}, "closed": true, "closedAt": "2020-02-04T20:03:32Z", "author": {"login": "zachjsh"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcA20uqgH2gAyMzcwNTk2NTM3OjczOGI3MjJlMzM3ZWQ1MWVlMjFhMWI1MDEwZTFmNjY5NWYzNGFmZmE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBHM6pgFqTM1MzI2MzYzMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "738b722e337ed51ee21a1b5010e1f6695f34affa", "author": {"user": {"login": "zachjsh", "name": null}}, "url": "https://github.com/apache/druid/commit/738b722e337ed51ee21a1b5010e1f6695f34affa", "committedDate": "2020-02-04T00:58:33Z", "message": "Get larger batch of input files when using native batch with google cloud\n\nBy default native batch ingestion was only getting a batch of 10\nfiles at a time when used with google cloud. The Default for other\ncloud providers is 1024, and should be similar for google cloud.\nThe low batch size was caused by mistype. This change updates the\nbatch size to 1024 when using google cloud."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyNzg2NDk3", "url": "https://github.com/apache/druid/pull/9307#pullrequestreview-352786497", "createdAt": "2020-02-04T08:15:20Z", "commit": {"oid": "738b722e337ed51ee21a1b5010e1f6695f34affa"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwODoxNToyMFrOFlLNaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwODoxNToyMFrOFlLNaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDUyNTI4OQ==", "bodyText": "nit: this should probably just use GoogleCloudStorageInputSource.MAX_LISTING_LENGTH directly in the event it ever changes", "url": "https://github.com/apache/druid/pull/9307#discussion_r374525289", "createdAt": "2020-02-04T08:15:20Z", "author": {"login": "clintropolis"}, "path": "extensions-core/google-extensions/src/test/java/org/apache/druid/data/input/google/GoogleCloudStorageInputSourceTest.java", "diffHunk": "@@ -66,6 +66,7 @@\n \n public class GoogleCloudStorageInputSourceTest extends InitializedNullHandlingTest\n {\n+  private static final long EXPECTED_MAX_LISTING_LENGTH = 1024L;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "738b722e337ed51ee21a1b5010e1f6695f34affa"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzMjYzNjMz", "url": "https://github.com/apache/druid/pull/9307#pullrequestreview-353263633", "createdAt": "2020-02-04T20:03:27Z", "commit": {"oid": "738b722e337ed51ee21a1b5010e1f6695f34affa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2839, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}