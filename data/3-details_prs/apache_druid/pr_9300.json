{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5NzQ1MTEy", "number": 9300, "title": "Fix / suppress netty CVEs CVE-2019-20445 and CVE-2019-20444", "bodyText": "Description\nThis change fixes the CVEs, CVE-2019-20445 and CVE-2019-20444,  introduced into druid by netty. The vulnerabilities were fixed in a netty version 4 update, so the version of netty 4 has been updated. For Version 3 however, no fix exists, so the vulnerabilities were suppressed for version 3.\n\nThis PR has:\n\n been self-reviewed.\n\n using the concurrency checklist (Remove this item if the PR doesn't have any relation to concurrency.)\n\n\n added documentation for new or modified features or behaviors.\n added Javadocs for most classes and all non-trivial methods. Linked related entities via Javadoc links.\n added or updated version, license, or notice information in licenses.yaml\n added comments explaining the \"why\" and the intent of the code wherever would not be obvious for an unfamiliar reader.\n added unit tests or modified existing tests to cover new code paths.\n added integration tests.\n been tested in a test Druid cluster.", "createdAt": "2020-01-31T19:50:57Z", "url": "https://github.com/apache/druid/pull/9300", "merged": true, "mergeCommit": {"oid": "74ac9151c906119cd5ab6396ff1809110093a905"}, "closed": true, "closedAt": "2020-01-31T22:51:55Z", "author": {"login": "zachjsh"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_08NPgH2gAyMzY5NzQ1MTEyOjhjYWQ5YmE0OWM5MjY1MjkwNjc1N2U2ZTExOTg5OTljMDgzNmRjMmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_3NdJAFqTM1MTgyMjI1OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8cad9ba49c92652906757e6e1198999c0836dc2c", "author": {"user": {"login": "zachjsh", "name": null}}, "url": "https://github.com/apache/druid/commit/8cad9ba49c92652906757e6e1198999c0836dc2c", "committedDate": "2020-01-31T20:12:59Z", "message": "Suppress netty 3 vulnerabilites and upgrade netty 4 version\n\n* Upgrade netty 4 version to fix vulnerabilities CVE-2019-20445\n  and CVE-2019-20444\n* suppress these CVEs for netty 3"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "8cad9ba49c92652906757e6e1198999c0836dc2c", "author": {"user": {"login": "zachjsh", "name": null}}, "url": "https://github.com/apache/druid/commit/8cad9ba49c92652906757e6e1198999c0836dc2c", "committedDate": "2020-01-31T20:12:59Z", "message": "Suppress netty 3 vulnerabilites and upgrade netty 4 version\n\n* Upgrade netty 4 version to fix vulnerabilities CVE-2019-20445\n  and CVE-2019-20444\n* suppress these CVEs for netty 3"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxNzUyODM3", "url": "https://github.com/apache/druid/pull/9300#pullrequestreview-351752837", "createdAt": "2020-01-31T20:16:35Z", "commit": {"oid": "8cad9ba49c92652906757e6e1198999c0836dc2c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxNzU4NTUy", "url": "https://github.com/apache/druid/pull/9300#pullrequestreview-351758552", "createdAt": "2020-01-31T20:28:18Z", "commit": {"oid": "8cad9ba49c92652906757e6e1198999c0836dc2c"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQyMDoyODoxOFrOFkXFpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQyMDoyODoxOFrOFkXFpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzY3MTMzMw==", "bodyText": "The new CVEs can be added after line 149 instead to simplify the XML", "url": "https://github.com/apache/druid/pull/9300#discussion_r373671333", "createdAt": "2020-01-31T20:28:18Z", "author": {"login": "ccaominh"}, "path": "owasp-dependency-check-suppressions.xml", "diffHunk": "@@ -148,6 +148,22 @@\n     <packageUrl regex=\"true\">^pkg:maven/io\\.netty/netty@.*$</packageUrl>\n     <cve>CVE-2019-16869</cve>\n   </suppress>\n+  <suppress>\n+    <!-- TODO: Fix by updating org.apache.druid.java.util.http.client.NettyHttpClient to use netty 4 -->\n+    <notes><![CDATA[\n+   file name: netty-3.10.6.Final.jar\n+   ]]></notes>\n+    <packageUrl regex=\"true\">^pkg:maven/io\\.netty/netty@.*$</packageUrl>\n+    <cve>CVE-2019-20445</cve>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8cad9ba49c92652906757e6e1198999c0836dc2c"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f1545427715898d729fe0a2cae9896ef11a0eea", "author": {"user": {"login": "zachjsh", "name": null}}, "url": "https://github.com/apache/druid/commit/7f1545427715898d729fe0a2cae9896ef11a0eea", "committedDate": "2020-01-31T20:53:33Z", "message": "* simplify suppression xml file\n* update licenses file with new version of netty"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1fe56f3fa308e1d8219c45adf197caacd175b230", "author": {"user": {"login": "zachjsh", "name": null}}, "url": "https://github.com/apache/druid/commit/1fe56f3fa308e1d8219c45adf197caacd175b230", "committedDate": "2020-01-31T20:56:24Z", "message": "* fix type in licenses.yaml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxNzcyNzgy", "url": "https://github.com/apache/druid/pull/9300#pullrequestreview-351772782", "createdAt": "2020-01-31T20:57:09Z", "commit": {"oid": "1fe56f3fa308e1d8219c45adf197caacd175b230"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxODIyMjU4", "url": "https://github.com/apache/druid/pull/9300#pullrequestreview-351822258", "createdAt": "2020-01-31T22:51:38Z", "commit": {"oid": "1fe56f3fa308e1d8219c45adf197caacd175b230"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2816, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}