{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY4MjEyMjAw", "number": 10287, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMTo1Mjo1OFrOEkQOnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQwMjowNzozOVrOFLHhCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA2NDUwMDc5OnYy", "diffSide": "RIGHT", "path": "docs/configuration/index.md", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNlQyMTo1Mjo1OFrOHTFiGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwMDowODoyN1rOHqB7tg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc3NTY0MQ==", "bodyText": "We could make the property description friendlier by describing what LogUsedSegments does instead of just mentioning it. Also it would be helpful to add a line or two about when should a cluster operator think about disabling this property.", "url": "https://github.com/apache/druid/pull/10287#discussion_r489775641", "createdAt": "2020-09-16T21:52:58Z", "author": {"login": "a2l007"}, "path": "docs/configuration/index.md", "diffHunk": "@@ -689,6 +689,7 @@ These Coordinator static configurations can be defined in the `coordinator/runti\n |`druid.coordinator.loadqueuepeon.repeatDelay`|The start and repeat delay for the loadqueuepeon, which manages the load and drop of segments.|PT0.050S (50 ms)|\n |`druid.coordinator.asOverlord.enabled`|Boolean value for whether this Coordinator process should act like an Overlord as well. This configuration allows users to simplify a druid cluster by not having to deploy any standalone Overlord processes. If set to true, then Overlord console is available at `http://coordinator-host:port/console.html` and be sure to set `druid.coordinator.asOverlord.overlordService` also. See next.|false|\n |`druid.coordinator.asOverlord.overlordService`| Required, if `druid.coordinator.asOverlord.enabled` is `true`. This must be same value as `druid.service` on standalone Overlord processes and `druid.selectors.indexing.serviceName` on Middle Managers.|NULL|\n+|`druid.coordinator.duties.logUsedSegments.enabled`|Boolean value for whether or not the coordinator should execute the `LogUsedSegments` Duty|true|", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e16219b79407b31fb9b33a3d8c5f6784f41953d3"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MzA2MTQ5Mg==", "bodyText": "+1 to describe more about the behavior of LogUsedSegments duty. Also I prefer to remove the duties from the config item name -  druid.coordinator.logUsedSegments.enabled. duties is a term in the code not in the user facing documentation, and before it was called helpers in the code.", "url": "https://github.com/apache/druid/pull/10287#discussion_r493061492", "createdAt": "2020-09-22T22:09:00Z", "author": {"login": "ArvinZheng"}, "path": "docs/configuration/index.md", "diffHunk": "@@ -689,6 +689,7 @@ These Coordinator static configurations can be defined in the `coordinator/runti\n |`druid.coordinator.loadqueuepeon.repeatDelay`|The start and repeat delay for the loadqueuepeon, which manages the load and drop of segments.|PT0.050S (50 ms)|\n |`druid.coordinator.asOverlord.enabled`|Boolean value for whether this Coordinator process should act like an Overlord as well. This configuration allows users to simplify a druid cluster by not having to deploy any standalone Overlord processes. If set to true, then Overlord console is available at `http://coordinator-host:port/console.html` and be sure to set `druid.coordinator.asOverlord.overlordService` also. See next.|false|\n |`druid.coordinator.asOverlord.overlordService`| Required, if `druid.coordinator.asOverlord.enabled` is `true`. This must be same value as `druid.service` on standalone Overlord processes and `druid.selectors.indexing.serviceName` on Middle Managers.|NULL|\n+|`druid.coordinator.duties.logUsedSegments.enabled`|Boolean value for whether or not the coordinator should execute the `LogUsedSegments` Duty|true|", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc3NTY0MQ=="}, "originalCommit": {"oid": "e16219b79407b31fb9b33a3d8c5f6784f41953d3"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzgzMzkxMA==", "bodyText": "@a2l007 @ArvinZheng thanks for the thoughts. I agree that if duty isn't a user facing word, it should be removed. I also did my best to improve the documentation for end users to better understand what they are disabling if they choose to do so.", "url": "https://github.com/apache/druid/pull/10287#discussion_r513833910", "createdAt": "2020-10-29T00:08:27Z", "author": {"login": "capistrant"}, "path": "docs/configuration/index.md", "diffHunk": "@@ -689,6 +689,7 @@ These Coordinator static configurations can be defined in the `coordinator/runti\n |`druid.coordinator.loadqueuepeon.repeatDelay`|The start and repeat delay for the loadqueuepeon, which manages the load and drop of segments.|PT0.050S (50 ms)|\n |`druid.coordinator.asOverlord.enabled`|Boolean value for whether this Coordinator process should act like an Overlord as well. This configuration allows users to simplify a druid cluster by not having to deploy any standalone Overlord processes. If set to true, then Overlord console is available at `http://coordinator-host:port/console.html` and be sure to set `druid.coordinator.asOverlord.overlordService` also. See next.|false|\n |`druid.coordinator.asOverlord.overlordService`| Required, if `druid.coordinator.asOverlord.enabled` is `true`. This must be same value as `druid.service` on standalone Overlord processes and `druid.selectors.indexing.serviceName` on Middle Managers.|NULL|\n+|`druid.coordinator.duties.logUsedSegments.enabled`|Boolean value for whether or not the coordinator should execute the `LogUsedSegments` Duty|true|", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTc3NTY0MQ=="}, "originalCommit": {"oid": "e16219b79407b31fb9b33a3d8c5f6784f41953d3"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIyMDM3NTAwOnYy", "diffSide": "RIGHT", "path": "docs/configuration/index.md", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwNDozMToxM1rOHqJiWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxMzozOTowM1rOHqcOMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzk1ODQ5MA==", "bodyText": "typo: it logs then number of > it logs the number of", "url": "https://github.com/apache/druid/pull/10287#discussion_r513958490", "createdAt": "2020-10-29T04:31:13Z", "author": {"login": "ArvinZheng"}, "path": "docs/configuration/index.md", "diffHunk": "@@ -698,6 +698,7 @@ These Coordinator static configurations can be defined in the `coordinator/runti\n |`druid.coordinator.loadqueuepeon.repeatDelay`|The start and repeat delay for the loadqueuepeon, which manages the load and drop of segments.|PT0.050S (50 ms)|\n |`druid.coordinator.asOverlord.enabled`|Boolean value for whether this Coordinator process should act like an Overlord as well. This configuration allows users to simplify a druid cluster by not having to deploy any standalone Overlord processes. If set to true, then Overlord console is available at `http://coordinator-host:port/console.html` and be sure to set `druid.coordinator.asOverlord.overlordService` also. See next.|false|\n |`druid.coordinator.asOverlord.overlordService`| Required, if `druid.coordinator.asOverlord.enabled` is `true`. This must be same value as `druid.service` on standalone Overlord processes and `druid.selectors.indexing.serviceName` on Middle Managers.|NULL|\n+|`druid.coordinator.logUsedSegments.enabled`|Boolean value for whether or not the coordinator should execute the `LogUsedSegments` portion of its coordination work. `LogUsedSegments` is an informational job run by the Coordinator every coordination cycle. It gets a snapshot of segments in the cluster and iterates them. While iterating, it will emit an alert if a segment has a size less than 0. If debug logging is enabled, it will also log a string representation of each segment. Lastly, it logs then number of segments in the cluster. An admin can decide that forgoing this work may advantageous if they don't need any of the information provided.|true|", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6cf0ec9ad2db4a62b4b5a6b846b4f5bdf4748c4"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzk1OTA3Ng==", "bodyText": "not a comment, just wanted to see if the following sounds good?\nBoolean value for whether or not the coordinator should execute the LogUsedSegments portion of its coordination work. LogUsedSegments is an informational job run by the Coordinator every coordination cycle which logs every segment at DEBUG level and the total number of used segments at INFO level, in addition, it emits an alert if a segment has a size less than 0. An admin can decide that forgoing this work may advantageous if they don't need any of the information provided", "url": "https://github.com/apache/druid/pull/10287#discussion_r513959076", "createdAt": "2020-10-29T04:32:22Z", "author": {"login": "ArvinZheng"}, "path": "docs/configuration/index.md", "diffHunk": "@@ -698,6 +698,7 @@ These Coordinator static configurations can be defined in the `coordinator/runti\n |`druid.coordinator.loadqueuepeon.repeatDelay`|The start and repeat delay for the loadqueuepeon, which manages the load and drop of segments.|PT0.050S (50 ms)|\n |`druid.coordinator.asOverlord.enabled`|Boolean value for whether this Coordinator process should act like an Overlord as well. This configuration allows users to simplify a druid cluster by not having to deploy any standalone Overlord processes. If set to true, then Overlord console is available at `http://coordinator-host:port/console.html` and be sure to set `druid.coordinator.asOverlord.overlordService` also. See next.|false|\n |`druid.coordinator.asOverlord.overlordService`| Required, if `druid.coordinator.asOverlord.enabled` is `true`. This must be same value as `druid.service` on standalone Overlord processes and `druid.selectors.indexing.serviceName` on Middle Managers.|NULL|\n+|`druid.coordinator.logUsedSegments.enabled`|Boolean value for whether or not the coordinator should execute the `LogUsedSegments` portion of its coordination work. `LogUsedSegments` is an informational job run by the Coordinator every coordination cycle. It gets a snapshot of segments in the cluster and iterates them. While iterating, it will emit an alert if a segment has a size less than 0. If debug logging is enabled, it will also log a string representation of each segment. Lastly, it logs then number of segments in the cluster. An admin can decide that forgoing this work may advantageous if they don't need any of the information provided.|true|", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzk1ODQ5MA=="}, "originalCommit": {"oid": "d6cf0ec9ad2db4a62b4b5a6b846b4f5bdf4748c4"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDI2NDYyNA==", "bodyText": "I like your wording, Arvin. made the changes.", "url": "https://github.com/apache/druid/pull/10287#discussion_r514264624", "createdAt": "2020-10-29T13:39:03Z", "author": {"login": "capistrant"}, "path": "docs/configuration/index.md", "diffHunk": "@@ -698,6 +698,7 @@ These Coordinator static configurations can be defined in the `coordinator/runti\n |`druid.coordinator.loadqueuepeon.repeatDelay`|The start and repeat delay for the loadqueuepeon, which manages the load and drop of segments.|PT0.050S (50 ms)|\n |`druid.coordinator.asOverlord.enabled`|Boolean value for whether this Coordinator process should act like an Overlord as well. This configuration allows users to simplify a druid cluster by not having to deploy any standalone Overlord processes. If set to true, then Overlord console is available at `http://coordinator-host:port/console.html` and be sure to set `druid.coordinator.asOverlord.overlordService` also. See next.|false|\n |`druid.coordinator.asOverlord.overlordService`| Required, if `druid.coordinator.asOverlord.enabled` is `true`. This must be same value as `druid.service` on standalone Overlord processes and `druid.selectors.indexing.serviceName` on Middle Managers.|NULL|\n+|`druid.coordinator.logUsedSegments.enabled`|Boolean value for whether or not the coordinator should execute the `LogUsedSegments` portion of its coordination work. `LogUsedSegments` is an informational job run by the Coordinator every coordination cycle. It gets a snapshot of segments in the cluster and iterates them. While iterating, it will emit an alert if a segment has a size less than 0. If debug logging is enabled, it will also log a string representation of each segment. Lastly, it logs then number of segments in the cluster. An admin can decide that forgoing this work may advantageous if they don't need any of the information provided.|true|", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzk1ODQ5MA=="}, "originalCommit": {"oid": "d6cf0ec9ad2db4a62b4b5a6b846b4f5bdf4748c4"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ3MjAxNDI4OnYy", "diffSide": "RIGHT", "path": "docs/configuration/index.md", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQwMjowNTozN1rOIOHlkQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQyMjowOToxNlrOIOpW6Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTY3NTI4MQ==", "bodyText": "The default value column is missing.", "url": "https://github.com/apache/druid/pull/10287#discussion_r551675281", "createdAt": "2021-01-05T02:05:37Z", "author": {"login": "jihoonson"}, "path": "docs/configuration/index.md", "diffHunk": "@@ -698,6 +698,7 @@ These Coordinator static configurations can be defined in the `coordinator/runti\n |`druid.coordinator.loadqueuepeon.repeatDelay`|The start and repeat delay for the loadqueuepeon, which manages the load and drop of segments.|PT0.050S (50 ms)|\n |`druid.coordinator.asOverlord.enabled`|Boolean value for whether this Coordinator process should act like an Overlord as well. This configuration allows users to simplify a druid cluster by not having to deploy any standalone Overlord processes. If set to true, then Overlord console is available at `http://coordinator-host:port/console.html` and be sure to set `druid.coordinator.asOverlord.overlordService` also. See next.|false|\n |`druid.coordinator.asOverlord.overlordService`| Required, if `druid.coordinator.asOverlord.enabled` is `true`. This must be same value as `druid.service` on standalone Overlord processes and `druid.selectors.indexing.serviceName` on Middle Managers.|NULL|\n+|`druid.coordinator.logUsedSegments.enabled`|Boolean value for whether or not the coordinator should execute the `LogUsedSegments` portion of its coordination work. `LogUsedSegments` is an informational job run by the Coordinator every coordination cycle which logs every segment at DEBUG level and the total number of used segments at INFO level. In addition to these logs, it emits an alert if a segment has a size less than 0. An admin can decide that forgoing this work may advantageous if they don't need any of the information provided.|", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60f2067c2b04d75d5e260c4aef0c6009e31a088d"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTY3NTM5Mw==", "bodyText": "Also, did you want to not document it?", "url": "https://github.com/apache/druid/pull/10287#discussion_r551675393", "createdAt": "2021-01-05T02:06:02Z", "author": {"login": "jihoonson"}, "path": "docs/configuration/index.md", "diffHunk": "@@ -698,6 +698,7 @@ These Coordinator static configurations can be defined in the `coordinator/runti\n |`druid.coordinator.loadqueuepeon.repeatDelay`|The start and repeat delay for the loadqueuepeon, which manages the load and drop of segments.|PT0.050S (50 ms)|\n |`druid.coordinator.asOverlord.enabled`|Boolean value for whether this Coordinator process should act like an Overlord as well. This configuration allows users to simplify a druid cluster by not having to deploy any standalone Overlord processes. If set to true, then Overlord console is available at `http://coordinator-host:port/console.html` and be sure to set `druid.coordinator.asOverlord.overlordService` also. See next.|false|\n |`druid.coordinator.asOverlord.overlordService`| Required, if `druid.coordinator.asOverlord.enabled` is `true`. This must be same value as `druid.service` on standalone Overlord processes and `druid.selectors.indexing.serviceName` on Middle Managers.|NULL|\n+|`druid.coordinator.logUsedSegments.enabled`|Boolean value for whether or not the coordinator should execute the `LogUsedSegments` portion of its coordination work. `LogUsedSegments` is an informational job run by the Coordinator every coordination cycle which logs every segment at DEBUG level and the total number of used segments at INFO level. In addition to these logs, it emits an alert if a segment has a size less than 0. An admin can decide that forgoing this work may advantageous if they don't need any of the information provided.|", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTY3NTI4MQ=="}, "originalCommit": {"oid": "60f2067c2b04d75d5e260c4aef0c6009e31a088d"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MjIyODU4NQ==", "bodyText": "well @himanshug had offered up the idea of not documenting it and setting it to true to phase this duty out all together. I'm receptive to that idea and can implement it but a part of me wants to avoid that since the logging of each segment at debug level could actually be useful to people out in the wild.\nfor now, I fixed this default value. let me know what you think is best for documentation/default value.\nIf I had to vote, I would keep my implementation because it may actually be useful. The only thing I might change now or in the future is to default it to being off since it seems like a bit more of a debug duty.", "url": "https://github.com/apache/druid/pull/10287#discussion_r552228585", "createdAt": "2021-01-05T22:09:16Z", "author": {"login": "capistrant"}, "path": "docs/configuration/index.md", "diffHunk": "@@ -698,6 +698,7 @@ These Coordinator static configurations can be defined in the `coordinator/runti\n |`druid.coordinator.loadqueuepeon.repeatDelay`|The start and repeat delay for the loadqueuepeon, which manages the load and drop of segments.|PT0.050S (50 ms)|\n |`druid.coordinator.asOverlord.enabled`|Boolean value for whether this Coordinator process should act like an Overlord as well. This configuration allows users to simplify a druid cluster by not having to deploy any standalone Overlord processes. If set to true, then Overlord console is available at `http://coordinator-host:port/console.html` and be sure to set `druid.coordinator.asOverlord.overlordService` also. See next.|false|\n |`druid.coordinator.asOverlord.overlordService`| Required, if `druid.coordinator.asOverlord.enabled` is `true`. This must be same value as `druid.service` on standalone Overlord processes and `druid.selectors.indexing.serviceName` on Middle Managers.|NULL|\n+|`druid.coordinator.logUsedSegments.enabled`|Boolean value for whether or not the coordinator should execute the `LogUsedSegments` portion of its coordination work. `LogUsedSegments` is an informational job run by the Coordinator every coordination cycle which logs every segment at DEBUG level and the total number of used segments at INFO level. In addition to these logs, it emits an alert if a segment has a size less than 0. An admin can decide that forgoing this work may advantageous if they don't need any of the information provided.|", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTY3NTI4MQ=="}, "originalCommit": {"oid": "60f2067c2b04d75d5e260c4aef0c6009e31a088d"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ3MjAxODAzOnYy", "diffSide": "RIGHT", "path": "server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinator.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wNVQwMjowNzozOVrOIOHnsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMS0wOFQxODozMTo1N1rOIQcyGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTY3NTgyNg==", "bodyText": "nit: Collections.unmodifiableList(duties)", "url": "https://github.com/apache/druid/pull/10287#discussion_r551675826", "createdAt": "2021-01-05T02:07:39Z", "author": {"login": "jihoonson"}, "path": "server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinator.java", "diffHunk": "@@ -669,21 +669,31 @@ private void stopBeingLeader()\n \n   private List<CoordinatorDuty> makeHistoricalManagementDuties()\n   {\n-    return ImmutableList.of(\n-        new LogUsedSegments(),\n+    List<CoordinatorDuty> duties = new ArrayList<>();\n+    if (config.isLogUsedSegmentsDutyEnabled()) {\n+      duties.add(new LogUsedSegments());\n+    }\n+    duties.addAll(ImmutableList.of(\n         new UpdateCoordinatorStateAndPrepareCluster(),\n         new RunRules(DruidCoordinator.this),\n         new UnloadUnusedSegments(),\n         new MarkAsUnusedOvershadowedSegments(DruidCoordinator.this),\n         new BalanceSegments(DruidCoordinator.this),\n         new EmitClusterStatsAndMetrics(DruidCoordinator.this)\n+    ));\n+    log.debug(\n+        \"Done making historical management duties %s\",\n+        duties.stream().map(duty -> duty.getClass().getName()).collect(Collectors.toList())\n     );\n+    return duties;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60f2067c2b04d75d5e260c4aef0c6009e31a088d"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1NDExOTcwNg==", "bodyText": "reverting to the original way of doing this now that LogUsedSegments is always used again", "url": "https://github.com/apache/druid/pull/10287#discussion_r554119706", "createdAt": "2021-01-08T18:31:57Z", "author": {"login": "capistrant"}, "path": "server/src/main/java/org/apache/druid/server/coordinator/DruidCoordinator.java", "diffHunk": "@@ -669,21 +669,31 @@ private void stopBeingLeader()\n \n   private List<CoordinatorDuty> makeHistoricalManagementDuties()\n   {\n-    return ImmutableList.of(\n-        new LogUsedSegments(),\n+    List<CoordinatorDuty> duties = new ArrayList<>();\n+    if (config.isLogUsedSegmentsDutyEnabled()) {\n+      duties.add(new LogUsedSegments());\n+    }\n+    duties.addAll(ImmutableList.of(\n         new UpdateCoordinatorStateAndPrepareCluster(),\n         new RunRules(DruidCoordinator.this),\n         new UnloadUnusedSegments(),\n         new MarkAsUnusedOvershadowedSegments(DruidCoordinator.this),\n         new BalanceSegments(DruidCoordinator.this),\n         new EmitClusterStatsAndMetrics(DruidCoordinator.this)\n+    ));\n+    log.debug(\n+        \"Done making historical management duties %s\",\n+        duties.stream().map(duty -> duty.getClass().getName()).collect(Collectors.toList())\n     );\n+    return duties;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU1MTY3NTgyNg=="}, "originalCommit": {"oid": "60f2067c2b04d75d5e260c4aef0c6009e31a088d"}, "originalPosition": 31}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2284, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}