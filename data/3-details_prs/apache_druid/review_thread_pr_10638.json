{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyNzgxMzc0", "number": 10638, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQyMToxOTozMlrOFA-6HA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQyMToxOTozMlrOFA-6HA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM2NTc1MDA0OnYy", "diffSide": "RIGHT", "path": "examples/quickstart/tutorial/hadoop/docker/Dockerfile", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQyMToxOTozMlrOH_iYdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQyMToxOTozMlrOH_iYdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjM4NTY1NQ==", "bodyText": "I decided to create /usr/local/bin/start_sshd executable by RUN command to make non-standard ssh port 2122 visible in that Dockerfile", "url": "https://github.com/apache/druid/pull/10638#discussion_r536385655", "createdAt": "2020-12-04T21:19:32Z", "author": {"login": "viatcheslavmogilevsky"}, "path": "examples/quickstart/tutorial/hadoop/docker/Dockerfile", "diffHunk": "@@ -109,8 +103,14 @@ RUN sed  -i \"/^[^#]*UsePAM/ s/.*/#&/\"  /etc/ssh/sshd_config\n RUN echo \"UsePAM no\" >> /etc/ssh/sshd_config\n RUN echo \"Port 2122\" >> /etc/ssh/sshd_config\n \n-RUN service sshd start && $HADOOP_PREFIX/etc/hadoop/hadoop-env.sh && $HADOOP_PREFIX/sbin/start-dfs.sh && $HADOOP_PREFIX/bin/hdfs dfs -mkdir -p /user/root\n-RUN service sshd start && $HADOOP_PREFIX/etc/hadoop/hadoop-env.sh && $HADOOP_PREFIX/sbin/start-dfs.sh && $HADOOP_PREFIX/bin/hdfs dfs -put $HADOOP_PREFIX/etc/hadoop/ input\n+# script for plain sshd start\n+RUN echo -e \\\n+\t'#!/bin/bash\\n/usr/sbin/sshd\\ntimeout 10 bash -c \"until printf \\\"\\\" 2>>/dev/null >>/dev/tcp/127.0.0.1/2122; do sleep 0.5; done\"' > \\\n+\t/usr/local/bin/start_sshd && \\\n+\tchmod a+x /usr/local/bin/start_sshd", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9820c12a78f0029150ceb2e5ec1d2620c5e8b12a"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2887, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}