{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2NDkxODI5", "number": 9730, "title": "fill out missing test coverage for druid-datasketches postaggs", "bodyText": "Adds additional tests to bring all PostAggregator implementations in druid-datasketches extension to near 100% coverage (i got lazy and didn't add tests for some of the boring comparators). I replaced some equals and hashCode implementations which allowed subclasses of different types to test as equal since I don't think that is what we really want, with intellij generated versions.\nMore PRs to follow to do the same for other PostAggregator implementations.", "createdAt": "2020-04-21T07:30:02Z", "url": "https://github.com/apache/druid/pull/9730", "merged": true, "mergeCommit": {"oid": "cfb7a893e7892bfefb6b22fba4d575f0aaa012e6"}, "closed": true, "closedAt": "2020-07-31T17:08:08Z", "author": {"login": "clintropolis"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZukHOAH2gAyNDA2NDkxODI5OmZjYTk4MzcwYzVmZDliY2Q4ODQ4MDQyMDdlMjZkZWEzZDg5MGY2ZjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc6XYSVAFqTQ1OTMyODY3Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fca98370c5fd9bcd884804207e26dea3d890f6f6", "author": {"user": {"login": "clintropolis", "name": "Clint Wylie"}}, "url": "https://github.com/apache/druid/commit/fca98370c5fd9bcd884804207e26dea3d890f6f6", "committedDate": "2020-04-21T07:29:16Z", "message": "fill out missing test coverage for druid-datasketches postaggs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eff13bb82b9c706d0660abdad6cdb462173bcf21", "author": {"user": {"login": "clintropolis", "name": "Clint Wylie"}}, "url": "https://github.com/apache/druid/commit/eff13bb82b9c706d0660abdad6cdb462173bcf21", "committedDate": "2020-05-18T19:17:40Z", "message": "Merge remote-tracking branch 'upstream/master' into datasketches-postagg-unit-test-coverage"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "13c1633410d876a772c766240a6911e51a11673c", "author": {"user": {"login": "clintropolis", "name": "Clint Wylie"}}, "url": "https://github.com/apache/druid/commit/13c1633410d876a772c766240a6911e51a11673c", "committedDate": "2020-05-18T19:21:45Z", "message": "fixup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5760a18628c973febafa71fee21ab99457f9cb1a", "author": {"user": {"login": "clintropolis", "name": "Clint Wylie"}}, "url": "https://github.com/apache/druid/commit/5760a18628c973febafa71fee21ab99457f9cb1a", "committedDate": "2020-05-19T01:43:10Z", "message": "fixup merge"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "280883da5815db7c9e6c4081a12c857bd7bda7d1", "author": {"user": {"login": "clintropolis", "name": "Clint Wylie"}}, "url": "https://github.com/apache/druid/commit/280883da5815db7c9e6c4081a12c857bd7bda7d1", "committedDate": "2020-07-31T04:11:45Z", "message": "Merge remote-tracking branch 'upstream/master' into datasketches-postagg-unit-test-coverage"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4OTM4MDc1", "url": "https://github.com/apache/druid/pull/9730#pullrequestreview-458938075", "createdAt": "2020-07-31T06:13:06Z", "commit": {"oid": "280883da5815db7c9e6c4081a12c857bd7bda7d1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNjoxMzowNlrOG59JHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwNjoxMzowNlrOG59JHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzQyMzc3Mg==", "bodyText": "The old message was right.", "url": "https://github.com/apache/druid/pull/9730#discussion_r463423772", "createdAt": "2020-07-31T06:13:06Z", "author": {"login": "gianm"}, "path": "extensions-core/datasketches/src/main/java/org/apache/druid/query/aggregation/datasketches/theta/SketchSetPostAggregator.java", "diffHunk": "@@ -56,7 +56,7 @@ public SketchSetPostAggregator(\n     Util.checkIfPowerOf2(this.maxSketchSize, \"size\");\n \n     if (fields.size() <= 1) {\n-      throw new IAE(\"Illegal number of fields[%s], must be > 1\", fields.size());\n+      throw new IAE(\"Illegal number of fields[%s], must be >= 1\", fields.size());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "280883da5815db7c9e6c4081a12c857bd7bda7d1"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7361ed660abdb32b5ec98712f50b8f6dbad91a83", "author": {"user": {"login": "clintropolis", "name": "Clint Wylie"}}, "url": "https://github.com/apache/druid/commit/7361ed660abdb32b5ec98712f50b8f6dbad91a83", "committedDate": "2020-07-31T06:27:07Z", "message": "oops"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d966c6e747f2f6072ec24b6592a67c78fe8db6d9", "author": {"user": {"login": "clintropolis", "name": "Clint Wylie"}}, "url": "https://github.com/apache/druid/commit/d966c6e747f2f6072ec24b6592a67c78fe8db6d9", "committedDate": "2020-07-31T10:01:03Z", "message": "oops again"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5MzI4Njc3", "url": "https://github.com/apache/druid/pull/9730#pullrequestreview-459328677", "createdAt": "2020-07-31T17:08:02Z", "commit": {"oid": "d966c6e747f2f6072ec24b6592a67c78fe8db6d9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2549, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}