{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMwNzExMTcz", "number": 10620, "title": "Add an integration test for HTTP inputSource", "bodyText": "Description\nThis PR adds a simple integration test for HTTP inputSource that uses the example wikipedia data set available at https://druid.apache.org/data/wikipedia.json.gz.\n\nThis PR has:\n\n been self-reviewed.\n\n using the concurrency checklist (Remove this item if the PR doesn't have any relation to concurrency.)\n\n\n added documentation for new or modified features or behaviors.\n added Javadocs for most classes and all non-trivial methods. Linked related entities via Javadoc links.\n added or updated version, license, or notice information in licenses.yaml\n added comments explaining the \"why\" and the intent of the code wherever would not be obvious for an unfamiliar reader.\n added unit tests or modified existing tests to cover new code paths, ensuring the threshold for code coverage is met.\n added integration tests.\n been tested in a test Druid cluster.", "createdAt": "2020-12-02T03:13:14Z", "url": "https://github.com/apache/druid/pull/10620", "merged": true, "mergeCommit": {"oid": "ae6c43de71f9983564b440f8db851e5e7f1ae16d"}, "closed": true, "closedAt": "2020-12-03T23:51:56Z", "author": {"login": "jihoonson"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdiFuXpAH2gAyNTMwNzExMTczOjM0NzlkODAzMTcyODY4ODAzNmI4Y2QxNjkwMzg0ZmI0ZmM4NzMxOGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdiJ3VpgFqTU0MjU3NjEzNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "3479d8031728688036b8cd1690384fb4fc87318f", "author": {"user": {"login": "jihoonson", "name": "Jihoon Son"}}, "url": "https://github.com/apache/druid/commit/3479d8031728688036b8cd1690384fb4fc87318f", "committedDate": "2020-12-02T03:10:50Z", "message": "Add an integration test for HTTP inputSource"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyNTUxNjAz", "url": "https://github.com/apache/druid/pull/10620#pullrequestreview-542551603", "createdAt": "2020-12-02T07:15:43Z", "commit": {"oid": "3479d8031728688036b8cd1690384fb4fc87318f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyNTc2MTM2", "url": "https://github.com/apache/druid/pull/10620#pullrequestreview-542576136", "createdAt": "2020-12-02T08:00:14Z", "commit": {"oid": "3479d8031728688036b8cd1690384fb4fc87318f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwODowMDoxNFrOH9OiUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwODowMDoxNFrOH9OiUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzk2MzM0Nw==", "bodyText": "what is the reason for adding this file twice?", "url": "https://github.com/apache/druid/pull/10620#discussion_r533963347", "createdAt": "2020-12-02T08:00:14Z", "author": {"login": "abhishekagarwal87"}, "path": "integration-tests/src/test/resources/indexer/wikipedia_http_inputsource_task.json", "diffHunk": "@@ -0,0 +1,90 @@\n+{\n+  \"type\": \"index_parallel\",\n+  \"spec\": {\n+    \"dataSchema\": {\n+      \"dataSource\": \"%%DATASOURCE%%\",\n+      \"timestampSpec\": {\n+        \"column\": \"timestamp\"\n+      },\n+      \"dimensionsSpec\": {\n+        \"dimensions\": [\n+          \"page\",\n+          {\"type\": \"string\", \"name\": \"language\", \"createBitmapIndex\": false},\n+          \"user\",\n+          \"unpatrolled\",\n+          \"newPage\",\n+          \"robot\",\n+          \"anonymous\",\n+          \"namespace\",\n+          \"continent\",\n+          \"country\",\n+          \"region\",\n+          \"city\"\n+        ]\n+      },\n+      \"metricsSpec\": [\n+        {\n+          \"type\": \"count\",\n+          \"name\": \"count\"\n+        },\n+        {\n+          \"type\": \"doubleSum\",\n+          \"name\": \"added\",\n+          \"fieldName\": \"added\"\n+        },\n+        {\n+          \"type\": \"doubleSum\",\n+          \"name\": \"deleted\",\n+          \"fieldName\": \"deleted\"\n+        },\n+        {\n+          \"type\": \"doubleSum\",\n+          \"name\": \"delta\",\n+          \"fieldName\": \"delta\"\n+        },\n+        {\n+          \"name\": \"thetaSketch\",\n+          \"type\": \"thetaSketch\",\n+          \"fieldName\": \"user\"\n+        },\n+        {\n+          \"name\": \"quantilesDoublesSketch\",\n+          \"type\": \"quantilesDoublesSketch\",\n+          \"fieldName\": \"delta\"\n+        },\n+        {\n+          \"name\": \"HLLSketchBuild\",\n+          \"type\": \"HLLSketchBuild\",\n+          \"fieldName\": \"user\"\n+        }\n+      ],\n+      \"granularitySpec\": {\n+        \"segmentGranularity\": \"DAY\",\n+        \"queryGranularity\": \"second\",\n+        \"intervals\" : [ \"2016-06/P1M\" ]\n+      }\n+    },\n+    \"ioConfig\": {\n+      \"type\": \"index_parallel\",\n+      \"inputSource\": {\n+        \"type\": \"http\",\n+        \"uris\": [\"https://druid.apache.org/data/wikipedia.json.gz\", \"https://druid.apache.org/data/wikipedia.json.gz\"]", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3479d8031728688036b8cd1690384fb4fc87318f"}, "originalPosition": 71}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3110, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}