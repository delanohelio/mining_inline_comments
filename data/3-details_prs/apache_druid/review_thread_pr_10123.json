{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQzMDA5OTAw", "number": 10123, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQyMjoxMTo0NlrOEKrXMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwMjoxMzo1MVrOEKuHLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NjMxNjY1OnYy", "diffSide": "RIGHT", "path": "processing/src/main/java/org/apache/druid/segment/column/SimpleColumnHolder.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQyMjoxMTo0NlrOGr2-Xw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMVQyMjoyNDozMlrOGr3Puw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY0MjY1NQ==", "bodyText": "Sorry I just looked even closer, I now think the actual best place for this log is probably in ComplexColumnPartSerde, in the getDeserializer method if serde is null. This way you can include the 'typeName' of the missing type, which isn't available in SimpleColumnHolder, my bad.", "url": "https://github.com/apache/druid/pull/10123#discussion_r448642655", "createdAt": "2020-07-01T22:11:46Z", "author": {"login": "clintropolis"}, "path": "processing/src/main/java/org/apache/druid/segment/column/SimpleColumnHolder.java", "diffHunk": "@@ -61,6 +63,8 @@\n           capabilities.getType() == ValueType.COMPLEX,\n           \"Only complex column types can have nullable column suppliers\"\n       );\n+      log.warn(\"Null column supplier for a complex column was passed which indicates \"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9039b00cc092655532573679086e51fb2b0c1c2"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY0NjY0Mg==", "bodyText": "Ah, yes. Would the better place to log this warning be then in the constructor itself since that is the first place where serde gets set to null?", "url": "https://github.com/apache/druid/pull/10123#discussion_r448646642", "createdAt": "2020-07-01T22:23:14Z", "author": {"login": "samarthjain"}, "path": "processing/src/main/java/org/apache/druid/segment/column/SimpleColumnHolder.java", "diffHunk": "@@ -61,6 +63,8 @@\n           capabilities.getType() == ValueType.COMPLEX,\n           \"Only complex column types can have nullable column suppliers\"\n       );\n+      log.warn(\"Null column supplier for a complex column was passed which indicates \"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY0MjY1NQ=="}, "originalCommit": {"oid": "d9039b00cc092655532573679086e51fb2b0c1c2"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY0NzA5OQ==", "bodyText": "Either place seems fine to me", "url": "https://github.com/apache/druid/pull/10123#discussion_r448647099", "createdAt": "2020-07-01T22:24:32Z", "author": {"login": "clintropolis"}, "path": "processing/src/main/java/org/apache/druid/segment/column/SimpleColumnHolder.java", "diffHunk": "@@ -61,6 +63,8 @@\n           capabilities.getType() == ValueType.COMPLEX,\n           \"Only complex column types can have nullable column suppliers\"\n       );\n+      log.warn(\"Null column supplier for a complex column was passed which indicates \"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY0MjY1NQ=="}, "originalCommit": {"oid": "d9039b00cc092655532573679086e51fb2b0c1c2"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5NjU4NDkyOnYy", "diffSide": "RIGHT", "path": "processing/src/main/java/org/apache/druid/segment/column/SimpleColumnHolder.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwMDoyNjo0NFrOGr5bww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwMDozNDoyNlrOGr5jNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY4Mjk0Nw==", "bodyText": "I think this is going to fail Travis for unused import", "url": "https://github.com/apache/druid/pull/10123#discussion_r448682947", "createdAt": "2020-07-02T00:26:44Z", "author": {"login": "clintropolis"}, "path": "processing/src/main/java/org/apache/druid/segment/column/SimpleColumnHolder.java", "diffHunk": "@@ -21,6 +21,7 @@\n \n import com.google.common.base.Preconditions;\n import com.google.common.base.Supplier;\n+import org.apache.druid.java.util.common.logger.Logger;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1171515d7b85f4a60496a67b34b31725278f2b2c"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY4NDg1NA==", "bodyText": "oh no! I just pushed a commit to remove the import.", "url": "https://github.com/apache/druid/pull/10123#discussion_r448684854", "createdAt": "2020-07-02T00:34:26Z", "author": {"login": "samarthjain"}, "path": "processing/src/main/java/org/apache/druid/segment/column/SimpleColumnHolder.java", "diffHunk": "@@ -21,6 +21,7 @@\n \n import com.google.common.base.Preconditions;\n import com.google.common.base.Supplier;\n+import org.apache.druid.java.util.common.logger.Logger;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODY4Mjk0Nw=="}, "originalCommit": {"oid": "1171515d7b85f4a60496a67b34b31725278f2b2c"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc5Njc2NzE3OnYy", "diffSide": "RIGHT", "path": "processing/src/main/java/org/apache/druid/segment/serde/ComplexColumnPartSerde.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwMjoxMzo1MVrOGr7FNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wMlQwMzowNjowMlrOGr73OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODcwOTk0Mg==", "bodyText": "nit: chosing -> choosing", "url": "https://github.com/apache/druid/pull/10123#discussion_r448709942", "createdAt": "2020-07-02T02:13:51Z", "author": {"login": "clintropolis"}, "path": "processing/src/main/java/org/apache/druid/segment/serde/ComplexColumnPartSerde.java", "diffHunk": "@@ -33,11 +34,17 @@\n   @Nullable\n   private final ComplexMetricSerde serde;\n   private final Serializer serializer;\n+  private static final Logger log = new Logger(ComplexColumnPartSerde.class);\n \n   private ComplexColumnPartSerde(String typeName, Serializer serializer)\n   {\n     this.typeName = typeName;\n     this.serde = ComplexMetrics.getSerdeForType(typeName);\n+    if (this.serde == null) {\n+      // Not chosing to fail here since this gets handled as", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c25f194fad593ea520812e943baf85fef720a93a"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODcyMjc0NQ==", "bodyText": "Thanks. I pushed a commit to fix the typo. Will go ahead and merge to master.", "url": "https://github.com/apache/druid/pull/10123#discussion_r448722745", "createdAt": "2020-07-02T03:06:02Z", "author": {"login": "samarthjain"}, "path": "processing/src/main/java/org/apache/druid/segment/serde/ComplexColumnPartSerde.java", "diffHunk": "@@ -33,11 +34,17 @@\n   @Nullable\n   private final ComplexMetricSerde serde;\n   private final Serializer serializer;\n+  private static final Logger log = new Logger(ComplexColumnPartSerde.class);\n \n   private ComplexColumnPartSerde(String typeName, Serializer serializer)\n   {\n     this.typeName = typeName;\n     this.serde = ComplexMetrics.getSerdeForType(typeName);\n+    if (this.serde == null) {\n+      // Not chosing to fail here since this gets handled as", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0ODcwOTk0Mg=="}, "originalCommit": {"oid": "c25f194fad593ea520812e943baf85fef720a93a"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2399, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}