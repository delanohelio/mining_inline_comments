{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk1MjAzODcx", "number": 10454, "title": "Web console: switch to switches instead of checkboxes", "bodyText": "There was a styling regression in the web console that made the tick in the checkbox box not render.\n\nThis is what it looked like in previously:\n\nAfter looking into it I decided to switch away from using blueprint's Checkbox control.\nFor lists (like the one above) a more blueprint idiomatic way is to set an icon on a MenuItem this way does not require any css hacks.\nThis is how it looks:\n\n\nFor all other places where a Checkbox was used (log tailing in the ShowLogs dialog and WarningChecklist) I switched the control to a switch - which I think is nicer because it is bigger and more satisfying to use. It is also more common throughout the UI.\n\n\nI think it is an improvement in all cases.\nAlso:\n\nAdd alt to the img elements as is HTML convention for accessibility\nClean up resources in ShowLog component", "createdAt": "2020-09-30T01:50:09Z", "url": "https://github.com/apache/druid/pull/10454", "merged": true, "mergeCommit": {"oid": "d09fd8b03581d93270fbd1375e7117ce2e15daf9"}, "closed": true, "closedAt": "2020-09-30T22:13:23Z", "author": {"login": "vogievetsky"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNyl_aAH2gAyNDk1MjAzODcxOmFkNGQ5MTQ2MmJiZWZlZDUzZGNkZDFkYzcwNjg5OTI5MTllYTFiODU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdOB0sRAFqTQ5OTczOTIwNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ad4d91462bbefed53dcdd1dc7068992919ea1b85", "author": {"user": {"login": "vogievetsky", "name": "Vadim Ogievetsky"}}, "url": "https://github.com/apache/druid/commit/ad4d91462bbefed53dcdd1dc7068992919ea1b85", "committedDate": "2020-09-30T01:35:00Z", "message": "switch to switches"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3fad515280a9ffdd110de6ea01d6c23d6b2999d", "author": {"user": {"login": "vogievetsky", "name": "Vadim Ogievetsky"}}, "url": "https://github.com/apache/druid/commit/f3fad515280a9ffdd110de6ea01d6c23d6b2999d", "committedDate": "2020-09-30T02:34:46Z", "message": "add img alt"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71918e4b24b934cb7c4e21b7991c928033cf2217", "author": {"user": {"login": "vogievetsky", "name": "Vadim Ogievetsky"}}, "url": "https://github.com/apache/druid/commit/71918e4b24b934cb7c4e21b7991c928033cf2217", "committedDate": "2020-09-30T03:21:06Z", "message": "add relative"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5Njc0Mzc4", "url": "https://github.com/apache/druid/pull/10454#pullrequestreview-499674378", "createdAt": "2020-09-30T17:49:22Z", "commit": {"oid": "71918e4b24b934cb7c4e21b7991c928033cf2217"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxNzo0OToyMlrOHao2Ww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxNzo0OToyMlrOHao2Ww==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzY5NDI5OQ==", "bodyText": "If none of the menu items are checked, there's no visual clue that the menu item has a checkbox since it's blank. Maybe something like the TICK CIRCLE / CIRCLE icons could be used instead? Or, if this was changed to use the Switch component (like the other changes you made in the PR), would it have similar styling issues?", "url": "https://github.com/apache/druid/pull/10454#discussion_r497694299", "createdAt": "2020-09-30T17:49:22Z", "author": {"login": "ccaominh"}, "path": "web-console/src/components/menu-checkbox/menu-checkbox.tsx", "diffHunk": "@@ -16,15 +16,26 @@\n  * limitations under the License.\n  */\n \n-import { Checkbox, ICheckboxProps } from '@blueprintjs/core';\n+import { MenuItem } from '@blueprintjs/core';\n+import { IconNames } from '@blueprintjs/icons';\n import React from 'react';\n \n-import './menu-checkbox.scss';\n+export interface MenuCheckboxProps {\n+  text: string;\n+  checked: boolean;\n+  onChange: () => void;\n+}\n+\n+export function MenuCheckbox(props: MenuCheckboxProps) {\n+  const { text, checked, onChange } = props;\n \n-export function MenuCheckbox(props: ICheckboxProps) {\n   return (\n-    <li className=\"menu-checkbox\">\n-      <Checkbox {...props} />\n-    </li>\n+    <MenuItem\n+      className=\"menu-checkbox\"\n+      icon={checked ? IconNames.TICK : IconNames.BLANK}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "71918e4b24b934cb7c4e21b7991c928033cf2217"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d4dbb0bfbe2d689a7352dd184735538d9b6dbd82", "author": {"user": {"login": "vogievetsky", "name": "Vadim Ogievetsky"}}, "url": "https://github.com/apache/druid/commit/d4dbb0bfbe2d689a7352dd184735538d9b6dbd82", "committedDate": "2020-09-30T19:05:59Z", "message": "change icons"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e108fb7cfb935bfe8495cdffc15c240695bff93d", "author": {"user": {"login": "vogievetsky", "name": "Vadim Ogievetsky"}}, "url": "https://github.com/apache/druid/commit/e108fb7cfb935bfe8495cdffc15c240695bff93d", "committedDate": "2020-09-30T19:12:27Z", "message": "update snapshot"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5NzM5MjA3", "url": "https://github.com/apache/druid/pull/10454#pullrequestreview-499739207", "createdAt": "2020-09-30T19:19:39Z", "commit": {"oid": "e108fb7cfb935bfe8495cdffc15c240695bff93d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3310, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}