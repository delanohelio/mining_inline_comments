{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk3ODUzNjQ5", "number": 10478, "title": "Move common configurations to TuningConfig", "bodyText": "Description\n\nThe goal of this PR is to reduce code duplications and redundant code.\nIt does not affect Druid's UX. Only the internal code structure.\n\n\nMove common methods that are used in HadoopTuningConfig and in AppenderatorConfig to TuningConfig\nRename rowFlushBoundary in HadoopTuningConfig to maxRowsInMemory to match TuningConfig API\n\nThis was already defined as @JsonProperty(\"maxRowsInMemory\"), but the method name did not match TuningConfig API\n\n\n\n\n\n\n\n\nThis PR has:\n\n been self-reviewed.\n added documentation for new or modified features or behaviors.\n added Javadocs for most classes and all non-trivial methods. Linked related entities via Javadoc links.\n added or updated version, license, or notice information in licenses.yaml\n added comments explaining the \"why\" and the intent of the code wherever would not be obvious for an unfamiliar reader.\n added unit tests or modified existing tests to cover new code paths, ensuring the threshold for code coverage is met.\n added integration tests.\n been tested in a test Druid cluster.\n\n\n\nKey changed/added classes in this PR\n\nTuningConfig\nAppenderatorConfig\nHadoopTuningConfig", "createdAt": "2020-10-05T13:26:18Z", "url": "https://github.com/apache/druid/pull/10478", "merged": true, "mergeCommit": {"oid": "52d46cebc31026b8dd39c7d9fb82c62bd77965fb"}, "closed": true, "closedAt": "2020-12-04T02:13:33Z", "author": {"login": "liran-funaro"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdPy6OagBqjM4NDM3OTczNTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdit1dlgFqTU0NDYwMTcxOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "0cde1e07b9ceb5538d596935b5b5e12fbb33c553", "author": {"user": {"login": "liran-funaro", "name": "Liran Funaro"}}, "url": "https://github.com/apache/druid/commit/0cde1e07b9ceb5538d596935b5b5e12fbb33c553", "committedDate": "2020-10-06T07:04:31Z", "message": "Refactor AppenderatorConfig to inherit from TuningConfig\n\n* Unify identical APIs (remove duplicates)\n* Rename rowFlushBoundary in HadoopTuningConfig to maxRowsInMemory to match TuningConfig API\n* Move getMaxBytesInMemoryOrDefault() to TuningConfig (delete TuningConfig*s*)\n* Added test coverage"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0cde1e07b9ceb5538d596935b5b5e12fbb33c553", "author": {"user": {"login": "liran-funaro", "name": "Liran Funaro"}}, "url": "https://github.com/apache/druid/commit/0cde1e07b9ceb5538d596935b5b5e12fbb33c553", "committedDate": "2020-10-06T07:04:31Z", "message": "Refactor AppenderatorConfig to inherit from TuningConfig\n\n* Unify identical APIs (remove duplicates)\n* Rename rowFlushBoundary in HadoopTuningConfig to maxRowsInMemory to match TuningConfig API\n* Move getMaxBytesInMemoryOrDefault() to TuningConfig (delete TuningConfig*s*)\n* Added test coverage"}, "afterCommit": null}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA0Mjc4MjI5", "url": "https://github.com/apache/druid/pull/10478#pullrequestreview-504278229", "createdAt": "2020-10-07T21:24:02Z", "commit": null, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMToyNDowMlrOHeGDPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMToyNDowMlrOHeGDPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTMxODQ2Mw==", "bodyText": "shortly explain what this is testing in the PR", "url": "https://github.com/apache/druid/pull/10478#discussion_r501318463", "createdAt": "2020-10-07T21:24:02Z", "author": {"login": "Eshcar"}, "path": "extensions-contrib/materialized-view-maintenance/src/test/java/org/apache/druid/indexing/materializedview/MaterializedViewSupervisorTest.java", "diffHunk": "@@ -317,6 +318,32 @@ public void testCheckSegmentsAndSubmitTasks() throws IOException\n \n   }\n \n+  @Test\n+  public void testCreateTask()", "state": "SUBMITTED", "replyTo": null, "originalCommit": null, "originalPosition": 22}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": null}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac366219d5813f7b45b182079a342853281e6235", "author": {"user": {"login": "liran-funaro", "name": "Liran Funaro"}}, "url": "https://github.com/apache/druid/commit/ac366219d5813f7b45b182079a342853281e6235", "committedDate": "2020-10-27T09:17:32Z", "message": "Move common configurations to TuningConfig\n\n* Move common methods that are used in HadoopTuningConfig and in AppenderatorConfig to TuningConfig\n* Rename rowFlushBoundary in HadoopTuningConfig to maxRowsInMemory to match TuningConfig API"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": null, "afterCommit": {"oid": "ac366219d5813f7b45b182079a342853281e6235", "author": {"user": {"login": "liran-funaro", "name": "Liran Funaro"}}, "url": "https://github.com/apache/druid/commit/ac366219d5813f7b45b182079a342853281e6235", "committedDate": "2020-10-27T09:17:32Z", "message": "Move common configurations to TuningConfig\n\n* Move common methods that are used in HadoopTuningConfig and in AppenderatorConfig to TuningConfig\n* Rename rowFlushBoundary in HadoopTuningConfig to maxRowsInMemory to match TuningConfig API"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0NjAxNzE5", "url": "https://github.com/apache/druid/pull/10478#pullrequestreview-544601719", "createdAt": "2020-12-04T01:54:47Z", "commit": {"oid": "ac366219d5813f7b45b182079a342853281e6235"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3331, "cost": 1, "resetAt": "2021-10-28T17:48:14Z"}}}