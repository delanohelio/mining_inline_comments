{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2Mjc1OTAy", "number": 2650, "title": "Default webui.submit.upload.required", "bodyText": "Configuring whether the file upload is required used an incorrect default value\nhttps://github.com/DSpace/DSpace/blob/master/dspace/config/dspace.cfg#L838 states webui.submit.upload.required defaults to true, and this is also the default in DSpace 6. It was however implemented to default to false\nThis PR also includes ITs to verify this parameter works", "createdAt": "2020-01-23T10:00:35Z", "url": "https://github.com/DSpace/DSpace/pull/2650", "merged": true, "mergeCommit": {"oid": "9dbda4e2e193978a114b9516850cd2a4173570d7"}, "closed": true, "closedAt": "2020-02-03T16:55:45Z", "author": {"login": "benbosman"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb2dNEvAH2gAyMzY2Mjc1OTAyOmQyODc2ZTI5ZGMxMDc1YTg1YWZkOGVlODJkMTVhMDQ1NTc5MzUzMmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcAv6DnAFqTM1MjQwNzE1NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d2876e29dc1075a85afd8ee82d15a0455793532c", "author": {"user": {"login": "benbosman", "name": null}}, "url": "https://github.com/DSpace/DSpace/commit/d2876e29dc1075a85afd8ee82d15a0455793532c", "committedDate": "2020-01-02T17:28:22Z", "message": "webui.submit.upload.required should default to true"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a962c35a8103f7c0ed356d6db5fffd9b6f46ae2b", "author": {"user": {"login": "benbosman", "name": null}}, "url": "https://github.com/DSpace/DSpace/commit/a962c35a8103f7c0ed356d6db5fffd9b6f46ae2b", "committedDate": "2020-01-03T08:40:37Z", "message": "webui.submit.upload.required should default to true"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f935faade145f961e964fe81a0345ef3e3f1da1a", "author": {"user": {"login": "benbosman", "name": null}}, "url": "https://github.com/DSpace/DSpace/commit/f935faade145f961e964fe81a0345ef3e3f1da1a", "committedDate": "2020-01-03T09:59:11Z", "message": "webui.submit.upload.required should default to true"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1bb451db41ee6bb49336ffcb34d80608f7e3a230", "author": {"user": {"login": "benbosman", "name": null}}, "url": "https://github.com/DSpace/DSpace/commit/1bb451db41ee6bb49336ffcb34d80608f7e3a230", "committedDate": "2020-01-03T11:10:12Z", "message": "webui.submit.upload.required should default to true"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "575e672fbabe78c816d980f112e2ef68f51148cc", "author": {"user": {"login": "benbosman", "name": null}}, "url": "https://github.com/DSpace/DSpace/commit/575e672fbabe78c816d980f112e2ef68f51148cc", "committedDate": "2020-01-03T12:57:25Z", "message": "webui.submit.upload.required should default to true"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f8ab7def82783da2325c55fbf88d5ec269190cce", "author": {"user": {"login": "MarieVerdonck", "name": "Marie Verdonck"}}, "url": "https://github.com/DSpace/DSpace/commit/f8ab7def82783da2325c55fbf88d5ec269190cce", "committedDate": "2020-01-22T14:23:31Z", "message": "68373: test fix by setting webui.submit.upload.required=false &\nextra tests for file upload when upload.required = true"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5NTMzNjAw", "url": "https://github.com/DSpace/DSpace/pull/2650#pullrequestreview-349533600", "createdAt": "2020-01-28T16:47:06Z", "commit": {"oid": "f8ab7def82783da2325c55fbf88d5ec269190cce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQxNjo0NzowNlrOFiseIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQxNjo0NzowNlrOFiseIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTkyNDUxNQ==", "bodyText": "@benbosman : I'm curious why we are not storing this configuration in the required local param?  This seems to be different than how we treat other fields in this UploadConfiguration, e.g. see the getMaxSize() method: https://github.com/DSpace/DSpace/blob/master/dspace-api/src/main/java/org/dspace/submit/model/UploadConfiguration.java#L43\nAre you implying that we need to change the behavior here for all the fields?  Or, is this field somehow unique?", "url": "https://github.com/DSpace/DSpace/pull/2650#discussion_r371924515", "createdAt": "2020-01-28T16:47:06Z", "author": {"login": "tdonohue"}, "path": "dspace-api/src/main/java/org/dspace/submit/model/UploadConfiguration.java", "diffHunk": "@@ -53,7 +53,9 @@ public void setMaxSize(Long maxSize) {\n \n     public Boolean isRequired() {\n         if (required == null) {\n-            required = configurationService.getBooleanProperty(\"webui.submit.upload.required\");\n+            //defaults to true\n+            //don't store a local copy of the configuration property\n+            return configurationService.getBooleanProperty(\"webui.submit.upload.required\", true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f8ab7def82783da2325c55fbf88d5ec269190cce"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyNDA3MTU0", "url": "https://github.com/DSpace/DSpace/pull/2650#pullrequestreview-352407154", "createdAt": "2020-02-03T16:55:02Z", "commit": {"oid": "f8ab7def82783da2325c55fbf88d5ec269190cce"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1564, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}