{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzczODI5Mjky", "number": 2669, "title": "DS-4380 : Fix errorprone test warnings after JDK11 upgrade", "bodyText": "This is a followup to #2654 (which has now been merged).\nThis PR resolves various warnings returned by errorprone after upgrading to the latest errorprone.  Namely, these issues were resolved in code (primarily tests in dspace-api module):\n\nhttps://errorprone.info/bugpattern/StringSplitter\nhttps://errorprone.info/bugpattern/UnusedVariable\nhttps://errorprone.info/bugpattern/JdkObsolete\nhttps://errorprone.info/bugpattern/UseCorrectAssertInTests\nhttps://errorprone.info/bugpattern/AssertEqualsArgumentOrderChecker\nhttps://errorprone.info/bugpattern/UnusedNestedClass\nhttps://errorprone.info/bugpattern/UnusedMethod\n\nA few very minor deprecation warnings were cleaned up as well. Namely\n\ntoString(java.lang.Object) in org.apache.commons.lang3.ObjectUtils has been deprecated", "createdAt": "2020-02-11T19:07:24Z", "url": "https://github.com/DSpace/DSpace/pull/2669", "merged": true, "mergeCommit": {"oid": "453c69132bb6ec2c5f5ca2360a1bb1db8143b3a1"}, "closed": true, "closedAt": "2020-02-20T16:36:57Z", "author": {"login": "tdonohue"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcEB2_egH2gAyMzczODI5MjkyOjY1NzMxOWIwMmNlYmE0Y2JkN2ZmOGU5OGZkNWQwODk4NmEwNWNhMjU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcGLHEJAFqTM2MTg5Njg3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "657319b02ceba4cbd7ff8e98fd5d08986a05ca25", "author": {"user": {"login": "tdonohue", "name": "Tim Donohue"}}, "url": "https://github.com/DSpace/DSpace/commit/657319b02ceba4cbd7ff8e98fd5d08986a05ca25", "committedDate": "2020-02-13T21:31:45Z", "message": "Rename IntegrationTest to end in IT."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f50156d32031270fa6fdbe725af22a17a7b8206a", "author": {"user": {"login": "tdonohue", "name": "Tim Donohue"}}, "url": "https://github.com/DSpace/DSpace/commit/f50156d32031270fa6fdbe725af22a17a7b8206a", "committedDate": "2020-02-13T21:31:45Z", "message": "Refactor to remove deprecation warning for ObjectUtils.equals"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b40e6d6e9f7a128d66b933e771d7252679e9f02", "author": {"user": {"login": "tdonohue", "name": "Tim Donohue"}}, "url": "https://github.com/DSpace/DSpace/commit/1b40e6d6e9f7a128d66b933e771d7252679e9f02", "committedDate": "2020-02-13T21:31:45Z", "message": "Minor test class refactors to remove errorprone warnings."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "408acc2b907fc46faf02eb460e438317a7d2c8b3", "author": {"user": {"login": "tdonohue", "name": "Tim Donohue"}}, "url": "https://github.com/DSpace/DSpace/commit/408acc2b907fc46faf02eb460e438317a7d2c8b3", "committedDate": "2020-02-13T21:31:45Z", "message": "Fix deprecation warning"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f73b2b5fea2f159356b225e45479a5c1f7278333", "author": {"user": {"login": "tdonohue", "name": "Tim Donohue"}}, "url": "https://github.com/DSpace/DSpace/commit/f73b2b5fea2f159356b225e45479a5c1f7278333", "committedDate": "2020-02-13T21:31:45Z", "message": "Fix deprecation warnings"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82c90ca15ce987db3ec2ee68cc9aa618c82b97c2", "author": {"user": {"login": "tdonohue", "name": "Tim Donohue"}}, "url": "https://github.com/DSpace/DSpace/commit/82c90ca15ce987db3ec2ee68cc9aa618c82b97c2", "committedDate": "2020-02-13T21:31:45Z", "message": "Fix errorprone warning https://errorprone.info/bugpattern/StringSplitter"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14586eb59458de180e7f706ea6c6b99e65511d55", "author": {"user": {"login": "tdonohue", "name": "Tim Donohue"}}, "url": "https://github.com/DSpace/DSpace/commit/14586eb59458de180e7f706ea6c6b99e65511d55", "committedDate": "2020-02-13T21:31:46Z", "message": "Fix errorprone warnings (UnusedVariable, out of order params)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ae9009dbd573c35e2bfed8d472a7e419670d31c", "author": {"user": {"login": "tdonohue", "name": "Tim Donohue"}}, "url": "https://github.com/DSpace/DSpace/commit/3ae9009dbd573c35e2bfed8d472a7e419670d31c", "committedDate": "2020-02-13T21:31:46Z", "message": "Fixes to various errorprone warnings in tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "db09a70d8f3f4866acf6676b64a30c776fb68fff", "author": {"user": {"login": "tdonohue", "name": "Tim Donohue"}}, "url": "https://github.com/DSpace/DSpace/commit/db09a70d8f3f4866acf6676b64a30c776fb68fff", "committedDate": "2020-02-13T21:31:46Z", "message": "Fix deprecation of ObjectUtils.toString"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e69a63c5a7715a6528553ddc335d2aaad345861a", "author": {"user": {"login": "tdonohue", "name": "Tim Donohue"}}, "url": "https://github.com/DSpace/DSpace/commit/e69a63c5a7715a6528553ddc335d2aaad345861a", "committedDate": "2020-02-13T21:31:47Z", "message": "Fix a number of errorprone warnings in tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4f9fb7d339c2c628b287b0426a5b6845b3fbbe52", "author": {"user": {"login": "tdonohue", "name": "Tim Donohue"}}, "url": "https://github.com/DSpace/DSpace/commit/4f9fb7d339c2c628b287b0426a5b6845b3fbbe52", "committedDate": "2020-02-13T21:31:47Z", "message": "Minor fix to test cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fb8ef5044bd9c1c21aff88b53bdf001e19aefc01", "author": {"user": {"login": "tdonohue", "name": "Tim Donohue"}}, "url": "https://github.com/DSpace/DSpace/commit/fb8ef5044bd9c1c21aff88b53bdf001e19aefc01", "committedDate": "2020-02-13T21:31:47Z", "message": "Fix checkstyle errors"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bfa50b7cf38f99ac925a3fc7852c1c82487d6acc", "author": {"user": {"login": "tdonohue", "name": "Tim Donohue"}}, "url": "https://github.com/DSpace/DSpace/commit/bfa50b7cf38f99ac925a3fc7852c1c82487d6acc", "committedDate": "2020-02-10T17:56:36Z", "message": "Fix checkstyle errors"}, "afterCommit": {"oid": "fb8ef5044bd9c1c21aff88b53bdf001e19aefc01", "author": {"user": {"login": "tdonohue", "name": "Tim Donohue"}}, "url": "https://github.com/DSpace/DSpace/commit/fb8ef5044bd9c1c21aff88b53bdf001e19aefc01", "committedDate": "2020-02-13T21:31:47Z", "message": "Fix checkstyle errors"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5OTY4NzEx", "url": "https://github.com/DSpace/DSpace/pull/2669#pullrequestreview-359968711", "createdAt": "2020-02-17T21:17:14Z", "commit": {"oid": "fb8ef5044bd9c1c21aff88b53bdf001e19aefc01"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QyMToxNzoxNFrOFqv3Eg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QyMToxNzoxNFrOFqv3Eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDM2ODY1OA==", "bodyText": "ObjectUtils.toString(null) returns \"\" while Objects.toString(null) returns \"null.  OK?  If not, Objects.toString(thing, \"\") should be an exact replacement.", "url": "https://github.com/DSpace/DSpace/pull/2669#discussion_r380368658", "createdAt": "2020-02-17T21:17:14Z", "author": {"login": "mwoodiupui"}, "path": "dspace-api/src/main/java/org/dspace/authority/PersonAuthorityValue.java", "diffHunk": "@@ -140,8 +140,8 @@ public SolrInputDocument getSolrInputDocument() {\n     @Override\n     public void setValues(SolrDocument document) {\n         super.setValues(document);\n-        this.firstName = ObjectUtils.toString(document.getFieldValue(\"first_name\"));\n-        this.lastName = ObjectUtils.toString(document.getFieldValue(\"last_name\"));\n+        this.firstName = Objects.toString(document.getFieldValue(\"first_name\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fb8ef5044bd9c1c21aff88b53bdf001e19aefc01"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5OTgwMTU3", "url": "https://github.com/DSpace/DSpace/pull/2669#pullrequestreview-359980157", "createdAt": "2020-02-17T21:55:43Z", "commit": {"oid": "fb8ef5044bd9c1c21aff88b53bdf001e19aefc01"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "280ccac20cbd93a187e315dada42c5f55f2a710b", "author": {"user": {"login": "tdonohue", "name": "Tim Donohue"}}, "url": "https://github.com/DSpace/DSpace/commit/280ccac20cbd93a187e315dada42c5f55f2a710b", "committedDate": "2020-02-19T22:51:28Z", "message": "Fix Objects.toString() calls to return empty string if null"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxODk2ODc4", "url": "https://github.com/DSpace/DSpace/pull/2669#pullrequestreview-361896878", "createdAt": "2020-02-20T13:26:18Z", "commit": {"oid": "280ccac20cbd93a187e315dada42c5f55f2a710b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1598, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}