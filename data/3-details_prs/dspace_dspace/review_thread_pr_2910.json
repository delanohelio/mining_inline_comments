{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4NDU0MjY2", "number": 2910, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxNjo0NTo0NlrOEUH3ig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxNjo0NTo0NlrOEUH3ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5NTM1ODgyOnYy", "diffSide": "RIGHT", "path": "dspace-server-webapp/src/test/java/org/dspace/app/rest/AuthorizationRestRepositoryIT.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxNjo0NTo0NlrOG6PGCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxNjo0NTo0NlrOG6PGCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzcxNzg5OA==", "bodyText": "This looked odd to me at first, but you are correct :) We don't have an /objectAndFeature endpoint...it's named /object in the REST contract: https://github.com/DSpace/Rest7Contract/blob/main/authorizations.md#object", "url": "https://github.com/DSpace/DSpace/pull/2910#discussion_r463717898", "createdAt": "2020-07-31T16:45:46Z", "author": {"login": "tdonohue"}, "path": "dspace-server-webapp/src/test/java/org/dspace/app/rest/AuthorizationRestRepositoryIT.java", "diffHunk": "@@ -982,94 +986,153 @@ public void findByObjectAndFeatureTest() throws Exception {\n         String adminToken = getAuthToken(admin.getEmail(), password);\n \n         // verify that it works for administrators - with eperson parameter\n-        getClient(adminToken).perform(get(\"/api/authz/authorizations/search/objectAndFeature\")\n+        getClient(adminToken).perform(get(\"/api/authz/authorizations/search/object\")\n                 .param(\"uri\", comUri)\n                 .param(\"projection\", \"level\")\n                 .param(\"embedLevelDepth\", \"1\")\n                 .param(\"feature\", alwaysTrue.getName())\n                 .param(\"eperson\", admin.getID().toString()))\n             .andExpect(status().isOk())\n-            .andExpect(jsonPath(\"$.type\", is(\"authorization\")))\n-            .andExpect(jsonPath(\"$._embedded.feature.id\", is(alwaysTrue.getName())))\n-            .andExpect(jsonPath(\"$.id\", Matchers.is(admin.getID().toString() + \"_\" + alwaysTrue.getName() + \"_\"\n-                    + comRest.getUniqueType() + \"_\" + comRest.getId())));\n+            .andExpect(jsonPath(\"$.page.totalElements\", is(1)))\n+            .andExpect(jsonPath(\"$._embedded.authorizations\", contains(\n+                    allOf(\n+                            hasJsonPath(\"$.id\", is(admin.getID().toString() + \"_\" + alwaysTrue.getName() + \"_\"\n+                                    + comRest.getUniqueType() + \"_\" + comRest.getId())),\n+                            hasJsonPath(\"$.type\", is(\"authorization\")),\n+                            hasJsonPath(\"$._embedded.feature.id\", is(alwaysTrue.getName())),\n+                            hasJsonPath(\"$._embedded.eperson.id\", is(admin.getID().toString()))\n+                    )\n+            )));\n \n         // verify that it works for administrators - without eperson parameter\n-        getClient(adminToken).perform(get(\"/api/authz/authorizations/search/objectAndFeature\")\n+        getClient(adminToken).perform(get(\"/api/authz/authorizations/search/object\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e37600d64a43c109ef760b6daad61e730c5840fd"}, "originalPosition": 42}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1374, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}