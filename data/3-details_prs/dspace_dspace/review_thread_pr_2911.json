{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4OTM3NTg4", "number": 2911, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxNjoxODo0OFrOEUHX3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxNjoxODo0OFrOEUHX3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5NTI3NzczOnYy", "diffSide": "RIGHT", "path": "dspace-server-webapp/src/main/java/org/dspace/app/rest/model/hateoas/HALResource.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQxNjoxODo0OFrOG6OTaw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNlQxMTozMzo1N1rOG8vr7g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzcwNDkzOQ==", "bodyText": "While this entire for loop should work, just a note that this can be simplified in Java 8+ like this:\n// If a link of this name doesn't already exist in the list, add it\nif (!list.stream().anyMatch((l -> l.getName().equalsIgnoreCase(name)))) {\n    super.add(link);\n}\n\nIf you prefer your manner, that's fine. It'll work.  Just noting an opportunity for code simplification here.", "url": "https://github.com/DSpace/DSpace/pull/2911#discussion_r463704939", "createdAt": "2020-07-31T16:18:48Z", "author": {"login": "tdonohue"}, "path": "dspace-server-webapp/src/main/java/org/dspace/app/rest/model/hateoas/HALResource.java", "diffHunk": "@@ -49,6 +51,20 @@ public void setPageHeader(EmbeddedPageHeader page) {\n     public EntityModel<T> add(Link link) {\n         if (!hasLink(link.getRel())) {\n             return super.add(link);\n+        } else {\n+            String name = link.getName();\n+            if (StringUtils.isNotBlank(name)) {\n+                List<Link> list = this.getLinks(link.getRel());\n+                boolean doesNameExist = false;\n+                for (Link existingLink : list) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "338764b0462f59d3deff7054711978747131ded2"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NjM0OTAzOA==", "bodyText": "@tdonohue Thanks for this point of feedback, we altered the code in this manner (& also merged the latest master into this branch).", "url": "https://github.com/DSpace/DSpace/pull/2911#discussion_r466349038", "createdAt": "2020-08-06T11:33:57Z", "author": {"login": "KevinVdV"}, "path": "dspace-server-webapp/src/main/java/org/dspace/app/rest/model/hateoas/HALResource.java", "diffHunk": "@@ -49,6 +51,20 @@ public void setPageHeader(EmbeddedPageHeader page) {\n     public EntityModel<T> add(Link link) {\n         if (!hasLink(link.getRel())) {\n             return super.add(link);\n+        } else {\n+            String name = link.getName();\n+            if (StringUtils.isNotBlank(name)) {\n+                List<Link> list = this.getLinks(link.getRel());\n+                boolean doesNameExist = false;\n+                for (Link existingLink : list) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzcwNDkzOQ=="}, "originalCommit": {"oid": "338764b0462f59d3deff7054711978747131ded2"}, "originalPosition": 23}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1377, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}