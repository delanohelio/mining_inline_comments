{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc3MDI3NjU5", "number": 2680, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNTo1NDoxMVrODmWyzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNTo1NDoxMVrODmWyzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNTQ1OTMzOnYy", "diffSide": "RIGHT", "path": "dspace-server-webapp/src/main/java/org/dspace/app/rest/VersionRestController.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNTo1NDoxMVrOFzujhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxNTo1NDoxMVrOFzujhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTc4NDQ1Mw==", "bodyText": "I'm a little confused by this method & this Controller.  Why is it necessary when you've also created an EPersionVersionLinkRepository class which appears to do this same thing as this method?  Please double check this class is needed, and if no, please remove it.", "url": "https://github.com/DSpace/DSpace/pull/2680#discussion_r389784453", "createdAt": "2020-03-09T15:54:11Z", "author": {"login": "tdonohue"}, "path": "dspace-server-webapp/src/main/java/org/dspace/app/rest/VersionRestController.java", "diffHunk": "@@ -0,0 +1,78 @@\n+/**\n+ * The contents of this file are subject to the license and copyright\n+ * detailed in the LICENSE and NOTICE files at the root of the source\n+ * tree and available online at\n+ *\n+ * http://www.dspace.org/license/\n+ */\n+package org.dspace.app.rest;\n+\n+import java.sql.SQLException;\n+import javax.servlet.http.HttpServletRequest;\n+import javax.servlet.http.HttpServletResponse;\n+\n+import org.dspace.app.rest.converter.ConverterService;\n+import org.dspace.app.rest.model.hateoas.EPersonResource;\n+import org.dspace.app.rest.utils.ContextUtil;\n+import org.dspace.app.rest.utils.Utils;\n+import org.dspace.core.Context;\n+import org.dspace.eperson.EPerson;\n+import org.dspace.versioning.Version;\n+import org.dspace.versioning.service.VersioningService;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.data.domain.Pageable;\n+import org.springframework.data.rest.webmvc.ResourceNotFoundException;\n+import org.springframework.data.web.PagedResourcesAssembler;\n+import org.springframework.web.bind.annotation.PathVariable;\n+import org.springframework.web.bind.annotation.RequestMapping;\n+import org.springframework.web.bind.annotation.RequestMethod;\n+import org.springframework.web.bind.annotation.RestController;\n+\n+/**\n+ * This controller handles calls for the Version endpoint with a specific ID\n+ */\n+@RestController\n+@RequestMapping(\"/api/versioning/versions/{id}\")\n+public class VersionRestController {\n+\n+    @Autowired\n+    private VersioningService versioningService;\n+\n+    @Autowired\n+    private ConverterService converterService;\n+\n+    @Autowired\n+    private Utils utils;\n+\n+    /**\n+     * This method will retrieve a Version object based on the given ID paramater and t'll fetch the EPerson from that\n+     * Version object and created a Resource from it and return this EPersonResource\n+     * @param id            The ID of the Version to be used\n+     * @param response      The current response\n+     * @param request       The current request\n+     * @param pageable      The pageable if present\n+     * @param assembler     The assembler\n+     * @return              The EPersonResource object constructed from the EPerson that was attached to the Version\n+     *                      object which was found through the given ID\n+     * @throws SQLException If something goes wrong\n+     */\n+    @RequestMapping(value = \"/eperson\", method = RequestMethod.GET)\n+    public EPersonResource retrieve(@PathVariable Integer id,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "767274b98bf065f4864cb3865013b3cac4d2925c"}, "originalPosition": 60}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1654, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}