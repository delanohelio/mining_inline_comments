{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgzMDI4OTEx", "number": 2701, "title": "Expose the action and step as an embed on workflow related objects", "bodyText": "This is a customization which is part of DSpace/RestContract#96 to expose the HAL link to the claimed task, and allow embedding of the claimed task where applicable\nIt also includes DSpace/RestContract#104 to expose the step", "createdAt": "2020-03-03T15:49:47Z", "url": "https://github.com/DSpace/DSpace/pull/2701", "merged": true, "mergeCommit": {"oid": "323990a3fc5cbf4fea65c5f99350e0809bdae803"}, "closed": true, "closedAt": "2020-03-10T16:17:12Z", "author": {"login": "benbosman"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcJs7cSgH2gAyMzgzMDI4OTExOjUzMTQ5YmI2NWIyNDgxYTNkNmU0NGY2OGFlMTJmNzkwY2I4YjUzNTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcMTCEpAH2gAyMzgzMDI4OTExOjM3ZDMyZDU4NjMxZTM0NTFjZjVhZmExZTJhMTgxYmUwYjY0NDQ1YzM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "53149bb65b2481a3d6e44f68ae12f790cb8b5355", "author": {"user": {"login": "Raf-atmire", "name": null}}, "url": "https://github.com/DSpace/DSpace/commit/53149bb65b2481a3d6e44f68ae12f790cb8b5355", "committedDate": "2020-03-02T12:32:09Z", "message": "[Task 69114] exposed the action as an embed on claimedtasks"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d7e91e8e4c25a49b9ce9c0a59d78335266cdc49c", "author": {"user": {"login": "Raf-atmire", "name": null}}, "url": "https://github.com/DSpace/DSpace/commit/d7e91e8e4c25a49b9ce9c0a59d78335266cdc49c", "committedDate": "2020-03-04T16:01:14Z", "message": "[Task 69256] made the Step into a link/embed on ClaimedTasks, PoolTasks and WorkflowItems"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50847855b2871caea4fed24a188c7222cb5cc3ca", "author": {"user": {"login": "benbosman", "name": null}}, "url": "https://github.com/DSpace/DSpace/commit/50847855b2871caea4fed24a188c7222cb5cc3ca", "committedDate": "2020-03-05T09:31:56Z", "message": "Merge pull request #18 from atmire/w2p-69256_workflow-steps-expose-from-claimed-and-pooled-tasks\n\n[Task 69256] made the Step into a link/embed on ClaimedTasks, PoolTas\u2026"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNTk5ODky", "url": "https://github.com/DSpace/DSpace/pull/2701#pullrequestreview-370599892", "createdAt": "2020-03-06T20:16:22Z", "commit": {"oid": "50847855b2871caea4fed24a188c7222cb5cc3ca"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQyMDoxNjoyMlrOFzGK9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQyMDoyMzo1NlrOFzGXZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTEyMjgwNg==", "bodyText": "Please add JavaDocs to this new class & to the getStep public method below", "url": "https://github.com/DSpace/DSpace/pull/2701#discussion_r389122806", "createdAt": "2020-03-06T20:16:22Z", "author": {"login": "tdonohue"}, "path": "dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/ClaimedTaskStepLinkRepository.java", "diffHunk": "@@ -0,0 +1,51 @@\n+/**\n+ * The contents of this file are subject to the license and copyright\n+ * detailed in the LICENSE and NOTICE files at the root of the source\n+ * tree and available online at\n+ *\n+ * http://www.dspace.org/license/\n+ */\n+package org.dspace.app.rest.repository;\n+\n+import java.sql.SQLException;\n+import javax.annotation.Nullable;\n+import javax.servlet.http.HttpServletRequest;\n+\n+import org.dspace.app.rest.model.ClaimedTaskRest;\n+import org.dspace.app.rest.model.WorkflowStepRest;\n+import org.dspace.app.rest.projection.Projection;\n+import org.dspace.core.Context;\n+import org.dspace.xmlworkflow.factory.XmlWorkflowFactory;\n+import org.dspace.xmlworkflow.storedcomponents.ClaimedTask;\n+import org.dspace.xmlworkflow.storedcomponents.service.ClaimedTaskService;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.data.domain.Pageable;\n+import org.springframework.data.rest.webmvc.ResourceNotFoundException;\n+import org.springframework.stereotype.Component;\n+\n+@Component(ClaimedTaskRest.CATEGORY + \".\" + ClaimedTaskRest.NAME + \".\" + ClaimedTaskRest.STEP)\n+public class ClaimedTaskStepLinkRepository extends AbstractDSpaceRestRepository implements LinkRestRepository {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50847855b2871caea4fed24a188c7222cb5cc3ca"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTEyMzA4MQ==", "bodyText": "Again, JavaDocs please for the class and the getStep method.", "url": "https://github.com/DSpace/DSpace/pull/2701#discussion_r389123081", "createdAt": "2020-03-06T20:17:04Z", "author": {"login": "tdonohue"}, "path": "dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/PoolTaskStepLinkRepository.java", "diffHunk": "@@ -0,0 +1,51 @@\n+/**\n+ * The contents of this file are subject to the license and copyright\n+ * detailed in the LICENSE and NOTICE files at the root of the source\n+ * tree and available online at\n+ *\n+ * http://www.dspace.org/license/\n+ */\n+package org.dspace.app.rest.repository;\n+\n+import java.sql.SQLException;\n+import javax.annotation.Nullable;\n+import javax.servlet.http.HttpServletRequest;\n+\n+import org.dspace.app.rest.model.PoolTaskRest;\n+import org.dspace.app.rest.model.WorkflowStepRest;\n+import org.dspace.app.rest.projection.Projection;\n+import org.dspace.core.Context;\n+import org.dspace.xmlworkflow.factory.XmlWorkflowFactory;\n+import org.dspace.xmlworkflow.storedcomponents.PoolTask;\n+import org.dspace.xmlworkflow.storedcomponents.service.PoolTaskService;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.data.domain.Pageable;\n+import org.springframework.data.rest.webmvc.ResourceNotFoundException;\n+import org.springframework.stereotype.Component;\n+\n+@Component(PoolTaskRest.CATEGORY + \".\" + PoolTaskRest.NAME + \".\" + PoolTaskRest.STEP)\n+public class PoolTaskStepLinkRepository extends AbstractDSpaceRestRepository implements LinkRestRepository {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50847855b2871caea4fed24a188c7222cb5cc3ca"}, "originalPosition": 27}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTEyNTk5MA==", "bodyText": "Same here. JavaDocs for the class & getStep method.", "url": "https://github.com/DSpace/DSpace/pull/2701#discussion_r389125990", "createdAt": "2020-03-06T20:23:56Z", "author": {"login": "tdonohue"}, "path": "dspace-server-webapp/src/main/java/org/dspace/app/rest/repository/WorkflowItemStepLinkRepository.java", "diffHunk": "@@ -0,0 +1,73 @@\n+/**\n+ * The contents of this file are subject to the license and copyright\n+ * detailed in the LICENSE and NOTICE files at the root of the source\n+ * tree and available online at\n+ *\n+ * http://www.dspace.org/license/\n+ */\n+package org.dspace.app.rest.repository;\n+\n+import java.sql.SQLException;\n+import java.util.List;\n+import javax.annotation.Nullable;\n+import javax.servlet.http.HttpServletRequest;\n+\n+import org.dspace.app.rest.model.WorkflowItemRest;\n+import org.dspace.app.rest.model.WorkflowStepRest;\n+import org.dspace.app.rest.projection.Projection;\n+import org.dspace.core.Context;\n+import org.dspace.xmlworkflow.factory.XmlWorkflowFactory;\n+import org.dspace.xmlworkflow.storedcomponents.ClaimedTask;\n+import org.dspace.xmlworkflow.storedcomponents.PoolTask;\n+import org.dspace.xmlworkflow.storedcomponents.XmlWorkflowItem;\n+import org.dspace.xmlworkflow.storedcomponents.service.ClaimedTaskService;\n+import org.dspace.xmlworkflow.storedcomponents.service.PoolTaskService;\n+import org.dspace.xmlworkflow.storedcomponents.service.XmlWorkflowItemService;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.data.domain.Pageable;\n+import org.springframework.data.rest.webmvc.ResourceNotFoundException;\n+import org.springframework.stereotype.Component;\n+\n+@Component(WorkflowItemRest.CATEGORY + \".\" + WorkflowItemRest.NAME + \".\" + WorkflowItemRest.STEP)\n+public class WorkflowItemStepLinkRepository extends AbstractDSpaceRestRepository implements LinkRestRepository {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50847855b2871caea4fed24a188c7222cb5cc3ca"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "37d32d58631e3451cf5afa1e2a181be0b64445c3", "author": {"user": {"login": "Raf-atmire", "name": null}}, "url": "https://github.com/DSpace/DSpace/commit/37d32d58631e3451cf5afa1e2a181be0b64445c3", "committedDate": "2020-03-10T14:03:38Z", "message": "Added javadoc to the StepLinkRepositories"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1643, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}