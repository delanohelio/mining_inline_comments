{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5ODU0NDY1", "number": 10702, "title": "Fix test_implicit_cast_ISO_formats_with_time_zone", "bodyText": "Summary of the changes / Why this improves CrateDB\nNeed to account for daylight savings\nChecklist\n\n Added an entry in CHANGES.txt for user facing changes\n Updated documentation & sql_features table for user facing changes\n Touched code is covered by tests\n CLA is signed\n This does not contain breaking changes, or if it does:\n\nIt is released within a major release\nIt is recorded in CHANGES.txt\nIt was marked as deprecated in an earlier release if possible\nYou've thought about the consequences and other components are adapted\n(E.g. AdminUI)", "createdAt": "2020-10-26T08:08:11Z", "url": "https://github.com/crate/crate/pull/10702", "merged": true, "mergeCommit": {"oid": "5ee42c4561cff874848bc0b7e0e4ca9628a7b3c9"}, "closed": true, "closedAt": "2020-10-26T10:59:47Z", "author": {"login": "mfussenegger"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdWQAxzAH2gAyNTA5ODU0NDY1OjQyN2Q1ZjNjYjhmMTExNjUwYzNlMzVmN2RjOGE1YjMzMDllYWVhODM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWRsRrgFqTUxNjYzNjQyNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "427d5f3cb8f111650c3e35f7dc8a5b3309eaea83", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/427d5f3cb8f111650c3e35f7dc8a5b3309eaea83", "committedDate": "2020-10-26T08:22:54Z", "message": "Fix test_implicit_cast_ISO_formats_with_time_zone\n\nNeed to account for daylight savings"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "800150b8f46e22453f7bde838434777813feb05a", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/800150b8f46e22453f7bde838434777813feb05a", "committedDate": "2020-10-26T08:06:59Z", "message": "Fix test_implicit_cast_ISO_formats_with_time_zone\n\nNeed to account for daylight savings"}, "afterCommit": {"oid": "427d5f3cb8f111650c3e35f7dc8a5b3309eaea83", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/427d5f3cb8f111650c3e35f7dc8a5b3309eaea83", "committedDate": "2020-10-26T08:22:54Z", "message": "Fix test_implicit_cast_ISO_formats_with_time_zone\n\nNeed to account for daylight savings"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NjAwODIy", "url": "https://github.com/crate/crate/pull/10702#pullrequestreview-516600822", "createdAt": "2020-10-26T09:34:14Z", "commit": {"oid": "427d5f3cb8f111650c3e35f7dc8a5b3309eaea83"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwOTozNDoxNVrOHoHVdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwOTozNTozM1rOHoHYgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTgyNTI3MQ==", "bodyText": "Shouldn't it always result in isTZ(3600000000L, 3600) for timezone CET?", "url": "https://github.com/crate/crate/pull/10702#discussion_r511825271", "createdAt": "2020-10-26T09:34:15Z", "author": {"login": "seut"}, "path": "server/src/test/java/io/crate/types/TimeTZTypeTest.java", "diffHunk": "@@ -36,7 +37,10 @@ public void test_implicit_cast_null() {\n \n     @Test\n     public void test_implicit_cast_ISO_formats_with_time_zone() {\n-        assertThat(TimeTZType.INSTANCE.implicitCast(\"01:00:00     CET\"), isTZ(3600000000L, 7200));\n+        assertThat(\n+            TimeTZType.INSTANCE.implicitCast(\"01:00:00     CET\"),\n+            Matchers.anyOf(isTZ(3600000000L, 3600), isTZ(3600000000L, 7200))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "427d5f3cb8f111650c3e35f7dc8a5b3309eaea83"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTgyNjA1MQ==", "bodyText": "Is this wrong and should be fixed inside the implementation?\nPostgreSQL:\npostgres=# select '13:59:59.999999 CET'::timetz;\n       timetz       \n--------------------\n 13:59:59.999999+01\n(1 row)\n\npostgres=# select '13:59:59.999999 CEST'::timetz;\n       timetz       \n--------------------\n 13:59:59.999999+02\n(1 row)", "url": "https://github.com/crate/crate/pull/10702#discussion_r511826051", "createdAt": "2020-10-26T09:35:33Z", "author": {"login": "seut"}, "path": "docs/general/ddl/data-types.rst", "diffHunk": "@@ -487,15 +487,7 @@ Time zone syntax as defined by `ISO 8601 time zone designators`_.\n     +------------------+\n     SELECT 1 row in set (... sec)\n \n-    cr> select '13:59:59.999999 CET'::timetz;\n-    +-----------------------+\n-    | 13:59:59.999999+02:00 |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "427d5f3cb8f111650c3e35f7dc8a5b3309eaea83"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NjM2NDI3", "url": "https://github.com/crate/crate/pull/10702#pullrequestreview-516636427", "createdAt": "2020-10-26T10:20:19Z", "commit": {"oid": "427d5f3cb8f111650c3e35f7dc8a5b3309eaea83"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3725, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}