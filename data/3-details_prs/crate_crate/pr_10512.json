{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgyODE2MDUw", "number": 10512, "title": "Clarify indexing/tokenization schemes with dynamic object columns", "bodyText": "Summary of the changes / Why this improves CrateDB\nOriginally, the documentation of dynamic object columns is that when added via insert/update, they were unindexed. However, the documentation also stated that they were analyzed with the plain fulltext analyzer, which does index columns but does not tokenize them. Similarly, the added column behaves as an indexed one in that you are able to search on it - searching on unindexed columns returns a java.lang.IllegalArgumentException: Cannot search on field [f] since it is not indexed. exception.\nIs this correct? Or is there something more complex/nuanced with indexing going on with dynamically added object subcolumns @mkleen ?", "createdAt": "2020-09-09T12:42:27Z", "url": "https://github.com/crate/crate/pull/10512", "merged": true, "mergeCommit": {"oid": "8f0475219a4edd420103ea3effedc2af90e06da2"}, "closed": true, "closedAt": "2020-09-10T09:52:06Z", "author": {"login": "autophagy"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdHLmnDAFqTQ4NDk2OTA3Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdHdN9cABqjM3NDk5MjExMjk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg0OTY5MDc2", "url": "https://github.com/crate/crate/pull/10512#pullrequestreview-484969076", "createdAt": "2020-09-09T12:45:50Z", "commit": {"oid": "070002508d0132522cd4893288e198b3bad1816d"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1MDc5ODE3", "url": "https://github.com/crate/crate/pull/10512#pullrequestreview-485079817", "createdAt": "2020-09-09T14:38:57Z", "commit": {"oid": "070002508d0132522cd4893288e198b3bad1816d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxNDozODo1OFrOHPKpOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQxNDozODo1OFrOHPKpOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTY2NTA4Mw==", "bodyText": "Technically this is correct.", "url": "https://github.com/crate/crate/pull/10512#discussion_r485665083", "createdAt": "2020-09-09T14:38:58Z", "author": {"login": "mkleen"}, "path": "docs/general/ddl/data-types.rst", "diffHunk": "@@ -917,9 +917,9 @@ Note that adding new columns to an object with a ``dynamic`` policy will affect\n the schema of the table. Once a column is added, it shows up in the\n ``information_schema.columns`` table and its type and attributes are fixed.\n They will have the type that was guessed by their inserted/updated value and\n-they will always be ``not_indexed`` which means they are analyzed with the\n-:ref:`plain <plain-analyzer>`, which means as-is.\n-\n+they will always be analyzed as-is with the :ref:`plain <plain-analyzer>`,\n+which means the column will be indexed but not tokenized in the case of\n+``text`` columns.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "070002508d0132522cd4893288e198b3bad1816d"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg1MDgwODc3", "url": "https://github.com/crate/crate/pull/10512#pullrequestreview-485080877", "createdAt": "2020-09-09T14:39:54Z", "commit": {"oid": "070002508d0132522cd4893288e198b3bad1816d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f006f8ea874910b7f5e3d31678086ae1d4e9a76", "author": {"user": {"login": "autophagy", "name": "Mika"}}, "url": "https://github.com/crate/crate/commit/7f006f8ea874910b7f5e3d31678086ae1d4e9a76", "committedDate": "2020-09-10T09:16:43Z", "message": "Clarify indexing/tokenization schemes with dynamic object columns\n\nThis should address #10153"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "070002508d0132522cd4893288e198b3bad1816d", "author": {"user": {"login": "autophagy", "name": "Mika"}}, "url": "https://github.com/crate/crate/commit/070002508d0132522cd4893288e198b3bad1816d", "committedDate": "2020-09-09T12:37:49Z", "message": "Clarify indexing/tokenization schemes with dynamic object columns\n\nThis should address #10153"}, "afterCommit": {"oid": "7f006f8ea874910b7f5e3d31678086ae1d4e9a76", "author": {"user": {"login": "autophagy", "name": "Mika"}}, "url": "https://github.com/crate/crate/commit/7f006f8ea874910b7f5e3d31678086ae1d4e9a76", "committedDate": "2020-09-10T09:16:43Z", "message": "Clarify indexing/tokenization schemes with dynamic object columns\n\nThis should address #10153"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3071, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}