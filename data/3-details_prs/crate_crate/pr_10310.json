{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyODA5MTQ2", "number": 10310, "title": "Update, expand, and re-organize Editions page", "bodyText": "Summary of the changes / Why this improves CrateDB\nUpon running CrateDB CE (v4), I ran into some confusion (git submodules no longer relevant) and also noticed that a few other things could be fixed for clarity and consistency.\nTied to: https://github.com/crate/tech-writing-domain/issues/261\nChecklist\n\n Added an entry in CHANGES.txt for user facing changes\n Updated documentation & sql_features table for user facing changes\n Touched code is covered by tests\n CLA is signed\n This does not contain breaking changes, or if it does:\n\nIt is released within a major release\nIt is recorded in CHANGES.txt\nIt was marked as deprecated in an earlier release if possible\nYou've thought about the consequences and other components are adapted\n(E.g. AdminUI)", "createdAt": "2020-08-04T14:37:18Z", "url": "https://github.com/crate/crate/pull/10310", "merged": true, "mergeCommit": {"oid": "ffff0a6a2f746b653abce620340748d155074ecb"}, "closed": true, "closedAt": "2020-08-14T09:37:33Z", "author": {"login": "infoverload"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc7n6HDgFqTQ2MDg4ODYwOQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-wxSgABqjM2NTUzOTMxMTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwODg4NjA5", "url": "https://github.com/crate/crate/pull/10310#pullrequestreview-460888609", "createdAt": "2020-08-04T14:49:07Z", "commit": {"oid": "55306d9a5442313ac912a4804c3597aa947c734e"}, "state": "COMMENTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNDo0OTowN1rOG7j-bQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNDo1NzoxM1rOG7kV1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTEwODU4OQ==", "bodyText": "We usually don't include documentation changes in the release notes.\nNot sure if we want to start doing that. The documentation is not strictly bound to a single release but to the release series, the changes will be reflected as soon as the PR is merged.", "url": "https://github.com/crate/crate/pull/10310#discussion_r465108589", "createdAt": "2020-08-04T14:49:07Z", "author": {"login": "mfussenegger"}, "path": "docs/appendices/release-notes/unreleased.rst", "diffHunk": "@@ -65,3 +65,5 @@ Fixes\n - Fixed an issue that caused primary key lookups to return an empty result\n   instead of the row identified by the primary key values, if the primary key\n   consists of multiple columns and if one of them is of type ``BOOLEAN``.\n+\n+- Updated the :ref:`editions` documentation", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55306d9a5442313ac912a4804c3597aa947c734e"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTEwOTQyMw==", "bodyText": "This was intentionally just called \"CrateDB\". There is some discussion whether this should be called \"CrateDB Enterprise Edition\"\ncc: @joemoe", "url": "https://github.com/crate/crate/pull/10310#discussion_r465109423", "createdAt": "2020-08-04T14:50:14Z", "author": {"login": "mfussenegger"}, "path": "docs/editions.rst", "diffHunk": "@@ -28,40 +28,60 @@ limitations.\n \n .. _standard-edition:\n \n-CrateDB\n-=======\n+CrateDB Standard Edition", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55306d9a5442313ac912a4804c3597aa947c734e"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTExMDU2NQ==", "bodyText": "\"standard edition\" usage here also depends on the outcome of my prior comment.", "url": "https://github.com/crate/crate/pull/10310#discussion_r465110565", "createdAt": "2020-08-04T14:51:52Z", "author": {"login": "mfussenegger"}, "path": "docs/editions.rst", "diffHunk": "@@ -28,40 +28,60 @@ limitations.\n \n .. _standard-edition:\n \n-CrateDB\n-=======\n+CrateDB Standard Edition\n+========================\n+\n+Take note of the following items when using the standard edition of CrateDB. \n \n .. _enterprise-features:\n \n Enterprise features\n -------------------\n \n-- :ref:`administration_user_management`: manage multiple database users\n-- :ref:`administration-privileges`: configure user privileges\n-- :ref:`admin_auth`: manage your database with authentication, and\n-  more\n-- System information functions: :ref:`CURRENT_USER <current_user>`,\n-  :ref:`USER <user>`, :ref:`SESSION_USER <session_user>`\n-- :ref:`Support for JavaScript in UDF <udf_lang_js>`: write user-defined\n-  functions in JavaScript\n-- :ref:`jmx_monitoring`: monitor your query stats with JMX\n-- :ref:`aggregation-hll-distinct`: distinct count aggregation using the\n-  `HyperLoglog++`_ algorithm\n-- :ref:`window-function-firstvalue`: ``first_value`` window function\n-- :ref:`window-function-lastvalue`: ``last_value`` window function\n-- :ref:`window-function-lag`: ``lag`` window function\n-- :ref:`window-function-lead`: ``lead`` window function\n-- :ref:`window-function-nthvalue`: ``nth_value`` window function\n-- `The CrateDB admin UI`_: `shards browser`_, `monitoring overview`_,\n-  `privileges browser`_\n+- :ref:`administration_user_management` for multiple database users\n+- Configure user :ref:`privileges <administration-privileges>`\n+- Manage your database with :ref:`authentication <admin_auth>` and more\n+- Write :ref:`user-defined functions in JavaScript <udf_lang_js>`\n+- Take advantage of these features in the `CrateDB admin UI`_:\n+\n+  - `shards browser`_\n+\n+  - `monitoring overview`_ \n+\n+  - `privileges browser`_\n+\n+- Unlock the following :ref:`system information functions <scalar-sysinfo>`:\n+\n+  - :ref:`CURRENT_USER <current_user>`\n+\n+  - :ref:`USER <user>`\n+\n+  - :ref:`SESSION_USER <session_user>`\n+\n+- :ref:`Monitor <jmx_monitoring>` your query stats with JMX\n+- Access to the :ref:`aggregation-hll-distinct` :ref:`aggregate function \n+  <aggregate-functions>`\n+- Access to the following :ref:`window functions <window-functions>`:\n+\n+  - :ref:`window-function-firstvalue`\n+\n+  - :ref:`window-function-lastvalue`\n+\n+  - :ref:`window-function-lag`\n+\n+  - :ref:`window-function-lead`\n+\n+  - :ref:`window-function-nthvalue`\n+\n \n .. _node-limitations:\n \n Node limitation\n ---------------\n \n-To make full use of CrateDB, you must `acquire an Enterprise License`_. Unless and\n-until you do that, CrateDB is limited to running on no more than three nodes.\n+To make full use of CrateDB, you must `acquire an Enterprise License`_. The\n+standard edition of CrateDB is limited to running on no more than three nodes", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55306d9a5442313ac912a4804c3597aa947c734e"}, "originalPosition": 87}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTExMTQxOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            - replace ``<TAG>`` with the commit hash of the Git tag that corresponds to\n          \n          \n            \n            - replace ``<TAG>`` with the Git tag that corresponds to\n          \n      \n    \n    \n  \n\nTags can be checked out directly, no need to lookup the associated hash value", "url": "https://github.com/crate/crate/pull/10310#discussion_r465111419", "createdAt": "2020-08-04T14:53:04Z", "author": {"login": "mfussenegger"}, "path": "docs/editions.rst", "diffHunk": "@@ -94,31 +115,59 @@ CrateDB Community Edition\n The CrateDB *Community Edition* (CrateDB CE) does not include any\n :ref:`enterprise-features` but can be run on as many nodes as you wish.\n \n-CrateDB CE must be built from source, like so:\n+.. NOTE::\n+\n+   CrateDB requires a `Java virtual machine`_ to run.\n+\n+   Starting with CrateDB 4.2, a JVM is bundled with the tarball and no\n+   extra installation is necessary.\n+\n+   Versions starting from 3.0 to 4.1 require a `Java 11`_ installation. We\n+   recommend using `Oracle's Java`_ on macOS and OpenJDK_ on Linux Systems.\n+\n+   Earlier versions required Java 8.\n+\n+CrateDB CE must be built from source:\n \n .. code-block:: console\n \n    sh$ git clone https://github.com/crate/crate\n    sh$ cd crate\n-   sh$ git submodule update --init\n    sh$ git checkout <TAG>\n    sh$ ./gradlew clean communityEditionDistTar\n \n-Here, replace ``<TAG>`` with the commit hash of the Git tag that corresponds to\n-the `release`_ you wish to use.\n+The steps above:\n+\n+- clone the CrateDB Git repository and navigate into the directory\n \n-When the ``gradlew`` command successfully completes, the relevant CrateDB CE\n+- replace ``<TAG>`` with the commit hash of the Git tag that corresponds to", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55306d9a5442313ac912a4804c3597aa947c734e"}, "originalPosition": 149}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTExMzM4Nw==", "bodyText": "Maybe re-add this as optional step after the git checkout <tag> command if a version earlier than 4.0 is checked out, in which case this would still be necessary.\nNot sure how often that happens though - also good for me to remove it altogether", "url": "https://github.com/crate/crate/pull/10310#discussion_r465113387", "createdAt": "2020-08-04T14:55:45Z", "author": {"login": "mfussenegger"}, "path": "docs/editions.rst", "diffHunk": "@@ -94,31 +115,59 @@ CrateDB Community Edition\n The CrateDB *Community Edition* (CrateDB CE) does not include any\n :ref:`enterprise-features` but can be run on as many nodes as you wish.\n \n-CrateDB CE must be built from source, like so:\n+.. NOTE::\n+\n+   CrateDB requires a `Java virtual machine`_ to run.\n+\n+   Starting with CrateDB 4.2, a JVM is bundled with the tarball and no\n+   extra installation is necessary.\n+\n+   Versions starting from 3.0 to 4.1 require a `Java 11`_ installation. We\n+   recommend using `Oracle's Java`_ on macOS and OpenJDK_ on Linux Systems.\n+\n+   Earlier versions required Java 8.\n+\n+CrateDB CE must be built from source:\n \n .. code-block:: console\n \n    sh$ git clone https://github.com/crate/crate\n    sh$ cd crate\n-   sh$ git submodule update --init", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55306d9a5442313ac912a4804c3597aa947c734e"}, "originalPosition": 138}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTExNDU4MQ==", "bodyText": "Not sure if the details about the gradle tasks generation are necessary to mention. That's kind of describing gradle internals. For users the more important piece is that is ends up generating the tarball", "url": "https://github.com/crate/crate/pull/10310#discussion_r465114581", "createdAt": "2020-08-04T14:57:13Z", "author": {"login": "mfussenegger"}, "path": "docs/editions.rst", "diffHunk": "@@ -94,31 +115,59 @@ CrateDB Community Edition\n The CrateDB *Community Edition* (CrateDB CE) does not include any\n :ref:`enterprise-features` but can be run on as many nodes as you wish.\n \n-CrateDB CE must be built from source, like so:\n+.. NOTE::\n+\n+   CrateDB requires a `Java virtual machine`_ to run.\n+\n+   Starting with CrateDB 4.2, a JVM is bundled with the tarball and no\n+   extra installation is necessary.\n+\n+   Versions starting from 3.0 to 4.1 require a `Java 11`_ installation. We\n+   recommend using `Oracle's Java`_ on macOS and OpenJDK_ on Linux Systems.\n+\n+   Earlier versions required Java 8.\n+\n+CrateDB CE must be built from source:\n \n .. code-block:: console\n \n    sh$ git clone https://github.com/crate/crate\n    sh$ cd crate\n-   sh$ git submodule update --init\n    sh$ git checkout <TAG>\n    sh$ ./gradlew clean communityEditionDistTar\n \n-Here, replace ``<TAG>`` with the commit hash of the Git tag that corresponds to\n-the `release`_ you wish to use.\n+The steps above:\n+\n+- clone the CrateDB Git repository and navigate into the directory\n \n-When the ``gradlew`` command successfully completes, the relevant CrateDB CE\n+- replace ``<TAG>`` with the commit hash of the Git tag that corresponds to\n+  the `release`_ you wish to use or just the version number of the release\n+\n+- execute the `Gradle Wrapper`_ script included in the repository to clean up\n+  any old build files and to invoke a `distribution plugin`_ that will generate\n+  Gradle tasks to build the Community Edition tar archive ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "55306d9a5442313ac912a4804c3597aa947c734e"}, "originalPosition": 154}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYxNDkwMTY0", "url": "https://github.com/crate/crate/pull/10310#pullrequestreview-461490164", "createdAt": "2020-08-05T09:23:28Z", "commit": {"oid": "863e56484274e1c3c1eda9133f2a9b9e10544a21"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMjAyOTc0", "url": "https://github.com/crate/crate/pull/10310#pullrequestreview-463202974", "createdAt": "2020-08-07T10:22:53Z", "commit": {"oid": "863e56484274e1c3c1eda9133f2a9b9e10544a21"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "863e56484274e1c3c1eda9133f2a9b9e10544a21", "author": {"user": {"login": "infoverload", "name": "Daisy T"}}, "url": "https://github.com/crate/crate/commit/863e56484274e1c3c1eda9133f2a9b9e10544a21", "committedDate": "2020-08-04T16:51:10Z", "message": "fixup! fixup! Update docs/editions.rst"}, "afterCommit": {"oid": "6ed3d6ab11fb72141a8499e0b14e9450423e8814", "author": {"user": {"login": "infoverload", "name": "Daisy T"}}, "url": "https://github.com/crate/crate/commit/6ed3d6ab11fb72141a8499e0b14e9450423e8814", "committedDate": "2020-08-12T15:38:07Z", "message": "update and clean up Editions page"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6ed3d6ab11fb72141a8499e0b14e9450423e8814", "author": {"user": {"login": "infoverload", "name": "Daisy T"}}, "url": "https://github.com/crate/crate/commit/6ed3d6ab11fb72141a8499e0b14e9450423e8814", "committedDate": "2020-08-12T15:38:07Z", "message": "update and clean up Editions page"}, "afterCommit": {"oid": "d060ad28fca8d02b5c73a14438443e372274d2f8", "author": {"user": {"login": "infoverload", "name": "Daisy T"}}, "url": "https://github.com/crate/crate/commit/d060ad28fca8d02b5c73a14438443e372274d2f8", "committedDate": "2020-08-13T07:43:23Z", "message": "update and clean up Editions page"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8fff025d96946e0e4df8a262ab12ad891388aa7e", "author": {"user": {"login": "infoverload", "name": "Daisy T"}}, "url": "https://github.com/crate/crate/commit/8fff025d96946e0e4df8a262ab12ad891388aa7e", "committedDate": "2020-08-14T08:58:36Z", "message": "update and clean up Editions page"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d060ad28fca8d02b5c73a14438443e372274d2f8", "author": {"user": {"login": "infoverload", "name": "Daisy T"}}, "url": "https://github.com/crate/crate/commit/d060ad28fca8d02b5c73a14438443e372274d2f8", "committedDate": "2020-08-13T07:43:23Z", "message": "update and clean up Editions page"}, "afterCommit": {"oid": "8fff025d96946e0e4df8a262ab12ad891388aa7e", "author": {"user": {"login": "infoverload", "name": "Daisy T"}}, "url": "https://github.com/crate/crate/commit/8fff025d96946e0e4df8a262ab12ad891388aa7e", "committedDate": "2020-08-14T08:58:36Z", "message": "update and clean up Editions page"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3107, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}