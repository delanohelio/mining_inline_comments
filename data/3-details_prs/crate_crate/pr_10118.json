{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4MDk1MjYw", "number": 10118, "title": "Improve unknown function error for operators", "bodyText": "Summary of the changes / Why this improves CrateDB\nFormat the unknown operator in operator style, not function style.\nExample:\nunknown function: bool = ANY(integer)\nChecklist\n\n Added an entry in CHANGES.txt for user facing changes\n Updated documentation & sql_features table for user facing changes\n Touched code is covered by tests\n CLA is signed\n This does not contain breaking changes, or if it does:\n\nIt is released within a major release\nIt is recorded in CHANGES.txt\nIt was marked as deprecated in an earlier release if possible\nYou've thought about the consequences and other components are adapted\n(E.g. AdminUI)", "createdAt": "2020-06-22T17:58:04Z", "url": "https://github.com/crate/crate/pull/10118", "merged": true, "mergeCommit": {"oid": "72246aba81d720d5aa1b56306d9f847f62e2d540"}, "closed": true, "closedAt": "2020-06-23T14:49:06Z", "author": {"login": "seut"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcuATs1gFqTQzNTUxMTIxNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcuGLqXABqjM0NzMxOTExMTM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1NTExMjE2", "url": "https://github.com/crate/crate/pull/10118#pullrequestreview-435511216", "createdAt": "2020-06-23T07:27:51Z", "commit": {"oid": "913d200348f64cce4bf16d0aa25c25c324be09d8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwNzoyNzo1MVrOGnco8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QwNzoyNzo1MVrOGnco8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDAxNjg4Mg==", "bodyText": "Did you consider to create a Function symbol to be able to delegate the formatting to the toString implementation of Function?", "url": "https://github.com/crate/crate/pull/10118#discussion_r444016882", "createdAt": "2020-06-23T07:27:51Z", "author": {"login": "mfussenegger"}, "path": "server/src/main/java/io/crate/metadata/Functions.java", "diffHunk": "@@ -331,12 +335,50 @@ public FunctionImplementation getQualified(Signature signature,\n     private static UnsupportedOperationException raiseUnknownFunction(@Nullable String suppliedSchema,\n                                                                       String name,\n                                                                       List<? extends Symbol> arguments) {\n-        StringJoiner joiner = new StringJoiner(\", \");\n-        for (var arg : arguments) {\n-            joiner.add(arg.valueType().toString());\n+        String functionString = formatPossibleOperators(suppliedSchema, name, arguments);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "913d200348f64cce4bf16d0aa25c25c324be09d8"}, "originalPosition": 18}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "38c93f7402a1aeac3de7261d52e67a2b48a81c3b", "author": {"user": {"login": "seut", "name": "Sebastian Utz"}}, "url": "https://github.com/crate/crate/commit/38c93f7402a1aeac3de7261d52e67a2b48a81c3b", "committedDate": "2020-06-23T09:10:56Z", "message": "fixup! Improve unknown function error for operators"}, "afterCommit": {"oid": "471804ccbadd93c632f0723bf1d95a33e4b265db", "author": {"user": {"login": "seut", "name": "Sebastian Utz"}}, "url": "https://github.com/crate/crate/commit/471804ccbadd93c632f0723bf1d95a33e4b265db", "committedDate": "2020-06-23T09:12:54Z", "message": "fixup! Improve unknown function error for operators"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1NjA1MjUw", "url": "https://github.com/crate/crate/pull/10118#pullrequestreview-435605250", "createdAt": "2020-06-23T09:28:10Z", "commit": {"oid": "471804ccbadd93c632f0723bf1d95a33e4b265db"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1ODMwMjcx", "url": "https://github.com/crate/crate/pull/10118#pullrequestreview-435830271", "createdAt": "2020-06-23T14:18:07Z", "commit": {"oid": "befcd130618680c8a05e11fdcece25fa8b6cfc81"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3cd70df81073bbee9470fba03da7d87fa9dc83ef", "author": {"user": {"login": "seut", "name": "Sebastian Utz"}}, "url": "https://github.com/crate/crate/commit/3cd70df81073bbee9470fba03da7d87fa9dc83ef", "committedDate": "2020-06-23T14:18:36Z", "message": "Improve unknown function error for operators\n\nFormat the unknown operator in operator style, not function style.\nExample:\n  `unknown function: bool = ANY(integer)`"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "befcd130618680c8a05e11fdcece25fa8b6cfc81", "author": {"user": {"login": "seut", "name": "Sebastian Utz"}}, "url": "https://github.com/crate/crate/commit/befcd130618680c8a05e11fdcece25fa8b6cfc81", "committedDate": "2020-06-23T13:08:53Z", "message": "fixup! Improve unknown function error for operators"}, "afterCommit": {"oid": "3cd70df81073bbee9470fba03da7d87fa9dc83ef", "author": {"user": {"login": "seut", "name": "Sebastian Utz"}}, "url": "https://github.com/crate/crate/commit/3cd70df81073bbee9470fba03da7d87fa9dc83ef", "committedDate": "2020-06-23T14:18:36Z", "message": "Improve unknown function error for operators\n\nFormat the unknown operator in operator style, not function style.\nExample:\n  `unknown function: bool = ANY(integer)`"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3140, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}