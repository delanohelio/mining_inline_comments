{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEwNjA0NjM0", "number": 10706, "title": "Ensure TableInfo can be created for new indices", "bodyText": "Summary of the changes / Why this improves CrateDB\nAdds additional validation to the create-index action to ensure that new\nindices can be parsed into a TableInfo\nShould prevent bugs where users were able to create broken tables.\nChecklist\n\n Added an entry in CHANGES.txt for user facing changes\n Updated documentation & sql_features table for user facing changes\n Touched code is covered by tests\n CLA is signed\n This does not contain breaking changes, or if it does:\n\nIt is released within a major release\nIt is recorded in CHANGES.txt\nIt was marked as deprecated in an earlier release if possible\nYou've thought about the consequences and other components are adapted\n(E.g. AdminUI)", "createdAt": "2020-10-27T09:29:48Z", "url": "https://github.com/crate/crate/pull/10706", "merged": true, "mergeCommit": {"oid": "e96186a47d5affd2d5d4e2f213d07f6753c5bad9"}, "closed": true, "closedAt": "2020-10-27T12:22:26Z", "author": {"login": "mfussenegger"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdWllMegBqjM5MjQ4NjM4NzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWngQdAFqTUxNzYxNDcwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0ec93b4232096d4abb230dc45f94b936a25161e1", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/0ec93b4232096d4abb230dc45f94b936a25161e1", "committedDate": "2020-10-27T09:27:55Z", "message": "Ensure TableInfo can be created for new indices"}, "afterCommit": {"oid": "9a8ba09a4ea9525d01dc9befc8207ae6d0a13356", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/9a8ba09a4ea9525d01dc9befc8207ae6d0a13356", "committedDate": "2020-10-27T09:30:30Z", "message": "Ensure TableInfo can be created for new indices"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9a8ba09a4ea9525d01dc9befc8207ae6d0a13356", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/9a8ba09a4ea9525d01dc9befc8207ae6d0a13356", "committedDate": "2020-10-27T09:30:30Z", "message": "Ensure TableInfo can be created for new indices"}, "afterCommit": {"oid": "52397cde6d0d526760804fb49ee67e6a4a8e2d4d", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/52397cde6d0d526760804fb49ee67e6a4a8e2d4d", "committedDate": "2020-10-27T10:01:48Z", "message": "Ensure TableInfo can be created for new indices"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "73f8ff78a1f724bcd3a5d99b8bf2071b4fcd6945", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/73f8ff78a1f724bcd3a5d99b8bf2071b4fcd6945", "committedDate": "2020-10-27T10:10:02Z", "message": "Ensure TableInfo can be created for new indices"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "52397cde6d0d526760804fb49ee67e6a4a8e2d4d", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/52397cde6d0d526760804fb49ee67e6a4a8e2d4d", "committedDate": "2020-10-27T10:01:48Z", "message": "Ensure TableInfo can be created for new indices"}, "afterCommit": {"oid": "73f8ff78a1f724bcd3a5d99b8bf2071b4fcd6945", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/73f8ff78a1f724bcd3a5d99b8bf2071b4fcd6945", "committedDate": "2020-10-27T10:10:02Z", "message": "Ensure TableInfo can be created for new indices"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3NTQyNTQw", "url": "https://github.com/crate/crate/pull/10706#pullrequestreview-517542540", "createdAt": "2020-10-27T10:19:22Z", "commit": {"oid": "73f8ff78a1f724bcd3a5d99b8bf2071b4fcd6945"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxMDoxOToyMlrOHo0rKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxMDoxOToyMlrOHo0rKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjU2ODEwNQ==", "bodyText": "These moved to Node because NodeContext is now used in TransportCreateIndexAction which is also initialized in cases where the SQLPlugin is not loaded. (By tests using ESIntegTestCase)", "url": "https://github.com/crate/crate/pull/10706#discussion_r512568105", "createdAt": "2020-10-27T10:19:22Z", "author": {"login": "mfussenegger"}, "path": "server/src/main/java/io/crate/plugin/SQLPlugin.java", "diffHunk": "@@ -195,14 +191,9 @@ public SQLPlugin(Settings settings) {\n         modules.add(new OperatorModule());\n         modules.add(new PredicateModule());\n         modules.add(new MonitorModule());\n-        modules.add(new AggregationImplModule());\n-        modules.add(new ScalarFunctionModule());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73f8ff78a1f724bcd3a5d99b8bf2071b4fcd6945"}, "originalPosition": 123}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3NTkxMzQw", "url": "https://github.com/crate/crate/pull/10706#pullrequestreview-517591340", "createdAt": "2020-10-27T11:17:17Z", "commit": {"oid": "73f8ff78a1f724bcd3a5d99b8bf2071b4fcd6945"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3NjE0NzAy", "url": "https://github.com/crate/crate/pull/10706#pullrequestreview-517614702", "createdAt": "2020-10-27T11:45:06Z", "commit": {"oid": "73f8ff78a1f724bcd3a5d99b8bf2071b4fcd6945"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3731, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}