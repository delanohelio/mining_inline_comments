{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyNzI4MzY4", "number": 9510, "title": "Add pg array type notation support", "bodyText": "Summary of the changes / Why this improves CrateDB\nTo support casts like ...::text[], which is used by the PostgreSQL\nJDBC client.\nChecklist\n\n User relevant changes are recorded in CHANGES.txt\n Touched code is covered by tests\n Documentation has been updated if necessary\n CLA is signed\n This does not contain breaking changes, or if it does:\n\nIt is released within a major release\nIt is recorded in CHANGES.txt\nIt was marked as deprecated in an earlier release if possible\nYou've thought about the consequences and other components are adapted\n(E.g. AdminUI)", "createdAt": "2020-01-14T16:32:07Z", "url": "https://github.com/crate/crate/pull/9510", "merged": true, "mergeCommit": {"oid": "92856f2d10b57876ad0dcc63184d4130ce754e73"}, "closed": true, "closedAt": "2020-01-21T11:55:30Z", "author": {"login": "mfussenegger"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb6UB7wgBqjI5NDc4ODM3NzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb8fURVgH2gAyMzYyNzI4MzY4OmU4NTZhYWMwNjJiMjNhMDBmYmY0ZjQwNjc0MzNiMjNiZWVmNmQ0Mjc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6846e6ad374e5b6b89fb84b1315d7abcb6efa8cf", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/6846e6ad374e5b6b89fb84b1315d7abcb6efa8cf", "committedDate": "2020-01-14T16:30:49Z", "message": "Add pg array type notation support\n\nTo support casts like `...::text[]`, which is used by the PostgreSQL\nJDBC client."}, "afterCommit": {"oid": "9ab1b598813b40629f04dc0ebf25134611213e29", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/9ab1b598813b40629f04dc0ebf25134611213e29", "committedDate": "2020-01-14T17:02:38Z", "message": "Add pg array type notation support\n\nTo support casts like `...::text[]`, which is used by the PostgreSQL\nJDBC client."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "055770fff7b2f9c54e80747a25a619de73d9bd8d", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/055770fff7b2f9c54e80747a25a619de73d9bd8d", "committedDate": "2020-01-15T14:27:40Z", "message": "Add pg array type notation support\n\nTo support casts like `...::text[]`, which is used by the PostgreSQL\nJDBC client."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9ab1b598813b40629f04dc0ebf25134611213e29", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/9ab1b598813b40629f04dc0ebf25134611213e29", "committedDate": "2020-01-14T17:02:38Z", "message": "Add pg array type notation support\n\nTo support casts like `...::text[]`, which is used by the PostgreSQL\nJDBC client."}, "afterCommit": {"oid": "055770fff7b2f9c54e80747a25a619de73d9bd8d", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/055770fff7b2f9c54e80747a25a619de73d9bd8d", "committedDate": "2020-01-15T14:27:40Z", "message": "Add pg array type notation support\n\nTo support casts like `...::text[]`, which is used by the PostgreSQL\nJDBC client."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzMjgyODcy", "url": "https://github.com/crate/crate/pull/9510#pullrequestreview-343282872", "createdAt": "2020-01-15T15:02:21Z", "commit": {"oid": "055770fff7b2f9c54e80747a25a619de73d9bd8d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQxNTowMjoyMlrOFd7QAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQxNTowMjoyMlrOFd7QAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjkyMzc3OA==", "bodyText": "This was necessary to work around some ambiguity we've as we support the ARRAY[] constructor also without ARRAY prefix (which PostgreSQL doesn't)", "url": "https://github.com/crate/crate/pull/9510#discussion_r366923778", "createdAt": "2020-01-15T15:02:22Z", "author": {"login": "mfussenegger"}, "path": "sql-parser/src/main/antlr/SqlBase.g4", "diffHunk": "@@ -239,6 +239,7 @@ primaryExpression\n     | ident ('.' ident)*                                                             #dereference\n     | primaryExpression CAST_OPERATOR dataType                                       #doubleColonCast\n     | timestamp=primaryExpression AT TIME ZONE zone=primaryExpression                #atTimezone\n+    | 'ARRAY'? '[]'                                                                  #emptyArray", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "055770fff7b2f9c54e80747a25a619de73d9bd8d"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzMjkyNTk3", "url": "https://github.com/crate/crate/pull/9510#pullrequestreview-343292597", "createdAt": "2020-01-15T15:15:03Z", "commit": {"oid": "055770fff7b2f9c54e80747a25a619de73d9bd8d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQzMzE2Mjcx", "url": "https://github.com/crate/crate/pull/9510#pullrequestreview-343316271", "createdAt": "2020-01-15T15:44:22Z", "commit": {"oid": "055770fff7b2f9c54e80747a25a619de73d9bd8d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e856aac062b23a00fbf4f4067433b23beef6d427", "author": {"user": {"login": "mergify[bot]", "name": null}}, "url": "https://github.com/crate/crate/commit/e856aac062b23a00fbf4f4067433b23beef6d427", "committedDate": "2020-01-21T11:19:35Z", "message": "Merge branch 'master' into j/array-type-notation"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3906, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}