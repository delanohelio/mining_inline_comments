{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5MDkwMzU5", "number": 9604, "title": "Remove noMatch from WhereClause", "bodyText": "Summary of the changes / Why this improves CrateDB\nWe already have the query which can be false to indicate that nothing\ncan match. Having a second dedicated noMatch flag made things more\ncomplicated, and led to bugs as call-sites forgot to consider both,\nquery() and noMatch().\nChecklist\n\n User relevant changes are recorded in CHANGES.txt\n Touched code is covered by tests\n Documentation has been updated if necessary\n CLA is signed\n This does not contain breaking changes, or if it does:\n\nIt is released within a major release\nIt is recorded in CHANGES.txt\nIt was marked as deprecated in an earlier release if possible\nYou've thought about the consequences and other components are adapted\n(E.g. AdminUI)", "createdAt": "2020-01-30T14:01:11Z", "url": "https://github.com/crate/crate/pull/9604", "merged": true, "mergeCommit": {"oid": "65d3f89da0bd223fab1d9cae27eeda4c85d937c4"}, "closed": true, "closedAt": "2020-01-31T09:39:01Z", "author": {"login": "mfussenegger"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_bBqwgBqjI5OTM0NDEyMTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_q6e7gBqjI5OTYyMjgyMjc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "adb842d9cea458aee0bdc7168c6b3f9abe91b492", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/adb842d9cea458aee0bdc7168c6b3f9abe91b492", "committedDate": "2020-01-30T13:57:32Z", "message": "Remove noMatch from WhereClause\n\nWe already have the query which can be `false` to indicate that nothing\ncan match. Having a second dedicated `noMatch` flag made things more\ncomplicated, and lead to bugs as call-sites forgot to consider both,\n`query()` and `noMatch()`."}, "afterCommit": {"oid": "90364825615beeb05f6c1199e497de19e3a81512", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/90364825615beeb05f6c1199e497de19e3a81512", "committedDate": "2020-01-30T14:01:15Z", "message": "Remove noMatch from WhereClause\n\nWe already have the query which can be `false` to indicate that nothing\ncan match. Having a second dedicated `noMatch` flag made things more\ncomplicated, and led to bugs as call-sites forgot to consider both,\n`query()` and `noMatch()`."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMjg4NzEw", "url": "https://github.com/crate/crate/pull/9604#pullrequestreview-351288710", "createdAt": "2020-01-31T04:33:44Z", "commit": {"oid": "90364825615beeb05f6c1199e497de19e3a81512"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwNDozMzo0NFrOFkBL0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwNDozMzo0NFrOFkBL0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzMxMjQ2Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                public void testOrderByOnColumnNotPresentInDistinctOutputsIsNottrueowed() {\n          \n          \n            \n                public void testOrderByOnColumnNotPresentInDistinctOutputsIsNotTrue() {", "url": "https://github.com/crate/crate/pull/9604#discussion_r373312467", "createdAt": "2020-01-31T04:33:44Z", "author": {"login": "mkleen"}, "path": "sql/src/test/java/io/crate/planner/operators/SelectDistinctLogicalPlannerTest.java", "diffHunk": "@@ -59,11 +59,11 @@ public void testDistinctOnLiteralResultsInGroupByOnLiteral() {\n         assertThat(plan, isPlan(e.functions(),\n             \"RootBoundary[[1, 2, 3]]\\n\" +\n             \"GroupBy[[1, 2, 3] | ]\\n\" +\n-            \"Collect[doc.users | [[1, 2, 3]] | All]\\n\"));\n+            \"Collect[doc.users | [[1, 2, 3]] | true]\\n\"));\n     }\n \n     @Test\n-    public void testOrderByOnColumnNotPresentInDistinctOutputsIsNotAllowed() {\n+    public void testOrderByOnColumnNotPresentInDistinctOutputsIsNottrueowed() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90364825615beeb05f6c1199e497de19e3a81512"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMjg4OTI3", "url": "https://github.com/crate/crate/pull/9604#pullrequestreview-351288927", "createdAt": "2020-01-31T04:35:05Z", "commit": {"oid": "90364825615beeb05f6c1199e497de19e3a81512"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "dec71bedde51633717fd4771bbe92f1214e6494b", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/dec71bedde51633717fd4771bbe92f1214e6494b", "committedDate": "2020-01-31T08:27:25Z", "message": "Remove unused replace from QueryClause"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "97b7fa4986db2a1849ea7f1fd2a1689880aee900", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/97b7fa4986db2a1849ea7f1fd2a1689880aee900", "committedDate": "2020-01-31T08:31:56Z", "message": "Remove noMatch from WhereClause\n\nWe already have the query which can be `false` to indicate that nothing\ncan match. Having a second dedicated `noMatch` flag made things more\ncomplicated, and led to bugs as call-sites forgot to consider both,\n`query()` and `noMatch()`."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "90364825615beeb05f6c1199e497de19e3a81512", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/90364825615beeb05f6c1199e497de19e3a81512", "committedDate": "2020-01-30T14:01:15Z", "message": "Remove noMatch from WhereClause\n\nWe already have the query which can be `false` to indicate that nothing\ncan match. Having a second dedicated `noMatch` flag made things more\ncomplicated, and led to bugs as call-sites forgot to consider both,\n`query()` and `noMatch()`."}, "afterCommit": {"oid": "97b7fa4986db2a1849ea7f1fd2a1689880aee900", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/97b7fa4986db2a1849ea7f1fd2a1689880aee900", "committedDate": "2020-01-31T08:31:56Z", "message": "Remove noMatch from WhereClause\n\nWe already have the query which can be `false` to indicate that nothing\ncan match. Having a second dedicated `noMatch` flag made things more\ncomplicated, and led to bugs as call-sites forgot to consider both,\n`query()` and `noMatch()`."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3800, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}