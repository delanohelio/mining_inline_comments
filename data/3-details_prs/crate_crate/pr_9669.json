{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc0OTA2NDEx", "number": 9669, "title": "Remove fetch optimization from the planner", "bodyText": "Summary of the changes / Why this improves CrateDB\nThis will cause a performance regression.\nThis removes the fetch optimization from the planner. This is a step back to make two steps forward later on. It makes it easier to do some Analyzer structure changes (See #9684).\nAfter that is done we can follow up by re-adding the fetch optimization in a way that also works better in combination with other optimization rules.\nChecklist\n\n User relevant changes are recorded in CHANGES.txt\n Touched code is covered by tests\n Documentation has been updated if necessary\n CLA is signed\n This does not contain breaking changes, or if it does:\n\nIt is released within a major release\nIt is recorded in CHANGES.txt\nIt was marked as deprecated in an earlier release if possible\nYou've thought about the consequences and other components are adapted\n(E.g. AdminUI)", "createdAt": "2020-02-13T14:43:17Z", "url": "https://github.com/crate/crate/pull/9669", "merged": true, "mergeCommit": {"oid": "2c8965e954f242ee8bb194f6804e6c17b0fb1c4f"}, "closed": true, "closedAt": "2020-02-20T13:34:57Z", "author": {"login": "mfussenegger"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcFLKy3gBqjMwNDMyNDgxNTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcGKahjgBqjMwNTU4NjUwMDQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "53d71e322b3ed1f348e5a2c3b8a34864dd7116db", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/53d71e322b3ed1f348e5a2c3b8a34864dd7116db", "committedDate": "2020-02-13T14:28:52Z", "message": "Remove eager Collect \u2192 Get optimization\n\nWe have a rule that does the optimization, so the eager optimization can\nbe removed."}, "afterCommit": {"oid": "2d91990ecfd191735acbcda639177d2d5ecab9a9", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/2d91990ecfd191735acbcda639177d2d5ecab9a9", "committedDate": "2020-02-17T10:52:33Z", "message": "Remove eager Collect \u2192 Get optimization\n\nWe have a rule that does the optimization, so the eager optimization can\nbe removed."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2d91990ecfd191735acbcda639177d2d5ecab9a9", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/2d91990ecfd191735acbcda639177d2d5ecab9a9", "committedDate": "2020-02-17T10:52:33Z", "message": "Remove eager Collect \u2192 Get optimization\n\nWe have a rule that does the optimization, so the eager optimization can\nbe removed."}, "afterCommit": {"oid": "b8f88b65783f64e54bbce39e3901a6371f4c0121", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/b8f88b65783f64e54bbce39e3901a6371f4c0121", "committedDate": "2020-02-18T14:08:57Z", "message": "Remove eager Collect \u2192 Get optimization\n\nWe have a rule that does the optimization, so the eager optimization can\nbe removed."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b8f88b65783f64e54bbce39e3901a6371f4c0121", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/b8f88b65783f64e54bbce39e3901a6371f4c0121", "committedDate": "2020-02-18T14:08:57Z", "message": "Remove eager Collect \u2192 Get optimization\n\nWe have a rule that does the optimization, so the eager optimization can\nbe removed."}, "afterCommit": {"oid": "8597cc3d0ec051244bd7927c544ac3de2cb4e85a", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/8597cc3d0ec051244bd7927c544ac3de2cb4e85a", "committedDate": "2020-02-20T08:45:50Z", "message": "Remove eager Collect \u2192 Get optimization\n\nWe have a rule that does the optimization, so the eager optimization can\nbe removed."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxNzQyNDEw", "url": "https://github.com/crate/crate/pull/9669#pullrequestreview-361742410", "createdAt": "2020-02-20T09:22:02Z", "commit": {"oid": "8597cc3d0ec051244bd7927c544ac3de2cb4e85a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxNzg1NDQ2", "url": "https://github.com/crate/crate/pull/9669#pullrequestreview-361785446", "createdAt": "2020-02-20T10:21:55Z", "commit": {"oid": "8597cc3d0ec051244bd7927c544ac3de2cb4e85a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxMDoyMTo1NlrOFsN1GQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQxMDoyMTo1NlrOFsN1GQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTkwODI0OQ==", "bodyText": "just curious: what caused this to change?", "url": "https://github.com/crate/crate/pull/9669#discussion_r381908249", "createdAt": "2020-02-20T10:21:56Z", "author": {"login": "seut"}, "path": "docs/general/dql/geo.rst", "diffHunk": "@@ -244,11 +244,11 @@ into your geographic data::\n \n     cr> SELECT distance(capital_location, 'POINT(0.0 90.0)') as from_northpole\n     ... FROM country ORDER BY country_code;\n-    +--------------------+\n-    |     from_northpole |\n-    +--------------------+\n-    | 4646930.6709925765 |\n-    +--------------------+\n+    +-------------------+\n+    |    from_northpole |\n+    +-------------------+\n+    | 4646930.675034644 |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8597cc3d0ec051244bd7927c544ac3de2cb4e85a"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxNzkwMjgx", "url": "https://github.com/crate/crate/pull/9669#pullrequestreview-361790281", "createdAt": "2020-02-20T10:28:48Z", "commit": {"oid": "8597cc3d0ec051244bd7927c544ac3de2cb4e85a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ead2fb2bdc82b48be72375225e40e6486bb92c7", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/2ead2fb2bdc82b48be72375225e40e6486bb92c7", "committedDate": "2020-02-20T12:20:25Z", "message": "Temporarily remove fetch optimization"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "228a4a1e5b41007d00670f56153762ca8b68635c", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/228a4a1e5b41007d00670f56153762ca8b68635c", "committedDate": "2020-02-20T12:24:27Z", "message": "Remove LogicalPlan.Builder"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb832e244d58211b387fec7477faefeee494944c", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/cb832e244d58211b387fec7477faefeee494944c", "committedDate": "2020-02-20T12:27:50Z", "message": "Remove eager Collect \u2192 Get optimization\n\nWe have a rule that does the optimization, so the eager optimization can\nbe removed."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8597cc3d0ec051244bd7927c544ac3de2cb4e85a", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/8597cc3d0ec051244bd7927c544ac3de2cb4e85a", "committedDate": "2020-02-20T08:45:50Z", "message": "Remove eager Collect \u2192 Get optimization\n\nWe have a rule that does the optimization, so the eager optimization can\nbe removed."}, "afterCommit": {"oid": "cb832e244d58211b387fec7477faefeee494944c", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/cb832e244d58211b387fec7477faefeee494944c", "committedDate": "2020-02-20T12:27:50Z", "message": "Remove eager Collect \u2192 Get optimization\n\nWe have a rule that does the optimization, so the eager optimization can\nbe removed."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3863, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}