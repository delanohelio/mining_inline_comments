{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1NDgyOTM1", "number": 10087, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxMzowMTozMlrOEGVtgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNDoyOTo0NVrOEGYDvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MDgyNjI3OnYy", "diffSide": "RIGHT", "path": "es/es-server/src/main/java/org/elasticsearch/repositories/blobstore/InvalidArgumentException.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxMzowMTozMlrOGlEn6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxMzowMTozMlrOGlEn6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTUyNjI1MA==", "bodyText": "I use a ElasticsearchException instead of a CrateException, because in 4.1 the crate packages are not available.", "url": "https://github.com/crate/crate/pull/10087#discussion_r441526250", "createdAt": "2020-06-17T13:01:32Z", "author": {"login": "mkleen"}, "path": "es/es-server/src/main/java/org/elasticsearch/repositories/blobstore/InvalidArgumentException.java", "diffHunk": "@@ -0,0 +1,32 @@\n+/*\n+ * Licensed to Crate under one or more contributor license agreements.\n+ * See the NOTICE file distributed with this work for additional\n+ * information regarding copyright ownership.  Crate licenses this file\n+ * to you under the Apache License, Version 2.0 (the \"License\"); you may\n+ * not use this file except in compliance with the License.  You may\n+ * obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or\n+ * implied.  See the License for the specific language governing\n+ * permissions and limitations under the License.\n+ *\n+ * However, if you have executed another commercial license agreement\n+ * with Crate these terms will supersede the license and you may use the\n+ * software solely pursuant to the terms of the relevant commercial\n+ * agreement.\n+ */\n+\n+package org.elasticsearch.repositories.blobstore;\n+\n+import org.elasticsearch.ElasticsearchException;\n+\n+public class InvalidArgumentException extends ElasticsearchException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e93c8a524055f4c9651bf3adc5d00a74bd43c05"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MDgyODczOnYy", "diffSide": "RIGHT", "path": "sql/src/main/java/io/crate/exceptions/SQLExceptions.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxMzowMjowN1rOGlEpbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxMzowMjowN1rOGlEpbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTUyNjYzOQ==", "bodyText": "This will result correctly in a 4000 error as it does in master (now).", "url": "https://github.com/crate/crate/pull/10087#discussion_r441526639", "createdAt": "2020-06-17T13:02:07Z", "author": {"login": "mkleen"}, "path": "sql/src/main/java/io/crate/exceptions/SQLExceptions.java", "diffHunk": "@@ -225,6 +226,9 @@ private static Throwable esToCrateException(Throwable unwrappedError) {\n         } else if (unwrappedError instanceof SnapshotCreationException) {\n             SnapshotCreationException creationException = (SnapshotCreationException) unwrappedError;\n             return new SnapshotAlreadyExistsException(creationException.getRepositoryName(), creationException.getSnapshotName());\n+        } else if (unwrappedError instanceof InvalidArgumentException) {\n+            var invalidArgument = (InvalidArgumentException) unwrappedError;\n+            return new SQLParseException(invalidArgument.getMessage());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8e93c8a524055f4c9651bf3adc5d00a74bd43c05"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MTIxMDg0OnYy", "diffSide": "RIGHT", "path": "docs/appendices/release-notes/unreleased.rst", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNDoyOTo0NVrOGlIgxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNDozMDoyNlrOGlIi5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTU4OTk1OQ==", "bodyText": "this can be wrapped on the previous line (you can break apart ref elements)", "url": "https://github.com/crate/crate/pull/10087#discussion_r441589959", "createdAt": "2020-06-17T14:29:45Z", "author": {"login": "norosa"}, "path": "docs/appendices/release-notes/unreleased.rst", "diffHunk": "@@ -57,6 +57,9 @@ None\n Fixes\n =====\n \n+- Re-enabled the IAM role authentication for\n+  :ref:`s3 repositories <ref-create-repository-types-s3>`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03100c7cc6cf0cf2239ab606e91c55fde0f576cf"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTU5MDUwMw==", "bodyText": "can probably be ignored as this is a backport", "url": "https://github.com/crate/crate/pull/10087#discussion_r441590503", "createdAt": "2020-06-17T14:30:26Z", "author": {"login": "norosa"}, "path": "docs/appendices/release-notes/unreleased.rst", "diffHunk": "@@ -57,6 +57,9 @@ None\n Fixes\n =====\n \n+- Re-enabled the IAM role authentication for\n+  :ref:`s3 repositories <ref-create-repository-types-s3>`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTU4OTk1OQ=="}, "originalCommit": {"oid": "03100c7cc6cf0cf2239ab606e91c55fde0f576cf"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1411, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}