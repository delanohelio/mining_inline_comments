{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5ODU0NDY1", "number": 10702, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwOTozNDoxNVrOEx0WsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwOTozNTozM1rOEx0Yiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwNjczNDU3OnYy", "diffSide": "RIGHT", "path": "server/src/test/java/io/crate/types/TimeTZTypeTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwOTozNDoxNVrOHoHVdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwOTozNDoxNVrOHoHVdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTgyNTI3MQ==", "bodyText": "Shouldn't it always result in isTZ(3600000000L, 3600) for timezone CET?", "url": "https://github.com/crate/crate/pull/10702#discussion_r511825271", "createdAt": "2020-10-26T09:34:15Z", "author": {"login": "seut"}, "path": "server/src/test/java/io/crate/types/TimeTZTypeTest.java", "diffHunk": "@@ -36,7 +37,10 @@ public void test_implicit_cast_null() {\n \n     @Test\n     public void test_implicit_cast_ISO_formats_with_time_zone() {\n-        assertThat(TimeTZType.INSTANCE.implicitCast(\"01:00:00     CET\"), isTZ(3600000000L, 7200));\n+        assertThat(\n+            TimeTZType.INSTANCE.implicitCast(\"01:00:00     CET\"),\n+            Matchers.anyOf(isTZ(3600000000L, 3600), isTZ(3600000000L, 7200))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "427d5f3cb8f111650c3e35f7dc8a5b3309eaea83"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwNjczOTMxOnYy", "diffSide": "LEFT", "path": "docs/general/ddl/data-types.rst", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQwOTozNTozM1rOHoHYgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMDoxMzoxNlrOHoIx4w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTgyNjA1MQ==", "bodyText": "Is this wrong and should be fixed inside the implementation?\nPostgreSQL:\npostgres=# select '13:59:59.999999 CET'::timetz;\n       timetz       \n--------------------\n 13:59:59.999999+01\n(1 row)\n\npostgres=# select '13:59:59.999999 CEST'::timetz;\n       timetz       \n--------------------\n 13:59:59.999999+02\n(1 row)", "url": "https://github.com/crate/crate/pull/10702#discussion_r511826051", "createdAt": "2020-10-26T09:35:33Z", "author": {"login": "seut"}, "path": "docs/general/ddl/data-types.rst", "diffHunk": "@@ -487,15 +487,7 @@ Time zone syntax as defined by `ISO 8601 time zone designators`_.\n     +------------------+\n     SELECT 1 row in set (... sec)\n \n-    cr> select '13:59:59.999999 CET'::timetz;\n-    +-----------------------+\n-    | 13:59:59.999999+02:00 |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "427d5f3cb8f111650c3e35f7dc8a5b3309eaea83"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTg0NjU0Mg==", "bodyText": "The same result is now also returned by CrateDB:\ncrate=> select '13:59:59.999999 CET'::timetz;\n 13:59:59.999999+01:00\n-----------------------\n 13:59:59.999999+01:00\n(1 row)\n\nThe problem is that the output is in relation to UTC, and depending on the\ndaylight savings CET can be +2 or +1 hour.", "url": "https://github.com/crate/crate/pull/10702#discussion_r511846542", "createdAt": "2020-10-26T10:09:17Z", "author": {"login": "mfussenegger"}, "path": "docs/general/ddl/data-types.rst", "diffHunk": "@@ -487,15 +487,7 @@ Time zone syntax as defined by `ISO 8601 time zone designators`_.\n     +------------------+\n     SELECT 1 row in set (... sec)\n \n-    cr> select '13:59:59.999999 CET'::timetz;\n-    +-----------------------+\n-    | 13:59:59.999999+02:00 |", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTgyNjA1MQ=="}, "originalCommit": {"oid": "427d5f3cb8f111650c3e35f7dc8a5b3309eaea83"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTg0ODA4MQ==", "bodyText": "It is indeed a bit confusing. From https://time.is/nl/CET\n\nCET alternates between UTC+1 (standard time) and UTC+2 (when daylight saving time (DST) is observed). All countries in the CET time zone observe DST (UTC+2) from 02:00 am on the last Sunday of March until 03:00 am on the last Sunday of October.\n\n\nWarning: Many sources define CET as a constant UTC+1. In common usage however, CET usually refers to the time observed in most of Europe, be it standard time or daylight saving time.", "url": "https://github.com/crate/crate/pull/10702#discussion_r511848081", "createdAt": "2020-10-26T10:11:50Z", "author": {"login": "mfussenegger"}, "path": "docs/general/ddl/data-types.rst", "diffHunk": "@@ -487,15 +487,7 @@ Time zone syntax as defined by `ISO 8601 time zone designators`_.\n     +------------------+\n     SELECT 1 row in set (... sec)\n \n-    cr> select '13:59:59.999999 CET'::timetz;\n-    +-----------------------+\n-    | 13:59:59.999999+02:00 |", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTgyNjA1MQ=="}, "originalCommit": {"oid": "427d5f3cb8f111650c3e35f7dc8a5b3309eaea83"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTg0ODkzMQ==", "bodyText": "Hm I don't understand this as CET is always +1 and never +2 and opposite for CEST which is always +2. What do I miss? ;)\nAh ok, I was not aware of this and treat CET wrongly as a constant UTC+1.", "url": "https://github.com/crate/crate/pull/10702#discussion_r511848931", "createdAt": "2020-10-26T10:13:16Z", "author": {"login": "seut"}, "path": "docs/general/ddl/data-types.rst", "diffHunk": "@@ -487,15 +487,7 @@ Time zone syntax as defined by `ISO 8601 time zone designators`_.\n     +------------------+\n     SELECT 1 row in set (... sec)\n \n-    cr> select '13:59:59.999999 CET'::timetz;\n-    +-----------------------+\n-    | 13:59:59.999999+02:00 |", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTgyNjA1MQ=="}, "originalCommit": {"oid": "427d5f3cb8f111650c3e35f7dc8a5b3309eaea83"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 982, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}