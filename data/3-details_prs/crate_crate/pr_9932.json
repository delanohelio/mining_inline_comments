{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0MjIzNjE2", "number": 9932, "title": "Rename sql module to server", "bodyText": "Summary of the changes / Why this improves CrateDB\nUpdate\nThis PR renames sql to server. See below for the full plan:\n\nRelates to #9888\nserver is mostly the former sql plus es-server, but it will also include\nthe remaining smaller modules.\nThe reason is that we cannot have cyclic dependencies and the existing\nextension points are not sufficent to keep them separated.\nPreviously this worked because it looked like this:\n   es-server\n     |\n    udc\n     |\n    sql\n\nWith sql and es-server being merged, we would need to have:\n   server\n     |\n    udc\n\nWhere udc depends on server, but server must not depend on udc.\nBut currently this is the case, as server exposes the settings that are\ndefined within udc - and there is no extension point for it - so it is a\nconcrete dependency.\n\n Integrate udc. This could be standalone plugin if it weren't for the\nmissing CrateSettings extension point.\n Integrate blob\n Integrate common\n Integrate ssl\n Integrate http\n Integrate es-server\n Integrate es-transport\n Merge es:es-testing and integration-testing\n\nPotential Follow ups\n\nUnify Plugin architecture\nUnify CrateSetting/Setting\n...\nCreate or extend existing extension points and extract udc into a dedicated plugin again\nCreate extension point for blob and extract into a dedicated plugin or module\n\nChecklist\n\n Added an entry in CHANGES.txt for user facing changes\n Updated documentation & sql_features table for user facing changes\n Touched code is covered by tests\n CLA is signed\n This does not contain breaking changes, or if it does:\n\nIt is released within a major release\nIt is recorded in CHANGES.txt\nIt was marked as deprecated in an earlier release if possible\nYou've thought about the consequences and other components are adapted\n(E.g. AdminUI)", "createdAt": "2020-05-06T17:09:53Z", "url": "https://github.com/crate/crate/pull/9932", "merged": true, "mergeCommit": {"oid": "8120beec545b153566e01f22301ae31a4c4d39f3"}, "closed": true, "closedAt": "2020-05-07T11:24:28Z", "author": {"login": "mfussenegger"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABce4W2RgBqjMzMTE2MzA2MTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABce7C95gBqjMzMTIzMjQ4NzI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "58dc51f59ebe0b920ce20efb19ad7f02f9ec06c5", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/58dc51f59ebe0b920ce20efb19ad7f02f9ec06c5", "committedDate": "2020-05-06T16:53:40Z", "message": "Integrate udc into server module\n\nUDC could be a separate plugin, but server currently depends on it as it\nexposes the settings of the UDC plugin and we don't have a proper\nextension point yet."}, "afterCommit": {"oid": "58e3890069dfa7ae90d409666e7a415873ac3b77", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/58e3890069dfa7ae90d409666e7a415873ac3b77", "committedDate": "2020-05-07T07:38:06Z", "message": "Rename sql module to server"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "58e3890069dfa7ae90d409666e7a415873ac3b77", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/58e3890069dfa7ae90d409666e7a415873ac3b77", "committedDate": "2020-05-07T07:38:06Z", "message": "Rename sql module to server"}, "afterCommit": {"oid": "a963e108027f6190305088edc77c7604805a1b49", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/a963e108027f6190305088edc77c7604805a1b49", "committedDate": "2020-05-07T07:44:18Z", "message": "Rename sql module to server"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a963e108027f6190305088edc77c7604805a1b49", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/a963e108027f6190305088edc77c7604805a1b49", "committedDate": "2020-05-07T07:44:18Z", "message": "Rename sql module to server"}, "afterCommit": {"oid": "48f0c201fc765999a2fe18df9f5ea282e74ae067", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/48f0c201fc765999a2fe18df9f5ea282e74ae067", "committedDate": "2020-05-07T09:17:57Z", "message": "Rename sql module to server"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "48f0c201fc765999a2fe18df9f5ea282e74ae067", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/48f0c201fc765999a2fe18df9f5ea282e74ae067", "committedDate": "2020-05-07T09:17:57Z", "message": "Rename sql module to server"}, "afterCommit": {"oid": "f2be9900fd292a7a60048ed1e472f4bd9bcc12a8", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/f2be9900fd292a7a60048ed1e472f4bd9bcc12a8", "committedDate": "2020-05-07T09:27:20Z", "message": "Rename sql module to server"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f2be9900fd292a7a60048ed1e472f4bd9bcc12a8", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/f2be9900fd292a7a60048ed1e472f4bd9bcc12a8", "committedDate": "2020-05-07T09:27:20Z", "message": "Rename sql module to server"}, "afterCommit": {"oid": "30d855a1db4e764ca2b714b9423f64af8ed5f900", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/30d855a1db4e764ca2b714b9423f64af8ed5f900", "committedDate": "2020-05-07T09:46:35Z", "message": "Rename sql module to server"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3MzU1NzIy", "url": "https://github.com/crate/crate/pull/9932#pullrequestreview-407355722", "createdAt": "2020-05-07T10:46:16Z", "commit": {"oid": "30d855a1db4e764ca2b714b9423f64af8ed5f900"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMDo0NjoxNlrOGR47pA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxMDo0NjoxNlrOGR47pA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTQxMTc0OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                // They are required by 1) tests in :server 2) modules depending on :sql.\n          \n          \n            \n                // They are required by 1) tests in :server 2) modules depending on :server.", "url": "https://github.com/crate/crate/pull/9932#discussion_r421411748", "createdAt": "2020-05-07T10:46:16Z", "author": {"login": "seut"}, "path": "server/build.gradle", "diffHunk": "@@ -43,9 +43,9 @@ dependencies {\n     testCompile 'com.pholser:junit-quickcheck-core:0.9'\n     testCompile 'com.pholser:junit-quickcheck-generators:0.9'\n     // These plugins are dynamically loaded and need to be present here.\n-    // They are required by 1) tests in :sql 2) modules depending on :sql.\n-    // They also need to be added in :app because :sql is declared non-transitive\n-    // in :app (=dependencies of :sql won't be included).\n+    // They are required by 1) tests in :server 2) modules depending on :sql.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "30d855a1db4e764ca2b714b9423f64af8ed5f900"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "000bfbf427a71851774f63eddadd8015cb9068e0", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/000bfbf427a71851774f63eddadd8015cb9068e0", "committedDate": "2020-05-07T10:50:49Z", "message": "Rename sql module to server"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "30d855a1db4e764ca2b714b9423f64af8ed5f900", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/30d855a1db4e764ca2b714b9423f64af8ed5f900", "committedDate": "2020-05-07T09:46:35Z", "message": "Rename sql module to server"}, "afterCommit": {"oid": "000bfbf427a71851774f63eddadd8015cb9068e0", "author": {"user": {"login": "mfussenegger", "name": "Mathias Fu\u00dfenegger"}}, "url": "https://github.com/crate/crate/commit/000bfbf427a71851774f63eddadd8015cb9068e0", "committedDate": "2020-05-07T10:50:49Z", "message": "Rename sql module to server"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3355, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}