{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA3MzEzMDE4", "number": 9879, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwODo1MjoxMFrOD1LBkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwODo1MjoxMFrOD1LBkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU3MDgxNzQ2OnYy", "diffSide": "RIGHT", "path": "sql/src/main/java/io/crate/expression/tablefunctions/EmptyRowTableFunction.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwODo1MjoxMFrOGKeQqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxNDowMTowNFrOGKpjrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzYzNDcyOA==", "bodyText": "Once #9853 is merged we should use the signature's return type. Probably FunctionInfo will be gone once all functions uses the signature registry.\nMaybe we could wait a bit for #9853 as it maybe merged soon.", "url": "https://github.com/crate/crate/pull/9879#discussion_r413634728", "createdAt": "2020-04-23T08:52:10Z", "author": {"login": "seut"}, "path": "sql/src/main/java/io/crate/expression/tablefunctions/EmptyRowTableFunction.java", "diffHunk": "@@ -66,7 +61,9 @@ public FunctionInfo info() {\n \n         @Override\n         public RowType returnType() {\n-            return emptyRow;\n+            assert info.returnType() instanceof RowType", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1bf73949a79761fb3407595ae0700dce9f2d66a"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzYzOTk0Nw==", "bodyText": "\ud83d\udc4d Sure, i'll rebase and adjust the PRs once #9853 is merged.", "url": "https://github.com/crate/crate/pull/9879#discussion_r413639947", "createdAt": "2020-04-23T08:59:25Z", "author": {"login": "kovrus"}, "path": "sql/src/main/java/io/crate/expression/tablefunctions/EmptyRowTableFunction.java", "diffHunk": "@@ -66,7 +61,9 @@ public FunctionInfo info() {\n \n         @Override\n         public RowType returnType() {\n-            return emptyRow;\n+            assert info.returnType() instanceof RowType", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzYzNDcyOA=="}, "originalCommit": {"oid": "e1bf73949a79761fb3407595ae0700dce9f2d66a"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzgxOTgyMQ==", "bodyText": "As discussed, we can't do that atm as we'd need the bound signature for the correct return type. So we have to postpone this change until we may get rid of FunctionInfo.", "url": "https://github.com/crate/crate/pull/9879#discussion_r413819821", "createdAt": "2020-04-23T14:01:04Z", "author": {"login": "seut"}, "path": "sql/src/main/java/io/crate/expression/tablefunctions/EmptyRowTableFunction.java", "diffHunk": "@@ -66,7 +61,9 @@ public FunctionInfo info() {\n \n         @Override\n         public RowType returnType() {\n-            return emptyRow;\n+            assert info.returnType() instanceof RowType", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzYzNDcyOA=="}, "originalCommit": {"oid": "e1bf73949a79761fb3407595ae0700dce9f2d66a"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1615, "cost": 1, "resetAt": "2021-11-12T11:57:46Z"}}}