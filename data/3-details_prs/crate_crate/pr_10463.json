{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc2MTg3MjQx", "number": 10463, "title": "Map AmbiguousColumnException to PG 42702 ambiguous_column error code", "bodyText": "This changes the error code for the psql protocol when a column\nreference is ambiguous from XX000 internal_error to 42702\nambiguous_column.\nSummary of the changes / Why this improves CrateDB\nChecklist\n\n Added an entry in CHANGES.txt for user facing changes\n Updated documentation & sql_features table for user facing changes\n Touched code is covered by tests\n CLA is signed\n This does not contain breaking changes, or if it does:\n\nIt is released within a major release\nIt is recorded in CHANGES.txt\nIt was marked as deprecated in an earlier release if possible\nYou've thought about the consequences and other components are adapted\n(E.g. AdminUI)", "createdAt": "2020-08-31T09:49:25Z", "url": "https://github.com/crate/crate/pull/10463", "merged": true, "mergeCommit": {"oid": "389c2f78693d88f718133596850e612523ef8942"}, "closed": true, "closedAt": "2020-08-31T16:04:07Z", "author": {"login": "mkleen"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdEP9i-ABqjM3MDkxODEyNDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdEUjVtABqjM3MTA0MjE3MTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6796979906332cce327005ae7d0fbafe77ff5fa0", "author": {"user": {"login": "mkleen", "name": "Michael Kleen"}}, "url": "https://github.com/crate/crate/commit/6796979906332cce327005ae7d0fbafe77ff5fa0", "committedDate": "2020-08-31T09:48:32Z", "message": "Map AmbiguousColumnException to PG 42702 ambiguous_column error code\n\nThis changes the error code for the psql protocol when a column\n reference is ambiguous from `XX000` `internal_error` to `42702`\n`ambiguous_column`."}, "afterCommit": {"oid": "ae5ef8eb184ac9020ff06be00b4d1354598f37a5", "author": {"user": {"login": "mkleen", "name": "Michael Kleen"}}, "url": "https://github.com/crate/crate/commit/ae5ef8eb184ac9020ff06be00b4d1354598f37a5", "committedDate": "2020-08-31T10:08:26Z", "message": "Map AmbiguousColumnException to PG 42702 ambiguous_column error code\n\nThis changes the error code for the psql protocol when a column\n reference is ambiguous from `XX000` `internal_error` to `42702`\n`ambiguous_column`."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4NTUxNjAz", "url": "https://github.com/crate/crate/pull/10463#pullrequestreview-478551603", "createdAt": "2020-08-31T11:56:19Z", "commit": {"oid": "ae5ef8eb184ac9020ff06be00b4d1354598f37a5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxMTo1NjoxOVrOHJ1ziQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxMTo1NjoxOVrOHJ1ziQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDA4MDc3Nw==", "bodyText": "Could we maybe come up with a unit test for this? I think adding integration tests for error code mapping will slow down the test suite to much for what is being tested.", "url": "https://github.com/crate/crate/pull/10463#discussion_r480080777", "createdAt": "2020-08-31T11:56:19Z", "author": {"login": "mfussenegger"}, "path": "server/src/test/java/io/crate/integrationtests/JoinIntegrationTest.java", "diffHunk": "@@ -1108,4 +1110,16 @@ public void test_many_table_join_with_filter_pushdown() throws Exception {\n         execute(stmt);\n         assertThat(response.rowCount(), is(0L));\n     }\n+\n+    @Test\n+    public void test_ambiguous_columns() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae5ef8eb184ac9020ff06be00b4d1354598f37a5"}, "originalPosition": 22}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c1a841d4bad873ad8d8aa80bd094e98ab1c0f56d", "author": {"user": {"login": "mkleen", "name": "Michael Kleen"}}, "url": "https://github.com/crate/crate/commit/c1a841d4bad873ad8d8aa80bd094e98ab1c0f56d", "committedDate": "2020-08-31T14:08:17Z", "message": "Add error mapping unit test"}, "afterCommit": {"oid": "e128289e6fbc1ef26c6cd007f265bf5389b0f481", "author": {"user": {"login": "mkleen", "name": "Michael Kleen"}}, "url": "https://github.com/crate/crate/commit/e128289e6fbc1ef26c6cd007f265bf5389b0f481", "committedDate": "2020-08-31T14:10:17Z", "message": "Add error mapping unit test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e128289e6fbc1ef26c6cd007f265bf5389b0f481", "author": {"user": {"login": "mkleen", "name": "Michael Kleen"}}, "url": "https://github.com/crate/crate/commit/e128289e6fbc1ef26c6cd007f265bf5389b0f481", "committedDate": "2020-08-31T14:10:17Z", "message": "Add error mapping unit test"}, "afterCommit": {"oid": "13e9ac065e2a5d3e01722b7f8e3a7239c70b0f05", "author": {"user": {"login": "mkleen", "name": "Michael Kleen"}}, "url": "https://github.com/crate/crate/commit/13e9ac065e2a5d3e01722b7f8e3a7239c70b0f05", "committedDate": "2020-08-31T14:11:23Z", "message": "Add error mapping unit test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "13e9ac065e2a5d3e01722b7f8e3a7239c70b0f05", "author": {"user": {"login": "mkleen", "name": "Michael Kleen"}}, "url": "https://github.com/crate/crate/commit/13e9ac065e2a5d3e01722b7f8e3a7239c70b0f05", "committedDate": "2020-08-31T14:11:23Z", "message": "Add error mapping unit test"}, "afterCommit": {"oid": "018e6397fd64818c98fab7cbb78ad00fbf027b7f", "author": {"user": {"login": "mkleen", "name": "Michael Kleen"}}, "url": "https://github.com/crate/crate/commit/018e6397fd64818c98fab7cbb78ad00fbf027b7f", "committedDate": "2020-08-31T14:14:27Z", "message": "Add error mapping unit test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "018e6397fd64818c98fab7cbb78ad00fbf027b7f", "author": {"user": {"login": "mkleen", "name": "Michael Kleen"}}, "url": "https://github.com/crate/crate/commit/018e6397fd64818c98fab7cbb78ad00fbf027b7f", "committedDate": "2020-08-31T14:14:27Z", "message": "Add error mapping unit test"}, "afterCommit": {"oid": "0a8ff2a1bfa62d1cb8a2226026ad0e54fe148c0d", "author": {"user": {"login": "mkleen", "name": "Michael Kleen"}}, "url": "https://github.com/crate/crate/commit/0a8ff2a1bfa62d1cb8a2226026ad0e54fe148c0d", "committedDate": "2020-08-31T14:15:09Z", "message": "Add error mapping unit test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0a8ff2a1bfa62d1cb8a2226026ad0e54fe148c0d", "author": {"user": {"login": "mkleen", "name": "Michael Kleen"}}, "url": "https://github.com/crate/crate/commit/0a8ff2a1bfa62d1cb8a2226026ad0e54fe148c0d", "committedDate": "2020-08-31T14:15:09Z", "message": "Add error mapping unit test"}, "afterCommit": {"oid": "02d9ec586aa17a1eaf2a62fc1cba2cb7fbd96b39", "author": {"user": {"login": "mkleen", "name": "Michael Kleen"}}, "url": "https://github.com/crate/crate/commit/02d9ec586aa17a1eaf2a62fc1cba2cb7fbd96b39", "committedDate": "2020-08-31T14:19:41Z", "message": "Add error mapping unit test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "02d9ec586aa17a1eaf2a62fc1cba2cb7fbd96b39", "author": {"user": {"login": "mkleen", "name": "Michael Kleen"}}, "url": "https://github.com/crate/crate/commit/02d9ec586aa17a1eaf2a62fc1cba2cb7fbd96b39", "committedDate": "2020-08-31T14:19:41Z", "message": "Add error mapping unit test"}, "afterCommit": {"oid": "f3c24b3ac5e311f0c6ab781473483276ebe42865", "author": {"user": {"login": "mkleen", "name": "Michael Kleen"}}, "url": "https://github.com/crate/crate/commit/f3c24b3ac5e311f0c6ab781473483276ebe42865", "committedDate": "2020-08-31T14:22:51Z", "message": "Add error mapping unit test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f3c24b3ac5e311f0c6ab781473483276ebe42865", "author": {"user": {"login": "mkleen", "name": "Michael Kleen"}}, "url": "https://github.com/crate/crate/commit/f3c24b3ac5e311f0c6ab781473483276ebe42865", "committedDate": "2020-08-31T14:22:51Z", "message": "Add error mapping unit test"}, "afterCommit": {"oid": "c09d1b26e9293ca45529a352a31f1d5851c014cf", "author": {"user": {"login": "mkleen", "name": "Michael Kleen"}}, "url": "https://github.com/crate/crate/commit/c09d1b26e9293ca45529a352a31f1d5851c014cf", "committedDate": "2020-08-31T14:31:01Z", "message": "Add error mapping unit test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4NjY4NzA2", "url": "https://github.com/crate/crate/pull/10463#pullrequestreview-478668706", "createdAt": "2020-08-31T14:32:26Z", "commit": {"oid": "c09d1b26e9293ca45529a352a31f1d5851c014cf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c09d1b26e9293ca45529a352a31f1d5851c014cf", "author": {"user": {"login": "mkleen", "name": "Michael Kleen"}}, "url": "https://github.com/crate/crate/commit/c09d1b26e9293ca45529a352a31f1d5851c014cf", "committedDate": "2020-08-31T14:31:01Z", "message": "Add error mapping unit test"}, "afterCommit": {"oid": "c68426fd93bfa15ca7e35434a9b184ce956af79d", "author": {"user": {"login": "mkleen", "name": "Michael Kleen"}}, "url": "https://github.com/crate/crate/commit/c68426fd93bfa15ca7e35434a9b184ce956af79d", "committedDate": "2020-08-31T14:35:58Z", "message": "Map AmbiguousColumnException to PG 42702 ambiguous_column error code\n\nThis changes the error code for the psql protocol when a column\n reference is ambiguous from `XX000` `internal_error` to `42702`\n`ambiguous_column`."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08e3bc238c1b7e8b2314bd71068c32c446d76d42", "author": {"user": {"login": "mkleen", "name": "Michael Kleen"}}, "url": "https://github.com/crate/crate/commit/08e3bc238c1b7e8b2314bd71068c32c446d76d42", "committedDate": "2020-08-31T15:29:24Z", "message": "Map AmbiguousColumnException to PG 42702 ambiguous_column error code\n\nThis changes the error code for the psql protocol when a column\n reference is ambiguous from `XX000` `internal_error` to `42702`\n`ambiguous_column`."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c68426fd93bfa15ca7e35434a9b184ce956af79d", "author": {"user": {"login": "mkleen", "name": "Michael Kleen"}}, "url": "https://github.com/crate/crate/commit/c68426fd93bfa15ca7e35434a9b184ce956af79d", "committedDate": "2020-08-31T14:35:58Z", "message": "Map AmbiguousColumnException to PG 42702 ambiguous_column error code\n\nThis changes the error code for the psql protocol when a column\n reference is ambiguous from `XX000` `internal_error` to `42702`\n`ambiguous_column`."}, "afterCommit": {"oid": "08e3bc238c1b7e8b2314bd71068c32c446d76d42", "author": {"user": {"login": "mkleen", "name": "Michael Kleen"}}, "url": "https://github.com/crate/crate/commit/08e3bc238c1b7e8b2314bd71068c32c446d76d42", "committedDate": "2020-08-31T15:29:24Z", "message": "Map AmbiguousColumnException to PG 42702 ambiguous_column error code\n\nThis changes the error code for the psql protocol when a column\n reference is ambiguous from `XX000` `internal_error` to `42702`\n`ambiguous_column`."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3042, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}