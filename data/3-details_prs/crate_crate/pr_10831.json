{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4Njc4NDU2", "number": 10831, "title": "Improve more links within the documentation", "bodyText": "Summary of the changes / Why this improves CrateDB\nWhen using Sphinx 3.3.1, the linkchecker became even more capable and reported many more broken links. For example, URLs derived from ad hoc inline links as well as :ref:-based links within reStructuredText became visible. Every offending link has been mitigated within this PR, so echo $? returns 0.\nAlso, by using the --keep-going option, the linkcheck report now includes all broken links instead of just one as before and -q reduces all noise about the good/non-broken links. This tremendously helps when aiming to mitigate all errors coming from this within a single shot.\nThis is a followup to #10828 and also might finally help with the linkcheck step still failing occasionally, like [1].\n[1] https://github.com/crate/crate/runs/1459941156#step:5:1264", "createdAt": "2020-11-27T15:41:26Z", "url": "https://github.com/crate/crate/pull/10831", "merged": true, "mergeCommit": {"oid": "96c513482d51551aeeedf55172a1a8fd55b4028e"}, "closed": true, "closedAt": "2020-11-27T17:48:44Z", "author": {"login": "amotl"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdgpequgFqTU0MDA2NTEwNg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdgqvIJABqjQwNDY4NjUxNTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwMDY1MTA2", "url": "https://github.com/crate/crate/pull/10831#pullrequestreview-540065106", "createdAt": "2020-11-27T15:42:25Z", "commit": {"oid": "d769055421023385743ed5578c52aef80294dfd2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNTo0MjoyNVrOH7Ce1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNTo0MjoyNVrOH7Ce1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTY2ODY5Mg==", "bodyText": "I don't know whether this will break something on the downstream docs infrastructure or if it is okay to just bump within this repository. Please let me know.", "url": "https://github.com/crate/crate/pull/10831#discussion_r531668692", "createdAt": "2020-11-27T15:42:25Z", "author": {"login": "amotl"}, "path": "blackbox/requirements.txt", "diffHunk": "@@ -8,19 +8,19 @@ asyncpg>=0.20.1\n cr8>=0.19.1\n tqdm==4.24.0\n sphinx-csv-filter>=0.2.0\n-pycodestyle==2.4.0\n+pycodestyle==2.6.0\n zc.customdoctests==1.0.1\n minio>=5.0.0\n \n # packages for local dev\n \n-sphinx-autobuild==0.7.1\n+sphinx-autobuild==2020.9.1\n \n # the next section should mirror the RTD environment\n \n alabaster>=0.7,<0.8,!=0.7.5\n setuptools<41\n-sphinx==1.8.5\n+sphinx==3.3.1", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d769055421023385743ed5578c52aef80294dfd2"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwMDcyOTY1", "url": "https://github.com/crate/crate/pull/10831#pullrequestreview-540072965", "createdAt": "2020-11-27T15:56:11Z", "commit": {"oid": "d769055421023385743ed5578c52aef80294dfd2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNTo1NjoxMVrOH7C4XA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNTo1NjoxMVrOH7C4XA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTY3NTIyOA==", "bodyText": "Why is it now necessary to use :ref: in some places, but not in all?\nhttps://github.com/crate/crate/pull/10831/files#diff-ed2a6369cdf047f097bfca45fa6b4367d8a969567bdbfdfc3fd744d55af1a516R43 seems to still be working without it?", "url": "https://github.com/crate/crate/pull/10831#discussion_r531675228", "createdAt": "2020-11-27T15:56:11Z", "author": {"login": "mfussenegger"}, "path": "docs/appendices/release-notes/4.2.0.rst", "diffHunk": "@@ -150,13 +150,13 @@ SQL Standard and PostgreSQL compatibility improvements\n   :ref:`server_version <conf-session-server_version>` read-only session\n   settings.\n \n-- Added the `pg_catalog.pg_proc <postgres_pg_catalog>`_ table.\n+- Added the :ref:`pg_catalog.pg_proc <postgres_pg_catalog>` table.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d769055421023385743ed5578c52aef80294dfd2"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d769055421023385743ed5578c52aef80294dfd2", "author": {"user": {"login": "amotl", "name": "Andreas Motl"}}, "url": "https://github.com/crate/crate/commit/d769055421023385743ed5578c52aef80294dfd2", "committedDate": "2020-11-27T15:38:35Z", "message": "Improve more links within the documentation\n\nWhen using Sphinx 3.3.1, the linkchecker became even more capable\nand reported many more broken links. For example, URLs derived\nfrom inline links within reStructuredText became visible.\n\nAlso, by using the \"--keep-going\" option, the report includes _all_\nbroken links instead of just one as before and \"-q\" reduces all\nnoise about the good/non-broken links. This tremendously helps when aiming to mitigate all errors coming from this within a single shot."}, "afterCommit": {"oid": "41da02f78ec3e3e3fc7c2c1820816972d54c9221", "author": {"user": {"login": "amotl", "name": "Andreas Motl"}}, "url": "https://github.com/crate/crate/commit/41da02f78ec3e3e3fc7c2c1820816972d54c9221", "committedDate": "2020-11-27T16:13:38Z", "message": "Improve more links within the documentation\n\nWhen using Sphinx 3.3.1, the linkchecker became even more capable\nand reported many more broken links. For example, URLs derived\nfrom inline links within reStructuredText became visible.\n\nAlso, by using the \"--keep-going\" option, the report includes _all_\nbroken links instead of just one as before and \"-q\" reduces all\nnoise about the good/non-broken links. This tremendously helps when aiming to mitigate all errors coming from this within a single shot."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "41da02f78ec3e3e3fc7c2c1820816972d54c9221", "author": {"user": {"login": "amotl", "name": "Andreas Motl"}}, "url": "https://github.com/crate/crate/commit/41da02f78ec3e3e3fc7c2c1820816972d54c9221", "committedDate": "2020-11-27T16:13:38Z", "message": "Improve more links within the documentation\n\nWhen using Sphinx 3.3.1, the linkchecker became even more capable\nand reported many more broken links. For example, URLs derived\nfrom inline links within reStructuredText became visible.\n\nAlso, by using the \"--keep-going\" option, the report includes _all_\nbroken links instead of just one as before and \"-q\" reduces all\nnoise about the good/non-broken links. This tremendously helps when aiming to mitigate all errors coming from this within a single shot."}, "afterCommit": {"oid": "7802d6e4f71a0c5ca86e2d897ec09a6d460fe760", "author": {"user": {"login": "amotl", "name": "Andreas Motl"}}, "url": "https://github.com/crate/crate/commit/7802d6e4f71a0c5ca86e2d897ec09a6d460fe760", "committedDate": "2020-11-27T16:15:18Z", "message": "Improve more links within the documentation\n\nWhen using Sphinx 3.3.1, the linkchecker became even more capable\nand reported many more broken links. For example, URLs derived\nfrom inline links within reStructuredText became visible.\n\nAlso, by using the \"--keep-going\" option, the report includes _all_\nbroken links instead of just one as before and \"-q\" reduces all\nnoise about the good/non-broken links. This tremendously helps when aiming to mitigate all errors coming from this within a single shot."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7802d6e4f71a0c5ca86e2d897ec09a6d460fe760", "author": {"user": {"login": "amotl", "name": "Andreas Motl"}}, "url": "https://github.com/crate/crate/commit/7802d6e4f71a0c5ca86e2d897ec09a6d460fe760", "committedDate": "2020-11-27T16:15:18Z", "message": "Improve more links within the documentation\n\nWhen using Sphinx 3.3.1, the linkchecker became even more capable\nand reported many more broken links. For example, URLs derived\nfrom inline links within reStructuredText became visible.\n\nAlso, by using the \"--keep-going\" option, the report includes _all_\nbroken links instead of just one as before and \"-q\" reduces all\nnoise about the good/non-broken links. This tremendously helps when aiming to mitigate all errors coming from this within a single shot."}, "afterCommit": {"oid": "77eac555d3a46171398691f6eba3641ee8f98f68", "author": {"user": {"login": "amotl", "name": "Andreas Motl"}}, "url": "https://github.com/crate/crate/commit/77eac555d3a46171398691f6eba3641ee8f98f68", "committedDate": "2020-11-27T16:16:57Z", "message": "Improve more links within the documentation\n\nWhen using Sphinx 3.3.1, the linkchecker became even more capable\nand reported many more broken links. For example, URLs derived\nfrom inline links within reStructuredText became visible.\n\nAlso, by using the \"--keep-going\" option, the report includes _all_\nbroken links instead of just one as before and \"-q\" reduces all\nnoise about the good/non-broken links. This tremendously helps when aiming to mitigate all errors coming from this within a single shot."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwMTA0MjAy", "url": "https://github.com/crate/crate/pull/10831#pullrequestreview-540104202", "createdAt": "2020-11-27T17:01:50Z", "commit": {"oid": "77eac555d3a46171398691f6eba3641ee8f98f68"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNzowMTo1MFrOH7EcRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxNzowMjoyOFrOH7EdQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTcwMDgwNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                      # Let's use Sphinx 3.x here because its link checker is much more capable.\n          \n          \n            \n                      # We default to sphinx 1.8 in blackbox/requirements.txt because that's what the crate-docs-theme needs. We want sphinx 3.x here for link checker improvements.", "url": "https://github.com/crate/crate/pull/10831#discussion_r531700805", "createdAt": "2020-11-27T17:01:50Z", "author": {"login": "mfussenegger"}, "path": ".github/workflows/main.yml", "diffHunk": "@@ -42,6 +42,9 @@ jobs:\n           python -m pip install --upgrade pip setuptools\n           python -m pip install -r blackbox/requirements.txt\n \n+          # Let's use Sphinx 3.x here because its link checker is much more capable.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77eac555d3a46171398691f6eba3641ee8f98f68"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTcwMTA1Nw==", "bodyText": "Could we remove the trailing whitespace in the marker declaration instead?", "url": "https://github.com/crate/crate/pull/10831#discussion_r531701057", "createdAt": "2020-11-27T17:02:28Z", "author": {"login": "mfussenegger"}, "path": "docs/general/ddl/data-types.rst", "diffHunk": "@@ -40,7 +40,7 @@ or collections.\n * `bigint <numeric types_>`_\n * `real <numeric types_>`_\n * `double precision <numeric types_>`_\n-* `text <data-type-text>`_\n+* `text <data-type-text_>`_", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "77eac555d3a46171398691f6eba3641ee8f98f68"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e87f0879b6f754b83450c5d82263364d535fdfd7", "author": {"user": {"login": "amotl", "name": "Andreas Motl"}}, "url": "https://github.com/crate/crate/commit/e87f0879b6f754b83450c5d82263364d535fdfd7", "committedDate": "2020-11-27T17:09:55Z", "message": "Improve more links within the documentation\n\nWhen using Sphinx 3.3.1, the linkchecker became even more capable\nand reported many more broken links. For example, URLs derived\nfrom inline links within reStructuredText became visible.\n\nAlso, by using the \"--keep-going\" option, the report includes _all_\nbroken links instead of just one as before and \"-q\" reduces all\nnoise about the good/non-broken links. This tremendously helps when aiming to mitigate all errors coming from this within a single shot."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "77eac555d3a46171398691f6eba3641ee8f98f68", "author": {"user": {"login": "amotl", "name": "Andreas Motl"}}, "url": "https://github.com/crate/crate/commit/77eac555d3a46171398691f6eba3641ee8f98f68", "committedDate": "2020-11-27T16:16:57Z", "message": "Improve more links within the documentation\n\nWhen using Sphinx 3.3.1, the linkchecker became even more capable\nand reported many more broken links. For example, URLs derived\nfrom inline links within reStructuredText became visible.\n\nAlso, by using the \"--keep-going\" option, the report includes _all_\nbroken links instead of just one as before and \"-q\" reduces all\nnoise about the good/non-broken links. This tremendously helps when aiming to mitigate all errors coming from this within a single shot."}, "afterCommit": {"oid": "e87f0879b6f754b83450c5d82263364d535fdfd7", "author": {"user": {"login": "amotl", "name": "Andreas Motl"}}, "url": "https://github.com/crate/crate/commit/e87f0879b6f754b83450c5d82263364d535fdfd7", "committedDate": "2020-11-27T17:09:55Z", "message": "Improve more links within the documentation\n\nWhen using Sphinx 3.3.1, the linkchecker became even more capable\nand reported many more broken links. For example, URLs derived\nfrom inline links within reStructuredText became visible.\n\nAlso, by using the \"--keep-going\" option, the report includes _all_\nbroken links instead of just one as before and \"-q\" reduces all\nnoise about the good/non-broken links. This tremendously helps when aiming to mitigate all errors coming from this within a single shot."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3667, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}