{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE3OTYzNTk5", "number": 9951, "title": "Document the varchar data type.", "bodyText": "Summary of the changes / Why this improves CrateDB\nThe docs varchar PR will be merged last into the varchar feature branch.\nChecklist\n\n Added an entry in CHANGES.txt for user facing changes\n Updated documentation & sql_features table for user facing changes\n Touched code is covered by tests\n CLA is signed\n This does not contain breaking changes, or if it does:\n\nIt is released within a major release\nIt is recorded in CHANGES.txt\nIt was marked as deprecated in an earlier release if possible\nYou've thought about the consequences and other components are adapted\n(E.g. AdminUI)", "createdAt": "2020-05-14T12:29:19Z", "url": "https://github.com/crate/crate/pull/9951", "merged": true, "mergeCommit": {"oid": "7fe3a387498f9be3e99a20807bfc56e2d8643d86"}, "closed": true, "closedAt": "2020-06-04T12:15:13Z", "author": {"login": "kovrus"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABchMt36gBqjMzMzYzODg0MjY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcn8gHtgBqjM0MDY0MzMwOTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "641e74acab49e86b1d3614b0bf38474a2f58a9e5", "author": {"user": {"login": "kovrus", "name": "Ruslan Kovalov"}}, "url": "https://github.com/crate/crate/commit/641e74acab49e86b1d3614b0bf38474a2f58a9e5", "committedDate": "2020-05-14T12:26:54Z", "message": "Document the varchar data type."}, "afterCommit": {"oid": "54e8b4a4eb2322049679e892f903e7ed8c9e9897", "author": {"user": {"login": "kovrus", "name": "Ruslan Kovalov"}}, "url": "https://github.com/crate/crate/commit/54e8b4a4eb2322049679e892f903e7ed8c9e9897", "committedDate": "2020-05-14T12:34:24Z", "message": "Document the varchar data type."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNzU5NzQw", "url": "https://github.com/crate/crate/pull/9951#pullrequestreview-411759740", "createdAt": "2020-05-14T12:38:41Z", "commit": {"oid": "54e8b4a4eb2322049679e892f903e7ed8c9e9897"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxMjozODo0MVrOGVaO1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxMjozODo0MVrOGVaO1g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTEwMzA2Mg==", "bodyText": "pg documentation says the following about this behaviour: . (This somewhat bizarre exception is required by the SQL standard.)", "url": "https://github.com/crate/crate/pull/9951#discussion_r425103062", "createdAt": "2020-05-14T12:38:41Z", "author": {"login": "kovrus"}, "path": "docs/general/ddl/data-types.rst", "diffHunk": "@@ -82,28 +82,110 @@ A basic boolean type. Accepting ``true`` and ``false`` as values. Example::\n     cr> drop table my_bool_table;\n     DROP OK, 1 row affected (... sec)\n \n+.. _character-data-types:\n+\n+Character Types\n+===============\n+\n+The general-purpose character data types available in CrateDB.\n+\n+Columns of below listed character data types can also be analyzed. By default\n+the :ref:`plain <plain-analyzer>` analyzer is used. See\n+:ref:`sql_ddl_index_fulltext`.\n+\n+.. _data-type-varchar:\n+\n+``character varying(n)``, ``varchar(n)``\n+----------------------------------------\n+\n+The ``character varying(n)`` or ``varchar(n)`` character data types represent\n+variable length strings. All unicode characters are allowed.\n+\n+The mandatory length specification ``n`` is an unsigned, positive `integer\n+<numeric types_>`_ that defines the maximum length, in characters, of the\n+values that have to be stored ot cast. The minimum length is ``1``. The\n+maximum length is defined by the upper `integer <numeric types_>`_ range.\n+\n+An attempt to store a longer string into a column of these types will result\n+in an error.\n+\n+::\n+\n+    cr> CREATE TABLE users (id varchar(2), name varchar));\n+    CREATE OK, 1 row affected (... sec)\n+\n+::\n+\n+    cr> INSERT INTO users (id, name) VALUES ('1361', 'john doe')\n+    SQLActionException[value too long for type character varying(2)]\n+\n+Unless the excess characters are all spaces, in which case the string will", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "54e8b4a4eb2322049679e892f903e7ed8c9e9897"}, "originalPosition": 41}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExNzc0NjQ3", "url": "https://github.com/crate/crate/pull/9951#pullrequestreview-411774647", "createdAt": "2020-05-14T12:57:19Z", "commit": {"oid": "54e8b4a4eb2322049679e892f903e7ed8c9e9897"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxMjo1NzoxOVrOGVa7KQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxMjo1NzoxOVrOGVa7KQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTExNDQwOQ==", "bodyText": "The length is optional, no?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            The mandatory length specification ``n`` is an unsigned, positive `integer\n          \n          \n            \n            The mandatory length specification ``n`` is a positive `integer\n          \n      \n    \n    \n  \n\nWe are probably going to use an Integer to represent it, so it won't be unsigned.", "url": "https://github.com/crate/crate/pull/9951#discussion_r425114409", "createdAt": "2020-05-14T12:57:19Z", "author": {"login": "mfussenegger"}, "path": "docs/general/ddl/data-types.rst", "diffHunk": "@@ -82,28 +82,110 @@ A basic boolean type. Accepting ``true`` and ``false`` as values. Example::\n     cr> drop table my_bool_table;\n     DROP OK, 1 row affected (... sec)\n \n+.. _character-data-types:\n+\n+Character Types\n+===============\n+\n+The general-purpose character data types available in CrateDB.\n+\n+Columns of below listed character data types can also be analyzed. By default\n+the :ref:`plain <plain-analyzer>` analyzer is used. See\n+:ref:`sql_ddl_index_fulltext`.\n+\n+.. _data-type-varchar:\n+\n+``character varying(n)``, ``varchar(n)``\n+----------------------------------------\n+\n+The ``character varying(n)`` or ``varchar(n)`` character data types represent\n+variable length strings. All unicode characters are allowed.\n+\n+The mandatory length specification ``n`` is an unsigned, positive `integer", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "54e8b4a4eb2322049679e892f903e7ed8c9e9897"}, "originalPosition": 23}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "54e8b4a4eb2322049679e892f903e7ed8c9e9897", "author": {"user": {"login": "kovrus", "name": "Ruslan Kovalov"}}, "url": "https://github.com/crate/crate/commit/54e8b4a4eb2322049679e892f903e7ed8c9e9897", "committedDate": "2020-05-14T12:34:24Z", "message": "Document the varchar data type."}, "afterCommit": {"oid": "81a7c6f969910369c5a740bf99a71a911d231e14", "author": {"user": {"login": "kovrus", "name": "Ruslan Kovalov"}}, "url": "https://github.com/crate/crate/commit/81a7c6f969910369c5a740bf99a71a911d231e14", "committedDate": "2020-06-03T14:40:32Z", "message": "fixup! Document the varchar data type."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "81a7c6f969910369c5a740bf99a71a911d231e14", "author": {"user": {"login": "kovrus", "name": "Ruslan Kovalov"}}, "url": "https://github.com/crate/crate/commit/81a7c6f969910369c5a740bf99a71a911d231e14", "committedDate": "2020-06-03T14:40:32Z", "message": "fixup! Document the varchar data type."}, "afterCommit": {"oid": "90b7506ff7ab44137b117307bfc2bda8ce0f6a3b", "author": {"user": {"login": "kovrus", "name": "Ruslan Kovalov"}}, "url": "https://github.com/crate/crate/commit/90b7506ff7ab44137b117307bfc2bda8ce0f6a3b", "committedDate": "2020-06-03T15:01:56Z", "message": "fixup! Document the varchar data type."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "90b7506ff7ab44137b117307bfc2bda8ce0f6a3b", "author": {"user": {"login": "kovrus", "name": "Ruslan Kovalov"}}, "url": "https://github.com/crate/crate/commit/90b7506ff7ab44137b117307bfc2bda8ce0f6a3b", "committedDate": "2020-06-03T15:01:56Z", "message": "fixup! Document the varchar data type."}, "afterCommit": {"oid": "94e6d12311a56112b3a894f04f42d1d5683dc1b0", "author": {"user": {"login": "kovrus", "name": "Ruslan Kovalov"}}, "url": "https://github.com/crate/crate/commit/94e6d12311a56112b3a894f04f42d1d5683dc1b0", "committedDate": "2020-06-04T09:42:52Z", "message": "fixup! Document the varchar data type."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0Mjg1MjIx", "url": "https://github.com/crate/crate/pull/9951#pullrequestreview-424285221", "createdAt": "2020-06-04T09:55:25Z", "commit": {"oid": "94e6d12311a56112b3a894f04f42d1d5683dc1b0"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQwOTo1NToyNVrOGe-dUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQwOTo1ODoyM1rOGe-kRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTEzMzc3OQ==", "bodyText": "If the excess characters are all spaces, the string literal will be truncated\nto the specified length.", "url": "https://github.com/crate/crate/pull/9951#discussion_r435133779", "createdAt": "2020-06-04T09:55:25Z", "author": {"login": "infoverload"}, "path": "docs/general/ddl/data-types.rst", "diffHunk": "@@ -82,28 +82,116 @@ A basic boolean type. Accepting ``true`` and ``false`` as values. Example::\n     cr> drop table my_bool_table;\n     DROP OK, 1 row affected (... sec)\n \n+.. _character-data-types:\n+\n+Character Types\n+===============\n+\n+The general-purpose character data types available in CrateDB.\n+\n+Columns of below listed character data types can also be analyzed. By default\n+the :ref:`plain <plain-analyzer>` analyzer is used. See\n+:ref:`sql_ddl_index_fulltext`.\n+\n+.. _data-type-varchar:\n+\n+``character varying(n)``, ``varchar(n)``\n+----------------------------------------\n+\n+The ``character varying(n)`` or ``varchar(n)`` character data types represent\n+variable length strings. All unicode characters are allowed.\n+\n+The optional length specification ``n`` is a positive `integer <numeric\n+types_>`_ that defines the maximum length, in characters, of the values\n+that have to be stored or cast. The minimum length is ``1``. The maximum\n+length is defined by the upper `integer <numeric types_>`_ range.\n+\n+An attempt to store a string literal that exceeds the specified length\n+of the character data type results in an error.\n+\n+::\n+\n+    cr> CREATE TABLE users (id varchar, name varchar(6));\n+    CREATE OK, 1 row affected (... sec)\n+\n+::\n+\n+    cr> INSERT INTO users (id, name) VALUES ('1361', 'john doe')\n+    SQLActionException[SQLParseException: 'john doe' is too long for the text type of length: 6]\n+\n+Unless the excess characters are all spaces, in this case the string literal\n+will be truncated to the specified length.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94e6d12311a56112b3a894f04f42d1d5683dc1b0"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTEzNDI5Mg==", "bodyText": "These are general purpose character data types available in CrateDB.", "url": "https://github.com/crate/crate/pull/9951#discussion_r435134292", "createdAt": "2020-06-04T09:56:20Z", "author": {"login": "infoverload"}, "path": "docs/general/ddl/data-types.rst", "diffHunk": "@@ -82,28 +82,116 @@ A basic boolean type. Accepting ``true`` and ``false`` as values. Example::\n     cr> drop table my_bool_table;\n     DROP OK, 1 row affected (... sec)\n \n+.. _character-data-types:\n+\n+Character Types\n+===============\n+\n+The general-purpose character data types available in CrateDB.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94e6d12311a56112b3a894f04f42d1d5683dc1b0"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTEzNTU1OQ==", "bodyText": "I think we can remove \"Columns of below listed character data types can also be analyzed.\"", "url": "https://github.com/crate/crate/pull/9951#discussion_r435135559", "createdAt": "2020-06-04T09:58:23Z", "author": {"login": "infoverload"}, "path": "docs/general/ddl/data-types.rst", "diffHunk": "@@ -82,28 +82,116 @@ A basic boolean type. Accepting ``true`` and ``false`` as values. Example::\n     cr> drop table my_bool_table;\n     DROP OK, 1 row affected (... sec)\n \n+.. _character-data-types:\n+\n+Character Types\n+===============\n+\n+The general-purpose character data types available in CrateDB.\n+\n+Columns of below listed character data types can also be analyzed. By default", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "94e6d12311a56112b3a894f04f42d1d5683dc1b0"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0MzA3MDY5", "url": "https://github.com/crate/crate/pull/9951#pullrequestreview-424307069", "createdAt": "2020-06-04T10:25:15Z", "commit": {"oid": "a4e752d2e046c62c14e7dd09e4bc6938079e49d0"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0MzE2NzUy", "url": "https://github.com/crate/crate/pull/9951#pullrequestreview-424316752", "createdAt": "2020-06-04T10:39:57Z", "commit": {"oid": "a4e752d2e046c62c14e7dd09e4bc6938079e49d0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "276293c27fbc399c754b5fe27e185ff9908d2506", "author": {"user": {"login": "kovrus", "name": "Ruslan Kovalov"}}, "url": "https://github.com/crate/crate/commit/276293c27fbc399c754b5fe27e185ff9908d2506", "committedDate": "2020-06-04T11:38:17Z", "message": "Document the varchar data type."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a4e752d2e046c62c14e7dd09e4bc6938079e49d0", "author": {"user": {"login": "kovrus", "name": "Ruslan Kovalov"}}, "url": "https://github.com/crate/crate/commit/a4e752d2e046c62c14e7dd09e4bc6938079e49d0", "committedDate": "2020-06-04T10:09:01Z", "message": "fixup! fixup! Document the varchar data type."}, "afterCommit": {"oid": "276293c27fbc399c754b5fe27e185ff9908d2506", "author": {"user": {"login": "kovrus", "name": "Ruslan Kovalov"}}, "url": "https://github.com/crate/crate/commit/276293c27fbc399c754b5fe27e185ff9908d2506", "committedDate": "2020-06-04T11:38:17Z", "message": "Document the varchar data type."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3383, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}