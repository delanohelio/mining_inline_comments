{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMwMjkyMDky", "number": 11845, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMVQwMjoxNjo0M1rOEHVDkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMzowNTowMVrOEIKbAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2MTIwNDY3OnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/mining/MiningPlugin.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMVQwMjoxNjo0M1rOGmpORQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMVQwMjoxNjo0M1rOGmpORQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzE3NDQ2OQ==", "bodyText": "You should just reuse rock here.", "url": "https://github.com/runelite/runelite/pull/11845#discussion_r443174469", "createdAt": "2020-06-21T02:16:43Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/mining/MiningPlugin.java", "diffHunk": "@@ -128,20 +128,37 @@ public void onGameObjectDespawned(GameObjectDespawned event)\n \t\tRock rock = Rock.getRock(object.getId());\n \t\tif (rock != null)\n \t\t{\n-\t\t\tRockRespawn rockRespawn = new RockRespawn(rock, object.getWorldLocation(), Instant.now(), (int) rock.getRespawnTime(region).toMillis(), rock.getZOffset());\n-\t\t\trespawns.add(rockRespawn);\n+\t\t\tif (rock != Rock.DAEYALT)\n+\t\t\t{\n+\t\t\t\tRockRespawn rockRespawn = new RockRespawn(rock, object.getWorldLocation(), Instant.now(), (int) rock.getRespawnTime(region).toMillis(), rock.getZOffset());\n+\t\t\t\trespawns.add(rockRespawn);\n+\t\t\t}\n+\t\t\telse\n+\t\t\t{\n+\t\t\t\tfinal WorldPoint point = object.getWorldLocation();\n+\t\t\t\trespawns.removeIf(rockRespawn -> rockRespawn.getWorldPoint().equals(point));\n+\t\t\t}\n \t\t}\n \t}\n \n \t@Subscribe\n \tpublic void onGameObjectSpawned(GameObjectSpawned event)\n \t{\n-\t\tif (client.getGameState() != GameState.LOGGED_IN)\n+\t\tif (client.getGameState() != GameState.LOGGED_IN || recentlyLoggedIn)\n \t\t{\n \t\t\treturn;\n \t\t}\n \n \t\tGameObject object = event.getGameObject();\n+\t\tRock rock = Rock.getRock(object.getId());\n+\n+\t\t//Inverse despawn timer to track deyalt ore life\n+\t\tif (rock == Rock.DAEYALT)\n+\t\t{\n+\t\t\tfinal int region = client.getLocalPlayer().getWorldLocation().getRegionID();\n+\t\t\tRockRespawn rockRespawn = new RockRespawn(rock, object.getWorldLocation(), Instant.now(), (int) rock.getRespawnTime(region).toMillis(), rock.getZOffset());\n+\t\t\trespawns.add(rockRespawn);\n+\t\t}\n \n \t\t// If the Lovakite ore respawns before the timer is up, remove it\n \t\tif (Rock.getRock(object.getId()) == Rock.LOVAKITE)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a340fcee0bde7264a6b580427d352284f34e4581"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2OTk0ODE2OnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/mining/MiningPlugin.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMzowNTowMVrOGn9gpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMzowNTowMVrOGn9gpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDU1NTQyOQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tif (Rock.getRock(object.getId()) == Rock.LOVAKITE)\n          \n          \n            \n            \t\telse if (rock == Rock.LOVAKITE)", "url": "https://github.com/runelite/runelite/pull/11845#discussion_r444555429", "createdAt": "2020-06-23T23:05:01Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/mining/MiningPlugin.java", "diffHunk": "@@ -128,20 +128,37 @@ public void onGameObjectDespawned(GameObjectDespawned event)\n \t\tRock rock = Rock.getRock(object.getId());\n \t\tif (rock != null)\n \t\t{\n-\t\t\tRockRespawn rockRespawn = new RockRespawn(rock, object.getWorldLocation(), Instant.now(), (int) rock.getRespawnTime(region).toMillis(), rock.getZOffset());\n-\t\t\trespawns.add(rockRespawn);\n+\t\t\tif (rock != Rock.DAEYALT)\n+\t\t\t{\n+\t\t\t\tRockRespawn rockRespawn = new RockRespawn(rock, object.getWorldLocation(), Instant.now(), (int) rock.getRespawnTime(region).toMillis(), rock.getZOffset());\n+\t\t\t\trespawns.add(rockRespawn);\n+\t\t\t}\n+\t\t\telse\n+\t\t\t{\n+\t\t\t\tfinal WorldPoint point = object.getWorldLocation();\n+\t\t\t\trespawns.removeIf(rockRespawn -> rockRespawn.getWorldPoint().equals(point));\n+\t\t\t}\n \t\t}\n \t}\n \n \t@Subscribe\n \tpublic void onGameObjectSpawned(GameObjectSpawned event)\n \t{\n-\t\tif (client.getGameState() != GameState.LOGGED_IN)\n+\t\tif (client.getGameState() != GameState.LOGGED_IN || recentlyLoggedIn)\n \t\t{\n \t\t\treturn;\n \t\t}\n \n \t\tGameObject object = event.getGameObject();\n+\t\tRock rock = Rock.getRock(object.getId());\n+\n+\t\t//Inverse despawn timer to track deyalt ore life\n+\t\tif (rock == Rock.DAEYALT)\n+\t\t{\n+\t\t\tfinal int region = client.getLocalPlayer().getWorldLocation().getRegionID();\n+\t\t\tRockRespawn rockRespawn = new RockRespawn(rock, object.getWorldLocation(), Instant.now(), (int) rock.getRespawnTime(region).toMillis(), rock.getZOffset());\n+\t\t\trespawns.add(rockRespawn);\n+\t\t}\n \n \t\t// If the Lovakite ore respawns before the timer is up, remove it\n \t\tif (Rock.getRock(object.getId()) == Rock.LOVAKITE)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a340fcee0bde7264a6b580427d352284f34e4581"}, "originalPosition": 40}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3480, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}