{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY4ODA4Nzcw", "number": 10690, "title": "Add ability and config to swap Lookup and Search in wiki plugin", "bodyText": "Let me know if this code style is too ugly, I felt dumb using a switch for a boolean. I also removed a switch with a single case and instead used if.", "createdAt": "2020-01-29T22:58:42Z", "url": "https://github.com/runelite/runelite/pull/10690", "merged": true, "mergeCommit": {"oid": "273ebdeebf7f5c63a5fe43aef7f199926d3d4e79"}, "closed": true, "closedAt": "2020-02-01T02:00:12Z", "author": {"login": "hjdarnel"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb_OE03AH2gAyMzY4ODA4NzcwOjZhYzhmMTFmYzU1MmJiNWQxNmU3NmFmZTU3ZTYwZjc5YTU4NjMzY2Q=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb_55kxAFqTM1MTg1NzYyOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6ac8f11fc552bb5d16e76afe57e60f79a58633cd", "author": {"user": {"login": "hjdarnel", "name": "Henry Darnell"}}, "url": "https://github.com/runelite/runelite/commit/6ac8f11fc552bb5d16e76afe57e60f79a58633cd", "committedDate": "2020-01-29T22:56:06Z", "message": "Add config and ability to swap Lookup and Search in wiki plugin"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwNDkxNDcw", "url": "https://github.com/runelite/runelite/pull/10690#pullrequestreview-350491470", "createdAt": "2020-01-29T23:15:47Z", "commit": {"oid": "6ac8f11fc552bb5d16e76afe57e60f79a58633cd"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQyMzoxNTo0N1rOFjazSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOVQyMzoxNjozMVrOFja0Fg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjY4MzU5Mg==", "bodyText": "Remove empty line", "url": "https://github.com/runelite/runelite/pull/10690#discussion_r372683592", "createdAt": "2020-01-29T23:15:47Z", "author": {"login": "TheStonedTurtle"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/wiki/WikiConfig.java", "diffHunk": "@@ -0,0 +1,46 @@\n+/*\n+ * Copyright (c) 2020, Henry Darnell <hjdarnel@gmail.com>\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright notice, this\n+ *    list of conditions and the following disclaimer.\n+ * 2. Redistributions in binary form must reproduce the above copyright notice,\n+ *    this list of conditions and the following disclaimer in the documentation\n+ *    and/or other materials provided with the distribution.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n+ * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n+ * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n+ * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+ * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ */\n+package net.runelite.client.plugins.wiki;\n+\n+import net.runelite.client.config.Config;\n+import net.runelite.client.config.ConfigGroup;\n+import net.runelite.client.config.ConfigItem;\n+\n+@ConfigGroup(\"wiki\")\n+public interface WikiConfig extends Config\n+{\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6ac8f11fc552bb5d16e76afe57e60f79a58633cd"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjY4MzYyOQ==", "bodyText": "Remove empty line", "url": "https://github.com/runelite/runelite/pull/10690#discussion_r372683629", "createdAt": "2020-01-29T23:15:55Z", "author": {"login": "TheStonedTurtle"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/wiki/WikiConfig.java", "diffHunk": "@@ -0,0 +1,46 @@\n+/*\n+ * Copyright (c) 2020, Henry Darnell <hjdarnel@gmail.com>\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright notice, this\n+ *    list of conditions and the following disclaimer.\n+ * 2. Redistributions in binary form must reproduce the above copyright notice,\n+ *    this list of conditions and the following disclaimer in the documentation\n+ *    and/or other materials provided with the distribution.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n+ * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n+ * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n+ * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+ * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ */\n+package net.runelite.client.plugins.wiki;\n+\n+import net.runelite.client.config.Config;\n+import net.runelite.client.config.ConfigGroup;\n+import net.runelite.client.config.ConfigItem;\n+\n+@ConfigGroup(\"wiki\")\n+public interface WikiConfig extends Config\n+{\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"swapLookupSearch\",\n+\t\tname = \"Swap Lookup and Search\",\n+\t\tdescription = \"Swap Lookup to left-click Search on the Wiki button\",\n+\t\tposition = 1\n+\t)\n+\tdefault boolean swapLookupSearch()\n+\t{\n+\t\treturn false;\n+\t}\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6ac8f11fc552bb5d16e76afe57e60f79a58633cd"}, "originalPosition": 45}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjY4Mzc5OA==", "bodyText": "Remove added whitespace", "url": "https://github.com/runelite/runelite/pull/10690#discussion_r372683798", "createdAt": "2020-01-29T23:16:31Z", "author": {"login": "TheStonedTurtle"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/wiki/WikiPlugin.java", "diffHunk": "@@ -373,8 +399,8 @@ public void onMenuEntryAdded(MenuEntryAdded event)\n \t\t\t\tMenuEntry[] oldEntries = menuEntries;\n \t\t\t\tmenuEntries = Arrays.copyOf(menuEntries, menuEntries.length - 1);\n \t\t\t\tfor (int ourEntry = oldEntries.length - 1;\n-\t\t\t\t\tourEntry >= 2 && oldEntries[oldEntries.length - 1].getType() != MenuAction.SPELL_CAST_ON_WIDGET.getId();\n-\t\t\t\t\tourEntry--)\n+\t\t\t\t\t ourEntry >= 2 && oldEntries[oldEntries.length - 1].getType() != MenuAction.SPELL_CAST_ON_WIDGET.getId();\n+\t\t\t\t\t ourEntry--)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6ac8f11fc552bb5d16e76afe57e60f79a58633cd"}, "originalPosition": 85}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "516dff2bcd76a16be607d709392e4a716af7078d", "author": {"user": {"login": "hjdarnel", "name": "Henry Darnell"}}, "url": "https://github.com/runelite/runelite/commit/516dff2bcd76a16be607d709392e4a716af7078d", "committedDate": "2020-01-29T23:20:49Z", "message": "Clean up code to a ternary"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0419cfd67de7ac2fddc5528816364ed8088a89dd", "author": {"user": {"login": "hjdarnel", "name": "Henry Darnell"}}, "url": "https://github.com/runelite/runelite/commit/0419cfd67de7ac2fddc5528816364ed8088a89dd", "committedDate": "2020-01-29T23:21:01Z", "message": "Remove added whitespace"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02b7fca8c60906cdcb4bbe03eb2e9ca116949bb5", "author": {"user": {"login": "hjdarnel", "name": "Henry Darnell"}}, "url": "https://github.com/runelite/runelite/commit/02b7fca8c60906cdcb4bbe03eb2e9ca116949bb5", "committedDate": "2020-01-29T23:22:39Z", "message": "Remove added whitespace"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "df99d1d60c76d87c9625c1c83b7482a2a1927c16", "author": {"user": {"login": "hjdarnel", "name": "Henry Darnell"}}, "url": "https://github.com/runelite/runelite/commit/df99d1d60c76d87c9625c1c83b7482a2a1927c16", "committedDate": "2020-01-29T23:29:02Z", "message": "Update comment, remove more whitespace"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86df488e38a9d62a51f9a5534b79937cbed03dd4", "author": {"user": {"login": "hjdarnel", "name": "Henry Darnell"}}, "url": "https://github.com/runelite/runelite/commit/86df488e38a9d62a51f9a5534b79937cbed03dd4", "committedDate": "2020-01-30T00:21:43Z", "message": "Rebuild widget on config change"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUwOTg3OTQ5", "url": "https://github.com/runelite/runelite/pull/10690#pullrequestreview-350987949", "createdAt": "2020-01-30T17:01:38Z", "commit": {"oid": "86df488e38a9d62a51f9a5534b79937cbed03dd4"}, "state": "COMMENTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNzowMTozOFrOFjyomA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMFQxNzozMTo1OFrOFjznsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzA3NDA3Mg==", "bodyText": "You should probably use addWidgets instead of startUp and move the code in shutDown to a new method instead and call that here.", "url": "https://github.com/runelite/runelite/pull/10690#discussion_r373074072", "createdAt": "2020-01-30T17:01:38Z", "author": {"login": "dekvall"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/wiki/WikiPlugin.java", "diffHunk": "@@ -204,6 +220,17 @@ private void onWidgetHiddenChanged(WidgetHiddenChanged ev)\n \t\t}\n \t}\n \n+\t@Subscribe\n+\tpublic void onConfigChanged(ConfigChanged event)\n+\t{\n+\t\tif (event.getGroup().equals(CONFIG_GROUP_KEY))\n+\t\t{\n+\t\t\t// Since the Widget menu is configured on startup, it's easiest to just rebuild it when the config changes\n+\t\t\tshutDown();\n+\t\t\tstartUp();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "86df488e38a9d62a51f9a5534b79937cbed03dd4"}, "originalPosition": 78}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzA3NjYxMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tprivate static final String CONFIG_GROUP_KEY = \"wiki\";\n          \n          \n            \n            \tstatic final String CONFIG_GROUP_KEY = \"wiki\";", "url": "https://github.com/runelite/runelite/pull/10690#discussion_r373076611", "createdAt": "2020-01-30T17:06:14Z", "author": {"login": "dekvall"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/wiki/WikiPlugin.java", "diffHunk": "@@ -104,6 +110,14 @@\n \n \tprivate boolean wikiSelected = false;\n \n+\tprivate static final String CONFIG_GROUP_KEY = \"wiki\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "86df488e38a9d62a51f9a5534b79937cbed03dd4"}, "originalPosition": 32}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzA3NzI0NA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            @ConfigGroup(\"wiki\")\n          \n          \n            \n            @ConfigGroup(WikiPlugin.CONFIG_GROUP_KEY)", "url": "https://github.com/runelite/runelite/pull/10690#discussion_r373077244", "createdAt": "2020-01-30T17:07:25Z", "author": {"login": "dekvall"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/wiki/WikiConfig.java", "diffHunk": "@@ -0,0 +1,44 @@\n+/*\n+ * Copyright (c) 2020, Henry Darnell <hjdarnel@gmail.com>\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright notice, this\n+ *    list of conditions and the following disclaimer.\n+ * 2. Redistributions in binary form must reproduce the above copyright notice,\n+ *    this list of conditions and the following disclaimer in the documentation\n+ *    and/or other materials provided with the distribution.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n+ * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n+ * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n+ * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+ * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ */\n+package net.runelite.client.plugins.wiki;\n+\n+import net.runelite.client.config.Config;\n+import net.runelite.client.config.ConfigGroup;\n+import net.runelite.client.config.ConfigItem;\n+\n+@ConfigGroup(\"wiki\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "86df488e38a9d62a51f9a5534b79937cbed03dd4"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzA4MzgzNw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\tif (ev.getOp() == (position + 1))\n          \n          \n            \n            \t\t\tif (ev.getOp() == position + 1)", "url": "https://github.com/runelite/runelite/pull/10690#discussion_r373083837", "createdAt": "2020-01-30T17:19:31Z", "author": {"login": "dekvall"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/wiki/WikiPlugin.java", "diffHunk": "@@ -180,16 +194,18 @@ private void addWidgets()\n \t\t\ticon.setSpriteId(SpriteID.WIKI_SELECTED);\n \t\t\tclient.setAllWidgetsAreOpTargetable(true);\n \t\t});\n-\t\ticon.setAction(5, \"Search\"); // Start at option 5 so the target op is ontop\n+\n+\t\t// set position to 5 if we want Lookup on left-click, or set position to 4 if we want Search\n+\t\tfinal int position = config.swapLookupSearch() ? 4 : 5;\n+\t\ticon.setAction(position, \"Search\");\n \t\ticon.setOnOpListener((JavaScriptCallback) ev ->\n \t\t{\n-\t\t\tswitch (ev.getOp())\n+\t\t\tif (ev.getOp() == (position + 1))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "86df488e38a9d62a51f9a5534b79937cbed03dd4"}, "originalPosition": 55}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzA5MDIyNg==", "bodyText": "I think this name is a bit ambiguous, it's not clear to me what will happen when i toggle the option. Something like Leftclick Search would be better imo.", "url": "https://github.com/runelite/runelite/pull/10690#discussion_r373090226", "createdAt": "2020-01-30T17:31:58Z", "author": {"login": "dekvall"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/wiki/WikiConfig.java", "diffHunk": "@@ -0,0 +1,44 @@\n+/*\n+ * Copyright (c) 2020, Henry Darnell <hjdarnel@gmail.com>\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright notice, this\n+ *    list of conditions and the following disclaimer.\n+ * 2. Redistributions in binary form must reproduce the above copyright notice,\n+ *    this list of conditions and the following disclaimer in the documentation\n+ *    and/or other materials provided with the distribution.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n+ * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n+ * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n+ * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+ * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ */\n+package net.runelite.client.plugins.wiki;\n+\n+import net.runelite.client.config.Config;\n+import net.runelite.client.config.ConfigGroup;\n+import net.runelite.client.config.ConfigItem;\n+\n+@ConfigGroup(\"wiki\")\n+public interface WikiConfig extends Config\n+{\n+\t@ConfigItem(\n+\t\tkeyName = \"swapLookupSearch\",\n+\t\tname = \"Swap Lookup and Search\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "86df488e38a9d62a51f9a5534b79937cbed03dd4"}, "originalPosition": 36}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e7c4bbb99ce914dddf698b9ca86d512f181c99a", "author": {"user": {"login": "hjdarnel", "name": "Henry Darnell"}}, "url": "https://github.com/runelite/runelite/commit/2e7c4bbb99ce914dddf698b9ca86d512f181c99a", "committedDate": "2020-01-31T00:00:15Z", "message": "Address PR comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxMjI4MjIw", "url": "https://github.com/runelite/runelite/pull/10690#pullrequestreview-351228220", "createdAt": "2020-01-31T00:16:40Z", "commit": {"oid": "2e7c4bbb99ce914dddf698b9ca86d512f181c99a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwMDoxNjo0MVrOFj-FJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQwMDoxNjo0MVrOFj-FJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzI2MTYwNw==", "bodyText": "Remove the clientThread from here invocation and invoke it similarily to addWidgets with `clientThread.invokeLater(this::removeWidgets)", "url": "https://github.com/runelite/runelite/pull/10690#discussion_r373261607", "createdAt": "2020-01-31T00:16:41Z", "author": {"login": "dekvall"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/wiki/WikiPlugin.java", "diffHunk": "@@ -112,6 +126,11 @@ public void startUp()\n \n \t@Override\n \tpublic void shutDown()\n+\t{\n+\t\tremoveWidgets();\n+\t}\n+\n+\tprivate void removeWidgets()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e7c4bbb99ce914dddf698b9ca86d512f181c99a"}, "originalPosition": 51}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f19f38874145ec574e097233e0be316fb7eafdf", "author": {"user": {"login": "hjdarnel", "name": "Henry Darnell"}}, "url": "https://github.com/runelite/runelite/commit/5f19f38874145ec574e097233e0be316fb7eafdf", "committedDate": "2020-01-31T04:43:18Z", "message": "move clientThread.invokeLater out into calling functions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxNzg5NjA5", "url": "https://github.com/runelite/runelite/pull/10690#pullrequestreview-351789609", "createdAt": "2020-01-31T21:30:58Z", "commit": {"oid": "5f19f38874145ec574e097233e0be316fb7eafdf"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQyMTozMDo1OFrOFkYgHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQyMTo0MzoxNFrOFkYxAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzY5NDQ5Mg==", "bodyText": "This comment feels outdated", "url": "https://github.com/runelite/runelite/pull/10690#discussion_r373694492", "createdAt": "2020-01-31T21:30:58Z", "author": {"login": "dekvall"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/wiki/WikiPlugin.java", "diffHunk": "@@ -204,6 +223,17 @@ private void onWidgetHiddenChanged(WidgetHiddenChanged ev)\n \t\t}\n \t}\n \n+\t@Subscribe\n+\tpublic void onConfigChanged(ConfigChanged event)\n+\t{\n+\t\tif (event.getGroup().equals(CONFIG_GROUP_KEY))\n+\t\t{\n+\t\t\t// Since the Widget menu is configured on startup, it's easiest to just rebuild it when the config changes", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f19f38874145ec574e097233e0be316fb7eafdf"}, "originalPosition": 129}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzY5NTQ0OA==", "bodyText": "This comment feels redundant, the code right below it tells us the same thing", "url": "https://github.com/runelite/runelite/pull/10690#discussion_r373695448", "createdAt": "2020-01-31T21:33:32Z", "author": {"login": "dekvall"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/wiki/WikiPlugin.java", "diffHunk": "@@ -180,16 +197,18 @@ private void addWidgets()\n \t\t\ticon.setSpriteId(SpriteID.WIKI_SELECTED);\n \t\t\tclient.setAllWidgetsAreOpTargetable(true);\n \t\t});\n-\t\ticon.setAction(5, \"Search\"); // Start at option 5 so the target op is ontop\n+\n+\t\t// set position to 5 if we want Lookup on left-click, or set position to 4 if we want Search", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f19f38874145ec574e097233e0be316fb7eafdf"}, "originalPosition": 102}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzY5NjIwOA==", "bodyText": "position feels a bit broad and could have a better name. Isn't it actually the index of the search op?", "url": "https://github.com/runelite/runelite/pull/10690#discussion_r373696208", "createdAt": "2020-01-31T21:35:34Z", "author": {"login": "dekvall"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/wiki/WikiPlugin.java", "diffHunk": "@@ -180,16 +197,18 @@ private void addWidgets()\n \t\t\ticon.setSpriteId(SpriteID.WIKI_SELECTED);\n \t\t\tclient.setAllWidgetsAreOpTargetable(true);\n \t\t});\n-\t\ticon.setAction(5, \"Search\"); // Start at option 5 so the target op is ontop\n+\n+\t\t// set position to 5 if we want Lookup on left-click, or set position to 4 if we want Search\n+\t\tfinal int position = config.leftClickSearch() ? 4 : 5;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f19f38874145ec574e097233e0be316fb7eafdf"}, "originalPosition": 103}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzY5ODgxOA==", "bodyText": "I don't fully understand why this is position + 1 but it was case 6 earlier so i guess it's fine", "url": "https://github.com/runelite/runelite/pull/10690#discussion_r373698818", "createdAt": "2020-01-31T21:43:14Z", "author": {"login": "dekvall"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/wiki/WikiPlugin.java", "diffHunk": "@@ -180,16 +197,18 @@ private void addWidgets()\n \t\t\ticon.setSpriteId(SpriteID.WIKI_SELECTED);\n \t\t\tclient.setAllWidgetsAreOpTargetable(true);\n \t\t});\n-\t\ticon.setAction(5, \"Search\"); // Start at option 5 so the target op is ontop\n+\n+\t\t// set position to 5 if we want Lookup on left-click, or set position to 4 if we want Search\n+\t\tfinal int position = config.leftClickSearch() ? 4 : 5;\n+\t\ticon.setAction(position, \"Search\");\n \t\ticon.setOnOpListener((JavaScriptCallback) ev ->\n \t\t{\n-\t\t\tswitch (ev.getOp())\n+\t\t\tif (ev.getOp() == position + 1)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f19f38874145ec574e097233e0be316fb7eafdf"}, "originalPosition": 108}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5dff26ba67d9078ffbb9713a8a53d36ac4e0619f", "author": {"user": {"login": "hjdarnel", "name": "Henry Darnell"}}, "url": "https://github.com/runelite/runelite/commit/5dff26ba67d9078ffbb9713a8a53d36ac4e0619f", "committedDate": "2020-01-31T23:10:14Z", "message": "Respond to PR"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxODI5NDkz", "url": "https://github.com/runelite/runelite/pull/10690#pullrequestreview-351829493", "createdAt": "2020-01-31T23:14:28Z", "commit": {"oid": "5dff26ba67d9078ffbb9713a8a53d36ac4e0619f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQyMzoxNDoyOFrOFkaaug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0zMVQyMzoxNTozMFrOFkablg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzcyNTg4Mg==", "bodyText": "use a single invokeLater here", "url": "https://github.com/runelite/runelite/pull/10690#discussion_r373725882", "createdAt": "2020-01-31T23:14:28Z", "author": {"login": "abextm"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/wiki/WikiPlugin.java", "diffHunk": "@@ -204,6 +222,16 @@ private void onWidgetHiddenChanged(WidgetHiddenChanged ev)\n \t\t}\n \t}\n \n+\t@Subscribe\n+\tpublic void onConfigChanged(ConfigChanged event)\n+\t{\n+\t\tif (event.getGroup().equals(CONFIG_GROUP_KEY))\n+\t\t{\n+\t\t\tclientThread.invokeLater(this::removeWidgets);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5dff26ba67d9078ffbb9713a8a53d36ac4e0619f"}, "originalPosition": 128}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MzcyNjEwMg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tfinal int index = config.leftClickSearch() ? 4 : 5;\n          \n          \n            \n            \t\tfinal int searchIndex = config.leftClickSearch() ? 4 : 5;", "url": "https://github.com/runelite/runelite/pull/10690#discussion_r373726102", "createdAt": "2020-01-31T23:15:30Z", "author": {"login": "abextm"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/wiki/WikiPlugin.java", "diffHunk": "@@ -180,16 +197,17 @@ private void addWidgets()\n \t\t\ticon.setSpriteId(SpriteID.WIKI_SELECTED);\n \t\t\tclient.setAllWidgetsAreOpTargetable(true);\n \t\t});\n-\t\ticon.setAction(5, \"Search\"); // Start at option 5 so the target op is ontop\n+\n+\t\tfinal int index = config.leftClickSearch() ? 4 : 5;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5dff26ba67d9078ffbb9713a8a53d36ac4e0619f"}, "originalPosition": 102}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a92d0aca14073bda1411062f9d06b65744b8834", "author": {"user": {"login": "hjdarnel", "name": "Henry Darnell"}}, "url": "https://github.com/runelite/runelite/commit/5a92d0aca14073bda1411062f9d06b65744b8834", "committedDate": "2020-01-31T23:27:25Z", "message": "Respond to PR"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a1bdeeeb22e6b32d7663374a7fed34db1d4b547", "author": {"user": {"login": "hjdarnel", "name": "Henry Darnell"}}, "url": "https://github.com/runelite/runelite/commit/4a1bdeeeb22e6b32d7663374a7fed34db1d4b547", "committedDate": "2020-01-31T23:34:10Z", "message": "Fix style"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxODUwNDUw", "url": "https://github.com/runelite/runelite/pull/10690#pullrequestreview-351850450", "createdAt": "2020-02-01T00:54:49Z", "commit": {"oid": "4a1bdeeeb22e6b32d7663374a7fed34db1d4b547"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxODU3NjI4", "url": "https://github.com/runelite/runelite/pull/10690#pullrequestreview-351857628", "createdAt": "2020-02-01T01:59:38Z", "commit": {"oid": "4a1bdeeeb22e6b32d7663374a7fed34db1d4b547"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4179, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}