{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyNTg4ODg3", "number": 10928, "title": "object indicators: add support for multiple colors", "bodyText": "Closes #9632\nSupersedes/Closes #10124", "createdAt": "2020-03-02T20:22:54Z", "url": "https://github.com/runelite/runelite/pull/10928", "merged": true, "mergeCommit": {"oid": "5f5123a9c3258adeb7bdfb146ddaef4c2114a28a"}, "closed": true, "closedAt": "2020-03-17T19:39:26Z", "author": {"login": "dekvall"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcJ9hungFqTM2Nzc1OTkzMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcMWr-XgFqTM3MjIwODgxMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3NzU5OTMz", "url": "https://github.com/runelite/runelite/pull/10928#pullrequestreview-367759933", "createdAt": "2020-03-03T07:49:51Z", "commit": {"oid": "a88e9d93bb5cfae05c8c6975d13c6c9572f6bebd"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QwNzo0OTo1MVrOFw7NRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QwNzo0OTo1MVrOFw7NRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njg0NjAyMw==", "bodyText": "This should be checked for null and set to a real value before calling renderPolygon.", "url": "https://github.com/runelite/runelite/pull/10928#discussion_r386846023", "createdAt": "2020-03-03T07:49:51Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/objectindicators/ObjectIndicatorsOverlay.java", "diffHunk": "@@ -60,8 +61,11 @@ private ObjectIndicatorsOverlay(Client client, ObjectIndicatorsConfig config, Ob\n \t@Override\n \tpublic Dimension render(Graphics2D graphics)\n \t{\n-\t\tfor (TileObject object : plugin.getObjects())\n+\t\tfor (ColorTileObject colorTileObject : plugin.getObjects())\n \t\t{\n+\t\t\tTileObject object = colorTileObject.getTileObject();\n+\t\t\tColor color = colorTileObject.getColor();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a88e9d93bb5cfae05c8c6975d13c6c9572f6bebd"}, "originalPosition": 16}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f8702fc60b330403f375e3916ac1df629ebdc580", "author": {"user": {"login": "dekvall", "name": null}}, "url": "https://github.com/runelite/runelite/commit/f8702fc60b330403f375e3916ac1df629ebdc580", "committedDate": "2020-03-03T18:34:08Z", "message": "fallback to color"}, "afterCommit": {"oid": "8bc5b1ad721ef7cb00fb72f9c36ad13fe5eb8171", "author": {"user": {"login": "dekvall", "name": null}}, "url": "https://github.com/runelite/runelite/commit/8bc5b1ad721ef7cb00fb72f9c36ad13fe5eb8171", "committedDate": "2020-03-03T19:20:05Z", "message": "object indicators: add support for multiple colors"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5Mjg5NDM0", "url": "https://github.com/runelite/runelite/pull/10928#pullrequestreview-369289434", "createdAt": "2020-03-05T04:31:24Z", "commit": {"oid": "8bc5b1ad721ef7cb00fb72f9c36ad13fe5eb8171"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNDc0MjE2", "url": "https://github.com/runelite/runelite/pull/10928#pullrequestreview-370474216", "createdAt": "2020-03-06T16:55:04Z", "commit": {"oid": "8bc5b1ad721ef7cb00fb72f9c36ad13fe5eb8171"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNjo1NTowNVrOFy_8Mg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNjo1ODowOFrOFzADpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTAyMDcyMg==", "bodyText": "you can also just objects.removeIf(o -> o.getTileObject() == tileObject)", "url": "https://github.com/runelite/runelite/pull/10928#discussion_r389020722", "createdAt": "2020-03-06T16:55:05Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/objectindicators/ObjectIndicatorsPlugin.java", "diffHunk": "@@ -178,54 +182,56 @@ public void onWallObjectChanged(WallObjectChanged event)\n \t\tWallObject previous = event.getPrevious();\n \t\tWallObject wallObject = event.getWallObject();\n \n-\t\tobjects.remove(previous);\n+\t\tremoveObject(previous);\n \t\tcheckObjectPoints(wallObject);\n \t}\n \n \t@Subscribe\n \tpublic void onWallObjectDespawned(WallObjectDespawned event)\n \t{\n-\t\tobjects.remove(event.getWallObject());\n+\t\tremoveObject(event.getWallObject());\n \t}\n \n \t@Subscribe\n \tpublic void onGameObjectSpawned(GameObjectSpawned event)\n \t{\n-\t\tfinal GameObject eventObject = event.getGameObject();\n-\t\tcheckObjectPoints(eventObject);\n+\t\tcheckObjectPoints(event.getGameObject());\n \t}\n \n \t@Subscribe\n \tpublic void onDecorativeObjectSpawned(DecorativeObjectSpawned event)\n \t{\n-\t\tfinal DecorativeObject eventObject = event.getDecorativeObject();\n-\t\tcheckObjectPoints(eventObject);\n+\t\tcheckObjectPoints(event.getDecorativeObject());\n \t}\n \n \t@Subscribe\n \tpublic void onGameObjectDespawned(GameObjectDespawned event)\n \t{\n-\t\tobjects.remove(event.getGameObject());\n+\t\tremoveObject(event.getGameObject());\n \t}\n \n \t@Subscribe\n \tpublic void onDecorativeObjectDespawned(DecorativeObjectDespawned event)\n \t{\n-\t\tobjects.remove(event.getDecorativeObject());\n+\t\tremoveObject(event.getDecorativeObject());\n \t}\n \n \t@Subscribe\n-\tpublic void onGroundObjectSpawned(GroundObjectSpawned groundObjectSpawned)\n+\tpublic void onGroundObjectSpawned(GroundObjectSpawned event)\n \t{\n-\t\tfinal GroundObject groundObject = groundObjectSpawned.getGroundObject();\n-\t\tcheckObjectPoints(groundObject);\n+\t\tcheckObjectPoints(event.getGroundObject());\n \t}\n \n \t@Subscribe\n-\tpublic void onGroundObjectDespawned(GroundObjectDespawned groundObjectDespawned)\n+\tpublic void onGroundObjectDespawned(GroundObjectDespawned event)\n+\t{\n+\t\tremoveObject(event.getGroundObject());\n+\t}\n+\n+\tprivate void removeObject(TileObject tileObject)\n \t{\n-\t\tGroundObject groundObject = groundObjectDespawned.getGroundObject();\n-\t\tobjects.remove(groundObject);\n+\t\tColorTileObject colorTileObject = new ColorTileObject(tileObject);\n+\t\tobjects.remove(colorTileObject);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8bc5b1ad721ef7cb00fb72f9c36ad13fe5eb8171"}, "originalPosition": 94}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTAyMjYzMQ==", "bodyText": "similarly objects.stream().anyMatch(o -> o.getTileObject() == tileObject)", "url": "https://github.com/runelite/runelite/pull/10928#discussion_r389022631", "createdAt": "2020-03-06T16:58:08Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/objectindicators/ObjectIndicatorsPlugin.java", "diffHunk": "@@ -263,11 +269,19 @@ public void onMenuEntryAdded(MenuEntryAdded event)\n \t\t}\n \n \t\tfinal Tile tile = client.getScene().getTiles()[client.getPlane()][event.getActionParam0()][event.getActionParam1()];\n+\t\tfinal TileObject tileObject = findTileObject(tile, event.getIdentifier());\n+\n+\t\tif (tileObject == null)\n+\t\t{\n+\t\t\treturn;\n+\t\t}\n+\n+\t\tfinal ColorTileObject colorTileObject = new ColorTileObject(tileObject);\n \n \t\tMenuEntry[] menuEntries = client.getMenuEntries();\n \t\tmenuEntries = Arrays.copyOf(menuEntries, menuEntries.length + 1);\n \t\tMenuEntry menuEntry = menuEntries[menuEntries.length - 1] = new MenuEntry();\n-\t\tmenuEntry.setOption(objects.contains(findTileObject(tile, event.getIdentifier())) ? UNMARK : MARK);\n+\t\tmenuEntry.setOption(objects.contains(colorTileObject) ? UNMARK : MARK);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8bc5b1ad721ef7cb00fb72f9c36ad13fe5eb8171"}, "originalPosition": 115}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8bc5b1ad721ef7cb00fb72f9c36ad13fe5eb8171", "author": {"user": {"login": "dekvall", "name": null}}, "url": "https://github.com/runelite/runelite/commit/8bc5b1ad721ef7cb00fb72f9c36ad13fe5eb8171", "committedDate": "2020-03-03T19:20:05Z", "message": "object indicators: add support for multiple colors"}, "afterCommit": {"oid": "a65d44b65a5d72b4f70b3eea1c271ac2c559f94d", "author": {"user": {"login": "dekvall", "name": null}}, "url": "https://github.com/runelite/runelite/commit/a65d44b65a5d72b4f70b3eea1c271ac2c559f94d", "committedDate": "2020-03-09T22:42:39Z", "message": "object indicators: add support for multiple colors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "569524a9061820f2ad82e1f0884712920d617ffa", "author": {"user": {"login": "dekvall", "name": null}}, "url": "https://github.com/runelite/runelite/commit/569524a9061820f2ad82e1f0884712920d617ffa", "committedDate": "2020-03-09T22:51:00Z", "message": "object indicators: add support for multiple colors"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a65d44b65a5d72b4f70b3eea1c271ac2c559f94d", "author": {"user": {"login": "dekvall", "name": null}}, "url": "https://github.com/runelite/runelite/commit/a65d44b65a5d72b4f70b3eea1c271ac2c559f94d", "committedDate": "2020-03-09T22:42:39Z", "message": "object indicators: add support for multiple colors"}, "afterCommit": {"oid": "569524a9061820f2ad82e1f0884712920d617ffa", "author": {"user": {"login": "dekvall", "name": null}}, "url": "https://github.com/runelite/runelite/commit/569524a9061820f2ad82e1f0884712920d617ffa", "committedDate": "2020-03-09T22:51:00Z", "message": "object indicators: add support for multiple colors"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcyMjA4ODEy", "url": "https://github.com/runelite/runelite/pull/10928#pullrequestreview-372208812", "createdAt": "2020-03-10T18:19:07Z", "commit": {"oid": "569524a9061820f2ad82e1f0884712920d617ffa"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4001, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}