{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg5OTE4MjEy", "number": 12517, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwNDoxNDowNFrOElfxDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxNjozOTozN1rOEu1UbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NzUzMjMxOnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/timers/TimersPlugin.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwNDoxNDowNFrOHVAQhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwNjo1MDowM1rOHVCeuw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc4NjM3Mw==", "bodyText": "This should use the same logic as is used in the nightmare zone plugin. I don't think it's an important distinction in this particular case, but this would give false positive results when in KBD's lair", "url": "https://github.com/runelite/runelite/pull/12517#discussion_r491786373", "createdAt": "2020-09-21T04:14:04Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/timers/TimersPlugin.java", "diffHunk": "@@ -708,6 +712,11 @@ private boolean isInInferno()\n \t\treturn client.getMapRegions() != null && ArrayUtils.contains(client.getMapRegions(), INFERNO_REGION_ID);\n \t}\n \n+\tprivate boolean isInNightmareZone()\n+\t{\n+\t\treturn client.getMapRegions() != null && ArrayUtils.contains(client.getMapRegions(), NMZ_MAP_REGION_ID);\n+\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c03155ebaf77d82955cee5afa04984db6e9d3c55"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTgyMjc3OQ==", "bodyText": "Sorry, I forgot about NMZ and KBD using the same region. Fixed in a new commit.", "url": "https://github.com/runelite/runelite/pull/12517#discussion_r491822779", "createdAt": "2020-09-21T06:50:03Z", "author": {"login": "spatiag"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/timers/TimersPlugin.java", "diffHunk": "@@ -708,6 +712,11 @@ private boolean isInInferno()\n \t\treturn client.getMapRegions() != null && ArrayUtils.contains(client.getMapRegions(), INFERNO_REGION_ID);\n \t}\n \n+\tprivate boolean isInNightmareZone()\n+\t{\n+\t\treturn client.getMapRegions() != null && ArrayUtils.contains(client.getMapRegions(), NMZ_MAP_REGION_ID);\n+\t}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc4NjM3Mw=="}, "originalCommit": {"oid": "c03155ebaf77d82955cee5afa04984db6e9d3c55"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NzUzNDk5OnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/timers/TimersPlugin.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwNDoxNjoxOVrOHVAR5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQyMTo1ODoxMlrOHcvMdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc4NjcyNw==", "bodyText": "What purpose does this serve? We can safely call removeGameTimer(OVERLOAD) even if the timer hasn't been added.", "url": "https://github.com/runelite/runelite/pull/12517#discussion_r491786727", "createdAt": "2020-09-21T04:16:19Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/timers/TimersPlugin.java", "diffHunk": "@@ -143,6 +144,7 @@\n \tprivate int lastAnimation;\n \tprivate boolean loggedInRace;\n \tprivate boolean widgetHiddenChangedOnPvpWorld;\n+\tprivate boolean overloadNMZ;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c03155ebaf77d82955cee5afa04984db6e9d3c55"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTgyNDEwNw==", "bodyText": "I added overloadNMZ to mimic how the tzhaarTimer is used and to also limit the number of calls to removeGameTimer(OVERLOAD). I originally had this\nif (!isInNightmareZone())\n{\n\tremoveGameTimer(OVERLOAD);\n}\n\nbut it gets triggered frequently outside NMZ by just walking around and loading in new regions.", "url": "https://github.com/runelite/runelite/pull/12517#discussion_r491824107", "createdAt": "2020-09-21T06:53:25Z", "author": {"login": "spatiag"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/timers/TimersPlugin.java", "diffHunk": "@@ -143,6 +144,7 @@\n \tprivate int lastAnimation;\n \tprivate boolean loggedInRace;\n \tprivate boolean widgetHiddenChangedOnPvpWorld;\n+\tprivate boolean overloadNMZ;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc4NjcyNw=="}, "originalCommit": {"oid": "c03155ebaf77d82955cee5afa04984db6e9d3c55"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTg5NTQxNQ==", "bodyText": "Is it bad for it to be called when walking around? I don't think that's an issue.", "url": "https://github.com/runelite/runelite/pull/12517#discussion_r499895415", "createdAt": "2020-10-05T21:58:12Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/timers/TimersPlugin.java", "diffHunk": "@@ -143,6 +144,7 @@\n \tprivate int lastAnimation;\n \tprivate boolean loggedInRace;\n \tprivate boolean widgetHiddenChangedOnPvpWorld;\n+\tprivate boolean overloadNMZ;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc4NjcyNw=="}, "originalCommit": {"oid": "c03155ebaf77d82955cee5afa04984db6e9d3c55"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NzUzNjkwOnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/nightmarezone/NightmareZonePlugin.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwNDoxODowOFrOHVAS3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxNjo0Mjo0OFrOHjecIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc4Njk3NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\tif (overloadNotificationSend)\n          \n          \n            \n            \t\t\t{\n          \n          \n            \n            \t\t\t\toverloadNotificationSend = false;\n          \n          \n            \n            \t\t\t}\n          \n          \n            \n            \t\t\toverloadNotificationSend = false;", "url": "https://github.com/runelite/runelite/pull/12517#discussion_r491786975", "createdAt": "2020-09-21T04:18:08Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/nightmarezone/NightmareZonePlugin.java", "diffHunk": "@@ -135,6 +135,11 @@ public void onGameTick(GameTick event)\n \t\t\t\tresetPointsPerHour();\n \t\t\t}\n \n+\t\t\tif (overloadNotificationSend)\n+\t\t\t{\n+\t\t\t\toverloadNotificationSend = false;\n+\t\t\t}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1258d35688c525fbbc1474683a61eb4271990b2d"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTgyNTMzOA==", "bodyText": "I was thinking of doing it this way, but decided to imitate how absorptionNotificationSend is handled.\nif (!absorptionNotificationSend)\n{\n\tabsorptionNotificationSend = true;\n}\n\nShould we change that block of code to just absorptionNotificationSend = true along with overloadNotificationSend = false?", "url": "https://github.com/runelite/runelite/pull/12517#discussion_r491825338", "createdAt": "2020-09-21T06:56:37Z", "author": {"login": "spatiag"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/nightmarezone/NightmareZonePlugin.java", "diffHunk": "@@ -135,6 +135,11 @@ public void onGameTick(GameTick event)\n \t\t\t\tresetPointsPerHour();\n \t\t\t}\n \n+\t\t\tif (overloadNotificationSend)\n+\t\t\t{\n+\t\t\t\toverloadNotificationSend = false;\n+\t\t\t}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc4Njk3NQ=="}, "originalCommit": {"oid": "1258d35688c525fbbc1474683a61eb4271990b2d"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTg5NjAwNg==", "bodyText": "I'm not really sure why it was written as it is, but leave it be. This, however, should not be written the same way since it makes no sense.", "url": "https://github.com/runelite/runelite/pull/12517#discussion_r499896006", "createdAt": "2020-10-05T21:59:37Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/nightmarezone/NightmareZonePlugin.java", "diffHunk": "@@ -135,6 +135,11 @@ public void onGameTick(GameTick event)\n \t\t\t\tresetPointsPerHour();\n \t\t\t}\n \n+\t\t\tif (overloadNotificationSend)\n+\t\t\t{\n+\t\t\t\toverloadNotificationSend = false;\n+\t\t\t}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc4Njk3NQ=="}, "originalCommit": {"oid": "1258d35688c525fbbc1474683a61eb4271990b2d"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk2MDkzMQ==", "bodyText": "I've also noticed absorptionNotificationSend = true is missing from startUp()", "url": "https://github.com/runelite/runelite/pull/12517#discussion_r506960931", "createdAt": "2020-10-17T16:42:48Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/nightmarezone/NightmareZonePlugin.java", "diffHunk": "@@ -135,6 +135,11 @@ public void onGameTick(GameTick event)\n \t\t\t\tresetPointsPerHour();\n \t\t\t}\n \n+\t\t\tif (overloadNotificationSend)\n+\t\t\t{\n+\t\t\t\toverloadNotificationSend = false;\n+\t\t\t}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTc4Njk3NQ=="}, "originalCommit": {"oid": "1258d35688c525fbbc1474683a61eb4271990b2d"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE3NTQzNTMyOnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/timers/TimersPlugin.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxNjozOTozN1rOHjeazg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xN1QxNjozOTozN1rOHjeazg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjk2MDU5MA==", "bodyText": "The timer removal only has to be in LOADING I think.", "url": "https://github.com/runelite/runelite/pull/12517#discussion_r506960590", "createdAt": "2020-10-17T16:39:37Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/timers/TimersPlugin.java", "diffHunk": "@@ -800,6 +823,7 @@ public void onGameStateChanged(GameStateChanged gameStateChanged)\n \n \t\t\t\tremoveTzhaarTimer(); // will be readded by the wave message\n \t\t\t\tremoveGameTimer(TELEBLOCK);\n+\t\t\t\tremoveNMZOverloadTimer();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f9feabc098f6be30f1cedd0a818dbdf09dabcc35"}, "originalPosition": 80}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3290, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}