{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ1MDM1NjUw", "number": 12971, "title": "discord: add main menu status option", "bodyText": "Closes #12940\nWhen the client starts up, there is still around ~15 seconds where it will show the status as \"In Menu\". Afterwards it will go away. I'm not sure how to solve this as it doesn't seem to be related to the startup of the discord plugin. Turning the plugin on and off does not reproduce this behavior. It is only on client startup.", "createdAt": "2020-12-23T21:24:52Z", "url": "https://github.com/runelite/runelite/pull/12971", "merged": true, "mergeCommit": {"oid": "7054d83e16c62d7d52b19609fad5d4e09c491a45"}, "closed": true, "closedAt": "2021-02-27T17:00:00Z", "author": {"login": "dillydill123"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdpF3EGAH2gAyNTQ1MDM1NjUwOjZiZTZmYWJjYjI4Y2EzNDQ0YjMyNDM5NzMyMzQ5ZTE3YmFiMDg1NTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABd2uLncAH2gAyNTQ1MDM1NjUwOjRlZTYzNDkzZGEwOGVmODdhODg2ZjZkOTgwNjllMjg4ZTY1N2E4ZjM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6be6fabcb28ca3444b32439732349e17bab08554", "author": {"user": null}, "url": "https://github.com/runelite/runelite/commit/6be6fabcb28ca3444b32439732349e17bab08554", "committedDate": "2020-12-23T21:17:48Z", "message": "discord: add main menu status option"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff958884852086a8ea12f5d59b59243e28b5327e", "author": {"user": null}, "url": "https://github.com/runelite/runelite/commit/ff958884852086a8ea12f5d59b59243e28b5327e", "committedDate": "2020-12-23T21:45:14Z", "message": "discord: fix issue when status is unintentionally shown on client startup"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ae918404d13a7463f4ea5f5978fd4b16f58b897a", "author": {"user": null}, "url": "https://github.com/runelite/runelite/commit/ae918404d13a7463f4ea5f5978fd4b16f58b897a", "committedDate": "2020-12-23T21:34:08Z", "message": "discord: fix issue when status is unintentionally shown on client startup"}, "afterCommit": {"oid": "ff958884852086a8ea12f5d59b59243e28b5327e", "author": {"user": null}, "url": "https://github.com/runelite/runelite/commit/ff958884852086a8ea12f5d59b59243e28b5327e", "committedDate": "2020-12-23T21:45:14Z", "message": "discord: fix issue when status is unintentionally shown on client startup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTgyODM5ODQw", "url": "https://github.com/runelite/runelite/pull/12971#pullrequestreview-582839840", "createdAt": "2021-02-03T21:57:57Z", "commit": {"oid": "ff958884852086a8ea12f5d59b59243e28b5327e"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wM1QyMTo1Nzo1OFrOIfYjUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wM1QyMTo1ODoxMFrOIfYj0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2OTc3OTAyNw==", "bodyText": "Just call client.getGameState() once and then use it here + also down below.", "url": "https://github.com/runelite/runelite/pull/12971#discussion_r569779027", "createdAt": "2021-02-03T21:57:58Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/discord/DiscordPlugin.java", "diffHunk": "@@ -372,6 +372,12 @@ private void resetState()\n \n \tprivate void checkForGameStateUpdate()\n \t{\n+\t\tif (!config.showMainMenu() && client.getGameState() != GameState.LOGGED_IN)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ff958884852086a8ea12f5d59b59243e28b5327e"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU2OTc3OTE1NA==", "bodyText": "Fix the indenting here.", "url": "https://github.com/runelite/runelite/pull/12971#discussion_r569779154", "createdAt": "2021-02-03T21:58:10Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/discord/DiscordConfig.java", "diffHunk": "@@ -72,11 +72,22 @@ default int actionTimeout()\n \t\treturn 5;\n \t}\n \n+\t@ConfigItem(\n+\t\t\tkeyName = \"showMainMenu\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ff958884852086a8ea12f5d59b59243e28b5327e"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "022877505c5547a9a9098b0d1f0139632fbb50a6", "author": {"user": null}, "url": "https://github.com/runelite/runelite/commit/022877505c5547a9a9098b0d1f0139632fbb50a6", "committedDate": "2021-02-03T22:40:25Z", "message": "Merge branch 'master' of https://github.com/runelite/runelite into discordplugin-main-menu-config-option"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c8986128db7b36e6cadce9fb0ef12bf46f320b0", "author": {"user": null}, "url": "https://github.com/runelite/runelite/commit/8c8986128db7b36e6cadce9fb0ef12bf46f320b0", "committedDate": "2021-02-04T05:36:26Z", "message": "discord: fix indentation in config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ee63493da08ef87a886f6d98069e288e657a8f3", "author": {"user": null}, "url": "https://github.com/runelite/runelite/commit/4ee63493da08ef87a886f6d98069e288e657a8f3", "committedDate": "2021-02-04T05:37:28Z", "message": "discord: remove duplicate call to reset game state if in main menu and option to show status is false"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3016, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}