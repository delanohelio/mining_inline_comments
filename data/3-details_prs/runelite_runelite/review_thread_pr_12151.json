{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ5MjMwODg5", "number": 12151, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMjo0OTo1N1rOEPVRIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQxODowNzo0MVrOER6yUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NTEyNTQ1OnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/screenmarkers/ScreenMarkerPlugin.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMjo0OTo1N1rOGy_amg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQwNzo0NToxNlrOG0sFuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEyMDk4Ng==", "bodyText": "This should just be checked in Overlay class (for example override setPrefferedSize there and check it also there)", "url": "https://github.com/runelite/runelite/pull/12151#discussion_r456120986", "createdAt": "2020-07-16T22:49:57Z", "author": {"login": "deathbeam"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/screenmarkers/ScreenMarkerPlugin.java", "diffHunk": "@@ -216,6 +216,11 @@ public void finishCreation(boolean aborted)\n \t\t{\n \t\t\tfinal ScreenMarkerOverlay screenMarkerOverlay = new ScreenMarkerOverlay(marker);\n \t\t\tscreenMarkerOverlay.setPreferredLocation(overlay.getBounds().getLocation());\n+\n+\t\t\t// Ensure created overlay is of at least minimum width/height\n+\t\t\tfinal Rectangle markerBounds = overlay.getBounds();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da9bb49d91357f828e320a645ec45b529891a280"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzkwMTQ5Ng==", "bodyText": "I agree this is a better approach. For the time being, I'm having some trouble with some edge cases around the screen marker plugin specifically, so I'm removing these changes from this PR while I adjust it so the resizing logic fix can be considered on its own.", "url": "https://github.com/runelite/runelite/pull/12151#discussion_r457901496", "createdAt": "2020-07-21T07:45:16Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/screenmarkers/ScreenMarkerPlugin.java", "diffHunk": "@@ -216,6 +216,11 @@ public void finishCreation(boolean aborted)\n \t\t{\n \t\t\tfinal ScreenMarkerOverlay screenMarkerOverlay = new ScreenMarkerOverlay(marker);\n \t\t\tscreenMarkerOverlay.setPreferredLocation(overlay.getBounds().getLocation());\n+\n+\t\t\t// Ensure created overlay is of at least minimum width/height\n+\t\t\tfinal Rectangle markerBounds = overlay.getBounds();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEyMDk4Ng=="}, "originalCommit": {"oid": "da9bb49d91357f828e320a645ec45b529891a280"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg0NTEzMTM5OnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/screenmarkers/ScreenMarkerOverlay.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQyMjo1MjoyOFrOGy_eAg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xN1QyMDozMzo1NFrOGzgZ7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEyMTg1OA==", "bodyText": "Why is allowing smaller minimum size useful?", "url": "https://github.com/runelite/runelite/pull/12151#discussion_r456121858", "createdAt": "2020-07-16T22:52:28Z", "author": {"login": "deathbeam"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/screenmarkers/ScreenMarkerOverlay.java", "diffHunk": "@@ -49,6 +50,7 @@\n \t\tsetLayer(OverlayLayer.ALWAYS_ON_TOP);\n \t\tsetPriority(OverlayPriority.HIGH);\n \t\tsetResizable(true);\n+\t\tsetMinimumSize(new Dimension(OverlayRenderer.OVERLAY_RESIZE_TOLERANCE * 2 + 1, OverlayRenderer.OVERLAY_RESIZE_TOLERANCE * 2 + 1));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da9bb49d91357f828e320a645ec45b529891a280"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEyNTY3NA==", "bodyText": "This particular change is in response to a user finding that resizing a marker they placed over a spell widget, which is notably smaller than 32x32, caused it to grow much larger and they could not resize it back to its original size.", "url": "https://github.com/runelite/runelite/pull/12151#discussion_r456125674", "createdAt": "2020-07-16T23:03:59Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/screenmarkers/ScreenMarkerOverlay.java", "diffHunk": "@@ -49,6 +50,7 @@\n \t\tsetLayer(OverlayLayer.ALWAYS_ON_TOP);\n \t\tsetPriority(OverlayPriority.HIGH);\n \t\tsetResizable(true);\n+\t\tsetMinimumSize(new Dimension(OverlayRenderer.OVERLAY_RESIZE_TOLERANCE * 2 + 1, OverlayRenderer.OVERLAY_RESIZE_TOLERANCE * 2 + 1));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEyMTg1OA=="}, "originalCommit": {"oid": "da9bb49d91357f828e320a645ec45b529891a280"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjY2MTQ4NA==", "bodyText": "I see, makes sense", "url": "https://github.com/runelite/runelite/pull/12151#discussion_r456661484", "createdAt": "2020-07-17T20:33:54Z", "author": {"login": "deathbeam"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/screenmarkers/ScreenMarkerOverlay.java", "diffHunk": "@@ -49,6 +50,7 @@\n \t\tsetLayer(OverlayLayer.ALWAYS_ON_TOP);\n \t\tsetPriority(OverlayPriority.HIGH);\n \t\tsetResizable(true);\n+\t\tsetMinimumSize(new Dimension(OverlayRenderer.OVERLAY_RESIZE_TOLERANCE * 2 + 1, OverlayRenderer.OVERLAY_RESIZE_TOLERANCE * 2 + 1));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NjEyMTg1OA=="}, "originalCommit": {"oid": "da9bb49d91357f828e320a645ec45b529891a280"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3MjI0NDAzOnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/ui/overlay/OverlayRenderer.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQxODowNzo0MVrOG24_Yw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNFQxODowNzo0MVrOG24_Yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDIxMDAxOQ==", "bodyText": "Double space", "url": "https://github.com/runelite/runelite/pull/12151#discussion_r460210019", "createdAt": "2020-07-24T18:07:41Z", "author": {"login": "deathbeam"}, "path": "runelite-client/src/main/java/net/runelite/client/ui/overlay/OverlayRenderer.java", "diffHunk": "@@ -460,53 +460,83 @@ public MouseEvent mouseDragged(MouseEvent mouseEvent)\n \n \t\tif (inOverlayResizingMode)\n \t\t{\n-\t\t\tfinal Rectangle r = currentManagedBounds;\n+\t\t\tfinal int left = p.x - currentManagedBounds.x; // Distance (in pixels) from the left edge of the bounds\n+\t\t\tfinal int top = p.y - currentManagedBounds.y;  // Distance (in pixels) from the top edge of the bounds\n+\t\t\tfinal int originalX = currentManagedBounds.x;\n+\t\t\tfinal int originalY = currentManagedBounds.y;\n+\t\t\tint x = originalX;\n+\t\t\tint y = originalY;\n+\t\t\tint width = currentManagedBounds.width;\n+\t\t\tint height = currentManagedBounds.height;\n \n-\t\t\tfinal int dx = p.x - r.x;\n-\t\t\tfinal int dy = p.y - r.y;\n \t\t\tswitch (clientUI.getCurrentCursor().getType())\n \t\t\t{\n \t\t\t\tcase Cursor.N_RESIZE_CURSOR:\n-\t\t\t\t\tint height = r.height - dy;\n-\t\t\t\t\tr.setRect(r.x, r.y + dy, r.width, height);\n+\t\t\t\t\ty += top;\n+\t\t\t\t\theight -=  top;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "17120b9fb9f545f98c41c1bc7598eb842f6b43c9"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3435, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}