{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzMjE2MjMx", "number": 11063, "title": "music, camera: volume & zoom slider tooltips", "bodyText": "This PR adds the following tooltips to the option sliders for the music and camera plugins:\n \nThis PR also adds transparency to the music slider buttons when dragging, which mimics the behaviour of the zoom slider in the official client.\nEdit: This feature is no longer a part of this PR.\nCloses #11056 (minus the request for a tooltip for the brightness slider, which only has 4 states anyway).", "createdAt": "2020-03-24T19:34:13Z", "url": "https://github.com/runelite/runelite/pull/11063", "merged": true, "mergeCommit": {"oid": "54283b9a805fe0de33b8cb01953161adbb3b4285"}, "closed": true, "closedAt": "2020-04-06T10:36:52Z", "author": {"login": "seandewar"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQ-ZJTgFqTM4MDgyNDM0Mw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcUg8z0gBqjMyMDA4MjE1OTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwODI0MzQz", "url": "https://github.com/runelite/runelite/pull/11063#pullrequestreview-380824343", "createdAt": "2020-03-25T02:39:20Z", "commit": {"oid": "2375ec23fddd93dd2755335fcb6ad4d26826eee3"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwMjozOToyMFrOF7KMBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwMjo0OTozNVrOF7KWhw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU3NzIyMA==", "bodyText": "In what case is the slider handle nonnull and visible with x <= 0?", "url": "https://github.com/runelite/runelite/pull/11063#discussion_r397577220", "createdAt": "2020-03-25T02:39:20Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/music/MusicOverlay.java", "diffHunk": "@@ -0,0 +1,90 @@\n+/*\n+ * Copyright (c) 2020, Sean Dewar <https://github.com/seandewar>\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright notice, this\n+ *    list of conditions and the following disclaimer.\n+ * 2. Redistributions in binary form must reproduce the above copyright notice,\n+ *    this list of conditions and the following disclaimer in the documentation\n+ *    and/or other materials provided with the distribution.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n+ * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n+ * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n+ * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+ * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ */\n+package net.runelite.client.plugins.music;\n+\n+import java.awt.Dimension;\n+import java.awt.Graphics2D;\n+import java.awt.Rectangle;\n+import javax.inject.Inject;\n+import net.runelite.api.Client;\n+import net.runelite.api.Point;\n+import net.runelite.client.ui.overlay.Overlay;\n+import net.runelite.client.ui.overlay.OverlayLayer;\n+import net.runelite.client.ui.overlay.OverlayPosition;\n+import net.runelite.client.ui.overlay.tooltip.Tooltip;\n+import net.runelite.client.ui.overlay.tooltip.TooltipManager;\n+\n+class MusicOverlay extends Overlay\n+{\n+\tprivate final MusicConfig config;\n+\tprivate final Client client;\n+\tprivate final TooltipManager tooltipManager;\n+\n+\t@Inject\n+\tprivate MusicOverlay(final MusicConfig config, final Client client, final TooltipManager tooltipManager)\n+\t{\n+\t\tthis.config = config;\n+\t\tthis.client = client;\n+\t\tthis.tooltipManager = tooltipManager;\n+\t\tsetPosition(OverlayPosition.DYNAMIC);\n+\t\tsetLayer(OverlayLayer.ABOVE_WIDGETS);\n+\t}\n+\n+\t@Override\n+\tpublic Dimension render(final Graphics2D graphics)\n+\t{\n+\t\tfor (MusicPlugin.MusicSlider slider : MusicPlugin.MusicSlider.values())\n+\t\t{\n+\t\t\tif (slider.getHandle() == null || slider.getHandle().isHidden())\n+\t\t\t{\n+\t\t\t\treturn null;\n+\t\t\t}\n+\n+\t\t\tfinal Rectangle bounds = slider.getHandle().getBounds();\n+\n+\t\t\tif (bounds.getX() <= 0)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2375ec23fddd93dd2755335fcb6ad4d26826eee3"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU3OTUwNw==", "bodyText": "What are these? Why is only one of them used? What are the expected values?", "url": "https://github.com/runelite/runelite/pull/11063#discussion_r397579507", "createdAt": "2020-03-25T02:48:10Z", "author": {"login": "Nightfirecat"}, "path": "runelite-api/src/main/java/net/runelite/api/VarClientInt.java", "diffHunk": "@@ -52,6 +52,9 @@\n \t */\n \tINPUT_TYPE(5),\n \n+\tCAMERA_ZOOM_1(73),\n+\tCAMERA_ZOOM_2(74),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5a870f16fdf64246f4e27cc5910dbd0a1870778"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU3OTcyNA==", "bodyText": "OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE would be more in line with how we describe slider handles in, say, the music plugin.", "url": "https://github.com/runelite/runelite/pull/11063#discussion_r397579724", "createdAt": "2020-03-25T02:48:55Z", "author": {"login": "Nightfirecat"}, "path": "runelite-api/src/main/java/net/runelite/api/widgets/WidgetInfo.java", "diffHunk": "@@ -523,6 +523,7 @@\n \tSEED_VAULT_ITEM_TEXT(WidgetID.SEED_VAULT_GROUP_ID, WidgetID.SeedVault.ITEM_TEXT),\n \tSEED_VAULT_INVENTORY_ITEMS_CONTAINER(WidgetID.SEED_VAULT_INVENTORY_GROUP_ID, WidgetID.SeedVault.INVENTORY_ITEM_CONTAINER),\n \n+\tOPTIONS_CAMERA_ZOOM_SLIDER_BUTTON(WidgetID.OPTIONS_GROUP_ID, WidgetID.Options.CAMERA_ZOOM_SLIDER_BUTTON),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5a870f16fdf64246f4e27cc5910dbd0a1870778"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU3OTkxMQ==", "bodyText": "Same question here: when is this condition ever true?", "url": "https://github.com/runelite/runelite/pull/11063#discussion_r397579911", "createdAt": "2020-03-25T02:49:35Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/camera/CameraOverlay.java", "diffHunk": "@@ -0,0 +1,93 @@\n+/*\n+ * Copyright (c) 2020, Sean Dewar <https://github.com/seandewar>\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright notice, this\n+ *    list of conditions and the following disclaimer.\n+ * 2. Redistributions in binary form must reproduce the above copyright notice,\n+ *    this list of conditions and the following disclaimer in the documentation\n+ *    and/or other materials provided with the distribution.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n+ * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n+ * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n+ * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+ * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ */\n+package net.runelite.client.plugins.camera;\n+\n+import java.awt.Dimension;\n+import java.awt.Graphics2D;\n+import java.awt.Rectangle;\n+import javax.inject.Inject;\n+import net.runelite.api.Client;\n+import net.runelite.api.Constants;\n+import net.runelite.api.Point;\n+import net.runelite.api.VarClientInt;\n+import net.runelite.api.widgets.Widget;\n+import net.runelite.api.widgets.WidgetInfo;\n+import net.runelite.client.ui.overlay.Overlay;\n+import net.runelite.client.ui.overlay.OverlayLayer;\n+import net.runelite.client.ui.overlay.OverlayPosition;\n+import net.runelite.client.ui.overlay.tooltip.Tooltip;\n+import net.runelite.client.ui.overlay.tooltip.TooltipManager;\n+\n+class CameraOverlay extends Overlay\n+{\n+\tprivate final CameraConfig config;\n+\tprivate final Client client;\n+\tprivate final TooltipManager tooltipManager;\n+\n+\t@Inject\n+\tprivate CameraOverlay(final CameraConfig config, final Client client, final TooltipManager tooltipManager)\n+\t{\n+\t\tthis.config = config;\n+\t\tthis.client = client;\n+\t\tthis.tooltipManager = tooltipManager;\n+\t\tsetPosition(OverlayPosition.DYNAMIC);\n+\t\tsetLayer(OverlayLayer.ABOVE_WIDGETS);\n+\t}\n+\n+\t@Override\n+\tpublic Dimension render(final Graphics2D graphics)\n+\t{\n+\t\tfinal Widget slider = client.getWidget(WidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_BUTTON);\n+\n+\t\tif (slider == null || slider.isHidden())\n+\t\t{\n+\t\t\treturn null;\n+\t\t}\n+\n+\t\tfinal Rectangle bounds = slider.getBounds();\n+\n+\t\tif (bounds.getX() <= 0)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5a870f16fdf64246f4e27cc5910dbd0a1870778"}, "originalPosition": 71}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwODM2NjMy", "url": "https://github.com/runelite/runelite/pull/11063#pullrequestreview-380836632", "createdAt": "2020-03-25T03:23:58Z", "commit": {"oid": "2375ec23fddd93dd2755335fcb6ad4d26826eee3"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwMzoyMzo1OFrOF7K5vA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNVQwNDowMjoyNVrOF7LcPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU4ODkyNA==", "bodyText": "revert this", "url": "https://github.com/runelite/runelite/pull/11063#discussion_r397588924", "createdAt": "2020-03-25T03:23:58Z", "author": {"login": "abextm"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/music/MusicPlugin.java", "diffHunk": "@@ -439,7 +465,7 @@ private void teardownMusicOptions()\n \t\t\t\tObject[] init = icon.getOnLoadListener();\n \t\t\t\tinit[1] = slider.getWidgetID().getId();\n \n-\t\t\t\t// Readd the var transmit triggers and rerun options_allsounds\n+\t\t\t\t// Read the var transmit triggers and rerun options_allsounds", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2375ec23fddd93dd2755335fcb6ad4d26826eee3"}, "originalPosition": 104}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU4OTUyNQ==", "bodyText": "this is the wrong event and should be in a separate commit&pr", "url": "https://github.com/runelite/runelite/pull/11063#discussion_r397589525", "createdAt": "2020-03-25T03:26:25Z", "author": {"login": "abextm"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/music/MusicPlugin.java", "diffHunk": "@@ -511,46 +537,44 @@ private void updateMusicOptions()\n \t\t\t\thandle.setOriginalHeight(16);\n \t\t\t\thandle.setClickMask(WidgetConfig.DRAG);\n \n-\t\t\t\tJavaScriptCallback move = ev ->\n-\t\t\t\t{\n-\t\t\t\t\tint newVal = ((ev.getMouseX() - MusicSlider.PADDING - (slider.getHandle().getWidth() / 2)) * slider.getMax())\n-\t\t\t\t\t\t/ slider.getWidth();\n-\t\t\t\t\tif (newVal < 0)\n-\t\t\t\t\t{\n-\t\t\t\t\t\tnewVal = 0;\n-\t\t\t\t\t}\n-\t\t\t\t\tif (newVal > slider.getMax())\n-\t\t\t\t\t{\n-\t\t\t\t\t\tnewVal = slider.getMax();\n-\t\t\t\t\t}\n-\n-\t\t\t\t\t// We store +1 so we can tell the difference between 0 and muted\n-\t\t\t\t\tslider.getSetter().accept(musicConfig, newVal + 1);\n-\t\t\t\t\tapplyMusicVolumeConfig();\n-\t\t\t\t};\n-\n-\t\t\t\ttrack.setOnClickListener(move);\n-\t\t\t\ttrack.setOnHoldListener(move);\n-\t\t\t\ttrack.setOnReleaseListener(move);\n+\t\t\t\ttrack.setOnClickListener((JavaScriptCallback) ev -> onSliderMouseMove(ev, slider, false));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2375ec23fddd93dd2755335fcb6ad4d26826eee3"}, "originalPosition": 133}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU4OTc0Mw==", "bodyText": "This should probably be moved into it's own class", "url": "https://github.com/runelite/runelite/pull/11063#discussion_r397589743", "createdAt": "2020-03-25T03:27:13Z", "author": {"login": "abextm"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/music/MusicPlugin.java", "diffHunk": "@@ -374,12 +387,13 @@ private void updateList(Widget musicList, String filter)\n \n \t@RequiredArgsConstructor\n \t@Getter\n-\tprivate enum MusicSlider\n+\tpublic enum MusicSlider", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2375ec23fddd93dd2755335fcb6ad4d26826eee3"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU4OTc3MA==", "bodyText": "wrong thread", "url": "https://github.com/runelite/runelite/pull/11063#discussion_r397589770", "createdAt": "2020-03-25T03:27:24Z", "author": {"login": "abextm"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/music/MusicPlugin.java", "diffHunk": "@@ -111,6 +122,7 @@ protected void startUp()\n \t\t\taddMusicButtons();\n \t\t\tapplyMusicVolumeConfig();\n \t\t\tupdateMusicOptions();\n+\t\t\toverlayManager.add(musicOverlay);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2375ec23fddd93dd2755335fcb6ad4d26826eee3"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzU5Nzc1Nw==", "bodyText": "You can just use string concatenation here. it will generate the same code in this case", "url": "https://github.com/runelite/runelite/pull/11063#discussion_r397597757", "createdAt": "2020-03-25T04:02:25Z", "author": {"login": "abextm"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/camera/CameraOverlay.java", "diffHunk": "@@ -0,0 +1,93 @@\n+/*\n+ * Copyright (c) 2020, Sean Dewar <https://github.com/seandewar>\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright notice, this\n+ *    list of conditions and the following disclaimer.\n+ * 2. Redistributions in binary form must reproduce the above copyright notice,\n+ *    this list of conditions and the following disclaimer in the documentation\n+ *    and/or other materials provided with the distribution.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n+ * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n+ * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n+ * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+ * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ */\n+package net.runelite.client.plugins.camera;\n+\n+import java.awt.Dimension;\n+import java.awt.Graphics2D;\n+import java.awt.Rectangle;\n+import javax.inject.Inject;\n+import net.runelite.api.Client;\n+import net.runelite.api.Constants;\n+import net.runelite.api.Point;\n+import net.runelite.api.VarClientInt;\n+import net.runelite.api.widgets.Widget;\n+import net.runelite.api.widgets.WidgetInfo;\n+import net.runelite.client.ui.overlay.Overlay;\n+import net.runelite.client.ui.overlay.OverlayLayer;\n+import net.runelite.client.ui.overlay.OverlayPosition;\n+import net.runelite.client.ui.overlay.tooltip.Tooltip;\n+import net.runelite.client.ui.overlay.tooltip.TooltipManager;\n+\n+class CameraOverlay extends Overlay\n+{\n+\tprivate final CameraConfig config;\n+\tprivate final Client client;\n+\tprivate final TooltipManager tooltipManager;\n+\n+\t@Inject\n+\tprivate CameraOverlay(final CameraConfig config, final Client client, final TooltipManager tooltipManager)\n+\t{\n+\t\tthis.config = config;\n+\t\tthis.client = client;\n+\t\tthis.tooltipManager = tooltipManager;\n+\t\tsetPosition(OverlayPosition.DYNAMIC);\n+\t\tsetLayer(OverlayLayer.ABOVE_WIDGETS);\n+\t}\n+\n+\t@Override\n+\tpublic Dimension render(final Graphics2D graphics)\n+\t{\n+\t\tfinal Widget slider = client.getWidget(WidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_BUTTON);\n+\n+\t\tif (slider == null || slider.isHidden())\n+\t\t{\n+\t\t\treturn null;\n+\t\t}\n+\n+\t\tfinal Rectangle bounds = slider.getBounds();\n+\n+\t\tif (bounds.getX() <= 0)\n+\t\t{\n+\t\t\treturn null;\n+\t\t}\n+\n+\t\tfinal Point mousePosition = client.getMouseCanvasPosition();\n+\n+\t\tif (bounds.contains(mousePosition.getX(), mousePosition.getY()))\n+\t\t{\n+\t\t\tfinal int value = client.getVar(VarClientInt.CAMERA_ZOOM_1);\n+\t\t\tfinal int max = config.innerLimit() ? config.INNER_ZOOM_LIMIT : Constants.CLIENT_DEFAULT_INNER_ZOOM_LIMIT;\n+\n+\t\t\tfinal StringBuilder sb = new StringBuilder(\"Camera Zoom: \");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c5a870f16fdf64246f4e27cc5910dbd0a1870778"}, "originalPosition": 83}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c5a870f16fdf64246f4e27cc5910dbd0a1870778", "author": {"user": {"login": "seandewar", "name": "Sean Dewar"}}, "url": "https://github.com/runelite/runelite/commit/c5a870f16fdf64246f4e27cc5910dbd0a1870778", "committedDate": "2020-03-24T19:22:24Z", "message": "camera: zoom slider tooltip & zoom constants\n\nThis commit also adds constants for:\n\nConstants.CLIENT_DEFAULT_INNER_ZOOM_LIMIT = 896\nConstants.CLIENT_DEFAULT_OUTER_ZOOM_LIMIT = 128\n\nVarClientInt.CAMERA_ZOOM_1 = 73\nVarClientInt.CAMERA_ZOOM_2 = 74\n\nWidgetID.Options.CAMERA_ZOOM_SLIDER_BUTTON = 15\nWidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_BUTTON"}, "afterCommit": {"oid": "b6dc6163db3c2293f6dac32cb01d769f916c8b3c", "author": {"user": {"login": "seandewar", "name": "Sean Dewar"}}, "url": "https://github.com/runelite/runelite/commit/b6dc6163db3c2293f6dac32cb01d769f916c8b3c", "committedDate": "2020-03-25T17:25:47Z", "message": "[WIP] camera: zoom slider tooltip & zoom constants\n\nThis commit also adds constants for:\n\nConstants.CLIENT_DEFAULT_INNER_ZOOM_LIMIT = 896\nConstants.CLIENT_DEFAULT_OUTER_ZOOM_LIMIT = 128\n\nVarClientInt.CAMERA_ZOOM_FIXED_VIEWPORT = 73\nVarClientInt.CAMERA_ZOOM_RESIZABLE_VIEWPORT = 74\n\nWidgetID.Options.CAMERA_ZOOM_SLIDER_HANDLE = 15\nWidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b6dc6163db3c2293f6dac32cb01d769f916c8b3c", "author": {"user": {"login": "seandewar", "name": "Sean Dewar"}}, "url": "https://github.com/runelite/runelite/commit/b6dc6163db3c2293f6dac32cb01d769f916c8b3c", "committedDate": "2020-03-25T17:25:47Z", "message": "[WIP] camera: zoom slider tooltip & zoom constants\n\nThis commit also adds constants for:\n\nConstants.CLIENT_DEFAULT_INNER_ZOOM_LIMIT = 896\nConstants.CLIENT_DEFAULT_OUTER_ZOOM_LIMIT = 128\n\nVarClientInt.CAMERA_ZOOM_FIXED_VIEWPORT = 73\nVarClientInt.CAMERA_ZOOM_RESIZABLE_VIEWPORT = 74\n\nWidgetID.Options.CAMERA_ZOOM_SLIDER_HANDLE = 15\nWidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE"}, "afterCommit": {"oid": "3b046fa4a5c2281d78ed4c35ed072406c1ffb229", "author": {"user": {"login": "seandewar", "name": "Sean Dewar"}}, "url": "https://github.com/runelite/runelite/commit/3b046fa4a5c2281d78ed4c35ed072406c1ffb229", "committedDate": "2020-03-25T18:12:33Z", "message": "[WIP] camera: zoom slider tooltip & zoom constants\n\nThis commit also adds constants for:\n\nConstants.CLIENT_DEFAULT_INNER_ZOOM_LIMIT = 896\nConstants.CLIENT_DEFAULT_OUTER_ZOOM_LIMIT = 128\n\nVarClientInt.CAMERA_ZOOM_FIXED_VIEWPORT = 73\nVarClientInt.CAMERA_ZOOM_RESIZABLE_VIEWPORT = 74\n\nWidgetID.Options.CAMERA_ZOOM_SLIDER_HANDLE = 15\nWidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3b046fa4a5c2281d78ed4c35ed072406c1ffb229", "author": {"user": {"login": "seandewar", "name": "Sean Dewar"}}, "url": "https://github.com/runelite/runelite/commit/3b046fa4a5c2281d78ed4c35ed072406c1ffb229", "committedDate": "2020-03-25T18:12:33Z", "message": "[WIP] camera: zoom slider tooltip & zoom constants\n\nThis commit also adds constants for:\n\nConstants.CLIENT_DEFAULT_INNER_ZOOM_LIMIT = 896\nConstants.CLIENT_DEFAULT_OUTER_ZOOM_LIMIT = 128\n\nVarClientInt.CAMERA_ZOOM_FIXED_VIEWPORT = 73\nVarClientInt.CAMERA_ZOOM_RESIZABLE_VIEWPORT = 74\n\nWidgetID.Options.CAMERA_ZOOM_SLIDER_HANDLE = 15\nWidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE"}, "afterCommit": {"oid": "af2e0f6a66e60cef343f1eda1692c224269d9fdd", "author": {"user": {"login": "seandewar", "name": "Sean Dewar"}}, "url": "https://github.com/runelite/runelite/commit/af2e0f6a66e60cef343f1eda1692c224269d9fdd", "committedDate": "2020-03-25T18:15:55Z", "message": "[WIP] camera: zoom slider tooltip & zoom constants\n\nThis commit also adds constants for:\n\nConstants.CLIENT_DEFAULT_INNER_ZOOM_LIMIT = 896\nConstants.CLIENT_DEFAULT_OUTER_ZOOM_LIMIT = 128\n\nVarClientInt.CAMERA_ZOOM_FIXED_VIEWPORT = 73\nVarClientInt.CAMERA_ZOOM_RESIZABLE_VIEWPORT = 74\n\nWidgetID.Options.CAMERA_ZOOM_SLIDER_HANDLE = 15\nWidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "af2e0f6a66e60cef343f1eda1692c224269d9fdd", "author": {"user": {"login": "seandewar", "name": "Sean Dewar"}}, "url": "https://github.com/runelite/runelite/commit/af2e0f6a66e60cef343f1eda1692c224269d9fdd", "committedDate": "2020-03-25T18:15:55Z", "message": "[WIP] camera: zoom slider tooltip & zoom constants\n\nThis commit also adds constants for:\n\nConstants.CLIENT_DEFAULT_INNER_ZOOM_LIMIT = 896\nConstants.CLIENT_DEFAULT_OUTER_ZOOM_LIMIT = 128\n\nVarClientInt.CAMERA_ZOOM_FIXED_VIEWPORT = 73\nVarClientInt.CAMERA_ZOOM_RESIZABLE_VIEWPORT = 74\n\nWidgetID.Options.CAMERA_ZOOM_SLIDER_HANDLE = 15\nWidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE"}, "afterCommit": {"oid": "890a39e6b611aa2df85540d0cbe5de173e1324a8", "author": {"user": {"login": "seandewar", "name": "Sean Dewar"}}, "url": "https://github.com/runelite/runelite/commit/890a39e6b611aa2df85540d0cbe5de173e1324a8", "committedDate": "2020-03-25T20:32:08Z", "message": "[WIP] camera: zoom slider tooltip & zoom constants\n\nThis commit also adds constants for:\n\nConstants.CLIENT_DEFAULT_INNER_ZOOM_LIMIT = 896\nConstants.CLIENT_DEFAULT_OUTER_ZOOM_LIMIT = 128\n\nVarClientInt.CAMERA_ZOOM_FIXED_VIEWPORT = 73\nVarClientInt.CAMERA_ZOOM_RESIZABLE_VIEWPORT = 74\n\nWidgetID.Options.CAMERA_ZOOM_SLIDER_HANDLE = 15\nWidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "890a39e6b611aa2df85540d0cbe5de173e1324a8", "author": {"user": {"login": "seandewar", "name": "Sean Dewar"}}, "url": "https://github.com/runelite/runelite/commit/890a39e6b611aa2df85540d0cbe5de173e1324a8", "committedDate": "2020-03-25T20:32:08Z", "message": "[WIP] camera: zoom slider tooltip & zoom constants\n\nThis commit also adds constants for:\n\nConstants.CLIENT_DEFAULT_INNER_ZOOM_LIMIT = 896\nConstants.CLIENT_DEFAULT_OUTER_ZOOM_LIMIT = 128\n\nVarClientInt.CAMERA_ZOOM_FIXED_VIEWPORT = 73\nVarClientInt.CAMERA_ZOOM_RESIZABLE_VIEWPORT = 74\n\nWidgetID.Options.CAMERA_ZOOM_SLIDER_HANDLE = 15\nWidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE"}, "afterCommit": {"oid": "83b588c9ea9536d113631ea445dbbc3f2d9d8649", "author": {"user": {"login": "seandewar", "name": "Sean Dewar"}}, "url": "https://github.com/runelite/runelite/commit/83b588c9ea9536d113631ea445dbbc3f2d9d8649", "committedDate": "2020-03-25T21:11:11Z", "message": "[WIP] camera: zoom slider tooltip & zoom constants\n\nThis commit also adds constants for:\n\nConstants.CLIENT_DEFAULT_INNER_ZOOM_LIMIT = 896\nConstants.CLIENT_DEFAULT_OUTER_ZOOM_LIMIT = 128\n\nVarClientInt.CAMERA_ZOOM_FIXED_VIEWPORT = 73\nVarClientInt.CAMERA_ZOOM_RESIZABLE_VIEWPORT = 74\n\nWidgetID.Options.CAMERA_ZOOM_SLIDER_HANDLE = 15\nWidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "83b588c9ea9536d113631ea445dbbc3f2d9d8649", "author": {"user": {"login": "seandewar", "name": "Sean Dewar"}}, "url": "https://github.com/runelite/runelite/commit/83b588c9ea9536d113631ea445dbbc3f2d9d8649", "committedDate": "2020-03-25T21:11:11Z", "message": "[WIP] camera: zoom slider tooltip & zoom constants\n\nThis commit also adds constants for:\n\nConstants.CLIENT_DEFAULT_INNER_ZOOM_LIMIT = 896\nConstants.CLIENT_DEFAULT_OUTER_ZOOM_LIMIT = 128\n\nVarClientInt.CAMERA_ZOOM_FIXED_VIEWPORT = 73\nVarClientInt.CAMERA_ZOOM_RESIZABLE_VIEWPORT = 74\n\nWidgetID.Options.CAMERA_ZOOM_SLIDER_HANDLE = 15\nWidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE"}, "afterCommit": {"oid": "768db4ad92c3e575b4ebdd01e18964dd7fdf8cde", "author": {"user": {"login": "seandewar", "name": "Sean Dewar"}}, "url": "https://github.com/runelite/runelite/commit/768db4ad92c3e575b4ebdd01e18964dd7fdf8cde", "committedDate": "2020-03-25T22:28:25Z", "message": "camera: zoom slider tooltip & zoom constants\n\nThis commit also adds constants for:\n\nConstants.CLIENT_DEFAULT_INNER_ZOOM_LIMIT = 896\nConstants.CLIENT_DEFAULT_OUTER_ZOOM_LIMIT = 128\n\nVarClientInt.CAMERA_ZOOM_FIXED_VIEWPORT = 73\nVarClientInt.CAMERA_ZOOM_RESIZABLE_VIEWPORT = 74\n\nWidgetID.Options.CAMERA_ZOOM_SLIDER_HANDLE = 15\nWidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0MzE5NzQ4", "url": "https://github.com/runelite/runelite/pull/11063#pullrequestreview-384319748", "createdAt": "2020-03-31T00:15:14Z", "commit": {"oid": "768db4ad92c3e575b4ebdd01e18964dd7fdf8cde"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwMDoxNToxNFrOF-Az8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwMDoxNToxNFrOF-Az8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDU2OTMyOQ==", "bodyText": "Extend this guard clause to include the bounds check.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tif (slider == null || slider.isHidden())\n          \n          \n            \n            \t\t{\n          \n          \n            \n            \t\t\treturn null;\n          \n          \n            \n            \t\t}\n          \n          \n            \n            \n          \n          \n            \n            \t\tfinal Point mousePosition = client.getMouseCanvasPosition();\n          \n          \n            \n            \n          \n          \n            \n            \t\tif (slider.getBounds().contains(mousePosition.getX(), mousePosition.getY()))\n          \n          \n            \n            \t\t{\n          \n          \n            \n            \t\tif (slider == null || slider.isHidden()\n          \n          \n            \n            \t\t\t|| !slider.getBounds().contains(client.getMouseCanvasPosition()))\n          \n          \n            \n            \t\t{\n          \n          \n            \n            \t\t\treturn null;\n          \n          \n            \n            \t\t}\n          \n      \n    \n    \n  \n\nThen the rest of this tooltip generation can happen without being contained in any further nested blocks.", "url": "https://github.com/runelite/runelite/pull/11063#discussion_r400569329", "createdAt": "2020-03-31T00:15:14Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/camera/CameraOverlay.java", "diffHunk": "@@ -0,0 +1,83 @@\n+/*\n+ * Copyright (c) 2020, Sean Dewar <https://github.com/seandewar>\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright notice, this\n+ *    list of conditions and the following disclaimer.\n+ * 2. Redistributions in binary form must reproduce the above copyright notice,\n+ *    this list of conditions and the following disclaimer in the documentation\n+ *    and/or other materials provided with the distribution.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n+ * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n+ * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n+ * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+ * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ */\n+package net.runelite.client.plugins.camera;\n+\n+import java.awt.Dimension;\n+import java.awt.Graphics2D;\n+import javax.inject.Inject;\n+import net.runelite.api.Client;\n+import net.runelite.api.Constants;\n+import net.runelite.api.Point;\n+import net.runelite.api.VarClientInt;\n+import net.runelite.api.widgets.Widget;\n+import net.runelite.api.widgets.WidgetInfo;\n+import net.runelite.client.ui.overlay.Overlay;\n+import net.runelite.client.ui.overlay.OverlayLayer;\n+import net.runelite.client.ui.overlay.OverlayPosition;\n+import net.runelite.client.ui.overlay.tooltip.Tooltip;\n+import net.runelite.client.ui.overlay.tooltip.TooltipManager;\n+\n+class CameraOverlay extends Overlay\n+{\n+\tprivate final CameraConfig config;\n+\tprivate final Client client;\n+\tprivate final TooltipManager tooltipManager;\n+\n+\t@Inject\n+\tprivate CameraOverlay(final CameraConfig config, final Client client, final TooltipManager tooltipManager)\n+\t{\n+\t\tthis.config = config;\n+\t\tthis.client = client;\n+\t\tthis.tooltipManager = tooltipManager;\n+\t\tsetPosition(OverlayPosition.DYNAMIC);\n+\t\tsetLayer(OverlayLayer.ABOVE_WIDGETS);\n+\t}\n+\n+\t@Override\n+\tpublic Dimension render(final Graphics2D graphics)\n+\t{\n+\t\tfinal Widget slider = client.getWidget(WidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE);\n+\n+\t\tif (slider == null || slider.isHidden())\n+\t\t{\n+\t\t\treturn null;\n+\t\t}\n+\n+\t\tfinal Point mousePosition = client.getMouseCanvasPosition();\n+\n+\t\tif (slider.getBounds().contains(mousePosition.getX(), mousePosition.getY()))\n+\t\t{", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "768db4ad92c3e575b4ebdd01e18964dd7fdf8cde"}, "originalPosition": 71}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0MzIzMDEy", "url": "https://github.com/runelite/runelite/pull/11063#pullrequestreview-384323012", "createdAt": "2020-03-31T00:25:00Z", "commit": {"oid": "768db4ad92c3e575b4ebdd01e18964dd7fdf8cde"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwMDoyNTowMFrOF-A-5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwMDoyNTowMFrOF-A-5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDU3MjEzMg==", "bodyText": "this should either just chose one value and stick with it, or use the same logic the game uses https://github.com/RuneStar/cs2-scripts/blob/master/scripts/%5Bproc,zoom_position_slider%5D.cs2#L8-L10", "url": "https://github.com/runelite/runelite/pull/11063#discussion_r400572132", "createdAt": "2020-03-31T00:25:00Z", "author": {"login": "abextm"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/camera/CameraOverlay.java", "diffHunk": "@@ -0,0 +1,83 @@\n+/*\n+ * Copyright (c) 2020, Sean Dewar <https://github.com/seandewar>\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright notice, this\n+ *    list of conditions and the following disclaimer.\n+ * 2. Redistributions in binary form must reproduce the above copyright notice,\n+ *    this list of conditions and the following disclaimer in the documentation\n+ *    and/or other materials provided with the distribution.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n+ * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n+ * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n+ * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+ * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ */\n+package net.runelite.client.plugins.camera;\n+\n+import java.awt.Dimension;\n+import java.awt.Graphics2D;\n+import javax.inject.Inject;\n+import net.runelite.api.Client;\n+import net.runelite.api.Constants;\n+import net.runelite.api.Point;\n+import net.runelite.api.VarClientInt;\n+import net.runelite.api.widgets.Widget;\n+import net.runelite.api.widgets.WidgetInfo;\n+import net.runelite.client.ui.overlay.Overlay;\n+import net.runelite.client.ui.overlay.OverlayLayer;\n+import net.runelite.client.ui.overlay.OverlayPosition;\n+import net.runelite.client.ui.overlay.tooltip.Tooltip;\n+import net.runelite.client.ui.overlay.tooltip.TooltipManager;\n+\n+class CameraOverlay extends Overlay\n+{\n+\tprivate final CameraConfig config;\n+\tprivate final Client client;\n+\tprivate final TooltipManager tooltipManager;\n+\n+\t@Inject\n+\tprivate CameraOverlay(final CameraConfig config, final Client client, final TooltipManager tooltipManager)\n+\t{\n+\t\tthis.config = config;\n+\t\tthis.client = client;\n+\t\tthis.tooltipManager = tooltipManager;\n+\t\tsetPosition(OverlayPosition.DYNAMIC);\n+\t\tsetLayer(OverlayLayer.ABOVE_WIDGETS);\n+\t}\n+\n+\t@Override\n+\tpublic Dimension render(final Graphics2D graphics)\n+\t{\n+\t\tfinal Widget slider = client.getWidget(WidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE);\n+\n+\t\tif (slider == null || slider.isHidden())\n+\t\t{\n+\t\t\treturn null;\n+\t\t}\n+\n+\t\tfinal Point mousePosition = client.getMouseCanvasPosition();\n+\n+\t\tif (slider.getBounds().contains(mousePosition.getX(), mousePosition.getY()))\n+\t\t{\n+\t\t\tfinal Widget fixedViewport = client.getWidget(WidgetInfo.FIXED_VIEWPORT);\n+\t\t\tfinal boolean isFixedMode = fixedViewport != null && !fixedViewport.isHidden();\n+\n+\t\t\tfinal int value = client.getVar(isFixedMode ? VarClientInt.CAMERA_ZOOM_FIXED_VIEWPORT : VarClientInt.CAMERA_ZOOM_RESIZABLE_VIEWPORT);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "768db4ad92c3e575b4ebdd01e18964dd7fdf8cde"}, "originalPosition": 75}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "768db4ad92c3e575b4ebdd01e18964dd7fdf8cde", "author": {"user": {"login": "seandewar", "name": "Sean Dewar"}}, "url": "https://github.com/runelite/runelite/commit/768db4ad92c3e575b4ebdd01e18964dd7fdf8cde", "committedDate": "2020-03-25T22:28:25Z", "message": "camera: zoom slider tooltip & zoom constants\n\nThis commit also adds constants for:\n\nConstants.CLIENT_DEFAULT_INNER_ZOOM_LIMIT = 896\nConstants.CLIENT_DEFAULT_OUTER_ZOOM_LIMIT = 128\n\nVarClientInt.CAMERA_ZOOM_FIXED_VIEWPORT = 73\nVarClientInt.CAMERA_ZOOM_RESIZABLE_VIEWPORT = 74\n\nWidgetID.Options.CAMERA_ZOOM_SLIDER_HANDLE = 15\nWidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE"}, "afterCommit": {"oid": "8d2f362c1f9a049d30bda7d76d950ea66ac26a4a", "author": {"user": {"login": "seandewar", "name": "Sean Dewar"}}, "url": "https://github.com/runelite/runelite/commit/8d2f362c1f9a049d30bda7d76d950ea66ac26a4a", "committedDate": "2020-03-31T02:36:48Z", "message": "camera: zoom slider tooltip & zoom constants\n\nThis commit also adds constants for:\n\nConstants.GAME_FIXED_VIEWPORT_WIDTH = 512\nConstants.GAME_FIXED_VIEWPORT_HEIGHT = 334\nConstants.CLIENT_DEFAULT_INNER_ZOOM_LIMIT = 896\nConstants.CLIENT_DEFAULT_OUTER_ZOOM_LIMIT = 128\n\nVarClientInt.CAMERA_ZOOM_FIXED_VIEWPORT = 73\nVarClientInt.CAMERA_ZOOM_RESIZABLE_VIEWPORT = 74\n\nWidgetID.Options.CAMERA_ZOOM_SLIDER_HANDLE = 15\nWidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0MzY2NTA0", "url": "https://github.com/runelite/runelite/pull/11063#pullrequestreview-384366504", "createdAt": "2020-03-31T02:45:59Z", "commit": {"oid": "8d2f362c1f9a049d30bda7d76d950ea66ac26a4a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwMjo0NTo1OVrOF-DTxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwMjo0NTo1OVrOF-DTxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDYxMDI0NA==", "bodyText": "I've prefixed these constants with GAME_ to be consistent with the stuff already here for GAME_FIXED_WIDTH and such, but is the CLIENT_ prefix better for these instead? (such as in CLIENT_DEFAULT_ZOOM)", "url": "https://github.com/runelite/runelite/pull/11063#discussion_r400610244", "createdAt": "2020-03-31T02:45:59Z", "author": {"login": "seandewar"}, "path": "runelite-api/src/main/java/net/runelite/api/Constants.java", "diffHunk": "@@ -52,11 +52,31 @@\n \t */\n \tpublic static final double GAME_FIXED_ASPECT_RATIO = (double) GAME_FIXED_WIDTH / (double) GAME_FIXED_HEIGHT;\n \n+\t/**\n+\t * The width of the game viewport when running in fixed mode.\n+\t */\n+\tpublic static final int GAME_FIXED_VIEWPORT_WIDTH = 512;\n+\n+\t/**\n+\t * The height of the game viewport when running in fixed mode.\n+\t */\n+\tpublic static final int GAME_FIXED_VIEWPORT_HEIGHT = 334;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d2f362c1f9a049d30bda7d76d950ea66ac26a4a"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0MzkwNTc5", "url": "https://github.com/runelite/runelite/pull/11063#pullrequestreview-384390579", "createdAt": "2020-03-31T04:13:35Z", "commit": {"oid": "8d2f362c1f9a049d30bda7d76d950ea66ac26a4a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwNDoxMzozNVrOF-ErLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQwNDoxNDowNlrOF-Erxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDYzMjYyMw==", "bodyText": "you transcribed this wrong, its should be width > height, but that makes this dead code anyway (the cs2 has a bug apparently, as its different from what the engine uses). Just make it always use resizable always because it makes no difference to the calculated value as these vars are always in sync, and I don't want to copy a bug here and have it change later.", "url": "https://github.com/runelite/runelite/pull/11063#discussion_r400632623", "createdAt": "2020-03-31T04:13:35Z", "author": {"login": "abextm"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/camera/CameraOverlay.java", "diffHunk": "@@ -0,0 +1,78 @@\n+/*\n+ * Copyright (c) 2020, Sean Dewar <https://github.com/seandewar>\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright notice, this\n+ *    list of conditions and the following disclaimer.\n+ * 2. Redistributions in binary form must reproduce the above copyright notice,\n+ *    this list of conditions and the following disclaimer in the documentation\n+ *    and/or other materials provided with the distribution.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n+ * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n+ * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n+ * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+ * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ */\n+package net.runelite.client.plugins.camera;\n+\n+import java.awt.Dimension;\n+import java.awt.Graphics2D;\n+import javax.inject.Inject;\n+import net.runelite.api.Client;\n+import net.runelite.api.Constants;\n+import net.runelite.api.Point;\n+import net.runelite.api.VarClientInt;\n+import net.runelite.api.widgets.Widget;\n+import net.runelite.api.widgets.WidgetInfo;\n+import net.runelite.client.ui.overlay.Overlay;\n+import net.runelite.client.ui.overlay.OverlayLayer;\n+import net.runelite.client.ui.overlay.OverlayPosition;\n+import net.runelite.client.ui.overlay.tooltip.Tooltip;\n+import net.runelite.client.ui.overlay.tooltip.TooltipManager;\n+\n+class CameraOverlay extends Overlay\n+{\n+\tprivate final CameraConfig config;\n+\tprivate final Client client;\n+\tprivate final TooltipManager tooltipManager;\n+\n+\t@Inject\n+\tprivate CameraOverlay(final CameraConfig config, final Client client, final TooltipManager tooltipManager)\n+\t{\n+\t\tthis.config = config;\n+\t\tthis.client = client;\n+\t\tthis.tooltipManager = tooltipManager;\n+\t\tsetPosition(OverlayPosition.DYNAMIC);\n+\t\tsetLayer(OverlayLayer.ABOVE_WIDGETS);\n+\t}\n+\n+\t@Override\n+\tpublic Dimension render(final Graphics2D graphics)\n+\t{\n+\t\tfinal Widget slider = client.getWidget(WidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE);\n+\t\tfinal Point mousePos = client.getMouseCanvasPosition();\n+\n+\t\tif (slider == null || slider.isHidden() || !slider.getBounds().contains(mousePos.getX(), mousePos.getY()))\n+\t\t{\n+\t\t\treturn null;\n+\t\t}\n+\n+\t\t// Same logic used in scripts to determine if the game is in resizable mode or not\n+\t\tfinal boolean resizableMode = client.getViewportHeight() > Constants.GAME_FIXED_VIEWPORT_WIDTH;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d2f362c1f9a049d30bda7d76d950ea66ac26a4a"}, "originalPosition": 70}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDYzMjc3NA==", "bodyText": "these should be in the plugin because no other plugin needs this info", "url": "https://github.com/runelite/runelite/pull/11063#discussion_r400632774", "createdAt": "2020-03-31T04:14:06Z", "author": {"login": "abextm"}, "path": "runelite-api/src/main/java/net/runelite/api/Constants.java", "diffHunk": "@@ -52,11 +52,31 @@\n \t */\n \tpublic static final double GAME_FIXED_ASPECT_RATIO = (double) GAME_FIXED_WIDTH / (double) GAME_FIXED_HEIGHT;\n \n+\t/**\n+\t * The width of the game viewport when running in fixed mode.\n+\t */\n+\tpublic static final int GAME_FIXED_VIEWPORT_WIDTH = 512;\n+\n+\t/**\n+\t * The height of the game viewport when running in fixed mode.\n+\t */\n+\tpublic static final int GAME_FIXED_VIEWPORT_HEIGHT = 334;\n+\n \t/**\n \t * The default camera zoom value.\n \t */\n \tpublic static final int CLIENT_DEFAULT_ZOOM = 512;\n \n+\t/**\n+\t * The default camera inner zoom limit.\n+\t */\n+\tpublic static final int CLIENT_DEFAULT_INNER_ZOOM_LIMIT = 896;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8d2f362c1f9a049d30bda7d76d950ea66ac26a4a"}, "originalPosition": 22}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8d2f362c1f9a049d30bda7d76d950ea66ac26a4a", "author": {"user": {"login": "seandewar", "name": "Sean Dewar"}}, "url": "https://github.com/runelite/runelite/commit/8d2f362c1f9a049d30bda7d76d950ea66ac26a4a", "committedDate": "2020-03-31T02:36:48Z", "message": "camera: zoom slider tooltip & zoom constants\n\nThis commit also adds constants for:\n\nConstants.GAME_FIXED_VIEWPORT_WIDTH = 512\nConstants.GAME_FIXED_VIEWPORT_HEIGHT = 334\nConstants.CLIENT_DEFAULT_INNER_ZOOM_LIMIT = 896\nConstants.CLIENT_DEFAULT_OUTER_ZOOM_LIMIT = 128\n\nVarClientInt.CAMERA_ZOOM_FIXED_VIEWPORT = 73\nVarClientInt.CAMERA_ZOOM_RESIZABLE_VIEWPORT = 74\n\nWidgetID.Options.CAMERA_ZOOM_SLIDER_HANDLE = 15\nWidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE"}, "afterCommit": {"oid": "7d8867b92de1aed52eb3948691f84f651ef1b195", "author": {"user": {"login": "seandewar", "name": "Sean Dewar"}}, "url": "https://github.com/runelite/runelite/commit/7d8867b92de1aed52eb3948691f84f651ef1b195", "committedDate": "2020-03-31T10:56:37Z", "message": "camera: zoom slider tooltip & zoom constants\n\nThis commit also adds constants for:\n\nVarClientInt.CAMERA_ZOOM_FIXED_VIEWPORT = 73\nVarClientInt.CAMERA_ZOOM_RESIZABLE_VIEWPORT = 74\n\nWidgetID.Options.CAMERA_ZOOM_SLIDER_HANDLE = 15\nWidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg3NzY5ODEx", "url": "https://github.com/runelite/runelite/pull/11063#pullrequestreview-387769811", "createdAt": "2020-04-05T00:22:11Z", "commit": {"oid": "7d8867b92de1aed52eb3948691f84f651ef1b195"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a1dbf4e2d59e6a82f29d73c97f42410aa6c74f2", "author": {"user": {"login": "seandewar", "name": "Sean Dewar"}}, "url": "https://github.com/runelite/runelite/commit/4a1dbf4e2d59e6a82f29d73c97f42410aa6c74f2", "committedDate": "2020-04-05T02:42:41Z", "message": "music: slider volume percentage tooltips"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07d414d41d9acf98a1d1f6dba12ec894a93312bc", "author": {"user": {"login": "seandewar", "name": "Sean Dewar"}}, "url": "https://github.com/runelite/runelite/commit/07d414d41d9acf98a1d1f6dba12ec894a93312bc", "committedDate": "2020-04-05T02:42:48Z", "message": "camera: zoom slider tooltip & zoom constants\n\nThis commit also adds constants for:\n\nVarClientInt.CAMERA_ZOOM_FIXED_VIEWPORT = 73\nVarClientInt.CAMERA_ZOOM_RESIZABLE_VIEWPORT = 74\n\nWidgetID.Options.CAMERA_ZOOM_SLIDER_HANDLE = 15\nWidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7d8867b92de1aed52eb3948691f84f651ef1b195", "author": {"user": {"login": "seandewar", "name": "Sean Dewar"}}, "url": "https://github.com/runelite/runelite/commit/7d8867b92de1aed52eb3948691f84f651ef1b195", "committedDate": "2020-03-31T10:56:37Z", "message": "camera: zoom slider tooltip & zoom constants\n\nThis commit also adds constants for:\n\nVarClientInt.CAMERA_ZOOM_FIXED_VIEWPORT = 73\nVarClientInt.CAMERA_ZOOM_RESIZABLE_VIEWPORT = 74\n\nWidgetID.Options.CAMERA_ZOOM_SLIDER_HANDLE = 15\nWidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE"}, "afterCommit": {"oid": "07d414d41d9acf98a1d1f6dba12ec894a93312bc", "author": {"user": {"login": "seandewar", "name": "Sean Dewar"}}, "url": "https://github.com/runelite/runelite/commit/07d414d41d9acf98a1d1f6dba12ec894a93312bc", "committedDate": "2020-04-05T02:42:48Z", "message": "camera: zoom slider tooltip & zoom constants\n\nThis commit also adds constants for:\n\nVarClientInt.CAMERA_ZOOM_FIXED_VIEWPORT = 73\nVarClientInt.CAMERA_ZOOM_RESIZABLE_VIEWPORT = 74\n\nWidgetID.Options.CAMERA_ZOOM_SLIDER_HANDLE = 15\nWidgetInfo.OPTIONS_CAMERA_ZOOM_SLIDER_HANDLE"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4111, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}