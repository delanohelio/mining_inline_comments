{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4OTUyNzU3", "number": 11624, "title": "ClientUI: Remember sidebar state", "bodyText": "This has been a minor annoyance when playing multiple accounts.\nI had a pull request not based on a separate branch earlier, I closed that one so I could make this.\nCloses #2312", "createdAt": "2020-05-16T11:08:37Z", "url": "https://github.com/runelite/runelite/pull/11624", "merged": true, "mergeCommit": {"oid": "6aa9990594385de59972fc3e0b3dd5480e54d2d0"}, "closed": true, "closedAt": "2020-06-24T16:18:00Z", "author": {"login": "Xortrox"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcmtJzBAFqTQyMTUwMzQwMg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcubw7ugBqjM0NzgwNjU4MzY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNTAzNDAy", "url": "https://github.com/runelite/runelite/pull/11624#pullrequestreview-421503402", "createdAt": "2020-05-31T15:11:18Z", "commit": {"oid": "d4f40ab501c99e40e45f4cc9a97f2f26bb2db3df"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxNToxMToxOVrOGc5kCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxNToxMTozNVrOGc5kHg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk1NjQyNw==", "bodyText": "Instead you can just not open the sidebar in the first place by removing the toggleSidebar call in init.", "url": "https://github.com/runelite/runelite/pull/11624#discussion_r432956427", "createdAt": "2020-05-31T15:11:19Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/ui/ClientUI.java", "diffHunk": "@@ -552,6 +553,15 @@ public void show()\n \t\t\trequestFocus();\n \t\t\tgiveClientFocus();\n \t\t\tlog.info(\"Showing frame {}\", frame);\n+\n+\t\t\t// Close sidebar if config is set for it.\n+\t\t\tif (config.rememberSidebarState())\n+\t\t\t{\n+\t\t\t\tif (configManager.getConfiguration(CONFIG_GROUP, CONFIG_CLIENT_SIDEBAR_CLOSED) != null)\n+\t\t\t\t{\n+\t\t\t\t\ttoggleSidebar();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f40ab501c99e40e45f4cc9a97f2f26bb2db3df"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk1NjQ0Ng==", "bodyText": "It probably isn't necessary to have a config option for this", "url": "https://github.com/runelite/runelite/pull/11624#discussion_r432956446", "createdAt": "2020-05-31T15:11:35Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/ui/ClientUI.java", "diffHunk": "@@ -552,6 +553,15 @@ public void show()\n \t\t\trequestFocus();\n \t\t\tgiveClientFocus();\n \t\t\tlog.info(\"Showing frame {}\", frame);\n+\n+\t\t\t// Close sidebar if config is set for it.\n+\t\t\tif (config.rememberSidebarState())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d4f40ab501c99e40e45f4cc9a97f2f26bb2db3df"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNTA1MzQz", "url": "https://github.com/runelite/runelite/pull/11624#pullrequestreview-421505343", "createdAt": "2020-05-31T15:36:04Z", "commit": {"oid": "8992581730fd79770711f90edb8aafc53379a9c6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxNTozNjowNVrOGc5sPg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0zMVQxNTozNjoxNVrOGc5sRg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk1ODUyNg==", "bodyText": "this is backwards", "url": "https://github.com/runelite/runelite/pull/11624#discussion_r432958526", "createdAt": "2020-05-31T15:36:05Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/ui/ClientUI.java", "diffHunk": "@@ -842,6 +851,7 @@ private void toggleSidebar()\n \t\t{\n \t\t\tsidebarNavigationJButton.setIcon(new ImageIcon(sidebarOpenIcon));\n \t\t\tsidebarNavigationJButton.setToolTipText(\"Open SideBar\");\n+\t\t\tconfigManager.unsetConfiguration(CONFIG_GROUP, CONFIG_CLIENT_SIDEBAR_CLOSED);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8992581730fd79770711f90edb8aafc53379a9c6"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjk1ODUzNA==", "bodyText": "this is just wrong", "url": "https://github.com/runelite/runelite/pull/11624#discussion_r432958534", "createdAt": "2020-05-31T15:36:15Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/ui/ClientUI.java", "diffHunk": "@@ -485,7 +486,15 @@ public void layoutContainer(Container parent)\n \t\t\t\tnull);\n \n \t\t\ttitleToolbar.addComponent(sidebarNavigationButton, sidebarNavigationJButton);\n-\t\t\ttoggleSidebar();\n+\n+\t\t\t// Close sidebar if config is set for it.\n+\n+\t\t\tif (configManager.getConfiguration(CONFIG_GROUP, CONFIG_CLIENT_SIDEBAR_CLOSED) == null)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8992581730fd79770711f90edb8aafc53379a9c6"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwOTM5NjQ4", "url": "https://github.com/runelite/runelite/pull/11624#pullrequestreview-430939648", "createdAt": "2020-06-15T19:42:01Z", "commit": {"oid": "9d3e54e960a395815e2e6c14a9cd9a5b330d3f2f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxOTo0MjowMVrOGkALKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xNVQxOTo0MjowMVrOGkALKQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MDQwNDc3Nw==", "bodyText": "This is still backwards. When the tooltip text is Close Sidebar it means the sidebar is open, because the option on it is to close it. So sidebar closed shouldn't be true.", "url": "https://github.com/runelite/runelite/pull/11624#discussion_r440404777", "createdAt": "2020-06-15T19:42:01Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/ui/ClientUI.java", "diffHunk": "@@ -852,6 +859,7 @@ private void toggleSidebar()\n \t\t{\n \t\t\tsidebarNavigationJButton.setIcon(new ImageIcon(sidebarClosedIcon));\n \t\t\tsidebarNavigationJButton.setToolTipText(\"Close SideBar\");\n+\t\t\tconfigManager.setConfiguration(CONFIG_GROUP, CONFIG_CLIENT_SIDEBAR_CLOSED, true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9d3e54e960a395815e2e6c14a9cd9a5b330d3f2f"}, "originalPosition": 43}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2MTU1Nzkx", "url": "https://github.com/runelite/runelite/pull/11624#pullrequestreview-436155791", "createdAt": "2020-06-23T21:02:57Z", "commit": {"oid": "04bd82ce3008152a81ff31d62a69e8488add5a44"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMTowMjo1N1rOGn6jTw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMTowMjo1N1rOGn6jTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDUwNjk1OQ==", "bodyText": "This should just be .tooltip(\"Open SideBar\") in the above navbutton builder.", "url": "https://github.com/runelite/runelite/pull/11624#discussion_r444506959", "createdAt": "2020-06-23T21:02:57Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/ui/ClientUI.java", "diffHunk": "@@ -484,8 +485,15 @@ public void layoutContainer(Container parent)\n \t\t\t\t0,\n \t\t\t\tnull);\n \n+\t\t\tsidebarNavigationJButton.setToolTipText(\"Open SideBar\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "04bd82ce3008152a81ff31d62a69e8488add5a44"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2NjU5Njgy", "url": "https://github.com/runelite/runelite/pull/11624#pullrequestreview-436659682", "createdAt": "2020-06-24T13:43:51Z", "commit": {"oid": "d7ed21eb7e72a6fe0d660bfaca7a42ce17f2a008"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxMzo0Mzo1MlrOGoSweQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQxMzo0Mzo1MlrOGoSweQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDkwMzU0NQ==", "bodyText": "this was merged incorrectly and now no longer compiles. I assume the removal of the above code was due to that it now remembers sidebar state so it doesn't have to offset the bounds by that anymore right?", "url": "https://github.com/runelite/runelite/pull/11624#discussion_r444903545", "createdAt": "2020-06-24T13:43:52Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/ui/ClientUI.java", "diffHunk": "@@ -1097,11 +1106,7 @@ private void saveClientBoundsConfig()\n \t\t}\n \t\telse\n \t\t{\n-\t\t\t// Try to expand sidebar\n-\t\t\tif (!sidebarOpen)\n-\t\t\t{\n-\t\t\t\tbounds.width += pluginToolbar.getWidth();\n-\t\t\t}\n+\t\t\tfinal Rectangle bounds = frame.getBounds();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d7ed21eb7e72a6fe0d660bfaca7a42ce17f2a008"}, "originalPosition": 57}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d7ed21eb7e72a6fe0d660bfaca7a42ce17f2a008", "author": {"user": {"login": "Xortrox", "name": null}}, "url": "https://github.com/runelite/runelite/commit/d7ed21eb7e72a6fe0d660bfaca7a42ce17f2a008", "committedDate": "2020-06-24T08:32:41Z", "message": "Merge branch 'master' into client-ui-remember-sidebar-state"}, "afterCommit": {"oid": "3d4d3279d2b7d815ed1afc9e90278903794f2661", "author": {"user": {"login": "Xortrox", "name": null}}, "url": "https://github.com/runelite/runelite/commit/3d4d3279d2b7d815ed1afc9e90278903794f2661", "committedDate": "2020-06-24T14:41:18Z", "message": "clientui: remember sidebar state across restarts\n\nCo-authored-by: Adam <Adam@sigterm.info>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a7b82b3b3b6f598c7d819e5477b472dbec71dcc", "author": {"user": {"login": "Xortrox", "name": null}}, "url": "https://github.com/runelite/runelite/commit/8a7b82b3b3b6f598c7d819e5477b472dbec71dcc", "committedDate": "2020-06-24T15:27:18Z", "message": "clientui: remember sidebar state across restarts\n\nCo-authored-by: Adam <Adam@sigterm.info>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3d4d3279d2b7d815ed1afc9e90278903794f2661", "author": {"user": {"login": "Xortrox", "name": null}}, "url": "https://github.com/runelite/runelite/commit/3d4d3279d2b7d815ed1afc9e90278903794f2661", "committedDate": "2020-06-24T14:41:18Z", "message": "clientui: remember sidebar state across restarts\n\nCo-authored-by: Adam <Adam@sigterm.info>"}, "afterCommit": {"oid": "8a7b82b3b3b6f598c7d819e5477b472dbec71dcc", "author": {"user": {"login": "Xortrox", "name": null}}, "url": "https://github.com/runelite/runelite/commit/8a7b82b3b3b6f598c7d819e5477b472dbec71dcc", "committedDate": "2020-06-24T15:27:18Z", "message": "clientui: remember sidebar state across restarts\n\nCo-authored-by: Adam <Adam@sigterm.info>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3775, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}