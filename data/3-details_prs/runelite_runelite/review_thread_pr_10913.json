{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgxODM5MTIz", "number": 10913, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QwNzoxMjozM1rODkiUKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwMTozOTo0NVrODmECUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5NjM3NTQ3OnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerConfig.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QwNzoxMjozM1rOFw6azw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QwNzoxMjozM1rOFw6azw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjgzMzEwMw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tdescription = \"Whether to show the total value or the average\"\n          \n          \n            \n            \t\tdescription = \"Show the average value of each loot instead of the sum total value\"", "url": "https://github.com/runelite/runelite/pull/10913#discussion_r386833103", "createdAt": "2020-03-03T07:12:33Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerConfig.java", "diffHunk": "@@ -69,6 +69,16 @@ default boolean showPriceType()\n \t\treturn false;\n \t}\n \n+\t@ConfigItem(\n+\t\tkeyName = \"showAverage\",\n+\t\tname = \"Show Average Price\",\n+\t\tdescription = \"Whether to show the total value or the average\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1d0726d0fda238209d3afd496a921970969aed6"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM5NjM4Njg3OnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerBox.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QwNzoxNzo1OFrOFw6hXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QyMDoyNzo1OVrOFxVW-g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjgzNDc4Mw==", "bodyText": "Why does this change add the average string to the tooltip even when the configuration option is disabled?", "url": "https://github.com/runelite/runelite/pull/10913#discussion_r386834783", "createdAt": "2020-03-03T07:17:58Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerBox.java", "diffHunk": "@@ -215,13 +218,24 @@ void rebuild()\n \t\t\tpriceTypeString = priceType == LootTrackerPriceType.HIGH_ALCHEMY ? \"HA: \" : \"GE: \";\n \t\t}\n \n-\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice) + \" gp\");\n-\t\tpriceLabel.setToolTipText(QuantityFormatter.formatNumber(totalPrice) + \" gp\");\n+\t\tString averageString = kills > 1 ? QuantityFormatter.formatNumber(totalPrice / kills) + \" gp\" : \"0\";\n+\t\tString totalString = priceTypeString + QuantityFormatter.formatNumber(totalPrice) + \" gp\";\n+\t\tif (showAverage)\n+\t\t{\n+\t\t\tpriceLabel.setText(averageString);\n+\t\t\tpriceLabel.setToolTipText(totalString + \" (total)\");\n+\t\t}\n+\t\telse\n+\t\t{\n+\t\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice));\n+\t\t\tpriceLabel.setToolTipText(\"<html>\" + QuantityFormatter.formatNumber(totalPrice) + \" gp<br>\" + averageString + \" (average)</html>\");\t\t\t\n+\t\t}\t\t", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e1d0726d0fda238209d3afd496a921970969aed6"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzI3NDQ5MA==", "bodyText": "@Nightfirecat  - I saw the setting as the displayed value, and the tooltip as a means to show the opposite.  2 reasons for doing that:\n\nI assume it won't be the option that people will want displayed by default.  The number of kills / values (i.e. \"x 135\") currently doesn't display anything.  So even though it's disabled, I think it's reasonable to add that as a hover item.\nBoth figures are valuable to know - and I think there'd be interest from many in seeing both.  The hover text is simply the one you don't normally want to see.", "url": "https://github.com/runelite/runelite/pull/10913#discussion_r387274490", "createdAt": "2020-03-03T20:27:59Z", "author": {"login": "mikesena"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerBox.java", "diffHunk": "@@ -215,13 +218,24 @@ void rebuild()\n \t\t\tpriceTypeString = priceType == LootTrackerPriceType.HIGH_ALCHEMY ? \"HA: \" : \"GE: \";\n \t\t}\n \n-\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice) + \" gp\");\n-\t\tpriceLabel.setToolTipText(QuantityFormatter.formatNumber(totalPrice) + \" gp\");\n+\t\tString averageString = kills > 1 ? QuantityFormatter.formatNumber(totalPrice / kills) + \" gp\" : \"0\";\n+\t\tString totalString = priceTypeString + QuantityFormatter.formatNumber(totalPrice) + \" gp\";\n+\t\tif (showAverage)\n+\t\t{\n+\t\t\tpriceLabel.setText(averageString);\n+\t\t\tpriceLabel.setToolTipText(totalString + \" (total)\");\n+\t\t}\n+\t\telse\n+\t\t{\n+\t\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice));\n+\t\t\tpriceLabel.setToolTipText(\"<html>\" + QuantityFormatter.formatNumber(totalPrice) + \" gp<br>\" + averageString + \" (average)</html>\");\t\t\t\n+\t\t}\t\t", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjgzNDc4Mw=="}, "originalCommit": {"oid": "e1d0726d0fda238209d3afd496a921970969aed6"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNDI3NzUxOnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerBox.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwNDo1MDoyNFrOFyGVgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwNjozNToyOVrOFyH0xg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODA3NjkzMA==", "bodyText": "Compared to the price label text prior to this change, this is missing the + \" gp\" suffix. totalString should be used instead\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice));\n          \n          \n            \n            \t\t\tpriceLabel.setText(totalString);", "url": "https://github.com/runelite/runelite/pull/10913#discussion_r388076930", "createdAt": "2020-03-05T04:50:24Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerBox.java", "diffHunk": "@@ -215,13 +218,24 @@ void rebuild()\n \t\t\tpriceTypeString = priceType == LootTrackerPriceType.HIGH_ALCHEMY ? \"HA: \" : \"GE: \";\n \t\t}\n \n-\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice) + \" gp\");\n-\t\tpriceLabel.setToolTipText(QuantityFormatter.formatNumber(totalPrice) + \" gp\");\n+\t\tString averageString = kills > 1 ? QuantityFormatter.formatNumber(totalPrice / kills) + \" gp\" : \"0\";\n+\t\tString totalString = priceTypeString + QuantityFormatter.formatNumber(totalPrice) + \" gp\";\n+\t\tif (showAverage)\n+\t\t{\n+\t\t\tpriceLabel.setText(averageString);\n+\t\t\tpriceLabel.setToolTipText(totalString + \" (total)\");\n+\t\t}\n+\t\telse\n+\t\t{\n+\t\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7171069e133c361f12803c5924460990d1c079dd"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODA5ODg4NQ==", "bodyText": "I can't believe I missed that sorry.  I've pushed up a change that removes the totalString, in favour of making it exactly the same as before.", "url": "https://github.com/runelite/runelite/pull/10913#discussion_r388098885", "createdAt": "2020-03-05T06:26:30Z", "author": {"login": "mikesena"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerBox.java", "diffHunk": "@@ -215,13 +218,24 @@ void rebuild()\n \t\t\tpriceTypeString = priceType == LootTrackerPriceType.HIGH_ALCHEMY ? \"HA: \" : \"GE: \";\n \t\t}\n \n-\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice) + \" gp\");\n-\t\tpriceLabel.setToolTipText(QuantityFormatter.formatNumber(totalPrice) + \" gp\");\n+\t\tString averageString = kills > 1 ? QuantityFormatter.formatNumber(totalPrice / kills) + \" gp\" : \"0\";\n+\t\tString totalString = priceTypeString + QuantityFormatter.formatNumber(totalPrice) + \" gp\";\n+\t\tif (showAverage)\n+\t\t{\n+\t\t\tpriceLabel.setText(averageString);\n+\t\t\tpriceLabel.setToolTipText(totalString + \" (total)\");\n+\t\t}\n+\t\telse\n+\t\t{\n+\t\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODA3NjkzMA=="}, "originalCommit": {"oid": "7171069e133c361f12803c5924460990d1c079dd"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODEwMTMxOA==", "bodyText": "@Nightfirecat  - I think this conversation can be resolved", "url": "https://github.com/runelite/runelite/pull/10913#discussion_r388101318", "createdAt": "2020-03-05T06:35:29Z", "author": {"login": "mikesena"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerBox.java", "diffHunk": "@@ -215,13 +218,24 @@ void rebuild()\n \t\t\tpriceTypeString = priceType == LootTrackerPriceType.HIGH_ALCHEMY ? \"HA: \" : \"GE: \";\n \t\t}\n \n-\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice) + \" gp\");\n-\t\tpriceLabel.setToolTipText(QuantityFormatter.formatNumber(totalPrice) + \" gp\");\n+\t\tString averageString = kills > 1 ? QuantityFormatter.formatNumber(totalPrice / kills) + \" gp\" : \"0\";\n+\t\tString totalString = priceTypeString + QuantityFormatter.formatNumber(totalPrice) + \" gp\";\n+\t\tif (showAverage)\n+\t\t{\n+\t\t\tpriceLabel.setText(averageString);\n+\t\t\tpriceLabel.setToolTipText(totalString + \" (total)\");\n+\t\t}\n+\t\telse\n+\t\t{\n+\t\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODA3NjkzMA=="}, "originalCommit": {"oid": "7171069e133c361f12803c5924460990d1c079dd"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwNDU3ODAyOnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerBox.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwNzo0NTozNVrOFyJJ0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQwOTo1MjozNFrOFyM5ug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODEyMzA5MA==", "bodyText": "There's loads of trailing space here\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\tpriceLabel.setToolTipText(\"<html>\" + QuantityFormatter.formatNumber(totalPrice) + \" gp<br>\" + averageString + \" (average)</html>\");\t\t\t\n          \n          \n            \n            \t\t\tpriceLabel.setToolTipText(\"<html>\" + QuantityFormatter.formatNumber(totalPrice) + \" gp<br>\" + averageString + \" (average)</html>\");", "url": "https://github.com/runelite/runelite/pull/10913#discussion_r388123090", "createdAt": "2020-03-05T07:45:35Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerBox.java", "diffHunk": "@@ -215,13 +218,23 @@ void rebuild()\n \t\t\tpriceTypeString = priceType == LootTrackerPriceType.HIGH_ALCHEMY ? \"HA: \" : \"GE: \";\n \t\t}\n \n-\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice) + \" gp\");\n-\t\tpriceLabel.setToolTipText(QuantityFormatter.formatNumber(totalPrice) + \" gp\");\n+\t\tString averageString = kills > 1 ? QuantityFormatter.formatNumber(totalPrice / kills) + \" gp\" : \"0\";\n+\t\tif (showAverage)\n+\t\t{\n+\t\t\tpriceLabel.setText(averageString);\n+\t\t\tpriceLabel.setToolTipText(priceTypeString + QuantityFormatter.formatNumber(totalPrice) + \" gp (total)\");\n+\t\t}\n+\t\telse\n+\t\t{\n+\t\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice) + \" gp\");\n+\t\t\tpriceLabel.setToolTipText(\"<html>\" + QuantityFormatter.formatNumber(totalPrice) + \" gp<br>\" + averageString + \" (average)</html>\");\t\t\t", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f02eaf3245ba5a94070f3b5fab00ba395b80b2a"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODE4NDUwNg==", "bodyText": "Sigh, sorry @Nightfirecat  - missed that too.  Fixed.", "url": "https://github.com/runelite/runelite/pull/10913#discussion_r388184506", "createdAt": "2020-03-05T09:52:34Z", "author": {"login": "mikesena"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerBox.java", "diffHunk": "@@ -215,13 +218,23 @@ void rebuild()\n \t\t\tpriceTypeString = priceType == LootTrackerPriceType.HIGH_ALCHEMY ? \"HA: \" : \"GE: \";\n \t\t}\n \n-\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice) + \" gp\");\n-\t\tpriceLabel.setToolTipText(QuantityFormatter.formatNumber(totalPrice) + \" gp\");\n+\t\tString averageString = kills > 1 ? QuantityFormatter.formatNumber(totalPrice / kills) + \" gp\" : \"0\";\n+\t\tif (showAverage)\n+\t\t{\n+\t\t\tpriceLabel.setText(averageString);\n+\t\t\tpriceLabel.setToolTipText(priceTypeString + QuantityFormatter.formatNumber(totalPrice) + \" gp (total)\");\n+\t\t}\n+\t\telse\n+\t\t{\n+\t\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice) + \" gp\");\n+\t\t\tpriceLabel.setToolTipText(\"<html>\" + QuantityFormatter.formatNumber(totalPrice) + \" gp<br>\" + averageString + \" (average)</html>\");\t\t\t", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODEyMzA5MA=="}, "originalCommit": {"oid": "7f02eaf3245ba5a94070f3b5fab00ba395b80b2a"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxMjM3NDA0OnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerConfig.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwMToxMDowNFrOFzShQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwOTo0NDoyNVrOFzUMrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMyNTEyMg==", "bodyText": "Remove this eof line addition now that there are no other config changes", "url": "https://github.com/runelite/runelite/pull/10913#discussion_r389325122", "createdAt": "2020-03-08T01:10:04Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerConfig.java", "diffHunk": "@@ -90,4 +90,4 @@ default boolean syncPanel()\n \t{\n \t\treturn true;\n \t}\n-}\n\\ No newline at end of file\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21e7224990635c03027723b5b510ca4ed384c92b"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTM1MjYyMQ==", "bodyText": "Done.  I squashed my 2 commits together - assuming that the visual button is a better approach.", "url": "https://github.com/runelite/runelite/pull/10913#discussion_r389352621", "createdAt": "2020-03-08T09:44:25Z", "author": {"login": "mikesena"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerConfig.java", "diffHunk": "@@ -90,4 +90,4 @@ default boolean syncPanel()\n \t{\n \t\treturn true;\n \t}\n-}\n\\ No newline at end of file\n+}", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMyNTEyMg=="}, "originalCommit": {"oid": "21e7224990635c03027723b5b510ca4ed384c92b"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxMjM4NTM4OnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerBox.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwMTozNzoyNVrOFzSmfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwOTo0NTowMFrOFzUMxg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMyNjQ2Mw==", "bodyText": "This makes the average value of a single kill 0, which is not correct.", "url": "https://github.com/runelite/runelite/pull/10913#discussion_r389326463", "createdAt": "2020-03-08T01:37:25Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerBox.java", "diffHunk": "@@ -215,13 +218,23 @@ void rebuild()\n \t\t\tpriceTypeString = priceType == LootTrackerPriceType.HIGH_ALCHEMY ? \"HA: \" : \"GE: \";\n \t\t}\n \n-\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice) + \" gp\");\n-\t\tpriceLabel.setToolTipText(QuantityFormatter.formatNumber(totalPrice) + \" gp\");\n+\t\tString averageString = kills > 1 ? QuantityFormatter.formatNumber(totalPrice / kills) + \" gp\" : \"0\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21e7224990635c03027723b5b510ca4ed384c92b"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTM1MjY0Ng==", "bodyText": "Correct, great pick-up.  Fixed.", "url": "https://github.com/runelite/runelite/pull/10913#discussion_r389352646", "createdAt": "2020-03-08T09:45:00Z", "author": {"login": "mikesena"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerBox.java", "diffHunk": "@@ -215,13 +218,23 @@ void rebuild()\n \t\t\tpriceTypeString = priceType == LootTrackerPriceType.HIGH_ALCHEMY ? \"HA: \" : \"GE: \";\n \t\t}\n \n-\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice) + \" gp\");\n-\t\tpriceLabel.setToolTipText(QuantityFormatter.formatNumber(totalPrice) + \" gp\");\n+\t\tString averageString = kills > 1 ? QuantityFormatter.formatNumber(totalPrice / kills) + \" gp\" : \"0\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMyNjQ2Mw=="}, "originalCommit": {"oid": "21e7224990635c03027723b5b510ca4ed384c92b"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxMjM4NjEwOnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerBox.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOFQwMTozOTo0NVrOFzSm1g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxODowOTozNlrOF1pv-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMyNjU1MA==", "bodyText": "Why is this tooltip added here? Given that this is price information, it should only be handled with the price data on the right, which is already covered in the code above.", "url": "https://github.com/runelite/runelite/pull/10913#discussion_r389326550", "createdAt": "2020-03-08T01:39:45Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerBox.java", "diffHunk": "@@ -215,13 +218,23 @@ void rebuild()\n \t\t\tpriceTypeString = priceType == LootTrackerPriceType.HIGH_ALCHEMY ? \"HA: \" : \"GE: \";\n \t\t}\n \n-\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice) + \" gp\");\n-\t\tpriceLabel.setToolTipText(QuantityFormatter.formatNumber(totalPrice) + \" gp\");\n+\t\tString averageString = kills > 1 ? QuantityFormatter.formatNumber(totalPrice / kills) + \" gp\" : \"0\";\n+\t\tif (showAverage)\n+\t\t{\n+\t\t\tpriceLabel.setText(averageString);\n+\t\t\tpriceLabel.setToolTipText(priceTypeString + QuantityFormatter.formatNumber(totalPrice) + \" gp (total)\");\n+\t\t}\n+\t\telse\n+\t\t{\n+\t\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice) + \" gp\");\n+\t\t\tpriceLabel.setToolTipText(\"<html>\" + QuantityFormatter.formatNumber(totalPrice) + \" gp<br>\" + averageString + \" (average)</html>\");\n+\t\t}\n \n \t\tfinal long kills = getTotalKills();\n \t\tif (kills > 1)\n \t\t{\n \t\t\tsubTitleLabel.setText(\"x \" + kills);\n+\t\t\tsubTitleLabel.setToolTipText(averageString + \" (average)\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "21e7224990635c03027723b5b510ca4ed384c92b"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTM1MjgxMQ==", "bodyText": "This was my original way of doing it.  I hovered over the kill count, hoping it would show me the average.  Maybe others have the same approach.\nIf you're okay for it to be left it, I think it's a good location to always be able to see the average, without clicking the button.  I can remove it if you'd prefer though.", "url": "https://github.com/runelite/runelite/pull/10913#discussion_r389352811", "createdAt": "2020-03-08T09:47:14Z", "author": {"login": "mikesena"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerBox.java", "diffHunk": "@@ -215,13 +218,23 @@ void rebuild()\n \t\t\tpriceTypeString = priceType == LootTrackerPriceType.HIGH_ALCHEMY ? \"HA: \" : \"GE: \";\n \t\t}\n \n-\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice) + \" gp\");\n-\t\tpriceLabel.setToolTipText(QuantityFormatter.formatNumber(totalPrice) + \" gp\");\n+\t\tString averageString = kills > 1 ? QuantityFormatter.formatNumber(totalPrice / kills) + \" gp\" : \"0\";\n+\t\tif (showAverage)\n+\t\t{\n+\t\t\tpriceLabel.setText(averageString);\n+\t\t\tpriceLabel.setToolTipText(priceTypeString + QuantityFormatter.formatNumber(totalPrice) + \" gp (total)\");\n+\t\t}\n+\t\telse\n+\t\t{\n+\t\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice) + \" gp\");\n+\t\t\tpriceLabel.setToolTipText(\"<html>\" + QuantityFormatter.formatNumber(totalPrice) + \" gp<br>\" + averageString + \" (average)</html>\");\n+\t\t}\n \n \t\tfinal long kills = getTotalKills();\n \t\tif (kills > 1)\n \t\t{\n \t\t\tsubTitleLabel.setText(\"x \" + kills);\n+\t\t\tsubTitleLabel.setToolTipText(averageString + \" (average)\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMyNjU1MA=="}, "originalCommit": {"oid": "21e7224990635c03027723b5b510ca4ed384c92b"}, "originalPosition": 46}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTgwMjg3Mw==", "bodyText": "I don't think it belongs here, but I'll let others comment with their feelings on this.", "url": "https://github.com/runelite/runelite/pull/10913#discussion_r391802873", "createdAt": "2020-03-12T18:09:36Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerBox.java", "diffHunk": "@@ -215,13 +218,23 @@ void rebuild()\n \t\t\tpriceTypeString = priceType == LootTrackerPriceType.HIGH_ALCHEMY ? \"HA: \" : \"GE: \";\n \t\t}\n \n-\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice) + \" gp\");\n-\t\tpriceLabel.setToolTipText(QuantityFormatter.formatNumber(totalPrice) + \" gp\");\n+\t\tString averageString = kills > 1 ? QuantityFormatter.formatNumber(totalPrice / kills) + \" gp\" : \"0\";\n+\t\tif (showAverage)\n+\t\t{\n+\t\t\tpriceLabel.setText(averageString);\n+\t\t\tpriceLabel.setToolTipText(priceTypeString + QuantityFormatter.formatNumber(totalPrice) + \" gp (total)\");\n+\t\t}\n+\t\telse\n+\t\t{\n+\t\t\tpriceLabel.setText(priceTypeString + QuantityFormatter.quantityToStackSize(totalPrice) + \" gp\");\n+\t\t\tpriceLabel.setToolTipText(\"<html>\" + QuantityFormatter.formatNumber(totalPrice) + \" gp<br>\" + averageString + \" (average)</html>\");\n+\t\t}\n \n \t\tfinal long kills = getTotalKills();\n \t\tif (kills > 1)\n \t\t{\n \t\t\tsubTitleLabel.setText(\"x \" + kills);\n+\t\t\tsubTitleLabel.setToolTipText(averageString + \" (average)\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTMyNjU1MA=="}, "originalCommit": {"oid": "21e7224990635c03027723b5b510ca4ed384c92b"}, "originalPosition": 46}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3862, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}