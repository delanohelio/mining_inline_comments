{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4NDg1MDM5", "number": 12130, "title": "Check diseased and dead states on the Farming Contract Indicator", "bodyText": "Fixes #12124\nAlso fixes an issue with crops requiring health checks showing as in progress instead of occupied if they were already planted and checked before the contract.", "createdAt": "2020-07-13T20:56:03Z", "url": "https://github.com/runelite/runelite/pull/12130", "merged": true, "mergeCommit": {"oid": "67ecfc3cfa9e060325549065302dd5a6c8ae212c"}, "closed": true, "closedAt": "2020-10-12T20:07:18Z", "author": {"login": "Cyborger1"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdAkooiAFqTQ3MTA0MDUzMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdR5X2LgFqTUwNjg3MjI3OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxMDQwNTMz", "url": "https://github.com/runelite/runelite/pull/12130#pullrequestreview-471040533", "createdAt": "2020-08-19T23:58:11Z", "commit": {"oid": "26bee0ca5f27560b417a0eb43d12453c9b44c3f9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQyMzo1ODoxMVrOHDhOBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQyMzo1ODoxMVrOHDhOBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MzQ1MjAzOQ==", "bodyText": "You should use the exact CropState color from enum instead of just defining it as Color.YELLOW. Same goes for L93.", "url": "https://github.com/runelite/runelite/pull/12130#discussion_r473452039", "createdAt": "2020-08-19T23:58:11Z", "author": {"login": "melkypie"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/timetracking/farming/FarmingContractInfoBox.java", "diffHunk": "@@ -82,9 +82,23 @@ public String getTooltip()\n \t\t\t\tcontractColor = ColorScheme.PROGRESS_ERROR_COLOR;\n \t\t\t\tbreak;\n \t\t\tcase IN_PROGRESS:\n-\t\t\t\tcontractDescription = \"Ready \" + TabContentPanel.getFormattedEstimate(manager.getCompletionTime() - Instant.now().getEpochSecond(),\n-\t\t\t\t\tconfig.estimateRelative());\n-\t\t\t\tcontractColor = Color.GRAY;\n+\t\t\t\tswitch (manager.getContractCropState())\n+\t\t\t\t{\n+\t\t\t\t\tcase DISEASED:\n+\t\t\t\t\t\tcontractDescription = \"Diseased\";\n+\t\t\t\t\t\tcontractColor = Color.YELLOW;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "26bee0ca5f27560b417a0eb43d12453c9b44c3f9"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDcxMzAxOTc5", "url": "https://github.com/runelite/runelite/pull/12130#pullrequestreview-471301979", "createdAt": "2020-08-20T07:09:03Z", "commit": {"oid": "0439b1b64b13b4480fb692c95ad7cfdfc444792f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d0fb79827d9fa158fced07c653f07c6d9bae8ed4", "author": {"user": {"login": "Nightfirecat", "name": "Jordan"}}, "url": "https://github.com/runelite/runelite/commit/d0fb79827d9fa158fced07c653f07c6d9bae8ed4", "committedDate": "2020-09-21T03:12:27Z", "message": "style fixup"}, "afterCommit": {"oid": "c8d4264cadfe05ba0e6916aa53e614e560197f53", "author": {"user": {"login": "Cyborger1", "name": null}}, "url": "https://github.com/runelite/runelite/commit/c8d4264cadfe05ba0e6916aa53e614e560197f53", "committedDate": "2020-09-22T04:07:56Z", "message": "Reintroduce Nightfirecat's style fixup lost in the squashing process"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c8d4264cadfe05ba0e6916aa53e614e560197f53", "author": {"user": {"login": "Cyborger1", "name": null}}, "url": "https://github.com/runelite/runelite/commit/c8d4264cadfe05ba0e6916aa53e614e560197f53", "committedDate": "2020-09-22T04:07:56Z", "message": "Reintroduce Nightfirecat's style fixup lost in the squashing process"}, "afterCommit": {"oid": "7a9033b08c8619a72bbea550b6d2ca3aad36e0c6", "author": {"user": {"login": "Cyborger1", "name": null}}, "url": "https://github.com/runelite/runelite/commit/7a9033b08c8619a72bbea550b6d2ca3aad36e0c6", "committedDate": "2020-09-26T20:43:50Z", "message": "Add tests and checking for diseased/dead states to FarmingContractManager"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3a647e206f92889bd7e7998a4c287987a06841e", "author": {"user": {"login": "Cyborger1", "name": null}}, "url": "https://github.com/runelite/runelite/commit/a3a647e206f92889bd7e7998a4c287987a06841e", "committedDate": "2020-10-09T02:36:47Z", "message": "farming: Fix harvestable health-check crops contract status\n\nThis commit fixes a bug which caused the farming contract manager to\nncorrectly report the status of a crop which had been health-checked as\nIN_PROGRESS for an active contract, instead of OCCUPIED."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7a9033b08c8619a72bbea550b6d2ca3aad36e0c6", "author": {"user": {"login": "Cyborger1", "name": null}}, "url": "https://github.com/runelite/runelite/commit/7a9033b08c8619a72bbea550b6d2ca3aad36e0c6", "committedDate": "2020-09-26T20:43:50Z", "message": "Add tests and checking for diseased/dead states to FarmingContractManager"}, "afterCommit": {"oid": "3af5dd16a0c836fe902b46407556d60c92f14de1", "author": {"user": {"login": "Cyborger1", "name": null}}, "url": "https://github.com/runelite/runelite/commit/3af5dd16a0c836fe902b46407556d60c92f14de1", "committedDate": "2020-10-09T02:39:18Z", "message": "farming: Fix contract status for plots with diseased/dead crops\n\nThis commit fixes the farming contract manager's behavior when\nencountering crops which have become diseased. Previously, it would not\ntake this into account and incorrectly report the crop as IN_PROGRESS or\nREADY."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA1MzI1OTUy", "url": "https://github.com/runelite/runelite/pull/12130#pullrequestreview-505325952", "createdAt": "2020-10-09T02:50:03Z", "commit": {"oid": "3af5dd16a0c836fe902b46407556d60c92f14de1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6d78e6884dc2e3e8ff3a45e0e4877a908ae1321c", "author": {"user": {"login": "Cyborger1", "name": null}}, "url": "https://github.com/runelite/runelite/commit/6d78e6884dc2e3e8ff3a45e0e4877a908ae1321c", "committedDate": "2020-10-09T02:52:02Z", "message": "farming: Fix contract status for plots with diseased/dead crops\n\nThis commit fixes the farming contract manager's behavior when\nencountering crops which have become diseased. Previously, it would not\ntake this into account and incorrectly report the crop as IN_PROGRESS or\nREADY."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3af5dd16a0c836fe902b46407556d60c92f14de1", "author": {"user": {"login": "Cyborger1", "name": null}}, "url": "https://github.com/runelite/runelite/commit/3af5dd16a0c836fe902b46407556d60c92f14de1", "committedDate": "2020-10-09T02:39:18Z", "message": "farming: Fix contract status for plots with diseased/dead crops\n\nThis commit fixes the farming contract manager's behavior when\nencountering crops which have become diseased. Previously, it would not\ntake this into account and incorrectly report the crop as IN_PROGRESS or\nREADY."}, "afterCommit": {"oid": "6d78e6884dc2e3e8ff3a45e0e4877a908ae1321c", "author": {"user": {"login": "Cyborger1", "name": null}}, "url": "https://github.com/runelite/runelite/commit/6d78e6884dc2e3e8ff3a45e0e4877a908ae1321c", "committedDate": "2020-10-09T02:52:02Z", "message": "farming: Fix contract status for plots with diseased/dead crops\n\nThis commit fixes the farming contract manager's behavior when\nencountering crops which have become diseased. Previously, it would not\ntake this into account and incorrectly report the crop as IN_PROGRESS or\nREADY."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2ODcyMjc4", "url": "https://github.com/runelite/runelite/pull/12130#pullrequestreview-506872278", "createdAt": "2020-10-12T19:44:35Z", "commit": {"oid": "6d78e6884dc2e3e8ff3a45e0e4877a908ae1321c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3466, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}