{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEyMzU4MDA2", "number": 11429, "title": "Screenshot: Block Untradeable Drops within the Gauntlets", "bodyText": "Closes #11362\nAdds a check to see whether or not you are in the Gauntlet prior to taking a screenshot of an untradeable drop due to spamming of the screenshot directory.", "createdAt": "2020-05-01T23:49:40Z", "url": "https://github.com/runelite/runelite/pull/11429", "merged": true, "mergeCommit": {"oid": "4817d8bdcdccb84d814d399cbf30b04c0bc57289"}, "closed": true, "closedAt": "2020-05-13T20:34:47Z", "author": {"login": "basicDamen"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcdK2SbAFqTQwNDQ1MzIyMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgxVpVgFqTQxMDU4MjE5NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0NDUzMjIx", "url": "https://github.com/runelite/runelite/pull/11429#pullrequestreview-404453221", "createdAt": "2020-05-02T00:04:35Z", "commit": {"oid": "50c62f359c70b0e407d4a131326e35298b57810b"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMlQwMDowNDozNVrOGPYmPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMlQwMDowODowNFrOGPYoiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc4NDgzMQ==", "bodyText": "This needs to account for instances\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\treturn this.client.isInInstancedRegion() && this.client.getMapRegions().length > 0 && (this.client.getMapRegions()[0] == GAUNTLET_REGION_ID || this.client.getMapRegions()[0] == CORRUPTED_GAUNTLET_REGION_ID);\n          \n          \n            \n                          final Player localPlayer = client.getLocalPlayer();\n          \n          \n            \n            \t\tif (localPlayer == null || !client.isInInstancedRegion())\n          \n          \n            \n            \t\t{\n          \n          \n            \n            \t\t\treturn false;\n          \n          \n            \n            \t\t}\n          \n          \n            \n            \t\tfinal WorldPoint p = WorldPoint.fromLocalInstance(client, localPlayer.getLocalLocation());\n          \n          \n            \n            \t\treturn p.getRegionID() == GAUNTLET_REGION_ID || p.getRegionID() == CORRUPTED_GAUNTLET_REGION_ID;", "url": "https://github.com/runelite/runelite/pull/11429#discussion_r418784831", "createdAt": "2020-05-02T00:04:35Z", "author": {"login": "dekvall"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/screenshot/ScreenshotPlugin.java", "diffHunk": "@@ -594,6 +596,11 @@ private void takeScreenshot(String fileName, String subDir, Image image)\n \t\timageCapture.takeScreenshot(screenshot, fileName, subDir, config.notifyWhenTaken(), config.uploadScreenshot());\n \t}\n \n+\tprivate boolean isInsideGauntlet()\n+    {\n+\t\treturn this.client.isInInstancedRegion() && this.client.getMapRegions().length > 0 && (this.client.getMapRegions()[0] == GAUNTLET_REGION_ID || this.client.getMapRegions()[0] == CORRUPTED_GAUNTLET_REGION_ID);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50c62f359c70b0e407d4a131326e35298b57810b"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc4NTAwNQ==", "bodyText": "imo these don't need an ID suffix", "url": "https://github.com/runelite/runelite/pull/11429#discussion_r418785005", "createdAt": "2020-05-02T00:05:31Z", "author": {"login": "dekvall"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/screenshot/ScreenshotPlugin.java", "diffHunk": "@@ -90,6 +90,8 @@\n @Slf4j\n public class ScreenshotPlugin extends Plugin\n {\n+\tprivate static final int GAUNTLET_REGION_ID = 7512;\n+\tprivate static final int CORRUPTED_GAUNTLET_REGION_ID = 7768;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50c62f359c70b0e407d4a131326e35298b57810b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODc4NTQxNw==", "bodyText": "Would there be any reason to want your gauntlet untradeables screenshotted, ie should this be configurable?", "url": "https://github.com/runelite/runelite/pull/11429#discussion_r418785417", "createdAt": "2020-05-02T00:08:04Z", "author": {"login": "dekvall"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/screenshot/ScreenshotPlugin.java", "diffHunk": "@@ -357,7 +359,7 @@ public void onChatMessage(ChatMessage event)\n \t\t\t}\n \t\t}\n \n-\t\tif (config.screenshotUntradeableDrop())\n+\t\tif (config.screenshotUntradeableDrop() && !isInsideGauntlet())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50c62f359c70b0e407d4a131326e35298b57810b"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1NDg2OTg1", "url": "https://github.com/runelite/runelite/pull/11429#pullrequestreview-405486985", "createdAt": "2020-05-05T04:34:00Z", "commit": {"oid": "b94592dc9400dec90be9e84fce08ec53c31a9ff7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ca2e89510af6cb2d0aeab8c6aa4439f1823b4ebc", "author": {"user": {"login": "basicDamen", "name": "Damen"}}, "url": "https://github.com/runelite/runelite/commit/ca2e89510af6cb2d0aeab8c6aa4439f1823b4ebc", "committedDate": "2020-05-13T04:34:22Z", "message": "adds check for being inside normal or corrupted gauntlet"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "96b0e88e7ddbd200bf35e8b16c2feb9b05b3a0e5", "author": {"user": {"login": "basicDamen", "name": "Damen"}}, "url": "https://github.com/runelite/runelite/commit/96b0e88e7ddbd200bf35e8b16c2feb9b05b3a0e5", "committedDate": "2020-05-13T04:34:23Z", "message": "curly brace checkstyle"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e92a783776a9aa1a0c396ac83e11a3c937c81f32", "author": {"user": {"login": "basicDamen", "name": "Damen"}}, "url": "https://github.com/runelite/runelite/commit/e92a783776a9aa1a0c396ac83e11a3c937c81f32", "committedDate": "2020-05-13T04:34:23Z", "message": "indent tab char(?)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0bbdb37eb4bb555fada721e1ab4ab883c73c053d", "author": {"user": {"login": "basicDamen", "name": "Damen"}}, "url": "https://github.com/runelite/runelite/commit/0bbdb37eb4bb555fada721e1ab4ab883c73c053d", "committedDate": "2020-05-13T04:34:40Z", "message": "variable suffix removal & condition separation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1dadc1cf298aaedab857d86fc607b67bd9ee314d", "author": {"user": {"login": "Nightfirecat", "name": "Jordan"}}, "url": "https://github.com/runelite/runelite/commit/1dadc1cf298aaedab857d86fc607b67bd9ee314d", "committedDate": "2020-05-13T04:38:47Z", "message": "cleanup"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwNTgyMTk1", "url": "https://github.com/runelite/runelite/pull/11429#pullrequestreview-410582195", "createdAt": "2020-05-13T04:40:39Z", "commit": {"oid": "1dadc1cf298aaedab857d86fc607b67bd9ee314d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3963, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}