{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1MDQ5ODk5", "number": 12742, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQwMDo1MDoyMVrOE-dg1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQwMTowMzoyOFrOE-dmyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzOTMwNzA5OnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/zalcano/ZalcanoPlugin.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQwMDo1MDoyMVrOH7o15Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQwMDo1MDoyMVrOH7o15Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjI5NzE4OQ==", "bodyText": "We think Zolcano is never an instance. Also this means you can move this off of the client thread if you need.", "url": "https://github.com/runelite/runelite/pull/12742#discussion_r532297189", "createdAt": "2020-11-30T00:50:21Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/zalcano/ZalcanoPlugin.java", "diffHunk": "@@ -183,4 +223,47 @@ public void onProjectileMoved(ProjectileMoved event)\n \t\t\ttargetedGlowingRockEndCycle = projectile.getEndCycle();\n \t\t}\n \t}\n+\n+\t@Subscribe\n+\tpublic void onHitsplatApplied(HitsplatApplied event)\n+\t{\n+\t\tfinal Actor actor = event.getActor();\n+\n+\t\tif (!(actor instanceof NPC))\n+\t\t{\n+\t\t\treturn;\n+\t\t}\n+\n+\t\tint npcId = ((NPC) actor).getId();\n+\n+\t\tif (!(npcId == ZALCANO_WEAKENED || npcId == ZALCANO))\n+\t\t{\n+\t\t\treturn;\n+\t\t}\n+\n+\t\tint damage = event.getHitsplat().getAmount();\n+\t\tHitsplat.HitsplatType type = event.getHitsplat().getHitsplatType();\n+\n+\t\tswitch (type)\n+\t\t{\n+\t\t\tcase DAMAGE_ME:\n+\t\t\t\thealthDamage += damage;\n+\t\t\t\tbreak;\n+\t\t\tcase DAMAGE_ME_ORANGE:\n+\t\t\t\tshieldDamage += damage;\n+\t\t\t\tbreak;\n+\t\t}\n+\t}\n+\n+\tprivate boolean checkArea()\n+\t{\n+\t\tfinal Player localPlayer = client.getLocalPlayer();\n+\t\tif (localPlayer == null)\n+\t\t{\n+\t\t\treturn false;\n+\t\t}\n+\n+\t\tfinal WorldPoint point = WorldPoint.fromLocalInstance(client, localPlayer.getLocalLocation());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9109f2d233be9117db250b578d12c850460f862"}, "originalPosition": 164}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzOTMxNDMwOnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/zalcano/ZalcanoPlugin.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQwMDo1NjowOVrOH7o5oQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQwMDo1NjowOVrOH7o5oQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjI5ODE0NQ==", "bodyText": "If you were to leave in the middle of a round this would not reset, is there a better way to do that?", "url": "https://github.com/runelite/runelite/pull/12742#discussion_r532298145", "createdAt": "2020-11-30T00:56:09Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/zalcano/ZalcanoPlugin.java", "diffHunk": "@@ -132,6 +161,11 @@ public void onNpcDespawned(NpcDespawned event)\n \t\tif (npc.getId() == ZALCANO_WEAKENED)\n \t\t{\n \t\t\tclient.clearHintArrow();\n+\n+\t\t\tif (npc.isDead())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9109f2d233be9117db250b578d12c850460f862"}, "originalPosition": 100}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMzOTMyMjMyOnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/zalcano/ZalcanoPlugin.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQwMTowMzoyOFrOH7o96w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQwMTowMzoyOFrOH7o96w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjI5OTI0Mw==", "bodyText": "This and the rocks.clear() should just be in if (event.getGameState() == GameState.LOADING)", "url": "https://github.com/runelite/runelite/pull/12742#discussion_r532299243", "createdAt": "2020-11-30T01:03:28Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/zalcano/ZalcanoPlugin.java", "diffHunk": "@@ -111,6 +135,11 @@ public void onGameStateChanged(GameStateChanged event)\n \t\t{\n \t\t\trocks.clear();\n \t\t}\n+\t\telse\n+\t\t{\n+\t\t\tinCavern = checkArea();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9109f2d233be9117db250b578d12c850460f862"}, "originalPosition": 89}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3254, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}