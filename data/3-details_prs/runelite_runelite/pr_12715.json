{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEyMjQ3OTgx", "number": 12715, "title": "chatcommands: handle league accounts properly", "bodyText": "Closes #12722\nCurrently !lvl only worked in public/mod chat if you were on a league world with the person who sent it. Adds broad support for the other cases.", "createdAt": "2020-10-29T12:43:31Z", "url": "https://github.com/runelite/runelite/pull/12715", "merged": true, "mergeCommit": {"oid": "fc9f9faff0a60f60c2c04007fe7c7d5bb0950e39"}, "closed": true, "closedAt": "2020-10-30T19:57:28Z", "author": {"login": "SirGirion"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdXRluSgBqjM5MzYxNDI1MzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXrvBHABqjM5NDI3NDk5MjY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9adc488fe29cf758d07a55dace5fed9606a48030", "author": {"user": {"login": "SirGirion", "name": "SirGirion"}}, "url": "https://github.com/runelite/runelite/commit/9adc488fe29cf758d07a55dace5fed9606a48030", "committedDate": "2020-10-29T12:42:25Z", "message": "chatcommands: add support for !lvl sent by league players"}, "afterCommit": {"oid": "e7d5b4aeca9daea93a0b8b5182476ec73e29b72b", "author": {"user": {"login": "SirGirion", "name": "SirGirion"}}, "url": "https://github.com/runelite/runelite/commit/e7d5b4aeca9daea93a0b8b5182476ec73e29b72b", "committedDate": "2020-10-29T12:46:59Z", "message": "chatcommands: add support for !lvl sent by league players"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNzYxODQ0", "url": "https://github.com/runelite/runelite/pull/12715#pullrequestreview-520761844", "createdAt": "2020-10-30T15:09:36Z", "commit": {"oid": "e7d5b4aeca9daea93a0b8b5182476ec73e29b72b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNTowOTozNlrOHrTYsQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNTowOTozNlrOHrTYsQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE2ODQzMw==", "bodyText": "I still don't think this needs an entire account type, but idk", "url": "https://github.com/runelite/runelite/pull/12715#discussion_r515168433", "createdAt": "2020-10-30T15:09:36Z", "author": {"login": "Hydrox6"}, "path": "runelite-api/src/main/java/net/runelite/api/vars/AccountType.java", "diffHunk": "@@ -44,7 +44,11 @@\n \t/**\n \t * Hardcore ironman account type.\n \t */\n-\tHARDCORE_IRONMAN;\n+\tHARDCORE_IRONMAN,\n+\t/**\n+\t * Leagues account type.\n+\t */\n+\tLEAGUE;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e7d5b4aeca9daea93a0b8b5182476ec73e29b72b"}, "originalPosition": 9}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e7d5b4aeca9daea93a0b8b5182476ec73e29b72b", "author": {"user": {"login": "SirGirion", "name": "SirGirion"}}, "url": "https://github.com/runelite/runelite/commit/e7d5b4aeca9daea93a0b8b5182476ec73e29b72b", "committedDate": "2020-10-29T12:46:59Z", "message": "chatcommands: add support for !lvl sent by league players"}, "afterCommit": {"oid": "1e4b3a589cc7951d02dc2825a71358485ff273ea", "author": {"user": {"login": "SirGirion", "name": "SirGirion"}}, "url": "https://github.com/runelite/runelite/commit/1e4b3a589cc7951d02dc2825a71358485ff273ea", "committedDate": "2020-10-30T15:16:50Z", "message": "chatcommands: add support for !lvl sent by league players"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwNzcwODc4", "url": "https://github.com/runelite/runelite/pull/12715#pullrequestreview-520770878", "createdAt": "2020-10-30T15:19:26Z", "commit": {"oid": "1e4b3a589cc7951d02dc2825a71358485ff273ea"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNToxOToyNlrOHrTydg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNToxOToyNlrOHrTydg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTE3NTAzMA==", "bodyText": "this should just be LEAGUE probably", "url": "https://github.com/runelite/runelite/pull/12715#discussion_r515175030", "createdAt": "2020-10-30T15:19:26Z", "author": {"login": "Adam-"}, "path": "runelite-api/src/main/java/net/runelite/api/IconID.java", "diffHunk": "@@ -47,7 +47,8 @@\n \tHARDCORE_IRONMAN(10),\r\n \tNO_ENTRY(11),\r\n \tCHAIN_LINK(12),\r\n-\tBOUNTY_HUNTER_EMBLEM(20);\r\n+\tBOUNTY_HUNTER_EMBLEM(20),\r\n+\tTRAIL_BLAZER_LEAGUE_EMBLEM(22);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1e4b3a589cc7951d02dc2825a71358485ff273ea"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwODAwNzM0", "url": "https://github.com/runelite/runelite/pull/12715#pullrequestreview-520800734", "createdAt": "2020-10-30T15:48:41Z", "commit": {"oid": "36dba6b641f5ed8bffd56af66b4efaab128acabb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIwODEzOTQz", "url": "https://github.com/runelite/runelite/pull/12715#pullrequestreview-520813943", "createdAt": "2020-10-30T16:03:25Z", "commit": {"oid": "36dba6b641f5ed8bffd56af66b4efaab128acabb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNjowMzoyNlrOHrVxpg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0zMFQxNjowMzoyNlrOHrVxpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNTIwNzU5MA==", "bodyText": "Mods chat on leagues uses the pmod icon, so it may be worth leaving this in?", "url": "https://github.com/runelite/runelite/pull/12715#discussion_r515207590", "createdAt": "2020-10-30T16:03:26Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/chatcommands/ChatCommandsPlugin.java", "diffHunk": "@@ -1448,16 +1448,7 @@ private HiscoreLookup getCorrectLookupFor(final ChatMessage chatMessage)\n \t\t\treturn new HiscoreLookup(localPlayer.getName(), hiscoreEndpoint);\n \t\t}\n \n-\t\t// Public chat on a leagues world is always league hiscores, regardless of icon\n-\t\tif (chatMessage.getType() == ChatMessageType.PUBLICCHAT || chatMessage.getType() == ChatMessageType.MODCHAT)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "36dba6b641f5ed8bffd56af66b4efaab128acabb"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e56a12a6b20541961394e684eeb5a4dc8cc5941", "author": {"user": {"login": "SirGirion", "name": "SirGirion"}}, "url": "https://github.com/runelite/runelite/commit/1e56a12a6b20541961394e684eeb5a4dc8cc5941", "committedDate": "2020-10-30T19:14:42Z", "message": "chatcommands: handle league accounts properly"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4e9b6cb9c9e576d3b64ca81891f39af16b507f7e", "author": {"user": {"login": "SirGirion", "name": "SirGirion"}}, "url": "https://github.com/runelite/runelite/commit/4e9b6cb9c9e576d3b64ca81891f39af16b507f7e", "committedDate": "2020-10-30T16:09:33Z", "message": "chatcommands: readd public/modchat check on leagues worlds"}, "afterCommit": {"oid": "1e56a12a6b20541961394e684eeb5a4dc8cc5941", "author": {"user": {"login": "SirGirion", "name": "SirGirion"}}, "url": "https://github.com/runelite/runelite/commit/1e56a12a6b20541961394e684eeb5a4dc8cc5941", "committedDate": "2020-10-30T19:14:42Z", "message": "chatcommands: handle league accounts properly"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3064, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}