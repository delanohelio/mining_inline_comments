{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0NTg0MTQ1", "number": 12071, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMDowNTowNFrOEL4Y8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQwMjo0NTo1OFrOESGozg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwODkzNjgwOnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/screenshot/ScreenshotPlugin.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMDowNTowNFrOGtqz7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMDowNTowNFrOGtqz7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDU0MDUyNw==", "bodyText": "What is an example of text you'd receive when doing a high gamble? That should be added to this plugin's test cases.", "url": "https://github.com/runelite/runelite/pull/12071#discussion_r450540527", "createdAt": "2020-07-07T00:05:04Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/screenshot/ScreenshotPlugin.java", "diffHunk": "@@ -110,6 +110,7 @@\n \tprivate static final ImmutableList<String> PET_MESSAGES = ImmutableList.of(\"You have a funny feeling like you're being followed\",\n \t\t\"You feel something weird sneaking into your backpack\",\n \t\t\"You have a funny feeling like you would have been followed\");\n+\tprivate static final Pattern BA_HIGH_GAMBLE_REWARD_PATTERN = Pattern.compile(\"(.+)!<br>High level gamble count: <col=7f0000>(.+)</col>\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "feb3fc6f012019aa51d49f5e1a473e9baebe12e7"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgwODk0MDI3OnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/screenshot/ScreenshotPlugin.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMDowNjo0OFrOGtq14Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMDowNjo0OFrOGtq14Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDU0MTAyNQ==", "bodyText": "This should be formatted High Gamble(count) like other screenshots. I don't think putting the reward in the filename is valuable.", "url": "https://github.com/runelite/runelite/pull/12071#discussion_r450541025", "createdAt": "2020-07-07T00:06:48Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/screenshot/ScreenshotPlugin.java", "diffHunk": "@@ -626,12 +641,33 @@ else if (verb.contains(\"completely\"))\n \t\treturn \"Quest(\" + quest + ')';\n \t}\n \n+\t/**\n+\t * Parses the Barbarian Assault high gamble reward dialog text into a shortened string for filename usage.\n+\t *\n+\t * @param text The {@link Widget#getText() text} of the {@link WidgetInfo#DIALOG_SPRITE_TEXT} widget.\n+\t * @return Shortened string in the format \"(100) Watermelon seed (x50)\"\n+\t */\n+\tstatic String parseBAHighGambleWidget(final String text)\n+\t{\n+\t\tfinal Matcher highGambleMatch = BA_HIGH_GAMBLE_REWARD_PATTERN.matcher(text);\n+\t\tif (highGambleMatch.find())\n+\t\t{\n+\t\t\tString reward = highGambleMatch.group(1);\n+\t\t\tString gambleCount = highGambleMatch.group(2);\n+\n+\t\t\treturn String.format(\"(%s) %s\", gambleCount, reward);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "feb3fc6f012019aa51d49f5e1a473e9baebe12e7"}, "originalPosition": 74}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3NDE4NTc0OnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/screenshot/ScreenshotPlugin.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQwMjo0NTo1OFrOG3I2vw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yNlQwMjo0NTo1OFrOG3I2vw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDQ2OTk1MQ==", "bodyText": "Now that we're not capturing the reward, we can remove the capturing group and use .group(1) to get the gamble count. Alternatively, each of the groups should be given a name using the syntax (?<name>pattern) and the matcher changed to use Matcher.group(String name) to fetch the captured text instead.\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tprivate static final Pattern BA_HIGH_GAMBLE_REWARD_PATTERN = Pattern.compile(\"(.+)!<br>High level gamble count: <col=7f0000>(.+)</col>\");\n          \n          \n            \n            \tprivate static final Pattern BA_HIGH_GAMBLE_REWARD_PATTERN = Pattern.compile(\"(?<reward>.+)!<br>High level gamble count: <col=7f0000>(?<gambleCount>.+)</col>\");", "url": "https://github.com/runelite/runelite/pull/12071#discussion_r460469951", "createdAt": "2020-07-26T02:45:58Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/screenshot/ScreenshotPlugin.java", "diffHunk": "@@ -110,6 +110,7 @@\n \tprivate static final ImmutableList<String> PET_MESSAGES = ImmutableList.of(\"You have a funny feeling like you're being followed\",\n \t\t\"You feel something weird sneaking into your backpack\",\n \t\t\"You have a funny feeling like you would have been followed\");\n+\tprivate static final Pattern BA_HIGH_GAMBLE_REWARD_PATTERN = Pattern.compile(\"(.+)!<br>High level gamble count: <col=7f0000>(.+)</col>\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "487023b713007138b69b7a94493cf87c2527ccb6"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3420, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}