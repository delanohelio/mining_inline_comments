{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc1NDk2NjI2", "number": 10797, "title": "client: add sessionfile and config arguments", "bodyText": "budget profiles\nThe behavior of this is as follows:\ninput file is relative to the RL dir unless an absolute path or a path that starts with \"./\" or \".\"\nThe --config arg does nothing if the user is logged into runelite (it keeps the current behavior of putting the config in the rl/profile dir)", "createdAt": "2020-02-14T17:33:10Z", "url": "https://github.com/runelite/runelite/pull/10797", "merged": true, "mergeCommit": {"oid": "d19e125998daf43ab9e6274e9ea8af7d677c62e9"}, "closed": true, "closedAt": "2020-03-06T16:47:59Z", "author": {"login": "Trevor159"}, "timelineItems": {"totalCount": 33, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcETgJGgFqTM1OTEyMjQxOA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcLC6uQAFqTM3MDQ2NTg5OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5MTIyNDE4", "url": "https://github.com/runelite/runelite/pull/10797#pullrequestreview-359122418", "createdAt": "2020-02-14T18:05:05Z", "commit": {"oid": "59320e221b3263a0eb97aa1088964e1211db3784"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5NDM1MDIy", "url": "https://github.com/runelite/runelite/pull/10797#pullrequestreview-359435022", "createdAt": "2020-02-16T22:38:36Z", "commit": {"oid": "7442ec301bcf7a5939216781ef2cfbabbfbec326"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNlQyMjozODozNlrOFqVsIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNlQyMjozODozNlrOFqVsIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTkzOTg3Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tparser.accepts(\"sessionfile\", \"Use a specified session file\").withRequiredArg();\n          \n          \n            \n            \t\tArgumentAcceptingOptionSpec<String>  sessionFileOp = parser.accepts(\"sessionfile\", \"Use a specified session file\")\n          \n          \n            \n            \t\t.withRequiredArg()\n          \n          \n            \n            \t\t.defaultsTo(\"session\");\n          \n      \n    \n    \n  \n\nthen use you can just do\nString sessionFile = options.valueOf(sessionFileOp)", "url": "https://github.com/runelite/runelite/pull/10797#discussion_r379939872", "createdAt": "2020-02-16T22:38:36Z", "author": {"login": "abextm"}, "path": "runelite-client/src/main/java/net/runelite/client/RuneLite.java", "diffHunk": "@@ -172,6 +178,8 @@ public static void main(String[] args) throws Exception\n \t\tfinal OptionParser parser = new OptionParser();\n \t\tparser.accepts(\"developer-mode\", \"Enable developer tools\");\n \t\tparser.accepts(\"debug\", \"Show extra debugging output\");\n+\t\tparser.accepts(\"sessionfile\", \"Use a specified session file\").withRequiredArg();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7442ec301bcf7a5939216781ef2cfbabbfbec326"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5NDM1MTEx", "url": "https://github.com/runelite/runelite/pull/10797#pullrequestreview-359435111", "createdAt": "2020-02-16T22:40:14Z", "commit": {"oid": "7442ec301bcf7a5939216781ef2cfbabbfbec326"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNlQyMjo0MDoxNFrOFqVsdA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xNlQyMjo0MDoxNFrOFqVsdA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTkzOTk1Ng==", "bodyText": "also imo these should be Files", "url": "https://github.com/runelite/runelite/pull/10797#discussion_r379939956", "createdAt": "2020-02-16T22:40:14Z", "author": {"login": "abextm"}, "path": "runelite-client/src/main/java/net/runelite/client/RuneLiteModule.java", "diffHunk": "@@ -61,17 +61,23 @@\n \n \tprivate final Supplier<Applet> clientLoader;\n \tprivate final boolean developerMode;\n+\tprivate final String sessionfile;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7442ec301bcf7a5939216781ef2cfbabbfbec326"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7442ec301bcf7a5939216781ef2cfbabbfbec326", "author": {"user": {"login": "Trevor159", "name": "Trevor"}}, "url": "https://github.com/runelite/runelite/commit/7442ec301bcf7a5939216781ef2cfbabbfbec326", "committedDate": "2020-02-16T03:03:51Z", "message": "test still fixed?"}, "afterCommit": {"oid": "c0e973fe2de3d839f7a55369e696863e9e42e501", "author": {"user": {"login": "Trevor159", "name": "Trevor"}}, "url": "https://github.com/runelite/runelite/commit/c0e973fe2de3d839f7a55369e696863e9e42e501", "committedDate": "2020-02-17T02:07:44Z", "message": "client: add sessionfile and config arguments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU5NjY0NDQx", "url": "https://github.com/runelite/runelite/pull/10797#pullrequestreview-359664441", "createdAt": "2020-02-17T11:22:28Z", "commit": {"oid": "c0e973fe2de3d839f7a55369e696863e9e42e501"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QxMToyMjoyOFrOFqhDbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xN1QxMToyMjoyOFrOFqhDbQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MDEyNjA2MQ==", "bodyText": "What if someone is doing ./my-session-file what is relative path and completely valid use-case? Pretty sure then this check will be incorrect", "url": "https://github.com/runelite/runelite/pull/10797#discussion_r380126061", "createdAt": "2020-02-17T11:22:28Z", "author": {"login": "deathbeam"}, "path": "runelite-client/src/main/java/net/runelite/client/account/SessionManager.java", "diffHunk": "@@ -52,35 +55,49 @@\n @Slf4j\n public class SessionManager\n {\n-\tprivate static final File SESSION_FILE = new File(RuneLite.RUNELITE_DIR, \"session\");\n-\n \t@Getter\n \tprivate AccountSession accountSession;\n \n \tprivate final EventBus eventBus;\n \tprivate final ConfigManager configManager;\n \tprivate final WSClient wsClient;\n+\tprivate final File sessionFile;\n \n \t@Inject\n-\tprivate SessionManager(ConfigManager configManager, EventBus eventBus, WSClient wsClient)\n+\tprivate SessionManager(\n+\t\t@Named(\"sessionfile\") String sessionfile,\n+\t\tConfigManager configManager,\n+\t\tEventBus eventBus,\n+\t\tWSClient wsClient)\n \t{\n \t\tthis.configManager = configManager;\n \t\tthis.eventBus = eventBus;\n \t\tthis.wsClient = wsClient;\n+\n+\t\tPath path = Paths.get(sessionfile);\n+\t\tif (path.isAbsolute())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c0e973fe2de3d839f7a55369e696863e9e42e501"}, "originalPosition": 40}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c0e973fe2de3d839f7a55369e696863e9e42e501", "author": {"user": {"login": "Trevor159", "name": "Trevor"}}, "url": "https://github.com/runelite/runelite/commit/c0e973fe2de3d839f7a55369e696863e9e42e501", "committedDate": "2020-02-17T02:07:44Z", "message": "client: add sessionfile and config arguments"}, "afterCommit": {"oid": "d93cdac37479c85e2e391c27655c414356e5e61f", "author": {"user": {"login": "Trevor159", "name": "Trevor"}}, "url": "https://github.com/runelite/runelite/commit/d93cdac37479c85e2e391c27655c414356e5e61f", "committedDate": "2020-02-23T21:25:39Z", "message": "client: add sessionfile and config arguments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2ODk3MDE2", "url": "https://github.com/runelite/runelite/pull/10797#pullrequestreview-366897016", "createdAt": "2020-03-01T23:26:34Z", "commit": {"oid": "d93cdac37479c85e2e391c27655c414356e5e61f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d93cdac37479c85e2e391c27655c414356e5e61f", "author": {"user": {"login": "Trevor159", "name": "Trevor"}}, "url": "https://github.com/runelite/runelite/commit/d93cdac37479c85e2e391c27655c414356e5e61f", "committedDate": "2020-02-23T21:25:39Z", "message": "client: add sessionfile and config arguments"}, "afterCommit": {"oid": "bfb78aee8ce3251ff0ad1a499cc81bae5a512093", "author": {"user": {"login": "Trevor159", "name": "Trevor"}}, "url": "https://github.com/runelite/runelite/commit/bfb78aee8ce3251ff0ad1a499cc81bae5a512093", "committedDate": "2020-03-02T00:23:43Z", "message": "client: add sessionfile and config arguments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3MTI5NDc2", "url": "https://github.com/runelite/runelite/pull/10797#pullrequestreview-367129476", "createdAt": "2020-03-02T11:30:10Z", "commit": {"oid": "bfb78aee8ce3251ff0ad1a499cc81bae5a512093"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3Mzk1OTUx", "url": "https://github.com/runelite/runelite/pull/10797#pullrequestreview-367395951", "createdAt": "2020-03-02T17:44:19Z", "commit": {"oid": "bfb78aee8ce3251ff0ad1a499cc81bae5a512093"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNzo0NDoxOVrOFwo5Cg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxNzo0NDoxOVrOFwo5Cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjU0NTkzMA==", "bodyText": "Did you try ofType(File.class);? Does that work?", "url": "https://github.com/runelite/runelite/pull/10797#discussion_r386545930", "createdAt": "2020-03-02T17:44:19Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/RuneLite.java", "diffHunk": "@@ -172,6 +176,10 @@ public static void main(String[] args) throws Exception\n \t\tfinal OptionParser parser = new OptionParser();\n \t\tparser.accepts(\"developer-mode\", \"Enable developer tools\");\n \t\tparser.accepts(\"debug\", \"Show extra debugging output\");\n+\t\tparser.accepts(\"sessionfile\", \"Use a specified session file\")\n+\t\t\t.withRequiredArg().defaultsTo(DEFAULT_SESSION_FILE);\n+\t\tparser.accepts(\"config\", \"Use a specified config file\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bfb78aee8ce3251ff0ad1a499cc81bae5a512093"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3NjM3NDg4", "url": "https://github.com/runelite/runelite/pull/10797#pullrequestreview-367637488", "createdAt": "2020-03-03T00:59:31Z", "commit": {"oid": "324f4be3d948f50af5fcc35d946a2a95ff1d254e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QwMDo1OTozMVrOFw028w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QwMDo1OTozMVrOFw028w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njc0MjAwMw==", "bodyText": "You can just store this as local variable so you can get File from it without casting (see updateMode)", "url": "https://github.com/runelite/runelite/pull/10797#discussion_r386742003", "createdAt": "2020-03-03T00:59:31Z", "author": {"login": "deathbeam"}, "path": "runelite-client/src/main/java/net/runelite/client/RuneLite.java", "diffHunk": "@@ -177,9 +178,11 @@ public static void main(String[] args) throws Exception\n \t\tparser.accepts(\"developer-mode\", \"Enable developer tools\");\n \t\tparser.accepts(\"debug\", \"Show extra debugging output\");\n \t\tparser.accepts(\"sessionfile\", \"Use a specified session file\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "324f4be3d948f50af5fcc35d946a2a95ff1d254e"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3NjM3NzMy", "url": "https://github.com/runelite/runelite/pull/10797#pullrequestreview-367637732", "createdAt": "2020-03-03T01:00:18Z", "commit": {"oid": "324f4be3d948f50af5fcc35d946a2a95ff1d254e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QwMTowMDoxOFrOFw03vA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QwMTowMDoxOFrOFw03vA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njc0MjIwNA==", "bodyText": "I dont think you need to actually override this and valuePattern", "url": "https://github.com/runelite/runelite/pull/10797#discussion_r386742204", "createdAt": "2020-03-03T01:00:18Z", "author": {"login": "deathbeam"}, "path": "runelite-client/src/main/java/net/runelite/client/RuneLite.java", "diffHunk": "@@ -358,6 +374,37 @@ public void shutdown()\n \t\tdiscordService.close();\n \t}\n \n+\tprivate static class FileConverter implements ValueConverter<File>\n+\t{\n+\t\t@Override\n+\t\tpublic File convert(String fileName)\n+\t\t{\n+\t\t\tPath path = Paths.get(fileName);\n+\t\t\tif (path.isAbsolute()\n+\t\t\t\t|| fileName.startsWith(\"./\")\n+\t\t\t\t|| fileName.startsWith(\".\\\\\"))\n+\t\t\t{\n+\t\t\t\treturn new File(fileName);\n+\t\t\t}\n+\t\t\telse\n+\t\t\t{\n+\t\t\t\treturn new File(RuneLite.RUNELITE_DIR, fileName);\n+\t\t\t}\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic Class<? extends File> valueType()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "324f4be3d948f50af5fcc35d946a2a95ff1d254e"}, "originalPosition": 82}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MDU5MzU0", "url": "https://github.com/runelite/runelite/pull/10797#pullrequestreview-368059354", "createdAt": "2020-03-03T15:09:27Z", "commit": {"oid": "3a8003e6ec378fd48250c0012bb3834cf2698677"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNTowOToyN1rOFxJvUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxNTowOToyN1rOFxJvUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzA4NDExNQ==", "bodyText": "By not overriding it I meant those methods should not need to be there", "url": "https://github.com/runelite/runelite/pull/10797#discussion_r387084115", "createdAt": "2020-03-03T15:09:27Z", "author": {"login": "deathbeam"}, "path": "runelite-client/src/main/java/net/runelite/client/RuneLite.java", "diffHunk": "@@ -358,6 +374,37 @@ public void shutdown()\n \t\tdiscordService.close();\n \t}\n \n+\tprivate static class FileConverter implements ValueConverter<File>\n+\t{\n+\t\t@Override\n+\t\tpublic File convert(String fileName)\n+\t\t{\n+\t\t\tPath path = Paths.get(fileName);\n+\t\t\tif (path.isAbsolute()\n+\t\t\t\t|| fileName.startsWith(\"./\")\n+\t\t\t\t|| fileName.startsWith(\".\\\\\"))\n+\t\t\t{\n+\t\t\t\treturn new File(fileName);\n+\t\t\t}\n+\t\t\telse\n+\t\t\t{\n+\t\t\t\treturn new File(RuneLite.RUNELITE_DIR, fileName);\n+\t\t\t}\n+\t\t}\n+\n+\t\t@Override\n+\t\tpublic Class<? extends File> valueType()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njc0MjIwNA=="}, "originalCommit": {"oid": "324f4be3d948f50af5fcc35d946a2a95ff1d254e"}, "originalPosition": 82}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ed241d5ae20a66cd494d455822f8a107d4d2600f", "author": {"user": {"login": "deathbeam", "name": "Tomas Slusny"}}, "url": "https://github.com/runelite/runelite/commit/ed241d5ae20a66cd494d455822f8a107d4d2600f", "committedDate": "2020-03-03T20:02:55Z", "message": "Cleanup + add some validation\n\nSigned-off-by: Tomas Slusny <slusnucky@gmail.com>"}, "afterCommit": {"oid": "aa6b88e23d7f00e8134cfdcfc451980a4e52e189", "author": {"user": {"login": "deathbeam", "name": "Tomas Slusny"}}, "url": "https://github.com/runelite/runelite/commit/aa6b88e23d7f00e8134cfdcfc451980a4e52e189", "committedDate": "2020-03-03T20:04:37Z", "message": "Cleanup + add some validation\n\nSigned-off-by: Tomas Slusny <slusnucky@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4Mjg3NjEx", "url": "https://github.com/runelite/runelite/pull/10797#pullrequestreview-368287611", "createdAt": "2020-03-03T20:08:23Z", "commit": {"oid": "aa6b88e23d7f00e8134cfdcfc451980a4e52e189"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4Mjg5NjU3", "url": "https://github.com/runelite/runelite/pull/10797#pullrequestreview-368289657", "createdAt": "2020-03-03T20:11:29Z", "commit": {"oid": "aa6b88e23d7f00e8134cfdcfc451980a4e52e189"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QyMDoxMTozMFrOFxU2qA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QyMDoxMTozMFrOFxU2qA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzI2NjIxNg==", "bodyText": "Should the file have to exist? With the current config/session implementation it will generate the file if it does not exist.", "url": "https://github.com/runelite/runelite/pull/10797#discussion_r387266216", "createdAt": "2020-03-03T20:11:30Z", "author": {"login": "Trevor159"}, "path": "runelite-client/src/main/java/net/runelite/client/util/JoptFileConverter.java", "diffHunk": "@@ -0,0 +1,74 @@\n+/*\n+ * Copyright (c) 2020, Trevor <https://github.com/Trevor159>\n+ * Copyright (c) 2020, Tomas Slusny <slusnucky@gmail.com>\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright notice, this\n+ *    list of conditions and the following disclaimer.\n+ * 2. Redistributions in binary form must reproduce the above copyright notice,\n+ *    this list of conditions and the following disclaimer in the documentation\n+ *    and/or other materials provided with the distribution.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n+ * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n+ * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n+ * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+ * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ */\n+package net.runelite.client.util;\n+\n+import java.io.File;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import joptsimple.ValueConversionException;\n+import joptsimple.ValueConverter;\n+import net.runelite.client.RuneLite;\n+\n+public class JoptFileConverter implements ValueConverter<File>\n+{\n+\t@Override\n+\tpublic File convert(String fileName)\n+\t{\n+\t\tfinal File file;\n+\n+\t\tif (Paths.get(fileName).isAbsolute()\n+\t\t\t|| fileName.startsWith(\"./\")\n+\t\t\t|| fileName.startsWith(\".\\\\\"))\n+\t\t{\n+\t\t\tfile = new File(fileName);\n+\t\t}\n+\t\telse\n+\t\t{\n+\t\t\tfile = new File(RuneLite.RUNELITE_DIR, fileName);\n+\t\t}\n+\n+\t\tfinal Path path = Paths.get(file.getAbsolutePath());\n+\n+\t\tif (!Files.exists(path) || !Files.isRegularFile(path) || !Files.isWritable(path)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa6b88e23d7f00e8134cfdcfc451980a4e52e189"}, "originalPosition": 56}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MjkyNjQz", "url": "https://github.com/runelite/runelite/pull/10797#pullrequestreview-368292643", "createdAt": "2020-03-03T20:15:59Z", "commit": {"oid": "aa6b88e23d7f00e8134cfdcfc451980a4e52e189"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QyMDoxNTo1OVrOFxVAIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QyMDoxNTo1OVrOFxVAIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzI2ODY0MQ==", "bodyText": "This should have a name that describes what it is doing", "url": "https://github.com/runelite/runelite/pull/10797#discussion_r387268641", "createdAt": "2020-03-03T20:15:59Z", "author": {"login": "abextm"}, "path": "runelite-client/src/main/java/net/runelite/client/util/JoptFileConverter.java", "diffHunk": "@@ -0,0 +1,74 @@\n+/*\n+ * Copyright (c) 2020, Trevor <https://github.com/Trevor159>\n+ * Copyright (c) 2020, Tomas Slusny <slusnucky@gmail.com>\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright notice, this\n+ *    list of conditions and the following disclaimer.\n+ * 2. Redistributions in binary form must reproduce the above copyright notice,\n+ *    this list of conditions and the following disclaimer in the documentation\n+ *    and/or other materials provided with the distribution.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n+ * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n+ * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n+ * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+ * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ */\n+package net.runelite.client.util;\n+\n+import java.io.File;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import joptsimple.ValueConversionException;\n+import joptsimple.ValueConverter;\n+import net.runelite.client.RuneLite;\n+\n+public class JoptFileConverter implements ValueConverter<File>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa6b88e23d7f00e8134cfdcfc451980a4e52e189"}, "originalPosition": 36}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aa6b88e23d7f00e8134cfdcfc451980a4e52e189", "author": {"user": {"login": "deathbeam", "name": "Tomas Slusny"}}, "url": "https://github.com/runelite/runelite/commit/aa6b88e23d7f00e8134cfdcfc451980a4e52e189", "committedDate": "2020-03-03T20:04:37Z", "message": "Cleanup + add some validation\n\nSigned-off-by: Tomas Slusny <slusnucky@gmail.com>"}, "afterCommit": {"oid": "55d5cb6bce086a1078edc8c373acd127dd73ec8f", "author": {"user": {"login": "deathbeam", "name": "Tomas Slusny"}}, "url": "https://github.com/runelite/runelite/commit/55d5cb6bce086a1078edc8c373acd127dd73ec8f", "committedDate": "2020-03-03T20:17:35Z", "message": "Cleanup + add some validation\n\nSigned-off-by: Tomas Slusny <slusnucky@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "55d5cb6bce086a1078edc8c373acd127dd73ec8f", "author": {"user": {"login": "deathbeam", "name": "Tomas Slusny"}}, "url": "https://github.com/runelite/runelite/commit/55d5cb6bce086a1078edc8c373acd127dd73ec8f", "committedDate": "2020-03-03T20:17:35Z", "message": "Cleanup + add some validation\n\nSigned-off-by: Tomas Slusny <slusnucky@gmail.com>"}, "afterCommit": {"oid": "a1c3b16de711389fce1b3d9d043b05b0f8e3d3df", "author": {"user": {"login": "deathbeam", "name": "Tomas Slusny"}}, "url": "https://github.com/runelite/runelite/commit/a1c3b16de711389fce1b3d9d043b05b0f8e3d3df", "committedDate": "2020-03-03T20:18:23Z", "message": "Cleanup + add some validation\n\nSigned-off-by: Tomas Slusny <slusnucky@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4Mjk0Nzcz", "url": "https://github.com/runelite/runelite/pull/10797#pullrequestreview-368294773", "createdAt": "2020-03-03T20:19:28Z", "commit": {"oid": "a1c3b16de711389fce1b3d9d043b05b0f8e3d3df"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QyMDoxOToyOFrOFxVHAQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QyMDoxOToyOFrOFxVHAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzI3MDQwMQ==", "bodyText": "thats even worse", "url": "https://github.com/runelite/runelite/pull/10797#discussion_r387270401", "createdAt": "2020-03-03T20:19:28Z", "author": {"login": "abextm"}, "path": "runelite-client/src/main/java/net/runelite/client/util/JoptValueToFileConverter.java", "diffHunk": "@@ -0,0 +1,74 @@\n+/*\n+ * Copyright (c) 2020, Trevor <https://github.com/Trevor159>\n+ * Copyright (c) 2020, Tomas Slusny <slusnucky@gmail.com>\n+ * All rights reserved.\n+ *\n+ * Redistribution and use in source and binary forms, with or without\n+ * modification, are permitted provided that the following conditions are met:\n+ *\n+ * 1. Redistributions of source code must retain the above copyright notice, this\n+ *    list of conditions and the following disclaimer.\n+ * 2. Redistributions in binary form must reproduce the above copyright notice,\n+ *    this list of conditions and the following disclaimer in the documentation\n+ *    and/or other materials provided with the distribution.\n+ *\n+ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\n+ * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n+ * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n+ * DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR\n+ * ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n+ * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n+ * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n+ * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n+ * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n+ * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n+ */\n+package net.runelite.client.util;\n+\n+import java.io.File;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import joptsimple.ValueConversionException;\n+import joptsimple.ValueConverter;\n+import net.runelite.client.RuneLite;\n+\n+public class JoptValueToFileConverter implements ValueConverter<File>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1c3b16de711389fce1b3d9d043b05b0f8e3d3df"}, "originalPosition": 36}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a1c3b16de711389fce1b3d9d043b05b0f8e3d3df", "author": {"user": {"login": "deathbeam", "name": "Tomas Slusny"}}, "url": "https://github.com/runelite/runelite/commit/a1c3b16de711389fce1b3d9d043b05b0f8e3d3df", "committedDate": "2020-03-03T20:18:23Z", "message": "Cleanup + add some validation\n\nSigned-off-by: Tomas Slusny <slusnucky@gmail.com>"}, "afterCommit": {"oid": "1bf55feb359eef78f04572ace2c1f39e37d2f9a1", "author": {"user": {"login": "deathbeam", "name": "Tomas Slusny"}}, "url": "https://github.com/runelite/runelite/commit/1bf55feb359eef78f04572ace2c1f39e37d2f9a1", "committedDate": "2020-03-03T20:33:36Z", "message": "Cleanup + add some validation\n\nSigned-off-by: Tomas Slusny <slusnucky@gmail.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MzA4NDI5", "url": "https://github.com/runelite/runelite/pull/10797#pullrequestreview-368308429", "createdAt": "2020-03-03T20:41:50Z", "commit": {"oid": "1bf55feb359eef78f04572ace2c1f39e37d2f9a1"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QyMDo0MTo1MFrOFxVxDw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QyMDo0MTo1MFrOFxVxDw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzI4MTE2Nw==", "bodyText": "Why do we convert to nio just for this?\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\tif (Files.exists(path) && (!Files.isRegularFile(path) || !Files.isWritable(path)))\n          \n          \n            \n            \t\t\tif (file.exists() && (!file.isFile() || !file.canWrite()))", "url": "https://github.com/runelite/runelite/pull/10797#discussion_r387281167", "createdAt": "2020-03-03T20:41:50Z", "author": {"login": "abextm"}, "path": "runelite-client/src/main/java/net/runelite/client/RuneLite.java", "diffHunk": "@@ -373,38 +375,50 @@ public void shutdown()\n \t\tdiscordService.close();\n \t}\n \n-\tprivate static class FileConverter implements ValueConverter<File>\n+\t@VisibleForTesting\n+\tpublic static void setInjector(Injector injector)\n+\t{\n+\t\tRuneLite.injector = injector;\n+\t}\n+\n+\tprivate static class ConfigFileConverter implements ValueConverter<File>\n \t{\n \t\t@Override\n \t\tpublic File convert(String fileName)\n \t\t{\n-\t\t\tPath path = Paths.get(fileName);\n-\t\t\tif (path.isAbsolute()\n+\t\t\tfinal File file;\n+\n+\t\t\tif (Paths.get(fileName).isAbsolute()\n \t\t\t\t|| fileName.startsWith(\"./\")\n \t\t\t\t|| fileName.startsWith(\".\\\\\"))\n \t\t\t{\n-\t\t\t\treturn new File(fileName);\n+\t\t\t\tfile = new File(fileName);\n \t\t\t}\n \t\t\telse\n \t\t\t{\n-\t\t\t\treturn new File(RuneLite.RUNELITE_DIR, fileName);\n+\t\t\t\tfile = new File(RuneLite.RUNELITE_DIR, fileName);\n \t\t\t}\n+\n+\t\t\tfinal Path path = Paths.get(file.getAbsolutePath());\n+\n+\t\t\tif (Files.exists(path) && (!Files.isRegularFile(path) || !Files.isWritable(path)))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1bf55feb359eef78f04572ace2c1f39e37d2f9a1"}, "originalPosition": 79}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1bf55feb359eef78f04572ace2c1f39e37d2f9a1", "author": {"user": {"login": "deathbeam", "name": "Tomas Slusny"}}, "url": "https://github.com/runelite/runelite/commit/1bf55feb359eef78f04572ace2c1f39e37d2f9a1", "committedDate": "2020-03-03T20:33:36Z", "message": "Cleanup + add some validation\n\nSigned-off-by: Tomas Slusny <slusnucky@gmail.com>"}, "afterCommit": {"oid": "d5eeffc4c3c5edc96414516aa64fd85ccf41df62", "author": {"user": {"login": "deathbeam", "name": "Tomas Slusny"}}, "url": "https://github.com/runelite/runelite/commit/d5eeffc4c3c5edc96414516aa64fd85ccf41df62", "committedDate": "2020-03-03T20:43:21Z", "message": "Cleanup + add some validation\n\nSigned-off-by: Tomas Slusny <slusnucky@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "701a4748c4e8faa1c182fb089fbddd9769d92083", "author": {"user": {"login": "Trevor159", "name": "Trevor"}}, "url": "https://github.com/runelite/runelite/commit/701a4748c4e8faa1c182fb089fbddd9769d92083", "committedDate": "2020-03-03T21:12:19Z", "message": "client: add sessionfile and config arguments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6dbda55e4bf3f961d1da7174c4f7bcf4df627e4", "author": {"user": {"login": "Trevor159", "name": "Trevor"}}, "url": "https://github.com/runelite/runelite/commit/c6dbda55e4bf3f961d1da7174c4f7bcf4df627e4", "committedDate": "2020-03-03T21:12:19Z", "message": "test withValuesConvertedBy"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1910861e64e9937dc68e85ad62419da7a6767cd", "author": {"user": {"login": "Trevor159", "name": "Trevor"}}, "url": "https://github.com/runelite/runelite/commit/e1910861e64e9937dc68e85ad62419da7a6767cd", "committedDate": "2020-03-03T21:12:19Z", "message": "feedback"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ca0e573e5f3c15b5815b54091facf5a2f9f2f25", "author": {"user": {"login": "deathbeam", "name": "Tomas Slusny"}}, "url": "https://github.com/runelite/runelite/commit/6ca0e573e5f3c15b5815b54091facf5a2f9f2f25", "committedDate": "2020-03-03T21:12:19Z", "message": "Cleanup + add some validation\n\nSigned-off-by: Tomas Slusny <slusnucky@gmail.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a1b77652b5750fdadccfcb25ded48154960c07e5", "author": {"user": {"login": "Trevor159", "name": "Trevor"}}, "url": "https://github.com/runelite/runelite/commit/a1b77652b5750fdadccfcb25ded48154960c07e5", "committedDate": "2020-03-03T21:10:57Z", "message": "use immediate deps for tests"}, "afterCommit": {"oid": "f5a2a5ef0d4d62f8e16fcd3ed31e5895ae965b0b", "author": {"user": {"login": "Trevor159", "name": "Trevor"}}, "url": "https://github.com/runelite/runelite/commit/f5a2a5ef0d4d62f8e16fcd3ed31e5895ae965b0b", "committedDate": "2020-03-03T21:12:19Z", "message": "use immediate deps for tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f5a2a5ef0d4d62f8e16fcd3ed31e5895ae965b0b", "author": {"user": {"login": "Trevor159", "name": "Trevor"}}, "url": "https://github.com/runelite/runelite/commit/f5a2a5ef0d4d62f8e16fcd3ed31e5895ae965b0b", "committedDate": "2020-03-03T21:12:19Z", "message": "use immediate deps for tests"}, "afterCommit": {"oid": "76174f72580376e9e628ca30f3edd6a7d42839dd", "author": {"user": {"login": "Trevor159", "name": "Trevor"}}, "url": "https://github.com/runelite/runelite/commit/76174f72580376e9e628ca30f3edd6a7d42839dd", "committedDate": "2020-03-03T21:15:43Z", "message": "use immediate deps for tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "72f95aedb1bb90b6f0a5435c5564da572cb2c1f9", "author": {"user": {"login": "Trevor159", "name": "Trevor"}}, "url": "https://github.com/runelite/runelite/commit/72f95aedb1bb90b6f0a5435c5564da572cb2c1f9", "committedDate": "2020-03-03T21:21:45Z", "message": "use immediate deps for tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "76174f72580376e9e628ca30f3edd6a7d42839dd", "author": {"user": {"login": "Trevor159", "name": "Trevor"}}, "url": "https://github.com/runelite/runelite/commit/76174f72580376e9e628ca30f3edd6a7d42839dd", "committedDate": "2020-03-03T21:15:43Z", "message": "use immediate deps for tests"}, "afterCommit": {"oid": "72f95aedb1bb90b6f0a5435c5564da572cb2c1f9", "author": {"user": {"login": "Trevor159", "name": "Trevor"}}, "url": "https://github.com/runelite/runelite/commit/72f95aedb1bb90b6f0a5435c5564da572cb2c1f9", "committedDate": "2020-03-03T21:21:45Z", "message": "use immediate deps for tests"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MzM3NjEx", "url": "https://github.com/runelite/runelite/pull/10797#pullrequestreview-368337611", "createdAt": "2020-03-03T21:28:38Z", "commit": {"oid": "72f95aedb1bb90b6f0a5435c5564da572cb2c1f9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNDY1ODk5", "url": "https://github.com/runelite/runelite/pull/10797#pullrequestreview-370465899", "createdAt": "2020-03-06T16:43:11Z", "commit": {"oid": "72f95aedb1bb90b6f0a5435c5564da572cb2c1f9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNjo0MzoxMVrOFy_hug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxNjo0MzoxMVrOFy_hug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTAxMzk0Ng==", "bodyText": "This is probably not less-correct than before, but I think the config writing code still has races since it does an open+truncate and then lock. So, I think it could truncate a file while another RL is holding a lock and writing to it.", "url": "https://github.com/runelite/runelite/pull/10797#discussion_r389013946", "createdAt": "2020-03-06T16:43:11Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/config/ConfigManager.java", "diffHunk": "@@ -331,7 +335,7 @@ private void saveToFile(final File propertiesFile) throws IOException\n \n \t\tparent.mkdirs();\n \n-\t\tFile tempFile = new File(parent, SETTINGS_FILE_NAME + \".tmp\");\n+\t\tFile tempFile = new File(parent, RuneLite.DEFAULT_CONFIG_FILE + \".tmp\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72f95aedb1bb90b6f0a5435c5564da572cb2c1f9"}, "originalPosition": 56}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4232, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}