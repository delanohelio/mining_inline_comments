{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1MDQ5ODk5", "number": 12742, "title": "zalcano: add damage counter", "bodyText": "Adds a panel which tracks damage dealt to Zalcano's health and shield\nto make it easier prioritising what to focus on at a low level.", "createdAt": "2020-11-03T23:40:29Z", "url": "https://github.com/runelite/runelite/pull/12742", "merged": true, "mergeCommit": {"oid": "e6169ab79b5923213dac57bb5c68663e5f7a265b"}, "closed": true, "closedAt": "2020-12-13T16:21:53Z", "author": {"login": "dekvall"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZCCVTABqjM5NTUyMzQxODU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdlzAmlgBqjQxMDYxNDIzNzQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ea773f5ba3404d22849e322450f3601b98941405", "author": {"user": {"login": "dekvall", "name": null}}, "url": "https://github.com/runelite/runelite/commit/ea773f5ba3404d22849e322450f3601b98941405", "committedDate": "2020-11-03T23:37:50Z", "message": "zalcano: add damage counter\n\nAdds a panel which tracks damage dealt to Zalcano's health and shield\nto make it easier prioritising what to focus on at a low level."}, "afterCommit": {"oid": "d9109f2d233be9117db250b578d12c850460f862", "author": {"user": {"login": "dekvall", "name": null}}, "url": "https://github.com/runelite/runelite/commit/d9109f2d233be9117db250b578d12c850460f862", "committedDate": "2020-11-03T23:47:28Z", "message": "zalcano: add damage counter\n\nAdds a panel which tracks damage dealt to Zalcano's health and shield\nto make it easier prioritising what to focus on at a low level."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwNTQ0MzU2", "url": "https://github.com/runelite/runelite/pull/12742#pullrequestreview-540544356", "createdAt": "2020-11-30T00:50:21Z", "commit": {"oid": "d9109f2d233be9117db250b578d12c850460f862"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQwMDo1MDoyMVrOH7o15Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQwMDo1MDoyMVrOH7o15Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjI5NzE4OQ==", "bodyText": "We think Zolcano is never an instance. Also this means you can move this off of the client thread if you need.", "url": "https://github.com/runelite/runelite/pull/12742#discussion_r532297189", "createdAt": "2020-11-30T00:50:21Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/zalcano/ZalcanoPlugin.java", "diffHunk": "@@ -183,4 +223,47 @@ public void onProjectileMoved(ProjectileMoved event)\n \t\t\ttargetedGlowingRockEndCycle = projectile.getEndCycle();\n \t\t}\n \t}\n+\n+\t@Subscribe\n+\tpublic void onHitsplatApplied(HitsplatApplied event)\n+\t{\n+\t\tfinal Actor actor = event.getActor();\n+\n+\t\tif (!(actor instanceof NPC))\n+\t\t{\n+\t\t\treturn;\n+\t\t}\n+\n+\t\tint npcId = ((NPC) actor).getId();\n+\n+\t\tif (!(npcId == ZALCANO_WEAKENED || npcId == ZALCANO))\n+\t\t{\n+\t\t\treturn;\n+\t\t}\n+\n+\t\tint damage = event.getHitsplat().getAmount();\n+\t\tHitsplat.HitsplatType type = event.getHitsplat().getHitsplatType();\n+\n+\t\tswitch (type)\n+\t\t{\n+\t\t\tcase DAMAGE_ME:\n+\t\t\t\thealthDamage += damage;\n+\t\t\t\tbreak;\n+\t\t\tcase DAMAGE_ME_ORANGE:\n+\t\t\t\tshieldDamage += damage;\n+\t\t\t\tbreak;\n+\t\t}\n+\t}\n+\n+\tprivate boolean checkArea()\n+\t{\n+\t\tfinal Player localPlayer = client.getLocalPlayer();\n+\t\tif (localPlayer == null)\n+\t\t{\n+\t\t\treturn false;\n+\t\t}\n+\n+\t\tfinal WorldPoint point = WorldPoint.fromLocalInstance(client, localPlayer.getLocalLocation());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9109f2d233be9117db250b578d12c850460f862"}, "originalPosition": 164}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwNTQ1MjY4", "url": "https://github.com/runelite/runelite/pull/12742#pullrequestreview-540545268", "createdAt": "2020-11-30T00:56:09Z", "commit": {"oid": "d9109f2d233be9117db250b578d12c850460f862"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQwMDo1NjowOVrOH7o5oQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQwMDo1NjowOVrOH7o5oQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjI5ODE0NQ==", "bodyText": "If you were to leave in the middle of a round this would not reset, is there a better way to do that?", "url": "https://github.com/runelite/runelite/pull/12742#discussion_r532298145", "createdAt": "2020-11-30T00:56:09Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/zalcano/ZalcanoPlugin.java", "diffHunk": "@@ -132,6 +161,11 @@ public void onNpcDespawned(NpcDespawned event)\n \t\tif (npc.getId() == ZALCANO_WEAKENED)\n \t\t{\n \t\t\tclient.clearHintArrow();\n+\n+\t\t\tif (npc.isDead())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9109f2d233be9117db250b578d12c850460f862"}, "originalPosition": 100}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwNTQ2NDI3", "url": "https://github.com/runelite/runelite/pull/12742#pullrequestreview-540546427", "createdAt": "2020-11-30T01:03:27Z", "commit": {"oid": "d9109f2d233be9117db250b578d12c850460f862"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQwMTowMzoyOFrOH7o96w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0zMFQwMTowMzoyOFrOH7o96w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMjI5OTI0Mw==", "bodyText": "This and the rocks.clear() should just be in if (event.getGameState() == GameState.LOADING)", "url": "https://github.com/runelite/runelite/pull/12742#discussion_r532299243", "createdAt": "2020-11-30T01:03:28Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/zalcano/ZalcanoPlugin.java", "diffHunk": "@@ -111,6 +135,11 @@ public void onGameStateChanged(GameStateChanged event)\n \t\t{\n \t\t\trocks.clear();\n \t\t}\n+\t\telse\n+\t\t{\n+\t\t\tinCavern = checkArea();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9109f2d233be9117db250b578d12c850460f862"}, "originalPosition": 89}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e7e2c5f78dfaac445fa84a5f851d23b91a12df20", "author": {"user": {"login": "Adam-", "name": "Adam"}}, "url": "https://github.com/runelite/runelite/commit/e7e2c5f78dfaac445fa84a5f851d23b91a12df20", "committedDate": "2020-11-30T02:18:09Z", "message": "more cleanup v3"}, "afterCommit": {"oid": "542a6e7498e67d07f829c3a28910a9e490288c00", "author": {"user": {"login": "dekvall", "name": null}}, "url": "https://github.com/runelite/runelite/commit/542a6e7498e67d07f829c3a28910a9e490288c00", "committedDate": "2020-12-01T03:10:19Z", "message": "zalcano: add damage counter\n\nAdds a panel which tracks damage dealt to Zalcano's health and shield\nto make it easier prioritising what to focus on at a low level.\n\nCo-authored-by: Adam <Adam@sigterm.info>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "542a6e7498e67d07f829c3a28910a9e490288c00", "author": {"user": {"login": "dekvall", "name": null}}, "url": "https://github.com/runelite/runelite/commit/542a6e7498e67d07f829c3a28910a9e490288c00", "committedDate": "2020-12-01T03:10:19Z", "message": "zalcano: add damage counter\n\nAdds a panel which tracks damage dealt to Zalcano's health and shield\nto make it easier prioritising what to focus on at a low level.\n\nCo-authored-by: Adam <Adam@sigterm.info>"}, "afterCommit": {"oid": "ec69e7bf6f5b31adcf20c42d8ded09410ff40511", "author": {"user": {"login": "dekvall", "name": null}}, "url": "https://github.com/runelite/runelite/commit/ec69e7bf6f5b31adcf20c42d8ded09410ff40511", "committedDate": "2020-12-12T18:15:32Z", "message": "zalcano: add damage counter\n\nAdds a panel which tracks damage dealt to Zalcano's health and shield\nto make it easier prioritising what to focus on at a low level.\n\nCo-authored-by: Adam <Adam@sigterm.info>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "86771fb222f589972e4ee861a9c61ca22c0f8212", "author": {"user": {"login": "dekvall", "name": null}}, "url": "https://github.com/runelite/runelite/commit/86771fb222f589972e4ee861a9c61ca22c0f8212", "committedDate": "2020-12-13T15:37:46Z", "message": "zalcano: add damage counter\n\nAdds a panel which tracks damage dealt to Zalcano's health and shield\nto make it easier prioritising what to focus on at a low level.\n\nCo-authored-by: Adam <Adam@sigterm.info>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ec69e7bf6f5b31adcf20c42d8ded09410ff40511", "author": {"user": {"login": "dekvall", "name": null}}, "url": "https://github.com/runelite/runelite/commit/ec69e7bf6f5b31adcf20c42d8ded09410ff40511", "committedDate": "2020-12-12T18:15:32Z", "message": "zalcano: add damage counter\n\nAdds a panel which tracks damage dealt to Zalcano's health and shield\nto make it easier prioritising what to focus on at a low level.\n\nCo-authored-by: Adam <Adam@sigterm.info>"}, "afterCommit": {"oid": "86771fb222f589972e4ee861a9c61ca22c0f8212", "author": {"user": {"login": "dekvall", "name": null}}, "url": "https://github.com/runelite/runelite/commit/86771fb222f589972e4ee861a9c61ca22c0f8212", "committedDate": "2020-12-13T15:37:46Z", "message": "zalcano: add damage counter\n\nAdds a panel which tracks damage dealt to Zalcano's health and shield\nto make it easier prioritising what to focus on at a low level.\n\nCo-authored-by: Adam <Adam@sigterm.info>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3081, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}