{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxOTU5ODEw", "number": 11052, "title": "Nmz Plugin - Fix area check to exclude KBD lair", "bodyText": "Fixes #3692", "createdAt": "2020-03-22T05:35:28Z", "url": "https://github.com/runelite/runelite/pull/11052", "merged": true, "mergeCommit": {"oid": "b250d8c327f6cc46934d7cb4e72cc05c945b2874"}, "closed": true, "closedAt": "2020-04-01T04:01:52Z", "author": {"login": "TheStonedTurtle"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRouTDABqjMxNzA5MDAxODk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcTPfM7ABqjMxODYwNjUzODE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "78f854113ce9c8d03d4ee7b39c0556879347aee2", "author": {"user": {"login": "TheStonedTurtle", "name": "TheStonedTurtle"}}, "url": "https://github.com/runelite/runelite/commit/78f854113ce9c8d03d4ee7b39c0556879347aee2", "committedDate": "2020-03-27T04:07:08Z", "message": "Discord Plugin - Add KBD game event type\n\nKBD uses same region as NMZ but is always on plane 0"}, "afterCommit": {"oid": "0c3d61430a7233ff6f9f47369126f3d0450e5148", "author": {"user": {"login": "TheStonedTurtle", "name": "TheStonedTurtle"}}, "url": "https://github.com/runelite/runelite/commit/0c3d61430a7233ff6f9f47369126f3d0450e5148", "committedDate": "2020-03-27T04:09:27Z", "message": "Discord Plugin - Add KBD game event type\n\nKBD uses same region as NMZ but is always on plane 0"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMzY0NDIz", "url": "https://github.com/runelite/runelite/pull/11052#pullrequestreview-383364423", "createdAt": "2020-03-29T01:32:46Z", "commit": {"oid": "0c3d61430a7233ff6f9f47369126f3d0450e5148"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQwMTozMjo0NlrOF9NqJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQwMTozMjo0NlrOF9NqJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTczMTIzOQ==", "bodyText": "Given that we don't show players as being in the wilderness and players necessarily must travel through the wilderness to get to KBD, I think we shouldn't show this at all.", "url": "https://github.com/runelite/runelite/pull/11052#discussion_r399731239", "createdAt": "2020-03-29T01:32:46Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/discord/DiscordGameEventType.java", "diffHunk": "@@ -87,6 +87,8 @@\n \tBOSS_ZALCANO(\"Zalcano\", DiscordAreaType.BOSSES, 13250),\n \tBOSS_ZULRAH(\"Zulrah\", DiscordAreaType.BOSSES, 9007),\n \tBOSS_NIGHTMARE(\"Nightmare of Ashihama\", DiscordAreaType.BOSSES, 15515),\n+\t// KBD shares its region with NMZ and should be manually checked for and assigned by the plugin\n+\tBOSS_KING_BLACK_DRAGON(\"King black dragon\", DiscordAreaType.BOSSES),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c3d61430a7233ff6f9f47369126f3d0450e5148"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0c3d61430a7233ff6f9f47369126f3d0450e5148", "author": {"user": {"login": "TheStonedTurtle", "name": "TheStonedTurtle"}}, "url": "https://github.com/runelite/runelite/commit/0c3d61430a7233ff6f9f47369126f3d0450e5148", "committedDate": "2020-03-27T04:09:27Z", "message": "Discord Plugin - Add KBD game event type\n\nKBD uses same region as NMZ but is always on plane 0"}, "afterCommit": {"oid": "65a581d6072e2c1f25b5602d7a228929db25beff", "author": {"user": {"login": "TheStonedTurtle", "name": "TheStonedTurtle"}}, "url": "https://github.com/runelite/runelite/commit/65a581d6072e2c1f25b5602d7a228929db25beff", "committedDate": "2020-03-29T02:02:05Z", "message": "Discord Plugin - Fix NMZ area check to exclude KBD lair\n\nNMZ reuses the KBD region ID but is always above plane 0"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "65a581d6072e2c1f25b5602d7a228929db25beff", "author": {"user": {"login": "TheStonedTurtle", "name": "TheStonedTurtle"}}, "url": "https://github.com/runelite/runelite/commit/65a581d6072e2c1f25b5602d7a228929db25beff", "committedDate": "2020-03-29T02:02:05Z", "message": "Discord Plugin - Fix NMZ area check to exclude KBD lair\n\nNMZ reuses the KBD region ID but is always above plane 0"}, "afterCommit": {"oid": "779769a4e7f8587c961c6894116dde5a4f9adefc", "author": {"user": {"login": "TheStonedTurtle", "name": "TheStonedTurtle"}}, "url": "https://github.com/runelite/runelite/commit/779769a4e7f8587c961c6894116dde5a4f9adefc", "committedDate": "2020-03-29T02:04:57Z", "message": "Discord Plugin - Fix NMZ area check to exclude KBD lair\n\nNMZ reuses the KBD region ID but is always above plane 0"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMzY4MzAw", "url": "https://github.com/runelite/runelite/pull/11052#pullrequestreview-383368300", "createdAt": "2020-03-29T03:05:56Z", "commit": {"oid": "779769a4e7f8587c961c6894116dde5a4f9adefc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQwMzowNTo1NlrOF9ODEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yOVQwMzowNTo1NlrOF9ODEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5OTczNzYxNg==", "bodyText": "Add a newline after this so it doesn't look like one big block.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tDiscordGameEventType discordGameEventType = DiscordGameEventType.fromRegion(playerRegionID);\n          \n          \n            \n            \t\tDiscordGameEventType discordGameEventType = DiscordGameEventType.fromRegion(playerRegionID);", "url": "https://github.com/runelite/runelite/pull/11052#discussion_r399737616", "createdAt": "2020-03-29T03:05:56Z", "author": {"login": "Nightfirecat"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/discord/DiscordPlugin.java", "diffHunk": "@@ -381,7 +381,14 @@ private void checkForAreaUpdate()\n \t\t\treturn;\n \t\t}\n \n-\t\tfinal DiscordGameEventType discordGameEventType = DiscordGameEventType.fromRegion(playerRegionID);\n+\t\tDiscordGameEventType discordGameEventType = DiscordGameEventType.fromRegion(playerRegionID);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "779769a4e7f8587c961c6894116dde5a4f9adefc"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgzMzcwOTAz", "url": "https://github.com/runelite/runelite/pull/11052#pullrequestreview-383370903", "createdAt": "2020-03-29T04:08:30Z", "commit": {"oid": "23e34bb1356b4c27143b3053b4161d83e30dd29a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1MTYwNDgy", "url": "https://github.com/runelite/runelite/pull/11052#pullrequestreview-385160482", "createdAt": "2020-03-31T22:55:25Z", "commit": {"oid": "23e34bb1356b4c27143b3053b4161d83e30dd29a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQyMjo1NToyNVrOF-rGxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQyMjo1NToyNVrOF-rGxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTI2MjI3OQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\t\t\tdiscordGameEventType = null;\n          \n          \n            \n            \t\t\tdiscordGameEventType = null;", "url": "https://github.com/runelite/runelite/pull/11052#discussion_r401262279", "createdAt": "2020-03-31T22:55:25Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/discord/DiscordPlugin.java", "diffHunk": "@@ -381,7 +381,15 @@ private void checkForAreaUpdate()\n \t\t\treturn;\n \t\t}\n \n-\t\tfinal DiscordGameEventType discordGameEventType = DiscordGameEventType.fromRegion(playerRegionID);\n+\t\tDiscordGameEventType discordGameEventType = DiscordGameEventType.fromRegion(playerRegionID);\n+\n+\t\t// NMZ uses the same region ID as KBD. KBD is always on plane 0 and NMZ is always above plane 0\n+\t\t// Since KBD requires going through the wilderness there is no EventType for it\n+\t\tif (DiscordGameEventType.MG_NIGHTMARE_ZONE.equals(discordGameEventType)\n+\t\t\t&& client.getLocalPlayer().getWorldLocation().getPlane() == 0)\n+\t\t{\n+\t\t\t\tdiscordGameEventType = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23e34bb1356b4c27143b3053b4161d83e30dd29a"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1MTYwODk0", "url": "https://github.com/runelite/runelite/pull/11052#pullrequestreview-385160894", "createdAt": "2020-03-31T22:56:19Z", "commit": {"oid": "23e34bb1356b4c27143b3053b4161d83e30dd29a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQyMjo1NjoxOVrOF-rICg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQyMjo1NjoxOVrOF-rICg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTI2MjYwMg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \t\tif (DiscordGameEventType.MG_NIGHTMARE_ZONE.equals(discordGameEventType)\n          \n          \n            \n            \t\tif (DiscordGameEventType.MG_NIGHTMARE_ZONE == discordGameEventType", "url": "https://github.com/runelite/runelite/pull/11052#discussion_r401262602", "createdAt": "2020-03-31T22:56:19Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/discord/DiscordPlugin.java", "diffHunk": "@@ -381,7 +381,15 @@ private void checkForAreaUpdate()\n \t\t\treturn;\n \t\t}\n \n-\t\tfinal DiscordGameEventType discordGameEventType = DiscordGameEventType.fromRegion(playerRegionID);\n+\t\tDiscordGameEventType discordGameEventType = DiscordGameEventType.fromRegion(playerRegionID);\n+\n+\t\t// NMZ uses the same region ID as KBD. KBD is always on plane 0 and NMZ is always above plane 0\n+\t\t// Since KBD requires going through the wilderness there is no EventType for it\n+\t\tif (DiscordGameEventType.MG_NIGHTMARE_ZONE.equals(discordGameEventType)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23e34bb1356b4c27143b3053b4161d83e30dd29a"}, "originalPosition": 9}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "23e34bb1356b4c27143b3053b4161d83e30dd29a", "author": {"user": {"login": "Nightfirecat", "name": "Jordan"}}, "url": "https://github.com/runelite/runelite/commit/23e34bb1356b4c27143b3053b4161d83e30dd29a", "committedDate": "2020-03-29T03:06:06Z", "message": "Update runelite-client/src/main/java/net/runelite/client/plugins/discord/DiscordPlugin.java"}, "afterCommit": {"oid": "5e99fae00e61abdcf94af4cf60092e893dc64cf9", "author": {"user": {"login": "TheStonedTurtle", "name": "TheStonedTurtle"}}, "url": "https://github.com/runelite/runelite/commit/5e99fae00e61abdcf94af4cf60092e893dc64cf9", "committedDate": "2020-04-01T01:28:44Z", "message": "Discord Plugin - Fix NMZ area check to exclude KBD lair\n\nNMZ reuses the KBD region ID but is always above plane 0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0faf994f5467b07df2fead0841d3eb6915e79864", "author": {"user": {"login": "TheStonedTurtle", "name": "TheStonedTurtle"}}, "url": "https://github.com/runelite/runelite/commit/0faf994f5467b07df2fead0841d3eb6915e79864", "committedDate": "2020-04-01T03:52:28Z", "message": "nightmarezone: Fix area check to exclude KBD lair\n\nFixes #3692"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7744056766e09aee1157a2014eb5d5092155a898", "author": {"user": {"login": "TheStonedTurtle", "name": "TheStonedTurtle"}}, "url": "https://github.com/runelite/runelite/commit/7744056766e09aee1157a2014eb5d5092155a898", "committedDate": "2020-04-01T03:52:46Z", "message": "discord: Fix NMZ area check to exclude KBD lair\n\nNMZ reuses the KBD region ID but is always above plane 0"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5e99fae00e61abdcf94af4cf60092e893dc64cf9", "author": {"user": {"login": "TheStonedTurtle", "name": "TheStonedTurtle"}}, "url": "https://github.com/runelite/runelite/commit/5e99fae00e61abdcf94af4cf60092e893dc64cf9", "committedDate": "2020-04-01T01:28:44Z", "message": "Discord Plugin - Fix NMZ area check to exclude KBD lair\n\nNMZ reuses the KBD region ID but is always above plane 0"}, "afterCommit": {"oid": "7744056766e09aee1157a2014eb5d5092155a898", "author": {"user": {"login": "TheStonedTurtle", "name": "TheStonedTurtle"}}, "url": "https://github.com/runelite/runelite/commit/7744056766e09aee1157a2014eb5d5092155a898", "committedDate": "2020-04-01T03:52:46Z", "message": "discord: Fix NMZ area check to exclude KBD lair\n\nNMZ reuses the KBD region ID but is always above plane 0"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4100, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}