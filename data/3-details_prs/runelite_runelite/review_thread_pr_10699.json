{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY5Mzc1NTc1", "number": 10699, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNzoxOToxOVrODwfpVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxNTo0NTo1NlrOD01BbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyMTc2NzI1OnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerConfig.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNzoxOToxOVrOGDiC4w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQyMTo1ODowOFrOGDq2rw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjM1NjcwNw==", "bodyText": "shouldn't this be hidden?", "url": "https://github.com/runelite/runelite/pull/10699#discussion_r406356707", "createdAt": "2020-04-09T17:19:19Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerConfig.java", "diffHunk": "@@ -90,4 +90,21 @@ default boolean syncPanel()\n \t{\n \t\treturn true;\n \t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"ignoredEvents\",\n+\t\tname = \"Ignored groups\",\n+\t\tdescription = \"Configures which loot groups should be excluded from the panel UI\"\n+\t)\n+\tdefault String getIgnoredEvents()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20ca4933c66ff56a25bf07e3688ba2c05197aa6b"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjUwMTAzOQ==", "bodyText": "I didn't hide this as the config option for hiding items is also not hidden.\nI'm pretty sure having it hidden could cause issues with the limiting that would prevent someone from re-including an event.", "url": "https://github.com/runelite/runelite/pull/10699#discussion_r406501039", "createdAt": "2020-04-09T21:58:08Z", "author": {"login": "TheStonedTurtle"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerConfig.java", "diffHunk": "@@ -90,4 +90,21 @@ default boolean syncPanel()\n \t{\n \t\treturn true;\n \t}\n+\n+\t@ConfigItem(\n+\t\tkeyName = \"ignoredEvents\",\n+\t\tname = \"Ignored groups\",\n+\t\tdescription = \"Configures which loot groups should be excluded from the panel UI\"\n+\t)\n+\tdefault String getIgnoredEvents()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjM1NjcwNw=="}, "originalCommit": {"oid": "20ca4933c66ff56a25bf07e3688ba2c05197aa6b"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyMTc3MzM3OnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPlugin.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNzoyMToxMFrOGDiGyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQyMTo1OTo1NFrOGDq5jg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjM1NzcwNw==", "bodyText": "If the config item for this is not actually going to be hidden, this will cause it to reorder itself randomly which seems not great", "url": "https://github.com/runelite/runelite/pull/10699#discussion_r406357707", "createdAt": "2020-04-09T17:21:10Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPlugin.java", "diffHunk": "@@ -734,6 +737,28 @@ boolean isIgnored(String name)\n \t\treturn ignoredItems.contains(name);\n \t}\n \n+\tvoid toggleEvent(String name, boolean ignore)\n+\t{\n+\t\tfinal Set<String> ignoredSet = new HashSet<>(ignoredEvents);\n+\n+\t\tif (ignore)\n+\t\t{\n+\t\t\tignoredSet.add(name);\n+\t\t}\n+\t\telse\n+\t\t{\n+\t\t\tignoredSet.remove(name);\n+\t\t}\n+\n+\t\tconfig.setIgnoredEvents(Text.toCSV(ignoredSet));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20ca4933c66ff56a25bf07e3688ba2c05197aa6b"}, "originalPosition": 41}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjUwMTc3NA==", "bodyText": "How would I prevent this re-ordering itself?\nThis method is a copy/paste of the existing toggleItem method which is also not hidden in the config panel, so it must have the same issue.", "url": "https://github.com/runelite/runelite/pull/10699#discussion_r406501774", "createdAt": "2020-04-09T21:59:54Z", "author": {"login": "TheStonedTurtle"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPlugin.java", "diffHunk": "@@ -734,6 +737,28 @@ boolean isIgnored(String name)\n \t\treturn ignoredItems.contains(name);\n \t}\n \n+\tvoid toggleEvent(String name, boolean ignore)\n+\t{\n+\t\tfinal Set<String> ignoredSet = new HashSet<>(ignoredEvents);\n+\n+\t\tif (ignore)\n+\t\t{\n+\t\t\tignoredSet.add(name);\n+\t\t}\n+\t\telse\n+\t\t{\n+\t\t\tignoredSet.remove(name);\n+\t\t}\n+\n+\t\tconfig.setIgnoredEvents(Text.toCSV(ignoredSet));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjM1NzcwNw=="}, "originalCommit": {"oid": "20ca4933c66ff56a25bf07e3688ba2c05197aa6b"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUyMTc4MjYzOnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPanel.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNzoyMzozOFrOGDiMbw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wOVQxNzoyMzozOFrOGDiMbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNjM1OTE1MQ==", "bodyText": "You could probably just make this reverse() + limit + forEach(buildBox)", "url": "https://github.com/runelite/runelite/pull/10699#discussion_r406359151", "createdAt": "2020-04-09T17:23:38Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPanel.java", "diffHunk": "@@ -450,14 +456,19 @@ private void rebuild()\n \t\t}\n \t\telse\n \t\t{\n+\t\t\t// Filter here instead of when building box for more accurate limiting\n+\t\t\tfinal List<LootTrackerRecord> session = sessionRecords.stream()\n+\t\t\t\t.filter(r -> !hideIgnoredItems || !plugin.isEventIgnored(r.getTitle()))\n+\t\t\t\t.collect(Collectors.toList());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20ca4933c66ff56a25bf07e3688ba2c05197aa6b"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2NzE4NjUzOnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPanel.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxNTo0MToxMVrOGJ9Qyg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxNTo0MToxMVrOGJ9Qyg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzA5NDA5MA==", "bodyText": "I would maybe add a comment indicating why this is checking ignored (since buildBox also checks which looks unnecessary) as it is subtle.", "url": "https://github.com/runelite/runelite/pull/10699#discussion_r413094090", "createdAt": "2020-04-22T15:41:11Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPanel.java", "diffHunk": "@@ -450,15 +456,11 @@ private void rebuild()\n \t\t}\n \t\telse\n \t\t{\n-\t\t\tint start = 0;\n-\t\t\tif (sessionRecords.size() > MAX_LOOT_BOXES)\n-\t\t\t{\n-\t\t\t\tstart = sessionRecords.size() - MAX_LOOT_BOXES;\n-\t\t\t}\n-\t\t\tfor (int i = start; i < sessionRecords.size(); i++)\n-\t\t\t{\n-\t\t\t\tbuildBox(sessionRecords.get(i));\n-\t\t\t}\n+\t\t\tsessionRecords.stream()\n+\t\t\t\t.sorted(Collections.reverseOrder())\n+\t\t\t\t.filter(r -> !hideIgnoredItems || !plugin.isEventIgnored(r.getTitle()))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "179bcfaffb5c59131d868a1e56d34fbaa75d223e"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2NzIwNjkyOnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPanel.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxNTo0NDo1NFrOGJ9cwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxNzo0OToyOVrOGKDMrw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzA5NzE1Mw==", "bodyText": "Just call isEventIgnored once and store the result", "url": "https://github.com/runelite/runelite/pull/10699#discussion_r413097153", "createdAt": "2020-04-22T15:44:54Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPanel.java", "diffHunk": "@@ -500,13 +507,17 @@ private LootTrackerBox buildBox(LootTrackerRecord record)\n \n \t\t// Create box\n \t\tfinal LootTrackerBox box = new LootTrackerBox(itemManager, record.getTitle(), record.getType(), record.getSubTitle(),\n-\t\t\thideIgnoredItems, config.priceType(), config.showPriceType(), plugin::toggleItem);\n+\t\t\thideIgnoredItems, config.priceType(), config.showPriceType(), plugin::toggleItem, plugin::toggleEvent, plugin.isEventIgnored(record.getTitle()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "179bcfaffb5c59131d868a1e56d34fbaa75d223e"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzE4OTMxNg==", "bodyText": "I don't understand what you are asking for me to change exactly.\nI did notice LootTrackerBox could just use the ignoredEvent flag locally instead of storing the result, did you mean this?", "url": "https://github.com/runelite/runelite/pull/10699#discussion_r413189316", "createdAt": "2020-04-22T17:46:31Z", "author": {"login": "TheStonedTurtle"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPanel.java", "diffHunk": "@@ -500,13 +507,17 @@ private LootTrackerBox buildBox(LootTrackerRecord record)\n \n \t\t// Create box\n \t\tfinal LootTrackerBox box = new LootTrackerBox(itemManager, record.getTitle(), record.getType(), record.getSubTitle(),\n-\t\t\thideIgnoredItems, config.priceType(), config.showPriceType(), plugin::toggleItem);\n+\t\t\thideIgnoredItems, config.priceType(), config.showPriceType(), plugin::toggleItem, plugin::toggleEvent, plugin.isEventIgnored(record.getTitle()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzA5NzE1Mw=="}, "originalCommit": {"oid": "179bcfaffb5c59131d868a1e56d34fbaa75d223e"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzE5MTM0Mw==", "bodyText": "isEventIgnored is called on L485 and again here on L510. You can just call it once and store the result in a variable.", "url": "https://github.com/runelite/runelite/pull/10699#discussion_r413191343", "createdAt": "2020-04-22T17:49:29Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPanel.java", "diffHunk": "@@ -500,13 +507,17 @@ private LootTrackerBox buildBox(LootTrackerRecord record)\n \n \t\t// Create box\n \t\tfinal LootTrackerBox box = new LootTrackerBox(itemManager, record.getTitle(), record.getType(), record.getSubTitle(),\n-\t\t\thideIgnoredItems, config.priceType(), config.showPriceType(), plugin::toggleItem);\n+\t\t\thideIgnoredItems, config.priceType(), config.showPriceType(), plugin::toggleItem, plugin::toggleEvent, plugin.isEventIgnored(record.getTitle()));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzA5NzE1Mw=="}, "originalCommit": {"oid": "179bcfaffb5c59131d868a1e56d34fbaa75d223e"}, "originalPosition": 58}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU2NzIxMjYwOnYy", "diffSide": "RIGHT", "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPlugin.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxNTo0NTo1NlrOGJ9gFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxNTo0NTo1NlrOGJ9gFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzA5ODAwNA==", "bodyText": "additionally fix toggleItem to not randomly reorder things too", "url": "https://github.com/runelite/runelite/pull/10699#discussion_r413098004", "createdAt": "2020-04-22T15:45:56Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/loottracker/LootTrackerPlugin.java", "diffHunk": "@@ -734,6 +738,28 @@ boolean isIgnored(String name)\n \t\treturn ignoredItems.contains(name);\n \t}\n \n+\tvoid toggleEvent(String name, boolean ignore)\n+\t{\n+\t\tfinal Set<String> ignoredSet = new LinkedHashSet<>(ignoredEvents);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "179bcfaffb5c59131d868a1e56d34fbaa75d223e"}, "originalPosition": 38}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3777, "cost": 1, "resetAt": "2021-11-12T12:57:47Z"}}}