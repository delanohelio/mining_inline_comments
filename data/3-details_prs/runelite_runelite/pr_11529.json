{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1NjczNzE5", "number": 11529, "title": "Canonicalize ItemManager price lookup IDs", "bodyText": "This ensures returned item prices are accurate even for noted item IDs. (This fixes a bug in the recently-added NPC and PVP kill chat message feature)\nCloses #11616", "createdAt": "2020-05-10T05:58:21Z", "url": "https://github.com/runelite/runelite/pull/11529", "merged": true, "mergeCommit": {"oid": "c2a9ac443b66f67fa0d1b9f9231888e2ea6b4732"}, "closed": true, "closedAt": "2020-05-23T20:22:30Z", "author": {"login": "Nightfirecat"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcf0w-5ABqjMzMjAwMjQwMTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABckLKwyABqjMzNjczMDQ3MTI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8d38ba452346c96807ef7371d81439f4dfc956d0", "author": {"user": {"login": "Nightfirecat", "name": "Jordan"}}, "url": "https://github.com/runelite/runelite/commit/8d38ba452346c96807ef7371d81439f4dfc956d0", "committedDate": "2020-05-10T05:53:28Z", "message": "client: Simplify ItemContainer usage\n\nBecause itemManager#getItemPrice() canonicalizes the passed item ID, it\nis no longer necessary to get noted items' base IDs or otherwise\ncanonicalize item IDs before interacting with the method."}, "afterCommit": {"oid": "e89b874977950fc93377f1dc3015b1144c6cb10c", "author": {"user": {"login": "Nightfirecat", "name": "Jordan"}}, "url": "https://github.com/runelite/runelite/commit/e89b874977950fc93377f1dc3015b1144c6cb10c", "committedDate": "2020-05-10T06:06:11Z", "message": "client: Simplify ItemContainer usage\n\nBecause itemManager#getItemPrice() canonicalizes the passed item ID, it\nis no longer necessary to get noted items' base IDs or otherwise\ncanonicalize item IDs before interacting with the method."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4NzMyOTE5", "url": "https://github.com/runelite/runelite/pull/11529#pullrequestreview-408732919", "createdAt": "2020-05-10T10:58:34Z", "commit": {"oid": "f641ba3324d43bc405b9cdcb673a9d4cd045a376"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMFQxMDo1ODozNFrOGTDJKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMFQxMDo1ODozNFrOGTDJKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjYyNzYyNA==", "bodyText": "executor is now unused", "url": "https://github.com/runelite/runelite/pull/11529#discussion_r422627624", "createdAt": "2020-05-10T10:58:34Z", "author": {"login": "deathbeam"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/examine/ExaminePlugin.java", "diffHunk": "@@ -219,7 +219,7 @@ public void onChatMessage(ChatMessage event)\n \t\t\tif (itemComposition != null)\n \t\t\t{\n \t\t\t\tfinal int id = itemManager.canonicalize(itemComposition.getId());\n-\t\t\t\texecutor.submit(() -> getItemPrice(id, itemComposition, itemQuantity));\n+\t\t\t\tgetItemPrice(id, itemComposition, itemQuantity);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f641ba3324d43bc405b9cdcb673a9d4cd045a376"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e89b874977950fc93377f1dc3015b1144c6cb10c", "author": {"user": {"login": "Nightfirecat", "name": "Jordan"}}, "url": "https://github.com/runelite/runelite/commit/e89b874977950fc93377f1dc3015b1144c6cb10c", "committedDate": "2020-05-10T06:06:11Z", "message": "client: Simplify ItemContainer usage\n\nBecause itemManager#getItemPrice() canonicalizes the passed item ID, it\nis no longer necessary to get noted items' base IDs or otherwise\ncanonicalize item IDs before interacting with the method."}, "afterCommit": {"oid": "d843ced6843162ac9fb6303a5de1ea7b15437103", "author": {"user": {"login": "Nightfirecat", "name": "Jordan"}}, "url": "https://github.com/runelite/runelite/commit/d843ced6843162ac9fb6303a5de1ea7b15437103", "committedDate": "2020-05-10T16:43:10Z", "message": "client: Simplify ItemContainer usage\n\nBecause itemManager#getItemPrice() canonicalizes the passed item ID, it\nis no longer necessary to get noted items' base IDs or otherwise\ncanonicalize item IDs before interacting with the method."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzMDE5ODM3", "url": "https://github.com/runelite/runelite/pull/11529#pullrequestreview-413019837", "createdAt": "2020-05-15T23:39:58Z", "commit": {"oid": "d843ced6843162ac9fb6303a5de1ea7b15437103"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e6a36da674ab63f0cf0f5c06f4673948d393e08", "author": {"user": {"login": "Nightfirecat", "name": "Jordan"}}, "url": "https://github.com/runelite/runelite/commit/8e6a36da674ab63f0cf0f5c06f4673948d393e08", "committedDate": "2020-05-23T18:27:17Z", "message": "examine: Move price lookups off executor\n\nHistorically price lookup was done by sending a web request on price\nlookups, which required calls to be done on an executor. As of\na1ae397e11, client prices are loaded periodically and cached, thus no\nlonger imposing any thread requirement on price lookup."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41d92c37d9bad89393e3db02fdab180248be0166", "author": {"user": {"login": "Nightfirecat", "name": "Jordan"}}, "url": "https://github.com/runelite/runelite/commit/41d92c37d9bad89393e3db02fdab180248be0166", "committedDate": "2020-05-23T18:27:43Z", "message": "itemmanager: Canonicalize price lookup item IDs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "363c1b41b50d4ccb752007e86b821969a9b67245", "author": {"user": {"login": "Nightfirecat", "name": "Jordan"}}, "url": "https://github.com/runelite/runelite/commit/363c1b41b50d4ccb752007e86b821969a9b67245", "committedDate": "2020-05-23T18:27:43Z", "message": "client: Simplify ItemContainer usage\n\nBecause itemManager#getItemPrice() canonicalizes the passed item ID, it\nis no longer necessary to get noted items' base IDs or otherwise\ncanonicalize item IDs before interacting with the method."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d843ced6843162ac9fb6303a5de1ea7b15437103", "author": {"user": {"login": "Nightfirecat", "name": "Jordan"}}, "url": "https://github.com/runelite/runelite/commit/d843ced6843162ac9fb6303a5de1ea7b15437103", "committedDate": "2020-05-10T16:43:10Z", "message": "client: Simplify ItemContainer usage\n\nBecause itemManager#getItemPrice() canonicalizes the passed item ID, it\nis no longer necessary to get noted items' base IDs or otherwise\ncanonicalize item IDs before interacting with the method."}, "afterCommit": {"oid": "363c1b41b50d4ccb752007e86b821969a9b67245", "author": {"user": {"login": "Nightfirecat", "name": "Jordan"}}, "url": "https://github.com/runelite/runelite/commit/363c1b41b50d4ccb752007e86b821969a9b67245", "committedDate": "2020-05-23T18:27:43Z", "message": "client: Simplify ItemContainer usage\n\nBecause itemManager#getItemPrice() canonicalizes the passed item ID, it\nis no longer necessary to get noted items' base IDs or otherwise\ncanonicalize item IDs before interacting with the method."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3688, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}