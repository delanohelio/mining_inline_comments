{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5MjY2NDY2", "number": 10551, "title": "Show raids loot value at the end of the raid", "bodyText": "Adds the functionality to view raids loot value when opening the chest", "createdAt": "2020-01-05T02:56:52Z", "url": "https://github.com/runelite/runelite/pull/10551", "merged": true, "mergeCommit": {"oid": "bf0ff69e07eaebd12ada127ae55113456c19209d"}, "closed": true, "closedAt": "2020-01-07T22:38:02Z", "author": {"login": "melkypie"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb3bGWOAFqTMzODQxMjM1Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb4E4fugBqjI5Mjg1NzU5NDg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4NDEyMzUy", "url": "https://github.com/runelite/runelite/pull/10551#pullrequestreview-338412352", "createdAt": "2020-01-05T17:32:23Z", "commit": {"oid": "73fa75f9e94c0c28630016b48bc0eae2cca5b50a"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNVQxNzozMjoyM1rOFaSRPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNVQxNzozNDozNlrOFaSRuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzEwNjYyMw==", "bodyText": "Check widget id first, it is cheaper.", "url": "https://github.com/runelite/runelite/pull/10551#discussion_r363106623", "createdAt": "2020-01-05T17:32:23Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/raids/RaidsPlugin.java", "diffHunk": "@@ -215,6 +232,53 @@ public void onConfigChanged(ConfigChanged event)\n \t\tclientThread.invokeLater(() -> checkRaidPresence(true));\n \t}\n \n+\t@Subscribe\n+\tpublic void onWidgetLoaded(WidgetLoaded event)\n+\t{\n+\t\tif (!config.showLootValue() ||\n+\t\t\tevent.getGroupId() != WidgetID.CHAMBERS_OF_XERIC_REWARD_GROUP_ID ||", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73fa75f9e94c0c28630016b48bc0eae2cca5b50a"}, "originalPosition": 88}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzEwNjY2Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n            \tprivate boolean chestOpened = false;\n          \n          \n            \n            \tprivate boolean chestOpened;", "url": "https://github.com/runelite/runelite/pull/10551#discussion_r363106667", "createdAt": "2020-01-05T17:33:03Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/raids/RaidsPlugin.java", "diffHunk": "@@ -163,6 +177,8 @@\n \t@Getter\n \tprivate boolean inRaidChambers;\n \n+\tprivate boolean chestOpened = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73fa75f9e94c0c28630016b48bc0eae2cca5b50a"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzEwNjc0MQ==", "bodyText": "Why is this here?", "url": "https://github.com/runelite/runelite/pull/10551#discussion_r363106741", "createdAt": "2020-01-05T17:34:19Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/raids/RaidsPlugin.java", "diffHunk": "@@ -215,6 +232,53 @@ public void onConfigChanged(ConfigChanged event)\n \t\tclientThread.invokeLater(() -> checkRaidPresence(true));\n \t}\n \n+\t@Subscribe\n+\tpublic void onWidgetLoaded(WidgetLoaded event)\n+\t{\n+\t\tif (!config.showLootValue() ||\n+\t\t\tevent.getGroupId() != WidgetID.CHAMBERS_OF_XERIC_REWARD_GROUP_ID ||\n+\t\t\tchestOpened)\n+\t\t{\n+\t\t\treturn;\n+\t\t}\n+\t\tchestOpened = true;\n+\t\tItemContainer rewardItemContainer = client.getItemContainer(InventoryID.CHAMBERS_OF_XERIC_CHEST);\n+\t\tif (rewardItemContainer == null)\n+\t\t{\n+\t\t\treturn;\n+\t\t}\n+\n+\t\tfinal Collection<Item> rewardItems = Arrays.stream(rewardItemContainer.getItems())\n+\t\t\t.filter(item -> item.getId() > 0)\n+\t\t\t.map(item -> new Item(item.getId(), item.getQuantity()))\n+\t\t\t.collect(Collectors.toList());\n+\n+\t\tint rewardValue = 0;\n+\n+\t\tfor (Item reweardItem : rewardItems)\n+\t\t{\n+\t\t\tif (UNTRADABLE_ITEMS.contains(reweardItem.getId()))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73fa75f9e94c0c28630016b48bc0eae2cca5b50a"}, "originalPosition": 109}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzEwNjc0NQ==", "bodyText": "This should maybe be a long.", "url": "https://github.com/runelite/runelite/pull/10551#discussion_r363106745", "createdAt": "2020-01-05T17:34:36Z", "author": {"login": "Adam-"}, "path": "runelite-client/src/main/java/net/runelite/client/plugins/raids/RaidsPlugin.java", "diffHunk": "@@ -215,6 +232,53 @@ public void onConfigChanged(ConfigChanged event)\n \t\tclientThread.invokeLater(() -> checkRaidPresence(true));\n \t}\n \n+\t@Subscribe\n+\tpublic void onWidgetLoaded(WidgetLoaded event)\n+\t{\n+\t\tif (!config.showLootValue() ||\n+\t\t\tevent.getGroupId() != WidgetID.CHAMBERS_OF_XERIC_REWARD_GROUP_ID ||\n+\t\t\tchestOpened)\n+\t\t{\n+\t\t\treturn;\n+\t\t}\n+\t\tchestOpened = true;\n+\t\tItemContainer rewardItemContainer = client.getItemContainer(InventoryID.CHAMBERS_OF_XERIC_CHEST);\n+\t\tif (rewardItemContainer == null)\n+\t\t{\n+\t\t\treturn;\n+\t\t}\n+\n+\t\tfinal Collection<Item> rewardItems = Arrays.stream(rewardItemContainer.getItems())\n+\t\t\t.filter(item -> item.getId() > 0)\n+\t\t\t.map(item -> new Item(item.getId(), item.getQuantity()))\n+\t\t\t.collect(Collectors.toList());\n+\n+\t\tint rewardValue = 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "73fa75f9e94c0c28630016b48bc0eae2cca5b50a"}, "originalPosition": 105}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d659ee345194214e098e984ecea0049a024e80db", "author": {"user": {"login": "Adam-", "name": "Adam"}}, "url": "https://github.com/runelite/runelite/commit/d659ee345194214e098e984ecea0049a024e80db", "committedDate": "2020-01-07T15:54:42Z", "message": "update config"}, "afterCommit": {"oid": "e6225ac1f8dd7763c3200eaeaed6655ab3f72e31", "author": {"user": {"login": "Adam-", "name": "Adam"}}, "url": "https://github.com/runelite/runelite/commit/e6225ac1f8dd7763c3200eaeaed6655ab3f72e31", "committedDate": "2020-01-07T16:15:24Z", "message": "raids plugin: add option to show loot value\n\nCo-authored-by: melkypie <melkypie@users.noreply.github.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08ddc76b636f0bb5f8212b558c6894b10ed40f16", "author": {"user": {"login": "Adam-", "name": "Adam"}}, "url": "https://github.com/runelite/runelite/commit/08ddc76b636f0bb5f8212b558c6894b10ed40f16", "committedDate": "2020-01-07T18:15:42Z", "message": "raids plugin: add option to show loot value\n\nCo-authored-by: melkypie <melkypie@users.noreply.github.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8e5cad7045396e1822ea52a6d03762368e8a90d8", "author": {"user": {"login": "melkypie", "name": "Melky"}}, "url": "https://github.com/runelite/runelite/commit/8e5cad7045396e1822ea52a6d03762368e8a90d8", "committedDate": "2020-01-07T17:51:47Z", "message": "raids plugin: add option to show loot value"}, "afterCommit": {"oid": "08ddc76b636f0bb5f8212b558c6894b10ed40f16", "author": {"user": {"login": "Adam-", "name": "Adam"}}, "url": "https://github.com/runelite/runelite/commit/08ddc76b636f0bb5f8212b558c6894b10ed40f16", "committedDate": "2020-01-07T18:15:42Z", "message": "raids plugin: add option to show loot value\n\nCo-authored-by: melkypie <melkypie@users.noreply.github.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4347, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}