{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc2OTgxNzUw", "number": 4065, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwODoyNzoyOVrOEfV2wg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwODoyNzoyOVrOEfV2wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAxMjk5Mzk0OnYy", "diffSide": "RIGHT", "path": "platforms/cdh6.3.0/docs/CDH-installation.md", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wMlQwODoyNzoyOVrOHLjwtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMlQwMTo0NDozNlrOHmNl5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTg4MjI5NQ==", "bodyText": "This last property has to go into the hdfs-site.xml for the service section. As discussed in https://splicemachine.atlassian.net/browse/DB-10125 it seems that the remaining properties have to go in hbase-site.xml as they were already.", "url": "https://github.com/splicemachine/spliceengine/pull/4065#discussion_r481882295", "createdAt": "2020-09-02T08:27:29Z", "author": {"login": "dgomezferro"}, "path": "platforms/cdh6.3.0/docs/CDH-installation.md", "diffHunk": "@@ -171,7 +171,15 @@ use your data disks.\n     </tbody>\n    </table>\n \n-3. Click the `Save Changes` button.\n+3. Set the value of `HDFS Client Advanced Configuration Snippet (Safety Valve) for hdfs-site.xml`:\n+   ````\n+   <property><name>dfs.client.block.write.retries</name><value>6</value></property>\n+   <property><name>dfs.client.block.write.locateFollowingBlock.retries</name><value>10</value></property>\n+   <property><name>dfs.client.block.write.replace-datanode-on-failure.policy</name><value>ALWAYS</value></property>\n+   <property><name>dfs.namenode.replication.min</name><value>2</value></property>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "098ab166e2d2221073ac457d63a7adc954a5e44e"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MjIxNTAwNA==", "bodyText": "I moved this property \"dfs.namenode.replication.min\" to the part \"2. Change the values of these settings:\"\n\nMinimal Block Replication\n2\n\nis it right place? Checked in Cloudera 6.3.0 HDFS Configuration for the name.", "url": "https://github.com/splicemachine/spliceengine/pull/4065#discussion_r482215004", "createdAt": "2020-09-02T16:47:00Z", "author": {"login": "ipraznik-splice"}, "path": "platforms/cdh6.3.0/docs/CDH-installation.md", "diffHunk": "@@ -171,7 +171,15 @@ use your data disks.\n     </tbody>\n    </table>\n \n-3. Click the `Save Changes` button.\n+3. Set the value of `HDFS Client Advanced Configuration Snippet (Safety Valve) for hdfs-site.xml`:\n+   ````\n+   <property><name>dfs.client.block.write.retries</name><value>6</value></property>\n+   <property><name>dfs.client.block.write.locateFollowingBlock.retries</name><value>10</value></property>\n+   <property><name>dfs.client.block.write.replace-datanode-on-failure.policy</name><value>ALWAYS</value></property>\n+   <property><name>dfs.namenode.replication.min</name><value>2</value></property>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTg4MjI5NQ=="}, "originalCommit": {"oid": "098ab166e2d2221073ac457d63a7adc954a5e44e"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzYyODI4Nw==", "bodyText": "dfs.namenode.replication.min go into\nConfigure HDFS\n2. Change the values of these settings:\n\nMinimal Block Replication\n2\n\ndfs.client.* are moved back into hbase-site.xml", "url": "https://github.com/splicemachine/spliceengine/pull/4065#discussion_r483628287", "createdAt": "2020-09-04T13:50:45Z", "author": {"login": "ipraznik-splice"}, "path": "platforms/cdh6.3.0/docs/CDH-installation.md", "diffHunk": "@@ -171,7 +171,15 @@ use your data disks.\n     </tbody>\n    </table>\n \n-3. Click the `Save Changes` button.\n+3. Set the value of `HDFS Client Advanced Configuration Snippet (Safety Valve) for hdfs-site.xml`:\n+   ````\n+   <property><name>dfs.client.block.write.retries</name><value>6</value></property>\n+   <property><name>dfs.client.block.write.locateFollowingBlock.retries</name><value>10</value></property>\n+   <property><name>dfs.client.block.write.replace-datanode-on-failure.policy</name><value>ALWAYS</value></property>\n+   <property><name>dfs.namenode.replication.min</name><value>2</value></property>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTg4MjI5NQ=="}, "originalCommit": {"oid": "098ab166e2d2221073ac457d63a7adc954a5e44e"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTgxODU5OQ==", "bodyText": "@ipraznik-splice it appears HBase always overrides dfs.namenode.replication.min, so if we want it to apply it needs to be set in hbase-site.xml.\nBut we should hold off on that until @OlegMazurov completes some latency tests to check whether this change has a big impact in performance.", "url": "https://github.com/splicemachine/spliceengine/pull/4065#discussion_r485818599", "createdAt": "2020-09-09T18:12:01Z", "author": {"login": "dgomezferro"}, "path": "platforms/cdh6.3.0/docs/CDH-installation.md", "diffHunk": "@@ -171,7 +171,15 @@ use your data disks.\n     </tbody>\n    </table>\n \n-3. Click the `Save Changes` button.\n+3. Set the value of `HDFS Client Advanced Configuration Snippet (Safety Valve) for hdfs-site.xml`:\n+   ````\n+   <property><name>dfs.client.block.write.retries</name><value>6</value></property>\n+   <property><name>dfs.client.block.write.locateFollowingBlock.retries</name><value>10</value></property>\n+   <property><name>dfs.client.block.write.replace-datanode-on-failure.policy</name><value>ALWAYS</value></property>\n+   <property><name>dfs.namenode.replication.min</name><value>2</value></property>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTg4MjI5NQ=="}, "originalCommit": {"oid": "098ab166e2d2221073ac457d63a7adc954a5e44e"}, "originalPosition": 10}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTgzMDYyOA==", "bodyText": "Oleg has completed performance tests which did not show a significant performance degradation.", "url": "https://github.com/splicemachine/spliceengine/pull/4065#discussion_r509830628", "createdAt": "2020-10-22T01:44:36Z", "author": {"login": "carolp-503"}, "path": "platforms/cdh6.3.0/docs/CDH-installation.md", "diffHunk": "@@ -171,7 +171,15 @@ use your data disks.\n     </tbody>\n    </table>\n \n-3. Click the `Save Changes` button.\n+3. Set the value of `HDFS Client Advanced Configuration Snippet (Safety Valve) for hdfs-site.xml`:\n+   ````\n+   <property><name>dfs.client.block.write.retries</name><value>6</value></property>\n+   <property><name>dfs.client.block.write.locateFollowingBlock.retries</name><value>10</value></property>\n+   <property><name>dfs.client.block.write.replace-datanode-on-failure.policy</name><value>ALWAYS</value></property>\n+   <property><name>dfs.namenode.replication.min</name><value>2</value></property>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MTg4MjI5NQ=="}, "originalCommit": {"oid": "098ab166e2d2221073ac457d63a7adc954a5e44e"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3023, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}