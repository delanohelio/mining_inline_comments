{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3MjIzMTIz", "number": 3895, "title": "DB-9779 New hint on table limit for exhaustive search", "bodyText": "", "createdAt": "2020-07-27T15:04:26Z", "url": "https://github.com/splicemachine/spliceengine/pull/3895", "merged": true, "mergeCommit": {"oid": "594a5cdd190e054c5046784bd7adf7f6f92160b2"}, "closed": true, "closedAt": "2020-08-13T18:18:09Z", "author": {"login": "ascend1"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc6JkyYgFqTQ1ODg1NTkzMA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-ZNz_AFqTQ2NjQ1NDQ5Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU4ODU1OTMw", "url": "https://github.com/splicemachine/spliceengine/pull/3895#pullrequestreview-458855930", "createdAt": "2020-07-31T00:57:34Z", "commit": {"oid": "81eca79343653689a53add69146ce64037f77e24"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwMDo1NzozNFrOG54rKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMVQwMDo1NzozNFrOG54rKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MzM1MDU3MQ==", "bodyText": "I would change it to <=0.", "url": "https://github.com/splicemachine/spliceengine/pull/3895#discussion_r463350571", "createdAt": "2020-07-31T00:57:34Z", "author": {"login": "yxia92"}, "path": "db-engine/src/main/java/com/splicemachine/db/impl/sql/compile/FromList.java", "diffHunk": "@@ -788,6 +790,15 @@ public void setProperties(Properties props) throws StandardException{\n                         throw StandardException.newException(SQLState.LANG_INVALID_STATISTICS_SPEC,value);\n                     }\n                     break;\n+                case \"tableLimitForExhaustiveSearch\":\n+                    try {\n+                        tableLimitForExhaustiveSearch = Integer.parseUnsignedInt(value);\n+                    } catch (NumberFormatException nfe) {\n+                        throw StandardException.newException(SQLState.LANG_INVALID_TABLE_LIMIT_FOR_EXHAUSTIVE_SEARCH, value);\n+                    }\n+                    if (tableLimitForExhaustiveSearch == 0)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "81eca79343653689a53add69146ce64037f77e24"}, "originalPosition": 19}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15a14e524677878e3ea2234aa624cc265a9bac98", "author": {"user": {"login": "ascend1", "name": "Zhen Li"}}, "url": "https://github.com/splicemachine/spliceengine/commit/15a14e524677878e3ea2234aa624cc265a9bac98", "committedDate": "2020-08-05T16:04:56Z", "message": "DB-9779 New hint on table limit for exhaustive search"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb71af30c8f6c4a316a2a1053ecc962afb7e4655", "author": {"user": {"login": "ascend1", "name": "Zhen Li"}}, "url": "https://github.com/splicemachine/spliceengine/commit/bb71af30c8f6c4a316a2a1053ecc962afb7e4655", "committedDate": "2020-08-05T16:15:59Z", "message": "DB-9779 New session/database property of table limit for exhaustive search"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0ce95c20b26f2df5d1b96e2faedad4a548a75705", "author": {"user": {"login": "ascend1", "name": "Zhen Li"}}, "url": "https://github.com/splicemachine/spliceengine/commit/0ce95c20b26f2df5d1b96e2faedad4a548a75705", "committedDate": "2020-07-31T16:45:36Z", "message": "DB-9779 Improve readability"}, "afterCommit": {"oid": "bb71af30c8f6c4a316a2a1053ecc962afb7e4655", "author": {"user": {"login": "ascend1", "name": "Zhen Li"}}, "url": "https://github.com/splicemachine/spliceengine/commit/bb71af30c8f6c4a316a2a1053ecc962afb7e4655", "committedDate": "2020-08-05T16:15:59Z", "message": "DB-9779 New session/database property of table limit for exhaustive search"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyMDA5MDM4", "url": "https://github.com/splicemachine/spliceengine/pull/3895#pullrequestreview-462009038", "createdAt": "2020-08-05T20:43:19Z", "commit": {"oid": "bb71af30c8f6c4a316a2a1053ecc962afb7e4655"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQyMDo0MzoxOVrOG8Z5oA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNVQyMDo0MzoxOVrOG8Z5oA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTk5MjA5Ng==", "bodyText": "Please use PropertyUtil.getCachedDatabaseProperty() instead to avoid a lookup into the Property conglomerate always.", "url": "https://github.com/splicemachine/spliceengine/pull/3895#discussion_r465992096", "createdAt": "2020-08-05T20:43:19Z", "author": {"login": "yxia92"}, "path": "db-engine/src/main/java/com/splicemachine/db/impl/sql/conn/GenericLanguageConnectionContext.java", "diffHunk": "@@ -398,6 +401,15 @@ public GenericLanguageConnectionContext(\n         String logQueryPlanProperty=PropertyUtil.getCachedDatabaseProperty(this,\"derby.language.logQueryPlan\");\n         logQueryPlan=Boolean.valueOf(logQueryPlanProperty);\n \n+        try {\n+            String valueString = (String) getTransactionCompile().getProperty(\"derby.language.tableLimitForExhaustiveSearch\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bb71af30c8f6c4a316a2a1053ecc962afb7e4655"}, "originalPosition": 15}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75a7859e6105c124a47931583de0662732104ea2", "author": {"user": {"login": "ascend1", "name": "Zhen Li"}}, "url": "https://github.com/splicemachine/spliceengine/commit/75a7859e6105c124a47931583de0662732104ea2", "committedDate": "2020-08-06T09:18:57Z", "message": "DB-9779 Use database property cache"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14e0850b3ddbab31919fa334b94ffe8b4ad4a05d", "author": {"user": {"login": "ascend1", "name": "Zhen Li"}}, "url": "https://github.com/splicemachine/spliceengine/commit/14e0850b3ddbab31919fa334b94ffe8b4ad4a05d", "committedDate": "2020-08-07T09:26:36Z", "message": "DB-9779 Improve test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2MTYxMjA0", "url": "https://github.com/splicemachine/spliceengine/pull/3895#pullrequestreview-466161204", "createdAt": "2020-08-12T18:17:36Z", "commit": {"oid": "14e0850b3ddbab31919fa334b94ffe8b4ad4a05d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2MjA3MDQx", "url": "https://github.com/splicemachine/spliceengine/pull/3895#pullrequestreview-466207041", "createdAt": "2020-08-12T19:24:18Z", "commit": {"oid": "14e0850b3ddbab31919fa334b94ffe8b4ad4a05d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2NDU0NDk2", "url": "https://github.com/splicemachine/spliceengine/pull/3895#pullrequestreview-466454496", "createdAt": "2020-08-13T05:32:06Z", "commit": {"oid": "14e0850b3ddbab31919fa334b94ffe8b4ad4a05d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1207, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}