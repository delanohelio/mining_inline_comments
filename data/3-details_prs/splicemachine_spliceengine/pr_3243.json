{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc4MTgzNDk4", "number": 3243, "title": "DB-9124 Large concat expression cause long time hanging", "bodyText": "", "createdAt": "2020-02-21T09:21:41Z", "url": "https://github.com/splicemachine/spliceengine/pull/3243", "merged": true, "mergeCommit": {"oid": "7340ceea87e42a4e6a1ee8a4f695bbc53197b30e"}, "closed": true, "closedAt": "2020-02-25T15:15:12Z", "author": {"login": "changli6"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcGbgD4gH2gAyMzc4MTgzNDk4OjcyYTk0MGE3MzY0ZWQ4ZmViYzI2OGYzMmUxMjI5NTllNzFlNzdmYWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcHzbLoAFqTM2NDIwNzE1OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "72a940a7364ed8febc268f32e122959e71e77fab", "author": {"user": null}, "url": "https://github.com/splicemachine/spliceengine/commit/72a940a7364ed8febc268f32e122959e71e77fab", "committedDate": "2020-02-21T08:32:05Z", "message": "DB-9124 Large concat expression cause long time hanging"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyNDk5Njg1", "url": "https://github.com/splicemachine/spliceengine/pull/3243#pullrequestreview-362499685", "createdAt": "2020-02-21T09:31:18Z", "commit": {"oid": "72a940a7364ed8febc268f32e122959e71e77fab"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQwOTozMToxOVrOFswtXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMVQwOTozMToxOVrOFswtXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjQ3OTcwOQ==", "bodyText": "It seems this query used to work (slowly) before the fix, right? In that case we'd need to add a timeout for instance, to make sure the test fails if there's a regression. Or make the query bigger so that it crashes without the fix.", "url": "https://github.com/splicemachine/spliceengine/pull/3243#discussion_r382479709", "createdAt": "2020-02-21T09:31:19Z", "author": {"login": "dgomezferro"}, "path": "splice_machine/src/test/java/com/splicemachine/derby/utils/SpliceStringFunctionsIT.java", "diffHunk": "@@ -713,6 +713,27 @@ public void testHEX() throws Exception {\n         rs.close();\n     }\n \n+    @Test\n+    public void testLongConcatenateString() throws Exception {\n+        String sqlText = \"SELECT COUNT(*) FROM (\" + \"SELECT CAST(CAST(c AS DECIMAL(9,4)) AS CHAR(50))||','\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "72a940a7364ed8febc268f32e122959e71e77fab"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7656fa4a3b286e6db3c47cb05a7ec1449c3eeef8", "author": {"user": null}, "url": "https://github.com/splicemachine/spliceengine/commit/7656fa4a3b286e6db3c47cb05a7ec1449c3eeef8", "committedDate": "2020-02-21T11:32:30Z", "message": "Set testLongConcatenateString timeout after 1 sec"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyNjI0NzAy", "url": "https://github.com/splicemachine/spliceengine/pull/3243#pullrequestreview-362624702", "createdAt": "2020-02-21T13:24:08Z", "commit": {"oid": "7656fa4a3b286e6db3c47cb05a7ec1449c3eeef8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMDE1NzYw", "url": "https://github.com/splicemachine/spliceengine/pull/3243#pullrequestreview-363015760", "createdAt": "2020-02-22T07:33:42Z", "commit": {"oid": "7656fa4a3b286e6db3c47cb05a7ec1449c3eeef8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY0MjA3MTU4", "url": "https://github.com/splicemachine/spliceengine/pull/3243#pullrequestreview-364207158", "createdAt": "2020-02-25T14:58:24Z", "commit": {"oid": "7656fa4a3b286e6db3c47cb05a7ec1449c3eeef8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 977, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}