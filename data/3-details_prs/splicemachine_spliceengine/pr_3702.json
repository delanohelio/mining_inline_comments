{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM3MDc0MzE0", "number": 3702, "title": "DB-8781 Purge old updates", "bodyText": "", "createdAt": "2020-06-19T12:28:53Z", "url": "https://github.com/splicemachine/spliceengine/pull/3702", "merged": true, "mergeCommit": {"oid": "6c7db0b0a8900206fb06332d8e14f20948d3e455"}, "closed": true, "closedAt": "2020-07-09T10:29:23Z", "author": {"login": "arnaud-splice"}, "timelineItems": {"totalCount": 25, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcsySJ7AH2gAyNDM3MDc0MzE0OjRhNWIzYWQxNmI2YjY1MjJkNDg3M2FkZTI4ZTZiYzNkODY1MTg3NWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABczLMnGgH2gAyNDM3MDc0MzE0Ojk4ZjJkODZlZjk5ZmFlMmMwYzIyNDVhYTVhN2Q2MDZjYmI5YmQ1MTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "4a5b3ad16b6b6522d4873ade28e6bc3d8651875e", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/4a5b3ad16b6b6522d4873ade28e6bc3d8651875e", "committedDate": "2020-06-19T12:33:50Z", "message": "DB-8781 Purge old updates"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d3e650c3f0054ca319e4332623a0176cc3a4ccb0", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/d3e650c3f0054ca319e4332623a0176cc3a4ccb0", "committedDate": "2020-06-19T12:27:44Z", "message": "DB-8781 Purge old updates"}, "afterCommit": {"oid": "4a5b3ad16b6b6522d4873ade28e6bc3d8651875e", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/4a5b3ad16b6b6522d4873ade28e6bc3d8651875e", "committedDate": "2020-06-19T12:33:50Z", "message": "DB-8781 Purge old updates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0fa6eeb1448b78247ccd82cfebf18ddae1e2cf2", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/a0fa6eeb1448b78247ccd82cfebf18ddae1e2cf2", "committedDate": "2020-06-21T21:06:51Z", "message": "Merge remote-tracking branch 'origin/master' into DB-8781"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM0OTc1NTIw", "url": "https://github.com/splicemachine/spliceengine/pull/3702#pullrequestreview-434975520", "createdAt": "2020-06-22T14:25:32Z", "commit": {"oid": "a0fa6eeb1448b78247ccd82cfebf18ddae1e2cf2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxNDoyNTozMlrOGnDCKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yMlQxNDoyNTozMlrOGnDCKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MzU5NzM1NA==", "bodyText": "Here we are considering the begin timestamp of the transaction that wrote the data, but we need to consider the commit timestamp instead (there's the same problem with deletes too, https://splicemachine.atlassian.net/browse/DB-9640 )\nConsider the lowWaterMark is 1000 (and there is a transaction with timestamp 1000)\nIf we are processing an update with timestamp = 900 and commit timestamp 1200, we are adding it to the map. Then we remove the baseline insert @ ts 100.\nWhen the lowWatermark transaction @ 1000 goes to read, there's no baseline anymore and the row is gone.\nI think the race condition is pretty hard to hit but better to get it fixed.", "url": "https://github.com/splicemachine/spliceengine/pull/3702#discussion_r443597354", "createdAt": "2020-06-22T14:25:32Z", "author": {"login": "dgomezferro"}, "path": "hbase_storage/src/main/java/com/splicemachine/si/impl/server/SICompactionStateMutate.java", "diffHunk": "@@ -116,6 +120,27 @@ private void mutate(Cell element, TxnView txn) throws IOException {\n                     assert deleteRightAfterFirstWriteTimestamp == 0;\n                     deleteRightAfterFirstWriteTimestamp = element.getTimestamp();\n                     break;\n+                case USER_DATA: {\n+                    long t = element.getTimestamp();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a0fa6eeb1448b78247ccd82cfebf18ddae1e2cf2"}, "originalPosition": 72}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b341e2f19b78919324f0bbfb0ebef13df9b79a6", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/2b341e2f19b78919324f0bbfb0ebef13df9b79a6", "committedDate": "2020-06-23T12:15:20Z", "message": "DB-9640 Purging: Compare watermark to commit timestamp instead of begin timestamp"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "36d3210d863d69cc2147e9da6a9ed4ea7e6abe31", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/36d3210d863d69cc2147e9da6a9ed4ea7e6abe31", "committedDate": "2020-06-23T14:48:30Z", "message": "DB-9640 Fix spotbugs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "66cde77acab08f2cb42cb30fd0a2e2fa09eebfd3", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/66cde77acab08f2cb42cb30fd0a2e2fa09eebfd3", "committedDate": "2020-06-23T13:13:44Z", "message": "DB-9640 Fix spotbugs"}, "afterCommit": {"oid": "36d3210d863d69cc2147e9da6a9ed4ea7e6abe31", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/36d3210d863d69cc2147e9da6a9ed4ea7e6abe31", "committedDate": "2020-06-23T14:48:30Z", "message": "DB-9640 Fix spotbugs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4bea6e002525edd2d7ba9131c9804ebfc3e37d4f", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/4bea6e002525edd2d7ba9131c9804ebfc3e37d4f", "committedDate": "2020-06-23T21:07:36Z", "message": "WIP More traces"}, "afterCommit": {"oid": "8571a1972c12876ca5de67ce2c2291bc58bcef33", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/8571a1972c12876ca5de67ce2c2291bc58bcef33", "committedDate": "2020-06-24T09:46:10Z", "message": "WIP More traces"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8571a1972c12876ca5de67ce2c2291bc58bcef33", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/8571a1972c12876ca5de67ce2c2291bc58bcef33", "committedDate": "2020-06-24T09:46:10Z", "message": "WIP More traces"}, "afterCommit": {"oid": "4063777b486599a2135da10d5096fad5949082dc", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/4063777b486599a2135da10d5096fad5949082dc", "committedDate": "2020-06-24T10:04:34Z", "message": "DB-9640 Ignore Delete Commits"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4063777b486599a2135da10d5096fad5949082dc", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/4063777b486599a2135da10d5096fad5949082dc", "committedDate": "2020-06-24T10:04:34Z", "message": "DB-9640 Ignore Delete Commits"}, "afterCommit": {"oid": "0cf9b0a59f7f0cbd7bd4e17a515505aecb7a2c8e", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/0cf9b0a59f7f0cbd7bd4e17a515505aecb7a2c8e", "committedDate": "2020-06-24T10:06:34Z", "message": "DB-9640 Ignore Delete Commits"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0cf9b0a59f7f0cbd7bd4e17a515505aecb7a2c8e", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/0cf9b0a59f7f0cbd7bd4e17a515505aecb7a2c8e", "committedDate": "2020-06-24T10:06:34Z", "message": "DB-9640 Ignore Delete Commits"}, "afterCommit": {"oid": "7b46d649dc43a5561311b9791492ed8bd97b788e", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/7b46d649dc43a5561311b9791492ed8bd97b788e", "committedDate": "2020-06-24T17:12:34Z", "message": "DB-9640 Ignore Delete Commits"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7b46d649dc43a5561311b9791492ed8bd97b788e", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/7b46d649dc43a5561311b9791492ed8bd97b788e", "committedDate": "2020-06-24T17:12:34Z", "message": "DB-9640 Ignore Delete Commits"}, "afterCommit": {"oid": "6a6c60f0d4193c9326a88143e105f1b2f639ee8b", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/6a6c60f0d4193c9326a88143e105f1b2f639ee8b", "committedDate": "2020-06-25T00:17:24Z", "message": "DB-9640 Ignore Delete Commits"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c327ae2f936abfe918d2dadf9bb0d4419bf11252", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/c327ae2f936abfe918d2dadf9bb0d4419bf11252", "committedDate": "2020-06-25T13:12:10Z", "message": "DB-9640 Ignore Delete Commits"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6a6c60f0d4193c9326a88143e105f1b2f639ee8b", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/6a6c60f0d4193c9326a88143e105f1b2f639ee8b", "committedDate": "2020-06-25T00:17:24Z", "message": "DB-9640 Ignore Delete Commits"}, "afterCommit": {"oid": "c327ae2f936abfe918d2dadf9bb0d4419bf11252", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/c327ae2f936abfe918d2dadf9bb0d4419bf11252", "committedDate": "2020-06-25T13:12:10Z", "message": "DB-9640 Ignore Delete Commits"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a75510a01d47d18e1f66e14454d9bd9352823baf", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/a75510a01d47d18e1f66e14454d9bd9352823baf", "committedDate": "2020-06-26T12:56:18Z", "message": "DB-9640 Use commit TS for watermark comp, begin TS for the rest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eb6c2fa16a04a0decf8c49bf7c1d9f6dc239f090", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/eb6c2fa16a04a0decf8c49bf7c1d9f6dc239f090", "committedDate": "2020-06-26T12:57:01Z", "message": "DB-8781 Properly handle updates with primary keys"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQxNzQxMTk0", "url": "https://github.com/splicemachine/spliceengine/pull/3702#pullrequestreview-441741194", "createdAt": "2020-07-02T14:36:45Z", "commit": {"oid": "eb6c2fa16a04a0decf8c49bf7c1d9f6dc239f090"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyMzkzMjk5", "url": "https://github.com/splicemachine/spliceengine/pull/3702#pullrequestreview-442393299", "createdAt": "2020-07-03T12:53:30Z", "commit": {"oid": "eb6c2fa16a04a0decf8c49bf7c1d9f6dc239f090"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxMjo1MzozMFrOGsve5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxMjo1MzozMFrOGsve5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU2ODQ4Ng==", "bodyText": "why is it not allowed to tolerate situations like:\nbuilder.purgeDeletes(true);\n... // oops business logic shows that we can't do that\nbuilder.purgeDeletes(false); // this will throw", "url": "https://github.com/splicemachine/spliceengine/pull/3702#discussion_r449568486", "createdAt": "2020-07-03T12:53:30Z", "author": {"login": "hatyo"}, "path": "hbase_storage/src/main/java/com/splicemachine/si/impl/server/PurgeConfigBuilder.java", "diffHunk": "@@ -0,0 +1,104 @@\n+/*\n+ * Copyright (c) 2012 - 2020 Splice Machine, Inc.\n+ *\n+ * This file is part of Splice Machine.\n+ * Splice Machine is free software: you can redistribute it and/or modify it under the terms of the\n+ * GNU Affero General Public License as published by the Free Software Foundation, either\n+ * version 3, or (at your option) any later version.\n+ * Splice Machine is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\n+ * without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.\n+ * See the GNU Affero General Public License for more details.\n+ * You should have received a copy of the GNU Affero General Public License along with Splice Machine.\n+ * If not, see <http://www.gnu.org/licenses/>.\n+ */\n+\n+package com.splicemachine.si.impl.server;\n+\n+public class PurgeConfigBuilder {\n+    private PurgeConfig.PurgeLatestTombstone purgeLatestTombstone = null;\n+    private Boolean respectActiveTransactions = null;\n+    private Boolean purgeDeletes = null;\n+    private Boolean purgeUpdates = null;\n+\n+    public PurgeConfigBuilder purgeDeletes(boolean b) {\n+        assert purgeDeletes == null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb6c2fa16a04a0decf8c49bf7c1d9f6dc239f090"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyMzk0MDcz", "url": "https://github.com/splicemachine/spliceengine/pull/3702#pullrequestreview-442394073", "createdAt": "2020-07-03T12:54:51Z", "commit": {"oid": "eb6c2fa16a04a0decf8c49bf7c1d9f6dc239f090"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxMjo1NDo1MlrOGsvhRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxMjo1NDo1MlrOGsvhRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU2OTA5Mw==", "bodyText": "respectActiveTransactions I find the name a bit weird :) but it is ok", "url": "https://github.com/splicemachine/spliceengine/pull/3702#discussion_r449569093", "createdAt": "2020-07-03T12:54:52Z", "author": {"login": "hatyo"}, "path": "hbase_storage/src/main/java/com/splicemachine/si/impl/server/PurgeConfig.java", "diffHunk": "@@ -23,34 +23,16 @@\n \n     private final PurgeLatestTombstone purgeLatestTombstone;\n     private final boolean respectActiveTransactions;\n-    private final boolean purge;\n+    private final boolean purgeDeletes;\n+    private final boolean purgeUpdates;\n \n-    public PurgeConfig(boolean purge, PurgeLatestTombstone purgeLatestTombstone, boolean respectActiveTransactions) {\n-        this.purge = purge;\n+    public PurgeConfig(boolean purgeDeletes, PurgeLatestTombstone purgeLatestTombstone, boolean purgeUpdates, boolean respectActiveTransactions) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb6c2fa16a04a0decf8c49bf7c1d9f6dc239f090"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNDAyMDc5", "url": "https://github.com/splicemachine/spliceengine/pull/3702#pullrequestreview-442402079", "createdAt": "2020-07-03T13:09:02Z", "commit": {"oid": "eb6c2fa16a04a0decf8c49bf7c1d9f6dc239f090"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxMzowOTowMlrOGsv5bA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxMzowOTowMlrOGsv5bA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU3NTI3Ng==", "bodyText": "remove", "url": "https://github.com/splicemachine/spliceengine/pull/3702#discussion_r449575276", "createdAt": "2020-07-03T13:09:02Z", "author": {"login": "hatyo"}, "path": "hbase_storage/src/main/java/com/splicemachine/si/impl/server/SICompactionStateMutate.java", "diffHunk": "@@ -52,7 +56,7 @@ public void mutate(List<Cell> rawList, List<TxnView> txns, List<Cell> results) t\n         assert dataToReturn.isEmpty();\n         assert results.isEmpty();\n         assert maxTombstoneTimestamp == 0;\n-        assert isSorted(rawList): \"CompactionStateMutate: rawList not sorted\";\n+        //assert isSorted(rawList): \"CompactionStateMutate: rawList not sorted\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb6c2fa16a04a0decf8c49bf7c1d9f6dc239f090"}, "originalPosition": 48}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNDAyNTcx", "url": "https://github.com/splicemachine/spliceengine/pull/3702#pullrequestreview-442402571", "createdAt": "2020-07-03T13:09:52Z", "commit": {"oid": "eb6c2fa16a04a0decf8c49bf7c1d9f6dc239f090"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxMzowOTo1MlrOGsv61Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxMzowOTo1MlrOGsv61Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU3NTYzNw==", "bodyText": "dito", "url": "https://github.com/splicemachine/spliceengine/pull/3702#discussion_r449575637", "createdAt": "2020-07-03T13:09:52Z", "author": {"login": "hatyo"}, "path": "hbase_storage/src/main/java/com/splicemachine/si/impl/server/SICompactionStateMutate.java", "diffHunk": "@@ -61,15 +65,17 @@ public void mutate(List<Cell> rawList, List<TxnView> txns, List<Cell> results) t\n                 TxnView txn = it.next();\n                 mutate(aRawList, txn);\n             }\n-            if (purgeConfig.shouldPurge() &&\n-                    (!purgeConfig.shouldRespectActiveTransactions() || maxTombstoneTimestamp > 0)) {\n-                removeDeletedRows();\n-            }\n-            results.addAll(dataToReturn);\n-            assert isSorted(results) : \"CompactionStateMutate: results not sorted\";\n+            Stream<Cell> stream = dataToReturn.stream();\n+            if (shouldPurgeDeletes())\n+                stream = stream.filter(not(this::purgeableDeletedRow));\n+            if (shouldPurgeUpdates())\n+                stream = stream.filter(not(this::purgeableOldUpdate));\n+            stream.forEachOrdered(results::add);\n+            //assert isSorted(results) : \"CompactionStateMutate: results not sorted\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb6c2fa16a04a0decf8c49bf7c1d9f6dc239f090"}, "originalPosition": 68}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNDA0OTU5", "url": "https://github.com/splicemachine/spliceengine/pull/3702#pullrequestreview-442404959", "createdAt": "2020-07-03T13:14:07Z", "commit": {"oid": "eb6c2fa16a04a0decf8c49bf7c1d9f6dc239f090"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNDM4NTUz", "url": "https://github.com/splicemachine/spliceengine/pull/3702#pullrequestreview-442438553", "createdAt": "2020-07-03T14:10:49Z", "commit": {"oid": "eb6c2fa16a04a0decf8c49bf7c1d9f6dc239f090"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MjM2ODMx", "url": "https://github.com/splicemachine/spliceengine/pull/3702#pullrequestreview-445236831", "createdAt": "2020-07-09T01:48:01Z", "commit": {"oid": "eb6c2fa16a04a0decf8c49bf7c1d9f6dc239f090"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "98f2d86ef99fae2c0c2245aa5a7d606cbb9bd518", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/98f2d86ef99fae2c0c2245aa5a7d606cbb9bd518", "committedDate": "2020-07-09T08:58:57Z", "message": "Merge remote-tracking branch 'origin/master' into DB-8781"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1276, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}