{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2MTQ4ODEw", "number": 3558, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxNjo1MDozMFrOD8Jveg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxODo1MDo0N1rOD8Mcvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NDAwNzYyOnYy", "diffSide": "RIGHT", "path": "hbase_storage/src/main/java/com/splicemachine/storage/HPartitionLoad.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxNjo1MDozMFrOGU6rmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMzowNzo0MlrOGW2VGw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDU4NjEzOA==", "bodyText": "Why storefileIndexSize is removed?", "url": "https://github.com/splicemachine/spliceengine/pull/3558#discussion_r424586138", "createdAt": "2020-05-13T16:50:30Z", "author": {"login": "jyuanca"}, "path": "hbase_storage/src/main/java/com/splicemachine/storage/HPartitionLoad.java", "diffHunk": "@@ -19,15 +19,13 @@\n  *         Date: 1/7/16\n  */\n public class HPartitionLoad implements PartitionLoad{\n-    private final int storefileSizeMB;\n-    private final int memStoreSizeMB;\n-    private final int storefileIndexSizeMB;\n+    private final long storefileSize;\n+    private final long memStoreSize;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f3c231f0262a63b35b17917880b66ae8f34f33a"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjYxMTk5NQ==", "bodyText": "It wasn't used", "url": "https://github.com/splicemachine/spliceengine/pull/3558#discussion_r426611995", "createdAt": "2020-05-18T13:07:42Z", "author": {"login": "dgomezferro"}, "path": "hbase_storage/src/main/java/com/splicemachine/storage/HPartitionLoad.java", "diffHunk": "@@ -19,15 +19,13 @@\n  *         Date: 1/7/16\n  */\n public class HPartitionLoad implements PartitionLoad{\n-    private final int storefileSizeMB;\n-    private final int memStoreSizeMB;\n-    private final int storefileIndexSizeMB;\n+    private final long storefileSize;\n+    private final long memStoreSize;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDU4NjEzOA=="}, "originalCommit": {"oid": "8f3c231f0262a63b35b17917880b66ae8f34f33a"}, "originalPosition": 8}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NDQ1MTE4OnYy", "diffSide": "RIGHT", "path": "hbase_storage/src/main/java/com/splicemachine/storage/HServerLoad.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxODo1MDo0N1rOGU_HQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQxMzowODoxNFrOGW2WYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDY1ODc1NA==", "bodyText": "Should we multiple 1024*1024 to get the number in bytes?", "url": "https://github.com/splicemachine/spliceengine/pull/3558#discussion_r424658754", "createdAt": "2020-05-13T18:50:47Z", "author": {"login": "yxia92"}, "path": "hbase_storage/src/main/java/com/splicemachine/storage/HServerLoad.java", "diffHunk": "@@ -60,7 +60,7 @@ public long totalRequests(){\n         for(Map.Entry<byte[],RegionLoad> regionLoad:regionsLoad.entrySet()){\n             String name = Bytes.toString(regionLoad.getKey());\n             RegionLoad rl = regionLoad.getValue();\n-            PartitionLoad pl = new HPartitionLoad(name,rl.getStorefileSizeMB(),rl.getMemStoreSizeMB(),rl.getStorefileIndexSizeMB());\n+            PartitionLoad pl = new HPartitionLoad(name,rl.getStorefileSizeMB()*1024,rl.getMemStoreSizeMB()*1024);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f3c231f0262a63b35b17917880b66ae8f34f33a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjYxMjMyMw==", "bodyText": "Good catch @yxia92 , addressed in a new commit", "url": "https://github.com/splicemachine/spliceengine/pull/3558#discussion_r426612323", "createdAt": "2020-05-18T13:08:14Z", "author": {"login": "dgomezferro"}, "path": "hbase_storage/src/main/java/com/splicemachine/storage/HServerLoad.java", "diffHunk": "@@ -60,7 +60,7 @@ public long totalRequests(){\n         for(Map.Entry<byte[],RegionLoad> regionLoad:regionsLoad.entrySet()){\n             String name = Bytes.toString(regionLoad.getKey());\n             RegionLoad rl = regionLoad.getValue();\n-            PartitionLoad pl = new HPartitionLoad(name,rl.getStorefileSizeMB(),rl.getMemStoreSizeMB(),rl.getStorefileIndexSizeMB());\n+            PartitionLoad pl = new HPartitionLoad(name,rl.getStorefileSizeMB()*1024,rl.getMemStoreSizeMB()*1024);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDY1ODc1NA=="}, "originalCommit": {"oid": "8f3c231f0262a63b35b17917880b66ae8f34f33a"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3230, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}