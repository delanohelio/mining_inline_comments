{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc1MjU2NTIy", "number": 3225, "title": "DB-9157 Support DATE + n {YEAR,MONTH,DAY}(S) and ADD_{DAYS,MONTHS,YEARS}()", "bodyText": "", "createdAt": "2020-02-14T07:49:38Z", "url": "https://github.com/splicemachine/spliceengine/pull/3225", "merged": true, "mergeCommit": {"oid": "83c51e7c7af4fb75a8b154be9404988427c3273c"}, "closed": true, "closedAt": "2020-02-25T14:01:49Z", "author": {"login": "arnaud-splice"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcDu5sHAH2gAyMzc1MjU2NTIyOjgxN2E2MmM5NDRhM2I2MjVjYWZhMzQ3ODVjMzFkNzQxODkxYmJiZTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcGvDgqAFqTM2MzAxNTI3NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "817a62c944a3b625cafa34785c31d741891bbbe6", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/817a62c944a3b625cafa34785c31d741891bbbe6", "committedDate": "2020-02-12T23:26:30Z", "message": "DB-9140 Support tuples in predicates"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95cdfd5378e113c7b6f3cf8f824b7c5635e52d8d", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/95cdfd5378e113c7b6f3cf8f824b7c5635e52d8d", "committedDate": "2020-02-14T07:33:40Z", "message": "DB-9157 Support DATE + n {YEAR,MONTH,DAY}(S) and ADD_{DAYS,MONTHS,YEARS}()"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e43f47f513196b9e22679627140a600640dd917c", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/e43f47f513196b9e22679627140a600640dd917c", "committedDate": "2020-02-14T16:48:49Z", "message": "DB-9157 Unreserve YEARS keyword"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66068d7d7f3a6b32c9e5efdbd404248ffbc921f6", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/66068d7d7f3a6b32c9e5efdbd404248ffbc921f6", "committedDate": "2020-02-19T08:39:49Z", "message": "DB-9157 Update system procedures in upgrade script"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxMDU4MDE3", "url": "https://github.com/splicemachine/spliceengine/pull/3225#pullrequestreview-361058017", "createdAt": "2020-02-19T12:07:16Z", "commit": {"oid": "66068d7d7f3a6b32c9e5efdbd404248ffbc921f6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYxMDYxMTQ5", "url": "https://github.com/splicemachine/spliceengine/pull/3225#pullrequestreview-361061149", "createdAt": "2020-02-19T12:12:45Z", "commit": {"oid": "66068d7d7f3a6b32c9e5efdbd404248ffbc921f6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxMjoxMjo0NVrOFrl1hw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQxMjoxMjo0NVrOFrl1hw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTI1Mjk5OQ==", "bodyText": "We need to update the build number", "url": "https://github.com/splicemachine/spliceengine/pull/3225#discussion_r381252999", "createdAt": "2020-02-19T12:12:45Z", "author": {"login": "dgomezferro"}, "path": "splice_machine/src/main/java/com/splicemachine/derby/impl/sql/catalog/upgrade/SpliceCatalogUpgradeScripts.java", "diffHunk": "@@ -76,6 +76,7 @@ else if(v1==v2)\n         scripts.put(new Splice_DD_Version(sdd,3,1,0, 1933), new UpgradeScriptToUpdateViewForSYSCONGLOMERATEINSCHEMAS(sdd,tc));\n         scripts.put(new Splice_DD_Version(sdd,3,1,0, 1938), new UpgradeScriptForTriggerWhenClause(sdd,tc));\n         scripts.put(new Splice_DD_Version(sdd,3,1,0, 1941), new UpgradeScriptForTableColumnViewInSYSIBM(sdd,tc));\n+        scripts.put(new Splice_DD_Version(sdd,3,1,0, 1947), new UpgradeScriptBase(sdd,tc));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66068d7d7f3a6b32c9e5efdbd404248ffbc921f6"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac8f9d03b7afbe2e8cf951b92cdccb47f8b4dddb", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/ac8f9d03b7afbe2e8cf951b92cdccb47f8b4dddb", "committedDate": "2020-02-19T14:21:38Z", "message": "DB-9140 Remove support for le/lt/gt/ge in tuple comparison until we support lexicographical comparison"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f88faddf2cfda2f73407da043dc8ab5436dc90ac", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/f88faddf2cfda2f73407da043dc8ab5436dc90ac", "committedDate": "2020-02-19T23:23:31Z", "message": "DB-9140 Introduce ValueTupleNode"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c866b36999da3e060fc712fb42b89b26f2012722", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/c866b36999da3e060fc712fb42b89b26f2012722", "committedDate": "2020-02-19T23:32:23Z", "message": "Merge branch 'DB-9140' into DB-9157"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "868d9b349637ed5888401d29061f38232c1b3b44", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/868d9b349637ed5888401d29061f38232c1b3b44", "committedDate": "2020-02-19T23:40:34Z", "message": "DB-9157 update upgrade version"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMjgyMTEy", "url": "https://github.com/splicemachine/spliceengine/pull/3225#pullrequestreview-362282112", "createdAt": "2020-02-20T22:31:18Z", "commit": {"oid": "868d9b349637ed5888401d29061f38232c1b3b44"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMjozMToxOFrOFslc1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yMFQyMjozMToxOFrOFslc1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MjI5NTI1Mg==", "bodyText": "I just have a minor comment to change 1949 to 1948 in anticipation that this PR will be merged to the 1948 build. So if the system is already running 1948, this script won't be triggered again when upgrading to 1949 (a script will be trigged only if the system is running a version lower than the build number specified here. If the running version is same as the build number, SpliceDataDictionary.needToUpgrade() ensures that no upgrade script will be triggered).", "url": "https://github.com/splicemachine/spliceengine/pull/3225#discussion_r382295252", "createdAt": "2020-02-20T22:31:18Z", "author": {"login": "yxia92"}, "path": "splice_machine/src/main/java/com/splicemachine/derby/impl/sql/catalog/upgrade/SpliceCatalogUpgradeScripts.java", "diffHunk": "@@ -76,6 +76,7 @@ else if(v1==v2)\n         scripts.put(new Splice_DD_Version(sdd,3,1,0, 1933), new UpgradeScriptToUpdateViewForSYSCONGLOMERATEINSCHEMAS(sdd,tc));\n         scripts.put(new Splice_DD_Version(sdd,3,1,0, 1938), new UpgradeScriptForTriggerWhenClause(sdd,tc));\n         scripts.put(new Splice_DD_Version(sdd,3,1,0, 1941), new UpgradeScriptForTableColumnViewInSYSIBM(sdd,tc));\n+        scripts.put(new Splice_DD_Version(sdd,3,1,0, 1949), new UpgradeScriptBase(sdd,tc));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "868d9b349637ed5888401d29061f38232c1b3b44"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyMzAyOTc0", "url": "https://github.com/splicemachine/spliceengine/pull/3225#pullrequestreview-362302974", "createdAt": "2020-02-20T23:16:20Z", "commit": {"oid": "868d9b349637ed5888401d29061f38232c1b3b44"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8b27824f4b44c1a000dd5cac3d8563d0636a5f3f", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/8b27824f4b44c1a000dd5cac3d8563d0636a5f3f", "committedDate": "2020-02-21T11:11:47Z", "message": "Merge branch 'master' into DB-9157"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "48a653cb027eb351329a7d327a223fd3491fdc6a", "author": {"user": {"login": "arnaud-splice", "name": "Arnaud Lacurie"}}, "url": "https://github.com/splicemachine/spliceengine/commit/48a653cb027eb351329a7d327a223fd3491fdc6a", "committedDate": "2020-02-21T11:13:46Z", "message": "DB-9157 Address comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYyNzU4ODA5", "url": "https://github.com/splicemachine/spliceengine/pull/3225#pullrequestreview-362758809", "createdAt": "2020-02-21T16:34:19Z", "commit": {"oid": "48a653cb027eb351329a7d327a223fd3491fdc6a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYzMDE1Mjc1", "url": "https://github.com/splicemachine/spliceengine/pull/3225#pullrequestreview-363015275", "createdAt": "2020-02-22T07:19:00Z", "commit": {"oid": "48a653cb027eb351329a7d327a223fd3491fdc6a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 974, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}