{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQyMTE0NTAx", "number": 4890, "title": "DB-11063 Left outer broadcast join for more cases.", "bodyText": "Currently the Splice optimizer only allows nested loop join to perform left outer join with join predicates that don't reference left table columns, for example:\n\nselect * from t1 left outer join t2\non t2.b = 1;\n\nThis Jira adds support for left outer join to use broadcast join when each join predicate only references columns from a single table (or perhaps from neither table).", "createdAt": "2020-12-17T20:43:07Z", "url": "https://github.com/splicemachine/spliceengine/pull/4890", "merged": true, "mergeCommit": {"oid": "460935efac014a76515211a4ad97acb64e9ad795"}, "closed": true, "closedAt": "2020-12-21T09:44:09Z", "author": {"login": "msirek"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdnJtL9gH2gAyNTQyMTE0NTAxOjM3ZWIzNjI5NmM0ZjQ5YjQ0ZjgwZmYzNGQ5YWRlNGYyZDYxMmNiMTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdoQZ2FgFqTU1NjE2NTQ1MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "37eb36296c4f49b44f80ff34d9ade4f2d612cb14", "author": {"user": {"login": "msirek", "name": "Mark Sirek"}}, "url": "https://github.com/splicemachine/spliceengine/commit/37eb36296c4f49b44f80ff34d9ade4f2d612cb14", "committedDate": "2020-12-17T20:38:47Z", "message": "DB-11063 Left outer broadcast join for more cases."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MzExNjky", "url": "https://github.com/splicemachine/spliceengine/pull/4890#pullrequestreview-555311692", "createdAt": "2020-12-18T09:03:48Z", "commit": {"oid": "37eb36296c4f49b44f80ff34d9ade4f2d612cb14"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwOTowMzo0OVrOIIZ1bw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQwOTowMzo0OVrOIIZ1bw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTY4Mjc5OQ==", "bodyText": "@msirek should we also allow RIGHTOUTERJOIN here, or at this point we only have LEFT OUTER ?", "url": "https://github.com/splicemachine/spliceengine/pull/4890#discussion_r545682799", "createdAt": "2020-12-18T09:03:49Z", "author": {"login": "dgomezferro"}, "path": "db-engine/src/main/java/com/splicemachine/db/impl/sql/compile/HashableJoinStrategy.java", "diffHunk": "@@ -167,7 +167,8 @@ public boolean feasible(Optimizable innerTable,\n         if (hashKeyColumns == null && skipKeyCheck) {\n             // For full outer join, broadcast join is the default join strategy that can be applied\n             // to any kinds of join predicate, so make the eligibility check more general\n-            if (outerCost.getJoinType() == JoinNode.FULLOUTERJOIN &&\n+            if ((outerCost.getJoinType() == JoinNode.FULLOUTERJOIN ||\n+                 outerCost.getJoinType() == JoinNode.LEFTOUTERJOIN) &&", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "37eb36296c4f49b44f80ff34d9ade4f2d612cb14"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1ODc2Mjk3", "url": "https://github.com/splicemachine/spliceengine/pull/4890#pullrequestreview-555876297", "createdAt": "2020-12-18T23:25:12Z", "commit": {"oid": "37eb36296c4f49b44f80ff34d9ade4f2d612cb14"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1OTQ4NjQx", "url": "https://github.com/splicemachine/spliceengine/pull/4890#pullrequestreview-555948641", "createdAt": "2020-12-19T15:25:27Z", "commit": {"oid": "37eb36296c4f49b44f80ff34d9ade4f2d612cb14"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU2MTY1NDUw", "url": "https://github.com/splicemachine/spliceengine/pull/4890#pullrequestreview-556165450", "createdAt": "2020-12-21T07:00:55Z", "commit": {"oid": "37eb36296c4f49b44f80ff34d9ade4f2d612cb14"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 988, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}