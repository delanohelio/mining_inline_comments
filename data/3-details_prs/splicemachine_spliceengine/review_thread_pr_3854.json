{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUxMTk2MDUx", "number": 3854, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNjoyNToxN1rOESdmxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxNjoyNDoxMFrOEZjwaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3Nzk0ODg0OnYy", "diffSide": "RIGHT", "path": "platform_it/pom.xml", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNjoyNToxN1rOG3qBBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxMzowMTowNlrOG-2rXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAxMzI1Mw==", "bodyText": "yarn-client is deprecated in Spark 2.0+, no need to keep it.\nspark.submit.deployMode may need to be explicitly specified.", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r461013253", "createdAt": "2020-07-27T16:25:17Z", "author": {"login": "OlegMazurov"}, "path": "platform_it/pom.xml", "diffHunk": "@@ -1002,7 +1002,7 @@\n                                 <argument>-Dsplice.spark.kryoserializer.buffer=4m</argument>\n                                 <argument>-Dsplice.spark.locality.wait=60s</argument>\n                                 <argument>-Dsplice.spark.logConf=true</argument>\n-                                <argument>-Dsplice.spark.master=yarn-client</argument>\n+                                <argument>-Dsplice.spark.master=${splice.spark.master}</argument>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2cba42cee6018132860088d85ef28baed3a3a1cd"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ5NzMwNw==", "bodyText": "splice.spark.master is set to 'yarn', added splice.spark.submit.deployMode=client", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r461497307", "createdAt": "2020-07-28T11:03:37Z", "author": {"login": "ipraznik-splice"}, "path": "platform_it/pom.xml", "diffHunk": "@@ -1002,7 +1002,7 @@\n                                 <argument>-Dsplice.spark.kryoserializer.buffer=4m</argument>\n                                 <argument>-Dsplice.spark.locality.wait=60s</argument>\n                                 <argument>-Dsplice.spark.logConf=true</argument>\n-                                <argument>-Dsplice.spark.master=yarn-client</argument>\n+                                <argument>-Dsplice.spark.master=${splice.spark.master}</argument>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAxMzI1Mw=="}, "originalCommit": {"oid": "2cba42cee6018132860088d85ef28baed3a3a1cd"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTcxODExMg==", "bodyText": "Do the same for the spliceFastSSL profile", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r461718112", "createdAt": "2020-07-28T16:35:12Z", "author": {"login": "OlegMazurov"}, "path": "platform_it/pom.xml", "diffHunk": "@@ -1002,7 +1002,7 @@\n                                 <argument>-Dsplice.spark.kryoserializer.buffer=4m</argument>\n                                 <argument>-Dsplice.spark.locality.wait=60s</argument>\n                                 <argument>-Dsplice.spark.logConf=true</argument>\n-                                <argument>-Dsplice.spark.master=yarn-client</argument>\n+                                <argument>-Dsplice.spark.master=${splice.spark.master}</argument>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAxMzI1Mw=="}, "originalCommit": {"oid": "2cba42cee6018132860088d85ef28baed3a3a1cd"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODU2MDczNQ==", "bodyText": "Sorry, did not notice second occurrence, fixed.", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r468560735", "createdAt": "2020-08-11T13:01:06Z", "author": {"login": "ipraznik-splice"}, "path": "platform_it/pom.xml", "diffHunk": "@@ -1002,7 +1002,7 @@\n                                 <argument>-Dsplice.spark.kryoserializer.buffer=4m</argument>\n                                 <argument>-Dsplice.spark.locality.wait=60s</argument>\n                                 <argument>-Dsplice.spark.logConf=true</argument>\n-                                <argument>-Dsplice.spark.master=yarn-client</argument>\n+                                <argument>-Dsplice.spark.master=${splice.spark.master}</argument>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAxMzI1Mw=="}, "originalCommit": {"oid": "2cba42cee6018132860088d85ef28baed3a3a1cd"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3Nzk2MTIzOnYy", "diffSide": "RIGHT", "path": "hbase_sql/pom.xml", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNjoyODoyMVrOG3qIzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxMzowMToyNFrOG-2sQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAxNTI0Ng==", "bodyText": "Splice explicitly uses org.xerial.snappy (in addition to Hadoop's internal version). Why is this dependency needed?", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r461015246", "createdAt": "2020-07-27T16:28:21Z", "author": {"login": "OlegMazurov"}, "path": "hbase_sql/pom.xml", "diffHunk": "@@ -148,7 +148,12 @@\n             <artifactId>guava</artifactId>\n             <scope>provided</scope>\n         </dependency>\n-\n+        <dependency>\n+            <groupId>org.iq80.snappy</groupId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2cba42cee6018132860088d85ef28baed3a3a1cd"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ0NDE3MA==", "bodyText": "org.iq80.snappy.Snappy is still used in hbase_sql/com.splicemachine.orc.stream.OrcInputStream. Before spark3 it was found via spark-hive_2.11:jar:2.4.0-cdh6.3.0 -> hive-exec:jar:2.1.1-cdh6.3.0.\nLooks like there is only one class with this dependency. Should I replace it by org.xerial.snappy.Snappy?", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r461444170", "createdAt": "2020-07-28T09:24:38Z", "author": {"login": "ipraznik-splice"}, "path": "hbase_sql/pom.xml", "diffHunk": "@@ -148,7 +148,12 @@\n             <artifactId>guava</artifactId>\n             <scope>provided</scope>\n         </dependency>\n-\n+        <dependency>\n+            <groupId>org.iq80.snappy</groupId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAxNTI0Ng=="}, "originalCommit": {"oid": "2cba42cee6018132860088d85ef28baed3a3a1cd"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTcxMDE0MA==", "bodyText": "Use com.splicemachine.compression.SpliceSnappy from spliceengine/utilities. It's based on org.xerial.snappy.", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r461710140", "createdAt": "2020-07-28T16:22:56Z", "author": {"login": "OlegMazurov"}, "path": "hbase_sql/pom.xml", "diffHunk": "@@ -148,7 +148,12 @@\n             <artifactId>guava</artifactId>\n             <scope>provided</scope>\n         </dependency>\n-\n+        <dependency>\n+            <groupId>org.iq80.snappy</groupId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAxNTI0Ng=="}, "originalCommit": {"oid": "2cba42cee6018132860088d85ef28baed3a3a1cd"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODU2MDk2MQ==", "bodyText": "Done", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r468560961", "createdAt": "2020-08-11T13:01:24Z", "author": {"login": "ipraznik-splice"}, "path": "hbase_sql/pom.xml", "diffHunk": "@@ -148,7 +148,12 @@\n             <artifactId>guava</artifactId>\n             <scope>provided</scope>\n         </dependency>\n-\n+        <dependency>\n+            <groupId>org.iq80.snappy</groupId>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAxNTI0Ng=="}, "originalCommit": {"oid": "2cba42cee6018132860088d85ef28baed3a3a1cd"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3Nzk3MjU2OnYy", "diffSide": "RIGHT", "path": "scala_util/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNjozMToxOVrOG3qQEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOFQxMTowMzo1OVrOG4HklQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAxNzEwNg==", "bodyText": "Since many modules have this dependency, it should be added to  in the topmost pom.xml", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r461017106", "createdAt": "2020-07-27T16:31:19Z", "author": {"login": "OlegMazurov"}, "path": "scala_util/pom.xml", "diffHunk": "@@ -66,13 +66,13 @@\n         <dependency>\n             <groupId>org.scalatest</groupId>\n             <artifactId>scalatest_${scala.binary.version}</artifactId>\n-            <version>2.2.4</version>\n+            <version>${scalatest.version}</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2cba42cee6018132860088d85ef28baed3a3a1cd"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ5NzQ5Mw==", "bodyText": "moved version to the parent pom", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r461497493", "createdAt": "2020-07-28T11:03:59Z", "author": {"login": "ipraznik-splice"}, "path": "scala_util/pom.xml", "diffHunk": "@@ -66,13 +66,13 @@\n         <dependency>\n             <groupId>org.scalatest</groupId>\n             <artifactId>scalatest_${scala.binary.version}</artifactId>\n-            <version>2.2.4</version>\n+            <version>${scalatest.version}</version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAxNzEwNg=="}, "originalCommit": {"oid": "2cba42cee6018132860088d85ef28baed3a3a1cd"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg3Nzk4MDQ1OnYy", "diffSide": "RIGHT", "path": "hbase_sql/pom.xml", "isResolved": true, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxNjozMzoxOVrOG3qU9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxMzowMTozM1rOG-2sjA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAxODM1Nw==", "bodyText": "This is an unwanted dependency. We provide it as part of Splice. Do we really need to upgrade it for Spark 3.0? (I'd rather eliminate it)", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r461018357", "createdAt": "2020-07-27T16:33:19Z", "author": {"login": "OlegMazurov"}, "path": "hbase_sql/pom.xml", "diffHunk": "@@ -90,7 +90,7 @@\n         <dependency>\n             <groupId>com.typesafe.akka</groupId>\n             <artifactId>akka-remote_${scala.binary.version}</artifactId>\n-            <version>2.4.8</version>\n+            <version>${akka.version}</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2cba42cee6018132860088d85ef28baed3a3a1cd"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTQ4MjIxNQ==", "bodyText": "It's used in hbase_sql/com.splicemachine.olap.OlapJobStatus\nimport akka.remote.FailureDetector; import akka.remote.FailureDetector$; import akka.remote.PhiAccrualFailureDetector;\nshould it be refactored somehow?", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r461482215", "createdAt": "2020-07-28T10:32:38Z", "author": {"login": "ipraznik-splice"}, "path": "hbase_sql/pom.xml", "diffHunk": "@@ -90,7 +90,7 @@\n         <dependency>\n             <groupId>com.typesafe.akka</groupId>\n             <artifactId>akka-remote_${scala.binary.version}</artifactId>\n-            <version>2.4.8</version>\n+            <version>${akka.version}</version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAxODM1Nw=="}, "originalCommit": {"oid": "2cba42cee6018132860088d85ef28baed3a3a1cd"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTcyMTM0Nw==", "bodyText": "We should not bring a dependency on akka just because we want to use PhiAccrualFailureDetector.\nRefactoring it goes beyond the scope of this JIRA.\nElevating this dependency to the parent pom.xml creates a perception of its legitimacy. I would leave it confined to hbase_sql/pom.xml as is (no version upgrade to avoid potential unwanted transitive dependencies).", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r461721347", "createdAt": "2020-07-28T16:40:32Z", "author": {"login": "OlegMazurov"}, "path": "hbase_sql/pom.xml", "diffHunk": "@@ -90,7 +90,7 @@\n         <dependency>\n             <groupId>com.typesafe.akka</groupId>\n             <artifactId>akka-remote_${scala.binary.version}</artifactId>\n-            <version>2.4.8</version>\n+            <version>${akka.version}</version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAxODM1Nw=="}, "originalCommit": {"oid": "2cba42cee6018132860088d85ef28baed3a3a1cd"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzkxOTgwMQ==", "bodyText": "I should upgrade the version, as there is no 2.4.8 with scala 2.12. The closest version with 2.12 support was 2.4.12. I can directly update the version in hbase_sql/pom.xml, without the parent change.", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r467919801", "createdAt": "2020-08-10T13:54:10Z", "author": {"login": "ipraznik-splice"}, "path": "hbase_sql/pom.xml", "diffHunk": "@@ -90,7 +90,7 @@\n         <dependency>\n             <groupId>com.typesafe.akka</groupId>\n             <artifactId>akka-remote_${scala.binary.version}</artifactId>\n-            <version>2.4.8</version>\n+            <version>${akka.version}</version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAxODM1Nw=="}, "originalCommit": {"oid": "2cba42cee6018132860088d85ef28baed3a3a1cd"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODEwNDEwMQ==", "bodyText": "That's the way to do it for now (hopefully, 2.4.12 does not bring new transitive dependencies)", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r468104101", "createdAt": "2020-08-10T18:42:09Z", "author": {"login": "OlegMazurov"}, "path": "hbase_sql/pom.xml", "diffHunk": "@@ -90,7 +90,7 @@\n         <dependency>\n             <groupId>com.typesafe.akka</groupId>\n             <artifactId>akka-remote_${scala.binary.version}</artifactId>\n-            <version>2.4.8</version>\n+            <version>${akka.version}</version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAxODM1Nw=="}, "originalCommit": {"oid": "2cba42cee6018132860088d85ef28baed3a3a1cd"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODU2MTAzNg==", "bodyText": "Done", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r468561036", "createdAt": "2020-08-11T13:01:33Z", "author": {"login": "ipraznik-splice"}, "path": "hbase_sql/pom.xml", "diffHunk": "@@ -90,7 +90,7 @@\n         <dependency>\n             <groupId>com.typesafe.akka</groupId>\n             <artifactId>akka-remote_${scala.binary.version}</artifactId>\n-            <version>2.4.8</version>\n+            <version>${akka.version}</version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MTAxODM1Nw=="}, "originalCommit": {"oid": "2cba42cee6018132860088d85ef28baed3a3a1cd"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMTkxOTQ4OnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QyMDozNDoxM1rOG7H0gQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMVQxMzowMjowMVrOG-2tmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDY0NzI5Nw==", "bodyText": "Probably not a blocker, but is it better to use the lastest scala version 2.12.12 or are there reasons to stay on 2.12.10 ?", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r464647297", "createdAt": "2020-08-03T20:34:13Z", "author": {"login": "jpanko1"}, "path": "pom.xml", "diffHunk": "@@ -945,6 +954,48 @@\n                 <module>assembly</module>\n             </modules>\n         </profile>\n+        <profile>\n+            <id>spark_3.0</id>\n+            <activation>\n+                <property>\n+                    <name>env</name>\n+                    <value>spark_3.0</value>\n+                </property>\n+            </activation>\n+            <properties>\n+                <cdh.parcel.version>6.3.0</cdh.parcel.version>\n+                <envClassifier>spark_3.0</envClassifier>\n+                <envHbase>hbase2.1.4</envHbase>\n+                <hadoop.version>3.0.0-cdh6.3.0</hadoop.version>\n+                <hbase.version>2.1.0-cdh6.3.0</hbase.version>\n+                <hive.version>2.1.1-cdh6.3.0</hive.version>\n+                <zookeeper.version>3.4.5-cdh6.3.0</zookeeper.version>\n+                <scala.binary.version>2.12</scala.binary.version>\n+                <scala.version>2.12.10</scala.version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d07e9bfb56f43a7788c1b9e383cbbf04a1ea8af0"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzkyNDE5Ng==", "bodyText": "I took 2.12.10 as spark3 has this version in the dependencies list, but should be compatible with 2.12.12. Will upgrade.", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r467924196", "createdAt": "2020-08-10T14:00:42Z", "author": {"login": "ipraznik-splice"}, "path": "pom.xml", "diffHunk": "@@ -945,6 +954,48 @@\n                 <module>assembly</module>\n             </modules>\n         </profile>\n+        <profile>\n+            <id>spark_3.0</id>\n+            <activation>\n+                <property>\n+                    <name>env</name>\n+                    <value>spark_3.0</value>\n+                </property>\n+            </activation>\n+            <properties>\n+                <cdh.parcel.version>6.3.0</cdh.parcel.version>\n+                <envClassifier>spark_3.0</envClassifier>\n+                <envHbase>hbase2.1.4</envHbase>\n+                <hadoop.version>3.0.0-cdh6.3.0</hadoop.version>\n+                <hbase.version>2.1.0-cdh6.3.0</hbase.version>\n+                <hive.version>2.1.1-cdh6.3.0</hive.version>\n+                <zookeeper.version>3.4.5-cdh6.3.0</zookeeper.version>\n+                <scala.binary.version>2.12</scala.binary.version>\n+                <scala.version>2.12.10</scala.version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDY0NzI5Nw=="}, "originalCommit": {"oid": "d07e9bfb56f43a7788c1b9e383cbbf04a1ea8af0"}, "originalPosition": 62}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODU2MTMwNw==", "bodyText": "Upgraded to 2.12.12 in the configuration", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r468561307", "createdAt": "2020-08-11T13:02:01Z", "author": {"login": "ipraznik-splice"}, "path": "pom.xml", "diffHunk": "@@ -945,6 +954,48 @@\n                 <module>assembly</module>\n             </modules>\n         </profile>\n+        <profile>\n+            <id>spark_3.0</id>\n+            <activation>\n+                <property>\n+                    <name>env</name>\n+                    <value>spark_3.0</value>\n+                </property>\n+            </activation>\n+            <properties>\n+                <cdh.parcel.version>6.3.0</cdh.parcel.version>\n+                <envClassifier>spark_3.0</envClassifier>\n+                <envHbase>hbase2.1.4</envHbase>\n+                <hadoop.version>3.0.0-cdh6.3.0</hadoop.version>\n+                <hbase.version>2.1.0-cdh6.3.0</hbase.version>\n+                <hive.version>2.1.1-cdh6.3.0</hive.version>\n+                <zookeeper.version>3.4.5-cdh6.3.0</zookeeper.version>\n+                <scala.binary.version>2.12</scala.binary.version>\n+                <scala.version>2.12.10</scala.version>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDY0NzI5Nw=="}, "originalCommit": {"oid": "d07e9bfb56f43a7788c1b9e383cbbf04a1ea8af0"}, "originalPosition": 62}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1MjM1Njg5OnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxNjoyNDoxMFrOHCcSKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOVQxMDoxNzowM1rOHDAw_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjMyMjYwMQ==", "bodyText": "We can't reuse envClassifier in this profile. All platform dependent modules (hbase_sql, hbase_storage, etc.) will be built with the same version from two different profiles: cdh6.3.0 and dbaas3.0. There will be only one version in Maven repository at any particular time. Which one will depend on which profile was built last.", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r472322601", "createdAt": "2020-08-18T16:24:10Z", "author": {"login": "OlegMazurov"}, "path": "pom.xml", "diffHunk": "@@ -983,6 +991,47 @@\n                 <module>assembly</module>\n             </modules>\n         </profile>\n+        <profile>\n+            <id>dbaas3.0</id>\n+            <activation>\n+                <property>\n+                    <name>env</name>\n+                    <value>dbaas3.0</value>\n+                </property>\n+            </activation>\n+            <properties>\n+                <cdh.parcel.version>6.3.2</cdh.parcel.version>\n+                <envClassifier>cdh6.3.0</envClassifier>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "78ef272c8c3a86b32f99fd124d791bae299d766e"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjM1NDc4MA==", "bodyText": "A new subdirectory assembly/dbaas3.0 is also needed for the new profile/envClassifier", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r472354780", "createdAt": "2020-08-18T17:14:14Z", "author": {"login": "OlegMazurov"}, "path": "pom.xml", "diffHunk": "@@ -983,6 +991,47 @@\n                 <module>assembly</module>\n             </modules>\n         </profile>\n+        <profile>\n+            <id>dbaas3.0</id>\n+            <activation>\n+                <property>\n+                    <name>env</name>\n+                    <value>dbaas3.0</value>\n+                </property>\n+            </activation>\n+            <properties>\n+                <cdh.parcel.version>6.3.2</cdh.parcel.version>\n+                <envClassifier>cdh6.3.0</envClassifier>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjMyMjYwMQ=="}, "originalCommit": {"oid": "78ef272c8c3a86b32f99fd124d791bae299d766e"}, "originalPosition": 54}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjkyMDMxOQ==", "bodyText": "Done", "url": "https://github.com/splicemachine/spliceengine/pull/3854#discussion_r472920319", "createdAt": "2020-08-19T10:17:03Z", "author": {"login": "ipraznik-splice"}, "path": "pom.xml", "diffHunk": "@@ -983,6 +991,47 @@\n                 <module>assembly</module>\n             </modules>\n         </profile>\n+        <profile>\n+            <id>dbaas3.0</id>\n+            <activation>\n+                <property>\n+                    <name>env</name>\n+                    <value>dbaas3.0</value>\n+                </property>\n+            </activation>\n+            <properties>\n+                <cdh.parcel.version>6.3.2</cdh.parcel.version>\n+                <envClassifier>cdh6.3.0</envClassifier>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjMyMjYwMQ=="}, "originalCommit": {"oid": "78ef272c8c3a86b32f99fd124d791bae299d766e"}, "originalPosition": 54}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3111, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}