{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE0Mjc0MDUz", "number": 4433, "title": "DB-10570 support currentSchema in jdbc connecting string", "bodyText": "", "createdAt": "2020-11-02T19:34:51Z", "url": "https://github.com/splicemachine/spliceengine/pull/4433", "merged": true, "mergeCommit": {"oid": "44c41e5d3cf75f0478656679dac6c4446c00f728"}, "closed": true, "closedAt": "2020-11-04T16:43:49Z", "author": {"login": "yxia92"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdYouZhAH2gAyNTE0Mjc0MDUzOmY3YTFkN2RjOTNjZmNiNmI1YTdiZDk4MDQ1Yzk5ODM2MDAwMzljM2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZKkoMAFqTUyMzE5Mjk0Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f7a1d7dc93cfcb6b5a7bd98045c9983600039c3b", "author": {"user": {"login": "yxia92", "name": "Yi Xia"}}, "url": "https://github.com/splicemachine/spliceengine/commit/f7a1d7dc93cfcb6b5a7bd98045c9983600039c3b", "committedDate": "2020-11-02T18:18:18Z", "message": "DB-10570 support currentSchema in jdbc connecting string"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMzI4MTg2", "url": "https://github.com/splicemachine/spliceengine/pull/4433#pullrequestreview-522328186", "createdAt": "2020-11-03T09:46:39Z", "commit": {"oid": "f7a1d7dc93cfcb6b5a7bd98045c9983600039c3b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwOTo0NjozOVrOHsm83w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wM1QwOTo0NjozOVrOHsm83w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNjUzNzU2Nw==", "bodyText": "It seems we support both schema and currentSchema, between which currentSchema has priority in a sense that if it's set, then schema is ignored. Is that intended?", "url": "https://github.com/splicemachine/spliceengine/pull/4433#discussion_r516537567", "createdAt": "2020-11-03T09:46:39Z", "author": {"login": "ascend1"}, "path": "db-engine/src/main/java/com/splicemachine/db/impl/jdbc/TransactionResourceImpl.java", "diffHunk": "@@ -173,7 +172,9 @@\n         drdaID = info.getProperty(Attribute.DRDAID_ATTR, null);\n         rdbIntTkn = info.getProperty(Attribute.RDBINTTKN_ATTR, null);\n         ipAddress = info.getProperty(Property.IP_ADDRESS, null);\n-        defaultSchema = info.getProperty(Property.CONNECTION_SCHEMA, null);\n+        defaultSchema = info.getProperty(Property.CONNECTION_CURRENT_SCHEMA, null);\n+        if (defaultSchema == null)\n+            defaultSchema = info.getProperty(Property.CONNECTION_SCHEMA, null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7a1d7dc93cfcb6b5a7bd98045c9983600039c3b"}, "originalPosition": 15}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMzI5Njcz", "url": "https://github.com/splicemachine/spliceengine/pull/4433#pullrequestreview-522329673", "createdAt": "2020-11-03T09:48:29Z", "commit": {"oid": "f7a1d7dc93cfcb6b5a7bd98045c9983600039c3b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMzMwOTIy", "url": "https://github.com/splicemachine/spliceengine/pull/4433#pullrequestreview-522330922", "createdAt": "2020-11-03T09:49:59Z", "commit": {"oid": "f7a1d7dc93cfcb6b5a7bd98045c9983600039c3b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIyMzMyNDI5", "url": "https://github.com/splicemachine/spliceengine/pull/4433#pullrequestreview-522332429", "createdAt": "2020-11-03T09:51:48Z", "commit": {"oid": "f7a1d7dc93cfcb6b5a7bd98045c9983600039c3b"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzMDc3MjE2", "url": "https://github.com/splicemachine/spliceengine/pull/4433#pullrequestreview-523077216", "createdAt": "2020-11-04T06:42:53Z", "commit": {"oid": "f7a1d7dc93cfcb6b5a7bd98045c9983600039c3b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzMTg0MzE3", "url": "https://github.com/splicemachine/spliceengine/pull/4433#pullrequestreview-523184317", "createdAt": "2020-11-04T09:33:51Z", "commit": {"oid": "f7a1d7dc93cfcb6b5a7bd98045c9983600039c3b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTIzMTkyOTQ2", "url": "https://github.com/splicemachine/spliceengine/pull/4433#pullrequestreview-523192946", "createdAt": "2020-11-04T09:44:24Z", "commit": {"oid": "f7a1d7dc93cfcb6b5a7bd98045c9983600039c3b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1083, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}