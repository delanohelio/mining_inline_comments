{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2MTQ4ODEw", "number": 3558, "title": "DB-9540 Make RegionLoads use bytes instead of MBs", "bodyText": "Fix RegionSplitsIT and don't require /BAD directory to exist for\nSpliceRegionAdminIT", "createdAt": "2020-05-11T14:40:54Z", "url": "https://github.com/splicemachine/spliceengine/pull/3558", "merged": true, "mergeCommit": {"oid": "6b0834359f78ac2b727e78156ecce9fbef3fa835"}, "closed": true, "closedAt": "2020-05-19T18:27:29Z", "author": {"login": "dgomezferro"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgLbIdgH2gAyNDE2MTQ4ODEwOjhmM2MyMzFmMDI2MmE2M2IzNWIxNzkxNzg4MGI2NmFlOGYzNGYzM2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABci4rNLgFqTQxNDcwOTczOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8f3c231f0262a63b35b17917880b66ae8f34f33a", "author": {"user": {"login": "dgomezferro", "name": "Daniel G\u00f3mez Ferro"}}, "url": "https://github.com/splicemachine/spliceengine/commit/8f3c231f0262a63b35b17917880b66ae8f34f33a", "committedDate": "2020-05-11T08:30:15Z", "message": "DB-9540 Make RegionLoads use bytes instead of MBs\n\nFix RegionSplitsIT and don't require /BAD directory to exist for\nSpliceRegionAdminIT"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExMTE1NjAz", "url": "https://github.com/splicemachine/spliceengine/pull/3558#pullrequestreview-411115603", "createdAt": "2020-05-13T16:50:29Z", "commit": {"oid": "8f3c231f0262a63b35b17917880b66ae8f34f33a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxNjo1MDozMFrOGU6rmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxNjo1MDozMFrOGU6rmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDU4NjEzOA==", "bodyText": "Why storefileIndexSize is removed?", "url": "https://github.com/splicemachine/spliceengine/pull/3558#discussion_r424586138", "createdAt": "2020-05-13T16:50:30Z", "author": {"login": "jyuanca"}, "path": "hbase_storage/src/main/java/com/splicemachine/storage/HPartitionLoad.java", "diffHunk": "@@ -19,15 +19,13 @@\n  *         Date: 1/7/16\n  */\n public class HPartitionLoad implements PartitionLoad{\n-    private final int storefileSizeMB;\n-    private final int memStoreSizeMB;\n-    private final int storefileIndexSizeMB;\n+    private final long storefileSize;\n+    private final long memStoreSize;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f3c231f0262a63b35b17917880b66ae8f34f33a"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExMjA2OTc2", "url": "https://github.com/splicemachine/spliceengine/pull/3558#pullrequestreview-411206976", "createdAt": "2020-05-13T18:50:47Z", "commit": {"oid": "8f3c231f0262a63b35b17917880b66ae8f34f33a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxODo1MDo0N1rOGU_HQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xM1QxODo1MDo0N1rOGU_HQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDY1ODc1NA==", "bodyText": "Should we multiple 1024*1024 to get the number in bytes?", "url": "https://github.com/splicemachine/spliceengine/pull/3558#discussion_r424658754", "createdAt": "2020-05-13T18:50:47Z", "author": {"login": "yxia92"}, "path": "hbase_storage/src/main/java/com/splicemachine/storage/HServerLoad.java", "diffHunk": "@@ -60,7 +60,7 @@ public long totalRequests(){\n         for(Map.Entry<byte[],RegionLoad> regionLoad:regionsLoad.entrySet()){\n             String name = Bytes.toString(regionLoad.getKey());\n             RegionLoad rl = regionLoad.getValue();\n-            PartitionLoad pl = new HPartitionLoad(name,rl.getStorefileSizeMB(),rl.getMemStoreSizeMB(),rl.getStorefileIndexSizeMB());\n+            PartitionLoad pl = new HPartitionLoad(name,rl.getStorefileSizeMB()*1024,rl.getMemStoreSizeMB()*1024);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8f3c231f0262a63b35b17917880b66ae8f34f33a"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f79ac4a3e295311e2c85f67ce2bb4acddbc57c03", "author": {"user": {"login": "dgomezferro", "name": "Daniel G\u00f3mez Ferro"}}, "url": "https://github.com/splicemachine/spliceengine/commit/f79ac4a3e295311e2c85f67ce2bb4acddbc57c03", "committedDate": "2020-05-18T13:08:37Z", "message": "DB-9540 Fix conversion to bytes from MB"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzODYyNjcy", "url": "https://github.com/splicemachine/spliceengine/pull/3558#pullrequestreview-413862672", "createdAt": "2020-05-18T19:04:18Z", "commit": {"oid": "f79ac4a3e295311e2c85f67ce2bb4acddbc57c03"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0Njc0NDEw", "url": "https://github.com/splicemachine/spliceengine/pull/3558#pullrequestreview-414674410", "createdAt": "2020-05-19T17:35:17Z", "commit": {"oid": "f79ac4a3e295311e2c85f67ce2bb4acddbc57c03"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE0NzA5NzM5", "url": "https://github.com/splicemachine/spliceengine/pull/3558#pullrequestreview-414709739", "createdAt": "2020-05-19T18:21:23Z", "commit": {"oid": "f79ac4a3e295311e2c85f67ce2bb4acddbc57c03"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1345, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}