{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5MDQ4Mzcx", "number": 4372, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwODo1NDoyNFrOEyPhdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwODo1NjozOFrOEyPlPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxMTE4NTgyOnYy", "diffSide": "RIGHT", "path": "db-engine/src/main/java/com/splicemachine/db/impl/sql/compile/sqlgrammar.jj", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwODo1NDoyNFrOHoxSzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxMDo0NDowMFrOHo1oUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjUxMjcxNw==", "bodyText": "I think you can get rid of this, since <EXPORT> has two non-ambiguous branches:\n\n<EXPORT> <TO>: the new syntax.\n<EXPORT> methodCallParameterList which, by looking at methodCallParameterList boils down to: <EXPORT> <LEFT_PAREN> ....\n\nSo it is possible to restructure it a bit differently, e.g. something like:\n<EXPORT> handleExport\n...\nValueNode handleExport() throws StandardException:\n{}\n{\n  <TO> // new syntax\n  |\n  methodCallParameterList // old syntax.\n}\n\n(I think you're a fan of this syntax ;) )", "url": "https://github.com/splicemachine/spliceengine/pull/4372#discussion_r512512717", "createdAt": "2020-10-27T08:54:24Z", "author": {"login": "hatyo"}, "path": "db-engine/src/main/java/com/splicemachine/db/impl/sql/compile/sqlgrammar.jj", "diffHunk": "@@ -4194,10 +4200,61 @@ exportStatement() throws StandardException :\n {\n     StatementNode   statementNode;\n     Vector parameterList = new Vector();\n-}\n-{\n+    ValueNode exportPath;\n+    ValueNode compression = null;\n+    ValueNode replicationCount = null;\n+    ValueNode encoding = null;\n+    ValueNode fieldSeparator = null;\n+    ValueNode quoteCharacter = null;\n+    ValueNode quoteMode = null;\n+    ValueNode fileType = null;\n+}\n+{\n+    LOOKAHEAD ( {getToken(1).kind == EXPORT && getToken(2).kind == TO} )", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "38340e9da98b513fa53bb2e746358fb2f2190408"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjU4Mzc2MQ==", "bodyText": "done :)", "url": "https://github.com/splicemachine/spliceengine/pull/4372#discussion_r512583761", "createdAt": "2020-10-27T10:44:00Z", "author": {"login": "arnaud-splice"}, "path": "db-engine/src/main/java/com/splicemachine/db/impl/sql/compile/sqlgrammar.jj", "diffHunk": "@@ -4194,10 +4200,61 @@ exportStatement() throws StandardException :\n {\n     StatementNode   statementNode;\n     Vector parameterList = new Vector();\n-}\n-{\n+    ValueNode exportPath;\n+    ValueNode compression = null;\n+    ValueNode replicationCount = null;\n+    ValueNode encoding = null;\n+    ValueNode fieldSeparator = null;\n+    ValueNode quoteCharacter = null;\n+    ValueNode quoteMode = null;\n+    ValueNode fileType = null;\n+}\n+{\n+    LOOKAHEAD ( {getToken(1).kind == EXPORT && getToken(2).kind == TO} )", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjUxMjcxNw=="}, "originalCommit": {"oid": "38340e9da98b513fa53bb2e746358fb2f2190408"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxMTE5NTQ5OnYy", "diffSide": "RIGHT", "path": "db-tools-i18n/src/main/resources/com/splicemachine/db/loc/messages.xml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwODo1NjozOFrOHoxYjA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNTo0MTo0NVrOHpDBqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjUxNDE4OA==", "bodyText": "I wouldn't change white spaces if possible to keep Git history clean, maybe dedicate a JIRA for that effort instead.", "url": "https://github.com/splicemachine/spliceengine/pull/4372#discussion_r512514188", "createdAt": "2020-10-27T08:56:38Z", "author": {"login": "hatyo"}, "path": "db-tools-i18n/src/main/resources/com/splicemachine/db/loc/messages.xml", "diffHunk": "@@ -290,12 +290,12 @@ Guide.\n                 <text>A connection could not be established because the password has a length of zero or is larger than the maximum allowed by the network protocol.</text>\n             </msg>\n \n-\t\t\t<msg>\n+            <msg>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "38340e9da98b513fa53bb2e746358fb2f2190408"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjU4NTAxNg==", "bodyText": "fyi, you can filter whitespace changes when displaying git history.", "url": "https://github.com/splicemachine/spliceengine/pull/4372#discussion_r512585016", "createdAt": "2020-10-27T10:45:58Z", "author": {"login": "arnaud-splice"}, "path": "db-tools-i18n/src/main/resources/com/splicemachine/db/loc/messages.xml", "diffHunk": "@@ -290,12 +290,12 @@ Guide.\n                 <text>A connection could not be established because the password has a length of zero or is larger than the maximum allowed by the network protocol.</text>\n             </msg>\n \n-\t\t\t<msg>\n+            <msg>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjUxNDE4OA=="}, "originalCommit": {"oid": "38340e9da98b513fa53bb2e746358fb2f2190408"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjgwMzI0Mg==", "bodyText": "Sure, but I am not sure you can do that in git blame or git log for example.", "url": "https://github.com/splicemachine/spliceengine/pull/4372#discussion_r512803242", "createdAt": "2020-10-27T15:41:45Z", "author": {"login": "hatyo"}, "path": "db-tools-i18n/src/main/resources/com/splicemachine/db/loc/messages.xml", "diffHunk": "@@ -290,12 +290,12 @@ Guide.\n                 <text>A connection could not be established because the password has a length of zero or is larger than the maximum allowed by the network protocol.</text>\n             </msg>\n \n-\t\t\t<msg>\n+            <msg>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjUxNDE4OA=="}, "originalCommit": {"oid": "38340e9da98b513fa53bb2e746358fb2f2190408"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2834, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}