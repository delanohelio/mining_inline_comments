{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0NDg5MjU1", "number": 1993, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQwODozMjoxOVrOEAzcSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QwOTozMDoyN1rOECE04g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY5Mjc4MjgzOnYy", "diffSide": "RIGHT", "path": "tests/pom.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQwODozMjoxOVrOGcTsOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QwODo1NToxNFrOGeSdZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMzNTkzMA==", "bodyText": "IMHO we should also skip building the image if the MongoDB profile is disabled", "url": "https://github.com/eclipse/hono/pull/1993#discussion_r432335930", "createdAt": "2020-05-29T08:32:19Z", "author": {"login": "sophokles73"}, "path": "tests/pom.xml", "diffHunk": "@@ -223,6 +239,54 @@ Test cases are run against Docker images of Hono server + (Apache Qpid Dispatch\n               <autoCreateCustomNetworks>true</autoCreateCustomNetworks>\n               <startParallel>false</startParallel>\n               <images>\n+                <!-- ##### Mongo DB instance for the device registry ##### -->\n+                <image>\n+                  <name>${docker.image.org-name}/hono-mongodb-test</name>\n+                  <alias>mongo</alias>\n+                  <build>\n+                    <imagePullPolicy>IfNotPresent</imagePullPolicy>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "437e1324601cba4c043bb11044c6990c63fb5fd3"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQxMjkwMg==", "bodyText": "It makes sense and I have now skipped building the image if the MongoDB profile is disabled. Would you mind taking a look again?", "url": "https://github.com/eclipse/hono/pull/1993#discussion_r434412902", "createdAt": "2020-06-03T08:55:14Z", "author": {"login": "kaniyan"}, "path": "tests/pom.xml", "diffHunk": "@@ -223,6 +239,54 @@ Test cases are run against Docker images of Hono server + (Apache Qpid Dispatch\n               <autoCreateCustomNetworks>true</autoCreateCustomNetworks>\n               <startParallel>false</startParallel>\n               <images>\n+                <!-- ##### Mongo DB instance for the device registry ##### -->\n+                <image>\n+                  <name>${docker.image.org-name}/hono-mongodb-test</name>\n+                  <alias>mongo</alias>\n+                  <build>\n+                    <imagePullPolicy>IfNotPresent</imagePullPolicy>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjMzNTkzMA=="}, "originalCommit": {"oid": "437e1324601cba4c043bb11044c6990c63fb5fd3"}, "originalPosition": 39}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwNjExNjgyOnYy", "diffSide": "RIGHT", "path": "tests/pom.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QwOTozMDoyN1rOGeTxKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMDowMzowMVrOGeU9cg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQzNDM0NQ==", "bodyText": "please use ${log.color.hono-device-registry} instead", "url": "https://github.com/eclipse/hono/pull/1993#discussion_r434434345", "createdAt": "2020-06-03T09:30:27Z", "author": {"login": "sophokles73"}, "path": "tests/pom.xml", "diffHunk": "@@ -228,6 +244,55 @@ Test cases are run against Docker images of Hono server + (Apache Qpid Dispatch\n               <autoCreateCustomNetworks>true</autoCreateCustomNetworks>\n               <startParallel>false</startParallel>\n               <images>\n+                <!-- ##### Mongo DB instance for the device registry ##### -->\n+                <image>\n+                  <name>${docker.image.org-name}/hono-mongodb-test</name>\n+                  <alias>mongo</alias>\n+                  <build>\n+                    <skip>${hono.mongodb.disabled}</skip>\n+                    <imagePullPolicy>IfNotPresent</imagePullPolicy>\n+                    <from>${hono.mongodb.image.name}</from>\n+                    <assembly>\n+                      <mode>dir</mode>\n+                      <basedir>/</basedir>\n+                      <inline>\n+                        <id>config</id>\n+                          <fileSet>\n+                            <directory>${project.build.directory}/resources/mongodb/init_db</directory>\n+                            <outputDirectory>docker-entrypoint-initdb.d/</outputDirectory>\n+                            <includes>\n+                              <include>*</include>\n+                            </includes>\n+                          </fileSet>\n+                      </inline>\n+                    </assembly>\n+                  </build>\n+                  <run>\n+                    <skip>${hono.mongodb.disabled}</skip>\n+                    <ports>\n+                      <port>+mongodb.ip:mongodb.port:${hono.mongodb.port}</port>\n+                    </ports>\n+                    <portPropertyFile>${project.build.directory}/docker/mongodb.port.properties</portPropertyFile>\n+                    <env>\n+                      <MONGO_INITDB_DATABASE>${hono.mongodb.database.name}</MONGO_INITDB_DATABASE>\n+                    </env>\n+                    <network>\n+                      <mode>custom</mode>\n+                      <name>hono</name>\n+                      <alias>${hono.mongodb.host}</alias>\n+                    </network>\n+                    <memorySwap>314572800</memorySwap>\n+                    <memory>314572800</memory>\n+                    <log>\n+                      <prefix>MONGODB</prefix>\n+                      <color>green</color>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a7cb9f8ef8fa107dc1d574ae6bcd753158579462"}, "originalPosition": 75}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQ1Mzg3NA==", "bodyText": "I have updated it.", "url": "https://github.com/eclipse/hono/pull/1993#discussion_r434453874", "createdAt": "2020-06-03T10:03:01Z", "author": {"login": "kaniyan"}, "path": "tests/pom.xml", "diffHunk": "@@ -228,6 +244,55 @@ Test cases are run against Docker images of Hono server + (Apache Qpid Dispatch\n               <autoCreateCustomNetworks>true</autoCreateCustomNetworks>\n               <startParallel>false</startParallel>\n               <images>\n+                <!-- ##### Mongo DB instance for the device registry ##### -->\n+                <image>\n+                  <name>${docker.image.org-name}/hono-mongodb-test</name>\n+                  <alias>mongo</alias>\n+                  <build>\n+                    <skip>${hono.mongodb.disabled}</skip>\n+                    <imagePullPolicy>IfNotPresent</imagePullPolicy>\n+                    <from>${hono.mongodb.image.name}</from>\n+                    <assembly>\n+                      <mode>dir</mode>\n+                      <basedir>/</basedir>\n+                      <inline>\n+                        <id>config</id>\n+                          <fileSet>\n+                            <directory>${project.build.directory}/resources/mongodb/init_db</directory>\n+                            <outputDirectory>docker-entrypoint-initdb.d/</outputDirectory>\n+                            <includes>\n+                              <include>*</include>\n+                            </includes>\n+                          </fileSet>\n+                      </inline>\n+                    </assembly>\n+                  </build>\n+                  <run>\n+                    <skip>${hono.mongodb.disabled}</skip>\n+                    <ports>\n+                      <port>+mongodb.ip:mongodb.port:${hono.mongodb.port}</port>\n+                    </ports>\n+                    <portPropertyFile>${project.build.directory}/docker/mongodb.port.properties</portPropertyFile>\n+                    <env>\n+                      <MONGO_INITDB_DATABASE>${hono.mongodb.database.name}</MONGO_INITDB_DATABASE>\n+                    </env>\n+                    <network>\n+                      <mode>custom</mode>\n+                      <name>hono</name>\n+                      <alias>${hono.mongodb.host}</alias>\n+                    </network>\n+                    <memorySwap>314572800</memorySwap>\n+                    <memory>314572800</memory>\n+                    <log>\n+                      <prefix>MONGODB</prefix>\n+                      <color>green</color>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQzNDM0NQ=="}, "originalCommit": {"oid": "a7cb9f8ef8fa107dc1d574ae6bcd753158579462"}, "originalPosition": 75}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3135, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}