{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk0NjExNzQz", "number": 2222, "title": "[#2201] Add colon in device id pattern", "bodyText": "This fixes #2201.\nColon in device id should be supported for compatibility with Eclipse Ditto.\nAlso remove the tenant and device id patterns from the Device Registry Management API specification.\nAnd add missing release notes entries regarding the pattern properties for Hono 1.3 and 1.4.\nFMPOV, this fix should also be applied in the 1.3.x and 1.4.x branches, adding a release notes entry like this:\n* The default pattern for valid device identifiers used for the file based and the MongoDB based registry\n  implementations now also contains a colon for compatibility with Eclipse Ditto.", "createdAt": "2020-09-29T07:13:56Z", "url": "https://github.com/eclipse/hono/pull/2222", "merged": true, "mergeCommit": {"oid": "d2e194cdfdeb7a3da1627a4a7d8f161695a47f95"}, "closed": true, "closedAt": "2020-09-29T09:51:13Z", "author": {"login": "calohmn"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNjFHdgFqTQ5ODE2NDkzMw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdNkOMOAFqTQ5ODI0ODgxMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4MTY0OTMz", "url": "https://github.com/eclipse/hono/pull/2222#pullrequestreview-498164933", "createdAt": "2020-09-29T07:24:38Z", "commit": {"oid": "18aa453923ed00bb490144f0d9261bf8a5213135"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNzoyNDozOFrOHZeWtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQwNzoyOTozMFrOHZeh_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjQ3Mzc4MQ==", "bodyText": "can you also fix the name of the property to use instead ... and the one referred to by the HONO_REGISTRY_REST_TENANT_ID_PATTERN as well?", "url": "https://github.com/eclipse/hono/pull/2222#discussion_r496473781", "createdAt": "2020-09-29T07:24:38Z", "author": {"login": "sophokles73"}, "path": "site/documentation/content/admin-guide/file-based-device-registry-config.md", "diffHunk": "@@ -58,7 +58,7 @@ The following table provides an overview of the configuration variables and corr\n | `HONO_REGISTRY_HTTP_KEY_STORE_PATH`<br>`--hono.registry.http.keyStorePath` | no | - | The absolute path to the Java key store containing the private key and certificate that the server should use for authenticating to clients. Either this option or the `HONO_REGISTRY_HTTP_KEY_PATH` and `HONO_REGISTRY_HTTP_CERT_PATH` options need to be set in order to enable TLS secured connections with clients. The key store format can be either `JKS` or `PKCS12` indicated by a `.jks` or `.p12` file suffix respectively. |\n | `HONO_REGISTRY_HTTP_PORT`<br>`--hono.registry.http.port` | no | `8443` | The secure port that the server should listen on for HTTP requests.<br>See [Port Configuration]({{< relref \"#port-configuration\" >}}) below for details. |\n | `HONO_REGISTRY_REST_TENANT_ID_PATTERN`<br>`--hono.registry.rest.tenantIdPattern` | no | `^[a-zA-Z0-9-_\\.]+$` | The regular expression to use to validate tenant ID. Please refer to the [java pattern documentation](https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html).<br>**Deprecated** Use `HONO_REGISTRY_HTTP_TENANT_ID_REGEX` instead. |\n-| `HONO_REGISTRY_REST_DEVICE_ID_PATTERN`<br>`--hono.registry.rest.deviceIdPattern` | no | `^[a-zA-Z0-9-_\\.]+$` | The regular expression to use to validate device ID. Please refer to the [java pattern documentation](https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html).<br>**Deprecated** Use `HONO_REGISTRY_HTTP_DEVICE_ID_REGEX` instead. |\n+| `HONO_REGISTRY_REST_DEVICE_ID_PATTERN`<br>`--hono.registry.rest.deviceIdPattern` | no | `^[a-zA-Z0-9-_\\.:]+$` | The regular expression to use to validate device ID. Please refer to the [java pattern documentation](https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html).<br>**Deprecated** Use `HONO_REGISTRY_HTTP_DEVICE_ID_REGEX` instead. |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18aa453923ed00bb490144f0d9261bf8a5213135"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjQ3NjY2OQ==", "bodyText": "is this supposed to be documenting the status quo of the 1.3.0 release only? My understanding is that you want to remove these restrictions again in 1.5.0, 1.4.1 and 1.3.1. I guess we then should also add a corresponding entry to the API Changes section for the upcoming 1.5.0, right?", "url": "https://github.com/eclipse/hono/pull/2222#discussion_r496476669", "createdAt": "2020-09-29T07:29:30Z", "author": {"login": "sophokles73"}, "path": "site/homepage/content/release-notes.md", "diffHunk": "@@ -148,6 +150,14 @@ title = \"Release Notes\"\n   properties instead of working on given ones. The new method name now more accurately conveys\n   what the method is used for. The same change has been applied to the other `customize[*]Config`\n   methods in the `AbstractAdapterConfig` class.\n+* The file based as well as the MongoDB based device registry implementations now disallow certain\n+  special characters in device and tenant identifiers. The configuration properties\n+  `HONO_REGISTRY_HTTP_TENANT_ID_PATTERN` and `HONO_REGISTRY_HTTP_DEVICE_ID_PATTERN` (and corresponding ones with\n+  prefix `HONO_REGISTRY_REST` for the file based registry) can be used to override the patterns for matching\n+  valid identifiers. Please refer to the \n+  [file based registry]({{% doclink \"/admin-guide/file-based-device-registry-config/#service-configuration\" %}}) or\n+  [MongoDB based registry]({{% doclink \"/admin-guide/mongodb-device-registry-config/#service-configuration\" %}})\n+  configuration guide for details.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "18aa453923ed00bb490144f0d9261bf8a5213135"}, "originalPosition": 26}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5d7df44e04b3b21ef528be807f996c07e8e1dc2", "author": {"user": {"login": "calohmn", "name": "Carsten Lohmann"}}, "url": "https://github.com/eclipse/hono/commit/d5d7df44e04b3b21ef528be807f996c07e8e1dc2", "committedDate": "2020-09-29T08:03:00Z", "message": "[#2201] Add colon in device id pattern.\n\nColon in device id should be supported for compatibility\nwith Eclipse Ditto.\nAlso remove the tenant and device id patterns from the\nDevice Registry Management API specification.\nAnd add missing release notes entries regarding the\npattern properties for Hono 1.3 and 1.4.\n\nSigned-off-by: Carsten Lohmann <carsten.lohmann@bosch.io>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "18aa453923ed00bb490144f0d9261bf8a5213135", "author": {"user": {"login": "calohmn", "name": "Carsten Lohmann"}}, "url": "https://github.com/eclipse/hono/commit/18aa453923ed00bb490144f0d9261bf8a5213135", "committedDate": "2020-09-29T07:10:53Z", "message": "[#2201] Add colon in device id pattern.\n\nColon in device id should be supported for compatibility\nwith Eclipse Ditto.\nAlso remove the tenant and device id patterns from the\nDevice Registry Management API specification.\nAnd add missing release notes entries regarding the\npattern properties for Hono 1.3 and 1.4.\n\nSigned-off-by: Carsten Lohmann <carsten.lohmann@bosch.io>"}, "afterCommit": {"oid": "d5d7df44e04b3b21ef528be807f996c07e8e1dc2", "author": {"user": {"login": "calohmn", "name": "Carsten Lohmann"}}, "url": "https://github.com/eclipse/hono/commit/d5d7df44e04b3b21ef528be807f996c07e8e1dc2", "committedDate": "2020-09-29T08:03:00Z", "message": "[#2201] Add colon in device id pattern.\n\nColon in device id should be supported for compatibility\nwith Eclipse Ditto.\nAlso remove the tenant and device id patterns from the\nDevice Registry Management API specification.\nAnd add missing release notes entries regarding the\npattern properties for Hono 1.3 and 1.4.\n\nSigned-off-by: Carsten Lohmann <carsten.lohmann@bosch.io>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4MjQ4ODEy", "url": "https://github.com/eclipse/hono/pull/2222#pullrequestreview-498248812", "createdAt": "2020-09-29T08:50:20Z", "commit": {"oid": "d5d7df44e04b3b21ef528be807f996c07e8e1dc2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 597, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}