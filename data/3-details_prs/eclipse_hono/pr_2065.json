{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ0MDIwMDcz", "number": 2065, "title": "Fix content type of the LoRaWAN adapter", "bodyText": "This changes the content type of the telemetry messages sent by the LoRaWAN adapter to drop the +json suffix.\nThe payload wasn't JSON before the refactoring, but also currently it is not JSON. So that is a bug IMHO. And it causes problems with JMS clients.\nIn the past this wasn't a big deal, because the payload contained an actual string (base 64 encoded payload). So the message could be decoded as a JMS text message.\nNow the payload is a BLOB/byte array and decoding as a String will not always work. If the decoding as a string doesn't work, JMS libraries fail to decode the message into a JMS text message, and you cannot process them.\nDropping the +json suffix seems to be the right cause of action IMHO, as the payload never did contain a JSON structure.", "createdAt": "2020-07-03T11:56:57Z", "url": "https://github.com/eclipse/hono/pull/2065", "merged": true, "mergeCommit": {"oid": "a5df1fdb152aaa7f946a9f0bc4b0cdd79b1dd16c"}, "closed": true, "closedAt": "2020-07-03T12:43:21Z", "author": {"login": "ctron"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcxSGVhgH2gAyNDQ0MDIwMDczOjQ1OWYxYzFiMjhhMzE3OGI2ODIyM2YyMWZhZjVlYzc3NzE5YzY0YjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcxSse7gFqTQ0MjM4MzEwMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "459f1c1b28a3178b68223f21faf5ec77719c64b0", "author": {"user": {"login": "ctron", "name": "Jens Reimann"}}, "url": "https://github.com/eclipse/hono/commit/459f1c1b28a3178b68223f21faf5ec77719c64b0", "committedDate": "2020-07-03T11:53:35Z", "message": "Fix content type of the LoRaWAN adapter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyMzc2OTAx", "url": "https://github.com/eclipse/hono/pull/2065#pullrequestreview-442376901", "createdAt": "2020-07-03T12:23:46Z", "commit": {"oid": "459f1c1b28a3178b68223f21faf5ec77719c64b0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxMjoyMzo0NlrOGsutjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxMjoyMzo0NlrOGsutjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU1NTg1Mw==", "bodyText": "does this content-type make a JMS client to interpret the message as a ByteMessage?", "url": "https://github.com/eclipse/hono/pull/2065#discussion_r449555853", "createdAt": "2020-07-03T12:23:46Z", "author": {"login": "sophokles73"}, "path": "adapters/lora-vertx/src/main/java/org/eclipse/hono/adapter/lora/impl/LoraProtocolAdapter.java", "diffHunk": "@@ -213,10 +213,9 @@ void handleProviderRoute(final RoutingContext ctx, final LoraProvider provider)\n                     final String contentType;\n                     if (payload.length() > 0) {\n                         contentType = String.format(\n-                                \"%s%s%s\",\n+                                \"%s%s\",\n                                 LoraConstants.CONTENT_TYPE_LORA_BASE,\n-                                provider.getProviderName(),\n-                                LoraConstants.CONTENT_TYPE_LORA_POST_FIX);\n+                                provider.getProviderName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "459f1c1b28a3178b68223f21faf5ec77719c64b0"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyMzgzMTAy", "url": "https://github.com/eclipse/hono/pull/2065#pullrequestreview-442383102", "createdAt": "2020-07-03T12:35:15Z", "commit": {"oid": "459f1c1b28a3178b68223f21faf5ec77719c64b0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 696, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}