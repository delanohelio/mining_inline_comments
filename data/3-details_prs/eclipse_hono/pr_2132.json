{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczODE2NzYz", "number": 2132, "title": "Update spec. Add missing information.", "bodyText": "This corrects a note, making it more explicit that a tenant must exist\nwhen creating a device. It also lists the error code to report in such\ncases.", "createdAt": "2020-08-26T10:40:02Z", "url": "https://github.com/eclipse/hono/pull/2132", "merged": true, "mergeCommit": {"oid": "9db7bcafb1ac980e857f7a4cc11ae9d93e86ab4c"}, "closed": true, "closedAt": "2020-09-01T08:05:01Z", "author": {"login": "ctron"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCpY3UgH2gAyNDczODE2NzYzOjc4NGRhNzZmMTQ5NTA3MGY1NzAxOWJiNmFkMDBhZTkxZTA2NWRmZGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdEiwAAAFqTQ3OTQ5Mjk1OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "784da76f1495070f57019bb6ad00ae91e065dfdd", "author": {"user": {"login": "ctron", "name": "Jens Reimann"}}, "url": "https://github.com/eclipse/hono/commit/784da76f1495070f57019bb6ad00ae91e065dfdd", "committedDate": "2020-08-26T10:38:21Z", "message": "Update spec. Add missing information.\n\nThis corrects a note, making it more explicit that a tenant must exist\nwhen creating a device. It also lists the error code to report in such\ncases."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4NjU2NzQ3", "url": "https://github.com/eclipse/hono/pull/2132#pullrequestreview-478656747", "createdAt": "2020-08-31T14:18:07Z", "commit": {"oid": "5824dfba412e9b579905eb080347d39a2f93186f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc4Njg1MDA2", "url": "https://github.com/eclipse/hono/pull/2132#pullrequestreview-478685006", "createdAt": "2020-08-31T14:51:48Z", "commit": {"oid": "5824dfba412e9b579905eb080347d39a2f93186f"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxNDo1MTo0OFrOHJ8FjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxNToxOToxMVrOHJ9JuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE4MzY5Mw==", "bodyText": "AFIK it is:  must no longer  or must not any longer?\nhttps://dictionary.cambridge.org/grammar/british-grammar/no-longer-not-any-longer", "url": "https://github.com/eclipse/hono/pull/2132#discussion_r480183693", "createdAt": "2020-08-31T14:51:48Z", "author": {"login": "kaniyan"}, "path": "site/documentation/content/api/management/device-registry-v1.yaml", "diffHunk": "@@ -270,8 +270,9 @@ paths:\n          summary: Delete tenant\n          description: |\n             Clients use this operation to remove an existing tenant from the registry.\n-            Registry implementations may optionally perform a *cascading* delete of all\n-            the tenant's devices and credentials as well.\n+\n+            When the operation succeeds, the data owned by this tenant (including devices and their\n+            credentials) must not longer be accessible. These entities should be reported as *not found*.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5824dfba412e9b579905eb080347d39a2f93186f"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDE4Mzc2Nw==", "bodyText": "AFIK it is:  must no longer  or must not any longer?", "url": "https://github.com/eclipse/hono/pull/2132#discussion_r480183767", "createdAt": "2020-08-31T14:51:53Z", "author": {"login": "kaniyan"}, "path": "site/documentation/content/api/management/device-registry-v1.yaml", "diffHunk": "@@ -494,8 +495,9 @@ paths:\n          summary: Delete an existing device registration\n          description: |\n             Clients use this operation to remove an existing device from the registry.\n-            Registry implementations may optionally perform a *cascading* delete of all\n-            the device's credentials as well.\n+\n+            When the operation succeeds, the data owned by this device (including its credentials)\n+            must not longer be accessible. These entities should be reported as *not found*.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5824dfba412e9b579905eb080347d39a2f93186f"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDIwMTE0NQ==", "bodyText": "When the operation succeeds, the data owned by this tenant (including devices and their\ncredentials) must not longer be accessible. These entities should be reported as not found.\n\nWith the above comment, I understood that the tenant existence must be checked not only during create device operation but for all device/credentials management (HTTP) operations and device/credentials services (AMQP). Shouldn't we specify the outcome with the corresponding response code (404) under all those operations in the spec?\nIf we are checking for tenant existence even during delete device operation, then it is no more possible to delete the devices of a tenant that has been already deleted. Does it mean, in order to clean up the devices, the tenant need to be registered again? May be we should allow deleting devices even though the tenant doesn't exist. WDYT?", "url": "https://github.com/eclipse/hono/pull/2132#discussion_r480201145", "createdAt": "2020-08-31T15:19:11Z", "author": {"login": "kaniyan"}, "path": "site/documentation/content/api/management/device-registry-v1.yaml", "diffHunk": "@@ -270,8 +270,9 @@ paths:\n          summary: Delete tenant\n          description: |\n             Clients use this operation to remove an existing tenant from the registry.\n-            Registry implementations may optionally perform a *cascading* delete of all\n-            the tenant's devices and credentials as well.\n+\n+            When the operation succeeds, the data owned by this tenant (including devices and their\n+            credentials) must not longer be accessible. These entities should be reported as *not found*.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5824dfba412e9b579905eb080347d39a2f93186f"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "99fe1c75049c5342f6d4885c2487837e091c830e", "author": {"user": {"login": "ctron", "name": "Jens Reimann"}}, "url": "https://github.com/eclipse/hono/commit/99fe1c75049c5342f6d4885c2487837e091c830e", "committedDate": "2020-09-01T07:31:45Z", "message": "Add a note on what happens to data when it gets deleted."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5824dfba412e9b579905eb080347d39a2f93186f", "author": {"user": {"login": "ctron", "name": "Jens Reimann"}}, "url": "https://github.com/eclipse/hono/commit/5824dfba412e9b579905eb080347d39a2f93186f", "committedDate": "2020-08-27T14:41:09Z", "message": "Add a note on what happens to data when it gets deleted."}, "afterCommit": {"oid": "99fe1c75049c5342f6d4885c2487837e091c830e", "author": {"user": {"login": "ctron", "name": "Jens Reimann"}}, "url": "https://github.com/eclipse/hono/commit/99fe1c75049c5342f6d4885c2487837e091c830e", "committedDate": "2020-09-01T07:31:45Z", "message": "Add a note on what happens to data when it gets deleted."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc5NDkyOTU5", "url": "https://github.com/eclipse/hono/pull/2132#pullrequestreview-479492959", "createdAt": "2020-09-01T08:02:08Z", "commit": {"oid": "99fe1c75049c5342f6d4885c2487837e091c830e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 529, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}