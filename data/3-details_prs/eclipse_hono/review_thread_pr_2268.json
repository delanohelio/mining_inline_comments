{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEwNjU5MTc1", "number": 2268, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxMjo1NzozNVrOEyVqlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxMzowOTo0NlrOEyV97g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxMjE5MjIyOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/eclipse/hono/util/MessageHelper.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxMjo1NzozNVrOHo61VA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxMjo1NzozNVrOHo61VA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjY2OTAxMg==", "bodyText": "The forRemoval param is Java 1.9 API, however the hono-core pom defines Java 1.8 to be used, so this gets marked as an error here. (Also in two more places in this class.)", "url": "https://github.com/eclipse/hono/pull/2268#discussion_r512669012", "createdAt": "2020-10-27T12:57:35Z", "author": {"login": "calohmn"}, "path": "core/src/main/java/org/eclipse/hono/util/MessageHelper.java", "diffHunk": "@@ -1093,7 +1181,9 @@ public static Message newMessage(\n      * @return The message with its properties set.\n      * @throws NullPointerException if message or adapterTypeName are {@code null}.\n      * @throws IllegalArgumentException if target is {@code null} and the message does not have an address set.\n+     * @deprecated Use {@link #addProperties(Message, ResourceIdentifier, TenantObject, Map, Map, boolean, boolean)} instead.\n      */\n+    @Deprecated(forRemoval = true)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67b235e343a0be46558a1d943e88ce087a2727a2"}, "originalPosition": 173}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxMjE5NzYwOnYy", "diffSide": "RIGHT", "path": "core/src/test/java/org/eclipse/hono/util/MessageHelperTest.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxMjo1ODo1NVrOHo64tw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxNDowOTo0OVrOHo-Lbw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjY2OTg3OQ==", "bodyText": "Map.of and timeToLive.toSeconds() are Java 1.9 API (see above).", "url": "https://github.com/eclipse/hono/pull/2268#discussion_r512669879", "createdAt": "2020-10-27T12:58:55Z", "author": {"login": "calohmn"}, "path": "core/src/test/java/org/eclipse/hono/util/MessageHelperTest.java", "diffHunk": "@@ -315,24 +333,21 @@ public void testNewMessageUsesGivenTtlValue() {\n     public void testNewMessageLimitsTtlToMaxValue() {\n \n         final Duration timeToLive = Duration.ofSeconds(50);\n+        final Map<String, Object> props = Map.of(MessageHelper.SYS_HEADER_PROPERTY_TTL, timeToLive.toSeconds());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67b235e343a0be46558a1d943e88ce087a2727a2"}, "originalPosition": 169}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjcwODM5Mw==", "bodyText": "That is true. I wonder why the animal sniffer plugin doesn't detect this during the build ...", "url": "https://github.com/eclipse/hono/pull/2268#discussion_r512708393", "createdAt": "2020-10-27T13:51:12Z", "author": {"login": "sophokles73"}, "path": "core/src/test/java/org/eclipse/hono/util/MessageHelperTest.java", "diffHunk": "@@ -315,24 +333,21 @@ public void testNewMessageUsesGivenTtlValue() {\n     public void testNewMessageLimitsTtlToMaxValue() {\n \n         final Duration timeToLive = Duration.ofSeconds(50);\n+        final Map<String, Object> props = Map.of(MessageHelper.SYS_HEADER_PROPERTY_TTL, timeToLive.toSeconds());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjY2OTg3OQ=="}, "originalCommit": {"oid": "67b235e343a0be46558a1d943e88ce087a2727a2"}, "originalPosition": 169}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjcyMzgyMw==", "bodyText": "Looks like version 1.18 of the sniffer plugin does not work, after upgrading to 1.19 the problems are detected by the build ...", "url": "https://github.com/eclipse/hono/pull/2268#discussion_r512723823", "createdAt": "2020-10-27T14:09:49Z", "author": {"login": "sophokles73"}, "path": "core/src/test/java/org/eclipse/hono/util/MessageHelperTest.java", "diffHunk": "@@ -315,24 +333,21 @@ public void testNewMessageUsesGivenTtlValue() {\n     public void testNewMessageLimitsTtlToMaxValue() {\n \n         final Duration timeToLive = Duration.ofSeconds(50);\n+        final Map<String, Object> props = Map.of(MessageHelper.SYS_HEADER_PROPERTY_TTL, timeToLive.toSeconds());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjY2OTg3OQ=="}, "originalCommit": {"oid": "67b235e343a0be46558a1d943e88ce087a2727a2"}, "originalPosition": 169}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxMjIwMTQ2OnYy", "diffSide": "RIGHT", "path": "core/src/test/java/org/eclipse/hono/util/MessageHelperTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxMjo1OTo0OFrOHo67CQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxMjo1OTo0OFrOHo67CQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjY3MDQ3Mw==", "bodyText": "Map.of and timeToLive.toSeconds() are Java 1.9 API (see above).", "url": "https://github.com/eclipse/hono/pull/2268#discussion_r512670473", "createdAt": "2020-10-27T12:59:48Z", "author": {"login": "calohmn"}, "path": "core/src/test/java/org/eclipse/hono/util/MessageHelperTest.java", "diffHunk": "@@ -283,25 +304,22 @@ public void testAddPropertiesLimitsTtlToMaxValue() {\n     public void testNewMessageUsesGivenTtlValue() {\n \n         final Duration timeToLive = Duration.ofSeconds(10);\n+        final Map<String, Object> props = Map.of(MessageHelper.SYS_HEADER_PROPERTY_TTL, timeToLive.toSeconds());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67b235e343a0be46558a1d943e88ce087a2727a2"}, "originalPosition": 139}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxMjI0MTc0OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/eclipse/hono/util/MessageHelper.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxMzowOTo0NlrOHo7ULw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QxMzowOTo0NlrOHo7ULw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjY3NjkxMQ==", "bodyText": "The timeToLive parameter isn't used anymore.", "url": "https://github.com/eclipse/hono/pull/2268#discussion_r512676911", "createdAt": "2020-10-27T13:09:46Z", "author": {"login": "calohmn"}, "path": "core/src/main/java/org/eclipse/hono/util/MessageHelper.java", "diffHunk": "@@ -953,9 +956,26 @@ public static Message newMessage(\n             final Duration timeToLive,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67b235e343a0be46558a1d943e88ce087a2727a2"}, "originalPosition": 37}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2836, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}