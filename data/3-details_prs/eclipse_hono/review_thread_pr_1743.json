{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcwODMzMzc2", "number": 1743, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxNDoxMTozN1rODc_ZCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNVQxMjo1NzowMlrODdUlOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNzI1MzIyOnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/eclipse/hono/config/ServiceConfigProperties.java", "isResolved": false, "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxNDoxMTozN1rOFlVX9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQxNjozMDoyN1rOFlaz1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY5MTgyOQ==", "bodyText": "does it make sense to set this to 0?", "url": "https://github.com/eclipse/hono/pull/1743#discussion_r374691829", "createdAt": "2020-02-04T14:11:37Z", "author": {"login": "sophokles73"}, "path": "core/src/main/java/org/eclipse/hono/config/ServiceConfigProperties.java", "diffHunk": "@@ -205,4 +212,32 @@ public final String getCorsAllowedOrigin() {\n     public final void setCorsAllowedOrigin(final String corsAllowedOrigin) {\n         this.corsAllowedOrigin = Objects.requireNonNull(corsAllowedOrigin);\n     }\n+\n+    /**\n+     * Gets the send timeout value in milliseconds, which is to be used when sending a \n+     * message on the vert.x event bus.\n+     * <p>\n+     * The default value of this property is {@link #DEFAULT_SEND_TIMEOUT_IN_MS}.\n+     * \n+     * @return The send timeout value in milliseconds.\n+     */\n+    public final long getSendTimeOut() {\n+        return sendTimeOutInMs;\n+    }\n+\n+    /**\n+     * Sets the send timeout value in milliseconds, which is to be used when sending a \n+     * message on the vert.x event bus.\n+     * <p>\n+     * The default value of this property is {@link #DEFAULT_SEND_TIMEOUT_IN_MS}.\n+     * \n+     * @param sendTimeOutInMs The send timeout value in milliseconds.\n+     * @throws IllegalArgumentException if the timeout is negative.\n+     */\n+    public final void setSendTimeOut(final long sendTimeOutInMs) {\n+        if (sendTimeOutInMs < 0) {\n+            throw new IllegalArgumentException(\"send time out value must not be negative\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42d359f706cbc3e08a13b6e034fe0cd57c4f2a36"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDczODAwOQ==", "bodyText": "Just I checked the implementation of DeliveryOptions.setSendTimeout(long timeout). They throw IllegalArgumentException, if the value is < 1 but its not documented in that method's javadoc. Anyway it cannot be set to 0. I will update it.", "url": "https://github.com/eclipse/hono/pull/1743#discussion_r374738009", "createdAt": "2020-02-04T15:24:24Z", "author": {"login": "kaniyan"}, "path": "core/src/main/java/org/eclipse/hono/config/ServiceConfigProperties.java", "diffHunk": "@@ -205,4 +212,32 @@ public final String getCorsAllowedOrigin() {\n     public final void setCorsAllowedOrigin(final String corsAllowedOrigin) {\n         this.corsAllowedOrigin = Objects.requireNonNull(corsAllowedOrigin);\n     }\n+\n+    /**\n+     * Gets the send timeout value in milliseconds, which is to be used when sending a \n+     * message on the vert.x event bus.\n+     * <p>\n+     * The default value of this property is {@link #DEFAULT_SEND_TIMEOUT_IN_MS}.\n+     * \n+     * @return The send timeout value in milliseconds.\n+     */\n+    public final long getSendTimeOut() {\n+        return sendTimeOutInMs;\n+    }\n+\n+    /**\n+     * Sets the send timeout value in milliseconds, which is to be used when sending a \n+     * message on the vert.x event bus.\n+     * <p>\n+     * The default value of this property is {@link #DEFAULT_SEND_TIMEOUT_IN_MS}.\n+     * \n+     * @param sendTimeOutInMs The send timeout value in milliseconds.\n+     * @throws IllegalArgumentException if the timeout is negative.\n+     */\n+    public final void setSendTimeOut(final long sendTimeOutInMs) {\n+        if (sendTimeOutInMs < 0) {\n+            throw new IllegalArgumentException(\"send time out value must not be negative\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY5MTgyOQ=="}, "originalCommit": {"oid": "42d359f706cbc3e08a13b6e034fe0cd57c4f2a36"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDc0MjE0OA==", "bodyText": "My point is actually that IMHO it doesn't make sense to accept a very small value here, i.e. we should enforce a minimum value that makes some sense, e.g. 500ms?", "url": "https://github.com/eclipse/hono/pull/1743#discussion_r374742148", "createdAt": "2020-02-04T15:30:28Z", "author": {"login": "sophokles73"}, "path": "core/src/main/java/org/eclipse/hono/config/ServiceConfigProperties.java", "diffHunk": "@@ -205,4 +212,32 @@ public final String getCorsAllowedOrigin() {\n     public final void setCorsAllowedOrigin(final String corsAllowedOrigin) {\n         this.corsAllowedOrigin = Objects.requireNonNull(corsAllowedOrigin);\n     }\n+\n+    /**\n+     * Gets the send timeout value in milliseconds, which is to be used when sending a \n+     * message on the vert.x event bus.\n+     * <p>\n+     * The default value of this property is {@link #DEFAULT_SEND_TIMEOUT_IN_MS}.\n+     * \n+     * @return The send timeout value in milliseconds.\n+     */\n+    public final long getSendTimeOut() {\n+        return sendTimeOutInMs;\n+    }\n+\n+    /**\n+     * Sets the send timeout value in milliseconds, which is to be used when sending a \n+     * message on the vert.x event bus.\n+     * <p>\n+     * The default value of this property is {@link #DEFAULT_SEND_TIMEOUT_IN_MS}.\n+     * \n+     * @param sendTimeOutInMs The send timeout value in milliseconds.\n+     * @throws IllegalArgumentException if the timeout is negative.\n+     */\n+    public final void setSendTimeOut(final long sendTimeOutInMs) {\n+        if (sendTimeOutInMs < 0) {\n+            throw new IllegalArgumentException(\"send time out value must not be negative\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY5MTgyOQ=="}, "originalCommit": {"oid": "42d359f706cbc3e08a13b6e034fe0cd57c4f2a36"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDc0OTI3OQ==", "bodyText": "I see now what do you mean. But how do we conclude for such a minimum value?  Anyway we set a default value of 3000ms. DeliveryOptions.setSendTimeout(...) allows to set any timeout value greater than 0ms. IMHO why should we forbid this flexibility by setting a minimum value?", "url": "https://github.com/eclipse/hono/pull/1743#discussion_r374749279", "createdAt": "2020-02-04T15:41:45Z", "author": {"login": "kaniyan"}, "path": "core/src/main/java/org/eclipse/hono/config/ServiceConfigProperties.java", "diffHunk": "@@ -205,4 +212,32 @@ public final String getCorsAllowedOrigin() {\n     public final void setCorsAllowedOrigin(final String corsAllowedOrigin) {\n         this.corsAllowedOrigin = Objects.requireNonNull(corsAllowedOrigin);\n     }\n+\n+    /**\n+     * Gets the send timeout value in milliseconds, which is to be used when sending a \n+     * message on the vert.x event bus.\n+     * <p>\n+     * The default value of this property is {@link #DEFAULT_SEND_TIMEOUT_IN_MS}.\n+     * \n+     * @return The send timeout value in milliseconds.\n+     */\n+    public final long getSendTimeOut() {\n+        return sendTimeOutInMs;\n+    }\n+\n+    /**\n+     * Sets the send timeout value in milliseconds, which is to be used when sending a \n+     * message on the vert.x event bus.\n+     * <p>\n+     * The default value of this property is {@link #DEFAULT_SEND_TIMEOUT_IN_MS}.\n+     * \n+     * @param sendTimeOutInMs The send timeout value in milliseconds.\n+     * @throws IllegalArgumentException if the timeout is negative.\n+     */\n+    public final void setSendTimeOut(final long sendTimeOutInMs) {\n+        if (sendTimeOutInMs < 0) {\n+            throw new IllegalArgumentException(\"send time out value must not be negative\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY5MTgyOQ=="}, "originalCommit": {"oid": "42d359f706cbc3e08a13b6e034fe0cd57c4f2a36"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDc1Mzk1MA==", "bodyText": "Well, as I pointed out: because the system will not work if you set it to 1ms, will it?", "url": "https://github.com/eclipse/hono/pull/1743#discussion_r374753950", "createdAt": "2020-02-04T15:48:58Z", "author": {"login": "sophokles73"}, "path": "core/src/main/java/org/eclipse/hono/config/ServiceConfigProperties.java", "diffHunk": "@@ -205,4 +212,32 @@ public final String getCorsAllowedOrigin() {\n     public final void setCorsAllowedOrigin(final String corsAllowedOrigin) {\n         this.corsAllowedOrigin = Objects.requireNonNull(corsAllowedOrigin);\n     }\n+\n+    /**\n+     * Gets the send timeout value in milliseconds, which is to be used when sending a \n+     * message on the vert.x event bus.\n+     * <p>\n+     * The default value of this property is {@link #DEFAULT_SEND_TIMEOUT_IN_MS}.\n+     * \n+     * @return The send timeout value in milliseconds.\n+     */\n+    public final long getSendTimeOut() {\n+        return sendTimeOutInMs;\n+    }\n+\n+    /**\n+     * Sets the send timeout value in milliseconds, which is to be used when sending a \n+     * message on the vert.x event bus.\n+     * <p>\n+     * The default value of this property is {@link #DEFAULT_SEND_TIMEOUT_IN_MS}.\n+     * \n+     * @param sendTimeOutInMs The send timeout value in milliseconds.\n+     * @throws IllegalArgumentException if the timeout is negative.\n+     */\n+    public final void setSendTimeOut(final long sendTimeOutInMs) {\n+        if (sendTimeOutInMs < 0) {\n+            throw new IllegalArgumentException(\"send time out value must not be negative\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY5MTgyOQ=="}, "originalCommit": {"oid": "42d359f706cbc3e08a13b6e034fe0cd57c4f2a36"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDc2MDk2MA==", "bodyText": "Well, as I pointed out: because the system will not work if you set it to 1ms, will it?\n\nOk I see the point. The systems commonly we use are not yet so fast enough to set the value to 1 ms ;-). I will update it to a minimum value of 500ms.", "url": "https://github.com/eclipse/hono/pull/1743#discussion_r374760960", "createdAt": "2020-02-04T15:59:19Z", "author": {"login": "kaniyan"}, "path": "core/src/main/java/org/eclipse/hono/config/ServiceConfigProperties.java", "diffHunk": "@@ -205,4 +212,32 @@ public final String getCorsAllowedOrigin() {\n     public final void setCorsAllowedOrigin(final String corsAllowedOrigin) {\n         this.corsAllowedOrigin = Objects.requireNonNull(corsAllowedOrigin);\n     }\n+\n+    /**\n+     * Gets the send timeout value in milliseconds, which is to be used when sending a \n+     * message on the vert.x event bus.\n+     * <p>\n+     * The default value of this property is {@link #DEFAULT_SEND_TIMEOUT_IN_MS}.\n+     * \n+     * @return The send timeout value in milliseconds.\n+     */\n+    public final long getSendTimeOut() {\n+        return sendTimeOutInMs;\n+    }\n+\n+    /**\n+     * Sets the send timeout value in milliseconds, which is to be used when sending a \n+     * message on the vert.x event bus.\n+     * <p>\n+     * The default value of this property is {@link #DEFAULT_SEND_TIMEOUT_IN_MS}.\n+     * \n+     * @param sendTimeOutInMs The send timeout value in milliseconds.\n+     * @throws IllegalArgumentException if the timeout is negative.\n+     */\n+    public final void setSendTimeOut(final long sendTimeOutInMs) {\n+        if (sendTimeOutInMs < 0) {\n+            throw new IllegalArgumentException(\"send time out value must not be negative\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY5MTgyOQ=="}, "originalCommit": {"oid": "42d359f706cbc3e08a13b6e034fe0cd57c4f2a36"}, "originalPosition": 56}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDc4MDg4NA==", "bodyText": "I have updated it with a minimum value of 500ms and pushed the changes. Would you mind taking a look?", "url": "https://github.com/eclipse/hono/pull/1743#discussion_r374780884", "createdAt": "2020-02-04T16:30:27Z", "author": {"login": "kaniyan"}, "path": "core/src/main/java/org/eclipse/hono/config/ServiceConfigProperties.java", "diffHunk": "@@ -205,4 +212,32 @@ public final String getCorsAllowedOrigin() {\n     public final void setCorsAllowedOrigin(final String corsAllowedOrigin) {\n         this.corsAllowedOrigin = Objects.requireNonNull(corsAllowedOrigin);\n     }\n+\n+    /**\n+     * Gets the send timeout value in milliseconds, which is to be used when sending a \n+     * message on the vert.x event bus.\n+     * <p>\n+     * The default value of this property is {@link #DEFAULT_SEND_TIMEOUT_IN_MS}.\n+     * \n+     * @return The send timeout value in milliseconds.\n+     */\n+    public final long getSendTimeOut() {\n+        return sendTimeOutInMs;\n+    }\n+\n+    /**\n+     * Sets the send timeout value in milliseconds, which is to be used when sending a \n+     * message on the vert.x event bus.\n+     * <p>\n+     * The default value of this property is {@link #DEFAULT_SEND_TIMEOUT_IN_MS}.\n+     * \n+     * @param sendTimeOutInMs The send timeout value in milliseconds.\n+     * @throws IllegalArgumentException if the timeout is negative.\n+     */\n+    public final void setSendTimeOut(final long sendTimeOutInMs) {\n+        if (sendTimeOutInMs < 0) {\n+            throw new IllegalArgumentException(\"send time out value must not be negative\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDY5MTgyOQ=="}, "originalCommit": {"oid": "42d359f706cbc3e08a13b6e034fe0cd57c4f2a36"}, "originalPosition": 56}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMyMDcyNTA3OnYy", "diffSide": "RIGHT", "path": "service-base/src/main/java/org/eclipse/hono/service/AbstractEndpoint.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNVQxMjo1NzowMlrOFl2xJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNVQxNDowNzoyM1rOFl47NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTIzODk1MQ==", "bodyText": "no need to deprecate this anymore, since it is private API now ...", "url": "https://github.com/eclipse/hono/pull/1743#discussion_r375238951", "createdAt": "2020-02-05T12:57:02Z", "author": {"login": "sophokles73"}, "path": "service-base/src/main/java/org/eclipse/hono/service/AbstractEndpoint.java", "diffHunk": "@@ -171,10 +172,23 @@ public void registerReadinessChecks(final HealthCheckHandler handler) {\n      *  \n      * @param spanContext The {@code SpanContext} (may be {@code null}).\n      * @return The {@code DeliveryOptions}.\n+     * @deprecated Use {@link #createEventBusMessageDeliveryOptions(long, SpanContext)} instead.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b994f72923a9d22eaac9a117891b235dcc019fec"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTI3NDI5Mg==", "bodyText": "ok, I will remove it.", "url": "https://github.com/eclipse/hono/pull/1743#discussion_r375274292", "createdAt": "2020-02-05T14:07:23Z", "author": {"login": "kaniyan"}, "path": "service-base/src/main/java/org/eclipse/hono/service/AbstractEndpoint.java", "diffHunk": "@@ -171,10 +172,23 @@ public void registerReadinessChecks(final HealthCheckHandler handler) {\n      *  \n      * @param spanContext The {@code SpanContext} (may be {@code null}).\n      * @return The {@code DeliveryOptions}.\n+     * @deprecated Use {@link #createEventBusMessageDeliveryOptions(long, SpanContext)} instead.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTIzODk1MQ=="}, "originalCommit": {"oid": "b994f72923a9d22eaac9a117891b235dcc019fec"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3416, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}