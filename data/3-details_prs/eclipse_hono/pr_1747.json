{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxNDM0NTc3", "number": 1747, "title": "Update documentation for removal of the obsolete DataVolumePeriod", "bodyText": "", "createdAt": "2020-02-05T15:26:54Z", "url": "https://github.com/eclipse/hono/pull/1747", "merged": true, "mergeCommit": {"oid": "354d49ff93c7b9a9a938094712923e17961bfc17"}, "closed": true, "closedAt": "2020-02-06T17:45:27Z", "author": {"login": "kaniyan"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBYHY-AFqTM1MzgyMTc2NA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcBt-RSgFqTM1NDYyNjE1Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzODIxNzY0", "url": "https://github.com/eclipse/hono/pull/1747#pullrequestreview-353821764", "createdAt": "2020-02-05T15:45:48Z", "commit": {"oid": "29d662f95fa34776c8ffb07894818d9d5b48d394"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "29d662f95fa34776c8ffb07894818d9d5b48d394", "author": {"user": {"login": "kaniyan", "name": "Karthees Kalidass"}}, "url": "https://github.com/eclipse/hono/commit/29d662f95fa34776c8ffb07894818d9d5b48d394", "committedDate": "2020-02-05T15:22:50Z", "message": "Update documentation for removal of the obsolete DataVolumePeriod.\n\nSigned-off-by: Kartheeswaran Kalidass <Kartheeswaran.Kalidass@bosch.io>"}, "afterCommit": {"oid": "c4dae22bd84200e28c9c6ac8afb16fc061940004", "author": {"user": {"login": "kaniyan", "name": "Karthees Kalidass"}}, "url": "https://github.com/eclipse/hono/commit/c4dae22bd84200e28c9c6ac8afb16fc061940004", "committedDate": "2020-02-05T16:00:42Z", "message": "Update documentation for removal of the obsolete DataVolumePeriod.\n\nSigned-off-by: Kartheeswaran Kalidass <Kartheeswaran.Kalidass@bosch.io>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUzODg4MzI0", "url": "https://github.com/eclipse/hono/pull/1747#pullrequestreview-353888324", "createdAt": "2020-02-05T17:07:16Z", "commit": {"oid": "c4dae22bd84200e28c9c6ac8afb16fc061940004"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNVQxNzowNzoxNlrOFl_3rg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNVQxNzoxMDoxOVrOFl_-cQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTM4ODA3OA==", "bodyText": "This actually constitutes a breaking change of the (public) Tenant API. I don't think that we can do this in 1.1.0. However, IIRC the Prometheus based resource limits check currently expects to always find this information, doesn't it? If so, we will need to change this and fall back to a default value (e.g. monthly) if no resource limits period is specified.\nThe HTTP management API also does not require this to be specified when defining Data Volume limits for a tenant.", "url": "https://github.com/eclipse/hono/pull/1747#discussion_r375388078", "createdAt": "2020-02-05T17:07:16Z", "author": {"login": "sophokles73"}, "path": "site/documentation/content/api/tenant/index.md", "diffHunk": "@@ -279,18 +270,18 @@ The table below contains the properties which are used to configure a tenant's d\n | :------------------------| :-------: | :------------ | :------------ | :---------- |\n | *effective-since*        | *yes*     | *string*      | `-`           | The point in time at which the current settings became effective, i.e. the start of the first accounting period based on these settings. The value MUST be an [ISO 8601 compliant *combined date and time representation in extended format*](https://en.wikipedia.org/wiki/ISO_8601#Combined_date_and_time_representations).|\n | *max-bytes*              | *no*      | *number*      | `-1`          | The maximum number of bytes allowed for the tenant for each accounting period. MUST be an integer. A negative value indicates that no limit is set. |\n-| *period*                 | *no*      | *object*      | `-`          | The mode and length of an accounting period, i.e. the data usage can limited based on the defined number of days or on a monthly basis. |\n+| *period*                 | *yes*      | *object*     | `-`           | The mode and length of an accounting period, i.e. the data usage can limited based on the defined number of days or on a monthly basis. For more information, please refer to the [resource limits period]({{< relref \"#resource-limits-period-configuration-format\" >}}).|", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c4dae22bd84200e28c9c6ac8afb16fc061940004"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTM4OTgwOQ==", "bodyText": "Since this is a new (optional) type of limits we are introducing, it is ok to define it as mandatory from a formal point of view. However, IMHO we should keep this aligned with the Data Volume limit and thus better keep it optional, also defining a fall-back default if not set explicitly. The HTTP Management API also needs to be adapted accordingly", "url": "https://github.com/eclipse/hono/pull/1747#discussion_r375389809", "createdAt": "2020-02-05T17:10:19Z", "author": {"login": "sophokles73"}, "path": "site/documentation/content/api/tenant/index.md", "diffHunk": "@@ -258,19 +258,10 @@ The table below contains the properties which are used to configure a tenant's c\n | :------------------------| :-------: | :------------ | :------------ | :---------- |\n | *effective-since*        | *yes*     | *string*      | `-`           | The point in time at which the current settings became effective, i.e. the start of the first accounting period based on these settings. The value MUST be an [ISO 8601 compliant *combined date and time representation in extended format*](https://en.wikipedia.org/wiki/ISO_8601#Combined_date_and_time_representations).|\n | *max-minutes*            | *no*      | *number*      | `-1`        | The maximum connection duration in minutes allowed for the tenant for each accounting period. MUST be an integer. Minus one indicates that no limit is set. |\n-| *period*                 | *no*      | *object*      | `-`          | The mode and length of an accounting period, i.e. the resource usage is calculated based on the defined number of days or on a monthly basis. |\n+| *period*                 | *yes*     | *object*      | `-`         | The mode and length of an accounting period, i.e. the resource usage is calculated based on the defined number of days or on a monthly basis.  For more information, please refer to the [resource limits period]({{< relref \"#resource-limits-period-configuration-format\" >}}).|", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c4dae22bd84200e28c9c6ac8afb16fc061940004"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c4dae22bd84200e28c9c6ac8afb16fc061940004", "author": {"user": {"login": "kaniyan", "name": "Karthees Kalidass"}}, "url": "https://github.com/eclipse/hono/commit/c4dae22bd84200e28c9c6ac8afb16fc061940004", "committedDate": "2020-02-05T16:00:42Z", "message": "Update documentation for removal of the obsolete DataVolumePeriod.\n\nSigned-off-by: Kartheeswaran Kalidass <Kartheeswaran.Kalidass@bosch.io>"}, "afterCommit": {"oid": "f3b6d339497855355e95eb80f0578867f0435b48", "author": {"user": {"login": "kaniyan", "name": "Karthees Kalidass"}}, "url": "https://github.com/eclipse/hono/commit/f3b6d339497855355e95eb80f0578867f0435b48", "committedDate": "2020-02-06T16:59:47Z", "message": "Adapt resource limit checks API and it's default implementation.\n- The default resource limit checks implementation now uses `monthly` as the default mode when no period is explicitly given.\n- The Period is no more mandatory in case of the connection duration configuration.\n- The documentation has been updated for the above points and for the removal of the obsolete DataVolumePeriod."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "695bac55e7df1c99000a07338a824797b0cbf6c3", "author": {"user": {"login": "kaniyan", "name": "Karthees Kalidass"}}, "url": "https://github.com/eclipse/hono/commit/695bac55e7df1c99000a07338a824797b0cbf6c3", "committedDate": "2020-02-06T17:11:31Z", "message": "Adapt resource limit checks API and it's default implementation.\n\n- The default resource limit checks implementation now uses `monthly` as the default mode when no period is explicitly given.\n- The Period is no more mandatory in case of the connection duration configuration.\n- The documentation has been updated for the above points and for the removal of the obsolete DataVolumePeriod.\n\nSigned-off-by: Kartheeswaran Kalidass <Kartheeswaran.Kalidass@bosch.io>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f3b6d339497855355e95eb80f0578867f0435b48", "author": {"user": {"login": "kaniyan", "name": "Karthees Kalidass"}}, "url": "https://github.com/eclipse/hono/commit/f3b6d339497855355e95eb80f0578867f0435b48", "committedDate": "2020-02-06T16:59:47Z", "message": "Adapt resource limit checks API and it's default implementation.\n- The default resource limit checks implementation now uses `monthly` as the default mode when no period is explicitly given.\n- The Period is no more mandatory in case of the connection duration configuration.\n- The documentation has been updated for the above points and for the removal of the obsolete DataVolumePeriod."}, "afterCommit": {"oid": "695bac55e7df1c99000a07338a824797b0cbf6c3", "author": {"user": {"login": "kaniyan", "name": "Karthees Kalidass"}}, "url": "https://github.com/eclipse/hono/commit/695bac55e7df1c99000a07338a824797b0cbf6c3", "committedDate": "2020-02-06T17:11:31Z", "message": "Adapt resource limit checks API and it's default implementation.\n\n- The default resource limit checks implementation now uses `monthly` as the default mode when no period is explicitly given.\n- The Period is no more mandatory in case of the connection duration configuration.\n- The documentation has been updated for the above points and for the removal of the obsolete DataVolumePeriod.\n\nSigned-off-by: Kartheeswaran Kalidass <Kartheeswaran.Kalidass@bosch.io>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NjI2MTUy", "url": "https://github.com/eclipse/hono/pull/1747#pullrequestreview-354626152", "createdAt": "2020-02-06T17:13:45Z", "commit": {"oid": "695bac55e7df1c99000a07338a824797b0cbf6c3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 959, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}