{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0MzI3NTYx", "number": 2380, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwODozODo0OFrOFIfDBg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwODozODo0OFrOFIfDBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ0NDQxNjA2OnYy", "diffSide": "RIGHT", "path": "services/device-registry-mongodb/src/main/java/org/eclipse/hono/deviceregistry/mongodb/utils/MongoDbDeviceRegistryUtils.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwODozODo0OFrOIKbrNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwODo1MzoyNFrOIKcbPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzgxMDEwMw==", "bodyText": "it would be helpful to know what type of exception to expect in a failed future", "url": "https://github.com/eclipse/hono/pull/2380#discussion_r547810103", "createdAt": "2020-12-23T08:38:48Z", "author": {"login": "sophokles73"}, "path": "services/device-registry-mongodb/src/main/java/org/eclipse/hono/deviceregistry/mongodb/utils/MongoDbDeviceRegistryUtils.java", "diffHunk": "@@ -180,4 +191,117 @@ public static boolean isDuplicateKeyError(final Throwable error) {\n         }\n         return false;\n     }\n+\n+    /**\n+     * Finds resources such as tenant or device from the given MongoDB collection with the provided \n+     * paging, filtering and sorting options.\n+     * <p>\n+     * A MongoDB aggregation pipeline is used to find the resources from the given MongoDB collection.\n+     *\n+     * @param mongoClient The client for accessing the Mongo DB instance.\n+     * @param collectionName The name of the collection.\n+     * @param pageSize The maximum number of results to include in a response.\n+     * @param pageOffset The offset into the result set from which to include objects in the response.\n+     *                   This allows to retrieve the whole result set page by page.\n+     * @param filterDocument The document used for filtering the resources in a MongoDB aggregation pipeline.\n+     * @param sortDocument The document used for sorting the resources in a MongoDB aggregation pipeline.\n+     * @param resultMapper The mapper used for mapping the result for the search operation.\n+     * @param <T> The type of the result namely {@link org.eclipse.hono.service.management.device.DeviceWithId} or \n+     *           {@link org.eclipse.hono.service.management.tenant.TenantWithId}\n+     * @return A future indicating the outcome of the operation. The future will succeed if the search operation \n+     *         is successful and some resources are found. Otherwise the future will fail with the error reason.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2265ee2f2a4508ce8caf22f398f1ef580960a5a4"}, "originalPosition": 64}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzgyMjM5OQ==", "bodyText": "Sure. I have updated it and pushed a new commit for that.", "url": "https://github.com/eclipse/hono/pull/2380#discussion_r547822399", "createdAt": "2020-12-23T08:53:24Z", "author": {"login": "kaniyan"}, "path": "services/device-registry-mongodb/src/main/java/org/eclipse/hono/deviceregistry/mongodb/utils/MongoDbDeviceRegistryUtils.java", "diffHunk": "@@ -180,4 +191,117 @@ public static boolean isDuplicateKeyError(final Throwable error) {\n         }\n         return false;\n     }\n+\n+    /**\n+     * Finds resources such as tenant or device from the given MongoDB collection with the provided \n+     * paging, filtering and sorting options.\n+     * <p>\n+     * A MongoDB aggregation pipeline is used to find the resources from the given MongoDB collection.\n+     *\n+     * @param mongoClient The client for accessing the Mongo DB instance.\n+     * @param collectionName The name of the collection.\n+     * @param pageSize The maximum number of results to include in a response.\n+     * @param pageOffset The offset into the result set from which to include objects in the response.\n+     *                   This allows to retrieve the whole result set page by page.\n+     * @param filterDocument The document used for filtering the resources in a MongoDB aggregation pipeline.\n+     * @param sortDocument The document used for sorting the resources in a MongoDB aggregation pipeline.\n+     * @param resultMapper The mapper used for mapping the result for the search operation.\n+     * @param <T> The type of the result namely {@link org.eclipse.hono.service.management.device.DeviceWithId} or \n+     *           {@link org.eclipse.hono.service.management.tenant.TenantWithId}\n+     * @return A future indicating the outcome of the operation. The future will succeed if the search operation \n+     *         is successful and some resources are found. Otherwise the future will fail with the error reason.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzgxMDEwMw=="}, "originalCommit": {"oid": "2265ee2f2a4508ce8caf22f398f1ef580960a5a4"}, "originalPosition": 64}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2961, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}