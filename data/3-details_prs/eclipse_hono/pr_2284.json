{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1ODk5MjAz", "number": 2284, "title": "[#2267] Add AMQP 1.0 based CredentialsClient implementation", "bodyText": "Added implementations of the adapter client's CredentialsClient\ninterface which simply wraps the existing vertx-proton based\n\"legacy\" CredentialsClientImpl.", "createdAt": "2020-11-05T08:50:59Z", "url": "https://github.com/eclipse/hono/pull/2284", "merged": true, "mergeCommit": {"oid": "9a4805acbc066e28516f4c312c74ba8c9d0cdcb3"}, "closed": true, "closedAt": "2020-11-05T15:28:08Z", "author": {"login": "sophokles73"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdZeYqfAH2gAyNTE1ODk5MjAzOmQwY2VkN2JkMjEzZTc1NjAyMzFhYmRiNDIxZDUwNjZhZmYxOThkY2M=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdZj-2UAFqTUyNDM2OTQ3MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d0ced7bd213e7560231abdb421d5066aff198dcc", "author": {"user": {"login": "sophokles73", "name": "Kai Hudalla"}}, "url": "https://github.com/eclipse/hono/commit/d0ced7bd213e7560231abdb421d5066aff198dcc", "committedDate": "2020-11-05T08:49:26Z", "message": "[#2267] Add AMQP 1.0 based CredentialsClient implementation\n\nAdded implementations of the adapter client's CredentialsClient\ninterface which simply wraps the existing vertx-proton based\n\"legacy\" CredentialsClientImpl.\n\nSigned-off-by: Kai Hudalla <kai.hudalla@bosch.io>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0MjUxODg2", "url": "https://github.com/eclipse/hono/pull/2284#pullrequestreview-524251886", "createdAt": "2020-11-05T13:21:19Z", "commit": {"oid": "d0ced7bd213e7560231abdb421d5066aff198dcc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxMzoyMToyMFrOHuC9HQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxMzoyMToyMFrOHuC9HQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODA0NDk1Nw==", "bodyText": "Rename parameter to credentialsClient.", "url": "https://github.com/eclipse/hono/pull/2284#discussion_r518044957", "createdAt": "2020-11-05T13:21:20Z", "author": {"login": "calohmn"}, "path": "adapters/coap-vertx-base/src/main/java/org/eclipse/hono/adapter/coap/DefaultDeviceResolver.java", "diffHunk": "@@ -98,14 +98,14 @@ public DefaultDeviceResolver(\n             final Tracer tracer,\n             final String adapterName,\n             final CoapAdapterProperties config,\n-            final CredentialsClientFactory credentialsClientFactory,\n+            final CredentialsClient credentialsClientFactory,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d0ced7bd213e7560231abdb421d5066aff198dcc"}, "originalPosition": 25}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0MjM4MTA0", "url": "https://github.com/eclipse/hono/pull/2284#pullrequestreview-524238104", "createdAt": "2020-11-05T13:04:05Z", "commit": {"oid": "d0ced7bd213e7560231abdb421d5066aff198dcc"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxMzowNDowNVrOHuCTYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxMzoxOTowOFrOHuC3gw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODAzNDI3Mg==", "bodyText": "The JavaDoc still contains information about the credentials client factory and needs update.\nHow about renaming the variable credentialsClientFactory to credentialsClient?", "url": "https://github.com/eclipse/hono/pull/2284#discussion_r518034272", "createdAt": "2020-11-05T13:04:05Z", "author": {"login": "kaniyan"}, "path": "adapters/coap-vertx-base/src/main/java/org/eclipse/hono/adapter/coap/DefaultDeviceResolver.java", "diffHunk": "@@ -98,14 +98,14 @@ public DefaultDeviceResolver(\n             final Tracer tracer,\n             final String adapterName,\n             final CoapAdapterProperties config,\n-            final CredentialsClientFactory credentialsClientFactory,\n+            final CredentialsClient credentialsClientFactory,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d0ced7bd213e7560231abdb421d5066aff198dcc"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODAzNjU3MQ==", "bodyText": "Missing null check for the tenantClient and as per the JavaDoc it should also be null checked. This is an existing issue and may be this could also be fixed here in this related PR.", "url": "https://github.com/eclipse/hono/pull/2284#discussion_r518036571", "createdAt": "2020-11-05T13:07:50Z", "author": {"login": "kaniyan"}, "path": "adapters/coap-vertx-base/src/main/java/org/eclipse/hono/adapter/coap/DefaultDeviceResolver.java", "diffHunk": "@@ -98,14 +98,14 @@ public DefaultDeviceResolver(\n             final Tracer tracer,\n             final String adapterName,\n             final CoapAdapterProperties config,\n-            final CredentialsClientFactory credentialsClientFactory,\n+            final CredentialsClient credentialsClientFactory,\n             final TenantClient tenantClient) {\n \n         this.context = Objects.requireNonNull(vertxContext);\n         this.tracer = Objects.requireNonNull(tracer);\n         this.adapterName = Objects.requireNonNull(adapterName);\n         this.config = Objects.requireNonNull(config);\n-        this.credentialsClientFactory = Objects.requireNonNull(credentialsClientFactory);\n+        this.credentialsClient = Objects.requireNonNull(credentialsClientFactory);\n         this.tenantClient = tenantClient;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d0ced7bd213e7560231abdb421d5066aff198dcc"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODA0MzUyMw==", "bodyText": "In  @throws NullPointerException if the factory is {@code null}. the factory should be replaced with client.", "url": "https://github.com/eclipse/hono/pull/2284#discussion_r518043523", "createdAt": "2020-11-05T13:19:08Z", "author": {"login": "kaniyan"}, "path": "service-base/src/main/java/org/eclipse/hono/service/AbstractProtocolAdapterBase.java", "diffHunk": "@@ -302,24 +302,24 @@ public final DeviceRegistrationClient getRegistrationClient() {\n     }\n \n     /**\n-     * Sets the factory to use for creating a client for the Credentials service.\n+     * Sets the client to use for accessing the Credentials service.\n      *\n-     * @param factory The factory.\n+     * @param client The client.\n      * @throws NullPointerException if the factory is {@code null}.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d0ced7bd213e7560231abdb421d5066aff198dcc"}, "originalPosition": 34}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f4089480eb21f683d4a7c0240dc4cd48f6d725b", "author": {"user": {"login": "sophokles73", "name": "Kai Hudalla"}}, "url": "https://github.com/eclipse/hono/commit/7f4089480eb21f683d4a7c0240dc4cd48f6d725b", "committedDate": "2020-11-05T14:23:36Z", "message": "Incorporate feedback\n\nSigned-off-by: Kai Hudalla <kai.hudalla@bosch.io>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0MzY3OTgx", "url": "https://github.com/eclipse/hono/pull/2284#pullrequestreview-524367981", "createdAt": "2020-11-05T15:19:14Z", "commit": {"oid": "7f4089480eb21f683d4a7c0240dc4cd48f6d725b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI0MzY5NDcw", "url": "https://github.com/eclipse/hono/pull/2284#pullrequestreview-524369470", "createdAt": "2020-11-05T15:20:40Z", "commit": {"oid": "7f4089480eb21f683d4a7c0240dc4cd48f6d725b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 428, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}