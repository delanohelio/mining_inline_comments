{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg4NjQxOTU1", "number": 2188, "title": "[#2184] Strip shared key from PSK credentials", "bodyText": "The device registry implementations do no longer include the (secret)\nshared key of PSK credentials in the result set of the Management API's\nget credentials operation.", "createdAt": "2020-09-17T12:45:07Z", "url": "https://github.com/eclipse/hono/pull/2188", "merged": true, "mergeCommit": {"oid": "230567100309bfeacfce31a4983417d919a445a2"}, "closed": true, "closedAt": "2020-09-23T09:17:26Z", "author": {"login": "sophokles73"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdJwcN2gBqjM3Nzc3OTAzNTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLn0AJABqjM3OTY3NDk3NjQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f5cefaf57529375ccf27723160b00f23f26bd35f", "author": {"user": {"login": "sophokles73", "name": "Kai Hudalla"}}, "url": "https://github.com/eclipse/hono/commit/f5cefaf57529375ccf27723160b00f23f26bd35f", "committedDate": "2020-09-17T12:43:34Z", "message": "[#2184] Strip shared key from PSK credentials\n\nThe device registry implementations do no longer include the (secret)\nshared key of PSK credentials in the result set of the Management API's\nget credentials operation.\n\nFixes #2184\n\nSigned-off-by: Kai Hudalla <kai.hudalla@bosch.io>"}, "afterCommit": {"oid": "e5cabd0ab2dde7efddb4e17f2cc61821c32de13d", "author": {"user": {"login": "sophokles73", "name": "Kai Hudalla"}}, "url": "https://github.com/eclipse/hono/commit/e5cabd0ab2dde7efddb4e17f2cc61821c32de13d", "committedDate": "2020-09-17T12:48:29Z", "message": "[#2184] Strip shared key from PSK credentials\n\nThe device registry implementations do no longer include the (secret)\nshared key of PSK credentials in the result set of the Management API's\nget credentials operation.\n\nFixes #2184\n\nSigned-off-by: Kai Hudalla <kai.hudalla@bosch.io>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwNTc5ODI5", "url": "https://github.com/eclipse/hono/pull/2188#pullrequestreview-490579829", "createdAt": "2020-09-17T13:15:59Z", "commit": {"oid": "e5cabd0ab2dde7efddb4e17f2cc61821c32de13d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxMzoxNTo1OVrOHThi0g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QxMzoxNTo1OVrOHThi0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MDIzNDU3OA==", "bodyText": "We could reuse CommonCredential.stripPrivateInfo(...) instead of removeConfidentialDataFromCredential(...) after mapping to CommonCredential in the following line.", "url": "https://github.com/eclipse/hono/pull/2188#discussion_r490234578", "createdAt": "2020-09-17T13:15:59Z", "author": {"login": "kaniyan"}, "path": "services/device-registry-file/src/main/java/org/eclipse/hono/deviceregistry/file/FileBasedCredentialsService.java", "diffHunk": "@@ -652,7 +652,7 @@ private void removeAllForDevice(final String tenantId, final String deviceId, fi\n         for (final Object credential : matchingCredentials) {\n             final JsonObject credentialsObject = (JsonObject) credential;\n             credentialsObject.remove(CredentialsConstants.FIELD_PAYLOAD_DEVICE_ID);\n-            removePasswordDetailsFromCredential(credentialsObject);\n+            removeConfidentialDataFromCredential(credentialsObject);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e5cabd0ab2dde7efddb4e17f2cc61821c32de13d"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk0MzI4NDEy", "url": "https://github.com/eclipse/hono/pull/2188#pullrequestreview-494328412", "createdAt": "2020-09-23T07:17:25Z", "commit": {"oid": "7146f52cce6f4522777a20c75d9a5a16a7bd5782"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f86c03cdee56bf1d558d847489ee10900492508b", "author": {"user": {"login": "sophokles73", "name": "Kai Hudalla"}}, "url": "https://github.com/eclipse/hono/commit/f86c03cdee56bf1d558d847489ee10900492508b", "committedDate": "2020-09-23T07:53:00Z", "message": "[#2184] Strip shared key from PSK credentials\n\nThe device registry implementations do no longer include the (secret)\nshared key of PSK credentials in the result set of the Management API's\nget credentials operation.\n\nFixes #2184\n\nSigned-off-by: Kai Hudalla <kai.hudalla@bosch.io>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7146f52cce6f4522777a20c75d9a5a16a7bd5782", "author": {"user": {"login": "sophokles73", "name": "Kai Hudalla"}}, "url": "https://github.com/eclipse/hono/commit/7146f52cce6f4522777a20c75d9a5a16a7bd5782", "committedDate": "2020-09-17T14:15:10Z", "message": "Reuse CommonCredential.stripPrivateInfo()\n\nSigned-off-by: Kai Hudalla <kai.hudalla@bosch.io>"}, "afterCommit": {"oid": "f86c03cdee56bf1d558d847489ee10900492508b", "author": {"user": {"login": "sophokles73", "name": "Kai Hudalla"}}, "url": "https://github.com/eclipse/hono/commit/f86c03cdee56bf1d558d847489ee10900492508b", "committedDate": "2020-09-23T07:53:00Z", "message": "[#2184] Strip shared key from PSK credentials\n\nThe device registry implementations do no longer include the (secret)\nshared key of PSK credentials in the result set of the Management API's\nget credentials operation.\n\nFixes #2184\n\nSigned-off-by: Kai Hudalla <kai.hudalla@bosch.io>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 574, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}