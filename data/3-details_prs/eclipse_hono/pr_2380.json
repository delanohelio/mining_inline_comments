{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQ0MzI3NTYx", "number": 2380, "title": "[#2239] Pull up methods and refactor for a generic search operation in MongoDB registry", "bodyText": "", "createdAt": "2020-12-22T19:43:04Z", "url": "https://github.com/eclipse/hono/pull/2380", "merged": true, "mergeCommit": {"oid": "8fb8c8b67fb4951117bced7972c1efa8dd7977b3"}, "closed": true, "closedAt": "2020-12-23T09:30:35Z", "author": {"login": "kaniyan"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdov4cqAH2gAyNTQ0MzI3NTYxOjIyNjVlZTJmMmE0NTA4Y2U4Y2FmMjJmMzk4ZjFlZjU4MDk2MGE1YTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdo7Z2BAFqTU1NzczNDY1NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2265ee2f2a4508ce8caf22f398f1ef580960a5a4", "author": {"user": {"login": "kaniyan", "name": "Karthees Kalidass"}}, "url": "https://github.com/eclipse/hono/commit/2265ee2f2a4508ce8caf22f398f1ef580960a5a4", "committedDate": "2020-12-22T19:41:24Z", "message": "[#2239] Pull up and refactor methods for a generic search operation in the MongoDB based device registry\n\nSigned-off-by: Kartheeswaran Kalidass <kartheeswaran.kalidass@bosch.io>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3NzE5NTc0", "url": "https://github.com/eclipse/hono/pull/2380#pullrequestreview-557719574", "createdAt": "2020-12-23T08:38:48Z", "commit": {"oid": "2265ee2f2a4508ce8caf22f398f1ef580960a5a4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwODozODo0OFrOIKbrNw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yM1QwODozODo0OFrOIKbrNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NzgxMDEwMw==", "bodyText": "it would be helpful to know what type of exception to expect in a failed future", "url": "https://github.com/eclipse/hono/pull/2380#discussion_r547810103", "createdAt": "2020-12-23T08:38:48Z", "author": {"login": "sophokles73"}, "path": "services/device-registry-mongodb/src/main/java/org/eclipse/hono/deviceregistry/mongodb/utils/MongoDbDeviceRegistryUtils.java", "diffHunk": "@@ -180,4 +191,117 @@ public static boolean isDuplicateKeyError(final Throwable error) {\n         }\n         return false;\n     }\n+\n+    /**\n+     * Finds resources such as tenant or device from the given MongoDB collection with the provided \n+     * paging, filtering and sorting options.\n+     * <p>\n+     * A MongoDB aggregation pipeline is used to find the resources from the given MongoDB collection.\n+     *\n+     * @param mongoClient The client for accessing the Mongo DB instance.\n+     * @param collectionName The name of the collection.\n+     * @param pageSize The maximum number of results to include in a response.\n+     * @param pageOffset The offset into the result set from which to include objects in the response.\n+     *                   This allows to retrieve the whole result set page by page.\n+     * @param filterDocument The document used for filtering the resources in a MongoDB aggregation pipeline.\n+     * @param sortDocument The document used for sorting the resources in a MongoDB aggregation pipeline.\n+     * @param resultMapper The mapper used for mapping the result for the search operation.\n+     * @param <T> The type of the result namely {@link org.eclipse.hono.service.management.device.DeviceWithId} or \n+     *           {@link org.eclipse.hono.service.management.tenant.TenantWithId}\n+     * @return A future indicating the outcome of the operation. The future will succeed if the search operation \n+     *         is successful and some resources are found. Otherwise the future will fail with the error reason.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2265ee2f2a4508ce8caf22f398f1ef580960a5a4"}, "originalPosition": 64}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "713a0623ee87b50d0c513c25b80bf2653637c804", "author": {"user": {"login": "kaniyan", "name": "Karthees Kalidass"}}, "url": "https://github.com/eclipse/hono/commit/713a0623ee87b50d0c513c25b80bf2653637c804", "committedDate": "2020-12-23T08:50:41Z", "message": "Implement review comments\n\nSigned-off-by: Kartheeswaran Kalidass <kartheeswaran.kalidass@bosch.io>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU3NzM0NjU0", "url": "https://github.com/eclipse/hono/pull/2380#pullrequestreview-557734654", "createdAt": "2020-12-23T09:06:50Z", "commit": {"oid": "713a0623ee87b50d0c513c25b80bf2653637c804"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 496, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}