{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0MTczMDcx", "number": 1812, "title": "Add tracer instance in HotrodBasedDeviceConnectionInfo", "bodyText": "A Tracer instance is now available in HotrodBasedDeviceConnectionInfo, making it possible to create extra spans in the DeviceConnectionInfo method implementations.\nThis will be extra useful for the additional Device Connection API methods to be created for #1272.", "createdAt": "2020-03-05T09:53:53Z", "url": "https://github.com/eclipse/hono/pull/1812", "merged": true, "mergeCommit": {"oid": "91d94a6411291d1ee8786962e3bf7b71de64ebb1"}, "closed": true, "closedAt": "2020-03-09T12:01:30Z", "author": {"login": "calohmn"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKoV4vAH2gAyMzg0MTczMDcxOjZkYjU0ZDAyNjcyMjE0NzdjMWY2NDA1YjQ0OWVlZGYyNWEzNjk2Yjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcL8rj6AFqTM3MTEwNjA2OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6db54d0267221477c1f6405b449eedf25a3696b9", "author": {"user": {"login": "calohmn", "name": "Carsten Lohmann"}}, "url": "https://github.com/eclipse/hono/commit/6db54d0267221477c1f6405b449eedf25a3696b9", "committedDate": "2020-03-05T09:45:26Z", "message": "Add tracer instance in HotrodBasedDeviceConnectionInfo.\n\nSigned-off-by: Carsten Lohmann <carsten.lohmann@bosch.io>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5NzAxMTEz", "url": "https://github.com/eclipse/hono/pull/1812#pullrequestreview-369701113", "createdAt": "2020-03-05T16:05:52Z", "commit": {"oid": "6db54d0267221477c1f6405b449eedf25a3696b9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjowNTo1MlrOFyZtfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxNjowNTo1MlrOFyZtfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODM5NDM2Ng==", "bodyText": "this will throw a NullPointerException if tracer is null, right? Is there actually a factory method producing an Optional<Tracer>?", "url": "https://github.com/eclipse/hono/pull/1812#discussion_r388394366", "createdAt": "2020-03-05T16:05:52Z", "author": {"login": "sophokles73"}, "path": "client-device-connection-infinispan/src/main/java/org/eclipse/hono/deviceconnection/infinispan/client/HotrodCacheConfig.java", "diffHunk": "@@ -79,12 +83,15 @@ public RemoteCacheManager remoteCacheManager() {\n      * in an Infinispan data grid.\n      *\n      * @param cache The remote cache in the Infinispan data grid.\n+     * @param tracer The OpenTracing {@code Tracer} to use for tracking requests done by clients created by this factory.\n+     *               If an empty Optional is given, the {@code NoopTracer} from OpenTracing will be used.\n      * @return The factory.\n      */\n     @Bean\n     @Qualifier(DeviceConnectionConstants.DEVICE_CONNECTION_ENDPOINT)\n     @ConditionalOnProperty(prefix = \"hono.device-connection\", name = \"server-list\")\n-    public BasicDeviceConnectionClientFactory hotrodBasedDeviceConnectionClientFactory(final HotrodCache<String, String> cache) {\n-        return new HotrodBasedDeviceConnectionClientFactory(cache);\n+    public BasicDeviceConnectionClientFactory hotrodBasedDeviceConnectionClientFactory(\n+            final HotrodCache<String, String> cache, final Optional<Tracer> tracer) {\n+        return new HotrodBasedDeviceConnectionClientFactory(cache, tracer.orElse(NoopTracerFactory.create()));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6db54d0267221477c1f6405b449eedf25a3696b9"}, "originalPosition": 42}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcxMTA2MDY4", "url": "https://github.com/eclipse/hono/pull/1812#pullrequestreview-371106068", "createdAt": "2020-03-09T12:01:08Z", "commit": {"oid": "6db54d0267221477c1f6405b449eedf25a3696b9"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 771, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}