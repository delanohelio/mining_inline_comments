{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEwMDE4MTU3", "number": 2263, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMzoxOTozN1rOEx5XZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMzoyMDowOFrOEx5YQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwNzU1NTU5OnYy", "diffSide": "RIGHT", "path": "adapters/mqtt-vertx-base/src/main/java/org/eclipse/hono/adapter/mqtt/MqttContext.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMzoxOTozN1rOHoPFNQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQyMDoxMDowNVrOHogfng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTk1MjE4MQ==", "bodyText": "What if I specify the content type using Content-Type?", "url": "https://github.com/eclipse/hono/pull/2263#discussion_r511952181", "createdAt": "2020-10-26T13:19:37Z", "author": {"login": "sophokles73"}, "path": "adapters/mqtt-vertx-base/src/main/java/org/eclipse/hono/adapter/mqtt/MqttContext.java", "diffHunk": "@@ -110,6 +111,9 @@ public static MqttContext fromPublishPacket(\n                     .ifPresentOrElse(propertyBag -> {\n                         result.topic = ResourceIdentifier.fromString(propertyBag.topicWithoutPropertyBag());\n                         result.propertyBag = propertyBag;\n+                        // sets the content type using the corresponding value from the property bag\n+                        Optional.ofNullable(propertyBag.getProperty(MessageHelper.SYS_PROPERTY_CONTENT_TYPE))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11eb21d38838dc479fafe45a2d6f1677cf568dab"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTk3OTQ5MQ==", "bodyText": "Good point. Field names in HTTP headers  are case-insensitive. I think it makes sense also to treat the property names as case-insensitive in the MQTT property-bag.  WDYT?", "url": "https://github.com/eclipse/hono/pull/2263#discussion_r511979491", "createdAt": "2020-10-26T13:58:03Z", "author": {"login": "kaniyan"}, "path": "adapters/mqtt-vertx-base/src/main/java/org/eclipse/hono/adapter/mqtt/MqttContext.java", "diffHunk": "@@ -110,6 +111,9 @@ public static MqttContext fromPublishPacket(\n                     .ifPresentOrElse(propertyBag -> {\n                         result.topic = ResourceIdentifier.fromString(propertyBag.topicWithoutPropertyBag());\n                         result.propertyBag = propertyBag;\n+                        // sets the content type using the corresponding value from the property bag\n+                        Optional.ofNullable(propertyBag.getProperty(MessageHelper.SYS_PROPERTY_CONTENT_TYPE))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTk1MjE4MQ=="}, "originalCommit": {"oid": "11eb21d38838dc479fafe45a2d6f1677cf568dab"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjIzNzQ3MA==", "bodyText": "Now I have made it case insensitive and pushed the changes.", "url": "https://github.com/eclipse/hono/pull/2263#discussion_r512237470", "createdAt": "2020-10-26T20:10:05Z", "author": {"login": "kaniyan"}, "path": "adapters/mqtt-vertx-base/src/main/java/org/eclipse/hono/adapter/mqtt/MqttContext.java", "diffHunk": "@@ -110,6 +111,9 @@ public static MqttContext fromPublishPacket(\n                     .ifPresentOrElse(propertyBag -> {\n                         result.topic = ResourceIdentifier.fromString(propertyBag.topicWithoutPropertyBag());\n                         result.propertyBag = propertyBag;\n+                        // sets the content type using the corresponding value from the property bag\n+                        Optional.ofNullable(propertyBag.getProperty(MessageHelper.SYS_PROPERTY_CONTENT_TYPE))", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTk1MjE4MQ=="}, "originalCommit": {"oid": "11eb21d38838dc479fafe45a2d6f1677cf568dab"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwNzU1Nzc3OnYy", "diffSide": "RIGHT", "path": "site/documentation/content/user-guide/mqtt-adapter.md", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMzoyMDowOFrOHoPGmw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMzoyMDowOFrOHoPGmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTk1MjUzOQ==", "bodyText": "can you please insert an empty line between this paragraph and the next section heading?", "url": "https://github.com/eclipse/hono/pull/2263#discussion_r511952539", "createdAt": "2020-10-26T13:20:08Z", "author": {"login": "sophokles73"}, "path": "site/documentation/content/user-guide/mqtt-adapter.md", "diffHunk": "@@ -97,6 +97,7 @@ This requires that\n \n The protocol adapter checks the configured [message limit] ({{< relref \"/concepts/resource-limits.md\" >}}) before accepting any telemetry messages. If the message limit is exceeded or the incoming telemetry message cannot be processed, the connection to the client is closed.\n \n+The devices can optionally indicate the content type of the payload by setting the *content-type* property explicitly in the `property-bag`. The `property-bag` is an optional collection of properties intended for the receiver of the message. A property bag is only allowed at the very end of a topic. It always starts with a `/?` character, followed by pairs of URL encoded property names and values that are separated by `&`. For example, a property bag containing two properties *seqNo* and *importance* looks like this: `/topic/name/?seqNo=10034&importance=high`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11eb21d38838dc479fafe45a2d6f1677cf568dab"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2830, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}