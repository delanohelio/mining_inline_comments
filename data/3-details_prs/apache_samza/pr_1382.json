{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMzNzkxMjk2", "number": 1382, "title": "[Minor test fix] Enabled and fixed a TestKafkaCheckpointManager test", "bodyText": "Symptom: TestKafkaCheckpointManager.testWriteCheckpointShouldRecreateSystemProducerOnFailure was not enabled. It also did not pass when it was enabled. It doesn't seem like this was a disabled flaky test; just seems like the author forgot to enable it.\nCause:\n\nMissing the @Test annotation.\nRetry timeout was set too low, so the test never had the chance to recreate the system producer.\nTests: ./gradlew :samza-kafka:test --tests TestKafkaCheckpointManager\nAPI/Usage changes: N/A", "createdAt": "2020-06-12T16:57:55Z", "url": "https://github.com/apache/samza/pull/1382", "merged": true, "mergeCommit": {"oid": "0b65dbf0e25a030c249791a485f3b46d79cec64f"}, "closed": true, "closedAt": "2020-06-12T22:31:26Z", "author": {"login": "cameronlee314"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcqly2kAH2gAyNDMzNzkxMjk2Ojc4NGM0MjJhZDIwN2RhNzQ2ZmI2YzM3ZDNhYmU1ODliZWRjMDZmMGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqpyEjAFqTQzMDA0ODYwMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "784c422ad207da746fb6c37d3abe589bedc06f0f", "author": {"user": {"login": "cameronlee314", "name": "Cameron Lee"}}, "url": "https://github.com/apache/samza/commit/784c422ad207da746fb6c37d3abe589bedc06f0f", "committedDate": "2020-06-12T16:52:56Z", "message": "[Minor test fix] Enabled and fixed a TestKafkaCheckpointManager test"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwMDQ2Mjc2", "url": "https://github.com/apache/samza/pull/1382#pullrequestreview-430046276", "createdAt": "2020-06-12T21:26:07Z", "commit": {"oid": "784c422ad207da746fb6c37d3abe589bedc06f0f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwMDQ4NjAw", "url": "https://github.com/apache/samza/pull/1382#pullrequestreview-430048600", "createdAt": "2020-06-12T21:31:41Z", "commit": {"oid": "784c422ad207da746fb6c37d3abe589bedc06f0f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQyMTozMTo0MVrOGjSJWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMlQyMTozMTo0MVrOGjSJWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzOTY1MDY0OA==", "bodyText": "Do you know why we need to spy the class under test here rather than mock the underlying objects used by the method that is stubbed?", "url": "https://github.com/apache/samza/pull/1382#discussion_r439650648", "createdAt": "2020-06-12T21:31:41Z", "author": {"login": "bkonold"}, "path": "samza-kafka/src/test/scala/org/apache/samza/checkpoint/kafka/TestKafkaCheckpointManager.scala", "diffHunk": "@@ -82,7 +83,6 @@ class TestKafkaCheckpointManager extends KafkaServerTestHarness {\n     val spec = new KafkaStreamSpec(\"id\", checkpointTopic, checkpointSystemName, 1, 1, props)\n     val checkPointManager = Mockito.spy(new KafkaCheckpointManager(spec, new MockSystemFactory, false, config, new NoOpMetricsRegistry))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "784c422ad207da746fb6c37d3abe589bedc06f0f"}, "originalPosition": 10}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4633, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}