{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5NzIwNzEx", "number": 1363, "title": "AzureBlobSystemProducer: Catch all Exception in completableFuture during flush of producer", "bodyText": "Bug fix\nSymptom: No visible symptoms seen yet. Potential symptom is silent drop of exceptions in producer.flush.\nCause: During producer.flush, all writers are closed. The CompletableFuture waiting on the writer.close catches only IOExceptions but the writers could throw any exception. This might result exceptions other than IOException not being bubbled up.\nChanges: Make CompletableFuture catch all \"Exception\"\nAPI changes: None\nUpgrade Instructions: None\nUsage Instructions: None", "createdAt": "2020-05-18T20:18:46Z", "url": "https://github.com/apache/samza/pull/1363", "merged": true, "mergeCommit": {"oid": "83204fc6e72e1a18e3b70420e777bce079c92757"}, "closed": true, "closedAt": "2021-02-17T02:59:07Z", "author": {"login": "lakshmi-manasa-g"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcinrzbgFqTQxMzk4MjI3MA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABd47RjdAH2gAyNDE5NzIwNzExOjZiZDEzYTYwNjg3N2VhNGZjN2E2MDNjMTEzZGZiNDMyZGZhYmRjYWQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzOTgyMjcw", "url": "https://github.com/apache/samza/pull/1363#pullrequestreview-413982270", "createdAt": "2020-05-18T22:33:39Z", "commit": {"oid": "dd764f4dfe7b387da6db956a6614e02b2de6fa42"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQyMjozMzozOVrOGXJoWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQyMjozMzozOVrOGXJoWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjkyODIxNg==", "bodyText": "Minor: Should catch Exception instead of Throwable. Later includes fatal errors like OOM, stack overflow, classloading errors etc that typically shouldn't be caught.", "url": "https://github.com/apache/samza/pull/1363#discussion_r426928216", "createdAt": "2020-05-18T22:33:39Z", "author": {"login": "prateekm"}, "path": "samza-azure/src/main/java/org/apache/samza/system/azureblob/producer/AzureBlobSystemProducer.java", "diffHunk": "@@ -490,7 +490,7 @@ private void closeWriters(String source, Map<String, AzureBlobWriter> sourceWrit\n             public void run() {\n               try {\n                 writer.close();\n-              } catch (IOException e) {\n+              } catch (Throwable e) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dd764f4dfe7b387da6db956a6614e02b2de6fa42"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzOTkyMDk5", "url": "https://github.com/apache/samza/pull/1363#pullrequestreview-413992099", "createdAt": "2020-05-18T22:58:21Z", "commit": {"oid": "54a675f6dc7b8d7a86e57b2462a29cf7a1801d89"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "707b4c26b315b566089212a79fc7f268451550cf", "author": {"user": {"login": "lakshmi-manasa-g", "name": null}}, "url": "https://github.com/apache/samza/commit/707b4c26b315b566089212a79fc7f268451550cf", "committedDate": "2021-02-11T01:30:27Z", "message": "AzureBlobSystemProducer: Catch all throwable in completableFuture during flush of the producer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fffe4357ef68aa8a7f6ca9990176e2af1bfb3358", "author": {"user": {"login": "lakshmi-manasa-g", "name": null}}, "url": "https://github.com/apache/samza/commit/fffe4357ef68aa8a7f6ca9990176e2af1bfb3358", "committedDate": "2021-02-11T01:30:27Z", "message": "catch Exception instead of throwable"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f53a374f21bb6860c35431968714038b4cfdcd4c", "author": {"user": {"login": "lakshmi-manasa-g", "name": null}}, "url": "https://github.com/apache/samza/commit/f53a374f21bb6860c35431968714038b4cfdcd4c", "committedDate": "2021-02-11T01:30:27Z", "message": "Empty commit to Trigger Travis Build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "530f51d74c33bedd985a5a7b67cf8bc602a5c27e", "author": {"user": {"login": "lakshmi-manasa-g", "name": null}}, "url": "https://github.com/apache/samza/commit/530f51d74c33bedd985a5a7b67cf8bc602a5c27e", "committedDate": "2021-02-11T01:30:27Z", "message": "Empty commit to Trigger Travis Build again"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2593787b09311d1c88966cbce20ed4f9dca6d589", "author": {"user": {"login": "lakshmi-manasa-g", "name": null}}, "url": "https://github.com/apache/samza/commit/2593787b09311d1c88966cbce20ed4f9dca6d589", "committedDate": "2021-02-11T01:17:21Z", "message": "Merge remote-tracking branch 'origin/master' into exceptionInCompletableFuture"}, "afterCommit": {"oid": "530f51d74c33bedd985a5a7b67cf8bc602a5c27e", "author": {"user": {"login": "lakshmi-manasa-g", "name": null}}, "url": "https://github.com/apache/samza/commit/530f51d74c33bedd985a5a7b67cf8bc602a5c27e", "committedDate": "2021-02-11T01:30:27Z", "message": "Empty commit to Trigger Travis Build again"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bda57a5f2af9c20c2e79fa75f84e2d4313eb952f", "author": {"user": {"login": "lakshmi-manasa-g", "name": null}}, "url": "https://github.com/apache/samza/commit/bda57a5f2af9c20c2e79fa75f84e2d4313eb952f", "committedDate": "2021-02-11T01:39:50Z", "message": "Merge branch 'master' into exceptionInCompletableFuture"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6bd13a606877ea4fc7a603c113dfb432dfabdcad", "author": {"user": {"login": "lakshmi-manasa-g", "name": null}}, "url": "https://github.com/apache/samza/commit/6bd13a606877ea4fc7a603c113dfb432dfabdcad", "committedDate": "2021-02-11T02:00:34Z", "message": "fix checkstyle build failure"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4598, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}