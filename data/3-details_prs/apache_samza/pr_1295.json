{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwNTQzNTAy", "number": 1295, "title": "SAMZA-2473: gradleVersion and wrapper jar are out-of-sync", "bodyText": "Issues: Gradle wrapper version out-of-sync with properties file\nChanges:\n\nFix built-in wrapper task to read value from gradle.properties\nUpdate Gradle wrapper to 5.2.1, committing new wrapper scripts and bootstrap jar\nLeft instructions to run $ ./gradlew wrapper to update in the future\nFix maven publish behavior change; see https://docs.gradle.org/5.2.1/userguide/publishing_maven.html#publishing_maven:deferred_configuration\n\nTests: Manually verified samza-shell-<version>-dist.tgz artifact is unchanged.", "createdAt": "2020-02-26T22:39:18Z", "url": "https://github.com/apache/samza/pull/1295", "merged": true, "mergeCommit": {"oid": "b9ef56a23a3157b7a13d2fce517ceb63ef6ab265"}, "closed": true, "closedAt": "2020-03-03T20:02:07Z", "author": {"login": "DPUkyle"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcJ4MlnAFqTM2NzY0NzkwOA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKH3dNAFqTM2ODI3ODg1Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3NjQ3OTA4", "url": "https://github.com/apache/samza/pull/1295#pullrequestreview-367647908", "createdAt": "2020-03-03T01:30:40Z", "commit": {"oid": "8665226db31d090516ef6a22703dae87102496c0"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QwMTozMDo0MVrOFw1a7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QwMTozODozOVrOFw1jZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njc1MTIxMw==", "bodyText": "Will there be an impact to the artifact name if classifier \"dist\" is removed here?", "url": "https://github.com/apache/samza/pull/1295#discussion_r386751213", "createdAt": "2020-03-03T01:30:41Z", "author": {"login": "cameronlee314"}, "path": "gradle/maven.gradle", "diffHunk": "@@ -22,13 +22,13 @@ subprojects {\n   publishing {\n     publications {\n       mavenJava(MavenPublication) {\n-        from components.java\n-        if(project.name == 'samza-shell') {\n-          artifact shellTarGz {\n-            classifier \"dist\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8665226db31d090516ef6a22703dae87102496c0"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njc1MjI4Nw==", "bodyText": "Just double checking: This file is automatically generated, right?", "url": "https://github.com/apache/samza/pull/1295#discussion_r386752287", "createdAt": "2020-03-03T01:34:42Z", "author": {"login": "cameronlee314"}, "path": "gradlew.bat", "diffHunk": "@@ -0,0 +1,84 @@\n+@if \"%DEBUG%\" == \"\" @echo off\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8665226db31d090516ef6a22703dae87102496c0"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4Njc1MzM4MQ==", "bodyText": "Could you please add a comment in gradle.properties right above gradleVersion to re-run ./gradlew wrapper and commit the generated changes when upgrading Gradle in the future?", "url": "https://github.com/apache/samza/pull/1295#discussion_r386753381", "createdAt": "2020-03-03T01:38:39Z", "author": {"login": "cameronlee314"}, "path": "build.gradle", "diffHunk": "@@ -866,3 +866,8 @@ project(\":samza-test_$scalaSuffix\") {\n     from(configurations.archives.artifacts.files) { into(\"lib/\") }\n   }\n }\n+\n+// SAMZA-2473 read wrapper version from gradle.properties\n+wrapper {\n+  gradleVersion = project.gradleVersion", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8665226db31d090516ef6a22703dae87102496c0"}, "originalPosition": 7}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8665226db31d090516ef6a22703dae87102496c0", "author": {"user": {"login": "DPUkyle", "name": "Kyle Moore"}}, "url": "https://github.com/apache/samza/commit/8665226db31d090516ef6a22703dae87102496c0", "committedDate": "2020-02-26T22:37:19Z", "message": "Update Gradle wrapper to 5.2.1\n\n - Fix built-in wrapper task to read value from gradle.properties\n - Commit new wrapper scripts and bootstrap jar\n - `$ ./gradlew wrapper` to update in the future\n - Fix maven publish behavior change; see https://docs.gradle.org/5.2.1/userguide/publishing_maven.html#publishing_maven:deferred_configuration"}, "afterCommit": {"oid": "e09fd7ebbfc0634947f8c685b08a985faa611981", "author": {"user": {"login": "DPUkyle", "name": "Kyle Moore"}}, "url": "https://github.com/apache/samza/commit/e09fd7ebbfc0634947f8c685b08a985faa611981", "committedDate": "2020-03-03T17:42:17Z", "message": "Update Gradle wrapper to 5.2.1\n\n - Fix built-in wrapper task to read value from gradle.properties\n - Commit new wrapper scripts and bootstrap jar\n - `$ ./gradlew wrapper` to update in the future\n - Fix maven publish behavior change; see https://docs.gradle.org/5.2.1/userguide/publishing_maven.html#publishing_maven:deferred_configuration"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08ebce1cfc148af1c38423d45b9fe754abd27e8f", "author": {"user": {"login": "DPUkyle", "name": "Kyle Moore"}}, "url": "https://github.com/apache/samza/commit/08ebce1cfc148af1c38423d45b9fe754abd27e8f", "committedDate": "2020-03-03T17:55:58Z", "message": "Update Gradle wrapper to 5.2.1\n\n - Fix built-in wrapper task to read value from gradle.properties\n - Commit new wrapper scripts and bootstrap jar\n - `$ ./gradlew wrapper` to update in the future\n - Fix maven publish behavior change; see https://docs.gradle.org/5.2.1/userguide/publishing_maven.html#publishing_maven:deferred_configuration"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e09fd7ebbfc0634947f8c685b08a985faa611981", "author": {"user": {"login": "DPUkyle", "name": "Kyle Moore"}}, "url": "https://github.com/apache/samza/commit/e09fd7ebbfc0634947f8c685b08a985faa611981", "committedDate": "2020-03-03T17:42:17Z", "message": "Update Gradle wrapper to 5.2.1\n\n - Fix built-in wrapper task to read value from gradle.properties\n - Commit new wrapper scripts and bootstrap jar\n - `$ ./gradlew wrapper` to update in the future\n - Fix maven publish behavior change; see https://docs.gradle.org/5.2.1/userguide/publishing_maven.html#publishing_maven:deferred_configuration"}, "afterCommit": {"oid": "08ebce1cfc148af1c38423d45b9fe754abd27e8f", "author": {"user": {"login": "DPUkyle", "name": "Kyle Moore"}}, "url": "https://github.com/apache/samza/commit/08ebce1cfc148af1c38423d45b9fe754abd27e8f", "committedDate": "2020-03-03T17:55:58Z", "message": "Update Gradle wrapper to 5.2.1\n\n - Fix built-in wrapper task to read value from gradle.properties\n - Commit new wrapper scripts and bootstrap jar\n - `$ ./gradlew wrapper` to update in the future\n - Fix maven publish behavior change; see https://docs.gradle.org/5.2.1/userguide/publishing_maven.html#publishing_maven:deferred_configuration"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4Mjc4ODU3", "url": "https://github.com/apache/samza/pull/1295#pullrequestreview-368278857", "createdAt": "2020-03-03T19:55:14Z", "commit": {"oid": "08ebce1cfc148af1c38423d45b9fe754abd27e8f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4793, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}