{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyMzM1NjY5", "number": 2591, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwNzoxMzoyOFrODeWYcw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxMTo1NToyMVrODfhK2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzMTUwNTc5OnYy", "diffSide": "RIGHT", "path": "core/org.wso2.carbon.user.core/src/main/java/org/wso2/carbon/user/core/UniqueIDUserStoreManager.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwNzoxMzoyOFrOFnb5VQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwNzoxMzoyOFrOFnb5VQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njg5NTgyOQ==", "bodyText": "No need to parse the whole user object. Just userIds are enough", "url": "https://github.com/wso2/carbon-kernel/pull/2591#discussion_r376895829", "createdAt": "2020-02-10T07:13:28Z", "author": {"login": "IsuraD"}, "path": "core/org.wso2.carbon.user.core/src/main/java/org/wso2/carbon/user/core/UniqueIDUserStoreManager.java", "diffHunk": "@@ -447,36 +468,36 @@ void updateUserListOfRoleWithID(String roleName, String[] deletedUserIDs, String\n      * Add a group to the system.\n      *\n      * @param groupName   Group's display name.\n-     * @param userIDs     List of User IDs belongs to the group.\n+     * @param users       List of User IDs belongs to the group.\n      * @param permissions List of permissions of the group.\n-     * @param attributes  Group attributes values.\n+     * @param claims      List of Claims.\n      * @return created Group object.\n      * @throws UserStoreException If an error occurs while adding a group.\n      */\n-    Group addGroup(String groupName, List<String> userIDs, List<Permission> permissions,\n-                   Map<String, String> attributes) throws UserStoreException;\n+    Group addGroup(String groupName, List<User> users, List<Permission> permissions,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "970c4e607df92441009bfb9686351e48142ddc4d"}, "originalPosition": 46}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzMTUxNjEzOnYy", "diffSide": "RIGHT", "path": "core/org.wso2.carbon.user.core/src/main/java/org/wso2/carbon/user/core/UniqueIDUserStoreManager.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMFQwNzoxOToxOVrOFnb_LA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxMTo1NDozMVrOFpRDKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njg5NzMyNA==", "bodyText": "This claim object contains claim metadata. Do you need claim metadata as parameters?", "url": "https://github.com/wso2/carbon-kernel/pull/2591#discussion_r376897324", "createdAt": "2020-02-10T07:19:19Z", "author": {"login": "IsuraD"}, "path": "core/org.wso2.carbon.user.core/src/main/java/org/wso2/carbon/user/core/UniqueIDUserStoreManager.java", "diffHunk": "@@ -447,36 +468,36 @@ void updateUserListOfRoleWithID(String roleName, String[] deletedUserIDs, String\n      * Add a group to the system.\n      *\n      * @param groupName   Group's display name.\n-     * @param userIDs     List of User IDs belongs to the group.\n+     * @param users       List of User IDs belongs to the group.\n      * @param permissions List of permissions of the group.\n-     * @param attributes  Group attributes values.\n+     * @param claims      List of Claims.\n      * @return created Group object.\n      * @throws UserStoreException If an error occurs while adding a group.\n      */\n-    Group addGroup(String groupName, List<String> userIDs, List<Permission> permissions,\n-                   Map<String, String> attributes) throws UserStoreException;\n+    Group addGroup(String groupName, List<User> users, List<Permission> permissions,\n+                   List<Claim> claims) throws UserStoreException;\n \n     /**\n      * Update group claim values.\n      *\n      * @param groupID     Group ID.\n-     * @param attributes  Map of attribute values. These values will be replaced.\n+     * @param claims      List of claims. These values will be replaced.\n      * @param permissions List of permissions.\n      * @return Updated group.\n      * @throws UserStoreException If an error occurs while updating group.\n      */\n-    Group updateGroup(String groupID, Map<String, String> attributes,\n+    Group updateGroup(String groupID, List<Claim> claims,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "970c4e607df92441009bfb9686351e48142ddc4d"}, "originalPosition": 60}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjkwNjQzOA==", "bodyText": "In the future we might be able to use. If we need to add any extra info in the future, no need of an API change. We can directly bind to the claim object", "url": "https://github.com/wso2/carbon-kernel/pull/2591#discussion_r376906438", "createdAt": "2020-02-10T07:51:38Z", "author": {"login": "GDRDABARERA"}, "path": "core/org.wso2.carbon.user.core/src/main/java/org/wso2/carbon/user/core/UniqueIDUserStoreManager.java", "diffHunk": "@@ -447,36 +468,36 @@ void updateUserListOfRoleWithID(String roleName, String[] deletedUserIDs, String\n      * Add a group to the system.\n      *\n      * @param groupName   Group's display name.\n-     * @param userIDs     List of User IDs belongs to the group.\n+     * @param users       List of User IDs belongs to the group.\n      * @param permissions List of permissions of the group.\n-     * @param attributes  Group attributes values.\n+     * @param claims      List of Claims.\n      * @return created Group object.\n      * @throws UserStoreException If an error occurs while adding a group.\n      */\n-    Group addGroup(String groupName, List<String> userIDs, List<Permission> permissions,\n-                   Map<String, String> attributes) throws UserStoreException;\n+    Group addGroup(String groupName, List<User> users, List<Permission> permissions,\n+                   List<Claim> claims) throws UserStoreException;\n \n     /**\n      * Update group claim values.\n      *\n      * @param groupID     Group ID.\n-     * @param attributes  Map of attribute values. These values will be replaced.\n+     * @param claims      List of claims. These values will be replaced.\n      * @param permissions List of permissions.\n      * @return Updated group.\n      * @throws UserStoreException If an error occurs while updating group.\n      */\n-    Group updateGroup(String groupID, Map<String, String> attributes,\n+    Group updateGroup(String groupID, List<Claim> claims,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njg5NzMyNA=="}, "originalCommit": {"oid": "970c4e607df92441009bfb9686351e48142ddc4d"}, "originalPosition": 60}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NjkwNzY3NA==", "bodyText": "I don't see any reason to parse claim metadata as parameters in the update group request. If needed we can internally retrieve the claim information using the claim API.  I think just parsing the Claim object with claim id, uir, value will be enough. (dialect if needed)", "url": "https://github.com/wso2/carbon-kernel/pull/2591#discussion_r376907674", "createdAt": "2020-02-10T07:55:18Z", "author": {"login": "IsuraD"}, "path": "core/org.wso2.carbon.user.core/src/main/java/org/wso2/carbon/user/core/UniqueIDUserStoreManager.java", "diffHunk": "@@ -447,36 +468,36 @@ void updateUserListOfRoleWithID(String roleName, String[] deletedUserIDs, String\n      * Add a group to the system.\n      *\n      * @param groupName   Group's display name.\n-     * @param userIDs     List of User IDs belongs to the group.\n+     * @param users       List of User IDs belongs to the group.\n      * @param permissions List of permissions of the group.\n-     * @param attributes  Group attributes values.\n+     * @param claims      List of Claims.\n      * @return created Group object.\n      * @throws UserStoreException If an error occurs while adding a group.\n      */\n-    Group addGroup(String groupName, List<String> userIDs, List<Permission> permissions,\n-                   Map<String, String> attributes) throws UserStoreException;\n+    Group addGroup(String groupName, List<User> users, List<Permission> permissions,\n+                   List<Claim> claims) throws UserStoreException;\n \n     /**\n      * Update group claim values.\n      *\n      * @param groupID     Group ID.\n-     * @param attributes  Map of attribute values. These values will be replaced.\n+     * @param claims      List of claims. These values will be replaced.\n      * @param permissions List of permissions.\n      * @return Updated group.\n      * @throws UserStoreException If an error occurs while updating group.\n      */\n-    Group updateGroup(String groupID, Map<String, String> attributes,\n+    Group updateGroup(String groupID, List<Claim> claims,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njg5NzMyNA=="}, "originalCommit": {"oid": "970c4e607df92441009bfb9686351e48142ddc4d"}, "originalPosition": 60}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODgxNTI3NA==", "bodyText": "created new claim in the common package", "url": "https://github.com/wso2/carbon-kernel/pull/2591#discussion_r378815274", "createdAt": "2020-02-13T11:54:31Z", "author": {"login": "GDRDABARERA"}, "path": "core/org.wso2.carbon.user.core/src/main/java/org/wso2/carbon/user/core/UniqueIDUserStoreManager.java", "diffHunk": "@@ -447,36 +468,36 @@ void updateUserListOfRoleWithID(String roleName, String[] deletedUserIDs, String\n      * Add a group to the system.\n      *\n      * @param groupName   Group's display name.\n-     * @param userIDs     List of User IDs belongs to the group.\n+     * @param users       List of User IDs belongs to the group.\n      * @param permissions List of permissions of the group.\n-     * @param attributes  Group attributes values.\n+     * @param claims      List of Claims.\n      * @return created Group object.\n      * @throws UserStoreException If an error occurs while adding a group.\n      */\n-    Group addGroup(String groupName, List<String> userIDs, List<Permission> permissions,\n-                   Map<String, String> attributes) throws UserStoreException;\n+    Group addGroup(String groupName, List<User> users, List<Permission> permissions,\n+                   List<Claim> claims) throws UserStoreException;\n \n     /**\n      * Update group claim values.\n      *\n      * @param groupID     Group ID.\n-     * @param attributes  Map of attribute values. These values will be replaced.\n+     * @param claims      List of claims. These values will be replaced.\n      * @param permissions List of permissions.\n      * @return Updated group.\n      * @throws UserStoreException If an error occurs while updating group.\n      */\n-    Group updateGroup(String groupID, Map<String, String> attributes,\n+    Group updateGroup(String groupID, List<Claim> claims,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njg5NzMyNA=="}, "originalCommit": {"oid": "970c4e607df92441009bfb9686351e48142ddc4d"}, "originalPosition": 60}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0Mzc1ODQ4OnYy", "diffSide": "RIGHT", "path": "core/org.wso2.carbon.user.core/src/main/java/org/wso2/carbon/user/core/common/Attribute.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxMTo1NToxMFrOFpREVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxMTo1NToxMFrOFpREVA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODgxNTU3Mg==", "bodyText": "Add license header.", "url": "https://github.com/wso2/carbon-kernel/pull/2591#discussion_r378815572", "createdAt": "2020-02-13T11:55:10Z", "author": {"login": "JKAUSHALYA"}, "path": "core/org.wso2.carbon.user.core/src/main/java/org/wso2/carbon/user/core/common/Attribute.java", "diffHunk": "@@ -0,0 +1,27 @@\n+package org.wso2.carbon.user.core.common;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f1205dfd3ed4a4550b4a13a7c8a97fe3b41d4dac"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0Mzc1ODk3OnYy", "diffSide": "RIGHT", "path": "core/org.wso2.carbon.user.core/src/main/java/org/wso2/carbon/user/core/common/Claim.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxMTo1NToyMVrOFpREpg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QxMTo1NToyMVrOFpREpg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODgxNTY1NA==", "bodyText": "Add license header.", "url": "https://github.com/wso2/carbon-kernel/pull/2591#discussion_r378815654", "createdAt": "2020-02-13T11:55:21Z", "author": {"login": "JKAUSHALYA"}, "path": "core/org.wso2.carbon.user.core/src/main/java/org/wso2/carbon/user/core/common/Claim.java", "diffHunk": "@@ -0,0 +1,33 @@\n+package org.wso2.carbon.user.core.common;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f1205dfd3ed4a4550b4a13a7c8a97fe3b41d4dac"}, "originalPosition": 1}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2175, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}