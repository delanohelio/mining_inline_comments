{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg3ODkzNjgy", "number": 2770, "title": "Commit the db connection when persisting domain against user id", "bodyText": "Purpose\n\nFix: wso2/product-is#8893", "createdAt": "2020-09-16T10:35:52Z", "url": "https://github.com/wso2/carbon-kernel/pull/2770", "merged": true, "mergeCommit": {"oid": "f50d5b70bec7fff60c165cc160b2385c863d89a0"}, "closed": true, "closedAt": "2020-09-17T06:55:19Z", "author": {"login": "Buddhimah"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdJZ7PMgH2gAyNDg3ODkzNjgyOjQ1MmQ4YjhjNjljODcxNWMzMmUzMDYzZTk1YjkxN2FmYzFjZTE4M2I=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdJrOVsAFqTQ5MDI4NjEyNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "452d8b8c69c8715c32e3063e95b917afc1ce183b", "author": {"user": {"login": "Buddhimah", "name": "Buddhima Udaranga"}}, "url": "https://github.com/wso2/carbon-kernel/commit/452d8b8c69c8715c32e3063e95b917afc1ce183b", "committedDate": "2020-09-16T10:34:53Z", "message": "Commit the db connection when persisting domain against user id"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ea11b5a3fe0ce58cd642b8325e71e41d6792ef0a", "author": {"user": {"login": "Buddhimah", "name": "Buddhima Udaranga"}}, "url": "https://github.com/wso2/carbon-kernel/commit/ea11b5a3fe0ce58cd642b8325e71e41d6792ef0a", "committedDate": "2020-09-16T15:27:40Z", "message": "Handle set autocommit true scenario"}, "afterCommit": {"oid": "1fe5a32c023739ddd3f0031b3a236f956212ec75", "author": {"user": {"login": "Buddhimah", "name": "Buddhima Udaranga"}}, "url": "https://github.com/wso2/carbon-kernel/commit/1fe5a32c023739ddd3f0031b3a236f956212ec75", "committedDate": "2020-09-16T15:29:14Z", "message": "Handle set autocommit true scenario"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMjE4Mzk3", "url": "https://github.com/wso2/carbon-kernel/pull/2770#pullrequestreview-490218397", "createdAt": "2020-09-17T03:31:31Z", "commit": {"oid": "1fe5a32c023739ddd3f0031b3a236f956212ec75"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwMzozMTozMVrOHTPEYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwMzozMTozMVrOHTPEYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTkzMTg3Mw==", "bodyText": "Why do we need to apply transactions for SELECT statements?", "url": "https://github.com/wso2/carbon-kernel/pull/2770#discussion_r489931873", "createdAt": "2020-09-17T03:31:31Z", "author": {"login": "ashensw"}, "path": "core/org.wso2.carbon.user.core/src/main/java/org/wso2/carbon/user/core/common/UserUniqueIDDomainResolver.java", "diffHunk": "@@ -165,7 +167,7 @@ public void setDomainForUserId(String userId, String userDomain, int tenantId) t\n     private String getDomainFromDB(String userId, int tenantId) throws UserStoreException {\n \n         String domainName = null;\n-        try (Connection dbConnection = getDBConnection();\n+        try (Connection dbConnection = getDBConnection(true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1fe5a32c023739ddd3f0031b3a236f956212ec75"}, "originalPosition": 14}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMjE5MzUy", "url": "https://github.com/wso2/carbon-kernel/pull/2770#pullrequestreview-490219352", "createdAt": "2020-09-17T03:35:12Z", "commit": {"oid": "1fe5a32c023739ddd3f0031b3a236f956212ec75"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwMzozNToxMlrOHTPM8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwMzozNToxMlrOHTPM8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTkzNDA2NQ==", "bodyText": "We need to handle the rollback as well.", "url": "https://github.com/wso2/carbon-kernel/pull/2770#discussion_r489934065", "createdAt": "2020-09-17T03:35:12Z", "author": {"login": "ashensw"}, "path": "core/org.wso2.carbon.user.core/src/main/java/org/wso2/carbon/user/core/common/UserUniqueIDDomainResolver.java", "diffHunk": "@@ -209,6 +212,7 @@ private void persistDomainAgainstUserId(String userId, String userDomain, int te\n                     preparedStatement.setInt(3, tenantId);\n                     preparedStatement.setInt(4, tenantId);\n                     preparedStatement.execute();\n+                    commitTransaction(dbConnection);\n                 }\n             }\n         } catch (SQLException ex) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1fe5a32c023739ddd3f0031b3a236f956212ec75"}, "originalPosition": 42}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1fe5a32c023739ddd3f0031b3a236f956212ec75", "author": {"user": {"login": "Buddhimah", "name": "Buddhima Udaranga"}}, "url": "https://github.com/wso2/carbon-kernel/commit/1fe5a32c023739ddd3f0031b3a236f956212ec75", "committedDate": "2020-09-16T15:29:14Z", "message": "Handle set autocommit true scenario"}, "afterCommit": {"oid": "30a8e6f54483aa2645919ff99b9f82cec07ed668", "author": {"user": {"login": "Buddhimah", "name": "Buddhima Udaranga"}}, "url": "https://github.com/wso2/carbon-kernel/commit/30a8e6f54483aa2645919ff99b9f82cec07ed668", "committedDate": "2020-09-17T03:39:42Z", "message": "Handle set autocommit true scenario"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "30a8e6f54483aa2645919ff99b9f82cec07ed668", "author": {"user": {"login": "Buddhimah", "name": "Buddhima Udaranga"}}, "url": "https://github.com/wso2/carbon-kernel/commit/30a8e6f54483aa2645919ff99b9f82cec07ed668", "committedDate": "2020-09-17T03:39:42Z", "message": "Handle set autocommit true scenario"}, "afterCommit": {"oid": "7640ea84064ef354788b38fabc59851c7dab0102", "author": {"user": {"login": "Buddhimah", "name": "Buddhima Udaranga"}}, "url": "https://github.com/wso2/carbon-kernel/commit/7640ea84064ef354788b38fabc59851c7dab0102", "committedDate": "2020-09-17T03:40:38Z", "message": "Handle set autocommit true scenario"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7640ea84064ef354788b38fabc59851c7dab0102", "author": {"user": {"login": "Buddhimah", "name": "Buddhima Udaranga"}}, "url": "https://github.com/wso2/carbon-kernel/commit/7640ea84064ef354788b38fabc59851c7dab0102", "committedDate": "2020-09-17T03:40:38Z", "message": "Handle set autocommit true scenario"}, "afterCommit": {"oid": "06425238d57a94735f8229806a622dce96b1dace", "author": {"user": {"login": "Buddhimah", "name": "Buddhima Udaranga"}}, "url": "https://github.com/wso2/carbon-kernel/commit/06425238d57a94735f8229806a622dce96b1dace", "committedDate": "2020-09-17T04:04:41Z", "message": "Handle set autocommit true scenario"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMjI4NDA0", "url": "https://github.com/wso2/carbon-kernel/pull/2770#pullrequestreview-490228404", "createdAt": "2020-09-17T04:07:39Z", "commit": {"oid": "06425238d57a94735f8229806a622dce96b1dace"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMjU1MDMw", "url": "https://github.com/wso2/carbon-kernel/pull/2770#pullrequestreview-490255030", "createdAt": "2020-09-17T05:34:46Z", "commit": {"oid": "06425238d57a94735f8229806a622dce96b1dace"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwNTozNDo0N1rOHTSErg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwNTozNDo0N1rOHTSErg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTk4MTEwMg==", "bodyText": "Should check whether autocommit is false here", "url": "https://github.com/wso2/carbon-kernel/pull/2770#discussion_r489981102", "createdAt": "2020-09-17T05:34:47Z", "author": {"login": "omindu"}, "path": "core/org.wso2.carbon.user.core/src/main/java/org/wso2/carbon/user/core/common/UserUniqueIDDomainResolver.java", "diffHunk": "@@ -233,4 +240,37 @@ private Connection getDBConnection() throws SQLException, UserStoreException {\n         }\n         return dataSource.getConnection();\n     }\n+\n+    /**\n+     * Commit the transaction.\n+     *\n+     * @param dbConnection database connection.\n+     */\n+    private void commitTransaction(Connection dbConnection) {\n+\n+        try {\n+            if (dbConnection != null && !dbConnection.getAutoCommit()) {\n+                dbConnection.commit();\n+            }\n+        } catch (SQLException e) {\n+            rollbackTransaction(dbConnection);\n+            log.error(\"An error occurred while commit transactions. \", e);\n+        }\n+    }\n+\n+    /**\n+     * Revoke the transaction when catch then sql transaction errors.\n+     *\n+     * @param dbConnection database connection.\n+     */\n+    private void rollbackTransaction(Connection dbConnection) {\n+\n+        try {\n+            if (dbConnection != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06425238d57a94735f8229806a622dce96b1dace"}, "originalPosition": 89}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMjU1NTky", "url": "https://github.com/wso2/carbon-kernel/pull/2770#pullrequestreview-490255592", "createdAt": "2020-09-17T05:36:18Z", "commit": {"oid": "06425238d57a94735f8229806a622dce96b1dace"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwNTozNjoxOFrOHTSGiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwNTozNjoxOFrOHTSGiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTk4MTU3Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        rollbackTransaction(dbConnection);\n          \n          \n            \n                        log.error(\"An error occurred while commit transactions. \", e);\n          \n          \n            \n                        log.error(\"An error occurred while commit transactions.\", e);\n          \n          \n            \n                        rollbackTransaction(dbConnection);", "url": "https://github.com/wso2/carbon-kernel/pull/2770#discussion_r489981577", "createdAt": "2020-09-17T05:36:18Z", "author": {"login": "omindu"}, "path": "core/org.wso2.carbon.user.core/src/main/java/org/wso2/carbon/user/core/common/UserUniqueIDDomainResolver.java", "diffHunk": "@@ -233,4 +240,37 @@ private Connection getDBConnection() throws SQLException, UserStoreException {\n         }\n         return dataSource.getConnection();\n     }\n+\n+    /**\n+     * Commit the transaction.\n+     *\n+     * @param dbConnection database connection.\n+     */\n+    private void commitTransaction(Connection dbConnection) {\n+\n+        try {\n+            if (dbConnection != null && !dbConnection.getAutoCommit()) {\n+                dbConnection.commit();\n+            }\n+        } catch (SQLException e) {\n+            rollbackTransaction(dbConnection);\n+            log.error(\"An error occurred while commit transactions. \", e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "06425238d57a94735f8229806a622dce96b1dace"}, "originalPosition": 77}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "06425238d57a94735f8229806a622dce96b1dace", "author": {"user": {"login": "Buddhimah", "name": "Buddhima Udaranga"}}, "url": "https://github.com/wso2/carbon-kernel/commit/06425238d57a94735f8229806a622dce96b1dace", "committedDate": "2020-09-17T04:04:41Z", "message": "Handle set autocommit true scenario"}, "afterCommit": {"oid": "ce6d08426eff4861b49f4751684c5016b0309fa0", "author": {"user": {"login": "Buddhimah", "name": "Buddhima Udaranga"}}, "url": "https://github.com/wso2/carbon-kernel/commit/ce6d08426eff4861b49f4751684c5016b0309fa0", "committedDate": "2020-09-17T05:41:10Z", "message": "Handle set autocommit true scenario"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ce6d08426eff4861b49f4751684c5016b0309fa0", "author": {"user": {"login": "Buddhimah", "name": "Buddhima Udaranga"}}, "url": "https://github.com/wso2/carbon-kernel/commit/ce6d08426eff4861b49f4751684c5016b0309fa0", "committedDate": "2020-09-17T05:41:10Z", "message": "Handle set autocommit true scenario"}, "afterCommit": {"oid": "70c564e6b50720f3652cd8ea4ab843b99385b8d8", "author": {"user": {"login": "Buddhimah", "name": "Buddhima Udaranga"}}, "url": "https://github.com/wso2/carbon-kernel/commit/70c564e6b50720f3652cd8ea4ab843b99385b8d8", "committedDate": "2020-09-17T05:44:06Z", "message": "Handle set autocommit true scenario"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMjc2NjAz", "url": "https://github.com/wso2/carbon-kernel/pull/2770#pullrequestreview-490276603", "createdAt": "2020-09-17T06:25:45Z", "commit": {"oid": "70c564e6b50720f3652cd8ea4ab843b99385b8d8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwNjoyNTo0NVrOHTTKMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwNjoyNTo0NVrOHTTKMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTk5ODg5Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        log.error(\"An error occurred while commit transactions. \", e);\n          \n          \n            \n                        log.error(\"An error occurred while transaction commit.\", e);", "url": "https://github.com/wso2/carbon-kernel/pull/2770#discussion_r489998897", "createdAt": "2020-09-17T06:25:45Z", "author": {"login": "omindu"}, "path": "core/org.wso2.carbon.user.core/src/main/java/org/wso2/carbon/user/core/common/UserUniqueIDDomainResolver.java", "diffHunk": "@@ -233,4 +240,37 @@ private Connection getDBConnection() throws SQLException, UserStoreException {\n         }\n         return dataSource.getConnection();\n     }\n+\n+    /**\n+     * Commit the transaction.\n+     *\n+     * @param dbConnection database connection.\n+     */\n+    private void commitTransaction(Connection dbConnection) {\n+\n+        try {\n+            if (dbConnection != null && !dbConnection.getAutoCommit()) {\n+                dbConnection.commit();\n+            }\n+        } catch (SQLException e) {\n+            log.error(\"An error occurred while commit transactions. \", e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70c564e6b50720f3652cd8ea4ab843b99385b8d8"}, "originalPosition": 76}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMjc3Mjgw", "url": "https://github.com/wso2/carbon-kernel/pull/2770#pullrequestreview-490277280", "createdAt": "2020-09-17T06:27:08Z", "commit": {"oid": "70c564e6b50720f3652cd8ea4ab843b99385b8d8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwNjoyNzowOFrOHTTMgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwNjoyNzowOFrOHTTMgg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTk5OTQ5MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Revoke the transaction when catch then sql transaction errors.\n          \n          \n            \n                 * Rollback a transaction.", "url": "https://github.com/wso2/carbon-kernel/pull/2770#discussion_r489999490", "createdAt": "2020-09-17T06:27:08Z", "author": {"login": "omindu"}, "path": "core/org.wso2.carbon.user.core/src/main/java/org/wso2/carbon/user/core/common/UserUniqueIDDomainResolver.java", "diffHunk": "@@ -233,4 +240,37 @@ private Connection getDBConnection() throws SQLException, UserStoreException {\n         }\n         return dataSource.getConnection();\n     }\n+\n+    /**\n+     * Commit the transaction.\n+     *\n+     * @param dbConnection database connection.\n+     */\n+    private void commitTransaction(Connection dbConnection) {\n+\n+        try {\n+            if (dbConnection != null && !dbConnection.getAutoCommit()) {\n+                dbConnection.commit();\n+            }\n+        } catch (SQLException e) {\n+            log.error(\"An error occurred while commit transactions. \", e);\n+            rollbackTransaction(dbConnection);\n+        }\n+    }\n+\n+    /**\n+     * Revoke the transaction when catch then sql transaction errors.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70c564e6b50720f3652cd8ea4ab843b99385b8d8"}, "originalPosition": 82}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMjc3NjQ0", "url": "https://github.com/wso2/carbon-kernel/pull/2770#pullrequestreview-490277644", "createdAt": "2020-09-17T06:27:45Z", "commit": {"oid": "70c564e6b50720f3652cd8ea4ab843b99385b8d8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwNjoyNzo0NlrOHTTNyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwNjoyNzo0NlrOHTTNyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTk5OTgxOQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        log.error(\"An error occurred while rolling back transactions.\", e);\n          \n          \n            \n                        log.error(\"An error occurred while transaction rollback.\", e);", "url": "https://github.com/wso2/carbon-kernel/pull/2770#discussion_r489999819", "createdAt": "2020-09-17T06:27:46Z", "author": {"login": "omindu"}, "path": "core/org.wso2.carbon.user.core/src/main/java/org/wso2/carbon/user/core/common/UserUniqueIDDomainResolver.java", "diffHunk": "@@ -233,4 +240,37 @@ private Connection getDBConnection() throws SQLException, UserStoreException {\n         }\n         return dataSource.getConnection();\n     }\n+\n+    /**\n+     * Commit the transaction.\n+     *\n+     * @param dbConnection database connection.\n+     */\n+    private void commitTransaction(Connection dbConnection) {\n+\n+        try {\n+            if (dbConnection != null && !dbConnection.getAutoCommit()) {\n+                dbConnection.commit();\n+            }\n+        } catch (SQLException e) {\n+            log.error(\"An error occurred while commit transactions. \", e);\n+            rollbackTransaction(dbConnection);\n+        }\n+    }\n+\n+    /**\n+     * Revoke the transaction when catch then sql transaction errors.\n+     *\n+     * @param dbConnection database connection.\n+     */\n+    private void rollbackTransaction(Connection dbConnection) {\n+\n+        try {\n+            if (dbConnection != null && !dbConnection.getAutoCommit()) {\n+                dbConnection.rollback();\n+            }\n+        } catch (SQLException e) {\n+            log.error(\"An error occurred while rolling back transactions.\", e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70c564e6b50720f3652cd8ea4ab843b99385b8d8"}, "originalPosition": 93}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMjc3NzY5", "url": "https://github.com/wso2/carbon-kernel/pull/2770#pullrequestreview-490277769", "createdAt": "2020-09-17T06:27:59Z", "commit": {"oid": "70c564e6b50720f3652cd8ea4ab843b99385b8d8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwNjoyNzo1OVrOHTTOMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xN1QwNjoyNzo1OVrOHTTOMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4OTk5OTkyMQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                 * Commit the transaction.\n          \n          \n            \n                 * Commit a transaction.", "url": "https://github.com/wso2/carbon-kernel/pull/2770#discussion_r489999921", "createdAt": "2020-09-17T06:27:59Z", "author": {"login": "omindu"}, "path": "core/org.wso2.carbon.user.core/src/main/java/org/wso2/carbon/user/core/common/UserUniqueIDDomainResolver.java", "diffHunk": "@@ -233,4 +240,37 @@ private Connection getDBConnection() throws SQLException, UserStoreException {\n         }\n         return dataSource.getConnection();\n     }\n+\n+    /**\n+     * Commit the transaction.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70c564e6b50720f3652cd8ea4ab843b99385b8d8"}, "originalPosition": 65}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "70c564e6b50720f3652cd8ea4ab843b99385b8d8", "author": {"user": {"login": "Buddhimah", "name": "Buddhima Udaranga"}}, "url": "https://github.com/wso2/carbon-kernel/commit/70c564e6b50720f3652cd8ea4ab843b99385b8d8", "committedDate": "2020-09-17T05:44:06Z", "message": "Handle set autocommit true scenario"}, "afterCommit": {"oid": "29edd4b5a79969e7def2e6b46919723a958b81a8", "author": {"user": {"login": "Buddhimah", "name": "Buddhima Udaranga"}}, "url": "https://github.com/wso2/carbon-kernel/commit/29edd4b5a79969e7def2e6b46919723a958b81a8", "committedDate": "2020-09-17T06:41:35Z", "message": "Handle set autocommit true scenario"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b47d5a220350767864c91accaa5a28a191d62d10", "author": {"user": {"login": "Buddhimah", "name": "Buddhima Udaranga"}}, "url": "https://github.com/wso2/carbon-kernel/commit/b47d5a220350767864c91accaa5a28a191d62d10", "committedDate": "2020-09-17T06:42:11Z", "message": "Handle set autocommit true scenario"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "29edd4b5a79969e7def2e6b46919723a958b81a8", "author": {"user": {"login": "Buddhimah", "name": "Buddhima Udaranga"}}, "url": "https://github.com/wso2/carbon-kernel/commit/29edd4b5a79969e7def2e6b46919723a958b81a8", "committedDate": "2020-09-17T06:41:35Z", "message": "Handle set autocommit true scenario"}, "afterCommit": {"oid": "b47d5a220350767864c91accaa5a28a191d62d10", "author": {"user": {"login": "Buddhimah", "name": "Buddhima Udaranga"}}, "url": "https://github.com/wso2/carbon-kernel/commit/b47d5a220350767864c91accaa5a28a191d62d10", "committedDate": "2020-09-17T06:42:11Z", "message": "Handle set autocommit true scenario"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkwMjg2MTI0", "url": "https://github.com/wso2/carbon-kernel/pull/2770#pullrequestreview-490286124", "createdAt": "2020-09-17T06:44:08Z", "commit": {"oid": "b47d5a220350767864c91accaa5a28a191d62d10"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2062, "cost": 1, "resetAt": "2021-11-02T10:47:05Z"}}}