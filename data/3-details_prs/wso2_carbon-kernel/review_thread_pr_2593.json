{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzczNTI2OTky", "number": 2593, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxMTo0MzoxOVrODexd9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxMTo0MzoxOVrODexd9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMzNTk0MzU2OnYy", "diffSide": "RIGHT", "path": "core/org.wso2.carbon.user.core/src/main/java/org/wso2/carbon/user/core/hybrid/HybridRoleManager.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxMTo0MzoxOVrOFoF82w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMVQxMTo0MzoxOVrOFoF82w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NzU4NDg1OQ==", "bodyText": "Shall we simplify this since both else statements have the same body", "url": "https://github.com/wso2/carbon-kernel/pull/2593#discussion_r377584859", "createdAt": "2020-02-11T11:43:19Z", "author": {"login": "IsuraD"}, "path": "core/org.wso2.carbon.user.core/src/main/java/org/wso2/carbon/user/core/hybrid/HybridRoleManager.java", "diffHunk": "@@ -257,10 +259,38 @@ public boolean isExistingRole(String roleName) throws UserStoreException {\n             if (dbConnection.getTransactionIsolation() != Connection.TRANSACTION_READ_COMMITTED) {\n                 dbConnection.setTransactionIsolation(Connection.TRANSACTION_READ_COMMITTED);\n             }\n+\n+            String dbType = DatabaseCreator.getDatabaseType(dbConnection);\n+\n+            if (DB2.equalsIgnoreCase(dbType)) {\n+                if (filter.startsWith(UserCoreConstants.INTERNAL_DOMAIN)) {\n+                    sqlStmt = HybridJDBCConstants.GET_INTERNAL_ROLES_DB2;\n+                } else {\n+                    sqlStmt = HybridJDBCConstants.GET_ROLES;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fdc21a8755060f95719578d182ee22277440576f"}, "originalPosition": 29}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2177, "cost": 1, "resetAt": "2021-11-13T14:23:39Z"}}}