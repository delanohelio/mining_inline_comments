{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI5MDU5Mjg4", "number": 3396, "title": "refactor: introduce ModificationStatus for better readability", "bodyText": "", "createdAt": "2020-06-06T08:24:55Z", "url": "https://github.com/INRIA/spoon/pull/3396", "merged": true, "mergeCommit": {"oid": "e39950eb1a3749bd661019491cb4302561a947cd"}, "closed": true, "closedAt": "2020-06-08T16:18:17Z", "author": {"login": "monperrus"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcohSy7gH2gAyNDI5MDU5Mjg4OjVhZjEyMDQ2MTZhNTk2ZGUwYWY0MmMzNzZiNjY2MzcyNmRkNDhiNjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcpLQQEgH2gAyNDI5MDU5Mjg4OmNiMGFhMThmMzE3NzQ1MDMyYjgzZDc4ZTU2ZTVmOTA3ZjQ3OTc4MWM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5af1204616a596de0af42c376b6663726dd48b69", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/5af1204616a596de0af42c376b6663726dd48b69", "committedDate": "2020-06-06T06:30:27Z", "message": "up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aa259840c0a25b9b8f9c16ccbbd437bd8914716a", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/aa259840c0a25b9b8f9c16ccbbd437bd8914716a", "committedDate": "2020-06-06T08:23:58Z", "message": "up"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NzcxNTky", "url": "https://github.com/INRIA/spoon/pull/3396#pullrequestreview-425771592", "createdAt": "2020-06-06T21:57:13Z", "commit": {"oid": "aa259840c0a25b9b8f9c16ccbbd437bd8914716a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNlQyMTo1NzoxM1rOGgF3mA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNlQyMTo1NzoxM1rOGgF3mA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjMwMzc2OA==", "bodyText": "update comment, null value is not returned anymore?", "url": "https://github.com/INRIA/spoon/pull/3396#discussion_r436303768", "createdAt": "2020-06-06T21:57:13Z", "author": {"login": "MartinWitt"}, "path": "src/main/java/spoon/support/sniper/internal/AbstractSourceFragmentPrinter.java", "diffHunk": "@@ -133,29 +133,29 @@ protected void printSpaces(int fragmentIndex) {\n \t * \tfalse if whole `fragment` is not modified.\n \t * \tnull if it is not possible to detect it here. Then it will be detected later.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa259840c0a25b9b8f9c16ccbbd437bd8914716a"}, "originalPosition": 2}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NzcyMDY0", "url": "https://github.com/INRIA/spoon/pull/3396#pullrequestreview-425772064", "createdAt": "2020-06-06T22:07:24Z", "commit": {"oid": "aa259840c0a25b9b8f9c16ccbbd437bd8914716a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNlQyMjowNzoyNFrOGgF53Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNlQyMjowNzoyNFrOGgF53Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjMwNDM0OQ==", "bodyText": "shouldn't this be abstract and all Enum constants implement this? Otherwise every new enum item would need a change in this method.", "url": "https://github.com/INRIA/spoon/pull/3396#discussion_r436304349", "createdAt": "2020-06-06T22:07:24Z", "author": {"login": "MartinWitt"}, "path": "src/main/java/spoon/support/sniper/internal/ModificationStatus.java", "diffHunk": "@@ -0,0 +1,32 @@\n+/**\n+ * SPDX-License-Identifier: (MIT OR CECILL-C)\n+ *\n+ * Copyright (C) 2006-2019 INRIA and contributors\n+ *\n+ * Spoon is available either under the terms of the MIT License (see LICENSE-MIT.txt) of the Cecill-C License (see LICENSE-CECILL-C.txt). You as the user are entitled to choose the terms under which to adopt Spoon.\n+ */\n+package spoon.support.sniper.internal;\n+\n+/** represents whether a {@link spoon.support.sniper.internal.SourceFragment} has been modified, and should be reprinted as is or with the normal pretty-printer */\n+public enum ModificationStatus {\n+\tUNKNOWN,\n+\tMODIFIED,\n+\tNOT_MODIFIED;\n+\n+\tpublic static ModificationStatus fromBoolean(Boolean b) {\n+\t\tif (b) {\n+\t\t\treturn MODIFIED;\n+\t\t}\n+\t\treturn NOT_MODIFIED;\n+\t}\n+\n+\tpublic boolean toBoolean() {\n+\t\tif (this == MODIFIED) {\n+\t\t\treturn true;\n+\t\t}\n+\t\tif (this == NOT_MODIFIED) {\n+\t\t\treturn false;\n+\t\t}\n+\t\tthrow new IllegalStateException();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa259840c0a25b9b8f9c16ccbbd437bd8914716a"}, "originalPosition": 30}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NzcyMTEy", "url": "https://github.com/INRIA/spoon/pull/3396#pullrequestreview-425772112", "createdAt": "2020-06-06T22:08:22Z", "commit": {"oid": "aa259840c0a25b9b8f9c16ccbbd437bd8914716a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNlQyMjowODoyMlrOGgF6Hw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNlQyMjowODoyMlrOGgF6Hw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNjMwNDQxNQ==", "bodyText": "update comment, null value is not returned anymore?", "url": "https://github.com/INRIA/spoon/pull/3396#discussion_r436304415", "createdAt": "2020-06-06T22:08:22Z", "author": {"login": "MartinWitt"}, "path": "src/main/java/spoon/support/sniper/internal/AbstractSourceFragmentContextCollection.java", "diffHunk": "@@ -69,10 +69,10 @@ public boolean knowsHowToPrint(PrinterEvent event) {\n \t}\n \n \t@Override\n-\tprotected Boolean isFragmentModified(SourceFragment fragment) {\n+\tprotected ModificationStatus isFragmentModified(SourceFragment fragment) {\n \t\t//we cannot fast detect if it is modified using our changeResolver.\n \t\t//So return null. The code later will detect it including modified roles.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa259840c0a25b9b8f9c16ccbbd437bd8914716a"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3bc27bf33d873d5407b5f0e41095ffee00022168", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/3bc27bf33d873d5407b5f0e41095ffee00022168", "committedDate": "2020-06-07T20:20:12Z", "message": "@monperrus at work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a34b8a0a5d89045c9e91d563ad8c3fecae064042", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/a34b8a0a5d89045c9e91d563ad8c3fecae064042", "committedDate": "2020-06-07T20:34:53Z", "message": "up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d79e6a564fb3d0c7fa33c457ae07ea0c387428c", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/3d79e6a564fb3d0c7fa33c457ae07ea0c387428c", "committedDate": "2020-06-07T20:36:57Z", "message": "up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2f29b32169140a1de460c16a78ed6cb698695384", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/2f29b32169140a1de460c16a78ed6cb698695384", "committedDate": "2020-06-07T20:49:17Z", "message": "@monperrus at work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa53315bfed34e6e2a0c9865052d3115188989eb", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/fa53315bfed34e6e2a0c9865052d3115188989eb", "committedDate": "2020-06-07T20:57:00Z", "message": "@monperrus at work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77185cfab6fd43582eebb25bd0bff0dc8c1d0442", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/77185cfab6fd43582eebb25bd0bff0dc8c1d0442", "committedDate": "2020-06-07T21:11:10Z", "message": "delete SourceFragmentContextSet"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "129ab647cfa4670f3e752f087ab0137c894972fc", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/129ab647cfa4670f3e752f087ab0137c894972fc", "committedDate": "2020-06-07T21:42:28Z", "message": "@monperrus at work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb0aa18f317745032b83d78e56e5f907f479781c", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/cb0aa18f317745032b83d78e56e5f907f479781c", "committedDate": "2020-06-08T07:23:41Z", "message": "@monperrus at work"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1376, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}