{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzczODM4NTk2", "number": 3244, "title": "chore(checkstyle): add check for internal imports", "bodyText": "Fix for #3186. Spoon has a lot of jdt.internal imports so we cant reject them in checkstyle.\nBut the regex ^(?!.*(spoon|jdt)).*internal.*$ should catch all other unwanted internal imports.\nThe update of the checkstyle version from 3.0.0 to 3.1.0 is necessary, because 3.0.0 does not contain regex property.", "createdAt": "2020-02-11T19:28:36Z", "url": "https://github.com/INRIA/spoon/pull/3244", "merged": true, "mergeCommit": {"oid": "12543fe820c89ec846c24b71f81fb83c5cb5cf5f"}, "closed": true, "closedAt": "2020-02-14T07:17:19Z", "author": {"login": "MartinWitt"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcDWywEAH2gAyMzczODM4NTk2OmE3NTc3OGVjMDU0ZTM4YTJiNmNhMTNhZjQ2NGJlYmE3OWJlYzhhYTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcD8kH-gFqTM1ODMwMzc3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a75778ec054e38a2b6ca13af464beba79bec8aa1", "author": {"user": {"login": "MartinWitt", "name": null}}, "url": "https://github.com/INRIA/spoon/commit/a75778ec054e38a2b6ca13af464beba79bec8aa1", "committedDate": "2020-02-11T19:21:12Z", "message": "add check for internal packages expect jdt and spoon. Update checkstyle version because regex property is needed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3ea8bed819160227b7b11df335da6ff53b279656", "author": {"user": {"login": "MartinWitt", "name": null}}, "url": "https://github.com/INRIA/spoon/commit/3ea8bed819160227b7b11df335da6ff53b279656", "committedDate": "2020-02-12T16:03:47Z", "message": "update all checkstyle versions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4MDQyOTg5", "url": "https://github.com/INRIA/spoon/pull/3244#pullrequestreview-358042989", "createdAt": "2020-02-13T08:53:52Z", "commit": {"oid": "3ea8bed819160227b7b11df335da6ff53b279656"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QwODo1Mzo1MlrOFpLcqg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QwODo1Mzo1MlrOFpLcqg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODcyMzQ5OA==", "bodyText": "Could you provide some examples in a comment of what exactly you want to catch? I'm not sure to understand it in the context of the PR so I guess I won't understand it at all in few weeks :)\nThe regexp is to define which imports are illegal? Or in which package to look for illegal classes? So for example, does it look in https://github.com/INRIA/spoon/blob/master/src/main/java/spoon/support/compiler/jdt/JDTImportBuilder.java? Thanks!", "url": "https://github.com/INRIA/spoon/pull/3244#discussion_r378723498", "createdAt": "2020-02-13T08:53:52Z", "author": {"login": "surli"}, "path": "checkstyle.xml", "diffHunk": "@@ -28,6 +28,10 @@\n     <module name=\"AvoidStarImport\"/>\n     <module name=\"IllegalImport\"/> <!-- defaults to sun.* packages -->\n     <module name=\"RedundantImport\"/>\n+    <module name=\"IllegalImport\">\n+      <property name=\"regexp\" value=\"true\" />\n+      <property name=\"illegalClasses\" value=\"^(?!.*(spoon|jdt)).*internal.*$\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3ea8bed819160227b7b11df335da6ff53b279656"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd10c80b3b83f506efc5896d5f1fb329ea279fe7", "author": {"user": {"login": "MartinWitt", "name": null}}, "url": "https://github.com/INRIA/spoon/commit/cd10c80b3b83f506efc5896d5f1fb329ea279fe7", "committedDate": "2020-02-13T15:19:51Z", "message": "add comment to import check for clarification"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4MzAzNzc2", "url": "https://github.com/INRIA/spoon/pull/3244#pullrequestreview-358303776", "createdAt": "2020-02-13T15:21:37Z", "commit": {"oid": "cd10c80b3b83f506efc5896d5f1fb329ea279fe7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1388, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}