{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2OTA3NTY5", "number": 3627, "title": "test: Add testcases for Text Blocks introduced in Java 15", "bodyText": "Testcases from examples at https://openjdk.java.net/jeps/378\nWith this, the only other language changes for Java 15 will be preview features and hence Spoon can fully support Java 15.\nRelated  #3605", "createdAt": "2020-10-02T13:28:40Z", "url": "https://github.com/INRIA/spoon/pull/3627", "merged": true, "mergeCommit": {"oid": "e4c7cb93eec4d31aca95f1d1aba02aac4cd68c37"}, "closed": true, "closedAt": "2020-10-05T16:12:04Z", "author": {"login": "LakshyAAAgrawal"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdOmIkyAFqTUwMTE0MjI2Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdPHqOEgH2gAyNDk2OTA3NTY5OmQyM2EyMGRlMGQ4MjA2MmZjYzcwMDhlYzFlOWIyYjU5NTVjNjFjYzk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxMTQyMjY3", "url": "https://github.com/INRIA/spoon/pull/3627#pullrequestreview-501142267", "createdAt": "2020-10-02T13:37:56Z", "commit": {"oid": "27a6cb946171c0424e21890f2c4a9f87f156bd9f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxMzozNzo1NlrOHbt9YA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxMzozNzo1NlrOHbt9YA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODgyNjU5Mg==", "bodyText": "split it in 3 testcases?", "url": "https://github.com/INRIA/spoon/pull/3627#discussion_r498826592", "createdAt": "2020-10-02T13:37:56Z", "author": {"login": "MartinWitt"}, "path": "src/test/java/spoon/test/textBlocks/TextBlockTest.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package spoon.test.textBlocks;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+import org.junit.Test;\n+\n+import spoon.Launcher;\n+import spoon.reflect.code.CtInvocation;\n+import spoon.reflect.code.CtLiteral;\n+import spoon.reflect.code.CtStatement;\n+import spoon.reflect.code.CtTry;\n+import spoon.reflect.declaration.CtClass;\n+import spoon.reflect.declaration.CtMethod;\n+\n+public class TextBlockTest{\n+\tprivate Launcher setUpTest() {\n+\t\tLauncher launcher = new Launcher();\n+\t\tlauncher.addInputResource(\"./src/test/resources/textBlock/TextBlockTestClass.java\");\n+\t\tlauncher.run();\n+\t\treturn launcher;\n+\t}\n+\t\n+\t@Test\n+\tpublic void testTextBlock(){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27a6cb946171c0424e21890f2c4a9f87f156bd9f"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxMTQzMTgw", "url": "https://github.com/INRIA/spoon/pull/3627#pullrequestreview-501143180", "createdAt": "2020-10-02T13:38:59Z", "commit": {"oid": "27a6cb946171c0424e21890f2c4a9f87f156bd9f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxMzozODo1OVrOHbt_ng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxMzozODo1OVrOHbt_ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODgyNzE2Ng==", "bodyText": "maybe use TypeFilter for more stable. Get(Number) is pretty unstable for a testcase. If we change order in any future case", "url": "https://github.com/INRIA/spoon/pull/3627#discussion_r498827166", "createdAt": "2020-10-02T13:38:59Z", "author": {"login": "MartinWitt"}, "path": "src/test/java/spoon/test/textBlocks/TextBlockTest.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package spoon.test.textBlocks;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+import org.junit.Test;\n+\n+import spoon.Launcher;\n+import spoon.reflect.code.CtInvocation;\n+import spoon.reflect.code.CtLiteral;\n+import spoon.reflect.code.CtStatement;\n+import spoon.reflect.code.CtTry;\n+import spoon.reflect.declaration.CtClass;\n+import spoon.reflect.declaration.CtMethod;\n+\n+public class TextBlockTest{\n+\tprivate Launcher setUpTest() {\n+\t\tLauncher launcher = new Launcher();\n+\t\tlauncher.addInputResource(\"./src/test/resources/textBlock/TextBlockTestClass.java\");\n+\t\tlauncher.run();\n+\t\treturn launcher;\n+\t}\n+\t\n+\t@Test\n+\tpublic void testTextBlock(){\n+\t\tLauncher launcher = setUpTest();\n+\t\tCtClass<?> allstmt = (CtClass<?>) launcher.getFactory().Type().get(\"textBlock.TextBlockTestClass\");\n+\t\tCtMethod<?> m1 =  allstmt.getMethod(\"m1\");\n+\t\tCtStatement stmt1 = m1.getBody().getStatement(0);\n+\t\tCtLiteral l1 = (CtLiteral) stmt1.getDirectChildren().get(1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27a6cb946171c0424e21890f2c4a9f87f156bd9f"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTAxMTQ0MDYx", "url": "https://github.com/INRIA/spoon/pull/3627#pullrequestreview-501144061", "createdAt": "2020-10-02T13:40:02Z", "commit": {"oid": "27a6cb946171c0424e21890f2c4a9f87f156bd9f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxMzo0MDowM1rOHbuCEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMlQxMzo0MDowM1rOHbuCEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODgyNzc5Mg==", "bodyText": "In Spoon every testcase has a comment //contract: ... describing the testcase in natural language", "url": "https://github.com/INRIA/spoon/pull/3627#discussion_r498827792", "createdAt": "2020-10-02T13:40:03Z", "author": {"login": "MartinWitt"}, "path": "src/test/java/spoon/test/textBlocks/TextBlockTest.java", "diffHunk": "@@ -0,0 +1,49 @@\n+package spoon.test.textBlocks;\n+\n+import static org.junit.Assert.assertEquals;\n+\n+import org.junit.Test;\n+\n+import spoon.Launcher;\n+import spoon.reflect.code.CtInvocation;\n+import spoon.reflect.code.CtLiteral;\n+import spoon.reflect.code.CtStatement;\n+import spoon.reflect.code.CtTry;\n+import spoon.reflect.declaration.CtClass;\n+import spoon.reflect.declaration.CtMethod;\n+\n+public class TextBlockTest{\n+\tprivate Launcher setUpTest() {\n+\t\tLauncher launcher = new Launcher();\n+\t\tlauncher.addInputResource(\"./src/test/resources/textBlock/TextBlockTestClass.java\");\n+\t\tlauncher.run();\n+\t\treturn launcher;\n+\t}\n+\t\n+\t@Test\n+\tpublic void testTextBlock(){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "27a6cb946171c0424e21890f2c4a9f87f156bd9f"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3c268c248b7e3640628263f667106e6b92053693", "author": {"user": {"login": "LakshyAAAgrawal", "name": "Lakshya A Agrawal"}}, "url": "https://github.com/INRIA/spoon/commit/3c268c248b7e3640628263f667106e6b92053693", "committedDate": "2020-10-03T04:59:08Z", "message": "Add testcases for Text Block introduced in Java 15"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3b8e229f4a30264a8a397e963134185b2f60b46", "author": {"user": {"login": "LakshyAAAgrawal", "name": "Lakshya A Agrawal"}}, "url": "https://github.com/INRIA/spoon/commit/a3b8e229f4a30264a8a397e963134185b2f60b46", "committedDate": "2020-10-03T04:59:08Z", "message": "Add contract comment for testcases and split testcases among multiple tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1dff2425e4e84d41e647c7a51597fe6895023baa", "author": {"user": {"login": "LakshyAAAgrawal", "name": "Lakshya A Agrawal"}}, "url": "https://github.com/INRIA/spoon/commit/1dff2425e4e84d41e647c7a51597fe6895023baa", "committedDate": "2020-10-03T04:59:08Z", "message": "Add Unicode and empty text test"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "591e3b55e5e4a201163c371e260f8a3c89b8e8f9", "author": {"user": {"login": "LakshyAAAgrawal", "name": "Lakshya A Agrawal"}}, "url": "https://github.com/INRIA/spoon/commit/591e3b55e5e4a201163c371e260f8a3c89b8e8f9", "committedDate": "2020-10-02T18:08:25Z", "message": "Add Unicode and empty text test"}, "afterCommit": {"oid": "1dff2425e4e84d41e647c7a51597fe6895023baa", "author": {"user": {"login": "LakshyAAAgrawal", "name": "Lakshya A Agrawal"}}, "url": "https://github.com/INRIA/spoon/commit/1dff2425e4e84d41e647c7a51597fe6895023baa", "committedDate": "2020-10-03T04:59:08Z", "message": "Add Unicode and empty text test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "973819bf56030cfd8e58482eea9244107ad7d012", "author": {"user": {"login": "LakshyAAAgrawal", "name": "Lakshya A Agrawal"}}, "url": "https://github.com/INRIA/spoon/commit/973819bf56030cfd8e58482eea9244107ad7d012", "committedDate": "2020-10-03T09:57:04Z", "message": "Add Unicode 13 emoji"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b35f381523835fdc7bc9c6d1304a08a709f41c27", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/b35f381523835fdc7bc9c6d1304a08a709f41c27", "committedDate": "2020-10-04T04:32:29Z", "message": "Update TextBlockTest.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1a75a877f31e919c8d93a82aa5b12abe90ce64a4", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/1a75a877f31e919c8d93a82aa5b12abe90ce64a4", "committedDate": "2020-10-04T04:37:13Z", "message": "Update TextBlockTest.java"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d23a20de0d82062fcc7008ec1e9b2b5955c61cc9", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/d23a20de0d82062fcc7008ec1e9b2b5955c61cc9", "committedDate": "2020-10-04T04:41:33Z", "message": "Update TextBlockTest.java"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1307, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}