{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU4ODI0MTkz", "number": 3513, "title": "fix: Use real name of the tag if it is unknwon", "bodyText": "When generating LSIF file using spoon, we use (CtClass)ctClass.getDocComment to fetch doc comment of the class to display hover result.\nHowever, spoon regards user-defined tag (e.g. @email @create ) as '@unknown', it is really unfriendly for printing hover content. Usually the class hover would be:\nExample class\n@author zxdxjtu\n@unknwon zhangxindong888@163.com\n@unknown 2020-07-30 10:24\nTo solve this problem, I retain the real name of the comment tag and use real name of the rag instead of TagType.name when printing doc comment to avoid '@unknown' condition.", "createdAt": "2020-07-30T02:24:06Z", "url": "https://github.com/INRIA/spoon/pull/3513", "merged": true, "mergeCommit": {"oid": "52d4df93b71c7d4517f819fcf81e9c0c1c680c24"}, "closed": true, "closedAt": "2020-09-11T18:58:53Z", "author": {"login": "zxdxjtu"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc51yAKgH2gAyNDU4ODI0MTkzOmQwNjUwYzgzMTIzN2Y1NmRkNTYzYzU5ZjRhMDJlYmUxZjk4NzQ4NzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdHzkGvAFqTQ4NjcxOTMxMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d0650c831237f56dd563c59f4a02ebe1f9874872", "author": {"user": null}, "url": "https://github.com/INRIA/spoon/commit/d0650c831237f56dd563c59f4a02ebe1f9874872", "committedDate": "2020-07-30T01:59:21Z", "message": "feat(Java doc tag): add real name to Java doc tag\n\nGiven the scenario that we need to show javadoc comment on LSIF hover, we need realname of the tag\ninstead of UNKNOWN tag"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d99120ada9c525b84b493a01d35e7b90332b7d8f", "author": {"user": null}, "url": "https://github.com/INRIA/spoon/commit/d99120ada9c525b84b493a01d35e7b90332b7d8f", "committedDate": "2020-07-30T02:01:06Z", "message": "feat(Comment creator): Use real name to print comment tag\n\nRetain real name when parsing javadoc comment, and pretty print the realname tag instead of using\nUNKNOWN"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34bd0965c92699deb93735da358f78f16aad7000", "author": {"user": null}, "url": "https://github.com/INRIA/spoon/commit/34bd0965c92699deb93735da358f78f16aad7000", "committedDate": "2020-07-30T10:09:32Z", "message": "feat(comment helper): fix test case"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NTY0Njcw", "url": "https://github.com/INRIA/spoon/pull/3513#pullrequestreview-459564670", "createdAt": "2020-08-01T08:44:15Z", "commit": {"oid": "34bd0965c92699deb93735da358f78f16aad7000"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMVQwODo0NDoxNVrOG6crYg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMVQwODo0NDo1NVrOG6crmw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzk0MDQ1MA==", "bodyText": "please avoid breaking changes, add a constructor instead", "url": "https://github.com/INRIA/spoon/pull/3513#discussion_r463940450", "createdAt": "2020-08-01T08:44:15Z", "author": {"login": "monperrus"}, "path": "src/main/java/spoon/javadoc/internal/JavadocBlockTag.java", "diffHunk": "@@ -32,20 +32,22 @@\n \tprivate JavadocDescription content;\n \tprivate String name = \"\";\n \tprivate String tagName;\n+\tprivate String tagRealName;\n \n-\tpublic JavadocBlockTag(CtJavaDocTag.TagType type, String content) {\n+\tpublic JavadocBlockTag(CtJavaDocTag.TagType type, String tagRealName, String content) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34bd0965c92699deb93735da358f78f16aad7000"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzk0MDUwNw==", "bodyText": "no breaking change in the factory", "url": "https://github.com/INRIA/spoon/pull/3513#discussion_r463940507", "createdAt": "2020-08-01T08:44:55Z", "author": {"login": "monperrus"}, "path": "src/main/java/spoon/reflect/factory/CodeFactory.java", "diffHunk": "@@ -710,7 +710,7 @@ public CtComment createInlineComment(String content) {\n \t * @param type The tag type\n \t * @return a new CtJavaDocTag\n \t */\n-\tpublic CtJavaDocTag createJavaDocTag(String content, CtJavaDocTag.TagType type) {\n+\tpublic CtJavaDocTag createJavaDocTag(String content, CtJavaDocTag.TagType type, String realName) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "34bd0965c92699deb93735da358f78f16aad7000"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3fa5121fd5d57d2a24e1a40b22729afcaa03d782", "author": {"user": null}, "url": "https://github.com/INRIA/spoon/commit/3fa5121fd5d57d2a24e1a40b22729afcaa03d782", "committedDate": "2020-08-11T09:33:21Z", "message": "fix(test): fix ci test case problem"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d09922ab05124b7e818a243e88dbe2b8730b9fb5", "author": {"user": null}, "url": "https://github.com/INRIA/spoon/commit/d09922ab05124b7e818a243e88dbe2b8730b9fb5", "committedDate": "2020-08-12T01:43:25Z", "message": "test(modify test):"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e97cd3f9ca1ec54ca1d1c71f18a2e1d3ea54e84", "author": {"user": null}, "url": "https://github.com/INRIA/spoon/commit/7e97cd3f9ca1ec54ca1d1c71f18a2e1d3ea54e84", "committedDate": "2020-08-12T02:21:32Z", "message": "style(add new line to meet travis requirement):"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab8cffc6c61672a4785603279ac6e80c2df00604", "author": {"user": null}, "url": "https://github.com/INRIA/spoon/commit/ab8cffc6c61672a4785603279ac6e80c2df00604", "committedDate": "2020-08-12T03:16:12Z", "message": "style(ModelRoleHandlers): add new line"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ccf3fb54a719117e0d818682fe59f30805bdd6bd", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/ccf3fb54a719117e0d818682fe59f30805bdd6bd", "committedDate": "2020-08-17T07:33:04Z", "message": "Update Factory.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY4MjMwNzkx", "url": "https://github.com/INRIA/spoon/pull/3513#pullrequestreview-468230791", "createdAt": "2020-08-17T07:33:38Z", "commit": {"oid": "ccf3fb54a719117e0d818682fe59f30805bdd6bd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwNzozMzozOFrOHBdhXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xN1QwNzozMzozOFrOHBdhXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MTI5NDMwMQ==", "bodyText": "undo", "url": "https://github.com/INRIA/spoon/pull/3513#discussion_r471294301", "createdAt": "2020-08-17T07:33:38Z", "author": {"login": "monperrus"}, "path": "src/test/java/spoon/processing/CtGenerationTest.java", "diffHunk": "@@ -151,7 +151,7 @@ public void testGenerateCloneVisitor() {\n \t\tCtClass<Object> expected = build(new File(\"./src/main/java/spoon/support/visitor/clone/CloneBuilder.java\")).Class().get(\"spoon.support.visitor.clone.CloneBuilder\");\n \t\tassertThat(actual).isEqualTo(expected);\n \n-\t\t// cp ./target/generated/spoon/support/visitor/clone/CloneVisitor.java  ./src/main/java/spoon/support/visitor/clone/CloneVisitor.java", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccf3fb54a719117e0d818682fe59f30805bdd6bd"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32bf8ad8313667ba4b52ed35108c177baa1ebcff", "author": {"user": null}, "url": "https://github.com/INRIA/spoon/commit/32bf8ad8313667ba4b52ed35108c177baa1ebcff", "committedDate": "2020-08-27T06:09:38Z", "message": "fix(src/main/java/spoon/reflect/visitor/CommentHelper.java): fix unknown type match problem\n\ntag name is UNKNOWN, but TagType.UNKNOWN.getName() is unknwon, should compare ignore case"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "053a588d63398b5077b7d69747ad38551766368c", "author": {"user": null}, "url": "https://github.com/INRIA/spoon/commit/053a588d63398b5077b7d69747ad38551766368c", "committedDate": "2020-08-27T06:09:52Z", "message": "Merge branch 'feature/real_name_tag' of github.com:zxdxjtu/spoon into feature/real_name_tag"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "51f5f91b2c5ccfbc545bf85957cef060385964f0", "author": {"user": null}, "url": "https://github.com/INRIA/spoon/commit/51f5f91b2c5ccfbc545bf85957cef060385964f0", "committedDate": "2020-08-27T07:09:21Z", "message": "Merge branch 'master' of github.com:zxdxjtu/spoon"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "814106a28474d2fc48fd5d8e83aadeb78d6eab84", "author": {"user": null}, "url": "https://github.com/INRIA/spoon/commit/814106a28474d2fc48fd5d8e83aadeb78d6eab84", "committedDate": "2020-08-27T07:09:37Z", "message": "Merge branch 'master' into feature/real_name_tag"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b920b4f7f6c569fa91904eb8d025bd76c43e53d9", "author": {"user": {"login": "zxdxjtu", "name": "Zhang Xindong"}}, "url": "https://github.com/INRIA/spoon/commit/b920b4f7f6c569fa91904eb8d025bd76c43e53d9", "committedDate": "2020-08-28T09:02:43Z", "message": "Merge branch 'master' into feature/real_name_tag"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9b4a410260d77581a810a6dad454580b3c7db3f0", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/9b4a410260d77581a810a6dad454580b3c7db3f0", "committedDate": "2020-09-11T09:46:24Z", "message": "up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a3948470d9524be104225756edd087ab10b81cfd", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/a3948470d9524be104225756edd087ab10b81cfd", "committedDate": "2020-09-11T09:48:54Z", "message": "up"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "188d89b80b5f13373f5638ec2f87a16b66b6b825", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/188d89b80b5f13373f5638ec2f87a16b66b6b825", "committedDate": "2020-09-11T09:49:34Z", "message": "up"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg2NzE5MzEy", "url": "https://github.com/INRIA/spoon/pull/3513#pullrequestreview-486719312", "createdAt": "2020-09-11T11:19:18Z", "commit": {"oid": "188d89b80b5f13373f5638ec2f87a16b66b6b825"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1337, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}