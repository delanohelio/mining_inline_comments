{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAwMTI1MTEz", "number": 3641, "title": "chore: break build if a class is not covered ", "bodyText": "We should break the build if a class is not covered.\nAccording to https://sonarqube.ow2.org/component_measures?id=fr.inria.gforge.spoon%3Aspoon-core&metric=coverage&view=list all classes are covered.\nYet, here Jacoco says that 8 classes are not covered: https://travis-ci.com/github/monperrus/spoon/jobs/396558655\ncheck (check-coverage) on project spoon-core: Coverage checks have not been met. See log for details\n\nwhich ones?", "createdAt": "2020-10-08T19:01:34Z", "url": "https://github.com/INRIA/spoon/pull/3641", "merged": true, "mergeCommit": {"oid": "543fb5913fa1fe500968df75bf33150d080606d5"}, "closed": true, "closedAt": "2020-10-15T20:46:13Z", "author": {"login": "monperrus"}, "timelineItems": {"totalCount": 20, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdQSBxZgH2gAyNTAwMTI1MTEzOmU5N2JlNWYyNDBkZTllZWE1NjQ3ZDI1M2QwYjIyMjZlMzFkMDA1MmQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdS2yU9gH2gAyNTAwMTI1MTEzOjIxYTJhZjZhNzVkYzFiM2Q3M2IyODgyMDhhMjI0N2ZmYTBkNTkwMWY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e97be5f240de9eea5647d253d0b2226e31d0052d", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/e97be5f240de9eea5647d253d0b2226e31d0052d", "committedDate": "2020-10-07T19:20:15Z", "message": "@monperrus at work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8fca473511b358343d72ebf560469e8d5ecce84a", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/8fca473511b358343d72ebf560469e8d5ecce84a", "committedDate": "2020-10-07T19:53:06Z", "message": "@monperrus at work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac3527a7713ced9aeb7ef749f38eb35287356c7b", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/ac3527a7713ced9aeb7ef749f38eb35287356c7b", "committedDate": "2020-10-07T19:55:00Z", "message": "@monperrus at work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "405911a1611c01a694e9de7b832e3b171d8dd892", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/405911a1611c01a694e9de7b832e3b171d8dd892", "committedDate": "2020-10-13T15:05:24Z", "message": "Merge branch 'master' into jacoco-fail"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "da4912915d85347b8543a0dac14fc2ec873cc258", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/da4912915d85347b8543a0dac14fc2ec873cc258", "committedDate": "2020-10-13T15:56:36Z", "message": "@monperrus at work"}, "afterCommit": {"oid": "72a0338efd6acaabeec562de87635bb19dece82e", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/72a0338efd6acaabeec562de87635bb19dece82e", "committedDate": "2020-10-14T18:30:56Z", "message": "@monperrus at work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e8b13dd99e78f5054a2d6e753cb246dc3e986940", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/e8b13dd99e78f5054a2d6e753cb246dc3e986940", "committedDate": "2020-10-15T05:15:12Z", "message": "@monperrus at work"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bc7a0e83b4c2394cd7200b0881a57656a9e9ec19", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/bc7a0e83b4c2394cd7200b0881a57656a9e9ec19", "committedDate": "2020-10-14T19:35:52Z", "message": "@monperrus at work"}, "afterCommit": {"oid": "e8b13dd99e78f5054a2d6e753cb246dc3e986940", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/e8b13dd99e78f5054a2d6e753cb246dc3e986940", "committedDate": "2020-10-15T05:15:12Z", "message": "@monperrus at work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c75a2d7f26dd86185eb9f5b464790cb8b74fc78b", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/c75a2d7f26dd86185eb9f5b464790cb8b74fc78b", "committedDate": "2020-10-15T06:19:38Z", "message": "@monperrus at work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7d00915ec501cdab2b462c373174fe65d316ac68", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/7d00915ec501cdab2b462c373174fe65d316ac68", "committedDate": "2020-10-15T06:39:59Z", "message": "@monperrus at work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e15299834eb090f733c2bb20fd1eda4a291b4cee", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/e15299834eb090f733c2bb20fd1eda4a291b4cee", "committedDate": "2020-10-15T08:22:16Z", "message": "@monperrus at work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "39ae8eaa7536762e0c955e28a61a6959ca5414de", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/39ae8eaa7536762e0c955e28a61a6959ca5414de", "committedDate": "2020-10-15T08:39:12Z", "message": "@monperrus at work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7b0650f8ab7208ac7d6198c0edd24be0f96f3571", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/7b0650f8ab7208ac7d6198c0edd24be0f96f3571", "committedDate": "2020-10-15T08:54:11Z", "message": "@monperrus at work"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "735236ff95f92f0fc6b66ef901019f9019f88a6a", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/735236ff95f92f0fc6b66ef901019f9019f88a6a", "committedDate": "2020-10-15T13:26:53Z", "message": "@monperrus at work"}, "afterCommit": {"oid": "7b0650f8ab7208ac7d6198c0edd24be0f96f3571", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/7b0650f8ab7208ac7d6198c0edd24be0f96f3571", "committedDate": "2020-10-15T08:54:11Z", "message": "@monperrus at work"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5NTkxMDU3", "url": "https://github.com/INRIA/spoon/pull/3641#pullrequestreview-509591057", "createdAt": "2020-10-15T17:04:46Z", "commit": {"oid": "7b0650f8ab7208ac7d6198c0edd24be0f96f3571"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNzowNDo0NlrOHiRmQA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNzowNDo0NlrOHiRmQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTcwMTk1Mg==", "bodyText": "shouldn't there be a comment for which instructions are phantom missed? This could help in the future, if the build fails.", "url": "https://github.com/INRIA/spoon/pull/3641#discussion_r505701952", "createdAt": "2020-10-15T17:04:46Z", "author": {"login": "MartinWitt"}, "path": "pom.xml", "diffHunk": "@@ -190,8 +184,33 @@\n                         <goal>report</goal>\n                     </goals>\n                 </execution>\n-            </executions>\n-        </plugin>\n+                <execution>\n+                  <id>check-coverage</id>\n+                  <goals>\n+                    <goal>check</goal>\n+                  </goals>\n+                  <configuration>\n+                    <excludes>\n+                      <!-- we exclude the GUI classes, because we don't have Swing GUI tests in CI --> \n+                      <exclude>**/support/gui/*</exclude>\n+                    </excludes>\n+                    <rules>\n+                    <rule implementation=\"org.jacoco.maven.RuleConfiguration\">\n+                      <element>BUNDLE</element>\n+                      <limits>\n+                        <limit implementation=\"org.jacoco.report.check.Limit\">\n+                          <counter>CLASS</counter>\n+                          <value>MISSEDCOUNT</value>\n+                          <!-- in theory we would like to have MISSEDCOUNT=0 but in some cases, Jacoco counts one phantom missed instruction, so ze go for one -->\n+                          <maximum>7</maximum>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7b0650f8ab7208ac7d6198c0edd24be0f96f3571"}, "originalPosition": 37}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a852edcde26f6365c5df639a4235bd19665339f9", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/a852edcde26f6365c5df639a4235bd19665339f9", "committedDate": "2020-10-15T17:49:57Z", "message": "@monperrus at work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2dfd876380c92408fd93b8f72d24f3e0929adc2", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/b2dfd876380c92408fd93b8f72d24f3e0929adc2", "committedDate": "2020-10-15T18:10:02Z", "message": "@monperrus at work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "647498cb7d7398f2b58e43f0caa5de42979b8a1e", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/647498cb7d7398f2b58e43f0caa5de42979b8a1e", "committedDate": "2020-10-15T18:24:56Z", "message": "@monperrus at work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d0111c534f2f4c2163aceee5e2896c8f038fa90", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/3d0111c534f2f4c2163aceee5e2896c8f038fa90", "committedDate": "2020-10-15T18:38:37Z", "message": "@monperrus at work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "77afc4161a1d1db721926efa17f1757ac24afef9", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/77afc4161a1d1db721926efa17f1757ac24afef9", "committedDate": "2020-10-15T19:00:53Z", "message": "@monperrus at work"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "21a2af6a75dc1b3d73b288208a2247ffa0d5901f", "author": {"user": {"login": "monperrus", "name": "Martin Monperrus"}}, "url": "https://github.com/INRIA/spoon/commit/21a2af6a75dc1b3d73b288208a2247ffa0d5901f", "committedDate": "2020-10-15T19:17:43Z", "message": "@monperrus at work"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1317, "cost": 1, "resetAt": "2021-11-01T14:51:55Z"}}}