{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2OTk0NjEw", "number": 2533, "title": "Remote attach options are not only ports #2532", "bodyText": "It can also be a combination of <host>:<port>, and host can also be *.\nLet the JDK itself validate and throw the appropiate the error if needed.\nAvoids duplicating JDK validation code.", "createdAt": "2020-06-03T06:39:53Z", "url": "https://github.com/oracle/graal/pull/2533", "merged": true, "mergeCommit": {"oid": "2ec2e2841a6b5580f6a1c6717cc52b6da61de15a"}, "closed": true, "closedAt": "2020-06-15T22:28:36Z", "author": {"login": "galderz"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcnoAz4gFqTQyMzQ3MTI0NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcrb3VRAFqTQzMDQwMDUxMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIzNDcxMjQ1", "url": "https://github.com/oracle/graal/pull/2533#pullrequestreview-423471245", "createdAt": "2020-06-03T11:45:59Z", "commit": {"oid": "4765e53be246a9fb3379f81e6e9e54fb3a93323d"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMTo0NTo1OVrOGeYJGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMTo0NTo1OVrOGeYJGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDUwNjAwOA==", "bodyText": "Please also update the corresponding help text in \n  \n    \n      graal/substratevm/src/com.oracle.svm.driver/resources/HelpExtra.txt\n    \n    \n         Line 14\n      in\n      12cd99f\n    \n    \n    \n    \n\n        \n          \n           --debug-attach[=<port>]", "url": "https://github.com/oracle/graal/pull/2533#discussion_r434506008", "createdAt": "2020-06-03T11:45:59Z", "author": {"login": "olpaw"}, "path": "substratevm/src/com.oracle.svm.driver/src/com/oracle/svm/driver/DefaultOptionHandler.java", "diffHunk": "@@ -158,17 +158,10 @@ public boolean consume(Queue<String> args) {\n             }\n             useDebugAttach = true;\n             String debugAttachArg = args.poll();\n-            String portSuffix = debugAttachArg.substring(debugAttach.length());\n-            int debugPort = 8000;\n-            if (!portSuffix.isEmpty()) {\n-                try {\n-                    debugPort = Integer.parseInt(portSuffix.substring(1));\n-                } catch (NumberFormatException e) {\n-                    NativeImage.showError(\"Invalid \" + debugAttach + \" option: \" + debugAttachArg);\n-                }\n-            }\n+            String addressSuffix = debugAttachArg.substring(debugAttach.length());\n+            String address = addressSuffix.isEmpty() ? \"8000\" : addressSuffix.substring(1);\n             /* Using agentlib to allow interoperability with other agents */\n-            nativeImage.addImageBuilderJavaArgs(\"-agentlib:jdwp=transport=dt_socket,server=y,address=\" + debugPort + \",suspend=y\");\n+            nativeImage.addImageBuilderJavaArgs(\"-agentlib:jdwp=transport=dt_socket,server=y,address=\" + address + \",suspend=y\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4765e53be246a9fb3379f81e6e9e54fb3a93323d"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0bfc51539b7b76a46e282804ea6b0da875b14e1e", "author": {"user": {"login": "galderz", "name": "Galder Zamarre\u00f1o"}}, "url": "https://github.com/oracle/graal/commit/0bfc51539b7b76a46e282804ea6b0da875b14e1e", "committedDate": "2020-06-11T12:46:01Z", "message": "Remote attach options are not only ports #2532\n\n* It can also be a combination of <host>:<port>,\nand host can also be '*'.\n* Let the JDK itself validate and throw the appropiate the error if needed.\n* Avoids duplicating JDK validation code."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4765e53be246a9fb3379f81e6e9e54fb3a93323d", "author": {"user": {"login": "galderz", "name": "Galder Zamarre\u00f1o"}}, "url": "https://github.com/oracle/graal/commit/4765e53be246a9fb3379f81e6e9e54fb3a93323d", "committedDate": "2020-06-03T06:39:21Z", "message": "Remote attach options are not only ports #2532\n\n* It can also be a combination of <host>:<port>,\nand host can also be '*'.\n* Let the JDK itself validate and throw the appropiate the error if needed.\n* Avoids duplicating JDK validation code."}, "afterCommit": {"oid": "0bfc51539b7b76a46e282804ea6b0da875b14e1e", "author": {"user": {"login": "galderz", "name": "Galder Zamarre\u00f1o"}}, "url": "https://github.com/oracle/graal/commit/0bfc51539b7b76a46e282804ea6b0da875b14e1e", "committedDate": "2020-06-11T12:46:01Z", "message": "Remote attach options are not only ports #2532\n\n* It can also be a combination of <host>:<port>,\nand host can also be '*'.\n* Let the JDK itself validate and throw the appropiate the error if needed.\n* Avoids duplicating JDK validation code."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMwNDAwNTEz", "url": "https://github.com/oracle/graal/pull/2533#pullrequestreview-430400513", "createdAt": "2020-06-15T07:52:42Z", "commit": {"oid": "0bfc51539b7b76a46e282804ea6b0da875b14e1e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1021, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}