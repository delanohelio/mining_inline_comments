{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4NjYzMjQy", "number": 2603, "title": "Make -g an alias for -H:GenerateDebugInfo=2", "bodyText": "Fixes #2592", "createdAt": "2020-06-23T15:52:23Z", "url": "https://github.com/oracle/graal/pull/2603", "merged": true, "mergeCommit": {"oid": "9dcaf1378003fc52ca3091ce01e30214d7131201"}, "closed": true, "closedAt": "2020-06-24T09:37:36Z", "author": {"login": "olpaw"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcuEtVQAH2gAyNDM4NjYzMjQyOmQwNWYzNTk5YTMwMzUxOTFmY2Y1NDI5OGFjMDdjMWE3ZWFkYTc1ZTc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcuMb0tgFqTQzNjE3NTcyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "d05f3599a3035191fcf54298ac07c1a7eada75e7", "author": {"user": {"login": "olpaw", "name": "Paul Woegerer"}}, "url": "https://github.com/oracle/graal/commit/d05f3599a3035191fcf54298ac07c1a7eada75e7", "committedDate": "2020-06-23T12:35:44Z", "message": "Make -g an alias for -H:GenerateDebugInfo=2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9bf83d6234f6c8547dcad8558a82af47cb0f4dc", "author": {"user": {"login": "olpaw", "name": "Paul Woegerer"}}, "url": "https://github.com/oracle/graal/commit/f9bf83d6234f6c8547dcad8558a82af47cb0f4dc", "committedDate": "2020-06-23T12:51:40Z", "message": "Style fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1OTIzNzA4", "url": "https://github.com/oracle/graal/pull/2603#pullrequestreview-435923708", "createdAt": "2020-06-23T15:53:52Z", "commit": {"oid": "f9bf83d6234f6c8547dcad8558a82af47cb0f4dc"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNTo1Mzo1MlrOGnvzCg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QxNTo1Mzo1MlrOGnvzCg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDMzMDc2Mg==", "bodyText": "The indirection here allows us to have EE do other things for -H:GenerateDebugInfo=2", "url": "https://github.com/oracle/graal/pull/2603#discussion_r444330762", "createdAt": "2020-06-23T15:53:52Z", "author": {"login": "olpaw"}, "path": "substratevm/src/com.oracle.svm.core/src/com/oracle/svm/core/SubstrateOptions.java", "diffHunk": "@@ -464,16 +469,22 @@ public static int codeAlignment() {\n     @Option(help = \"Populate reference queues in a separate thread rather than after a garbage collection.\", type = OptionType.Expert) //\n     public static final HostedOptionKey<Boolean> UseReferenceHandlerThread = new HostedOptionKey<>(false);\n \n+    @APIOption(name = \"-g\", fixedValue = \"2\", customHelp = \"generate debugging information\")//\n     @Option(help = \"Insert debug info into the generated native image or library\")//\n     public static final HostedOptionKey<Integer> GenerateDebugInfo = new HostedOptionKey<Integer>(0) {\n         @Override\n         protected void onValueUpdate(EconomicMap<OptionKey<?>, Object> values, Integer oldValue, Integer newValue) {\n-            // force update of TrackNodeSourcePosition\n-            if (newValue > 0 && !Boolean.TRUE.equals(values.get(TrackNodeSourcePosition))) {\n-                TrackNodeSourcePosition.update(values, true);\n-            }\n+            debugInfoValueUpdateHandler.onValueUpdate(values, oldValue, newValue);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f9bf83d6234f6c8547dcad8558a82af47cb0f4dc"}, "originalPosition": 32}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1OTYwOTMz", "url": "https://github.com/oracle/graal/pull/2603#pullrequestreview-435960933", "createdAt": "2020-06-23T16:38:06Z", "commit": {"oid": "f9bf83d6234f6c8547dcad8558a82af47cb0f4dc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM2MTc1NzI2", "url": "https://github.com/oracle/graal/pull/2603#pullrequestreview-436175726", "createdAt": "2020-06-23T21:35:51Z", "commit": {"oid": "f9bf83d6234f6c8547dcad8558a82af47cb0f4dc"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1033, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}