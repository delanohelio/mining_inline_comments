{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY0NTYxNzA3", "number": 2738, "title": "Fix code that assumes suites are under a vcs repository", "bodyText": "As of mx 5.270.0 (graalvm/mx#221), mx projects can be built even outside a vcs repository.\nThis patch makes the necessary changes to allow graal to be built outside a vcs repository.", "createdAt": "2020-08-07T11:51:34Z", "url": "https://github.com/oracle/graal/pull/2738", "merged": true, "mergeCommit": {"oid": "26dad51fd17f52e349df27eb77dc651f6fc8b2ee"}, "closed": true, "closedAt": "2020-08-12T15:41:13Z", "author": {"login": "zakkak"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc8i_5PAH2gAyNDY0NTYxNzA3OjA1ZDUzYjA1YWUxNWNhYjJlNjgzMTE2MWFlNmE3N2I3ZTcyMTNhNWQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc92-thABqjM2NDMyMjI3NzE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "05d53b05ae15cab2e6831161ae6a77b7e7213a5d", "author": {"user": {"login": "zakkak", "name": "Foivos"}}, "url": "https://github.com/oracle/graal/commit/05d53b05ae15cab2e6831161ae6a77b7e7213a5d", "committedDate": "2020-08-07T11:48:06Z", "message": "Fix code that assumes suites are under a vcs repository\n\nAs of mx 5.270.0, mx projects can be built even outside a vcs\nrepository.\nThis patch makes the necessary changes to allow graal to be built\noutside a vcs repository."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0NDA5NDEz", "url": "https://github.com/oracle/graal/pull/2738#pullrequestreview-464409413", "createdAt": "2020-08-10T16:57:29Z", "commit": {"oid": "e9615754550a382061af490068257fa0453137bd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQxNjo1NzozMFrOG-XTMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQxNjo1NzozMFrOG-XTMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODA0NjY0MQ==", "bodyText": "Why not run the same testing as in the else branch?\nAlso, I would rename RM_GIT to WITHOUT_VCS as it better documents the intention of this change.", "url": "https://github.com/oracle/graal/pull/2738#discussion_r468046641", "createdAt": "2020-08-10T16:57:30Z", "author": {"login": "dougxc"}, "path": ".travis.yml", "diffHunk": "@@ -135,7 +137,14 @@ install:\n script:\n   - echo ${JAVA_HOME}\n   - ${JAVA_HOME}/bin/java -version\n-  - mx --primary-suite-path ${TRAVIS_BUILD_DIR}/${PRIMARY} --J @\"-Xmx2g\" --java-home=${JAVA_HOME} gate --strict-mode --tags ${GATE}\n+  - |\n+      if [[ ${RM_GIT} ]]\n+      then\n+        rm -rf .git\n+        mx --primary-suite-path ${TRAVIS_BUILD_DIR}/substratevm native-image --version", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e9615754550a382061af490068257fa0453137bd"}, "originalPosition": 18}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e9615754550a382061af490068257fa0453137bd", "author": {"user": {"login": "zakkak", "name": "Foivos"}}, "url": "https://github.com/oracle/graal/commit/e9615754550a382061af490068257fa0453137bd", "committedDate": "2020-08-10T14:03:24Z", "message": "Add .mx_vcs_repo file and travis test for building without vcs"}, "afterCommit": {"oid": "13dd1ea19017a4e6506fb816b92dd92895137e0b", "author": {"user": {"login": "zakkak", "name": "Foivos"}}, "url": "https://github.com/oracle/graal/commit/13dd1ea19017a4e6506fb816b92dd92895137e0b", "committedDate": "2020-08-10T18:52:46Z", "message": "Add .mx_vcs_repo file and travis test for building without vcs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "13dd1ea19017a4e6506fb816b92dd92895137e0b", "author": {"user": {"login": "zakkak", "name": "Foivos"}}, "url": "https://github.com/oracle/graal/commit/13dd1ea19017a4e6506fb816b92dd92895137e0b", "committedDate": "2020-08-10T18:52:46Z", "message": "Add .mx_vcs_repo file and travis test for building without vcs"}, "afterCommit": {"oid": "447f1302a33c3ca355041e7658c216c12674ed39", "author": {"user": {"login": "zakkak", "name": "Foivos"}}, "url": "https://github.com/oracle/graal/commit/447f1302a33c3ca355041e7658c216c12674ed39", "committedDate": "2020-08-11T11:53:33Z", "message": "Add .mx_vcs_repo file and travis test for building without vcs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fc6ef771b442f1271da3037f40e03bd75ee3bb43", "author": {"user": {"login": "zakkak", "name": "Foivos"}}, "url": "https://github.com/oracle/graal/commit/fc6ef771b442f1271da3037f40e03bd75ee3bb43", "committedDate": "2020-08-11T13:38:36Z", "message": "Add .mx_vcs_repo file and travis test for building without vcs"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "447f1302a33c3ca355041e7658c216c12674ed39", "author": {"user": {"login": "zakkak", "name": "Foivos"}}, "url": "https://github.com/oracle/graal/commit/447f1302a33c3ca355041e7658c216c12674ed39", "committedDate": "2020-08-11T11:53:33Z", "message": "Add .mx_vcs_repo file and travis test for building without vcs"}, "afterCommit": {"oid": "fc6ef771b442f1271da3037f40e03bd75ee3bb43", "author": {"user": {"login": "zakkak", "name": "Foivos"}}, "url": "https://github.com/oracle/graal/commit/fc6ef771b442f1271da3037f40e03bd75ee3bb43", "committedDate": "2020-08-11T13:38:36Z", "message": "Add .mx_vcs_repo file and travis test for building without vcs"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1081, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}