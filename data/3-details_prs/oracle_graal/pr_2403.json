{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA5NDU4MDM2", "number": 2403, "title": "Expect AVX3Threshold on all JDKs >= 11", "bodyText": "Instead of conditionalizing flag AVX3Threshold on a JVMCI-versioned\nJDK 11, expect it for any JDK >= 11\nCloses #2402", "createdAt": "2020-04-27T12:07:19Z", "url": "https://github.com/oracle/graal/pull/2403", "merged": true, "mergeCommit": {"oid": "b39768e083b719470d177c030b4ff164196d6c82"}, "closed": true, "closedAt": "2020-04-28T18:26:40Z", "author": {"login": "jerboaa"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcbwpCJABqjMyNzYyMTMxMzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABccFS4xgBqjMyODA3NzQ3Njg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4deebffc452d5555e9c98c2b3b6380dc4515663d", "author": {"user": {"login": "jerboaa", "name": "Severin Gehwolf"}}, "url": "https://github.com/oracle/graal/commit/4deebffc452d5555e9c98c2b3b6380dc4515663d", "committedDate": "2020-04-27T12:03:41Z", "message": "Expect AVX3Threshold on all JDKs >= 11\n\nInstead of conditionalizing flag AVX3Threshold on a JVMCI-versioned\nJDK 11, expect it for any JDK >= 11\n\nCloses #2402"}, "afterCommit": {"oid": "ef17bb8f409868eb0871455dd7f47e4608f0b38c", "author": {"user": {"login": "jerboaa", "name": "Severin Gehwolf"}}, "url": "https://github.com/oracle/graal/commit/ef17bb8f409868eb0871455dd7f47e4608f0b38c", "committedDate": "2020-04-27T15:01:00Z", "message": "Expect AVX3Threshold on all JDKs >= 11.0.6 or JDK >= 14\n\nInstead of conditionalizing flag AVX3Threshold on a JVMCI-versioned\nJDK 11, expect it for any JDK 11 >= 11.0.6\n\nCloses #2402"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxMDU0ODMx", "url": "https://github.com/oracle/graal/pull/2403#pullrequestreview-401054831", "createdAt": "2020-04-27T15:15:59Z", "commit": {"oid": "ef17bb8f409868eb0871455dd7f47e4608f0b38c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxNToxNTo1OVrOGMooiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxNToxNTo1OVrOGMooiA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNTkwMTgzMg==", "bodyText": "You should use a regular expression to parse the value of the java.vm.version system property. Here are some sample values:\n11.0.7+8-LTS-jvmci-20.1-b02\n25.241-b07-jvmci-20.1-b01", "url": "https://github.com/oracle/graal/pull/2403#discussion_r415901832", "createdAt": "2020-04-27T15:15:59Z", "author": {"login": "dougxc"}, "path": "compiler/src/org.graalvm.compiler.hotspot/src/org/graalvm/compiler/hotspot/GraalHotSpotVMConfigAccess.java", "diffHunk": "@@ -146,6 +149,19 @@ public static boolean jvmciGE(Version v) {\n         JVMCI_VERSION = Version.parse(vmVersion);\n         JVMCI_PRERELEASE = vmVersion.contains(\"SNAPSHOT\") || vmVersion.contains(\"internal\") || vmVersion.contains(\"-dev\");\n         JVMCI = JVMCI_VERSION != null || JVMCI_PRERELEASE;\n+        int jdkUpdateVers = UNSET;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef17bb8f409868eb0871455dd7f47e4608f0b38c"}, "originalPosition": 21}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ef17bb8f409868eb0871455dd7f47e4608f0b38c", "author": {"user": {"login": "jerboaa", "name": "Severin Gehwolf"}}, "url": "https://github.com/oracle/graal/commit/ef17bb8f409868eb0871455dd7f47e4608f0b38c", "committedDate": "2020-04-27T15:01:00Z", "message": "Expect AVX3Threshold on all JDKs >= 11.0.6 or JDK >= 14\n\nInstead of conditionalizing flag AVX3Threshold on a JVMCI-versioned\nJDK 11, expect it for any JDK 11 >= 11.0.6\n\nCloses #2402"}, "afterCommit": {"oid": "23c482549d0022d87900a135efb6757db60027df", "author": {"user": {"login": "jerboaa", "name": "Severin Gehwolf"}}, "url": "https://github.com/oracle/graal/commit/23c482549d0022d87900a135efb6757db60027df", "committedDate": "2020-04-27T17:08:54Z", "message": "Expect AVX3Threshold on all JDKs >= 11.0.6 or JDK >= 14\n\nInstead of conditionalizing flag AVX3Threshold on a JVMCI-versioned\nJDK 11, expect it for any JDK 11 >= 11.0.6\n\nCloses #2402"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "23c482549d0022d87900a135efb6757db60027df", "author": {"user": {"login": "jerboaa", "name": "Severin Gehwolf"}}, "url": "https://github.com/oracle/graal/commit/23c482549d0022d87900a135efb6757db60027df", "committedDate": "2020-04-27T17:08:54Z", "message": "Expect AVX3Threshold on all JDKs >= 11.0.6 or JDK >= 14\n\nInstead of conditionalizing flag AVX3Threshold on a JVMCI-versioned\nJDK 11, expect it for any JDK 11 >= 11.0.6\n\nCloses #2402"}, "afterCommit": {"oid": "1567028a6320597bf1cf277e58dcdeff2ef1573b", "author": {"user": {"login": "jerboaa", "name": "Severin Gehwolf"}}, "url": "https://github.com/oracle/graal/commit/1567028a6320597bf1cf277e58dcdeff2ef1573b", "committedDate": "2020-04-28T14:00:57Z", "message": "Expect AVX3Threshold on all JDKs >= 11.0.6 or JDK >= 14\n\nInstead of conditionalizing flag AVX3Threshold on a JVMCI-versioned\nJDK 11, expect it for any JDK 11 >= 11.0.6\n\nCloses #2402"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxODg3Mzg4", "url": "https://github.com/oracle/graal/pull/2403#pullrequestreview-401887388", "createdAt": "2020-04-28T14:23:09Z", "commit": {"oid": "1567028a6320597bf1cf277e58dcdeff2ef1573b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNDoyMzowOVrOGNWm8A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNDoyMzowOVrOGNWm8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjY1NTA4OA==", "bodyText": "@dougxc Not sure if you rather wanted Runtime.Version.parse(System.getProperty(\"java.vm.version\")).update() here. Let me know if so.", "url": "https://github.com/oracle/graal/pull/2403#discussion_r416655088", "createdAt": "2020-04-28T14:23:09Z", "author": {"login": "jerboaa"}, "path": "compiler/src/org.graalvm.compiler.serviceprovider.jdk11/src/org/graalvm/compiler/serviceprovider/GraalServices.java", "diffHunk": "@@ -437,4 +437,8 @@ public static VirtualObject createVirtualObject(ResolvedJavaType type, int id, b\n         }\n         return VirtualObject.get(type, id);\n     }\n+\n+    public static int getJavaUpdateVersion() {\n+        return Runtime.version().update();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1567028a6320597bf1cf277e58dcdeff2ef1573b"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxOTAzOTIz", "url": "https://github.com/oracle/graal/pull/2403#pullrequestreview-401903923", "createdAt": "2020-04-28T14:39:05Z", "commit": {"oid": "1567028a6320597bf1cf277e58dcdeff2ef1573b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNDozOTowNVrOGNXZ1Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQxNDozOTowNVrOGNXZ1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjY2ODExNw==", "bodyText": "No, this is exactly what we want. If Runtime.Version.parse(System.getProperty(\"java.vm.version\")).update() != Runtime.version().update(), then I'd say there are bigger problems.", "url": "https://github.com/oracle/graal/pull/2403#discussion_r416668117", "createdAt": "2020-04-28T14:39:05Z", "author": {"login": "dougxc"}, "path": "compiler/src/org.graalvm.compiler.serviceprovider.jdk11/src/org/graalvm/compiler/serviceprovider/GraalServices.java", "diffHunk": "@@ -437,4 +437,8 @@ public static VirtualObject createVirtualObject(ResolvedJavaType type, int id, b\n         }\n         return VirtualObject.get(type, id);\n     }\n+\n+    public static int getJavaUpdateVersion() {\n+        return Runtime.version().update();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjY1NTA4OA=="}, "originalCommit": {"oid": "1567028a6320597bf1cf277e58dcdeff2ef1573b"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6f415f48b6cc8c12182e1dd1025099b5bcf253a", "author": {"user": {"login": "jerboaa", "name": "Severin Gehwolf"}}, "url": "https://github.com/oracle/graal/commit/d6f415f48b6cc8c12182e1dd1025099b5bcf253a", "committedDate": "2020-04-28T15:05:49Z", "message": "Expect AVX3Threshold on all JDKs >= 11.0.6 or JDK >= 14\n\nInstead of conditionalizing flag AVX3Threshold on a JVMCI-versioned\nJDK 11, expect it for any JDK 11 >= 11.0.6\n\nCloses #2402"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1567028a6320597bf1cf277e58dcdeff2ef1573b", "author": {"user": {"login": "jerboaa", "name": "Severin Gehwolf"}}, "url": "https://github.com/oracle/graal/commit/1567028a6320597bf1cf277e58dcdeff2ef1573b", "committedDate": "2020-04-28T14:00:57Z", "message": "Expect AVX3Threshold on all JDKs >= 11.0.6 or JDK >= 14\n\nInstead of conditionalizing flag AVX3Threshold on a JVMCI-versioned\nJDK 11, expect it for any JDK 11 >= 11.0.6\n\nCloses #2402"}, "afterCommit": {"oid": "d6f415f48b6cc8c12182e1dd1025099b5bcf253a", "author": {"user": {"login": "jerboaa", "name": "Severin Gehwolf"}}, "url": "https://github.com/oracle/graal/commit/d6f415f48b6cc8c12182e1dd1025099b5bcf253a", "committedDate": "2020-04-28T15:05:49Z", "message": "Expect AVX3Threshold on all JDKs >= 11.0.6 or JDK >= 14\n\nInstead of conditionalizing flag AVX3Threshold on a JVMCI-versioned\nJDK 11, expect it for any JDK 11 >= 11.0.6\n\nCloses #2402"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1169, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}