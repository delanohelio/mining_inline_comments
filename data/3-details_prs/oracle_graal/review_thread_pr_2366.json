{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2MDQ2NTgx", "number": 2366, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMzoyOTo0NVrODzukKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMzoyOTo0NVrODzukKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1NTY2ODkwOnYy", "diffSide": "RIGHT", "path": "substratevm/src/com.oracle.svm.hosted/src/com/oracle/svm/hosted/image/sources/ApplicationSourceCache.java", "isResolved": true, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMzoyOTo0NVrOGIUf2Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxNDowNTozN1rOGIWOMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM3NzYyNQ==", "bodyText": "aren't you missing another\nfile = subPath.toFile();\n\nhere?", "url": "https://github.com/oracle/graal/pull/2366#discussion_r411377625", "createdAt": "2020-04-20T13:29:45Z", "author": {"login": "olpaw"}, "path": "substratevm/src/com.oracle.svm.hosted/src/com/oracle/svm/hosted/image/sources/ApplicationSourceCache.java", "diffHunk": "@@ -107,6 +107,17 @@ private void trySourceRoot(String sourceRoot, boolean fromClassPath) {\n                 // try the path as provided\n                 File file = sourcePath.toFile();\n                 if (file.exists() && file.isDirectory()) {\n+                    // see if we have src/main/java or src/java\n+                    Path subPath = sourcePath.resolve(\"main\").resolve(\"java\");\n+                    file = subPath.toFile();\n+                    if (file.exists() && file.isDirectory()) {\n+                        sourcePath = subPath;\n+                    } else {\n+                        subPath = sourcePath.resolve(\"java\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab37a016462147e20e24874aa768778ec5aa2fc6"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTQwMTAxNw==", "bodyText": "cc @adinn", "url": "https://github.com/oracle/graal/pull/2366#discussion_r411401017", "createdAt": "2020-04-20T13:59:38Z", "author": {"login": "olpaw"}, "path": "substratevm/src/com.oracle.svm.hosted/src/com/oracle/svm/hosted/image/sources/ApplicationSourceCache.java", "diffHunk": "@@ -107,6 +107,17 @@ private void trySourceRoot(String sourceRoot, boolean fromClassPath) {\n                 // try the path as provided\n                 File file = sourcePath.toFile();\n                 if (file.exists() && file.isDirectory()) {\n+                    // see if we have src/main/java or src/java\n+                    Path subPath = sourcePath.resolve(\"main\").resolve(\"java\");\n+                    file = subPath.toFile();\n+                    if (file.exists() && file.isDirectory()) {\n+                        sourcePath = subPath;\n+                    } else {\n+                        subPath = sourcePath.resolve(\"java\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM3NzYyNQ=="}, "originalCommit": {"oid": "ab37a016462147e20e24874aa768778ec5aa2fc6"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTQwMzEyNA==", "bodyText": "doh! pushed a correction.", "url": "https://github.com/oracle/graal/pull/2366#discussion_r411403124", "createdAt": "2020-04-20T14:02:13Z", "author": {"login": "adinn"}, "path": "substratevm/src/com.oracle.svm.hosted/src/com/oracle/svm/hosted/image/sources/ApplicationSourceCache.java", "diffHunk": "@@ -107,6 +107,17 @@ private void trySourceRoot(String sourceRoot, boolean fromClassPath) {\n                 // try the path as provided\n                 File file = sourcePath.toFile();\n                 if (file.exists() && file.isDirectory()) {\n+                    // see if we have src/main/java or src/java\n+                    Path subPath = sourcePath.resolve(\"main\").resolve(\"java\");\n+                    file = subPath.toFile();\n+                    if (file.exists() && file.isDirectory()) {\n+                        sourcePath = subPath;\n+                    } else {\n+                        subPath = sourcePath.resolve(\"java\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM3NzYyNQ=="}, "originalCommit": {"oid": "ab37a016462147e20e24874aa768778ec5aa2fc6"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTQwNTg3NQ==", "bodyText": "hehe ... that's why I prefer Files.isDirectory(...), Files.exists(...), ...", "url": "https://github.com/oracle/graal/pull/2366#discussion_r411405875", "createdAt": "2020-04-20T14:05:37Z", "author": {"login": "olpaw"}, "path": "substratevm/src/com.oracle.svm.hosted/src/com/oracle/svm/hosted/image/sources/ApplicationSourceCache.java", "diffHunk": "@@ -107,6 +107,17 @@ private void trySourceRoot(String sourceRoot, boolean fromClassPath) {\n                 // try the path as provided\n                 File file = sourcePath.toFile();\n                 if (file.exists() && file.isDirectory()) {\n+                    // see if we have src/main/java or src/java\n+                    Path subPath = sourcePath.resolve(\"main\").resolve(\"java\");\n+                    file = subPath.toFile();\n+                    if (file.exists() && file.isDirectory()) {\n+                        sourcePath = subPath;\n+                    } else {\n+                        subPath = sourcePath.resolve(\"java\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM3NzYyNQ=="}, "originalCommit": {"oid": "ab37a016462147e20e24874aa768778ec5aa2fc6"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 871, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}