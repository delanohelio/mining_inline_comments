{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYxNDAxMDQx", "number": 2304, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxMzo0OToyN1rOEUnO0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxMzo0OToyN1rOEUnO0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwMDQ5NzQ3OnYy", "diffSide": "RIGHT", "path": "app/src/org/commcare/views/EntityActionViewUtils.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxMzo0OToyN1rOG66RoA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxODo0NDowNFrOG7Eteg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQyNTM3Ng==", "bodyText": "Extremely minor point: I don't think this is a real concern, but if the EntityList view was recycled entirely (IE: The use pressed 'back' and the view came up exactly as it was) it would be the case that this button would remain disabled.\nAgain, I don't think this applies to the way we use the views, but I didn't want to discount it entirely in case you knew differently, since you have worked with this more recently than  I have.", "url": "https://github.com/dimagi/commcare-android/pull/2304#discussion_r464425376", "createdAt": "2020-08-03T13:49:27Z", "author": {"login": "ctsims"}, "path": "app/src/org/commcare/views/EntityActionViewUtils.java", "diffHunk": "@@ -64,6 +66,9 @@ private static void setupActionClickListener(FrameLayout actionCardView,\n                                                  final Action action,\n                                                  final CommCareActivity commCareActivity) {\n         CardView cardView = actionCardView.findViewById(R.id.card_body);\n-        cardView.setOnClickListener(v -> EntitySelectActivity.triggerDetailAction(action, commCareActivity));\n+        cardView.setOnClickListener(v -> {\n+            cardView.setEnabled(false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a11e9cc59b56bdab81d6390e61ea27d833bc2db8"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU5MjgzOA==", "bodyText": "@ctsims Thanks for flagging. You are right that it's a non concern as onClick here calls EntitySelectActivity.triggerDetailAction which is a terminal operation in the sense that it always finish the current activity. So pressing back always results in CommCare session to recreate the EntityListActivity again re-enabling the action button.", "url": "https://github.com/dimagi/commcare-android/pull/2304#discussion_r464592838", "createdAt": "2020-08-03T18:36:35Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/views/EntityActionViewUtils.java", "diffHunk": "@@ -64,6 +66,9 @@ private static void setupActionClickListener(FrameLayout actionCardView,\n                                                  final Action action,\n                                                  final CommCareActivity commCareActivity) {\n         CardView cardView = actionCardView.findViewById(R.id.card_body);\n-        cardView.setOnClickListener(v -> EntitySelectActivity.triggerDetailAction(action, commCareActivity));\n+        cardView.setOnClickListener(v -> {\n+            cardView.setEnabled(false);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQyNTM3Ng=="}, "originalCommit": {"oid": "a11e9cc59b56bdab81d6390e61ea27d833bc2db8"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDU5NjM0Ng==", "bodyText": "great, thanks for confirming", "url": "https://github.com/dimagi/commcare-android/pull/2304#discussion_r464596346", "createdAt": "2020-08-03T18:44:04Z", "author": {"login": "ctsims"}, "path": "app/src/org/commcare/views/EntityActionViewUtils.java", "diffHunk": "@@ -64,6 +66,9 @@ private static void setupActionClickListener(FrameLayout actionCardView,\n                                                  final Action action,\n                                                  final CommCareActivity commCareActivity) {\n         CardView cardView = actionCardView.findViewById(R.id.card_body);\n-        cardView.setOnClickListener(v -> EntitySelectActivity.triggerDetailAction(action, commCareActivity));\n+        cardView.setOnClickListener(v -> {\n+            cardView.setEnabled(false);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDQyNTM3Ng=="}, "originalCommit": {"oid": "a11e9cc59b56bdab81d6390e61ea27d833bc2db8"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3298, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}