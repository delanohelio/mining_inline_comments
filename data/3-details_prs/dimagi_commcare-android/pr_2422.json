{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQzNDg2NTM3", "number": 2422, "title": "Target Android 11", "bodyText": "Product Note: Added support for Android 11.", "createdAt": "2020-12-21T13:32:39Z", "url": "https://github.com/dimagi/commcare-android/pull/2422", "merged": true, "mergeCommit": {"oid": "36ff2f3fca39103fa461d53c41b5a0c41f24fd1e"}, "closed": true, "closedAt": "2021-01-04T07:55:04Z", "author": {"login": "ShivamPokhriyal"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdokXQ-AH2gAyNTQzNDg2NTM3OjI0ZTUzZmM5OWM0OTRiOTQ0ZDllOTllM2E3NTcwODY0NzgxYTVmZjk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdq7TwdAFqTU1OTU0Nzc1NQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "24e53fc99c494b944d9e99e3a7570864781a5ff9", "author": {"user": {"login": "ShivamPokhriyal", "name": "Shivam Pokhriyal"}}, "url": "https://github.com/dimagi/commcare-android/commit/24e53fc99c494b944d9e99e3a7570864781a5ff9", "committedDate": "2020-12-22T06:16:12Z", "message": "Update sdk version to 30"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8385d0219174d1cedb77fa3de8bb6d533071d45f", "author": {"user": {"login": "ShivamPokhriyal", "name": "Shivam Pokhriyal"}}, "url": "https://github.com/dimagi/commcare-android/commit/8385d0219174d1cedb77fa3de8bb6d533071d45f", "committedDate": "2020-12-22T06:16:12Z", "message": "Add queries element to manifest for TTS\n\nhttps://developer.android.com/about/versions/11/behavior-changes-11\\#tts-engines"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f3fb76e188772cb1de9658dfa4e6013127b08eb", "author": {"user": {"login": "ShivamPokhriyal", "name": "Shivam Pokhriyal"}}, "url": "https://github.com/dimagi/commcare-android/commit/7f3fb76e188772cb1de9658dfa4e6013127b08eb", "committedDate": "2020-12-22T06:16:12Z", "message": "Fix build errors in LocationListener implementation\n\ne: /Users/dsi-admin/Documents/projects/Commcare/commcare-android/app/src/org/commcare/gis/DrawingBoundaryActivity.kt: (32, 1): Class 'DrawingBoundaryActivity' is not abstract and does not implement abstract member public abstract fun onLocationChanged(p0: Location): Unit defined in android.location.LocationListener"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0c8b636af6b0efa984c38e73674e55e6b16d511a", "author": {"user": {"login": "ShivamPokhriyal", "name": "Shivam Pokhriyal"}}, "url": "https://github.com/dimagi/commcare-android/commit/0c8b636af6b0efa984c38e73674e55e6b16d511a", "committedDate": "2020-12-22T06:16:12Z", "message": "Remove storage access to non-app-specific directory"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b5c74395bfe8c0f948a7dccc43ca47a7f9882d46", "author": {"user": {"login": "ShivamPokhriyal", "name": "Shivam Pokhriyal"}}, "url": "https://github.com/dimagi/commcare-android/commit/b5c74395bfe8c0f948a7dccc43ca47a7f9882d46", "committedDate": "2020-12-21T13:30:50Z", "message": "Remove storage access to non-app-specific directory"}, "afterCommit": {"oid": "0c8b636af6b0efa984c38e73674e55e6b16d511a", "author": {"user": {"login": "ShivamPokhriyal", "name": "Shivam Pokhriyal"}}, "url": "https://github.com/dimagi/commcare-android/commit/0c8b636af6b0efa984c38e73674e55e6b16d511a", "committedDate": "2020-12-22T06:16:12Z", "message": "Remove storage access to non-app-specific directory"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU4NzkxMDAy", "url": "https://github.com/dimagi/commcare-android/pull/2422#pullrequestreview-558791002", "createdAt": "2020-12-25T09:15:01Z", "commit": {"oid": "0c8b636af6b0efa984c38e73674e55e6b16d511a"}, "state": "DISMISSED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQwOToxNTowMVrOILakZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQwOToxNToyNFrOILaksQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg0MDU0OA==", "bodyText": "the wordings of this doesn't make sense with the code to access outside scope storage deleted. Can we just say more on the lines of \"Invalid Intent definition, no extra with name 'KEY_FORM_RECORD_DESTINATION` present in the intent\"", "url": "https://github.com/dimagi/commcare-android/pull/2422#discussion_r548840548", "createdAt": "2020-12-25T09:15:01Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/activities/components/FormEntryInstanceState.java", "diffHunk": "@@ -106,8 +103,7 @@ public void loadFromIntent(Intent intent) {\n         if (intent.hasExtra(KEY_FORM_RECORD_DESTINATION)) {\n             this.mFormRecordDestination = intent.getStringExtra(KEY_FORM_RECORD_DESTINATION);\n         } else {\n-            Logger.log(LogTypes.SOFT_ASSERT, \"Access outside scoped storage in loading current form.\");\n-            mFormRecordDestination = ODKStorage.FORM_RECORD_PATH;\n+            throw new RuntimeException(\"Access outside scoped storage in loading current form.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c8b636af6b0efa984c38e73674e55e6b16d511a"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg0MDYyNQ==", "bodyText": "Same comment as above on wordings of exception.", "url": "https://github.com/dimagi/commcare-android/pull/2422#discussion_r548840625", "createdAt": "2020-12-25T09:15:24Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/tasks/FormLoaderTask.java", "diffHunk": "@@ -235,24 +235,7 @@ private void setupFormMedia(String formMediaPath, File formXmlFile) {\n             ReferenceManager.instance().addSessionRootTranslator(\n                     new RootTranslator(\"jr://video/\", formMediaPath));\n         } else {\n-            // This should get moved to the Application Class\n-            if (ReferenceManager.instance().getFactories().length == 0) {\n-                // this is /sdcard/odk\n-                Logger.log(LogTypes.SOFT_ASSERT, \"Access outside scoped storage in form media setup.\");\n-                ReferenceManager.instance().addReferenceFactory(\n-                        new FileReferenceFactory(Environment.getExternalStorageDirectory() + \"/odk\"));\n-            }\n-\n-            // set paths to /sdcard/odk/forms/formfilename-media/\n-            String formFileName = formXmlFile.getName().substring(0, formXmlFile.getName().lastIndexOf(\".\"));\n-\n-            // Set jr://... to point to /sdcard/odk/forms/filename-media/\n-            ReferenceManager.instance().addSessionRootTranslator(\n-                    new RootTranslator(\"jr://images/\", \"jr://file/forms/\" + formFileName + \"-media/\"));\n-            ReferenceManager.instance().addSessionRootTranslator(\n-                    new RootTranslator(\"jr://audio/\", \"jr://file/forms/\" + formFileName + \"-media/\"));\n-            ReferenceManager.instance().addSessionRootTranslator(\n-                    new RootTranslator(\"jr://video/\", \"jr://file/forms/\" + formFileName + \"-media/\"));\n+            throw new RuntimeException(\"Access outside scoped storage in form media setup.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c8b636af6b0efa984c38e73674e55e6b16d511a"}, "originalPosition": 40}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ffb6db2d2f29ed526d7807ac49fee1d2e87cf34", "author": {"user": {"login": "ShivamPokhriyal", "name": "Shivam Pokhriyal"}}, "url": "https://github.com/dimagi/commcare-android/commit/5ffb6db2d2f29ed526d7807ac49fee1d2e87cf34", "committedDate": "2020-12-29T08:30:09Z", "message": "Improve error messag"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU5NTQ3NzU1", "url": "https://github.com/dimagi/commcare-android/pull/2422#pullrequestreview-559547755", "createdAt": "2020-12-29T14:08:02Z", "commit": {"oid": "5ffb6db2d2f29ed526d7807ac49fee1d2e87cf34"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2031, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}