{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcyMTU2MjI0", "number": 2324, "title": "null adapter check in menu to avoid NPE", "bodyText": "Crashlytics\nNot sure why adapter is null in onPrepareOptionsMenu. Looks like onPrepareOptionsMenu might be getting called out of order but not sure how. I think it's better to show an empty menu which user can possibly correct by going back in menu in these rare cases rather than crashing the app so just putting a null check to solve this.", "createdAt": "2020-08-23T17:51:31Z", "url": "https://github.com/dimagi/commcare-android/pull/2324", "merged": true, "mergeCommit": {"oid": "65bcbdeb6d7628a2e597207128b11981a1f8229c"}, "closed": true, "closedAt": "2020-08-24T13:59:56Z", "author": {"login": "shubham1g5"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdBrJSGgH2gAyNDcyMTU2MjI0OjVmOWQzNjgxNzJhMDFhZGYzYTI1NWZjMmI5ODk0ZjdiNWVjMmFmMDg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdCDENmAH2gAyNDcyMTU2MjI0Ojg5OThlMzJkN2Y1MTQ5Y2IxZWI1OTkxZmRiZWVmNWE0NTczMjk0ZjM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5f9d368172a01adf3a255fc2b9894f7b5ec2af08", "author": {"user": {"login": "shubham1g5", "name": "Shubham Goyal"}}, "url": "https://github.com/dimagi/commcare-android/commit/5f9d368172a01adf3a255fc2b9894f7b5ec2af08", "committedDate": "2020-08-23T10:07:13Z", "message": "null adapter check in menu to avoid NPE"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMDMwNDc2", "url": "https://github.com/dimagi/commcare-android/pull/2324#pullrequestreview-473030476", "createdAt": "2020-08-23T17:54:01Z", "commit": {"oid": "5f9d368172a01adf3a255fc2b9894f7b5ec2af08"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yM1QxNzo1NDowMVrOHFOxiQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yM1QxNzo1NDowMVrOHFOxiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NTI0Njk4NQ==", "bodyText": "diff is not super clear though the change is just that this null check is now wrapping the rest of the code in onPrepareOptionsMenu", "url": "https://github.com/dimagi/commcare-android/pull/2324#discussion_r475246985", "createdAt": "2020-08-23T17:54:01Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/activities/FormRecordListActivity.java", "diffHunk": "@@ -557,19 +557,21 @@ public boolean onQueryTextChange(String newText) {\n     public boolean onPrepareOptionsMenu(Menu menu) {\n         super.onPrepareOptionsMenu(menu);\n \n-        MenuItem quarantine = menu.findItem(MENU_SUBMIT_QUARANTINE_REPORT);\n-        if (quarantine != null) {\n-            quarantine.setVisible(FormRecordFilter.Limbo.equals(adapter.getFilter()));\n-        }\n+        if (adapter != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5f9d368172a01adf3a255fc2b9894f7b5ec2af08"}, "originalPosition": 8}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczNTA2Nzg1", "url": "https://github.com/dimagi/commcare-android/pull/2324#pullrequestreview-473506785", "createdAt": "2020-08-24T13:48:21Z", "commit": {"oid": "5f9d368172a01adf3a255fc2b9894f7b5ec2af08"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8998e32d7f5149cb1eb5991fdbeef5a4573294f3", "author": {"user": {"login": "shubham1g5", "name": "Shubham Goyal"}}, "url": "https://github.com/dimagi/commcare-android/commit/8998e32d7f5149cb1eb5991fdbeef5a4573294f3", "committedDate": "2020-08-24T13:59:24Z", "message": "Merge branch 'master' into formListMenuNpr"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2114, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}