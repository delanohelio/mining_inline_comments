{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTQzNDg2NTM3", "number": 2422, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQwOToxNTowMVrOFJIVBQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQwOToxNToyNFrOFJIVQA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1MTE3OTU3OnYy", "diffSide": "RIGHT", "path": "app/src/org/commcare/activities/components/FormEntryInstanceState.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQwOToxNTowMVrOILakZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQwOToxNTowMVrOILakZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg0MDU0OA==", "bodyText": "the wordings of this doesn't make sense with the code to access outside scope storage deleted. Can we just say more on the lines of \"Invalid Intent definition, no extra with name 'KEY_FORM_RECORD_DESTINATION` present in the intent\"", "url": "https://github.com/dimagi/commcare-android/pull/2422#discussion_r548840548", "createdAt": "2020-12-25T09:15:01Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/activities/components/FormEntryInstanceState.java", "diffHunk": "@@ -106,8 +103,7 @@ public void loadFromIntent(Intent intent) {\n         if (intent.hasExtra(KEY_FORM_RECORD_DESTINATION)) {\n             this.mFormRecordDestination = intent.getStringExtra(KEY_FORM_RECORD_DESTINATION);\n         } else {\n-            Logger.log(LogTypes.SOFT_ASSERT, \"Access outside scoped storage in loading current form.\");\n-            mFormRecordDestination = ODKStorage.FORM_RECORD_PATH;\n+            throw new RuntimeException(\"Access outside scoped storage in loading current form.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c8b636af6b0efa984c38e73674e55e6b16d511a"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzQ1MTE4MDE2OnYy", "diffSide": "RIGHT", "path": "app/src/org/commcare/tasks/FormLoaderTask.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQwOToxNToyNFrOILaksQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0yNVQwOToxNToyNFrOILaksQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0ODg0MDYyNQ==", "bodyText": "Same comment as above on wordings of exception.", "url": "https://github.com/dimagi/commcare-android/pull/2422#discussion_r548840625", "createdAt": "2020-12-25T09:15:24Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/tasks/FormLoaderTask.java", "diffHunk": "@@ -235,24 +235,7 @@ private void setupFormMedia(String formMediaPath, File formXmlFile) {\n             ReferenceManager.instance().addSessionRootTranslator(\n                     new RootTranslator(\"jr://video/\", formMediaPath));\n         } else {\n-            // This should get moved to the Application Class\n-            if (ReferenceManager.instance().getFactories().length == 0) {\n-                // this is /sdcard/odk\n-                Logger.log(LogTypes.SOFT_ASSERT, \"Access outside scoped storage in form media setup.\");\n-                ReferenceManager.instance().addReferenceFactory(\n-                        new FileReferenceFactory(Environment.getExternalStorageDirectory() + \"/odk\"));\n-            }\n-\n-            // set paths to /sdcard/odk/forms/formfilename-media/\n-            String formFileName = formXmlFile.getName().substring(0, formXmlFile.getName().lastIndexOf(\".\"));\n-\n-            // Set jr://... to point to /sdcard/odk/forms/filename-media/\n-            ReferenceManager.instance().addSessionRootTranslator(\n-                    new RootTranslator(\"jr://images/\", \"jr://file/forms/\" + formFileName + \"-media/\"));\n-            ReferenceManager.instance().addSessionRootTranslator(\n-                    new RootTranslator(\"jr://audio/\", \"jr://file/forms/\" + formFileName + \"-media/\"));\n-            ReferenceManager.instance().addSessionRootTranslator(\n-                    new RootTranslator(\"jr://video/\", \"jr://file/forms/\" + formFileName + \"-media/\"));\n+            throw new RuntimeException(\"Access outside scoped storage in form media setup.\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c8b636af6b0efa984c38e73674e55e6b16d511a"}, "originalPosition": 40}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3242, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}