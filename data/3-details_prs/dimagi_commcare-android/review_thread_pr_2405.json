{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE5NjIwNDk0", "number": 2405, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwOToxNDo1NFrOE5667A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwOToxNDo1NFrOE5667A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI5MTY5NjQ0OnYy", "diffSide": "RIGHT", "path": "app/src/org/commcare/views/widgets/WidgetUtils.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QwOToxNDo1NFrOH0rQQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxMDoxNTo0OVrOH0txZg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDk5NjY3NA==", "bodyText": "can use String.join", "url": "https://github.com/dimagi/commcare-android/pull/2405#discussion_r524996674", "createdAt": "2020-11-17T09:14:54Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/views/widgets/WidgetUtils.java", "diffHunk": "@@ -33,4 +40,42 @@ public static Button setupClearButton(Context context, ViewGroup root, String te\n         clearButton.setVisibility(visibility);\n         return clearButton;\n     }\n+\n+    /**\n+     * Works just like {@link #createScanIntent(Context, String...)} except the format is null.\n+     */\n+    public static Intent createScanIntent(Context context) {\n+        return createScanIntent(context, null);\n+    }\n+\n+    /**\n+     * A utility to create intent for barcode scan.\n+     *\n+     * If usage of 3rd party apps for scanning is enabled by the user, then this method will\n+     * create a generic intent for scanning barcodes and will fallback to zxing library if no\n+     * app exists to handle such intent.\n+     *\n+     * @param formats names of {@link com.google.zxing.BarcodeFormat}s to scan for. eg. {@link com.google.zxing.BarcodeFormat#QR_CODE}\n+     */\n+    public static Intent createScanIntent(Context context, String... formats) {\n+        if (MainConfigurablePreferences.useIntentCalloutForScanner()) {\n+            Intent scanIntent = new Intent(Intents.Scan.ACTION);\n+            if (scanIntent.resolveActivity(context.getPackageManager()) != null) {\n+                if (formats != null) {\n+                    StringBuilder joinedByComma = new StringBuilder();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "82d36b787786d7ba6f0a7af184f1d93ceda3c9d8"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTAzNzkyNg==", "bodyText": "Made a change to use TextUtils since String.join is added in api 26", "url": "https://github.com/dimagi/commcare-android/pull/2405#discussion_r525037926", "createdAt": "2020-11-17T10:15:49Z", "author": {"login": "ShivamPokhriyal"}, "path": "app/src/org/commcare/views/widgets/WidgetUtils.java", "diffHunk": "@@ -33,4 +40,42 @@ public static Button setupClearButton(Context context, ViewGroup root, String te\n         clearButton.setVisibility(visibility);\n         return clearButton;\n     }\n+\n+    /**\n+     * Works just like {@link #createScanIntent(Context, String...)} except the format is null.\n+     */\n+    public static Intent createScanIntent(Context context) {\n+        return createScanIntent(context, null);\n+    }\n+\n+    /**\n+     * A utility to create intent for barcode scan.\n+     *\n+     * If usage of 3rd party apps for scanning is enabled by the user, then this method will\n+     * create a generic intent for scanning barcodes and will fallback to zxing library if no\n+     * app exists to handle such intent.\n+     *\n+     * @param formats names of {@link com.google.zxing.BarcodeFormat}s to scan for. eg. {@link com.google.zxing.BarcodeFormat#QR_CODE}\n+     */\n+    public static Intent createScanIntent(Context context, String... formats) {\n+        if (MainConfigurablePreferences.useIntentCalloutForScanner()) {\n+            Intent scanIntent = new Intent(Intents.Scan.ACTION);\n+            if (scanIntent.resolveActivity(context.getPackageManager()) != null) {\n+                if (formats != null) {\n+                    StringBuilder joinedByComma = new StringBuilder();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNDk5NjY3NA=="}, "originalCommit": {"oid": "82d36b787786d7ba6f0a7af184f1d93ceda3c9d8"}, "originalPosition": 51}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3218, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}