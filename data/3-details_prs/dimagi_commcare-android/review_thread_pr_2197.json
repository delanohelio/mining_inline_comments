{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkwODk3NjY2", "number": 2197, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxNDozMzo0OFrODpiM9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxNDozMzo0OFrODpiM9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ0ODc4NTgwOnYy", "diffSide": "RIGHT", "path": "app/src/org/commcare/activities/FormEntryActivityUIController.java", "isResolved": false, "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxNDozMzo0OFrOF4xQ9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yM1QxNTo1MjowNlrOF6L4ZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTA3MTczMw==", "bodyText": "What was the old flag set for? I would have guessed this would at the very least be changed to\nFormEntryConstants.EVALUATE_CONSTRAINTS and !activity.mFormController.isFormReadOnly()", "url": "https://github.com/dimagi/commcare-android/pull/2197#discussion_r395071733", "createdAt": "2020-03-19T14:33:48Z", "author": {"login": "ctsims"}, "path": "app/src/org/commcare/activities/FormEntryActivityUIController.java", "diffHunk": "@@ -392,7 +392,7 @@ private void showNextView(boolean resuming) {\n         }\n \n         if (activity.currentPromptIsQuestion()) {\n-            if (!activity.saveAnswersForCurrentScreen(FormEntryConstants.EVALUATE_CONSTRAINTS)) {\n+            if (!activity.saveAnswersForCurrentScreen(!activity.mFormController.isFormReadOnly())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2dff04b7c7886afd3dae1e94cf4f6452db7841d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTA4NDYyOA==", "bodyText": "@ctsims  FormEntryConstants.EVALUATE_CONSTRAINTS is a constant that equates to true, so it doesn't really make a difference.  Do you want to include it more for semantics ?", "url": "https://github.com/dimagi/commcare-android/pull/2197#discussion_r395084628", "createdAt": "2020-03-19T14:50:25Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/activities/FormEntryActivityUIController.java", "diffHunk": "@@ -392,7 +392,7 @@ private void showNextView(boolean resuming) {\n         }\n \n         if (activity.currentPromptIsQuestion()) {\n-            if (!activity.saveAnswersForCurrentScreen(FormEntryConstants.EVALUATE_CONSTRAINTS)) {\n+            if (!activity.saveAnswersForCurrentScreen(!activity.mFormController.isFormReadOnly())) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTA3MTczMw=="}, "originalCommit": {"oid": "e2dff04b7c7886afd3dae1e94cf4f6452db7841d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjQzMDk5OA==", "bodyText": "FYI @ctsims", "url": "https://github.com/dimagi/commcare-android/pull/2197#discussion_r396430998", "createdAt": "2020-03-23T12:58:58Z", "author": {"login": "ShivamPokhriyal"}, "path": "app/src/org/commcare/activities/FormEntryActivityUIController.java", "diffHunk": "@@ -392,7 +392,7 @@ private void showNextView(boolean resuming) {\n         }\n \n         if (activity.currentPromptIsQuestion()) {\n-            if (!activity.saveAnswersForCurrentScreen(FormEntryConstants.EVALUATE_CONSTRAINTS)) {\n+            if (!activity.saveAnswersForCurrentScreen(!activity.mFormController.isFormReadOnly())) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTA3MTczMw=="}, "originalCommit": {"oid": "e2dff04b7c7886afd3dae1e94cf4f6452db7841d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjUxMzM2MQ==", "bodyText": "@shubham1g5 I think the best way to say it is that either the FormEntryConstants.EVALUATE_CONSTRAINTS does something (in which case we should leave it in the code) or that it's antiquated and we don't use it anymore, in which case we should remove the definition of the value in addition to its use here. I'm not comfortable with only doing one.", "url": "https://github.com/dimagi/commcare-android/pull/2197#discussion_r396513361", "createdAt": "2020-03-23T14:56:33Z", "author": {"login": "ctsims"}, "path": "app/src/org/commcare/activities/FormEntryActivityUIController.java", "diffHunk": "@@ -392,7 +392,7 @@ private void showNextView(boolean resuming) {\n         }\n \n         if (activity.currentPromptIsQuestion()) {\n-            if (!activity.saveAnswersForCurrentScreen(FormEntryConstants.EVALUATE_CONSTRAINTS)) {\n+            if (!activity.saveAnswersForCurrentScreen(!activity.mFormController.isFormReadOnly())) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTA3MTczMw=="}, "originalCommit": {"oid": "e2dff04b7c7886afd3dae1e94cf4f6452db7841d"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjU1NjM4OA==", "bodyText": "That makes sense! I don't see any particular use of them and thought they were there just for better semantics. Definitely pro removing them. cc: @ShivamPokhriyal", "url": "https://github.com/dimagi/commcare-android/pull/2197#discussion_r396556388", "createdAt": "2020-03-23T15:52:06Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/activities/FormEntryActivityUIController.java", "diffHunk": "@@ -392,7 +392,7 @@ private void showNextView(boolean resuming) {\n         }\n \n         if (activity.currentPromptIsQuestion()) {\n-            if (!activity.saveAnswersForCurrentScreen(FormEntryConstants.EVALUATE_CONSTRAINTS)) {\n+            if (!activity.saveAnswersForCurrentScreen(!activity.mFormController.isFormReadOnly())) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTA3MTczMw=="}, "originalCommit": {"oid": "e2dff04b7c7886afd3dae1e94cf4f6452db7841d"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3342, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}