{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5MDM2Mjg3", "number": 2371, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwNzoxNjo1M1rOErCy8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQwNzoxNjowNlrOEwGuIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzNTcwMDM1OnYy", "diffSide": "RIGHT", "path": "app/src/org/commcare/views/ViewUtil.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwNzoxNjo1M1rOHdlrTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QwNzoxNjo1M1rOHdlrTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMDc4ODA0NQ==", "bodyText": "We can also probably have add these to the CommonTheme which will make all the textviews RTL supportive.\nBut then I guess, we'll have to find out all the buttons/textviews which could be broken because of view_start textDirection, and will have to manually change the text direction for them.", "url": "https://github.com/dimagi/commcare-android/pull/2371#discussion_r500788045", "createdAt": "2020-10-07T07:16:53Z", "author": {"login": "ShivamPokhriyal"}, "path": "app/src/org/commcare/views/ViewUtil.java", "diffHunk": "@@ -195,4 +196,17 @@ private static void divideIndeterminateSpace(int[] widths, int fullSize,\n             }\n         }\n     }\n+\n+\n+    /**\n+     * Adds RTL support to the textview. It will make the textView ALIGN_LEFT if the view\u2019s resolved\n+     * layoutDirection is LTR, and ALIGN_RIGHT otherwise.\n+     */\n+    public static void addRTLSupport(TextView textView) {\n+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.JELLY_BEAN_MR1) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2373a54a14769d738cc0f94519a91b16c2770270"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MTExMDI3OnYy", "diffSide": "RIGHT", "path": "app/res/layout-v17/textview_rtl.xml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxMDo1OTo0N1rOHeZKKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQwNTo1NDo1NVrOHfv73w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTYzMTUyOA==", "bodyText": "@ShivamPokhriyal curious what does textDirection does here, from screenshots it seems like only thing we need to adjust is alignment ?", "url": "https://github.com/dimagi/commcare-android/pull/2371#discussion_r501631528", "createdAt": "2020-10-08T10:59:47Z", "author": {"login": "shubham1g5"}, "path": "app/res/layout-v17/textview_rtl.xml", "diffHunk": "@@ -0,0 +1,6 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<TextView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    android:layout_width=\"wrap_content\"\n+    android:layout_height=\"wrap_content\"\n+    android:textAlignment=\"viewStart\"\n+    android:textDirection=\"locale\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f73d198ad0154e2e066fc760726e5f66ef9916e4"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjkyMDUxMw==", "bodyText": "I used textDirection as I had a feeling that it is used to define the direction of the text. Like it would change him to mih for rtl language, though it's not doing that even when I change the value to rtl. I guess it always uses the first strong directional character to determine the paragraph direction and even when changing it's value to rtl it has no effect, so I guess I should just remove it.", "url": "https://github.com/dimagi/commcare-android/pull/2371#discussion_r502920513", "createdAt": "2020-10-11T14:10:15Z", "author": {"login": "ShivamPokhriyal"}, "path": "app/res/layout-v17/textview_rtl.xml", "diffHunk": "@@ -0,0 +1,6 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<TextView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    android:layout_width=\"wrap_content\"\n+    android:layout_height=\"wrap_content\"\n+    android:textAlignment=\"viewStart\"\n+    android:textDirection=\"locale\" />", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTYzMTUyOA=="}, "originalCommit": {"oid": "f73d198ad0154e2e066fc760726e5f66ef9916e4"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzA1MzI3OQ==", "bodyText": "yeah agree that we don't need textDirection for any static texts. It's mostly used to define cursor direction when entering text.", "url": "https://github.com/dimagi/commcare-android/pull/2371#discussion_r503053279", "createdAt": "2020-10-12T05:54:55Z", "author": {"login": "shubham1g5"}, "path": "app/res/layout-v17/textview_rtl.xml", "diffHunk": "@@ -0,0 +1,6 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<TextView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    android:layout_width=\"wrap_content\"\n+    android:layout_height=\"wrap_content\"\n+    android:textAlignment=\"viewStart\"\n+    android:textDirection=\"locale\" />", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTYzMTUyOA=="}, "originalCommit": {"oid": "f73d198ad0154e2e066fc760726e5f66ef9916e4"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1MTg5OTczOnYy", "diffSide": "RIGHT", "path": "app/src/org/commcare/activities/components/FormLayoutHelpers.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxMToxODozMVrOHf6alA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxMToxODozMVrOHf6alA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzIyNDk4MA==", "bodyText": "unused import", "url": "https://github.com/dimagi/commcare-android/pull/2371#discussion_r503224980", "createdAt": "2020-10-12T11:18:31Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/activities/components/FormLayoutHelpers.java", "diffHunk": "@@ -12,6 +12,7 @@\n import org.commcare.activities.FormEntryActivity;\n import org.commcare.dalvik.R;\n import org.commcare.preferences.FormEntryPreferences;\n+import org.commcare.views.ViewUtil;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dede0214a1a75ee8394f657885b509570b013d3c"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1MTkxOTM4OnYy", "diffSide": "RIGHT", "path": "app/src/org/commcare/views/widgets/ListMultiWidget.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxMToyMzo1OFrOHf6mKw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMlQxMToyMzo1OFrOHf6mKw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzIyNzk0Nw==", "bodyText": "unused import", "url": "https://github.com/dimagi/commcare-android/pull/2371#discussion_r503227947", "createdAt": "2020-10-12T11:23:58Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/views/widgets/ListMultiWidget.java", "diffHunk": "@@ -20,6 +21,7 @@\n import org.commcare.dalvik.R;\n import org.commcare.utils.MediaUtil;\n import org.commcare.utils.StringUtils;\n+import org.commcare.views.ViewUtil;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dede0214a1a75ee8394f657885b509570b013d3c"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NTE2MzQ5OnYy", "diffSide": "RIGHT", "path": "app/src/org/commcare/adapters/MenuAdapter.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzoyMzowMVrOHgYvuQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzoyMzowMVrOHgYvuQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzcyMTkxMw==", "bodyText": "unused", "url": "https://github.com/dimagi/commcare-android/pull/2371#discussion_r503721913", "createdAt": "2020-10-13T07:23:01Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/adapters/MenuAdapter.java", "diffHunk": "@@ -29,6 +29,7 @@\n import org.commcare.util.LoggerInterface;\n import org.commcare.utils.MediaUtil;\n import org.commcare.views.UserfacingErrorHandling;\n+import org.commcare.views.ViewUtil;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31d2749271f294b34662a8fcb696629b8a26283a"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NTE2Mzk0OnYy", "diffSide": "RIGHT", "path": "app/src/org/commcare/views/ViewUtil.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzoyMzowOFrOHgYv-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzoyMzowOFrOHgYv-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzcyMTk3Nw==", "bodyText": "unused", "url": "https://github.com/dimagi/commcare-android/pull/2371#discussion_r503721977", "createdAt": "2020-10-13T07:23:08Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/views/ViewUtil.java", "diffHunk": "@@ -15,6 +15,7 @@\n import android.view.MenuItem;\n import android.view.View;\n import android.view.inputmethod.InputMethodManager;\n+import android.widget.TextView;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31d2749271f294b34662a8fcb696629b8a26283a"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NTE2NDgyOnYy", "diffSide": "RIGHT", "path": "app/src/org/commcare/views/widgets/LabelWidget.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzoyMzoyM1rOHgYwfQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzoyMzoyM1rOHgYwfQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzcyMjEwOQ==", "bodyText": "unused", "url": "https://github.com/dimagi/commcare-android/pull/2371#discussion_r503722109", "createdAt": "2020-10-13T07:23:23Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/views/widgets/LabelWidget.java", "diffHunk": "@@ -17,6 +18,7 @@\n import org.commcare.dalvik.R;\n import org.commcare.utils.MediaUtil;\n import org.commcare.utils.StringUtils;\n+import org.commcare.views.ViewUtil;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31d2749271f294b34662a8fcb696629b8a26283a"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NTE2NTg3OnYy", "diffSide": "RIGHT", "path": "app/src/org/commcare/views/widgets/ListWidget.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzoyMzo0MFrOHgYxJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QwNzoyMzo0MFrOHgYxJA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMzcyMjI3Ng==", "bodyText": "unused", "url": "https://github.com/dimagi/commcare-android/pull/2371#discussion_r503722276", "createdAt": "2020-10-13T07:23:40Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/views/widgets/ListWidget.java", "diffHunk": "@@ -21,6 +22,7 @@\n import org.commcare.dalvik.R;\n import org.commcare.utils.MediaUtil;\n import org.commcare.utils.StringUtils;\n+import org.commcare.views.ViewUtil;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "31d2749271f294b34662a8fcb696629b8a26283a"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE4ODc3MjE5OnYy", "diffSide": "RIGHT", "path": "app/res/layout/question_widget_text.xml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQwNzoxNjowNlrOHlddVA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQwODoyMTowNVrOHlf7Gg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTA0MjAwNA==", "bodyText": "Can you confirm this doesn't cause any significant size difference as compared to earlier ?", "url": "https://github.com/dimagi/commcare-android/pull/2371#discussion_r509042004", "createdAt": "2020-10-21T07:16:06Z", "author": {"login": "shubham1g5"}, "path": "app/res/layout/question_widget_text.xml", "diffHunk": "@@ -4,5 +4,6 @@\n     android:layout_height=\"match_parent\"\n     android:gravity=\"start\"\n     android:scrollHorizontally=\"false\"\n+    android:textAppearance=\"@style/TextAppearance.AppCompat.Body1\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f818fee79426c86995aeda8e169377dfd5939197"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTA2NTA5OA==", "bodyText": "Just checked, I don't see any difference in the size.", "url": "https://github.com/dimagi/commcare-android/pull/2371#discussion_r509065098", "createdAt": "2020-10-21T07:54:51Z", "author": {"login": "ShivamPokhriyal"}, "path": "app/res/layout/question_widget_text.xml", "diffHunk": "@@ -4,5 +4,6 @@\n     android:layout_height=\"match_parent\"\n     android:gravity=\"start\"\n     android:scrollHorizontally=\"false\"\n+    android:textAppearance=\"@style/TextAppearance.AppCompat.Body1\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTA0MjAwNA=="}, "originalCommit": {"oid": "f818fee79426c86995aeda8e169377dfd5939197"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTA4MjM5NA==", "bodyText": "thanks for confirming.", "url": "https://github.com/dimagi/commcare-android/pull/2371#discussion_r509082394", "createdAt": "2020-10-21T08:21:05Z", "author": {"login": "shubham1g5"}, "path": "app/res/layout/question_widget_text.xml", "diffHunk": "@@ -4,5 +4,6 @@\n     android:layout_height=\"match_parent\"\n     android:gravity=\"start\"\n     android:scrollHorizontally=\"false\"\n+    android:textAppearance=\"@style/TextAppearance.AppCompat.Body1\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTA0MjAwNA=="}, "originalCommit": {"oid": "f818fee79426c86995aeda8e169377dfd5939197"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3176, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}