{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkwODk3NjY2", "number": 2197, "title": "Fix for navigation of saved form", "bodyText": "https://forum.dimagi.com/t/a-validation-condition-in-the-preview/7333\nIn case of validation condition on a non-required question, navigation of submitted form gives constraint violation error for validation error\nProduct Note: Fixes a bug that causes validation errors to appear while navigating saved forms.", "createdAt": "2020-03-19T09:42:44Z", "url": "https://github.com/dimagi/commcare-android/pull/2197", "merged": true, "mergeCommit": {"oid": "92c97742d8ed7432e5d61f241a0f8f18f3a22d64"}, "closed": true, "closedAt": "2020-03-24T19:12:45Z", "author": {"login": "ShivamPokhriyal"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcPIwUlAFqTM3NzU2MjY1OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcQs8P3AFqTM4MDAyODgzMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3NTYyNjU5", "url": "https://github.com/dimagi/commcare-android/pull/2197#pullrequestreview-377562659", "createdAt": "2020-03-19T09:46:58Z", "commit": {"oid": "e2dff04b7c7886afd3dae1e94cf4f6452db7841d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3Nzc3OTg3", "url": "https://github.com/dimagi/commcare-android/pull/2197#pullrequestreview-377777987", "createdAt": "2020-03-19T14:33:48Z", "commit": {"oid": "e2dff04b7c7886afd3dae1e94cf4f6452db7841d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxNDozMzo0OFrOF4xQ9Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxNDozMzo0OFrOF4xQ9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTA3MTczMw==", "bodyText": "What was the old flag set for? I would have guessed this would at the very least be changed to\nFormEntryConstants.EVALUATE_CONSTRAINTS and !activity.mFormController.isFormReadOnly()", "url": "https://github.com/dimagi/commcare-android/pull/2197#discussion_r395071733", "createdAt": "2020-03-19T14:33:48Z", "author": {"login": "ctsims"}, "path": "app/src/org/commcare/activities/FormEntryActivityUIController.java", "diffHunk": "@@ -392,7 +392,7 @@ private void showNextView(boolean resuming) {\n         }\n \n         if (activity.currentPromptIsQuestion()) {\n-            if (!activity.saveAnswersForCurrentScreen(FormEntryConstants.EVALUATE_CONSTRAINTS)) {\n+            if (!activity.saveAnswersForCurrentScreen(!activity.mFormController.isFormReadOnly())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e2dff04b7c7886afd3dae1e94cf4f6452db7841d"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b343d4d0edd9d2417026b33792cbf5693d04020", "author": {"user": {"login": "ShivamPokhriyal", "name": "Shivam Pokhriyal"}}, "url": "https://github.com/dimagi/commcare-android/commit/5b343d4d0edd9d2417026b33792cbf5693d04020", "committedDate": "2020-03-21T05:57:59Z", "message": "Fix for navigation of saved form\n\nIn case of validation condition on a non-required question, navigation of submitted form gives constraint violation error for validation error"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e2dff04b7c7886afd3dae1e94cf4f6452db7841d", "author": {"user": {"login": "ShivamPokhriyal", "name": "Shivam Pokhriyal"}}, "url": "https://github.com/dimagi/commcare-android/commit/e2dff04b7c7886afd3dae1e94cf4f6452db7841d", "committedDate": "2020-03-19T09:41:56Z", "message": "Fix for navigation of saved form\n\nIn case of validation condition on a non-required question, navigation of submitted form gives constraint violation error for validation error"}, "afterCommit": {"oid": "5b343d4d0edd9d2417026b33792cbf5693d04020", "author": {"user": {"login": "ShivamPokhriyal", "name": "Shivam Pokhriyal"}}, "url": "https://github.com/dimagi/commcare-android/commit/5b343d4d0edd9d2417026b33792cbf5693d04020", "committedDate": "2020-03-21T05:57:59Z", "message": "Fix for navigation of saved form\n\nIn case of validation condition on a non-required question, navigation of submitted form gives constraint violation error for validation error"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4OTEwMTIx", "url": "https://github.com/dimagi/commcare-android/pull/2197#pullrequestreview-378910121", "createdAt": "2020-03-21T10:56:19Z", "commit": {"oid": "5b343d4d0edd9d2417026b33792cbf5693d04020"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "252cca18b5177cc0314d20fd93c0b74ef0649077", "author": {"user": {"login": "ShivamPokhriyal", "name": "Shivam Pokhriyal"}}, "url": "https://github.com/dimagi/commcare-android/commit/252cca18b5177cc0314d20fd93c0b74ef0649077", "committedDate": "2020-03-24T05:43:42Z", "message": "Remove FormEntryConstants for evaluating constraints"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwMDI4ODMy", "url": "https://github.com/dimagi/commcare-android/pull/2197#pullrequestreview-380028832", "createdAt": "2020-03-24T06:30:30Z", "commit": {"oid": "252cca18b5177cc0314d20fd93c0b74ef0649077"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2156, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}