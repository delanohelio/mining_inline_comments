{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2MDYwMzU0", "number": 2222, "title": "Fix NPE while building question label with asterisk", "bodyText": "If there is a question without label, then mPrompt.getLongText() will return null and builder.append(null); will cause a NPE.", "createdAt": "2020-04-20T13:21:55Z", "url": "https://github.com/dimagi/commcare-android/pull/2222", "merged": true, "mergeCommit": {"oid": "33ab02cd4a37e5a0ad9db9ae1effd9e64448c6ad"}, "closed": true, "closedAt": "2020-04-20T14:51:38Z", "author": {"login": "ShivamPokhriyal"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcZe9CygH2gAyNDA2MDYwMzU0OjUzOWIzYWZlZGE0NjU5N2QzM2ZjNzQwNmY4OTVmYmQ2YTE2MDQzZGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZgFGHgFqTM5NjUxNTA0OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "539b3afeda46597d33fc7406f895fbd6a16043dd", "author": {"user": {"login": "ShivamPokhriyal", "name": "Shivam Pokhriyal"}}, "url": "https://github.com/dimagi/commcare-android/commit/539b3afeda46597d33fc7406f895fbd6a16043dd", "committedDate": "2020-04-20T13:18:01Z", "message": "Fix NPE while building question label with asterisk"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NDQ4Mjcx", "url": "https://github.com/dimagi/commcare-android/pull/2222#pullrequestreview-396448271", "createdAt": "2020-04-20T13:24:01Z", "commit": {"oid": "539b3afeda46597d33fc7406f895fbd6a16043dd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMzoyNDowMVrOGIUP3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMzoyNDowMVrOGIUP3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM3MzUzNQ==", "bodyText": "Even if the question is required, this won't build the asterisk.\nI'm not sure if we should show just the asterisk when there is no text.", "url": "https://github.com/dimagi/commcare-android/pull/2222#discussion_r411373535", "createdAt": "2020-04-20T13:24:01Z", "author": {"login": "ShivamPokhriyal"}, "path": "app/src/org/commcare/views/widgets/QuestionWidget.java", "diffHunk": "@@ -388,6 +388,8 @@ private SpannableStringBuilder getTextFromPrompt(FormEntryPrompt prompt) {\n         SpannableStringBuilder builder = new SpannableStringBuilder();\n         if (prompt.getMarkdownText() != null) {\n             builder.append(forceMarkdown(prompt.getMarkdownText()));\n+        } else if (mPrompt.getLongText() == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "539b3afeda46597d33fc7406f895fbd6a16043dd"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NDUzOTA0", "url": "https://github.com/dimagi/commcare-android/pull/2222#pullrequestreview-396453904", "createdAt": "2020-04-20T13:30:36Z", "commit": {"oid": "539b3afeda46597d33fc7406f895fbd6a16043dd"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMzozMDozNlrOGIUiNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxMzozMDozNlrOGIUiNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM3ODIyOA==", "bodyText": "Thanks for catching this. We can just append an empty string to the builder in this case to solve for the asterisk.", "url": "https://github.com/dimagi/commcare-android/pull/2222#discussion_r411378228", "createdAt": "2020-04-20T13:30:36Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/views/widgets/QuestionWidget.java", "diffHunk": "@@ -388,6 +388,8 @@ private SpannableStringBuilder getTextFromPrompt(FormEntryPrompt prompt) {\n         SpannableStringBuilder builder = new SpannableStringBuilder();\n         if (prompt.getMarkdownText() != null) {\n             builder.append(forceMarkdown(prompt.getMarkdownText()));\n+        } else if (mPrompt.getLongText() == null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTM3MzUzNQ=="}, "originalCommit": {"oid": "539b3afeda46597d33fc7406f895fbd6a16043dd"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NTE1MDQ4", "url": "https://github.com/dimagi/commcare-android/pull/2222#pullrequestreview-396515048", "createdAt": "2020-04-20T14:36:43Z", "commit": {"oid": "539b3afeda46597d33fc7406f895fbd6a16043dd"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2182, "cost": 1, "resetAt": "2021-11-01T13:51:04Z"}}}