{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg3MTk3NjM4", "number": 2342, "reviewThreads": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNjoyMzo1NlrOEjq_Kw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwOTowODo0NFrOEm8tUw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1ODM5OTE1OnYy", "diffSide": "LEFT", "path": "app/src/org/commcare/activities/CommCareActivity.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNjoyMzo1NlrOHSJ7KA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNjoyMzo1NlrOHSJ7KA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODc5OTAxNg==", "bodyText": "removed since text color is set as desired by itself.", "url": "https://github.com/dimagi/commcare-android/pull/2342#discussion_r488799016", "createdAt": "2020-09-15T16:23:56Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/activities/CommCareActivity.java", "diffHunk": "@@ -685,34 +692,23 @@ public boolean aTaskInProgress() {\n      * @param menu         Menu passed through onCreateOptionsMenu\r\n      * @param instantiator Optional ActionBarInstantiator for additional setup code.\r\n      */\r\n-    protected void tryToAddSearchActionToAppBar(Activity activity, Menu menu,\r\n+    protected void tryToAddSearchActionToAppBar(AppCompatActivity activity, Menu menu,\r\n                                                 ActionBarInstantiator instantiator) {\r\n-        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB) {\r\n-            MenuInflater inflater = activity.getMenuInflater();\r\n-            inflater.inflate(org.commcare.dalvik.R.menu.action_bar_search_view, menu);\r\n-\r\n-            MenuItem searchMenuItem = menu.findItem(org.commcare.dalvik.R.id.search_action_bar);\r\n-            SearchView searchView =\r\n-                    (SearchView)searchMenuItem.getActionView();\r\n-            MenuItem barcodeItem = menu.findItem(org.commcare.dalvik.R.id.barcode_scan_action_bar);\r\n-            if (searchView != null) {\r\n-                int[] searchViewStyle =\r\n-                        AndroidUtil.getThemeColorIDs(this,\r\n-                                new int[]{org.commcare.dalvik.R.attr.searchbox_action_bar_color});\r\n-                int id = searchView.getContext()\r\n-                        .getResources()\r\n-                        .getIdentifier(\"android:id/search_src_text\", null, null);\r\n-                TextView textView = searchView.findViewById(id);\r\n-                textView.setTextColor(searchViewStyle[0]);\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66b1d61e87d8d8efb1c294ecb23981665f313ed8"}, "originalPosition": 86}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1ODY0NDE1OnYy", "diffSide": "RIGHT", "path": "app/src/org/commcare/views/dialogs/HorizontalPaneledChoiceDialog.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNzoyNzoxN1rOHSMXxw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNzoyNzoxN1rOHSMXxw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODgzOTExMQ==", "bodyText": "titles are enabled by default with AppCompat, disabling them here for HorizontalPaneledChoiceDialog to keep them same as earlier.", "url": "https://github.com/dimagi/commcare-android/pull/2342#discussion_r488839111", "createdAt": "2020-09-15T17:27:17Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/views/dialogs/HorizontalPaneledChoiceDialog.java", "diffHunk": "@@ -15,6 +16,7 @@\n \n     public HorizontalPaneledChoiceDialog(Context context, String title) {\n         super(context, title);\n+        dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66b1d61e87d8d8efb1c294ecb23981665f313ed8"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA1ODY0OTUxOnYy", "diffSide": "LEFT", "path": "app/src/org/commcare/views/widgets/DateWidget.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNzoyODo1NFrOHSMbIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNVQxNzoyODo1NFrOHSMbIw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4ODgzOTk3MQ==", "bodyText": "set in layout", "url": "https://github.com/dimagi/commcare-android/pull/2342#discussion_r488839971", "createdAt": "2020-09-15T17:28:54Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/views/widgets/DateWidget.java", "diffHunk": "@@ -48,12 +49,9 @@ public DateWidget(Context context, FormEntryPrompt prompt) {\n     }\n \n     private DatePicker buildDatePicker(boolean isQuestionWriteable) {\n-        DatePicker datePicker = new DatePicker(getContext());\n+        DatePicker datePicker = (DatePicker)LayoutInflater.from(getContext()).inflate(R.layout.date_widget, this, false);\n         datePicker.setFocusable(isQuestionWriteable);\n         datePicker.setEnabled(isQuestionWriteable);\n-        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.HONEYCOMB) {\n-            datePicker.setCalendarViewShown(false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66b1d61e87d8d8efb1c294ecb23981665f313ed8"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3Nzg4MzAzOnYy", "diffSide": "RIGHT", "path": "app/AndroidManifest.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwNzoyNDoxOVrOHVDTtg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwOTo0NDo0NlrOHXSalw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTgzNjM0Mg==", "bodyText": "What's the use of APP_RESTRICTIONS?", "url": "https://github.com/dimagi/commcare-android/pull/2342#discussion_r491836342", "createdAt": "2020-09-21T07:24:19Z", "author": {"login": "ShivamPokhriyal"}, "path": "app/AndroidManifest.xml", "diffHunk": "@@ -449,6 +458,12 @@\n         <meta-data\n             android:name=\"com.google.android.gms.version\"\n             android:value=\"@integer/google_play_services_version\"/>\n+        <meta-data\n+            android:name=\"android.content.APP_RESTRICTIONS\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82844019a9ed3c30c20826ac35fe57c9c06ec5d"}, "originalPosition": 276}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDE4MTAxNQ==", "bodyText": "this has been there from before, I believe it's used for MDM stuff (FOCUS)", "url": "https://github.com/dimagi/commcare-android/pull/2342#discussion_r494181015", "createdAt": "2020-09-24T09:44:46Z", "author": {"login": "shubham1g5"}, "path": "app/AndroidManifest.xml", "diffHunk": "@@ -449,6 +458,12 @@\n         <meta-data\n             android:name=\"com.google.android.gms.version\"\n             android:value=\"@integer/google_play_services_version\"/>\n+        <meta-data\n+            android:name=\"android.content.APP_RESTRICTIONS\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTgzNjM0Mg=="}, "originalCommit": {"oid": "a82844019a9ed3c30c20826ac35fe57c9c06ec5d"}, "originalPosition": 276}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3NzkzMDk4OnYy", "diffSide": "LEFT", "path": "app/res/layout/form_filter_display.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwNzozOTo0NVrOHVDwKQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwOTo0ODozM1rOHXSkAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg0MzYyNQ==", "bodyText": "confirming whether this is not needed?", "url": "https://github.com/dimagi/commcare-android/pull/2342#discussion_r491843625", "createdAt": "2020-09-21T07:39:45Z", "author": {"login": "ShivamPokhriyal"}, "path": "app/res/layout/form_filter_display.xml", "diffHunk": "@@ -6,6 +6,5 @@\n           style=\"@style/TextViewV2\"\r\n           android:gravity=\"center_vertical\"\r\n           android:drawableRight=\"@drawable/icon_filter_white\"\r\n-          android:background=\"?attr/filter_select_background_color\"\r", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82844019a9ed3c30c20826ac35fe57c9c06ec5d"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDE4MzQyNQ==", "bodyText": "yeah, it's been set in style TextViewV2 and is therefore redundant.", "url": "https://github.com/dimagi/commcare-android/pull/2342#discussion_r494183425", "createdAt": "2020-09-24T09:48:33Z", "author": {"login": "shubham1g5"}, "path": "app/res/layout/form_filter_display.xml", "diffHunk": "@@ -6,6 +6,5 @@\n           style=\"@style/TextViewV2\"\r\n           android:gravity=\"center_vertical\"\r\n           android:drawableRight=\"@drawable/icon_filter_white\"\r\n-          android:background=\"?attr/filter_select_background_color\"\r", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg0MzYyNQ=="}, "originalCommit": {"oid": "a82844019a9ed3c30c20826ac35fe57c9c06ec5d"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3Nzk0MDgwOnYy", "diffSide": "LEFT", "path": "app/res/layout/geopoint_layout.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwNzo0MjozNlrOHVD1-w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwOTo1MTo1MFrOHXSr8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg0NTExNQ==", "bodyText": "wondering why are we removing the primary text color?", "url": "https://github.com/dimagi/commcare-android/pull/2342#discussion_r491845115", "createdAt": "2020-09-21T07:42:36Z", "author": {"login": "ShivamPokhriyal"}, "path": "app/res/layout/geopoint_layout.xml", "diffHunk": "@@ -37,24 +37,21 @@\n                 android:layout_height=\"fill_parent\"\n                 android:layout_weight=\"1\"\n                 android:text=\"@string/go_to_location\"\n-                android:textColor=\"@color/white\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82844019a9ed3c30c20826ac35fe57c9c06ec5d"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDE4NTQ1OQ==", "bodyText": "Text color on buttons is set to white by default.", "url": "https://github.com/dimagi/commcare-android/pull/2342#discussion_r494185459", "createdAt": "2020-09-24T09:51:50Z", "author": {"login": "shubham1g5"}, "path": "app/res/layout/geopoint_layout.xml", "diffHunk": "@@ -37,24 +37,21 @@\n                 android:layout_height=\"fill_parent\"\n                 android:layout_weight=\"1\"\n                 android:text=\"@string/go_to_location\"\n-                android:textColor=\"@color/white\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg0NTExNQ=="}, "originalCommit": {"oid": "a82844019a9ed3c30c20826ac35fe57c9c06ec5d"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3ODA4NjY4OnYy", "diffSide": "RIGHT", "path": "app/res/layout/single_app_view.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwODoyNDozMVrOHVFLYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwODoyNDozMVrOHVFLYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg2Njk3Ng==", "bodyText": "we can change this one as well to use textAppearance", "url": "https://github.com/dimagi/commcare-android/pull/2342#discussion_r491866976", "createdAt": "2020-09-21T08:24:31Z", "author": {"login": "ShivamPokhriyal"}, "path": "app/res/layout/single_app_view.xml", "diffHunk": "@@ -1,82 +1,78 @@\n <?xml version=\"1.0\" encoding=\"utf-8\"?>\n <LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n-              android:layout_width=\"match_parent\"\n+              android:gravity=\"center\"\n               android:layout_height=\"wrap_content\"\n-              android:orientation=\"vertical\"\n-              android:gravity=\"center\">\n+              android:layout_width=\"match_parent\"\n+              android:orientation=\"vertical\">\n \n     <TextView\n+        android:gravity=\"center\"\n         android:id=\"@+id/app_name\"\n-        android:textSize=\"@dimen/font_size_xlargest\"\n-        android:layout_width=\"wrap_content\"\n         android:layout_height=\"wrap_content\"\n-        android:paddingTop=\"@dimen/standard_spacer\"\n+        android:layout_width=\"wrap_content\"\n         android:paddingBottom=\"@dimen/standard_spacer\"\n+        android:paddingTop=\"@dimen/standard_spacer\"\n         android:textColor=\"@color/darkest_grey\"\n-        android:gravity=\"center\"/>\n+        android:textSize=\"@dimen/font_size_xlargest\"/>\n \n     <TextView\n+        android:gravity=\"center\"\n         android:id=\"@+id/app_version\"\n-        android:textSize=\"@dimen/font_size_small\"\n-        android:layout_width=\"wrap_content\"\n         android:layout_height=\"wrap_content\"\n+        android:layout_width=\"wrap_content\"\n         android:textColor=\"@color/darkest_grey\"\n-        android:gravity=\"center\"/>\n+        android:textSize=\"@dimen/font_size_small\"/>\n \n     <TextView\n+        android:gravity=\"center\"\n         android:id=\"@+id/profile_warning\"\n-        android:textSize=\"@dimen/font_size_large\"\n-        android:layout_width=\"wrap_content\"\n         android:layout_height=\"wrap_content\"\n+        android:layout_width=\"wrap_content\"\n         android:text=\"@string/pre_multiple_apps_warning\"\n         android:textColor=\"@color/cc_attention_negative_color\"\n-        android:gravity=\"center\"\n+        android:textSize=\"@dimen/font_size_large\"\n         android:visibility=\"visible\"/>\n \n     <Button\n         android:id=\"@+id/uninstall_button\"\n-        android:text=\"@string/uninstall_app\"\n-        android:textSize=\"@dimen/font_size_xlargest\"\n-        android:layout_width=\"fill_parent\"\n         android:layout_height=\"wrap_content\"\n+        android:layout_margin=\"@dimen/standard_spacer\"\n+        android:layout_width=\"fill_parent\"\n         android:onClick=\"rebootAlertDialog\"\n+        android:text=\"@string/uninstall_app\"\n         android:textColor=\"@color/blue\"\n-        android:layout_marginTop=\"@dimen/standard_spacer\"\n-        android:paddingTop=\"@dimen/standard_spacer\"\n-        android:paddingBottom=\"@dimen/standard_spacer\"/>\n+        android:textSize=\"@dimen/font_size_xlargest\"/>\n \n     <Button\n         android:id=\"@+id/archive_button\"\n-        android:text=\"@string/archive_app\"\n-        android:textSize=\"@dimen/font_size_xlargest\"\n-        android:layout_width=\"fill_parent\"\n         android:layout_height=\"wrap_content\"\n+        android:layout_margin=\"@dimen/standard_spacer\"\n+        android:layout_width=\"fill_parent\"\n         android:onClick=\"toggleArchiveClicked\"\n+        android:text=\"@string/archive_app\"\n         android:textColor=\"@color/darkest_grey\"\n-        android:paddingBottom=\"@dimen/standard_spacer\"\n-        android:paddingTop=\"@dimen/standard_spacer\"/>\n+        android:textSize=\"@dimen/font_size_xlargest\"/>\n \n     <Button\n         android:id=\"@+id/update_button\"\n-        android:text=\"@string/update_app\"\n-        android:textSize=\"@dimen/font_size_xlargest\"\n-        android:layout_width=\"fill_parent\"\n         android:layout_height=\"wrap_content\"\n+        android:layout_margin=\"@dimen/standard_spacer\"\n+        android:layout_width=\"fill_parent\"\n         android:onClick=\"updateClicked\"\n+        android:text=\"@string/update_app\"\n         android:textColor=\"@color/blue\"\n-        android:paddingBottom=\"@dimen/standard_spacer\"\n-        android:paddingTop=\"@dimen/standard_spacer\"/>\n+        android:textSize=\"@dimen/font_size_xlargest\"/>\n \n     <Button\n+        android:clickable=\"true\"\n         android:id=\"@+id/verify_button\"\n-        android:text=\"@string/verify_resources\"\n-        android:textSize=\"@dimen/font_size_xlargest\"\n-        android:layout_width=\"fill_parent\"\n         android:layout_height=\"wrap_content\"\n-        android:clickable=\"true\"\n+        android:layout_margin=\"@dimen/standard_spacer\"\n+        android:layout_width=\"fill_parent\"\n         android:onClick=\"verifyResourcesClicked\"\n+        android:text=\"@string/verify_resources\"\n         android:textColor=\"@color/darkest_grey\"\n-        android:paddingBottom=\"@dimen/standard_spacer\"\n-        android:paddingTop=\"@dimen/standard_spacer\"/>\n+        android:textSize=\"@dimen/font_size_xlargest\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82844019a9ed3c30c20826ac35fe57c9c06ec5d"}, "originalPosition": 110}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3ODA5MDkyOnYy", "diffSide": "RIGHT", "path": "app/res/layout/user_get_available_apps.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwODoyNTo0M1rOHVFN6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQwODoyNTo0M1rOHVFN6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTg2NzYyNw==", "bodyText": "We can avoid this hardcoded value here.", "url": "https://github.com/dimagi/commcare-android/pull/2342#discussion_r491867627", "createdAt": "2020-09-21T08:25:43Z", "author": {"login": "ShivamPokhriyal"}, "path": "app/res/layout/user_get_available_apps.xml", "diffHunk": "@@ -34,6 +34,25 @@\n                     android:layout_margin=\"@dimen/content_min_margin\"\n                     android:layout_marginBottom=\"@dimen/standard_spacer_large\"/>\n \n+            <LinearLayout\n+                android:layout_width=\"match_parent\"\n+                android:layout_height=\"wrap_content\"\n+                android:gravity=\"center_horizontal\"\n+                android:orientation=\"horizontal\">\n+\n+                <androidx.appcompat.widget.SwitchCompat\n+                    android:id=\"@+id/switch_button\"\n+                    android:layout_height=\"match_parent\"\n+                    android:layout_width=\"wrap_content\"\n+                    android:orientation=\"vertical\"\n+                    android:layout_marginBottom=\"@dimen/standard_spacer_large\" />\n+\n+                <TextView\n+                    android:id=\"@+id/switch_button_right_label\"\n+                    android:text=\"Mobile User\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82844019a9ed3c30c20826ac35fe57c9c06ec5d"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5MjczNjg5OnYy", "diffSide": "RIGHT", "path": "app/src/org/commcare/activities/CommcareListActivity.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwOTowMjozOFrOHXQ18Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwOTowMjozOFrOHXQ18Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDE1NTI0OQ==", "bodyText": "nit: Would be great to have some docs here.", "url": "https://github.com/dimagi/commcare-android/pull/2342#discussion_r494155249", "createdAt": "2020-09-24T09:02:38Z", "author": {"login": "ShivamPokhriyal"}, "path": "app/src/org/commcare/activities/CommcareListActivity.java", "diffHunk": "@@ -0,0 +1,69 @@\n+package org.commcare.activities;\n+\n+import androidx.appcompat.app.AppCompatActivity;\n+import android.os.Bundle;\n+import android.view.View;\n+import android.widget.AdapterView;\n+import android.widget.ListAdapter;\n+import android.widget.ListView;\n+\n+import org.commcare.dalvik.R;\n+\n+public class CommcareListActivity extends AppCompatActivity {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82844019a9ed3c30c20826ac35fe57c9c06ec5d"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5Mjc0ODk0OnYy", "diffSide": "RIGHT", "path": "app/src/org/commcare/activities/CommcareListActivity.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwOTowNTo1MlrOHXQ9kg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQxMDowOToxNlrOHXTUfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDE1NzIwMg==", "bodyText": "nit: Would be good to replace the variable names: v -> view and l -> parent?", "url": "https://github.com/dimagi/commcare-android/pull/2342#discussion_r494157202", "createdAt": "2020-09-24T09:05:52Z", "author": {"login": "ShivamPokhriyal"}, "path": "app/src/org/commcare/activities/CommcareListActivity.java", "diffHunk": "@@ -0,0 +1,69 @@\n+package org.commcare.activities;\n+\n+import androidx.appcompat.app.AppCompatActivity;\n+import android.os.Bundle;\n+import android.view.View;\n+import android.widget.AdapterView;\n+import android.widget.ListAdapter;\n+import android.widget.ListView;\n+\n+import org.commcare.dalvik.R;\n+\n+public class CommcareListActivity extends AppCompatActivity {\n+\n+    protected ListAdapter mAdapter;\n+    protected ListView mListView;\n+\n+    @Override\n+    protected void onCreate(Bundle savedInstanceState) {\n+        super.onCreate(savedInstanceState);\n+        setContentView(getLayoutResource());\n+        mListView = findViewById(R.id.list_view);\n+        if (mListView == null) {\n+            throw new RuntimeException(\n+                    \"Your content must have a ListView whose id attribute is \" +\n+                            \"'android.R.id.list'\");\n+        }\n+\n+        View emptyView = findViewById(R.id.empty);\n+        if (emptyView != null) {\n+            mListView.setEmptyView(emptyView);\n+        }\n+        mListView.setOnItemClickListener(mOnClickListener);\n+    }\n+\n+    public int getLayoutResource() {\n+        return R.layout.activity_commcare_list;\n+    }\n+\n+    public void setListAdapter(ListAdapter adapter) {\n+        synchronized (this) {\n+            mAdapter = adapter;\n+            mListView.setAdapter(adapter);\n+        }\n+    }\n+\n+    public ListAdapter getListAdapter() {\n+        return mAdapter;\n+    }\n+\n+    public ListView getListView() {\n+        return mListView;\n+    }\n+\n+    private AdapterView.OnItemClickListener mOnClickListener = (parent, v, position, id) -> onListItemClick((ListView)parent, v, position, id);\n+\n+    /**\n+     * This method will be called when an item in the list is selected.\n+     * Subclasses should override. Subclasses can call\n+     * getListView().getItemAtPosition(position) if they need to access the\n+     * data associated with the selected item.\n+     *\n+     * @param l The ListView where the click happened\n+     * @param v The view that was clicked within the ListView\n+     * @param position The position of the view in the list\n+     * @param id The row id of the item that was clicked\n+     */\n+    protected void onListItemClick(ListView l, View v, int position, long id) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82844019a9ed3c30c20826ac35fe57c9c06ec5d"}, "originalPosition": 67}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDE5NTgzNg==", "bodyText": "not changing this to be consistent with ListActivity.java", "url": "https://github.com/dimagi/commcare-android/pull/2342#discussion_r494195836", "createdAt": "2020-09-24T10:09:16Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/activities/CommcareListActivity.java", "diffHunk": "@@ -0,0 +1,69 @@\n+package org.commcare.activities;\n+\n+import androidx.appcompat.app.AppCompatActivity;\n+import android.os.Bundle;\n+import android.view.View;\n+import android.widget.AdapterView;\n+import android.widget.ListAdapter;\n+import android.widget.ListView;\n+\n+import org.commcare.dalvik.R;\n+\n+public class CommcareListActivity extends AppCompatActivity {\n+\n+    protected ListAdapter mAdapter;\n+    protected ListView mListView;\n+\n+    @Override\n+    protected void onCreate(Bundle savedInstanceState) {\n+        super.onCreate(savedInstanceState);\n+        setContentView(getLayoutResource());\n+        mListView = findViewById(R.id.list_view);\n+        if (mListView == null) {\n+            throw new RuntimeException(\n+                    \"Your content must have a ListView whose id attribute is \" +\n+                            \"'android.R.id.list'\");\n+        }\n+\n+        View emptyView = findViewById(R.id.empty);\n+        if (emptyView != null) {\n+            mListView.setEmptyView(emptyView);\n+        }\n+        mListView.setOnItemClickListener(mOnClickListener);\n+    }\n+\n+    public int getLayoutResource() {\n+        return R.layout.activity_commcare_list;\n+    }\n+\n+    public void setListAdapter(ListAdapter adapter) {\n+        synchronized (this) {\n+            mAdapter = adapter;\n+            mListView.setAdapter(adapter);\n+        }\n+    }\n+\n+    public ListAdapter getListAdapter() {\n+        return mAdapter;\n+    }\n+\n+    public ListView getListView() {\n+        return mListView;\n+    }\n+\n+    private AdapterView.OnItemClickListener mOnClickListener = (parent, v, position, id) -> onListItemClick((ListView)parent, v, position, id);\n+\n+    /**\n+     * This method will be called when an item in the list is selected.\n+     * Subclasses should override. Subclasses can call\n+     * getListView().getItemAtPosition(position) if they need to access the\n+     * data associated with the selected item.\n+     *\n+     * @param l The ListView where the click happened\n+     * @param v The view that was clicked within the ListView\n+     * @param position The position of the view in the list\n+     * @param id The row id of the item that was clicked\n+     */\n+    protected void onListItemClick(ListView l, View v, int position, long id) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDE1NzIwMg=="}, "originalCommit": {"oid": "a82844019a9ed3c30c20826ac35fe57c9c06ec5d"}, "originalPosition": 67}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA5Mjc1OTg3OnYy", "diffSide": "LEFT", "path": "app/src/org/commcare/activities/FormEntryActivity.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNFQwOTowODo0NFrOHXRENg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yNVQwNzozNjoxOVrOHX4Zeg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDE1ODkwMg==", "bodyText": "Ohh strange. Is this not needed anymore?", "url": "https://github.com/dimagi/commcare-android/pull/2342#discussion_r494158902", "createdAt": "2020-09-24T09:08:44Z", "author": {"login": "ShivamPokhriyal"}, "path": "app/src/org/commcare/activities/FormEntryActivity.java", "diffHunk": "@@ -212,22 +209,6 @@ public void onCreateSessionSafe(Bundle savedInstanceState) {\n         }\n     }\n \n-    @Override", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82844019a9ed3c30c20826ac35fe57c9c06ec5d"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDIwMzUwNA==", "bodyText": "Two reasons why I removed this -\n\nonMenuItemSelected is final in AppCompatActivity demanding a change here\nThis will only be applicable for api v17 devices and quick look through analytics suggest that we don't have any users on api-17 devices.", "url": "https://github.com/dimagi/commcare-android/pull/2342#discussion_r494203504", "createdAt": "2020-09-24T10:22:40Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/activities/FormEntryActivity.java", "diffHunk": "@@ -212,22 +209,6 @@ public void onCreateSessionSafe(Bundle savedInstanceState) {\n         }\n     }\n \n-    @Override", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDE1ODkwMg=="}, "originalCommit": {"oid": "a82844019a9ed3c30c20826ac35fe57c9c06ec5d"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDgwMzMyMg==", "bodyText": "This will only be applicable for api v17 devices and quick look through analytics suggest that we don't have any users on api-17 devices.\n\nThis doesn't seem true anymore. Suddently there is an influx of devices on v17. Unfortunately BS doesn't have any devices less than 4.4 for me to test any new implementations of this method. Therefore committed an alternative change to this which removes setting spannable to the Context menu. This was redundant there as we don't have any formatting anyway in that context menu and just plain strings. So there is no use of using Spannnables there.  Also love how useful the links to tickets in PRs are. I was able to track this down to http://manage.dimagi.com/default.asp?174626", "url": "https://github.com/dimagi/commcare-android/pull/2342#discussion_r494803322", "createdAt": "2020-09-25T07:36:19Z", "author": {"login": "shubham1g5"}, "path": "app/src/org/commcare/activities/FormEntryActivity.java", "diffHunk": "@@ -212,22 +209,6 @@ public void onCreateSessionSafe(Bundle savedInstanceState) {\n         }\n     }\n \n-    @Override", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NDE1ODkwMg=="}, "originalCommit": {"oid": "a82844019a9ed3c30c20826ac35fe57c9c06ec5d"}, "originalPosition": 47}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3150, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}