{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQzOTcwODAy", "number": 1200, "title": "Autotests gs pipelines storages", "bodyText": "This PR provides implementation last 7 Global Search Tests", "createdAt": "2020-07-03T10:01:35Z", "url": "https://github.com/epam/cloud-pipeline/pull/1200", "merged": true, "mergeCommit": {"oid": "01ad4580dc09e9aee2890fda770fbf9d644aea62"}, "closed": true, "closedAt": "2020-07-14T14:07:46Z", "author": {"login": "maryvictol"}, "timelineItems": {"totalCount": 21, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcvGQcjgH2gAyNDQzOTcwODAyOjM4YmQzOGIzMWU1ZDk0YjMxNDY2YzJlYmY1OTdmOTUyZGQ3MDg1ZmM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc02k3UgFqTQ0ODEzODkyMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "38bd38b31e5d94b31466c2ebf597f952dd7085fc", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/38bd38b31e5d94b31466c2ebf597f952dd7085fc", "committedDate": "2020-06-26T16:57:55Z", "message": "add 2664, 2667, 2668, 2669 GlobalSearch Tests\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "17d18451d207148e7308627b92b50c404cbc8fef", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/17d18451d207148e7308627b92b50c404cbc8fef", "committedDate": "2020-06-30T15:54:02Z", "message": "update GlobalSearch tests\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ec2603b3dd88e94ff08b4cf5749d6ca701496567", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/ec2603b3dd88e94ff08b4cf5749d6ca701496567", "committedDate": "2020-06-30T17:39:54Z", "message": "fix GlobalSearch tests\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ffd2ba04f672c5c58eaaba4c4535e6abf1e7c7e", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/6ffd2ba04f672c5c58eaaba4c4535e6abf1e7c7e", "committedDate": "2020-06-30T20:14:26Z", "message": "fix GlobalSearch tests\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a33778c3923f1594c290762ca923808dcd5f5e72", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/a33778c3923f1594c290762ca923808dcd5f5e72", "committedDate": "2020-06-30T20:53:21Z", "message": "small fix\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5ea1ed44d927a0b4ca5d08e0f91cdb8f6695ff02", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/5ea1ed44d927a0b4ca5d08e0f91cdb8f6695ff02", "committedDate": "2020-06-30T22:06:22Z", "message": "small fix\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fcb8eb59a46280bfaa832c2b2200e01af7b98ed", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/7fcb8eb59a46280bfaa832c2b2200e01af7b98ed", "committedDate": "2020-07-01T12:39:39Z", "message": "small fix GlobalSearch tests\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1fee9d0147c25f9e867ce608228b2b559e86dc37", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/1fee9d0147c25f9e867ce608228b2b559e86dc37", "committedDate": "2020-07-02T17:22:10Z", "message": "Merge branch 'develop' into autotests_gs_pipelines_storages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4fa9b9ae29b7b533cc8c2564cb7dd678f30e482", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/e4fa9b9ae29b7b533cc8c2564cb7dd678f30e482", "committedDate": "2020-07-02T22:11:53Z", "message": "Merge branch 'develop' into autotests_gs_pipelines_storages"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2babf4b32914c6dc5e72eee26f16ad5858b4d2bc", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/2babf4b32914c6dc5e72eee26f16ad5858b4d2bc", "committedDate": "2020-07-03T11:33:18Z", "message": "small fix\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>"}, "afterCommit": {"oid": "0893aa92e47e394e2372f4c70255d6039033c89a", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/0893aa92e47e394e2372f4c70255d6039033c89a", "committedDate": "2020-07-03T11:47:57Z", "message": "small fix\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyMzg2NTQ3", "url": "https://github.com/epam/cloud-pipeline/pull/1200#pullrequestreview-442386547", "createdAt": "2020-07-03T12:41:23Z", "commit": {"oid": "0893aa92e47e394e2372f4c70255d6039033c89a"}, "state": "COMMENTED", "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxMjo0MToyNFrOGsvKSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxMzoyMDoxNlrOGswM9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU2MzIxMQ==", "bodyText": "Add a space between 0, and ip.indexOf(\"\\n\"), please", "url": "https://github.com/epam/cloud-pipeline/pull/1200#discussion_r449563211", "createdAt": "2020-07-03T12:41:24Z", "author": {"login": "kamyshova"}, "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/ClusterNodeTest.java", "diffHunk": "@@ -102,7 +102,7 @@ public void shouldFilterNodeByAddress() throws InterruptedException {\n         final String ip = clusterMenuAO.getNodeAddress(getRunId());\n         final int nodesCountBeforeFiltering = clusterMenuAO.getNodesCount();\n \n-        clusterMenuAO.filerBy(ClusterMenuAO.HeaderColumn.ADDRESS, ip);\n+        clusterMenuAO.filerBy(ClusterMenuAO.HeaderColumn.ADDRESS, ip.substring(0,ip.indexOf(\"\\n\")));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0893aa92e47e394e2372f4c70255d6039033c89a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU2MzkwOA==", "bodyText": "Licence header of file should be updated according to changes", "url": "https://github.com/epam/cloud-pipeline/pull/1200#discussion_r449563908", "createdAt": "2020-07-03T12:42:57Z", "author": {"login": "kamyshova"}, "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/ClusterNodeTest.java", "diffHunk": "@@ -102,7 +102,7 @@ public void shouldFilterNodeByAddress() throws InterruptedException {\n         final String ip = clusterMenuAO.getNodeAddress(getRunId());\n         final int nodesCountBeforeFiltering = clusterMenuAO.getNodesCount();\n \n-        clusterMenuAO.filerBy(ClusterMenuAO.HeaderColumn.ADDRESS, ip);\n+        clusterMenuAO.filerBy(ClusterMenuAO.HeaderColumn.ADDRESS, ip.substring(0,ip.indexOf(\"\\n\")));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU2MzIxMQ=="}, "originalCommit": {"oid": "0893aa92e47e394e2372f4c70255d6039033c89a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU2NDU3NQ==", "bodyText": "This value should be taken from default constants", "url": "https://github.com/epam/cloud-pipeline/pull/1200#discussion_r449564575", "createdAt": "2020-07-03T12:44:30Z", "author": {"login": "kamyshova"}, "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/GlobalSearchTest.java", "diffHunk": "@@ -61,13 +62,19 @@\n     private final String storageFolder = \"globalSearchStorageFolder\" + Utils.randomSuffix();\n     private final String storageFile = \"globalSearchStorageFile\" + Utils.randomSuffix();\n     private final String storageFileContent = \"globalSearchStorageFileContent\" + Utils.randomSuffix();\n+    private final String storageFile2 = \"globalSearchStorageFile2\" + Utils.randomSuffix();\n     private final String storageAlias = \"globalSearchStorageAlias\" + Utils.randomSuffix();\n-    private final String customConfigurationProfile = \"custom-profile\";\n+    private final String toolEndpoint = \"e2e-endpoints\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0893aa92e47e394e2372f4c70255d6039033c89a"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU2NTAxMw==", "bodyText": "The same as above", "url": "https://github.com/epam/cloud-pipeline/pull/1200#discussion_r449565013", "createdAt": "2020-07-03T12:45:25Z", "author": {"login": "kamyshova"}, "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/GlobalSearchTest.java", "diffHunk": "@@ -61,13 +62,19 @@\n     private final String storageFolder = \"globalSearchStorageFolder\" + Utils.randomSuffix();\n     private final String storageFile = \"globalSearchStorageFile\" + Utils.randomSuffix();\n     private final String storageFileContent = \"globalSearchStorageFileContent\" + Utils.randomSuffix();\n+    private final String storageFile2 = \"globalSearchStorageFile2\" + Utils.randomSuffix();\n     private final String storageAlias = \"globalSearchStorageAlias\" + Utils.randomSuffix();\n-    private final String customConfigurationProfile = \"custom-profile\";\n+    private final String toolEndpoint = \"e2e-endpoints\";\n+    private final String toolVersion = \"latest\";\n+    private final String toolShortDescription = \"Docker image used in E2E automated tests to verify HTTP endpoints and SSH access\";\n+    private final String toolDescription = \"HTTP endpoints work correctly (will perform JWT authentication and print user's name)\";\n+    private final String customConfigurationProfile = \"customprofile\" + Utils.randomSuffix();\n     private final String customDisk = \"22\";\n     private final String defaultInstanceType = C.DEFAULT_INSTANCE;\n     private final String defaultRegistry = C.DEFAULT_REGISTRY;\n     private final String defaultGroup = C.DEFAULT_GROUP;\n     private final String testingTool = C.TESTING_TOOL_NAME;\n+    private final String toolWithGroup = String.format(\"%s/%s\", C.DEFAULT_GROUP, toolEndpoint);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0893aa92e47e394e2372f4c70255d6039033c89a"}, "originalPosition": 52}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU2NTgyNQ==", "bodyText": "This check is not needed anymore?", "url": "https://github.com/epam/cloud-pipeline/pull/1200#discussion_r449565825", "createdAt": "2020-07-03T12:47:20Z", "author": {"login": "kamyshova"}, "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/GlobalSearchTest.java", "diffHunk": "@@ -299,12 +306,10 @@ public void searchForPipelineRunByID() {\n     @Test\n     @TestCase(value = {\"EPMCMBIBPC-2660\"})\n     public void searchForStorage() {\n-        home().sleep(2, SECONDS);\n         search()\n                 .search(storage)\n                 .enter()\n                 .sleep(2, SECONDS)\n-                .validateCountSearchResults(2)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0893aa92e47e394e2372f4c70255d6039033c89a"}, "originalPosition": 96}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTU4MDI3OA==", "bodyText": "Add a new line, please", "url": "https://github.com/epam/cloud-pipeline/pull/1200#discussion_r449580278", "createdAt": "2020-07-03T13:20:16Z", "author": {"login": "kamyshova"}, "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/ao/ToolPageAO.java", "diffHunk": "@@ -53,10 +62,16 @@ public ToolPageAO validateEndpointPage() {\n \n     @Override\n     public Map<Primitive, SelenideElement> elements() {\n-        return Collections.emptyMap();\n+        return elements;\n     }\n \n     public String getEndpoint() {\n         return endpoint;\n     }\n-}\n+\n+    public void closeTab(){\n+        List<String> tabs = new ArrayList<String>(getWebDriver().getWindowHandles());\n+        getWebDriver().close();\n+        switchTo().window(tabs.get(0));\n+    }\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0893aa92e47e394e2372f4c70255d6039033c89a"}, "originalPosition": 54}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQyNDQ4MzE2", "url": "https://github.com/epam/cloud-pipeline/pull/1200#pullrequestreview-442448316", "createdAt": "2020-07-03T14:28:10Z", "commit": {"oid": "0893aa92e47e394e2372f4c70255d6039033c89a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxNDoyODoxMFrOGsyDEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wM1QxNDoyODoxMFrOGsyDEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0OTYxMDUxNA==", "bodyText": "It would be better get $(title()).getText()", "url": "https://github.com/epam/cloud-pipeline/pull/1200#discussion_r449610514", "createdAt": "2020-07-03T14:28:10Z", "author": {"login": "kamyshova"}, "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/ao/Configuration.java", "diffHunk": "@@ -327,4 +328,8 @@ public static Runnable confirmConfigurationChange() {\n         return () -> new ConfirmationPopupAO<>(new Object()).ensureTitleIs(\"Are you sure you want to change configuration?\").ok();\n     }\n \n+    public Configuration assertPageTitleIs(final String expectedTitle) {\n+        assertTrue($(title()).toString().contains(expectedTitle));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0893aa92e47e394e2372f4c70255d6039033c89a"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "aee15d5c33c59198082bd2d2cbbc94bea1a037d7", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/aee15d5c33c59198082bd2d2cbbc94bea1a037d7", "committedDate": "2020-07-03T15:40:23Z", "message": "small fix\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0893aa92e47e394e2372f4c70255d6039033c89a", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/0893aa92e47e394e2372f4c70255d6039033c89a", "committedDate": "2020-07-03T11:47:57Z", "message": "small fix\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>"}, "afterCommit": {"oid": "aee15d5c33c59198082bd2d2cbbc94bea1a037d7", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/aee15d5c33c59198082bd2d2cbbc94bea1a037d7", "committedDate": "2020-07-03T15:40:23Z", "message": "small fix\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6fd1afe9ff18a16d6efac553b58ee2d819bf2c05", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/6fd1afe9ff18a16d6efac553b58ee2d819bf2c05", "committedDate": "2020-07-06T09:35:21Z", "message": "changes correspond review comments\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75a2a096801abd99fe42fa5b0e899443e68dccce", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/75a2a096801abd99fe42fa5b0e899443e68dccce", "committedDate": "2020-07-13T14:38:21Z", "message": "Merge branch 'develop' into autotests_gs_pipelines_storages"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28aa6b8ff6b160d083bb8ddd0120260d612751fb", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/28aa6b8ff6b160d083bb8ddd0120260d612751fb", "committedDate": "2020-07-13T15:44:39Z", "message": "small fix\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1c88a0d12de4cbfecafd71a544e9913817e4d19", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/b1c88a0d12de4cbfecafd71a544e9913817e4d19", "committedDate": "2020-07-13T17:54:19Z", "message": "small fix\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a4619909537d09debb0f5bed97361d4a7a234f6", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/8a4619909537d09debb0f5bed97361d4a7a234f6", "committedDate": "2020-07-13T21:50:47Z", "message": "update GlobalSearch tests\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22990b928b52d62beeb0777b86ecdd98cd66af2d", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/22990b928b52d62beeb0777b86ecdd98cd66af2d", "committedDate": "2020-07-13T22:53:02Z", "message": "update GlobalSearch tests\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MTM4OTIy", "url": "https://github.com/epam/cloud-pipeline/pull/1200#pullrequestreview-448138922", "createdAt": "2020-07-14T14:05:18Z", "commit": {"oid": "22990b928b52d62beeb0777b86ecdd98cd66af2d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3794, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}