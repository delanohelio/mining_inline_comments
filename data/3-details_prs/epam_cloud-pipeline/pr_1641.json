{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1MTIwNzQ4", "number": 1641, "title": "Issue #1636 Node pools for Azure and GCP", "bodyText": "This PR is related to issue #1636.\nIt brings support of node pool operations for Azure and GCP.", "createdAt": "2020-12-09T11:45:28Z", "url": "https://github.com/epam/cloud-pipeline/pull/1641", "merged": true, "mergeCommit": {"oid": "80e22ab45e26975125ba392f6e92dd740770b4ac"}, "closed": true, "closedAt": "2020-12-30T12:56:10Z", "author": {"login": "Wedds"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkKApcAH2gAyNTM1MTIwNzQ4OjUwNmJhZmMzYjg1MDJhNTNkNDAxZDI5NTk3NzA5NWU2ZTRlNTc0ODk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdrOzmwgFqTU2MDAzNTUzNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "506bafc3b8502a53d401d295977095e6e4e57489", "author": {"user": {"login": "Wedds", "name": "Andrey Georgitsa"}}, "url": "https://github.com/epam/cloud-pipeline/commit/506bafc3b8502a53d401d295977095e6e4e57489", "committedDate": "2020-12-08T13:18:16Z", "message": "Issue #1636 Implement scaling/reassigning in node pool for AzureInstanceService"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4e2226ddcc7f385e68b47307976a13be710b6c89", "author": {"user": {"login": "Wedds", "name": "Andrey Georgitsa"}}, "url": "https://github.com/epam/cloud-pipeline/commit/4e2226ddcc7f385e68b47307976a13be710b6c89", "committedDate": "2020-12-08T13:18:39Z", "message": "Issue #1636 Implement scaling/reassigning in node pool for GCPInstanceService"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "063bb1fca0068edd9afa901eecd3e6e80489fbe6", "author": {"user": {"login": "Wedds", "name": "Andrey Georgitsa"}}, "url": "https://github.com/epam/cloud-pipeline/commit/063bb1fca0068edd9afa901eecd3e6e80489fbe6", "committedDate": "2020-12-08T15:33:29Z", "message": "Issue #1636 Call suitable method for building node down command in AzureInstanceService"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10f3085c0bcb896f20f1a67c9d5c1bbde72a4e8a", "author": {"user": {"login": "Wedds", "name": "Andrey Georgitsa"}}, "url": "https://github.com/epam/cloud-pipeline/commit/10f3085c0bcb896f20f1a67c9d5c1bbde72a4e8a", "committedDate": "2020-12-09T11:29:35Z", "message": "Issue #1636 Code cleanup for recently implemented methods"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "57c3753b568e76d141377d188c34c30bf6ea78fc", "author": {"user": {"login": "Wedds", "name": "Andrey Georgitsa"}}, "url": "https://github.com/epam/cloud-pipeline/commit/57c3753b568e76d141377d188c34c30bf6ea78fc", "committedDate": "2020-12-09T12:02:13Z", "message": "Issue #1636 Add pre_pull_images argument support"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ5MTI4NDc3", "url": "https://github.com/epam/cloud-pipeline/pull/1641#pullrequestreview-549128477", "createdAt": "2020-12-10T12:03:10Z", "commit": {"oid": "57c3753b568e76d141377d188c34c30bf6ea78fc"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMjowMzoxMFrOIDF7Ew==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xMFQxMjowNDozM1rOIDF-JA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDExMzY4Mw==", "bodyText": "Let's use empty list as default value: pre_pull_images =[]", "url": "https://github.com/epam/cloud-pipeline/pull/1641#discussion_r540113683", "createdAt": "2020-12-10T12:03:10Z", "author": {"login": "mzueva"}, "path": "workflows/pipe-common/pipeline/autoscaling/awsprovider.py", "diffHunk": "@@ -68,14 +68,14 @@ def __init__(self, cloud_region, num_rep=10):\n             self.ec2 = boto3.client('ec2', config=Config(retries={'max_attempts': BOTO3_RETRY_COUNT}))\n \n     def run_instance(self, is_spot, bid_price, ins_type, ins_hdd, ins_img, ins_key, run_id, kms_encyr_key_id,\n-                     num_rep, time_rep, kube_ip, kubeadm_token):\n+                     num_rep, time_rep, kube_ip, kubeadm_token, pre_pull_images=None):", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57c3753b568e76d141377d188c34c30bf6ea78fc"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MDExNDQ2OA==", "bodyText": "We also need to apply pipe_log changes to this file", "url": "https://github.com/epam/cloud-pipeline/pull/1641#discussion_r540114468", "createdAt": "2020-12-10T12:04:33Z", "author": {"login": "mzueva"}, "path": "workflows/pipe-common/pipeline/autoscaling/utils.py", "diffHunk": "@@ -18,6 +18,7 @@\n import json\n import math\n from pipeline import Logger, TaskStatus, PipelineAPI, pack_script_contents\n+import jwt", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "57c3753b568e76d141377d188c34c30bf6ea78fc"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07de2100972dd4042b8069e6fd404ced262e1ddf", "author": {"user": {"login": "Wedds", "name": "Andrey Georgitsa"}}, "url": "https://github.com/epam/cloud-pipeline/commit/07de2100972dd4042b8069e6fd404ced262e1ddf", "committedDate": "2020-12-10T12:28:16Z", "message": "Issue #1636 Add pipe_log changes to common utils"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c099d988f2982cb49b23b936435af87657c45543", "author": {"user": {"login": "Wedds", "name": "Andrey Georgitsa"}}, "url": "https://github.com/epam/cloud-pipeline/commit/c099d988f2982cb49b23b936435af87657c45543", "committedDate": "2020-12-10T12:33:57Z", "message": "Issue #1636 Use empty list as a default value for pre_pull_images"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYwMDM1NTM1", "url": "https://github.com/epam/cloud-pipeline/pull/1641#pullrequestreview-560035535", "createdAt": "2020-12-30T12:51:01Z", "commit": {"oid": "c099d988f2982cb49b23b936435af87657c45543"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3598, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}