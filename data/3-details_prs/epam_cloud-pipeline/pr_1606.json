{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI3NTI4Mzgw", "number": 1606, "title": "Issue 1405: Implemented tests for notification controllers", "bodyText": "This PR is related to issue #1405 and contains tests implementation for notification controllers", "createdAt": "2020-11-25T15:32:46Z", "url": "https://github.com/epam/cloud-pipeline/pull/1606", "merged": true, "mergeCommit": {"oid": "a86d4ef44d1aab6fbb295a8deb01b909057967f5"}, "closed": true, "closedAt": "2020-12-09T10:51:48Z", "author": {"login": "cryteq"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdf7kuaAH2gAyNTI3NTI4MzgwOmRkYjNiYTcyYjI4Y2U3ZDIyYjAxZWZiMTg5M2Q1Yzc3NTMxZmEwOTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdj1QAPAFqTU0NjEyOTkzMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ddb3ba72b28ce7d22b01efb1893d5c77531fa095", "author": {"user": {"login": "cryteq", "name": "Mikhail Iniakin"}}, "url": "https://github.com/epam/cloud-pipeline/commit/ddb3ba72b28ce7d22b01efb1893d5c77531fa095", "committedDate": "2020-11-25T10:13:24Z", "message": "Issue #1405: Implemented tests for NotificationController"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5377b936bfacf772520816a5ca06d7e2f086412", "author": {"user": {"login": "cryteq", "name": "Mikhail Iniakin"}}, "url": "https://github.com/epam/cloud-pipeline/commit/f5377b936bfacf772520816a5ca06d7e2f086412", "committedDate": "2020-11-25T11:22:20Z", "message": "Issue #1405: Minor refactoring for NotificationControllerTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "65fa8480f9e6a4d25a2c8da34ab9afe4a3752ce9", "author": {"user": {"login": "cryteq", "name": "Mikhail Iniakin"}}, "url": "https://github.com/epam/cloud-pipeline/commit/65fa8480f9e6a4d25a2c8da34ab9afe4a3752ce9", "committedDate": "2020-11-25T11:22:52Z", "message": "Issue #1405: Implemented tests for NotificationSettingsController"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "14642753cd916b8e741d8e087d6eda19d88d9e23", "author": {"user": {"login": "cryteq", "name": "Mikhail Iniakin"}}, "url": "https://github.com/epam/cloud-pipeline/commit/14642753cd916b8e741d8e087d6eda19d88d9e23", "committedDate": "2020-11-25T13:16:38Z", "message": "Issue #1405: Implemented tests for NotificationTemplateController"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da434e33fa4744c876a94d310078489f1e7c1fb3", "author": {"user": {"login": "cryteq", "name": "Mikhail Iniakin"}}, "url": "https://github.com/epam/cloud-pipeline/commit/da434e33fa4744c876a94d310078489f1e7c1fb3", "committedDate": "2020-11-25T15:31:10Z", "message": "Issue #1405: Implemented tests for SystemNotificationController"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c66e84d9fd1ed8fe6dda3d62dab24ac1aa96f917", "author": {"user": {"login": "cryteq", "name": "Mikhail Iniakin"}}, "url": "https://github.com/epam/cloud-pipeline/commit/c66e84d9fd1ed8fe6dda3d62dab24ac1aa96f917", "committedDate": "2020-11-26T10:53:12Z", "message": "Issue #1405: Added JsonIgnore to isEmpty method"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e43c185fe88d6a2223e1069690fa28d2afcaced", "author": {"user": {"login": "cryteq", "name": "Mikhail Iniakin"}}, "url": "https://github.com/epam/cloud-pipeline/commit/2e43c185fe88d6a2223e1069690fa28d2afcaced", "committedDate": "2020-11-26T11:07:57Z", "message": "Issue #1405: Fixed test with Date param"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2MDE1MTUy", "url": "https://github.com/epam/cloud-pipeline/pull/1606#pullrequestreview-546015152", "createdAt": "2020-12-07T10:28:52Z", "commit": {"oid": "2e43c185fe88d6a2223e1069690fa28d2afcaced"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMDoyODo1MlrOIAf-Tg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMDoyODo1MlrOIAf-Tg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzM5NDc2Ng==", "bodyText": "Is it correct name for test?", "url": "https://github.com/epam/cloud-pipeline/pull/1606#discussion_r537394766", "createdAt": "2020-12-07T10:28:52Z", "author": {"login": "ekazachkova"}, "path": "api/src/test/java/com/epam/pipeline/controller/notification/NotificationControllerTest.java", "diffHunk": "@@ -0,0 +1,61 @@\n+/*\n+ * Copyright 2017-2020 EPAM Systems, Inc. (https://www.epam.com/)\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package com.epam.pipeline.controller.notification;\n+\n+import com.epam.pipeline.controller.vo.notification.NotificationMessageVO;\n+import com.epam.pipeline.entity.notification.NotificationMessage;\n+import com.epam.pipeline.manager.notification.NotificationApiService;\n+import com.epam.pipeline.test.web.AbstractControllerTest;\n+import org.junit.Test;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.security.test.context.support.WithMockUser;\n+import org.springframework.test.web.servlet.MvcResult;\n+\n+import static com.epam.pipeline.test.creator.notification.NotificationCreatorUtils.NOTIFICATION_MESSAGE_TYPE;\n+import static com.epam.pipeline.test.creator.notification.NotificationCreatorUtils.getNotificationMessage;\n+import static com.epam.pipeline.test.creator.notification.NotificationCreatorUtils.getNotificationMessageVO;\n+import static org.mockito.Mockito.doReturn;\n+import static org.mockito.Mockito.verify;\n+import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;\n+\n+public class NotificationControllerTest extends AbstractControllerTest {\n+\n+    private static final String NOTIFICATION_URL = SERVLET_PATH + \"/notification\";\n+    private static final String NOTIFICATION_MESSAGE_URL = NOTIFICATION_URL + \"/message\";\n+    private final NotificationMessage notificationMessage = getNotificationMessage();\n+    private final NotificationMessageVO notificationMessageVO = getNotificationMessageVO();\n+\n+    @Autowired\n+    private NotificationApiService mockNotificationApiService;\n+\n+    @Test\n+    public void shouldFailCreateForUnauthorizedUser() {\n+        performUnauthorizedRequest(post(NOTIFICATION_MESSAGE_URL));\n+    }\n+\n+    @Test\n+    @WithMockUser\n+    public void shouldCreateForUnauthorizedUser() throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e43c185fe88d6a2223e1069690fa28d2afcaced"}, "originalPosition": 52}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed609ce11de1d27d84bd89c00a0ead3aa6a6774f", "author": {"user": {"login": "cryteq", "name": "Mikhail Iniakin"}}, "url": "https://github.com/epam/cloud-pipeline/commit/ed609ce11de1d27d84bd89c00a0ead3aa6a6774f", "committedDate": "2020-12-07T12:07:22Z", "message": "Issue #1405: Fixed test name"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2MTI5OTMx", "url": "https://github.com/epam/cloud-pipeline/pull/1606#pullrequestreview-546129931", "createdAt": "2020-12-07T13:07:02Z", "commit": {"oid": "ed609ce11de1d27d84bd89c00a0ead3aa6a6774f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3573, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}