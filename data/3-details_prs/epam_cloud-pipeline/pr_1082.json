{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDExNDQxNjM0", "number": 1082, "title": "Issue #911: `pipe` CLI shall allow to list the users/groups/objects permissions globally", "bodyText": "This PR contains fixes according to this #911 (comment)\n\nif specified group/role does not exists method POST entities will return error\nfix for listing view-user-objects/view-group-objects commands for tool/docker_registry types", "createdAt": "2020-04-30T12:41:39Z", "url": "https://github.com/epam/cloud-pipeline/pull/1082", "merged": true, "mergeCommit": {"oid": "9e16a30cb4c05e131f8c0a1c08a92e18529c6e23"}, "closed": true, "closedAt": "2020-05-07T14:17:59Z", "author": {"login": "ekazachkova"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccukLvgFqTQwMzYxNjQ4OQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABccv4OpgBqjMyOTAzOTc0MzU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzNjE2NDg5", "url": "https://github.com/epam/cloud-pipeline/pull/1082#pullrequestreview-403616489", "createdAt": "2020-04-30T15:11:07Z", "commit": {"oid": "d9858bbdd9ec67748d4c094ff3379d850ca4e19c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxNToxMTowN1rOGOt1fw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxNToxMTowN1rOGOt1fw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODA4NDIyMw==", "bodyText": "Result of method is ignored, is it correct? Also I assume non-principal sid may be a group not only role", "url": "https://github.com/epam/cloud-pipeline/pull/1082#discussion_r418084223", "createdAt": "2020-04-30T15:11:07Z", "author": {"login": "mzueva"}, "path": "api/src/main/java/com/epam/pipeline/manager/security/GrantPermissionManager.java", "diffHunk": "@@ -382,6 +385,7 @@ public void filterTree(AclSid aclSid, AbstractHierarchicalEntity entity, Permiss\n         if (aclSid.isPrincipal()) {\n             filterTree(aclSid.getName(), entity, permission);\n         } else {\n+            roleManager.loadRole(aclSid.getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9858bbdd9ec67748d4c094ff3379d850ca4e19c"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAzNjIxNTIw", "url": "https://github.com/epam/cloud-pipeline/pull/1082#pullrequestreview-403621520", "createdAt": "2020-04-30T15:16:28Z", "commit": {"oid": "d9858bbdd9ec67748d4c094ff3379d850ca4e19c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxNToxNjoyOVrOGOuEJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0zMFQxNToxNjoyOVrOGOuEJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODA4Nzk3NQ==", "bodyText": "Result of the method call is ignored, is it ok? I assume non-principal sid may be a group not only role.", "url": "https://github.com/epam/cloud-pipeline/pull/1082#discussion_r418087975", "createdAt": "2020-04-30T15:16:29Z", "author": {"login": "mzueva"}, "path": "api/src/main/java/com/epam/pipeline/manager/security/GrantPermissionManager.java", "diffHunk": "@@ -382,6 +385,7 @@ public void filterTree(AclSid aclSid, AbstractHierarchicalEntity entity, Permiss\n         if (aclSid.isPrincipal()) {\n             filterTree(aclSid.getName(), entity, permission);\n         } else {\n+            roleManager.loadRole(aclSid.getName());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d9858bbdd9ec67748d4c094ff3379d850ca4e19c"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8cb2222244a8455f63bdc4e73be46ca7a25a7bcd", "author": {"user": {"login": "ekazachkova", "name": "Ekaterina Kazachkova"}}, "url": "https://github.com/epam/cloud-pipeline/commit/8cb2222244a8455f63bdc4e73be46ca7a25a7bcd", "committedDate": "2020-04-30T16:14:19Z", "message": "Issue #911: `pipe` CLI shall allow to list the users/groups/objects permissions globally - fixes for tool/docker_registry listing"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d98d046e493fb101e516a15376af79141e9a55fb", "author": {"user": {"login": "ekazachkova", "name": "Ekaterina Kazachkova"}}, "url": "https://github.com/epam/cloud-pipeline/commit/d98d046e493fb101e516a15376af79141e9a55fb", "committedDate": "2020-04-30T16:14:19Z", "message": "Issue #911: `pipe` CLI shall allow to list the users/groups/objects permissions globally - `POST entities` should fail if group/role does not exist"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f0df5f8fedada1a2e00503bee9f22fd71f29d9d", "author": {"user": {"login": "ekazachkova", "name": "Ekaterina Kazachkova"}}, "url": "https://github.com/epam/cloud-pipeline/commit/9f0df5f8fedada1a2e00503bee9f22fd71f29d9d", "committedDate": "2020-04-30T16:14:19Z", "message": "Issue #911: `pipe` CLI shall allow to list the users/groups/objects permissions globally - tests fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "07bc71178901d384bbac2bbebe2520f9c75e06c1", "author": {"user": {"login": "ekazachkova", "name": "Ekaterina Kazachkova"}}, "url": "https://github.com/epam/cloud-pipeline/commit/07bc71178901d384bbac2bbebe2520f9c75e06c1", "committedDate": "2020-04-30T16:42:29Z", "message": "Issue #911: `pipe` CLI shall allow to list the users/groups/objects permissions globally - do not check role/group existence"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d9858bbdd9ec67748d4c094ff3379d850ca4e19c", "author": {"user": {"login": "ekazachkova", "name": "Ekaterina Kazachkova"}}, "url": "https://github.com/epam/cloud-pipeline/commit/d9858bbdd9ec67748d4c094ff3379d850ca4e19c", "committedDate": "2020-04-30T13:16:08Z", "message": "Issue #911: `pipe` CLI shall allow to list the users/groups/objects permissions globally - tests fix"}, "afterCommit": {"oid": "07bc71178901d384bbac2bbebe2520f9c75e06c1", "author": {"user": {"login": "ekazachkova", "name": "Ekaterina Kazachkova"}}, "url": "https://github.com/epam/cloud-pipeline/commit/07bc71178901d384bbac2bbebe2520f9c75e06c1", "committedDate": "2020-04-30T16:42:29Z", "message": "Issue #911: `pipe` CLI shall allow to list the users/groups/objects permissions globally - do not check role/group existence"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3828, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}