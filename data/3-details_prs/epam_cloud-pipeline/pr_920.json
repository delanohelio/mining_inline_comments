{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3MzkzMDAx", "number": 920, "title": "Issue #904 Apply AbortIncompleteMultipartUpload rule for S3 buckets", "bodyText": "This PR related to #904\nNow AbortIncompleteMultipartUpload will be automatically added to s3 bucket life cycle policy, while bucket creation time.", "createdAt": "2020-01-27T09:36:15Z", "url": "https://github.com/epam/cloud-pipeline/pull/920", "merged": true, "mergeCommit": {"oid": "5223fc6ab0e27f1f7e074459e86fa18bff865b0a"}, "closed": true, "closedAt": "2020-01-28T10:17:33Z", "author": {"login": "SilinPavel"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb-ZOm8gH2gAyMzY3MzkzMDAxOmE0YmUzZmVhZTgyNTQ0NWM5MmJiZmFmNmUwOTY4YzU0ODEwNjQzMjg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb-ulaiAFqTM0OTI1OTQ4Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a4be3feae825445c92bbfaf6e0968c5481064328", "author": {"user": {"login": "SilinPavel", "name": "Pavel Silin"}}, "url": "https://github.com/epam/cloud-pipeline/commit/a4be3feae825445c92bbfaf6e0968c5481064328", "committedDate": "2020-01-27T09:21:49Z", "message": "(issue #904) add new datastorage policy setting INCOMPLETE_UPLOAD_CLEANUP_DAYS"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cf4e4511c24a3d8e32d49a4e4ec526ece73b422e", "author": {"user": {"login": "SilinPavel", "name": "Pavel Silin"}}, "url": "https://github.com/epam/cloud-pipeline/commit/cf4e4511c24a3d8e32d49a4e4ec526ece73b422e", "committedDate": "2020-01-27T09:50:36Z", "message": "(issue #904) update licenses"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ4NjI5NTkw", "url": "https://github.com/epam/cloud-pipeline/pull/920#pullrequestreview-348629590", "createdAt": "2020-01-27T12:34:30Z", "commit": {"oid": "cf4e4511c24a3d8e32d49a4e4ec526ece73b422e"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QxMjozNDozMFrOFiBNhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yN1QxMjozNDozMFrOFiBNhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTIxNTc0OQ==", "bodyText": "It seems to me that policy maybe nullable here?", "url": "https://github.com/epam/cloud-pipeline/pull/920#discussion_r371215749", "createdAt": "2020-01-27T12:34:30Z", "author": {"login": "mzueva"}, "path": "api/src/main/java/com/epam/pipeline/manager/datastorage/DataStorageManager.java", "diffHunk": "@@ -311,6 +312,16 @@ public AbstractDataStorage updatePolicy(DataStorageVO dataStorageVO) {\n         return createdStorage;\n     }\n \n+    private StoragePolicy applySpecialRulesToStoragePolicy(final StoragePolicy policy) {\n+        final Integer incompleteUploadCleanupDays = preferenceManager", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cf4e4511c24a3d8e32d49a4e4ec526ece73b422e"}, "originalPosition": 20}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29e416996139308da7fd9298ba76dd5e9b1c6ff4", "author": {"user": {"login": "SilinPavel", "name": "Pavel Silin"}}, "url": "https://github.com/epam/cloud-pipeline/commit/29e416996139308da7fd9298ba76dd5e9b1c6ff4", "committedDate": "2020-01-27T12:47:48Z", "message": "(issue #904) do not perform any changes to policy if policy null, just return null"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d829901fb85afef7e2a6972a19b77f073d879864", "author": {"user": {"login": "SilinPavel", "name": "Pavel Silin"}}, "url": "https://github.com/epam/cloud-pipeline/commit/d829901fb85afef7e2a6972a19b77f073d879864", "committedDate": "2020-01-28T09:47:18Z", "message": "(issue #904) refactor"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f2188061911a902cdf09b5221b4b066b2f59ac12", "author": {"user": {"login": "SilinPavel", "name": "Pavel Silin"}}, "url": "https://github.com/epam/cloud-pipeline/commit/f2188061911a902cdf09b5221b4b066b2f59ac12", "committedDate": "2020-01-28T09:38:22Z", "message": "(issue #904) refactor"}, "afterCommit": {"oid": "d829901fb85afef7e2a6972a19b77f073d879864", "author": {"user": {"login": "SilinPavel", "name": "Pavel Silin"}}, "url": "https://github.com/epam/cloud-pipeline/commit/d829901fb85afef7e2a6972a19b77f073d879864", "committedDate": "2020-01-28T09:47:18Z", "message": "(issue #904) refactor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5MjU5NDg3", "url": "https://github.com/epam/cloud-pipeline/pull/920#pullrequestreview-349259487", "createdAt": "2020-01-28T10:14:43Z", "commit": {"oid": "d829901fb85afef7e2a6972a19b77f073d879864"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3858, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}