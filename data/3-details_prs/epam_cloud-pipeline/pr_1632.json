{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyMzgyOTMy", "number": 1632, "title": "1517 custom node images for runs tests", "bodyText": "This PR provides implementation for 1517_1, 1517_2 PipelineConfiguration tests", "createdAt": "2020-12-04T08:45:05Z", "url": "https://github.com/epam/cloud-pipeline/pull/1632", "merged": true, "mergeCommit": {"oid": "f80662e2ac22b60fb38fdae48a08c00e46a1e79d"}, "closed": true, "closedAt": "2020-12-17T11:58:37Z", "author": {"login": "maryvictol"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdhiEpXgH2gAyNTMyMzgyOTMyOjFhZWUwOTIxOThlOGE2YWU0NzQ3NmMwYmYxZWY4ZmM2NTkzOGQxNmI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdnCQmAgFqTU1NDUzNjQ4NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1aee092198e8a6ae47476c0bf1ef8fc65938d16b", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/1aee092198e8a6ae47476c0bf1ef8fc65938d16b", "committedDate": "2020-11-30T09:38:35Z", "message": "add 1517 pipeline configuration test\n\nSigned-off-by: Mariia_Tolstaia <Mariia_Tolstaia@epam.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4a3311d27bb80eed3819f3aeb0f04c2d75e39f64", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/4a3311d27bb80eed3819f3aeb0f04c2d75e39f64", "committedDate": "2020-12-01T10:11:20Z", "message": "Merge branch 'develop' into 1517_custom_node_images_for_runs_tests"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8f62b7a17592315900b47e99c170067ceed515be", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/8f62b7a17592315900b47e99c170067ceed515be", "committedDate": "2020-12-01T12:48:19Z", "message": "update 1517_1 test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85b7a016c499d88d9f36c931f172ab080d266541", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/85b7a016c499d88d9f36c931f172ab080d266541", "committedDate": "2020-12-02T16:25:27Z", "message": "update 1517_1 test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e4c787be98c90ea1a8d930b4de3ff8ca0687225", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/6e4c787be98c90ea1a8d930b4de3ff8ca0687225", "committedDate": "2020-12-04T08:20:14Z", "message": "add 1517_2 PipelineConfiguration test"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab77d5a4d727d2c8268ce566f74ac1094fcdf530", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/ab77d5a4d727d2c8268ce566f74ac1094fcdf530", "committedDate": "2020-12-04T08:40:50Z", "message": "Merge branch 'develop' into 1517_custom_node_images_for_runs_tests\n\n# Conflicts:\n#\te2e/gui/src/test/java/com/epam/pipeline/autotests/ao/Primitive.java\n#\te2e/gui/src/test/java/com/epam/pipeline/autotests/ao/SettingsPageAO.java"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2MDM2Nzkx", "url": "https://github.com/epam/cloud-pipeline/pull/1632#pullrequestreview-546036791", "createdAt": "2020-12-07T10:57:03Z", "commit": {"oid": "ab77d5a4d727d2c8268ce566f74ac1094fcdf530"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxMDo1NzowM1rOIAhGwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxNDoxMzo0NVrOIAos8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQxMzMxNA==", "bodyText": "The field is never used", "url": "https://github.com/epam/cloud-pipeline/pull/1632#discussion_r537413314", "createdAt": "2020-12-07T10:57:03Z", "author": {"login": "kamyshova"}, "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/PipelineConfigurationNewTest.java", "diffHunk": "@@ -0,0 +1,140 @@\n+/*\n+ * Copyright 2017-2020 EPAM Systems, Inc. (https://www.epam.com/)\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.epam.pipeline.autotests;\n+\n+import com.epam.pipeline.autotests.ao.LogAO;\n+import com.epam.pipeline.autotests.utils.C;\n+import com.epam.pipeline.autotests.utils.TestCase;\n+import com.epam.pipeline.autotests.utils.Utils;\n+import org.testng.annotations.AfterClass;\n+import org.testng.annotations.Test;\n+\n+import java.util.Set;\n+\n+import static com.codeborne.selenide.Condition.text;\n+import static com.codeborne.selenide.Selenide.open;\n+import static com.epam.pipeline.autotests.ao.ClusterMenuAO.nodeLabel;\n+import static com.epam.pipeline.autotests.ao.LogAO.Status.SUCCESS;\n+import static com.epam.pipeline.autotests.ao.LogAO.taskWithName;\n+import static com.epam.pipeline.autotests.ao.Primitive.EXEC_ENVIRONMENT;\n+import static com.epam.pipeline.autotests.ao.Primitive.NODE_IMAGE;\n+import static com.epam.pipeline.autotests.ao.Primitive.STATUS;\n+import static java.lang.String.format;\n+import static java.util.stream.Collectors.toSet;\n+import static org.testng.Assert.assertEquals;\n+import static org.testng.Assert.assertNotEquals;\n+\n+public class PipelineConfigurationNewTest extends AbstractSeveralPipelineRunningTest {\n+    private final String pipeline1 = \"pipe-config-\" + Utils.randomSuffix();\n+    private final String pipeline2 = \"pipe-config-\" + Utils.randomSuffix();\n+    private String clusterNetworksConfig = \"cluster.networks.config\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab77d5a4d727d2c8268ce566f74ac1094fcdf530"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ5MTYzMg==", "bodyText": "Let's rename this class to something CustomNodeImageTest", "url": "https://github.com/epam/cloud-pipeline/pull/1632#discussion_r537491632", "createdAt": "2020-12-07T13:06:26Z", "author": {"login": "kamyshova"}, "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/PipelineConfigurationNewTest.java", "diffHunk": "@@ -0,0 +1,140 @@\n+/*\n+ * Copyright 2017-2020 EPAM Systems, Inc. (https://www.epam.com/)\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.epam.pipeline.autotests;\n+\n+import com.epam.pipeline.autotests.ao.LogAO;\n+import com.epam.pipeline.autotests.utils.C;\n+import com.epam.pipeline.autotests.utils.TestCase;\n+import com.epam.pipeline.autotests.utils.Utils;\n+import org.testng.annotations.AfterClass;\n+import org.testng.annotations.Test;\n+\n+import java.util.Set;\n+\n+import static com.codeborne.selenide.Condition.text;\n+import static com.codeborne.selenide.Selenide.open;\n+import static com.epam.pipeline.autotests.ao.ClusterMenuAO.nodeLabel;\n+import static com.epam.pipeline.autotests.ao.LogAO.Status.SUCCESS;\n+import static com.epam.pipeline.autotests.ao.LogAO.taskWithName;\n+import static com.epam.pipeline.autotests.ao.Primitive.EXEC_ENVIRONMENT;\n+import static com.epam.pipeline.autotests.ao.Primitive.NODE_IMAGE;\n+import static com.epam.pipeline.autotests.ao.Primitive.STATUS;\n+import static java.lang.String.format;\n+import static java.util.stream.Collectors.toSet;\n+import static org.testng.Assert.assertEquals;\n+import static org.testng.Assert.assertNotEquals;\n+\n+public class PipelineConfigurationNewTest extends AbstractSeveralPipelineRunningTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab77d5a4d727d2c8268ce566f74ac1094fcdf530"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzQ5Nzk0Mg==", "bodyText": "cloudRegion is never used. Are we sure that need this?", "url": "https://github.com/epam/cloud-pipeline/pull/1632#discussion_r537497942", "createdAt": "2020-12-07T13:16:47Z", "author": {"login": "kamyshova"}, "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/PipelineConfigurationNewTest.java", "diffHunk": "@@ -0,0 +1,140 @@\n+/*\n+ * Copyright 2017-2020 EPAM Systems, Inc. (https://www.epam.com/)\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.epam.pipeline.autotests;\n+\n+import com.epam.pipeline.autotests.ao.LogAO;\n+import com.epam.pipeline.autotests.utils.C;\n+import com.epam.pipeline.autotests.utils.TestCase;\n+import com.epam.pipeline.autotests.utils.Utils;\n+import org.testng.annotations.AfterClass;\n+import org.testng.annotations.Test;\n+\n+import java.util.Set;\n+\n+import static com.codeborne.selenide.Condition.text;\n+import static com.codeborne.selenide.Selenide.open;\n+import static com.epam.pipeline.autotests.ao.ClusterMenuAO.nodeLabel;\n+import static com.epam.pipeline.autotests.ao.LogAO.Status.SUCCESS;\n+import static com.epam.pipeline.autotests.ao.LogAO.taskWithName;\n+import static com.epam.pipeline.autotests.ao.Primitive.EXEC_ENVIRONMENT;\n+import static com.epam.pipeline.autotests.ao.Primitive.NODE_IMAGE;\n+import static com.epam.pipeline.autotests.ao.Primitive.STATUS;\n+import static java.lang.String.format;\n+import static java.util.stream.Collectors.toSet;\n+import static org.testng.Assert.assertEquals;\n+import static org.testng.Assert.assertNotEquals;\n+\n+public class PipelineConfigurationNewTest extends AbstractSeveralPipelineRunningTest {\n+    private final String pipeline1 = \"pipe-config-\" + Utils.randomSuffix();\n+    private final String pipeline2 = \"pipe-config-\" + Utils.randomSuffix();\n+    private String clusterNetworksConfig = \"cluster.networks.config\";\n+    private String runID1517_1 = \"\";\n+    private String testAmi = \"\";\n+\n+    @AfterClass(alwaysRun = true)\n+    public void removePipelines() {\n+        open(C.ROOT_ADDRESS);\n+        navigationMenu()\n+                .library()\n+                .removePipelineIfExists(pipeline1)\n+                .removePipelineIfExists(pipeline2);\n+    }\n+\n+    @Test\n+    @TestCase(\"1517_1\")\n+    public void checkCustomNodeImageForThePipelineRun() {\n+        final String[] cloudRegion = {\"\"};\n+        library()\n+                .createPipeline(pipeline1)\n+                .createPipeline(pipeline2)\n+                .clickOnDraftVersion(pipeline1)\n+                .configurationTab()\n+                .editConfiguration(\"default\", profile -> {\n+                    cloudRegion[0] = profile", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab77d5a4d727d2c8268ce566f74ac1094fcdf530"}, "originalPosition": 66}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzUwODU2MA==", "bodyText": "Let's add a message to assert with ami values", "url": "https://github.com/epam/cloud-pipeline/pull/1632#discussion_r537508560", "createdAt": "2020-12-07T13:33:24Z", "author": {"login": "kamyshova"}, "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/PipelineConfigurationNewTest.java", "diffHunk": "@@ -0,0 +1,140 @@\n+/*\n+ * Copyright 2017-2020 EPAM Systems, Inc. (https://www.epam.com/)\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.epam.pipeline.autotests;\n+\n+import com.epam.pipeline.autotests.ao.LogAO;\n+import com.epam.pipeline.autotests.utils.C;\n+import com.epam.pipeline.autotests.utils.TestCase;\n+import com.epam.pipeline.autotests.utils.Utils;\n+import org.testng.annotations.AfterClass;\n+import org.testng.annotations.Test;\n+\n+import java.util.Set;\n+\n+import static com.codeborne.selenide.Condition.text;\n+import static com.codeborne.selenide.Selenide.open;\n+import static com.epam.pipeline.autotests.ao.ClusterMenuAO.nodeLabel;\n+import static com.epam.pipeline.autotests.ao.LogAO.Status.SUCCESS;\n+import static com.epam.pipeline.autotests.ao.LogAO.taskWithName;\n+import static com.epam.pipeline.autotests.ao.Primitive.EXEC_ENVIRONMENT;\n+import static com.epam.pipeline.autotests.ao.Primitive.NODE_IMAGE;\n+import static com.epam.pipeline.autotests.ao.Primitive.STATUS;\n+import static java.lang.String.format;\n+import static java.util.stream.Collectors.toSet;\n+import static org.testng.Assert.assertEquals;\n+import static org.testng.Assert.assertNotEquals;\n+\n+public class PipelineConfigurationNewTest extends AbstractSeveralPipelineRunningTest {\n+    private final String pipeline1 = \"pipe-config-\" + Utils.randomSuffix();\n+    private final String pipeline2 = \"pipe-config-\" + Utils.randomSuffix();\n+    private String clusterNetworksConfig = \"cluster.networks.config\";\n+    private String runID1517_1 = \"\";\n+    private String testAmi = \"\";\n+\n+    @AfterClass(alwaysRun = true)\n+    public void removePipelines() {\n+        open(C.ROOT_ADDRESS);\n+        navigationMenu()\n+                .library()\n+                .removePipelineIfExists(pipeline1)\n+                .removePipelineIfExists(pipeline2);\n+    }\n+\n+    @Test\n+    @TestCase(\"1517_1\")\n+    public void checkCustomNodeImageForThePipelineRun() {\n+        final String[] cloudRegion = {\"\"};\n+        library()\n+                .createPipeline(pipeline1)\n+                .createPipeline(pipeline2)\n+                .clickOnDraftVersion(pipeline1)\n+                .configurationTab()\n+                .editConfiguration(\"default\", profile -> {\n+                    cloudRegion[0] = profile\n+                            .expandTab(EXEC_ENVIRONMENT)\n+                            .getCloudRegion();});\n+\n+        String[] amis = navigationMenu()\n+                .settings()\n+                .switchToPreferences()\n+                .getAmisFromClusterNetworksConfigPreference();\n+        assertNotEquals(amiValue(amis[0]), testAmi = amiValue(amis[1]));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab77d5a4d727d2c8268ce566f74ac1094fcdf530"}, "originalPosition": 74}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzUwOTc3MQ==", "bodyText": "Rrun -> Run", "url": "https://github.com/epam/cloud-pipeline/pull/1632#discussion_r537509771", "createdAt": "2020-12-07T13:35:07Z", "author": {"login": "kamyshova"}, "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/PipelineConfigurationNewTest.java", "diffHunk": "@@ -0,0 +1,140 @@\n+/*\n+ * Copyright 2017-2020 EPAM Systems, Inc. (https://www.epam.com/)\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+package com.epam.pipeline.autotests;\n+\n+import com.epam.pipeline.autotests.ao.LogAO;\n+import com.epam.pipeline.autotests.utils.C;\n+import com.epam.pipeline.autotests.utils.TestCase;\n+import com.epam.pipeline.autotests.utils.Utils;\n+import org.testng.annotations.AfterClass;\n+import org.testng.annotations.Test;\n+\n+import java.util.Set;\n+\n+import static com.codeborne.selenide.Condition.text;\n+import static com.codeborne.selenide.Selenide.open;\n+import static com.epam.pipeline.autotests.ao.ClusterMenuAO.nodeLabel;\n+import static com.epam.pipeline.autotests.ao.LogAO.Status.SUCCESS;\n+import static com.epam.pipeline.autotests.ao.LogAO.taskWithName;\n+import static com.epam.pipeline.autotests.ao.Primitive.EXEC_ENVIRONMENT;\n+import static com.epam.pipeline.autotests.ao.Primitive.NODE_IMAGE;\n+import static com.epam.pipeline.autotests.ao.Primitive.STATUS;\n+import static java.lang.String.format;\n+import static java.util.stream.Collectors.toSet;\n+import static org.testng.Assert.assertEquals;\n+import static org.testng.Assert.assertNotEquals;\n+\n+public class PipelineConfigurationNewTest extends AbstractSeveralPipelineRunningTest {\n+    private final String pipeline1 = \"pipe-config-\" + Utils.randomSuffix();\n+    private final String pipeline2 = \"pipe-config-\" + Utils.randomSuffix();\n+    private String clusterNetworksConfig = \"cluster.networks.config\";\n+    private String runID1517_1 = \"\";\n+    private String testAmi = \"\";\n+\n+    @AfterClass(alwaysRun = true)\n+    public void removePipelines() {\n+        open(C.ROOT_ADDRESS);\n+        navigationMenu()\n+                .library()\n+                .removePipelineIfExists(pipeline1)\n+                .removePipelineIfExists(pipeline2);\n+    }\n+\n+    @Test\n+    @TestCase(\"1517_1\")\n+    public void checkCustomNodeImageForThePipelineRun() {\n+        final String[] cloudRegion = {\"\"};\n+        library()\n+                .createPipeline(pipeline1)\n+                .createPipeline(pipeline2)\n+                .clickOnDraftVersion(pipeline1)\n+                .configurationTab()\n+                .editConfiguration(\"default\", profile -> {\n+                    cloudRegion[0] = profile\n+                            .expandTab(EXEC_ENVIRONMENT)\n+                            .getCloudRegion();});\n+\n+        String[] amis = navigationMenu()\n+                .settings()\n+                .switchToPreferences()\n+                .getAmisFromClusterNetworksConfigPreference();\n+        assertNotEquals(amiValue(amis[0]), testAmi = amiValue(amis[1]));\n+        library()\n+                .clickOnDraftVersion(pipeline1)\n+                .codeTab()\n+                .clickOnFile(\"config.json\")\n+                .editFile(configuration -> addInstanceImageToConfig(configuration, testAmi))\n+                .saveAndCommitWithMessage(\"test: Add instance image\")\n+                .runPipeline()\n+                .launch(this);\n+        final Set<String> logMess =\n+                runsMenu()\n+                .showLog(runID1517_1 = getLastRunId())\n+                .instanceParameters(instance ->\n+                        instance.ensure(NODE_IMAGE, text(testAmi)))\n+                .waitForCompletion()\n+                .click(taskWithName(\"InitializeNode\"))\n+                .ensure(STATUS, SUCCESS.reached)\n+                .logMessages()\n+                .collect(toSet());\n+        runsMenu()\n+                .completedRuns()\n+                .showLog(runID1517_1)\n+                .logContainsMessage(logMess, format(\"Image: %s\", testAmi))\n+                .logContainsMessage(logMess, format(\"Specified in configuration image %s will be used\", testAmi));\n+    }\n+\n+    @Test (dependsOnMethods = {\"checkCustomNodeImageForThePipelineRun\"})\n+    @TestCase(\"1517_2\")\n+    public void checkNodeReuseAfterTheCustomNodeImageRrun() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab77d5a4d727d2c8268ce566f74ac1094fcdf530"}, "originalPosition": 102}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzUxMTgzNA==", "bodyText": "Update the license header, please", "url": "https://github.com/epam/cloud-pipeline/pull/1632#discussion_r537511834", "createdAt": "2020-12-07T13:38:09Z", "author": {"login": "kamyshova"}, "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/ao/PipelineCodeTabAO.java", "diffHunk": "@@ -52,6 +52,7 @@\n import static com.epam.pipeline.autotests.ao.Primitive.UPLOAD;\n import static com.epam.pipeline.autotests.utils.PipelineSelectors.button;\n import static com.epam.pipeline.autotests.utils.PipelineSelectors.buttonByIconClass;\n+import static java.lang.String.format;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab77d5a4d727d2c8268ce566f74ac1094fcdf530"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzUxMjQ0NQ==", "bodyText": "Clean up, please", "url": "https://github.com/epam/cloud-pipeline/pull/1632#discussion_r537512445", "createdAt": "2020-12-07T13:39:09Z", "author": {"login": "kamyshova"}, "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/ao/PipelineCodeTabAO.java", "diffHunk": "@@ -265,14 +266,17 @@ public FileEditingPopupAO editFile(final UnaryOperator<String> action) {\n \n         public FileEditingPopupAO shouldContainInCode(final String expectedCode) {\n             final Function<String, SelenideElement> lineWithText =\n-                    text -> $x(String.format(\"//pre[contains(@class, 'CodeMirror-line') and contains(., '%s')]\", text));\n+                    text -> $x(format(\"//pre[contains(@class, 'CodeMirror-line') and contains(., '%s')]\", text));\n             Arrays.stream(expectedCode.split(\"\\n\"))\n                     .map(String::trim)\n                     .map(lineWithText)\n                     .forEach(el -> el.should(exist));\n             return this;\n         }\n \n+\n+\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab77d5a4d727d2c8268ce566f74ac1094fcdf530"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzUzNDgxMw==", "bodyText": "Can be replaced with collection.toArray()", "url": "https://github.com/epam/cloud-pipeline/pull/1632#discussion_r537534813", "createdAt": "2020-12-07T14:10:07Z", "author": {"login": "kamyshova"}, "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/ao/SettingsPageAO.java", "diffHunk": "@@ -1026,6 +1027,22 @@ public PreferencesAO setSystemSshDefaultRootUserEnabled() {\n             return this;\n         }\n \n+        public String[] getAmisFromClusterNetworksConfigPreference() {\n+            searchPreference(\"cluster.networks.config\");\n+            String[] result = new String[2];\n+            String[] strings = context().$(byClassName(\"CodeMirror-code\"))\n+                            .findAll(byClassName(\"CodeMirror-line\")).texts().stream()\n+                            .toArray(String[]::new);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab77d5a4d727d2c8268ce566f74ac1094fcdf530"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzUzNzc3OA==", "bodyText": "Add line breaks and spaces, please", "url": "https://github.com/epam/cloud-pipeline/pull/1632#discussion_r537537778", "createdAt": "2020-12-07T14:13:45Z", "author": {"login": "kamyshova"}, "path": "e2e/gui/src/test/java/com/epam/pipeline/autotests/ao/SettingsPageAO.java", "diffHunk": "@@ -1026,6 +1027,22 @@ public PreferencesAO setSystemSshDefaultRootUserEnabled() {\n             return this;\n         }\n \n+        public String[] getAmisFromClusterNetworksConfigPreference() {\n+            searchPreference(\"cluster.networks.config\");\n+            String[] result = new String[2];\n+            String[] strings = context().$(byClassName(\"CodeMirror-code\"))\n+                            .findAll(byClassName(\"CodeMirror-line\")).texts().stream()\n+                            .toArray(String[]::new);\n+            IntStream.range(0, strings.length).forEach((i) -> {\n+                if (strings[i].contains(\"\\\"instance_mask\\\":\")) {\n+                    if (strings[i].contains(\"\\\"*\\\"\")) {\n+                        result[0]=strings[i+1];\n+                    } else {result[1]=strings[i+1];}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ab77d5a4d727d2c8268ce566f74ac1094fcdf530"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1269b94304778ede4d7c5cd150deea3693de7ad4", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/1269b94304778ede4d7c5cd150deea3693de7ad4", "committedDate": "2020-12-10T18:08:23Z", "message": "fix CustomNodeImagesForRunsTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "20b86f1ef012c029a5c43ec8819523ad967d842d", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/20b86f1ef012c029a5c43ec8819523ad967d842d", "committedDate": "2020-12-17T10:46:13Z", "message": "update CustomNodeImagesForRunsTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f465e278e11c996bf346b274e9ee714f57963400", "author": {"user": {"login": "maryvictol", "name": "Mariia Tolstaia"}}, "url": "https://github.com/epam/cloud-pipeline/commit/f465e278e11c996bf346b274e9ee714f57963400", "committedDate": "2020-12-17T10:53:45Z", "message": "small fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "997852f37f822a6a270ae8cf36c419773d5c15b4", "author": {"user": {"login": "kamyshova", "name": "Yulia Kamyshova"}}, "url": "https://github.com/epam/cloud-pipeline/commit/997852f37f822a6a270ae8cf36c419773d5c15b4", "committedDate": "2020-12-17T11:17:08Z", "message": "e2e: fix styles"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU0NTM2NDg0", "url": "https://github.com/epam/cloud-pipeline/pull/1632#pullrequestreview-554536484", "createdAt": "2020-12-17T11:58:13Z", "commit": {"oid": "997852f37f822a6a270ae8cf36c419773d5c15b4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3594, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}