{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTExNTkwODI4", "number": 1522, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxNDo0NToyOVrOEy2QWQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxNDo0Nzo0MlrOEy2UtA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxNzUzMTc3OnYy", "diffSide": "RIGHT", "path": "api/src/main/java/com/epam/pipeline/manager/execution/SystemParams.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxNDo0NToyOVrOHptvPA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxNDo0NToyOVrOHptvPA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzUwMzAzNg==", "bodyText": "Could you also add CP_EXEC_TIMEOUT to deploy/contents/install/preferences/launch.system.parameters.json?", "url": "https://github.com/epam/cloud-pipeline/pull/1522#discussion_r513503036", "createdAt": "2020-10-28T14:45:29Z", "author": {"login": "mzueva"}, "path": "api/src/main/java/com/epam/pipeline/manager/execution/SystemParams.java", "diffHunk": "@@ -69,7 +69,8 @@\n     CONTAINER_CPU_RESOURCE(\"container-cpu-resource\", \"CP_CONTAINER_CPU_RESOURCE\", false, true),\n     CONTAINER_MEMORY_RESOURCE_POLICY(\"container-memory-resource-policy\",\n             \"CP_CONTAINER_MEMORY_RESOURCE_POLICY\", false, true),\n-    CP_SENSITIVE_RUN(\"cp-sensitive-run\", \"CP_SENSITIVE_RUN\", false, false);\n+    CP_SENSITIVE_RUN(\"cp-sensitive-run\", \"CP_SENSITIVE_RUN\", false, false),\n+    CP_EXEC_TIMEOUT(\"cp-exec-timeout\", \"CP_EXEC_TIMEOUT\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5910a671d4de34ab07543886a3ac907be4c87cf1"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIxNzU0MjkyOnYy", "diffSide": "RIGHT", "path": "scripts/pipeline-launch/launch.sh", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxNDo0Nzo0MlrOHpt2gg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxNDo0Nzo0MlrOHpt2gg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzUwNDg5OA==", "bodyText": "I think that we need to check whether timeout was actually exceeded (possibly using exit code). Also keep in memory that we need to save CP_EXEC_RESULT to exit process with correct exit code.", "url": "https://github.com/epam/cloud-pipeline/pull/1522#discussion_r513504898", "createdAt": "2020-10-28T14:47:42Z", "author": {"login": "mzueva"}, "path": "scripts/pipeline-launch/launch.sh", "diffHunk": "@@ -1678,7 +1678,15 @@ pipe_log SUCCESS \"Environment initialization finished\" \"InitializeEnvironment\"\n \n echo \"Command text:\"\n echo \"${SCRIPT}\"\n-bash -c \"${SCRIPT}\"\n+\n+if [ ! -z \"${CP_EXEC_TIMEOUT}\" ] && [ \"${CP_EXEC_TIMEOUT}\" -gt 0 ];\n+then\n+  timeout ${CP_EXEC_TIMEOUT}m bash -c \"${SCRIPT}\"\n+  echo \"Timeout was elapsed\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5910a671d4de34ab07543886a3ac907be4c87cf1"}, "originalPosition": 9}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 299, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}