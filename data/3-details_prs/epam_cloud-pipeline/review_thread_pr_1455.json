{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2MjYzMTU5", "number": 1455, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMjozOToxMVrOEqTIgg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMjo0MjowMFrOEqTMnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNzg5MTIyOnYy", "diffSide": "RIGHT", "path": "api/src/main/resources/dao/categorical-attribute-dao.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMjozOToxMVrOHcbIQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMjozOToxMVrOHcbIQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTU2NjY1OA==", "bodyText": "I think we can omit OUTER in requests, since LEFT JOIN is always LEFT OUTER JOIN", "url": "https://github.com/epam/cloud-pipeline/pull/1455#discussion_r499566658", "createdAt": "2020-10-05T12:39:11Z", "author": {"login": "mzueva"}, "path": "api/src/main/resources/dao/categorical-attribute-dao.xml", "diffHunk": "@@ -32,17 +32,45 @@\n                 ]]>\n             </value>\n         </property>\n+        <property name=\"loadAllAttributesValuesWithoutLinksQuery\">\n+            <value>\n+                <![CDATA[\n+                    SELECT key, value, id FROM pipeline.categorical_attributes\n+                ]]>\n+            </value>\n+        </property>\n         <property name=\"loadAllAttributesValuesQuery\">\n             <value>\n                 <![CDATA[\n-                    SELECT key, value FROM pipeline.categorical_attributes\n+                    SELECT\n+                        attributes.key,\n+                        attributes.value,\n+                        attributes.id,\n+                        links.child_id,\n+                        links.autofill,\n+                        links_values.key child_key,\n+                        links_values.value as child_value\n+                    FROM pipeline.categorical_attributes attributes\n+                    LEFT OUTER JOIN pipeline.categorical_attributes_links links on attributes.id=links.parent_id", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63cf4e8735650c78b9326ee4515653948a8300b"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNzg5MjM2OnYy", "diffSide": "RIGHT", "path": "api/src/main/resources/db/migration/v2020.09.30_13.00__issue_1445_dictionaries_links.sql", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMjozOTozMVrOHcbI-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMjozOTozMVrOHcbI-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTU2Njg0MQ==", "bodyText": "Move migration to current date", "url": "https://github.com/epam/cloud-pipeline/pull/1455#discussion_r499566841", "createdAt": "2020-10-05T12:39:31Z", "author": {"login": "mzueva"}, "path": "api/src/main/resources/db/migration/v2020.09.30_13.00__issue_1445_dictionaries_links.sql", "diffHunk": "@@ -0,0 +1,9 @@\n+CREATE SEQUENCE IF NOT EXISTS pipeline.S_CATEGORICAL_ATTRIBUTES START WITH 1 INCREMENT BY 1;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63cf4e8735650c78b9326ee4515653948a8300b"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEyNzkwMTc1OnYy", "diffSide": "LEFT", "path": "api/src/main/java/com/epam/pipeline/dao/metadata/CategoricalAttributeDao.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMjo0MjowMFrOHcbOvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wNVQxMjo0MjowMFrOHcbOvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5OTU2ODMxOQ==", "bodyText": "Could you please remove this on lines 82 & 83 (method updateCategoricalAttributes )", "url": "https://github.com/epam/cloud-pipeline/pull/1455#discussion_r499568319", "createdAt": "2020-10-05T12:42:00Z", "author": {"login": "mzueva"}, "path": "api/src/main/java/com/epam/pipeline/dao/metadata/CategoricalAttributeDao.java", "diffHunk": "@@ -72,29 +86,60 @@ public boolean updateCategoricalAttributes(final List<CategoricalAttribute> dict\n     @Transactional(propagation = Propagation.MANDATORY)\n     public boolean insertAttributesValues(final List<CategoricalAttribute> dict) {\n         final MapSqlParameterSource[] values = dict.stream()\n-            .flatMap(entry -> entry.getValues()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f63cf4e8735650c78b9326ee4515653948a8300b"}, "originalPosition": 61}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 257, "cost": 1, "resetAt": "2021-11-12T13:16:51Z"}}}