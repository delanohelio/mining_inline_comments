{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI1Mzc4NDIz", "number": 680, "title": "Fix evicting of expired authentication tokens", "bodyText": "CacheEvict and Cacheable in ServiceAuthenticationServiceImpl used different key generator. For this reason expired entry cannot be evicted (different class of key).\nDuring fixing was detected another problem, if entry is expired, it is evicted, but method return previous object from cache. It should return new value. It is fixed in this PR too.\nSigned-off-by: Pavel Jare\u0161 pavel.jares@broadcom.com", "createdAt": "2020-05-29T23:50:05Z", "url": "https://github.com/zowe/api-layer/pull/680", "merged": true, "mergeCommit": {"oid": "974d5a94971947428fd5e3dda69030a0990278f6"}, "closed": true, "closedAt": "2020-06-02T07:54:36Z", "author": {"login": "pj892031"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcmLUaDgH2gAyNDI1Mzc4NDIzOjZlMzgyMjZjODU3ZGRhZGFjYmE4NTk3N2E2YjE0N2ZhNjU1OWZhMDM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcm-lnIAFqTQyMTc3NDI3MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6e38226c857ddadacba85977a6b147fa6559fa03", "author": {"user": {"login": "pj892031", "name": "Pavel Jare\u0161"}}, "url": "https://github.com/zowe/api-layer/commit/6e38226c857ddadacba85977a6b147fa6559fa03", "committedDate": "2020-05-29T23:46:27Z", "message": "fix evicting of expired authentication tokens\n\nSigned-off-by: Pavel Jare\u0161 <pavel.jares@broadcom.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "16855f54955714de41539fdd2a4ee9f7105633de", "author": {"user": {"login": "pj892031", "name": "Pavel Jare\u0161"}}, "url": "https://github.com/zowe/api-layer/commit/16855f54955714de41539fdd2a4ee9f7105633de", "committedDate": "2020-05-29T23:56:53Z", "message": "Merge branch 'master' into protectors/evictExpiredAuthCommands"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNzQzMTM2", "url": "https://github.com/zowe/api-layer/pull/680#pullrequestreview-421743136", "createdAt": "2020-06-01T10:29:52Z", "commit": {"oid": "16855f54955714de41539fdd2a4ee9f7105633de"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQxMDoyOTo1MlrOGdF3xQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQxMDoyOTo1MlrOGdF3xQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzE1ODA4NQ==", "bodyText": "SonarQube: Remove this 'public' modifier.", "url": "https://github.com/zowe/api-layer/pull/680#discussion_r433158085", "createdAt": "2020-06-01T10:29:52Z", "author": {"login": "plavjanik"}, "path": "gateway-service/src/test/java/org/zowe/apiml/gateway/security/service/ServiceAuthenticationServiceImplTest.java", "diffHunk": "@@ -464,21 +466,47 @@ public void givenValidJwt_whenCommandRequiredAuthentication_thenCall() throws Ex\n         verify(ac, times(1)).apply(any());\n     }\n \n+    @Test\n+    public void givenServiceIdAndJwt_whenExpiringCommand_thenReturnNewOne() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16855f54955714de41539fdd2a4ee9f7105633de"}, "originalPosition": 83}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNzQzODEx", "url": "https://github.com/zowe/api-layer/pull/680#pullrequestreview-421743811", "createdAt": "2020-06-01T10:31:05Z", "commit": {"oid": "16855f54955714de41539fdd2a4ee9f7105633de"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQxMDozMTowNVrOGdF54Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wMVQxMDozMTowNVrOGdF54Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMzE1ODYyNQ==", "bodyText": "If this adds new 3rd party dependencies, we need to inform @jackjia-ibm", "url": "https://github.com/zowe/api-layer/pull/680#discussion_r433158625", "createdAt": "2020-06-01T10:31:05Z", "author": {"login": "plavjanik"}, "path": "gateway-service/build.gradle", "diffHunk": "@@ -52,6 +52,7 @@ dependencies {\n     compile libraries.spring_boot_starter_websocket\n     compile libraries.spring_boot_starter_thymeleaf\n     compile libraries.spring_boot_starter_cache\n+    compile libraries.spring_boot_starter_aop", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16855f54955714de41539fdd2a4ee9f7105633de"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNzQ0NDYw", "url": "https://github.com/zowe/api-layer/pull/680#pullrequestreview-421744460", "createdAt": "2020-06-01T10:32:20Z", "commit": {"oid": "16855f54955714de41539fdd2a4ee9f7105633de"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a6544770d07a590c556dbb830ba6316a0693eff1", "author": {"user": {"login": "plavjanik", "name": "Petr Plavjanik"}}, "url": "https://github.com/zowe/api-layer/commit/a6544770d07a590c556dbb830ba6316a0693eff1", "committedDate": "2020-06-01T10:32:29Z", "message": "Merge branch 'master' into protectors/evictExpiredAuthCommands"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIxNzc0Mjcx", "url": "https://github.com/zowe/api-layer/pull/680#pullrequestreview-421774271", "createdAt": "2020-06-01T11:30:24Z", "commit": {"oid": "16855f54955714de41539fdd2a4ee9f7105633de"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4873, "cost": 1, "resetAt": "2021-11-02T12:20:56Z"}}}