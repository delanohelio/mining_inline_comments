{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4Nzk1MDQx", "number": 3357, "title": "KOGITO-2674: [DMN Designer] Multiple DRDs support - Context menu component", "bodyText": "Please refer to: https://issues.redhat.com/browse/KOGITO-2674\nTask description: Need a context menu for DRD actions\nProposed solution: Providing a generic context menu widget\nThere you can find an utilization example of this widget.\nThe result is the follow:", "createdAt": "2020-07-14T10:32:02Z", "url": "https://github.com/kiegroup/kie-wb-common/pull/3357", "merged": true, "mergeCommit": {"oid": "b928a5c54a9001f560653dbde960f59160d663ce"}, "closed": true, "closedAt": "2020-07-22T11:52:28Z", "author": {"login": "vpellegrino"}, "timelineItems": {"totalCount": 30, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcz7J6pgH2gAyNDQ4Nzk1MDQxOjg0MWJiN2E1NmFjZWQ4ZTg3NmFlMzI0MTRjNjY0MDc5NWJhOTBhOWY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc3GtH3AFqTQ1MjQ4NzM2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "841bb7a56aced8e876ae32414c6640795ba90a9f", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/841bb7a56aced8e876ae32414c6640795ba90a9f", "committedDate": "2020-07-11T16:51:27Z", "message": "Creating draft context menu widget"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "46c6fef310569d74d59c5c63472753bd933de1ad", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/46c6fef310569d74d59c5c63472753bd933de1ad", "committedDate": "2020-07-11T16:51:52Z", "message": "Triggering context menu in the navigator view"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d85b5818ee18cb897f7c6042396dd0af1e07168d", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/d85b5818ee18cb897f7c6042396dd0af1e07168d", "committedDate": "2020-07-12T12:53:21Z", "message": "Adding more methods to DRDContextMenu APIs"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e4ba0fd64eb6879c04949bc8d1044c25bbeca88b", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/e4ba0fd64eb6879c04949bc8d1044c25bbeca88b", "committedDate": "2020-07-12T12:54:25Z", "message": "Adding DOM event listeners controls to View part"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ae20739d4c58f49e473b77c90e2fb9d24b62d546", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/ae20739d4c58f49e473b77c90e2fb9d24b62d546", "committedDate": "2020-07-12T12:55:17Z", "message": "Controlling menu items list from context menu's caller"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3345eadb221e528d4a7f0b7a7e1d2db724c442a9", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/3345eadb221e528d4a7f0b7a7e1d2db724c442a9", "committedDate": "2020-07-13T07:48:27Z", "message": "Generify ContextMenu, from the DRD domain"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5636e5187b9c084dc7c9243f62b4f25e64fdc88", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/f5636e5187b9c084dc7c9243f62b4f25e64fdc88", "committedDate": "2020-07-13T09:06:34Z", "message": "Adding icon support to list selector header item"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0800d2d9b65494830138138b499eb9948e1c9f8", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/c0800d2d9b65494830138138b499eb9948e1c9f8", "committedDate": "2020-07-13T09:07:33Z", "message": "ContextMenu has an header menu (w/ icon)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9e71cd1367cb3581df92d80663a3ade0b0f4587", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/f9e71cd1367cb3581df92d80663a3ade0b0f4587", "committedDate": "2020-07-13T14:24:07Z", "message": "Simulate ContextMenu for DRD actions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0de2f1f292a38e663a78517d037b1789c62d10b", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/a0de2f1f292a38e663a78517d037b1789c62d10b", "committedDate": "2020-07-13T14:36:31Z", "message": "ContextMenu should be hidden when an item is selected"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee3b09064d7f37eea13cc51689a7172c541cc3e1", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/ee3b09064d7f37eea13cc51689a7172c541cc3e1", "committedDate": "2020-07-13T15:30:31Z", "message": "Adjusting context menu style"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ebd4568eec0649d74095bf3188f7acb654f0c5d5", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/ebd4568eec0649d74095bf3188f7acb654f0c5d5", "committedDate": "2020-07-13T16:17:01Z", "message": "Adding tests for ContextMenu"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2de18994a460de2154840cde40195f9898f863f", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/b2de18994a460de2154840cde40195f9898f863f", "committedDate": "2020-07-13T17:39:55Z", "message": "Adding tests for ContextMenuView"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab860e34aa7f4bf35dca172351bd27135b958076", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/ab860e34aa7f4bf35dca172351bd27135b958076", "committedDate": "2020-07-13T17:49:47Z", "message": "Missing inject annotation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "212e222ce85ec8d08fc023893090349052d135a4", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/212e222ce85ec8d08fc023893090349052d135a4", "committedDate": "2020-07-14T10:25:53Z", "message": "Reverting class used to include widget"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MzIzMzYw", "url": "https://github.com/kiegroup/kie-wb-common/pull/3357#pullrequestreview-448323360", "createdAt": "2020-07-14T17:38:47Z", "commit": {"oid": "212e222ce85ec8d08fc023893090349052d135a4"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MzI4MDUy", "url": "https://github.com/kiegroup/kie-wb-common/pull/3357#pullrequestreview-448328052", "createdAt": "2020-07-14T17:45:03Z", "commit": {"oid": "212e222ce85ec8d08fc023893090349052d135a4"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNzo0NTowM1rOGxeeOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxNzo0NTowM1rOGxeeOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDUzMjY2Ng==", "bodyText": "I do believe we could keep this component as a @ApplicationScoped, given the nature of its UI and API. Wdyt?", "url": "https://github.com/kiegroup/kie-wb-common/pull/3357#discussion_r454532666", "createdAt": "2020-07-14T17:45:03Z", "author": {"login": "karreiro"}, "path": "kie-wb-common-dmn/kie-wb-common-dmn-client/src/main/java/org/kie/workbench/common/dmn/client/editors/contextmenu/ContextMenu.java", "diffHunk": "@@ -0,0 +1,78 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.kie.workbench.common.dmn.client.editors.contextmenu;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import javax.annotation.PostConstruct;\n+import javax.inject.Inject;\n+\n+import elemental2.dom.HTMLElement;\n+import org.jboss.errai.ui.client.local.api.elemental2.IsElement;\n+import org.kie.workbench.common.dmn.client.widgets.grid.controls.list.HasListSelectorControl.ListSelectorHeaderItem;\n+import org.kie.workbench.common.dmn.client.widgets.grid.controls.list.HasListSelectorControl.ListSelectorItem;\n+import org.kie.workbench.common.dmn.client.widgets.grid.controls.list.HasListSelectorControl.ListSelectorTextItem;\n+import org.uberfire.client.mvp.UberElemental;\n+import org.uberfire.mvp.Command;\n+\n+public class ContextMenu {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "212e222ce85ec8d08fc023893090349052d135a4"}, "originalPosition": 33}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b615f2564430f8c0d4c78c4c54628841528fce31", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/b615f2564430f8c0d4c78c4c54628841528fce31", "committedDate": "2020-07-15T08:31:08Z", "message": "Show function can accept a consumer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "92643b19f1fde36b2aaeb56ebcf75c08b9cbb919", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/92643b19f1fde36b2aaeb56ebcf75c08b9cbb919", "committedDate": "2020-07-15T08:34:28Z", "message": "ContextMenu can be application scoped"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4OTEzNTgx", "url": "https://github.com/kiegroup/kie-wb-common/pull/3357#pullrequestreview-448913581", "createdAt": "2020-07-15T12:42:27Z", "commit": {"oid": "92643b19f1fde36b2aaeb56ebcf75c08b9cbb919"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e1f1ed2fd3e1b4d917b7ed522afadeacf1dd9a59", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/e1f1ed2fd3e1b4d917b7ed522afadeacf1dd9a59", "committedDate": "2020-07-16T13:42:28Z", "message": "Adding test for ListSelectorHeaderItemViewImpl"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "041e4585e3ae61ae5994dca7165375a7dc44964e", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/041e4585e3ae61ae5994dca7165375a7dc44964e", "committedDate": "2020-07-16T15:11:31Z", "message": "Merge branch 'master' into KOGITO-2674"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0b6d7d0c4c2bce7f22c9fd3369b80de73038689a", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/0b6d7d0c4c2bce7f22c9fd3369b80de73038689a", "committedDate": "2020-07-20T08:23:46Z", "message": "Covering getIconClass method when old builder is used"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNjE0MzUx", "url": "https://github.com/kiegroup/kie-wb-common/pull/3357#pullrequestreview-451614351", "createdAt": "2020-07-20T13:39:33Z", "commit": {"oid": "0b6d7d0c4c2bce7f22c9fd3369b80de73038689a"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a82eaafadd617c0ed8ada84ed72ce07b3c4d1397", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/a82eaafadd617c0ed8ada84ed72ce07b3c4d1397", "committedDate": "2020-07-20T16:12:43Z", "message": "event.path is not available on Firefox. Using composedPath as fallback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyMzM1Njcx", "url": "https://github.com/kiegroup/kie-wb-common/pull/3357#pullrequestreview-452335671", "createdAt": "2020-07-21T10:42:27Z", "commit": {"oid": "a82eaafadd617c0ed8ada84ed72ce07b3c4d1397"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMDo0MjoyOFrOG0yT2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMTozMjo0NVrOG0z1TA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODAwMzQxNg==", "bodyText": "Is it ok that we register different (logically same) handler instance in show than we un-register in removeDOMEventListeners ? asking as hideContextMenuHandler() always construct new instance of a handler.", "url": "https://github.com/kiegroup/kie-wb-common/pull/3357#discussion_r458003416", "createdAt": "2020-07-21T10:42:28Z", "author": {"login": "jomarko"}, "path": "kie-wb-common-dmn/kie-wb-common-dmn-client/src/main/java/org/kie/workbench/common/dmn/client/editors/contextmenu/ContextMenuView.java", "diffHunk": "@@ -0,0 +1,123 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.kie.workbench.common.dmn.client.editors.contextmenu;\n+\n+import java.util.Arrays;\n+import java.util.List;\n+import java.util.Optional;\n+import java.util.stream.Stream;\n+\n+import javax.annotation.PreDestroy;\n+import javax.inject.Inject;\n+\n+import com.google.gwt.dom.client.BrowserEvents;\n+import elemental2.dom.DomGlobal;\n+import elemental2.dom.Element;\n+import elemental2.dom.Event;\n+import elemental2.dom.EventListener;\n+import org.jboss.errai.ui.shared.api.annotations.DataField;\n+import org.jboss.errai.ui.shared.api.annotations.Templated;\n+import org.kie.workbench.common.dmn.client.widgets.grid.controls.list.HasListSelectorControl;\n+import org.kie.workbench.common.dmn.client.widgets.grid.controls.list.ListSelector;\n+\n+@Templated\n+public class ContextMenuView implements ContextMenu.View,\n+                                        HasListSelectorControl {\n+\n+    private ContextMenu presenter;\n+\n+    @DataField(\"list-selector\")\n+    private ListSelector listSelector;\n+\n+    @Inject\n+    public ContextMenuView(final ListSelector listSelector) {\n+        this.listSelector = listSelector;\n+    }\n+\n+    @Override\n+    public void init(final ContextMenu presenter) {\n+        this.presenter = presenter;\n+    }\n+\n+    @PreDestroy\n+    private void removeDOMEventListeners() {\n+        DomGlobal.document.removeEventListener(BrowserEvents.MOUSEDOWN,\n+                                               hideContextMenuHandler(),\n+                                               false);\n+        DomGlobal.document.removeEventListener(BrowserEvents.MOUSEWHEEL,\n+                                               hideContextMenuHandler(),\n+                                               false);\n+    }\n+\n+    @Override\n+    public void show() {\n+        listSelector.bind(this, 0, 0);\n+        listSelector.show();\n+\n+        DomGlobal.document.addEventListener(BrowserEvents.MOUSEDOWN,\n+                                            hideContextMenuHandler(),\n+                                            false);\n+        DomGlobal.document.addEventListener(BrowserEvents.MOUSEWHEEL,\n+                                            hideContextMenuHandler(),\n+                                            false);\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82eaafadd617c0ed8ada84ed72ce07b3c4d1397"}, "originalPosition": 77}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODAwNjIwNw==", "bodyText": "This seems be used just in single unit test, do we really need it?", "url": "https://github.com/kiegroup/kie-wb-common/pull/3357#discussion_r458006207", "createdAt": "2020-07-21T10:48:23Z", "author": {"login": "jomarko"}, "path": "kie-wb-common-dmn/kie-wb-common-dmn-client/src/main/java/org/kie/workbench/common/dmn/client/editors/contextmenu/ContextMenu.java", "diffHunk": "@@ -0,0 +1,87 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.kie.workbench.common.dmn.client.editors.contextmenu;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.function.Consumer;\n+\n+import javax.annotation.PostConstruct;\n+import javax.enterprise.context.ApplicationScoped;\n+import javax.inject.Inject;\n+\n+import elemental2.dom.HTMLElement;\n+import org.jboss.errai.ui.client.local.api.elemental2.IsElement;\n+import org.kie.workbench.common.dmn.client.widgets.grid.controls.list.HasListSelectorControl.ListSelectorHeaderItem;\n+import org.kie.workbench.common.dmn.client.widgets.grid.controls.list.HasListSelectorControl.ListSelectorItem;\n+import org.kie.workbench.common.dmn.client.widgets.grid.controls.list.HasListSelectorControl.ListSelectorTextItem;\n+import org.uberfire.client.mvp.UberElemental;\n+import org.uberfire.mvp.Command;\n+\n+@ApplicationScoped\n+public class ContextMenu {\n+\n+    private final List<ListSelectorItem> menuItems;\n+\n+    private View view;\n+\n+    @Inject\n+    public ContextMenu(final View view) {\n+        this.view = view;\n+        this.menuItems = new ArrayList<>();\n+    }\n+\n+    @PostConstruct\n+    public void init() {\n+        view.init(this);\n+    }\n+\n+    public void show() { view.show(); }\n+\n+    public void show(Consumer<ContextMenu> contextMenuConsumer) {\n+        this.resetMenuItems();\n+        contextMenuConsumer.accept(this);\n+        this.show();\n+    }\n+\n+    public void hide() { view.hide(); }\n+\n+    public HTMLElement getElement() {\n+        return view.getElement();\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82eaafadd617c0ed8ada84ed72ce07b3c4d1397"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODAyODM2NA==", "bodyText": "Could we please javadoc the consumer? From implementation I have some idea what it does but I think it is worth to write in few words.", "url": "https://github.com/kiegroup/kie-wb-common/pull/3357#discussion_r458028364", "createdAt": "2020-07-21T11:32:45Z", "author": {"login": "jomarko"}, "path": "kie-wb-common-dmn/kie-wb-common-dmn-client/src/main/java/org/kie/workbench/common/dmn/client/editors/contextmenu/ContextMenu.java", "diffHunk": "@@ -0,0 +1,87 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.kie.workbench.common.dmn.client.editors.contextmenu;\n+\n+import java.util.ArrayList;\n+import java.util.List;\n+import java.util.function.Consumer;\n+\n+import javax.annotation.PostConstruct;\n+import javax.enterprise.context.ApplicationScoped;\n+import javax.inject.Inject;\n+\n+import elemental2.dom.HTMLElement;\n+import org.jboss.errai.ui.client.local.api.elemental2.IsElement;\n+import org.kie.workbench.common.dmn.client.widgets.grid.controls.list.HasListSelectorControl.ListSelectorHeaderItem;\n+import org.kie.workbench.common.dmn.client.widgets.grid.controls.list.HasListSelectorControl.ListSelectorItem;\n+import org.kie.workbench.common.dmn.client.widgets.grid.controls.list.HasListSelectorControl.ListSelectorTextItem;\n+import org.uberfire.client.mvp.UberElemental;\n+import org.uberfire.mvp.Command;\n+\n+@ApplicationScoped\n+public class ContextMenu {\n+\n+    private final List<ListSelectorItem> menuItems;\n+\n+    private View view;\n+\n+    @Inject\n+    public ContextMenu(final View view) {\n+        this.view = view;\n+        this.menuItems = new ArrayList<>();\n+    }\n+\n+    @PostConstruct\n+    public void init() {\n+        view.init(this);\n+    }\n+\n+    public void show() { view.show(); }\n+\n+    public void show(Consumer<ContextMenu> contextMenuConsumer) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a82eaafadd617c0ed8ada84ed72ce07b3c4d1397"}, "originalPosition": 55}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0749b38bf5220285ac30e446aeac26763fb52990", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/0749b38bf5220285ac30e446aeac26763fb52990", "committedDate": "2020-07-21T12:51:51Z", "message": "hideContextMenuHandler as variable instead of a method, in order to keep always the same EventListener"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5d0e55f9860dd41a8b78285625b48fe2dc6e5bf", "author": {"user": {"login": "vpellegrino", "name": "Valentino Pellegrino"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/d5d0e55f9860dd41a8b78285625b48fe2dc6e5bf", "committedDate": "2020-07-21T12:54:00Z", "message": "adding javadoc"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyNDY4OTI1", "url": "https://github.com/kiegroup/kie-wb-common/pull/3357#pullrequestreview-452468925", "createdAt": "2020-07-21T13:42:06Z", "commit": {"oid": "d5d0e55f9860dd41a8b78285625b48fe2dc6e5bf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUyNDg3MzY5", "url": "https://github.com/kiegroup/kie-wb-common/pull/3357#pullrequestreview-452487369", "createdAt": "2020-07-21T14:00:38Z", "commit": {"oid": "d5d0e55f9860dd41a8b78285625b48fe2dc6e5bf"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 458, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}