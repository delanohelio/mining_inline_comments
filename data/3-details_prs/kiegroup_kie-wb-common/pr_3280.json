{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA3NDU4MzM2", "number": 3280, "title": "JBPM-9110 business rule tasks cannot be configured properly", "bodyText": "Hi @romartin this fix is inspired by the similar one: https://github.com/kiegroup/kie-wb-common/pull/2950/files\nAlso, I think there is still two issues on Business Central side.\n\nRules should be removed from the index when project is removed, because now we still have a message in a log about missing file\n\n20:07:58,208 ERROR [org.kie.workbench.common.services.refactoring.backend.server.query.standard.FindRuleFlowNamesQuery] (default task-6) org.uberfire.java.nio.file.FileSystemNotFoundException: No filesystem for uri (default://master@MySpace/ProjectA/src/main/resources/com/myspace/projecta/TestGroup1.rdrl) found.\n\n\nI think FileSystemNotFoundException should be a checked exception. During the change all similar possible issues we have across the system will be fixed and I guess it can help us to deal with issues with broken .niogit repository. Change is not small, but in my opinion worth to do. @porcelli, @ederign WDYT? I know Java has a similar one and it is Runtime but, maybe it is why we created a similar exception, to have an ability to change it? :)", "createdAt": "2020-04-22T18:20:14Z", "url": "https://github.com/kiegroup/kie-wb-common/pull/3280", "merged": true, "mergeCommit": {"oid": "e7f3739695e664c080829d80b1ebb7068084cb6c"}, "closed": true, "closedAt": "2020-06-08T10:50:55Z", "author": {"login": "hasys"}, "timelineItems": {"totalCount": 15, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcav1qgAFqTM5OTg2NTQzNw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcoU01mAH2gAyNDA3NDU4MzM2OmI2NDc0MjYwZmM2MzQ3Mzc3ZWZmZThhMDk0Y2RkZGFhODNmNDRiNjU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5ODY1NDM3", "url": "https://github.com/kiegroup/kie-wb-common/pull/3280#pullrequestreview-399865437", "createdAt": "2020-04-24T11:31:42Z", "commit": {"oid": "117e97409a11b56b4d35b0548af03e0ac659a72d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxMTozMTo0MlrOGLTWYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yNFQxMTozMTo0MlrOGLTWYQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNDUwNDU0NQ==", "bodyText": "Hey @hasys\nInstead of adding a setter method for testing purposes, what do you think about moving the IOService as an static final field, so it'll become inmutable. This way you'll have to create a constructor, annotate the ioService field witht the @Inject @Named annotations, and then you'l lbe able to use a different (or mocked) IOService instance for the test cases as well, no need to set the instance.\nIMO this would look better as the field will be inmutable, no setter for it sa well, and you'll just be using the constructor on the test case to provide whatever mocks you need to.\nWDYT?", "url": "https://github.com/kiegroup/kie-wb-common/pull/3280#discussion_r414504545", "createdAt": "2020-04-24T11:31:42Z", "author": {"login": "romartin"}, "path": "kie-wb-common-services/kie-wb-common-refactoring/kie-wb-common-refactoring-backend/src/main/java/org/kie/workbench/common/services/refactoring/backend/server/query/standard/FindRuleFlowNamesQuery.java", "diffHunk": "@@ -58,6 +60,16 @@\n     private RuleFlowNamesResponseBuilder responseBuilder = new RuleFlowNamesResponseBuilder();\n \n     public static final String NAME = FindRuleFlowNamesQuery.class.getSimpleName();\n+    public static final String SHARED_TERM = SharedPartIndexTerm.TERM + \":\" + PartType.RULEFLOW_GROUP.toString();\n+\n+    // For the testing purposes\n+    void setIoService(IOService service) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "117e97409a11b56b4d35b0548af03e0ac659a72d"}, "originalPosition": 30}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "117e97409a11b56b4d35b0548af03e0ac659a72d", "author": {"user": {"login": "hasys", "name": "Kirill Gaevskii"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/117e97409a11b56b4d35b0548af03e0ac659a72d", "committedDate": "2020-04-22T13:28:11Z", "message": "refactoring"}, "afterCommit": {"oid": "c31c5a184b2c28a4d0ec783b8218bb776579924b", "author": {"user": {"login": "hasys", "name": "Kirill Gaevskii"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/c31c5a184b2c28a4d0ec783b8218bb776579924b", "committedDate": "2020-04-24T14:29:16Z", "message": "code review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MDE0NDI2", "url": "https://github.com/kiegroup/kie-wb-common/pull/3280#pullrequestreview-405014426", "createdAt": "2020-05-04T14:00:11Z", "commit": {"oid": "c31c5a184b2c28a4d0ec783b8218bb776579924b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c31c5a184b2c28a4d0ec783b8218bb776579924b", "author": {"user": {"login": "hasys", "name": "Kirill Gaevskii"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/c31c5a184b2c28a4d0ec783b8218bb776579924b", "committedDate": "2020-04-24T14:29:16Z", "message": "code review"}, "afterCommit": {"oid": "523a8c624817b0271d3f71323fdd7cbf51fcfe50", "author": {"user": {"login": "hasys", "name": "Kirill Gaevskii"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/523a8c624817b0271d3f71323fdd7cbf51fcfe50", "committedDate": "2020-05-11T11:15:30Z", "message": "code review"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "523a8c624817b0271d3f71323fdd7cbf51fcfe50", "author": {"user": {"login": "hasys", "name": "Kirill Gaevskii"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/523a8c624817b0271d3f71323fdd7cbf51fcfe50", "committedDate": "2020-05-11T11:15:30Z", "message": "code review"}, "afterCommit": {"oid": "e15458124f4e22d4143b23d1408d7a10f44da94c", "author": {"user": {"login": "hasys", "name": "Kirill Gaevskii"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/e15458124f4e22d4143b23d1408d7a10f44da94c", "committedDate": "2020-05-26T08:59:05Z", "message": "code review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwODU1ODQ0", "url": "https://github.com/kiegroup/kie-wb-common/pull/3280#pullrequestreview-420855844", "createdAt": "2020-05-29T11:04:57Z", "commit": {"oid": "e15458124f4e22d4143b23d1408d7a10f44da94c"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab1ee5ab9a692e1122cebf84903a97fd2ec86966", "author": {"user": {"login": "hasys", "name": "Kirill Gaevskii"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/ab1ee5ab9a692e1122cebf84903a97fd2ec86966", "committedDate": "2020-05-29T11:59:58Z", "message": "Tests draft"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d9fd8ce271c516178d933717d9ac3f2d085dcfac", "author": {"user": {"login": "hasys", "name": "Kirill Gaevskii"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/d9fd8ce271c516178d933717d9ac3f2d085dcfac", "committedDate": "2020-05-29T11:59:58Z", "message": "Test coverage with reproducer"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f94d7d7100fa393b9e345ce8bf0c4390f75ee9df", "author": {"user": {"login": "hasys", "name": "Kirill Gaevskii"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/f94d7d7100fa393b9e345ce8bf0c4390f75ee9df", "committedDate": "2020-05-29T11:59:58Z", "message": "The fix"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8872f572bb66929117bb436805b358f353ad3122", "author": {"user": {"login": "hasys", "name": "Kirill Gaevskii"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/8872f572bb66929117bb436805b358f353ad3122", "committedDate": "2020-05-29T11:59:58Z", "message": "refactoring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "801f7eed6541bf7be98766f16e67bd58d15e6d2b", "author": {"user": {"login": "hasys", "name": "Kirill Gaevskii"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/801f7eed6541bf7be98766f16e67bd58d15e6d2b", "committedDate": "2020-05-29T11:59:58Z", "message": "code review"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e15458124f4e22d4143b23d1408d7a10f44da94c", "author": {"user": {"login": "hasys", "name": "Kirill Gaevskii"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/e15458124f4e22d4143b23d1408d7a10f44da94c", "committedDate": "2020-05-26T08:59:05Z", "message": "code review"}, "afterCommit": {"oid": "801f7eed6541bf7be98766f16e67bd58d15e6d2b", "author": {"user": {"login": "hasys", "name": "Kirill Gaevskii"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/801f7eed6541bf7be98766f16e67bd58d15e6d2b", "committedDate": "2020-05-29T11:59:58Z", "message": "code review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1NDAzMDgx", "url": "https://github.com/kiegroup/kie-wb-common/pull/3280#pullrequestreview-425403081", "createdAt": "2020-06-05T15:29:14Z", "commit": {"oid": "801f7eed6541bf7be98766f16e67bd58d15e6d2b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a96faf59802a8e5d659252f8f62a9119c030c933", "author": {"user": {"login": "hasys", "name": "Kirill Gaevskii"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/a96faf59802a8e5d659252f8f62a9119c030c933", "committedDate": "2020-06-05T15:48:44Z", "message": "Add missing license"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6474260fc6347377effe8a094cdddaa83f44b65", "author": {"user": {"login": "hasys", "name": "Kirill Gaevskii"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/b6474260fc6347377effe8a094cdddaa83f44b65", "committedDate": "2020-06-05T15:58:52Z", "message": "fix header issue"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 606, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}