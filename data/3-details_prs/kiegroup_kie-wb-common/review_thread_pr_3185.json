{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgwMzIxNDY3", "number": 3185, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQyMjoxNToxNlrODjQysQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQyMjoxNToxNlrODjQysQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM4MzAxODczOnYy", "diffSide": "RIGHT", "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-backend/src/main/java/org/kie/workbench/common/stunner/bpmn/backend/converters/tostunner/properties/MultipleInstanceActivityPropertyReader.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yNlQyMjoxNToxNlrOFu-WVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yN1QwMDoyMDoyOVrOFvBI1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDgwMDM0Mg==", "bodyText": "Hey @hasys\nIs it possible to reuse this method accross both backend and server side marshallers, in some way? Maybe moving into some helper class on the API?", "url": "https://github.com/kiegroup/kie-wb-common/pull/3185#discussion_r384800342", "createdAt": "2020-02-26T22:15:16Z", "author": {"login": "romartin"}, "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-backend/src/main/java/org/kie/workbench/common/stunner/bpmn/backend/converters/tostunner/properties/MultipleInstanceActivityPropertyReader.java", "diffHunk": "@@ -84,7 +85,15 @@ public String getDataOutput() {\n \n     private static String createOutputVariable(DataOutput output) {\n         String name = (output.getName() != null) ? output.getName() : output.getId();\n-        return name + \":\" + output.getItemSubjectRef().getStructureRef();\n+        return name + \":\" + getVariableType(output);\n+    }\n+\n+    private static String getVariableType(ItemAwareElement variable) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2bc891aa525b5e708d8689dfd6b1d5b047e43244"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDg0MDgyOQ==", "bodyText": "Hi @romartin, most of the logic in this method is depends on Eclipse BPMN2 library, if we will move it to API than API will depend on Eclipse BPMN2 library which is not desirable. So, I guess there is nothing to share between marshallers this time :(\nBut will keep in mind this possibility in the future in case of any bigger independent parts. Thanks!", "url": "https://github.com/kiegroup/kie-wb-common/pull/3185#discussion_r384840829", "createdAt": "2020-02-27T00:03:13Z", "author": {"login": "hasys"}, "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-backend/src/main/java/org/kie/workbench/common/stunner/bpmn/backend/converters/tostunner/properties/MultipleInstanceActivityPropertyReader.java", "diffHunk": "@@ -84,7 +85,15 @@ public String getDataOutput() {\n \n     private static String createOutputVariable(DataOutput output) {\n         String name = (output.getName() != null) ? output.getName() : output.getId();\n-        return name + \":\" + output.getItemSubjectRef().getStructureRef();\n+        return name + \":\" + getVariableType(output);\n+    }\n+\n+    private static String getVariableType(ItemAwareElement variable) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDgwMDM0Mg=="}, "originalCommit": {"oid": "2bc891aa525b5e708d8689dfd6b1d5b047e43244"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDg0NjAzOQ==", "bodyText": "absolutely agree, good point, thanx for the feedback @hasys !", "url": "https://github.com/kiegroup/kie-wb-common/pull/3185#discussion_r384846039", "createdAt": "2020-02-27T00:20:29Z", "author": {"login": "romartin"}, "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-backend/src/main/java/org/kie/workbench/common/stunner/bpmn/backend/converters/tostunner/properties/MultipleInstanceActivityPropertyReader.java", "diffHunk": "@@ -84,7 +85,15 @@ public String getDataOutput() {\n \n     private static String createOutputVariable(DataOutput output) {\n         String name = (output.getName() != null) ? output.getName() : output.getId();\n-        return name + \":\" + output.getItemSubjectRef().getStructureRef();\n+        return name + \":\" + getVariableType(output);\n+    }\n+\n+    private static String getVariableType(ItemAwareElement variable) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NDgwMDM0Mg=="}, "originalCommit": {"oid": "2bc891aa525b5e708d8689dfd6b1d5b047e43244"}, "originalPosition": 25}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1536, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}