{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4MTUyOTQ5", "number": 3305, "title": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type", "bodyText": "https://issues.redhat.com/browse/RHPAM-2891\nFix for the issue, some code refactoring and tests for the class.", "createdAt": "2020-05-14T17:45:24Z", "url": "https://github.com/kiegroup/kie-wb-common/pull/3305", "merged": true, "mergeCommit": {"oid": "923c66ae2fb94b8ec87b883eab34a54708593e47"}, "closed": true, "closedAt": "2020-06-11T12:40:46Z", "author": {"login": "Josephblt"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcid8XCgBqjMzNDY4MDIzODI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcqNlVngFqTQyODg2NzI5MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ec41d8d5df9274984c53467b1f9fa0eb5ff27b91", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/ec41d8d5df9274984c53467b1f9fa0eb5ff27b91", "committedDate": "2020-05-14T17:42:17Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}, "afterCommit": {"oid": "f8c134f4156813c3d63944fab815a440598c2122", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/f8c134f4156813c3d63944fab815a440598c2122", "committedDate": "2020-05-18T11:12:12Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f8c134f4156813c3d63944fab815a440598c2122", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/f8c134f4156813c3d63944fab815a440598c2122", "committedDate": "2020-05-18T11:12:12Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}, "afterCommit": {"oid": "df0c547749f2c59f8084df1f1e7ac146532d07a1", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/df0c547749f2c59f8084df1f1e7ac146532d07a1", "committedDate": "2020-05-18T11:59:44Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "df0c547749f2c59f8084df1f1e7ac146532d07a1", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/df0c547749f2c59f8084df1f1e7ac146532d07a1", "committedDate": "2020-05-18T11:59:44Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}, "afterCommit": {"oid": "f9a9b9b63c4966a3f77222abddcca245b36120e1", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/f9a9b9b63c4966a3f77222abddcca245b36120e1", "committedDate": "2020-05-19T14:07:18Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f9a9b9b63c4966a3f77222abddcca245b36120e1", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/f9a9b9b63c4966a3f77222abddcca245b36120e1", "committedDate": "2020-05-19T14:07:18Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}, "afterCommit": {"oid": "8eea36e0ea2179416bf12e0af66488ed2ec913ea", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/8eea36e0ea2179416bf12e0af66488ed2ec913ea", "committedDate": "2020-05-25T14:24:20Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8eea36e0ea2179416bf12e0af66488ed2ec913ea", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/8eea36e0ea2179416bf12e0af66488ed2ec913ea", "committedDate": "2020-05-25T14:24:20Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}, "afterCommit": {"oid": "288caf3a2aba03934783fb41a70b196485c658b6", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/288caf3a2aba03934783fb41a70b196485c658b6", "committedDate": "2020-05-25T14:49:01Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "288caf3a2aba03934783fb41a70b196485c658b6", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/288caf3a2aba03934783fb41a70b196485c658b6", "committedDate": "2020-05-25T14:49:01Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}, "afterCommit": {"oid": "62dc8f68fbcda7460f9645470d768a864a56734f", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/62dc8f68fbcda7460f9645470d768a864a56734f", "committedDate": "2020-05-28T14:34:02Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "62dc8f68fbcda7460f9645470d768a864a56734f", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/62dc8f68fbcda7460f9645470d768a864a56734f", "committedDate": "2020-05-28T14:34:02Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}, "afterCommit": {"oid": "c82d8ece17398dd2d57de2af6d03c73fd8d7d4cf", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/c82d8ece17398dd2d57de2af6d03c73fd8d7d4cf", "committedDate": "2020-05-29T13:13:03Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c82d8ece17398dd2d57de2af6d03c73fd8d7d4cf", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/c82d8ece17398dd2d57de2af6d03c73fd8d7d4cf", "committedDate": "2020-05-29T13:13:03Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}, "afterCommit": {"oid": "977967450dfbe99a8c432d302b3c3a3d97a2fee5", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/977967450dfbe99a8c432d302b3c3a3d97a2fee5", "committedDate": "2020-06-02T13:18:31Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0ODc2MTU3", "url": "https://github.com/kiegroup/kie-wb-common/pull/3305#pullrequestreview-424876157", "createdAt": "2020-06-04T22:23:48Z", "commit": {"oid": "977967450dfbe99a8c432d302b3c3a3d97a2fee5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQyMjoyMzo0OFrOGfaBOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQyMjoyMzo0OFrOGfaBOg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTU4NTMzOA==", "bodyText": "I think it should be better for a domain object like this Variable class (in this case, talking about \"forms\" domain) moving whatever construction logic to a builder method (in same class), and trying to keep as much as possible a POJO approach - constructors would only be setting the internal fields, same for getters/setters, no spefici logic should be present...\nSo what about just moving these conditions into a builder class? eg:\npublic static class VariableBuilder {\n...\n    public Variable buidl() {\n    ...\n    }\n}", "url": "https://github.com/kiegroup/kie-wb-common/pull/3305#discussion_r435585338", "createdAt": "2020-06-04T22:23:48Z", "author": {"login": "romartin"}, "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-client/src/main/java/org/kie/workbench/common/stunner/bpmn/client/forms/fields/model/Variable.java", "diffHunk": "@@ -40,23 +40,29 @@\n     private List<String> tags;\n \n     public Variable(VariableType variableType) {\n-        this.variableType = variableType;\n+        this(null, variableType, null, null, null);\n     }\n \n     public Variable(final String name,\n                     final VariableType variableType) {\n-        this.name = name;\n-        this.variableType = variableType;\n+        this(name, variableType, null, null, null);\n     }\n \n     public Variable(final String name,\n                     final VariableType variableType,\n                     final String dataType,\n                     final String customDataType) {\n-        this.name = name;\n-        this.variableType = variableType;\n-        this.dataType = dataType;\n-        this.customDataType = customDataType;\n+        this(name, variableType, dataType, customDataType, null);\n+    }\n+\n+    public Variable(final VariableRow row,\n+                    final Map<String, String> mapDataTypeDisplayNamesToNames) {\n+        this(row.getName(), row.getVariableType(), null, row.getCustomDataType(), row.getTags());\n+        if (row.getDataTypeDisplayName() != null && mapDataTypeDisplayNamesToNames.containsKey(row.getDataTypeDisplayName())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "977967450dfbe99a8c432d302b3c3a3d97a2fee5"}, "originalPosition": 38}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1MjUzMzIy", "url": "https://github.com/kiegroup/kie-wb-common/pull/3305#pullrequestreview-425253322", "createdAt": "2020-06-05T12:27:58Z", "commit": {"oid": "977967450dfbe99a8c432d302b3c3a3d97a2fee5"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "977967450dfbe99a8c432d302b3c3a3d97a2fee5", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/977967450dfbe99a8c432d302b3c3a3d97a2fee5", "committedDate": "2020-06-02T13:18:31Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}, "afterCommit": {"oid": "f7340c751b9f3d9cc0c8f4e7eecf57d52fed6e71", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/f7340c751b9f3d9cc0c8f4e7eecf57d52fed6e71", "committedDate": "2020-06-09T17:56:23Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f7340c751b9f3d9cc0c8f4e7eecf57d52fed6e71", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/f7340c751b9f3d9cc0c8f4e7eecf57d52fed6e71", "committedDate": "2020-06-09T17:56:23Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}, "afterCommit": {"oid": "01f36a37fc5f6650640d8bef1139b7f579045281", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/01f36a37fc5f6650640d8bef1139b7f579045281", "committedDate": "2020-06-10T04:09:15Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "01f36a37fc5f6650640d8bef1139b7f579045281", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/01f36a37fc5f6650640d8bef1139b7f579045281", "committedDate": "2020-06-10T04:09:15Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}, "afterCommit": {"oid": "ef3146f79ecfdda7da89441010efc22538b77c3c", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/ef3146f79ecfdda7da89441010efc22538b77c3c", "committedDate": "2020-06-10T07:44:30Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ef3146f79ecfdda7da89441010efc22538b77c3c", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/ef3146f79ecfdda7da89441010efc22538b77c3c", "committedDate": "2020-06-10T07:44:30Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}, "afterCommit": {"oid": "194f238ad4ed71fcd0ba60582641948844000e56", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/194f238ad4ed71fcd0ba60582641948844000e56", "committedDate": "2020-06-10T07:53:57Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4MzU2MjM1", "url": "https://github.com/kiegroup/kie-wb-common/pull/3305#pullrequestreview-428356235", "createdAt": "2020-06-10T19:17:05Z", "commit": {"oid": "194f238ad4ed71fcd0ba60582641948844000e56"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "527c3d4607206b0c3ba19d2685a4d8846ca904e5", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/527c3d4607206b0c3ba19d2685a4d8846ca904e5", "committedDate": "2020-06-10T22:00:46Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4NDcyNzI5", "url": "https://github.com/kiegroup/kie-wb-common/pull/3305#pullrequestreview-428472729", "createdAt": "2020-06-10T22:31:14Z", "commit": {"oid": "194f238ad4ed71fcd0ba60582641948844000e56"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "194f238ad4ed71fcd0ba60582641948844000e56", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/194f238ad4ed71fcd0ba60582641948844000e56", "committedDate": "2020-06-10T07:53:57Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}, "afterCommit": {"oid": "527c3d4607206b0c3ba19d2685a4d8846ca904e5", "author": {"user": {"login": "Josephblt", "name": "Wagner Scholl Lemos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/527c3d4607206b0c3ba19d2685a4d8846ca904e5", "committedDate": "2020-06-10T22:00:46Z", "message": "RHPAM-2891 - Stunner - Error message when creating process variable without Data Type\n\nFix for the issue, some code refactoring and tests for the class."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI4ODY3Mjkw", "url": "https://github.com/kiegroup/kie-wb-common/pull/3305#pullrequestreview-428867290", "createdAt": "2020-06-11T12:40:27Z", "commit": {"oid": "527c3d4607206b0c3ba19d2685a4d8846ca904e5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 385, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}