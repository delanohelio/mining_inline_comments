{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY2ODc2NDA0", "number": 3124, "title": "RHDM-1145: [DMN Designer] Java Date field is not converted to DMN date type", "bodyText": "RHDM-1145: [DMN Designer] Java Date field is not converted to DMN date type\nDROOLS-4977: [DMN Designer] Refactor DataObjectsServiceImpl to not duplicate logic from ParseHelper\nEDIT: is not a part of an ensemble anymore. The changes in the Drools was superseded by kiegroup/drools#2735", "createdAt": "2020-01-24T14:59:12Z", "url": "https://github.com/kiegroup/kie-wb-common/pull/3124", "merged": true, "mergeCommit": {"oid": "e069f489e8c422412edc55573ce1176d85d46806"}, "closed": true, "closedAt": "2020-02-04T12:54:58Z", "author": {"login": "danielzhe"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb9gR5OgBqjI5Nzc1MjcyODI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcA7N-qgFqTM1Mjc0MDk0OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f9c14bed2b51631d8028b9dc4e24c6b11880ce39", "author": {"user": {"login": "danielzhe", "name": "Daniel J dos Santos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/f9c14bed2b51631d8028b9dc4e24c6b11880ce39", "committedDate": "2020-01-24T14:52:47Z", "message": "RHDM-1145: [DMN Designer] Java Date field is not converted to DMN date type\nDROOLS-4977: [DMN Designer] Refactor DataObjectsServiceImpl to not duplicate logic from ParseHelper"}, "afterCommit": {"oid": "e79d349903d672e5679b0f1f8e5ad912bcf325e2", "author": {"user": {"login": "danielzhe", "name": "Daniel J dos Santos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/e79d349903d672e5679b0f1f8e5ad912bcf325e2", "committedDate": "2020-01-24T15:00:26Z", "message": "RHDM-1145: [DMN Designer] Java Date field is not converted to DMN date type\nDROOLS-4977: [DMN Designer] Refactor DataObjectsServiceImpl to not duplicate logic from ParseHelper"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5MjE4ODIw", "url": "https://github.com/kiegroup/kie-wb-common/pull/3124#pullrequestreview-349218820", "createdAt": "2020-01-28T09:12:31Z", "commit": {"oid": "e79d349903d672e5679b0f1f8e5ad912bcf325e2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ5MjMzNjI2", "url": "https://github.com/kiegroup/kie-wb-common/pull/3124#pullrequestreview-349233626", "createdAt": "2020-01-28T09:35:29Z", "commit": {"oid": "e79d349903d672e5679b0f1f8e5ad912bcf325e2"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwOTozNToyOVrOFieTnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQwOTozNToyOVrOFieTnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MTY5MjQ0Nw==", "bodyText": "Looks like you'll need to change this to use JavaBackedType.determineTypeFromClass(..). See here.", "url": "https://github.com/kiegroup/kie-wb-common/pull/3124#discussion_r371692447", "createdAt": "2020-01-28T09:35:29Z", "author": {"login": "manstis"}, "path": "kie-wb-common-dmn/kie-wb-common-dmn-backend/src/main/java/org/kie/workbench/common/dmn/backend/editors/types/DataObjectsServiceImpl.java", "diffHunk": "@@ -152,24 +148,32 @@ private String convertDataType(final String typeName,\n     }\n \n     private BuiltInType determineBuiltInTypeFromClass(final Class<?> clazz) {\n-        if (Objects.isNull(clazz)) {\n-            return BuiltInType.UNDEFINED;\n-        } else if (Number.class.isAssignableFrom(clazz)) {\n-            return BuiltInType.NUMBER;\n-        } else if (String.class.isAssignableFrom(clazz)) {\n-            return BuiltInType.STRING;\n-        } else if (Character.class.isAssignableFrom(clazz)) {\n-            return BuiltInType.STRING;\n-        } else if (LocalDate.class.isAssignableFrom(clazz)) {\n-            return BuiltInType.DATE;\n-        } else if (LocalTime.class.isAssignableFrom(clazz) || OffsetTime.class.isAssignableFrom(clazz)) {\n-            return BuiltInType.TIME;\n-        } else if (ZonedDateTime.class.isAssignableFrom(clazz) || OffsetDateTime.class.isAssignableFrom(clazz) || LocalDateTime.class.isAssignableFrom(clazz)) {\n-            return BuiltInType.DATE_TIME;\n-        } else if (Boolean.class.isAssignableFrom(clazz)) {\n-            return BuiltInType.BOOLEAN;\n-        } else if (Map.class.isAssignableFrom(clazz)) {\n-            return BuiltInType.CONTEXT;\n+        final Type type = ParserHelper.determineTypeFromClass(clazz);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e79d349903d672e5679b0f1f8e5ad912bcf325e2"}, "originalPosition": 44}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ade6f371ea0aca068669cd3ba2466745e0875ff", "author": {"user": {"login": "danielzhe", "name": "Daniel J dos Santos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/2ade6f371ea0aca068669cd3ba2466745e0875ff", "committedDate": "2020-01-30T20:08:15Z", "message": "RHDM-1145: [DMN Designer] Java Date field is not converted to DMN date type\nDROOLS-4977: [DMN Designer] Refactor DataObjectsServiceImpl to not duplicate logic from ParseHelper"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e3d618be6558d4ae84d77fdaa33637107c3fa55", "author": {"user": {"login": "danielzhe", "name": "Daniel J dos Santos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/8e3d618be6558d4ae84d77fdaa33637107c3fa55", "committedDate": "2020-01-30T20:31:26Z", "message": "JavaBackedType"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e79d349903d672e5679b0f1f8e5ad912bcf325e2", "author": {"user": {"login": "danielzhe", "name": "Daniel J dos Santos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/e79d349903d672e5679b0f1f8e5ad912bcf325e2", "committedDate": "2020-01-24T15:00:26Z", "message": "RHDM-1145: [DMN Designer] Java Date field is not converted to DMN date type\nDROOLS-4977: [DMN Designer] Refactor DataObjectsServiceImpl to not duplicate logic from ParseHelper"}, "afterCommit": {"oid": "8e3d618be6558d4ae84d77fdaa33637107c3fa55", "author": {"user": {"login": "danielzhe", "name": "Daniel J dos Santos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/8e3d618be6558d4ae84d77fdaa33637107c3fa55", "committedDate": "2020-01-30T20:31:26Z", "message": "JavaBackedType"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUxNDcyNjI0", "url": "https://github.com/kiegroup/kie-wb-common/pull/3124#pullrequestreview-351472624", "createdAt": "2020-01-31T12:26:56Z", "commit": {"oid": "8e3d618be6558d4ae84d77fdaa33637107c3fa55"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyNzQwOTQ5", "url": "https://github.com/kiegroup/kie-wb-common/pull/3124#pullrequestreview-352740949", "createdAt": "2020-02-04T06:05:45Z", "commit": {"oid": "8e3d618be6558d4ae84d77fdaa33637107c3fa55"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 669, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}