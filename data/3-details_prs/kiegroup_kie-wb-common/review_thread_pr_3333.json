{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1MjA5MDc2", "number": 3333, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNzoyMjozMVrOEGcY6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMjoyMjozMVrOEloZow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MTkyMDQyOnYy", "diffSide": "RIGHT", "path": "kie-wb-common-dmn/kie-wb-common-dmn-client/src/main/java/org/kie/workbench/common/dmn/client/widgets/grid/controls/list/ListSelectorTextItemViewImpl.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNzoyMjozMVrOGlPmgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOFQwNTo0NzoyNlrOGlgaqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcwNjExNQ==", "bodyText": "I wouldn't prefix with 'qe-' to make this shorter - the data-ouia prefix of attribute says it all - for use during testing.", "url": "https://github.com/kiegroup/kie-wb-common/pull/3333#discussion_r441706115", "createdAt": "2020-06-17T17:22:31Z", "author": {"login": "jstastny-cz"}, "path": "kie-wb-common-dmn/kie-wb-common-dmn-client/src/main/java/org/kie/workbench/common/dmn/client/widgets/grid/controls/list/ListSelectorTextItemViewImpl.java", "diffHunk": "@@ -71,4 +77,19 @@ public void addClickHandler(final Command command) {\n                               (e) -> command.execute(),\n                               false);\n     }\n+\n+    @Override\n+    public OuiaComponentTypeAttribute ouiaComponentType() {\n+        return new OuiaComponentTypeAttribute(\"qe-dmn-grid-context-menu-item\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da1577a376880fa346157cd18974e2772b3ce8b4"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTk3OTM1OQ==", "bodyText": "@jstastny-cz yes, I was not sure if to prefix or not. In final I decided to prefix as in past similar initiative using 'qe-' prefix was done. However that time 'class' attribute was used.\nI agree with you this time attribute name explains the purpose and the 'qe-' prefix is not needed anymore.", "url": "https://github.com/kiegroup/kie-wb-common/pull/3333#discussion_r441979359", "createdAt": "2020-06-18T05:39:29Z", "author": {"login": "jomarko"}, "path": "kie-wb-common-dmn/kie-wb-common-dmn-client/src/main/java/org/kie/workbench/common/dmn/client/widgets/grid/controls/list/ListSelectorTextItemViewImpl.java", "diffHunk": "@@ -71,4 +77,19 @@ public void addClickHandler(final Command command) {\n                               (e) -> command.execute(),\n                               false);\n     }\n+\n+    @Override\n+    public OuiaComponentTypeAttribute ouiaComponentType() {\n+        return new OuiaComponentTypeAttribute(\"qe-dmn-grid-context-menu-item\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcwNjExNQ=="}, "originalCommit": {"oid": "da1577a376880fa346157cd18974e2772b3ce8b4"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTk4MTYxMQ==", "bodyText": "changes are in", "url": "https://github.com/kiegroup/kie-wb-common/pull/3333#discussion_r441981611", "createdAt": "2020-06-18T05:47:26Z", "author": {"login": "jomarko"}, "path": "kie-wb-common-dmn/kie-wb-common-dmn-client/src/main/java/org/kie/workbench/common/dmn/client/widgets/grid/controls/list/ListSelectorTextItemViewImpl.java", "diffHunk": "@@ -71,4 +77,19 @@ public void addClickHandler(final Command command) {\n                               (e) -> command.execute(),\n                               false);\n     }\n+\n+    @Override\n+    public OuiaComponentTypeAttribute ouiaComponentType() {\n+        return new OuiaComponentTypeAttribute(\"qe-dmn-grid-context-menu-item\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcwNjExNQ=="}, "originalCommit": {"oid": "da1577a376880fa346157cd18974e2772b3ce8b4"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3ODkxMjY0OnYy", "diffSide": "RIGHT", "path": "kie-wb-common-dmn/kie-wb-common-dmn-client/src/main/java/org/kie/workbench/common/dmn/client/docks/navigator/tree/DecisionNavigatorTreeView.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMjoxMjoyOVrOHVM-7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxNDowNTo1OVrOH_SWFw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk5NDg2Mg==", "bodyText": "Is it ok to return \"dmn-graph-navigator-expression\" if getItem() == null?", "url": "https://github.com/kiegroup/kie-wb-common/pull/3333#discussion_r491994862", "createdAt": "2020-09-21T12:12:29Z", "author": {"login": "caponetto"}, "path": "kie-wb-common-dmn/kie-wb-common-dmn-client/src/main/java/org/kie/workbench/common/dmn/client/docks/navigator/tree/DecisionNavigatorTreeView.java", "diffHunk": "@@ -260,10 +266,33 @@ public TreeItem setup(final DecisionNavigatorItem item,\n             updateCSSClass();\n             updateLabel();\n             updateSubItems(children);\n-\n+            initOuiaComponentAttributes();\n             return this;\n         }\n \n+        @Override\n+        public Consumer<OuiaAttribute> ouiaAttributeRenderer() {\n+            return ouiaAttribute -> getElement().setAttribute(ouiaAttribute.getName(), ouiaAttribute.getValue());\n+        }\n+\n+        @Override\n+        public OuiaComponentTypeAttribute ouiaComponentType() {\n+            return new OuiaComponentTypeAttribute(componentType());\n+        }\n+\n+        @Override\n+        public OuiaComponentIdAttribute ouiaComponentId() {\n+            return new OuiaComponentIdAttribute(componentType() + \"-\" + getItem().getLabel());\n+        }\n+\n+        private String componentType() {\n+            if (getItem() != null && !getItem().getChildren().isEmpty()) {\n+                return \"dmn-graph-navigator-node\";\n+            } else {\n+                return \"dmn-graph-navigator-expression\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89bb08e3001b0d384beb3f57a59bfa560dfd1dac"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjEyMjkwMw==", "bodyText": "@caponetto good point, thank you, I agree this way is not ideal and could confuse other developers. I tried to rewrite this logic to make more understandable. Please re-review once I push the changes.", "url": "https://github.com/kiegroup/kie-wb-common/pull/3333#discussion_r536122903", "createdAt": "2020-12-04T14:05:59Z", "author": {"login": "jomarko"}, "path": "kie-wb-common-dmn/kie-wb-common-dmn-client/src/main/java/org/kie/workbench/common/dmn/client/docks/navigator/tree/DecisionNavigatorTreeView.java", "diffHunk": "@@ -260,10 +266,33 @@ public TreeItem setup(final DecisionNavigatorItem item,\n             updateCSSClass();\n             updateLabel();\n             updateSubItems(children);\n-\n+            initOuiaComponentAttributes();\n             return this;\n         }\n \n+        @Override\n+        public Consumer<OuiaAttribute> ouiaAttributeRenderer() {\n+            return ouiaAttribute -> getElement().setAttribute(ouiaAttribute.getName(), ouiaAttribute.getValue());\n+        }\n+\n+        @Override\n+        public OuiaComponentTypeAttribute ouiaComponentType() {\n+            return new OuiaComponentTypeAttribute(componentType());\n+        }\n+\n+        @Override\n+        public OuiaComponentIdAttribute ouiaComponentId() {\n+            return new OuiaComponentIdAttribute(componentType() + \"-\" + getItem().getLabel());\n+        }\n+\n+        private String componentType() {\n+            if (getItem() != null && !getItem().getChildren().isEmpty()) {\n+                return \"dmn-graph-navigator-node\";\n+            } else {\n+                return \"dmn-graph-navigator-expression\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk5NDg2Mg=="}, "originalCommit": {"oid": "89bb08e3001b0d384beb3f57a59bfa560dfd1dac"}, "originalPosition": 57}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3ODkyNjkxOnYy", "diffSide": "RIGHT", "path": "kie-wb-common-dmn/kie-wb-common-dmn-client/src/main/java/org/kie/workbench/common/dmn/client/widgets/grid/controls/list/ListSelectorTextItemViewImpl.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMjoxNjo0MFrOHVNHlg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxNDowOTozMVrOH_SfRQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk5NzA3OA==", "bodyText": "Shouldn't this init call be in a setup method or something like this? It seems weird to me an init inside setText.", "url": "https://github.com/kiegroup/kie-wb-common/pull/3333#discussion_r491997078", "createdAt": "2020-09-21T12:16:40Z", "author": {"login": "caponetto"}, "path": "kie-wb-common-dmn/kie-wb-common-dmn-client/src/main/java/org/kie/workbench/common/dmn/client/widgets/grid/controls/list/ListSelectorTextItemViewImpl.java", "diffHunk": "@@ -53,6 +58,7 @@ public ListSelectorTextItemViewImpl(final ListItem item,\n     @Override\n     public void setText(final String text) {\n         this.text.setTextContent(text);\n+        initOuiaComponentAttributes();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89bb08e3001b0d384beb3f57a59bfa560dfd1dac"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjEyNTI1Mw==", "bodyText": "@caponetto good point, I will move this initOuiaComponentAttributes() into constructor; However still on this line I will need to update ouiaComponentId because it depends on the text. Please rereview once I push the changes. Thank you.", "url": "https://github.com/kiegroup/kie-wb-common/pull/3333#discussion_r536125253", "createdAt": "2020-12-04T14:09:31Z", "author": {"login": "jomarko"}, "path": "kie-wb-common-dmn/kie-wb-common-dmn-client/src/main/java/org/kie/workbench/common/dmn/client/widgets/grid/controls/list/ListSelectorTextItemViewImpl.java", "diffHunk": "@@ -53,6 +58,7 @@ public ListSelectorTextItemViewImpl(final ListItem item,\n     @Override\n     public void setText(final String text) {\n         this.text.setTextContent(text);\n+        initOuiaComponentAttributes();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk5NzA3OA=="}, "originalCommit": {"oid": "89bb08e3001b0d384beb3f57a59bfa560dfd1dac"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzA3ODk0NjkxOnYy", "diffSide": "RIGHT", "path": "kie-wb-common-stunner/kie-wb-common-stunner-client/kie-wb-common-stunner-widgets/src/main/java/org/kie/workbench/common/stunner/client/widgets/explorer/tree/TreeExplorerView.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMjoyMjozMVrOHVNUUQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxNDoxNjo1NFrOH_SyAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjAwMDMzNw==", "bodyText": "Isn't the responsibility of the item calling its own initOuiaComponentAttributes internally?\nAt least, this is what I have been observing on the other ouia components.", "url": "https://github.com/kiegroup/kie-wb-common/pull/3333#discussion_r492000337", "createdAt": "2020-09-21T12:22:31Z", "author": {"login": "caponetto"}, "path": "kie-wb-common-stunner/kie-wb-common-stunner-client/kie-wb-common-stunner-widgets/src/main/java/org/kie/workbench/common/stunner/client/widgets/explorer/tree/TreeExplorerView.java", "diffHunk": "@@ -195,6 +195,7 @@ private TreeItem buildItem(final String uuid,\n                                            icon);\n         item.setUserObject(uuid);\n         item.getElement().getStyle().setCursor(Style.Cursor.POINTER);\n+        item.initOuiaComponentAttributes();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89bb08e3001b0d384beb3f57a59bfa560dfd1dac"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjEzMDA0OA==", "bodyText": "true, will try to move it directly into TreeItem, thank you", "url": "https://github.com/kiegroup/kie-wb-common/pull/3333#discussion_r536130048", "createdAt": "2020-12-04T14:16:54Z", "author": {"login": "jomarko"}, "path": "kie-wb-common-stunner/kie-wb-common-stunner-client/kie-wb-common-stunner-widgets/src/main/java/org/kie/workbench/common/stunner/client/widgets/explorer/tree/TreeExplorerView.java", "diffHunk": "@@ -195,6 +195,7 @@ private TreeItem buildItem(final String uuid,\n                                            icon);\n         item.setUserObject(uuid);\n         item.getElement().getStyle().setCursor(Style.Cursor.POINTER);\n+        item.initOuiaComponentAttributes();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjAwMDMzNw=="}, "originalCommit": {"oid": "89bb08e3001b0d384beb3f57a59bfa560dfd1dac"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1323, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}