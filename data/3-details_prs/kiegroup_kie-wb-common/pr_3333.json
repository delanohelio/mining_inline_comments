{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM1MjA5MDc2", "number": 3333, "title": "KOGITO-204: Introduce OUIA attributes to unify kogito integration tests", "bodyText": "Ensemble together with:\n\nkiegroup/appformer#987\n\nFor more details see: https://issues.redhat.com/browse/KOGITO-204", "createdAt": "2020-06-16T13:20:12Z", "url": "https://github.com/kiegroup/kie-wb-common/pull/3333", "merged": true, "mergeCommit": {"oid": "1e5f2df585f9408b3e41daa69480c1d570e7e57e"}, "closed": true, "closedAt": "2021-01-14T11:01:20Z", "author": {"login": "jomarko"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcsLuC8ABqjM0NTQyMTgxNTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdvyLbsgBqjQyMDIwNjQ0NjE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9286dc127d6438236f9e560e3af72f8d5639126b", "author": {"user": {"login": "jomarko", "name": "Jozef Marko"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/9286dc127d6438236f9e560e3af72f8d5639126b", "committedDate": "2020-06-16T13:16:30Z", "message": "KOGITO-204: Introduce OUIA attributes to unify kogito integration tests\n\nFor more details see: https://issues.redhat.com/browse/KOGITO-204"}, "afterCommit": {"oid": "eff2edc40eea2e9b0b183945fe5220b6d600a25c", "author": {"user": {"login": "jomarko", "name": "Jozef Marko"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/eff2edc40eea2e9b0b183945fe5220b6d600a25c", "committedDate": "2020-06-17T15:37:46Z", "message": "KOGITO-204: Introduce OUIA attributes to unify kogito integration tests\n\nFor more details see: https://issues.redhat.com/browse/KOGITO-204"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "eff2edc40eea2e9b0b183945fe5220b6d600a25c", "author": {"user": {"login": "jomarko", "name": "Jozef Marko"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/eff2edc40eea2e9b0b183945fe5220b6d600a25c", "committedDate": "2020-06-17T15:37:46Z", "message": "KOGITO-204: Introduce OUIA attributes to unify kogito integration tests\n\nFor more details see: https://issues.redhat.com/browse/KOGITO-204"}, "afterCommit": {"oid": "3657d4fb278288ee7c16af7f08cb2cb1ee9f8236", "author": {"user": {"login": "jomarko", "name": "Jozef Marko"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/3657d4fb278288ee7c16af7f08cb2cb1ee9f8236", "committedDate": "2020-06-17T15:38:27Z", "message": "KOGITO-204: Introduce OUIA attributes to unify kogito integration tests\n\nFor more details see: https://issues.redhat.com/browse/KOGITO-204"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3657d4fb278288ee7c16af7f08cb2cb1ee9f8236", "author": {"user": {"login": "jomarko", "name": "Jozef Marko"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/3657d4fb278288ee7c16af7f08cb2cb1ee9f8236", "committedDate": "2020-06-17T15:38:27Z", "message": "KOGITO-204: Introduce OUIA attributes to unify kogito integration tests\n\nFor more details see: https://issues.redhat.com/browse/KOGITO-204"}, "afterCommit": {"oid": "da1577a376880fa346157cd18974e2772b3ce8b4", "author": {"user": {"login": "jomarko", "name": "Jozef Marko"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/da1577a376880fa346157cd18974e2772b3ce8b4", "committedDate": "2020-06-17T15:39:36Z", "message": "KOGITO-204: Introduce OUIA attributes to unify kogito integration tests\n\nFor more details see: https://issues.redhat.com/browse/KOGITO-204"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyNjE1MzA5", "url": "https://github.com/kiegroup/kie-wb-common/pull/3333#pullrequestreview-432615309", "createdAt": "2020-06-17T17:22:31Z", "commit": {"oid": "da1577a376880fa346157cd18974e2772b3ce8b4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNzoyMjozMVrOGlPmgw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxNzoyMjozMVrOGlPmgw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTcwNjExNQ==", "bodyText": "I wouldn't prefix with 'qe-' to make this shorter - the data-ouia prefix of attribute says it all - for use during testing.", "url": "https://github.com/kiegroup/kie-wb-common/pull/3333#discussion_r441706115", "createdAt": "2020-06-17T17:22:31Z", "author": {"login": "jstastny-cz"}, "path": "kie-wb-common-dmn/kie-wb-common-dmn-client/src/main/java/org/kie/workbench/common/dmn/client/widgets/grid/controls/list/ListSelectorTextItemViewImpl.java", "diffHunk": "@@ -71,4 +77,19 @@ public void addClickHandler(final Command command) {\n                               (e) -> command.execute(),\n                               false);\n     }\n+\n+    @Override\n+    public OuiaComponentTypeAttribute ouiaComponentType() {\n+        return new OuiaComponentTypeAttribute(\"qe-dmn-grid-context-menu-item\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da1577a376880fa346157cd18974e2772b3ce8b4"}, "originalPosition": 34}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "da1577a376880fa346157cd18974e2772b3ce8b4", "author": {"user": {"login": "jomarko", "name": "Jozef Marko"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/da1577a376880fa346157cd18974e2772b3ce8b4", "committedDate": "2020-06-17T15:39:36Z", "message": "KOGITO-204: Introduce OUIA attributes to unify kogito integration tests\n\nFor more details see: https://issues.redhat.com/browse/KOGITO-204"}, "afterCommit": {"oid": "a40a6de5f57487873d9ec648abb11e1f6fc0cc7a", "author": {"user": {"login": "jomarko", "name": "Jozef Marko"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/a40a6de5f57487873d9ec648abb11e1f6fc0cc7a", "committedDate": "2020-06-18T05:45:35Z", "message": "KOGITO-204: Introduce OUIA attributes to unify kogito integration tests\n\nFor more details see: https://issues.redhat.com/browse/KOGITO-204"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a40a6de5f57487873d9ec648abb11e1f6fc0cc7a", "author": {"user": {"login": "jomarko", "name": "Jozef Marko"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/a40a6de5f57487873d9ec648abb11e1f6fc0cc7a", "committedDate": "2020-06-18T05:45:35Z", "message": "KOGITO-204: Introduce OUIA attributes to unify kogito integration tests\n\nFor more details see: https://issues.redhat.com/browse/KOGITO-204"}, "afterCommit": {"oid": "614b4a0f32f2d0a1b4ecb3f2d5433255a2ba64ee", "author": {"user": {"login": "jomarko", "name": "Jozef Marko"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/614b4a0f32f2d0a1b4ecb3f2d5433255a2ba64ee", "committedDate": "2020-06-18T05:45:52Z", "message": "KOGITO-204: Introduce OUIA attributes to unify kogito integration tests\n\nFor more details see: https://issues.redhat.com/browse/KOGITO-204"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDMyOTc4NzIx", "url": "https://github.com/kiegroup/kie-wb-common/pull/3333#pullrequestreview-432978721", "createdAt": "2020-06-18T06:35:33Z", "commit": {"oid": "614b4a0f32f2d0a1b4ecb3f2d5433255a2ba64ee"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "614b4a0f32f2d0a1b4ecb3f2d5433255a2ba64ee", "author": {"user": {"login": "jomarko", "name": "Jozef Marko"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/614b4a0f32f2d0a1b4ecb3f2d5433255a2ba64ee", "committedDate": "2020-06-18T05:45:52Z", "message": "KOGITO-204: Introduce OUIA attributes to unify kogito integration tests\n\nFor more details see: https://issues.redhat.com/browse/KOGITO-204"}, "afterCommit": {"oid": "89bb08e3001b0d384beb3f57a59bfa560dfd1dac", "author": {"user": {"login": "jomarko", "name": "Jozef Marko"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/89bb08e3001b0d384beb3f57a59bfa560dfd1dac", "committedDate": "2020-06-18T18:52:04Z", "message": "KOGITO-204: Introduce OUIA attributes to unify kogito integration tests\n\nFor more details see: https://issues.redhat.com/browse/KOGITO-204"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyNTMzNDU0", "url": "https://github.com/kiegroup/kie-wb-common/pull/3333#pullrequestreview-492533454", "createdAt": "2020-09-21T12:12:29Z", "commit": {"oid": "89bb08e3001b0d384beb3f57a59bfa560dfd1dac"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMjoxMjoyOVrOHVM-7g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMjoyMjozMVrOHVNUUQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk5NDg2Mg==", "bodyText": "Is it ok to return \"dmn-graph-navigator-expression\" if getItem() == null?", "url": "https://github.com/kiegroup/kie-wb-common/pull/3333#discussion_r491994862", "createdAt": "2020-09-21T12:12:29Z", "author": {"login": "caponetto"}, "path": "kie-wb-common-dmn/kie-wb-common-dmn-client/src/main/java/org/kie/workbench/common/dmn/client/docks/navigator/tree/DecisionNavigatorTreeView.java", "diffHunk": "@@ -260,10 +266,33 @@ public TreeItem setup(final DecisionNavigatorItem item,\n             updateCSSClass();\n             updateLabel();\n             updateSubItems(children);\n-\n+            initOuiaComponentAttributes();\n             return this;\n         }\n \n+        @Override\n+        public Consumer<OuiaAttribute> ouiaAttributeRenderer() {\n+            return ouiaAttribute -> getElement().setAttribute(ouiaAttribute.getName(), ouiaAttribute.getValue());\n+        }\n+\n+        @Override\n+        public OuiaComponentTypeAttribute ouiaComponentType() {\n+            return new OuiaComponentTypeAttribute(componentType());\n+        }\n+\n+        @Override\n+        public OuiaComponentIdAttribute ouiaComponentId() {\n+            return new OuiaComponentIdAttribute(componentType() + \"-\" + getItem().getLabel());\n+        }\n+\n+        private String componentType() {\n+            if (getItem() != null && !getItem().getChildren().isEmpty()) {\n+                return \"dmn-graph-navigator-node\";\n+            } else {\n+                return \"dmn-graph-navigator-expression\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89bb08e3001b0d384beb3f57a59bfa560dfd1dac"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk5NzA3OA==", "bodyText": "Shouldn't this init call be in a setup method or something like this? It seems weird to me an init inside setText.", "url": "https://github.com/kiegroup/kie-wb-common/pull/3333#discussion_r491997078", "createdAt": "2020-09-21T12:16:40Z", "author": {"login": "caponetto"}, "path": "kie-wb-common-dmn/kie-wb-common-dmn-client/src/main/java/org/kie/workbench/common/dmn/client/widgets/grid/controls/list/ListSelectorTextItemViewImpl.java", "diffHunk": "@@ -53,6 +58,7 @@ public ListSelectorTextItemViewImpl(final ListItem item,\n     @Override\n     public void setText(final String text) {\n         this.text.setTextContent(text);\n+        initOuiaComponentAttributes();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89bb08e3001b0d384beb3f57a59bfa560dfd1dac"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjAwMDMzNw==", "bodyText": "Isn't the responsibility of the item calling its own initOuiaComponentAttributes internally?\nAt least, this is what I have been observing on the other ouia components.", "url": "https://github.com/kiegroup/kie-wb-common/pull/3333#discussion_r492000337", "createdAt": "2020-09-21T12:22:31Z", "author": {"login": "caponetto"}, "path": "kie-wb-common-stunner/kie-wb-common-stunner-client/kie-wb-common-stunner-widgets/src/main/java/org/kie/workbench/common/stunner/client/widgets/explorer/tree/TreeExplorerView.java", "diffHunk": "@@ -195,6 +195,7 @@ private TreeItem buildItem(final String uuid,\n                                            icon);\n         item.setUserObject(uuid);\n         item.getElement().getStyle().setCursor(Style.Cursor.POINTER);\n+        item.initOuiaComponentAttributes();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "89bb08e3001b0d384beb3f57a59bfa560dfd1dac"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "89bb08e3001b0d384beb3f57a59bfa560dfd1dac", "author": {"user": {"login": "jomarko", "name": "Jozef Marko"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/89bb08e3001b0d384beb3f57a59bfa560dfd1dac", "committedDate": "2020-06-18T18:52:04Z", "message": "KOGITO-204: Introduce OUIA attributes to unify kogito integration tests\n\nFor more details see: https://issues.redhat.com/browse/KOGITO-204"}, "afterCommit": {"oid": "e5808d6d55de51f0885d015e642100dc201e93d0", "author": {"user": {"login": "jomarko", "name": "Jozef Marko"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/e5808d6d55de51f0885d015e642100dc201e93d0", "committedDate": "2020-12-04T16:18:41Z", "message": "peer feedback: ouia attributes initialization simplification"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ2MDcyNTk4", "url": "https://github.com/kiegroup/kie-wb-common/pull/3333#pullrequestreview-546072598", "createdAt": "2020-12-07T11:46:58Z", "commit": {"oid": "e5808d6d55de51f0885d015e642100dc201e93d0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e5808d6d55de51f0885d015e642100dc201e93d0", "author": {"user": {"login": "jomarko", "name": "Jozef Marko"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/e5808d6d55de51f0885d015e642100dc201e93d0", "committedDate": "2020-12-04T16:18:41Z", "message": "peer feedback: ouia attributes initialization simplification"}, "afterCommit": {"oid": "bfc36850863a8e2a15554cf6dd741666231ab9d6", "author": {"user": {"login": "jomarko", "name": "Jozef Marko"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/bfc36850863a8e2a15554cf6dd741666231ab9d6", "committedDate": "2021-01-05T11:30:02Z", "message": "peer feedback: ouia attributes initialization simplification"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cd7da354cb657e28898aebfa6efb0ea2365559e0", "author": {"user": {"login": "jomarko", "name": "Jozef Marko"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/cd7da354cb657e28898aebfa6efb0ea2365559e0", "committedDate": "2021-01-13T15:56:57Z", "message": "KOGITO-204: Introduce OUIA attributes to unify kogito integration tests\n\nFor more details see: https://issues.redhat.com/browse/KOGITO-204"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88fb92358252c1d7e6ddcfcfb42890ffa6e58372", "author": {"user": {"login": "jomarko", "name": "Jozef Marko"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/88fb92358252c1d7e6ddcfcfb42890ffa6e58372", "committedDate": "2021-01-13T15:56:58Z", "message": "peer feedback: ouia attributes initialization simplification"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8480283648356a6ec5d0e7893345e1e25fd9a176", "author": {"user": {"login": "jomarko", "name": "Jozef Marko"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/8480283648356a6ec5d0e7893345e1e25fd9a176", "committedDate": "2021-01-13T15:56:58Z", "message": "fix selenium tests"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0ba3a2e75c1aafffe336201a5490d0f6c171bdc1", "author": {"user": {"login": "jomarko", "name": "Jozef Marko"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/0ba3a2e75c1aafffe336201a5490d0f6c171bdc1", "committedDate": "2021-01-07T10:04:59Z", "message": "fix selenium tests"}, "afterCommit": {"oid": "8480283648356a6ec5d0e7893345e1e25fd9a176", "author": {"user": {"login": "jomarko", "name": "Jozef Marko"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/8480283648356a6ec5d0e7893345e1e25fd9a176", "committedDate": "2021-01-13T15:56:58Z", "message": "fix selenium tests"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 426, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}