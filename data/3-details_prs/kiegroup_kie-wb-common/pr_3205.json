{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyNzAxMTg5", "number": 3205, "title": "KOGITO-779: [DMN] Kogito webapp - Cleans", "bodyText": "Hey @manstis @tiagobento\nAlthough maybe has no impact on plugins, and I've this stuff recent/\"fresh\", I also did same cleans as done for the BPMN kogito webapp in #3203\nIt updates the DMN kogito webapp as:\n\nReduced the WAR from 65Mb to 8Mb ( just by dropping all WEB-INF/lib ? ) - Declareted ALL  dependencies to provided scope - If I properly understand, we should be \"pure\" client side\nAdd the test.html page as default, which provides some helper buttons to run the war in standalone mode (as bpmn)\nRemoved references to Wildfly stuff\nAdded some README.md for quick usage\nSome other cleans..\n\nAs I've done for the BPMN kogito webapp, I tested:\n\nDeploying the war in an app. server (Wildfly)\nRunnning SDM via comand line\nRunning SDM via IntelliJ\nThe VSCode plugin generated afer this\n\nWould be great if you can guys review this. My goal for both BPMN/DMN kogito webapps is to reduce the WAR artifact, and other \"old\" stuff related to the webapp, to the minimum, so it's easier to maintain and consume.\nSo if these changes here are looking good to the people, it will help to also verify #3203\nAssembly with:\n#3203\nkiegroup/kogito-tooling#71\nThanks for your help!", "createdAt": "2020-03-03T01:51:29Z", "url": "https://github.com/kiegroup/kie-wb-common/pull/3205", "merged": true, "mergeCommit": {"oid": "c547dcf2e034f406bb51928ff068086e35f9f13b"}, "closed": true, "closedAt": "2020-03-11T16:09:38Z", "author": {"login": "romartin"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcJ4NVdgH2gAyMzgyNzAxMTg5OmYzMTA4NWZkODYxMjc5NDQ1MTA1YmNiYTk5NTllOTk2NGRiZDdhNzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcMazGNgH2gAyMzgyNzAxMTg5Ojk0NjBiNDA5NTgyNTU5NWFhMTZhNWMwYzg2ZmNlY2EyZDYyYWVlNTE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f31085fd861279445105bcba9959e9964dbd7a70", "author": {"user": {"login": "romartin", "name": "Roger Mart\u00ednez"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/f31085fd861279445105bcba9959e9964dbd7a70", "committedDate": "2020-03-03T01:40:39Z", "message": "KOGITO-779: [DMN] Kogito webapp - cleans"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3ODQ0NDk5", "url": "https://github.com/kiegroup/kie-wb-common/pull/3205#pullrequestreview-367844499", "createdAt": "2020-03-03T10:03:21Z", "commit": {"oid": "f31085fd861279445105bcba9959e9964dbd7a70"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxMDowMzoyMVrOFw_Tbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wM1QxMDoyMzoxNVrOFw_-Lg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjkxMzEzNA==", "bodyText": "Reword (\"Before building this webapp, you should build the whole of the Stunner project before\").", "url": "https://github.com/kiegroup/kie-wb-common/pull/3205#discussion_r386913134", "createdAt": "2020-03-03T10:03:21Z", "author": {"login": "manstis"}, "path": "kie-wb-common-dmn/kie-wb-common-dmn-webapp-kogito-runtime/README.md", "diffHunk": "@@ -0,0 +1,61 @@\n+Kogito DMN Editor - Webapp\n+==============================\n+\n+Building\n+--------\n+ \n+* Before building this webapp, you should build whole the Stunner project before", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f31085fd861279445105bcba9959e9964dbd7a70"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjkyNDA3OA==", "bodyText": "I prefer 880px (as it does not add a vertical scrollbar for me!)", "url": "https://github.com/kiegroup/kie-wb-common/pull/3205#discussion_r386924078", "createdAt": "2020-03-03T10:23:15Z", "author": {"login": "manstis"}, "path": "kie-wb-common-dmn/kie-wb-common-dmn-webapp-kogito-runtime/src/main/webapp/test.html", "diffHunk": "@@ -0,0 +1,71 @@\n+<!--\n+  ~ Copyright 2019 Red Hat, Inc. and/or its affiliates.\n+  ~\n+  ~ Licensed under the Apache License, Version 2.0 (the \"License\");\n+  ~ you may not use this file except in compliance with the License.\n+  ~ You may obtain a copy of the License at\n+  ~\n+  ~     http://www.apache.org/licenses/LICENSE-2.0\n+  ~\n+  ~ Unless required by applicable law or agreed to in writing, software\n+  ~ distributed under the License is distributed on an \"AS IS\" BASIS,\n+  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+  ~ See the License for the specific language governing permissions and\n+  ~ limitations under the License.\n+  -->\n+\n+<!DOCTYPE html>\n+<html lang=\"en\">\n+<head>\n+    <meta charset=\"UTF-8\">\n+    <title>DMN Editor Test</title>\n+\n+    <script>\n+        function loadDiagram(diagram) {\n+            var path = \"somePath\";\n+            window.frames.editorFrame.contentWindow.gwtEditorBeans.get(\"DMNDiagramEditor\").get().setContent(path, diagram);\n+            document.getElementById(\"download_btn\").disabled = false;\n+        }\n+\n+        function download() {\n+                window.frames.editorFrame.contentWindow.gwtEditorBeans.get(\"DMNDiagramEditor\").get().getContent().then(\n+                    function(p) {\n+                        var d = document.createElement('a');\n+                        d.setAttribute('href', 'data:text/xml;charset=utf-8,' + encodeURIComponent(p));\n+                        d.setAttribute('download', \"diagram.dmn\");\n+                        d.style.display = 'none';\n+\n+                        document.body.appendChild(d);\n+                        d.click();\n+                        document.body.removeChild(d);\n+                    }\n+                );\n+        }\n+\n+        var openFile = function (event) {\n+            var input = event.target;\n+            var reader = new FileReader();\n+            reader.onload = function () {\n+                var diagram = reader.result;\n+                loadDiagram(diagram)\n+            };\n+\n+            reader.readAsText(input.files[0]);\n+        };\n+    </script>\n+\n+</head>\n+<body>\n+\n+<div id=\"editor\">\n+    Wait until the editor is loaded to open a DMN file:<br>\n+    <input type=\"button\" onclick=\"loadDiagram('')\" value=\"Create new Diagram\"/>\n+    or\n+    <input type=\"file\" onchange=\"openFile(event)\" value=\"Choose DMN file\" accept=\"dmn,txt\"/>\n+    When you are ready you can\n+    <input type=\"button\" id=\"download_btn\" value=\"Download the diagram\" onclick=\"download()\" disabled/>\n+</div>\n+\n+<iframe id=\"editorFrame\" src=\"index.html\" width=\"100%\" height=\"1000px\" frameBorder=\"0\" scrolling=\"no\"></iframe>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f31085fd861279445105bcba9959e9964dbd7a70"}, "originalPosition": 69}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4MDQyNDk3", "url": "https://github.com/kiegroup/kie-wb-common/pull/3205#pullrequestreview-368042497", "createdAt": "2020-03-03T14:50:23Z", "commit": {"oid": "f31085fd861279445105bcba9959e9964dbd7a70"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "84df194b54f6827993f166f743bd5fa596c73a15", "author": {"user": {"login": "romartin", "name": "Roger Mart\u00ednez"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/84df194b54f6827993f166f743bd5fa596c73a15", "committedDate": "2020-03-03T22:59:32Z", "message": "KOGITO-779: [DMN] Kogito webapp - fixings"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4NjU1NzA5", "url": "https://github.com/kiegroup/kie-wb-common/pull/3205#pullrequestreview-368655709", "createdAt": "2020-03-04T10:18:49Z", "commit": {"oid": "84df194b54f6827993f166f743bd5fa596c73a15"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY4NzI3ODkz", "url": "https://github.com/kiegroup/kie-wb-common/pull/3205#pullrequestreview-368727893", "createdAt": "2020-03-04T12:14:16Z", "commit": {"oid": "84df194b54f6827993f166f743bd5fa596c73a15"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxMjoxNDoxNlrOFxq6qg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNFQxMjoxNDoxNlrOFxq6qg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NzYyNzY5MA==", "bodyText": "can we please also update the kie-wb-common-dmn/README.MD to not duplicate information and point to this new README in the appropriate section?", "url": "https://github.com/kiegroup/kie-wb-common/pull/3205#discussion_r387627690", "createdAt": "2020-03-04T12:14:16Z", "author": {"login": "jomarko"}, "path": "kie-wb-common-dmn/kie-wb-common-dmn-webapp-kogito-runtime/README.md", "diffHunk": "@@ -0,0 +1,61 @@\n+Kogito DMN Editor - Webapp", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "84df194b54f6827993f166f743bd5fa596c73a15"}, "originalPosition": 1}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb1cbe00627f302c0840f84a6138a2232a258851", "author": {"user": {"login": "romartin", "name": "Roger Mart\u00ednez"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/bb1cbe00627f302c0840f84a6138a2232a258851", "committedDate": "2020-03-04T21:47:05Z", "message": "Updated main README for DMN"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5MzA5OTkz", "url": "https://github.com/kiegroup/kie-wb-common/pull/3205#pullrequestreview-369309993", "createdAt": "2020-03-05T05:53:23Z", "commit": {"oid": "bb1cbe00627f302c0840f84a6138a2232a258851"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzcwNDM5Nzc5", "url": "https://github.com/kiegroup/kie-wb-common/pull/3205#pullrequestreview-370439779", "createdAt": "2020-03-06T16:07:52Z", "commit": {"oid": "bb1cbe00627f302c0840f84a6138a2232a258851"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9460b4095825595aa16a5c0c86fceca2d62aee51", "author": {"user": {"login": "romartin", "name": "Roger Mart\u00ednez"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/9460b4095825595aa16a5c0c86fceca2d62aee51", "committedDate": "2020-03-10T23:06:31Z", "message": "Merge branch 'master' into KOGITO-779-dmn"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 524, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}