{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzU5MDgwOTg2", "number": 3097, "title": "DROOLS-4847: [DMN Designer] Entries are expanded when user edit structures in a row", "bodyText": "", "createdAt": "2020-01-03T18:34:19Z", "url": "https://github.com/kiegroup/kie-wb-common/pull/3097", "merged": true, "mergeCommit": {"oid": "d7d8879ba225685a9364312eaaf3a232699a8f6f"}, "closed": true, "closedAt": "2020-01-07T21:58:59Z", "author": {"login": "danielzhe"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb3r5VDAFqTMzODYzMDU1Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb4IEFBgFqTMzOTUzNDE3Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4NjMwNTUy", "url": "https://github.com/kiegroup/kie-wb-common/pull/3097#pullrequestreview-338630552", "createdAt": "2020-01-06T13:04:30Z", "commit": {"oid": "398cba59e02664bbc234ed6571595fd313f5e41b"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMzowNDozMFrOFadJIw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wNlQxMzowNzo0M1rOFadMoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI4NDc3MQ==", "bodyText": "just for consistency, can we use final int?", "url": "https://github.com/kiegroup/kie-wb-common/pull/3097#discussion_r363284771", "createdAt": "2020-01-06T13:04:30Z", "author": {"login": "jomarko"}, "path": "kie-wb-common-dmn/kie-wb-common-dmn-client/src/main/java/org/kie/workbench/common/dmn/client/editors/types/listview/DataTypeListView.java", "diffHunk": "@@ -326,6 +328,13 @@ public void insertAbove(final DataTypeListItem listItem,\n \n         final Element elementReference = getDataTypeRow(reference);\n         ElementHelper.insertBefore(listItem.getDragAndDropElement(), elementReference);\n+        setNewElementYPosition(elementReference, listItem.getDragAndDropElement());\n+    }\n+\n+    void setNewElementYPosition(final Element elementReference,\n+                                final Element newElement) {\n+        int referencePosition = getDndListComponent().getPositionY(elementReference);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "398cba59e02664bbc234ed6571595fd313f5e41b"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2MzI4NTY2NA==", "bodyText": "This is the same as below, but I am fine if you want to keep as it is.\nfor (final Element element : children) {\n            Position.setY(element, ++parentY);\n        }", "url": "https://github.com/kiegroup/kie-wb-common/pull/3097#discussion_r363285664", "createdAt": "2020-01-06T13:07:43Z", "author": {"login": "jomarko"}, "path": "kie-wb-common-dmn/kie-wb-common-dmn-client/src/main/java/org/kie/workbench/common/dmn/client/editors/types/listview/draganddrop/DNDListComponent.java", "diffHunk": "@@ -138,6 +139,19 @@ public void refreshDragAreaSize() {\n         view.refreshDragAreaSize();\n     }\n \n+    public void setInitialPositionY(final HTMLElement dragAndDropElement,\n+                                    final List<HTMLElement> children) {\n+        Integer parentY = Position.getY(dragAndDropElement);\n+        for (final Element element : children) {\n+            parentY++;\n+            Position.setY(element, parentY);\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "398cba59e02664bbc234ed6571595fd313f5e41b"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM4NjQ5MDk4", "url": "https://github.com/kiegroup/kie-wb-common/pull/3097#pullrequestreview-338649098", "createdAt": "2020-01-06T13:45:09Z", "commit": {"oid": "398cba59e02664bbc234ed6571595fd313f5e41b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b2f44c00365de700037dfcdda40887abfb1d8507", "author": {"user": {"login": "danielzhe", "name": "Daniel J dos Santos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/b2f44c00365de700037dfcdda40887abfb1d8507", "committedDate": "2020-01-06T18:15:22Z", "message": "DROOLS-4847: [DMN Designer] Entries are expanded when user edit structures in a row"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9960125b21ecd2626c200e485b9ef085748fe347", "author": {"user": {"login": "danielzhe", "name": "Daniel J dos Santos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/9960125b21ecd2626c200e485b9ef085748fe347", "committedDate": "2020-01-06T19:21:17Z", "message": "DROOLS-4847: [DMN Designer] Entries are expanded when user edit structures in a row"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2a3d200d87ac437a822d197b4e6b150c3341e0e0", "author": {"user": {"login": "danielzhe", "name": "Daniel J dos Santos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/2a3d200d87ac437a822d197b4e6b150c3341e0e0", "committedDate": "2020-01-06T19:55:52Z", "message": "review"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "398cba59e02664bbc234ed6571595fd313f5e41b", "author": {"user": {"login": "danielzhe", "name": "Daniel J dos Santos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/398cba59e02664bbc234ed6571595fd313f5e41b", "committedDate": "2020-01-03T18:32:50Z", "message": "DROOLS-4847: [DMN Designer] Entries are expanded when user edit structures in a row"}, "afterCommit": {"oid": "2a3d200d87ac437a822d197b4e6b150c3341e0e0", "author": {"user": {"login": "danielzhe", "name": "Daniel J dos Santos"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/2a3d200d87ac437a822d197b4e6b150c3341e0e0", "committedDate": "2020-01-06T19:55:52Z", "message": "review"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzM5NTM0MTc3", "url": "https://github.com/kiegroup/kie-wb-common/pull/3097#pullrequestreview-339534177", "createdAt": "2020-01-07T21:58:23Z", "commit": {"oid": "2a3d200d87ac437a822d197b4e6b150c3341e0e0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 633, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}