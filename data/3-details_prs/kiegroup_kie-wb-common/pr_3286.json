{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA5MTU3OTc0", "number": 3286, "title": "RHPAM-2696: Notification UI produces syntactically incorrect iso expressions:", "bodyText": "@romartin , @inodeman : Could you review this PR please?", "createdAt": "2020-04-26T21:07:28Z", "url": "https://github.com/kiegroup/kie-wb-common/pull/3286", "merged": true, "mergeCommit": {"oid": "7bfee8ab54eefe2ac9cf66410e224828139c168d"}, "closed": true, "closedAt": "2020-06-05T14:26:27Z", "author": {"login": "handreyrc"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccK1dKAFqTQwMjIyNjE3Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcn5JbegFqTQyNDE4MjY2MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMjI2MTc3", "url": "https://github.com/kiegroup/kie-wb-common/pull/3286#pullrequestreview-402226177", "createdAt": "2020-04-28T21:29:26Z", "commit": {"oid": "9ccf1cff71894878c14153443ef33d6ae6d67bd4"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMToyOToyNlrOGNnsWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOFQyMTozMjo0MlrOGNnzYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjkzNTAwMg==", "bodyText": "Not sure yet if makes sense adding this setLocalTimeZone method, at least for the view class. I understand the presenter should be responsible for obtaining the \"local\" timezone, and then just passing the raw value (maybe an string) to the view.\nSo maybe only adding the new setValue method above on the view class is godo enough to achieve same behavior, but making the presenter obtain the \"local\" value and passing the value to it.\nPS: Also, what means \"local\", from the browser? Also results weird for me having a setter method (setLocalTimeZone) with no arguments... maybe it results clear, if this method still applies, to rename it to something like useLocalTimeZone?", "url": "https://github.com/kiegroup/kie-wb-common/pull/3286#discussion_r416935002", "createdAt": "2020-04-28T21:29:26Z", "author": {"login": "romartin"}, "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-client/src/main/java/org/kie/workbench/common/stunner/bpmn/client/forms/widgets/TimeZonePickerView.java", "diffHunk": "@@ -27,6 +27,10 @@\n \n     String getValue();\n \n+    void setValue(String value);\n+\n+    void setLocalTimeZone();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9ccf1cff71894878c14153443ef33d6ae6d67bd4"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjkzNTA2NQ==", "bodyText": "why this?", "url": "https://github.com/kiegroup/kie-wb-common/pull/3286#discussion_r416935065", "createdAt": "2020-04-28T21:29:33Z", "author": {"login": "romartin"}, "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-client/src/main/java/org/kie/workbench/common/stunner/bpmn/client/forms/widgets/TimeZonePicker.java", "diffHunk": "@@ -77,6 +77,13 @@ public void setValue(String value) {\n     public void setValue(String value, boolean fireEvents) {\n         String oldValue = current;\n         current = value;\n+\n+        if (current.equals(\"0\")) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9ccf1cff71894878c14153443ef33d6ae6d67bd4"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjkzNTk0Nw==", "bodyText": "if you changed from private to protected, just for making this field visible to the unit tests, maybe it's better to just make it package protected (no access modifier), which results more restrictive.", "url": "https://github.com/kiegroup/kie-wb-common/pull/3286#discussion_r416935947", "createdAt": "2020-04-28T21:31:09Z", "author": {"login": "romartin"}, "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-client/src/main/java/org/kie/workbench/common/stunner/bpmn/client/forms/widgets/TimeZonePickerViewImpl.java", "diffHunk": "@@ -43,8 +43,10 @@\n \n     private final double defaultOffset = new Date().getTimezoneOffset() * -1;\n \n+    private String localTimeZone;\n+\n     @DataField\n-    private Select tzSelect = new Select();\n+    protected Select tzSelect = new Select();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9ccf1cff71894878c14153443ef33d6ae6d67bd4"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjkzNjgwMg==", "bodyText": "Not really sure if this is necessary, as far as I remember I think once declaring some Runner class above (on the class declaration) it already implies initializing the mocks from the class itself.", "url": "https://github.com/kiegroup/kie-wb-common/pull/3286#discussion_r416936802", "createdAt": "2020-04-28T21:32:42Z", "author": {"login": "romartin"}, "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-client/src/test/java/org/kie/workbench/common/stunner/bpmn/client/forms/widgets/TimeZonePickerTest.java", "diffHunk": "@@ -0,0 +1,74 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.kie.workbench.common.stunner.bpmn.client.forms.widgets;\n+\n+import com.ait.lienzo.test.LienzoMockitoTestRunner;\n+import com.google.gwt.core.client.GWT;\n+import com.google.gwtmockito.GwtMockito;\n+import org.gwtbootstrap3.extras.select.client.ui.Select;\n+import org.junit.Before;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+import org.mockito.Mock;\n+\n+import static org.mockito.Matchers.anyBoolean;\n+import static org.mockito.Matchers.anyString;\n+import static org.mockito.Mockito.doCallRealMethod;\n+import static org.mockito.Mockito.spy;\n+import static org.mockito.Mockito.times;\n+import static org.mockito.Mockito.verify;\n+\n+@RunWith(LienzoMockitoTestRunner.class)\n+public class TimeZonePickerTest {\n+\n+    @Mock\n+    private Select tzSelect;\n+\n+    private TimeZonePickerViewImpl view;\n+\n+    private TimeZonePicker tested;\n+\n+    @Before\n+    public void setUp() {\n+        GwtMockito.initMocks(this);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9ccf1cff71894878c14153443ef33d6ae6d67bd4"}, "originalPosition": 47}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9ccf1cff71894878c14153443ef33d6ae6d67bd4", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/9ccf1cff71894878c14153443ef33d6ae6d67bd4", "committedDate": "2020-04-26T20:44:47Z", "message": "RHPAM-2696: Notification UI produces syntactically incorrect iso expressions:"}, "afterCommit": {"oid": "887de2a63a5ceefcc4c23876193cf9c2791a6388", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/887de2a63a5ceefcc4c23876193cf9c2791a6388", "committedDate": "2020-04-29T15:09:10Z", "message": "RHPAM-2696: Notification UI produces syntactically incorrect iso expressions:"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "887de2a63a5ceefcc4c23876193cf9c2791a6388", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/887de2a63a5ceefcc4c23876193cf9c2791a6388", "committedDate": "2020-04-29T15:09:10Z", "message": "RHPAM-2696: Notification UI produces syntactically incorrect iso expressions:"}, "afterCommit": {"oid": "923e6881743104cef2ee631e6cf382960f3c7033", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/923e6881743104cef2ee631e6cf382960f3c7033", "committedDate": "2020-05-04T18:59:43Z", "message": "RHPAM-2696: Notification UI produces syntactically incorrect iso expressions:"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "923e6881743104cef2ee631e6cf382960f3c7033", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/923e6881743104cef2ee631e6cf382960f3c7033", "committedDate": "2020-05-04T18:59:43Z", "message": "RHPAM-2696: Notification UI produces syntactically incorrect iso expressions:"}, "afterCommit": {"oid": "3c96f5a4bbf4e1c4944e9057ee5f2230738ded77", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/3c96f5a4bbf4e1c4944e9057ee5f2230738ded77", "committedDate": "2020-05-05T16:07:58Z", "message": "RHPAM-2696: Notification UI produces syntactically incorrect iso expressions:"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwNDgyOTQ4", "url": "https://github.com/kiegroup/kie-wb-common/pull/3286#pullrequestreview-410482948", "createdAt": "2020-05-12T23:05:22Z", "commit": {"oid": "3c96f5a4bbf4e1c4944e9057ee5f2230738ded77"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3c96f5a4bbf4e1c4944e9057ee5f2230738ded77", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/3c96f5a4bbf4e1c4944e9057ee5f2230738ded77", "committedDate": "2020-05-05T16:07:58Z", "message": "RHPAM-2696: Notification UI produces syntactically incorrect iso expressions:"}, "afterCommit": {"oid": "ac396b740b671aabf90e3525d6a9ffd0c1feac66", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/ac396b740b671aabf90e3525d6a9ffd0c1feac66", "committedDate": "2020-05-14T14:07:43Z", "message": "RHPAM-2696: Notification UI produces syntactically incorrect iso expressions:"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ac396b740b671aabf90e3525d6a9ffd0c1feac66", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/ac396b740b671aabf90e3525d6a9ffd0c1feac66", "committedDate": "2020-05-14T14:07:43Z", "message": "RHPAM-2696: Notification UI produces syntactically incorrect iso expressions:"}, "afterCommit": {"oid": "5593e38a5d838b6edad62c04b854ec87008d5c87", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/5593e38a5d838b6edad62c04b854ec87008d5c87", "committedDate": "2020-05-15T23:11:08Z", "message": "RHPAM-2696: Notification UI produces syntactically incorrect iso expressions:"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5593e38a5d838b6edad62c04b854ec87008d5c87", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/5593e38a5d838b6edad62c04b854ec87008d5c87", "committedDate": "2020-05-15T23:11:08Z", "message": "RHPAM-2696: Notification UI produces syntactically incorrect iso expressions:"}, "afterCommit": {"oid": "1d63467ac160f7912b8c28be14ec01d7f231c58b", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/1d63467ac160f7912b8c28be14ec01d7f231c58b", "committedDate": "2020-05-29T16:53:59Z", "message": "RHPAM-2696: Notification UI produces syntactically incorrect iso expressions:"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fdea07e24417df2f7aefc212d8c8615d51070e7b", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/fdea07e24417df2f7aefc212d8c8615d51070e7b", "committedDate": "2020-06-01T14:46:53Z", "message": "RHPAM-2696: Notification UI produces syntactically incorrect iso expressions:"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1d63467ac160f7912b8c28be14ec01d7f231c58b", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/1d63467ac160f7912b8c28be14ec01d7f231c58b", "committedDate": "2020-05-29T16:53:59Z", "message": "RHPAM-2696: Notification UI produces syntactically incorrect iso expressions:"}, "afterCommit": {"oid": "fdea07e24417df2f7aefc212d8c8615d51070e7b", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/fdea07e24417df2f7aefc212d8c8615d51070e7b", "committedDate": "2020-06-01T14:46:53Z", "message": "RHPAM-2696: Notification UI produces syntactically incorrect iso expressions:"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI0MTgyNjYx", "url": "https://github.com/kiegroup/kie-wb-common/pull/3286#pullrequestreview-424182661", "createdAt": "2020-06-04T07:44:01Z", "commit": {"oid": "fdea07e24417df2f7aefc212d8c8615d51070e7b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 618, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}