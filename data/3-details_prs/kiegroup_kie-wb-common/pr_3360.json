{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUyNDYwMTU4", "number": 3360, "title": "DROOLS-5516 : Date field in Guided rule template is not displaying correct date", "bodyText": "https://issues.redhat.com/browse/DROOLS-5516\nTemplated rules store the table data with Strings. For this reason you get what you see both in server and client side. The grid cell, as far as I know and could find, is only used by templated rules so removed the conversions.", "createdAt": "2020-07-19T09:36:01Z", "url": "https://github.com/kiegroup/kie-wb-common/pull/3360", "merged": true, "mergeCommit": {"oid": "326b1e3a8adebdc7848e6f5b47ce67579341a815"}, "closed": true, "closedAt": "2020-08-07T10:59:05Z", "author": {"login": "Rikkola"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc7QnfpAFqTQ1OTk2MjYzNw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8e16xgBqjM2MzIwMDIwODE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5OTYyNjM3", "url": "https://github.com/kiegroup/kie-wb-common/pull/3360#pullrequestreview-459962637", "createdAt": "2020-08-03T11:49:14Z", "commit": {"oid": "198f28ab99317fc5e945ee5217a757139e71ad5e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxMTo0OToxNFrOG62f5g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QxMTo0OToxNFrOG62f5g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDM2MzQ5NA==", "bodyText": "Well hello!", "url": "https://github.com/kiegroup/kie-wb-common/pull/3360#discussion_r464363494", "createdAt": "2020-08-03T11:49:14Z", "author": {"login": "Rikkola"}, "path": "kie-wb-common-widgets/kie-wb-decorated-grid-widget/src/main/java/org/kie/workbench/common/widgets/decoratedgrid/client/widget/cells/PopupDateEditCell.java", "diffHunk": "@@ -49,39 +47,40 @@ public PopupDateEditCell(final boolean isReadOnly) {\n         // See https://issues.jboss.org/browse/GUVNOR-2322\n         // The DatePicker was being closed, before the ValueChangeHandler invoked, in response to the\n         // containing PopupPanel being automatically hidden when another Element received events.\n-        datePicker.setContainer( vPanel );\n-        panel.addAutoHidePartner( datePicker.getElement() );\n+        datePicker.setContainer(vPanel);\n+        panel.addAutoHidePartner(datePicker.getElement());\n \n         // Hide the panel and call valueUpdater.update when a date is selected\n-        datePicker.addValueChangeHandler( new ValueChangeHandler<Date>() {\n+        datePicker.addValueChangeHandler(new ValueChangeHandler<Date>() {\n             @Override\n-            public void onValueChange( final ValueChangeEvent<Date> event ) {\n+            public void onValueChange(final ValueChangeEvent<Date> event) {\n                 Date date = datePicker.getValue();\n-                setValue( lastContext,\n-                          lastParent,\n-                          date );\n-                if ( valueUpdater != null ) {\n-                    valueUpdater.update( date );\n+                setValue(lastContext,\n+                         lastParent,\n+                         date);\n+                if (valueUpdater != null) {\n+                    valueUpdater.update(date);\n                 }\n                 panel.hide();\n             }\n-        } );\n+        });\n \n-        vPanel.add( datePicker );\n+        vPanel.add(datePicker);\n     }\n \n     @Override\n     public void render(Context context,\n                        Date value,\n                        SafeHtmlBuilder sb) {\n         if (value != null) {\n-            sb.append(getRenderer().render(formatWithServerTimeZone(value)));\n+            sb.append(getRenderer().render(FORMATTER.format(value)));\n         }\n     }\n \n     // Commit the change\n     @Override\n     protected void commit() {\n+        Window.alert(\"hello there\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "198f28ab99317fc5e945ee5217a757139e71ad5e"}, "originalPosition": 64}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "198f28ab99317fc5e945ee5217a757139e71ad5e", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/198f28ab99317fc5e945ee5217a757139e71ad5e", "committedDate": "2020-07-19T09:34:38Z", "message": "DROOLS-5516 : Date field in Guided rule template is not displaying correct date"}, "afterCommit": {"oid": "5d6afdb01fb8250bf7e8451f496f4d1e25ce6590", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/5d6afdb01fb8250bf7e8451f496f4d1e25ce6590", "committedDate": "2020-08-03T11:50:29Z", "message": "DROOLS-5516 : Date field in Guided rule template is not displaying correct date"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwOTIwNzAz", "url": "https://github.com/kiegroup/kie-wb-common/pull/3360#pullrequestreview-460920703", "createdAt": "2020-08-04T15:22:52Z", "commit": {"oid": "5d6afdb01fb8250bf7e8451f496f4d1e25ce6590"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwOTk4NDY0", "url": "https://github.com/kiegroup/kie-wb-common/pull/3360#pullrequestreview-460998464", "createdAt": "2020-08-04T16:56:04Z", "commit": {"oid": "5d6afdb01fb8250bf7e8451f496f4d1e25ce6590"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyMDIzNjg1", "url": "https://github.com/kiegroup/kie-wb-common/pull/3360#pullrequestreview-462023685", "createdAt": "2020-08-05T21:06:15Z", "commit": {"oid": "5d6afdb01fb8250bf7e8451f496f4d1e25ce6590"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5d6afdb01fb8250bf7e8451f496f4d1e25ce6590", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/5d6afdb01fb8250bf7e8451f496f4d1e25ce6590", "committedDate": "2020-08-03T11:50:29Z", "message": "DROOLS-5516 : Date field in Guided rule template is not displaying correct date"}, "afterCommit": {"oid": "b4f56fae14bb710fe3abdbb3833417e0ecfde4db", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/b4f56fae14bb710fe3abdbb3833417e0ecfde4db", "committedDate": "2020-08-06T12:17:29Z", "message": "DROOLS-5516 : Date field in Guided rule template is not displaying correct date"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYyNzgyMDMw", "url": "https://github.com/kiegroup/kie-wb-common/pull/3360#pullrequestreview-462782030", "createdAt": "2020-08-06T18:40:45Z", "commit": {"oid": "b4f56fae14bb710fe3abdbb3833417e0ecfde4db"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fea0e6669e474680524e0c522e3cd15035793a35", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/fea0e6669e474680524e0c522e3cd15035793a35", "committedDate": "2020-08-07T06:57:12Z", "message": "DROOLS-5516 : Date field in Guided rule template is not displaying correct date"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b4f56fae14bb710fe3abdbb3833417e0ecfde4db", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/b4f56fae14bb710fe3abdbb3833417e0ecfde4db", "committedDate": "2020-08-06T12:17:29Z", "message": "DROOLS-5516 : Date field in Guided rule template is not displaying correct date"}, "afterCommit": {"oid": "fea0e6669e474680524e0c522e3cd15035793a35", "author": {"user": {"login": "Rikkola", "name": "Toni Rikkola"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/fea0e6669e474680524e0c522e3cd15035793a35", "committedDate": "2020-08-07T06:57:12Z", "message": "DROOLS-5516 : Date field in Guided rule template is not displaying correct date"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 465, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}