{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwMjk1MzU2", "number": 3345, "title": "KOGITO-2367: BPMN Editor - Support for Milestone (Case Management enablement #1)", "bodyText": "Hi @romartin, @inodeman: Please, could you review this PR?\nThis PR depends on the PR #3334.\nCustom task parameters are not being loaded withiout this fix..\nThe idea is to save some time allowing code review in advance.\nThanks!", "createdAt": "2020-06-25T22:51:18Z", "url": "https://github.com/kiegroup/kie-wb-common/pull/3345", "merged": true, "mergeCommit": {"oid": "90f13a44467a51ca7e4cf7b5ef5c01cacf78f682"}, "closed": true, "closedAt": "2020-07-01T18:41:06Z", "author": {"login": "handreyrc"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcvD7VlgBqjM0ODY3OTEzOTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcwY7VvgFqTQ0MDIyNzk3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "791a096f70ad926e2fdf36f1eebc509bcf8b63c9", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/791a096f70ad926e2fdf36f1eebc509bcf8b63c9", "committedDate": "2020-06-25T22:08:26Z", "message": "KOGITO-2367: BPMN Editor - Support for Milestone (Case Management enablement #1)"}, "afterCommit": {"oid": "11d840a5adb0d8407dc5b428321b2977580cf7e3", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/11d840a5adb0d8407dc5b428321b2977580cf7e3", "committedDate": "2020-06-26T13:57:08Z", "message": "KOGITO-2367: BPMN Editor - Support for Milestone (Case Management enablement #1)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "11d840a5adb0d8407dc5b428321b2977580cf7e3", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/11d840a5adb0d8407dc5b428321b2977580cf7e3", "committedDate": "2020-06-26T13:57:08Z", "message": "KOGITO-2367: BPMN Editor - Support for Milestone (Case Management enablement #1)"}, "afterCommit": {"oid": "0c2d45346030b39e7ff6c22484d1a1bf97e473cc", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/0c2d45346030b39e7ff6c22484d1a1bf97e473cc", "committedDate": "2020-06-27T17:06:22Z", "message": "KOGITO-2367: BPMN Editor - Support for Milestone (Case Management enablement #1)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0c2d45346030b39e7ff6c22484d1a1bf97e473cc", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/0c2d45346030b39e7ff6c22484d1a1bf97e473cc", "committedDate": "2020-06-27T17:06:22Z", "message": "KOGITO-2367: BPMN Editor - Support for Milestone (Case Management enablement #1)"}, "afterCommit": {"oid": "b5d1186984e0876086f1cb7a7ce828dba3448799", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/b5d1186984e0876086f1cb7a7ce828dba3448799", "committedDate": "2020-06-28T00:38:22Z", "message": "KOGITO-2367: BPMN Editor - Support for Milestone (Case Management enablement #1)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5MTMzOTM3", "url": "https://github.com/kiegroup/kie-wb-common/pull/3345#pullrequestreview-439133937", "createdAt": "2020-06-29T13:19:19Z", "commit": {"oid": "b5d1186984e0876086f1cb7a7ce828dba3448799"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMzoxOToxOVrOGqQi0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxMzoxOToxOVrOGqQi0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Njk2NDQzNQ==", "bodyText": "I think this is the only one resource (MILESTONE_ICON) which really needs to be provided out-of-the-box, as we're just presetting the milestone node, so maybe other image resrouces can be removed?", "url": "https://github.com/kiegroup/kie-wb-common/pull/3345#discussion_r446964435", "createdAt": "2020-06-29T13:19:19Z", "author": {"login": "romartin"}, "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-kogito-runtime/src/main/java/org/kie/workbench/common/stunner/kogito/client/services/WorkItemDefinitionStandaloneClientService.java", "diffHunk": "@@ -47,6 +48,12 @@\n public class WorkItemDefinitionStandaloneClientService implements WorkItemDefinitionClientService {\n \n     private static final String RESOURCE_ALL_WID_PATTERN = \"*.wid\";\n+    private static final String BUSINESS_RULE_ICON = \"defaultbusinessrulesicon.png\";\n+    private static final String DECISION_ICON = \"defaultdecisionicon.png\";\n+    private static final String EMAIL_ICON = \"defaultemailicon.gif\";\n+    private static final String LOG_ICON = \"defaultlogicon.gif\";\n+    private static final String MILESTONE_ICON = \"defaultmilestoneicon.png\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5d1186984e0876086f1cb7a7ce828dba3448799"}, "originalPosition": 16}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b5d1186984e0876086f1cb7a7ce828dba3448799", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/b5d1186984e0876086f1cb7a7ce828dba3448799", "committedDate": "2020-06-28T00:38:22Z", "message": "KOGITO-2367: BPMN Editor - Support for Milestone (Case Management enablement #1)"}, "afterCommit": {"oid": "2e0f0e7c6377394a85c4446b619abfad5675172b", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/2e0f0e7c6377394a85c4446b619abfad5675172b", "committedDate": "2020-06-29T15:57:16Z", "message": "KOGITO-2367: BPMN Editor - Support for Milestone (Case Management enablement #1)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5Mzk5NzMx", "url": "https://github.com/kiegroup/kie-wb-common/pull/3345#pullrequestreview-439399731", "createdAt": "2020-06-29T18:32:31Z", "commit": {"oid": "2e0f0e7c6377394a85c4446b619abfad5675172b"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxODozMjozMVrOGqdLMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yOVQxODozMjozMVrOGqdLMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NzE3MTM3Ng==", "bodyText": "Hey @handreyrc\nIt looks the preset workitems are being loaded in thtat else clause, which means that only are being loaded if no workitems at all are being declared by the users, is that correct?\nI'm poining this out because the milestone should be loaded in case it's not being user defined, so even if the user declares some workitems, but not the milestone one, it has to be anyway included.\nDoes it makes sanse?", "url": "https://github.com/kiegroup/kie-wb-common/pull/3345#discussion_r447171376", "createdAt": "2020-06-29T18:32:31Z", "author": {"login": "romartin"}, "path": "kie-wb-common-stunner/kie-wb-common-stunner-sets/kie-wb-common-stunner-bpmn/kie-wb-common-stunner-bpmn-kogito-runtime/src/main/java/org/kie/workbench/common/stunner/kogito/client/services/WorkItemDefinitionStandaloneClientService.java", "diffHunk": "@@ -112,7 +114,14 @@ public void destroy() {\n                                         return null;\n                                     });\n                         } else {\n-                            success.onInvoke(emptyList());\n+                            presetWorkItemsLoader(loaded).then(wids -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2e0f0e7c6377394a85c4446b619abfad5675172b"}, "originalPosition": 21}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2e0f0e7c6377394a85c4446b619abfad5675172b", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/2e0f0e7c6377394a85c4446b619abfad5675172b", "committedDate": "2020-06-29T15:57:16Z", "message": "KOGITO-2367: BPMN Editor - Support for Milestone (Case Management enablement #1)"}, "afterCommit": {"oid": "2e3fc954b9a29462d941b52e46f8248bce1b4e46", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/2e3fc954b9a29462d941b52e46f8248bce1b4e46", "committedDate": "2020-06-30T01:56:05Z", "message": "KOGITO-2367: BPMN Editor - Support for Milestone (Case Management enablement #1)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5OTM3MjA5", "url": "https://github.com/kiegroup/kie-wb-common/pull/3345#pullrequestreview-439937209", "createdAt": "2020-06-30T11:52:11Z", "commit": {"oid": "2e3fc954b9a29462d941b52e46f8248bce1b4e46"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwMDAyNzYy", "url": "https://github.com/kiegroup/kie-wb-common/pull/3345#pullrequestreview-440002762", "createdAt": "2020-06-30T13:17:18Z", "commit": {"oid": "2e3fc954b9a29462d941b52e46f8248bce1b4e46"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8993aadb8958139d55e3592ada41c56dd7441b9", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/d8993aadb8958139d55e3592ada41c56dd7441b9", "committedDate": "2020-06-30T14:43:42Z", "message": "KOGITO-2367: BPMN Editor - Support for Milestone (Case Management enablement #1)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2e3fc954b9a29462d941b52e46f8248bce1b4e46", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/2e3fc954b9a29462d941b52e46f8248bce1b4e46", "committedDate": "2020-06-30T01:56:05Z", "message": "KOGITO-2367: BPMN Editor - Support for Milestone (Case Management enablement #1)"}, "afterCommit": {"oid": "d8993aadb8958139d55e3592ada41c56dd7441b9", "author": {"user": {"login": "handreyrc", "name": "Handreyrc"}}, "url": "https://github.com/kiegroup/kie-wb-common/commit/d8993aadb8958139d55e3592ada41c56dd7441b9", "committedDate": "2020-06-30T14:43:42Z", "message": "KOGITO-2367: BPMN Editor - Support for Milestone (Case Management enablement #1)"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQwMjI3OTc2", "url": "https://github.com/kiegroup/kie-wb-common/pull/3345#pullrequestreview-440227976", "createdAt": "2020-06-30T17:16:59Z", "commit": {"oid": "2e3fc954b9a29462d941b52e46f8248bce1b4e46"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 441, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}