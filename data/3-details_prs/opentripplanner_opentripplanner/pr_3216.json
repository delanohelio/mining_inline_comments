{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0MDY5OTQ3", "number": 3216, "title": "Otp2 add progress bar to bus route street matcher", "bodyText": "This PR fixes a small bug in the graph build and add a progress tracker to the BusRouteStreetMatcher:\n\n\nBugfix - The BusRouteStreetMatcher and TransitToTaggedStopsModule graph builder modules are not run if the graph is build in two steps. So, if you first build a streetGraph.obj file, and the build the graph.obj these modules are not run. The bug is independent of the config matchBusRoutesToStreets setting.\n\n\nAdd progress tracking to BusRouteStreetMatcher.\n\n\n issue: Add progress tracking to BusRouteStreetMatcher as mentioned in #3195.\n\n\n roadmap: No.\n\n\n tests: No\n\n\n formatting: Yes\n\n\n documentation: No\n\n\n changelog: Yes.\n\n\nTo be completed by @opentripplanner/plc:\n\n reviews and approvals by 2 members, ideally from different organizations\n after merging: update the relevant card on the roadmap", "createdAt": "2020-10-15T12:35:20Z", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3216", "merged": true, "mergeCommit": {"oid": "c1d4b23bd7dfac37964e53efe216e184b4419445"}, "closed": true, "closedAt": "2020-10-20T10:24:59Z", "author": {"login": "t2gran"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSw_3-gH2gAyNTA0MDY5OTQ3OmRlZTZmZGRjMTBiYTBhNjM0OGE0ZTZjMzZlZTljMzg1M2I4OTVkMDE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUWKQVAFqTUxMjU1NzY3NA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "dee6fddc10ba0a6348a4e6c36ee9c3853b895d01", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/dee6fddc10ba0a6348a4e6c36ee9c3853b895d01", "committedDate": "2020-10-15T12:33:05Z", "message": "Bugfix - The `BusRouteStreetMatcher` and `TransitToTaggedStopsModule` graph builder modules are not run if the graph is build in two steps. So, if you first build a _streetGraph.obj_ file, and the build the _graph.obj_ these modules are not run. The bug is independent of the config `matchBusRoutesToStreets` setting."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d625594a59019b77bed3a3d6316274cd58691603", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/d625594a59019b77bed3a3d6316274cd58691603", "committedDate": "2020-10-15T12:33:10Z", "message": "Add progress tracking to BusRouteStreetMatcher."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ea76f27d16feecf5d527001671aa1d7f04225ce", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/6ea76f27d16feecf5d527001671aa1d7f04225ce", "committedDate": "2020-10-15T12:33:14Z", "message": "doc: Add changelog item."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyNTQwNzk0", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3216#pullrequestreview-512540794", "createdAt": "2020-10-20T10:03:59Z", "commit": {"oid": "6ea76f27d16feecf5d527001671aa1d7f04225ce"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxMDowMzo1OVrOHk0n2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxMDowMzo1OVrOHk0n2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODM3Mjk1Mg==", "bodyText": "if(hasTransitData && (hasOsm || graphBuilder.graph.hasStreets))\nDelete hasStreetData", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3216#discussion_r508372952", "createdAt": "2020-10-20T10:03:59Z", "author": {"login": "t2gran"}, "path": "src/main/java/org/opentripplanner/graph_builder/GraphBuilder.java", "diffHunk": "@@ -164,7 +166,7 @@ public static GraphBuilder create(\n             graphBuilder.addModule(netexModule(config, dataSources.get(NETEX)));\n         }\n \n-        if(hasTransitData && hasOsm) {\n+        if(hasTransitData && hasStreetData) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6ea76f27d16feecf5d527001671aa1d7f04225ce"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0f549c2354a984a648db4bb32a13b71a9fff0e7", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/a0f549c2354a984a648db4bb32a13b71a9fff0e7", "committedDate": "2020-10-20T10:08:14Z", "message": "Update GraphBuilder.java\n\nMade the `GraphBuilder` a bit more readable."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyNTU3Njc0", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3216#pullrequestreview-512557674", "createdAt": "2020-10-20T10:24:50Z", "commit": {"oid": "a0f549c2354a984a648db4bb32a13b71a9fff0e7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1995, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}