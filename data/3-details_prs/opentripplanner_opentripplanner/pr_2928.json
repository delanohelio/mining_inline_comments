{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYzNjA2MTc1", "number": 2928, "title": "Unexpected wait cost between access and transit", "bodyText": "This PR build on Otp2 limit transit service period #2926 and should be rreviewed and merged after that.\n\n issue: Closes #2927.\n roadmap: No, this is a bug fix.\n tests: Unit tests updated.\n formatting: Yes.\n documentation: JavaDoc updates only\n changelog: yes\n\nTo be completed by @opentripplanner/plc:\n\n reviews and approvals by 2 members, ideally from different organizations\n after merging: update the relevant card on the roadmap", "createdAt": "2020-01-16T11:53:05Z", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/2928", "merged": true, "mergeCommit": {"oid": "a5705330ba0ec18fb0fe6b0ea6bc99364f3c0ab1"}, "closed": true, "closedAt": "2020-01-24T09:51:46Z", "author": {"login": "t2gran"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb647lRAH2gAyMzYzNjA2MTc1OmZmMDZkMDk5MWJmYjEzOWQ4MTA2MWM2ZTU2MjU5ODQwNzM0MGEwNzE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABb9b0HMAFqTM0Nzg0Mjc0Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ff06d0991bfb139d81061c6e562598407340a071", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/ff06d0991bfb139d81061c6e562598407340a071", "committedDate": "2020-01-16T12:02:18Z", "message": "Remove 'arriveBy' from search parameters. We might add a arrive/departure preference later, but it is more likely to be an enum than a boolean flag. This is a user preference that affect the pareto-set (function), but it does not affect the search in any other way(reverse/forward)."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "536b78f22e9a303340f8c5f7893066f91bcac75b", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/536b78f22e9a303340f8c5f7893066f91bcac75b", "committedDate": "2020-01-16T12:02:18Z", "message": "Code cleanup, refactor by renaming LifeCycleBuilder to LifeCycleSubscriptions, and inline debugRequest in SearchContext."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0787f9d6c3bd5051aaf31b5a33b2b019e3c49b21", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/0787f9d6c3bd5051aaf31b5a33b2b019e3c49b21", "committedDate": "2020-01-16T12:02:18Z", "message": "Unexpected cost added for the wait time between access and transit with RangeRaptor (#2927)"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6b2431a6dbb473a7b46210e8924f5a2c6b8be661", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/6b2431a6dbb473a7b46210e8924f5a2c6b8be661", "committedDate": "2020-01-16T11:39:56Z", "message": "Unexpected cost added for the wait time between access and transit with RangeRaptor (#2927)"}, "afterCommit": {"oid": "0787f9d6c3bd5051aaf31b5a33b2b019e3c49b21", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/0787f9d6c3bd5051aaf31b5a33b2b019e3c49b21", "committedDate": "2020-01-16T12:02:18Z", "message": "Unexpected cost added for the wait time between access and transit with RangeRaptor (#2927)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "231d0495c44023cec32a936e2cc4eea48d3bb469", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/231d0495c44023cec32a936e2cc4eea48d3bb469", "committedDate": "2020-01-17T15:48:12Z", "message": "Merge branch 'dev-2.x' into otp2_unexpected_wait_cost_between_access_and_transit"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b9bdf6953fee1050891366535e83fdcd50194d43", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/b9bdf6953fee1050891366535e83fdcd50194d43", "committedDate": "2020-01-24T09:29:53Z", "message": "Merge remote-tracking branch 'otp/dev-2.x' into otp2_unexpected_wait_cost_between_access_and_transit"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3ODMzODcx", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/2928#pullrequestreview-347833871", "createdAt": "2020-01-24T09:32:42Z", "commit": {"oid": "ff06d0991bfb139d81061c6e562598407340a071"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQwOTozMjo0M1rOFhYCIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQwOTozMjo0M1rOFhYCIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDU0MTA4OQ==", "bodyText": "I took away this, it is no longer in use.", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/2928#discussion_r370541089", "createdAt": "2020-01-24T09:32:43Z", "author": {"login": "t2gran"}, "path": "src/main/java/org/opentripplanner/transit/raptor/api/request/ArrivalAndDeparturePreference.java", "diffHunk": "@@ -0,0 +1,22 @@\n+package org.opentripplanner.transit.raptor.api.request;\n+\n+/**\n+ * TODO OTP2 - Write doc if implemented\n+ */\n+public enum ArrivalAndDeparturePreference {\n+    /**\n+     * Find the best results within the time window. The traveler is flexible within the\n+     * search window. This is the default.\n+     */\n+    TIME_TABLE,\n+\n+    /**\n+     * The traveler prefer to arrive as early as possible given the earliest departure time.\n+     */\n+    ARRIVE_EARLY,\n+\n+    /**\n+     * The traveler prefer to depart as late as possible given the latest arrival time.\n+     */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ff06d0991bfb139d81061c6e562598407340a071"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2NTA2Njk0", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/2928#pullrequestreview-346506694", "createdAt": "2020-01-22T11:07:04Z", "commit": {"oid": "0787f9d6c3bd5051aaf31b5a33b2b019e3c49b21"}, "state": "DISMISSED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQxMTowNzowNVrOFgYWPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQxMTowNzowNVrOFgYWPw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTQ5NzY2Mw==", "bodyText": "The PR title and Changelog entry state the problem, rather than the solution that was made. To match the other lines, it would say \"Removed unexpected cost...\"", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/2928#discussion_r369497663", "createdAt": "2020-01-22T11:07:05Z", "author": {"login": "abyrd"}, "path": "docs/Changelog.md", "diffHunk": "@@ -19,6 +19,7 @@\n - New Transit search algorithm, Raptor, replaces the AStar for all transit searches. \n - Ability to switch off the fare service(#2912).\n - Limit the transit service period(#2925).\n+- Unexpected cost added for the wait time between access and transit with RangeRaptor (#2927)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0787f9d6c3bd5051aaf31b5a33b2b019e3c49b21"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "859fc86703902d356ecbe5fe9f9c985da4308fd5", "author": {"user": {"login": "abyrd", "name": "Andrew Byrd"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/859fc86703902d356ecbe5fe9f9c985da4308fd5", "committedDate": "2020-01-24T09:48:10Z", "message": "Update Changelog.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3ODQyNzQz", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/2928#pullrequestreview-347842743", "createdAt": "2020-01-24T09:48:41Z", "commit": {"oid": "859fc86703902d356ecbe5fe9f9c985da4308fd5"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2191, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}