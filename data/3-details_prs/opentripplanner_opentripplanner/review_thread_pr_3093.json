{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMxMTU0NzE4", "number": 3093, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDoyMjoxMFrOEEtNhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxMTozMTowNlrOEGT0nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMzcwNTAxOnYy", "diffSide": "RIGHT", "path": "src/ext/java/org/opentripplanner/ext/siri/updater/SiriSXUpdater.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDoyMjoxMFrOGifroQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDoyMjoxMFrOGifroQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgyMzg0MQ==", "bodyText": "No need to use a local variable here?", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3093#discussion_r438823841", "createdAt": "2020-06-11T14:22:10Z", "author": {"login": "t2gran"}, "path": "src/ext/java/org/opentripplanner/ext/siri/updater/SiriSXUpdater.java", "diffHunk": "@@ -82,6 +82,7 @@ public void setGraphUpdaterManager(GraphUpdaterManager updaterManager) {\n     @Override\n     public void setup(Graph graph) {\n         AlertPatchService alertPatchService = new AlertPatchServiceImpl(graph);\n+        this.alertPatchService = alertPatchService;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2755f41e6aeae6291c551229547d58700cab0c9e"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MDUwODI4OnYy", "diffSide": "RIGHT", "path": "src/ext/java/org/opentripplanner/ext/siri/updater/SiriSXUpdater.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxMToyODoxMFrOGlBgpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxMToyODoxMFrOGlBgpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTQ3NTIzNg==", "bodyText": "Double ;;", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3093#discussion_r441475236", "createdAt": "2020-06-17T11:28:10Z", "author": {"login": "t2gran"}, "path": "src/ext/java/org/opentripplanner/ext/siri/updater/SiriSXUpdater.java", "diffHunk": "@@ -81,7 +81,7 @@ public void setGraphUpdaterManager(GraphUpdaterManager updaterManager) {\n \n     @Override\n     public void setup(Graph graph) {\n-        AlertPatchService alertPatchService = new AlertPatchServiceImpl(graph);\n+        this.alertPatchService = new AlertPatchServiceImpl(graph);;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56194b8841f899160ca5afcd95b77a61ee068bb2"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MDUxNDI4OnYy", "diffSide": "RIGHT", "path": "src/ext/java/org/opentripplanner/ext/transmodelapi/TransmodelIndexGraphQLSchema.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxMTozMDoyMVrOGlBkpQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxMTozMDoyMVrOGlBkpQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTQ3NjI2MQ==", "bodyText": "FYI: This code is deleted in my PR - it is deprecated", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3093#discussion_r441476261", "createdAt": "2020-06-17T11:30:21Z", "author": {"login": "t2gran"}, "path": "src/ext/java/org/opentripplanner/ext/transmodelapi/TransmodelIndexGraphQLSchema.java", "diffHunk": "@@ -1169,6 +1187,13 @@ public TransmodelIndexGraphQLSchema(Graph graph, RoutingRequest defaultRequest)\n                             }\n                         })\n                         .build())\n+                .field(GraphQLFieldDefinition.newFieldDefinition()\n+                        .name(\"infoLink\")\n+                        .type(Scalars.GraphQLString)\n+                        .deprecate(\"Use the attribute infoLinks instead.\")\n+                        .description(\"Url with more information\")\n+                        .dataFetcher(environment -> ((AlertPatch) environment.getSource()).getAlert().alertUrl)\n+                        .build())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56194b8841f899160ca5afcd95b77a61ee068bb2"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1MDUxNjc5OnYy", "diffSide": "RIGHT", "path": "src/ext/java/org/opentripplanner/ext/transmodelapi/TransmodelIndexGraphQLSchema.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxMTozMTowNlrOGlBmEw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xN1QxMTozMTowNlrOGlBmEw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0MTQ3NjYyNw==", "bodyText": "FYI: This code is deleted in my PR - it is deprecated", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3093#discussion_r441476627", "createdAt": "2020-06-17T11:31:06Z", "author": {"login": "t2gran"}, "path": "src/ext/java/org/opentripplanner/ext/transmodelapi/TransmodelIndexGraphQLSchema.java", "diffHunk": "@@ -1153,6 +1154,23 @@ public TransmodelIndexGraphQLSchema(Graph graph, RoutingRequest defaultRequest)\n                             }\n                         })\n                         .build())\n+                .field(GraphQLFieldDefinition.newFieldDefinition()\n+                        .name(\"detail\")\n+                        .type(new GraphQLNonNull(new GraphQLList(new GraphQLNonNull(multilingualStringType))))\n+                        .description(\"Details of situation in all different translations available\")\n+                        .deprecate(\"Not allowed according to profile. Use \u00b4advice\u00b4 instead.\")\n+                        .dataFetcher(environment -> {\n+                            AlertPatch alertPatch = environment.getSource();\n+                            Alert alert = alertPatch.getAlert();\n+                            if (alert.alertDetailText instanceof TranslatedString) {\n+                                return ((TranslatedString) alert.alertDetailText).getTranslations();\n+                            } else if (alert.alertDetailText != null) {\n+                                return Arrays.asList(new AbstractMap.SimpleEntry<>(null, alert.alertDetailText.toString()));\n+                            } else {\n+                                return emptyList();\n+                            }\n+                        })\n+                        .build())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "56194b8841f899160ca5afcd95b77a61ee068bb2"}, "originalPosition": 28}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1842, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}