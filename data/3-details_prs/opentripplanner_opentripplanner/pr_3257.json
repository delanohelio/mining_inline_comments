{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI1MzY4NTc5", "number": 3257, "title": "Document the lack of support for frequency based trips, improve logging", "bodyText": "GTFS Trip Frequencies is not working in OTP 2.0-rc. This PR add a some documentation and an ERROR log message if the frequencies.txt  contains any trips. This is not a fix for the problem, just adding logging and documentation. I think we should fix this in 2.1.\nDuring the investigation of #3243 I improved some of the logging, these changes is also included.\nTo be completed by pull request submitter:\n\n issue: Related #3243.\n roadmap: No\n tests: No\n formatting: Yes\n documentation: Yes\n changelog: No\n\nTo be completed by @opentripplanner/plc:\n\n reviews and approvals by 2 members, ideally from different organizations\n after merging: update the relevant card on the roadmap", "createdAt": "2020-11-22T22:32:34Z", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3257", "merged": true, "mergeCommit": {"oid": "51616896885f86a33bdb0341b2632e6e48bdfa48"}, "closed": true, "closedAt": "2020-11-24T11:03:03Z", "author": {"login": "t2gran"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdfG5wOAH2gAyNTI1MzY4NTc5OmZlMzdmMmViMWRlNzQwMjZhMjkzMmRhYjllYzk1OTMyY2RjNmMyOTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfnrtwAFqTUzNzM3OTI3Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "fe37f2eb1de74026a2932dab9ec95932cdc6c291", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/fe37f2eb1de74026a2932dab9ec95932cdc6c291", "committedDate": "2020-11-22T20:51:24Z", "message": "Clean code: Improve logging. Add debug logging of Raptor requests and fix some of the nested toStrings() methods. Also, make the data sources list logged at startup easier to read."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0a7abcab227b80b3d84d9670c7d0482130fad6e8", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/0a7abcab227b80b3d84d9670c7d0482130fad6e8", "committedDate": "2020-11-22T21:21:27Z", "message": "doc: GTFS Trip Frequency is not supported, add logging and documentation."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "567758e8831971262fe124a1bf2cbae31ef39590", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/567758e8831971262fe124a1bf2cbae31ef39590", "committedDate": "2020-11-23T13:19:48Z", "message": "Log STARTED/SHUTDOWN message with version, commit and branch. This is very useful when multiple instances of OTP is running in  cluster and logs are aggregated. During deployment it is important to be able to se witch instances of OTP is running and the version. In a cloud environment the logs are aggregated and with a OTP STARTED/OTP SHUTDOWN a simple filter will show witch pods are running witch version of OTP."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3MzY0MDgx", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3257#pullrequestreview-537364081", "createdAt": "2020-11-24T10:44:03Z", "commit": {"oid": "567758e8831971262fe124a1bf2cbae31ef39590"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMDo0NDowM1rOH46Uvg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMDo0NDowM1rOH46Uvg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTQzNzg4Ng==", "bodyText": "Frequencies.txt is a standard part of GTFS so if it is not supported in OTP2 this probably deserves to be more than a footnote - although GTFS for big networks often uses purely scheduled trips, some people working with other GTFS inputs may be confused or waste time if their frequency trips are not imported.", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3257#discussion_r529437886", "createdAt": "2020-11-24T10:44:03Z", "author": {"login": "abyrd"}, "path": "docs/Version-Comparison.md", "diffHunk": "@@ -54,6 +54,8 @@ When in doubt, new users are advised to try out OTP2 and switch to OTP1 if they\n | Transfer Priority | yes (route, trip, stop level) | no (planned) |\n / REST API format | XML, JSON | JSON only |\n \n+[1] [Trip Frequency is not working in OTP 2.0.](https://github.com/opentripplanner/OpenTripPlanner/issues/3243)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "567758e8831971262fe124a1bf2cbae31ef39590"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3MzY3NzI1", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3257#pullrequestreview-537367725", "createdAt": "2020-11-24T10:48:30Z", "commit": {"oid": "567758e8831971262fe124a1bf2cbae31ef39590"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMDo0ODozMVrOH46p9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQxMDo0ODozMVrOH46p9w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTQ0MzMxOQ==", "bodyText": "Rather than a footnote I'd instead inline the comment here: yes (frequencies.txt not yet supported)", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3257#discussion_r529443319", "createdAt": "2020-11-24T10:48:31Z", "author": {"login": "abyrd"}, "path": "docs/Version-Comparison.md", "diffHunk": "@@ -32,7 +32,7 @@ When in doubt, new users are advised to try out OTP2 and switch to OTP1 if they\n | Feature | OTP1 | OTP2 |\n |---------|------|------|\n | OSM street data | yes | yes |\n-| GTFS transit data | yes | yes |\n+| GTFS transit data | yes | yes[1] |", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "567758e8831971262fe124a1bf2cbae31ef39590"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e83122833fa40aa3a87876999bccfedcf805f12", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/7e83122833fa40aa3a87876999bccfedcf805f12", "committedDate": "2020-11-24T10:53:10Z", "message": "doc: Improve on the doc for fequency.txt not supported."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6cc1976ea4911bd3af9cad834a5ae231a145e93", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/f6cc1976ea4911bd3af9cad834a5ae231a145e93", "committedDate": "2020-11-24T10:56:55Z", "message": "Update logback.xml"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3Mzc5Mjc2", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3257#pullrequestreview-537379276", "createdAt": "2020-11-24T11:02:56Z", "commit": {"oid": "f6cc1976ea4911bd3af9cad834a5ae231a145e93"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2027, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}