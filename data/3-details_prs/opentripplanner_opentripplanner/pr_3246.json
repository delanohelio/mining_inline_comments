{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIwNTE4NzMx", "number": 3246, "title": "doc: Improve the build config documentation in the MigrationGuide.", "bodyText": "This PR update the Migration gude and the configuration doc.\n\n issue: Document some to the questions raised in #3204 .\n\nTo be completed by @opentripplanner/plc:\n\n reviews and approvals by 2 members, ideally from different organizations\n after merging: update the relevant card on the roadmap", "createdAt": "2020-11-13T11:16:34Z", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3246", "merged": true, "mergeCommit": {"oid": "e2d274ff8dc05adf250ef1a30609d5f958e34147"}, "closed": true, "closedAt": "2020-11-17T10:42:07Z", "author": {"login": "t2gran"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdcFNb9gH2gAyNTIwNTE4NzMxOjEyYTRmNmI5ZmM2MTJmZmZjOWVmMGFjODhmZGYyYmViNTkwMDdhZGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABddWvErAFqTUzMjIwNzM4MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "12a4f6b9fc612fffc9ef0ac88fdf2beb59007add", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/12a4f6b9fc612fffc9ef0ac88fdf2beb59007add", "committedDate": "2020-11-13T11:11:19Z", "message": "doc: Improve the build config documentation in the MigrationGuide."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwMDgxNzE4", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3246#pullrequestreview-530081718", "createdAt": "2020-11-13T13:58:29Z", "commit": {"oid": "12a4f6b9fc612fffc9ef0ac88fdf2beb59007add"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxMzo1ODoyOVrOHyvT6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxNDowMzowNFrOHyvePg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjk2NTk5NA==", "bodyText": "The word \"link\" together with stops or stations is usually used to refer to connecting them to the street network or to each other. I never fully understood which behavior was added to the existing (experimental) stop clustering logic - was it creating walk links, or just grouping them into stations? Either way, the word \"link\" should be replaced with \"cluster\" or some other word describing what specifically was done automatically.", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3246#discussion_r522965994", "createdAt": "2020-11-13T13:58:29Z", "author": {"login": "abyrd"}, "path": "docs/OTP2-MigrationGuide.md", "diffHunk": "@@ -25,22 +25,50 @@ you want into a single instance of OTP2.\n \n ## Build config\n \n+New parameters:\n+\n+ - `transitServiceStart` Limit the import of transit services to the given *start* date. Default: `-P1Y`\n+ - `transitServiceEnd` Limit the import of transit services to the given *end* date. *Inclusive*. Default: `P3Y`\n+\n+\n These properties changed names from:\n \n  - `htmlAnnotations` to `dataImportReport`\n  - `maxHtmlAnnotationsPerFile` to `maxDataImportIssuesPerFile`\n  - `boardTimes` to `routingDefaults.boardSlackByMode`\n  - `alightTimes` to `routingDefaults.alightSlackByMode`\n  \n-These parameters is no longer supported:\n-\n- - `stopClusterMode` - TODO OTP2 Why? Old options: `proximity`, `parentStation`\n+These parameters are no longer supported:\n+\n+ - `stopClusterMode` OTP2 link stops and stations based on the GTFS/NeTEx input. There is no", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12a4f6b9fc612fffc9ef0ac88fdf2beb59007add"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjk2Nzg2MQ==", "bodyText": "I think concepts like \"there is no such thing in the street graph\" will not be easily understood by the average person configuring OTP2. Again here I think we should say what exactly it means that they are \"linked\" based on the input. Later in the same paragraph transfers are mentioned; could we replace \"links\" with \"creates transfers between\"?", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3246#discussion_r522967861", "createdAt": "2020-11-13T14:01:41Z", "author": {"login": "abyrd"}, "path": "docs/OTP2-MigrationGuide.md", "diffHunk": "@@ -25,22 +25,50 @@ you want into a single instance of OTP2.\n \n ## Build config\n \n+New parameters:\n+\n+ - `transitServiceStart` Limit the import of transit services to the given *start* date. Default: `-P1Y`\n+ - `transitServiceEnd` Limit the import of transit services to the given *end* date. *Inclusive*. Default: `P3Y`\n+\n+\n These properties changed names from:\n \n  - `htmlAnnotations` to `dataImportReport`\n  - `maxHtmlAnnotationsPerFile` to `maxDataImportIssuesPerFile`\n  - `boardTimes` to `routingDefaults.boardSlackByMode`\n  - `alightTimes` to `routingDefaults.alightSlackByMode`\n  \n-These parameters is no longer supported:\n-\n- - `stopClusterMode` - TODO OTP2 Why? Old options: `proximity`, `parentStation`\n+These parameters are no longer supported:\n+\n+ - `stopClusterMode` OTP2 link stops and stations based on the GTFS/NeTEx input. There is no\n+         automatic linking any more. If this is needed, feel free to port the OTP1 logic into \n+         a Sandbox feature. The OTP1 options are: `proximity`, `parentStation`.\n+ - `parentStopLinking` OTP2 link stops and stations based on the GTFS/NeTEx input, but there is no ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12a4f6b9fc612fffc9ef0ac88fdf2beb59007add"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjk2ODYzOA==", "bodyText": "It could be good to mention the units.", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3246#discussion_r522968638", "createdAt": "2020-11-13T14:03:04Z", "author": {"login": "abyrd"}, "path": "docs/OTP2-MigrationGuide.md", "diffHunk": "@@ -25,22 +25,50 @@ you want into a single instance of OTP2.\n \n ## Build config\n \n+New parameters:\n+\n+ - `transitServiceStart` Limit the import of transit services to the given *start* date. Default: `-P1Y`\n+ - `transitServiceEnd` Limit the import of transit services to the given *end* date. *Inclusive*. Default: `P3Y`\n+\n+\n These properties changed names from:\n \n  - `htmlAnnotations` to `dataImportReport`\n  - `maxHtmlAnnotationsPerFile` to `maxDataImportIssuesPerFile`\n  - `boardTimes` to `routingDefaults.boardSlackByMode`\n  - `alightTimes` to `routingDefaults.alightSlackByMode`\n  \n-These parameters is no longer supported:\n-\n- - `stopClusterMode` - TODO OTP2 Why? Old options: `proximity`, `parentStation`\n+These parameters are no longer supported:\n+\n+ - `stopClusterMode` OTP2 link stops and stations based on the GTFS/NeTEx input. There is no\n+         automatic linking any more. If this is needed, feel free to port the OTP1 logic into \n+         a Sandbox feature. The OTP1 options are: `proximity`, `parentStation`.\n+ - `parentStopLinking` OTP2 link stops and stations based on the GTFS/NeTEx input, but there is no \n+         such thing in the street graph, only stops exist in the street graph. When OTP2 generate\n+         transfers based on the street graph generated from OSM data. If no OSM data is provided,\n+         then we would like to use \"line-of-sight\" transfers. See issue \n+         [#3204](https://github.com/opentripplanner/OpenTripPlanner/issues/3204).  \n+ - `stationTransfers` This functionality is not ported to OTP2. If needed it should be a sandbox\n+         feature. \n \n  \n ## Router config\n+Se the [Router Configuration](Configuration.md#router-configuration) for a description of the \n+new and continued routing parameters.\n+\n+New parameters:\n+\n+ - `streetRoutingTimeout` Maximum time limit for street route queries. Replace the old `timeout`.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "12a4f6b9fc612fffc9ef0ac88fdf2beb59007add"}, "originalPosition": 40}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5699ba1bf25eb3e62b11d35dbae95d0f328f7b6a", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/5699ba1bf25eb3e62b11d35dbae95d0f328f7b6a", "committedDate": "2020-11-13T15:49:40Z", "message": "doc: Review: Improve the build config documentation in the MigrationGuide."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c8597ca71dd34702a7fed20070400edc8c37be62", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/c8597ca71dd34702a7fed20070400edc8c37be62", "committedDate": "2020-11-17T09:58:42Z", "message": "Update OTP2-MigrationGuide.md\n\ndoc: Review, fix some typos and language."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyMjA3Mzgx", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3246#pullrequestreview-532207381", "createdAt": "2020-11-17T10:10:22Z", "commit": {"oid": "c8597ca71dd34702a7fed20070400edc8c37be62"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2020, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}