{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4Mzc2NjY2", "number": 3109, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxMjo0NjowMVrOEIvl8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMjozODoyN1rOETqQoQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3NjAzODI1OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/opentripplanner/routing/algorithm/RoutingWorker.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxMjo0NjowMVrOGo49nA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxMjo0NjowMVrOGo49nA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTUyOTUwMA==", "bodyText": "This could be final", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3109#discussion_r445529500", "createdAt": "2020-06-25T12:46:01Z", "author": {"login": "t2gran"}, "path": "src/main/java/org/opentripplanner/routing/algorithm/RoutingWorker.java", "diffHunk": "@@ -49,6 +50,9 @@\n \n     private final RaptorService<TripSchedule> raptorService;\n \n+    /** An object that accumulates profiling and debugging info for inclusion in the response. */\n+    public DebugOutput debugOutput = new DebugOutput();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f1248ebb486f10022e33595d2524072692f2cb7"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3NjA1NDI3OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/opentripplanner/routing/algorithm/RoutingWorker.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxMjo1MDoyNlrOGo5HsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxMjo1MDoyNlrOGo5HsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTUzMjA4MA==", "bodyText": "We should probably encapsulate the timing into the DebugOutput class. The debug log statement can be removed , I forgot to take it away after making sure the itineraries filtering is not using any time. We could also move the logging inside the DebugOutput, so turning that logger on/off will give you performance logging. Also, maybe split the DebugOutput into a Service (DebugAggregator) and a DTO DebugOutput.", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3109#discussion_r445532080", "createdAt": "2020-06-25T12:50:26Z", "author": {"login": "t2gran"}, "path": "src/main/java/org/opentripplanner/routing/algorithm/RoutingWorker.java", "diffHunk": "@@ -111,22 +124,24 @@ public RoutingResponse route(Router router) {\n                 request.rctx.bannedRoutes,\n                 request.walkSpeed\n         );\n-        LOG.debug(\"Filtering tripPatterns took {} ms\", System.currentTimeMillis() - startTime);\n+        long tripPatternFilterTime = System.currentTimeMillis() - startTime;\n+        this.debugOutput.transitRouterTimes.tripPatternFilterTime = tripPatternFilterTime;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f1248ebb486f10022e33595d2524072692f2cb7"}, "originalPosition": 65}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MDUwMjE4OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/opentripplanner/api/resource/TransitTimingOutput.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMjozNjo0MFrOG5hG-Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMjozNjo0MFrOG5hG-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjk2NDQ3Mw==", "bodyText": "Need JavaDoc", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3109#discussion_r462964473", "createdAt": "2020-07-30T12:36:40Z", "author": {"login": "t2gran"}, "path": "src/main/java/org/opentripplanner/api/resource/TransitTimingOutput.java", "diffHunk": "@@ -0,0 +1,20 @@\n+package org.opentripplanner.api.resource;\n+\n+public class TransitTimingOutput {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2ed0de91944d1a81148579a2db888aedf457886"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg5MDUwNzg1OnYy", "diffSide": "RIGHT", "path": "src/main/java/org/opentripplanner/routing/framework/DebugAggregator.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMjozODoyN1rOG5hKhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0zMFQxMjozODoyN1rOG5hKhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mjk2NTM4MQ==", "bodyText": "JavaDoc", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3109#discussion_r462965381", "createdAt": "2020-07-30T12:38:27Z", "author": {"login": "t2gran"}, "path": "src/main/java/org/opentripplanner/routing/framework/DebugAggregator.java", "diffHunk": "@@ -0,0 +1,122 @@\n+package org.opentripplanner.routing.framework;\n+\n+import org.opentripplanner.api.resource.DebugOutput;\n+import org.opentripplanner.api.resource.TransitTimingOutput;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+public class DebugAggregator {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d2ed0de91944d1a81148579a2db888aedf457886"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1852, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}