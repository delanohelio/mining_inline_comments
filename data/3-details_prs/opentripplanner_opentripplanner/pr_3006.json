{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg5NDExMDI2", "number": 3006, "title": "Add back the 'otp/routers' REST endpoint to be backward compatible with OTP1.", "bodyText": "The GET RouterInfo enpoint is added to OTP 2. This endpoint provided some meta info about the graph needed by the bundeled OTP client.The full functionallity of the old API is not included, only the GET methods and the it ignore the {routerId} and return the info about the default router (witch) is the only router available.\nTo be completed by pull request submitter:\n\n issue: Regression.\n roadmap: No.\n tests: No\n[ x ] formatting:Yes.\n[ x ] documentation: All JavaDoc on old code is updated to explain the regression.\n changelog: No, this is a regression.\n\nTo be completed by @opentripplanner/plc:\n\n reviews and approvals by 2 members, ideally from different organizations\n after merging: update the relevant card on the roadmap", "createdAt": "2020-03-16T18:01:03Z", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3006", "merged": true, "mergeCommit": {"oid": "cd6e0ef583351a0714ad733182266621dba80dd1"}, "closed": true, "closedAt": "2020-03-17T10:57:47Z", "author": {"login": "t2gran"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcOOlYBgH2gAyMzg5NDExMDI2OmI3NjgyOTc0MjdiMWI1YjMwNWQ0MDJhNDZkY2QxNWUwYmQzYWI5NzA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcOgSDPAH2gAyMzg5NDExMDI2OjViMmZkNTk0ZjZhOTdiNjdiNDgyN2M1NGNhMWVkNmRiZTJlMDcxNDQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "b768297427b1b5b305d402a46dcd15e0bd3ab970", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/b768297427b1b5b305d402a46dcd15e0bd3ab970", "committedDate": "2020-03-16T14:00:31Z", "message": "Add back the 'otp/routers' REST endpoint to be backward compatible and serve meta-info about the single OTP2 router, the \"default\" router."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "921a67a400069a052a4cddf999af69c83c1eec54", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/921a67a400069a052a4cddf999af69c83c1eec54", "committedDate": "2020-03-17T09:50:27Z", "message": "Fix URL"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc1ODgwMzg1", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3006#pullrequestreview-375880385", "createdAt": "2020-03-17T09:50:02Z", "commit": {"oid": "b768297427b1b5b305d402a46dcd15e0bd3ab970"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QwOTo1MDowMlrOF3U1kQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xN1QwOTo1MDowMlrOF3U1kQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MzU1NzM5Mw==", "bodyText": "URL prefix is different now.", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3006#discussion_r393557393", "createdAt": "2020-03-17T09:50:02Z", "author": {"login": "abyrd"}, "path": "src/main/java/org/opentripplanner/api/resource/Routers.java", "diffHunk": "@@ -0,0 +1,71 @@\n+package org.opentripplanner.api.resource;\n+\n+import org.opentripplanner.api.model.RouterInfo;\n+import org.opentripplanner.api.model.RouterList;\n+import org.opentripplanner.routing.error.GraphNotFoundException;\n+import org.opentripplanner.standalone.server.OTPServer;\n+import org.opentripplanner.standalone.server.Router;\n+\n+import javax.annotation.security.PermitAll;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.PathParam;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.Context;\n+import javax.ws.rs.core.MediaType;\n+\n+import static org.opentripplanner.api.resource.ServerInfo.Q;\n+\n+/**\n+ * This REST API endpoint returns some meta-info about a router. OTP2 does no longer support\n+ * remotely loading, reloading, and evicting graphs on a running server (Supported in OTP1).\n+ * <p>\n+ * The HTTP verbs are used as follows:\n+ * <p>\n+ * GET - see the registered routerIds(there is just one: default) with the graph.\n+ * <p>\n+ * The HTTP request URLs are of the form /ws/routers/{routerId}. The {routerId} is kept to be", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b768297427b1b5b305d402a46dcd15e0bd3ab970"}, "originalPosition": 27}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b2fd594f6a97b67b4827c54ca1ed6dbe2e07144", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/5b2fd594f6a97b67b4827c54ca1ed6dbe2e07144", "committedDate": "2020-03-17T10:37:42Z", "message": "Merge branch 'dev-2.x' into otp2_add_back_routers_REST_API_endpoint"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2079, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}