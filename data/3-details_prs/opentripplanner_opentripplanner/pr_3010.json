{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkwOTM3Mjk4", "number": 3010, "title": "Clean code -  prepare for alight board slack", "bodyText": "This PR contains several clean code commits. The cleanup is done as part of preparation for the regression implementation of board-/alight- slack. The \u00b4boardSlack\u00b4 depend on the Route (mode), so the Raptor need to be able to access the route given a TripSchedule in the path mapping, not only in the routing where this information is available to Raptor.\nTo be completed by pull request submitter:\n\n issue: This is just cleaning up the code, no issue.\n roadmap: Clean-up/regression.\n tests: Unit tests are updated.\n formatting: Yes\n documentation: JavaDoc updated.\n changelog: This just a code cleanup, no changelog item added.\n\nTo be completed by @opentripplanner/plc:\n\n reviews and approvals by 2 members, ideally from different organizations\n after merging: update the relevant card on the roadmap", "createdAt": "2020-03-19T11:05:38Z", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3010", "merged": true, "mergeCommit": {"oid": "0555b91c4c93c4bd42c0ab29f77e8172ce28a6e0"}, "closed": true, "closedAt": "2020-03-25T09:04:37Z", "author": {"login": "t2gran"}, "timelineItems": {"totalCount": 17, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcOgu82AH2gAyMzkwOTM3Mjk4OjAzYWVmZjU4MzJlZDY3ZDRlY2JkMjIyMzhmM2VlNTU1Yjk5YzEzMDI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRAQSTgFqTM4MDg1OTQ5Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "03aeff5832ed67d4ecbd22238f3ee555b99c1302", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/03aeff5832ed67d4ecbd22238f3ee555b99c1302", "committedDate": "2020-03-17T11:09:16Z", "message": "Clean code - Rename a few variables to be consistent\n - Rename 'transferPenalty' to 'transferCost'.\n - Rename 'nonpreferredTransferPenalty' to 'nonpreferredTransferCost'.\n - Rename 'boardTimes' to 'boardSlackByMode'.\n - Rename 'alightTimes' to 'alightSlackByMode'."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e15d799092622d24cbc8cc0b92de926a3dba61d", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/9e15d799092622d24cbc8cc0b92de926a3dba61d", "committedDate": "2020-03-17T11:09:16Z", "message": "Code cleanup SpeedTest - Fix result summary. Print summary for each profile int the same order as profiles are specified on the command line."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c021830aaf423d71b53b4a1caeb2ecc15da0b1c9", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/c021830aaf423d71b53b4a1caeb2ecc15da0b1c9", "committedDate": "2020-03-17T11:09:16Z", "message": "Clean code - Rename a local variable in transit loop from 'boardStop' to 'boardFrom'. The context is \"you are on a trip\" and the variable points to the last-stop-arrival where the boarding happened."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "232190b1e3ef313747eb810650f43ba2c12d4959", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/232190b1e3ef313747eb810650f43ba2c12d4959", "committedDate": "2020-03-17T11:09:16Z", "message": "Clean code - Remove Raptor StopFilter, this turned out to be an inefficient optimization(used based with heuristics), and it is better to filter in the TransitLayer. Filtering in the TransitLayer keep the Raptor implementation cleaner and faster."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "515caf0fd2fd8a8a75b92d904479b08bc3978e4b", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/515caf0fd2fd8a8a75b92d904479b08bc3978e4b", "committedDate": "2020-03-17T11:09:16Z", "message": "Raptor Documentation - Added a README for the Raptor implementation."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e6127978b2bdab9444970c914541560e4cb8c0a3", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/e6127978b2bdab9444970c914541560e4cb8c0a3", "committedDate": "2020-03-17T11:09:16Z", "message": "Raptor Documentation - Added documentation on the Range Raptor \"time-line\" and forward vs. reverse search.\n - Rename calculator 'latestArrivalTime' to 'stopArrivalTime'."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bede6f6b831966ac6b5bd3db872ac9cc71a8af3f", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/bede6f6b831966ac6b5bd3db872ac9cc71a8af3f", "committedDate": "2020-03-17T11:09:16Z", "message": "Update the `minTransferTime`, `boardSlack`, and `alightSlack` doc and remove the deprecated tags."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d4831d5ddfb617175c0de04d0a4cc6d34886810", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/2d4831d5ddfb617175c0de04d0a4cc6d34886810", "committedDate": "2020-03-17T11:09:16Z", "message": "Clean code - removing trip filter from Raptor, this is done in the OTP transit layer, and the feature was not used."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e11ad2e3e76a23f33a4cecdf51d2477742915395", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/e11ad2e3e76a23f33a4cecdf51d2477742915395", "committedDate": "2020-03-17T16:55:26Z", "message": "Clean code - Rename `TripPatternInfo` to `RaptorTripPattern`."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "52a8376c9c324888aea25751d3feb8b506e0bdc7", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/52a8376c9c324888aea25751d3feb8b506e0bdc7", "committedDate": "2020-03-18T00:28:57Z", "message": "Clean code:\n - Remove `tripSchedules` from`TripPattern` (also in `TripPatternForDate`).\n - Remove `implements RaptorTripPattern<TripSchedule>` from TripPatternForDate."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ff21b4221815f96a6611d5c10509eb29420debdd", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/ff21b4221815f96a6611d5c10509eb29420debdd", "committedDate": "2020-03-18T11:18:41Z", "message": "Clean code\n - Remove `TripScheduleWrapperImpl`, merge it into `TripPatternForDate`\n - Rename `org..alg.r.t.request.TripPattern` to `TripPatternWithRaptorStopIndexes`\n - Refactor `TripPatternForDate` to be able to delete `TripScheduleWrapperImpl`"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4cabc32ef68b0336331888d6ed37627c2eb50077", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/4cabc32ef68b0336331888d6ed37627c2eb50077", "committedDate": "2020-03-19T10:30:34Z", "message": "Clean Code - Encapsulate Coordinate in internal model."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c6a20b939a89c45148d67224353c09e2cf53367", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/7c6a20b939a89c45148d67224353c09e2cf53367", "committedDate": "2020-03-20T16:56:09Z", "message": "Fix the `Coordinate.hashCode()` implementation to yield the same precision as the equals method. Add unit tests.\n - Add Coordinate type to Place and WalkStep."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0e2b69ab3fd43b9072b786a885d200eb54319e5e", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/0e2b69ab3fd43b9072b786a885d200eb54319e5e", "committedDate": "2020-03-24T10:35:38Z", "message": "Merge branch 'dev-2.x' into otp2_clean_code_alight_board_slack"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwMjE4OTY3", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3010#pullrequestreview-380218967", "createdAt": "2020-03-24T11:27:22Z", "commit": {"oid": "4cabc32ef68b0336331888d6ed37627c2eb50077"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxMToyNzoyM1rOF6r7Kg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNFQxMToyNzoyM1rOF6r7Kg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NzA4MTM4Ng==", "bodyText": "Rename to WgsCoordinate.", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3010#discussion_r397081386", "createdAt": "2020-03-24T11:27:23Z", "author": {"login": "t2gran"}, "path": "src/main/java/org/opentripplanner/model/Coordinate.java", "diffHunk": "@@ -0,0 +1,43 @@\n+package org.opentripplanner.model;\n+\n+import org.opentripplanner.model.base.ValueObjectToStringBuilder;\n+import org.opentripplanner.util.CoordinateUtils;\n+\n+import java.io.Serializable;\n+import java.util.Objects;\n+\n+public class Coordinate implements Serializable {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4cabc32ef68b0336331888d6ed37627c2eb50077"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7f83720bd7f5f304f331f3850d81fca0007320c7", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/7f83720bd7f5f304f331f3850d81fca0007320c7", "committedDate": "2020-03-24T14:36:22Z", "message": "Code review - the Coordinate is renamed WgsCoordinate, and the equals/hashCode is made unsupported in favor of sameLocation()."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgwODU5NDky", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3010#pullrequestreview-380859492", "createdAt": "2020-03-25T05:00:35Z", "commit": {"oid": "7f83720bd7f5f304f331f3850d81fca0007320c7"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2084, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}