{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEwMTc2OTU2", "number": 3223, "title": "DSJ-1 : Cleanup Netex Import tp prepare for import of DatedServiceJourneies", "bodyText": "THIS IS THE FIRST OF 3 PRs TO IMPLEMENT DATED SERVICE JOURNEY\nThis is is pure cleanup, each commit should be doing just a single clen-up task.\nReview: The review should be simple, I suggest doing it commit by commit.\nTo be completed by pull request submitter:\n\n issue: No.\n roadmap: No.\n tests: Yes - Adds unit tests.\n formatting: Yes.\n documentation: Yes - Netex Import design documentation is added.\n changelog: No - There is NO functional changes in this PR.\n\nTo be completed by @opentripplanner/plc:\n\n reviews and approvals by 2 members, ideally from different organizations\n after merging: update the relevant card on the roadmap", "createdAt": "2020-10-26T17:05:12Z", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3223", "merged": true, "mergeCommit": {"oid": "310b8d839c9ea79c49698044e14ceb371f4b9694"}, "closed": true, "closedAt": "2020-10-28T10:30:42Z", "author": {"login": "t2gran"}, "timelineItems": {"totalCount": 25, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdWWtH3AH2gAyNTEwMTc2OTU2OmYzZTFlY2FjYjgzOWRhNGQ1NmJkMmUxMzAxOTFiOWQ3ZmMzNWE0NGY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdW5RRAgFqTUxODQxODUzMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f3e1ecacb839da4d56bd2e130191b9d7fc35a44f", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/f3e1ecacb839da4d56bd2e130191b9d7fc35a44f", "committedDate": "2020-10-26T16:10:46Z", "message": "Clean code: Move CalendarMapper to calendar package."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "91e685094fe568068d7da94a569a4d5cfd5cacdf", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/91e685094fe568068d7da94a569a4d5cfd5cacdf", "committedDate": "2020-10-26T16:16:02Z", "message": "Clean code: Add @Nullable on Netex import methods."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "939918d7838697ce3dede025fd944531cc6ccb39", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/939918d7838697ce3dede025fd944531cc6ccb39", "committedDate": "2020-10-26T16:18:57Z", "message": "Clean code: Add `final` on Netex import where appropriate."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1dd31424883dcf9a2681f300b4e19e6f99a352f4", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/1dd31424883dcf9a2681f300b4e19e6f99a352f4", "committedDate": "2020-10-26T16:18:57Z", "message": "Clean code: Add missing generic type arguments in the Netex import."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d3f3e45b097df6e47f68610a3fdd83de73a0c2b", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/3d3f3e45b097df6e47f68610a3fdd83de73a0c2b", "committedDate": "2020-10-26T16:18:57Z", "message": "Clean code: Use `List.of()` and `Set.of()` in the Netex import."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fefca0cd4056cb5826f58ce6fb479841ceb645ab", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/fefca0cd4056cb5826f58ce6fb479841ceb645ab", "committedDate": "2020-10-26T16:18:57Z", "message": "Clean code: Rename Feed scope for tests to \"F\" instead of \"TEST\". This make it easier to read tests and focus on the logic of the test. This make it a little less safe, but we have already made it real hard to use the test feed scope in production - it should not be a problem."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29cec56f855f72684775347f834a2affecfd65b2", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/29cec56f855f72684775347f834a2affecfd65b2", "committedDate": "2020-10-26T16:18:57Z", "message": "Clean code: Use the one arg constructor on `ServiceDate` with typed arguments, it is safer than using the 3 args int constructor - it is also easier to read."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15366a924f4bb05c06463499915cf95b3306cab2", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/15366a924f4bb05c06463499915cf95b3306cab2", "committedDate": "2020-10-26T16:18:57Z", "message": "Clean code: Reformat code - no logic changed, only white-space."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "08a2bf75bce4c24112f14c93580483d6f883d168", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/08a2bf75bce4c24112f14c93580483d6f883d168", "committedDate": "2020-10-26T16:18:57Z", "message": "Clean code: Cleanup `ValidityComparator` so it is more readable. There is good unit-test coverage on this, so refactoring is safe."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6609663f6dde3a861cff87810f9912df38b191c8", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/6609663f6dde3a861cff87810f9912df38b191c8", "committedDate": "2020-10-26T16:18:58Z", "message": "Clean code: Add `toString()` to the Netex import hierarchical types for easier debugging."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee05ef33a25497d9d3b37cdbde920b9264a6ab1a", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/ee05ef33a25497d9d3b37cdbde920b9264a6ab1a", "committedDate": "2020-10-26T16:18:58Z", "message": "Clean code: Remove unused parameters in NetexModule."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "56ad7ad16cd0332b41d8884a2bc4332158b5560a", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/56ad7ad16cd0332b41d8884a2bc4332158b5560a", "committedDate": "2020-10-26T17:19:26Z", "message": "doc: Add design doc to NeTEx the netex import, and move the NetexBundle to root package."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "00b1b899d6c5d4577d034910b84e7d5e64504c31", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/00b1b899d6c5d4577d034910b84e7d5e64504c31", "committedDate": "2020-10-26T17:19:36Z", "message": "clean code: Move mapping from loader to root. The process is load and map, not map as part of loading."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f209fd3a04fbbbbbfeceaa8a7a9455fb820f7f09", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/f209fd3a04fbbbbbfeceaa8a7a9455fb820f7f09", "committedDate": "2020-10-26T17:19:36Z", "message": "clean code: Create package `index` for all classes used to index entities. The loader build the index, and the mapper maps it to the OTP model."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "549bc708e1388d0be719c2724c8f275794bafe36", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/549bc708e1388d0be719c2724c8f275794bafe36", "committedDate": "2020-10-26T17:19:36Z", "message": "clean code: Rename `utils` to `hierarchy`. The Hierarchy support arranging data into a hierarchical data structure, throwing away entities when done loading and mapping one \"level\"."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "41f85299fc9dbd653980f9acae0aaa21d9808e90", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/41f85299fc9dbd653980f9acae0aaa21d9808e90", "committedDate": "2020-10-26T17:19:37Z", "message": "clean code: Move Netex classes into loader, index and mapping packages based on where they belong."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d8df8129e8d8bddf8c223e964d2448cf3c82da47", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/d8df8129e8d8bddf8c223e964d2448cf3c82da47", "committedDate": "2020-10-26T17:19:37Z", "message": "clean code: Move Netex classes into loader, index and mapping packages based on where tey belong."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "386df05a8fc50057dd0dcd2279d6bc7d6921828d", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/386df05a8fc50057dd0dcd2279d6bc7d6921828d", "committedDate": "2020-10-26T17:19:37Z", "message": "clean code: Make Netex mapping classes package local, if suitable."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ef0f13163c5da1f0d98d408e41281f3e1c13c4af", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/ef0f13163c5da1f0d98d408e41281f3e1c13c4af", "committedDate": "2020-10-26T17:19:37Z", "message": "clean code: Move Netex index interfaces/api classes into the index.api package. This prevent cyclic dependencies and allow for a cleaner dependency graph."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fff4a8ee8c5749c7376cd55afed4f53b47d4a58b", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/fff4a8ee8c5749c7376cd55afed4f53b47d4a58b", "committedDate": "2020-10-26T16:45:50Z", "message": "clean code: Move Netex index interfaces/api classes into the index.api package. This prevent cyclic dependencies and allow for a cleaner dependency graph."}, "afterCommit": {"oid": "ef0f13163c5da1f0d98d408e41281f3e1c13c4af", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/ef0f13163c5da1f0d98d408e41281f3e1c13c4af", "committedDate": "2020-10-26T17:19:37Z", "message": "clean code: Move Netex index interfaces/api classes into the index.api package. This prevent cyclic dependencies and allow for a cleaner dependency graph."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3NDcyODI3", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3223#pullrequestreview-517472827", "createdAt": "2020-10-27T08:58:33Z", "commit": {"oid": "ef0f13163c5da1f0d98d408e41281f3e1c13c4af"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwODo1ODozNFrOHoxdrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yN1QwODo1ODozNFrOHoxdrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMjUxNTUwMg==", "bodyText": "Change to spider web.", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3223#discussion_r512515502", "createdAt": "2020-10-27T08:58:34Z", "author": {"login": "t2gran"}, "path": "src/main/java/org/opentripplanner/datastore/FileType.java", "diffHunk": "@@ -14,7 +14,7 @@\n   DEM(\"\ud83c\udfd4\", \"Elevation data\"),\n   GTFS(\"\ud83d\ude8c\", \"GTFS data\"),\n   NETEX(\"\ud83d\ude8c\", \"NeTEx data\"),\n-  GRAPH(\"\ud83e\udda0\", \"OTP Graph file\"),\n+  GRAPH(\"\ud83d\udc8e\", \"OTP Graph file\"),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ef0f13163c5da1f0d98d408e41281f3e1c13c4af"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a2bd40e6b95ac0557a19faef2a608774f9e225f4", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/a2bd40e6b95ac0557a19faef2a608774f9e225f4", "committedDate": "2020-10-27T09:42:41Z", "message": "Merge branch 'dev-2.x' into otp2_dsj_1_clean_code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76762d5cdb823aa27d8cabb728627498af555382", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/76762d5cdb823aa27d8cabb728627498af555382", "committedDate": "2020-10-27T11:37:21Z", "message": "Merge branch 'dev-2.x' into otp2_dsj_1_clean_code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ace0a40d93ba759b8e00e5cdf40caa6ea28c1724", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/ace0a40d93ba759b8e00e5cdf40caa6ea28c1724", "committedDate": "2020-10-27T11:51:07Z", "message": "icon: Use the grid-earth \ud83c\udf10 as icon for the OTP graph. Unicode: U+1F310, UTF-8: F0 9F 8C 90."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4NDE4NTMy", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3223#pullrequestreview-518418532", "createdAt": "2020-10-28T08:27:01Z", "commit": {"oid": "ace0a40d93ba759b8e00e5cdf40caa6ea28c1724"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2004, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}