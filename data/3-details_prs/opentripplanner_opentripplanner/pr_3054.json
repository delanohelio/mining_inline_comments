{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEwNjIzMDU0", "number": 3054, "title": "Improve error handling for routing calls", "bodyText": "To be completed by pull request submitter:\n\n issue: Link to or create an issue that describes the relevant feature or bug. Add GitHub keywords to this PR's description (e.g., closes #45).\n roadmap: Check the roadmap for this feature or bug. If it is not already on the roadmap, PLC will discuss as part of the review process.\n tests: Have you added relevant test coverage? Are all the tests passing on the continuous integration service (Travis CI)?\n formatting: Have you followed the suggested code style?\n documentation: If you are adding a new configuration option, have you added an explanation to the configuration documentation tables and sections?\n changelog: add a bullet point to the changelog file with description and link to the linked issue\n\nTo be completed by @opentripplanner/plc:\n\n reviews and approvals by 2 members, ideally from different organizations\n after merging: update the relevant card on the roadmap\n\nThis pull request further separates the internal error handling from the rest and Transmodel APIs. It also allows catches exceptions from transit routing and direct street routing separately, allowing one to fail while the other returns a result.\nWhat I have done:\n\nMove Request/Response classes to routing/api package.\nCreated a new RoutingError class, as well as RoutingErrorCode and InputField enums.\nCreated a new RoutingValidationException which contains a RoutingError.\nCatch RoutingValidationExceptions from transit routing and direct street routing separately. A list of RoutingErrors is returned with the RoutingResponse. Other exceptions are not caught at this level.\nDifferentiate between LOCATION_NOT_FOUND and NO_STOPS_IN_RANGE. OUTSIDE_BOUNDS and OUTSIDE_SERVICE_PERIOD still not in use.\nCreated PlannerErrorMapper class to to map RoutingError to REST API PlannerError.", "createdAt": "2020-04-29T10:26:34Z", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3054", "merged": true, "mergeCommit": {"oid": "fb8096e56a17556146545577bc5f9d867b5ba457"}, "closed": true, "closedAt": "2020-05-15T17:05:50Z", "author": {"login": "gmellemstrand"}, "timelineItems": {"totalCount": 29, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccUJ4DgH2gAyNDEwNjIzMDU0OjViNTVjZGYyMjk4ZGQxZjIwMzEzNzk3MDMwYTczNjZkOGFlNDNhYTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABchlMcqAFqTQxMjgyMTAzOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5b55cdf2298dd1f20313797030a7366d8ae43aa4", "author": {"user": {"login": "gmellemstrand", "name": null}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/5b55cdf2298dd1f20313797030a7366d8ae43aa4", "committedDate": "2020-04-29T08:24:51Z", "message": "Move internal request/response classes to routing.api package"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "506366d8064ea5de24aa94d16032d02a9601766c", "author": {"user": {"login": "gmellemstrand", "name": null}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/506366d8064ea5de24aa94d16032d02a9601766c", "committedDate": "2020-04-29T08:41:10Z", "message": "Added RoutingError class and RoutingErrorCode enum"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "480796b5e076a2337a1b7e64cd0927980ce6e68f", "author": {"user": {"login": "gmellemstrand", "name": null}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/480796b5e076a2337a1b7e64cd0927980ce6e68f", "committedDate": "2020-04-29T10:13:40Z", "message": "Catch separate exceptions for direct/transit routing, add NoStopsInRangeException"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1ee6129ea6d6abb5a1b62a1fe81c36ce4a44132", "author": {"user": {"login": "gmellemstrand", "name": null}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/a1ee6129ea6d6abb5a1b62a1fe81c36ce4a44132", "committedDate": "2020-04-29T10:14:10Z", "message": "Map RoutingError to rest API"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyNTQyNDUy", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3054#pullrequestreview-402542452", "createdAt": "2020-04-29T10:29:10Z", "commit": {"oid": "a1ee6129ea6d6abb5a1b62a1fe81c36ce4a44132"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMDoyOToxMVrOGN4yuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMDoyOToxMVrOGN4yuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzIxNTE2MA==", "bodyText": "The RoutingService is the main entry point of the org.opentripplanner.routing package and should be in the root.", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3054#discussion_r417215160", "createdAt": "2020-04-29T10:29:11Z", "author": {"login": "t2gran"}, "path": "src/main/java/org/opentripplanner/routing/api/request/RoutingService.java", "diffHunk": "@@ -1,4 +1,4 @@\n-package org.opentripplanner.routing;\n+package org.opentripplanner.routing.api.request;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1ee6129ea6d6abb5a1b62a1fe81c36ce4a44132"}, "originalPosition": 2}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyNTQzNzA0", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3054#pullrequestreview-402543704", "createdAt": "2020-04-29T10:31:07Z", "commit": {"oid": "a1ee6129ea6d6abb5a1b62a1fe81c36ce4a44132"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMDozMTowN1rOGN42vA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMDozMTowN1rOGN42vA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzIxNjE4OA==", "bodyText": "We should throw OTPApplicationException to exit a search, so we do not need the SYSTEM_ERROR here. we do need it on the API enum.", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3054#discussion_r417216188", "createdAt": "2020-04-29T10:31:07Z", "author": {"login": "t2gran"}, "path": "src/main/java/org/opentripplanner/routing/api/response/RoutingErrorCode.java", "diffHunk": "@@ -0,0 +1,25 @@\n+package org.opentripplanner.routing.api.response;\n+\n+public enum RoutingErrorCode {\n+  SYSTEM_ERROR,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1ee6129ea6d6abb5a1b62a1fe81c36ce4a44132"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyNTQ2NTU1", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3054#pullrequestreview-402546555", "createdAt": "2020-04-29T10:35:42Z", "commit": {"oid": "a1ee6129ea6d6abb5a1b62a1fe81c36ce4a44132"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMDozNTo0MlrOGN5AKA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMDozNTo0MlrOGN5AKA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzIxODYwMA==", "bodyText": "I think we need to be more specific: FROM_PLACE_NOT_FOUND, TO_PLACE_NOT_FOUND (INTERMEDIATE_PLACE_NOT_FOUND when supporting via search)", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3054#discussion_r417218600", "createdAt": "2020-04-29T10:35:42Z", "author": {"login": "t2gran"}, "path": "src/main/java/org/opentripplanner/routing/api/response/RoutingErrorCode.java", "diffHunk": "@@ -0,0 +1,25 @@\n+package org.opentripplanner.routing.api.response;\n+\n+public enum RoutingErrorCode {\n+  SYSTEM_ERROR,\n+\n+  /**\n+   * Location was found, but it was located outside the street network.\n+   */\n+  OUTSIDE_BOUNDS,\n+\n+  /**\n+   * The time provided was outside the available service period.\n+   */\n+  OUTSIDE_SERVICE_PERIOD,\n+\n+  /**\n+   * The location could not be matched to a valid id or coordinate.\n+   */\n+  LOCATION_NOT_FOUND,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1ee6129ea6d6abb5a1b62a1fe81c36ce4a44132"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyNTUxNjk4", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3054#pullrequestreview-402551698", "createdAt": "2020-04-29T10:44:07Z", "commit": {"oid": "a1ee6129ea6d6abb5a1b62a1fe81c36ce4a44132"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMDo0NDowN1rOGN5Q1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMDo0NDowN1rOGN5Q1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzIyMjg3MQ==", "bodyText": "Improve doc: \"Location found, but no stops found within the search radius.\"", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3054#discussion_r417222871", "createdAt": "2020-04-29T10:44:07Z", "author": {"login": "t2gran"}, "path": "src/main/java/org/opentripplanner/routing/api/response/RoutingErrorCode.java", "diffHunk": "@@ -0,0 +1,25 @@\n+package org.opentripplanner.routing.api.response;\n+\n+public enum RoutingErrorCode {\n+  SYSTEM_ERROR,\n+\n+  /**\n+   * Location was found, but it was located outside the street network.\n+   */\n+  OUTSIDE_BOUNDS,\n+\n+  /**\n+   * The time provided was outside the available service period.\n+   */\n+  OUTSIDE_SERVICE_PERIOD,\n+\n+  /**\n+   * The location could not be matched to a valid id or coordinate.\n+   */\n+  LOCATION_NOT_FOUND,\n+\n+  /**\n+   * The location was found, but no stops could be connected within the search radius.\n+   */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1ee6129ea6d6abb5a1b62a1fe81c36ce4a44132"}, "originalPosition": 23}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyNTU1MjA4", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3054#pullrequestreview-402555208", "createdAt": "2020-04-29T10:49:51Z", "commit": {"oid": "a1ee6129ea6d6abb5a1b62a1fe81c36ce4a44132"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMDo0OTo1MVrOGN5cUg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMDo0OTo1MVrOGN5cUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzIyNTgxMA==", "bodyText": "The parameter value here is probably not a good idea, I know I suggested it, but since we want typed parameters as input, the \"original\" API input string is not available. So the best we can do is to report back witch input field that failed to validate. We should use an enum for the input fields.", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3054#discussion_r417225810", "createdAt": "2020-04-29T10:49:51Z", "author": {"login": "t2gran"}, "path": "src/main/java/org/opentripplanner/routing/api/response/RoutingError.java", "diffHunk": "@@ -0,0 +1,13 @@\n+package org.opentripplanner.routing.api.response;\n+\n+public class RoutingError {\n+  public final RoutingErrorCode code;\n+  public final String message;\n+  public final String paramValue;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1ee6129ea6d6abb5a1b62a1fe81c36ce4a44132"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyNTYwODIz", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3054#pullrequestreview-402560823", "createdAt": "2020-04-29T10:59:09Z", "commit": {"oid": "a1ee6129ea6d6abb5a1b62a1fe81c36ce4a44132"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMDo1OTowOVrOGN5ueQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMDo1OTowOVrOGN5ueQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzIzMDQ1Nw==", "bodyText": "You should only catch business specific exceptions that can be mapped to a RoutingError.", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3054#discussion_r417230457", "createdAt": "2020-04-29T10:59:09Z", "author": {"login": "t2gran"}, "path": "src/main/java/org/opentripplanner/routing/algorithm/RoutingWorker.java", "diffHunk": "@@ -63,29 +65,53 @@ public RoutingWorker(RaptorConfig<TripSchedule> config, RoutingRequest request)\n     }\n \n     public RoutingResponse route(Router router) {\n-        try {\n-            List<Itinerary> itineraries;\n+        List<Itinerary> itineraries = new ArrayList<>();\n+        List<RoutingError> routingErrors = new ArrayList<>();\n \n+        try {\n             // Direct street routing\n-            itineraries = new ArrayList<>(DirectStreetRouter.route(router, request));\n+            itineraries.addAll(DirectStreetRouter.route(router, request));\n+        } catch (Exception e) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1ee6129ea6d6abb5a1b62a1fe81c36ce4a44132"}, "originalPosition": 37}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyNTY2MjMz", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3054#pullrequestreview-402566233", "createdAt": "2020-04-29T11:08:00Z", "commit": {"oid": "a1ee6129ea6d6abb5a1b62a1fe81c36ce4a44132"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMTowODowMFrOGN5_Rw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMTowODowMFrOGN5_Rw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzIzNDc1OQ==", "bodyText": "I would make the routingErrors a member of the request scoped Worker class - then each of the two try/catch blocks can be moved into their own methods and don\u00b4t interrupt the reading of the main flow. This have the side-effect of changing the state of the worker, so that should be documented for each of the methods.", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3054#discussion_r417234759", "createdAt": "2020-04-29T11:08:00Z", "author": {"login": "t2gran"}, "path": "src/main/java/org/opentripplanner/routing/algorithm/RoutingWorker.java", "diffHunk": "@@ -63,29 +65,53 @@ public RoutingWorker(RaptorConfig<TripSchedule> config, RoutingRequest request)\n     }\n \n     public RoutingResponse route(Router router) {\n-        try {\n-            List<Itinerary> itineraries;\n+        List<Itinerary> itineraries = new ArrayList<>();\n+        List<RoutingError> routingErrors = new ArrayList<>();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1ee6129ea6d6abb5a1b62a1fe81c36ce4a44132"}, "originalPosition": 31}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyNTcwODY0", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3054#pullrequestreview-402570864", "createdAt": "2020-04-29T11:15:44Z", "commit": {"oid": "a1ee6129ea6d6abb5a1b62a1fe81c36ce4a44132"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMToxNTo0NFrOGN6NeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yOVQxMToxNTo0NFrOGN6NeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNzIzODM5Mg==", "bodyText": "We do not need to distinguish between different error situation, so this exception should be more general like e.g. RoutingValidationException and include the RoutingError. Then maybe the error handling in RoutingWorker collapses to one line and you do not need to make the routingErrors class scoped (witch is not ideal).", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3054#discussion_r417238392", "createdAt": "2020-04-29T11:15:44Z", "author": {"login": "t2gran"}, "path": "src/main/java/org/opentripplanner/routing/error/NoStopsInRangeException.java", "diffHunk": "@@ -0,0 +1,21 @@\n+package org.opentripplanner.routing.error;\n+\n+import java.util.List;\n+\n+/**\n+ * Indicates that a vertex was found, but no stops could be found within the search radius.\n+ */\n+public class NoStopsInRangeException extends RuntimeException {\n+  private static final long serialVersionUID = 1L;\n+\n+  List<String> missing;\n+\n+  public NoStopsInRangeException(List<String> missing) {\n+    super(\"vertices not found: \" + missing.toString());\n+    this.missing = missing;\n+  }\n+\n+  public List<String> getMissing() {\n+    return missing;\n+  }\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a1ee6129ea6d6abb5a1b62a1fe81c36ce4a44132"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c0eeeb07b43d48f28c9bb527872c7221b32b2c4a", "author": {"user": {"login": "gmellemstrand", "name": null}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/c0eeeb07b43d48f28c9bb527872c7221b32b2c4a", "committedDate": "2020-04-29T12:23:11Z", "message": "Move RoutingService back to root of routing package"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b1d3c97fc504255cafb45a8ac5b6e89d77c7f516", "author": {"user": {"login": "gmellemstrand", "name": null}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/b1d3c97fc504255cafb45a8ac5b6e89d77c7f516", "committedDate": "2020-04-29T12:24:47Z", "message": "Added RoutingValidationException which contains a RoutingError"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9504d9a5d8b30407da7b3480408fdbaeefb79607", "author": {"user": {"login": "gmellemstrand", "name": null}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/9504d9a5d8b30407da7b3480408fdbaeefb79607", "committedDate": "2020-04-30T08:12:49Z", "message": "Change paramValue to InputField enum and change VertexNotFoundException to use RoutingValidationException instead"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "53f88df69fff597404a84d8e60861ee571dfc910", "author": {"user": {"login": "gmellemstrand", "name": null}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/53f88df69fff597404a84d8e60861ee571dfc910", "committedDate": "2020-04-30T09:07:44Z", "message": "Refactor PlannerError to not map from Exceptions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b414f845cad3828b70baa1d836a5eefcf393c457", "author": {"user": {"login": "gmellemstrand", "name": null}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/b414f845cad3828b70baa1d836a5eefcf393c457", "committedDate": "2020-04-30T09:10:43Z", "message": "Delete TransitTimesException. This should be handled by RoutingValidationException"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1ae91b70c7f4dc217f5306164455610e23b0fdee", "author": {"user": {"login": "gmellemstrand", "name": null}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/1ae91b70c7f4dc217f5306164455610e23b0fdee", "committedDate": "2020-04-30T09:16:14Z", "message": "Delete VertexNotFoundException. This should be handled by RoutingValidationException"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac9369b103106b1d16d26152ddad5b06fcba8b37", "author": {"user": {"login": "gmellemstrand", "name": null}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/ac9369b103106b1d16d26152ddad5b06fcba8b37", "committedDate": "2020-04-30T09:29:29Z", "message": "Removed message from RoutingValidationException. It can be added back if it is needed"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7ab2afd3ea52b66fec43b839a10bdb82ab5bf0a1", "author": {"user": {"login": "gmellemstrand", "name": null}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/7ab2afd3ea52b66fec43b839a10bdb82ab5bf0a1", "committedDate": "2020-04-30T09:18:33Z", "message": "Remove message field from RoutingError. It can be added back if it is needed"}, "afterCommit": {"oid": "ac9369b103106b1d16d26152ddad5b06fcba8b37", "author": {"user": {"login": "gmellemstrand", "name": null}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/ac9369b103106b1d16d26152ddad5b06fcba8b37", "committedDate": "2020-04-30T09:29:29Z", "message": "Removed message from RoutingValidationException. It can be added back if it is needed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "50a4b399e26e0227a2ec8906253e6754cc987cd9", "author": {"user": {"login": "gmellemstrand", "name": null}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/50a4b399e26e0227a2ec8906253e6754cc987cd9", "committedDate": "2020-05-04T08:29:49Z", "message": "Call checkIfVerticesNotFound on transit and direct routing methods"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1NjY5NzUz", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3054#pullrequestreview-405669753", "createdAt": "2020-05-05T10:36:29Z", "commit": {"oid": "50a4b399e26e0227a2ec8906253e6754cc987cd9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxMDozNjozMFrOGQjmBA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNVQxMDozNjozMFrOGQjmBA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDAxMzU3Mg==", "bodyText": "Add some TODO OTP2 here for unused codes.", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3054#discussion_r420013572", "createdAt": "2020-05-05T10:36:30Z", "author": {"login": "t2gran"}, "path": "src/main/java/org/opentripplanner/routing/api/response/RoutingErrorCode.java", "diffHunk": "@@ -0,0 +1,23 @@\n+package org.opentripplanner.routing.api.response;\n+\n+public enum RoutingErrorCode {\n+  /**\n+   * Location was found, but it was located outside the street network.\n+   */\n+  OUTSIDE_BOUNDS,\n+\n+  /**\n+   * The time provided was outside the available service period.\n+   */\n+  OUTSIDE_SERVICE_PERIOD,\n+\n+  /**\n+   * The location could not be matched to a valid id or coordinate.\n+   */\n+  LOCATION_NOT_FOUND,\n+\n+  /**\n+   * The location was found, but no stops could be found within the search radius.\n+   */\n+  NO_STOPS_IN_RANGE\n+}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50a4b399e26e0227a2ec8906253e6754cc987cd9"}, "originalPosition": 23}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a064b0f95cc627187b57460f231759727642482", "author": {"user": {"login": "gmellemstrand", "name": null}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/3a064b0f95cc627187b57460f231759727642482", "committedDate": "2020-05-06T10:02:38Z", "message": "Allow multiple RoutingErrors in each RoutingValidationException"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8a694866e72eba0e2397a9ca88c4e57675f44fd9", "author": {"user": {"login": "gmellemstrand", "name": null}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/8a694866e72eba0e2397a9ca88c4e57675f44fd9", "committedDate": "2020-05-06T10:04:56Z", "message": "Add TODOs for RoutingErrorCodes that are not in use"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "04bd1627ff52cca0f6703783d8ae3d291dbc963a", "author": {"user": {"login": "t2gran", "name": "Thomas Gran"}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/04bd1627ff52cca0f6703783d8ae3d291dbc963a", "committedDate": "2020-05-12T09:09:25Z", "message": "Merge branch 'dev-2.x' into otp2_error_handling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5df2b52a02b1f05325b577045ada5fb89791abf9", "author": {"user": {"login": "gmellemstrand", "name": null}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/5df2b52a02b1f05325b577045ada5fb89791abf9", "committedDate": "2020-05-14T09:02:17Z", "message": "Merge branch 'dev-2.x' into otp2_error_handling"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f5e1025200e6be4b116b5afbf5277cda2c36d55c", "author": {"user": {"login": "gmellemstrand", "name": null}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/f5e1025200e6be4b116b5afbf5277cda2c36d55c", "committedDate": "2020-05-14T10:47:54Z", "message": "Move setRoutingContext to within routing methods, so that exceptions are caught at the right place"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ea248eb99ccbe2d5d47a18072f14c440a5741038", "author": {"user": {"login": "gmellemstrand", "name": null}}, "url": "https://github.com/opentripplanner/OpenTripPlanner/commit/ea248eb99ccbe2d5d47a18072f14c440a5741038", "committedDate": "2020-05-15T10:13:13Z", "message": "Add error message for no transit connection"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEyODIxMDM4", "url": "https://github.com/opentripplanner/OpenTripPlanner/pull/3054#pullrequestreview-412821038", "createdAt": "2020-05-15T17:05:40Z", "commit": {"oid": "ea248eb99ccbe2d5d47a18072f14c440a5741038"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2109, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}