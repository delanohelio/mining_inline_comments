{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE0MzQ5MzAz", "number": 1155, "title": "\u0414\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0434\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0438 \u041e\u0448\u0438\u0431\u043a\u0430 \u043d\u0435\u044f\u0432\u043d\u043e\u0433\u043e \u043f\u0440\u0435\u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u044b\u0439\u0420\u0435\u0436\u0438\u043c", "bodyText": "\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\n\u0434\u043e\u0431\u0430\u0432\u0438\u043b \u043f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442-\u043a\u0435\u0439\u0441\u044b \u0438 \u0438\u0445 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443\n\n\u0442\u0435\u043f\u0435\u0440\u044c \u043b\u043e\u0432\u044f\u0442\u0441\u044f \u0442\u043e\u043b\u044c\u043a\u043e \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0432 \u0415\u0441\u043b\u0438\\\u0418\u043d\u0430\u0447\u0435\u0415\u0441\u043b\u0438\n\n\u0438 \u043d\u0435 \u043b\u043e\u0432\u0438\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u044b\u0439\u0420\u0435\u0436\u0438\u043c \u0432\u043d\u0443\u0442\u0440\u0438 \u043a\u043e\u0434\u0430 \u0431\u043b\u043e\u043a\u0430 \u0415\u0441\u043b\u0438\\\u0418\u043d\u0430\u0447\u0435\u0415\u0441\u043b\u0438, \u043d\u0435 \u0432 \u0443\u0441\u043b\u043e\u0432\u0438\u0438\n\n\n\u043b\u043e\u0432\u0438\u0442\u0441\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u0445\n\u0443\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u0435 \u043f\u0435\u0440\u0435\u0431\u043e\u0440\u0430 \u044d\u043b\u0435\u043c\u0435\u043d\u0442\u043e\u0432\n\n\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438\n\n\n\n\n\n\nCloses:#1044\n\u0414\u043e\u043f\u043e\u043b\u043d\u044f\u0435\u0442 #1141\n\u0427\u0435\u043a\u043b\u0438\u0441\u0442\n\n\n\u041e\u0431\u0449\u0438\u0435\n\n \u0412\u0435\u0442\u043a\u0430 PR \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0438\u0437 develop\n \u041e\u0442\u043b\u0430\u0434\u043e\u0447\u043d\u044b\u0435, \u0437\u0430\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0438 \u043f\u0440\u043e\u0447\u0438\u0435, \u043d\u0435 \u0438\u043c\u0435\u044e\u0449\u0438\u0435 \u0441\u043c\u044b\u0441\u043b\u0430 \u0443\u0447\u0430\u0441\u0442\u043a\u0438 \u043a\u043e\u0434\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u044b\n \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u043a\u0440\u044b\u0442\u044b \u0442\u0435\u0441\u0442\u0430\u043c\u0438\n \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u0435\u0440\u0435\u0434 \u043a\u043e\u043c\u043c\u0438\u0442\u043e\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u044b (\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u043b \u043a\u043e\u043c\u0430\u043d\u0434\u0443 gradlew precommit)\n\n\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e", "createdAt": "2020-05-06T21:42:17Z", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1155", "merged": true, "mergeCommit": {"oid": "988b7e752387d0d038c244851223193d32c3224c"}, "closed": true, "closedAt": "2020-05-11T18:29:48Z", "author": {"login": "artbear"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcerLayAH2gAyNDE0MzQ5MzAzOjZlMWE4NjI2NTM3NTJkMjAzNmFhYWRiYjg1MDk2ODIwMWEzZGU0OTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABce_5UNAH2gAyNDE0MzQ5MzAzOmFjMzhjYmVkZTU0ODBjOWRhOWNhOTEyMjMxYjM4OWNlNzFmYzhhZmQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "6e1a862653752d2036aaadbb850968201a3de492", "author": {"user": {"login": "artbear", "name": "Artur Ayukhanov"}}, "url": "https://github.com/1c-syntax/bsl-language-server/commit/6e1a862653752d2036aaadbb850968201a3de492", "committedDate": "2020-05-06T16:22:12Z", "message": "\u0434\u043e\u0431\u0430\u0432\u0438\u043b \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u043f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0445 \u0442\u0435\u0441\u0442-\u043a\u0435\u0439\u0441\u043e\u0432\n\n\u0432\u043e\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043b\u0441\u044f \u0448\u0442\u0430\u0442\u043d\u044b\u043c \u043c\u0435\u0442\u043e\u0434\u043e\u0432 \u0441\u0440\u0430\u0432\u043d\u0435\u043d\u0438\u044f \u0441 \u0440\u0435\u0433\u0443\u043b\u044f\u0440\u043a\u043e\u0439\n\u0443\u0441\u043a\u043e\u0440\u0438\u043b \u0440\u0430\u0431\u043e\u0442\u0443 \u043f\u0440\u0430\u0432\u0438\u043b\u0430"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c77f0dc24628ad9c4070debb221b2ea3237e6fba", "author": {"user": {"login": "artbear", "name": "Artur Ayukhanov"}}, "url": "https://github.com/1c-syntax/bsl-language-server/commit/c77f0dc24628ad9c4070debb221b2ea3237e6fba", "committedDate": "2020-05-06T16:24:09Z", "message": "\u043f\u0440\u043e\u043f\u0443\u0449\u0435\u043d\u043d\u044b\u0435 \u0442\u0435\u0441\u0442-\u043a\u0435\u0439\u0441\u044b"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ab23128d9e1193ee1a8bf3cdebd356177be6ae06", "author": {"user": {"login": "artbear", "name": "Artur Ayukhanov"}}, "url": "https://github.com/1c-syntax/bsl-language-server/commit/ab23128d9e1193ee1a8bf3cdebd356177be6ae06", "committedDate": "2020-05-06T21:19:11Z", "message": "\u043f\u0430\u0434\u0430\u044e\u0449\u0438\u0435 \u0442\u0435\u0441\u0442\u044b"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1c4631581fce444d9b28ba20b4250bc557b6759e", "author": {"user": {"login": "artbear", "name": "Artur Ayukhanov"}}, "url": "https://github.com/1c-syntax/bsl-language-server/commit/1c4631581fce444d9b28ba20b4250bc557b6759e", "committedDate": "2020-05-06T21:36:27Z", "message": "\u0438\u0441\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u0430\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f - \u043b\u043e\u0432\u044f\u0442\u0441\u044f \u0443\u0441\u043b\u043e\u0432\u0438\u044f \u0432 \u0415\u0441\u043b\u0438\\\u0418\u043d\u0430\u0447\u0435\u0415\u0441\u043b\u0438 + \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0432 \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u0432\u044b\u0440\u0430\u0436\u0435\u043d\u0438\u044f\u0445"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60763957e932467297e30e620f1845bacb916295", "author": {"user": {"login": "artbear", "name": "Artur Ayukhanov"}}, "url": "https://github.com/1c-syntax/bsl-language-server/commit/60763957e932467297e30e620f1845bacb916295", "committedDate": "2020-05-06T21:36:48Z", "message": "\u0434\u043e\u0431\u0430\u0432\u0438\u043b \u0441\u0430\u043c\u044b\u0439 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u043a\u0435\u0439\u0441"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3NTE4ODM1", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1155#pullrequestreview-407518835", "createdAt": "2020-05-07T14:18:42Z", "commit": {"oid": "60763957e932467297e30e620f1845bacb916295"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNDoxODo0MlrOGSAz0A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNDoxODo0MlrOGSAz0A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTU0MDgxNg==", "bodyText": "\u043d\u0435 \u043d\u0430\u0434\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c List, \u0435\u0441\u043b\u0438 \u043e\u0442 \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u043d\u0443\u0436\u0435\u043d \u0442\u043e\u043b\u044c\u043a\u043e \u043b\u0438\u0448\u044c contains. \u0434\u043b\u044f \u044d\u0442\u0438\u0445 \u0446\u0435\u043b\u0435\u0439 \u0441\u043b\u0435\u0434\u0443\u0435\u0442 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c Set.", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1155#discussion_r421540816", "createdAt": "2020-05-07T14:18:42Z", "author": {"login": "nixel2007"}, "path": "src/main/java/com/github/_1c_syntax/bsl/languageserver/diagnostics/UnsafeSafeModeMethodCallDiagnostic.java", "diffHunk": "@@ -52,6 +54,11 @@\n     \"(\u0411\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u044b\u0439\u0420\u0435\u0436\u0438\u043c|SafeMode)\",\n     Pattern.CASE_INSENSITIVE | Pattern.UNICODE_CASE\n   );\n+  private static final List<Integer> ROOT_LIST = Arrays.asList(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60763957e932467297e30e620f1845bacb916295"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3NTE5MjQ2", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1155#pullrequestreview-407519246", "createdAt": "2020-05-07T14:19:05Z", "commit": {"oid": "60763957e932467297e30e620f1845bacb916295"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNDoxOTowNVrOGSA04Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNDoxOTowNVrOGSA04Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTU0MTA4OQ==", "bodyText": "\u0442\u0435\u043f\u0435\u0440\u044c \u043e\u0447\u0435\u043d\u044c \u043c\u043d\u043e\u0433\u043e \u0432\u043e\u0437\u0432\u0440\u0430\u0442\u043e\u0432. \u0441\u043e\u043d\u0430\u0440 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u043d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 \u0442\u0440\u0435\u0445.", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1155#discussion_r421541089", "createdAt": "2020-05-07T14:19:05Z", "author": {"login": "nixel2007"}, "path": "src/main/java/com/github/_1c_syntax/bsl/languageserver/diagnostics/UnsafeSafeModeMethodCallDiagnostic.java", "diffHunk": "@@ -65,26 +72,52 @@ protected boolean checkMethodCall(BSLParser.MethodCallContext ctx) {\n   @Override\n   protected boolean checkGlobalMethodCall(BSLParser.GlobalMethodCallContext ctx) {\n \n-    BSLParserRuleContext rootIfNode = null;\n-    BSLParserRuleContext rootExpressionNode = null;\n-    BSLParserRuleContext currentRootMember = null;\n+    if (!super.checkGlobalMethodCall(ctx)){\n+      return false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60763957e932467297e30e620f1845bacb916295"}, "originalPosition": 29}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3NTIwMjA3", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1155#pullrequestreview-407520207", "createdAt": "2020-05-07T14:20:05Z", "commit": {"oid": "60763957e932467297e30e620f1845bacb916295"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNDoyMDowNVrOGSA4Ag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNDoyMDowNVrOGSA4Ag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTU0MTg5MA==", "bodyText": "\u0435\u0441\u043b\u0438 \u044d\u0442\u043e \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043d\u0430 currentRootMember.unary() != null, \u0442\u043e \u0435\u0435 \u0441\u0442\u043e\u0438\u0442 \u043f\u0435\u0440\u0435\u043f\u0438\u0441\u0430\u0442\u044c", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1155#discussion_r421541890", "createdAt": "2020-05-07T14:20:05Z", "author": {"login": "nixel2007"}, "path": "src/main/java/com/github/_1c_syntax/bsl/languageserver/diagnostics/UnsafeSafeModeMethodCallDiagnostic.java", "diffHunk": "@@ -65,26 +72,52 @@ protected boolean checkMethodCall(BSLParser.MethodCallContext ctx) {\n   @Override\n   protected boolean checkGlobalMethodCall(BSLParser.GlobalMethodCallContext ctx) {\n \n-    BSLParserRuleContext rootIfNode = null;\n-    BSLParserRuleContext rootExpressionNode = null;\n-    BSLParserRuleContext currentRootMember = null;\n+    if (!super.checkGlobalMethodCall(ctx)){\n+      return false;\n+    }\n \n-    if (SAFE_MODE_METHOD_NAME.matcher(ctx.methodName().getText()).matches()) {\n-      rootIfNode = Trees.getRootParent(ctx, BSLParser.RULE_ifStatement);\n-      rootExpressionNode = Trees.getRootParent(ctx, BSLParser.RULE_expression);\n-      currentRootMember = Trees.getRootParent(ctx, BSLParser.RULE_member);\n+    BSLParserRuleContext currentRootMember = Trees.getRootParent(ctx, BSLParser.RULE_member);\n+    if (currentRootMember == null) {\n+      return false;\n     }\n+    if (((BSLParserRuleContext)currentRootMember.getChild(0)).getRuleIndex() == BSLParser.RULE_unaryModifier){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60763957e932467297e30e620f1845bacb916295"}, "originalPosition": 40}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3NTIyMzkz", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1155#pullrequestreview-407522393", "createdAt": "2020-05-07T14:22:19Z", "commit": {"oid": "60763957e932467297e30e620f1845bacb916295"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNDoyMjoxOVrOGSA_HA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNDoyMjoxOVrOGSA_HA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTU0MzcwOA==", "bodyText": "\u0435\u043c\u043d\u0438\u043f, \u0432 \u0441\u043e\u0441\u0435\u0434\u043d\u0438\u0445 \u043c\u0435\u0442\u043e\u0434\u0430\u0445 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442\u0441\u044f varargs \u0441 \u043f\u0440\u0438\u043c\u0438\u0442\u0438\u0432\u0430\u043c\u0438", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1155#discussion_r421543708", "createdAt": "2020-05-07T14:22:19Z", "author": {"login": "nixel2007"}, "path": "src/main/java/com/github/_1c_syntax/bsl/languageserver/utils/Trees.java", "diffHunk": "@@ -222,17 +222,34 @@ public static BSLParserRuleContext getRootParent(BSLParserRuleContext tnc) {\n   }\n \n   /**\n-   * \u0420\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u043e \u043d\u0430\u0445\u043e\u0434\u0438\u0442 \u0441\u0430\u043c\u043e\u0433\u043e \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043d\u043e\u0434\u044b \u043d\u0443\u0436\u043d\u043e \u0442\u0438\u043f\u0430\n+   * \u0420\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u043e \u043d\u0430\u0445\u043e\u0434\u0438\u0442 \u0441\u0430\u043c\u043e\u0433\u043e \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043d\u043e\u0434\u044b \u043d\u0443\u0436\u043d\u043e\u0433\u043e \u0442\u0438\u043f\u0430\n    */\n   public static BSLParserRuleContext getRootParent(BSLParserRuleContext tnc, int ruleindex) {\n-    if (tnc.getParent() == null) {\n+    final var parent = tnc.getParent();\n+    if (parent == null) {\n+      return null;\n+    }\n+\n+    if (getRuleIndex(parent) == ruleindex) {\n+      return (BSLParserRuleContext) parent;\n+    } else {\n+      return getRootParent((BSLParserRuleContext) parent, ruleindex);\n+    }\n+  }\n+\n+  /**\n+   * \u0420\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u043e \u043d\u0430\u0445\u043e\u0434\u0438\u0442 \u0441\u0430\u043c\u043e\u0433\u043e \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043d\u043e\u0434\u044b \u043e\u0434\u043d\u043e\u0433\u043e \u0438\u0437 \u043d\u0443\u0436\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432\n+   */\n+  public static BSLParserRuleContext getRootParent(BSLParserRuleContext tnc, List<Integer> indexes) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60763957e932467297e30e620f1845bacb916295"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3NTIyOTU5", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1155#pullrequestreview-407522959", "createdAt": "2020-05-07T14:22:54Z", "commit": {"oid": "60763957e932467297e30e620f1845bacb916295"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNDoyMjo1NFrOGSBA3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNDoyMjo1NFrOGSBA3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTU0NDE1Nw==", "bodyText": "\u0435\u0441\u043b\u0438 \u043c\u0435\u0442\u043e\u0434 \u043d\u043e\u0432\u044b\u0439, \u0442\u043e \u043d\u0443\u0436\u043d\u043e \u043f\u043e\u043b\u043d\u043e\u0441\u0442\u044c\u044e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u044c javadoc", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1155#discussion_r421544157", "createdAt": "2020-05-07T14:22:54Z", "author": {"login": "nixel2007"}, "path": "src/main/java/com/github/_1c_syntax/bsl/languageserver/utils/Trees.java", "diffHunk": "@@ -222,17 +222,34 @@ public static BSLParserRuleContext getRootParent(BSLParserRuleContext tnc) {\n   }\n \n   /**\n-   * \u0420\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u043e \u043d\u0430\u0445\u043e\u0434\u0438\u0442 \u0441\u0430\u043c\u043e\u0433\u043e \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043d\u043e\u0434\u044b \u043d\u0443\u0436\u043d\u043e \u0442\u0438\u043f\u0430\n+   * \u0420\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u043e \u043d\u0430\u0445\u043e\u0434\u0438\u0442 \u0441\u0430\u043c\u043e\u0433\u043e \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043d\u043e\u0434\u044b \u043d\u0443\u0436\u043d\u043e\u0433\u043e \u0442\u0438\u043f\u0430\n    */\n   public static BSLParserRuleContext getRootParent(BSLParserRuleContext tnc, int ruleindex) {\n-    if (tnc.getParent() == null) {\n+    final var parent = tnc.getParent();\n+    if (parent == null) {\n+      return null;\n+    }\n+\n+    if (getRuleIndex(parent) == ruleindex) {\n+      return (BSLParserRuleContext) parent;\n+    } else {\n+      return getRootParent((BSLParserRuleContext) parent, ruleindex);\n+    }\n+  }\n+\n+  /**\n+   * \u0420\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u043e \u043d\u0430\u0445\u043e\u0434\u0438\u0442 \u0441\u0430\u043c\u043e\u0433\u043e \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043d\u043e\u0434\u044b \u043e\u0434\u043d\u043e\u0433\u043e \u0438\u0437 \u043d\u0443\u0436\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432\n+   */\n+  public static BSLParserRuleContext getRootParent(BSLParserRuleContext tnc, List<Integer> indexes) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60763957e932467297e30e620f1845bacb916295"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA3NTIzMzgy", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1155#pullrequestreview-407523382", "createdAt": "2020-05-07T14:23:18Z", "commit": {"oid": "60763957e932467297e30e620f1845bacb916295"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNDoyMzoxOFrOGSBCGA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wN1QxNDoyMzoxOFrOGSBCGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMTU0NDQ3Mg==", "bodyText": "List#contains - \u044d\u0442\u043e \u043f\u043b\u043e\u0445\u043e.", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1155#discussion_r421544472", "createdAt": "2020-05-07T14:23:18Z", "author": {"login": "nixel2007"}, "path": "src/main/java/com/github/_1c_syntax/bsl/languageserver/utils/Trees.java", "diffHunk": "@@ -222,17 +222,34 @@ public static BSLParserRuleContext getRootParent(BSLParserRuleContext tnc) {\n   }\n \n   /**\n-   * \u0420\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u043e \u043d\u0430\u0445\u043e\u0434\u0438\u0442 \u0441\u0430\u043c\u043e\u0433\u043e \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043d\u043e\u0434\u044b \u043d\u0443\u0436\u043d\u043e \u0442\u0438\u043f\u0430\n+   * \u0420\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u043e \u043d\u0430\u0445\u043e\u0434\u0438\u0442 \u0441\u0430\u043c\u043e\u0433\u043e \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043d\u043e\u0434\u044b \u043d\u0443\u0436\u043d\u043e\u0433\u043e \u0442\u0438\u043f\u0430\n    */\n   public static BSLParserRuleContext getRootParent(BSLParserRuleContext tnc, int ruleindex) {\n-    if (tnc.getParent() == null) {\n+    final var parent = tnc.getParent();\n+    if (parent == null) {\n+      return null;\n+    }\n+\n+    if (getRuleIndex(parent) == ruleindex) {\n+      return (BSLParserRuleContext) parent;\n+    } else {\n+      return getRootParent((BSLParserRuleContext) parent, ruleindex);\n+    }\n+  }\n+\n+  /**\n+   * \u0420\u0435\u043a\u0443\u0440\u0441\u0438\u0432\u043d\u043e \u043d\u0430\u0445\u043e\u0434\u0438\u0442 \u0441\u0430\u043c\u043e\u0433\u043e \u0432\u0435\u0440\u0445\u043d\u0435\u0433\u043e \u0440\u043e\u0434\u0438\u0442\u0435\u043b\u044f \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u043d\u043e\u0434\u044b \u043e\u0434\u043d\u043e\u0433\u043e \u0438\u0437 \u043d\u0443\u0436\u043d\u044b\u0445 \u0442\u0438\u043f\u043e\u0432\n+   */\n+  public static BSLParserRuleContext getRootParent(BSLParserRuleContext tnc, List<Integer> indexes) {\n+    final var parent = tnc.getParent();\n+    if (parent == null) {\n       return null;\n     }\n \n-    if (getRuleIndex(tnc.getParent()) == ruleindex) {\n-      return (BSLParserRuleContext) tnc.getParent();\n+    if (indexes.contains(getRuleIndex(parent))) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "60763957e932467297e30e620f1845bacb916295"}, "originalPosition": 32}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "60d5118c4ad84ea05110bf8d9176870e85b70bfd", "author": {"user": {"login": "artbear", "name": "Artur Ayukhanov"}}, "url": "https://github.com/1c-syntax/bsl-language-server/commit/60d5118c4ad84ea05110bf8d9176870e85b70bfd", "committedDate": "2020-05-07T16:29:20Z", "message": "\u0434\u043e\u0431\u0430\u0432\u0438\u043b javadoc \u0438 \u0438\u0441\u043f\u0440\u0430\u0432\u0438\u043b \u0442\u0438\u043f \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u0438 \u0434\u043b\u044f \u0443\u043d\u0438\u0432\u0435\u0440\u0441\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ac38cbede5480c9da9ca912231b389ce71fc8afd", "author": {"user": {"login": "artbear", "name": "Artur Ayukhanov"}}, "url": "https://github.com/1c-syntax/bsl-language-server/commit/ac38cbede5480c9da9ca912231b389ce71fc8afd", "committedDate": "2020-05-07T16:30:26Z", "message": "\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044e Set  + \u0443\u043f\u0440\u043e\u0441\u0442\u0438\u043b \u043a\u043e\u0434"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4767, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}