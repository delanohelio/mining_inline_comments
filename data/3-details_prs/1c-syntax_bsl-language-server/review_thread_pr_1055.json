{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyNzg5NTY3", "number": 1055, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOTowNjoxOVrODxWcWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOTo1NzozOFrODxXedQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMDc0NTIzOnYy", "diffSide": "RIGHT", "path": "src/test/java/com/github/_1c_syntax/bsl/languageserver/context/DocumentContextTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOTowNjoxOVrOGExekA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOTowNjoxOVrOGExekA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzY1ODEyOA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                String[] conten = documentContext.getContentList();\n          \n          \n            \n                String[] content = documentContext.getContentList();", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1055#discussion_r407658128", "createdAt": "2020-04-13T19:06:19Z", "author": {"login": "nixel2007"}, "path": "src/test/java/com/github/_1c_syntax/bsl/languageserver/context/DocumentContextTest.java", "diffHunk": "@@ -208,5 +208,16 @@ void testComputeMetricsComments() {\n \n   }\n \n+  @Test\n+  void testContentList() {\n+    // given\n+    DocumentContext documentContext = getDocumentContext();\n+\n+    // when\n+    String[] conten = documentContext.getContentList();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66dd4b5d9b898f49a02b1ce3cced159803b9572"}, "originalPosition": 10}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMDc0NTkwOnYy", "diffSide": "RIGHT", "path": "src/test/java/com/github/_1c_syntax/bsl/languageserver/context/DocumentContextTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOTowNjozMVrOGExfBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOTowNjozMVrOGExfBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzY1ODI0Nw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                assertThat(conten.length).isEqualTo(40);\n          \n          \n            \n                assertThat(content.length).isEqualTo(40);", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1055#discussion_r407658247", "createdAt": "2020-04-13T19:06:31Z", "author": {"login": "nixel2007"}, "path": "src/test/java/com/github/_1c_syntax/bsl/languageserver/context/DocumentContextTest.java", "diffHunk": "@@ -208,5 +208,16 @@ void testComputeMetricsComments() {\n \n   }\n \n+  @Test\n+  void testContentList() {\n+    // given\n+    DocumentContext documentContext = getDocumentContext();\n+\n+    // when\n+    String[] conten = documentContext.getContentList();\n+\n+    // then\n+    assertThat(conten.length).isEqualTo(40);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66dd4b5d9b898f49a02b1ce3cced159803b9572"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMDc0NjcxOnYy", "diffSide": "RIGHT", "path": "src/test/java/com/github/_1c_syntax/bsl/languageserver/context/DocumentContextTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOTowNjo0NlrOGExffg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOToxMjo0N1rOGExryg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzY1ODM2Ng==", "bodyText": "\u0430 \u0442\u0430\u043c \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 hasSize, \u043a\u0441\u0442\u0430\u0442\u0438?", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1055#discussion_r407658366", "createdAt": "2020-04-13T19:06:46Z", "author": {"login": "nixel2007"}, "path": "src/test/java/com/github/_1c_syntax/bsl/languageserver/context/DocumentContextTest.java", "diffHunk": "@@ -208,5 +208,16 @@ void testComputeMetricsComments() {\n \n   }\n \n+  @Test\n+  void testContentList() {\n+    // given\n+    DocumentContext documentContext = getDocumentContext();\n+\n+    // when\n+    String[] conten = documentContext.getContentList();\n+\n+    // then\n+    assertThat(conten.length).isEqualTo(40);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66dd4b5d9b898f49a02b1ce3cced159803b9572"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzY2MTUxNA==", "bodyText": "\u0420\u0430\u0431\u043e\u0442\u0430\u0435\u0442, \u0435\u0441\u043b\u0438 \u0437\u043d\u0430\u0442\u044c \u0447\u0442\u043e \u0442\u0430\u043a \u043c\u043e\u0436\u043d\u043e =)", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1055#discussion_r407661514", "createdAt": "2020-04-13T19:12:47Z", "author": {"login": "asosnoviy"}, "path": "src/test/java/com/github/_1c_syntax/bsl/languageserver/context/DocumentContextTest.java", "diffHunk": "@@ -208,5 +208,16 @@ void testComputeMetricsComments() {\n \n   }\n \n+  @Test\n+  void testContentList() {\n+    // given\n+    DocumentContext documentContext = getDocumentContext();\n+\n+    // when\n+    String[] conten = documentContext.getContentList();\n+\n+    // then\n+    assertThat(conten.length).isEqualTo(40);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzY1ODM2Ng=="}, "originalCommit": {"oid": "c66dd4b5d9b898f49a02b1ce3cced159803b9572"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMDc4MzgzOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/github/_1c_syntax/bsl/languageserver/context/DocumentContext.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOToxODowN1rOGEx2ow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOToxODowN1rOGEx2ow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzY2NDI5MQ==", "bodyText": "\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u043e, \u043f\u0440\u043e \u043b\u0438\u043c\u0438\u0442 \u0443 \u0441\u043f\u043b\u0438\u0442 \u044f \u0438 \u043d\u0435 \u0437\u043d\u0430\u043b.", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1055#discussion_r407664291", "createdAt": "2020-04-13T19:18:07Z", "author": {"login": "artbear"}, "path": "src/main/java/com/github/_1c_syntax/bsl/languageserver/context/DocumentContext.java", "diffHunk": "@@ -234,7 +234,7 @@ private static FileType computeFileType(URI uri) {\n   }\n \n   private String[] computeContentList() {\n-    return getContent().split(\"\\n\");\n+    return getContent().split(\"\\n\", -1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66dd4b5d9b898f49a02b1ce3cced159803b9572"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMDc4ODg4OnYy", "diffSide": "RIGHT", "path": "src/test/java/com/github/_1c_syntax/bsl/languageserver/context/DocumentContextTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOToxOToyNlrOGEx5mQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOToxOToyNlrOGEx5mQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzY2NTA0OQ==", "bodyText": "\u0430 \u0432\u043e\u0442 \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430 \u043a\u0430\u043a \u0440\u0430\u0437 \u0438 \u043f\u0440\u0438\u0433\u043e\u0434\u0438\u043b\u0441\u044f \u0431\u044b \u043c\u0435\u043b\u043a\u0438\u0439 \u044e\u043d\u0438\u0442-\u0442\u0435\u0441\u0442 - \u0430\u043d\u0430\u043b\u0438\u0437 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438, \u0430 \u043d\u0435 \u0444\u0430\u0439\u043b\u0430.", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1055#discussion_r407665049", "createdAt": "2020-04-13T19:19:26Z", "author": {"login": "artbear"}, "path": "src/test/java/com/github/_1c_syntax/bsl/languageserver/context/DocumentContextTest.java", "diffHunk": "@@ -208,5 +208,16 @@ void testComputeMetricsComments() {\n \n   }\n \n+  @Test\n+  void testContentList() {\n+    // given\n+    DocumentContext documentContext = getDocumentContext();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66dd4b5d9b898f49a02b1ce3cced159803b9572"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzMDkxNDQ1OnYy", "diffSide": "RIGHT", "path": "src/test/java/com/github/_1c_syntax/bsl/languageserver/util/assertions/CodeActionAssert.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOTo1NzozOFrOGEzHow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOTo1NzozOFrOGEzHow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzY4NTAyNw==", "bodyText": "\u041a\u043e\u0441\u0442\u044b\u043b\u044c, \u043a\u043e\u0441\u0442\u044b\u043b\u0435\u043c", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1055#discussion_r407685027", "createdAt": "2020-04-13T19:57:38Z", "author": {"login": "asosnoviy"}, "path": "src/test/java/com/github/_1c_syntax/bsl/languageserver/util/assertions/CodeActionAssert.java", "diffHunk": "@@ -88,7 +90,7 @@ public CodeActionAssert fixes(Diagnostic diagnostic) {\n       startLine = end.getLine();\n       startChar = end.getCharacter();\n       endLine = contentList.length - 1;\n-      endChar = contentList[endLine].length() - 1;\n+      endChar = max(contentList[endLine].length() - 1, 0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcc5df8b3b47be2ba4f2a4d5ec0dc14572e66ca5"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4949, "cost": 1, "resetAt": "2021-11-11T21:28:48Z"}}}