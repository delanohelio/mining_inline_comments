{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAyNzg5NTY3", "number": 1055, "title": "ContentList with last whiteSpaces", "bodyText": "\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435\nContentList with last whiteSpaces\n\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438\n\n\n\n\n\n\nCloses: #1038\n\u0427\u0435\u043a\u043b\u0438\u0441\u0442\n\n\n\u041e\u0431\u0449\u0438\u0435\n\n \u0412\u0435\u0442\u043a\u0430 PR \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0430 \u0438\u0437 develop\n \u041e\u0442\u043b\u0430\u0434\u043e\u0447\u043d\u044b\u0435, \u0437\u0430\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0438 \u043f\u0440\u043e\u0447\u0438\u0435, \u043d\u0435 \u0438\u043c\u0435\u044e\u0449\u0438\u0435 \u0441\u043c\u044b\u0441\u043b\u0430 \u0443\u0447\u0430\u0441\u0442\u043a\u0438 \u043a\u043e\u0434\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u044b\n \u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u043f\u043e\u043a\u0440\u044b\u0442\u044b \u0442\u0435\u0441\u0442\u0430\u043c\u0438\n \u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u043f\u0435\u0440\u0435\u0434 \u043a\u043e\u043c\u043c\u0438\u0442\u043e\u043c \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u044b (\u0437\u0430\u043f\u0443\u0441\u043a\u0430\u043b \u043a\u043e\u043c\u0430\u043d\u0434\u0443 gradlew precommit)\n\n\u0414\u043b\u044f \u0434\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\n\n \u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0434\u0438\u0430\u0433\u043d\u043e\u0441\u0442\u0438\u043a\u0438 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0434\u043b\u044f \u043e\u0431\u043e\u0438\u0445 \u044f\u0437\u044b\u043a\u043e\u0432 (\u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u0438\u0439 \u043d\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d)\n\n\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u043e", "createdAt": "2020-04-13T19:04:51Z", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1055", "merged": true, "mergeCommit": {"oid": "0c21eba148bad6de5bfd576394b773bb12aa70e3"}, "closed": true, "closedAt": "2020-04-13T21:54:11Z", "author": {"login": "asosnoviy"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcXTuXlgH2gAyNDAyNzg5NTY3OmM2NmRkNGI1ZDliODk4ZjQ5YTAyYjFjZTNjY2VkMTU5ODAzYjk1NzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcXUeY1AFqTM5MjM5NTY5MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c66dd4b5d9b898f49a02b1ce3cced159803b9572", "author": {"user": {"login": "asosnoviy", "name": "Alexey Sosnoviy"}}, "url": "https://github.com/1c-syntax/bsl-language-server/commit/c66dd4b5d9b898f49a02b1ce3cced159803b9572", "committedDate": "2020-04-13T19:05:11Z", "message": "ContentList with last whiteSpaces"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ed00d07e75cf36491ccfd95cbff01f7d16cc1931", "author": {"user": {"login": "asosnoviy", "name": "Alexey Sosnoviy"}}, "url": "https://github.com/1c-syntax/bsl-language-server/commit/ed00d07e75cf36491ccfd95cbff01f7d16cc1931", "committedDate": "2020-04-13T18:56:39Z", "message": "ContentList with last whiteSpaces"}, "afterCommit": {"oid": "c66dd4b5d9b898f49a02b1ce3cced159803b9572", "author": {"user": {"login": "asosnoviy", "name": "Alexey Sosnoviy"}}, "url": "https://github.com/1c-syntax/bsl-language-server/commit/c66dd4b5d9b898f49a02b1ce3cced159803b9572", "committedDate": "2020-04-13T19:05:11Z", "message": "ContentList with last whiteSpaces"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyMzYzMjU4", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1055#pullrequestreview-392363258", "createdAt": "2020-04-13T19:06:19Z", "commit": {"oid": "c66dd4b5d9b898f49a02b1ce3cced159803b9572"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOTowNjoxOVrOGExekA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOTowNjoxOVrOGExekA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzY1ODEyOA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                String[] conten = documentContext.getContentList();\n          \n          \n            \n                String[] content = documentContext.getContentList();", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1055#discussion_r407658128", "createdAt": "2020-04-13T19:06:19Z", "author": {"login": "nixel2007"}, "path": "src/test/java/com/github/_1c_syntax/bsl/languageserver/context/DocumentContextTest.java", "diffHunk": "@@ -208,5 +208,16 @@ void testComputeMetricsComments() {\n \n   }\n \n+  @Test\n+  void testContentList() {\n+    // given\n+    DocumentContext documentContext = getDocumentContext();\n+\n+    // when\n+    String[] conten = documentContext.getContentList();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66dd4b5d9b898f49a02b1ce3cced159803b9572"}, "originalPosition": 10}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyMzYzNDA0", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1055#pullrequestreview-392363404", "createdAt": "2020-04-13T19:06:31Z", "commit": {"oid": "c66dd4b5d9b898f49a02b1ce3cced159803b9572"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOTowNjozMVrOGExfBw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOTowNjozMVrOGExfBw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzY1ODI0Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                assertThat(conten.length).isEqualTo(40);\n          \n          \n            \n                assertThat(content.length).isEqualTo(40);", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1055#discussion_r407658247", "createdAt": "2020-04-13T19:06:31Z", "author": {"login": "nixel2007"}, "path": "src/test/java/com/github/_1c_syntax/bsl/languageserver/context/DocumentContextTest.java", "diffHunk": "@@ -208,5 +208,16 @@ void testComputeMetricsComments() {\n \n   }\n \n+  @Test\n+  void testContentList() {\n+    // given\n+    DocumentContext documentContext = getDocumentContext();\n+\n+    // when\n+    String[] conten = documentContext.getContentList();\n+\n+    // then\n+    assertThat(conten.length).isEqualTo(40);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66dd4b5d9b898f49a02b1ce3cced159803b9572"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyMzYzNTQw", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1055#pullrequestreview-392363540", "createdAt": "2020-04-13T19:06:46Z", "commit": {"oid": "c66dd4b5d9b898f49a02b1ce3cced159803b9572"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOTowNjo0NlrOGExffg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOTowNjo0NlrOGExffg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzY1ODM2Ng==", "bodyText": "\u0430 \u0442\u0430\u043c \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 hasSize, \u043a\u0441\u0442\u0430\u0442\u0438?", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1055#discussion_r407658366", "createdAt": "2020-04-13T19:06:46Z", "author": {"login": "nixel2007"}, "path": "src/test/java/com/github/_1c_syntax/bsl/languageserver/context/DocumentContextTest.java", "diffHunk": "@@ -208,5 +208,16 @@ void testComputeMetricsComments() {\n \n   }\n \n+  @Test\n+  void testContentList() {\n+    // given\n+    DocumentContext documentContext = getDocumentContext();\n+\n+    // when\n+    String[] conten = documentContext.getContentList();\n+\n+    // then\n+    assertThat(conten.length).isEqualTo(40);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66dd4b5d9b898f49a02b1ce3cced159803b9572"}, "originalPosition": 13}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27f87f62021a508b57f1799b2e5a058118fe22ad", "author": {"user": {"login": "asosnoviy", "name": "Alexey Sosnoviy"}}, "url": "https://github.com/1c-syntax/bsl-language-server/commit/27f87f62021a508b57f1799b2e5a058118fe22ad", "committedDate": "2020-04-13T19:11:40Z", "message": "test fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyMzcwNzMy", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1055#pullrequestreview-392370732", "createdAt": "2020-04-13T19:18:07Z", "commit": {"oid": "c66dd4b5d9b898f49a02b1ce3cced159803b9572"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOToxODowN1rOGEx2ow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOToxODowN1rOGEx2ow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzY2NDI5MQ==", "bodyText": "\u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u043e, \u043f\u0440\u043e \u043b\u0438\u043c\u0438\u0442 \u0443 \u0441\u043f\u043b\u0438\u0442 \u044f \u0438 \u043d\u0435 \u0437\u043d\u0430\u043b.", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1055#discussion_r407664291", "createdAt": "2020-04-13T19:18:07Z", "author": {"login": "artbear"}, "path": "src/main/java/com/github/_1c_syntax/bsl/languageserver/context/DocumentContext.java", "diffHunk": "@@ -234,7 +234,7 @@ private static FileType computeFileType(URI uri) {\n   }\n \n   private String[] computeContentList() {\n-    return getContent().split(\"\\n\");\n+    return getContent().split(\"\\n\", -1);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66dd4b5d9b898f49a02b1ce3cced159803b9572"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyMzcxNTcy", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1055#pullrequestreview-392371572", "createdAt": "2020-04-13T19:19:26Z", "commit": {"oid": "c66dd4b5d9b898f49a02b1ce3cced159803b9572"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOToxOToyNlrOGEx5mQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOToxOToyNlrOGEx5mQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzY2NTA0OQ==", "bodyText": "\u0430 \u0432\u043e\u0442 \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0442\u0435\u0441\u0442\u0430 \u043a\u0430\u043a \u0440\u0430\u0437 \u0438 \u043f\u0440\u0438\u0433\u043e\u0434\u0438\u043b\u0441\u044f \u0431\u044b \u043c\u0435\u043b\u043a\u0438\u0439 \u044e\u043d\u0438\u0442-\u0442\u0435\u0441\u0442 - \u0430\u043d\u0430\u043b\u0438\u0437 \u043f\u0440\u043e\u0441\u0442\u043e\u0439 \u0441\u0442\u0440\u043e\u043a\u0438, \u0430 \u043d\u0435 \u0444\u0430\u0439\u043b\u0430.", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1055#discussion_r407665049", "createdAt": "2020-04-13T19:19:26Z", "author": {"login": "artbear"}, "path": "src/test/java/com/github/_1c_syntax/bsl/languageserver/context/DocumentContextTest.java", "diffHunk": "@@ -208,5 +208,16 @@ void testComputeMetricsComments() {\n \n   }\n \n+  @Test\n+  void testContentList() {\n+    // given\n+    DocumentContext documentContext = getDocumentContext();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c66dd4b5d9b898f49a02b1ce3cced159803b9572"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyMzcxNzQw", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1055#pullrequestreview-392371740", "createdAt": "2020-04-13T19:19:44Z", "commit": {"oid": "c66dd4b5d9b898f49a02b1ce3cced159803b9572"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fcc5df8b3b47be2ba4f2a4d5ec0dc14572e66ca5", "author": {"user": {"login": "asosnoviy", "name": "Alexey Sosnoviy"}}, "url": "https://github.com/1c-syntax/bsl-language-server/commit/fcc5df8b3b47be2ba4f2a4d5ec0dc14572e66ca5", "committedDate": "2020-04-13T19:54:27Z", "message": "CodeActionAssert fix"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyMzk1Njkw", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1055#pullrequestreview-392395690", "createdAt": "2020-04-13T19:57:38Z", "commit": {"oid": "fcc5df8b3b47be2ba4f2a4d5ec0dc14572e66ca5"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOTo1NzozOFrOGEzHow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxOTo1NzozOFrOGEzHow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzY4NTAyNw==", "bodyText": "\u041a\u043e\u0441\u0442\u044b\u043b\u044c, \u043a\u043e\u0441\u0442\u044b\u043b\u0435\u043c", "url": "https://github.com/1c-syntax/bsl-language-server/pull/1055#discussion_r407685027", "createdAt": "2020-04-13T19:57:38Z", "author": {"login": "asosnoviy"}, "path": "src/test/java/com/github/_1c_syntax/bsl/languageserver/util/assertions/CodeActionAssert.java", "diffHunk": "@@ -88,7 +90,7 @@ public CodeActionAssert fixes(Diagnostic diagnostic) {\n       startLine = end.getLine();\n       startChar = end.getCharacter();\n       endLine = contentList.length - 1;\n-      endChar = contentList[endLine].length() - 1;\n+      endChar = max(contentList[endLine].length() - 1, 0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fcc5df8b3b47be2ba4f2a4d5ec0dc14572e66ca5"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4938, "cost": 1, "resetAt": "2021-10-29T17:30:11Z"}}}