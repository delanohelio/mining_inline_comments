{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2NDk1ODEx", "number": 347, "title": "KOGITO-2857 - Add trusty readme/documentation", "bodyText": "This is a draft, work in progress\nMany thanks for submitting your Pull Request \u2764\ufe0f!\nPlease make sure that your PR meets the following requirements:\n\n You have read the contributors guide\n Pull Request title is properly formatted: KOGITO-XYZ Subject\n Pull Request title contains the target branch if not targeting master: [0.9.x] KOGITO-XYZ Subject\n Pull Request contains link to the JIRA issue\n Pull Request contains link to any dependent or related Pull Request\n Pull Request contains description of the issue\n Pull Request does not include fixes for issues other than the main ticket", "createdAt": "2020-07-24T21:21:11Z", "url": "https://github.com/kiegroup/kogito-apps/pull/347", "merged": true, "mergeCommit": {"oid": "fb601ec59e0560b73f943f5e3226e2f9b9b33ba1"}, "closed": true, "closedAt": "2020-08-24T13:58:33Z", "author": {"login": "r00ta"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc4KxO4AH2gAyNDU2NDk1ODExOjJhOWE5YTJjYWQxNTdiMGZmOWZhM2UxMzU2NDJlYTJjOWM1YTRkYzM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdB-kidgFqTQ3MzIzMzkyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2a9a9a2cad157b0ff9fa3e135642ea2c9c5a4dc3", "author": {"user": {"login": "r00ta", "name": "Jacopo Rota"}}, "url": "https://github.com/kiegroup/kogito-apps/commit/2a9a9a2cad157b0ff9fa3e135642ea2c9c5a4dc3", "committedDate": "2020-07-24T21:18:40Z", "message": "add trusty readme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fe42c35b4be720934326bb8a775140e3f1c6de52", "author": {"user": {"login": "r00ta", "name": "Jacopo Rota"}}, "url": "https://github.com/kiegroup/kogito-apps/commit/fe42c35b4be720934326bb8a775140e3f1c6de52", "committedDate": "2020-07-27T07:00:14Z", "message": "update readme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f11c31c771b0cb9bfdd30948cd30be680fcc2e74", "author": {"user": {"login": "r00ta", "name": "Jacopo Rota"}}, "url": "https://github.com/kiegroup/kogito-apps/commit/f11c31c771b0cb9bfdd30948cd30be680fcc2e74", "committedDate": "2020-08-06T21:50:18Z", "message": "update readme"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9389544b2d0ab478e094456db8409c4a05da9eea", "author": {"user": {"login": "r00ta", "name": "Jacopo Rota"}}, "url": "https://github.com/kiegroup/kogito-apps/commit/9389544b2d0ab478e094456db8409c4a05da9eea", "committedDate": "2020-08-10T07:06:37Z", "message": "Update README.md"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0MTAyNjIz", "url": "https://github.com/kiegroup/kogito-apps/pull/347#pullrequestreview-464102623", "createdAt": "2020-08-10T10:06:52Z", "commit": {"oid": "9389544b2d0ab478e094456db8409c4a05da9eea"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQxMDowNjo1MlrOG-IjEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQxMDowNjo1MlrOG-IjEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NzgwNDk0NQ==", "bodyText": "Would it be possible to add an example of \"explanation\" to this README? It would be useful for user to see what kind of information he can expect.", "url": "https://github.com/kiegroup/kogito-apps/pull/347#discussion_r467804945", "createdAt": "2020-08-10T10:06:52Z", "author": {"login": "jiripetrlik"}, "path": "trusty/README.md", "diffHunk": "@@ -0,0 +1,69 @@\n+# Trusty Service \n+\n+Within the TrustyAI initiative, the trusty service is the main service that aims to collect tracing events emitted by one or more kogito-runtime application and to provide explainability on top of the decisions that have been by the application. \n+\n+## Architecture \n+\n+The architecture looks like the following: \n+\n+![trusty-architecture_enterprise](https://user-images.githubusercontent.com/18282531/89585961-167c3700-d83f-11ea-8fdc-ab840442bb62.png)\n+\n+In particular we have: \n+1) A kogito-runtime application with the `tracing` addon activated.\n+2) A kafka broker and an infinispan instance.\n+3) The trusty service (this module).\n+4) The explainability service\n+5) The auditUI \n+\n+Descriptions and instructions for every single component are provided in the next subsections. \n+\n+### The kogito-runtime application \n+\n+The kogito-runtime application is a standard kogito application that has imported the `tracing-addon` as dependency \n+\n+```xml\n+      <dependency>\n+        <groupId>org.kie.kogito</groupId>\n+        <artifactId>tracing</artifactId>\n+      </dependency>\n+```\n+\n+and that is using one or more DMN models. In addition to that, the application needs to know the address of the kafka broker. For example, if you are using Quarkus, you can \n+set it with an enviroment variable\n+```bash\n+export KAFKA_BOOTSTRAP_SERVERS=localhost:9092\n+```\n+This is needed because every time a decision is evaluated for a dmn model, a trace event is generated and emitted. This event contains all the information needed to provide explainability and accountability on the decision that has been taken. \n+\n+If you are new to kogito, we recommend to start with https://kogito.kie.org/get-started/ . \n+\n+### The kafka broker and the infinispan instance\n+\n+You will have to provide a kafka instance as well as an infinispan instance. At the end of this readme, there is a link that contains a full end to end example. \n+\n+### The Trusty service\n+\n+The Trusty service consumes tracing events generated by the kogito-runtime application. A tracing event is a bunch of data that contains \n+the request that has been made to the kogito endpoint, the result, the outcomes of all the dmn nodes (decisions and BKM for example), and error messages if any.\n+The responsability of this service is to store all the information about the decision and to interact with the explainability service to retrieve the analysis of the decision. \n+The trusty service depends of course on kafka, but also on infinispan to persist the tracing information. \n+Enviroment variables can be used to set the information needed to connect to kafka and infinispan, for example\n+\n+```bash\n+export KAFKA_BOOTSTRAP_SERVERS=localhost:9092\n+export QUARKUS_INFINISPAN_CLIENT_SERVER_LIST=localhost:11222\n+export QUARKUS_INFINISPAN_CLIENT_AUTH_USERNAME=myuser\n+export QUARKUS_INFINISPAN_CLIENT_AUTH_PASSWORD=mypassword\n+```\n+\n+### Explainability service\n+\n+The explainability service provides local and global explaination. ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9389544b2d0ab478e094456db8409c4a05da9eea"}, "originalPosition": 61}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDczMjMzOTI2", "url": "https://github.com/kiegroup/kogito-apps/pull/347#pullrequestreview-473233926", "createdAt": "2020-08-24T08:45:11Z", "commit": {"oid": "9389544b2d0ab478e094456db8409c4a05da9eea"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4949, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}