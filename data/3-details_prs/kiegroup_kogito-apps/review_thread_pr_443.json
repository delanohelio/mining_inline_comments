{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDc5OTk3ODcw", "number": 443, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNjoxOToyMVrOEgy1IA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNjoyNzoyMlrOEgy9CQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyODIyNjg4OnYy", "diffSide": "RIGHT", "path": "jobs-service/src/main/java/org/kie/kogito/jobs/service/repository/impl/InMemoryJobRepository.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNjoxOToyMVrOHNxfCw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNjoxOToyMVrOHNxfCw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIwNDI5OQ==", "bodyText": "I think this is a leftover.", "url": "https://github.com/kiegroup/kogito-apps/pull/443#discussion_r484204299", "createdAt": "2020-09-07T06:19:21Z", "author": {"login": "Sgitario"}, "path": "jobs-service/src/main/java/org/kie/kogito/jobs/service/repository/impl/InMemoryJobRepository.java", "diffHunk": "@@ -27,6 +27,7 @@\n import java.util.stream.Stream;\n \n import javax.enterprise.context.ApplicationScoped;\n+import javax.enterprise.inject.Default;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5222e30a194acab82d32b24b2872f49c75522867"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyODIyODQzOnYy", "diffSide": "LEFT", "path": "jobs-service/src/main/java/org/kie/kogito/jobs/service/repository/impl/JobRepositoryDelegate.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNjoyMDowNFrOHNxf8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOVQwNjo0Mjo1MFrOHO43Kw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIwNDUzMA==", "bodyText": "The import \"Default\" has to be deleted as it's not used any longer.", "url": "https://github.com/kiegroup/kogito-apps/pull/443#discussion_r484204530", "createdAt": "2020-09-07T06:20:04Z", "author": {"login": "Sgitario"}, "path": "jobs-service/src/main/java/org/kie/kogito/jobs/service/repository/impl/JobRepositoryDelegate.java", "diffHunk": "@@ -36,7 +37,7 @@\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n \n-@Default", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5222e30a194acab82d32b24b2872f49c75522867"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTM3MzczOQ==", "bodyText": "@tiagodolphine remove Default import?", "url": "https://github.com/kiegroup/kogito-apps/pull/443#discussion_r485373739", "createdAt": "2020-09-09T06:42:50Z", "author": {"login": "cristianonicolai"}, "path": "jobs-service/src/main/java/org/kie/kogito/jobs/service/repository/impl/JobRepositoryDelegate.java", "diffHunk": "@@ -36,7 +37,7 @@\n import org.slf4j.Logger;\n import org.slf4j.LoggerFactory;\n \n-@Default", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIwNDUzMA=="}, "originalCommit": {"oid": "5222e30a194acab82d32b24b2872f49c75522867"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyODIzNTQ2OnYy", "diffSide": "RIGHT", "path": "jobs-service/src/main/java/org/kie/kogito/jobs/service/repository/infinispan/InfinispanConfiguration.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNjoyMjo0MFrOHNxjww==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNjozODo0NVrOHNx6ew==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIwNTUwNw==", "bodyText": "I think it's clearer using the .orElse() method:\n.orElse(() -> HealthCheckResponse.up(\"Default persistence\"));", "url": "https://github.com/kiegroup/kogito-apps/pull/443#discussion_r484205507", "createdAt": "2020-09-07T06:22:40Z", "author": {"login": "Sgitario"}, "path": "jobs-service/src/main/java/org/kie/kogito/jobs/service/repository/infinispan/InfinispanConfiguration.java", "diffHunk": "@@ -46,12 +48,12 @@ private Caches() {\n \n     @Produces\n     @Readiness\n-    public InfinispanHealthCheck infinispanHealthCheck(@ConfigProperty(name = PERSISTENCE_CONFIG_KEY)\n-                                                               Optional<String> persistence,\n-                                                       Instance<RemoteCacheManager> cacheManagerInstance) {\n+    public HealthCheck infinispanHealthCheck(@ConfigProperty(name = PERSISTENCE_CONFIG_KEY)\n+                                                     Optional<String> persistence,\n+                                             Instance<RemoteCacheManager> cacheManagerInstance) {\n         return persistence\n                 .filter(\"infinispan\"::equals)\n-                .map(p -> new InfinispanHealthCheck(cacheManagerInstance))\n-                .orElse(null);\n+                .<HealthCheck>map(p -> new InfinispanHealthCheck(cacheManagerInstance))\n+                .orElseGet(() -> () -> HealthCheckResponse.up(\"Default persistence\"));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5222e30a194acab82d32b24b2872f49c75522867"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIxMTMyMw==", "bodyText": "Also, maybe it should say \"In Memory Persistence\"? What do you think?", "url": "https://github.com/kiegroup/kogito-apps/pull/443#discussion_r484211323", "createdAt": "2020-09-07T06:38:45Z", "author": {"login": "Sgitario"}, "path": "jobs-service/src/main/java/org/kie/kogito/jobs/service/repository/infinispan/InfinispanConfiguration.java", "diffHunk": "@@ -46,12 +48,12 @@ private Caches() {\n \n     @Produces\n     @Readiness\n-    public InfinispanHealthCheck infinispanHealthCheck(@ConfigProperty(name = PERSISTENCE_CONFIG_KEY)\n-                                                               Optional<String> persistence,\n-                                                       Instance<RemoteCacheManager> cacheManagerInstance) {\n+    public HealthCheck infinispanHealthCheck(@ConfigProperty(name = PERSISTENCE_CONFIG_KEY)\n+                                                     Optional<String> persistence,\n+                                             Instance<RemoteCacheManager> cacheManagerInstance) {\n         return persistence\n                 .filter(\"infinispan\"::equals)\n-                .map(p -> new InfinispanHealthCheck(cacheManagerInstance))\n-                .orElse(null);\n+                .<HealthCheck>map(p -> new InfinispanHealthCheck(cacheManagerInstance))\n+                .orElseGet(() -> () -> HealthCheckResponse.up(\"Default persistence\"));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIwNTUwNw=="}, "originalCommit": {"oid": "5222e30a194acab82d32b24b2872f49c75522867"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyODIzNjMyOnYy", "diffSide": "LEFT", "path": "jobs-service/src/main/java/org/kie/kogito/jobs/service/repository/infinispan/InfinispanConfiguration.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNjoyMjo1N1rOHNxkNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNjoyMjo1N1rOHNxkNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIwNTYyMA==", "bodyText": "The format added some whitespaces here.", "url": "https://github.com/kiegroup/kogito-apps/pull/443#discussion_r484205620", "createdAt": "2020-09-07T06:22:57Z", "author": {"login": "Sgitario"}, "path": "jobs-service/src/main/java/org/kie/kogito/jobs/service/repository/infinispan/InfinispanConfiguration.java", "diffHunk": "@@ -46,12 +48,12 @@ private Caches() {\n \n     @Produces\n     @Readiness\n-    public InfinispanHealthCheck infinispanHealthCheck(@ConfigProperty(name = PERSISTENCE_CONFIG_KEY)\n-                                                               Optional<String> persistence,\n-                                                       Instance<RemoteCacheManager> cacheManagerInstance) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5222e30a194acab82d32b24b2872f49c75522867"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyODIzNzExOnYy", "diffSide": "RIGHT", "path": "jobs-service/src/main/java/org/kie/kogito/jobs/service/repository/infinispan/InfinispanJobRepository.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNjoyMzoxNlrOHNxksA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNjoyMzoxNlrOHNxksA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIwNTc0NA==", "bodyText": "Leftover", "url": "https://github.com/kiegroup/kogito-apps/pull/443#discussion_r484205744", "createdAt": "2020-09-07T06:23:16Z", "author": {"login": "Sgitario"}, "path": "jobs-service/src/main/java/org/kie/kogito/jobs/service/repository/infinispan/InfinispanJobRepository.java", "diffHunk": "@@ -22,6 +22,7 @@\n import java.util.stream.Collectors;\n \n import javax.enterprise.context.ApplicationScoped;\n+import javax.enterprise.inject.Default;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5222e30a194acab82d32b24b2872f49c75522867"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyODI0NDU4OnYy", "diffSide": "RIGHT", "path": "jobs-service/src/main/java/org/kie/kogito/jobs/service/stream/KafkaConfiguration.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNjoyNjoyMFrOHNxpFw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxMTo0Mjo1OFrOHOZB4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIwNjg3MQ==", "bodyText": "I was told that if we enable the events, then the topics must be created in Data Index (see comment).\nSo, as I understood, we don't need to create any topic here, just to wait until data index component creates it.", "url": "https://github.com/kiegroup/kogito-apps/pull/443#discussion_r484206871", "createdAt": "2020-09-07T06:26:20Z", "author": {"login": "Sgitario"}, "path": "jobs-service/src/main/java/org/kie/kogito/jobs/service/stream/KafkaConfiguration.java", "diffHunk": "@@ -0,0 +1,79 @@\n+/*\n+ *  Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *        http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+\n+package org.kie.kogito.jobs.service.stream;\n+\n+import java.util.Arrays;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+\n+import javax.enterprise.context.ApplicationScoped;\n+import javax.enterprise.event.Observes;\n+import javax.enterprise.inject.Instance;\n+import javax.inject.Inject;\n+import javax.inject.Named;\n+\n+import io.quarkus.runtime.Startup;\n+import io.quarkus.runtime.StartupEvent;\n+import io.vertx.kafka.admin.NewTopic;\n+import io.vertx.mutiny.core.Vertx;\n+import io.vertx.mutiny.kafka.admin.KafkaAdminClient;\n+import org.eclipse.microprofile.config.inject.ConfigProperty;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import static org.kie.kogito.jobs.service.stream.KafkaJobStreams.PUBLISH_EVENTS_CONFIG_KEY;\n+\n+@Startup\n+@ApplicationScoped\n+public class KafkaConfiguration {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5222e30a194acab82d32b24b2872f49c75522867"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIyMDg3NQ==", "bodyText": "But IMHO the Data index component is not mandatory for Jobs service. So I think that topic creation is ok in this case.", "url": "https://github.com/kiegroup/kogito-apps/pull/443#discussion_r484220875", "createdAt": "2020-09-07T07:02:02Z", "author": {"login": "sutaakar"}, "path": "jobs-service/src/main/java/org/kie/kogito/jobs/service/stream/KafkaConfiguration.java", "diffHunk": "@@ -0,0 +1,79 @@\n+/*\n+ *  Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *        http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+\n+package org.kie.kogito.jobs.service.stream;\n+\n+import java.util.Arrays;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+\n+import javax.enterprise.context.ApplicationScoped;\n+import javax.enterprise.event.Observes;\n+import javax.enterprise.inject.Instance;\n+import javax.inject.Inject;\n+import javax.inject.Named;\n+\n+import io.quarkus.runtime.Startup;\n+import io.quarkus.runtime.StartupEvent;\n+import io.vertx.kafka.admin.NewTopic;\n+import io.vertx.mutiny.core.Vertx;\n+import io.vertx.mutiny.kafka.admin.KafkaAdminClient;\n+import org.eclipse.microprofile.config.inject.ConfigProperty;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import static org.kie.kogito.jobs.service.stream.KafkaJobStreams.PUBLISH_EVENTS_CONFIG_KEY;\n+\n+@Startup\n+@ApplicationScoped\n+public class KafkaConfiguration {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIwNjg3MQ=="}, "originalCommit": {"oid": "5222e30a194acab82d32b24b2872f49c75522867"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIyMTkzMg==", "bodyText": "If so, then we should add some unit tests to cover this functionality. cc @tiagodolphine", "url": "https://github.com/kiegroup/kogito-apps/pull/443#discussion_r484221932", "createdAt": "2020-09-07T07:04:37Z", "author": {"login": "Sgitario"}, "path": "jobs-service/src/main/java/org/kie/kogito/jobs/service/stream/KafkaConfiguration.java", "diffHunk": "@@ -0,0 +1,79 @@\n+/*\n+ *  Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *        http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+\n+package org.kie.kogito.jobs.service.stream;\n+\n+import java.util.Arrays;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+\n+import javax.enterprise.context.ApplicationScoped;\n+import javax.enterprise.event.Observes;\n+import javax.enterprise.inject.Instance;\n+import javax.inject.Inject;\n+import javax.inject.Named;\n+\n+import io.quarkus.runtime.Startup;\n+import io.quarkus.runtime.StartupEvent;\n+import io.vertx.kafka.admin.NewTopic;\n+import io.vertx.mutiny.core.Vertx;\n+import io.vertx.mutiny.kafka.admin.KafkaAdminClient;\n+import org.eclipse.microprofile.config.inject.ConfigProperty;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import static org.kie.kogito.jobs.service.stream.KafkaJobStreams.PUBLISH_EVENTS_CONFIG_KEY;\n+\n+@Startup\n+@ApplicationScoped\n+public class KafkaConfiguration {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIwNjg3MQ=="}, "originalCommit": {"oid": "5222e30a194acab82d32b24b2872f49c75522867"}, "originalPosition": 43}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDg1MjE5Mw==", "bodyText": "IMO since the topic is an infrastructure requirement it should be created by the operator, this method is just to make things easier to test and a kind of fallback in case the topic is not yet created. And in this case, job service is the producer, it is not coupled with data-index, I mean it could produce events even if data-index is not up and running or even not present on the architecture.\n@Sgitario yeah, it would be great to add some unit tests, I'll provide it.", "url": "https://github.com/kiegroup/kogito-apps/pull/443#discussion_r484852193", "createdAt": "2020-09-08T11:42:58Z", "author": {"login": "tiagodolphine"}, "path": "jobs-service/src/main/java/org/kie/kogito/jobs/service/stream/KafkaConfiguration.java", "diffHunk": "@@ -0,0 +1,79 @@\n+/*\n+ *  Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ *  Licensed under the Apache License, Version 2.0 (the \"License\");\n+ *  you may not use this file except in compliance with the License.\n+ *  You may obtain a copy of the License at\n+ *\n+ *        http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ *  Unless required by applicable law or agreed to in writing, software\n+ *  distributed under the License is distributed on an \"AS IS\" BASIS,\n+ *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ *  See the License for the specific language governing permissions and\n+ *  limitations under the License.\n+ */\n+\n+package org.kie.kogito.jobs.service.stream;\n+\n+import java.util.Arrays;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.stream.Collectors;\n+\n+import javax.enterprise.context.ApplicationScoped;\n+import javax.enterprise.event.Observes;\n+import javax.enterprise.inject.Instance;\n+import javax.inject.Inject;\n+import javax.inject.Named;\n+\n+import io.quarkus.runtime.Startup;\n+import io.quarkus.runtime.StartupEvent;\n+import io.vertx.kafka.admin.NewTopic;\n+import io.vertx.mutiny.core.Vertx;\n+import io.vertx.mutiny.kafka.admin.KafkaAdminClient;\n+import org.eclipse.microprofile.config.inject.ConfigProperty;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import static org.kie.kogito.jobs.service.stream.KafkaJobStreams.PUBLISH_EVENTS_CONFIG_KEY;\n+\n+@Startup\n+@ApplicationScoped\n+public class KafkaConfiguration {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIwNjg3MQ=="}, "originalCommit": {"oid": "5222e30a194acab82d32b24b2872f49c75522867"}, "originalPosition": 43}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAyODI0NzEzOnYy", "diffSide": "RIGHT", "path": "jobs-service/src/main/resources/application.properties", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wN1QwNjoyNzoyMlrOHNxqnA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wOFQxNzo0MzozMFrOHOnpvQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIwNzI2MA==", "bodyText": "Is this correct? I would say that the correct property is \"quarkus.kafka.bootstrap-servers\"", "url": "https://github.com/kiegroup/kogito-apps/pull/443#discussion_r484207260", "createdAt": "2020-09-07T06:27:22Z", "author": {"login": "Sgitario"}, "path": "jobs-service/src/main/resources/application.properties", "diffHunk": "@@ -67,18 +67,23 @@ kogito.jobs-service.loadJobIntervalInMinutes=10\n kogito.jobs-service.loadJobFromCurrentTimeIntervalInMinutes=60\n kogito.jobs-service.forceExecuteExpiredJobs=true\n \n+#Removing beans related to Kafka from CDI when eventing is not enabled\n+quarkus.arc.exclude-types=io.smallrye.reactive.messaging.health.*,org.kie.kogito.jobs.service.stream.KafkaConfiguration\n+\n #Configure Events Publishing on Job Service using profile\n #disabled by default\n kogito.jobs-service.events-support=false\n+kogito.jobs-events-topic=kogito-jobs-events\n \n #enabled with the profile: 'events-support' (-Dquarkus.profile=events-support)\n %events-support.quarkus.kafka.health.enabled=true\n-%events-support.quarkus.kafka.bootstrap-servers=localhost:9092\n+%events-support.kafka.bootstrap-servers=localhost:9092", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5222e30a194acab82d32b24b2872f49c75522867"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NTA5MTc3Mw==", "bodyText": "The config parameter that is used on the health check is kafka.bootstrap.servers, so to make it work I updated the parameter.\nSee\n\n\nhttps://quarkus.io/guides/kafka#configuring-the-kafka-connector\n\n\nhttps://github.com/smallrye/smallrye-reactive-messaging/blob/1363208592737dc196a655176c807696e27f6111/smallrye-reactive-messaging-kafka/src/main/java/io/smallrye/reactive/messaging/kafka/KafkaConnector.java#L50", "url": "https://github.com/kiegroup/kogito-apps/pull/443#discussion_r485091773", "createdAt": "2020-09-08T17:43:30Z", "author": {"login": "tiagodolphine"}, "path": "jobs-service/src/main/resources/application.properties", "diffHunk": "@@ -67,18 +67,23 @@ kogito.jobs-service.loadJobIntervalInMinutes=10\n kogito.jobs-service.loadJobFromCurrentTimeIntervalInMinutes=60\n kogito.jobs-service.forceExecuteExpiredJobs=true\n \n+#Removing beans related to Kafka from CDI when eventing is not enabled\n+quarkus.arc.exclude-types=io.smallrye.reactive.messaging.health.*,org.kie.kogito.jobs.service.stream.KafkaConfiguration\n+\n #Configure Events Publishing on Job Service using profile\n #disabled by default\n kogito.jobs-service.events-support=false\n+kogito.jobs-events-topic=kogito-jobs-events\n \n #enabled with the profile: 'events-support' (-Dquarkus.profile=events-support)\n %events-support.quarkus.kafka.health.enabled=true\n-%events-support.quarkus.kafka.bootstrap-servers=localhost:9092\n+%events-support.kafka.bootstrap-servers=localhost:9092", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4NDIwNzI2MA=="}, "originalCommit": {"oid": "5222e30a194acab82d32b24b2872f49c75522867"}, "originalPosition": 15}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 696, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}