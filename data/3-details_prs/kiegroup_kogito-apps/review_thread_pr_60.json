{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc0MDk5ODc5", "number": 60, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxNjozMjo0OVrODfP1sw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxNjozMjo0OVrODfP1sw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM0MDkxOTU1OnYy", "diffSide": "RIGHT", "path": "Jenkinsfile", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQxNjozMjo0OVrOFo1uvQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QwMDoyMTowM1rOFpDJrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODM2NzY3Nw==", "bodyText": "Can't the commented lines be removed?", "url": "https://github.com/kiegroup/kogito-apps/pull/60#discussion_r378367677", "createdAt": "2020-02-12T16:32:49Z", "author": {"login": "tiagodolphine"}, "path": "Jenkinsfile", "diffHunk": "@@ -23,18 +26,61 @@ pipeline {\n                 sh \"chmod 600 $HOME/.vnc/passwd\"\n             }\n         }\n+        stage('Build kogito-runtimes') {\n+            steps {\n+                dir(\"kogito-runtimes\") {\n+                    script {\n+                        githubscm.checkoutIfExists('kogito-runtimes', \"$CHANGE_AUTHOR\", \"$CHANGE_BRANCH\", 'kiegroup', \"$CHANGE_TARGET\")\n+                        maven.runMavenWithSubmarineSettings('clean install -Prun-code-coverage', false)\n+                    }\n+                }\n+            }\n+        }\n         stage('Build kogito-apps') {\n             steps {\n-                dir(\"kogito-apps\") {\n+                script {\n+                    wrap([$class: 'Xvnc', takeScreenshot: false, useXauthority: true]) {\n+                        sh('yarn run init && yarn build:prod')\n+                    }\n+                    maven.runMavenWithSubmarineSettings('clean install -Prun-code-coverage', false)\n+                }\n+            }\n+        }\n+        stage('Build kogito-cloud') {\n+            steps {\n+                dir(\"kogito-cloud\") {\n+                    script {\n+                        githubscm.checkoutIfExists('kogito-cloud', \"$CHANGE_AUTHOR\", \"$CHANGE_BRANCH\", 'kiegroup', \"$CHANGE_TARGET\")\n+                        maven.runMavenWithSubmarineSettings('clean install', false)\n+                    }\n+                }\n+            }\n+        }\n+        stage('Build kogito-examples') {\n+            steps {\n+                dir(\"kogito-examples\") {\n+                    script {\n+                        githubscm.checkoutIfExists('kogito-examples', \"$CHANGE_AUTHOR\", \"$CHANGE_BRANCH\", 'kiegroup', \"$CHANGE_TARGET\")\n+                        maven.runMavenWithSubmarineSettings('clean install', false)\n+                    }\n+                }\n+                // Use a separate dir for persistence to not overwrite the test results\n+                dir(\"kogito-examples-persistence\") {\n                     script {\n-                        githubscm.checkoutIfExists('kogito-apps', \"$CHANGE_AUTHOR\", \"$CHANGE_BRANCH\", 'kiegroup', \"$CHANGE_TARGET\")\n-                        wrap([$class: 'Xvnc', takeScreenshot: false, useXauthority: true]) {\n-                            sh('yarn run init && yarn build:prod')\n-                        }\n+                        githubscm.checkoutIfExists('kogito-examples', \"$CHANGE_AUTHOR\", \"$CHANGE_BRANCH\", 'kiegroup', \"$CHANGE_TARGET\")\n+                        // Don't run with tests so far, see: https://github.com/quarkusio/quarkus/issues/6885\n+                        maven.runMavenWithSubmarineSettings('clean install -Ppersistence', true)\n                     }\n                 }\n             }\n         }\n+//         stage('Analyze kogito-apps') {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f46853efa1e54f47c894bb3b4cfea6b6512fd9d6"}, "originalPosition": 73}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODU4NzU2Ng==", "bodyText": "this fails because there are no sources to analyze, so will uncomment as soon as I add the data index/job service code.", "url": "https://github.com/kiegroup/kogito-apps/pull/60#discussion_r378587566", "createdAt": "2020-02-13T00:21:03Z", "author": {"login": "cristianonicolai"}, "path": "Jenkinsfile", "diffHunk": "@@ -23,18 +26,61 @@ pipeline {\n                 sh \"chmod 600 $HOME/.vnc/passwd\"\n             }\n         }\n+        stage('Build kogito-runtimes') {\n+            steps {\n+                dir(\"kogito-runtimes\") {\n+                    script {\n+                        githubscm.checkoutIfExists('kogito-runtimes', \"$CHANGE_AUTHOR\", \"$CHANGE_BRANCH\", 'kiegroup', \"$CHANGE_TARGET\")\n+                        maven.runMavenWithSubmarineSettings('clean install -Prun-code-coverage', false)\n+                    }\n+                }\n+            }\n+        }\n         stage('Build kogito-apps') {\n             steps {\n-                dir(\"kogito-apps\") {\n+                script {\n+                    wrap([$class: 'Xvnc', takeScreenshot: false, useXauthority: true]) {\n+                        sh('yarn run init && yarn build:prod')\n+                    }\n+                    maven.runMavenWithSubmarineSettings('clean install -Prun-code-coverage', false)\n+                }\n+            }\n+        }\n+        stage('Build kogito-cloud') {\n+            steps {\n+                dir(\"kogito-cloud\") {\n+                    script {\n+                        githubscm.checkoutIfExists('kogito-cloud', \"$CHANGE_AUTHOR\", \"$CHANGE_BRANCH\", 'kiegroup', \"$CHANGE_TARGET\")\n+                        maven.runMavenWithSubmarineSettings('clean install', false)\n+                    }\n+                }\n+            }\n+        }\n+        stage('Build kogito-examples') {\n+            steps {\n+                dir(\"kogito-examples\") {\n+                    script {\n+                        githubscm.checkoutIfExists('kogito-examples', \"$CHANGE_AUTHOR\", \"$CHANGE_BRANCH\", 'kiegroup', \"$CHANGE_TARGET\")\n+                        maven.runMavenWithSubmarineSettings('clean install', false)\n+                    }\n+                }\n+                // Use a separate dir for persistence to not overwrite the test results\n+                dir(\"kogito-examples-persistence\") {\n                     script {\n-                        githubscm.checkoutIfExists('kogito-apps', \"$CHANGE_AUTHOR\", \"$CHANGE_BRANCH\", 'kiegroup', \"$CHANGE_TARGET\")\n-                        wrap([$class: 'Xvnc', takeScreenshot: false, useXauthority: true]) {\n-                            sh('yarn run init && yarn build:prod')\n-                        }\n+                        githubscm.checkoutIfExists('kogito-examples', \"$CHANGE_AUTHOR\", \"$CHANGE_BRANCH\", 'kiegroup', \"$CHANGE_TARGET\")\n+                        // Don't run with tests so far, see: https://github.com/quarkusio/quarkus/issues/6885\n+                        maven.runMavenWithSubmarineSettings('clean install -Ppersistence', true)\n                     }\n                 }\n             }\n         }\n+//         stage('Analyze kogito-apps') {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODM2NzY3Nw=="}, "originalCommit": {"oid": "f46853efa1e54f47c894bb3b4cfea6b6512fd9d6"}, "originalPosition": 73}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1088, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}