{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDUwNDE2MzI5", "number": 327, "title": "KOGITO-2246: Add keycloak integration at quarkus management console App", "bodyText": "https://issues.redhat.com/browse/KOGITO-2246\nAdds Management Console quarkus application properties to enable and configure Keycloak authentication\nAdded a KeycloakClient  to encapsulate all the interaction with Keycloak", "createdAt": "2020-07-16T18:40:23Z", "url": "https://github.com/kiegroup/kogito-apps/pull/327", "merged": true, "mergeCommit": {"oid": "8fbb01c653780f7584256effd217673145d6a0a0"}, "closed": true, "closedAt": "2020-08-07T08:14:26Z", "author": {"login": "nmirasch"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc1mroVgBqjM1NTUzNjA3OTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc8fVRnAFqTQ2MzA5NDgyNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a01ef66b8e2b12a4ced27e91f373d41a1eaba03a", "author": {"user": {"login": "nmirasch", "name": null}}, "url": "https://github.com/kiegroup/kogito-apps/commit/a01ef66b8e2b12a4ced27e91f373d41a1eaba03a", "committedDate": "2020-07-16T18:35:33Z", "message": "KOGITO-2246: Add keycloak integration at quarkus management console App"}, "afterCommit": {"oid": "635cc56619e31da027c16c4e93b099e1d5d02f9b", "author": {"user": {"login": "nmirasch", "name": null}}, "url": "https://github.com/kiegroup/kogito-apps/commit/635cc56619e31da027c16c4e93b099e1d5d02f9b", "committedDate": "2020-07-16T22:07:07Z", "message": "KOGITO-2246: Add keycloak integration at quarkus management console App"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "635cc56619e31da027c16c4e93b099e1d5d02f9b", "author": {"user": {"login": "nmirasch", "name": null}}, "url": "https://github.com/kiegroup/kogito-apps/commit/635cc56619e31da027c16c4e93b099e1d5d02f9b", "committedDate": "2020-07-16T22:07:07Z", "message": "KOGITO-2246: Add keycloak integration at quarkus management console App"}, "afterCommit": {"oid": "f51d0bbd6cd8b112f7f6a868304af3c4cb9be37f", "author": {"user": {"login": "nmirasch", "name": null}}, "url": "https://github.com/kiegroup/kogito-apps/commit/f51d0bbd6cd8b112f7f6a868304af3c4cb9be37f", "committedDate": "2020-07-17T06:26:17Z", "message": "KOGITO-2246: Add keycloak integration at quarkus management console App"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f51d0bbd6cd8b112f7f6a868304af3c4cb9be37f", "author": {"user": {"login": "nmirasch", "name": null}}, "url": "https://github.com/kiegroup/kogito-apps/commit/f51d0bbd6cd8b112f7f6a868304af3c4cb9be37f", "committedDate": "2020-07-17T06:26:17Z", "message": "KOGITO-2246: Add keycloak integration at quarkus management console App"}, "afterCommit": {"oid": "d6253cbb3ffa8c2885c7b2c1bbbb2c1794fb050c", "author": {"user": {"login": "nmirasch", "name": null}}, "url": "https://github.com/kiegroup/kogito-apps/commit/d6253cbb3ffa8c2885c7b2c1bbbb2c1794fb050c", "committedDate": "2020-07-20T09:46:04Z", "message": "KOGITO-2246: Add keycloak integration at quarkus management console App"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d6253cbb3ffa8c2885c7b2c1bbbb2c1794fb050c", "author": {"user": {"login": "nmirasch", "name": null}}, "url": "https://github.com/kiegroup/kogito-apps/commit/d6253cbb3ffa8c2885c7b2c1bbbb2c1794fb050c", "committedDate": "2020-07-20T09:46:04Z", "message": "KOGITO-2246: Add keycloak integration at quarkus management console App"}, "afterCommit": {"oid": "aa7b2e0bd7334648bb160994c93441aafffb77c2", "author": {"user": {"login": "nmirasch", "name": null}}, "url": "https://github.com/kiegroup/kogito-apps/commit/aa7b2e0bd7334648bb160994c93441aafffb77c2", "committedDate": "2020-07-21T06:00:55Z", "message": "KOGITO-2246: Add keycloak integration at quarkus management console App"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0MDAxMzc0", "url": "https://github.com/kiegroup/kogito-apps/pull/327#pullrequestreview-454001374", "createdAt": "2020-07-23T10:17:53Z", "commit": {"oid": "aa7b2e0bd7334648bb160994c93441aafffb77c2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU0Mjk5ODI0", "url": "https://github.com/kiegroup/kogito-apps/pull/327#pullrequestreview-454299824", "createdAt": "2020-07-23T16:24:32Z", "commit": {"oid": "aa7b2e0bd7334648bb160994c93441aafffb77c2"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxNjoyNDozMlrOG2SKZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yM1QxNjoyNTo1MVrOG2SN4A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTU3Mzg2Mg==", "bodyText": "unsued?", "url": "https://github.com/kiegroup/kogito-apps/pull/327#discussion_r459573862", "createdAt": "2020-07-23T16:24:32Z", "author": {"login": "cristianonicolai"}, "path": "management-console/src/main/java/org/kie/kogito/mgmt/VertxRouter.java", "diffHunk": "@@ -57,5 +77,8 @@ public void handle(RoutingContext context) {\n         }\n     }\n \n+    protected String getResource(){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa7b2e0bd7334648bb160994c93441aafffb77c2"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1OTU3NDc1Mg==", "bodyText": "@nmirasch do we need to redefine these properties here, but rely on default values instead?", "url": "https://github.com/kiegroup/kogito-apps/pull/327#discussion_r459574752", "createdAt": "2020-07-23T16:25:51Z", "author": {"login": "cristianonicolai"}, "path": "management-console/src/main/resources/application.properties", "diffHunk": "@@ -0,0 +1,7 @@\n+kogito.auth.enabled=false", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa7b2e0bd7334648bb160994c93441aafffb77c2"}, "originalPosition": 1}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aa7b2e0bd7334648bb160994c93441aafffb77c2", "author": {"user": {"login": "nmirasch", "name": null}}, "url": "https://github.com/kiegroup/kogito-apps/commit/aa7b2e0bd7334648bb160994c93441aafffb77c2", "committedDate": "2020-07-21T06:00:55Z", "message": "KOGITO-2246: Add keycloak integration at quarkus management console App"}, "afterCommit": {"oid": "07bdff9b4a83220c2d5c1382c896d90f3b89cb6b", "author": {"user": {"login": "nmirasch", "name": null}}, "url": "https://github.com/kiegroup/kogito-apps/commit/07bdff9b4a83220c2d5c1382c896d90f3b89cb6b", "committedDate": "2020-07-24T08:40:26Z", "message": "KOGITO-2246: removed keycloak conf parameters from application.properties. Added keycloakClient test check"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2MjQwMjI3", "url": "https://github.com/kiegroup/kogito-apps/pull/327#pullrequestreview-456240227", "createdAt": "2020-07-28T01:25:00Z", "commit": {"oid": "07bdff9b4a83220c2d5c1382c896d90f3b89cb6b"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5ODQ2MzAy", "url": "https://github.com/kiegroup/kogito-apps/pull/327#pullrequestreview-459846302", "createdAt": "2020-08-03T08:36:46Z", "commit": {"oid": "07bdff9b4a83220c2d5c1382c896d90f3b89cb6b"}, "state": "COMMENTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QwODozNjo0N1rOG6w4VA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wM1QwODo0MToxMlrOG6xAwQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDI3MTQ0NA==", "bodyText": "why \"kogito-quarkus-console\"? It sounds weird to me adding \"quarkus\", maybe just \"kogito-console\" or \"kogito-management-console\"?", "url": "https://github.com/kiegroup/kogito-apps/pull/327#discussion_r464271444", "createdAt": "2020-08-03T08:36:47Z", "author": {"login": "Sgitario"}, "path": "config/kogito-realm.json", "diffHunk": "@@ -800,6 +800,63 @@\n         \"microprofile-jwt\"\n       ]\n     },\n+    {\n+      \"clientId\": \"kogito-quarkus-console\",", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07bdff9b4a83220c2d5c1382c896d90f3b89cb6b"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDI3Mjc4Mw==", "bodyText": "Missing the spaces after { and before }", "url": "https://github.com/kiegroup/kogito-apps/pull/327#discussion_r464272783", "createdAt": "2020-08-03T08:39:29Z", "author": {"login": "Sgitario"}, "path": "ui-packages/packages/task-console/src/index.tsx", "diffHunk": "@@ -3,17 +3,16 @@ import ReactDOM from 'react-dom';\n import { BrowserRouter, Route, Switch } from 'react-router-dom';\n import ApolloClient from 'apollo-client';\n import { ApolloProvider } from 'react-apollo';\n-import Keycloak from 'keycloak-js';\n-import axios from 'axios';\n import '@patternfly/patternfly/patternfly.css';\n import { Nav, NavList, NavItem } from '@patternfly/react-core';\n import { HttpLink } from 'apollo-link-http';\n import { onError } from 'apollo-link-error';\n import { InMemoryCache, NormalizedCacheObject } from 'apollo-cache-inmemory';\n-import { ServerUnavailable } from '@kogito-apps/common';\n+import {appRenderWithAxiosInterceptorConfig, getToken, isAuthEnabled, ServerUnavailable} from '@kogito-apps/common';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07bdff9b4a83220c2d5c1382c896d90f3b89cb6b"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDI3MjgzNA==", "bodyText": "Missing the spaces after { and before }", "url": "https://github.com/kiegroup/kogito-apps/pull/327#discussion_r464272834", "createdAt": "2020-08-03T08:39:36Z", "author": {"login": "Sgitario"}, "path": "ui-packages/packages/task-console/src/index.tsx", "diffHunk": "@@ -3,17 +3,16 @@ import ReactDOM from 'react-dom';\n import { BrowserRouter, Route, Switch } from 'react-router-dom';\n import ApolloClient from 'apollo-client';\n import { ApolloProvider } from 'react-apollo';\n-import Keycloak from 'keycloak-js';\n-import axios from 'axios';\n import '@patternfly/patternfly/patternfly.css';\n import { Nav, NavList, NavItem } from '@patternfly/react-core';\n import { HttpLink } from 'apollo-link-http';\n import { onError } from 'apollo-link-error';\n import { InMemoryCache, NormalizedCacheObject } from 'apollo-cache-inmemory';\n-import { ServerUnavailable } from '@kogito-apps/common';\n+import {appRenderWithAxiosInterceptorConfig, getToken, isAuthEnabled, ServerUnavailable} from '@kogito-apps/common';\n import PageLayout from './components/Templates/PageLayout/PageLayout';\n import TaskConsoleContextProvider from './context/TaskConsoleContext/TaskConsoleContextProvider';\n import taskConsoleLogo from './static/taskConsoleLogo.svg';\n+import {setContext} from \"apollo-link-context\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07bdff9b4a83220c2d5c1382c896d90f3b89cb6b"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDI3MzYwMQ==", "bodyText": "Just a question, as part of this PR, I read kogito-management-console, kogito-task-console, kogito-quarkus-console and kogito-console, what is the difference among them? They are different names for the same compoment?", "url": "https://github.com/kiegroup/kogito-apps/pull/327#discussion_r464273601", "createdAt": "2020-08-03T08:41:12Z", "author": {"login": "Sgitario"}, "path": "ui-packages/packages/task-console/webpack.common.js", "diffHunk": "@@ -17,7 +17,7 @@ module.exports = {\n       KOGITO_AUTH_ENABLED: false,\n       KOGITO_KEYCLOAK_REALM: 'kogito',\n       KOGITO_KEYCLOAK_URL: 'http://localhost:8280',\n-      KOGITO_KEYCLOAK_CLIENT_ID: 'kogito-task-console',\n+      KOGITO_KEYCLOAK_CLIENT_ID: 'kogito-console',", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "07bdff9b4a83220c2d5c1382c896d90f3b89cb6b"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "07bdff9b4a83220c2d5c1382c896d90f3b89cb6b", "author": {"user": {"login": "nmirasch", "name": null}}, "url": "https://github.com/kiegroup/kogito-apps/commit/07bdff9b4a83220c2d5c1382c896d90f3b89cb6b", "committedDate": "2020-07-24T08:40:26Z", "message": "KOGITO-2246: removed keycloak conf parameters from application.properties. Added keycloakClient test check"}, "afterCommit": {"oid": "7ff43d575d2de8ff36928390f0b1ee11d527b9da", "author": {"user": {"login": "nmirasch", "name": null}}, "url": "https://github.com/kiegroup/kogito-apps/commit/7ff43d575d2de8ff36928390f0b1ee11d527b9da", "committedDate": "2020-08-04T07:31:47Z", "message": "KOGITO-2246: Add keycloak integration at quarkus management console App"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwNjA3MDg2", "url": "https://github.com/kiegroup/kogito-apps/pull/327#pullrequestreview-460607086", "createdAt": "2020-08-04T08:33:11Z", "commit": {"oid": "7ff43d575d2de8ff36928390f0b1ee11d527b9da"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYwOTMyODU0", "url": "https://github.com/kiegroup/kogito-apps/pull/327#pullrequestreview-460932854", "createdAt": "2020-08-04T15:36:25Z", "commit": {"oid": "7ff43d575d2de8ff36928390f0b1ee11d527b9da"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNTozNjoyNVrOG7mDRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQxNTo0Njo1MFrOG7mfXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE0MjU5OQ==", "bodyText": "it's distinction between kogito-console client for react app and this one which is used when the react app is bundled into quarkus service. Would kogito-console-quarkus help?", "url": "https://github.com/kiegroup/kogito-apps/pull/327#discussion_r465142599", "createdAt": "2020-08-04T15:36:25Z", "author": {"login": "jstastny-cz"}, "path": "config/kogito-realm.json", "diffHunk": "@@ -800,6 +800,63 @@\n         \"microprofile-jwt\"\n       ]\n     },\n+    {\n+      \"clientId\": \"kogito-quarkus-console\",", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDI3MTQ0NA=="}, "originalCommit": {"oid": "07bdff9b4a83220c2d5c1382c896d90f3b89cb6b"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE0NzI5OQ==", "bodyText": "whitespace issues in those three lines around =", "url": "https://github.com/kiegroup/kogito-apps/pull/327#discussion_r465147299", "createdAt": "2020-08-04T15:43:20Z", "author": {"login": "jstastny-cz"}, "path": "ui-packages/packages/management-console/src/index.html", "diffHunk": "@@ -9,6 +9,10 @@\n   </head>\n   <script>\n     window.DATA_INDEX_ENDPOINT = __DATA_INDEX_ENDPOINT__;\n+    window.KOGITO_AUTH_ENABLED = __KOGITO_AUTH_ENABLED__;\n+    window.KOGITO_AUTH_KEYCLOAK_REALM =__KOGITO_AUTH_KEYCLOAK_REALM__;\n+    window.KOGITO_AUTH_KEYCLOAK_URL=__KOGITO_AUTH_KEYCLOAK_URL__;\n+    window.KOGITO_AUTH_KEYCLOAK_CLIENT_ID=__KOGITO_AUTH_KEYCLOAK_CLIENT_ID__;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7ff43d575d2de8ff36928390f0b1ee11d527b9da"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTE0OTc5MQ==", "bodyText": "I've already mentioned above, maybe kogito-console-quarkus would be a better choice for the latter.", "url": "https://github.com/kiegroup/kogito-apps/pull/327#discussion_r465149791", "createdAt": "2020-08-04T15:46:50Z", "author": {"login": "jstastny-cz"}, "path": "ui-packages/packages/task-console/webpack.common.js", "diffHunk": "@@ -17,7 +17,7 @@ module.exports = {\n       KOGITO_AUTH_ENABLED: false,\n       KOGITO_KEYCLOAK_REALM: 'kogito',\n       KOGITO_KEYCLOAK_URL: 'http://localhost:8280',\n-      KOGITO_KEYCLOAK_CLIENT_ID: 'kogito-task-console',\n+      KOGITO_KEYCLOAK_CLIENT_ID: 'kogito-console',", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NDI3MzYwMQ=="}, "originalCommit": {"oid": "07bdff9b4a83220c2d5c1382c896d90f3b89cb6b"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f05bbcd37db032651e8b109a764427d2b3e0e867", "author": {"user": {"login": "nmirasch", "name": null}}, "url": "https://github.com/kiegroup/kogito-apps/commit/f05bbcd37db032651e8b109a764427d2b3e0e867", "committedDate": "2020-08-04T15:50:02Z", "message": "KOGITO-2246: Add keycloak integration at quarkus management console App"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bd400d40e351daa949a3fbf5710e3f7b1ea2ca6d", "author": {"user": {"login": "nmirasch", "name": null}}, "url": "https://github.com/kiegroup/kogito-apps/commit/bd400d40e351daa949a3fbf5710e3f7b1ea2ca6d", "committedDate": "2020-08-04T16:04:10Z", "message": "KOGITO-2246: Rename keycloak clients and some whitespaces issues"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7ff43d575d2de8ff36928390f0b1ee11d527b9da", "author": {"user": {"login": "nmirasch", "name": null}}, "url": "https://github.com/kiegroup/kogito-apps/commit/7ff43d575d2de8ff36928390f0b1ee11d527b9da", "committedDate": "2020-08-04T07:31:47Z", "message": "KOGITO-2246: Add keycloak integration at quarkus management console App"}, "afterCommit": {"oid": "bd400d40e351daa949a3fbf5710e3f7b1ea2ca6d", "author": {"user": {"login": "nmirasch", "name": null}}, "url": "https://github.com/kiegroup/kogito-apps/commit/bd400d40e351daa949a3fbf5710e3f7b1ea2ca6d", "committedDate": "2020-08-04T16:04:10Z", "message": "KOGITO-2246: Rename keycloak clients and some whitespaces issues"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDYzMDk0ODI0", "url": "https://github.com/kiegroup/kogito-apps/pull/327#pullrequestreview-463094824", "createdAt": "2020-08-07T07:31:50Z", "commit": {"oid": "bd400d40e351daa949a3fbf5710e3f7b1ea2ca6d"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4906, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}