{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA5ODA0MTg5", "number": 502, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwODoyNzoyOVrOE1HhMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxNDo0NDoyM1rOE1QW4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0MTMzMTY5OnYy", "diffSide": "RIGHT", "path": "ui-packages/packages/management-console/src/components/Organisms/ProcessDetailsTimeline/ProcessDetailsTimeline.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwODoyNzoyOVrOHtNgYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwODozNjozOVrOHtN0Pw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzE2OTI1MQ==", "bodyText": "@Sara4994 maybe 'handleJobCancelAction'  to differentiate from node cancelation ?", "url": "https://github.com/kiegroup/kogito-apps/pull/502#discussion_r517169251", "createdAt": "2020-11-04T08:27:29Z", "author": {"login": "nmirasch"}, "path": "ui-packages/packages/management-console/src/components/Organisms/ProcessDetailsTimeline/ProcessDetailsTimeline.tsx", "diffHunk": "@@ -85,12 +107,122 @@ const ProcessDetailsTimeline: React.FC<IOwnProps & OUIAProps> = ({\n     setModalContent(content);\n     handleModalToggle();\n   };\n-  const dropdownItems = (processInstanceData, node) => {\n+  const handleJobDetails = (job: GraphQL.Job): void => {\n+    setSelectedJob(job);\n+    handleDetailsToggle();\n+  };\n+  const handleDetailsToggle = (): void => {\n+    setIsDetailsModalOpen(!isDetailsModalOpen);\n+  };\n+\n+  const handleJobReschedule = (job: GraphQL.Job): void => {\n+    setSelectedJob(job);\n+    handleRescheduleToggle();\n+  };\n+\n+  const handleCancelAction = (job: GraphQL.Job): void => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2a2c3cdbf0b2b8fb39ff811ea0898e8c3245f97"}, "originalPosition": 90}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzE3NDMzNQ==", "bodyText": "@Sara4994 we are duplicating here again, the same calls for the different jobs related actions. Could we unify in one place, at least this calls?", "url": "https://github.com/kiegroup/kogito-apps/pull/502#discussion_r517174335", "createdAt": "2020-11-04T08:36:39Z", "author": {"login": "nmirasch"}, "path": "ui-packages/packages/management-console/src/components/Organisms/ProcessDetailsTimeline/ProcessDetailsTimeline.tsx", "diffHunk": "@@ -85,12 +107,122 @@ const ProcessDetailsTimeline: React.FC<IOwnProps & OUIAProps> = ({\n     setModalContent(content);\n     handleModalToggle();\n   };\n-  const dropdownItems = (processInstanceData, node) => {\n+  const handleJobDetails = (job: GraphQL.Job): void => {\n+    setSelectedJob(job);\n+    handleDetailsToggle();\n+  };\n+  const handleDetailsToggle = (): void => {\n+    setIsDetailsModalOpen(!isDetailsModalOpen);\n+  };\n+\n+  const handleJobReschedule = (job: GraphQL.Job): void => {\n+    setSelectedJob(job);\n+    handleRescheduleToggle();\n+  };\n+\n+  const handleCancelAction = (job: GraphQL.Job): void => {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzE2OTI1MQ=="}, "originalCommit": {"oid": "f2a2c3cdbf0b2b8fb39ff811ea0898e8c3245f97"}, "originalPosition": 90}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0MTMzNjUwOnYy", "diffSide": "RIGHT", "path": "ui-packages/packages/common/src/graphql/types.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwODoyODo1MFrOHtNjZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQwODoyODo1MFrOHtNjZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzE3MDAyMQ==", "bodyText": "@Sara4994 I think we moved to eslint", "url": "https://github.com/kiegroup/kogito-apps/pull/502#discussion_r517170021", "createdAt": "2020-11-04T08:28:50Z", "author": {"login": "nmirasch"}, "path": "ui-packages/packages/common/src/graphql/types.tsx", "diffHunk": "@@ -1,4 +1,4 @@\n-/* eslint-disable */\n+/* tslint:disable */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f2a2c3cdbf0b2b8fb39ff811ea0898e8c3245f97"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0MjczNDU2OnYy", "diffSide": "RIGHT", "path": "ui-packages/packages/management-console/src/components/Organisms/ProcessDetailsJobsPanel/ProcessDetailsJobsPanel.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxNDozNDozNVrOHta1bQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxNDozNDozNVrOHta1bQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzM4NzYyOQ==", "bodyText": "the jobResponse name is indicating it's a static entity - just response, but it has also refetch() function defined. Would a JobRequest would be more appropriate?\nAlso JobsPanelProps property should reflect the name - I would easily name this a request. -> getJobs indicate it's rather a function.", "url": "https://github.com/kiegroup/kogito-apps/pull/502#discussion_r517387629", "createdAt": "2020-11-04T14:34:35Z", "author": {"login": "jstastny-cz"}, "path": "ui-packages/packages/management-console/src/components/Organisms/ProcessDetailsJobsPanel/ProcessDetailsJobsPanel.tsx", "diffHunk": "@@ -19,12 +19,21 @@ import JobActionsKebab from '../../Atoms/JobActionsKebab/JobActionsKebab';\n import { OUIAProps, componentOuiaProps, GraphQL } from '@kogito-apps/common';\n import { JobsIconCreator } from '../../../utils/Utils';\n import { refetchContext } from '../../contexts';\n+\n+interface ResponseDataType {\n+  Jobs?: GraphQL.Job[];\n+}\n+interface jobResponse {\n+  data: ResponseDataType;\n+  loading: boolean;\n+  refetch: () => void;\n+}\n interface JobsPanelProps {\n-  processInstanceId: string;\n+  getJobs: jobResponse;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "347a6ae478827a71206b22cc4c4a38984d646a75"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0Mjc3Mjk1OnYy", "diffSide": "RIGHT", "path": "ui-packages/packages/management-console/src/components/Organisms/ProcessDetailsTimeline/ProcessDetailsTimeline.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxNDo0Mjo1MlrOHtbNaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxNDo0Mjo1MlrOHtbNaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzM5Mzc2OQ==", "bodyText": "same naming concern as in ProcessDetailsJobsPanel", "url": "https://github.com/kiegroup/kogito-apps/pull/502#discussion_r517393769", "createdAt": "2020-11-04T14:42:52Z", "author": {"login": "jstastny-cz"}, "path": "ui-packages/packages/management-console/src/components/Organisms/ProcessDetailsTimeline/ProcessDetailsTimeline.tsx", "diffHunk": "@@ -29,32 +31,52 @@ import {\n   handleSkip,\n   handleNodeInstanceRetrigger,\n   setTitle,\n-  handleNodeInstanceCancel\n+  handleNodeInstanceCancel,\n+  jobCancel\n } from '../../../utils/Utils';\n import ProcessInstance = GraphQL.ProcessInstance;\n import ProcessListModal from '../../Atoms/ProcessListModal/ProcessListModal';\n+import JobsPanelDetailsModal from '../../Atoms/JobsPanelDetailsModal/JobsPanelDetailsModal';\n+import JobsRescheduleModal from '../../Atoms/JobsRescheduleModal/JobsRescheduleModal';\n+import { refetchContext } from '../../contexts';\n+import JobsCancelModal from '../../Atoms/JobsCancelModal/JobsCancelModal';\n \n+interface jobResponse {\n+  data: any;\n+  loading: boolean;\n+  refetch: () => void;\n+}\n export interface IOwnProps {\n   data: Pick<\n     ProcessInstance,\n     'id' | 'nodes' | 'addons' | 'error' | 'serviceUrl' | 'processId' | 'state'\n   >;\n+  getJobs: jobResponse;\n }\n enum TitleType {\n   SUCCESS = 'success',\n   FAILURE = 'failure'\n }\n const ProcessDetailsTimeline: React.FC<IOwnProps & OUIAProps> = ({\n   data,\n+  getJobs,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "347a6ae478827a71206b22cc4c4a38984d646a75"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0Mjc3NDE4OnYy", "diffSide": "RIGHT", "path": "ui-packages/packages/management-console/src/components/Organisms/ProcessDetailsTimeline/ProcessDetailsTimeline.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxNDo0MzoxMVrOHtbOQQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxNDo0MzoxMVrOHtbOQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzM5Mzk4NQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                setisRescheduleModalOpen(!isRescheduleModalOpen);\n          \n          \n            \n                setIsRescheduleModalOpen(!isRescheduleModalOpen);", "url": "https://github.com/kiegroup/kogito-apps/pull/502#discussion_r517393985", "createdAt": "2020-11-04T14:43:11Z", "author": {"login": "jstastny-cz"}, "path": "ui-packages/packages/management-console/src/components/Organisms/ProcessDetailsTimeline/ProcessDetailsTimeline.tsx", "diffHunk": "@@ -85,12 +107,109 @@ const ProcessDetailsTimeline: React.FC<IOwnProps & OUIAProps> = ({\n     setModalContent(content);\n     handleModalToggle();\n   };\n-  const dropdownItems = (processInstanceData, node) => {\n+  const handleJobDetails = (job: GraphQL.Job): void => {\n+    setSelectedJob(job);\n+    handleDetailsToggle();\n+  };\n+  const handleDetailsToggle = (): void => {\n+    setIsDetailsModalOpen(!isDetailsModalOpen);\n+  };\n+\n+  const handleJobReschedule = (job: GraphQL.Job): void => {\n+    setSelectedJob(job);\n+    handleRescheduleToggle();\n+  };\n+\n+  const handleCancelAction = (job: GraphQL.Job): void => {\n+    jobCancel(job, setCancelModalTitle, setModalContent, getJobs.refetch);\n+    handleCancelModalToggle();\n+  };\n+\n+  const handleRescheduleToggle = (): void => {\n+    setisRescheduleModalOpen(!isRescheduleModalOpen);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "347a6ae478827a71206b22cc4c4a38984d646a75"}, "originalPosition": 96}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0Mjc3OTg2OnYy", "diffSide": "RIGHT", "path": "ui-packages/packages/management-console/src/components/Organisms/ProcessDetailsTimeline/ProcessDetailsTimeline.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxNDo0NDoyM1rOHtbRzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNFQxNDo0NDoyM1rOHtbRzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzM5NDg5NA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                const dropdownItemsValue: any = dropdownItems(data, node);\n          \n          \n            \n                const dropdownItemsValue: JSX.Element[] = dropdownItems(data, node);", "url": "https://github.com/kiegroup/kogito-apps/pull/502#discussion_r517394894", "createdAt": "2020-11-04T14:44:23Z", "author": {"login": "jstastny-cz"}, "path": "ui-packages/packages/management-console/src/components/Organisms/ProcessDetailsTimeline/ProcessDetailsTimeline.tsx", "diffHunk": "@@ -189,15 +310,19 @@ const ProcessDetailsTimeline: React.FC<IOwnProps & OUIAProps> = ({\n           Cancel node\n         </DropdownItem>\n       ];\n+      const items = renderJobActions(node.id, options);\n+      return items.flat();\n     } else {\n-      return [];\n+      const items = renderJobActions(node.id, []);\n+      return items.flat();\n     }\n   };\n-  const processManagementKebabButtons = (node, index) => {\n-    const dropdownItemsValue = dropdownItems(data, node);\n+  const processManagementKebabButtons = (node, index): JSX.Element => {\n+    const dropdownItemsValue: any = dropdownItems(data, node);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "347a6ae478827a71206b22cc4c4a38984d646a75"}, "originalPosition": 211}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1162, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}