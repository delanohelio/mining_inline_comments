{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIxMzc2MDI2", "number": 230, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxNTozNDowNlrOD-_drA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMTozODoxNlrOEADHfA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3Mzc4MDkyOnYy", "diffSide": "RIGHT", "path": "trusty/trusty-service/src/main/java/org/kie/kogito/trusty/service/responses/ExecutionHeaderResponse.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxNTozNDowNlrOGZbbUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxNTo0NjoxMFrOGZbzrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTMxNjk0Nw==", "bodyText": "Why do you want to split \"internal\" representation of the execution and the external one?\nConsidering that this service is designed to serve these kind of data I do not expect this to be needed. I would start simple with only one version and then it is always possible to decouple it.", "url": "https://github.com/kiegroup/kogito-apps/pull/230#discussion_r429316947", "createdAt": "2020-05-22T15:34:06Z", "author": {"login": "danielezonca"}, "path": "trusty/trusty-service/src/main/java/org/kie/kogito/trusty/service/responses/ExecutionHeaderResponse.java", "diffHunk": "@@ -0,0 +1,118 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.kie.kogito.trusty.service.responses;\n+\n+import java.util.Date;\n+\n+import com.fasterxml.jackson.annotation.JsonFormat;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import org.kie.kogito.trusty.service.models.Execution;\n+\n+/**\n+ * An execution header.\n+ */\n+public class ExecutionHeaderResponse {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f507bdfc1b5bb6d3b8c83ce4cb474b7251f9ce5d"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTMyMzE4Mg==", "bodyText": "It's already needed actually. All the executions we will manipulate will be Decision (and in the future Process) objects.  The Decision object extends the Execution class, and the ExecutionHeaderResponse ensures that only the Execution information is exported.", "url": "https://github.com/kiegroup/kogito-apps/pull/230#discussion_r429323182", "createdAt": "2020-05-22T15:46:10Z", "author": {"login": "r00ta"}, "path": "trusty/trusty-service/src/main/java/org/kie/kogito/trusty/service/responses/ExecutionHeaderResponse.java", "diffHunk": "@@ -0,0 +1,118 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.kie.kogito.trusty.service.responses;\n+\n+import java.util.Date;\n+\n+import com.fasterxml.jackson.annotation.JsonFormat;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+import org.kie.kogito.trusty.service.models.Execution;\n+\n+/**\n+ * An execution header.\n+ */\n+public class ExecutionHeaderResponse {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTMxNjk0Nw=="}, "originalCommit": {"oid": "f507bdfc1b5bb6d3b8c83ce4cb474b7251f9ce5d"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY3Mzc4MjA0OnYy", "diffSide": "RIGHT", "path": "trusty/trusty-service/src/main/java/org/kie/kogito/trusty/service/responses/ExecutionTypeEnumResponse.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxNTozNDoyN1rOGZbcDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMlQxNTo0Nzo0OVrOGZb3Tw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTMxNzEzMg==", "bodyText": "Same comment as ExecutionHeaderResponse class", "url": "https://github.com/kiegroup/kogito-apps/pull/230#discussion_r429317132", "createdAt": "2020-05-22T15:34:27Z", "author": {"login": "danielezonca"}, "path": "trusty/trusty-service/src/main/java/org/kie/kogito/trusty/service/responses/ExecutionTypeEnumResponse.java", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.kie.kogito.trusty.service.responses;\n+\n+import org.kie.kogito.trusty.service.models.ExecutionTypeEnum;\n+\n+/**\n+ * The execution enum type.\n+ */\n+public enum ExecutionTypeEnumResponse {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f507bdfc1b5bb6d3b8c83ce4cb474b7251f9ce5d"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTMyNDExMQ==", "bodyText": "For this class we can remove the copy, that's true. In general I prefer to split the internal model and the reponses, but for this enum I can live with it. I will remove", "url": "https://github.com/kiegroup/kogito-apps/pull/230#discussion_r429324111", "createdAt": "2020-05-22T15:47:49Z", "author": {"login": "r00ta"}, "path": "trusty/trusty-service/src/main/java/org/kie/kogito/trusty/service/responses/ExecutionTypeEnumResponse.java", "diffHunk": "@@ -0,0 +1,52 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.kie.kogito.trusty.service.responses;\n+\n+import org.kie.kogito.trusty.service.models.ExecutionTypeEnum;\n+\n+/**\n+ * The execution enum type.\n+ */\n+public enum ExecutionTypeEnumResponse {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyOTMxNzEzMg=="}, "originalCommit": {"oid": "f507bdfc1b5bb6d3b8c83ce4cb474b7251f9ce5d"}, "originalPosition": 24}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4MTIwMjAzOnYy", "diffSide": "RIGHT", "path": "trusty/trusty-service/src/main/java/org/kie/kogito/trusty/service/api/ExecutionsApiV1.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNDoyODoxMFrOGag7gg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwNzoyNDowOVrOGa8lhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ1NTY4Mg==", "bodyText": "Please split these long lines to make the code more readable.", "url": "https://github.com/kiegroup/kogito-apps/pull/230#discussion_r430455682", "createdAt": "2020-05-26T14:28:10Z", "author": {"login": "jiripetrlik"}, "path": "trusty/trusty-service/src/main/java/org/kie/kogito/trusty/service/api/ExecutionsApiV1.java", "diffHunk": "@@ -0,0 +1,135 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.kie.kogito.trusty.service.api;\n+\n+import java.time.LocalDateTime;\n+import java.time.OffsetDateTime;\n+import java.time.ZoneOffset;\n+import java.time.ZonedDateTime;\n+import java.time.format.DateTimeFormatter;\n+import java.time.format.DateTimeParseException;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import javax.inject.Inject;\n+import javax.ws.rs.DefaultValue;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+\n+import org.eclipse.microprofile.openapi.annotations.Operation;\n+import org.eclipse.microprofile.openapi.annotations.enums.SchemaType;\n+import org.eclipse.microprofile.openapi.annotations.media.Content;\n+import org.eclipse.microprofile.openapi.annotations.media.Schema;\n+import org.eclipse.microprofile.openapi.annotations.parameters.Parameter;\n+import org.eclipse.microprofile.openapi.annotations.responses.APIResponse;\n+import org.eclipse.microprofile.openapi.annotations.responses.APIResponses;\n+import org.jboss.resteasy.annotations.jaxrs.QueryParam;\n+import org.kie.kogito.trusty.service.ITrustyService;\n+import org.kie.kogito.trusty.service.models.Execution;\n+import org.kie.kogito.trusty.service.responses.ExecutionHeaderResponse;\n+import org.kie.kogito.trusty.service.responses.ExecutionsResponse;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The trusty api resource.\n+ */\n+@Path(\"v1/executions\")\n+public class ExecutionsApiV1 {\n+\n+    private static final Logger LOGGER = LoggerFactory.getLogger(ExecutionsApiV1.class);\n+\n+    @Inject\n+    ITrustyService executionService;\n+\n+    /**\n+     * Gets all the headers of the executions that were evaluated within a specified time range.\n+     *\n+     * @param from   The start datetime.\n+     * @param to     The end datetime.\n+     * @param limit  The maximum (non-negative) number of items to be returned.\n+     * @param offset The non-negative pagination offset.\n+     * @param prefix The executionId prefix to be matched in the search.\n+     * @return The execution headers that satisfy the time range, pagination and prefix conditions.\n+     */\n+    @GET\n+    @APIResponses(value = {\n+            @APIResponse(description = \"Returns the execution headers.\", responseCode = \"200\", content = @Content(mediaType = MediaType.APPLICATION_JSON, schema = @Schema(type = SchemaType.OBJECT, implementation = ExecutionsResponse.class))),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e94b14df90445b112c2ef1df138e53151863207b"}, "originalPosition": 74}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDkwODgwNg==", "bodyText": "Done", "url": "https://github.com/kiegroup/kogito-apps/pull/230#discussion_r430908806", "createdAt": "2020-05-27T07:24:09Z", "author": {"login": "r00ta"}, "path": "trusty/trusty-service/src/main/java/org/kie/kogito/trusty/service/api/ExecutionsApiV1.java", "diffHunk": "@@ -0,0 +1,135 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.kie.kogito.trusty.service.api;\n+\n+import java.time.LocalDateTime;\n+import java.time.OffsetDateTime;\n+import java.time.ZoneOffset;\n+import java.time.ZonedDateTime;\n+import java.time.format.DateTimeFormatter;\n+import java.time.format.DateTimeParseException;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import javax.inject.Inject;\n+import javax.ws.rs.DefaultValue;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+\n+import org.eclipse.microprofile.openapi.annotations.Operation;\n+import org.eclipse.microprofile.openapi.annotations.enums.SchemaType;\n+import org.eclipse.microprofile.openapi.annotations.media.Content;\n+import org.eclipse.microprofile.openapi.annotations.media.Schema;\n+import org.eclipse.microprofile.openapi.annotations.parameters.Parameter;\n+import org.eclipse.microprofile.openapi.annotations.responses.APIResponse;\n+import org.eclipse.microprofile.openapi.annotations.responses.APIResponses;\n+import org.jboss.resteasy.annotations.jaxrs.QueryParam;\n+import org.kie.kogito.trusty.service.ITrustyService;\n+import org.kie.kogito.trusty.service.models.Execution;\n+import org.kie.kogito.trusty.service.responses.ExecutionHeaderResponse;\n+import org.kie.kogito.trusty.service.responses.ExecutionsResponse;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The trusty api resource.\n+ */\n+@Path(\"v1/executions\")\n+public class ExecutionsApiV1 {\n+\n+    private static final Logger LOGGER = LoggerFactory.getLogger(ExecutionsApiV1.class);\n+\n+    @Inject\n+    ITrustyService executionService;\n+\n+    /**\n+     * Gets all the headers of the executions that were evaluated within a specified time range.\n+     *\n+     * @param from   The start datetime.\n+     * @param to     The end datetime.\n+     * @param limit  The maximum (non-negative) number of items to be returned.\n+     * @param offset The non-negative pagination offset.\n+     * @param prefix The executionId prefix to be matched in the search.\n+     * @return The execution headers that satisfy the time range, pagination and prefix conditions.\n+     */\n+    @GET\n+    @APIResponses(value = {\n+            @APIResponse(description = \"Returns the execution headers.\", responseCode = \"200\", content = @Content(mediaType = MediaType.APPLICATION_JSON, schema = @Schema(type = SchemaType.OBJECT, implementation = ExecutionsResponse.class))),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ1NTY4Mg=="}, "originalCommit": {"oid": "e94b14df90445b112c2ef1df138e53151863207b"}, "originalPosition": 74}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4MTIwNTE1OnYy", "diffSide": "RIGHT", "path": "trusty/trusty-service/src/main/java/org/kie/kogito/trusty/service/models/Execution.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNDoyODo1MVrOGag9mw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwNzoyNDoxM1rOGa8ltg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ1NjIxOQ==", "bodyText": "Please split.", "url": "https://github.com/kiegroup/kogito-apps/pull/230#discussion_r430456219", "createdAt": "2020-05-26T14:28:51Z", "author": {"login": "jiripetrlik"}, "path": "trusty/trusty-service/src/main/java/org/kie/kogito/trusty/service/models/Execution.java", "diffHunk": "@@ -0,0 +1,111 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.kie.kogito.trusty.service.models;\n+\n+import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/**\n+ * An execution.\n+ */\n+@JsonIgnoreProperties(ignoreUnknown = true)\n+public class Execution {\n+\n+    @JsonProperty(\"executionId\")\n+    private String executionId;\n+\n+    @JsonProperty(\"executionTimestamp\")\n+    private Long executionTimestamp;\n+\n+    @JsonProperty(\"hasSucceeded\")\n+    private boolean hasSucceeded;\n+\n+    @JsonProperty(\"executorName\")\n+    private String executorName;\n+\n+    @JsonProperty(\"executedModelName\")\n+    private String executedModelName;\n+\n+    @JsonProperty(\"executionType\")\n+    private ExecutionTypeEnum executionType;\n+\n+    public Execution() {\n+    }\n+\n+    public Execution(String executionId, Long executionTimestamp, boolean hasSucceeded, String executorName, String executedModelName, ExecutionTypeEnum executionType) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e94b14df90445b112c2ef1df138e53151863207b"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDkwODg1NA==", "bodyText": "Done", "url": "https://github.com/kiegroup/kogito-apps/pull/230#discussion_r430908854", "createdAt": "2020-05-27T07:24:13Z", "author": {"login": "r00ta"}, "path": "trusty/trusty-service/src/main/java/org/kie/kogito/trusty/service/models/Execution.java", "diffHunk": "@@ -0,0 +1,111 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.kie.kogito.trusty.service.models;\n+\n+import com.fasterxml.jackson.annotation.JsonIgnoreProperties;\n+import com.fasterxml.jackson.annotation.JsonProperty;\n+\n+/**\n+ * An execution.\n+ */\n+@JsonIgnoreProperties(ignoreUnknown = true)\n+public class Execution {\n+\n+    @JsonProperty(\"executionId\")\n+    private String executionId;\n+\n+    @JsonProperty(\"executionTimestamp\")\n+    private Long executionTimestamp;\n+\n+    @JsonProperty(\"hasSucceeded\")\n+    private boolean hasSucceeded;\n+\n+    @JsonProperty(\"executorName\")\n+    private String executorName;\n+\n+    @JsonProperty(\"executedModelName\")\n+    private String executedModelName;\n+\n+    @JsonProperty(\"executionType\")\n+    private ExecutionTypeEnum executionType;\n+\n+    public Execution() {\n+    }\n+\n+    public Execution(String executionId, Long executionTimestamp, boolean hasSucceeded, String executorName, String executedModelName, ExecutionTypeEnum executionType) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ1NjIxOQ=="}, "originalCommit": {"oid": "e94b14df90445b112c2ef1df138e53151863207b"}, "originalPosition": 49}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4MTIwODc1OnYy", "diffSide": "RIGHT", "path": "trusty/trusty-service/src/test/java/org/kie/kogito/trusty/service/api/ExecutionsApiV1Test.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNDoyOTo0MFrOGag__g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwNzoyNDoxOVrOGa8l8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ1NjgzMA==", "bodyText": "Please split this line.", "url": "https://github.com/kiegroup/kogito-apps/pull/230#discussion_r430456830", "createdAt": "2020-05-26T14:29:40Z", "author": {"login": "jiripetrlik"}, "path": "trusty/trusty-service/src/test/java/org/kie/kogito/trusty/service/api/ExecutionsApiV1Test.java", "diffHunk": "@@ -0,0 +1,94 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.kie.kogito.trusty.service.api;\n+\n+import java.text.DateFormat;\n+import java.text.ParseException;\n+import java.text.SimpleDateFormat;\n+import java.time.OffsetDateTime;\n+import java.time.format.DateTimeFormatter;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import io.quarkus.test.junit.QuarkusTest;\n+import io.quarkus.test.junit.mockito.InjectMock;\n+import io.restassured.http.ContentType;\n+import org.junit.jupiter.api.Assertions;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.TestInstance;\n+import org.kie.kogito.trusty.service.ITrustyService;\n+import org.kie.kogito.trusty.service.models.Execution;\n+import org.kie.kogito.trusty.service.models.ExecutionTypeEnum;\n+import org.kie.kogito.trusty.service.responses.ExecutionsResponse;\n+import org.mockito.Mockito;\n+\n+import static io.restassured.RestAssured.given;\n+import static org.mockito.ArgumentMatchers.any;\n+\n+@QuarkusTest\n+@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n+class ExecutionsApiV1Test {\n+\n+    @InjectMock\n+    ITrustyService executionService;\n+\n+    @Test\n+    void GivenRequestWithoutLimitAndOffsetParameters_WhenExecutionEndpointIsCalled_ThenTheDefaultValuesAreCorrect() {\n+        Mockito.when(executionService.getExecutionHeaders(any(OffsetDateTime.class), any(OffsetDateTime.class), any(Integer.class), any(Integer.class), any(String.class))).thenReturn(new ArrayList<>());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e94b14df90445b112c2ef1df138e53151863207b"}, "originalPosition": 51}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDkwODkxMw==", "bodyText": "Done", "url": "https://github.com/kiegroup/kogito-apps/pull/230#discussion_r430908913", "createdAt": "2020-05-27T07:24:19Z", "author": {"login": "r00ta"}, "path": "trusty/trusty-service/src/test/java/org/kie/kogito/trusty/service/api/ExecutionsApiV1Test.java", "diffHunk": "@@ -0,0 +1,94 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.kie.kogito.trusty.service.api;\n+\n+import java.text.DateFormat;\n+import java.text.ParseException;\n+import java.text.SimpleDateFormat;\n+import java.time.OffsetDateTime;\n+import java.time.format.DateTimeFormatter;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import io.quarkus.test.junit.QuarkusTest;\n+import io.quarkus.test.junit.mockito.InjectMock;\n+import io.restassured.http.ContentType;\n+import org.junit.jupiter.api.Assertions;\n+import org.junit.jupiter.api.Test;\n+import org.junit.jupiter.api.TestInstance;\n+import org.kie.kogito.trusty.service.ITrustyService;\n+import org.kie.kogito.trusty.service.models.Execution;\n+import org.kie.kogito.trusty.service.models.ExecutionTypeEnum;\n+import org.kie.kogito.trusty.service.responses.ExecutionsResponse;\n+import org.mockito.Mockito;\n+\n+import static io.restassured.RestAssured.given;\n+import static org.mockito.ArgumentMatchers.any;\n+\n+@QuarkusTest\n+@TestInstance(TestInstance.Lifecycle.PER_CLASS)\n+class ExecutionsApiV1Test {\n+\n+    @InjectMock\n+    ITrustyService executionService;\n+\n+    @Test\n+    void GivenRequestWithoutLimitAndOffsetParameters_WhenExecutionEndpointIsCalled_ThenTheDefaultValuesAreCorrect() {\n+        Mockito.when(executionService.getExecutionHeaders(any(OffsetDateTime.class), any(OffsetDateTime.class), any(Integer.class), any(Integer.class), any(String.class))).thenReturn(new ArrayList<>());", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ1NjgzMA=="}, "originalCommit": {"oid": "e94b14df90445b112c2ef1df138e53151863207b"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4MTIyODY4OnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yNlQxNDozMzo0NVrOGahMRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwNzo0Njo1OVrOGa9VAg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ1OTk3NQ==", "bodyText": "Wouldn't it be better to be more specific with the name of this model. Can we for example use something like trusty-ai?", "url": "https://github.com/kiegroup/kogito-apps/pull/230#discussion_r430459975", "createdAt": "2020-05-26T14:33:45Z", "author": {"login": "jiripetrlik"}, "path": "pom.xml", "diffHunk": "@@ -62,6 +62,8 @@\n     <module>jobs-service</module>\n     <module>data-index</module>\n     <module>management-console</module>\n+    <module>explainability-service</module>\n+    <module>trusty</module>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e94b14df90445b112c2ef1df138e53151863207b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDkwOTQzMQ==", "bodyText": "Fine for me, @danielezonca wdyt?", "url": "https://github.com/kiegroup/kogito-apps/pull/230#discussion_r430909431", "createdAt": "2020-05-27T07:25:18Z", "author": {"login": "r00ta"}, "path": "pom.xml", "diffHunk": "@@ -62,6 +62,8 @@\n     <module>jobs-service</module>\n     <module>data-index</module>\n     <module>management-console</module>\n+    <module>explainability-service</module>\n+    <module>trusty</module>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ1OTk3NQ=="}, "originalCommit": {"oid": "e94b14df90445b112c2ef1df138e53151863207b"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDkyMDk2Mg==", "bodyText": "Personally I prefer trusty-service if we want to better identify it. But then (as @r00ta showed me in the previous PR) we will have trusty-service/trusty-service-service \ud83d\ude04\nI don't think we have a defined naming convention for these services: we have jobs-service and explainable-service but then we have data-index without any suffix so I would stay with trusty for now.\n@jiripetrlik Wdyt?", "url": "https://github.com/kiegroup/kogito-apps/pull/230#discussion_r430920962", "createdAt": "2020-05-27T07:46:59Z", "author": {"login": "danielezonca"}, "path": "pom.xml", "diffHunk": "@@ -62,6 +62,8 @@\n     <module>jobs-service</module>\n     <module>data-index</module>\n     <module>management-console</module>\n+    <module>explainability-service</module>\n+    <module>trusty</module>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDQ1OTk3NQ=="}, "originalCommit": {"oid": "e94b14df90445b112c2ef1df138e53151863207b"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4NDA0Njg4OnYy", "diffSide": "RIGHT", "path": "trusty/trusty-service/src/main/java/org/kie/kogito/trusty/service/api/ExecutionsApiV1.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwNzozODo0OVrOGa9DMA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QwODoxOToyOFrOGa-dvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDkxNjQwMA==", "bodyText": "I just noticed that there are two mandatory query parameters. In general I don't like GET methods that fails with no parameters.\nIs it possible to default to from yesterday to now?", "url": "https://github.com/kiegroup/kogito-apps/pull/230#discussion_r430916400", "createdAt": "2020-05-27T07:38:49Z", "author": {"login": "danielezonca"}, "path": "trusty/trusty-service/src/main/java/org/kie/kogito/trusty/service/api/ExecutionsApiV1.java", "diffHunk": "@@ -0,0 +1,138 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.kie.kogito.trusty.service.api;\n+\n+import java.time.LocalDateTime;\n+import java.time.OffsetDateTime;\n+import java.time.ZoneOffset;\n+import java.time.ZonedDateTime;\n+import java.time.format.DateTimeFormatter;\n+import java.time.format.DateTimeParseException;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import javax.inject.Inject;\n+import javax.ws.rs.DefaultValue;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+\n+import org.eclipse.microprofile.openapi.annotations.Operation;\n+import org.eclipse.microprofile.openapi.annotations.enums.SchemaType;\n+import org.eclipse.microprofile.openapi.annotations.media.Content;\n+import org.eclipse.microprofile.openapi.annotations.media.Schema;\n+import org.eclipse.microprofile.openapi.annotations.parameters.Parameter;\n+import org.eclipse.microprofile.openapi.annotations.responses.APIResponse;\n+import org.eclipse.microprofile.openapi.annotations.responses.APIResponses;\n+import org.jboss.resteasy.annotations.jaxrs.QueryParam;\n+import org.kie.kogito.trusty.service.ITrustyService;\n+import org.kie.kogito.trusty.service.models.Execution;\n+import org.kie.kogito.trusty.service.responses.ExecutionHeaderResponse;\n+import org.kie.kogito.trusty.service.responses.ExecutionsResponse;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The trusty api resource.\n+ */\n+@Path(\"v1/executions\")\n+public class ExecutionsApiV1 {\n+\n+    private static final Logger LOGGER = LoggerFactory.getLogger(ExecutionsApiV1.class);\n+\n+    @Inject\n+    ITrustyService executionService;\n+\n+    /**\n+     * Gets all the headers of the executions that were evaluated within a specified time range.\n+     *\n+     * @param from   The start datetime.\n+     * @param to     The end datetime.\n+     * @param limit  The maximum (non-negative) number of items to be returned.\n+     * @param offset The non-negative pagination offset.\n+     * @param prefix The executionId prefix to be matched in the search.\n+     * @return The execution headers that satisfy the time range, pagination and prefix conditions.\n+     */\n+    @GET\n+    @APIResponses(value = {\n+            @APIResponse(description = \"Returns the execution headers.\",\n+                    responseCode = \"200\",\n+                    content = @Content(mediaType = MediaType.APPLICATION_JSON,\n+                    schema = @Schema(type = SchemaType.OBJECT, implementation = ExecutionsResponse.class))),\n+            @APIResponse(description = \"Bad Request\", responseCode = \"400\", content = @Content(mediaType = MediaType.TEXT_PLAIN))\n+    }\n+    )\n+    @Operation(summary = \"Gets the execution headers\", description = \"Gets the execution headers.\")\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public Response getExecutions(\n+            @Parameter(\n+                    name = \"from\",\n+                    description = \"Start datetime for the lookup. Date in the format \\\"yyyy-MM-dd'T'HH:mm:ssZ\\\"\",\n+                    required = true,\n+                    schema = @Schema(implementation = String.class)\n+            ) @QueryParam(\"from\") String from,\n+            @Parameter(\n+                    name = \"to\",\n+                    description = \"End datetime for the lookup. Date in the format \\\"yyyy-MM-dd'T'HH:mm:ssZ\\\"\",\n+                    required = true,\n+                    schema = @Schema(implementation = String.class)\n+            ) @QueryParam(\"to\") String to,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "08f7f546f2d9ee25fb7afb68952309b00569ad5f"}, "originalPosition": 95}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDkzOTU4MA==", "bodyText": "Done", "url": "https://github.com/kiegroup/kogito-apps/pull/230#discussion_r430939580", "createdAt": "2020-05-27T08:19:28Z", "author": {"login": "r00ta"}, "path": "trusty/trusty-service/src/main/java/org/kie/kogito/trusty/service/api/ExecutionsApiV1.java", "diffHunk": "@@ -0,0 +1,138 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.kie.kogito.trusty.service.api;\n+\n+import java.time.LocalDateTime;\n+import java.time.OffsetDateTime;\n+import java.time.ZoneOffset;\n+import java.time.ZonedDateTime;\n+import java.time.format.DateTimeFormatter;\n+import java.time.format.DateTimeParseException;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import javax.inject.Inject;\n+import javax.ws.rs.DefaultValue;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+\n+import org.eclipse.microprofile.openapi.annotations.Operation;\n+import org.eclipse.microprofile.openapi.annotations.enums.SchemaType;\n+import org.eclipse.microprofile.openapi.annotations.media.Content;\n+import org.eclipse.microprofile.openapi.annotations.media.Schema;\n+import org.eclipse.microprofile.openapi.annotations.parameters.Parameter;\n+import org.eclipse.microprofile.openapi.annotations.responses.APIResponse;\n+import org.eclipse.microprofile.openapi.annotations.responses.APIResponses;\n+import org.jboss.resteasy.annotations.jaxrs.QueryParam;\n+import org.kie.kogito.trusty.service.ITrustyService;\n+import org.kie.kogito.trusty.service.models.Execution;\n+import org.kie.kogito.trusty.service.responses.ExecutionHeaderResponse;\n+import org.kie.kogito.trusty.service.responses.ExecutionsResponse;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The trusty api resource.\n+ */\n+@Path(\"v1/executions\")\n+public class ExecutionsApiV1 {\n+\n+    private static final Logger LOGGER = LoggerFactory.getLogger(ExecutionsApiV1.class);\n+\n+    @Inject\n+    ITrustyService executionService;\n+\n+    /**\n+     * Gets all the headers of the executions that were evaluated within a specified time range.\n+     *\n+     * @param from   The start datetime.\n+     * @param to     The end datetime.\n+     * @param limit  The maximum (non-negative) number of items to be returned.\n+     * @param offset The non-negative pagination offset.\n+     * @param prefix The executionId prefix to be matched in the search.\n+     * @return The execution headers that satisfy the time range, pagination and prefix conditions.\n+     */\n+    @GET\n+    @APIResponses(value = {\n+            @APIResponse(description = \"Returns the execution headers.\",\n+                    responseCode = \"200\",\n+                    content = @Content(mediaType = MediaType.APPLICATION_JSON,\n+                    schema = @Schema(type = SchemaType.OBJECT, implementation = ExecutionsResponse.class))),\n+            @APIResponse(description = \"Bad Request\", responseCode = \"400\", content = @Content(mediaType = MediaType.TEXT_PLAIN))\n+    }\n+    )\n+    @Operation(summary = \"Gets the execution headers\", description = \"Gets the execution headers.\")\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public Response getExecutions(\n+            @Parameter(\n+                    name = \"from\",\n+                    description = \"Start datetime for the lookup. Date in the format \\\"yyyy-MM-dd'T'HH:mm:ssZ\\\"\",\n+                    required = true,\n+                    schema = @Schema(implementation = String.class)\n+            ) @QueryParam(\"from\") String from,\n+            @Parameter(\n+                    name = \"to\",\n+                    description = \"End datetime for the lookup. Date in the format \\\"yyyy-MM-dd'T'HH:mm:ssZ\\\"\",\n+                    required = true,\n+                    schema = @Schema(implementation = String.class)\n+            ) @QueryParam(\"to\") String to,", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMDkxNjQwMA=="}, "originalCommit": {"oid": "08f7f546f2d9ee25fb7afb68952309b00569ad5f"}, "originalPosition": 95}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY4NDg2NTI0OnYy", "diffSide": "RIGHT", "path": "trusty/trusty-service/src/main/java/org/kie/kogito/trusty/service/api/ExecutionsApiV1.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMTozODoxNlrOGbFSmg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yN1QxMTozODoxNlrOGbFSmg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTA1MTQxOA==", "bodyText": "Can you please create a single parteDate method that takes a String and returns a OffsetDateTime?", "url": "https://github.com/kiegroup/kogito-apps/pull/230#discussion_r431051418", "createdAt": "2020-05-27T11:38:16Z", "author": {"login": "danielezonca"}, "path": "trusty/trusty-service/src/main/java/org/kie/kogito/trusty/service/api/ExecutionsApiV1.java", "diffHunk": "@@ -0,0 +1,135 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *       http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+package org.kie.kogito.trusty.service.api;\n+\n+import java.time.LocalDateTime;\n+import java.time.OffsetDateTime;\n+import java.time.ZoneOffset;\n+import java.time.ZonedDateTime;\n+import java.time.format.DateTimeFormatter;\n+import java.time.format.DateTimeParseException;\n+import java.util.ArrayList;\n+import java.util.List;\n+\n+import javax.inject.Inject;\n+import javax.ws.rs.DefaultValue;\n+import javax.ws.rs.GET;\n+import javax.ws.rs.Path;\n+import javax.ws.rs.Produces;\n+import javax.ws.rs.core.MediaType;\n+import javax.ws.rs.core.Response;\n+\n+import org.eclipse.microprofile.openapi.annotations.Operation;\n+import org.eclipse.microprofile.openapi.annotations.enums.SchemaType;\n+import org.eclipse.microprofile.openapi.annotations.media.Content;\n+import org.eclipse.microprofile.openapi.annotations.media.Schema;\n+import org.eclipse.microprofile.openapi.annotations.parameters.Parameter;\n+import org.eclipse.microprofile.openapi.annotations.responses.APIResponse;\n+import org.eclipse.microprofile.openapi.annotations.responses.APIResponses;\n+import org.jboss.resteasy.annotations.jaxrs.QueryParam;\n+import org.kie.kogito.trusty.service.ITrustyService;\n+import org.kie.kogito.trusty.service.models.Execution;\n+import org.kie.kogito.trusty.service.responses.ExecutionHeaderResponse;\n+import org.kie.kogito.trusty.service.responses.ExecutionsResponse;\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+/**\n+ * The trusty api resource.\n+ */\n+@Path(\"v1/executions\")\n+public class ExecutionsApiV1 {\n+\n+    private static final Logger LOGGER = LoggerFactory.getLogger(ExecutionsApiV1.class);\n+\n+    @Inject\n+    ITrustyService executionService;\n+\n+    /**\n+     * Gets all the headers of the executions that were evaluated within a specified time range.\n+     *\n+     * @param from   The start datetime.\n+     * @param to     The end datetime.\n+     * @param limit  The maximum (non-negative) number of items to be returned.\n+     * @param offset The non-negative pagination offset.\n+     * @param prefix The executionId prefix to be matched in the search.\n+     * @return The execution headers that satisfy the time range, pagination and prefix conditions.\n+     */\n+    @GET\n+    @APIResponses(value = {\n+            @APIResponse(description = \"Returns the execution headers.\",\n+                    responseCode = \"200\",\n+                    content = @Content(mediaType = MediaType.APPLICATION_JSON,\n+                    schema = @Schema(type = SchemaType.OBJECT, implementation = ExecutionsResponse.class))),\n+            @APIResponse(description = \"Bad Request\", responseCode = \"400\", content = @Content(mediaType = MediaType.TEXT_PLAIN))\n+    }\n+    )\n+    @Operation(summary = \"Gets the execution headers\", description = \"Gets the execution headers.\")\n+    @Produces(MediaType.APPLICATION_JSON)\n+    public Response getExecutions(\n+            @Parameter(\n+                    name = \"from\",\n+                    description = \"Start datetime for the lookup. Date in the format \\\"yyyy-MM-dd'T'HH:mm:ssZ\\\"\",\n+                    required = false,\n+                    schema = @Schema(implementation = String.class)\n+            ) @DefaultValue(\"yesterday\") @QueryParam(\"from\") String from,\n+            @Parameter(\n+                    name = \"to\",\n+                    description = \"End datetime for the lookup. Date in the format \\\"yyyy-MM-dd'T'HH:mm:ssZ\\\"\",\n+                    required = false,\n+                    schema = @Schema(implementation = String.class)\n+            ) @DefaultValue(\"now\") @QueryParam(\"to\") String to,\n+            @Parameter(\n+                    name = \"limit\",\n+                    description = \"Maximum number of results to return.\",\n+                    required = false,\n+                    schema = @Schema(implementation = Integer.class)\n+            ) @DefaultValue(\"100\") @QueryParam(\"limit\") int limit,\n+            @Parameter(\n+                    name = \"offset\",\n+                    description = \"Offset for the pagination.\",\n+                    required = false,\n+                    schema = @Schema(implementation = Integer.class)\n+            ) @DefaultValue(\"0\") @QueryParam(\"offset\") int offset,\n+            @Parameter(\n+                    name = \"search\",\n+                    description = \"Execution ID prefix to be matched\",\n+                    required = false,\n+                    schema = @Schema(implementation = String.class)\n+            ) @DefaultValue(\"\") @QueryParam(\"search\") String prefix) {\n+\n+        if (limit < 0 || offset < 0) {\n+            return Response.status(Response.Status.BAD_REQUEST.getStatusCode(), \"Pagination parameters can not have negative values.\").build();\n+        }\n+\n+        OffsetDateTime fromDate;\n+        OffsetDateTime toDate;\n+        try {\n+            fromDate = from.equals(\"yesterday\") ? OffsetDateTime.now(ZoneOffset.UTC).minusDays(1) :  ZonedDateTime.parse(from, DateTimeFormatter.ISO_OFFSET_DATE_TIME).toOffsetDateTime();\n+            toDate = to.equals(\"now\") ? OffsetDateTime.now(ZoneOffset.UTC) : ZonedDateTime.parse(to, DateTimeFormatter.ISO_OFFSET_DATE_TIME).toOffsetDateTime();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0fb9312b16394cdc8c6711431bc6df2396983521"}, "originalPosition": 123}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 940, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}