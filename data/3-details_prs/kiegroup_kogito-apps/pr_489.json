{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA1NjYxNTAx", "number": 489, "title": "KOGITO-3138 Add job cancel option in jobs panel", "bodyText": "Many thanks for submitting your Pull Request \u2764\ufe0f!\nAdded job cancel option in jobs panel.", "createdAt": "2020-10-19T04:11:08Z", "url": "https://github.com/kiegroup/kogito-apps/pull/489", "merged": true, "mergeCommit": {"oid": "fa49e4cea569cdf850ed2864a1ec1aa6b36cece8"}, "closed": true, "closedAt": "2020-10-27T08:37:32Z", "author": {"login": "AjayJagan"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdT-GTsAH2gAyNTA1NjYxNTAxOjI4Yzk2OTg0MDM1MWEyNDE4MGE2YmFjN2MyZjQzY2YyNDkwYThmY2Q=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdWkFVtgFqTUxNzQxOTE2Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "28c969840351a24180a6bac7c2f43cf2490a8fcd", "author": {"user": {"login": "AjayJagan", "name": "Ajay Jaganathan"}}, "url": "https://github.com/kiegroup/kogito-apps/commit/28c969840351a24180a6bac7c2f43cf2490a8fcd", "committedDate": "2020-10-19T06:22:48Z", "message": "KOGITO-3138 Add job cancel option in jobs panel"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bd7d28c956575610268f63eaa56c2926af36ad18", "author": {"user": {"login": "AjayJagan", "name": "Ajay Jaganathan"}}, "url": "https://github.com/kiegroup/kogito-apps/commit/bd7d28c956575610268f63eaa56c2926af36ad18", "committedDate": "2020-10-15T09:57:37Z", "message": "KOGITO-3138 Add job cancel option in jobs panel"}, "afterCommit": {"oid": "28c969840351a24180a6bac7c2f43cf2490a8fcd", "author": {"user": {"login": "AjayJagan", "name": "Ajay Jaganathan"}}, "url": "https://github.com/kiegroup/kogito-apps/commit/28c969840351a24180a6bac7c2f43cf2490a8fcd", "committedDate": "2020-10-19T06:22:48Z", "message": "KOGITO-3138 Add job cancel option in jobs panel"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEyOTQ3NTk5", "url": "https://github.com/kiegroup/kogito-apps/pull/489#pullrequestreview-512947599", "createdAt": "2020-10-20T16:59:52Z", "commit": {"oid": "28c969840351a24180a6bac7c2f43cf2490a8fcd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNjo1OTo1MlrOHlIHmQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMFQxNjo1OTo1MlrOHlIHmQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODY5MjM3Nw==", "bodyText": "@AjayJagan Could be possible to unify the modals(at least for jobs, even I see this could be general purpose) as much as possible?  at least avoid to redefine the same header in every modal. Wdyt?", "url": "https://github.com/kiegroup/kogito-apps/pull/489#discussion_r508692377", "createdAt": "2020-10-20T16:59:52Z", "author": {"login": "nmirasch"}, "path": "ui-packages/packages/management-console/src/components/Atoms/JobsCancelModal/JobsCancelModal.tsx", "diffHunk": "@@ -0,0 +1,57 @@\n+import React from 'react';\n+import {\n+  Modal,\n+  Title,\n+  Button,\n+  TextContent,\n+  Text,\n+  TitleSizes\n+} from '@patternfly/react-core';\n+import { OUIAProps, componentOuiaProps } from '@kogito-apps/common';\n+interface IOwnProps {\n+  actionType: string;\n+  modalTitle: JSX.Element;\n+  modalContent: string;\n+  handleModalToggle: () => void;\n+  isModalOpen: boolean;\n+}\n+const JobsCancelModal: React.FC<IOwnProps & OUIAProps> = ({\n+  actionType,\n+  modalContent,\n+  modalTitle,\n+  isModalOpen,\n+  handleModalToggle,\n+  ouiaId,\n+  ouiaSafe\n+}) => {\n+  return (\n+    <Modal\n+      variant=\"small\"\n+      title=\"\"\n+      header={\n+        <Title headingLevel=\"h1\" size={TitleSizes['2xl']}>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "28c969840351a24180a6bac7c2f43cf2490a8fcd"}, "originalPosition": 32}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "37354ff4ce94295d19ed5ab1cae005ef88d080fe", "author": {"user": {"login": "AjayJagan", "name": "Ajay Jaganathan"}}, "url": "https://github.com/kiegroup/kogito-apps/commit/37354ff4ce94295d19ed5ab1cae005ef88d080fe", "committedDate": "2020-10-21T08:49:01Z", "message": "KOGITO-3138 added generic title component"}, "afterCommit": {"oid": "f08263934e5dff6898785bbc3920ba6d771211c9", "author": {"user": {"login": "AjayJagan", "name": "Ajay Jaganathan"}}, "url": "https://github.com/kiegroup/kogito-apps/commit/f08263934e5dff6898785bbc3920ba6d771211c9", "committedDate": "2020-10-21T08:53:12Z", "message": "KOGITO-3138 added generic title component"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f1fdc15dfb8cea7aad3c6091d24c4e51851a4317", "author": {"user": {"login": "AjayJagan", "name": "Ajay Jaganathan"}}, "url": "https://github.com/kiegroup/kogito-apps/commit/f1fdc15dfb8cea7aad3c6091d24c4e51851a4317", "committedDate": "2020-10-21T09:25:18Z", "message": "KOGITO-3138 added generic title component"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f08263934e5dff6898785bbc3920ba6d771211c9", "author": {"user": {"login": "AjayJagan", "name": "Ajay Jaganathan"}}, "url": "https://github.com/kiegroup/kogito-apps/commit/f08263934e5dff6898785bbc3920ba6d771211c9", "committedDate": "2020-10-21T08:53:12Z", "message": "KOGITO-3138 added generic title component"}, "afterCommit": {"oid": "f1fdc15dfb8cea7aad3c6091d24c4e51851a4317", "author": {"user": {"login": "AjayJagan", "name": "Ajay Jaganathan"}}, "url": "https://github.com/kiegroup/kogito-apps/commit/f1fdc15dfb8cea7aad3c6091d24c4e51851a4317", "committedDate": "2020-10-21T09:25:18Z", "message": "KOGITO-3138 added generic title component"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzNTkwNjI5", "url": "https://github.com/kiegroup/kogito-apps/pull/489#pullrequestreview-513590629", "createdAt": "2020-10-21T11:51:10Z", "commit": {"oid": "f1fdc15dfb8cea7aad3c6091d24c4e51851a4317"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTEzNTkxMTIz", "url": "https://github.com/kiegroup/kogito-apps/pull/489#pullrequestreview-513591123", "createdAt": "2020-10-21T11:51:49Z", "commit": {"oid": "f1fdc15dfb8cea7aad3c6091d24c4e51851a4317"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE2NzQ4NTU3", "url": "https://github.com/kiegroup/kogito-apps/pull/489#pullrequestreview-516748557", "createdAt": "2020-10-26T12:58:12Z", "commit": {"oid": "f1fdc15dfb8cea7aad3c6091d24c4e51851a4317"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMjo1ODoxMlrOHoOSNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yNlQxMzowNzoxOFrOHoOmiQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTkzOTEyNA==", "bodyText": "further on we use spelling cancelled, it would be great to unify.", "url": "https://github.com/kiegroup/kogito-apps/pull/489#discussion_r511939124", "createdAt": "2020-10-26T12:58:12Z", "author": {"login": "jstastny-cz"}, "path": "ui-packages/packages/management-console/server/MockData/controllers.js", "diffHunk": "@@ -167,5 +167,18 @@ module.exports = controller = {\n     } else {\n       res.send([])\n     }\n+  },\n+\n+  callJobCancel: (req, res) => {\n+    const mockFailedJobs = ['dad3aa88-5c1e-4858-a919-6123c675a0fa_0']\n+    const graphData = require('./graphql');\n+    const jobData = graphData.JobsData.filter(job => job.id === req.params.jobId);\n+    if (mockFailedJobs.includes(jobData[0].id) || jobData.length === 0) {\n+      res.status(404).send('job not found')\n+    } else {\n+      jobData[0].status = 'CANCELED';", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f1fdc15dfb8cea7aad3c6091d24c4e51851a4317"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTk0MDYyOA==", "bodyText": "I would keep in sync with name of component.\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                  {...componentOuiaProps(ouiaId, 'job-cancel-modal', ouiaSafe)}\n          \n          \n            \n                  {...componentOuiaProps(ouiaId, 'jobs-cancel-modal', ouiaSafe)}", "url": "https://github.com/kiegroup/kogito-apps/pull/489#discussion_r511940628", "createdAt": "2020-10-26T13:00:47Z", "author": {"login": "jstastny-cz"}, "path": "ui-packages/packages/management-console/src/components/Atoms/JobsCancelModal/JobsCancelModal.tsx", "diffHunk": "@@ -0,0 +1,46 @@\n+import React from 'react';\n+import { Modal, Button, TextContent, Text } from '@patternfly/react-core';\n+import { OUIAProps, componentOuiaProps } from '@kogito-apps/common';\n+interface IOwnProps {\n+  actionType: string;\n+  modalTitle: JSX.Element;\n+  modalContent: string;\n+  handleModalToggle: () => void;\n+  isModalOpen: boolean;\n+}\n+const JobsCancelModal: React.FC<IOwnProps & OUIAProps> = ({\n+  actionType,\n+  modalContent,\n+  modalTitle,\n+  isModalOpen,\n+  handleModalToggle,\n+  ouiaId,\n+  ouiaSafe\n+}) => {\n+  return (\n+    <Modal\n+      variant=\"small\"\n+      title=\"\"\n+      header={modalTitle}\n+      isOpen={isModalOpen}\n+      onClose={handleModalToggle}\n+      aria-label={`${actionType} Modal`}\n+      aria-labelledby={`${actionType} Modal`}\n+      actions={[\n+        <Button\n+          key=\"confirm-selection\"\n+          variant=\"primary\"\n+          onClick={handleModalToggle}\n+        >\n+          OK\n+        </Button>\n+      ]}\n+      {...componentOuiaProps(ouiaId, 'job-cancel-modal', ouiaSafe)}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f1fdc15dfb8cea7aad3c6091d24c4e51851a4317"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMTk0NDMyOQ==", "bodyText": "shouldn't we wrap the text at least to a span?", "url": "https://github.com/kiegroup/kogito-apps/pull/489#discussion_r511944329", "createdAt": "2020-10-26T13:07:18Z", "author": {"login": "jstastny-cz"}, "path": "ui-packages/packages/management-console/src/utils/Utils.tsx", "diffHunk": "@@ -125,28 +126,33 @@ export const setTitle = (\n   titleStatus: string,\n   titleText: string\n ): JSX.Element => {\n+  let icon = null;\n+\n   switch (titleStatus) {\n     case 'success':\n-      return (\n-        <>\n-          <InfoCircleIcon\n-            className=\"pf-u-mr-sm\"\n-            color=\"var(--pf-global--info-color--100)\"\n-          />{' '}\n-          {titleText}{' '}\n-        </>\n+      icon = (\n+        <InfoCircleIcon\n+          className=\"pf-u-mr-sm\"\n+          color=\"var(--pf-global--info-color--100)\"\n+        />\n       );\n+      break;\n     case 'failure':\n-      return (\n-        <>\n-          <InfoCircleIcon\n-            className=\"pf-u-mr-sm\"\n-            color=\"var(--pf-global--danger-color--100)\"\n-          />{' '}\n-          {titleText}{' '}\n-        </>\n+      icon = (\n+        <InfoCircleIcon\n+          className=\"pf-u-mr-sm\"\n+          color=\"var(--pf-global--danger-color--100)\"\n+        />\n       );\n+      break;\n   }\n+\n+  return (\n+    <Title headingLevel=\"h1\" size={TitleSizes['2xl']}>\n+      {icon}\n+      {titleText}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f1fdc15dfb8cea7aad3c6091d24c4e51851a4317"}, "originalPosition": 52}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a1412ec990c80f4caab092b6003d2bacabfd81ff", "author": {"user": {"login": "AjayJagan", "name": "Ajay Jaganathan"}}, "url": "https://github.com/kiegroup/kogito-apps/commit/a1412ec990c80f4caab092b6003d2bacabfd81ff", "committedDate": "2020-10-27T04:10:29Z", "message": "minor changes to improve code"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3NDE5MTY3", "url": "https://github.com/kiegroup/kogito-apps/pull/489#pullrequestreview-517419167", "createdAt": "2020-10-27T07:45:59Z", "commit": {"oid": "a1412ec990c80f4caab092b6003d2bacabfd81ff"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4629, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}