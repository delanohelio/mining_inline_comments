{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczODM2Mzcz", "number": 414, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMjowNjo0N1rOEcizJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQwODo0ODozN1rOEeN-9Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4MzY1NzM1OnYy", "diffSide": "RIGHT", "path": "ui-packages/packages/common/src/graphql/queries.tsx", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxMjowNjo0N1rOHHI84g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQwOTo1OToxOVrOHJyRDg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzI0ODczOA==", "bodyText": "does this mean that a user should see the task assigned to a different user at all times? Or is this just for an admin user? I would expect some differentiation in that case.", "url": "https://github.com/kiegroup/kogito-apps/pull/414#discussion_r477248738", "createdAt": "2020-08-26T12:06:47Z", "author": {"login": "jstastny-cz"}, "path": "ui-packages/packages/common/src/graphql/queries.tsx", "diffHunk": "@@ -271,3 +271,47 @@ const GET_USER_TASK = gql`\n     }\n   }\n `;\n+\n+const GET_TASKS_FOR_USER = gql`\n+  query getTaskForUser(\n+    $user: String\n+    $groups: [String!]\n+    $offset: Int\n+    $limit: Int\n+  ) {\n+    UserTaskInstances(\n+      where: {\n+        or: [\n+          { actualOwner: { equal: $user } }\n+          { potentialUsers: { contains: $user } }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9dc5381cfbe27b2f736e340908c89c8ca37e6fe8"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDAyMjc5OA==", "bodyText": "@jstastny-cz well, the user should be able to see the tasks where he is  the actual owner, or the ones he is a potential owner to be able to claim them\n@cristianonicolai is that true right??", "url": "https://github.com/kiegroup/kogito-apps/pull/414#discussion_r480022798", "createdAt": "2020-08-31T09:59:19Z", "author": {"login": "pefernan"}, "path": "ui-packages/packages/common/src/graphql/queries.tsx", "diffHunk": "@@ -271,3 +271,47 @@ const GET_USER_TASK = gql`\n     }\n   }\n `;\n+\n+const GET_TASKS_FOR_USER = gql`\n+  query getTaskForUser(\n+    $user: String\n+    $groups: [String!]\n+    $offset: Int\n+    $limit: Int\n+  ) {\n+    UserTaskInstances(\n+      where: {\n+        or: [\n+          { actualOwner: { equal: $user } }\n+          { potentialUsers: { contains: $user } }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzI0ODczOA=="}, "originalCommit": {"oid": "9dc5381cfbe27b2f736e340908c89c8ca37e6fe8"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk5Mzk4ODk4OnYy", "diffSide": "RIGHT", "path": "ui-packages/packages/common/src/graphql/queries.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwODowNzo1MFrOHIu4Ng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yOFQwODowNzo1MFrOHIu4Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3ODkxODcxMA==", "bodyText": "@pefernan getTasksForUser? would describe better the query", "url": "https://github.com/kiegroup/kogito-apps/pull/414#discussion_r478918710", "createdAt": "2020-08-28T08:07:50Z", "author": {"login": "nmirasch"}, "path": "ui-packages/packages/common/src/graphql/queries.tsx", "diffHunk": "@@ -271,3 +271,47 @@ const GET_USER_TASK = gql`\n     }\n   }\n `;\n+\n+const GET_TASKS_FOR_USER = gql`\n+  query getTaskForUser(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac65e75876fbf22cc9e0d1707f9f13e188babfb2"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwMTAxMDAxOnYy", "diffSide": "RIGHT", "path": "ui-packages/packages/task-console/server/server.js", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQwNzo0NTo0MVrOHJuI5Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQwNzo0NTo0MVrOHJuI5Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTk1NTE3Mw==", "bodyText": "whitespace formatting does not seem to be in sync with the rest of the file", "url": "https://github.com/kiegroup/kogito-apps/pull/414#discussion_r479955173", "createdAt": "2020-08-31T07:45:41Z", "author": {"login": "jstastny-cz"}, "path": "ui-packages/packages/task-console/server/server.js", "diffHunk": "@@ -56,17 +61,31 @@ function timeout(ms) {\n const resolvers = {\n   Query: {\n     UserTaskInstances: async (parent, args) => {\n-      const result = data.UserTaskInstances.filter(datum => {\n-        console.log('args', args['where']);\n-        if (args['where'].id && args['where'].id.equal) {\n-          return datum.id == args['where'].id.equal;\n-        }\n+      let result = data.UserTaskInstances.filter(datum => {\n+        console.log('args', args)\n+\n         if (args['where'].state && args['where'].state.in) {\n           return args['where'].state.in.includes(datum.state);\n+        } else {\n+          // searching for tasks assigned to current user\n+          return true;\n         }\n+\n         return false;\n       });\n+\n       await timeout(2000);\n+\n+      if(args.pagination) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac65e75876fbf22cc9e0d1707f9f13e188babfb2"}, "originalPosition": 51}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwMTA5MTI4OnYy", "diffSide": "RIGHT", "path": "ui-packages/packages/task-console/src/components/Atoms/TaskStateColumn/TaskStateColumn.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQwODoxMDoxOVrOHJu4_Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQwODoxMDoxOVrOHJu4_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTk2NzQ4NQ==", "bodyText": "It's named column, but is rather a fragment,  I would expect for this to return DataTableColumn.", "url": "https://github.com/kiegroup/kogito-apps/pull/414#discussion_r479967485", "createdAt": "2020-08-31T08:10:19Z", "author": {"login": "jstastny-cz"}, "path": "ui-packages/packages/task-console/src/components/Atoms/TaskStateColumn/TaskStateColumn.tsx", "diffHunk": "@@ -0,0 +1,54 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import React from 'react';\n+import {\n+  BanIcon,\n+  CheckCircleIcon,\n+  OnRunningIcon\n+} from '@patternfly/react-icons';\n+\n+import { GraphQL } from '@kogito-apps/common';\n+import UserTaskInstance = GraphQL.UserTaskInstance;\n+\n+interface IOwnProps {\n+  task: UserTaskInstance;\n+}\n+\n+const TaskStateColumn: React.FC<IOwnProps> = ({ task }) => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac65e75876fbf22cc9e0d1707f9f13e188babfb2"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwMTA5MzQ5OnYy", "diffSide": "RIGHT", "path": "ui-packages/packages/task-console/src/components/Atoms/TaskDescriptionColumn/TaskDescriptionColumn.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQwODoxMDo1M1rOHJu6Pg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQwODoxMDo1M1rOHJu6Pg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTk2NzgwNg==", "bodyText": "It's named column, but is rather a fragment, I would expect for this to return DataTableColumn.", "url": "https://github.com/kiegroup/kogito-apps/pull/414#discussion_r479967806", "createdAt": "2020-08-31T08:10:53Z", "author": {"login": "jstastny-cz"}, "path": "ui-packages/packages/task-console/src/components/Atoms/TaskDescriptionColumn/TaskDescriptionColumn.tsx", "diffHunk": "@@ -0,0 +1,49 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import React, { useContext } from 'react';\n+import { ItemDescriptor, GraphQL } from '@kogito-apps/common';\n+import { Link } from 'react-router-dom';\n+import TaskConsoleContext, {\n+  IContext\n+} from '../../../context/TaskConsoleContext/TaskConsoleContext';\n+import UserTaskInstance = GraphQL.UserTaskInstance;\n+\n+interface IOwnProps {\n+  task: UserTaskInstance;\n+}\n+\n+const TaskDescriptionColumn: React.FC<IOwnProps> = ({ task }) => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac65e75876fbf22cc9e0d1707f9f13e188babfb2"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwMTExODMzOnYy", "diffSide": "RIGHT", "path": "ui-packages/packages/task-console/src/components/Organisms/TaskInbox/tests/TaskInbox.test.tsx", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQwODoxODozN1rOHJvJYQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxMjoyMjo0NVrOHJ2j9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTk3MTY4MQ==", "bodyText": "can we mock LoadMore too?", "url": "https://github.com/kiegroup/kogito-apps/pull/414#discussion_r479971681", "createdAt": "2020-08-31T08:18:37Z", "author": {"login": "jstastny-cz"}, "path": "ui-packages/packages/task-console/src/components/Organisms/TaskInbox/tests/TaskInbox.test.tsx", "diffHunk": "@@ -0,0 +1,299 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import React from 'react';\n+import userTasks from './mocks/testdata';\n+import {\n+  DataTable,\n+  DefaultUser,\n+  getWrapperAsync,\n+  KogitoEmptyState,\n+  LoadMore,\n+  ServerErrors,\n+  User\n+} from '@kogito-apps/common';\n+import { MockedProvider } from '@apollo/react-testing';\n+import { gql } from 'apollo-boost';\n+import TaskInbox from '../TaskInbox';\n+import TaskConsoleContextProvider from '../../../../context/TaskConsoleContext/TaskConsoleContextProvider';\n+import { MemoryRouter as Router } from 'react-router';\n+import { act } from 'react-dom/test-utils';\n+\n+const GET_TASKS_FOR_USER = gql`\n+  query getTaskForUser(\n+    $user: String\n+    $groups: [String!]\n+    $offset: Int\n+    $limit: Int\n+  ) {\n+    UserTaskInstances(\n+      where: {\n+        or: [\n+          { actualOwner: { equal: $user } }\n+          { potentialUsers: { contains: $user } }\n+          { potentialGroups: { containsAny: $groups } }\n+        ]\n+      }\n+      pagination: { offset: $offset, limit: $limit }\n+    ) {\n+      id\n+      name\n+      referenceName\n+      description\n+      priority\n+      processInstanceId\n+      processId\n+      rootProcessInstanceId\n+      rootProcessId\n+      state\n+      actualOwner\n+      adminGroups\n+      adminUsers\n+      completed\n+      started\n+      excludedUsers\n+      potentialGroups\n+      potentialUsers\n+      inputs\n+      outputs\n+      referenceName\n+      lastUpdate\n+      endpoint\n+    }\n+  }\n+`;\n+\n+const MockedComponent = (): React.ReactElement => {\n+  return <></>;\n+};\n+\n+jest.mock('@kogito-apps/common', () => ({\n+  ...jest.requireActual('@kogito-apps/common'),\n+  DataTable: () => {\n+    return <MockedComponent />;\n+  },\n+  KogitoEmptyState: () => {\n+    return <MockedComponent />;\n+  },\n+  KogitoSpinner: () => {\n+    return <MockedComponent />;\n+  },\n+  ServerErrors: () => {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac65e75876fbf22cc9e0d1707f9f13e188babfb2"}, "originalPosition": 94}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDA5MzE3NA==", "bodyText": "In this case I cannot mock it since I need to test the load more functionality on the task inbox", "url": "https://github.com/kiegroup/kogito-apps/pull/414#discussion_r480093174", "createdAt": "2020-08-31T12:22:45Z", "author": {"login": "pefernan"}, "path": "ui-packages/packages/task-console/src/components/Organisms/TaskInbox/tests/TaskInbox.test.tsx", "diffHunk": "@@ -0,0 +1,299 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import React from 'react';\n+import userTasks from './mocks/testdata';\n+import {\n+  DataTable,\n+  DefaultUser,\n+  getWrapperAsync,\n+  KogitoEmptyState,\n+  LoadMore,\n+  ServerErrors,\n+  User\n+} from '@kogito-apps/common';\n+import { MockedProvider } from '@apollo/react-testing';\n+import { gql } from 'apollo-boost';\n+import TaskInbox from '../TaskInbox';\n+import TaskConsoleContextProvider from '../../../../context/TaskConsoleContext/TaskConsoleContextProvider';\n+import { MemoryRouter as Router } from 'react-router';\n+import { act } from 'react-dom/test-utils';\n+\n+const GET_TASKS_FOR_USER = gql`\n+  query getTaskForUser(\n+    $user: String\n+    $groups: [String!]\n+    $offset: Int\n+    $limit: Int\n+  ) {\n+    UserTaskInstances(\n+      where: {\n+        or: [\n+          { actualOwner: { equal: $user } }\n+          { potentialUsers: { contains: $user } }\n+          { potentialGroups: { containsAny: $groups } }\n+        ]\n+      }\n+      pagination: { offset: $offset, limit: $limit }\n+    ) {\n+      id\n+      name\n+      referenceName\n+      description\n+      priority\n+      processInstanceId\n+      processId\n+      rootProcessInstanceId\n+      rootProcessId\n+      state\n+      actualOwner\n+      adminGroups\n+      adminUsers\n+      completed\n+      started\n+      excludedUsers\n+      potentialGroups\n+      potentialUsers\n+      inputs\n+      outputs\n+      referenceName\n+      lastUpdate\n+      endpoint\n+    }\n+  }\n+`;\n+\n+const MockedComponent = (): React.ReactElement => {\n+  return <></>;\n+};\n+\n+jest.mock('@kogito-apps/common', () => ({\n+  ...jest.requireActual('@kogito-apps/common'),\n+  DataTable: () => {\n+    return <MockedComponent />;\n+  },\n+  KogitoEmptyState: () => {\n+    return <MockedComponent />;\n+  },\n+  KogitoSpinner: () => {\n+    return <MockedComponent />;\n+  },\n+  ServerErrors: () => {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTk3MTY4MQ=="}, "originalCommit": {"oid": "ac65e75876fbf22cc9e0d1707f9f13e188babfb2"}, "originalPosition": 94}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwMTEzMDMzOnYy", "diffSide": "RIGHT", "path": "ui-packages/packages/task-console/src/components/Organisms/TaskInbox/TaskInbox.tsx", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQwODoyMjoxOVrOHJvQtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQwODoyMjoxOVrOHJvQtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTk3MzU1OQ==", "bodyText": "can we use JSX here instead of objects?", "url": "https://github.com/kiegroup/kogito-apps/pull/414#discussion_r479973559", "createdAt": "2020-08-31T08:22:19Z", "author": {"login": "jstastny-cz"}, "path": "ui-packages/packages/task-console/src/components/Organisms/TaskInbox/TaskInbox.tsx", "diffHunk": "@@ -0,0 +1,195 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import React, { useContext, useEffect, useState } from 'react';\n+import { Bullseye } from '@patternfly/react-core';\n+import Moment from 'react-moment';\n+import {\n+  KogitoSpinner,\n+  DataTable,\n+  LoadMore,\n+  GraphQL,\n+  DataTableColumn,\n+  ServerErrors,\n+  KogitoEmptyStateType,\n+  KogitoEmptyState\n+} from '@kogito-apps/common';\n+import TaskConsoleContext, {\n+  IContext\n+} from '../../../context/TaskConsoleContext/TaskConsoleContext';\n+import TaskDescriptionColumn from '../../Atoms/TaskDescriptionColumn/TaskDescriptionColumn';\n+import UserTaskInstance = GraphQL.UserTaskInstance;\n+import TaskStateColumn from '../../Atoms/TaskStateColumn/TaskStateColumn';\n+\n+const UserTaskLoadingComponent = (\n+  <Bullseye>\n+    <KogitoSpinner spinnerText=\"Loading user tasks...\" />\n+  </Bullseye>\n+);\n+\n+const TaskInbox: React.FC = props => {\n+  const [defaultPageSize] = useState<number>(10);\n+  const [isLoaded, setIsLoaded] = useState<boolean>(false);\n+  const [isLoading, setIsLoading] = useState<boolean>(false);\n+  const [queryOffset, setOffset] = useState<number>(0);\n+  const [pageSize, setPageSize] = useState<number>(defaultPageSize);\n+  const [isLoadingMore, setIsLoadingMore] = useState<boolean>(false);\n+  const [tableData, setTableData] = useState<any[]>([]);\n+\n+  const context: IContext<UserTaskInstance> = useContext(TaskConsoleContext);\n+\n+  const [\n+    getUserTasks,\n+    { loading, error, data, refetch, networkStatus }\n+  ] = GraphQL.useGetTaskForUserLazyQuery({\n+    fetchPolicy: 'network-only',\n+    notifyOnNetworkStatusChange: true,\n+    variables: {\n+      user: context.getUser().id,\n+      groups: context.getUser().groups,\n+      offset: queryOffset,\n+      limit: pageSize\n+    }\n+  });\n+\n+  const onGetMoreInstances = (_queryOffset, _pageSize, _loadMore) => {\n+    setIsLoadingMore(_loadMore);\n+\n+    if (_queryOffset !== queryOffset) {\n+      setOffset(_queryOffset);\n+    }\n+\n+    if (_pageSize !== pageSize) {\n+      setPageSize(_pageSize);\n+    }\n+\n+    getUserTasks({\n+      variables: {\n+        user: context.getUser().id,\n+        groups: context.getUser().groups,\n+        offset: _queryOffset,\n+        limit: _pageSize\n+      }\n+    });\n+  };\n+\n+  useEffect(() => {\n+    onGetMoreInstances(queryOffset, pageSize, false);\n+  }, []);\n+\n+  useEffect(() => {\n+    if (isLoadingMore === undefined || !isLoadingMore) {\n+      setIsLoading(loading);\n+    }\n+    if (!loading && data !== undefined) {\n+      const newData = tableData.concat(data.UserTaskInstances);\n+      setTableData(newData);\n+      if (queryOffset > 0 && tableData.length > 0) {\n+        setIsLoadingMore(false);\n+      }\n+      if (!isLoaded) {\n+        setIsLoaded(true);\n+      }\n+    }\n+  }, [data]);\n+\n+  if (error) {\n+    return <ServerErrors error={error} variant={'large'} />;\n+  }\n+\n+  if (!isLoaded) {\n+    return UserTaskLoadingComponent;\n+  }\n+\n+  if (tableData.length === 0) {\n+    return (\n+      <KogitoEmptyState\n+        type={KogitoEmptyStateType.Search}\n+        title=\"No results found\"\n+        body=\"Try using different filters\"\n+      />\n+    );\n+  }\n+\n+  const columns: DataTableColumn[] = [\n+    {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac65e75876fbf22cc9e0d1707f9f13e188babfb2"}, "originalPosition": 128}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwMTE1MTI1OnYy", "diffSide": "RIGHT", "path": "ui-packages/packages/task-console/src/components/Organisms/TaskInbox/tests/TaskInbox.test.tsx", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQwODoyODoyOFrOHJvdGg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQxMDoxOToxM1rOHJy0tA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTk3NjczMA==", "bodyText": "should we reuse the one from queries.tsx by importing them?", "url": "https://github.com/kiegroup/kogito-apps/pull/414#discussion_r479976730", "createdAt": "2020-08-31T08:28:28Z", "author": {"login": "jstastny-cz"}, "path": "ui-packages/packages/task-console/src/components/Organisms/TaskInbox/tests/TaskInbox.test.tsx", "diffHunk": "@@ -0,0 +1,299 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import React from 'react';\n+import userTasks from './mocks/testdata';\n+import {\n+  DataTable,\n+  DefaultUser,\n+  getWrapperAsync,\n+  KogitoEmptyState,\n+  LoadMore,\n+  ServerErrors,\n+  User\n+} from '@kogito-apps/common';\n+import { MockedProvider } from '@apollo/react-testing';\n+import { gql } from 'apollo-boost';\n+import TaskInbox from '../TaskInbox';\n+import TaskConsoleContextProvider from '../../../../context/TaskConsoleContext/TaskConsoleContextProvider';\n+import { MemoryRouter as Router } from 'react-router';\n+import { act } from 'react-dom/test-utils';\n+\n+const GET_TASKS_FOR_USER = gql`", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac65e75876fbf22cc9e0d1707f9f13e188babfb2"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDAyNjU4MA==", "bodyText": "yea, I don't like that too but I think the only solution would be exporting the queries on the common module, IDK if that's a good practice... @Sara4994 WDYT??", "url": "https://github.com/kiegroup/kogito-apps/pull/414#discussion_r480026580", "createdAt": "2020-08-31T10:07:42Z", "author": {"login": "pefernan"}, "path": "ui-packages/packages/task-console/src/components/Organisms/TaskInbox/tests/TaskInbox.test.tsx", "diffHunk": "@@ -0,0 +1,299 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import React from 'react';\n+import userTasks from './mocks/testdata';\n+import {\n+  DataTable,\n+  DefaultUser,\n+  getWrapperAsync,\n+  KogitoEmptyState,\n+  LoadMore,\n+  ServerErrors,\n+  User\n+} from '@kogito-apps/common';\n+import { MockedProvider } from '@apollo/react-testing';\n+import { gql } from 'apollo-boost';\n+import TaskInbox from '../TaskInbox';\n+import TaskConsoleContextProvider from '../../../../context/TaskConsoleContext/TaskConsoleContextProvider';\n+import { MemoryRouter as Router } from 'react-router';\n+import { act } from 'react-dom/test-utils';\n+\n+const GET_TASKS_FOR_USER = gql`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTk3NjczMA=="}, "originalCommit": {"oid": "ac65e75876fbf22cc9e0d1707f9f13e188babfb2"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MDAzMTkyNA==", "bodyText": "@pefernan yes, better to import from common module", "url": "https://github.com/kiegroup/kogito-apps/pull/414#discussion_r480031924", "createdAt": "2020-08-31T10:19:13Z", "author": {"login": "Sara4994"}, "path": "ui-packages/packages/task-console/src/components/Organisms/TaskInbox/tests/TaskInbox.test.tsx", "diffHunk": "@@ -0,0 +1,299 @@\n+/*\n+ * Copyright 2020 Red Hat, Inc. and/or its affiliates.\n+ *\n+ * Licensed under the Apache License, Version 2.0 (the \"License\");\n+ * you may not use this file except in compliance with the License.\n+ * You may obtain a copy of the License at\n+ *\n+ *     http://www.apache.org/licenses/LICENSE-2.0\n+ *\n+ * Unless required by applicable law or agreed to in writing, software\n+ * distributed under the License is distributed on an \"AS IS\" BASIS,\n+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n+ * See the License for the specific language governing permissions and\n+ * limitations under the License.\n+ */\n+\n+import React from 'react';\n+import userTasks from './mocks/testdata';\n+import {\n+  DataTable,\n+  DefaultUser,\n+  getWrapperAsync,\n+  KogitoEmptyState,\n+  LoadMore,\n+  ServerErrors,\n+  User\n+} from '@kogito-apps/common';\n+import { MockedProvider } from '@apollo/react-testing';\n+import { gql } from 'apollo-boost';\n+import TaskInbox from '../TaskInbox';\n+import TaskConsoleContextProvider from '../../../../context/TaskConsoleContext/TaskConsoleContextProvider';\n+import { MemoryRouter as Router } from 'react-router';\n+import { act } from 'react-dom/test-utils';\n+\n+const GET_TASKS_FOR_USER = gql`", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTk3NjczMA=="}, "originalCommit": {"oid": "ac65e75876fbf22cc9e0d1707f9f13e188babfb2"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzAwMTIxODQ1OnYy", "diffSide": "RIGHT", "path": "ui-packages/yarn.lock", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQwODo0ODozN1rOHJwFeQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0zMVQwODo0ODozN1rOHJwFeQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3OTk4NzA2NQ==", "bodyText": "changes to yarn.lock without any change in package.json.", "url": "https://github.com/kiegroup/kogito-apps/pull/414#discussion_r479987065", "createdAt": "2020-08-31T08:48:37Z", "author": {"login": "jstastny-cz"}, "path": "ui-packages/yarn.lock", "diffHunk": "@@ -3,9 +3,9 @@\n \n \n \"@apollo/protobufjs@^1.0.3\":\n-  version \"1.0.4\"\n-  resolved \"https://registry.yarnpkg.com/@apollo/protobufjs/-/protobufjs-1.0.4.tgz#cf01747a55359066341f31b5ce8db17df44244e0\"\n-  integrity sha512-EE3zx+/D/wur/JiLp6VCiw1iYdyy1lCJMf8CGPkLeDt5QJrN4N8tKFx33Ah4V30AUQzMk7Uz4IXKZ1LOj124gA==\n+  version \"1.0.5\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ac65e75876fbf22cc9e0d1707f9f13e188babfb2"}, "originalPosition": 7}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 654, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}