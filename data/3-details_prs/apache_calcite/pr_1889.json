{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzk1MTkyMzUx", "number": 1889, "title": "[CALCITE-3576] Remove enumerable convention check in FilterIntoJoinRule", "bodyText": "JIRA: https://issues.apache.org/jira/browse/CALCITE-3576", "createdAt": "2020-03-29T04:01:05Z", "url": "https://github.com/apache/calcite/pull/1889", "merged": true, "mergeCommit": {"oid": "147b7a52ee5c3231adf8382989b3702222c20024"}, "closed": true, "closedAt": "2020-04-14T01:18:12Z", "author": {"login": "hsyuan"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcTObyeAFqTM4NTIyOTYxMA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcXYgBHABqjMyMjkwMzc0MzM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg1MjI5NjEw", "url": "https://github.com/apache/calcite/pull/1889#pullrequestreview-385229610", "createdAt": "2020-04-01T02:39:22Z", "commit": {"oid": "c6a1c9180ffabca1ff898ff62d26690e1c8c03bb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQwMjozOToyMlrOF-u3BA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wMVQwMjozOToyMlrOF-u3BA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMTMyMzc4MA==", "bodyText": "If NOT_ENUMERABLE is not needed any more, should we also no need to retain the predicate parameter?", "url": "https://github.com/apache/calcite/pull/1889#discussion_r401323780", "createdAt": "2020-04-01T02:39:22Z", "author": {"login": "chunweilei"}, "path": "core/src/main/java/org/apache/calcite/rel/rules/FilterJoinRule.java", "diffHunk": "@@ -53,28 +52,21 @@\n    * will be pushed into the ON clause. */\n   public static final Predicate TRUE_PREDICATE = (join, joinType, exp) -> true;\n \n-  /** Predicate that returns true if the join is not Enumerable convention,\n-   * will be replaced by {@link #TRUE_PREDICATE} once enumerable join supports\n-   * non-equi join. */\n-  // to be removed before 1.22.0\n-  private static final Predicate NOT_ENUMERABLE = (join, joinType, exp) ->\n-      join.getConvention() != EnumerableConvention.INSTANCE;\n-\n   /** Rule that pushes predicates from a Filter into the Join below them. */\n   public static final FilterJoinRule FILTER_ON_JOIN =\n       new FilterIntoJoinRule(true, RelFactories.LOGICAL_BUILDER,\n-          NOT_ENUMERABLE);\n+          TRUE_PREDICATE);\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c6a1c9180ffabca1ff898ff62d26690e1c8c03bb"}, "originalPosition": 24}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c6a1c9180ffabca1ff898ff62d26690e1c8c03bb", "author": {"user": {"login": "hsyuan", "name": "Haisheng Yuan"}}, "url": "https://github.com/apache/calcite/commit/c6a1c9180ffabca1ff898ff62d26690e1c8c03bb", "committedDate": "2020-03-29T03:19:49Z", "message": "[CALCITE-3576] Remove enumerable convention check in FilterIntoJoinRule"}, "afterCommit": {"oid": "51524a324fe4fc99b074c780f1265a86288b3661", "author": {"user": {"login": "hsyuan", "name": "Haisheng Yuan"}}, "url": "https://github.com/apache/calcite/commit/51524a324fe4fc99b074c780f1265a86288b3661", "committedDate": "2020-04-03T23:20:30Z", "message": "Adjust nestedloop join cost model"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "55be886f17850aefd21431fb5cc4c66eb7fda342", "author": {"user": {"login": "hsyuan", "name": "Haisheng Yuan"}}, "url": "https://github.com/apache/calcite/commit/55be886f17850aefd21431fb5cc4c66eb7fda342", "committedDate": "2020-04-03T23:41:02Z", "message": "Update test plan"}, "afterCommit": {"oid": "1002d983f009c763f32d2baa3df575a060fddf7c", "author": {"user": {"login": "hsyuan", "name": "Haisheng Yuan"}}, "url": "https://github.com/apache/calcite/commit/1002d983f009c763f32d2baa3df575a060fddf7c", "committedDate": "2020-04-13T00:43:17Z", "message": "[CALCITE-3576] Remove enumerable convention check in FilterIntoJoinRule"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e22565c9e8e8eeb0b47bc1814a5db09c827e9995", "author": {"user": {"login": "hsyuan", "name": "Haisheng Yuan"}}, "url": "https://github.com/apache/calcite/commit/e22565c9e8e8eeb0b47bc1814a5db09c827e9995", "committedDate": "2020-04-14T00:37:15Z", "message": "[CALCITE-3576] Remove enumerable convention check in FilterIntoJoinRule\n\nAlso tuned nestedloop join cost model to give it some penalty to favor\nnon-nestedloop joins.\n\nClose #1889"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1002d983f009c763f32d2baa3df575a060fddf7c", "author": {"user": {"login": "hsyuan", "name": "Haisheng Yuan"}}, "url": "https://github.com/apache/calcite/commit/1002d983f009c763f32d2baa3df575a060fddf7c", "committedDate": "2020-04-13T00:43:17Z", "message": "[CALCITE-3576] Remove enumerable convention check in FilterIntoJoinRule"}, "afterCommit": {"oid": "e22565c9e8e8eeb0b47bc1814a5db09c827e9995", "author": {"user": {"login": "hsyuan", "name": "Haisheng Yuan"}}, "url": "https://github.com/apache/calcite/commit/e22565c9e8e8eeb0b47bc1814a5db09c827e9995", "committedDate": "2020-04-14T00:37:15Z", "message": "[CALCITE-3576] Remove enumerable convention check in FilterIntoJoinRule\n\nAlso tuned nestedloop join cost model to give it some penalty to favor\nnon-nestedloop joins.\n\nClose #1889"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4003, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}