{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4Mzg2NjI3", "number": 2282, "title": "[CALCITE-4420] Some simple arithmetic operations can be simplified", "bodyText": "Some simple arithmetic operations can be simplified, for example:\na + 0 = a\na - 0 = a\na * 1 = a\na / 1 = a\n\nIn our product, we found such scenarios are fairly frequently encountered. For example, some SQL programmers use a * 1.0 as a convenient way to cast a to floating point type.", "createdAt": "2020-11-27T04:28:51Z", "url": "https://github.com/apache/calcite/pull/2282", "merged": true, "mergeCommit": {"oid": "c700e379e093ba0b9c411a478d419cbacd123822"}, "closed": true, "closedAt": "2021-07-12T10:47:14Z", "author": {"login": "liyafan82"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdggGP-ABqjQwNDQ1NTU4Nzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABelDtZMgBqjQ5NDUwNjAzMTg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e1ee05551a02aaf317a7d9c9ded384e3eba153b0", "author": {"user": {"login": "liyafan82", "name": null}}, "url": "https://github.com/apache/calcite/commit/e1ee05551a02aaf317a7d9c9ded384e3eba153b0", "committedDate": "2020-11-27T04:25:28Z", "message": "[CALCITE-4420] Some simple arithmetic operations can be simplified"}, "afterCommit": {"oid": "f676ce4dc8cada556e66a43e82a8891e05f2ef93", "author": {"user": {"login": "liyafan82", "name": null}}, "url": "https://github.com/apache/calcite/commit/f676ce4dc8cada556e66a43e82a8891e05f2ef93", "committedDate": "2020-11-27T04:45:51Z", "message": "[CALCITE-4420] Some simple arithmetic operations can be simplified"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f676ce4dc8cada556e66a43e82a8891e05f2ef93", "author": {"user": {"login": "liyafan82", "name": null}}, "url": "https://github.com/apache/calcite/commit/f676ce4dc8cada556e66a43e82a8891e05f2ef93", "committedDate": "2020-11-27T04:45:51Z", "message": "[CALCITE-4420] Some simple arithmetic operations can be simplified"}, "afterCommit": {"oid": "1f832eea64b98c766d5cd750b341e7bb628afc30", "author": {"user": {"login": "liyafan82", "name": null}}, "url": "https://github.com/apache/calcite/commit/1f832eea64b98c766d5cd750b341e7bb628afc30", "committedDate": "2020-11-27T05:53:58Z", "message": "[CALCITE-4420] Some simple arithmetic operations can be simplified"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1f832eea64b98c766d5cd750b341e7bb628afc30", "author": {"user": {"login": "liyafan82", "name": null}}, "url": "https://github.com/apache/calcite/commit/1f832eea64b98c766d5cd750b341e7bb628afc30", "committedDate": "2020-11-27T05:53:58Z", "message": "[CALCITE-4420] Some simple arithmetic operations can be simplified"}, "afterCommit": {"oid": "16333305cc14637b854ad38cbb111ce7445ec1e2", "author": {"user": {"login": "liyafan82", "name": null}}, "url": "https://github.com/apache/calcite/commit/16333305cc14637b854ad38cbb111ce7445ec1e2", "committedDate": "2020-11-27T06:22:40Z", "message": "[CALCITE-4420] Some simple arithmetic operations can be simplified"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQwMzQxMDU4", "url": "https://github.com/apache/calcite/pull/2282#pullrequestreview-540341058", "createdAt": "2020-11-28T04:07:01Z", "commit": {"oid": "16333305cc14637b854ad38cbb111ce7445ec1e2"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOFQwNDowNzowMVrOH7MpRQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yOFQwNDowODozM1rOH7MtTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTgzNTIwNQ==", "bodyText": "It might not be true. Sometimes users may want it to throw an exception.", "url": "https://github.com/apache/calcite/pull/2282#discussion_r531835205", "createdAt": "2020-11-28T04:07:01Z", "author": {"login": "chunweilei"}, "path": "core/src/main/java/org/apache/calcite/rex/RexSimplify.java", "diffHunk": "@@ -329,6 +336,93 @@ private RexNode simplifyGenericNode(RexCall e) {\n     return rexBuilder.makeCall(e.getType(), e.getOperator(), operands);\n   }\n \n+  /**\n+   * Try to find a literal with the given value in the input list.\n+   */\n+  private int findLiteralIndex(List<RexNode> operands, long value) {\n+    for (int i = 0; i < operands.size(); i++) {\n+      if (operands.get(i).isA(SqlKind.LITERAL)) {\n+        Comparable comparable = ((RexLiteral) operands.get(i)).getValue();\n+        if (comparable instanceof BigDecimal && ((BigDecimal) comparable).longValue() == value) {\n+          return i;\n+        }\n+      }\n+    }\n+    return -1;\n+  }\n+\n+  private RexNode simplifyArithmetic(RexCall e) {\n+    if (e.getType().getSqlTypeName().getFamily() != SqlTypeFamily.NUMERIC\n+        || e.getOperands().stream()\n+        .anyMatch(o -> e.getType().getSqlTypeName().getFamily() != SqlTypeFamily.NUMERIC)) {\n+      // we only support simplifying numeric types\n+      return simplifyGenericNode(e);\n+    }\n+\n+    assert e.getOperands().size() == 2;\n+\n+    // if any operand is null, the result will be null\n+    if (RexUtil.isNullLiteral(e.operands.get(0), true)\n+        || RexUtil.isNullLiteral(e.operands.get(1), true)) {\n+      return rexBuilder.makeNullLiteral(e.type);\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16333305cc14637b854ad38cbb111ce7445ec1e2"}, "originalPosition": 61}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTgzNjIzOQ==", "bodyText": "Can a - a be simplified to 0 if a is not nullable?", "url": "https://github.com/apache/calcite/pull/2282#discussion_r531836239", "createdAt": "2020-11-28T04:08:33Z", "author": {"login": "chunweilei"}, "path": "core/src/main/java/org/apache/calcite/rex/RexSimplify.java", "diffHunk": "@@ -329,6 +336,93 @@ private RexNode simplifyGenericNode(RexCall e) {\n     return rexBuilder.makeCall(e.getType(), e.getOperator(), operands);\n   }\n \n+  /**\n+   * Try to find a literal with the given value in the input list.\n+   */\n+  private int findLiteralIndex(List<RexNode> operands, long value) {\n+    for (int i = 0; i < operands.size(); i++) {\n+      if (operands.get(i).isA(SqlKind.LITERAL)) {\n+        Comparable comparable = ((RexLiteral) operands.get(i)).getValue();\n+        if (comparable instanceof BigDecimal && ((BigDecimal) comparable).longValue() == value) {\n+          return i;\n+        }\n+      }\n+    }\n+    return -1;\n+  }\n+\n+  private RexNode simplifyArithmetic(RexCall e) {\n+    if (e.getType().getSqlTypeName().getFamily() != SqlTypeFamily.NUMERIC\n+        || e.getOperands().stream()\n+        .anyMatch(o -> e.getType().getSqlTypeName().getFamily() != SqlTypeFamily.NUMERIC)) {\n+      // we only support simplifying numeric types\n+      return simplifyGenericNode(e);\n+    }\n+\n+    assert e.getOperands().size() == 2;\n+\n+    // if any operand is null, the result will be null\n+    if (RexUtil.isNullLiteral(e.operands.get(0), true)\n+        || RexUtil.isNullLiteral(e.operands.get(1), true)) {\n+      return rexBuilder.makeNullLiteral(e.type);\n+    }\n+\n+    switch (e.getKind()) {\n+    case PLUS:\n+      return simplifyPlus(e);\n+    case MINUS:\n+      return simplifyMinus(e);\n+    case TIMES:\n+      return simplifyMultiply(e);\n+    case DIVIDE:\n+      return simplifyDivide(e);\n+    default:\n+      throw new IllegalArgumentException(\"Unsupported arithmeitc operation \" + e.getKind());\n+    }\n+  }\n+\n+  private RexNode simplifyPlus(RexCall e) {\n+    int zeroIndex = findLiteralIndex(e.operands, 0L);\n+    if (zeroIndex >= 0) {\n+      // return the other operand\n+      RexNode other = e.getOperands().get((zeroIndex + 1) % 2);\n+      return other.getType().equals(e.getType())\n+          ? other : rexBuilder.makeCast(e.getType(), other);\n+    }\n+    return simplifyGenericNode(e);\n+  }\n+\n+  private RexNode simplifyMinus(RexCall e) {\n+    int zeroIndex = findLiteralIndex(e.operands, 0L);\n+    if (zeroIndex == 1) {\n+      RexNode leftOperand = e.getOperands().get(0);\n+      return leftOperand.getType().equals(e.getType())\n+          ? leftOperand : rexBuilder.makeCast(e.getType(), leftOperand);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "16333305cc14637b854ad38cbb111ce7445ec1e2"}, "originalPosition": 93}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "16333305cc14637b854ad38cbb111ce7445ec1e2", "author": {"user": {"login": "liyafan82", "name": null}}, "url": "https://github.com/apache/calcite/commit/16333305cc14637b854ad38cbb111ce7445ec1e2", "committedDate": "2020-11-27T06:22:40Z", "message": "[CALCITE-4420] Some simple arithmetic operations can be simplified"}, "afterCommit": {"oid": "68f497f4f08cde35f47c3777e90a21d4259ac1c3", "author": {"user": {"login": "liyafan82", "name": null}}, "url": "https://github.com/apache/calcite/commit/68f497f4f08cde35f47c3777e90a21d4259ac1c3", "committedDate": "2020-11-30T04:47:42Z", "message": "[CALCITE-4420] Some simple arithmetic operations can be simplified"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxNDE5NjEw", "url": "https://github.com/apache/calcite/pull/2282#pullrequestreview-541419610", "createdAt": "2020-12-01T01:20:15Z", "commit": {"oid": "68f497f4f08cde35f47c3777e90a21d4259ac1c3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwMToyMDoxNVrOH8UXHA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwMToyMDoxNVrOH8UXHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzAxMDIwNA==", "bodyText": "Make it final since it's our convention.", "url": "https://github.com/apache/calcite/pull/2282#discussion_r533010204", "createdAt": "2020-12-01T01:20:15Z", "author": {"login": "chunweilei"}, "path": "core/src/main/java/org/apache/calcite/rex/RexSimplify.java", "diffHunk": "@@ -332,6 +339,87 @@ private RexNode simplifyGenericNode(RexCall e) {\n     return rexBuilder.makeCall(e.getType(), e.getOperator(), operands);\n   }\n \n+  /**\n+   * Try to find a literal with the given value in the input list.\n+   */\n+  private int findLiteralIndex(List<RexNode> operands, long value) {\n+    for (int i = 0; i < operands.size(); i++) {\n+      if (operands.get(i).isA(SqlKind.LITERAL)) {\n+        Comparable comparable = ((RexLiteral) operands.get(i)).getValue();\n+        if (comparable instanceof BigDecimal && ((BigDecimal) comparable).longValue() == value) {\n+          return i;\n+        }\n+      }\n+    }\n+    return -1;\n+  }\n+\n+  private RexNode simplifyArithmetic(RexCall e) {\n+    if (e.getType().getSqlTypeName().getFamily() != SqlTypeFamily.NUMERIC\n+        || e.getOperands().stream()\n+        .anyMatch(o -> e.getType().getSqlTypeName().getFamily() != SqlTypeFamily.NUMERIC)) {\n+      // we only support simplifying numeric types\n+      return simplifyGenericNode(e);\n+    }\n+\n+    assert e.getOperands().size() == 2;\n+\n+    switch (e.getKind()) {\n+    case PLUS:\n+      return simplifyPlus(e);\n+    case MINUS:\n+      return simplifyMinus(e);\n+    case TIMES:\n+      return simplifyMultiply(e);\n+    case DIVIDE:\n+      return simplifyDivide(e);\n+    default:\n+      throw new IllegalArgumentException(\"Unsupported arithmeitc operation \" + e.getKind());\n+    }\n+  }\n+\n+  private RexNode simplifyPlus(RexCall e) {\n+    int zeroIndex = findLiteralIndex(e.operands, 0L);\n+    if (zeroIndex >= 0) {\n+      // return the other operand\n+      RexNode other = e.getOperands().get((zeroIndex + 1) % 2);\n+      return other.getType().equals(e.getType())\n+          ? other : rexBuilder.makeCast(e.getType(), other);\n+    }\n+    return simplifyGenericNode(e);\n+  }\n+\n+  private RexNode simplifyMinus(RexCall e) {\n+    int zeroIndex = findLiteralIndex(e.operands, 0L);\n+    if (zeroIndex == 1) {\n+      RexNode leftOperand = e.getOperands().get(0);\n+      return leftOperand.getType().equals(e.getType())\n+          ? leftOperand : rexBuilder.makeCast(e.getType(), leftOperand);\n+    }\n+    return simplifyGenericNode(e);\n+  }\n+\n+  private RexNode simplifyMultiply(RexCall e) {\n+    int oneIndex = findLiteralIndex(e.operands, 1L);\n+    if (oneIndex >= 0) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "68f497f4f08cde35f47c3777e90a21d4259ac1c3"}, "originalPosition": 94}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxNDIwMzYx", "url": "https://github.com/apache/calcite/pull/2282#pullrequestreview-541420361", "createdAt": "2020-12-01T01:22:21Z", "commit": {"oid": "68f497f4f08cde35f47c3777e90a21d4259ac1c3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwMToyMjoyMlrOH8UZyw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwMToyMjoyMlrOH8UZyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzAxMDg5MQ==", "bodyText": "Add . to the end of the sentence.", "url": "https://github.com/apache/calcite/pull/2282#discussion_r533010891", "createdAt": "2020-12-01T01:22:22Z", "author": {"login": "chunweilei"}, "path": "core/src/main/java/org/apache/calcite/rex/RexSimplify.java", "diffHunk": "@@ -332,6 +339,87 @@ private RexNode simplifyGenericNode(RexCall e) {\n     return rexBuilder.makeCall(e.getType(), e.getOperator(), operands);\n   }\n \n+  /**\n+   * Try to find a literal with the given value in the input list.\n+   */\n+  private int findLiteralIndex(List<RexNode> operands, long value) {\n+    for (int i = 0; i < operands.size(); i++) {\n+      if (operands.get(i).isA(SqlKind.LITERAL)) {\n+        Comparable comparable = ((RexLiteral) operands.get(i)).getValue();\n+        if (comparable instanceof BigDecimal && ((BigDecimal) comparable).longValue() == value) {\n+          return i;\n+        }\n+      }\n+    }\n+    return -1;\n+  }\n+\n+  private RexNode simplifyArithmetic(RexCall e) {\n+    if (e.getType().getSqlTypeName().getFamily() != SqlTypeFamily.NUMERIC\n+        || e.getOperands().stream()\n+        .anyMatch(o -> e.getType().getSqlTypeName().getFamily() != SqlTypeFamily.NUMERIC)) {\n+      // we only support simplifying numeric types\n+      return simplifyGenericNode(e);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "68f497f4f08cde35f47c3777e90a21d4259ac1c3"}, "originalPosition": 52}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQxNDIwNzY2", "url": "https://github.com/apache/calcite/pull/2282#pullrequestreview-541420766", "createdAt": "2020-12-01T01:23:38Z", "commit": {"oid": "68f497f4f08cde35f47c3777e90a21d4259ac1c3"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwMToyMzozOVrOH8UbMw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMVQwMToyMzozOVrOH8UbMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMzAxMTI1MQ==", "bodyText": "Could you mark it that it only supports numeric type?", "url": "https://github.com/apache/calcite/pull/2282#discussion_r533011251", "createdAt": "2020-12-01T01:23:39Z", "author": {"login": "chunweilei"}, "path": "core/src/main/java/org/apache/calcite/rex/RexSimplify.java", "diffHunk": "@@ -332,6 +339,87 @@ private RexNode simplifyGenericNode(RexCall e) {\n     return rexBuilder.makeCall(e.getType(), e.getOperator(), operands);\n   }\n \n+  /**\n+   * Try to find a literal with the given value in the input list.\n+   */\n+  private int findLiteralIndex(List<RexNode> operands, long value) {\n+    for (int i = 0; i < operands.size(); i++) {\n+      if (operands.get(i).isA(SqlKind.LITERAL)) {\n+        Comparable comparable = ((RexLiteral) operands.get(i)).getValue();\n+        if (comparable instanceof BigDecimal && ((BigDecimal) comparable).longValue() == value) {\n+          return i;\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "68f497f4f08cde35f47c3777e90a21d4259ac1c3"}, "originalPosition": 41}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "68f497f4f08cde35f47c3777e90a21d4259ac1c3", "author": {"user": {"login": "liyafan82", "name": null}}, "url": "https://github.com/apache/calcite/commit/68f497f4f08cde35f47c3777e90a21d4259ac1c3", "committedDate": "2020-11-30T04:47:42Z", "message": "[CALCITE-4420] Some simple arithmetic operations can be simplified"}, "afterCommit": {"oid": "00b866e207d783a070d27921d114af660d0b1f96", "author": {"user": {"login": "liyafan82", "name": null}}, "url": "https://github.com/apache/calcite/commit/00b866e207d783a070d27921d114af660d0b1f96", "committedDate": "2020-12-01T06:22:45Z", "message": "[CALCITE-4420] Some simple arithmetic operations can be simplified"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "00b866e207d783a070d27921d114af660d0b1f96", "author": {"user": {"login": "liyafan82", "name": null}}, "url": "https://github.com/apache/calcite/commit/00b866e207d783a070d27921d114af660d0b1f96", "committedDate": "2020-12-01T06:22:45Z", "message": "[CALCITE-4420] Some simple arithmetic operations can be simplified"}, "afterCommit": {"oid": "1edcd5adc5d674728aee6c4f35fcc971add611fb", "author": {"user": {"login": "liyafan82", "name": null}}, "url": "https://github.com/apache/calcite/commit/1edcd5adc5d674728aee6c4f35fcc971add611fb", "committedDate": "2020-12-01T06:25:03Z", "message": "[CALCITE-4420] Some simple arithmetic operations can be simplified"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1edcd5adc5d674728aee6c4f35fcc971add611fb", "author": {"user": {"login": "liyafan82", "name": null}}, "url": "https://github.com/apache/calcite/commit/1edcd5adc5d674728aee6c4f35fcc971add611fb", "committedDate": "2020-12-01T06:25:03Z", "message": "[CALCITE-4420] Some simple arithmetic operations can be simplified"}, "afterCommit": {"oid": "11add5bf0fa6b861f4b826f418bc6ea7a18565f6", "author": {"user": {"login": "liyafan82", "name": null}}, "url": "https://github.com/apache/calcite/commit/11add5bf0fa6b861f4b826f418bc6ea7a18565f6", "committedDate": "2021-06-25T10:21:29Z", "message": "[CALCITE-4420] Some simple arithmetic operations can be simplified"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NjkzMjUzMjI1", "url": "https://github.com/apache/calcite/pull/2282#pullrequestreview-693253225", "createdAt": "2021-06-25T23:53:45Z", "commit": {"oid": "11add5bf0fa6b861f4b826f418bc6ea7a18565f6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNi0yNVQyMzo1Mzo0NlrOJ0jdaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wNi0yNVQyMzo1Mzo0NlrOJ0jdaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDY1OTA4NjY5Nw==", "bodyText": "Could you please add a test like add(zero, sub(vInt(0), vInt(0)))?\nThe expression should evaluate to null in case vInt(0) is null.", "url": "https://github.com/apache/calcite/pull/2282#discussion_r659086697", "createdAt": "2021-06-25T23:53:46Z", "author": {"login": "vlsi"}, "path": "core/src/test/java/org/apache/calcite/rex/RexProgramTest.java", "diffHunk": "@@ -3224,4 +3224,25 @@ private SqlSpecialOperatorWithPolicy(String name, SqlKind kind, int prec, boolea\n   @Test void testSimplifyVarbinary() {\n     checkSimplifyUnchanged(cast(cast(vInt(), tVarchar(true, 100)), tVarbinary(true)));\n   }\n+\n+  @Test void testSimplifySimpleArithmetic() {\n+    RexNode a = vIntNotNull(1);\n+    RexNode zero = literal(0);\n+    RexNode one = literal(1);\n+\n+    RexNode b = vDecimalNotNull(2);\n+    RexNode half = literal(new BigDecimal(0.5), b.getType());\n+\n+    checkSimplify(add(a, zero), \"?0.notNullInt1\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "11add5bf0fa6b861f4b826f418bc6ea7a18565f6"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e2f331968fc3848c4a24e5d9042fa9854331578", "author": {"user": {"login": "liyafan82", "name": null}}, "url": "https://github.com/apache/calcite/commit/2e2f331968fc3848c4a24e5d9042fa9854331578", "committedDate": "2021-06-28T04:42:20Z", "message": "[CALCITE-4420] Some simple arithmetic operations can be simplified"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "11add5bf0fa6b861f4b826f418bc6ea7a18565f6", "author": {"user": {"login": "liyafan82", "name": null}}, "url": "https://github.com/apache/calcite/commit/11add5bf0fa6b861f4b826f418bc6ea7a18565f6", "committedDate": "2021-06-25T10:21:29Z", "message": "[CALCITE-4420] Some simple arithmetic operations can be simplified"}, "afterCommit": {"oid": "2e2f331968fc3848c4a24e5d9042fa9854331578", "author": {"user": {"login": "liyafan82", "name": null}}, "url": "https://github.com/apache/calcite/commit/2e2f331968fc3848c4a24e5d9042fa9854331578", "committedDate": "2021-06-28T04:42:20Z", "message": "[CALCITE-4420] Some simple arithmetic operations can be simplified"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2810, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}