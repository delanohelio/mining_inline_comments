{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzczMTYzOTE0", "number": 1794, "title": "[CALCITE-3781] HintStrategy can specify excluded rules for planner", "bodyText": "It is efficient to support exclude rules explicitly for some hints, i.e.\nUSE_MERGE, NO_USE_HASH.", "createdAt": "2020-02-10T14:26:13Z", "url": "https://github.com/apache/calcite/pull/1794", "merged": true, "mergeCommit": {"oid": "eaa40cb7589fb59ea820ea1d4a0c2f187ee9e759"}, "closed": true, "closedAt": "2020-02-12T01:57:36Z", "author": {"login": "danny0405"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcDKYBwgBqjMwMjUyMjM5NTE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDhX0GAFqTM1NzIzOTQwMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aa165ad0d481e666a8afead2c96621ccee1c7403", "author": {"user": {"login": "danny0405", "name": "Danny Chan"}}, "url": "https://github.com/apache/calcite/commit/aa165ad0d481e666a8afead2c96621ccee1c7403", "committedDate": "2020-02-10T14:24:54Z", "message": "[CALCITE-3781] HintStrategy can specify excluded rules for planner\n\nIt is efficient to support exclude rules explicitly for some hints, i.e.\nUSE_MERGE, NO_USE_HASH."}, "afterCommit": {"oid": "3f5475fae37ad577264aa566f63fd3d02b9da156", "author": {"user": {"login": "danny0405", "name": "Danny Chan"}}, "url": "https://github.com/apache/calcite/commit/3f5475fae37ad577264aa566f63fd3d02b9da156", "committedDate": "2020-02-11T04:52:29Z", "message": "[CALCITE-3781] HintStrategy can specify excluded rules for planner\n\nIt is efficient to support exclude rules explicitly for some hints, i.e.\nUSE_MERGE, NO_USE_HASH."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd4a3f178e10c463f36ca737570965430f2cb690", "author": {"user": {"login": "danny0405", "name": "Danny Chan"}}, "url": "https://github.com/apache/calcite/commit/fd4a3f178e10c463f36ca737570965430f2cb690", "committedDate": "2020-02-11T05:47:49Z", "message": "[CALCITE-3781] HintStrategy can specify excluded rules for planner\n\nIt is efficient to support exclude rules explicitly for some hints, i.e.\nUSE_MERGE, NO_USE_HASH."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3f5475fae37ad577264aa566f63fd3d02b9da156", "author": {"user": {"login": "danny0405", "name": "Danny Chan"}}, "url": "https://github.com/apache/calcite/commit/3f5475fae37ad577264aa566f63fd3d02b9da156", "committedDate": "2020-02-11T04:52:29Z", "message": "[CALCITE-3781] HintStrategy can specify excluded rules for planner\n\nIt is efficient to support exclude rules explicitly for some hints, i.e.\nUSE_MERGE, NO_USE_HASH."}, "afterCommit": {"oid": "fd4a3f178e10c463f36ca737570965430f2cb690", "author": {"user": {"login": "danny0405", "name": "Danny Chan"}}, "url": "https://github.com/apache/calcite/commit/fd4a3f178e10c463f36ca737570965430f2cb690", "committedDate": "2020-02-11T05:47:49Z", "message": "[CALCITE-3781] HintStrategy can specify excluded rules for planner\n\nIt is efficient to support exclude rules explicitly for some hints, i.e.\nUSE_MERGE, NO_USE_HASH."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3MjM5NDAz", "url": "https://github.com/apache/calcite/pull/1794#pullrequestreview-357239403", "createdAt": "2020-02-12T07:40:44Z", "commit": {"oid": "fd4a3f178e10c463f36ca737570965430f2cb690"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwNzo0MDo0NFrOFokSTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xMlQwNzo0MDo0NFrOFokSTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODA4MTg3MA==", "bodyText": "Should this be evaluated before the rule is added to the match queue?", "url": "https://github.com/apache/calcite/pull/1794#discussion_r378081870", "createdAt": "2020-02-12T07:40:44Z", "author": {"login": "vlsi"}, "path": "core/src/main/java/org/apache/calcite/plan/volcano/VolcanoRuleCall.java", "diffHunk": "@@ -160,6 +160,11 @@ protected void onMatch() {\n         return;\n       }\n \n+      if (isRuleExcluded()) {\n+        LOGGER.debug(\"Rule [{}] not fired due to exclusion hint\", getRule());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "fd4a3f178e10c463f36ca737570965430f2cb690"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4227, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}