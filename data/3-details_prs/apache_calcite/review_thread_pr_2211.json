{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTAyNzI2MDAy", "number": 2211, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQyMTozODozNFrOEtq9xA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDo0OTowNlrOE7UKWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE2MzI1MzE2OnYy", "diffSide": "RIGHT", "path": "core/src/main/java/org/apache/calcite/sql2rel/RelFieldTrimmer.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQyMTozODozNFrOHhl-Qg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxOToyNToxNlrOHkeTzg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDk4NzIwMg==", "bodyText": "Maybe an empty value rel should be used here instead", "url": "https://github.com/apache/calcite/pull/2211#discussion_r504987202", "createdAt": "2020-10-14T21:38:34Z", "author": {"login": "jamesstarr"}, "path": "core/src/main/java/org/apache/calcite/sql2rel/RelFieldTrimmer.java", "diffHunk": "@@ -1072,6 +1074,26 @@ public TrimResult trimFields(\n       ++j;\n     }\n \n+    if (newAggCallList.isEmpty() && newGroupSet.isEmpty()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dbd33c1d28369200a8431cefdd82e0e4084e3c0d"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNjA0OTQwNQ==", "bodyText": "No. Use RelBuilder.aggregate (and RelBuilder.count()). In future, we can possibly change their behavior in order to optimize. RelFieldTrimmer is the wrong place to optimize.", "url": "https://github.com/apache/calcite/pull/2211#discussion_r506049405", "createdAt": "2020-10-16T04:47:40Z", "author": {"login": "julianhyde"}, "path": "core/src/main/java/org/apache/calcite/sql2rel/RelFieldTrimmer.java", "diffHunk": "@@ -1072,6 +1074,26 @@ public TrimResult trimFields(\n       ++j;\n     }\n \n+    if (newAggCallList.isEmpty() && newGroupSet.isEmpty()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDk4NzIwMg=="}, "originalCommit": {"oid": "dbd33c1d28369200a8431cefdd82e0e4084e3c0d"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwODAwNzM3NA==", "bodyText": "Done.", "url": "https://github.com/apache/calcite/pull/2211#discussion_r508007374", "createdAt": "2020-10-19T19:25:16Z", "author": {"login": "a-rafay"}, "path": "core/src/main/java/org/apache/calcite/sql2rel/RelFieldTrimmer.java", "diffHunk": "@@ -1072,6 +1074,26 @@ public TrimResult trimFields(\n       ++j;\n     }\n \n+    if (newAggCallList.isEmpty() && newGroupSet.isEmpty()) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDk4NzIwMg=="}, "originalCommit": {"oid": "dbd33c1d28369200a8431cefdd82e0e4084e3c0d"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI0NjYwMDkyOnYy", "diffSide": "RIGHT", "path": "core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java", "isResolved": false, "comments": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wNVQxMTo0NTo1NFrOHt_nUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQxNDoyMDo1MVrOH3RqUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk5MDIyNw==", "bodyText": "Shouldn't this new test be added inside RelFieldTrimmerTest rather than RelOptRulesTest?", "url": "https://github.com/apache/calcite/pull/2211#discussion_r517990227", "createdAt": "2020-11-05T11:45:54Z", "author": {"login": "rubenada"}, "path": "core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java", "diffHunk": "@@ -6827,6 +6828,62 @@ protected MyProjectRule(Config config) {\n         .check();\n   }\n \n+  /**\n+   * Test case for\n+   * <a href=\"https://issues.apache.org/jira/browse/CALCITE-4317\">[CALCITE-4317]\n+   * RelFieldTrimmer after trimming all the fields in an aggregate\n+   * should not return a zero field Aggregate</a>. */\n+  @Test void testProjectJoinTransposeRuleOnAggWithNoFieldsWithTrimmer() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "edf1da7fce1a9153c90543f87c51cc7b4b4393ad"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxODMzMzE2Mg==", "bodyText": "There were 2 parts to be tested here:\n\nTrimmer handles aggregate node if all the fields have been trimmed.\nProject-Join transpose rule handles the trimmed node properly.\n\nSo i had to add the test in RelOptRulesTest for 2, for which i had to trim the node first, so it covers 1 as well. If you think i should add a separate test for 1 in RelFieldTrimmerTest, that can be done.", "url": "https://github.com/apache/calcite/pull/2211#discussion_r518333162", "createdAt": "2020-11-05T20:06:44Z", "author": {"login": "a-rafay"}, "path": "core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java", "diffHunk": "@@ -6827,6 +6828,62 @@ protected MyProjectRule(Config config) {\n         .check();\n   }\n \n+  /**\n+   * Test case for\n+   * <a href=\"https://issues.apache.org/jira/browse/CALCITE-4317\">[CALCITE-4317]\n+   * RelFieldTrimmer after trimming all the fields in an aggregate\n+   * should not return a zero field Aggregate</a>. */\n+  @Test void testProjectJoinTransposeRuleOnAggWithNoFieldsWithTrimmer() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk5MDIyNw=="}, "originalCommit": {"oid": "edf1da7fce1a9153c90543f87c51cc7b4b4393ad"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTcxNjI1MQ==", "bodyText": "See this, after I applied your patch, the exception is gone, maybe this can be a ut for this case: https://issues.apache.org/jira/projects/CALCITE/issues/CALCITE-4381", "url": "https://github.com/apache/calcite/pull/2211#discussion_r519716251", "createdAt": "2020-11-09T10:49:45Z", "author": {"login": "Aaaaaaron"}, "path": "core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java", "diffHunk": "@@ -6827,6 +6828,62 @@ protected MyProjectRule(Config config) {\n         .check();\n   }\n \n+  /**\n+   * Test case for\n+   * <a href=\"https://issues.apache.org/jira/browse/CALCITE-4317\">[CALCITE-4317]\n+   * RelFieldTrimmer after trimming all the fields in an aggregate\n+   * should not return a zero field Aggregate</a>. */\n+  @Test void testProjectJoinTransposeRuleOnAggWithNoFieldsWithTrimmer() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk5MDIyNw=="}, "originalCommit": {"oid": "edf1da7fce1a9153c90543f87c51cc7b4b4393ad"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTgxNzQ0Mw==", "bodyText": "Ok, thanks for the explanation. IMO there is no need to duplicate the test, we can leave it just here.", "url": "https://github.com/apache/calcite/pull/2211#discussion_r519817443", "createdAt": "2020-11-09T13:34:14Z", "author": {"login": "rubenada"}, "path": "core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java", "diffHunk": "@@ -6827,6 +6828,62 @@ protected MyProjectRule(Config config) {\n         .check();\n   }\n \n+  /**\n+   * Test case for\n+   * <a href=\"https://issues.apache.org/jira/browse/CALCITE-4317\">[CALCITE-4317]\n+   * RelFieldTrimmer after trimming all the fields in an aggregate\n+   * should not return a zero field Aggregate</a>. */\n+  @Test void testProjectJoinTransposeRuleOnAggWithNoFieldsWithTrimmer() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk5MDIyNw=="}, "originalCommit": {"oid": "edf1da7fce1a9153c90543f87c51cc7b4b4393ad"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTg0MTY1Mg==", "bodyText": "Hi, @rubenada I mean that can be test evidence for this patch and this block CALCITE-4381, I hope it can merge as soon as possible.", "url": "https://github.com/apache/calcite/pull/2211#discussion_r519841652", "createdAt": "2020-11-09T14:11:19Z", "author": {"login": "Aaaaaaron"}, "path": "core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java", "diffHunk": "@@ -6827,6 +6828,62 @@ protected MyProjectRule(Config config) {\n         .check();\n   }\n \n+  /**\n+   * Test case for\n+   * <a href=\"https://issues.apache.org/jira/browse/CALCITE-4317\">[CALCITE-4317]\n+   * RelFieldTrimmer after trimming all the fields in an aggregate\n+   * should not return a zero field Aggregate</a>. */\n+  @Test void testProjectJoinTransposeRuleOnAggWithNoFieldsWithTrimmer() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk5MDIyNw=="}, "originalCommit": {"oid": "edf1da7fce1a9153c90543f87c51cc7b4b4393ad"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTg0MjQ0NA==", "bodyText": "Hi @a-rafay, can you represent this ut by SQL, like CSVTest, it may be more clearer", "url": "https://github.com/apache/calcite/pull/2211#discussion_r519842444", "createdAt": "2020-11-09T14:12:29Z", "author": {"login": "Aaaaaaron"}, "path": "core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java", "diffHunk": "@@ -6827,6 +6828,62 @@ protected MyProjectRule(Config config) {\n         .check();\n   }\n \n+  /**\n+   * Test case for\n+   * <a href=\"https://issues.apache.org/jira/browse/CALCITE-4317\">[CALCITE-4317]\n+   * RelFieldTrimmer after trimming all the fields in an aggregate\n+   * should not return a zero field Aggregate</a>. */\n+  @Test void testProjectJoinTransposeRuleOnAggWithNoFieldsWithTrimmer() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk5MDIyNw=="}, "originalCommit": {"oid": "edf1da7fce1a9153c90543f87c51cc7b4b4393ad"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTg0ODEyNw==", "bodyText": "@Aaaaaaron sorry for the confusion, my previous comment was actually replying  @a-rafay 's last comment\n#2211 (comment)", "url": "https://github.com/apache/calcite/pull/2211#discussion_r519848127", "createdAt": "2020-11-09T14:20:24Z", "author": {"login": "rubenada"}, "path": "core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java", "diffHunk": "@@ -6827,6 +6828,62 @@ protected MyProjectRule(Config config) {\n         .check();\n   }\n \n+  /**\n+   * Test case for\n+   * <a href=\"https://issues.apache.org/jira/browse/CALCITE-4317\">[CALCITE-4317]\n+   * RelFieldTrimmer after trimming all the fields in an aggregate\n+   * should not return a zero field Aggregate</a>. */\n+  @Test void testProjectJoinTransposeRuleOnAggWithNoFieldsWithTrimmer() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk5MDIyNw=="}, "originalCommit": {"oid": "edf1da7fce1a9153c90543f87c51cc7b4b4393ad"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDA2Mzk4Mg==", "bodyText": "@Aaaaaaron my test case was slightly different but it seems like similar to CALCITE-4381, i couldn't reproduce the query we had since we do a lot of transformation before getting to that state so i started off with creating a RelNode and applying the rule on that. If this patch fixes CALCITE-4381, then it shouldn't matter what test case we used if the nature of test case is the same.\nYou also asked about the progress of this PR. I am just waiting for this to get reviewed so we can merge this.", "url": "https://github.com/apache/calcite/pull/2211#discussion_r520063982", "createdAt": "2020-11-09T19:24:32Z", "author": {"login": "a-rafay"}, "path": "core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java", "diffHunk": "@@ -6827,6 +6828,62 @@ protected MyProjectRule(Config config) {\n         .check();\n   }\n \n+  /**\n+   * Test case for\n+   * <a href=\"https://issues.apache.org/jira/browse/CALCITE-4317\">[CALCITE-4317]\n+   * RelFieldTrimmer after trimming all the fields in an aggregate\n+   * should not return a zero field Aggregate</a>. */\n+  @Test void testProjectJoinTransposeRuleOnAggWithNoFieldsWithTrimmer() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk5MDIyNw=="}, "originalCommit": {"oid": "edf1da7fce1a9153c90543f87c51cc7b4b4393ad"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjU1MjQ4MQ==", "bodyText": "@a-rafay \"then it shouldn't matter what test case we used if the nature of test case is the same.\" yes, this is what I mean, @rubenada can you help review and merge this PR, I've been met this times, thanks!", "url": "https://github.com/apache/calcite/pull/2211#discussion_r526552481", "createdAt": "2020-11-19T02:31:16Z", "author": {"login": "Aaaaaaron"}, "path": "core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java", "diffHunk": "@@ -6827,6 +6828,62 @@ protected MyProjectRule(Config config) {\n         .check();\n   }\n \n+  /**\n+   * Test case for\n+   * <a href=\"https://issues.apache.org/jira/browse/CALCITE-4317\">[CALCITE-4317]\n+   * RelFieldTrimmer after trimming all the fields in an aggregate\n+   * should not return a zero field Aggregate</a>. */\n+  @Test void testProjectJoinTransposeRuleOnAggWithNoFieldsWithTrimmer() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk5MDIyNw=="}, "originalCommit": {"oid": "edf1da7fce1a9153c90543f87c51cc7b4b4393ad"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjY4OTk4Ng==", "bodyText": "Would it be possible to have the test defined in terms of SQL:\nSELECT name FROM (SELECT count(*) cnt_star, count(empno) cnt_en FROM sales.emp)\ncross join sales.dept limit 10\n\nrather than RelBuilder?", "url": "https://github.com/apache/calcite/pull/2211#discussion_r526689986", "createdAt": "2020-11-19T08:52:58Z", "author": {"login": "rubenada"}, "path": "core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java", "diffHunk": "@@ -6827,6 +6828,62 @@ protected MyProjectRule(Config config) {\n         .check();\n   }\n \n+  /**\n+   * Test case for\n+   * <a href=\"https://issues.apache.org/jira/browse/CALCITE-4317\">[CALCITE-4317]\n+   * RelFieldTrimmer after trimming all the fields in an aggregate\n+   * should not return a zero field Aggregate</a>. */\n+  @Test void testProjectJoinTransposeRuleOnAggWithNoFieldsWithTrimmer() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk5MDIyNw=="}, "originalCommit": {"oid": "edf1da7fce1a9153c90543f87c51cc7b4b4393ad"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzMxMDUxMg==", "bodyText": "Would it be possible to have the test defined in terms of SQL:\nSELECT name FROM (SELECT count(*) cnt_star, count(empno) cnt_en FROM sales.emp)\ncross join sales.dept limit 10\n\nrather than RelBuilder?\n\nI can add a test using the query, but that will only test if we are not getting emtpy Agg after trimming. The second issue was to test if the ProjectJoinTransposeRule will not throw an exception, which we will not be able to test since the resulting RelNode does not match the rule. In our environment, we get the transformed node after applying some rules/transformation which i was unable to come up with straight from the query. Hence i used RelBuilder to start off with the node that will satisfy both parts of the ticket. Non-empty agg node after trimming, and firing ProjectJoinTransposeRule.", "url": "https://github.com/apache/calcite/pull/2211#discussion_r527310512", "createdAt": "2020-11-20T00:38:46Z", "author": {"login": "a-rafay"}, "path": "core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java", "diffHunk": "@@ -6827,6 +6828,62 @@ protected MyProjectRule(Config config) {\n         .check();\n   }\n \n+  /**\n+   * Test case for\n+   * <a href=\"https://issues.apache.org/jira/browse/CALCITE-4317\">[CALCITE-4317]\n+   * RelFieldTrimmer after trimming all the fields in an aggregate\n+   * should not return a zero field Aggregate</a>. */\n+  @Test void testProjectJoinTransposeRuleOnAggWithNoFieldsWithTrimmer() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk5MDIyNw=="}, "originalCommit": {"oid": "edf1da7fce1a9153c90543f87c51cc7b4b4393ad"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzcyMzA4OA==", "bodyText": "Ok, thanks for the explanation, I guess the RelBuilder test suffices.", "url": "https://github.com/apache/calcite/pull/2211#discussion_r527723088", "createdAt": "2020-11-20T14:20:51Z", "author": {"login": "rubenada"}, "path": "core/src/test/java/org/apache/calcite/test/RelOptRulesTest.java", "diffHunk": "@@ -6827,6 +6828,62 @@ protected MyProjectRule(Config config) {\n         .check();\n   }\n \n+  /**\n+   * Test case for\n+   * <a href=\"https://issues.apache.org/jira/browse/CALCITE-4317\">[CALCITE-4317]\n+   * RelFieldTrimmer after trimming all the fields in an aggregate\n+   * should not return a zero field Aggregate</a>. */\n+  @Test void testProjectJoinTransposeRuleOnAggWithNoFieldsWithTrimmer() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNzk5MDIyNw=="}, "originalCommit": {"oid": "edf1da7fce1a9153c90543f87c51cc7b4b4393ad"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwMjM1NDYzOnYy", "diffSide": "RIGHT", "path": "core/src/test/java/org/apache/calcite/test/SqlToRelTestBase.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xOVQwODo1NDo0NVrOH2SrWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDo0Mjo1OVrOH24tTw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjY5MTE2Mg==", "bodyText": "I'm not quite sure about adding this new trimRelNode that by default does nothing (hence does not trim the input RelNode).\nAre we sure this is the right place for this method?", "url": "https://github.com/apache/calcite/pull/2211#discussion_r526691162", "createdAt": "2020-11-19T08:54:45Z", "author": {"login": "rubenada"}, "path": "core/src/test/java/org/apache/calcite/test/SqlToRelTestBase.java", "diffHunk": "@@ -263,6 +263,11 @@ Tester withCatalogReaderFactory(\n \n     /** Returns a tester that uses a given context. */\n     Tester withContext(UnaryOperator<Context> transform);\n+\n+    /** Trims a RelNode. */\n+    default RelNode trimRelNode(RelNode relNode) {\n+      return relNode;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "edf1da7fce1a9153c90543f87c51cc7b4b4393ad"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzMxNDI1NQ==", "bodyText": "I didn't find a method in the Tester to only trim the node. I see convertSqlToRel(..) trims the query if we enable trimming. I copied the code from there and put it together as a separate method because i needed to use the trimming part of that function but not conversion from SQL to Rel.\nIf you think there is a better place to do this, i would be happy to refactor, or if we already have code doing this, i can reuse that.\nI will remove the default behavior of this method, since we only have 1 implementation of Tester at the moment.", "url": "https://github.com/apache/calcite/pull/2211#discussion_r527314255", "createdAt": "2020-11-20T00:42:59Z", "author": {"login": "a-rafay"}, "path": "core/src/test/java/org/apache/calcite/test/SqlToRelTestBase.java", "diffHunk": "@@ -263,6 +263,11 @@ Tester withCatalogReaderFactory(\n \n     /** Returns a tester that uses a given context. */\n     Tester withContext(UnaryOperator<Context> transform);\n+\n+    /** Trims a RelNode. */\n+    default RelNode trimRelNode(RelNode relNode) {\n+      return relNode;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNjY5MTE2Mg=="}, "originalCommit": {"oid": "edf1da7fce1a9153c90543f87c51cc7b4b4393ad"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNjMxNzcxOnYy", "diffSide": "RIGHT", "path": "core/src/test/java/org/apache/calcite/test/SqlToRelTestBase.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDo0OTowNlrOH25B2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwMDo0OTowNlrOH25B2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzMxOTUxNQ==", "bodyText": "@rubenada Done.", "url": "https://github.com/apache/calcite/pull/2211#discussion_r527319515", "createdAt": "2020-11-20T00:49:06Z", "author": {"login": "a-rafay"}, "path": "core/src/test/java/org/apache/calcite/test/SqlToRelTestBase.java", "diffHunk": "@@ -263,6 +263,9 @@ Tester withCatalogReaderFactory(\n \n     /** Returns a tester that uses a given context. */\n     Tester withContext(UnaryOperator<Context> transform);\n+\n+    /** Trims a RelNode. */\n+    RelNode trimRelNode(RelNode relNode);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d329bf0addc977053316a1c67664cac510ddabaa"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 49, "cost": 1, "resetAt": "2021-11-12T09:44:50Z"}}}