{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDgwMjAyNzMw", "number": 2140, "title": "[CALCITE-4229] Add Util.throwAsRuntime and Util.causeOrSelf to simplify exception re-throwing", "bodyText": "", "createdAt": "2020-09-04T22:22:43Z", "url": "https://github.com/apache/calcite/pull/2140", "merged": true, "mergeCommit": {"oid": "eaf0edfc38c095e733cb37614333dfb7415f331a"}, "closed": true, "closedAt": "2020-09-05T17:13:12Z", "author": {"login": "vlsi"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdFzJVwgFqTQ4MzAzMjYwMQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdF2U_8AFqTQ4MzA0MzUzOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzMDMyNjAx", "url": "https://github.com/apache/calcite/pull/2140#pullrequestreview-483032601", "createdAt": "2020-09-05T05:40:57Z", "commit": {"oid": "046f104da0df7d1843562a98ccd85c823f860e0f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNVQwNTo0MDo1N1rOHNfxzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0wNVQwNTo0MDo1N1rOHNfxzQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4MzkxNDE4OQ==", "bodyText": "Why this block is not present in the other version of this function?", "url": "https://github.com/apache/calcite/pull/2140#discussion_r483914189", "createdAt": "2020-09-05T05:40:57Z", "author": {"login": "eolivelli"}, "path": "core/src/main/java/org/apache/calcite/util/Util.java", "diffHunk": "@@ -911,6 +912,43 @@ public static void throwIfUnchecked(Throwable throwable) {\n     }\n   }\n \n+  /**\n+   * This method rethrows input throwable as is (if its unchecked) or\n+   * wraps it with {@link RuntimeException} and throws.\n+   * <p>The typical usage would be {@code throw throwAsRuntime(...)}, where {@code throw} statement\n+   * is needed so Java compiler knows the execution stops at that line.</p>\n+   *\n+   * @param throwable input throwable\n+   * @return the method never returns, it always throws an unchecked exception\n+   */\n+  @API(since = \"1.26\", status = API.Status.EXPERIMENTAL)\n+  public static RuntimeException throwAsRuntime(Throwable throwable) {\n+    throwIfUnchecked(throwable);\n+    throw new RuntimeException(throwable);\n+  }\n+\n+  /**\n+   * This method rethrows input throwable as is (if its unchecked) with an extra message or\n+   * wraps it with {@link RuntimeException} and throws.\n+   * <p>The typical usage would be {@code throw throwAsRuntime(...)}, where {@code throw} statement\n+   * is needed so Java compiler knows the execution stops at that line.</p>\n+   *\n+   * @param throwable input throwable\n+   * @return the method never returns, it always throws an unchecked exception\n+   */\n+  @API(since = \"1.26\", status = API.Status.EXPERIMENTAL)\n+  public static RuntimeException throwAsRuntime(String message, Throwable throwable) {\n+    if (throwable instanceof RuntimeException) {\n+      throwable.addSuppressed(new Throwable(message));\n+      throw (RuntimeException) throwable;\n+    }\n+    if (throwable instanceof Error) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "046f104da0df7d1843562a98ccd85c823f860e0f"}, "originalPosition": 42}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76ed50ee9463a736265c6671645678396807ad45", "author": {"user": {"login": "vlsi", "name": "Vladimir Sitnikov"}}, "url": "https://github.com/apache/calcite/commit/76ed50ee9463a736265c6671645678396807ad45", "committedDate": "2020-09-05T08:20:47Z", "message": "[CALCITE-4229] Add Util.throwAsRuntime and Util.causeOrSelf to simplify exception re-throwing"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "046f104da0df7d1843562a98ccd85c823f860e0f", "author": {"user": {"login": "vlsi", "name": "Vladimir Sitnikov"}}, "url": "https://github.com/apache/calcite/commit/046f104da0df7d1843562a98ccd85c823f860e0f", "committedDate": "2020-09-04T22:22:13Z", "message": "[CALCITE-4199] Add Util.throwAsRuntime and Util.causeOrSelf to simplify exception re-throwing"}, "afterCommit": {"oid": "76ed50ee9463a736265c6671645678396807ad45", "author": {"user": {"login": "vlsi", "name": "Vladimir Sitnikov"}}, "url": "https://github.com/apache/calcite/commit/76ed50ee9463a736265c6671645678396807ad45", "committedDate": "2020-09-05T08:20:47Z", "message": "[CALCITE-4229] Add Util.throwAsRuntime and Util.causeOrSelf to simplify exception re-throwing"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDgzMDQzNTM5", "url": "https://github.com/apache/calcite/pull/2140#pullrequestreview-483043539", "createdAt": "2020-09-05T09:24:40Z", "commit": {"oid": "76ed50ee9463a736265c6671645678396807ad45"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3309, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}