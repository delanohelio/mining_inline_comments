{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0Mzk3MjE5", "number": 1768, "title": "[CALCITE-3704] Implement STRCMP function", "bodyText": "As illustrated in CALCITE-3704\nMySQL strcmp() function is used to compare two strings. It returns 0 if both of the strings are same and returns -1 when the first argument is smaller than the second according to the defined order and 1 when the second one is smaller the first one.\nSyntax:\nSTRCMP (expr1, expr2)", "createdAt": "2020-01-18T06:18:25Z", "url": "https://github.com/apache/calcite/pull/1768", "merged": true, "mergeCommit": {"oid": "1eff60b70a1d71022862cca5e5b3bb1178a84392"}, "closed": true, "closedAt": "2020-03-13T08:45:49Z", "author": {"login": "XuQianJin-Stars"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb7vOnnAFqTM0NDk3NDA5OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcDehEyAFqTM1NzE4MDkwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ0OTc0MDk4", "url": "https://github.com/apache/calcite/pull/1768#pullrequestreview-344974098", "createdAt": "2020-01-19T03:17:24Z", "commit": {"oid": "445d320ac60cf9591c55b7a1a5e95a70b2d3503c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOVQwMzoxNzoyNFrOFfM9Lg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xOVQwMzoxNzoyNFrOFfM9Lg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODI2MjQ0Ng==", "bodyText": "IMO, the return type should be int.", "url": "https://github.com/apache/calcite/pull/1768#discussion_r368262446", "createdAt": "2020-01-19T03:17:24Z", "author": {"login": "chunweilei"}, "path": "core/src/main/java/org/apache/calcite/runtime/SqlFunctions.java", "diffHunk": "@@ -368,6 +368,11 @@ public static String space(int n) {\n     return repeat(\" \", n);\n   }\n \n+  /** SQL STRCMP(String,String) function. */\n+  public static Integer strcmp(String s0, String s1) {\n+    return (int) Math.signum(s1.compareTo(s0));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "445d320ac60cf9591c55b7a1a5e95a70b2d3503c"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ1MDcwNDc1", "url": "https://github.com/apache/calcite/pull/1768#pullrequestreview-345070475", "createdAt": "2020-01-20T03:59:19Z", "commit": {"oid": "0bcfd0c8479c8276e409d578d8858cc2f85c8dbd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQwMzo1OToxOVrOFfTDGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMFQwMzo1OToxOVrOFfTDGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODM2MjI2NQ==", "bodyText": "What does the the defined order mean? lexicographical order?", "url": "https://github.com/apache/calcite/pull/1768#discussion_r368362265", "createdAt": "2020-01-20T03:59:19Z", "author": {"login": "amaliujia"}, "path": "site/_docs/reference.md", "diffHunk": "@@ -2350,6 +2350,7 @@ semantics.\n | m o p | SOUNDEX(string)                            | Returns the phonetic representation of *string*; throws if *string* is encoded with multi-byte encoding such as UTF-8\n | m | SPACE(integer)                                 | Returns a string of *integer* spaces; returns an empty string if *integer* is less than 1\n | o | SUBSTR(string, position [, substringLength ]) | Returns a portion of *string*, beginning at character *position*, *substringLength* characters long. SUBSTR calculates lengths using characters as defined by the input character set\n+| m | STRCMP(string, string)                         | Returns 0 if both of the strings are same and returns -1 when the first argument is smaller than the second according to the defined order and 1 when the second one is smaller the first one.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0bcfd0c8479c8276e409d578d8858cc2f85c8dbd"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4b32ac29d5acea02d66a5d42c61c9834b840a584", "author": {"user": {"login": "XuQianJin-Stars", "name": "ForwardXu"}}, "url": "https://github.com/apache/calcite/commit/4b32ac29d5acea02d66a5d42c61c9834b840a584", "committedDate": "2020-02-07T11:09:37Z", "message": "[CALCITE-3704] Implement STRCMP function"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "104d956df776d9bd9b0e1051205fd32d2e100fd5", "author": {"user": {"login": "XuQianJin-Stars", "name": "ForwardXu"}}, "url": "https://github.com/apache/calcite/commit/104d956df776d9bd9b0e1051205fd32d2e100fd5", "committedDate": "2020-02-07T11:03:41Z", "message": "[CALCITE-3704] Implement STRCMP function"}, "afterCommit": {"oid": "4b32ac29d5acea02d66a5d42c61c9834b840a584", "author": {"user": {"login": "XuQianJin-Stars", "name": "ForwardXu"}}, "url": "https://github.com/apache/calcite/commit/4b32ac29d5acea02d66a5d42c61c9834b840a584", "committedDate": "2020-02-07T11:09:37Z", "message": "[CALCITE-3704] Implement STRCMP function"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3MTgwOTA1", "url": "https://github.com/apache/calcite/pull/1768#pullrequestreview-357180905", "createdAt": "2020-02-12T04:21:08Z", "commit": {"oid": "4b32ac29d5acea02d66a5d42c61c9834b840a584"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4194, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}