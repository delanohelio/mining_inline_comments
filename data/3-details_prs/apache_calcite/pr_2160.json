{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg5OTcxNzMw", "number": 2160, "title": "[CALCITE-4269] Improvement on enumerable implementation for HOP and SESSION", "bodyText": "Some improvements:\n\nUse ArrayDeque to replace LinkedList for the sake of efficiency.\nMark the list as \"final\".", "createdAt": "2020-09-20T23:06:40Z", "url": "https://github.com/apache/calcite/pull/2160", "merged": true, "mergeCommit": {"oid": "1b430915730b66f26a00205ab93cd3c68d16ef90"}, "closed": true, "closedAt": "2020-09-23T23:46:11Z", "author": {"login": "amaliujia"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdK3HSagBqjM3ODY0OTgyNDc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLz9c-gBqjM4MDA0OTc3NjE=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "753facaf947e432298e037cf7e7e8cb7253fd030", "author": {"user": {"login": "amaliujia", "name": "Rui Wang"}}, "url": "https://github.com/apache/calcite/commit/753facaf947e432298e037cf7e7e8cb7253fd030", "committedDate": "2020-09-20T23:04:54Z", "message": "[CALCITE-3780] Improve SESSION Table-valued Function.\n\n1. Use ArrayDeque to replace LinkedList for the sake of efficiency.\n2. Mark the list as \"final\"."}, "afterCommit": {"oid": "458cdae4268f3072b08cbdd0d7d3594e1160484f", "author": {"user": {"login": "amaliujia", "name": "Rui Wang"}}, "url": "https://github.com/apache/calcite/commit/458cdae4268f3072b08cbdd0d7d3594e1160484f", "committedDate": "2020-09-20T23:09:25Z", "message": "[CALCITE-3780] Improve SESSION Table-valued Function.\n\n1. Use ArrayDeque to replace LinkedList for the sake of efficiency.\n2. Mark the list as \"final\"."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "458cdae4268f3072b08cbdd0d7d3594e1160484f", "author": {"user": {"login": "amaliujia", "name": "Rui Wang"}}, "url": "https://github.com/apache/calcite/commit/458cdae4268f3072b08cbdd0d7d3594e1160484f", "committedDate": "2020-09-20T23:09:25Z", "message": "[CALCITE-3780] Improve SESSION Table-valued Function.\n\n1. Use ArrayDeque to replace LinkedList for the sake of efficiency.\n2. Mark the list as \"final\"."}, "afterCommit": {"oid": "a24768db405caf4ea71e65baa53b6c2ab4f25d64", "author": {"user": {"login": "amaliujia", "name": "Rui Wang"}}, "url": "https://github.com/apache/calcite/commit/a24768db405caf4ea71e65baa53b6c2ab4f25d64", "committedDate": "2020-09-20T23:12:50Z", "message": "[CALCITE-4269] Improvements on enumerable implementation for HOP and SESSION. (Rui Wang)\n\n1. Use ArrayDeque to replace LinkedList for the sake of efficiency.\n2. Mark the list as \"final\"."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyNTcwNzU4", "url": "https://github.com/apache/calcite/pull/2160#pullrequestreview-492570758", "createdAt": "2020-09-21T12:55:25Z", "commit": {"oid": "a24768db405caf4ea71e65baa53b6c2ab4f25d64"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMjo1NToyNVrOHVOm_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMjo1NToyNVrOHVOm_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjAyMTUwMw==", "bodyText": "Deque might be slightly better here", "url": "https://github.com/apache/calcite/pull/2160#discussion_r492021503", "createdAt": "2020-09-21T12:55:25Z", "author": {"login": "vlsi"}, "path": "core/src/main/java/org/apache/calcite/adapter/enumerable/EnumUtils.java", "diffHunk": "@@ -856,7 +856,7 @@ static Expression tumblingWindowSelector(\n     private final int indexOfWatermarkedColumn;\n     private final int indexOfKeyColumn;\n     private final long gap;\n-    private LinkedList<Object[]> list;\n+    private final ArrayDeque<Object[]> list;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a24768db405caf4ea71e65baa53b6c2ab4f25d64"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyNTcxMTY1", "url": "https://github.com/apache/calcite/pull/2160#pullrequestreview-492571165", "createdAt": "2020-09-21T12:55:58Z", "commit": {"oid": "a24768db405caf4ea71e65baa53b6c2ab4f25d64"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMjo1NTo1OFrOHVOoRw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMjo1NTo1OFrOHVOoRw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MjAyMTgzMQ==", "bodyText": "Deque?", "url": "https://github.com/apache/calcite/pull/2160#discussion_r492021831", "createdAt": "2020-09-21T12:55:58Z", "author": {"login": "vlsi"}, "path": "core/src/main/java/org/apache/calcite/adapter/enumerable/EnumUtils.java", "diffHunk": "@@ -998,7 +998,7 @@ private boolean isOverlapped(Pair<Long, Long> a, Pair<Long, Long> b) {\n     private final long emitFrequency;\n     private final long windowSize;\n     private final long offset;\n-    private LinkedList<Object[]> list;\n+    private final ArrayDeque<Object[]> list;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a24768db405caf4ea71e65baa53b6c2ab4f25d64"}, "originalPosition": 35}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cdf5fdd2c1ab8d23364d12b05b835a4015be8651", "author": {"user": {"login": "amaliujia", "name": "Rui Wang"}}, "url": "https://github.com/apache/calcite/commit/cdf5fdd2c1ab8d23364d12b05b835a4015be8651", "committedDate": "2020-09-23T22:02:13Z", "message": "[CALCITE-4269] Improvements on enumerable implementation for HOP and SESSION. (Rui Wang)\n\n1. Use ArrayDeque to replace LinkedList for the sake of efficiency.\n2. Mark the list as \"final\"."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "c628d429a140759fc341a9c79b6dad6bbbd624bb", "author": {"user": {"login": "amaliujia", "name": "Rui Wang"}}, "url": "https://github.com/apache/calcite/commit/c628d429a140759fc341a9c79b6dad6bbbd624bb", "committedDate": "2020-09-21T16:54:15Z", "message": "fixup!"}, "afterCommit": {"oid": "cdf5fdd2c1ab8d23364d12b05b835a4015be8651", "author": {"user": {"login": "amaliujia", "name": "Rui Wang"}}, "url": "https://github.com/apache/calcite/commit/cdf5fdd2c1ab8d23364d12b05b835a4015be8651", "committedDate": "2020-09-23T22:02:13Z", "message": "[CALCITE-4269] Improvements on enumerable implementation for HOP and SESSION. (Rui Wang)\n\n1. Use ArrayDeque to replace LinkedList for the sake of efficiency.\n2. Mark the list as \"final\"."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2859, "cost": 1, "resetAt": "2021-10-28T16:48:13Z"}}}