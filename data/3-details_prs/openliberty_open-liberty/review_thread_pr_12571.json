{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyODI1MjIz", "number": 12571, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNDoyODo0N1rOEHIrSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNDoyODo0N1rOEHIrSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc1OTE3NjQzOnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.jdbc_fat_krb5/publish/servers/com.ibm.ws.jdbc.fat.krb5/server.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNDoyODo0N1rOGmW0hg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xOVQxNDo0MTowOFrOGmXPSQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjg3Mjk2Ng==", "bodyText": "Is this here as an example of how a user would configure their options?  Or is this just left over from testing?", "url": "https://github.com/OpenLiberty/open-liberty/pull/12571#discussion_r442872966", "createdAt": "2020-06-19T14:28:47Z", "author": {"login": "KyleAure"}, "path": "dev/com.ibm.ws.jdbc_fat_krb5/publish/servers/com.ibm.ws.jdbc.fat.krb5/server.xml", "diffHunk": "@@ -0,0 +1,65 @@\n+<server>\n+  <featureManager>\n+    <feature>componenttest-1.0</feature>\n+    <feature>servlet-4.0</feature>\n+    <feature>jdbc-4.2</feature>\n+    <feature>appSecurity-2.0</feature>\n+    <feature>jca-1.7</feature>\n+    <feature>cdi-2.0</feature>\n+  </featureManager>\n+    \n+  <include location=\"../fatTestPorts.xml\"/>\n+\n+  <webApplication location=\"db2fat.war\">\n+    <application-bnd>\n+      <security-role name=\"Manager\" id=\"Manager\">\n+        <user name=\"user1\"/>\n+      </security-role>\n+      <security-role name=\"Employee\" id=\"Employee\">\n+        <user name=\"user2\"/>\n+      </security-role>\n+    </application-bnd>\n+  </webApplication>\n+    \n+  <library id=\"DB2JCCLib\">\n+    <fileset dir=\"${server.config.dir}/db2\"/>\n+  </library>\n+  \n+  <!-- Dummy lib to satisfy login module config. This will be removed eventually -->\n+  <library id=\"loginLib\">\n+  </library>\n+  \n+  <basicRegistry realm=\"defaultRealm\">\n+    <user password=\"password\" name=\"user1\"/>\n+    <user password=\"password\" name=\"user2\" />\n+  </basicRegistry>\n+  \n+  <!-- Must be named JaasClient for the JCC driver -->\n+  <jaasLoginContextEntry id=\"JaasClient\" name=\"JaasClient\" loginModuleRef=\"krb5LoginModule\" />\n+    <!-- OpenJ9/Hotspot loginModule config -->\n+\t<jaasLoginModule id=\"krb5LoginModule\" className=\"com.sun.security.auth.module.Krb5LoginModule\" controlFlag=\"REQUIRED\" libraryRef=\"loginLib\">\n+    <options credsType=\"both\" useKeyTab=\"true\" keyTab=\"${server.config.dir}/security/krb5.keytab\" principal=\"${KRB5_USER}\" doNotPrompt=\"true\"/>\n+  </jaasLoginModule>\n+  \n+  <!-- IBM Java loginModule config -->\n+  <!-- \n+  <jaasLoginModule id=\"krb5LoginModule\" className=\"com.ibm.security.auth.module.Krb5LoginModule\" controlFlag=\"REQUIRED\" libraryRef=\"loginLib\">\n+    <options credsType=\"both\" useKeytab=\"/etc/krb5.keytab\" principal=\"db2user/websphere@EXAMPLE.COM\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "23fe2284a3860ca01f475ab9a7f610a30688a4f3"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjg3OTgxNw==", "bodyText": "This is left as an example that I copied from Mark's repo for now. Which reminds me that this config only works for hotspot/J9, so I need to add a skip for IBM JDK since that will require different config (I'll do a separate PR for that)", "url": "https://github.com/OpenLiberty/open-liberty/pull/12571#discussion_r442879817", "createdAt": "2020-06-19T14:41:08Z", "author": {"login": "aguibert"}, "path": "dev/com.ibm.ws.jdbc_fat_krb5/publish/servers/com.ibm.ws.jdbc.fat.krb5/server.xml", "diffHunk": "@@ -0,0 +1,65 @@\n+<server>\n+  <featureManager>\n+    <feature>componenttest-1.0</feature>\n+    <feature>servlet-4.0</feature>\n+    <feature>jdbc-4.2</feature>\n+    <feature>appSecurity-2.0</feature>\n+    <feature>jca-1.7</feature>\n+    <feature>cdi-2.0</feature>\n+  </featureManager>\n+    \n+  <include location=\"../fatTestPorts.xml\"/>\n+\n+  <webApplication location=\"db2fat.war\">\n+    <application-bnd>\n+      <security-role name=\"Manager\" id=\"Manager\">\n+        <user name=\"user1\"/>\n+      </security-role>\n+      <security-role name=\"Employee\" id=\"Employee\">\n+        <user name=\"user2\"/>\n+      </security-role>\n+    </application-bnd>\n+  </webApplication>\n+    \n+  <library id=\"DB2JCCLib\">\n+    <fileset dir=\"${server.config.dir}/db2\"/>\n+  </library>\n+  \n+  <!-- Dummy lib to satisfy login module config. This will be removed eventually -->\n+  <library id=\"loginLib\">\n+  </library>\n+  \n+  <basicRegistry realm=\"defaultRealm\">\n+    <user password=\"password\" name=\"user1\"/>\n+    <user password=\"password\" name=\"user2\" />\n+  </basicRegistry>\n+  \n+  <!-- Must be named JaasClient for the JCC driver -->\n+  <jaasLoginContextEntry id=\"JaasClient\" name=\"JaasClient\" loginModuleRef=\"krb5LoginModule\" />\n+    <!-- OpenJ9/Hotspot loginModule config -->\n+\t<jaasLoginModule id=\"krb5LoginModule\" className=\"com.sun.security.auth.module.Krb5LoginModule\" controlFlag=\"REQUIRED\" libraryRef=\"loginLib\">\n+    <options credsType=\"both\" useKeyTab=\"true\" keyTab=\"${server.config.dir}/security/krb5.keytab\" principal=\"${KRB5_USER}\" doNotPrompt=\"true\"/>\n+  </jaasLoginModule>\n+  \n+  <!-- IBM Java loginModule config -->\n+  <!-- \n+  <jaasLoginModule id=\"krb5LoginModule\" className=\"com.ibm.security.auth.module.Krb5LoginModule\" controlFlag=\"REQUIRED\" libraryRef=\"loginLib\">\n+    <options credsType=\"both\" useKeytab=\"/etc/krb5.keytab\" principal=\"db2user/websphere@EXAMPLE.COM\"/>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0Mjg3Mjk2Ng=="}, "originalCommit": {"oid": "23fe2284a3860ca01f475ab9a7f610a30688a4f3"}, "originalPosition": 47}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1624, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}