{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA1MjIzNTY2", "number": 11800, "title": "Allow the creation of the KafkaConsumer to be retried", "bodyText": "Fixes #10937\nThis has been built on top of #11309 since it changes the same code but will be rebased once that PR has been merged.\nAdds a new config property to the kafka connector creation.retry.seconds which configures how long liberty should retry the creation of the KafkaConsumer.", "createdAt": "2020-04-17T16:17:10Z", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800", "merged": true, "mergeCommit": {"oid": "c4b6c7aa10ce4b56346d8248818a1e2bb2fafb62"}, "closed": true, "closedAt": "2020-06-05T09:34:48Z", "author": {"login": "Azquelt"}, "timelineItems": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcaKfFbgH2gAyNDA1MjIzNTY2OjdkZGIzNzMzYTkyYTMyMmQwMDQwZGZkMTYzMjM4ZDQyOTkxYjI3YTk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcg2zMbgH2gAyNDA1MjIzNTY2OmU5NDE4MzdhODAzZTM0NzlkNTAwMTExMTgyNWE5ZmMyM2JhZTZkMTc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7ddb3733a92a322d0040dfd163238d42991b27a9", "author": {"user": {"login": "Azquelt", "name": "Andrew Rouse"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/7ddb3733a92a322d0040dfd163238d42991b27a9", "committedDate": "2020-04-22T16:01:07Z", "message": "Retry obtaining KafkaConsumer\n\nWhen starting in a dynamic environment like Kubertnetes, it's possible\nfor the broker hostname to be unresolvable immediately at startup, which\ncauses the creation of the KafkaConsumer to fail.\n\nIntroduce a new parameter to allow the KafkaConsumer creation to be\nretried during server startup."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e274d7c7932a0429f8b1c004c0d16fed0e9a9015", "author": {"user": {"login": "Azquelt", "name": "Andrew Rouse"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/e274d7c7932a0429f8b1c004c0d16fed0e9a9015", "committedDate": "2020-04-22T16:01:07Z", "message": "Add test for bad config\n\nCheck that app fails to start and that creation of the KafkaConsumer is\nretried if creation.retry.seconds is set."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "890efc7a712a9a1731e8efadb98784545a1c4526", "author": {"user": {"login": "Azquelt", "name": "Andrew Rouse"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/890efc7a712a9a1731e8efadb98784545a1c4526", "committedDate": "2020-04-22T15:43:43Z", "message": "Add test for bad config\n\nCheck that app fails to start and that creation of the KafkaConsumer is\nretried if creation.retry.seconds is set."}, "afterCommit": {"oid": "e274d7c7932a0429f8b1c004c0d16fed0e9a9015", "author": {"user": {"login": "Azquelt", "name": "Andrew Rouse"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/e274d7c7932a0429f8b1c004c0d16fed0e9a9015", "committedDate": "2020-04-22T16:01:07Z", "message": "Add test for bad config\n\nCheck that app fails to start and that creation of the KafkaConsumer is\nretried if creation.retry.seconds is set."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk3NjQ5MjQ2", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#pullrequestreview-397649246", "createdAt": "2020-04-21T20:26:31Z", "commit": {"oid": "5b4d9eacded154ffc1b153c7c8446edaf01bcee5"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQyMDoyNjozMVrOGJXB7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMlQxNzo1OTozNFrOGKDo8g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjQ2NzY5Mg==", "bodyText": "change\nserver message.log\nto\nthe message.log file on the server", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#discussion_r412467692", "createdAt": "2020-04-21T20:26:31Z", "author": {"login": "jantley-ibm"}, "path": "dev/com.ibm.ws.microprofile.reactive.messaging.kafka/resources/com/ibm/ws/microprofile/reactive/messaging/kafka/resources/ReactiveMessaging.nlsprops", "diffHunk": "@@ -60,6 +60,22 @@ kafka.library.not.present.CWMRX1006E=CWMRX1006E: Classes from the kafka-clients\n kafka.library.not.present.CWMRX1006E.explanation=Applications that use the Reactive Messaging Kafka Client must provide the kafka-clients JAR file and its dependencies. They can provide this file and its dependencies either by packaging it as a library within the application or by providing it as a shared library.\n kafka.library.not.present.CWMRX1006E.useraction=Package the kafka-clients JAR file and its dependencies as libraries in your application or as a shared library. The kafka-clients JAR file can be downloaded from the Apache Kafka website or from Maven Central.\n \n+# A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n+kafka.create.incoming.error.CWMRX1007E=CWMRX1007E: A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n+kafka.create.incoming.error.CWMRX1007E.explanation=An error that occurred when the Kafka connector was set up for an incoming reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging.\n+kafka.create.incoming.error.CWMRX1007E.useraction=Review the error message, server message.log, and FFDC logs to identify the problem.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b4d9eacded154ffc1b153c7c8446edaf01bcee5"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjQ2ODAwMg==", "bodyText": "change\nserver message.log\nto\nthe message.log file on the server", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#discussion_r412468002", "createdAt": "2020-04-21T20:27:02Z", "author": {"login": "jantley-ibm"}, "path": "dev/com.ibm.ws.microprofile.reactive.messaging.kafka/resources/com/ibm/ws/microprofile/reactive/messaging/kafka/resources/ReactiveMessaging.nlsprops", "diffHunk": "@@ -60,6 +60,22 @@ kafka.library.not.present.CWMRX1006E=CWMRX1006E: Classes from the kafka-clients\n kafka.library.not.present.CWMRX1006E.explanation=Applications that use the Reactive Messaging Kafka Client must provide the kafka-clients JAR file and its dependencies. They can provide this file and its dependencies either by packaging it as a library within the application or by providing it as a shared library.\n kafka.library.not.present.CWMRX1006E.useraction=Package the kafka-clients JAR file and its dependencies as libraries in your application or as a shared library. The kafka-clients JAR file can be downloaded from the Apache Kafka website or from Maven Central.\n \n+# A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n+kafka.create.incoming.error.CWMRX1007E=CWMRX1007E: A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n+kafka.create.incoming.error.CWMRX1007E.explanation=An error that occurred when the Kafka connector was set up for an incoming reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging.\n+kafka.create.incoming.error.CWMRX1007E.useraction=Review the error message, server message.log, and FFDC logs to identify the problem.\n+\n+# A Kafka outgoing connector for the {0} channel cannot be created. The error is {1}\n+kafka.create.outgoing.error.CWMRX1008E=CWMRX1008E: A Kafka outgoing connector for the {0} channel cannot be created. The error is {1}\n+kafka.create.outgoing.error.CWMRX1008E.explanation=An error that occurred when the Kafka connector was set up for an outgoing reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging.\n+kafka.create.outgoing.error.CWMRX1008E.useraction=Review the error message, server message.log, and FFDC logs to identify the problem.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5b4d9eacded154ffc1b153c7c8446edaf01bcee5"}, "originalPosition": 12}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzE5ODU3OA==", "bodyText": "change\nserver message.log\nto\nthe message.log file on the server", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#discussion_r413198578", "createdAt": "2020-04-22T17:59:34Z", "author": {"login": "jantley-ibm"}, "path": "dev/com.ibm.ws.microprofile.reactive.messaging.kafka/resources/com/ibm/ws/microprofile/reactive/messaging/kafka/resources/ReactiveMessaging.nlsprops", "diffHunk": "@@ -70,6 +70,12 @@ kafka.create.outgoing.error.CWMRX1008E=CWMRX1008E: A Kafka outgoing connector fo\n kafka.create.outgoing.error.CWMRX1008E.explanation=An error that occurred when the Kafka connector was set up for an outgoing reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging.\n kafka.create.outgoing.error.CWMRX1008E.useraction=Review the error message, server message.log, and FFDC logs to identify the problem.\n \n+# {0} = channel name, {1} = error message\n+kafka.create.incoming.retry.CWMRX1009W=CWMRX1009W: A Kafka incoming connector for the {0} channel could not be created but this operation will be retried. The error is {1}\n+kafka.create.incoming.retry.CWMRX1009W.explanation=An error occurred when the Kafka connector was set up for an incoming reactive messaging channel but the set up will be retried.\n+kafka.create.incoming.retry.CWMRX1009W.useraction=Review the error message, server message.log, and FFDC logs to identify whether the problem was transient and was resolved by retrying the connector set up.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e274d7c7932a0429f8b1c004c0d16fed0e9a9015"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4OTQwNjIz", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#pullrequestreview-398940623", "createdAt": "2020-04-23T09:53:00Z", "commit": {"oid": "e274d7c7932a0429f8b1c004c0d16fed0e9a9015"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwOTo1MzowMFrOGKg2mg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwOTo1MzowMFrOGKg2mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzY3NzIxMA==", "bodyText": "Please extract this sleep time to a constant. Any thoughts on if it needs to be configurable?", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#discussion_r413677210", "createdAt": "2020-04-23T09:53:00Z", "author": {"login": "tevans78"}, "path": "dev/com.ibm.ws.microprofile.reactive.messaging.kafka/src/com/ibm/ws/microprofile/reactive/messaging/kafka/KafkaIncomingConnector.java", "diffHunk": "@@ -135,4 +138,25 @@ private void shutdown() {\n         }\n     }\n \n+    private <K, V> KafkaConsumer<K, V> getKafkaConsumerWithRetry(Map<String, Object> consumerConfig, int retrySeconds, String channelName) throws InterruptedException {\n+        if (retrySeconds == 0) {\n+            return this.kafkaAdapterFactory.newKafkaConsumer(consumerConfig);\n+        }\n+\n+        long retryNs = Duration.ofSeconds(retrySeconds).toNanos();\n+        long startTime = System.nanoTime();\n+\n+        while (true) {\n+            try {\n+                return this.kafkaAdapterFactory.newKafkaConsumer(consumerConfig);\n+            } catch (KafkaAdapterException e) {\n+                if ((System.nanoTime() - startTime) > retryNs) {\n+                    throw e;\n+                }\n+                Tr.warning(tc, \"kafka.create.incoming.retry.CWMRX1009W\", channelName, e.getMessage());\n+            }\n+            Thread.sleep(1000);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e274d7c7932a0429f8b1c004c0d16fed0e9a9015"}, "originalPosition": 54}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4OTQ1MzQ0", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#pullrequestreview-398945344", "createdAt": "2020-04-23T09:59:07Z", "commit": {"oid": "e274d7c7932a0429f8b1c004c0d16fed0e9a9015"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwOTo1OTowN1rOGKhG0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwOTo1OTowN1rOGKhG0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzY4MTM2Mw==", "bodyText": "In SmallRye, the wait between the retry is 30s. https://smallrye.io/smallrye-reactive-messaging/smallrye-reactive-messaging/2/kafka/kafka.html I think the default should be 30s instead of 0.", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#discussion_r413681363", "createdAt": "2020-04-23T09:59:07Z", "author": {"login": "Emily-Jiang"}, "path": "dev/com.ibm.ws.microprofile.reactive.messaging.kafka/src/com/ibm/ws/microprofile/reactive/messaging/kafka/KafkaIncomingConnector.java", "diffHunk": "@@ -96,6 +98,7 @@ private void shutdown() {\n             String topic = config.getOptionalValue(KafkaConnectorConstants.TOPIC, String.class).orElse(channelName);\n             int maxPollRecords = config.getOptionalValue(KafkaConnectorConstants.MAX_POLL_RECORDS, Integer.class).orElse(500);\n             int unackedLimit = config.getOptionalValue(KafkaConnectorConstants.UNACKED_LIMIT, Integer.class).orElse(maxPollRecords);\n+            int retrySeconds = config.getOptionalValue(KafkaConnectorConstants.CREATION_RETRY_SECONDS, Integer.class).orElse(0);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e274d7c7932a0429f8b1c004c0d16fed0e9a9015"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4OTQ3ODU3", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#pullrequestreview-398947857", "createdAt": "2020-04-23T10:02:23Z", "commit": {"oid": "e274d7c7932a0429f8b1c004c0d16fed0e9a9015"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxMDowMjoyM1rOGKhPfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QxMDowMjoyM1rOGKhPfw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzY4MzU4Mw==", "bodyText": "Can we sync up with SmallRye for the retry-max-wait, retry-attempts?", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#discussion_r413683583", "createdAt": "2020-04-23T10:02:23Z", "author": {"login": "Emily-Jiang"}, "path": "dev/com.ibm.ws.microprofile.reactive.messaging.kafka/src/com/ibm/ws/microprofile/reactive/messaging/kafka/KafkaIncomingConnector.java", "diffHunk": "@@ -135,4 +138,25 @@ private void shutdown() {\n         }\n     }\n \n+    private <K, V> KafkaConsumer<K, V> getKafkaConsumerWithRetry(Map<String, Object> consumerConfig, int retrySeconds, String channelName) throws InterruptedException {\n+        if (retrySeconds == 0) {\n+            return this.kafkaAdapterFactory.newKafkaConsumer(consumerConfig);\n+        }\n+\n+        long retryNs = Duration.ofSeconds(retrySeconds).toNanos();\n+        long startTime = System.nanoTime();\n+\n+        while (true) {\n+            try {\n+                return this.kafkaAdapterFactory.newKafkaConsumer(consumerConfig);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e274d7c7932a0429f8b1c004c0d16fed0e9a9015"}, "originalPosition": 47}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66af0d2ae019875d93696074421d4e886edff520", "author": {"user": {"login": "Azquelt", "name": "Andrew Rouse"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/66af0d2ae019875d93696074421d4e886edff520", "committedDate": "2020-04-23T14:07:16Z", "message": "Message review changes for Kafka connector"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk5Nzk4OTgx", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#pullrequestreview-399798981", "createdAt": "2020-04-24T09:46:07Z", "commit": {"oid": "66af0d2ae019875d93696074421d4e886edff520"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAxMTYzMTU2", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#pullrequestreview-401163156", "createdAt": "2020-04-27T17:19:20Z", "commit": {"oid": "66af0d2ae019875d93696074421d4e886edff520"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxNzoxOToyMVrOGMupyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yN1QxNzoyNDo1M1rOGMu43w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjAwMDQ1Ng==", "bodyText": "Change could not be created to cannot be created or to was not created", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#discussion_r416000456", "createdAt": "2020-04-27T17:19:21Z", "author": {"login": "helyarp"}, "path": "dev/com.ibm.ws.microprofile.reactive.messaging.kafka/resources/com/ibm/ws/microprofile/reactive/messaging/kafka/resources/ReactiveMessaging.nlsprops", "diffHunk": "@@ -63,12 +63,18 @@ kafka.library.not.present.CWMRX1006E.useraction=Package the kafka-clients JAR fi\n # A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n kafka.create.incoming.error.CWMRX1007E=CWMRX1007E: A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n kafka.create.incoming.error.CWMRX1007E.explanation=An error that occurred when the Kafka connector was set up for an incoming reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging.\n-kafka.create.incoming.error.CWMRX1007E.useraction=Review the error message, server message.log, and FFDC logs to identify the problem.\n+kafka.create.incoming.error.CWMRX1007E.useraction=Review the error message, the messages.log file on the server, and FFDC logs to identify the problem.\n \n # A Kafka outgoing connector for the {0} channel cannot be created. The error is {1}\n kafka.create.outgoing.error.CWMRX1008E=CWMRX1008E: A Kafka outgoing connector for the {0} channel cannot be created. The error is {1}\n kafka.create.outgoing.error.CWMRX1008E.explanation=An error that occurred when the Kafka connector was set up for an outgoing reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging.\n-kafka.create.outgoing.error.CWMRX1008E.useraction=Review the error message, server message.log, and FFDC logs to identify the problem.\n+kafka.create.outgoing.error.CWMRX1008E.useraction=Review the error message, the messages.log file on the server, and FFDC logs to identify the problem.\n+\n+# {0} = channel name, {1} = error message\n+kafka.create.incoming.retry.CWMRX1009W=CWMRX1009W: A Kafka incoming connector for the {0} channel could not be created but this operation will be retried. The error is {1}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66af0d2ae019875d93696074421d4e886edff520"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjAwMzU3OA==", "bodyText": "Change the second \"set up\" to \"setup\" because it is a noun. Thus, change to: was set up for an incoming reactive messaging channel but the setup will be retried.", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#discussion_r416003578", "createdAt": "2020-04-27T17:23:55Z", "author": {"login": "helyarp"}, "path": "dev/com.ibm.ws.microprofile.reactive.messaging.kafka/resources/com/ibm/ws/microprofile/reactive/messaging/kafka/resources/ReactiveMessaging.nlsprops", "diffHunk": "@@ -63,12 +63,18 @@ kafka.library.not.present.CWMRX1006E.useraction=Package the kafka-clients JAR fi\n # A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n kafka.create.incoming.error.CWMRX1007E=CWMRX1007E: A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n kafka.create.incoming.error.CWMRX1007E.explanation=An error that occurred when the Kafka connector was set up for an incoming reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging.\n-kafka.create.incoming.error.CWMRX1007E.useraction=Review the error message, server message.log, and FFDC logs to identify the problem.\n+kafka.create.incoming.error.CWMRX1007E.useraction=Review the error message, the messages.log file on the server, and FFDC logs to identify the problem.\n \n # A Kafka outgoing connector for the {0} channel cannot be created. The error is {1}\n kafka.create.outgoing.error.CWMRX1008E=CWMRX1008E: A Kafka outgoing connector for the {0} channel cannot be created. The error is {1}\n kafka.create.outgoing.error.CWMRX1008E.explanation=An error that occurred when the Kafka connector was set up for an outgoing reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging.\n-kafka.create.outgoing.error.CWMRX1008E.useraction=Review the error message, server message.log, and FFDC logs to identify the problem.\n+kafka.create.outgoing.error.CWMRX1008E.useraction=Review the error message, the messages.log file on the server, and FFDC logs to identify the problem.\n+\n+# {0} = channel name, {1} = error message\n+kafka.create.incoming.retry.CWMRX1009W=CWMRX1009W: A Kafka incoming connector for the {0} channel could not be created but this operation will be retried. The error is {1}\n+kafka.create.incoming.retry.CWMRX1009W.explanation=An error occurred when the Kafka connector was set up for an incoming reactive messaging channel but the set up will be retried.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66af0d2ae019875d93696074421d4e886edff520"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjAwNDMxOQ==", "bodyText": "Change  set up to setup because it is a noun: the connector setup.", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#discussion_r416004319", "createdAt": "2020-04-27T17:24:53Z", "author": {"login": "helyarp"}, "path": "dev/com.ibm.ws.microprofile.reactive.messaging.kafka/resources/com/ibm/ws/microprofile/reactive/messaging/kafka/resources/ReactiveMessaging.nlsprops", "diffHunk": "@@ -63,12 +63,18 @@ kafka.library.not.present.CWMRX1006E.useraction=Package the kafka-clients JAR fi\n # A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n kafka.create.incoming.error.CWMRX1007E=CWMRX1007E: A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n kafka.create.incoming.error.CWMRX1007E.explanation=An error that occurred when the Kafka connector was set up for an incoming reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging.\n-kafka.create.incoming.error.CWMRX1007E.useraction=Review the error message, server message.log, and FFDC logs to identify the problem.\n+kafka.create.incoming.error.CWMRX1007E.useraction=Review the error message, the messages.log file on the server, and FFDC logs to identify the problem.\n \n # A Kafka outgoing connector for the {0} channel cannot be created. The error is {1}\n kafka.create.outgoing.error.CWMRX1008E=CWMRX1008E: A Kafka outgoing connector for the {0} channel cannot be created. The error is {1}\n kafka.create.outgoing.error.CWMRX1008E.explanation=An error that occurred when the Kafka connector was set up for an outgoing reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging.\n-kafka.create.outgoing.error.CWMRX1008E.useraction=Review the error message, server message.log, and FFDC logs to identify the problem.\n+kafka.create.outgoing.error.CWMRX1008E.useraction=Review the error message, the messages.log file on the server, and FFDC logs to identify the problem.\n+\n+# {0} = channel name, {1} = error message\n+kafka.create.incoming.retry.CWMRX1009W=CWMRX1009W: A Kafka incoming connector for the {0} channel could not be created but this operation will be retried. The error is {1}\n+kafka.create.incoming.retry.CWMRX1009W.explanation=An error occurred when the Kafka connector was set up for an incoming reactive messaging channel but the set up will be retried.\n+kafka.create.incoming.retry.CWMRX1009W.useraction=Review the error message, the messages.log file on the server, and FFDC logs to identify whether the problem was transient and was resolved by retrying the connector set up.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66af0d2ae019875d93696074421d4e886edff520"}, "originalPosition": 16}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1MjI3MDQy", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#pullrequestreview-405227042", "createdAt": "2020-05-04T18:11:15Z", "commit": {"oid": "66af0d2ae019875d93696074421d4e886edff520"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxODoxMToxNVrOGQMH-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxODoxMzozN1rOGQMN1Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTYyOTA0OA==", "bodyText": "There's been additional ID QA review on this PR. For CWMRX1007E.explanation, we need to not say \"An error ... occurred\". The reviewer suggests that if there are multiple possible errors that could have occurred, we should provide a couple of the likely possible ones.", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#discussion_r419629048", "createdAt": "2020-05-04T18:11:15Z", "author": {"login": "jantley-ibm"}, "path": "dev/com.ibm.ws.microprofile.reactive.messaging.kafka/resources/com/ibm/ws/microprofile/reactive/messaging/kafka/resources/ReactiveMessaging.nlsprops", "diffHunk": "@@ -63,12 +63,18 @@ kafka.library.not.present.CWMRX1006E.useraction=Package the kafka-clients JAR fi\n # A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n kafka.create.incoming.error.CWMRX1007E=CWMRX1007E: A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n kafka.create.incoming.error.CWMRX1007E.explanation=An error that occurred when the Kafka connector was set up for an incoming reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66af0d2ae019875d93696074421d4e886edff520"}, "originalPosition": 3}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTYyOTg1Ng==", "bodyText": "Per QA ID review, provide a couple of possible or likely errors that might have occurred to cause this error. The explanation should have more information than just a restating of the error message.", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#discussion_r419629856", "createdAt": "2020-05-04T18:12:35Z", "author": {"login": "jantley-ibm"}, "path": "dev/com.ibm.ws.microprofile.reactive.messaging.kafka/resources/com/ibm/ws/microprofile/reactive/messaging/kafka/resources/ReactiveMessaging.nlsprops", "diffHunk": "@@ -63,12 +63,18 @@ kafka.library.not.present.CWMRX1006E.useraction=Package the kafka-clients JAR fi\n # A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n kafka.create.incoming.error.CWMRX1007E=CWMRX1007E: A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n kafka.create.incoming.error.CWMRX1007E.explanation=An error that occurred when the Kafka connector was set up for an incoming reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging.\n-kafka.create.incoming.error.CWMRX1007E.useraction=Review the error message, server message.log, and FFDC logs to identify the problem.\n+kafka.create.incoming.error.CWMRX1007E.useraction=Review the error message, the messages.log file on the server, and FFDC logs to identify the problem.\n \n # A Kafka outgoing connector for the {0} channel cannot be created. The error is {1}\n kafka.create.outgoing.error.CWMRX1008E=CWMRX1008E: A Kafka outgoing connector for the {0} channel cannot be created. The error is {1}\n kafka.create.outgoing.error.CWMRX1008E.explanation=An error that occurred when the Kafka connector was set up for an outgoing reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging.\n-kafka.create.outgoing.error.CWMRX1008E.useraction=Review the error message, server message.log, and FFDC logs to identify the problem.\n+kafka.create.outgoing.error.CWMRX1008E.useraction=Review the error message, the messages.log file on the server, and FFDC logs to identify the problem.\n+\n+# {0} = channel name, {1} = error message\n+kafka.create.incoming.retry.CWMRX1009W=CWMRX1009W: A Kafka incoming connector for the {0} channel could not be created but this operation will be retried. The error is {1}\n+kafka.create.incoming.retry.CWMRX1009W.explanation=An error occurred when the Kafka connector was set up for an incoming reactive messaging channel but the set up will be retried.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxNjAwMzU3OA=="}, "originalCommit": {"oid": "66af0d2ae019875d93696074421d4e886edff520"}, "originalPosition": 15}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTYzMDU0OQ==", "bodyText": "Per QA ID review, provide a couple of possible or likely errors that might have occurred to cause this error.", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#discussion_r419630549", "createdAt": "2020-05-04T18:13:37Z", "author": {"login": "jantley-ibm"}, "path": "dev/com.ibm.ws.microprofile.reactive.messaging.kafka/resources/com/ibm/ws/microprofile/reactive/messaging/kafka/resources/ReactiveMessaging.nlsprops", "diffHunk": "@@ -63,12 +63,18 @@ kafka.library.not.present.CWMRX1006E.useraction=Package the kafka-clients JAR fi\n # A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n kafka.create.incoming.error.CWMRX1007E=CWMRX1007E: A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n kafka.create.incoming.error.CWMRX1007E.explanation=An error that occurred when the Kafka connector was set up for an incoming reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging.\n-kafka.create.incoming.error.CWMRX1007E.useraction=Review the error message, server message.log, and FFDC logs to identify the problem.\n+kafka.create.incoming.error.CWMRX1007E.useraction=Review the error message, the messages.log file on the server, and FFDC logs to identify the problem.\n \n # A Kafka outgoing connector for the {0} channel cannot be created. The error is {1}\n kafka.create.outgoing.error.CWMRX1008E=CWMRX1008E: A Kafka outgoing connector for the {0} channel cannot be created. The error is {1}\n kafka.create.outgoing.error.CWMRX1008E.explanation=An error that occurred when the Kafka connector was set up for an outgoing reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "66af0d2ae019875d93696074421d4e886edff520"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3747cdf6ce505b28e07705465c2097b1acca16f4", "author": {"user": {"login": "Azquelt", "name": "Andrew Rouse"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/3747cdf6ce505b28e07705465c2097b1acca16f4", "committedDate": "2020-05-05T17:06:44Z", "message": "Further message review changes for Kafka connector"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA4NDY5MDQ2", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#pullrequestreview-408469046", "createdAt": "2020-05-08T19:24:06Z", "commit": {"oid": "3747cdf6ce505b28e07705465c2097b1acca16f4"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxOToyNDowNlrOGSw2aw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wOFQxOToyNDozNVrOGSw3bA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjMyNzkxNQ==", "bodyText": "change \"This may be\" to \"This might be\"\n(\"may\" can indicate permission being granted, which can confuse translators)", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#discussion_r422327915", "createdAt": "2020-05-08T19:24:06Z", "author": {"login": "jantley-ibm"}, "path": "dev/com.ibm.ws.microprofile.reactive.messaging.kafka/resources/com/ibm/ws/microprofile/reactive/messaging/kafka/resources/ReactiveMessaging.nlsprops", "diffHunk": "@@ -62,13 +62,19 @@ kafka.library.not.present.CWMRX1006E.useraction=Package the kafka-clients JAR fi\n \n # A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n kafka.create.incoming.error.CWMRX1007E=CWMRX1007E: A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n-kafka.create.incoming.error.CWMRX1007E.explanation=An error that occurred when the Kafka connector was set up for an incoming reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging.\n-kafka.create.incoming.error.CWMRX1007E.useraction=Review the error message, server message.log, and FFDC logs to identify the problem.\n+kafka.create.incoming.error.CWMRX1007E.explanation=An error that occurred when the Kafka connector was set up for an incoming reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging. This may be caused by a problem with the connector configuration, or by a problem resolving the Kafka broker hostname.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3747cdf6ce505b28e07705465c2097b1acca16f4"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjMyODA0NA==", "bodyText": "may / might", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#discussion_r422328044", "createdAt": "2020-05-08T19:24:20Z", "author": {"login": "jantley-ibm"}, "path": "dev/com.ibm.ws.microprofile.reactive.messaging.kafka/resources/com/ibm/ws/microprofile/reactive/messaging/kafka/resources/ReactiveMessaging.nlsprops", "diffHunk": "@@ -62,13 +62,19 @@ kafka.library.not.present.CWMRX1006E.useraction=Package the kafka-clients JAR fi\n \n # A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n kafka.create.incoming.error.CWMRX1007E=CWMRX1007E: A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n-kafka.create.incoming.error.CWMRX1007E.explanation=An error that occurred when the Kafka connector was set up for an incoming reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging.\n-kafka.create.incoming.error.CWMRX1007E.useraction=Review the error message, server message.log, and FFDC logs to identify the problem.\n+kafka.create.incoming.error.CWMRX1007E.explanation=An error that occurred when the Kafka connector was set up for an incoming reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging. This may be caused by a problem with the connector configuration, or by a problem resolving the Kafka broker hostname.\n+kafka.create.incoming.error.CWMRX1007E.useraction=Review the error message, the messages.log file on the server, and FFDC logs to identify the problem.\n \n # A Kafka outgoing connector for the {0} channel cannot be created. The error is {1}\n kafka.create.outgoing.error.CWMRX1008E=CWMRX1008E: A Kafka outgoing connector for the {0} channel cannot be created. The error is {1}\n-kafka.create.outgoing.error.CWMRX1008E.explanation=An error that occurred when the Kafka connector was set up for an outgoing reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging.\n-kafka.create.outgoing.error.CWMRX1008E.useraction=Review the error message, server message.log, and FFDC logs to identify the problem.\n+kafka.create.outgoing.error.CWMRX1008E.explanation=An error that occurred when the Kafka connector was set up for an outgoing reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging. This may be caused by a problem with the connector configuration, or by a problem resolving the Kafka broker hostname.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3747cdf6ce505b28e07705465c2097b1acca16f4"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMjMyODE3Mg==", "bodyText": "may / might", "url": "https://github.com/OpenLiberty/open-liberty/pull/11800#discussion_r422328172", "createdAt": "2020-05-08T19:24:35Z", "author": {"login": "jantley-ibm"}, "path": "dev/com.ibm.ws.microprofile.reactive.messaging.kafka/resources/com/ibm/ws/microprofile/reactive/messaging/kafka/resources/ReactiveMessaging.nlsprops", "diffHunk": "@@ -62,13 +62,19 @@ kafka.library.not.present.CWMRX1006E.useraction=Package the kafka-clients JAR fi\n \n # A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n kafka.create.incoming.error.CWMRX1007E=CWMRX1007E: A Kafka incoming connector for the {0} channel cannot be created. The error is {1}\n-kafka.create.incoming.error.CWMRX1007E.explanation=An error that occurred when the Kafka connector was set up for an incoming reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging.\n-kafka.create.incoming.error.CWMRX1007E.useraction=Review the error message, server message.log, and FFDC logs to identify the problem.\n+kafka.create.incoming.error.CWMRX1007E.explanation=An error that occurred when the Kafka connector was set up for an incoming reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging. This may be caused by a problem with the connector configuration, or by a problem resolving the Kafka broker hostname.\n+kafka.create.incoming.error.CWMRX1007E.useraction=Review the error message, the messages.log file on the server, and FFDC logs to identify the problem.\n \n # A Kafka outgoing connector for the {0} channel cannot be created. The error is {1}\n kafka.create.outgoing.error.CWMRX1008E=CWMRX1008E: A Kafka outgoing connector for the {0} channel cannot be created. The error is {1}\n-kafka.create.outgoing.error.CWMRX1008E.explanation=An error that occurred when the Kafka connector was set up for an outgoing reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging.\n-kafka.create.outgoing.error.CWMRX1008E.useraction=Review the error message, server message.log, and FFDC logs to identify the problem.\n+kafka.create.outgoing.error.CWMRX1008E.explanation=An error that occurred when the Kafka connector was set up for an outgoing reactive messaging channel prevents normal operation of MicroProfile Reactive Messaging. This may be caused by a problem with the connector configuration, or by a problem resolving the Kafka broker hostname.\n+kafka.create.outgoing.error.CWMRX1008E.useraction=Review the error message, the messages.log file on the server, and FFDC logs to identify the problem.\n+\n+# {0} = channel name, {1} = error message\n+kafka.create.incoming.retry.CWMRX1009W=CWMRX1009W: A Kafka incoming connector for the {0} channel cannot be created but this operation is being retried. The error is {1}\n+kafka.create.incoming.retry.CWMRX1009W.explanation=An error occurred when the Kafka connector was set up for an incoming reactive messaging channel. This may be caused by a problem with the connector configuration, or by a problem resolving the Kafka broker hostname.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3747cdf6ce505b28e07705465c2097b1acca16f4"}, "originalPosition": 18}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e941837a803e3479d5001111825a9fc23bae6d17", "author": {"user": {"login": "Azquelt", "name": "Andrew Rouse"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/e941837a803e3479d5001111825a9fc23bae6d17", "committedDate": "2020-05-13T11:02:27Z", "message": "Further message review changes for Kafka connector"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2821, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}