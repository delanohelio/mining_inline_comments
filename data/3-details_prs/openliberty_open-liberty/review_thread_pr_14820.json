{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1NDI0Njg2", "number": 14820, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxMzozNDoxN1rOE3OlJQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxMzo0NTozM1rOE3O5Qg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2MzQ2MDIxOnYy", "diffSide": "RIGHT", "path": "dev/io.openliberty.microprofile.lra.1.0.internal/bnd.bnd", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxMzozNDoxN1rOHwcuwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxNDoyNTowMFrOHwe-eg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDU2NDQxNg==", "bodyText": "delete if not needed", "url": "https://github.com/OpenLiberty/open-liberty/pull/14820#discussion_r520564416", "createdAt": "2020-11-10T13:34:17Z", "author": {"login": "tevans78"}, "path": "dev/io.openliberty.microprofile.lra.1.0.internal/bnd.bnd", "diffHunk": "@@ -45,6 +45,9 @@ Include-Resource: \\\n \tcom.ibm.ws.org.osgi.annotation.versioning;version=latest, \\\n \tcom.ibm.wsspi.org.osgi.service.component.annotations;version=latest, \\\n \tcom.ibm.websphere.javaee.jaxrs.2.1;version=latest, \\\n-\tcom.ibm.ws.jaxrs.2.1.common;version=latest\n+\tcom.ibm.ws.jaxrs.2.1.common;version=latest, \\\n+\tcom.ibm.websphere.javaee.cdi.2.0\n+\t#com.ibm.ws.cdi.interfaces;version=latest, \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "244b5de26e885f4363bba2b9c87e56f3dd72cd25"}, "originalPosition": 7}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDYwMTIxMA==", "bodyText": "will remove", "url": "https://github.com/OpenLiberty/open-liberty/pull/14820#discussion_r520601210", "createdAt": "2020-11-10T14:25:00Z", "author": {"login": "idlewis"}, "path": "dev/io.openliberty.microprofile.lra.1.0.internal/bnd.bnd", "diffHunk": "@@ -45,6 +45,9 @@ Include-Resource: \\\n \tcom.ibm.ws.org.osgi.annotation.versioning;version=latest, \\\n \tcom.ibm.wsspi.org.osgi.service.component.annotations;version=latest, \\\n \tcom.ibm.websphere.javaee.jaxrs.2.1;version=latest, \\\n-\tcom.ibm.ws.jaxrs.2.1.common;version=latest\n+\tcom.ibm.ws.jaxrs.2.1.common;version=latest, \\\n+\tcom.ibm.websphere.javaee.cdi.2.0\n+\t#com.ibm.ws.cdi.interfaces;version=latest, \\", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDU2NDQxNg=="}, "originalCommit": {"oid": "244b5de26e885f4363bba2b9c87e56f3dd72cd25"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2MzQ2OTA1OnYy", "diffSide": "RIGHT", "path": "dev/io.openliberty.microprofile.lra.1.0.internal/src/io/openliberty/microprofile/lra/internal/LraFilterComponent.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxMzozNjowOVrOHwcz2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxMzozNjowOVrOHwcz2w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDU2NTcyMw==", "bodyText": "Don't you still need some error handling if the bean can not be found?", "url": "https://github.com/OpenLiberty/open-liberty/pull/14820#discussion_r520565723", "createdAt": "2020-11-10T13:36:09Z", "author": {"login": "tevans78"}, "path": "dev/io.openliberty.microprofile.lra.1.0.internal/src/io/openliberty/microprofile/lra/internal/LraFilterComponent.java", "diffHunk": "@@ -99,14 +101,8 @@ public void installProvider(boolean clientSide, List<Object> providers, Set<Stri\n             if (TraceComponent.isAnyTracingEnabled() && tc.isEventEnabled()) {\n                 Tr.event(tc, \"Registering serverside side filters\");\n             }\n-            try {\n-                // Rather unhelpfully, the ServerLRAFilter constructor throws 'Exception'. There isn't much we can do with\n-                // that. Re-throwing should prevent the servlet being initialized, which is probably better than swallowing\n-                // the exception\n-                providers.add(new ServerLRAFilter());\n-            } catch (Exception e) {\n-                throw new LraRuntimeException(Tr.formatMessage(tc, \"LRA_CANT_REGISTER_FILTERS.CWMRX5001E\", e), e);\n-            }\n+            ServerLRAFilter beanInstance = CDI.current().select(ServerLRAFilter.class).get();\n+            providers.add(beanInstance);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "244b5de26e885f4363bba2b9c87e56f3dd72cd25"}, "originalPosition": 22}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2MzQ3Njk5OnYy", "diffSide": "RIGHT", "path": "dev/io.openliberty.org.jboss.narayana.rts/src/io/openliberty/microprofile/lra/internal/CdiExtensionComponent.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxMzozODowMVrOHwc4ug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxNDoyNToxMlrOHwe_Jg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDU2Njk3MA==", "bodyText": "better to put the copyright above the package statement", "url": "https://github.com/OpenLiberty/open-liberty/pull/14820#discussion_r520566970", "createdAt": "2020-11-10T13:38:01Z", "author": {"login": "tevans78"}, "path": "dev/io.openliberty.org.jboss.narayana.rts/src/io/openliberty/microprofile/lra/internal/CdiExtensionComponent.java", "diffHunk": "@@ -0,0 +1,46 @@\n+package io.openliberty.microprofile.lra.internal;\n+/*******************************************************************************", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "244b5de26e885f4363bba2b9c87e56f3dd72cd25"}, "originalPosition": 2}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDYwMTM4Mg==", "bodyText": "moved", "url": "https://github.com/OpenLiberty/open-liberty/pull/14820#discussion_r520601382", "createdAt": "2020-11-10T14:25:12Z", "author": {"login": "idlewis"}, "path": "dev/io.openliberty.org.jboss.narayana.rts/src/io/openliberty/microprofile/lra/internal/CdiExtensionComponent.java", "diffHunk": "@@ -0,0 +1,46 @@\n+package io.openliberty.microprofile.lra.internal;\n+/*******************************************************************************", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDU2Njk3MA=="}, "originalCommit": {"oid": "244b5de26e885f4363bba2b9c87e56f3dd72cd25"}, "originalPosition": 2}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI2MzUxMTcwOnYy", "diffSide": "RIGHT", "path": "dev/io.openliberty.org.jboss.narayana.rts/bnd.bnd", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxMzo0NTozM1rOHwdNlA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxNDoyNDoyMlrOHwe8fQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDU3MjMwOA==", "bodyText": "I can't see any bundles which import these packages?? Are these exports actually needed, should the packages be private instead?", "url": "https://github.com/OpenLiberty/open-liberty/pull/14820#discussion_r520572308", "createdAt": "2020-11-10T13:45:33Z", "author": {"login": "tevans78"}, "path": "dev/io.openliberty.org.jboss.narayana.rts/bnd.bnd", "diffHunk": "@@ -22,8 +22,21 @@ Export-Package: \\\n ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "244b5de26e885f4363bba2b9c87e56f3dd72cd25"}, "originalPosition": 1}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDYwMDcwMQ==", "bodyText": "They are imported implicitly by the buildpath statement in io.openliberty.microprofile.lra.1.0.internal", "url": "https://github.com/OpenLiberty/open-liberty/pull/14820#discussion_r520600701", "createdAt": "2020-11-10T14:24:22Z", "author": {"login": "idlewis"}, "path": "dev/io.openliberty.org.jboss.narayana.rts/bnd.bnd", "diffHunk": "@@ -22,8 +22,21 @@ Export-Package: \\\n ", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDU3MjMwOA=="}, "originalCommit": {"oid": "244b5de26e885f4363bba2b9c87e56f3dd72cd25"}, "originalPosition": 1}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2516, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}