{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM4ODA2Mzc5", "number": 12761, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMDozODo1M1rOEIIC5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMDozODo1M1rOEIIC5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc2OTU1ODc5OnYy", "diffSide": "RIGHT", "path": "dev/fattest.databases/src/componenttest/topology/database/container/OracleContainer.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMDozODo1M1rOGn5rsg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yM1QyMDozODo1M1rOGn5rsg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NDQ5MjcyMg==", "bodyText": "Add this waitStrategy instead of using default jdbc wait strategy.", "url": "https://github.com/OpenLiberty/open-liberty/pull/12761#discussion_r444492722", "createdAt": "2020-06-23T20:38:53Z", "author": {"login": "KyleAure"}, "path": "dev/fattest.databases/src/componenttest/topology/database/container/OracleContainer.java", "diffHunk": "@@ -0,0 +1,116 @@\n+package componenttest.topology.database.container;\n+\n+import java.time.Duration;\n+import static java.time.temporal.ChronoUnit.SECONDS;\n+import java.util.concurrent.Future;\n+\n+import org.testcontainers.containers.JdbcDatabaseContainer;\n+import org.testcontainers.containers.wait.strategy.Wait;\n+import org.testcontainers.utility.TestcontainersConfiguration;\n+\n+//TODO this class can be deleted once this issue is resolved in TestContainers: https://github.com/testcontainers/testcontainers-java/issues/1292\n+public class OracleContainer extends JdbcDatabaseContainer<OracleContainer> {\n+\n+    public static final String NAME = \"oracle\";\n+\n+    private static final int ORACLE_PORT = 1521;\n+    private static final int APEX_HTTP_PORT = 8080;\n+\n+    private static final int DEFAULT_STARTUP_TIMEOUT_SECONDS = 240;\n+    private static final int DEFAULT_CONNECT_TIMEOUT_SECONDS = 120;\n+\n+    private String username = \"system\";\n+    private String password = \"oracle\";\n+\n+    private static String resolveImageName() {\n+        String image = TestcontainersConfiguration.getInstance()\n+            .getProperties().getProperty(\"oracle.container.image\");\n+\n+        if (image == null) {\n+            throw new IllegalStateException(\"An image to use for Oracle containers must be configured. \" +\n+                \"To do this, please place a file on the classpath named `testcontainers.properties`, \" +\n+                \"containing `oracle.container.image=IMAGE`, where IMAGE is a suitable image name and tag.\");\n+        }\n+        return image;\n+    }\n+\n+    public OracleContainer() {\n+        this(resolveImageName());\n+    }\n+\n+    public OracleContainer(String dockerImageName) {\n+        super(dockerImageName);\n+        this.waitStrategy = Wait.forHealthcheck()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ec672966467baec3809c4b1546d2d854ac7a0bca"}, "originalPosition": 43}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1560, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}