{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDkzNDc4MzYy", "number": 14182, "title": "Ensure restfulWSClient-3.0 feature works", "bodyText": "For now the restfulWSClient will load everything that the server does - eventually we will split this up better.", "createdAt": "2020-09-26T03:26:06Z", "url": "https://github.com/OpenLiberty/open-liberty/pull/14182", "merged": true, "mergeCommit": {"oid": "cf2d72ed7d00834d8adbe81272057613b1e11663"}, "closed": true, "closedAt": "2020-10-13T13:23:50Z", "author": {"login": "andymc12"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdNoUE9gFqTQ5ODQ3NjA0Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdR7H7CABqjM4Njg0MjU4NzM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk4NDc2MDQ3", "url": "https://github.com/OpenLiberty/open-liberty/pull/14182#pullrequestreview-498476047", "createdAt": "2020-09-29T13:36:23Z", "commit": {"oid": "f23ec626175846787012ac228bbc9c69697cd33d"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxMzozNjoyM1rOHZthOQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yOVQxMzozNjoyM1rOHZthOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NjcyMjIzMw==", "bodyText": "You already have that line", "url": "https://github.com/OpenLiberty/open-liberty/pull/14182#discussion_r496722233", "createdAt": "2020-09-29T13:36:23Z", "author": {"login": "tevans78"}, "path": "dev/com.ibm.websphere.appserver.features/visibility/private/io.openliberty.internal.restfulWS-3.0.feature", "diffHunk": "@@ -15,7 +15,7 @@ Subsystem-Name: Internal Java RESTful Services 3.0\n  com.ibm.websphere.appserver.org.eclipse.microprofile.config-1.4, \\\n  io.openliberty.jakarta.validation-3.0, \\\n  com.ibm.websphere.appserver.org.reactivestreams.reactive-streams-1.0, \\\n- com.ibm.websphere.appserver.mpConfig-1.4, \\\n+ com.ibm.websphere.appserver.org.eclipse.microprofile.config-1.4, \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f23ec626175846787012ac228bbc9c69697cd33d"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f23ec626175846787012ac228bbc9c69697cd33d", "author": {"user": {"login": "andymc12", "name": "Andy McCright"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/f23ec626175846787012ac228bbc9c69697cd33d", "committedDate": "2020-09-26T03:24:53Z", "message": "Ensure restfulWSClient-3.0 feature works\n\nFor now the restfulWSClient will load everything that the server does\n- eventually we will split this up better."}, "afterCommit": {"oid": "871a8bcb757624e751ec12d1cd9bb759234e9947", "author": {"user": {"login": "andymc12", "name": "Andy McCright"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/871a8bcb757624e751ec12d1cd9bb759234e9947", "committedDate": "2020-09-29T17:30:17Z", "message": "Ensure restfulWSClient-3.0 feature works\n\nFor now the restfulWSClient will load everything that the server does\n- eventually we will split this up better."}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "871a8bcb757624e751ec12d1cd9bb759234e9947", "author": {"user": {"login": "andymc12", "name": "Andy McCright"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/871a8bcb757624e751ec12d1cd9bb759234e9947", "committedDate": "2020-09-29T17:30:17Z", "message": "Ensure restfulWSClient-3.0 feature works\n\nFor now the restfulWSClient will load everything that the server does\n- eventually we will split this up better."}, "afterCommit": {"oid": "b32e7e75498421e8d7dc10f6354fe815dc258b82", "author": {"user": {"login": "andymc12", "name": "Andy McCright"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/b32e7e75498421e8d7dc10f6354fe815dc258b82", "committedDate": "2020-10-09T21:17:33Z", "message": "Ensure restfulWSClient-3.0 feature works"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MDAxMjc0", "url": "https://github.com/OpenLiberty/open-liberty/pull/14182#pullrequestreview-506001274", "createdAt": "2020-10-09T21:33:37Z", "commit": {"oid": "b32e7e75498421e8d7dc10f6354fe815dc258b82"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMTozMzozN1rOHfZNZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOVQyMTozNTowNlrOHfZPYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY4MDkzNA==", "bodyText": "\"ANDY\"", "url": "https://github.com/OpenLiberty/open-liberty/pull/14182#discussion_r502680934", "createdAt": "2020-10-09T21:33:37Z", "author": {"login": "WhiteCat22"}, "path": "dev/io.openliberty.org.jboss.resteasy.common/src/io/openliberty/restfulWS/config/ConfigImpl.java", "diffHunk": "@@ -0,0 +1,74 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n+ *******************************************************************************/\n+package io.openliberty.restfulWS.config;\n+\n+import java.security.AccessController;\n+import java.security.PrivilegedAction;\n+import java.util.Collections;\n+import java.util.HashMap;\n+import java.util.Map;\n+import java.util.Optional;\n+import java.util.Set;\n+\n+import org.eclipse.microprofile.config.Config;\n+import org.eclipse.microprofile.config.spi.ConfigSource;\n+\n+public class ConfigImpl implements Config {\n+    private final Set<ConfigSource> configSources = Collections.singleton(new ConfigSourceImpl(this));\n+    private final Map<String, String> configProperties = new HashMap<>();\n+\n+    ConfigImpl() {\n+        if (ConfigProviderResolverImpl.java2SecurityEnabled) {\n+            AccessController.doPrivileged((PrivilegedAction<Void>) () -> {\n+                for (Object key : System.getProperties().keySet()) {\n+                    configProperties.put((String) key, System.getProperty((String)key));\n+                }\n+                return null;\n+            });\n+        }\n+        for (Object key : System.getProperties().keySet()) {\n+            configProperties.put((String) key, System.getProperty((String)key));\n+        }\n+    }\n+\n+    @Override\n+    public Iterable<ConfigSource> getConfigSources() {\n+        new Throwable(\"ANDY: Config.getConfigSources\").printStackTrace();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b32e7e75498421e8d7dc10f6354fe815dc258b82"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY4MTM4OQ==", "bodyText": "ANDY", "url": "https://github.com/OpenLiberty/open-liberty/pull/14182#discussion_r502681389", "createdAt": "2020-10-09T21:34:57Z", "author": {"login": "WhiteCat22"}, "path": "dev/io.openliberty.org.jboss.resteasy.common/src/io/openliberty/restfulWS/config/ConfigProviderResolverImpl.java", "diffHunk": "@@ -0,0 +1,97 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n+ *******************************************************************************/\n+package io.openliberty.restfulWS.config;\n+\n+import java.security.AccessController;\n+import java.security.PrivilegedAction;\n+import java.util.HashMap;\n+import java.util.HashSet;\n+import java.util.Map;\n+import java.util.Set;\n+import java.util.WeakHashMap;\n+\n+import org.eclipse.microprofile.config.Config;\n+import org.eclipse.microprofile.config.spi.ConfigBuilder;\n+import org.eclipse.microprofile.config.spi.ConfigProviderResolver;\n+\n+public class ConfigProviderResolverImpl extends ConfigProviderResolver {\n+    \n+    static final boolean java2SecurityEnabled = System.getSecurityManager() != null;\n+\n+    static String getSysProp(String propName) {\n+        if (java2SecurityEnabled) {\n+            return AccessController.doPrivileged((PrivilegedAction<String>) () ->\n+                System.getProperty(propName));\n+        }\n+        return System.getProperty(propName);\n+    }\n+\n+    private static ClassLoader getThreadContextClassLoader() {\n+        if (java2SecurityEnabled) {\n+            return AccessController.doPrivileged((PrivilegedAction<ClassLoader>) () ->\n+                Thread.currentThread().getContextClassLoader());\n+        }\n+        return Thread.currentThread().getContextClassLoader();\n+    }\n+\n+    private static ClassLoader getParentClassLoader(ClassLoader loader) {\n+        if (java2SecurityEnabled) {\n+            return AccessController.doPrivileged((PrivilegedAction<ClassLoader>) () ->\n+                loader.getParent());\n+        }\n+        return loader.getParent();\n+    }\n+\n+    private final Map<ClassLoader, Config> configs = new WeakHashMap<>();\n+\n+    @Override\n+    public ConfigBuilder getBuilder() {\n+        new Throwable(\"ANDY: ConfigProviderResolverImpl.getBuilder\").printStackTrace();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b32e7e75498421e8d7dc10f6354fe815dc258b82"}, "originalPosition": 57}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjY4MTQ0Mw==", "bodyText": "ANDY", "url": "https://github.com/OpenLiberty/open-liberty/pull/14182#discussion_r502681443", "createdAt": "2020-10-09T21:35:06Z", "author": {"login": "WhiteCat22"}, "path": "dev/io.openliberty.org.jboss.resteasy.common/src/io/openliberty/restfulWS/config/ConfigSourceImpl.java", "diffHunk": "@@ -0,0 +1,47 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n+ *******************************************************************************/\n+package io.openliberty.restfulWS.config;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+\n+import org.eclipse.microprofile.config.Config;\n+import org.eclipse.microprofile.config.spi.ConfigSource;\n+\n+public class ConfigSourceImpl implements ConfigSource {\n+    static final boolean java2SecurityEnabled = System.getSecurityManager() != null;\n+    private final Config config;\n+    \n+    ConfigSourceImpl(Config config) {\n+        this.config = config;\n+    }\n+    @Override\n+    public String getName() {\n+        new Throwable(\"ANDY: ConfigSourceImpl.getName\").printStackTrace();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b32e7e75498421e8d7dc10f6354fe815dc258b82"}, "originalPosition": 28}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA2MDA2ODc2", "url": "https://github.com/OpenLiberty/open-liberty/pull/14182#pullrequestreview-506006876", "createdAt": "2020-10-09T21:49:51Z", "commit": {"oid": "b32e7e75498421e8d7dc10f6354fe815dc258b82"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b32e7e75498421e8d7dc10f6354fe815dc258b82", "author": {"user": {"login": "andymc12", "name": "Andy McCright"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/b32e7e75498421e8d7dc10f6354fe815dc258b82", "committedDate": "2020-10-09T21:17:33Z", "message": "Ensure restfulWSClient-3.0 feature works"}, "afterCommit": {"oid": "140c0ff6559891ada8b9a82916bbf8bec4510191", "author": {"user": {"login": "andymc12", "name": "Andy McCright"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/140c0ff6559891ada8b9a82916bbf8bec4510191", "committedDate": "2020-10-09T21:39:32Z", "message": "Ensure restfulWSClient-3.0 feature works"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a74f20ddcec9b39d2580fc01c1a31d3d2c92afe1", "author": {"user": {"login": "andymc12", "name": "Andy McCright"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/a74f20ddcec9b39d2580fc01c1a31d3d2c92afe1", "committedDate": "2020-10-12T14:27:33Z", "message": "Ensure restfulWSClient-3.0 feature works"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "140c0ff6559891ada8b9a82916bbf8bec4510191", "author": {"user": {"login": "andymc12", "name": "Andy McCright"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/140c0ff6559891ada8b9a82916bbf8bec4510191", "committedDate": "2020-10-09T21:39:32Z", "message": "Ensure restfulWSClient-3.0 feature works"}, "afterCommit": {"oid": "cace74fe239ed42eac4f2cc111d6a050e0a1ca9b", "author": {"user": {"login": "andymc12", "name": "Andy McCright"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/cace74fe239ed42eac4f2cc111d6a050e0a1ca9b", "committedDate": "2020-10-12T14:27:33Z", "message": "Switch to use `mail-2.0` feature and move that to beta"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cace74fe239ed42eac4f2cc111d6a050e0a1ca9b", "author": {"user": {"login": "andymc12", "name": "Andy McCright"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/cace74fe239ed42eac4f2cc111d6a050e0a1ca9b", "committedDate": "2020-10-12T14:27:33Z", "message": "Switch to use `mail-2.0` feature and move that to beta"}, "afterCommit": {"oid": "d77e660110594f6305f46f0f239b4051f83eac87", "author": {"user": {"login": "andymc12", "name": "Andy McCright"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/d77e660110594f6305f46f0f239b4051f83eac87", "committedDate": "2020-10-12T15:07:52Z", "message": "Switch to use `mail-2.0` feature and move that to beta"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ae8a075853c524a51daa9b525dc057b8935207f", "author": {"user": {"login": "andymc12", "name": "Andy McCright"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/2ae8a075853c524a51daa9b525dc057b8935207f", "committedDate": "2020-10-12T21:46:52Z", "message": "Switch to use `mail-2.0` feature and move that to beta"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d77e660110594f6305f46f0f239b4051f83eac87", "author": {"user": {"login": "andymc12", "name": "Andy McCright"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/d77e660110594f6305f46f0f239b4051f83eac87", "committedDate": "2020-10-12T15:07:52Z", "message": "Switch to use `mail-2.0` feature and move that to beta"}, "afterCommit": {"oid": "2ae8a075853c524a51daa9b525dc057b8935207f", "author": {"user": {"login": "andymc12", "name": "Andy McCright"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/2ae8a075853c524a51daa9b525dc057b8935207f", "committedDate": "2020-10-12T21:46:52Z", "message": "Switch to use `mail-2.0` feature and move that to beta"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3314, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}