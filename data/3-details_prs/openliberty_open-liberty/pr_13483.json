{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3NDE5MTI4", "number": 13483, "title": "Handle ejb-jar.xml version 4.0 and application.xml version 9 in ddparser", "bodyText": "for #13454\nManually tested that the ejb-jar.xml worked in a fat I had ejblite-4.0 feature enabled", "createdAt": "2020-08-13T14:22:07Z", "url": "https://github.com/OpenLiberty/open-liberty/pull/13483", "merged": true, "mergeCommit": {"oid": "53bc4dd3578875668a7e19623b92c01dba9409ce"}, "closed": true, "closedAt": "2020-08-14T13:29:13Z", "author": {"login": "olendvcook"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc-jSOLAFqTQ2Njk2MzE5Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc-mMUVAFqTQ2NzExMzE2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY2OTYzMTk3", "url": "https://github.com/OpenLiberty/open-liberty/pull/13483#pullrequestreview-466963197", "createdAt": "2020-08-13T17:04:06Z", "commit": {"oid": "3f48ac0be96e913315f22c647cfcebbd0ded81b8"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxNzowNDowN1rOHAUdSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xM1QxNzoxNTozOVrOHAVGug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDA5NzIyNw==", "bodyText": "Should this test be updated to cover VERSION_9_0?  It looks like that was missed when that version was added to JavaEEVersion back in July.", "url": "https://github.com/OpenLiberty/open-liberty/pull/13483#discussion_r470097227", "createdAt": "2020-08-13T17:04:07Z", "author": {"login": "brideck"}, "path": "dev/com.ibm.ws.javaee.ddmodel/test/com/ibm/ws/javaee/ddmodel/app/AppTest.java", "diffHunk": "@@ -17,58 +17,55 @@\n import com.ibm.ws.javaee.ddmodel.DDParser;\n import com.ibm.ws.javaee.version.JavaEEVersion;\n \n-\n /**\n  * Application deployment descriptor parse tests.\n  */\n public class AppTest extends AppTestBase {\n-    public static final Version[] TEST_VERSIONS =\n-        new Version[] { \n-            JavaEEVersion.VERSION_6_0,\n-            JavaEEVersion.VERSION_7_0,\n-            JavaEEVersion.VERSION_8_0\n-        };\n+    public static final Version[] TEST_VERSIONS = new Version[] {\n+                                                                  JavaEEVersion.VERSION_6_0,\n+                                                                  JavaEEVersion.VERSION_7_0,\n+                                                                  JavaEEVersion.VERSION_8_0\n+    };", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f48ac0be96e913315f22c647cfcebbd0ded81b8"}, "originalPosition": 26}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDA5NzYxNg==", "bodyText": "The matrix of expected results would likewise need updating.", "url": "https://github.com/OpenLiberty/open-liberty/pull/13483#discussion_r470097616", "createdAt": "2020-08-13T17:04:47Z", "author": {"login": "brideck"}, "path": "dev/com.ibm.ws.javaee.ddmodel/test/com/ibm/ws/javaee/ddmodel/app/AppTest.java", "diffHunk": "@@ -17,58 +17,55 @@\n import com.ibm.ws.javaee.ddmodel.DDParser;\n import com.ibm.ws.javaee.version.JavaEEVersion;\n \n-\n /**\n  * Application deployment descriptor parse tests.\n  */\n public class AppTest extends AppTestBase {\n-    public static final Version[] TEST_VERSIONS =\n-        new Version[] { \n-            JavaEEVersion.VERSION_6_0,\n-            JavaEEVersion.VERSION_7_0,\n-            JavaEEVersion.VERSION_8_0\n-        };\n+    public static final Version[] TEST_VERSIONS = new Version[] {\n+                                                                  JavaEEVersion.VERSION_6_0,\n+                                                                  JavaEEVersion.VERSION_7_0,\n+                                                                  JavaEEVersion.VERSION_8_0\n+    };\n \n     public static final int CMP_LT = -1;\n     public static final int CMP_GT = +1;\n-    public static final int CMP_EQ =  0;\n+    public static final int CMP_EQ = 0;\n \n     public static int asCmp(int cmpResult) {\n-        return ( (cmpResult < 0) ? CMP_LT : ((cmpResult > 0) ? CMP_GT : CMP_EQ) );\n+        return ((cmpResult < 0) ? CMP_LT : ((cmpResult > 0) ? CMP_GT : CMP_EQ));\n     }\n \n-    public static int[][] COMPARE_VERSION_RESULTS =\n-        new int[][] {\n-            { CMP_EQ, CMP_LT, CMP_LT },\n-            { CMP_GT, CMP_EQ, CMP_LT },\n-            { CMP_GT, CMP_GT, CMP_EQ }\n-        };\n+    public static int[][] COMPARE_VERSION_RESULTS = new int[][] {\n+                                                                  { CMP_EQ, CMP_LT, CMP_LT },\n+                                                                  { CMP_GT, CMP_EQ, CMP_LT },\n+                                                                  { CMP_GT, CMP_GT, CMP_EQ }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f48ac0be96e913315f22c647cfcebbd0ded81b8"}, "originalPosition": 47}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MDEwNzgzNA==", "bodyText": "Is this right?  I can't tell what exactly this test is doing, but you've set DEFAULT_MAX_VERSION to 4_0 in EJBJarEntryAdapter, bumping it from 3_1.", "url": "https://github.com/OpenLiberty/open-liberty/pull/13483#discussion_r470107834", "createdAt": "2020-08-13T17:15:39Z", "author": {"login": "brideck"}, "path": "dev/com.ibm.ws.javaee.ddmodel/test/com/ibm/ws/javaee/ddmodel/ejb/EJBJarTest.java", "diffHunk": "@@ -34,11 +34,12 @@ public void testGetVersionID() throws Exception {\n         Assert.assertEquals(EJBJar.VERSION_3_0, parse(ejbJar30() + \"</ejb-jar>\").getVersionID());\n         Assert.assertEquals(EJBJar.VERSION_3_1, parse(ejbJar31() + \"</ejb-jar>\").getVersionID());\n         Assert.assertEquals(EJBJar.VERSION_3_2, parse(ejbJar32() + \"</ejb-jar>\").getVersionID());\n+        Assert.assertEquals(EJBJar.VERSION_4_0, parse(ejbJar40() + \"</ejb-jar>\").getVersionID());\n     }\n \n     @Test(expected = DDParser.ParseException.class)\n-    public void testMaxVersion31() throws Exception {\n-        parse(ejbJar32() + \"</ejb-jar>\", EJBJar.VERSION_3_1);\n+    public void testMaxVersion() throws Exception {\n+        parse(ejbJar40() + \"</ejb-jar>\", EJBJar.VERSION_3_2);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3f48ac0be96e913315f22c647cfcebbd0ded81b8"}, "originalPosition": 18}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3f48ac0be96e913315f22c647cfcebbd0ded81b8", "author": {"user": {"login": "olendvcook", "name": "Olen Cook"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/3f48ac0be96e913315f22c647cfcebbd0ded81b8", "committedDate": "2020-08-12T21:11:51Z", "message": "Handle ejb-jar.xml version 4.0 and application.xml version 9 in ddparser"}, "afterCommit": {"oid": "aeed6ad5ccf2b5947582e6b12a3ab6fe701247f2", "author": {"user": {"login": "olendvcook", "name": "Olen Cook"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/aeed6ad5ccf2b5947582e6b12a3ab6fe701247f2", "committedDate": "2020-08-13T19:56:28Z", "message": "Handle ejb-jar.xml version 4.0 and application.xml version 9 in ddparser"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ed608566567c016db0bcd1ff6f26e34323f3a93a", "author": {"user": {"login": "olendvcook", "name": "Olen Cook"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/ed608566567c016db0bcd1ff6f26e34323f3a93a", "committedDate": "2020-08-13T20:31:20Z", "message": "Handle ejb-jar.xml version 4.0 and application.xml version 9 in ddparser"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aeed6ad5ccf2b5947582e6b12a3ab6fe701247f2", "author": {"user": {"login": "olendvcook", "name": "Olen Cook"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/aeed6ad5ccf2b5947582e6b12a3ab6fe701247f2", "committedDate": "2020-08-13T19:56:28Z", "message": "Handle ejb-jar.xml version 4.0 and application.xml version 9 in ddparser"}, "afterCommit": {"oid": "ed608566567c016db0bcd1ff6f26e34323f3a93a", "author": {"user": {"login": "olendvcook", "name": "Olen Cook"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/ed608566567c016db0bcd1ff6f26e34323f3a93a", "committedDate": "2020-08-13T20:31:20Z", "message": "Handle ejb-jar.xml version 4.0 and application.xml version 9 in ddparser"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY3MTEzMTYy", "url": "https://github.com/OpenLiberty/open-liberty/pull/13483#pullrequestreview-467113162", "createdAt": "2020-08-13T20:39:14Z", "commit": {"oid": "ed608566567c016db0bcd1ff6f26e34323f3a93a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3471, "cost": 1, "resetAt": "2021-10-28T19:08:13Z"}}}