{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDY3NDQ4Mjgw", "number": 13484, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxOTowNDoyNlrOEZnVGg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxOToxMToyMVrOEZnduA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1Mjk0MjM0OnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.webcontainer.servlet.4.0_fat/publish/servers/servlet50_wcServer/server.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxOTowNDoyNlrOHCiCtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxOTowNDoyNlrOHCiCtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQxNjk0OQ==", "bodyText": "Do we really need all the trace specified here , same comment for the bootstrap?", "url": "https://github.com/OpenLiberty/open-liberty/pull/13484#discussion_r472416949", "createdAt": "2020-08-18T19:04:26Z", "author": {"login": "pnicolucci"}, "path": "dev/com.ibm.ws.webcontainer.servlet.4.0_fat/publish/servers/servlet50_wcServer/server.xml", "diffHunk": "@@ -0,0 +1,15 @@\n+<server description=\"Server for testing Servlet 50 jakarta.servlet\">\n+\n+  <include location=\"../fatTestPorts.xml\"/>\n+\n+  <featureManager>\n+    <feature>servlet-5.0</feature>\n+  </featureManager>\n+\n+  <logging\n+    traceSpecification=\"*=info=enabled:com.ibm.ws.webcontainer*=all:com.ibm.wsspi.webcontainer*=all:HttpTransport=all:HTTPChannel=all:TCPChannel=all:GenericBNF=all:com.ibm.ws.jsp*=all:com.ibm.ws.session.*=all:com.ibm.ws.runtime.update.internal*=all:ChannelFramework=all\"\n+    maxFileSize=\"20\"\n+    maxFiles=\"10\"\n+    traceFormat=\"BASIC\"/>\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c8af0631704b7c1524e31119aebae270708bc09"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1Mjk0OTQwOnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.webcontainer.servlet.4.0_fat/test-applications/Servlet5TestApp.war/src/servlet5snoop/war/servlets/Snoop5Servlet.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxOTowNjozMlrOHCiHIQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxOTowNjozMlrOHCiHIQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQxODA4MQ==", "bodyText": "Looks like we're missing a copyright statement.", "url": "https://github.com/OpenLiberty/open-liberty/pull/13484#discussion_r472418081", "createdAt": "2020-08-18T19:06:32Z", "author": {"login": "pnicolucci"}, "path": "dev/com.ibm.ws.webcontainer.servlet.4.0_fat/test-applications/Servlet5TestApp.war/src/servlet5snoop/war/servlets/Snoop5Servlet.java", "diffHunk": "@@ -0,0 +1,298 @@\n+package servlet5snoop.war.servlets;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c8af0631704b7c1524e31119aebae270708bc09"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1Mjk1ODg3OnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.webcontainer.servlet.4.0_fat/test-applications/Servlet5TestApp.war/resources/WEB-INF/web.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxOTowOTo0NFrOHCiNhA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxOTowOTo0NFrOHCiNhA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQxOTcxNg==", "bodyText": "Can you fix the space formatting here?", "url": "https://github.com/OpenLiberty/open-liberty/pull/13484#discussion_r472419716", "createdAt": "2020-08-18T19:09:44Z", "author": {"login": "pnicolucci"}, "path": "dev/com.ibm.ws.webcontainer.servlet.4.0_fat/test-applications/Servlet5TestApp.war/resources/WEB-INF/web.xml", "diffHunk": "@@ -0,0 +1,18 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<web-app version=\"5.0\" xmlns=\"https://jakarta.ee/xml/ns/jakartaee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd\">\n+  <display-name>Snoop Servlet 50</display-name>\n+  <description>This is the IBM WebSphere Application Sever Default Web Application Snoop using Servlet 50, since 2020</description>\n+  \n+  <servlet>\n+\t\t<display-name>Snoop Servlet</display-name>\n+\t\t<servlet-name>Snoop Servlet</servlet-name>\n+        <servlet-class>servlet5snoop.war.servlets.Snoop5Servlet</servlet-class>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c8af0631704b7c1524e31119aebae270708bc09"}, "originalPosition": 9}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1Mjk2MDg1OnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.webcontainer.servlet.4.0_fat/fat/src/com/ibm/ws/fat/wc/tests/WC5JakartaServletTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxOToxMDoyMVrOHCiOyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxOToxMDoyMVrOHCiOyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQyMDA0MA==", "bodyText": "What error is this and why are we expecting it? Can we add some comments so we know in the future?", "url": "https://github.com/OpenLiberty/open-liberty/pull/13484#discussion_r472420040", "createdAt": "2020-08-18T19:10:21Z", "author": {"login": "pnicolucci"}, "path": "dev/com.ibm.ws.webcontainer.servlet.4.0_fat/fat/src/com/ibm/ws/fat/wc/tests/WC5JakartaServletTest.java", "diffHunk": "@@ -0,0 +1,87 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n+ *******************************************************************************/\n+package com.ibm.ws.fat.wc.tests;\n+\n+import java.util.ArrayList;\n+import java.util.logging.Logger;\n+\n+import org.junit.AfterClass;\n+import org.junit.BeforeClass;\n+import org.junit.ClassRule;\n+import org.junit.Test;\n+import org.junit.runner.RunWith;\n+\n+import com.ibm.ws.fat.util.LoggingTest;\n+import com.ibm.ws.fat.util.SharedServer;\n+import com.ibm.ws.fat.wc.WCApplicationHelper;\n+\n+import componenttest.annotation.SkipForRepeat;\n+import componenttest.custom.junit.runner.FATRunner;\n+import componenttest.custom.junit.runner.Mode;\n+import componenttest.custom.junit.runner.Mode.TestMode;\n+\n+/**\n+ * Test Servlet 5 native jakarta.servlet (i.e not transformer)\n+ * Should only run in EE9.\n+ * The target app is servlet 5.0 version with new namespace.\n+ * Request to the simple snoop servlet 50 version which test several jakarta.servlet API (along with the new web-app web.xml namespace)\n+ */\n+@RunWith(FATRunner.class)\n+@Mode(TestMode.FULL)\n+@SkipForRepeat(SkipForRepeat.NO_MODIFICATION)\n+public class WC5JakartaServletTest extends LoggingTest {\n+\n+    private static final Logger LOG = Logger.getLogger(WC5JakartaServletTest.class.getName());\n+    private static final String APP_NAME = \"Servlet5TestApp\";\n+\n+    @ClassRule\n+    public static SharedServer SHARED_SERVER = new SharedServer(\"servlet50_wcServer\");\n+\n+    /*\n+     * (non-Javadoc)\n+     *\n+     * @see com.ibm.ws.fat.util.LoggingTest#getSharedServer()\n+     */\n+    @Override\n+    protected SharedServer getSharedServer() {\n+        return SHARED_SERVER;\n+    }\n+\n+    @BeforeClass\n+    public static void before() throws Exception {\n+        LOG.info(\"Setup : add \" + APP_NAME + \" war to the server if not already present.\");\n+\n+        WCApplicationHelper.addWarToServerDropins(SHARED_SERVER.getLibertyServer(), APP_NAME + \".war\", true, \"servlet5snoop.war.servlets\");\n+\n+        ArrayList<String> expectedErrors = new ArrayList<String>();\n+        expectedErrors.add(\"CWWWC0401E:.*\");\n+        SHARED_SERVER.getLibertyServer().addIgnoredErrors(expectedErrors);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c8af0631704b7c1524e31119aebae270708bc09"}, "originalPosition": 66}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk1Mjk2NDQwOnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.webcontainer.servlet.4.0_fat/fat/src/com/ibm/ws/fat/wc/FATSuite.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxOToxMToyMVrOHCiQ8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xOFQxOToxMToyMVrOHCiQ8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3MjQyMDU5NQ==", "bodyText": "We should add this above the @server annotation comment since this uses the SHARED_SERVER", "url": "https://github.com/OpenLiberty/open-liberty/pull/13484#discussion_r472420595", "createdAt": "2020-08-18T19:11:21Z", "author": {"login": "pnicolucci"}, "path": "dev/com.ibm.ws.webcontainer.servlet.4.0_fat/fat/src/com/ibm/ws/fat/wc/FATSuite.java", "diffHunk": "@@ -77,14 +78,14 @@\n                 WCApplicationMBeanStatusTest.class,\n                 // @Server Annotations\n                 WCServletContainerInitializerExceptionTest.class,\n-                WCSameSiteCookieAttributeTests.class\n+                WCSameSiteCookieAttributeTests.class,\n+                WC5JakartaServletTest.class", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6c8af0631704b7c1524e31119aebae270708bc09"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2874, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}