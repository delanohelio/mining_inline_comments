{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc1MTE1MjQ0", "number": 10896, "title": "AsyncResponseImpl.initContinuation() throws NPE when Continuation is null", "bodyText": "Throw an IllegalArgumentException in AsyncResponseImpl.initContinuation() instead of an NPE when user includes a servlet or servlet filter that does not support async.\n#10712", "createdAt": "2020-02-13T22:16:42Z", "url": "https://github.com/OpenLiberty/open-liberty/pull/10896", "merged": true, "mergeCommit": {"oid": "118093ab67f3f6e194403f685e3bc90cc58c6e08"}, "closed": true, "closedAt": "2020-02-14T15:40:18Z", "author": {"login": "WhiteCat22"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcECnYKAFqTM1ODU5NTEzOQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcEC6nmgFqTM1ODYwNjQ2Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4NTk1MTM5", "url": "https://github.com/OpenLiberty/open-liberty/pull/10896#pullrequestreview-358595139", "createdAt": "2020-02-13T22:22:36Z", "commit": {"oid": "e60922587b5d377f75b06e5614f59519c8e75629"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMjoyMjozNlrOFplpgA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QyMjoyNDowM1rOFplr2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTE1Mjc2OA==", "bodyText": "The message text seems a little harsh.  Maybe something like:\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        throw new IllegalArgumentException(\"All servlets and servlet filters must support async!\");\n          \n          \n            \n                        throw new IllegalArgumentException(\"Continuation not supported. Please ensure that all servlets and servlet filters must support async operations\");", "url": "https://github.com/OpenLiberty/open-liberty/pull/10896#discussion_r379152768", "createdAt": "2020-02-13T22:22:36Z", "author": {"login": "andymc12"}, "path": "dev/com.ibm.ws.jaxrs.2.0.common/src/org/apache/cxf/jaxrs/impl/AsyncResponseImpl.java", "diffHunk": "@@ -354,7 +354,11 @@ public synchronized void handleTimeout() {\n     private void initContinuation() {\n         ContinuationProvider provider =\n             (ContinuationProvider)inMessage.get(ContinuationProvider.class.getName());\n-        cont = provider.getContinuation();\n+        if (provider != null) {\n+            cont = provider.getContinuation();\n+        } else {\n+            throw new IllegalArgumentException(\"All servlets and servlet filters must support async!\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e60922587b5d377f75b06e5614f59519c8e75629"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3OTE1MzM2OA==", "bodyText": "same as above.  Also, not a huge deal, but you can save a line of code by doing:\nif (provider == null) {\n    throw new IllegalArgumentException(\"Continuation not supported. Please ensure that all servlets and servlet filters must support async operations\");\n}\ncont = provider.getContinuation();", "url": "https://github.com/OpenLiberty/open-liberty/pull/10896#discussion_r379153368", "createdAt": "2020-02-13T22:24:03Z", "author": {"login": "andymc12"}, "path": "dev/com.ibm.ws.org.apache.cxf.cxf.rt.frontend.jaxrs.3.2/src/org/apache/cxf/jaxrs/impl/AsyncResponseImpl.java", "diffHunk": "@@ -348,7 +348,11 @@ public synchronized void handleTimeout() {\n     private void initContinuation() {\n         ContinuationProvider provider =\n             (ContinuationProvider)inMessage.get(ContinuationProvider.class.getName());\n-        cont = provider.getContinuation();\n+        if (provider != null) {\n+            cont = provider.getContinuation();\n+        } else {\n+            throw new IllegalArgumentException(\"All servlets and servlet filters must support async!\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e60922587b5d377f75b06e5614f59519c8e75629"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "eca574e75b747c364332a64ae8835112312df087", "author": {"user": {"login": "WhiteCat22", "name": "Adam Anderson"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/eca574e75b747c364332a64ae8835112312df087", "committedDate": "2020-02-13T22:30:38Z", "message": "jaxrs - throw an IllegalArgumentException in AsyncResponseImpl.initContinuation() instead of an NPE when user includes a servlet or servlet filter that does not support async"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e60922587b5d377f75b06e5614f59519c8e75629", "author": {"user": {"login": "WhiteCat22", "name": "Adam Anderson"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/e60922587b5d377f75b06e5614f59519c8e75629", "committedDate": "2020-02-13T22:13:50Z", "message": "jaxrs - throw an IllegalArgumentException in AsyncResponseImpl.initContinuation() instead of an NPE when user includes a servlet or servlet filter that does not support async"}, "afterCommit": {"oid": "eca574e75b747c364332a64ae8835112312df087", "author": {"user": {"login": "WhiteCat22", "name": "Adam Anderson"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/eca574e75b747c364332a64ae8835112312df087", "committedDate": "2020-02-13T22:30:38Z", "message": "jaxrs - throw an IllegalArgumentException in AsyncResponseImpl.initContinuation() instead of an NPE when user includes a servlet or servlet filter that does not support async"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU4NjA2NDYy", "url": "https://github.com/OpenLiberty/open-liberty/pull/10896#pullrequestreview-358606462", "createdAt": "2020-02-13T22:45:37Z", "commit": {"oid": "eca574e75b747c364332a64ae8835112312df087"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3246, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}