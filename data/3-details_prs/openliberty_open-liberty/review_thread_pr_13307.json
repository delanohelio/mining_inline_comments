{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDYyOTc3NzE2", "number": 13307, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMDoxMjowMlrOEVJtSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMDoxNjowM1rOEVJyfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNjE0NjAzOnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.com.unboundid/src/com/ibm/ws/com/unboundid/InMemorySunLDAPServer.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMDoxMjowM1rOG7v1IQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMDoxMjowM1rOG7v1IQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTMwMjgxNw==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * An in memory UnboundID LDAP server designed to contain the same data as the Tivoli Directory Server instance of the ApacheDS stand-alone LDAP Servers.\n          \n          \n            \n             * An in memory UnboundID LDAP server designed to contain the same data as the Sun One instance of the ApacheDS stand-alone LDAP Servers.", "url": "https://github.com/OpenLiberty/open-liberty/pull/13307#discussion_r465302817", "createdAt": "2020-08-04T20:12:03Z", "author": {"login": "jvanhill"}, "path": "dev/com.ibm.ws.com.unboundid/src/com/ibm/ws/com/unboundid/InMemorySunLDAPServer.java", "diffHunk": "@@ -0,0 +1,42 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n+ *******************************************************************************/\n+\n+package com.ibm.ws.com.unboundid;\n+\n+import com.ibm.websphere.simplicity.log.Log;\n+\n+/**\n+ * An in memory UnboundID LDAP server designed to contain the same data as the Tivoli Directory Server instance of the ApacheDS stand-alone LDAP Servers.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7a3a9d2087c1d09ba797076ec6cd4d4e33d1135"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNjE0NzI1OnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.com.unboundid/src/com/ibm/ws/com/unboundid/InMemorySunLDAPServer.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMDoxMjozMFrOG7v14A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMDoxMjozMFrOG7v14A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTMwMzAwOA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             * This InMemoryTDSLDAPServer is currently using a null schema to host the data, this could be replaced in the future with a robust TDS schema design\n          \n          \n            \n             * This InMemoryLDAPServer is currently using a null schema to host the data, this could be replaced in the future with a robust schema design", "url": "https://github.com/OpenLiberty/open-liberty/pull/13307#discussion_r465303008", "createdAt": "2020-08-04T20:12:30Z", "author": {"login": "jvanhill"}, "path": "dev/com.ibm.ws.com.unboundid/src/com/ibm/ws/com/unboundid/InMemorySunLDAPServer.java", "diffHunk": "@@ -0,0 +1,42 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n+ *******************************************************************************/\n+\n+package com.ibm.ws.com.unboundid;\n+\n+import com.ibm.websphere.simplicity.log.Log;\n+\n+/**\n+ * An in memory UnboundID LDAP server designed to contain the same data as the Tivoli Directory Server instance of the ApacheDS stand-alone LDAP Servers.\n+ *\n+ * This InMemoryTDSLDAPServer is currently using a null schema to host the data, this could be replaced in the future with a robust TDS schema design", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7a3a9d2087c1d09ba797076ec6cd4d4e33d1135"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNjE0ODk1OnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.com.unboundid/src/com/ibm/ws/com/unboundid/InMemorySunLDAPServer.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMDoxMjo1NlrOG7v22w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMDoxMjo1NlrOG7v22w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTMwMzI1OQ==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                     * Load the TDS data LDIF. This contains users and groups that were originally\n          \n          \n            \n                     * Load the Sun One data LDIF. This contains users and groups that were originally", "url": "https://github.com/OpenLiberty/open-liberty/pull/13307#discussion_r465303259", "createdAt": "2020-08-04T20:12:56Z", "author": {"login": "jvanhill"}, "path": "dev/com.ibm.ws.com.unboundid/src/com/ibm/ws/com/unboundid/InMemorySunLDAPServer.java", "diffHunk": "@@ -0,0 +1,42 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n+ *******************************************************************************/\n+\n+package com.ibm.ws.com.unboundid;\n+\n+import com.ibm.websphere.simplicity.log.Log;\n+\n+/**\n+ * An in memory UnboundID LDAP server designed to contain the same data as the Tivoli Directory Server instance of the ApacheDS stand-alone LDAP Servers.\n+ *\n+ * This InMemoryTDSLDAPServer is currently using a null schema to host the data, this could be replaced in the future with a robust TDS schema design\n+ */\n+public class InMemorySunLDAPServer extends InMemoryLDAPServer {\n+    protected static final Class<?> c = InMemorySunLDAPServer.class;\n+    public static final String BASE_DN = \"dc=rtp,dc=raleigh,dc=ibm,dc=com\";\n+\n+    /**\n+     * Creates a new instance of the in memory LDAP server. It initializes the directory\n+     * service.\n+     *\n+     * @throws Exception If something went wrong\n+     */\n+    public InMemorySunLDAPServer() throws Exception {\n+        super(false, BASE_DN);\n+\n+        /*\n+         * Load the TDS data LDIF. This contains users and groups that were originally", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7a3a9d2087c1d09ba797076ec6cd4d4e33d1135"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNjE1Mzc0OnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.security.wim.adapter.ldap_fat/fat/src/com/ibm/ws/security/wim/adapter/ldap/fat/URAPIs_SUNLDAP_SSLTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMDoxNDoyM1rOG7v52A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMDoxNDoyM1rOG7v52A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTMwNDAyNA==", "bodyText": "White space between lines.", "url": "https://github.com/OpenLiberty/open-liberty/pull/13307#discussion_r465304024", "createdAt": "2020-08-04T20:14:23Z", "author": {"login": "jvanhill"}, "path": "dev/com.ibm.ws.security.wim.adapter.ldap_fat/fat/src/com/ibm/ws/security/wim/adapter/ldap/fat/URAPIs_SUNLDAP_SSLTest.java", "diffHunk": "@@ -50,6 +53,7 @@\n     /** Test rule for testing for expected exceptions. */\n     @Rule\n     public ExpectedException expectedException = ExpectedException.none();\n+    private static InMemorySunLDAPServer ldapServer;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7a3a9d2087c1d09ba797076ec6cd4d4e33d1135"}, "originalPosition": 15}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNjE1NjQwOnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.security.wim.adapter.ldap_fat/fat/src/com/ibm/ws/security/wim/adapter/ldap/fat/URAPIs_SUNLDAP_SSLTest.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMDoxNTowNlrOG7v7YA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMDoxNTowNlrOG7v7YA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTMwNDQxNg==", "bodyText": "Don't need to add LDAP variables if using the in memory.", "url": "https://github.com/OpenLiberty/open-liberty/pull/13307#discussion_r465304416", "createdAt": "2020-08-04T20:15:06Z", "author": {"login": "jvanhill"}, "path": "dev/com.ibm.ws.security.wim.adapter.ldap_fat/fat/src/com/ibm/ws/security/wim/adapter/ldap/fat/URAPIs_SUNLDAP_SSLTest.java", "diffHunk": "@@ -59,11 +63,38 @@\n      */\n     @BeforeClass\n     public static void setUp() throws Exception {\n-        // Add LDAP variables to bootstrap properties file\n+        setupLdapServer();\n+        setupLibertyServer();\n+    }\n+\n+    /**\n+     * Setup the Liberty server. This server will start with very basic configuration. The tests\n+     * will configure the server dynamically.\n+     *\n+     * @throws Exception If there was an issue setting up the Liberty server.\n+     */\n+    public static void setupLibertyServer() throws Exception {\n+        /*\n+         * Add LDAP variables to bootstrap properties file\n+         */\n         LDAPUtils.addLDAPVariables(server);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7a3a9d2087c1d09ba797076ec6cd4d4e33d1135"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjkwNjE1OTM0OnYy", "diffSide": "LEFT", "path": "dev/com.ibm.ws.com.unboundid/resources/SunOne.ldif", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMDoxNjowM1rOG7v9RA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wNFQyMDoxNjowM1rOG7v9RA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2NTMwNDkwMA==", "bodyText": "Did this need to be decoded? Probably doesn't really matter since it is easier to read this way.", "url": "https://github.com/OpenLiberty/open-liberty/pull/13307#discussion_r465304900", "createdAt": "2020-08-04T20:16:03Z", "author": {"login": "jvanhill"}, "path": "dev/com.ibm.ws.com.unboundid/resources/SunOne.ldif", "diffHunk": "@@ -30,19 +40,9 @@ objectClass: inetOrgPerson\n objectClass: person\n objectClass: top\n title: Test Persona\n-userPassword:: e1NIQX1QMVlCMmhUK0lpbk8vMjlZaUltcFpKaGVwWUE9", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f7a3a9d2087c1d09ba797076ec6cd4d4e33d1135"}, "originalPosition": 21}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2918, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}