{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMxMTc0NTA2", "number": 15160, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxODozMzoyMFrOE_wVfw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxNDo1MTozM1rOFB0X-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1Mjg3Njc5OnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.app.manager/src/com/ibm/ws/app/manager/ApplicationManager.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxODozMzoyMFrOH9ot6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxODozMzoyMFrOH9ot6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDM5MjI5OA==", "bodyText": "The target directory needs to be set in 'modified()' too.. Given that this method is already calling modified it's probably best to move most of the activate method into the modified method", "url": "https://github.com/OpenLiberty/open-liberty/pull/15160#discussion_r534392298", "createdAt": "2020-12-02T18:33:20Z", "author": {"login": "brenthdaniel"}, "path": "dev/com.ibm.ws.app.manager/src/com/ibm/ws/app/manager/ApplicationManager.java", "diffHunk": "@@ -113,6 +114,9 @@ protected void modified(ComponentContext compcontext, Map<String, Object> proper\n         setStopTimeout(stopTimeoutValue);\n         ApplicationStateCoordinator.setApplicationStartTimeout(startTimeoutValue);\n         ApplicationStateCoordinator.setApplicationStopTimeout(stopTimeoutValue);\n+\n+        String targetExpandDir = (String) properties.get(\"targetDir\");\n+        setTargetDir(targetExpandDir);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da6337e5044a3c136b7c2b9ee10798304d9b89a4"}, "originalPosition": 28}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1Mjg4MjUyOnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.app.manager/resources/OSGI-INF/metatype/metatype.xml", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQxODozNDo0M1rOH9oxZg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNTo0MToyNFrOH-i4IA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDM5MzE5MA==", "bodyText": "Use a default value here (equal to the current constant that we use for the expanded apps dir) so that you can get rid of all the null checking", "url": "https://github.com/OpenLiberty/open-liberty/pull/15160#discussion_r534393190", "createdAt": "2020-12-02T18:34:43Z", "author": {"login": "brenthdaniel"}, "path": "dev/com.ibm.ws.app.manager/resources/OSGI-INF/metatype/metatype.xml", "diffHunk": "@@ -48,6 +48,7 @@\n \t\t<AD id=\"useJandex\" name=\"%appmgmt.useJandex\" description=\"%appmgmt.useJandex.desc\" required=\"false\" type=\"Boolean\"/>\n \t\t<AD id=\"startTimeout\" name=\"%appmgmt.startTimeout\" description=\"%appmgmt.startTimeout.desc\" required=\"false\" type=\"String\" default=\"30s\" ibm:type=\"duration(s)\" />\n \t\t<AD id=\"stopTimeout\" name=\"%appmgmt.stopTimeout\" description=\"%appmgmt.stopTimeout.desc\" required=\"false\" type=\"String\" default=\"30s\" ibm:type=\"duration(s)\" />\n+\t\t<AD id=\"targetDir\" name=\"%appmgmt.targetDir\" description=\"%appmgmt.targetDir.desc\" required=\"false\" type=\"String\" />", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "da6337e5044a3c136b7c2b9ee10798304d9b89a4"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM0NTE4NA==", "bodyText": "Added this as default=\"${server.config.dir}/apps/expanded/\"", "url": "https://github.com/OpenLiberty/open-liberty/pull/15160#discussion_r535345184", "createdAt": "2020-12-03T15:41:24Z", "author": {"login": "hlhoots"}, "path": "dev/com.ibm.ws.app.manager/resources/OSGI-INF/metatype/metatype.xml", "diffHunk": "@@ -48,6 +48,7 @@\n \t\t<AD id=\"useJandex\" name=\"%appmgmt.useJandex\" description=\"%appmgmt.useJandex.desc\" required=\"false\" type=\"Boolean\"/>\n \t\t<AD id=\"startTimeout\" name=\"%appmgmt.startTimeout\" description=\"%appmgmt.startTimeout.desc\" required=\"false\" type=\"String\" default=\"30s\" ibm:type=\"duration(s)\" />\n \t\t<AD id=\"stopTimeout\" name=\"%appmgmt.stopTimeout\" description=\"%appmgmt.stopTimeout.desc\" required=\"false\" type=\"String\" default=\"30s\" ibm:type=\"duration(s)\" />\n+\t\t<AD id=\"targetDir\" name=\"%appmgmt.targetDir\" description=\"%appmgmt.targetDir.desc\" required=\"false\" type=\"String\" />", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDM5MzE5MA=="}, "originalCommit": {"oid": "da6337e5044a3c136b7c2b9ee10798304d9b89a4"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM1OTA0ODA5OnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.app.manager/resources/OSGI-INF/l10n/metatype.properties", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wM1QxNjozMTo1MFrOH-lf9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxODoxNjowNFrOH_caqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM4ODE0OA==", "bodyText": "Change,\n\"Allows the user to set the location where the autoExpanded application resides. The default location is ${server.config.dir}/apps/expanded/.\"\nto,\n\"The targetDir attribute allows a user to set the location where the autoExpanded application is located. The default location is ${server.config.dir}/apps/expanded/.\"", "url": "https://github.com/OpenLiberty/open-liberty/pull/15160#discussion_r535388148", "createdAt": "2020-12-03T16:31:50Z", "author": {"login": "ManasiGandhi"}, "path": "dev/com.ibm.ws.app.manager/resources/OSGI-INF/l10n/metatype.properties", "diffHunk": "@@ -81,3 +81,6 @@ appmgmt.startAfter.desc=Specifies applications that are required to start before\n \n classloader.name=Classloader\n classloader.desc=Defines the settings for an application classloader.\n+\n+appmgmt.targetDir=Target Expansion Directory\n+appmgmt.targetDir.desc=Allows the user to set the location where the autoExpanded application resides. The default location is ${server.config.dir}/apps/expanded/.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "daa34f58ec121c9361dc40c3d92b666f63839100"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNjI4NzkxMg==", "bodyText": "done.", "url": "https://github.com/OpenLiberty/open-liberty/pull/15160#discussion_r536287912", "createdAt": "2020-12-04T18:16:04Z", "author": {"login": "hlhoots"}, "path": "dev/com.ibm.ws.app.manager/resources/OSGI-INF/l10n/metatype.properties", "diffHunk": "@@ -81,3 +81,6 @@ appmgmt.startAfter.desc=Specifies applications that are required to start before\n \n classloader.name=Classloader\n classloader.desc=Defines the settings for an application classloader.\n+\n+appmgmt.targetDir=Target Expansion Directory\n+appmgmt.targetDir.desc=Allows the user to set the location where the autoExpanded application resides. The default location is ${server.config.dir}/apps/expanded/.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTM4ODE0OA=="}, "originalCommit": {"oid": "daa34f58ec121c9361dc40c3d92b666f63839100"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzM3NDUxMDAwOnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.app.manager/resources/OSGI-INF/l10n/metatype.properties", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxNDo1MTozM1rOIAqfEg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wN1QxNDo1MTozM1rOIAqfEg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNzU2Njk5NA==", "bodyText": "Replace \"allows\" with \"enables\" [\"allows\" confers permission and permission isn't needed here]", "url": "https://github.com/OpenLiberty/open-liberty/pull/15160#discussion_r537566994", "createdAt": "2020-12-07T14:51:33Z", "author": {"login": "helyarp"}, "path": "dev/com.ibm.ws.app.manager/resources/OSGI-INF/l10n/metatype.properties", "diffHunk": "@@ -81,3 +81,6 @@ appmgmt.startAfter.desc=Specifies applications that are required to start before\n \n classloader.name=Classloader\n classloader.desc=Defines the settings for an application classloader.\n+\n+appmgmt.targetDir=Target expansion directory\n+appmgmt.targetDir.desc=The targetDir attribute allows a user to set the location where the autoExpanded application is located. The default location is ${server.config.dir}/apps/expanded/.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "080270b276858dde983a47d30e1a43d1859fe034"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2393, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}