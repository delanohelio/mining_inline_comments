{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAxNjg4OTk2", "number": 11728, "title": "Issue 11186: Issue warning if the notBefore on the cert is in the future", "bodyText": "Fixes #11186\nAdded a new message and check for a future notBefore date on the cert from the CA.\nI manually tested this one to force the warning message to occur.\nFor #9017", "createdAt": "2020-04-09T23:19:55Z", "url": "https://github.com/OpenLiberty/open-liberty/pull/11728", "merged": true, "mergeCommit": {"oid": "e4fac035f7b47befc73e548975df26350ecad662"}, "closed": true, "closedAt": "2020-04-21T18:23:40Z", "author": {"login": "kristip17"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcWXuR9gBqjMyMjMwOTg5Mzg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcZkrOVgFqTM5Njc2NzgwNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d0852df519d3893c2476eac57071ff88a399aede", "author": {"user": {"login": "kristip17", "name": "Kristi Peterson"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/d0852df519d3893c2476eac57071ff88a399aede", "committedDate": "2020-04-09T23:17:49Z", "message": "Issue 11186: Issue warning if the notBefore on the cert is in the future"}, "afterCommit": {"oid": "9842280dedb46ac8c44ff8b62ac8c0301e35aa12", "author": {"user": {"login": "kristip17", "name": "Kristi Peterson"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/9842280dedb46ac8c44ff8b62ac8c0301e35aa12", "committedDate": "2020-04-10T21:10:29Z", "message": "Issue 11186: Issue warning if the notBefore on the cert is in the future"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkxNjcwNDYx", "url": "https://github.com/OpenLiberty/open-liberty/pull/11728#pullrequestreview-391670461", "createdAt": "2020-04-10T21:23:00Z", "commit": {"oid": "9842280dedb46ac8c44ff8b62ac8c0301e35aa12"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzkyMTQ2OTk4", "url": "https://github.com/OpenLiberty/open-liberty/pull/11728#pullrequestreview-392146998", "createdAt": "2020-04-13T13:35:27Z", "commit": {"oid": "9842280dedb46ac8c44ff8b62ac8c0301e35aa12"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxMzozNToyN1rOGEmqMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xM1QxMzozNToyN1rOGEmqMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNzQ4MDg4MQ==", "bodyText": "Change,\n\"The valid date on the certificate is in the future. SSL/TLS requests will fail until the date and time matches the start of the valid period on the certificate.\"\nto,\n\"The valid date on the certificate is in the future. SSL/TLS requests fail until the date and time matches the start of the valid period on the certificate.\"", "url": "https://github.com/OpenLiberty/open-liberty/pull/11728#discussion_r407480881", "createdAt": "2020-04-13T13:35:27Z", "author": {"login": "ManasiGandhi"}, "path": "dev/com.ibm.ws.security.acme/resources/com/ibm/ws/security/acme/resources/AcmeMessages.nlsprops", "diffHunk": "@@ -201,3 +201,8 @@ CWPKI2043E.useraction=Ensure the the domain included in the value is a valid RDN\n CWPKI2044E=CWPKI2044E: The certificate is not an X.509 certificate. The certificate type is {0}.\n CWPKI2044E.explanation=The ACME service expects all certificates in the certificate chain to be X.509 certificates.\n CWPKI2044E.useraction=Ensure that all the certificates in the certificate chain are X.509 certificates and try again.\n+\n+# {2} is a time stamp\n+CWPKI2045W=CWPKI2045W: The certificate with {0} serial number that is signed by the ACME certificate authority at the {1} URI is not valid until {2}.\n+CWPKI2045W.explanation=The valid date on the certificate is in the future. SSL/TLS requests will fail until the date and time matches the start of the valid period on the certificate.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9842280dedb46ac8c44ff8b62ac8c0301e35aa12"}, "originalPosition": 16}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9842280dedb46ac8c44ff8b62ac8c0301e35aa12", "author": {"user": {"login": "kristip17", "name": "Kristi Peterson"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/9842280dedb46ac8c44ff8b62ac8c0301e35aa12", "committedDate": "2020-04-10T21:10:29Z", "message": "Issue 11186: Issue warning if the notBefore on the cert is in the future"}, "afterCommit": {"oid": "537f92d66c9a4f55f8966e65644bf8f9563800bf", "author": {"user": {"login": "kristip17", "name": "Kristi Peterson"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/537f92d66c9a4f55f8966e65644bf8f9563800bf", "committedDate": "2020-04-14T12:40:20Z", "message": "Issue 11186: Issue warning if the notBefore on the cert is in the future"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NzI5NDA1", "url": "https://github.com/OpenLiberty/open-liberty/pull/11728#pullrequestreview-396729405", "createdAt": "2020-04-20T19:00:28Z", "commit": {"oid": "537f92d66c9a4f55f8966e65644bf8f9563800bf"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxOTowMDoyOFrOGIjI_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMFQxOTowMjowOVrOGIjMoA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYxNzUzMg==", "bodyText": "SSL/TLS requests fail until the date and time matches the start of the valid period on the certificate.\nWhich date and time? the current date and time? its not clear as currently written", "url": "https://github.com/OpenLiberty/open-liberty/pull/11728#discussion_r411617532", "createdAt": "2020-04-20T19:00:28Z", "author": {"login": "dmuelle"}, "path": "dev/com.ibm.ws.security.acme/resources/com/ibm/ws/security/acme/resources/AcmeMessages.nlsprops", "diffHunk": "@@ -201,3 +201,8 @@ CWPKI2043E.useraction=Ensure the the domain included in the value is a valid RDN\n CWPKI2044E=CWPKI2044E: The certificate is not an X.509 certificate. The certificate type is {0}.\n CWPKI2044E.explanation=The ACME service expects all certificates in the certificate chain to be X.509 certificates.\n CWPKI2044E.useraction=Ensure that all the certificates in the certificate chain are X.509 certificates and try again.\n+\n+# {2} is a time stamp\n+CWPKI2045W=CWPKI2045W: The certificate with {0} serial number that is signed by the ACME certificate authority at the {1} URI is not valid until {2}.\n+CWPKI2045W.explanation=The valid date on the certificate is in the future. SSL/TLS requests fail until the date and time matches the start of the valid period on the certificate.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "537f92d66c9a4f55f8966e65644bf8f9563800bf"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTYxODQ2NA==", "bodyText": "change\nThe ACME service installed a certificate with {0} serial number\nto\nThe ACME service installed a certificate with the {0} serial number", "url": "https://github.com/OpenLiberty/open-liberty/pull/11728#discussion_r411618464", "createdAt": "2020-04-20T19:02:09Z", "author": {"login": "dmuelle"}, "path": "dev/com.ibm.ws.security.acme/resources/com/ibm/ws/security/acme/resources/AcmeMessages.nlsprops", "diffHunk": "@@ -50,7 +50,7 @@ CWPKI2006I=CWPKI2006I: The ACME certificate authority at the {0} URI provided th\n CWPKI2006I.explanation=The certificate authority provides terms of service.\n CWPKI2006I.useraction=Review the provided terms of service.\n \n-CWPKI2007I=CWPKI2007I: The ACME service installed a certificate with a {0} serial number that is signed by the ACME certificate authority at the {1} URI. The expiration date is {2}.\n+CWPKI2007I=CWPKI2007I: The ACME service installed a certificate with {0} serial number that is signed by the ACME certificate authority at the {1} URI. The expiration date is {2}.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "537f92d66c9a4f55f8966e65644bf8f9563800bf"}, "originalPosition": 5}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "537f92d66c9a4f55f8966e65644bf8f9563800bf", "author": {"user": {"login": "kristip17", "name": "Kristi Peterson"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/537f92d66c9a4f55f8966e65644bf8f9563800bf", "committedDate": "2020-04-14T12:40:20Z", "message": "Issue 11186: Issue warning if the notBefore on the cert is in the future"}, "afterCommit": {"oid": "ed45e4e2b9f8143bf39adfefe5ed753dae86385c", "author": {"user": {"login": "kristip17", "name": "Kristi Peterson"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/ed45e4e2b9f8143bf39adfefe5ed753dae86385c", "committedDate": "2020-04-20T19:26:23Z", "message": "Issue 11186: Issue warning if the notBefore on the cert is in the future"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ed45e4e2b9f8143bf39adfefe5ed753dae86385c", "author": {"user": {"login": "kristip17", "name": "Kristi Peterson"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/ed45e4e2b9f8143bf39adfefe5ed753dae86385c", "committedDate": "2020-04-20T19:26:23Z", "message": "Issue 11186: Issue warning if the notBefore on the cert is in the future"}, "afterCommit": {"oid": "f36cddea0fe52edb2b8268dab6ae2ed244c79b59", "author": {"user": {"login": "kristip17", "name": "Kristi Peterson"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/f36cddea0fe52edb2b8268dab6ae2ed244c79b59", "committedDate": "2020-04-20T19:28:44Z", "message": "Issue 11186: Issue warning if the notBefore on the cert is in the future"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6a055e19755b53fac06221694f7c33d0169df005", "author": {"user": {"login": "kristip17", "name": "Kristi Peterson"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/6a055e19755b53fac06221694f7c33d0169df005", "committedDate": "2020-04-20T19:51:22Z", "message": "Issue 11186: Issue warning if the notBefore on the cert is in the future"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f36cddea0fe52edb2b8268dab6ae2ed244c79b59", "author": {"user": {"login": "kristip17", "name": "Kristi Peterson"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/f36cddea0fe52edb2b8268dab6ae2ed244c79b59", "committedDate": "2020-04-20T19:28:44Z", "message": "Issue 11186: Issue warning if the notBefore on the cert is in the future"}, "afterCommit": {"oid": "6a055e19755b53fac06221694f7c33d0169df005", "author": {"user": {"login": "kristip17", "name": "Kristi Peterson"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/6a055e19755b53fac06221694f7c33d0169df005", "committedDate": "2020-04-20T19:51:22Z", "message": "Issue 11186: Issue warning if the notBefore on the cert is in the future"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk2NzY3ODA0", "url": "https://github.com/OpenLiberty/open-liberty/pull/11728#pullrequestreview-396767804", "createdAt": "2020-04-20T19:57:59Z", "commit": {"oid": "6a055e19755b53fac06221694f7c33d0169df005"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2785, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}