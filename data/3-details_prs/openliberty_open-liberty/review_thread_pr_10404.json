{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYyMzI2MjIx", "number": 10404, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQxOTo1NDoxOFrODX-EyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQwMTo1Nzo0NlrODYCyYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI2NDYwODcyOnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.jdbc_fat/test-applications/basicfat/src/basicfat/DataSourceTestServlet.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNFQxOTo1NDoxOFrOFdj7JQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQxNjoyNzoxMVrOFd-Xqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjU0MTYwNQ==", "bodyText": "Why the switch to ds2?", "url": "https://github.com/OpenLiberty/open-liberty/pull/10404#discussion_r366541605", "createdAt": "2020-01-14T19:54:18Z", "author": {"login": "gjwatts"}, "path": "dev/com.ibm.ws.jdbc_fat/test-applications/basicfat/src/basicfat/DataSourceTestServlet.java", "diffHunk": "@@ -634,7 +634,7 @@ public void testConfigChangeLoginTimeout320() throws Throwable {\n \n         int loginTimeout;\n         try {\n-            loginTimeout = ds1.getLoginTimeout();\n+            loginTimeout = ds2.getLoginTimeout();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccc99b7e01f08cb2a7c3c133cc34b98033433dc5"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjkyMzY1Nw==", "bodyText": "ds1 is a java.sql.DataSource type.  Not all database drivers support a loginTimeout property when using that type of DataSource.  Therefore, I switched to use ds2 which is a javax.sql.XADataSource type which should support loginTimeout on all database drivers.", "url": "https://github.com/OpenLiberty/open-liberty/pull/10404#discussion_r366923657", "createdAt": "2020-01-15T15:02:08Z", "author": {"login": "KyleAure"}, "path": "dev/com.ibm.ws.jdbc_fat/test-applications/basicfat/src/basicfat/DataSourceTestServlet.java", "diffHunk": "@@ -634,7 +634,7 @@ public void testConfigChangeLoginTimeout320() throws Throwable {\n \n         int loginTimeout;\n         try {\n-            loginTimeout = ds1.getLoginTimeout();\n+            loginTimeout = ds2.getLoginTimeout();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjU0MTYwNQ=="}, "originalCommit": {"oid": "ccc99b7e01f08cb2a7c3c133cc34b98033433dc5"}, "originalPosition": 14}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2Njk3NDg5MQ==", "bodyText": "Thanks!", "url": "https://github.com/OpenLiberty/open-liberty/pull/10404#discussion_r366974891", "createdAt": "2020-01-15T16:27:11Z", "author": {"login": "gjwatts"}, "path": "dev/com.ibm.ws.jdbc_fat/test-applications/basicfat/src/basicfat/DataSourceTestServlet.java", "diffHunk": "@@ -634,7 +634,7 @@ public void testConfigChangeLoginTimeout320() throws Throwable {\n \n         int loginTimeout;\n         try {\n-            loginTimeout = ds1.getLoginTimeout();\n+            loginTimeout = ds2.getLoginTimeout();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjU0MTYwNQ=="}, "originalCommit": {"oid": "ccc99b7e01f08cb2a7c3c133cc34b98033433dc5"}, "originalPosition": 14}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI2NTM4MDgyOnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.jdbc_fat/fat/src/com/ibm/ws/jdbc/fat/tests/ConfigTest.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQwMTo1Nzo0NlrOFdrYLQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0xNVQxNTowNDowOFrOFd7T2Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjY2MzcyNQ==", "bodyText": "What was behind the decision to the switch from runInServlet to runTestWithResponse?  Were you just wanting to eliminate redundant testing methods?", "url": "https://github.com/OpenLiberty/open-liberty/pull/10404#discussion_r366663725", "createdAt": "2020-01-15T01:57:46Z", "author": {"login": "gjwatts"}, "path": "dev/com.ibm.ws.jdbc_fat/fat/src/com/ibm/ws/jdbc/fat/tests/ConfigTest.java", "diffHunk": "@@ -294,7 +247,7 @@ public void testConfigChangeAuthData() throws Throwable {\n         String originalUserName = testContainer.getUsername();\n \n         // First check that authData matches with what was provided by the TestContainer\n-        runInServlet(basicfat, \"DataSourceTestServlet\", \"testConfigChangeAuthDataOriginalValue\", \"originalUsername=\" + originalUserName);\n+        runTestWithResponse(server, basicfat, \"testConfigChangeAuthDataOriginalValue&originalUsername=\" + originalUserName);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ccc99b7e01f08cb2a7c3c133cc34b98033433dc5"}, "originalPosition": 186}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjkyNDc2MQ==", "bodyText": "Yes!  runTestWithResponse was available through the componenttest.topology.utils package.  I hadn't realized that before.", "url": "https://github.com/OpenLiberty/open-liberty/pull/10404#discussion_r366924761", "createdAt": "2020-01-15T15:04:08Z", "author": {"login": "KyleAure"}, "path": "dev/com.ibm.ws.jdbc_fat/fat/src/com/ibm/ws/jdbc/fat/tests/ConfigTest.java", "diffHunk": "@@ -294,7 +247,7 @@ public void testConfigChangeAuthData() throws Throwable {\n         String originalUserName = testContainer.getUsername();\n \n         // First check that authData matches with what was provided by the TestContainer\n-        runInServlet(basicfat, \"DataSourceTestServlet\", \"testConfigChangeAuthDataOriginalValue\", \"originalUsername=\" + originalUserName);\n+        runTestWithResponse(server, basicfat, \"testConfigChangeAuthDataOriginalValue&originalUsername=\" + originalUserName);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NjY2MzcyNQ=="}, "originalCommit": {"oid": "ccc99b7e01f08cb2a7c3c133cc34b98033433dc5"}, "originalPosition": 186}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2218, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}