{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2OTEzNjc0", "number": 12147, "title": "Update Servlet Version & MajorVersion for Servlet-5.0", "bodyText": "Fixes #12021  Transformed servlet specVersion  to 50 using transformer tool.\n\n\nFixes part of #12105   -- Updated webcontainer servlet 4 code to return 5 as the MajorVersion when the spec level is 50.\n\n\nCorrected the testServletContextMajorMinorVersion test during the EE9_FEATURES run.  (Also part of #12105 )", "createdAt": "2020-05-12T19:05:51Z", "url": "https://github.com/OpenLiberty/open-liberty/pull/12147", "merged": true, "mergeCommit": {"oid": "f8c9d5de13b2c435d3d1247ad8e3819b1102d099"}, "closed": true, "closedAt": "2020-05-14T13:37:27Z", "author": {"login": "volosied"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgpF3BAH2gAyNDE2OTEzNjc0OmVjZDNkMzZhYWQ2ODAyOTI3MWUxZTljYmZiODlkM2U4YmRlZDE2NjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcg7oOwABqjMzMzI5NTc3NjA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ecd3d36aad68029271e1e9cbfb89d3e8bded1661", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/ecd3d36aad68029271e1e9cbfb89d3e8bded1661", "committedDate": "2020-05-12T19:04:10Z", "message": "12021: Transform servletVersion to 50 in com.ibm.ws.webcontainer.servlet.4.0.factories"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2adcfa8c50e975ef3480a826e98f139a94e73789", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/2adcfa8c50e975ef3480a826e98f139a94e73789", "committedDate": "2020-05-12T19:04:46Z", "message": "Alphabetize Jarkarta Rename & Version Rules"}, "afterCommit": {"oid": "aa0fe207ff47e88e8cfedc3ccbc682cfef108642", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/aa0fe207ff47e88e8cfedc3ccbc682cfef108642", "committedDate": "2020-05-12T19:18:09Z", "message": "Alphabetize Jarkarta Rename & Version Rules"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8f1f119e3f1f5186470f0e4c6bdfc7280c534ba6", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/8f1f119e3f1f5186470f0e4c6bdfc7280c534ba6", "committedDate": "2020-05-12T20:31:52Z", "message": "Update testServletContextMajorMinorVersion to handle servlet-5.0"}, "afterCommit": {"oid": "6fe2b640f7b871c70e0e37e20036bd9b886902bd", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/6fe2b640f7b871c70e0e37e20036bd9b886902bd", "committedDate": "2020-05-12T20:42:22Z", "message": "Update Servlet 4 FAT testServletContextMajorMinorVersion to handle servlet-5.0 majorVersion"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6fe2b640f7b871c70e0e37e20036bd9b886902bd", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/6fe2b640f7b871c70e0e37e20036bd9b886902bd", "committedDate": "2020-05-12T20:42:22Z", "message": "Update Servlet 4 FAT testServletContextMajorMinorVersion to handle servlet-5.0 majorVersion"}, "afterCommit": {"oid": "1a0f70430674a275033f719b7594e957cf19a027", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/1a0f70430674a275033f719b7594e957cf19a027", "committedDate": "2020-05-12T20:51:43Z", "message": "Update Servlet 4 FAT testServletContextMajorMinorVersion to handle servlet-5.0 majorVersion"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEwNDYzMzE4", "url": "https://github.com/OpenLiberty/open-liberty/pull/12147#pullrequestreview-410463318", "createdAt": "2020-05-12T22:19:35Z", "commit": {"oid": "1a0f70430674a275033f719b7594e957cf19a027"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQyMjoxOTozNlrOGUa-iQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQyMjoyMToyMFrOGUbBHA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDA2NjY5Nw==", "bodyText": "Can we limit this method to one return statement?", "url": "https://github.com/OpenLiberty/open-liberty/pull/12147#discussion_r424066697", "createdAt": "2020-05-12T22:19:36Z", "author": {"login": "pnicolucci"}, "path": "dev/com.ibm.ws.webcontainer.servlet.4.0/src/com/ibm/ws/webcontainer40/osgi/webapp/WebApp40.java", "diffHunk": "@@ -72,6 +73,10 @@ public WebApp40(WebAppConfiguration webAppConfig,\n      */\n     @Override\n     public int getMajorVersion() {\n+        \n+        if(WebContainer.getServletContainerSpecLevel() == WebContainer.SPEC_LEVEL_50){\n+            return 5;\n+        }  ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a0f70430674a275033f719b7594e957cf19a027"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNDA2NzM1Ng==", "bodyText": "Can you explain why we keep the v40 attribute?", "url": "https://github.com/OpenLiberty/open-liberty/pull/12147#discussion_r424067356", "createdAt": "2020-05-12T22:21:20Z", "author": {"login": "pnicolucci"}, "path": "dev/wlp-jakartaee-transform/rules/jakarta-servletVersion.properties", "diffHunk": "@@ -0,0 +1,4 @@\n+# Change version (occurs with all references within the file)\n+40=50\n+# Change name attribute back to original (should not change)\n+com.ibm.ws.webcontainer.v50.dd=com.ibm.ws.webcontainer.v40.dd", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1a0f70430674a275033f719b7594e957cf19a027"}, "originalPosition": 4}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1a0f70430674a275033f719b7594e957cf19a027", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/1a0f70430674a275033f719b7594e957cf19a027", "committedDate": "2020-05-12T20:51:43Z", "message": "Update Servlet 4 FAT testServletContextMajorMinorVersion to handle servlet-5.0 majorVersion"}, "afterCommit": {"oid": "17b6b93b68472dfa137c78b3f47ac07366ace245", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/17b6b93b68472dfa137c78b3f47ac07366ace245", "committedDate": "2020-05-13T15:42:36Z", "message": "Update Servlet 4 FAT testServletContextMajorMinorVersion to handle servlet-5.0 majorVersion"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "17b6b93b68472dfa137c78b3f47ac07366ace245", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/17b6b93b68472dfa137c78b3f47ac07366ace245", "committedDate": "2020-05-13T15:42:36Z", "message": "Update Servlet 4 FAT testServletContextMajorMinorVersion to handle servlet-5.0 majorVersion"}, "afterCommit": {"oid": "906b513dba0baeda84c435151cff2f3593e2ef45", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/906b513dba0baeda84c435151cff2f3593e2ef45", "committedDate": "2020-05-13T16:09:17Z", "message": "Update Servlet 4 FAT testServletContextMajorMinorVersion to handle servlet-5.0 majorVersion"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDExMDk4MDI5", "url": "https://github.com/OpenLiberty/open-liberty/pull/12147#pullrequestreview-411098029", "createdAt": "2020-05-13T16:28:42Z", "commit": {"oid": "906b513dba0baeda84c435151cff2f3593e2ef45"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3753f3f32391818becc3a8c271fcd6ba55ef13a3", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/3753f3f32391818becc3a8c271fcd6ba55ef13a3", "committedDate": "2020-05-13T16:39:53Z", "message": "Return correct MajorVersion in servlet-5.0"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1fabab8a682b047afcf07574e51ec3894ee312c7", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/1fabab8a682b047afcf07574e51ec3894ee312c7", "committedDate": "2020-05-13T16:39:53Z", "message": "Update Servlet 4 FAT testServletContextMajorMinorVersion to handle servlet-5.0 majorVersion"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "906b513dba0baeda84c435151cff2f3593e2ef45", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/906b513dba0baeda84c435151cff2f3593e2ef45", "committedDate": "2020-05-13T16:09:17Z", "message": "Update Servlet 4 FAT testServletContextMajorMinorVersion to handle servlet-5.0 majorVersion"}, "afterCommit": {"oid": "1fabab8a682b047afcf07574e51ec3894ee312c7", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/1fabab8a682b047afcf07574e51ec3894ee312c7", "committedDate": "2020-05-13T16:39:53Z", "message": "Update Servlet 4 FAT testServletContextMajorMinorVersion to handle servlet-5.0 majorVersion"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2605, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}