{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDM5MzkwMTA1", "number": 12772, "title": "Fix SimpleTag and JSPFragment transformations, Add Constant String Tr\u2026", "bodyText": "fixes #12623\nfixes #12622\nThere appears to be a bug in the transformer, so instead, I updated the JSP strings to print everything on separate lines.\n\n        if (attrInfos[j].isFragment()) {\n          this.writer.print(\u201cjakarta.servlet.jsp.tagext.JspFragment \u201c);  <--------------- CHANGED\n        } else {\n          this.writer.print(GeneratorUtils.toJavaSourceType(attrInfos[j].getTypeName()));\n          this.writer.print(\u201c \u201c);\n        } \n        this.writer.print(GeneratorUtils.toGetterMethod(attrInfos[j].getName()));\n        this.writer.print(\u201c {\u201c);\n        this.writer.println();\n        this.writer.print(\u201creturn this.\u201d);\n        this.writer.print(attrInfos[j].getName());\n        this.writer.print(\u201c;\u201d);\n        this.writer.println();\n        this.writer.println(\u201c}\u201d);\n        this.writer.println();\n        this.writer.print(\u201cpublic void \u201c);\n        this.writer.print(GeneratorUtils.toSetterMethodName(attrInfos[j].getName()));\n        if (attrInfos[j].isFragment()) {\n          this.writer.print(\u201c(javax.servlet.jsp.tagext.JspFragment \u201c); <----------------- NOT CHANGED \n        } else {\n\nAdditionally, I updated the Constants to use jakarta.", "createdAt": "2020-06-24T18:45:18Z", "url": "https://github.com/OpenLiberty/open-liberty/pull/12772", "merged": true, "mergeCommit": {"oid": "fba9cdafa074ae9b0520919465a0bf20065af599"}, "closed": true, "closedAt": "2020-06-25T16:57:50Z", "author": {"login": "volosied"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcuewsMABqjM0Nzg4NzQzMTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcuvZrXgFqTQzNzU0MjYwOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0b23d2ffa3dc265dadeae67e8345bbfe053da3de", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/0b23d2ffa3dc265dadeae67e8345bbfe053da3de", "committedDate": "2020-06-24T18:39:34Z", "message": "Fix SimpleTag and JSPFragment transformations, Add Constant String Transformations"}, "afterCommit": {"oid": "ffcaa6f846cc98caf40a8c96648a4b493fecd572", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/ffcaa6f846cc98caf40a8c96648a4b493fecd572", "committedDate": "2020-06-24T18:56:49Z", "message": "Fix SimpleTag and JSPFragment transformations, Add Constant String Transformations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ffcaa6f846cc98caf40a8c96648a4b493fecd572", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/ffcaa6f846cc98caf40a8c96648a4b493fecd572", "committedDate": "2020-06-24T18:56:49Z", "message": "Fix SimpleTag and JSPFragment transformations, Add Constant String Transformations"}, "afterCommit": {"oid": "9edfe6f7e92438547cd9a7854e7cd8573863d801", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/9edfe6f7e92438547cd9a7854e7cd8573863d801", "committedDate": "2020-06-24T18:57:24Z", "message": "Fix SimpleTag and JSPFragment transformations, Add Constant String Transformations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9edfe6f7e92438547cd9a7854e7cd8573863d801", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/9edfe6f7e92438547cd9a7854e7cd8573863d801", "committedDate": "2020-06-24T18:57:24Z", "message": "Fix SimpleTag and JSPFragment transformations, Add Constant String Transformations"}, "afterCommit": {"oid": "a66c24b7d36f5bd83087b4a66e7220921b57c748", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/a66c24b7d36f5bd83087b4a66e7220921b57c748", "committedDate": "2020-06-24T18:59:17Z", "message": "Fix SimpleTag and JSPFragment transformations, Add Constant String Transformations"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3MDc0NTEx", "url": "https://github.com/OpenLiberty/open-liberty/pull/12772#pullrequestreview-437074511", "createdAt": "2020-06-24T23:32:41Z", "commit": {"oid": "a66c24b7d36f5bd83087b4a66e7220921b57c748"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQyMzozMjo0MlrOGomhEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNFQyMzozNDoyNFrOGomjCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTIyNzI4MA==", "bodyText": "Should we update the copyright header date range to 2020?", "url": "https://github.com/OpenLiberty/open-liberty/pull/12772#discussion_r445227280", "createdAt": "2020-06-24T23:32:42Z", "author": {"login": "pnicolucci"}, "path": "dev/com.ibm.ws.jsp/src/com/ibm/ws/jsp/translator/visitor/generator/BaseTagGenerator.java", "diffHunk": "@@ -213,7 +213,9 @@ else if (isTagFile) { //need to make sure we only set the parent if one tag invo\n                 if (!(jspOptions.isAllowNullParentInTagFile())) {\n                 \twriter.print(tagHandlerVar);\n                 \twriter.print(\".setParent(new javax.servlet.jsp.tagext.TagAdapter(\");\n-                \twriter.print(\"(javax.servlet.jsp.tagext.SimpleTag) this ));\");\n+                \twriter.print(\"(\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a66c24b7d36f5bd83087b4a66e7220921b57c748"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTIyNzMxMQ==", "bodyText": "Should we update the copyright header date range to 2020?", "url": "https://github.com/OpenLiberty/open-liberty/pull/12772#discussion_r445227311", "createdAt": "2020-06-24T23:32:48Z", "author": {"login": "pnicolucci"}, "path": "dev/com.ibm.ws.jsp/src/com/ibm/ws/jsp/translator/visitor/generator/GenerateTagFileVisitor.java", "diffHunk": "@@ -347,7 +347,8 @@ protected void generateInitSection(ValidateTagFileResult validatorResult) throws\n                 writer.print(\"public void \");\n                 writer.print(GeneratorUtils.toSetterMethodName(attrInfos[i].getName()));\n                 if (attrInfos[i].isFragment()) {\n-                    writer.print(\"(javax.servlet.jsp.tagext.JspFragment \");\n+                    writer.print(\"(\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a66c24b7d36f5bd83087b4a66e7220921b57c748"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTIyNzc4NQ==", "bodyText": "Will the space at the end here be preserved after being transformed?", "url": "https://github.com/OpenLiberty/open-liberty/pull/12772#discussion_r445227785", "createdAt": "2020-06-24T23:34:24Z", "author": {"login": "pnicolucci"}, "path": "dev/com.ibm.ws.jsp/src/com/ibm/ws/jsp/translator/visitor/generator/GenerateTagFileVisitor.java", "diffHunk": "@@ -347,7 +347,8 @@ protected void generateInitSection(ValidateTagFileResult validatorResult) throws\n                 writer.print(\"public void \");\n                 writer.print(GeneratorUtils.toSetterMethodName(attrInfos[i].getName()));\n                 if (attrInfos[i].isFragment()) {\n-                    writer.print(\"(javax.servlet.jsp.tagext.JspFragment \");\n+                    writer.print(\"(\");\n+                    writer.print(\"javax.servlet.jsp.tagext.JspFragment \");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a66c24b7d36f5bd83087b4a66e7220921b57c748"}, "originalPosition": 6}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb0a1490653c4cf1e88f3bb79e7b6c97423186c1", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/bb0a1490653c4cf1e88f3bb79e7b6c97423186c1", "committedDate": "2020-06-25T14:05:13Z", "message": "Fix SimpleTag and JSPFragment transformations, Add Constant String Transformations"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a66c24b7d36f5bd83087b4a66e7220921b57c748", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/a66c24b7d36f5bd83087b4a66e7220921b57c748", "committedDate": "2020-06-24T18:59:17Z", "message": "Fix SimpleTag and JSPFragment transformations, Add Constant String Transformations"}, "afterCommit": {"oid": "bb0a1490653c4cf1e88f3bb79e7b6c97423186c1", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/bb0a1490653c4cf1e88f3bb79e7b6c97423186c1", "committedDate": "2020-06-25T14:05:13Z", "message": "Fix SimpleTag and JSPFragment transformations, Add Constant String Transformations"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM3NTQyNjA5", "url": "https://github.com/OpenLiberty/open-liberty/pull/12772#pullrequestreview-437542609", "createdAt": "2020-06-25T14:20:11Z", "commit": {"oid": "bb0a1490653c4cf1e88f3bb79e7b6c97423186c1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2319, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}