{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcwMjQ4MzE0", "number": 13566, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNTo0MzozMlrOEcotJg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNTo0NDozMlrOEcou_Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4NDYyNTAyOnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.logging_fat/fat/src/com/ibm/ws/logging/fat/CustomAccessLogFieldsTest.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNTo0MzozMlrOHHSRag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNjo0NTowN1rOHHUvtQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQwMTQ1MA==", "bodyText": "Are we sure that all test code has waited for the server config change was complete before hitting the endpoint?  I am not comfortable to quietly moving forward when there is an exception.", "url": "https://github.com/OpenLiberty/open-liberty/pull/13566#discussion_r477401450", "createdAt": "2020-08-26T15:43:32Z", "author": {"login": "fmhwong"}, "path": "dev/com.ibm.ws.logging_fat/fat/src/com/ibm/ws/logging/fat/CustomAccessLogFieldsTest.java", "diffHunk": "@@ -647,8 +647,8 @@ public boolean verify(String arg0, SSLSession arg1) {\n             assertTrue(\"Nothing was returned from the servlet - there was a problem connecting.\", lines.length() > 0);\n             con.disconnect();\n         } catch (IOException e) {\n-            e.printStackTrace();\n-            fail(\"Exception caught. Please see System.err log to view stack trace.\");\n+            //We can still log access log, just the status may return 500 in open liberty image", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ca44cd99a44a20e85d84c1ba2d4c3da9d057270"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQ0MTk3Mw==", "bodyText": "Yea I looked at the logs and the server config is updated before we hit the endpoint. I see it look for CWWKG0017I: The server configuration was successfully updated in 0.072 seconds and then we hit the endpoint. I think this must be only in the open liberty image builds that it returns 500. Another test defect also seemed to have this issue when hitting the landing page: https://wasrtc.hursley.ibm.com:9443/jazz/web/projects/WS-CD#action=com.ibm.team.workitem.viewWorkItem&id=276738\nAnyways, this doesn't effect the access log logging. And it seems like the REST endpoints work fine /metrics. If the access log isn't logged, our test will catch it in the end.", "url": "https://github.com/OpenLiberty/open-liberty/pull/13566#discussion_r477441973", "createdAt": "2020-08-26T16:45:07Z", "author": {"login": "Yushan-Lin"}, "path": "dev/com.ibm.ws.logging_fat/fat/src/com/ibm/ws/logging/fat/CustomAccessLogFieldsTest.java", "diffHunk": "@@ -647,8 +647,8 @@ public boolean verify(String arg0, SSLSession arg1) {\n             assertTrue(\"Nothing was returned from the servlet - there was a problem connecting.\", lines.length() > 0);\n             con.disconnect();\n         } catch (IOException e) {\n-            e.printStackTrace();\n-            fail(\"Exception caught. Please see System.err log to view stack trace.\");\n+            //We can still log access log, just the status may return 500 in open liberty image", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQwMTQ1MA=="}, "originalCommit": {"oid": "0ca44cd99a44a20e85d84c1ba2d4c3da9d057270"}, "originalPosition": 17}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjk4NDYyOTczOnYy", "diffSide": "LEFT", "path": "dev/com.ibm.ws.logging_fat/publish/servers/TraceSourceHandlerServer/server.xml", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNTo0NDozMlrOHHSUJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNlQxNjo0NjozMVrOHHUzLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQwMjE1MQ==", "bodyText": "Is jaxrs simply not required or do we need to upgrade to a later level?", "url": "https://github.com/OpenLiberty/open-liberty/pull/13566#discussion_r477402151", "createdAt": "2020-08-26T15:44:32Z", "author": {"login": "fmhwong"}, "path": "dev/com.ibm.ws.logging_fat/publish/servers/TraceSourceHandlerServer/server.xml", "diffHunk": "@@ -4,10 +4,9 @@\n \t<featureManager>\n \t\t<feature>jsp-2.2</feature>\n \t\t<feature>sampleTraceSourceHandler-1.0</feature>\n-\t\t<feature>jaxrs-1.1</feature>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ca44cd99a44a20e85d84c1ba2d4c3da9d057270"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQ0Mjg2MA==", "bodyText": "It doesn't seem required at all. I also did try upgrading to later level but it has some feature conflicts with sampleTraceSourceHandler-1.0", "url": "https://github.com/OpenLiberty/open-liberty/pull/13566#discussion_r477442860", "createdAt": "2020-08-26T16:46:31Z", "author": {"login": "Yushan-Lin"}, "path": "dev/com.ibm.ws.logging_fat/publish/servers/TraceSourceHandlerServer/server.xml", "diffHunk": "@@ -4,10 +4,9 @@\n \t<featureManager>\n \t\t<feature>jsp-2.2</feature>\n \t\t<feature>sampleTraceSourceHandler-1.0</feature>\n-\t\t<feature>jaxrs-1.1</feature>", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NzQwMjE1MQ=="}, "originalCommit": {"oid": "0ca44cd99a44a20e85d84c1ba2d4c3da9d057270"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2887, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}