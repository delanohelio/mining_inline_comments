{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwOTg2MDIy", "number": 10344, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNDoyNzo1OFrODW3nQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNzoxODoyNlrODW7U1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1MzA2NDM1OnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.cdi.internal/src/com/ibm/ws/cdi/internal/interfaces/CDIUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNDoyNzo1OFrOFb3mFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNDoyNzo1OFrOFb3mFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDc2Njc0MA==", "bodyText": "its 2020 now!", "url": "https://github.com/OpenLiberty/open-liberty/pull/10344#discussion_r364766740", "createdAt": "2020-01-09T14:27:58Z", "author": {"login": "tevans78"}, "path": "dev/com.ibm.ws.cdi.internal/src/com/ibm/ws/cdi/internal/interfaces/CDIUtils.java", "diffHunk": "@@ -1,5 +1,5 @@\n /*******************************************************************************\n- * Copyright (c) 2015, 2016 IBM Corporation and others.\n+ * Copyright (c) 2015, 2019 IBM Corporation and others.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c77ba1d55a2e0fb29ed401803a69b61b98635cbf"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1MzA3OTYyOnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.cdi.internal/src/com/ibm/ws/cdi/internal/interfaces/CDIUtils.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNDozMjoyMFrOFb3vrg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNDozMjoyMFrOFb3vrg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDc2OTE5OA==", "bodyText": "This should just be return ProxyObject.class.isAssignableFrom(clazz); I think?", "url": "https://github.com/OpenLiberty/open-liberty/pull/10344#discussion_r364769198", "createdAt": "2020-01-09T14:32:20Z", "author": {"login": "Azquelt"}, "path": "dev/com.ibm.ws.cdi.internal/src/com/ibm/ws/cdi/internal/interfaces/CDIUtils.java", "diffHunk": "@@ -398,8 +402,12 @@ public static ClassLoader getAndSetLoader(ClassLoader newCL) {\n      * @return true if it is a proxy\n      */\n     public static boolean isWeldProxy(Class<?> clazz) {\n-        boolean result = clazz.getSimpleName().contains(PROXY_CLASS_SIGNATURE);\n-        return result;\n+        for ( Class implementedInterface : clazz.getInterfaces() ) {\n+            if ( implementedInterface.getName().equals( WELD_PROXY_INTERFACE_NAME ) ) {\n+                return true;\n+            }\n+        }\n+        return false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c77ba1d55a2e0fb29ed401803a69b61b98635cbf"}, "originalPosition": 36}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1MzY1OTEzOnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.cdi.internal/src/com/ibm/ws/cdi/internal/interfaces/CDIUtils.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNzoxMzo0MVrOFb9X4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNzoxMzo0MVrOFb9X4Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDg2MTQwOQ==", "bodyText": "What is this constant for?", "url": "https://github.com/OpenLiberty/open-liberty/pull/10344#discussion_r364861409", "createdAt": "2020-01-09T17:13:41Z", "author": {"login": "tevans78"}, "path": "dev/com.ibm.ws.cdi.internal/src/com/ibm/ws/cdi/internal/interfaces/CDIUtils.java", "diffHunk": "@@ -52,13 +52,17 @@\n import com.ibm.ws.ffdc.annotation.FFDCIgnore;\n import com.ibm.ws.util.ThreadContextAccessor;\n \n+import org.jboss.weld.bean.proxy.ProxyObject;\n+\n /**\n  * Common constants and utility methods\n  */\n public class CDIUtils {\n \n     private static final TraceComponent tc = Tr.register(CDIUtils.class);\n \n+    private static final String WELD_PROXY_INTERFACE_NAME = ProxyObject.class.getName();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90eb2a9db2d5a7099853335263736da32ed0fe76"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1MzY3MDQ0OnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.jaxrs.2.0.cdi/src/com/ibm/ws/jaxrs20/cdi/component/JaxRsFactoryImplicitBeanCDICustomizer.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNzoxNzo0MlrOFb9e8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNzoxNzo0MlrOFb9e8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDg2MzIxOQ==", "bodyText": "How about createManagedObjectForServiceObject or just createManagedObject?", "url": "https://github.com/OpenLiberty/open-liberty/pull/10344#discussion_r364863219", "createdAt": "2020-01-09T17:17:42Z", "author": {"login": "tevans78"}, "path": "dev/com.ibm.ws.jaxrs.2.0.cdi/src/com/ibm/ws/jaxrs20/cdi/component/JaxRsFactoryImplicitBeanCDICustomizer.java", "diffHunk": "@@ -273,6 +271,34 @@ private Object getClassFromCDI(Class<?> clazz) {\n         return serviceObject;\n     }\n \n+    /**\n+     * @param clazz\n+     * @return\n+     */\n+    @FFDCIgnore(value = { Exception.class })\n+    private <T> ManagedObject<T> getClassFromServiceObject(Class<T> clazz, Object serviceObject) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90eb2a9db2d5a7099853335263736da32ed0fe76"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1MzY3MjUyOnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.jaxrs.2.0.cdi/src/com/ibm/ws/jaxrs20/cdi/component/JaxRsFactoryImplicitBeanCDICustomizer.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNzoxODoyNlrOFb9gOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxNzoxODoyNlrOFb9gOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDg2MzU0NA==", "bodyText": "Are you sure that is a safe check?", "url": "https://github.com/OpenLiberty/open-liberty/pull/10344#discussion_r364863544", "createdAt": "2020-01-09T17:18:26Z", "author": {"login": "tevans78"}, "path": "dev/com.ibm.ws.jaxrs.2.0.cdi/src/com/ibm/ws/jaxrs20/cdi/component/JaxRsFactoryImplicitBeanCDICustomizer.java", "diffHunk": "@@ -273,6 +271,34 @@ private Object getClassFromCDI(Class<?> clazz) {\n         return serviceObject;\n     }\n \n+    /**\n+     * @param clazz\n+     * @return\n+     */\n+    @FFDCIgnore(value = { Exception.class })\n+    private <T> ManagedObject<T> getClassFromServiceObject(Class<T> clazz, Object serviceObject) {\n+\n+        if (! clazz.equals(serviceObject.getClass())) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "90eb2a9db2d5a7099853335263736da32ed0fe76"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2294, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}