{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2NjkxNzI1", "number": 13173, "title": "JSP To Load Versions Dynamically ", "bodyText": "Potential Fix For #12387  that models the ServletVersion/JavaEEVersion.\nI had modeled the Service-Component: com.ibm.ws.jsp.vXX.dd changes after our servlet factory code.\nWhen a feature is loaded,  a new version of JSP is set through injection within the JSPExtensionFactory.\nThe other two approaches didn't seem appealing.\nSplitting the the 2.3 factories just meant more duplicate code for 2.3 and 3.0, and we only need a new version for 3.0.\nTransformer could work, but it would be more of a hack.  For example, we could change the version variable to \"JSP_VERSION_2.3\", transform to \"JSP_VERSION_3.0\", and then the getVersion functions would return the substring 2.3/3.0 instead.\nOSGI approach seems most fitting.\nI copied and applied code from the web-container methods below:\n\n  \n    \n      open-liberty/dev/com.ibm.ws.webcontainer/src/com/ibm/ws/webcontainer/osgi/WebContainer.java\n    \n    \n        Lines 1568 to 1579\n      in\n      36aa803\n    \n    \n    \n    \n\n        \n          \n           @Reference(service=ServletVersion.class, cardinality=ReferenceCardinality.MANDATORY, policy=ReferencePolicy.DYNAMIC, policyOption=ReferencePolicyOption.GREEDY) \n        \n\n        \n          \n           protected synchronized void setVersion(ServiceReference<ServletVersion> reference) { \n        \n\n        \n          \n               versionRef = reference; \n        \n\n        \n          \n               WebContainer.loadedContainerSpecLevel = (Integer) reference.getProperty(\"version\"); \n        \n\n        \n          \n           } \n        \n\n        \n          \n            \n        \n\n        \n          \n           protected synchronized void unsetVersion(ServiceReference<ServletVersion> reference) { \n        \n\n        \n          \n               if (reference == this.versionRef) { \n        \n\n        \n          \n                   versionRef = null; \n        \n\n        \n          \n                   WebContainer.loadedContainerSpecLevel = DEFAULT_MAX_VERSION; \n        \n\n        \n          \n               } \n        \n\n        \n          \n           } \n        \n    \n  \n\n\nThe new getLoadedPagesSpecLevel uses timing code (from webcontainer) that was merged in this  PR commit\n\n  \n    \n      open-liberty/dev/com.ibm.ws.webcontainer/src/com/ibm/ws/webcontainer/osgi/WebContainer.java\n    \n    \n        Lines 1591 to 1606\n      in\n      36aa803\n    \n    \n    \n    \n\n        \n          \n           if (WebContainer.loadedContainerSpecLevel == SPEC_LEVEL_UNLOADED) { \n        \n\n        \n          \n               CountDownLatch currentLatch = selfInit; \n        \n\n        \n          \n               // wait for activation \n        \n\n        \n          \n               try { \n        \n\n        \n          \n                   currentLatch.await(5, TimeUnit.SECONDS); \n        \n\n        \n          \n               } catch (InterruptedException e) { \n        \n\n        \n          \n                   // auto-FFDC \n        \n\n        \n          \n                   Thread.currentThread().interrupt(); \n        \n\n        \n          \n               } \n        \n\n        \n          \n               currentLatch.countDown(); // don't wait again \n        \n\n        \n          \n            \n        \n\n        \n          \n               if (WebContainer.loadedContainerSpecLevel == SPEC_LEVEL_UNLOADED) { \n        \n\n        \n          \n                   logger.logp(Level.WARNING, CLASS_NAME, \"getServletContainerSpecLevel\", \"servlet.feature.not.loaded.correctly\"); \n        \n\n        \n          \n                   return WebContainer.DEFAULT_SPEC_LEVEL; \n        \n\n        \n          \n               } \n        \n\n        \n          \n           } \n        \n    \n  \n\n\nNew Error message was added:\njsp.feature.not.loaded.correctly=CWWJS0001: The JSP [Pages] feature did not load with an acceptable version.\nUpdate: Feb 8th 2021\nCode was updated to pass the version variable to AbstractJSPExtensionServletWrapper per the conversation with Tom Watson in the comments below.\nJSPExtensionFactory#createProcessor passes the version to AbstractJSPExtensionProcessor. It\u2019s then set as a variable in AbstractJSPExtensionProcessor, and later passed through AbstractJSPExtensionServletWrapper#initialize. Then the version is stored as loadedJSPVersion in  AbstractJSPExtensionServletWrapper.\nSounds complicated as I reread it, but it does get to AbstractJSPExtensionServletWrapper.", "createdAt": "2020-07-26T02:23:31Z", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173", "merged": true, "mergeCommit": {"oid": "d7978c53600d7dad843ce93992bbaa91392774b7"}, "closed": true, "closedAt": "2021-02-13T22:55:26Z", "author": {"login": "volosied"}, "timelineItems": {"totalCount": 49, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc43vwdgBqjM1ODc2NTk2MDk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABd5c7pwgBqjQzMjU4MTg4NTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4bae1b2da5287e7009fb9d3fcb1a984f8e56614f", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/4bae1b2da5287e7009fb9d3fcb1a984f8e56614f", "committedDate": "2020-07-26T02:14:26Z", "message": "Update testJspFeatureChange for JSP 3.0"}, "afterCommit": {"oid": "f85cc9448b828ce220c9a6921966c3993805f775", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/f85cc9448b828ce220c9a6921966c3993805f775", "committedDate": "2020-07-27T01:42:36Z", "message": "Update testJspFeatureChange for JSP 3.0"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0NDUyNzI2", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#pullrequestreview-464452726", "createdAt": "2020-08-10T17:58:28Z", "commit": {"oid": "f85cc9448b828ce220c9a6921966c3993805f775"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQxNzo1ODoyOFrOG-ZX8Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQxNzo1ODoyOFrOG-ZX8Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODA4MDYyNQ==", "bodyText": "Setting this static variable dynamically means that if the static method getLoadedJspSpecLevel is called early then it could return null.  It seems that AbstractJSPExtensionServletWrapper is the only place calling this static.  Is there something passed into the constructor of AbstractJSPExtensionServletWrapper that has access to a service component that can be injected with the JspVersion or this JSPExtensionFactory", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#discussion_r468080625", "createdAt": "2020-08-10T17:58:28Z", "author": {"login": "tjwatson"}, "path": "dev/com.ibm.ws.jsp/src/com/ibm/ws/jsp/webcontainerext/JSPExtensionFactory.java", "diffHunk": "@@ -177,6 +183,19 @@ protected void modified(Map<Object, Object> properties) {\n                 defaultProperties.put(key, value);\n         }\n     }\n+\n+    @Reference(service = JspVersion.class, cardinality = ReferenceCardinality.MANDATORY, policy = ReferencePolicy.DYNAMIC, policyOption = ReferencePolicyOption.GREEDY)\n+    protected synchronized void setVersion(ServiceReference<JspVersion> reference) {\n+      this.versionRef = reference;\n+      JSPExtensionFactory.CURRENT_LOADED_VERSION = (String) reference.getProperty(\"version\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f85cc9448b828ce220c9a6921966c3993805f775"}, "originalPosition": 43}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDY0NDU0NzY3", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#pullrequestreview-464454767", "createdAt": "2020-08-10T18:01:16Z", "commit": {"oid": "f85cc9448b828ce220c9a6921966c3993805f775"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQxODowMToxNlrOG-Zeeg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0xMFQxODowMTozNVrOG-ZfIA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODA4MjI5OA==", "bodyText": "duplicate build path entry", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#discussion_r468082298", "createdAt": "2020-08-10T18:01:16Z", "author": {"login": "tjwatson"}, "path": "dev/com.ibm.ws.jsp.2.3/bnd.bnd", "diffHunk": "@@ -100,4 +104,9 @@ instrument.classesExcludes: org/apache/**/*.class\n \tcom.ibm.ws.container.service;version=latest,\\\n \tcom.ibm.ws.logging.core,\\\n \tcom.ibm.wsspi.org.osgi.service.component.annotations, \\\n-\tcom.ibm.ws.org.osgi.annotation.versioning;version=latest\n+\tcom.ibm.ws.org.osgi.annotation.versioning;version=latest, \\\n+\tcom.ibm.ws.org.osgi.annotation.versioning;version=latest, \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f85cc9448b828ce220c9a6921966c3993805f775"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2ODA4MjQ2NA==", "bodyText": "duplicate build path entry", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#discussion_r468082464", "createdAt": "2020-08-10T18:01:35Z", "author": {"login": "tjwatson"}, "path": "dev/com.ibm.ws.jsp.2.3/bnd.bnd", "diffHunk": "@@ -100,4 +104,9 @@ instrument.classesExcludes: org/apache/**/*.class\n \tcom.ibm.ws.container.service;version=latest,\\\n \tcom.ibm.ws.logging.core,\\\n \tcom.ibm.wsspi.org.osgi.service.component.annotations, \\\n-\tcom.ibm.ws.org.osgi.annotation.versioning;version=latest\n+\tcom.ibm.ws.org.osgi.annotation.versioning;version=latest, \\\n+\tcom.ibm.ws.org.osgi.annotation.versioning;version=latest, \\\n+\tcom.ibm.websphere.org.osgi.service.component;version=latest, \\\n+\tcom.ibm.wsspi.org.osgi.service.component.annotations;version=latest, \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f85cc9448b828ce220c9a6921966c3993805f775"}, "originalPosition": 32}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f85cc9448b828ce220c9a6921966c3993805f775", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/f85cc9448b828ce220c9a6921966c3993805f775", "committedDate": "2020-07-27T01:42:36Z", "message": "Update testJspFeatureChange for JSP 3.0"}, "afterCommit": {"oid": "f6e834b07fcd49eef86b3187e7cce28cc5f5bf7d", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/f6e834b07fcd49eef86b3187e7cce28cc5f5bf7d", "committedDate": "2020-08-20T20:18:31Z", "message": "Update testJspFeatureChange for JSP 3.0"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f6e834b07fcd49eef86b3187e7cce28cc5f5bf7d", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/f6e834b07fcd49eef86b3187e7cce28cc5f5bf7d", "committedDate": "2020-08-20T20:18:31Z", "message": "Update testJspFeatureChange for JSP 3.0"}, "afterCommit": {"oid": "1b5e077d0bd15dba34d413f201d8de5c0029233c", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/1b5e077d0bd15dba34d413f201d8de5c0029233c", "committedDate": "2020-11-09T16:41:43Z", "message": "Updates to PagesVersion"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1b5e077d0bd15dba34d413f201d8de5c0029233c", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/1b5e077d0bd15dba34d413f201d8de5c0029233c", "committedDate": "2020-11-09T16:41:43Z", "message": "Updates to PagesVersion"}, "afterCommit": {"oid": "8bf510c5118ee5a6cafb4e9cbd4207e138ccbdb4", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/8bf510c5118ee5a6cafb4e9cbd4207e138ccbdb4", "committedDate": "2020-11-09T17:45:46Z", "message": "Updates to PagesVersion"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8bf510c5118ee5a6cafb4e9cbd4207e138ccbdb4", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/8bf510c5118ee5a6cafb4e9cbd4207e138ccbdb4", "committedDate": "2020-11-09T17:45:46Z", "message": "Updates to PagesVersion"}, "afterCommit": {"oid": "309937289c2f7fb2aaef0206a46adb11c6f73cc4", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/309937289c2f7fb2aaef0206a46adb11c6f73cc4", "committedDate": "2020-11-09T18:14:37Z", "message": "Updates to PagesVersion"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "309937289c2f7fb2aaef0206a46adb11c6f73cc4", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/309937289c2f7fb2aaef0206a46adb11c6f73cc4", "committedDate": "2020-11-09T18:14:37Z", "message": "Updates to PagesVersion"}, "afterCommit": {"oid": "0acd2266e9fb368084f2fb883934171fdf64158d", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/0acd2266e9fb368084f2fb883934171fdf64158d", "committedDate": "2020-11-09T19:35:33Z", "message": "Updates to PagesVersion"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0acd2266e9fb368084f2fb883934171fdf64158d", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/0acd2266e9fb368084f2fb883934171fdf64158d", "committedDate": "2020-11-09T19:35:33Z", "message": "Updates to PagesVersion"}, "afterCommit": {"oid": "497da86488dbb0e7268840b4efab97da538acbde", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/497da86488dbb0e7268840b4efab97da538acbde", "committedDate": "2020-11-09T21:47:38Z", "message": "Updates to PagesVersion"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTI3MzMyNzk3", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#pullrequestreview-527332797", "createdAt": "2020-11-10T15:40:11Z", "commit": {"oid": "497da86488dbb0e7268840b4efab97da538acbde"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxNTo0MDoxMlrOHwimtg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xMFQxNTo0MDoxMlrOHwimtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMDY2MDY2Mg==", "bodyText": "Let me know if any word changes should be made.  I wasn't sure to go with JSP or Pages as this message applies to all features.", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#discussion_r520660662", "createdAt": "2020-11-10T15:40:12Z", "author": {"login": "volosied"}, "path": "dev/com.ibm.ws.jsp/resources/com/ibm/ws/jsp/resources/messages.nlsprops", "diffHunk": "@@ -1257,4 +1257,8 @@ jsp.parse.tld.exception.useraction=Check the JSP Tag Library Descriptor file for\n \n system.java.compiler.not.found=JSPG0304W: The JSP attribute, useJDKCompiler, is set to true, but the Java SDK compiler was not found. The JSP container uses the compiler that is embedded in the product to compile the JSP files in web module: {0}.\n system.java.compiler.not.found.explanation=The JSP container was unable to find the system compiler, which usually indicates that the Java SDK jar file, tools.jar, was not found in the class path.\n-system.java.compiler.not.found.useraction=Ensure that the Java SDK jar file, tools.jar, is in the class path and verify that the Java SDK supports the Java Compiler API. See Java Specification Request 199 for more information.\n\\ No newline at end of file\n+system.java.compiler.not.found.useraction=Ensure that the Java SDK jar file, tools.jar, is in the class path and verify that the Java SDK supports the Java Compiler API. See Java Specification Request 199 for more information.\n+\n+jsp.feature.not.loaded.correctly=CWWJS0001: The JSP [Pages] feature did not load with an acceptable version.\n+jsp.feature.not.loaded.correctly.explanation=The JSP [Pages] feature is loaded with a version that corresponds to the Java [Jakarta] EE specification of that JSP [Pages] feature. The feature was loaded with no version defined.\n+jsp.feature.not.loaded.correctly.useraction=Check the server.xml file for existence of either a jsp-2.2, jsp-2.3, or pages-3.0 feature. Only one of the listed features should be specified.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "497da86488dbb0e7268840b4efab97da538acbde"}, "originalPosition": 180}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "497da86488dbb0e7268840b4efab97da538acbde", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/497da86488dbb0e7268840b4efab97da538acbde", "committedDate": "2020-11-09T21:47:38Z", "message": "Updates to PagesVersion"}, "afterCommit": {"oid": "33b820830b45ac8f232a0efa9313a556514a8412", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/33b820830b45ac8f232a0efa9313a556514a8412", "committedDate": "2020-11-13T14:46:43Z", "message": "Change JSP Version Structure in JSP 2.2 & 2.3 Factories\n\nUpdate testJspFeatureChange for JSP 3.0\n\nUpdates to PagesVersion"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMwMTI2NjAz", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#pullrequestreview-530126603", "createdAt": "2020-11-13T14:52:59Z", "commit": {"oid": "33b820830b45ac8f232a0efa9313a556514a8412"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxNDo1MzowMFrOHyxYtg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xM1QxNDo1MzowMFrOHyxYtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyMjk5OTk5MA==", "bodyText": "PagesVerion or JspVersion?", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#discussion_r522999990", "createdAt": "2020-11-13T14:53:00Z", "author": {"login": "volosied"}, "path": "dev/com.ibm.ws.javaee.version/src/com/ibm/ws/javaee/version/PagesVersion.java", "diffHunk": "@@ -8,13 +10,10 @@\n  * Contributors:\n  *     IBM Corporation - initial API and implementation\n  *******************************************************************************/\n-package com.ibm.ws.jsp.webcontainerext;\n \n /**\n- *\n- */\n-public interface JspVersionFactory {\n-    \n-    public JspVersion getJspVersion();\n-\n+*  Holder class for version info.\n+*/\n+public class PagesVersion {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "33b820830b45ac8f232a0efa9313a556514a8412"}, "originalPosition": 24}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "33b820830b45ac8f232a0efa9313a556514a8412", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/33b820830b45ac8f232a0efa9313a556514a8412", "committedDate": "2020-11-13T14:46:43Z", "message": "Change JSP Version Structure in JSP 2.2 & 2.3 Factories\n\nUpdate testJspFeatureChange for JSP 3.0\n\nUpdates to PagesVersion"}, "afterCommit": {"oid": "dbec17d9c5ecb34eb7524b7c11953ff923db8c35", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/dbec17d9c5ecb34eb7524b7c11953ff923db8c35", "committedDate": "2020-11-17T16:16:36Z", "message": "JSP Version Updates in 2.2 & 3.0"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTMyNTYwNzMz", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#pullrequestreview-532560733", "createdAt": "2020-11-17T16:35:21Z", "commit": {"oid": "dbec17d9c5ecb34eb7524b7c11953ff923db8c35"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNjozNToyMVrOH0-IWA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0xN1QxNjozNToyMVrOH0-IWA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNTMwNTk0NA==", "bodyText": "Can you fix this formatting?", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#discussion_r525305944", "createdAt": "2020-11-17T16:35:21Z", "author": {"login": "pnicolucci"}, "path": "dev/com.ibm.ws.jsp/bnd.bnd", "diffHunk": "@@ -165,4 +165,5 @@ instrument.classesExcludes: com/ibm/ws/jsp/resources/*.class\n \tcom.ibm.ws.org.apache.jasper.el.2.2;version=latest,\\\n \tcom.ibm.ws.kernel.security.thread;version=latest,\\\n \tcom.ibm.ws.artifact.url;version=latest, \\\n-\tcom.ibm.ws.org.osgi.annotation.versioning;version=latest\n+\tcom.ibm.ws.org.osgi.annotation.versioning;version=latest, \\\n+  com.ibm.ws.javaee.version;version=latest", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "dbec17d9c5ecb34eb7524b7c11953ff923db8c35"}, "originalPosition": 42}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dbec17d9c5ecb34eb7524b7c11953ff923db8c35", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/dbec17d9c5ecb34eb7524b7c11953ff923db8c35", "committedDate": "2020-11-17T16:16:36Z", "message": "JSP Version Updates in 2.2 & 3.0"}, "afterCommit": {"oid": "10a26d52021c4ec69550b901c866203f749ab99a", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/10a26d52021c4ec69550b901c866203f749ab99a", "committedDate": "2020-11-18T18:19:03Z", "message": "JSP Version Updates in 2.2 & 3.0"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "10a26d52021c4ec69550b901c866203f749ab99a", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/10a26d52021c4ec69550b901c866203f749ab99a", "committedDate": "2020-11-18T18:19:03Z", "message": "JSP Version Updates in 2.2 & 3.0"}, "afterCommit": {"oid": "84590c449fc63db909a947546368c5345d00599c", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/84590c449fc63db909a947546368c5345d00599c", "committedDate": "2020-11-18T18:20:08Z", "message": "JSP Version Updates in 2.2 & 3.0"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "84590c449fc63db909a947546368c5345d00599c", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/84590c449fc63db909a947546368c5345d00599c", "committedDate": "2020-11-18T18:20:08Z", "message": "JSP Version Updates in 2.2 & 3.0"}, "afterCommit": {"oid": "7861b71461480eae0ba4f61eec107fda575551e2", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/7861b71461480eae0ba4f61eec107fda575551e2", "committedDate": "2020-11-18T18:23:04Z", "message": "JSP Version Updates in 2.2 & 3.0"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7861b71461480eae0ba4f61eec107fda575551e2", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/7861b71461480eae0ba4f61eec107fda575551e2", "committedDate": "2020-11-18T18:23:04Z", "message": "JSP Version Updates in 2.2 & 3.0"}, "afterCommit": {"oid": "3d311abf451e4b4bdedff40d3f1054dcb23e674e", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/3d311abf451e4b4bdedff40d3f1054dcb23e674e", "committedDate": "2020-11-18T20:30:43Z", "message": "JSP Version Updates in 2.2 & 3.0"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3d311abf451e4b4bdedff40d3f1054dcb23e674e", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/3d311abf451e4b4bdedff40d3f1054dcb23e674e", "committedDate": "2020-11-18T20:30:43Z", "message": "JSP Version Updates in 2.2 & 3.0"}, "afterCommit": {"oid": "117fa35867016046756c9cf20babae1d244470c3", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/117fa35867016046756c9cf20babae1d244470c3", "committedDate": "2020-11-19T15:05:03Z", "message": "JSP Version Updates in 2.2, 2.3, & 3.0"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0MzAzNTEw", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#pullrequestreview-544303510", "createdAt": "2020-12-03T19:21:05Z", "commit": {"oid": "117fa35867016046756c9cf20babae1d244470c3"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "117fa35867016046756c9cf20babae1d244470c3", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/117fa35867016046756c9cf20babae1d244470c3", "committedDate": "2020-11-19T15:05:03Z", "message": "JSP Version Updates in 2.2, 2.3, & 3.0"}, "afterCommit": {"oid": "459f30503602b2645da3e6808dcb58091d35ebb9", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/459f30503602b2645da3e6808dcb58091d35ebb9", "committedDate": "2020-12-03T19:27:35Z", "message": "JSP Version Updates in 2.2, 2.3, & 3.0"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "459f30503602b2645da3e6808dcb58091d35ebb9", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/459f30503602b2645da3e6808dcb58091d35ebb9", "committedDate": "2020-12-03T19:27:35Z", "message": "JSP Version Updates in 2.2, 2.3, & 3.0"}, "afterCommit": {"oid": "d8cf4e76783b7b48376f55c0cf9ab9d0bad460c2", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/d8cf4e76783b7b48376f55c0cf9ab9d0bad460c2", "committedDate": "2020-12-07T21:32:25Z", "message": "JSP Version Updates in 2.2, 2.3, & 3.0"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d8cf4e76783b7b48376f55c0cf9ab9d0bad460c2", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/d8cf4e76783b7b48376f55c0cf9ab9d0bad460c2", "committedDate": "2020-12-07T21:32:25Z", "message": "JSP Version Updates in 2.2, 2.3, & 3.0"}, "afterCommit": {"oid": "3ad5304e79db8a461995124778bf9c6f661b6df6", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/3ad5304e79db8a461995124778bf9c6f661b6df6", "committedDate": "2021-02-05T20:02:20Z", "message": "JSP Version Updates in 2.2, 2.3, & 3.0"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3ad5304e79db8a461995124778bf9c6f661b6df6", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/3ad5304e79db8a461995124778bf9c6f661b6df6", "committedDate": "2021-02-05T20:02:20Z", "message": "JSP Version Updates in 2.2, 2.3, & 3.0"}, "afterCommit": {"oid": "d42073e82ffd0a3c6c750e5e7c59f82bce585b47", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/d42073e82ffd0a3c6c750e5e7c59f82bce585b47", "committedDate": "2021-02-08T16:24:52Z", "message": "Load JSP Versions through Service Component"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTg1ODUyOTQ1", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#pullrequestreview-585852945", "createdAt": "2021-02-08T19:35:53Z", "commit": {"oid": "ce3283a1e269a5c753dc2f842bd9515a4d905145"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wOFQxOTozNTo1M1rOIhzYtw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wOFQxOTozNTo1M1rOIhzYtw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjMxNTgzMQ==", "bodyText": "This looks like it could be a  final field?", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#discussion_r572315831", "createdAt": "2021-02-08T19:35:53Z", "author": {"login": "tjwatson"}, "path": "dev/com.ibm.ws.jsp/src/com/ibm/ws/jsp/webcontainerext/AbstractJSPExtensionProcessor.java", "diffHunk": "@@ -135,6 +135,8 @@ static final protected Object getSyncObject(String name) {\n     protected JspClassloaderContext jspClassloaderContext = null;\n     protected JspCompilerFactory jspCompilerFactory = null;\n     protected IServletContextExtended webapp = null;\n+    \n+    protected String loadedJSPVersion = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce3283a1e269a5c753dc2f842bd9515a4d905145"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTg1ODc3MDg1", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#pullrequestreview-585877085", "createdAt": "2021-02-08T20:05:55Z", "commit": {"oid": "ce3283a1e269a5c753dc2f842bd9515a4d905145"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wOFQyMDowNTo1NVrOIh0jhg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0wOFQyMDowNTo1NVrOIh0jhg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3MjMzNDk4Mg==", "bodyText": "Reminder to fix this spacing.", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#discussion_r572334982", "createdAt": "2021-02-08T20:05:55Z", "author": {"login": "volosied"}, "path": "dev/com.ibm.ws.jsp/bnd.bnd", "diffHunk": "@@ -156,4 +156,5 @@ instrument.classesExcludes: com/ibm/ws/jsp/resources/*.class\n \tcom.ibm.ws.kernel.security.thread;version=latest,\\\n \tcom.ibm.ws.artifact.url;version=latest, \\\n \tcom.ibm.ws.org.osgi.annotation.versioning;version=latest,\\\n-\tcom.ibm.ws.org.apache.taglibs.standard;version=latest\n+\tcom.ibm.ws.org.apache.taglibs.standard;version=latest, \\\n+   com.ibm.ws.javaee.version;version=latest", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ce3283a1e269a5c753dc2f842bd9515a4d905145"}, "originalPosition": 6}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "dd1d36541ff5a3f0f7024eade460b925dbd78f77", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/dd1d36541ff5a3f0f7024eade460b925dbd78f77", "committedDate": "2021-02-08T20:37:36Z", "message": "Change AbstractJSPExtensionProcessor's loadedJSPVersion to final"}, "afterCommit": {"oid": "ee55f2c2f35a75319cc8fa27d56dc5d1068699ec", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/ee55f2c2f35a75319cc8fa27d56dc5d1068699ec", "committedDate": "2021-02-08T20:40:01Z", "message": "Change AbstractJSPExtensionProcessor's loadedJSPVersion to final"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ee55f2c2f35a75319cc8fa27d56dc5d1068699ec", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/ee55f2c2f35a75319cc8fa27d56dc5d1068699ec", "committedDate": "2021-02-08T20:40:01Z", "message": "Change AbstractJSPExtensionProcessor's loadedJSPVersion to final"}, "afterCommit": {"oid": "320f03be3d584d834552113fce7026aea07a53ff", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/320f03be3d584d834552113fce7026aea07a53ff", "committedDate": "2021-02-08T20:41:00Z", "message": "Change AbstractJSPExtensionProcessor's loadedJSPVersion to final"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "320f03be3d584d834552113fce7026aea07a53ff", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/320f03be3d584d834552113fce7026aea07a53ff", "committedDate": "2021-02-08T20:41:00Z", "message": "Change AbstractJSPExtensionProcessor's loadedJSPVersion to final"}, "afterCommit": {"oid": "aa5199cb0dd204797f0f81c0e86f7b2eadef1b8e", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/aa5199cb0dd204797f0f81c0e86f7b2eadef1b8e", "committedDate": "2021-02-08T20:41:51Z", "message": "Change AbstractJSPExtensionProcessor's loadedJSPVersion to final"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTg3NzcwOTQ2", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#pullrequestreview-587770946", "createdAt": "2021-02-10T16:00:26Z", "commit": {"oid": "aa5199cb0dd204797f0f81c0e86f7b2eadef1b8e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMFQxNjowMDoyNlrOIjRQSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMFQxNjowMDoyNlrOIjRQSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3Mzg1Mzc3MQ==", "bodyText": "This should be pages-3.0 , just a slight spelling mistake", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#discussion_r573853771", "createdAt": "2021-02-10T16:00:26Z", "author": {"login": "pnicolucci"}, "path": "dev/com.ibm.ws.jsp.2.3_fat/fat/src/com/ibm/ws/jsp23/fat/tests/JSP23JSP22ServerTest.java", "diffHunk": "@@ -112,4 +114,44 @@ public void testJspFeatureChange() throws Exception {\n         assertTrue(\"The response did not contain: JSP version: 2.2\", response.getText().contains(\"JSP version: 2.2\"));\n \n     }\n+\n+    /**\n+     * Test a JSP request with the jsp-2.3 feature enabled.\n+     * Then change the feature to pages-3.0 and request the same JSP again.\n+     * The JSP should be recompiled.\n+     * The JSP file pulls the version out of it's generated code and displays it in the rendered page.\n+     *\n+     * @throws Exception\n+     */\n+    @Test\n+    @SkipForRepeat(SkipForRepeat.NO_MODIFICATION)\n+    public void testJsp30to23FeatureChange() throws Exception {\n+        WebConversation wc = new WebConversation();\n+        wc.setExceptionsThrownOnErrorStatus(false);\n+\n+        LOG.info(\"Requesting JSP with pagse-3.0 feature enabled\");\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa5199cb0dd204797f0f81c0e86f7b2eadef1b8e"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTg3NzcyMzA5", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#pullrequestreview-587772309", "createdAt": "2021-02-10T16:01:37Z", "commit": {"oid": "aa5199cb0dd204797f0f81c0e86f7b2eadef1b8e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMFQxNjowMTozN1rOIjRUHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMFQxNjowMTozN1rOIjRUHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3Mzg1NDc0OQ==", "bodyText": "Should this documentation be a bit different here? It seems you're driving a request with pages-30 first then jsp-2.3?", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#discussion_r573854749", "createdAt": "2021-02-10T16:01:37Z", "author": {"login": "pnicolucci"}, "path": "dev/com.ibm.ws.jsp.2.3_fat/fat/src/com/ibm/ws/jsp23/fat/tests/JSP23JSP22ServerTest.java", "diffHunk": "@@ -112,4 +114,44 @@ public void testJspFeatureChange() throws Exception {\n         assertTrue(\"The response did not contain: JSP version: 2.2\", response.getText().contains(\"JSP version: 2.2\"));\n \n     }\n+\n+    /**\n+     * Test a JSP request with the jsp-2.3 feature enabled.\n+     * Then change the feature to pages-3.0 and request the same JSP again.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa5199cb0dd204797f0f81c0e86f7b2eadef1b8e"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTg3Nzc0MDM1", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#pullrequestreview-587774035", "createdAt": "2021-02-10T16:03:11Z", "commit": {"oid": "aa5199cb0dd204797f0f81c0e86f7b2eadef1b8e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMFQxNjowMzoxMVrOIjRY9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMFQxNjowMzoxMVrOIjRY9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3Mzg1NTk4OA==", "bodyText": "Should we clean up these no new lines errors? Also in messages.nlsprops.", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#discussion_r573855988", "createdAt": "2021-02-10T16:03:11Z", "author": {"login": "pnicolucci"}, "path": "dev/com.ibm.ws.jsp/bnd.bnd", "diffHunk": "@@ -156,4 +156,5 @@ instrument.classesExcludes: com/ibm/ws/jsp/resources/*.class\n \tcom.ibm.ws.kernel.security.thread;version=latest,\\\n \tcom.ibm.ws.artifact.url;version=latest, \\\n \tcom.ibm.ws.org.osgi.annotation.versioning;version=latest,\\\n-\tcom.ibm.ws.org.apache.taglibs.standard;version=latest\n+\tcom.ibm.ws.org.apache.taglibs.standard;version=latest, \\\n+\tcom.ibm.ws.javaee.version;version=latest", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa5199cb0dd204797f0f81c0e86f7b2eadef1b8e"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTg3Nzc1MDAw", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#pullrequestreview-587775000", "createdAt": "2021-02-10T16:04:02Z", "commit": {"oid": "aa5199cb0dd204797f0f81c0e86f7b2eadef1b8e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMFQxNjowNDowMlrOIjRblw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMFQxNjowNDowMlrOIjRblw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3Mzg1NjY2Mw==", "bodyText": "Update copyright in this class for 2021", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#discussion_r573856663", "createdAt": "2021-02-10T16:04:02Z", "author": {"login": "pnicolucci"}, "path": "dev/com.ibm.ws.jsp/src/com/ibm/ws/jsp/webcontainerext/AbstractJSPExtensionProcessor.java", "diffHunk": "@@ -135,6 +135,8 @@ static final protected Object getSyncObject(String name) {\n     protected JspClassloaderContext jspClassloaderContext = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa5199cb0dd204797f0f81c0e86f7b2eadef1b8e"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTg3Nzc1NzI1", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#pullrequestreview-587775725", "createdAt": "2021-02-10T16:04:40Z", "commit": {"oid": "aa5199cb0dd204797f0f81c0e86f7b2eadef1b8e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMFQxNjowNDo0MFrOIjRdkw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMFQxNjowNDo0MFrOIjRdkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3Mzg1NzE3MQ==", "bodyText": "Update copyright to 2021.", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#discussion_r573857171", "createdAt": "2021-02-10T16:04:40Z", "author": {"login": "pnicolucci"}, "path": "dev/com.ibm.ws.jsp/src/com/ibm/ws/jsp/webcontainerext/JSPExtensionFactory.java", "diffHunk": "@@ -16,11 +16,14 @@\n import java.net.URL;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa5199cb0dd204797f0f81c0e86f7b2eadef1b8e"}, "originalPosition": 1}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTg3Nzc3NDQ3", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#pullrequestreview-587777447", "createdAt": "2021-02-10T16:06:13Z", "commit": {"oid": "aa5199cb0dd204797f0f81c0e86f7b2eadef1b8e"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMFQxNjowNjoxM1rOIjRiuA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMS0wMi0xMFQxNjowNjoxM1rOIjRiuA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU3Mzg1ODQ4OA==", "bodyText": "Use loadedJSPVersion for consistency across classes.", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#discussion_r573858488", "createdAt": "2021-02-10T16:06:13Z", "author": {"login": "pnicolucci"}, "path": "dev/com.ibm.ws.jsp/src/com/ibm/ws/jsp/webcontainerext/JSPExtensionProcessor.java", "diffHunk": "@@ -26,8 +26,8 @@\n     public JSPExtensionProcessor(IServletContext webapp, \n                                  JspXmlExtConfig webAppConfig, \n                                  GlobalTagLibraryCache globalTagLibraryCache,\n-                                 JspClassloaderContext jspClassloaderContext) throws Exception {\n-        super(webapp, webAppConfig, globalTagLibraryCache, jspClassloaderContext);\n+                                 JspClassloaderContext jspClassloaderContext, String loadedJSPversion) throws Exception {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aa5199cb0dd204797f0f81c0e86f7b2eadef1b8e"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTg3Nzc5NTA5", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#pullrequestreview-587779509", "createdAt": "2021-02-10T16:08:06Z", "commit": {"oid": "aa5199cb0dd204797f0f81c0e86f7b2eadef1b8e"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aa5199cb0dd204797f0f81c0e86f7b2eadef1b8e", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/aa5199cb0dd204797f0f81c0e86f7b2eadef1b8e", "committedDate": "2021-02-08T20:41:51Z", "message": "Change AbstractJSPExtensionProcessor's loadedJSPVersion to final"}, "afterCommit": {"oid": "3d582bf0b18dbec619a832505e9b64e2902c1bbf", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/3d582bf0b18dbec619a832505e9b64e2902c1bbf", "committedDate": "2021-02-10T16:38:38Z", "message": "Add version test to JSP FAT"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3d582bf0b18dbec619a832505e9b64e2902c1bbf", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/3d582bf0b18dbec619a832505e9b64e2902c1bbf", "committedDate": "2021-02-10T16:38:38Z", "message": "Add version test to JSP FAT"}, "afterCommit": {"oid": "da7fa40925f9d5cbb4368f19ee43ea2f8ea181db", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/da7fa40925f9d5cbb4368f19ee43ea2f8ea181db", "committedDate": "2021-02-10T16:41:23Z", "message": "Add version test to JSP FAT"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "da7fa40925f9d5cbb4368f19ee43ea2f8ea181db", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/da7fa40925f9d5cbb4368f19ee43ea2f8ea181db", "committedDate": "2021-02-10T16:41:23Z", "message": "Add version test to JSP FAT"}, "afterCommit": {"oid": "d377534813c73f582383bc4378ec04f7f1b3eea7", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/d377534813c73f582383bc4378ec04f7f1b3eea7", "committedDate": "2021-02-10T16:46:38Z", "message": "Add version test to JSP FAT"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d377534813c73f582383bc4378ec04f7f1b3eea7", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/d377534813c73f582383bc4378ec04f7f1b3eea7", "committedDate": "2021-02-10T16:46:38Z", "message": "Add version test to JSP FAT"}, "afterCommit": {"oid": "3a66d598ae026534c08af0631fe06a5b0fbb55e7", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/3a66d598ae026534c08af0631fe06a5b0fbb55e7", "committedDate": "2021-02-10T16:49:09Z", "message": "Add version test to JSP FAT"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3a66d598ae026534c08af0631fe06a5b0fbb55e7", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/3a66d598ae026534c08af0631fe06a5b0fbb55e7", "committedDate": "2021-02-10T16:49:09Z", "message": "Add version test to JSP FAT"}, "afterCommit": {"oid": "22e45e9ee689825d5a4cec37e276df87b5745911", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/22e45e9ee689825d5a4cec37e276df87b5745911", "committedDate": "2021-02-10T16:52:31Z", "message": "Add version test to JSP FAT"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "22e45e9ee689825d5a4cec37e276df87b5745911", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/22e45e9ee689825d5a4cec37e276df87b5745911", "committedDate": "2021-02-10T16:52:31Z", "message": "Add version test to JSP FAT"}, "afterCommit": {"oid": "5eb380eb48cb71644712aedc032853bacb3f0f03", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/5eb380eb48cb71644712aedc032853bacb3f0f03", "committedDate": "2021-02-10T16:55:41Z", "message": "Add version test to JSP FAT"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5eb380eb48cb71644712aedc032853bacb3f0f03", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/5eb380eb48cb71644712aedc032853bacb3f0f03", "committedDate": "2021-02-10T16:55:41Z", "message": "Add version test to JSP FAT"}, "afterCommit": {"oid": "69726f39daec2d45d5a825d56e19f8a76de4e4fc", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/69726f39daec2d45d5a825d56e19f8a76de4e4fc", "committedDate": "2021-02-10T17:01:19Z", "message": "Add version test to JSP FAT"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "69726f39daec2d45d5a825d56e19f8a76de4e4fc", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/69726f39daec2d45d5a825d56e19f8a76de4e4fc", "committedDate": "2021-02-10T17:01:19Z", "message": "Add version test to JSP FAT"}, "afterCommit": {"oid": "ff7098b8a943e9439294d264732b0526df50fc83", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/ff7098b8a943e9439294d264732b0526df50fc83", "committedDate": "2021-02-10T17:06:04Z", "message": "Add version test to JSP FAT"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTg5NTkzNDM0", "url": "https://github.com/OpenLiberty/open-liberty/pull/13173#pullrequestreview-589593434", "createdAt": "2021-02-12T15:53:59Z", "commit": {"oid": "ff7098b8a943e9439294d264732b0526df50fc83"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2dd6dcabb8697a1b924a67ef56faff68d722fe1", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/f2dd6dcabb8697a1b924a67ef56faff68d722fe1", "committedDate": "2021-02-12T17:13:05Z", "message": "Load JSP Versions through Service Component"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9c0ba6d96d36add7e6031f4cee362c9e76aaf991", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/9c0ba6d96d36add7e6031f4cee362c9e76aaf991", "committedDate": "2021-02-12T17:13:06Z", "message": "Pass loadedPagesVersion to AbstractJSPExtensionServletWrapper directly"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cb6ed106c6b76695dbcae66ac950310850127096", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/cb6ed106c6b76695dbcae66ac950310850127096", "committedDate": "2021-02-12T17:13:07Z", "message": "Add version test to JSP FAT"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ff7098b8a943e9439294d264732b0526df50fc83", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/ff7098b8a943e9439294d264732b0526df50fc83", "committedDate": "2021-02-10T17:06:04Z", "message": "Add version test to JSP FAT"}, "afterCommit": {"oid": "cb6ed106c6b76695dbcae66ac950310850127096", "author": {"user": {"login": "volosied", "name": "Volodymyr Siedlecki"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/cb6ed106c6b76695dbcae66ac950310850127096", "committedDate": "2021-02-12T17:13:07Z", "message": "Add version test to JSP FAT"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2034, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}