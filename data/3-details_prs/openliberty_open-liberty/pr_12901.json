{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ1MDQzOTc1", "number": 12901, "title": "Add new <kerberos> config element", "bodyText": "Implements the resolution of design issue #12835\nPart of #12670 and #12838\n\nAdds new <kerberos> element with 2 properties: keytab and configFile (both optional)\nIf <authData krb5Principal=\"...\"> is set, then keytab is retrieved from <kerberos keytab=\"...\"/> (if set)\nAdds interop with existing <spnego> element which has its own krb5Config and krb5Keytab properties. If krb5Config and configFile are both specified, raise an error.", "createdAt": "2020-07-06T23:02:38Z", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901", "merged": true, "mergeCommit": {"oid": "5c406b289a6b72553af8314f0e52467504b7daf8"}, "closed": true, "closedAt": "2020-07-14T13:50:39Z", "author": {"login": "aguibert"}, "timelineItems": {"totalCount": 26, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcyYze5gH2gAyNDQ1MDQzOTc1OjkyYTkzY2JlZDg2YThhMzI4MTU3OGUyM2U4MzJlMzkzMGEyMDEyMjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc010wOAFqTQ0ODA5MjE5Nw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "92a93cbed86a8a3281578e23e832e3930a201224", "author": {"user": {"login": "aguibert", "name": "Andrew Guibert"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/92a93cbed86a8a3281578e23e832e3930a201224", "committedDate": "2020-07-06T22:16:15Z", "message": "Introduce new <kerberos> configuration element for system-wide krb5 config"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0133066fd0b6c038d98648385c2b774a9e55447b", "author": {"user": {"login": "aguibert", "name": "Andrew Guibert"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/0133066fd0b6c038d98648385c2b774a9e55447b", "committedDate": "2020-07-06T22:16:50Z", "message": "Update AuthData to use new <kerberos> config element"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c", "author": {"user": {"login": "aguibert", "name": "Andrew Guibert"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c", "committedDate": "2020-07-06T23:11:08Z", "message": "Update SPNEGO to use new <kerberos> config element"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d0fea79c80c23f71656e4b0d5a63a84103ec7bcb", "author": {"user": {"login": "aguibert", "name": "Andrew Guibert"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/d0fea79c80c23f71656e4b0d5a63a84103ec7bcb", "committedDate": "2020-07-06T22:58:06Z", "message": "Update SPNEGO to use new <kerberos> config element"}, "afterCommit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c", "author": {"user": {"login": "aguibert", "name": "Andrew Guibert"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c", "committedDate": "2020-07-06T23:11:08Z", "message": "Update SPNEGO to use new <kerberos> config element"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNTE5NTc1", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#pullrequestreview-443519575", "createdAt": "2020-07-07T02:25:45Z", "commit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMjoyNTo0NVrOGttBIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMjoyNTo0NVrOGttBIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDU3NjY3NA==", "bodyText": "krb5Principal=Kerberos principal name", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r450576674", "createdAt": "2020-07-07T02:25:45Z", "author": {"login": "utle"}, "path": "dev/com.ibm.ws.security.auth.data.common/resources/OSGI-INF/l10n/metatype.properties", "diffHunk": "@@ -37,9 +37,3 @@ maxSize.desc=Maximum number of entries supported by the authentication data subj\n # Do not translate: Kerberos, principal\n krb5Principal=Kerberos service principal name", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "originalPosition": 2}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNTIwMzIx", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#pullrequestreview-443520321", "createdAt": "2020-07-07T02:28:15Z", "commit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMjoyODoxNVrOGttDTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMjoyODoxNVrOGttDTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDU3NzIzMA==", "bodyText": "krb5Principal.desc=The name of the Kerberos principal name or Kerberos service name to be used.", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r450577230", "createdAt": "2020-07-07T02:28:15Z", "author": {"login": "utle"}, "path": "dev/com.ibm.ws.security.auth.data.common/resources/OSGI-INF/l10n/metatype.properties", "diffHunk": "@@ -37,9 +37,3 @@ maxSize.desc=Maximum number of entries supported by the authentication data subj\n # Do not translate: Kerberos, principal\n krb5Principal=Kerberos service principal name\n krb5Principal.desc=The name of the principal to be used. The principal can be a simple username or a service name.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "originalPosition": 3}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNTIzNjky", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#pullrequestreview-443523692", "createdAt": "2020-07-07T02:39:55Z", "commit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMjozOTo1NVrOGttOTg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMjozOTo1NVrOGttOTg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDU4MDA0Ng==", "bodyText": "Can we change from kerbKeytab to keytabPath?", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r450580046", "createdAt": "2020-07-07T02:39:55Z", "author": {"login": "utle"}, "path": "dev/com.ibm.ws.security.spnego/src/com/ibm/ws/security/spnego/internal/SpnegoConfigImpl.java", "diffHunk": "@@ -162,6 +168,12 @@ protected void processConfig(Map<String, Object> props) {\n      */\n     protected String processKrb5Keytab(Map<String, Object> props) {\n         String keytab = (String) props.get(KEY_KRB5_KEYTAB);\n+        Path kerbKeytab = kerbSvc.getKeytab(); // from the <kerberos> element", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "originalPosition": 41}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNTI1MTg5", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#pullrequestreview-443525189", "createdAt": "2020-07-07T02:45:16Z", "commit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMjo0NToxN1rOGttTYA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMjo0NToxN1rOGttTYA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDU4MTM0NA==", "bodyText": "We have variable name prefix with krb and kerb ; Can we use one?. I am ok with either one but like to see one prefix for Kerberos.", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r450581344", "createdAt": "2020-07-07T02:45:17Z", "author": {"login": "utle"}, "path": "dev/com.ibm.ws.security.spnego/src/com/ibm/ws/security/spnego/internal/SpnegoConfigImpl.java", "diffHunk": "@@ -180,6 +192,20 @@ protected String processKrb5Keytab(Map<String, Object> props) {\n      */\n     protected String processKrb5Config(Map<String, Object> props) {\n         String krbCf = (String) props.get(KEY_KRB5_CONFIG);\n+        Path kerbConfigFile = kerbSvc.getConfigFile(); // from the <kerberos> element", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "originalPosition": 54}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNTI1Njcy", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#pullrequestreview-443525672", "createdAt": "2020-07-07T02:46:53Z", "commit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMjo0Njo1M1rOGttU0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMjo0Njo1M1rOGttU0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDU4MTcxNQ==", "bodyText": "how's about krbCf and krbCfPath?  or\nkerbCf and KerbCfPath?", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r450581715", "createdAt": "2020-07-07T02:46:53Z", "author": {"login": "utle"}, "path": "dev/com.ibm.ws.security.spnego/src/com/ibm/ws/security/spnego/internal/SpnegoConfigImpl.java", "diffHunk": "@@ -180,6 +192,20 @@ protected String processKrb5Keytab(Map<String, Object> props) {\n      */\n     protected String processKrb5Config(Map<String, Object> props) {\n         String krbCf = (String) props.get(KEY_KRB5_CONFIG);\n+        Path kerbConfigFile = kerbSvc.getConfigFile(); // from the <kerberos> element", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "originalPosition": 54}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNTI4MTc5", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#pullrequestreview-443528179", "createdAt": "2020-07-07T02:55:33Z", "commit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMjo1NTozNFrOGttdHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMjo1NTozNFrOGttdHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDU4MzgzNw==", "bodyText": "Can we remove Kerberos from name and description?", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r450583837", "createdAt": "2020-07-07T02:55:34Z", "author": {"login": "utle"}, "path": "dev/com.ibm.ws.security.kerberos.auth/resources/OSGI-INF/metatype/metatype.xml", "diffHunk": "@@ -0,0 +1,29 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<!--\n+    Copyright (c) 2020 IBM Corporation and others.\n+    All rights reserved. This program and the accompanying materials\n+    are made available under the terms of the Eclipse Public License v1.0\n+    which accompanies this distribution, and is available at\n+    http://www.eclipse.org/legal/epl-v10.html\n+\n+    Contributors:\n+        IBM Corporation - initial API and implementation\n+-->\n+<metatype:MetaData xmlns:metatype=\"http://www.osgi.org/xmlns/metatype/v1.1.0\" \n+                   xmlns:ibm=\"http://www.ibm.com/xmlns/appservers/osgi/metatype/v1.0.0\" \n+                   localization=\"OSGI-INF/l10n/metatype\">\n+    \n+    <OCD id=\"com.ibm.ws.security.kerberos.auth.KerberosService\" name=\"%kerberos\" description=\"%kerberos.desc\" \n+    \t  ibm:alias=\"kerberos\" ibm:beta=\"true\">\n+    \t  \n+    \t<AD id=\"keytab\"     name=\"%kerberos.keytab\"     description=\"%kerberos.keytab.desc\"     type=\"String\" ibm:type=\"location(file)\" required=\"false\"/>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNTMzNDcx", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#pullrequestreview-443533471", "createdAt": "2020-07-07T03:13:51Z", "commit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMzoxMzo1MVrOGttuUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMzoxMzo1MVrOGttuUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDU4ODI0MA==", "bodyText": "When we modify the kerberos element or unsetKrb5Service, don't we need to clean up the subject cache?", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r450588240", "createdAt": "2020-07-07T03:13:51Z", "author": {"login": "utle"}, "path": "dev/com.ibm.ws.security.jca/src/com/ibm/ws/security/jca/internal/AuthDataServiceImpl.java", "diffHunk": "@@ -86,6 +88,14 @@ protected void unsetSecurityService(ServiceReference<SecurityService> reference)\n         securityServiceRef.unsetReference(reference);\n     }\n \n+    protected void setKrb5Service(ServiceReference<KerberosService> ref) {\n+        krb5ServiceRef.setReference(ref);\n+    }\n+\n+    protected void unsetKrb5Service(ServiceReference<KerberosService> ref) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "originalPosition": 24}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNTMzNzk0", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#pullrequestreview-443533794", "createdAt": "2020-07-07T03:15:02Z", "commit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMzoxNTowMlrOGttvXQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMzoxNTowMlrOGttvXQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDU4ODUwOQ==", "bodyText": "2020", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r450588509", "createdAt": "2020-07-07T03:15:02Z", "author": {"login": "utle"}, "path": "dev/com.ibm.ws.security.kerberos.auth/resources/OSGI-INF/wlp/defaultInstances.xml", "diffHunk": "@@ -0,0 +1,13 @@\n+<!--\n+    Copyright (c) 2019 IBM Corporation and others.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "originalPosition": 2}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNTM1NTk0", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#pullrequestreview-443535594", "createdAt": "2020-07-07T03:21:58Z", "commit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMzoyMTo1OFrOGtt1CQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMzoyMTo1OFrOGtt1CQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDU4OTk2MQ==", "bodyText": "I would think the Kerberos service will do more than just get the config and keytab from the kerberos element. So we will know which keytab and config file that we use.\nif (kerberos config)\nget keytab and config files\nelse (get the default file name and location for keytab and config files)\nWe should print out the the kerberos config and keytab as an event.\nThe most common problem we see is which Kerberos config/keytab files that we use.", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r450589961", "createdAt": "2020-07-07T03:21:58Z", "author": {"login": "utle"}, "path": "dev/com.ibm.ws.security.kerberos.auth/src/com/ibm/ws/security/kerberos/auth/KerberosService.java", "diffHunk": "@@ -0,0 +1,79 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n+ *******************************************************************************/\n+package com.ibm.ws.security.kerberos.auth;\n+\n+import java.nio.file.Path;\n+import java.nio.file.Paths;\n+import java.security.AccessController;\n+\n+import org.osgi.service.component.ComponentContext;\n+import org.osgi.service.component.annotations.Activate;\n+import org.osgi.service.component.annotations.Component;\n+import org.osgi.service.component.annotations.ConfigurationPolicy;\n+\n+import com.ibm.websphere.ras.Tr;\n+import com.ibm.websphere.ras.TraceComponent;\n+import com.ibm.ws.kernel.service.util.SecureAction;\n+\n+@Component(configurationPolicy = ConfigurationPolicy.REQUIRE,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "originalPosition": 26}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQzNTM2Njk2", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#pullrequestreview-443536696", "createdAt": "2020-07-07T03:26:07Z", "commit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMzoyNjowOFrOGtt4mA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QwMzoyNjowOFrOGtt4mA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDU5MDg3Mg==", "bodyText": "I hope you also test with IBM JDK 8 and the ibm krb5 debug is -Dcom.ibm.security.krb5.krb5Debug", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r450590872", "createdAt": "2020-07-07T03:26:08Z", "author": {"login": "utle"}, "path": "dev/com.ibm.ws.jdbc_fat_krb5/fat/src/com/ibm/ws/jdbc/fat/db2/JDBCKerberosTest.java", "diffHunk": "@@ -76,8 +76,8 @@ public static void setUp() throws Exception {\n         server.addEnvVar(\"DB2_USER\", db2.getUsername());\n         server.addEnvVar(\"DB2_PASS\", db2.getPassword());\n         server.addEnvVar(\"KRB5_USER\", KRB5_USER);\n+        server.addEnvVar(\"KRB5_CONF\", krbConfPath.toAbsolutePath().toString());\n         List<String> jvmOpts = new ArrayList<>();\n-        jvmOpts.add(\"-Djava.security.krb5.conf=\" + krbConfPath.toAbsolutePath());\n         jvmOpts.add(\"-Dsun.security.krb5.debug=true\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0MDA0OTMy", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#pullrequestreview-444004932", "createdAt": "2020-07-07T15:27:52Z", "commit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxNToyNzo1MlrOGuD87g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wN1QxNToyNzo1MlrOGuD87g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MDk1MjQzMA==", "bodyText": "discussion with Ut: Change to error if both are specified to different value (same as config)", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r450952430", "createdAt": "2020-07-07T15:27:52Z", "author": {"login": "aguibert"}, "path": "dev/com.ibm.ws.security.spnego/src/com/ibm/ws/security/spnego/internal/SpnegoConfigImpl.java", "diffHunk": "@@ -162,6 +168,12 @@ protected void processConfig(Map<String, Object> props) {\n      */\n     protected String processKrb5Keytab(Map<String, Object> props) {\n         String keytab = (String) props.get(KEY_KRB5_KEYTAB);\n+        Path kerbKeytab = kerbSvc.getKeytab(); // from the <kerberos> element\n+\n+        if (keytab == null && kerbKeytab != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "originalPosition": 43}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0MTg2OTE0", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#pullrequestreview-444186914", "createdAt": "2020-07-07T19:28:39Z", "commit": {"oid": "2d5e9904ff6a3e80d137658f3ff057b2bd05ba2c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0NzQyODAz", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#pullrequestreview-444742803", "createdAt": "2020-07-08T13:04:46Z", "commit": {"oid": "1b4fa412b103a69c0bed0e16e39d80b4c81b8758"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ0Nzc3NTM1", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#pullrequestreview-444777535", "createdAt": "2020-07-08T13:43:12Z", "commit": {"oid": "1b4fa412b103a69c0bed0e16e39d80b4c81b8758"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxMzo0MzoxM1rOGuorag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxMzo0NTo0OFrOGuoyYg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTU1NDE1NA==", "bodyText": "Change,\n\"The attribute {0} from the {1} element conflicts with the attribute {2} from the {3} element. Only specify a value on either the {1} or the {3} element. It is suggested to only specify the value on the {1} element.\"\nto,\n\"The attribute {0} from the {1} element conflicts with the attribute {2} from the {3} element. Specify only a value on either the {1} or the {3} element. It is suggested to specify only the value on the {1} element.\"", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r451554154", "createdAt": "2020-07-08T13:43:13Z", "author": {"login": "ManasiGandhi"}, "path": "dev/com.ibm.ws.security.spnego/resources/com/ibm/ws/security/spnego/internal/resources/SpnegoMessages.nlsprops", "diffHunk": "@@ -113,3 +113,7 @@ SPNEGO_CAN_NOT_GET_DELEGATE_SERVICE_SPN.useraction=Verify the service principal\n SPNEGO_DELEGATE_SPN_LOGIN_TO_KDC_FAILURE=CWWKS4322E: Delegate SPN {0} can not authenticate to the Key Distribution Center (KDC) using the Kerberos configuration file {1} and keytab file {2}. Login exception was received: {3}\n SPNEGO_DELEGATE_SPN_LOGIN_TO_KDC_FAILURE.explanation=Can not authenticate to the Key Distribution Center (KDC).\n SPNEGO_DELEGATE_SPN_LOGIN_TO_KDC_FAILURE.useraction=Verify the service principal name format, and make sure it exists on the Windows domain and that the Kerberos keytab file contains the service principal name.\n+\n+SPNEGO_CONFLICTING_SETTINGS_CWWKS4323E=CWWKS4323E: The attribute {0} from the {1} element conflicts with the attribute {2} from the {3} element. Only specify a value on either the {1} or the {3} element. It is suggested to only specify the value on the {1} element.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b4fa412b103a69c0bed0e16e39d80b4c81b8758"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTU1NTkzOA==", "bodyText": "Change,\n\"In order to honor each attribute, a system property needs to be set, which is a system-wide setting. Different values for a system-wide setting cannot be honored.\"\nto,\n\"To recognize each attribute, a system property needs to be set, which is a system-wide setting. Different values for a system-wide setting cannot be recognized.\"", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r451555938", "createdAt": "2020-07-08T13:45:48Z", "author": {"login": "ManasiGandhi"}, "path": "dev/com.ibm.ws.security.spnego/resources/com/ibm/ws/security/spnego/internal/resources/SpnegoMessages.nlsprops", "diffHunk": "@@ -113,3 +113,7 @@ SPNEGO_CAN_NOT_GET_DELEGATE_SERVICE_SPN.useraction=Verify the service principal\n SPNEGO_DELEGATE_SPN_LOGIN_TO_KDC_FAILURE=CWWKS4322E: Delegate SPN {0} can not authenticate to the Key Distribution Center (KDC) using the Kerberos configuration file {1} and keytab file {2}. Login exception was received: {3}\n SPNEGO_DELEGATE_SPN_LOGIN_TO_KDC_FAILURE.explanation=Can not authenticate to the Key Distribution Center (KDC).\n SPNEGO_DELEGATE_SPN_LOGIN_TO_KDC_FAILURE.useraction=Verify the service principal name format, and make sure it exists on the Windows domain and that the Kerberos keytab file contains the service principal name.\n+\n+SPNEGO_CONFLICTING_SETTINGS_CWWKS4323E=CWWKS4323E: The attribute {0} from the {1} element conflicts with the attribute {2} from the {3} element. Only specify a value on either the {1} or the {3} element. It is suggested to only specify the value on the {1} element.\n+SPNEGO_CONFLICTING_SETTINGS_CWWKS4323E.explanation=In order to honor each attribute, a system property needs to be set, which is a system-wide setting. Different values for a system-wide setting cannot be honored.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1b4fa412b103a69c0bed0e16e39d80b4c81b8758"}, "originalPosition": 6}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1b4fa412b103a69c0bed0e16e39d80b4c81b8758", "author": {"user": {"login": "aguibert", "name": "Andrew Guibert"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/1b4fa412b103a69c0bed0e16e39d80b4c81b8758", "committedDate": "2020-07-07T23:18:55Z", "message": "Review comment changes from Ut"}, "afterCommit": {"oid": "91f1be20f079bebc6e54a20a4e14bce6676f24b4", "author": {"user": {"login": "aguibert", "name": "Andrew Guibert"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/91f1be20f079bebc6e54a20a4e14bce6676f24b4", "committedDate": "2020-07-08T18:39:31Z", "message": "Review comment changes from Ut"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ1MDQyMzA0", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#pullrequestreview-445042304", "createdAt": "2020-07-08T18:52:22Z", "commit": {"oid": "91f1be20f079bebc6e54a20a4e14bce6676f24b4"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxODo1MjoyMlrOGu1GtA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0wOFQxOTowMToyNlrOGu1ZsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTc1Nzc0OA==", "bodyText": "Is it possible to say what the name will be used for, or by what?", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r451757748", "createdAt": "2020-07-08T18:52:22Z", "author": {"login": "dmuelle"}, "path": "dev/com.ibm.ws.security.auth.data.common/resources/OSGI-INF/l10n/metatype.properties", "diffHunk": "@@ -35,11 +35,5 @@ maxSize.desc=Maximum number of entries supported by the authentication data subj\n \n #======= KERBEROS SETTINGS =========\n # Do not translate: Kerberos, principal\n-krb5Principal=Kerberos service principal name\n-krb5Principal.desc=The name of the principal to be used. The principal can be a simple username or a service name.\n-\n-# Do not translate: Kerberos, keytab, principal, {user.home}/krb5.keytab\n-krb5Keytab=Kerberos keytab file\n-krb5Keytab.desc=The path of the keytab file that is used to obtain the principal's secret key. If unspecified, the keytab from \\\n-the Kerberos configuration file is used. If it is not specified in the Kerberos configuration file, then it looks for the file \\\n-at {user.home}/krb5.keytab.\n+krb5Principal=Kerberos principal name\n+krb5Principal.desc=The name of the Kerberos principal name or Kerberos service name to be used.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91f1be20f079bebc6e54a20a4e14bce6676f24b4"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTc1OTczNQ==", "bodyText": "If it is not specified in the Kerberos configuration file, then it looks for the file \\ at {user.home}/krb5.keytab.\nWhat do the two \"it\" s in this sentence refer to respectively? I think the first one refers to the keytab but not sure about the second", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r451759735", "createdAt": "2020-07-08T18:56:10Z", "author": {"login": "dmuelle"}, "path": "dev/com.ibm.ws.security.kerberos.auth/resources/OSGI-INF/l10n/metatype.properties", "diffHunk": "@@ -0,0 +1,29 @@\n+###############################################################################\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+###############################################################################\n+#\n+#CMVCPATHNAME com.ibm.ws.security.kerberos.auth/resources/OSGI-INF/l10n/metatype.properties\n+#ISMESSAGEFILE FALSE\n+#NLS_ENCODING=UNICODE\n+#NLS_MESSAGEFORMAT_NONE\n+#\n+\n+kerberos=Kerberos\n+kerberos.desc=System-wide settings for Kerberos authentication\n+\n+keytab=Kerberos keytab file\n+keytab.desc=The path of the keytab file that is used to obtain the principal's secret key. If unspecified, the keytab from \\\n+the Kerberos configuration file is used. If it is not specified in the Kerberos configuration file, then it looks for the file \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91f1be20f079bebc6e54a20a4e14bce6676f24b4"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTc2MTU1Nw==", "bodyText": "change\nThe attribute [{0}]...\nto\nThe [{0}] attribute ...\nIs there a reason  [{0}] is double bracketed, while the other variables are not?\nWhat sort of element is {2} ? Is it a directory location?", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r451761557", "createdAt": "2020-07-08T18:59:33Z", "author": {"login": "dmuelle"}, "path": "dev/com.ibm.ws.security.kerberos.auth/resources/com/ibm/ws/security/kerberos/auth/internal/resources/KerberosMessages.nlsprops", "diffHunk": "@@ -0,0 +1,27 @@\n+###############################################################################\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+###############################################################################\n+#CMVCPATHNAME com.ibm.ws.security.kerberos.auth/resources/com/ibm/ws/security/kerberos/auth/internal/resources/KerberosMessages.nlsprops\n+#COMPONENTPREFIX CWWKS\n+#COMPONENTNAMEFOR WebSphere Application Server Security Kerberos Service\n+#ISMESSAGEFILE TRUE\n+#NLS_MESSAGEFORMAT_VAR\n+#NLS_ENCODING=UNICODE\n+# -------------------------------------------------------------------------------------------------\n+\n+# For any new messages reserve a code from the nlsprops file in the com.ibm.ws.security.kerberos.java8 bundle\n+\n+KRB5_FILE_NOT_FOUND_CWWKS4345E=CWWKS4345E: The attribute [{0}] from the {1} element is configured to a file that does not exist at: {2}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91f1be20f079bebc6e54a20a4e14bce6676f24b4"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTc2MjE3MA==", "bodyText": "I don't think you need to include the second sentence in both the explanation and the useraction, unless there is a specific reason for doing so", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r451762170", "createdAt": "2020-07-08T19:00:39Z", "author": {"login": "dmuelle"}, "path": "dev/com.ibm.ws.security.kerberos.auth/resources/com/ibm/ws/security/kerberos/auth/internal/resources/KerberosMessages.nlsprops", "diffHunk": "@@ -0,0 +1,27 @@\n+###############################################################################\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+###############################################################################\n+#CMVCPATHNAME com.ibm.ws.security.kerberos.auth/resources/com/ibm/ws/security/kerberos/auth/internal/resources/KerberosMessages.nlsprops\n+#COMPONENTPREFIX CWWKS\n+#COMPONENTNAMEFOR WebSphere Application Server Security Kerberos Service\n+#ISMESSAGEFILE TRUE\n+#NLS_MESSAGEFORMAT_VAR\n+#NLS_ENCODING=UNICODE\n+# -------------------------------------------------------------------------------------------------\n+\n+# For any new messages reserve a code from the nlsprops file in the com.ibm.ws.security.kerberos.java8 bundle\n+\n+KRB5_FILE_NOT_FOUND_CWWKS4345E=CWWKS4345E: The attribute [{0}] from the {1} element is configured to a file that does not exist at: {2}\n+KRB5_FILE_NOT_FOUND_CWWKS4345E.explanation=The configuration refers to a file that does not exist, or could not be read. Ensure that the configuration points to a file that exists and is readable by the appliction process.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91f1be20f079bebc6e54a20a4e14bce6676f24b4"}, "originalPosition": 22}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1MTc2MjYwOA==", "bodyText": "What kind of elements are {0} and {1} ?", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r451762608", "createdAt": "2020-07-08T19:01:26Z", "author": {"login": "dmuelle"}, "path": "dev/com.ibm.ws.security.kerberos.auth/resources/com/ibm/ws/security/kerberos/auth/internal/resources/KerberosMessages.nlsprops", "diffHunk": "@@ -0,0 +1,27 @@\n+###############################################################################\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+###############################################################################\n+#CMVCPATHNAME com.ibm.ws.security.kerberos.auth/resources/com/ibm/ws/security/kerberos/auth/internal/resources/KerberosMessages.nlsprops\n+#COMPONENTPREFIX CWWKS\n+#COMPONENTNAMEFOR WebSphere Application Server Security Kerberos Service\n+#ISMESSAGEFILE TRUE\n+#NLS_MESSAGEFORMAT_VAR\n+#NLS_ENCODING=UNICODE\n+# -------------------------------------------------------------------------------------------------\n+\n+# For any new messages reserve a code from the nlsprops file in the com.ibm.ws.security.kerberos.java8 bundle\n+\n+KRB5_FILE_NOT_FOUND_CWWKS4345E=CWWKS4345E: The attribute [{0}] from the {1} element is configured to a file that does not exist at: {2}\n+KRB5_FILE_NOT_FOUND_CWWKS4345E.explanation=The configuration refers to a file that does not exist, or could not be read. Ensure that the configuration points to a file that exists and is readable by the appliction process.\n+KRB5_FILE_NOT_FOUND_CWWKS4345E.useraction=Ensure that the configuration points to a file that exists and is readable by the application process.\n+\n+KRB5_FILE_FOUND_CWWKS4346I=CWWKS4346I: The Kerberos component is configured to use a {0} located at {1}", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "91f1be20f079bebc6e54a20a4e14bce6676f24b4"}, "originalPosition": 25}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "91f1be20f079bebc6e54a20a4e14bce6676f24b4", "author": {"user": {"login": "aguibert", "name": "Andrew Guibert"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/91f1be20f079bebc6e54a20a4e14bce6676f24b4", "committedDate": "2020-07-08T18:39:31Z", "message": "Review comment changes from Ut"}, "afterCommit": {"oid": "ed56f87eeb5a3b4ff3e20bfc0cdda463eb55f687", "author": {"user": {"login": "aguibert", "name": "Andrew Guibert"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/ed56f87eeb5a3b4ff3e20bfc0cdda463eb55f687", "committedDate": "2020-07-13T15:06:04Z", "message": "Review comment changes from Ut and ID team"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ3Njk0NDgx", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#pullrequestreview-447694481", "createdAt": "2020-07-14T00:02:37Z", "commit": {"oid": "ed56f87eeb5a3b4ff3e20bfc0cdda463eb55f687"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwMDowMjozN1rOGw_CIA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQwMDoxOTo1MFrOGw_VQQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDAxNzU2OA==", "bodyText": "change\nThe location is passed to the JDK implementation of \nthe Kerberos APIs using the java.security.krb5.conf system property.\ndepending on which of the following is correct:\nto\nThe location is passed to the JDK implementation of \nthe Kerberos APIs by using the java.security.krb5.conf system property.\nor\nThe location is passed to the JDK implementation of \nthe Kerberos APIs that are using the java.security.krb5.conf system property.", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r454017568", "createdAt": "2020-07-14T00:02:37Z", "author": {"login": "dmuelle"}, "path": "dev/com.ibm.ws.security.kerberos.auth/resources/OSGI-INF/l10n/metatype.properties", "diffHunk": "@@ -0,0 +1,29 @@\n+###############################################################################\n+# Copyright (c) 2020 IBM Corporation and others.\n+# All rights reserved. This program and the accompanying materials\n+# are made available under the terms of the Eclipse Public License v1.0\n+# which accompanies this distribution, and is available at\n+# http://www.eclipse.org/legal/epl-v10.html\n+#\n+# Contributors:\n+#     IBM Corporation - initial API and implementation\n+###############################################################################\n+#\n+#CMVCPATHNAME com.ibm.ws.security.kerberos.auth/resources/OSGI-INF/l10n/metatype.properties\n+#ISMESSAGEFILE FALSE\n+#NLS_ENCODING=UNICODE\n+#NLS_MESSAGEFORMAT_NONE\n+#\n+\n+kerberos=Kerberos\n+kerberos.desc=System-wide settings for Kerberos authentication\n+\n+keytab=Kerberos keytab file\n+keytab.desc=The path of the keytab file that is used to obtain the principal's secret key. If unspecified, the keytab from \\\n+the Kerberos configuration file is used. If a keytab file is not specified in the Kerberos configuration file, then the location \\\n+{user.home}/krb5.keytab is checked.\n+\n+configFile=Kerberos conf file\n+configFile.desc=The location of an MIT style krb5.conf configuration file. The location is passed to the JDK implementation of \\\n+the Kerberos APIs using the java.security.krb5.conf system property. If unspecified, the krb5.conf file is searched for according to the \\", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ed56f87eeb5a3b4ff3e20bfc0cdda463eb55f687"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDAxOTU5OQ==", "bodyText": "suggested edits:\nchange\nThe attribute {0} from the {1} element conflicts with the attribute {2} from the {3} element. Specify only a value on either the {1} or the {3} element. It is suggested to specify only the value on the {1} element.\nto\nThe {0} attribute from the {1} element conflicts with the {2} attribute  from the {3} element. Specify a value only on either the {1} or the {3} element, not on both elements. It is suggested to specify  the value only on the {1} element.\nDo the attributes in this message need double bracketing?\nchange\nSpecify the attribute in only one of the config elements.\nto\nSpecify the attribute in only one of the configuration elements.", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r454019599", "createdAt": "2020-07-14T00:09:42Z", "author": {"login": "dmuelle"}, "path": "dev/com.ibm.ws.security.spnego/resources/com/ibm/ws/security/spnego/internal/resources/SpnegoMessages.nlsprops", "diffHunk": "@@ -113,3 +113,7 @@ SPNEGO_CAN_NOT_GET_DELEGATE_SERVICE_SPN.useraction=Verify the service principal\n SPNEGO_DELEGATE_SPN_LOGIN_TO_KDC_FAILURE=CWWKS4322E: Delegate SPN {0} can not authenticate to the Key Distribution Center (KDC) using the Kerberos configuration file {1} and keytab file {2}. Login exception was received: {3}\n SPNEGO_DELEGATE_SPN_LOGIN_TO_KDC_FAILURE.explanation=Can not authenticate to the Key Distribution Center (KDC).\n SPNEGO_DELEGATE_SPN_LOGIN_TO_KDC_FAILURE.useraction=Verify the service principal name format, and make sure it exists on the Windows domain and that the Kerberos keytab file contains the service principal name.\n+\n+SPNEGO_CONFLICTING_SETTINGS_CWWKS4323E=The attribute {0} from the {1} element conflicts with the attribute {2} from the {3} element. Specify only a value on either the {1} or the {3} element. It is suggested to specify only the value on the {1} element.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ed56f87eeb5a3b4ff3e20bfc0cdda463eb55f687"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDAyMDE1NQ==", "bodyText": "change\nStandard variable substitutions, such as ${server.config.dir}, can be used when specifying the directory path.\nto\nStandard variable substitutions, such as ${server.config.dir}, can be used when you specify the directory path.", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r454020155", "createdAt": "2020-07-14T00:11:43Z", "author": {"login": "dmuelle"}, "path": "dev/com.ibm.ws.security.spnego/resources/OSGI-INF/l10n/metatype.properties", "diffHunk": "@@ -29,10 +29,10 @@ canonicalHostName=Use canonical host name\n canonicalHostName.desc= Controls whether you want to use the canonical host name.\n \n krb5Config=The Kerberos configuration file with full path\n-krb5Config.desc=Specifies the fully qualified Kerberos configuration path and name. Standard variable substitutions, such as ${server.config.dir}, can be used when specifying the directory path.\n+krb5Config.desc=Deprecated: use configFile attribute on the <kerberos> element instead. Specifies the fully qualified Kerberos configuration path and name. Standard variable substitutions, such as ${server.config.dir}, can be used when specifying the directory path.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ed56f87eeb5a3b4ff3e20bfc0cdda463eb55f687"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDAyMjQ2NQ==", "bodyText": "Specifies the fully qualified Kerberos keytab  path and name.\nremove extra space between \"keytab\" and \"path\"\nchange\nStandard variable substitutions, such as ${server.config.dir}, can be used when specifying the directory path.\nto\nStandard variable substitutions, such as ${server.config.dir}, can be used when you specify the directory path.", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#discussion_r454022465", "createdAt": "2020-07-14T00:19:50Z", "author": {"login": "dmuelle"}, "path": "dev/com.ibm.ws.security.spnego/resources/OSGI-INF/l10n/metatype.properties", "diffHunk": "@@ -29,10 +29,10 @@ canonicalHostName=Use canonical host name\n canonicalHostName.desc= Controls whether you want to use the canonical host name.\n \n krb5Config=The Kerberos configuration file with full path\n-krb5Config.desc=Specifies the fully qualified Kerberos configuration path and name. Standard variable substitutions, such as ${server.config.dir}, can be used when specifying the directory path.\n+krb5Config.desc=Deprecated: use configFile attribute on the <kerberos> element instead. Specifies the fully qualified Kerberos configuration path and name. Standard variable substitutions, such as ${server.config.dir}, can be used when specifying the directory path.\n \n krb5Keytab=The Kerberos keytab file name and include path\n-krb5Keytab.desc=Specifies the fully qualified Kerberos keytab  path and name. Standard variable substitutions, such as ${server.config.dir}, can be used when specifying the directory path. The Kerberos keytab file contains a list of keys that are analogous to user passwords. It is important for hosts to protect their Kerberos keytab files by storing them on the local disk.\n+krb5Keytab.desc=Deprecated: use keytab attribute on the <kerberos> element instead. Specifies the fully qualified Kerberos keytab  path and name. Standard variable substitutions, such as ${server.config.dir}, can be used when specifying the directory path. The Kerberos keytab file contains a list of keys that are analogous to user passwords. It is important for hosts to protect their Kerberos keytab files by storing them on the local disk.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ed56f87eeb5a3b4ff3e20bfc0cdda463eb55f687"}, "originalPosition": 9}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7ac903ec633bc9fbd08d32df9055a0c216cb4934", "author": {"user": {"login": "aguibert", "name": "Andrew Guibert"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/7ac903ec633bc9fbd08d32df9055a0c216cb4934", "committedDate": "2020-07-14T04:19:27Z", "message": "Review comment changes from Ut and ID team"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ed56f87eeb5a3b4ff3e20bfc0cdda463eb55f687", "author": {"user": {"login": "aguibert", "name": "Andrew Guibert"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/ed56f87eeb5a3b4ff3e20bfc0cdda463eb55f687", "committedDate": "2020-07-13T15:06:04Z", "message": "Review comment changes from Ut and ID team"}, "afterCommit": {"oid": "7ac903ec633bc9fbd08d32df9055a0c216cb4934", "author": {"user": {"login": "aguibert", "name": "Andrew Guibert"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/7ac903ec633bc9fbd08d32df9055a0c216cb4934", "committedDate": "2020-07-14T04:19:27Z", "message": "Review comment changes from Ut and ID team"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MDY4NjU2", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#pullrequestreview-448068656", "createdAt": "2020-07-14T12:42:28Z", "commit": {"oid": "7ac903ec633bc9fbd08d32df9055a0c216cb4934"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4MDkyMTk3", "url": "https://github.com/OpenLiberty/open-liberty/pull/12901#pullrequestreview-448092197", "createdAt": "2020-07-14T13:12:44Z", "commit": {"oid": "7ac903ec633bc9fbd08d32df9055a0c216cb4934"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2238, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}