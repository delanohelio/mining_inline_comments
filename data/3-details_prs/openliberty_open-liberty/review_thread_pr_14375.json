{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5NDA2OTQ0", "number": 14375, "reviewThreads": {"totalCount": 14, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMToxMzozMVrOErXA4Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNTozMTowN1rOExQagQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzOTAxMjgxOnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/fat/src/com/ibm/ws/microprofile/config/fat/suite/SharedShrinkWrapApps.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMToxMzozMVrOHeFv3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMToxMzozMVrOHeFv3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTMxMzUwMw==", "bodyText": "you got some tabs here maybe", "url": "https://github.com/OpenLiberty/open-liberty/pull/14375#discussion_r501313503", "createdAt": "2020-10-07T21:13:31Z", "author": {"login": "Emily-Jiang"}, "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/fat/src/com/ibm/ws/microprofile/config/fat/suite/SharedShrinkWrapApps.java", "diffHunk": "@@ -26,7 +26,7 @@\n     public static JavaArchive getTestAppUtilsJar() {\n         final String LIB_NAME = \"testAppUtils\";\n         JavaArchive testAppUtils = ShrinkWrap.create(JavaArchive.class, LIB_NAME + \".jar\")\n-                        .addPackage(\"com.ibm.ws.microprofile.appConfig.test.utils\");\n+                                             .addPackage(\"com.ibm.ws.microprofile.appConfig.test.utils\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb75c416a4dcb50b1203ffe052f04170cb9529d5"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzOTAxMzUxOnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/fat/src/com/ibm/ws/microprofile/config/fat/suite/SharedShrinkWrapApps.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMToxMzo1MFrOHeFwVw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMToxMzo1MFrOHeFwVw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTMxMzYyMw==", "bodyText": "can you fix the format?", "url": "https://github.com/OpenLiberty/open-liberty/pull/14375#discussion_r501313623", "createdAt": "2020-10-07T21:13:50Z", "author": {"login": "Emily-Jiang"}, "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/fat/src/com/ibm/ws/microprofile/config/fat/suite/SharedShrinkWrapApps.java", "diffHunk": "@@ -38,22 +38,24 @@ public static WebArchive cdiConfigServerApps() {\n         }\n \n         cdiConfig_war = ShrinkWrap.create(WebArchive.class, APP_NAME + \".war\")\n-                        .addAsManifestResource(new File(\"test-applications/\" + APP_NAME + \".war/resources/META-INF/permissions.xml\"), \"permissions.xml\")\n-                        .addAsManifestResource(new File(\"test-applications/\" + APP_NAME + \".war/resources/META-INF/services/org.eclipse.microprofile.config.spi.ConfigSource\"),\n-                                               \"services/org.eclipse.microprofile.config.spi.ConfigSource\")\n-                        .addAsManifestResource(new File(\"test-applications/\" + APP_NAME + \".war/resources/META-INF/services/org.eclipse.microprofile.config.spi.Converter\"),\n-                                               \"services/org.eclipse.microprofile.config.spi.Converter\")\n-                        .addAsLibrary(cdiConfigJar());\n+                                  .addAsManifestResource(new File(\"test-applications/\" + APP_NAME + \".war/resources/META-INF/permissions.xml\"), \"permissions.xml\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb75c416a4dcb50b1203ffe052f04170cb9529d5"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzOTAzMDIzOnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/fat/src/com/ibm/ws/microprofile/config/fat/tests/LibertySpecificConfigTests.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMToxOToyMVrOHeF6rw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNTo1MjoyNlrOHelQTA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTMxNjI3MQ==", "bodyText": "Please list what these tests for.", "url": "https://github.com/OpenLiberty/open-liberty/pull/14375#discussion_r501316271", "createdAt": "2020-10-07T21:19:21Z", "author": {"login": "Emily-Jiang"}, "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/fat/src/com/ibm/ws/microprofile/config/fat/tests/LibertySpecificConfigTests.java", "diffHunk": "@@ -0,0 +1,111 @@\n+/*******************************************************************************\n+ * Copyright (c) 2016, 2018 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n+ *******************************************************************************/\n+package com.ibm.ws.microprofile.config.fat.tests;\n+\n+import java.io.File;\n+\n+import org.jboss.shrinkwrap.api.ShrinkWrap;\n+import org.jboss.shrinkwrap.api.asset.FileAsset;\n+import org.jboss.shrinkwrap.api.spec.WebArchive;\n+import org.junit.AfterClass;\n+import org.junit.BeforeClass;\n+import org.junit.ClassRule;\n+import org.junit.runner.RunWith;\n+\n+import com.ibm.websphere.simplicity.ShrinkHelper;\n+import com.ibm.ws.microprofile.appConfig.cdi.libertyTests.LibertyBuiltInConverterTestServlet;\n+import com.ibm.ws.microprofile.appConfig.cdi.libertyTests.LibertyFieldTestServlet;\n+import com.ibm.ws.microprofile.appConfig.classLoaders.test.libertyTests.LibertyClassLoadersTestServlet;\n+import com.ibm.ws.microprofile.appConfig.converters.test.libertyTests.LibertyConvertersTestServlet;\n+import com.ibm.ws.microprofile.appConfig.defaultSources.tests.libertyTests.LibertyDefaultSourcesTestServlet;\n+import com.ibm.ws.microprofile.config.fat.repeat.RepeatConfigActions;\n+import com.ibm.ws.microprofile.config.fat.repeat.RepeatConfigActions.Version;\n+import com.ibm.ws.microprofile.config.fat.suite.SharedShrinkWrapApps;\n+\n+import componenttest.annotation.Server;\n+import componenttest.annotation.TestServlet;\n+import componenttest.annotation.TestServlets;\n+import componenttest.custom.junit.runner.FATRunner;\n+import componenttest.custom.junit.runner.Mode;\n+import componenttest.custom.junit.runner.Mode.TestMode;\n+import componenttest.rules.repeater.RepeatTests;\n+import componenttest.topology.impl.LibertyServer;\n+import componenttest.topology.utils.FATServletClient;\n+\n+/**\n+ * These tests test Config functionality specific to Liberty's implementation (mpConfig 1.x) of MicroProfile Config specification.\n+ *\n+ * For mpConfig versions <2.0, Open Liberty implemented some extra pieces of functionality beyond the MicroProfile Config specification.\n+ *\n+ * In additon, some tests check for error messages defined by Liberty, and others check functionality which changed between mpConfig 1.4 -> 2.0.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb75c416a4dcb50b1203ffe052f04170cb9529d5"}, "originalPosition": 48}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTgyOTcwOA==", "bodyText": "Any tests within LibertySpecificConfigTests.java classes are tests for functionality specific to Liberty's implementation (mpConfig < 2.0) of MP Config (as explained in the comment).\nThe tests should be self-explanatory, or have comments explaining their purpose.", "url": "https://github.com/OpenLiberty/open-liberty/pull/14375#discussion_r501829708", "createdAt": "2020-10-08T15:52:26Z", "author": {"login": "Joseph-Cass"}, "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/fat/src/com/ibm/ws/microprofile/config/fat/tests/LibertySpecificConfigTests.java", "diffHunk": "@@ -0,0 +1,111 @@\n+/*******************************************************************************\n+ * Copyright (c) 2016, 2018 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n+ *******************************************************************************/\n+package com.ibm.ws.microprofile.config.fat.tests;\n+\n+import java.io.File;\n+\n+import org.jboss.shrinkwrap.api.ShrinkWrap;\n+import org.jboss.shrinkwrap.api.asset.FileAsset;\n+import org.jboss.shrinkwrap.api.spec.WebArchive;\n+import org.junit.AfterClass;\n+import org.junit.BeforeClass;\n+import org.junit.ClassRule;\n+import org.junit.runner.RunWith;\n+\n+import com.ibm.websphere.simplicity.ShrinkHelper;\n+import com.ibm.ws.microprofile.appConfig.cdi.libertyTests.LibertyBuiltInConverterTestServlet;\n+import com.ibm.ws.microprofile.appConfig.cdi.libertyTests.LibertyFieldTestServlet;\n+import com.ibm.ws.microprofile.appConfig.classLoaders.test.libertyTests.LibertyClassLoadersTestServlet;\n+import com.ibm.ws.microprofile.appConfig.converters.test.libertyTests.LibertyConvertersTestServlet;\n+import com.ibm.ws.microprofile.appConfig.defaultSources.tests.libertyTests.LibertyDefaultSourcesTestServlet;\n+import com.ibm.ws.microprofile.config.fat.repeat.RepeatConfigActions;\n+import com.ibm.ws.microprofile.config.fat.repeat.RepeatConfigActions.Version;\n+import com.ibm.ws.microprofile.config.fat.suite.SharedShrinkWrapApps;\n+\n+import componenttest.annotation.Server;\n+import componenttest.annotation.TestServlet;\n+import componenttest.annotation.TestServlets;\n+import componenttest.custom.junit.runner.FATRunner;\n+import componenttest.custom.junit.runner.Mode;\n+import componenttest.custom.junit.runner.Mode.TestMode;\n+import componenttest.rules.repeater.RepeatTests;\n+import componenttest.topology.impl.LibertyServer;\n+import componenttest.topology.utils.FATServletClient;\n+\n+/**\n+ * These tests test Config functionality specific to Liberty's implementation (mpConfig 1.x) of MicroProfile Config specification.\n+ *\n+ * For mpConfig versions <2.0, Open Liberty implemented some extra pieces of functionality beyond the MicroProfile Config specification.\n+ *\n+ * In additon, some tests check for error messages defined by Liberty, and others check functionality which changed between mpConfig 1.4 -> 2.0.", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTMxNjI3MQ=="}, "originalCommit": {"oid": "eb75c416a4dcb50b1203ffe052f04170cb9529d5"}, "originalPosition": 48}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzOTAzNjU3OnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/test-applications/brokenCDIConfig.war/src/com/ibm/ws/microprofile/appConfig/cdi/broken/test/TypeWithValidConverter.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMToyMToxNFrOHeF-Wg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMToyMToxNFrOHeF-Wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTMxNzIxMA==", "bodyText": "why did you change the year?", "url": "https://github.com/OpenLiberty/open-liberty/pull/14375#discussion_r501317210", "createdAt": "2020-10-07T21:21:14Z", "author": {"login": "Emily-Jiang"}, "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/test-applications/brokenCDIConfig.war/src/com/ibm/ws/microprofile/appConfig/cdi/broken/test/TypeWithValidConverter.java", "diffHunk": "@@ -1,5 +1,5 @@\n /*******************************************************************************\n- * Copyright (c) 2019 IBM Corporation and others.\n+ * Copyright (c) 2018 IBM Corporation and others.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb75c416a4dcb50b1203ffe052f04170cb9529d5"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzOTAzNzkyOnYy", "diffSide": "LEFT", "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/test-applications/brokenCDIConfig.war/src/com/ibm/ws/microprofile/appConfig/cdi/broken/test/TypeWithValidConverter.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMToyMTo0NVrOHeF_Ow==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QyMToyMTo0NVrOHeF_Ow==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTMxNzQzNQ==", "bodyText": "Why did you delete this?", "url": "https://github.com/OpenLiberty/open-liberty/pull/14375#discussion_r501317435", "createdAt": "2020-10-07T21:21:45Z", "author": {"login": "Emily-Jiang"}, "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/test-applications/brokenCDIConfig.war/src/com/ibm/ws/microprofile/appConfig/cdi/broken/test/TypeWithValidConverter.java", "diffHunk": "@@ -8,23 +8,21 @@\n  * Contributors:\n  *     IBM Corporation - initial API and implementation\n  *******************************************************************************/\n-package io.openliberty.microprofile.config.internal_fat.apps.badobserver;\n-\n-import javax.inject.Inject;\n-import javax.servlet.annotation.WebServlet;\n-\n-import componenttest.app.FATServlet;\n+package com.ibm.ws.microprofile.appConfig.cdi.broken.test;\n \n /**\n  *\n  */\n-@WebServlet(\"/\")\n-public class BadObserverServlet extends FATServlet {\n+public class TypeWithValidConverter {\n \n-    @Inject\n-    BadObserverBean bean;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "eb75c416a4dcb50b1203ffe052f04170cb9529d5"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MTkyMTY5OnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.microprofile.config.1.4_fat/fat/src/com/ibm/ws/microprofile/config14/test/LibertySpecificConfigTests.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNDoxODo1M1rOHeg6YQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNDoxODo1M1rOHeg6YQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTc1ODU2MQ==", "bodyText": "Note to reviewer(s): Git has muddled up a file creation + deletion for a file rename here.", "url": "https://github.com/OpenLiberty/open-liberty/pull/14375#discussion_r501758561", "createdAt": "2020-10-08T14:18:53Z", "author": {"login": "Joseph-Cass"}, "path": "dev/com.ibm.ws.microprofile.config.1.4_fat/fat/src/com/ibm/ws/microprofile/config14/test/LibertySpecificConfigTests.java", "diffHunk": "@@ -1,5 +1,5 @@\n /*******************************************************************************", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae2d0e91beabadb975897aa1640f267028f3c1da"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MTkyNTU2OnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/test-applications/brokenCDIConfig.war/src/com/ibm/ws/microprofile/appConfig/cdi/broken/test/TypeWithNoConverter.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNDoxOTozNVrOHeg8tw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNDoxOTozNVrOHeg8tw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTc1OTE1OQ==", "bodyText": "Note to reviewer(s): Git has muddled up a file creation + deletion for a file rename here.", "url": "https://github.com/OpenLiberty/open-liberty/pull/14375#discussion_r501759159", "createdAt": "2020-10-08T14:19:35Z", "author": {"login": "Joseph-Cass"}, "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/test-applications/brokenCDIConfig.war/src/com/ibm/ws/microprofile/appConfig/cdi/broken/test/TypeWithNoConverter.java", "diffHunk": "@@ -1,5 +1,5 @@\n /*******************************************************************************", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae2d0e91beabadb975897aa1640f267028f3c1da"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MTkyNjAzOnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/test-applications/brokenCDIConfig.war/src/com/ibm/ws/microprofile/appConfig/cdi/broken/test/TypeWithValidConverter.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNDoxOTo0MVrOHeg8_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNDoxOTo0MVrOHeg8_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTc1OTIzMQ==", "bodyText": "Note to reviewer(s): Git has muddled up a file creation + deletion for a file rename here.", "url": "https://github.com/OpenLiberty/open-liberty/pull/14375#discussion_r501759231", "createdAt": "2020-10-08T14:19:41Z", "author": {"login": "Joseph-Cass"}, "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/test-applications/brokenCDIConfig.war/src/com/ibm/ws/microprofile/appConfig/cdi/broken/test/TypeWithValidConverter.java", "diffHunk": "@@ -1,5 +1,5 @@\n /*******************************************************************************", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae2d0e91beabadb975897aa1640f267028f3c1da"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MTkyODE3OnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/test-applications/cdiConfig.jar/src/com/ibm/ws/microprofile/appConfig/cdi/libertyTests/LibertyBuiltInConverterTestServlet.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNDoyMDowNVrOHeg-Ug==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNDoyMDowNVrOHeg-Ug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTc1OTU3MA==", "bodyText": "Note to reviewer(s): Git has muddled up a file creation + deletion for a file rename here.", "url": "https://github.com/OpenLiberty/open-liberty/pull/14375#discussion_r501759570", "createdAt": "2020-10-08T14:20:05Z", "author": {"login": "Joseph-Cass"}, "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/test-applications/cdiConfig.jar/src/com/ibm/ws/microprofile/appConfig/cdi/libertyTests/LibertyBuiltInConverterTestServlet.java", "diffHunk": "@@ -1,5 +1,5 @@\n /*******************************************************************************", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae2d0e91beabadb975897aa1640f267028f3c1da"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0MTkzMDgzOnYy", "diffSide": "RIGHT", "path": "dev/io.openliberty.microprofile.config.2.0.internal_fat/fat/src/io/openliberty/microprofile/config/internal_fat/apps/brokenInjection/MissingConfigPropertyBean.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNDoyMDo0MFrOHehACg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wOFQxNDoyMDo0MFrOHehACg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTc2MDAxMA==", "bodyText": "Note to reviewer(s): Git has muddled up a file creation + deletion for a file rename here.", "url": "https://github.com/OpenLiberty/open-liberty/pull/14375#discussion_r501760010", "createdAt": "2020-10-08T14:20:40Z", "author": {"login": "Joseph-Cass"}, "path": "dev/io.openliberty.microprofile.config.2.0.internal_fat/fat/src/io/openliberty/microprofile/config/internal_fat/apps/brokenInjection/MissingConfigPropertyBean.java", "diffHunk": "@@ -1,5 +1,5 @@\n /*******************************************************************************", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae2d0e91beabadb975897aa1640f267028f3c1da"}, "originalPosition": 1}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzE4MzI2OnYy", "diffSide": "RIGHT", "path": "dev/io.openliberty.microprofile.config.2.0.internal_fat/fat/src/io/openliberty/microprofile/config/internal_fat/apps/badobserver/TestObserver.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNToxOTo1OFrOHgsJVQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNToxOTo1OFrOHgsJVQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDAzOTc2NQ==", "bodyText": "Package name has a capitalized O whereas the corresponding directory does not.", "url": "https://github.com/OpenLiberty/open-liberty/pull/14375#discussion_r504039765", "createdAt": "2020-10-13T15:19:58Z", "author": {"login": "Azquelt"}, "path": "dev/io.openliberty.microprofile.config.2.0.internal_fat/fat/src/io/openliberty/microprofile/config/internal_fat/apps/badobserver/TestObserver.java", "diffHunk": "@@ -8,7 +8,7 @@\n  * Contributors:\n  *     IBM Corporation - initial API and implementation\n  *******************************************************************************/\n-package io.openliberty.microprofile.config.internal_fat.apps.badobserver;\n+package io.openliberty.microprofile.config.internal_fat.apps.badObserver;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae2d0e91beabadb975897aa1640f267028f3c1da"}, "originalPosition": 12}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzQ0NDYzOnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/test-applications/cdiConfig.jar/src/com/ibm/ws/microprofile/appConfig/cdi/beans/ConfigFieldInjectionBean.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNjoxNDowM1rOHgurPQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNjoxNDowM1rOHgurPQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA4MTIxMw==", "bodyText": "These methods which return null look like they're not referenced anywhere any more?", "url": "https://github.com/OpenLiberty/open-liberty/pull/14375#discussion_r504081213", "createdAt": "2020-10-13T16:14:03Z", "author": {"login": "Azquelt"}, "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/test-applications/cdiConfig.jar/src/com/ibm/ws/microprofile/appConfig/cdi/beans/ConfigFieldInjectionBean.java", "diffHunk": "@@ -203,25 +167,32 @@ public URL getOPTIONAL_MISSING_KEY() {\n     }\n \n     @Override\n-    public Pizza getPIZZA_KEY() {\n-        return PIZZA_EXISTING_PROP;\n+    public String getMISSING_KEY() {\n+        return MISSING_KEY_WITH_DEFAULT_VALUE;\n     }\n \n     @Override\n-    public Pizza getPIZZA_MISSING_KEY() {\n-        return PIZZA_MISSING_PROP;\n+    public Pizza getPIZZA_GOOD_KEY() {\n+        return PIZZA_GOOD_PROP;\n     }\n \n     @Override\n-    public Pizza getPIZZA_GOOD_KEY() {\n-        return PIZZA_GOOD_PROP;\n+    public Parent getPARENT_KEY() {\n+        return null;\n     }\n \n-//    public Car<Red> getRED_CAR_KEY() {\n-//        return RED_CAR_PROP;\n-//    }\n-//\n-//    public Car<Blue> getBLUE_CAR_KEY() {\n-//        return BLUE_CAR_PROP;\n-//    }\n+    @Override\n+    public Animal getANIMAL_KEY() {\n+        return null;\n+    }\n+\n+    @Override\n+    public Pizza getPIZZA_KEY() {\n+        return null;\n+    }\n+\n+    @Override\n+    public Pizza getPIZZA_MISSING_KEY() {\n+        return null;\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae2d0e91beabadb975897aa1640f267028f3c1da"}, "originalPosition": 137}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE1NzQ0OTk1OnYy", "diffSide": "RIGHT", "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/test-applications/cdiConfig.jar/src/com/ibm/ws/microprofile/appConfig/cdi/beans/ConfigFieldInjectionInterface.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xM1QxNjoxNToxMlrOHguudg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNFQwODo0OToxOVrOHhIzBg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA4MjAzOA==", "bodyText": "Not sure that this interface is actually referenced anywhere apart from the bean that implements it. Maybe it could be taken out?", "url": "https://github.com/OpenLiberty/open-liberty/pull/14375#discussion_r504082038", "createdAt": "2020-10-13T16:15:12Z", "author": {"login": "Azquelt"}, "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/test-applications/cdiConfig.jar/src/com/ibm/ws/microprofile/appConfig/cdi/beans/ConfigFieldInjectionInterface.java", "diffHunk": "@@ -48,6 +48,8 @@\n \n     public URL getOPTIONAL_MISSING_KEY();\n \n+    public String getMISSING_KEY();\n+\n     public Pizza getPIZZA_KEY();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ae2d0e91beabadb975897aa1640f267028f3c1da"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDUwOTE5MA==", "bodyText": "Yes, you're right, only ConfigFieldInjectionBean.java implements this interface. I'd be happy to take it out. This would also resolve this comment: #14375 (comment)", "url": "https://github.com/OpenLiberty/open-liberty/pull/14375#discussion_r504509190", "createdAt": "2020-10-14T08:49:19Z", "author": {"login": "Joseph-Cass"}, "path": "dev/com.ibm.ws.microprofile.config.1.1_fat/test-applications/cdiConfig.jar/src/com/ibm/ws/microprofile/appConfig/cdi/beans/ConfigFieldInjectionInterface.java", "diffHunk": "@@ -48,6 +48,8 @@\n \n     public URL getOPTIONAL_MISSING_KEY();\n \n+    public String getMISSING_KEY();\n+\n     public Pizza getPIZZA_KEY();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNDA4MjAzOA=="}, "originalCommit": {"oid": "ae2d0e91beabadb975897aa1640f267028f3c1da"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzIwMDg0NjA5OnYy", "diffSide": "RIGHT", "path": "dev/io.openliberty.microprofile.config.2.0.internal_fat/fat/src/io/openliberty/microprofile/config/internal_fat/apps/defaultSources/DefaultSourcesTestServlet.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNTozMTowN1rOHnS9Sw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yM1QxNTozMTowN1rOHnS9Sw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMDk2NzExNQ==", "bodyText": "This test isn't correct any more if any of the system properties or environment variables contain ${foo} as this would trigger property expansion so the input value won't match the value retrieved from config.\nThis does seem to happen on some linux systems.", "url": "https://github.com/OpenLiberty/open-liberty/pull/14375#discussion_r510967115", "createdAt": "2020-10-23T15:31:07Z", "author": {"login": "Azquelt"}, "path": "dev/io.openliberty.microprofile.config.2.0.internal_fat/fat/src/io/openliberty/microprofile/config/internal_fat/apps/defaultSources/DefaultSourcesTestServlet.java", "diffHunk": "@@ -0,0 +1,74 @@\n+/*******************************************************************************\n+ * Copyright (c) 2020 IBM Corporation and others.\n+ * All rights reserved. This program and the accompanying materials\n+ * are made available under the terms of the Eclipse Public License v1.0\n+ * which accompanies this distribution, and is available at\n+ * http://www.eclipse.org/legal/epl-v10.html\n+ *\n+ * Contributors:\n+ *     IBM Corporation - initial API and implementation\n+ *******************************************************************************/\n+package io.openliberty.microprofile.config.internal_fat.apps.defaultSources;\n+\n+import java.util.HashMap;\n+import java.util.Map;\n+import java.util.Properties;\n+import java.util.Set;\n+\n+import javax.servlet.annotation.WebServlet;\n+\n+import org.eclipse.microprofile.config.Config;\n+import org.eclipse.microprofile.config.spi.ConfigBuilder;\n+import org.eclipse.microprofile.config.spi.ConfigProviderResolver;\n+import org.junit.Assert;\n+import org.junit.Test;\n+\n+import componenttest.app.FATServlet;\n+\n+@WebServlet(\"/\")\n+public class DefaultSourcesTestServlet extends FATServlet {\n+\n+    /**\n+     *\n+     * @throws Exception\n+     */\n+    @Test\n+    public void defaultSystemConfigProperties() throws Exception {\n+        Map<String, String> systemValues = new HashMap<>(System.getenv());\n+        Properties props = System.getProperties();\n+\n+        // Properties override environment variables.\n+        for (Map.Entry<?, ?> entry : props.entrySet()) {\n+            String key = (String) entry.getKey();\n+            String value = (String) entry.getValue();\n+            systemValues.put(key, value);\n+        }\n+\n+        ConfigBuilder builder = ConfigProviderResolver.instance().getBuilder();\n+        builder.addDefaultSources();\n+        Config config = builder.build();\n+\n+        // Bit of a naughty cast but we know it's a set and that's easier to work on\n+        Set<String> configPropertyNames = (Set<String>) config.getPropertyNames();\n+\n+        Assert.assertFalse(\"There should be at least 1 system value.\", systemValues.isEmpty());\n+\n+        // Check expected Config property values are present\n+        for (Map.Entry<String, String> systemValue : systemValues.entrySet()) {\n+\n+            String expectedKey = systemValue.getKey();\n+\n+            Assert.assertTrue(\"The system value for \" + expectedKey + \" should be a Config property name\",\n+                              configPropertyNames.contains(expectedKey));\n+\n+            if (!systemValue.getValue().isEmpty()) {\n+\n+                String expectedValue = systemValue.getValue();\n+                String actualValue = config.getValue(expectedKey, expectedKey.getClass());\n+\n+                Assert.assertTrue(\"The system value for \" + expectedKey + \" should be \" + expectedValue + \", not \" + actualValue,\n+                                  expectedValue.equals(actualValue));\n+            }\n+        }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "20694486cdef36301c67c39eada4c6d93b51a564"}, "originalPosition": 72}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2666, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}