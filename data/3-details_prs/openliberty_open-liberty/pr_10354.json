{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxMTA3MzQw", "number": 10354, "title": "Enable all databases to use xa datasources", "bodyText": "Was previously changing datasource to not use an XA datasource when testing against oracle. This was due to a limitation in oracle JDBC driver to create a table when using an XA datasource.\nBut, the DefaultDatasource is also used to persist timers, and we want all databases to use the same type of datasource.  Now, when testing against oracle I create the table prior to running the application.  The default datasource once again uses two phase commit for all databases.", "createdAt": "2020-01-09T18:55:02Z", "url": "https://github.com/OpenLiberty/open-liberty/pull/10354", "merged": true, "mergeCommit": {"oid": "f00936c179f2c2c22d6bc1fc29a2e4d1e2463619"}, "closed": true, "closedAt": "2020-01-11T16:57:12Z", "author": {"login": "KyleAure"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb4xe7UgFqTM0MDg0ODM2Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABb5G6WzgBqjI5NDAxMzQ5MDQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQwODQ4MzY2", "url": "https://github.com/OpenLiberty/open-liberty/pull/10354#pullrequestreview-340848366", "createdAt": "2020-01-09T22:13:08Z", "commit": {"oid": "87f8ae4f2a0411e680ebf2f1445a3d6b5fe78374"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQyMjoxMzowOVrOFcE9bQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQyMjoxMzowOVrOFcE9bQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDk4NTcwOQ==", "bodyText": "the toUpperCase here is redundant", "url": "https://github.com/OpenLiberty/open-liberty/pull/10354#discussion_r364985709", "createdAt": "2020-01-09T22:13:09Z", "author": {"login": "njr-11"}, "path": "dev/com.ibm.ws.concurrent.persistent_fat_demo_timers/test-application/demotimers/src/ejb/timers/AutomaticDatabase.java", "diffHunk": "@@ -70,15 +70,16 @@ public void run(Timer timer) {\n     }\n \n     private void initTable() {\n-        final String createTable = \"CREATE TABLE AutomaticDatabase (name VARCHAR(64) NOT NULL PRIMARY KEY, count INT)\";\n+        final String createTable = \"CREATE TABLE AUTOMATICDATABASE (name VARCHAR(64) NOT NULL PRIMARY KEY, count INT)\";\n \n         try (Connection conn = ds.getConnection()) {\n             //See if table was created by another server\n             DatabaseMetaData md = conn.getMetaData();\n-            ResultSet rs = md.getTables(null, null, \"AutomaticDatabase\", null);\n+            ResultSet rs = md.getTables(null, null, \"AUTOMATICDATABASE\".toUpperCase(), null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "87f8ae4f2a0411e680ebf2f1445a3d6b5fe78374"}, "originalPosition": 11}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "95fdce8e14a31a85d7622a54c10f20dc81fecbf0", "author": {"user": {"login": "KyleAure", "name": "Kyle Aure"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/95fdce8e14a31a85d7622a54c10f20dc81fecbf0", "committedDate": "2020-01-10T15:04:26Z", "message": "Enable all databases to use xa datasources"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9631af3451847de4702063f8ced80d0d5ee5870a", "author": {"user": {"login": "KyleAure", "name": "Kyle Aure"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/9631af3451847de4702063f8ced80d0d5ee5870a", "committedDate": "2020-01-10T23:11:35Z", "message": "feedback changes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "87f8ae4f2a0411e680ebf2f1445a3d6b5fe78374", "author": {"user": {"login": "KyleAure", "name": "Kyle Aure"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/87f8ae4f2a0411e680ebf2f1445a3d6b5fe78374", "committedDate": "2020-01-09T18:50:32Z", "message": "Enable all databases to use xa datasources"}, "afterCommit": {"oid": "9631af3451847de4702063f8ced80d0d5ee5870a", "author": {"user": {"login": "KyleAure", "name": "Kyle Aure"}}, "url": "https://github.com/OpenLiberty/open-liberty/commit/9631af3451847de4702063f8ced80d0d5ee5870a", "committedDate": "2020-01-10T23:11:35Z", "message": "feedback changes"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3476, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}