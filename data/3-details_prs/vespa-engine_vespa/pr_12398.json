{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgyMzQ5MDI0", "number": 12398, "title": "Always use container cluster ID as cluster ID for load balancers ", "bodyText": "@hmusum and @jonmv\nFYI @bratseth", "createdAt": "2020-03-02T12:11:02Z", "url": "https://github.com/vespa-engine/vespa/pull/12398", "merged": true, "mergeCommit": {"oid": "83365228de77180f6cde0ed9d9773401fb1a4219"}, "closed": true, "closedAt": "2020-03-03T17:04:58Z", "author": {"login": "mpolden"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcJsmUugH2gAyMzgyMzQ5MDI0OjhkYzAzMTExMWQwZWM3ZmY3NzI3M2EzYTIxZTBmMjNjN2Q0YWNlY2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcJuto4gFqTM2NzI0NTc0MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "8dc031111d0ec7ff77273a3a21e0f23c7d4aceca", "author": {"user": {"login": "mpolden", "name": "Martin Polden"}}, "url": "https://github.com/vespa-engine/vespa/commit/8dc031111d0ec7ff77273a3a21e0f23c7d4aceca", "committedDate": "2020-03-02T12:09:05Z", "message": "Add combined ID to ClusterSpec"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f3a5ff31d84a112e29680b0c59ec03a815d06b5e", "author": {"user": {"login": "mpolden", "name": "Martin Polden"}}, "url": "https://github.com/vespa-engine/vespa/commit/f3a5ff31d84a112e29680b0c59ec03a815d06b5e", "committedDate": "2020-03-02T12:09:09Z", "message": "Always use container ID as cluster ID for load balancers"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3MTYzOTQ5", "url": "https://github.com/vespa-engine/vespa/pull/12398#pullrequestreview-367163949", "createdAt": "2020-03-02T12:33:44Z", "commit": {"oid": "8dc031111d0ec7ff77273a3a21e0f23c7d4aceca"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxMjozMzo0NFrOFwd58w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wMlQxMjozMzo0NFrOFwd58w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NjM2NTkzOQ==", "bodyText": "During upgrade this will write a value with combined id that other instances that are not upgraded yet will not be able to read. Shouldn't we handle strings with combined id first and in a later version start writing it?", "url": "https://github.com/vespa-engine/vespa/pull/12398#discussion_r386365939", "createdAt": "2020-03-02T12:33:44Z", "author": {"login": "hmusum"}, "path": "config-provisioning/src/main/java/com/yahoo/config/provision/ClusterMembership.java", "diffHunk": "@@ -54,7 +59,8 @@ protected String toStringValue() {\n                (cluster.group().isPresent() ? \"/\" + cluster.group().get().index() : \"\") +\n                \"/\" + index +\n                ( cluster.isExclusive() ? \"/exclusive\" : \"\") +\n-               ( retired ? \"/retired\" : \"\");\n+               ( retired ? \"/retired\" : \"\") +\n+               ( cluster.combinedId().isPresent() ? \"/\" + cluster.combinedId().get().value() : \"\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8dc031111d0ec7ff77273a3a21e0f23c7d4aceca"}, "originalPosition": 46}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3MTc4NDgz", "url": "https://github.com/vespa-engine/vespa/pull/12398#pullrequestreview-367178483", "createdAt": "2020-03-02T12:59:34Z", "commit": {"oid": "f3a5ff31d84a112e29680b0c59ec03a815d06b5e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY3MjQ1NzQx", "url": "https://github.com/vespa-engine/vespa/pull/12398#pullrequestreview-367245741", "createdAt": "2020-03-02T14:36:53Z", "commit": {"oid": "f3a5ff31d84a112e29680b0c59ec03a815d06b5e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2862, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}