{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMyNDIwMjk4", "number": 15660, "title": "Use std::to_chars for int to string conversion.", "bodyText": "@havardpe PR", "createdAt": "2020-12-04T09:54:23Z", "url": "https://github.com/vespa-engine/vespa/pull/15660", "merged": true, "mergeCommit": {"oid": "8357f3f8524578b3ca5682f1d56f13dbcae78551"}, "closed": true, "closedAt": "2020-12-04T11:22:39Z", "author": {"login": "baldersheim"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdi0kYsAH2gAyNTMyNDIwMjk4OjI3NWFjOTdjODBiNzg2OTU4OTYyYzc3YmRkNmNjNzMxYmNlODc4NzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdi16M4AFqTU0NDg3MTQ3OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "275ac97c80b786958962c77bdd6cc731bce87872", "author": {"user": {"login": "baldersheim", "name": "Henning Baldersheim"}}, "url": "https://github.com/vespa-engine/vespa/commit/275ac97c80b786958962c77bdd6cc731bce87872", "committedDate": "2020-12-04T09:45:28Z", "message": "Use std::to_chars for int to string conversion."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0ODIzNTA2", "url": "https://github.com/vespa-engine/vespa/pull/15660#pullrequestreview-544823506", "createdAt": "2020-12-04T10:12:41Z", "commit": {"oid": "275ac97c80b786958962c77bdd6cc731bce87872"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDoxMjo0MVrOH_KBjQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wNFQxMDoxMjo0MVrOH_KBjQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNTk4NjU3Mw==", "bodyText": "consider checking ec to avoid returning unspecified results.", "url": "https://github.com/vespa-engine/vespa/pull/15660#discussion_r535986573", "createdAt": "2020-12-04T10:12:41Z", "author": {"login": "havardpe"}, "path": "searchlib/src/vespa/searchlib/attribute/integerbase.cpp", "diffHunk": "@@ -49,18 +59,19 @@ uint32_t IntegerAttribute::get(DocId doc, WeightedConstChar * v, uint32_t sz) co\n }\n const char *\n IntegerAttribute::getString(DocId doc, char * s, size_t sz) const {\n-    largeint_t v = getInt(doc);\n-    snprintf(s, sz, \"%\" PRId64, v);\n+    if (sz > 1) {\n+        largeint_t v = getInt(doc);\n+        auto res = std::to_chars(s, s + sz - 1, v, 10);\n+        res.ptr[0] = 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "275ac97c80b786958962c77bdd6cc731bce87872"}, "originalPosition": 53}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "93f496fe7fa9ddd76821d15b99c6974b78f15af0", "author": {"user": {"login": "baldersheim", "name": "Henning Baldersheim"}}, "url": "https://github.com/vespa-engine/vespa/commit/93f496fe7fa9ddd76821d15b99c6974b78f15af0", "committedDate": "2020-12-04T11:00:35Z", "message": "If there is error return an empty string."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ0ODcxNDc5", "url": "https://github.com/vespa-engine/vespa/pull/15660#pullrequestreview-544871479", "createdAt": "2020-12-04T11:19:12Z", "commit": {"oid": "93f496fe7fa9ddd76821d15b99c6974b78f15af0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3850, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}