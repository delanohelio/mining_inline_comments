{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAwMTQ2NjY4", "number": 12859, "title": "Avoid taking run lock and then application lock, to avoid deadlock", "bodyText": "@mpolden please review and merge.", "createdAt": "2020-04-07T09:23:59Z", "url": "https://github.com/vespa-engine/vespa/pull/12859", "merged": true, "mergeCommit": {"oid": "6cc77932a45a7bf8b04bd81fae7e6030afebaba8"}, "closed": true, "closedAt": "2020-04-07T14:01:36Z", "author": {"login": "jonmv"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcVPzYBgH2gAyNDAwMTQ2NjY4OjM1ZjBhZjZiZWNhNWRkMmVmOGE3YmViMmUyY2ExYTQ0OTMxNzZhMWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVTyD1AH2gAyNDAwMTQ2NjY4OmEwZWNhMmUzNGQzYjRjNGUwNDNlZmY1OGUyMjNjMWMxNzUzZDE4M2U=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "35f0af6beca5dd2ef8a7beb2e2ca1a4493176a1c", "author": {"user": {"login": "jonmv", "name": "Jon Marius Venstad"}}, "url": "https://github.com/vespa-engine/vespa/commit/35f0af6beca5dd2ef8a7beb2e2ca1a4493176a1c", "committedDate": "2020-04-07T09:23:11Z", "message": "Avoid taking run lock and then application lock, to avoid deadlock"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5cb80003bd55097117e3454db8be63a8e75e046b", "author": {"user": {"login": "jonmv", "name": "Jon Marius Venstad"}}, "url": "https://github.com/vespa-engine/vespa/commit/5cb80003bd55097117e3454db8be63a8e75e046b", "committedDate": "2020-04-07T11:16:18Z", "message": "Fix log output"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4OTY1MTYz", "url": "https://github.com/vespa-engine/vespa/pull/12859#pullrequestreview-388965163", "createdAt": "2020-04-07T09:58:45Z", "commit": {"oid": "35f0af6beca5dd2ef8a7beb2e2ca1a4493176a1c"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QwOTo1ODo0NVrOGB8Gpw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wN1QwOTo1ODo0NVrOGB8Gpw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwNDY4NjUwMw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                /** Attempts to trigger the given job for the given application and returns the outcome. */\n          \n          \n            \n                /** Attempts to trigger the given job. */", "url": "https://github.com/vespa-engine/vespa/pull/12859#discussion_r404686503", "createdAt": "2020-04-07T09:58:45Z", "author": {"login": "mpolden"}, "path": "controller-server/src/main/java/com/yahoo/vespa/hosted/controller/deployment/DeploymentTrigger.java", "diffHunk": "@@ -153,12 +153,7 @@ public long triggerReadyJobs() {\n                                  .parallel().map(Supplier::get).reduce(0L, Long::sum);\n     }\n \n-    /**\n-     * Attempts to trigger the given job for the given application and returns the outcome.\n-     *\n-     * If the build service can not find the given job, or claims it is illegal to trigger it,\n-     * the project id is removed from the application owning the job, to prevent further trigger attempts.\n-     */\n+    /** Attempts to trigger the given job for the given application and returns the outcome. */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "35f0af6beca5dd2ef8a7beb2e2ca1a4493176a1c"}, "originalPosition": 10}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a0eca2e34d3b4c4e043eff58e223c1c1753d183e", "author": {"user": {"login": "jonmv", "name": "Jon Marius Venstad"}}, "url": "https://github.com/vespa-engine/vespa/commit/a0eca2e34d3b4c4e043eff58e223c1c1753d183e", "committedDate": "2020-04-07T14:01:22Z", "message": "Fix javadoc even more :)\n\nCo-Authored-By: Martin Polden <mpolden@mpolden.no>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3382, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}