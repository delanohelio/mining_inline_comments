{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA3NTg4NTEw", "number": 13027, "title": "Split suggesting and autoscaling.", "bodyText": "", "createdAt": "2020-04-22T22:55:10Z", "url": "https://github.com/vespa-engine/vespa/pull/13027", "merged": true, "mergeCommit": {"oid": "62eb464f5703ee7ba8af7b3ed5573fa706f937f3"}, "closed": true, "closedAt": "2020-04-23T08:21:18Z", "author": {"login": "bratseth"}, "timelineItems": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcaQZKsgH2gAyNDA3NTg4NTEwOjYzOGQyNDA3Y2MwZTViNzVjMDk0ZTU0OTZiMWJhZWE2MjMxZjJiYmY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcaXPsIAFqTM5ODgwNjcxMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "638d2407cc0e5b75c094e5496b1baea6231f2bbf", "author": {"user": {"login": "bratseth", "name": "Jon Bratseth"}}, "url": "https://github.com/vespa-engine/vespa/commit/638d2407cc0e5b75c094e5496b1baea6231f2bbf", "committedDate": "2020-04-22T22:54:05Z", "message": "Split suggesting and autoscaling"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzk4ODA2NzEx", "url": "https://github.com/vespa-engine/vespa/pull/13027#pullrequestreview-398806711", "createdAt": "2020-04-23T06:52:55Z", "commit": {"oid": "638d2407cc0e5b75c094e5496b1baea6231f2bbf"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwNjo1Mjo1NVrOGKZhIg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yM1QwNjo1Mjo1NVrOGKZhIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMzU1NzAyNg==", "bodyText": "Is this safe? Looks like this is called during deployment and deciding the targeted resources. If this is not a new deployment that has run for some time, then it probably has target resources. If the user then changes the limits so that the target is outside, this will throw?", "url": "https://github.com/vespa-engine/vespa/pull/13027#discussion_r413557026", "createdAt": "2020-04-23T06:52:55Z", "author": {"login": "freva"}, "path": "node-repository/src/main/java/com/yahoo/vespa/hosted/provision/applications/Application.java", "diffHunk": "@@ -52,7 +56,7 @@ public Application with(Cluster cluster) {\n     public Application withClusterLimits(ClusterSpec.Id id, ClusterResources min, ClusterResources max) {\n         Cluster cluster = clusters.get(id);\n         if (cluster == null)\n-            cluster = new Cluster(id, min, max, Optional.empty());\n+            cluster = new Cluster(id, min, max, Optional.empty(), Optional.empty());\n         else\n             cluster = cluster.withLimits(min, max);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "638d2407cc0e5b75c094e5496b1baea6231f2bbf"}, "originalPosition": 18}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3364, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}