{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTEyNDg0ODk2", "number": 15098, "title": "Handle timeout units in doc/v1, and catch parse errors in handler", "bodyText": "@hmusum or @baldersheim please review.", "createdAt": "2020-10-29T18:42:58Z", "url": "https://github.com/vespa-engine/vespa/pull/15098", "merged": true, "mergeCommit": {"oid": "cbc362cb4fee1ea193c2f0996d509777f19f7162"}, "closed": true, "closedAt": "2020-10-29T19:17:28Z", "author": {"login": "jonmv"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdXWrApgH2gAyNTEyNDg0ODk2OjUwYzFmOTE2YTE2OTlkYWFjNTdmMzVjYmMwYzM3MDYwZDA5YWVkNTQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXXJshAH2gAyNTEyNDg0ODk2OjViOGY5MmE3ZTJlYzU4YjVkMjI3MzI2NDg4YTRiNGMzZDNmZGE2MzY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "50c1f916a1699daac57f35cbc0c37060d09aed54", "author": {"user": {"login": "jonmv", "name": "Jon Marius Venstad"}}, "url": "https://github.com/vespa-engine/vespa/commit/50c1f916a1699daac57f35cbc0c37060d09aed54", "committedDate": "2020-10-29T18:42:23Z", "message": "Handle timeout units in doc/v1, and catch parse errors in handler"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5OTc0NTc4", "url": "https://github.com/vespa-engine/vespa/pull/15098#pullrequestreview-519974578", "createdAt": "2020-10-29T18:48:39Z", "commit": {"oid": "50c1f916a1699daac57f35cbc0c37060d09aed54"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxODo0ODozOVrOHqp78w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQxODo0ODozOVrOHqp78w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDQ4OTMzMQ==", "bodyText": "What about us and ns ?\nDon't we have som utility method for this ?", "url": "https://github.com/vespa-engine/vespa/pull/15098#discussion_r514489331", "createdAt": "2020-10-29T18:48:39Z", "author": {"login": "baldersheim"}, "path": "vespaclient-container-plugin/src/main/java/com/yahoo/document/restapi/resource/DocumentV1ApiHandler.java", "diffHunk": "@@ -113,7 +114,11 @@\n \n     private static final Logger log = Logger.getLogger(DocumentV1ApiHandler.class.getName());\n     private static final Parser<Integer> integerParser = Integer::parseInt;\n-    private static final Parser<Double> doubleParser = Double::parseDouble;\n+    private static final Parser<Double> timeoutParser = value -> {\n+        int suffixLength = value.endsWith(\"ms\") ? 2 : value.endsWith(\"s\") ? 1 : 0;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "50c1f916a1699daac57f35cbc0c37060d09aed54"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5b8f92a7e2ec58b5d227326488a4b4c3d3fda636", "author": {"user": {"login": "jonmv", "name": "Jon Marius Venstad"}}, "url": "https://github.com/vespa-engine/vespa/commit/5b8f92a7e2ec58b5d227326488a4b4c3d3fda636", "committedDate": "2020-10-29T19:15:54Z", "message": "Use existing timeout parse code"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2242, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}