{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk1Mzk1ODYx", "number": 14633, "title": " Comment where payload is checkted in SignatureFilter", "bodyText": "I confirm that this contribution is made under the terms of the license found in the root directory of this repository's source tree and that I have the authority necessary to make this contribution on behalf of its copyright owner.", "createdAt": "2020-09-30T10:03:13Z", "url": "https://github.com/vespa-engine/vespa/pull/14633", "merged": true, "mergeCommit": {"oid": "14e78b681df8f685b660cac2a4140a6a68609751"}, "closed": true, "closedAt": "2020-09-30T13:01:55Z", "author": {"login": "oyving"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdN52i2gH2gAyNDk1Mzk1ODYxOjdmMTFlODA0Mzc3M2JiZWY4ZjAzYzZiODY0YjJiYmJiNTkzOGI3MzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdN7fzLgFqTQ5OTM1MTYwOQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7f11e8043773bbef8f03c6b864b2bbbb5938b734", "author": {"user": {"login": "oyving", "name": "\u00d8yvind Gr\u00f8nnesby"}}, "url": "https://github.com/vespa-engine/vespa/commit/7f11e8043773bbef8f03c6b864b2bbbb5938b734", "committedDate": "2020-09-30T10:02:25Z", "message": "Comment where payload is checkted in SignatureFilter"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5Mjg5ODM5", "url": "https://github.com/vespa-engine/vespa/pull/14633#pullrequestreview-499289839", "createdAt": "2020-09-30T10:25:32Z", "commit": {"oid": "7f11e8043773bbef8f03c6b864b2bbbb5938b734"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5MjkwNDUy", "url": "https://github.com/vespa-engine/vespa/pull/14633#pullrequestreview-499290452", "createdAt": "2020-09-30T10:26:26Z", "commit": {"oid": "7f11e8043773bbef8f03c6b864b2bbbb5938b734"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxMDoyNjoyNlrOHaXJtg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0zMFQxMDoyNjoyNlrOHaXJtg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5NzQwNDM0Mg==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                     * request body, so this responsibility falls on the handler consuming the body instead.  For this\n          \n          \n            \n                     * specific case the request body is validated in {@link ApplicationApiHandler.parseDataParts}.\n          \n          \n            \n                     * request body, so this responsibility falls on the handler consuming the body instead.  For the\n          \n          \n            \n                     * deployment cases, the request body is validated in {@link ApplicationApiHandler.parseDataParts}.", "url": "https://github.com/vespa-engine/vespa/pull/14633#discussion_r497404342", "createdAt": "2020-09-30T10:26:26Z", "author": {"login": "jonmv"}, "path": "controller-server/src/main/java/com/yahoo/vespa/hosted/controller/restapi/filter/SignatureFilter.java", "diffHunk": "@@ -65,6 +65,11 @@ public SignatureFilter(Controller controller) {\n     }\n \n     private boolean keyVerifies(PublicKey key, DiscFilterRequest request) {\n+        /* This method only checks that the content hash has been signed by the provided public key, but\n+         * does not verify the content of the request.  jDisc request filters do not allow inspecting the\n+         * request body, so this responsibility falls on the handler consuming the body instead.  For this\n+         * specific case the request body is validated in {@link ApplicationApiHandler.parseDataParts}.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7f11e8043773bbef8f03c6b864b2bbbb5938b734"}, "originalPosition": 7}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d2d453062ff8b6593626b9c9c9ba3f61079ff34c", "author": {"user": {"login": "oyving", "name": "\u00d8yvind Gr\u00f8nnesby"}}, "url": "https://github.com/vespa-engine/vespa/commit/d2d453062ff8b6593626b9c9c9ba3f61079ff34c", "committedDate": "2020-09-30T10:36:39Z", "message": "Update controller-server/src/main/java/com/yahoo/vespa/hosted/controller/restapi/filter/SignatureFilter.java\n\nCo-authored-by: Jon Marius Venstad <jonmv@users.noreply.github.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDk5MzUxNjA5", "url": "https://github.com/vespa-engine/vespa/pull/14633#pullrequestreview-499351609", "createdAt": "2020-09-30T11:57:23Z", "commit": {"oid": "d2d453062ff8b6593626b9c9c9ba3f61079ff34c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4138, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}