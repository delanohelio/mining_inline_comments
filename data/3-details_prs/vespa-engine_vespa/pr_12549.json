{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg3MjI2MjU3", "number": 12549, "title": "Bratseth/system info", "bodyText": "@hmusum AND @gjoranv please review", "createdAt": "2020-03-12T12:53:22Z", "url": "https://github.com/vespa-engine/vespa/pull/12549", "merged": true, "mergeCommit": {"oid": "55125063dd1b73a378dc8a03bb91d13be93834c8"}, "closed": true, "closedAt": "2020-03-12T15:01:57Z", "author": {"login": "bratseth"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcMPqd0AH2gAyMzg3MjI2MjU3OjI4OGNlOGRlNWY1ZWU0OWM4YzkxMzQwYTg2MjUyYjM4YjE2Y2U2ZjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcM9CB8AH2gAyMzg3MjI2MjU3OjJiNjdlMWY4MjM0ZGMwOTE0YzQzZDU2ZTc2ZGFkYzJiNWFlM2U5ZGM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "288ce8de5f5ee49c8c91340a86252b38b16ce6f2", "author": {"user": {"login": "vespa-headless", "name": null}}, "url": "https://github.com/vespa-engine/vespa/commit/288ce8de5f5ee49c8c91340a86252b38b16ce6f2", "committedDate": "2020-03-10T10:08:08Z", "message": "Add SystemInfo"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "85e39e75026b09a936516c6234b438069b8b1859", "author": {"user": {"login": "vespa-headless", "name": null}}, "url": "https://github.com/vespa-engine/vespa/commit/85e39e75026b09a936516c6234b438069b8b1859", "committedDate": "2020-03-12T12:51:47Z", "message": "Zone information for containers to replace com.yahoo.config.provision"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczNTM1OTk3", "url": "https://github.com/vespa-engine/vespa/pull/12549#pullrequestreview-373535997", "createdAt": "2020-03-12T13:05:34Z", "commit": {"oid": "85e39e75026b09a936516c6234b438069b8b1859"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczNTU3NTk5", "url": "https://github.com/vespa-engine/vespa/pull/12549#pullrequestreview-373557599", "createdAt": "2020-03-12T13:33:36Z", "commit": {"oid": "85e39e75026b09a936516c6234b438069b8b1859"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzczNTg0ODc0", "url": "https://github.com/vespa-engine/vespa/pull/12549#pullrequestreview-373584874", "createdAt": "2020-03-12T14:06:01Z", "commit": {"oid": "85e39e75026b09a936516c6234b438069b8b1859"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNDowNjowMVrOF1gCwQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xMlQxNDowODoxN1rOF1gIrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY0Mzg0MQ==", "bodyText": "Suppressing \"unused\" should be unnecessary when you have the Inject annotation.", "url": "https://github.com/vespa-engine/vespa/pull/12549#discussion_r391643841", "createdAt": "2020-03-12T14:06:01Z", "author": {"login": "gjoranv"}, "path": "container-core/src/main/java/ai/vespa/cloud/SystemInfo.java", "diffHunk": "@@ -1,5 +1,32 @@\n // Copyright Verizon Media. Licensed under the terms of the Apache 2.0 license. See LICENSE in the project root.\n package ai.vespa.cloud;\n \n+import com.google.inject.Inject;\n+import com.yahoo.cloud.config.ConfigserverConfig;\n+\n+/**\n+ * Provides information about the system in which this container is running.\n+ * This is available and can be injected when running in a cloud environment.\n+ *\n+ * @author bratseth\n+ */\n public class SystemInfo {\n+\n+    private final Zone zone;\n+\n+    /** Do not use */\n+    @SuppressWarnings(\"unused\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85e39e75026b09a936516c6234b438069b8b1859"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY0NDQ5Nw==", "bodyText": "I suggest to skip this comment. What does it mean?", "url": "https://github.com/vespa-engine/vespa/pull/12549#discussion_r391644497", "createdAt": "2020-03-12T14:07:00Z", "author": {"login": "gjoranv"}, "path": "container-core/src/main/java/ai/vespa/cloud/SystemInfo.java", "diffHunk": "@@ -1,5 +1,32 @@\n // Copyright Verizon Media. Licensed under the terms of the Apache 2.0 license. See LICENSE in the project root.\n package ai.vespa.cloud;\n \n+import com.google.inject.Inject;\n+import com.yahoo.cloud.config.ConfigserverConfig;\n+\n+/**\n+ * Provides information about the system in which this container is running.\n+ * This is available and can be injected when running in a cloud environment.\n+ *\n+ * @author bratseth\n+ */\n public class SystemInfo {\n+\n+    private final Zone zone;\n+\n+    /** Do not use */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85e39e75026b09a936516c6234b438069b8b1859"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MTY0NTM1Nw==", "bodyText": "Perhaps this should be e.g. \u00b4stringValue()\u00b4, and return a String that is less tempting to parse from toString.", "url": "https://github.com/vespa-engine/vespa/pull/12549#discussion_r391645357", "createdAt": "2020-03-12T14:08:17Z", "author": {"login": "gjoranv"}, "path": "container-core/src/main/java/ai/vespa/cloud/Zone.java", "diffHunk": "@@ -0,0 +1,61 @@\n+// Copyright Verizon Media. Licensed under the terms of the Apache 2.0 license. See LICENSE in the project root.\n+package ai.vespa.cloud;\n+\n+import java.util.Objects;\n+\n+/**\n+ * The zone in which a cloud deployment may be running.\n+ * A zone is a combination of an environment and a region.\n+ *\n+ * @author bratseth\n+ */\n+public class Zone {\n+\n+    private final Environment environment;\n+\n+    private final String region;\n+\n+    public Zone(Environment environment, String region) {\n+        this.environment = environment;\n+        this.region = region;\n+    }\n+\n+    public Environment environment() { return environment; }\n+    public String region() { return region; }\n+\n+    /** Returns the string environment.region */\n+    @Override\n+    public String toString() { return environment + \".\" + region; }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "85e39e75026b09a936516c6234b438069b8b1859"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "31fc598c5d1384c3fb93a2aff7c953fd161d31f3", "author": {"user": {"login": "vespa-headless", "name": null}}, "url": "https://github.com/vespa-engine/vespa/commit/31fc598c5d1384c3fb93a2aff7c953fd161d31f3", "committedDate": "2020-03-12T14:55:10Z", "message": "Remove SuppressWarning"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2b67e1f8234dc0914c43d56e76dadc2b5ae3e9dc", "author": {"user": {"login": "vespa-headless", "name": null}}, "url": "https://github.com/vespa-engine/vespa/commit/2b67e1f8234dc0914c43d56e76dadc2b5ae3e9dc", "committedDate": "2020-03-12T14:59:36Z", "message": "Update ABI spec"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2671, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}