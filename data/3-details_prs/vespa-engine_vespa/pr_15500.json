{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4NTIyMjI0", "number": 15500, "title": "Handle event data being null", "bodyText": "", "createdAt": "2020-11-27T10:17:49Z", "url": "https://github.com/vespa-engine/vespa/pull/15500", "merged": true, "mergeCommit": {"oid": "a0b9c2e42f3d3f2449def853a56a02d74bc92f9f"}, "closed": true, "closedAt": "2020-11-27T12:32:16Z", "author": {"login": "hmusum"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdgk07EAH2gAyNTI4NTIyMjI0OjE2NzdiMTdkZDQ0ODM4NDNmOWI4NTA3YzE5OWJkNDk2YjJkMDMzODk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdglt4kgFqTUzOTkwMjg1OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "1677b17dd4483843f9b8507c199bd496b2d03389", "author": {"user": {"login": "hmusum", "name": "Harald Musum"}}, "url": "https://github.com/vespa-engine/vespa/commit/1677b17dd4483843f9b8507c199bd496b2d03389", "committedDate": "2020-11-27T10:17:12Z", "message": "Handle event data being null"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5ODc2NDkw", "url": "https://github.com/vespa-engine/vespa/pull/15500#pullrequestreview-539876490", "createdAt": "2020-11-27T10:38:59Z", "commit": {"oid": "1677b17dd4483843f9b8507c199bd496b2d03389"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMDozODo1OVrOH65csA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMDozODo1OVrOH65csA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTUyMDY4OA==", "bodyText": "null is passed when connection is suspended, lost, or on (re)connected, or when cache is initialized(?)  So I think the correct thing to do is to duplicate the current statement to within each case in the below switch (and document getData may be null on some other event types)", "url": "https://github.com/vespa-engine/vespa/pull/15500#discussion_r531520688", "createdAt": "2020-11-27T10:38:59Z", "author": {"login": "hakonhall"}, "path": "configserver/src/main/java/com/yahoo/vespa/config/server/application/TenantApplications.java", "diffHunk": "@@ -185,7 +186,9 @@ public Lock lock(ApplicationId id) {\n \n     private void childEvent(CuratorFramework ignored, PathChildrenCacheEvent event) {\n         zkWatcherExecutor.execute(() -> {\n-            ApplicationId applicationId = ApplicationId.fromSerializedForm(Path.fromString(event.getData().getPath()).getName());\n+            ChildData data = event.getData();\n+            if (data == null) return; // Node might have been deleted after we got event", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1677b17dd4483843f9b8507c199bd496b2d03389"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d971c712477246b5562661cdd12c0a01a1141e0a", "author": {"user": {"login": "hmusum", "name": "Harald Musum"}}, "url": "https://github.com/vespa-engine/vespa/commit/d971c712477246b5562661cdd12c0a01a1141e0a", "committedDate": "2020-11-27T11:09:41Z", "message": "Get data for some event types only, for others data might be null"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5OTAyODU5", "url": "https://github.com/vespa-engine/vespa/pull/15500#pullrequestreview-539902859", "createdAt": "2020-11-27T11:19:25Z", "commit": {"oid": "d971c712477246b5562661cdd12c0a01a1141e0a"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1916, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}