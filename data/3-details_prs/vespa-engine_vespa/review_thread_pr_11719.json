{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYwOTM2ODEx", "number": 11719, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxMjo1NjozMVrODW16RQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxMjo1NjozMVrODW16RQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI1Mjc4NTMzOnYy", "diffSide": "RIGHT", "path": "controller-api/src/main/java/com/yahoo/vespa/hosted/controller/api/integration/deployment/ApplicationVersion.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxMjo1NjozMVrOFb086Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0wOVQxMzoyMzozN1rOFb1pbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDcyMzQzMw==", "bodyText": "Name? Isn't this the commit hash?", "url": "https://github.com/vespa-engine/vespa/pull/11719#discussion_r364723433", "createdAt": "2020-01-09T12:56:31Z", "author": {"login": "mpolden"}, "path": "controller-api/src/main/java/com/yahoo/vespa/hosted/controller/api/integration/deployment/ApplicationVersion.java", "diffHunk": "@@ -104,6 +123,21 @@ public String id() {\n     /** Returns the time this package was built, if known. */\n     public Optional<Instant> buildTime() { return buildTime; }\n \n+    /** Returns the source URL for this application version. */\n+    public Optional<String> sourceUrl() {\n+        return sourceUrl.or(() -> source.map(source -> {\n+            String repository = source.repository();\n+            if (repository.startsWith(\"git@\"))\n+                repository = \"https://\" + repository.substring(4).replace(':', '/');\n+            if (repository.endsWith(\".git\"))\n+                repository = repository.substring(0, repository.length() - 4);\n+            return repository + \"/tree/\" + source.commit();\n+        }));\n+    }\n+\n+    /** Returns the commit name of this application version. */", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7dadf68de87b6cbabffd248f306df521e90c125b"}, "originalPosition": 95}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDczNDczOA==", "bodyText": "It is the commit has right now, but it could be anything. \"Best version FINAL 2.3\", for example :p", "url": "https://github.com/vespa-engine/vespa/pull/11719#discussion_r364734738", "createdAt": "2020-01-09T13:23:25Z", "author": {"login": "jonmv"}, "path": "controller-api/src/main/java/com/yahoo/vespa/hosted/controller/api/integration/deployment/ApplicationVersion.java", "diffHunk": "@@ -104,6 +123,21 @@ public String id() {\n     /** Returns the time this package was built, if known. */\n     public Optional<Instant> buildTime() { return buildTime; }\n \n+    /** Returns the source URL for this application version. */\n+    public Optional<String> sourceUrl() {\n+        return sourceUrl.or(() -> source.map(source -> {\n+            String repository = source.repository();\n+            if (repository.startsWith(\"git@\"))\n+                repository = \"https://\" + repository.substring(4).replace(':', '/');\n+            if (repository.endsWith(\".git\"))\n+                repository = repository.substring(0, repository.length() - 4);\n+            return repository + \"/tree/\" + source.commit();\n+        }));\n+    }\n+\n+    /** Returns the commit name of this application version. */", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDcyMzQzMw=="}, "originalCommit": {"oid": "7dadf68de87b6cbabffd248f306df521e90c125b"}, "originalPosition": 95}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDczNDgyOA==", "bodyText": "It is used specified.", "url": "https://github.com/vespa-engine/vespa/pull/11719#discussion_r364734828", "createdAt": "2020-01-09T13:23:37Z", "author": {"login": "jonmv"}, "path": "controller-api/src/main/java/com/yahoo/vespa/hosted/controller/api/integration/deployment/ApplicationVersion.java", "diffHunk": "@@ -104,6 +123,21 @@ public String id() {\n     /** Returns the time this package was built, if known. */\n     public Optional<Instant> buildTime() { return buildTime; }\n \n+    /** Returns the source URL for this application version. */\n+    public Optional<String> sourceUrl() {\n+        return sourceUrl.or(() -> source.map(source -> {\n+            String repository = source.repository();\n+            if (repository.startsWith(\"git@\"))\n+                repository = \"https://\" + repository.substring(4).replace(':', '/');\n+            if (repository.endsWith(\".git\"))\n+                repository = repository.substring(0, repository.length() - 4);\n+            return repository + \"/tree/\" + source.commit();\n+        }));\n+    }\n+\n+    /** Returns the commit name of this application version. */", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2NDcyMzQzMw=="}, "originalCommit": {"oid": "7dadf68de87b6cbabffd248f306df521e90c125b"}, "originalPosition": 95}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2709, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}