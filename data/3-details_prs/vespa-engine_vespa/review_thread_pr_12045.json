{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcwMjkxMDcz", "number": 12045, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QxMjo0Nzo0OVrODcnrDQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QxMjo0ODowOVrODcnrZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxMzM2NzE3OnYy", "diffSide": "RIGHT", "path": "container-search/src/main/java/com/yahoo/prelude/querytransform/QueryRewrite.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QxMjo0Nzo0OVrOFkwMZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QxMjo0Nzo0OVrOFkwMZA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDA4MjY2MA==", "bodyText": "if (isRanked(child)) return true;\nNo need to iterate all children if one is unhappy.", "url": "https://github.com/vespa-engine/vespa/pull/12045#discussion_r374082660", "createdAt": "2020-02-03T12:47:49Z", "author": {"login": "baldersheim"}, "path": "container-search/src/main/java/com/yahoo/prelude/querytransform/QueryRewrite.java", "diffHunk": "@@ -200,6 +204,21 @@ private static void removeOtherNonrankedChildren(CompositeItem parent, int index\n                 parent.removeItem(i);\n         }\n     }\n+\n+    private static boolean isRanked(Item item) {\n+        if (item instanceof CompositeItem) {\n+            boolean isRanked = false;\n+            for (Item child : ((CompositeItem)item).items())\n+                isRanked |= isRanked(child);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee7cccc90c0857e95898fe4cea21b875e2b6c85b"}, "originalPosition": 29}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxMzM2ODA0OnYy", "diffSide": "RIGHT", "path": "container-search/src/main/java/com/yahoo/prelude/querytransform/QueryRewrite.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QxMjo0ODowOVrOFkwM6g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QxMjo1Mjo1N1rOFkwVUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDA4Mjc5NA==", "bodyText": "return false;", "url": "https://github.com/vespa-engine/vespa/pull/12045#discussion_r374082794", "createdAt": "2020-02-03T12:48:09Z", "author": {"login": "baldersheim"}, "path": "container-search/src/main/java/com/yahoo/prelude/querytransform/QueryRewrite.java", "diffHunk": "@@ -200,6 +204,21 @@ private static void removeOtherNonrankedChildren(CompositeItem parent, int index\n                 parent.removeItem(i);\n         }\n     }\n+\n+    private static boolean isRanked(Item item) {\n+        if (item instanceof CompositeItem) {\n+            boolean isRanked = false;\n+            for (Item child : ((CompositeItem)item).items())\n+                isRanked |= isRanked(child);\n+            return isRanked;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ee7cccc90c0857e95898fe4cea21b875e2b6c85b"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDA4NDk0NA==", "bodyText": "ok, done", "url": "https://github.com/vespa-engine/vespa/pull/12045#discussion_r374084944", "createdAt": "2020-02-03T12:52:57Z", "author": {"login": "bratseth"}, "path": "container-search/src/main/java/com/yahoo/prelude/querytransform/QueryRewrite.java", "diffHunk": "@@ -200,6 +204,21 @@ private static void removeOtherNonrankedChildren(CompositeItem parent, int index\n                 parent.removeItem(i);\n         }\n     }\n+\n+    private static boolean isRanked(Item item) {\n+        if (item instanceof CompositeItem) {\n+            boolean isRanked = false;\n+            for (Item child : ((CompositeItem)item).items())\n+                isRanked |= isRanked(child);\n+            return isRanked;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDA4Mjc5NA=="}, "originalCommit": {"oid": "ee7cccc90c0857e95898fe4cea21b875e2b6c85b"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2499, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}