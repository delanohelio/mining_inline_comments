{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzgxMzc2ODQ0", "number": 12378, "title": "Prefer endpoints from routing generator", "bodyText": "Integration test run revealed some missing pieces. Keep preferring endpoints\nfrom routing generator until those are resolved.\n@tokle or @jonmv", "createdAt": "2020-02-28T12:56:41Z", "url": "https://github.com/vespa-engine/vespa/pull/12378", "merged": true, "mergeCommit": {"oid": "aea10120b5a1d75aa9ae050a58443fa9a7a988d2"}, "closed": true, "closedAt": "2020-02-28T13:49:23Z", "author": {"login": "mpolden"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcIvbIdgH2gAyMzgxMzc2ODQ0OmNiNDY2YjA5OGY3MDk4MDJlM2VkZWU2NGIwNTlmYTMxMDZmMTk0N2U=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcIwQQ2gFqTM2NjQwOTMxOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "cb466b098f709802e3edee64b059fa3106f1947e", "author": {"user": {"login": "mpolden", "name": "Martin Polden"}}, "url": "https://github.com/vespa-engine/vespa/commit/cb466b098f709802e3edee64b059fa3106f1947e", "committedDate": "2020-02-28T12:52:39Z", "message": "Simplify"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "526ea78c82b2d466d663ef4d9734545bb31c686a", "author": {"user": {"login": "mpolden", "name": "Martin Polden"}}, "url": "https://github.com/vespa-engine/vespa/commit/526ea78c82b2d466d663ef4d9734545bb31c686a", "committedDate": "2020-02-28T12:52:39Z", "message": "Add TODO"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5f98e5f59956b3e13bd90679f5b8d7bc5d5ee851", "author": {"user": {"login": "mpolden", "name": "Martin Polden"}}, "url": "https://github.com/vespa-engine/vespa/commit/5f98e5f59956b3e13bd90679f5b8d7bc5d5ee851", "committedDate": "2020-02-28T12:52:39Z", "message": "Prefer endpoints from routing generator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "83369e100a196260bf5f47d5d4d5a7d2080629a8", "author": {"user": {"login": "mpolden", "name": "Martin Polden"}}, "url": "https://github.com/vespa-engine/vespa/commit/83369e100a196260bf5f47d5d4d5a7d2080629a8", "committedDate": "2020-02-28T12:52:39Z", "message": "Allow non-distinct endpoint URLs of different routing method"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2Mzg1NzEy", "url": "https://github.com/vespa-engine/vespa/pull/12378#pullrequestreview-366385712", "createdAt": "2020-02-28T13:11:46Z", "commit": {"oid": "83369e100a196260bf5f47d5d4d5a7d2080629a8"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY2NDA5MzE4", "url": "https://github.com/vespa-engine/vespa/pull/12378#pullrequestreview-366409318", "createdAt": "2020-02-28T13:50:40Z", "commit": {"oid": "83369e100a196260bf5f47d5d4d5a7d2080629a8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxMzo1MDo0MFrOFv1kvw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yOFQxMzo1MDo0MFrOFv1kvw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4NTcwNTE1MQ==", "bodyText": "Will this be fixed? Seems a bit odd?", "url": "https://github.com/vespa-engine/vespa/pull/12378#discussion_r385705151", "createdAt": "2020-02-28T13:50:40Z", "author": {"login": "jonmv"}, "path": "controller-server/src/main/java/com/yahoo/vespa/hosted/controller/application/Endpoint.java", "diffHunk": "@@ -115,12 +115,13 @@ public boolean equals(Object o) {\n         if (this == o) return true;\n         if (o == null || getClass() != o.getClass()) return false;\n         Endpoint endpoint = (Endpoint) o;\n-        return url.equals(endpoint.url);\n+        return url.equals(endpoint.url) &&\n+               routingMethod == endpoint.routingMethod;\n     }\n \n     @Override\n     public int hashCode() {\n-        return Objects.hash(url);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "83369e100a196260bf5f47d5d4d5a7d2080629a8"}, "originalPosition": 11}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2843, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}