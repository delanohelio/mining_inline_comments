{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1NDU3MTYx", "number": 12506, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMjoxMjoxMVrODmQm6w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMjoxMjoxMVrODmQm6w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxNDQ0NTg3OnYy", "diffSide": "RIGHT", "path": "controller-server/src/main/java/com/yahoo/vespa/hosted/controller/restapi/application/ApplicationApiHandler.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMjoxMjoxMVrOFzkmMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQxMjoxMjoxMVrOFzkmMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTYyMTI5OA==", "bodyText": "Good.", "url": "https://github.com/vespa-engine/vespa/pull/12506#discussion_r389621298", "createdAt": "2020-03-09T12:12:11Z", "author": {"login": "mpolden"}, "path": "controller-server/src/main/java/com/yahoo/vespa/hosted/controller/restapi/application/ApplicationApiHandler.java", "diffHunk": "@@ -1176,20 +1186,21 @@ private URI monitoringSystemUri(DeploymentId deploymentId) {\n      */\n     private Version compileVersion(TenantAndApplicationId id) {\n         Version oldestPlatform = controller.applications().oldestInstalledPlatform(id);\n-        return controller.versionStatus().versions().stream()\n-                         .filter(version -> version.confidence().equalOrHigherThan(VespaVersion.Confidence.low))\n-                         .filter(VespaVersion::isReleased)\n-                         .map(VespaVersion::versionNumber)\n-                         .filter(version -> ! version.isAfter(oldestPlatform))\n-                         .max(Comparator.naturalOrder())\n-                         .orElseGet(() -> controller.mavenRepository().metadata().versions().stream()\n-                                                    .filter(version -> ! version.isAfter(oldestPlatform))\n-                                                    .filter(version -> ! controller.versionStatus().versions().stream()\n-                                                                                   .map(VespaVersion::versionNumber)\n-                                                                                   .collect(Collectors.toSet()).contains(version))\n-                                                    .max(Comparator.naturalOrder())\n-                                                    .orElseThrow(() -> new IllegalStateException(\"No available releases of \" +\n-                                                                                                 controller.mavenRepository().artifactId())));\n+        VersionStatus versionStatus = controller.versionStatus();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "1871cb38829dcf43d64141ce4747a8b984a83397"}, "originalPosition": 72}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2325, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}