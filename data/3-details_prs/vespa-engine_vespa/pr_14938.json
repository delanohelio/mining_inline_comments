{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA1NzE4MDY4", "number": 14938, "title": "Merge LocalSession and RemoteSession", "bodyText": "", "createdAt": "2020-10-19T06:26:45Z", "url": "https://github.com/vespa-engine/vespa/pull/14938", "merged": true, "mergeCommit": {"oid": "42696c88a000c3a36931c8ffce6441475b15850e"}, "closed": true, "closedAt": "2020-10-19T11:33:57Z", "author": {"login": "hmusum"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdT-Jd1gH2gAyNTA1NzE4MDY4OjU3NWM0ZGY5MGE4MzkxZWFlYTVmNzk3ZDY3OWZmOTk3OWY0YjQ0OTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdUCfVCgFqTUxMTY2MzczNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "575c4df90a8391eaea5f797d679ff9979f4b4496", "author": {"user": {"login": "hmusum", "name": "Harald Musum"}}, "url": "https://github.com/vespa-engine/vespa/commit/575c4df90a8391eaea5f797d679ff9979f4b4496", "committedDate": "2020-10-19T06:26:15Z", "message": "Merge LocalSession and RemoteSession"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExNjYwODI1", "url": "https://github.com/vespa-engine/vespa/pull/14938#pullrequestreview-511660825", "createdAt": "2020-10-19T11:25:27Z", "commit": {"oid": "575c4df90a8391eaea5f797d679ff9979f4b4496"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxMToyNToyN1rOHkJvxA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xOVQxMToyNToyN1rOHkJvxA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNzY3MDQ2OA==", "bodyText": "Perhaps rename this method as well, to be in line with others? deleteSessionFromFileSystem?", "url": "https://github.com/vespa-engine/vespa/pull/14938#discussion_r507670468", "createdAt": "2020-10-19T11:25:27Z", "author": {"login": "jonmv"}, "path": "configserver/src/main/java/com/yahoo/vespa/config/server/session/SessionRepository.java", "diffHunk": "@@ -320,28 +276,21 @@ void activate(RemoteSession session) {\n         log.log(Level.INFO, session.logPre() + \"Session activated: \" + sessionId);\n     }\n \n-    public void delete(Session remoteSession) {\n-        long sessionId = remoteSession.getSessionId();\n-        // TODO: Change log level to FINE when debugging is finished\n-        log.log(Level.INFO, () -> remoteSession.logPre() + \"Deactivating and deleting remote session \" + sessionId);\n-        deleteRemoteSessionFromZooKeeper(remoteSession);\n-        remoteSessionCache.remove(sessionId);\n-        LocalSession localSession = getLocalSession(sessionId);\n-        if (localSession != null) {\n-            // TODO: Change log level to FINE when debugging is finished\n-            log.log(Level.INFO, () -> localSession.logPre() + \"Deleting local session \" + sessionId);\n-            deleteLocalSession(localSession);\n-        }\n+    public void delete(Session session) {\n+        long sessionId = session.getSessionId();\n+        deleteSessionFromZooKeeper(session);\n+        sessionCache.remove(sessionId);\n+        deleteLocalSession(session);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "575c4df90a8391eaea5f797d679ff9979f4b4496"}, "originalPosition": 237}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTExNjYzNzM2", "url": "https://github.com/vespa-engine/vespa/pull/14938#pullrequestreview-511663736", "createdAt": "2020-10-19T11:29:45Z", "commit": {"oid": "575c4df90a8391eaea5f797d679ff9979f4b4496"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2272, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}