{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcxOTA3NDcz", "number": 12094, "title": "Add latest application and normal conf. Vespa, and blockers, to dep.g\u2026", "bodyText": "\u2026raph.view API\n@smorgrav please review and merge.", "createdAt": "2020-02-06T13:45:28Z", "url": "https://github.com/vespa-engine/vespa/pull/12094", "merged": true, "mergeCommit": {"oid": "20c51c153e7a6a7543ff5e980d62849c9ca8de8a"}, "closed": true, "closedAt": "2020-02-07T07:51:03Z", "author": {"login": "jonmv"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcBq7zAAH2gAyMzcxOTA3NDczOmMwNjIzOWE2YzQyNGQ4MjI4MDczN2Q4MjFmZmU3NDFmNTVhNGNkMjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcB6hBRAH2gAyMzcxOTA3NDczOjJhZGY5YmQyOTE2YmJlMDBlYTMzYmE5NzUxZWI4MjUyNjFjODA4NWI=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "c06239a6c424d82280737d821ffe741f55a4cd24", "author": {"user": {"login": "jonmv", "name": "Jon Marius Venstad"}}, "url": "https://github.com/vespa-engine/vespa/commit/c06239a6c424d82280737d821ffe741f55a4cd24", "committedDate": "2020-02-06T13:41:20Z", "message": "Add latest application and normal conf. Vespa, and blockers, to dep.graph.view API"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6be3c25da892ab3cbd036fb99d9c31beed6ac6b3", "author": {"user": {"login": "jonmv", "name": "Jon Marius Venstad"}}, "url": "https://github.com/vespa-engine/vespa/commit/6be3c25da892ab3cbd036fb99d9c31beed6ac6b3", "committedDate": "2020-02-06T13:45:07Z", "message": "Ignore deployment spec for non-prod applications (without project ID)"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26dae6eba587c5c1946ff2d322ab39e56417c3bc", "author": {"user": {"login": "jonmv", "name": "Jon Marius Venstad"}}, "url": "https://github.com/vespa-engine/vespa/commit/26dae6eba587c5c1946ff2d322ab39e56417c3bc", "committedDate": "2020-02-06T13:47:13Z", "message": "Remove unused code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b7d4e4643512f57845192fab5a1c5825e0995ef2", "author": {"user": {"login": "jonmv", "name": "Jon Marius Venstad"}}, "url": "https://github.com/vespa-engine/vespa/commit/b7d4e4643512f57845192fab5a1c5825e0995ef2", "committedDate": "2020-02-06T13:51:25Z", "message": "Rename application version id -> build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c35cf98f6e308c178bd5755667854142fa62aeaf", "author": {"user": {"login": "jonmv", "name": "Jon Marius Venstad"}}, "url": "https://github.com/vespa-engine/vespa/commit/c35cf98f6e308c178bd5755667854142fa62aeaf", "committedDate": "2020-02-06T13:57:13Z", "message": "Show whether instance should be allowed to upgrade to given version"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU0NDgyNTA0", "url": "https://github.com/vespa-engine/vespa/pull/12094#pullrequestreview-354482504", "createdAt": "2020-02-06T14:18:54Z", "commit": {"oid": "c35cf98f6e308c178bd5755667854142fa62aeaf"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxNDoxODo1NFrOFmcnUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNlQxNDoyMDoyOVrOFmcqrA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTg1OTAyNw==", "bodyText": "What is this?", "url": "https://github.com/vespa-engine/vespa/pull/12094#discussion_r375859027", "createdAt": "2020-02-06T14:18:54Z", "author": {"login": "smorgrav"}, "path": "controller-server/src/test/java/com/yahoo/vespa/hosted/controller/restapi/application/responses/deployment-overview.json", "diffHunk": "@@ -6,19 +6,47 @@\n       \"type\": \"instance\",\n       \"dependencies\": [],\n       \"declared\": true,\n-      \"instance\": \"instance1\"\n+      \"instance\": \"instance1\",\n+      \"readyAt\": 0,\n+      \"deploying\": {\n+        \"application\": {\n+          \"build\": 4,\n+          \"compileVersion\": \"6.1.0\",\n+          \"sourceUrl\": \"repository1/tree/commit1\",\n+          \"commit\": \"commit1\"\n+        }\n+      },\n+      \"latestVersions\": {\n+        \"platform\": {\n+          \"platform\": \"7.164.0\",\n+          \"at\": \"(ignore)\",\n+          \"upgrade\": false,\n+          \"blockers\": []\n+        },\n+        \"application\": {\n+          \"application\": {\n+            \"build\": 4,\n+            \"compileVersion\": \"6.1.0\",\n+            \"sourceUrl\": \"repository1/tree/commit1\",\n+            \"commit\": \"commit1\"\n+          },\n+          \"at\": 1000,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c35cf98f6e308c178bd5755667854142fa62aeaf"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTg1OTc0NA==", "bodyText": "Do you have a test where there are blockers?", "url": "https://github.com/vespa-engine/vespa/pull/12094#discussion_r375859744", "createdAt": "2020-02-06T14:20:14Z", "author": {"login": "smorgrav"}, "path": "controller-server/src/test/java/com/yahoo/vespa/hosted/controller/restapi/application/responses/deployment-overview.json", "diffHunk": "@@ -6,19 +6,47 @@\n       \"type\": \"instance\",\n       \"dependencies\": [],\n       \"declared\": true,\n-      \"instance\": \"instance1\"\n+      \"instance\": \"instance1\",\n+      \"readyAt\": 0,\n+      \"deploying\": {\n+        \"application\": {\n+          \"build\": 4,\n+          \"compileVersion\": \"6.1.0\",\n+          \"sourceUrl\": \"repository1/tree/commit1\",\n+          \"commit\": \"commit1\"\n+        }\n+      },\n+      \"latestVersions\": {\n+        \"platform\": {\n+          \"platform\": \"7.164.0\",\n+          \"at\": \"(ignore)\",\n+          \"upgrade\": false,\n+          \"blockers\": []\n+        },\n+        \"application\": {\n+          \"application\": {\n+            \"build\": 4,\n+            \"compileVersion\": \"6.1.0\",\n+            \"sourceUrl\": \"repository1/tree/commit1\",\n+            \"commit\": \"commit1\"\n+          },\n+          \"at\": 1000,\n+          \"upgrade\": false,\n+          \"blockers\": []", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c35cf98f6e308c178bd5755667854142fa62aeaf"}, "originalPosition": 31}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NTg1OTg4NA==", "bodyText": "And this upgrade field - what is that?", "url": "https://github.com/vespa-engine/vespa/pull/12094#discussion_r375859884", "createdAt": "2020-02-06T14:20:29Z", "author": {"login": "smorgrav"}, "path": "controller-server/src/test/java/com/yahoo/vespa/hosted/controller/restapi/application/responses/deployment-overview.json", "diffHunk": "@@ -6,19 +6,47 @@\n       \"type\": \"instance\",\n       \"dependencies\": [],\n       \"declared\": true,\n-      \"instance\": \"instance1\"\n+      \"instance\": \"instance1\",\n+      \"readyAt\": 0,\n+      \"deploying\": {\n+        \"application\": {\n+          \"build\": 4,\n+          \"compileVersion\": \"6.1.0\",\n+          \"sourceUrl\": \"repository1/tree/commit1\",\n+          \"commit\": \"commit1\"\n+        }\n+      },\n+      \"latestVersions\": {\n+        \"platform\": {\n+          \"platform\": \"7.164.0\",\n+          \"at\": \"(ignore)\",\n+          \"upgrade\": false,\n+          \"blockers\": []\n+        },\n+        \"application\": {\n+          \"application\": {\n+            \"build\": 4,\n+            \"compileVersion\": \"6.1.0\",\n+            \"sourceUrl\": \"repository1/tree/commit1\",\n+            \"commit\": \"commit1\"\n+          },\n+          \"at\": 1000,\n+          \"upgrade\": false,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c35cf98f6e308c178bd5755667854142fa62aeaf"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2adf9bd2916bbe00ea33ba9751eb825261c8085b", "author": {"user": {"login": "jonmv", "name": "Jon Marius Venstad"}}, "url": "https://github.com/vespa-engine/vespa/commit/2adf9bd2916bbe00ea33ba9751eb825261c8085b", "committedDate": "2020-02-07T07:50:34Z", "message": "Add blockers to unit test response"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3032, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}