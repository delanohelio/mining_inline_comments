{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg5MzY5MTI4", "number": 14454, "title": "Jonmv/async document v1", "bodyText": "@bjorncs or @vekterli please review.", "createdAt": "2020-09-18T14:54:55Z", "url": "https://github.com/vespa-engine/vespa/pull/14454", "merged": true, "mergeCommit": {"oid": "a8c10d0114c7157a34b82776d6c45aaf3e440147"}, "closed": true, "closedAt": "2020-09-18T21:45:54Z", "author": {"login": "jonmv"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdIxA_0AH2gAyNDg5MzY5MTI4OjJjNTAyODgyNzIwOGYzNzI5Mjc3NGQyMzNlMmYzOTE4YTI3MjgyNjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdLB_NegFqTQ5MjUxNzc5MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2c5028827208f37292774d233e2f3918a2728260", "author": {"user": {"login": "jonmv", "name": "Jon Marius Venstad"}}, "url": "https://github.com/vespa-engine/vespa/commit/2c5028827208f37292774d233e2f3918a2728260", "committedDate": "2020-09-14T10:55:04Z", "message": "Non-functional"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f6f0e76416325171b4a39585d58af50133fe7372", "author": {"user": {"login": "jonmv", "name": "Jon Marius Venstad"}}, "url": "https://github.com/vespa-engine/vespa/commit/f6f0e76416325171b4a39585d58af50133fe7372", "committedDate": "2020-09-16T07:31:52Z", "message": "Deprecate DocumentAccess.createDefault which uses self subscription"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "88c81c7bd65d1f2e00beac6e7f8d607b1f8b9f64", "author": {"user": {"login": "jonmv", "name": "Jon Marius Venstad"}}, "url": "https://github.com/vespa-engine/vespa/commit/88c81c7bd65d1f2e00beac6e7f8d607b1f8b9f64", "committedDate": "2020-09-16T10:11:44Z", "message": "Accept DocumentPut in AsyncSession"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3f18f634d0cd82d71be52c8c1a98f619b48b4ae3", "author": {"user": {"login": "jonmv", "name": "Jon Marius Venstad"}}, "url": "https://github.com/vespa-engine/vespa/commit/3f18f634d0cd82d71be52c8c1a98f619b48b4ae3", "committedDate": "2020-09-18T13:28:56Z", "message": "Non-functional changes"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e814691df005b6992b4c0e8352ff95e8775bf8d", "author": {"user": {"login": "jonmv", "name": "Jon Marius Venstad"}}, "url": "https://github.com/vespa-engine/vespa/commit/7e814691df005b6992b4c0e8352ff95e8775bf8d", "committedDate": "2020-09-18T13:29:26Z", "message": "Deprecate and ignore impossible outcome of sending to MBus"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "608ca56971e61216b53c1184f82d5974debef431", "author": {"user": {"login": "jonmv", "name": "Jon Marius Venstad"}}, "url": "https://github.com/vespa-engine/vespa/commit/608ca56971e61216b53c1184f82d5974debef431", "committedDate": "2020-09-18T14:40:40Z", "message": "Add unit test to document inaccurate reply merging on TAS failed"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03824050b9de32cc7c68c5a26179cc93a70bd82c", "author": {"user": {"login": "jonmv", "name": "Jon Marius Venstad"}}, "url": "https://github.com/vespa-engine/vespa/commit/03824050b9de32cc7c68c5a26179cc93a70bd82c", "committedDate": "2020-09-18T14:53:48Z", "message": "Get more juice out of Response"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNTk0NzAz", "url": "https://github.com/vespa-engine/vespa/pull/14454#pullrequestreview-491594703", "createdAt": "2020-09-18T16:01:18Z", "commit": {"oid": "f6f0e76416325171b4a39585d58af50133fe7372"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjowMToxOVrOHUTGfg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xOFQxNjowMToxOVrOHUTGfg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTA0NjUyNg==", "bodyText": "But that's more difficult ... doesn't this just work?", "url": "https://github.com/vespa-engine/vespa/pull/14454#discussion_r491046526", "createdAt": "2020-09-18T16:01:19Z", "author": {"login": "bratseth"}, "path": "documentapi/src/main/java/com/yahoo/documentapi/DocumentAccess.java", "diffHunk": "@@ -55,8 +55,11 @@\n      * while attempting to create such an object, this method will throw an\n      * exception.\n      *\n+     * @deprecated Inject a DocumentManagerConfig and create a MessageBusDocumentAccess from this instead.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f6f0e76416325171b4a39585d58af50133fe7372"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkxNTk3Nzky", "url": "https://github.com/vespa-engine/vespa/pull/14454#pullrequestreview-491597792", "createdAt": "2020-09-18T16:05:11Z", "commit": {"oid": "03824050b9de32cc7c68c5a26179cc93a70bd82c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "060c1c8dc162ce9cf7e88b44f9fb986b511bf29b", "author": {"user": {"login": "jonmv", "name": "Jon Marius Venstad"}}, "url": "https://github.com/vespa-engine/vespa/commit/060c1c8dc162ce9cf7e88b44f9fb986b511bf29b", "committedDate": "2020-09-18T20:53:12Z", "message": "Update abi-spec"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDkyNTE3Nzkw", "url": "https://github.com/vespa-engine/vespa/pull/14454#pullrequestreview-492517790", "createdAt": "2020-09-21T11:49:08Z", "commit": {"oid": "03824050b9de32cc7c68c5a26179cc93a70bd82c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMTo0OTowOFrOHVMD-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0yMVQxMTo0OTowOFrOHVMD-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5MTk3OTc2OA==", "bodyText": "Consider setting forRemoval=true. IDE/compiler gives stronger feedback if true.", "url": "https://github.com/vespa-engine/vespa/pull/14454#discussion_r491979768", "createdAt": "2020-09-21T11:49:08Z", "author": {"login": "bjorncs"}, "path": "documentapi/src/main/java/com/yahoo/documentapi/DocumentIdResponse.java", "diffHunk": "@@ -36,9 +35,9 @@ public DocumentIdResponse(long requestId, DocumentId documentId) {\n      * @param textMessage the message to encapsulate in the Response\n      * @param success     true if the response represents a successful call\n      */\n+    @Deprecated(since = \"7\") // TODO: Remove on Vespa 8", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "03824050b9de32cc7c68c5a26179cc93a70bd82c"}, "originalPosition": 14}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4260, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}