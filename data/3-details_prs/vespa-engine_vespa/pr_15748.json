{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM0NjgyNTAw", "number": 15748, "title": "Remove leftovers from removed disk concept.", "bodyText": "@geirst : please review", "createdAt": "2020-12-08T19:46:58Z", "url": "https://github.com/vespa-engine/vespa/pull/15748", "merged": true, "mergeCommit": {"oid": "e6b003f051b771929e639f7225f850a5939fe44e"}, "closed": true, "closedAt": "2020-12-09T09:32:44Z", "author": {"login": "toregge"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkPg_PgH2gAyNTM0NjgyNTAwOjQ2ZDg0YzIyNTY1ODU4NWRlODgxZjBkZjQ3MjQzNjQ0YWQ5MTVhNDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdkbTZeAFqTU0Nzk4ODcwMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "46d84c225658585de881f0df47243644ad915a44", "author": {"user": null}, "url": "https://github.com/vespa-engine/vespa/commit/46d84c225658585de881f0df47243644ad915a44", "committedDate": "2020-12-08T19:43:07Z", "message": "Remove leftovers from removed disk concept."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "0ac9763eb898f0c8cf67326e9899995c326ca25c", "author": {"user": null}, "url": "https://github.com/vespa-engine/vespa/commit/0ac9763eb898f0c8cf67326e9899995c326ca25c", "committedDate": "2020-12-08T19:59:46Z", "message": "Cleanup remains of disk concept."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3OTc0Mzk2", "url": "https://github.com/vespa-engine/vespa/pull/15748#pullrequestreview-547974396", "createdAt": "2020-12-09T09:10:19Z", "commit": {"oid": "0ac9763eb898f0c8cf67326e9899995c326ca25c"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3OTc2ODUy", "url": "https://github.com/vespa-engine/vespa/pull/15748#pullrequestreview-547976852", "createdAt": "2020-12-09T09:13:16Z", "commit": {"oid": "0ac9763eb898f0c8cf67326e9899995c326ca25c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwOToxMzoxNlrOICKH5w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wOVQwOToxMzoxNlrOICKH5w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzOTEzMzkyNw==", "bodyText": "The above comments can probably be removed now", "url": "https://github.com/vespa-engine/vespa/pull/15748#discussion_r539133927", "createdAt": "2020-12-09T09:13:16Z", "author": {"login": "vekterli"}, "path": "storage/src/vespa/storage/bucketdb/bucketmanager.cpp", "diffHunk": "@@ -243,16 +238,16 @@ BucketManager::updateMetrics(bool updateDocCount)\n                 assert(bm != _metrics->bucket_spaces.end());\n                 // No system with multiple bucket spaces has more than 1 \"disk\"\n                 // TODO remove disk concept entirely as it's a VDS relic\n-                bm->second->buckets_total.set(m.disk[0].buckets);\n-                bm->second->docs.set(m.disk[0].docs);\n-                bm->second->bytes.set(m.disk[0].bytes);\n-                bm->second->active_buckets.set(m.disk[0].active);\n-                bm->second->ready_buckets.set(m.disk[0].ready);\n+                bm->second->buckets_total.set(m.count.buckets);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0ac9763eb898f0c8cf67326e9899995c326ca25c"}, "originalPosition": 84}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "107a7c09b679f2f16978925cf78ca61e3b66a893", "author": {"user": null}, "url": "https://github.com/vespa-engine/vespa/commit/107a7c09b679f2f16978925cf78ca61e3b66a893", "committedDate": "2020-12-09T09:20:04Z", "message": "Remove outdated comment."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQ3OTg4NzAz", "url": "https://github.com/vespa-engine/vespa/pull/15748#pullrequestreview-547988703", "createdAt": "2020-12-09T09:27:08Z", "commit": {"oid": "107a7c09b679f2f16978925cf78ca61e3b66a893"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3817, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}