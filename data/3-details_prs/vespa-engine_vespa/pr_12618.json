{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkwNjA5OTk4", "number": 12618, "title": "Balder/use fast map for few elements.", "bodyText": "@havardpe PR", "createdAt": "2020-03-18T18:55:53Z", "url": "https://github.com/vespa-engine/vespa/pull/12618", "merged": true, "mergeCommit": {"oid": "19bbaf872b649b3ce13809f5f9c40af065b28fee"}, "closed": true, "closedAt": "2020-03-19T14:30:20Z", "author": {"login": "baldersheim"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcO4mLCAH2gAyMzkwNjA5OTk4OjQ5YWJhMmM1YWNiNTljMzNiMzBhYjhkMzViZGQ3Y2NjN2E5ODFhMjA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcPMyaKAH2gAyMzkwNjA5OTk4OmYyZDI4Y2Y0YzFiODU3OWI1OGUzYWU1MDZmYzYyOTcwYmU3ZmIyNTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "49aba2c5acb59c33b30ab8d35bdd7ccc7a981a20", "author": {"user": {"login": "baldersheim", "name": "Henning Baldersheim"}}, "url": "https://github.com/vespa-engine/vespa/commit/49aba2c5acb59c33b30ab8d35bdd7ccc7a981a20", "committedDate": "2020-03-18T14:57:24Z", "message": "Use a faster executor for single element exeutors"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "67b72d9e3a5765de1b5b1af1c14058218a356e79", "author": {"user": {"login": "baldersheim", "name": "Henning Baldersheim"}}, "url": "https://github.com/vespa-engine/vespa/commit/67b72d9e3a5765de1b5b1af1c14058218a356e79", "committedDate": "2020-03-18T17:48:43Z", "message": "Special handle for non-enumerated integer fields too."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc3NzM3MjMz", "url": "https://github.com/vespa-engine/vespa/pull/12618#pullrequestreview-377737233", "createdAt": "2020-03-19T13:50:59Z", "commit": {"oid": "67b72d9e3a5765de1b5b1af1c14058218a356e79"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxMzo1MDo1OVrOF4vTdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xOVQxMzo1MDo1OVrOF4vTdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTAzOTYwNg==", "bodyText": "could let auto resolve to a value here and move it into the constructor", "url": "https://github.com/vespa-engine/vespa/pull/12618#discussion_r395039606", "createdAt": "2020-03-19T13:50:59Z", "author": {"login": "havardpe"}, "path": "searchlib/src/vespa/searchlib/features/dotproductfeature.cpp", "diffHunk": "@@ -584,6 +655,10 @@ createForDirectWSetImpl(const IAttributeVector * attribute, V && vector, vespali\n     if (!attribute->isImported() && (iattr != nullptr) && supportsGetRawValues<A, VT>(*iattr)) {\n         auto * exactA = dynamic_cast<const ExactA *>(iattr);\n         if (exactA != nullptr) {\n+            if (extractSize(vector) == 1) {\n+                const auto & elem = extractElem(vector, 0ul);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67b72d9e3a5765de1b5b1af1c14058218a356e79"}, "originalPosition": 108}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f2d28cf4c1b8579b58e3ae506fc62970be7fb254", "author": {"user": null}, "url": "https://github.com/vespa-engine/vespa/commit/f2d28cf4c1b8579b58e3ae506fc62970be7fb254", "committedDate": "2020-03-19T14:28:52Z", "message": "Avoid using a temporary."}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2728, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}