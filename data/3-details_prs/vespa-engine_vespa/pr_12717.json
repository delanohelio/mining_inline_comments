{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkzODQ4Mzgz", "number": 12717, "title": "Bratseth/autoscaling ranges 1 .", "bodyText": "Just some preparation work, no behavior changes. It should work well to look at the commits in order.", "createdAt": "2020-03-25T21:58:09Z", "url": "https://github.com/vespa-engine/vespa/pull/12717", "merged": true, "mergeCommit": {"oid": "3e5be1fb5216c057c2d631149cb2cf3a20fde674"}, "closed": true, "closedAt": "2020-03-26T10:12:19Z", "author": {"login": "bratseth"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRH01DAH2gAyMzkzODQ4MzgzOmYyZTE0ZTlhYzVlNWVhMmIwNWY3YWEzNGJmMjFkYzczYjZkOGUwZWI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcRXV3vAFqTM4MTc2NzAyMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f2e14e9ac5e5ea2b05f7aa34bf21dc73b6d8e0eb", "author": {"user": {"login": "vespa-headless", "name": null}}, "url": "https://github.com/vespa-engine/vespa/commit/f2e14e9ac5e5ea2b05f7aa34bf21dc73b6d8e0eb", "committedDate": "2020-03-25T13:49:50Z", "message": "Move group argument inside Capacity"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "34d5d8e4539462eb69045fc2def38d2529ba4288", "author": {"user": {"login": "vespa-headless", "name": null}}, "url": "https://github.com/vespa-engine/vespa/commit/34d5d8e4539462eb69045fc2def38d2529ba4288", "committedDate": "2020-03-25T19:31:06Z", "message": "Remove clustertype from ClusterResources"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1df9ad9d901df540fcb5c0fe463b3e3df5228482", "author": {"user": {"login": "vespa-headless", "name": null}}, "url": "https://github.com/vespa-engine/vespa/commit/1df9ad9d901df540fcb5c0fe463b3e3df5228482", "committedDate": "2020-03-25T19:33:29Z", "message": "Move ClusterResources to config-provision"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06325e02c3754946945f62d3cb69ff93fd93517b", "author": {"user": {"login": "vespa-headless", "name": null}}, "url": "https://github.com/vespa-engine/vespa/commit/06325e02c3754946945f62d3cb69ff93fd93517b", "committedDate": "2020-03-25T20:59:55Z", "message": "Collect resource fields into ClusterResources"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8364c1da3b52e00bab4ba8b51f5ce323cbacd658", "author": {"user": {"login": "vespa-headless", "name": null}}, "url": "https://github.com/vespa-engine/vespa/commit/8364c1da3b52e00bab4ba8b51f5ce323cbacd658", "committedDate": "2020-03-25T21:54:11Z", "message": "Support passing both min and max resources"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgxNzY3MDIw", "url": "https://github.com/vespa-engine/vespa/pull/12717#pullrequestreview-381767020", "createdAt": "2020-03-26T07:54:09Z", "commit": {"oid": "8364c1da3b52e00bab4ba8b51f5ce323cbacd658"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQwNzo1NDoxMFrOF761Ig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQwNzo1NDoxMFrOF761Ig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODM3NDE3OA==", "bodyText": "Verify that min <= max?", "url": "https://github.com/vespa-engine/vespa/pull/12717#discussion_r398374178", "createdAt": "2020-03-26T07:54:10Z", "author": {"login": "freva"}, "path": "config-provisioning/src/main/java/com/yahoo/config/provision/Capacity.java", "diffHunk": "@@ -11,41 +11,56 @@\n  */\n public final class Capacity {\n \n-    private final int nodeCount;\n+    /** Resources should stay between these values, inclusive */\n+    private final ClusterResources min, max;\n \n     private final boolean required;\n \n     private final boolean canFail;\n \n-    private final Optional<NodeResources> nodeResources;\n-\n     private final NodeType type;\n \n-    private Capacity(int nodeCount, Optional<NodeResources> nodeResources, boolean required, boolean canFail, NodeType type) {\n-        this.nodeCount = nodeCount;\n+    private Capacity(ClusterResources min, ClusterResources max, boolean required, boolean canFail, NodeType type) {\n+        this.min = min;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8364c1da3b52e00bab4ba8b51f5ce323cbacd658"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2634, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}