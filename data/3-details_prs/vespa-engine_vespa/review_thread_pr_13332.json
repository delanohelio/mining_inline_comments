{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwNzUwMzg5", "number": 13332, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNTowNToyOVrOD-Q1kg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNTowNToyOVrOD-Q1kg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY2NjE0MTYyOnYy", "diffSide": "RIGHT", "path": "configserver/src/main/java/com/yahoo/vespa/config/server/session/RemoteSession.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNTowNToyOVrOGYQZSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxNzo0NDoyM1rOGYW78Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA4NzYyNw==", "bodyText": "Could probably remove most of these from LocalSession, if they're not to be used on that?", "url": "https://github.com/vespa-engine/vespa/pull/13332#discussion_r428087627", "createdAt": "2020-05-20T15:05:29Z", "author": {"login": "jonmv"}, "path": "configserver/src/main/java/com/yahoo/vespa/config/server/session/RemoteSession.java", "diffHunk": "@@ -135,4 +139,34 @@ public void delete() {\n         transaction.close();\n     }\n \n+    public ApplicationId getApplicationId() { return zooKeeperClient.readApplicationId(); }\n+\n+    public Optional<DockerImage> getDockerImageRepository() { return zooKeeperClient.readDockerImageRepository(); }\n+\n+    public Version getVespaVersion() { return zooKeeperClient.readVespaVersion(); }\n+\n+    public Optional<AthenzDomain> getAthenzDomain() { return zooKeeperClient.readAthenzDomain(); }\n+\n+    public AllocatedHosts getAllocatedHosts() {\n+        return zooKeeperClient.getAllocatedHosts();\n+    }\n+\n+    // Note: Assumes monotonically increasing session ids\n+    public boolean isNewerThan(long sessionId) {\n+        return getSessionId() > sessionId;\n+    }\n+\n+    public Transaction createDeactivateTransaction() {\n+        return createSetStatusTransaction(Status.DEACTIVATE);\n+    }\n+\n+    private Transaction createSetStatusTransaction(Status status) {\n+        return zooKeeperClient.createWriteStatusTransaction(status);\n+    }\n+\n+    public ApplicationMetaData getMetaData() {\n+        return zooKeeperClient.loadApplicationPackage().getMetaData();\n+    }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e354869c4ad9063c97e8c37417fc7c92673b3331"}, "originalPosition": 74}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODE5NDgwMQ==", "bodyText": "I think I removed those that could be removed. I want to do more refactoring in this area, but let's try this first.", "url": "https://github.com/vespa-engine/vespa/pull/13332#discussion_r428194801", "createdAt": "2020-05-20T17:44:23Z", "author": {"login": "hmusum"}, "path": "configserver/src/main/java/com/yahoo/vespa/config/server/session/RemoteSession.java", "diffHunk": "@@ -135,4 +139,34 @@ public void delete() {\n         transaction.close();\n     }\n \n+    public ApplicationId getApplicationId() { return zooKeeperClient.readApplicationId(); }\n+\n+    public Optional<DockerImage> getDockerImageRepository() { return zooKeeperClient.readDockerImageRepository(); }\n+\n+    public Version getVespaVersion() { return zooKeeperClient.readVespaVersion(); }\n+\n+    public Optional<AthenzDomain> getAthenzDomain() { return zooKeeperClient.readAthenzDomain(); }\n+\n+    public AllocatedHosts getAllocatedHosts() {\n+        return zooKeeperClient.getAllocatedHosts();\n+    }\n+\n+    // Note: Assumes monotonically increasing session ids\n+    public boolean isNewerThan(long sessionId) {\n+        return getSessionId() > sessionId;\n+    }\n+\n+    public Transaction createDeactivateTransaction() {\n+        return createSetStatusTransaction(Status.DEACTIVATE);\n+    }\n+\n+    private Transaction createSetStatusTransaction(Status status) {\n+        return zooKeeperClient.createWriteStatusTransaction(status);\n+    }\n+\n+    public ApplicationMetaData getMetaData() {\n+        return zooKeeperClient.loadApplicationPackage().getMetaData();\n+    }", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyODA4NzYyNw=="}, "originalCommit": {"oid": "e354869c4ad9063c97e8c37417fc7c92673b3331"}, "originalPosition": 74}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1597, "cost": 1, "resetAt": "2021-11-13T12:26:42Z"}}}