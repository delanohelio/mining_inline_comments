{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg3NjU4MDQy", "number": 12556, "title": "Cleanup rank setup validator", "bodyText": "", "createdAt": "2020-03-13T08:43:32Z", "url": "https://github.com/vespa-engine/vespa/pull/12556", "merged": true, "mergeCommit": {"oid": "ca0319dbe15adcc1d1dc92bdcfc7626ebc6d11d8"}, "closed": true, "closedAt": "2020-03-13T10:17:42Z", "author": {"login": "hmusum"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcM5QvjgH2gAyMzg3NjU4MDQyOjU5MjE3MmU1Yjk5MjE0OWE3ZjBkMDQ1Mjg5NDM4NjFkMTg4NDAzZjE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcNNRWigFqTM3NDE3MTM2MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "592172e5b992149a7f0d04528943861d188403f1", "author": {"user": {"login": "hmusum", "name": "Harald Musum"}}, "url": "https://github.com/vespa-engine/vespa/commit/592172e5b992149a7f0d04528943861d188403f1", "committedDate": "2020-03-12T10:36:03Z", "message": "Cleanup"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2195e1201eda50787c63e786d5a4f3a3d42882e7", "author": {"user": {"login": "hmusum", "name": "Harald Musum"}}, "url": "https://github.com/vespa-engine/vespa/commit/2195e1201eda50787c63e786d5a4f3a3d42882e7", "committedDate": "2020-03-13T07:34:01Z", "message": "Merge commit '592172e5b992149a7f0d04528943861d188403f1' into hmusum/cleanup-RankSetupValidator"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "76e8ead456dfa160eec758d079de40fd95e10567", "author": {"user": {"login": "hmusum", "name": "Harald Musum"}}, "url": "https://github.com/vespa-engine/vespa/commit/76e8ead456dfa160eec758d079de40fd95e10567", "committedDate": "2020-03-13T08:42:39Z", "message": "Change name of temp dir and include application id in name of dir"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0MTU0Nzc1", "url": "https://github.com/vespa-engine/vespa/pull/12556#pullrequestreview-374154775", "createdAt": "2020-03-13T09:29:23Z", "commit": {"oid": "76e8ead456dfa160eec758d079de40fd95e10567"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QwOToyOToyM1rOF182hA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QwOToyOToyM1rOF182hA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjExNTg0NA==", "bodyText": "For consistency you should use append to avoid the '+' entirely here to.", "url": "https://github.com/vespa-engine/vespa/pull/12556#discussion_r392115844", "createdAt": "2020-03-13T09:29:23Z", "author": {"login": "baldersheim"}, "path": "config-model/src/main/java/com/yahoo/vespa/model/application/validation/RankSetupValidator.java", "diffHunk": "@@ -147,27 +152,27 @@ private boolean execValidate(String configId, SearchCluster sc, String sdName, D\n     }\n \n     private void validateWarn(Exception e, DeployLogger deployLogger) {\n-        String msg = \"Unable to execute 'vespa-verify-ranksetup', validation of rank expressions will only take place when you start Vespa: \" +\n+        String msg = \"Unable to execute '\"+ binaryName + \"', validation of rank expressions will only take place when you start Vespa: \" +\n                 Exceptions.toMessageString(e);\n         deployLogger.log(LogLevel.WARNING, msg);\n     }\n \n     private void validateFail(String output, SearchCluster sc, String sdName, DeployLogger deployLogger) {\n-        String errMsg = \"For search cluster '\" + sc.getClusterName() + \"', search definition '\" + sdName + \"': error in rank setup. Details:\\n\";\n+        StringBuilder errMsg = new StringBuilder(\"For search cluster '\" + sc.getClusterName() + \"', search definition '\" + sdName + \"': error in rank setup. Details:\\n\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "76e8ead456dfa160eec758d079de40fd95e10567"}, "originalPosition": 92}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e63a481a108837843953029c6f94335672ac170", "author": {"user": {"login": "hmusum", "name": "Harald Musum"}}, "url": "https://github.com/vespa-engine/vespa/commit/7e63a481a108837843953029c6f94335672ac170", "committedDate": "2020-03-13T09:41:24Z", "message": "Fix StringBuilder usage based on review feedback"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0MTcxMzYw", "url": "https://github.com/vespa-engine/vespa/pull/12556#pullrequestreview-374171360", "createdAt": "2020-03-13T09:54:49Z", "commit": {"oid": "7e63a481a108837843953029c6f94335672ac170"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2678, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}