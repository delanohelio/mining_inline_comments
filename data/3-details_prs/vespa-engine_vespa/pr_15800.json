{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM5MjQyNTQy", "number": 15800, "title": "Refactor code and document code to verify that ZooKeeper is working", "bodyText": "Based on non-working system tests when removing this code, document why it is needed/useful.\nAlso add annotation for unused constructor and a non-functional change in getFleetControllers", "createdAt": "2020-12-14T08:07:57Z", "url": "https://github.com/vespa-engine/vespa/pull/15800", "merged": true, "mergeCommit": {"oid": "7d252bb4f6f85cbfda2eb04b5da765fab7b5d933"}, "closed": true, "closedAt": "2020-12-14T11:26:29Z", "author": {"login": "hmusum"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdmBIu2AH2gAyNTM5MjQyNTQyOmU3NTJhZjhhNWU2YjQ2MmNhZWQ4ZmFhZWZmMGFhZmEzMDQxN2M5MTI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdmCgRYgFqTU1MTE5NDc5MQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e752af8a5e6b462caed8faaeff0aafa30417c912", "author": {"user": {"login": "hmusum", "name": "Harald Musum"}}, "url": "https://github.com/vespa-engine/vespa/commit/e752af8a5e6b462caed8faaeff0aafa30417c912", "committedDate": "2020-12-14T08:05:48Z", "message": "Refactor code and document code to verify that ZooKeeper is working"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxMTQ5Nzk1", "url": "https://github.com/vespa-engine/vespa/pull/15800#pullrequestreview-551149795", "createdAt": "2020-12-14T08:46:18Z", "commit": {"oid": "e752af8a5e6b462caed8faaeff0aafa30417c912"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwODo0NjoxOFrOIFFm8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xNFQwODo0NjoxOFrOIFFm8w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0MjIwNTY4Mw==", "bodyText": "Consider implementing this by calling CuratorFramework.blockUntilConnected().", "url": "https://github.com/vespa-engine/vespa/pull/15800#discussion_r542205683", "createdAt": "2020-12-14T08:46:18Z", "author": {"login": "hakonhall"}, "path": "clustercontroller-apps/src/main/java/com/yahoo/vespa/clustercontroller/apps/clustercontroller/ClusterController.java", "diffHunk": "@@ -104,4 +95,18 @@ void shutdownController(FleetController controller) throws Exception {\n         controller.shutdown();\n     }\n \n+    /**\n+     * Creates a path in zookeeper for this fleetcontroller. Seems like this is meant as a check\n+     * that zookeeper server is up and that we are able to do operations against it.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e752af8a5e6b462caed8faaeff0aafa30417c912"}, "originalPosition": 46}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxMTQ5ODY4", "url": "https://github.com/vespa-engine/vespa/pull/15800#pullrequestreview-551149868", "createdAt": "2020-12-14T08:46:22Z", "commit": {"oid": "e752af8a5e6b462caed8faaeff0aafa30417c912"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5e933b7a8e75bae020e504dbc35e61faaceafa59", "author": {"user": {"login": "hmusum", "name": "Harald Musum"}}, "url": "https://github.com/vespa-engine/vespa/commit/5e933b7a8e75bae020e504dbc35e61faaceafa59", "committedDate": "2020-12-14T09:39:11Z", "message": "Use CuratorFramework.blockUntilConnected() to verify connection"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTUxMTk0Nzkx", "url": "https://github.com/vespa-engine/vespa/pull/15800#pullrequestreview-551194791", "createdAt": "2020-12-14T09:41:25Z", "commit": {"oid": "5e933b7a8e75bae020e504dbc35e61faaceafa59"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3751, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}