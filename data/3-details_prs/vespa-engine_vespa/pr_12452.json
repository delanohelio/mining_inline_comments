{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0MTk3ODAz", "number": 12452, "title": "Remove unused roles", "bodyText": "@jonmv\nFYI @tokle @smorgrav", "createdAt": "2020-03-05T10:40:39Z", "url": "https://github.com/vespa-engine/vespa/pull/12452", "merged": true, "mergeCommit": {"oid": "6f582fd7501818a9828b368023b1067f71483ef4"}, "closed": true, "closedAt": "2020-03-06T07:21:42Z", "author": {"login": "mpolden"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcKqsahgFqTM2OTUyODUwNQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcKwz6MAFqTM2OTg1NzA0OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5NTI4NTA1", "url": "https://github.com/vespa-engine/vespa/pull/12452#pullrequestreview-369528505", "createdAt": "2020-03-05T12:29:50Z", "commit": {"oid": "333a830566b2b34d03681654cd44dd09b25b031f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMjoyOTo1MVrOFyRsJw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMjoyOTo1MVrOFyRsJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI2Mjk1MQ==", "bodyText": "Will the potential exception be caught by the caller?", "url": "https://github.com/vespa-engine/vespa/pull/12452#discussion_r388262951", "createdAt": "2020-03-05T12:29:51Z", "author": {"login": "jonmv"}, "path": "controller-api/src/main/java/com/yahoo/vespa/hosted/controller/api/integration/user/Roles.java", "diffHunk": "@@ -57,10 +54,6 @@ public static Role toRole(TenantName tenant, String roleName) {\n     /** Returns the {@link Role} the given tenant and role names correspond to. */\n     public static Role toRole(TenantName tenant, ApplicationName application, String roleName) {\n         switch (roleName) {\n-            case \"applicationAdmin\": return Role.applicationAdmin(tenant, application);\n-            case \"applicationOperator\": return Role.applicationOperator(tenant, application);\n-            case \"applicationDeveloper\": return Role.applicationDeveloper(tenant, application);\n-            case \"applicationReader\": return Role.applicationReader(tenant, application);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "333a830566b2b34d03681654cd44dd09b25b031f"}, "originalPosition": 17}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5NTI4OTQ3", "url": "https://github.com/vespa-engine/vespa/pull/12452#pullrequestreview-369528947", "createdAt": "2020-03-05T12:30:35Z", "commit": {"oid": "333a830566b2b34d03681654cd44dd09b25b031f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMjozMDozNVrOFyRtlw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNVQxMjozMDozNVrOFyRtlw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODI2MzMxOQ==", "bodyText": "On second thought, the integration test is a hostedOperator, so this isn't really needed.", "url": "https://github.com/vespa-engine/vespa/pull/12452#discussion_r388263319", "createdAt": "2020-03-05T12:30:35Z", "author": {"login": "jonmv"}, "path": "controller-api/src/main/java/com/yahoo/vespa/hosted/controller/api/role/Role.java", "diffHunk": "@@ -43,31 +43,16 @@ public static TenantRole athenzTenantAdmin(TenantName tenant) {\n         return new TenantRole(RoleDefinition.athenzTenantAdmin, tenant);\n     }\n \n-    /** Returns a {@link RoleDefinition#tenantPipeline} for the current system and given tenant and application. */\n-    public static ApplicationRole tenantPipeline(TenantName tenant, ApplicationName application) {\n-        return new ApplicationRole(RoleDefinition.tenantPipeline, tenant, application);\n+    /** Returns a {@link RoleDefinition#integrationTest} for the current system and given tenant and application. */\n+    public static ApplicationRole integrationTest(TenantName tenant, ApplicationName application) {\n+        return new ApplicationRole(RoleDefinition.integrationTest, tenant, application);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "333a830566b2b34d03681654cd44dd09b25b031f"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5NTMwNDcx", "url": "https://github.com/vespa-engine/vespa/pull/12452#pullrequestreview-369530471", "createdAt": "2020-03-05T12:33:10Z", "commit": {"oid": "333a830566b2b34d03681654cd44dd09b25b031f"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e7e5d787497c067984a8effdceb06fcbb6d439a", "author": {"user": {"login": "mpolden", "name": "Martin Polden"}}, "url": "https://github.com/vespa-engine/vespa/commit/1e7e5d787497c067984a8effdceb06fcbb6d439a", "committedDate": "2020-03-05T12:53:51Z", "message": "Remove unused tenant and application roles"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "55dd5a7e8db0cbb79802fdf8b059e8c75b6280f9", "author": {"user": {"login": "mpolden", "name": "Martin Polden"}}, "url": "https://github.com/vespa-engine/vespa/commit/55dd5a7e8db0cbb79802fdf8b059e8c75b6280f9", "committedDate": "2020-03-05T12:53:51Z", "message": "Remove unused athenzUser role"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d06aa3e0bfa0eedde1b8b937d9ca4953add6159f", "author": {"user": {"login": "mpolden", "name": "Martin Polden"}}, "url": "https://github.com/vespa-engine/vespa/commit/d06aa3e0bfa0eedde1b8b937d9ca4953add6159f", "committedDate": "2020-03-05T13:06:37Z", "message": "Remove unused tenantPipeline role"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1b09ddc9e19c21033b7409c786be56f3283aaa0e", "author": {"user": {"login": "mpolden", "name": "Martin Polden"}}, "url": "https://github.com/vespa-engine/vespa/commit/1b09ddc9e19c21033b7409c786be56f3283aaa0e", "committedDate": "2020-03-05T13:18:40Z", "message": "Use enum for path prefixes"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "333a830566b2b34d03681654cd44dd09b25b031f", "author": {"user": {"login": "mpolden", "name": "Martin Polden"}}, "url": "https://github.com/vespa-engine/vespa/commit/333a830566b2b34d03681654cd44dd09b25b031f", "committedDate": "2020-03-05T09:23:46Z", "message": "Remove unused roles"}, "afterCommit": {"oid": "1b09ddc9e19c21033b7409c786be56f3283aaa0e", "author": {"user": {"login": "mpolden", "name": "Martin Polden"}}, "url": "https://github.com/vespa-engine/vespa/commit/1b09ddc9e19c21033b7409c786be56f3283aaa0e", "committedDate": "2020-03-05T13:18:40Z", "message": "Use enum for path prefixes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzY5ODU3MDQ5", "url": "https://github.com/vespa-engine/vespa/pull/12452#pullrequestreview-369857049", "createdAt": "2020-03-05T19:37:28Z", "commit": {"oid": "1b09ddc9e19c21033b7409c786be56f3283aaa0e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2757, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}