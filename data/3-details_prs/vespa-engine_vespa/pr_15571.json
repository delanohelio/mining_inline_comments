{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTMwMzY5MTc5", "number": 15571, "title": "- Separate out the tail of the EventLoop into separate method to ease\u2026", "bodyText": "\u2026 readability.\n\nAlso separate out timeout handling of old connections to separate method and unify on vespalib::time.\n\n@havardpe PR", "createdAt": "2020-12-01T15:05:49Z", "url": "https://github.com/vespa-engine/vespa/pull/15571", "merged": true, "mergeCommit": {"oid": "fdbcea7e4213e5e452729f133afe85939fe4271c"}, "closed": true, "closedAt": "2020-12-02T09:46:11Z", "author": {"login": "baldersheim"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdh7KmngH2gAyNTMwMzY5MTc5OjViNTRhOGYwNjEzMTgzNTk2YzhhODI1OWM2NTllNGE5NDJiMTMwNGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdiLer6AFqTU0MjY2NTUyNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5b54a8f0613183596c8a8259c659e4a942b1304d", "author": {"user": {"login": "baldersheim", "name": "Henning Baldersheim"}}, "url": "https://github.com/vespa-engine/vespa/commit/5b54a8f0613183596c8a8259c659e4a942b1304d", "committedDate": "2020-12-01T14:52:43Z", "message": "- Separate out the tail of the EventLoop into separate method to ease readability.\n- Also separate out timeout handling of old connections to separate method and unify on vespalib::time."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3870d89984073b8ba0537943e690d38d7842a7cd", "author": {"user": {"login": "baldersheim", "name": "Henning Baldersheim"}}, "url": "https://github.com/vespa-engine/vespa/commit/3870d89984073b8ba0537943e690d38d7842a7cd", "committedDate": "2020-12-01T15:05:18Z", "message": "Unify on steady_xxx"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyNjQzMTYz", "url": "https://github.com/vespa-engine/vespa/pull/15571#pullrequestreview-542643163", "createdAt": "2020-12-02T09:27:45Z", "commit": {"oid": "3870d89984073b8ba0537943e690d38d7842a7cd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwOToyNzo0NVrOH9Rx7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwOToyNzo0NVrOH9Rx7w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDAxNjQ5NQ==", "bodyText": "We no longer need OptimizeFor", "url": "https://github.com/vespa-engine/vespa/pull/15571#discussion_r534016495", "createdAt": "2020-12-02T09:27:45Z", "author": {"login": "havardpe"}, "path": "fnet/src/vespa/fnet/transport_thread.cpp", "diffHunk": "@@ -19,6 +19,7 @@ using vespalib::ServerSocket;\n using vespalib::SocketHandle;\n using vespalib::SocketSpec;\n using OptimizeFor = vespalib::Executor::OptimizeFor;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3870d89984073b8ba0537943e690d38d7842a7cd"}, "originalPosition": 3}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "26bce0d7d92ccf74899e2992c596eeae8d01804c", "author": {"user": {"login": "baldersheim", "name": "Henning Baldersheim"}}, "url": "https://github.com/vespa-engine/vespa/commit/26bce0d7d92ccf74899e2992c596eeae8d01804c", "committedDate": "2020-12-02T09:35:45Z", "message": "GC unused vespalib::Executor::OptimizeFor"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyNjY1MzQ3", "url": "https://github.com/vespa-engine/vespa/pull/15571#pullrequestreview-542665347", "createdAt": "2020-12-02T09:52:56Z", "commit": {"oid": "3870d89984073b8ba0537943e690d38d7842a7cd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwOTo1Mjo1N1rOH9S18g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwOTo1Mjo1N1rOH9S18g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDAzMzkwNg==", "bodyText": "should not be public", "url": "https://github.com/vespa-engine/vespa/pull/15571#discussion_r534033906", "createdAt": "2020-12-02T09:52:57Z", "author": {"login": "havardpe"}, "path": "fnet/src/vespa/fnet/transport_thread.h", "diffHunk": "@@ -156,6 +154,9 @@ class FNET_TransportThread : public FastOS_Runnable\n      **/\n     bool InitEventLoop();\n \n+    void endEventLoop();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3870d89984073b8ba0537943e690d38d7842a7cd"}, "originalPosition": 18}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTQyNjY1NTI1", "url": "https://github.com/vespa-engine/vespa/pull/15571#pullrequestreview-542665525", "createdAt": "2020-12-02T09:53:08Z", "commit": {"oid": "3870d89984073b8ba0537943e690d38d7842a7cd"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwOTo1MzowOFrOH9S2fA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0wMlQwOTo1MzowOFrOH9S2fA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzNDAzNDA0NA==", "bodyText": "should not be public", "url": "https://github.com/vespa-engine/vespa/pull/15571#discussion_r534034044", "createdAt": "2020-12-02T09:53:08Z", "author": {"login": "havardpe"}, "path": "fnet/src/vespa/fnet/transport_thread.h", "diffHunk": "@@ -156,6 +154,9 @@ class FNET_TransportThread : public FastOS_Runnable\n      **/\n     bool InitEventLoop();\n \n+    void endEventLoop();\n+    void checkTimedoutComponents(vespalib::duration timeout);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3870d89984073b8ba0537943e690d38d7842a7cd"}, "originalPosition": 19}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1821, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}