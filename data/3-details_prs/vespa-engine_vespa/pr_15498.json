{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTI4NDM3NDQ5", "number": 15498, "title": "Arnej/use default tensor engine less", "bodyText": "I confirm that this contribution is made under the terms of the license found in the root directory of this repository's source tree and that I have the authority necessary to make this contribution on behalf of its copyright owner.\n@havardpe please review", "createdAt": "2020-11-27T07:10:02Z", "url": "https://github.com/vespa-engine/vespa/pull/15498", "merged": true, "mergeCommit": {"oid": "f776f5e8c4f4dc63769ff11ab6e79a398f1e7fb3"}, "closed": true, "closedAt": "2020-11-27T12:04:43Z", "author": {"login": "arnej27959"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdgiHANAH2gAyNTI4NDM3NDQ5OjEyNzExNWVmYmFlZDcwMzMwY2RkZTNkMGI3ZDUwMzJiZWQxZjkxYWE=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdgmNCtgFqTUzOTkxOTk5Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "127115efbaed70330cdde3d0b7d5032bed1f91aa", "author": {"user": {"login": "arnej27959", "name": "Arne H Juul"}}, "url": "https://github.com/vespa-engine/vespa/commit/127115efbaed70330cdde3d0b7d5032bed1f91aa", "committedDate": "2020-11-27T07:07:14Z", "message": "test with FastValue instead of DefaultTensorEngine"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa7208968fc8ac2aa6e832925d615fcd9e8fd4a6", "author": {"user": {"login": "arnej27959", "name": "Arne H Juul"}}, "url": "https://github.com/vespa-engine/vespa/commit/fa7208968fc8ac2aa6e832925d615fcd9e8fd4a6", "committedDate": "2020-11-27T07:07:15Z", "message": "test with FastValue instead of DefaultTensorEngine"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "03f00672a73471c02d2922a1bade3c3fb5d60d8f", "author": {"user": {"login": "arnej27959", "name": "Arne H Juul"}}, "url": "https://github.com/vespa-engine/vespa/commit/03f00672a73471c02d2922a1bade3c3fb5d60d8f", "committedDate": "2020-11-27T07:07:15Z", "message": "test with FastValue instead of DefaultTensorEngine"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7e968e19a92d4a5be89888ff28e9579a281bee6f", "author": {"user": {"login": "arnej27959", "name": "Arne H Juul"}}, "url": "https://github.com/vespa-engine/vespa/commit/7e968e19a92d4a5be89888ff28e9579a281bee6f", "committedDate": "2020-11-27T07:07:15Z", "message": "test dense optimizers with FastValue instead of DefaultTensorEngine"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cc16efdef7534cced9c91ffc2ac3364187d9ac74", "author": {"user": {"login": "arnej27959", "name": "Arne H Juul"}}, "url": "https://github.com/vespa-engine/vespa/commit/cc16efdef7534cced9c91ffc2ac3364187d9ac74", "committedDate": "2020-11-27T07:07:15Z", "message": "cleanup unused include"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM5OTE5OTk2", "url": "https://github.com/vespa-engine/vespa/pull/15498#pullrequestreview-539919996", "createdAt": "2020-11-27T11:48:27Z", "commit": {"oid": "cc16efdef7534cced9c91ffc2ac3364187d9ac74"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMTo0ODoyN1rOH67ing==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yN1QxMTo0ODoyN1rOH67ing==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUzMTU1NDk3NA==", "bodyText": "I suggest dropping typed/untyped concept (always typed) and replacing SimpleTensorEngine with SimpleValue here.", "url": "https://github.com/vespa-engine/vespa/pull/15498#discussion_r531554974", "createdAt": "2020-11-27T11:48:27Z", "author": {"login": "havardpe"}, "path": "eval/src/tests/eval/interpreted_function/interpreted_function_test.cpp", "diffHunk": "@@ -53,9 +52,8 @@ struct MyEvalTest : test::EvalSpec::EvalTest {\n         if (is_supported && !has_issues) {\n             vespalib::string desc = as_string(param_names, param_values, expression);\n             SimpleParams params(param_values);\n-            verify_result(SimpleTensorEngine::ref(), *function, false,    \"[untyped simple] \"+desc, params, expected_result);\n-            verify_result(DefaultTensorEngine::ref(), *function, false,   \"[untyped prod]   \"+desc, params, expected_result);\n-            verify_result(DefaultTensorEngine::ref(), *function, true,    \"[typed prod]     \"+desc, params, expected_result);\n+            verify_result(SimpleTensorEngine::ref(),      *function, false, \"[untyped simple] \"+desc, params, expected_result);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "cc16efdef7534cced9c91ffc2ac3364187d9ac74"}, "originalPosition": 30}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1911, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}