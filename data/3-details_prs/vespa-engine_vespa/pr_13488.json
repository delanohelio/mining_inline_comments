{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI3ODE3MjYz", "number": 13488, "title": "use vector of UP as MultiSearch::Children", "bodyText": "add helper class for constructing MultiSearch::Children\n(mostly for unit tests)\nrewrite as needed to adapt\n\nI confirm that this contribution is made under the terms of the license found in the root directory of this repository's source tree and that I have the authority necessary to make this contribution on behalf of its copyright owner.\n@havardpe @geirst @toregge please review", "createdAt": "2020-06-04T12:58:16Z", "url": "https://github.com/vespa-engine/vespa/pull/13488", "merged": true, "mergeCommit": {"oid": "7eee203f34213f8958dde74a7d1ba01dc122efb1"}, "closed": true, "closedAt": "2020-06-05T13:28:06Z", "author": {"login": "arnej27959"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcn7YOJgH2gAyNDI3ODE3MjYzOjY3MTM0ZTYxOTcxNTIyN2U2Y2JlOTFmMzY1MjEzNDg3ZmYxYjFmMzQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcoTM-IgFqTQyNTMzMjUyNg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "67134e619715227e6cbe91f365213487ff1b1f34", "author": {"user": {"login": "arnej27959", "name": "Arne H Juul"}}, "url": "https://github.com/vespa-engine/vespa/commit/67134e619715227e6cbe91f365213487ff1b1f34", "committedDate": "2020-06-04T10:19:59Z", "message": "use vector of UP as MultiSearch::Children\n\n* add helper class for constructing MultiSearch::Children\n  (mostly for unit tests)\n* rewrite as needed to adapt"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1MTY2MDg3", "url": "https://github.com/vespa-engine/vespa/pull/13488#pullrequestreview-425166087", "createdAt": "2020-06-05T10:03:12Z", "commit": {"oid": "67134e619715227e6cbe91f365213487ff1b1f34"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1MTczMDMx", "url": "https://github.com/vespa-engine/vespa/pull/13488#pullrequestreview-425173031", "createdAt": "2020-06-05T10:13:59Z", "commit": {"oid": "67134e619715227e6cbe91f365213487ff1b1f34"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxMDoxNDowMFrOGfovOw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQxMDoxNDowMFrOGfovOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTgyNjQ5MQ==", "bodyText": "Should you not use std::make_unique instead ?", "url": "https://github.com/vespa-engine/vespa/pull/13488#discussion_r435826491", "createdAt": "2020-06-05T10:14:00Z", "author": {"login": "baldersheim"}, "path": "searchlib/src/vespa/searchlib/queryeval/sourceblendersearch.cpp", "diffHunk": "@@ -158,14 +158,14 @@ SourceBlenderSearch::setChild(size_t index, SearchIterator::UP child) {\n     _sources[_children[index]] = child.release();\n }\n \n-SourceBlenderSearch *\n+SearchIterator::UP\n SourceBlenderSearch::create(std::unique_ptr<sourceselector::Iterator> sourceSelector,\n                             const Children &children, bool strict)\n {\n     if (strict) {\n-        return new SourceBlenderSearchStrict(std::move(sourceSelector), children);\n+        return SearchIterator::UP(new SourceBlenderSearchStrict(std::move(sourceSelector), children));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "67134e619715227e6cbe91f365213487ff1b1f34"}, "originalPosition": 11}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1MTczODU4", "url": "https://github.com/vespa-engine/vespa/pull/13488#pullrequestreview-425173858", "createdAt": "2020-06-05T10:15:22Z", "commit": {"oid": "67134e619715227e6cbe91f365213487ff1b1f34"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "10044079375f308895ab8848a7b3d2d4a38f1441", "author": {"user": {"login": "arnej27959", "name": "Arne H Juul"}}, "url": "https://github.com/vespa-engine/vespa/commit/10044079375f308895ab8848a7b3d2d4a38f1441", "committedDate": "2020-06-05T12:32:25Z", "message": "add TODOs about further use of unique_ptr"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fbc19529236528b262d80a068b456bf02e878e89", "author": {"user": {"login": "arnej27959", "name": "Arne H Juul"}}, "url": "https://github.com/vespa-engine/vespa/commit/fbc19529236528b262d80a068b456bf02e878e89", "committedDate": "2020-06-05T13:11:23Z", "message": "adjust to use std::make_unique"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1MzMyNTI2", "url": "https://github.com/vespa-engine/vespa/pull/13488#pullrequestreview-425332526", "createdAt": "2020-06-05T14:05:25Z", "commit": {"oid": "fbc19529236528b262d80a068b456bf02e878e89"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3683, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}