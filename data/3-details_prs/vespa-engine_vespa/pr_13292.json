{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE5NzEwNzg4", "number": 13292, "title": "Shutdown docproc thread executors.", "bodyText": "@jonmv or @hmusum or @bratseth PR", "createdAt": "2020-05-18T19:57:03Z", "url": "https://github.com/vespa-engine/vespa/pull/13292", "merged": true, "mergeCommit": {"oid": "38e14d3a40775f2e010046ae36cf0505f7b6e5a6"}, "closed": true, "closedAt": "2020-05-18T20:02:54Z", "author": {"login": "baldersheim"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcila1HAH2gAyNDE5NzEwNzg4OmU2ZGY1MjFlNzA4ODliNjc3ZDUxOGFmNDVjMzY5YmFkMmQzMDQ4ZjI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcimQinAFqTQxMzkzMTYwNQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e6df521e70889b677d518af45c369bad2d3048f2", "author": {"user": {"login": "baldersheim", "name": "Henning Baldersheim"}}, "url": "https://github.com/vespa-engine/vespa/commit/e6df521e70889b677d518af45c369bad2d3048f2", "committedDate": "2020-05-18T19:55:18Z", "message": "Shutdown docproc thread executors."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzOTAwOTU3", "url": "https://github.com/vespa-engine/vespa/pull/13292#pullrequestreview-413900957", "createdAt": "2020-05-18T20:02:34Z", "commit": {"oid": "e6df521e70889b677d518af45c369bad2d3048f2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzOTAxMTAz", "url": "https://github.com/vespa-engine/vespa/pull/13292#pullrequestreview-413901103", "createdAt": "2020-05-18T20:02:48Z", "commit": {"oid": "e6df521e70889b677d518af45c369bad2d3048f2"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDEzOTMxNjA1", "url": "https://github.com/vespa-engine/vespa/pull/13292#pullrequestreview-413931605", "createdAt": "2020-05-18T20:53:52Z", "commit": {"oid": "e6df521e70889b677d518af45c369bad2d3048f2"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQyMDo1Mzo1MlrOGXHJkg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xOFQyMDo1Mzo1MlrOGXHJkg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNjg4NzU3MA==", "bodyText": "I would have thought the one create by this would suffice?", "url": "https://github.com/vespa-engine/vespa/pull/13292#discussion_r426887570", "createdAt": "2020-05-18T20:53:52Z", "author": {"login": "jonmv"}, "path": "docproc/src/main/java/com/yahoo/docproc/jdisc/DocumentProcessingHandler.java", "diffHunk": "@@ -121,7 +121,8 @@ public DocumentProcessingHandler(ComponentRegistry<DocumentProcessor> documentPr\n \n     @Override\n     protected void destroy() {\n-        //threadPoolMap.values().forEach( pool -> pool.shutdown());  //calling shutdownNow() seems like a bit of an overkill\n+        laterExecutor.shutdown();\n+        docprocServiceRegistry.allComponents().forEach(docprocService -> docprocService.deconstruct());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e6df521e70889b677d518af45c369bad2d3048f2"}, "originalPosition": 6}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3139, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}