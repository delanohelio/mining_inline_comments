{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTExNTY2Mjgy", "number": 15067, "title": "Havardpe/templated scalar value", "bodyText": "I confirm that this contribution is made under the terms of the license found in the root directory of this repository's source tree and that I have the authority necessary to make this contribution on behalf of its copyright owner.\n@arnej27959 please review", "createdAt": "2020-10-28T13:57:03Z", "url": "https://github.com/vespa-engine/vespa/pull/15067", "merged": true, "mergeCommit": {"oid": "c31fcbd8434ca53934b38ad73ee3532cb239811b"}, "closed": true, "closedAt": "2020-10-28T18:04:36Z", "author": {"login": "havardpe"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdW7dMFgH2gAyNTExNTY2MjgyOjJkMWJlYWUzYjg4NmQ5MTUzYTVjZTQ1M2Y1ZGM3MzM1ZGZlMzVjMDU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXBherAFqTUxODk0MDUyMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "2d1beae3b886d9153a5ce453f5dc7335dfe35c05", "author": {"user": {"login": "havardpe", "name": "H\u00e5vard Pettersen"}}, "url": "https://github.com/vespa-engine/vespa/commit/2d1beae3b886d9153a5ce453f5dc7335dfe35c05", "committedDate": "2020-10-28T10:59:51Z", "message": "enable talking about float scalars\n\n- error as flag (future: move out of class)\n- eliminate redundant type enum\n- preserve no free float behavior\n- to/from spec now supports 'float'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "58ad75c1dc451cda8f59c698edfbf4053bcdf270", "author": {"user": {"login": "havardpe", "name": "H\u00e5vard Pettersen"}}, "url": "https://github.com/vespa-engine/vespa/commit/58ad75c1dc451cda8f59c698edfbf4053bcdf270", "committedDate": "2020-10-28T10:59:51Z", "message": "DoubleValue is now ScalarValue<double>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b6526692b6f587c59b2d17fdcd29ab8d1eaaa83a", "author": {"user": {"login": "havardpe", "name": "H\u00e5vard Pettersen"}}, "url": "https://github.com/vespa-engine/vespa/commit/b6526692b6f587c59b2d17fdcd29ab8d1eaaa83a", "committedDate": "2020-10-28T10:59:51Z", "message": "use specific scalar builder for fast value factory"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2d547a67a2a523f4df391b58ca9105d39276f553", "author": {"user": {"login": "havardpe", "name": "H\u00e5vard Pettersen"}}, "url": "https://github.com/vespa-engine/vespa/commit/2d547a67a2a523f4df391b58ca9105d39276f553", "committedDate": "2020-10-28T13:50:30Z", "message": "use generic scalar values for trivial cases"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE4OTQwNTIw", "url": "https://github.com/vespa-engine/vespa/pull/15067#pullrequestreview-518940520", "createdAt": "2020-10-28T17:55:50Z", "commit": {"oid": "2d547a67a2a523f4df391b58ca9105d39276f553"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxNzo1NTo1MFrOHp2vhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOFQxNzo1NTo1MFrOHp2vhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxMzY1MDU2NQ==", "bodyText": "We should probably also remove DoubleValueBuilder (which looks very similar to this).", "url": "https://github.com/vespa-engine/vespa/pull/15067#discussion_r513650565", "createdAt": "2020-10-28T17:55:50Z", "author": {"login": "arnej27959"}, "path": "eval/src/vespa/eval/eval/fast_value.hpp", "diffHunk": "@@ -288,6 +288,15 @@ template <typename T> FastDenseValue<T>::~FastDenseValue() = default;\n \n //-----------------------------------------------------------------------------\n \n+template <typename T>\n+struct FastScalarBuilder final : ValueBuilder<T> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "2d547a67a2a523f4df391b58ca9105d39276f553"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2208, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}