{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDg2NDgzMDMy", "number": 14393, "title": "Test request statistics", "bodyText": "This is the first commit from #14378 which just adds a test", "createdAt": "2020-09-14T09:44:47Z", "url": "https://github.com/vespa-engine/vespa/pull/14393", "merged": true, "mergeCommit": {"oid": "37e49b902cf1c7c64c1e07094ec2924fbc6cd6a6"}, "closed": true, "closedAt": "2020-09-15T08:01:05Z", "author": {"login": "bratseth"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdIv_wCAH2gAyNDg2NDgzMDMyOmE2YTRlMmQ4OWFmYzhmMjk5NTA2ZWMzYzk3YzliMzYxM2RkMjY5NTA=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdJCO-LgFqTQ4ODM3ODcyMA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "a6a4e2d89afc8f299506ec3c97c9b3613dd26950", "author": {"user": {"login": "bratseth", "name": "Jon Bratseth"}}, "url": "https://github.com/vespa-engine/vespa/commit/a6a4e2d89afc8f299506ec3c97c9b3613dd26950", "committedDate": "2020-09-14T09:43:48Z", "message": "Test request statistics"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg3NTk0NjAy", "url": "https://github.com/vespa-engine/vespa/pull/14393#pullrequestreview-487594602", "createdAt": "2020-09-14T09:52:06Z", "commit": {"oid": "a6a4e2d89afc8f299506ec3c97c9b3613dd26950"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwOTo1MjowNlrOHRMSaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOS0xNFQwOTo1MjowNlrOHRMSaQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ4Nzc4OTE2MQ==", "bodyText": "I cannot find use of this class outside unit tests", "url": "https://github.com/vespa-engine/vespa/pull/14393#discussion_r487789161", "createdAt": "2020-09-14T09:52:06Z", "author": {"login": "bjorncs"}, "path": "jdisc_http_service/src/test/java/com/yahoo/jdisc/http/server/jetty/HttpServerTest.java", "diffHunk": "@@ -959,23 +1003,38 @@ public ContentChannel handleRequest(final Request request, final ResponseHandler\n     }\n \n     private static class ParameterPrinterRequestHandler extends AbstractRequestHandler {\n+\n         private static final CompletionHandler NULL_COMPLETION_HANDLER = null;\n \n         @Override\n-        public ContentChannel handleRequest(final Request request, final ResponseHandler handler) {\n-            final Map<String, List<String>> parameters =\n-                    new TreeMap<>(((HttpRequest)request).parameters());\n-            final ContentChannel responseContentChannel\n-                    = ResponseDispatch.newInstance(Response.Status.OK).connect(handler);\n-            responseContentChannel.write(\n-                    ByteBuffer.wrap(parameters.toString().getBytes(StandardCharsets.UTF_8)),\n-                    NULL_COMPLETION_HANDLER);\n+        public ContentChannel handleRequest(Request request, ResponseHandler handler) {\n+            Map<String, List<String>> parameters = new TreeMap<>(((HttpRequest)request).parameters());\n+            ContentChannel responseContentChannel = ResponseDispatch.newInstance(Response.Status.OK).connect(handler);\n+            responseContentChannel.write(ByteBuffer.wrap(parameters.toString().getBytes(StandardCharsets.UTF_8)),\n+                                         NULL_COMPLETION_HANDLER);\n \n             // Have the request content written back to the response.\n             return responseContentChannel;\n         }\n     }\n \n+    private static class RequestTypeHandler extends AbstractRequestHandler {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "a6a4e2d89afc8f299506ec3c97c9b3613dd26950"}, "originalPosition": 506}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f48d0f17f60ef074e131da38cb032a2af8328e84", "author": {"user": {"login": "bratseth", "name": "Jon Bratseth"}}, "url": "https://github.com/vespa-engine/vespa/commit/f48d0f17f60ef074e131da38cb032a2af8328e84", "committedDate": "2020-09-14T19:33:41Z", "message": "Propagate requestType through jdisc core response"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b445f59b10b5f02e0209611ced663f290cf19cbb", "author": {"user": {"login": "bratseth", "name": "Jon Bratseth"}}, "url": "https://github.com/vespa-engine/vespa/commit/b445f59b10b5f02e0209611ced663f290cf19cbb", "committedDate": "2020-09-14T19:47:46Z", "message": "Test just one request"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDg4Mzc4NzIw", "url": "https://github.com/vespa-engine/vespa/pull/14393#pullrequestreview-488378720", "createdAt": "2020-09-15T06:58:43Z", "commit": {"oid": "b445f59b10b5f02e0209611ced663f290cf19cbb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4237, "cost": 1, "resetAt": "2021-10-28T20:13:43Z"}}}