{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTE1ODY4MzMy", "number": 3198, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQwOTo1OTowNVrOE2sA3Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxMDowMTozNVrOE2sFOA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1Nzc5Njc3OnYy", "diffSide": "RIGHT", "path": "modules/library/main/src/main/java/org/geotools/filter/function/AndFunction.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQwOTo1OTowNVrOHvnBGg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQwOTo1OTowNVrOHvnBGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTY4NDM3OA==", "bodyText": "Dates here should be all just \"2020\", e.g.:\n\n  \n    \n  \n    \n\n  \n  This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n             *    (C) 2002-2008, Open Source Geospatial Foundation (OSGeo)\n          \n          \n            \n             *    (C) 2020, Open Source Geospatial Foundation (OSGeo)", "url": "https://github.com/geotools/geotools/pull/3198#discussion_r519684378", "createdAt": "2020-11-09T09:59:05Z", "author": {"login": "aaime"}, "path": "modules/library/main/src/main/java/org/geotools/filter/function/AndFunction.java", "diffHunk": "@@ -0,0 +1,68 @@\n+/*\n+ *    GeoTools - The Open Source Java GIS Toolkit\n+ *    http://geotools.org\n+ *\n+ *    (C) 2002-2008, Open Source Geospatial Foundation (OSGeo)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d87f5599e48dfe3be60f1962eb672c1bcf2b447"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzI1NzgwNzkyOnYy", "diffSide": "RIGHT", "path": "modules/library/main/src/main/java/org/geotools/filter/function/AndFunction.java", "isResolved": false, "comments": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxMDowMTozNVrOHvnHrA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0wOVQxMjo1MDowM1rOHvtAAA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTY4NjA2MA==", "bodyText": "I think you commented on it already, and it's just for talking, not a request, but ... what about having a varying number of inputs, allow the user to pass as many arguments as they want? Should make setting up complex expressions easier.\nIn case you're interested, the \"in\" function can be used as a template to implement this behavior:\n\n  \n    \n      geotools/modules/library/main/src/main/java/org/geotools/filter/function/InFunction.java\n    \n    \n         Line 77\n      in\n      41ac131\n    \n    \n    \n    \n\n        \n          \n           public static FunctionName NAME = \n        \n    \n  \n\n\nI'm happy to merge as it is now though, as said, not a requirement.", "url": "https://github.com/geotools/geotools/pull/3198#discussion_r519686060", "createdAt": "2020-11-09T10:01:35Z", "author": {"login": "aaime"}, "path": "modules/library/main/src/main/java/org/geotools/filter/function/AndFunction.java", "diffHunk": "@@ -0,0 +1,68 @@\n+/*\n+ *    GeoTools - The Open Source Java GIS Toolkit\n+ *    http://geotools.org\n+ *\n+ *    (C) 2002-2008, Open Source Geospatial Foundation (OSGeo)\n+ *\n+ *    This library is free software; you can redistribute it and/or\n+ *    modify it under the terms of the GNU Lesser General Public\n+ *    License as published by the Free Software Foundation;\n+ *    version 2.1 of the License.\n+ *\n+ *    This library is distributed in the hope that it will be useful,\n+ *    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ *    Lesser General Public License for more details.\n+ *\n+ */\n+package org.geotools.filter.function;\n+\n+import static org.geotools.filter.capability.FunctionNameImpl.parameter;\n+\n+import org.geotools.filter.FunctionExpressionImpl;\n+import org.geotools.filter.capability.FunctionNameImpl;\n+import org.opengis.filter.capability.FunctionName;\n+\n+/**\n+ * This function is used to evaluate a And operator with a left and right operands\n+ *\n+ * @author Erwan Bocher, CNRS, 2020\n+ */\n+public class AndFunction extends FunctionExpressionImpl {\n+\n+    public static FunctionName NAME =\n+            new FunctionNameImpl(\n+                    \"And\",\n+                    Boolean.class,\n+                    parameter(\"left\", Boolean.class),", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5d87f5599e48dfe3be60f1962eb672c1bcf2b447"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTY5MDA5MA==", "bodyText": "I can check the In logic. Can you point me the resource ?", "url": "https://github.com/geotools/geotools/pull/3198#discussion_r519690090", "createdAt": "2020-11-09T10:07:58Z", "author": {"login": "ebocher"}, "path": "modules/library/main/src/main/java/org/geotools/filter/function/AndFunction.java", "diffHunk": "@@ -0,0 +1,68 @@\n+/*\n+ *    GeoTools - The Open Source Java GIS Toolkit\n+ *    http://geotools.org\n+ *\n+ *    (C) 2002-2008, Open Source Geospatial Foundation (OSGeo)\n+ *\n+ *    This library is free software; you can redistribute it and/or\n+ *    modify it under the terms of the GNU Lesser General Public\n+ *    License as published by the Free Software Foundation;\n+ *    version 2.1 of the License.\n+ *\n+ *    This library is distributed in the hope that it will be useful,\n+ *    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ *    Lesser General Public License for more details.\n+ *\n+ */\n+package org.geotools.filter.function;\n+\n+import static org.geotools.filter.capability.FunctionNameImpl.parameter;\n+\n+import org.geotools.filter.FunctionExpressionImpl;\n+import org.geotools.filter.capability.FunctionNameImpl;\n+import org.opengis.filter.capability.FunctionName;\n+\n+/**\n+ * This function is used to evaluate a And operator with a left and right operands\n+ *\n+ * @author Erwan Bocher, CNRS, 2020\n+ */\n+public class AndFunction extends FunctionExpressionImpl {\n+\n+    public static FunctionName NAME =\n+            new FunctionNameImpl(\n+                    \"And\",\n+                    Boolean.class,\n+                    parameter(\"left\", Boolean.class),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTY4NjA2MA=="}, "originalCommit": {"oid": "5d87f5599e48dfe3be60f1962eb672c1bcf2b447"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTY5MjA1MA==", "bodyText": "The previous comment contains a link to it, follow it, it's the entire InFunction:\n\n  \n    \n      geotools/modules/library/main/src/main/java/org/geotools/filter/function/InFunction.java\n    \n    \n         Line 77\n      in\n      41ac131\n    \n    \n    \n    \n\n        \n          \n           public static FunctionName NAME =", "url": "https://github.com/geotools/geotools/pull/3198#discussion_r519692050", "createdAt": "2020-11-09T10:11:08Z", "author": {"login": "aaime"}, "path": "modules/library/main/src/main/java/org/geotools/filter/function/AndFunction.java", "diffHunk": "@@ -0,0 +1,68 @@\n+/*\n+ *    GeoTools - The Open Source Java GIS Toolkit\n+ *    http://geotools.org\n+ *\n+ *    (C) 2002-2008, Open Source Geospatial Foundation (OSGeo)\n+ *\n+ *    This library is free software; you can redistribute it and/or\n+ *    modify it under the terms of the GNU Lesser General Public\n+ *    License as published by the Free Software Foundation;\n+ *    version 2.1 of the License.\n+ *\n+ *    This library is distributed in the hope that it will be useful,\n+ *    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ *    Lesser General Public License for more details.\n+ *\n+ */\n+package org.geotools.filter.function;\n+\n+import static org.geotools.filter.capability.FunctionNameImpl.parameter;\n+\n+import org.geotools.filter.FunctionExpressionImpl;\n+import org.geotools.filter.capability.FunctionNameImpl;\n+import org.opengis.filter.capability.FunctionName;\n+\n+/**\n+ * This function is used to evaluate a And operator with a left and right operands\n+ *\n+ * @author Erwan Bocher, CNRS, 2020\n+ */\n+public class AndFunction extends FunctionExpressionImpl {\n+\n+    public static FunctionName NAME =\n+            new FunctionNameImpl(\n+                    \"And\",\n+                    Boolean.class,\n+                    parameter(\"left\", Boolean.class),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTY4NjA2MA=="}, "originalCommit": {"oid": "5d87f5599e48dfe3be60f1962eb672c1bcf2b447"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTY5NjUyNQ==", "bodyText": "Ok it seems InFunction ;-)\nBy the way I have a question.\nWhat about  this expression\ntype = 'geotools' or version > 20 and language = 'it'\nIs geotools internal function evaluator is able to manage precedence between  or and and op ?\nor should I build a  tree to manage that ?", "url": "https://github.com/geotools/geotools/pull/3198#discussion_r519696525", "createdAt": "2020-11-09T10:17:57Z", "author": {"login": "ebocher"}, "path": "modules/library/main/src/main/java/org/geotools/filter/function/AndFunction.java", "diffHunk": "@@ -0,0 +1,68 @@\n+/*\n+ *    GeoTools - The Open Source Java GIS Toolkit\n+ *    http://geotools.org\n+ *\n+ *    (C) 2002-2008, Open Source Geospatial Foundation (OSGeo)\n+ *\n+ *    This library is free software; you can redistribute it and/or\n+ *    modify it under the terms of the GNU Lesser General Public\n+ *    License as published by the Free Software Foundation;\n+ *    version 2.1 of the License.\n+ *\n+ *    This library is distributed in the hope that it will be useful,\n+ *    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ *    Lesser General Public License for more details.\n+ *\n+ */\n+package org.geotools.filter.function;\n+\n+import static org.geotools.filter.capability.FunctionNameImpl.parameter;\n+\n+import org.geotools.filter.FunctionExpressionImpl;\n+import org.geotools.filter.capability.FunctionNameImpl;\n+import org.opengis.filter.capability.FunctionName;\n+\n+/**\n+ * This function is used to evaluate a And operator with a left and right operands\n+ *\n+ * @author Erwan Bocher, CNRS, 2020\n+ */\n+public class AndFunction extends FunctionExpressionImpl {\n+\n+    public static FunctionName NAME =\n+            new FunctionNameImpl(\n+                    \"And\",\n+                    Boolean.class,\n+                    parameter(\"left\", Boolean.class),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTY4NjA2MA=="}, "originalCommit": {"oid": "5d87f5599e48dfe3be60f1962eb672c1bcf2b447"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTcwMzkxOQ==", "bodyText": "Functions do not have precedence, they are applied in the order they are called.", "url": "https://github.com/geotools/geotools/pull/3198#discussion_r519703919", "createdAt": "2020-11-09T10:29:37Z", "author": {"login": "aaime"}, "path": "modules/library/main/src/main/java/org/geotools/filter/function/AndFunction.java", "diffHunk": "@@ -0,0 +1,68 @@\n+/*\n+ *    GeoTools - The Open Source Java GIS Toolkit\n+ *    http://geotools.org\n+ *\n+ *    (C) 2002-2008, Open Source Geospatial Foundation (OSGeo)\n+ *\n+ *    This library is free software; you can redistribute it and/or\n+ *    modify it under the terms of the GNU Lesser General Public\n+ *    License as published by the Free Software Foundation;\n+ *    version 2.1 of the License.\n+ *\n+ *    This library is distributed in the hope that it will be useful,\n+ *    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ *    Lesser General Public License for more details.\n+ *\n+ */\n+package org.geotools.filter.function;\n+\n+import static org.geotools.filter.capability.FunctionNameImpl.parameter;\n+\n+import org.geotools.filter.FunctionExpressionImpl;\n+import org.geotools.filter.capability.FunctionNameImpl;\n+import org.opengis.filter.capability.FunctionName;\n+\n+/**\n+ * This function is used to evaluate a And operator with a left and right operands\n+ *\n+ * @author Erwan Bocher, CNRS, 2020\n+ */\n+public class AndFunction extends FunctionExpressionImpl {\n+\n+    public static FunctionName NAME =\n+            new FunctionNameImpl(\n+                    \"And\",\n+                    Boolean.class,\n+                    parameter(\"left\", Boolean.class),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTY4NjA2MA=="}, "originalCommit": {"oid": "5d87f5599e48dfe3be60f1962eb672c1bcf2b447"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTc4MjQwMA==", "bodyText": "So after looking on Function mechanism, I think you can merge this PR. The setting up of the function precedence should be left to the developer's appreciation.", "url": "https://github.com/geotools/geotools/pull/3198#discussion_r519782400", "createdAt": "2020-11-09T12:50:03Z", "author": {"login": "ebocher"}, "path": "modules/library/main/src/main/java/org/geotools/filter/function/AndFunction.java", "diffHunk": "@@ -0,0 +1,68 @@\n+/*\n+ *    GeoTools - The Open Source Java GIS Toolkit\n+ *    http://geotools.org\n+ *\n+ *    (C) 2002-2008, Open Source Geospatial Foundation (OSGeo)\n+ *\n+ *    This library is free software; you can redistribute it and/or\n+ *    modify it under the terms of the GNU Lesser General Public\n+ *    License as published by the Free Software Foundation;\n+ *    version 2.1 of the License.\n+ *\n+ *    This library is distributed in the hope that it will be useful,\n+ *    but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ *    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU\n+ *    Lesser General Public License for more details.\n+ *\n+ */\n+package org.geotools.filter.function;\n+\n+import static org.geotools.filter.capability.FunctionNameImpl.parameter;\n+\n+import org.geotools.filter.FunctionExpressionImpl;\n+import org.geotools.filter.capability.FunctionNameImpl;\n+import org.opengis.filter.capability.FunctionName;\n+\n+/**\n+ * This function is used to evaluate a And operator with a left and right operands\n+ *\n+ * @author Erwan Bocher, CNRS, 2020\n+ */\n+public class AndFunction extends FunctionExpressionImpl {\n+\n+    public static FunctionName NAME =\n+            new FunctionNameImpl(\n+                    \"And\",\n+                    Boolean.class,\n+                    parameter(\"left\", Boolean.class),", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxOTY4NjA2MA=="}, "originalCommit": {"oid": "5d87f5599e48dfe3be60f1962eb672c1bcf2b447"}, "originalPosition": 37}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3750, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}