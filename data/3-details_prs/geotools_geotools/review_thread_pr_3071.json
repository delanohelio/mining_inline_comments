{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4NDAzNzgx", "number": 3071, "reviewThreads": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwODozNDoxNlrOEQC2yA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwODozNjozOFrOEQC8Xw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MjU5NDY0OnYy", "diffSide": "RIGHT", "path": "modules/library/xml/src/main/java/org/geotools/xml/styling/SLDParser.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwODozNDoxNlrOGz_4DQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwODozNDoxNlrOGz_4DQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE3NzEwMQ==", "bodyText": "I would go and make sure it's not null, not empty, and not blank, all vendor options are supposed to have some content.\nCommons-lang3 is in the classpath here, using SystemUtils.isNotBlank should do the trick.", "url": "https://github.com/geotools/geotools/pull/3071#discussion_r457177101", "createdAt": "2020-07-20T08:34:16Z", "author": {"login": "aaime"}, "path": "modules/library/xml/src/main/java/org/geotools/xml/styling/SLDParser.java", "diffHunk": "@@ -1253,8 +1253,9 @@ protected OtherText parseOtherText(Node root) {\n     private void parseVendorOption(Map<String, String> options, Node child) {\n         String key = child.getAttributes().getNamedItem(\"name\").getNodeValue();\n         String value = getFirstChildValue(child);\n-\n-        options.put(key, value);\n+        if (value != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c93d266256bf28bb6344ae0fb242babe3b29bd0"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MjYwNjMzOnYy", "diffSide": "RIGHT", "path": "modules/library/xml/src/test/java/org/geotools/xml/styling/SLDParserTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwODozNjoxMVrOGz_-Zg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwODozNjoxMVrOGz_-Zg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE3ODcyNg==", "bodyText": "Reformats in PRs are not welcomed, please remove all of them.", "url": "https://github.com/geotools/geotools/pull/3071#discussion_r457178726", "createdAt": "2020-07-20T08:36:11Z", "author": {"login": "aaime"}, "path": "modules/library/xml/src/test/java/org/geotools/xml/styling/SLDParserTest.java", "diffHunk": "@@ -630,7 +655,8 @@ public void testExternalEntitiesDisabled() {\n         // this SLD file references as external entity a file on the local filesystem\n         SLDParser parser = new SLDParser(styleFactory, input(SLD_EXTERNALENTITY));\n \n-        // without a custom EntityResolver, the parser will try to read the entity file on the local\n+        // without a custom EntityResolver, the parser will try to read the entity file", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c93d266256bf28bb6344ae0fb242babe3b29bd0"}, "originalPosition": 37}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1MjYwODk1OnYy", "diffSide": "RIGHT", "path": "modules/library/xml/src/test/java/org/geotools/xml/styling/SLDParserTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwODozNjozOFrOGz__tQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMFQwODozNjozOFrOGz__tQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NzE3OTA2MQ==", "bodyText": "Also make sure it's the one you want here (by checking the available keys).", "url": "https://github.com/geotools/geotools/pull/3071#discussion_r457179061", "createdAt": "2020-07-20T08:36:38Z", "author": {"login": "aaime"}, "path": "modules/library/xml/src/test/java/org/geotools/xml/styling/SLDParserTest.java", "diffHunk": "@@ -756,6 +784,20 @@ public void testContrastEnhancement() throws Exception {\n         assertTrue(\"Params should be empty\", params.isEmpty());\n     }\n \n+    @Test\n+    public void testNullVendorObject() throws Exception {\n+\n+        SLDParser parser = new SLDParser(styleFactory, input(SLD_NULL_VENDOR_OPTION));\n+        Style[] styles = parser.readXML();\n+        List<FeatureTypeStyle> fts = styles[0].featureTypeStyles();\n+        List<Rule> rules = fts.get(0).rules();\n+        List<Symbolizer> symbolizers = rules.get(0).symbolizers();\n+\n+        PointSymbolizer ps = (PointSymbolizer) symbolizers.get(0);\n+\n+        assertEquals(1, ps.getOptions().size());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0c93d266256bf28bb6344ae0fb242babe3b29bd0"}, "originalPosition": 71}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3781, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}