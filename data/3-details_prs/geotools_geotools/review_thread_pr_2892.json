{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA2MjA0Nzcw", "number": 2892, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNzozODozNFrOD0GGwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNzozODozNFrOD0GGwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjU1OTUyNTc4OnYy", "diffSide": "RIGHT", "path": "modules/plugin/shapefile/src/main/java/org/geotools/data/shapefile/shp/PolygonHandler.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQwNzozODozNFrOGI3OzQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0yMVQxNjozNDoyMVrOGJNcug==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTk0NjcwMQ==", "bodyText": "Is this a specific magic number or will any large negative number do e.g. Negative Infinity? Could we use a constant?", "url": "https://github.com/geotools/geotools/pull/2892#discussion_r411946701", "createdAt": "2020-04-21T07:38:34Z", "author": {"login": "ianturton"}, "path": "modules/plugin/shapefile/src/main/java/org/geotools/data/shapefile/shp/PolygonHandler.java", "diffHunk": "@@ -526,7 +525,7 @@ public void write(ByteBuffer buffer, Object geometry) {\n             // m values\n             values.forEach(\n                     x -> {\n-                        buffer.putDouble(!Double.isNaN(x) ? x : -10E40);\n+                        buffer.putDouble(Double.isNaN(x) ? -10E40 : x);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "0b1665da499eb58627862e08090d7f9d1ae4a686"}, "originalPosition": 136}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjI1ODgxNw==", "bodyText": "I've no idea, I just reverted the negative cause it hurts my eyes", "url": "https://github.com/geotools/geotools/pull/2892#discussion_r412258817", "createdAt": "2020-04-21T14:56:06Z", "author": {"login": "groldan"}, "path": "modules/plugin/shapefile/src/main/java/org/geotools/data/shapefile/shp/PolygonHandler.java", "diffHunk": "@@ -526,7 +525,7 @@ public void write(ByteBuffer buffer, Object geometry) {\n             // m values\n             values.forEach(\n                     x -> {\n-                        buffer.putDouble(!Double.isNaN(x) ? x : -10E40);\n+                        buffer.putDouble(Double.isNaN(x) ? -10E40 : x);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTk0NjcwMQ=="}, "originalCommit": {"oid": "0b1665da499eb58627862e08090d7f9d1ae4a686"}, "originalPosition": 136}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMjMxMDcxNA==", "bodyText": "To answer your question: Any floating point number smaller than \u201310^38 is considered by a shapefile reader to represent a \"no data\" value\nFrom the spec:\nFloating point numbers must be numeric values. Positive infinity, negative infinity, and\nNot-a-Number (NaN) values are not allowed in shapefiles. Nevertheless, shapefiles\nsupport the concept of \"no data\" values, but they are currently used only for measures.\nAny floating point number smaller than \u201310^38 is considered by a shapefile reader to\nrepresent a \"no data\" value.", "url": "https://github.com/geotools/geotools/pull/2892#discussion_r412310714", "createdAt": "2020-04-21T16:34:21Z", "author": {"login": "groldan"}, "path": "modules/plugin/shapefile/src/main/java/org/geotools/data/shapefile/shp/PolygonHandler.java", "diffHunk": "@@ -526,7 +525,7 @@ public void write(ByteBuffer buffer, Object geometry) {\n             // m values\n             values.forEach(\n                     x -> {\n-                        buffer.putDouble(!Double.isNaN(x) ? x : -10E40);\n+                        buffer.putDouble(Double.isNaN(x) ? -10E40 : x);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxMTk0NjcwMQ=="}, "originalCommit": {"oid": "0b1665da499eb58627862e08090d7f9d1ae4a686"}, "originalPosition": 136}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3594, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}