{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxMTM2MTA0", "number": 2842, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQwMDoyMDo0MlrODpuAKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQwMDoyMDo0MlrODpuAKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ1MDcxOTE0OnYy", "diffSide": "RIGHT", "path": "modules/plugin/imagemosaic-jdbc/src/main/java/org/geotools/gce/imagemosaic/jdbc/ImageDecoderThread.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQwMDoyMDo0MlrOF5Em7Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMFQwMDoyMDo0MlrOF5Em7Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NTM4ODY1Mw==", "bodyText": "Thanks for changing the variable names, intent is easier to follow now.", "url": "https://github.com/geotools/geotools/pull/2842#discussion_r395388653", "createdAt": "2020-03-20T00:20:42Z", "author": {"login": "jodygarnett"}, "path": "modules/plugin/imagemosaic-jdbc/src/main/java/org/geotools/gce/imagemosaic/jdbc/ImageDecoderThread.java", "diffHunk": "@@ -109,34 +109,37 @@ public void run() {\n \n                 double scaleX = savedTileEnvelope.getSpan(0) / bufferedImage.getWidth();\n                 double scaleY = savedTileEnvelope.getSpan(1) / bufferedImage.getHeight();\n-                int x =\n+                int xmin =\n                         (int)\n                                 (Math.round(\n                                         (tileEnvelope.getMinimum(0)\n                                                         - savedTileEnvelope.getMinimum(0))\n                                                 / scaleX));\n-                int y =\n+                int ymin =\n                         (int)\n                                 (Math.round(\n                                         (savedTileEnvelope.getMaximum(1)\n                                                         - tileEnvelope.getMaximum(1))\n                                                 / scaleY));\n-                int width =\n+                int xmax =\n                         (int)\n                                 (Math.round(\n-                                        bufferedImage.getWidth()\n-                                                / savedTileEnvelope.getSpan(0)\n-                                                * tileEnvelope.getSpan(0)));\n-                int height =\n+                                        (tileEnvelope.getMaximum(0)\n+                                                        - savedTileEnvelope.getMinimum(0))\n+                                                / scaleX));\n+                int ymax =\n                         (int)\n                                 (Math.round(\n-                                        bufferedImage.getHeight()\n-                                                / savedTileEnvelope.getSpan(1)\n-                                                * tileEnvelope.getSpan(1)));\n+                                        (savedTileEnvelope.getMaximum(1)\n+                                                        - tileEnvelope.getMinimum(1))\n+                                                / scaleY));\n+                int width = xmax - xmin;\n+                int height = ymax - ymin;\n \n                 if ((width > 0) && (height > 0)) {\n \n-                    BufferedImage clippedImage = bufferedImage.getSubimage(x, y, width, height);\n+                    BufferedImage clippedImage =\n+                            bufferedImage.getSubimage(xmin, ymin, width, height);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "45165faaf78590dd853d1f774d4b93cedc6cb1f4"}, "originalPosition": 45}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3686, "cost": 1, "resetAt": "2021-11-12T19:05:54Z"}}}