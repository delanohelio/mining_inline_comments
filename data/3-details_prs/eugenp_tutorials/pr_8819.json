{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg1MDE0MjY4", "number": 8819, "title": "[BAEL-3649] - Quick Guide to Spring Cloud Circuit Breaker", "bodyText": "", "createdAt": "2020-03-06T20:46:44Z", "url": "https://github.com/eugenp/tutorials/pull/8819", "merged": true, "mergeCommit": {"oid": "e7b1a77e6e711bac0a962a6b0ac0e7813f913273"}, "closed": true, "closedAt": "2020-04-09T07:30:04Z", "author": {"login": "catalin-burcea"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcQ3-EtgBqjMxNjEyMjQ4ODM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcVrvbkgBqjMyMTUyMTAxOTA=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3acf6f2c7219c1bd7c1f31fbd0325ebef8166d1e", "author": {"user": {"login": "catalin-burcea", "name": "Catalin Burcea"}}, "url": "https://github.com/eugenp/tutorials/commit/3acf6f2c7219c1bd7c1f31fbd0325ebef8166d1e", "committedDate": "2020-03-02T16:02:58Z", "message": "[BAEL-3649] - Quick Guide to Spring Cloud Circuit Breaker"}, "afterCommit": {"oid": "b0237ce6c6220de896c358b1c47724e774b0ccb5", "author": {"user": {"login": "catalin-burcea", "name": "Catalin Burcea"}}, "url": "https://github.com/eugenp/tutorials/commit/b0237ce6c6220de896c358b1c47724e774b0ccb5", "committedDate": "2020-03-24T19:20:24Z", "message": "BAEL-3649 Quick Guide to Spring Cloud Circuit Breaker"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzgyNDYyMjc1", "url": "https://github.com/eugenp/tutorials/pull/8819#pullrequestreview-382462275", "createdAt": "2020-03-26T22:22:11Z", "commit": {"oid": "b0237ce6c6220de896c358b1c47724e774b0ccb5"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMjoyMjoxMlrOF8cofQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yNlQyMjoyMjo1NlrOF8cprg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODkyNzk5Nw==", "bodyText": "Are we keeping the commented out line?", "url": "https://github.com/eugenp/tutorials/pull/8819#discussion_r398927997", "createdAt": "2020-03-26T22:22:12Z", "author": {"login": "ashleyfrieze"}, "path": "spring-cloud/spring-cloud-circuit-breaker/src/main/java/com/baeldung/circuitbreaker/AlbumService.java", "diffHunk": "@@ -0,0 +1,38 @@\n+package com.baeldung.circuitbreaker;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.cloud.client.circuitbreaker.CircuitBreaker;\n+import org.springframework.cloud.client.circuitbreaker.CircuitBreakerFactory;\n+import org.springframework.stereotype.Service;\n+import org.springframework.web.client.RestTemplate;\n+\n+import java.nio.file.Files;\n+import java.nio.file.Paths;\n+\n+@Service\n+public class AlbumService {\n+\n+    @Autowired\n+    private CircuitBreakerFactory circuitBreakerFactory;\n+\n+    private RestTemplate restTemplate = new RestTemplate();\n+\n+    public String getAlbumList() {\n+        CircuitBreaker circuitBreaker = circuitBreakerFactory.create(\"circuitbreaker\");\n+        String url = \"https://jsonplaceholder.typicode.com/albums\";\n+//        String url = \"http://localhost:1234/not-real\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0237ce6c6220de896c358b1c47724e774b0ccb5"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5ODkyODMwMg==", "bodyText": "Should we log this instead of printStackTrace?", "url": "https://github.com/eugenp/tutorials/pull/8819#discussion_r398928302", "createdAt": "2020-03-26T22:22:56Z", "author": {"login": "ashleyfrieze"}, "path": "spring-cloud/spring-cloud-circuit-breaker/src/main/java/com/baeldung/circuitbreaker/AlbumService.java", "diffHunk": "@@ -0,0 +1,38 @@\n+package com.baeldung.circuitbreaker;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.cloud.client.circuitbreaker.CircuitBreaker;\n+import org.springframework.cloud.client.circuitbreaker.CircuitBreakerFactory;\n+import org.springframework.stereotype.Service;\n+import org.springframework.web.client.RestTemplate;\n+\n+import java.nio.file.Files;\n+import java.nio.file.Paths;\n+\n+@Service\n+public class AlbumService {\n+\n+    @Autowired\n+    private CircuitBreakerFactory circuitBreakerFactory;\n+\n+    private RestTemplate restTemplate = new RestTemplate();\n+\n+    public String getAlbumList() {\n+        CircuitBreaker circuitBreaker = circuitBreakerFactory.create(\"circuitbreaker\");\n+        String url = \"https://jsonplaceholder.typicode.com/albums\";\n+//        String url = \"http://localhost:1234/not-real\";\n+\n+        return circuitBreaker.run(() -> restTemplate.getForObject(url, String.class), throwable -> getDefaultAlbumList());\n+    }\n+\n+    private String getDefaultAlbumList() {\n+        try {\n+            return new String(Files.readAllBytes(Paths.get(getClass().getClassLoader().getResource(\"fallback-album-list.json\").toURI())));\n+        } catch (Exception e) {\n+            e.printStackTrace();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b0237ce6c6220de896c358b1c47724e774b0ccb5"}, "originalPosition": 32}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "b0237ce6c6220de896c358b1c47724e774b0ccb5", "author": {"user": {"login": "catalin-burcea", "name": "Catalin Burcea"}}, "url": "https://github.com/eugenp/tutorials/commit/b0237ce6c6220de896c358b1c47724e774b0ccb5", "committedDate": "2020-03-24T19:20:24Z", "message": "BAEL-3649 Quick Guide to Spring Cloud Circuit Breaker"}, "afterCommit": {"oid": "9521c148a58fd4a46ac6bc68e5dbcef3fac849cf", "author": {"user": {"login": "catalin-burcea", "name": "Catalin Burcea"}}, "url": "https://github.com/eugenp/tutorials/commit/9521c148a58fd4a46ac6bc68e5dbcef3fac849cf", "committedDate": "2020-03-29T20:28:10Z", "message": "BAEL-3649 Quick Guide to Spring Cloud Circuit Breaker"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5086a08fb27dadf77642fb9e9bfa6b8e7778d7ea", "author": {"user": {"login": "catalin-burcea", "name": "Catalin Burcea"}}, "url": "https://github.com/eugenp/tutorials/commit/5086a08fb27dadf77642fb9e9bfa6b8e7778d7ea", "committedDate": "2020-04-08T17:55:47Z", "message": "BAEL-3649 Quick Guide to Spring Cloud Circuit Breaker"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "9521c148a58fd4a46ac6bc68e5dbcef3fac849cf", "author": {"user": {"login": "catalin-burcea", "name": "Catalin Burcea"}}, "url": "https://github.com/eugenp/tutorials/commit/9521c148a58fd4a46ac6bc68e5dbcef3fac849cf", "committedDate": "2020-03-29T20:28:10Z", "message": "BAEL-3649 Quick Guide to Spring Cloud Circuit Breaker"}, "afterCommit": {"oid": "5086a08fb27dadf77642fb9e9bfa6b8e7778d7ea", "author": {"user": {"login": "catalin-burcea", "name": "Catalin Burcea"}}, "url": "https://github.com/eugenp/tutorials/commit/5086a08fb27dadf77642fb9e9bfa6b8e7778d7ea", "committedDate": "2020-04-08T17:55:47Z", "message": "BAEL-3649 Quick Guide to Spring Cloud Circuit Breaker"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4124, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}