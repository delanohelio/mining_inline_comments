{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcyNzk0NDUx", "number": 8688, "title": "[BAEL-3601] How to Lock Files in Java", "bodyText": "Fixes for PR 8587. For some reason my commits don't seem to amend PR 8587 automatically, so I'm submitting a new pull request.", "createdAt": "2020-02-09T06:01:17Z", "url": "https://github.com/eugenp/tutorials/pull/8688", "merged": true, "mergeCommit": {"oid": "14a7932b959f777be431e88f38f1bb6653ec47a5"}, "closed": true, "closedAt": "2020-02-24T22:10:41Z", "author": {"login": "psoares"}, "timelineItems": {"totalCount": 18, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABbofG86gH2gAyMzcyNzk0NDUxOjVhMGNmNzgxZmZjYzZlZmNjZmU4MzEwM2M0NjZmZTYxNmQxZWViOGQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcEcTMQgH2gAyMzcyNzk0NDUxOjg1OWJmM2ZjNjc1MmNjZThmZGFhMzc1YjlmM2U1ZDdiZTJlMzIzOWU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5a0cf781ffcc6efccfe83103c466fe616d1eeb8d", "author": {"user": {"login": "psoares", "name": "Philippe Soares"}}, "url": "https://github.com/eugenp/tutorials/commit/5a0cf781ffcc6efccfe83103c466fe616d1eeb8d", "committedDate": "2019-11-20T07:46:33Z", "message": "Hexagon architecture\n\nAn example of Hexagon architecture in java."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e5cb222a506a0217245e63b32e4b8625f7a6df19", "author": {"user": {"login": "psoares", "name": "Philippe Soares"}}, "url": "https://github.com/eugenp/tutorials/commit/e5cb222a506a0217245e63b32e4b8625f7a6df19", "committedDate": "2019-12-19T03:02:20Z", "message": "Merge branch 'master' of https://github.com/eugenp/tutorials"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "748bafdf75ff0cac42ab2afa84cdfb4f57bc04b7", "author": {"user": {"login": "psoares", "name": "Philippe Soares"}}, "url": "https://github.com/eugenp/tutorials/commit/748bafdf75ff0cac42ab2afa84cdfb4f57bc04b7", "committedDate": "2020-01-03T05:43:57Z", "message": "File locking example"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5531c9966fcbc5aaa0dfca69b6296a5e6f335305", "author": {"user": {"login": "psoares", "name": "Philippe Soares"}}, "url": "https://github.com/eugenp/tutorials/commit/5531c9966fcbc5aaa0dfca69b6296a5e6f335305", "committedDate": "2020-01-12T22:26:59Z", "message": "New version of the article"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c333ec4683ba251b9d93fc4c3bab722325860f23", "author": {"user": {"login": "psoares", "name": "Philippe Soares"}}, "url": "https://github.com/eugenp/tutorials/commit/c333ec4683ba251b9d93fc4c3bab722325860f23", "committedDate": "2020-01-12T22:31:59Z", "message": "Added comments on unit tests."}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c5f2afc73046f2b862a652ba79e501766f52966a", "author": {"user": {"login": "psoares", "name": "Philippe Soares"}}, "url": "https://github.com/eugenp/tutorials/commit/c5f2afc73046f2b862a652ba79e501766f52966a", "committedDate": "2020-01-25T22:39:29Z", "message": "Replaced println commands by proper logging"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0869b1b9481a86248dff150dd641515883918f9", "author": {"user": {"login": "psoares", "name": "Philippe Soares"}}, "url": "https://github.com/eugenp/tutorials/commit/b0869b1b9481a86248dff150dd641515883918f9", "committedDate": "2020-02-09T04:47:22Z", "message": "Merge branch 'master' of https://github.com/psoares/tutorials"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8134888258b145dbb034281d13f3ae9d13ea5ceb", "author": {"user": {"login": "psoares", "name": "Philippe Soares"}}, "url": "https://github.com/eugenp/tutorials/commit/8134888258b145dbb034281d13f3ae9d13ea5ceb", "committedDate": "2020-02-09T05:49:26Z", "message": "[BAEL-3601] - Fix code review comments."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU1NTkzMDQx", "url": "https://github.com/eugenp/tutorials/pull/8688#pullrequestreview-355593041", "createdAt": "2020-02-09T09:05:44Z", "commit": {"oid": "8134888258b145dbb034281d13f3ae9d13ea5ceb"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOVQwOTowNTo0NFrOFnUByg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wOVQwOTowNzoxNVrOFnUCHw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njc2NjkyMg==", "bodyText": "Let's remove this unused import", "url": "https://github.com/eugenp/tutorials/pull/8688#discussion_r376766922", "createdAt": "2020-02-09T09:05:44Z", "author": {"login": "JonCook"}, "path": "core-java-modules/core-java-nio-2/src/main/java/com/baeldung/lock/FileLocks.java", "diffHunk": "@@ -0,0 +1,139 @@\n+package com.baeldung.lock;\n+\n+import java.io.FileInputStream;\n+import java.io.FileOutputStream;\n+import java.io.IOException;\n+import java.io.RandomAccessFile;\n+import java.nio.ByteBuffer;\n+import java.nio.channels.FileChannel;\n+import java.nio.channels.FileLock;\n+import java.nio.channels.NonReadableChannelException;\n+import java.nio.channels.NonWritableChannelException;\n+import java.nio.charset.StandardCharsets;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.StandardOpenOption;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import com.google.common.base.Charsets;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8134888258b145dbb034281d13f3ae9d13ea5ceb"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njc2Njk4NQ==", "bodyText": "The formatting still looks to be off?", "url": "https://github.com/eugenp/tutorials/pull/8688#discussion_r376766985", "createdAt": "2020-02-09T09:06:51Z", "author": {"login": "JonCook"}, "path": "core-java-modules/core-java-nio-2/src/test/java/com/baeldung/lock/FileLocksUnitTest.java", "diffHunk": "@@ -0,0 +1,48 @@\n+package com.baeldung.lock;\n+\n+import static org.junit.jupiter.api.Assertions.assertNotNull;\n+import static org.junit.jupiter.api.Assertions.assertFalse;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+\n+import java.io.IOException;\n+import java.nio.channels.FileLock;\n+import java.nio.channels.NonReadableChannelException;\n+import java.nio.channels.NonWritableChannelException;\n+\n+import org.junit.jupiter.api.Test;\n+\n+class FileLocksUnitTest {\n+\n+    @Test void givenAnInputStream_whenGetWriteLock_throwNonWritableChannelException() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8134888258b145dbb034281d13f3ae9d13ea5ceb"}, "originalPosition": 17}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3Njc2NzAwNw==", "bodyText": "Formatting also still looks to be off here in this class?", "url": "https://github.com/eugenp/tutorials/pull/8688#discussion_r376767007", "createdAt": "2020-02-09T09:07:15Z", "author": {"login": "JonCook"}, "path": "core-java-modules/core-java-nio-2/src/main/java/com/baeldung/lock/FileLocks.java", "diffHunk": "@@ -0,0 +1,139 @@\n+package com.baeldung.lock;\n+\n+import java.io.FileInputStream;\n+import java.io.FileOutputStream;\n+import java.io.IOException;\n+import java.io.RandomAccessFile;\n+import java.nio.ByteBuffer;\n+import java.nio.channels.FileChannel;\n+import java.nio.channels.FileLock;\n+import java.nio.channels.NonReadableChannelException;\n+import java.nio.channels.NonWritableChannelException;\n+import java.nio.charset.StandardCharsets;\n+import java.nio.file.Files;\n+import java.nio.file.Path;\n+import java.nio.file.StandardOpenOption;\n+\n+import org.slf4j.Logger;\n+import org.slf4j.LoggerFactory;\n+\n+import com.google.common.base.Charsets;\n+\n+public class FileLocks {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8134888258b145dbb034281d13f3ae9d13ea5ceb"}, "originalPosition": 22}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d03b119259c9ccd6a8f8b48cc683fa6870ea6a74", "author": {"user": {"login": "psoares", "name": "Philippe Soares"}}, "url": "https://github.com/eugenp/tutorials/commit/d03b119259c9ccd6a8f8b48cc683fa6870ea6a74", "committedDate": "2020-02-09T15:17:06Z", "message": "[BAEL-3601] - Reformatted code with eclipse. Removed unused imports."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzU3OTMyNjE3", "url": "https://github.com/eugenp/tutorials/pull/8688#pullrequestreview-357932617", "createdAt": "2020-02-13T03:21:19Z", "commit": {"oid": "d03b119259c9ccd6a8f8b48cc683fa6870ea6a74"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QwMzoyMToxOVrOFpF6Wg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xM1QwMzoyNDozNFrOFpF84Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODYzMjc5NA==", "bodyText": "no need to modify this file, please revert", "url": "https://github.com/eugenp/tutorials/pull/8688#discussion_r378632794", "createdAt": "2020-02-13T03:21:19Z", "author": {"login": "KevinGilmore"}, "path": "core-java-modules/core-java-io-2/README.md", "diffHunk": "@@ -11,5 +11,5 @@ This module contains articles about core Java input and output (IO)\n - [List Files in a Directory in Java](https://www.baeldung.com/java-list-directory-files)\n - [Java \u2013 Append Data to a File](https://www.baeldung.com/java-append-to-file)\n - [How to Copy a File with Java](https://www.baeldung.com/java-copy-file)\n-- [Create a Directory in Java](https://www.baeldung.com/java-create-directory)\n+- [Create a Directory in Java](https://www.baeldung.com/java-create-directory) ", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d03b119259c9ccd6a8f8b48cc683fa6870ea6a74"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODYzMzE2MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                void givenAnInputStream_whenGetWriteLock_throwNonWritableChannelException() {\n          \n          \n            \n                void givenAnInputStream_whenGetWriteLock_thenThrowNonWritableChannelException() {", "url": "https://github.com/eugenp/tutorials/pull/8688#discussion_r378633160", "createdAt": "2020-02-13T03:23:05Z", "author": {"login": "KevinGilmore"}, "path": "core-java-modules/core-java-nio-2/src/test/java/com/baeldung/lock/FileLocksUnitTest.java", "diffHunk": "@@ -0,0 +1,54 @@\n+package com.baeldung.lock;\n+\n+import static org.junit.jupiter.api.Assertions.assertNotNull;\n+import static org.junit.jupiter.api.Assertions.assertFalse;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+\n+import java.io.IOException;\n+import java.nio.channels.FileLock;\n+import java.nio.channels.NonReadableChannelException;\n+import java.nio.channels.NonWritableChannelException;\n+\n+import org.junit.jupiter.api.Test;\n+\n+class FileLocksUnitTest {\n+\n+    @Test\n+    void givenAnInputStream_whenGetWriteLock_throwNonWritableChannelException() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d03b119259c9ccd6a8f8b48cc683fa6870ea6a74"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODYzMzIyNQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                void givenARandomAccessFileWithReadWriteAccess_whenGetWriteLock_lock() throws IOException {\n          \n          \n            \n                void givenARandomAccessFileWithReadWriteAccess_whenGetWriteLock_thenLock() throws IOException {", "url": "https://github.com/eugenp/tutorials/pull/8688#discussion_r378633225", "createdAt": "2020-02-13T03:23:28Z", "author": {"login": "KevinGilmore"}, "path": "core-java-modules/core-java-nio-2/src/test/java/com/baeldung/lock/FileLocksUnitTest.java", "diffHunk": "@@ -0,0 +1,54 @@\n+package com.baeldung.lock;\n+\n+import static org.junit.jupiter.api.Assertions.assertNotNull;\n+import static org.junit.jupiter.api.Assertions.assertFalse;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+\n+import java.io.IOException;\n+import java.nio.channels.FileLock;\n+import java.nio.channels.NonReadableChannelException;\n+import java.nio.channels.NonWritableChannelException;\n+\n+import org.junit.jupiter.api.Test;\n+\n+class FileLocksUnitTest {\n+\n+    @Test\n+    void givenAnInputStream_whenGetWriteLock_throwNonWritableChannelException() {\n+        assertThrows(NonWritableChannelException.class, () -> FileLocks.getExclusiveLockFromInputStream());\n+    }\n+\n+    @Test\n+    void givenARandomAccessFileWithReadWriteAccess_whenGetWriteLock_lock() throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d03b119259c9ccd6a8f8b48cc683fa6870ea6a74"}, "originalPosition": 23}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODYzMzI5OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                void givenAPath_whenGetExclusiveLock_lock() throws IOException {\n          \n          \n            \n                void givenAPath_whenGetExclusiveLock_thenLock() throws IOException {", "url": "https://github.com/eugenp/tutorials/pull/8688#discussion_r378633298", "createdAt": "2020-02-13T03:23:49Z", "author": {"login": "KevinGilmore"}, "path": "core-java-modules/core-java-nio-2/src/test/java/com/baeldung/lock/FileLocksUnitTest.java", "diffHunk": "@@ -0,0 +1,54 @@\n+package com.baeldung.lock;\n+\n+import static org.junit.jupiter.api.Assertions.assertNotNull;\n+import static org.junit.jupiter.api.Assertions.assertFalse;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+\n+import java.io.IOException;\n+import java.nio.channels.FileLock;\n+import java.nio.channels.NonReadableChannelException;\n+import java.nio.channels.NonWritableChannelException;\n+\n+import org.junit.jupiter.api.Test;\n+\n+class FileLocksUnitTest {\n+\n+    @Test\n+    void givenAnInputStream_whenGetWriteLock_throwNonWritableChannelException() {\n+        assertThrows(NonWritableChannelException.class, () -> FileLocks.getExclusiveLockFromInputStream());\n+    }\n+\n+    @Test\n+    void givenARandomAccessFileWithReadWriteAccess_whenGetWriteLock_lock() throws IOException {\n+        FileLock lock = FileLocks.getExclusiveLockFromRandomAccessFile(0, 10);\n+        assertNotNull(lock);\n+        assertFalse(lock.isShared());\n+    }\n+\n+    @Test\n+    void givenAPath_whenGetExclusiveLock_lock() throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d03b119259c9ccd6a8f8b48cc683fa6870ea6a74"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODYzMzM0Nw==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                void givenAFileOutputStream_whenGetSharedLock_throwNonReadableChannelException() {\n          \n          \n            \n                void givenAFileOutputStream_whenGetSharedLock_thenThrowNonReadableChannelException() {", "url": "https://github.com/eugenp/tutorials/pull/8688#discussion_r378633347", "createdAt": "2020-02-13T03:24:02Z", "author": {"login": "KevinGilmore"}, "path": "core-java-modules/core-java-nio-2/src/test/java/com/baeldung/lock/FileLocksUnitTest.java", "diffHunk": "@@ -0,0 +1,54 @@\n+package com.baeldung.lock;\n+\n+import static org.junit.jupiter.api.Assertions.assertNotNull;\n+import static org.junit.jupiter.api.Assertions.assertFalse;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+\n+import java.io.IOException;\n+import java.nio.channels.FileLock;\n+import java.nio.channels.NonReadableChannelException;\n+import java.nio.channels.NonWritableChannelException;\n+\n+import org.junit.jupiter.api.Test;\n+\n+class FileLocksUnitTest {\n+\n+    @Test\n+    void givenAnInputStream_whenGetWriteLock_throwNonWritableChannelException() {\n+        assertThrows(NonWritableChannelException.class, () -> FileLocks.getExclusiveLockFromInputStream());\n+    }\n+\n+    @Test\n+    void givenARandomAccessFileWithReadWriteAccess_whenGetWriteLock_lock() throws IOException {\n+        FileLock lock = FileLocks.getExclusiveLockFromRandomAccessFile(0, 10);\n+        assertNotNull(lock);\n+        assertFalse(lock.isShared());\n+    }\n+\n+    @Test\n+    void givenAPath_whenGetExclusiveLock_lock() throws IOException {\n+        FileLock lock = FileLocks.getExclusiveLockFromFileChannelOpen(0, 10);\n+        assertNotNull(lock);\n+        assertFalse(lock.isShared());\n+    }\n+\n+    @Test\n+    void givenAFileOutputStream_whenGetSharedLock_throwNonReadableChannelException() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d03b119259c9ccd6a8f8b48cc683fa6870ea6a74"}, "originalPosition": 37}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODYzMzM5OA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                void givenAnInputStream_whenGetSharedLock_lock() throws IOException {\n          \n          \n            \n                void givenAnInputStream_whenGetSharedLock_thenLock() throws IOException {", "url": "https://github.com/eugenp/tutorials/pull/8688#discussion_r378633398", "createdAt": "2020-02-13T03:24:21Z", "author": {"login": "KevinGilmore"}, "path": "core-java-modules/core-java-nio-2/src/test/java/com/baeldung/lock/FileLocksUnitTest.java", "diffHunk": "@@ -0,0 +1,54 @@\n+package com.baeldung.lock;\n+\n+import static org.junit.jupiter.api.Assertions.assertNotNull;\n+import static org.junit.jupiter.api.Assertions.assertFalse;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+\n+import java.io.IOException;\n+import java.nio.channels.FileLock;\n+import java.nio.channels.NonReadableChannelException;\n+import java.nio.channels.NonWritableChannelException;\n+\n+import org.junit.jupiter.api.Test;\n+\n+class FileLocksUnitTest {\n+\n+    @Test\n+    void givenAnInputStream_whenGetWriteLock_throwNonWritableChannelException() {\n+        assertThrows(NonWritableChannelException.class, () -> FileLocks.getExclusiveLockFromInputStream());\n+    }\n+\n+    @Test\n+    void givenARandomAccessFileWithReadWriteAccess_whenGetWriteLock_lock() throws IOException {\n+        FileLock lock = FileLocks.getExclusiveLockFromRandomAccessFile(0, 10);\n+        assertNotNull(lock);\n+        assertFalse(lock.isShared());\n+    }\n+\n+    @Test\n+    void givenAPath_whenGetExclusiveLock_lock() throws IOException {\n+        FileLock lock = FileLocks.getExclusiveLockFromFileChannelOpen(0, 10);\n+        assertNotNull(lock);\n+        assertFalse(lock.isShared());\n+    }\n+\n+    @Test\n+    void givenAFileOutputStream_whenGetSharedLock_throwNonReadableChannelException() {\n+        assertThrows(NonReadableChannelException.class, FileLocks::getReadLockFromOutputStream);\n+    }\n+\n+    @Test\n+    void givenAnInputStream_whenGetSharedLock_lock() throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d03b119259c9ccd6a8f8b48cc683fa6870ea6a74"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3ODYzMzQ0MQ==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                void givenARandomAccessFile_whenGetSharedLock_lock() throws IOException {\n          \n          \n            \n                void givenARandomAccessFile_whenGetSharedLock_thenLock() throws IOException {", "url": "https://github.com/eugenp/tutorials/pull/8688#discussion_r378633441", "createdAt": "2020-02-13T03:24:34Z", "author": {"login": "KevinGilmore"}, "path": "core-java-modules/core-java-nio-2/src/test/java/com/baeldung/lock/FileLocksUnitTest.java", "diffHunk": "@@ -0,0 +1,54 @@\n+package com.baeldung.lock;\n+\n+import static org.junit.jupiter.api.Assertions.assertNotNull;\n+import static org.junit.jupiter.api.Assertions.assertFalse;\n+import static org.junit.jupiter.api.Assertions.assertThrows;\n+import static org.junit.jupiter.api.Assertions.assertTrue;\n+\n+import java.io.IOException;\n+import java.nio.channels.FileLock;\n+import java.nio.channels.NonReadableChannelException;\n+import java.nio.channels.NonWritableChannelException;\n+\n+import org.junit.jupiter.api.Test;\n+\n+class FileLocksUnitTest {\n+\n+    @Test\n+    void givenAnInputStream_whenGetWriteLock_throwNonWritableChannelException() {\n+        assertThrows(NonWritableChannelException.class, () -> FileLocks.getExclusiveLockFromInputStream());\n+    }\n+\n+    @Test\n+    void givenARandomAccessFileWithReadWriteAccess_whenGetWriteLock_lock() throws IOException {\n+        FileLock lock = FileLocks.getExclusiveLockFromRandomAccessFile(0, 10);\n+        assertNotNull(lock);\n+        assertFalse(lock.isShared());\n+    }\n+\n+    @Test\n+    void givenAPath_whenGetExclusiveLock_lock() throws IOException {\n+        FileLock lock = FileLocks.getExclusiveLockFromFileChannelOpen(0, 10);\n+        assertNotNull(lock);\n+        assertFalse(lock.isShared());\n+    }\n+\n+    @Test\n+    void givenAFileOutputStream_whenGetSharedLock_throwNonReadableChannelException() {\n+        assertThrows(NonReadableChannelException.class, FileLocks::getReadLockFromOutputStream);\n+    }\n+\n+    @Test\n+    void givenAnInputStream_whenGetSharedLock_lock() throws IOException {\n+        FileLock lock = FileLocks.getReadLockFromInputStream(0, 10);\n+        assertNotNull(lock);\n+        assertTrue(lock.isShared());\n+    }\n+\n+    @Test\n+    void givenARandomAccessFile_whenGetSharedLock_lock() throws IOException {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d03b119259c9ccd6a8f8b48cc683fa6870ea6a74"}, "originalPosition": 49}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9bee6c43209605a5733671deefb1161dbb7daf85", "author": {"user": {"login": "psoares", "name": "Philippe Soares"}}, "url": "https://github.com/eugenp/tutorials/commit/9bee6c43209605a5733671deefb1161dbb7daf85", "committedDate": "2020-02-15T04:11:28Z", "message": "Update core-java-modules/core-java-nio-2/src/test/java/com/baeldung/lock/FileLocksUnitTest.java\n\nCo-Authored-By: KevinGilmore <kpg102@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4ecc47280ea1f2ef9725ac23adc4758e0daca450", "author": {"user": {"login": "psoares", "name": "Philippe Soares"}}, "url": "https://github.com/eugenp/tutorials/commit/4ecc47280ea1f2ef9725ac23adc4758e0daca450", "committedDate": "2020-02-15T04:11:34Z", "message": "Update core-java-modules/core-java-nio-2/src/test/java/com/baeldung/lock/FileLocksUnitTest.java\n\nCo-Authored-By: KevinGilmore <kpg102@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6db4f6ebfae5e626fcd14e4bd17731ce6b47f6bd", "author": {"user": {"login": "psoares", "name": "Philippe Soares"}}, "url": "https://github.com/eugenp/tutorials/commit/6db4f6ebfae5e626fcd14e4bd17731ce6b47f6bd", "committedDate": "2020-02-15T04:11:41Z", "message": "Update core-java-modules/core-java-nio-2/src/test/java/com/baeldung/lock/FileLocksUnitTest.java\n\nCo-Authored-By: KevinGilmore <kpg102@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad39bcfd9679f8a391646d4d8475f6c19916173a", "author": {"user": {"login": "psoares", "name": "Philippe Soares"}}, "url": "https://github.com/eugenp/tutorials/commit/ad39bcfd9679f8a391646d4d8475f6c19916173a", "committedDate": "2020-02-15T04:11:52Z", "message": "Update core-java-modules/core-java-nio-2/src/test/java/com/baeldung/lock/FileLocksUnitTest.java\n\nCo-Authored-By: KevinGilmore <kpg102@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5806a622b23b6bac01cffd90a25a9c4bc2522753", "author": {"user": {"login": "psoares", "name": "Philippe Soares"}}, "url": "https://github.com/eugenp/tutorials/commit/5806a622b23b6bac01cffd90a25a9c4bc2522753", "committedDate": "2020-02-15T04:12:30Z", "message": "Update core-java-modules/core-java-nio-2/src/test/java/com/baeldung/lock/FileLocksUnitTest.java\n\nCo-Authored-By: KevinGilmore <kpg102@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1e16f0ed7f2e9bb1e5fd1467927c48e229735ed3", "author": {"user": {"login": "psoares", "name": "Philippe Soares"}}, "url": "https://github.com/eugenp/tutorials/commit/1e16f0ed7f2e9bb1e5fd1467927c48e229735ed3", "committedDate": "2020-02-15T04:12:37Z", "message": "Update core-java-modules/core-java-nio-2/src/test/java/com/baeldung/lock/FileLocksUnitTest.java\n\nCo-Authored-By: KevinGilmore <kpg102@gmail.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "859bf3fc6752cce8fdaa375b9f3e5d7be2e3239e", "author": {"user": {"login": "psoares", "name": "Philippe Soares"}}, "url": "https://github.com/eugenp/tutorials/commit/859bf3fc6752cce8fdaa375b9f3e5d7be2e3239e", "committedDate": "2020-02-15T04:20:05Z", "message": "Reverted change on README.md"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4196, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}