{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk5MzA4MTA4", "number": 10142, "reviewThreads": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxNjo0MzoyNlrOErRD9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQxNzo0NjoxNFrOEwX_4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzODAzNzY0OnYy", "diffSide": "RIGHT", "path": "patterns/design-patterns-behavioral/src/main/java/com/baeldung/nulls/UsingOptional.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxNjo0MzoyNlrOHd8TXw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxNjo0MzoyNlrOHd8TXw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTE1ODc1MQ==", "bodyText": "this may be even easier to read if you put the return statement on line 20 rather than capture a local variable.", "url": "https://github.com/eugenp/tutorials/pull/10142#discussion_r501158751", "createdAt": "2020-10-07T16:43:26Z", "author": {"login": "ashleyfrieze"}, "path": "patterns/design-patterns-behavioral/src/main/java/com/baeldung/nulls/UsingOptional.java", "diffHunk": "@@ -11,6 +15,18 @@\n         return Optional.ofNullable(response);\n     }\n \n+    public String findFirst(){\n+\n+        String firstElement = getList().stream()\n+                .findFirst()\n+                .orElseThrow(IllegalArgumentException::new);\n+        return firstElement;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bb0e210ee24152b49b217e01c0926a2c763ccbe0"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzEzODA0NTgxOnYy", "diffSide": "RIGHT", "path": "patterns/design-patterns-behavioral/src/test/java/com/baeldung/nulls/UsingOptionalUnitTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxNjo0NToyNVrOHd8YTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wN1QxNjo0NToyNVrOHd8YTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMTE2MDAxMw==", "bodyText": "This may be a big change, but classUnderTest is a terrible name for the thing we're testing.\ndataObject would be better. You should never name an object class unless it is an object of type Class - i.e. the metadata of a class.", "url": "https://github.com/eugenp/tutorials/pull/10142#discussion_r501160013", "createdAt": "2020-10-07T16:45:25Z", "author": {"login": "ashleyfrieze"}, "path": "patterns/design-patterns-behavioral/src/test/java/com/baeldung/nulls/UsingOptionalUnitTest.java", "diffHunk": "@@ -39,4 +39,10 @@ public void whenArgIsFalse_thenChainResponseAndThrowException() {\n \n         assertThrows(Exception.class, () -> classUnderTest.process(false).orElseThrow(() -> new Exception()));\n     }\n+\n+    @Test()\n+    void givenEmptyList_whenProcessMulti_throwIllegalArgument() {\n+        assertThrows(IllegalArgumentException.class, () -> classUnderTest.findFirst());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bb0e210ee24152b49b217e01c0926a2c763ccbe0"}, "originalPosition": 7}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0OTE1MTMyOnYy", "diffSide": "RIGHT", "path": "patterns/design-patterns-behavioral/src/main/java/com/baeldung/nulls/UsingOptional.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQyMzozNjo1NFrOHfjLQg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQyMzozNjo1NFrOHfjLQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg0NDIyNg==", "bodyText": "redundant blank line", "url": "https://github.com/eugenp/tutorials/pull/10142#discussion_r502844226", "createdAt": "2020-10-10T23:36:54Z", "author": {"login": "ashleyfrieze"}, "path": "patterns/design-patterns-behavioral/src/main/java/com/baeldung/nulls/UsingOptional.java", "diffHunk": "@@ -1,16 +1,38 @@\n package com.baeldung.nulls;\n \n+import java.util.List;\n import java.util.Optional;\n \n+import static java.util.Collections.emptyList;\n+\n public class UsingOptional {\n \n+    public static final String DEFAULT_VALUE = \"Default Value\";\n+\n     public Optional<Object> process(boolean processed) {\n \n         String response = doSomething(processed);\n \n         return Optional.ofNullable(response);\n     }\n \n+    public String findFirst() {\n+\n+        return getList().stream()\n+            .findFirst()\n+            .orElse(DEFAULT_VALUE);\n+    }\n+\n+    public Optional<String> findOptionalFirst() {\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c19d1c4cdc9a49da5ff9bdd3d8e67a0c5b1c458"}, "originalPosition": 27}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0OTE1MTQyOnYy", "diffSide": "RIGHT", "path": "patterns/design-patterns-behavioral/src/main/java/com/baeldung/nulls/UsingOptional.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQyMzozNzowMlrOHfjLTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQyMzozNzowMlrOHfjLTQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg0NDIzNw==", "bodyText": "redundant blank line", "url": "https://github.com/eugenp/tutorials/pull/10142#discussion_r502844237", "createdAt": "2020-10-10T23:37:02Z", "author": {"login": "ashleyfrieze"}, "path": "patterns/design-patterns-behavioral/src/main/java/com/baeldung/nulls/UsingOptional.java", "diffHunk": "@@ -1,16 +1,38 @@\n package com.baeldung.nulls;\n \n+import java.util.List;\n import java.util.Optional;\n \n+import static java.util.Collections.emptyList;\n+\n public class UsingOptional {\n \n+    public static final String DEFAULT_VALUE = \"Default Value\";\n+\n     public Optional<Object> process(boolean processed) {\n \n         String response = doSomething(processed);\n \n         return Optional.ofNullable(response);\n     }\n \n+    public String findFirst() {\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c19d1c4cdc9a49da5ff9bdd3d8e67a0c5b1c458"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE0OTE1MjAwOnYy", "diffSide": "RIGHT", "path": "patterns/design-patterns-behavioral/src/test/java/com/baeldung/nulls/UsingOptionalUnitTest.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQyMzozNzo1N1rOHfjLig==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xMFQyMzozNzo1N1rOHfjLig==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwMjg0NDI5OA==", "bodyText": "redundant blank line - please also note the other instances of that in this class - there's no need for a blank space just after or just before the { or } of a function.", "url": "https://github.com/eugenp/tutorials/pull/10142#discussion_r502844298", "createdAt": "2020-10-10T23:37:57Z", "author": {"login": "ashleyfrieze"}, "path": "patterns/design-patterns-behavioral/src/test/java/com/baeldung/nulls/UsingOptionalUnitTest.java", "diffHunk": "@@ -11,32 +11,45 @@\n \n class UsingOptionalUnitTest {\n \n-    private UsingOptional classUnderTest;\n+    private UsingOptional dataObject;\n \n     @BeforeEach\n     public void setup() {\n-        classUnderTest = new UsingOptional();\n+        dataObject = new UsingOptional();\n     }\n \n     @Test\n     public void whenArgIsFalse_thenReturnEmptyResponse() {\n \n-        Optional<Object> result = classUnderTest.process(false);\n+        Optional<Object> result = dataObject.process(false);\n \n         assertFalse(result.isPresent());\n     }\n \n     @Test\n     public void whenArgIsTrue_thenReturnValidResponse() {\n \n-        Optional<Object> result = classUnderTest.process(true);\n+        Optional<Object> result = dataObject.process(true);\n \n         assertTrue(result.isPresent());\n     }\n \n     @Test\n     public void whenArgIsFalse_thenChainResponseAndThrowException() {\n \n-        assertThrows(Exception.class, () -> classUnderTest.process(false).orElseThrow(() -> new Exception()));\n+        assertThrows(Exception.class, () -> dataObject.process(false).orElseThrow(() -> new Exception()));\n     }\n+\n+    @Test()\n+    void givenEmptyList_whenFindFirst_getDefaultValue() {\n+        assertTrue(dataObject.findFirst().equalsIgnoreCase(UsingOptional.DEFAULT_VALUE));\n+\n+    }\n+\n+    @Test()\n+    void givenEmptyList_whenFindOptionalFirst_returnsEmptyOptional() {\n+        assertFalse(dataObject.findOptionalFirst().isPresent());\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5c19d1c4cdc9a49da5ff9bdd3d8e67a0c5b1c458"}, "originalPosition": 47}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzE5MTYwMjkwOnYy", "diffSide": "RIGHT", "path": "patterns/design-patterns-behavioral/src/main/java/com/baeldung/nulls/UsingOptional.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQxNzo0NjoxNFrOHl5LZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yMVQxNzo0NjoxNFrOHl5LZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwOTQ5NjE2NQ==", "bodyText": "break the line at the . of .flatMap you can optionally also break the line at the . of findFirst as well.", "url": "https://github.com/eugenp/tutorials/pull/10142#discussion_r509496165", "createdAt": "2020-10-21T17:46:14Z", "author": {"login": "ashleyfrieze"}, "path": "patterns/design-patterns-behavioral/src/main/java/com/baeldung/nulls/UsingOptional.java", "diffHunk": "@@ -1,23 +1,50 @@\n package com.baeldung.nulls;\n \n+import java.util.List;\n import java.util.Optional;\n \n+import static java.util.Collections.emptyList;\n+\n public class UsingOptional {\n \n-    public Optional<Object> process(boolean processed) {\n+    public static final String DEFAULT_VALUE = \"Default Value\";\n \n+    public Optional<Object> process(boolean processed) {\n         String response = doSomething(processed);\n \n         return Optional.ofNullable(response);\n     }\n \n-    private String doSomething(boolean processed) {\n+    public String findFirst() {\n+        return getList().stream()\n+            .findFirst()\n+            .orElse(DEFAULT_VALUE);\n+    }\n+\n+\n+    public Optional<String> findOptionalFirst() {\n+        return getList().stream()\n+            .findFirst();\n+    }\n \n+    private List<String> getList() {\n+        return emptyList();\n+    }\n+\n+    public Optional<String> optionalListFirst() {\n+        return getOptionalList().flatMap(\n+                list -> list.stream().findFirst());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6e796212db02641dac483e0a0a4192807c73b32d"}, "originalPosition": 38}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4156, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}