{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU2NzQxOTA2", "number": 9771, "title": "BAEL-4025 : Spring Data Azure Cosmos DB", "bodyText": "", "createdAt": "2020-07-26T12:14:07Z", "url": "https://github.com/eugenp/tutorials/pull/9771", "merged": true, "mergeCommit": {"oid": "77c6fd71d33e29ff31b09d215518a370bd2b8d44"}, "closed": true, "closedAt": "2020-08-17T13:25:06Z", "author": {"login": "ankurguptajec"}, "timelineItems": {"totalCount": 41, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRKBquAH2gAyNDU2NzQxOTA2OmU5MGNjODZmNDU5Njc3OTY0ZDg0YTNiODM1OTk2MDRiYjc0ZGYwMzU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc_ZOJBgH2gAyNDU2NzQxOTA2OmM2ZWM0MmY0N2YyNGI5OWM1MWNmYTA3ZGExYzNhZDI0M2NkYTU3OTQ=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e90cc86f459677964d84a3b83599604bb74df035", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/e90cc86f459677964d84a3b83599604bb74df035", "committedDate": "2020-03-25T16:23:40Z", "message": "Java Example of Hexagonal Architecture"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b66ddf07c55fb332111964fcb4d9477f0908a3c0", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/b66ddf07c55fb332111964fcb4d9477f0908a3c0", "committedDate": "2020-03-26T19:10:04Z", "message": "removing unnecessary maven files from pull request and spaces in code"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fd72c9c40ab6db425fb06e4710e83ba11565d871", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/fd72c9c40ab6db425fb06e4710e83ba11565d871", "committedDate": "2020-03-26T19:13:33Z", "message": "Removing unnecessary lines"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "05e90365d81675d4ea5657efe7d20f2f78f5de62", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/05e90365d81675d4ea5657efe7d20f2f78f5de62", "committedDate": "2020-04-09T21:39:43Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d1232ab2f93f499a836fb321faafaed7391338fc", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/d1232ab2f93f499a836fb321faafaed7391338fc", "committedDate": "2020-04-09T22:27:55Z", "message": "Example code for using Multiple Cache Manager in SpringBoot"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "79641e8dbea19d8f2af10c754db1d8cd4229e38c", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/79641e8dbea19d8f2af10c754db1d8cd4229e38c", "committedDate": "2020-04-12T21:09:16Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b51d114568ab531e73e7dc06f7c36bce80dd8e86", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/b51d114568ab531e73e7dc06f7c36bce80dd8e86", "committedDate": "2020-04-17T22:17:11Z", "message": "BAEL-3963:Using multiple cache managers in Spring"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "06c6cae7570897b8196986800cf552b6ece0bd22", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/06c6cae7570897b8196986800cf552b6ece0bd22", "committedDate": "2020-04-17T22:22:29Z", "message": "removing new module created in last pull request"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6ebdc82de77f888e6131cf7bb6436fcf5d7a9e57", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/6ebdc82de77f888e6131cf7bb6436fcf5d7a9e57", "committedDate": "2020-04-18T10:22:19Z", "message": "Fixes as per editor Suggestions"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5fc198c38f8da91eb3a999dde5f33f49730a7b67", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/5fc198c38f8da91eb3a999dde5f33f49730a7b67", "committedDate": "2020-04-25T17:45:39Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bc9f1ab743e7cee1a057e9d9686971c47c0d6566", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/bc9f1ab743e7cee1a057e9d9686971c47c0d6566", "committedDate": "2020-04-26T20:09:27Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e97e23e375d928fd3df8881b06827dc920bea11a", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/e97e23e375d928fd3df8881b06827dc920bea11a", "committedDate": "2020-04-26T20:24:51Z", "message": "fixing spacing issue in pom.xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a5421abdf042b2bb34f9feb99f79cab400d91c58", "author": {"user": {"login": "ankurguptajec", "name": "Ankur Gupta"}}, "url": "https://github.com/eugenp/tutorials/commit/a5421abdf042b2bb34f9feb99f79cab400d91c58", "committedDate": "2020-04-26T20:40:04Z", "message": "Fixing spacing issue in pom.xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "cca029bf87593afc4b8bbd105614042c344f167f", "author": {"user": {"login": "ankurguptajec", "name": "Ankur Gupta"}}, "url": "https://github.com/eugenp/tutorials/commit/cca029bf87593afc4b8bbd105614042c344f167f", "committedDate": "2020-04-26T21:21:43Z", "message": "Fixing spacing issue 2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "1d01e691b16572ccde6a6b6c03997f8ec79ac963", "author": {"user": {"login": "ankurguptajec", "name": "Ankur Gupta"}}, "url": "https://github.com/eugenp/tutorials/commit/1d01e691b16572ccde6a6b6c03997f8ec79ac963", "committedDate": "2020-04-26T22:00:41Z", "message": "Formatting space issues in pom.xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "edcce1e7d85fc7b76d5fef24777d40036ec2a51e", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/edcce1e7d85fc7b76d5fef24777d40036ec2a51e", "committedDate": "2020-05-30T16:52:10Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82f8554d21c9574cc63b3a0ea37ffc3d86d28276", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/82f8554d21c9574cc63b3a0ea37ffc3d86d28276", "committedDate": "2020-05-30T21:30:18Z", "message": "Changing the Test class name from IntegrationUnitTest to IntegrationTest"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a40d4698cf488e4c8e0a6ad01b395d1f135d94de", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/a40d4698cf488e4c8e0a6ad01b395d1f135d94de", "committedDate": "2020-06-14T18:45:01Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ad0b5b3b68d70b84d48abc26ef16a2737d94d5db", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/ad0b5b3b68d70b84d48abc26ef16a2737d94d5db", "committedDate": "2020-06-20T20:43:35Z", "message": "Fixing UT failure in build"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b49d4ff5feeda5b04d5760d9f0e865ccdd7559fe", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/b49d4ff5feeda5b04d5760d9f0e865ccdd7559fe", "committedDate": "2020-06-20T21:05:59Z", "message": "resolving merge conflicts"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "71926af7cde8bdcd17377f8a069ac129877523e2", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/71926af7cde8bdcd17377f8a069ac129877523e2", "committedDate": "2020-07-25T20:23:40Z", "message": "Merge remote-tracking branch 'upstream/master'"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f9c88536e10048592e5c69d9328c6d0010346bbd", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/f9c88536e10048592e5c69d9328c6d0010346bbd", "committedDate": "2020-07-26T11:21:40Z", "message": "BAEL-4025:Spring Data Azure Cosmos DB"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3a0346c0627f6d9ac3be00f0aa1cd68b7b5456ad", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/3a0346c0627f6d9ac3be00f0aa1cd68b7b5456ad", "committedDate": "2020-07-26T11:29:27Z", "message": "cleaning up unnecessary changes"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1NTQ0ODk5", "url": "https://github.com/eugenp/tutorials/pull/9771#pullrequestreview-455544899", "createdAt": "2020-07-27T07:40:59Z", "commit": {"oid": "3a0346c0627f6d9ac3be00f0aa1cd68b7b5456ad"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QwNzo0MTowMFrOG3XDNg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QwODowODoyMFrOG3X6Yw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDcwMjUxOA==", "bodyText": "4 space indentation on xml and java files", "url": "https://github.com/eugenp/tutorials/pull/9771#discussion_r460702518", "createdAt": "2020-07-27T07:41:00Z", "author": {"login": "rpvilao"}, "path": "persistence-modules/spring-data-cosmosdb/pom.xml", "diffHunk": "@@ -0,0 +1,48 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+\txsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\t<modelVersion>4.0.0</modelVersion>\n+\t<artifactId>spring-data-cosmosdb</artifactId>\n+\t<name>spring-data-cosmos-db</name>\n+\t<description>tutorial for spring-data-cosmosdb</description>\n+\n+\t<parent>\n+\t\t<groupId>com.baeldung</groupId>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a0346c0627f6d9ac3be00f0aa1cd68b7b5456ad"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDcwMjU5OA==", "bodyText": "promote these to properties", "url": "https://github.com/eugenp/tutorials/pull/9771#discussion_r460702598", "createdAt": "2020-07-27T07:41:08Z", "author": {"login": "rpvilao"}, "path": "persistence-modules/spring-data-cosmosdb/pom.xml", "diffHunk": "@@ -0,0 +1,48 @@\n+<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n+<project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n+\txmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n+\txsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\n+\t<modelVersion>4.0.0</modelVersion>\n+\t<artifactId>spring-data-cosmosdb</artifactId>\n+\t<name>spring-data-cosmos-db</name>\n+\t<description>tutorial for spring-data-cosmosdb</description>\n+\n+\t<parent>\n+\t\t<groupId>com.baeldung</groupId>\n+\t\t<artifactId>parent-boot-2</artifactId>\n+\t\t<version>0.0.1-SNAPSHOT</version>\n+\t\t<relativePath>../../parent-boot-2</relativePath>\n+\t</parent>\n+\n+\t<properties>\n+\t\t<java.version>1.8</java.version>\n+\t</properties>\n+\n+\t<dependencies>\n+\t\t<dependency>\n+\t\t\t<groupId>org.springframework.boot</groupId>\n+\t\t\t<artifactId>spring-boot-starter-web</artifactId>\n+\t\t</dependency>\n+\t\t<dependency>\n+\t\t\t<groupId>com.microsoft.azure</groupId>\n+\t\t\t<artifactId>spring-data-cosmosdb</artifactId>\n+\t\t\t<version>2.3.0</version>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a0346c0627f6d9ac3be00f0aa1cd68b7b5456ad"}, "originalPosition": 29}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDcwMzUyMA==", "bodyText": "/?category=...", "url": "https://github.com/eugenp/tutorials/pull/9771#discussion_r460703520", "createdAt": "2020-07-27T07:42:58Z", "author": {"login": "rpvilao"}, "path": "persistence-modules/spring-data-cosmosdb/src/main/java/com/baeldung/spring/data/cosmosdb/controller/ProductController.java", "diffHunk": "@@ -0,0 +1,54 @@\n+package com.baeldung.spring.data.cosmosdb.controller;\n+\n+import com.baeldung.spring.data.cosmosdb.entity.Product;\n+import com.baeldung.spring.data.cosmosdb.service.ProductService;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.http.HttpStatus;\n+import org.springframework.web.bind.annotation.DeleteMapping;\n+import org.springframework.web.bind.annotation.GetMapping;\n+import org.springframework.web.bind.annotation.PathVariable;\n+import org.springframework.web.bind.annotation.PostMapping;\n+import org.springframework.web.bind.annotation.RequestBody;\n+import org.springframework.web.bind.annotation.RequestMapping;\n+import org.springframework.web.bind.annotation.RequestParam;\n+import org.springframework.web.bind.annotation.ResponseStatus;\n+import org.springframework.web.bind.annotation.RestController;\n+\n+import java.util.List;\n+import java.util.Optional;\n+\n+@RestController\n+@RequestMapping(\"/products\")\n+public class ProductController {\n+\n+    @Autowired\n+    private ProductService productService;\n+\n+    @PostMapping\n+    @ResponseStatus(HttpStatus.CREATED)\n+    public void create(@RequestBody Product product) {\n+        productService.saveProduct(product);\n+    }\n+\n+    @GetMapping(value = \"/{id}/category/{category}\")\n+    public Optional<Product> get(@PathVariable String id, @PathVariable String category) {\n+        return productService.findById(id, category);\n+    }\n+\n+    @DeleteMapping(value = \"/{id}/category/{category}\")\n+    public void delete(@PathVariable String id, @PathVariable String category) {\n+        productService.delete(id, category);\n+    }\n+\n+    @GetMapping\n+    public List<Product> getByName(@RequestParam String name) {\n+        return productService.findProductByName(name);\n+    }\n+\n+    @GetMapping(value = \"/category/{category}\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a0346c0627f6d9ac3be00f0aa1cd68b7b5456ad"}, "originalPosition": 49}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDcwMzc5Nw==", "bodyText": "maybe we could use lombok here. the two string can also go way", "url": "https://github.com/eugenp/tutorials/pull/9771#discussion_r460703797", "createdAt": "2020-07-27T07:43:32Z", "author": {"login": "rpvilao"}, "path": "persistence-modules/spring-data-cosmosdb/src/main/java/com/baeldung/spring/data/cosmosdb/entity/Product.java", "diffHunk": "@@ -0,0 +1,58 @@\n+package com.baeldung.spring.data.cosmosdb.entity;\n+\n+import com.microsoft.azure.spring.data.cosmosdb.core.mapping.Document;\n+import com.microsoft.azure.spring.data.cosmosdb.core.mapping.PartitionKey;\n+\n+import org.springframework.data.annotation.Id;\n+\n+@Document(collection = \"products\")\n+public class Product {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a0346c0627f6d9ac3be00f0aa1cd68b7b5456ad"}, "originalPosition": 9}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDcwMzk5MA==", "bodyText": "promote to a constructor init", "url": "https://github.com/eugenp/tutorials/pull/9771#discussion_r460703990", "createdAt": "2020-07-27T07:43:58Z", "author": {"login": "rpvilao"}, "path": "persistence-modules/spring-data-cosmosdb/src/main/java/com/baeldung/spring/data/cosmosdb/service/ProductService.java", "diffHunk": "@@ -0,0 +1,39 @@\n+package com.baeldung.spring.data.cosmosdb.service;\n+\n+import com.azure.data.cosmos.PartitionKey;\n+import com.baeldung.spring.data.cosmosdb.entity.Product;\n+import com.baeldung.spring.data.cosmosdb.repository.ProductRepository;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Component;\n+\n+import java.util.List;\n+import java.util.Optional;\n+\n+@Component\n+public class ProductService {\n+\n+    @Autowired", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a0346c0627f6d9ac3be00f0aa1cd68b7b5456ad"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDcwNDE4OA==", "bodyText": "no need to store it in the var, just return it", "url": "https://github.com/eugenp/tutorials/pull/9771#discussion_r460704188", "createdAt": "2020-07-27T07:44:20Z", "author": {"login": "rpvilao"}, "path": "persistence-modules/spring-data-cosmosdb/src/main/java/com/baeldung/spring/data/cosmosdb/service/ProductService.java", "diffHunk": "@@ -0,0 +1,39 @@\n+package com.baeldung.spring.data.cosmosdb.service;\n+\n+import com.azure.data.cosmos.PartitionKey;\n+import com.baeldung.spring.data.cosmosdb.entity.Product;\n+import com.baeldung.spring.data.cosmosdb.repository.ProductRepository;\n+\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.stereotype.Component;\n+\n+import java.util.List;\n+import java.util.Optional;\n+\n+@Component\n+public class ProductService {\n+\n+    @Autowired\n+    private ProductRepository repository;\n+\n+    public List<Product> findProductByName(String productName) {\n+        return repository.findByProductName(productName);\n+    }\n+\n+    public Optional<Product> findById(String productId, String category) {\n+        return repository.findById(productId, new PartitionKey(category));\n+    }\n+\n+    public List<Product> getProductsOfCategory(String category) {\n+        List<Product> products = repository.findByProductCategory(category);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a0346c0627f6d9ac3be00f0aa1cd68b7b5456ad"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDcxNjY0Mw==", "bodyText": "name this *ManualTest and put everything ready to run without uncommenting anything (assertions included)", "url": "https://github.com/eugenp/tutorials/pull/9771#discussion_r460716643", "createdAt": "2020-07-27T08:08:20Z", "author": {"login": "rpvilao"}, "path": "persistence-modules/spring-data-cosmosdb/src/test/java/com/baeldung/spring/data/cosmosdb/AzurecosmodbApplicationIntegrationTest.java", "diffHunk": "@@ -0,0 +1,40 @@\n+package com.baeldung.spring.data.cosmosdb;\n+\n+import com.azure.data.cosmos.PartitionKey;\n+import com.baeldung.spring.data.cosmosdb.entity.Product;\n+import com.baeldung.spring.data.cosmosdb.repository.ProductRepository;\n+\n+import org.junit.jupiter.api.Test;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.boot.test.context.SpringBootTest;\n+import org.springframework.util.Assert;\n+\n+import java.util.Optional;\n+\n+//Uncomment this when configured URI and keys for Azure Cosmos DB in application.properties\n+//to run the integration test\n+//@SpringBootTest\n+public class AzurecosmodbApplicationIntegrationTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3a0346c0627f6d9ac3be00f0aa1cd68b7b5456ad"}, "originalPosition": 17}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "32fcda4924b04710c5132bc60cfddbdc64e9d370", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/32fcda4924b04710c5132bc60cfddbdc64e9d370", "committedDate": "2020-07-29T20:13:57Z", "message": "Implementing Code Review comments"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "15b95f1cd2f6cc9a98bf8da54ac5dfd953168502", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/15b95f1cd2f6cc9a98bf8da54ac5dfd953168502", "committedDate": "2020-07-29T20:19:05Z", "message": "Implementing Code Review comments-2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3d72c69980f35ec914d1d8dfb5ac070687663231", "author": {"user": {"login": "ankurguptajec", "name": "Ankur Gupta"}}, "url": "https://github.com/eugenp/tutorials/commit/3d72c69980f35ec914d1d8dfb5ac070687663231", "committedDate": "2020-07-29T20:24:23Z", "message": "Fixing indentation Issue in pom.xml"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9f05cc31a87a4176e41970b8a6cdd71dc0799313", "author": {"user": {"login": "ankurguptajec", "name": "Ankur Gupta"}}, "url": "https://github.com/eugenp/tutorials/commit/9f05cc31a87a4176e41970b8a6cdd71dc0799313", "committedDate": "2020-07-29T20:33:32Z", "message": "Fixing indentation issues"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "000d9250aba41326d8f3852f9329748d3c769d74", "author": {"user": {"login": "ankurguptajec", "name": "Ankur Gupta"}}, "url": "https://github.com/eugenp/tutorials/commit/000d9250aba41326d8f3852f9329748d3c769d74", "committedDate": "2020-07-29T20:39:15Z", "message": "Fixing Indentation Issues - 2"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c79493a5800634701a0acbcfacd319e5e187edc7", "author": {"user": {"login": "ankurguptajec", "name": "Ankur Gupta"}}, "url": "https://github.com/eugenp/tutorials/commit/c79493a5800634701a0acbcfacd319e5e187edc7", "committedDate": "2020-07-29T20:44:27Z", "message": "Fixing Indentation Issue -3"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a031379cefced432a827581c60670bec9acac804", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/a031379cefced432a827581c60670bec9acac804", "committedDate": "2020-07-29T21:14:25Z", "message": "uncommenting the @SpringBootTest and @Test annotation"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29169662fb8d39fb79c9dab17b8e1b4ea2b74b62", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/29169662fb8d39fb79c9dab17b8e1b4ea2b74b62", "committedDate": "2020-07-29T21:15:20Z", "message": "Merge branch 'master' of github.com:ankurguptajec/tutorials"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3OTA5Nzk4", "url": "https://github.com/eugenp/tutorials/pull/9771#pullrequestreview-457909798", "createdAt": "2020-07-29T21:26:04Z", "commit": {"oid": "32fcda4924b04710c5132bc60cfddbdc64e9d370"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMToyNjowNFrOG5KzTQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMToyNzo0MVrOG5K2SA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjU5ODk4OQ==", "bodyText": "the optional here will never be null, just the thing inside. so you need to retrieve the value and assert it", "url": "https://github.com/eugenp/tutorials/pull/9771#discussion_r462598989", "createdAt": "2020-07-29T21:26:04Z", "author": {"login": "rpvilao"}, "path": "persistence-modules/spring-data-cosmosdb/src/test/java/com/baeldung/spring/data/cosmosdb/AzurecosmodbApplicationManualTest.java", "diffHunk": "@@ -14,26 +14,24 @@\n //Uncomment this when configured URI and keys for Azure Cosmos DB in application.properties\n //to run the integration test\n //@SpringBootTest\n-public class AzurecosmodbApplicationIntegrationTest {\n+public class AzurecosmodbApplicationManualTest {\n \n     @Autowired\n     ProductRepository productRepository;\n \n     // Uncomment this when configured URI and keys for Azure Cosmos DB in application.properties\n     // to run the integration test\n-    // @Test\n+    //@Test\n     public void givenProductIsCreated_whenCallFindById_thenProductIsFound() {\n         Product product = new Product();\n         product.setProductid(\"1001\");\n         product.setProductCategory(\"Shirt\");\n         product.setPrice(110.0);\n         product.setProductName(\"Blue Shirt\");\n \n-        // Uncomment these lines when configured URI and keys for Azure Cosmos DB in application.properties\n-        // to run the integration test\n-        // productRepository.save(product);\n-        // Optional<Product> retrievedProduct = productRepository.findById(\"1001\", new PartitionKey(\"Shirt\"));\n-        // Assert.notNull(retrievedProduct, \"Retrieved Product is Null\");\n+        productRepository.save(product);\n+        Optional<Product> retrievedProduct = productRepository.findById(\"1001\", new PartitionKey(\"Shirt\"));\n+        Assert.notNull(retrievedProduct, \"Retrieved Product is Null\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32fcda4924b04710c5132bc60cfddbdc64e9d370"}, "originalPosition": 28}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjU5OTE1MA==", "bodyText": "remove all commented code", "url": "https://github.com/eugenp/tutorials/pull/9771#discussion_r462599150", "createdAt": "2020-07-29T21:26:29Z", "author": {"login": "rpvilao"}, "path": "persistence-modules/spring-data-cosmosdb/src/test/java/com/baeldung/spring/data/cosmosdb/AzurecosmodbApplicationManualTest.java", "diffHunk": "@@ -14,26 +14,24 @@\n //Uncomment this when configured URI and keys for Azure Cosmos DB in application.properties\n //to run the integration test\n //@SpringBootTest\n-public class AzurecosmodbApplicationIntegrationTest {\n+public class AzurecosmodbApplicationManualTest {\n \n     @Autowired\n     ProductRepository productRepository;\n \n     // Uncomment this when configured URI and keys for Azure Cosmos DB in application.properties\n     // to run the integration test\n-    // @Test\n+    //@Test", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32fcda4924b04710c5132bc60cfddbdc64e9d370"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjU5OTc1Mg==", "bodyText": "you can remove this. in the end the user should just do:\n.../products?category=bla and not products/category?category=bla", "url": "https://github.com/eugenp/tutorials/pull/9771#discussion_r462599752", "createdAt": "2020-07-29T21:27:41Z", "author": {"login": "rpvilao"}, "path": "persistence-modules/spring-data-cosmosdb/src/main/java/com/baeldung/spring/data/cosmosdb/controller/ProductController.java", "diffHunk": "@@ -46,8 +50,8 @@ public void delete(@PathVariable String id, @PathVariable String category) {\n         return productService.findProductByName(name);\n     }\n \n-    @GetMapping(value = \"/category/{category}\")\n-    public List<Product> getByCategory(@PathVariable String category) {\n+    @GetMapping(value = \"/category\")", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "32fcda4924b04710c5132bc60cfddbdc64e9d370"}, "originalPosition": 21}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b5fbf6177578a9c67fa29bd939e89f40de1dec33", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/b5fbf6177578a9c67fa29bd939e89f40de1dec33", "committedDate": "2020-07-29T21:35:16Z", "message": "retrieving the object from optional object"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU3OTE3MTI1", "url": "https://github.com/eugenp/tutorials/pull/9771#pullrequestreview-457917125", "createdAt": "2020-07-29T21:38:51Z", "commit": {"oid": "b5fbf6177578a9c67fa29bd939e89f40de1dec33"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMTozODo1MVrOG5LLSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yOVQyMTozODo1MVrOG5LLSw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MjYwNTEzMQ==", "bodyText": "no.. this will produce a null pointer if it's null and the test is not doing the same thing. just do:\nOptional retrievedProduct = productRepository.findById(\"1001\", new PartitionKey(\"Shirt\")).orElse(null); and then assert the variable", "url": "https://github.com/eugenp/tutorials/pull/9771#discussion_r462605131", "createdAt": "2020-07-29T21:38:51Z", "author": {"login": "rpvilao"}, "path": "persistence-modules/spring-data-cosmosdb/src/test/java/com/baeldung/spring/data/cosmosdb/AzurecosmodbApplicationManualTest.java", "diffHunk": "@@ -0,0 +1,34 @@\n+package com.baeldung.spring.data.cosmosdb;\n+\n+import com.azure.data.cosmos.PartitionKey;\n+import com.baeldung.spring.data.cosmosdb.entity.Product;\n+import com.baeldung.spring.data.cosmosdb.repository.ProductRepository;\n+\n+import org.junit.jupiter.api.Test;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.boot.test.context.SpringBootTest;\n+import org.springframework.util.Assert;\n+\n+import java.util.Optional;\n+\n+@SpringBootTest\n+public class AzurecosmodbApplicationManualTest {\n+\n+    @Autowired\n+    ProductRepository productRepository;\n+\n+    @Test\n+    public void givenProductIsCreated_whenCallFindById_thenProductIsFound() {\n+        Product product = new Product();\n+        product.setProductid(\"1001\");\n+        product.setProductCategory(\"Shirt\");\n+        product.setPrice(110.0);\n+        product.setProductName(\"Blue Shirt\");\n+\n+        productRepository.save(product);\n+        Optional<Product> retrievedProduct = productRepository.findById(\"1001\", new PartitionKey(\"Shirt\"));\n+        Assert.notNull(retrievedProduct.get(), \"Retrieved Product is Null\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b5fbf6177578a9c67fa29bd939e89f40de1dec33"}, "originalPosition": 30}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e624854b5ac9688c903dcca3872a1f9ea235e5cf", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/e624854b5ac9688c903dcca3872a1f9ea235e5cf", "committedDate": "2020-08-01T17:11:28Z", "message": "Implementing Code Review comments -3"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU5NTk2MDIz", "url": "https://github.com/eugenp/tutorials/pull/9771#pullrequestreview-459596023", "createdAt": "2020-08-01T18:40:13Z", "commit": {"oid": "e624854b5ac9688c903dcca3872a1f9ea235e5cf"}, "state": "COMMENTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMVQxODo0MDoxNFrOG6fm5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0wMVQxODo0MDozMFrOG6fnAQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzk4ODQ1Mg==", "bodyText": "AzureCosmosDb...", "url": "https://github.com/eugenp/tutorials/pull/9771#discussion_r463988452", "createdAt": "2020-08-01T18:40:14Z", "author": {"login": "rpvilao"}, "path": "persistence-modules/spring-data-cosmosdb/src/test/java/com/baeldung/spring/data/cosmosdb/AzurecosmodbApplicationManualTest.java", "diffHunk": "@@ -0,0 +1,33 @@\n+package com.baeldung.spring.data.cosmosdb;\n+\n+import com.azure.data.cosmos.PartitionKey;\n+import com.baeldung.spring.data.cosmosdb.entity.Product;\n+import com.baeldung.spring.data.cosmosdb.repository.ProductRepository;\n+\n+import org.junit.jupiter.api.Test;\n+import org.springframework.beans.factory.annotation.Autowired;\n+import org.springframework.boot.test.context.SpringBootTest;\n+import org.springframework.util.Assert;\n+\n+@SpringBootTest\n+public class AzurecosmodbApplicationManualTest {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e624854b5ac9688c903dcca3872a1f9ea235e5cf"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2Mzk4ODQ4MQ==", "bodyText": "AzureCosmosDb", "url": "https://github.com/eugenp/tutorials/pull/9771#discussion_r463988481", "createdAt": "2020-08-01T18:40:30Z", "author": {"login": "rpvilao"}, "path": "persistence-modules/spring-data-cosmosdb/src/main/java/com/baeldung/spring/data/cosmosdb/AzurecosmodbApplication.java", "diffHunk": "@@ -0,0 +1,44 @@\n+package com.baeldung.spring.data.cosmosdb;\n+\n+import com.azure.data.cosmos.CosmosKeyCredential;\n+import com.baeldung.spring.data.cosmosdb.repository.ProductRepository;\n+import com.microsoft.azure.spring.data.cosmosdb.config.AbstractCosmosConfiguration;\n+import com.microsoft.azure.spring.data.cosmosdb.config.CosmosDBConfig;\n+import com.microsoft.azure.spring.data.cosmosdb.repository.config.EnableCosmosRepositories;\n+\n+import org.springframework.beans.factory.annotation.Value;\n+import org.springframework.boot.SpringApplication;\n+import org.springframework.boot.autoconfigure.SpringBootApplication;\n+import org.springframework.context.annotation.Bean;\n+\n+@SpringBootApplication\n+@EnableCosmosRepositories(basePackageClasses = ProductRepository.class)\n+public class AzurecosmodbApplication extends AbstractCosmosConfiguration {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e624854b5ac9688c903dcca3872a1f9ea235e5cf"}, "originalPosition": 16}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "433e9f659bef6c3800004429e80d65c7f0c9996a", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/433e9f659bef6c3800004429e80d65c7f0c9996a", "committedDate": "2020-08-02T19:30:01Z", "message": "Fixing Capitalization Issue in class names"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e672d605dae7e1062186aeba3fdd4d1b0dfb69d5", "author": {"user": null}, "url": "https://github.com/eugenp/tutorials/commit/e672d605dae7e1062186aeba3fdd4d1b0dfb69d5", "committedDate": "2020-08-14T21:51:29Z", "message": "keeping Configuration in Separate class"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b0cd173d6e6df71edfbd626c26b5d0a25fdbf817", "author": {"user": {"login": "ankurguptajec", "name": "Ankur Gupta"}}, "url": "https://github.com/eugenp/tutorials/commit/b0cd173d6e6df71edfbd626c26b5d0a25fdbf817", "committedDate": "2020-08-16T08:05:04Z", "message": "Update pom.xml\n\nAdding spring-data-cosmosdb module in the persistence module"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c6ec42f47f24b99c51cfa07da1c3ad243cda5794", "author": {"user": {"login": "ankurguptajec", "name": "Ankur Gupta"}}, "url": "https://github.com/eugenp/tutorials/commit/c6ec42f47f24b99c51cfa07da1c3ad243cda5794", "committedDate": "2020-08-16T08:06:23Z", "message": "Update pom.xml\n\nremoving extra spaces"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4349, "cost": 1, "resetAt": "2021-11-01T14:20:25Z"}}}