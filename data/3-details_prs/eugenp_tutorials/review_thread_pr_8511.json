{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzYxODEyNDYy", "number": 8511, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQwNToxMDoyMlrODZYJJA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwMTozNjo0N1rODmJAog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI3OTM2NTQ4OnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQwNToxMDoyMlrOFfumyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQwNToxMDoyMlrOFfumyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODgxMzc2OA==", "bodyText": "tabs/spaces", "url": "https://github.com/eugenp/tutorials/pull/8511#discussion_r368813768", "createdAt": "2020-01-21T05:10:22Z", "author": {"login": "eric-martin"}, "path": "pom.xml", "diffHunk": "@@ -636,6 +636,7 @@\n                 <module>webrtc</module>\n                 <module>wildfly</module>\n                 <module>quarkus-extension</module>\n+\t\t\t\t<module>security-jaas</module>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "849d4ea36c8e586a0ed6e4847ef0399d9d890733"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI3OTM2Njk1OnYy", "diffSide": "RIGHT", "path": "security-jaas/jaas-login-module/src/main/java/com/baeldung/security/jaas/authentication/InMemoryLoginModule.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQwNToxMTo0NFrOFfunvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQwNToxMTo0NFrOFfunvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODgxNDAxMg==", "bodyText": "Follow our standard multi-line continuation rules here", "url": "https://github.com/eugenp/tutorials/pull/8511#discussion_r368814012", "createdAt": "2020-01-21T05:11:44Z", "author": {"login": "eric-martin"}, "path": "security-jaas/jaas-login-module/src/main/java/com/baeldung/security/jaas/authentication/InMemoryLoginModule.java", "diffHunk": "@@ -0,0 +1,76 @@\n+package com.baeldung.security.jaas.authentication;\n+\n+import com.sun.security.auth.UserPrincipal;\n+\n+import javax.security.auth.Subject;\n+import javax.security.auth.callback.*;\n+import javax.security.auth.login.LoginException;\n+import javax.security.auth.spi.LoginModule;\n+import java.io.IOException;\n+import java.security.Principal;\n+import java.util.Map;\n+\n+public class InMemoryLoginModule implements LoginModule {\n+\n+    private static final String USERNAME = \"testuser\";\n+    private static final String PASSWORD = \"testpassword\";\n+\n+    private Subject subject;\n+    private CallbackHandler callbackHandler;\n+    private Map<String, ?> sharedState;\n+    private Map<String, ?> options;\n+\n+    private String username;\n+    private boolean loginSucceeded = false;\n+    private Principal userPrincipal;\n+\n+    @Override\n+    public void initialize(Subject subject,\n+                           CallbackHandler callbackHandler,\n+                           Map<String, ?> sharedState,\n+                           Map<String, ?> options) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "849d4ea36c8e586a0ed6e4847ef0399d9d890733"}, "originalPosition": 31}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI3OTM2NzYwOnYy", "diffSide": "RIGHT", "path": "security-jaas/jaas.policy", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQwNToxMjoyMFrOFfuoLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQwNToxMjoyMFrOFfuoLw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODgxNDEyNw==", "bodyText": "4 space indent", "url": "https://github.com/eugenp/tutorials/pull/8511#discussion_r368814127", "createdAt": "2020-01-21T05:12:20Z", "author": {"login": "eric-martin"}, "path": "security-jaas/jaas.policy", "diffHunk": "@@ -0,0 +1,14 @@\n+grant codebase \"file:./jaas-app/target/jaas-app.jar\" {\n+   permission javax.security.auth.AuthPermission \"createLoginContext.jaasApplication\";\n+   permission javax.security.auth.AuthPermission \"doAsPrivileged\";\n+   permission java.lang.RuntimePermission \"readFileDescriptor\";\n+   permission java.lang.RuntimePermission \"writeFileDescriptor\";\n+};\n+\n+grant codebase \"file:./jaas-login-module/target/jaas-login-module.jar\" {\n+    permission javax.security.auth.AuthPermission \"modifyPrincipals\";\n+};\n+\n+grant principal com.sun.security.auth.UserPrincipal \"testuser\" {\n+      permission com.baeldung.security.jaas.app.ResourcePermission \"test_resource\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "849d4ea36c8e586a0ed6e4847ef0399d9d890733"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI3OTM3MzU2OnYy", "diffSide": "RIGHT", "path": "security-jaas/jaas-login-module/src/main/java/com/baeldung/security/jaas/authentication/InMemoryLoginModule.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMVQwNToxODoxNFrOFfur8g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yOFQyMDo0NjoyOVrOFiz56Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODgxNTA5MA==", "bodyText": "Is it safe to save state in the module with private variables? Does each login get a new instance of the Module?", "url": "https://github.com/eugenp/tutorials/pull/8511#discussion_r368815090", "createdAt": "2020-01-21T05:18:14Z", "author": {"login": "eric-martin"}, "path": "security-jaas/jaas-login-module/src/main/java/com/baeldung/security/jaas/authentication/InMemoryLoginModule.java", "diffHunk": "@@ -0,0 +1,76 @@\n+package com.baeldung.security.jaas.authentication;\n+\n+import com.sun.security.auth.UserPrincipal;\n+\n+import javax.security.auth.Subject;\n+import javax.security.auth.callback.*;\n+import javax.security.auth.login.LoginException;\n+import javax.security.auth.spi.LoginModule;\n+import java.io.IOException;\n+import java.security.Principal;\n+import java.util.Map;\n+\n+public class InMemoryLoginModule implements LoginModule {\n+\n+    private static final String USERNAME = \"testuser\";\n+    private static final String PASSWORD = \"testpassword\";\n+\n+    private Subject subject;\n+    private CallbackHandler callbackHandler;\n+    private Map<String, ?> sharedState;\n+    private Map<String, ?> options;\n+\n+    private String username;\n+    private boolean loginSucceeded = false;\n+    private Principal userPrincipal;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "849d4ea36c8e586a0ed6e4847ef0399d9d890733"}, "originalPosition": 25}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MjA0NjMxMw==", "bodyText": "Yes each LoginContext#Login() ==> Call of all LoginModule#login() in a first pass and call of LoginModule#commit() in a second pass.\nHere is the LoginContext#login() method:\npublic void login() throws LoginException {\n    loginSucceeded = false;\n\n    if (subject == null) {\n        subject = new Subject();\n    }\n\n    try {\n        // module invoked in doPrivileged\n        invokePriv(LOGIN_METHOD);\n        invokePriv(COMMIT_METHOD);\n        loginSucceeded = true;\n    } catch (LoginException le) {", "url": "https://github.com/eugenp/tutorials/pull/8511#discussion_r372046313", "createdAt": "2020-01-28T20:46:29Z", "author": {"login": "eelhazati"}, "path": "security-jaas/jaas-login-module/src/main/java/com/baeldung/security/jaas/authentication/InMemoryLoginModule.java", "diffHunk": "@@ -0,0 +1,76 @@\n+package com.baeldung.security.jaas.authentication;\n+\n+import com.sun.security.auth.UserPrincipal;\n+\n+import javax.security.auth.Subject;\n+import javax.security.auth.callback.*;\n+import javax.security.auth.login.LoginException;\n+import javax.security.auth.spi.LoginModule;\n+import java.io.IOException;\n+import java.security.Principal;\n+import java.util.Map;\n+\n+public class InMemoryLoginModule implements LoginModule {\n+\n+    private static final String USERNAME = \"testuser\";\n+    private static final String PASSWORD = \"testpassword\";\n+\n+    private Subject subject;\n+    private CallbackHandler callbackHandler;\n+    private Map<String, ?> sharedState;\n+    private Map<String, ?> options;\n+\n+    private String username;\n+    private boolean loginSucceeded = false;\n+    private Principal userPrincipal;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2ODgxNTA5MA=="}, "originalCommit": {"oid": "849d4ea36c8e586a0ed6e4847ef0399d9d890733"}, "originalPosition": 25}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjM3MTQ4OTczOnYy", "diffSide": "RIGHT", "path": "security-jaas/jaas-app/src/main/java/com/baeldung/security/jaas/app/JaasAuthentication.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QxNjowODozNFrOFtRgeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0yM1QxNjowODozNFrOFtRgeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MzAxNzA4MA==", "bodyText": "This file contains bidirectional Unicode text that may be interpreted or compiled differently than what appears below. To review, open the file in an editor that reveals hidden Unicode characters. Learn more about bidirectional Unicode characters\n\n\n  \n\n\n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                    System.out.println(subject.getPrincipals().iterator().next() + \" sucessfully logeed in\");\n          \n          \n            \n                    System.out.println(subject.getPrincipals().iterator().next() + \" sucessfully logged in\");", "url": "https://github.com/eugenp/tutorials/pull/8511#discussion_r383017080", "createdAt": "2020-02-23T16:08:34Z", "author": {"login": "KevinGilmore"}, "path": "security-jaas/jaas-app/src/main/java/com/baeldung/security/jaas/app/JaasAuthentication.java", "diffHunk": "@@ -0,0 +1,13 @@\n+package com.baeldung.security.jaas.app;\n+\n+import javax.security.auth.Subject;\n+import javax.security.auth.login.LoginException;\n+\n+public class JaasAuthentication {\n+\n+    public static void main(String[] args) throws LoginException {\n+        LoginService loginService = new LoginService();\n+        Subject subject = loginService.login();\n+        System.out.println(subject.getPrincipals().iterator().next() + \" sucessfully logeed in\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d6ac0c4aa1cebcf99bb45baef73737f91f62b2f3"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxMzIwMDc5OnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwMTozNjozN1rOFzY-Rg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwMTozNjozN1rOFzY-Rg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQzMDg1NA==", "bodyText": "Tabs/spaces", "url": "https://github.com/eugenp/tutorials/pull/8511#discussion_r389430854", "createdAt": "2020-03-09T01:36:37Z", "author": {"login": "eric-martin"}, "path": "pom.xml", "diffHunk": "@@ -431,6 +431,7 @@\n                 <module>core-java-modules/core-java-nio</module>\n                 <module>core-java-modules/core-java-nio-2</module>\n                 <module>core-java-modules/core-java-security</module>\n+\t\t\t\t<module>core-java-modules/core-java-security-2</module>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3bbf8e30310ded38e20146fb011e408a6f19801d"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQxMzIwMDk4OnYy", "diffSide": "RIGHT", "path": "pom.xml", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwMTozNjo0N1rOFzY-Yg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wOVQwMTozNjo0N1rOFzY-Yg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4OTQzMDg4Mg==", "bodyText": "Tabs/spaces", "url": "https://github.com/eugenp/tutorials/pull/8511#discussion_r389430882", "createdAt": "2020-03-09T01:36:47Z", "author": {"login": "eric-martin"}, "path": "pom.xml", "diffHunk": "@@ -1072,6 +1073,7 @@\n                 <module>core-java-modules/core-java-nio</module>\n                 <module>core-java-modules/core-java-nio-2</module>\n                 <module>core-java-modules/core-java-security</module>\n+\t\t\t\t<module>core-java-modules/core-java-security-2</module>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3bbf8e30310ded38e20146fb011e408a6f19801d"}, "originalPosition": 12}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4402, "cost": 1, "resetAt": "2021-11-12T18:49:56Z"}}}