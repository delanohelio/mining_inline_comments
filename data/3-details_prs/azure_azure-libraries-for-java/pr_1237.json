{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ5NDU4ODc3", "number": 1237, "title": "Resources: upgrade to package-2020-06", "bodyText": "Support tag operations\nSupport outResources in deployment", "createdAt": "2020-07-15T12:47:55Z", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1237", "merged": true, "mergeCommit": {"oid": "cd135cc0c02c76aefdc156d2658847e206f40d7a"}, "closed": true, "closedAt": "2020-07-21T02:55:10Z", "author": {"login": "xseeseesee"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc1GCH0gH2gAyNDQ5NDU4ODc3OmYwNmZkNmUxNzg2NzYyZTBlOWRmY2YzM2I5Y2M5ZGVhYjBkM2MwMDQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc2qhF2gH2gAyNDQ5NDU4ODc3OjllOTJiMTI2NzI5ZWM2ODBiMGZjMGI0NzZkZTFhMjNhYjI4ZmY0Y2Y=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "f06fd6e1786762e0e9dfcf33b9cc9deab0d3c004", "author": {"user": {"login": "xseeseesee", "name": null}}, "url": "https://github.com/Azure/azure-libraries-for-java/commit/f06fd6e1786762e0e9dfcf33b9cc9deab0d3c004", "committedDate": "2020-07-15T08:05:49Z", "message": "upgrade resources"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fa28d5814a7275791c026b745c10fe751a9d9e49", "author": {"user": {"login": "xseeseesee", "name": null}}, "url": "https://github.com/Azure/azure-libraries-for-java/commit/fa28d5814a7275791c026b745c10fe751a9d9e49", "committedDate": "2020-07-15T08:32:13Z", "message": "generate package-2020-06"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4708f4a57d0f22ce7eaca45038855182452c1d2a", "author": {"user": {"login": "xseeseesee", "name": null}}, "url": "https://github.com/Azure/azure-libraries-for-java/commit/4708f4a57d0f22ce7eaca45038855182452c1d2a", "committedDate": "2020-07-15T12:46:15Z", "message": "fix compile errors and add outResources"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ4OTE5OTEw", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1237#pullrequestreview-448919910", "createdAt": "2020-07-15T12:50:46Z", "commit": {"oid": "4708f4a57d0f22ce7eaca45038855182452c1d2a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxMjo1MDo0NlrOGx8lrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxMjo1MDo0NlrOGx8lrQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAyNjA5Mw==", "bodyText": "This is not valid change as template got removed from return type. Need to check with @weidongxu-microsoft  if we can have alternative inner classes.", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1237#discussion_r455026093", "createdAt": "2020-07-15T12:50:46Z", "author": {"login": "xseeseesee"}, "path": "azure-mgmt-resources/src/test/java/com/microsoft/azure/management/resources/implementation/TypeSerializationTests.java", "diffHunk": "@@ -29,7 +29,7 @@ private static DeploymentInner createRequestFromInner(DeploymentImpl deployment)\n         DeploymentInner inner = new DeploymentInner()\n                 .withProperties(new DeploymentProperties());\n         inner.properties().withMode(deployment.mode());\n-        inner.properties().withTemplate(deployment.template());\n+        inner.properties().withTemplate(\"{\\\"$schema\\\":\\\"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\\\",\\\"contentVersion\\\":\\\"1.0.0.0\\\",\\\"parameters\\\":{\\\"vnetName\\\":{\\\"type\\\":\\\"string\\\",\\\"defaultValue\\\":\\\"VNet2\\\",\\\"metadata\\\":{\\\"description\\\":\\\"VNet name\\\"}},\\\"vnetAddressPrefix\\\":{\\\"type\\\":\\\"string\\\",\\\"defaultValue\\\":\\\"10.0.0.0/16\\\",\\\"metadata\\\":{\\\"description\\\":\\\"Address prefix\\\"}},\\\"subnet1Prefix\\\":{\\\"type\\\":\\\"string\\\",\\\"defaultValue\\\":\\\"10.0.0.0/24\\\",\\\"metadata\\\":{\\\"description\\\":\\\"Subnet 1 Prefix\\\"}},\\\"subnet1Name\\\":{\\\"type\\\":\\\"string\\\",\\\"defaultValue\\\":\\\"Subnet1\\\",\\\"metadata\\\":{\\\"description\\\":\\\"Subnet 1 Name\\\"}},\\\"subnet2Prefix\\\":{\\\"type\\\":\\\"string\\\",\\\"defaultValue\\\":\\\"10.0.1.0/24\\\",\\\"metadata\\\":{\\\"description\\\":\\\"Subnet 2 Prefix\\\"}},\\\"subnet2Name\\\":{\\\"type\\\":\\\"string\\\",\\\"defaultValue\\\":\\\"Subnet222\\\",\\\"metadata\\\":{\\\"description\\\":\\\"Subnet 2 Name\\\"}}},\\\"variables\\\":{\\\"apiVersion\\\":\\\"2015-06-15\\\"},\\\"resources\\\":[{\\\"apiVersion\\\":\\\"[variables('apiVersion')]\\\",\\\"type\\\":\\\"Microsoft.Network/virtualNetworks\\\",\\\"name\\\":\\\"[parameters('vnetName')]\\\",\\\"location\\\":\\\"[resourceGroup().location]\\\",\\\"properties\\\":{\\\"addressSpace\\\":{\\\"addressPrefixes\\\":[\\\"[parameters('vnetAddressPrefix')]\\\"]},\\\"subnets\\\":[{\\\"name\\\":\\\"[parameters('subnet1Name')]\\\",\\\"properties\\\":{\\\"addressPrefix\\\":\\\"[parameters('subnet1Prefix')]\\\"}},{\\\"name\\\":\\\"[parameters('subnet2Name')]\\\",\\\"properties\\\":{\\\"addressPrefix\\\":\\\"[parameters('subnet2Prefix')]\\\"}}]}}]}\");", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4708f4a57d0f22ce7eaca45038855182452c1d2a"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5NDE5OTkz", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1237#pullrequestreview-449419993", "createdAt": "2020-07-15T23:57:50Z", "commit": {"oid": "4708f4a57d0f22ce7eaca45038855182452c1d2a"}, "state": "COMMENTED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQyMzo1Nzo1MVrOGyVVLw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwMDowMjoyN1rOGyVarw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQzMTQ3MQ==", "bodyText": "This test is only for request POJO.\nIf you have problem with it, you can comment out the test. I will try fix it after your PR.", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1237#discussion_r455431471", "createdAt": "2020-07-15T23:57:51Z", "author": {"login": "weidongxu-microsoft"}, "path": "azure-mgmt-resources/src/test/java/com/microsoft/azure/management/resources/implementation/TypeSerializationTests.java", "diffHunk": "@@ -29,7 +29,7 @@ private static DeploymentInner createRequestFromInner(DeploymentImpl deployment)\n         DeploymentInner inner = new DeploymentInner()\n                 .withProperties(new DeploymentProperties());\n         inner.properties().withMode(deployment.mode());\n-        inner.properties().withTemplate(deployment.template());\n+        inner.properties().withTemplate(\"{\\\"$schema\\\":\\\"https://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#\\\",\\\"contentVersion\\\":\\\"1.0.0.0\\\",\\\"parameters\\\":{\\\"vnetName\\\":{\\\"type\\\":\\\"string\\\",\\\"defaultValue\\\":\\\"VNet2\\\",\\\"metadata\\\":{\\\"description\\\":\\\"VNet name\\\"}},\\\"vnetAddressPrefix\\\":{\\\"type\\\":\\\"string\\\",\\\"defaultValue\\\":\\\"10.0.0.0/16\\\",\\\"metadata\\\":{\\\"description\\\":\\\"Address prefix\\\"}},\\\"subnet1Prefix\\\":{\\\"type\\\":\\\"string\\\",\\\"defaultValue\\\":\\\"10.0.0.0/24\\\",\\\"metadata\\\":{\\\"description\\\":\\\"Subnet 1 Prefix\\\"}},\\\"subnet1Name\\\":{\\\"type\\\":\\\"string\\\",\\\"defaultValue\\\":\\\"Subnet1\\\",\\\"metadata\\\":{\\\"description\\\":\\\"Subnet 1 Name\\\"}},\\\"subnet2Prefix\\\":{\\\"type\\\":\\\"string\\\",\\\"defaultValue\\\":\\\"10.0.1.0/24\\\",\\\"metadata\\\":{\\\"description\\\":\\\"Subnet 2 Prefix\\\"}},\\\"subnet2Name\\\":{\\\"type\\\":\\\"string\\\",\\\"defaultValue\\\":\\\"Subnet222\\\",\\\"metadata\\\":{\\\"description\\\":\\\"Subnet 2 Name\\\"}}},\\\"variables\\\":{\\\"apiVersion\\\":\\\"2015-06-15\\\"},\\\"resources\\\":[{\\\"apiVersion\\\":\\\"[variables('apiVersion')]\\\",\\\"type\\\":\\\"Microsoft.Network/virtualNetworks\\\",\\\"name\\\":\\\"[parameters('vnetName')]\\\",\\\"location\\\":\\\"[resourceGroup().location]\\\",\\\"properties\\\":{\\\"addressSpace\\\":{\\\"addressPrefixes\\\":[\\\"[parameters('vnetAddressPrefix')]\\\"]},\\\"subnets\\\":[{\\\"name\\\":\\\"[parameters('subnet1Name')]\\\",\\\"properties\\\":{\\\"addressPrefix\\\":\\\"[parameters('subnet1Prefix')]\\\"}},{\\\"name\\\":\\\"[parameters('subnet2Name')]\\\",\\\"properties\\\":{\\\"addressPrefix\\\":\\\"[parameters('subnet2Prefix')]\\\"}}]}}]}\");", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAyNjA5Mw=="}, "originalCommit": {"oid": "4708f4a57d0f22ce7eaca45038855182452c1d2a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQzMjI4Mg==", "bodyText": "If deleting this method does not affect compilation, you can delete it.", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1237#discussion_r455432282", "createdAt": "2020-07-16T00:00:30Z", "author": {"login": "weidongxu-microsoft"}, "path": "azure-mgmt-resources/src/main/java/com/microsoft/azure/management/resources/implementation/DeploymentImpl.java", "diffHunk": "@@ -355,16 +354,6 @@ public DeploymentImpl beginCreate() {\n \n     @Override\n     public Observable<Deployment> updateResourceAsync() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4708f4a57d0f22ce7eaca45038855182452c1d2a"}, "originalPosition": 186}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQzMjg3OQ==", "bodyText": "Maybe better name it as deploymentCreateUpdateParameters. And you need to reset it after create/update (so next update will start clean).\nFor update, you might check if some fields need to be copied from inner() to this object (region etc.).", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1237#discussion_r455432879", "createdAt": "2020-07-16T00:02:27Z", "author": {"login": "weidongxu-microsoft"}, "path": "azure-mgmt-resources/src/main/java/com/microsoft/azure/management/resources/implementation/DeploymentImpl.java", "diffHunk": "@@ -58,13 +58,15 @@\n     private Creatable<ResourceGroup> creatableResourceGroup;\n     private ObjectMapper objectMapper;\n     private DeploymentWhatIf deploymentWhatIf;\n+    private DeploymentInner deploymentInner;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4708f4a57d0f22ce7eaca45038855182452c1d2a"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5NDY4Mzkz", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1237#pullrequestreview-449468393", "createdAt": "2020-07-16T02:39:49Z", "commit": {"oid": "4708f4a57d0f22ce7eaca45038855182452c1d2a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwMjozOTo0OVrOGyYAnw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNlQwMjozOTo0OVrOGyYAnw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTQ3NTM1OQ==", "bodyText": "No. This losses information.\nIf service do this intentionally, the right approach is to had GenericResource wraps GenericResourceExpandedInner (when by get, there additional properties be null).", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1237#discussion_r455475359", "createdAt": "2020-07-16T02:39:49Z", "author": {"login": "weidongxu-microsoft"}, "path": "azure-mgmt-resources/src/main/java/com/microsoft/azure/management/resources/implementation/GenericResourcesImpl.java", "diffHunk": "@@ -35,29 +37,37 @@\n         ResourceManager>\n     implements GenericResources {\n \n-    GenericResourcesImpl(ResourceManager resourceManager) {\n+    private PagedListConverter<GenericResourceExpandedInner, GenericResource> converter;\n+\n+    GenericResourcesImpl(final ResourceManager resourceManager) {\n         super(resourceManager.inner().resources(), resourceManager);\n+        converter = new PagedListConverter<GenericResourceExpandedInner, GenericResource>() {\n+            @Override\n+            public Observable<GenericResource> typeConvertAsync(GenericResourceExpandedInner inner) {\n+                return Observable.just((GenericResource) new GenericResourceImpl(inner.name(), inner, manager()));\n+            }", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4708f4a57d0f22ce7eaca45038855182452c1d2a"}, "originalPosition": 29}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8e705c7605bae18f60e6f1855da2b8b741b63855", "author": {"user": {"login": "xseeseesee", "name": null}}, "url": "https://github.com/Azure/azure-libraries-for-java/commit/8e705c7605bae18f60e6f1855da2b8b741b63855", "committedDate": "2020-07-16T06:11:46Z", "message": "update by review comments"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDQ5NTMzNzc2", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1237#pullrequestreview-449533776", "createdAt": "2020-07-16T06:15:31Z", "commit": {"oid": "8e705c7605bae18f60e6f1855da2b8b741b63855"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02177f6b64ba19d7888318f90d15ed983c3e11b5", "author": {"user": {"login": "xseeseesee", "name": null}}, "url": "https://github.com/Azure/azure-libraries-for-java/commit/02177f6b64ba19d7888318f90d15ed983c3e11b5", "committedDate": "2020-07-20T03:07:00Z", "message": "update session records"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "9e92b126729ec680b0fc0b476de1a23ab28ff4cf", "author": {"user": {"login": "xseeseesee", "name": null}}, "url": "https://github.com/Azure/azure-libraries-for-java/commit/9e92b126729ec680b0fc0b476de1a23ab28ff4cf", "committedDate": "2020-07-20T05:10:09Z", "message": "update for tag operation enum"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1457, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}