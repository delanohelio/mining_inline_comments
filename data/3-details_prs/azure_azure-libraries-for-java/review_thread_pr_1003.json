{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzcwNzI0NzQ2", "number": 1003, "reviewThreads": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwOTozNjo0MlrODc6U-g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwOTo0NDozMlrODc6e9g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjQyMzYyOnYy", "diffSide": "RIGHT", "path": "azure-mgmt-graph-rbac/src/main/java/com/azure/management/graphrbac/implementation/ActiveDirectoryGroupImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwOTozNjo0MlrOFlNd2g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwOTozNjo0MlrOFlNd2g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU2MjI2Ng==", "bodyText": "Better to use directoryObjectInner instanceof UserInner?", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1003#discussion_r374562266", "createdAt": "2020-02-04T09:36:42Z", "author": {"login": "weidongxu-microsoft"}, "path": "azure-mgmt-graph-rbac/src/main/java/com/azure/management/graphrbac/implementation/ActiveDirectoryGroupImpl.java", "diffHunk": "@@ -74,22 +72,17 @@ public String mail() {\n     public PagedFlux<ActiveDirectoryObject> listMembersAsync() {\n         return getManager().getInner().groups().getGroupMembersAsync(getId())\n                 .mapPage(directoryObjectInner -> {\n-                    SerializerAdapter adapter = getManager().getInner().getSerializerAdapter();\n-                    try {\n-                        String serialized = adapter.serialize(directoryObjectInner, SerializerEncoding.JSON);\n-                        if (serialized.contains(\"User\")) {\n-                            return new ActiveDirectoryUserImpl(adapter.deserialize(serialized, UserInner.class, SerializerEncoding.JSON), getManager());\n-                        } else if (serialized.contains(\"Group\")) {\n-                            return new ActiveDirectoryGroupImpl(adapter.deserialize(serialized, ADGroupInner.class, SerializerEncoding.JSON), getManager());\n-                        } else if (serialized.contains(\"ServicePrincipal\")) {\n-                            return new ServicePrincipalImpl(adapter.deserialize(serialized, ServicePrincipalInner.class, SerializerEncoding.JSON), getManager());\n-                        } else if (serialized.contains(\"Application\")) {\n-                            return new ActiveDirectoryApplicationImpl(adapter.deserialize(serialized, ApplicationInner.class, SerializerEncoding.JSON), getManager());\n-                        } else {\n-                            return null;\n-                        }\n-                    } catch (IOException e) {\n-                        throw new RuntimeException(e);\n+                    String objectType = directoryObjectInner.getClass().getName();\n+                    if (UserInner.class.getName().equals(objectType)) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a06c1aef1ee60d2b46b554ae85c22f3225caac0"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjQzMjAzOnYy", "diffSide": "RIGHT", "path": "azure-mgmt-graph-rbac/src/main/java/com/azure/management/graphrbac/implementation/ActiveDirectoryUsersImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwOTozOToyM1rOFlNi3w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwOTozOToyM1rOFlNi3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU2MzU1MQ==", "bodyText": "I think this line will have Error when not found. So it need to be followed by onErrorResume?", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1003#discussion_r374563551", "createdAt": "2020-02-04T09:39:23Z", "author": {"login": "weidongxu-microsoft"}, "path": "azure-mgmt-graph-rbac/src/main/java/com/azure/management/graphrbac/implementation/ActiveDirectoryUsersImpl.java", "diffHunk": "@@ -69,22 +70,18 @@ public ActiveDirectoryUserImpl getByName(String upn) {\n     @Override\n     public Mono<ActiveDirectoryUser> getByNameAsync(final String name) {\n         return getManager().getInner().users().getAsync(name)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a06c1aef1ee60d2b46b554ae85c22f3225caac0"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjQzMjg1OnYy", "diffSide": "RIGHT", "path": "azure-mgmt-graph-rbac/src/main/java/com/azure/management/graphrbac/implementation/ActiveDirectoryUsersImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwOTozOTo0MFrOFlNjag==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwOTozOTo0MFrOFlNjag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU2MzY5MA==", "bodyText": "This line is meanless?", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1003#discussion_r374563690", "createdAt": "2020-02-04T09:39:40Z", "author": {"login": "weidongxu-microsoft"}, "path": "azure-mgmt-graph-rbac/src/main/java/com/azure/management/graphrbac/implementation/ActiveDirectoryUsersImpl.java", "diffHunk": "@@ -69,22 +70,18 @@ public ActiveDirectoryUserImpl getByName(String upn) {\n     @Override\n     public Mono<ActiveDirectoryUser> getByNameAsync(final String name) {\n         return getManager().getInner().users().getAsync(name)\n-                .flatMap((Function<UserInner, Mono<UserInner>>) userInner -> {\n-                    // Exact match\n-                    if (userInner != null) {\n-                        return Mono.just(userInner);\n-                    }\n-                    // Search mail & mail nickname\n+                .flatMap((Function<UserInner, Mono<UserInner>>) userInner -> Mono.just(userInner))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a06c1aef1ee60d2b46b554ae85c22f3225caac0"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjMxNjQ0OTE4OnYy", "diffSide": "RIGHT", "path": "azure-mgmt-graph-rbac/src/main/java/com/azure/management/graphrbac/implementation/ServicePrincipalsImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwOTo0NDozMlrOFlNtSA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wNFQwOTo0NDozMlrOFlNtSA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDU2NjIxNg==", "bodyText": "Again, I think reactor does not allow null at all. You need to use map and switchIfEmpty.", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1003#discussion_r374566216", "createdAt": "2020-02-04T09:44:32Z", "author": {"login": "weidongxu-microsoft"}, "path": "azure-mgmt-graph-rbac/src/main/java/com/azure/management/graphrbac/implementation/ServicePrincipalsImpl.java", "diffHunk": "@@ -98,10 +98,14 @@ public ServicePrincipal getByName(String spn) {\n                     ));\n                 })\n                 .map(result -> {\n-                    if (result == null || result.toIterable() == null || !result.toIterable().iterator().hasNext()) {\n+                    if (result == null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6a06c1aef1ee60d2b46b554ae85c22f3225caac0"}, "originalPosition": 5}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2584, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}