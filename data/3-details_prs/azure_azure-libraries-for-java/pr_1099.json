{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg3NjEwMDg2", "number": 1099, "title": "KeyVault: filter out disabled secret while listing secret versions", "bodyText": "fix #1069", "createdAt": "2020-03-13T06:14:15Z", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1099", "merged": true, "mergeCommit": {"oid": "93492abf76c03b8fefe730ef81a774a8518b6d47"}, "closed": true, "closedAt": "2020-03-19T05:17:46Z", "author": {"login": "xseeseesee"}, "timelineItems": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcNKByXAH2gAyMzg3NjEwMDg2OjdjZTM0YzViODYyMTRmYWYyMzRiMTY5YTZhMzQ1ZjdjZTAwZTA4OWU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcO0-AogH2gAyMzg3NjEwMDg2OjI4ZWI0OGMyYWQ3YThlZjlkMTcyZTAyYzI1OTQ5NDFiNmJlNGY1Mjg=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "7ce34c5b86214faf234b169a6a345f7ce00e089e", "author": {"user": {"login": "xseeseesee", "name": null}}, "url": "https://github.com/Azure/azure-libraries-for-java/commit/7ce34c5b86214faf234b169a6a345f7ce00e089e", "committedDate": "2020-03-13T06:08:06Z", "message": "KeyVault: filter out disabled secret while listing secret versions"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0MDcwNjEw", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1099#pullrequestreview-374070610", "createdAt": "2020-03-13T06:19:21Z", "commit": {"oid": "7ce34c5b86214faf234b169a6a345f7ce00e089e"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0MDg0OTAw", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1099#pullrequestreview-374084900", "createdAt": "2020-03-13T07:05:32Z", "commit": {"oid": "7ce34c5b86214faf234b169a6a345f7ce00e089e"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d68b9341b450c56dc3cdbcd01d383e275c4bcb59", "author": {"user": {"login": "xseeseesee", "name": null}}, "url": "https://github.com/Azure/azure-libraries-for-java/commit/d68b9341b450c56dc3cdbcd01d383e275c4bcb59", "committedDate": "2020-03-13T08:38:44Z", "message": "KeyVault: revert the filter logic and list all versions with disabled included"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0MTU4MDIw", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1099#pullrequestreview-374158020", "createdAt": "2020-03-13T09:34:33Z", "commit": {"oid": "d68b9341b450c56dc3cdbcd01d383e275c4bcb59"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QwOTozNDozM1rOF19AVg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0xM1QwOTozNDozM1rOF19AVg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5MjExODM1OA==", "bodyText": "What would be the difference if we create SecretBundle this way?", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1099#discussion_r392118358", "createdAt": "2020-03-13T09:34:33Z", "author": {"login": "weidongxu-microsoft"}, "path": "azure-mgmt-keyvault/src/main/java/com/microsoft/azure/management/keyvault/implementation/SecretImpl.java", "diffHunk": "@@ -97,7 +97,16 @@ public boolean managed() {\n \n                     @Override\n                     protected ServiceFuture<SecretBundle> callAsync() {\n-                        return vault.client().getSecretAsync(secretItem.identifier().identifier(), null);\n+                        if (secretItem.attributes().enabled()) {\n+                            return vault.client().getSecretAsync(secretItem.identifier().identifier(), null);\n+                        } else {\n+                            SecretBundle secretBundle = new SecretBundle()\n+                                    .withId(secretItem.id())\n+                                    .withAttributes(secretItem.attributes())\n+                                    .withContentType(secretItem.contentType())\n+                                    .withTags(secretItem.tags());\n+                            return ServiceFuture.fromBody(Observable.just(secretBundle), null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d68b9341b450c56dc3cdbcd01d383e275c4bcb59"}, "originalPosition": 13}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc0MjA1Nzgz", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1099#pullrequestreview-374205783", "createdAt": "2020-03-13T10:49:49Z", "commit": {"oid": "d68b9341b450c56dc3cdbcd01d383e275c4bcb59"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "28eb48c2ad7a8ef9d172e02c2594941b6be4f528", "author": {"user": {"login": "xseeseesee", "name": null}}, "url": "https://github.com/Azure/azure-libraries-for-java/commit/28eb48c2ad7a8ef9d172e02c2594941b6be4f528", "committedDate": "2020-03-18T10:43:49Z", "message": "KeyVault: remove unused import"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1422, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}