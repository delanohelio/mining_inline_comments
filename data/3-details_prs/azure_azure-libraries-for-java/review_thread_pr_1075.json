{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzg0NzMxMDk2", "number": 1075, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxMDozOToxNlrODlwJzA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxMDo0Nzo0MlrODlwS_w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwOTEyODQ0OnYy", "diffSide": "RIGHT", "path": "azure-mgmt-compute/src/main/java/com/azure/management/compute/implementation/VirtualMachineScaleSetImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxMDozOToxNlrOFy0YQw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxMDozOToxNlrOFy0YQw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODgzMTI5OQ==", "bodyText": "Maybe you can name it as loadCurrentPrimaryLoadBalancersIfAvailableAsync to make it clearer that it is async method.", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1075#discussion_r388831299", "createdAt": "2020-03-06T10:39:16Z", "author": {"login": "weidongxu-microsoft"}, "path": "azure-mgmt-compute/src/main/java/com/azure/management/compute/implementation/VirtualMachineScaleSetImpl.java", "diffHunk": "@@ -334,7 +334,7 @@ public Network getPrimaryNetwork() throws IOException {\n     @Override\n     public LoadBalancer getPrimaryInternetFacingLoadBalancer() throws IOException {\n         if (this.primaryInternetFacingLoadBalancer == null) {\n-            loadCurrentPrimaryLoadBalancersIfAvailable();\n+            loadCurrentPrimaryLoadBalancersIfAvailable().block();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c114e33d245e763f17c19eadd0d65ccd1f308c58"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQwOTE1MTk5OnYy", "diffSide": "RIGHT", "path": "azure-mgmt-compute/src/main/java/com/azure/management/compute/implementation/VirtualMachineScaleSetImpl.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxMDo0Nzo0MlrOFy0nCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0wNlQxMDo0Nzo0MlrOFy0nCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4ODgzNTA4MQ==", "bodyText": "self.map(ignored -> firstLoadBalancerId).flatMap(id -> ... might be better, since it keeps Mono (if I did not misunderstand, self is Mono.just(this), and you have no use on the Flux in middle)", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1075#discussion_r388835081", "createdAt": "2020-03-06T10:47:42Z", "author": {"login": "weidongxu-microsoft"}, "path": "azure-mgmt-compute/src/main/java/com/azure/management/compute/implementation/VirtualMachineScaleSetImpl.java", "diffHunk": "@@ -1902,17 +1906,18 @@ private void loadCurrentPrimaryLoadBalancersIfAvailable() throws IOException {\n         }\n \n         if (firstLoadBalancerId == null) {\n-            return;\n+            return self;\n         }\n \n-        LoadBalancer loadBalancer1 = this.networkManager\n-                .loadBalancers()\n-                .getById(firstLoadBalancerId);\n-        if (loadBalancer1.publicIPAddressIds() != null && loadBalancer1.publicIPAddressIds().size() > 0) {\n-            this.primaryInternetFacingLoadBalancer = loadBalancer1;\n-        } else {\n-            this.primaryInternalLoadBalancer = loadBalancer1;\n-        }\n+        self = self.concatWith(Mono.just(firstLoadBalancerId).flatMap(id -> this.networkManager.loadBalancers().getByIdAsync(id)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "c114e33d245e763f17c19eadd0d65ccd1f308c58"}, "originalPosition": 367}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 2497, "cost": 1, "resetAt": "2021-11-12T11:18:39Z"}}}