{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0Mzc2OTI0NDA1", "number": 1033, "title": "vnext paged response", "bodyText": "", "createdAt": "2020-02-19T01:58:51Z", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1033", "merged": true, "mergeCommit": {"oid": "ec615ba8a80bd87cf164ae4ba8d1433381d8da48"}, "closed": true, "closedAt": "2020-02-19T06:59:11Z", "author": {"login": "weidongxu-microsoft"}, "timelineItems": {"totalCount": 11, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcFeT4JAH2gAyMzc2OTI0NDA1OjY1NTUyMmFhMjAzY2E5ZWU2OTM2NWE0Yzg1OTNlMzcyNTRhMGIzZjQ=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcFw8cXAH2gAyMzc2OTI0NDA1OjQyYjliNWE5ZTc3Y2RmNWU2N2Q5MDhlZmVhM2Q4OTAxODY3NDkzMWY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "655522aa203ca9ee69365a4c8593e37254a0b3f4", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-libraries-for-java/commit/655522aa203ca9ee69365a4c8593e37254a0b3f4", "committedDate": "2020-02-18T09:14:34Z", "message": "converter for paged response"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c32d6a179ebda3b1867adc2f5931336a41998c6", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-libraries-for-java/commit/8c32d6a179ebda3b1867adc2f5931336a41998c6", "committedDate": "2020-02-18T09:15:03Z", "message": "fix delay provider based on live mode"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwODE4MjI5", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1033#pullrequestreview-360818229", "createdAt": "2020-02-19T03:14:53Z", "commit": {"oid": "8c32d6a179ebda3b1867adc2f5931336a41998c6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwMzoxNDo1M1rOFrZ2Wg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwMzoxNDo1M1rOFrZ2Wg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTA1NjYwMg==", "bodyText": "Why not use PagedFlux.mapPage()", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1033#discussion_r381056602", "createdAt": "2020-02-19T03:14:53Z", "author": {"login": "yaohaizh"}, "path": "azure-mgmt-appservice/src/main/java/com/azure/management/appservice/implementation/WebAppsImpl.java", "diffHunk": "@@ -82,10 +65,23 @@ protected WebAppImpl wrapModel(SiteInner inner) {\n         return wrapModel(inner, null, null);\n     }\n \n-    protected PagedIterable<WebApp> wrapList(PagedIterable<SiteInner> pagedList) {\n-        return pagedList.mapPage(this::wrapModel);\n-    }\n+//    protected PagedIterable<WebApp> wrapList(PagedIterable<SiteInner> pagedList) {\n+//        return pagedList.mapPage(this::wrapModel);\n+//    }\n \n+    @Override\n+    protected PagedFlux<WebApp> wrapPageAsync(PagedFlux<SiteInner> innerPage) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c32d6a179ebda3b1867adc2f5931336a41998c6"}, "originalPosition": 56}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwODE4NDc3", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1033#pullrequestreview-360818477", "createdAt": "2020-02-19T03:15:58Z", "commit": {"oid": "8c32d6a179ebda3b1867adc2f5931336a41998c6"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwMzoxNTo1OFrOFrZ3Mg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0xOVQwMzoxNTo1OFrOFrZ3Mg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM4MTA1NjgxOA==", "bodyText": "PagedFlux.mapPage", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1033#discussion_r381056818", "createdAt": "2020-02-19T03:15:58Z", "author": {"login": "yaohaizh"}, "path": "azure-mgmt-resources/src/main/java/com/azure/management/resources/fluentcore/utils/PagedConverter.java", "diffHunk": "@@ -0,0 +1,64 @@\n+/**\n+ * Copyright (c) Microsoft Corporation. All rights reserved.\n+ * Licensed under the MIT License. See License.txt in the project root for\n+ * license information.\n+ */\n+\n+package com.azure.management.resources.fluentcore.utils;\n+\n+import com.azure.core.http.HttpRequest;\n+import com.azure.core.http.rest.PagedFlux;\n+import com.azure.core.http.rest.PagedResponse;\n+import com.azure.core.http.rest.PagedResponseBase;\n+import com.azure.core.util.paging.PageRetriever;\n+import org.reactivestreams.Publisher;\n+import reactor.core.publisher.Flux;\n+import reactor.core.publisher.Mono;\n+\n+import java.util.function.Function;\n+import java.util.function.Supplier;\n+\n+/**\n+ * Utility class for conversion of PagedResponse.\n+ */\n+public class PagedConverter {\n+\n+    private PagedConverter() {\n+\n+    }\n+\n+    /**\n+     * Applies flatMap transform to elements of PagedFlux.\n+     *\n+     * @param mapper the flatMap transform of element T to Publisher of S.\n+     * @return the PagedFlux.\n+     */\n+    public static <T, S> PagedFlux<S> flatMapPage(PagedFlux<T> pagedFlux, Function<? super T, ? extends Publisher<? extends S>> mapper) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8c32d6a179ebda3b1867adc2f5931336a41998c6"}, "originalPosition": 36}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzYwODI4NTcw", "url": "https://github.com/Azure/azure-libraries-for-java/pull/1033#pullrequestreview-360828570", "createdAt": "2020-02-19T03:58:41Z", "commit": {"oid": "8c32d6a179ebda3b1867adc2f5931336a41998c6"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7c5da2d187bc9a85f3639b9a8641af157423699e", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-libraries-for-java/commit/7c5da2d187bc9a85f3639b9a8641af157423699e", "committedDate": "2020-02-19T05:36:38Z", "message": "Merge branch 'vnext' into vnext_paged_response"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e95c2ce3c2f0a0edf98bc529efafd4ee7fe6b18f", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-libraries-for-java/commit/e95c2ce3c2f0a0edf98bc529efafd4ee7fe6b18f", "committedDate": "2020-02-19T06:20:41Z", "message": "temp unblock for OffsetDateTime deserialize"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "142024f80f69bee33e0a592ddaf0dd5bc1403d1c", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-libraries-for-java/commit/142024f80f69bee33e0a592ddaf0dd5bc1403d1c", "committedDate": "2020-02-19T06:21:27Z", "message": "Merge branch 'vnext' into vnext_hack_for_datetime_without_timezone"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "27fcfc1f9deb4613ea333a9b74621fbb789cc259", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-libraries-for-java/commit/27fcfc1f9deb4613ea333a9b74621fbb789cc259", "committedDate": "2020-02-19T06:21:55Z", "message": "Merge branch 'vnext' into vnext_paged_response"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d5a7e68617de5d272658fcae4c65b1cce120a347", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-libraries-for-java/commit/d5a7e68617de5d272658fcae4c65b1cce120a347", "committedDate": "2020-02-19T06:22:03Z", "message": "Merge branch 'vnext_hack_for_datetime_without_timezone' into vnext_paged_response"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42b9b5a9e77cdf5e67d908efea3d89018674931f", "author": {"user": {"login": "weidongxu-microsoft", "name": "Weidong Xu"}}, "url": "https://github.com/Azure/azure-libraries-for-java/commit/42b9b5a9e77cdf5e67d908efea3d89018674931f", "committedDate": "2020-02-19T06:57:10Z", "message": "complete switch to wrapPageAsync"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1490, "cost": 1, "resetAt": "2021-11-01T11:59:11Z"}}}