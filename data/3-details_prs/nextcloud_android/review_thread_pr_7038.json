{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDk2MDgxNDg5", "number": 7038, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQwOTo1NzozMVrOEpZvSw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxMDo0Mzo0OVrOEpavUg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExODQ4Nzc5OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/owncloud/android/utils/FileStorageUtils.java", "isResolved": false, "comments": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQwOTo1NzozMVrOHbDIng==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxMDowNzowM1rOHbDeOw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODEyNDk1OA==", "bodyText": "Is this needed?", "url": "https://github.com/nextcloud/android/pull/7038#discussion_r498124958", "createdAt": "2020-10-01T09:57:31Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/java/com/owncloud/android/utils/FileStorageUtils.java", "diffHunk": "@@ -652,7 +650,7 @@ private static boolean canListFiles(File f) {\n         public static final StandardDirectory DOCUMENTS;\n \n         static {\n-            if (SDK_INT > Build.VERSION_CODES.KITKAT) {\n+            if (SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "42f4f9e6603748044a1ac2b19821d375712e0054"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODEyNTQ4Nw==", "bodyText": "I think we can remove this, as AS states that DIRECTORY_DOCUMENTS requires API19.", "url": "https://github.com/nextcloud/android/pull/7038#discussion_r498125487", "createdAt": "2020-10-01T09:58:25Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/java/com/owncloud/android/utils/FileStorageUtils.java", "diffHunk": "@@ -652,7 +650,7 @@ private static boolean canListFiles(File f) {\n         public static final StandardDirectory DOCUMENTS;\n \n         static {\n-            if (SDK_INT > Build.VERSION_CODES.KITKAT) {\n+            if (SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODEyNDk1OA=="}, "originalCommit": {"oid": "42f4f9e6603748044a1ac2b19821d375712e0054"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODEyNjg0Nw==", "bodyText": "IT's needed\nThe statements said \">KITKAT\" so basically \"LOLLIPOP and above\", I just rewrote it so we don't have any KITKAT references in the code anymore.", "url": "https://github.com/nextcloud/android/pull/7038#discussion_r498126847", "createdAt": "2020-10-01T10:00:36Z", "author": {"login": "AndyScherzinger"}, "path": "src/main/java/com/owncloud/android/utils/FileStorageUtils.java", "diffHunk": "@@ -652,7 +650,7 @@ private static boolean canListFiles(File f) {\n         public static final StandardDirectory DOCUMENTS;\n \n         static {\n-            if (SDK_INT > Build.VERSION_CODES.KITKAT) {\n+            if (SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODEyNDk1OA=="}, "originalCommit": {"oid": "42f4f9e6603748044a1ac2b19821d375712e0054"}, "originalPosition": 35}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODEzMDQ5MQ==", "bodyText": "As discussed, removed since the check was wrong bc it is a v19 feature...", "url": "https://github.com/nextcloud/android/pull/7038#discussion_r498130491", "createdAt": "2020-10-01T10:07:03Z", "author": {"login": "AndyScherzinger"}, "path": "src/main/java/com/owncloud/android/utils/FileStorageUtils.java", "diffHunk": "@@ -652,7 +650,7 @@ private static boolean canListFiles(File f) {\n         public static final StandardDirectory DOCUMENTS;\n \n         static {\n-            if (SDK_INT > Build.VERSION_CODES.KITKAT) {\n+            if (SDK_INT >= Build.VERSION_CODES.LOLLIPOP) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODEyNDk1OA=="}, "originalCommit": {"oid": "42f4f9e6603748044a1ac2b19821d375712e0054"}, "originalPosition": 35}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzExODY1MTcwOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/owncloud/android/utils/FileStorageUtils.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxMDo0Mzo0OVrOHbEsCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0wMVQxMDo0Mzo0OVrOHbEsCQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ5ODE1MDQwOQ==", "bodyText": "Codacy found an issue: Avoid instantiating new objects inside loops", "url": "https://github.com/nextcloud/android/pull/7038#discussion_r498150409", "createdAt": "2020-10-01T10:43:49Z", "author": {"login": "nextcloud-android-bot"}, "path": "src/main/java/com/owncloud/android/utils/FileStorageUtils.java", "diffHunk": "@@ -526,14 +526,13 @@ public static boolean checkEncryptionStatus(OCFile file, FileDataStorageManager\n         if (SDK_INT >= Build.VERSION_CODES.M && checkStoragePermission(context)) {\n             rv.clear();\n         }\n-        if (SDK_INT >= Build.VERSION_CODES.KITKAT) {\n-            String strings[] = getExtSdCardPathsForActivity(context);\n-            File f;\n-            for (String s : strings) {\n-                f = new File(s);\n-                if (!rv.contains(s) && canListFiles(f)) {\n-                    rv.add(s);\n-                }\n+\n+        String[] extSdCardPaths = getExtSdCardPathsForActivity(context);\n+        File f;\n+        for (String extSdCardPath : extSdCardPaths) {\n+            f = new File(extSdCardPath);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d0e66f95bd51da72433e6c1f43a809e67d65a11b"}, "originalPosition": 16}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3239, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}