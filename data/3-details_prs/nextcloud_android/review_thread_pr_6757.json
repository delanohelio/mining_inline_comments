{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDcwNzU2MzIx", "number": 6757, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzowMDowMFrOE7aLOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzowMzowMVrOE7aOLA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzMwMjk4OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/owncloud/android/ui/activities/ActivitiesPresenter.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzowMDowMFrOH3CtiA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwOTo0MzoyNVrOH3IT0g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ3ODE1Mg==", "bodyText": "showLoadingMessage() is then set to View.GONE.\nCan you directly set this to \"gone\" in xml, and we can skip this then?", "url": "https://github.com/nextcloud/android/pull/6757#discussion_r527478152", "createdAt": "2020-11-20T07:00:00Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/java/com/owncloud/android/ui/activities/ActivitiesPresenter.java", "diffHunk": "@@ -48,7 +48,11 @@\n \n     @Override\n     public void loadActivities(int lastGiven) {\n-        activitiesView.setProgressIndicatorState(true);\n+        if (UNDEFINED == lastGiven) {\n+            activitiesView.showLoadingMessage();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "efaa4a42a808abebe54297e4c7842e84fdc769d6"}, "originalPosition": 6}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzU2OTg3NA==", "bodyText": "No, the empty list view is part of the included layout so this would then impact any screen that includes the empty list file (!)", "url": "https://github.com/nextcloud/android/pull/6757#discussion_r527569874", "createdAt": "2020-11-20T09:43:25Z", "author": {"login": "AndyScherzinger"}, "path": "src/main/java/com/owncloud/android/ui/activities/ActivitiesPresenter.java", "diffHunk": "@@ -48,7 +48,11 @@\n \n     @Override\n     public void loadActivities(int lastGiven) {\n-        activitiesView.setProgressIndicatorState(true);\n+        if (UNDEFINED == lastGiven) {\n+            activitiesView.showLoadingMessage();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ3ODE1Mg=="}, "originalCommit": {"oid": "efaa4a42a808abebe54297e4c7842e84fdc769d6"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMzMwNzMxMDUyOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/owncloud/android/ui/activities/ActivitiesPresenter.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwNzowMzowMVrOH3CxtQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwOTo0NTozNlrOH3IY3Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ3OTIyMQ==", "bodyText": "setProgressIndicatorState sets \"isLoadingActive\".\nThis is needed for scroll listener, so we need setProgressIndicatorState to be called.", "url": "https://github.com/nextcloud/android/pull/6757#discussion_r527479221", "createdAt": "2020-11-20T07:03:01Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/java/com/owncloud/android/ui/activities/ActivitiesPresenter.java", "diffHunk": "@@ -48,7 +48,11 @@\n \n     @Override\n     public void loadActivities(int lastGiven) {\n-        activitiesView.setProgressIndicatorState(true);\n+        if (UNDEFINED == lastGiven) {\n+            activitiesView.showLoadingMessage();\n+        } else {\n+            activitiesView.setProgressIndicatorState(true);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "efaa4a42a808abebe54297e4c7842e84fdc769d6"}, "originalPosition": 8}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzU3MTE2NQ==", "bodyText": "How would this need to change? setting isLoading is fine while setRefreshing() shall not be called here (else you have a mini spinner and a shimmer element!", "url": "https://github.com/nextcloud/android/pull/6757#discussion_r527571165", "createdAt": "2020-11-20T09:45:36Z", "author": {"login": "AndyScherzinger"}, "path": "src/main/java/com/owncloud/android/ui/activities/ActivitiesPresenter.java", "diffHunk": "@@ -48,7 +48,11 @@\n \n     @Override\n     public void loadActivities(int lastGiven) {\n-        activitiesView.setProgressIndicatorState(true);\n+        if (UNDEFINED == lastGiven) {\n+            activitiesView.showLoadingMessage();\n+        } else {\n+            activitiesView.setProgressIndicatorState(true);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzQ3OTIyMQ=="}, "originalCommit": {"oid": "efaa4a42a808abebe54297e4c7842e84fdc769d6"}, "originalPosition": 8}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3295, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}