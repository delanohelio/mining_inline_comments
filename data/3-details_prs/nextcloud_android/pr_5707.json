{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxOTY5NTI4", "number": 5707, "title": "Fix OOM during image browsing", "bodyText": "Fix #5479\nSigned-off-by: tobiasKaminsky tobias@kaminsky.me\nTesting\nWriting tests is very important. Please try to write some tests for your PR.\nIf you need help, please do not hesitate to ask in this PR for help.\nunit tests\ninstrumented tests\nUI tests\n\n Tests written, or not not needed", "createdAt": "2020-03-22T07:53:23Z", "url": "https://github.com/nextcloud/android/pull/5707", "merged": true, "mergeCommit": {"oid": "1013b6b9772ce778c0433e07b6bea748b36ef524"}, "closed": true, "closedAt": "2020-04-09T11:27:10Z", "author": {"login": "tobiasKaminsky"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcRcXkmgBqjMxNjgzMTkxOTM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcV4Dn6ABqjMyMTcyNjI4MDk=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "cece76e56c7768a4a6d3c08a85deacd9a9f3681f", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/cece76e56c7768a4a6d3c08a85deacd9a9f3681f", "committedDate": "2020-03-22T07:52:49Z", "message": "wip\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "88cf0b57d86a1dde4ce8e806d22fdf2b87e629ba", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/88cf0b57d86a1dde4ce8e806d22fdf2b87e629ba", "committedDate": "2020-03-26T13:45:34Z", "message": "wip\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e8a1eb88daf4a43501fd3b1ca76255f47ce3742b", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/e8a1eb88daf4a43501fd3b1ca76255f47ce3742b", "committedDate": "2020-03-30T05:42:53Z", "message": "Changes due to CI\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "6d8a440d1a580a3d932e6d2bc7026379cf0b6066", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/6d8a440d1a580a3d932e6d2bc7026379cf0b6066", "committedDate": "2020-03-30T05:43:51Z", "message": "Fix OOM during image browsing\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0ODIzMjM1", "url": "https://github.com/nextcloud/android/pull/5707#pullrequestreview-384823235", "createdAt": "2020-03-31T15:00:49Z", "commit": {"oid": "6d8a440d1a580a3d932e6d2bc7026379cf0b6066"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxNTowMDo0OVrOF-aJ0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxNTowMDo0OVrOF-aJ0w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk4NDUzMQ==", "bodyText": "InputStream indoesn't get closed\nclosing buffIn and in should probably be handled in a finally block too (like above)", "url": "https://github.com/nextcloud/android/pull/5707#discussion_r400984531", "createdAt": "2020-03-31T15:00:49Z", "author": {"login": "AndyScherzinger"}, "path": "src/main/java/com/owncloud/android/ui/adapter/DiskLruImageCache.java", "diffHunk": "@@ -116,9 +180,9 @@ public Bitmap getBitmap(String key) {\n             }\n             final InputStream in = snapshot.getInputStream(0);\n             if (in != null) {\n-                final BufferedInputStream buffIn =\n-                        new BufferedInputStream(in, IO_BUFFER_SIZE);\n+                final BufferedInputStream buffIn = new BufferedInputStream(in, IO_BUFFER_SIZE);\n                 bitmap = BitmapFactory.decodeStream(buffIn);\n+                buffIn.close();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d8a440d1a580a3d932e6d2bc7026379cf0b6066"}, "originalPosition": 98}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg0ODI3MDAw", "url": "https://github.com/nextcloud/android/pull/5707#pullrequestreview-384827000", "createdAt": "2020-03-31T15:04:40Z", "commit": {"oid": "6d8a440d1a580a3d932e6d2bc7026379cf0b6066"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxNTowNDo0MFrOF-aVkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxNTowNDo0MFrOF-aVkA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk4NzUzNg==", "bodyText": "Annotate with @Nullable since return can be null?", "url": "https://github.com/nextcloud/android/pull/5707#discussion_r400987536", "createdAt": "2020-03-31T15:04:40Z", "author": {"login": "AndyScherzinger"}, "path": "src/main/java/com/owncloud/android/ui/preview/PreviewImageFragment.java", "diffHunk": "@@ -306,6 +309,26 @@ public void onStart() {\n         }\n     }\n \n+    private Bitmap getResizedBitmap(OCFile file, int width, int height) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d8a440d1a580a3d932e6d2bc7026379cf0b6066"}, "originalPosition": 73}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6d8a440d1a580a3d932e6d2bc7026379cf0b6066", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/6d8a440d1a580a3d932e6d2bc7026379cf0b6066", "committedDate": "2020-03-30T05:43:51Z", "message": "Fix OOM during image browsing\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "f20f67b77d1b4125c5ae6baa59b9273f61865395", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/f20f67b77d1b4125c5ae6baa59b9273f61865395", "committedDate": "2020-04-04T09:40:19Z", "message": "Fix OOM during image browsing\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzg4OTA3OTkz", "url": "https://github.com/nextcloud/android/pull/5707#pullrequestreview-388907993", "createdAt": "2020-04-07T08:44:33Z", "commit": {"oid": "f20f67b77d1b4125c5ae6baa59b9273f61865395"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f20f67b77d1b4125c5ae6baa59b9273f61865395", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/f20f67b77d1b4125c5ae6baa59b9273f61865395", "committedDate": "2020-04-04T09:40:19Z", "message": "Fix OOM during image browsing\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "ad4186ed13e7882a42f74bf4f8892aa0f0a54cf8", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/ad4186ed13e7882a42f74bf4f8892aa0f0a54cf8", "committedDate": "2020-04-08T11:10:13Z", "message": "Fix OOM during image browsing\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ad4186ed13e7882a42f74bf4f8892aa0f0a54cf8", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/ad4186ed13e7882a42f74bf4f8892aa0f0a54cf8", "committedDate": "2020-04-08T11:10:13Z", "message": "Fix OOM during image browsing\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "58873a8a22d3ae55be9fae5159ab1174eeda4a88", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/58873a8a22d3ae55be9fae5159ab1174eeda4a88", "committedDate": "2020-04-09T06:47:01Z", "message": "Fix OOM during image browsing\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "45315f148635040ad44131cdd1f2f9ca8a79c594", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/45315f148635040ad44131cdd1f2f9ca8a79c594", "committedDate": "2020-04-09T08:16:58Z", "message": "Fix OOM during image browsing\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "58873a8a22d3ae55be9fae5159ab1174eeda4a88", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/58873a8a22d3ae55be9fae5159ab1174eeda4a88", "committedDate": "2020-04-09T06:47:01Z", "message": "Fix OOM during image browsing\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "45315f148635040ad44131cdd1f2f9ca8a79c594", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/45315f148635040ad44131cdd1f2f9ca8a79c594", "committedDate": "2020-04-09T08:16:58Z", "message": "Fix OOM during image browsing\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4752, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}