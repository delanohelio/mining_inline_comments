{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0NzI1Nzgx", "number": 7102, "title": "Upload are deleted after decision was made in conflict activity", "bodyText": "Fix #7082\nFix #6963\nFix #6692\nFix #5755\nSigned-off-by: tobiasKaminsky tobias@kaminsky.me\nTesting\nWriting tests is very important. Please try to write some tests for your PR.\nIf you need help, please do not hesitate to ask in this PR for help.\nunit tests\ninstrumented tests\nUI tests\n\n Tests written, or not not needed", "createdAt": "2020-10-16T09:53:10Z", "url": "https://github.com/nextcloud/android/pull/7102", "merged": true, "mergeCommit": {"oid": "109487ff915273819399fd562cc1823eb63fe3c2"}, "closed": true, "closedAt": "2020-10-29T08:45:51Z", "author": {"login": "tobiasKaminsky"}, "timelineItems": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdWoonUABqjM5MjU4MDA1Nzc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdXNAPFgFqTUxOTM5MTI1Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "62ee833aa7b6fdf8b8f64d0663f82d4c6f1dcc33", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/62ee833aa7b6fdf8b8f64d0663f82d4c6f1dcc33", "committedDate": "2020-10-16T09:51:37Z", "message": "Upload are deleted after decision was made in conflict activity\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "a8eee0568d70ea367a7f0e4b534bd4c9202f7a43", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/a8eee0568d70ea367a7f0e4b534bd4c9202f7a43", "committedDate": "2020-10-27T13:03:56Z", "message": "Upload are deleted after decision was made in conflict activity\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE3ODQyMTAx", "url": "https://github.com/nextcloud/android/pull/7102#pullrequestreview-517842101", "createdAt": "2020-10-27T15:34:04Z", "commit": {"oid": "a8eee0568d70ea367a7f0e4b534bd4c9202f7a43"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d34b1e8da7f811eb809af65684344204650fb946", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/d34b1e8da7f811eb809af65684344204650fb946", "committedDate": "2020-10-29T07:22:34Z", "message": "Upload are deleted after decision was made in conflict activity\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a8eee0568d70ea367a7f0e4b534bd4c9202f7a43", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/a8eee0568d70ea367a7f0e4b534bd4c9202f7a43", "committedDate": "2020-10-27T13:03:56Z", "message": "Upload are deleted after decision was made in conflict activity\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "d34b1e8da7f811eb809af65684344204650fb946", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/d34b1e8da7f811eb809af65684344204650fb946", "committedDate": "2020-10-29T07:22:34Z", "message": "Upload are deleted after decision was made in conflict activity\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTE5MzkxMjUz", "url": "https://github.com/nextcloud/android/pull/7102#pullrequestreview-519391253", "createdAt": "2020-10-29T07:26:30Z", "commit": {"oid": "d34b1e8da7f811eb809af65684344204650fb946"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwNzoyNjozMFrOHqPKyQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0yOVQwNzoyNjozMFrOHqPKyQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUxNDA1MDc2MQ==", "bodyText": "Codacy found an issue: These nested if statements could be combined", "url": "https://github.com/nextcloud/android/pull/7102#discussion_r514050761", "createdAt": "2020-10-29T07:26:30Z", "author": {"login": "nextcloud-android-bot"}, "path": "src/main/java/com/owncloud/android/datamodel/UploadsStorageManager.java", "diffHunk": "@@ -287,6 +301,25 @@ public int removeUploads(String accountName) {\n         return getUploads(null, (String[]) null);\n     }\n \n+    public @Nullable\n+    OCUpload getUploadById(long id) {\n+        OCUpload result = null;\n+        Cursor cursor = getDB().query(\n+            ProviderTableMeta.CONTENT_URI_UPLOADS,\n+            null,\n+            ProviderTableMeta._ID + \"=?\",\n+            new String[]{Long.toString(id)},\n+            \"_id ASC\");\n+\n+        if (cursor != null) {\n+            if (cursor.moveToFirst()) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d34b1e8da7f811eb809af65684344204650fb946"}, "originalPosition": 49}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4435, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}