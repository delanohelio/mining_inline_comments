{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0NDEzMzQ2", "number": 6172, "title": "fix search related items in drawer", "bodyText": "On latest master search related items were gone.\nSigned-off-by: tobiasKaminsky tobias@kaminsky.me\nTesting\nWriting tests is very important. Please try to write some tests for your PR.\nIf you need help, please do not hesitate to ask in this PR for help.\nunit tests\ninstrumented tests\nUI tests\n\n Tests written, or not not needed", "createdAt": "2020-05-28T11:05:10Z", "url": "https://github.com/nextcloud/android/pull/6172", "merged": true, "mergeCommit": {"oid": "2d0d307d11aa31150b185d189cda10423013fda8"}, "closed": true, "closedAt": "2020-06-02T14:09:53Z", "author": {"login": "tobiasKaminsky"}, "timelineItems": {"totalCount": 4, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcl00JTAFqTQyMDUwODU4NQ==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnVdYxABqjMzOTc4NTM0NTU=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwNTA4NTg1", "url": "https://github.com/nextcloud/android/pull/6172#pullrequestreview-420508585", "createdAt": "2020-05-28T21:33:17Z", "commit": {"oid": "bfa1de74642cae12d01452af1a4b015e62d68f70"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQyMTozMzoxN1rOGcHh1w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQyMTozMzoxN1rOGcHh1w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjEzNjY2Mw==", "bodyText": "sure?", "url": "https://github.com/nextcloud/android/pull/6172#discussion_r432136663", "createdAt": "2020-05-28T21:33:17Z", "author": {"login": "AndyScherzinger"}, "path": "src/main/java/com/owncloud/android/utils/DrawerMenuUtil.java", "diffHunk": "@@ -42,31 +42,26 @@ private DrawerMenuUtil() {\n \n     public static void filterSearchMenuItems(Menu menu,\n                                              User user,\n-                                             Resources resources,\n-                                             boolean hasSearchSupport) {\n-        if (!user.isAnonymous() && !hasSearchSupport) {\n+                                             Resources resources) {\n+        if (user.isAnonymous()) {\n             filterMenuItems(menu, R.id.nav_photos, R.id.nav_favorites, R.id.nav_videos);\n         }\n \n-        if (hasSearchSupport) {\n-            if (!resources.getBoolean(R.bool.recently_added_enabled)) {\n-                menu.removeItem(R.id.nav_recently_added);\n-            }\n+        if (!resources.getBoolean(R.bool.recently_added_enabled)) {\n+            menu.removeItem(R.id.nav_recently_added);\n+        }\n \n-            if (!resources.getBoolean(R.bool.recently_modified_enabled)) {\n-                menu.removeItem(R.id.nav_recently_modified);\n-            }\n+        if (!resources.getBoolean(R.bool.recently_modified_enabled)) {\n+            menu.removeItem(R.id.nav_recently_modified);\n+        }\n \n-            if (!resources.getBoolean(R.bool.videos_enabled)) {\n-                menu.removeItem(R.id.nav_videos);\n-            }\n-        } else if (!user.isAnonymous()) {\n-            filterMenuItems(menu, R.id.nav_recently_added, R.id.nav_recently_modified, R.id.nav_videos);\n+        if (!resources.getBoolean(R.bool.videos_enabled)) {\n+            menu.removeItem(R.id.nav_videos);\n         }\n     }\n \n     public static void filterTrashbinMenuItem(Menu menu, User user, @Nullable OCCapability capability) {\n-        if (!user.isAnonymous() &&\n+        if (!user.isAnonymous() ||", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "bfa1de74642cae12d01452af1a4b015e62d68f70"}, "originalPosition": 39}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwOTExMTc4", "url": "https://github.com/nextcloud/android/pull/6172#pullrequestreview-420911178", "createdAt": "2020-05-29T12:37:09Z", "commit": {"oid": "bfa1de74642cae12d01452af1a4b015e62d68f70"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "e81dcb780401842887e93bf7914d82ab4ccc7fbb", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/e81dcb780401842887e93bf7914d82ab4ccc7fbb", "committedDate": "2020-06-02T14:09:03Z", "message": "fix search related items in drawer\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bfa1de74642cae12d01452af1a4b015e62d68f70", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/bfa1de74642cae12d01452af1a4b015e62d68f70", "committedDate": "2020-05-28T11:04:27Z", "message": "fix search related items in drawer\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "e81dcb780401842887e93bf7914d82ab4ccc7fbb", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/e81dcb780401842887e93bf7914d82ab4ccc7fbb", "committedDate": "2020-06-02T14:09:03Z", "message": "fix search related items in drawer\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4649, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}