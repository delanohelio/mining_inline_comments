{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI0NDIyNjAy", "number": 6173, "title": "New design (UI) - Removed old options menu items from FileDisplayActivity", "bodyText": "Hi,\nIt removes the old menu items from FileDisplayActivity (and FolderPickerActivity) which fixes this issue : #6059, which belongs to this one : #5207 (comment)\n\n\n\nBefore\nAfter\n\n\n\n\n\n\n\n\n\n\n\n\n\nThe \"Refresh/Sync account\" action is now relative to the Swipe Refresh (it'll be done at each refresh).\nAbout dev, I changed this weird (and not so beautiful) function which allows to chose the display mode by a switch-case.\nThank you.\nTesting\nWriting tests is very important. Please try to write some tests for your PR.\nIf you need help, please do not hesitate to ask in this PR for help.\nunit tests\ninstrumented tests\nUI tests\n\n Tests written, or not not needed", "createdAt": "2020-05-28T11:24:26Z", "url": "https://github.com/nextcloud/android/pull/6173", "merged": true, "mergeCommit": {"oid": "7972c6cf7d08ad09b3b833b64bdb393ff6e35f8b"}, "closed": true, "closedAt": "2020-06-02T08:59:16Z", "author": {"login": "Kilian-Perisset"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABclt-fiAFqTQyMDExMjE1Mg==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcnRBd3gFqTQyMjQ3ODU2Mw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwMTEyMTUy", "url": "https://github.com/nextcloud/android/pull/6173#pullrequestreview-420112152", "createdAt": "2020-05-28T13:35:15Z", "commit": {"oid": "4dcc89653206208641b1ec06343cd1b88c591dd9"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxMzozNToxNVrOGb1V9A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQxMzozNToxNVrOGb1V9A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTgzODcwOA==", "bodyText": "Please remove this.\nThis triggers a total sync, which will clash with above syncAndUpdateFolder().\nI think we do not need this at all, so just removing it entirely is good.", "url": "https://github.com/nextcloud/android/pull/6173#discussion_r431838708", "createdAt": "2020-05-28T13:35:15Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/java/com/owncloud/android/ui/activity/FileDisplayActivity.java", "diffHunk": "@@ -2467,6 +2466,8 @@ public void cancelTransference(Collection<OCFile> files) {\n     @Override\n     public void onRefresh(boolean ignoreETag) {\n         syncAndUpdateFolder(ignoreETag);\n+        // Synchronize account during swipe refresh\n+        startSynchronization();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4dcc89653206208641b1ec06343cd1b88c591dd9"}, "originalPosition": 38}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwMTEzMjE5", "url": "https://github.com/nextcloud/android/pull/6173#pullrequestreview-420113219", "createdAt": "2020-05-28T13:36:28Z", "commit": {"oid": "4dcc89653206208641b1ec06343cd1b88c591dd9"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwMjM2MDIw", "url": "https://github.com/nextcloud/android/pull/6173#pullrequestreview-420236020", "createdAt": "2020-05-28T15:33:56Z", "commit": {"oid": "8bbebf3cc9a0aadbbce839e596c163746def7539"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIwOTE0MzAz", "url": "https://github.com/nextcloud/android/pull/6173#pullrequestreview-420914303", "createdAt": "2020-05-29T12:41:39Z", "commit": {"oid": "8bbebf3cc9a0aadbbce839e596c163746def7539"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQxMjo0MTo0MFrOGcbBhQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOVQxMjo0MTo0MFrOGcbBhQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMjQ1NjA2OQ==", "bodyText": "Why with 2 lines?", "url": "https://github.com/nextcloud/android/pull/6173#discussion_r432456069", "createdAt": "2020-05-29T12:41:40Z", "author": {"login": "JorisBodin"}, "path": "src/main/java/com/owncloud/android/ui/fragment/ExtendedListFragment.java", "diffHunk": "@@ -221,9 +221,10 @@ public void onCreateOptionsMenu(Menu menu, MenuInflater inflater) {\n                 searchView.setMaxWidth((int) (width * 0.4));\n             } else {\n                 if (activity instanceof FolderPickerActivity) {\n-                    searchView.setMaxWidth((int) (width * 0.8));\n+                    searchView.", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8bbebf3cc9a0aadbbce839e596c163746def7539"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "22d460d434c5e12fda747de7fffda66100a6e586", "author": {"user": {"login": "Kilian-Perisset", "name": "Kilian P\u00e9risset"}}, "url": "https://github.com/nextcloud/android/commit/22d460d434c5e12fda747de7fffda66100a6e586", "committedDate": "2020-05-29T13:36:44Z", "message": "Restructured options menu + Removed unused items\n\nSigned-off-by: Kilian Pe\u0301risset <kilian.perisset@infomaniak.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "42b4aaad996b00f17ea5cc79021046cabaafd1b5", "author": {"user": {"login": "Kilian-Perisset", "name": "Kilian P\u00e9risset"}}, "url": "https://github.com/nextcloud/android/commit/42b4aaad996b00f17ea5cc79021046cabaafd1b5", "committedDate": "2020-05-29T13:36:44Z", "message": "Increased searchview width when deployed\n\nSigned-off-by: Kilian Pe\u0301risset <kilian.perisset@infomaniak.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2ce949cb81779ed8cb315581bcda7f5dce68a3d2", "author": {"user": {"login": "Kilian-Perisset", "name": "Kilian P\u00e9risset"}}, "url": "https://github.com/nextcloud/android/commit/2ce949cb81779ed8cb315581bcda7f5dce68a3d2", "committedDate": "2020-05-29T13:36:45Z", "message": "Removed unused Sync account + Fixed a display inconsistency bug\n\nSigned-off-by: Kilian Pe\u0301risset <kilian.perisset@infomaniak.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "2e051917ec748f23718c9b903e7ad919284274e6", "author": {"user": {"login": "Kilian-Perisset", "name": "Kilian P\u00e9risset"}}, "url": "https://github.com/nextcloud/android/commit/2e051917ec748f23718c9b903e7ad919284274e6", "committedDate": "2020-05-29T13:36:45Z", "message": "Removed startSynchronization method\n\nSigned-off-by: Kilian Pe\u0301risset <kilian.perisset@infomaniak.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7fd7e10f8da924987e60416b858030cac0a77bad", "author": {"user": {"login": "Kilian-Perisset", "name": "Kilian P\u00e9risset"}}, "url": "https://github.com/nextcloud/android/commit/7fd7e10f8da924987e60416b858030cac0a77bad", "committedDate": "2020-05-29T13:36:45Z", "message": "Fixed lint\n\nSigned-off-by: Kilian Pe\u0301risset <kilian.perisset@infomaniak.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80346015375fcf5682c55b5bdf1173e5145b71af", "author": {"user": {"login": "Kilian-Perisset", "name": "Kilian P\u00e9risset"}}, "url": "https://github.com/nextcloud/android/commit/80346015375fcf5682c55b5bdf1173e5145b71af", "committedDate": "2020-05-29T13:36:45Z", "message": "Removed unused items in FileDisplayActivity + Fixed some bugs\n\nSigned-off-by: Kilian Pe\u0301risset <kilian.perisset@infomaniak.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "88e94411669b945b9c18f786da13a99e6c0519ef", "author": {"user": {"login": "Kilian-Perisset", "name": "Kilian P\u00e9risset"}}, "url": "https://github.com/nextcloud/android/commit/88e94411669b945b9c18f786da13a99e6c0519ef", "committedDate": "2020-05-29T13:29:38Z", "message": "Removed unused items in FileDisplayActivity + Fixed some bugs\n\nSigned-off-by: Kilian Pe\u0301risset <kilian.perisset@infomaniak.com>"}, "afterCommit": {"oid": "80346015375fcf5682c55b5bdf1173e5145b71af", "author": {"user": {"login": "Kilian-Perisset", "name": "Kilian P\u00e9risset"}}, "url": "https://github.com/nextcloud/android/commit/80346015375fcf5682c55b5bdf1173e5145b71af", "committedDate": "2020-05-29T13:36:45Z", "message": "Removed unused items in FileDisplayActivity + Fixed some bugs\n\nSigned-off-by: Kilian Pe\u0301risset <kilian.perisset@infomaniak.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDIyNDc4NTYz", "url": "https://github.com/nextcloud/android/pull/6173#pullrequestreview-422478563", "createdAt": "2020-06-02T08:59:07Z", "commit": {"oid": "80346015375fcf5682c55b5bdf1173e5145b71af"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4651, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}