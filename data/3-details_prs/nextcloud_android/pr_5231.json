{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY0NDM2MTk0", "number": 5231, "title": "images: slightly rounded corners", "bodyText": "@jancborchardt what do you think?\nSigned-off-by: tobiasKaminsky tobias@kaminsky.me", "createdAt": "2020-01-18T15:24:28Z", "url": "https://github.com/nextcloud/android/pull/5231", "merged": true, "mergeCommit": {"oid": "0c272ad1d7b50bc99697f5f375310cd184c21ee3"}, "closed": true, "closedAt": "2020-02-03T12:47:15Z", "author": {"login": "tobiasKaminsky"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABb7k_9LAH2gAyMzY0NDM2MTk0OmVmMGIwZmU5ZWVjYjllYmQyZDI2NDRlMzI2YmFjYmVkMzY2YmI4YWM=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcAqyDbAFqTM1MjE3MDIyMw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ef0b0fe9eecb9ebd2d2644e326bacbed366bb8ac", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/ef0b0fe9eecb9ebd2d2644e326bacbed366bb8ac", "committedDate": "2020-01-18T15:22:54Z", "message": "images: slightly rounded corners\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4fb140d275061e028d70b3a24fa3af36713daba0", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/4fb140d275061e028d70b3a24fa3af36713daba0", "committedDate": "2020-01-22T12:45:31Z", "message": "round corners only in list view\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ3Njk3NzUz", "url": "https://github.com/nextcloud/android/pull/5231#pullrequestreview-347697753", "createdAt": "2020-01-24T00:38:03Z", "commit": {"oid": "4fb140d275061e028d70b3a24fa3af36713daba0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "82dd14f6bcf68b2d6d5dd6e698213e460ce476a7", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/82dd14f6bcf68b2d6d5dd6e698213e460ce476a7", "committedDate": "2020-01-30T19:31:45Z", "message": "extract doubled code\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "763ee606d1aa3574686f337cff30ac0f62e312b7", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/763ee606d1aa3574686f337cff30ac0f62e312b7", "committedDate": "2020-01-30T20:39:54Z", "message": "use radius, and do not only test for it\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzQ2ODgwODYx", "url": "https://github.com/nextcloud/android/pull/5231#pullrequestreview-346880861", "createdAt": "2020-01-22T20:29:21Z", "commit": {"oid": "4fb140d275061e028d70b3a24fa3af36713daba0"}, "state": "APPROVED", "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQyMDoyOToyMlrOFgp95A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yMlQyMDozNjowNFrOFgqIgA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTc4NjM0MA==", "bodyText": "Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                                        Resources resources = MainApp.getAppContext().getResources();\n          \n          \n            \n                                        Resources resources = activity.getResources();", "url": "https://github.com/nextcloud/android/pull/5231#discussion_r369786340", "createdAt": "2020-01-22T20:29:22Z", "author": {"login": "AndyScherzinger"}, "path": "src/main/java/com/owncloud/android/ui/adapter/OCFileListAdapter.java", "diffHunk": "@@ -602,7 +603,17 @@ private void setThumbnail(OCFile file, ImageView thumbnailView) {\n                         Bitmap withOverlay = ThumbnailsCacheManager.addVideoOverlay(thumbnail);\n                         thumbnailView.setImageBitmap(withOverlay);\n                     } else {\n-                        thumbnailView.setImageBitmap(thumbnail);\n+                        if (gridView) {\n+                            thumbnailView.setImageBitmap(thumbnail);\n+                        } else {\n+                            Resources resources = MainApp.getAppContext().getResources();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4fb140d275061e028d70b3a24fa3af36713daba0"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTc4ODM2OA==", "bodyText": "shouldn't this rather be\n\n  \n    \n      \n        Suggested change\n        \n          \n    \n\n        \n      \n    \n    \n      \n          \n            \n                        roundedBitmap.setCornerRadius(20);\n          \n          \n            \n                        roundedBitmap.setCornerRadius(radius);", "url": "https://github.com/nextcloud/android/pull/5231#discussion_r369788368", "createdAt": "2020-01-22T20:34:27Z", "author": {"login": "AndyScherzinger"}, "path": "src/main/java/com/owncloud/android/utils/BitmapUtils.java", "diffHunk": "@@ -376,16 +377,34 @@ public static String md5(String string) throws NoSuchAlgorithmException {\n      * @param bitmap the original bitmap\n      * @return the circular bitmap\n      */\n-    public static RoundedBitmapDrawable bitmapToCircularBitmapDrawable(Resources resources, Bitmap bitmap) {\n+    public static RoundedBitmapDrawable bitmapToCircularBitmapDrawable(Resources resources,\n+                                                                       Bitmap bitmap,\n+                                                                       float radius) {\n         if (bitmap == null) {\n             return null;\n         }\n \n         RoundedBitmapDrawable roundedBitmap = RoundedBitmapDrawableFactory.create(resources, bitmap);\n         roundedBitmap.setCircular(true);\n+\n+        if (radius != -1) {\n+            roundedBitmap.setCornerRadius(20);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4fb140d275061e028d70b3a24fa3af36713daba0"}, "originalPosition": 24}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTc4OTA1Ng==", "bodyText": "due to the dp value coming in the corner radius probably rather 2 or 4 dp. The 20 is a fixed number and not a density pixel so it doesn't care about display density, while the original dp value so sent in does!", "url": "https://github.com/nextcloud/android/pull/5231#discussion_r369789056", "createdAt": "2020-01-22T20:36:04Z", "author": {"login": "AndyScherzinger"}, "path": "src/main/java/com/owncloud/android/utils/BitmapUtils.java", "diffHunk": "@@ -376,16 +377,34 @@ public static String md5(String string) throws NoSuchAlgorithmException {\n      * @param bitmap the original bitmap\n      * @return the circular bitmap\n      */\n-    public static RoundedBitmapDrawable bitmapToCircularBitmapDrawable(Resources resources, Bitmap bitmap) {\n+    public static RoundedBitmapDrawable bitmapToCircularBitmapDrawable(Resources resources,\n+                                                                       Bitmap bitmap,\n+                                                                       float radius) {\n         if (bitmap == null) {\n             return null;\n         }\n \n         RoundedBitmapDrawable roundedBitmap = RoundedBitmapDrawableFactory.create(resources, bitmap);\n         roundedBitmap.setCircular(true);\n+\n+        if (radius != -1) {\n+            roundedBitmap.setCornerRadius(20);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM2OTc4ODM2OA=="}, "originalCommit": {"oid": "4fb140d275061e028d70b3a24fa3af36713daba0"}, "originalPosition": 24}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d6275c48332afac1d6f1370855c6f4a3e62d86a4", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/d6275c48332afac1d6f1370855c6f4a3e62d86a4", "committedDate": "2020-01-31T06:20:14Z", "message": "use 10dp\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "66b78e0eb75881304527f49b248d2e307892faa9", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/66b78e0eb75881304527f49b248d2e307892faa9", "committedDate": "2020-02-03T05:58:39Z", "message": "changed to 8dp\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "b787284ab6c0a389d0d57e71877d1d4cd301ed8c", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/b787284ab6c0a389d0d57e71877d1d4cd301ed8c", "committedDate": "2020-02-03T10:53:37Z", "message": "bump spotbugs\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3MzUyMTcwMjIz", "url": "https://github.com/nextcloud/android/pull/5231#pullrequestreview-352170223", "createdAt": "2020-02-03T10:56:46Z", "commit": {"oid": "b787284ab6c0a389d0d57e71877d1d4cd301ed8c"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QxMDo1Njo0NlrOFktftA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMi0wM1QxMDo1Njo0NlrOFktftA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3NDAzODQ1Mg==", "bodyText": "Issue found: Avoid using redundant field initializer for 'roundedCorners'", "url": "https://github.com/nextcloud/android/pull/5231#discussion_r374038452", "createdAt": "2020-02-03T10:56:46Z", "author": {"login": "nextcloud-android-bot"}, "path": "src/main/java/com/owncloud/android/datamodel/ThumbnailsCacheManager.java", "diffHunk": "@@ -410,12 +410,23 @@ private String getImageKey() {\n         private String mImageKey;\n         private FileDataStorageManager mStorageManager;\n         private GetMethod getMethod;\n+        private boolean roundedCorners = false;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "b787284ab6c0a389d0d57e71877d1d4cd301ed8c"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4839, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}