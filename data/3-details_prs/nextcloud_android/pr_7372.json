{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTIzODM3MjA3", "number": 7372, "title": "Closed the app when press back button from App passcode screen", "bodyText": "Signed-off-by: Kuuuna98 yunaghgh@naver.com\nTesting\n\nSet APP passcode\nPress the back button on the passcode screen that you see when you run the app.\n\nResult: Leave the app.\nunit tests\ninstrumented tests\nUI tests\n\n Tests written, or not not needed\n\nFix #7343 Issue implemented in code. Please check.\ud83d\ude0a", "createdAt": "2020-11-19T10:25:58Z", "url": "https://github.com/nextcloud/android/pull/7372", "merged": true, "mergeCommit": {"oid": "03a6d9294d2cae51a7f0009c2a31a2a2b826197f"}, "closed": true, "closedAt": "2020-11-25T10:44:40Z", "author": {"login": "Kuuuna98"}, "timelineItems": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdeAGu3gH2gAyNTIzODM3MjA3OmRkYzNkYjAzOGMwYzY5OTJlZTMwY2M5MTZiNzFlMmZlYzY1OWQyZTg=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdfsG13gFqTUzNzY3Njg2OQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "ddc3db038c0c6992ee30cc916b71e2fec659d2e8", "author": {"user": {"login": "Kuuuna98", "name": "KwonYuna"}}, "url": "https://github.com/nextcloud/android/commit/ddc3db038c0c6992ee30cc916b71e2fec659d2e8", "committedDate": "2020-11-19T10:22:19Z", "message": "Closed the screen when press back button from App passcode screen\n\nSigned-off-by: Kuuuna98 <yunaghgh@naver.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM1MjUyMjgy", "url": "https://github.com/nextcloud/android/pull/7372#pullrequestreview-535252282", "createdAt": "2020-11-20T09:17:37Z", "commit": {"oid": "ddc3db038c0c6992ee30cc916b71e2fec659d2e8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwOToxNzozN1rOH3HYEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yMFQwOToxNzozN1rOH3HYEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyNzU1NDU3Nw==", "bodyText": "This is only available in API >= 21, but not on 19, which we still support.\nIf there is no fitting function that also works on 19, I suggest to have a version check, so that on <21 it simply does not work, but works with >=21.", "url": "https://github.com/nextcloud/android/pull/7372#discussion_r527554577", "createdAt": "2020-11-20T09:17:37Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/java/com/owncloud/android/ui/activity/PassCodeActivity.java", "diffHunk": "@@ -365,10 +365,13 @@ protected void clearBoxes(){\n     @Override\n     public boolean onKeyDown(int keyCode, KeyEvent event){\n         if (keyCode == KeyEvent.KEYCODE_BACK && event.getRepeatCount()== 0){\n-            if (ACTION_REQUEST_WITH_RESULT.equals(getIntent().getAction()) ||\n-                    ACTION_CHECK_WITH_RESULT.equals(getIntent().getAction())) {\n+            if(ACTION_CHECK.equals(getIntent().getAction())){\n+                moveTaskToBack(true);\n+                finishAndRemoveTask();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "ddc3db038c0c6992ee30cc916b71e2fec659d2e8"}, "originalPosition": 8}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "02d12b803c4d7f4c48886bb6b664b8686f0189ce", "author": {"user": {"login": "Kuuuna98", "name": "KwonYuna"}}, "url": "https://github.com/nextcloud/android/commit/02d12b803c4d7f4c48886bb6b664b8686f0189ce", "committedDate": "2020-11-20T15:54:14Z", "message": "Modified code in consideration of API\n\nIt has been modified from finishAndRemoveTask() to finish() in consideration of API  < 21."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM2MzI5MzE3", "url": "https://github.com/nextcloud/android/pull/7372#pullrequestreview-536329317", "createdAt": "2020-11-23T10:13:26Z", "commit": {"oid": "02d12b803c4d7f4c48886bb6b664b8686f0189ce"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxMDoxMzoyN1rOH4Gygg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yM1QxMDoxMzoyN1rOH4Gygg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyODU5MzUzOA==", "bodyText": "Have you tried this?\nI think this will just close the PassCodeActivity, but not the app and thus lets the user allow to go into the app without entering correct pin code.", "url": "https://github.com/nextcloud/android/pull/7372#discussion_r528593538", "createdAt": "2020-11-23T10:13:27Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/java/com/owncloud/android/ui/activity/PassCodeActivity.java", "diffHunk": "@@ -367,7 +367,7 @@ public boolean onKeyDown(int keyCode, KeyEvent event){\n         if (keyCode == KeyEvent.KEYCODE_BACK && event.getRepeatCount()== 0){\n             if(ACTION_CHECK.equals(getIntent().getAction())){\n                 moveTaskToBack(true);\n-                finishAndRemoveTask();\n+                finish();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "02d12b803c4d7f4c48886bb6b664b8686f0189ce"}, "originalPosition": 5}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "babf64f5e91eb28e5bb0435d5eca1b9158eadc09", "author": {"user": {"login": "Kuuuna98", "name": "KwonYuna"}}, "url": "https://github.com/nextcloud/android/commit/babf64f5e91eb28e5bb0435d5eca1b9158eadc09", "committedDate": "2020-11-24T04:16:33Z", "message": "Modified code to close the app after checking API >= 21\n\nIf API >= 21, Closed the app when press back button from App passcode screen"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3MjMxOTA5", "url": "https://github.com/nextcloud/android/pull/7372#pullrequestreview-537231909", "createdAt": "2020-11-24T08:39:35Z", "commit": {"oid": "babf64f5e91eb28e5bb0435d5eca1b9158eadc09"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwODozOTozNVrOH4xjWg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMS0yNFQwODozOTozNVrOH4xjWg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUyOTI5NDE3MA==", "bodyText": "Please change this to proper name (Lollipop).", "url": "https://github.com/nextcloud/android/pull/7372#discussion_r529294170", "createdAt": "2020-11-24T08:39:35Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/java/com/owncloud/android/ui/activity/PassCodeActivity.java", "diffHunk": "@@ -365,10 +366,13 @@ protected void clearBoxes(){\n     @Override\n     public boolean onKeyDown(int keyCode, KeyEvent event){\n         if (keyCode == KeyEvent.KEYCODE_BACK && event.getRepeatCount()== 0){\n-            if (ACTION_REQUEST_WITH_RESULT.equals(getIntent().getAction()) ||\n-                    ACTION_CHECK_WITH_RESULT.equals(getIntent().getAction())) {\n+            if(ACTION_CHECK.equals(getIntent().getAction()) && Build.VERSION.SDK_INT>=21){", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "babf64f5e91eb28e5bb0435d5eca1b9158eadc09"}, "originalPosition": 14}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "830e84df3889599b2df136ac85f1414a761ef584", "author": {"user": {"login": "Kuuuna98", "name": "KwonYuna"}}, "url": "https://github.com/nextcloud/android/commit/830e84df3889599b2df136ac85f1414a761ef584", "committedDate": "2020-11-24T09:39:52Z", "message": "replaced \"21\" with \"Build.VERSION_CODES.LOLLIPOP\""}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3NTY5MjIy", "url": "https://github.com/nextcloud/android/pull/7372#pullrequestreview-537569222", "createdAt": "2020-11-24T14:51:31Z", "commit": {"oid": "830e84df3889599b2df136ac85f1414a761ef584"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTM3Njc2ODY5", "url": "https://github.com/nextcloud/android/pull/7372#pullrequestreview-537676869", "createdAt": "2020-11-24T16:12:11Z", "commit": {"oid": "830e84df3889599b2df136ac85f1414a761ef584"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4410, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}