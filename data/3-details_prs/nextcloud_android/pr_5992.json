{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDEyMTQwNTY2", "number": 5992, "title": "New design (UI) - Sort and Gridview switch Bar", "bodyText": "Hello :)\nI added the sort button and Gridview switch like mockup: #5207 (comment)\nThis new bar and the FAB hides during scroll.\nWhy FAB? Because you can't press the menu button of the last item in the list.\n\nI haven't removed the menu. To already validate this feature.\nNormally it should have less spotbugs.\nResolves #6009", "createdAt": "2020-05-01T13:56:56Z", "url": "https://github.com/nextcloud/android/pull/5992", "merged": true, "mergeCommit": {"oid": "4a764ff616e9341287e84052f863f42578bae4ed"}, "closed": true, "closedAt": "2020-05-06T20:08:45Z", "author": {"login": "JorisBodin"}, "timelineItems": {"totalCount": 16, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcdB5r8AH2gAyNDEyMTQwNTY2OjBhYWU4OWRkYjUwZTAzZmFjMzZiNmI2MTBlYjM2YzNlNDU3MWIyYzI=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcep0t9AH2gAyNDEyMTQwNTY2OjhjMWM4MDNiOWRkMjZhMjQ0MjRhOTk1ZjI4ZmUyOGY2NGJjODBhYzc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "0aae89ddb50e03fac36b6b610eb36c3e4571b2c2", "author": {"user": {"login": "JorisBodin", "name": "Joris Bodin"}}, "url": "https://github.com/nextcloud/android/commit/0aae89ddb50e03fac36b6b610eb36c3e4571b2c2", "committedDate": "2020-05-01T13:42:48Z", "message": "Add new sort and gridview switch button. Remove duplication\n\nSigned-off-by: Joris Bodin <joris.bodin@infomaniak.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "a143fdfd2798f054d11664f6d9d5d2a12278a973", "author": {"user": {"login": "JorisBodin", "name": "Joris Bodin"}}, "url": "https://github.com/nextcloud/android/commit/a143fdfd2798f054d11664f6d9d5d2a12278a973", "committedDate": "2020-05-01T13:42:49Z", "message": "Hide when scroll\n\nSigned-off-by: Joris Bodin <joris.bodin@infomaniak.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "207846ebeab22648728326041b0170ad900e9ada", "author": {"user": {"login": "JorisBodin", "name": "Joris Bodin"}}, "url": "https://github.com/nextcloud/android/commit/207846ebeab22648728326041b0170ad900e9ada", "committedDate": "2020-05-01T13:42:49Z", "message": "Reduce spotbugs\n\nSigned-off-by: Joris Bodin <joris.bodin@infomaniak.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d209c239e83aafb7428487f7131c4735b8466d4a", "author": {"user": {"login": "JorisBodin", "name": "Joris Bodin"}}, "url": "https://github.com/nextcloud/android/commit/d209c239e83aafb7428487f7131c4735b8466d4a", "committedDate": "2020-05-01T13:42:49Z", "message": "Hide FAB in scroll\n\nSigned-off-by: Joris Bodin <joris.bodin@infomaniak.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0MzIwNTIw", "url": "https://github.com/nextcloud/android/pull/5992#pullrequestreview-404320520", "createdAt": "2020-05-01T18:25:16Z", "commit": {"oid": "d209c239e83aafb7428487f7131c4735b8466d4a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxODoyNToxN1rOGPRuyA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wMVQxODoyNToxN1rOGPRuyA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxODY3MjMyOA==", "bodyText": "Can we move those into consts?", "url": "https://github.com/nextcloud/android/pull/5992#discussion_r418672328", "createdAt": "2020-05-01T18:25:17Z", "author": {"login": "ezaquarii"}, "path": "src/main/java/com/owncloud/android/ui/fragment/OCFileListFragment.java", "diffHunk": "@@ -1293,9 +1307,45 @@ private void invalidateActionMode() {\n \n \n     public void sortFiles(FileSortOrder sortOrder) {\n+        setSortButton(sortOrder);\n         mAdapter.setSortOrder(mFile, sortOrder);\n     }\n \n+    private void setSortButton(FileSortOrder sortOrder) {\n+        int nameId;\n+        switch (sortOrder.name) {\n+            case \"sort_new_to_old\":", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d209c239e83aafb7428487f7131c4735b8466d4a"}, "originalPosition": 90}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0NDUwMjg4", "url": "https://github.com/nextcloud/android/pull/5992#pullrequestreview-404450288", "createdAt": "2020-05-01T23:48:21Z", "commit": {"oid": "d209c239e83aafb7428487f7131c4735b8466d4a"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "4accfe4efab46953401509360f338332c4e0428f", "author": {"user": {"login": "JorisBodin", "name": "Joris Bodin"}}, "url": "https://github.com/nextcloud/android/commit/4accfe4efab46953401509360f338332c4e0428f", "committedDate": "2020-05-04T09:50:02Z", "message": "Improve margin and lower case button\n\nSigned-off-by: Joris Bodin <joris.bodin@infomaniak.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA0OTY0MjI0", "url": "https://github.com/nextcloud/android/pull/5992#pullrequestreview-404964224", "createdAt": "2020-05-04T13:01:42Z", "commit": {"oid": "4accfe4efab46953401509360f338332c4e0428f"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxMzowMTo0M1rOGP_POA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNFQxMzowMTo0M1rOGP_POA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQxOTQxNzkxMg==", "bodyText": "This is not needed and will be deleted after next transifex sync.\nTranslations (to other languages) need to be done on transifex.com", "url": "https://github.com/nextcloud/android/pull/5992#discussion_r419417912", "createdAt": "2020-05-04T13:01:43Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/res/values-fr/strings.xml", "diffHunk": "@@ -633,6 +633,9 @@ Attention la suppression est irr\u00e9versible.</string>\n     <string name=\"signup_with_provider\">Se connecter avec un fournisseur</string>\n     <string name=\"single_sign_on_request_token\" formatted=\"true\">Autoriser %1$s \u00e0 acc\u00e9der \u00e0 votre compte Nextcloud  %2$s ?</string>\n     <string name=\"sort_by\">Trier par</string>\n+    <string name=\"sort_by_date\">Date</string>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "4accfe4efab46953401509360f338332c4e0428f"}, "originalPosition": 4}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "29f60460bb78a3bc6d076953daa93234320235a3", "author": {"user": {"login": "JorisBodin", "name": "Joris Bodin"}}, "url": "https://github.com/nextcloud/android/commit/29f60460bb78a3bc6d076953daa93234320235a3", "committedDate": "2020-05-04T14:39:30Z", "message": "Improve ripple\n\nSigned-off-by: Joris Bodin <joris.bodin@infomaniak.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "3bc3a86354811e1e35922644c995f6f4367ecbdb", "author": {"user": {"login": "JorisBodin", "name": "Joris Bodin"}}, "url": "https://github.com/nextcloud/android/commit/3bc3a86354811e1e35922644c995f6f4367ecbdb", "committedDate": "2020-05-05T13:50:37Z", "message": "Improve sort button and hide if necessary\n\nSigned-off-by: Joris Bodin <joris.bodin@infomaniak.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1ODE3NTQ3", "url": "https://github.com/nextcloud/android/pull/5992#pullrequestreview-405817547", "createdAt": "2020-05-05T14:01:04Z", "commit": {"oid": "3bc3a86354811e1e35922644c995f6f4367ecbdb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1OTQzODA1", "url": "https://github.com/nextcloud/android/pull/5992#pullrequestreview-405943805", "createdAt": "2020-05-05T16:14:11Z", "commit": {"oid": "3bc3a86354811e1e35922644c995f6f4367ecbdb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA1OTQ2MjUy", "url": "https://github.com/nextcloud/android/pull/5992#pullrequestreview-405946252", "createdAt": "2020-05-05T16:17:01Z", "commit": {"oid": "3bc3a86354811e1e35922644c995f6f4367ecbdb"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2NjI2MDM1", "url": "https://github.com/nextcloud/android/pull/5992#pullrequestreview-406626035", "createdAt": "2020-05-06T13:43:59Z", "commit": {"oid": "3bc3a86354811e1e35922644c995f6f4367ecbdb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxMzo0Mzo1OVrOGRTqpA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxMzo0Mzo1OVrOGRTqpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDgwMTE4OA==", "bodyText": "Why is this removed?\nIf it is a valid point, please still have it in a separate PR, otherwise revert please.", "url": "https://github.com/nextcloud/android/pull/5992#discussion_r420801188", "createdAt": "2020-05-06T13:43:59Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/java/com/owncloud/android/ui/activity/SyncedFoldersActivity.java", "diffHunk": "@@ -233,7 +232,6 @@ private boolean onDisablePowerSaveCheckClicked(MenuItem powerCheck) {\n \n     private void showPowerCheckDialog() {\n         AlertDialog alertDialog = new AlertDialog.Builder(this)\n-            .setView(findViewById(R.id.root_layout))", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3bc3a86354811e1e35922644c995f6f4367ecbdb"}, "originalPosition": 12}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA2NjMwMDU2", "url": "https://github.com/nextcloud/android/pull/5992#pullrequestreview-406630056", "createdAt": "2020-05-06T13:48:06Z", "commit": {"oid": "3bc3a86354811e1e35922644c995f6f4367ecbdb"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxMzo0ODowN1rOGRT3kg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0wNlQxMzo0ODowN1rOGRT3kg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMDgwNDQ5OA==", "bodyText": "Just a minor nitpick:\n\nm is a legacy way of showing a member variable of a class (which is accessible in whole class)\nwe try to get rid of the m prefix, as it is shown by AndroidStudio\n\nYou can also combine it to SortingOredDialogFragment.newInstance(\u2026).show(\u2026).\n(with a wrap after .newInstance(\u2026) for readability", "url": "https://github.com/nextcloud/android/pull/5992#discussion_r420804498", "createdAt": "2020-05-06T13:48:07Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/java/com/owncloud/android/utils/DisplayUtils.java", "diffHunk": "@@ -740,4 +745,12 @@ static public void showErrorAndFinishActivity(Activity activity, String errorMes\n         Toast.makeText(activity, errorMessage, Toast.LENGTH_LONG).show();\n         activity.finish();\n     }\n+\n+    static public void openSortingOrderDialogFragment(FragmentManager supportFragmentManager, FileSortOrder sortOrder) {\n+        FragmentTransaction fragmentTransaction = supportFragmentManager.beginTransaction();\n+        fragmentTransaction.addToBackStack(null);\n+\n+        SortingOrderDialogFragment mSortingOrderDialogFragment = SortingOrderDialogFragment.newInstance(sortOrder);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "3bc3a86354811e1e35922644c995f6f4367ecbdb"}, "originalPosition": 28}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "8c1c803b9dd26a24424a995f28fe28f64bc80ac7", "author": {"user": {"login": "JorisBodin", "name": "Joris Bodin"}}, "url": "https://github.com/nextcloud/android/commit/8c1c803b9dd26a24424a995f28fe28f64bc80ac7", "committedDate": "2020-05-06T14:47:30Z", "message": "Refactor and readd unnecessary id\n\nSigned-off-by: Joris Bodin <joris.bodin@infomaniak.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4605, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}