{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDczNDI3Nzgx", "number": 6807, "title": "Fix insert image file picker only opens once", "bodyText": "When no image is selected from the intent we should set onReceiveValue to null and uploadMessage to null otherwise it does not open after closing it without selecting an image.\nTesting\nWriting tests is very important. Please try to write some tests for your PR.\nIf you need help, please do not hesitate to ask in this PR for help.\nunit tests\ninstrumented tests\nUI tests\n\n Tests written, or not not needed", "createdAt": "2020-08-25T19:51:50Z", "url": "https://github.com/nextcloud/android/pull/6807", "merged": true, "mergeCommit": {"oid": "8fc2bcdab0b2a308cf801baf97d1b929aa5bcd3e"}, "closed": true, "closedAt": "2020-08-26T07:10:31Z", "author": {"login": "merttumer"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdCcsp4AH2gAyNDczNDI3NzgxOmUzNzYzNWU2MDJkZmViNDAyMDdkNGVhYTgxYjM1NjNkNjMxMTk0Nzk=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdCmaMMgFqTQ3NTIwOTI3MA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "e37635e602dfeb40207d4eaa81b3563d63119479", "author": {"user": {"login": "merttumer", "name": "Mert T\u00fcmer"}}, "url": "https://github.com/nextcloud/android/commit/e37635e602dfeb40207d4eaa81b3563d63119479", "committedDate": "2020-08-25T19:51:12Z", "message": "Fix insert image file picker only opens once\n\nWhen no image is selected from the intent we should set onReceiveValue to null and uploadMessage to null otherwise it does not open after closing it without selecting an image."}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc0ODA1NTYw", "url": "https://github.com/nextcloud/android/pull/6807#pullrequestreview-474805560", "createdAt": "2020-08-25T19:55:01Z", "commit": {"oid": "e37635e602dfeb40207d4eaa81b3563d63119479"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxOTo1NTowMVrOHGnfiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wOC0yNVQxOTo1NTowMVrOHGnfiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ3NjcwMDU1NQ==", "bodyText": "Codacy found an issue: Assigning an Object to null is a code smell.  Consider refactoring.", "url": "https://github.com/nextcloud/android/pull/6807#discussion_r476700555", "createdAt": "2020-08-25T19:55:01Z", "author": {"login": "nextcloud-android-bot"}, "path": "src/main/java/com/owncloud/android/ui/activity/RichDocumentsEditorWebView.java", "diffHunk": "@@ -144,7 +144,10 @@ private void openFileChooser() {\n     @Override\n     protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n         if (RESULT_OK != resultCode) {\n-            // TODO\n+            if (requestCode == REQUEST_LOCAL_FILE) {\n+                this.uploadMessage.onReceiveValue(null);\n+                this.uploadMessage = null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "e37635e602dfeb40207d4eaa81b3563d63119479"}, "originalPosition": 7}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDc1MjA5Mjcw", "url": "https://github.com/nextcloud/android/pull/6807#pullrequestreview-475209270", "createdAt": "2020-08-26T07:10:05Z", "commit": {"oid": "e37635e602dfeb40207d4eaa81b3563d63119479"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4466, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}