{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDA4Mjc2NTMy", "number": 5927, "title": "Bump shot from 3.1.0 to 4.1.1", "bodyText": "Bumps shot from 3.1.0 to 4.1.1.\n\nRelease notes\nSourced from shot's releases.\n\nFix crash by runtime exception thrown by the Facebook library\nNo release notes provided.\nFirst shot-android release and major library usability improvements.\nInclude shot-android module as part of the plugin implementation.\nProvide a custom test runner and a handy interface to write tests.\nImprove documentation with the new tools ready to use.\nImproved flavor support and update tasks names change\nThis release contains major breaking changes related to Shot configuration and also updates the name of the tasks created by Shot when the plugin is configured. This major release also simplifies the configuration of this gradle plugin so there is no need to specify the app id and the testing target to use. In case of any doubt review the project READEM.md file or feel free to ask the contributors anything.\n\n\n\nCommits\n\nc8f1f32 Prepare release 4.1.1\n6a3b698 Prepare next development iteeration\n3495efd Prepare release 4.1.0\nb59a5fa Improve documentation and main screenshot test interface\n19ec35b Merge pull request #98 from Karumi/integrate-new-shot-android-module\n9b82ed2 Merge pull request #99 from hamorillo/master\n5273662 Cursor test simplified\n74a583a Implemented new activity with just an editText\na5ccb01 Removed unnecessary imports\n1f08788 Refactor disable flaky test\nAdditional commits viewable in compare view\n\n\n\n\nDependabot will resolve any conflicts with this PR as long as you don't alter it yourself. You can also trigger a rebase manually by commenting @dependabot rebase.\nDependabot will merge this PR once CI passes on it, as requested by @AndyScherzinger.\n\n\nDependabot commands and options\n\nYou can trigger Dependabot actions by commenting on this PR:\n\n@dependabot rebase will rebase this PR\n@dependabot recreate will recreate this PR, overwriting any edits that have been made to it\n@dependabot merge will merge this PR after your CI passes on it\n@dependabot squash and merge will squash and merge this PR after your CI passes on it\n@dependabot cancel merge will cancel a previously requested merge and block automerging\n@dependabot reopen will reopen this PR if it is closed\n@dependabot close will close this PR and stop Dependabot recreating it. You can achieve the same result by closing it manually\n@dependabot ignore this major version will close this PR and stop Dependabot creating any more for this major version (unless you reopen the PR or upgrade to it yourself)\n@dependabot ignore this minor version will close this PR and stop Dependabot creating any more for this minor version (unless you reopen the PR or upgrade to it yourself)\n@dependabot ignore this dependency will close this PR and stop Dependabot creating any more for this dependency (unless you reopen the PR or upgrade to it yourself)\n@dependabot use these labels will set the current labels as the default for future PRs for this repo and language\n@dependabot use these reviewers will set the current reviewers as the default for future PRs for this repo and language\n@dependabot use these assignees will set the current assignees as the default for future PRs for this repo and language\n@dependabot use this milestone will set the current milestone as the default for future PRs for this repo and language\n@dependabot badge me will comment on this PR with code to add a \"Dependabot enabled\" badge to your readme\n\nAdditionally, you can set the following in your Dependabot dashboard:\n\nUpdate frequency (including time of day and day of week)\nPull request limits (per update run and/or open at any time)\nAutomerge options (never/patch/minor, and dev/runtime dependencies)\nOut-of-range updates (receive only lockfile updates, if desired)\nSecurity updates (receive only security updates, if desired)", "createdAt": "2020-04-24T01:13:03Z", "url": "https://github.com/nextcloud/android/pull/5927", "merged": true, "mergeCommit": {"oid": "b996cced68f30203414ce0a158df65ce976ddaa1"}, "closed": true, "closedAt": "2020-06-05T06:40:28Z", "author": {"login": "dependabot-preview"}, "timelineItems": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABccI7WtAFqTQwMjEzOTU1OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABcoMaIDgFqTQyNTAxOTMwMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDAyMTM5NTU4", "url": "https://github.com/nextcloud/android/pull/5927#pullrequestreview-402139558", "createdAt": "2020-04-28T19:20:02Z", "commit": {"oid": "42f743f7e9fd98edae895269307dc6061369cb61"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "42f743f7e9fd98edae895269307dc6061369cb61", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/42f743f7e9fd98edae895269307dc6061369cb61", "committedDate": "2020-04-28T15:39:39Z", "message": "drone/ updateScreenshot update\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "7221131e037c266a06f381bb615c454eb3373109", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/7221131e037c266a06f381bb615c454eb3373109", "committedDate": "2020-04-29T11:55:19Z", "message": "drone/ updateScreenshot update\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7221131e037c266a06f381bb615c454eb3373109", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/7221131e037c266a06f381bb615c454eb3373109", "committedDate": "2020-04-29T11:55:19Z", "message": "drone/ updateScreenshot update\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "49042f198c6dab670d2a4efce9ce72030517bbb4", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/49042f198c6dab670d2a4efce9ce72030517bbb4", "committedDate": "2020-05-08T12:03:46Z", "message": "drone/ updateScreenshot update\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "49042f198c6dab670d2a4efce9ce72030517bbb4", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/49042f198c6dab670d2a4efce9ce72030517bbb4", "committedDate": "2020-05-08T12:03:46Z", "message": "drone/ updateScreenshot update\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "19487c363a02dc907c16a862f50d5aa2d4d93873", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/19487c363a02dc907c16a862f50d5aa2d4d93873", "committedDate": "2020-05-08T13:28:01Z", "message": "drone/ updateScreenshot update\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "19487c363a02dc907c16a862f50d5aa2d4d93873", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/19487c363a02dc907c16a862f50d5aa2d4d93873", "committedDate": "2020-05-08T13:28:01Z", "message": "drone/ updateScreenshot update\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "07d8458a6471b0f8979a52034bd51aac164ec361", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/07d8458a6471b0f8979a52034bd51aac164ec361", "committedDate": "2020-05-27T15:06:18Z", "message": "drone/ updateScreenshot update\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "1ebf094889e385a435322645fe8e07214cac0775", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/1ebf094889e385a435322645fe8e07214cac0775", "committedDate": "2020-06-03T09:23:21Z", "message": "wip\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "e53b08461d2185fe9125e12a1506e007a8781b97", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/e53b08461d2185fe9125e12a1506e007a8781b97", "committedDate": "2020-06-03T09:24:23Z", "message": "wip\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "16b59010fb6f04fcca4880d55034ba4d89cefa76", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/16b59010fb6f04fcca4880d55034ba4d89cefa76", "committedDate": "2020-06-04T08:12:35Z", "message": "wip\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "30ee8fc1c2fd5fde012b2ed004475dd06ebf3e35", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/30ee8fc1c2fd5fde012b2ed004475dd06ebf3e35", "committedDate": "2020-06-04T11:34:24Z", "message": "wip\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ee6e5311b83e62ba92ba5dd52bdd01ce530961b7", "author": {"user": {"login": "dependabot-preview[bot]", "name": null}}, "url": "https://github.com/nextcloud/android/commit/ee6e5311b83e62ba92ba5dd52bdd01ce530961b7", "committedDate": "2020-06-05T06:06:42Z", "message": "Bump shot from 3.1.0 to 4.1.1\n\nBumps [shot](https://github.com/karumi/shot) from 3.1.0 to 4.1.1.\n- [Release notes](https://github.com/karumi/shot/releases)\n- [Changelog](https://github.com/Karumi/Shot/blob/master/release.gradle)\n- [Commits](https://github.com/karumi/shot/compare/3.1.0...4.1.1)\n\nSigned-off-by: dependabot-preview[bot] <support@dependabot.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d0f3a00637a99ee6a618961b67dd6eb365d33388", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/d0f3a00637a99ee6a618961b67dd6eb365d33388", "committedDate": "2020-06-05T06:06:42Z", "message": "drone/ updateScreenshot update\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "80d83e47214f99c4704345761db4e0d0e372f0d8", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/80d83e47214f99c4704345761db4e0d0e372f0d8", "committedDate": "2020-06-05T06:06:42Z", "message": "split up unit&IT tests from screenshot tests\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "30ee8fc1c2fd5fde012b2ed004475dd06ebf3e35", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/30ee8fc1c2fd5fde012b2ed004475dd06ebf3e35", "committedDate": "2020-06-04T11:34:24Z", "message": "wip\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "80d83e47214f99c4704345761db4e0d0e372f0d8", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/80d83e47214f99c4704345761db4e0d0e372f0d8", "committedDate": "2020-06-05T06:06:42Z", "message": "split up unit&IT tests from screenshot tests\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1MDE5Mjkz", "url": "https://github.com/nextcloud/android/pull/5927#pullrequestreview-425019293", "createdAt": "2020-06-05T06:10:25Z", "commit": {"oid": "80d83e47214f99c4704345761db4e0d0e372f0d8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQwNjoxMDoyNVrOGfhjaA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQwNjoxMDoyNVrOGfhjaA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTcwODc3Ng==", "bodyText": "Issue found: This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?", "url": "https://github.com/nextcloud/android/pull/5927#discussion_r435708776", "createdAt": "2020-06-05T06:10:25Z", "author": {"login": "nextcloud-android-bot"}, "path": "scripts/updateScreenshots.sh", "diffHunk": "@@ -29,55 +29,84 @@ if [[ $IP = \"\" ]]; then\n fi\n \n ## wait for server to finish\n-scripts/wait_for_server.sh $IP\n-\n-## run on server\n-cp gradle.properties gradle.properties_\n-sed -i s\"/server/$IP/\" gradle.properties\n-scripts/wait_for_emulator.sh\n+scripts/wait_for_server.sh \"$IP\"\n \n # setup test server\n+docker exec uiComparison /bin/sh -c \"echo $IP server >> /etc/hosts\"\n docker exec uiComparison /bin/sh -c \"su www-data -c \\\"OC_PASS=user1 php /var/www/html/occ user:add --password-from-env --display-name='User One' user1\\\"\"\n docker exec uiComparison /bin/sh -c \"su www-data -c \\\"OC_PASS=user2 php /var/www/html/occ user:add --password-from-env --display-name='User Two' user2\\\"\"\n docker exec uiComparison /bin/sh -c \"su www-data -c \\\"OC_PASS=user3 php /var/www/html/occ user:add --password-from-env --display-name='User Three' user3\\\"\"\n docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ user:setting user2 files quota 1G\\\"\"\n docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ group:add users\\\"\"\n docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ group:adduser users user1\\\"\"\n docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ group:adduser users user2\\\"\"\n+docker exec uiComparison /bin/sh -c \"su www-data -c \\\"git clone -b master https://github.com/nextcloud/activity.git /var/www/html/apps/activity/\\\"\"\n+docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ app:enable activity\\\"\"\n docker exec uiComparison /bin/sh -c \"su www-data -c \\\"git clone -b master https://github.com/nextcloud/text.git /var/www/html/apps/text/\\\"\"\n docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ app:enable text\\\"\"\n-docker exec uiComparison /bin/sh -c \"su www-data -c \\\"git clone -b master https://github.com/nextcloud/circles.git /var/www/html/apps/circles/\\\"\"\n-docker exec uiComparison /bin/sh -c \"apt-get update; apt-get -y install composer\"\n-docker exec uiComparison /bin/sh -c \"su www-data -c \\\"cd /var/www/html/apps/circles; composer install\\\"\"\n-docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ app:enable -f circles\\\"\"\n-docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ config:app:set circles --value 1 allow_non_ssl_links\\\"\"\n-docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ config:app:set circles --value 1 local_is_non_ssl\\\"\"\n-docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ config:system:set allow_local_remote_servers --value true --type bool\\\"\"\n-docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ circles:manage:create test public publicCircle\\\"\"\n+docker exec uiComparison /bin/sh -c \"su www-data -c \\\"git clone -b master https://github.com/nextcloud/end_to_end_encryption/  /var/www/html/apps/end_to_end_encryption/\\\"\"\n+docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ app:enable end_to_end_encryption\\\"\"\n+#docker exec uiComparison /bin/sh -c \"su www-data -c \\\"git clone -b master https://github.com/nextcloud/circles.git /var/www/html/apps/circles/\\\"\"\n+#docker exec uiComparison /bin/sh -c \"apt-get update; apt-get -y install composer\"\n+#docker exec uiComparison /bin/sh -c \"su www-data -c \\\"cd /var/www/html/apps/circles; composer install\\\"\"\n+#docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ app:enable -f circles\\\"\"\n+#docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ config:app:set circles --value 1 allow_non_ssl_links\\\"\"\n+#docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ config:app:set circles --value 1 local_is_non_ssl\\\"\"\n+#docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ config:system:set allow_local_remote_servers --value true --type bool\\\"\"\n+#docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ circles:manage:create test public publicCircle\\\"\"\n docker exec uiComparison /bin/sh -c \"/usr/local/bin/run.sh\"\n \n+## wait for server to finish\n+scripts/wait_for_server.sh \"$IP\"\n+\n+scripts/wait_for_emulator.sh\n+\n+# change server to ip on emulator\n+adb root\n+sleep 2\n+adb remount\n+sleep 2\n+adb shell \"mount -o remount,rw /system\"\n+sleep 2\n+adb shell \"echo $IP server >> /system/etc/hosts\"\n+\n+sed -i s'#<bool name=\"is_beta\">false</bool>#<bool name=\"is_beta\">true</bool>#'g src/main/res/values/setup.xml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80d83e47214f99c4704345761db4e0d0e372f0d8"}, "originalPosition": 88}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDI1MDE5MzAx", "url": "https://github.com/nextcloud/android/pull/5927#pullrequestreview-425019301", "createdAt": "2020-06-05T06:10:27Z", "commit": {"oid": "80d83e47214f99c4704345761db4e0d0e372f0d8"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQwNjoxMDoyN1rOGfhjbg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNVQwNjoxMDoyN1rOGfhjbg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTcwODc4Mg==", "bodyText": "Issue found: This word is outside of quotes. Did you intend to 'nest '\"'single quotes'\"' instead'?", "url": "https://github.com/nextcloud/android/pull/5927#discussion_r435708782", "createdAt": "2020-06-05T06:10:27Z", "author": {"login": "nextcloud-android-bot"}, "path": "scripts/updateScreenshots.sh", "diffHunk": "@@ -29,55 +29,84 @@ if [[ $IP = \"\" ]]; then\n fi\n \n ## wait for server to finish\n-scripts/wait_for_server.sh $IP\n-\n-## run on server\n-cp gradle.properties gradle.properties_\n-sed -i s\"/server/$IP/\" gradle.properties\n-scripts/wait_for_emulator.sh\n+scripts/wait_for_server.sh \"$IP\"\n \n # setup test server\n+docker exec uiComparison /bin/sh -c \"echo $IP server >> /etc/hosts\"\n docker exec uiComparison /bin/sh -c \"su www-data -c \\\"OC_PASS=user1 php /var/www/html/occ user:add --password-from-env --display-name='User One' user1\\\"\"\n docker exec uiComparison /bin/sh -c \"su www-data -c \\\"OC_PASS=user2 php /var/www/html/occ user:add --password-from-env --display-name='User Two' user2\\\"\"\n docker exec uiComparison /bin/sh -c \"su www-data -c \\\"OC_PASS=user3 php /var/www/html/occ user:add --password-from-env --display-name='User Three' user3\\\"\"\n docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ user:setting user2 files quota 1G\\\"\"\n docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ group:add users\\\"\"\n docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ group:adduser users user1\\\"\"\n docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ group:adduser users user2\\\"\"\n+docker exec uiComparison /bin/sh -c \"su www-data -c \\\"git clone -b master https://github.com/nextcloud/activity.git /var/www/html/apps/activity/\\\"\"\n+docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ app:enable activity\\\"\"\n docker exec uiComparison /bin/sh -c \"su www-data -c \\\"git clone -b master https://github.com/nextcloud/text.git /var/www/html/apps/text/\\\"\"\n docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ app:enable text\\\"\"\n-docker exec uiComparison /bin/sh -c \"su www-data -c \\\"git clone -b master https://github.com/nextcloud/circles.git /var/www/html/apps/circles/\\\"\"\n-docker exec uiComparison /bin/sh -c \"apt-get update; apt-get -y install composer\"\n-docker exec uiComparison /bin/sh -c \"su www-data -c \\\"cd /var/www/html/apps/circles; composer install\\\"\"\n-docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ app:enable -f circles\\\"\"\n-docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ config:app:set circles --value 1 allow_non_ssl_links\\\"\"\n-docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ config:app:set circles --value 1 local_is_non_ssl\\\"\"\n-docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ config:system:set allow_local_remote_servers --value true --type bool\\\"\"\n-docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ circles:manage:create test public publicCircle\\\"\"\n+docker exec uiComparison /bin/sh -c \"su www-data -c \\\"git clone -b master https://github.com/nextcloud/end_to_end_encryption/  /var/www/html/apps/end_to_end_encryption/\\\"\"\n+docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ app:enable end_to_end_encryption\\\"\"\n+#docker exec uiComparison /bin/sh -c \"su www-data -c \\\"git clone -b master https://github.com/nextcloud/circles.git /var/www/html/apps/circles/\\\"\"\n+#docker exec uiComparison /bin/sh -c \"apt-get update; apt-get -y install composer\"\n+#docker exec uiComparison /bin/sh -c \"su www-data -c \\\"cd /var/www/html/apps/circles; composer install\\\"\"\n+#docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ app:enable -f circles\\\"\"\n+#docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ config:app:set circles --value 1 allow_non_ssl_links\\\"\"\n+#docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ config:app:set circles --value 1 local_is_non_ssl\\\"\"\n+#docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ config:system:set allow_local_remote_servers --value true --type bool\\\"\"\n+#docker exec uiComparison /bin/sh -c \"su www-data -c \\\"php /var/www/html/occ circles:manage:create test public publicCircle\\\"\"\n docker exec uiComparison /bin/sh -c \"/usr/local/bin/run.sh\"\n \n+## wait for server to finish\n+scripts/wait_for_server.sh \"$IP\"\n+\n+scripts/wait_for_emulator.sh\n+\n+# change server to ip on emulator\n+adb root\n+sleep 2\n+adb remount\n+sleep 2\n+adb shell \"mount -o remount,rw /system\"\n+sleep 2\n+adb shell \"echo $IP server >> /system/etc/hosts\"\n+\n+sed -i s'#<bool name=\"is_beta\">false</bool>#<bool name=\"is_beta\">true</bool>#'g src/main/res/values/setup.xml\n+\n ## update/create all screenshots\n-./gradlew executeScreenshotTests -Precord\n+#./gradlew gplayDebugExecuteScreenshotTests -Precord \\\n+#-Pandroid.testInstrumentationRunnerArguments.annotation=com.owncloud.android.utils.ScreenshotTest\n \n ## update screenshots in a class\n-#./gradlew executeScreenshotTests \\\n+#./gradlew gplayDebugExecuteScreenshotTests \\\n #-Precord \\\n #-Pandroid.testInstrumentationRunnerArguments.class=\\\n #com.owncloud.android.ui.dialog.SyncFileNotEnoughSpaceDialogFragmentTest\n \n ## update single screenshot within a class\n-#./gradlew executeScreenshotTests \\\n+#./gradlew gplayDebugExecuteScreenshotTests \\\n #-Precord \\\n #-Pandroid.testInstrumentationRunnerArguments.class=\\\n-#com.owncloud.android.ui.dialog.SyncFileNotEnoughSpaceDialogFragmentTest#showNotEnoughSpaceDialogForFile\n+#com.nextcloud.client.FileDisplayActivityIT#showShares\n+\n+resultCode=-1\n+retryCount=0\n+until [ $resultCode -eq 0 ] || [ $retryCount -gt 2 ]\n+do\n+  # test all screenshots\n+  ./gradlew gplayDebugExecuteScreenshotTests \\\n+  -Pandroid.testInstrumentationRunnerArguments.annotation=com.owncloud.android.utils.ScreenshotTest\n+\n+resultCode=$?\n+((retryCount++))\n+done\n \n-mv gradle.properties_ gradle.properties\n+sed -i s'#<bool name=\"is_beta\">true</bool>#<bool name=\"is_beta\">false</bool>#'g src/main/res/values/setup.xml", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "80d83e47214f99c4704345761db4e0d0e372f0d8"}, "originalPosition": 123}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4709, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}