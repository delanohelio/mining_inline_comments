{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxOTY5NTI4", "number": 5707, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxNTowMDo0OVrODtJr9g==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxNTowNDo0MFrODtJzLQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4NjcxMjIyOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/owncloud/android/ui/adapter/DiskLruImageCache.java", "isResolved": false, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxNTowMDo0OVrOF-aJ0w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQwOTozODoyMVrOGAwlbA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk4NDUzMQ==", "bodyText": "InputStream indoesn't get closed\nclosing buffIn and in should probably be handled in a finally block too (like above)", "url": "https://github.com/nextcloud/android/pull/5707#discussion_r400984531", "createdAt": "2020-03-31T15:00:49Z", "author": {"login": "AndyScherzinger"}, "path": "src/main/java/com/owncloud/android/ui/adapter/DiskLruImageCache.java", "diffHunk": "@@ -116,9 +180,9 @@ public Bitmap getBitmap(String key) {\n             }\n             final InputStream in = snapshot.getInputStream(0);\n             if (in != null) {\n-                final BufferedInputStream buffIn =\n-                        new BufferedInputStream(in, IO_BUFFER_SIZE);\n+                final BufferedInputStream buffIn = new BufferedInputStream(in, IO_BUFFER_SIZE);\n                 bitmap = BitmapFactory.decodeStream(buffIn);\n+                buffIn.close();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d8a440d1a580a3d932e6d2bc7026379cf0b6066"}, "originalPosition": 98}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ0OTE5Ng==", "bodyText": "Changed", "url": "https://github.com/nextcloud/android/pull/5707#discussion_r403449196", "createdAt": "2020-04-04T09:38:21Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/java/com/owncloud/android/ui/adapter/DiskLruImageCache.java", "diffHunk": "@@ -116,9 +180,9 @@ public Bitmap getBitmap(String key) {\n             }\n             final InputStream in = snapshot.getInputStream(0);\n             if (in != null) {\n-                final BufferedInputStream buffIn =\n-                        new BufferedInputStream(in, IO_BUFFER_SIZE);\n+                final BufferedInputStream buffIn = new BufferedInputStream(in, IO_BUFFER_SIZE);\n                 bitmap = BitmapFactory.decodeStream(buffIn);\n+                buffIn.close();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk4NDUzMQ=="}, "originalCommit": {"oid": "6d8a440d1a580a3d932e6d2bc7026379cf0b6066"}, "originalPosition": 98}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjQ4NjczMDY5OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/owncloud/android/ui/preview/PreviewImageFragment.java", "isResolved": false, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0zMVQxNTowNDo0MFrOF-aVkA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0wNFQwOTo0MjozOFrOGAwm8A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk4NzUzNg==", "bodyText": "Annotate with @Nullable since return can be null?", "url": "https://github.com/nextcloud/android/pull/5707#discussion_r400987536", "createdAt": "2020-03-31T15:04:40Z", "author": {"login": "AndyScherzinger"}, "path": "src/main/java/com/owncloud/android/ui/preview/PreviewImageFragment.java", "diffHunk": "@@ -306,6 +309,26 @@ public void onStart() {\n         }\n     }\n \n+    private Bitmap getResizedBitmap(OCFile file, int width, int height) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "6d8a440d1a580a3d932e6d2bc7026379cf0b6066"}, "originalPosition": 73}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ0OTIyNA==", "bodyText": "Totally true, we need to somehow enforce this.", "url": "https://github.com/nextcloud/android/pull/5707#discussion_r403449224", "createdAt": "2020-04-04T09:38:37Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/java/com/owncloud/android/ui/preview/PreviewImageFragment.java", "diffHunk": "@@ -306,6 +309,26 @@ public void onStart() {\n         }\n     }\n \n+    private Bitmap getResizedBitmap(OCFile file, int width, int height) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk4NzUzNg=="}, "originalCommit": {"oid": "6d8a440d1a580a3d932e6d2bc7026379cf0b6066"}, "originalPosition": 73}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMzQ0OTU4NA==", "bodyText": "https://developer.android.com/studio/write/annotations#nullability-analysis\nI'll give this a try.", "url": "https://github.com/nextcloud/android/pull/5707#discussion_r403449584", "createdAt": "2020-04-04T09:42:38Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/java/com/owncloud/android/ui/preview/PreviewImageFragment.java", "diffHunk": "@@ -306,6 +309,26 @@ public void onStart() {\n         }\n     }\n \n+    private Bitmap getResizedBitmap(OCFile file, int width, int height) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwMDk4NzUzNg=="}, "originalCommit": {"oid": "6d8a440d1a580a3d932e6d2bc7026379cf0b6066"}, "originalPosition": 73}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3134, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}