{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDI2OTg1MjQw", "number": 6203, "reviewThreads": {"totalCount": 5, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMDoyMTo0MVrOECF9WA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMDozMzo1MFrOECGMdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwNjMwMjMyOnYy", "diffSide": "LEFT", "path": "src/main/java/com/owncloud/android/ui/fragment/OCFileListFragment.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMDoyMTo0MVrOGeVlbQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQwNjowNjowMFrOGe3AKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQ2NDEwOQ==", "bodyText": "Why you remove search ?", "url": "https://github.com/nextcloud/android/pull/6203#discussion_r434464109", "createdAt": "2020-06-03T10:21:41Z", "author": {"login": "JorisBodin"}, "path": "src/main/java/com/owncloud/android/ui/fragment/OCFileListFragment.java", "diffHunk": "@@ -796,26 +784,20 @@ public void onPrepareOptionsMenu(@NonNull Menu menu) {\n                 break;\n \n             case REMOVE_SEARCH:\n-                menu.removeItem(R.id.action_search);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "319da713e5beb2610679d25b818eca1f6a9810b1"}, "originalPosition": 34}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTAxMTYyNg==", "bodyText": "No idea \ud83d\ude48\nAdded back \ud83d\udc4d", "url": "https://github.com/nextcloud/android/pull/6203#discussion_r435011626", "createdAt": "2020-06-04T06:06:00Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/java/com/owncloud/android/ui/fragment/OCFileListFragment.java", "diffHunk": "@@ -796,26 +784,20 @@ public void onPrepareOptionsMenu(@NonNull Menu menu) {\n                 break;\n \n             case REMOVE_SEARCH:\n-                menu.removeItem(R.id.action_search);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQ2NDEwOQ=="}, "originalCommit": {"oid": "319da713e5beb2610679d25b818eca1f6a9810b1"}, "originalPosition": 34}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwNjMyMDYxOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/owncloud/android/ui/fragment/OCFileListFragment.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMDoyNzozNlrOGeVxZw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMDoyNzozNlrOGeVxZw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQ2NzE3NQ==", "bodyText": "I prefere use \"requireContext()\" :)\nrequireContext() will throw an exception if fragment isn\u2019t attached to its host", "url": "https://github.com/nextcloud/android/pull/6203#discussion_r434467175", "createdAt": "2020-06-03T10:27:36Z", "author": {"login": "JorisBodin"}, "path": "src/main/java/com/owncloud/android/ui/fragment/OCFileListFragment.java", "diffHunk": "@@ -1287,7 +1269,7 @@ private void updateLayout() {\n             switchToListView();\n         }\n \n-        setSortButton(preferences.getSortOrderByFolder(mFile));\n+        DisplayUtils.setSortButton(mSortButton, preferences.getSortOrderByFolder(mFile), getContext());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "319da713e5beb2610679d25b818eca1f6a9810b1"}, "originalPosition": 62}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwNjMyNTIxOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/owncloud/android/ui/preview/PreviewTextFileFragment.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMDoyOTowM1rOGeV0dg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQwNjowODo0NlrOGe3Dsw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQ2Nzk1OA==", "bodyText": "\"action_sort\" is not removed?", "url": "https://github.com/nextcloud/android/pull/6203#discussion_r434467958", "createdAt": "2020-06-03T10:29:03Z", "author": {"login": "JorisBodin"}, "path": "src/main/java/com/owncloud/android/ui/preview/PreviewTextFileFragment.java", "diffHunk": "@@ -287,12 +287,10 @@ public void onPrepareOptionsMenu(@NotNull Menu menu) {\n             menu.findItem(R.id.action_unset_favorite)\n         );\n \n-        Boolean dualPane = getResources().getBoolean(R.bool.large_land_layout);\n+        boolean dualPane = getResources().getBoolean(R.bool.large_land_layout);\n \n         if (!dualPane) {\n-            FileMenuFilter.hideMenuItems(menu.findItem(R.id.action_switch_view),\n-                                         menu.findItem(R.id.action_sort)\n-            );\n+            FileMenuFilter.hideMenuItems(menu.findItem(R.id.action_sort));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "319da713e5beb2610679d25b818eca1f6a9810b1"}, "originalPosition": 11}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTAxMjUzMQ==", "bodyText": "Ops.\nAfter all changes I will go over whole project and remove all action_sort action_switch\u2026\nThanks for finding", "url": "https://github.com/nextcloud/android/pull/6203#discussion_r435012531", "createdAt": "2020-06-04T06:08:46Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/java/com/owncloud/android/ui/preview/PreviewTextFileFragment.java", "diffHunk": "@@ -287,12 +287,10 @@ public void onPrepareOptionsMenu(@NotNull Menu menu) {\n             menu.findItem(R.id.action_unset_favorite)\n         );\n \n-        Boolean dualPane = getResources().getBoolean(R.bool.large_land_layout);\n+        boolean dualPane = getResources().getBoolean(R.bool.large_land_layout);\n \n         if (!dualPane) {\n-            FileMenuFilter.hideMenuItems(menu.findItem(R.id.action_switch_view),\n-                                         menu.findItem(R.id.action_sort)\n-            );\n+            FileMenuFilter.hideMenuItems(menu.findItem(R.id.action_sort));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQ2Nzk1OA=="}, "originalCommit": {"oid": "319da713e5beb2610679d25b818eca1f6a9810b1"}, "originalPosition": 11}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwNjMyNTcwOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/owncloud/android/ui/preview/PreviewTextStringFragment.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMDoyOToxMFrOGeV0vg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMDoyOToxMFrOGeV0vg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQ2ODAzMA==", "bodyText": "\"action_sort\" is not removed?", "url": "https://github.com/nextcloud/android/pull/6203#discussion_r434468030", "createdAt": "2020-06-03T10:29:10Z", "author": {"login": "JorisBodin"}, "path": "src/main/java/com/owncloud/android/ui/preview/PreviewTextStringFragment.java", "diffHunk": "@@ -145,7 +145,6 @@ public void onPrepareOptionsMenu(@NonNull Menu menu) {\n         super.onPrepareOptionsMenu(menu);\n \n         menu.findItem(R.id.action_sort).setVisible(false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "319da713e5beb2610679d25b818eca1f6a9810b1"}, "originalPosition": 3}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjcwNjM0MTAyOnYy", "diffSide": "RIGHT", "path": "src/main/java/com/owncloud/android/ui/activity/UploadFilesActivity.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wM1QxMDozMzo1MFrOGeV-ZA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0wNFQwODowODoxMFrOGe6g_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQ3MDUwMA==", "bodyText": "We can not extract this in DisplayUtils? OCFileListFragment use setGridSwitchButton :)", "url": "https://github.com/nextcloud/android/pull/6203#discussion_r434470500", "createdAt": "2020-06-03T10:33:50Z", "author": {"login": "JorisBodin"}, "path": "src/main/java/com/owncloud/android/ui/activity/UploadFilesActivity.java", "diffHunk": "@@ -170,15 +172,32 @@ public void onCreate(Bundle savedInstanceState) {\n         mFileListFragment = (LocalFileListFragment) getSupportFragmentManager().findFragmentById(R.id.local_files_list);\n \n         // Set input controllers\n-        MaterialButton mCancelButton = findViewById(R.id.upload_files_btn_cancel);\n-        mCancelButton.setTextColor(ThemeUtils.primaryColor(this, true));\n-        mCancelButton.setOnClickListener(this);\n+        MaterialButton cancelButton = findViewById(R.id.upload_files_btn_cancel);\n+        cancelButton.setTextColor(ThemeUtils.primaryColor(this, true));\n+        cancelButton.setOnClickListener(this);\n+\n+        MaterialButton uploadButton = findViewById(R.id.upload_files_btn_upload);\n+        uploadButton.setBackgroundTintMode(PorterDuff.Mode.SRC_ATOP);\n+        uploadButton.setBackgroundTintList(ColorStateList.valueOf(ThemeUtils.primaryColor(this, true)));\n+        uploadButton.setTextColor(ThemeUtils.fontColor(this, false));\n+        uploadButton.setOnClickListener(this);\n+\n+        sortButton = findViewById(R.id.sort_button);\n+        FileSortOrder fileSortOrder = preferences.getSortOrderByType(FileSortOrder.Type.uploadFilesView);\n+        DisplayUtils.setSortButton(sortButton, fileSortOrder, this);\n+        sortButton.setOnClickListener(l -> openSortingOrderDialogFragment(getSupportFragmentManager(), fileSortOrder));\n+\n+        MaterialButton switchButton = findViewById(R.id.switch_grid_view_button);\n+        switchButton.setOnClickListener(l -> {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "319da713e5beb2610679d25b818eca1f6a9810b1"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTAxMTQyMQ==", "bodyText": "Check if is a grid view is different, so we cannot use it 1:1.", "url": "https://github.com/nextcloud/android/pull/6203#discussion_r435011421", "createdAt": "2020-06-04T06:05:19Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/java/com/owncloud/android/ui/activity/UploadFilesActivity.java", "diffHunk": "@@ -170,15 +172,32 @@ public void onCreate(Bundle savedInstanceState) {\n         mFileListFragment = (LocalFileListFragment) getSupportFragmentManager().findFragmentById(R.id.local_files_list);\n \n         // Set input controllers\n-        MaterialButton mCancelButton = findViewById(R.id.upload_files_btn_cancel);\n-        mCancelButton.setTextColor(ThemeUtils.primaryColor(this, true));\n-        mCancelButton.setOnClickListener(this);\n+        MaterialButton cancelButton = findViewById(R.id.upload_files_btn_cancel);\n+        cancelButton.setTextColor(ThemeUtils.primaryColor(this, true));\n+        cancelButton.setOnClickListener(this);\n+\n+        MaterialButton uploadButton = findViewById(R.id.upload_files_btn_upload);\n+        uploadButton.setBackgroundTintMode(PorterDuff.Mode.SRC_ATOP);\n+        uploadButton.setBackgroundTintList(ColorStateList.valueOf(ThemeUtils.primaryColor(this, true)));\n+        uploadButton.setTextColor(ThemeUtils.fontColor(this, false));\n+        uploadButton.setOnClickListener(this);\n+\n+        sortButton = findViewById(R.id.sort_button);\n+        FileSortOrder fileSortOrder = preferences.getSortOrderByType(FileSortOrder.Type.uploadFilesView);\n+        DisplayUtils.setSortButton(sortButton, fileSortOrder, this);\n+        sortButton.setOnClickListener(l -> openSortingOrderDialogFragment(getSupportFragmentManager(), fileSortOrder));\n+\n+        MaterialButton switchButton = findViewById(R.id.switch_grid_view_button);\n+        switchButton.setOnClickListener(l -> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQ3MDUwMA=="}, "originalCommit": {"oid": "319da713e5beb2610679d25b818eca1f6a9810b1"}, "originalPosition": 39}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNTA2OTE4MA==", "bodyText": "For setIcon no?", "url": "https://github.com/nextcloud/android/pull/6203#discussion_r435069180", "createdAt": "2020-06-04T08:08:10Z", "author": {"login": "JorisBodin"}, "path": "src/main/java/com/owncloud/android/ui/activity/UploadFilesActivity.java", "diffHunk": "@@ -170,15 +172,32 @@ public void onCreate(Bundle savedInstanceState) {\n         mFileListFragment = (LocalFileListFragment) getSupportFragmentManager().findFragmentById(R.id.local_files_list);\n \n         // Set input controllers\n-        MaterialButton mCancelButton = findViewById(R.id.upload_files_btn_cancel);\n-        mCancelButton.setTextColor(ThemeUtils.primaryColor(this, true));\n-        mCancelButton.setOnClickListener(this);\n+        MaterialButton cancelButton = findViewById(R.id.upload_files_btn_cancel);\n+        cancelButton.setTextColor(ThemeUtils.primaryColor(this, true));\n+        cancelButton.setOnClickListener(this);\n+\n+        MaterialButton uploadButton = findViewById(R.id.upload_files_btn_upload);\n+        uploadButton.setBackgroundTintMode(PorterDuff.Mode.SRC_ATOP);\n+        uploadButton.setBackgroundTintList(ColorStateList.valueOf(ThemeUtils.primaryColor(this, true)));\n+        uploadButton.setTextColor(ThemeUtils.fontColor(this, false));\n+        uploadButton.setOnClickListener(this);\n+\n+        sortButton = findViewById(R.id.sort_button);\n+        FileSortOrder fileSortOrder = preferences.getSortOrderByType(FileSortOrder.Type.uploadFilesView);\n+        DisplayUtils.setSortButton(sortButton, fileSortOrder, this);\n+        sortButton.setOnClickListener(l -> openSortingOrderDialogFragment(getSupportFragmentManager(), fileSortOrder));\n+\n+        MaterialButton switchButton = findViewById(R.id.switch_grid_view_button);\n+        switchButton.setOnClickListener(l -> {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzNDQ3MDUwMA=="}, "originalCommit": {"oid": "319da713e5beb2610679d25b818eca1f6a9810b1"}, "originalPosition": 39}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3333, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}