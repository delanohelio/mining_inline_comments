{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE1OTU0MzE4", "number": 6042, "title": "New design (UI) - Favorite and \"downloaded\" icons alignment", "bodyText": "Hi,\nAlways based on the following mockups : #5207 (comment).\nThe favorite icon is now aligned on the top right, and the downloaded icon on the bottom right of the thumbnail.\nThe \"Floating\" effect is normal for folders, because the folder icon doesn't take all the thumbnail reserved/available space.\nHere is the alignment proof :\n\nAnd here is the difference with \"now\":\n\n\n\nBefore\nAfter\n\n\n\n\n\n\n\n\n\nSigned-off-by: Kilian Pe\u0301risset kilian.perisset@infomaniak.com\nTesting\nWriting tests is very important. Please try to write some tests for your PR.\nIf you need help, please do not hesitate to ask in this PR for help.\nunit tests\ninstrumented tests\nUI tests\n\n Tests written, or not not needed", "createdAt": "2020-05-11T08:42:38Z", "url": "https://github.com/nextcloud/android/pull/6042", "merged": true, "mergeCommit": {"oid": "ab99e71c410c7e3e67f722212e5834d3ce00c447"}, "closed": true, "closedAt": "2020-05-12T13:41:32Z", "author": {"login": "Kilian-Perisset"}, "timelineItems": {"totalCount": 6, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgLaoPAH2gAyNDE1OTU0MzE4OjAxM2Y3ZDJmY2FkMGQxMTNjZTMxMThmZWI5MDZkNTY4MGM5OWUwNjc=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcgh-GEgFqTQwOTkxOTY1Ng==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "013f7d2fcad0d113ce3118feb906d5680c99e067", "author": {"user": {"login": "Kilian-Perisset", "name": "Kilian P\u00e9risset"}}, "url": "https://github.com/nextcloud/android/commit/013f7d2fcad0d113ce3118feb906d5680c99e067", "committedDate": "2020-05-11T08:29:42Z", "message": "Aligned the files icons\n\nSigned-off-by: Kilian Pe\u0301risset <kilian.perisset@infomaniak.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5MzM5NDY3", "url": "https://github.com/nextcloud/android/pull/6042#pullrequestreview-409339467", "createdAt": "2020-05-11T16:35:51Z", "commit": {"oid": "013f7d2fcad0d113ce3118feb906d5680c99e067"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5ODgzODIz", "url": "https://github.com/nextcloud/android/pull/6042#pullrequestreview-409883823", "createdAt": "2020-05-12T09:55:11Z", "commit": {"oid": "013f7d2fcad0d113ce3118feb906d5680c99e067"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwOTo1NToxMlrOGT_I7A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xMlQwOTo1NToxMlrOGT_I7A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyMzYxMDYwNA==", "bodyText": "Here you use a fixed with, but then use wrap_content for height.\nThis could, in theory, lead to a too high image, or?\nMaybe it is better to re-use the old \"@dimen/list_item_local_file_indicator_layout_height\" ?", "url": "https://github.com/nextcloud/android/pull/6042#discussion_r423610604", "createdAt": "2020-05-12T09:55:12Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/res/layout/list_item.xml", "diffHunk": "@@ -22,65 +22,73 @@\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"@dimen/standard_list_item_size\"\n     android:background=\"@drawable/list_selector\"\n+    android:baselineAligned=\"false\"\n     android:descendantFocusability=\"blocksDescendants\"\n     android:foreground=\"?android:attr/selectableItemBackground\"\n-    android:baselineAligned=\"false\"\n     android:orientation=\"horizontal\">\n \n-    <RelativeLayout\n+    <androidx.constraintlayout.widget.ConstraintLayout\n         android:layout_width=\"@dimen/standard_list_item_size\"\n         android:layout_height=\"@dimen/standard_list_item_size\"\n-        android:paddingStart=\"@dimen/zero\"\n-        android:paddingTop=\"@dimen/standard_padding\"\n-        android:paddingEnd=\"@dimen/standard_quarter_padding\"\n-        android:paddingBottom=\"@dimen/standard_padding\">\n+        android:layout_marginStart=\"@dimen/zero\"\n+        android:layout_marginEnd=\"@dimen/standard_quarter_padding\"\n+        android:layout_marginBottom=\"@dimen/standard_padding\">\n+\n+        <ImageView\n+            android:id=\"@+id/thumbnail\"\n+            android:layout_width=\"@dimen/file_icon_size\"\n+            android:layout_height=\"@dimen/file_icon_size\"\n+            android:contentDescription=\"@null\"\n+            android:src=\"@drawable/folder\"\n+            app:layout_constraintBottom_toBottomOf=\"parent\"\n+            app:layout_constraintEnd_toEndOf=\"parent\"\n+            app:layout_constraintStart_toStartOf=\"parent\"\n+            app:layout_constraintTop_toTopOf=\"parent\" />\n \n-        <FrameLayout\n+        <RelativeLayout\n             android:id=\"@+id/shimmer_view_container\"\n             android:layout_width=\"wrap_content\"\n             android:layout_height=\"wrap_content\"\n             android:layout_centerInParent=\"true\"\n-            android:layout_marginStart=\"@dimen/standard_half_margin\">\n+            app:layout_constraintBottom_toBottomOf=\"parent\"\n+            app:layout_constraintEnd_toEndOf=\"parent\"\n+            app:layout_constraintStart_toStartOf=\"parent\"\n+            app:layout_constraintTop_toTopOf=\"parent\">\n \n             <com.elyeproj.loaderviewlibrary.LoaderImageView\n                 android:id=\"@+id/thumbnail_shimmer\"\n-                android:layout_width=\"@dimen/file_icon_size\"\n-                android:layout_height=\"@dimen/file_icon_size\"\n+                android:layout_width=\"wrap_content\"\n+                android:layout_height=\"wrap_content\"\n                 android:layout_marginStart=\"@dimen/standard_half_margin\"\n                 android:visibility=\"gone\"\n                 app:corners=\"8\" />\n \n-            <ImageView\n-                android:id=\"@+id/thumbnail\"\n-                android:layout_width=\"@dimen/file_icon_size\"\n-                android:layout_height=\"@dimen/file_icon_size\"\n-                android:layout_marginStart=\"@dimen/standard_half_margin\"\n-                android:contentDescription=\"@null\"\n-                android:src=\"@drawable/folder\"/>\n-        </FrameLayout>\n-\n-        <ImageView\n-            android:id=\"@+id/favorite_action\"\n-            android:layout_width=\"@dimen/list_item_favorite_action_layout_width\"\n-            android:layout_height=\"@dimen/list_item_favorite_action_layout_height\"\n-            android:layout_alignParentTop=\"true\"\n-            android:layout_alignParentEnd=\"true\"\n-            android:layout_marginEnd=\"@dimen/standard_quarter_margin\"\n-            android:contentDescription=\"@string/favorite\"\n-            android:src=\"@drawable/favorite\" />\n+        </RelativeLayout>\n \n         <ImageView\n             android:id=\"@+id/localFileIndicator\"\n             android:layout_width=\"@dimen/list_item_local_file_indicator_layout_width\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "013f7d2fcad0d113ce3118feb906d5680c99e067"}, "originalPosition": 77}]}}, {"__typename": "PullRequestCommit", "commit": {"oid": "bb805f681b6c71aaeb91a8f64681573f02b04c19", "author": {"user": {"login": "Kilian-Perisset", "name": "Kilian P\u00e9risset"}}, "url": "https://github.com/nextcloud/android/commit/bb805f681b6c71aaeb91a8f64681573f02b04c19", "committedDate": "2020-05-12T10:01:44Z", "message": "Implemented a fixed width for local file indicator\n\nSigned-off-by: Kilian Pe\u0301risset <kilian.perisset@infomaniak.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5OTAzNTIz", "url": "https://github.com/nextcloud/android/pull/6042#pullrequestreview-409903523", "createdAt": "2020-05-12T10:22:41Z", "commit": {"oid": "bb805f681b6c71aaeb91a8f64681573f02b04c19"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDA5OTE5NjU2", "url": "https://github.com/nextcloud/android/pull/6042#pullrequestreview-409919656", "createdAt": "2020-05-12T10:46:21Z", "commit": {"oid": "bb805f681b6c71aaeb91a8f64681573f02b04c19"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4616, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}