{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDU3MTA0Mjc0", "number": 6556, "title": "TrashbinActivity: viewbindings tests", "bodyText": "moved to ViewBindings\nadd UI test for error/view\n\nFollow up of #6537\nSigned-off-by: tobiasKaminsky tobias@kaminsky.me\nTesting\nWriting tests is very important. Please try to write some tests for your PR.\nIf you need help, please do not hesitate to ask in this PR for help.\nunit tests\ninstrumented tests\nUI tests\n\n Tests written, or not not needed", "createdAt": "2020-07-27T11:33:08Z", "url": "https://github.com/nextcloud/android/pull/6556", "merged": true, "mergeCommit": {"oid": "d745a2cbbfa9246b975025b5f961494cb5105370"}, "closed": true, "closedAt": "2020-08-03T18:49:51Z", "author": {"login": "tobiasKaminsky"}, "timelineItems": {"totalCount": 10, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABc5BygNAFqTQ1NTc3NjU3Nw==", "endCursor": "Y3Vyc29yOnYyOpPPAAABc7WUBuAH2gAyNDU3MTA0Mjc0OmM5ZDM2NDExMzZlY2MxMzA3YzY1ZjFhZGE2ZDRiNDA5YTMxNDBjZjM=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1Nzc2NTc3", "url": "https://github.com/nextcloud/android/pull/6556#pullrequestreview-455776577", "createdAt": "2020-07-27T13:24:49Z", "commit": {"oid": "310d9fd0f8de1ac1ad72cc8466344197663b0296"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMzoyNDo1MFrOG3iS2A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yN1QxMzoyNDo1MFrOG3iS2A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ2MDg4Njc0NA==", "bodyText": "shouldn't the parameter be named trashbinPresenter  and the assignment be done using this? (just for naming convention purposes of course)", "url": "https://github.com/nextcloud/android/pull/6556#discussion_r460886744", "createdAt": "2020-07-27T13:24:50Z", "author": {"login": "AndyScherzinger"}, "path": "src/main/java/com/owncloud/android/ui/trashbin/TrashbinActivity.java", "diffHunk": "@@ -301,29 +263,32 @@ public void removeAllFiles() {\n     @Override\n     public void showSnackbarError(int message, TrashbinFile file) {\n         if (active) {\n-            swipeListRefreshLayout.setRefreshing(false);\n-            Snackbar.make(recyclerView, String.format(getString(message), file.getFileName()), Snackbar.LENGTH_LONG)\n+            binding.swipeContainingList.setRefreshing(false);\n+            Snackbar.make(binding.list,\n+                          String.format(getString(message), file.getFileName()), Snackbar.LENGTH_LONG)\n                 .show();\n         }\n     }\n \n     @Override\n     public void showError(int message) {\n         if (active) {\n-            swipeListRefreshLayout.setRefreshing(false);\n-\n-            if (emptyContentMessage != null) {\n-                emptyContentHeadline.setText(R.string.common_error);\n-                emptyContentIcon.setImageDrawable(ResourcesCompat.getDrawable(getResources(),\n-                                                                              R.drawable.ic_list_empty_error,\n-                                                                              null));\n-                emptyContentMessage.setText(message);\n-\n-                emptyContentMessage.setVisibility(View.VISIBLE);\n-                emptyContentIcon.setVisibility(View.VISIBLE);\n-                emptyListView.setVisibility(View.VISIBLE);\n-                emptyListProgress.setVisibility(View.GONE);\n-            }\n+            binding.swipeContainingList.setRefreshing(false);\n+\n+            binding.emptyList.emptyListViewHeadline.setText(R.string.common_error);\n+            binding.emptyList.emptyListIcon.setImageDrawable(ResourcesCompat.getDrawable(getResources(),\n+                                                                                         R.drawable.ic_list_empty_error,\n+                                                                                         null));\n+            binding.emptyList.emptyListViewText.setText(message);\n+            binding.emptyList.emptyListViewText.setVisibility(View.VISIBLE);\n+            binding.emptyList.emptyListIcon.setVisibility(View.VISIBLE);\n+            binding.emptyList.emptyListView.setVisibility(View.VISIBLE);\n+            binding.emptyList.emptyListProgress.setVisibility(View.GONE);\n         }\n     }\n+\n+    @VisibleForTesting\n+    public void setTrashbinPresenter(TrashbinPresenter presenter) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "310d9fd0f8de1ac1ad72cc8466344197663b0296"}, "originalPosition": 226}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU1Nzc2NjM2", "url": "https://github.com/nextcloud/android/pull/6556#pullrequestreview-455776636", "createdAt": "2020-07-27T13:24:53Z", "commit": {"oid": "310d9fd0f8de1ac1ad72cc8466344197663b0296"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDU2MTY5NzE0", "url": "https://github.com/nextcloud/android/pull/6556#pullrequestreview-456169714", "createdAt": "2020-07-27T22:08:25Z", "commit": {"oid": "310d9fd0f8de1ac1ad72cc8466344197663b0296"}, "state": "COMMENTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "310d9fd0f8de1ac1ad72cc8466344197663b0296", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/310d9fd0f8de1ac1ad72cc8466344197663b0296", "committedDate": "2020-07-27T11:32:13Z", "message": "TrashbinActivity:\n- moved to ViewBindings\n- add UI test for error/view\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "a6bf3c6f0f9b50baf947f111d5d0a5e17a0d4234", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/a6bf3c6f0f9b50baf947f111d5d0a5e17a0d4234", "committedDate": "2020-07-29T09:46:02Z", "message": "TrashbinActivity:\n- moved to ViewBindings\n- add UI test for error/view\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2f29b7ea52379a36e7cc83d6e1cdfb743509342f", "author": {"user": {"login": "AndyScherzinger", "name": "Andy Scherzinger"}}, "url": "https://github.com/nextcloud/android/commit/2f29b7ea52379a36e7cc83d6e1cdfb743509342f", "committedDate": "2020-07-29T12:39:35Z", "message": "replace magic number with constants\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>"}, "afterCommit": {"oid": "7b3d9825ab9eb48401ba4c17af2fdcc2d849f6fd", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/7b3d9825ab9eb48401ba4c17af2fdcc2d849f6fd", "committedDate": "2020-07-29T12:47:53Z", "message": "TrashbinActivity:\n- moved to ViewBindings\n- add UI test for error/view\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7b3d9825ab9eb48401ba4c17af2fdcc2d849f6fd", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/7b3d9825ab9eb48401ba4c17af2fdcc2d849f6fd", "committedDate": "2020-07-29T12:47:53Z", "message": "TrashbinActivity:\n- moved to ViewBindings\n- add UI test for error/view\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "defdb11b280f7c4e15eafeb1fae5948bf96b2504", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/defdb11b280f7c4e15eafeb1fae5948bf96b2504", "committedDate": "2020-08-03T12:45:20Z", "message": "TrashbinActivity:\n- moved to ViewBindings\n- add UI test for error/view\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "defdb11b280f7c4e15eafeb1fae5948bf96b2504", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/defdb11b280f7c4e15eafeb1fae5948bf96b2504", "committedDate": "2020-08-03T12:45:20Z", "message": "TrashbinActivity:\n- moved to ViewBindings\n- add UI test for error/view\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "f9e55b640be754a77330fb485c726f26200b554e", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/f9e55b640be754a77330fb485c726f26200b554e", "committedDate": "2020-08-03T12:55:56Z", "message": "TrashbinActivity:\n- moved to ViewBindings\n- add UI test for error/view\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f7ab5d90dc58c1c4c31b4fcbe849689976765d88", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/f7ab5d90dc58c1c4c31b4fcbe849689976765d88", "committedDate": "2020-08-03T18:05:31Z", "message": "TrashbinActivity:\n- moved to ViewBindings\n- add UI test for error/view\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "f9e55b640be754a77330fb485c726f26200b554e", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/f9e55b640be754a77330fb485c726f26200b554e", "committedDate": "2020-08-03T12:55:56Z", "message": "TrashbinActivity:\n- moved to ViewBindings\n- add UI test for error/view\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "f7ab5d90dc58c1c4c31b4fcbe849689976765d88", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/f7ab5d90dc58c1c4c31b4fcbe849689976765d88", "committedDate": "2020-08-03T18:05:31Z", "message": "TrashbinActivity:\n- moved to ViewBindings\n- add UI test for error/view\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c9d3641136ecc1307c65f1ada6d4b409a3140cf3", "author": {"user": {"login": "AndyScherzinger", "name": "Andy Scherzinger"}}, "url": "https://github.com/nextcloud/android/commit/c9d3641136ecc1307c65f1ada6d4b409a3140cf3", "committedDate": "2020-08-03T18:27:24Z", "message": "Update screenshot due to new toolbar height\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4548, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}