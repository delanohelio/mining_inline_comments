{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDAzOTQ4NTkx", "number": 5879, "reviewThreads": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxOTozOTo0MlrODyN3eQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxOTozOTo0MlrODyN3eQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjUzOTgyNTg1OnYy", "diffSide": "RIGHT", "path": "src/main/java/com/nextcloud/client/jobs/FilesSyncWork.kt", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxOTozOTo0MlrOGGIxMQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNC0xNVQxOTozOTo0MlrOGGIxMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQwOTA4ODMwNQ==", "bodyText": "This is FilesSyncJob.java auto-converted to Kotlin + few minor stylisting tweaks to satisfy Detekt and Ktlint. There is no functional change relative to old job logic.", "url": "https://github.com/nextcloud/android/pull/5879#discussion_r409088305", "createdAt": "2020-04-15T19:39:42Z", "author": {"login": "ezaquarii"}, "path": "src/main/java/com/nextcloud/client/jobs/FilesSyncWork.kt", "diffHunk": "@@ -0,0 +1,234 @@\n+/*\n+ * Nextcloud Android client application\n+ *\n+ * @author Mario Danic\n+ * @author Chris Narkiewicz\n+ * Copyright (C) 2017 Mario Danic\n+ * Copyright (C) 2017 Nextcloud\n+ * Copyright (C) 2020 Chris Narkiewicz\n+ *\n+ * This program is free software; you can redistribute it and/or\n+ * modify it under the terms of the GNU AFFERO GENERAL PUBLIC LICENSE\n+ * License as published by the Free Software Foundation; either\n+ * version 3 of the License, or any later version.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n+ * GNU AFFERO GENERAL PUBLIC LICENSE for more details.\n+ *\n+ * You should have received a copy of the GNU Affero General Public\n+ * License along with this program.  If not, see <http://www.gnu.org/licenses/>.\n+ */\n+package com.nextcloud.client.jobs\n+\n+import android.content.ContentResolver\n+import android.content.Context\n+import android.content.res.Resources\n+import android.os.Build\n+import android.os.PowerManager\n+import android.os.PowerManager.WakeLock\n+import android.text.TextUtils\n+import androidx.exifinterface.media.ExifInterface\n+import androidx.work.Worker\n+import androidx.work.WorkerParameters\n+import com.nextcloud.client.account.UserAccountManager\n+import com.nextcloud.client.core.Clock\n+import com.nextcloud.client.device.PowerManagementService\n+import com.nextcloud.client.network.ConnectivityService\n+import com.nextcloud.client.preferences.AppPreferences\n+import com.owncloud.android.MainApp\n+import com.owncloud.android.R\n+import com.owncloud.android.datamodel.ArbitraryDataProvider\n+import com.owncloud.android.datamodel.FilesystemDataProvider\n+import com.owncloud.android.datamodel.MediaFolderType\n+import com.owncloud.android.datamodel.SyncedFolder\n+import com.owncloud.android.datamodel.SyncedFolderProvider\n+import com.owncloud.android.datamodel.UploadsStorageManager\n+import com.owncloud.android.files.services.FileUploader\n+import com.owncloud.android.lib.common.utils.Log_OC\n+import com.owncloud.android.operations.UploadFileOperation\n+import com.owncloud.android.ui.activity.SettingsActivity\n+import com.owncloud.android.utils.FileStorageUtils\n+import com.owncloud.android.utils.FilesSyncHelper\n+import com.owncloud.android.utils.MimeType\n+import com.owncloud.android.utils.MimeTypeUtil\n+import java.io.File\n+import java.text.ParsePosition\n+import java.text.SimpleDateFormat\n+import java.util.Locale\n+import java.util.TimeZone\n+\n+@Suppress(\"LongParameterList\") // legacy code\n+class FilesSyncWork(", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "93e700fc66b295bfe7d498f61263820b802210c8"}, "originalPosition": 63}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3083, "cost": 1, "resetAt": "2021-11-12T20:28:25Z"}}}