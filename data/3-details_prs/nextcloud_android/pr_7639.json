{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTM1MjM1MzU5", "number": 7639, "title": "Android view binding for notification-adapter's view holder", "bodyText": "Signed-off-by: Andy Scherzinger info@andy-scherzinger.de\nTesting\nWriting tests is very important. Please try to write some tests for your PR.\nIf you need help, please do not hesitate to ask in this PR for help.\nunit tests\ninstrumented tests\nUI tests\n\n Tests written, or not not needed", "createdAt": "2020-12-09T14:51:49Z", "url": "https://github.com/nextcloud/android/pull/7639", "merged": true, "mergeCommit": {"oid": "e930ad31e249f6382f41b65e0754af0b24b9b940"}, "closed": true, "closedAt": "2021-01-05T20:44:51Z", "author": {"login": "AndyScherzinger"}, "timelineItems": {"totalCount": 12, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdkgAfAABqjQwOTAzNTU5NTU=", "endCursor": "Y3Vyc29yOnYyOpPPAAABdtRGnDAH2gAyNTM1MjM1MzU5OjdhZmJhYjYzMzdiMDZiMGM1YmVkZmU5NzU1M2ZjZjY3ODQ3MTg3NGY=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "52f6dee3f46d971c0835d89395d8cf3951812f4f", "author": {"user": {"login": "AndyScherzinger", "name": "Andy Scherzinger"}}, "url": "https://github.com/nextcloud/android/commit/52f6dee3f46d971c0835d89395d8cf3951812f4f", "committedDate": "2020-12-09T14:50:02Z", "message": "use Android's view binding for adapter's view holder\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>"}, "afterCommit": {"oid": "ef042d92c05673d8f917f61c83ca86ee6b883dc1", "author": {"user": {"login": "AndyScherzinger", "name": "Andy Scherzinger"}}, "url": "https://github.com/nextcloud/android/commit/ef042d92c05673d8f917f61c83ca86ee6b883dc1", "committedDate": "2020-12-09T14:55:30Z", "message": "use Android's view binding for adapter's view holder\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "ef042d92c05673d8f917f61c83ca86ee6b883dc1", "author": {"user": {"login": "AndyScherzinger", "name": "Andy Scherzinger"}}, "url": "https://github.com/nextcloud/android/commit/ef042d92c05673d8f917f61c83ca86ee6b883dc1", "committedDate": "2020-12-09T14:55:30Z", "message": "use Android's view binding for adapter's view holder\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>"}, "afterCommit": {"oid": "6246aef0d56a52225ae61a5a32344564143e7013", "author": {"user": {"login": "AndyScherzinger", "name": "Andy Scherzinger"}}, "url": "https://github.com/nextcloud/android/commit/6246aef0d56a52225ae61a5a32344564143e7013", "committedDate": "2020-12-09T15:13:38Z", "message": "use Android's view binding for adapter's view holder\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MzkwMDAw", "url": "https://github.com/nextcloud/android/pull/7639#pullrequestreview-555390000", "createdAt": "2020-12-18T10:56:56Z", "commit": {"oid": "862d2369af2ca530f6b6e9b91103a35053de13df"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxMDo1Njo1NlrOIIeUeA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxMDo1Njo1NlrOIIeUeA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTc1NjI4MA==", "bodyText": "Strange indentation.\nCould be in one line, or if you want have those two parameter in two lines, they should align with \"(\"", "url": "https://github.com/nextcloud/android/pull/7639#discussion_r545756280", "createdAt": "2020-12-18T10:56:56Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/java/com/owncloud/android/ui/adapter/NotificationListAdapter.java", "diffHunk": "@@ -101,32 +98,34 @@ public void setNotificationItems(List<Notification> notificationItems) {\n     @NonNull\n     @Override\n     public NotificationViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n-        View v = LayoutInflater.from(notificationsActivity).inflate(R.layout.notification_list_item, parent, false);\n-        return new NotificationViewHolder(v);\n+        return new NotificationViewHolder(\n+            NotificationListItemBinding.inflate(LayoutInflater.from(notificationsActivity))\n+        );\n     }\n \n     @Override\n     public void onBindViewHolder(@NonNull NotificationViewHolder holder, int position) {\n         Notification notification = notificationsList.get(position);\n-        holder.dateTime.setText(DisplayUtils.getRelativeTimestamp(notificationsActivity,\n+        holder.binding.datetime.setText(DisplayUtils.getRelativeTimestamp(notificationsActivity,\n                 notification.getDatetime().getTime()));\n \n         RichObject file = notification.subjectRichParameters.get(FILE);\n         String subject = notification.getSubject();\n         if (file == null && !TextUtils.isEmpty(notification.getLink())) {\n             subject = subject + \" \u2197\";\n-            holder.subject.setTypeface(holder.subject.getTypeface(), Typeface.BOLD);\n-            holder.subject.setOnClickListener(v -> openLink(notification.getLink()));\n-            holder.subject.setText(subject);\n+            holder.binding.subject.setTypeface(holder.binding.subject.getTypeface(),\n+                                                           Typeface.BOLD);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "862d2369af2ca530f6b6e9b91103a35053de13df"}, "originalPosition": 55}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MzkwMjM4", "url": "https://github.com/nextcloud/android/pull/7639#pullrequestreview-555390238", "createdAt": "2020-12-18T10:57:19Z", "commit": {"oid": "862d2369af2ca530f6b6e9b91103a35053de13df"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxMDo1NzoxOVrOIIeVNA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMi0xOFQxMDo1NzoxOVrOIIeVNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDU0NTc1NjQ2OA==", "bodyText": "Same here.\nI would have thought that AS is doing this correct automatically?", "url": "https://github.com/nextcloud/android/pull/7639#discussion_r545756468", "createdAt": "2020-12-18T10:57:19Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/java/com/owncloud/android/ui/adapter/NotificationListAdapter.java", "diffHunk": "@@ -136,28 +135,29 @@ public void onBindViewHolder(@NonNull NotificationViewHolder holder, int positio\n             }\n         }\n \n-        holder.message.setText(notification.getMessage());\n+        holder.binding.message.setText(notification.getMessage());\n \n         if (!TextUtils.isEmpty(notification.getIcon())) {\n-            downloadIcon(notification.getIcon(), holder.icon);\n+            downloadIcon(notification.getIcon(), holder.binding.icon);\n         }\n \n         int nightModeFlag = notificationsActivity.getResources().getConfiguration().uiMode & Configuration.UI_MODE_NIGHT_MASK;\n             if (Configuration.UI_MODE_NIGHT_YES == nightModeFlag) {\n-                holder.icon.setColorFilter(Color.WHITE, PorterDuff.Mode.SRC_IN);\n+                holder.binding.icon.setColorFilter(Color.WHITE, PorterDuff.Mode.SRC_IN);\n             } else {\n-                holder.icon.setColorFilter(Color.BLACK, PorterDuff.Mode.SRC_IN);\n+                holder.binding.icon.setColorFilter(Color.BLACK, PorterDuff.Mode.SRC_IN);\n             }\n \n         setButtons(holder, notification);\n \n-        holder.dismiss.setOnClickListener(v -> new DeleteNotificationTask(client, notification, holder,\n+        holder.binding.dismiss.setOnClickListener(v -> new DeleteNotificationTask(client, notification,\n+                                                                                              holder,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "862d2369af2ca530f6b6e9b91103a35053de13df"}, "originalPosition": 98}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTU1MzkxNTA4", "url": "https://github.com/nextcloud/android/pull/7639#pullrequestreview-555391508", "createdAt": "2020-12-18T10:59:16Z", "commit": {"oid": "862d2369af2ca530f6b6e9b91103a35053de13df"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "862d2369af2ca530f6b6e9b91103a35053de13df", "author": {"user": null}, "url": "https://github.com/nextcloud/android/commit/862d2369af2ca530f6b6e9b91103a35053de13df", "committedDate": "2020-12-09T15:39:00Z", "message": "Drone: update Lint results to reflect reduced error/warning count [skip ci]\n\nSigned-off-by: drone <noreply@drone>"}, "afterCommit": {"oid": "15deaade449e9a7b35aa1636667c75a049a98641", "author": {"user": null}, "url": "https://github.com/nextcloud/android/commit/15deaade449e9a7b35aa1636667c75a049a98641", "committedDate": "2021-01-05T12:47:30Z", "message": "Drone: update Lint results to reflect reduced error/warning count [skip ci]\n\nSigned-off-by: drone <noreply@drone>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTYxNzYwMDM4", "url": "https://github.com/nextcloud/android/pull/7639#pullrequestreview-561760038", "createdAt": "2021-01-05T12:47:54Z", "commit": {"oid": "15deaade449e9a7b35aa1636667c75a049a98641"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c085ab32334c41df6014d5a8feadc6e93cc7984d", "author": {"user": {"login": "AndyScherzinger", "name": "Andy Scherzinger"}}, "url": "https://github.com/nextcloud/android/commit/c085ab32334c41df6014d5a8feadc6e93cc7984d", "committedDate": "2021-01-05T20:12:34Z", "message": "use Android's view binding for adapter's view holder\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "ce861ee170c25ec086990513f7d51b8422fa0266", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/ce861ee170c25ec086990513f7d51b8422fa0266", "committedDate": "2021-01-05T20:12:35Z", "message": "Format code\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "620a008b3414ed087293e16929acb0aa3895422e", "author": {"user": {"login": "AndyScherzinger", "name": "Andy Scherzinger"}}, "url": "https://github.com/nextcloud/android/commit/620a008b3414ed087293e16929acb0aa3895422e", "committedDate": "2021-01-05T20:16:23Z", "message": "reformat code\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "e97175e7e0c7dcdfc257b09874ad21a13a409f8a", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/e97175e7e0c7dcdfc257b09874ad21a13a409f8a", "committedDate": "2021-01-05T12:48:54Z", "message": "Format code\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "620a008b3414ed087293e16929acb0aa3895422e", "author": {"user": {"login": "AndyScherzinger", "name": "Andy Scherzinger"}}, "url": "https://github.com/nextcloud/android/commit/620a008b3414ed087293e16929acb0aa3895422e", "committedDate": "2021-01-05T20:16:23Z", "message": "reformat code\n\nSigned-off-by: Andy Scherzinger <info@andy-scherzinger.de>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "7afbab6337b06b0c5bedfe97553fcf678471874f", "author": {"user": null}, "url": "https://github.com/nextcloud/android/commit/7afbab6337b06b0c5bedfe97553fcf678471874f", "committedDate": "2021-01-05T20:39:26Z", "message": "Drone: update Lint results to reflect reduced error/warning count [skip ci]\n\nSigned-off-by: drone <noreply@drone>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4383, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}