{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE2NDI3MTQ1", "number": 6048, "title": "New download manager", "bodyText": "New download service is a complete rewrite of a legacy FileDownloader service.\nSync code uses old solution - this PR does not replace it as it would be too much work and risk to swallow.\nSmall comparison of old vs new downloader design:\n\n\n\nOld\nNew\n\n\n\n\nUsing broadcast intents for state notifications\nPlain listeners\n\n\nUI must track broadcast history\nNo UI state\n\n\nState transferred via type unsafe Intents\nImmutable, strongly typed data model\n\n\nNo test coverage\nFull test coverage\n\n\nMulti-user state management\nEvery user has private downloader instance\n\n\nSingle threaded downloads\nMulti-threaded downloads\n\n\nNo single source of truth\nSingle source of truth regarding all downlaods\n\n\nDownloader async logic depends on Android API\nAsync logic uses generic concurrency API\n\n\n\nLiveData<T> - not used in the service anymore\nLiveData<T> is an observable value of type T that integrates with Android life-cycle mess. It's a relatively new API introduced by Google in androidx that is meant to cut the chores of lifecycle management. It works pretty well and the only issue I have with it is that unit testing is a bit more involving.\nUpdate: I removed dependency on LiveData<T> - it was a bad idea o have it there.\nLocalConnection<S> and LocalBinder<S>\nLocalConnection and LocalBinder are generic implementations of platform ServiceConnection and Binder that everybody re-implements over and over again in the same form. It also provies a good dumping ground for typed service interaction API in general, so we can address #5866 for services this way. We already used this approach in PlayerServiceConnection.kt (extracted from legacy Java inline implementation).\nApart from that, we need a connection object as a facade for Service, because Service instance is created asynchonously and might (will) not be available when UI wants to interact with it.\nDownloader interface\nI managed to extract public downloader API and calls can be nicely delegated through all layers -> connector -> binder -> user downloader processor. All layers use the same interface.\nDownloaderConnection\nThis component expsoses very vanilla API to the underlying Android Service mess, hiding all asynchronous issues behind a boring interface.\nUpdates are delivered using vanilla listener API (addListener()/removeListener(), so every\ndeveloper should be familiar with them. API solves problematic missed updates issue caused by asynchronous start/binding races, so no more any need for messaging bus pattern to deliver updates reliably.\nIf we'd like to expose LiveData<T> interface to the UI, this is the place to do it.\nDownloaderService\nThis is a proposed replacement for FileDownloader service. Apart from cleaner code, it will\nkeep per-user Downloader instance and automatically terminate when all downloads are finished.\nAsyncRunner\nAsyncRunner is a replacement for AsyncTask that uses generic Java concurrency API and does not require any subclassing (tasks are just lambdas or functions so can be tested easily, contrary to AsyncTask being virtually untestable piece of global state). Also, AsyncTask API is officially deprecated by Google in favour of `java.util.concurrent' APIs.\nThis PR extends the API by adding progress and task cancelation, as those will be needed to provide adequate UX.\nMockK\nMockK is a Mockito, but in Kotlin. I introduced it because I find Mockito unable to mock Kotlin classes on Dalvik (it works in test, but not in androidTest). There is some weird issue with bytecode generator and I'm still investigating it. MockK has some nice properties, like support for co-routines, but the community behind it is smaller. Mockito is more mature, but the android support seems to still be rather poorly maintained. I do not commit myself to use it - I needed something to move forward with unit tests.\nDexOpener\nMocking final classes Android below P (API <= 27) is not possible, which makes testing very troublesome. Android 28+ has out-of-the-box support for mocking, but our CI runs tests on older versions.\nDexOpener is installed by instrumentation test runner and removes final attribute, enabling mocking of Kotlin classes.\nContactListFragment - proof of concept use\nContacts imports has been migrated to a new API. To test it:\n\nbackup your contacts\nSettings->Show hidden files\nnavigate to contacts backup dir and delete backup locally\ngo to Settings->Back up contacts->Choose date\n\nContacts will be downloaded using proposed downloader service.\nMockUser\nSadly, using mockito to mock User interface will blow up when actually trying to parcel it into Intent (mock does no contain proper Parcelable implementation, obviously).\nThis litle helper provides a true implementation mock to be used in connected tests.\nEtmDownloaderFragment and test mode\nETM page to test the downloader. Any download request can be scheduled with a test flag true - this triggers \"fake\" download task that just Thread.sleep() and pushes some progress. One can use it for logic testing or UI work.\nNotificationsManager\nDownloader service must be switched to foreground and that requires a notifcation. I ported some notification code that is smeared in FileDownloader and placed it behind an interface.\nNotifications requires some more work, as the UX is not great - it contains too much redundant text and not enough interesting information. Also, new downloader architecture allows us potentially to show multiple downloads, download transfer rate, number of pending files, etc, etc... We can do more.", "createdAt": "2020-05-12T01:07:30Z", "url": "https://github.com/nextcloud/android/pull/6048", "merged": true, "mergeCommit": {"oid": "4f97110ab34875904ab4b573dc91a4341c469c3f"}, "closed": true, "closedAt": "2020-07-20T10:52:50Z", "author": {"login": "ezaquarii"}, "timelineItems": {"totalCount": 33, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcgtd28ABqjMzMjk3ODk3NTY=", "endCursor": "Y3Vyc29yOnYyOpPPAAABc2vFQGAFqTQ1MTQ4NTM5OA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "77feaaf615ffd8408d69858f0aff4a739916949d", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/77feaaf615ffd8408d69858f0aff4a739916949d", "committedDate": "2020-05-12T00:44:18Z", "message": "New download manager"}, "afterCommit": {"oid": "a7248338efa5f756a29014a14dddc6000e400e4a", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/a7248338efa5f756a29014a14dddc6000e400e4a", "committedDate": "2020-05-13T00:09:21Z", "message": "New download manager"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a7248338efa5f756a29014a14dddc6000e400e4a", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/a7248338efa5f756a29014a14dddc6000e400e4a", "committedDate": "2020-05-13T00:09:21Z", "message": "New download manager"}, "afterCommit": {"oid": "8bf48f89244eb5a94ed23bff1406fa51d2e9d8d8", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/8bf48f89244eb5a94ed23bff1406fa51d2e9d8d8", "committedDate": "2020-05-16T23:39:10Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "8bf48f89244eb5a94ed23bff1406fa51d2e9d8d8", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/8bf48f89244eb5a94ed23bff1406fa51d2e9d8d8", "committedDate": "2020-05-16T23:39:10Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}, "afterCommit": {"oid": "bced7e3d568c665aeafd3cc4e510b006d718a762", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/bced7e3d568c665aeafd3cc4e510b006d718a762", "committedDate": "2020-05-17T00:00:47Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "bced7e3d568c665aeafd3cc4e510b006d718a762", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/bced7e3d568c665aeafd3cc4e510b006d718a762", "committedDate": "2020-05-17T00:00:47Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}, "afterCommit": {"oid": "d49295e9dd28151f45dfa428f2353987bc2d2634", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/d49295e9dd28151f45dfa428f2353987bc2d2634", "committedDate": "2020-05-17T00:02:52Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d49295e9dd28151f45dfa428f2353987bc2d2634", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/d49295e9dd28151f45dfa428f2353987bc2d2634", "committedDate": "2020-05-17T00:02:52Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}, "afterCommit": {"oid": "a59a6e01841a6d105cc425492319035d0df81423", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/a59a6e01841a6d105cc425492319035d0df81423", "committedDate": "2020-05-18T22:57:33Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6718a38b32b507e511407c4f3cb5fbb863613283", "author": {"user": null}, "url": "https://github.com/nextcloud/android/commit/6718a38b32b507e511407c4f3cb5fbb863613283", "committedDate": "2020-05-18T23:02:28Z", "message": "Drone: update FindBugs results to reflect reduced error/warning count [skip ci]\n\nSigned-off-by: nextcloud-android-bot <android@nextcloud.com>"}, "afterCommit": {"oid": "2bd5cf7a4b21e60d9bf428f3433a881b68abad9e", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/2bd5cf7a4b21e60d9bf428f3433a881b68abad9e", "committedDate": "2020-05-18T23:04:54Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2bd5cf7a4b21e60d9bf428f3433a881b68abad9e", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/2bd5cf7a4b21e60d9bf428f3433a881b68abad9e", "committedDate": "2020-05-18T23:04:54Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}, "afterCommit": {"oid": "3570a7da862a58ceb25d6a9c96117df5543867fb", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/3570a7da862a58ceb25d6a9c96117df5543867fb", "committedDate": "2020-05-19T19:11:48Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3570a7da862a58ceb25d6a9c96117df5543867fb", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/3570a7da862a58ceb25d6a9c96117df5543867fb", "committedDate": "2020-05-19T19:11:48Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}, "afterCommit": {"oid": "70ab37d17d5862a3e611344bf630e968baf61d32", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/70ab37d17d5862a3e611344bf630e968baf61d32", "committedDate": "2020-05-19T22:41:58Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1NTUzMjQ0", "url": "https://github.com/nextcloud/android/pull/6048#pullrequestreview-415553244", "createdAt": "2020-05-20T17:19:47Z", "commit": {"oid": "70ab37d17d5862a3e611344bf630e968baf61d32"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE5OTQzNTIx", "url": "https://github.com/nextcloud/android/pull/6048#pullrequestreview-419943521", "createdAt": "2020-05-28T09:41:09Z", "commit": {"oid": "70ab37d17d5862a3e611344bf630e968baf61d32"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwOTo0MTowOVrOGbtggQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yOFQwOTo0MzoyMlrOGbtlag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTcxMDMzNw==", "bodyText": "This and the next 2 lines is only needed in one special case (FDA:2255), but it should not be hardcoded.", "url": "https://github.com/nextcloud/android/pull/6048#discussion_r431710337", "createdAt": "2020-05-28T09:41:09Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/java/com/nextcloud/client/files/downloader/DownloadTask.kt", "diffHunk": "@@ -0,0 +1,103 @@\n+/*\n+ * Nextcloud Android client application\n+ *\n+ * @author Chris Narkiewicz\n+ * Copyright (C) 2020 Chris Narkiewicz <hello@ezaquarii.com>\n+ *\n+ * This program is free software: you can redistribute it and/or modify\n+ * it under the terms of the GNU Affero General Public License as published by\n+ * the Free Software Foundation, either version 3 of the License, or\n+ * (at your option) any later version.\n+ *\n+ * This program is distributed in the hope that it will be useful,\n+ * but WITHOUT ANY WARRANTY; without even the implied warranty of\n+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n+ * GNU Affero General Public License for more details.\n+ *\n+ * You should have received a copy of the GNU Affero General Public License\n+ * along with this program. If not, see <http://www.gnu.org/licenses/>.\n+ */\n+package com.nextcloud.client.files.downloader\n+\n+import android.content.ContentResolver\n+import android.content.Context\n+import com.nextcloud.client.core.IsCancelled\n+import com.owncloud.android.datamodel.FileDataStorageManager\n+import com.owncloud.android.datamodel.OCFile\n+import com.owncloud.android.lib.common.OwnCloudClient\n+import com.owncloud.android.operations.DownloadFileOperation\n+import com.owncloud.android.ui.fragment.OCFileListFragment\n+import com.owncloud.android.utils.MimeTypeUtil\n+import java.io.File\n+\n+/**\n+ * This runnable object encapsulates file download logic. It has been extracted to wrap\n+ * network operation and storage manager interactions, as those pose testing challenges\n+ * that cannot be addressed due to large number of dependencies.\n+ *\n+ * This design can be regarded as intermediary refactoring step.\n+ */\n+class DownloadTask(\n+    val context: Context,\n+    val contentResolver: ContentResolver,\n+    val clientProvider: () -> OwnCloudClient\n+) {\n+\n+    /**\n+     * This class is a helper factory to to keep static dependencies\n+     * injection out of the downloader instance.\n+     *\n+     * @param context Context\n+     * @param clientProvider Provide client - this must be called on background thread\n+     * @param contentResolver content resovler used to access file storage\n+     */\n+    class Factory(\n+        private val context: Context,\n+        private val clientProvider: () -> OwnCloudClient,\n+        private val contentResolver: ContentResolver\n+    ) {\n+        fun create(): DownloadTask {\n+            return DownloadTask(context, contentResolver, clientProvider)\n+        }\n+    }\n+\n+    fun download(request: Request, progress: (Int) -> Unit, isCancelled: IsCancelled): Boolean {\n+        val op = DownloadFileOperation(\n+            request.user.toPlatformAccount(),\n+            request.file,\n+            OCFileListFragment.DOWNLOAD_SEND,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70ab37d17d5862a3e611344bf630e968baf61d32"}, "originalPosition": 68}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzMTcxMTU5NA==", "bodyText": "With the new approach, is this roundtrip via FDSM needed, as we already have the OCFile?", "url": "https://github.com/nextcloud/android/pull/6048#discussion_r431711594", "createdAt": "2020-05-28T09:43:22Z", "author": {"login": "tobiasKaminsky"}, "path": "src/main/java/com/owncloud/android/ui/fragment/contactsbackup/ContactListFragment.java", "diffHunk": "@@ -497,19 +503,16 @@ public int hashCode() {\n         }\n     }\n \n-    private class DownloadFinishReceiver extends BroadcastReceiver {\n-\n-        @Override\n-        public void onReceive(Context context, Intent intent) {\n-            if (FileDownloader.getDownloadFinishMessage().equalsIgnoreCase(intent.getAction())) {\n-                String downloadedRemotePath = intent.getStringExtra(FileDownloader.EXTRA_REMOTE_PATH);\n-\n-                FileDataStorageManager storageManager = new FileDataStorageManager(user.toPlatformAccount(),\n-                                                                                   context.getContentResolver());\n-                ocFile = storageManager.getFileByPath(downloadedRemotePath);\n-                loadContactsTask.execute();\n-            }\n+    private Unit onDownloadUpdate(Download download) {\n+        final Activity activity = getActivity();\n+        if (download.getState() == DownloadState.COMPLETED && activity != null) {\n+            String downloadedRemotePath = download.getRequest().getFile().getRemotePath();\n+            FileDataStorageManager storageManager = new FileDataStorageManager(user.toPlatformAccount(),\n+                                                                               activity.getContentResolver());\n+            ocFile = storageManager.getFileByPath(downloadedRemotePath);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "70ab37d17d5862a3e611344bf630e968baf61d32"}, "originalPosition": 115}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "70ab37d17d5862a3e611344bf630e968baf61d32", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/70ab37d17d5862a3e611344bf630e968baf61d32", "committedDate": "2020-05-19T22:41:58Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}, "afterCommit": {"oid": "a3cba24c3f8e03946b8e8714404dbd0b52c678f8", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/a3cba24c3f8e03946b8e8714404dbd0b52c678f8", "committedDate": "2020-05-28T09:07:03Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "a3cba24c3f8e03946b8e8714404dbd0b52c678f8", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/a3cba24c3f8e03946b8e8714404dbd0b52c678f8", "committedDate": "2020-05-28T09:07:03Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}, "afterCommit": {"oid": "5ac6c0ac31131c0f8f8075207330b7a841bb723a", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/5ac6c0ac31131c0f8f8075207330b7a841bb723a", "committedDate": "2020-06-04T21:03:59Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5ac6c0ac31131c0f8f8075207330b7a841bb723a", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/5ac6c0ac31131c0f8f8075207330b7a841bb723a", "committedDate": "2020-06-04T21:03:59Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}, "afterCommit": {"oid": "13952754805d2e8573c3e6880783a45554c07ec2", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/13952754805d2e8573c3e6880783a45554c07ec2", "committedDate": "2020-06-04T21:49:45Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "13952754805d2e8573c3e6880783a45554c07ec2", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/13952754805d2e8573c3e6880783a45554c07ec2", "committedDate": "2020-06-04T21:49:45Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}, "afterCommit": {"oid": "fdb55182031ec3ee24cc7b1ab44add8b4981d8e7", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/fdb55182031ec3ee24cc7b1ab44add8b4981d8e7", "committedDate": "2020-06-04T21:53:13Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "fdb55182031ec3ee24cc7b1ab44add8b4981d8e7", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/fdb55182031ec3ee24cc7b1ab44add8b4981d8e7", "committedDate": "2020-06-04T21:53:13Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}, "afterCommit": {"oid": "5c8bc9c238167948a816b7725d754804301b568a", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/5c8bc9c238167948a816b7725d754804301b568a", "committedDate": "2020-06-04T21:57:22Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "5c8bc9c238167948a816b7725d754804301b568a", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/5c8bc9c238167948a816b7725d754804301b568a", "committedDate": "2020-06-04T21:57:22Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}, "afterCommit": {"oid": "7812cceecaa86751656dc09dd3bdc4d95ae39744", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/7812cceecaa86751656dc09dd3bdc4d95ae39744", "committedDate": "2020-06-04T22:02:42Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "7812cceecaa86751656dc09dd3bdc4d95ae39744", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/7812cceecaa86751656dc09dd3bdc4d95ae39744", "committedDate": "2020-06-04T22:02:42Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}, "afterCommit": {"oid": "168a15f2997cb5979645f5d4cf471fb2042a4743", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/168a15f2997cb5979645f5d4cf471fb2042a4743", "committedDate": "2020-06-05T21:05:02Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "168a15f2997cb5979645f5d4cf471fb2042a4743", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/168a15f2997cb5979645f5d4cf471fb2042a4743", "committedDate": "2020-06-05T21:05:02Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}, "afterCommit": {"oid": "08b1fe156a93fc94a6a500bdc3994b920cac9e51", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/08b1fe156a93fc94a6a500bdc3994b920cac9e51", "committedDate": "2020-06-06T14:17:39Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "08b1fe156a93fc94a6a500bdc3994b920cac9e51", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/08b1fe156a93fc94a6a500bdc3994b920cac9e51", "committedDate": "2020-06-06T14:17:39Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}, "afterCommit": {"oid": "6ed8a8814348c47dd8af01e199a907762b4a49eb", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/6ed8a8814348c47dd8af01e199a907762b4a49eb", "committedDate": "2020-06-19T21:31:32Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6ed8a8814348c47dd8af01e199a907762b4a49eb", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/6ed8a8814348c47dd8af01e199a907762b4a49eb", "committedDate": "2020-06-19T21:31:32Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}, "afterCommit": {"oid": "069328c04b44eceb522155e7ee15a9fa2c3bc540", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/069328c04b44eceb522155e7ee15a9fa2c3bc540", "committedDate": "2020-06-20T23:40:22Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM1MTE1MTQ3", "url": "https://github.com/nextcloud/android/pull/6048#pullrequestreview-435115147", "createdAt": "2020-06-22T17:02:49Z", "commit": {"oid": "069328c04b44eceb522155e7ee15a9fa2c3bc540"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDM5Njk4NDI4", "url": "https://github.com/nextcloud/android/pull/6048#pullrequestreview-439698428", "createdAt": "2020-06-30T06:14:55Z", "commit": {"oid": "069328c04b44eceb522155e7ee15a9fa2c3bc540"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "069328c04b44eceb522155e7ee15a9fa2c3bc540", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/069328c04b44eceb522155e7ee15a9fa2c3bc540", "committedDate": "2020-06-20T23:40:22Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}, "afterCommit": {"oid": "3bbf7e7480e498be3b79018aaf69b6d75ea018a0", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/3bbf7e7480e498be3b79018aaf69b6d75ea018a0", "committedDate": "2020-06-30T06:14:46Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "3bbf7e7480e498be3b79018aaf69b6d75ea018a0", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/3bbf7e7480e498be3b79018aaf69b6d75ea018a0", "committedDate": "2020-06-30T06:14:46Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}, "afterCommit": {"oid": "651801a98302e9def64230d956fa38515dd4a87e", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/651801a98302e9def64230d956fa38515dd4a87e", "committedDate": "2020-06-30T06:15:22Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "651801a98302e9def64230d956fa38515dd4a87e", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/651801a98302e9def64230d956fa38515dd4a87e", "committedDate": "2020-06-30T06:15:22Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "2f19f02aa7b805fc45034a0fbe6de33647451d4c", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/2f19f02aa7b805fc45034a0fbe6de33647451d4c", "committedDate": "2020-07-05T21:21:01Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "2f19f02aa7b805fc45034a0fbe6de33647451d4c", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/2f19f02aa7b805fc45034a0fbe6de33647451d4c", "committedDate": "2020-07-05T21:21:01Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}, "afterCommit": {"oid": "d528977828a09c311711ed2006113ee0c039a63d", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/d528977828a09c311711ed2006113ee0c039a63d", "committedDate": "2020-07-15T12:37:07Z", "message": "suppress lint warning\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d528977828a09c311711ed2006113ee0c039a63d", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/d528977828a09c311711ed2006113ee0c039a63d", "committedDate": "2020-07-15T12:37:07Z", "message": "suppress lint warning\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}, "afterCommit": {"oid": "71f398f784c8649ec4a81eab82bb426f8635cf35", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/71f398f784c8649ec4a81eab82bb426f8635cf35", "committedDate": "2020-07-16T21:27:26Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "71f398f784c8649ec4a81eab82bb426f8635cf35", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/71f398f784c8649ec4a81eab82bb426f8635cf35", "committedDate": "2020-07-16T21:27:26Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}, "afterCommit": {"oid": "aba95541a46648b97ca9f51ace253f2bacd83d30", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/aba95541a46648b97ca9f51ace253f2bacd83d30", "committedDate": "2020-07-16T21:49:31Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "aba95541a46648b97ca9f51ace253f2bacd83d30", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/aba95541a46648b97ca9f51ace253f2bacd83d30", "committedDate": "2020-07-16T21:49:31Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}, "afterCommit": {"oid": "d20e246314ac4832312c57e4fed6f9d8092affbb", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/d20e246314ac4832312c57e4fed6f9d8092affbb", "committedDate": "2020-07-17T07:16:48Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "75b9fa855146d0731a5ee4ae7f7e722887cc2013", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/75b9fa855146d0731a5ee4ae7f7e722887cc2013", "committedDate": "2020-07-20T10:28:47Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "5a9d5780180f4975075a5150087f7a3edab5faa0", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/5a9d5780180f4975075a5150087f7a3edab5faa0", "committedDate": "2020-07-20T10:28:50Z", "message": "supprss lint warning\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "d20e246314ac4832312c57e4fed6f9d8092affbb", "author": {"user": {"login": "ezaquarii", "name": "Chris Narkiewicz"}}, "url": "https://github.com/nextcloud/android/commit/d20e246314ac4832312c57e4fed6f9d8092affbb", "committedDate": "2020-07-17T07:16:48Z", "message": "New download manager\n\nSigned-off-by: Chris Narkiewicz <hello@ezaquarii.com>"}, "afterCommit": {"oid": "5a9d5780180f4975075a5150087f7a3edab5faa0", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/5a9d5780180f4975075a5150087f7a3edab5faa0", "committedDate": "2020-07-20T10:28:50Z", "message": "supprss lint warning\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDUxNDg1Mzk4", "url": "https://github.com/nextcloud/android/pull/6048#pullrequestreview-451485398", "createdAt": "2020-07-20T10:29:16Z", "commit": {"oid": "5a9d5780180f4975075a5150087f7a3edab5faa0"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4621, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}