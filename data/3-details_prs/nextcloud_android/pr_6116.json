{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDIwNjgyMTY5", "number": 6116, "title": "New design (UI) - Choose account dialog", "bodyText": "Hi,\nThis PR is the new Dialog to choose and manage your accounts (instead of using Drawer).\n\n\n\nDevice\nLightmode\nDarkmode\n\n\n\n\nPhone - few accounts\n\n\n\n\nPhone - many accounts\n\n\n\n\nTablet - few accounts\n\n\n\n\n\nThe general behaviour is the following :\n\nYou're able to :\n\nManage accounts\nAdd an account\n\"Take control\" of an account\n\nThe number of accounts doesn't affect the functionning of the dialog.\nThank you.\nBased on : #5207\nTesting\nWriting tests is very important. Please try to write some tests for your PR.\nIf you need help, please do not hesitate to ask in this PR for help.\nunit tests\ninstrumented tests\nUI tests\n\n Tests written, or not not needed", "createdAt": "2020-05-20T11:15:32Z", "url": "https://github.com/nextcloud/android/pull/6116", "merged": true, "mergeCommit": {"oid": "196956193d6fd74d37b2462724353f2a9651365a"}, "closed": true, "closedAt": "2020-05-26T09:50:03Z", "author": {"login": "Kilian-Perisset"}, "timelineItems": {"totalCount": 19, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcjIMJCAFqTQxNTI3ODk5OA==", "endCursor": "Y3Vyc29yOnYyOpPPAAABclBMjnAH2gAyNDIwNjgyMTY5OmQ1NGE3NDAzZDM1OGM0NzNhMTU0NmRiNTY0YWM3MmE3MjY5NDNlODc=", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1Mjc4OTk4", "url": "https://github.com/nextcloud/android/pull/6116#pullrequestreview-415278998", "createdAt": "2020-05-20T12:25:56Z", "commit": {"oid": "aba7a2851bf2825e27bf958da23cf072810dd95a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMjoyNTo1NlrOGYJDEA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMjoyNTo1NlrOGYJDEA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzk2NzI0OA==", "bodyText": "should be on a new line", "url": "https://github.com/nextcloud/android/pull/6116#discussion_r427967248", "createdAt": "2020-05-20T12:25:56Z", "author": {"login": "AndyScherzinger"}, "path": "src/main/java/com/owncloud/android/ui/adapter/UserListAdapter.java", "diffHunk": "@@ -68,13 +67,14 @@\n     public static final int KEY_USER_INFO_REQUEST_CODE = 13;\n     private ClickListener clickListener;\n     private boolean showAddAccount;\n+    private boolean showDotsMenu;\n \n     public UserListAdapter(BaseActivity context,\n                            UserAccountManager accountManager,\n                            List<UserListItem> values,\n                            Drawable tintedCheck,\n                            ClickListener clickListener,\n-                           boolean showAddAccount) {\n+                           boolean showAddAccount, boolean showDotsMenu) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aba7a2851bf2825e27bf958da23cf072810dd95a"}, "originalPosition": 20}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1Mjc5NDkz", "url": "https://github.com/nextcloud/android/pull/6116#pullrequestreview-415279493", "createdAt": "2020-05-20T12:26:34Z", "commit": {"oid": "aba7a2851bf2825e27bf958da23cf072810dd95a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMjoyNjozNFrOGYJEiw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMjoyNjozNFrOGYJEiw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzk2NzYyNw==", "bodyText": "should be on a new line", "url": "https://github.com/nextcloud/android/pull/6116#discussion_r427967627", "createdAt": "2020-05-20T12:26:34Z", "author": {"login": "AndyScherzinger"}, "path": "src/main/java/com/owncloud/android/ui/dialog/MultipleAccountsDialog.java", "diffHunk": "@@ -95,7 +95,7 @@ public Dialog onCreateDialog(Bundle savedInstanceState) {\n                                                       getAccountListItems(),\n                                                       tintedCheck,\n                                                       this,\n-                                                      false);\n+                                                      false, false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aba7a2851bf2825e27bf958da23cf072810dd95a"}, "originalPosition": 5}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1Mjc5OTcy", "url": "https://github.com/nextcloud/android/pull/6116#pullrequestreview-415279972", "createdAt": "2020-05-20T12:27:10Z", "commit": {"oid": "aba7a2851bf2825e27bf958da23cf072810dd95a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMjoyNzoxMFrOGYJGEQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMjoyNzoxMFrOGYJGEQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzk2ODAxNw==", "bodyText": "could you hit \"formatting\" for the file? :)", "url": "https://github.com/nextcloud/android/pull/6116#discussion_r427968017", "createdAt": "2020-05-20T12:27:10Z", "author": {"login": "AndyScherzinger"}, "path": "src/main/res/drawable/ic_check_circle.xml", "diffHunk": "@@ -1,9 +1,5 @@\n-<vector xmlns:android=\"http://schemas.android.com/apk/res/android\"\n-    android:width=\"24dp\"\n-    android:height=\"24dp\"\n-    android:viewportWidth=\"24\"\n-    android:viewportHeight=\"24\">\n-    <path\n-        android:fillColor=\"#FF000000\"\n-        android:pathData=\"M12,2C6.48,2 2,6.48 2,12s4.48,10 10,10 10,-4.48 10,-10S17.52,2 12,2zM10,17l-5,-5 1.41,-1.41L10,14.17l7.59,-7.59L19,8l-9,9z\" />\n+<vector android:height=\"24dp\" android:tint=\"#4995FB\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aba7a2851bf2825e27bf958da23cf072810dd95a"}, "originalPosition": 9}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1MjgwMzQy", "url": "https://github.com/nextcloud/android/pull/6116#pullrequestreview-415280342", "createdAt": "2020-05-20T12:27:38Z", "commit": {"oid": "aba7a2851bf2825e27bf958da23cf072810dd95a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMjoyNzozOVrOGYJHWw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMjoyNzozOVrOGYJHWw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzk2ODM0Nw==", "bodyText": "unneeded linebreak", "url": "https://github.com/nextcloud/android/pull/6116#discussion_r427968347", "createdAt": "2020-05-20T12:27:39Z", "author": {"login": "AndyScherzinger"}, "path": "src/main/res/layout/account_item.xml", "diffHunk": "@@ -1,10 +1,12 @@\n <?xml version=\"1.0\" encoding=\"utf-8\"?>\n+", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aba7a2851bf2825e27bf958da23cf072810dd95a"}, "originalPosition": 2}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1MjgxMTIy", "url": "https://github.com/nextcloud/android/pull/6116#pullrequestreview-415281122", "createdAt": "2020-05-20T12:28:37Z", "commit": {"oid": "aba7a2851bf2825e27bf958da23cf072810dd95a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMjoyODozN1rOGYJJvA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMjoyODozN1rOGYJJvA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzk2ODk1Ng==", "bodyText": "feel free to also add yourself as an author \u2764\ufe0f", "url": "https://github.com/nextcloud/android/pull/6116#discussion_r427968956", "createdAt": "2020-05-20T12:28:37Z", "author": {"login": "AndyScherzinger"}, "path": "src/main/res/layout/dialog_choose_account.xml", "diffHunk": "@@ -0,0 +1,97 @@\n+<!--\n+  Nextcloud Android client application\n+\n+  Copyright (C) 2020 Infomaniak Network SA", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aba7a2851bf2825e27bf958da23cf072810dd95a"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1Mjg0Njg3", "url": "https://github.com/nextcloud/android/pull/6116#pullrequestreview-415284687", "createdAt": "2020-05-20T12:33:14Z", "commit": {"oid": "aba7a2851bf2825e27bf958da23cf072810dd95a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMjozMzoxNVrOGYJU1A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMjozMzoxNVrOGYJU1A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzk3MTc5Ng==", "bodyText": "should probably match list_divider_background while that color seems to be slightly to dark (at least on dark theme). So I'd say we should unify this and only have a single divider color definition used for all dividers.\nI do like your choice #E0E0E0.", "url": "https://github.com/nextcloud/android/pull/6116#discussion_r427971796", "createdAt": "2020-05-20T12:33:15Z", "author": {"login": "AndyScherzinger"}, "path": "src/main/res/values/colors.xml", "diffHunk": "@@ -87,4 +87,7 @@\n     <color name=\"appbar\">@android:color/white</color>\n     <color name=\"fontAppbar\">#666666</color>\n     <color name=\"fontSecondaryAppbar\">#A5A5A5</color>\n+\n+    <!-- Account selection -->\n+    <color name=\"account_separator\">#E0E0E0</color>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aba7a2851bf2825e27bf958da23cf072810dd95a"}, "originalPosition": 6}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1Mjg1MzM1", "url": "https://github.com/nextcloud/android/pull/6116#pullrequestreview-415285335", "createdAt": "2020-05-20T12:34:05Z", "commit": {"oid": "aba7a2851bf2825e27bf958da23cf072810dd95a"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMjozNDowNVrOGYJWwg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0yMFQxMjozNDowNVrOGYJWwg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNzk3MjI5MA==", "bodyText": "this is basically standard_half_margin and could be used instead", "url": "https://github.com/nextcloud/android/pull/6116#discussion_r427972290", "createdAt": "2020-05-20T12:34:05Z", "author": {"login": "AndyScherzinger"}, "path": "src/main/res/values/dims.xml", "diffHunk": "@@ -145,4 +145,7 @@\n     <dimen name=\"button_corner_radius\">24dp</dimen>\n     <integer name=\"media_grid_width\">4</integer>\n     <dimen name=\"copy_internal_link_padding\">10dp</dimen>\n+    <dimen name=\"account_action_button_margin\">8dp</dimen>", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "aba7a2851bf2825e27bf958da23cf072810dd95a"}, "originalPosition": 4}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1MzM2ODYz", "url": "https://github.com/nextcloud/android/pull/6116#pullrequestreview-415336863", "createdAt": "2020-05-20T13:31:56Z", "commit": {"oid": "bb40ce040d0da8e7c13d7ae26913b3d025737df6"}, "state": "CHANGES_REQUESTED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE1NTI1MDU5", "url": "https://github.com/nextcloud/android/pull/6116#pullrequestreview-415525059", "createdAt": "2020-05-20T16:43:11Z", "commit": {"oid": "0716a3cafd5d48e24783bbb36b9061b459d85745"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NDE3ODIyNjA4", "url": "https://github.com/nextcloud/android/pull/6116#pullrequestreview-417822608", "createdAt": "2020-05-25T17:31:23Z", "commit": {"oid": "0716a3cafd5d48e24783bbb36b9061b459d85745"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}, {"__typename": "PullRequestCommit", "commit": {"oid": "127f4886cdf40a0a45d803916d002940deeef379", "author": {"user": {"login": "Kilian-Perisset", "name": "Kilian P\u00e9risset"}}, "url": "https://github.com/nextcloud/android/commit/127f4886cdf40a0a45d803916d002940deeef379", "committedDate": "2020-05-26T08:49:51Z", "message": "Implemented ChooseAccountFragment dialog + Fixed some things around accounts management\n\nSigned-off-by: Kilian Pe\u0301risset <kilian.perisset@infomaniak.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "01a597d391b5e93014615d8b31ab5770e280d329", "author": {"user": {"login": "Kilian-Perisset", "name": "Kilian P\u00e9risset"}}, "url": "https://github.com/nextcloud/android/commit/01a597d391b5e93014615d8b31ab5770e280d329", "committedDate": "2020-05-26T08:49:52Z", "message": "Aligned icons + Cleaned code + Implemented listeners\n\nSigned-off-by: Kilian Pe\u0301risset <kilian.perisset@infomaniak.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "da5983d7dbfc8d5640ef2a4fbf94dc67d0eb53f3", "author": {"user": {"login": "Kilian-Perisset", "name": "Kilian P\u00e9risset"}}, "url": "https://github.com/nextcloud/android/commit/da5983d7dbfc8d5640ef2a4fbf94dc67d0eb53f3", "committedDate": "2020-05-26T08:49:52Z", "message": "Fixed Spotbugs and KtLint reports\n\nSigned-off-by: Kilian Pe\u0301risset <kilian.perisset@infomaniak.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f41e2c80b840bb6a0e97d8067fef144537a000a6", "author": {"user": {"login": "Kilian-Perisset", "name": "Kilian P\u00e9risset"}}, "url": "https://github.com/nextcloud/android/commit/f41e2c80b840bb6a0e97d8067fef144537a000a6", "committedDate": "2020-05-26T08:49:52Z", "message": "Enhanced code syntax\n\nSigned-off-by: Kilian Pe\u0301risset <kilian.perisset@infomaniak.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "f4752cb9bb098914c50a7cc8e26f634d91acb036", "author": {"user": {"login": "Kilian-Perisset", "name": "Kilian P\u00e9risset"}}, "url": "https://github.com/nextcloud/android/commit/f4752cb9bb098914c50a7cc8e26f634d91acb036", "committedDate": "2020-05-26T08:49:53Z", "message": "Fixed definitively KTLint errors\n\nSigned-off-by: Kilian Pe\u0301risset <kilian.perisset@infomaniak.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "6e34c38da7cb58933a3dfd7b81f6f9bf4d9402d7", "author": {"user": {"login": "JorisBodin", "name": "Joris Bodin"}}, "url": "https://github.com/nextcloud/android/commit/6e34c38da7cb58933a3dfd7b81f6f9bf4d9402d7", "committedDate": "2020-05-26T08:49:53Z", "message": "Improve design\n\nSigned-off-by: Joris Bodin <joris.bodin@infomaniak.com>"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "0716a3cafd5d48e24783bbb36b9061b459d85745", "author": {"user": {"login": "JorisBodin", "name": "Joris Bodin"}}, "url": "https://github.com/nextcloud/android/commit/0716a3cafd5d48e24783bbb36b9061b459d85745", "committedDate": "2020-05-20T14:51:56Z", "message": "Improve design\n\nSigned-off-by: Joris Bodin <joris.bodin@infomaniak.com>"}, "afterCommit": {"oid": "6e34c38da7cb58933a3dfd7b81f6f9bf4d9402d7", "author": {"user": {"login": "JorisBodin", "name": "Joris Bodin"}}, "url": "https://github.com/nextcloud/android/commit/6e34c38da7cb58933a3dfd7b81f6f9bf4d9402d7", "committedDate": "2020-05-26T08:49:53Z", "message": "Improve design\n\nSigned-off-by: Joris Bodin <joris.bodin@infomaniak.com>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "c13ddaac99920e0372efbcd7462f1281dc316fcc", "author": {"user": {"login": "tobiasKaminsky", "name": "Tobias Kaminsky"}}, "url": "https://github.com/nextcloud/android/commit/c13ddaac99920e0372efbcd7462f1281dc316fcc", "committedDate": "2020-05-26T09:17:21Z", "message": "revert findbugs\n\nSigned-off-by: tobiasKaminsky <tobias@kaminsky.me>"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "d54a7403d358c473a1546db564ac72a726943e87", "author": {"user": {"login": "JorisBodin", "name": "Joris Bodin"}}, "url": "https://github.com/nextcloud/android/commit/d54a7403d358c473a1546db564ac72a726943e87", "committedDate": "2020-05-26T09:24:54Z", "message": "Fix lint\n\nSigned-off-by: Joris Bodin <joris.bodin@infomaniak.com>"}}]}}}, "rateLimit": {"limit": 5000, "remaining": 4633, "cost": 1, "resetAt": "2021-11-01T16:19:10Z"}}}