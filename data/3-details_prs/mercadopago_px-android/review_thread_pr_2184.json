{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDMyNTQ2ODQ5", "number": 2184, "reviewThreads": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNjowMToyOVrOEEXJ9w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNjo1NzoyMVrOEEYhIg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMDA5MTQzOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/ExpressPaymentFragment.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNjowMToyOVrOGh73Iw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNjoxNDoxM1rOGh8fGA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIzNjk2Mw==", "bodyText": "el presenter no deberia devolver cosas a la vista, quizas deba haber algun mecanismo de ida y vuelta onda\npresenter.onConfiguringViews()\ny en el presenter\nonConfiguringViews(){\nexperiments.add(getExperiment(1))\nexperiments.add(getExperiment(2))\nview.configurePaymentMethodHeader(experiments)\n}", "url": "https://github.com/mercadopago/px-android/pull/2184#discussion_r438236963", "createdAt": "2020-06-10T16:01:29Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/ExpressPaymentFragment.java", "diffHunk": "@@ -206,6 +208,8 @@ public void onViewCreated(@NonNull final View view, @Nullable final Bundle saved\n             renderMode = (PaymentMethodFragmentAdapter.RenderMode) savedInstanceState.getSerializable(EXTRA_RENDER_MODE);\n             presenter.recoverFromBundle(savedInstanceState);\n         }\n+        paymentMethodHeaderView.configureBadgeExperiments(presenter.getExperiment(BadgeVariant.INSTANCE));\n+        paymentMethodHeaderView.configurePulseExperiments(presenter.getExperiment(PulseVariant.INSTANCE));", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "952a69c9516de6384d1cf7bda652b2d7faaef19a"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI0NzE5Mg==", "bodyText": "Dale, lo cambio", "url": "https://github.com/mercadopago/px-android/pull/2184#discussion_r438247192", "createdAt": "2020-06-10T16:14:13Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/ExpressPaymentFragment.java", "diffHunk": "@@ -206,6 +208,8 @@ public void onViewCreated(@NonNull final View view, @Nullable final Bundle saved\n             renderMode = (PaymentMethodFragmentAdapter.RenderMode) savedInstanceState.getSerializable(EXTRA_RENDER_MODE);\n             presenter.recoverFromBundle(savedInstanceState);\n         }\n+        paymentMethodHeaderView.configureBadgeExperiments(presenter.getExperiment(BadgeVariant.INSTANCE));\n+        paymentMethodHeaderView.configurePulseExperiments(presenter.getExperiment(PulseVariant.INSTANCE));", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODIzNjk2Mw=="}, "originalCommit": {"oid": "952a69c9516de6384d1cf7bda652b2d7faaef19a"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMDIxNTA1OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/PaymentMethodDescriptorView.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNjoyOTo0OFrOGh9GOg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNjo0MzoyN1rOGh9nLg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI1NzIxMA==", "bodyText": "por que el model actualiza la vista? creo que har\u00eda directamente el\nViewUtils.resetDrawableBackgroundColor(rightText);", "url": "https://github.com/mercadopago/px-android/pull/2184#discussion_r438257210", "createdAt": "2020-06-10T16:29:48Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/PaymentMethodDescriptorView.java", "diffHunk": "@@ -45,6 +50,12 @@ public void update(@NonNull final Model model) {\n         model.updateRightSpannable(rightSpannableBuilder, leftText);\n         rightText.setText(rightSpannableBuilder);\n         setContentDescription(TextUtil.EMPTY);\n+        model.updateDrawableBackground(rightText);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "952a69c9516de6384d1cf7bda652b2d7faaef19a"}, "originalPosition": 44}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI2NTY0Ng==", "bodyText": "ah\u00ed vi que depende del tipo del modelo", "url": "https://github.com/mercadopago/px-android/pull/2184#discussion_r438265646", "createdAt": "2020-06-10T16:43:27Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/PaymentMethodDescriptorView.java", "diffHunk": "@@ -45,6 +50,12 @@ public void update(@NonNull final Model model) {\n         model.updateRightSpannable(rightSpannableBuilder, leftText);\n         rightText.setText(rightSpannableBuilder);\n         setContentDescription(TextUtil.EMPTY);\n+        model.updateDrawableBackground(rightText);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI1NzIxMA=="}, "originalCommit": {"oid": "952a69c9516de6384d1cf7bda652b2d7faaef19a"}, "originalPosition": 44}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMDIzOTQ5OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/PaymentMethodHeaderView.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNjozNjoxNFrOGh9WDA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxMjoxNzowOFrOGiak6g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI2MTI2MA==", "bodyText": "Queda medio raro a nivel firma,\nEl metodo se llama configurePulse... y recibe un variantType que puede ser cualquier cosa y configura un pulse si no es Default\nYo lo que har\u00eda es que la vista reciba una lista de experimentos a configurar, la recorra y en base a los types de esos experimentos haga algo y si no, no haga nada", "url": "https://github.com/mercadopago/px-android/pull/2184#discussion_r438261260", "createdAt": "2020-06-10T16:36:14Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/PaymentMethodHeaderView.java", "diffHunk": "@@ -77,11 +84,27 @@ public void setListener(final Listener listener) {\n                 } else {\n                     arrow.startAnimation(rotateUp);\n                     listener.onDescriptorViewClicked();\n+                    if (pulse != null) {\n+                        pulse.stopRippleAnimation();\n+                    }\n                 }\n             }\n         });\n     }\n \n+    public void configureBadgeExperiments(@NonNull final VariantType variantType) {\n+        titlePager.setExperimentVariant(variantType);\n+    }\n+\n+    public void configurePulseExperiments(@NonNull final VariantType variantType) {\n+        ExperimentHelper.INSTANCE.applyExperimentViewBy(experimentContainer, variantType);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "952a69c9516de6384d1cf7bda652b2d7faaef19a"}, "originalPosition": 65}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODc0MDIwMg==", "bodyText": "Cambiado", "url": "https://github.com/mercadopago/px-android/pull/2184#discussion_r438740202", "createdAt": "2020-06-11T12:17:08Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/PaymentMethodHeaderView.java", "diffHunk": "@@ -77,11 +84,27 @@ public void setListener(final Listener listener) {\n                 } else {\n                     arrow.startAnimation(rotateUp);\n                     listener.onDescriptorViewClicked();\n+                    if (pulse != null) {\n+                        pulse.stopRippleAnimation();\n+                    }\n                 }\n             }\n         });\n     }\n \n+    public void configureBadgeExperiments(@NonNull final VariantType variantType) {\n+        titlePager.setExperimentVariant(variantType);\n+    }\n+\n+    public void configurePulseExperiments(@NonNull final VariantType variantType) {\n+        ExperimentHelper.INSTANCE.applyExperimentViewBy(experimentContainer, variantType);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI2MTI2MA=="}, "originalCommit": {"oid": "952a69c9516de6384d1cf7bda652b2d7faaef19a"}, "originalPosition": 65}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMDI1MDU2OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/TitlePager.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNjozOToxOVrOGh9dUw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNjo0OToxNVrOGh90dw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI2MzEyMw==", "bodyText": "No entiendo el comment de pulse, badge si se llama solo para badge por lo que veo? podria llamarse configureExperiment para mantener consistencia, no?", "url": "https://github.com/mercadopago/px-android/pull/2184#discussion_r438263123", "createdAt": "2020-06-10T16:39:19Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/TitlePager.java", "diffHunk": "@@ -33,6 +34,13 @@ private void init(final Context context) {\n         inflate(context, R.layout.px_view_title_pager, this);\n     }\n \n+    // pulse, badge\n+    public void setExperimentVariant(VariantType variantType) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "952a69c9516de6384d1cf7bda652b2d7faaef19a"}, "originalPosition": 13}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI2OTA0Nw==", "bodyText": "La verdad no recuerdo el por que de ese comment. Lo saco.", "url": "https://github.com/mercadopago/px-android/pull/2184#discussion_r438269047", "createdAt": "2020-06-10T16:49:15Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/TitlePager.java", "diffHunk": "@@ -33,6 +34,13 @@ private void init(final Context context) {\n         inflate(context, R.layout.px_view_title_pager, this);\n     }\n \n+    // pulse, badge\n+    public void setExperimentVariant(VariantType variantType) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI2MzEyMw=="}, "originalCommit": {"oid": "952a69c9516de6384d1cf7bda652b2d7faaef19a"}, "originalPosition": 13}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMDI4MzgxOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/slider/TitlePagerAdapter.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNjo0ODo0N1rOGh9zXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxMjoxMzozOVrOGiaeGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI2ODc2Ng==", "bodyText": "Yo no pondria esto, como que estamos modificando el modelo por el experiment, el modelo tiene internamente el payerCostSelected, podemos hacer esa validaci\u00f3n ahi adentro en vez de agregar el boolean. De todas formas de quedar as\u00ed lo haria mas abstracto, tipo justamente un boolean de \"installmentSelected: true|false\" en el modelo", "url": "https://github.com/mercadopago/px-android/pull/2184#discussion_r438268766", "createdAt": "2020-06-10T16:48:47Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/slider/TitlePagerAdapter.java", "diffHunk": "@@ -64,6 +64,9 @@ private void refreshData(final int currentIndex, final int payerCostSelected,\n         }\n \n         final PaymentMethodDescriptorView.Model currentModel = data.get(currentIndex);\n+        if (payerCostSelected != NO_SELECTED) {\n+            currentModel.showBadgeExperiment(false);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "952a69c9516de6384d1cf7bda652b2d7faaef19a"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODczODQ1OA==", "bodyText": "Cambiado", "url": "https://github.com/mercadopago/px-android/pull/2184#discussion_r438738458", "createdAt": "2020-06-11T12:13:39Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/slider/TitlePagerAdapter.java", "diffHunk": "@@ -64,6 +64,9 @@ private void refreshData(final int currentIndex, final int payerCostSelected,\n         }\n \n         final PaymentMethodDescriptorView.Model currentModel = data.get(currentIndex);\n+        if (payerCostSelected != NO_SELECTED) {\n+            currentModel.showBadgeExperiment(false);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI2ODc2Ng=="}, "originalCommit": {"oid": "952a69c9516de6384d1cf7bda652b2d7faaef19a"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMDI5MTQxOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/tracking/internal/mapper/FromExpressMetadataToAvailableMethods.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNjo1MDo1NlrOGh94cw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNDowOTowNFrOGifIog==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI3MDA2Nw==", "bodyText": "Hermoso, recordemos que lo que es obligatorio en un builder deber\u00eda ir en el contructor", "url": "https://github.com/mercadopago/px-android/pull/2184#discussion_r438270067", "createdAt": "2020-06-10T16:50:56Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/tracking/internal/mapper/FromExpressMetadataToAvailableMethods.java", "diffHunk": "@@ -23,20 +24,42 @@ public FromExpressMetadataToAvailableMethods(@NonNull final Set<String> cardsWit\n \n     @Override\n     public AvailableMethod map(@NonNull final ExpressMetadata expressMetadata) {\n+        boolean hasInterestFree = false;\n+        boolean hasReimbursement = false;\n+        final BenefitsMetadata benefits = expressMetadata.getBenefits();\n+\n+        if (benefits != null) {\n+            hasInterestFree = benefits.getInterestFree() != null;\n+            hasReimbursement = benefits.getReimbursement() != null;\n+        }\n+\n+        final AvailableMethod.Builder builder = new AvailableMethod.Builder()", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "952a69c9516de6384d1cf7bda652b2d7faaef19a"}, "originalPosition": 21}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODgxNDg4Mg==", "bodyText": "Cambiado", "url": "https://github.com/mercadopago/px-android/pull/2184#discussion_r438814882", "createdAt": "2020-06-11T14:09:04Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/tracking/internal/mapper/FromExpressMetadataToAvailableMethods.java", "diffHunk": "@@ -23,20 +24,42 @@ public FromExpressMetadataToAvailableMethods(@NonNull final Set<String> cardsWit\n \n     @Override\n     public AvailableMethod map(@NonNull final ExpressMetadata expressMetadata) {\n+        boolean hasInterestFree = false;\n+        boolean hasReimbursement = false;\n+        final BenefitsMetadata benefits = expressMetadata.getBenefits();\n+\n+        if (benefits != null) {\n+            hasInterestFree = benefits.getInterestFree() != null;\n+            hasReimbursement = benefits.getReimbursement() != null;\n+        }\n+\n+        final AvailableMethod.Builder builder = new AvailableMethod.Builder()", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI3MDA2Nw=="}, "originalCommit": {"oid": "952a69c9516de6384d1cf7bda652b2d7faaef19a"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMDI5OTAwOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/tracking/internal/model/CardExtraExpress.java", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNjo1Mjo1N1rOGh99Jw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMVQxNjo0Nzo1MFrOGimCpA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI3MTI3MQ==", "bodyText": "esto no qued\u00f3 de mas?", "url": "https://github.com/mercadopago/px-android/pull/2184#discussion_r438271271", "createdAt": "2020-06-10T16:52:57Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/tracking/internal/model/CardExtraExpress.java", "diffHunk": "@@ -11,20 +11,24 @@\n public final class CardExtraExpress extends CardExtraInfo {\n \n     private final boolean hasSplit;\n+    private final boolean hasInterestFree;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "952a69c9516de6384d1cf7bda652b2d7faaef19a"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODQ4MTIxMw==", "bodyText": "Lo usamos en la linea 21", "url": "https://github.com/mercadopago/px-android/pull/2184#discussion_r438481213", "createdAt": "2020-06-11T00:40:16Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/tracking/internal/model/CardExtraExpress.java", "diffHunk": "@@ -11,20 +11,24 @@\n public final class CardExtraExpress extends CardExtraInfo {\n \n     private final boolean hasSplit;\n+    private final boolean hasInterestFree;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI3MTI3MQ=="}, "originalCommit": {"oid": "952a69c9516de6384d1cf7bda652b2d7faaef19a"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODkyODAzNg==", "bodyText": "No qued\u00f3 en todos los extrainfo con el builder?", "url": "https://github.com/mercadopago/px-android/pull/2184#discussion_r438928036", "createdAt": "2020-06-11T16:47:50Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/tracking/internal/model/CardExtraExpress.java", "diffHunk": "@@ -11,20 +11,24 @@\n public final class CardExtraExpress extends CardExtraInfo {\n \n     private final boolean hasSplit;\n+    private final boolean hasInterestFree;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI3MTI3MQ=="}, "originalCommit": {"oid": "952a69c9516de6384d1cf7bda652b2d7faaef19a"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjczMDMxNDU4OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/experiments/ExperimentHelper.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNjo1NzoyMVrOGh-HMg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0xMFQxNjo1NzoyMVrOGh-HMg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQzODI3Mzg0Mg==", "bodyText": "medio raro un metodo que llame a otro metodo directamente y nada mas, quizas lo de applyExperimentViewInParent puede estar hecho directamente ac\u00e1, no?", "url": "https://github.com/mercadopago/px-android/pull/2184#discussion_r438273842", "createdAt": "2020-06-10T16:57:21Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/experiments/ExperimentHelper.kt", "diffHunk": "@@ -0,0 +1,28 @@\n+package com.mercadopago.android.px.internal.view.experiments\n+\n+import android.view.LayoutInflater\n+import android.view.View\n+import android.view.ViewGroup\n+import com.mercadopago.android.px.internal.experiments.VariantType\n+import com.mercadopago.android.px.model.internal.Experiment\n+\n+object ExperimentHelper {\n+\n+    fun getVariantFrom(variantType: VariantType.Variant, experiments: List<Experiment>?): VariantType {\n+\n+        if (experiments != null) {\n+            for (experiment in experiments) {\n+                val variantName = experiment.variant.name\n+                if (variantType.isExperiment(experiment.name) && variantType.isVariant(variantName)) {\n+                    return if (variantType.isDefault(variantName)) variantType.getDefaultVariant() else variantType\n+                }\n+            }\n+        }\n+        return variantType.getDefaultVariant()\n+    }\n+\n+    fun <T: View?> applyExperimentViewBy(root: ViewGroup, variantType: VariantType) = applyExperimentViewInParent<T>(root, variantType.getVariantResource())", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "952a69c9516de6384d1cf7bda652b2d7faaef19a"}, "originalPosition": 24}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1835, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}