{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQwMDY1NzMz", "number": 2208, "reviewThreads": {"totalCount": 7, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNjowOTo1MFrOEI0_Bg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNjo0NzozMVrOEI15rQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3NjkyMTY2OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/business_result/CongratsResponseMapper.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNjowOTo1MFrOGpBvaQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNzo0MToyMlrOGpFHqw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY3MzMyMQ==", "bodyText": "Es un overkill tener un mapper para cada modelo? para que no queden tantos getters de este estilo, termina siendo una s\u00e1bana la clase", "url": "https://github.com/mercadopago/px-android/pull/2208#discussion_r445673321", "createdAt": "2020-06-25T16:09:50Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/business_result/CongratsResponseMapper.java", "diffHunk": "@@ -304,4 +307,52 @@ public String getButtonDeepLink() {\n \n         return crossSellingBoxData;\n     }\n+\n+    @Nullable\n+    private MLBusinessActionCardViewData getMoneySplitData(@Nullable final CongratsResponse.MoneySplit moneySplit) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "54bd9e4b66fb2afda38b0e751fcdb739dc20d105"}, "originalPosition": 30}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTcyODY4Mw==", "bodyText": "ok", "url": "https://github.com/mercadopago/px-android/pull/2208#discussion_r445728683", "createdAt": "2020-06-25T17:41:22Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/business_result/CongratsResponseMapper.java", "diffHunk": "@@ -304,4 +307,52 @@ public String getButtonDeepLink() {\n \n         return crossSellingBoxData;\n     }\n+\n+    @Nullable\n+    private MLBusinessActionCardViewData getMoneySplitData(@Nullable final CongratsResponse.MoneySplit moneySplit) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY3MzMyMQ=="}, "originalCommit": {"oid": "54bd9e4b66fb2afda38b0e751fcdb739dc20d105"}, "originalPosition": 30}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3Njk0MDc4OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/business_result/CongratsResponseMapper.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNjoxNDowN1rOGpB7WQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNzo0MTozMFrOGpFH5A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY3NjM3Nw==", "bodyText": "podemos hacer mas safe esto? crasheamos si no viene de backend?, se que deberia venir pero hoy no tenemos una capa intermedia, lo mismo los otros getters", "url": "https://github.com/mercadopago/px-android/pull/2208#discussion_r445676377", "createdAt": "2020-06-25T16:14:07Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/business_result/CongratsResponseMapper.java", "diffHunk": "@@ -304,4 +307,52 @@ public String getButtonDeepLink() {\n \n         return crossSellingBoxData;\n     }\n+\n+    @Nullable\n+    private MLBusinessActionCardViewData getMoneySplitData(@Nullable final CongratsResponse.MoneySplit moneySplit) {\n+\n+        if (moneySplit == null) {\n+            return null;\n+        }\n+\n+        final Text title = moneySplit.getTitle();\n+\n+        return new MLBusinessActionCardViewData() {\n+            @NonNull\n+            @Override\n+            public String getTitle() {\n+                return title.getMessage();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "54bd9e4b66fb2afda38b0e751fcdb739dc20d105"}, "originalPosition": 42}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTcyODc0MA==", "bodyText": "ok", "url": "https://github.com/mercadopago/px-android/pull/2208#discussion_r445728740", "createdAt": "2020-06-25T17:41:30Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/business_result/CongratsResponseMapper.java", "diffHunk": "@@ -304,4 +307,52 @@ public String getButtonDeepLink() {\n \n         return crossSellingBoxData;\n     }\n+\n+    @Nullable\n+    private MLBusinessActionCardViewData getMoneySplitData(@Nullable final CongratsResponse.MoneySplit moneySplit) {\n+\n+        if (moneySplit == null) {\n+            return null;\n+        }\n+\n+        final Text title = moneySplit.getTitle();\n+\n+        return new MLBusinessActionCardViewData() {\n+            @NonNull\n+            @Override\n+            public String getTitle() {\n+                return title.getMessage();", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY3NjM3Nw=="}, "originalCommit": {"oid": "54bd9e4b66fb2afda38b0e751fcdb739dc20d105"}, "originalPosition": 42}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3NzAxMDk0OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/business_result/CongratsViewModel.kt", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNjozMToyMFrOGpCnwA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNjozMToyMFrOGpCnwA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY4Nzc0NA==", "bodyText": "Revisar indentado", "url": "https://github.com/mercadopago/px-android/pull/2208#discussion_r445687744", "createdAt": "2020-06-25T16:31:20Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/business_result/CongratsViewModel.kt", "diffHunk": "@@ -1,18 +1,19 @@\n package com.mercadopago.android.px.internal.features.business_result\n \n+import com.mercadolibre.android.mlbusinesscomponents.components.actioncard.MLBusinessActionCardViewData\n import com.mercadolibre.android.mlbusinesscomponents.components.common.downloadapp.MLBusinessDownloadAppData\n import com.mercadolibre.android.mlbusinesscomponents.components.crossselling.MLBusinessCrossSellingBoxData\n-import com.mercadolibre.android.mlbusinesscomponents.components.discount.MLBusinessDiscountBoxData\n import com.mercadolibre.android.mlbusinesscomponents.components.loyalty.MLBusinessLoyaltyRingData\n import com.mercadopago.android.px.model.internal.Action\n import com.mercadopago.android.px.model.internal.Text\n \n internal data class CongratsViewModel(\n-    val loyaltyRingData: MLBusinessLoyaltyRingData?,\n-    val discountBoxData: PXDiscountBoxData?,\n-    val showAllDiscounts: Action?,\n-    val downloadAppData: MLBusinessDownloadAppData?,\n-    val crossSellingBoxData: List<MLBusinessCrossSellingBoxData>?,\n-    val topTextBox: Text,\n-    val viewReceipt: Action?,\n-    val customOrder: Boolean)\n\\ No newline at end of file\n+        val loyaltyRingData: MLBusinessLoyaltyRingData?,", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "54bd9e4b66fb2afda38b0e751fcdb739dc20d105"}, "originalPosition": 21}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3NzAxOTQ2OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/payment_result/PaymentResultPresenter.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNjozMzo0MVrOGpCtPw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNzo1NjoyOVrOGpFp_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY4OTE1MQ==", "bodyText": "No me copa en el presenter esto, podriamos tener un objeto que conozca estos est\u00e1ticos, podria ser un enum si lo necesitamos a nivel firma", "url": "https://github.com/mercadopago/px-android/pull/2208#discussion_r445689151", "createdAt": "2020-06-25T16:33:41Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/payment_result/PaymentResultPresenter.java", "diffHunk": "@@ -47,6 +49,7 @@\n     private final ResultViewTrack resultViewTrack;\n     private final PaymentResultScreenConfiguration screenConfiguration;\n     private final FlowBehaviour flowBehaviour;\n+    private static final String MONEY_SPLIT_TYPE = \"money_split\";", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "54bd9e4b66fb2afda38b0e751fcdb739dc20d105"}, "originalPosition": 16}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTczNzQ2OA==", "bodyText": "dale", "url": "https://github.com/mercadopago/px-android/pull/2208#discussion_r445737468", "createdAt": "2020-06-25T17:56:29Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/payment_result/PaymentResultPresenter.java", "diffHunk": "@@ -47,6 +49,7 @@\n     private final ResultViewTrack resultViewTrack;\n     private final PaymentResultScreenConfiguration screenConfiguration;\n     private final FlowBehaviour flowBehaviour;\n+    private static final String MONEY_SPLIT_TYPE = \"money_split\";", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY4OTE1MQ=="}, "originalCommit": {"oid": "54bd9e4b66fb2afda38b0e751fcdb739dc20d105"}, "originalPosition": 16}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3NzA0MjQwOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/tracking/internal/events/CongratsDeepLink.kt", "isResolved": true, "comments": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNjozOTo1MFrOGpC75Q==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNzo0MTo0MlrOGpFIRA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY5MjkwMQ==", "bodyText": "Ac\u00e1 quizas podriamos utilizar el mecanismo de trackFromView que ofrece EventTracker, y te independizas de la vista que se trackea el evento", "url": "https://github.com/mercadopago/px-android/pull/2208#discussion_r445692901", "createdAt": "2020-06-25T16:39:50Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/tracking/internal/events/CongratsDeepLink.kt", "diffHunk": "@@ -0,0 +1,20 @@\n+package com.mercadopago.android.px.tracking.internal.events\n+\n+import java.util.*\n+\n+abstract class CongratsDeepLink : EventTracker() {\n+    protected abstract val congratsType: String\n+    protected abstract val type: String\n+    protected abstract val deepLink: String\n+\n+    override fun getEventPath() = path.format(Locale.US, congratsType)\n+\n+    override fun getEventData() = mutableMapOf(\n+            \"type\" to type,\n+            \"deep_link\" to deepLink\n+    )\n+\n+    companion object {\n+        private const val path = \"$BASE_PATH/congrats/%s/deep_link\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "54bd9e4b66fb2afda38b0e751fcdb739dc20d105"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY5MzQyOQ==", "bodyText": "Si hacemos eso esto quedaria mas gen\u00e9rico y ya pasar\u00eda a ser un DeepLinkTracker por ejemplo", "url": "https://github.com/mercadopago/px-android/pull/2208#discussion_r445693429", "createdAt": "2020-06-25T16:40:48Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/tracking/internal/events/CongratsDeepLink.kt", "diffHunk": "@@ -0,0 +1,20 @@\n+package com.mercadopago.android.px.tracking.internal.events\n+\n+import java.util.*\n+\n+abstract class CongratsDeepLink : EventTracker() {\n+    protected abstract val congratsType: String\n+    protected abstract val type: String\n+    protected abstract val deepLink: String\n+\n+    override fun getEventPath() = path.format(Locale.US, congratsType)\n+\n+    override fun getEventData() = mutableMapOf(\n+            \"type\" to type,\n+            \"deep_link\" to deepLink\n+    )\n+\n+    companion object {\n+        private const val path = \"$BASE_PATH/congrats/%s/deep_link\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY5MjkwMQ=="}, "originalCommit": {"oid": "54bd9e4b66fb2afda38b0e751fcdb739dc20d105"}, "originalPosition": 18}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTcyODgzNg==", "bodyText": "joya", "url": "https://github.com/mercadopago/px-android/pull/2208#discussion_r445728836", "createdAt": "2020-06-25T17:41:42Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/tracking/internal/events/CongratsDeepLink.kt", "diffHunk": "@@ -0,0 +1,20 @@\n+package com.mercadopago.android.px.tracking.internal.events\n+\n+import java.util.*\n+\n+abstract class CongratsDeepLink : EventTracker() {\n+    protected abstract val congratsType: String\n+    protected abstract val type: String\n+    protected abstract val deepLink: String\n+\n+    override fun getEventPath() = path.format(Locale.US, congratsType)\n+\n+    override fun getEventData() = mutableMapOf(\n+            \"type\" to type,\n+            \"deep_link\" to deepLink\n+    )\n+\n+    companion object {\n+        private const val path = \"$BASE_PATH/congrats/%s/deep_link\"", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY5MjkwMQ=="}, "originalCommit": {"oid": "54bd9e4b66fb2afda38b0e751fcdb739dc20d105"}, "originalPosition": 18}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3NzA1OTkyOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/tracking/internal/model/ResultViewTrackModel.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNjo0NDozOVrOGpDHCQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNzo1MDoyM1rOGpFcZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY5NTc1Mw==", "bodyText": "no deberia considerar tambien si es MP o ML? trackearia true para ML en versiones viejas cuando lo prendan", "url": "https://github.com/mercadopago/px-android/pull/2208#discussion_r445695753", "createdAt": "2020-06-25T16:44:39Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/tracking/internal/model/ResultViewTrackModel.java", "diffHunk": "@@ -54,13 +55,15 @@ public ResultViewTrackModel(@NonNull final PaymentModel paymentModel,\n         hasBottomView = screenConfiguration.hasBottomFragment();\n         hasTopView = screenConfiguration.hasTopFragment();\n         hasImportantView = false;\n+        hasMoneySplitView = paymentModel.getCongratsResponse().getMoneySplit() != null;\n     }\n \n     public ResultViewTrackModel(@NonNull final BusinessPaymentModel paymentModel,\n         @NonNull final CheckoutPreference checkoutPreference, @NonNull final String currencyId) {\n         this(Style.CUSTOM, paymentModel, checkoutPreference, currencyId);\n         hasBottomView = paymentModel.getPayment().hasBottomFragment();\n         hasTopView = paymentModel.getPayment().hasTopFragment();\n+        hasMoneySplitView = paymentModel.getCongratsResponse().getMoneySplit() != null;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "54bd9e4b66fb2afda38b0e751fcdb739dc20d105"}, "originalPosition": 20}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTczMzk4OQ==", "bodyText": "oka", "url": "https://github.com/mercadopago/px-android/pull/2208#discussion_r445733989", "createdAt": "2020-06-25T17:50:23Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/tracking/internal/model/ResultViewTrackModel.java", "diffHunk": "@@ -54,13 +55,15 @@ public ResultViewTrackModel(@NonNull final PaymentModel paymentModel,\n         hasBottomView = screenConfiguration.hasBottomFragment();\n         hasTopView = screenConfiguration.hasTopFragment();\n         hasImportantView = false;\n+        hasMoneySplitView = paymentModel.getCongratsResponse().getMoneySplit() != null;\n     }\n \n     public ResultViewTrackModel(@NonNull final BusinessPaymentModel paymentModel,\n         @NonNull final CheckoutPreference checkoutPreference, @NonNull final String currencyId) {\n         this(Style.CUSTOM, paymentModel, checkoutPreference, currencyId);\n         hasBottomView = paymentModel.getPayment().hasBottomFragment();\n         hasTopView = paymentModel.getPayment().hasTopFragment();\n+        hasMoneySplitView = paymentModel.getCongratsResponse().getMoneySplit() != null;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY5NTc1Mw=="}, "originalCommit": {"oid": "54bd9e4b66fb2afda38b0e751fcdb739dc20d105"}, "originalPosition": 20}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjc3NzA3MTgxOnYy", "diffSide": "RIGHT", "path": "px-services/src/main/java/com/mercadopago/android/px/model/internal/CongratsResponse.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNjo0NzozMVrOGpDOhw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNi0yNVQxNzo0MjoxOVrOGpFJzA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY5NzY3MQ==", "bodyText": "qued\u00f3 de m\u00e1s el comment de default", "url": "https://github.com/mercadopago/px-android/pull/2208#discussion_r445697671", "createdAt": "2020-06-25T16:47:31Z", "author": {"login": "cgaggino"}, "path": "px-services/src/main/java/com/mercadopago/android/px/model/internal/CongratsResponse.java", "diffHunk": "@@ -553,4 +563,52 @@ public int getRight() {\n             return right;\n         }\n     }\n+\n+    /* default */ public static final class MoneySplit implements Parcelable {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "54bd9e4b66fb2afda38b0e751fcdb739dc20d105"}, "originalPosition": 50}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTcyOTIyOA==", "bodyText": "lo saco", "url": "https://github.com/mercadopago/px-android/pull/2208#discussion_r445729228", "createdAt": "2020-06-25T17:42:19Z", "author": {"login": "jorGonzalez291292"}, "path": "px-services/src/main/java/com/mercadopago/android/px/model/internal/CongratsResponse.java", "diffHunk": "@@ -553,4 +563,52 @@ public int getRight() {\n             return right;\n         }\n     }\n+\n+    /* default */ public static final class MoneySplit implements Parcelable {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ0NTY5NzY3MQ=="}, "originalCommit": {"oid": "54bd9e4b66fb2afda38b0e751fcdb739dc20d105"}, "originalPosition": 50}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1848, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}