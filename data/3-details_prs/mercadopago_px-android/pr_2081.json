{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzkxOTI2ODg4", "number": 2081, "title": "[fix] pay button disappear", "bodyText": "Card form reemplaza el fragment de one tap, dejando la vista de pay button asociado a una vista que no corresponde\nAl reemplazar one tap se llama onDestroyView, que es donde deberiamos remover el fragment de pay button y no en on destroy. Este evento se llama al ser reemplazado o al ser destruido\nSe mejora la l\u00f3gica de cuando se registra o se limpia el fragmentLifecycleCallbacks, ya que se estaba registrando dos o mas veces al volver de card form.\nSe agrega llamada a super en viewCreated de one tap", "createdAt": "2020-03-21T22:51:55Z", "url": "https://github.com/mercadopago/px-android/pull/2081", "merged": true, "mergeCommit": {"oid": "18f18d8c6a9b85fa74977d3b491986c8f0a8c525"}, "closed": true, "closedAt": "2020-03-22T00:42:36Z", "author": {"login": "cgaggino"}, "timelineItems": {"totalCount": 3, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABcP9IvRAH2gAyMzkxOTI2ODg4OjVhZDM3ZDJjNDcxNjQ5OWMyZGY5YWJmYzk3NDUwNTYwNGJlNDc4Y2E=", "endCursor": "Y3Vyc29yOnYyOpPPAAABcP-w2WgFqTM3ODk2MjkxNA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestCommit", "commit": {"oid": "5ad37d2c4716499c2df9abfc974505604be478ca", "author": {"user": {"login": "cgaggino", "name": "Cristian Gaggino"}}, "url": "https://github.com/mercadopago/px-android/commit/5ad37d2c4716499c2df9abfc974505604be478ca", "committedDate": "2020-03-21T22:48:42Z", "message": "* Remove fragment on view destroyed"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4OTU4MTgz", "url": "https://github.com/mercadopago/px-android/pull/2081#pullrequestreview-378958183", "createdAt": "2020-03-21T22:59:43Z", "commit": {"oid": "5ad37d2c4716499c2df9abfc974505604be478ca"}, "state": "APPROVED", "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQyMjo1OTo0NFrOF5sKOA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMy0yMVQyMjo1OTo1N1rOF5sKQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjAzNjY2NA==", "bodyText": "Idem anterior.", "url": "https://github.com/mercadopago/px-android/pull/2081#discussion_r396036664", "createdAt": "2020-03-21T22:59:44Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/ExpressPaymentFragment.java", "diffHunk": "@@ -349,7 +354,15 @@ public void onFragmentDetached(@NonNull final FragmentManager fm, @NonNull final\n                 }\n                 super.onFragmentDetached(fm, fragment);\n             }\n-        }, false);\n+        };\n+        getFragmentManager().registerFragmentLifecycleCallbacks(fragmentLifecycleCallbacks, false);\n+    }\n+\n+    @Override\n+    public void onDestroyView() {\n+        getFragmentManager().unregisterFragmentLifecycleCallbacks(fragmentLifecycleCallbacks);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ad37d2c4716499c2df9abfc974505604be478ca"}, "originalPosition": 71}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM5NjAzNjY3NA==", "bodyText": "Podr\u00edamos tener una variable local para el fragment manager.", "url": "https://github.com/mercadopago/px-android/pull/2081#discussion_r396036674", "createdAt": "2020-03-21T22:59:57Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/ExpressPaymentFragment.java", "diffHunk": "@@ -236,12 +238,13 @@ public void onViewCreated(@NonNull final View view, @Nullable final Bundle saved\n \n     private void configureViews(@NonNull final View view) {\n         payButtonFragment =\n-            (PayButtonFragment) getActivity().getSupportFragmentManager().findFragmentByTag(PayButtonFragment.TAG);\n+            (PayButtonFragment) getFragmentManager().findFragmentByTag(PayButtonFragment.TAG);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "5ad37d2c4716499c2df9abfc974505604be478ca"}, "originalPosition": 21}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3Mzc4OTYyOTE0", "url": "https://github.com/mercadopago/px-android/pull/2081#pullrequestreview-378962914", "createdAt": "2020-03-22T00:42:25Z", "commit": {"oid": "5ad37d2c4716499c2df9abfc974505604be478ca"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3898, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}