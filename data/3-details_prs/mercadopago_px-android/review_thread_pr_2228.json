{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDQ4NDU5NDQy", "number": 2228, "reviewThreads": {"totalCount": 13, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxODoyMDoyNFrOEOYH_w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNzowMDo1N1rOEQtwcQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNTEwNzgzOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/review_and_confirm/models/SummaryModel.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxODoyMDoyNFrOGxfx7w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxMjowNTozNFrOGx7BQg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1NDA5NQ==", "bodyText": "Estuvo mal siempre esto?", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r454554095", "createdAt": "2020-07-14T18:20:24Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/review_and_confirm/models/SummaryModel.java", "diffHunk": "@@ -33,7 +33,7 @@ public SummaryModel createFromParcel(final Parcel in) {\n \n     public static String resolveTitle(@NonNull final List<Item> items, @NonNull final Resources resources) {\n         final int quantity = items.size() == 1 ? items.get(0).getQuantity() : items.size();\n-        return quantity == 1 && TextUtil.isEmpty(items.get(0).getTitle()) ?\n+        return quantity == 1 && TextUtil.isNotEmpty(items.get(0).getTitle()) ?", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "8a670d4313f7506e394d5ce6817ef11578a02174"}, "originalPosition": 5}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAwMDM4Ng==", "bodyText": "sip, es el cambio que pidieron hace 3 meses.", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r455000386", "createdAt": "2020-07-15T12:05:34Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/review_and_confirm/models/SummaryModel.java", "diffHunk": "@@ -33,7 +33,7 @@ public SummaryModel createFromParcel(final Parcel in) {\n \n     public static String resolveTitle(@NonNull final List<Item> items, @NonNull final Resources resources) {\n         final int quantity = items.size() == 1 ? items.get(0).getQuantity() : items.size();\n-        return quantity == 1 && TextUtil.isEmpty(items.get(0).getTitle()) ?\n+        return quantity == 1 && TextUtil.isNotEmpty(items.get(0).getTitle()) ?", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU1NDA5NQ=="}, "originalCommit": {"oid": "8a670d4313f7506e394d5ce6817ef11578a02174"}, "originalPosition": 5}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNTI2Njg3OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/util/ViewUtils.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxOTowNDoyNVrOGxhTZQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxOTowNDoyNVrOGxhTZQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU3OTA0NQ==", "bodyText": "Hay que cambiarle el nombre a esto", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r454579045", "createdAt": "2020-07-14T19:04:25Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/util/ViewUtils.java", "diffHunk": "@@ -352,4 +410,17 @@ public static void setStatusBarColor(@ColorInt final int color, @NonNull final W\n             window.setStatusBarColor(getDarkPrimaryColor(color));\n         }\n     }\n+\n+    public static boolean isDeviceScreenSize(@NonNull final Context context, final int... screenLayoutSize) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "originalPosition": 171}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNTI3MDk0OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/AmountDescriptorView.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxOTowNTozMVrOGxhV2w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxMjowNjo0MlrOGx7Dkw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU3OTY3NQ==", "bodyText": "Pasar a camel", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r454579675", "createdAt": "2020-07-14T19:05:31Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/AmountDescriptorView.java", "diffHunk": "@@ -12,27 +13,31 @@\n import android.view.animation.AnimationUtils;\n import android.widget.ImageView;\n import android.widget.TextView;\n+import com.mercadolibre.android.picassodiskcache.PicassoDiskLoader;\n import com.mercadopago.android.px.R;\n import com.mercadopago.android.px.core.DynamicDialogCreator;\n import com.mercadopago.android.px.internal.font.PxFont;\n import com.mercadopago.android.px.internal.util.TextUtil;\n import com.mercadopago.android.px.internal.util.ViewUtils;\n+import com.mercadopago.android.px.internal.viewmodel.DiscountBriefColor;\n import com.mercadopago.android.px.internal.viewmodel.EmptyLocalized;\n import com.mercadopago.android.px.internal.viewmodel.IDetailColor;\n import com.mercadopago.android.px.internal.viewmodel.IDetailDrawable;\n import com.mercadopago.android.px.internal.viewmodel.ILocalizedCharSequence;\n import com.mercadopago.android.px.model.DiscountConfigurationModel;\n+import com.mercadopago.android.px.model.DiscountOverview;\n import com.mercadopago.android.px.model.internal.Text;\n \n import static com.mercadopago.android.px.internal.util.AccessibilityUtilsKt.executeIfAccessibilityTalkBackEnable;\n import static com.mercadopago.android.px.internal.util.TextUtil.isEmpty;\n \n public class AmountDescriptorView extends ConstraintLayout {\n \n-    private MPTextView leftLabel;\n-    private View leftContainer;\n-    private TextView rightLabel;\n-    private ImageView imageView;\n+    private MPTextView descriptor;\n+    private MPTextView brief;\n+    private View descriptor_container;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "originalPosition": 38}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAwMDk3OQ==", "bodyText": "Listo", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r455000979", "createdAt": "2020-07-15T12:06:42Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/AmountDescriptorView.java", "diffHunk": "@@ -12,27 +13,31 @@\n import android.view.animation.AnimationUtils;\n import android.widget.ImageView;\n import android.widget.TextView;\n+import com.mercadolibre.android.picassodiskcache.PicassoDiskLoader;\n import com.mercadopago.android.px.R;\n import com.mercadopago.android.px.core.DynamicDialogCreator;\n import com.mercadopago.android.px.internal.font.PxFont;\n import com.mercadopago.android.px.internal.util.TextUtil;\n import com.mercadopago.android.px.internal.util.ViewUtils;\n+import com.mercadopago.android.px.internal.viewmodel.DiscountBriefColor;\n import com.mercadopago.android.px.internal.viewmodel.EmptyLocalized;\n import com.mercadopago.android.px.internal.viewmodel.IDetailColor;\n import com.mercadopago.android.px.internal.viewmodel.IDetailDrawable;\n import com.mercadopago.android.px.internal.viewmodel.ILocalizedCharSequence;\n import com.mercadopago.android.px.model.DiscountConfigurationModel;\n+import com.mercadopago.android.px.model.DiscountOverview;\n import com.mercadopago.android.px.model.internal.Text;\n \n import static com.mercadopago.android.px.internal.util.AccessibilityUtilsKt.executeIfAccessibilityTalkBackEnable;\n import static com.mercadopago.android.px.internal.util.TextUtil.isEmpty;\n \n public class AmountDescriptorView extends ConstraintLayout {\n \n-    private MPTextView leftLabel;\n-    private View leftContainer;\n-    private TextView rightLabel;\n-    private ImageView imageView;\n+    private MPTextView descriptor;\n+    private MPTextView brief;\n+    private View descriptor_container;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU3OTY3NQ=="}, "originalCommit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "originalPosition": 38}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzNTI3MjE5OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/AmountDescriptorView.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNFQxOTowNTo1OVrOGxhWrQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxMjowNzoyNVrOGx7E3w==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU3OTg4NQ==", "bodyText": "Pasar a camel", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r454579885", "createdAt": "2020-07-14T19:05:59Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/AmountDescriptorView.java", "diffHunk": "@@ -12,27 +13,31 @@\n import android.view.animation.AnimationUtils;\n import android.widget.ImageView;\n import android.widget.TextView;\n+import com.mercadolibre.android.picassodiskcache.PicassoDiskLoader;\n import com.mercadopago.android.px.R;\n import com.mercadopago.android.px.core.DynamicDialogCreator;\n import com.mercadopago.android.px.internal.font.PxFont;\n import com.mercadopago.android.px.internal.util.TextUtil;\n import com.mercadopago.android.px.internal.util.ViewUtils;\n+import com.mercadopago.android.px.internal.viewmodel.DiscountBriefColor;\n import com.mercadopago.android.px.internal.viewmodel.EmptyLocalized;\n import com.mercadopago.android.px.internal.viewmodel.IDetailColor;\n import com.mercadopago.android.px.internal.viewmodel.IDetailDrawable;\n import com.mercadopago.android.px.internal.viewmodel.ILocalizedCharSequence;\n import com.mercadopago.android.px.model.DiscountConfigurationModel;\n+import com.mercadopago.android.px.model.DiscountOverview;\n import com.mercadopago.android.px.model.internal.Text;\n \n import static com.mercadopago.android.px.internal.util.AccessibilityUtilsKt.executeIfAccessibilityTalkBackEnable;\n import static com.mercadopago.android.px.internal.util.TextUtil.isEmpty;\n \n public class AmountDescriptorView extends ConstraintLayout {\n \n-    private MPTextView leftLabel;\n-    private View leftContainer;\n-    private TextView rightLabel;\n-    private ImageView imageView;\n+    private MPTextView descriptor;\n+    private MPTextView brief;\n+    private View descriptor_container;\n+    private MPTextView amount;\n+    private ImageView icon_descriptor;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "originalPosition": 40}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTAwMTMxMQ==", "bodyText": "Listo", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r455001311", "createdAt": "2020-07-15T12:07:25Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/AmountDescriptorView.java", "diffHunk": "@@ -12,27 +13,31 @@\n import android.view.animation.AnimationUtils;\n import android.widget.ImageView;\n import android.widget.TextView;\n+import com.mercadolibre.android.picassodiskcache.PicassoDiskLoader;\n import com.mercadopago.android.px.R;\n import com.mercadopago.android.px.core.DynamicDialogCreator;\n import com.mercadopago.android.px.internal.font.PxFont;\n import com.mercadopago.android.px.internal.util.TextUtil;\n import com.mercadopago.android.px.internal.util.ViewUtils;\n+import com.mercadopago.android.px.internal.viewmodel.DiscountBriefColor;\n import com.mercadopago.android.px.internal.viewmodel.EmptyLocalized;\n import com.mercadopago.android.px.internal.viewmodel.IDetailColor;\n import com.mercadopago.android.px.internal.viewmodel.IDetailDrawable;\n import com.mercadopago.android.px.internal.viewmodel.ILocalizedCharSequence;\n import com.mercadopago.android.px.model.DiscountConfigurationModel;\n+import com.mercadopago.android.px.model.DiscountOverview;\n import com.mercadopago.android.px.model.internal.Text;\n \n import static com.mercadopago.android.px.internal.util.AccessibilityUtilsKt.executeIfAccessibilityTalkBackEnable;\n import static com.mercadopago.android.px.internal.util.TextUtil.isEmpty;\n \n public class AmountDescriptorView extends ConstraintLayout {\n \n-    private MPTextView leftLabel;\n-    private View leftContainer;\n-    private TextView rightLabel;\n-    private ImageView imageView;\n+    private MPTextView descriptor;\n+    private MPTextView brief;\n+    private View descriptor_container;\n+    private MPTextView amount;\n+    private ImageView icon_descriptor;", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NDU3OTg4NQ=="}, "originalCommit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "originalPosition": 40}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzODY4OTEwOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/res/layout/px_view_amount_descriptor.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNDo0NTowMlrOGyBlGg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNDo0NTowMlrOGyBlGg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTEwNzg2Ng==", "bodyText": "Creo que 0.5 es como no poner nada", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r455107866", "createdAt": "2020-07-15T14:45:02Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/res/layout/px_view_amount_descriptor.xml", "diffHunk": "@@ -1,61 +1,93 @@\n <?xml version=\"1.0\" encoding=\"utf-8\"?>\n <merge xmlns:android=\"http://schemas.android.com/apk/res/android\"\n-    xmlns:tools=\"http://schemas.android.com/tools\"\n     xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\"\n     android:layout_width=\"match_parent\"\n     android:layout_height=\"wrap_content\"\n-    android:orientation=\"horizontal\"\n     android:gravity=\"center_vertical\"\n+    android:orientation=\"horizontal\"\n     tools:background=\"@color/px_colorPrimary\"\n     tools:parentTag=\"android.support.constraint.ConstraintLayout\">\n \n-    <LinearLayout\n-        android:id=\"@+id/title\"\n-        android:layout_width=\"wrap_content\"\n+    <android.support.constraint.ConstraintLayout\n+        android:id=\"@+id/descriptor_container\"\n+        android:layout_width=\"0dp\"\n         android:layout_height=\"wrap_content\"\n         android:gravity=\"center_vertical\"\n         android:orientation=\"horizontal\"\n+        app:layout_constraintBottom_toBottomOf=\"parent\"\n+        app:layout_constraintEnd_toStartOf=\"@+id/amount\"\n+        app:layout_constraintHorizontal_bias=\"0.5\"\n         app:layout_constraintHorizontal_chainStyle=\"spread_inside\"\n         app:layout_constraintStart_toStartOf=\"parent\"\n-        app:layout_constraintEnd_toStartOf=\"@id/space\">\n+        app:layout_constraintTop_toTopOf=\"parent\">\n \n-        <com.mercadopago.android.px.internal.view.MPTextView\n-            android:id=\"@+id/label\"\n+        <android.support.constraint.Guideline\n+            android:id=\"@+id/guide_line\"\n             android:layout_width=\"wrap_content\"\n             android:layout_height=\"wrap_content\"\n+            app:layout_constraintGuide_percent=\".9\"\n+            android:orientation=\"vertical\" />\n+\n+        <ImageView\n+            android:id=\"@+id/icon_descriptor\"\n+            android:layout_width=\"wrap_content\"\n+            android:layout_height=\"wrap_content\"\n+            android:layout_marginStart=\"@dimen/px_xxxs_margin\"\n+            android:importantForAccessibility=\"no\"\n+            app:layout_constraintBottom_toTopOf=\"@+id/brief\"\n+            app:layout_constraintEnd_toStartOf=\"@+id/guide_line\"\n+            app:layout_constraintHorizontal_bias=\"0.0\"\n+            app:layout_constraintStart_toEndOf=\"@id/descriptor\"\n+            app:layout_constraintTop_toTopOf=\"parent\"\n+            tools:src=\"@drawable/px_helper\" />\n+\n+        <com.mercadopago.android.px.internal.view.MPTextView\n+            android:id=\"@+id/descriptor\"\n+            android:layout_width=\"0dp\"\n+            android:layout_height=\"wrap_content\"\n             android:ellipsize=\"end\"\n             android:importantForAccessibility=\"no\"\n             android:maxLines=\"1\"\n             android:textColor=\"@color/px_expressCheckoutTextColor\"\n             android:textSize=\"@dimen/px_s_text\"\n-            tools:text=\"Total\"/>\n+            app:layout_constraintBottom_toTopOf=\"@+id/brief\"\n+            app:layout_constraintStart_toStartOf=\"parent\"\n+            app:layout_constraintTop_toTopOf=\"parent\"\n+            tools:text=\"20% OFF (Tope: $ 100)\" />\n \n-        <ImageView\n-            android:id=\"@+id/icon_descriptor_amount\"\n-            android:layout_width=\"16dp\"\n-            android:layout_height=\"16dp\"\n+        <com.mercadopago.android.px.internal.view.MPTextView\n+            android:id=\"@+id/brief\"\n+            android:layout_width=\"0dp\"\n+            android:layout_height=\"wrap_content\"\n+            android:ellipsize=\"end\"\n+            android:maxLines=\"2\"\n             android:importantForAccessibility=\"no\"\n-            android:layout_marginLeft=\"@dimen/px_xxxs_margin\"\n-            android:layout_marginStart=\"@dimen/px_xxxs_margin\"\n-            tools:src=\"@drawable/px_helper\"/>\n-    </LinearLayout>\n+            android:textColor=\"@color/px_expressCheckoutTextColor\"\n+            android:textSize=\"@dimen/px_xxs_text\"\n+            android:visibility=\"gone\"\n+            android:lineSpacingExtra=\"3sp\"\n+            app:layout_constraintBottom_toBottomOf=\"parent\"\n+            app:layout_constraintEnd_toEndOf=\"@id/guide_line\"\n+            app:layout_constraintStart_toStartOf=\"parent\"\n+            app:layout_constraintTop_toBottomOf=\"@id/descriptor\"\n+            tools:text=\"Con cada pago en esta marca consumir\u00e1s el tope hasta agotarlo.\" />\n \n-    <Space\n-        android:id=\"@+id/space\"\n-        android:layout_width=\"0dp\"\n-        android:layout_height=\"wrap_content\"\n-        app:layout_constraintStart_toEndOf=\"@id/title\"\n-        app:layout_constraintEnd_toStartOf=\"@id/amount\"\n-        />\n+    </android.support.constraint.ConstraintLayout>\n \n     <com.mercadopago.android.px.internal.view.MPTextView\n         android:id=\"@+id/amount\"\n         android:layout_width=\"wrap_content\"\n         android:layout_height=\"wrap_content\"\n-        android:textColor=\"@color/px_expressCheckoutTextColor\"\n         android:importantForAccessibility=\"no\"\n+        android:textColor=\"@color/px_expressCheckoutTextColor\"\n         android:textSize=\"@dimen/px_s_text\"\n+        app:layout_constraintBottom_toBottomOf=\"parent\"\n         app:layout_constraintEnd_toEndOf=\"parent\"\n-        app:layout_constraintStart_toEndOf=\"@id/space\"\n-        tools:text=\"$124\"/>\n+        app:layout_constraintHorizontal_bias=\"0.5\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "originalPosition": 114}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzODc1ODM1OnYy", "diffSide": "RIGHT", "path": "px-services/build.gradle", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNDo1Njo1MFrOGyCPqA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNDo1Njo1MFrOGyCPqA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTExODc2MA==", "bodyText": "OJO", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r455118760", "createdAt": "2020-07-15T14:56:50Z", "author": {"login": "guchito9"}, "path": "px-services/build.gradle", "diffHunk": "@@ -12,8 +12,8 @@ android {\n \n     buildTypes {\n         debug {\n-            buildConfigField \"String\", \"API_ENVIRONMENT\", \"\\\"beta\\\"\"\n-            buildConfigField \"String\", \"API_ENVIRONMENT_NEW\", \"\\\"beta\\\"\"\n+            buildConfigField \"String\", \"API_ENVIRONMENT\", \"\\\"production\\\"\"", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzODc1OTY0OnYy", "diffSide": "RIGHT", "path": "px-services/src/main/java/com/mercadopago/android/px/internal/services/CheckoutService.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNDo1NzowOFrOGyCQdg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNDo1NzowOFrOGyCQdg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTExODk2Ng==", "bodyText": "Borrar esto", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r455118966", "createdAt": "2020-07-15T14:57:08Z", "author": {"login": "guchito9"}, "path": "px-services/src/main/java/com/mercadopago/android/px/internal/services/CheckoutService.java", "diffHunk": "@@ -19,6 +19,14 @@\n \n     String CHECKOUT_VERSION = \"v2\";\n     String ENVIRONMENT = BuildConfig.API_ENVIRONMENT_NEW;\n+//\"https://run.mocky.io/v3/8a4b5d87-8a03-4e82-8942-09dfadcb7cf5/\" xxxhdpi", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjgzODc3NjExOnYy", "diffSide": "RIGHT", "path": "px-services/src/main/java/com/mercadopago/android/px/model/DiscountOverview.kt", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNTowMDo1NVrOGyCa5A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0xNVQxNTowMToxNlrOGyCb4g==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTEyMTYzNg==", "bodyText": "Es writeTypedList amigo!", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r455121636", "createdAt": "2020-07-15T15:00:55Z", "author": {"login": "guchito9"}, "path": "px-services/src/main/java/com/mercadopago/android/px/model/DiscountOverview.kt", "diffHunk": "@@ -0,0 +1,31 @@\n+package com.mercadopago.android.px.model\n+\n+import android.os.Parcel\n+import android.os.Parcelable\n+import com.mercadopago.android.px.internal.util.KParcelable\n+import com.mercadopago.android.px.model.internal.Text\n+\n+data class DiscountOverview(val description: List<Text>,\n+                            val amount: Text,\n+                            val brief: List<Text>?,\n+                            val url: String?): KParcelable {\n+    constructor(parcel: Parcel) : this(\n+            parcel.createTypedArrayList(Text.CREATOR)!!,\n+            parcel.readParcelable(Text::class.java.classLoader)!!,\n+            parcel.createTypedArrayList(Text.CREATOR),\n+            parcel.readString())\n+\n+    override fun writeToParcel(parcel: Parcel, flags: Int) {\n+        parcel.writeList(description)", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "originalPosition": 19}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTEyMTg5MA==", "bodyText": "jajaj", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r455121890", "createdAt": "2020-07-15T15:01:16Z", "author": {"login": "jorGonzalez291292"}, "path": "px-services/src/main/java/com/mercadopago/android/px/model/DiscountOverview.kt", "diffHunk": "@@ -0,0 +1,31 @@\n+package com.mercadopago.android.px.model\n+\n+import android.os.Parcel\n+import android.os.Parcelable\n+import com.mercadopago.android.px.internal.util.KParcelable\n+import com.mercadopago.android.px.model.internal.Text\n+\n+data class DiscountOverview(val description: List<Text>,\n+                            val amount: Text,\n+                            val brief: List<Text>?,\n+                            val url: String?): KParcelable {\n+    constructor(parcel: Parcel) : this(\n+            parcel.createTypedArrayList(Text.CREATOR)!!,\n+            parcel.readParcelable(Text::class.java.classLoader)!!,\n+            parcel.createTypedArrayList(Text.CREATOR),\n+            parcel.readString())\n+\n+    override fun writeToParcel(parcel: Parcel, flags: Int) {\n+        parcel.writeList(description)", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1NTEyMTYzNg=="}, "originalCommit": {"oid": "7fcfe80e1cc4cd5bbff46e5e57edcacbdfbbf476"}, "originalPosition": 19}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1ODc3NTM2OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/util/ViewUtils.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxMzo1MzozNFrOG05E8w==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMjoxMTo0NlrOG1fliQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODExNDI5MQ==", "bodyText": "Qued\u00f3 medio raro este m\u00e9todo, que significa que sea screen size?", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r458114291", "createdAt": "2020-07-21T13:53:34Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/util/ViewUtils.java", "diffHunk": "@@ -352,4 +411,11 @@ public static void setStatusBarColor(@ColorInt final int color, @NonNull final W\n             window.setStatusBarColor(getDarkPrimaryColor(color));\n         }\n     }\n+\n+    public static boolean isScreenSize(@NonNull final Context context, final int density) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4d7c9cdf6b4b08316d1feed757fd67f5bbc19f0"}, "originalPosition": 174}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc0NTIyNQ==", "bodyText": "Lo cambio", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r458745225", "createdAt": "2020-07-22T12:11:46Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/util/ViewUtils.java", "diffHunk": "@@ -352,4 +411,11 @@ public static void setStatusBarColor(@ColorInt final int color, @NonNull final W\n             window.setStatusBarColor(getDarkPrimaryColor(color));\n         }\n     }\n+\n+    public static boolean isScreenSize(@NonNull final Context context, final int density) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODExNDI5MQ=="}, "originalCommit": {"oid": "f4d7c9cdf6b4b08316d1feed757fd67f5bbc19f0"}, "originalPosition": 174}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1ODgxNjg3OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/AmountDescriptorView.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNDowMjowM1rOG05emg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMlQxMjoxMTo1OVrOG1fl-Q==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODEyMDg1OA==", "bodyText": "No me convence del todo como qued\u00f3 esto, creo que la vista deberia abstraerse de si est\u00e1 dibujando un descuento, pensemos que el dia de ma\u00f1ana quieren que venga un cargo con el mismo formato", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r458120858", "createdAt": "2020-07-21T14:02:03Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/AmountDescriptorView.java", "diffHunk": "@@ -57,37 +63,44 @@ public AmountDescriptorView(final Context context, @Nullable final AttributeSet\n \n     public interface OnClickListener {\n         void onDiscountAmountDescriptorClicked(@NonNull final DiscountConfigurationModel discountModel);\n+\n         void onChargesAmountDescriptorClicked(@NonNull final DynamicDialogCreator dynamicDialogCreator);\n     }\n \n     private void init() {\n         inflate(getContext(), R.layout.px_view_amount_descriptor, this);\n-        leftContainer = findViewById(R.id.title);\n-        leftLabel = leftContainer.findViewById(R.id.label);\n-        rightLabel = findViewById(R.id.amount);\n-        imageView = findViewById(R.id.icon_descriptor_amount);\n+        descriptorContainer = findViewById(R.id.descriptor_container);\n+        descriptor = descriptorContainer.findViewById(R.id.descriptor);\n+        brief = descriptorContainer.findViewById(R.id.brief);\n+        amount = findViewById(R.id.amount);\n+        iconDescriptor = findViewById(R.id.icon_descriptor);\n     }\n \n     public void animateEnter() {\n         final Animation slideLeft = AnimationUtils.loadAnimation(getContext(), R.anim.px_summary_slide_left_in);\n         final Animation slideRight = AnimationUtils.loadAnimation(getContext(), R.anim.px_summary_slide_right_in);\n-        leftContainer.startAnimation(slideRight);\n-        rightLabel.startAnimation(slideLeft);\n+        descriptorContainer.startAnimation(slideRight);\n+        amount.startAnimation(slideLeft);\n     }\n \n     public void update(@NonNull final AmountDescriptorView.Model model) {\n-        updateTextColor(model.detailColor);\n-        updateLeftLabel(model);\n-        updateRightLabel(model);\n-        updateDrawable(model.detailDrawable, model.detailDrawableColor);\n+        if (model.discountOverview != null) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4d7c9cdf6b4b08316d1feed757fd67f5bbc19f0"}, "originalPosition": 84}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODc0NTMzNw==", "bodyText": "Lo cambio", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r458745337", "createdAt": "2020-07-22T12:11:59Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/AmountDescriptorView.java", "diffHunk": "@@ -57,37 +63,44 @@ public AmountDescriptorView(final Context context, @Nullable final AttributeSet\n \n     public interface OnClickListener {\n         void onDiscountAmountDescriptorClicked(@NonNull final DiscountConfigurationModel discountModel);\n+\n         void onChargesAmountDescriptorClicked(@NonNull final DynamicDialogCreator dynamicDialogCreator);\n     }\n \n     private void init() {\n         inflate(getContext(), R.layout.px_view_amount_descriptor, this);\n-        leftContainer = findViewById(R.id.title);\n-        leftLabel = leftContainer.findViewById(R.id.label);\n-        rightLabel = findViewById(R.id.amount);\n-        imageView = findViewById(R.id.icon_descriptor_amount);\n+        descriptorContainer = findViewById(R.id.descriptor_container);\n+        descriptor = descriptorContainer.findViewById(R.id.descriptor);\n+        brief = descriptorContainer.findViewById(R.id.brief);\n+        amount = findViewById(R.id.amount);\n+        iconDescriptor = findViewById(R.id.icon_descriptor);\n     }\n \n     public void animateEnter() {\n         final Animation slideLeft = AnimationUtils.loadAnimation(getContext(), R.anim.px_summary_slide_left_in);\n         final Animation slideRight = AnimationUtils.loadAnimation(getContext(), R.anim.px_summary_slide_right_in);\n-        leftContainer.startAnimation(slideRight);\n-        rightLabel.startAnimation(slideLeft);\n+        descriptorContainer.startAnimation(slideRight);\n+        amount.startAnimation(slideLeft);\n     }\n \n     public void update(@NonNull final AmountDescriptorView.Model model) {\n-        updateTextColor(model.detailColor);\n-        updateLeftLabel(model);\n-        updateRightLabel(model);\n-        updateDrawable(model.detailDrawable, model.detailDrawableColor);\n+        if (model.discountOverview != null) {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODEyMDg1OA=="}, "originalCommit": {"oid": "f4d7c9cdf6b4b08316d1feed757fd67f5bbc19f0"}, "originalPosition": 84}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1ODg1NjQxOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/SummaryDetailDescriptorFactory.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNDoxMDo0OFrOG053uw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNDoxMDo0OFrOG053uw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODEyNzI5MQ==", "bodyText": "Que pasa con este dato si la procesadora no admite split? puede que venga true y no haya efectivamente un split? o viceversa, que la configuracion acepte split pero que no sea necesario?", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r458127291", "createdAt": "2020-07-21T14:10:48Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/view/SummaryDetailDescriptorFactory.java", "diffHunk": "@@ -50,24 +51,18 @@ public SummaryDetailDescriptorFactory(@NonNull final AmountDescriptorView.OnClic\n         if (chargeRule != null && !ChargeRuleHelper.isHighlightCharge(chargeRule)) {\n             addChargesRow(list);\n         }\n-        addTotalRow(list);\n+        addPurchaseRow(list);\n \n         return list;\n     }\n \n     private void addDiscountRow(@NonNull final Collection<AmountDescriptorView.Model> list) {\n-        final Discount discount = discountModel.getDiscount();\n-        if (!discountModel.isAvailable()) {\n-            final AmountDescriptorView.Model model = discountModel.getReason() != null ?\n-                new AmountDescriptorView.Model(discountModel.getReason().getSummary(), new SummaryViewDefaultColor()) :\n-                new AmountDescriptorView.Model(new SoldOutDiscountLocalized(), new SummaryViewDefaultColor());\n-            list.add(model\n-                .setDetailDrawable(new SummaryViewDetailDrawable(), new SummaryViewDefaultColor())\n-                .setListener(v -> listener.onDiscountAmountDescriptorClicked(discountModel)));\n-        } else if (discount != null) {\n-            list.add(new AmountDescriptorView.Model(new DiscountDescriptionLocalized(discount),\n-                new DiscountAmountLocalized(discount.getCouponAmount(), currency), new DiscountDetailColor())\n-                .setDetailDrawable(new SummaryViewDetailDrawable(), new DiscountDetailColor())\n+        final DiscountOverview discountOverview = discountModel.getDiscountOverview();\n+        final IDetailColor detailColor = new DiscountDetailColor();\n+        final boolean hasSplit = amountConfiguration != null && amountConfiguration.allowSplit();", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4d7c9cdf6b4b08316d1feed757fd67f5bbc19f0"}, "originalPosition": 67}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1OTYyMTY3OnYy", "diffSide": "LEFT", "path": "px-testlib/src/main/java/com/mercadopago/android/px/testcheckout/assertions/DefaultValidator.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNzowMDoyOVrOG1BZGQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNzowMDoyOVrOG1BZGQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODI1MDUyMQ==", "bodyText": "No podiamos referenciar otra vista para que siga validando en los tests de descuento?", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r458250521", "createdAt": "2020-07-21T17:00:29Z", "author": {"login": "cgaggino"}, "path": "px-testlib/src/main/java/com/mercadopago/android/px/testcheckout/assertions/DefaultValidator.java", "diffHunk": "@@ -172,12 +172,7 @@ public void validate(@NonNull final ReviewPaymentMethodsPage reviewPaymentMethod\n \n     @Override\n     public void validate(@NonNull final DiscountDetailPage discountDetailPage) {\n-        final Matcher<View> discountDetailLine = withId(com.mercadopago.android.px.R.id.px_discount_detail_line);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4d7c9cdf6b4b08316d1feed757fd67f5bbc19f0"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjg1OTYyMzUzOnYy", "diffSide": "LEFT", "path": "px-testlib/src/main/java/com/mercadopago/android/px/testcheckout/assertions/UsedUpDiscountValidator.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNzowMDo1N1rOG1BaUA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNy0yMVQxNzowMDo1N1rOG1BaUA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQ1ODI1MDgzMg==", "bodyText": "Idem", "url": "https://github.com/mercadopago/px-android/pull/2228#discussion_r458250832", "createdAt": "2020-07-21T17:00:57Z", "author": {"login": "cgaggino"}, "path": "px-testlib/src/main/java/com/mercadopago/android/px/testcheckout/assertions/UsedUpDiscountValidator.java", "diffHunk": "@@ -21,12 +21,7 @@\n public class UsedUpDiscountValidator extends DefaultValidator {\n     @Override\n     public void validate(@NonNull final DiscountDetailPage discountDetailPage) {\n-        final Matcher<View> discountDetailLine = withId(com.mercadopago.android.px.R.id.px_discount_detail_line);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "f4d7c9cdf6b4b08316d1feed757fd67f5bbc19f0"}, "originalPosition": 4}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1862, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}