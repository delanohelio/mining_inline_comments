{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NTA0MTUyMzg1", "number": 2355, "title": "[Feature] Cvv Activity", "bodyText": "Se agrega SecurityCodeActivity para integradores sin fragment container.\nSe fixea pagar con otro medio en one tap usando un nuevo viewmodel para comunicarse entre fragments.", "createdAt": "2020-10-15T14:34:21Z", "url": "https://github.com/mercadopago/px-android/pull/2355", "merged": true, "mergeCommit": {"oid": "d5ec98efa3beb2b9ab933d74b461c82faf328a1d"}, "closed": true, "closedAt": "2020-10-15T18:52:58Z", "author": {"login": "guchito9"}, "timelineItems": {"totalCount": 8, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpPPAAABdSyz3zgFqTUwOTQ1NDA3Ng==", "endCursor": "Y3Vyc29yOnYyOpPPAAABdS2a66gFqTUwOTY3NTYyNw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5NDU0MDc2", "url": "https://github.com/mercadopago/px-android/pull/2355#pullrequestreview-509454076", "createdAt": "2020-10-15T14:39:47Z", "commit": {"oid": "69f1dafa15d6200294b0729fb7a2553d9d2cbad0"}, "state": "COMMENTED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNDozOTo0N1rOHiLPKg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNDozOTo0N1rOHiLPKg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU5NzczOA==", "bodyText": "Todo este c\u00f3digo est\u00e1 rancio y se tiene que poder mejorar", "url": "https://github.com/mercadopago/px-android/pull/2355#discussion_r505597738", "createdAt": "2020-10-15T14:39:47Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/pay_button/PayButtonFragment.kt", "diffHunk": "@@ -94,9 +106,21 @@ class PayButtonFragment : Fragment(), PayButton.View, SecurityValidationHandler\n             is UIProgress.ButtonLoadingCanceled -> cancelLoading()\n             is UIResult.VisualProcessorResult -> PaymentProcessorActivity.start(this, REQ_CODE_PAYMENT_PROCESSOR)\n             is UIError -> resolveError(stateUI)\n-            is UIResult.PaymentResult -> PaymentResultActivity.start(this, REQ_CODE_CONGRATS, stateUI.model)\n-            is UIResult.NoCongratsResult -> DummyResultActivity.start(this, REQ_CODE_CONGRATS, stateUI.model)\n-            is UIResult.CongratsPaymentModel -> PaymentCongrats.show(stateUI.model, activity, REQ_CODE_CONGRATS)\n+            is UIResult.PaymentResult -> if (activity is SecurityCodeActivity) {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69f1dafa15d6200294b0729fb7a2553d9d2cbad0"}, "originalPosition": 76}]}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "69f1dafa15d6200294b0729fb7a2553d9d2cbad0", "author": {"user": {"login": "guchito9", "name": "Guche Mantuano"}}, "url": "https://github.com/mercadopago/px-android/commit/69f1dafa15d6200294b0729fb7a2553d9d2cbad0", "committedDate": "2020-10-15T14:32:29Z", "message": "Added new SecurityCodeActivity for pay button integrations without fragment container"}, "afterCommit": {"oid": "6b79c20f49cd206705b2e4525410c22f7d680e7c", "author": {"user": {"login": "guchito9", "name": "Guche Mantuano"}}, "url": "https://github.com/mercadopago/px-android/commit/6b79c20f49cd206705b2e4525410c22f7d680e7c", "committedDate": "2020-10-15T14:45:14Z", "message": "Added new SecurityCodeActivity for pay button integrations without fragment container"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "6b79c20f49cd206705b2e4525410c22f7d680e7c", "author": {"user": {"login": "guchito9", "name": "Guche Mantuano"}}, "url": "https://github.com/mercadopago/px-android/commit/6b79c20f49cd206705b2e4525410c22f7d680e7c", "committedDate": "2020-10-15T14:45:14Z", "message": "Added new SecurityCodeActivity for pay button integrations without fragment container"}, "afterCommit": {"oid": "4b542b09aa0ba44d63176b3dc5e2a6db5d76af4d", "author": {"user": {"login": "guchito9", "name": "Guche Mantuano"}}, "url": "https://github.com/mercadopago/px-android/commit/4b542b09aa0ba44d63176b3dc5e2a6db5d76af4d", "committedDate": "2020-10-15T17:37:39Z", "message": "Added new SecurityCodeActivity for pay button integrations without fragment container"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4b542b09aa0ba44d63176b3dc5e2a6db5d76af4d", "author": {"user": {"login": "guchito9", "name": "Guche Mantuano"}}, "url": "https://github.com/mercadopago/px-android/commit/4b542b09aa0ba44d63176b3dc5e2a6db5d76af4d", "committedDate": "2020-10-15T17:37:39Z", "message": "Added new SecurityCodeActivity for pay button integrations without fragment container"}, "afterCommit": {"oid": "4f76eec17f5b6cde8a261bae24217631cc24a39c", "author": {"user": {"login": "guchito9", "name": "Guche Mantuano"}}, "url": "https://github.com/mercadopago/px-android/commit/4f76eec17f5b6cde8a261bae24217631cc24a39c", "committedDate": "2020-10-15T17:42:12Z", "message": "Added new SecurityCodeActivity for pay button integrations without fragment container"}}, {"__typename": "PullRequestCommit", "commit": {"oid": "fac24165fe932181552a39354f0194e7c5d236e1", "author": {"user": {"login": "guchito9", "name": "Guche Mantuano"}}, "url": "https://github.com/mercadopago/px-android/commit/fac24165fe932181552a39354f0194e7c5d236e1", "committedDate": "2020-10-15T17:46:29Z", "message": "Added new SecurityCodeActivity for pay button integrations without fragment container"}}, {"__typename": "HeadRefForcePushedEvent", "beforeCommit": {"oid": "4f76eec17f5b6cde8a261bae24217631cc24a39c", "author": {"user": {"login": "guchito9", "name": "Guche Mantuano"}}, "url": "https://github.com/mercadopago/px-android/commit/4f76eec17f5b6cde8a261bae24217631cc24a39c", "committedDate": "2020-10-15T17:42:12Z", "message": "Added new SecurityCodeActivity for pay button integrations without fragment container"}, "afterCommit": {"oid": "fac24165fe932181552a39354f0194e7c5d236e1", "author": {"user": {"login": "guchito9", "name": "Guche Mantuano"}}, "url": "https://github.com/mercadopago/px-android/commit/fac24165fe932181552a39354f0194e7c5d236e1", "committedDate": "2020-10-15T17:46:29Z", "message": "Added new SecurityCodeActivity for pay button integrations without fragment container"}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5NDU3MDc5", "url": "https://github.com/mercadopago/px-android/pull/2355#pullrequestreview-509457079", "createdAt": "2020-10-15T14:42:36Z", "commit": {"oid": "69f1dafa15d6200294b0729fb7a2553d9d2cbad0"}, "state": "APPROVED", "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNDo0MjozNlrOHiLXsA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0xMC0xNVQxNDo0MjozNlrOHiLXsA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDUwNTU5OTkyMA==", "bodyText": "podemos agregar el clear del viewmodel ac\u00e1.", "url": "https://github.com/mercadopago/px-android/pull/2355#discussion_r505599920", "createdAt": "2020-10-15T14:42:36Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/base/BaseFragment.kt", "diffHunk": "@@ -0,0 +1,21 @@\n+package com.mercadopago.android.px.internal.base\n+\n+import android.content.Context\n+import androidx.fragment.app.Fragment\n+\n+abstract class BaseFragment : Fragment() {\n+\n+    protected var fragmentCommunicationViewModel: FragmentCommunicationViewModel? = null\n+\n+    override fun onAttach(context: Context) {\n+        super.onAttach(context)\n+        if (context is PXActivity<*>) {\n+            fragmentCommunicationViewModel = context.fragmentCommunicationViewModel\n+        }\n+    }\n+\n+    override fun onDetach() {\n+        super.onDetach()\n+        fragmentCommunicationViewModel = null", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "69f1dafa15d6200294b0729fb7a2553d9d2cbad0"}, "originalPosition": 19}]}}, {"__typename": "PullRequestReview", "id": "MDE3OlB1bGxSZXF1ZXN0UmV2aWV3NTA5Njc1NjI3", "url": "https://github.com/mercadopago/px-android/pull/2355#pullrequestreview-509675627", "createdAt": "2020-10-15T18:52:09Z", "commit": {"oid": "fac24165fe932181552a39354f0194e7c5d236e1"}, "state": "APPROVED", "comments": {"totalCount": 0, "pageInfo": {"startCursor": null, "endCursor": null, "hasNextPage": false, "hasPreviousPage": false}, "nodes": []}}]}}}, "rateLimit": {"limit": 5000, "remaining": 3684, "cost": 1, "resetAt": "2021-11-01T15:33:45Z"}}}