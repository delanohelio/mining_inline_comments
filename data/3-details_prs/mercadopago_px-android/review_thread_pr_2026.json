{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0MzY3MDQyMzc2", "number": 2026, "reviewThreads": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQyMjozNjoyMFrODaoRcQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQyMjozNzoxOFrODaoSJw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5MjQ5MzkzOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/datasource/TokenizeService.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQyMjozNjoyMFrOFhsQ-A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQyMjozNjoyMFrOFhsQ-A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDg3MjU2OA==", "bodyText": "Esto se mueve afuera del if ya que hubo casos recientemente donde agregan nuevos posibles errores en la api de tokenizacion y no podiamos handlear bien esos casos por el if con c\u00f3digos hardcodeados", "url": "https://github.com/mercadopago/px-android/pull/2026#discussion_r370872568", "createdAt": "2020-01-24T22:36:20Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/datasource/TokenizeService.java", "diffHunk": "@@ -62,10 +62,11 @@ public void success(final Token token) {\n \n             @Override\n             public void failure(final ApiException apiException) {\n-                //TODO move to esc manager  / Token repo\n+                //TODO move to esc manager / Token repo\n+                paymentSettingRepository.configure((Token) null);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9616b15e161313ad7fcc0b59d0b9bed7f928c255"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjI5MjQ5NTc1OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/cardvault/CardVaultPresenter.java", "isResolved": false, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQyMjozNzoxOFrOFhsSHQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wMS0yNFQyMjozNzoxOFrOFhsSHQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDM3MDg3Mjg2MQ==", "bodyText": "Idem al anterior, se mueve afuera del if ya que hubo casos recientemente donde agregan nuevos posibles errores en la api de tokenizacion y no podiamos handlear bien esos casos por el if con c\u00f3digos hardcodeados. Podria quedar en un retry infinito. Por lo mismo se borra el flujo de recover de este caso", "url": "https://github.com/mercadopago/px-android/pull/2026#discussion_r370872861", "createdAt": "2020-01-24T22:37:18Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/cardvault/CardVaultPresenter.java", "diffHunk": "@@ -271,28 +257,20 @@ public void onSuccess(final Token token) {\n             @Override\n             public void onFailure(final MercadoPagoError error) {\n                 if (error.isApiException() && EscUtil.isInvalidEscForApiException(error.getApiException())) {\n+                    // Just limit the tracking to esc api exception\n                     EscFrictionEventTracker.create(escCardToken.getCardId(), esc, error.getApiException()).track();\n-                    escManagerBehaviour.deleteESCWith(escCardToken.getCardId());\n-                    esc = null;\n-                    //Start CVV screen if fail\n-                    if (isViewAttached()) {\n-                        getView().startSecurityCodeActivity(Reason.SAVED_CARD);\n-                    }\n-                } else {\n-                    //Retry with error screen\n-                    recoverCreateESCToken(error);\n+                }\n+\n+                escManagerBehaviour.deleteESCWith(escCardToken.getCardId());", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "9616b15e161313ad7fcc0b59d0b9bed7f928c255"}, "originalPosition": 59}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1625, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}