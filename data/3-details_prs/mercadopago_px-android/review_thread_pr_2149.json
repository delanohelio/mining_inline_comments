{"data": {"repository": {"pullRequest": {"id": "MDExOlB1bGxSZXF1ZXN0NDE4MDQzMDUw", "number": 2149, "reviewThreads": {"totalCount": 9, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNDo1MjoxNVrOD8g8Lw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzoyMzoxNVrOD8k-ag==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NzgwODQ3OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/SecurityCodeActivity.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNDo1MjoxNVrOGVgFzg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNDo1MzowOVrOGVgIyw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE5OTA1NA==", "bodyText": "podemos encapsular la l\u00f3gica del if else en m\u00e9todos para que no quede tan grande y este mas contextualizado, no?\ntipo\nif(showCvv){\nshowCvv()\n} else {\nshowCustomView()\n}", "url": "https://github.com/mercadopago/px-android/pull/2149#discussion_r425199054", "createdAt": "2020-05-14T14:52:15Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/SecurityCodeActivity.java", "diffHunk": "@@ -228,30 +232,43 @@ public void stopLoadingView() {\n     }\n \n     private void loadViews() {\n-        mCardView = new CardView(this);\n-        final String lastFourDigits = presenter.getCardInfo().getLastFourDigits();\n-        mCardView.setSize(CardRepresentationModes.BIG_SIZE);\n-        mCardView.inflateInParent(mCardContainer, true);\n-        mCardView.initializeControls();\n-        mCardView.setPaymentMethod(presenter.getPaymentMethod());\n-        mCardView.setSecurityCodeLength(presenter.getSecurityCodeLength());\n-        mCardView.setSecurityCodeLocation(presenter.getSecurityCodeLocation());\n-        mCardView.setCardNumberLength(presenter.getCardNumberLength());\n-        mCardView.setLastFourDigits(lastFourDigits);\n-        mCardView.draw(CardView.CARD_SIDE_FRONT);\n-        mCardView.drawFullCard();\n-        mCardView.drawEditingSecurityCode(\"\");\n-        presenter.setSecurityCodeCardType();\n \n-        executeIfAccessibilityTalkBackEnable(this, () -> {\n-            mCardContainer.setContentDescription(new SpannableStringBuilder()\n-                .append(getString(R.string.px_card_number_label))\n-                .append(TextUtil.SPACE)\n-                .append(getString(R.string.px_ending_in))\n-                .append(TextUtil.SPACE)\n-                .append(lastFourDigits));\n-            return null;\n-        });\n+        if (!presenter.showCvvInfo()) {\n+            mCardView = new CardView(this);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "480082fb07f46028b8178fdf3274f4cd0edfcb8c"}, "originalPosition": 58}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE5OTgxOQ==", "bodyText": "Dale!", "url": "https://github.com/mercadopago/px-android/pull/2149#discussion_r425199819", "createdAt": "2020-05-14T14:53:09Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/SecurityCodeActivity.java", "diffHunk": "@@ -228,30 +232,43 @@ public void stopLoadingView() {\n     }\n \n     private void loadViews() {\n-        mCardView = new CardView(this);\n-        final String lastFourDigits = presenter.getCardInfo().getLastFourDigits();\n-        mCardView.setSize(CardRepresentationModes.BIG_SIZE);\n-        mCardView.inflateInParent(mCardContainer, true);\n-        mCardView.initializeControls();\n-        mCardView.setPaymentMethod(presenter.getPaymentMethod());\n-        mCardView.setSecurityCodeLength(presenter.getSecurityCodeLength());\n-        mCardView.setSecurityCodeLocation(presenter.getSecurityCodeLocation());\n-        mCardView.setCardNumberLength(presenter.getCardNumberLength());\n-        mCardView.setLastFourDigits(lastFourDigits);\n-        mCardView.draw(CardView.CARD_SIDE_FRONT);\n-        mCardView.drawFullCard();\n-        mCardView.drawEditingSecurityCode(\"\");\n-        presenter.setSecurityCodeCardType();\n \n-        executeIfAccessibilityTalkBackEnable(this, () -> {\n-            mCardContainer.setContentDescription(new SpannableStringBuilder()\n-                .append(getString(R.string.px_card_number_label))\n-                .append(TextUtil.SPACE)\n-                .append(getString(R.string.px_ending_in))\n-                .append(TextUtil.SPACE)\n-                .append(lastFourDigits));\n-            return null;\n-        });\n+        if (!presenter.showCvvInfo()) {\n+            mCardView = new CardView(this);", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTE5OTA1NA=="}, "originalCommit": {"oid": "480082fb07f46028b8178fdf3274f4cd0edfcb8c"}, "originalPosition": 58}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0NzgyNDkzOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/SecurityCodePresenter.java", "isResolved": true, "comments": {"totalCount": 2, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNDo1NTozNVrOGVgQXg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNDo1ODo1OVrOGVgbMQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTIwMTc1OA==", "bodyText": "esto parece una acci\u00f3n pero es una validaci\u00f3n, seria mas onda shouldShowCvvInfo", "url": "https://github.com/mercadopago/px-android/pull/2149#discussion_r425201758", "createdAt": "2020-05-14T14:55:35Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/SecurityCodePresenter.java", "diffHunk": "@@ -100,6 +100,10 @@ public PaymentMethod getPaymentMethod() {\n         return paymentMethod;\n     }\n \n+    public boolean showCvvInfo() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "480082fb07f46028b8178fdf3274f4cd0edfcb8c"}, "originalPosition": 4}, {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTIwNDUyOQ==", "bodyText": "Tenes raz\u00f3n", "url": "https://github.com/mercadopago/px-android/pull/2149#discussion_r425204529", "createdAt": "2020-05-14T14:58:59Z", "author": {"login": "jorGonzalez291292"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/SecurityCodePresenter.java", "diffHunk": "@@ -100,6 +100,10 @@ public PaymentMethod getPaymentMethod() {\n         return paymentMethod;\n     }\n \n+    public boolean showCvvInfo() {", "state": "SUBMITTED", "replyTo": {"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTIwMTc1OA=="}, "originalCommit": {"oid": "480082fb07f46028b8178fdf3274f4cd0edfcb8c"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0Nzg4MzEwOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/slider/PaymentMethodFragment.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNTowODowMFrOGVg1HQ==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNTowODowMFrOGVg1HQ==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTIxMTE2NQ==", "bodyText": "por que hacemos el gone del shadow siempre?", "url": "https://github.com/mercadopago/px-android/pull/2149#discussion_r425211165", "createdAt": "2020-05-14T15:08:00Z", "author": {"login": "cgaggino"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/express/slider/PaymentMethodFragment.java", "diffHunk": "@@ -78,8 +78,8 @@ public void initializeViews(@NonNull final View view) {\n             ViewUtils.setBackgroundColor(view.findViewById(R.id.bottom_description_background),\n                 model.getBottomDescription().getBackgroundColor());\n             ViewUtils.loadOrHide(View.INVISIBLE, model.getBottomDescription(), bottomDescription);\n-            view.findViewById(R.id.bottom_description_shadow).setVisibility(View.GONE);\n         }\n+        view.findViewById(R.id.bottom_description_shadow).setVisibility(View.GONE);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "480082fb07f46028b8178fdf3274f4cd0edfcb8c"}, "originalPosition": 6}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0Nzk3MjkyOnYy", "diffSide": "RIGHT", "path": "px-services/src/main/java/com/mercadopago/android/px/model/Card.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNToyNzowMlrOGVhteg==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNToyNzowMlrOGVhteg==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTIyNTU5NA==", "bodyText": "esto no iria si usamos directamente el payment method dentro de la pantalla de security code", "url": "https://github.com/mercadopago/px-android/pull/2149#discussion_r425225594", "createdAt": "2020-05-14T15:27:02Z", "author": {"login": "cgaggino"}, "path": "px-services/src/main/java/com/mercadopago/android/px/model/Card.java", "diffHunk": "@@ -23,6 +23,7 @@\n     private String lastFourDigits;\n     private PaymentMethod paymentMethod;\n     private SecurityCode securityCode;\n+    private CvvInfo cvvInfo;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "480082fb07f46028b8178fdf3274f4cd0edfcb8c"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODQ1MzIyOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/SecurityCodeActivity.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzoxODozNFrOGVmgdw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzoxODozNFrOGVmgdw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMwNDE4Mw==", "bodyText": "Us\u00e1 el MPTextView", "url": "https://github.com/mercadopago/px-android/pull/2149#discussion_r425304183", "createdAt": "2020-05-14T17:18:34Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/java/com/mercadopago/android/px/internal/features/SecurityCodeActivity.java", "diffHunk": "@@ -254,6 +266,17 @@ private void loadViews() {\n         });\n     }\n \n+    private void showCustomView() {\n+        final CvvInfo cvvInfo = presenter.getCvvInfo();\n+        final View view = LayoutInflater.from(this).inflate(R.layout.px_cvv_info, mCardContainer, true);\n+\n+        final AppCompatTextView title = view.findViewById(R.id.title);\n+\n+        FontHelper.setFont(title, PxFont.SEMI_BOLD);", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d194b814d26dc0c98043f414928c69643115aa08"}, "originalPosition": 63}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODQ2MzMzOnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/res/layout/px_cvv_info.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzoyMToyN1rOGVmm_A==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzoyMToyN1rOGVmm_A==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMwNTg1Mg==", "bodyText": "Us\u00e1 MPTextview", "url": "https://github.com/mercadopago/px-android/pull/2149#discussion_r425305852", "createdAt": "2020-05-14T17:21:27Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/res/layout/px_cvv_info.xml", "diffHunk": "@@ -0,0 +1,65 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\"\n+    android:layout_width=\"match_parent\"\n+    android:layout_height=\"wrap_content\"\n+    tools:background=\"@color/px_blue_status_bar\">\n+\n+    <android.support.constraint.Guideline\n+        android:id=\"@+id/guidelineStart\"\n+        android:layout_width=\"wrap_content\"\n+        android:layout_height=\"wrap_content\"\n+        android:orientation=\"vertical\"\n+        app:layout_constraintGuide_percent=\"0.10\" />\n+\n+    <android.support.constraint.Guideline\n+        android:id=\"@+id/guidelineEnd\"\n+        android:layout_width=\"wrap_content\"\n+        android:layout_height=\"wrap_content\"\n+        android:orientation=\"vertical\"\n+        app:layout_constraintGuide_percent=\"0.90\" />\n+\n+    <android.support.v7.widget.AppCompatTextView", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d194b814d26dc0c98043f414928c69643115aa08"}, "originalPosition": 23}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODQ2Mzk1OnYy", "diffSide": "RIGHT", "path": "px-checkout/src/main/res/layout/px_cvv_info.xml", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzoyMTozOVrOGVmnYw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzoyMTozOVrOGVmnYw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMwNTk1NQ==", "bodyText": "Hay que usar MPTextview por favor", "url": "https://github.com/mercadopago/px-android/pull/2149#discussion_r425305955", "createdAt": "2020-05-14T17:21:39Z", "author": {"login": "guchito9"}, "path": "px-checkout/src/main/res/layout/px_cvv_info.xml", "diffHunk": "@@ -0,0 +1,65 @@\n+<?xml version=\"1.0\" encoding=\"utf-8\"?>\n+<android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n+    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n+    xmlns:tools=\"http://schemas.android.com/tools\"\n+    android:layout_width=\"match_parent\"\n+    android:layout_height=\"wrap_content\"\n+    tools:background=\"@color/px_blue_status_bar\">\n+\n+    <android.support.constraint.Guideline\n+        android:id=\"@+id/guidelineStart\"\n+        android:layout_width=\"wrap_content\"\n+        android:layout_height=\"wrap_content\"\n+        android:orientation=\"vertical\"\n+        app:layout_constraintGuide_percent=\"0.10\" />\n+\n+    <android.support.constraint.Guideline\n+        android:id=\"@+id/guidelineEnd\"\n+        android:layout_width=\"wrap_content\"\n+        android:layout_height=\"wrap_content\"\n+        android:orientation=\"vertical\"\n+        app:layout_constraintGuide_percent=\"0.90\" />\n+\n+    <android.support.v7.widget.AppCompatTextView\n+        android:id=\"@id/title\"\n+        android:layout_width=\"0dp\"\n+        android:layout_height=\"wrap_content\"\n+        android:textColor=\"@color/px_white\"\n+        android:textSize=\"@dimen/px_xxl_text\"\n+        android:layout_marginBottom=\"@dimen/ui_1_5m\"\n+        android:lineSpacingExtra=\"6sp\"\n+        android:gravity=\"center_horizontal\"\n+        app:layout_constraintVertical_chainStyle=\"packed\"\n+        app:layout_constraintBottom_toTopOf=\"@id/message\"\n+        app:layout_constraintEnd_toEndOf=\"parent\"\n+        app:layout_constraintEnd_toStartOf=\"@id/guidelineEnd\"\n+        app:layout_constraintHorizontal_bias=\"0.5\"\n+        app:layout_constraintStart_toEndOf=\"@id/guidelineStart\"\n+        app:layout_constraintTop_toTopOf=\"parent\"\n+        tools:text=\"Ingresa el c\u00f3digo de seguridad din\u00e1mico\" />\n+\n+    <android.support.v7.widget.AppCompatTextView", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d194b814d26dc0c98043f414928c69643115aa08"}, "originalPosition": 41}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODQ2NzEzOnYy", "diffSide": "RIGHT", "path": "px-services/src/main/java/com/mercadopago/android/px/model/PaymentMethodSearch.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzoyMjozNlrOGVmphw==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzoyMjozNlrOGVmphw==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMwNjUwMw==", "bodyText": "Esto parece estar al pedo", "url": "https://github.com/mercadopago/px-android/pull/2149#discussion_r425306503", "createdAt": "2020-05-14T17:22:36Z", "author": {"login": "guchito9"}, "path": "px-services/src/main/java/com/mercadopago/android/px/model/PaymentMethodSearch.java", "diffHunk": "@@ -3,6 +3,7 @@\n import android.support.annotation.NonNull;\n import android.support.annotation.Nullable;\n import com.google.gson.annotations.SerializedName;\n+import com.mercadopago.android.px.model.display_info.DisplayInfo;", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d194b814d26dc0c98043f414928c69643115aa08"}, "originalPosition": 4}]}}, {"id": "MDIzOlB1bGxSZXF1ZXN0UmV2aWV3VGhyZWFkMjY0ODQ2OTU0OnYy", "diffSide": "RIGHT", "path": "px-services/src/main/java/com/mercadopago/android/px/model/display_info/DisplayInfo.java", "isResolved": true, "comments": {"totalCount": 1, "pageInfo": {"startCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzoyMzoxNVrOGVmrFA==", "endCursor": "Y3Vyc29yOnYyOpK0MjAyMC0wNS0xNFQxNzoyMzoxNVrOGVmrFA==", "hasNextPage": false, "hasPreviousPage": false}, "nodes": [{"id": "MDI0OlB1bGxSZXF1ZXN0UmV2aWV3Q29tbWVudDQyNTMwNjkwMA==", "bodyText": "Falta el @nullable del m\u00e9todo", "url": "https://github.com/mercadopago/px-android/pull/2149#discussion_r425306900", "createdAt": "2020-05-14T17:23:15Z", "author": {"login": "guchito9"}, "path": "px-services/src/main/java/com/mercadopago/android/px/model/display_info/DisplayInfo.java", "diffHunk": "@@ -23,18 +27,24 @@ public Text getDescription() {\n         return description;\n     }\n \n+    public CvvInfo getCvvInfo() {", "state": "SUBMITTED", "replyTo": null, "originalCommit": {"oid": "d194b814d26dc0c98043f414928c69643115aa08"}, "originalPosition": 22}]}}]}}}, "rateLimit": {"limit": 5000, "remaining": 1820, "cost": 1, "resetAt": "2021-11-13T12:10:21Z"}}}